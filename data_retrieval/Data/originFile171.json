{"items":[{"tags":["java","mongodb"],"answers":[{"comments":[{"owner":{"account_id":16854542,"reputation":101,"user_id":13050733,"display_name":"Jackson"},"score":0,"creation_date":1585204240,"post_id":60861955,"comment_id":107681018,"body_markdown":"I have already whitelisted my IP. But still it throws the same error.","body":"I have already whitelisted my IP. But still it throws the same error."},{"owner":{"account_id":14437512,"reputation":1697,"user_id":10429137,"display_name":"kedar sedai"},"score":0,"creation_date":1585204349,"post_id":60861955,"comment_id":107681053,"body_markdown":"Did you select `Java` Driver in `MongoDB` Atlas?","body":"Did you select <code>Java</code> Driver in <code>MongoDB</code> Atlas?"},{"owner":{"account_id":16854542,"reputation":101,"user_id":13050733,"display_name":"Jackson"},"score":0,"creation_date":1585204605,"post_id":60861955,"comment_id":107681116,"body_markdown":"In the home page where it shows all the clusters created, I navigated to Connect-&gt;Connect your application-&gt;java-&gt; and got the link. It showed a URI which I used as `MongoClients.create(&lt;link&gt;)` doing this it got connected, but for customising some settings I am using MongoClientSettings, it is not getting connected with it though","body":"In the home page where it shows all the clusters created, I navigated to Connect-&gt;Connect your application-&gt;java-&gt; and got the link. It showed a URI which I used as <code>MongoClients.create(&lt;link&gt;)</code> doing this it got connected, but for customising some settings I am using MongoClientSettings, it is not getting connected with it though"},{"owner":{"account_id":16854542,"reputation":101,"user_id":13050733,"display_name":"Jackson"},"score":0,"creation_date":1585204918,"post_id":60861955,"comment_id":107681199,"body_markdown":"Thank you. But actually I want to use MongoClientSettings for some customisation of connection settings like timeout settings etc.","body":"Thank you. But actually I want to use MongoClientSettings for some customisation of connection settings like timeout settings etc."},{"owner":{"account_id":14437512,"reputation":1697,"user_id":10429137,"display_name":"kedar sedai"},"score":0,"creation_date":1585205100,"post_id":60861955,"comment_id":107681256,"body_markdown":"Okay https://mongodb.github.io/mongo-java-driver/3.12/driver/tutorials/connect-to-mongodb/  you can have a look","body":"Okay <a href=\"https://mongodb.github.io/mongo-java-driver/3.12/driver/tutorials/connect-to-mongodb/\" rel=\"nofollow noreferrer\">mongodb.github.io/mongo-java-driver/3.12/driver/tutorials/&hellip;</a>  you can have a look"},{"owner":{"account_id":16854542,"reputation":101,"user_id":13050733,"display_name":"Jackson"},"score":0,"creation_date":1585205386,"post_id":60861955,"comment_id":107681330,"body_markdown":"Thank You.. I have a doubt.. what should I give as host should it be &quot;localhost&quot; or &quot;&lt;..&gt;.mongodb.net&quot;. If it is localhost how will I connect to a cluster that is not local?","body":"Thank You.. I have a doubt.. what should I give as host should it be &quot;localhost&quot; or &quot;&lt;..&gt;.mongodb.net&quot;. If it is localhost how will I connect to a cluster that is not local?"},{"owner":{"account_id":14437512,"reputation":1697,"user_id":10429137,"display_name":"kedar sedai"},"score":0,"creation_date":1585205873,"post_id":60861955,"comment_id":107681446,"body_markdown":"`localhost` is the default name available for the loopback IP address (127.0.0.1) and should always be defined. Your computer also has a unique `hostname` defined. You  can check in your `MongoDB` shell `getHostName()`","body":"<code>localhost</code> is the default name available for the loopback IP address (127.0.0.1) and should always be defined. Your computer also has a unique <code>hostname</code> defined. You  can check in your <code>MongoDB</code> shell <code>getHostName()</code>"},{"owner":{"account_id":16854542,"reputation":101,"user_id":13050733,"display_name":"Jackson"},"score":0,"creation_date":1585206030,"post_id":60861955,"comment_id":107681507,"body_markdown":"when I use getHostName() it returns as `MyPC.local`. If I connect to a remote cluster should I give `&lt;..&gt;.mongodb.net` as hostName parameter in MongoClient?","body":"when I use getHostName() it returns as <code>MyPC.local</code>. If I connect to a remote cluster should I give <code>&lt;..&gt;.mongodb.net</code> as hostName parameter in MongoClient?"},{"owner":{"account_id":14437512,"reputation":1697,"user_id":10429137,"display_name":"kedar sedai"},"score":0,"creation_date":1585206632,"post_id":60861955,"comment_id":107681680,"body_markdown":"For many applications, you need to have `MongoClient` instance for the `JVM`   \n`MongoClient mongoclient = new MongoClient(new ServerAddress(&quot;localhost&quot;));`\n` MongoClient mongoclient = new MongoClient(&quot;localhost&quot;, 27017);`\n`MongoClient mongoclient = new MongoClient(new ServerAddress(&quot;localhost&quot;), MongoClientOptions.builder().build());` you can use any of them  running on the default `port`","body":"For many applications, you need to have <code>MongoClient</code> instance for the <code>JVM</code>    <code>MongoClient mongoclient = new MongoClient(new ServerAddress(&quot;localhost&quot;));</code> ` MongoClient mongoclient = new MongoClient(&quot;localhost&quot;, 27017);` <code>MongoClient mongoclient = new MongoClient(new ServerAddress(&quot;localhost&quot;), MongoClientOptions.builder().build());</code> you can use any of them  running on the default <code>port</code>"},{"owner":{"account_id":16854542,"reputation":101,"user_id":13050733,"display_name":"Jackson"},"score":0,"creation_date":1585209370,"post_id":60861955,"comment_id":107682558,"body_markdown":"When I connect to MongoShell or use `MongoClient client = MongoClients.create(&lt;URI&gt;)` I use the connection string `mongodb+srv://dev-20937-liwy3.gcp.mongodb.net/test` does this mean this `dev-20937-liwy3.gcp.mongodb.net`  is my hostName? this should be used instead of localhost. is my question","body":"When I connect to MongoShell or use <code>MongoClient client = MongoClients.create(&lt;URI&gt;)</code> I use the connection string <code>mongodb+srv:&#47;&#47;dev-20937-liwy3.gcp.mongodb.net&#47;test</code> does this mean this <code>dev-20937-liwy3.gcp.mongodb.net</code>  is my hostName? this should be used instead of localhost. is my question"},{"owner":{"account_id":14437512,"reputation":1697,"user_id":10429137,"display_name":"kedar sedai"},"score":0,"creation_date":1585210059,"post_id":60861955,"comment_id":107682845,"body_markdown":"If you have installed `MongoDB` on your computer then `MongoClient mongo client = new MongoClient(&quot;localhost&quot;, 27017);`  this will work. But you are trying for connection to `MongoDB Atlas` so, `MongoClientURI uri = new MongoClientURI(&quot;mongodb+srv://dev-20937-liwy3.gcp.mongodb.net/test&quot;);` both are different","body":"If you have installed <code>MongoDB</code> on your computer then <code>MongoClient mongo client = new MongoClient(&quot;localhost&quot;, 27017);</code>  this will work. But you are trying for connection to <code>MongoDB Atlas</code> so, <code>MongoClientURI uri = new MongoClientURI(&quot;mongodb+srv:&#47;&#47;dev-20937-liwy3.gcp.mongodb.ne&zwnj;&#8203;t&#47;test&quot;);</code> both are different"},{"owner":{"account_id":16854542,"reputation":101,"user_id":13050733,"display_name":"Jackson"},"score":0,"creation_date":1585213257,"post_id":60861955,"comment_id":107684160,"body_markdown":"So this means that if its not local we should use only MongoClientURI and not other approaches?","body":"So this means that if its not local we should use only MongoClientURI and not other approaches?"},{"owner":{"account_id":16854542,"reputation":101,"user_id":13050733,"display_name":"Jackson"},"score":0,"creation_date":1585215395,"post_id":60861955,"comment_id":107685111,"body_markdown":"Thanks alot. That will help","body":"Thanks alot. That will help"}],"tags":[],"owner":{"account_id":14437512,"reputation":1697,"user_id":10429137,"display_name":"kedar sedai"},"comment_count":13,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585204772,"creation_date":1585203855,"answer_id":60861955,"question_id":60861817,"body_markdown":"go to your `MongoDB Atlas` -&gt; `NetworkAccess`-&gt; Edit-&gt; and add `Current IP address` it works!!\r\n\r\n    // Create a Mongo client \r\n      MongoClient mongo = new MongoClient( &quot;localhost&quot; , 27017 ); \r\n   \r\n      // Creating Credentials \r\n      MongoCredential credential; \r\n      credential = MongoCredential.createCredential(&quot;User&quot;, &quot;DB&quot;, \r\n         &quot;pass&quot;.toCharArray()); \r\n      System.out.println(&quot;Connected to the database successfully&quot;);  \r\n      ","title":"Cluster description not yet available. Waiting for 30000 ms before timing out com.mongodb.diagnostics.logging.JULLogger log","body":"<p>go to your <code>MongoDB Atlas</code> -> <code>NetworkAccess</code>-> Edit-> and add <code>Current IP address</code> it works!!</p>\n\n<pre><code>// Create a Mongo client \n  MongoClient mongo = new MongoClient( \"localhost\" , 27017 ); \n\n  // Creating Credentials \n  MongoCredential credential; \n  credential = MongoCredential.createCredential(\"User\", \"DB\", \n     \"pass\".toCharArray()); \n  System.out.println(\"Connected to the database successfully\");  \n</code></pre>\n"}],"owner":{"account_id":16854542,"reputation":101,"user_id":13050733,"display_name":"Jackson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21774,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1695322985,"creation_date":1585202980,"question_id":60861817,"body_markdown":"I am trying to connect MongoDB Atlas with Java. This is my code\r\n\r\n    MongoClientSettings.Builder mongoClientSettingsBuilder = MongoClientSettings.builder()\r\n            .credential(mongoCredential)\r\n            .applyToClusterSettings(builder -&gt; builder.hosts(new ServerAddress(&quot;dev-20937-liwy3.gcp.mongodb.net&quot;, 27017)));\r\n\tMongoClientSettings settings = mongoClientSettingsBuilder.build();\t\t\r\n\tMongoClient mongoClient = MongoClients.create(settings);\r\n\t\r\n\r\nBy doing so I am getting the following error\r\n\r\n    INFO: Cluster description not yet available. Waiting for 30000 ms before timing out\r\n    Mar 26, 2020 11:33:41 AM com.mongodb.diagnostics.logging.JULLogger log\r\n    Exception in thread &quot;main&quot; com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=dev-20937-liwy3.gcp.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: dev-20937-liwy3.gcp.mongodb.net}, caused by {java.net.UnknownHostException: dev-20937-liwy3.gcp.mongodb.net}}]\r\n\r\n\r\nI do not know the cause of the error. By my guess I have given my host name wrong. \r\n\r\nCan someone help me out with this","title":"Cluster description not yet available. Waiting for 30000 ms before timing out com.mongodb.diagnostics.logging.JULLogger log","body":"<p>I am trying to connect MongoDB Atlas with Java. This is my code</p>\n\n<pre><code>MongoClientSettings.Builder mongoClientSettingsBuilder = MongoClientSettings.builder()\n        .credential(mongoCredential)\n        .applyToClusterSettings(builder -&gt; builder.hosts(new ServerAddress(\"dev-20937-liwy3.gcp.mongodb.net\", 27017)));\nMongoClientSettings settings = mongoClientSettingsBuilder.build();      \nMongoClient mongoClient = MongoClients.create(settings);\n</code></pre>\n\n<p>By doing so I am getting the following error</p>\n\n<pre><code>INFO: Cluster description not yet available. Waiting for 30000 ms before timing out\nMar 26, 2020 11:33:41 AM com.mongodb.diagnostics.logging.JULLogger log\nException in thread \"main\" com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=dev-20937-liwy3.gcp.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: dev-20937-liwy3.gcp.mongodb.net}, caused by {java.net.UnknownHostException: dev-20937-liwy3.gcp.mongodb.net}}]\n</code></pre>\n\n<p>I do not know the cause of the error. By my guess I have given my host name wrong. </p>\n\n<p>Can someone help me out with this</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriverwait","selenium4"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667252832,"creation_date":1574424573,"answer_id":58994021,"question_id":58993667,"body_markdown":"This warning message...\r\n\r\n```lang-none\r\nWarning: (143,13) &#39;WebDriverWait(org.openqa.selenium.WebDriver, long)&#39; is deprecated\r\n```\r\n\r\n...implies that the current constructor of [WebDriverWait](https://selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html) have been deprecated.\r\n\r\n\r\n----------\r\n\r\n\r\nLooking in to the code for [WebDriverWait.java](https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/support/ui/WebDriverWait.java) it seems:\r\n\r\n- The following methods are **deprecated**:\r\n - `public WebDriverWait(WebDriver driver, long timeoutInSeconds)`\r\n\r\n            @Deprecated\r\n            public WebDriverWait(WebDriver driver, long timeoutInSeconds) {\r\n              this(driver, Duration.ofSeconds(timeoutInSeconds));\r\n            }\r\n\r\n - `public WebDriverWait(WebDriver driver, long timeoutInSeconds, long sleepInMillis)`\r\n\r\n            @Deprecated\r\n            public WebDriverWait(WebDriver driver, long timeoutInSeconds, long sleepInMillis) {\r\n              this(driver, Duration.ofSeconds(timeoutInSeconds), Duration.ofMillis(sleepInMillis));\r\n            }\r\n\r\n - `public WebDriverWait(WebDriver driver, Clock clock, Sleeper sleeper, long timeoutInSeconds, long sleepInMillis)`\r\n\r\n            @Deprecated\r\n            public WebDriverWait(\r\n                WebDriver driver, Clock clock, Sleeper sleeper, long timeoutInSeconds, long sleepInMillis) {\r\n              this(\r\n                  driver,\r\n                  Duration.ofSeconds(timeoutInSeconds),\r\n                  Duration.ofMillis(sleepInMillis),\r\n                  clock,\r\n                  sleeper);\r\n            }\r\n\r\n- Whilst the following methods were **added**:\r\n - `public WebDriverWait(WebDriver driver, Duration timeout)`\r\n\r\n            /**\r\n             * @param driver The WebDriver instance to pass to the expected conditions\r\n             * @param timeout The timeout when an expectation is called\r\n             * @see WebDriverWait#ignoring(java.lang.Class)\r\n             */\r\n            public WebDriverWait(WebDriver driver, Duration timeout) {\r\n              this(\r\n                  driver,\r\n                  timeout,\r\n                  Duration.ofMillis(DEFAULT_SLEEP_TIMEOUT),\r\n                  Clock.systemDefaultZone(),\r\n                  Sleeper.SYSTEM_SLEEPER);\r\n            }\r\n\r\n - `public WebDriverWait(WebDriver driver, Duration timeout, Duration sleep)`\r\n\r\n            /**\r\n             * Wait will ignore instances of NotFoundException that are encountered (thrown) by default in\r\n             * the &#39;until&#39; condition, and immediately propagate all others.  You can add more to the ignore\r\n             * list by calling ignoring(exceptions to add).\r\n             *\r\n             * @param driver The WebDriver instance to pass to the expected conditions\r\n             * @param timeout The timeout in seconds when an expectation is called\r\n             * @param sleep The duration in milliseconds to sleep between polls.\r\n             * @see WebDriverWait#ignoring(java.lang.Class)\r\n             */\r\n            public WebDriverWait(WebDriver driver, Duration timeout, Duration sleep) {\r\n              this(driver, timeout, sleep, Clock.systemDefaultZone(), Sleeper.SYSTEM_SLEEPER);\r\n            }\r\n\r\n - `WebDriver driver, Duration timeout, Duration sleep, Clock clock, Sleeper sleeper)`\r\n\r\n            /**\r\n             * @param driver the WebDriver instance to pass to the expected conditions\r\n             * @param clock used when measuring the timeout\r\n             * @param sleeper used to make the current thread go to sleep\r\n             * @param timeout the timeout when an expectation is called\r\n             * @param sleep the timeout used whilst sleeping\r\n             */\r\n            public WebDriverWait(WebDriver driver, Duration timeout, Duration sleep, Clock clock, Sleeper sleeper) {\r\n              super(driver, clock, sleeper);\r\n              withTimeout(timeout);\r\n              pollingEvery(sleep);\r\n              ignoring(NotFoundException.class);\r\n              this.driver = driver;\r\n            }\r\n\r\nHence you see the error.\r\n\r\n\r\n----------\r\n\r\n\r\nHowever, I don&#39;t see any changes to [`WebDriverWait`](https://selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html) Class in [**Selenium**](https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491)**v4.0.0-alpha*** Java client changelog and the functionality should continue to function as per the current implementation.\r\n\r\n### Selenium Java client `v4.0.0-alpha-3` changelog:\r\n\r\n```lang-none\r\nv4.0.0-alpha-3\r\n==============\r\n\r\n* Add &quot;relative&quot; locators. The entry point is through the `RelativeLocator`.\r\n  Usage is like `driver.findElements(withTagName(&quot;p&quot;).above(lowest));`\r\n* Add chromedriver cast APIs to remote server (#7282)\r\n* `By` is now serializable over JSON.\r\n* Add ApplicationCache, Fetch, Network, Performance, Profiler,\r\n  ResourceTiming, Security and Target CDP domains.\r\n* Fixing Safari initialization code to be able to use Safari Technology\r\n  Preview.\r\n* Ensure that the protocol converter handles the new session responses\r\n  properly.\r\n* Expose devtools APIs from chromium derived drivers.\r\n* Expose presence of devtools support on a role-based interface\r\n* Move to new Grid, deleting the old standalone server and grid implementation.\r\n* Switch to using `HttpHandler` where possible. This will impact projects that\r\n  are extending Selenium Grid.\r\n* Respect &quot;webdriver.firefox.logfile&quot; system property in legacy Firefox driver.\r\n  Fixes #6649\r\n* Back out OpenCensus support: OpenTracing and OpenCensus are merging, so\r\n  settle on one for now.\r\n* Only allow CORS when using a —allow-cors flag in the Grid server\r\n* If you&#39;re using the Java Platform Module System, all modules\r\n  associated with the project are generated as &quot;open&quot; modules. This\r\n  will change in a future release.\r\n* The version of Jetty being used is unshadowed.\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n\r\nConclusion\r\n----------\r\n_Selenium&#39;s Java client v4.0.0-alpha-3_ is still a _alpha_ release and needs to go through _beta_ release and hence shouldn&#39;t be used for testing activity in production environment.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nAn immediate solution would be to downgrade to current **released level** [Version 3.141.59](https://docs.seleniumhq.org/download/).\r\n\r\n","title":"WebDriverWait is deprecated in Selenium 4","body":"<p>This warning message...</p>\n<pre class=\"lang-none prettyprint-override\"><code>Warning: (143,13) 'WebDriverWait(org.openqa.selenium.WebDriver, long)' is deprecated\n</code></pre>\n<p>...implies that the current constructor of <a href=\"https://selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html\" rel=\"nofollow noreferrer\">WebDriverWait</a> have been deprecated.</p>\n<hr />\n<p>Looking in to the code for <a href=\"https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/support/ui/WebDriverWait.java\" rel=\"nofollow noreferrer\">WebDriverWait.java</a> it seems:</p>\n<ul>\n<li><p>The following methods are <strong>deprecated</strong>:</p>\n</li>\n<li><p><code>public WebDriverWait(WebDriver driver, long timeoutInSeconds)</code></p>\n<pre><code>     @Deprecated\n     public WebDriverWait(WebDriver driver, long timeoutInSeconds) {\n       this(driver, Duration.ofSeconds(timeoutInSeconds));\n     }\n</code></pre>\n</li>\n<li><p><code>public WebDriverWait(WebDriver driver, long timeoutInSeconds, long sleepInMillis)</code></p>\n<pre><code>     @Deprecated\n     public WebDriverWait(WebDriver driver, long timeoutInSeconds, long sleepInMillis) {\n       this(driver, Duration.ofSeconds(timeoutInSeconds), Duration.ofMillis(sleepInMillis));\n     }\n</code></pre>\n</li>\n<li><p><code>public WebDriverWait(WebDriver driver, Clock clock, Sleeper sleeper, long timeoutInSeconds, long sleepInMillis)</code></p>\n<pre><code>     @Deprecated\n     public WebDriverWait(\n         WebDriver driver, Clock clock, Sleeper sleeper, long timeoutInSeconds, long sleepInMillis) {\n       this(\n           driver,\n           Duration.ofSeconds(timeoutInSeconds),\n           Duration.ofMillis(sleepInMillis),\n           clock,\n           sleeper);\n     }\n</code></pre>\n</li>\n<li><p>Whilst the following methods were <strong>added</strong>:</p>\n</li>\n<li><p><code>public WebDriverWait(WebDriver driver, Duration timeout)</code></p>\n<pre><code>     /**\n      * @param driver The WebDriver instance to pass to the expected conditions\n      * @param timeout The timeout when an expectation is called\n      * @see WebDriverWait#ignoring(java.lang.Class)\n      */\n     public WebDriverWait(WebDriver driver, Duration timeout) {\n       this(\n           driver,\n           timeout,\n           Duration.ofMillis(DEFAULT_SLEEP_TIMEOUT),\n           Clock.systemDefaultZone(),\n           Sleeper.SYSTEM_SLEEPER);\n     }\n</code></pre>\n</li>\n<li><p><code>public WebDriverWait(WebDriver driver, Duration timeout, Duration sleep)</code></p>\n<pre><code>     /**\n      * Wait will ignore instances of NotFoundException that are encountered (thrown) by default in\n      * the 'until' condition, and immediately propagate all others.  You can add more to the ignore\n      * list by calling ignoring(exceptions to add).\n      *\n      * @param driver The WebDriver instance to pass to the expected conditions\n      * @param timeout The timeout in seconds when an expectation is called\n      * @param sleep The duration in milliseconds to sleep between polls.\n      * @see WebDriverWait#ignoring(java.lang.Class)\n      */\n     public WebDriverWait(WebDriver driver, Duration timeout, Duration sleep) {\n       this(driver, timeout, sleep, Clock.systemDefaultZone(), Sleeper.SYSTEM_SLEEPER);\n     }\n</code></pre>\n</li>\n<li><p><code>WebDriver driver, Duration timeout, Duration sleep, Clock clock, Sleeper sleeper)</code></p>\n<pre><code>     /**\n      * @param driver the WebDriver instance to pass to the expected conditions\n      * @param clock used when measuring the timeout\n      * @param sleeper used to make the current thread go to sleep\n      * @param timeout the timeout when an expectation is called\n      * @param sleep the timeout used whilst sleeping\n      */\n     public WebDriverWait(WebDriver driver, Duration timeout, Duration sleep, Clock clock, Sleeper sleeper) {\n       super(driver, clock, sleeper);\n       withTimeout(timeout);\n       pollingEvery(sleep);\n       ignoring(NotFoundException.class);\n       this.driver = driver;\n     }\n</code></pre>\n</li>\n</ul>\n<p>Hence you see the error.</p>\n<hr />\n<p>However, I don't see any changes to <a href=\"https://selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html\" rel=\"nofollow noreferrer\"><code>WebDriverWait</code></a> Class in <a href=\"https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491\"><strong>Selenium</strong></a><strong>v4.0.0-alpha</strong>* Java client changelog and the functionality should continue to function as per the current implementation.</p>\n<h3>Selenium Java client <code>v4.0.0-alpha-3</code> changelog:</h3>\n<pre class=\"lang-none prettyprint-override\"><code>v4.0.0-alpha-3\n==============\n\n* Add &quot;relative&quot; locators. The entry point is through the `RelativeLocator`.\n  Usage is like `driver.findElements(withTagName(&quot;p&quot;).above(lowest));`\n* Add chromedriver cast APIs to remote server (#7282)\n* `By` is now serializable over JSON.\n* Add ApplicationCache, Fetch, Network, Performance, Profiler,\n  ResourceTiming, Security and Target CDP domains.\n* Fixing Safari initialization code to be able to use Safari Technology\n  Preview.\n* Ensure that the protocol converter handles the new session responses\n  properly.\n* Expose devtools APIs from chromium derived drivers.\n* Expose presence of devtools support on a role-based interface\n* Move to new Grid, deleting the old standalone server and grid implementation.\n* Switch to using `HttpHandler` where possible. This will impact projects that\n  are extending Selenium Grid.\n* Respect &quot;webdriver.firefox.logfile&quot; system property in legacy Firefox driver.\n  Fixes #6649\n* Back out OpenCensus support: OpenTracing and OpenCensus are merging, so\n  settle on one for now.\n* Only allow CORS when using a —allow-cors flag in the Grid server\n* If you're using the Java Platform Module System, all modules\n  associated with the project are generated as &quot;open&quot; modules. This\n  will change in a future release.\n* The version of Jetty being used is unshadowed.\n</code></pre>\n<hr />\n<h2>Conclusion</h2>\n<p><em>Selenium's Java client v4.0.0-alpha-3</em> is still a <em>alpha</em> release and needs to go through <em>beta</em> release and hence shouldn't be used for testing activity in production environment.</p>\n<hr />\n<h2>Solution</h2>\n<p>An immediate solution would be to downgrade to current <strong>released level</strong> <a href=\"https://docs.seleniumhq.org/download/\" rel=\"nofollow noreferrer\">Version 3.141.59</a>.</p>\n"},{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1575437898,"creation_date":1575437898,"answer_id":59169549,"question_id":58993667,"body_markdown":"It doesn&#39;t appear in the docs, but if you look at the [source code](https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/support/ui/WebDriverWait.java) you will see `@Deprecated` annotation\r\n\r\n    @Deprecated\r\n    public WebDriverWait(WebDriver driver, long timeoutInSeconds) {\r\n        this(driver, Duration.ofSeconds(timeoutInSeconds));\r\n    }\r\n    \r\nIn the constructor description you have the solution\r\n\r\n&gt;  @deprecated Instead, use {@link\r\n&gt; WebDriverWait#WebDriverWait(WebDriver, Duration)}.\r\n\r\nWhich is the constructor being called from the deprecated one in any case.\r\n\r\n    new WebDriverWait(driver, Duration.ofSeconds(10));","title":"WebDriverWait is deprecated in Selenium 4","body":"<p>It doesn't appear in the docs, but if you look at the <a href=\"https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/support/ui/WebDriverWait.java\" rel=\"noreferrer\">source code</a> you will see <code>@Deprecated</code> annotation</p>\n\n<pre><code>@Deprecated\npublic WebDriverWait(WebDriver driver, long timeoutInSeconds) {\n    this(driver, Duration.ofSeconds(timeoutInSeconds));\n}\n</code></pre>\n\n<p>In the constructor description you have the solution</p>\n\n<blockquote>\n  <p>@deprecated Instead, use {@link\n  WebDriverWait#WebDriverWait(WebDriver, Duration)}.</p>\n</blockquote>\n\n<p>Which is the constructor being called from the deprecated one in any case.</p>\n\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10976325,"reputation":2127,"user_id":8293585,"display_name":"CodeWorld"},"score":1,"creation_date":1607426590,"post_id":61102746,"comment_id":115262915,"body_markdown":"no warning after using this in selenium version 4.0.0-alpha-7","body":"no warning after using this in selenium version 4.0.0-alpha-7"}],"tags":[],"owner":{"account_id":9132670,"reputation":18609,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1667252924,"creation_date":1586355003,"answer_id":61102746,"question_id":58993667,"body_markdown":"\r\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\r\nUse this instead. Only WebDriverWait(driver, clock) is supported;\r\n\r\n\r\n","title":"WebDriverWait is deprecated in Selenium 4","body":"<pre><code>WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n</code></pre>\n<p>Use this instead. Only WebDriverWait(driver, clock) is supported;</p>\n"},{"tags":[],"owner":{"account_id":21650589,"reputation":81,"user_id":15971299,"display_name":"Geetu Dhillon"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1667253339,"creation_date":1621425840,"answer_id":67602907,"question_id":58993667,"body_markdown":"Code which gives the below warning:\r\n\r\n```\r\ndriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n```\r\n\r\nWarning:\r\n\r\n&gt; The method `implicitlyWait(long, TimeUnit)` from the type `WebDriver.Timeouts` is deprecated.\r\n\r\nUpdate which works on Selenium 4:\r\n\r\n```\r\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n```\r\n","title":"WebDriverWait is deprecated in Selenium 4","body":"<p>Code which gives the below warning:</p>\n<pre><code>driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n</code></pre>\n<p>Warning:</p>\n<blockquote>\n<p>The method <code>implicitlyWait(long, TimeUnit)</code> from the type <code>WebDriver.Timeouts</code> is deprecated.</p>\n</blockquote>\n<p>Update which works on Selenium 4:</p>\n<pre><code>driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16500782,"reputation":49,"user_id":11922149,"display_name":"Rajiv Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622652338,"creation_date":1622615497,"answer_id":67800018,"question_id":58993667,"body_markdown":"This code snippet is working with Selenium 4.0:\r\n\r\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n\r\n","title":"WebDriverWait is deprecated in Selenium 4","body":"<p>This code snippet is working with Selenium 4.0:</p>\n<pre><code>driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1667253017,"creation_date":1634921031,"answer_id":69680448,"question_id":58993667,"body_markdown":"Write it like this with Selenium 4 since what you tried to use is deprecated, as you said.\r\n\r\nFirst import.\r\n\r\n    import java.time.Duration;\r\n\r\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n    driver.manage().timeouts().scriptTimeout(Duration.ofSeconds(30));\r\n    driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(60));\r\n\r\nFor fluent wait.\r\n\r\n     Wait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver)\r\n            .withTimeout(Duration.ofSeconds(30))\r\n            .pollingEvery(Duration.ofSeconds(5))\r\n            .ignoring(NoSuchElementException.class);\r\n\r\nWebDriverWait statement\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(10));\r\n\r\n\r\n","title":"WebDriverWait is deprecated in Selenium 4","body":"<p>Write it like this with Selenium 4 since what you tried to use is deprecated, as you said.</p>\n<p>First import.</p>\n<pre><code>import java.time.Duration;\n\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\ndriver.manage().timeouts().scriptTimeout(Duration.ofSeconds(30));\ndriver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(60));\n</code></pre>\n<p>For fluent wait.</p>\n<pre><code> Wait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver)\n        .withTimeout(Duration.ofSeconds(30))\n        .pollingEvery(Duration.ofSeconds(5))\n        .ignoring(NoSuchElementException.class);\n</code></pre>\n<p>WebDriverWait statement</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(10));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28266730,"reputation":1,"user_id":21610576,"display_name":"Menaga Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681482698,"creation_date":1681141027,"answer_id":75978490,"question_id":58993667,"body_markdown":"    WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(10));\r\n\r\nHere which driver have to use for selenium 4? Earlier in selenium 3.141 version we have used `EventfiringWebDriver`","title":"WebDriverWait is deprecated in Selenium 4","body":"<pre><code>WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(10));\n</code></pre>\n<p>Here which driver have to use for selenium 4? Earlier in selenium 3.141 version we have used <code>EventfiringWebDriver</code></p>\n"},{"tags":[],"owner":{"account_id":9616241,"reputation":626,"user_id":7138917,"display_name":"Anj Raju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695322894,"creation_date":1695322894,"answer_id":77152980,"question_id":58993667,"body_markdown":"Instead of the following lines of code: \r\n\r\n        driver.manage().timeouts().pageLoadTimeout(30, TimeUnit.SECONDS);\r\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n\r\nUse this:\r\n    \r\n\r\n    driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(30));\r\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n\r\nBasically, you are replacing the parameter and replacing two parameters (`30, TimeUnit.SECONDS`) with one (`Duration.ofSeconds(30)`)\r\n\r\n\r\n","title":"WebDriverWait is deprecated in Selenium 4","body":"<p>Instead of the following lines of code:</p>\n<pre><code>    driver.manage().timeouts().pageLoadTimeout(30, TimeUnit.SECONDS);\n    driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n</code></pre>\n<p>Use this:</p>\n<pre><code>driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(30));\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n</code></pre>\n<p>Basically, you are replacing the parameter and replacing two parameters (<code>30, TimeUnit.SECONDS</code>) with one (<code>Duration.ofSeconds(30)</code>)</p>\n"}],"owner":{"account_id":12016659,"reputation":8089,"user_id":8791568,"display_name":"Mate Mrše"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89664,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":59169549,"answer_count":8,"score":17,"last_activity_date":1695322894,"creation_date":1574423322,"question_id":58993667,"body_markdown":"I&#39;m getting a \r\n\r\n&gt;Warning: (143,13) &#39;WebDriverWait(org.openqa.selenium.WebDriver, long)&#39; is deprecated\r\n\r\nin Selenium 4.0.0-alpha-3.\r\n\r\nBut official [Selenium page](https://selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html) lists only\r\n\r\n    WebDriverWait(WebDriver driver, Clock clock, Sleeper sleeper, long timeOutInSeconds, long sleepTimeOut)\r\n\r\nas deprecated. \r\n\r\nWhat is wrong? I&#39;m using IntelliJ, could it be their issue?","title":"WebDriverWait is deprecated in Selenium 4","body":"<p>I'm getting a </p>\n\n<blockquote>\n  <p>Warning: (143,13) 'WebDriverWait(org.openqa.selenium.WebDriver, long)' is deprecated</p>\n</blockquote>\n\n<p>in Selenium 4.0.0-alpha-3.</p>\n\n<p>But official <a href=\"https://selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html\" rel=\"noreferrer\">Selenium page</a> lists only</p>\n\n<pre><code>WebDriverWait(WebDriver driver, Clock clock, Sleeper sleeper, long timeOutInSeconds, long sleepTimeOut)\n</code></pre>\n\n<p>as deprecated. </p>\n\n<p>What is wrong? I'm using IntelliJ, could it be their issue?</p>\n"},{"tags":["java","sql","database","oracle","plsql"],"owner":{"account_id":14212096,"reputation":131,"user_id":10267017,"display_name":"luis alberto juarez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695323243,"answer_count":0,"score":0,"last_activity_date":1695322059,"creation_date":1695322059,"question_id":77152904,"body_markdown":"Hi i&#39;m trying to select rows into columns, i have used **Listagg** function to retrieve comma separated column and then parse it in Java code, it works fine for small queries (about 150,000 rows) when i retrieve large queries it become a problem for memory and cpu.\r\n\r\nIs there any way to select the rows as columns dynamically by query? for example:\r\n\r\n**Original result**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Listagg result**\r\n \r\n[![enter image description here][2]][2]\r\n\r\n**Expected result**\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThank you!\r\n\r\n  [1]: https://i.stack.imgur.com/Y6R4t.png\r\n  [2]: https://i.stack.imgur.com/YCuGt.png\r\n  [3]: https://i.stack.imgur.com/3bCJo.png","title":"How to Select Rows into Columns Dynamically Oracle","body":"<p>Hi i'm trying to select rows into columns, i have used <strong>Listagg</strong> function to retrieve comma separated column and then parse it in Java code, it works fine for small queries (about 150,000 rows) when i retrieve large queries it become a problem for memory and cpu.</p>\n<p>Is there any way to select the rows as columns dynamically by query? for example:</p>\n<p><strong>Original result</strong></p>\n<p><a href=\"https://i.stack.imgur.com/Y6R4t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y6R4t.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Listagg result</strong></p>\n<p><a href=\"https://i.stack.imgur.com/YCuGt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YCuGt.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Expected result</strong></p>\n<p><a href=\"https://i.stack.imgur.com/3bCJo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3bCJo.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you!</p>\n"},{"tags":["java","postgresql","junit5","quarkus","testcontainers"],"answers":[{"comments":[{"owner":{"account_id":14660694,"reputation":361,"user_id":10588848,"display_name":"Johnnes Souza"},"score":0,"creation_date":1611924656,"post_id":65951074,"comment_id":116612681,"body_markdown":"Can you provide some example?","body":"Can you provide some example?"},{"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1611924887,"post_id":65951074,"comment_id":116612774,"body_markdown":"I did, didn&#39;t I?","body":"I did, didn&#39;t I?"},{"owner":{"account_id":14660694,"reputation":361,"user_id":10588848,"display_name":"Johnnes Souza"},"score":0,"creation_date":1611925174,"post_id":65951074,"comment_id":116612933,"body_markdown":"By using the same way the doing ATM (`createNativeQuery(&quot;DROP DATABASE db_name&quot;);` I&#39;m getting an error: Enable to execute update/delete query statement.","body":"By using the same way the doing ATM (<code>createNativeQuery(&quot;DROP DATABASE db_name&quot;);</code> I&#39;m getting an error: Enable to execute update/delete query statement."},{"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1611925339,"post_id":65951074,"comment_id":116613034,"body_markdown":"Do you get a PostgreSQL error message along with that meaningless message, perhaps as a nested exception? Did you enable autocommit?","body":"Do you get a PostgreSQL error message along with that meaningless message, perhaps as a nested exception? Did you enable autocommit?"},{"owner":{"account_id":14660694,"reputation":361,"user_id":10588848,"display_name":"Johnnes Souza"},"score":0,"creation_date":1611925550,"post_id":65951074,"comment_id":116613146,"body_markdown":"I meant, &#39;Unable to execute...&#39; not enable... hehe","body":"I meant, &#39;Unable to execute...&#39; not enable... hehe"}],"tags":[],"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1611925384,"creation_date":1611908921,"answer_id":65951074,"question_id":65947435,"body_markdown":"Create a template test database with the name `test_template`.\r\n\r\nAfter each test,\r\n\r\n1. disconnect all sessions from the test database (not required with PostgreSQL v13):\r\n\r\n       SELECT pg_terminate_backend(pid)\r\n       FROM pg_stat_activity\r\n       WHERE datname = &#39;test&#39;;\r\n\r\n2. drop the database with\r\n\r\n       DROP DATABASE test;\r\n\r\n   In v13, use the additional `FORCE` option.\r\n\r\n3. create a new test database with\r\n\r\n       CREATE DATABASE test TEMPLATE test_template;\r\n\r\nNote: you have to enable autocommit in the JDBC driver for `CREATE DATABASE` and `DROP DATABASE` to work.","title":"Is there a way to drop all tables or truncate inside a postgres testcontainer","body":"<p>Create a template test database with the name <code>test_template</code>.</p>\n<p>After each test,</p>\n<ol>\n<li><p>disconnect all sessions from the test database (not required with PostgreSQL v13):</p>\n<pre><code>SELECT pg_terminate_backend(pid)\nFROM pg_stat_activity\nWHERE datname = 'test';\n</code></pre>\n</li>\n<li><p>drop the database with</p>\n<pre><code>DROP DATABASE test;\n</code></pre>\n<p>In v13, use the additional <code>FORCE</code> option.</p>\n</li>\n<li><p>create a new test database with</p>\n<pre><code>CREATE DATABASE test TEMPLATE test_template;\n</code></pre>\n</li>\n</ol>\n<p>Note: you have to enable autocommit in the JDBC driver for <code>CREATE DATABASE</code> and <code>DROP DATABASE</code> to work.</p>\n"},{"tags":[],"owner":{"account_id":29290980,"reputation":1,"user_id":22441462,"display_name":"juanse"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693085660,"creation_date":1692882672,"answer_id":76969634,"question_id":65947435,"body_markdown":"You can try with this:\r\n\r\n1) Remove the static clause from the container definition. It will force it to create the container on every start() execution.\r\n\r\n    PostgreSQLContainer&lt;?&gt; POSTGRES ....\r\n\r\n2) You can also remove the stop in the @beforeach I think it is not necesary\r\n3) You can create the tables when you start the container providing the schema SQL:\r\n\r\n        PostgreSQLContainer&lt;?&gt; postgresContainer = new PostgreSQLContainer&lt; (&quot;postgres:14-alpine&quot;)\r\n                  .withDatabaseName(&quot;db&quot;)\r\n                  .withUsername(&quot;username&quot;)\r\n                  .withPassword(&quot;password&quot;)\r\n                  .withCopyFileToContainer(\r\n                       MountableFile.forClasspathResource(&quot;/schema.sql&quot;),\r\n                       &quot;/docker-entrypoint-initdb.d/&quot;\r\n                  );\r\n\r\n4) And if you want to insert some data in depending of your test method you can do something like this and call it in the beginning of your test:\r\n\r\n        private void loadData(String scriptPath) {\r\n            try {\r\n                postgresContainer.copyFileToContainer(\r\n                     MountableFile.forClasspathResource(scriptPath),\r\n                     &quot;/data/import.sql&quot;\r\n                );\r\n                postgresContainer.execInContainer(\r\n                     &quot;psql&quot;,\r\n                     &quot;-U&quot;,\r\n                     postgresContainer.getUsername(),\r\n                     &quot;-d&quot;,\r\n                     postgresContainer.getDatabaseName(),\r\n                     &quot;-f&quot;,\r\n                     &quot;/data/import.sql&quot;\r\n               );\r\n           } catch (IOException e) {\r\n               throw new RuntimeException(e);\r\n           } catch (InterruptedException e) {\r\n               throw new RuntimeException(e);\r\n           }\r\n       }","title":"Is there a way to drop all tables or truncate inside a postgres testcontainer","body":"<p>You can try with this:</p>\n<ol>\n<li><p>Remove the static clause from the container definition. It will force it to create the container on every start() execution.</p>\n<p>PostgreSQLContainer&lt;?&gt; POSTGRES ....</p>\n</li>\n<li><p>You can also remove the stop in the @beforeach I think it is not necesary</p>\n</li>\n<li><p>You can create the tables when you start the container providing the schema SQL:</p>\n<pre><code> PostgreSQLContainer&lt;?&gt; postgresContainer = new PostgreSQLContainer&lt; (&quot;postgres:14-alpine&quot;)\n           .withDatabaseName(&quot;db&quot;)\n           .withUsername(&quot;username&quot;)\n           .withPassword(&quot;password&quot;)\n           .withCopyFileToContainer(\n                MountableFile.forClasspathResource(&quot;/schema.sql&quot;),\n                &quot;/docker-entrypoint-initdb.d/&quot;\n           );\n</code></pre>\n</li>\n<li><p>And if you want to insert some data in depending of your test method you can do something like this and call it in the beginning of your test:</p>\n<pre><code> private void loadData(String scriptPath) {\n     try {\n         postgresContainer.copyFileToContainer(\n              MountableFile.forClasspathResource(scriptPath),\n              &quot;/data/import.sql&quot;\n         );\n         postgresContainer.execInContainer(\n              &quot;psql&quot;,\n              &quot;-U&quot;,\n              postgresContainer.getUsername(),\n              &quot;-d&quot;,\n              postgresContainer.getDatabaseName(),\n              &quot;-f&quot;,\n              &quot;/data/import.sql&quot;\n        );\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3568344,"reputation":639,"user_id":2979325,"display_name":"Serkan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695322042,"creation_date":1692907327,"answer_id":76972587,"question_id":65947435,"body_markdown":"Assuming you’re using Panache and Active Record pattern, you can do this:\r\n\r\n    @BeforeEach\r\n    @Transactional\r\n    public void cleanUp() {\r\n       MyEntity.deleteAll();\r\n    }\r\n\r\nIf you are using repositories then simply inject your repository and call the deleteAll() method. \r\n\r\nAnd there is also *@TestTransactional* available for unit tests. This will simply rollback any changes to the db after the test has finished. \r\n\r\nBtw, I’m typing from my phone, so apologies for any syntax errors. ","title":"Is there a way to drop all tables or truncate inside a postgres testcontainer","body":"<p>Assuming you’re using Panache and Active Record pattern, you can do this:</p>\n<pre><code>@BeforeEach\n@Transactional\npublic void cleanUp() {\n   MyEntity.deleteAll();\n}\n</code></pre>\n<p>If you are using repositories then simply inject your repository and call the deleteAll() method.</p>\n<p>And there is also <em>@TestTransactional</em> available for unit tests. This will simply rollback any changes to the db after the test has finished.</p>\n<p>Btw, I’m typing from my phone, so apologies for any syntax errors.</p>\n"},{"tags":[],"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693157415,"creation_date":1693157415,"answer_id":76988238,"question_id":65947435,"body_markdown":"&lt;h3&gt; Discard changes made during a test &lt;/h3&gt;\r\n\r\n**Truncate Tables:**\r\nJust truncate all tables instead of dropping the entire database. It is quicker too and probably the best option in your case.\r\n\r\n**Code Example:**\r\n```java\r\n// Code Example on how to truncate tables\r\n@BeforeEach\r\nvoid cleanDatabase() {\r\n    entityManager.createNativeQuery(&quot;TRUNCATE TABLE user_table CASCADE&quot;).executeUpdate();\r\n    // Here you can add more tables if you want to\r\n}\r\n```\r\n\r\n**Transaction Rollback:**  \r\nI guess the most common option to ensure that changes made during a test are discarded is this one. You basically start a transaction and the very start of the test and roll it back when its finished.\r\n\r\n**Code Example:**\r\n```java\r\n// Example Code of a Transaction Rollback\r\n\r\n@Inject\r\nUserTransaction userTransaction;\r\n\r\n@BeforeEach\r\nvoid beginTransaction() throws Exception {\r\n    userTransaction.begin();\r\n}\r\n\r\n@AfterEach\r\nvoid rollbackTransaction() throws Exception {\r\n    userTransaction.rollback();\r\n}\r\n```\r\nWith this approach you are also faster than dropping and recreating the whole database or tables. However this will only work if your tests are transactionally safe and you are not testing non-transactional features.\r\n\r\n**Liquibase or Flyway:**   \r\nThis only works if you are using a migration tool like Liquibase or Flyway. You can basically reset the database to a specific migration or baseline before each test.\r\n\r\n**Code Example:**\r\n```java\r\n// Code Example with Flyway\r\n\r\n@Inject\r\nFlyway flyway\r\n\r\n@BeforeEach\r\nvoid resetDatabase(){\r\n    // This method cleans the database.\r\n    flyway.clean();\r\n    // This method applies all migrations from the start.\r\n    flyway.migrate();\r\n}\r\n```\r\n\r\nIf you have any questions feel free to ask.","title":"Is there a way to drop all tables or truncate inside a postgres testcontainer","body":"<h3> Discard changes made during a test </h3>\n<p><strong>Truncate Tables:</strong>\nJust truncate all tables instead of dropping the entire database. It is quicker too and probably the best option in your case.</p>\n<p><strong>Code Example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Code Example on how to truncate tables\n@BeforeEach\nvoid cleanDatabase() {\n    entityManager.createNativeQuery(&quot;TRUNCATE TABLE user_table CASCADE&quot;).executeUpdate();\n    // Here you can add more tables if you want to\n}\n</code></pre>\n<p><strong>Transaction Rollback:</strong><br />\nI guess the most common option to ensure that changes made during a test are discarded is this one. You basically start a transaction and the very start of the test and roll it back when its finished.</p>\n<p><strong>Code Example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Example Code of a Transaction Rollback\n\n@Inject\nUserTransaction userTransaction;\n\n@BeforeEach\nvoid beginTransaction() throws Exception {\n    userTransaction.begin();\n}\n\n@AfterEach\nvoid rollbackTransaction() throws Exception {\n    userTransaction.rollback();\n}\n</code></pre>\n<p>With this approach you are also faster than dropping and recreating the whole database or tables. However this will only work if your tests are transactionally safe and you are not testing non-transactional features.</p>\n<p><strong>Liquibase or Flyway:</strong><br />\nThis only works if you are using a migration tool like Liquibase or Flyway. You can basically reset the database to a specific migration or baseline before each test.</p>\n<p><strong>Code Example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Code Example with Flyway\n\n@Inject\nFlyway flyway\n\n@BeforeEach\nvoid resetDatabase(){\n    // This method cleans the database.\n    flyway.clean();\n    // This method applies all migrations from the start.\n    flyway.migrate();\n}\n</code></pre>\n<p>If you have any questions feel free to ask.</p>\n"}],"owner":{"account_id":14660694,"reputation":361,"user_id":10588848,"display_name":"Johnnes Souza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1639,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1695322042,"creation_date":1611882406,"question_id":65947435,"body_markdown":"I&#39;m looking for a way to keep my component tests self contained.\r\nSo to achieve this behavior, in some of the tests I need to have a &#39;clean database&#39; or at least a &#39;clean table&#39;. I still couldn&#39;t find a way to do this inside a testcontainer.\r\nSo here is what I&#39;ve tried so far:\r\nMy container setup class:\r\n\r\npublic class PostgreSqlTestContainer implements QuarkusTestResourceLifecycleManager {\r\n\r\n    public static final PostgreSQLContainer&lt;?&gt; POSTGRES = new PostgreSQLContainer&lt;&gt;(&quot;postgres:alpine&quot;);\r\n\r\n    @Override\r\n    public Map&lt;String, String&gt; start() {\r\n        POSTGRES.start();         \r\n        return some_db_config_as_per_doc;\r\n    }\r\n\r\n    @Override\r\n    public void stop() {        \r\n        POSTGRES.stop();\r\n    }\r\n\r\nHere is the tests class:\r\n\r\n    @QuarkusTest\r\n    @QuarkusTestResource(PostgreSqlTestContainer.class)\r\n    class UserResourcesTest {\r\n    \r\n      @Test\r\n      scenario_one(){\r\n         // create a new user\r\n         // do some stuff (@POST.. check HTTP == 201) \r\n      }\r\n\r\n      @Test\r\n      scenario_two(){\r\n         // create new user\r\n         // do some stuff (@POST.. check HTTP == 201) (pass)\r\n         // look for all users on database\r\n         // do more stuff (@GET..  check HTTP == 200) (pass)\r\n         // assert that only 1 user was found\r\n         // since scenario_one should not interfere with scenario_two (fail)\r\n      }\r\n\r\n    }\r\n\r\nThe second scenario fails since some &#39;dirty&#39; from the first test was still on the db container.\r\nI&#39;ve tried to stop/start the container for each test. (very, very slow process, and sometimes I get an error, and very slow again).\r\n\r\n        @BeforeEach\r\n        void setup(){\r\n            PostgreSqlTestContainer.POSTGRES.stop();\r\n            PostgreSqlTestContainer.POSTGRES.start();\r\n        }\r\n\r\nAlso tried to truncate the table / drop the whole db:\r\n\r\n        @Inject\r\n        EntityManager entityManager;\r\n    \r\n        @BeforeEach\r\n        private void rollBack(){\r\n            truncate();\r\n        }\r\n\r\n        void truncate(){\r\n          Query nativeQuery = entityManager.createNativeQuery(&quot;DROP DATABASE IF EXISTS db_name&quot;);\r\n          nativeQuery.executeUpdate();\r\n        }\r\n\r\nI&#39;m looking for any workaround for this problem, I just want to somehow use a `@BeforeEach` to clean up the DB before each test. I mean, all I want is a clean environment for each test.","title":"Is there a way to drop all tables or truncate inside a postgres testcontainer","body":"<p>I'm looking for a way to keep my component tests self contained.\nSo to achieve this behavior, in some of the tests I need to have a 'clean database' or at least a 'clean table'. I still couldn't find a way to do this inside a testcontainer.\nSo here is what I've tried so far:\nMy container setup class:</p>\n<p>public class PostgreSqlTestContainer implements QuarkusTestResourceLifecycleManager {</p>\n<pre><code>public static final PostgreSQLContainer&lt;?&gt; POSTGRES = new PostgreSQLContainer&lt;&gt;(&quot;postgres:alpine&quot;);\n\n@Override\npublic Map&lt;String, String&gt; start() {\n    POSTGRES.start();         \n    return some_db_config_as_per_doc;\n}\n\n@Override\npublic void stop() {        \n    POSTGRES.stop();\n}\n</code></pre>\n<p>Here is the tests class:</p>\n<pre><code>@QuarkusTest\n@QuarkusTestResource(PostgreSqlTestContainer.class)\nclass UserResourcesTest {\n\n  @Test\n  scenario_one(){\n     // create a new user\n     // do some stuff (@POST.. check HTTP == 201) \n  }\n\n  @Test\n  scenario_two(){\n     // create new user\n     // do some stuff (@POST.. check HTTP == 201) (pass)\n     // look for all users on database\n     // do more stuff (@GET..  check HTTP == 200) (pass)\n     // assert that only 1 user was found\n     // since scenario_one should not interfere with scenario_two (fail)\n  }\n\n}\n</code></pre>\n<p>The second scenario fails since some 'dirty' from the first test was still on the db container.\nI've tried to stop/start the container for each test. (very, very slow process, and sometimes I get an error, and very slow again).</p>\n<pre><code>    @BeforeEach\n    void setup(){\n        PostgreSqlTestContainer.POSTGRES.stop();\n        PostgreSqlTestContainer.POSTGRES.start();\n    }\n</code></pre>\n<p>Also tried to truncate the table / drop the whole db:</p>\n<pre><code>    @Inject\n    EntityManager entityManager;\n\n    @BeforeEach\n    private void rollBack(){\n        truncate();\n    }\n\n    void truncate(){\n      Query nativeQuery = entityManager.createNativeQuery(&quot;DROP DATABASE IF EXISTS db_name&quot;);\n      nativeQuery.executeUpdate();\n    }\n</code></pre>\n<p>I'm looking for any workaround for this problem, I just want to somehow use a <code>@BeforeEach</code> to clean up the DB before each test. I mean, all I want is a clean environment for each test.</p>\n"},{"tags":["java","spring","templates"],"owner":{"account_id":18062712,"reputation":26,"user_id":13129461,"display_name":"B.."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695321705,"creation_date":1695321705,"question_id":77152864,"body_markdown":"I am looking for ways in which we can have a common template for YAML documents and be able to dynamically populate the values in the yaml files in Java spring boot.\r\n\r\nSo under resources in spring boot, will create a folder for templates, under which we will have a YAML file. This yaml file should be referenced in the Java helper class, dynamically populate the values, convert this yaml doc to a escape string and pass it as a parameter.\r\n\r\nCame accross templates like thymeleaf/ pebble but these are not very efficient for the required use case.\r\n\r\nWould appreciate any suggestions on this.","title":"Template engine for a YAML file in Java spring boot","body":"<p>I am looking for ways in which we can have a common template for YAML documents and be able to dynamically populate the values in the yaml files in Java spring boot.</p>\n<p>So under resources in spring boot, will create a folder for templates, under which we will have a YAML file. This yaml file should be referenced in the Java helper class, dynamically populate the values, convert this yaml doc to a escape string and pass it as a parameter.</p>\n<p>Came accross templates like thymeleaf/ pebble but these are not very efficient for the required use case.</p>\n<p>Would appreciate any suggestions on this.</p>\n"},{"tags":["java","opencsv"],"answers":[{"comments":[{"owner":{"account_id":2377481,"reputation":1344,"user_id":2080429,"accept_rate":100,"display_name":"Yashasvi Raj Pant"},"score":0,"creation_date":1436898070,"post_id":31414311,"comment_id":50801686,"body_markdown":"I have to fetch from header name(caste1), not from index..what should i do?","body":"I have to fetch from header name(caste1), not from index..what should i do?"},{"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"score":0,"creation_date":1436900746,"post_id":31414311,"comment_id":50803280,"body_markdown":"@user2080429 I don&#39;t think this behaviour is built into OpenCSV. Use `reader.readNext()` to read the first line, determine which index it has, and use my solution.","body":"@user2080429 I don&#39;t think this behaviour is built into OpenCSV. Use <code>reader.readNext()</code> to read the first line, determine which index it has, and use my solution."},{"owner":{"account_id":9038405,"reputation":701,"user_id":6733440,"display_name":"Pranay Kumbhalkar"},"score":0,"creation_date":1488381717,"post_id":31414311,"comment_id":72206707,"body_markdown":"@Magnilex can I get value by header name directly,","body":"@Magnilex can I get value by header name directly,"},{"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"score":0,"creation_date":1489051557,"post_id":31414311,"comment_id":72505356,"body_markdown":"@PranayKumbhalkar There seems to be no direct support for this, but check out Scotts answer:  http://stackoverflow.com/a/31440044/1421925","body":"@PranayKumbhalkar There seems to be no direct support for this, but check out Scotts answer:  <a href=\"http://stackoverflow.com/a/31440044/1421925\">stackoverflow.com/a/31440044/1421925</a>"},{"owner":{"account_id":9038405,"reputation":701,"user_id":6733440,"display_name":"Pranay Kumbhalkar"},"score":0,"creation_date":1489056989,"post_id":31414311,"comment_id":72509180,"body_markdown":"@Magnilex The code written by Scotts not works, but concept used by scotts works for me. First he get header position and get value on particular position from array","body":"@Magnilex The code written by Scotts not works, but concept used by scotts works for me. First he get header position and get value on particular position from array"}],"tags":[],"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"comment_count":5,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1495788265,"creation_date":1436897890,"answer_id":31414311,"question_id":31414120,"body_markdown":"There is no built in functionality in opencsv for reading from a column by name.\r\n\r\nThe [official FAQ example][1] has the following example on how to read from a file:\r\n\r\n    CSVReader reader = new CSVReader(new FileReader(&quot;yourfile.csv&quot;));\r\n    String [] nextLine;\r\n    while ((nextLine = reader.readNext()) != null) {\r\n       // nextLine[] is an array of values from the line\r\n       System.out.println(nextLine[0] + nextLine[1] + &quot;etc...&quot;);\r\n    }\r\n\r\nYou simply fetch the value in second column for each row by accesing the row with `nextLine[1]` (remember, arrays indices are zero based).\r\n\r\nSo, in your case you could simply read from the second line:\r\n\r\n    CSVReader reader = new CSVReader(new FileReader(&quot;yourfile.csv&quot;));\r\n    String [] nextLine;\r\n    while ((nextLine = reader.readNext()) != null) {\r\n       System.out.println(nextLine[1]);\r\n    }\r\n\r\n---\r\n\r\nFor a more sophisticated way of determining the column index from its header, refer to [the answer from Scott Conway][2].\r\n\r\n\r\n  [1]: http://opencsv.sourceforge.net/\r\n  [2]: https://stackoverflow.com/a/31440044/1421925","title":"How to read from particular header in opencsv?","body":"<p>There is no built in functionality in opencsv for reading from a column by name.</p>\n\n<p>The <a href=\"http://opencsv.sourceforge.net/\" rel=\"nofollow noreferrer\">official FAQ example</a> has the following example on how to read from a file:</p>\n\n<pre><code>CSVReader reader = new CSVReader(new FileReader(\"yourfile.csv\"));\nString [] nextLine;\nwhile ((nextLine = reader.readNext()) != null) {\n   // nextLine[] is an array of values from the line\n   System.out.println(nextLine[0] + nextLine[1] + \"etc...\");\n}\n</code></pre>\n\n<p>You simply fetch the value in second column for each row by accesing the row with <code>nextLine[1]</code> (remember, arrays indices are zero based).</p>\n\n<p>So, in your case you could simply read from the second line:</p>\n\n<pre><code>CSVReader reader = new CSVReader(new FileReader(\"yourfile.csv\"));\nString [] nextLine;\nwhile ((nextLine = reader.readNext()) != null) {\n   System.out.println(nextLine[1]);\n}\n</code></pre>\n\n<hr>\n\n<p>For a more sophisticated way of determining the column index from its header, refer to <a href=\"https://stackoverflow.com/a/31440044/1421925\">the answer from Scott Conway</a>.</p>\n"},{"tags":[],"owner":{"account_id":6621553,"reputation":4538,"user_id":5113071,"accept_rate":55,"display_name":"Shawn Mehan"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1436899240,"creation_date":1436899240,"answer_id":31414755,"question_id":31414120,"body_markdown":"Looking at the [javadoc][1]\r\n\r\n\r\n  [1]: http://opencsv.sourceforge.net/apidocs/ &quot;javadoc&quot;\r\n\r\nif you create a CSVReader object, then you can use the method .readAll to pull the entire file. It returns a List of String[], with each String[] representing a line of the file. So now you have the tokens of each line, and you only want the second element of that, so split them up as they have been nicely given to you with delimiters. And on each line you only want the second element, so:\r\n\r\n    public static void main(String[] args){\r\n        String data = &quot;63,Graham,101153.06,Abraham&quot;;\r\n        String result[] = data.split(&quot;,&quot;);\r\n        System.out.print(result[1]);\r\n    }","title":"How to read from particular header in opencsv?","body":"<p>Looking at the <a href=\"http://opencsv.sourceforge.net/apidocs/\" rel=\"nofollow\" title=\"javadoc\">javadoc</a></p>\n\n<p>if you create a CSVReader object, then you can use the method .readAll to pull the entire file. It returns a List of String[], with each String[] representing a line of the file. So now you have the tokens of each line, and you only want the second element of that, so split them up as they have been nicely given to you with delimiters. And on each line you only want the second element, so:</p>\n\n<pre><code>public static void main(String[] args){\n    String data = \"63,Graham,101153.06,Abraham\";\n    String result[] = data.split(\",\");\n    System.out.print(result[1]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4836940,"reputation":985,"user_id":3903279,"display_name":"Scott Conway"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1484633860,"creation_date":1436990893,"answer_id":31440044,"question_id":31414120,"body_markdown":"Magnilex and Sparky are right in that CSVReader does not support reading values by column name.  But that being said there are two ways you can do this.  \r\n\r\nGiven that you have the column names and the default CSVReader reads the header you can search the first the header for the position then use that from there on out;\r\n\r\n    private int getHeaderLocation(String[] headers, String columnName) {\r\n       return Arrays.asList(headers).indexOf(columnName);\r\n    }\r\n\r\nso your method would look like (leaving out a lot of error checks you will need to put in)\r\n\r\n    CSVReader reader = new CSVReader(new FileReader(&quot;yourfile.csv&quot;));\r\n    String [] nextLine;\r\n    int columnPosition;\r\n\r\n    nextLine = reader.readNext();\r\n    columnPosition = getHeaderLocation(nextLine, &quot;castle1&quot;);\r\n\r\n    while ((nextLine = reader.readNext()) != null &amp;&amp; columnPosition &gt; -1) {\r\n       // nextLine[] is an array of values from the line\r\n       System.out.println(nextLine[columnPosition]);\r\n    }\r\n\r\nI would only do the above if you were pressed for time and it was only one column you cared about.  That is because openCSV can convert directly to an object that has the variables the same as the header column names using the `CsvToBean` class and the `HeaderColumnNameMappingStrategy`.  \r\n\r\nSo first you would define a class that has the fields (and really you only need to put in the fields you want - extras are ignored and missing ones are null or default values). \r\n\r\n    public class CastleDTO {\r\n       private int id1;\r\n       private String castle1;\r\n       private double salary;\r\n       private String name1;\r\n   \r\n       // have all the getters and setters here....\r\n    }\r\n\r\nThen your code would look like\r\n\r\n    CSVReader reader = new CSVReader(new FileReader(&quot;yourfile.csv&quot;));\r\n    HeaderColumnNameMappingStrategy&lt;CastleDTO&gt; castleStrategy = new HeaderColumnNameMappingStrategy&lt;CastleDTO&gt;();\r\n    CsvToBean&lt;CastleDTO&gt; csvToBean = new CsvToBean&lt;CastleDTO&gt;();\r\n\r\n    List&lt;CastleDTO&gt; castleList = csvToBean.parse(castleStrategy, reader);\r\n\r\n    for (CastleDTO dto : castleList) {\r\n       System.out.println(dto.getCastle1());\r\n    }","title":"How to read from particular header in opencsv?","body":"<p>Magnilex and Sparky are right in that CSVReader does not support reading values by column name.  But that being said there are two ways you can do this.  </p>\n\n<p>Given that you have the column names and the default CSVReader reads the header you can search the first the header for the position then use that from there on out;</p>\n\n<pre><code>private int getHeaderLocation(String[] headers, String columnName) {\n   return Arrays.asList(headers).indexOf(columnName);\n}\n</code></pre>\n\n<p>so your method would look like (leaving out a lot of error checks you will need to put in)</p>\n\n<pre><code>CSVReader reader = new CSVReader(new FileReader(\"yourfile.csv\"));\nString [] nextLine;\nint columnPosition;\n\nnextLine = reader.readNext();\ncolumnPosition = getHeaderLocation(nextLine, \"castle1\");\n\nwhile ((nextLine = reader.readNext()) != null &amp;&amp; columnPosition &gt; -1) {\n   // nextLine[] is an array of values from the line\n   System.out.println(nextLine[columnPosition]);\n}\n</code></pre>\n\n<p>I would only do the above if you were pressed for time and it was only one column you cared about.  That is because openCSV can convert directly to an object that has the variables the same as the header column names using the <code>CsvToBean</code> class and the <code>HeaderColumnNameMappingStrategy</code>.  </p>\n\n<p>So first you would define a class that has the fields (and really you only need to put in the fields you want - extras are ignored and missing ones are null or default values). </p>\n\n<pre><code>public class CastleDTO {\n   private int id1;\n   private String castle1;\n   private double salary;\n   private String name1;\n\n   // have all the getters and setters here....\n}\n</code></pre>\n\n<p>Then your code would look like</p>\n\n<pre><code>CSVReader reader = new CSVReader(new FileReader(\"yourfile.csv\"));\nHeaderColumnNameMappingStrategy&lt;CastleDTO&gt; castleStrategy = new HeaderColumnNameMappingStrategy&lt;CastleDTO&gt;();\nCsvToBean&lt;CastleDTO&gt; csvToBean = new CsvToBean&lt;CastleDTO&gt;();\n\nList&lt;CastleDTO&gt; castleList = csvToBean.parse(castleStrategy, reader);\n\nfor (CastleDTO dto : castleList) {\n   System.out.println(dto.getCastle1());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695321682,"creation_date":1584313454,"answer_id":60698551,"question_id":31414120,"body_markdown":"From the [opencsv docs][1]:\r\n\r\n&gt; Starting with version 4.2, there’s another handy way of reading CSV files that doesn’t even require creating special classes. If your CSV file has headers, you can initialize a CSVReaderHeaderAware instance and read values as a map:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n      reader = new CSVReaderHeaderAware(new FileReader(&quot;yourfile.csv&quot;));\r\n      record = reader.readMap();\r\n\r\n`.readMap()` will return a single record. You need to call `.readMap()` repeatedly to get all the records until you get `null` when it runs to the end (or to the first empty line), e.g.:\r\n\r\n    Map&lt;String, String&gt; values;\r\n\r\n    while ((values = reader.readMap()) != null) {\r\n\r\n        // consume the values here\r\n\r\n    }\r\n\r\n\r\nThe class also has another constructor which allows more customization, e.g.:\r\n\r\n    CSVReaderHeaderAware reader = new CSVReaderHeaderAware(\r\n            new InputStreamReader(inputStream),\r\n            0,      // skipLines\r\n            parser, // custom parser\r\n            false,  // keep end of lines\r\n            true,   // verify reader\r\n            0,      // multiline limit\r\n            null    // null for default locale\r\n    );\r\n\r\nA possible downside is that since the reader is lazy it does not offer a record count, therefore, if you need to know the total number (for example to display correct progress information), then you&#39;ll need to use another reader just for counting lines.\r\n\r\n\r\nSee also:\r\n- [CSVReaderHeaderAwareBuilder][2]\r\n\r\n\r\n  [1]: http://opencsv.sourceforge.net/#even_quicker_start\r\n  [2]: https://javadoc.io/doc/com.opencsv/opencsv/latest/com/opencsv/CSVReaderHeaderAwareBuilder.html","title":"How to read from particular header in opencsv?","body":"<p>From the <a href=\"http://opencsv.sourceforge.net/#even_quicker_start\" rel=\"nofollow noreferrer\">opencsv docs</a>:</p>\n<blockquote>\n<p>Starting with version 4.2, there’s another handy way of reading CSV files that doesn’t even require creating special classes. If your CSV file has headers, you can initialize a CSVReaderHeaderAware instance and read values as a map:</p>\n</blockquote>\n\n<pre class=\"lang-java prettyprint-override\"><code>  reader = new CSVReaderHeaderAware(new FileReader(&quot;yourfile.csv&quot;));\n  record = reader.readMap();\n</code></pre>\n<p><code>.readMap()</code> will return a single record. You need to call <code>.readMap()</code> repeatedly to get all the records until you get <code>null</code> when it runs to the end (or to the first empty line), e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; values;\n\nwhile ((values = reader.readMap()) != null) {\n\n    // consume the values here\n\n}\n</code></pre>\n<p>The class also has another constructor which allows more customization, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CSVReaderHeaderAware reader = new CSVReaderHeaderAware(\n        new InputStreamReader(inputStream),\n        0,      // skipLines\n        parser, // custom parser\n        false,  // keep end of lines\n        true,   // verify reader\n        0,      // multiline limit\n        null    // null for default locale\n);\n</code></pre>\n<p>A possible downside is that since the reader is lazy it does not offer a record count, therefore, if you need to know the total number (for example to display correct progress information), then you'll need to use another reader just for counting lines.</p>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://javadoc.io/doc/com.opencsv/opencsv/latest/com/opencsv/CSVReaderHeaderAwareBuilder.html\" rel=\"nofollow noreferrer\">CSVReaderHeaderAwareBuilder</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2631431,"reputation":712,"user_id":2277286,"accept_rate":85,"display_name":"elkoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608102575,"creation_date":1607585268,"answer_id":65230162,"question_id":31414120,"body_markdown":"I had a task to remove several columns from existing csv, example of csv:\r\n\r\n    FirstName, LastName, City, County, Zip\r\n    Steve,Hopkins,London,Greater London,15554\r\n    James,Bond,Vilnius,Vilniaus,03250\r\nI needed only FirstName and LastName columns with values and it is very important that order should be the same - default rd.readMap() does not preserve the order, code for this task:\r\n\r\n        \r\n\r\n            String[] COLUMN_NAMES_TO_REMOVE = new String[]{&quot;&quot;, &quot;City&quot;, &quot;County&quot;, &quot;Zip&quot;};\r\n            CSVReaderHeaderAware rd = new CSVReaderHeaderAware(new StringReader(old.csv));\r\n            CSVWriter writer = new CSVWriter((new FileWriter(new.csv)),\r\n                    CSVWriter.DEFAULT_SEPARATOR, CSVWriter.NO_QUOTE_CHARACTER, CSVWriter.NO_ESCAPE_CHARACTER, CSVWriter.DEFAULT_LINE_END);\r\n    \r\n            // let&#39;s get private field\r\n            Field privateField = CSVReaderHeaderAware.class.getDeclaredField(&quot;headerIndex&quot;);\r\n            privateField.setAccessible(true);\r\n            Map&lt;String, Integer&gt; headerIndex = (Map&lt;String, Integer&gt;) privateField.get(rd);\r\n    \r\n            // do ordering in natural order - 0, 1, 2 ... n\r\n            Map&lt;String, Integer&gt; sortedInNaturalOrder = headerIndex.entrySet().stream()\r\n                    .sorted(Map.Entry.comparingByValue(Comparator.naturalOrder()))\r\n                    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,\r\n                            (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\r\n    \r\n            // let&#39;s get headers in natural order\r\n            List&lt;String&gt; headers = sortedInNaturalOrder.keySet().stream().distinct().collect(Collectors.toList());\r\n    \r\n            // let&#39;s remove headers\r\n            List&lt;String&gt; removedColumns = new ArrayList&lt;String&gt;(Arrays.asList(COLUMN_NAMES_TO_REMOVE));\r\n            headers.removeAll(removedColumns);\r\n            // save column names           \r\n            writer.writeNext(headers.toArray(new String[headers.size()]));\r\n       \r\n            List&lt;String&gt; keys = new ArrayList&lt;&gt;();\r\n            Map&lt;String, String&gt; values;\r\n            while ((values = rd.readMap()) != null) {\r\n                for (String key : headers) {\r\n                    keys.add(values.get(key));\r\n                    if (keys.size() == headers.size()) {\r\n                        String[] itemsArray = new String[headers.size()];\r\n                        itemsArray = keys.toArray(itemsArray);\r\n                        // save values                       \r\n                        writer.writeNext(itemsArray);\r\n                        keys.clear();\r\n                    }\r\n                }\r\n            }\r\n            writer.flush();\r\n\r\nOutput:\r\n\r\n    FirstName, LastName\r\n    Steve,Hopkins\r\n    James,Bond\r\n","title":"How to read from particular header in opencsv?","body":"<p>I had a task to remove several columns from existing csv, example of csv:</p>\n<pre><code>FirstName, LastName, City, County, Zip\nSteve,Hopkins,London,Greater London,15554\nJames,Bond,Vilnius,Vilniaus,03250\n</code></pre>\n<p>I needed only FirstName and LastName columns with values and it is very important that order should be the same - default rd.readMap() does not preserve the order, code for this task:</p>\n<pre><code>        String[] COLUMN_NAMES_TO_REMOVE = new String[]{&quot;&quot;, &quot;City&quot;, &quot;County&quot;, &quot;Zip&quot;};\n        CSVReaderHeaderAware rd = new CSVReaderHeaderAware(new StringReader(old.csv));\n        CSVWriter writer = new CSVWriter((new FileWriter(new.csv)),\n                CSVWriter.DEFAULT_SEPARATOR, CSVWriter.NO_QUOTE_CHARACTER, CSVWriter.NO_ESCAPE_CHARACTER, CSVWriter.DEFAULT_LINE_END);\n\n        // let's get private field\n        Field privateField = CSVReaderHeaderAware.class.getDeclaredField(&quot;headerIndex&quot;);\n        privateField.setAccessible(true);\n        Map&lt;String, Integer&gt; headerIndex = (Map&lt;String, Integer&gt;) privateField.get(rd);\n\n        // do ordering in natural order - 0, 1, 2 ... n\n        Map&lt;String, Integer&gt; sortedInNaturalOrder = headerIndex.entrySet().stream()\n                .sorted(Map.Entry.comparingByValue(Comparator.naturalOrder()))\n                .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,\n                        (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\n\n        // let's get headers in natural order\n        List&lt;String&gt; headers = sortedInNaturalOrder.keySet().stream().distinct().collect(Collectors.toList());\n\n        // let's remove headers\n        List&lt;String&gt; removedColumns = new ArrayList&lt;String&gt;(Arrays.asList(COLUMN_NAMES_TO_REMOVE));\n        headers.removeAll(removedColumns);\n        // save column names           \n        writer.writeNext(headers.toArray(new String[headers.size()]));\n   \n        List&lt;String&gt; keys = new ArrayList&lt;&gt;();\n        Map&lt;String, String&gt; values;\n        while ((values = rd.readMap()) != null) {\n            for (String key : headers) {\n                keys.add(values.get(key));\n                if (keys.size() == headers.size()) {\n                    String[] itemsArray = new String[headers.size()];\n                    itemsArray = keys.toArray(itemsArray);\n                    // save values                       \n                    writer.writeNext(itemsArray);\n                    keys.clear();\n                }\n            }\n        }\n        writer.flush();\n</code></pre>\n<p>Output:</p>\n<pre><code>FirstName, LastName\nSteve,Hopkins\nJames,Bond\n</code></pre>\n"}],"owner":{"account_id":2377481,"reputation":1344,"user_id":2080429,"accept_rate":100,"display_name":"Yashasvi Raj Pant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25719,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":31414311,"answer_count":5,"score":13,"last_activity_date":1695321682,"creation_date":1436897285,"question_id":31414120,"body_markdown":"I have a csv file. I want to extract particular column from it.For example:\r\nSay, I have csv:\r\n\r\n    id1,caste1,salary,name1\r\n    63,Graham,101153.06,Abraham\r\n    103,Joseph,122451.02,Charlie\r\n    63,Webster,127965.91,Violet\r\n    76,Smith,156150.62,Eric\r\n    97,Moreno,55867.74,Mia\r\n    65,Reynolds,106918.14,Richard\r\n\r\nHow can i use opencsv to read only data from header caste1?","title":"How to read from particular header in opencsv?","body":"<p>I have a csv file. I want to extract particular column from it.For example:\nSay, I have csv:</p>\n\n<pre><code>id1,caste1,salary,name1\n63,Graham,101153.06,Abraham\n103,Joseph,122451.02,Charlie\n63,Webster,127965.91,Violet\n76,Smith,156150.62,Eric\n97,Moreno,55867.74,Mia\n65,Reynolds,106918.14,Richard\n</code></pre>\n\n<p>How can i use opencsv to read only data from header caste1?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664454985,"creation_date":1664454985,"answer_id":73895664,"question_id":73895498,"body_markdown":"You never know if your client loaded all the possible cookies. Because if you have asynchronous UI each new request might add new cookie or modify existing one. \r\n\r\nSo the better, more reliable and &quot;proper&quot;  approach would be to first of all know which cookies exactly you expect to have. Say you keep the names in `Set&lt;String&gt; cookieNames`.\r\n\r\nThen your wait would look like:\r\n\r\n```java\r\nwebDriverWait.until(\r\n        webDriver -&gt; {\r\n            Set&lt;Cookie&gt; cookies = webDriver.manage().getCookies();\r\n            return cookies.size() == cookieNames.size() &amp;&amp;\r\n                    cookies.stream().allMatch(cookie -&gt; cookieNames.contains(cookie.getName()));\r\n        }\r\n);\r\n```\r\n","title":"Selenium webDriver - wait for cookies and local db cookies in java","body":"<p>You never know if your client loaded all the possible cookies. Because if you have asynchronous UI each new request might add new cookie or modify existing one.</p>\n<p>So the better, more reliable and &quot;proper&quot;  approach would be to first of all know which cookies exactly you expect to have. Say you keep the names in <code>Set&lt;String&gt; cookieNames</code>.</p>\n<p>Then your wait would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>webDriverWait.until(\n        webDriver -&gt; {\n            Set&lt;Cookie&gt; cookies = webDriver.manage().getCookies();\n            return cookies.size() == cookieNames.size() &amp;&amp;\n                    cookies.stream().allMatch(cookie -&gt; cookieNames.contains(cookie.getName()));\n        }\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3355741,"reputation":438,"user_id":2818711,"display_name":"Marek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664458642,"creation_date":1664458642,"answer_id":73896497,"question_id":73895498,"body_markdown":"or if your frontend is using Angular, you can wait until this script is true (meaning the site is fully loaded) and then can continue with your script for fetching cookies:\r\n\r\n    return window.getAllAngularTestabilities().findIndex(x =&gt; !x.isStable()) === -1","title":"Selenium webDriver - wait for cookies and local db cookies in java","body":"<p>or if your frontend is using Angular, you can wait until this script is true (meaning the site is fully loaded) and then can continue with your script for fetching cookies:</p>\n<pre><code>return window.getAllAngularTestabilities().findIndex(x =&gt; !x.isStable()) === -1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19757287,"reputation":1,"user_id":14467294,"display_name":"Nebisis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695321409,"creation_date":1695321409,"answer_id":77152830,"question_id":73895498,"body_markdown":"I have experienced many cases where `document.readyState` returns &quot;complete&quot; before the page has visibly been loaded, let alone cookies after loggin in.\r\n\r\nTo check if a cookie exists in the session:\r\n\r\n    driver.manage().getCookieNamed(&quot;cookieName&quot;);\r\n\r\nProblem is that the `Cookie` object returned is **nullable**.\r\n\r\nOptions:\r\n\r\n1. try/catch - try to check if the cookie exists\r\n             - catch `NullPointerException` and try again \r\n\r\n2. create a retryable method that accepts another returning method (Supplier) and evaluates the boolean expression (Predicate) you want met.   *recommended\r\n\r\nFor example:\r\n\r\n      public &lt;T&gt; boolean retryable(Supplier&lt;T&gt; method, Predicate&lt;T&gt; condition, int retries) {\r\n        for (int i = 0; i &lt; retries; i++) {\r\n          T methodReturnValue = method.get();\r\n          if (!condition.test(methodReturnValue) || methodReturnValue == null) {\r\n            // Todo: sleep / wait / try again immediately\r\n          } else {\r\n              return true;\r\n          }\r\n        }\r\n        return false;\r\n      }\r\n\r\n\r\n**Just implicitly waiting without retrying is not recommended as it can waste execution time that builds up for each test using this wait**","title":"Selenium webDriver - wait for cookies and local db cookies in java","body":"<p>I have experienced many cases where <code>document.readyState</code> returns &quot;complete&quot; before the page has visibly been loaded, let alone cookies after loggin in.</p>\n<p>To check if a cookie exists in the session:</p>\n<pre><code>driver.manage().getCookieNamed(&quot;cookieName&quot;);\n</code></pre>\n<p>Problem is that the <code>Cookie</code> object returned is <strong>nullable</strong>.</p>\n<p>Options:</p>\n<ol>\n<li><p>try/catch - try to check if the cookie exists\n- catch <code>NullPointerException</code> and try again</p>\n</li>\n<li><p>create a retryable method that accepts another returning method (Supplier) and evaluates the boolean expression (Predicate) you want met.   *recommended</p>\n</li>\n</ol>\n<p>For example:</p>\n<pre><code>  public &lt;T&gt; boolean retryable(Supplier&lt;T&gt; method, Predicate&lt;T&gt; condition, int retries) {\n    for (int i = 0; i &lt; retries; i++) {\n      T methodReturnValue = method.get();\n      if (!condition.test(methodReturnValue) || methodReturnValue == null) {\n        // Todo: sleep / wait / try again immediately\n      } else {\n          return true;\n      }\n    }\n    return false;\n  }\n</code></pre>\n<p><strong>Just implicitly waiting without retrying is not recommended as it can waste execution time that builds up for each test using this wait</strong></p>\n"}],"owner":{"account_id":11780629,"reputation":365,"user_id":8620369,"display_name":"Maria Dorohin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1695321409,"creation_date":1664454220,"question_id":73895498,"body_markdown":"I use selenium to get cookies and local db cookies in java.\r\n\r\nif I use following code to wait the side will be ready I don&#39;t get all the cookies: \r\n\r\n    webDriverWait.until(webDriver -&gt; &quot;complete&quot;.equals((JavascriptExecutor) webDriver.executeScript(&quot;return document.readyState&quot;)))\r\n\r\n\r\nI saw that if I wait enough of time eventually I will get all the cookies (regular cookies and userData cookies that saved in local db).\r\n\r\nIs there a way to use webDriverWait to wait until all the cookies will be load?","title":"Selenium webDriver - wait for cookies and local db cookies in java","body":"<p>I use selenium to get cookies and local db cookies in java.</p>\n<p>if I use following code to wait the side will be ready I don't get all the cookies:</p>\n<pre><code>webDriverWait.until(webDriver -&gt; &quot;complete&quot;.equals((JavascriptExecutor) webDriver.executeScript(&quot;return document.readyState&quot;)))\n</code></pre>\n<p>I saw that if I wait enough of time eventually I will get all the cookies (regular cookies and userData cookies that saved in local db).</p>\n<p>Is there a way to use webDriverWait to wait until all the cookies will be load?</p>\n"},{"tags":["java","parsing","assembly","bytecode"],"answers":[{"comments":[{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1695322926,"post_id":77152791,"comment_id":136012733,"body_markdown":"Some branch layouts for non-looping code could defeat this heuristic, if Java compilers (or hand-written bytecode) can be as varied as what C compilers do when making asm/machine code for real CPUs.  For example, https://godbolt.org/z/5czvz6Y44 shows GCC chooses to put an `if` body after the `ret` of a function, so when the `if` is true it jumps there then jumps back, to an earlier label.  `call    printf` is followed by a backwards `jmp .L2`, but it&#39;s *not* in a loop.  If I understand your answer correctly, your algorithm would false-positive on that.  Perhaps Java compilers never do that?","body":"Some branch layouts for non-looping code could defeat this heuristic, if Java compilers (or hand-written bytecode) can be as varied as what C compilers do when making asm/machine code for real CPUs.  For example, <a href=\"https://godbolt.org/z/5czvz6Y44\" rel=\"nofollow noreferrer\">godbolt.org/z/5czvz6Y44</a> shows GCC chooses to put an <code>if</code> body after the <code>ret</code> of a function, so when the <code>if</code> is true it jumps there then jumps back, to an earlier label.  <code>call    printf</code> is followed by a backwards <code>jmp .L2</code>, but it&#39;s <i>not</i> in a loop.  If I understand your answer correctly, your algorithm would false-positive on that.  Perhaps Java compilers never do that?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1695394274,"post_id":77152791,"comment_id":136022923,"body_markdown":"@PeterCordes as far as I know, Java compilers don’t do that. Handcrafted bytecode, on the other hand, could create constructs where even humans wouldn’t be sure whether it counts as a loop or not.","body":"@PeterCordes as far as I know, Java compilers don’t do that. Handcrafted bytecode, on the other hand, could create constructs where even humans wouldn’t be sure whether it counts as a loop or not."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1695394974,"post_id":77152791,"comment_id":136023085,"body_markdown":"@Holger: So backward branches are *always* loop branches in Java compiler output?  I wondered if more complicated cases like `switch` could ever change that, even if they lay out if/else simply.  Or a lambda that becomes a block somewhere, but is only used once so the block can return with a jump instead of needing a return address?  Probably no, the compiler would just inline it into the only call site instead of doing that.","body":"@Holger: So backward branches are <i>always</i> loop branches in Java compiler output?  I wondered if more complicated cases like <code>switch</code> could ever change that, even if they lay out if/else simply.  Or a lambda that becomes a block somewhere, but is only used once so the block can return with a jump instead of needing a return address?  Probably no, the compiler would just inline it into the only call site instead of doing that."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1695401855,"post_id":77152791,"comment_id":136024424,"body_markdown":"@PeterCordes there are no such optimizations in current compilers. The body of a lambda expression is always desugared into a method, so even if an optimization for an only locally used lambda expression existed, it would be straight-forward to implement as an ordinary method invocation, rather than inlining the bytecode. In theory, a `case …: continue;` could be optimized to let the `switch` label point backwards, don’t know if that happens, in case of `if … continue;` or `else continue;` it does happen. However, backward branches still indicate the presence of a loop in these cases.","body":"@PeterCordes there are no such optimizations in current compilers. The body of a lambda expression is always desugared into a method, so even if an optimization for an only locally used lambda expression existed, it would be straight-forward to implement as an ordinary method invocation, rather than inlining the bytecode. In theory, a <code>case …: continue;</code> could be optimized to let the <code>switch</code> label point backwards, don’t know if that happens, in case of <code>if … continue;</code> or <code>else continue;</code> it does happen. However, backward branches still indicate the presence of a loop in these cases."}],"tags":[],"owner":{"account_id":35502,"reputation":28362,"user_id":100565,"accept_rate":59,"display_name":"MeBigFatGuy"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695321048,"creation_date":1695321048,"answer_id":77152791,"question_id":77152392,"body_markdown":"ok, figured out a way.\r\n\r\nCollect all the Labels in a set that you receive thru ```visitLabel```, and then when the instruction of interest happens, save off a copy of the already visited labels, while still collecting labels in the original set.\r\n\r\nWhen you visit a jmp instruction, if the label is in the set of visited labels collected at the time of the instruction of interest, you know it&#39;s a loop.","title":"Finding if the current instruction is in a loop using java&#39;s asm.jar","body":"<p>ok, figured out a way.</p>\n<p>Collect all the Labels in a set that you receive thru <code>visitLabel</code>, and then when the instruction of interest happens, save off a copy of the already visited labels, while still collecting labels in the original set.</p>\n<p>When you visit a jmp instruction, if the label is in the set of visited labels collected at the time of the instruction of interest, you know it's a loop.</p>\n"}],"owner":{"account_id":35502,"reputation":28362,"user_id":100565,"accept_rate":59,"display_name":"MeBigFatGuy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695321048,"creation_date":1695316960,"question_id":77152392,"body_markdown":"Using https://asm.ow2.io/\r\n\r\nI&#39;d like to determine whether the current instruction is inside a loop.\r\n\r\nI&#39;m confused as to how asm does this as, \r\n1) Backward Labels offsets aren&#39;t determined until you hit a statement that branches to them\r\n2) There doesn&#39;t seem to be a way to know the current instruction&#39;s offset\r\n\r\nso you can clearly determine if an instruction precedes or is in a loop, but it could be\r\n\r\n```\r\nstatement in question\r\nfor () {\r\n} // this jump gives you a label with a real offset but you don&#39;t know the statement in question&#39;s offset.\r\n```\r\nWhat am i missing?","title":"Finding if the current instruction is in a loop using java&#39;s asm.jar","body":"<p>Using <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">https://asm.ow2.io/</a></p>\n<p>I'd like to determine whether the current instruction is inside a loop.</p>\n<p>I'm confused as to how asm does this as,</p>\n<ol>\n<li>Backward Labels offsets aren't determined until you hit a statement that branches to them</li>\n<li>There doesn't seem to be a way to know the current instruction's offset</li>\n</ol>\n<p>so you can clearly determine if an instruction precedes or is in a loop, but it could be</p>\n<pre><code>statement in question\nfor () {\n} // this jump gives you a label with a real offset but you don't know the statement in question's offset.\n</code></pre>\n<p>What am i missing?</p>\n"},{"tags":["java","spring-boot","feign"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1695273471,"post_id":77145842,"comment_id":136002884,"body_markdown":"Not sure whether https://stackoverflow.com/questions/60221388/spring-boot-openfeign-java-lang-illegalstateexception-method-has-too-many-body/60271238#60271238 has some helpfull hints","body":"Not sure whether <a href=\"https://stackoverflow.com/questions/60221388/spring-boot-openfeign-java-lang-illegalstateexception-method-has-too-many-body/60271238#60271238\" title=\"spring boot openfeign java lang illegalstateexception method has too many body\">stackoverflow.com/questions/60221388/&hellip;</a> has some helpfull hints"}],"owner":{"account_id":29494909,"reputation":11,"user_id":22603209,"display_name":"Hiluminatu l"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695321032,"creation_date":1695242615,"question_id":77145842,"body_markdown":"Soo, I am using the following api endpoint:\r\n\r\n    @GetMapping(value=&quot;/api/data)\r\n    ResponseEntity&lt;Data&gt; getData(@AuthenticationPrincipal currentAuthenticatedUser, HttpServletRequest request);\r\n\r\nThis endpoint returns the following error when called through feign in a different microservice:\r\n\r\n    &quot;Method has too many Body parameters&quot;.\r\n\r\nAm I missing something? Because I don&#39;t use the ```@RequestBody``` and I don&#39;t use a body when calling my endpoint anyway. So why is this error being thrown?\r\n\r\n\r\nThank you in advance!\r\n\r\nSo what I did was that I upgraded the spring boot version to spring boot 3, and changed the package of HttpServletRequest from javax.servlet.http.HttpServletRequest to jakarta.servlet.http.HttpServletRequest. Before it worked marvelously, but just changing the package of one method property shouldn&#39;t change this thing drastically.","title":"Feign error: Method has too many Body parameters","body":"<p>Soo, I am using the following api endpoint:</p>\n<pre><code>@GetMapping(value=&quot;/api/data)\nResponseEntity&lt;Data&gt; getData(@AuthenticationPrincipal currentAuthenticatedUser, HttpServletRequest request);\n</code></pre>\n<p>This endpoint returns the following error when called through feign in a different microservice:</p>\n<pre><code>&quot;Method has too many Body parameters&quot;.\n</code></pre>\n<p>Am I missing something? Because I don't use the <code>@RequestBody</code> and I don't use a body when calling my endpoint anyway. So why is this error being thrown?</p>\n<p>Thank you in advance!</p>\n<p>So what I did was that I upgraded the spring boot version to spring boot 3, and changed the package of HttpServletRequest from javax.servlet.http.HttpServletRequest to jakarta.servlet.http.HttpServletRequest. Before it worked marvelously, but just changing the package of one method property shouldn't change this thing drastically.</p>\n"},{"tags":["java","android","android-recyclerview","picasso"],"comments":[{"owner":{"account_id":10851412,"reputation":147,"user_id":7979054,"display_name":"Deepak"},"score":0,"creation_date":1695307205,"post_id":77150835,"comment_id":136009493,"body_markdown":"Might be you are recreating that fragment hence try adding that fragment in back stack and when you are coming back to home use instance from back stack\n\n\nyou can check this answer\nhttps://stackoverflow.com/a/18306258/7979054","body":"Might be you are recreating that fragment hence try adding that fragment in back stack and when you are coming back to home use instance from back stack   you can check this answer <a href=\"https://stackoverflow.com/a/18306258/7979054\">stackoverflow.com/a/18306258/7979054</a>"}],"owner":{"account_id":29501111,"reputation":1,"user_id":22608105,"display_name":"Prateek Jangra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695307257,"answer_count":0,"score":0,"last_activity_date":1695321002,"creation_date":1695303719,"question_id":77150835,"body_markdown":"I am using fragment to change the App Ui (Ex: Favourite, Home, Setting fragments in the MainActivity).\r\n\r\nHome fragment is responsible for loading the images using recyclerview (Using Picasso library)\r\n\r\nWhen I am switching to different fragment (Home =&gt; Setting) and the switching back to Home fragment then the recyclerview is loading from start.\r\n\r\nProblem: **Doesn&#39;t able to cache the images into storage using Picasso and the recyclerview is showing items from start, I want to show the items where it&#39;s left before switching the fragments.**\r\n\r\n***Please use JAVA language***","title":"RecyclerView Not showing as I am expecting ANDROID STUDIO JAVA","body":"<p>I am using fragment to change the App Ui (Ex: Favourite, Home, Setting fragments in the MainActivity).</p>\n<p>Home fragment is responsible for loading the images using recyclerview (Using Picasso library)</p>\n<p>When I am switching to different fragment (Home =&gt; Setting) and the switching back to Home fragment then the recyclerview is loading from start.</p>\n<p>Problem: <strong>Doesn't able to cache the images into storage using Picasso and the recyclerview is showing items from start, I want to show the items where it's left before switching the fragments.</strong></p>\n<p><em><strong>Please use JAVA language</strong></em></p>\n"},{"tags":["java","impersonation"],"answers":[{"tags":[],"owner":{"account_id":3686166,"reputation":121,"user_id":3069892,"accept_rate":80,"display_name":"CodeJunkie"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1409215441,"creation_date":1409215441,"answer_id":25544483,"question_id":24888258,"body_markdown":"Finally i am able to solve this problem by creating one native C library using JNI.\r\n\r\nNative windows API used are\r\n\r\n     LogonUser : http://msdn.microsoft.com/en-us/library/windows/desktop/aa378184(v=vs.85).aspx\r\n     ImpersonateLoggedOnUser  : http://msdn.microsoft.com/en-us/library/windows/desktop/aa378612(v=vs.85).aspx\r\n     RevertToSelf  :  http://msdn.microsoft.com/en-us/library/windows/desktop/aa379317(v=vs.85).aspx","title":"User impersonation in java","body":"<p>Finally i am able to solve this problem by creating one native C library using JNI.</p>\n\n<p>Native windows API used are</p>\n\n<pre><code> LogonUser : http://msdn.microsoft.com/en-us/library/windows/desktop/aa378184(v=vs.85).aspx\n ImpersonateLoggedOnUser  : http://msdn.microsoft.com/en-us/library/windows/desktop/aa378612(v=vs.85).aspx\n RevertToSelf  :  http://msdn.microsoft.com/en-us/library/windows/desktop/aa379317(v=vs.85).aspx\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29483995,"reputation":1,"user_id":22594331,"display_name":"Vili"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695320922,"creation_date":1695142055,"answer_id":77136486,"question_id":24888258,"body_markdown":"Instead of:\r\n\r\n```java\r\n// Login using different user\r\nIWindowsIdentity identity = prov.logonDomainUser(&quot;abc.jim&quot;,&quot;abc.com&quot;, &quot;Xyz@123&quot;);\r\n```\r\n\r\nI did use:\r\n\r\n```java\r\nIWindowsIdentity identity = prov.logonDomainUserEx(&quot;abc.jim&quot;,&quot;abc.com&quot;,&quot;Xyz@123&quot;,2,0);\r\n```\r\n\r\nThen code on the top of the thread work...","title":"User impersonation in java","body":"<p>Instead of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Login using different user\nIWindowsIdentity identity = prov.logonDomainUser(&quot;abc.jim&quot;,&quot;abc.com&quot;, &quot;Xyz@123&quot;);\n</code></pre>\n<p>I did use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IWindowsIdentity identity = prov.logonDomainUserEx(&quot;abc.jim&quot;,&quot;abc.com&quot;,&quot;Xyz@123&quot;,2,0);\n</code></pre>\n<p>Then code on the top of the thread work...</p>\n"}],"owner":{"account_id":3686166,"reputation":121,"user_id":3069892,"accept_rate":80,"display_name":"CodeJunkie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6702,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":25544483,"answer_count":2,"score":5,"last_activity_date":1695320922,"creation_date":1406034405,"question_id":24888258,"body_markdown":"Using impersonation I tried to read a file located on the network in a shared folder. But I got the error &quot;Access is denied&quot;. My source code is given below ...\r\n\r\nThis works fine for local resources. But gives error when access network resources. line\r\n\\\\sever\\shared\\abc.txt\r\n\r\n        // Create a provider that implements Windows authentication functions\r\n        IWindowsAuthProvider prov = new WindowsAuthProviderImpl();\r\n\r\n        // Login using different user\r\n        IWindowsIdentity identity = prov.logonDomainUser(&quot;abc.jim&quot;,&quot;abc.com&quot;, &quot;Xyz@123&quot;);\r\n        IWindowsImpersonationContext context = identity.impersonate();\r\n\r\n        // Reading file using new user\r\n        readFile(); // It gives error - Access is denied\r\n\r\n        // Revert back to original logged user \r\n        context.revertToSelf();\r\n\r\n        readFile(); // It is working properly\r\n\r\n        // Cleanup the Windows identity\r\n        identity.dispose();","title":"User impersonation in java","body":"<p>Using impersonation I tried to read a file located on the network in a shared folder. But I got the error \"Access is denied\". My source code is given below ...</p>\n\n<p>This works fine for local resources. But gives error when access network resources. line\n\\sever\\shared\\abc.txt</p>\n\n<pre><code>    // Create a provider that implements Windows authentication functions\n    IWindowsAuthProvider prov = new WindowsAuthProviderImpl();\n\n    // Login using different user\n    IWindowsIdentity identity = prov.logonDomainUser(\"abc.jim\",\"abc.com\", \"Xyz@123\");\n    IWindowsImpersonationContext context = identity.impersonate();\n\n    // Reading file using new user\n    readFile(); // It gives error - Access is denied\n\n    // Revert back to original logged user \n    context.revertToSelf();\n\n    readFile(); // It is working properly\n\n    // Cleanup the Windows identity\n    identity.dispose();\n</code></pre>\n"},{"tags":["java","itext7"],"answers":[{"comments":[{"owner":{"account_id":4619726,"reputation":696,"user_id":3745149,"display_name":"landings"},"score":0,"creation_date":1647332709,"post_id":56445126,"comment_id":126338304,"body_markdown":"I can also do `document.add(new Paragraph(&quot;Hello World&quot;));`. What&#39;s the difference between `Canvas.add` and `Document.add`?","body":"I can also do <code>document.add(new Paragraph(&quot;Hello World&quot;));</code>. What&#39;s the difference between <code>Canvas.add</code> and <code>Document.add</code>?"},{"owner":{"account_id":8930620,"reputation":2388,"user_id":6663375,"display_name":"Uladzimir Asipchuk"},"score":1,"creation_date":1647501552,"post_id":56445126,"comment_id":126388207,"body_markdown":"`Document` represents tha main content flow of the document. Invoking `Document#add` adds element to the current page and then shrink&#39;s the left page space, so that the next time `Document#add` is called the element to be added will be placed on a srinked area. Once there is no space on this page for the element to be added, `Document#add` creates the next page and places the element there.\n`Canvas#add`, on the other hand, is designed to place content on the area around which it was construted. It shrinks this area after each `#add` as well, but doesn&#39;t create any new page in case of no space","body":"<code>Document</code> represents tha main content flow of the document. Invoking <code>Document#add</code> adds element to the current page and then shrink&#39;s the left page space, so that the next time <code>Document#add</code> is called the element to be added will be placed on a srinked area. Once there is no space on this page for the element to be added, <code>Document#add</code> creates the next page and places the element there. <code>Canvas#add</code>, on the other hand, is designed to place content on the area around which it was construted. It shrinks this area after each <code>#add</code> as well, but doesn&#39;t create any new page in case of no space"}],"tags":[],"owner":{"account_id":8930620,"reputation":2388,"user_id":6663375,"display_name":"Uladzimir Asipchuk"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1559655555,"creation_date":1559655555,"answer_id":56445126,"question_id":56444723,"body_markdown":"In a nutshell, `PdfCanvas` is designed for low-level operations and `Canvas` - for high-level ones.\r\n\r\nYou want to write rectangles / pathes / text and any other operators to the content stream of a pdf? Use the `PdfCanvas` instance.\r\n\r\nYou want to add high-level iText objects (`Paragraph`s, `Table`s, `List`s, ...) to your `PdfCanvas`? Use the `Canvas` instance.\r\n\r\n**PdfCanvas example**\r\n\r\n            PdfDocument pdfDoc = new PdfDocument(new PdfWriter(destinationFolder + &quot;simpleCanvas.pdf&quot;));\r\n\r\n        PdfPage page1 = pdfDoc.addNewPage();\r\n\r\n        PdfCanvas canvas = new PdfCanvas(page1);\r\n        canvas.rectangle(100, 100, 100, 100).fill();\r\n\r\n        pdfDoc.close();\r\n\r\nThe resultant pdf: [![enter image description here][1]][1]\r\n\r\n\r\n**Canvas example**\r\n\r\n                PdfDocument pdf = new PdfDocument(new PdfWriter(out));\r\n\r\n        PdfPage page = pdf.addNewPage();\r\n        PdfCanvas pdfCanvas = new PdfCanvas(page);\r\n\r\n        Rectangle rectangle = new Rectangle(100, 100, 100, 100);\r\n\r\n        Canvas canvas = new Canvas(pdfCanvas, pdf, rectangle);\r\n        canvas.add(new Paragraph(&quot;Hello World&quot;));\r\n\r\n        canvas.close();\r\n\r\n        pdf.close();\r\n\r\n\r\nThe resultant pdf: [![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UOddC.png\r\n  [2]: https://i.stack.imgur.com/b8Uym.png","title":"Difference between PdfCanvas and Canvas in itext 7","body":"<p>In a nutshell, <code>PdfCanvas</code> is designed for low-level operations and <code>Canvas</code> - for high-level ones.</p>\n\n<p>You want to write rectangles / pathes / text and any other operators to the content stream of a pdf? Use the <code>PdfCanvas</code> instance.</p>\n\n<p>You want to add high-level iText objects (<code>Paragraph</code>s, <code>Table</code>s, <code>List</code>s, ...) to your <code>PdfCanvas</code>? Use the <code>Canvas</code> instance.</p>\n\n<p><strong>PdfCanvas example</strong></p>\n\n<pre><code>        PdfDocument pdfDoc = new PdfDocument(new PdfWriter(destinationFolder + \"simpleCanvas.pdf\"));\n\n    PdfPage page1 = pdfDoc.addNewPage();\n\n    PdfCanvas canvas = new PdfCanvas(page1);\n    canvas.rectangle(100, 100, 100, 100).fill();\n\n    pdfDoc.close();\n</code></pre>\n\n<p>The resultant pdf: <a href=\"https://i.stack.imgur.com/UOddC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UOddC.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Canvas example</strong></p>\n\n<pre><code>            PdfDocument pdf = new PdfDocument(new PdfWriter(out));\n\n    PdfPage page = pdf.addNewPage();\n    PdfCanvas pdfCanvas = new PdfCanvas(page);\n\n    Rectangle rectangle = new Rectangle(100, 100, 100, 100);\n\n    Canvas canvas = new Canvas(pdfCanvas, pdf, rectangle);\n    canvas.add(new Paragraph(\"Hello World\"));\n\n    canvas.close();\n\n    pdf.close();\n</code></pre>\n\n<p>The resultant pdf: <a href=\"https://i.stack.imgur.com/b8Uym.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b8Uym.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":13478230,"reputation":90,"user_id":9724395,"display_name":"Vakul Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5883,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1559700551,"accepted_answer_id":56445126,"answer_count":1,"score":1,"last_activity_date":1695320791,"creation_date":1559654170,"question_id":56444723,"body_markdown":"What is the difference between the PdfCanvas and Canvas classes in the iText7 library? When should I use each one of them?","title":"Difference between PdfCanvas and Canvas in itext 7","body":"<p>What is the difference between the PdfCanvas and Canvas classes in the iText7 library? When should I use each one of them?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1695354056,"post_id":77152678,"comment_id":136016059,"body_markdown":"Creating a checkbox is more complex, have a look at the `CreateCheckBox.java` code from the source code download.","body":"Creating a checkbox is more complex, have a look at the <code>CreateCheckBox.java</code> code from the source code download."},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1695366339,"post_id":77152678,"comment_id":136017305,"body_markdown":"@TilmanHausherr I saw this code, but it doesn&#39;t explain how to add kids&#39; widgets to this ```Checkbox``` field. If I try to create another widget and add it like shown in my example, I see only one checkbox, but in the pdf debugger I see two widgets.","body":"@TilmanHausherr I saw this code, but it doesn&#39;t explain how to add kids&#39; widgets to this <code>Checkbox</code> field. If I try to create another widget and add it like shown in my example, I see only one checkbox, but in the pdf debugger I see two widgets."},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1695366429,"post_id":77152678,"comment_id":136017323,"body_markdown":"@TilmanHausherr are you saying about this one? https://github.com/apache/pdfbox/blob/trunk/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/CreateCheckBox.java","body":"@TilmanHausherr are you saying about this one? <a href=\"https://github.com/apache/pdfbox/blob/trunk/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/CreateCheckBox.java\" rel=\"nofollow noreferrer\">github.com/apache/pdfbox/blob/trunk/examples/src/main/java/o&zwnj;&#8203;rg/&hellip;</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1695376659,"post_id":77152678,"comment_id":136019316,"body_markdown":"Yes, that one, or the one for 2.0 https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/CreateCheckBox.java?view=markup","body":"Yes, that one, or the one for 2.0 <a href=\"https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/CreateCheckBox.java?view=markup\" rel=\"nofollow noreferrer\">svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1695376738,"post_id":77152678,"comment_id":136019330,"body_markdown":"The difference for you is that field != widget, so you&#39;d have to create the widgets separately and set them to the field instead of `checkbox.getWidgets().get(0)`","body":"The difference for you is that field != widget, so you&#39;d have to create the widgets separately and set them to the field instead of <code>checkbox.getWidgets().get(0)</code>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1695377264,"post_id":77152678,"comment_id":136019429,"body_markdown":"See the CreateMultiWidgetsForm.java example on how to have several widgets for 1 annotation","body":"See the CreateMultiWidgetsForm.java example on how to have several widgets for 1 annotation"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695320047,"creation_date":1695320047,"question_id":77152678,"body_markdown":"I need to create several checkbox buttons with the same name. The first checkbox should be placed on the first page, and the second one should be placed on the second page. When I pick up one of them, the second must be picked up too.&lt;br/&gt; \r\nI use the PDFBox 2.0.29 version.&lt;br/&gt;\r\nI try to do it the following way:\r\n```\r\npublic void addCheckbox(String name) {\r\n    PDField field = getField(&quot;checkbox1&quot;);\r\n    boolean isOld = true;\r\n    if (field == null) {\r\n        isOld = false;\r\n        field = new PDCheckbox(acroForm);\r\n        field.setPartialName(name));\r\n        acroForm.getFields().add(field);\r\n    }\r\n    PDAnnotationWidget widget = new PDAnnotationWidget();\r\n    widget.setPage(page);\r\n    ...\r\n    PDAppearanceDictionary appearance = new PDAppearanceDictionary();\r\n    widget.setAppearance(appearance);\r\n    if (isOld) {\r\n        List&lt;PDAnnotationWidget&gt; widgets = field.getWidgets();\r\n        widgets.add(widget);\r\n        ((PDTerminalField) field).setWidgets(widgets);\r\n    }\r\n    page.getAnnotations().add(widget);\r\n}\r\n\r\npublic PDField getField(String name) {\r\n    for (PDField item : acroForm.getFields()) {\r\n        if (item.getFullyQualifiedName().equals(name)) {\r\n            return item;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```\r\nbut I don&#39;t see my checkboxes on the PDF document. Can anyone help me to add these ones?","title":"How to create checkbox fields with the same name","body":"<p>I need to create several checkbox buttons with the same name. The first checkbox should be placed on the first page, and the second one should be placed on the second page. When I pick up one of them, the second must be picked up too.<br/>\nI use the PDFBox 2.0.29 version.<br/>\nI try to do it the following way:</p>\n<pre><code>public void addCheckbox(String name) {\n    PDField field = getField(&quot;checkbox1&quot;);\n    boolean isOld = true;\n    if (field == null) {\n        isOld = false;\n        field = new PDCheckbox(acroForm);\n        field.setPartialName(name));\n        acroForm.getFields().add(field);\n    }\n    PDAnnotationWidget widget = new PDAnnotationWidget();\n    widget.setPage(page);\n    ...\n    PDAppearanceDictionary appearance = new PDAppearanceDictionary();\n    widget.setAppearance(appearance);\n    if (isOld) {\n        List&lt;PDAnnotationWidget&gt; widgets = field.getWidgets();\n        widgets.add(widget);\n        ((PDTerminalField) field).setWidgets(widgets);\n    }\n    page.getAnnotations().add(widget);\n}\n\npublic PDField getField(String name) {\n    for (PDField item : acroForm.getFields()) {\n        if (item.getFullyQualifiedName().equals(name)) {\n            return item;\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>but I don't see my checkboxes on the PDF document. Can anyone help me to add these ones?</p>\n"},{"tags":["java","html","spring-boot","forms","post"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1695317899,"post_id":77152424,"comment_id":136011790,"body_markdown":"&quot;I tried some scripts in js&quot; You mean Java I think, not JavaScript. You wouldn&#39;t be handling a POST request in JavaScript unless you were using node.js","body":"&quot;I tried some scripts in js&quot; You mean Java I think, not JavaScript. You wouldn&#39;t be handling a POST request in JavaScript unless you were using node.js"},{"owner":{"account_id":29256442,"reputation":11,"user_id":22414533,"display_name":"GPPiotr"},"score":0,"creation_date":1695319946,"post_id":77152424,"comment_id":136012182,"body_markdown":"I guess I already solved it by &lt;script&gt;. Right now I have second problem I don`t know how to display info on html from JSON. Do You maybe know how to solve it?","body":"I guess I already solved it by &lt;script&gt;. Right now I have second problem I don`t know how to display info on html from JSON. Do You maybe know how to solve it?"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1695320325,"post_id":77152424,"comment_id":136012261,"body_markdown":"If you&#39;ve solved your problem you should either post your answer (if you think it might be helpful for others) or delete your question. After that, you can post your new question on SO, however a problem like &quot;I don&#39;t know how to display info on html from JSON&quot; is very broad and may not be received very well.","body":"If you&#39;ve solved your problem you should either post your answer (if you think it might be helpful for others) or delete your question. After that, you can post your new question on SO, however a problem like &quot;I don&#39;t know how to display info on html from JSON&quot; is very broad and may not be received very well."},{"owner":{"account_id":10770525,"reputation":526,"user_id":7924110,"display_name":"Kenany"},"score":0,"creation_date":1695325658,"post_id":77152424,"comment_id":136013170,"body_markdown":"You should use Javascript to solve your problem even to display JSON into Html. Follow that link to learn about DOM manipulation:   https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents","body":"You should use Javascript to solve your problem even to display JSON into Html. Follow that link to learn about DOM manipulation:   <a href=\"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Learn/JavaScript/&hellip;</a>"},{"owner":{"account_id":29256442,"reputation":11,"user_id":22414533,"display_name":"GPPiotr"},"score":0,"creation_date":1695399139,"post_id":77152424,"comment_id":136023924,"body_markdown":"@Kenany thanks for answer. I will check this link","body":"@Kenany thanks for answer. I will check this link"}],"owner":{"account_id":29256442,"reputation":11,"user_id":22414533,"display_name":"GPPiotr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695317745,"creation_date":1695317300,"question_id":77152424,"body_markdown":"Could You help me with POST method in my HTML? Okay so I have a localhost:8080/create-your-package with form and text inputs with labels. I have too a second endpoint on localhost:8080/create-package and this endpoint takes as argument Object of My type Package(all the variables that my form have). How can I take those values from input and create from them a new Object of Package and send it as POST method into create-package?\r\n\r\n\r\nmy Package \r\n\r\n\r\n```\r\npackage com.courier.application.model;\r\n\r\nimport jakarta.validation.Valid;\r\nimport lombok.*;\r\nimport org.bson.types.ObjectId;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n@Document(collection = &quot;packages&quot;)\r\n@Data\r\n@AllArgsConstructor\r\npublic class Package {\r\n    @Id\r\n    private ObjectId packageId;\r\n    @Valid\r\n    private Point startingPoint;\r\n    @Valid\r\n    private Point destinationPoint;\r\n    private String expectedShippingTime;\r\n    private String trackingCode;\r\n}\r\n```\r\n\r\nPoint Object from Package Class\r\n\r\n\r\n```\r\npackage com.courier.application.model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\n\r\nimport jakarta.validation.constraints.Size;\r\nimport jakarta.validation.constraints.NotBlank;\r\n\r\n@Data\r\n@AllArgsConstructor\r\npublic class Point {\r\n    @NotBlank\r\n    @Size(min = 2, max = 25)\r\n    private String city;\r\n    @NotBlank\r\n    @Size(min = 2, max = 25)\r\n    private String street;\r\n    @NotBlank\r\n    @Size(min = 1, max = 7)\r\n    private String apartment;\r\n    @NotBlank\r\n    @Size(min = 3, max = 7)\r\n    private String postalCode;\r\n}\r\n```\r\n\r\n\r\nmy HTML\r\n\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;pl&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/package-create.css&quot;&gt;\r\n    &lt;title&gt;PaczkaTrack - stw&#243;rz paczkę&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;Formularz paczki&lt;/h1&gt;\r\n&lt;form action=&quot;http://localhost:8080/create-package&quot; method=&quot;POST&quot;&gt;\r\n    &lt;h2&gt;Nadawca&lt;/h2&gt;\r\n    &lt;label for=&quot;startingPoint.city&quot;&gt;Miasto&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;startingPoint.city&quot; name=&quot;startingPoint.city&quot; required&gt;\r\n\r\n    &lt;label for=&quot;startingPoint.street&quot;&gt;Ulica&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;startingPoint.street&quot; name=&quot;startingPoint.street&quot; required&gt;\r\n\r\n    &lt;label for=&quot;startingPoint.apartment&quot;&gt;Apartment&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;startingPoint.apartment&quot; name=&quot;startingPoint.apartment&quot; required&gt;\r\n\r\n    &lt;label for=&quot;startingPoint.postalCode&quot;&gt;Kod&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;startingPoint.postalCode&quot; name=&quot;startingPoint.postalCode&quot; required&gt;\r\n\r\n    &lt;h2&gt;Odbiorca&lt;/h2&gt;\r\n\r\n    &lt;label for=&quot;destinationPoint.city&quot;&gt;Miasto&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;destinationPoint.city&quot; name=&quot;destinationPoint.city&quot; required&gt;\r\n\r\n    &lt;label for=&quot;destinationPoint.street&quot;&gt;Ulica&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;destinationPoint.street&quot; name=&quot;destinationPoint.street&quot; required&gt;\r\n\r\n    &lt;label for=&quot;destinationPoint.apartment&quot;&gt;Apartment&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;destinationPoint.apartment&quot; name=&quot;destinationPoint.apartment&quot; required&gt;\r\n\r\n    &lt;label for=&quot;destinationPoint.postalCode&quot;&gt;Kod&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;destinationPoint.postalCode&quot; name=&quot;destinationPoint.postalCode&quot; required&gt;\r\n\r\n    &lt;input type=&quot;submit&quot; value=&quot;Dodaj pake!&quot;&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\nmy Controller with create-package\r\n\r\n\r\n```\r\npackage com.courier.application.controller;\r\n\r\nimport com.courier.application.error.PackageNotFoundException;\r\nimport com.courier.application.error.PackageSentToWrongAddressException;\r\nimport com.courier.application.model.Package;\r\nimport com.courier.application.service.PackageService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport jakarta.validation.Valid;\r\nimport java.util.Optional;\r\n\r\n@RestController\r\n@Validated\r\npublic class PackageController {\r\n\r\n    @Autowired\r\n    PackageService packageService;\r\n\r\n    @GetMapping(&quot;/find-package&quot;)\r\n    public Optional&lt;Package&gt; findPackageByTrackingCode(String trackingCode) throws PackageNotFoundException {\r\n        return packageService.findByTrackingCode(trackingCode);\r\n    }\r\n\r\n    @PostMapping(&quot;/create-package&quot;)\r\n    public Package createPackage(@Valid @RequestBody Package createdPackage) throws PackageSentToWrongAddressException {\r\n        return packageService.saveCreatedPackage(createdPackage);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI tried some scripts in js but none of them worked. How Can I solve my problem?","title":"POST method from input HTML to spring boot","body":"<p>Could You help me with POST method in my HTML? Okay so I have a localhost:8080/create-your-package with form and text inputs with labels. I have too a second endpoint on localhost:8080/create-package and this endpoint takes as argument Object of My type Package(all the variables that my form have). How can I take those values from input and create from them a new Object of Package and send it as POST method into create-package?</p>\n<p>my Package</p>\n<pre><code>package com.courier.application.model;\n\nimport jakarta.validation.Valid;\nimport lombok.*;\nimport org.bson.types.ObjectId;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@Document(collection = &quot;packages&quot;)\n@Data\n@AllArgsConstructor\npublic class Package {\n    @Id\n    private ObjectId packageId;\n    @Valid\n    private Point startingPoint;\n    @Valid\n    private Point destinationPoint;\n    private String expectedShippingTime;\n    private String trackingCode;\n}\n</code></pre>\n<p>Point Object from Package Class</p>\n<pre><code>package com.courier.application.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\n\nimport jakarta.validation.constraints.Size;\nimport jakarta.validation.constraints.NotBlank;\n\n@Data\n@AllArgsConstructor\npublic class Point {\n    @NotBlank\n    @Size(min = 2, max = 25)\n    private String city;\n    @NotBlank\n    @Size(min = 2, max = 25)\n    private String street;\n    @NotBlank\n    @Size(min = 1, max = 7)\n    private String apartment;\n    @NotBlank\n    @Size(min = 3, max = 7)\n    private String postalCode;\n}\n</code></pre>\n<p>my HTML</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;pl&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/package-create.css&quot;&gt;\n    &lt;title&gt;PaczkaTrack - stwórz paczkę&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Formularz paczki&lt;/h1&gt;\n&lt;form action=&quot;http://localhost:8080/create-package&quot; method=&quot;POST&quot;&gt;\n    &lt;h2&gt;Nadawca&lt;/h2&gt;\n    &lt;label for=&quot;startingPoint.city&quot;&gt;Miasto&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;startingPoint.city&quot; name=&quot;startingPoint.city&quot; required&gt;\n\n    &lt;label for=&quot;startingPoint.street&quot;&gt;Ulica&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;startingPoint.street&quot; name=&quot;startingPoint.street&quot; required&gt;\n\n    &lt;label for=&quot;startingPoint.apartment&quot;&gt;Apartment&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;startingPoint.apartment&quot; name=&quot;startingPoint.apartment&quot; required&gt;\n\n    &lt;label for=&quot;startingPoint.postalCode&quot;&gt;Kod&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;startingPoint.postalCode&quot; name=&quot;startingPoint.postalCode&quot; required&gt;\n\n    &lt;h2&gt;Odbiorca&lt;/h2&gt;\n\n    &lt;label for=&quot;destinationPoint.city&quot;&gt;Miasto&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;destinationPoint.city&quot; name=&quot;destinationPoint.city&quot; required&gt;\n\n    &lt;label for=&quot;destinationPoint.street&quot;&gt;Ulica&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;destinationPoint.street&quot; name=&quot;destinationPoint.street&quot; required&gt;\n\n    &lt;label for=&quot;destinationPoint.apartment&quot;&gt;Apartment&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;destinationPoint.apartment&quot; name=&quot;destinationPoint.apartment&quot; required&gt;\n\n    &lt;label for=&quot;destinationPoint.postalCode&quot;&gt;Kod&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;destinationPoint.postalCode&quot; name=&quot;destinationPoint.postalCode&quot; required&gt;\n\n    &lt;input type=&quot;submit&quot; value=&quot;Dodaj pake!&quot;&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>my Controller with create-package</p>\n<pre><code>package com.courier.application.controller;\n\nimport com.courier.application.error.PackageNotFoundException;\nimport com.courier.application.error.PackageSentToWrongAddressException;\nimport com.courier.application.model.Package;\nimport com.courier.application.service.PackageService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.*;\n\nimport jakarta.validation.Valid;\nimport java.util.Optional;\n\n@RestController\n@Validated\npublic class PackageController {\n\n    @Autowired\n    PackageService packageService;\n\n    @GetMapping(&quot;/find-package&quot;)\n    public Optional&lt;Package&gt; findPackageByTrackingCode(String trackingCode) throws PackageNotFoundException {\n        return packageService.findByTrackingCode(trackingCode);\n    }\n\n    @PostMapping(&quot;/create-package&quot;)\n    public Package createPackage(@Valid @RequestBody Package createdPackage) throws PackageSentToWrongAddressException {\n        return packageService.saveCreatedPackage(createdPackage);\n    }\n}\n\n</code></pre>\n<p>I tried some scripts in js but none of them worked. How Can I solve my problem?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":412598,"reputation":43470,"user_id":785745,"accept_rate":71,"display_name":"Kendall Frey"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1340822529,"creation_date":1340822177,"answer_id":11232855,"question_id":11232801,"body_markdown":"Use the following regex, and get a list of all matches. That will be what you are looking for.\r\n\r\n    \\d+|\\D+\r\n\r\nIn Java, I think the code would look something like this:\r\n\r\n    Matcher matcher = Pattern.compile(&quot;\\\\d+|\\\\D+&quot;).matcher(theString);\r\n    while (matcher.find())\r\n    {\r\n        // append matcher.group() to your list\r\n    }","title":"Regex split numbers and letter groups without spaces","body":"<p>Use the following regex, and get a list of all matches. That will be what you are looking for.</p>\n\n<pre><code>\\d+|\\D+\n</code></pre>\n\n<p>In Java, I think the code would look something like this:</p>\n\n<pre><code>Matcher matcher = Pattern.compile(\"\\\\d+|\\\\D+\").matcher(theString);\nwhile (matcher.find())\n{\n    // append matcher.group() to your list\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1695317378,"creation_date":1340823281,"answer_id":11233149,"question_id":11232801,"body_markdown":"You can also use &quot;[look around][1]&quot; mechanism in regex describing where you want to `split` your text:\r\n\r\n\tString stringToSplit = &quot;11E12C108N&quot;;\r\n\tString[] tokens = stringToSplit .split(&quot;(?&lt;=\\\\d)(?=\\\\D)|(?=\\\\d)(?&lt;=\\\\D)&quot;);\r\n\tSystem.out.println(Arrays.toString(tokens));\r\n\r\noutput: `[11, E, 12, C, 108, N]`\r\n\r\nIdea is to split in places which are between digit (`\\d`) and non-digit (`\\D`). In other words it is place (empty string) which have:\r\n\r\n- digit before `(?&lt;=\\d)` and non-digit after it `(?=\\D)`\r\n\r\nOR\r\n- non-digit before `(?&lt;=\\D)` and digit after it `(?=\\d)`\r\n\r\nMore info about `(?&lt;=..)` and `(?=..)` (and few more) you can find at http://www.regular-expressions.info/lookaround.html\r\n\r\n\r\n  [1]: https://www.regular-expressions.info/lookaround.html","title":"Regex split numbers and letter groups without spaces","body":"<p>You can also use &quot;<a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">look around</a>&quot; mechanism in regex describing where you want to <code>split</code> your text:</p>\n<pre><code>String stringToSplit = &quot;11E12C108N&quot;;\nString[] tokens = stringToSplit .split(&quot;(?&lt;=\\\\d)(?=\\\\D)|(?=\\\\d)(?&lt;=\\\\D)&quot;);\nSystem.out.println(Arrays.toString(tokens));\n</code></pre>\n<p>output: <code>[11, E, 12, C, 108, N]</code></p>\n<p>Idea is to split in places which are between digit (<code>\\d</code>) and non-digit (<code>\\D</code>). In other words it is place (empty string) which have:</p>\n<ul>\n<li>digit before <code>(?&lt;=\\d)</code> and non-digit after it <code>(?=\\D)</code></li>\n</ul>\n<p>OR</p>\n<ul>\n<li>non-digit before <code>(?&lt;=\\D)</code> and digit after it <code>(?=\\d)</code></li>\n</ul>\n<p>More info about <code>(?&lt;=..)</code> and <code>(?=..)</code> (and few more) you can find at <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">http://www.regular-expressions.info/lookaround.html</a></p>\n"}],"owner":{"account_id":1003423,"reputation":322,"user_id":1017740,"accept_rate":71,"display_name":"Steve C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26216,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":11232855,"answer_count":2,"score":13,"last_activity_date":1695317378,"creation_date":1340821972,"question_id":11232801,"body_markdown":"If I have a string like &quot;11E12C108N&quot; which is a concatenation of letter groups and digit groups, how do I split them without a delimiter space character inbetween?\r\n\r\nFor example, I want the resulting split to be:\r\n\r\n    tokens[0] = &quot;11&quot;\r\n    tokens[1] = &quot;E&quot;\r\n    tokens[2] = &quot;12&quot;\r\n    tokens[3] = &quot;C&quot;\r\n    tokens[4] = &quot;108&quot;\r\n    tokens[5] = &quot;N&quot;\r\n\r\nI have this right now.\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString stringToSplit = &quot;11E12C108N&quot;;\r\n\t\t\r\n\t\tPattern pattern = Pattern.compile(&quot;\\\\d+\\\\D+&quot;);\r\n\t\tMatcher matcher = pattern.matcher(stringToSplit);\r\n\t\t\r\n\t\twhile (matcher.find()) {\r\n\t\t\tSystem.out.println(matcher.group());\r\n\t\t}\r\n\t}\r\n\r\nWhich gives me:\r\n\r\n    11E\r\n    12C\r\n    108N\r\n\r\nCan I make the original regex do a complete split in one go? Instead of having to run the regex again on the intermediate tokens?","title":"Regex split numbers and letter groups without spaces","body":"<p>If I have a string like \"11E12C108N\" which is a concatenation of letter groups and digit groups, how do I split them without a delimiter space character inbetween?</p>\n\n<p>For example, I want the resulting split to be:</p>\n\n<pre><code>tokens[0] = \"11\"\ntokens[1] = \"E\"\ntokens[2] = \"12\"\ntokens[3] = \"C\"\ntokens[4] = \"108\"\ntokens[5] = \"N\"\n</code></pre>\n\n<p>I have this right now.</p>\n\n<pre><code>public static void main(String[] args) {\n\n    String stringToSplit = \"11E12C108N\";\n\n    Pattern pattern = Pattern.compile(\"\\\\d+\\\\D+\");\n    Matcher matcher = pattern.matcher(stringToSplit);\n\n    while (matcher.find()) {\n        System.out.println(matcher.group());\n    }\n}\n</code></pre>\n\n<p>Which gives me:</p>\n\n<pre><code>11E\n12C\n108N\n</code></pre>\n\n<p>Can I make the original regex do a complete split in one go? Instead of having to run the regex again on the intermediate tokens?</p>\n"},{"tags":["java","encryption","cryptography","aes"],"comments":[{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":0,"creation_date":1695313184,"post_id":77151365,"comment_id":136010845,"body_markdown":"Ok. I read falsly. Big-endian Little-endian.","body":"Ok. I read falsly. Big-endian Little-endian."}],"owner":{"account_id":28954964,"reputation":35,"user_id":22178719,"display_name":"schegga_BC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695317321,"creation_date":1695307793,"question_id":77151365,"body_markdown":"I am trying to implement an encryption function that uses the AES T-Tables implementation.\r\n\r\nI am quite sure that my roundKeys are correct.\r\nI also know that the initial round key addition in the following code is correct. \r\n\r\nSo there must be an error in the main rounds, but i am not sure what went wrong. I have narrowed it down to the following problems:\r\n\r\n1. The logic I use to lookup in the t-tables in each round: \r\n\r\n```\r\ntemp[i] = T0[(state[i] &gt;&gt;&gt; 24) &amp; 0xFF] ^\r\n                        T1[(state[(i + 3) % 4] &gt;&gt;&gt; 16) &amp; 0xFF] ^\r\n                        T2[(state[(i + 2) % 4] &gt;&gt;&gt; 8) &amp; 0xFF] ^\r\n                        T3[state[(i + 1) % 4] &amp; 0xFF] ^ roundKeys[round][i]; \r\n``` \r\nThat seems correct? I followed the descripton in [Rijnadel Proposel on page 18](https://csrc.nist.gov/csrc/media/projects/cryptographic-standards-and-guidelines/documents/aes-development/rijndael-ammended.pdf). \r\n\r\n2. Maybe I am using the wrong t-tables for looking up. I am not sure which ones are correct. I found T-Tables in the [bouncy castle implementation](https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/engines/AESFastEngine.java) and then i found some different tables in the [Go implementation](https://go.dev/src/crypto/aes/const.go).\r\n\r\nThey are both different, but i have tried my code with both and it doesnt work.\r\nWhich of these tables are the correct ones?\r\n\r\n\r\n```\r\npublic byte[] blockEncryption(byte[] plaintext, int[][] roundKeys) {\r\n        // Convert plaintext bytes to state matrix\r\n        int[] state = new int[4];\r\n        for (int i = 0; i &lt; 4; i++) {\r\n            state[i] = ((plaintext[4 * i] &amp; 0xFF) &lt;&lt; 24) |\r\n                    ((plaintext[4 * i + 1] &amp; 0xFF) &lt;&lt; 16) |\r\n                    ((plaintext[4 * i + 2] &amp; 0xFF) &lt;&lt; 8) |\r\n                    (plaintext[4 * i + 3] &amp; 0xFF);\r\n        }\r\n\r\n        // Initial round key addition\r\n        for (int i = 0; i &lt; 4; i++) {\r\n            state[i] ^= roundKeys[0][i];\r\n        }\r\n\r\n        // Main rounds\r\n        for (int round = 1; round &lt; 10; round++) {\r\n            int[] temp = new int[4];\r\n            for (int i = 0; i &lt; 4; i++) {\r\n                temp[i] = T0[(state[i] &gt;&gt;&gt; 24) &amp; 0xFF] ^\r\n                        T1[(state[(i + 3) % 4] &gt;&gt;&gt; 16) &amp; 0xFF] ^\r\n                        T2[(state[(i + 2) % 4] &gt;&gt;&gt; 8) &amp; 0xFF] ^\r\n                        T3[state[(i + 1) % 4] &amp; 0xFF] ^ roundKeys[round][i];      \r\n            };System.arraycopy(temp, 0, state, 0, 4);\r\n        }\r\n\r\n        // Final round (without MixColumns)\r\n        byte[] ciphertext = new byte[16];\r\n        for (int i = 0; i &lt; 4; i++) {\r\n            int word = roundKeys[roundKeys.length - 1][i];\r\n            ciphertext[4 * i] = (byte) (S[(state[i] &gt;&gt;&gt; 24) &amp; 0xFF] ^ (word &gt;&gt;&gt; 24));\r\n            ciphertext[4 * i + 1] = (byte) (S[(state[(i + 3) % 4] &gt;&gt;&gt; 16) &amp; 0xFF] ^ (word &gt;&gt;&gt; 16));\r\n            ciphertext[4 * i + 2] = (byte) (S[(state[(i + 2) % 4] &gt;&gt;&gt; 8) &amp; 0xFF] ^ (word &gt;&gt;&gt; 8));\r\n            ciphertext[4 * i + 3] = (byte) (S[state[(i + 1) % 4] &amp; 0xFF] ^ word);\r\n        }\r\n        System.out.println(&quot;Endzustand: &quot; + intArrayToHex(state));\r\n\r\n        return ciphertext;\r\n    }\r\n```","title":"Java AES T-Tables Implementation","body":"<p>I am trying to implement an encryption function that uses the AES T-Tables implementation.</p>\n<p>I am quite sure that my roundKeys are correct.\nI also know that the initial round key addition in the following code is correct.</p>\n<p>So there must be an error in the main rounds, but i am not sure what went wrong. I have narrowed it down to the following problems:</p>\n<ol>\n<li>The logic I use to lookup in the t-tables in each round:</li>\n</ol>\n<pre><code>temp[i] = T0[(state[i] &gt;&gt;&gt; 24) &amp; 0xFF] ^\n                        T1[(state[(i + 3) % 4] &gt;&gt;&gt; 16) &amp; 0xFF] ^\n                        T2[(state[(i + 2) % 4] &gt;&gt;&gt; 8) &amp; 0xFF] ^\n                        T3[state[(i + 1) % 4] &amp; 0xFF] ^ roundKeys[round][i]; \n</code></pre>\n<p>That seems correct? I followed the descripton in <a href=\"https://csrc.nist.gov/csrc/media/projects/cryptographic-standards-and-guidelines/documents/aes-development/rijndael-ammended.pdf\" rel=\"nofollow noreferrer\">Rijnadel Proposel on page 18</a>.</p>\n<ol start=\"2\">\n<li>Maybe I am using the wrong t-tables for looking up. I am not sure which ones are correct. I found T-Tables in the <a href=\"https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/engines/AESFastEngine.java\" rel=\"nofollow noreferrer\">bouncy castle implementation</a> and then i found some different tables in the <a href=\"https://go.dev/src/crypto/aes/const.go\" rel=\"nofollow noreferrer\">Go implementation</a>.</li>\n</ol>\n<p>They are both different, but i have tried my code with both and it doesnt work.\nWhich of these tables are the correct ones?</p>\n<pre><code>public byte[] blockEncryption(byte[] plaintext, int[][] roundKeys) {\n        // Convert plaintext bytes to state matrix\n        int[] state = new int[4];\n        for (int i = 0; i &lt; 4; i++) {\n            state[i] = ((plaintext[4 * i] &amp; 0xFF) &lt;&lt; 24) |\n                    ((plaintext[4 * i + 1] &amp; 0xFF) &lt;&lt; 16) |\n                    ((plaintext[4 * i + 2] &amp; 0xFF) &lt;&lt; 8) |\n                    (plaintext[4 * i + 3] &amp; 0xFF);\n        }\n\n        // Initial round key addition\n        for (int i = 0; i &lt; 4; i++) {\n            state[i] ^= roundKeys[0][i];\n        }\n\n        // Main rounds\n        for (int round = 1; round &lt; 10; round++) {\n            int[] temp = new int[4];\n            for (int i = 0; i &lt; 4; i++) {\n                temp[i] = T0[(state[i] &gt;&gt;&gt; 24) &amp; 0xFF] ^\n                        T1[(state[(i + 3) % 4] &gt;&gt;&gt; 16) &amp; 0xFF] ^\n                        T2[(state[(i + 2) % 4] &gt;&gt;&gt; 8) &amp; 0xFF] ^\n                        T3[state[(i + 1) % 4] &amp; 0xFF] ^ roundKeys[round][i];      \n            };System.arraycopy(temp, 0, state, 0, 4);\n        }\n\n        // Final round (without MixColumns)\n        byte[] ciphertext = new byte[16];\n        for (int i = 0; i &lt; 4; i++) {\n            int word = roundKeys[roundKeys.length - 1][i];\n            ciphertext[4 * i] = (byte) (S[(state[i] &gt;&gt;&gt; 24) &amp; 0xFF] ^ (word &gt;&gt;&gt; 24));\n            ciphertext[4 * i + 1] = (byte) (S[(state[(i + 3) % 4] &gt;&gt;&gt; 16) &amp; 0xFF] ^ (word &gt;&gt;&gt; 16));\n            ciphertext[4 * i + 2] = (byte) (S[(state[(i + 2) % 4] &gt;&gt;&gt; 8) &amp; 0xFF] ^ (word &gt;&gt;&gt; 8));\n            ciphertext[4 * i + 3] = (byte) (S[state[(i + 1) % 4] &amp; 0xFF] ^ word);\n        }\n        System.out.println(&quot;Endzustand: &quot; + intArrayToHex(state));\n\n        return ciphertext;\n    }\n</code></pre>\n"},{"tags":["java","matlab","plot","jfreechart"],"comments":[{"owner":{"account_id":21269479,"reputation":10151,"user_id":15649230,"display_name":"Ahmed AEK"},"score":3,"creation_date":1694793160,"post_id":77113602,"comment_id":135942419,"body_markdown":"if it walks like a duck and quacks like a duck then it is a duck, on a side note, you could use a zero before and after your point to make it look more like `stem`.","body":"if it walks like a duck and quacks like a duck then it is a duck, on a side note, you could use a zero before and after your point to make it look more like <code>stem</code>."},{"owner":{"account_id":25421573,"reputation":41,"user_id":19227485,"display_name":"MrManini"},"score":0,"creation_date":1694795371,"post_id":77113602,"comment_id":135942789,"body_markdown":"Damn, it was really that simple ahhaha, that solved it, thanks.","body":"Damn, it was really that simple ahhaha, that solved it, thanks."},{"owner":{"account_id":25421573,"reputation":41,"user_id":19227485,"display_name":"MrManini"},"score":0,"creation_date":1694912749,"post_id":77113602,"comment_id":135953704,"body_markdown":"@trashgod I checked it out and it also looks like a discrete signal, but since the x-axis are categories, and not numbers, i would have to input each number as a string into its own category which is just a little bit more annoying to do. But thanks for the suggestion!","body":"@trashgod I checked it out and it also looks like a discrete signal, but since the x-axis are categories, and not numbers, i would have to input each number as a string into its own category which is just a little bit more annoying to do. But thanks for the suggestion!"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695316897,"creation_date":1695316897,"answer_id":77152387,"question_id":77113602,"body_markdown":"As @Ahmed AEK [comments][1], you can adjust your dataset to &quot;make it look more like [stem][2].&quot; Also consider,\r\n\r\n- [`HighLowRenderer`][3], suitable for continuous data; the methods `setDrawCloseTicks()` and `setDrawOpenTicks()` control tick mark visibility.\r\n\r\n- [`MinMaxCategoryRenderer`][4], suitable for category data; the icons can be replaced with custom implementations, as seen [here][5] and [here][6].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77113602/is-there-a-way-to-make-discrete-signal-plots-in-java#comment135942419_77113602\r\n  [2]: https://matplotlib.org/stable/gallery/lines_bars_and_markers/stem_plot.html\r\n  [3]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/renderer/xy/HighLowRenderer.html\r\n  [4]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/renderer/category/MinMaxCategoryRenderer.html\r\n  [5]: https://stackoverflow.com/a/4641530/230513\r\n  [6]: https://stackoverflow.com/a/5263600/230513","title":"Is there a way to make discrete signal plots in Java?","body":"<p>As @Ahmed AEK <a href=\"https://stackoverflow.com/questions/77113602/is-there-a-way-to-make-discrete-signal-plots-in-java#comment135942419_77113602\">comments</a>, you can adjust your dataset to &quot;make it look more like <a href=\"https://matplotlib.org/stable/gallery/lines_bars_and_markers/stem_plot.html\" rel=\"nofollow noreferrer\">stem</a>.&quot; Also consider,</p>\n<ul>\n<li><p><a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/renderer/xy/HighLowRenderer.html\" rel=\"nofollow noreferrer\"><code>HighLowRenderer</code></a>, suitable for continuous data; the methods <code>setDrawCloseTicks()</code> and <code>setDrawOpenTicks()</code> control tick mark visibility.</p>\n</li>\n<li><p><a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/renderer/category/MinMaxCategoryRenderer.html\" rel=\"nofollow noreferrer\"><code>MinMaxCategoryRenderer</code></a>, suitable for category data; the icons can be replaced with custom implementations, as seen <a href=\"https://stackoverflow.com/a/4641530/230513\">here</a> and <a href=\"https://stackoverflow.com/a/5263600/230513\">here</a>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":25421573,"reputation":41,"user_id":19227485,"display_name":"MrManini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695316897,"creation_date":1694791662,"question_id":77113602,"body_markdown":"I want to make a discrete signal plot in Java, like when using the [stem() command in matlab](https://la.mathworks.com/help/matlab/ref/stem.html?lang=en), such that when giving it an array for the x-axis and one for the y-axis, it makes like a scatter plot with a vertical line connected to x-axis.\r\n\r\nI have tried using JFreeChart to do this, but it doesn&#39;t have a discrete plot specifically. The closest I came to it was asking ChatGPT to make a scatter plot and connect the lines to the bottom and it gave me this code:\r\n \r\n```\r\npackage z;\r\n\r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.plot.PlotOrientation;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.chart.renderer.xy.XYItemRenderer;\r\nimport org.jfree.chart.ui.ApplicationFrame;\r\nimport org.jfree.chart.ui.RectangleInsets;\r\nimport org.jfree.data.xy.DefaultXYDataset;\r\nimport org.jfree.data.xy.XYSeries;\r\nimport org.jfree.data.xy.XYSeriesCollection;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Shape;\r\nimport java.awt.geom.Ellipse2D;\r\nimport java.util.Random;\r\nimport javax.swing.SwingUtilities;\r\nimport org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\r\n\r\npublic class ScatterPlotWithLines extends ApplicationFrame {\r\n\r\n    public ScatterPlotWithLines(String title) {\r\n        super(title);\r\n\r\n        // Create a dataset with 10 random data points\r\n        XYSeriesCollection dataset = createScatterDataset(10);\r\n\r\n        // Create the scatter plot\r\n        JFreeChart chart = ChartFactory.createScatterPlot(\r\n                &quot;Scatter Plot with Lines&quot;,\r\n                &quot;X-Axis Label&quot;,\r\n                &quot;Y-Axis Label&quot;,\r\n                dataset,\r\n                PlotOrientation.VERTICAL,\r\n                true,\r\n                true,\r\n                false\r\n        );\r\n\r\n        // Customize the plot and renderer for scatter points (optional)\r\n        XYPlot plot = (XYPlot) chart.getPlot();\r\n        XYItemRenderer renderer = plot.getRenderer();\r\n\r\n        // Customize the renderer for scatter points (e.g., change the shape and color of points)\r\n        Shape pointShape = new Ellipse2D.Double(-3, -3, 6, 6); // Example shape\r\n        renderer.setSeriesShape(0, pointShape);\r\n        renderer.setSeriesPaint(0, Color.blue);\r\n\r\n        // Create a dataset for lines connecting the data points to the x-axis\r\n        DefaultXYDataset lineDataset = createLineDataset(dataset);\r\n\r\n        // Create a renderer for the lines\r\n        XYItemRenderer lineRenderer = new XYLineAndShapeRenderer(true, false);\r\n        lineRenderer.setSeriesPaint(0, Color.red); // Line color\r\n\r\n        plot.setDataset(1, lineDataset); // Add the line dataset to the plot\r\n        plot.setRenderer(1, lineRenderer); // Set the line renderer for the new dataset\r\n\r\n        // Set margin for the plot\r\n        plot.setAxisOffset(new RectangleInsets(5.0, 5.0, 5.0, 5.0));\r\n\r\n        // Create a ChartPanel and add it to the frame\r\n        ChartPanel chartPanel = new ChartPanel(chart);\r\n        chartPanel.setPreferredSize(new java.awt.Dimension(800, 600));\r\n        setContentPane(chartPanel);\r\n    }\r\n\r\n    private XYSeriesCollection createScatterDataset(int numPoints) {\r\n        XYSeriesCollection dataset = new XYSeriesCollection();\r\n        XYSeries series = new XYSeries(&quot;Scatter Plot&quot;);\r\n\r\n        // Generate random data points for the series\r\n        Random rand = new Random();\r\n        for (int i = 0; i &lt; numPoints; i++) {\r\n            double x = rand.nextDouble() * 10;\r\n            double y = rand.nextDouble() * 10;\r\n            series.add(x, y);\r\n        }\r\n\r\n        dataset.addSeries(series);\r\n\r\n        return dataset;\r\n    }\r\n\r\n    private DefaultXYDataset createLineDataset(XYSeriesCollection scatterDataset) {\r\n        DefaultXYDataset lineDataset = new DefaultXYDataset();\r\n\r\n        // Create lines connecting data points to the x-axis\r\n        for (int i = 0; i &lt; scatterDataset.getSeriesCount(); i++) {\r\n            XYSeries scatterSeries = scatterDataset.getSeries(i);\r\n            double[][] lineData = new double[2][scatterSeries.getItemCount() * 2];\r\n\r\n            for (int j = 0; j &lt; scatterSeries.getItemCount(); j++) {\r\n                double x = scatterSeries.getX(j).doubleValue();\r\n                double y = scatterSeries.getY(j).doubleValue();\r\n\r\n                // Add the data point\r\n                lineData[0][j * 2] = x;\r\n                lineData[1][j * 2] = y;\r\n\r\n                // Connect to the x-axis\r\n                lineData[0][j * 2 + 1] = x;\r\n                lineData[1][j * 2 + 1] = 0;\r\n            }\r\n\r\n            lineDataset.addSeries(&quot;Lines&quot;, lineData);\r\n        }\r\n\r\n        return lineDataset;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            ScatterPlotWithLines example = new ScatterPlotWithLines(&quot;Scatter Plot with Lines&quot;);\r\n            example.pack();\r\n            example.setDefaultCloseOperation(ApplicationFrame.EXIT_ON_CLOSE);\r\n            example.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```\r\nand it works, sort of:\r\n\r\n[![Stem plot?](https://i.stack.imgur.com/Y1lym.png)](https://i.stack.imgur.com/Y1lym.png)\r\n\r\nI understand it made a different dataset and connected the dots, but is it possible to have it just with the vertical lines? I know I can do this easily using other languages like Python and MatLab, I just want to know if it&#39;s possible to do it in Java.","title":"Is there a way to make discrete signal plots in Java?","body":"<p>I want to make a discrete signal plot in Java, like when using the <a href=\"https://la.mathworks.com/help/matlab/ref/stem.html?lang=en\" rel=\"nofollow noreferrer\">stem() command in matlab</a>, such that when giving it an array for the x-axis and one for the y-axis, it makes like a scatter plot with a vertical line connected to x-axis.</p>\n<p>I have tried using JFreeChart to do this, but it doesn't have a discrete plot specifically. The closest I came to it was asking ChatGPT to make a scatter plot and connect the lines to the bottom and it gave me this code:</p>\n<pre><code>package z;\n\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.plot.PlotOrientation;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.xy.XYItemRenderer;\nimport org.jfree.chart.ui.ApplicationFrame;\nimport org.jfree.chart.ui.RectangleInsets;\nimport org.jfree.data.xy.DefaultXYDataset;\nimport org.jfree.data.xy.XYSeries;\nimport org.jfree.data.xy.XYSeriesCollection;\n\nimport java.awt.Color;\nimport java.awt.Shape;\nimport java.awt.geom.Ellipse2D;\nimport java.util.Random;\nimport javax.swing.SwingUtilities;\nimport org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\n\npublic class ScatterPlotWithLines extends ApplicationFrame {\n\n    public ScatterPlotWithLines(String title) {\n        super(title);\n\n        // Create a dataset with 10 random data points\n        XYSeriesCollection dataset = createScatterDataset(10);\n\n        // Create the scatter plot\n        JFreeChart chart = ChartFactory.createScatterPlot(\n                &quot;Scatter Plot with Lines&quot;,\n                &quot;X-Axis Label&quot;,\n                &quot;Y-Axis Label&quot;,\n                dataset,\n                PlotOrientation.VERTICAL,\n                true,\n                true,\n                false\n        );\n\n        // Customize the plot and renderer for scatter points (optional)\n        XYPlot plot = (XYPlot) chart.getPlot();\n        XYItemRenderer renderer = plot.getRenderer();\n\n        // Customize the renderer for scatter points (e.g., change the shape and color of points)\n        Shape pointShape = new Ellipse2D.Double(-3, -3, 6, 6); // Example shape\n        renderer.setSeriesShape(0, pointShape);\n        renderer.setSeriesPaint(0, Color.blue);\n\n        // Create a dataset for lines connecting the data points to the x-axis\n        DefaultXYDataset lineDataset = createLineDataset(dataset);\n\n        // Create a renderer for the lines\n        XYItemRenderer lineRenderer = new XYLineAndShapeRenderer(true, false);\n        lineRenderer.setSeriesPaint(0, Color.red); // Line color\n\n        plot.setDataset(1, lineDataset); // Add the line dataset to the plot\n        plot.setRenderer(1, lineRenderer); // Set the line renderer for the new dataset\n\n        // Set margin for the plot\n        plot.setAxisOffset(new RectangleInsets(5.0, 5.0, 5.0, 5.0));\n\n        // Create a ChartPanel and add it to the frame\n        ChartPanel chartPanel = new ChartPanel(chart);\n        chartPanel.setPreferredSize(new java.awt.Dimension(800, 600));\n        setContentPane(chartPanel);\n    }\n\n    private XYSeriesCollection createScatterDataset(int numPoints) {\n        XYSeriesCollection dataset = new XYSeriesCollection();\n        XYSeries series = new XYSeries(&quot;Scatter Plot&quot;);\n\n        // Generate random data points for the series\n        Random rand = new Random();\n        for (int i = 0; i &lt; numPoints; i++) {\n            double x = rand.nextDouble() * 10;\n            double y = rand.nextDouble() * 10;\n            series.add(x, y);\n        }\n\n        dataset.addSeries(series);\n\n        return dataset;\n    }\n\n    private DefaultXYDataset createLineDataset(XYSeriesCollection scatterDataset) {\n        DefaultXYDataset lineDataset = new DefaultXYDataset();\n\n        // Create lines connecting data points to the x-axis\n        for (int i = 0; i &lt; scatterDataset.getSeriesCount(); i++) {\n            XYSeries scatterSeries = scatterDataset.getSeries(i);\n            double[][] lineData = new double[2][scatterSeries.getItemCount() * 2];\n\n            for (int j = 0; j &lt; scatterSeries.getItemCount(); j++) {\n                double x = scatterSeries.getX(j).doubleValue();\n                double y = scatterSeries.getY(j).doubleValue();\n\n                // Add the data point\n                lineData[0][j * 2] = x;\n                lineData[1][j * 2] = y;\n\n                // Connect to the x-axis\n                lineData[0][j * 2 + 1] = x;\n                lineData[1][j * 2 + 1] = 0;\n            }\n\n            lineDataset.addSeries(&quot;Lines&quot;, lineData);\n        }\n\n        return lineDataset;\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            ScatterPlotWithLines example = new ScatterPlotWithLines(&quot;Scatter Plot with Lines&quot;);\n            example.pack();\n            example.setDefaultCloseOperation(ApplicationFrame.EXIT_ON_CLOSE);\n            example.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<p>and it works, sort of:</p>\n<p><a href=\"https://i.stack.imgur.com/Y1lym.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y1lym.png\" alt=\"Stem plot?\" /></a></p>\n<p>I understand it made a different dataset and connected the dots, but is it possible to have it just with the vertical lines? I know I can do this easily using other languages like Python and MatLab, I just want to know if it's possible to do it in Java.</p>\n"},{"tags":["java","android-studio","encryption","aes"],"comments":[{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":0,"creation_date":1695317627,"post_id":77152332,"comment_id":136011757,"body_markdown":"High probably IV encoding problem with the site if not the key. Could you output all in hex or base64 then try again? Or at least provide us?","body":"High probably IV encoding problem with the site if not the key. Could you output all in hex or base64 then try again? Or at least provide us?"},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1695318780,"post_id":77152332,"comment_id":136011969,"body_markdown":"The linked online tool doesn&#39;t appear to perform the hashing of the &#39;secret key&#39; to the value used to create the key spec. (You don&#39;t specify where this string is likely to come from, but if it&#39;s more of a &#39;password&#39; you should be using a KDF to derive a key - rather than a simple hash.)","body":"The linked online tool doesn&#39;t appear to perform the hashing of the &#39;secret key&#39; to the value used to create the key spec. (You don&#39;t specify where this string is likely to come from, but if it&#39;s more of a &#39;password&#39; you should be using a KDF to derive a key - rather than a simple hash.)"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1695330254,"post_id":77152332,"comment_id":136013841,"body_markdown":"Online tools don&#39;t work as specifically as you assume: For decryption, in addition to the key derivation mentioned in the previous comment, the tool would have to Base64 decode the data and then separate IV and ciphertext. Most tools are just able to decrypt a ciphertext for a *given* key and IV.","body":"Online tools don&#39;t work as specifically as you assume: For decryption, in addition to the key derivation mentioned in the previous comment, the tool would have to Base64 decode the data and then separate IV and ciphertext. Most tools are just able to decrypt a ciphertext for a <i>given</i> key and IV."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1695330983,"post_id":77152332,"comment_id":136013957,"body_markdown":"And even if you perform the individual steps yourself, the tool wouldn&#39;t be able to process the key hash and the IV, since no encoding can be specified for either, instead an ASCII or UTF-8 encoding is performed under the hood (which does not work for a key *hash* and a *random* IV).","body":"And even if you perform the individual steps yourself, the tool wouldn&#39;t be able to process the key hash and the IV, since no encoding can be specified for either, instead an ASCII or UTF-8 encoding is performed under the hood (which does not work for a key <i>hash</i> and a <i>random</i> IV)."}],"owner":{"account_id":15909868,"reputation":15,"user_id":11480082,"display_name":"Nicholas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695316293,"creation_date":1695316293,"question_id":77152332,"body_markdown":"I&#39;m really new to AES_256 encryption so I would like to get some insight and understand what&#39;s going on with this situation. \r\n\r\nI have created an AESUtil to encrypt some sensitive data that will save into a text file, with my decrypt function, I also able to decrypt the encrypted value. However, when I try to decrypt it with [online tools](https://www.devglan.com/online-tools/aes-encryption-decryption), it shows error of **&quot;Given final block not properly padded. Such issues can arise if a bad key is used during decryption.&quot;** \r\n\r\nWhat&#39;s going wrong? as my code as it able to decrypt perfectly, but I can&#39;t expect my QA to run my code every time to decrypt the value, I believe using online AES tool would be easier for them.  \r\n\r\nHere&#39;s my code\r\n```\r\npublic class AESUtil {\r\n\r\n    private static SecretKeySpec getSecretKeySpec(String secretKey) throws Exception {\r\n        byte[] keyBytes = secretKey.getBytes(StandardCharsets.UTF_8);\r\n        MessageDigest sha = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        keyBytes = sha.digest(keyBytes);\r\n        return new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n    }\r\n\r\n    public static String encryptData(String secretKey, String content) {\r\n        try {\r\n            SecretKeySpec secretKeySpec = getSecretKeySpec(secretKey);\r\n\r\n            // Generate a random IV\r\n            SecureRandom secureRandom = new SecureRandom();\r\n            byte[] iv = new byte[16];\r\n            secureRandom.nextBytes(iv);\r\n            IvParameterSpec ivSpec = new IvParameterSpec(iv);\r\n\r\n            // Encrypt\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec, ivSpec);\r\n            byte[] encrypted = cipher.doFinal(content.getBytes(StandardCharsets.UTF_8));\r\n\r\n            // Combine IV and encrypted content\r\n            byte[] combined = new byte[iv.length + encrypted.length];\r\n            System.arraycopy(iv, 0, combined, 0, iv.length);\r\n            System.arraycopy(encrypted, 0, combined, iv.length, encrypted.length);\r\n\r\n            // Return the combined data as a Base64 encoded string\r\n            return android.util.Base64.encodeToString(combined, android.util.Base64.DEFAULT);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Error while encrypting&quot;, e);\r\n        }\r\n    }\r\n\r\n    public static String decryptData(String secretKey, String encryptedContent) {\r\n        try {\r\n            SecretKeySpec secretKeySpec = getSecretKeySpec(secretKey);\r\n\r\n            // Decode the Base64 encoded string\r\n            byte[] combined = android.util.Base64.decode(encryptedContent, android.util.Base64.DEFAULT);\r\n\r\n            // Extract the IV and encrypted content\r\n            byte[] iv = new byte[16];\r\n            byte[] encrypted = new byte[combined.length - 16];\r\n\r\n            System.arraycopy(combined, 0, iv, 0, 16);\r\n            System.arraycopy(combined, 16, encrypted, 0, encrypted.length);\r\n            IvParameterSpec ivSpec = new IvParameterSpec(iv);\r\n\r\n            // Decrypt\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKeySpec, ivSpec);\r\n            byte[] decrypted = cipher.doFinal(encrypted);\r\n\r\n            // Convert the decrypted byte array back to a string\r\n            return new String(decrypted, StandardCharsets.UTF_8);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Error while decrypting&quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\nString secretKey = &quot;my very secret key 000!!&quot;\r\n```","title":"Online AES tools unable to decrypt my value","body":"<p>I'm really new to AES_256 encryption so I would like to get some insight and understand what's going on with this situation.</p>\n<p>I have created an AESUtil to encrypt some sensitive data that will save into a text file, with my decrypt function, I also able to decrypt the encrypted value. However, when I try to decrypt it with <a href=\"https://www.devglan.com/online-tools/aes-encryption-decryption\" rel=\"nofollow noreferrer\">online tools</a>, it shows error of <strong>&quot;Given final block not properly padded. Such issues can arise if a bad key is used during decryption.&quot;</strong></p>\n<p>What's going wrong? as my code as it able to decrypt perfectly, but I can't expect my QA to run my code every time to decrypt the value, I believe using online AES tool would be easier for them.</p>\n<p>Here's my code</p>\n<pre><code>public class AESUtil {\n\n    private static SecretKeySpec getSecretKeySpec(String secretKey) throws Exception {\n        byte[] keyBytes = secretKey.getBytes(StandardCharsets.UTF_8);\n        MessageDigest sha = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        keyBytes = sha.digest(keyBytes);\n        return new SecretKeySpec(keyBytes, &quot;AES&quot;);\n    }\n\n    public static String encryptData(String secretKey, String content) {\n        try {\n            SecretKeySpec secretKeySpec = getSecretKeySpec(secretKey);\n\n            // Generate a random IV\n            SecureRandom secureRandom = new SecureRandom();\n            byte[] iv = new byte[16];\n            secureRandom.nextBytes(iv);\n            IvParameterSpec ivSpec = new IvParameterSpec(iv);\n\n            // Encrypt\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec, ivSpec);\n            byte[] encrypted = cipher.doFinal(content.getBytes(StandardCharsets.UTF_8));\n\n            // Combine IV and encrypted content\n            byte[] combined = new byte[iv.length + encrypted.length];\n            System.arraycopy(iv, 0, combined, 0, iv.length);\n            System.arraycopy(encrypted, 0, combined, iv.length, encrypted.length);\n\n            // Return the combined data as a Base64 encoded string\n            return android.util.Base64.encodeToString(combined, android.util.Base64.DEFAULT);\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Error while encrypting&quot;, e);\n        }\n    }\n\n    public static String decryptData(String secretKey, String encryptedContent) {\n        try {\n            SecretKeySpec secretKeySpec = getSecretKeySpec(secretKey);\n\n            // Decode the Base64 encoded string\n            byte[] combined = android.util.Base64.decode(encryptedContent, android.util.Base64.DEFAULT);\n\n            // Extract the IV and encrypted content\n            byte[] iv = new byte[16];\n            byte[] encrypted = new byte[combined.length - 16];\n\n            System.arraycopy(combined, 0, iv, 0, 16);\n            System.arraycopy(combined, 16, encrypted, 0, encrypted.length);\n            IvParameterSpec ivSpec = new IvParameterSpec(iv);\n\n            // Decrypt\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n            cipher.init(Cipher.DECRYPT_MODE, secretKeySpec, ivSpec);\n            byte[] decrypted = cipher.doFinal(encrypted);\n\n            // Convert the decrypted byte array back to a string\n            return new String(decrypted, StandardCharsets.UTF_8);\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Error while decrypting&quot;, e);\n        }\n    }\n}\n</code></pre>\n<pre><code>String secretKey = &quot;my very secret key 000!!&quot;\n</code></pre>\n"},{"tags":["java","android","kotlin","android-emulator"],"answers":[{"tags":[],"owner":{"account_id":1610498,"reputation":696,"user_id":2100569,"display_name":"Steven Linn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689056550,"creation_date":1689056550,"answer_id":76659188,"question_id":76007110,"body_markdown":"Android 14 looks in this location first:\r\n```\r\n/apex/com.android.conscrypt/cacerts\r\n```","title":"Android 14 (UpsideDownCake) doesn&#39;t see certificate installed in /system/etc/security/cacert","body":"<p>Android 14 looks in this location first:</p>\n<pre><code>/apex/com.android.conscrypt/cacerts\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26232,"reputation":12048,"user_id":68051,"accept_rate":88,"display_name":"Tim Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695316152,"creation_date":1695316152,"answer_id":77152321,"question_id":76007110,"body_markdown":"Android 14 now reads CA certs from within the Conscrypt library&#39;s APEX filesystem, at `/apex/com.android.conscrypt/cacerts`.\r\n\r\nThat&#39;s an awkward problem for use cases like this, because that path is impossible to directly modify or remount. You can try all you like, but APEX modules are loaded using different mechanisms to the rest of the filesystem, and in general if you make simple changes via an ADB shell, apps on the device won&#39;t see them - they use isolated mount namespaces, so they&#39;ll continue using their original set of mounts independently.\r\n\r\nI&#39;ve done some digging here though, and found some working solutions: you can bind mount an alternative directory into this location, and then use `nsenter` to duplicate that mount individually into each app&#39;s mount namespace, and into the Zygote process (which starts future apps, so that newly launched apps copy this by default).\r\n\r\nThat&#39;s the essence of it. The full steps &amp; background context are quite involved, but I&#39;ve documented it and built a full script to automate this here: https://httptoolkit.com/blog/android-14-install-system-ca-certificate/\r\n\r\nYou can see the resulting changes to automate that process in HTTP Toolkit here: https://github.com/httptoolkit/httptoolkit-server/commit/965fd8d9b287af0e4b305d828d5e8e1aa52dce36","title":"Android 14 (UpsideDownCake) doesn&#39;t see certificate installed in /system/etc/security/cacert","body":"<p>Android 14 now reads CA certs from within the Conscrypt library's APEX filesystem, at <code>/apex/com.android.conscrypt/cacerts</code>.</p>\n<p>That's an awkward problem for use cases like this, because that path is impossible to directly modify or remount. You can try all you like, but APEX modules are loaded using different mechanisms to the rest of the filesystem, and in general if you make simple changes via an ADB shell, apps on the device won't see them - they use isolated mount namespaces, so they'll continue using their original set of mounts independently.</p>\n<p>I've done some digging here though, and found some working solutions: you can bind mount an alternative directory into this location, and then use <code>nsenter</code> to duplicate that mount individually into each app's mount namespace, and into the Zygote process (which starts future apps, so that newly launched apps copy this by default).</p>\n<p>That's the essence of it. The full steps &amp; background context are quite involved, but I've documented it and built a full script to automate this here: <a href=\"https://httptoolkit.com/blog/android-14-install-system-ca-certificate/\" rel=\"nofollow noreferrer\">https://httptoolkit.com/blog/android-14-install-system-ca-certificate/</a></p>\n<p>You can see the resulting changes to automate that process in HTTP Toolkit here: <a href=\"https://github.com/httptoolkit/httptoolkit-server/commit/965fd8d9b287af0e4b305d828d5e8e1aa52dce36\" rel=\"nofollow noreferrer\">https://github.com/httptoolkit/httptoolkit-server/commit/965fd8d9b287af0e4b305d828d5e8e1aa52dce36</a></p>\n"}],"owner":{"account_id":3549806,"reputation":8516,"user_id":2964945,"display_name":"Melquiades"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":811,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1695316152,"creation_date":1681398869,"question_id":76007110,"body_markdown":"For our automated testing platform for Android emulator, we are able to push a Proxyman certificate to a `/system/etc/security/cacerts` with the tried and tested commands:\r\n\r\n\r\n1. Start emulator with `-writable-system` flag: ```emulator -avd emulator_name -writable-system```\r\n\r\n2. Prepare Proxyman certificate:\r\n\r\n    - ```openssl x509 -inform PEM -subject_hash_old -in proxyman-ssl-proxying-certificate.pem | head -1``` - it returns a hash for the cert, eg. 30eb732c\r\n\r\n    - save that to a file: ```cat proxyman-ssl-proxying-certificate.pem &gt; 30eb732c.0```\r\n\r\n    - ```openssl x509 -inform PEM -text -in proxyman-ssl-proxying-certificate.pem -out /dev/null &gt;&gt; 30eb732c.0```\r\n\r\n3. Push the created `30eb732c.0` to emulator:\r\n\r\n    - `adb root`\r\n    - `adb remount`\r\n    - `adb root`\r\n    - `adb shell avbctl disable-verification`\r\n    - `adb reboot`\r\n    - `adb root`\r\n    - `adb remount`\r\n    - `adb push 30eb732c.0 /system/etc/security/cacerts`\r\n\r\n4. I can verify that the file is there by listing all certs with `adb shell ls /system/etc/security/cacert` and seeing mine on the list.\r\n\r\nWith these, we are able to see the traffic in Proxyman on release builds of our apps, up to API 33, and I can see the certificate installed on system partition in the Emulator Settings/Security/Encryption &amp; credentials/Trusted credentials.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/wSDAv.png)](https://i.stack.imgur.com/wSDAv.png)\r\n\r\nWith the same steps for Android Emulator UpsideDownCake, I can see that the cert file is indeed in `/system/etc/security/cacert`, but the UI doesn&#39;t show it, and the traffic also fails to be captured by Proxyman (getting `SSL Handshake Failed`).\r\n\r\n\r\nThe method for installing cert has been informed by many of these:\r\n\r\n- https://stackoverflow.com/questions/58010655/is-adb-remount-broken-on-android-api-29\r\n- https://issuetracker.google.com/issues/144891973?pli=1\r\n- https://gist.github.com/pwlin/8a0d01e6428b7a96e2eb\r\n- https://blog.ropnop.com/configuring-burp-suite-with-android-nougat\r\n\r\nI feel like I might be missing something here, but also wondering what&#39;s the difference between API 33 and UpsideDownCake emulators. Has anyone been successful in installing a certificate in `/system/etc/security/cacert` on Android 14 (UpsideDownCake) emulator?\r\n","title":"Android 14 (UpsideDownCake) doesn&#39;t see certificate installed in /system/etc/security/cacert","body":"<p>For our automated testing platform for Android emulator, we are able to push a Proxyman certificate to a <code>/system/etc/security/cacerts</code> with the tried and tested commands:</p>\n<ol>\n<li><p>Start emulator with <code>-writable-system</code> flag: <code>emulator -avd emulator_name -writable-system</code></p>\n</li>\n<li><p>Prepare Proxyman certificate:</p>\n<ul>\n<li><p><code>openssl x509 -inform PEM -subject_hash_old -in proxyman-ssl-proxying-certificate.pem | head -1</code> - it returns a hash for the cert, eg. 30eb732c</p>\n</li>\n<li><p>save that to a file: <code>cat proxyman-ssl-proxying-certificate.pem &gt; 30eb732c.0</code></p>\n</li>\n<li><p><code>openssl x509 -inform PEM -text -in proxyman-ssl-proxying-certificate.pem -out /dev/null &gt;&gt; 30eb732c.0</code></p>\n</li>\n</ul>\n</li>\n<li><p>Push the created <code>30eb732c.0</code> to emulator:</p>\n<ul>\n<li><code>adb root</code></li>\n<li><code>adb remount</code></li>\n<li><code>adb root</code></li>\n<li><code>adb shell avbctl disable-verification</code></li>\n<li><code>adb reboot</code></li>\n<li><code>adb root</code></li>\n<li><code>adb remount</code></li>\n<li><code>adb push 30eb732c.0 /system/etc/security/cacerts</code></li>\n</ul>\n</li>\n<li><p>I can verify that the file is there by listing all certs with <code>adb shell ls /system/etc/security/cacert</code> and seeing mine on the list.</p>\n</li>\n</ol>\n<p>With these, we are able to see the traffic in Proxyman on release builds of our apps, up to API 33, and I can see the certificate installed on system partition in the Emulator Settings/Security/Encryption &amp; credentials/Trusted credentials.</p>\n<p><a href=\"https://i.stack.imgur.com/wSDAv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wSDAv.png\" alt=\"enter image description here\" /></a></p>\n<p>With the same steps for Android Emulator UpsideDownCake, I can see that the cert file is indeed in <code>/system/etc/security/cacert</code>, but the UI doesn't show it, and the traffic also fails to be captured by Proxyman (getting <code>SSL Handshake Failed</code>).</p>\n<p>The method for installing cert has been informed by many of these:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/58010655/is-adb-remount-broken-on-android-api-29\">Is adb remount broken on android api 29?</a></li>\n<li><a href=\"https://issuetracker.google.com/issues/144891973?pli=1\" rel=\"noreferrer\">https://issuetracker.google.com/issues/144891973?pli=1</a></li>\n<li><a href=\"https://gist.github.com/pwlin/8a0d01e6428b7a96e2eb\" rel=\"noreferrer\">https://gist.github.com/pwlin/8a0d01e6428b7a96e2eb</a></li>\n<li><a href=\"https://blog.ropnop.com/configuring-burp-suite-with-android-nougat\" rel=\"noreferrer\">https://blog.ropnop.com/configuring-burp-suite-with-android-nougat</a></li>\n</ul>\n<p>I feel like I might be missing something here, but also wondering what's the difference between API 33 and UpsideDownCake emulators. Has anyone been successful in installing a certificate in <code>/system/etc/security/cacert</code> on Android 14 (UpsideDownCake) emulator?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1579258278,"post_id":59785833,"comment_id":105714704,"body_markdown":"Add only relevant code not the whole code","body":"Add only relevant code not the whole code"},{"owner":{"account_id":425670,"reputation":2681,"user_id":806407,"accept_rate":78,"display_name":"lakshman"},"score":0,"creation_date":1579258494,"post_id":59785833,"comment_id":105714813,"body_markdown":"format your code please","body":"format your code please"},{"owner":{"account_id":17550038,"reputation":1,"user_id":12730625,"display_name":"giusdisplay"},"score":0,"creation_date":1579258634,"post_id":59785833,"comment_id":105714880,"body_markdown":"I tried to format the code but I can&#39;t do better than that","body":"I tried to format the code but I can&#39;t do better than that"},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1579259475,"post_id":59785833,"comment_id":105715301,"body_markdown":"Welcome to StackOverflow :) Please do not include the code for your entire project. This makes it hard to understand and difficult to find the issue. Instead, please try to reduce your code to a [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). Cheers :)","body":"Welcome to StackOverflow :) Please do not include the code for your entire project. This makes it hard to understand and difficult to find the issue. Instead, please try to reduce your code to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>. Cheers :)"},{"owner":{"account_id":17550038,"reputation":1,"user_id":12730625,"display_name":"giusdisplay"},"score":0,"creation_date":1579260932,"post_id":59785833,"comment_id":105715984,"body_markdown":"I wasn&#39;t sure which files were needed for you to understand and solve the problem","body":"I wasn&#39;t sure which files were needed for you to understand and solve the problem"}],"answers":[{"comments":[{"owner":{"account_id":17550038,"reputation":1,"user_id":12730625,"display_name":"giusdisplay"},"score":0,"creation_date":1579258705,"post_id":59785879,"comment_id":105714909,"body_markdown":"I tried to use &quot;@Repository&quot; or &quot;@Component&quot; but it doesn&#39;t work the same","body":"I tried to use &quot;@Repository&quot; or &quot;@Component&quot; but it doesn&#39;t work the same"},{"owner":{"account_id":425670,"reputation":2681,"user_id":806407,"accept_rate":78,"display_name":"lakshman"},"score":0,"creation_date":1579259708,"post_id":59785879,"comment_id":105715428,"body_markdown":"you mean you getting same error after adding @Repository annotation?","body":"you mean you getting same error after adding @Repository annotation?"}],"tags":[],"owner":{"account_id":425670,"reputation":2681,"user_id":806407,"accept_rate":78,"display_name":"lakshman"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579258165,"creation_date":1579258165,"answer_id":59785879,"question_id":59785833,"body_markdown":"You need to annotate `UserDao` with `@Repository` annotation.","title":"Exception: Consider defining a bean of type in your configuration","body":"<p>You need to annotate <code>UserDao</code> with <code>@Repository</code> annotation.</p>\n"},{"comments":[{"owner":{"account_id":17550038,"reputation":1,"user_id":12730625,"display_name":"giusdisplay"},"score":1,"creation_date":1579258729,"post_id":59785919,"comment_id":105714926,"body_markdown":"I tried to use &quot;@Repository&quot; or &quot;@Component&quot; but it doesn&#39;t work the same","body":"I tried to use &quot;@Repository&quot; or &quot;@Component&quot; but it doesn&#39;t work the same"}],"tags":[],"owner":{"account_id":4874770,"reputation":983,"user_id":3930210,"display_name":"Gaurav Dhiman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579258342,"creation_date":1579258342,"answer_id":59785919,"question_id":59785833,"body_markdown":"UserDao should be a spring bean. In order to make it a spring bean use annotation **@Repository or @Component**","title":"Exception: Consider defining a bean of type in your configuration","body":"<p>UserDao should be a spring bean. In order to make it a spring bean use annotation <strong>@Repository or @Component</strong></p>\n"},{"comments":[{"owner":{"account_id":17550038,"reputation":1,"user_id":12730625,"display_name":"giusdisplay"},"score":0,"creation_date":1579268453,"post_id":59787498,"comment_id":105719588,"body_markdown":"I tried adding &quot;@Repositor&quot; to &quot;UserDao&quot; and &quot;@PostConstruct.&quot;\n\nI also tried to use the example you reported\n\nBoth solutions don&#39;t work.","body":"I tried adding &quot;@Repositor&quot; to &quot;UserDao&quot; and &quot;@PostConstruct.&quot;  I also tried to use the example you reported  Both solutions don&#39;t work."},{"owner":{"account_id":9343149,"reputation":117,"user_id":11880321,"display_name":"ApprenticeWST"},"score":0,"creation_date":1579269848,"post_id":59787498,"comment_id":105720319,"body_markdown":"as other contributors said, not a good practice to have Dao in Spring boot main class. If you still want to have it in main class , can you try solution similar to https://stackoverflow.com/questions/31399924/spring-boot-autowired-in-main-class-is-getting-null.","body":"as other contributors said, not a good practice to have Dao in Spring boot main class. If you still want to have it in main class , can you try solution similar to <a href=\"https://stackoverflow.com/questions/31399924/spring-boot-autowired-in-main-class-is-getting-null\" title=\"spring boot autowired in main class is getting null\">stackoverflow.com/questions/31399924/&hellip;</a>."}],"tags":[],"owner":{"account_id":9343149,"reputation":117,"user_id":11880321,"display_name":"ApprenticeWST"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592378538,"creation_date":1579264650,"answer_id":59787498,"question_id":59785833,"body_markdown":"You are using `@Autowired UserDao` in main class, which is the cause.\r\n\r\nTry :\r\n\r\n 1. Adding `@Repository` in `UserDao`\r\n 2. Then, annotate run method in `MyFirstArtifactApplication`, with `@PostConstruct`.\r\n\r\nIf the above does not work, then try changing your main class to :\r\n\r\n    @SpringBootApplication\r\n    public class MyFirstArtifactApplication {\r\n    \r\n        @Autowired\r\n        UserDao userDao;\r\n    \r\n        private static final Logger log =  LoggerFactory.getLogger(MyFirstArtifactApplication.class);\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MyFirstArtifactApplication.class, args);\r\n            System.out.println(&quot;ciao&quot;);\r\n        }\r\n    \r\n        @PostConstruct \r\n        public void setUpData(String... strings) throws Exception {\r\n            log.info(&quot;ciao23&quot;);\r\n            userDao.save(new User(&quot;AAABBB00A01A123A&quot;, &quot;A B&quot;, &quot;AA&quot;,&quot;user&quot;));\r\n            userDao.save(new User(&quot;RSSMRA85T10A562S&quot;, &quot;M R&quot;,&quot;ab&quot;, &quot;user&quot;));\r\n        }\r\n     }","title":"Exception: Consider defining a bean of type in your configuration","body":"<p>You are using <code>@Autowired UserDao</code> in main class, which is the cause.</p>\n\n<p>Try :</p>\n\n<ol>\n<li>Adding <code>@Repository</code> in <code>UserDao</code></li>\n<li>Then, annotate run method in <code>MyFirstArtifactApplication</code>, with <code>@PostConstruct</code>.</li>\n</ol>\n\n<p>If the above does not work, then try changing your main class to :</p>\n\n<pre><code>@SpringBootApplication\npublic class MyFirstArtifactApplication {\n\n    @Autowired\n    UserDao userDao;\n\n    private static final Logger log =  LoggerFactory.getLogger(MyFirstArtifactApplication.class);\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyFirstArtifactApplication.class, args);\n        System.out.println(\"ciao\");\n    }\n\n    @PostConstruct \n    public void setUpData(String... strings) throws Exception {\n        log.info(\"ciao23\");\n        userDao.save(new User(\"AAABBB00A01A123A\", \"A B\", \"AA\",\"user\"));\n        userDao.save(new User(\"RSSMRA85T10A562S\", \"M R\",\"ab\", \"user\"));\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17550480,"reputation":1,"user_id":12730976,"display_name":"majkelo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579267466,"creation_date":1579267466,"answer_id":59788288,"question_id":59785833,"body_markdown":"create @Controller class and @Autowire yours Dao&#39;s in there (but use a constructor)... Spring boot is a preconfigurated spring mvc .. \r\nso model - is yours Entity , controller - ? ,you can use @service/@component also.\r\nand use @Repository on  UserDao","title":"Exception: Consider defining a bean of type in your configuration","body":"<p>create @Controller class and @Autowire yours Dao's in there (but use a constructor)... Spring boot is a preconfigurated spring mvc .. \nso model - is yours Entity , controller - ? ,you can use @service/@component also.\nand use @Repository on  UserDao</p>\n"}],"owner":{"account_id":17550038,"reputation":1,"user_id":12730625,"display_name":"giusdisplay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11580,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1695316075,"creation_date":1579257998,"question_id":59785833,"body_markdown":"I&#39;m not very familiar with English. I will try to explain the problem.\r\nI am learning to use spring-boot framework. \r\nI&#39;m configuring the model part. So I created the database tables using annotations @Entity, @Table\r\n\r\nAfter I created the tables, I created DAO for each one.\r\n\r\nI am following a tutorial, but I am not doing anything other than it.\r\n\r\nThe only different thing I did was add this line to the &quot;application.properties&quot; file otherwise the application would not work (this before implementing the model part) After creating the model part I encountered this new problem\r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n\r\n\r\nWhen I run and build the project I get the following error because the application fails to start. This is the output:\r\n\r\n     :: Spring Boot ::        (v2.2.2.RELEASE)\r\n    \r\n    2020-01-17 10:59:41.645  INFO 12464 --- [           main] c.m.m.MyFirstArtifactApplication         : Starting MyFirstArtifactApplication on SII-AS1 with PID 12464 (C:\\Users\\name\\Desktop\\my-first-artifact\\target\\classes started by name in C:\\Users\\name\\Desktop\\my-first-artifact)\r\n    2020-01-17 10:59:41.648  INFO 12464 --- [           main] c.m.m.MyFirstArtifactApplication         : No active profile set, falling back to default profiles: default\r\n    2020-01-17 10:59:42.500  INFO 12464 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8094 (http)\r\n    2020-01-17 10:59:42.507  INFO 12464 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2020-01-17 10:59:42.507  INFO 12464 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.29]\r\n    2020-01-17 10:59:42.590  INFO 12464 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2020-01-17 10:59:42.590  INFO 12464 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 909 ms\r\n    2020-01-17 10:59:42.624  WARN 12464 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myFirstArtifactApplication&#39;: Unsatisfied dependency expressed through field &#39;userDao&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.myfirstgroup.myfirstartifact.daos.UserDao&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    2020-01-17 10:59:42.626  INFO 12464 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2020-01-17 10:59:42.637  INFO 12464 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2020-01-17 10:59:42.702 ERROR 12464 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field userDao in com.myfirstgroup.myfirstartifact.MyFirstArtifactApplication required a bean of type &#39;com.myfirstgroup.myfirstartifact.daos.UserDao&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.myfirstgroup.myfirstartifact.daos.UserDao&#39; in your configuration.\r\n    \r\n    \r\n    Process finished with exit code 1\r\n\r\nCan anyone help me?\r\n\r\n\r\nEntities:\r\n\r\n**- User**\r\n\r\n    package com.myfirstgroup.myfirstartifact.entities;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    import javax.validation.constraints.NotBlank;\r\n    import javax.validation.constraints.NotEmpty;\r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    @AllArgsConstructor @NoArgsConstructor\r\n            public class User {\r\n          \r\n            //String ID, String USERNAME, String PASSWORD, String PERMISSION\r\n            @Id                                 //JPA id of the table\r\n            @Column(name = &quot;ID&quot;)                //JPA (if column name is different from variable name)\r\n            @NotEmpty @NotBlank @NotNull        //Lombok annotation\r\n            @Getter @Setter                     //JSR-303 Validation\r\n            private String id;\r\n        \r\n            @Column(name = &quot;USERNAME&quot;)          //JPA (if column name is different from variable name)\r\n            @NotEmpty @NotBlank @NotNull        //Lombok annotation\r\n            @Getter @Setter                     //JSR-303 Validation\r\n            private String username;\r\n        \r\n            @Column(name = &quot;PASSWORD&quot;)          //JPA (if column name is different from variable name)\r\n            @NotEmpty @NotBlank @NotNull        //Lombok annotation\r\n            @Getter @Setter                     //JSR-303 Validation\r\n            private String password;\r\n        \r\n            @Column(name = &quot;PERMISSION&quot;)        //JPA (if column name is different from variable name)\r\n            @NotEmpty @NotBlank @NotNull        //Lombok annotation\r\n            @Getter @Setter                     //JSR-303 Validation\r\n            private String permission;\r\n        \r\n        }\r\n\r\n**- Account**\r\n\r\n\r\n    package com.myfirstgroup.myfirstartifact.entities;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    import javax.validation.constraints.NotBlank;\r\n    import javax.validation.constraints.NotEmpty;\r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;accounts&quot;)\r\n    @AllArgsConstructor @NoArgsConstructor\r\n    \r\n    public class Account {\r\n    \r\n        //String ID, String FK_USER, Double TOTAL\r\n        @Id                             //JPA id of the table\r\n        @Column(name = &quot;ID&quot;)            //JPA (if column name is different from variable name)\r\n        @NotNull @NotBlank @NotEmpty    //Lombok annotation\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        private String id;\r\n    \r\n        @Column(name = &quot;FK_USER&quot;)       //JPA (if column name is different from variable name)\r\n        @NotNull @NotBlank @NotEmpty    //Lombok annotation\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        private String fkUser;\r\n    \r\n        @Column(name = &quot;TOTAL&quot;)         //JPA (if column name is different from variable name)\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        private Double total;\r\n    }\r\n\r\n- **Opearation**\r\n\r\n         package com.myfirstgroup.myfirstartifact.entities;\r\n    \r\n    \r\n          import lombok.AllArgsConstructor;\r\n          import lombok.Getter;\r\n          import lombok.NoArgsConstructor;\r\n          import lombok.Setter;\r\n          import javax.persistence.*;\r\n          import javax.validation.constraints.NotBlank;\r\n          import javax.validation.constraints.NotEmpty;\r\n          import javax.validation.constraints.NotNull;\r\n          import java.util.Date;\r\n    \r\n         @Entity\r\n         @Table(name = &quot;operations&quot;)\r\n         @AllArgsConstructor @NoArgsConstructor\r\n         public class Operation {\r\n              //String ID, Date DATE, Double Value, String DESCRIPTION, String FK_ACCOUNT1, String FK_ACCOUNT2\r\n    \r\n        @Id                             //JPA id of the table\r\n        @Column(name =&quot;ID&quot;)             //JPA (if column name is different from variable name)\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        @NotEmpty @NotNull @NotBlank    //Lombok annotation\r\n        private String id;\r\n    \r\n        @Column(name =&quot;DATE&quot;)           //JPA (if column name is different from variable name)\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        private Date date;              //Lombok annotation\r\n    \r\n        @Column(name =&quot;DESCRIPTION&quot;)    //JPA (if column name is different from variable name)\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        private String description;\r\n    \r\n    \r\n        @Column(name =&quot;VALUE&quot;)          //JPA (if column name is different from variable name)\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        @NotNull                        //Lombok annotation\r\n        private Double value;\r\n    \r\n    \r\n        @Column(name =&quot;FK_ACCOUNT1&quot;)    //JPA (if column name is different from variable name)\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        @NotEmpty @NotNull @NotBlank    //Lombok annotation\r\n        private String fkAccount1;\r\n    \r\n        @Column(name =&quot;FK_ACCOUNT2&quot;)    //JPA (if column name is different from variable name)\r\n        @Getter @Setter                 //JSR-303 Validation\r\n        private String fkAccount2;\r\n    \r\n        @PrePersist\r\n        void getTimeOperation(){\r\n            this.date = new Date();\r\n        }\r\n    }\r\n\r\nDaos:\r\n\r\n**-UserDao**\r\n\r\n    package com.myfirstgroup.myfirstartifact.daos;\r\n    \r\n    import com.myfirstgroup.myfirstartifact.entities.User;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import java.util.Optional;\r\n    \r\n    \r\n    public interface UserDao extends JpaRepository&lt;User, String&gt; {\r\n    \r\n        Optional&lt;User&gt; findById(String id);\r\n    }\r\n\r\n\r\n- **AccountDao**\r\n\r\n          package com.myfirstgroup.myfirstartifact.daos;\r\n    \r\n          import com.myfirstgroup.myfirstartifact.entities.Account;\r\n          import org.springframework.data.jpa.repository.JpaRepository;\r\n          import org.springframework.data.jpa.repository.Query;\r\n          import org.springframework.data.repository.query.Param;\r\n          import org.springframework.stereotype.Repository;\r\n    \r\n          import java.util.List;\r\n    \r\n    \r\n          public interface AccountDao extends JpaRepository&lt;Account, String&gt; {\r\n        @Query(value = &quot;SELECT * FROM accounts WHERE FK_USER=:user&quot;, nativeQuery = true)\r\n        List&lt;Account&gt; getAllAccountPerUser(@Param(&quot;user&quot;)String user);\r\n        List&lt;Account&gt; findByFkUser(String fkUser);\r\n    }\r\n\r\n\r\n- **OperationDao**\r\n\r\n        package com.myfirstgroup.myfirstartifact.daos;\r\n    \r\n        import com.myfirstgroup.myfirstartifact.entities.Operation;\r\n        import org.springframework.data.jpa.repository.JpaRepository;\r\n        import org.springframework.data.jpa.repository.Query;\r\n        import org.springframework.data.repository.query.Param;\r\n        import org.springframework.stereotype.Repository;\r\n    \r\n        import java.util.List;\r\n    \r\n        public interface OperationDao extends JpaRepository&lt;Operation,String&gt; {\r\n        @Query(value = &quot;SELECT * FROM operations WHERE FK_ACCOUNT1:=account OR FK_ACCOUNT2:=account&quot;, nativeQuery = true)\r\n        List&lt;Operation&gt; findAllOperationByAccount(@Param(&quot;account&quot;) String account);\r\n    }\r\n\r\nArtifactApplication.java:\r\n\r\n\r\n    package com.myfirstgroup.myfirstartifact;\r\n    \r\n    import com.myfirstgroup.myfirstartifact.daos.AccountDao;\r\n    import com.myfirstgroup.myfirstartifact.daos.OperationDao;\r\n    import com.myfirstgroup.myfirstartifact.daos.UserDao;\r\n    import com.myfirstgroup.myfirstartifact.entities.Account;\r\n    import com.myfirstgroup.myfirstartifact.entities.Operation;\r\n    import com.myfirstgroup.myfirstartifact.entities.User;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    \r\n    \r\n    import java.util.Date;\r\n    \r\n    @SpringBootApplication\r\n    \r\n    \r\n    \r\n    public class MyFirstArtifactApplication implements CommandLineRunner{\r\n    \r\n    \r\n    \t@Autowired\r\n    \tUserDao userDao;\r\n    \r\n    \t@Autowired\r\n    \tAccountDao accountDao;\r\n    \r\n    \t@Autowired\r\n    \tOperationDao operationDao;\r\n    \r\n    \r\n    \r\n    \tprivate static final Logger log =  LoggerFactory.getLogger(MyFirstArtifactApplication.class);\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MyFirstArtifactApplication.class, args);\r\n    \t\tSystem.out.println(&quot;ciao&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... strings) throws Exception{\r\n    \t\tlog.info(&quot;ciao23&quot;);\r\n    \r\n    \t\tuserDao.save(new User(&quot;AAABBB12C456D&quot;, &quot;Aaaaaaa&quot;, &quot;bbbbbbb&quot;, &quot;user&quot;));\r\n    \t\tuserDao.save(new User(&quot;RSSMRA85T10A562S&quot;, &quot;Mario Rossi&quot;, &quot;abba&quot;, &quot;user&quot;));\r\n    \t\tuserDao.save(new User(&quot;PLLPNC82B02G224Z&quot;, &quot;Pinco Pallino&quot;, &quot;salutpass&quot;, &quot;user&quot;));\r\n    \r\n    \t\taccountDao.save(new Account(&quot;account_number_1&quot;,&quot;AAABBB12C456D&quot;,3000.00));\r\n    \t\taccountDao.save(new Account(&quot;account_number_2&quot;,&quot;AAABBB12C456D&quot;,4000.00));\r\n    \t\taccountDao.save(new Account(&quot;account_number_3&quot;,&quot;RSSMRA85T10A562S&quot;,7000.00));\r\n    \t\taccountDao.save(new Account(&quot;account_number_4&quot;,&quot;PLLPNC82B02G224Z&quot;,2000.00));\r\n    \t\taccountDao.save(new Account(&quot;account_number_5&quot;,&quot;PLLPNC82B02G224Z&quot;,8000.00));\r\n    \r\n    \t\toperationDao.save(new Operation(&quot;3452&quot;,new Date(),&quot;Bonifico Bancario&quot;,100.00,&quot;account_number_1&quot;,&quot;account_number_3&quot;));\r\n    \t\toperationDao.save(new Operation(&quot;3453&quot;,new Date(),&quot;Pagamento Tasse&quot;,-100.00,&quot;account_number_2&quot;,&quot;account_number_5&quot;));\r\n    \t\toperationDao.save(new Operation(&quot;3454&quot;,new Date(),&quot;Postagiro&quot;,230.00,&quot;account_number_3&quot;,&quot;account_number_4&quot;));\r\n    \t\toperationDao.save(new Operation(&quot;3455&quot;,new Date(),&quot;Vaglia Postale&quot;,172.00,&quot;account_number_1&quot;,&quot;account_number_5&quot;));\r\n    \t\toperationDao.save(new Operation(&quot;3456&quot;,new Date(),&quot;Acquisto Azioni&quot;,-3400.00,&quot;account_number_2&quot;,&quot;account_number_4&quot;));\r\n    \t\toperationDao.save(new Operation(&quot;3457&quot;,new Date(),&quot;Vendita Azioni&quot;,100.00,&quot;account_number_2&quot;,&quot;account_number_3&quot;));\r\n    \t\toperationDao.save(new Operation(&quot;3458&quot;,new Date(),&quot;Prelevamento&quot;,-100.00,&quot;account_number_3&quot;,&quot;&quot;));\r\n    \t\toperationDao.save(new Operation(&quot;3459&quot;,new Date(),&quot;Deposito&quot;,1100.00,&quot;account_number_5&quot;,&quot;account_number_1&quot;));\r\n    \t}\r\n    }\r\n\r\n\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.myfirstgroup&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;my-first-artifact&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;my-first-artifact&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.18.10&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\napplication.properties:\r\n\r\n    server.port=8094\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n\r\n\r\n\r\n\r\n\r\n","title":"Exception: Consider defining a bean of type in your configuration","body":"<p>I'm not very familiar with English. I will try to explain the problem.\nI am learning to use spring-boot framework. \nI'm configuring the model part. So I created the database tables using annotations @Entity, @Table</p>\n\n<p>After I created the tables, I created DAO for each one.</p>\n\n<p>I am following a tutorial, but I am not doing anything other than it.</p>\n\n<p>The only different thing I did was add this line to the \"application.properties\" file otherwise the application would not work (this before implementing the model part) After creating the model part I encountered this new problem</p>\n\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\n</code></pre>\n\n<p>When I run and build the project I get the following error because the application fails to start. This is the output:</p>\n\n<pre><code> :: Spring Boot ::        (v2.2.2.RELEASE)\n\n2020-01-17 10:59:41.645  INFO 12464 --- [           main] c.m.m.MyFirstArtifactApplication         : Starting MyFirstArtifactApplication on SII-AS1 with PID 12464 (C:\\Users\\g.barbera\\Desktop\\my-first-artifact\\target\\classes started by g.barbera in C:\\Users\\g.barbera\\Desktop\\my-first-artifact)\n2020-01-17 10:59:41.648  INFO 12464 --- [           main] c.m.m.MyFirstArtifactApplication         : No active profile set, falling back to default profiles: default\n2020-01-17 10:59:42.500  INFO 12464 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8094 (http)\n2020-01-17 10:59:42.507  INFO 12464 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2020-01-17 10:59:42.507  INFO 12464 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.29]\n2020-01-17 10:59:42.590  INFO 12464 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2020-01-17 10:59:42.590  INFO 12464 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 909 ms\n2020-01-17 10:59:42.624  WARN 12464 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myFirstArtifactApplication': Unsatisfied dependency expressed through field 'userDao'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.myfirstgroup.myfirstartifact.daos.UserDao' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2020-01-17 10:59:42.626  INFO 12464 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2020-01-17 10:59:42.637  INFO 12464 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2020-01-17 10:59:42.702 ERROR 12464 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField userDao in com.myfirstgroup.myfirstartifact.MyFirstArtifactApplication required a bean of type 'com.myfirstgroup.myfirstartifact.daos.UserDao' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.myfirstgroup.myfirstartifact.daos.UserDao' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>Can anyone help me?</p>\n\n<p>Entities:</p>\n\n<p><strong>- User</strong></p>\n\n<pre><code>package com.myfirstgroup.myfirstartifact.entities;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.NotNull;\n\n\n@Entity\n@Table(name = \"users\")\n@AllArgsConstructor @NoArgsConstructor\n        public class User {\n\n        //String ID, String USERNAME, String PASSWORD, String PERMISSION\n        @Id                                 //JPA id of the table\n        @Column(name = \"ID\")                //JPA (if column name is different from variable name)\n        @NotEmpty @NotBlank @NotNull        //Lombok annotation\n        @Getter @Setter                     //JSR-303 Validation\n        private String id;\n\n        @Column(name = \"USERNAME\")          //JPA (if column name is different from variable name)\n        @NotEmpty @NotBlank @NotNull        //Lombok annotation\n        @Getter @Setter                     //JSR-303 Validation\n        private String username;\n\n        @Column(name = \"PASSWORD\")          //JPA (if column name is different from variable name)\n        @NotEmpty @NotBlank @NotNull        //Lombok annotation\n        @Getter @Setter                     //JSR-303 Validation\n        private String password;\n\n        @Column(name = \"PERMISSION\")        //JPA (if column name is different from variable name)\n        @NotEmpty @NotBlank @NotNull        //Lombok annotation\n        @Getter @Setter                     //JSR-303 Validation\n        private String permission;\n\n    }\n</code></pre>\n\n<p><strong>- Account</strong></p>\n\n<pre><code>package com.myfirstgroup.myfirstartifact.entities;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.NotNull;\n\n@Entity\n@Table(name = \"accounts\")\n@AllArgsConstructor @NoArgsConstructor\n\npublic class Account {\n\n    //String ID, String FK_USER, Double TOTAL\n    @Id                             //JPA id of the table\n    @Column(name = \"ID\")            //JPA (if column name is different from variable name)\n    @NotNull @NotBlank @NotEmpty    //Lombok annotation\n    @Getter @Setter                 //JSR-303 Validation\n    private String id;\n\n    @Column(name = \"FK_USER\")       //JPA (if column name is different from variable name)\n    @NotNull @NotBlank @NotEmpty    //Lombok annotation\n    @Getter @Setter                 //JSR-303 Validation\n    private String fkUser;\n\n    @Column(name = \"TOTAL\")         //JPA (if column name is different from variable name)\n    @Getter @Setter                 //JSR-303 Validation\n    private Double total;\n}\n</code></pre>\n\n<ul>\n<li><p><strong>Opearation</strong></p>\n\n<pre><code> package com.myfirstgroup.myfirstartifact.entities;\n\n\n  import lombok.AllArgsConstructor;\n  import lombok.Getter;\n  import lombok.NoArgsConstructor;\n  import lombok.Setter;\n  import javax.persistence.*;\n  import javax.validation.constraints.NotBlank;\n  import javax.validation.constraints.NotEmpty;\n  import javax.validation.constraints.NotNull;\n  import java.util.Date;\n\n @Entity\n @Table(name = \"operations\")\n @AllArgsConstructor @NoArgsConstructor\n public class Operation {\n      //String ID, Date DATE, Double Value, String DESCRIPTION, String FK_ACCOUNT1, String FK_ACCOUNT2\n\n@Id                             //JPA id of the table\n@Column(name =\"ID\")             //JPA (if column name is different from variable name)\n@Getter @Setter                 //JSR-303 Validation\n@NotEmpty @NotNull @NotBlank    //Lombok annotation\nprivate String id;\n\n@Column(name =\"DATE\")           //JPA (if column name is different from variable name)\n@Getter @Setter                 //JSR-303 Validation\nprivate Date date;              //Lombok annotation\n\n@Column(name =\"DESCRIPTION\")    //JPA (if column name is different from variable name)\n@Getter @Setter                 //JSR-303 Validation\nprivate String description;\n\n\n@Column(name =\"VALUE\")          //JPA (if column name is different from variable name)\n@Getter @Setter                 //JSR-303 Validation\n@NotNull                        //Lombok annotation\nprivate Double value;\n\n\n@Column(name =\"FK_ACCOUNT1\")    //JPA (if column name is different from variable name)\n@Getter @Setter                 //JSR-303 Validation\n@NotEmpty @NotNull @NotBlank    //Lombok annotation\nprivate String fkAccount1;\n\n@Column(name =\"FK_ACCOUNT2\")    //JPA (if column name is different from variable name)\n@Getter @Setter                 //JSR-303 Validation\nprivate String fkAccount2;\n\n@PrePersist\nvoid getTimeOperation(){\n    this.date = new Date();\n}\n</code></pre>\n\n<p>}</p></li>\n</ul>\n\n<p>Daos:</p>\n\n<p><strong>-UserDao</strong></p>\n\n<pre><code>package com.myfirstgroup.myfirstartifact.daos;\n\nimport com.myfirstgroup.myfirstartifact.entities.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport org.springframework.stereotype.Repository;\n\nimport java.util.Optional;\n\n\npublic interface UserDao extends JpaRepository&lt;User, String&gt; {\n\n    Optional&lt;User&gt; findById(String id);\n}\n</code></pre>\n\n<ul>\n<li><p><strong>AccountDao</strong></p>\n\n<pre><code>  package com.myfirstgroup.myfirstartifact.daos;\n\n  import com.myfirstgroup.myfirstartifact.entities.Account;\n  import org.springframework.data.jpa.repository.JpaRepository;\n  import org.springframework.data.jpa.repository.Query;\n  import org.springframework.data.repository.query.Param;\n  import org.springframework.stereotype.Repository;\n\n  import java.util.List;\n\n\n  public interface AccountDao extends JpaRepository&lt;Account, String&gt; {\n@Query(value = \"SELECT * FROM accounts WHERE FK_USER=:user\", nativeQuery = true)\nList&lt;Account&gt; getAllAccountPerUser(@Param(\"user\")String user);\nList&lt;Account&gt; findByFkUser(String fkUser);\n</code></pre>\n\n<p>}</p></li>\n<li><p><strong>OperationDao</strong></p>\n\n<pre><code>package com.myfirstgroup.myfirstartifact.daos;\n\nimport com.myfirstgroup.myfirstartifact.entities.Operation;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\npublic interface OperationDao extends JpaRepository&lt;Operation,String&gt; {\n@Query(value = \"SELECT * FROM operations WHERE FK_ACCOUNT1:=account OR FK_ACCOUNT2:=account\", nativeQuery = true)\nList&lt;Operation&gt; findAllOperationByAccount(@Param(\"account\") String account);\n</code></pre>\n\n<p>}</p></li>\n</ul>\n\n<p>ArtifactApplication.java:</p>\n\n<pre><code>package com.myfirstgroup.myfirstartifact;\n\nimport com.myfirstgroup.myfirstartifact.daos.AccountDao;\nimport com.myfirstgroup.myfirstartifact.daos.OperationDao;\nimport com.myfirstgroup.myfirstartifact.daos.UserDao;\nimport com.myfirstgroup.myfirstartifact.entities.Account;\nimport com.myfirstgroup.myfirstartifact.entities.Operation;\nimport com.myfirstgroup.myfirstartifact.entities.User;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n\nimport java.util.Date;\n\n@SpringBootApplication\n\n\n\npublic class MyFirstArtifactApplication implements CommandLineRunner{\n\n\n    @Autowired\n    UserDao userDao;\n\n    @Autowired\n    AccountDao accountDao;\n\n    @Autowired\n    OperationDao operationDao;\n\n\n\n    private static final Logger log =  LoggerFactory.getLogger(MyFirstArtifactApplication.class);\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyFirstArtifactApplication.class, args);\n        System.out.println(\"ciao\");\n    }\n\n    @Override\n    public void run(String... strings) throws Exception{\n        log.info(\"ciao23\");\n\n        userDao.save(new User(\"AAABBB12C456D\", \"Aaaaaaa\", \"bbbbbbb\", \"user\"));\n        userDao.save(new User(\"RSSMRA85T10A562S\", \"Mario Rossi\", \"abba\", \"user\"));\n        userDao.save(new User(\"PLLPNC82B02G224Z\", \"Pinco Pallino\", \"salutpass\", \"user\"));\n\n        accountDao.save(new Account(\"account_number_1\",\"AAABBB12C456D\",3000.00));\n        accountDao.save(new Account(\"account_number_2\",\"AAABBB12C456D\",4000.00));\n        accountDao.save(new Account(\"account_number_3\",\"RSSMRA85T10A562S\",7000.00));\n        accountDao.save(new Account(\"account_number_4\",\"PLLPNC82B02G224Z\",2000.00));\n        accountDao.save(new Account(\"account_number_5\",\"PLLPNC82B02G224Z\",8000.00));\n\n        operationDao.save(new Operation(\"3452\",new Date(),\"Bonifico Bancario\",100.00,\"account_number_1\",\"account_number_3\"));\n        operationDao.save(new Operation(\"3453\",new Date(),\"Pagamento Tasse\",-100.00,\"account_number_2\",\"account_number_5\"));\n        operationDao.save(new Operation(\"3454\",new Date(),\"Postagiro\",230.00,\"account_number_3\",\"account_number_4\"));\n        operationDao.save(new Operation(\"3455\",new Date(),\"Vaglia Postale\",172.00,\"account_number_1\",\"account_number_5\"));\n        operationDao.save(new Operation(\"3456\",new Date(),\"Acquisto Azioni\",-3400.00,\"account_number_2\",\"account_number_4\"));\n        operationDao.save(new Operation(\"3457\",new Date(),\"Vendita Azioni\",100.00,\"account_number_2\",\"account_number_3\"));\n        operationDao.save(new Operation(\"3458\",new Date(),\"Prelevamento\",-100.00,\"account_number_3\",\"\"));\n        operationDao.save(new Operation(\"3459\",new Date(),\"Deposito\",1100.00,\"account_number_5\",\"account_number_1\"));\n    }\n}\n</code></pre>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.myfirstgroup&lt;/groupId&gt;\n    &lt;artifactId&gt;my-first-artifact&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;my-first-artifact&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.10&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>application.properties:</p>\n\n<pre><code>server.port=8094\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\n</code></pre>\n"},{"tags":["java","tomcat","jar","war","java-io"],"answers":[{"comments":[{"owner":{"account_id":25192141,"reputation":1802,"user_id":19032206,"display_name":"qaziqarta"},"score":0,"creation_date":1669960824,"post_id":49222604,"comment_id":131766099,"body_markdown":"Can you please provide sources for your answers. Right now your answer is an almost exact copy of another user&#39;s answer: https://stackoverflow.com/a/18055478/19032206","body":"Can you please provide sources for your answers. Right now your answer is an almost exact copy of another user&#39;s answer: <a href=\"https://stackoverflow.com/a/18055478/19032206\">stackoverflow.com/a/18055478/19032206</a>"}],"tags":[],"owner":{"account_id":1827567,"reputation":1054,"user_id":1659875,"display_name":"spandey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670059484,"creation_date":1520787525,"answer_id":49222604,"question_id":49222370,"body_markdown":"You should be using\r\n\r\n    getResourceAsStream(...);\r\n\r\nwhen the resource is bundled as a jar/war or any other single file package for that matter.","title":"java.lang.IllegalArgumentException: URI is not hierarchical (in deployed application)","body":"<p>You should be using</p>\n<pre><code>getResourceAsStream(...);\n</code></pre>\n<p>when the resource is bundled as a jar/war or any other single file package for that matter.</p>\n"},{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520787914,"creation_date":1520787914,"answer_id":49222689,"question_id":49222370,"body_markdown":"Create the `OutputStream` with \r\n\r\n\tOutputStream os = this.getClass()\r\n\t\t.getClassLoader()\r\n\t\t.getResourceAsStream(&quot;/templates/&quot; + quoteNumber + &quot;.pdf&quot;);\r\n\r\nYou want to store the pdf inside the jar, which is different from when running in your local environment (say with Eclipse) where the OS filesystem is used. \r\n\r\n","title":"java.lang.IllegalArgumentException: URI is not hierarchical (in deployed application)","body":"<p>Create the <code>OutputStream</code> with </p>\n\n<pre><code>OutputStream os = this.getClass()\n    .getClassLoader()\n    .getResourceAsStream(\"/templates/\" + quoteNumber + \".pdf\");\n</code></pre>\n\n<p>You want to store the pdf inside the jar, which is different from when running in your local environment (say with Eclipse) where the OS filesystem is used. </p>\n"},{"tags":[],"owner":{"account_id":10247695,"reputation":64,"user_id":7562982,"display_name":"Jasvant Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695315270,"creation_date":1695315270,"answer_id":77152223,"question_id":49222370,"body_markdown":"Modify the code to\r\n\r\n    OutputStream outputStream = new FileOutputStream(&quot;/templates/&quot;+quoteNumber+&quot;.pdf&quot;);","title":"java.lang.IllegalArgumentException: URI is not hierarchical (in deployed application)","body":"<p>Modify the code to</p>\n<pre><code>OutputStream outputStream = new FileOutputStream(&quot;/templates/&quot;+quoteNumber+&quot;.pdf&quot;);\n</code></pre>\n"}],"owner":{"account_id":12418760,"reputation":279,"user_id":9046818,"accept_rate":0,"display_name":"Ketan Navadiya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695315270,"creation_date":1520786247,"question_id":49222370,"body_markdown":"I have deployed my app to jar file. I want to generate and store PDF in resource folder of my application, Everything is working for me in development but when I deployed I got error in live application\r\n\r\nfollowing is my code\r\n\r\n\t\t\tURL url = this.getClass().getResource(&quot;/templates&quot;);\r\n\t\t    parentDirectory = new File(new URI(url.toString()));\r\n\t\t\tOutputStream outputStream = new FileOutputStream(parentDirectory.toString()+&quot;/&quot;+quoteNumber+&quot;.pdf&quot;);\r\n\r\n\r\neverything is working fine and created PDf file successfully when I run my application from Eclips but I deploye application WAR file in server I got this error \r\n\r\n\r\nmy error full log is following \r\n\r\n\r\n\r\n\r\n&gt; 2018-03-09 18:23:31.033 ERROR 6 --- [ XNIO-2 task-13]\r\n&gt; o.z.p.spring.web.advice.AdviceTrait      : Internal Server Error\r\n&gt; java.lang.IllegalArgumentException: URI is not hierarchical \tat\r\n&gt; java.io.File.&lt;init&gt;(File.java:418) \tat\r\n&gt; com.beequote.web.rest.QuotebuilderResource.Quote(QuotebuilderResource.java:338)\r\n&gt; \tat\r\n&gt; com.beequote.web.rest.QuotebuilderResource$$FastClassBySpringCGLIB$$7c210806.invoke(&lt;generated&gt;)\r\n&gt; \tat\r\n&gt; org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n&gt; \tat\r\n&gt; com.ryantenney.metrics.spring.TimedMethodInterceptor.invoke(TimedMethodInterceptor.java:48)\r\n&gt; \tat\r\n&gt; com.ryantenney.metrics.spring.TimedMethodInterceptor.invoke(TimedMethodInterceptor.java:34)\r\n&gt; \tat\r\n&gt; com.ryantenney.metrics.spring.AbstractMetricMethodInterceptor.invoke(AbstractMetricMethodInterceptor.java:59)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\r\n&gt; \tat\r\n&gt; com.beequote.web.rest.QuotebuilderResource$$EnhancerBySpringCGLIB$$c16579cf.Quote(&lt;generated&gt;)\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n&gt; \tat\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687) \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790) \tat\r\n&gt; io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n&gt; \tat\r\n&gt; com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:111)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:59)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:110)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat com.beequote.security.jwt.JWTFilter.doFilter(JWTFilter.java:36)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\r\n&gt; \tat\r\n&gt; org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n&gt; \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:64)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n&gt; \tat\r\n&gt; io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n&gt; \tat\r\n&gt; io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n&gt; \tat\r\n&gt; io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n&gt; \tat\r\n&gt; io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n&gt; \tat\r\n&gt; io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n&gt; \tat\r\n&gt; io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\r\n&gt; \tat\r\n&gt; io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)\r\n&gt; \tat\r\n&gt; io.undertow.server.Connectors.executeRootHandler(Connectors.java:332)\r\n&gt; \tat\r\n&gt; io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n&gt; \tat java.lang.Thread.run(Thread.java:748)","title":"java.lang.IllegalArgumentException: URI is not hierarchical (in deployed application)","body":"<p>I have deployed my app to jar file. I want to generate and store PDF in resource folder of my application, Everything is working for me in development but when I deployed I got error in live application</p>\n\n<p>following is my code</p>\n\n<pre><code>        URL url = this.getClass().getResource(\"/templates\");\n        parentDirectory = new File(new URI(url.toString()));\n        OutputStream outputStream = new FileOutputStream(parentDirectory.toString()+\"/\"+quoteNumber+\".pdf\");\n</code></pre>\n\n<p>everything is working fine and created PDf file successfully when I run my application from Eclips but I deploye application WAR file in server I got this error </p>\n\n<p>my error full log is following </p>\n\n<blockquote>\n  <p>2018-03-09 18:23:31.033 ERROR 6 --- [ XNIO-2 task-13]\n  o.z.p.spring.web.advice.AdviceTrait      : Internal Server Error\n  java.lang.IllegalArgumentException: URI is not hierarchical   at\n  java.io.File.(File.java:418)    at\n  com.beequote.web.rest.QuotebuilderResource.Quote(QuotebuilderResource.java:338)\n    at\n  com.beequote.web.rest.QuotebuilderResource$$FastClassBySpringCGLIB$$7c210806.invoke()\n    at\n  org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at\n  org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\n    at\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at\n  com.ryantenney.metrics.spring.TimedMethodInterceptor.invoke(TimedMethodInterceptor.java:48)\n    at\n  com.ryantenney.metrics.spring.TimedMethodInterceptor.invoke(TimedMethodInterceptor.java:34)\n    at\n  com.ryantenney.metrics.spring.AbstractMetricMethodInterceptor.invoke(AbstractMetricMethodInterceptor.java:59)\n    at\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at\n  org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\n    at\n  com.beequote.web.rest.QuotebuilderResource$$EnhancerBySpringCGLIB$$c16579cf.Quote()\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at\n  org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\n    at\n  org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\n    at\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n    at\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n    at\n  org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    at\n  org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\n    at\n  org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\n    at\n  org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    at\n  org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)     at\n  org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)     at\n  io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at\n  com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:111)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:59)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:110)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\n    at\n  org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n    at\n  org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at com.beequote.security.jwt.JWTFilter.doFilter(JWTFilter.java:36)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at\n  org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\n    at\n  org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\n    at\n  org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)\n    at\n  org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n    at\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at\n  io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at\n  io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at\n  io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at\n  io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at\n  io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:64)\n    at\n  io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at\n  io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\n    at\n  io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at\n  io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at\n  io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at\n  io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at\n  io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n    at\n  io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n    at\n  io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at\n  io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at\n  io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at\n  io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)\n    at\n  io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)\n    at\n  io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)\n    at\n  io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\n    at\n  io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at\n  io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at\n  io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)\n    at\n  io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\n    at\n  io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)\n    at\n  io.undertow.server.Connectors.executeRootHandler(Connectors.java:332)\n    at\n  io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\n    at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)</p>\n</blockquote>\n"},{"tags":["java","apache-kafka","quarkus","ksqldb"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1695500361,"post_id":77143257,"comment_id":136033653,"body_markdown":"is there a way to lower the timeout of the &quot;get()&quot; ? it will be easier if you put a reproducer.","body":"is there a way to lower the timeout of the &quot;get()&quot; ? it will be easier if you put a reproducer."},{"owner":{"account_id":5217060,"reputation":351,"user_id":4171672,"accept_rate":17,"display_name":"Drakem"},"score":0,"creation_date":1695724936,"post_id":77143257,"comment_id":136059817,"body_markdown":"The reproducer is basically the jUnit test code that I posted, you just need to put it into a quarkus project and add the needed dependencies. The timeout in the get() is not the issue here, I don&#39;t expect that query to take a lot of time, in fact it takes around a few milliseconds when run via REST API on ksql, so the fact that the get() call hangs is not due to actual execution time.","body":"The reproducer is basically the jUnit test code that I posted, you just need to put it into a quarkus project and add the needed dependencies. The timeout in the get() is not the issue here, I don&#39;t expect that query to take a lot of time, in fact it takes around a few milliseconds when run via REST API on ksql, so the fact that the get() call hangs is not due to actual execution time."}],"owner":{"account_id":5217060,"reputation":351,"user_id":4171672,"accept_rate":17,"display_name":"Drakem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695315156,"creation_date":1695218700,"question_id":77143257,"body_markdown":"This is my Java code\r\n\r\n    import io.confluent.ksql.api.client.BatchedQueryResult;\r\n    import io.confluent.ksql.api.client.Client;\r\n    import io.confluent.ksql.api.client.ClientOptions;\r\n    import io.confluent.ksql.api.client.Row;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Properties;\r\n    import java.util.concurrent.ExecutionException;\r\n    \r\n    public class KSqlDBTest {\r\n    \tpublic static String KSQLDB_SERVER_HOST = &quot;localhost&quot;;\r\n    \tpublic static int KSQLDB_SERVER_HOST_PORT = 8088;\r\n    \r\n    \t@Test\r\n    \tpublic void kSqlDbTest() {\r\n    \t\tClientOptions options = ClientOptions.create()\r\n    \t\t\t\t.setHost(KSQLDB_SERVER_HOST)\r\n    \t\t\t\t.setPort(KSQLDB_SERVER_HOST_PORT)\r\n    \t\t\t\t.setUseTls(false)\r\n    \t\t\t\t.setUseAlpn(false)\r\n    \t\t\t\t.setExecuteQueryMaxResultRows(1000000000);\r\n    \r\n    \t\tProperties properties = new Properties();\r\n    \t\tproperties.put(&quot;auto.offset.reset&quot;, &quot;earliest&quot;);\r\n    \r\n    \t\tClient client = Client.create(options);\r\n    \t\ttry {\r\n    \t\t\tString pullQuery = &quot;SELECT * FROM QUERYABLE_CLIENTS_VEHICLES;&quot;;\r\n    \t\t\tBatchedQueryResult batchedQueryResult = client.executeQuery(pullQuery, (Map)properties);\r\n    \t\t\tList&lt;Row&gt; resultRows = batchedQueryResult.get();\r\n    \r\n    \t\t\tSystem.out.println(&quot;Received results. Num rows: &quot; + resultRows.size());\r\n    \t\t\tfor (Row row : resultRows) {\r\n    \t\t\t\tSystem.out.println(&quot;Row: &quot; + row.values());\r\n    \t\t\t}\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (ExecutionException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tcatch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe problem is the execution of the following line of code gets stuck:\r\n\r\n    List&lt;Row&gt; resultRows = batchedQueryResult.get();\r\n\r\nRight after executing it, I actually see this log on the kSqlDB server:\r\n\r\n    INFO 172.21.0.1 - - [Wed, 20 Sep 2023 14:00:19 GMT] &quot;POST /query-stream HTTP/2.0&quot; 200 1030 &quot;-&quot; &quot;ksqlDB Java Client v7.4.0&quot; 142 (io.confluent.ksql.api.server.LoggingHandler)\r\n\r\nBut the execution hangs on Java side.\r\n\r\nSome considerations:\r\n\r\n - My kSqlDb server is up and running in a docker container on my local machine. Here&#39;s the result to a call to GET /info endpoint:\r\n\r\n    {\r\n        &quot;KsqlServerInfo&quot;: {\r\n            &quot;version&quot;: &quot;7.4.0&quot;,\r\n            &quot;kafkaClusterId&quot;: &quot;nq0iysPOTMeoaTizkPidNw&quot;,\r\n            &quot;ksqlServiceId&quot;: &quot;default_&quot;,\r\n            &quot;serverStatus&quot;: &quot;RUNNING&quot;\r\n        }\r\n    }\r\n\r\n - The QUERYABLE_CLIENTS_VEHICLES materialized table is correctly\r\n   created, and the query &quot;SELECT * FROM QUERYABLE_CLIENTS_VEHICLES;&quot;\r\n   when executed directly from confluent console works with no\r\n   problems\r\n - I also tried to directly call thekSqlDB REST endpoint POST\r\n   /query-stream passing the same query, and    it works with no\r\n   problems\r\n - There is no exception catched by the code.\r\n\r\nWhat could be the issue?","title":"Issues with kSqlDB client for Java in Quarkus app - BatchedQueryResult hangs on completableFuture get()","body":"<p>This is my Java code</p>\n<pre><code>import io.confluent.ksql.api.client.BatchedQueryResult;\nimport io.confluent.ksql.api.client.Client;\nimport io.confluent.ksql.api.client.ClientOptions;\nimport io.confluent.ksql.api.client.Row;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Properties;\nimport java.util.concurrent.ExecutionException;\n\npublic class KSqlDBTest {\n    public static String KSQLDB_SERVER_HOST = &quot;localhost&quot;;\n    public static int KSQLDB_SERVER_HOST_PORT = 8088;\n\n    @Test\n    public void kSqlDbTest() {\n        ClientOptions options = ClientOptions.create()\n                .setHost(KSQLDB_SERVER_HOST)\n                .setPort(KSQLDB_SERVER_HOST_PORT)\n                .setUseTls(false)\n                .setUseAlpn(false)\n                .setExecuteQueryMaxResultRows(1000000000);\n\n        Properties properties = new Properties();\n        properties.put(&quot;auto.offset.reset&quot;, &quot;earliest&quot;);\n\n        Client client = Client.create(options);\n        try {\n            String pullQuery = &quot;SELECT * FROM QUERYABLE_CLIENTS_VEHICLES;&quot;;\n            BatchedQueryResult batchedQueryResult = client.executeQuery(pullQuery, (Map)properties);\n            List&lt;Row&gt; resultRows = batchedQueryResult.get();\n\n            System.out.println(&quot;Received results. Num rows: &quot; + resultRows.size());\n            for (Row row : resultRows) {\n                System.out.println(&quot;Row: &quot; + row.values());\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The problem is the execution of the following line of code gets stuck:</p>\n<pre><code>List&lt;Row&gt; resultRows = batchedQueryResult.get();\n</code></pre>\n<p>Right after executing it, I actually see this log on the kSqlDB server:</p>\n<pre><code>INFO 172.21.0.1 - - [Wed, 20 Sep 2023 14:00:19 GMT] &quot;POST /query-stream HTTP/2.0&quot; 200 1030 &quot;-&quot; &quot;ksqlDB Java Client v7.4.0&quot; 142 (io.confluent.ksql.api.server.LoggingHandler)\n</code></pre>\n<p>But the execution hangs on Java side.</p>\n<p>Some considerations:</p>\n<ul>\n<li><p>My kSqlDb server is up and running in a docker container on my local machine. Here's the result to a call to GET /info endpoint:</p>\n<p>{\n&quot;KsqlServerInfo&quot;: {\n&quot;version&quot;: &quot;7.4.0&quot;,\n&quot;kafkaClusterId&quot;: &quot;nq0iysPOTMeoaTizkPidNw&quot;,\n&quot;ksqlServiceId&quot;: &quot;default_&quot;,\n&quot;serverStatus&quot;: &quot;RUNNING&quot;\n}\n}</p>\n</li>\n<li><p>The QUERYABLE_CLIENTS_VEHICLES materialized table is correctly\ncreated, and the query &quot;SELECT * FROM QUERYABLE_CLIENTS_VEHICLES;&quot;\nwhen executed directly from confluent console works with no\nproblems</p>\n</li>\n<li><p>I also tried to directly call thekSqlDB REST endpoint POST\n/query-stream passing the same query, and    it works with no\nproblems</p>\n</li>\n<li><p>There is no exception catched by the code.</p>\n</li>\n</ul>\n<p>What could be the issue?</p>\n"},{"tags":["java","apache-beam"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695297425,"post_id":77149639,"comment_id":136007346,"body_markdown":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need. \nAs it&#39;s currently written, it’s hard to tell exactly what you&#39;re asking. See the \n[How to Ask page](https://stackoverflow.com/help/how-to-ask) for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to \nreproduce the issue. See also [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need.  As it&#39;s currently written, it’s hard to tell exactly what you&#39;re asking. See the  <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask page</a> for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to  reproduce the issue. See also <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695420850,"post_id":77149639,"comment_id":136027186,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":523682,"reputation":5868,"user_id":949327,"display_name":"Kenn Knowles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695314778,"creation_date":1695314778,"answer_id":77152181,"question_id":77149639,"body_markdown":"Nice find! That sounds like it could be a bug in Beam. Start here: https://github.com/apache/beam/issues/new/choose :-)","title":"Unable to use Java Double in @FieldAccess DoFn for fetching nullable DOUBLE schema field","body":"<p>Nice find! That sounds like it could be a bug in Beam. Start here: <a href=\"https://github.com/apache/beam/issues/new/choose\" rel=\"nofollow noreferrer\">https://github.com/apache/beam/issues/new/choose</a> :-)</p>\n"}],"owner":{"account_id":29499801,"reputation":1,"user_id":22607071,"display_name":"Vergo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695314778,"creation_date":1695294108,"question_id":77149639,"body_markdown":"I&#39;m attempting to do the following in my DoFn to extract a double value from an existing nullable field in my schema: \r\n\r\n`@FieldAccess(&quot;field1&quot;) Double field1`\r\n\r\nHowever I&#39;m getting the following exception:\r\n\r\n&gt; java.lang.IllegalArgumentException: Element argument type java.lang.Double\r\n&gt; does not work with expected schema field type DOUBLE\r\n\r\nOn debugging, the issue seems to be in [ConvertHelpers.getConvertPrimitive()](https://github.com/apache/beam/blob/master/sdks/java/core/src/main/java/org/apache/beam/sdk/schemas/utils/ConvertHelpers.java#L151). Specifically, [StaticSchemaInference.fieldFromType()](https://github.com/apache/beam/blob/master/sdks/java/core/src/main/java/org/apache/beam/sdk/schemas/utils/StaticSchemaInference.java#L73) seems to return FieldType DOUBLE NOT NULL regardless of whether a Double object or a primitive double is specified. This also then seems to cause a mismatch to the schema type which is only DOUBLE (i.e, without the NOT NULL).\r\n\r\nI can&#39;t seem to figure out another obvious way to obtain a nullable value via @FieldAccess and the examples/tests in the Beam codebase don&#39;t seem to cover this scenario either. Any ideas?","title":"Unable to use Java Double in @FieldAccess DoFn for fetching nullable DOUBLE schema field","body":"<p>I'm attempting to do the following in my DoFn to extract a double value from an existing nullable field in my schema:</p>\n<p><code>@FieldAccess(&quot;field1&quot;) Double field1</code></p>\n<p>However I'm getting the following exception:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Element argument type java.lang.Double\ndoes not work with expected schema field type DOUBLE</p>\n</blockquote>\n<p>On debugging, the issue seems to be in <a href=\"https://github.com/apache/beam/blob/master/sdks/java/core/src/main/java/org/apache/beam/sdk/schemas/utils/ConvertHelpers.java#L151\" rel=\"nofollow noreferrer\">ConvertHelpers.getConvertPrimitive()</a>. Specifically, <a href=\"https://github.com/apache/beam/blob/master/sdks/java/core/src/main/java/org/apache/beam/sdk/schemas/utils/StaticSchemaInference.java#L73\" rel=\"nofollow noreferrer\">StaticSchemaInference.fieldFromType()</a> seems to return FieldType DOUBLE NOT NULL regardless of whether a Double object or a primitive double is specified. This also then seems to cause a mismatch to the schema type which is only DOUBLE (i.e, without the NOT NULL).</p>\n<p>I can't seem to figure out another obvious way to obtain a nullable value via @FieldAccess and the examples/tests in the Beam codebase don't seem to cover this scenario either. Any ideas?</p>\n"},{"tags":["java","jvm","heap-memory"],"answers":[{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":3,"creation_date":1573835221,"post_id":54076834,"comment_id":104029317,"body_markdown":"_It is the preferred way to set the heap size_, unless this is started in a container, right? in that case `InitialRAMPercentage` and `MaxRAMPercentage` would be your best bet. Am I correct?","body":"<i>It is the preferred way to set the heap size</i>, unless this is started in a container, right? in that case <code>InitialRAMPercentage</code> and <code>MaxRAMPercentage</code> would be your best bet. Am I correct?"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1573837058,"post_id":54076834,"comment_id":104030203,"body_markdown":"@Eugene Preferences are subjective :) In my opinion, the heap size should *always* be set explicitly. Especially in a container. I can justify this claim from our own experience in running hundreds Java services in 12000+ containers, but this would be too long for a comment.","body":"@Eugene Preferences are subjective :) In my opinion, the heap size should <i>always</i> be set explicitly. Especially in a container. I can justify this claim from our own experience in running hundreds Java services in 12000+ containers, but this would be too long for a comment."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":5,"creation_date":1573837558,"post_id":54076834,"comment_id":104030430,"body_markdown":"My presentation [Memory Footprint of a Java Process](https://vimeo.com/364039638) may give a hint. In short: there are already too many factors that affect the footprint, so you hardly want to add one more uncontrollable variable in the memory equation.","body":"My presentation <a href=\"https://vimeo.com/364039638\" rel=\"nofollow noreferrer\">Memory Footprint of a Java Process</a> may give a hint. In short: there are already too many factors that affect the footprint, so you hardly want to add one more uncontrollable variable in the memory equation."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":3,"creation_date":1573837960,"post_id":54076834,"comment_id":104030649,"body_markdown":"very interesting point, the only thing I don&#39;t like is the fact that if you specify `-Xmx` and `-Xms`, you would also need to specify `-m` for `docker` correctly. If you are involved in a company like mine,  producing the docker images does not mean you will have control of where and by whom they are started; I should have said this explicitly in the beginning, I guess.","body":"very interesting point, the only thing I don&#39;t like is the fact that if you specify <code>-Xmx</code> and <code>-Xms</code>, you would also need to specify <code>-m</code> for <code>docker</code> correctly. If you are involved in a company like mine,  producing the docker images does not mean you will have control of where and by whom they are started; I should have said this explicitly in the beginning, I guess."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":2,"creation_date":1573839807,"post_id":54076834,"comment_id":104031548,"body_markdown":"@Eugene *&quot;if you specify -Xmx and -Xms, you would also need to specify -m for docker correctly&quot;* - yes, and that&#39;s fine, because these parameters are not very much related, even though JDK developers are trying to convince users that so called &quot;Java container support&quot; feature does all the magic. In reality, it does nothing but a kind of `Xmx = cgroup_mem_limit * MaxRAMPercentage / 100`","body":"@Eugene <i>&quot;if you specify -Xmx and -Xms, you would also need to specify -m for docker correctly&quot;</i> - yes, and that&#39;s fine, because these parameters are not very much related, even though JDK developers are trying to convince users that so called &quot;Java container support&quot; feature does all the magic. In reality, it does nothing but a kind of <code>Xmx = cgroup_mem_limit * MaxRAMPercentage &#47; 100</code>"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1573840224,"post_id":54076834,"comment_id":104031782,"body_markdown":"*&quot;does not mean you will have control of where and by whom they are started&quot;* - right, but you probably have control over the image contents - that is, the application. So, you know best how much memory your application requires, regardless of the external limits. If the application requirements are configurable, it&#39;s perfectly fine to specify the heap size, for example, through an environment variable.","body":"<i>&quot;does not mean you will have control of where and by whom they are started&quot;</i> - right, but you probably have control over the image contents - that is, the application. So, you know best how much memory your application requires, regardless of the external limits. If the application requirements are configurable, it&#39;s perfectly fine to specify the heap size, for example, through an environment variable."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1573843000,"post_id":54076834,"comment_id":104032979,"body_markdown":"I am confused about your point a bit. I agree with this : `Xmx = cgroup_mem_limit * MaxRAMPercentage / 100` (roughly), but isn&#39;t that the entire point? If you don&#39;t specify `Xmx` directly, _but_ specify `docker -m` _and_ `MaxRAMPercentage=80.0` for example - you would get 80% of whatever `-m` was provided; unless I am missing something obvious here.","body":"I am confused about your point a bit. I agree with this : <code>Xmx = cgroup_mem_limit * MaxRAMPercentage &#47; 100</code> (roughly), but isn&#39;t that the entire point? If you don&#39;t specify <code>Xmx</code> directly, <i>but</i> specify <code>docker -m</code> <i>and</i> <code>MaxRAMPercentage=80.0</code> for example - you would get 80% of whatever <code>-m</code> was provided; unless I am missing something obvious here."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1573843087,"post_id":54076834,"comment_id":104033016,"body_markdown":"it would be much more complicated if I say `-Xmx2G`, but docker says `-m1g`, isn&#39;t it?","body":"it would be much more complicated if I say <code>-Xmx2G</code>, but docker says <code>-m1g</code>, isn&#39;t it?"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1573912865,"post_id":54076834,"comment_id":104048398,"body_markdown":"@Eugene Typically container settings needs to depend on the application requirements, not vice versa. I.e. &quot;my app requires 2G heap, please run it in a container with strictly more than 2G quota&quot;. If I run it with -m1g, the app won&#39;t work anyway, no matter if Xmx adapts to the container limit or not.","body":"@Eugene Typically container settings needs to depend on the application requirements, not vice versa. I.e. &quot;my app requires 2G heap, please run it in a container with strictly more than 2G quota&quot;. If I run it with -m1g, the app won&#39;t work anyway, no matter if Xmx adapts to the container limit or not."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1573912907,"post_id":54076834,"comment_id":104048402,"body_markdown":"Of course, there are apps that may work with less RAM, but benefit from more RAM (e.g. caches, databases, download services etc.) We have a lot of such services, but even in these cases they usually need a constant heap while utilizing more off-heap memory through ByteBuffers, page cache, tmpfs and so on.","body":"Of course, there are apps that may work with less RAM, but benefit from more RAM (e.g. caches, databases, download services etc.) We have a lot of such services, but even in these cases they usually need a constant heap while utilizing more off-heap memory through ByteBuffers, page cache, tmpfs and so on."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1574048710,"post_id":54076834,"comment_id":104077968,"body_markdown":"the video is stunning! two things : 1) I wish it were in russian 2) you have a very tight audience for the things you present, I admit I only understood (or knew) about 50% of the things. much appreciated the time and link.","body":"the video is stunning! two things : 1) I wish it were in russian 2) you have a very tight audience for the things you present, I admit I only understood (or knew) about 50% of the things. much appreciated the time and link."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1574065847,"post_id":54076834,"comment_id":104083288,"body_markdown":"@Eugene Thanks. There is [Russian version of this talk](https://www.youtube.com/watch?v=kKigibHrV5I), too.","body":"@Eugene Thanks. There is <a href=\"https://www.youtube.com/watch?v=kKigibHrV5I\" rel=\"nofollow noreferrer\">Russian version of this talk</a>, too."}],"tags":[],"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"comment_count":12,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1546873381,"creation_date":1546873381,"answer_id":54076834,"question_id":54071798,"body_markdown":"`-Xmx` specifies the precise upper limit for the heap. It is the preferred way to set the heap size.\r\n\r\n`-XX:MaxRAM` does not define the heap size directly. Instead this parameter overrides the actual amount of physical RAM when calculating the heap limits basing on ergonomics.\r\n\r\nIf `-Xmx` is set, `MaxRAM` is never used. Otherwise the maximum heap size is estimated&lt;sup&gt;1&lt;/sup&gt; as\r\n\r\n    MaxHeapSize = MaxRAM * MaxRAMPercentage / 100% (default MaxRAMPercentage=25)\r\n\r\n---\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; The actual [algorithm](http://hg.openjdk.java.net/jdk/jdk11/file/1ddf9a99e4ad/src/hotspot/share/runtime/arguments.cpp#l1750) is a bit more complicated and depends on other parameters.","title":"What is the difference between xmx and MaxRAM JVM parameters?","body":"<p><code>-Xmx</code> specifies the precise upper limit for the heap. It is the preferred way to set the heap size.</p>\n\n<p><code>-XX:MaxRAM</code> does not define the heap size directly. Instead this parameter overrides the actual amount of physical RAM when calculating the heap limits basing on ergonomics.</p>\n\n<p>If <code>-Xmx</code> is set, <code>MaxRAM</code> is never used. Otherwise the maximum heap size is estimated<sup>1</sup> as</p>\n\n<pre><code>MaxHeapSize = MaxRAM * MaxRAMPercentage / 100% (default MaxRAMPercentage=25)\n</code></pre>\n\n<hr>\n\n<p><sup>1</sup> The actual <a href=\"http://hg.openjdk.java.net/jdk/jdk11/file/1ddf9a99e4ad/src/hotspot/share/runtime/arguments.cpp#l1750\" rel=\"noreferrer\">algorithm</a> is a bit more complicated and depends on other parameters.</p>\n"}],"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26037,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":54076834,"answer_count":1,"score":33,"last_activity_date":1695314182,"creation_date":1546854048,"question_id":54071798,"body_markdown":"[MaxRAM][1]:\r\n\r\n&gt; based on the amount of memory on the machine. The proportion of memory to use for the heap is controlled by the command-line options InitialRAMFraction and MaxRAMFraction\r\n[...]\r\nThe value of MaxRAM is platform-dependent.\r\n\r\n[Xmx][2]:\r\n\r\n&gt; -***Xmx**n*\r\nSpecify the maximum size, in bytes, of the memory allocation pool. This value must a multiple of 1024 greater than 2MB. Append the letter k or K to indicate kilobytes, or m or M to indicate megabytes. The default value is 64MB. The upper limit for this value will be approximately 4000m on Solaris 7 and Solaris 8 SPARC platforms and 2000m on Solaris 2.6 and x86 platforms, minus overhead amounts.\r\n\r\nAs I understand both define `heap` size. No? What is recommended to use: `Xmx` or `MaxRAM`? If I use both which one ovverides another?\r\n\r\n  [1]: https://stackoverflow.com/a/27825475/1251549\r\n  [2]: https://stackoverflow.com/a/5374501/1251549","title":"What is the difference between xmx and MaxRAM JVM parameters?","body":"<p><a href=\"https://stackoverflow.com/a/27825475/1251549\">MaxRAM</a>:</p>\n<blockquote>\n<p>based on the amount of memory on the machine. The proportion of memory to use for the heap is controlled by the command-line options InitialRAMFraction and MaxRAMFraction\n[...]\nThe value of MaxRAM is platform-dependent.</p>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/a/5374501/1251549\">Xmx</a>:</p>\n<blockquote>\n<p>-<em><strong>Xmx</strong>n</em>\nSpecify the maximum size, in bytes, of the memory allocation pool. This value must a multiple of 1024 greater than 2MB. Append the letter k or K to indicate kilobytes, or m or M to indicate megabytes. The default value is 64MB. The upper limit for this value will be approximately 4000m on Solaris 7 and Solaris 8 SPARC platforms and 2000m on Solaris 2.6 and x86 platforms, minus overhead amounts.</p>\n</blockquote>\n<p>As I understand both define <code>heap</code> size. No? What is recommended to use: <code>Xmx</code> or <code>MaxRAM</code>? If I use both which one ovverides another?</p>\n"},{"tags":["java","jpa","specifications"],"owner":{"account_id":28044012,"reputation":11,"user_id":21421106,"display_name":"OzuSkywalker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695313941,"creation_date":1695313941,"question_id":77152082,"body_markdown":"For example, I have a class user like\r\n\r\n```\r\nclass User{\r\nprivate String id;\r\nprivate List&lt;Company&gt; companies;\r\n}\r\n```\r\nAnd a class company\r\n\r\n```\r\nclass Company{\r\nprivate String id;\r\n}\r\n```\r\nBoth are entities and Im triyinng to do filter users by the exact match of companies by id with specification like\r\n\r\n```\r\nSpecification&lt;User&gt; -&gt; (root,query,builder) -&gt;{\r\n         Join&lt;User,Company&gt; companyJoin = root.join(&quot;companies&quot;);\r\n          return builder.equal(companyJoin.get(&quot;id&quot;),companyIdList);\r\n        }\r\n```\r\nI don&#39;t want to use builder.in because I want an exact match of the user companies ids, like do: \r\nuser.getCompanies().stream().map(Company::getId).equals(companyIdList)\r\n\r\n\r\n","title":"JPA Criteria: Is there any way to create a specification for exact match with list?","body":"<p>For example, I have a class user like</p>\n<pre><code>class User{\nprivate String id;\nprivate List&lt;Company&gt; companies;\n}\n</code></pre>\n<p>And a class company</p>\n<pre><code>class Company{\nprivate String id;\n}\n</code></pre>\n<p>Both are entities and Im triyinng to do filter users by the exact match of companies by id with specification like</p>\n<pre><code>Specification&lt;User&gt; -&gt; (root,query,builder) -&gt;{\n         Join&lt;User,Company&gt; companyJoin = root.join(&quot;companies&quot;);\n          return builder.equal(companyJoin.get(&quot;id&quot;),companyIdList);\n        }\n</code></pre>\n<p>I don't want to use builder.in because I want an exact match of the user companies ids, like do:\nuser.getCompanies().stream().map(Company::getId).equals(companyIdList)</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":1,"creation_date":1675433254,"post_id":75331454,"comment_id":132933607,"body_markdown":"First step in resolving these is see if I can hit the host that Gradle is failing at...  In this case, `https://plugins.gradle.org`, and then the full path to the plugin and see if it starts downloading.  Bottom line... If your browser can hit it, but gradle can&#39;t, invesitgate you proxy.  If your browser CANT hit it, investigate your proxy.","body":"First step in resolving these is see if I can hit the host that Gradle is failing at...  In this case, <code>https:&#47;&#47;plugins.gradle.org</code>, and then the full path to the plugin and see if it starts downloading.  Bottom line... If your browser can hit it, but gradle can&#39;t, invesitgate you proxy.  If your browser CANT hit it, investigate your proxy."}],"answers":[{"comments":[{"owner":{"account_id":4859711,"reputation":1497,"user_id":8956093,"display_name":"Ramakrishna Joshi"},"score":1,"creation_date":1680688322,"post_id":75400988,"comment_id":133939127,"body_markdown":"What did you do to adjust the proxy and network? Have been struck on this error fo 2 days now","body":"What did you do to adjust the proxy and network? Have been struck on this error fo 2 days now"},{"owner":{"account_id":2733809,"reputation":734,"user_id":2356917,"accept_rate":69,"display_name":"Kami Wan"},"score":1,"creation_date":1681213164,"post_id":75400988,"comment_id":134016830,"body_markdown":"@RamakrishnaJoshi If you ensure your proxy works well. You can try to use the global proxy and ensure the gradle really send packet through the proxy.","body":"@RamakrishnaJoshi If you ensure your proxy works well. You can try to use the global proxy and ensure the gradle really send packet through the proxy."},{"owner":{"account_id":4859711,"reputation":1497,"user_id":8956093,"display_name":"Ramakrishna Joshi"},"score":0,"creation_date":1681223015,"post_id":75400988,"comment_id":134019601,"body_markdown":"Hey, I was able to figure it out. A proxy installed by IT Department was not allowing dependencies to be downloaded. I wrote about it here: https://stackoverflow.com/a/75948144/8956093","body":"Hey, I was able to figure it out. A proxy installed by IT Department was not allowing dependencies to be downloaded. I wrote about it here: <a href=\"https://stackoverflow.com/a/75948144/8956093\">stackoverflow.com/a/75948144/8956093</a>"}],"tags":[],"owner":{"account_id":2733809,"reputation":734,"user_id":2356917,"accept_rate":69,"display_name":"Kami Wan"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675957353,"creation_date":1675957353,"answer_id":75400988,"question_id":75331454,"body_markdown":"It is caused by poor network and proxy. I adjust my proxy and network and everything goes well.","title":"Gradle 7.4 build with resolve error: The server may not support the client&#39;s requested TLS protocol versions","body":"<p>It is caused by poor network and proxy. I adjust my proxy and network and everything goes well.</p>\n"},{"tags":[],"owner":{"account_id":19320165,"reputation":99,"user_id":14124017,"display_name":"Om Prakash N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695313894,"creation_date":1695313894,"answer_id":77152077,"question_id":75331454,"body_markdown":"Anyone using a corporate/office laptops, check if there is any software monitoring your internet usage. I had Zscaler turned on for internet security. I turned it off and finally flutter app started.","title":"Gradle 7.4 build with resolve error: The server may not support the client&#39;s requested TLS protocol versions","body":"<p>Anyone using a corporate/office laptops, check if there is any software monitoring your internet usage. I had Zscaler turned on for internet security. I turned it off and finally flutter app started.</p>\n"}],"owner":{"account_id":2733809,"reputation":734,"user_id":2356917,"accept_rate":69,"display_name":"Kami Wan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5874,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75400988,"answer_count":2,"score":2,"last_activity_date":1695313894,"creation_date":1675397551,"question_id":75331454,"body_markdown":"I try to build a gradle project with following gradle properties:\r\n\r\n```properties\r\n\r\n## use proxy\r\nsystemProp.http.proxyHost=127.0.0.1\r\nsystemProp.http.proxyPort=7890\r\nsystemProp.https.proxyHost=127.0.0.1\r\nsystemProp.https.proxyPort=7890\r\n\r\n## config tls\r\nsystemProp.https.protocols=TLSv1.1,TLSv1.2,TLSv1.3\r\nsystemProp.jdk.tls.client.protocols=TLSv1.1,TLSv1.2,TLSv1.3\r\n```\r\n\r\nI have a proxy at port 7890. Jdk is 17 and gradle is 7.4. When I build the opensource project called [airbyte](https://github.com/airbytehq/airbyte). I got the following error:\r\n\r\n```\r\nBuilding all of Airbyte.\r\n/Users/wanshao/projects/cdc/airbyte/airbyte-integrations/connectors\r\n&gt; Task :buildSrc:extractPluginRequests UP-TO-DATE\r\n&gt; Task :buildSrc:generatePluginAdapters UP-TO-DATE\r\n&gt; Task :buildSrc:compileJava UP-TO-DATE\r\n&gt; Task :buildSrc:compileGroovy UP-TO-DATE\r\n&gt; Task :buildSrc:compileGroovyPlugins UP-TO-DATE\r\n&gt; Task :buildSrc:pluginDescriptors UP-TO-DATE\r\n&gt; Task :buildSrc:processResources UP-TO-DATE\r\n&gt; Task :buildSrc:classes UP-TO-DATE\r\n&gt; Task :buildSrc:jar UP-TO-DATE\r\n&gt; Task :buildSrc:assemble UP-TO-DATE\r\n&gt; Task :buildSrc:pluginUnderTestMetadata UP-TO-DATE\r\n&gt; Task :buildSrc:compileTestJava NO-SOURCE\r\n&gt; Task :buildSrc:compileTestGroovy NO-SOURCE\r\n&gt; Task :buildSrc:processTestResources NO-SOURCE\r\n&gt; Task :buildSrc:testClasses UP-TO-DATE\r\n&gt; Task :buildSrc:test NO-SOURCE\r\n&gt; Task :buildSrc:validatePlugins UP-TO-DATE\r\n&gt; Task :buildSrc:check UP-TO-DATE\r\n&gt; Task :buildSrc:build UP-TO-DATE\r\nDownload https://plugins.gradle.org/m2/io/swagger/swagger-parser/1.0.55/swagger-parser-1.0.55.jar, took 1 s 880 ms (94.89 kB)\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;/Users/wanshao/projects/cdc/airbyte/build.gradle&#39; line: 322\r\n\r\n* What went wrong:\r\nA problem occurred evaluating root project &#39;airbyte&#39;.\r\n&gt; A problem occurred configuring project &#39;:airbyte-api&#39;.\r\n   &gt; Could not resolve all files for configuration &#39;:airbyte-api:classpath&#39;.\r\n      &gt; Could not download joda-time-2.10.8.jar (joda-time:joda-time:2.10.8)\r\n         &gt; Could not get resource &#39;https://plugins.gradle.org/m2/joda-time/joda-time/2.10.8/joda-time-2.10.8.jar&#39;.\r\n            &gt; Could not GET &#39;https://plugins.gradle.org/m2/joda-time/joda-time/2.10.8/joda-time-2.10.8.jar&#39;.\r\n               &gt; The server may not support the client&#39;s requested TLS protocol versions: (TLSv1.1, TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/7.4/userguide/build_environment.html#gradle_system_properties\r\n                  &gt; Remote host terminated the handshake\r\n\r\n\r\n```","title":"Gradle 7.4 build with resolve error: The server may not support the client&#39;s requested TLS protocol versions","body":"<p>I try to build a gradle project with following gradle properties:</p>\n<pre><code>\n## use proxy\nsystemProp.http.proxyHost=127.0.0.1\nsystemProp.http.proxyPort=7890\nsystemProp.https.proxyHost=127.0.0.1\nsystemProp.https.proxyPort=7890\n\n## config tls\nsystemProp.https.protocols=TLSv1.1,TLSv1.2,TLSv1.3\nsystemProp.jdk.tls.client.protocols=TLSv1.1,TLSv1.2,TLSv1.3\n</code></pre>\n<p>I have a proxy at port 7890. Jdk is 17 and gradle is 7.4. When I build the opensource project called <a href=\"https://github.com/airbytehq/airbyte\" rel=\"nofollow noreferrer\">airbyte</a>. I got the following error:</p>\n<pre><code>Building all of Airbyte.\n/Users/wanshao/projects/cdc/airbyte/airbyte-integrations/connectors\n&gt; Task :buildSrc:extractPluginRequests UP-TO-DATE\n&gt; Task :buildSrc:generatePluginAdapters UP-TO-DATE\n&gt; Task :buildSrc:compileJava UP-TO-DATE\n&gt; Task :buildSrc:compileGroovy UP-TO-DATE\n&gt; Task :buildSrc:compileGroovyPlugins UP-TO-DATE\n&gt; Task :buildSrc:pluginDescriptors UP-TO-DATE\n&gt; Task :buildSrc:processResources UP-TO-DATE\n&gt; Task :buildSrc:classes UP-TO-DATE\n&gt; Task :buildSrc:jar UP-TO-DATE\n&gt; Task :buildSrc:assemble UP-TO-DATE\n&gt; Task :buildSrc:pluginUnderTestMetadata UP-TO-DATE\n&gt; Task :buildSrc:compileTestJava NO-SOURCE\n&gt; Task :buildSrc:compileTestGroovy NO-SOURCE\n&gt; Task :buildSrc:processTestResources NO-SOURCE\n&gt; Task :buildSrc:testClasses UP-TO-DATE\n&gt; Task :buildSrc:test NO-SOURCE\n&gt; Task :buildSrc:validatePlugins UP-TO-DATE\n&gt; Task :buildSrc:check UP-TO-DATE\n&gt; Task :buildSrc:build UP-TO-DATE\nDownload https://plugins.gradle.org/m2/io/swagger/swagger-parser/1.0.55/swagger-parser-1.0.55.jar, took 1 s 880 ms (94.89 kB)\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/Users/wanshao/projects/cdc/airbyte/build.gradle' line: 322\n\n* What went wrong:\nA problem occurred evaluating root project 'airbyte'.\n&gt; A problem occurred configuring project ':airbyte-api'.\n   &gt; Could not resolve all files for configuration ':airbyte-api:classpath'.\n      &gt; Could not download joda-time-2.10.8.jar (joda-time:joda-time:2.10.8)\n         &gt; Could not get resource 'https://plugins.gradle.org/m2/joda-time/joda-time/2.10.8/joda-time-2.10.8.jar'.\n            &gt; Could not GET 'https://plugins.gradle.org/m2/joda-time/joda-time/2.10.8/joda-time-2.10.8.jar'.\n               &gt; The server may not support the client's requested TLS protocol versions: (TLSv1.1, TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/7.4/userguide/build_environment.html#gradle_system_properties\n                  &gt; Remote host terminated the handshake\n\n\n</code></pre>\n"},{"tags":["java","java-stream","immutability"],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1584976422,"creation_date":1584976422,"answer_id":60816300,"question_id":60816247,"body_markdown":"Yes, you can make use of `reduce` operation with identity element as \r\n\r\n    Duration total = durations.stream()\r\n            .reduce(Duration.ZERO, Duration::plus);","title":"Using streams to sum a collection of immutable `Duration` objects, in Java","body":"<p>Yes, you can make use of <code>reduce</code> operation with identity element as </p>\n\n<pre><code>Duration total = durations.stream()\n        .reduce(Duration.ZERO, Duration::plus);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":3,"creation_date":1584977123,"post_id":60816311,"comment_id":107600434,"body_markdown":"Feel free to accept [Naman&#39;s answer](https://stackoverflow.com/a/60816300/7294647) since he sniped me by about 10 seconds :P","body":"Feel free to accept <a href=\"https://stackoverflow.com/a/60816300/7294647\">Naman&#39;s answer</a> since he sniped me by about 10 seconds :P"}],"tags":[],"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1695313699,"creation_date":1584976457,"answer_id":60816311,"question_id":60816247,"body_markdown":"# `Stream#reduce`\r\n\r\nThis can be achieved using the overloaded [`Stream#reduce`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/stream/Stream.html#reduce(T,java.util.function.BinaryOperator)) method that accepts an identity:\r\n\r\n    durations.stream().reduce(Duration.ZERO, Duration::plus)\r\n\r\nThe following snippet provides an example:\r\n\r\n    var durations = List.of(Duration.ofDays(1), Duration.ofHours(1));\r\n    System.out.println(durations.stream().reduce(Duration.ZERO, Duration::plus));\r\n\r\nAs expected, the output is:\r\n\r\n    PT25H","title":"Using streams to sum a collection of immutable `Duration` objects, in Java","body":"<h1><code>Stream#reduce</code></h1>\n<p>This can be achieved using the overloaded <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/stream/Stream.html#reduce(T,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>Stream#reduce</code></a> method that accepts an identity:</p>\n<pre><code>durations.stream().reduce(Duration.ZERO, Duration::plus)\n</code></pre>\n<p>The following snippet provides an example:</p>\n<pre><code>var durations = List.of(Duration.ofDays(1), Duration.ofHours(1));\nSystem.out.println(durations.stream().reduce(Duration.ZERO, Duration::plus));\n</code></pre>\n<p>As expected, the output is:</p>\n<pre><code>PT25H\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1651157,"reputation":156,"user_id":1521751,"display_name":"armani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584997131,"creation_date":1584997131,"answer_id":60821440,"question_id":60816247,"body_markdown":"Here is a fully working example with sample inputs. You need to use the reduce function in java streams. Here is a [short tutorial][1] that I used.\r\n\r\n    import java.time.Duration;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class DurationTest {\r\n        public static void main(String [] args){\r\n            List&lt;Duration&gt; durations = IntStream\r\n                    .rangeClosed(1, 10)\r\n                    .mapToObj( n -&gt; Duration.ofSeconds(n) )\r\n                    .collect(Collectors.toList());\r\n    \r\n            int sumOfSeconds = (10 * (1 + 10) ) / 2;\r\n    \r\n            Duration total = durations.stream().reduce( Duration.ZERO, (t, d) -&gt; t = t.plus(d) );\r\n            System.out.printf(&quot;actual = %s, expected = %s&quot;, total.getSeconds(), sumOfSeconds);\r\n        }\r\n    }\r\n\r\n  [1]: https://www.baeldung.com/java-stream-reduce","title":"Using streams to sum a collection of immutable `Duration` objects, in Java","body":"<p>Here is a fully working example with sample inputs. You need to use the reduce function in java streams. Here is a <a href=\"https://www.baeldung.com/java-stream-reduce\" rel=\"nofollow noreferrer\">short tutorial</a> that I used.</p>\n\n<pre><code>import java.time.Duration;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class DurationTest {\n    public static void main(String [] args){\n        List&lt;Duration&gt; durations = IntStream\n                .rangeClosed(1, 10)\n                .mapToObj( n -&gt; Duration.ofSeconds(n) )\n                .collect(Collectors.toList());\n\n        int sumOfSeconds = (10 * (1 + 10) ) / 2;\n\n        Duration total = durations.stream().reduce( Duration.ZERO, (t, d) -&gt; t = t.plus(d) );\n        System.out.printf(\"actual = %s, expected = %s\", total.getSeconds(), sumOfSeconds);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1387,"favorite_count":0,"down_vote_count":2,"up_vote_count":9,"accepted_answer_id":60816311,"answer_count":3,"score":7,"last_activity_date":1695313699,"creation_date":1584976251,"question_id":60816247,"body_markdown":"The [`java.time.Duration`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html) class built into Java 8 and later represents a span of time unattached to the timeline on the scale of hour-minutes-seconds. The class offers a `plus` method to sum two such spans of time. \r\n\r\nThe *java.time* classes use immutable objects. So the [`Duration::plus`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html#plus(java.time.Duration)) method returns a new third `Duration` object as a result rather than altering (mutating) either of the input objects.\r\n\r\nThe conventional syntax to sum a collection of `Duration` objects would be the following.\r\n\r\n    Duration total = Duration.ZERO;\r\n    for ( Duration duration : durations )\r\n    {\r\n        total = total.plus( duration );\r\n    }\r\n\r\nCan streams be used in place of this `for` loop?","title":"Using streams to sum a collection of immutable `Duration` objects, in Java","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html\" rel=\"noreferrer\"><code>java.time.Duration</code></a> class built into Java 8 and later represents a span of time unattached to the timeline on the scale of hour-minutes-seconds. The class offers a <code>plus</code> method to sum two such spans of time. </p>\n\n<p>The <em>java.time</em> classes use immutable objects. So the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html#plus(java.time.Duration)\" rel=\"noreferrer\"><code>Duration::plus</code></a> method returns a new third <code>Duration</code> object as a result rather than altering (mutating) either of the input objects.</p>\n\n<p>The conventional syntax to sum a collection of <code>Duration</code> objects would be the following.</p>\n\n<pre><code>Duration total = Duration.ZERO;\nfor ( Duration duration : durations )\n{\n    total = total.plus( duration );\n}\n</code></pre>\n\n<p>Can streams be used in place of this <code>for</code> loop?</p>\n"},{"tags":["java","collections","interface","java-21"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1691563119,"post_id":76864541,"comment_id":135506733,"body_markdown":"Have you considered consulting the documentation?","body":"Have you considered consulting the documentation?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1691567415,"post_id":76864541,"comment_id":135507501,"body_markdown":"@user207421 The OP is obviously not actually asking this question and is instead trying to provide a &quot;canonical reference&quot; for questions about `SequencedCollection` and `SequencedMap`. Now, whether you think this a worthwhile Q&amp;A is a different issue.","body":"@user207421 The OP is obviously not actually asking this question and is instead trying to provide a &quot;canonical reference&quot; for questions about <code>SequencedCollection</code> and <code>SequencedMap</code>. Now, whether you think this a worthwhile Q&amp;A is a different issue."},{"owner":{"account_id":6528461,"reputation":3279,"user_id":5050431,"accept_rate":60,"display_name":"A_Arnold"},"score":1,"creation_date":1691594429,"post_id":76864541,"comment_id":135513408,"body_markdown":"It is encouraged to document new things and answer your own question. See https://stackoverflow.blog/2011/07/01/its-ok-to-ask-and-answer-your-own-questions/","body":"It is encouraged to document new things and answer your own question. See <a href=\"https://stackoverflow.blog/2011/07/01/its-ok-to-ask-and-answer-your-own-questions/\">stackoverflow.blog/2011/07/01/&hellip;</a>"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1695249733,"post_id":76864541,"comment_id":136000934,"body_markdown":"There is no new interface in Java 21 called `Sequence`.","body":"There is no new interface in Java 21 called <code>Sequence</code>."}],"answers":[{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1695315124,"post_id":76864542,"comment_id":136011259,"body_markdown":"there is no &quot;`Sequence` interface&quot; in Java 21 (or 22) - Only a [`Sequence` class](https://download.java.net/java/early_access/jdk22/docs/api/java.desktop/javax/sound/midi/Sequence.html), and that is related to MIDI (sound) - better use correct nomenclature... (if just *mimicking* the documentations)","body":"there is no &quot;<code>Sequence</code> interface&quot; in Java 21 (or 22) - Only a <a href=\"https://download.java.net/java/early_access/jdk22/docs/api/java.desktop/javax/sound/midi/Sequence.html\" rel=\"nofollow noreferrer\"><code>Sequence</code> class</a>, and that is related to MIDI (sound) - better use correct nomenclature... (if just <i>mimicking</i> the documentations)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695636118,"post_id":76864542,"comment_id":136046093,"body_markdown":"The correct name is [`SequencedCollection`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html), as shown in the diagram.","body":"The correct name is <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\" rel=\"nofollow noreferrer\"><code>SequencedCollection</code></a>, as shown in the diagram."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1701187955,"post_id":76864542,"comment_id":136742926,"body_markdown":"@Holger Or `SequencedMap` if dealing with a `Map`.","body":"@Holger Or <code>SequencedMap</code> if dealing with a <code>Map</code>."}],"tags":[],"owner":{"account_id":6528461,"reputation":3279,"user_id":5050431,"accept_rate":60,"display_name":"A_Arnold"},"comment_count":3,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1691562744,"creation_date":1691554619,"answer_id":76864542,"question_id":76864541,"body_markdown":"The `Sequence` interface is Java’s standardization of sequential `Collections` that have a logical ordering, or as [*JEP 431: Sequenced Collections*][1] puts it, “a defined encounter order”. A `SortedSet` would be able to keep its natural ordering, a `List` keeps its insertion order etc. \r\n\r\nThe methods that it adds are \r\n\r\n    SequencedCollection&lt;E&gt; reversed();\r\n    void addFirst(E);\r\n    void addLast(E);\r\n    E getFirst();\r\n    E getLast();\r\n    E removeFirst();\r\n    E removeLast();\r\n\r\nThe `getFirst()` method can replace `list.get(0)`, `deque.getFirst()`, `sortedSet.first()`, and `linkedHashSet.iterator().next()`. The same for `getLast()` except `LinkedHashSet` had no get last and you would have to iterate the entire Set. \r\n\r\nThere is some strangeness IMO to this regarding `SortedSet`. `SortedSet` is forced to implement the `addFirst()` and `addLast()` methods which don’t make sense in context and the Jep says “these methods can throw `UnsupportedOperationException`”.\r\n\r\n`Reversed()` also standardizes how to iterate backwards. Previously, there was `navSet.descendingSet()`, `deque.descendingIterator()`, and `for (var it = list.listIterator(list.size()); it.hasPrevious();)\r\n{}` and again `LinkedHashSet` has no method. Now `reversed()` allows all the standard iteration techniques of fors, streams etc. and includes `LinkedHashSet`.\r\nOne final note is that if a codebase used these method names they will run into issues. See the [Jep][1] for a full description of the item.[![Inheritence of Sequence][2]][2]\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/431\r\n  [2]: https://i.stack.imgur.com/gK5Cr.png","title":"What is Java 21s new Sequence Interface","body":"<p>The <code>Sequence</code> interface is Java’s standardization of sequential <code>Collections</code> that have a logical ordering, or as <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\"><em>JEP 431: Sequenced Collections</em></a> puts it, “a defined encounter order”. A <code>SortedSet</code> would be able to keep its natural ordering, a <code>List</code> keeps its insertion order etc.</p>\n<p>The methods that it adds are</p>\n<pre><code>SequencedCollection&lt;E&gt; reversed();\nvoid addFirst(E);\nvoid addLast(E);\nE getFirst();\nE getLast();\nE removeFirst();\nE removeLast();\n</code></pre>\n<p>The <code>getFirst()</code> method can replace <code>list.get(0)</code>, <code>deque.getFirst()</code>, <code>sortedSet.first()</code>, and <code>linkedHashSet.iterator().next()</code>. The same for <code>getLast()</code> except <code>LinkedHashSet</code> had no get last and you would have to iterate the entire Set.</p>\n<p>There is some strangeness IMO to this regarding <code>SortedSet</code>. <code>SortedSet</code> is forced to implement the <code>addFirst()</code> and <code>addLast()</code> methods which don’t make sense in context and the Jep says “these methods can throw <code>UnsupportedOperationException</code>”.</p>\n<p><code>Reversed()</code> also standardizes how to iterate backwards. Previously, there was <code>navSet.descendingSet()</code>, <code>deque.descendingIterator()</code>, and <code>for (var it = list.listIterator(list.size()); it.hasPrevious();) {}</code> and again <code>LinkedHashSet</code> has no method. Now <code>reversed()</code> allows all the standard iteration techniques of fors, streams etc. and includes <code>LinkedHashSet</code>.\nOne final note is that if a codebase used these method names they will run into issues. See the <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">Jep</a> for a full description of the item.<a href=\"https://i.stack.imgur.com/gK5Cr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gK5Cr.png\" alt=\"Inheritence of Sequence\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695313301,"creation_date":1695251233,"answer_id":77146327,"question_id":76864541,"body_markdown":"There is no new interface in Java 21 called `Sequence`.  Rather, there are three related interfaces: [`SequencedCollection`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html), [`SequencedSet`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedSet.html), and [`SequencedMap`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedMap.html).  These three interfaces represent collections or maps which have a well-defined iteration order, as well as the ability to be viewed in reverse.\r\n\r\nThese three types were added by the [JEP 431: Sequenced Collections](https://openjdk.org/jeps/431) feature.  Per its summary, its goal was to:\r\n\r\n&gt; Introduce new interfaces to represent collections with a defined encounter order. Each such collection has a well-defined first element, second element, and so forth, up to the last element. It also provides uniform APIs for accessing its first and last elements, and for processing its elements in reverse order.\r\n\r\nThese new interface types can be used any time a `Collection`, `Set`, or `Map` is needed in which the iteration order is important.\r\n\r\nThese new interfaces were added to the existing collection hierarchy where appropriate.  `List`, `Deque`, and `SequencedSet` extend `SequencedCollection` directly.  `SortedSet` and `LinkedHashSet` extend `SequencedSet`.  And `SortedMap` and `LinkedHashMap` both extend `SequencedMap`.\r\n\r\nThe mutation methods in the interfaces (`addFirst`, `putLast`, etc) are all _optional_ methods, which are only implemented by types where that sort of mutation makes sense.  For instance, `addFirst` is not implemented for `SortedSet`, since the encounter order is defined by the comparison function between the elements, so an arbitrary element cannot be added to the beginning of the set.\r\n\r\n# Interface methods\r\n\r\n## `SequencedCollection`\r\n\r\n`SequencedCollection` extends `Collection` and provides methods to add, retrieve, and remove the first and last element.  It also provides a method to provide a reversed view of the collection.  Per the Javadoc method summary:\r\n\r\n| Modifier and Type        | Method          | Description |\r\n| --- | --- | --- |\r\n| `default void`           | `addFirst(E e)` | Adds an element as the first element of this collection (optional operation). |\r\n| `default void`           | `addLast(E e)`  | Adds an element as the last element of this collection (optional operation). |\r\n| `default E`              | `getFirst()`    | Gets the first element of this collection. |\r\n| `default E`              | `getLast()`     | Gets the last element of this collection. |\r\n| `default E`              | `removeFirst()` | Removes and returns the first element of this collection (optional operation). |\r\n| `default E`              | `removeLast()`  | Removes and returns the last element of this collection (optional operation). |\r\n| `SequencedCollection&lt;E&gt;` | `reversed()`    | Returns a reverse-ordered view of this collection. |\r\n\r\n## `SequencedSet`\r\n\r\n`SequencedSet` extends both `SequencedCollection` and `Set`.  It is identical to `SequencedCollection`, except that its `reversed` view returns a `SequencedSet` rather than a `SequencedCollection`.\r\n\r\n| Modifier and Type | Method          | Description |\r\n| --- | --- | --- |\r\n| `SequencedSet&lt;E&gt;` | `reversed()`    | Returns a reverse-ordered view of this collection. |\r\n\r\n## `SequencedMap`\r\n\r\n`SequencedMap` extends `Map` and provides methods to retrieve, put, and poll elements from the map.  It also provides a method to provide a reversed view of the map.  Per the Javadoc method summary:\r\n\r\n| Modifier and Type        | Method          | Description |\r\n| --- | --- | --- |\r\n| `default Map.Entry&lt;K,V&gt;`               | `firstEntry()` | Returns the first key-value mapping in this map, or null if the map is empty. |\r\n| `default Map.Entry&lt;K,V&gt;`               | `lastEntry()` | Returns the last key-value mapping in this map, or null if the map is empty. |\r\n| `default Map.Entry&lt;K,V&gt;`               | `pollFirstEntry()` | Removes and returns the first key-value mapping in this map, or null if the map is empty (optional operation). |\r\n| `default Map.Entry&lt;K,V&gt;`               | `pollLastEntry()` | Removes and returns the last key-value mapping in this map, or null if the map is empty (optional operation). |\r\n| `default V` | `putFirst(K k, V v)`       | Inserts the given mapping into the map if it is not already present, or replaces the value of a mapping if it is already present (optional operation). |\r\n| `default V` | `putLast(K k, V v)`        | Inserts the given mapping into the map if it is not already present, or replaces the value of a mapping if it is already present (optional operation). |\r\n| `SequencedMap&lt;K,V&gt;`                    | `reversed()` | Returns a reverse-ordered view of this map. |\r\n| `default SequencedSet&lt;Map.Entry&lt;K,V&gt;&gt;` | `sequencedEntrySet()` | Returns a SequencedSet view of this map&#39;s entrySet. |\r\n| `default SequencedSet&lt;K&gt;`              | `sequencedKeySet()` | Returns a SequencedSet view of this map&#39;s keySet. |\r\n| `default SequencedCollection&lt;V&gt;`       | `sequencedValues()` | Returns a SequencedCollection view of this map&#39;s values collection. |\r\n","title":"What is Java 21s new Sequence Interface","body":"<p>There is no new interface in Java 21 called <code>Sequence</code>.  Rather, there are three related interfaces: <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\" rel=\"nofollow noreferrer\"><code>SequencedCollection</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedSet.html\" rel=\"nofollow noreferrer\"><code>SequencedSet</code></a>, and <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedMap.html\" rel=\"nofollow noreferrer\"><code>SequencedMap</code></a>.  These three interfaces represent collections or maps which have a well-defined iteration order, as well as the ability to be viewed in reverse.</p>\n<p>These three types were added by the <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">JEP 431: Sequenced Collections</a> feature.  Per its summary, its goal was to:</p>\n<blockquote>\n<p>Introduce new interfaces to represent collections with a defined encounter order. Each such collection has a well-defined first element, second element, and so forth, up to the last element. It also provides uniform APIs for accessing its first and last elements, and for processing its elements in reverse order.</p>\n</blockquote>\n<p>These new interface types can be used any time a <code>Collection</code>, <code>Set</code>, or <code>Map</code> is needed in which the iteration order is important.</p>\n<p>These new interfaces were added to the existing collection hierarchy where appropriate.  <code>List</code>, <code>Deque</code>, and <code>SequencedSet</code> extend <code>SequencedCollection</code> directly.  <code>SortedSet</code> and <code>LinkedHashSet</code> extend <code>SequencedSet</code>.  And <code>SortedMap</code> and <code>LinkedHashMap</code> both extend <code>SequencedMap</code>.</p>\n<p>The mutation methods in the interfaces (<code>addFirst</code>, <code>putLast</code>, etc) are all <em>optional</em> methods, which are only implemented by types where that sort of mutation makes sense.  For instance, <code>addFirst</code> is not implemented for <code>SortedSet</code>, since the encounter order is defined by the comparison function between the elements, so an arbitrary element cannot be added to the beginning of the set.</p>\n<h1>Interface methods</h1>\n<h2><code>SequencedCollection</code></h2>\n<p><code>SequencedCollection</code> extends <code>Collection</code> and provides methods to add, retrieve, and remove the first and last element.  It also provides a method to provide a reversed view of the collection.  Per the Javadoc method summary:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Modifier and Type</th>\n<th>Method</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>default void</code></td>\n<td><code>addFirst(E e)</code></td>\n<td>Adds an element as the first element of this collection (optional operation).</td>\n</tr>\n<tr>\n<td><code>default void</code></td>\n<td><code>addLast(E e)</code></td>\n<td>Adds an element as the last element of this collection (optional operation).</td>\n</tr>\n<tr>\n<td><code>default E</code></td>\n<td><code>getFirst()</code></td>\n<td>Gets the first element of this collection.</td>\n</tr>\n<tr>\n<td><code>default E</code></td>\n<td><code>getLast()</code></td>\n<td>Gets the last element of this collection.</td>\n</tr>\n<tr>\n<td><code>default E</code></td>\n<td><code>removeFirst()</code></td>\n<td>Removes and returns the first element of this collection (optional operation).</td>\n</tr>\n<tr>\n<td><code>default E</code></td>\n<td><code>removeLast()</code></td>\n<td>Removes and returns the last element of this collection (optional operation).</td>\n</tr>\n<tr>\n<td><code>SequencedCollection&lt;E&gt;</code></td>\n<td><code>reversed()</code></td>\n<td>Returns a reverse-ordered view of this collection.</td>\n</tr>\n</tbody>\n</table>\n</div><h2><code>SequencedSet</code></h2>\n<p><code>SequencedSet</code> extends both <code>SequencedCollection</code> and <code>Set</code>.  It is identical to <code>SequencedCollection</code>, except that its <code>reversed</code> view returns a <code>SequencedSet</code> rather than a <code>SequencedCollection</code>.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Modifier and Type</th>\n<th>Method</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>SequencedSet&lt;E&gt;</code></td>\n<td><code>reversed()</code></td>\n<td>Returns a reverse-ordered view of this collection.</td>\n</tr>\n</tbody>\n</table>\n</div><h2><code>SequencedMap</code></h2>\n<p><code>SequencedMap</code> extends <code>Map</code> and provides methods to retrieve, put, and poll elements from the map.  It also provides a method to provide a reversed view of the map.  Per the Javadoc method summary:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Modifier and Type</th>\n<th>Method</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>default Map.Entry&lt;K,V&gt;</code></td>\n<td><code>firstEntry()</code></td>\n<td>Returns the first key-value mapping in this map, or null if the map is empty.</td>\n</tr>\n<tr>\n<td><code>default Map.Entry&lt;K,V&gt;</code></td>\n<td><code>lastEntry()</code></td>\n<td>Returns the last key-value mapping in this map, or null if the map is empty.</td>\n</tr>\n<tr>\n<td><code>default Map.Entry&lt;K,V&gt;</code></td>\n<td><code>pollFirstEntry()</code></td>\n<td>Removes and returns the first key-value mapping in this map, or null if the map is empty (optional operation).</td>\n</tr>\n<tr>\n<td><code>default Map.Entry&lt;K,V&gt;</code></td>\n<td><code>pollLastEntry()</code></td>\n<td>Removes and returns the last key-value mapping in this map, or null if the map is empty (optional operation).</td>\n</tr>\n<tr>\n<td><code>default V</code></td>\n<td><code>putFirst(K k, V v)</code></td>\n<td>Inserts the given mapping into the map if it is not already present, or replaces the value of a mapping if it is already present (optional operation).</td>\n</tr>\n<tr>\n<td><code>default V</code></td>\n<td><code>putLast(K k, V v)</code></td>\n<td>Inserts the given mapping into the map if it is not already present, or replaces the value of a mapping if it is already present (optional operation).</td>\n</tr>\n<tr>\n<td><code>SequencedMap&lt;K,V&gt;</code></td>\n<td><code>reversed()</code></td>\n<td>Returns a reverse-ordered view of this map.</td>\n</tr>\n<tr>\n<td><code>default SequencedSet&lt;Map.Entry&lt;K,V&gt;&gt;</code></td>\n<td><code>sequencedEntrySet()</code></td>\n<td>Returns a SequencedSet view of this map's entrySet.</td>\n</tr>\n<tr>\n<td><code>default SequencedSet&lt;K&gt;</code></td>\n<td><code>sequencedKeySet()</code></td>\n<td>Returns a SequencedSet view of this map's keySet.</td>\n</tr>\n<tr>\n<td><code>default SequencedCollection&lt;V&gt;</code></td>\n<td><code>sequencedValues()</code></td>\n<td>Returns a SequencedCollection view of this map's values collection.</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":6528461,"reputation":3279,"user_id":5050431,"accept_rate":60,"display_name":"A_Arnold"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":9,"up_vote_count":5,"answer_count":2,"score":-4,"last_activity_date":1695313301,"creation_date":1691554619,"question_id":76864541,"body_markdown":"What is the new `Sequence` interface in [Java 21][1]? What does it add and what may be common issues to consider?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_21","title":"What is Java 21s new Sequence Interface","body":"<p>What is the new <code>Sequence</code> interface in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_21\" rel=\"nofollow noreferrer\">Java 21</a>? What does it add and what may be common issues to consider?</p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1646922254,"post_id":71425060,"comment_id":126247393,"body_markdown":"@veejayD But why do you need `Date`?","body":"@veejayD But why do you need <code>Date</code>?"},{"owner":{"account_id":12728827,"reputation":81,"user_id":9246275,"display_name":"veejay"},"score":0,"creation_date":1646922745,"post_id":71425060,"comment_id":126247616,"body_markdown":"@MCEmperor I need to populate this in DB column. So I need to convert a string which is in UTC to EST then converting ZonedDateTime back to java.util.Date in this format (yyyy-MM-dd&#39;T&#39;HH:mm:ss)","body":"@MCEmperor I need to populate this in DB column. So I need to convert a string which is in UTC to EST then converting ZonedDateTime back to java.util.Date in this format (yyyy-MM-dd&#39;T&#39;HH:mm:ss)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1646929291,"post_id":71425060,"comment_id":126250463,"body_markdown":"@veejayD Never use either `Date` class. Use only *java.time* classes .","body":"@veejayD Never use either <code>Date</code> class. Use only <i>java.time</i> classes ."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646920975,"creation_date":1646920975,"answer_id":71425429,"question_id":71425060,"body_markdown":"Once you have `ZonedDateTime` in correct time zone  convert it to Instant and then use method [public static Date from(Instant instant)][1] of class Date.\r\n\r\n    Instant instant = Instant.from(zonedDateTime);\r\n    Date date = Date.from(instant);\r\n\r\nHowever, if you can, refrain from usage of Date class which is outdated (pun intended) package `java.time` with classes like `ZonedDateTime`, `Instant`\r\nand others should be used\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#from-java.time.Instant-\r\n\r\n","title":"How to convert UTC to EST java.util.date in Java8+?","body":"<p>Once you have <code>ZonedDateTime</code> in correct time zone  convert it to Instant and then use method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#from-java.time.Instant-\" rel=\"nofollow noreferrer\">public static Date from(Instant instant)</a> of class Date.</p>\n<pre><code>Instant instant = Instant.from(zonedDateTime);\nDate date = Date.from(instant);\n</code></pre>\n<p>However, if you can, refrain from usage of Date class which is outdated (pun intended) package <code>java.time</code> with classes like <code>ZonedDateTime</code>, <code>Instant</code>\nand others should be used</p>\n"},{"comments":[{"owner":{"account_id":12728827,"reputation":81,"user_id":9246275,"display_name":"veejay"},"score":0,"creation_date":1646931385,"post_id":71427728,"comment_id":126251326,"body_markdown":"Thanks for you answer. I am afraid that we had missed to use java.time and we have been using java.util.Date. we will take this part of debt to fix across the project. Also, it will take rounds of discussion to ask the client to send the timestamp with Zone information. But, right now it&#39;s an assumption we will receive it in UTC. Could you please help me in updating your post with how can I attain java.util.Date from the input in the desired format(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;). Forget about the code snippet I tried it might be a crap because I have very little exp with Java :(.","body":"Thanks for you answer. I am afraid that we had missed to use java.time and we have been using java.util.Date. we will take this part of debt to fix across the project. Also, it will take rounds of discussion to ask the client to send the timestamp with Zone information. But, right now it&#39;s an assumption we will receive it in UTC. Could you please help me in updating your post with how can I attain java.util.Date from the input in the desired format(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;). Forget about the code snippet I tried it might be a crap because I have very little exp with Java :(."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1646946374,"post_id":71427728,"comment_id":126256174,"body_markdown":"@veejayD See my edits. Also, all this has been covered many many times on Stack Overflow.","body":"@veejayD See my edits. Also, all this has been covered many many times on Stack Overflow."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695313144,"creation_date":1646930439,"answer_id":71427728,"question_id":71425060,"body_markdown":"## Avoid legacy classes\r\n\r\nYou commented:\r\n\r\n&gt; I need to populate this in DB column. So I need to convert a string which is in UTC to EST then converting ZonedDateTime back to java.util.Date in this format (yyyy-MM-dd&#39;T&#39;HH:mm:ss)\r\n\r\nNever use either `Date` class. Use only *java.time* classes. JDBC 4.2 and later supports *java.time* for exchanging date-time values with a database. \r\n\r\n - For a column of a type akin to the SQL-standard type `TIMESTAMP WITHOUT TIME ZONE`, use `java.time.LocalDateTime`. \r\n - For a column of a type akin to the SQL-standard type `TIMESTAMP WITH TIME ZONE`, use `java.time.OffsetDateTime`.\r\n \r\n\r\n## Not a moment\r\n\r\nYour input string:\r\n\r\n&gt;`String timestamp = &quot;2022-03-01T16:29:03&quot;;`\r\n\r\n… is misnamed. That value lacks an indicator of time zone or offset-from-UTC. So it cannot represent a moment. We have no way of knowing if that is around 4:30 PM in Tokyo Japan, or in Toulouse France, or in Toledo Ohio US — all very different moments several hours apart. So calling this a “timestamp” is misleading. \r\n\r\nParse that input string as a `LocalDateTime`. No need to specify a formatting pattern. That string complies with ISO 8691, used by default in the *java.time* classses when parsing/generating text.\r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( &quot;2022-03-01T16:29:03&quot; ) ;\r\n\r\n# Moment\r\n\r\nYour code at this point seems convoluted. You assign a default time zone to this date-with-time. But that seems unlikely to make sense. I am guessing that your intention was for this specific date-with-time to represent a specific moment as seen in a specific time zone.\r\n\r\nApparently you want eastern Canada &#127464;&#127462; time zone. The [proper name for that zone][1] is `America/Toronto`.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Toronto&quot; ) ;\r\n\r\nAssign that zone to produce a `ZonedDateTime` object. \r\n\r\n    ZonedDateTime zdt = ldt.atZone( z ) ;\r\n\r\nNow we have a moment, a specific point on the timeline.\r\n\r\n## JDBC\r\n\r\nBut for writing to a database column of a type akin to the SQL-standard `TIMESTAMP WITH TIME ZONE`, we need to use `OffsetDateTime`.\r\n\r\n    OffsetDateTime odt = zdt.toOffsetDateTime() ;\r\n\r\nLater you commented that the input string is intended to represent a moment in UTC. So assign a `ZoneOffset` object, the constant `UTC`, to get an `OffsetDateTime`.\r\n\r\n    OffsetDateTime odt = ldt.atOffset( ZoneOffset.UTC ) ;\r\n\r\nSend to the database.\r\n\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\nRetrieval.\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n    ZonedDateTime zdt = odt.atZoneSameInstant( z ) ;\r\n\r\n## Converting legacy ↔ modern\r\n\r\nIf you must use `java.util.Date` to  interoperate with old code not yet updated to *java.time*, you can convert to and fro. Look to the new `to…` and `from…` methods added to the old classes. \r\n\r\n    java.util.Date d = Date.from( odt.toInstant() ) ;\r\n    java.util.Date d = Date.from( zdt.toInstant() ) ;\r\n\r\nGoing the other direction.\r\n\r\n    Instant instant = myJavaUtilDate.toInstant() ;\r\n\r\nAll of these topics have been addressed many times on Stack Overflow. Search to learn more. \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones","title":"How to convert UTC to EST java.util.date in Java8+?","body":"<h2>Avoid legacy classes</h2>\n<p>You commented:</p>\n<blockquote>\n<p>I need to populate this in DB column. So I need to convert a string which is in UTC to EST then converting ZonedDateTime back to java.util.Date in this format (yyyy-MM-dd'T'HH:mm:ss)</p>\n</blockquote>\n<p>Never use either <code>Date</code> class. Use only <em>java.time</em> classes. JDBC 4.2 and later supports <em>java.time</em> for exchanging date-time values with a database.</p>\n<ul>\n<li>For a column of a type akin to the SQL-standard type <code>TIMESTAMP WITHOUT TIME ZONE</code>, use <code>java.time.LocalDateTime</code>.</li>\n<li>For a column of a type akin to the SQL-standard type <code>TIMESTAMP WITH TIME ZONE</code>, use <code>java.time.OffsetDateTime</code>.</li>\n</ul>\n<h2>Not a moment</h2>\n<p>Your input string:</p>\n<blockquote>\n<p><code>String timestamp = &quot;2022-03-01T16:29:03&quot;;</code></p>\n</blockquote>\n<p>… is misnamed. That value lacks an indicator of time zone or offset-from-UTC. So it cannot represent a moment. We have no way of knowing if that is around 4:30 PM in Tokyo Japan, or in Toulouse France, or in Toledo Ohio US — all very different moments several hours apart. So calling this a “timestamp” is misleading.</p>\n<p>Parse that input string as a <code>LocalDateTime</code>. No need to specify a formatting pattern. That string complies with ISO 8691, used by default in the <em>java.time</em> classses when parsing/generating text.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( &quot;2022-03-01T16:29:03&quot; ) ;\n</code></pre>\n<h1>Moment</h1>\n<p>Your code at this point seems convoluted. You assign a default time zone to this date-with-time. But that seems unlikely to make sense. I am guessing that your intention was for this specific date-with-time to represent a specific moment as seen in a specific time zone.</p>\n<p>Apparently you want eastern Canada 🇨🇦 time zone. The <a href=\"https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">proper name for that zone</a> is <code>America/Toronto</code>.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Toronto&quot; ) ;\n</code></pre>\n<p>Assign that zone to produce a <code>ZonedDateTime</code> object.</p>\n<pre><code>ZonedDateTime zdt = ldt.atZone( z ) ;\n</code></pre>\n<p>Now we have a moment, a specific point on the timeline.</p>\n<h2>JDBC</h2>\n<p>But for writing to a database column of a type akin to the SQL-standard <code>TIMESTAMP WITH TIME ZONE</code>, we need to use <code>OffsetDateTime</code>.</p>\n<pre><code>OffsetDateTime odt = zdt.toOffsetDateTime() ;\n</code></pre>\n<p>Later you commented that the input string is intended to represent a moment in UTC. So assign a <code>ZoneOffset</code> object, the constant <code>UTC</code>, to get an <code>OffsetDateTime</code>.</p>\n<pre><code>OffsetDateTime odt = ldt.atOffset( ZoneOffset.UTC ) ;\n</code></pre>\n<p>Send to the database.</p>\n<pre><code>myPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n<p>Retrieval.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\nZonedDateTime zdt = odt.atZoneSameInstant( z ) ;\n</code></pre>\n<h2>Converting legacy ↔ modern</h2>\n<p>If you must use <code>java.util.Date</code> to  interoperate with old code not yet updated to <em>java.time</em>, you can convert to and fro. Look to the new <code>to…</code> and <code>from…</code> methods added to the old classes.</p>\n<pre><code>java.util.Date d = Date.from( odt.toInstant() ) ;\njava.util.Date d = Date.from( zdt.toInstant() ) ;\n</code></pre>\n<p>Going the other direction.</p>\n<pre><code>Instant instant = myJavaUtilDate.toInstant() ;\n</code></pre>\n<p>All of these topics have been addressed many times on Stack Overflow. Search to learn more.</p>\n"}],"owner":{"account_id":12728827,"reputation":81,"user_id":9246275,"display_name":"veejay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":902,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71427728,"answer_count":2,"score":0,"last_activity_date":1695313144,"creation_date":1646919534,"question_id":71425060,"body_markdown":"I have my code below which converts UTC to EST. But, how can I convert ZonedDateTime to java.util.Date  from the below code along with this format (yyyy-MM-dd&#39;T&#39;HH:mm:ss) ?\r\n```java\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\nString f = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;;\r\nString timestamp = &quot;2022-03-01T16:29:03&quot;; //sample input\r\n\r\nTemporalAccessor temporalAccessor = formatter.parse(timestamp);\r\nLocalDateTime localDateTime = LocalDateTime.from(temporalAccessor);\r\nZonedDateTime zonedDateTime = ZonedDateTime.of(localDateTime, ZoneId.systemDefault());\r\nInstant result = Instant.from(zonedDateTime);\r\nZonedDateTime nyTime = result.atZone(ZoneId.of(&quot;Canada/Eastern&quot;));\r\nDateTimeFormatter format = DateTimeFormatter.ofPattern(f);\r\nSystem.out.println(&quot;Date EST : &quot; + format.format(nyTime));\r\n```\r\n","title":"How to convert UTC to EST java.util.date in Java8+?","body":"<p>I have my code below which converts UTC to EST. But, how can I convert ZonedDateTime to java.util.Date  from the below code along with this format (yyyy-MM-dd'T'HH:mm:ss) ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\nString f = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;;\nString timestamp = &quot;2022-03-01T16:29:03&quot;; //sample input\n\nTemporalAccessor temporalAccessor = formatter.parse(timestamp);\nLocalDateTime localDateTime = LocalDateTime.from(temporalAccessor);\nZonedDateTime zonedDateTime = ZonedDateTime.of(localDateTime, ZoneId.systemDefault());\nInstant result = Instant.from(zonedDateTime);\nZonedDateTime nyTime = result.atZone(ZoneId.of(&quot;Canada/Eastern&quot;));\nDateTimeFormatter format = DateTimeFormatter.ofPattern(f);\nSystem.out.println(&quot;Date EST : &quot; + format.format(nyTime));\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1695313330,"post_id":77151877,"comment_id":136010884,"body_markdown":"I think you are looking for how to dynamically register beans. Here is one post: https://stackoverflow.com/q/75046275/460557 and found this one on google: https://medium.com/@venkivenki4b6/spring-dynamically-register-beans-in-4-ways-at-run-time-c1dc45dcbeb9 \nSee if it helps","body":"I think you are looking for how to dynamically register beans. Here is one post: <a href=\"https://stackoverflow.com/q/75046275/460557\">stackoverflow.com/q/75046275/460557</a> and found this one on google: <a href=\"https://medium.com/@venkivenki4b6/spring-dynamically-register-beans-in-4-ways-at-run-time-c1dc45dcbeb9\" rel=\"nofollow noreferrer\">medium.com/@venkivenki4b6/&hellip;</a>  See if it helps"},{"owner":{"account_id":16744354,"reputation":504,"user_id":12103109,"display_name":"CaptainAye"},"score":0,"creation_date":1695325286,"post_id":77151877,"comment_id":136013100,"body_markdown":"The exception means that Spring found more bean candidates to match for ConcreteService than only one. Do you have couple of beans defined for that type? If so, you would need to specify @Qualifier in order to pick the one that you&#39;re interested in but your Template doesn&#39;t support it.","body":"The exception means that Spring found more bean candidates to match for ConcreteService than only one. Do you have couple of beans defined for that type? If so, you would need to specify @Qualifier in order to pick the one that you&#39;re interested in but your Template doesn&#39;t support it."}],"owner":{"account_id":25227059,"reputation":45,"user_id":19062771,"display_name":"amongosus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695312961,"creation_date":1695312056,"question_id":77151877,"body_markdown":"I&#39;m developing some Integration Tests and to speed up the process I wanted to exploit the Template pattern for a quicker coverage.\r\nThis is my Template class\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    public abstract class ControllerTestTemplate&lt;D extends BaseDto, S extends ServiceTemplate&gt;{\r\n        protected D dto;\r\n        @MockBean\r\n        protected S service;\r\n        protected String endpoint;\r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n        private static EasyRandom easyRandom;\r\n\r\n\r\n    public ControllerTestTemplate(D dto, String endpoint) {\r\n        this.dto = dto;\r\n        this.endpoint = endpoint;\r\n    }\r\n    @BeforeAll\r\n    public static void setUp(){\r\n        EasyRandomParameters  easyRandom = new EasyRandom();\r\n    }\r\n\r\n    @Test\r\n    void saveWorks() throws Exception {\r\n    //given\r\n        D d = (D) easyRandom.nextObject(dto.getClass());\r\n        String json = new ObjectMapper()\r\n                .writeValueAsString(d);\r\n\r\n        when(service.save(eq(d))).thenReturn(d);\r\n    //when - then\r\n\r\n        mockMvc.perform(post(endpoint)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(json))\r\n                .andExpect(status().isOk());\r\n    }\r\n    }\r\n\r\nSo that I cant just create a class that extends my Template for free coverage\r\n\r\n    public class ConcreteControllerTest extends ControllerTestTemplate&lt;ConcreteDto,ConcreteService&gt; {\r\n            public ConcreteControllerTest() {\r\n            super(new ConcreteDto(), &quot;/concrete&quot;);\r\n        }\r\n    }\r\n\r\nRightfully this is wrong, as Spring Boot cannot figure out exactly what Bean he should mock. I get this error when running the Test Suite above: `Unable to register mock bean ? expected a single matching bean to replace but found: [list of services]`\r\n\r\nSo my question is, can I define the exact Bean to Mock with @MockBean at runtime? Is there a way to make my idea work?\r\n\r\nThis is just a fake project, I don&#39;t think this will ever be applied in real scenarios, I was just curious if such implementation could work.","title":"How to Dynamically load MockBeans","body":"<p>I'm developing some Integration Tests and to speed up the process I wanted to exploit the Template pattern for a quicker coverage.\nThis is my Template class</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\npublic abstract class ControllerTestTemplate&lt;D extends BaseDto, S extends ServiceTemplate&gt;{\n    protected D dto;\n    @MockBean\n    protected S service;\n    protected String endpoint;\n    @Autowired\n    private MockMvc mockMvc;\n    private static EasyRandom easyRandom;\n\n\npublic ControllerTestTemplate(D dto, String endpoint) {\n    this.dto = dto;\n    this.endpoint = endpoint;\n}\n@BeforeAll\npublic static void setUp(){\n    EasyRandomParameters  easyRandom = new EasyRandom();\n}\n\n@Test\nvoid saveWorks() throws Exception {\n//given\n    D d = (D) easyRandom.nextObject(dto.getClass());\n    String json = new ObjectMapper()\n            .writeValueAsString(d);\n\n    when(service.save(eq(d))).thenReturn(d);\n//when - then\n\n    mockMvc.perform(post(endpoint)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(json))\n            .andExpect(status().isOk());\n}\n}\n</code></pre>\n<p>So that I cant just create a class that extends my Template for free coverage</p>\n<pre><code>public class ConcreteControllerTest extends ControllerTestTemplate&lt;ConcreteDto,ConcreteService&gt; {\n        public ConcreteControllerTest() {\n        super(new ConcreteDto(), &quot;/concrete&quot;);\n    }\n}\n</code></pre>\n<p>Rightfully this is wrong, as Spring Boot cannot figure out exactly what Bean he should mock. I get this error when running the Test Suite above: <code>Unable to register mock bean ? expected a single matching bean to replace but found: [list of services]</code></p>\n<p>So my question is, can I define the exact Bean to Mock with @MockBean at runtime? Is there a way to make my idea work?</p>\n<p>This is just a fake project, I don't think this will ever be applied in real scenarios, I was just curious if such implementation could work.</p>\n"},{"tags":["javascript","java","arrays","swagger","kubernetes-helm"],"owner":{"account_id":19605932,"reputation":13,"user_id":14349620,"display_name":"Dennis van Putten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695312915,"creation_date":1695312915,"question_id":77151978,"body_markdown":"I have swagger running on my k8 cluster. I&#39;m trying to override the default petshop url with environment variables in my deployment.yaml. This works well with a URL. Only when I try with two URLs as the swagger documentation indicates does it go wrong. Then swagger somehow tries to put a comma after the last url.\r\n```\r\n    env:\r\n    - name: URLS\r\n      value: &quot;https://example1.local/v3/api-docs,https://example2.local/v3/apidocs&quot;\r\n```\r\n\r\nThe swagger-initialiser.json converts it to:\r\n\r\n```\r\nurls: https://example1.local/v3/api-docs,https://example2.local/v3/apidocs,\r\n```\r\n\r\nCan&#39;t see how to fix it. Can anyone help me out? :)","title":"Swagger-ui config overwrite","body":"<p>I have swagger running on my k8 cluster. I'm trying to override the default petshop url with environment variables in my deployment.yaml. This works well with a URL. Only when I try with two URLs as the swagger documentation indicates does it go wrong. Then swagger somehow tries to put a comma after the last url.</p>\n<pre><code>    env:\n    - name: URLS\n      value: &quot;https://example1.local/v3/api-docs,https://example2.local/v3/apidocs&quot;\n</code></pre>\n<p>The swagger-initialiser.json converts it to:</p>\n<pre><code>urls: https://example1.local/v3/api-docs,https://example2.local/v3/apidocs,\n</code></pre>\n<p>Can't see how to fix it. Can anyone help me out? :)</p>\n"},{"tags":["java","commercetools"],"answers":[{"tags":[],"owner":{"account_id":6106088,"reputation":317,"user_id":4763768,"display_name":"jenschude"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694584942,"creation_date":1694584942,"answer_id":77094409,"question_id":77087792,"body_markdown":"You can use the QueryUtils class with it&#39;s methods. They provide similar functionality.\r\n\r\n        public void queryAll() {\r\n        ProjectApiRoot apiRoot = createProjectClient();\r\n        List&lt;String&gt; ids = QueryUtils.queryAll(apiRoot.productProjections().get(), (productProjections) -&gt; {\r\n            return productProjections.stream().map(ProductProjection::getId).collect(Collectors.toList());\r\n        }, 100)\r\n                .thenApply(lists -&gt; lists.stream().flatMap(List::stream).collect(Collectors.toList()))\r\n                .toCompletableFuture()\r\n                .join();\r\n        }\r\n\r\nPlease see https://commercetools.github.io/commercetools-sdk-java-v2/javadoc/com/commercetools/docs/meta/Querying.html","title":"Extract all Product database in a single List&lt;Product&gt; with CommerceTools SDK v2","body":"<p>You can use the QueryUtils class with it's methods. They provide similar functionality.</p>\n<pre><code>    public void queryAll() {\n    ProjectApiRoot apiRoot = createProjectClient();\n    List&lt;String&gt; ids = QueryUtils.queryAll(apiRoot.productProjections().get(), (productProjections) -&gt; {\n        return productProjections.stream().map(ProductProjection::getId).collect(Collectors.toList());\n    }, 100)\n            .thenApply(lists -&gt; lists.stream().flatMap(List::stream).collect(Collectors.toList()))\n            .toCompletableFuture()\n            .join();\n    }\n</code></pre>\n<p>Please see <a href=\"https://commercetools.github.io/commercetools-sdk-java-v2/javadoc/com/commercetools/docs/meta/Querying.html\" rel=\"nofollow noreferrer\">https://commercetools.github.io/commercetools-sdk-java-v2/javadoc/com/commercetools/docs/meta/Querying.html</a></p>\n"},{"tags":[],"owner":{"account_id":7095080,"reputation":51,"user_id":5428976,"accept_rate":75,"display_name":"MiguelHoz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695312870,"creation_date":1695312870,"answer_id":77151972,"question_id":77087792,"body_markdown":"Thank you very much @jenschude, but I finally decided to create my own method because I needed to add the complete Product objects in a List to process them later.\r\nIt may not be the best solution, but it works for me, which is the important thing :-)\r\n\r\n```lang-java\r\n    public List&lt;Product&gt; getAllProductsByPredicate(final String predicate) throws InterruptedException {\r\n        List&lt;Product&gt; tmpProducts = new java.util.ArrayList&lt;&gt;(Collections.emptyList());\r\n        boolean lastPage = false;\r\n        int pagina = 0;\r\n\r\n        try {\r\n            // Instead of using offset to get a page, ask for elements being greater than the id of the first\r\n            // product in your project\r\n            String lastId = getApiRoot()\r\n                .products()\r\n                .get()\r\n                .withWhere(predicate)\r\n                .withSort(&quot;id asc&quot;)\r\n                .withLimit(1)\r\n                .execute()\r\n                .toCompletableFuture().get()\r\n                .getBody().getResults().get(0).getId();\r\n            lastId = lastId.substring(0, lastId.length() - 1) + &quot;0&quot;; // Starting last id less than the first one\r\n\r\n            while (!lastPage) {\r\n                pagina++;\r\n                ProductPagedQueryResponse productPagedQueryResponse =\r\n                    getApiRoot()\r\n                        .products()\r\n                        .get()\r\n                        // Important, internally we use id &gt; $lastId, it will not work without this line\r\n                        .withSort(&quot;id asc&quot;)\r\n                        .withWhere(predicate)\r\n                        .addWhere(&quot;id &gt; :lastId&quot;)\r\n                        .addPredicateVar(&quot;lastId&quot;, lastId)\r\n                        // Limit the size per page\r\n                        .withLimit(MAXIMUM_AMOUNT_OF_RESULTS)\r\n                        // always use this\r\n                        .withWithTotal(false)\r\n                        .execute()\r\n                        .toCompletableFuture()\r\n                        .get()\r\n                        .getBody();\r\n\r\n                // Add all the results to temporary list os products\r\n                tmpProducts.addAll(productPagedQueryResponse.getResults());\r\n                // Evaluate the size of current results\r\n                int size = productPagedQueryResponse.getResults().size();\r\n                if (size != 0) {\r\n                    LOGGER.debug(&quot;Recuperada la p&#225;gina #{} con {} productos&quot;, pagina, size);\r\n                    lastId = productPagedQueryResponse.getResults().get(size - 1).getId();\r\n                }\r\n                // If (size &lt; MAXIMUM_AMOUNT_OF_RESULTS) then lastPage = true to exit the loop\r\n                if (size != MAXIMUM_AMOUNT_OF_RESULTS) {\r\n                    LOGGER.debug(&quot;Ultima p&#225;gina de productos (total {} p&#225;ginas)&quot;, pagina);\r\n                    lastPage = true;\r\n                }\r\n            }\r\n            return tmpProducts;\r\n        } catch (ExecutionException e1) {\r\n            LOGGER.error(&quot;Failed to execute. ExecutionException:\\n{}&quot;, e1.getMessage());\r\n            return tmpProducts;\r\n        }\r\n    }\r\n```\r\n\r\nThanks again","title":"Extract all Product database in a single List&lt;Product&gt; with CommerceTools SDK v2","body":"<p>Thank you very much @jenschude, but I finally decided to create my own method because I needed to add the complete Product objects in a List to process them later.\nIt may not be the best solution, but it works for me, which is the important thing :-)</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public List&lt;Product&gt; getAllProductsByPredicate(final String predicate) throws InterruptedException {\n        List&lt;Product&gt; tmpProducts = new java.util.ArrayList&lt;&gt;(Collections.emptyList());\n        boolean lastPage = false;\n        int pagina = 0;\n\n        try {\n            // Instead of using offset to get a page, ask for elements being greater than the id of the first\n            // product in your project\n            String lastId = getApiRoot()\n                .products()\n                .get()\n                .withWhere(predicate)\n                .withSort(&quot;id asc&quot;)\n                .withLimit(1)\n                .execute()\n                .toCompletableFuture().get()\n                .getBody().getResults().get(0).getId();\n            lastId = lastId.substring(0, lastId.length() - 1) + &quot;0&quot;; // Starting last id less than the first one\n\n            while (!lastPage) {\n                pagina++;\n                ProductPagedQueryResponse productPagedQueryResponse =\n                    getApiRoot()\n                        .products()\n                        .get()\n                        // Important, internally we use id &gt; $lastId, it will not work without this line\n                        .withSort(&quot;id asc&quot;)\n                        .withWhere(predicate)\n                        .addWhere(&quot;id &gt; :lastId&quot;)\n                        .addPredicateVar(&quot;lastId&quot;, lastId)\n                        // Limit the size per page\n                        .withLimit(MAXIMUM_AMOUNT_OF_RESULTS)\n                        // always use this\n                        .withWithTotal(false)\n                        .execute()\n                        .toCompletableFuture()\n                        .get()\n                        .getBody();\n\n                // Add all the results to temporary list os products\n                tmpProducts.addAll(productPagedQueryResponse.getResults());\n                // Evaluate the size of current results\n                int size = productPagedQueryResponse.getResults().size();\n                if (size != 0) {\n                    LOGGER.debug(&quot;Recuperada la página #{} con {} productos&quot;, pagina, size);\n                    lastId = productPagedQueryResponse.getResults().get(size - 1).getId();\n                }\n                // If (size &lt; MAXIMUM_AMOUNT_OF_RESULTS) then lastPage = true to exit the loop\n                if (size != MAXIMUM_AMOUNT_OF_RESULTS) {\n                    LOGGER.debug(&quot;Ultima página de productos (total {} páginas)&quot;, pagina);\n                    lastPage = true;\n                }\n            }\n            return tmpProducts;\n        } catch (ExecutionException e1) {\n            LOGGER.error(&quot;Failed to execute. ExecutionException:\\n{}&quot;, e1.getMessage());\n            return tmpProducts;\n        }\n    }\n</code></pre>\n<p>Thanks again</p>\n"}],"owner":{"account_id":7095080,"reputation":51,"user_id":5428976,"accept_rate":75,"display_name":"MiguelHoz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77094409,"answer_count":2,"score":0,"last_activity_date":1695312870,"creation_date":1694510842,"question_id":77087792,"body_markdown":"I&#39;m looking for a way to migrate certain functionality from CommerceTools Java SDK-v1 to SDK-v2.\r\nThis functionality allows me to extract the entire product database (around 30k products) into a single list of products (`List&lt;Product&gt;`).\r\n\r\nThis is the code we currently use with SDK v1:\r\n```\r\n            final QueryPredicate qPred = ProductQuery.of().productType().isInIds(ids);\r\n            final ProductQuery seedQuery = ProductQuery.of()\r\n                .withSort(m -&gt; m.id().sort().asc())\r\n                .withLimit(ProjectConstants.PAGE_SIZE)\r\n                .withPredicates(qPred)\r\n                .withFetchTotal(false);\r\n            final CompletionStage&lt;List&lt;Product&gt;&gt; resultStage = findNext(seedQuery, seedQuery, new LinkedList&lt;&gt;(), connCT);\r\n            final List&lt;Product&gt; actualProducts = resultStage.toCompletableFuture().join();\r\n            final List&lt;Product&gt; javaSortedActual = actualProducts.stream().sorted(Comparator.comparing(p -&gt; p.getId())).collect(toList());\r\n            return javaSortedActual;\r\n```\r\n\r\n\r\nAs you can see, `ProductQuery` is used to create the seedQuery that is then used with `CompletionStage.findNext` which is the command that retrieves all the product pages one by one and enters them into the complete list.\r\n\r\nThe problem is that with the SDK v2 the `ProductQuery` method no longer exists and I no longer know how I should recover all the products from our database in a single list.\r\n\r\nDoes anyone know how I can get the same functionality with SDK v2?\r\n\r\nThanks in advance.","title":"Extract all Product database in a single List&lt;Product&gt; with CommerceTools SDK v2","body":"<p>I'm looking for a way to migrate certain functionality from CommerceTools Java SDK-v1 to SDK-v2.\nThis functionality allows me to extract the entire product database (around 30k products) into a single list of products (<code>List&lt;Product&gt;</code>).</p>\n<p>This is the code we currently use with SDK v1:</p>\n<pre><code>            final QueryPredicate qPred = ProductQuery.of().productType().isInIds(ids);\n            final ProductQuery seedQuery = ProductQuery.of()\n                .withSort(m -&gt; m.id().sort().asc())\n                .withLimit(ProjectConstants.PAGE_SIZE)\n                .withPredicates(qPred)\n                .withFetchTotal(false);\n            final CompletionStage&lt;List&lt;Product&gt;&gt; resultStage = findNext(seedQuery, seedQuery, new LinkedList&lt;&gt;(), connCT);\n            final List&lt;Product&gt; actualProducts = resultStage.toCompletableFuture().join();\n            final List&lt;Product&gt; javaSortedActual = actualProducts.stream().sorted(Comparator.comparing(p -&gt; p.getId())).collect(toList());\n            return javaSortedActual;\n</code></pre>\n<p>As you can see, <code>ProductQuery</code> is used to create the seedQuery that is then used with <code>CompletionStage.findNext</code> which is the command that retrieves all the product pages one by one and enters them into the complete list.</p>\n<p>The problem is that with the SDK v2 the <code>ProductQuery</code> method no longer exists and I no longer know how I should recover all the products from our database in a single list.</p>\n<p>Does anyone know how I can get the same functionality with SDK v2?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","html","swing","javafx","plotly"],"comments":[{"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"score":1,"creation_date":1607420714,"post_id":65190461,"comment_id":115260376,"body_markdown":"Sorry to clarify why exactly does it NEED to be invisible?","body":"Sorry to clarify why exactly does it NEED to be invisible?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1607422432,"post_id":65190461,"comment_id":115261101,"body_markdown":"*&quot;it is likely that it is the plotly.js JavaScript the JEditorPane is having trouble with:&quot;* Nope. It can&#39;t have trouble with something it never supported - at all. Swing&#39;s support of HTML rendering is limited to a subset of HTML 3.2, very simple styles, and no scripts, whatsoever. The Java-FX `WebView` embeds an actual browser, though I don&#39;t know if it will render a page before it is made visible on-screen. Like @DavidKroukamp, I am curious about the need to do this without showing a page on-screen. See also [What is the XY problem?](http://meta.stackexchange.com/q/66377)","body":"<i>&quot;it is likely that it is the plotly.js JavaScript the JEditorPane is having trouble with:&quot;</i> Nope. It can&#39;t have trouble with something it never supported - at all. Swing&#39;s support of HTML rendering is limited to a subset of HTML 3.2, very simple styles, and no scripts, whatsoever. The Java-FX <code>WebView</code> embeds an actual browser, though I don&#39;t know if it will render a page before it is made visible on-screen. Like @DavidKroukamp, I am curious about the need to do this without showing a page on-screen. See also <a href=\"http://meta.stackexchange.com/q/66377\">What is the XY problem?</a>"},{"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"score":1,"creation_date":1607427187,"post_id":65190461,"comment_id":115263169,"body_markdown":"Agreed with @AndrewThompson if this is something automated task you run locally i can&#39;t see why it can&#39;t show a window, and if it mustn&#39;t then you are using an incorrect framework you probably better off creating a CLI that integrates with chrome using the `--healdess` argument so no chrome window is produced and use its built in print/save functions or one of these options https://stackoverflow.com/a/46243263/1133011","body":"Agreed with @AndrewThompson if this is something automated task you run locally i can&#39;t see why it can&#39;t show a window, and if it mustn&#39;t then you are using an incorrect framework you probably better off creating a CLI that integrates with chrome using the <code>--healdess</code> argument so no chrome window is produced and use its built in print/save functions or one of these options <a href=\"https://stackoverflow.com/a/46243263/1133011\">stackoverflow.com/a/46243263/1133011</a>"},{"owner":{"account_id":18424609,"reputation":66,"user_id":13421258,"display_name":"Tom Schorsch"},"score":0,"creation_date":1607493090,"post_id":65190461,"comment_id":115286568,"body_markdown":"I run analysis software 20-30 times a day as I am doing analysis and creating the analysis software.  Having 100s of windows pop-up is annoying and (in my mind) not necessary.  Apparently many in the plotly community are also very annoyed with not being able to create plot images without first rendering them in a browser as well. JFreeChart and JavaFX don&#39;t have this issue. Here is an unanswered plotly question related to mine &lt;https://stackoverflow.com/questions/34957790/use-plotly-offline-to-generate-graphs-as-images&gt;.  If this were solved I might be able to use it.","body":"I run analysis software 20-30 times a day as I am doing analysis and creating the analysis software.  Having 100s of windows pop-up is annoying and (in my mind) not necessary.  Apparently many in the plotly community are also very annoyed with not being able to create plot images without first rendering them in a browser as well. JFreeChart and JavaFX don&#39;t have this issue. Here is an unanswered plotly question related to mine &lt;<a href=\"https://stackoverflow.com/questions/34957790/use-plotly-offline-to-generate-graphs-as-images\" title=\"use plotly offline to generate graphs as images\">stackoverflow.com/questions/34957790/&hellip;</a>&gt;.  If this were solved I might be able to use it."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1607493791,"post_id":65190461,"comment_id":115286749,"body_markdown":"*&quot;I run analysis software..&quot;* Tip: Add @DavidKroukamp (or whoever, the `@` is important) to *notify* the person of a new comment.","body":"<i>&quot;I run analysis software..&quot;</i> Tip: Add @DavidKroukamp (or whoever, the <code>@</code> is important) to <i>notify</i> the person of a new comment."},{"owner":{"account_id":18424609,"reputation":66,"user_id":13421258,"display_name":"Tom Schorsch"},"score":0,"creation_date":1607573479,"post_id":65190461,"comment_id":115317318,"body_markdown":"Thanks @AndrewThompson. Plotly users have many posts with my same &quot;use case&quot; but for python or R instead of Java. &lt;https://github.com/plotly/plotly.py/issues/880&gt; is one such with a post in it that ends with a frustrated &quot;Plotly is a html / online web tool only. I will look elsewhere for use cases that require images as output.&quot; His frustration and mine is that &quot;solutions&quot; require downloads with complex dependencies, use a Rube-Goldberg approach, and then don&#39;t work because of new issues. I am not competent in this problem space and need a simple solution by someone who has already solved it.","body":"Thanks @AndrewThompson. Plotly users have many posts with my same &quot;use case&quot; but for python or R instead of Java. &lt;<a href=\"https://github.com/plotly/plotly.py/issues/880\" rel=\"nofollow noreferrer\">github.com/plotly/plotly.py/issues/880</a>&gt; is one such with a post in it that ends with a frustrated &quot;Plotly is a html / online web tool only. I will look elsewhere for use cases that require images as output.&quot; His frustration and mine is that &quot;solutions&quot; require downloads with complex dependencies, use a Rube-Goldberg approach, and then don&#39;t work because of new issues. I am not competent in this problem space and need a simple solution by someone who has already solved it."},{"owner":{"account_id":18424609,"reputation":66,"user_id":13421258,"display_name":"Tom Schorsch"},"score":0,"creation_date":1607576316,"post_id":65190461,"comment_id":115317881,"body_markdown":"Thanks @DavidKroukamp.  My use case is not an uncommon use case based on the number of requests for this capability.  (including the link &lt;stackoverflow.com/questions/34957790/…&gt; above which was created 8 years ago, viewed 321k times and was active as of 30 days ago.  It appears to be a simple request &quot;Render HTML to an image&quot; but there is no easy solution.   My variant is it is a complex html file with Java Script and I&#39;d like to do it 100&#39;s of times (1000&#39;s of times a day) from Java (where I create the initial .html files).   Someone has to have a simple Java solution for this!!!  Right?","body":"Thanks @DavidKroukamp.  My use case is not an uncommon use case based on the number of requests for this capability.  (including the link &lt;stackoverflow.com/questions/34957790/…&gt; above which was created 8 years ago, viewed 321k times and was active as of 30 days ago.  It appears to be a simple request &quot;Render HTML to an image&quot; but there is no easy solution.   My variant is it is a complex html file with Java Script and I&#39;d like to do it 100&#39;s of times (1000&#39;s of times a day) from Java (where I create the initial .html files).   Someone has to have a simple Java solution for this!!!  Right?"}],"owner":{"account_id":18424609,"reputation":66,"user_id":13421258,"display_name":"Tom Schorsch"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695312076,"creation_date":1607380565,"question_id":65190461,"body_markdown":"It has been several years with no solution, also I noticed there are new plotly python solutions for off-line image generation (https://plotly.com/python/static-image-export/) - are there any such solutions for java yet?\r\n\r\nI would like to create and embed the .pngs of technical plots (based on JavaScript and plotly) into a PowerPoint presentation.  I have used JFreeChart and JafaFX plots in the past (and created .pngs with then) but now I am trying to replace those plotting technologies with plotly.  The link below says that it is not possible to embed .html directly into a PPT slide so it can be viewed without clicking on it without a 3rd party add-on (which I cannot use) which is why I am trying to change my .html (with JavaScript) plot files to .png plot files.  &lt;https://superuser.com/questions/1221880/how-to-embed-an-html-file-into-a-powerpoint-presentation&gt;\r\n\r\nI regularly create a 100&#39;s of ploty .html files from java (sample below) that are saved to my local hard drive. My dev/execution environment is off-line so I need a solution I can call from Java (i.e. native or Open Source 3rd party .jar I can download &amp; use) so that I can turn these .html files (with plotly JavaScript) into .pngs.\r\n\r\nA Swing JEditorPane solution won&#39;t work with my .html files.\r\n```\r\nimport java.awt.image.BufferedImage;\r\nimport java.awt.image.RenderedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.JEditorPane;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class HTML2PNG_SWING {\r\n\tpublic static void main(String[] args) {\r\n\t\tURL htmlFile = null;\r\n\t\ttry {htmlFile = new File(&quot;D://myPlot.html&quot;).toURI().toURL();} catch (MalformedURLException e2) {e2.printStackTrace();}\r\n\t\tFile pngFile = new File(&quot;D://myPlot.png&quot;);          // png file I want to create\r\n\r\n\t\tJEditorPane ed = null;\r\n\t\t//load the webpage into the editor\r\n\t\ttry {ed = new JEditorPane(htmlFile);} catch (IOException e) {e.printStackTrace();}\r\n\r\n\t\ttry {\t// Likely there is some callback I can use instead which can tell me when the .html file is loaded\r\n\t\t\tThread.sleep(10000);} catch (InterruptedException e1) {e1.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t// I have to put some window size here... it would be nice if the size were auto-generated based on the .html plot  \r\n\t\ted.setSize(1000,1000); \r\n\t\t//create a new image\r\n\t\tBufferedImage image = new BufferedImage(ed.getWidth(), ed.getHeight(),BufferedImage.TYPE_INT_ARGB);\r\n\r\n\t\t//paint the editor onto the image\r\n\t\tSwingUtilities.paintComponent(image.createGraphics(), ed, new JPanel(), 0, 0, image.getWidth(), image.getHeight());\r\n\r\n\t\t//save the image to file\r\n\t\ttry {ImageIO.write((RenderedImage)image, &quot;png&quot;, pngFile);} catch (IOException e) {e.printStackTrace();\r\n\t\t}      \r\n\t}  \r\n} \r\n```\r\nExplanation: A Swing JEditorPane works with simple .html files without the need to render the html file to the screen.  When I try the Swing solution on my sample .html file below, the two Text divs show up (see sample below) but not the plotly div plot itself so it is likely that it is the plotly.js JavaScript the JEditorPane is having trouble with:\r\n&lt;https://www.tutorialspoint.com/swingexamples/using_jeditorpane_to_show_html.htm&gt;\r\n\r\nA JavaFX Snapshot/WebView/WebEngine solution won&#39;t work with my .html files.\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.util.Date;\r\n\r\nimport javax.imageio.ImageIO;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.concurrent.Worker;\r\nimport javafx.embed.swing.SwingFXUtils;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.SnapshotParameters;\r\nimport javafx.scene.image.WritableImage;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.text.Text;\r\nimport javafx.scene.web.WebEngine;\r\nimport javafx.scene.web.WebView;\r\nimport javafx.stage.Stage;\r\n\r\npublic class HTML2PNG_JAVAFX2 extends Application {\r\n\r\n\tpublic void start(Stage primaryStage) throws Exception {\r\n\r\n\t\tURL htmlFile = null;\r\n\t\ttry {htmlFile = new File(&quot;D://myPlot.html&quot;).toURI().toURL();} catch (MalformedURLException e2) {e2.printStackTrace();}\r\n\t\tFile pngFile = new File(&quot;D://myPlot.png&quot;);          // png file I want to create\r\n\r\n\t\tSystem.out.println(&quot;Before loading web page-\t&quot;+new Date().toString());\r\n\t\tWebView webView = new WebView();\r\n\t\twebView.getEngine().load(htmlFile.toExternalForm());  // comment this out and uncomment out the next line to show that &#39;simple&#39; pages can be rendered&#39; successfully\r\n//\t\twebView.getEngine().load( &quot;http://www.stackoverflow.com/&quot; );\r\n        WebEngine webEngine = webView.getEngine();\r\n\t\tVBox vBox = new VBox();\r\n\t\tvBox.getChildren().add(new Text(&quot;Hello World&quot;));  // used so I can see something if the webView has not loaded\r\n\t\tvBox.getChildren().add(webView);\r\n\t\t\r\n\t\t// I am only using this to show that the page is loaded (successfully or not) and when\r\n        webEngine.getLoadWorker().stateProperty().addListener(new BrowserStatusChangeListener(vBox));\r\n\r\n        Stage tempStage = new Stage();\r\n\r\n\t\t// Please excuse this weird threading code and the .sleeps.  \r\n\t\t// I was trying to methodically separate the different activities into isolated code pockets to better understand what was going on\r\n\r\n\t\t// Put this in a new Thread so it is off the JavaFX Thread\r\n\t\tnew Thread(() -&gt; {\r\n\t\t\t// Delay to allow the web page to load\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(10000);\r\n\t\t\t} catch (InterruptedException e1) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// This goes back on the JavaFX Thread\r\n\t\t\tPlatform.runLater(() -&gt;{ \r\n\t\t\t\tScene scene =  new Scene(vBox);\r\n\t\t\t\ttempStage.setScene(scene);\r\n\t\t\t\tvBox.layout();\t\t\t\t\r\n\t\t\t\tvBox.requestLayout();\r\n\t\t\t\ttempStage.show(); // if this line is commented out the html will not be captured\r\n\t\t\t});\r\n\r\n\t\t\t// Delay to allow the above scene/stage code to be executed (may not be needed)\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(10000);\r\n\t\t\t} catch (InterruptedException e1) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t\t// This also goes back on the JavaFX Thread but after a 2nd delay\r\n\t\t\tPlatform.runLater(() -&gt;{ \r\n\t\t\t\tSystem.out.println(&quot;Writing... after the delay-\t&quot;+new Date().toString());\r\n\t\t\t\tWritableImage image = vBox.snapshot(new SnapshotParameters(), null);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tImageIO.write(SwingFXUtils.fromFXImage(image, null), &quot;png&quot;, pngFile);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\tif (pngFile.length() &gt; 50000) {\r\n\t\t\t\t\tSystem.out.println(&quot;Success, file size: &quot;+pngFile.length()+&quot;-\t&quot;+new Date().toString());\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tSystem.out.println(&quot;Failure, file size: &quot;+pngFile.length()+&quot;-\t&quot;+new Date().toString());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})\r\n\t\t.start();\r\n\t}\r\n\r\n\t// \r\n\tclass BrowserStatusChangeListener implements ChangeListener&lt;Worker.State&gt; {\r\n\t\t\r\n\t\tVBox vBox;\r\n\t\tpublic BrowserStatusChangeListener(VBox vBox) {\r\n\t\t\tthis.vBox = vBox;\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void changed(ObservableValue&lt;? extends Worker.State&gt; observable, Worker.State oldValue, Worker.State newValue) {\r\n\t\t\tif (newValue.equals(Worker.State.SUCCEEDED)) {\r\n\t\t\t\tSystem.out.println(&quot;Succeeded loading-\t\t&quot;+new Date().toString());\r\n\t\t\t}\r\n\t\t\telse if(newValue.equals(Worker.State.FAILED)){\r\n\t\t\t\tSystem.out.println(&quot;Failed loading-\t\t\t&quot;+new Date().toString());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tApplication.launch(args);\r\n\t}\r\n}\r\n```\r\nExplanation: A JavaFX Snapshot/WebView/WebEngine solution only works if the WebView is visible (attached to JavaFX Scene and Stage and &#39;Show()&#39;ed).  If ```tempStage.show();``` is commented out nothing can be captured.  The following unanswered question is specific to JavaFX but otherwise is the same as mine.\r\n&lt;https://stackoverflow.com/questions/30121204/javafx-how-to-create-snapshot-screenshot-of-invisble-webview&gt;.  Finally, I could not get the WebEngine to load myPlot.html correctly.  The engine reports back that it succeeded when loading myPlot.html BUT the Java Script does not appear to be executing.  This link implies you can force the JavaScript execution BUT I did not try it because of the ```tempStage.show();``` issue above.  &lt;http://tutorials.jenkov.com/javafx/webview.html#executing-javascript-from-java&gt;\r\n\r\nI think a Swing, JavaFX, or 3rd Party html rendering engine that can handle Java Script and can return a graphic image of the rendered .html WITHOUT displaying it to the screen is what I am looking for.  I don&#39;t believe my problem is ploty.js specific.\r\n\r\nMy ideal solution would look like the following:\r\n```\r\n// Sample ideal pseudo code (ignoring error handling code)\r\n\tURL htmlFile = new File(&quot;D://myPlot.html&quot;).toURI().toURL();   // local .html file (that contains JavaScript)\r\n\tFile pngFile = new File(&quot;D://myPlot.png&quot;);          // png file I want to create\r\n\tSomeWebEngine we = new SomeWebEngine(htmlFile);     // loads the .html file (but does not display it to the screen)\r\n\twe.whenLoaded(()-&gt;we.saveTo(pngFile));              // Spawns task which executes AFTER the html file is loaded, which saves the html to the png file\r\n```\r\n\r\nBonus capability: The rendered image is the minimal image size needed to contain the html plot (see sample below) AND you do not have to set that size yourself. \r\n\r\nSample plotly based &quot;plot.html&quot; file (with html &#39;div&#39; wrapper for additional text elements at the corners elements that I can&#39;t do in plotly alone):\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en-US&quot;&gt;\r\n&lt;head&gt;\r\n\t&lt;title&gt;My Plot&lt;/title&gt;\r\n\t&lt;script src=&#39;D://plotly.js&#39;&gt;&lt;/script&gt;\r\n\t&lt;!-- &lt;script src=&quot;https://cdn.plot.ly/plotly-latest.min.js&quot;&gt;&lt;/script&gt; won&#39;t work becuase I am offline --&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;div style=&quot;position:relative;&quot; id=&#39;plotDiv&#39;&gt;\r\n\t\t&lt;div id=&quot;topLeft&quot;&gt;\r\n\t\t\t&lt;p style=&quot;position:absolute;top:0;left:0;&quot;&gt;&lt;Strong&gt;Stuff plotly won&#39;t let me put inside the plot&lt;/Strong&gt;&lt;/p&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;div id=&quot;bottomRight&quot;&gt;\r\n\t\t\t&lt;p style=&quot;position:absolute;bottom:0;right:0;&quot;&gt;&lt;Strong&gt;More Stuff, different corner&lt;/Strong&gt;&lt;/p&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;script&gt;\r\n\tvar trace0 = {\r\n\t\tx: [&quot;1.0&quot;, &quot;2.0&quot;, &quot;3.0&quot;, &quot;4.0&quot;],\r\n\t\ty: [&quot;1.0&quot;, &quot;4.0&quot;, &quot;2.0&quot;, &quot;3.0&quot;],\r\n\t\tmode: &#39;lines+markers&#39;,\r\n\t\ttype: &#39;scatter&#39;,\r\n\t\tname: &#39;My Data&#39;\r\n\t};\r\n\tvar data = [trace0];\r\n\tPlotly.newPlot(&#39;plotDiv&#39;, data);\r\n&lt;/script&gt;\r\n&lt;/html&gt;\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K5hX2.png","title":"Offline (no internet) conversion of local .html file (with JavaScript) to .png file from Java without rendering it to screen","body":"<p>It has been several years with no solution, also I noticed there are new plotly python solutions for off-line image generation (<a href=\"https://plotly.com/python/static-image-export/\" rel=\"nofollow noreferrer\">https://plotly.com/python/static-image-export/</a>) - are there any such solutions for java yet?</p>\n<p>I would like to create and embed the .pngs of technical plots (based on JavaScript and plotly) into a PowerPoint presentation.  I have used JFreeChart and JafaFX plots in the past (and created .pngs with then) but now I am trying to replace those plotting technologies with plotly.  The link below says that it is not possible to embed .html directly into a PPT slide so it can be viewed without clicking on it without a 3rd party add-on (which I cannot use) which is why I am trying to change my .html (with JavaScript) plot files to .png plot files.  <a href=\"https://superuser.com/questions/1221880/how-to-embed-an-html-file-into-a-powerpoint-presentation\">https://superuser.com/questions/1221880/how-to-embed-an-html-file-into-a-powerpoint-presentation</a></p>\n<p>I regularly create a 100's of ploty .html files from java (sample below) that are saved to my local hard drive. My dev/execution environment is off-line so I need a solution I can call from Java (i.e. native or Open Source 3rd party .jar I can download &amp; use) so that I can turn these .html files (with plotly JavaScript) into .pngs.</p>\n<p>A Swing JEditorPane solution won't work with my .html files.</p>\n<pre><code>import java.awt.image.BufferedImage;\nimport java.awt.image.RenderedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport javax.imageio.ImageIO;\nimport javax.swing.JEditorPane;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class HTML2PNG_SWING {\n    public static void main(String[] args) {\n        URL htmlFile = null;\n        try {htmlFile = new File(&quot;D://myPlot.html&quot;).toURI().toURL();} catch (MalformedURLException e2) {e2.printStackTrace();}\n        File pngFile = new File(&quot;D://myPlot.png&quot;);          // png file I want to create\n\n        JEditorPane ed = null;\n        //load the webpage into the editor\n        try {ed = new JEditorPane(htmlFile);} catch (IOException e) {e.printStackTrace();}\n\n        try {   // Likely there is some callback I can use instead which can tell me when the .html file is loaded\n            Thread.sleep(10000);} catch (InterruptedException e1) {e1.printStackTrace();\n            }\n\n        // I have to put some window size here... it would be nice if the size were auto-generated based on the .html plot  \n        ed.setSize(1000,1000); \n        //create a new image\n        BufferedImage image = new BufferedImage(ed.getWidth(), ed.getHeight(),BufferedImage.TYPE_INT_ARGB);\n\n        //paint the editor onto the image\n        SwingUtilities.paintComponent(image.createGraphics(), ed, new JPanel(), 0, 0, image.getWidth(), image.getHeight());\n\n        //save the image to file\n        try {ImageIO.write((RenderedImage)image, &quot;png&quot;, pngFile);} catch (IOException e) {e.printStackTrace();\n        }      \n    }  \n} \n</code></pre>\n<p>Explanation: A Swing JEditorPane works with simple .html files without the need to render the html file to the screen.  When I try the Swing solution on my sample .html file below, the two Text divs show up (see sample below) but not the plotly div plot itself so it is likely that it is the plotly.js JavaScript the JEditorPane is having trouble with:\n<a href=\"https://www.tutorialspoint.com/swingexamples/using_jeditorpane_to_show_html.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/swingexamples/using_jeditorpane_to_show_html.htm</a></p>\n<p>A JavaFX Snapshot/WebView/WebEngine solution won't work with my .html files.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.Date;\n\nimport javax.imageio.ImageIO;\n\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.concurrent.Worker;\nimport javafx.embed.swing.SwingFXUtils;\nimport javafx.scene.Scene;\nimport javafx.scene.SnapshotParameters;\nimport javafx.scene.image.WritableImage;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.text.Text;\nimport javafx.scene.web.WebEngine;\nimport javafx.scene.web.WebView;\nimport javafx.stage.Stage;\n\npublic class HTML2PNG_JAVAFX2 extends Application {\n\n    public void start(Stage primaryStage) throws Exception {\n\n        URL htmlFile = null;\n        try {htmlFile = new File(&quot;D://myPlot.html&quot;).toURI().toURL();} catch (MalformedURLException e2) {e2.printStackTrace();}\n        File pngFile = new File(&quot;D://myPlot.png&quot;);          // png file I want to create\n\n        System.out.println(&quot;Before loading web page-    &quot;+new Date().toString());\n        WebView webView = new WebView();\n        webView.getEngine().load(htmlFile.toExternalForm());  // comment this out and uncomment out the next line to show that 'simple' pages can be rendered' successfully\n//      webView.getEngine().load( &quot;http://www.stackoverflow.com/&quot; );\n        WebEngine webEngine = webView.getEngine();\n        VBox vBox = new VBox();\n        vBox.getChildren().add(new Text(&quot;Hello World&quot;));  // used so I can see something if the webView has not loaded\n        vBox.getChildren().add(webView);\n        \n        // I am only using this to show that the page is loaded (successfully or not) and when\n        webEngine.getLoadWorker().stateProperty().addListener(new BrowserStatusChangeListener(vBox));\n\n        Stage tempStage = new Stage();\n\n        // Please excuse this weird threading code and the .sleeps.  \n        // I was trying to methodically separate the different activities into isolated code pockets to better understand what was going on\n\n        // Put this in a new Thread so it is off the JavaFX Thread\n        new Thread(() -&gt; {\n            // Delay to allow the web page to load\n            try {\n                Thread.sleep(10000);\n            } catch (InterruptedException e1) {\n                // TODO Auto-generated catch block\n                e1.printStackTrace();\n            }\n            \n            // This goes back on the JavaFX Thread\n            Platform.runLater(() -&gt;{ \n                Scene scene =  new Scene(vBox);\n                tempStage.setScene(scene);\n                vBox.layout();              \n                vBox.requestLayout();\n                tempStage.show(); // if this line is commented out the html will not be captured\n            });\n\n            // Delay to allow the above scene/stage code to be executed (may not be needed)\n            try {\n                Thread.sleep(10000);\n            } catch (InterruptedException e1) {\n                // TODO Auto-generated catch block\n                e1.printStackTrace();\n            }\n\n            // This also goes back on the JavaFX Thread but after a 2nd delay\n            Platform.runLater(() -&gt;{ \n                System.out.println(&quot;Writing... after the delay- &quot;+new Date().toString());\n                WritableImage image = vBox.snapshot(new SnapshotParameters(), null);\n                try {\n                    ImageIO.write(SwingFXUtils.fromFXImage(image, null), &quot;png&quot;, pngFile);\n                } catch (IOException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n                if (pngFile.length() &gt; 50000) {\n                    System.out.println(&quot;Success, file size: &quot;+pngFile.length()+&quot;-   &quot;+new Date().toString());\n                }\n                else {\n                    System.out.println(&quot;Failure, file size: &quot;+pngFile.length()+&quot;-   &quot;+new Date().toString());\n                }\n            });\n        })\n        .start();\n    }\n\n    // \n    class BrowserStatusChangeListener implements ChangeListener&lt;Worker.State&gt; {\n        \n        VBox vBox;\n        public BrowserStatusChangeListener(VBox vBox) {\n            this.vBox = vBox;\n        }\n        @Override\n        public void changed(ObservableValue&lt;? extends Worker.State&gt; observable, Worker.State oldValue, Worker.State newValue) {\n            if (newValue.equals(Worker.State.SUCCEEDED)) {\n                System.out.println(&quot;Succeeded loading-      &quot;+new Date().toString());\n            }\n            else if(newValue.equals(Worker.State.FAILED)){\n                System.out.println(&quot;Failed loading-         &quot;+new Date().toString());\n            }\n        }\n\n    }\n\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n}\n</code></pre>\n<p>Explanation: A JavaFX Snapshot/WebView/WebEngine solution only works if the WebView is visible (attached to JavaFX Scene and Stage and 'Show()'ed).  If <code>tempStage.show();</code> is commented out nothing can be captured.  The following unanswered question is specific to JavaFX but otherwise is the same as mine.\n<a href=\"https://stackoverflow.com/questions/30121204/javafx-how-to-create-snapshot-screenshot-of-invisble-webview\">JavaFX - How to create SnapShot/Screenshot of (invisble) WebView</a>.  Finally, I could not get the WebEngine to load myPlot.html correctly.  The engine reports back that it succeeded when loading myPlot.html BUT the Java Script does not appear to be executing.  This link implies you can force the JavaScript execution BUT I did not try it because of the <code>tempStage.show();</code> issue above.  <a href=\"http://tutorials.jenkov.com/javafx/webview.html#executing-javascript-from-java\" rel=\"nofollow noreferrer\">http://tutorials.jenkov.com/javafx/webview.html#executing-javascript-from-java</a></p>\n<p>I think a Swing, JavaFX, or 3rd Party html rendering engine that can handle Java Script and can return a graphic image of the rendered .html WITHOUT displaying it to the screen is what I am looking for.  I don't believe my problem is ploty.js specific.</p>\n<p>My ideal solution would look like the following:</p>\n<pre><code>// Sample ideal pseudo code (ignoring error handling code)\n    URL htmlFile = new File(&quot;D://myPlot.html&quot;).toURI().toURL();   // local .html file (that contains JavaScript)\n    File pngFile = new File(&quot;D://myPlot.png&quot;);          // png file I want to create\n    SomeWebEngine we = new SomeWebEngine(htmlFile);     // loads the .html file (but does not display it to the screen)\n    we.whenLoaded(()-&gt;we.saveTo(pngFile));              // Spawns task which executes AFTER the html file is loaded, which saves the html to the png file\n</code></pre>\n<p>Bonus capability: The rendered image is the minimal image size needed to contain the html plot (see sample below) AND you do not have to set that size yourself.</p>\n<p>Sample plotly based &quot;plot.html&quot; file (with html 'div' wrapper for additional text elements at the corners elements that I can't do in plotly alone):</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en-US&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;My Plot&lt;/title&gt;\n    &lt;script src='D://plotly.js'&gt;&lt;/script&gt;\n    &lt;!-- &lt;script src=&quot;https://cdn.plot.ly/plotly-latest.min.js&quot;&gt;&lt;/script&gt; won't work becuase I am offline --&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div style=&quot;position:relative;&quot; id='plotDiv'&gt;\n        &lt;div id=&quot;topLeft&quot;&gt;\n            &lt;p style=&quot;position:absolute;top:0;left:0;&quot;&gt;&lt;Strong&gt;Stuff plotly won't let me put inside the plot&lt;/Strong&gt;&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div id=&quot;bottomRight&quot;&gt;\n            &lt;p style=&quot;position:absolute;bottom:0;right:0;&quot;&gt;&lt;Strong&gt;More Stuff, different corner&lt;/Strong&gt;&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;script&gt;\n    var trace0 = {\n        x: [&quot;1.0&quot;, &quot;2.0&quot;, &quot;3.0&quot;, &quot;4.0&quot;],\n        y: [&quot;1.0&quot;, &quot;4.0&quot;, &quot;2.0&quot;, &quot;3.0&quot;],\n        mode: 'lines+markers',\n        type: 'scatter',\n        name: 'My Data'\n    };\n    var data = [trace0];\n    Plotly.newPlot('plotDiv', data);\n&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/K5hX2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K5hX2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","multithreading","intellij-idea","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1661436302,"creation_date":1661436302,"answer_id":73488979,"question_id":73488468,"body_markdown":"The reactive process is contrary to the norm. You cannot use blocking elements here! With Tomcat, it creates a separate thread for each request so that the topic can be blocked. Reactive Netty will NOT create a new thread, just uses a fixed pool. \r\n\r\nWith the loose approach, you can think that if a process is waiting for a response, it gives the resource of that thread to another. If you block it, it won&#39;t be able to do that. Therefore, even with a single-threaded Netty, it can handle to serve multiple parallel requests.\r\nTherefore, thread-based data storage also does not work properly, because another process can interfere or modify it. Therefore, reactive context is available instead.\r\n\r\nThere is a article to reactive transaction. I don&#39;t know it will be solution for you:\r\nhttps://itnext.io/integrating-hibernate-reactive-with-spring-5427440607fe ","title":"Possibly blocking call in non-blocking context could lead to thread starvation. Why?","body":"<p>The reactive process is contrary to the norm. You cannot use blocking elements here! With Tomcat, it creates a separate thread for each request so that the topic can be blocked. Reactive Netty will NOT create a new thread, just uses a fixed pool.</p>\n<p>With the loose approach, you can think that if a process is waiting for a response, it gives the resource of that thread to another. If you block it, it won't be able to do that. Therefore, even with a single-threaded Netty, it can handle to serve multiple parallel requests.\nTherefore, thread-based data storage also does not work properly, because another process can interfere or modify it. Therefore, reactive context is available instead.</p>\n<p>There is a article to reactive transaction. I don't know it will be solution for you:\n<a href=\"https://itnext.io/integrating-hibernate-reactive-with-spring-5427440607fe\" rel=\"nofollow noreferrer\">https://itnext.io/integrating-hibernate-reactive-with-spring-5427440607fe</a></p>\n"}],"owner":{"account_id":16189468,"reputation":804,"user_id":11688668,"display_name":"Ilya Y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10433,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1695312070,"creation_date":1661434398,"question_id":73488468,"body_markdown":"I have such a controller and such a service class. Why am I getting this warning in IDEA - &quot;`Possibly blocking call in non-blocking context could lead to thread starvation`&quot; ?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    @PostMapping(value = {&quot;/create&quot;})\r\n    public Mono&lt;ResponseEntity&lt;ResponseDto&gt;&gt; create(\r\n            @RequestBody RequestDto request) {\r\n        ResponseDto result = service.create(request);\r\n        return Mono.just(ResponseEntity.ok(result));\r\n    }\r\n\r\n    @Transactional\r\n    public ResponseDto create(RequestDto request) {\r\n        taskRepository.save(request);\r\n        return new ResponseDto(&quot;Ок&quot;);\r\n    }\r\n\r\nThis is apparently caused by the `@Transactional` annotation. When I remove it, the warning disappears. What is this problem and how can it be fixed?\r\n\r\np.s. this example is schematic. the real code is bigger.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Urxp6.png\r\n  [2]: https://i.stack.imgur.com/2PkCU.png","title":"Possibly blocking call in non-blocking context could lead to thread starvation. Why?","body":"<p>I have such a controller and such a service class. Why am I getting this warning in IDEA - &quot;<code>Possibly blocking call in non-blocking context could lead to thread starvation</code>&quot; ?</p>\n<p><a href=\"https://i.stack.imgur.com/Urxp6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Urxp6.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>@PostMapping(value = {&quot;/create&quot;})\npublic Mono&lt;ResponseEntity&lt;ResponseDto&gt;&gt; create(\n        @RequestBody RequestDto request) {\n    ResponseDto result = service.create(request);\n    return Mono.just(ResponseEntity.ok(result));\n}\n\n@Transactional\npublic ResponseDto create(RequestDto request) {\n    taskRepository.save(request);\n    return new ResponseDto(&quot;Ок&quot;);\n}\n</code></pre>\n<p>This is apparently caused by the <code>@Transactional</code> annotation. When I remove it, the warning disappears. What is this problem and how can it be fixed?</p>\n<p>p.s. this example is schematic. the real code is bigger.</p>\n"},{"tags":["java","pac4j"],"answers":[{"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695311837,"creation_date":1695311837,"answer_id":77151851,"question_id":77150900,"body_markdown":"You are fully right. There was an issue.\r\n\r\nUsing singletons is not generally the best practice so I removed it.\r\n\r\nIn plain JEE, it is still necessary though so the singleton is back in the `ConfigFactory` this time. It&#39;s fixed by this commit: https://github.com/pac4j/jee-pac4j-demo/commit/810da2c224f18f4a7bc44e1f34993cf992ddaf9b","title":"INSTANCE singleton missing","body":"<p>You are fully right. There was an issue.</p>\n<p>Using singletons is not generally the best practice so I removed it.</p>\n<p>In plain JEE, it is still necessary though so the singleton is back in the <code>ConfigFactory</code> this time. It's fixed by this commit: <a href=\"https://github.com/pac4j/jee-pac4j-demo/commit/810da2c224f18f4a7bc44e1f34993cf992ddaf9b\" rel=\"nofollow noreferrer\">https://github.com/pac4j/jee-pac4j-demo/commit/810da2c224f18f4a7bc44e1f34993cf992ddaf9b</a></p>\n"}],"owner":{"account_id":22418943,"reputation":39,"user_id":16626558,"display_name":"Impatient Hippo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77151851,"answer_count":1,"score":0,"last_activity_date":1695311837,"creation_date":1695304176,"question_id":77150900,"body_markdown":"I would like to add SSO functionalty to an existing Webapp and I am\r\ntrying to use pac4j for that. I downloaded the jee-jac4j-demo and\r\nI am running in errors all over the place which all point to missing\r\nstatic fields called &quot;INSTANCE&quot;\r\n\r\nFor example:\r\n\r\n  src/main/webapp/loginForm.jsp line 5:\r\n```\r\n  FormClient formClient = (FormClient) Config.INSTANCE.getClients().findClient(&quot;FormClient&quot;).get();\r\n```\r\n\r\n  gives me the error:\r\n\r\n```\r\nUnable to compile class for JSP: \r\n\r\nAn error occurred at line: [5] in the jsp file: [/loginForm.jsp]\r\nINSTANCE cannot be resolved or is not a field\r\n5: \tFormClient formClient = (FormClient) Config.INSTANCE.getClients().findClient(&quot;FormClient&quot;).get();\r\n```\r\n\r\nAccording the javadocs this field went away around version 6.0.0-RC2.\r\n\r\nSo here my questions:\r\n\r\n* Is there a documentation/migration guide of the changes between 5.7.x and 6.0.x?\r\n* What is the stand-in replacement for INSTANCE?\r\n* Can this be fixed by altering the pom.xml? I tried to guess an alder version pac4j-code=5.7.0 jee-pac4j=7.1.0 but then I found this code inside ForceLoginFilter:\r\n\r\n```\r\naction = client.getRedirectionAction(new CallContext(context, JEESessionStore.INSTANCE)).get();\r\n```\r\n\r\nCallContext only seems to exist in pac4j 6.0, but JEESessionStore.INSTANCE is gone there?!","title":"INSTANCE singleton missing","body":"<p>I would like to add SSO functionalty to an existing Webapp and I am\ntrying to use pac4j for that. I downloaded the jee-jac4j-demo and\nI am running in errors all over the place which all point to missing\nstatic fields called &quot;INSTANCE&quot;</p>\n<p>For example:</p>\n<p>src/main/webapp/loginForm.jsp line 5:</p>\n<pre><code>  FormClient formClient = (FormClient) Config.INSTANCE.getClients().findClient(&quot;FormClient&quot;).get();\n</code></pre>\n<p>gives me the error:</p>\n<pre><code>Unable to compile class for JSP: \n\nAn error occurred at line: [5] in the jsp file: [/loginForm.jsp]\nINSTANCE cannot be resolved or is not a field\n5:  FormClient formClient = (FormClient) Config.INSTANCE.getClients().findClient(&quot;FormClient&quot;).get();\n</code></pre>\n<p>According the javadocs this field went away around version 6.0.0-RC2.</p>\n<p>So here my questions:</p>\n<ul>\n<li>Is there a documentation/migration guide of the changes between 5.7.x and 6.0.x?</li>\n<li>What is the stand-in replacement for INSTANCE?</li>\n<li>Can this be fixed by altering the pom.xml? I tried to guess an alder version pac4j-code=5.7.0 jee-pac4j=7.1.0 but then I found this code inside ForceLoginFilter:</li>\n</ul>\n<pre><code>action = client.getRedirectionAction(new CallContext(context, JEESessionStore.INSTANCE)).get();\n</code></pre>\n<p>CallContext only seems to exist in pac4j 6.0, but JEESessionStore.INSTANCE is gone there?!</p>\n"},{"tags":["java","inline","ternary"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":6,"creation_date":1623079178,"post_id":31412294,"comment_id":119970242,"body_markdown":"`System.getProperty(&quot;XYZ&quot;, &quot;default&quot;)`","body":"<code>System.getProperty(&quot;XYZ&quot;, &quot;default&quot;)</code>"}],"answers":[{"comments":[{"owner":{"account_id":5968065,"reputation":14213,"user_id":4691279,"accept_rate":58,"display_name":"hagrawal7777"},"score":0,"creation_date":1436892647,"post_id":31412362,"comment_id":50798445,"body_markdown":"@fge Lets say it is not case of System.getProperty() but some method which doesn&#39;t have this extra parameter for default value. Then trick will work, it is scalable.","body":"@fge Lets say it is not case of System.getProperty() but some method which doesn&#39;t have this extra parameter for default value. Then trick will work, it is scalable."},{"owner":{"account_id":2927858,"reputation":1283,"user_id":2508829,"accept_rate":71,"display_name":"Cam1989"},"score":0,"creation_date":1436946994,"post_id":31412362,"comment_id":50820744,"body_markdown":"How did I make this so complicated!? Thank you very much! I have used the getValueOrDefault() method. Great answer.","body":"How did I make this so complicated!? Thank you very much! I have used the getValueOrDefault() method. Great answer."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":2,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1436891473,"creation_date":1436891473,"answer_id":31412362,"question_id":31412294,"body_markdown":"Sounds like you probably want a simple method like this:\r\n\r\n    public String getValueOrDefault(String value, String defaultValue) {\r\n        return isNotNullOrEmpty(value) ? value : defaultValue;\r\n    }\r\n\r\nThen:\r\n\r\n    String result = getValueOrDefault(System.getProperty(&quot;XYZ&quot;), &quot;default&quot;);\r\n\r\nAt this point, you don&#39;t *need* `temp`... you&#39;ve effectively used the method parameter as a way of initializing the temporary variable.\r\n\r\nIf you *really* want `temp` and you don&#39;t want an extra method, you *can* do it in one statement, but I really wouldn&#39;t:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            String temp, result = isNotNullOrEmpty(temp = System.getProperty(&quot;XYZ&quot;)) ? temp : &quot;default&quot;;\r\n            System.out.println(&quot;result: &quot; + result);\r\n            System.out.println(&quot;temp: &quot; + temp);\r\n        }\r\n    \r\n        private static boolean isNotNullOrEmpty(String str) {\r\n            return str != null &amp;&amp; !str.isEmpty();\r\n        }\r\n    }","title":"Java - Check Not Null/Empty else assign default value","body":"<p>Sounds like you probably want a simple method like this:</p>\n\n<pre><code>public String getValueOrDefault(String value, String defaultValue) {\n    return isNotNullOrEmpty(value) ? value : defaultValue;\n}\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>String result = getValueOrDefault(System.getProperty(\"XYZ\"), \"default\");\n</code></pre>\n\n<p>At this point, you don't <em>need</em> <code>temp</code>... you've effectively used the method parameter as a way of initializing the temporary variable.</p>\n\n<p>If you <em>really</em> want <code>temp</code> and you don't want an extra method, you <em>can</em> do it in one statement, but I really wouldn't:</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        String temp, result = isNotNullOrEmpty(temp = System.getProperty(\"XYZ\")) ? temp : \"default\";\n        System.out.println(\"result: \" + result);\n        System.out.println(\"temp: \" + temp);\n    }\n\n    private static boolean isNotNullOrEmpty(String str) {\n        return str != null &amp;&amp; !str.isEmpty();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4064553,"reputation":192,"user_id":3339997,"accept_rate":86,"display_name":"Ryan Burbidge"},"score":39,"creation_date":1563487017,"post_id":31412469,"comment_id":100727236,"body_markdown":"Optionals should not be created for flow control within a method. This is called out as an anti-pattern by the developers who built Optional. https://www.youtube.com/watch?amp=&amp;v=Ej0sss6cq14","body":"Optionals should not be created for flow control within a method. This is called out as an anti-pattern by the developers who built Optional. <a href=\"https://www.youtube.com/watch?amp=&amp;v=Ej0sss6cq14\" rel=\"nofollow noreferrer\">youtube.com/watch?amp=&amp;v=Ej0sss6cq14</a>"},{"owner":{"account_id":2453179,"reputation":1066,"user_id":2138953,"accept_rate":83,"display_name":"PAX"},"score":9,"creation_date":1570614183,"post_id":31412469,"comment_id":102965176,"body_markdown":"@RyanBurbidge, and the reason: You unnecessarily create an object in your simple method (Optional object).","body":"@RyanBurbidge, and the reason: You unnecessarily create an object in your simple method (Optional object)."},{"owner":{"account_id":3400423,"reputation":869,"user_id":2852752,"display_name":"brunch875"},"score":0,"creation_date":1611853656,"post_id":31412469,"comment_id":116590447,"body_markdown":"@PAX, if that&#39;s the only reason you can avoid it by using `Optional::orElseGet` instead. I personally prefer the ternary operator since it&#39;s just as lazy and shorter.","body":"@PAX, if that&#39;s the only reason you can avoid it by using <code>Optional::orElseGet</code> instead. I personally prefer the ternary operator since it&#39;s just as lazy and shorter."},{"owner":{"account_id":5808889,"reputation":318,"user_id":4580663,"accept_rate":75,"display_name":"Pavel"},"score":1,"creation_date":1613459327,"post_id":31412469,"comment_id":117074113,"body_markdown":"@RyanBurbidge, nice reference, thanks!\nRelevant part of the video: 27:44 - 30:00","body":"@RyanBurbidge, nice reference, thanks! Relevant part of the video: 27:44 - 30:00"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1623078332,"post_id":31412469,"comment_id":119969833,"body_markdown":"@Q8i of course, if you make an operation unnecessarily complicated, you want to max it out. As otherwise, you could simply use `System.getProperty(&quot;property&quot;, defaultValue)` that does the job without additional syntactic constructs.","body":"@Q8i of course, if you make an operation unnecessarily complicated, you want to max it out. As otherwise, you could simply use <code>System.getProperty(&quot;property&quot;, defaultValue)</code> that does the job without additional syntactic constructs."},{"owner":{"account_id":249844,"reputation":2343,"user_id":526189,"accept_rate":91,"display_name":"rendon"},"score":0,"creation_date":1635542628,"post_id":31412469,"comment_id":123335703,"body_markdown":"I don&#39;t know why this solution is so popular, it&#39;s quite verbose.","body":"I don&#39;t know why this solution is so popular, it&#39;s quite verbose."}],"tags":[],"owner":{"account_id":90063,"reputation":9824,"user_id":248082,"accept_rate":64,"display_name":"nobeh"},"comment_count":6,"down_vote_count":9,"up_vote_count":111,"is_accepted":false,"score":102,"last_activity_date":1521651900,"creation_date":1436891784,"answer_id":31412469,"question_id":31412294,"body_markdown":"Use Java 8 [`Optional`][1] (no filter needed):\r\n\r\n    public static String orElse(String defaultValue) {\r\n      return Optional.ofNullable(System.getProperty(&quot;property&quot;)).orElse(defaultValue);\r\n    }\r\n\r\n\r\n[1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html","title":"Java - Check Not Null/Empty else assign default value","body":"<p>Use Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"noreferrer\"><code>Optional</code></a> (no filter needed):</p>\n\n<pre><code>public static String orElse(String defaultValue) {\n  return Optional.ofNullable(System.getProperty(\"property\")).orElse(defaultValue);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"score":3,"creation_date":1647034264,"post_id":39444848,"comment_id":126279980,"body_markdown":"There is also `StringUtils.defaultIfBlank` to provide a default if the string is null or blank (e.g. contains spaces only) : `result = StringUtils.defaultIfBlank(emptyString, &quot;default&quot;);`.","body":"There is also <code>StringUtils.defaultIfBlank</code> to provide a default if the string is null or blank (e.g. contains spaces only) : <code>result = StringUtils.defaultIfBlank(emptyString, &quot;default&quot;);</code>."}],"tags":[],"owner":{"account_id":6196766,"reputation":1221,"user_id":4827834,"accept_rate":83,"display_name":"zalis"},"comment_count":1,"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1473663469,"creation_date":1473663469,"answer_id":39444848,"question_id":31412294,"body_markdown":"Use org.apache.commons.lang3.StringUtils\n\n    String emptyString = new String();    \n    result = StringUtils.defaultIfEmpty(emptyString, &quot;default&quot;);\n    System.out.println(result);\n\n    String nullString = null;\n    result = StringUtils.defaultIfEmpty(nullString, &quot;default&quot;);\n    System.out.println(result);\n\nBoth of the above options will print:\n\n&gt; default\n&gt;\n&gt; default","title":"Java - Check Not Null/Empty else assign default value","body":"<p>Use org.apache.commons.lang3.StringUtils</p>\n<pre><code>String emptyString = new String();    \nresult = StringUtils.defaultIfEmpty(emptyString, &quot;default&quot;);\nSystem.out.println(result);\n\nString nullString = null;\nresult = StringUtils.defaultIfEmpty(nullString, &quot;default&quot;);\nSystem.out.println(result);\n</code></pre>\n<p>Both of the above options will print:</p>\n<blockquote>\n<p>default</p>\n<p>default</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":2927858,"reputation":1283,"user_id":2508829,"accept_rate":71,"display_name":"Cam1989"},"score":0,"creation_date":1497890027,"post_id":44616951,"comment_id":76257037,"body_markdown":"Thanks shibashis. I still use this code and have a method for lots of object types! I will try with generics instead to simplify the code. Thank you","body":"Thanks shibashis. I still use this code and have a method for lots of object types! I will try with generics instead to simplify the code. Thank you"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1497937172,"post_id":44616951,"comment_id":76274394,"body_markdown":"@Cam1989: This doesn&#39;t answer the question you asked though, because it doesn&#39;t handle empty strings... it only deals with the value being `null`, not empty... if that&#39;s what you wanted, that&#39;s what you should have asked. This is a perfectly good solution to a different problem, but it *is* a solution to a different problem...","body":"@Cam1989: This doesn&#39;t answer the question you asked though, because it doesn&#39;t handle empty strings... it only deals with the value being <code>null</code>, not empty... if that&#39;s what you wanted, that&#39;s what you should have asked. This is a perfectly good solution to a different problem, but it <i>is</i> a solution to a different problem..."},{"owner":{"account_id":1567911,"reputation":988,"user_id":1456285,"display_name":"Steve Goossens"},"score":0,"creation_date":1513102987,"post_id":44616951,"comment_id":82519439,"body_markdown":"it would meet the empty requirement by replacing &quot;value == null&quot; with &quot;isNotNullOrEmpty(value)&quot; and switching value and defaultValue in the ternary responses","body":"it would meet the empty requirement by replacing &quot;value == null&quot; with &quot;isNotNullOrEmpty(value)&quot; and switching value and defaultValue in the ternary responses"},{"owner":{"account_id":3400423,"reputation":869,"user_id":2852752,"display_name":"brunch875"},"score":1,"creation_date":1611853474,"post_id":44616951,"comment_id":116590350,"body_markdown":"Careful! While the ternary operator itself is lazy, this solution isn&#39;t!\nWhich means a call to `myThing = getValueOrDefault(thing, new Thing());` will create and discard that `new Thing()` if `thing` is not null.\nYou may want to adapt this function to take a lambda instead so you may do `getValueOrDefault(thing, Thing::new)` instead.","body":"Careful! While the ternary operator itself is lazy, this solution isn&#39;t! Which means a call to <code>myThing = getValueOrDefault(thing, new Thing());</code> will create and discard that <code>new Thing()</code> if <code>thing</code> is not null. You may want to adapt this function to take a lambda instead so you may do <code>getValueOrDefault(thing, Thing::new)</code> instead."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":7,"creation_date":1623079030,"post_id":44616951,"comment_id":119970169,"body_markdown":"@brunch875 Since Java&#160;9, this functionality exist as standard API method: [`Objects.requireNonNullElse(T obj, T defaultObj)`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Objects.html#requireNonNullElse(T,T)), including a variant with lazy construction of the fallback, [`Objects.requireNonNullElseGet(T obj, Supplier&lt;? extends T&gt; supplier)`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Objects.html#requireNonNullElseGet(T,java.util.function.Supplier)).","body":"@brunch875 Since Java 9, this functionality exist as standard API method: <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Objects.html#requireNonNullElse(T,T)\" rel=\"nofollow noreferrer\"><code>Objects.requireNonNullElse(T obj, T defaultObj)</code></a>, including a variant with lazy construction of the fallback, <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Objects.html#requireNonNullElseGet(T,java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>Objects.requireNonNullElseGet(T obj, Supplier&lt;? extends T&gt; supplier)</code></a>."},{"owner":{"account_id":188555,"reputation":6379,"user_id":427321,"accept_rate":71,"display_name":"Bal&#225;zs N&#233;meth"},"score":0,"creation_date":1694163660,"post_id":44616951,"comment_id":135858175,"body_markdown":"not exactly, default value has to be non-null in the JDK version.","body":"not exactly, default value has to be non-null in the JDK version."}],"tags":[],"owner":{"account_id":4757741,"reputation":8173,"user_id":3846053,"display_name":"Shibashis"},"comment_count":6,"down_vote_count":1,"up_vote_count":79,"is_accepted":false,"score":78,"last_activity_date":1521651869,"creation_date":1497802213,"answer_id":44616951,"question_id":31412294,"body_markdown":"I know the question is really old, but with generics one can add a more generalized method with will work for all types.\r\n\r\n    public static &lt;T&gt; T getValueOrDefault(T value, T defaultValue) {\r\n        return value == null ? defaultValue : value;\r\n    }\r\n","title":"Java - Check Not Null/Empty else assign default value","body":"<p>I know the question is really old, but with generics one can add a more generalized method with will work for all types.</p>\n\n<pre><code>public static &lt;T&gt; T getValueOrDefault(T value, T defaultValue) {\n    return value == null ? defaultValue : value;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4864939,"reputation":1044,"user_id":3923525,"accept_rate":80,"display_name":"jmm"},"score":0,"creation_date":1592492991,"post_id":52702027,"comment_id":110451218,"body_markdown":"This checks for `null`, but not for empty Strings. It&#39;s better to use `StringUtils.defaultIfBlank` instead","body":"This checks for <code>null</code>, but not for empty Strings. It&#39;s better to use <code>StringUtils.defaultIfBlank</code> instead"}],"tags":[],"owner":{"account_id":5215471,"reputation":4961,"user_id":4170582,"accept_rate":91,"display_name":"Tarik"},"comment_count":1,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1539000794,"creation_date":1539000794,"answer_id":52702027,"question_id":31412294,"body_markdown":"You can use this method in the `ObjectUtils` class from [org.apache.commons.lang3][1] library :\r\n\r\n    public static &lt;T&gt; T defaultIfNull(T object, T defaultValue)\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ObjectUtils.html#defaultIfNull(T,%20T)","title":"Java - Check Not Null/Empty else assign default value","body":"<p>You can use this method in the <code>ObjectUtils</code> class from <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ObjectUtils.html#defaultIfNull(T,%20T)\" rel=\"noreferrer\">org.apache.commons.lang3</a> library :</p>\n\n<pre><code>public static &lt;T&gt; T defaultIfNull(T object, T defaultValue)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3533121,"reputation":1545,"user_id":2952093,"accept_rate":88,"display_name":"kap"},"score":1,"creation_date":1615383770,"post_id":58879379,"comment_id":117673323,"body_markdown":"Great method, finally we got it. It&#39;s a shame it does not do automatic `int` to `long` casting.","body":"Great method, finally we got it. It&#39;s a shame it does not do automatic <code>int</code> to <code>long</code> casting."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695312698,"post_id":58879379,"comment_id":136010742,"body_markdown":"but be aware that this method will throw a NPE if both arguments are `null` (can be desired, or not)","body":"but be aware that this method will throw a NPE if both arguments are <code>null</code> (can be desired, or not)"},{"owner":{"account_id":5296535,"reputation":169,"user_id":4227570,"display_name":"Sebastian Forza"},"score":0,"creation_date":1699614877,"post_id":58879379,"comment_id":136557250,"body_markdown":"&#39;Objects.requireNonNullElse&#39; is a good method for the null-case, but it doesn&#39;t consider the empty case like the questioner mentioned. I&#39;d suggest the StringUtils.defaultIfBlank() or defaultIfEmpty() method from apache commons. If you want to check even more objects before the default is applied you could use: StringUtils.firstNonEmpty() or firstNonBlank() (ie. &quot;StringUtils.firstNonEmpty(System.getProperty(&quot;XYZ&quot;), System.getProperty(&quot;ABC&quot;), &quot;default&quot;)&quot;","body":"&#39;Objects.requireNonNullElse&#39; is a good method for the null-case, but it doesn&#39;t consider the empty case like the questioner mentioned. I&#39;d suggest the StringUtils.defaultIfBlank() or defaultIfEmpty() method from apache commons. If you want to check even more objects before the default is applied you could use: StringUtils.firstNonEmpty() or firstNonBlank() (ie. &quot;StringUtils.firstNonEmpty(System.getProperty(&quot;XYZ&quot;), System.getProperty(&quot;ABC&quot;), &quot;default&quot;)&quot;"}],"tags":[],"owner":{"account_id":5624104,"reputation":1479,"user_id":4453055,"accept_rate":25,"display_name":"AK4647"},"comment_count":3,"down_vote_count":1,"up_vote_count":128,"is_accepted":true,"score":127,"last_activity_date":1660275658,"creation_date":1573829125,"answer_id":58879379,"question_id":31412294,"body_markdown":"If using JDK 9 +, use Objects.requireNonNullElse(T obj, T defaultObj)","title":"Java - Check Not Null/Empty else assign default value","body":"<p>If using JDK 9 +, use Objects.requireNonNullElse(T obj, T defaultObj)</p>\n"},{"tags":[],"owner":{"account_id":5426010,"reputation":1104,"user_id":4318240,"accept_rate":60,"display_name":"lights"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1576380075,"creation_date":1576380075,"answer_id":59340975,"question_id":31412294,"body_markdown":"With guava you can use \r\n\r\n    MoreObjects.firstNonNull(possiblyNullString, defaultValue);","title":"Java - Check Not Null/Empty else assign default value","body":"<p>With guava you can use </p>\n\n<pre><code>MoreObjects.firstNonNull(possiblyNullString, defaultValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1591122682,"creation_date":1591122323,"answer_id":62158839,"question_id":31412294,"body_markdown":"This is the best solution IMHO.   It covers BOTH `null` and `empty` scenario, as is easy to understand when reading the code.   All you need to know is that `.getProperty` returns a `null` when system prop is not set:\r\n\r\n    String DEFAULT_XYZ = System.getProperty(&quot;user.home&quot;) + &quot;/xyz&quot;;\r\n    String PROP = Optional.ofNullable(System.getProperty(&quot;XYZ&quot;))\r\n            .filter(s -&gt; !s.isEmpty())\r\n            .orElse(DEFAULT_XYZ);","title":"Java - Check Not Null/Empty else assign default value","body":"<p>This is the best solution IMHO.   It covers BOTH <code>null</code> and <code>empty</code> scenario, as is easy to understand when reading the code.   All you need to know is that <code>.getProperty</code> returns a <code>null</code> when system prop is not set:</p>\n\n<pre><code>String DEFAULT_XYZ = System.getProperty(\"user.home\") + \"/xyz\";\nString PROP = Optional.ofNullable(System.getProperty(\"XYZ\"))\n        .filter(s -&gt; !s.isEmpty())\n        .orElse(DEFAULT_XYZ);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1603984504,"creation_date":1603984504,"answer_id":64594015,"question_id":31412294,"body_markdown":"In Java 9, if you have an object which has another object as property and that nested objects has a method yielding a string, then you can use this construct to return an empty string if the embeded object is null :\r\n\r\n    String label = Optional.ofNullable(org.getDiffusion()).map(Diffusion::getLabel).orElse(&quot;&quot;)\r\n\r\nIn this example :\r\n\r\n - `org` is an instance of an object of type `Organism` \r\n - `Organism` has a `Diffusion` property (another object) \r\n - `Diffusion` has a `String label` property (and `getLabel()` getter).\r\n\r\nWith this example, if `org.getDiffusion()` is not null, then it returns the `getLabel` property of its `Diffusion` object (this returns a `String`).  Otherwise, it returns an empty string.","title":"Java - Check Not Null/Empty else assign default value","body":"<p>In Java 9, if you have an object which has another object as property and that nested objects has a method yielding a string, then you can use this construct to return an empty string if the embeded object is null :</p>\n<pre><code>String label = Optional.ofNullable(org.getDiffusion()).map(Diffusion::getLabel).orElse(&quot;&quot;)\n</code></pre>\n<p>In this example :</p>\n<ul>\n<li><code>org</code> is an instance of an object of type <code>Organism</code></li>\n<li><code>Organism</code> has a <code>Diffusion</code> property (another object)</li>\n<li><code>Diffusion</code> has a <code>String label</code> property (and <code>getLabel()</code> getter).</li>\n</ul>\n<p>With this example, if <code>org.getDiffusion()</code> is not null, then it returns the <code>getLabel</code> property of its <code>Diffusion</code> object (this returns a <code>String</code>).  Otherwise, it returns an empty string.</p>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695312512,"post_id":71677085,"comment_id":136010710,"body_markdown":"a bit more *complicated* than just `return input != null ? input : defaultValue;` and even worse than this [answer](https://stackoverflow.com/a/31412469/85421) (check the comments, mainly about anti-pattern) - it is creating an additional object (instance of `Optional`)","body":"a bit more <i>complicated</i> than just <code>return input != null ? input : defaultValue;</code> and even worse than this <a href=\"https://stackoverflow.com/a/31412469/85421\">answer</a> (check the comments, mainly about anti-pattern) - it is creating an additional object (instance of <code>Optional</code>)"}],"tags":[],"owner":{"account_id":10142598,"reputation":1505,"user_id":7491845,"display_name":"Andrii Chertok"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1687217914,"creation_date":1648642673,"answer_id":71677085,"question_id":31412294,"body_markdown":"If you need to set not null value or return default value instead you can use simple generic method\r\n\r\n    private &lt;T&gt; T getIfNotNullOrElse(T input, T defaultValue) {\r\n       return Optional.ofNullable(input).orElse(defaultValue);\r\n    }","title":"Java - Check Not Null/Empty else assign default value","body":"<p>If you need to set not null value or return default value instead you can use simple generic method</p>\n<pre><code>private &lt;T&gt; T getIfNotNullOrElse(T input, T defaultValue) {\n   return Optional.ofNullable(input).orElse(defaultValue);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695312880,"post_id":77151797,"comment_id":136010789,"body_markdown":"readability decrease just to avoid a local variable or, not even that, to avoid one additional line of code/statement","body":"readability decrease just to avoid a local variable or, not even that, to avoid one additional line of code/statement"},{"owner":{"account_id":28572040,"reputation":1,"user_id":21874119,"display_name":"vzamora"},"score":0,"creation_date":1695315536,"post_id":77151797,"comment_id":136011347,"body_markdown":"@user85421, I agree with you that it has impact on readability. My intention was just to clarify why it failed as originally asked. I had a situation where I had to put similar logic inside one expression to use it in a tool.","body":"@user85421, I agree with you that it has impact on readability. My intention was just to clarify why it failed as originally asked. I had a situation where I had to put similar logic inside one expression to use it in a tool."}],"tags":[],"owner":{"account_id":28572040,"reputation":1,"user_id":21874119,"display_name":"vzamora"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695311442,"creation_date":1695311404,"answer_id":77151797,"question_id":31412294,"body_markdown":"Tim, \r\n\r\nIt is worth notice that on C based languages the attribution is also an expression and returns a value that can be used on other expressions. So the attribution can be rewritten as: \r\n\r\n    String result = (result = System.getProperty(&quot;XYZ&quot;)) != null ? result : &quot;default&quot;\r\n\r\nor, using your function:\r\n\r\n    String result = isNotNullOrEmpty(result = System.getProperty(&quot;XYZ&quot;)) ? result : &quot;default&quot;\r\n\r\n\r\nThe trick to write this code in one line is to reuse the variable result instead of create a new temp one, which will not work inside of expressions. \r\n\r\nYou end up with an extra attribution, but will not run the method twice. \r\n","title":"Java - Check Not Null/Empty else assign default value","body":"<p>Tim,</p>\n<p>It is worth notice that on C based languages the attribution is also an expression and returns a value that can be used on other expressions. So the attribution can be rewritten as:</p>\n<pre><code>String result = (result = System.getProperty(&quot;XYZ&quot;)) != null ? result : &quot;default&quot;\n</code></pre>\n<p>or, using your function:</p>\n<pre><code>String result = isNotNullOrEmpty(result = System.getProperty(&quot;XYZ&quot;)) ? result : &quot;default&quot;\n</code></pre>\n<p>The trick to write this code in one line is to reuse the variable result instead of create a new temp one, which will not work inside of expressions.</p>\n<p>You end up with an extra attribution, but will not run the method twice.</p>\n"}],"owner":{"account_id":2927858,"reputation":1283,"user_id":2508829,"accept_rate":71,"display_name":"Cam1989"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214695,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":58879379,"answer_count":11,"score":113,"last_activity_date":1695311442,"creation_date":1436891277,"question_id":31412294,"body_markdown":"I am trying to simplify the following code.\r\n\r\nThe basic steps that the code should carry out are as follows:\r\n\r\n 1. Assign String a default value \r\n 2. Run a method \r\n 3. If the method returns a null/empty string leave the String as default \r\n 4. If the method returns a valid string set the String to this result\r\n\r\nA Simple example would be:\r\n\r\n        String temp = System.getProperty(&quot;XYZ&quot;);\r\n        String result = &quot;default&quot;;\r\n        if(temp != null &amp;&amp; !temp.isEmpty()){\r\n            result = temp;\r\n        }\r\nI have made another attemp using a ternary operator:\r\n\r\n        String temp;\r\n        String result = isNotNullOrEmpty(temp = System.getProperty(&quot;XYZ&quot;)) ? temp : &quot;default&quot;;\r\n\r\nThe isNotNullOrEmpty() Method\r\n\r\n     private static boolean isNotNullOrEmpty(String str){\r\n        return (str != null &amp;&amp; !str.isEmpty());\r\n    }\r\n\r\nIs it possible to do all of this in-line? I know I could do something like this:\r\n\r\n    String result = isNotNullOrEmpty(System.getProperty(&quot;XYZ&quot;)) ? System.getProperty(&quot;XYZ&quot;) : &quot;default&quot;;\r\n\r\nBut I am calling the same method twice. I would be something like to do something like this (which doesn&#39;t work):\r\n\r\n    String result = isNotNullOrEmpty(String temp = System.getProperty(&quot;XYZ&quot;)) ? temp : &quot;default&quot;;\r\n\r\nI would like to initialize the &#39;temp&#39; String within the same line. Is this possible? Or what should I be doing?\r\n\r\nThank you for your suggestions.\r\n\r\nTim","title":"Java - Check Not Null/Empty else assign default value","body":"<p>I am trying to simplify the following code.</p>\n\n<p>The basic steps that the code should carry out are as follows:</p>\n\n<ol>\n<li>Assign String a default value </li>\n<li>Run a method </li>\n<li>If the method returns a null/empty string leave the String as default </li>\n<li>If the method returns a valid string set the String to this result</li>\n</ol>\n\n<p>A Simple example would be:</p>\n\n<pre><code>    String temp = System.getProperty(\"XYZ\");\n    String result = \"default\";\n    if(temp != null &amp;&amp; !temp.isEmpty()){\n        result = temp;\n    }\n</code></pre>\n\n<p>I have made another attemp using a ternary operator:</p>\n\n<pre><code>    String temp;\n    String result = isNotNullOrEmpty(temp = System.getProperty(\"XYZ\")) ? temp : \"default\";\n</code></pre>\n\n<p>The isNotNullOrEmpty() Method</p>\n\n<pre><code> private static boolean isNotNullOrEmpty(String str){\n    return (str != null &amp;&amp; !str.isEmpty());\n}\n</code></pre>\n\n<p>Is it possible to do all of this in-line? I know I could do something like this:</p>\n\n<pre><code>String result = isNotNullOrEmpty(System.getProperty(\"XYZ\")) ? System.getProperty(\"XYZ\") : \"default\";\n</code></pre>\n\n<p>But I am calling the same method twice. I would be something like to do something like this (which doesn't work):</p>\n\n<pre><code>String result = isNotNullOrEmpty(String temp = System.getProperty(\"XYZ\")) ? temp : \"default\";\n</code></pre>\n\n<p>I would like to initialize the 'temp' String within the same line. Is this possible? Or what should I be doing?</p>\n\n<p>Thank you for your suggestions.</p>\n\n<p>Tim</p>\n"},{"tags":["java","solr"],"owner":{"account_id":1235900,"reputation":1020,"user_id":1199488,"accept_rate":79,"display_name":"DavidVdd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695311127,"creation_date":1695311127,"question_id":77151760,"body_markdown":"Current facet implementation of hierarchial facet is based on https://cwiki.apache.org/confluence/display/solr/HierarchicalFaceting with facet.prefix drilldown.\r\n\r\nDue to data growth this approach has become slower and I&#39;d like to imrpove it.\r\n\r\nCurrent structure. (to describe a document cat be added to multiple categories, which makes pivot facet or nested json facetting not ideal)\r\n\r\n```\r\nDoc 1: \r\n  category: {l1}A1/\r\n            {l1}A2/\r\n            {l2}A1/B1/\r\n            {l2}A2/B2/\r\n\r\nDoc 2: \r\n  category: {l1}A1/\r\n            {l1}A3/\r\n            {l2}A1/B1\r\n            {l2}A3/B3\r\n            {l3}A1/B1/C1\r\n            {l3}A3/B3/C3\r\n```\r\n\r\nLet&#39;s assume there are 7 levels deep and the UI has to show the first 4 levels deep. \r\nThe root nodes use to contain only 3 values so it was possible to create facets like, but this has now increased substantially:\r\n\r\n```\r\nfacet.field={!key=l1_category facet.prefix=&quot;{l1}&quot; v=category}\r\nfacet.field={!key=l2_category facet.prefix=&quot;{l2}&quot; v=category}\r\nfacet.field={!key=l3_category facet.prefix=&quot;{l3}&quot; v=category} \r\n```   \r\n\r\nThen there was java logic that would process these facets and create the correct tree structure using recursive logic over each of the keys and by splitting the path&#39;s using &#39;contains&#39;.\r\n\r\nIn the end it should look like (but with 4 levels, and the ability to filter down to 7)\r\n```\r\n A1(2)\r\n   B1(2)\r\n     C1(1)\r\n A2(1)\r\n   B2(1)\r\n A3(1)\r\n   B3(1)\r\n    C3(1)\r\n```\r\n\r\nI&#39;ve already attempted to use nested json.facet&#39;s. \r\nBut I could not get the outer bucket value to prefix the inner one.\r\n\r\nIdeally it would be an adjustment of the follow request, but I&#39;m not sure if such an improvement is possible:\r\n\r\n```\r\njson.facet =  {\r\n    &quot;categories_lvl1&quot;: {\r\n      &quot;type&quot;: &quot;terms&quot;,\r\n      &quot;field&quot;: &quot;categories&quot;,\r\n      &quot;limit&quot;: 50,\r\n      &quot;prefix&quot;:&quot;{l1}&quot;,\r\n      &quot;facet&quot;: {\r\n        &quot;categories_lvl2&quot;: {\r\n          &quot;type&quot;: &quot;terms&quot;,\r\n          &quot;field&quot;: &quot;categories&quot;,\r\n           &quot;prefix&quot;:&quot;{l2}&quot;, &lt;-- instead of this it should be a reference to the parent bucket term with a regex applied, because now it will  give invalid combinations\r\n          &quot;limit&quot;: 100\r\n        }\r\n      }\r\n    }\r\n  }      \r\n```\r\n\r\n**Would there be a better data structure and/or better search request option to build the tree? (current Solr version 8.11.1)**\r\n\r\nI know a create all combinations as &#39;nested&#39; documents solution(and then use those to facet), but this would be a heavy operation and for searching it&#39;s currently not necesssary + could make counts more difficult.","title":"Solr hierarchial facet performance improvement required","body":"<p>Current facet implementation of hierarchial facet is based on <a href=\"https://cwiki.apache.org/confluence/display/solr/HierarchicalFaceting\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/solr/HierarchicalFaceting</a> with facet.prefix drilldown.</p>\n<p>Due to data growth this approach has become slower and I'd like to imrpove it.</p>\n<p>Current structure. (to describe a document cat be added to multiple categories, which makes pivot facet or nested json facetting not ideal)</p>\n<pre><code>Doc 1: \n  category: {l1}A1/\n            {l1}A2/\n            {l2}A1/B1/\n            {l2}A2/B2/\n\nDoc 2: \n  category: {l1}A1/\n            {l1}A3/\n            {l2}A1/B1\n            {l2}A3/B3\n            {l3}A1/B1/C1\n            {l3}A3/B3/C3\n</code></pre>\n<p>Let's assume there are 7 levels deep and the UI has to show the first 4 levels deep.\nThe root nodes use to contain only 3 values so it was possible to create facets like, but this has now increased substantially:</p>\n<pre><code>facet.field={!key=l1_category facet.prefix=&quot;{l1}&quot; v=category}\nfacet.field={!key=l2_category facet.prefix=&quot;{l2}&quot; v=category}\nfacet.field={!key=l3_category facet.prefix=&quot;{l3}&quot; v=category} \n</code></pre>\n<p>Then there was java logic that would process these facets and create the correct tree structure using recursive logic over each of the keys and by splitting the path's using 'contains'.</p>\n<p>In the end it should look like (but with 4 levels, and the ability to filter down to 7)</p>\n<pre><code> A1(2)\n   B1(2)\n     C1(1)\n A2(1)\n   B2(1)\n A3(1)\n   B3(1)\n    C3(1)\n</code></pre>\n<p>I've already attempted to use nested json.facet's.\nBut I could not get the outer bucket value to prefix the inner one.</p>\n<p>Ideally it would be an adjustment of the follow request, but I'm not sure if such an improvement is possible:</p>\n<pre><code>json.facet =  {\n    &quot;categories_lvl1&quot;: {\n      &quot;type&quot;: &quot;terms&quot;,\n      &quot;field&quot;: &quot;categories&quot;,\n      &quot;limit&quot;: 50,\n      &quot;prefix&quot;:&quot;{l1}&quot;,\n      &quot;facet&quot;: {\n        &quot;categories_lvl2&quot;: {\n          &quot;type&quot;: &quot;terms&quot;,\n          &quot;field&quot;: &quot;categories&quot;,\n           &quot;prefix&quot;:&quot;{l2}&quot;, &lt;-- instead of this it should be a reference to the parent bucket term with a regex applied, because now it will  give invalid combinations\n          &quot;limit&quot;: 100\n        }\n      }\n    }\n  }      \n</code></pre>\n<p><strong>Would there be a better data structure and/or better search request option to build the tree? (current Solr version 8.11.1)</strong></p>\n<p>I know a create all combinations as 'nested' documents solution(and then use those to facet), but this would be a heavy operation and for searching it's currently not necesssary + could make counts more difficult.</p>\n"},{"tags":["java","outlook","office365","exchange-server"],"comments":[{"owner":{"account_id":2307656,"reputation":398,"user_id":2026594,"accept_rate":58,"display_name":"Zaknafein"},"score":0,"creation_date":1648050545,"post_id":70954881,"comment_id":126527436,"body_markdown":"I have the same problem, and &quot;first&quot; answer i get is &quot;disable/enable it on dashboard administrator&quot;. But i&#39;m checking if i can use it without administrator change it.","body":"I have the same problem, and &quot;first&quot; answer i get is &quot;disable/enable it on dashboard administrator&quot;. But i&#39;m checking if i can use it without administrator change it."}],"answers":[{"comments":[{"owner":{"account_id":204087,"reputation":1977,"user_id":452090,"accept_rate":40,"display_name":"hB0"},"score":1,"creation_date":1660664051,"post_id":70956540,"comment_id":129582966,"body_markdown":"It said we need to disable the SMTP AUTH for the organization. Which becomes complex if your organization is very big and this is a huge change at the org network/security level to engage.","body":"It said we need to disable the SMTP AUTH for the organization. Which becomes complex if your organization is very big and this is a huge change at the org network/security level to engage."},{"owner":{"account_id":3724805,"reputation":523,"user_id":4805211,"accept_rate":100,"display_name":"Ajned"},"score":1,"creation_date":1667996173,"post_id":70956540,"comment_id":131299801,"body_markdown":"If not via smtp then what other alternatives there are? I am unable to send emails on emacs mu4e because of this wretched configuration...","body":"If not via smtp then what other alternatives there are? I am unable to send emails on emacs mu4e because of this wretched configuration..."},{"owner":{"account_id":131793,"reputation":64015,"user_id":332059,"accept_rate":57,"display_name":"Dmitry Streblechenko"},"score":0,"creation_date":1668008338,"post_id":70956540,"comment_id":131304542,"body_markdown":"Outlook Object Model, EWS, Graph. The last two woudl require you to register your app in Azure to be able to request and receive OAuth tokens.","body":"Outlook Object Model, EWS, Graph. The last two woudl require you to register your app in Azure to be able to request and receive OAuth tokens."},{"owner":{"account_id":3724805,"reputation":523,"user_id":4805211,"accept_rate":100,"display_name":"Ajned"},"score":0,"creation_date":1669891893,"post_id":70956540,"comment_id":131748178,"body_markdown":"@DmitryStreblechenko Thanks for your reply. To the best of my knowledge registering an app is something that is also blocked (I see a &quot;No access&quot; screen when trying to go to Azure active directory) and so outlook is probably the only option? How one would do such thing?","body":"@DmitryStreblechenko Thanks for your reply. To the best of my knowledge registering an app is something that is also blocked (I see a &quot;No access&quot; screen when trying to go to Azure active directory) and so outlook is probably the only option? How one would do such thing?"},{"owner":{"account_id":131793,"reputation":64015,"user_id":332059,"accept_rate":57,"display_name":"Dmitry Streblechenko"},"score":0,"creation_date":1669914205,"post_id":70956540,"comment_id":131756377,"body_markdown":"Yes, you need to be an admin in your org to be able to register an app. Outlook Object Model would work, but that means you will need to have Outlook installed with a profile configured to access the mailbox on whose behalf you are sending.","body":"Yes, you need to be an admin in your org to be able to register an app. Outlook Object Model would work, but that means you will need to have Outlook installed with a profile configured to access the mailbox on whose behalf you are sending."},{"owner":{"account_id":17208048,"reputation":91,"user_id":12458159,"display_name":"Michel FW"},"score":0,"creation_date":1684912182,"post_id":70956540,"comment_id":134584854,"body_markdown":"Please note that it takes some time for the setting to take effect. In my case it worked after 20 minutes.","body":"Please note that it takes some time for the setting to take effect. In my case it worked after 20 minutes."}],"tags":[],"owner":{"account_id":131793,"reputation":64015,"user_id":332059,"accept_rate":57,"display_name":"Dmitry Streblechenko"},"comment_count":6,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643808694,"creation_date":1643808694,"answer_id":70956540,"question_id":70954881,"body_markdown":"As the error explicitly states, SMTP authentication is disabled. It even provides you with a very helpful link to https://aka.ms/smtp_auth_disabled. The link explains how to enable SMTP AUTH for the whole organization or only for some mailboxes.","title":"535 5.7.139 Authentication unsuccessful, SmtpClientAuthentication is disabled for the Tenant","body":"<p>As the error explicitly states, SMTP authentication is disabled. It even provides you with a very helpful link to <a href=\"https://aka.ms/smtp_auth_disabled\" rel=\"noreferrer\">https://aka.ms/smtp_auth_disabled</a>. The link explains how to enable SMTP AUTH for the whole organization or only for some mailboxes.</p>\n"},{"tags":[],"owner":{"account_id":3624381,"reputation":97,"user_id":3022408,"display_name":"slingshot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669071487,"creation_date":1669071487,"answer_id":74525756,"question_id":70954881,"body_markdown":"AAD security defaults may block this. I had:\r\n\r\n    Get-TransportConfig | Format-List SmtpClientAuthenticationDisabled\r\n    SmtpClientAuthenticationDisabled : False\r\n\r\nBut still got 535 5.7.139 authentication unsuccessful\r\n\r\nIt turned out it was Security defaults in AAD that was the problem\r\n\r\n**Turn off Security Defaults in Azure Active Directory**\r\n\r\n    Start by logging into the Azure Active Directory (https://aad.portal.azure.com/). \r\n\r\n\r\n    Select Azure Active Directory\r\n\r\n    In left menu click: Azure Active Directory\r\n\r\n    Select Properties from the menu under Manage\r\n\r\n    AAD properties\r\n\r\n    Select Manage security defaults at the very bottom of the properties page\r\n\r\n    Managing security defaults\r\n\r\n    Move the slider to No and click Save\r\n\r\n    save security defaults\r\n\r\n\r\n**You may then check:**\r\n    \r\n    Next login to or navigate to the Microsoft 365 Admin Center https://admin.microsoft.com/\r\n\r\n    Select Settings &gt; Org Settings\r\n\r\n    Under Services, select Modern Authentication \r\n\r\n    Ensure Authentication SMTP is checked\r\n","title":"535 5.7.139 Authentication unsuccessful, SmtpClientAuthentication is disabled for the Tenant","body":"<p>AAD security defaults may block this. I had:</p>\n<pre><code>Get-TransportConfig | Format-List SmtpClientAuthenticationDisabled\nSmtpClientAuthenticationDisabled : False\n</code></pre>\n<p>But still got 535 5.7.139 authentication unsuccessful</p>\n<p>It turned out it was Security defaults in AAD that was the problem</p>\n<p><strong>Turn off Security Defaults in Azure Active Directory</strong></p>\n<pre><code>Start by logging into the Azure Active Directory (https://aad.portal.azure.com/). \n\n\nSelect Azure Active Directory\n\nIn left menu click: Azure Active Directory\n\nSelect Properties from the menu under Manage\n\nAAD properties\n\nSelect Manage security defaults at the very bottom of the properties page\n\nManaging security defaults\n\nMove the slider to No and click Save\n\nsave security defaults\n</code></pre>\n<p><strong>You may then check:</strong></p>\n<pre><code>Next login to or navigate to the Microsoft 365 Admin Center https://admin.microsoft.com/\n\nSelect Settings &gt; Org Settings\n\nUnder Services, select Modern Authentication \n\nEnsure Authentication SMTP is checked\n</code></pre>\n"}],"owner":{"account_id":22539698,"reputation":31,"user_id":16730426,"display_name":"aspini mohanty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65572,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1695310782,"creation_date":1643801662,"question_id":70954881,"body_markdown":"I am sending e email using an SMTP error . I am getting Authentication unsuccessful. The username and password are correct. Am I doing something wrong.\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n    public class Office365TextMsgSend {\r\n\r\n\tProperties properties;\r\n\tSession session;\r\n\tMimeMessage mimeMessage;\r\n\r\n\tString USERNAME = &quot;xxxx@xxxx.xx&quot;;\r\n\tString PASSWORD = &quot;xxxxxxx&quot;;\r\n\tString HOSTNAME = &quot;smtp.office365.com&quot;;\r\n\tString STARTTLS_PORT = &quot;587&quot;;\r\n\tboolean STARTTLS = true;\r\n\tboolean AUTH = true;\r\n\tString FromAddress=&quot;xxxx@xxxx.xx&quot;;\r\n\r\n\tpublic static void main(String args[]) throws MessagingException {\r\n\t\tString EmailSubject = &quot;Subject:Text Subject&quot;;\r\n\t\tString EmailBody = &quot;Text Message Body: Hello World&quot;;\r\n\t\tString ToAddress = &quot;xxxxxx@gmail.com&quot;;\r\n\t\tOffice365TextMsgSend office365TextMsgSend = new Office365TextMsgSend();\r\n\t\toffice365TextMsgSend.sendGmail(EmailSubject, EmailBody, ToAddress);\r\n\t}\r\n\r\n\tpublic void sendGmail(String EmailSubject, String EmailBody, String ToAddress) {\r\n\t\ttry {\r\n\t\t\tproperties = new Properties();\r\n\t\t\tproperties.put(&quot;mail.smtp.host&quot;, HOSTNAME);\r\n\t\t\t// Setting STARTTLS_PORT\r\n\t\t\tproperties.put(&quot;mail.smtp.port&quot;, STARTTLS_PORT);\r\n\t\t\t// AUTH enabled\r\n\t\t\tproperties.put(&quot;mail.smtp.auth&quot;, AUTH);\r\n\t\t\t// STARTTLS enabled\r\n\t\t\tproperties.put(&quot;mail.smtp.starttls.enable&quot;, STARTTLS);\r\n\t\t\tproperties.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n\t\t\t// Authenticating\r\n\t\t\tAuthenticator auth = new Authenticator() {\r\n\t\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t\t\treturn new PasswordAuthentication(USERNAME, PASSWORD);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t// creating session\r\n\t\t\tsession = Session.getInstance(properties, auth);\r\n\r\n\t\t\t// create mimemessage\r\n\t\t\tmimeMessage = new MimeMessage(session);\r\n\t\t\t\r\n\t\t\t//from address should exist in the domain\r\n\t\t\tmimeMessage.setFrom(new InternetAddress(FromAddress));\r\n\t\t\tmimeMessage.addRecipient(RecipientType.TO, new InternetAddress(ToAddress));\r\n\t\t\tmimeMessage.setSubject(EmailSubject);\r\n\r\n\t\t\t// setting text message body\r\n\t\t\tmimeMessage.setText(EmailBody);\r\n\r\n\t\t\t// sending mail\r\n\t\t\tTransport.send(mimeMessage);\r\n\t\t\tSystem.out.println(&quot;Mail Send Successfully&quot;);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\nError:\r\n\r\n&gt; javax.mail.AuthenticationFailedException: 535 5.7.139 Authentication\r\n&gt; unsuccessful, SmtpClientAuthentication is disabled for the Tenant.\r\n&gt; Visit https://aka.ms/smtp_auth_disabled for more information.\r\n&gt; [MA1PR01CA0169.INDPRD01.PROD.OUTLOOK.COM]\r\n\r\n","title":"535 5.7.139 Authentication unsuccessful, SmtpClientAuthentication is disabled for the Tenant","body":"<p>I am sending e email using an SMTP error . I am getting Authentication unsuccessful. The username and password are correct. Am I doing something wrong.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Office365TextMsgSend {\n\nProperties properties;\nSession session;\nMimeMessage mimeMessage;\n\nString USERNAME = &quot;xxxx@xxxx.xx&quot;;\nString PASSWORD = &quot;xxxxxxx&quot;;\nString HOSTNAME = &quot;smtp.office365.com&quot;;\nString STARTTLS_PORT = &quot;587&quot;;\nboolean STARTTLS = true;\nboolean AUTH = true;\nString FromAddress=&quot;xxxx@xxxx.xx&quot;;\n\npublic static void main(String args[]) throws MessagingException {\n    String EmailSubject = &quot;Subject:Text Subject&quot;;\n    String EmailBody = &quot;Text Message Body: Hello World&quot;;\n    String ToAddress = &quot;xxxxxx@gmail.com&quot;;\n    Office365TextMsgSend office365TextMsgSend = new Office365TextMsgSend();\n    office365TextMsgSend.sendGmail(EmailSubject, EmailBody, ToAddress);\n}\n\npublic void sendGmail(String EmailSubject, String EmailBody, String ToAddress) {\n    try {\n        properties = new Properties();\n        properties.put(&quot;mail.smtp.host&quot;, HOSTNAME);\n        // Setting STARTTLS_PORT\n        properties.put(&quot;mail.smtp.port&quot;, STARTTLS_PORT);\n        // AUTH enabled\n        properties.put(&quot;mail.smtp.auth&quot;, AUTH);\n        // STARTTLS enabled\n        properties.put(&quot;mail.smtp.starttls.enable&quot;, STARTTLS);\n        properties.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n        // Authenticating\n        Authenticator auth = new Authenticator() {\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(USERNAME, PASSWORD);\n            }\n        };\n\n        // creating session\n        session = Session.getInstance(properties, auth);\n\n        // create mimemessage\n        mimeMessage = new MimeMessage(session);\n        \n        //from address should exist in the domain\n        mimeMessage.setFrom(new InternetAddress(FromAddress));\n        mimeMessage.addRecipient(RecipientType.TO, new InternetAddress(ToAddress));\n        mimeMessage.setSubject(EmailSubject);\n\n        // setting text message body\n        mimeMessage.setText(EmailBody);\n\n        // sending mail\n        Transport.send(mimeMessage);\n        System.out.println(&quot;Mail Send Successfully&quot;);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n}\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<p>javax.mail.AuthenticationFailedException: 535 5.7.139 Authentication\nunsuccessful, SmtpClientAuthentication is disabled for the Tenant.\nVisit <a href=\"https://aka.ms/smtp_auth_disabled\" rel=\"nofollow noreferrer\">https://aka.ms/smtp_auth_disabled</a> for more information.\n[MA1PR01CA0169.INDPRD01.PROD.OUTLOOK.COM]</p>\n</blockquote>\n"},{"tags":["java","spring-boot","spring-test"],"answers":[{"comments":[{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1557381940,"post_id":56051531,"comment_id":98747057,"body_markdown":"Thanks, and you are absolutely right, in my case i injecting a bean of generated code - that maps 1:1 entity to dto. This i do to be able to reuse some part of validation. (I want to prevent an exception if invalid dto hits the api).","body":"Thanks, and you are absolutely right, in my case i injecting a bean of generated code - that maps 1:1 entity to dto. This i do to be able to reuse some part of validation. (I want to prevent an exception if invalid dto hits the api)."},{"owner":{"account_id":338288,"reputation":879,"user_id":667073,"accept_rate":80,"display_name":"wh81752"},"score":0,"creation_date":1673620074,"post_id":56051531,"comment_id":132546396,"body_markdown":"@Dhruv - you are very well aware that such a MVC controller test never calls the method unter test directly but has to dig through a couple of non-mocked servlet and spring methods? IMHO it is absolutely ok to use &quot;domestic&quot; services, especially if it requires much less service-internal knowledge.","body":"@Dhruv - you are very well aware that such a MVC controller test never calls the method unter test directly but has to dig through a couple of non-mocked servlet and spring methods? IMHO it is absolutely ok to use &quot;domestic&quot; services, especially if it requires much less service-internal knowledge."}],"tags":[],"owner":{"account_id":1126328,"reputation":10371,"user_id":1113542,"accept_rate":73,"display_name":"Dhruv"},"comment_count":2,"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1695310583,"creation_date":1557370230,"answer_id":56051531,"question_id":56021699,"body_markdown":"A simple way of getting additional beans in the context is via using nested configuration classes within test classes\r\n\r\n    @TestConfiguration\r\n    static class AdditionalConfig {\r\n    \t@Bean\r\n    \tpublic SomeBean getSomeBean() {\r\n    \t\treturn new SomeBean();\r\n    \t}\r\n    }\r\n\r\n*Example:*\r\n\r\nScenario - If you have some Controller say *ProductController* and you have the corresponding slice-test for the class say *ProductionControllerTest*\r\n\r\n    @RestController\r\n    public class ProductController {\r\n    \r\n        @Autowired\r\n        private IProductService productService;\r\n    \r\n        @Autowired\r\n        private IProductValidator productValidator;\r\n    \r\n    \r\n        @GetMapping(&quot;product&quot;)\r\n        public Product getProduct(@RequestParam Long id) {\r\n    \r\n            Product product = productService.getProduct(id); // you are using mockBean of productService\r\n            \r\n            productValidator.validateProduct(product); // you need real bean of productValidator\r\n            return product;\r\n        }\r\n    }\r\n\r\nCorresponding slide test class with an additional bean configuration\r\n\r\n   \r\n\r\n    @RunWith(SpringRunner.class)\r\n    @WebMvcTest\r\n    public class ProductControllerSliceTest {\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @MockBean\r\n        private IProductService productService;\r\n    \r\n        @Autowired\r\n        private ApplicationContext applicationContext;\r\n    \r\n        @TestConfiguration\r\n        static class AdditionalConfig {\r\n            @Bean\r\n            public IProductValidator productValidator() {\r\n                return new ProductValidator();\r\n            }\r\n        }\r\n    \r\n    \r\n        @Test\r\n        public void testProductGetById() throws Exception {\r\n            Product testProductWithID1L = new Product(1L, &quot;testProduct&quot;);\r\n            when(productService.getProduct(anyLong())).thenReturn(testProductWithID1L);\r\n    \r\n            mockMvc.perform(get(&quot;/product&quot;)\r\n                    .param(&quot;id&quot;, &quot;1&quot;)).andDo(print())\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(jsonPath(&quot;name&quot;)\r\n                            .value(&quot;testProduct&quot;))\r\n                    .andExpect(MockMvcResultMatchers.jsonPath(&quot;id&quot;)\r\n                            .value(&quot;1&quot;));\r\n        }\r\n    }\r\n\r\n&lt;p&gt; &lt;b&gt; Additional thoughts on your scenario: &lt;/b&gt; If you really intend to do the unit testing of the controller class then ideally you should mock all the additional dependencies of class that you are testing. \r\nIdeally, the intention of the unit test is to only test the behavior of the object/class under test. All the dependent classes behavior or external calls should be mocked. &lt;br/&gt;\r\nWhen you start testing several classes together under one test, you are moving more towards a component test or integration test&lt;/p&gt;","title":"Add one additional bean to &quot;@WebMvcTest&quot;","body":"<p>A simple way of getting additional beans in the context is via using nested configuration classes within test classes</p>\n<pre><code>@TestConfiguration\nstatic class AdditionalConfig {\n    @Bean\n    public SomeBean getSomeBean() {\n        return new SomeBean();\n    }\n}\n</code></pre>\n<p><em>Example:</em></p>\n<p>Scenario - If you have some Controller say <em>ProductController</em> and you have the corresponding slice-test for the class say <em>ProductionControllerTest</em></p>\n<pre><code>@RestController\npublic class ProductController {\n\n    @Autowired\n    private IProductService productService;\n\n    @Autowired\n    private IProductValidator productValidator;\n\n\n    @GetMapping(&quot;product&quot;)\n    public Product getProduct(@RequestParam Long id) {\n\n        Product product = productService.getProduct(id); // you are using mockBean of productService\n        \n        productValidator.validateProduct(product); // you need real bean of productValidator\n        return product;\n    }\n}\n</code></pre>\n<p>Corresponding slide test class with an additional bean configuration</p>\n<pre><code>@RunWith(SpringRunner.class)\n@WebMvcTest\npublic class ProductControllerSliceTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private IProductService productService;\n\n    @Autowired\n    private ApplicationContext applicationContext;\n\n    @TestConfiguration\n    static class AdditionalConfig {\n        @Bean\n        public IProductValidator productValidator() {\n            return new ProductValidator();\n        }\n    }\n\n\n    @Test\n    public void testProductGetById() throws Exception {\n        Product testProductWithID1L = new Product(1L, &quot;testProduct&quot;);\n        when(productService.getProduct(anyLong())).thenReturn(testProductWithID1L);\n\n        mockMvc.perform(get(&quot;/product&quot;)\n                .param(&quot;id&quot;, &quot;1&quot;)).andDo(print())\n                .andExpect(status().isOk())\n                .andExpect(jsonPath(&quot;name&quot;)\n                        .value(&quot;testProduct&quot;))\n                .andExpect(MockMvcResultMatchers.jsonPath(&quot;id&quot;)\n                        .value(&quot;1&quot;));\n    }\n}\n</code></pre>\n<p> <b> Additional thoughts on your scenario: </b> If you really intend to do the unit testing of the controller class then ideally you should mock all the additional dependencies of class that you are testing. \nIdeally, the intention of the unit test is to only test the behavior of the object/class under test. All the dependent classes behavior or external calls should be mocked. <br/>\nWhen you start testing several classes together under one test, you are moving more towards a component test or integration test</p>\n"},{"comments":[{"owner":{"account_id":990768,"reputation":6513,"user_id":1008162,"accept_rate":90,"display_name":"Naruto Sempai"},"score":4,"creation_date":1605484825,"post_id":64486074,"comment_id":114657300,"body_markdown":"Omg you saved me. In my case I added a custom filter extending `OncePerRequestFilter` and all of a sudden my `@WebMvcTest` related tests started failing due to not being able to find one of its constructor beans in context. I was going mad.","body":"Omg you saved me. In my case I added a custom filter extending <code>OncePerRequestFilter</code> and all of a sudden my <code>@WebMvcTest</code> related tests started failing due to not being able to find one of its constructor beans in context. I was going mad."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":4,"creation_date":1648220074,"post_id":64486074,"comment_id":126576575,"body_markdown":"I don&#39;t think there&#39;s any reason to have an `@Autowired` field for the `@Import`ed bean in the test; it gets injected into the controller, so unless the test code needs to do something with it, you can omit the field declaration in the test.","body":"I don&#39;t think there&#39;s any reason to have an <code>@Autowired</code> field for the <code>@Import</code>ed bean in the test; it gets injected into the controller, so unless the test code needs to do something with it, you can omit the field declaration in the test."}],"tags":[],"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":2,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1624447275,"creation_date":1603382391,"answer_id":64486074,"question_id":56021699,"body_markdown":"A very simple solution is to annotate your test class with `@Import` specifying the class(es) of the additional bean(s) you want to use in your test, as [stated in documentation][1]:\r\n\r\n&gt; Typically @WebMvcTest is used in combination with @MockBean or **@Import\r\n&gt; to create any collaborators required by your @Controller beans**.\r\n\r\ne.g.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @WebMvcTest(MyController.class)\r\n    @Import(SomeOtherBean.class)\r\n    public class SourcingOrganisationControllerTests {\r\n    \r\n        // The controller bean is made available via @WebMvcTest  \r\n        @Autowired\r\n        private MyController myController;\r\n    \r\n        // Additional beans (only one in this case) are made available via @Import\r\n        @Autowired\r\n        private SomeOtherBean someOtherBean;\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html","title":"Add one additional bean to &quot;@WebMvcTest&quot;","body":"<p>A very simple solution is to annotate your test class with <code>@Import</code> specifying the class(es) of the additional bean(s) you want to use in your test, as <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html\" rel=\"noreferrer\">stated in documentation</a>:</p>\n<blockquote>\n<p>Typically @WebMvcTest is used in combination with @MockBean or <strong>@Import\nto create any collaborators required by your @Controller beans</strong>.</p>\n</blockquote>\n<p>e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(MyController.class)\n@Import(SomeOtherBean.class)\npublic class SourcingOrganisationControllerTests {\n\n    // The controller bean is made available via @WebMvcTest  \n    @Autowired\n    private MyController myController;\n\n    // Additional beans (only one in this case) are made available via @Import\n    @Autowired\n    private SomeOtherBean someOtherBean;\n}\n</code></pre>\n"}],"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9281,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":56051531,"answer_count":2,"score":19,"last_activity_date":1695310583,"creation_date":1557228892,"question_id":56021699,"body_markdown":"I have a controller and a test using @WebMvcTest and its running fine. Now i needed to add a little validation logic and for this i ``@Autowired`` an additional bean (a ``@Component``, a MapstructMapper).\r\n\r\nAs expected now the test is failing due to ``@WebMvcTest``. (No components are discovered)\r\n\r\nIs there a way to add one bean to the context created?\r\n\r\nSince i am using ``@MockBeans`` to mock service layer: is there a way to delegate all mock calls to a real object? With this i could mock the mapper and delegate to real mapper?!\r\n\r\n\r\n\r\n","title":"Add one additional bean to &quot;@WebMvcTest&quot;","body":"<p>I have a controller and a test using @WebMvcTest and its running fine. Now i needed to add a little validation logic and for this i <code>@Autowired</code> an additional bean (a <code>@Component</code>, a MapstructMapper).</p>\n\n<p>As expected now the test is failing due to <code>@WebMvcTest</code>. (No components are discovered)</p>\n\n<p>Is there a way to add one bean to the context created?</p>\n\n<p>Since i am using <code>@MockBeans</code> to mock service layer: is there a way to delegate all mock calls to a real object? With this i could mock the mapper and delegate to real mapper?!</p>\n"},{"tags":["java","docker","operating-system","docker-machine"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1695305205,"post_id":77150936,"comment_id":136009044,"body_markdown":"How did you remove the far file in a running container? One fundamental difference is that on Unix-likes by default opening a file is non-exclusive: others can open, write to and even delete files that a process have opened. If they delete it the process having previously opened it will continue to be able to read it until it closes it. That might be what you&#39;re seeing, but if you could explain what **exactly** you&#39;re doing, we could give a more definite answer.","body":"How did you remove the far file in a running container? One fundamental difference is that on Unix-likes by default opening a file is non-exclusive: others can open, write to and even delete files that a process have opened. If they delete it the process having previously opened it will continue to be able to read it until it closes it. That might be what you&#39;re seeing, but if you could explain what <b>exactly</b> you&#39;re doing, we could give a more definite answer."},{"owner":{"account_id":20065617,"reputation":11,"user_id":14711352,"display_name":"Anguraj Dinesh"},"score":0,"creation_date":1695309536,"post_id":77150936,"comment_id":136010049,"body_markdown":"Hi @JoachimSauer, I&#39;ve updated the post with more explanation, what I&#39;m exactly doing with the basic repro steps. Please check. Thanks","body":"Hi @JoachimSauer, I&#39;ve updated the post with more explanation, what I&#39;m exactly doing with the basic repro steps. Please check. Thanks"},{"owner":{"account_id":10247695,"reputation":64,"user_id":7562982,"display_name":"Jasvant Singh"},"score":2,"creation_date":1695309936,"post_id":77150936,"comment_id":136010134,"body_markdown":"Docker containers runs under linux sybsystem on Windows. In linux you can delete a file which is opened by a process and the file will still be available to running process until the process closes that file or exit. This is precisely what is happening in your case.","body":"Docker containers runs under linux sybsystem on Windows. In linux you can delete a file which is opened by a process and the file will still be available to running process until the process closes that file or exit. This is precisely what is happening in your case."},{"owner":{"account_id":20065617,"reputation":11,"user_id":14711352,"display_name":"Anguraj Dinesh"},"score":0,"creation_date":1695311282,"post_id":77150936,"comment_id":136010443,"body_markdown":"Thanks for the explanation, @JasvantSingh","body":"Thanks for the explanation, @JasvantSingh"}],"owner":{"account_id":20065617,"reputation":11,"user_id":14711352,"display_name":"Anguraj Dinesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695310497,"creation_date":1695304483,"question_id":77150936,"body_markdown":"I have a Java application that is running in the container, and I have removed the core jar file from the container, but still the application in the container is **UP** and **RUNNING**, I don&#39;t understand how ?\r\n\r\nIf a Java application is running on our local system, then you can&#39;t remove or modify the jar files that are currently used by the application. Even if you try to delete the jar file, you will get the prompt message &quot;**The action can&#39;t be completed because the file is open in Java Platform Architecture**&quot;.\r\n\r\nHow are the host OS processes used in the Docker container? **Can someone please explain how this works?**\r\n\r\n**To recreate the scenario**: Please download the [Tomcat image][1] from the docker hub. Create and run the container using the command (**docker run -it --rm -p 8888:8080 tomcat**), Now, open the webpage on **localhost:8888**, and you will see the webpage as **HTTP Status 404: Not Found** (that&#39;s OK - this is expected). Now, the container is UP and RUNNING.\r\n\r\nGo inside the container and try to delete the jar files in the lib directory (full path: **/usr/local/tomcat/lib**) using the command (**rm jar-file-name**). and please check the web page again, now you will see the same page, where the application is running properly, even after the jar files are removed.\r\n\r\n\r\n  [1]: https://hub.docker.com/_/tomcat","title":"Removed the core jar file from the container, but still the container is UP and RUNNING","body":"<p>I have a Java application that is running in the container, and I have removed the core jar file from the container, but still the application in the container is <strong>UP</strong> and <strong>RUNNING</strong>, I don't understand how ?</p>\n<p>If a Java application is running on our local system, then you can't remove or modify the jar files that are currently used by the application. Even if you try to delete the jar file, you will get the prompt message &quot;<strong>The action can't be completed because the file is open in Java Platform Architecture</strong>&quot;.</p>\n<p>How are the host OS processes used in the Docker container? <strong>Can someone please explain how this works?</strong></p>\n<p><strong>To recreate the scenario</strong>: Please download the <a href=\"https://hub.docker.com/_/tomcat\" rel=\"nofollow noreferrer\">Tomcat image</a> from the docker hub. Create and run the container using the command (<strong>docker run -it --rm -p 8888:8080 tomcat</strong>), Now, open the webpage on <strong>localhost:8888</strong>, and you will see the webpage as <strong>HTTP Status 404: Not Found</strong> (that's OK - this is expected). Now, the container is UP and RUNNING.</p>\n<p>Go inside the container and try to delete the jar files in the lib directory (full path: <strong>/usr/local/tomcat/lib</strong>) using the command (<strong>rm jar-file-name</strong>). and please check the web page again, now you will see the same page, where the application is running properly, even after the jar files are removed.</p>\n"},{"tags":["java","asynchronous","jdbc","nonblocking"],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670575797,"creation_date":1670575797,"answer_id":74740716,"question_id":74734716,"body_markdown":"For question 1, you are correct -- non-blocking is not inherently better (and with the arrival of [Virtual Threads][1], it&#39;s about to become a lot worse in comparison to good old thread-per-request). At best, you could look at the tools you are working with and do some performance testing with a small scale example. But frankly, that is down to the tool, not the strategy (at least, until Virtual Threads get here).\r\n\r\nFor question 2, I would strongly encourage you to choose the solution that works best with your tool/framework. Staying within your ecosystem will allow you to make more flexible moves when the time comes to optimize.\r\n\r\nBut all things equal, I would strongly encourage you to stick with thread-per-request, since you are working with Java. Ignoring Virtual Threads, thread-per-request allows you to work with and manage simple, blocking, synchronous code. You don&#39;t have to deal with callbacks or tracing the logic through confusing and piecemeal logs. Simply make a thread per request, let it block where it does, and then let your scheduler handle which thread should have the CPU core at any given time.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/8295817","title":"Non-blocking vs blocking Java server with JDBC calls","body":"<p>For question 1, you are correct -- non-blocking is not inherently better (and with the arrival of <a href=\"https://openjdk.org/jeps/8295817\" rel=\"nofollow noreferrer\">Virtual Threads</a>, it's about to become a lot worse in comparison to good old thread-per-request). At best, you could look at the tools you are working with and do some performance testing with a small scale example. But frankly, that is down to the tool, not the strategy (at least, until Virtual Threads get here).</p>\n<p>For question 2, I would strongly encourage you to choose the solution that works best with your tool/framework. Staying within your ecosystem will allow you to make more flexible moves when the time comes to optimize.</p>\n<p>But all things equal, I would strongly encourage you to stick with thread-per-request, since you are working with Java. Ignoring Virtual Threads, thread-per-request allows you to work with and manage simple, blocking, synchronous code. You don't have to deal with callbacks or tracing the logic through confusing and piecemeal logs. Simply make a thread per request, let it block where it does, and then let your scheduler handle which thread should have the CPU core at any given time.</p>\n"},{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1670976190,"creation_date":1670976190,"answer_id":74792238,"question_id":74734716,"body_markdown":"&gt; Pros: Save some overhead on the OS since it doesn&#39;t need to give CPU time to the thread waiting for IO\r\n\r\nIt’s not just the CPU time for waiting threads, but also the overhead of switching between threads competing for the CPU. As you have more threads, more of them will be in a running state, and the CPU time must be spread between them. This requires a lot of memory management for switching.\r\n\r\n&gt; Cons: For a large application (where each task is subscribing a callback to the previous task), it requires to split a single request to multiple threads creating a different kind of overhead. And potentially if a same request gets executed on multiple physical core, it adds overhead as data might not be available in L1/L2 core cache.\r\n\r\nThis also happens with the “classic” approach since blocking calls will cause the CPU to switch to a different thread, and, as stated before, the CPU will even have to switch between runnable threads to share the CPU time as their number increases.\r\n\r\n&gt; **Question 1**: […] for an application that aren&#39;t memory bounded and where creating more threads isn&#39;t a problem\r\n\r\nIn the current state of Java, creating more threads is always going to be a problem at some point. With the thread-per-request model, it depends how many requests you have in parallel. 1000, probably ok, 10000… maybe not.\r\n\r\n&gt; it&#39;s not clear that writing a non-blocking application is actually more CPU efficient than writing blocking application. Is there any reason to believe otherwise?\r\n\r\nIt is not just a question of efficiency, but also scalability. For the performance itself, this would require proper load testing. You may also want to check [Is non-blocking I/O really faster than multi-threaded blocking I/O? How?](https://stackoverflow.com/questions/8546273/is-non-blocking-i-o-really-faster-than-multi-threaded-blocking-i-o-how)\r\n\r\n&gt; **Question 2**: My understanding is also that if we use JDBC, the connection is actually blocking and even if we make the rest of our application to be non-blocking, because of the JDBC client we lose all the benefit and in that case a Option 1 is most likely better?\r\n\r\nJDBC is indeed a synchronous API. Oracle was working on ADBA as an asynchronous equivalent, but they discontinued it, considering that Project Loom will make it irrelevant. [R2DBC](https://r2dbc.io/) provides an alternative which supports MySQL. [Spring even supports reactive transactions](https://spring.io/blog/2019/05/16/reactive-transactions-with-spring).","title":"Non-blocking vs blocking Java server with JDBC calls","body":"<blockquote>\n<p>Pros: Save some overhead on the OS since it doesn't need to give CPU time to the thread waiting for IO</p>\n</blockquote>\n<p>It’s not just the CPU time for waiting threads, but also the overhead of switching between threads competing for the CPU. As you have more threads, more of them will be in a running state, and the CPU time must be spread between them. This requires a lot of memory management for switching.</p>\n<blockquote>\n<p>Cons: For a large application (where each task is subscribing a callback to the previous task), it requires to split a single request to multiple threads creating a different kind of overhead. And potentially if a same request gets executed on multiple physical core, it adds overhead as data might not be available in L1/L2 core cache.</p>\n</blockquote>\n<p>This also happens with the “classic” approach since blocking calls will cause the CPU to switch to a different thread, and, as stated before, the CPU will even have to switch between runnable threads to share the CPU time as their number increases.</p>\n<blockquote>\n<p><strong>Question 1</strong>: […] for an application that aren't memory bounded and where creating more threads isn't a problem</p>\n</blockquote>\n<p>In the current state of Java, creating more threads is always going to be a problem at some point. With the thread-per-request model, it depends how many requests you have in parallel. 1000, probably ok, 10000… maybe not.</p>\n<blockquote>\n<p>it's not clear that writing a non-blocking application is actually more CPU efficient than writing blocking application. Is there any reason to believe otherwise?</p>\n</blockquote>\n<p>It is not just a question of efficiency, but also scalability. For the performance itself, this would require proper load testing. You may also want to check <a href=\"https://stackoverflow.com/questions/8546273/is-non-blocking-i-o-really-faster-than-multi-threaded-blocking-i-o-how\">Is non-blocking I/O really faster than multi-threaded blocking I/O? How?</a></p>\n<blockquote>\n<p><strong>Question 2</strong>: My understanding is also that if we use JDBC, the connection is actually blocking and even if we make the rest of our application to be non-blocking, because of the JDBC client we lose all the benefit and in that case a Option 1 is most likely better?</p>\n</blockquote>\n<p>JDBC is indeed a synchronous API. Oracle was working on ADBA as an asynchronous equivalent, but they discontinued it, considering that Project Loom will make it irrelevant. <a href=\"https://r2dbc.io/\" rel=\"nofollow noreferrer\">R2DBC</a> provides an alternative which supports MySQL. <a href=\"https://spring.io/blog/2019/05/16/reactive-transactions-with-spring\" rel=\"nofollow noreferrer\">Spring even supports reactive transactions</a>.</p>\n"}],"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":734,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1695310494,"creation_date":1670523518,"question_id":74734716,"body_markdown":"Our gRPC need to handle 1000 QPS and each request requires a list of **sequential operations** to happen, including one which is to read data from the DB using JDBC. Handling a single request takes at most 50ms.\r\n\r\nOur application can be written in two ways:\r\n\r\n- **Option 1 - Classic one blocking thread per request:** we can create a large thread pool (~200) and simply assign one thread per request and have that thread block while it waits for the DB.\r\n- **Option 2 - Having each request handled in a truly non-blocking fashion:**. This would require us to use a non-blocking MySQL client which I don&#39;t know if it exist, but for now let&#39;s assume it exist.\r\n\r\nMy understanding is that non-blocking approach has these pros and cons:\r\n- Pros: Allows to reduce the number of threads required, and as a such reduce the memory footprint\r\n- Pros: Save some overhead on the OS since it doesn&#39;t need to give CPU time to the thread waiting for IO\r\n- Cons: For a large application (where each task is subscribing a callback to the previous task), it requires to split a single request to multiple threads creating a different kind of overhead. And potentially if a same request gets executed on multiple physical core, it adds overhead as data might not be available in L1/L2 core cache.\r\n\r\n**Question 1:** Even though non blocking application seems to be the new cool thing, my understanding is that for an application that aren&#39;t memory bounded and where creating more threads isn&#39;t a problem, it&#39;s not clear that writing a non-blocking application is actually more CPU efficient than writing blocking application. Is there any reason to believe otherwise?\r\n\r\n**Question 2:** My understanding is also that if we use JDBC, the connection is actually blocking and even if we make the rest of our application to be non-blocking, because of the JDBC client we lose all the benefit and in that case a Option 1 is most likely better?","title":"Non-blocking vs blocking Java server with JDBC calls","body":"<p>Our gRPC need to handle 1000 QPS and each request requires a list of <strong>sequential operations</strong> to happen, including one which is to read data from the DB using JDBC. Handling a single request takes at most 50ms.</p>\n<p>Our application can be written in two ways:</p>\n<ul>\n<li><strong>Option 1 - Classic one blocking thread per request:</strong> we can create a large thread pool (~200) and simply assign one thread per request and have that thread block while it waits for the DB.</li>\n<li><strong>Option 2 - Having each request handled in a truly non-blocking fashion:</strong>. This would require us to use a non-blocking MySQL client which I don't know if it exist, but for now let's assume it exist.</li>\n</ul>\n<p>My understanding is that non-blocking approach has these pros and cons:</p>\n<ul>\n<li>Pros: Allows to reduce the number of threads required, and as a such reduce the memory footprint</li>\n<li>Pros: Save some overhead on the OS since it doesn't need to give CPU time to the thread waiting for IO</li>\n<li>Cons: For a large application (where each task is subscribing a callback to the previous task), it requires to split a single request to multiple threads creating a different kind of overhead. And potentially if a same request gets executed on multiple physical core, it adds overhead as data might not be available in L1/L2 core cache.</li>\n</ul>\n<p><strong>Question 1:</strong> Even though non blocking application seems to be the new cool thing, my understanding is that for an application that aren't memory bounded and where creating more threads isn't a problem, it's not clear that writing a non-blocking application is actually more CPU efficient than writing blocking application. Is there any reason to believe otherwise?</p>\n<p><strong>Question 2:</strong> My understanding is also that if we use JDBC, the connection is actually blocking and even if we make the rest of our application to be non-blocking, because of the JDBC client we lose all the benefit and in that case a Option 1 is most likely better?</p>\n"},{"tags":["java","udp","file-descriptor","datagram"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699930632,"post_id":77151478,"comment_id":136589856,"body_markdown":"Eh? You can already set SO_REUSEPORT with [`DatagramSocket.setOption()` and `SO_REUSEPORT`](https://www.cs.usfca.edu/~cs212/javadoc/api/java.base/java/net/StandardSocketOptions.html#SO_REUSEPORT). You don&#39;t need Reflection at all.","body":"Eh? You can already set SO_REUSEPORT with <a href=\"https://www.cs.usfca.edu/~cs212/javadoc/api/java.base/java/net/StandardSocketOptions.html#SO_REUSEPORT\" rel=\"nofollow noreferrer\"><code>DatagramSocket.setOption()</code> and <code>SO_REUSEPORT</code></a>. You don&#39;t need Reflection at all."}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1695314581,"post_id":77151687,"comment_id":136011150,"body_markdown":"Private fields are private for a reason.  They are implementation details.  Any future release of Java is free to change or remove them.  Java has warned people for many years not to rely on such internals.","body":"Private fields are private for a reason.  They are implementation details.  Any future release of Java is free to change or remove them.  Java has warned people for many years not to rely on such internals."}],"tags":[],"owner":{"account_id":1496441,"reputation":1,"user_id":1402263,"display_name":"diesel10"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1695310490,"creation_date":1695310490,"answer_id":77151687,"question_id":77151478,"body_markdown":"It appears that using the opens JVM flags we can get this work with java 17 again.\r\n\r\n    --add-opens=java.base/java.io=ALL-UNNAMED \r\n    --add-opens=java.base/java.net=ALL-UNNAMED \r\n    --add-opens=java.base/sun.nio.ch=ALL-UNNAMED \r\n    --add-opens java.base/java.lang=ALL-UNNAMED \r\n    --add-opens java.base/java.util=ALL-UNNAMED","title":"How to get FD on datagram socket?","body":"<p>It appears that using the opens JVM flags we can get this work with java 17 again.</p>\n<pre><code>--add-opens=java.base/java.io=ALL-UNNAMED \n--add-opens=java.base/java.net=ALL-UNNAMED \n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED \n--add-opens java.base/java.lang=ALL-UNNAMED \n--add-opens java.base/java.util=ALL-UNNAMED\n</code></pre>\n"}],"owner":{"account_id":1496441,"reputation":1,"user_id":1402263,"display_name":"diesel10"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695310490,"creation_date":1695308659,"question_id":77151478,"body_markdown":"Before java 17, we could get the FD on a datagram socket like below trick with reflection, in order to set a socket option for SO_PORTREUSE using a kernel API.  But the implementation changed in latest java and the field is now called delegate, and the setAccessible API will not work with it due to a java.lang.reflect.InaccessibleObjectException.  \r\n\r\nHas anyone found an alternative way to get this from the datagram socket?\r\n\r\n        private int getFD(DatagramSocket ds) throws Exception {\r\n            Field dsImpl = DatagramSocket.class.getDeclaredField(&quot;impl&quot;);\r\n            dsImpl.setAccessible(true);\r\n\r\n            Field fd = DatagramSocketImpl.class.getDeclaredField(&quot;fd&quot;);\r\n            fd.setAccessible(true);\r\n\r\n            FileDescriptor fdi = (FileDescriptor) fd.get(dsImpl.get(ds));\r\n\r\n            Field fdVal = FileDescriptor.class.getDeclaredField(&quot;fd&quot;);\r\n            fdVal.setAccessible(true);\r\n\r\n            return fdVal.getInt(fdi);\r\n        }","title":"How to get FD on datagram socket?","body":"<p>Before java 17, we could get the FD on a datagram socket like below trick with reflection, in order to set a socket option for SO_PORTREUSE using a kernel API.  But the implementation changed in latest java and the field is now called delegate, and the setAccessible API will not work with it due to a java.lang.reflect.InaccessibleObjectException.</p>\n<p>Has anyone found an alternative way to get this from the datagram socket?</p>\n<pre><code>    private int getFD(DatagramSocket ds) throws Exception {\n        Field dsImpl = DatagramSocket.class.getDeclaredField(&quot;impl&quot;);\n        dsImpl.setAccessible(true);\n\n        Field fd = DatagramSocketImpl.class.getDeclaredField(&quot;fd&quot;);\n        fd.setAccessible(true);\n\n        FileDescriptor fdi = (FileDescriptor) fd.get(dsImpl.get(ds));\n\n        Field fdVal = FileDescriptor.class.getDeclaredField(&quot;fd&quot;);\n        fdVal.setAccessible(true);\n\n        return fdVal.getInt(fdi);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","exception","jpa","hikaricp"],"owner":{"account_id":3997696,"reputation":33,"user_id":3294707,"display_name":"user3294707"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695309995,"creation_date":1695309660,"question_id":77151586,"body_markdown":"I want—when (for some reason) the database has a problem and cannot make the connection with HikariCP—the service to start normally and is not terminated because the database is failing.\r\n\r\nI tried to control the connection with try catch, also with `InitializationFailTimeout` and with `spring.datasource.continue-on-error: true`, but still the service does not start, maybe you have any other idea that I can try to use?\r\n\r\n    @Bean\r\n    public DBSecret dbSecret(Environment env) {\r\n        return DBSecret.builder()\r\n                .url(env.getProperty(&quot;spring.datasource.url&quot;))\r\n                .username(env.getProperty(&quot;spring.datasource.username&quot;))\r\n                .password(env.getProperty(&quot;spring.datasource.password&quot;))\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public DataSource datasource(DBSecret secret,\r\n                                 @Value(&quot;${spring.datasource.driverClassName}&quot;) String driverClass) {\r\n        HikariConfig config = new HikariConfig();\r\n        config.setJdbcUrl(secret.getUrl());\r\n        config.setUsername(secret.getUsername());\r\n        config.setPassword(secret.getPassword());\r\n        config.setDriverClassName(driverClass);\r\n        config.setConnectionTimeout(1800000);\r\n        try {\r\n            return connection(config);\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private HikariDataSource connection(HikariConfig config){\r\n        return new HikariDataSource(config);\r\n    }","title":"How can I control HikariCP exceptions?","body":"<p>I want—when (for some reason) the database has a problem and cannot make the connection with HikariCP—the service to start normally and is not terminated because the database is failing.</p>\n<p>I tried to control the connection with try catch, also with <code>InitializationFailTimeout</code> and with <code>spring.datasource.continue-on-error: true</code>, but still the service does not start, maybe you have any other idea that I can try to use?</p>\n<pre><code>@Bean\npublic DBSecret dbSecret(Environment env) {\n    return DBSecret.builder()\n            .url(env.getProperty(&quot;spring.datasource.url&quot;))\n            .username(env.getProperty(&quot;spring.datasource.username&quot;))\n            .password(env.getProperty(&quot;spring.datasource.password&quot;))\n            .build();\n}\n\n@Bean\npublic DataSource datasource(DBSecret secret,\n                             @Value(&quot;${spring.datasource.driverClassName}&quot;) String driverClass) {\n    HikariConfig config = new HikariConfig();\n    config.setJdbcUrl(secret.getUrl());\n    config.setUsername(secret.getUsername());\n    config.setPassword(secret.getPassword());\n    config.setDriverClassName(driverClass);\n    config.setConnectionTimeout(1800000);\n    try {\n        return connection(config);\n    }catch (Exception e){\n        e.printStackTrace();\n        return null;\n    }\n}\n\nprivate HikariDataSource connection(HikariConfig config){\n    return new HikariDataSource(config);\n}\n</code></pre>\n"},{"tags":["java","swing","gridbaglayout"],"answers":[{"comments":[{"owner":{"account_id":29501565,"reputation":7,"user_id":22608457,"display_name":"MouseTheMilkLover"},"score":0,"creation_date":1695316906,"post_id":77151431,"comment_id":136011625,"body_markdown":"Okay, one last thing. What IF I want one column to be smaller that the other? And still don&#39;t want them to change this size when other elements are added inside them.","body":"Okay, one last thing. What IF I want one column to be smaller that the other? And still don&#39;t want them to change this size when other elements are added inside them."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695317852,"post_id":77151431,"comment_id":136011785,"body_markdown":"@MouseTheMilkLover: if your goal is to maintain a width ratio that does not vary, then look into possibly using a [SpringLayout](https://stackoverflow.com/a/30616073/) or [Camickr&#39;s RelativeLayout](https://stackoverflow.com/a/30624128/).","body":"@MouseTheMilkLover: if your goal is to maintain a width ratio that does not vary, then look into possibly using a <a href=\"https://stackoverflow.com/a/30616073/\">SpringLayout</a> or <a href=\"https://stackoverflow.com/a/30624128/\">Camickr&#39;s RelativeLayout</a>."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695309553,"creation_date":1695308301,"answer_id":77151431,"question_id":77151300,"body_markdown":"Solution: You should use a simpler layout when one is called for. Here, better to have those center JPanels held in a GridLayout with 1 row and 2 columns as this will guarantee that they split the panel exactly in two.  And you can still use GridBagLayout inside the left panel if you want to center the button mid-panel.\r\n\r\nSide notes: \r\n* There is no need (or sense) to give a JButton a layout manager unless you are adding components to it, which would be somewhat unusual, but something I&#39;ve seen done, albeit rarely.\r\n* If you want a 30 px border around a component, then use an empty border: \r\n```\r\nint ebGap = 30;\r\nsetBorder(BorderFactory.createEmptyBorder(ebGap, ebGap, ebGap, ebGap));\r\n```\r\n\r\nFor example:\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.GridBagConstraints;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.GridLayout;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class SwingFoo02 extends JPanel {\r\n    \r\n    private static final int PREF_W = 400;\r\n    private static final int PREF_H = 300;\r\n    \r\n    public SwingFoo02() {\r\n        int ebGap = 30;\r\n        setBorder(BorderFactory.createEmptyBorder(ebGap, ebGap, ebGap, ebGap));\r\n        \r\n        JPanel centerLeft = new JPanel(new GridBagLayout());\r\n        JPanel centerRight = new JPanel();\r\n        \r\n        centerLeft.setBackground(Color.RED);\r\n        centerRight.setBackground(Color.GREEN);        \r\n\r\n        JButton leftBtn = new JButton(&quot;CLIIIIICK!!!&quot;);\r\n        GridBagConstraints gbc = new GridBagConstraints();        \r\n        gbc.anchor = GridBagConstraints.CENTER;\r\n        gbc.fill = GridBagConstraints.HORIZONTAL;\r\n        gbc.weightx = 1.0;\r\n        gbc.weighty = 0.0;\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        centerLeft.add(leftBtn, gbc);\r\n        \r\n        setLayout(new GridLayout(1, 2));\r\n        add(centerLeft);\r\n        add(centerRight);\r\n\r\n    }\r\n    \r\n\r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        Dimension supSize = super.getPreferredSize();\r\n        int w = Math.max(supSize.width, PREF_W);\r\n        int h = Math.max(supSize.height, PREF_H);\r\n        return new Dimension(w, h);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            SwingFoo02 mainPanel = new SwingFoo02();\r\n\r\n            JFrame frame = new JFrame(&quot;GUI&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(mainPanel);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n\r\n}\r\n```","title":"Having problem when using GridBagLayout on JPanel and putting JButton inside","body":"<p>Solution: You should use a simpler layout when one is called for. Here, better to have those center JPanels held in a GridLayout with 1 row and 2 columns as this will guarantee that they split the panel exactly in two.  And you can still use GridBagLayout inside the left panel if you want to center the button mid-panel.</p>\n<p>Side notes:</p>\n<ul>\n<li>There is no need (or sense) to give a JButton a layout manager unless you are adding components to it, which would be somewhat unusual, but something I've seen done, albeit rarely.</li>\n<li>If you want a 30 px border around a component, then use an empty border:</li>\n</ul>\n<pre><code>int ebGap = 30;\nsetBorder(BorderFactory.createEmptyBorder(ebGap, ebGap, ebGap, ebGap));\n</code></pre>\n<p>For example:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class SwingFoo02 extends JPanel {\n    \n    private static final int PREF_W = 400;\n    private static final int PREF_H = 300;\n    \n    public SwingFoo02() {\n        int ebGap = 30;\n        setBorder(BorderFactory.createEmptyBorder(ebGap, ebGap, ebGap, ebGap));\n        \n        JPanel centerLeft = new JPanel(new GridBagLayout());\n        JPanel centerRight = new JPanel();\n        \n        centerLeft.setBackground(Color.RED);\n        centerRight.setBackground(Color.GREEN);        \n\n        JButton leftBtn = new JButton(&quot;CLIIIIICK!!!&quot;);\n        GridBagConstraints gbc = new GridBagConstraints();        \n        gbc.anchor = GridBagConstraints.CENTER;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        gbc.weightx = 1.0;\n        gbc.weighty = 0.0;\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        centerLeft.add(leftBtn, gbc);\n        \n        setLayout(new GridLayout(1, 2));\n        add(centerLeft);\n        add(centerRight);\n\n    }\n    \n\n    @Override\n    public Dimension getPreferredSize() {\n        Dimension supSize = super.getPreferredSize();\n        int w = Math.max(supSize.width, PREF_W);\n        int h = Math.max(supSize.height, PREF_H);\n        return new Dimension(w, h);\n    }\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            SwingFoo02 mainPanel = new SwingFoo02();\n\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":29501565,"reputation":7,"user_id":22608457,"display_name":"MouseTheMilkLover"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77151431,"answer_count":1,"score":1,"last_activity_date":1695309553,"creation_date":1695307289,"question_id":77151300,"body_markdown":"Here&#39;s what I&#39;ve got. I have two JPanels, each with GridBagLayout. They have weightx = 0.5 and fill both directions. So basically the window is half one JPanel, half the other. And it should stay this way. But if i put for example JButton in one of them, then the JPanel widens and takes some space of the second JPanel. \r\n\r\nWhat should I do to prevent this behavior? Is there any other layout that would work the same way as I described?\r\n\r\nHere&#39;s the code I&#39;ve been testing this on.\r\n\r\n\\`\r\n\r\n```\r\nJFrame f = new JFrame();\r\n        f.setLayout(new BorderLayout());\r\n        f.setTitle(&quot;Start Window&quot;);\r\n        f.setDefaultCloseOperation(f.EXIT_ON_CLOSE);\r\n        f.setSize(400,300);\r\n        f.setResizable(true);\r\n\r\n        JPanel top = new JPanel();\r\n        JPanel right = new JPanel();\r\n        JPanel bottom = new JPanel();\r\n        JPanel left = new JPanel();\r\n\r\n        top.setPreferredSize(new Dimension(30,30));\r\n        right.setPreferredSize(new Dimension(30,30));\r\n        bottom.setPreferredSize(new Dimension(30,30));\r\n        left.setPreferredSize(new Dimension(30,30));\r\n\r\n        f.add(top,BorderLayout.NORTH);\r\n        f.add(right,BorderLayout.EAST);\r\n        f.add(bottom,BorderLayout.SOUTH);\r\n        f.add(left,BorderLayout.WEST);\r\n\r\n        JPanel centerContainer = new JPanel(new GridBagLayout());\r\n        GridBagConstraints centerLayout = new GridBagConstraints();\r\n        centerContainer.setBackground(Color.blue);\r\n        f.add(centerContainer);\r\n\r\n        JPanel centerLeft = new JPanel(new GridBagLayout());\r\n        GridBagConstraints centerLeftLayout = new GridBagConstraints();\r\n        centerLayout.gridx=0;\r\n        centerLayout.gridy=0;\r\n        centerLayout.weightx=0.5;\r\n        centerLayout.weighty=1;\r\n        centerLayout.fill = GridBagConstraints.BOTH;\r\n        centerLeft.setBackground(Color.red);\r\n        centerContainer.add(centerLeft,centerLayout);\r\n\r\n        JPanel centerRight = new JPanel();\r\n        centerLayout.gridx=1;\r\n        centerLayout.gridy=0;\r\n        centerLayout.weightx=0.5;\r\n        centerLayout.weighty=1;\r\n        centerLayout.fill = GridBagConstraints.BOTH;\r\n        centerRight.setBackground(Color.green);\r\n        centerContainer.add(centerRight,centerLayout);\r\n\r\n        JPanel leftElement = new JPanel(new GridBagLayout());\r\n        GridBagConstraints leftElementLayout = new GridBagConstraints();\r\n\r\n        centerLeftLayout.gridx=0;\r\n        centerLeftLayout.gridy=0;\r\n        centerLeftLayout.weightx=1;\r\n        centerLeftLayout.weighty=1;\r\n        centerLeftLayout.fill = GridBagConstraints.HORIZONTAL;\r\n\r\n        centerLeft.add(leftElement,centerLeftLayout);\r\n\r\n        JButton leftBtn = new JButton(&quot;CLIIIIICK!!!&quot;);\r\n        leftBtn.setLayout(new GridBagLayout());\r\n        leftElementLayout.gridx=0;\r\n        leftElementLayout.gridy=0;\r\n        leftElementLayout.weighty=0;\r\n        leftElementLayout.weightx=1;\r\n        leftElementLayout.fill=GridBagConstraints.HORIZONTAL;\r\n\r\n\r\n        leftElement.add(leftBtn,leftElementLayout);\r\n\r\n\r\n        f.setVisible(true);\r\n```\r\n\r\n\\`","title":"Having problem when using GridBagLayout on JPanel and putting JButton inside","body":"<p>Here's what I've got. I have two JPanels, each with GridBagLayout. They have weightx = 0.5 and fill both directions. So basically the window is half one JPanel, half the other. And it should stay this way. But if i put for example JButton in one of them, then the JPanel widens and takes some space of the second JPanel.</p>\n<p>What should I do to prevent this behavior? Is there any other layout that would work the same way as I described?</p>\n<p>Here's the code I've been testing this on.</p>\n<p>`</p>\n<pre><code>JFrame f = new JFrame();\n        f.setLayout(new BorderLayout());\n        f.setTitle(&quot;Start Window&quot;);\n        f.setDefaultCloseOperation(f.EXIT_ON_CLOSE);\n        f.setSize(400,300);\n        f.setResizable(true);\n\n        JPanel top = new JPanel();\n        JPanel right = new JPanel();\n        JPanel bottom = new JPanel();\n        JPanel left = new JPanel();\n\n        top.setPreferredSize(new Dimension(30,30));\n        right.setPreferredSize(new Dimension(30,30));\n        bottom.setPreferredSize(new Dimension(30,30));\n        left.setPreferredSize(new Dimension(30,30));\n\n        f.add(top,BorderLayout.NORTH);\n        f.add(right,BorderLayout.EAST);\n        f.add(bottom,BorderLayout.SOUTH);\n        f.add(left,BorderLayout.WEST);\n\n        JPanel centerContainer = new JPanel(new GridBagLayout());\n        GridBagConstraints centerLayout = new GridBagConstraints();\n        centerContainer.setBackground(Color.blue);\n        f.add(centerContainer);\n\n        JPanel centerLeft = new JPanel(new GridBagLayout());\n        GridBagConstraints centerLeftLayout = new GridBagConstraints();\n        centerLayout.gridx=0;\n        centerLayout.gridy=0;\n        centerLayout.weightx=0.5;\n        centerLayout.weighty=1;\n        centerLayout.fill = GridBagConstraints.BOTH;\n        centerLeft.setBackground(Color.red);\n        centerContainer.add(centerLeft,centerLayout);\n\n        JPanel centerRight = new JPanel();\n        centerLayout.gridx=1;\n        centerLayout.gridy=0;\n        centerLayout.weightx=0.5;\n        centerLayout.weighty=1;\n        centerLayout.fill = GridBagConstraints.BOTH;\n        centerRight.setBackground(Color.green);\n        centerContainer.add(centerRight,centerLayout);\n\n        JPanel leftElement = new JPanel(new GridBagLayout());\n        GridBagConstraints leftElementLayout = new GridBagConstraints();\n\n        centerLeftLayout.gridx=0;\n        centerLeftLayout.gridy=0;\n        centerLeftLayout.weightx=1;\n        centerLeftLayout.weighty=1;\n        centerLeftLayout.fill = GridBagConstraints.HORIZONTAL;\n\n        centerLeft.add(leftElement,centerLeftLayout);\n\n        JButton leftBtn = new JButton(&quot;CLIIIIICK!!!&quot;);\n        leftBtn.setLayout(new GridBagLayout());\n        leftElementLayout.gridx=0;\n        leftElementLayout.gridy=0;\n        leftElementLayout.weighty=0;\n        leftElementLayout.weightx=1;\n        leftElementLayout.fill=GridBagConstraints.HORIZONTAL;\n\n\n        leftElement.add(leftBtn,leftElementLayout);\n\n\n        f.setVisible(true);\n</code></pre>\n<p>`</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1695267640,"post_id":77147008,"comment_id":136002397,"body_markdown":"Off-topic: If your `for` loops for printing the contents of `deck1` and `deck2` are for testing or debugging, you might be interested in `Arrays.toString`: `System.out.println (Arrays.toString (deck1));` for example will print the contents of the array.","body":"Off-topic: If your <code>for</code> loops for printing the contents of <code>deck1</code> and <code>deck2</code> are for testing or debugging, you might be interested in <code>Arrays.toString</code>: <code>System.out.println (Arrays.toString (deck1));</code> for example will print the contents of the array."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1695268769,"post_id":77147008,"comment_id":136002496,"body_markdown":"The card game, [War](https://en.wikipedia.org/wiki/War_(card_game)), is played with a deck of playing cards which has four suits, i.e. Clubs, Diamonds, Hearts and Spades, where each suit has 13 cards with values from 2 to 14 (inclusive, assuming Aces are high). Shouldn&#39;t your [full] &quot;deck&quot; model an actual deck of [playing] cards?","body":"The card game, <a href=\"https://en.wikipedia.org/wiki/War_(card_game)\" rel=\"nofollow noreferrer\">War</a>, is played with a deck of playing cards which has four suits, i.e. Clubs, Diamonds, Hearts and Spades, where each suit has 13 cards with values from 2 to 14 (inclusive, assuming Aces are high). Shouldn&#39;t your [full] &quot;deck&quot; model an actual deck of [playing] cards?"},{"owner":{"account_id":949245,"reputation":796,"user_id":975773,"accept_rate":67,"display_name":"Shobit"},"score":0,"creation_date":1695275502,"post_id":77147008,"comment_id":136003132,"body_markdown":"If the `player` from `boolean player = deck1[0] &lt; deck2[0];` is true, this means deck2 is the winner, however, in your if-condition `if(player) { ... cards1++; cards2--; }` it seems like you&#39;re giving the card to player1 instead of player2.  Am I misunderstanding something?  Shouldn&#39;t it be the other way?","body":"If the <code>player</code> from <code>boolean player = deck1[0] &lt; deck2[0];</code> is true, this means deck2 is the winner, however, in your if-condition <code>if(player) { ... cards1++; cards2--; }</code> it seems like you&#39;re giving the card to player1 instead of player2.  Am I misunderstanding something?  Shouldn&#39;t it be the other way?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1695400653,"post_id":77147008,"comment_id":136024220,"body_markdown":"Off-topic: Consider creating a `static` method for sorting. You can use it in future code. Consider using the [Fisher-Yates Shuffle](https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle).","body":"Off-topic: Consider creating a <code>static</code> method for sorting. You can use it in future code. Consider using the <a href=\"https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\" rel=\"nofollow noreferrer\">Fisher-Yates Shuffle</a>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1695400849,"post_id":77147008,"comment_id":136024259,"body_markdown":"Off-topic: You could use one `for` loop to split the dek. Since you used two `for` loops to split the deck, consider twice using  [copyOfRange method](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#copyOfRange(int%5B%5D,int,int)) instead.","body":"Off-topic: You could use one <code>for</code> loop to split the dek. Since you used two <code>for</code> loops to split the deck, consider twice using  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#copyOfRange(int%5B%5D,int,int)\" rel=\"nofollow noreferrer\">copyOfRange method</a> instead."}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1695360048,"post_id":77151566,"comment_id":136016507,"body_markdown":"Maybe you could post your corrected code, so people can see exactly how you solved it?","body":"Maybe you could post your corrected code, so people can see exactly how you solved it?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1695399440,"post_id":77151566,"comment_id":136023983,"body_markdown":"@Abra I believe Seruloo changed `int l = (int) (Math.random() * (52 - i));` to `int l = (int) (Math.random() * (52));`","body":"@Abra I believe Seruloo changed <code>int l = (int) (Math.random() * (52 - i));</code> to <code>int l = (int) (Math.random() * (52));</code>"}],"tags":[],"owner":{"account_id":29496627,"reputation":9,"user_id":22604511,"display_name":"Seruloo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695309455,"creation_date":1695309455,"answer_id":77151566,"question_id":77147008,"body_markdown":"I figured out the issue! Since with this method of tie resolution, the king of diamonds can never be beaten, the player with &quot;52&quot; in their deck will always win. For some reason, the deck shuffling mechanism consistently put 52 in the first 26 cards, so that player always won. After making the math.random multiplied by 52 rather than 52-i, the 52 was more randomly distributed and both players won.","title":"Java Game of War not working as expected - fixed winner regardless of original deck values","body":"<p>I figured out the issue! Since with this method of tie resolution, the king of diamonds can never be beaten, the player with &quot;52&quot; in their deck will always win. For some reason, the deck shuffling mechanism consistently put 52 in the first 26 cards, so that player always won. After making the math.random multiplied by 52 rather than 52-i, the 52 was more randomly distributed and both players won.</p>\n"}],"owner":{"account_id":29496627,"reputation":9,"user_id":22604511,"display_name":"Seruloo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695309455,"creation_date":1695266754,"question_id":77147008,"body_markdown":"Java program has fixed winner regardless of cards in both players decks. \r\n\r\nThe game of War starts with a shuffled deck of 52 that are distributed evenly (26 cards each) to both players (deck1 and deck2). For the number of rounds specified, the first card in each deck&#39;s array is compared. (The player may exit after every round). The winner takes both cards (values) and puts it at the bottom of the deck (end of listed values) (Arraylists are not allowed). The game ends when one deck has no cards. One of the decks consistently gets all the cards regardless of the original shuffled values and I don&#39;t understand why. All I could pinpoint is that the winner depended on the original assignment of cards from the array. The deck that obtained the first 26 cards always won.\r\n\r\nCode show below:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nimport static java.lang.System.exit;\r\n\r\npublic class War {\r\n    public static void main(String[] args) {\r\n        int numTimePlay = args.length &gt; 0 ? Integer.parseInt(args[0]) : 0;\r\n\r\n        if (numTimePlay &lt; 1) {\r\n            System.out.println(&quot;Error: invalid number&quot;);\r\n            exit(0);\r\n        }\r\n\r\n        //starts game\r\n        for (int m = 0; m &lt; numTimePlay; m++) {\r\n\r\n            //Each grouping of four represents a group of the same number arranged by suit\r\n            int[] fullDeck = new int[52];\r\n            for (int i = 0; i &lt; fullDeck.length; i++) {\r\n                fullDeck[i] = i + 1;\r\n            }\r\n            //Shuffled numbers\r\n            for (int i = 0; i &lt; fullDeck.length; i++) {\r\n                int l = (int) (Math.random() * (52 - i));\r\n                int temp1 = fullDeck[i];\r\n                fullDeck[i] = fullDeck[l];\r\n                fullDeck[l] = temp1;\r\n            }\r\n\r\n            //Split deck for players\r\n            int[] deck1 = new int[52];\r\n            int[] deck2 = new int[52];\r\n            for (int i = 0; i &lt; 26; i++) {\r\n                deck2[i] = fullDeck[i];\r\n            }\r\n            for (int i = 26; i &lt; fullDeck.length; i++) {\r\n                deck1[i - 26] = fullDeck[i];\r\n            }\r\n\r\n            for (int i = 0; i &lt; 52; i++){\r\n                System.out.print(deck1[i]+ &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n            for (int i = 0; i &lt; 52; i++){\r\n                System.out.print(deck2[i]+ &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n\r\n            //starting deck numbers\r\n            int cards1 = 26;\r\n            int cards2 = 26;\r\n\r\n            while (deck1[0] != 0 &amp;&amp; deck2[0] != 0) {\r\n                //look it&#39;s the &quot;starting&quot; player\r\n                int startingPlayer = (int) (Math.random() * 2) == 0 ? 1 : 2;\r\n                boolean player = deck1[0] &lt; deck2[0];\r\n\r\n                //deck 1 moves over\r\n                int value1 = deck1[0];\r\n                for (int i  = 1; i &lt; deck1.length; i++){\r\n                    deck1[i-1] = deck1[i];\r\n                }\r\n\r\n                //deck 2 moves over\r\n                int value2 = deck2[0];\r\n                for (int i = 1; i &lt; deck2.length; i++){\r\n                    deck2[i-1] = deck2[i];\r\n                }\r\n\r\n                //cards added to winner&#39;s deck\r\n                if (player) {\r\n                    deck1[cards1-1] = value1;\r\n                    deck1[cards1] = value2;\r\n                    cards1++;\r\n                    cards2--;\r\n                }\r\n                else{\r\n                    deck2[cards2-1] = value2;\r\n                    deck2[cards2] = value1;\r\n                    cards2++;\r\n                    cards1--;\r\n                }\r\n            }\r\n\r\n                for (int i = 0; i &lt; 52; i++){\r\n                    System.out.print(deck1[i]+ &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n                for (int i = 0; i &lt; 52; i++){\r\n                System.out.print(deck2[i]+ &quot; &quot;);\r\n                }\r\n                if (cards1 == 0){\r\n                    System.out.println(&quot;Player loses&quot;);\r\n                }\r\n                else{\r\n                    System.out.println(&quot;CPU loses&quot;);\r\n                }\r\n                //Grab user input to use break if needed\r\n                System.out.println(&quot;Do you want to continue? Y/N&quot;);\r\n                Scanner myScanner = new Scanner(System.in);\r\n                String yes = myScanner.next();\r\n                if (!(yes.equals(&quot;Y&quot;))){\r\n                    System.out.println(&quot;Thanks for playing!&quot;);\r\n                    exit(0);\r\n                }\r\n\r\n        }\r\n    }\r\n}\r\n```","title":"Java Game of War not working as expected - fixed winner regardless of original deck values","body":"<p>Java program has fixed winner regardless of cards in both players decks.</p>\n<p>The game of War starts with a shuffled deck of 52 that are distributed evenly (26 cards each) to both players (deck1 and deck2). For the number of rounds specified, the first card in each deck's array is compared. (The player may exit after every round). The winner takes both cards (values) and puts it at the bottom of the deck (end of listed values) (Arraylists are not allowed). The game ends when one deck has no cards. One of the decks consistently gets all the cards regardless of the original shuffled values and I don't understand why. All I could pinpoint is that the winner depended on the original assignment of cards from the array. The deck that obtained the first 26 cards always won.</p>\n<p>Code show below:</p>\n<pre><code>import java.util.Scanner;\n\nimport static java.lang.System.exit;\n\npublic class War {\n    public static void main(String[] args) {\n        int numTimePlay = args.length &gt; 0 ? Integer.parseInt(args[0]) : 0;\n\n        if (numTimePlay &lt; 1) {\n            System.out.println(&quot;Error: invalid number&quot;);\n            exit(0);\n        }\n\n        //starts game\n        for (int m = 0; m &lt; numTimePlay; m++) {\n\n            //Each grouping of four represents a group of the same number arranged by suit\n            int[] fullDeck = new int[52];\n            for (int i = 0; i &lt; fullDeck.length; i++) {\n                fullDeck[i] = i + 1;\n            }\n            //Shuffled numbers\n            for (int i = 0; i &lt; fullDeck.length; i++) {\n                int l = (int) (Math.random() * (52 - i));\n                int temp1 = fullDeck[i];\n                fullDeck[i] = fullDeck[l];\n                fullDeck[l] = temp1;\n            }\n\n            //Split deck for players\n            int[] deck1 = new int[52];\n            int[] deck2 = new int[52];\n            for (int i = 0; i &lt; 26; i++) {\n                deck2[i] = fullDeck[i];\n            }\n            for (int i = 26; i &lt; fullDeck.length; i++) {\n                deck1[i - 26] = fullDeck[i];\n            }\n\n            for (int i = 0; i &lt; 52; i++){\n                System.out.print(deck1[i]+ &quot; &quot;);\n            }\n            System.out.println();\n            for (int i = 0; i &lt; 52; i++){\n                System.out.print(deck2[i]+ &quot; &quot;);\n            }\n            System.out.println();\n\n            //starting deck numbers\n            int cards1 = 26;\n            int cards2 = 26;\n\n            while (deck1[0] != 0 &amp;&amp; deck2[0] != 0) {\n                //look it's the &quot;starting&quot; player\n                int startingPlayer = (int) (Math.random() * 2) == 0 ? 1 : 2;\n                boolean player = deck1[0] &lt; deck2[0];\n\n                //deck 1 moves over\n                int value1 = deck1[0];\n                for (int i  = 1; i &lt; deck1.length; i++){\n                    deck1[i-1] = deck1[i];\n                }\n\n                //deck 2 moves over\n                int value2 = deck2[0];\n                for (int i = 1; i &lt; deck2.length; i++){\n                    deck2[i-1] = deck2[i];\n                }\n\n                //cards added to winner's deck\n                if (player) {\n                    deck1[cards1-1] = value1;\n                    deck1[cards1] = value2;\n                    cards1++;\n                    cards2--;\n                }\n                else{\n                    deck2[cards2-1] = value2;\n                    deck2[cards2] = value1;\n                    cards2++;\n                    cards1--;\n                }\n            }\n\n                for (int i = 0; i &lt; 52; i++){\n                    System.out.print(deck1[i]+ &quot; &quot;);\n                }\n                System.out.println();\n                for (int i = 0; i &lt; 52; i++){\n                System.out.print(deck2[i]+ &quot; &quot;);\n                }\n                if (cards1 == 0){\n                    System.out.println(&quot;Player loses&quot;);\n                }\n                else{\n                    System.out.println(&quot;CPU loses&quot;);\n                }\n                //Grab user input to use break if needed\n                System.out.println(&quot;Do you want to continue? Y/N&quot;);\n                Scanner myScanner = new Scanner(System.in);\n                String yes = myScanner.next();\n                if (!(yes.equals(&quot;Y&quot;))){\n                    System.out.println(&quot;Thanks for playing!&quot;);\n                    exit(0);\n                }\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","rpmbuild"],"owner":{"account_id":23449971,"reputation":1,"user_id":17506262,"display_name":"Hel&#237; Rodr&#237;guez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695309074,"creation_date":1695309074,"question_id":77151527,"body_markdown":"Create a RPM package after generate a jar file with the same pom.xml\r\nI’m using the plugin org.codehaus.mojo. I would like to create a RPM package after create a jar file with the same pom.xml file. The documentation is not accurate enought to configure the pom.xml file or the plugin does not work. The plugin find some problems with the directories in order to copy the jar file and to prepare the package.\r\nOne of most common error is “Unable to copy files for packaging: The destination directory cannot include itself”. It seems than them the prefix item doesn’t work or there are some items misconfigured.\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;rpm-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t\t\t&lt;extensions&gt;true&lt;/extensions&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;generate-rpm&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;rpm&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;!--phase&gt;package&lt;/phase&gt;--&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;name&gt;${project.artifactId}&lt;/name&gt;\r\n\t\t\t\t\t&lt;license&gt;Prop License (c), Me&lt;/license&gt;\r\n\t\t\t\t\t&lt;distribution&gt;Test 1.0&lt;/distribution&gt;\r\n\t\t\t\t\t&lt;group&gt;${project.basedir}/temp&lt;/group&gt;\r\n\t\t\t\t\t&lt;packager&gt;Me&lt;/packager&gt;\r\n\t\t\t\t\t&lt;prefix&gt;/usr/local/games&lt;/prefix&gt;\r\n\t\t\t\t\t&lt;mappings&gt;\r\n\t\t\t\t\t&lt;mapping&gt;\r\n\t\t\t\t\t\t&lt;directory&gt;/usr/local&lt;/directory&gt;\r\n\t\t\t\t\t\t&lt;!--directoryIncluded&gt;false&lt;/directoryIncluded&gt;--&gt;\r\n\t\t\t\t\t\t&lt;!--configuration&gt;true&lt;/configuration&gt;--&gt;\r\n\t\t\t\t\t\t&lt;filemode&gt;777&lt;/filemode&gt;\r\n\t\t\t\t\t\t&lt;username&gt;rodriguez&lt;/username&gt;\r\n\t\t\t\t\t\t&lt;groupname&gt;root&lt;/groupname&gt;\r\n\t\t\t\t\t\t&lt;sources&gt;\r\n\t\t\t\t\t\t\t&lt;source&gt;\r\n\t\t\t\t\t\t\t\t&lt;!--location&gt;${project.basedir}/target${project.artifactId}-${project.version}.jar&lt;/location--&gt;\r\n\t\t\t\t\t\t\t\t&lt;!--location&gt;${project.basedir}/target/${project.artifactId}.jar&lt;/location&gt;--&gt;\r\n\t\t\t\t\t\t\t\t&lt;location&gt;${project.basedir}/target&lt;/location&gt;\r\n\t\t\t\t\t\t\t&lt;/source&gt;\r\n\t\t\t\t\t\t&lt;/sources&gt;\r\n\t\t\t\t\t&lt;/mapping&gt;\r\n\t\t\t\t\t&lt;/mappings&gt;\r\n\t\t\t\t\t&lt;preinstallScriptlet&gt;\r\n                        &lt;scriptFile&gt;${project.basedir}/scripts/preinstall.sh&lt;/scriptFile&gt;\r\n                    &lt;/preinstallScriptlet&gt;\r\n                   &lt;postinstallScriptlet&gt;\r\n                        &lt;scriptFile&gt;${project.basedir}/scripts/postinstall.sh&lt;/scriptFile&gt;\r\n                        &lt;fileEncoding&gt;utf-8&lt;/fileEncoding&gt;\r\n                   &lt;/postinstallScriptlet&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;","title":"RPM package after generate a jar file with the same pom.xml","body":"<p>Create a RPM package after generate a jar file with the same pom.xml\nI’m using the plugin org.codehaus.mojo. I would like to create a RPM package after create a jar file with the same pom.xml file. The documentation is not accurate enought to configure the pom.xml file or the plugin does not work. The plugin find some problems with the directories in order to copy the jar file and to prepare the package.\nOne of most common error is “Unable to copy files for packaging: The destination directory cannot include itself”. It seems than them the prefix item doesn’t work or there are some items misconfigured.</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;rpm-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n            &lt;extensions&gt;true&lt;/extensions&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;generate-rpm&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;rpm&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;!--phase&gt;package&lt;/phase&gt;--&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;name&gt;${project.artifactId}&lt;/name&gt;\n                &lt;license&gt;Prop License (c), Me&lt;/license&gt;\n                &lt;distribution&gt;Test 1.0&lt;/distribution&gt;\n                &lt;group&gt;${project.basedir}/temp&lt;/group&gt;\n                &lt;packager&gt;Me&lt;/packager&gt;\n                &lt;prefix&gt;/usr/local/games&lt;/prefix&gt;\n                &lt;mappings&gt;\n                &lt;mapping&gt;\n                    &lt;directory&gt;/usr/local&lt;/directory&gt;\n                    &lt;!--directoryIncluded&gt;false&lt;/directoryIncluded&gt;--&gt;\n                    &lt;!--configuration&gt;true&lt;/configuration&gt;--&gt;\n                    &lt;filemode&gt;777&lt;/filemode&gt;\n                    &lt;username&gt;rodriguez&lt;/username&gt;\n                    &lt;groupname&gt;root&lt;/groupname&gt;\n                    &lt;sources&gt;\n                        &lt;source&gt;\n                            &lt;!--location&gt;${project.basedir}/target${project.artifactId}-${project.version}.jar&lt;/location--&gt;\n                            &lt;!--location&gt;${project.basedir}/target/${project.artifactId}.jar&lt;/location&gt;--&gt;\n                            &lt;location&gt;${project.basedir}/target&lt;/location&gt;\n                        &lt;/source&gt;\n                    &lt;/sources&gt;\n                &lt;/mapping&gt;\n                &lt;/mappings&gt;\n                &lt;preinstallScriptlet&gt;\n                    &lt;scriptFile&gt;${project.basedir}/scripts/preinstall.sh&lt;/scriptFile&gt;\n                &lt;/preinstallScriptlet&gt;\n               &lt;postinstallScriptlet&gt;\n                    &lt;scriptFile&gt;${project.basedir}/scripts/postinstall.sh&lt;/scriptFile&gt;\n                    &lt;fileEncoding&gt;utf-8&lt;/fileEncoding&gt;\n               &lt;/postinstallScriptlet&gt;\n            &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","github-actions","quarkus"],"answers":[{"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":1,"creation_date":1690482887,"post_id":76781949,"comment_id":135363878,"body_markdown":"Just for the clarification, the `mvn package` lifecycle phase will not run all kind of tests, just the &quot;unit tests&quot;. In most cases it is fair enough but if you need to run integration tests too `mvn verfiy` or `mvn install` are the right choice.","body":"Just for the clarification, the <code>mvn package</code> lifecycle phase will not run all kind of tests, just the &quot;unit tests&quot;. In most cases it is fair enough but if you need to run integration tests too <code>mvn verfiy</code> or <code>mvn install</code> are the right choice."}],"tags":[],"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690477020,"creation_date":1690477020,"answer_id":76781949,"question_id":76781846,"body_markdown":"The `quarkus:test` command is really intended for local, interactive, continuous testing. The advantage of the command is that it will detect code changes and re-run the affected tests automatically. That&#39;s awesome locally, but doesn&#39;t make sense in a CI. \r\n\r\nTo run Quarkus tests in &#39;normal&#39; mode, it&#39;s sufficient to just run the normal maven commands, such as `mvn install` or `mvn verify`. In your case, the `mvn package` should be running the tests already, but you could confirm by deliberately committing a failing test and confirming the build fails. \r\n\r\nI&#39;m fairly sure that `quarkus.test.disable-continuous-testing` option doesn&#39;t exist. I think maybe it&#39;s got confused with `quarkus.test.continuous-testing=disabled`, which does exist. That option is mostly intended if you&#39;re running with `quarkus:dev` (which runs the application and can also continuously run tests) but only want live reload of the application, and definitely don&#39;t want tests. \r\n\r\nFor your scenario, I&#39;d just remove the `./mvnw quarkus:test -Dquarkus.test.disable-continuous-testing=true` line from your workflow file. That should avoid the interactive session and the Quarkus tests will be run in the previous maven step. ","title":"Github Actions Workflow for Quarkus Tests","body":"<p>The <code>quarkus:test</code> command is really intended for local, interactive, continuous testing. The advantage of the command is that it will detect code changes and re-run the affected tests automatically. That's awesome locally, but doesn't make sense in a CI.</p>\n<p>To run Quarkus tests in 'normal' mode, it's sufficient to just run the normal maven commands, such as <code>mvn install</code> or <code>mvn verify</code>. In your case, the <code>mvn package</code> should be running the tests already, but you could confirm by deliberately committing a failing test and confirming the build fails.</p>\n<p>I'm fairly sure that <code>quarkus.test.disable-continuous-testing</code> option doesn't exist. I think maybe it's got confused with <code>quarkus.test.continuous-testing=disabled</code>, which does exist. That option is mostly intended if you're running with <code>quarkus:dev</code> (which runs the application and can also continuously run tests) but only want live reload of the application, and definitely don't want tests.</p>\n<p>For your scenario, I'd just remove the <code>./mvnw quarkus:test -Dquarkus.test.disable-continuous-testing=true</code> line from your workflow file. That should avoid the interactive session and the Quarkus tests will be run in the previous maven step.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1695606751,"post_id":77151494,"comment_id":136042340,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77151494/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24354111,"reputation":1,"user_id":18289571,"display_name":"ours"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695308779,"creation_date":1695308779,"answer_id":77151494,"question_id":76781846,"body_markdown":"&gt; This causes the job to hang on github and just keep running indefinitely\r\n\r\nA bit off-topic but you should add a time limit for your future jobs. \r\n\r\nYou can do so with `timeout-minutes`.\r\n\r\nFor more information, see this topic: https://stackoverflow.com/a/59076067/18289571","title":"Github Actions Workflow for Quarkus Tests","body":"<blockquote>\n<p>This causes the job to hang on github and just keep running indefinitely</p>\n</blockquote>\n<p>A bit off-topic but you should add a time limit for your future jobs.</p>\n<p>You can do so with <code>timeout-minutes</code>.</p>\n<p>For more information, see this topic: <a href=\"https://stackoverflow.com/a/59076067/18289571\">https://stackoverflow.com/a/59076067/18289571</a></p>\n"}],"owner":{"account_id":27652339,"reputation":23,"user_id":21106947,"display_name":"jf743"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76781949,"answer_count":2,"score":2,"last_activity_date":1695308779,"creation_date":1690476148,"question_id":76781846,"body_markdown":"I am trying to write a github actions workflow to run tests for a quarkus application. However, when running quarkus tests, it runs all the tests, and then displays a command prompt and asks for more commands. This causes the job to hang on github and just keep running indefinitely. I can&#39;t figure out how to get quarkus to run all the tests and then just exit.\r\n\r\nHere is my current .yml file:\r\n\r\n```\r\nname: Java CI with Quarkus\r\n\r\non:\r\n  push:\r\n    branches: [ main ]\r\n  pull_request:\r\n    branches: [ main ]\r\n\r\nconcurrency:\r\n  group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}\r\n  cancel-in-progress: true\r\n\r\njobs:\r\n  build:\r\n\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n      - uses: actions/checkout@v2\r\n      - name: Set up JDK 17\r\n        uses: actions/setup-java@v2\r\n        with:\r\n          java-version: &#39;17&#39;\r\n          distribution: &#39;adopt&#39;\r\n      - name: Cache Maven packages\r\n        uses: actions/cache@v2\r\n        with:\r\n          path: ~/.m2\r\n          key: ${{ runner.os }}-m2-${{ hashFiles(&#39;**/pom.xml&#39;) }}\r\n          restore-keys: ${{ runner.os }}-m2\r\n      - name: Build with Maven\r\n        run: mvn -B package --file pom.xml\r\n      - name: Test with Quarkus\r\n        run: ./mvnw quarkus:test -Dquarkus.test.disable-continuous-testing=true\r\n```","title":"Github Actions Workflow for Quarkus Tests","body":"<p>I am trying to write a github actions workflow to run tests for a quarkus application. However, when running quarkus tests, it runs all the tests, and then displays a command prompt and asks for more commands. This causes the job to hang on github and just keep running indefinitely. I can't figure out how to get quarkus to run all the tests and then just exit.</p>\n<p>Here is my current .yml file:</p>\n<pre><code>name: Java CI with Quarkus\n\non:\n  push:\n    branches: [ main ]\n  pull_request:\n    branches: [ main ]\n\nconcurrency:\n  group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}\n  cancel-in-progress: true\n\njobs:\n  build:\n\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v2\n      - name: Set up JDK 17\n        uses: actions/setup-java@v2\n        with:\n          java-version: '17'\n          distribution: 'adopt'\n      - name: Cache Maven packages\n        uses: actions/cache@v2\n        with:\n          path: ~/.m2\n          key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}\n          restore-keys: ${{ runner.os }}-m2\n      - name: Build with Maven\n        run: mvn -B package --file pom.xml\n      - name: Test with Quarkus\n        run: ./mvnw quarkus:test -Dquarkus.test.disable-continuous-testing=true\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":57990,"reputation":3210,"user_id":173689,"accept_rate":85,"display_name":"Daniel Bleisteiner"},"score":0,"creation_date":1695309616,"post_id":77151387,"comment_id":136010073,"body_markdown":"Using `debug=true` I&#39;m seeing many `create global temporary table HT_` and `create global temporary table HTE_` before running OOM. But these seem to go through since I can see these generated tables in the database. Right now I&#39;ve no idea why Hibernate does that – maybe for performance optimizations.","body":"Using <code>debug=true</code> I&#39;m seeing many <code>create global temporary table HT_</code> and <code>create global temporary table HTE_</code> before running OOM. But these seem to go through since I can see these generated tables in the database. Right now I&#39;ve no idea why Hibernate does that – maybe for performance optimizations."}],"owner":{"account_id":57990,"reputation":3210,"user_id":173689,"accept_rate":85,"display_name":"Daniel Bleisteiner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695308693,"creation_date":1695307962,"question_id":77151387,"body_markdown":"I&#39;m having problems with a fresh application using **SpringBoot 3.1.3** and an existing **JPA** data model. We&#39;ve used that data model with several other applications before – but with **Java 11** and **SpringBoot 2.7.x**.\r\n\r\nThis time I want to go **Java 17** and therefor I&#39;ve **migrated** the data model from `javax` to `jakarta` using OpenRewrite. That worked pretty well as far as I can see. The project itself builds without any errors and I&#39;ve also **fixed** a single **invalid** `@Table(indexes={@Index(...)})` where Hibernate complained about. That **invalid index annotation** has never been verified with **SpringBoot 2.7** before.\r\n\r\nAs soon as I&#39;d fixed that the **SpringBoot 3.1** version no longer complains but **fails to start** and runs into **OUT OF MEMORY** –&#160;even with several GB of max heap. All I get to see in the logs is the following:\r\n\r\n```\r\n2023-09-21T16:46:56.550+02:00  INFO 81372 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-09-21T16:46:56.573+02:00  INFO 81372 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final\r\n2023-09-21T16:46:56.574+02:00  INFO 81372 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n2023-09-21T16:46:56.647+02:00  INFO 81372 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-09-21T16:46:56.709+02:00  INFO 81372 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n2023-09-21T16:46:56.718+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-09-21T16:46:56.931+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection oracle.jdbc.driver.T4CConnection@51420c43\r\n2023-09-21T16:46:56.933+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-09-21T16:46:57.517+02:00  INFO 81372 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n```\r\n\r\nAnd after a longer period **wasting memory** it **fails** and **terminates** the application:\r\n\r\n```\r\n2023-09-21T16:49:44.584+02:00  WARN 81372 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Java heap space\r\n2023-09-21T16:49:44.585+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-09-21T16:49:44.595+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-09-21T16:49:44.598+02:00  INFO 81372 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-09-21T16:49:44.609+02:00  INFO 81372 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-09-21T16:49:44.622+02:00 ERROR 81372 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Java heap space\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat eu.ecg.eureka.rlp.fmp.migration.Application.main(Application.java:20) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.3.jar:3.1.3]\r\nCaused by: java.lang.OutOfMemoryError: Java heap space\r\n\tat java.base/java.util.Arrays.copyOf(Arrays.java:3537) ~[na:na]\r\n\tat java.base/java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:228) ~[na:na]\r\n\tat java.base/java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:582) ~[na:na]\r\n\tat java.base/java.lang.StringBuilder.append(StringBuilder.java:179) ~[na:na]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.appendSql(AbstractSqlAstTranslator.java:517) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.tree.expression.ColumnReference$$Lambda$1307/0x0000000801015930.accept(Unknown Source) ~[na:na]\r\n\tat org.hibernate.sql.ast.tree.expression.ColumnReference.appendReadExpression(ColumnReference.java:191) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.tree.expression.ColumnReference.appendReadExpression(ColumnReference.java:196) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.tree.expression.ColumnReference.appendReadExpression(ColumnReference.java:171) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitColumnReference(AbstractSqlAstTranslator.java:6086) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.tree.expression.ColumnReference.accept(ColumnReference.java:222) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.renderExpressionAsClauseItem(AbstractSqlAstTranslator.java:5035) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.renderSelectExpression(AbstractSqlAstTranslator.java:5020) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelectExpression(AbstractSqlAstTranslator.java:5015) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelection(AbstractSqlAstTranslator.java:4997) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.dialect.OracleSqlAstTranslator.visitSqlSelection(OracleSqlAstTranslator.java:98) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelections(AbstractSqlAstTranslator.java:4662) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSelectClause(AbstractSqlAstTranslator.java:4563) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitQuerySpec(AbstractSqlAstTranslator.java:3031) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.dialect.OracleSqlAstTranslator.visitQuerySpec(OracleSqlAstTranslator.java:269) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.tree.select.QuerySpec.accept(QuerySpec.java:119) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSelectStatement(AbstractSqlAstTranslator.java:986) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translateSelect(AbstractSqlAstTranslator.java:849) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translate(AbstractSqlAstTranslator.java:799) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.loader.ast.internal.SingleIdLoadPlan.&lt;init&gt;(SingleIdLoadPlan.java:67) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.createLoadPlan(SingleIdEntityLoaderStandardImpl.java:197) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.prepare(SingleIdEntityLoaderStandardImpl.java:55) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.prepareLoader(AbstractEntityPersister.java:3447) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.postInstantiate(AbstractEntityPersister.java:3441) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:204) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:320) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:270) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n```\r\n\r\n**I&#39;ve no idea where to start looking at. Any recommendations?**\r\n\r\nPS:\r\n\r\nA minor addition... I&#39;ve also replaced all `@Type(type = &quot;yes_no&quot;)` with `@Convert(converter = YesNoConverter.class)` because Hibernate complained about that too.\r\n\r\n```\r\n// FIXME: @Type(type = &quot;yes_no&quot;)\r\n@Convert(converter = YesNoConverter.class)\r\nprivate boolean editable = true;\r\n```\r\n","title":"OOM after migrating JPA data model from Java 11 to 17 + SpringBoot 2.7 to 3.1","body":"<p>I'm having problems with a fresh application using <strong>SpringBoot 3.1.3</strong> and an existing <strong>JPA</strong> data model. We've used that data model with several other applications before – but with <strong>Java 11</strong> and <strong>SpringBoot 2.7.x</strong>.</p>\n<p>This time I want to go <strong>Java 17</strong> and therefor I've <strong>migrated</strong> the data model from <code>javax</code> to <code>jakarta</code> using OpenRewrite. That worked pretty well as far as I can see. The project itself builds without any errors and I've also <strong>fixed</strong> a single <strong>invalid</strong> <code>@Table(indexes={@Index(...)})</code> where Hibernate complained about. That <strong>invalid index annotation</strong> has never been verified with <strong>SpringBoot 2.7</strong> before.</p>\n<p>As soon as I'd fixed that the <strong>SpringBoot 3.1</strong> version no longer complains but <strong>fails to start</strong> and runs into <strong>OUT OF MEMORY</strong> – even with several GB of max heap. All I get to see in the logs is the following:</p>\n<pre><code>2023-09-21T16:46:56.550+02:00  INFO 81372 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-09-21T16:46:56.573+02:00  INFO 81372 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final\n2023-09-21T16:46:56.574+02:00  INFO 81372 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-09-21T16:46:56.647+02:00  INFO 81372 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-09-21T16:46:56.709+02:00  INFO 81372 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-09-21T16:46:56.718+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-09-21T16:46:56.931+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection oracle.jdbc.driver.T4CConnection@51420c43\n2023-09-21T16:46:56.933+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-09-21T16:46:57.517+02:00  INFO 81372 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n</code></pre>\n<p>And after a longer period <strong>wasting memory</strong> it <strong>fails</strong> and <strong>terminates</strong> the application:</p>\n<pre><code>2023-09-21T16:49:44.584+02:00  WARN 81372 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Java heap space\n2023-09-21T16:49:44.585+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-09-21T16:49:44.595+02:00  INFO 81372 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-09-21T16:49:44.598+02:00  INFO 81372 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-09-21T16:49:44.609+02:00  INFO 81372 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-09-21T16:49:44.622+02:00 ERROR 81372 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Java heap space\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.3.jar:3.1.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.3.jar:3.1.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.3.jar:3.1.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.3.jar:3.1.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.3.jar:3.1.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.3.jar:3.1.3]\n    at eu.ecg.eureka.rlp.fmp.migration.Application.main(Application.java:20) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.3.jar:3.1.3]\nCaused by: java.lang.OutOfMemoryError: Java heap space\n    at java.base/java.util.Arrays.copyOf(Arrays.java:3537) ~[na:na]\n    at java.base/java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:228) ~[na:na]\n    at java.base/java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:582) ~[na:na]\n    at java.base/java.lang.StringBuilder.append(StringBuilder.java:179) ~[na:na]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.appendSql(AbstractSqlAstTranslator.java:517) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.tree.expression.ColumnReference$$Lambda$1307/0x0000000801015930.accept(Unknown Source) ~[na:na]\n    at org.hibernate.sql.ast.tree.expression.ColumnReference.appendReadExpression(ColumnReference.java:191) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.tree.expression.ColumnReference.appendReadExpression(ColumnReference.java:196) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.tree.expression.ColumnReference.appendReadExpression(ColumnReference.java:171) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitColumnReference(AbstractSqlAstTranslator.java:6086) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.tree.expression.ColumnReference.accept(ColumnReference.java:222) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.renderExpressionAsClauseItem(AbstractSqlAstTranslator.java:5035) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.renderSelectExpression(AbstractSqlAstTranslator.java:5020) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelectExpression(AbstractSqlAstTranslator.java:5015) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelection(AbstractSqlAstTranslator.java:4997) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.dialect.OracleSqlAstTranslator.visitSqlSelection(OracleSqlAstTranslator.java:98) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelections(AbstractSqlAstTranslator.java:4662) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSelectClause(AbstractSqlAstTranslator.java:4563) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitQuerySpec(AbstractSqlAstTranslator.java:3031) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.dialect.OracleSqlAstTranslator.visitQuerySpec(OracleSqlAstTranslator.java:269) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.tree.select.QuerySpec.accept(QuerySpec.java:119) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSelectStatement(AbstractSqlAstTranslator.java:986) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translateSelect(AbstractSqlAstTranslator.java:849) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translate(AbstractSqlAstTranslator.java:799) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.loader.ast.internal.SingleIdLoadPlan.&lt;init&gt;(SingleIdLoadPlan.java:67) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.createLoadPlan(SingleIdEntityLoaderStandardImpl.java:197) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.prepare(SingleIdEntityLoaderStandardImpl.java:55) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.prepareLoader(AbstractEntityPersister.java:3447) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.postInstantiate(AbstractEntityPersister.java:3441) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:204) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:320) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:270) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n</code></pre>\n<p><strong>I've no idea where to start looking at. Any recommendations?</strong></p>\n<p>PS:</p>\n<p>A minor addition... I've also replaced all <code>@Type(type = &quot;yes_no&quot;)</code> with <code>@Convert(converter = YesNoConverter.class)</code> because Hibernate complained about that too.</p>\n<pre><code>// FIXME: @Type(type = &quot;yes_no&quot;)\n@Convert(converter = YesNoConverter.class)\nprivate boolean editable = true;\n</code></pre>\n"},{"tags":["java","char"],"comments":[{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":2,"creation_date":1462218644,"post_id":9909333,"comment_id":61535230,"body_markdown":"you may check if your char has the default value by: `char == 0`","body":"you may check if your char has the default value by: <code>char == 0</code>"}],"answers":[{"comments":[{"owner":{"account_id":339900,"reputation":8440,"user_id":669645,"accept_rate":91,"display_name":"Edd"},"score":33,"creation_date":1415289651,"post_id":9909357,"comment_id":42144506,"body_markdown":"It&#39;s important to note that `&#39;\\u0000&#39;` is not the same value as  `null`","body":"It&#39;s important to note that <code>&#39;\\u0000&#39;</code> is not the same value as  <code>null</code>"},{"owner":{"account_id":352743,"reputation":2565,"user_id":689991,"accept_rate":91,"display_name":"Quazi Irfan"},"score":0,"creation_date":1421212283,"post_id":9909357,"comment_id":44269400,"body_markdown":"What is `null character`? Some answers to this questions are referring the default value as null character.","body":"What is <code>null character</code>? Some answers to this questions are referring the default value as null character."},{"owner":{"account_id":5215471,"reputation":4961,"user_id":4170582,"accept_rate":91,"display_name":"Tarik"},"score":4,"creation_date":1421244963,"post_id":9909357,"comment_id":44285175,"body_markdown":"@&#211;scar L&#243;pez,  What about the char &#39;\\0&#39;? they are not the same ?","body":"@&#211;scar L&#243;pez,  What about the char &#39;\\0&#39;? they are not the same ?"},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":6,"creation_date":1421246704,"post_id":9909357,"comment_id":44286281,"body_markdown":"@Tarik yes, they&#39;re the same.","body":"@Tarik yes, they&#39;re the same."},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1421246731,"post_id":9909357,"comment_id":44286295,"body_markdown":"@iamcreasy it&#39;s right in my answer: `&#39;\\u0000&#39;` _is_ the &quot;null character&quot;.","body":"@iamcreasy it&#39;s right in my answer: <code>&#39;\\u0000&#39;</code> <i>is</i> the &quot;null character&quot;."},{"owner":{"account_id":352743,"reputation":2565,"user_id":689991,"accept_rate":91,"display_name":"Quazi Irfan"},"score":0,"creation_date":1421279636,"post_id":9909357,"comment_id":44304264,"body_markdown":"@&#211;scarL&#243;pez I was referring to what @Edd has said. So just to clarify `\\u0000` = `0` = `null character`, is that so?","body":"@&#211;scarL&#243;pez I was referring to what @Edd has said. So just to clarify <code>\\u0000</code> = <code>0</code> = <code>null character</code>, is that so?"},{"owner":{"account_id":339900,"reputation":8440,"user_id":669645,"accept_rate":91,"display_name":"Edd"},"score":3,"creation_date":1421337784,"post_id":9909357,"comment_id":44327991,"body_markdown":"@iamcreasy what you say is correct. My note is just that &#39;null character&#39; is a character. It is not `null` in java terms i.e. `\\u0000 == null` would return `false`","body":"@iamcreasy what you say is correct. My note is just that &#39;null character&#39; is a character. It is not <code>null</code> in java terms i.e. <code>\\u0000 == null</code> would return <code>false</code>"}],"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"comment_count":7,"down_vote_count":1,"up_vote_count":123,"is_accepted":true,"score":122,"last_activity_date":1332948197,"creation_date":1332944023,"answer_id":9909357,"question_id":9909333,"body_markdown":"The default value of a `char` attribute is indeed `&#39;\\u0000&#39;` (the null character) as stated in the Java Language Specification, section [&#167;4.12.5 Initial Values of Variables ](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5).\r\n\r\nIn my system, the line `System.out.println(&#39;\\u0000&#39;);` prints a little square, meaning that it&#39;s not a printable character - as expected.","title":"What&#39;s the default value of char?","body":"<p>The default value of a <code>char</code> attribute is indeed <code>'\\u0000'</code> (the null character) as stated in the Java Language Specification, section <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5\">§4.12.5 Initial Values of Variables </a>.</p>\n\n<p>In my system, the line <code>System.out.println('\\u0000');</code> prints a little square, meaning that it's not a printable character - as expected.</p>\n"},{"tags":[],"owner":{"account_id":480822,"reputation":48369,"user_id":894284,"accept_rate":75,"display_name":"Matt Fenwick"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1332944067,"creation_date":1332944067,"answer_id":9909374,"question_id":9909333,"body_markdown":"It&#39;s &#39;\\u0000&#39;.  See [here for more information][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"What&#39;s the default value of char?","body":"<p>It's '\\u0000'.  See <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow\">here for more information</a>.</p>\n"},{"comments":[{"owner":{"account_id":1168340,"reputation":2740,"user_id":2014439,"accept_rate":86,"display_name":"walv"},"score":1,"creation_date":1635964476,"post_id":9909453,"comment_id":123435032,"body_markdown":"if you are on an interview and you need to check if char is default or not, don&#39;t try to memorize `\\u0000`.\nIf to convert default char to numeric using `Character.getNumericValue`, it will return -1.\nTo extend the code from the answer, these two statements will both print -1 \n```System.out.println(Character.getNumericValue(t.c));\n      System.out.println(Character.getNumericValue(c1));```","body":"if you are on an interview and you need to check if char is default or not, don&#39;t try to memorize <code>\\u0000</code>. If to convert default char to numeric using <code>Character.getNumericValue</code>, it will return -1. To extend the code from the answer, these two statements will both print -1  <code>System.out.println(Character.getNumericValue(t.c));       System.out.println(Character.getNumericValue(c1));</code>"}],"tags":[],"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"comment_count":1,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1475681306,"creation_date":1332944328,"answer_id":9909453,"question_id":9909333,"body_markdown":"**&#39;\\u0000&#39;** is the default value for a character. Its decimal equivalent is 0.\r\n\r\nWhen you are declaring some char variable without initializing it, &#39;\\u0000&#39; will be assigned to it by default.\r\n\r\nsee this code\r\n\r\n\tpublic class Test {\r\n\t\tchar c;\r\n\t\r\n\t\tpublic static void main(String args[]) throws Exception {\r\n\t\t\tTest t = new Test();\r\n\t\t\tchar c1 = &#39;\\u0000&#39;;\r\n\t\t\tSystem.out.println(t.c);\r\n\t\t\tSystem.out.println(c1);\r\n\t\t\tSystem.out.println(t.c == c1);\r\n\t\t}\r\n\t}\r\n\r\nThis code will print **true** for the last print.","title":"What&#39;s the default value of char?","body":"<p><strong>'\\u0000'</strong> is the default value for a character. Its decimal equivalent is 0.</p>\n\n<p>When you are declaring some char variable without initializing it, '\\u0000' will be assigned to it by default.</p>\n\n<p>see this code</p>\n\n<pre><code>public class Test {\n    char c;\n\n    public static void main(String args[]) throws Exception {\n        Test t = new Test();\n        char c1 = '\\u0000';\n        System.out.println(t.c);\n        System.out.println(c1);\n        System.out.println(t.c == c1);\n    }\n}\n</code></pre>\n\n<p>This code will print <strong>true</strong> for the last print.</p>\n"},{"comments":[{"owner":{"account_id":339900,"reputation":8440,"user_id":669645,"accept_rate":91,"display_name":"Edd"},"score":2,"creation_date":1421338218,"post_id":19707338,"comment_id":44328312,"body_markdown":"Actually you&#39;d get a compilation error ;) &#39;\\u0000&#39; is the default value that a char field is &#39;initialised&#39; with","body":"Actually you&#39;d get a compilation error ;) &#39;\\u0000&#39; is the default value that a char field is &#39;initialised&#39; with"},{"owner":{"account_id":2799929,"reputation":8527,"user_id":2408342,"accept_rate":90,"display_name":"Roshana Pitigala"},"score":1,"creation_date":1534610631,"post_id":19707338,"comment_id":90771550,"body_markdown":"You won&#39;t get nothing. You&#39;ll get a white space or a square.","body":"You won&#39;t get nothing. You&#39;ll get a white space or a square."},{"owner":{"account_id":9499783,"reputation":48,"user_id":7061372,"display_name":"alan"},"score":0,"creation_date":1563890730,"post_id":19707338,"comment_id":100845664,"body_markdown":"I got a &quot;0&quot; if i put both c and c1 as &#39;\\u0000&#39;\nSystem.out.println(c+c1);","body":"I got a &quot;0&quot; if i put both c and c1 as &#39;\\u0000&#39; System.out.println(c+c1);"}],"tags":[],"owner":{"account_id":3143232,"reputation":2420,"user_id":2658276,"accept_rate":91,"display_name":"roshan"},"comment_count":3,"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1497936995,"creation_date":1383224789,"answer_id":19707338,"question_id":9909333,"body_markdown":"`&#39;\\u0000&#39;` stands for `null` . So if you print an uninitialized char variable , you&#39;ll get nothing.","title":"What&#39;s the default value of char?","body":"<p><code>'\\u0000'</code> stands for <code>null</code> . So if you print an uninitialized char variable , you'll get nothing.</p>\n"},{"tags":[],"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396756892,"creation_date":1396756892,"answer_id":22889841,"question_id":9909333,"body_markdown":"The default char is the character with an int value of 0 (zero).\r\n\r\n char NULLCHAR = (char) 0;\r\n\r\n char NULLCHAR = &#39;\\0&#39;;\r\n\r\n \r\n","title":"What&#39;s the default value of char?","body":"<p>The default char is the character with an int value of 0 (zero).</p>\n\n<p>char NULLCHAR = (char) 0;</p>\n\n<p>char NULLCHAR = '\\0';</p>\n"},{"tags":[],"owner":{"account_id":3802879,"reputation":1641,"user_id":3156006,"accept_rate":86,"display_name":"Mateen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418118653,"creation_date":1418118653,"answer_id":27375894,"question_id":9909333,"body_markdown":"its tempting say as white space or integer 0 as per below proof\r\n\r\n    char c1 = &#39;\\u0000&#39;;\r\n    System.out.println(&quot;*&quot;+c1+&quot;*&quot;);\r\n    System.out.println((int)c1);\r\n\r\nbut i wouldn&#39;t say so because, it might differ it different platforms or in future. What i really care is i ll never use this default value, so before using any char just check it is \\u0000 or not, then use it to avoid misconceptions in programs. Its as simple as that.","title":"What&#39;s the default value of char?","body":"<p>its tempting say as white space or integer 0 as per below proof</p>\n\n<pre><code>char c1 = '\\u0000';\nSystem.out.println(\"*\"+c1+\"*\");\nSystem.out.println((int)c1);\n</code></pre>\n\n<p>but i wouldn't say so because, it might differ it different platforms or in future. What i really care is i ll never use this default value, so before using any char just check it is \\u0000 or not, then use it to avoid misconceptions in programs. Its as simple as that.</p>\n"},{"comments":[{"owner":{"account_id":262183,"reputation":13618,"user_id":546871,"accept_rate":40,"display_name":"AdrianHHH"},"score":3,"creation_date":1418228234,"post_id":27405656,"comment_id":43256206,"body_markdown":"The question already has an accepted answer plus several other answers. For your answer to be useful it should add useful new information or new insights to the problem. Just repeating information in other answers is not helpful.","body":"The question already has an accepted answer plus several other answers. For your answer to be useful it should add useful new information or new insights to the problem. Just repeating information in other answers is not helpful."}],"tags":[],"owner":{"account_id":5249799,"reputation":109,"user_id":4194404,"display_name":"Luis Parada"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1418227760,"creation_date":1418227760,"answer_id":27405656,"question_id":9909333,"body_markdown":"The default value of a char data type is &#39;\\u0000&#39; (or 0) and a maximum value of &#39;\\uffff&#39; (or 65,535 inclusive).\r\n\r\nYou can see the info [here].\r\n\r\n\r\n  [here]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"What&#39;s the default value of char?","body":"<p>The default value of a char data type is '\\u0000' (or 0) and a maximum value of '\\uffff' (or 65,535 inclusive).</p>\n\n<p>You can see the info <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":3449589,"reputation":1843,"user_id":2889528,"accept_rate":60,"display_name":"Yogesh Manware"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1451970795,"creation_date":1438769948,"answer_id":31829659,"question_id":9909333,"body_markdown":"Default value of Character is **Character.MIN_VALUE** which internally represented as `MIN_VALUE = &#39;\\u0000&#39;`\r\n\r\nAdditionally, you can check if the character field contains default value as \r\n\r\n    Character DEFAULT_CHAR = new Character(Character.MIN_VALUE);\r\n    if (DEFAULT_CHAR.compareTo((Character) value) == 0)\r\n    {\r\n    \r\n    }","title":"What&#39;s the default value of char?","body":"<p>Default value of Character is <strong>Character.MIN_VALUE</strong> which internally represented as <code>MIN_VALUE = '\\u0000'</code></p>\n\n<p>Additionally, you can check if the character field contains default value as </p>\n\n<pre><code>Character DEFAULT_CHAR = new Character(Character.MIN_VALUE);\nif (DEFAULT_CHAR.compareTo((Character) value) == 0)\n{\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2446987,"reputation":1,"user_id":2134064,"display_name":"Choo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439526090,"creation_date":1439526090,"answer_id":32002229,"question_id":9909333,"body_markdown":"Note that there is a distinct difference between null and zero. \r\nIn http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html (referenced above), the statement is made :-\r\n\r\nThere&#39;s also a special null literal that can be used as a value for any reference type. null may be assigned to any variable, except variables of primitive types. There&#39;s little you can do with a null value beyond testing for its presence. Therefore, null is often used in programs as a marker to indicate that some object is unavailable.\r\n\r\nThat is why the following statements will give you an error and not the other :-\r\n\r\nchar a = null; //Type mismatch: cannot convert from null to char.\r\n\r\nchar b = 0;    //Valid syntax.\r\n","title":"What&#39;s the default value of char?","body":"<p>Note that there is a distinct difference between null and zero. \nIn <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a> (referenced above), the statement is made :-</p>\n\n<p>There's also a special null literal that can be used as a value for any reference type. null may be assigned to any variable, except variables of primitive types. There's little you can do with a null value beyond testing for its presence. Therefore, null is often used in programs as a marker to indicate that some object is unavailable.</p>\n\n<p>That is why the following statements will give you an error and not the other :-</p>\n\n<p>char a = null; //Type mismatch: cannot convert from null to char.</p>\n\n<p>char b = 0;    //Valid syntax.</p>\n"},{"comments":[{"owner":{"account_id":444416,"reputation":15934,"user_id":836214,"accept_rate":86,"display_name":"Krease"},"score":0,"creation_date":1465191289,"post_id":37640025,"comment_id":62780114,"body_markdown":"@JohannesH.- this looks like an answer to me. Flagging this as &#39;not an answer&#39; is not correct IMO.","body":"@JohannesH.- this looks like an answer to me. Flagging this as &#39;not an answer&#39; is not correct IMO."},{"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"score":0,"creation_date":1611941581,"post_id":37640025,"comment_id":116620831,"body_markdown":"Have you tried `char c  = &#39;&#39;;`? I except you&#39;ll get a `error: empty character literal`. Also 5 zeroes `&#39;\\u00000&#39;` gets you `error: unclosed character literal`","body":"Have you tried <code>char c  = &#39;&#39;;</code>? I except you&#39;ll get a <code>error: empty character literal</code>. Also 5 zeroes <code>&#39;\\u00000&#39;</code> gets you <code>error: unclosed character literal</code>"}],"tags":[],"owner":{"account_id":8577255,"reputation":1,"user_id":6426202,"display_name":"Bcom"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1465117388,"creation_date":1465116295,"answer_id":37640025,"question_id":9909333,"body_markdown":"I think it is `&#39;\\u00000&#39;` or just `&#39;&#39;` rather than `&#39;\\u0000&#39;`\r\n(The 1st one has 5 zeros while the last one has four zeroes.)","title":"What&#39;s the default value of char?","body":"<p>I think it is <code>'\\u00000'</code> or just <code>''</code> rather than <code>'\\u0000'</code>\n(The 1st one has 5 zeros while the last one has four zeroes.)</p>\n"},{"tags":[],"owner":{"account_id":8390416,"reputation":334,"user_id":6299322,"accept_rate":71,"display_name":"Anish Sharma"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1695308627,"creation_date":1475676963,"answer_id":39876407,"question_id":9909333,"body_markdown":"`\\u0000` is the default value for char type in Java\r\n\r\nAs others mentioned, you can use comparison to check the value of an uninitialized variable.\r\n\r\n```java\r\nchar ch;\r\nif(ch==0) {\r\n System.out.println(&quot;Default value is the null character&quot;);\r\n}\r\n```","title":"What&#39;s the default value of char?","body":"<p><code>\\u0000</code> is the default value for char type in Java</p>\n<p>As others mentioned, you can use comparison to check the value of an uninitialized variable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char ch;\nif(ch==0) {\n System.out.println(&quot;Default value is the null character&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8736811,"reputation":1,"user_id":6535172,"display_name":"Shubham Malhotra"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1482477265,"creation_date":1482475022,"answer_id":41296375,"question_id":9909333,"body_markdown":"Default value for `char` is **\\u0000**\r\n\r\n    public class DefaultValues {\r\n\tchar varChar;\r\n\tpublic static void main(String...l)\r\n\t {\r\n\t\tDefaultValues ob =new DefaultValues();\r\n\t\tSystem.out.println(ob.varChar==&#39;\\u0000&#39;);\r\n\t }\t\r\n    }\r\n\r\n\r\nThis will return **true**","title":"What&#39;s the default value of char?","body":"<p>Default value for <code>char</code> is <strong>\\u0000</strong></p>\n\n<pre><code>public class DefaultValues {\nchar varChar;\npublic static void main(String...l)\n {\n    DefaultValues ob =new DefaultValues();\n    System.out.println(ob.varChar=='\\u0000');\n }  \n}\n</code></pre>\n\n<p>This will return <strong>true</strong></p>\n"},{"tags":[],"owner":{"account_id":6608813,"reputation":978,"user_id":5104758,"accept_rate":93,"display_name":"lft93ryt"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1490981208,"creation_date":1490981208,"answer_id":43146452,"question_id":9909333,"body_markdown":"The default value of char is null which is &#39;\\u0000&#39; as per [Unicode chart][1]. Let us see how it works while printing out. \r\n\r\n    public class Test_Class { \t\r\n         char c;\r\n         void printAll() { \t\r\n           System.out.println(&quot;c = &quot; + c);\r\n        } \t\r\n        public static void main(String[] args) { \t\r\n        Test_Class f = new Test_Class(); \t\r\n        f.printAll(); \t\r\n        } }\r\n\r\nNote: The output is blank.\r\n\r\n\r\n  [1]: http://www.unicode.org/charts/PDF/U0000.pdf","title":"What&#39;s the default value of char?","body":"<p>The default value of char is null which is '\\u0000' as per <a href=\"http://www.unicode.org/charts/PDF/U0000.pdf\" rel=\"nofollow noreferrer\">Unicode chart</a>. Let us see how it works while printing out. </p>\n\n<pre><code>public class Test_Class {   \n     char c;\n     void printAll() {  \n       System.out.println(\"c = \" + c);\n    }   \n    public static void main(String[] args) {    \n    Test_Class f = new Test_Class();    \n    f.printAll();   \n    } }\n</code></pre>\n\n<p>Note: The output is blank.</p>\n"},{"tags":[],"owner":{"account_id":3834329,"reputation":2561,"user_id":3179070,"display_name":"javapedia.net"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1528335064,"creation_date":1528327087,"answer_id":50730920,"question_id":9909333,"body_markdown":"The default value of a char primitive type is &#39;\\u0000&#39;(null character) as stated in the Java Language Specification.\r\n\r\nThe shortcut for &#39;u0000&#39; is &#39;\\0&#39;, So the null can be represented either by &#39;u0000&#39; or &#39;\\0&#39;.\r\n\r\nThe below Java program validates null representations using instance char field &#39;c&#39;.&lt;code&gt;\r\n\r\n    public class DefaultValueForchar {\t\r\n    \tchar c;\r\n    \tpublic static void main(String[] args) {\r\n    \t\tchar c0 = &#39;\\0&#39;;\r\n    \t\tchar cu0000 = &#39;\\u0000&#39;;\r\n    \t\tDefaultValueForchar obj = new DefaultValueForchar();\r\n    \t\tSystem.out.println(obj.c);\r\n    \t\tSystem.out.println(c0);\r\n    \t\tSystem.out.println(cu0000);\r\n    \t\tSystem.out.println(c0==cu0000);\r\n    \t\tSystem.out.println(obj.c==c0);\r\n    \t\tSystem.out.println(obj.c==cu0000);\r\n    \t}\r\n    \r\n    }\r\n\r\n&lt;/code&gt;\r\n  [![output:][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m4Pd2.png","title":"What&#39;s the default value of char?","body":"<p>The default value of a char primitive type is '\\u0000'(null character) as stated in the Java Language Specification.</p>\n\n<p>The shortcut for 'u0000' is '\\0', So the null can be represented either by 'u0000' or '\\0'.</p>\n\n<p>The below Java program validates null representations using instance char field 'c'.<code></p>\n\n<pre><code>public class DefaultValueForchar {  \n    char c;\n    public static void main(String[] args) {\n        char c0 = '\\0';\n        char cu0000 = '\\u0000';\n        DefaultValueForchar obj = new DefaultValueForchar();\n        System.out.println(obj.c);\n        System.out.println(c0);\n        System.out.println(cu0000);\n        System.out.println(c0==cu0000);\n        System.out.println(obj.c==c0);\n        System.out.println(obj.c==cu0000);\n    }\n\n}\n</code></pre>\n\n<p></code>\n  <a href=\"https://i.stack.imgur.com/m4Pd2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m4Pd2.png\" alt=\"output:\"></a></p>\n"}],"owner":{"account_id":1360943,"reputation":1085,"user_id":1298336,"display_name":"user1298336"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195644,"favorite_count":0,"down_vote_count":0,"up_vote_count":106,"accepted_answer_id":9909357,"answer_count":14,"score":106,"last_activity_date":1695308627,"creation_date":1332943930,"question_id":9909333,"body_markdown":"    char c = &#39;\\u0000&#39;;\r\n\r\nWhen I print `c`, it shows &#39;a&#39; in the command line window.  \r\n\r\nSo what&#39;s the default value of a `char` type field?  \r\n\r\nSomeone said `&#39;\\u0000&#39;` means null in Unicode; is that right?\r\n","title":"What&#39;s the default value of char?","body":"<pre><code>char c = '\\u0000';\n</code></pre>\n<p>When I print <code>c</code>, it shows 'a' in the command line window.</p>\n<p>So what's the default value of a <code>char</code> type field?</p>\n<p>Someone said <code>'\\u0000'</code> means null in Unicode; is that right?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":30050,"reputation":2011,"user_id":81668,"accept_rate":100,"display_name":"Matthieu BROUILLARD"},"score":0,"creation_date":1270566749,"post_id":2585641,"comment_id":2593117,"body_markdown":"I guess that such a big problem depends a lot on your project and what is acceptable for it or not:\n\n- central deployment (JEE based for example) vs client-server like\n\n- several client version allowed at any time (=&gt; care on DB col removal, integrity constraints, ...)\n\n- hot deployment vs stop application accepted\n\n- ...","body":"I guess that such a big problem depends a lot on your project and what is acceptable for it or not:  - central deployment (JEE based for example) vs client-server like  - several client version allowed at any time (=&gt; care on DB col removal, integrity constraints, ...)  - hot deployment vs stop application accepted  - ..."}],"answers":[{"comments":[{"owner":{"account_id":5934528,"reputation":103,"user_id":4667991,"display_name":"Migi"},"score":0,"creation_date":1693560984,"post_id":2585763,"comment_id":135780457,"body_markdown":"Can you explicit what kind of problems can arise in the long run, especially in production? It&#39;ll be extremely useful","body":"Can you explicit what kind of problems can arise in the long run, especially in production? It&#39;ll be extremely useful"}],"tags":[],"owner":{"account_id":110128,"reputation":55940,"user_id":291550,"accept_rate":90,"display_name":"Bozhidar Batsov"},"comment_count":1,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1340298341,"creation_date":1270565286,"answer_id":2585763,"question_id":2585641,"body_markdown":"1. It&#39;s always recommended to generate the schema manually, preferably by a tool supporting database schema revisions, such as the great [Liquibase][1]. Generating the schema from the entities is great in theory, but were fragile in practice and causes lots of problems in the long run(trust me on this).\r\n\r\n2. In productions it&#39;s always best to have manually generated and review the schema.\r\n\r\n3. You make an update to an entity and create a matching update script(revision) to update your database schema to reflect the entity change. You can create a custom solution(I&#39;ve written a few) or use something more popular like liquibase(it even supports schema changes rollbacks). If you&#39;re using a build tool such as maven or ant - it&#39;s recommend to plug the db schema update util into the build process so that fresh builds stay in sync with the schema.\r\n\r\n\r\n  [1]: http://liquibase.org/","title":"Hibernate/JPA DB Schema Generation Best Practices","body":"<ol>\n<li><p>It's always recommended to generate the schema manually, preferably by a tool supporting database schema revisions, such as the great <a href=\"http://liquibase.org/\" rel=\"noreferrer\">Liquibase</a>. Generating the schema from the entities is great in theory, but were fragile in practice and causes lots of problems in the long run(trust me on this).</p></li>\n<li><p>In productions it's always best to have manually generated and review the schema.</p></li>\n<li><p>You make an update to an entity and create a matching update script(revision) to update your database schema to reflect the entity change. You can create a custom solution(I've written a few) or use something more popular like liquibase(it even supports schema changes rollbacks). If you're using a build tool such as maven or ant - it's recommend to plug the db schema update util into the build process so that fresh builds stay in sync with the schema.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"score":1,"creation_date":1270641349,"post_id":2585965,"comment_id":2599713,"body_markdown":"But pretend that you have to change your entity relationships in the production environment in a way that will lead to the creation of new tables, and as a result, some data that used to be a part of an old table has to be inserted into these new tables. For example, pretend that you had an entity named Person that had fields for address information and now you want to create a separate entity for holding the address info. This will lead to creation of a new table and you have to migrate the address data from the person table to this new table. But Hibernate cannot do this automatically...","body":"But pretend that you have to change your entity relationships in the production environment in a way that will lead to the creation of new tables, and as a result, some data that used to be a part of an old table has to be inserted into these new tables. For example, pretend that you had an entity named Person that had fields for address information and now you want to create a separate entity for holding the address info. This will lead to creation of a new table and you have to migrate the address data from the person table to this new table. But Hibernate cannot do this automatically..."},{"owner":{"account_id":23845,"reputation":4116,"user_id":60127,"display_name":"rudolfson"},"score":5,"creation_date":1325781274,"post_id":2585965,"comment_id":10895094,"body_markdown":"Personally I strongly advise against this approach. Especially when talking about production. To me there is just not enough control over the process and too much magic going on here.","body":"Personally I strongly advise against this approach. Especially when talking about production. To me there is just not enough control over the process and too much magic going on here."},{"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"score":2,"creation_date":1512987773,"post_id":2585965,"comment_id":82461676,"body_markdown":"Liquibase solves all this &#39;separately keeping track of DDL scripts - i.e. managing their revisions and synchronizing them with entity changes (and vice-versa)&#39; for you. And you have clear understanding, which changes to db scheme are applied. With automatically table generation you do not have any kind of versioning at all. There are changes that can affect  your data and you may loose them. It is entirely not safe for production, only for dev environment.","body":"Liquibase solves all this &#39;separately keeping track of DDL scripts - i.e. managing their revisions and synchronizing them with entity changes (and vice-versa)&#39; for you. And you have clear understanding, which changes to db scheme are applied. With automatically table generation you do not have any kind of versioning at all. There are changes that can affect  your data and you may loose them. It is entirely not safe for production, only for dev environment."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1270566702,"creation_date":1270566702,"answer_id":2585965,"question_id":2585641,"body_markdown":"Although disputable, I&#39;d say that the answer to all 3 questions is: let hibernate automatically generate the tables in the schema.\r\n\r\nI haven&#39;t had any problems with that so far. You might need to clean some field up manually from time to time, but this is no headache compared to separately keeping track of DDL scripts - i.e. managing their revisions and synchronizing them with entity changes (and vice-versa)\r\n\r\nFor deploying on production - an obvious tip - first make sure everything is generated OK on the test environment and then deploy on production.","title":"Hibernate/JPA DB Schema Generation Best Practices","body":"<p>Although disputable, I'd say that the answer to all 3 questions is: let hibernate automatically generate the tables in the schema.</p>\n\n<p>I haven't had any problems with that so far. You might need to clean some field up manually from time to time, but this is no headache compared to separately keeping track of DDL scripts - i.e. managing their revisions and synchronizing them with entity changes (and vice-versa)</p>\n\n<p>For deploying on production - an obvious tip - first make sure everything is generated OK on the test environment and then deploy on production.</p>\n"},{"comments":[{"owner":{"account_id":387465,"reputation":4697,"user_id":745827,"accept_rate":88,"display_name":"Cengiz"},"score":1,"creation_date":1323723434,"post_id":5528621,"comment_id":10491018,"body_markdown":"If you have different applications using the same database it is good practice to have one common API for database interaction which is used by the different applications. Even better you have a webservice that is your interface to the database. Webservice is better because you are language independent. In that way - API or webservice - you have a single point to your database which makes database versioning / ddl changes much easier. This single point could also create and update the database.","body":"If you have different applications using the same database it is good practice to have one common API for database interaction which is used by the different applications. Even better you have a webservice that is your interface to the database. Webservice is better because you are language independent. In that way - API or webservice - you have a single point to your database which makes database versioning / ddl changes much easier. This single point could also create and update the database."}],"tags":[],"owner":{"account_id":347517,"reputation":5454,"user_id":681671,"accept_rate":59,"display_name":"Dojo"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1432230489,"creation_date":1301821421,"answer_id":5528621,"question_id":2585641,"body_markdown":"Manually, because:\r\n\r\n 1. Same database may be used by different applications and not all of\r\n    them would be using hibernate or even java. Database schema should\r\n    not be dictated by ORM, it should be designed around the data and\r\n    business requirements.\r\n 2. The datatypes chosen by hibernate might not be best suited for the application.\r\n 3. As mentioned in an earlier comment, changes to the entities would require manual intervention if data loss is not acceptable.\r\n 4. Things such as additional properties (generic term not java\r\n        properties) on join tables work wonderfully in RDBMS but are\r\n            somewhat complex and inefficient to use in an ORM. Doing such a\r\n            mapping from ORM -&gt; RDBMS might create tables that are not\r\n            efficient. In theory, it is possible to build the exact same join\r\n            table using hibernate generated code, but it would require some\r\n            special care while writing the Entities.\r\n\r\nI would use automatic generation for standalone applications or databases that are accessed  via the same ORM layer and also if the app needs to be ported to different databases. It would save lot of time in by not requiring one to write and maintain DB vendor specific DDL scripts. ","title":"Hibernate/JPA DB Schema Generation Best Practices","body":"<p>Manually, because:</p>\n\n<ol>\n<li>Same database may be used by different applications and not all of\nthem would be using hibernate or even java. Database schema should\nnot be dictated by ORM, it should be designed around the data and\nbusiness requirements.</li>\n<li>The datatypes chosen by hibernate might not be best suited for the application.</li>\n<li>As mentioned in an earlier comment, changes to the entities would require manual intervention if data loss is not acceptable.</li>\n<li>Things such as additional properties (generic term not java\n    properties) on join tables work wonderfully in RDBMS but are\n        somewhat complex and inefficient to use in an ORM. Doing such a\n        mapping from ORM -> RDBMS might create tables that are not\n        efficient. In theory, it is possible to build the exact same join\n        table using hibernate generated code, but it would require some\n        special care while writing the Entities.</li>\n</ol>\n\n<p>I would use automatic generation for standalone applications or databases that are accessed  via the same ORM layer and also if the app needs to be ported to different databases. It would save lot of time in by not requiring one to write and maintain DB vendor specific DDL scripts. </p>\n"},{"comments":[{"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"score":1,"creation_date":1497418074,"post_id":6140395,"comment_id":76063202,"body_markdown":"Flyway needs a SQL file created manually to do this, it cannot &quot;Let your application create and update the database schema&quot;.","body":"Flyway needs a SQL file created manually to do this, it cannot &quot;Let your application create and update the database schema&quot;."},{"owner":{"account_id":387465,"reputation":4697,"user_id":745827,"accept_rate":88,"display_name":"Cengiz"},"score":0,"creation_date":1497523782,"post_id":6140395,"comment_id":76119650,"body_markdown":"@Bang: Flyway and its SQL File is then part of the application. And therefore it&#39;s right to say that the application is creating the database schema.","body":"@Bang: Flyway and its SQL File is then part of the application. And therefore it&#39;s right to say that the application is creating the database schema."},{"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"score":0,"creation_date":1497524166,"post_id":6140395,"comment_id":76119929,"body_markdown":"Your comment is misunderstanding because you said about &quot; don&#180;t let Hibernate create&amp;update the database schema&quot; so someone think, ok, Hibernate is not good to do this, it is fine, then\n\n&quot;Let your application create and update the database schema. For java the best tool to do this is Flyway&quot;\n\nso Flyway is the best tool to create and update the database schema for application, marvelous, then he checks the website of Flywaydb and disappoint when it requires a Sql file.","body":"Your comment is misunderstanding because you said about &quot; don&#180;t let Hibernate create&amp;update the database schema&quot; so someone think, ok, Hibernate is not good to do this, it is fine, then  &quot;Let your application create and update the database schema. For java the best tool to do this is Flyway&quot;  so Flyway is the best tool to create and update the database schema for application, marvelous, then he checks the website of Flywaydb and disappoint when it requires a Sql file."}],"tags":[],"owner":{"account_id":387465,"reputation":4697,"user_id":745827,"accept_rate":88,"display_name":"Cengiz"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1497525472,"creation_date":1306420739,"answer_id":6140395,"question_id":2585641,"body_markdown":"Like Bozhidar said, don&#180;t let Hibernate create&amp;update the database schema.\r\nLet your application create and update the database schema. \r\nFor java the best tool to do this is [Flyway][1]. You need to create one or more SQL files with DDL statements which are describing your database schema. These SQL files are then executed by Flyway. For more information look at the site of [Flyway][1].\r\n\r\n  [1]: http://flywaydb.org\r\n","title":"Hibernate/JPA DB Schema Generation Best Practices","body":"<p>Like Bozhidar said, don´t let Hibernate create&amp;update the database schema.\nLet your application create and update the database schema. \nFor java the best tool to do this is <a href=\"http://flywaydb.org\" rel=\"nofollow noreferrer\">Flyway</a>. You need to create one or more SQL files with DDL statements which are describing your database schema. These SQL files are then executed by Flyway. For more information look at the site of <a href=\"http://flywaydb.org\" rel=\"nofollow noreferrer\">Flyway</a>.</p>\n"},{"tags":[],"owner":{"account_id":8812369,"reputation":364,"user_id":6585002,"display_name":"Ceddaerrix"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481731964,"creation_date":1481731964,"answer_id":41147219,"question_id":2585641,"body_markdown":"I believe that a lot of what is being discussed or argued here should also be related to if you are more confortable with the code-first or the database-first approach.\r\n\r\nPersonally, I am more intended to go for latter and, making a reference to Single Responsibility Principle (SRP), I prefer having DB specialist handling the DB and an application specialist handling the application, than having the application handling the DB. Additionally, I am of the opinion that taking too many shortcuts will work fine at the beginning but create unmanageable problems as things grow/evolve.","title":"Hibernate/JPA DB Schema Generation Best Practices","body":"<p>I believe that a lot of what is being discussed or argued here should also be related to if you are more confortable with the code-first or the database-first approach.</p>\n\n<p>Personally, I am more intended to go for latter and, making a reference to Single Responsibility Principle (SRP), I prefer having DB specialist handling the DB and an application specialist handling the application, than having the application handling the DB. Additionally, I am of the opinion that taking too many shortcuts will work fine at the beginning but create unmanageable problems as things grow/evolve.</p>\n"},{"tags":[],"owner":{"account_id":29317993,"reputation":31,"user_id":22462274,"display_name":"unimatrix10"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695308383,"creation_date":1695308383,"answer_id":77151445,"question_id":2585641,"body_markdown":"TL;DR: Hibernate recommends manual administration for production environments\r\n\r\nhttps://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#best-practices-schema","title":"Hibernate/JPA DB Schema Generation Best Practices","body":"<p>TL;DR: Hibernate recommends manual administration for production environments</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#best-practices-schema\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#best-practices-schema</a></p>\n"}],"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22475,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":2585763,"answer_count":6,"score":48,"last_activity_date":1695308383,"creation_date":1270564609,"question_id":2585641,"body_markdown":"I just wanted to hear the opinion of Hibernate experts about DB schema generation best practices for Hibernate/JPA based projects. Especially:\r\n\r\n 1. What strategy to use when the project has just started? Is it recommended to let Hibernate automatically generate the schema in this phase or is it better to create the database tables manually from earliest phases of the project?\r\n \r\n 2. Pretending that throughout the project the schema was being generated using Hibernate, is it better to disable automatic schema generation and manually create the database schema just before the system is released into production?\r\n \r\n 3. And after the system has been released into production, what is the best practice for maintaining the entity classes and the DB schema (e.g. adding/renaming/updating columns, renaming tables, etc.)?","title":"Hibernate/JPA DB Schema Generation Best Practices","body":"<p>I just wanted to hear the opinion of Hibernate experts about DB schema generation best practices for Hibernate/JPA based projects. Especially:</p>\n\n<ol>\n<li><p>What strategy to use when the project has just started? Is it recommended to let Hibernate automatically generate the schema in this phase or is it better to create the database tables manually from earliest phases of the project?</p></li>\n<li><p>Pretending that throughout the project the schema was being generated using Hibernate, is it better to disable automatic schema generation and manually create the database schema just before the system is released into production?</p></li>\n<li><p>And after the system has been released into production, what is the best practice for maintaining the entity classes and the DB schema (e.g. adding/renaming/updating columns, renaming tables, etc.)?</p></li>\n</ol>\n"},{"tags":["java","mysql","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1695326019,"post_id":77151412,"comment_id":136013213,"body_markdown":"what does this question have to do with spring security? also the logs contain no stack trace or no error","body":"what does this question have to do with spring security? also the logs contain no stack trace or no error"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695894609,"post_id":77151412,"comment_id":136085910,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26610565,"reputation":21,"user_id":20230821,"display_name":"Ijaas Fouzer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695308167,"creation_date":1695308167,"question_id":77151412,"body_markdown":"\r\n\r\n        package com.example.hotel.repo.implementation;  \r\n        import com.example.hotel.domain.Role;\r\n        import com.example.hotel.domain.User;\r\n        import com.example.hotel.exception.ApiException;\r\n        import com.example.hotel.repo.RoleRepository;\r\n        import com.example.hotel.repo.UserRepository;\r\n        import lombok.RequiredArgsConstructor;\r\n        import lombok.extern.slf4j.Slf4j;\r\n        import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n        import org.springframework.dao.EmptyResultDataAccessException;\r\n        import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;\r\n        import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\r\n        import org.springframework.jdbc.core.namedparam.SqlParameterSource;\r\n        import org.springframework.jdbc.support.GeneratedKeyHolder;\r\n        import org.springframework.jdbc.support.KeyHolder;\r\n        import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n        \r\n        import org.springframework.stereotype.Repository;\r\n        import org.springframework.web.servlet.support.ServletUriComponentsBuilder;\r\n        \r\n        import java.util.Collection;\r\n        import java.util.Objects;\r\n        import java.util.UUID;\r\n        \r\n        import static com.example.hotel.enumeration.RoleType.ROLE_USER;\r\n        import static com.example.hotel.enumeration.VerificationType.ACCOUNT;\r\n        import static com.example.hotel.query.UserQuery.*;\r\n        import static java.util.Map.of;\r\n        import static java.util.Objects.requireNonNull;\r\n        \r\n        @Repository\r\n        @RequiredArgsConstructor\r\n        @Slf4j\r\n        public class UserRepositoryImpl implements UserRepository &lt;User&gt; {\r\n            private final NamedParameterJdbcTemplate jdbc;\r\n            private final RoleRepository &lt;Role&gt; roleRepository;\r\n            private final BCryptPasswordEncoder encoder;\r\n        \r\n            @Override\r\n            public User create(User user) {\r\n                //check the email whether unique\r\n                if (getEmailCount(user.getEmail().trim().toLowerCase()) &gt; 0)\r\n                    throw new ApiException(&quot;Email already in use. Please use another email and try again&quot;);\r\n                //save new user\r\n               try {\r\n                    KeyHolder holder = new GeneratedKeyHolder(); //get the id from the database\r\n        \r\n                    SqlParameterSource parameters = getSqlParameterSource(user); // set the parameters and get the firstname lastname and details\r\n                    jdbc.update(INSERT_USER_QUERY, parameters, holder); // to update the database after getting the user details\r\n                    //setting a id\r\n                    user.setId(requireNonNull(holder.getKey()).longValue());\r\n                    //setting a role\r\n                    roleRepository.addRoleToUser(user.getId(), ROLE_USER.name());\r\n                    // send verification url\r\n                    String verificationUrl = getVerificationUrl(UUID.randomUUID().toString(), ACCOUNT.getType());\r\n                    // save url in verification table\r\n                    jdbc.update(INSERT_ACCOUNT_VERIFICATION_URL_QUERY, of(&quot;userId&quot;, user.getId(), &quot;url&quot;, verificationUrl)); //userId and url is mapped to INSERT_ACCOUNT_VERIFICATION_URL_QUERY\r\n                    // send email to user with verification url\r\n                    // emailService.sendVerificationUrl(user.getFirstName(), user.getEmail(), verificationUrl, ACCOUNT);\r\n                    user.setEnabled(false);\r\n                    user.setNotLocked(true);\r\n                    // return newly created user\r\n                    return user;\r\n                    // if any errors, throw exception with proper message\r\n                } catch (Exception exception) {\r\n                   log.error(&quot;Error occurred while creating a user: {}&quot;, exception.getMessage(), exception);\r\n                   throw new ApiException(&quot;An error occurred. Please try again.&quot;);\r\n               }\r\n            }\r\n            @Override\r\n            public Collection&lt;User&gt; list(int page, int pageSize) {\r\n                return null;\r\n            }\r\n        \r\n            @Override\r\n            public User get(Long id) {\r\n                return null;\r\n            }\r\n        \r\n            @Override\r\n            public User update(User data) {\r\n                return null;\r\n            }\r\n        \r\n            @Override\r\n            public boolean delete(Long id) {\r\n                return false;\r\n            }\r\n            private Integer getEmailCount(String email) {\r\n                return jdbc.queryForObject(COUNT_USER_EMAIL_QUERY, of(&quot;email&quot;, email), Integer.class);\r\n            }\r\n        \r\n            private SqlParameterSource getSqlParameterSource(User user) {\r\n                return new MapSqlParameterSource()\r\n                        .addValue(&quot;firstName&quot;, user.getFirstName())\r\n                        .addValue(&quot;lastName&quot;, user.getLastName())\r\n                        .addValue(&quot;email&quot;, user.getEmail())\r\n                        .addValue(&quot;password&quot;, encoder.encode(user.getPassword()));\r\n        \r\n            }\r\n            private String getVerificationUrl(String key, String type){\r\n                return ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/user/verify/&quot; + type + &quot;/&quot; + key).toUriString(); //backend url is extracted\r\n            }\r\n        \r\n        \r\n        \r\n        }\r\n        \r\n        package com.example.hotel.repo;\r\n        \r\n        import com.example.hotel.domain.User;\r\n        \r\n        import java.util.Collection;\r\n        \r\n        public interface UserRepository &lt;T extends User&gt;{\r\n            /* Basic CRUD Operation */\r\n            T create(T data);\r\n            Collection &lt;T&gt; list(int page, int pageSize);\r\n            T get(Long id);\r\n        \r\n            T update(T data);\r\n            boolean delete(Long id);\r\n        \r\n            /* More CRUD Operation */\r\n        \r\n        }\r\n        \r\n        package com.example.hotel.domain;\r\n        \r\n        import com.fasterxml.jackson.annotation.JsonInclude;\r\n        import lombok.AllArgsConstructor;\r\n        import lombok.Data;\r\n        import lombok.NoArgsConstructor;\r\n        import lombok.experimental.SuperBuilder;\r\n        \r\n        import static com.fasterxml.jackson.annotation.JsonInclude.Include.NON_DEFAULT;\r\n        \r\n        @Data\r\n        @SuperBuilder\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        @JsonInclude(NON_DEFAULT)\r\n        public class Role {\r\n            private Long id;\r\n            private String name;\r\n            private String permission;\r\n        \r\n        }\r\n        package com.example.hotel.domain;\r\n        \r\n        import com.fasterxml.jackson.annotation.JsonInclude;\r\n        import jakarta.persistence.Entity;\r\n        import jakarta.validation.constraints.Email;\r\n        import jakarta.validation.constraints.NotEmpty;\r\n        import lombok.AllArgsConstructor;\r\n        import lombok.Data;\r\n        import lombok.NoArgsConstructor;\r\n        import lombok.experimental.SuperBuilder;\r\n        \r\n        import java.time.LocalDateTime;\r\n        \r\n        import static com.fasterxml.jackson.annotation.JsonInclude.Include.NON_DEFAULT;\r\n        \r\n        @Data\r\n        @SuperBuilder\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        @JsonInclude(NON_DEFAULT)\r\n        public class User {\r\n            private Long id;\r\n            @NotEmpty(message = &quot;First name cannot be empty&quot;)\r\n            private String firstName;\r\n            @NotEmpty(message = &quot;Last name cannot be empty&quot;)\r\n            private String lastName;\r\n            @NotEmpty(message = &quot;Email cannot be empty&quot;)\r\n            @Email(message = &quot;Invalid email. Please enter a valid email&quot;)\r\n            private String email;\r\n            @NotEmpty(message = &quot;Password cannot be empty&quot;)\r\n            private String password;\r\n            private String address;\r\n            private String phone;\r\n            private String title;\r\n            private String bio;\r\n            private String imageUrl;\r\n            private boolean enabled;\r\n            private boolean isNotLocked;\r\n            private boolean isUsingMfa;\r\n            private LocalDateTime createdAt;\r\n        }\r\n        \r\n**These are my class files, As i have been trying to insert data into the database via Insomnia I have been as**\r\n\r\n        {\r\n        \r\n        \t&quot;firstName&quot;: &quot;ijas&quot;,\r\n        \t&quot;lastName&quot;: &quot;me&quot;,\r\n        \t&quot;email&quot;: &quot;undyin2@gmail.com&quot;,\r\n        \t&quot;password&quot; : &quot;123456&quot;\r\n        }\r\n\r\nI get the response as \r\n\r\n        {\r\n        \t&quot;timestamp&quot;: &quot;2023-09-21T14:17:06.086+00:00&quot;,\r\n        \t&quot;status&quot;: 500,\r\n        \t&quot;error&quot;: &quot;Internal Server Error&quot;,\r\n        \t&quot;path&quot;: &quot;/user/register&quot;\r\n        }\r\n      \r\nThe stack trace gives \r\n      \r\n        \r\n        &quot;C:\\Program Files\\jdk-20_windows-x64_bin\\jdk-20.0.1\\bin\\java.exe&quot; -XX:TieredStopAtLevel=1 -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true &quot;-Dmanagement.endpoints.jmx.exposure.include=*&quot; &quot;-javaagent:D:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2.1\\lib\\idea_rt.jar=59724:D:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2.1\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath C:\\Users\\ASUS\\Documents\\Hotel-Management\\server\\target\\classes;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\3.1.3\\spring-boot-starter-web-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\3.1.3\\spring-boot-starter-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\3.1.3\\spring-boot-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\3.1.3\\spring-boot-autoconfigure-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\3.1.3\\spring-boot-starter-logging-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.4.11\\logback-classic-1.4.11.jar;C:\\Users\\ASUS\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.4.11\\logback-core-1.4.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.20.0\\log4j-to-slf4j-2.20.0.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.20.0\\log4j-api-2.20.0.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\2.0.7\\jul-to-slf4j-2.0.7.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\2.1.1\\jakarta.annotation-api-2.1.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\yaml\\snakeyaml\\1.33\\snakeyaml-1.33.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\3.1.3\\spring-boot-starter-json-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.15.2\\jackson-databind-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.15.2\\jackson-annotations-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.15.2\\jackson-core-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.15.2\\jackson-datatype-jdk8-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.15.2\\jackson-datatype-jsr310-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.15.2\\jackson-module-parameter-names-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\3.1.3\\spring-boot-starter-tomcat-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\10.1.12\\tomcat-embed-core-10.1.12.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\10.1.12\\tomcat-embed-websocket-10.1.12.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-web\\6.0.11\\spring-web-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-beans\\6.0.11\\spring-beans-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\io\\micrometer\\micrometer-observation\\1.11.3\\micrometer-observation-1.11.3.jar;C:\\Users\\ASUS\\.m2\\repository\\io\\micrometer\\micrometer-commons\\1.11.3\\micrometer-commons-1.11.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-webmvc\\6.0.11\\spring-webmvc-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-context\\6.0.11\\spring-context-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-expression\\6.0.11\\spring-expression-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-security\\3.1.3\\spring-boot-starter-security-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-aop\\6.0.11\\spring-aop-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\security\\spring-security-config\\6.1.3\\spring-security-config-6.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\security\\spring-security-core\\6.1.3\\spring-security-core-6.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\security\\spring-security-crypto\\6.1.3\\spring-security-crypto-6.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\security\\spring-security-web\\6.1.3\\spring-security-web-6.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-validation\\3.1.3\\spring-boot-starter-validation-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\10.1.12\\tomcat-embed-el-10.1.12.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\hibernate\\validator\\hibernate-validator\\8.0.1.Final\\hibernate-validator-8.0.1.Final.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\validation\\jakarta.validation-api\\3.0.2\\jakarta.validation-api-3.0.2.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.5.3.Final\\jboss-logging-3.5.3.Final.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jpa\\3.1.3\\spring-boot-starter-data-jpa-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-aop\\3.1.3\\spring-boot-starter-aop-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\aspectj\\aspectjweaver\\1.9.20\\aspectjweaver-1.9.20.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-jdbc\\3.1.3\\spring-boot-starter-jdbc-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\zaxxer\\HikariCP\\5.0.1\\HikariCP-5.0.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-jdbc\\6.0.11\\spring-jdbc-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\hibernate\\orm\\hibernate-core\\6.2.7.Final\\hibernate-core-6.2.7.Final.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\persistence\\jakarta.persistence-api\\3.1.0\\jakarta.persistence-api-3.1.0.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\transaction\\jakarta.transaction-api\\2.0.1\\jakarta.transaction-api-2.0.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\6.0.6.Final\\hibernate-commons-annotations-6.0.6.Final.jar;C:\\Users\\ASUS\\.m2\\repository\\io\\smallrye\\jandex\\3.0.5\\jandex-3.0.5.jar;C:\\Users\\ASUS\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.14.6\\byte-buddy-1.14.6.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\4.0.3\\jaxb-runtime-4.0.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-core\\4.0.3\\jaxb-core-4.0.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\eclipse\\angus\\angus-activation\\2.0.1\\angus-activation-2.0.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\4.0.3\\txw2-4.0.3.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\4.1.2\\istack-commons-runtime-4.1.2.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\inject\\jakarta.inject-api\\2.0.1\\jakarta.inject-api-2.0.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\antlr\\antlr4-runtime\\4.10.1\\antlr4-runtime-4.10.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\data\\spring-data-jpa\\3.1.3\\spring-data-jpa-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\data\\spring-data-commons\\3.1.3\\spring-data-commons-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-orm\\6.0.11\\spring-orm-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-tx\\6.0.11\\spring-tx-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\slf4j\\slf4j-api\\2.0.7\\slf4j-api-2.0.7.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-aspects\\6.0.11\\spring-aspects-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\mysql\\mysql-connector-j\\8.0.33\\mysql-connector-j-8.0.33.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\xml\\bind\\jakarta.xml.bind-api\\4.0.0\\jakarta.xml.bind-api-4.0.0.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\2.1.2\\jakarta.activation-api-2.1.2.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-core\\6.0.11\\spring-core-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-jcl\\6.0.11\\spring-jcl-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.28\\lombok-1.18.28.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\modelmapper\\modelmapper\\3.1.1\\modelmapper-3.1.1.jar com.example.hotel.HotelBackend\r\n        \r\n          .   ____          _            __ _ _\r\n         /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n        ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n         \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n          &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n         =========|_|==============|___/=/_/_/_/\r\n         :: Spring Boot ::                (v3.1.3)\r\n        \r\n        2023-09-21T19:59:18.917+05:30  INFO 1636 --- [           main] com.example.hotel.HotelBackend           : Starting HotelBackend using Java 20.0.1 with PID 1636 (C:\\Users\\ASUS\\Documents\\Hotel-Management\\server\\target\\classes started by ASUS in C:\\Users\\ASUS\\Documents\\Hotel-Management\\server)\r\n        2023-09-21T19:59:18.919+05:30  INFO 1636 --- [           main] com.example.hotel.HotelBackend           : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n        2023-09-21T19:59:19.287+05:30  INFO 1636 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n        2023-09-21T19:59:19.329+05:30  INFO 1636 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 1 JPA repository interfaces.\r\n        2023-09-21T19:59:19.631+05:30  INFO 1636 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n        2023-09-21T19:59:19.637+05:30  INFO 1636 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n        2023-09-21T19:59:19.637+05:30  INFO 1636 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.12]\r\n        2023-09-21T19:59:19.691+05:30  INFO 1636 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n        2023-09-21T19:59:19.691+05:30  INFO 1636 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 746 ms\r\n        2023-09-21T19:59:19.775+05:30  INFO 1636 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n        2023-09-21T19:59:19.807+05:30  INFO 1636 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final\r\n        2023-09-21T19:59:19.808+05:30  INFO 1636 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n        2023-09-21T19:59:19.896+05:30  INFO 1636 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n        2023-09-21T19:59:19.977+05:30  INFO 1636 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n        2023-09-21T19:59:19.987+05:30  INFO 1636 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n        2023-09-21T19:59:20.193+05:30  INFO 1636 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6e5f5478\r\n        2023-09-21T19:59:20.194+05:30  INFO 1636 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n        2023-09-21T19:59:20.341+05:30  INFO 1636 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n        2023-09-21T19:59:20.755+05:30  INFO 1636 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n        2023-09-21T19:59:20.787+05:30  INFO 1636 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n        2023-09-21T19:59:20.941+05:30  INFO 1636 --- [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.\r\n        2023-09-21T19:59:21.027+05:30  WARN 1636 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n        2023-09-21T19:59:21.219+05:30  INFO 1636 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n        2023-09-21T19:59:21.224+05:30  INFO 1636 --- [           main] com.example.hotel.HotelBackend           : Started HotelBackend in 2.539 seconds (process running for 2.927)\r\n        \r\n**So i have been trying to solve this error for long time, i would really appreciate if somebody could help me solve this error.**\r\n        \r\nI will also share the query codes below as to how it is queried into the database. And to note, i get data inserted successfully to the database yet i get an error of exception that leads me to a generic stack trace as shared. \r\n        \r\n        package com.example.hotel.query;\r\n        \r\n        public class RoleQuery {\r\n            public static final String INSERT_ROLE_TO_USER_QUERY = &quot;INSERT INTO UserRoles (user_id, role_id) VALUES (:userId, :roleId) &quot;;\r\n            public static final String SELECT_ROLE_BY_NAME_QUERY = &quot;SELECT * FROM Roles WHERE name = :name&quot;;\r\n        }\r\n        \r\n        package com.example.hotel.query;\r\n        \r\n        public class UserQuery {\r\n        \r\n            public static final String INSERT_USER_QUERY = &quot;INSERT INTO Users (first_name, last_name, email, password) VALUES (:firstName, :lastName, :email, :password)&quot;;\r\n            //NamedParmeter is used this way.\r\n            public static final String COUNT_USER_EMAIL_QUERY = &quot;SELECT COUNT(*) FROM Users WHERE email = :email&quot;;\r\n            public static final String INSERT_ACCOUNT_VERIFICATION_URL_QUERY = &quot;INSERT INTO AccountVerifications (user_id, url) VALUES (:userId, :url)&quot;;\r\n        }\r\n        [![enter image description here][1]][1]\r\n      \r\n        \r\n        \r\n          [1]: https://i.stack.imgur.com/9Zo00.png","title":"Generic exception when developing Spring Boot 3 API with Insomnia","body":"<pre><code>    package com.example.hotel.repo.implementation;  \n    import com.example.hotel.domain.Role;\n    import com.example.hotel.domain.User;\n    import com.example.hotel.exception.ApiException;\n    import com.example.hotel.repo.RoleRepository;\n    import com.example.hotel.repo.UserRepository;\n    import lombok.RequiredArgsConstructor;\n    import lombok.extern.slf4j.Slf4j;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    import org.springframework.dao.EmptyResultDataAccessException;\n    import org.springframework.jdbc.core.namedparam.MapSqlParameterSource;\n    import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\n    import org.springframework.jdbc.core.namedparam.SqlParameterSource;\n    import org.springframework.jdbc.support.GeneratedKeyHolder;\n    import org.springframework.jdbc.support.KeyHolder;\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n    \n    import org.springframework.stereotype.Repository;\n    import org.springframework.web.servlet.support.ServletUriComponentsBuilder;\n    \n    import java.util.Collection;\n    import java.util.Objects;\n    import java.util.UUID;\n    \n    import static com.example.hotel.enumeration.RoleType.ROLE_USER;\n    import static com.example.hotel.enumeration.VerificationType.ACCOUNT;\n    import static com.example.hotel.query.UserQuery.*;\n    import static java.util.Map.of;\n    import static java.util.Objects.requireNonNull;\n    \n    @Repository\n    @RequiredArgsConstructor\n    @Slf4j\n    public class UserRepositoryImpl implements UserRepository &lt;User&gt; {\n        private final NamedParameterJdbcTemplate jdbc;\n        private final RoleRepository &lt;Role&gt; roleRepository;\n        private final BCryptPasswordEncoder encoder;\n    \n        @Override\n        public User create(User user) {\n            //check the email whether unique\n            if (getEmailCount(user.getEmail().trim().toLowerCase()) &gt; 0)\n                throw new ApiException(&quot;Email already in use. Please use another email and try again&quot;);\n            //save new user\n           try {\n                KeyHolder holder = new GeneratedKeyHolder(); //get the id from the database\n    \n                SqlParameterSource parameters = getSqlParameterSource(user); // set the parameters and get the firstname lastname and details\n                jdbc.update(INSERT_USER_QUERY, parameters, holder); // to update the database after getting the user details\n                //setting a id\n                user.setId(requireNonNull(holder.getKey()).longValue());\n                //setting a role\n                roleRepository.addRoleToUser(user.getId(), ROLE_USER.name());\n                // send verification url\n                String verificationUrl = getVerificationUrl(UUID.randomUUID().toString(), ACCOUNT.getType());\n                // save url in verification table\n                jdbc.update(INSERT_ACCOUNT_VERIFICATION_URL_QUERY, of(&quot;userId&quot;, user.getId(), &quot;url&quot;, verificationUrl)); //userId and url is mapped to INSERT_ACCOUNT_VERIFICATION_URL_QUERY\n                // send email to user with verification url\n                // emailService.sendVerificationUrl(user.getFirstName(), user.getEmail(), verificationUrl, ACCOUNT);\n                user.setEnabled(false);\n                user.setNotLocked(true);\n                // return newly created user\n                return user;\n                // if any errors, throw exception with proper message\n            } catch (Exception exception) {\n               log.error(&quot;Error occurred while creating a user: {}&quot;, exception.getMessage(), exception);\n               throw new ApiException(&quot;An error occurred. Please try again.&quot;);\n           }\n        }\n        @Override\n        public Collection&lt;User&gt; list(int page, int pageSize) {\n            return null;\n        }\n    \n        @Override\n        public User get(Long id) {\n            return null;\n        }\n    \n        @Override\n        public User update(User data) {\n            return null;\n        }\n    \n        @Override\n        public boolean delete(Long id) {\n            return false;\n        }\n        private Integer getEmailCount(String email) {\n            return jdbc.queryForObject(COUNT_USER_EMAIL_QUERY, of(&quot;email&quot;, email), Integer.class);\n        }\n    \n        private SqlParameterSource getSqlParameterSource(User user) {\n            return new MapSqlParameterSource()\n                    .addValue(&quot;firstName&quot;, user.getFirstName())\n                    .addValue(&quot;lastName&quot;, user.getLastName())\n                    .addValue(&quot;email&quot;, user.getEmail())\n                    .addValue(&quot;password&quot;, encoder.encode(user.getPassword()));\n    \n        }\n        private String getVerificationUrl(String key, String type){\n            return ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/user/verify/&quot; + type + &quot;/&quot; + key).toUriString(); //backend url is extracted\n        }\n    \n    \n    \n    }\n    \n    package com.example.hotel.repo;\n    \n    import com.example.hotel.domain.User;\n    \n    import java.util.Collection;\n    \n    public interface UserRepository &lt;T extends User&gt;{\n        /* Basic CRUD Operation */\n        T create(T data);\n        Collection &lt;T&gt; list(int page, int pageSize);\n        T get(Long id);\n    \n        T update(T data);\n        boolean delete(Long id);\n    \n        /* More CRUD Operation */\n    \n    }\n    \n    package com.example.hotel.domain;\n    \n    import com.fasterxml.jackson.annotation.JsonInclude;\n    import lombok.AllArgsConstructor;\n    import lombok.Data;\n    import lombok.NoArgsConstructor;\n    import lombok.experimental.SuperBuilder;\n    \n    import static com.fasterxml.jackson.annotation.JsonInclude.Include.NON_DEFAULT;\n    \n    @Data\n    @SuperBuilder\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @JsonInclude(NON_DEFAULT)\n    public class Role {\n        private Long id;\n        private String name;\n        private String permission;\n    \n    }\n    package com.example.hotel.domain;\n    \n    import com.fasterxml.jackson.annotation.JsonInclude;\n    import jakarta.persistence.Entity;\n    import jakarta.validation.constraints.Email;\n    import jakarta.validation.constraints.NotEmpty;\n    import lombok.AllArgsConstructor;\n    import lombok.Data;\n    import lombok.NoArgsConstructor;\n    import lombok.experimental.SuperBuilder;\n    \n    import java.time.LocalDateTime;\n    \n    import static com.fasterxml.jackson.annotation.JsonInclude.Include.NON_DEFAULT;\n    \n    @Data\n    @SuperBuilder\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @JsonInclude(NON_DEFAULT)\n    public class User {\n        private Long id;\n        @NotEmpty(message = &quot;First name cannot be empty&quot;)\n        private String firstName;\n        @NotEmpty(message = &quot;Last name cannot be empty&quot;)\n        private String lastName;\n        @NotEmpty(message = &quot;Email cannot be empty&quot;)\n        @Email(message = &quot;Invalid email. Please enter a valid email&quot;)\n        private String email;\n        @NotEmpty(message = &quot;Password cannot be empty&quot;)\n        private String password;\n        private String address;\n        private String phone;\n        private String title;\n        private String bio;\n        private String imageUrl;\n        private boolean enabled;\n        private boolean isNotLocked;\n        private boolean isUsingMfa;\n        private LocalDateTime createdAt;\n    }\n    \n</code></pre>\n<p><strong>These are my class files, As i have been trying to insert data into the database via Insomnia I have been as</strong></p>\n<pre><code>    {\n    \n        &quot;firstName&quot;: &quot;ijas&quot;,\n        &quot;lastName&quot;: &quot;me&quot;,\n        &quot;email&quot;: &quot;undyin2@gmail.com&quot;,\n        &quot;password&quot; : &quot;123456&quot;\n    }\n</code></pre>\n<p>I get the response as</p>\n<pre><code>    {\n        &quot;timestamp&quot;: &quot;2023-09-21T14:17:06.086+00:00&quot;,\n        &quot;status&quot;: 500,\n        &quot;error&quot;: &quot;Internal Server Error&quot;,\n        &quot;path&quot;: &quot;/user/register&quot;\n    }\n  \n</code></pre>\n<p>The stack trace gives</p>\n<pre><code>    &quot;C:\\Program Files\\jdk-20_windows-x64_bin\\jdk-20.0.1\\bin\\java.exe&quot; -XX:TieredStopAtLevel=1 -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true &quot;-Dmanagement.endpoints.jmx.exposure.include=*&quot; &quot;-javaagent:D:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2.1\\lib\\idea_rt.jar=59724:D:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2.1\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath C:\\Users\\ASUS\\Documents\\Hotel-Management\\server\\target\\classes;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\3.1.3\\spring-boot-starter-web-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\3.1.3\\spring-boot-starter-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\3.1.3\\spring-boot-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\3.1.3\\spring-boot-autoconfigure-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\3.1.3\\spring-boot-starter-logging-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.4.11\\logback-classic-1.4.11.jar;C:\\Users\\ASUS\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.4.11\\logback-core-1.4.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.20.0\\log4j-to-slf4j-2.20.0.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.20.0\\log4j-api-2.20.0.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\2.0.7\\jul-to-slf4j-2.0.7.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\2.1.1\\jakarta.annotation-api-2.1.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\yaml\\snakeyaml\\1.33\\snakeyaml-1.33.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\3.1.3\\spring-boot-starter-json-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.15.2\\jackson-databind-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.15.2\\jackson-annotations-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.15.2\\jackson-core-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.15.2\\jackson-datatype-jdk8-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.15.2\\jackson-datatype-jsr310-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.15.2\\jackson-module-parameter-names-2.15.2.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\3.1.3\\spring-boot-starter-tomcat-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\10.1.12\\tomcat-embed-core-10.1.12.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\10.1.12\\tomcat-embed-websocket-10.1.12.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-web\\6.0.11\\spring-web-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-beans\\6.0.11\\spring-beans-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\io\\micrometer\\micrometer-observation\\1.11.3\\micrometer-observation-1.11.3.jar;C:\\Users\\ASUS\\.m2\\repository\\io\\micrometer\\micrometer-commons\\1.11.3\\micrometer-commons-1.11.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-webmvc\\6.0.11\\spring-webmvc-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-context\\6.0.11\\spring-context-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-expression\\6.0.11\\spring-expression-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-security\\3.1.3\\spring-boot-starter-security-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-aop\\6.0.11\\spring-aop-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\security\\spring-security-config\\6.1.3\\spring-security-config-6.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\security\\spring-security-core\\6.1.3\\spring-security-core-6.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\security\\spring-security-crypto\\6.1.3\\spring-security-crypto-6.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\security\\spring-security-web\\6.1.3\\spring-security-web-6.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-validation\\3.1.3\\spring-boot-starter-validation-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\10.1.12\\tomcat-embed-el-10.1.12.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\hibernate\\validator\\hibernate-validator\\8.0.1.Final\\hibernate-validator-8.0.1.Final.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\validation\\jakarta.validation-api\\3.0.2\\jakarta.validation-api-3.0.2.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.5.3.Final\\jboss-logging-3.5.3.Final.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jpa\\3.1.3\\spring-boot-starter-data-jpa-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-aop\\3.1.3\\spring-boot-starter-aop-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\aspectj\\aspectjweaver\\1.9.20\\aspectjweaver-1.9.20.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-jdbc\\3.1.3\\spring-boot-starter-jdbc-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\zaxxer\\HikariCP\\5.0.1\\HikariCP-5.0.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-jdbc\\6.0.11\\spring-jdbc-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\hibernate\\orm\\hibernate-core\\6.2.7.Final\\hibernate-core-6.2.7.Final.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\persistence\\jakarta.persistence-api\\3.1.0\\jakarta.persistence-api-3.1.0.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\transaction\\jakarta.transaction-api\\2.0.1\\jakarta.transaction-api-2.0.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\6.0.6.Final\\hibernate-commons-annotations-6.0.6.Final.jar;C:\\Users\\ASUS\\.m2\\repository\\io\\smallrye\\jandex\\3.0.5\\jandex-3.0.5.jar;C:\\Users\\ASUS\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.14.6\\byte-buddy-1.14.6.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\4.0.3\\jaxb-runtime-4.0.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-core\\4.0.3\\jaxb-core-4.0.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\eclipse\\angus\\angus-activation\\2.0.1\\angus-activation-2.0.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\4.0.3\\txw2-4.0.3.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\4.1.2\\istack-commons-runtime-4.1.2.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\inject\\jakarta.inject-api\\2.0.1\\jakarta.inject-api-2.0.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\antlr\\antlr4-runtime\\4.10.1\\antlr4-runtime-4.10.1.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\data\\spring-data-jpa\\3.1.3\\spring-data-jpa-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\data\\spring-data-commons\\3.1.3\\spring-data-commons-3.1.3.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-orm\\6.0.11\\spring-orm-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-tx\\6.0.11\\spring-tx-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\slf4j\\slf4j-api\\2.0.7\\slf4j-api-2.0.7.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-aspects\\6.0.11\\spring-aspects-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\com\\mysql\\mysql-connector-j\\8.0.33\\mysql-connector-j-8.0.33.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\xml\\bind\\jakarta.xml.bind-api\\4.0.0\\jakarta.xml.bind-api-4.0.0.jar;C:\\Users\\ASUS\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\2.1.2\\jakarta.activation-api-2.1.2.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-core\\6.0.11\\spring-core-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\springframework\\spring-jcl\\6.0.11\\spring-jcl-6.0.11.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.28\\lombok-1.18.28.jar;C:\\Users\\ASUS\\.m2\\repository\\org\\modelmapper\\modelmapper\\3.1.1\\modelmapper-3.1.1.jar com.example.hotel.HotelBackend\n    \n      .   ____          _            __ _ _\n     /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n    ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n      '  |____| .__|_| |_|_| |_\\__, | / / / /\n     =========|_|==============|___/=/_/_/_/\n     :: Spring Boot ::                (v3.1.3)\n    \n    2023-09-21T19:59:18.917+05:30  INFO 1636 --- [           main] com.example.hotel.HotelBackend           : Starting HotelBackend using Java 20.0.1 with PID 1636 (C:\\Users\\ASUS\\Documents\\Hotel-Management\\server\\target\\classes started by ASUS in C:\\Users\\ASUS\\Documents\\Hotel-Management\\server)\n    2023-09-21T19:59:18.919+05:30  INFO 1636 --- [           main] com.example.hotel.HotelBackend           : No active profile set, falling back to 1 default profile: &quot;default&quot;\n    2023-09-21T19:59:19.287+05:30  INFO 1636 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n    2023-09-21T19:59:19.329+05:30  INFO 1636 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 1 JPA repository interfaces.\n    2023-09-21T19:59:19.631+05:30  INFO 1636 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n    2023-09-21T19:59:19.637+05:30  INFO 1636 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n    2023-09-21T19:59:19.637+05:30  INFO 1636 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.12]\n    2023-09-21T19:59:19.691+05:30  INFO 1636 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n    2023-09-21T19:59:19.691+05:30  INFO 1636 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 746 ms\n    2023-09-21T19:59:19.775+05:30  INFO 1636 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n    2023-09-21T19:59:19.807+05:30  INFO 1636 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final\n    2023-09-21T19:59:19.808+05:30  INFO 1636 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n    2023-09-21T19:59:19.896+05:30  INFO 1636 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n    2023-09-21T19:59:19.977+05:30  INFO 1636 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n    2023-09-21T19:59:19.987+05:30  INFO 1636 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n    2023-09-21T19:59:20.193+05:30  INFO 1636 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6e5f5478\n    2023-09-21T19:59:20.194+05:30  INFO 1636 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n    2023-09-21T19:59:20.341+05:30  INFO 1636 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n    2023-09-21T19:59:20.755+05:30  INFO 1636 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n    2023-09-21T19:59:20.787+05:30  INFO 1636 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n    2023-09-21T19:59:20.941+05:30  INFO 1636 --- [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.\n    2023-09-21T19:59:21.027+05:30  WARN 1636 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n    2023-09-21T19:59:21.219+05:30  INFO 1636 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n    2023-09-21T19:59:21.224+05:30  INFO 1636 --- [           main] com.example.hotel.HotelBackend           : Started HotelBackend in 2.539 seconds (process running for 2.927)\n    \n</code></pre>\n<p><strong>So i have been trying to solve this error for long time, i would really appreciate if somebody could help me solve this error.</strong></p>\n<p>I will also share the query codes below as to how it is queried into the database. And to note, i get data inserted successfully to the database yet i get an error of exception that leads me to a generic stack trace as shared.</p>\n<pre><code>    package com.example.hotel.query;\n    \n    public class RoleQuery {\n        public static final String INSERT_ROLE_TO_USER_QUERY = &quot;INSERT INTO UserRoles (user_id, role_id) VALUES (:userId, :roleId) &quot;;\n        public static final String SELECT_ROLE_BY_NAME_QUERY = &quot;SELECT * FROM Roles WHERE name = :name&quot;;\n    }\n    \n    package com.example.hotel.query;\n    \n    public class UserQuery {\n    \n        public static final String INSERT_USER_QUERY = &quot;INSERT INTO Users (first_name, last_name, email, password) VALUES (:firstName, :lastName, :email, :password)&quot;;\n        //NamedParmeter is used this way.\n        public static final String COUNT_USER_EMAIL_QUERY = &quot;SELECT COUNT(*) FROM Users WHERE email = :email&quot;;\n        public static final String INSERT_ACCOUNT_VERIFICATION_URL_QUERY = &quot;INSERT INTO AccountVerifications (user_id, url) VALUES (:userId, :url)&quot;;\n    }\n    [![enter image description here][1]][1]\n  \n    \n    \n      [1]: https://i.stack.imgur.com/9Zo00.png\n</code></pre>\n"},{"tags":["java","android","xml","fonts","aapt"],"comments":[{"owner":{"account_id":24020541,"reputation":754,"user_id":18002913,"display_name":"NewPartizal"},"score":0,"creation_date":1695310532,"post_id":77151011,"comment_id":136010263,"body_markdown":"I think the problem is caused by the font with aapt. It usually has the .otf extension as far as I know. If you download a font with .otf, maybe the problem can be solved.maybe it will work","body":"I think the problem is caused by the font with aapt. It usually has the .otf extension as far as I know. If you download a font with .otf, maybe the problem can be solved.maybe it will work"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695333736,"post_id":77151011,"comment_id":136014357,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":28987078,"reputation":3,"user_id":22203694,"display_name":"Micah Okoh"},"score":0,"creation_date":1695309193,"post_id":77151299,"comment_id":136009966,"body_markdown":"I&#39;ll try it now thanks","body":"I&#39;ll try it now thanks"},{"owner":{"account_id":28987078,"reputation":3,"user_id":22203694,"display_name":"Micah Okoh"},"score":0,"creation_date":1695309474,"post_id":77151299,"comment_id":136010032,"body_markdown":"It still says invalid directory name font","body":"It still says invalid directory name font"},{"owner":{"account_id":29501586,"reputation":1,"user_id":22608471,"display_name":"Giuliano"},"score":0,"creation_date":1695645398,"post_id":77151299,"comment_id":136047888,"body_markdown":"please visit the post:  [link]https://stackoverflow.com/questions/16404820/how-to-set-default-font-family-for-entire-android-app","body":"please visit the post:  [link]<a href=\"https://stackoverflow.com/questions/16404820/how-to-set-default-font-family-for-entire-android-app\" title=\"how to set default font family for entire android app\">stackoverflow.com/questions/16404820/&hellip;</a>"}],"tags":[],"owner":{"account_id":29501586,"reputation":1,"user_id":22608471,"display_name":"Giuliano"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695307368,"creation_date":1695307287,"answer_id":77151299,"question_id":77151011,"body_markdown":"after you created your font folder, you have to place your font file into that folder and then reference to that file in  your application theme style\r\n\r\nso go to themes folder of your project and edit the style for the application theme, adding the item &quot;android:fontFamily&quot;\r\n\r\n    &lt;style name=&quot;Theme.MyApplication&quot;....&gt;\r\n    ...\r\n    \r\n    &lt;item name=&quot;android:fontFamily&quot;&gt;@font/myfontname&lt;/item&gt;\r\n    \r\n    ...\r\n    &lt;/style&gt;","title":"How to set custom font for my entire application","body":"<p>after you created your font folder, you have to place your font file into that folder and then reference to that file in  your application theme style</p>\n<p>so go to themes folder of your project and edit the style for the application theme, adding the item &quot;android:fontFamily&quot;</p>\n<pre><code>&lt;style name=&quot;Theme.MyApplication&quot;....&gt;\n...\n\n&lt;item name=&quot;android:fontFamily&quot;&gt;@font/myfontname&lt;/item&gt;\n\n...\n&lt;/style&gt;\n</code></pre>\n"}],"owner":{"account_id":28987078,"reputation":3,"user_id":22203694,"display_name":"Micah Okoh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695307368,"creation_date":1695305109,"question_id":77151011,"body_markdown":"I wanted to set custom font for app but I&#39;m receiving an error\r\n\r\nI tried to set custom font for my app using the method I saw from google. I added a font resource folder but I got an error saying &#39; aapt : invalid resource directory name My app/app/src/main/res font &#39;  .Please what do I do?","title":"How to set custom font for my entire application","body":"<p>I wanted to set custom font for app but I'm receiving an error</p>\n<p>I tried to set custom font for my app using the method I saw from google. I added a font resource folder but I got an error saying ' aapt : invalid resource directory name My app/app/src/main/res font '  .Please what do I do?</p>\n"},{"tags":["java","jna"],"answers":[{"tags":[],"owner":{"account_id":29180359,"reputation":1,"user_id":22354710,"display_name":"David Maffitt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695307213,"creation_date":1695307213,"answer_id":77151291,"question_id":77143900,"body_markdown":"The issue seems to be that loading a library is passed from JNA to a native loader without a larger context. If the native loader fails, JNA does not take any steps to remediate that failure. The consequence is that the native loader must be given all the context it needs independent of JNA. This means setting environment variables used by the native loader. For Macs, these are `DYLD_LIBRARY_PATH` and `DYLD_FALLBACK_FRAMEWORK_PATH`.  See `man dyld` for more info.\r\n\r\nMy approach is to use these variables to specify where my app will unpack the native dependencies. Now both JNA and the native loader know where to find the dependencies.","title":"How to load native library and its transitive native dependencies with JNA?","body":"<p>The issue seems to be that loading a library is passed from JNA to a native loader without a larger context. If the native loader fails, JNA does not take any steps to remediate that failure. The consequence is that the native loader must be given all the context it needs independent of JNA. This means setting environment variables used by the native loader. For Macs, these are <code>DYLD_LIBRARY_PATH</code> and <code>DYLD_FALLBACK_FRAMEWORK_PATH</code>.  See <code>man dyld</code> for more info.</p>\n<p>My approach is to use these variables to specify where my app will unpack the native dependencies. Now both JNA and the native loader know where to find the dependencies.</p>\n"}],"owner":{"account_id":29180359,"reputation":1,"user_id":22354710,"display_name":"David Maffitt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695307213,"creation_date":1695223327,"question_id":77143900,"body_markdown":"This comes up periodically but none of the answers work for me or are complete enough for me understand what is going on. For example, https://stackoverflow.com/questions/68974402/how-to-load-a-native-api-with-jna.\r\nI can get the primary lib to load, but none of its transitive dependencies. I have a single native lib that I need to make an interface for but it has many native libraries on which it depends.\r\nI have tried many variations of three approaches and not hit on the right combination.\r\n\r\n1. native libs directly on the classpath with various directory structures (&#39;darwin&#39; or &#39;darwin_x86_64&#39; in my case)\r\n2. native libs in a jar, jar on the classpath, sytem variable jna.nounpack=false\r\n3. native libs in a jar, jar is unpacked to a temp directory \\&lt;tmp&gt;, system variable jna.library.path=\\&lt;tmp&gt;\r\n\r\nI set jna_load_debug=true.  I can see the main lib getting loaded but subesequent failure because transitive dependencies are not loaded and there is no indication that the correct places are being searched. \r\n\r\nHere is some of the output from unpacking the native libs into a directory and setting jna.library.path\r\n\r\n    INFO: Adding paths from jna.library.path: /var/folders/cv/xl07kvgs0q91fv5w0x1y5mbh0000gn/T/snafu17797529543521833103\r\n    Sep 20, 2023 9:36:56 AM com.sun.jna.NativeLibrary loadLibrary\r\n    INFO: Trying /var/folders/cv/xl07kvgs0q91fv5w0x1y5mbh0000gn/T/snafu17797529543521833103/libstellarsolver.dylib\r\n    Sep 20, 2023 9:36:57 AM com.sun.jna.NativeLibrary loadLibrary\r\n\r\nNice! the temp directory containing the lib and its transitive dependencies is added to search path.\r\n\r\n    INFO: Loading failed with message: dlopen(/var/folders/cv/xl07kvgs0q91fv5w0x1y5mbh0000gn/T/snafu17797529543521833103/libstellarsolver.dylib, 0x0009): Library not loaded: @executable_path/../Frameworks/libcfitsio.4.dylib\r\n      Referenced from: &lt;ABEB0A7F-C1DB-3C8B-BB02-6A20D400CAAD&gt; /private/var/folders/cv/xl07kvgs0q91fv5w0x1y5mbh0000gn/T/snafu17797529543521833103/libstellarsolver.dylib\r\n      Reason: tried: &#39;/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/Frameworks/libcfitsio.4.dylib&#39; (no such file), &#39;/usr/lib/libcfitsio.4.dylib&#39; (no such file, not in dyld cache)\r\n\r\nThis indicates to me that libstellarsolver.dylib was found and JNA realizes it needs to find transitive dependency libcfitsio.4.dylib. There is this failure and others but there is never any indication that it looks in jna.library.path for this dependency. This is baffliing to me.\r\n\r\nThe stackoverflow question above suggests I might have to create an explicit search path for every transitive dependency. Can that be true? This seems like a commmon use case for JNA. Help is greatly appreciated.\r\n\r\n\r\nDave\r\n\r\n\r\n\r\n\r\n","title":"How to load native library and its transitive native dependencies with JNA?","body":"<p>This comes up periodically but none of the answers work for me or are complete enough for me understand what is going on. For example, <a href=\"https://stackoverflow.com/questions/68974402/how-to-load-a-native-api-with-jna\">How to load a native API with JNA</a>.\nI can get the primary lib to load, but none of its transitive dependencies. I have a single native lib that I need to make an interface for but it has many native libraries on which it depends.\nI have tried many variations of three approaches and not hit on the right combination.</p>\n<ol>\n<li>native libs directly on the classpath with various directory structures ('darwin' or 'darwin_x86_64' in my case)</li>\n<li>native libs in a jar, jar on the classpath, sytem variable jna.nounpack=false</li>\n<li>native libs in a jar, jar is unpacked to a temp directory &lt;tmp&gt;, system variable jna.library.path=&lt;tmp&gt;</li>\n</ol>\n<p>I set jna_load_debug=true.  I can see the main lib getting loaded but subesequent failure because transitive dependencies are not loaded and there is no indication that the correct places are being searched.</p>\n<p>Here is some of the output from unpacking the native libs into a directory and setting jna.library.path</p>\n<pre><code>INFO: Adding paths from jna.library.path: /var/folders/cv/xl07kvgs0q91fv5w0x1y5mbh0000gn/T/snafu17797529543521833103\nSep 20, 2023 9:36:56 AM com.sun.jna.NativeLibrary loadLibrary\nINFO: Trying /var/folders/cv/xl07kvgs0q91fv5w0x1y5mbh0000gn/T/snafu17797529543521833103/libstellarsolver.dylib\nSep 20, 2023 9:36:57 AM com.sun.jna.NativeLibrary loadLibrary\n</code></pre>\n<p>Nice! the temp directory containing the lib and its transitive dependencies is added to search path.</p>\n<pre><code>INFO: Loading failed with message: dlopen(/var/folders/cv/xl07kvgs0q91fv5w0x1y5mbh0000gn/T/snafu17797529543521833103/libstellarsolver.dylib, 0x0009): Library not loaded: @executable_path/../Frameworks/libcfitsio.4.dylib\n  Referenced from: &lt;ABEB0A7F-C1DB-3C8B-BB02-6A20D400CAAD&gt; /private/var/folders/cv/xl07kvgs0q91fv5w0x1y5mbh0000gn/T/snafu17797529543521833103/libstellarsolver.dylib\n  Reason: tried: '/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/Frameworks/libcfitsio.4.dylib' (no such file), '/usr/lib/libcfitsio.4.dylib' (no such file, not in dyld cache)\n</code></pre>\n<p>This indicates to me that libstellarsolver.dylib was found and JNA realizes it needs to find transitive dependency libcfitsio.4.dylib. There is this failure and others but there is never any indication that it looks in jna.library.path for this dependency. This is baffliing to me.</p>\n<p>The stackoverflow question above suggests I might have to create an explicit search path for every transitive dependency. Can that be true? This seems like a commmon use case for JNA. Help is greatly appreciated.</p>\n<p>Dave</p>\n"},{"tags":["java","jdbc","mysql-connector"],"comments":[{"owner":{"account_id":7738,"reputation":143243,"user_id":13508,"accept_rate":86,"display_name":"&#193;lvaro Gonz&#225;lez"},"score":0,"creation_date":1695302387,"post_id":77150582,"comment_id":136008432,"body_markdown":"Does the editor play any role here, e.g. you&#39;re using an extension to run queries from the editor and see results in a new tab? The question itself suggests you&#39;re merely trying to connect from your own Java application and, for that, you surely need to write some code to tell javac where the JAR is.","body":"Does the editor play any role here, e.g. you&#39;re using an extension to run queries from the editor and see results in a new tab? The question itself suggests you&#39;re merely trying to connect from your own Java application and, for that, you surely need to write some code to tell javac where the JAR is."},{"owner":{"account_id":25965414,"reputation":81,"user_id":19681418,"display_name":"Talete"},"score":0,"creation_date":1695302647,"post_id":77150582,"comment_id":136008508,"body_markdown":"@&#193;lvaroGonz&#225;lez i&#39;m not using extension, i&#39;m doing pretty much what you see here https://www.youtube.com/watch?v=yBhBaya7tF4","body":"@&#193;lvaroGonz&#225;lez i&#39;m not using extension, i&#39;m doing pretty much what you see here <a href=\"https://www.youtube.com/watch?v=yBhBaya7tF4\" rel=\"nofollow noreferrer\">youtube.com/watch?v=yBhBaya7tF4</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695371219,"post_id":77150582,"comment_id":136018179,"body_markdown":"The error means that the driver is not on the classpath when you run your application. Please provide a [mre] and show how you are running your application. &quot;Installing&quot; Java JARs like this is an uncommon practice (and isn&#39;t something that means the driver is available when you run a Java application). Also, you should not add both JARs, just add one of them (their contents is (nearly) identical).","body":"The error means that the driver is not on the classpath when you run your application. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and show how you are running your application. &quot;Installing&quot; Java JARs like this is an uncommon practice (and isn&#39;t something that means the driver is available when you run a Java application). Also, you should not add both JARs, just add one of them (their contents is (nearly) identical)."}],"owner":{"account_id":25965414,"reputation":81,"user_id":19681418,"display_name":"Talete"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695371054,"answer_count":0,"score":0,"last_activity_date":1695307180,"creation_date":1695301895,"question_id":77150582,"body_markdown":"I am writing a java app on linux mint 21.\r\nTrying to connect to a local mysql database i get the error \r\n\r\n&gt; java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/mydb\r\n\r\nI installed the mysql-connector-j_8.1.0-1debian11_all.deb package i  found at https://dev.mysql.com/downloads/connector/j/ (choosing debian linux as os) and than linked both \r\n\r\n    mysql-connector-j-8.1.0.jar \r\n    mysql-connector-java-8.1.0.jar\r\n\r\nto the reference library of my project.\r\n\r\nThe url should be correct, so is there anything else i should do?\r\n\r\nEdit:\r\n\r\nAlso tried the &quot;platform indipendent&quot; jar.\r\n","title":"Connect to mysql db in linux mint","body":"<p>I am writing a java app on linux mint 21.\nTrying to connect to a local mysql database i get the error</p>\n<blockquote>\n<p>java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/mydb</p>\n</blockquote>\n<p>I installed the mysql-connector-j_8.1.0-1debian11_all.deb package i  found at <a href=\"https://dev.mysql.com/downloads/connector/j/\" rel=\"nofollow noreferrer\">https://dev.mysql.com/downloads/connector/j/</a> (choosing debian linux as os) and than linked both</p>\n<pre><code>mysql-connector-j-8.1.0.jar \nmysql-connector-java-8.1.0.jar\n</code></pre>\n<p>to the reference library of my project.</p>\n<p>The url should be correct, so is there anything else i should do?</p>\n<p>Edit:</p>\n<p>Also tried the &quot;platform indipendent&quot; jar.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695318303,"post_id":77151156,"comment_id":136011871,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29491278,"reputation":1,"user_id":22600253,"display_name":"hyeonwoojung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695306620,"creation_date":1695306127,"question_id":77151156,"body_markdown":"I am trying to make an app using android studio which can capture my phone&#39;s display in realtime and after that, gets me the information of the picture that I captured. Using this information, I want to display it in OLED using arduino. My plan went like this.\r\n1) Capture in real time using android API(MediaProjection and VirtualDisplay)\r\n2) Get the information of my capture.\r\n3) send the information(ex. color of the pixel to arduino) th arduino\r\n4) show it using OLED display\r\n\r\nIn sending information, I thought that sending information of each pixel will be nice. But I am having a hard time getting the information of my capture. Is there any way I can get information?\r\n","title":"Is it possible to get informations at each pixel in android?","body":"<p>I am trying to make an app using android studio which can capture my phone's display in realtime and after that, gets me the information of the picture that I captured. Using this information, I want to display it in OLED using arduino. My plan went like this.</p>\n<ol>\n<li>Capture in real time using android API(MediaProjection and VirtualDisplay)</li>\n<li>Get the information of my capture.</li>\n<li>send the information(ex. color of the pixel to arduino) th arduino</li>\n<li>show it using OLED display</li>\n</ol>\n<p>In sending information, I thought that sending information of each pixel will be nice. But I am having a hard time getting the information of my capture. Is there any way I can get information?</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1589966142,"post_id":61909247,"comment_id":109499448,"body_markdown":"Have you tried to build on plain command line.","body":"Have you tried to build on plain command line."},{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":0,"creation_date":1589966720,"post_id":61909247,"comment_id":109499752,"body_markdown":"Did you try reimporting the project? Right click on project -&gt; maven -&gt; reimport?","body":"Did you try reimporting the project? Right click on project -&gt; maven -&gt; reimport?"},{"owner":{"account_id":18631980,"reputation":113,"user_id":13579721,"display_name":"Phoenix"},"score":0,"creation_date":1589987873,"post_id":61909247,"comment_id":109512094,"body_markdown":"@khmarbaise I am new to Spring Boot, so right now don&#39;t know how to build the project from command line, but will try in few days.","body":"@khmarbaise I am new to Spring Boot, so right now don&#39;t know how to build the project from command line, but will try in few days."},{"owner":{"account_id":18631980,"reputation":113,"user_id":13579721,"display_name":"Phoenix"},"score":0,"creation_date":1589988029,"post_id":61909247,"comment_id":109512198,"body_markdown":"@Smile I tried reimporting the project, but still getting the same issue.","body":"@Smile I tried reimporting the project, but still getting the same issue."},{"owner":{"account_id":8277734,"reputation":1488,"user_id":8636565,"display_name":"Daniel Jacob"},"score":2,"creation_date":1589988296,"post_id":61909247,"comment_id":109512353,"body_markdown":"Building the project can be done with the command mvn clean verify for example in your terminal at the level of the root directory","body":"Building the project can be done with the command mvn clean verify for example in your terminal at the level of the root directory"}],"answers":[{"tags":[],"owner":{"account_id":18493218,"reputation":33,"user_id":13472253,"display_name":"Mertay Dayanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590608543,"creation_date":1590608543,"answer_id":62051551,"question_id":61909247,"body_markdown":"I was having the exact same problem then I found a way to overcome that. I am not an expert on Spring Boot so I don&#39;t know what causes this but I can help you to fix. Go to https://start.spring.io/ then [Click on the add dependencies on the top right corner of the pic.][1] after that select Spring Web under the dropdown menu, then generate the initializr again. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JNj1I.png","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE&#39; not found","body":"<p>I was having the exact same problem then I found a way to overcome that. I am not an expert on Spring Boot so I don't know what causes this but I can help you to fix. Go to <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a> then <a href=\"https://i.stack.imgur.com/JNj1I.png\" rel=\"nofollow noreferrer\">Click on the add dependencies on the top right corner of the pic.</a> after that select Spring Web under the dropdown menu, then generate the initializr again. </p>\n"},{"comments":[{"owner":{"account_id":14384814,"reputation":473,"user_id":10391111,"display_name":"lovrodoe"},"score":0,"creation_date":1606032971,"post_id":64012872,"comment_id":114831673,"body_markdown":"This works like a charm, but is there a better way? I get a &quot;not found&quot; error every single time I add a dependency. I&#39;m coming from Eclipse where I had Maven &gt; update from GUI which would get all dependencies.","body":"This works like a charm, but is there a better way? I get a &quot;not found&quot; error every single time I add a dependency. I&#39;m coming from Eclipse where I had Maven &gt; update from GUI which would get all dependencies."},{"owner":{"account_id":4711916,"reputation":453,"user_id":4632520,"display_name":"Opatile Kelobang"},"score":1,"creation_date":1606248582,"post_id":64012872,"comment_id":114905464,"body_markdown":"Hi @lovrodoe I didn&#39;t understand your question, but I&#39;m assuming you&#39;re asking if there&#39;s a better way to sync your pom file after adding a new dependency. You can do this easily by clicking the maven tab on the right and clicking the &gt; Reload All Maven Projects icon (two circular arrows). You won&#39;t have to invalidate caches or restart.Also, by clicking on the spanner and selecting the Auto Reload Settings, you can set project to reload after Any Changes are made (auto update if build scripts or pom file changes detected)","body":"Hi @lovrodoe I didn&#39;t understand your question, but I&#39;m assuming you&#39;re asking if there&#39;s a better way to sync your pom file after adding a new dependency. You can do this easily by clicking the maven tab on the right and clicking the &gt; Reload All Maven Projects icon (two circular arrows). You won&#39;t have to invalidate caches or restart.Also, by clicking on the spanner and selecting the Auto Reload Settings, you can set project to reload after Any Changes are made (auto update if build scripts or pom file changes detected)"}],"tags":[],"owner":{"account_id":4711916,"reputation":453,"user_id":4632520,"display_name":"Opatile Kelobang"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1600788342,"creation_date":1600788342,"answer_id":64012872,"question_id":61909247,"body_markdown":"I had a similar issue. Easiest fix is to **Invalidate Caches and Restart**\r\n\r\n\r\n[![IntelliJ Idea Invalidate Caches and Restart][1]][1]\r\n\r\n\r\nMaven will then re-sync your POM file after the restart. No need to make changes anywhere else.\r\n\r\n[![Spring Boot 2.3.0.RELEASE][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5LUoT.png\r\n  [2]: https://i.stack.imgur.com/aC7YG.png","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE&#39; not found","body":"<p>I had a similar issue. Easiest fix is to <strong>Invalidate Caches and Restart</strong></p>\n<p><a href=\"https://i.stack.imgur.com/5LUoT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5LUoT.png\" alt=\"IntelliJ Idea Invalidate Caches and Restart\" /></a></p>\n<p>Maven will then re-sync your POM file after the restart. No need to make changes anywhere else.</p>\n<p><a href=\"https://i.stack.imgur.com/aC7YG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aC7YG.png\" alt=\"Spring Boot 2.3.0.RELEASE\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20380232,"reputation":31,"user_id":14950510,"display_name":"Alexandru Baciu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610003505,"creation_date":1609923697,"answer_id":65592901,"question_id":61909247,"body_markdown":"If invalidate `Caches / Restart...` doesn&#39;t work, check `Always update snapshots` from &quot;File -&gt; Settings -&gt; Building, Execution, Deployment -&gt; Build Tools -&gt; Maven&quot;. For me worked like a charm.","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE&#39; not found","body":"<p>If invalidate <code>Caches / Restart...</code> doesn't work, check <code>Always update snapshots</code> from &quot;File -&gt; Settings -&gt; Building, Execution, Deployment -&gt; Build Tools -&gt; Maven&quot;. For me worked like a charm.</p>\n"},{"tags":[],"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695306618,"creation_date":1695304808,"answer_id":77150980,"question_id":61909247,"body_markdown":"For me, in intellij IDEA maven home path was incorrectly set to maven wrapper:\r\n[![wrong maven home path set in intellij  idea][1]][1]\r\n\r\nUpdate it to correct maven home path\r\n\r\n[![correct maven home path][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ulz0e.png\r\n  [2]: https://i.stack.imgur.com/ogxsB.png","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE&#39; not found","body":"<p>For me, in intellij IDEA maven home path was incorrectly set to maven wrapper:\n<a href=\"https://i.stack.imgur.com/ulz0e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ulz0e.png\" alt=\"wrong maven home path set in intellij  idea\" /></a></p>\n<p>Update it to correct maven home path</p>\n<p><a href=\"https://i.stack.imgur.com/ogxsB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ogxsB.png\" alt=\"correct maven home path\" /></a></p>\n"}],"owner":{"account_id":18631980,"reputation":113,"user_id":13579721,"display_name":"Phoenix"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21126,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":64012872,"answer_count":4,"score":11,"last_activity_date":1695306618,"creation_date":1589965736,"question_id":61909247,"body_markdown":"I am having a problem while creating a simple `spring boot` web application. I am building this app using Intellij Idea IDE. There is a issue arising related to the dependency. Intellij is saying - `Dependency &#39;org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE&#39; not found`(in `pom.xml`).\r\n\r\nDetailed Error Information:\r\n\r\n    Dependency &#39;org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE&#39; not found.\r\n    Tag name: artifactId Description : The unique id for an artifact produced by the project group, e.g. maven-artifact. Version : 3.0.0+ \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springboot-demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;springboot-demo&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE&#39; not found","body":"<p>I am having a problem while creating a simple <code>spring boot</code> web application. I am building this app using Intellij Idea IDE. There is a issue arising related to the dependency. Intellij is saying - <code>Dependency 'org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE' not found</code>(in <code>pom.xml</code>).</p>\n\n<p>Detailed Error Information:</p>\n\n<pre><code>Dependency 'org.springframework.boot:spring-boot-starter-web:2.3.0.RELEASE' not found.\nTag name: artifactId Description : The unique id for an artifact produced by the project group, e.g. maven-artifact. Version : 3.0.0+ \n</code></pre>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;springboot-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springboot-demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","keycloak"],"answers":[{"tags":[],"owner":{"account_id":3804065,"reputation":3440,"user_id":3157154,"display_name":"Boomer"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1514875875,"creation_date":1514875875,"answer_id":48056709,"question_id":48056418,"body_markdown":"The correct port for *Keycloak* is __8080__. The *9990* is the port for *Wildfly* administration.  \r\nUse http://localhost:8080/auth","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p>The correct port for <em>Keycloak</em> is <strong>8080</strong>. The <em>9990</em> is the port for <em>Wildfly</em> administration.<br>\nUse <a href=\"http://localhost:8080/auth\" rel=\"noreferrer\">http://localhost:8080/auth</a></p>\n"},{"tags":[],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1516707082,"creation_date":1516707082,"answer_id":48400689,"question_id":48056418,"body_markdown":"If you will check keycloak [documentation][1] you will get detail information about port that you can modify as well only condition that port should not capture by any other application.\r\n  \r\n\r\n     &lt;socket-binding-group name=&quot;standard-sockets&quot; default-interface=&quot;public&quot; port-offset=&quot;${jboss.socket.binding.port-offset:0}&quot;&gt;\r\n            &lt;socket-binding name=&quot;management-http&quot; interface=&quot;management&quot; port=&quot;${jboss.management.http.port:9990}&quot;/&gt;\r\n            &lt;socket-binding name=&quot;management-https&quot; interface=&quot;management&quot; port=&quot;${jboss.management.https.port:9993}&quot;/&gt;\r\n            &lt;socket-binding name=&quot;ajp&quot; port=&quot;${jboss.ajp.port:8009}&quot;/&gt;\r\n            &lt;socket-binding name=&quot;http&quot; port=&quot;${jboss.http.port:8080}&quot;/&gt;\r\n            &lt;socket-binding name=&quot;https&quot; port=&quot;${jboss.https.port:8443}&quot;/&gt;\r\n            &lt;socket-binding name=&quot;txn-recovery-environment&quot; port=&quot;4712&quot;/&gt;\r\n            &lt;socket-binding name=&quot;txn-status-manager&quot; port=&quot;4713&quot;/&gt;\r\n            &lt;outbound-socket-binding name=&quot;mail-smtp&quot;&gt;\r\n                &lt;remote-destination host=&quot;localhost&quot; port=&quot;25&quot;/&gt;\r\n            &lt;/outbound-socket-binding&gt;\r\n        &lt;/socket-binding-group&gt;\r\n\r\nSo default port `http` its `8080` and `https` its `8443`\r\n\r\n  [1]: http://www.keycloak.org/docs/2.5/server_installation/topics/network/ports.html","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p>If you will check keycloak <a href=\"http://www.keycloak.org/docs/2.5/server_installation/topics/network/ports.html\" rel=\"nofollow noreferrer\">documentation</a> you will get detail information about port that you can modify as well only condition that port should not capture by any other application.</p>\n\n<pre><code> &lt;socket-binding-group name=\"standard-sockets\" default-interface=\"public\" port-offset=\"${jboss.socket.binding.port-offset:0}\"&gt;\n        &lt;socket-binding name=\"management-http\" interface=\"management\" port=\"${jboss.management.http.port:9990}\"/&gt;\n        &lt;socket-binding name=\"management-https\" interface=\"management\" port=\"${jboss.management.https.port:9993}\"/&gt;\n        &lt;socket-binding name=\"ajp\" port=\"${jboss.ajp.port:8009}\"/&gt;\n        &lt;socket-binding name=\"http\" port=\"${jboss.http.port:8080}\"/&gt;\n        &lt;socket-binding name=\"https\" port=\"${jboss.https.port:8443}\"/&gt;\n        &lt;socket-binding name=\"txn-recovery-environment\" port=\"4712\"/&gt;\n        &lt;socket-binding name=\"txn-status-manager\" port=\"4713\"/&gt;\n        &lt;outbound-socket-binding name=\"mail-smtp\"&gt;\n            &lt;remote-destination host=\"localhost\" port=\"25\"/&gt;\n        &lt;/outbound-socket-binding&gt;\n    &lt;/socket-binding-group&gt;\n</code></pre>\n\n<p>So default port <code>http</code> its <code>8080</code> and <code>https</code> its <code>8443</code></p>\n"},{"tags":[],"owner":{"account_id":4706506,"reputation":3176,"user_id":3808452,"accept_rate":94,"display_name":"Barthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1623792140,"creation_date":1602591831,"answer_id":64335206,"question_id":48056418,"body_markdown":"I had set a &quot;Frontend URL&quot; (`Keycloak Admin Console &gt; Realm Settings &gt; General Frontend Url`) for the realm that looked like this: `http://localhost:8080` while the client&#39;s &quot;Root URL&quot; was `http://localhost:8080/auth`.\r\n\r\nAfter removing the &quot;Frontend URL&quot; everything worked fine. Another solution was to set both fields to `http://localhost:8080/auth`.","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p>I had set a &quot;Frontend URL&quot; (<code>Keycloak Admin Console &gt; Realm Settings &gt; General Frontend Url</code>) for the realm that looked like this: <code>http://localhost:8080</code> while the client's &quot;Root URL&quot; was <code>http://localhost:8080/auth</code>.</p>\n<p>After removing the &quot;Frontend URL&quot; everything worked fine. Another solution was to set both fields to <code>http://localhost:8080/auth</code>.</p>\n"},{"tags":[],"owner":{"account_id":21660216,"reputation":1,"user_id":15979436,"display_name":"user15979436"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621496609,"creation_date":1621496609,"answer_id":67616063,"question_id":48056418,"body_markdown":"I had the same problem and then noticed that when I started standalone .bac, at the beginning of the prompt it said something like &quot;JBOSS_HOME may be pointing to a different installation - unpredictable results may occur.&quot;, then if is that the case,  just \r\n delete the JBOSS_HOME environment variable. I solved in this way. (I don&#39;t know how good is this solution, but i had no other ways to make it works)","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p>I had the same problem and then noticed that when I started standalone .bac, at the beginning of the prompt it said something like &quot;JBOSS_HOME may be pointing to a different installation - unpredictable results may occur.&quot;, then if is that the case,  just\ndelete the JBOSS_HOME environment variable. I solved in this way. (I don't know how good is this solution, but i had no other ways to make it works)</p>\n"},{"tags":[],"owner":{"account_id":12045236,"reputation":536,"user_id":8810517,"display_name":"Abhay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635236476,"creation_date":1635236476,"answer_id":69719728,"question_id":48056418,"body_markdown":"I was facing this issue with Keycloak running on Ubuntu image inside Docker.\r\nWhat worked for me was adding `-b 0.0.0.0` argument.\r\n\r\nSo one can try running following command:\r\n`bin/standalone.sh -b 0.0.0.0`\r\n\r\nYou may be able to access console at `localhost:8080`","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p>I was facing this issue with Keycloak running on Ubuntu image inside Docker.\nWhat worked for me was adding <code>-b 0.0.0.0</code> argument.</p>\n<p>So one can try running following command:\n<code>bin/standalone.sh -b 0.0.0.0</code></p>\n<p>You may be able to access console at <code>localhost:8080</code></p>\n"},{"tags":[],"owner":{"account_id":1153033,"reputation":3117,"user_id":1134343,"display_name":"Peter"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637003214,"creation_date":1637003214,"answer_id":69979591,"question_id":48056418,"body_markdown":"In my case [the docs][1] I read didn&#39;t mention to edit the `&lt;default-bindings .... datasource=...` when adding a database. The server.log showed the wrong datasource name &#39;ExampleDS&#39; which made it clear enough:\r\n\r\n    2021-11-15 18:32:29,302 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;keycloak-server.war&quot;)]) - failure description: {\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.naming.context.java.jboss.datasources.ExampleDS&quot;],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.naming.context.java.module.auth.auth.DefaultDataSource is missing [jboss.naming.context.java.jboss.datasources.ExampleDS]&quot;]\r\n    }\r\n\r\nSo I fixed that...and was failing to connect to the database, because my database wasn&#39;t listening on the address it used. \r\n\r\n    Caused by: org.postgresql.util.PSQLException: Connection to &lt;host_goes_here&gt;:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\n\r\nReconfiguring  PostgreSQL fixed that:\r\n\r\n/etc/postgresql/12/main/postgresql.conf\r\n\r\n    listen_addresses = &#39;*&#39;\r\n\r\n/etc/postgresql/12/main/pg_hba.conf\r\n\r\n    host    keycloak    keycloak     &lt;ip_goes_here&gt;/32    &lt;method_goes_here&gt;\r\n\r\nAnd FYI other than looking at config, you can use things like this to see what it listens to:\r\n\r\n    lsof -Pni | grep java\r\n    ss -ltp | grep java\r\n    netstat -lantp | grep java\r\n \r\n\r\n  [1]: https://www.keycloak.org/docs/latest/server_installation/index.html#_database","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p>In my case <a href=\"https://www.keycloak.org/docs/latest/server_installation/index.html#_database\" rel=\"nofollow noreferrer\">the docs</a> I read didn't mention to edit the <code>&lt;default-bindings .... datasource=...</code> when adding a database. The server.log showed the wrong datasource name 'ExampleDS' which made it clear enough:</p>\n<pre><code>2021-11-15 18:32:29,302 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;keycloak-server.war&quot;)]) - failure description: {\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.naming.context.java.jboss.datasources.ExampleDS&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.naming.context.java.module.auth.auth.DefaultDataSource is missing [jboss.naming.context.java.jboss.datasources.ExampleDS]&quot;]\n}\n</code></pre>\n<p>So I fixed that...and was failing to connect to the database, because my database wasn't listening on the address it used.</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: Connection to &lt;host_goes_here&gt;:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\n</code></pre>\n<p>Reconfiguring  PostgreSQL fixed that:</p>\n<p>/etc/postgresql/12/main/postgresql.conf</p>\n<pre><code>listen_addresses = '*'\n</code></pre>\n<p>/etc/postgresql/12/main/pg_hba.conf</p>\n<pre><code>host    keycloak    keycloak     &lt;ip_goes_here&gt;/32    &lt;method_goes_here&gt;\n</code></pre>\n<p>And FYI other than looking at config, you can use things like this to see what it listens to:</p>\n<pre><code>lsof -Pni | grep java\nss -ltp | grep java\nnetstat -lantp | grep java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7943207,"reputation":519,"user_id":5996498,"accept_rate":62,"display_name":"Galilo Galilo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677306522,"creation_date":1677306522,"answer_id":75563688,"question_id":48056418,"body_markdown":"In my case it worked fine when I added --http-relative-path=/auth to the run command, thus my docker-compose file is:\r\n\r\n\r\n    version: &#39;3.8&#39;\r\n    services:\r\n      keycloak:\r\n        image: quay.io/keycloak/keycloak:19.0.1\r\n        command: [&#39;start-dev --import-realm --http-relative-path=/auth&#39;]\r\n        volumes:\r\n          - ./realm-config:/opt/keycloak/data/import\r\n        environment:\r\n          - KC_DB=dev-file\r\n          - KEYCLOAK_ADMIN=administrator\r\n          - KEYCLOAK_ADMIN_PASSWORD=not-my-password\r\n          - KC_FEATURES=scripts\r\n          - KC_HTTP_PORT=9080\r\n          - KC_HTTPS_PORT=9443\r\n        ports:\r\n          - 127.0.0.1:9080:9080\r\n          - 127.0.0.1:9443:9443\r\n\r\n","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p>In my case it worked fine when I added --http-relative-path=/auth to the run command, thus my docker-compose file is:</p>\n<pre><code>version: '3.8'\nservices:\n  keycloak:\n    image: quay.io/keycloak/keycloak:19.0.1\n    command: ['start-dev --import-realm --http-relative-path=/auth']\n    volumes:\n      - ./realm-config:/opt/keycloak/data/import\n    environment:\n      - KC_DB=dev-file\n      - KEYCLOAK_ADMIN=administrator\n      - KEYCLOAK_ADMIN_PASSWORD=not-my-password\n      - KC_FEATURES=scripts\n      - KC_HTTP_PORT=9080\n      - KC_HTTPS_PORT=9443\n    ports:\n      - 127.0.0.1:9080:9080\n      - 127.0.0.1:9443:9443\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10829360,"reputation":780,"user_id":7964299,"accept_rate":80,"display_name":"Naveen"},"score":0,"creation_date":1695626378,"post_id":77151214,"comment_id":136044240,"body_markdown":"I had trouble authenticating from /auth/ but /auth/admin worked. Thanks","body":"I had trouble authenticating from /auth/ but /auth/admin worked. Thanks"}],"tags":[],"owner":{"account_id":15851127,"reputation":98,"user_id":11436917,"display_name":"ilyesAj"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695306514,"creation_date":1695306514,"answer_id":77151214,"question_id":48056418,"body_markdown":"**update 2023:** the official docker image `quay.io/keycloak/keycloak` does not automatically points to admin console ( redirects you to `/` then `/auth` which gives you `404 not found`)if you want to access to admin console go directly to `/admin` instead\r\n\r\nreference: https://www.keycloak.org/getting-started/getting-started-docker","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p><strong>update 2023:</strong> the official docker image <code>quay.io/keycloak/keycloak</code> does not automatically points to admin console ( redirects you to <code>/</code> then <code>/auth</code> which gives you <code>404 not found</code>)if you want to access to admin console go directly to <code>/admin</code> instead</p>\n<p>reference: <a href=\"https://www.keycloak.org/getting-started/getting-started-docker\" rel=\"nofollow noreferrer\">https://www.keycloak.org/getting-started/getting-started-docker</a></p>\n"}],"owner":{"account_id":281730,"reputation":355,"user_id":578201,"accept_rate":8,"display_name":"NidhinRaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32030,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":8,"score":9,"last_activity_date":1695306514,"creation_date":1514874135,"question_id":48056418,"body_markdown":"I am trying to install Keycloak on my PC. I have the Java 8 JDK installed.\r\n\r\nAfter running `\\bin\\standalone.bat`, when I go to the page `127.0.0.1:9990/auth`, I am returned the error\r\n\r\n&gt; 404 - Not Found\r\n\r\n[![screenshot of error page with title &quot;Error&quot; and body &quot;404 - Not Found&quot;][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g4Kzq.png","title":"Keycloak returns &quot;404 - Not Found&quot; page","body":"<p>I am trying to install Keycloak on my PC. I have the Java 8 JDK installed.</p>\n\n<p>After running <code>\\bin\\standalone.bat</code>, when I go to the page <code>127.0.0.1:9990/auth</code>, I am returned the error</p>\n\n<blockquote>\n  <p>404 - Not Found</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/g4Kzq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/g4Kzq.png\" alt=\"screenshot of error page with title &quot;Error&quot; and body &quot;404 - Not Found&quot;\"></a></p>\n"},{"tags":["java","spring-boot","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669657671,"creation_date":1669657671,"answer_id":74604577,"question_id":74604442,"body_markdown":"Ugh -- use Spring&#39;s `FileSystemResource`:\r\n\r\n```\r\nvar uploadFile = new File(home+&quot;/upload.csv&quot;);\r\n\r\nvar multipartBodyBuilder = new MultipartBodyBuilder();\r\nmultipartBodyBuilder.part(&quot;file&quot;, new FileSystemResource(uploadFile));\r\n\r\nvar mimeMultipartData = multipartBodyBuilder.build();\r\n```\r\nand everything works fine.","title":"Spring WebClient multi-part file upload","body":"<p>Ugh -- use Spring's <code>FileSystemResource</code>:</p>\n<pre><code>var uploadFile = new File(home+&quot;/upload.csv&quot;);\n\nvar multipartBodyBuilder = new MultipartBodyBuilder();\nmultipartBodyBuilder.part(&quot;file&quot;, new FileSystemResource(uploadFile));\n\nvar mimeMultipartData = multipartBodyBuilder.build();\n</code></pre>\n<p>and everything works fine.</p>\n"},{"tags":[],"owner":{"account_id":16535035,"reputation":437,"user_id":11947303,"display_name":"CodeSlave"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695306481,"creation_date":1695306481,"answer_id":77151209,"question_id":74604442,"body_markdown":"This worked for me:\r\n\r\n    private static MultipartInserter getMultiPartFile(MultipartFile file) {\r\n        MultipartBodyBuilder builder = new MultipartBodyBuilder();\r\n        builder.part(&quot;file&quot;, file.getResource());\r\n\r\n        return BodyInserters.fromMultipartData(builder.build());\r\n    }\r\n\r\nand I used it here:\r\n\r\n              return client.post()\r\n                           .uri(exampleUri)\r\n                           .contentType(MediaType.MULTIPART_FORM_DATA)\r\n                           .body(getMultiPartFile(file))\r\n                           .retrieve()\r\n                           .toEntity(Example.class)\r\n                           .block();","title":"Spring WebClient multi-part file upload","body":"<p>This worked for me:</p>\n<pre><code>private static MultipartInserter getMultiPartFile(MultipartFile file) {\n    MultipartBodyBuilder builder = new MultipartBodyBuilder();\n    builder.part(&quot;file&quot;, file.getResource());\n\n    return BodyInserters.fromMultipartData(builder.build());\n}\n</code></pre>\n<p>and I used it here:</p>\n<pre><code>          return client.post()\n                       .uri(exampleUri)\n                       .contentType(MediaType.MULTIPART_FORM_DATA)\n                       .body(getMultiPartFile(file))\n                       .retrieve()\n                       .toEntity(Example.class)\n                       .block();\n</code></pre>\n"}],"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74604577,"answer_count":2,"score":1,"last_activity_date":1695306481,"creation_date":1669656959,"question_id":74604442,"body_markdown":"A simple Spring Boot 2.7.5 WebClient application fails with a 400 BAD REQUEST:\r\n\r\n```\r\nvar home = &quot;/home/me&quot;;\r\n\r\nvar uploadFile = new File(home+&quot;/upload.csv&quot;);\t \r\nvar uploadPath = uploadFile.toPath();\r\nvar uploadContent = Files.readString(uploadPath);\r\n\r\nvar multipartBodyBuilder = new MultipartBodyBuilder();\r\nmultipartBodyBuilder.part(&quot;file&quot;, uploadPath);\r\n//multipartBodyBuilder.part(&quot;file&quot;, uploadFile);\r\nvar mimeMultipartData = multipartBodyBuilder.build();\r\n\r\nvar configuration = new Configuration(/* ... */);\r\n\r\nvar webClient = WebClient.builder()\r\n        .baseUrl(_baseUrl(configuration.getEndpoint()))\r\n        .filters( filters -&gt; {\r\n            filters.add(authentication(configuration));\r\n\r\n            if (configuration.capturePackets()) {\r\n                filters.add(captureRequest());\r\n                filters.add(captureResponse());\r\n            }\r\n        })\r\n        .build();\r\n\r\nMono&lt;HttpStatus&gt; httpStatusMono = webClient\r\n     .post()\r\n     .uri(URI.create(&quot;http://localhost:8080/api/marketplaces/1/holdings/uploads&quot;))\r\n\t .body(BodyInserters.fromMultipartData(mimeMultipartData))\r\n\t .retrieve()\r\n\t .bodyToMono(HttpStatus.class);\r\n```\r\n\r\nagainst a Spring Boot 2.7.5 multi-part file upload API:\r\n\r\n```\r\n    @PostMapping(&quot;/uploads&quot;)\r\n    public ResponseEntity&lt;?&gt; uploads(@RequestParam(value=&quot;file&quot;, required=true) MultipartFile file) throws IOException {\r\n        try (InputStream input = file.getInputStream()) {\r\n            doSomething(input);\r\n        }\r\n        return ResponseEntity.ok().build();\r\n    }\r\n```\r\n\r\nThe bad request exception is:\r\n\r\n```\r\norg.springframework.web.reactive.function.client.WebClientResponseException$BadRequest: 400 Bad Request from POST http://localhost:8080/api/uploads\r\n\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:217)\r\n\tSuppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ⇢ 400 from POST http://localhost:8080/api/uploads [DefaultWebClient]\r\nOriginal Stack Trace:\r\n\t\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:217)\r\n\t\tat org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:207)\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)\r\n\t\tat reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162)\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n\t\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:109)\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152)\r\n\t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126)\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350)\r\n\t\tat reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391)\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1817)\r\n\t\tat reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:160)\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\r\n\t\tat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)\r\n\t\tat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)\r\n\t\tat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)\r\n\t\tat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:702)\r\n\t\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\t\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:336)\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:308)\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\t\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\t\tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\r\n\t\tat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\r\n\t\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tSuppressed: java.lang.Exception: #block terminated with an error\r\n\t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n\t\tat reactor.core.publisher.Mono.block(Mono.java:1707)\r\n\t\tat UploadsTest.springUpload(UploadsTest.java:165)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\t\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\t\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n```\r\n\r\nThis simple post from curl works fine:\r\n\r\n```\r\ncurl -X POST -v --user &quot;username:password&quot; -H &quot;Content-Type: multipart/form-data&quot; \\\\\r\n     --form file=@upload.csv  http://localhost:8080/api/uploads\r\n```\r\n\r\nas does this Angular POST (not shown is the authentication interceptor):\r\n\r\n```\r\nupload(file: File): Observable&lt;any&gt; {\r\n    const formData: FormData = new FormData()\r\n\r\n    formData.append(&#39;file&#39;, file, file.name);\r\n\r\n    const observable: Observable&lt;any&gt; = this._http\r\n      .post(url, formData)\r\n      .pipe(\r\n        // map(response =&gt; response),\r\n        share()\r\n    );\r\n```\r\n\r\nAny ideas on how to get the Spring WebClient API to work like the curl &amp; Angular clients?","title":"Spring WebClient multi-part file upload","body":"<p>A simple Spring Boot 2.7.5 WebClient application fails with a 400 BAD REQUEST:</p>\n<pre><code>var home = &quot;/home/me&quot;;\n\nvar uploadFile = new File(home+&quot;/upload.csv&quot;);   \nvar uploadPath = uploadFile.toPath();\nvar uploadContent = Files.readString(uploadPath);\n\nvar multipartBodyBuilder = new MultipartBodyBuilder();\nmultipartBodyBuilder.part(&quot;file&quot;, uploadPath);\n//multipartBodyBuilder.part(&quot;file&quot;, uploadFile);\nvar mimeMultipartData = multipartBodyBuilder.build();\n\nvar configuration = new Configuration(/* ... */);\n\nvar webClient = WebClient.builder()\n        .baseUrl(_baseUrl(configuration.getEndpoint()))\n        .filters( filters -&gt; {\n            filters.add(authentication(configuration));\n\n            if (configuration.capturePackets()) {\n                filters.add(captureRequest());\n                filters.add(captureResponse());\n            }\n        })\n        .build();\n\nMono&lt;HttpStatus&gt; httpStatusMono = webClient\n     .post()\n     .uri(URI.create(&quot;http://localhost:8080/api/marketplaces/1/holdings/uploads&quot;))\n     .body(BodyInserters.fromMultipartData(mimeMultipartData))\n     .retrieve()\n     .bodyToMono(HttpStatus.class);\n</code></pre>\n<p>against a Spring Boot 2.7.5 multi-part file upload API:</p>\n<pre><code>    @PostMapping(&quot;/uploads&quot;)\n    public ResponseEntity&lt;?&gt; uploads(@RequestParam(value=&quot;file&quot;, required=true) MultipartFile file) throws IOException {\n        try (InputStream input = file.getInputStream()) {\n            doSomething(input);\n        }\n        return ResponseEntity.ok().build();\n    }\n</code></pre>\n<p>The bad request exception is:</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientResponseException$BadRequest: 400 Bad Request from POST http://localhost:8080/api/uploads\n    at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:217)\n    Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ 400 from POST http://localhost:8080/api/uploads [DefaultWebClient]\nOriginal Stack Trace:\n        at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:217)\n        at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:207)\n        at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)\n        at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162)\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n        at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:109)\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152)\n        at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126)\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350)\n        at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391)\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1817)\n        at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:160)\n        at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\n        at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\n        at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)\n        at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)\n        at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)\n        at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:702)\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:336)\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:308)\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n        at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\n        at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n        at reactor.core.publisher.Mono.block(Mono.java:1707)\n        at UploadsTest.springUpload(UploadsTest.java:165)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n        at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n        at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n        at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n<p>This simple post from curl works fine:</p>\n<pre><code>curl -X POST -v --user &quot;username:password&quot; -H &quot;Content-Type: multipart/form-data&quot; \\\\\n     --form file=@upload.csv  http://localhost:8080/api/uploads\n</code></pre>\n<p>as does this Angular POST (not shown is the authentication interceptor):</p>\n<pre><code>upload(file: File): Observable&lt;any&gt; {\n    const formData: FormData = new FormData()\n\n    formData.append('file', file, file.name);\n\n    const observable: Observable&lt;any&gt; = this._http\n      .post(url, formData)\n      .pipe(\n        // map(response =&gt; response),\n        share()\n    );\n</code></pre>\n<p>Any ideas on how to get the Spring WebClient API to work like the curl &amp; Angular clients?</p>\n"},{"tags":["java","selenium-webdriver","selenium-jupiter"],"answers":[{"comments":[{"owner":{"account_id":22764027,"reputation":11,"user_id":16922382,"display_name":"ladida"},"score":0,"creation_date":1695312874,"post_id":77151168,"comment_id":136010788,"body_markdown":"Ok, I already use that solution. I thought maybe there is a annotation or something that helps.","body":"Ok, I already use that solution. I thought maybe there is a annotation or something that helps."}],"tags":[],"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695306228,"creation_date":1695306228,"answer_id":77151168,"question_id":77150945,"body_markdown":"This is not possible in the current implementation of Selenium Manager, since browsers are always disposed after each test. But you can introduce a custom wait after each test to manually inspect your browser, for instance, as follows:\r\n\r\n    @AfterEach\r\n    void teardown() throws InterruptedException {\r\n        Thread.sleep(60000);\r\n    }","title":"How to prevent SeleniumJupiter from quit the driver?","body":"<p>This is not possible in the current implementation of Selenium Manager, since browsers are always disposed after each test. But you can introduce a custom wait after each test to manually inspect your browser, for instance, as follows:</p>\n<pre><code>@AfterEach\nvoid teardown() throws InterruptedException {\n    Thread.sleep(60000);\n}\n</code></pre>\n"}],"owner":{"account_id":22764027,"reputation":11,"user_id":16922382,"display_name":"ladida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695306269,"creation_date":1695304555,"question_id":77150945,"body_markdown":"Selenium Jupiter run driver.quit() automatically after every test. But in some cases I would like to look at the browser after the test manually. In Selenium it&#39;s easy, don&#39;t call `driver.quit()`. But how does I can do that in Selenium Jupiter?","title":"How to prevent SeleniumJupiter from quit the driver?","body":"<p>Selenium Jupiter run driver.quit() automatically after every test. But in some cases I would like to look at the browser after the test manually. In Selenium it's easy, don't call <code>driver.quit()</code>. But how does I can do that in Selenium Jupiter?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2042,"reputation":29163,"user_id":2811,"accept_rate":75,"display_name":"diciu"},"score":24,"creation_date":1263034174,"post_id":2033088,"comment_id":1957067,"body_markdown":"Use *if(drawable==null)* Calling any method on a NULL object is a NullPointerException.","body":"Use <i>if(drawable==null)</i> Calling any method on a NULL object is a NullPointerException."},{"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"score":3,"creation_date":1263035810,"post_id":2033088,"comment_id":1957142,"body_markdown":"Why don&#39;t you write a usual answer instead of a comment, diciu?","body":"Why don&#39;t you write a usual answer instead of a comment, diciu?"},{"owner":{"account_id":164368,"reputation":104823,"user_id":387076,"accept_rate":47,"display_name":"Gilles &#39;SO- stop being evil&#39;"},"score":0,"creation_date":1408283633,"post_id":2033088,"comment_id":39522970,"body_markdown":"@JaredBurrows Do not edit the code in a question in a way that defeats the purpose of the question!","body":"@JaredBurrows Do not edit the code in a question in a way that defeats the purpose of the question!"},{"owner":{"account_id":918082,"reputation":54574,"user_id":950427,"accept_rate":91,"display_name":"Jared Burrows"},"score":0,"creation_date":1408283786,"post_id":2033088,"comment_id":39523010,"body_markdown":"@Gilles Read my editorial comment, I made the code more readable.","body":"@Gilles Read my editorial comment, I made the code more readable."},{"owner":{"account_id":164368,"reputation":104823,"user_id":387076,"accept_rate":47,"display_name":"Gilles &#39;SO- stop being evil&#39;"},"score":0,"creation_date":1408283966,"post_id":2033088,"comment_id":39523056,"body_markdown":"@JaredBurrows No, your edit was not a “formatting” change. You changed non-working code which was the object of the question, into working code which made the question moot.","body":"@JaredBurrows No, your edit was not a “formatting” change. You changed non-working code which was the object of the question, into working code which made the question moot."},{"owner":{"account_id":1542737,"reputation":4319,"user_id":1436981,"accept_rate":45,"display_name":"stuXnet"},"score":0,"creation_date":1408284028,"post_id":2033088,"comment_id":39523074,"body_markdown":"@JaredBurrows I had to revert (some of) your changes - you changed it from `drawable.equals(null)` to `isNull(drawable)` - I assume you copied from your first (formatting only) edit on Eddie B&#39;s answer. Please don&#39;t do that.","body":"@JaredBurrows I had to revert (some of) your changes - you changed it from <code>drawable.equals(null)</code> to <code>isNull(drawable)</code> - I assume you copied from your first (formatting only) edit on Eddie B&#39;s answer. Please don&#39;t do that."},{"owner":{"account_id":1542737,"reputation":4319,"user_id":1436981,"accept_rate":45,"display_name":"stuXnet"},"score":0,"creation_date":1408284084,"post_id":2033088,"comment_id":39523086,"body_markdown":"@Giles `isNull(drawable)` won&#39;t compile, because there is no `isNull` defined in the context of the question.","body":"@Giles <code>isNull(drawable)</code> won&#39;t compile, because there is no <code>isNull</code> defined in the context of the question."},{"owner":{"account_id":918082,"reputation":54574,"user_id":950427,"accept_rate":91,"display_name":"Jared Burrows"},"score":0,"creation_date":1408284564,"post_id":2033088,"comment_id":39523216,"body_markdown":"@stuXnet That&#39;s perfectly fine. Good question just needed reformatting.","body":"@stuXnet That&#39;s perfectly fine. Good question just needed reformatting."}],"answers":[{"comments":[{"owner":{"account_id":79198,"reputation":4144,"user_id":224774,"accept_rate":90,"display_name":"Thorsten S."},"score":60,"creation_date":1263036959,"post_id":2033090,"comment_id":1957190,"body_markdown":"I want to add a very valuable tip: If you have strings or constants to compare, *always* put them first in the equals clause.\n\n(if (&quot;coyote&quot;.equals(myDogString))) is much better than \n\n(if (myDogString.equals(&quot;coyote&quot;)))  \n\nbecause in the second case myDogString may be null and throws an NPE while in the first case it doesn&#39;t matter if myDogString is null.","body":"I want to add a very valuable tip: If you have strings or constants to compare, <i>always</i> put them first in the equals clause.  (if (&quot;coyote&quot;.equals(myDogString))) is much better than   (if (myDogString.equals(&quot;coyote&quot;)))    because in the second case myDogString may be null and throws an NPE while in the first case it doesn&#39;t matter if myDogString is null."},{"owner":{"account_id":8198,"reputation":176803,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":22,"creation_date":1406040620,"post_id":2033090,"comment_id":38664280,"body_markdown":"Known as a Yoda condition: &quot;if a coyote, the dog is...&quot;","body":"Known as a Yoda condition: &quot;if a coyote, the dog is...&quot;"},{"owner":{"account_id":3332034,"reputation":1058,"user_id":2800752,"accept_rate":62,"display_name":"maryokhin"},"score":2,"creation_date":1414249920,"post_id":2033090,"comment_id":41747281,"body_markdown":"I would also like to add, that since Java 7 there is an Objects.equals() method, that let&#39;s you not care about Yoda syntax","body":"I would also like to add, that since Java 7 there is an Objects.equals() method, that let&#39;s you not care about Yoda syntax"}],"tags":[],"owner":{"account_id":8198,"reputation":176803,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"comment_count":3,"down_vote_count":0,"up_vote_count":190,"is_accepted":false,"score":190,"last_activity_date":1544689034,"creation_date":1263034132,"answer_id":2033090,"question_id":2033088,"body_markdown":"    Drawable drawable = Common.getDrawableFromUrl(this, product.getMapPath());\r\n    if (drawable == null) {\r\n        drawable = getRandomDrawable();\r\n    }\r\n\r\nThe `equals()` method checks for *value* equality, which means that it compares the *contents* of two objects. Since `null` is not an object, this crashes when trying to compare the contents of your object to the contents of `null`.\r\n\r\nThe `==` operator checks for *reference* equality, which means that it looks whether the two objects are actually the *very same object*. This does not require the objects to actually exist; two nonexistent objects (`null` references) are also equal.\r\n","title":"How to check if object is null?","body":"<pre><code>Drawable drawable = Common.getDrawableFromUrl(this, product.getMapPath());\nif (drawable == null) {\n    drawable = getRandomDrawable();\n}\n</code></pre>\n\n<p>The <code>equals()</code> method checks for <em>value</em> equality, which means that it compares the <em>contents</em> of two objects. Since <code>null</code> is not an object, this crashes when trying to compare the contents of your object to the contents of <code>null</code>.</p>\n\n<p>The <code>==</code> operator checks for <em>reference</em> equality, which means that it looks whether the two objects are actually the <em>very same object</em>. This does not require the objects to actually exist; two nonexistent objects (<code>null</code> references) are also equal.</p>\n"},{"comments":[{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":7,"creation_date":1263036240,"post_id":2033135,"comment_id":1957159,"body_markdown":"Probably not a good idea - you&#39;re going back to Fortran 60  where both sides of the conditional are evaluated, then only one gets used. This is bad if the unused branch has any computation, which is true most the time, so it isn&#39;t a generally useful method. I&#39;d move the condition to the `Common` class, and allow you to supply a fallback URL, and keep the responsibilities together.","body":"Probably not a good idea - you&#39;re going back to Fortran 60  where both sides of the conditional are evaluated, then only one gets used. This is bad if the unused branch has any computation, which is true most the time, so it isn&#39;t a generally useful method. I&#39;d move the condition to the <code>Common</code> class, and allow you to supply a fallback URL, and keep the responsibilities together."},{"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"score":1,"creation_date":1408723560,"post_id":2033135,"comment_id":39711963,"body_markdown":"The example is now completely rewritten in Java 8, so my solution suffers no longer from useless evaluations (as @PeteKirkham pointed out in my original solution).","body":"The example is now completely rewritten in Java 8, so my solution suffers no longer from useless evaluations (as @PeteKirkham pointed out in my original solution)."},{"owner":{"account_id":1592276,"reputation":6902,"user_id":1475346,"accept_rate":100,"display_name":"Martin Seeler"},"score":1,"creation_date":1413450615,"post_id":2033135,"comment_id":41450939,"body_markdown":"Android does not support Java 8. It only supports up to Java 7 (if you have kitkat) and still it doesn&#39;t have invokedynamic, only the new syntax sugar. Beside that, `Optional.of` implies, that the value is not null, and therefore the `orElseGet` is unnecessary. You should use `Optional.ofNullable` in this case.","body":"Android does not support Java 8. It only supports up to Java 7 (if you have kitkat) and still it doesn&#39;t have invokedynamic, only the new syntax sugar. Beside that, <code>Optional.of</code> implies, that the value is not null, and therefore the <code>orElseGet</code> is unnecessary. You should use <code>Optional.ofNullable</code> in this case."}],"tags":[],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"comment_count":3,"down_vote_count":4,"up_vote_count":39,"is_accepted":true,"score":35,"last_activity_date":1413791835,"creation_date":1263035443,"answer_id":2033135,"question_id":2033088,"body_markdown":"**Edited Java 8 Solution:**\r\n\r\n    final Drawable drawable = \r\n        Optional.ofNullable(Common.getDrawableFromUrl(this, product.getMapPath()))\r\n            .orElseGet(() -&gt; getRandomDrawable());\r\n\r\nYou can declare `drawable` `final` in this case.\r\n\r\nAs Chasmo pointed out, Android doesn&#39;t support Java 8 at the moment. So this solution is only possible in other contexts.\r\n","title":"How to check if object is null?","body":"<p><strong>Edited Java 8 Solution:</strong></p>\n\n<pre><code>final Drawable drawable = \n    Optional.ofNullable(Common.getDrawableFromUrl(this, product.getMapPath()))\n        .orElseGet(() -&gt; getRandomDrawable());\n</code></pre>\n\n<p>You can declare <code>drawable</code> <code>final</code> in this case.</p>\n\n<p>As Chasmo pointed out, Android doesn't support Java 8 at the moment. So this solution is only possible in other contexts.</p>\n"},{"tags":[],"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1263048455,"creation_date":1263048455,"answer_id":2033709,"question_id":2033088,"body_markdown":"    drawable.equals(null)\r\n\r\nThe above line calls the &quot;equals(...)&quot; method on the drawable object.\r\n\r\nSo, when drawable is not null and it is a real object, then all goes well as calling the &quot;equals(null)&quot; method will return &quot;false&quot;\r\n\r\nBut when &quot;drawable&quot; is null, then it means calling the &quot;equals(...)&quot; method on null object, means calling a method on an object that doesn&#39;t exist so it throws &quot;NullPointerException&quot;\r\n\r\nTo check whether an object exists and it is not null, use the following\r\n\r\n    if(drawable == null) {\r\n        ...\r\n        ...\r\n    }\r\n\r\nIn above condition, we are checking that the reference variable &quot;drawable&quot; is null or contains some value (reference to its object) so it won&#39;t throw exception in case drawable is null as checking \r\n\r\n    null == null\r\n\r\nis valid.","title":"How to check if object is null?","body":"<pre><code>drawable.equals(null)\n</code></pre>\n\n<p>The above line calls the \"equals(...)\" method on the drawable object.</p>\n\n<p>So, when drawable is not null and it is a real object, then all goes well as calling the \"equals(null)\" method will return \"false\"</p>\n\n<p>But when \"drawable\" is null, then it means calling the \"equals(...)\" method on null object, means calling a method on an object that doesn't exist so it throws \"NullPointerException\"</p>\n\n<p>To check whether an object exists and it is not null, use the following</p>\n\n<pre><code>if(drawable == null) {\n    ...\n    ...\n}\n</code></pre>\n\n<p>In above condition, we are checking that the reference variable \"drawable\" is null or contains some value (reference to its object) so it won't throw exception in case drawable is null as checking </p>\n\n<pre><code>null == null\n</code></pre>\n\n<p>is valid.</p>\n"},{"comments":[{"owner":{"account_id":4796,"reputation":7084,"user_id":7399,"accept_rate":56,"display_name":"Scott"},"score":5,"creation_date":1263078029,"post_id":2033732,"comment_id":1959911,"body_markdown":"I too prefer the if(&lt;constant&gt; == &lt;variable&gt;) construct as a way to protect myself from accidental assignment.","body":"I too prefer the if(&lt;constant&gt; == &lt;variable&gt;) construct as a way to protect myself from accidental assignment."}],"tags":[],"owner":{"account_id":89591,"reputation":639,"user_id":1691669,"display_name":"outofcoffee"},"comment_count":1,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1263048880,"creation_date":1263048880,"answer_id":2033732,"question_id":2033088,"body_markdown":"I use this approach:\r\n\r\n    if (null == drawable) {\r\n      //do stuff\r\n    } else {\r\n      //other things\r\n    }\r\n\r\nThis way I find improves the readability of the line - as I read quickly through a source file I can see it&#39;s a null check.\r\n\r\nWith regards to why you can&#39;t call `.equals()` on an object which may be `null`; if the object reference you have (namely &#39;drawable&#39;) **is** in fact `null`, it doesn&#39;t point to an object on the heap. This means there&#39;s no object on the heap on which the call to `equals()` can succeed.\r\n\r\nBest of luck!","title":"How to check if object is null?","body":"<p>I use this approach:</p>\n\n<pre><code>if (null == drawable) {\n  //do stuff\n} else {\n  //other things\n}\n</code></pre>\n\n<p>This way I find improves the readability of the line - as I read quickly through a source file I can see it's a null check.</p>\n\n<p>With regards to why you can't call <code>.equals()</code> on an object which may be <code>null</code>; if the object reference you have (namely 'drawable') <strong>is</strong> in fact <code>null</code>, it doesn't point to an object on the heap. This means there's no object on the heap on which the call to <code>equals()</code> can succeed.</p>\n\n<p>Best of luck!</p>\n"},{"comments":[{"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"score":1,"creation_date":1263052083,"post_id":2033795,"comment_id":1958047,"body_markdown":"Where is the double check in `if x == null` solution?","body":"Where is the double check in <code>if x == null</code> solution?"},{"owner":{"account_id":72724,"reputation":5991,"user_id":209838,"accept_rate":67,"display_name":"Tom R"},"score":0,"creation_date":1263053962,"post_id":2033795,"comment_id":1958191,"body_markdown":"After the if statement, the runtime will check again for a null pointer when the object is used. I don&#39;t know whether or not this is optimised by the compiler, though.","body":"After the if statement, the runtime will check again for a null pointer when the object is used. I don&#39;t know whether or not this is optimised by the compiler, though."},{"owner":{"account_id":880338,"reputation":841,"user_id":234897,"display_name":"James"},"score":4,"creation_date":1263169211,"post_id":2033795,"comment_id":1964679,"body_markdown":"This goes against conventional wisdom, using exceptions as control flow.","body":"This goes against conventional wisdom, using exceptions as control flow."},{"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"score":1,"creation_date":1408723972,"post_id":2033795,"comment_id":39712210,"body_markdown":"Exceptions are very expensive, since they need to create a whole stacktrace.","body":"Exceptions are very expensive, since they need to create a whole stacktrace."}],"tags":[],"owner":{"account_id":72724,"reputation":5991,"user_id":209838,"accept_rate":67,"display_name":"Tom R"},"comment_count":4,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1263050006,"creation_date":1263050006,"answer_id":2033795,"question_id":2033088,"body_markdown":"It&#39;s probably slightly more efficient to catch a NullPointerException. The above methods mean that the runtime is checking for null pointers twice. ","title":"How to check if object is null?","body":"<p>It's probably slightly more efficient to catch a NullPointerException. The above methods mean that the runtime is checking for null pointers twice. </p>\n"},{"tags":[],"owner":{"account_id":1280634,"reputation":331,"user_id":1234797,"display_name":"heapuser"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1408282772,"creation_date":1348714457,"answer_id":12613413,"question_id":2033088,"body_markdown":"`if (yourObject instanceof yourClassName)` will evaluate to `false` if `yourObject` is `null`.","title":"How to check if object is null?","body":"<p><code>if (yourObject instanceof yourClassName)</code> will evaluate to <code>false</code> if <code>yourObject</code> is <code>null</code>.</p>\n"},{"comments":[{"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"score":1,"creation_date":1408723923,"post_id":16735388,"comment_id":39712174,"body_markdown":"Better use Java 8 `Optional` today.","body":"Better use Java 8 <code>Optional</code> today."}],"tags":[],"owner":{"account_id":966925,"reputation":4497,"user_id":990208,"accept_rate":82,"display_name":"Bala"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408282687,"creation_date":1369399818,"answer_id":16735388,"question_id":2033088,"body_markdown":"Use [google guava libs][1] to handle is-null-check (deamon&#39;s update)\r\n\r\n    Drawable drawable = Optional.of(Common.getDrawableFromUrl(this, product.getMapPath())).or(getRandomDrawable());\r\n\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/wiki/UsingAndAvoidingNullExplained","title":"How to check if object is null?","body":"<p>Use <a href=\"https://code.google.com/p/guava-libraries/wiki/UsingAndAvoidingNullExplained\" rel=\"nofollow\">google guava libs</a> to handle is-null-check (deamon's update)</p>\n\n<pre><code>Drawable drawable = Optional.of(Common.getDrawableFromUrl(this, product.getMapPath())).or(getRandomDrawable());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"comment_count":0,"down_vote_count":3,"up_vote_count":10,"is_accepted":false,"score":7,"last_activity_date":1408282755,"creation_date":1392601869,"answer_id":21819440,"question_id":2033088,"body_markdown":"DIY\r\n\r\n\tprivate boolean isNull(Object obj) {\r\n\t\treturn obj == null;\r\n\t}\r\n\r\n\r\n---\r\n\r\n    Drawable drawable = Common.getDrawableFromUrl(this, product.getMapPath());\r\n    if (isNull(drawable)) {\r\n        drawable = getRandomDrawable();\r\n    }","title":"How to check if object is null?","body":"<p>DIY</p>\n\n<pre><code>private boolean isNull(Object obj) {\n    return obj == null;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>Drawable drawable = Common.getDrawableFromUrl(this, product.getMapPath());\nif (isNull(drawable)) {\n    drawable = getRandomDrawable();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12821400,"reputation":43,"user_id":9276135,"display_name":"Meet Vyas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695302996,"creation_date":1695302996,"answer_id":77150748,"question_id":2033088,"body_markdown":"You can use ```Objects.isNull(Object)```","title":"How to check if object is null?","body":"<p>You can use <code>Objects.isNull(Object)</code></p>\n"}],"owner":{"account_id":11824,"reputation":66155,"user_id":22996,"accept_rate":92,"display_name":"Niko Gamulin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451440,"favorite_count":0,"down_vote_count":1,"up_vote_count":98,"accepted_answer_id":2033135,"answer_count":9,"score":97,"last_activity_date":1695305466,"creation_date":1263034030,"question_id":2033088,"body_markdown":"I am creating an application which retrieves images from the web. In case the image cannot be retrieved another local image should be used.\r\n\r\nWhile trying to execute the following lines:\r\n\r\n    Drawable drawable = Common.getDrawableFromUrl(this, product.getMapPath());\r\n    if (drawable.equals(null)) {\r\n      drawable = getRandomDrawable();\r\n    }\r\n\r\nThe line if(drawable.equals(null)) throws an exception if drawable is null.\r\n\r\nDoes anyone know how should the value of drawable be checked in order not to throw an exception in case it is null and retrieve the local image (execute `drawable = getRandomDrawable()`)?\r\n","title":"How to check if object is null?","body":"<p>I am creating an application which retrieves images from the web. In case the image cannot be retrieved another local image should be used.</p>\n<p>While trying to execute the following lines:</p>\n<pre><code>Drawable drawable = Common.getDrawableFromUrl(this, product.getMapPath());\nif (drawable.equals(null)) {\n  drawable = getRandomDrawable();\n}\n</code></pre>\n<p>The line if(drawable.equals(null)) throws an exception if drawable is null.</p>\n<p>Does anyone know how should the value of drawable be checked in order not to throw an exception in case it is null and retrieve the local image (execute <code>drawable = getRandomDrawable()</code>)?</p>\n"},{"tags":["java","maven","jenkins","maven-plugin"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1552581174,"post_id":55167612,"comment_id":97074697,"body_markdown":"Delete the local repository and try again.","body":"Delete the local repository and try again."},{"owner":{"account_id":1665858,"reputation":2523,"user_id":1533273,"accept_rate":83,"display_name":"clD"},"score":0,"creation_date":1552581701,"post_id":55167612,"comment_id":97075014,"body_markdown":"I have update my question. Only work for one or two builds. What would be causing this?","body":"I have update my question. Only work for one or two builds. What would be causing this?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1552597686,"post_id":55167612,"comment_id":97083287,"body_markdown":"Your local cache is screwed up. You have to cleanup your cache and turn on checksum policy... Details https://blog.soebes.de/blog/2018/10/13/maven-artifact-checksums-what/","body":"Your local cache is screwed up. You have to cleanup your cache and turn on checksum policy... Details <a href=\"https://blog.soebes.de/blog/2018/10/13/maven-artifact-checksums-what/\" rel=\"nofollow noreferrer\">blog.soebes.de/blog/2018/10/13/maven-artifact-checksums-what</a>"},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":0,"creation_date":1552607005,"post_id":55167612,"comment_id":97086144,"body_markdown":"Another possibility is multiple builds downloading the same jars simultaneously and one stepping on another.","body":"Another possibility is multiple builds downloading the same jars simultaneously and one stepping on another."}],"answers":[{"tags":[],"owner":{"account_id":3061143,"reputation":1338,"user_id":2593751,"display_name":"Mohannd"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1658663246,"creation_date":1590095329,"answer_id":61943870,"question_id":55167612,"body_markdown":"The JAR in your local Maven cache is corrupt.\r\n\r\nJust delete the file \r\n\r\n    .m2/com.some_company/any_random.jar\r\n\r\nand rerun your goal again.\r\n Maybe your network or internet connection is slow or your hard disk need check. ","title":"Maven clean install COMPILATION ERROR cannot access jar, zip END header not found","body":"<p>The JAR in your local Maven cache is corrupt.</p>\n<p>Just delete the file</p>\n<pre><code>.m2/com.some_company/any_random.jar\n</code></pre>\n<p>and rerun your goal again.\nMaybe your network or internet connection is slow or your hard disk need check.</p>\n"},{"tags":[],"owner":{"account_id":20145936,"reputation":472,"user_id":14774446,"display_name":"Davide Calarco"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652368680,"creation_date":1652368680,"answer_id":72218193,"question_id":55167612,"body_markdown":"## Error reproduction\r\nI&#39;ve experienced the same error as soon as I&#39;ve added a global variable at the beginning of a tag in the `pom.xml` file:\r\n\r\n```maven\r\n&lt;url&gt;${env.CI_PROJECT_URL}/api/v4/projects/000/packages/maven&lt;/url&gt;\r\n```\r\n\r\nJust for a try, I added the `a` letter at the beginning, even if it doesn&#39;t resolve to an existing URL:\r\n\r\n```maven\r\n&lt;url&gt;a${env.CI_PROJECT_URL}/api/v4/projects/000/packages/maven&lt;/url&gt;\r\n```\r\n\r\nAnd the compilation worked, but the publication could not due to the wrong URL.\r\n\r\n## Solution\r\n\r\nI&#39;ve solved the error by just interpolating the domain of the server, while I manually wrote the protocol part as `https`:\r\n\r\n```maven\r\n&lt;url&gt;https://${env.CI_SERVER_HOST}/api/v4/projects/000/packages/maven&lt;/url&gt;\r\n```\r\n\r\nIn your case you may need to apply a similar modification in order to solve the issue.","title":"Maven clean install COMPILATION ERROR cannot access jar, zip END header not found","body":"<h2>Error reproduction</h2>\n<p>I've experienced the same error as soon as I've added a global variable at the beginning of a tag in the <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;url&gt;${env.CI_PROJECT_URL}/api/v4/projects/000/packages/maven&lt;/url&gt;\n</code></pre>\n<p>Just for a try, I added the <code>a</code> letter at the beginning, even if it doesn't resolve to an existing URL:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;url&gt;a${env.CI_PROJECT_URL}/api/v4/projects/000/packages/maven&lt;/url&gt;\n</code></pre>\n<p>And the compilation worked, but the publication could not due to the wrong URL.</p>\n<h2>Solution</h2>\n<p>I've solved the error by just interpolating the domain of the server, while I manually wrote the protocol part as <code>https</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;url&gt;https://${env.CI_SERVER_HOST}/api/v4/projects/000/packages/maven&lt;/url&gt;\n</code></pre>\n<p>In your case you may need to apply a similar modification in order to solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":17582586,"reputation":164,"user_id":12756065,"display_name":"Alberto Azinar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695305376,"creation_date":1695305376,"answer_id":77151043,"question_id":55167612,"body_markdown":"Mohannd answer helped me knowing what was going on.\r\n\r\nBut, I was pulling the dependency from an internal repository, so the solution was accessing the internal repository and replacing the corrupted JAR file.\r\n\r\nGo to your local repository (cache) and remove the JAR file.\r\n\r\nAfter that run `mvn clean install -U` to download it again from the internal repository.","title":"Maven clean install COMPILATION ERROR cannot access jar, zip END header not found","body":"<p>Mohannd answer helped me knowing what was going on.</p>\n<p>But, I was pulling the dependency from an internal repository, so the solution was accessing the internal repository and replacing the corrupted JAR file.</p>\n<p>Go to your local repository (cache) and remove the JAR file.</p>\n<p>After that run <code>mvn clean install -U</code> to download it again from the internal repository.</p>\n"}],"owner":{"account_id":1665858,"reputation":2523,"user_id":1533273,"accept_rate":83,"display_name":"clD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36295,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":3,"score":19,"last_activity_date":1695305376,"creation_date":1552580876,"question_id":55167612,"body_markdown":"When building my application on Jenkins using maven I am seeing the following error after running:\r\n\r\n`mvn clean install -q -U -T 1.5C -DskipTests -Dsvn.info.skip=true`\r\n\r\n**Error:**\r\n&gt;** [ERROR] COMPILATION ERROR : \r\n[ERROR] error reading /apps/jenkins/workspace/some_branch/.m2/com.some_company/any_random.jar; zip file is empty &lt;br/&gt;\r\n[ERROR] cannot access com.some_company.some_class\r\ncannot access cannot access com.some_company.some_class zip END header not found\r\ncannot access jar\r\n\r\n&lt;br/&gt;\r\nI tried excluding the dependency that was causing the issue as it was transitive but now it happens for other dependencies.\r\n\r\nThe dependencies are stored in nexus.\r\n\r\nI have looked at the JDK being used to build the JARS and considered Network issues but nothing explains this.\r\n\r\nClearing Jenkins and the .m2 folder works sometime for one or two builds but I would like to find a better solution.\r\n\r\nAny ideas?","title":"Maven clean install COMPILATION ERROR cannot access jar, zip END header not found","body":"<p>When building my application on Jenkins using maven I am seeing the following error after running:</p>\n\n<p><code>mvn clean install -q -U -T 1.5C -DskipTests -Dsvn.info.skip=true</code></p>\n\n<p><strong>Error:</strong></p>\n\n<blockquote>\n  <p>** [ERROR] COMPILATION ERROR : \n  [ERROR] error reading /apps/jenkins/workspace/some_branch/.m2/com.some_company/any_random.jar; zip file is empty <br/>\n  [ERROR] cannot access com.some_company.some_class\n  cannot access cannot access com.some_company.some_class zip END header not found\n  cannot access jar</p>\n</blockquote>\n\n<p><br/>\nI tried excluding the dependency that was causing the issue as it was transitive but now it happens for other dependencies.</p>\n\n<p>The dependencies are stored in nexus.</p>\n\n<p>I have looked at the JDK being used to build the JARS and considered Network issues but nothing explains this.</p>\n\n<p>Clearing Jenkins and the .m2 folder works sometime for one or two builds but I would like to find a better solution.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","spring","postgresql","spring-data-jpa"],"comments":[{"owner":{"account_id":6188216,"reputation":53,"user_id":4821691,"display_name":"Cosmin Mavrichi"},"score":0,"creation_date":1695290467,"post_id":77148505,"comment_id":136005959,"body_markdown":"Did you try this in a transactional context? Also, it would be helpful to have the full code sample of what seems to be the service.\nI suspect the reason might have to do with detached entities, which might get dropped when doing the findAll.","body":"Did you try this in a transactional context? Also, it would be helpful to have the full code sample of what seems to be the service. I suspect the reason might have to do with detached entities, which might get dropped when doing the findAll."},{"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"score":0,"creation_date":1695293073,"post_id":77148505,"comment_id":136006502,"body_markdown":"1. Yes, I&#39;m also trying this with @Transactional annotation on method, calling this repository, but results are the same.\n2. The same code is tested without the findAll method call, it&#39;s just a demostration for finding out that read operation works, but write, no.","body":"1. Yes, I&#39;m also trying this with @Transactional annotation on method, calling this repository, but results are the same. 2. The same code is tested without the findAll method call, it&#39;s just a demostration for finding out that read operation works, but write, no."}],"answers":[{"tags":[],"owner":{"account_id":6188216,"reputation":53,"user_id":4821691,"display_name":"Cosmin Mavrichi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695305068,"creation_date":1695298247,"answer_id":77150126,"question_id":77148505,"body_markdown":"Just created my little test, and when using a composite key if nothing changes on the entity, then there is no reason for the entity to get inserted or updated, hence no update or insert in logs.\r\n\r\nTry changing anything on your entity e.g. other_data and you will see an update getting triggered. If you change any of the composite keys, an insert statement will be done.","title":"JPA entity composite primery key not saving to the database","body":"<p>Just created my little test, and when using a composite key if nothing changes on the entity, then there is no reason for the entity to get inserted or updated, hence no update or insert in logs.</p>\n<p>Try changing anything on your entity e.g. other_data and you will see an update getting triggered. If you change any of the composite keys, an insert statement will be done.</p>\n"}],"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695305068,"creation_date":1695285347,"question_id":77148505,"body_markdown":"I&#39;m facing such kind of issue. I have this code base. This is my Entity class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;your_entity&quot;)\r\n    public class MyEntity implements Serializable {\r\n    \r\n        @EmbeddedId\r\n        private MyEntityId id;\r\n    \r\n        @Column(name = &quot;other_data&quot;)\r\n        private String otherData;\r\n    \r\n        // Getters and setters\r\n    }\r\n\r\nAnd this one is the composite primery key part in java code, \r\n\r\n    \r\n    @Embeddable\r\n    public class MyEntityId implements Serializable {\r\n    \r\n        @Column(name = &quot;id1&quot;)\r\n        private Long id1;\r\n    \r\n        @Column(name = &quot;id2&quot;)\r\n        private Long id2;\r\n    \r\n        // Getters and setters\r\n    }\r\n\r\nHere is the repository part to save that entity\r\n\r\n    public interface MyEntityRepository extends JpaRepository&lt;MyEntity, MyEntityId&gt; {}\r\n\r\nthis one is the service layer:\r\n\r\n    @Service\r\n    public class MyEntityService {\r\n    \r\n        @Autowired\r\n        private MyEntityRepository repository;\r\n    \r\n        public void saveEntity(MyEntity entity) {\r\n            repository.save(entity);\r\n        }\r\n    }\r\n\r\nAnd this is the code of saving the record to the database:\r\n\r\n    \r\n\r\n  \r\n\r\n       1. final MyEntity entity = new MyEntity();\r\n       2. entity.setId(new MyEntityId(&quot;id_1&quot;, &quot;e56962a6-4747-49cd-b67b-bf8b01975c4c&quot;));\r\n       3. final List&lt;MyEntity&gt; got = repository.findAll();\r\n       4. final MyEntity saved = repository.save(entity);\r\n\r\nThe interesting part here is that, when executing the line 3, it gets the previously saved list, and when executing the line 4, it normally passes that line, without any error, but no new records are being saved in the database. \r\nAlso in the log section I see that there are only two selects after line 4, but no insert is present there.\r\nAny ideas of what can be the reason of this weird behavior?","title":"JPA entity composite primery key not saving to the database","body":"<p>I'm facing such kind of issue. I have this code base. This is my Entity class:</p>\n<pre><code>@Entity\n@Table(name = &quot;your_entity&quot;)\npublic class MyEntity implements Serializable {\n\n    @EmbeddedId\n    private MyEntityId id;\n\n    @Column(name = &quot;other_data&quot;)\n    private String otherData;\n\n    // Getters and setters\n}\n</code></pre>\n<p>And this one is the composite primery key part in java code,</p>\n<pre><code>@Embeddable\npublic class MyEntityId implements Serializable {\n\n    @Column(name = &quot;id1&quot;)\n    private Long id1;\n\n    @Column(name = &quot;id2&quot;)\n    private Long id2;\n\n    // Getters and setters\n}\n</code></pre>\n<p>Here is the repository part to save that entity</p>\n<pre><code>public interface MyEntityRepository extends JpaRepository&lt;MyEntity, MyEntityId&gt; {}\n</code></pre>\n<p>this one is the service layer:</p>\n<pre><code>@Service\npublic class MyEntityService {\n\n    @Autowired\n    private MyEntityRepository repository;\n\n    public void saveEntity(MyEntity entity) {\n        repository.save(entity);\n    }\n}\n</code></pre>\n<p>And this is the code of saving the record to the database:</p>\n<pre><code>   1. final MyEntity entity = new MyEntity();\n   2. entity.setId(new MyEntityId(&quot;id_1&quot;, &quot;e56962a6-4747-49cd-b67b-bf8b01975c4c&quot;));\n   3. final List&lt;MyEntity&gt; got = repository.findAll();\n   4. final MyEntity saved = repository.save(entity);\n</code></pre>\n<p>The interesting part here is that, when executing the line 3, it gets the previously saved list, and when executing the line 4, it normally passes that line, without any error, but no new records are being saved in the database.\nAlso in the log section I see that there are only two selects after line 4, but no insert is present there.\nAny ideas of what can be the reason of this weird behavior?</p>\n"},{"tags":["java","lambda","iteration","google-chrome-devtools","selenium4"],"answers":[{"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1695301889,"post_id":77150446,"comment_id":136008299,"body_markdown":"Thank you very much for your answer. I followed after your code versions and really appreciate your efforts. However the current code catches only single, probably the first Response while network contains several Responses with different URLs while the required Response seems to be not the first. I can&#39;t know how many Responses will be caught here.","body":"Thank you very much for your answer. I followed after your code versions and really appreciate your efforts. However the current code catches only single, probably the first Response while network contains several Responses with different URLs while the required Response seems to be not the first. I can&#39;t know how many Responses will be caught here."},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1695302010,"post_id":77150446,"comment_id":136008329,"body_markdown":"Also, I think the delay is not the problem. I can set some pause of 2-3 seconds or so. The main issue is to catch all the Responses and then iterate over them and validate their content.","body":"Also, I think the delay is not the problem. I can set some pause of 2-3 seconds or so. The main issue is to catch all the Responses and then iterate over them and validate their content."},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1695302166,"post_id":77150446,"comment_id":136008376,"body_markdown":"In the listener you could check each event to find the one you are interested in. And only set the reference &amp; countdown the latch once you&#39;ve found the response you want","body":"In the listener you could check each event to find the one you are interested in. And only set the reference &amp; countdown the latch once you&#39;ve found the response you want"},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1695302330,"post_id":77150446,"comment_id":136008422,"body_markdown":"If you just want to wait 3 seconds and check all responses you could use `AtomicReference&lt;List&lt;Response&gt;&gt;`  and `Thread.sleep(...)` instead of a latch. Make sure to use a thread safe list (eg `CopyOnWriteArrayList`)","body":"If you just want to wait 3 seconds and check all responses you could use <code>AtomicReference&lt;List&lt;Response&gt;&gt;</code>  and <code>Thread.sleep(...)</code> instead of a latch. Make sure to use a thread safe list (eg <code>CopyOnWriteArrayList</code>)"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1695302400,"post_id":77150446,"comment_id":136008437,"body_markdown":"But I don&#39;t know how many responses are there. Also it can be that the required String is not there. So, I think we just need to put all the responses in some external List / Map etc and then to perform validation via the iterations. The original code that only prints the content works just perfect with no need for any kind of CountDownLatch","body":"But I don&#39;t know how many responses are there. Also it can be that the required String is not there. So, I think we just need to put all the responses in some external List / Map etc and then to perform validation via the iterations. The original code that only prints the content works just perfect with no need for any kind of CountDownLatch"},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1695302435,"post_id":77150446,"comment_id":136008446,"body_markdown":"Another option is to use `new CountDownLatch(5)` and `AtomicReference&lt;List&lt;Response&gt;&gt;`. Then you could wait for the first 5 responses","body":"Another option is to use <code>new CountDownLatch(5)</code> and <code>AtomicReference&lt;List&lt;Response&gt;&gt;</code>. Then you could wait for the first 5 responses"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1695302707,"post_id":77150446,"comment_id":136008521,"body_markdown":"I couldn&#39;t use `AtomicReference&lt;List&lt;Response&gt;&gt;` since I can&#39;t use index inside the lambda expression body... Is there any way to make just a normal iteration flow instead of this lambda expression?","body":"I couldn&#39;t use <code>AtomicReference&lt;List&lt;Response&gt;&gt;</code> since I can&#39;t use index inside the lambda expression body... Is there any way to make just a normal iteration flow instead of this lambda expression?"},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1695302980,"post_id":77150446,"comment_id":136008587,"body_markdown":"I&#39;ve updated my answer, you don&#39;t need `AtomicReference` if using a thread-safe `List`","body":"I&#39;ve updated my answer, you don&#39;t need <code>AtomicReference</code> if using a thread-safe <code>List</code>"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1695304006,"post_id":77150446,"comment_id":136008790,"body_markdown":"When set `responseCount = 5` it didn&#39;t catch the required Response. Then tried to set count to 50. It still runs, more than 15 minutes... Is there some better way to make the things be done? Again, the initial code doesn&#39;t use any delay, prints all the responses in 2-3 seconds....","body":"When set <code>responseCount = 5</code> it didn&#39;t catch the required Response. Then tried to set count to 50. It still runs, more than 15 minutes... Is there some better way to make the things be done? Again, the initial code doesn&#39;t use any delay, prints all the responses in 2-3 seconds...."},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1695304165,"post_id":77150446,"comment_id":136008836,"body_markdown":"Just to iterate for each response initially caught by the listener. The listener is smart enough.","body":"Just to iterate for each response initially caught by the listener. The listener is smart enough."},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1695304221,"post_id":77150446,"comment_id":136008845,"body_markdown":"Again, I really very appreciate your help. But it still not working...","body":"Again, I really very appreciate your help. But it still not working..."},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1695304353,"post_id":77150446,"comment_id":136008871,"body_markdown":"If you just want to wait for that specific URL. Just set the latch count 1 and only call `latch.countdown()` when you find the URL you want. Then the main thread would continue as soon as the first matching response is found","body":"If you just want to wait for that specific URL. Just set the latch count 1 and only call <code>latch.countdown()</code> when you find the URL you want. Then the main thread would continue as soon as the first matching response is found"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1695304446,"post_id":77150446,"comment_id":136008888,"body_markdown":"But how can I use `if` inside there? I&#39;m sorry, I&#39;m not familiar with lambda as you can see...","body":"But how can I use <code>if</code> inside there? I&#39;m sorry, I&#39;m not familiar with lambda as you can see..."},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1695304882,"post_id":77150446,"comment_id":136008980,"body_markdown":"I&#39;ve updated again","body":"I&#39;ve updated again"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1695305279,"post_id":77150446,"comment_id":136009063,"body_markdown":"You are right! But I already found similar, but alternative way:  finally I&#39;m checking the `latch.getCount() ==0` and if yes `responseFound = true;`. \nThank you very, very much!","body":"You are right! But I already found similar, but alternative way:  finally I&#39;m checking the <code>latch.getCount() ==0</code> and if yes <code>responseFound = true;</code>.  Thank you very, very much!"}],"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":15,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695304714,"creation_date":1695300792,"answer_id":77150446,"question_id":77150352,"body_markdown":"The listener is likely receiving events on another thread. I&#39;m guessing you want to block the main thread whilst waiting for the response event. There&#39;s a few ways to do this, here&#39;s an example with a [CountDownLatch](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CountDownLatch.html)\r\n\r\n```java\r\nCountDownLatch latch = new CountDownLatch(1);\r\nList&lt;Response&gt; responses = new CopyOnWriteArrayList&lt;&gt;();\r\nAtomicBoolean urlFound = new AtomicBoolean(false);\r\n\r\ndevTools.addListener(Network.responseReceived(), entry -&gt; {\r\n   responses.add(entry.getResponse());\r\n   if (response.getUrl().contains(expectedUrl)) {\r\n      urlFound.set(true);\r\n      latch.countDown(); // decrement the count\r\n   }\r\n});\r\n\r\nlatch.await(10, TimeUnit.SECONDS); // waits until count is zero for max of 10 seconds\r\n\r\nif (urlFound.get()) {\r\n   // yay we found it\r\n} else {\r\n   for (Response response : responses) {\r\n      // report errors\r\n   }\r\n}\r\n```\r\n","title":"Perform value validation with lambda expression","body":"<p>The listener is likely receiving events on another thread. I'm guessing you want to block the main thread whilst waiting for the response event. There's a few ways to do this, here's an example with a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\">CountDownLatch</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>CountDownLatch latch = new CountDownLatch(1);\nList&lt;Response&gt; responses = new CopyOnWriteArrayList&lt;&gt;();\nAtomicBoolean urlFound = new AtomicBoolean(false);\n\ndevTools.addListener(Network.responseReceived(), entry -&gt; {\n   responses.add(entry.getResponse());\n   if (response.getUrl().contains(expectedUrl)) {\n      urlFound.set(true);\n      latch.countDown(); // decrement the count\n   }\n});\n\nlatch.await(10, TimeUnit.SECONDS); // waits until count is zero for max of 10 seconds\n\nif (urlFound.get()) {\n   // yay we found it\n} else {\n   for (Response response : responses) {\n      // report errors\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77150446,"answer_count":1,"score":0,"last_activity_date":1695304714,"creation_date":1695300172,"question_id":77150352,"body_markdown":"I need to perform validation that specific String is appearing in DevTools traffic (Selenium 4 / Java)  \r\nI saw several examples like this:  \r\n```\r\ndevTools.addListener(Network.responseReceived(), entry -&gt; {\r\n    System.out.println(&quot;Response (Req id) URL : (&quot; + entry.getRequestId() + &quot;) &quot;\r\n            + entry.getResponse().getUrl()\r\n            + &quot; (&quot; + entry.getResponse().getStatus() + &quot;)&quot;);\r\n});\r\n```\r\nThe code above works correctly, it prints out the traffic response value.  \r\nBut I need not just to print the values but to perform validation if some specific String is contained in one of the entries response URL.  \r\nI tried something like this:\r\n```\r\nboolean responseFound = false;\r\n\r\ndevTools.addListener(Network.responseReceived(), entry -&gt; {            \r\n            if (entry.getResponse().getUrl().contains(expectedUrl)){\r\n                responseFound = true;\r\n            }            \r\n});\r\n```\r\nHowever Java considered this as illegal since \r\n&gt;Variable used in lambda expression should be final or effectively final\r\n\r\nSo I changed it to be\r\n```\r\nAtomicBoolean responseFound = new AtomicBoolean(false);\r\n\r\ndevTools.addListener(Network.responseReceived(), entry -&gt; {\r\n            if (entry.getResponse().getUrl().contains(expectedUrl)){\r\n               responseFound.set(true);\r\n           }\r\n});\r\n```\r\nHowever the code above doesn&#39;t work.  \r\nWhile debugging I see the flow never performs the `if` statement, it directly goes to the next line....  \r\nHow can I make it working correctly?","title":"Perform value validation with lambda expression","body":"<p>I need to perform validation that specific String is appearing in DevTools traffic (Selenium 4 / Java)<br />\nI saw several examples like this:</p>\n<pre><code>devTools.addListener(Network.responseReceived(), entry -&gt; {\n    System.out.println(&quot;Response (Req id) URL : (&quot; + entry.getRequestId() + &quot;) &quot;\n            + entry.getResponse().getUrl()\n            + &quot; (&quot; + entry.getResponse().getStatus() + &quot;)&quot;);\n});\n</code></pre>\n<p>The code above works correctly, it prints out the traffic response value.<br />\nBut I need not just to print the values but to perform validation if some specific String is contained in one of the entries response URL.<br />\nI tried something like this:</p>\n<pre><code>boolean responseFound = false;\n\ndevTools.addListener(Network.responseReceived(), entry -&gt; {            \n            if (entry.getResponse().getUrl().contains(expectedUrl)){\n                responseFound = true;\n            }            \n});\n</code></pre>\n<p>However Java considered this as illegal since</p>\n<blockquote>\n<p>Variable used in lambda expression should be final or effectively final</p>\n</blockquote>\n<p>So I changed it to be</p>\n<pre><code>AtomicBoolean responseFound = new AtomicBoolean(false);\n\ndevTools.addListener(Network.responseReceived(), entry -&gt; {\n            if (entry.getResponse().getUrl().contains(expectedUrl)){\n               responseFound.set(true);\n           }\n});\n</code></pre>\n<p>However the code above doesn't work.<br />\nWhile debugging I see the flow never performs the <code>if</code> statement, it directly goes to the next line....<br />\nHow can I make it working correctly?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":5,"creation_date":1695303109,"post_id":77150740,"comment_id":136008617,"body_markdown":"You need to add a hidden field for the `id` so it gets bound as well.","body":"You need to add a hidden field for the <code>id</code> so it gets bound as well."}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695304902,"post_id":77150956,"comment_id":136008986,"body_markdown":"OK, but that&#39;s confusing as the whole object is already in the form. If I have to do that for the ID field, why is it not necessary to do it for all the other fields too?","body":"OK, but that&#39;s confusing as the whole object is already in the form. If I have to do that for the ID field, why is it not necessary to do it for all the other fields too?"},{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1695313688,"post_id":77150956,"comment_id":136010951,"body_markdown":"You either have to bind all the fields, or use something like `@SessionAttributes` (so it automatically persists all your unbound fields).  If you aren&#39;t using `@SessionAttributes`, then yes you need to bind all your other fields too.","body":"You either have to bind all the fields, or use something like <code>@SessionAttributes</code> (so it automatically persists all your unbound fields).  If you aren&#39;t using <code>@SessionAttributes</code>, then yes you need to bind all your other fields too."},{"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"score":0,"creation_date":1695319906,"post_id":77150956,"comment_id":136012172,"body_markdown":"This is how Spring Framework&#39;s data binding and form handling work. It uses the names of the form fields to map data to the object properties. The &#39;id&#39; is a special field, as it&#39;s mostly primary key. There are other workarounds such as `@SessionAttributes`, as mentioned by @Metroids . With tht Spring will automatically manage the &quot;updateJob&quot; object&#39;s lifecycle in the session. Although this adds some overhead and may not be suitable for all scenarios, especially when dealing with large objects or scalability concerns. That&#39;s why I generally recommend what I suggested in my answer.","body":"This is how Spring Framework&#39;s data binding and form handling work. It uses the names of the form fields to map data to the object properties. The &#39;id&#39; is a special field, as it&#39;s mostly primary key. There are other workarounds such as <code>@SessionAttributes</code>, as mentioned by @Metroids . With tht Spring will automatically manage the &quot;updateJob&quot; object&#39;s lifecycle in the session. Although this adds some overhead and may not be suitable for all scenarios, especially when dealing with large objects or scalability concerns. That&#39;s why I generally recommend what I suggested in my answer."}],"tags":[],"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695304614,"creation_date":1695304614,"answer_id":77150956,"question_id":77150740,"body_markdown":"\r\n\r\nAs one of the comments already suggested, try adding a hidden field for ***id***, because it must be included in the form data before submitting. Spring is initializing a new Job object for the POST request, and since the ***id*** field is not set, it defaults to zero.\r\n\r\nIt should be simple like this:\r\n\r\n```\r\n&lt;form th:object=&quot;${updateJob}&quot; th:action=&quot;@{/savejob}&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot; class=&quot;form-horizontal&quot;&gt;\r\n    &lt;!-- ... other form fields ... --&gt;\r\n\r\n    &lt;!-- Hidden input for &#39;id&#39; --&gt;\r\n    &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot; /&gt;\r\n\r\n    &lt;!-- Submit button --&gt;\r\n    &lt;div class=&quot;input-group&quot;&gt;\r\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot; name=&quot;button&quot;&gt;Save&lt;/button&gt;\r\n    &lt;/div&gt;\r\n&lt;/form&gt;\r\n\r\n```","title":"Spring save() inserting instead of merging","body":"<p>As one of the comments already suggested, try adding a hidden field for <em><strong>id</strong></em>, because it must be included in the form data before submitting. Spring is initializing a new Job object for the POST request, and since the <em><strong>id</strong></em> field is not set, it defaults to zero.</p>\n<p>It should be simple like this:</p>\n<pre><code>&lt;form th:object=&quot;${updateJob}&quot; th:action=&quot;@{/savejob}&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot; class=&quot;form-horizontal&quot;&gt;\n    &lt;!-- ... other form fields ... --&gt;\n\n    &lt;!-- Hidden input for 'id' --&gt;\n    &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot; /&gt;\n\n    &lt;!-- Submit button --&gt;\n    &lt;div class=&quot;input-group&quot;&gt;\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot; name=&quot;button&quot;&gt;Save&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n\n</code></pre>\n"}],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695304614,"creation_date":1695302954,"question_id":77150740,"body_markdown":"I have searched similar topics and found it didn&#39;t help unfortunately.\r\n\r\nI start by providing a button to edit an arbitrary `Job`\r\n```\r\n&lt;td&gt;&lt;button class=&quot;btn btn-primary&quot; th:onclick=&quot;&#39;window.location.href = \\&#39;&#39; + @{/updateprep/{id}(id=${job.id})} + &#39;\\&#39;&#39;&quot;&gt;Edit&lt;/button&gt;&lt;/td&gt;\r\n```\r\n\r\n\r\nController handles that thus:\r\n\r\n```\r\n    // show update form\r\n    @RequestMapping(value = &quot;/updateprep/{id}&quot;, method = RequestMethod.GET)\r\n    public String showUpdateUserForm(@PathVariable(&quot;id&quot;) Long id, Model model) {\r\n        Job jobToUpdate = repository.findById(id).orElseThrow();\r\n        model.addAttribute(&quot;updateJob&quot;, jobToUpdate);\r\n        if (log.isDebugEnabled()) {\r\n            log.debug(&quot;/updateprep: would edit job with ID {}&quot;, id);\r\n            log.debug(&quot;/updateprep: Job is {}&quot;, jobToUpdate);\r\n        }\r\n\r\n        return &quot;updatejob&quot;;\r\n\r\n    }\r\n```\r\nThis provides the form to update the `Job`, which *should* have the correct `Job`, found by its id. Inspecting my log debug in the controller above shows that the correct one was found.\r\n\r\n```\r\n            &lt;h3&gt;Update Job&lt;/h3&gt;\r\n            &lt;form th:object=&quot;${updateJob}&quot; th:action=&quot;@{/savejob}&quot; method=&quot;post&quot; enctype=\r\n                                                        &quot;multipart/form-data&quot; class=&quot;form-horizontal&quot;&gt;\r\n                &lt;fieldset&gt;\r\n\r\n                    &lt;div class=&quot;form-group col-lg-3&quot;&gt;\r\n                        &lt;label for=&quot;picker&quot; class=&quot;control-label&quot;&gt;Date&lt;/label&gt;\r\n                        &lt;div class=&quot;input-group date&quot; id=&quot;picker&quot;&gt;\r\n                            &lt;input type=&quot;text&quot; th:value=&quot;${updateJob.date}&quot; name=&quot;date&quot; placeholder=\r\n                                                 &quot;YYYY-MM-DD&quot; class=&quot;form-control&quot; style=&quot;background: transparent&quot; /&gt;\r\n                            &lt;span class=&quot;input-group-addon&quot;&gt;\r\n                                &lt;span class=&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/span&gt;\r\n                            &lt;/span&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;!-- Time part --&gt;\r\n                        &lt;label for=&quot;timepicker&quot; class=&quot;control-label&quot;&gt;Time&lt;/label&gt;\r\n                        &lt;div class=&#39;input-group date&#39; id=&#39;timepicker&#39;&gt;\r\n                            &lt;input type=&#39;text&#39; class=&quot;form-control&quot; /&gt;\r\n                            &lt;span class=&quot;input-group-addon&quot;&gt;\r\n                                &lt;span class=&quot;glyphicon glyphicon-time&quot;&gt;&lt;/span&gt;\r\n                            &lt;/span&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;!-- Place --&gt;\r\n                        &lt;div class=&quot;input-group&quot; id=&quot;place&quot;&gt;\r\n                            &lt;label for=&quot;place&quot; class=&quot;control-label&quot;&gt;Place&lt;/label&gt;\r\n                            &lt;input type=&#39;text&#39; th:field=&quot;*{place}&quot;  name=&quot;place&quot; class=&quot;form-control&quot; /&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;!-- Amount --&gt;\r\n                        &lt;div class=&quot;input-group&quot; id=&quot;amount&quot;&gt;\r\n                            &lt;label for=&quot;amount&quot; class=&quot;control-label&quot;&gt;Amount&lt;/label&gt;\r\n                            &lt;input type=&#39;text&#39; th:field=&quot;*{amount}&quot; name=&quot;amount&quot; placeholder=&quot;0.00&quot; class=&quot;form-control&quot; /&gt;\r\n                        &lt;/div&gt;\r\n\r\n                        &lt;!-- Billed --&gt;\r\n                        &lt;div class=&quot;form-check form-check-inline&quot;&gt;\r\n                            &lt;!--\r\n                            &lt;input type=&quot;checkbox&quot; class=&quot;form-control&quot; /&gt;\r\n                            --&gt;\r\n                            &lt;label for=&quot;billed&quot; class=&quot;form-check-label&quot;&gt;Billed&lt;/label&gt;\r\n                            &lt;input id=&quot;billed&quot; th:field=&quot;*{billed}&quot; type=&quot;checkbox&quot; name=&quot;billed&quot; class=&quot;form-check-input&quot; /&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;!-- Paid --&gt;\r\n                        &lt;div class=&quot;form-check form-check-inline&quot;&gt;\r\n                            &lt;label for=&quot;paid&quot; class=&quot;form-check-label&quot;&gt;Paid&lt;/label&gt;\r\n                            &lt;input id=&quot;paid&quot; th:field=&quot;*{paid}&quot; type=&quot;checkbox&quot; name=&quot;paid&quot; class=&quot;form-check-input&quot; /&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;!-- Notes --&gt;\r\n                        &lt;div class=&quot;input-group&quot;&gt;\r\n                            &lt;label for=&quot;notes&quot; class=&quot;control-label&quot;&gt;Notes&lt;/label&gt;\r\n                            &lt;!--\r\n                            &lt;textarea class=&quot;form-control&quot;rows=&quot;10&quot; value=&quot;${updateJob.notes}&quot; id=&quot;notes&quot; name=&quot;notes&quot;&gt;&lt;/textarea&gt;\r\n                            --&gt;\r\n                            &lt;textarea class=&quot;form-control&quot; th:field=&quot;*{notes}&quot; rows=&quot;10&quot; id=&quot;notes&quot; name=&quot;notes&quot;&gt;&lt;/textarea&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;!-- Submit --&gt;\r\n                        &lt;div class=&quot;input-group&quot;&gt;\r\n                            &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot; name=&quot;button&quot;&gt;Save&lt;/button&gt;\r\n                        &lt;/div&gt;\r\n\r\n                    &lt;/div&gt;&lt;!-- end form-group --&gt;\r\n                &lt;/fieldset&gt;\r\n            &lt;/form&gt;\r\n```\r\n\r\nThis is the uncomplicated routine for saving, but it&#39;s at this point that the ID becomes zero and the result is that the correct `Job` is *not* updated, but a totally new row is inserted into the database table:\r\n\r\n```\r\n    @RequestMapping(value = &quot;/savejob&quot;, method = RequestMethod.POST)\r\n    // public String saveJob(@RequestParam Job updateJob) {\r\n    public String saveJob(@ModelAttribute(&quot;updateJob&quot;) Job updateJob) {\r\n        if(log.isDebugEnabled()) {\r\n            log.debug(&quot;/savejob: saving Job with id {} and date {}&quot;, updateJob.getId(), updateJob.getDate());\r\n        }\r\n        repository.save(updateJob);\r\n        return &quot;controlpanel&quot;;\r\n    }\r\n```\r\nThe definition of `Job` includes:\r\n```\r\n@Entity\r\npublic class Job {\r\n    @Id\r\n    // @GeneratedValue(strategy=GenerationType.SEQUENCE)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    // @GeneratedValue(strategy=GenerationType.AUTO)\r\n    private long id;\r\n    @Column(name = &quot;Date&quot;, nullable = false, columnDefinition = &quot;DATE&quot;)\r\n    private LocalDate date;\r\n    private String place;\r\n    private double amount;\r\n    @Column(name = &quot;Billed&quot;, nullable = false, columnDefinition = &quot;TINYINT(1)&quot;)\r\n    private boolean billed;\r\n    @Column(name = &quot;Paid&quot;, nullable = false, columnDefinition = &quot;TINYINT(1)&quot;)\r\n    private boolean paid;\r\n    private String notes;\r\n```\r\n\r\nWhat is going wrong?\r\n","title":"Spring save() inserting instead of merging","body":"<p>I have searched similar topics and found it didn't help unfortunately.</p>\n<p>I start by providing a button to edit an arbitrary <code>Job</code></p>\n<pre><code>&lt;td&gt;&lt;button class=&quot;btn btn-primary&quot; th:onclick=&quot;'window.location.href = \\'' + @{/updateprep/{id}(id=${job.id})} + '\\''&quot;&gt;Edit&lt;/button&gt;&lt;/td&gt;\n</code></pre>\n<p>Controller handles that thus:</p>\n<pre><code>    // show update form\n    @RequestMapping(value = &quot;/updateprep/{id}&quot;, method = RequestMethod.GET)\n    public String showUpdateUserForm(@PathVariable(&quot;id&quot;) Long id, Model model) {\n        Job jobToUpdate = repository.findById(id).orElseThrow();\n        model.addAttribute(&quot;updateJob&quot;, jobToUpdate);\n        if (log.isDebugEnabled()) {\n            log.debug(&quot;/updateprep: would edit job with ID {}&quot;, id);\n            log.debug(&quot;/updateprep: Job is {}&quot;, jobToUpdate);\n        }\n\n        return &quot;updatejob&quot;;\n\n    }\n</code></pre>\n<p>This provides the form to update the <code>Job</code>, which <em>should</em> have the correct <code>Job</code>, found by its id. Inspecting my log debug in the controller above shows that the correct one was found.</p>\n<pre><code>            &lt;h3&gt;Update Job&lt;/h3&gt;\n            &lt;form th:object=&quot;${updateJob}&quot; th:action=&quot;@{/savejob}&quot; method=&quot;post&quot; enctype=\n                                                        &quot;multipart/form-data&quot; class=&quot;form-horizontal&quot;&gt;\n                &lt;fieldset&gt;\n\n                    &lt;div class=&quot;form-group col-lg-3&quot;&gt;\n                        &lt;label for=&quot;picker&quot; class=&quot;control-label&quot;&gt;Date&lt;/label&gt;\n                        &lt;div class=&quot;input-group date&quot; id=&quot;picker&quot;&gt;\n                            &lt;input type=&quot;text&quot; th:value=&quot;${updateJob.date}&quot; name=&quot;date&quot; placeholder=\n                                                 &quot;YYYY-MM-DD&quot; class=&quot;form-control&quot; style=&quot;background: transparent&quot; /&gt;\n                            &lt;span class=&quot;input-group-addon&quot;&gt;\n                                &lt;span class=&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/span&gt;\n                            &lt;/span&gt;\n                        &lt;/div&gt;\n                        &lt;!-- Time part --&gt;\n                        &lt;label for=&quot;timepicker&quot; class=&quot;control-label&quot;&gt;Time&lt;/label&gt;\n                        &lt;div class='input-group date' id='timepicker'&gt;\n                            &lt;input type='text' class=&quot;form-control&quot; /&gt;\n                            &lt;span class=&quot;input-group-addon&quot;&gt;\n                                &lt;span class=&quot;glyphicon glyphicon-time&quot;&gt;&lt;/span&gt;\n                            &lt;/span&gt;\n                        &lt;/div&gt;\n                        &lt;!-- Place --&gt;\n                        &lt;div class=&quot;input-group&quot; id=&quot;place&quot;&gt;\n                            &lt;label for=&quot;place&quot; class=&quot;control-label&quot;&gt;Place&lt;/label&gt;\n                            &lt;input type='text' th:field=&quot;*{place}&quot;  name=&quot;place&quot; class=&quot;form-control&quot; /&gt;\n                        &lt;/div&gt;\n                        &lt;!-- Amount --&gt;\n                        &lt;div class=&quot;input-group&quot; id=&quot;amount&quot;&gt;\n                            &lt;label for=&quot;amount&quot; class=&quot;control-label&quot;&gt;Amount&lt;/label&gt;\n                            &lt;input type='text' th:field=&quot;*{amount}&quot; name=&quot;amount&quot; placeholder=&quot;0.00&quot; class=&quot;form-control&quot; /&gt;\n                        &lt;/div&gt;\n\n                        &lt;!-- Billed --&gt;\n                        &lt;div class=&quot;form-check form-check-inline&quot;&gt;\n                            &lt;!--\n                            &lt;input type=&quot;checkbox&quot; class=&quot;form-control&quot; /&gt;\n                            --&gt;\n                            &lt;label for=&quot;billed&quot; class=&quot;form-check-label&quot;&gt;Billed&lt;/label&gt;\n                            &lt;input id=&quot;billed&quot; th:field=&quot;*{billed}&quot; type=&quot;checkbox&quot; name=&quot;billed&quot; class=&quot;form-check-input&quot; /&gt;\n                        &lt;/div&gt;\n                        &lt;!-- Paid --&gt;\n                        &lt;div class=&quot;form-check form-check-inline&quot;&gt;\n                            &lt;label for=&quot;paid&quot; class=&quot;form-check-label&quot;&gt;Paid&lt;/label&gt;\n                            &lt;input id=&quot;paid&quot; th:field=&quot;*{paid}&quot; type=&quot;checkbox&quot; name=&quot;paid&quot; class=&quot;form-check-input&quot; /&gt;\n                        &lt;/div&gt;\n                        &lt;!-- Notes --&gt;\n                        &lt;div class=&quot;input-group&quot;&gt;\n                            &lt;label for=&quot;notes&quot; class=&quot;control-label&quot;&gt;Notes&lt;/label&gt;\n                            &lt;!--\n                            &lt;textarea class=&quot;form-control&quot;rows=&quot;10&quot; value=&quot;${updateJob.notes}&quot; id=&quot;notes&quot; name=&quot;notes&quot;&gt;&lt;/textarea&gt;\n                            --&gt;\n                            &lt;textarea class=&quot;form-control&quot; th:field=&quot;*{notes}&quot; rows=&quot;10&quot; id=&quot;notes&quot; name=&quot;notes&quot;&gt;&lt;/textarea&gt;\n                        &lt;/div&gt;\n                        &lt;!-- Submit --&gt;\n                        &lt;div class=&quot;input-group&quot;&gt;\n                            &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot; name=&quot;button&quot;&gt;Save&lt;/button&gt;\n                        &lt;/div&gt;\n\n                    &lt;/div&gt;&lt;!-- end form-group --&gt;\n                &lt;/fieldset&gt;\n            &lt;/form&gt;\n</code></pre>\n<p>This is the uncomplicated routine for saving, but it's at this point that the ID becomes zero and the result is that the correct <code>Job</code> is <em>not</em> updated, but a totally new row is inserted into the database table:</p>\n<pre><code>    @RequestMapping(value = &quot;/savejob&quot;, method = RequestMethod.POST)\n    // public String saveJob(@RequestParam Job updateJob) {\n    public String saveJob(@ModelAttribute(&quot;updateJob&quot;) Job updateJob) {\n        if(log.isDebugEnabled()) {\n            log.debug(&quot;/savejob: saving Job with id {} and date {}&quot;, updateJob.getId(), updateJob.getDate());\n        }\n        repository.save(updateJob);\n        return &quot;controlpanel&quot;;\n    }\n</code></pre>\n<p>The definition of <code>Job</code> includes:</p>\n<pre><code>@Entity\npublic class Job {\n    @Id\n    // @GeneratedValue(strategy=GenerationType.SEQUENCE)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    // @GeneratedValue(strategy=GenerationType.AUTO)\n    private long id;\n    @Column(name = &quot;Date&quot;, nullable = false, columnDefinition = &quot;DATE&quot;)\n    private LocalDate date;\n    private String place;\n    private double amount;\n    @Column(name = &quot;Billed&quot;, nullable = false, columnDefinition = &quot;TINYINT(1)&quot;)\n    private boolean billed;\n    @Column(name = &quot;Paid&quot;, nullable = false, columnDefinition = &quot;TINYINT(1)&quot;)\n    private boolean paid;\n    private String notes;\n</code></pre>\n<p>What is going wrong?</p>\n"},{"tags":["java","hibernate","jpa","hibernate-mapping","many-to-one"],"answers":[{"comments":[{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1695304637,"post_id":25718313,"comment_id":136008926,"body_markdown":"That&#39;s a terrific solution, hence the number of upvotes.","body":"That&#39;s a terrific solution, hence the number of upvotes."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":1,"down_vote_count":0,"up_vote_count":75,"is_accepted":true,"score":75,"last_activity_date":1695304516,"creation_date":1410156716,"answer_id":25718313,"question_id":25718229,"body_markdown":"The `@ManyToOne` associations are optional by default, so you don&#39;t need to set anything if you want them to be nullable.\r\n\r\nHowever, because you set the `optional=false` attribute, you made it mandatory.\r\n\r\nSo instead of:\r\n\r\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\r\n\r\nSet it like this:\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n\r\nThe [`optional`](https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/manytoone#optional()) is `true` by default.\r\n\r\nOn the other hand, the `@Column(nullable=true)` is to instruct the DDL generation tool to include a `NULL` SQL column type constraint.","title":"Can a @ManyToOne JPA relation be null?","body":"<p>The <code>@ManyToOne</code> associations are optional by default, so you don't need to set anything if you want them to be nullable.</p>\n<p>However, because you set the <code>optional=false</code> attribute, you made it mandatory.</p>\n<p>So instead of:</p>\n<pre><code>@ManyToOne(optional = false, fetch = FetchType.LAZY)\n</code></pre>\n<p>Set it like this:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n</code></pre>\n<p>The <a href=\"https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/manytoone#optional()\" rel=\"noreferrer\"><code>optional</code></a> is <code>true</code> by default.</p>\n<p>On the other hand, the <code>@Column(nullable=true)</code> is to instruct the DDL generation tool to include a <code>NULL</code> SQL column type constraint.</p>\n"},{"tags":[],"owner":{"account_id":2360664,"reputation":111,"user_id":2067390,"display_name":"Sarwar kamal"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1410157517,"creation_date":1410157517,"answer_id":25718464,"question_id":25718229,"body_markdown":"try this:\r\n\r\n    @JoinColumn(name = &quot;subType_id&quot;, nullable = true)","title":"Can a @ManyToOne JPA relation be null?","body":"<p>try this:</p>\n\n<pre><code>@JoinColumn(name = \"subType_id\", nullable = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1062565,"reputation":1464,"user_id":1063882,"accept_rate":60,"display_name":"Oleksandr_DJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542853497,"creation_date":1542853497,"answer_id":53423045,"question_id":25718229,"body_markdown":"Only this helped me:\r\n\r\n    public class TopUp {\r\n        @ManyToOne\r\n        @JoinColumn(columnDefinition=&quot;integer&quot;, name=&quot;subtype_id&quot;)\r\n        private SubType subType;\r\n    }\r\n\r\ncolumnDefinition is a solution!","title":"Can a @ManyToOne JPA relation be null?","body":"<p>Only this helped me:</p>\n\n<pre><code>public class TopUp {\n    @ManyToOne\n    @JoinColumn(columnDefinition=\"integer\", name=\"subtype_id\")\n    private SubType subType;\n}\n</code></pre>\n\n<p>columnDefinition is a solution!</p>\n"}],"owner":{"account_id":1657768,"reputation":1355,"user_id":1526810,"accept_rate":52,"display_name":"Narges"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62369,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":25718313,"answer_count":3,"score":33,"last_activity_date":1695304516,"creation_date":1410156165,"question_id":25718229,"body_markdown":"I have a table that has foreign key of another table (many to one relationship) but i want it to be nullable.\r\n\r\nSomething like this:\r\n\r\n    public class SubType() {\r\n\t\r\n        @Id\r\n\t    @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n\t    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\r\n        private String id;\r\n    \r\n    }\r\n    \r\n    public class TopUp {\r\n    \r\n        @Column(nullable = true)\r\n        @ManyToOne(optional = false, fetch = FetchType.LAZY)\r\n\t    private SubType subType;\r\n    \r\n    }\r\n\r\nBut `@Column(nullable = true)` throws the `NullPointerException` and  says subtype can not be null.\r\nIs there any way to get the ManyToOne accept null?","title":"Can a @ManyToOne JPA relation be null?","body":"<p>I have a table that has foreign key of another table (many to one relationship) but i want it to be nullable.</p>\n\n<p>Something like this:</p>\n\n<pre><code>public class SubType() {\n\n    @Id\n    @GeneratedValue(generator = \"system-uuid\")\n    @GenericGenerator(name = \"system-uuid\", strategy = \"uuid\")\n    private String id;\n\n}\n\npublic class TopUp {\n\n    @Column(nullable = true)\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\n    private SubType subType;\n\n}\n</code></pre>\n\n<p>But <code>@Column(nullable = true)</code> throws the <code>NullPointerException</code> and  says subtype can not be null.\nIs there any way to get the ManyToOne accept null?</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":171331,"reputation":310944,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1557984337,"creation_date":1557982101,"answer_id":56161022,"question_id":56161021,"body_markdown":"`-Xlint` is a compiler option, not a maven option or jvm option.\r\n\r\nOn the command line maven accepts `-Xlint` but it treats it as the `-X` maven option (&quot;debug&quot;) and ignores the rest. So it doesn&#39;t have the expected effect.\r\n\r\nIn the specific case of these two compiler options you can set Maven properties that result in the desired compiler options being set. Put these in your project&#39;s [`.mvn/maven.config`](https://stackoverflow.com/q/11568135/398670), `MAVEN_OPTS` env var, or on the command line:\r\n\r\n    -Dmaven.compiler.showWarnings=true\r\n    -Dmaven.compiler.showDeprecation=true\r\n\r\nSee [maven compiler plugin](https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html).\r\n\r\nYou can also use the `compilerArgs` property in your `pom.xml` or a Maven `settings.xml` user-defined profile. I don&#39;t see a way to set that List valued property as a system property. You can&#39;t use `compilerArgument` or `compilerArguments` either, they [don&#39;t have user properties](http://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#Parameter_Details).\r\n\r\nYou may also find it useful to control the compiler&#39;s logging level; for example, you can silence these warnings with:\r\n\r\n    -Dorg.slf4j.simpleLogger.log.org.apache.maven.plugin.compiler.CompilerMojo=warn\r\n\r\nNote that explicitly setting `-Dmaven.compiler.showWarnings=false` will *not* suppress the `-Xlint` messages. See https://stackoverflow.com/q/1554538/398670 . Maven doesn&#39;t appear to offer a way to set the relevant properties `-Xlint:-deprecated -Xlint:-unchecked` on the command line. You can&#39;t set them directly  `settings.xml` either because you can&#39;t set individual plugin properties. It has to be the `pom.xml`.","title":"How do I pass -Xlint:deprecation or -Xlint:unchecked to Maven?","body":"<p><code>-Xlint</code> is a compiler option, not a maven option or jvm option.</p>\n\n<p>On the command line maven accepts <code>-Xlint</code> but it treats it as the <code>-X</code> maven option (\"debug\") and ignores the rest. So it doesn't have the expected effect.</p>\n\n<p>In the specific case of these two compiler options you can set Maven properties that result in the desired compiler options being set. Put these in your project's <a href=\"https://stackoverflow.com/q/11568135/398670\"><code>.mvn/maven.config</code></a>, <code>MAVEN_OPTS</code> env var, or on the command line:</p>\n\n<pre><code>-Dmaven.compiler.showWarnings=true\n-Dmaven.compiler.showDeprecation=true\n</code></pre>\n\n<p>See <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html\" rel=\"noreferrer\">maven compiler plugin</a>.</p>\n\n<p>You can also use the <code>compilerArgs</code> property in your <code>pom.xml</code> or a Maven <code>settings.xml</code> user-defined profile. I don't see a way to set that List valued property as a system property. You can't use <code>compilerArgument</code> or <code>compilerArguments</code> either, they <a href=\"http://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#Parameter_Details\" rel=\"noreferrer\">don't have user properties</a>.</p>\n\n<p>You may also find it useful to control the compiler's logging level; for example, you can silence these warnings with:</p>\n\n<pre><code>-Dorg.slf4j.simpleLogger.log.org.apache.maven.plugin.compiler.CompilerMojo=warn\n</code></pre>\n\n<p>Note that explicitly setting <code>-Dmaven.compiler.showWarnings=false</code> will <em>not</em> suppress the <code>-Xlint</code> messages. See <a href=\"https://stackoverflow.com/q/1554538/398670\">How can I suppress javac warnings about deprecated api?</a> . Maven doesn't appear to offer a way to set the relevant properties <code>-Xlint:-deprecated -Xlint:-unchecked</code> on the command line. You can't set them directly  <code>settings.xml</code> either because you can't set individual plugin properties. It has to be the <code>pom.xml</code>.</p>\n"},{"tags":[],"owner":{"account_id":6500168,"reputation":930,"user_id":5116356,"accept_rate":100,"display_name":"luca.vercelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695304168,"creation_date":1695304168,"answer_id":77150898,"question_id":56161021,"body_markdown":"In my program, I added `-Dmaven.compiler.showWarnings=true -Dmaven.compiler.showDeprecation=true` and Maven still told me `Recompile with -Xlint:unchecked for details`.\r\n\r\nI am using Maven 3.9.0 and jdk 11.\r\n\r\nI solved adding required arguments in `pom.xml`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;compilerArgument&gt;-Xlint:unchecked&lt;/compilerArgument&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n","title":"How do I pass -Xlint:deprecation or -Xlint:unchecked to Maven?","body":"<p>In my program, I added <code>-Dmaven.compiler.showWarnings=true -Dmaven.compiler.showDeprecation=true</code> and Maven still told me <code>Recompile with -Xlint:unchecked for details</code>.</p>\n<p>I am using Maven 3.9.0 and jdk 11.</p>\n<p>I solved adding required arguments in <code>pom.xml</code>:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;compilerArgument&gt;-Xlint:unchecked&lt;/compilerArgument&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":171331,"reputation":310944,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5081,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1695304168,"creation_date":1557982101,"question_id":56161021,"body_markdown":"When I build my project I get errors like:\r\n\r\n```\r\n[INFO] SomeClass.java: Some input files use or override a deprecated API.\r\n[INFO] SomeClass.java: Recompile with -Xlint:deprecation for details.\r\n[INFO] SomeClass.java: Some input files use unchecked or unsafe operations.\r\n[INFO] SomeClass.java: Recompile with -Xlint:unchecked for details.\r\n```\r\n\r\nBut when I put `-Xlint:deprecation` or `-Xlint:unchecked` in my `MAVEN_OPTS` or `.mvn/maven.config` I get:\r\n\r\n    $ MAVEN_OPTS=&quot;-Xlint:unchecked &quot; mvn -B clean test \r\n    Unrecognized option: -Xlint:unchecked\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n\r\nWhat gives?","title":"How do I pass -Xlint:deprecation or -Xlint:unchecked to Maven?","body":"<p>When I build my project I get errors like:</p>\n\n<pre><code>[INFO] SomeClass.java: Some input files use or override a deprecated API.\n[INFO] SomeClass.java: Recompile with -Xlint:deprecation for details.\n[INFO] SomeClass.java: Some input files use unchecked or unsafe operations.\n[INFO] SomeClass.java: Recompile with -Xlint:unchecked for details.\n</code></pre>\n\n<p>But when I put <code>-Xlint:deprecation</code> or <code>-Xlint:unchecked</code> in my <code>MAVEN_OPTS</code> or <code>.mvn/maven.config</code> I get:</p>\n\n<pre><code>$ MAVEN_OPTS=\"-Xlint:unchecked \" mvn -B clean test \nUnrecognized option: -Xlint:unchecked\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n\n<p>What gives?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7637243,"reputation":571,"user_id":6645112,"display_name":"Daxesh V"},"score":0,"creation_date":1695274529,"post_id":77147180,"comment_id":136003007,"body_markdown":"Create BLE simulator and test \n\nhttps://play.google.com/store/apps/details?id=io.github.webbluetoothcg.bletestperipheral","body":"Create BLE simulator and test   <a href=\"https://play.google.com/store/apps/details?id=io.github.webbluetoothcg.bletestperipheral\" rel=\"nofollow noreferrer\">play.google.com/store/apps/&hellip;</a>"},{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":0,"creation_date":1695281962,"post_id":77147180,"comment_id":136004145,"body_markdown":"Which Bluetooth devices do you wan&#39;t to scan/discover?  *Bluetooth classic* or *Bluetooth low energy*","body":"Which Bluetooth devices do you wan&#39;t to scan/discover?  <i>Bluetooth classic</i> or <i>Bluetooth low energy</i>"},{"owner":{"account_id":29496908,"reputation":1,"user_id":22604735,"display_name":"lastminuter025"},"score":0,"creation_date":1695664039,"post_id":77147180,"comment_id":136051830,"body_markdown":"I want to discover BT low energy","body":"I want to discover BT low energy"}],"answers":[{"tags":[],"owner":{"account_id":25113732,"reputation":155,"user_id":18963042,"display_name":"Vishnu S Dharan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695304084,"creation_date":1695304084,"answer_id":77150888,"question_id":77147180,"body_markdown":"1. Try adding permission Bluetooth connect without location `&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; android:usesPermissionFlags=&quot;neverForLocation&quot; /&gt;`\r\n2. If you are trying to search for a beacon, then add Location permissions in Manifest and try turning ON Location.\r\n3. If you are scanning a BLE device you can use BluetoothLeScanner.startScan() method instead. ","title":"I am trying to develop an android app where I am scanning for nearby bluetooth devices. But when I run it, there are no results","body":"<ol>\n<li>Try adding permission Bluetooth connect without location <code>&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; android:usesPermissionFlags=&quot;neverForLocation&quot; /&gt;</code></li>\n<li>If you are trying to search for a beacon, then add Location permissions in Manifest and try turning ON Location.</li>\n<li>If you are scanning a BLE device you can use BluetoothLeScanner.startScan() method instead.</li>\n</ol>\n"}],"owner":{"account_id":29496908,"reputation":1,"user_id":22604735,"display_name":"lastminuter025"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695304084,"creation_date":1695270073,"question_id":77147180,"body_markdown":"I am developing an Android app in Java to scan for nearby Bluetooth devices. All permissions have been given, no errors in the code and yet when I run it, there are no results. The tutorials I followed seem to be old. Can anyone point out what can be done or show me some newer tutorial. Thanks in advance.\r\n\r\n\r\n```\r\npublic class ThirdActivity extends AppCompatActivity {\r\n\r\n    private BluetoothAdapter bluetoothAdapter;\r\n    private final int REQUEST_ENABLE_BT = 1;\r\n    private final int REQUEST_PERMISSION = 2;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.third_activity);\r\n\r\n        Button scanButton = findViewById(R.id.scanButton);\r\n\r\n        bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n\r\n        if (bluetoothAdapter == null) {\r\n            // Device does not support Bluetooth\r\n            Toast.makeText(this, &quot;Bluetooth is not available on this device.&quot;, Toast.LENGTH_SHORT).show();\r\n            finish();\r\n            return;\r\n        }\r\n\r\n        scanButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                checkBluetoothPermission();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void checkBluetoothPermission() {\r\n        // Check if BLUETOOTH and BLUETOOTH_CONNECT permissions are granted\r\n        int bluetoothPermission = ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH);\r\n        int bluetoothConnectPermission = ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT);\r\n\r\n        if (bluetoothPermission == PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                bluetoothConnectPermission == PackageManager.PERMISSION_GRANTED) {\r\n            // Permissions are granted, start scanning\r\n            startBluetoothScan();\r\n        }\r\n        else {\r\n            // Request permissions\r\n            ActivityCompat.requestPermissions(\r\n                    this,\r\n                    new String[]{Manifest.permission.BLUETOOTH, Manifest.permission.BLUETOOTH_CONNECT},\r\n                    REQUEST_PERMISSION\r\n            );\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults); // Call super\r\n\r\n        if (requestCode == REQUEST_PERMISSION) {\r\n            if (grantResults.length &gt; 0 &amp;&amp;\r\n                    grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                    grantResults[1] == PackageManager.PERMISSION_GRANTED) {\r\n                // Permissions granted\r\n                startBluetoothScan();\r\n            } else {\r\n                // Permission(s) denied\r\n                Toast.makeText(this, &quot;Permission(s) denied. Cannot scan for Bluetooth devices.&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n        int bluetoothPermission = ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH);\r\n        int bluetoothConnectPermission = ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT);\r\n        int bluetoothScanPermission = ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN);\r\n\r\n\r\n        if (bluetoothPermission == PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                bluetoothConnectPermission == PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                bluetoothScanPermission == PackageManager.PERMISSION_GRANTED) {\r\n            // Permissions are granted, start scanning\r\n            startBluetoothScan();\r\n        } else {\r\n            // Request permissions\r\n            ActivityCompat.requestPermissions(\r\n                    this,\r\n                    new String[]{\r\n                            Manifest.permission.BLUETOOTH,\r\n                            Manifest.permission.BLUETOOTH_CONNECT,\r\n                            Manifest.permission.BLUETOOTH_SCAN\r\n                    },\r\n                    REQUEST_PERMISSION\r\n            );\r\n        }\r\n\r\n    }\r\n\r\n\r\n    private void startBluetoothScan() {\r\n        // Ensure Bluetooth is enabled\r\n        if (!bluetoothAdapter.isEnabled()) {\r\n            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\r\n        }\r\n        else {\r\n            // Bluetooth is enabled, start scanning\r\n            doBluetoothDiscovery();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == REQUEST_ENABLE_BT) {\r\n            if (resultCode == Activity.RESULT_OK) {\r\n                // Bluetooth is enabled, start scan\r\n                doBluetoothDiscovery();\r\n            } else {\r\n                // User canceled enabling Bluetooth\r\n                Toast.makeText(this, &quot;Bluetooth must be enabled to scan for devices.&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void doBluetoothDiscovery() {\r\n        // Register a BroadcastReceiver to listen for discovered devices\r\n        IntentFilter filter = new IntentFilter(BluetoothDevice.ACTION_FOUND);\r\n        registerReceiver(receiver, filter);\r\n\r\n        // Start discovery\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling\r\n            //    ActivityCompat#requestPermissions\r\n            // here to request the missing permissions, and then overriding\r\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n            //                                          int[] grantResults)\r\n            // to handle the case where the user grants the permission. See the documentation\r\n            // for ActivityCompat#requestPermissions for more details.\r\n            return;\r\n        }\r\n        if (bluetoothAdapter.isDiscovering()) {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            bluetoothAdapter.cancelDiscovery();\r\n        }\r\n        bluetoothAdapter.startDiscovery();\r\n    }\r\n\r\n    private final BroadcastReceiver receiver = new BroadcastReceiver() {\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            if (BluetoothDevice.ACTION_FOUND.equals(action)) {\r\n                // Device found\r\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n                if (ActivityCompat.checkSelfPermission(ThirdActivity.this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                    // TODO: Consider calling\r\n                    //    ActivityCompat#requestPermissions\r\n                    // here to request the missing permissions, and then overriding\r\n                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                    //                                          int[] grantResults)\r\n                    // to handle the case where the user grants the permission. See the documentation\r\n                    // for ActivityCompat#requestPermissions for more details.\r\n                    return;\r\n                }\r\n                String deviceName = device.getName();\r\n                String deviceAddress = device.getAddress();\r\n                // Handle the discovered device, e.g., add it to a list or display it\r\n                System.out.println(deviceName+deviceAddress);\r\n                Toast.makeText(ThirdActivity.this, &quot;Found Bluetooth Device: &quot; + deviceName + &quot; (&quot; + deviceAddress + &quot;)&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    };\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        // Unregister the BroadcastReceiver when the activity is destroyed\r\n        unregisterReceiver(receiver);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI thought maybe it was a mistake with the way of displaying the results, so i replaced toast with a listview object. But that didn&#39;t help either.","title":"I am trying to develop an android app where I am scanning for nearby bluetooth devices. But when I run it, there are no results","body":"<p>I am developing an Android app in Java to scan for nearby Bluetooth devices. All permissions have been given, no errors in the code and yet when I run it, there are no results. The tutorials I followed seem to be old. Can anyone point out what can be done or show me some newer tutorial. Thanks in advance.</p>\n<pre><code>public class ThirdActivity extends AppCompatActivity {\n\n    private BluetoothAdapter bluetoothAdapter;\n    private final int REQUEST_ENABLE_BT = 1;\n    private final int REQUEST_PERMISSION = 2;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.third_activity);\n\n        Button scanButton = findViewById(R.id.scanButton);\n\n        bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n\n        if (bluetoothAdapter == null) {\n            // Device does not support Bluetooth\n            Toast.makeText(this, &quot;Bluetooth is not available on this device.&quot;, Toast.LENGTH_SHORT).show();\n            finish();\n            return;\n        }\n\n        scanButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                checkBluetoothPermission();\n            }\n        });\n    }\n\n    private void checkBluetoothPermission() {\n        // Check if BLUETOOTH and BLUETOOTH_CONNECT permissions are granted\n        int bluetoothPermission = ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH);\n        int bluetoothConnectPermission = ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT);\n\n        if (bluetoothPermission == PackageManager.PERMISSION_GRANTED &amp;&amp;\n                bluetoothConnectPermission == PackageManager.PERMISSION_GRANTED) {\n            // Permissions are granted, start scanning\n            startBluetoothScan();\n        }\n        else {\n            // Request permissions\n            ActivityCompat.requestPermissions(\n                    this,\n                    new String[]{Manifest.permission.BLUETOOTH, Manifest.permission.BLUETOOTH_CONNECT},\n                    REQUEST_PERMISSION\n            );\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults); // Call super\n\n        if (requestCode == REQUEST_PERMISSION) {\n            if (grantResults.length &gt; 0 &amp;&amp;\n                    grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp;\n                    grantResults[1] == PackageManager.PERMISSION_GRANTED) {\n                // Permissions granted\n                startBluetoothScan();\n            } else {\n                // Permission(s) denied\n                Toast.makeText(this, &quot;Permission(s) denied. Cannot scan for Bluetooth devices.&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n        int bluetoothPermission = ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH);\n        int bluetoothConnectPermission = ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT);\n        int bluetoothScanPermission = ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN);\n\n\n        if (bluetoothPermission == PackageManager.PERMISSION_GRANTED &amp;&amp;\n                bluetoothConnectPermission == PackageManager.PERMISSION_GRANTED &amp;&amp;\n                bluetoothScanPermission == PackageManager.PERMISSION_GRANTED) {\n            // Permissions are granted, start scanning\n            startBluetoothScan();\n        } else {\n            // Request permissions\n            ActivityCompat.requestPermissions(\n                    this,\n                    new String[]{\n                            Manifest.permission.BLUETOOTH,\n                            Manifest.permission.BLUETOOTH_CONNECT,\n                            Manifest.permission.BLUETOOTH_SCAN\n                    },\n                    REQUEST_PERMISSION\n            );\n        }\n\n    }\n\n\n    private void startBluetoothScan() {\n        // Ensure Bluetooth is enabled\n        if (!bluetoothAdapter.isEnabled()) {\n            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                // TODO: Consider calling\n                //    ActivityCompat#requestPermissions\n                // here to request the missing permissions, and then overriding\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                //                                          int[] grantResults)\n                // to handle the case where the user grants the permission. See the documentation\n                // for ActivityCompat#requestPermissions for more details.\n                return;\n            }\n            startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\n        }\n        else {\n            // Bluetooth is enabled, start scanning\n            doBluetoothDiscovery();\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == REQUEST_ENABLE_BT) {\n            if (resultCode == Activity.RESULT_OK) {\n                // Bluetooth is enabled, start scan\n                doBluetoothDiscovery();\n            } else {\n                // User canceled enabling Bluetooth\n                Toast.makeText(this, &quot;Bluetooth must be enabled to scan for devices.&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n    private void doBluetoothDiscovery() {\n        // Register a BroadcastReceiver to listen for discovered devices\n        IntentFilter filter = new IntentFilter(BluetoothDevice.ACTION_FOUND);\n        registerReceiver(receiver, filter);\n\n        // Start discovery\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n            return;\n        }\n        if (bluetoothAdapter.isDiscovering()) {\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\n                // TODO: Consider calling\n                //    ActivityCompat#requestPermissions\n                // here to request the missing permissions, and then overriding\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                //                                          int[] grantResults)\n                // to handle the case where the user grants the permission. See the documentation\n                // for ActivityCompat#requestPermissions for more details.\n                return;\n            }\n            bluetoothAdapter.cancelDiscovery();\n        }\n        bluetoothAdapter.startDiscovery();\n    }\n\n    private final BroadcastReceiver receiver = new BroadcastReceiver() {\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            if (BluetoothDevice.ACTION_FOUND.equals(action)) {\n                // Device found\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n                if (ActivityCompat.checkSelfPermission(ThirdActivity.this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                    // TODO: Consider calling\n                    //    ActivityCompat#requestPermissions\n                    // here to request the missing permissions, and then overriding\n                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                    //                                          int[] grantResults)\n                    // to handle the case where the user grants the permission. See the documentation\n                    // for ActivityCompat#requestPermissions for more details.\n                    return;\n                }\n                String deviceName = device.getName();\n                String deviceAddress = device.getAddress();\n                // Handle the discovered device, e.g., add it to a list or display it\n                System.out.println(deviceName+deviceAddress);\n                Toast.makeText(ThirdActivity.this, &quot;Found Bluetooth Device: &quot; + deviceName + &quot; (&quot; + deviceAddress + &quot;)&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    };\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        // Unregister the BroadcastReceiver when the activity is destroyed\n        unregisterReceiver(receiver);\n    }\n}\n</code></pre>\n<p>I thought maybe it was a mistake with the way of displaying the results, so i replaced toast with a listview object. But that didn't help either.</p>\n"},{"tags":["java","spring-boot","parallel-processing"],"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1486820593,"post_id":42176468,"comment_id":71516494,"body_markdown":"How do you perform parallel requests?","body":"How do you perform parallel requests?"},{"owner":{"account_id":1839892,"reputation":743,"user_id":1669515,"display_name":"algojava"},"score":0,"creation_date":1486820805,"post_id":42176468,"comment_id":71516567,"body_markdown":"how do you you test to call your HelloController endpoint ? By using your browser(open 2 tab) or unit-testing (use threading)?","body":"how do you you test to call your HelloController endpoint ? By using your browser(open 2 tab) or unit-testing (use threading)?"},{"owner":{"account_id":3274522,"reputation":242,"user_id":2757000,"accept_rate":60,"display_name":"gregfqt"},"score":1,"creation_date":1486820820,"post_id":42176468,"comment_id":71516573,"body_markdown":"&quot;Since I already learned that a @RestController will be instantiated as singleton, it is clear for me, that multiple requests (which are handled by the same method) will be processed sequentially.&quot; This assertion is false. In a servlet container, each request is processed in an different thread. Unless your controller method is synchronized, requests will be processed by your controller in parrallel","body":"&quot;Since I already learned that a @RestController will be instantiated as singleton, it is clear for me, that multiple requests (which are handled by the same method) will be processed sequentially.&quot; This assertion is false. In a servlet container, each request is processed in an different thread. Unless your controller method is synchronized, requests will be processed by your controller in parrallel"},{"owner":{"account_id":3274522,"reputation":242,"user_id":2757000,"accept_rate":60,"display_name":"gregfqt"},"score":0,"creation_date":1486820961,"post_id":42176468,"comment_id":71516631,"body_markdown":"Moreover, as your controller is a singleton, `@PostConstruct` and `@PreDestroy` should be called only once during your container lifecycle","body":"Moreover, as your controller is a singleton, <code>@PostConstruct</code> and <code>@PreDestroy</code> should be called only once during your container lifecycle"},{"owner":{"account_id":1839892,"reputation":743,"user_id":1669515,"display_name":"algojava"},"score":0,"creation_date":1486821136,"post_id":42176468,"comment_id":71516682,"body_markdown":"@gregfqt: he modify the Controller to use scope = &quot;request&quot;","body":"@gregfqt: he modify the Controller to use scope = &quot;request&quot;"},{"owner":{"account_id":3274522,"reputation":242,"user_id":2757000,"accept_rate":60,"display_name":"gregfqt"},"score":0,"creation_date":1486821326,"post_id":42176468,"comment_id":71516743,"body_markdown":"@algojava oh, I didn&#39;t read carefully !","body":"@algojava oh, I didn&#39;t read carefully !"}],"answers":[{"comments":[{"owner":{"account_id":64961,"reputation":3691,"user_id":191466,"accept_rate":83,"display_name":"philonous"},"score":0,"creation_date":1486827736,"post_id":42176607,"comment_id":71518754,"body_markdown":"Thanks for answering! :) I was testing this within two tabs of the same browser and starting one request right after the other (definitely within the 15 seconds time frame), so the requests have been done in parallel, I would assume, haven&#39;t they?! But I think you are right with pointing out that one of my assumptions was wrong ... thanks!","body":"Thanks for answering! :) I was testing this within two tabs of the same browser and starting one request right after the other (definitely within the 15 seconds time frame), so the requests have been done in parallel, I would assume, haven&#39;t they?! But I think you are right with pointing out that one of my assumptions was wrong ... thanks!"}],"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695303884,"creation_date":1486820934,"answer_id":42176607,"question_id":42176468,"body_markdown":"You wrote:\r\n\r\n&gt; Since I already learned that a @RestController will be instantiated as\r\n&gt; singleton, it is clear for me, that multiple requests (which are\r\n&gt; handled by the same method) will be processed sequentially.\r\n\r\n&quot;***...will be processed sequentially***&quot; - this is false statement. I even have no idea on what basis it was made. Until you make method synchronized (or will use other lock technics), it will be accessible by multiple threads simultaneously. \r\n\r\nIn second case you&#39;ve just configured it to create new instance for each request. I have only one idea explaining why do you receive sequential results in debugger: you perform this requests from browser sequentially as well.\r\n\r\nIf you want to test how multiply requests are perfectly handled even by 1st case, just open separate tabs in browser and start requests almost at the same time. ","title":"How to handle multiple requests in parallel with SpringBoot&#39;s @RestController?","body":"<p>You wrote:</p>\n<blockquote>\n<p>Since I already learned that a @RestController will be instantiated as\nsingleton, it is clear for me, that multiple requests (which are\nhandled by the same method) will be processed sequentially.</p>\n</blockquote>\n<p>&quot;<em><strong>...will be processed sequentially</strong></em>&quot; - this is false statement. I even have no idea on what basis it was made. Until you make method synchronized (or will use other lock technics), it will be accessible by multiple threads simultaneously.</p>\n<p>In second case you've just configured it to create new instance for each request. I have only one idea explaining why do you receive sequential results in debugger: you perform this requests from browser sequentially as well.</p>\n<p>If you want to test how multiply requests are perfectly handled even by 1st case, just open separate tabs in browser and start requests almost at the same time.</p>\n"},{"comments":[{"owner":{"account_id":64961,"reputation":3691,"user_id":191466,"accept_rate":83,"display_name":"philonous"},"score":0,"creation_date":1486827349,"post_id":42176610,"comment_id":71518622,"body_markdown":"First of all: Thanks for your answer! :) Well, I was making the two requests in two separate browser windows, the second one around two or three seconds after the first one. And I would expect that both requests are then handled within around 18 seconds – or is my assumption wrong here?","body":"First of all: Thanks for your answer! :) Well, I was making the two requests in two separate browser windows, the second one around two or three seconds after the first one. And I would expect that both requests are then handled within around 18 seconds – or is my assumption wrong here?"},{"owner":{"account_id":1680363,"reputation":7992,"user_id":1544715,"accept_rate":71,"display_name":"Magnus"},"score":0,"creation_date":1486877825,"post_id":42176610,"comment_id":71531594,"body_markdown":"Yeah so if your request sleeps for 15 seconds, and it takes you three seconds to go between each browser tab then the whole process should take 18 seconds.","body":"Yeah so if your request sleeps for 15 seconds, and it takes you three seconds to go between each browser tab then the whole process should take 18 seconds."}],"tags":[],"owner":{"account_id":1680363,"reputation":7992,"user_id":1544715,"accept_rate":71,"display_name":"Magnus"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1486820945,"creation_date":1486820945,"answer_id":42176610,"question_id":42176468,"body_markdown":"The controller being a singleton has nothing to do with whether it can be accessed concurrently.  \r\n\r\nYou really shouldn&#39;t need to use request based scoping unless you have some mutable field that cant be shared across threads, but implementing something like that is probably just bad design.  \r\n\r\nI imagine the reason you are seeing the two requests take 30 seconds is because you arent actually making concurrent requests, rather you are waiting for the first request to complete before starting the second.","title":"How to handle multiple requests in parallel with SpringBoot&#39;s @RestController?","body":"<p>The controller being a singleton has nothing to do with whether it can be accessed concurrently.  </p>\n\n<p>You really shouldn't need to use request based scoping unless you have some mutable field that cant be shared across threads, but implementing something like that is probably just bad design.  </p>\n\n<p>I imagine the reason you are seeing the two requests take 30 seconds is because you arent actually making concurrent requests, rather you are waiting for the first request to complete before starting the second.</p>\n"},{"tags":[],"owner":{"account_id":1839892,"reputation":743,"user_id":1669515,"display_name":"algojava"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1499775525,"creation_date":1486821081,"answer_id":42176640,"question_id":42176468,"body_markdown":"I am using Spring since 2009, I know that their Controller is Singleton.\r\nBut it doesn&#39;t mean they process your request sequentially(wait for one to finish, then execute the next one).\r\n\r\n\r\nThe example codes from Spring Boot website are able to handle parallel request. It will create singleton instance of `HelloController` but Spring is able to call `index()` multiple times at the same time(parallel).\r\n\r\n    @RestController\r\n    public class HelloController {\r\n    \r\n        @RequestMapping(&quot;/&quot;)\r\n        public String index() {\r\n            return &quot;Greetings from Spring Boot!&quot;;\r\n        }\r\n    \r\n    }","title":"How to handle multiple requests in parallel with SpringBoot&#39;s @RestController?","body":"<p>I am using Spring since 2009, I know that their Controller is Singleton.\nBut it doesn't mean they process your request sequentially(wait for one to finish, then execute the next one).</p>\n\n<p>The example codes from Spring Boot website are able to handle parallel request. It will create singleton instance of <code>HelloController</code> but Spring is able to call <code>index()</code> multiple times at the same time(parallel).</p>\n\n<pre><code>@RestController\npublic class HelloController {\n\n    @RequestMapping(\"/\")\n    public String index() {\n        return \"Greetings from Spring Boot!\";\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1637339831,"post_id":70037289,"comment_id":123808307,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70037289/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16026602,"reputation":1,"user_id":11566682,"display_name":"Mahmoud H.Mohamed"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637336320,"creation_date":1637335993,"answer_id":70037289,"question_id":42176468,"body_markdown":"Actually, The problem is not from your controller, the tomcat server create a thread for each request you send, the problem is from the browser itself if you send 2 requests to the same endpoint the browser stalls the second request until the first one get the response &quot;I don&#39;t know why or how to fix it&quot;, and you will find that the actual time server take is the time form sending  the request to getting the first byte of the response TTFB time [check this screenshot from browser Networking of the second request][1], you can use other browser or another device connected to your network to test sending 2 requests at the same time \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bHcM0.png","title":"How to handle multiple requests in parallel with SpringBoot&#39;s @RestController?","body":"<p>Actually, The problem is not from your controller, the tomcat server create a thread for each request you send, the problem is from the browser itself if you send 2 requests to the same endpoint the browser stalls the second request until the first one get the response &quot;I don't know why or how to fix it&quot;, and you will find that the actual time server take is the time form sending  the request to getting the first byte of the response TTFB time <a href=\"https://i.stack.imgur.com/bHcM0.png\" rel=\"nofollow noreferrer\">check this screenshot from browser Networking of the second request</a>, you can use other browser or another device connected to your network to test sending 2 requests at the same time</p>\n"}],"owner":{"account_id":64961,"reputation":3691,"user_id":191466,"accept_rate":83,"display_name":"philonous"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16461,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1695303884,"creation_date":1486820164,"question_id":42176468,"body_markdown":"I am relatively new to Spring Boot and started with the very simple example from their [getting started site](https://spring.io/guides/gs/spring-boot/), which is (on the controller side):  \r\n\r\n    @RestController\r\n    public class HelloController {\r\n\r\n        @RequestMapping(&quot;/&quot;)\r\n        public String index() {\r\n            return &quot;Greetings from Spring Boot!&quot;;\r\n        }\r\n\r\n    }\r\n\r\nWhat I want now, is that multiple (potentially long running) requests **of the same controller** can be served in **parallel**.\r\n\r\n&lt;del&gt;Since I already learned that a `@RestController` will be instantiated as singleton, it is clear for me, that multiple requests (which are handled by the same method) will be processed **sequentially**.&lt;/del&gt;\r\n**Update**: My bad: I thought it was related to the fact that the controller was a singleton. But true: Why should it not be able to run in parallel then?\r\n\r\nSo I changed the example from above as follows so that a new instance of the controller is created on every request and with some means of inspecting what&#39;s actually happening:\r\n\r\n    @RestController\r\n    @Scope(value = &quot;request&quot;)\r\n    public class HelloController {\r\n\r\n        private static AtomicInteger count = new AtomicInteger(0);\r\n\r\n        public HelloController() {\r\n            count.incrementAndGet();\r\n        }\r\n\r\n        @PostConstruct\r\n        public void init() {\r\n            System.out.println(&quot;start request &quot; + count);\r\n        }\r\n\r\n        @PreDestroy\r\n        public void onDestroy() {\r\n            System.out.println(&quot;end request &quot; + count);\r\n        }\r\n\r\n        @RequestMapping(&quot;/&quot;)\r\n        public String index() throws InterruptedException {\r\n            LocalDateTime now = LocalDateTime.now();\r\n            TimeUnit.SECONDS.sleep(15);\r\n            System.out.println(now);\r\n            return &quot;Greetings from Spring Boot! &quot; + now + &quot;  &quot; + count.get();\r\n        }\r\n\r\n    }\r\n\r\nNow I would expect to see that the requests are handled in parallel in about 15 seconds, but in fact I can only see that it is obviously processed sequentially and that it takes 30 seconds (on stdout):\r\n\r\n    start request 1\r\n    2017-02-11T14:19:47.429\r\n    end request 1\r\n    start request 2\r\n    2017-02-11T14:20:02.467\r\n    end request 2\r\n\r\nSo my question is: How can I achieve that such requests are processed in parallel since it is obviously not sufficient to create an instance for each request? \r\n\r\n----\r\nLittle remark: I already tried using the `@Asnync` annotation in combination with `@EnableAsync` for the application class, but this seems to be a &quot;fire and forget&quot; such that I cannot get a response to show on the client side.\r\n\r\nSeveral entries here on stackoverflow (eg. [this](https://stackoverflow.com/questions/38500627/rest-api-for-processing-parallel-http-get-requests) and [this](https://stackoverflow.com/questions/27681570/spring-parallel-execution-of-a-method)) were interesting, but did not answer my question either, neither did this tutorial about [asynchronous methods](https://spring.io/guides/gs/async-method/). \r\n\r\n----\r\n**Update**: Since several people pointed out that the issue may be related to the way I tested, I tried to run it with a different browser. Interestingly enough I experienced the same issues on Chrome as well as on Firefox. But when doing one request from each, it showed the expected behavior (serving the requests in parallel) – so I was fooled by the browers ... ","title":"How to handle multiple requests in parallel with SpringBoot&#39;s @RestController?","body":"<p>I am relatively new to Spring Boot and started with the very simple example from their <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">getting started site</a>, which is (on the controller side):  </p>\n\n<pre><code>@RestController\npublic class HelloController {\n\n    @RequestMapping(\"/\")\n    public String index() {\n        return \"Greetings from Spring Boot!\";\n    }\n\n}\n</code></pre>\n\n<p>What I want now, is that multiple (potentially long running) requests <strong>of the same controller</strong> can be served in <strong>parallel</strong>.</p>\n\n<p><del>Since I already learned that a <code>@RestController</code> will be instantiated as singleton, it is clear for me, that multiple requests (which are handled by the same method) will be processed <strong>sequentially</strong>.</del>\n<strong>Update</strong>: My bad: I thought it was related to the fact that the controller was a singleton. But true: Why should it not be able to run in parallel then?</p>\n\n<p>So I changed the example from above as follows so that a new instance of the controller is created on every request and with some means of inspecting what's actually happening:</p>\n\n<pre><code>@RestController\n@Scope(value = \"request\")\npublic class HelloController {\n\n    private static AtomicInteger count = new AtomicInteger(0);\n\n    public HelloController() {\n        count.incrementAndGet();\n    }\n\n    @PostConstruct\n    public void init() {\n        System.out.println(\"start request \" + count);\n    }\n\n    @PreDestroy\n    public void onDestroy() {\n        System.out.println(\"end request \" + count);\n    }\n\n    @RequestMapping(\"/\")\n    public String index() throws InterruptedException {\n        LocalDateTime now = LocalDateTime.now();\n        TimeUnit.SECONDS.sleep(15);\n        System.out.println(now);\n        return \"Greetings from Spring Boot! \" + now + \"  \" + count.get();\n    }\n\n}\n</code></pre>\n\n<p>Now I would expect to see that the requests are handled in parallel in about 15 seconds, but in fact I can only see that it is obviously processed sequentially and that it takes 30 seconds (on stdout):</p>\n\n<pre><code>start request 1\n2017-02-11T14:19:47.429\nend request 1\nstart request 2\n2017-02-11T14:20:02.467\nend request 2\n</code></pre>\n\n<p>So my question is: How can I achieve that such requests are processed in parallel since it is obviously not sufficient to create an instance for each request? </p>\n\n<hr>\n\n<p>Little remark: I already tried using the <code>@Asnync</code> annotation in combination with <code>@EnableAsync</code> for the application class, but this seems to be a \"fire and forget\" such that I cannot get a response to show on the client side.</p>\n\n<p>Several entries here on stackoverflow (eg. <a href=\"https://stackoverflow.com/questions/38500627/rest-api-for-processing-parallel-http-get-requests\">this</a> and <a href=\"https://stackoverflow.com/questions/27681570/spring-parallel-execution-of-a-method\">this</a>) were interesting, but did not answer my question either, neither did this tutorial about <a href=\"https://spring.io/guides/gs/async-method/\" rel=\"nofollow noreferrer\">asynchronous methods</a>. </p>\n\n<hr>\n\n<p><strong>Update</strong>: Since several people pointed out that the issue may be related to the way I tested, I tried to run it with a different browser. Interestingly enough I experienced the same issues on Chrome as well as on Firefox. But when doing one request from each, it showed the expected behavior (serving the requests in parallel) – so I was fooled by the browers ... </p>\n"},{"tags":["java","android","cryptography","key-pair"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1695302968,"post_id":77150700,"comment_id":136008583,"body_markdown":"I would open the key store in https://keystore-explorer.org which will identify the key store type (even if it is a JKS file it doesn&#39;t have to be a Java KeyStore File). And then I would recommend to explicitly set the KeyStore type instead of using `KeyStore.getDefaultType()`.","body":"I would open the key store in <a href=\"https://keystore-explorer.org\" rel=\"nofollow noreferrer\">keystore-explorer.org</a> which will identify the key store type (even if it is a JKS file it doesn&#39;t have to be a Java KeyStore File). And then I would recommend to explicitly set the KeyStore type instead of using <code>KeyStore.getDefaultType()</code>."},{"owner":{"account_id":1287196,"reputation":764,"user_id":1240052,"accept_rate":41,"display_name":"Hajitsu"},"score":0,"creation_date":1695303171,"post_id":77150700,"comment_id":136008635,"body_markdown":"@Robert I opened with the Keystore Explorer app. It showed that the algorithm is EC and 256. Where I can find the store type?","body":"@Robert I opened with the Keystore Explorer app. It showed that the algorithm is EC and 256. Where I can find the store type?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1695310383,"post_id":77150700,"comment_id":136010231,"body_markdown":"Have a look at the status bar at the bottom. It starts `KeyStore Type: ...`.","body":"Have a look at the status bar at the bottom. It starts <code>KeyStore Type: ...</code>."},{"owner":{"account_id":1287196,"reputation":764,"user_id":1240052,"accept_rate":41,"display_name":"Hajitsu"},"score":0,"creation_date":1695312863,"post_id":77150700,"comment_id":136010785,"body_markdown":"@Robert It says the key store type is JKS, I changed the code to `KeyStore.getInstance(&quot;JKS&quot;)` but the `java.security.KeyStoreException: JKS not found` fired.","body":"@Robert It says the key store type is JKS, I changed the code to <code>KeyStore.getInstance(&quot;JKS&quot;)</code> but the <code>java.security.KeyStoreException: JKS not found</code> fired."}],"owner":{"account_id":1287196,"reputation":764,"user_id":1240052,"accept_rate":41,"display_name":"Hajitsu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695303400,"creation_date":1695302637,"question_id":77150700,"body_markdown":"I have a `JKS` file in `/src/main/res/raw/ecc.jks`. The `EC` algorithm makes the `JKS` file with 256 lengths of key size. My issue is that I want to extract the private and public keys of the `JKS` file and return the new KeyPair. I used the below method but got `java.io.IOException: Wrong version of key store`.\r\n\r\n    public KeyPair easyLoadJKS(String alias, String pass) {\r\n    \ttry {\r\n    \t\tString keyStoreType = KeyStore.getDefaultType();\r\n    \t\tKeyStore keystore = KeyStore.getInstance(keyStoreType);\r\n    \t\tInputStream in = _context.getResources().openRawResource(R.raw.ecc);\r\n    \t\tkeystore.load(in, pass.toCharArray());\r\n    \t\tKey key = keystore.getKey(alias, pass.toCharArray());\r\n    \t\tif (!(key instanceof PrivateKey))\r\n    \t\t\treturn null;\r\n    \t\tCertificate cert = keystore.getCertificate(alias);\r\n    \t\tPublicKey publicKey = cert.getPublicKey();\r\n    \t\treturn new KeyPair(publicKey, (PrivateKey) key);\r\n    \t} catch (Throwable e) {\r\n    \t\tSystem.out.println(e.getMessage());\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n\r\n\r\nThe Keystore Explorer app show the below details:\r\n\r\n[![Algorithem][1]][1]\r\n\r\n[![Certificate Details][2]][2]\r\n\r\n[![Private key details][3]][3]\r\n\r\n[![public key details][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ppfy8.png\r\n  [2]: https://i.stack.imgur.com/Gg6aZ.png\r\n  [3]: https://i.stack.imgur.com/2KpAM.png\r\n  [4]: https://i.stack.imgur.com/65YLP.png","title":"Android extract private and public key from JKS in assets","body":"<p>I have a <code>JKS</code> file in <code>/src/main/res/raw/ecc.jks</code>. The <code>EC</code> algorithm makes the <code>JKS</code> file with 256 lengths of key size. My issue is that I want to extract the private and public keys of the <code>JKS</code> file and return the new KeyPair. I used the below method but got <code>java.io.IOException: Wrong version of key store</code>.</p>\n<pre><code>public KeyPair easyLoadJKS(String alias, String pass) {\n    try {\n        String keyStoreType = KeyStore.getDefaultType();\n        KeyStore keystore = KeyStore.getInstance(keyStoreType);\n        InputStream in = _context.getResources().openRawResource(R.raw.ecc);\n        keystore.load(in, pass.toCharArray());\n        Key key = keystore.getKey(alias, pass.toCharArray());\n        if (!(key instanceof PrivateKey))\n            return null;\n        Certificate cert = keystore.getCertificate(alias);\n        PublicKey publicKey = cert.getPublicKey();\n        return new KeyPair(publicKey, (PrivateKey) key);\n    } catch (Throwable e) {\n        System.out.println(e.getMessage());\n        return null;\n    }\n}\n</code></pre>\n<p>The Keystore Explorer app show the below details:</p>\n<p><a href=\"https://i.stack.imgur.com/Ppfy8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ppfy8.png\" alt=\"Algorithem\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Gg6aZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gg6aZ.png\" alt=\"Certificate Details\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/2KpAM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2KpAM.png\" alt=\"Private key details\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/65YLP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/65YLP.png\" alt=\"public key details\" /></a></p>\n"},{"tags":["java","arrays","file","file-io"],"comments":[{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":0,"creation_date":1299876087,"post_id":5278019,"comment_id":5947154,"body_markdown":"Take a look at this answer http://stackoverflow.com/questions/4717838/text-file-parsing-using-java-suggestions-needed-on-which-one-to-use/4717928#4717928 ... does this suffice ?","body":"Take a look at this answer <a href=\"http://stackoverflow.com/questions/4717838/text-file-parsing-using-java-suggestions-needed-on-which-one-to-use/4717928#4717928\" title=\"text file parsing using java suggestions needed on which one to use\">stackoverflow.com/questions/4717838/&hellip;</a> ... does this suffice ?"}],"answers":[{"comments":[{"owner":{"account_id":76990,"reputation":2547,"user_id":220040,"accept_rate":92,"display_name":"Fseee"},"score":0,"creation_date":1299877830,"post_id":5278070,"comment_id":5947584,"body_markdown":"That&#39;s exactly what I need!\n:)","body":"That&#39;s exactly what I need! :)"}],"tags":[],"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1299876835,"creation_date":1299876026,"answer_id":5278070,"question_id":5278019,"body_markdown":" 1. Wrap a [`BufferedReader`][1] around a `FileReader` so that you can easily read every line of the file;\r\n 2. Store the lines in a `List` (assuming you don&#39;t know how many lines you are going to read);\r\n 3. Convert the `List` to an array using `toArray`.\r\n\r\nSimple implementation:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n        BufferedReader reader = null;\r\n        try {\r\n            reader = new BufferedReader(new FileReader(&quot;file.txt&quot;));\r\n            String line = null;\r\n            while ((line = reader.readLine()) != null) {\r\n                lines.add(line);\r\n            }\r\n        } finally {\r\n            reader.close();\r\n        }\r\n        String[] array = lines.toArray();\r\n    }\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/BufferedReader.html\r\n","title":"Create an Array populating it by .txt elements","body":"<ol>\n<li>Wrap a <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/BufferedReader.html\" rel=\"nofollow\"><code>BufferedReader</code></a> around a <code>FileReader</code> so that you can easily read every line of the file;</li>\n<li>Store the lines in a <code>List</code> (assuming you don't know how many lines you are going to read);</li>\n<li>Convert the <code>List</code> to an array using <code>toArray</code>.</li>\n</ol>\n\n<p>Simple implementation:</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n    BufferedReader reader = null;\n    try {\n        reader = new BufferedReader(new FileReader(\"file.txt\"));\n        String line = null;\n        while ((line = reader.readLine()) != null) {\n            lines.add(line);\n        }\n    } finally {\n        reader.close();\n    }\n    String[] array = lines.toArray();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1299876040,"creation_date":1299876040,"answer_id":5278073,"question_id":5278019,"body_markdown":"This smells like homework. If it is you should re-read your notes, and tell us what you&#39;ve tried.\r\n\r\nPersonally, I would use a Scanner (from java.util).\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class Franky {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(new File(&quot;myfile.txt&quot;));\r\n            String[] items = new String[3]; // use ArrayList if you don&#39;t know how many\r\n            int i = 0;\r\n            while(sc.hasNextLine() &amp;&amp; i &lt; items.length) {\r\n                items[i] = sc.nextLine();\r\n                i++;\r\n            }\r\n        }\r\n    \r\n    }","title":"Create an Array populating it by .txt elements","body":"<p>This smells like homework. If it is you should re-read your notes, and tell us what you've tried.</p>\n\n<p>Personally, I would use a Scanner (from java.util).</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Franky {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(new File(\"myfile.txt\"));\n        String[] items = new String[3]; // use ArrayList if you don't know how many\n        int i = 0;\n        while(sc.hasNextLine() &amp;&amp; i &lt; items.length) {\n            items[i] = sc.nextLine();\n            i++;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4300596,"reputation":398,"user_id":3514386,"display_name":"AlexF"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695303327,"creation_date":1695303327,"answer_id":77150780,"question_id":5278019,"body_markdown":"This sums up to a single line in Java 7 as described in this [answer][1].\r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n\r\n    String[] myArray = Files.readAllLines(Paths.get(&quot;file.txt&quot;)).toArray(new String[0]);\r\n\r\n  [1]: https://stackoverflow.com/a/12857273/3514386","title":"Create an Array populating it by .txt elements","body":"<p>This sums up to a single line in Java 7 as described in this <a href=\"https://stackoverflow.com/a/12857273/3514386\">answer</a>.</p>\n<pre><code>import java.nio.file.Files;\nimport java.nio.file.Paths;\n\nString[] myArray = Files.readAllLines(Paths.get(&quot;file.txt&quot;)).toArray(new String[0]);\n</code></pre>\n"}],"owner":{"account_id":76990,"reputation":2547,"user_id":220040,"accept_rate":92,"display_name":"Fseee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14818,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":5278070,"answer_count":3,"score":4,"last_activity_date":1695303327,"creation_date":1299875717,"question_id":5278019,"body_markdown":"I want to create an array, populating it while reading elements from a .txt file formatted like so:\r\n\r\n    item1\r\n    item2\r\n    item3\r\n\r\n\r\nSo the final result has to be an array like this:\r\n\r\n    String[] myArray = {item1, item2, item3}\r\n\r\nThanks in advance.","title":"Create an Array populating it by .txt elements","body":"<p>I want to create an array, populating it while reading elements from a .txt file formatted like so:</p>\n\n<pre><code>item1\nitem2\nitem3\n</code></pre>\n\n<p>So the final result has to be an array like this:</p>\n\n<pre><code>String[] myArray = {item1, item2, item3}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","generics","lambda","compiler-errors"],"comments":[{"owner":{"account_id":14751077,"reputation":556,"user_id":10653163,"display_name":"Bal&#225;zs B&#246;rcs&#246;k"},"score":0,"creation_date":1695213071,"post_id":77142333,"comment_id":135993719,"body_markdown":"The question&#39;s underlying is already answered at https://stackoverflow.com/questions/2559527/non-static-variable-cannot-be-referenced-from-a-static-context","body":"The question&#39;s underlying is already answered at <a href=\"https://stackoverflow.com/questions/2559527/non-static-variable-cannot-be-referenced-from-a-static-context\" title=\"non static variable cannot be referenced from a static context\">stackoverflow.com/questions/2559527/&hellip;</a>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1695213110,"post_id":77142333,"comment_id":135993725,"body_markdown":"I just compiled your program.   I don&#39;t get that error message.  Not certain what @Data is doing but your class is missing a getter.  When I add the getter What I get is `The type Snippet2.Student does not define getName(Object) that is applicable here. The method get2(Function&lt;?,?&gt;) in the type Snippet2 is not applicable for the arguments (Student::getName)`","body":"I just compiled your program.   I don&#39;t get that error message.  Not certain what @Data is doing but your class is missing a getter.  When I add the getter What I get is <code>The type Snippet2.Student does not define getName(Object) that is applicable here. The method get2(Function&lt;?,?&gt;) in the type Snippet2 is not applicable for the arguments (Student::getName)</code>"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1695213174,"post_id":77142333,"comment_id":135993745,"body_markdown":"@WJS That annotation adds the getter.","body":"@WJS That annotation adds the getter."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695213213,"post_id":77142333,"comment_id":135993761,"body_markdown":"@StephenQu copy/pasting the exact code you wrote and compiling it: No errors. Hence, VTC: Not reproducible. Perhaps double check that you&#39;re compiling what you think you are compiling / that you have saved this file in your editor.","body":"@StephenQu copy/pasting the exact code you wrote and compiling it: No errors. Hence, VTC: Not reproducible. Perhaps double check that you&#39;re compiling what you think you are compiling / that you have saved this file in your editor."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1695213464,"post_id":77142333,"comment_id":135993822,"body_markdown":"@rzwitserloot Interesting you didn&#39;t get any compilation errors.  Something is awry.  I am using Eclipse.","body":"@rzwitserloot Interesting you didn&#39;t get any compilation errors.  Something is awry.  I am using Eclipse."},{"owner":{"account_id":23932137,"reputation":15,"user_id":17926482,"display_name":"Stephen Qu"},"score":0,"creation_date":1695213822,"post_id":77142333,"comment_id":135993916,"body_markdown":"@rzwitserloot I add error image above.  I am using idea","body":"@rzwitserloot I add error image above.  I am using idea"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695217156,"post_id":77142333,"comment_id":135994832,"body_markdown":"@WJS `@Data` is `lombok.Data`. `Function` is `java.util.function.Function`.","body":"@WJS <code>@Data</code> is <code>lombok.Data</code>. <code>Function</code> is <code>java.util.function.Function</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695302944,"post_id":77142333,"comment_id":136008577,"body_markdown":"What in the world.  How on earth is this a duplicate of a question about using non-static members in static methods?  Method references can be used anywhere.  Voting to reopen.","body":"What in the world.  How on earth is this a duplicate of a question about using non-static members in static methods?  Method references can be used anywhere.  Voting to reopen."}],"answers":[{"comments":[{"owner":{"account_id":23932137,"reputation":15,"user_id":17926482,"display_name":"Stephen Qu"},"score":0,"creation_date":1695265535,"post_id":77143775,"comment_id":136002225,"body_markdown":"Thank you for your answer. Your answer partially answers my confusion, but I still have some questions. Why get1 is ok? Why get2(fun) is ok？","body":"Thank you for your answer. Your answer partially answers my confusion, but I still have some questions. Why get1 is ok? Why get2(fun) is ok？"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695303078,"post_id":77143775,"comment_id":136008609,"body_markdown":"@StephenQu If you’re asking why get1 compiles in your code, it’s because that code is not asking the compiler to assume the presence of a getName method.  It will work for any type and any Function.","body":"@StephenQu If you’re asking why get1 compiles in your code, it’s because that code is not asking the compiler to assume the presence of a getName method.  It will work for any type and any Function."}],"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695222610,"creation_date":1695222610,"answer_id":77143775,"question_id":77142333,"body_markdown":"This is a tricky one.  It helps to recall that this:\r\n\r\n    Function&lt;?, ?&gt; fun\r\n\r\nis exactly the same as writing this:\r\n\r\n    Function&lt;? extends Object, ? extends Object&gt; fun\r\n\r\nWhen the compiler attempts to resolve a call to get2, such as `get2(Student::getName)`, it evaluates the generic parameters one by one.  First, it sees that the first parameter is `? extends Object`.  The compiler only knows that the first argument will be… Object or some subclass of Object.  (You, the human, know that it’s a Student instance, but the compiler doesn’t know that.)\r\n\r\nWith only that information at its disposal, the compiler is not able to assume that the argument has a getName method.\r\n\r\nI found this a little easier to understand by replacing `Student::getName` with a lambda:\r\n\r\n    get2(s -&gt; s.getName());\r\n\r\nThat also produces a compiler error, but the cause is more apparent:  `s` is only known to be Object or some subclass of Object, so how can the compiler assume it has a `getName()` method?\r\n\r\nBut if I tell the compiler exactly what type `s` is, it will compile:\r\n\r\n    get2((Student s) -&gt; s.getName());\r\n","title":"Java compile-error Non-static method cannot be referenced from a static context","body":"<p>This is a tricky one.  It helps to recall that this:</p>\n<pre><code>Function&lt;?, ?&gt; fun\n</code></pre>\n<p>is exactly the same as writing this:</p>\n<pre><code>Function&lt;? extends Object, ? extends Object&gt; fun\n</code></pre>\n<p>When the compiler attempts to resolve a call to get2, such as <code>get2(Student::getName)</code>, it evaluates the generic parameters one by one.  First, it sees that the first parameter is <code>? extends Object</code>.  The compiler only knows that the first argument will be… Object or some subclass of Object.  (You, the human, know that it’s a Student instance, but the compiler doesn’t know that.)</p>\n<p>With only that information at its disposal, the compiler is not able to assume that the argument has a getName method.</p>\n<p>I found this a little easier to understand by replacing <code>Student::getName</code> with a lambda:</p>\n<pre><code>get2(s -&gt; s.getName());\n</code></pre>\n<p>That also produces a compiler error, but the cause is more apparent:  <code>s</code> is only known to be Object or some subclass of Object, so how can the compiler assume it has a <code>getName()</code> method?</p>\n<p>But if I tell the compiler exactly what type <code>s</code> is, it will compile:</p>\n<pre><code>get2((Student s) -&gt; s.getName());\n</code></pre>\n"}],"owner":{"account_id":23932137,"reputation":15,"user_id":17926482,"display_name":"Stephen Qu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1695302950,"creation_date":1695212178,"question_id":77142333,"body_markdown":"My code:\r\n\r\n``` java\r\npublic static void main(String[] args) {\r\n    // ok\r\n    get1(Student::getName);\r\n    // error! why?\r\n    get2(Student::getName);\r\n}\r\n\r\n\r\npublic static &lt;T, R&gt; void get1(Function&lt;T, R&gt; fun) {\r\n    // ok! why?\r\n    get2(fun);\r\n}\r\n\r\npublic static void get2(Function&lt;?, ?&gt; fun) {\r\n\r\n}\r\n\r\n@Data\r\nclass Student {\r\n    private String name;\r\n}\r\n```\r\nError:\r\n[enter image description here][1]\r\n\r\nWhy get2 compile error and report &#39;Non-static method cannot be referenced from a static context&#39;, but get1 is ok?\r\n\r\nThis problem may be caused by generics.\r\n\r\nHope someone can answer my confusion.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CBVe6.png","title":"Java compile-error Non-static method cannot be referenced from a static context","body":"<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // ok\n    get1(Student::getName);\n    // error! why?\n    get2(Student::getName);\n}\n\n\npublic static &lt;T, R&gt; void get1(Function&lt;T, R&gt; fun) {\n    // ok! why?\n    get2(fun);\n}\n\npublic static void get2(Function&lt;?, ?&gt; fun) {\n\n}\n\n@Data\nclass Student {\n    private String name;\n}\n</code></pre>\n<p>Error:\n<a href=\"https://i.stack.imgur.com/CBVe6.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Why get2 compile error and report 'Non-static method cannot be referenced from a static context', but get1 is ok?</p>\n<p>This problem may be caused by generics.</p>\n<p>Hope someone can answer my confusion.</p>\n"},{"tags":["java","amazon-web-services","email","amazon-s3","amazon-ses"],"answers":[{"comments":[{"owner":{"account_id":16310517,"reputation":11,"user_id":11779280,"display_name":"24Circles"},"score":0,"creation_date":1613135308,"post_id":66170093,"comment_id":116989455,"body_markdown":"i&#39;m able to send email, but the issue is that attachment images are corrupt upon receiving the email","body":"i&#39;m able to send email, but the issue is that attachment images are corrupt upon receiving the email"},{"owner":{"account_id":2591791,"reputation":8731,"user_id":2246345,"display_name":"samtoddler"},"score":0,"creation_date":1613135352,"post_id":66170093,"comment_id":116989473,"body_markdown":"@24Circles it might be because of the missing `MIME-encodeding`","body":"@24Circles it might be because of the missing <code>MIME-encodeding</code>"},{"owner":{"account_id":16310517,"reputation":11,"user_id":11779280,"display_name":"24Circles"},"score":0,"creation_date":1613281119,"post_id":66170093,"comment_id":117024626,"body_markdown":"can you please elaborate more on this as im new to this","body":"can you please elaborate more on this as im new to this"}],"tags":[],"owner":{"account_id":2591791,"reputation":8731,"user_id":2246345,"display_name":"samtoddler"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613125530,"creation_date":1613125530,"answer_id":66170093,"question_id":66169654,"body_markdown":"[Q: Can Amazon SES send emails with attachments?](https://aws.amazon.com/ses/faqs/)\r\n\r\n&gt;You can also send email with attachments programmatically. To include an attachment in your email, construct a new multipart email message. In the message, include a MIME part that contains an appropriate Content-Type header, along with the MIME-encoded content. Next, use the Content-Disposition header to specify whether the content is to be displayed inline or treated as an attachment.\r\n\r\nOnce you&#39;ve composed your message, you can use the `SendRawEmail API operation`to send \r\n\r\n[Sending raw email using the Amazon SES API](https://docs.aws.amazon.com/ses/latest/DeveloperGuide/send-email-raw.html)\r\n\r\nThis post covers how to forward emails with attachment in S3 [Forward Incoming Email to an External Destination](https://aws.amazon.com/blogs/messaging-and-targeting/forward-incoming-email-to-an-external-destination/)\r\n\r\nRelevant post with necessary code [How to convert raw emails (MIME) from AWS SES to Gmail?](https://stackoverflow.com/a/62363395/2246345)","title":"How to send SES raw emails with attachment files from S3 using java","body":"<p><a href=\"https://aws.amazon.com/ses/faqs/\" rel=\"nofollow noreferrer\">Q: Can Amazon SES send emails with attachments?</a></p>\n<blockquote>\n<p>You can also send email with attachments programmatically. To include an attachment in your email, construct a new multipart email message. In the message, include a MIME part that contains an appropriate Content-Type header, along with the MIME-encoded content. Next, use the Content-Disposition header to specify whether the content is to be displayed inline or treated as an attachment.</p>\n</blockquote>\n<p>Once you've composed your message, you can use the <code>SendRawEmail API operation</code>to send</p>\n<p><a href=\"https://docs.aws.amazon.com/ses/latest/DeveloperGuide/send-email-raw.html\" rel=\"nofollow noreferrer\">Sending raw email using the Amazon SES API</a></p>\n<p>This post covers how to forward emails with attachment in S3 <a href=\"https://aws.amazon.com/blogs/messaging-and-targeting/forward-incoming-email-to-an-external-destination/\" rel=\"nofollow noreferrer\">Forward Incoming Email to an External Destination</a></p>\n<p>Relevant post with necessary code <a href=\"https://stackoverflow.com/a/62363395/2246345\">How to convert raw emails (MIME) from AWS SES to Gmail?</a></p>\n"},{"tags":[],"owner":{"account_id":8410789,"reputation":123,"user_id":6312790,"accept_rate":100,"display_name":"neil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656518220,"creation_date":1656518220,"answer_id":72804460,"question_id":66169654,"body_markdown":"Instead of getting the bytes from string, use byte array\r\n\r\n    MimeBodyPart att = new MimeBodyPart();\r\n    att.setFileName(attachment.getFileName());\r\n    S3Object s3Object = s3.getObject(emailServiceConfiguration.getAttachmentS3Bucket(), attachment.getPath());\r\n    byte[] byteArray = IOUtils.toByteArray(s3Object.getObjectContent());\r\n    DataSource source = new ByteArrayDataSource(byteArray,&quot;application/png&quot;);\r\n    att.setDataHandler(new DataHandler(source));\r\n    msg.addBodyPart(att);","title":"How to send SES raw emails with attachment files from S3 using java","body":"<p>Instead of getting the bytes from string, use byte array</p>\n<pre><code>MimeBodyPart att = new MimeBodyPart();\natt.setFileName(attachment.getFileName());\nS3Object s3Object = s3.getObject(emailServiceConfiguration.getAttachmentS3Bucket(), attachment.getPath());\nbyte[] byteArray = IOUtils.toByteArray(s3Object.getObjectContent());\nDataSource source = new ByteArrayDataSource(byteArray,&quot;application/png&quot;);\natt.setDataHandler(new DataHandler(source));\nmsg.addBodyPart(att);\n</code></pre>\n"}],"owner":{"account_id":16310517,"reputation":11,"user_id":11779280,"display_name":"24Circles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695302657,"creation_date":1613123672,"question_id":66169654,"body_markdown":"Im trying to send raw emails with images as attachments using java, the attachment files are present in S3, however, when receiving email the attachment images are corrupted. \r\nI tried reading file from my disk and it worked correctly but somehow not working for S3 files. Here&#39;s the code I&#39;m using.\r\n```\r\n                    MimeBodyPart att = new MimeBodyPart();\r\n                    att.setFileName(attachment.getFileName());\r\n                    String attContent = s3.getObjectAsString(emailServiceConfiguration.getAttachmentS3Bucket(), attachment.getPath());\r\n                    DataSource source = new ByteArrayDataSource(attContent.getBytes(),&quot;application/png&quot;);\r\n                    att.setDataHandler(new DataHandler(source));\r\n                    msg.addBodyPart(att);\r\n\r\n```\r\nPlease help, I&#39;m stuck here for quite some time.","title":"How to send SES raw emails with attachment files from S3 using java","body":"<p>Im trying to send raw emails with images as attachments using java, the attachment files are present in S3, however, when receiving email the attachment images are corrupted.\nI tried reading file from my disk and it worked correctly but somehow not working for S3 files. Here's the code I'm using.</p>\n<pre><code>                    MimeBodyPart att = new MimeBodyPart();\n                    att.setFileName(attachment.getFileName());\n                    String attContent = s3.getObjectAsString(emailServiceConfiguration.getAttachmentS3Bucket(), attachment.getPath());\n                    DataSource source = new ByteArrayDataSource(attContent.getBytes(),&quot;application/png&quot;);\n                    att.setDataHandler(new DataHandler(source));\n                    msg.addBodyPart(att);\n\n</code></pre>\n<p>Please help, I'm stuck here for quite some time.</p>\n"},{"tags":["java","gradle","build.gradle","java-11","java-17"],"owner":{"account_id":6559234,"reputation":1,"user_id":5070944,"display_name":"Phalguna Aramalla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695302288,"creation_date":1695302288,"question_id":77150649,"body_markdown":"This is regarding multi module gradle project and JDK version support.\r\n\r\nWe have a common module(Commons) where we have a custom plugin along with other utilities which used to keep restrictions on the sub projects i.e., Microservices.\r\n\r\nWe have many Microservices using this common custom plugin to impose restrictions on build properties and tasks of gradle.\r\n\r\n\r\nThis Commons gradle project previously used to run on JDK 11.\r\n\r\nThe previous config looks following way:\r\n\r\n\r\nCommons build.gradle\r\n\r\n```\r\n\r\n\r\nsourceCompatibility= JavaVersion.VERSION_11\r\n\r\n\r\n```\r\n\r\n\r\nplugin.gradle to build common plugin ( which is present inside subproject of Commons module)\r\n```\r\nallprojects {\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;java-library&#39;\r\n}\r\n\r\nsubprojects {\r\nsourceCompatibility= JavaVersion.VERSION_11\r\ntargetcompatibility = JavaVersion.VERSIOM_11\r\n\r\n}\r\n```\r\n \r\nMicroservice build.gradle\r\n```\r\napply plugin: &#39;com.commons.common-plugin&#39;\r\n\r\nallprojects{\r\n}\r\nbuildsript {\r\n\r\next{\r\n\r\n}\r\n\r\n}\r\n```\r\n\r\nNow we want the Commons module to be on JDK 17 and the plugin to build and apply java version on Microservices should be on JDK 11.\r\nI tried changing aroung in the above plugin.gradle for source and target comparability but end up facing same issue.\r\n\r\nThe issue i faced in Microservice during build was \r\n\r\n\r\n```\r\nCaused by org.gradle.internal.component. NoMatchingConfigurationSelectionException: No matching variant of com.commons\r\n\r\n- Variant &#39;apiElements&#39; capability com.commons declares as a library,packaged as a jar, and its dependencies declared externally\r\n  - Incompatible because this component declares a component for use during compile- time, compatible with Java17 and consumer needed a component for use during runtime, compatible with Java 11\r\n\r\n- Variant &#39;runtimeElements&#39;.... same error\r\n```\r\n\r\n\r\nIs there any possible way i could achieve this. If so can you suggest. \r\n\r\nThanks in advance.\r\n\r\nNow we want the Commons module to be on JDK 17 and the plugin to build and apply java version on Microservices should be on JDK 11. I tried changing aroung in the above plugin.gradle for source and target comparability but end up facing same issue.","title":"Gradle plugin - Different Java version for sub project","body":"<p>This is regarding multi module gradle project and JDK version support.</p>\n<p>We have a common module(Commons) where we have a custom plugin along with other utilities which used to keep restrictions on the sub projects i.e., Microservices.</p>\n<p>We have many Microservices using this common custom plugin to impose restrictions on build properties and tasks of gradle.</p>\n<p>This Commons gradle project previously used to run on JDK 11.</p>\n<p>The previous config looks following way:</p>\n<p>Commons build.gradle</p>\n<pre><code>\n\nsourceCompatibility= JavaVersion.VERSION_11\n\n\n</code></pre>\n<p>plugin.gradle to build common plugin ( which is present inside subproject of Commons module)</p>\n<pre><code>allprojects {\napply plugin: 'java'\napply plugin: 'java-library'\n}\n\nsubprojects {\nsourceCompatibility= JavaVersion.VERSION_11\ntargetcompatibility = JavaVersion.VERSIOM_11\n\n}\n</code></pre>\n<p>Microservice build.gradle</p>\n<pre><code>apply plugin: 'com.commons.common-plugin'\n\nallprojects{\n}\nbuildsript {\n\next{\n\n}\n\n}\n</code></pre>\n<p>Now we want the Commons module to be on JDK 17 and the plugin to build and apply java version on Microservices should be on JDK 11.\nI tried changing aroung in the above plugin.gradle for source and target comparability but end up facing same issue.</p>\n<p>The issue i faced in Microservice during build was</p>\n<pre><code>Caused by org.gradle.internal.component. NoMatchingConfigurationSelectionException: No matching variant of com.commons\n\n- Variant 'apiElements' capability com.commons declares as a library,packaged as a jar, and its dependencies declared externally\n  - Incompatible because this component declares a component for use during compile- time, compatible with Java17 and consumer needed a component for use during runtime, compatible with Java 11\n\n- Variant 'runtimeElements'.... same error\n</code></pre>\n<p>Is there any possible way i could achieve this. If so can you suggest.</p>\n<p>Thanks in advance.</p>\n<p>Now we want the Commons module to be on JDK 17 and the plugin to build and apply java version on Microservices should be on JDK 11. I tried changing aroung in the above plugin.gradle for source and target comparability but end up facing same issue.</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":3209227,"reputation":471,"user_id":2709542,"display_name":"Mathew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681399246,"creation_date":1681399246,"answer_id":76007192,"question_id":75976503,"body_markdown":"use Native Query,\r\n\r\n        package com.lazyaudio;\r\n\r\n        import org.springframework.data.domain.Pageable;\r\n        import org.springframework.data.domain.Sort;\r\n        import org.springframework.data.elasticsearch.client.elc.NativeQuery;\r\n        import org.springframework.data.elasticsearch.client.elc.QueryBuilders;\r\n        import org.springframework.data.elasticsearch.core.query.FetchSourceFilterBuilder;\r\n\r\n        public class Test {\r\n\r\n            public static void main(String[] args) {\r\n                Pageable pageable = null;\r\n                NativeQuery query = NativeQuery.builder()\r\n                        .withSourceFilter(new FetchSourceFilterBuilder().withIncludes().build())\r\n                        .withQuery(QueryBuilders.termQueryAsQuery(&quot;fieldName&quot;, &quot;&quot;))\r\n                        .withSort(Sort.by(Sort.Direction.DESC, &quot;fieldName&quot;))\r\n                        .withPageable(pageable)\r\n                        .build();\r\n\r\n            }\r\n        }\r\n\r\n","title":"NativeSearchQuery is deprecated what is the equivalent beyond 5.0","body":"<p>use Native Query,</p>\n<pre><code>    package com.lazyaudio;\n\n    import org.springframework.data.domain.Pageable;\n    import org.springframework.data.domain.Sort;\n    import org.springframework.data.elasticsearch.client.elc.NativeQuery;\n    import org.springframework.data.elasticsearch.client.elc.QueryBuilders;\n    import org.springframework.data.elasticsearch.core.query.FetchSourceFilterBuilder;\n\n    public class Test {\n\n        public static void main(String[] args) {\n            Pageable pageable = null;\n            NativeQuery query = NativeQuery.builder()\n                    .withSourceFilter(new FetchSourceFilterBuilder().withIncludes().build())\n                    .withQuery(QueryBuilders.termQueryAsQuery(&quot;fieldName&quot;, &quot;&quot;))\n                    .withSort(Sort.by(Sort.Direction.DESC, &quot;fieldName&quot;))\n                    .withPageable(pageable)\n                    .build();\n\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20929807,"reputation":161,"user_id":15376457,"display_name":"gcbox999"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695302064,"creation_date":1695302064,"answer_id":77150608,"question_id":75976503,"body_markdown":"I had the same issue, thank you. For my part, I also want to perform a groupBy on &#39;brand&#39; by aggregation.\r\n\r\nThe JSON query I&#39;m trying to formulate with NativeQuery looks like this:\r\n\r\n    {\r\n         &quot;size&quot;: 0,\r\n         &quot;aggs&quot;: {\r\n             &quot;distinct_brand&quot;: {\r\n                 &quot;terms&quot;: {\r\n                     &quot;field&quot;: &quot;brand&quot;,\r\n                     &quot;size&quot;: 10000,\r\n                     &quot;order&quot;: {\r\n                     &quot;_key&quot;: &quot;asc&quot;\r\n             }\r\n           }\r\n         }\r\n       }\r\n    }\r\n\r\nAnd my code is currently like this:\r\n\r\n     Query query = NativeQuery.builder()\r\n             .withQuery(q -&gt; q\r\n                     .matchAll(my -&gt; my))\r\n             .withSort(Sort.by(Sort.Direction.ASC, &quot;brand&quot;)).build();\r\n\r\nHow can I add the aggregation?","title":"NativeSearchQuery is deprecated what is the equivalent beyond 5.0","body":"<p>I had the same issue, thank you. For my part, I also want to perform a groupBy on 'brand' by aggregation.</p>\n<p>The JSON query I'm trying to formulate with NativeQuery looks like this:</p>\n<pre><code>{\n     &quot;size&quot;: 0,\n     &quot;aggs&quot;: {\n         &quot;distinct_brand&quot;: {\n             &quot;terms&quot;: {\n                 &quot;field&quot;: &quot;brand&quot;,\n                 &quot;size&quot;: 10000,\n                 &quot;order&quot;: {\n                 &quot;_key&quot;: &quot;asc&quot;\n         }\n       }\n     }\n   }\n}\n</code></pre>\n<p>And my code is currently like this:</p>\n<pre><code> Query query = NativeQuery.builder()\n         .withQuery(q -&gt; q\n                 .matchAll(my -&gt; my))\n         .withSort(Sort.by(Sort.Direction.ASC, &quot;brand&quot;)).build();\n</code></pre>\n<p>How can I add the aggregation?</p>\n"}],"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2322,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1695302064,"creation_date":1681124441,"question_id":75976503,"body_markdown":"What is the equivalent of org.springframework.data.elasticsearch.core.query.NativeSearchQuery for support beyond 5.0.\r\n\r\nMigrated the following snippet from\r\n\r\n        NativeSearchQuery query = new NativeSearchQueryBuilder()\r\n                .withSourceFilter(new FetchSourceFilterBuilder().withIncludes().build())\r\n                .withQuery(QueryBuilders.termQuery(Configuration.CONFIGURATION_TYPE, field))\r\n                .withSorts(new FieldSortBuilder(Configuration.NAME).order(SortOrder.ASC)).withPageable(pageable)\r\n                .build();\r\n\r\n\r\nto the following query, but it fails\r\n\r\n    import org.springframework.data.elasticsearch.client.elc.NativeQuery;\r\n    import org.springframework.data.elasticsearch.client.elc.NativeQueryBuilder;\r\n\r\n\r\n        NativeQuery query = new NativeQueryBuilder()\r\n                .withSourceFilter(new FetchSourceFilterBuilder().withIncludes().build())\r\n                .withQuery(QueryBuilders.termQuery(Configuration.CONFIGURATION_TYPE, field))\r\n                .withSorts(new FieldSortBuilder(Configuration.NAME).order(SortOrder.ASC)).withPageable(pageable)\r\n                .build();\r\n","title":"NativeSearchQuery is deprecated what is the equivalent beyond 5.0","body":"<p>What is the equivalent of org.springframework.data.elasticsearch.core.query.NativeSearchQuery for support beyond 5.0.</p>\n<p>Migrated the following snippet from</p>\n<pre><code>    NativeSearchQuery query = new NativeSearchQueryBuilder()\n            .withSourceFilter(new FetchSourceFilterBuilder().withIncludes().build())\n            .withQuery(QueryBuilders.termQuery(Configuration.CONFIGURATION_TYPE, field))\n            .withSorts(new FieldSortBuilder(Configuration.NAME).order(SortOrder.ASC)).withPageable(pageable)\n            .build();\n</code></pre>\n<p>to the following query, but it fails</p>\n<pre><code>import org.springframework.data.elasticsearch.client.elc.NativeQuery;\nimport org.springframework.data.elasticsearch.client.elc.NativeQueryBuilder;\n\n\n    NativeQuery query = new NativeQueryBuilder()\n            .withSourceFilter(new FetchSourceFilterBuilder().withIncludes().build())\n            .withQuery(QueryBuilders.termQuery(Configuration.CONFIGURATION_TYPE, field))\n            .withSorts(new FieldSortBuilder(Configuration.NAME).order(SortOrder.ASC)).withPageable(pageable)\n            .build();\n</code></pre>\n"},{"tags":["java","java-8","future"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1414404274,"post_id":26579139,"comment_id":41785657,"body_markdown":"You can’t “implement static methods”; that’s impossible. I doubt that you are “supposed to subclass `CompletableFuture`” at all. The hint you have cited only tells me, how hard subclassing would be as you have to override *all* overloads to ensure modified behavior. But of course, you can’t alter the behavior of `static` methods by subclassing. It would be pointless anyway; if the caller of a `static` method wants to use a subclass instead, the caller can simply call a method of the subclass instead. But Java code using the base class will never be affected by the mere existence of a subclass.","body":"You can’t “implement static methods”; that’s impossible. I doubt that you are “supposed to subclass <code>CompletableFuture</code>” at all. The hint you have cited only tells me, how hard subclassing would be as you have to override <i>all</i> overloads to ensure modified behavior. But of course, you can’t alter the behavior of <code>static</code> methods by subclassing. It would be pointless anyway; if the caller of a <code>static</code> method wants to use a subclass instead, the caller can simply call a method of the subclass instead. But Java code using the base class will never be affected by the mere existence of a subclass."},{"owner":{"account_id":43047,"reputation":12737,"user_id":125663,"accept_rate":100,"display_name":"Alice Purcell"},"score":0,"creation_date":1414424528,"post_id":26579139,"comment_id":41797454,"body_markdown":"The CompletableFuture docs *do* refer to subclasses.","body":"The CompletableFuture docs <i>do</i> refer to subclasses."},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1414429127,"post_id":26579139,"comment_id":41800246,"body_markdown":"@chrispy, updated question with use-case.","body":"@chrispy, updated question with use-case."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1414433982,"post_id":26579139,"comment_id":41803016,"body_markdown":"I think CompletableFuture is too unwieldy to be used directly in applications. Shameless plug, see my Async API for java8 - http://bayou.io/release/0.9/docs/async/Async_Programming.html","body":"I think CompletableFuture is too unwieldy to be used directly in applications. Shameless plug, see my Async API for java8 - <a href=\"http://bayou.io/release/0.9/docs/async/Async_Programming.html\" rel=\"nofollow noreferrer\">bayou.io/release/0.9/docs/async/Async_Programming.html</a>"},{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1414438775,"post_id":26579139,"comment_id":41805591,"body_markdown":"What is the point to call your functions this way? Since each stage waits for the result of the previous stage, all functions are executed serially, not in parallel. Just call f3(f1(f0))).","body":"What is the point to call your functions this way? Since each stage waits for the result of the previous stage, all functions are executed serially, not in parallel. Just call f3(f1(f0)))."},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1414439246,"post_id":26579139,"comment_id":41805804,"body_markdown":"@AlexeiKaigorodov, I am intentionally introducing a delay between each call. I am hitting a rate-limiting web service and need to respect its limits.","body":"@AlexeiKaigorodov, I am intentionally introducing a delay between each call. I am hitting a rate-limiting web service and need to respect its limits."},{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1414444093,"post_id":26579139,"comment_id":41808165,"body_markdown":"but I cannot see delays in your code. Do you make delays in your custom Executor?","body":"but I cannot see delays in your code. Do you make delays in your custom Executor?"},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1414445004,"post_id":26579139,"comment_id":41808569,"body_markdown":"@AlexeiKaigorodov, yes. My custom `Executor`delegates to `ScheduledExecutorService`, scheduling the task to run at some future time.","body":"@AlexeiKaigorodov, yes. My custom <code>Executor</code>delegates to <code>ScheduledExecutorService</code>, scheduling the task to run at some future time."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1414493133,"post_id":26579139,"comment_id":41825052,"body_markdown":"I still don’t get your question. If you want to create a subclass of `CompletableFuture` overriding `thenApplyAsync`, then just do it. Why do you bother with how the `static` method `supplyAsync` works internally?","body":"I still don’t get your question. If you want to create a subclass of <code>CompletableFuture</code> overriding <code>thenApplyAsync</code>, then just do it. Why do you bother with how the <code>static</code> method <code>supplyAsync</code> works internally?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1414494893,"post_id":26579139,"comment_id":41826048,"body_markdown":"@chrispy: so it’s just a typical “failed to show what he tried” thing, maybe a simple mistake in his source code?","body":"@chrispy: so it’s just a typical “failed to show what he tried” thing, maybe a simple mistake in his source code?"},{"owner":{"account_id":130073,"reputation":21988,"user_id":329063,"accept_rate":75,"display_name":"glts"},"score":4,"creation_date":1452970575,"post_id":26579139,"comment_id":57403306,"body_markdown":"Judging from the message [&#39;Candidate jdk9 CompletableFuture additions&#39;](http://cs.oswego.edu/pipermail/concurrency-interest/2015-January/013600.html) posted to the concurrency-interest mailing list, it seems that the authors of `CompletableFuture` agree that it should be easier to extend it. Looks like the proposed new methods `newIncompleteFuture` and `defaultExecutor` might help to resolve this question.","body":"Judging from the message <a href=\"http://cs.oswego.edu/pipermail/concurrency-interest/2015-January/013600.html\" rel=\"nofollow noreferrer\">&#39;Candidate jdk9 CompletableFuture additions&#39;</a> posted to the concurrency-interest mailing list, it seems that the authors of <code>CompletableFuture</code> agree that it should be easier to extend it. Looks like the proposed new methods <code>newIncompleteFuture</code> and <code>defaultExecutor</code> might help to resolve this question."}],"answers":[{"comments":[{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1414386611,"post_id":26581246,"comment_id":41779429,"body_markdown":"`internalComplete()` accesses private variable `CompletableFuture.RESULT`, so it&#39;s not enough to instantiate the equivalent of `AltResult`.","body":"<code>internalComplete()</code> accesses private variable <code>CompletableFuture.RESULT</code>, so it&#39;s not enough to instantiate the equivalent of <code>AltResult</code>."}],"tags":[],"owner":{"account_id":91915,"reputation":1401,"user_id":252155,"accept_rate":50,"display_name":"Amir Moghimi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414384501,"creation_date":1414384501,"answer_id":26581246,"question_id":26579139,"body_markdown":"As far as I can see, you need your own implementation of `internalComplete()` which instantiates your own equivalent of `AltResult` in case of null or exception. And your subclass `supplyAsync()` is supposed to return a new instance of your new `CompletableFuture` subclass.","title":"How to subclass CompletableFuture?","body":"<p>As far as I can see, you need your own implementation of <code>internalComplete()</code> which instantiates your own equivalent of <code>AltResult</code> in case of null or exception. And your subclass <code>supplyAsync()</code> is supposed to return a new instance of your new <code>CompletableFuture</code> subclass.</p>\n"},{"comments":[{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1414473041,"post_id":26601128,"comment_id":41816327,"body_markdown":"Sorry, but this does not actually answer my question. There are many async libraries out there, and while I&#39;m sure they are all great I am asking a specific question about `CompletableFuture`.","body":"Sorry, but this does not actually answer my question. There are many async libraries out there, and while I&#39;m sure they are all great I am asking a specific question about <code>CompletableFuture</code>."}],"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1414472520,"creation_date":1414472090,"answer_id":26601128,"question_id":26579139,"body_markdown":"Async programming is widely misunderstood. Theoretical approach is to represent async program as Petri net, where main components are tokens, places, and transitions. From programming point of view, transition should be split further into firing rule and action. Logical chain appears to be too long, programmers prefer oversimplified scheme &quot;event-reaction&quot;, which does not work in any complex cases. CompletableFuture  is even more restricted, with scheme &quot;action - primitive transition - action&quot;.\r\n\r\nIn your case, each stage has to be feed from two sources: result of previous stage and resource token allowing to access the web service. CompletableFuture simply does not fit for such cases. I would recommend first draw the Petri net for your case, and then implement basic infrastructure from scratch, using classes with synchronized methods. Or try my async library  [df4j2][1], which allows to build transitions with several places. \r\n\r\n\r\n  [1]: https://github.com/rfqu/df4j2","title":"How to subclass CompletableFuture?","body":"<p>Async programming is widely misunderstood. Theoretical approach is to represent async program as Petri net, where main components are tokens, places, and transitions. From programming point of view, transition should be split further into firing rule and action. Logical chain appears to be too long, programmers prefer oversimplified scheme \"event-reaction\", which does not work in any complex cases. CompletableFuture  is even more restricted, with scheme \"action - primitive transition - action\".</p>\n\n<p>In your case, each stage has to be feed from two sources: result of previous stage and resource token allowing to access the web service. CompletableFuture simply does not fit for such cases. I would recommend first draw the Petri net for your case, and then implement basic infrastructure from scratch, using classes with synchronized methods. Or try my async library  <a href=\"https://github.com/rfqu/df4j2\" rel=\"nofollow\">df4j2</a>, which allows to build transitions with several places. </p>\n"},{"comments":[{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1414523377,"post_id":26607433,"comment_id":41844308,"body_markdown":"You are right. I was in the process of putting together a minimal testcase when I discovered what was wrong with my code. The `CompletableFuture` was being scheduled on a custom Executor. That `Executor` scheduled each task&#39;s start time relative to the end time of the previous task. It turns out that `thenComposeAsync()` blocks the outer task until the inner task finishes executing. So `CompletableFuture` was waiting on the `Executor` to run the inner task, and the `Executor` was waiting on the `CompletableFuture` to finish running the inner task. Thank you for your help!","body":"You are right. I was in the process of putting together a minimal testcase when I discovered what was wrong with my code. The <code>CompletableFuture</code> was being scheduled on a custom Executor. That <code>Executor</code> scheduled each task&#39;s start time relative to the end time of the previous task. It turns out that <code>thenComposeAsync()</code> blocks the outer task until the inner task finishes executing. So <code>CompletableFuture</code> was waiting on the <code>Executor</code> to run the inner task, and the <code>Executor</code> was waiting on the <code>CompletableFuture</code> to finish running the inner task. Thank you for your help!"},{"owner":{"account_id":1284554,"reputation":2784,"user_id":1237919,"accept_rate":63,"display_name":"jacob"},"score":0,"creation_date":1453208679,"post_id":26607433,"comment_id":57492858,"body_markdown":"I am trying to figure out how to use a PriorityBlockingQueue for the executor used by CompletableFuture.supplyAsync, but it doesn&#39;t look like your subclass example addresses that scenario. The problem is that supplyAsync wraps the Supplier in a private inner class implementation of a Runnable that is then passed to the Comparator of the priority queue. It seems that subclassing that functionality is much more complicated due to its private encapsulation.","body":"I am trying to figure out how to use a PriorityBlockingQueue for the executor used by CompletableFuture.supplyAsync, but it doesn&#39;t look like your subclass example addresses that scenario. The problem is that supplyAsync wraps the Supplier in a private inner class implementation of a Runnable that is then passed to the Comparator of the priority queue. It seems that subclassing that functionality is much more complicated due to its private encapsulation."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1695301992,"creation_date":1414496434,"answer_id":26607433,"question_id":26579139,"body_markdown":"Starting with Java&#160;9, there is built-in support for this task:\r\n\r\n```java\r\npublic class MyCompletableFuture&lt;T&gt; extends CompletableFuture&lt;T&gt; {\r\n\r\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; supplyAsync(Supplier&lt;T&gt; s, Executor e) {\r\n        Objects.requireNonNull(s);\r\n        Objects.requireNonNull(e);\r\n        return new MyCompletableFuture&lt;T&gt;(e).completeAsync(s);\r\n    }\r\n\r\n    private final Executor executor;\r\n\r\n    public MyCompletableFuture(Executor executor) {\r\n        this.executor = executor;\r\n    }\r\n\r\n    @Override\r\n    public &lt;U&gt; CompletableFuture&lt;U&gt; newIncompleteFuture() {\r\n        return new MyCompletableFuture&lt;&gt;(executor);\r\n    }\r\n\r\n    @Override\r\n    public Executor defaultExecutor() {\r\n        return executor;\r\n    }\r\n}\r\n```\r\n\r\n - By overriding `newIncompleteFuture()`, we can ensure that all `then…` and `when…`, etc. methods will return instances of `MyCompletableFuture`, without overriding each of them.\r\n\r\n - The `defaultExecutor()` method specifies the executor to be used by all async methods without `Executor` parameter.\r\n\r\n - Conveniently, the non-`static` method `completeAsync` allows us to get the `supplyAsync` behavior using an instance of our future implementation. The example above provides a `static` method `supplyAsync` which can be used similarly to the original one, i.e. `MyCompletableFuture.supplyAsync(supplier, executor)`\r\n\r\n---\r\n\r\nIn Java&#160;8, you have to override all methods whose behavior you want to alter, using the decoration pattern, which still doesn’t need to touch any of the `CompletableFuture`’s inner workings.\r\n\r\n    import java.util.concurrent.*;\r\n    import java.util.function.*;\r\n    \r\n    public class MyCompletableFuture&lt;T&gt; extends CompletableFuture&lt;T&gt; {\r\n        public static &lt;T&gt; CompletableFuture&lt;T&gt; supplyAsync(Supplier&lt;T&gt; s, Executor e){\r\n            return my(CompletableFuture.supplyAsync(s, e), e);\r\n        }\r\n        private static &lt;T&gt; CompletableFuture&lt;T&gt; my(CompletableFuture&lt;T&gt; f,Executor e){\r\n            MyCompletableFuture&lt;T&gt; my=new MyCompletableFuture&lt;&gt;(f, e);\r\n            f.whenComplete((v,t)-&gt; {\r\n                if(t!=null) my.completeExceptionally(t); else my.complete(v);\r\n            });\r\n            return my;\r\n        }\r\n        private final CompletableFuture&lt;T&gt; baseFuture;\r\n        private final Executor executor;\r\n    \r\n        MyCompletableFuture(CompletableFuture&lt;T&gt; base, Executor e) {\r\n            baseFuture=base;\r\n            executor=e;\r\n        }\r\n        private &lt;T&gt; CompletableFuture&lt;T&gt; my(CompletableFuture&lt;T&gt; base) {\r\n            return my(base, executor);\r\n        }\r\n        @Override\r\n        public CompletableFuture&lt;Void&gt; acceptEitherAsync(\r\n                CompletionStage&lt;? extends T&gt; other, Consumer&lt;? super T&gt; action) {\r\n            return my(baseFuture.acceptEitherAsync(other, action, executor));\r\n        }\r\n        @Override\r\n        public &lt;U&gt; CompletableFuture&lt;U&gt; applyToEitherAsync(\r\n                CompletionStage&lt;? extends T&gt; other, Function&lt;? super T, U&gt; fn) {\r\n            return my(baseFuture.applyToEitherAsync(other, fn, executor));\r\n        }\r\n        @Override\r\n        public &lt;U&gt; CompletableFuture&lt;U&gt; handleAsync(\r\n                BiFunction&lt;? super T, Throwable, ? extends U&gt; fn) {\r\n            return my(baseFuture.handleAsync(fn, executor));\r\n        }\r\n        @Override\r\n        public CompletableFuture&lt;Void&gt; runAfterBothAsync(\r\n                CompletionStage&lt;?&gt; other, Runnable action) {\r\n            return my(baseFuture.runAfterBothAsync(other, action, executor));\r\n        }\r\n        @Override\r\n        public CompletableFuture&lt;Void&gt; runAfterEitherAsync(\r\n                CompletionStage&lt;?&gt; other, Runnable action) {\r\n            return my(baseFuture.runAfterEitherAsync(other, action, executor));\r\n        }\r\n        @Override\r\n        public CompletableFuture&lt;Void&gt; thenAcceptAsync(Consumer&lt;? super T&gt; action) {\r\n            return my(baseFuture.thenAcceptAsync(action, executor));\r\n        }\r\n        @Override\r\n        public &lt;U&gt; CompletableFuture&lt;Void&gt; thenAcceptBothAsync(\r\n                CompletionStage&lt;? extends U&gt; other,\r\n                BiConsumer&lt;? super T, ? super U&gt; action) {\r\n            return my(baseFuture.thenAcceptBothAsync(other, action, executor));\r\n        }\r\n        @Override\r\n        public &lt;U&gt; CompletableFuture&lt;U&gt; thenApplyAsync(\r\n                Function&lt;? super T, ? extends U&gt; fn) {\r\n            return my(baseFuture.thenApplyAsync(fn, executor));\r\n        }\r\n        @Override\r\n        public &lt;U, V&gt; CompletableFuture&lt;V&gt; thenCombineAsync(\r\n                CompletionStage&lt;? extends U&gt; other,\r\n                BiFunction&lt;? super T, ? super U, ? extends V&gt; fn) {\r\n            return my(baseFuture.thenCombineAsync(other, fn, executor));\r\n        }\r\n        @Override\r\n        public &lt;U&gt; CompletableFuture&lt;U&gt; thenComposeAsync(\r\n                Function&lt;? super T, ? extends CompletionStage&lt;U&gt;&gt; fn) {\r\n            return my(baseFuture.thenComposeAsync(fn, executor));\r\n        }\r\n        @Override\r\n        public CompletableFuture&lt;Void&gt; thenRunAsync(Runnable action) {\r\n            return my(baseFuture.thenRunAsync(action, executor));\r\n        }\r\n        @Override\r\n        public CompletableFuture&lt;T&gt; whenCompleteAsync(\r\n                BiConsumer&lt;? super T, ? super Throwable&gt; action) {\r\n            return my(baseFuture.whenCompleteAsync(action, executor));\r\n        }\r\n    }\r\n\r\nHere is a simple test case which shows that it works as expected:\r\n\r\n    ScheduledExecutorService ses=Executors.newSingleThreadScheduledExecutor();\r\n    Executor e=r -&gt; {\r\n        System.out.println(&quot;adding delay&quot;);\r\n        ses.schedule(r, 2, TimeUnit.SECONDS);\r\n    };\r\n    MyCompletableFuture.supplyAsync(()-&gt;&quot;initial value&quot;, e)\r\n      .thenApplyAsync(String::hashCode)\r\n      .thenApplyAsync(Integer::toOctalString)\r\n      .thenAcceptAsync(System.out::println);\r\n","title":"How to subclass CompletableFuture?","body":"<p>Starting with Java 9, there is built-in support for this task:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCompletableFuture&lt;T&gt; extends CompletableFuture&lt;T&gt; {\n\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; supplyAsync(Supplier&lt;T&gt; s, Executor e) {\n        Objects.requireNonNull(s);\n        Objects.requireNonNull(e);\n        return new MyCompletableFuture&lt;T&gt;(e).completeAsync(s);\n    }\n\n    private final Executor executor;\n\n    public MyCompletableFuture(Executor executor) {\n        this.executor = executor;\n    }\n\n    @Override\n    public &lt;U&gt; CompletableFuture&lt;U&gt; newIncompleteFuture() {\n        return new MyCompletableFuture&lt;&gt;(executor);\n    }\n\n    @Override\n    public Executor defaultExecutor() {\n        return executor;\n    }\n}\n</code></pre>\n<ul>\n<li><p>By overriding <code>newIncompleteFuture()</code>, we can ensure that all <code>then…</code> and <code>when…</code>, etc. methods will return instances of <code>MyCompletableFuture</code>, without overriding each of them.</p>\n</li>\n<li><p>The <code>defaultExecutor()</code> method specifies the executor to be used by all async methods without <code>Executor</code> parameter.</p>\n</li>\n<li><p>Conveniently, the non-<code>static</code> method <code>completeAsync</code> allows us to get the <code>supplyAsync</code> behavior using an instance of our future implementation. The example above provides a <code>static</code> method <code>supplyAsync</code> which can be used similarly to the original one, i.e. <code>MyCompletableFuture.supplyAsync(supplier, executor)</code></p>\n</li>\n</ul>\n<hr />\n<p>In Java 8, you have to override all methods whose behavior you want to alter, using the decoration pattern, which still doesn’t need to touch any of the <code>CompletableFuture</code>’s inner workings.</p>\n<pre><code>import java.util.concurrent.*;\nimport java.util.function.*;\n\npublic class MyCompletableFuture&lt;T&gt; extends CompletableFuture&lt;T&gt; {\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; supplyAsync(Supplier&lt;T&gt; s, Executor e){\n        return my(CompletableFuture.supplyAsync(s, e), e);\n    }\n    private static &lt;T&gt; CompletableFuture&lt;T&gt; my(CompletableFuture&lt;T&gt; f,Executor e){\n        MyCompletableFuture&lt;T&gt; my=new MyCompletableFuture&lt;&gt;(f, e);\n        f.whenComplete((v,t)-&gt; {\n            if(t!=null) my.completeExceptionally(t); else my.complete(v);\n        });\n        return my;\n    }\n    private final CompletableFuture&lt;T&gt; baseFuture;\n    private final Executor executor;\n\n    MyCompletableFuture(CompletableFuture&lt;T&gt; base, Executor e) {\n        baseFuture=base;\n        executor=e;\n    }\n    private &lt;T&gt; CompletableFuture&lt;T&gt; my(CompletableFuture&lt;T&gt; base) {\n        return my(base, executor);\n    }\n    @Override\n    public CompletableFuture&lt;Void&gt; acceptEitherAsync(\n            CompletionStage&lt;? extends T&gt; other, Consumer&lt;? super T&gt; action) {\n        return my(baseFuture.acceptEitherAsync(other, action, executor));\n    }\n    @Override\n    public &lt;U&gt; CompletableFuture&lt;U&gt; applyToEitherAsync(\n            CompletionStage&lt;? extends T&gt; other, Function&lt;? super T, U&gt; fn) {\n        return my(baseFuture.applyToEitherAsync(other, fn, executor));\n    }\n    @Override\n    public &lt;U&gt; CompletableFuture&lt;U&gt; handleAsync(\n            BiFunction&lt;? super T, Throwable, ? extends U&gt; fn) {\n        return my(baseFuture.handleAsync(fn, executor));\n    }\n    @Override\n    public CompletableFuture&lt;Void&gt; runAfterBothAsync(\n            CompletionStage&lt;?&gt; other, Runnable action) {\n        return my(baseFuture.runAfterBothAsync(other, action, executor));\n    }\n    @Override\n    public CompletableFuture&lt;Void&gt; runAfterEitherAsync(\n            CompletionStage&lt;?&gt; other, Runnable action) {\n        return my(baseFuture.runAfterEitherAsync(other, action, executor));\n    }\n    @Override\n    public CompletableFuture&lt;Void&gt; thenAcceptAsync(Consumer&lt;? super T&gt; action) {\n        return my(baseFuture.thenAcceptAsync(action, executor));\n    }\n    @Override\n    public &lt;U&gt; CompletableFuture&lt;Void&gt; thenAcceptBothAsync(\n            CompletionStage&lt;? extends U&gt; other,\n            BiConsumer&lt;? super T, ? super U&gt; action) {\n        return my(baseFuture.thenAcceptBothAsync(other, action, executor));\n    }\n    @Override\n    public &lt;U&gt; CompletableFuture&lt;U&gt; thenApplyAsync(\n            Function&lt;? super T, ? extends U&gt; fn) {\n        return my(baseFuture.thenApplyAsync(fn, executor));\n    }\n    @Override\n    public &lt;U, V&gt; CompletableFuture&lt;V&gt; thenCombineAsync(\n            CompletionStage&lt;? extends U&gt; other,\n            BiFunction&lt;? super T, ? super U, ? extends V&gt; fn) {\n        return my(baseFuture.thenCombineAsync(other, fn, executor));\n    }\n    @Override\n    public &lt;U&gt; CompletableFuture&lt;U&gt; thenComposeAsync(\n            Function&lt;? super T, ? extends CompletionStage&lt;U&gt;&gt; fn) {\n        return my(baseFuture.thenComposeAsync(fn, executor));\n    }\n    @Override\n    public CompletableFuture&lt;Void&gt; thenRunAsync(Runnable action) {\n        return my(baseFuture.thenRunAsync(action, executor));\n    }\n    @Override\n    public CompletableFuture&lt;T&gt; whenCompleteAsync(\n            BiConsumer&lt;? super T, ? super Throwable&gt; action) {\n        return my(baseFuture.whenCompleteAsync(action, executor));\n    }\n}\n</code></pre>\n<p>Here is a simple test case which shows that it works as expected:</p>\n<pre><code>ScheduledExecutorService ses=Executors.newSingleThreadScheduledExecutor();\nExecutor e=r -&gt; {\n    System.out.println(&quot;adding delay&quot;);\n    ses.schedule(r, 2, TimeUnit.SECONDS);\n};\nMyCompletableFuture.supplyAsync(()-&gt;&quot;initial value&quot;, e)\n  .thenApplyAsync(String::hashCode)\n  .thenApplyAsync(Integer::toOctalString)\n  .thenAcceptAsync(System.out::println);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1414533163,"post_id":26617214,"comment_id":41849254,"body_markdown":"My application is hitting someone else&#39;s remote web service. The delays are client-side, not server-side. Delays are quite large (5-10 seconds).","body":"My application is hitting someone else&#39;s remote web service. The delays are client-side, not server-side. Delays are quite large (5-10 seconds)."},{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1414555167,"post_id":26617214,"comment_id":41855379,"body_markdown":"yes, client side. Probably it was a bad choice of words on my part: saying &quot;performs requests&quot; I mean &quot;sends requests and receives replies&quot;.","body":"yes, client side. Probably it was a bad choice of words on my part: saying &quot;performs requests&quot; I mean &quot;sends requests and receives replies&quot;."}],"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414525658,"creation_date":1414525658,"answer_id":26617214,"question_id":26579139,"body_markdown":"Your goal is to limit the rate of access to the web service. Your solution is to use special executor which introduces delays. This is not the best solution, because some function in the chain can spend some time for other activity, or just wait too long in the queue to processor on O/S level and thus need not be delayed before accessing the web service, but will be delayed by the executor anyway. Delays should be embedded in the module which actually performs requests to the web service. It should remember the time of the previous request and, if it is too small, just call Thread.sleep() before sending request via socket. This way you need not any CompletableFuture and can call functions directly like f3(f1(f0))). At least it is more readable.","title":"How to subclass CompletableFuture?","body":"<p>Your goal is to limit the rate of access to the web service. Your solution is to use special executor which introduces delays. This is not the best solution, because some function in the chain can spend some time for other activity, or just wait too long in the queue to processor on O/S level and thus need not be delayed before accessing the web service, but will be delayed by the executor anyway. Delays should be embedded in the module which actually performs requests to the web service. It should remember the time of the previous request and, if it is too small, just call Thread.sleep() before sending request via socket. This way you need not any CompletableFuture and can call functions directly like f3(f1(f0))). At least it is more readable.</p>\n"},{"tags":[],"owner":{"account_id":7334204,"reputation":199,"user_id":5586158,"display_name":"Valery Silaev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463664251,"creation_date":1463664251,"answer_id":37324585,"question_id":26579139,"body_markdown":"Answering the original question -- **How is one supposed to subclass CompletableFuture?**\r\n\r\nProbably starting from a clean-room CompletionStage interface implementation (rather than from the concrete CompletableFuture class) a  is a better option. Please take a look here:\r\n\r\nhttps://github.com/lukas-krecan/completion-stage","title":"How to subclass CompletableFuture?","body":"<p>Answering the original question -- <strong>How is one supposed to subclass CompletableFuture?</strong></p>\n\n<p>Probably starting from a clean-room CompletionStage interface implementation (rather than from the concrete CompletableFuture class) a  is a better option. Please take a look here:</p>\n\n<p><a href=\"https://github.com/lukas-krecan/completion-stage\" rel=\"nofollow\">https://github.com/lukas-krecan/completion-stage</a></p>\n"}],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4966,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":26607433,"answer_count":5,"score":13,"last_activity_date":1695301992,"creation_date":1414365858,"question_id":26579139,"body_markdown":"I&#39;d like to subclass [CompletableFuture](http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html) to override the default `Executor`. That is, if a user invokes a method without specifying an `Executor`, I want my own `Executor` to get used instead of the one normally used by `CompletableFuture`.\r\n\r\nThe Javadoc hints at the possibility of subclassing:\r\n\r\n&gt; All CompletionStage methods are implemented independently of other public methods, so the behavior of one method is not impacted by overrides of others in subclasses.\r\n\r\nHow am I supposed to implement static methods like `CompletableFuture.supplyAsync()` in the subclass if the underlying implementation depends on methods like `internalComplete()` which is package-private?\r\n\r\n**How is one supposed to subclass CompletableFuture?**\r\n\r\n---\r\nWhat I&#39;m trying to do...\r\n---\r\n\r\nMy user code needs to execute multiple tasks asynchronously using the same executor. For example: `CompletableFuture.supplyAsync(..., executor).thenApplyAsync(..., executor).thenApplyAsync(..., executor)`. I&#39;d like the custom `CompletableFuture` implementation to use the first executor throughout all follow-up calls.","title":"How to subclass CompletableFuture?","body":"<p>I'd like to subclass <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"noreferrer\">CompletableFuture</a> to override the default <code>Executor</code>. That is, if a user invokes a method without specifying an <code>Executor</code>, I want my own <code>Executor</code> to get used instead of the one normally used by <code>CompletableFuture</code>.</p>\n\n<p>The Javadoc hints at the possibility of subclassing:</p>\n\n<blockquote>\n  <p>All CompletionStage methods are implemented independently of other public methods, so the behavior of one method is not impacted by overrides of others in subclasses.</p>\n</blockquote>\n\n<p>How am I supposed to implement static methods like <code>CompletableFuture.supplyAsync()</code> in the subclass if the underlying implementation depends on methods like <code>internalComplete()</code> which is package-private?</p>\n\n<p><strong>How is one supposed to subclass CompletableFuture?</strong></p>\n\n<hr>\n\n<h2>What I'm trying to do...</h2>\n\n<p>My user code needs to execute multiple tasks asynchronously using the same executor. For example: <code>CompletableFuture.supplyAsync(..., executor).thenApplyAsync(..., executor).thenApplyAsync(..., executor)</code>. I'd like the custom <code>CompletableFuture</code> implementation to use the first executor throughout all follow-up calls.</p>\n"},{"tags":["java","xml","spring-boot","jackson","jackson-dataformat-xml"],"owner":{"account_id":29500724,"reputation":1,"user_id":22607798,"display_name":"wasd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695301798,"creation_date":1695301798,"question_id":77150566,"body_markdown":"I wanted to define classes to map into an XML response to be returned by the controller:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/v1&quot;)\r\n@Validated\r\npublic class Controller {\r\n\r\n    @PostMapping(value = &quot;/inquiry&quot;, consumes = MediaType.APPLICATION_XML_VALUE, produces = MediaType.APPLICATION_XML_VALUE)\r\n    @ApiResponses(\r\n            value = {\r\n                    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Success&quot;, content = {\r\n                            @Content(mediaType = MediaType.APPLICATION_XML_VALUE, schema = @Schema(implementation = RequestModel.class))\r\n                    })\r\n            }\r\n    )\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public @ResponseBody ResponseModel inquiry(\r\n            @Parameter(description = &quot;Request&quot;, required = true) @RequestBody RequestModel requestModel) {\r\n        return new ResponseModel(\r\n                new SubResponse1(&quot;value1&quot;),\r\n                new SubResponse2(&quot;value2&quot;)\r\n        );\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI tried the following:\r\n**ResponseModel.java**\r\n```\r\n@JacksonXmlRootElement(localName = &quot;Message&quot;, namespace = &quot;abc&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class ResponseModel {\r\n\r\n    @JacksonXmlProperty(localName = &quot;SubResponse1&quot;)\r\n    private SubResponse1 subResponse1;\r\n\r\n    @JacksonXmlProperty(localName = &quot;SubResponse2&quot;)\r\n    private SubResponse2 subResponse2;\r\n\r\n}\r\n```\r\n\r\n**SubResponse1.java**\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class SubResponse1 {\r\n\r\n    @JacksonXmlProperty(localName = &quot;S&quot;, namespace = &quot;abc:def&quot;)\r\n    private String s;\r\n\r\n}\r\n```\r\n\r\n**SubResponse2.java**\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class SubResponse2 {\r\n\r\n    @JacksonXmlProperty(localName = &quot;T&quot;, namespace = &quot;abc:ghi&quot;)\r\n    private String t;\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nAnd I was expecting the result would be\r\n**Expected Result**\r\n```\r\n&lt;Message\r\n    xmlns=&quot;abc&quot;\r\n    xmlns:sub1=&quot;abc:def&quot;\r\n    xlmns:sub2=&quot;abc:ghi&quot;&gt;\r\n    &lt;SubResponse1&gt;\r\n        &lt;sub1:S&gt;value1&lt;/sub1:S&gt;\r\n    &lt;/SubResponse1&gt;\r\n    &lt;SubResponse2&gt;\r\n        &lt;sub2:T&gt;value2&lt;/sub2:T&gt;\r\n    &lt;/SubResponse2&gt;\r\n&lt;/Message&gt;\r\n```\r\n\r\nBut the result was\r\n**Actual Result**\r\n\r\n```\r\n&lt;Message xmlns=&quot;&quot; xmlns=&quot;abc&quot;&gt;\r\n    &lt;zdef1417610378:SubResponse1 xmlns:zdef1417610378=&quot;&quot;&gt;\r\n        &lt;zdef1574590916:S xmlns:zdef1574590916=&quot;abc:def&quot;&gt;value1&lt;/zdef1574590916:S&gt;\r\n    &lt;/zdef1417610378:SubResponse1&gt;\r\n    &lt;zdef-1648736682:SubResponse2 xmlns:zdef-1648736682=&quot;&quot;&gt;\r\n        &lt;zdef103979484:T xmlns:zdef103979484=&quot;abc:ghi&quot;&gt;value2&lt;/zdef103979484:T&gt;\r\n    &lt;/zdef-1648736682:SubResponse2&gt;\r\n&lt;/Message&gt;\r\n```\r\n\r\n\r\nI don&#39;t know how to define namespaces at the very top, and somehow the namespaces became two (`xmlns=&quot;&quot; xmlns=&quot;abc&quot;`) or weird string (`zdef1417610378`). How should I define my classes to handle the problem?\r\n\r\n","title":"How to marshal into XML response with custom namespaces in Java","body":"<p>I wanted to define classes to map into an XML response to be returned by the controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/v1&quot;)\n@Validated\npublic class Controller {\n\n    @PostMapping(value = &quot;/inquiry&quot;, consumes = MediaType.APPLICATION_XML_VALUE, produces = MediaType.APPLICATION_XML_VALUE)\n    @ApiResponses(\n            value = {\n                    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Success&quot;, content = {\n                            @Content(mediaType = MediaType.APPLICATION_XML_VALUE, schema = @Schema(implementation = RequestModel.class))\n                    })\n            }\n    )\n    @ResponseStatus(HttpStatus.OK)\n    public @ResponseBody ResponseModel inquiry(\n            @Parameter(description = &quot;Request&quot;, required = true) @RequestBody RequestModel requestModel) {\n        return new ResponseModel(\n                new SubResponse1(&quot;value1&quot;),\n                new SubResponse2(&quot;value2&quot;)\n        );\n    }\n\n}\n</code></pre>\n<p>I tried the following:\n<strong>ResponseModel.java</strong></p>\n<pre><code>@JacksonXmlRootElement(localName = &quot;Message&quot;, namespace = &quot;abc&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ResponseModel {\n\n    @JacksonXmlProperty(localName = &quot;SubResponse1&quot;)\n    private SubResponse1 subResponse1;\n\n    @JacksonXmlProperty(localName = &quot;SubResponse2&quot;)\n    private SubResponse2 subResponse2;\n\n}\n</code></pre>\n<p><strong>SubResponse1.java</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class SubResponse1 {\n\n    @JacksonXmlProperty(localName = &quot;S&quot;, namespace = &quot;abc:def&quot;)\n    private String s;\n\n}\n</code></pre>\n<p><strong>SubResponse2.java</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class SubResponse2 {\n\n    @JacksonXmlProperty(localName = &quot;T&quot;, namespace = &quot;abc:ghi&quot;)\n    private String t;\n\n}\n</code></pre>\n<p>And I was expecting the result would be\n<strong>Expected Result</strong></p>\n<pre><code>&lt;Message\n    xmlns=&quot;abc&quot;\n    xmlns:sub1=&quot;abc:def&quot;\n    xlmns:sub2=&quot;abc:ghi&quot;&gt;\n    &lt;SubResponse1&gt;\n        &lt;sub1:S&gt;value1&lt;/sub1:S&gt;\n    &lt;/SubResponse1&gt;\n    &lt;SubResponse2&gt;\n        &lt;sub2:T&gt;value2&lt;/sub2:T&gt;\n    &lt;/SubResponse2&gt;\n&lt;/Message&gt;\n</code></pre>\n<p>But the result was\n<strong>Actual Result</strong></p>\n<pre><code>&lt;Message xmlns=&quot;&quot; xmlns=&quot;abc&quot;&gt;\n    &lt;zdef1417610378:SubResponse1 xmlns:zdef1417610378=&quot;&quot;&gt;\n        &lt;zdef1574590916:S xmlns:zdef1574590916=&quot;abc:def&quot;&gt;value1&lt;/zdef1574590916:S&gt;\n    &lt;/zdef1417610378:SubResponse1&gt;\n    &lt;zdef-1648736682:SubResponse2 xmlns:zdef-1648736682=&quot;&quot;&gt;\n        &lt;zdef103979484:T xmlns:zdef103979484=&quot;abc:ghi&quot;&gt;value2&lt;/zdef103979484:T&gt;\n    &lt;/zdef-1648736682:SubResponse2&gt;\n&lt;/Message&gt;\n</code></pre>\n<p>I don't know how to define namespaces at the very top, and somehow the namespaces became two (<code>xmlns=&quot;&quot; xmlns=&quot;abc&quot;</code>) or weird string (<code>zdef1417610378</code>). How should I define my classes to handle the problem?</p>\n"},{"tags":["java","multithreading","jvm"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1484902282,"post_id":41759261,"comment_id":70710493,"body_markdown":"There is no such thing as the &#39;JVM thread scheduler&#39;. Thread scheduling is done by the operating system.","body":"There is no such thing as the &#39;JVM thread scheduler&#39;. Thread scheduling is done by the operating system."},{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1484902470,"post_id":41759261,"comment_id":70710604,"body_markdown":"I don&#39;t know why are you writing so. But in head first, it is written clearly, JVM Thread Scheduler does this scheduling. @EJP","body":"I don&#39;t know why are you writing so. But in head first, it is written clearly, JVM Thread Scheduler does this scheduling. @EJP"},{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1484902567,"post_id":41759261,"comment_id":70710659,"body_markdown":"And I&#39;m not writing anything out of that &#39;famous&#39; book.  @EJP","body":"And I&#39;m not writing anything out of that &#39;famous&#39; book.  @EJP"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1484902584,"post_id":41759261,"comment_id":70710667,"body_markdown":"I say so because it&#39;s correct. JVMs haven&#39;t done thread scheduling since last century. Please provide the actual text from your book that says otherwise. If any.","body":"I say so because it&#39;s correct. JVMs haven&#39;t done thread scheduling since last century. Please provide the actual text from your book that says otherwise. If any."},{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1484903278,"post_id":41759261,"comment_id":70711086,"body_markdown":"&quot;This is the state all thread lust after! To be the Chosen One. The Currently Running Thread. Only the JVM thread scheduler can make that decision.&quot; From Head First(2nd Edition), Page no: 495 @EJP","body":"&quot;This is the state all thread lust after! To be the Chosen One. The Currently Running Thread. Only the JVM thread scheduler can make that decision.&quot; From Head First(2nd Edition), Page no: 495 @EJP"},{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1484903466,"post_id":41759261,"comment_id":70711197,"body_markdown":"you can look this too... http://www.javatpoint.com/thread-scheduler-in-java @EJP","body":"you can look this too... <a href=\"http://www.javatpoint.com/thread-scheduler-in-java\" rel=\"nofollow noreferrer\">javatpoint.com/thread-scheduler-in-java</a> @EJP"},{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1484903945,"post_id":41759261,"comment_id":70711517,"body_markdown":"I&#39;ve provided. I have given a link too. Would you please explain your words now? If I&#39;m wrong show me that, if wrong is written in that book, show me that too. And if you are wrong, then it&#39;s up to you. @EJP","body":"I&#39;ve provided. I have given a link too. Would you please explain your words now? If I&#39;m wrong show me that, if wrong is written in that book, show me that too. And if you are wrong, then it&#39;s up to you. @EJP"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1484904967,"post_id":41759261,"comment_id":70712174,"body_markdown":"The 2nd edition was published in 2005. You can&#39;t place any reliance whatsoever on third-party tutorials, especially from a rubbish site like that one; or on third-party books for that matter. I&#39;ve explained quite enough here already. See also [this question](http://stackoverflow.com/q/41394714/207421), and many others here, all of which confirm what I&#39;ve stated. In any case surely it is obvious that whatever scheduler is involved will mark as many threads runnable as possible?","body":"The 2nd edition was published in 2005. You can&#39;t place any reliance whatsoever on third-party tutorials, especially from a rubbish site like that one; or on third-party books for that matter. I&#39;ve explained quite enough here already. See also <a href=\"http://stackoverflow.com/q/41394714/207421\">this question</a>, and many others here, all of which confirm what I&#39;ve stated. In any case surely it is obvious that whatever scheduler is involved will mark as many threads runnable as possible?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1484914653,"post_id":41759261,"comment_id":70718376,"body_markdown":"Consider the term “*JVM thread scheduler*” as a logical entity that in most implementations consist of something that creates an operating system level thread for each Java thread and does no active scheduling activity itself. A particular JVM implementation may contain a scheduler for operating systems that don’t have one, for Sun’s JVM that was the case back in the last millennium…","body":"Consider the term “<i>JVM thread scheduler</i>” as a logical entity that in most implementations consist of something that creates an operating system level thread for each Java thread and does no active scheduling activity itself. A particular JVM implementation may contain a scheduler for operating systems that don’t have one, for Sun’s JVM that was the case back in the last millennium…"},{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1484915779,"post_id":41759261,"comment_id":70719045,"body_markdown":"ok, got it @Holger, thanks for your nice explanation. Would you please, give this comment as an answer, so that I can accept your answer?","body":"ok, got it @Holger, thanks for your nice explanation. Would you please, give this comment as an answer, so that I can accept your answer?"}],"answers":[{"comments":[{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1484902149,"post_id":41759328,"comment_id":70710419,"body_markdown":"actually, I want to know what JVM thread scheduler does for multiprocessor.","body":"actually, I want to know what JVM thread scheduler does for multiprocessor."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1484902326,"post_id":41759328,"comment_id":70710517,"body_markdown":"@Mukit09 Actually this answer tells you there is no such thing.","body":"@Mukit09 Actually this answer tells you there is no such thing."}],"tags":[],"owner":{"account_id":2265731,"reputation":667,"user_id":2599910,"accept_rate":0,"display_name":"Pandey Amit"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484901677,"creation_date":1484901677,"answer_id":41759328,"question_id":41759261,"body_markdown":"JVM use underlying OS(Unix, Windows etc) threading mechanism to schedule java thread on multiprocessor system.","title":"How JVM thread scheduler control threads for multiprocessors?","body":"<p>JVM use underlying OS(Unix, Windows etc) threading mechanism to schedule java thread on multiprocessor system.</p>\n"},{"comments":[{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1484922712,"post_id":41765718,"comment_id":70723307,"body_markdown":"very nice explanation. Thanks a lot. :)","body":"very nice explanation. Thanks a lot. :)"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1695301126,"creation_date":1484921827,"answer_id":41765718,"question_id":41759261,"body_markdown":"The term “JVM thread scheduler” makes only sense, if we consider operating system, JVM and class library as an execution environment as a whole. Then, it’s guaranteed that this environment has a scheduler, regardless of how it is implemented.\r\n\r\nIn most of today’s implementations the JVM will create an operating system level thread for each Java [platform thread] and let the operating system do the scheduling. Starting with Java&#160;21, there are also [virtual threads], managed by the JVM but running atop platform threads, which still leaves the preemptive scheduling to the operating system. But a particular JVM implementation *may* contain a preemptive scheduler for operating systems that don’t have one.\r\n\r\nE.g., for Sun’s JVM that was the case back in the last millennium. At this time, there was the option to use [green threads], as opposed to native threads. Note that these threads implemented without the aid of the operating system aren’t capable of using multiple CPUs/cores.\r\n\r\nSo in practice, when you run your example program, the operating system’s scheduler may indeed assign the second thread to a different core. However, since this is a tiny program, it’s also possible that the first thread terminates before the second even starts its actual work, and in that case, it will likely run on the same core as the first, but there is no guaranty about any particular scheduling behavior at all.\r\n\r\nWhile there is no guaranty regarding a particular scheduling behavior, most SMP libraries and tools are built on the (founded) assumption, that if there are enough runnable threads with sufficient workload, the underlying system will assign these threads to available CPU cores.\r\n\r\n[green threads]: https://en.wikipedia.org/wiki/Green_threads\r\n[platform thread]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#platform-threads\r\n[virtual threads]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#virtual-threads","title":"How JVM thread scheduler control threads for multiprocessors?","body":"<p>The term “JVM thread scheduler” makes only sense, if we consider operating system, JVM and class library as an execution environment as a whole. Then, it’s guaranteed that this environment has a scheduler, regardless of how it is implemented.</p>\n<p>In most of today’s implementations the JVM will create an operating system level thread for each Java <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#platform-threads\" rel=\"nofollow noreferrer\">platform thread</a> and let the operating system do the scheduling. Starting with Java 21, there are also <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#virtual-threads\" rel=\"nofollow noreferrer\">virtual threads</a>, managed by the JVM but running atop platform threads, which still leaves the preemptive scheduling to the operating system. But a particular JVM implementation <em>may</em> contain a preemptive scheduler for operating systems that don’t have one.</p>\n<p>E.g., for Sun’s JVM that was the case back in the last millennium. At this time, there was the option to use <a href=\"https://en.wikipedia.org/wiki/Green_threads\" rel=\"nofollow noreferrer\">green threads</a>, as opposed to native threads. Note that these threads implemented without the aid of the operating system aren’t capable of using multiple CPUs/cores.</p>\n<p>So in practice, when you run your example program, the operating system’s scheduler may indeed assign the second thread to a different core. However, since this is a tiny program, it’s also possible that the first thread terminates before the second even starts its actual work, and in that case, it will likely run on the same core as the first, but there is no guaranty about any particular scheduling behavior at all.</p>\n<p>While there is no guaranty regarding a particular scheduling behavior, most SMP libraries and tools are built on the (founded) assumption, that if there are enough runnable threads with sufficient workload, the underlying system will assign these threads to available CPU cores.</p>\n"},{"tags":[],"owner":{"account_id":19135528,"reputation":53,"user_id":13976582,"display_name":"Yash Nasery"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1599716454,"creation_date":1599716454,"answer_id":63823467,"question_id":41759261,"body_markdown":"As the others answered correctly, JVM uses the underlying OS (Windows 10 in my case) to manage threads. The windows OS will do pre-emptive (priority-based) scheduling. If there exists multiple threads with Highest priority, windows will use round-robin based time-slicing scheduling for the threads.\r\n\r\n( Reference:- https://learn.microsoft.com/en-us/windows/win32/procthread/scheduling-priorities )\r\n\r\nTo answer the specific question about the multi-processor systems (windows again here as OS), it depends on the architecture such a system is using. Typically there are 2 types of architecture\r\n\r\n 1. NUMA - Non Uniform Memory Access\r\n 2. SMP - Symmetric Multi-Processing\r\n\r\nIn case of NUMA, the thread is assigned to a processor which is closer (physically) to the memory being used. Because, that way the memory access is faster.\r\n\r\nHowever, in an SMP computer, two or more identical processors or cores connect to a single shared main memory. Essentially, it is like running things on a single integrated processor. Here, we cannot guarantee which processor the thread will be assigned to.\r\n\r\nYou can also specify a thread to execute on a particular processor by setting the &quot;ThreadAffinity&quot; or the &quot;Thread Ideal Processor&quot; property.\r\n\r\n( Reference:- https://learn.microsoft.com/en-us/windows/win32/procthread/multiple-processors ).\r\n\r\nHope this helps !! Cheers !!\r\n\r\n","title":"How JVM thread scheduler control threads for multiprocessors?","body":"<p>As the others answered correctly, JVM uses the underlying OS (Windows 10 in my case) to manage threads. The windows OS will do pre-emptive (priority-based) scheduling. If there exists multiple threads with Highest priority, windows will use round-robin based time-slicing scheduling for the threads.</p>\n<p>( Reference:- <a href=\"https://learn.microsoft.com/en-us/windows/win32/procthread/scheduling-priorities\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/windows/win32/procthread/scheduling-priorities</a> )</p>\n<p>To answer the specific question about the multi-processor systems (windows again here as OS), it depends on the architecture such a system is using. Typically there are 2 types of architecture</p>\n<ol>\n<li>NUMA - Non Uniform Memory Access</li>\n<li>SMP - Symmetric Multi-Processing</li>\n</ol>\n<p>In case of NUMA, the thread is assigned to a processor which is closer (physically) to the memory being used. Because, that way the memory access is faster.</p>\n<p>However, in an SMP computer, two or more identical processors or cores connect to a single shared main memory. Essentially, it is like running things on a single integrated processor. Here, we cannot guarantee which processor the thread will be assigned to.</p>\n<p>You can also specify a thread to execute on a particular processor by setting the &quot;ThreadAffinity&quot; or the &quot;Thread Ideal Processor&quot; property.</p>\n<p>( Reference:- <a href=\"https://learn.microsoft.com/en-us/windows/win32/procthread/multiple-processors\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/windows/win32/procthread/multiple-processors</a> ).</p>\n<p>Hope this helps !! Cheers !!</p>\n"}],"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3141,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":41765718,"answer_count":3,"score":13,"last_activity_date":1695301126,"creation_date":1484901437,"question_id":41759261,"body_markdown":"I&#39;ve been reading Head First for multithreading. What I know about multithreading is: \r\n\r\nWhen we call **start()** with an object of **Thread** class that thread goes to the **Runnable** state. So all the threads go to **Runnable** state after calling **start()** by the object of those threads. It is ***JVM thread scheduler***, who picks thread randomly from **Runnable** state to give it in **Running** state. After going to **Running** state, the determined call stack for that specific thread becomes executed. \r\n\r\nAgain, JVM thread scheduler can stop the execution of a thread by picking that thread from Running state to Runnable state. This time, code execution is paused in the call stack of that thread. \r\n\r\n&gt; Now my question is, for multiprocessor machine, how JVM thread\r\n&gt; scheduler picks thread from the Runnable state? Does it pick only one\r\n&gt; thread and give it to a processor? Or, does it pick more than one\r\n&gt; thread and give those threads to Running state of different\r\n&gt; processors?\r\n\r\nI have written below code: \r\n\r\n    // Class of main thread\r\n    public class ThreadMain {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t\r\n\t\t    Runnable threadJob=new MyRunnable();\r\n\t\t    Thread t=new Thread(threadJob);\r\n\t\t    t.start();\r\n\t\t    System.out.println(&quot;Back in the Main&quot;);\r\n\t    }\r\n    }\r\n    // Class of another thread\r\n    public class MyRunnable implements Runnable{\r\n\t\r\n\t    public void run()\r\n\t    {\r\n\t        System.out.println(&quot;I&#39;m Thread&quot;);\r\n\t    }\r\n    }\r\n\r\nHere, there are two threads. Main thread, and the thread I&#39;ve created. If my machine has multiprocessor, how will it behave? Will the JVM thread scheduler pick two threads at a time, and give those to two processors?  \r\n","title":"How JVM thread scheduler control threads for multiprocessors?","body":"<p>I've been reading Head First for multithreading. What I know about multithreading is: </p>\n\n<p>When we call <strong>start()</strong> with an object of <strong>Thread</strong> class that thread goes to the <strong>Runnable</strong> state. So all the threads go to <strong>Runnable</strong> state after calling <strong>start()</strong> by the object of those threads. It is <strong><em>JVM thread scheduler</em></strong>, who picks thread randomly from <strong>Runnable</strong> state to give it in <strong>Running</strong> state. After going to <strong>Running</strong> state, the determined call stack for that specific thread becomes executed. </p>\n\n<p>Again, JVM thread scheduler can stop the execution of a thread by picking that thread from Running state to Runnable state. This time, code execution is paused in the call stack of that thread. </p>\n\n<blockquote>\n  <p>Now my question is, for multiprocessor machine, how JVM thread\n  scheduler picks thread from the Runnable state? Does it pick only one\n  thread and give it to a processor? Or, does it pick more than one\n  thread and give those threads to Running state of different\n  processors?</p>\n</blockquote>\n\n<p>I have written below code: </p>\n\n<pre><code>// Class of main thread\npublic class ThreadMain {\n\n    public static void main(String[] args) {\n\n        Runnable threadJob=new MyRunnable();\n        Thread t=new Thread(threadJob);\n        t.start();\n        System.out.println(\"Back in the Main\");\n    }\n}\n// Class of another thread\npublic class MyRunnable implements Runnable{\n\n    public void run()\n    {\n        System.out.println(\"I'm Thread\");\n    }\n}\n</code></pre>\n\n<p>Here, there are two threads. Main thread, and the thread I've created. If my machine has multiprocessor, how will it behave? Will the JVM thread scheduler pick two threads at a time, and give those to two processors?  </p>\n"},{"tags":["java","maven","intellij-idea","bcrypt","bukkit"],"comments":[{"owner":{"account_id":20256516,"reputation":45,"user_id":14856171,"display_name":"Mikachu"},"score":0,"creation_date":1695300738,"post_id":77144805,"comment_id":136008029,"body_markdown":"Looks like a neat solution. I&#39;ll try if it works, but it seems kind of verbose(?) due to having to specify the main class explicitly, while its usually handled by my IDE. If there is a better solution to this I&#39;d love to know about it.","body":"Looks like a neat solution. I&#39;ll try if it works, but it seems kind of verbose(?) due to having to specify the main class explicitly, while its usually handled by my IDE. If there is a better solution to this I&#39;d love to know about it."},{"owner":{"account_id":12618974,"reputation":113,"user_id":9550393,"display_name":"BrunnoFdc"},"score":0,"creation_date":1700255585,"post_id":77144805,"comment_id":136636415,"body_markdown":"You don&#39;t need to specify the classpath using maven-shade-plugin","body":"You don&#39;t need to specify the classpath using maven-shade-plugin"}],"owner":{"account_id":20256516,"reputation":45,"user_id":14856171,"display_name":"Mikachu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695300789,"answer_count":0,"score":0,"last_activity_date":1695300971,"creation_date":1695231550,"question_id":77144805,"body_markdown":"I&#39;ve been developing a plugin that includes a feature of saving people&#39;s alt accounts in a database. I want it to be secure, so I decided to use the same hashing algorithm/library I used in my javascript projects, BCrypt. I included jBCrypt in my pom.xml like this:\r\n```xml\r\n    &lt;dependencies&gt;\r\n        ...\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mindrot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jbcrypt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\nAnd it compiles successfully when running the `install` lifecycle within IntelliJ IDEA. However, after facing the `java.lang.NoClassDefFoundError: org/mindrot/jbcrypt/BCrypt` error ([full error](https://paste.ee/p/neZVJ))\r\n\r\nIf there is any solution to this, please let me know.\r\n\r\nI tried to solve it by googling it, deleting my local maven repo, asking ChatGPT, restarting my server, my IDE and even my PC. I later unzipped the .jar and found that it was not including ANY classes from dependencies. This was never an issue because all of my dependencies like database drivers etc. were already included in the spigot.jar.\r\n\r\nEDIT: Using the maven-shade-plugin/maven-assembly-plugin solves this, but the solution seems verbose to me. Is there a less verbose way e.g. not having to specify the class path?","title":"Is there a less verbose way to bundle a library with an additional jar?","body":"<p>I've been developing a plugin that includes a feature of saving people's alt accounts in a database. I want it to be secure, so I decided to use the same hashing algorithm/library I used in my javascript projects, BCrypt. I included jBCrypt in my pom.xml like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mindrot&lt;/groupId&gt;\n            &lt;artifactId&gt;jbcrypt&lt;/artifactId&gt;\n            &lt;version&gt;0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>And it compiles successfully when running the <code>install</code> lifecycle within IntelliJ IDEA. However, after facing the <code>java.lang.NoClassDefFoundError: org/mindrot/jbcrypt/BCrypt</code> error (<a href=\"https://paste.ee/p/neZVJ\" rel=\"nofollow noreferrer\">full error</a>)</p>\n<p>If there is any solution to this, please let me know.</p>\n<p>I tried to solve it by googling it, deleting my local maven repo, asking ChatGPT, restarting my server, my IDE and even my PC. I later unzipped the .jar and found that it was not including ANY classes from dependencies. This was never an issue because all of my dependencies like database drivers etc. were already included in the spigot.jar.</p>\n<p>EDIT: Using the maven-shade-plugin/maven-assembly-plugin solves this, but the solution seems verbose to me. Is there a less verbose way e.g. not having to specify the class path?</p>\n"},{"tags":["java","spring","spring-webflux","reactive-programming","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":2425828,"reputation":596,"user_id":2117774,"accept_rate":63,"display_name":"BreenDeen"},"score":0,"creation_date":1695299612,"post_id":77148202,"comment_id":136007791,"body_markdown":"Thank you very much. I&#39;ll try using the best option you specified. I&#39;m really grateful","body":"Thank you very much. I&#39;ll try using the best option you specified. I&#39;m really grateful"},{"owner":{"account_id":2425828,"reputation":596,"user_id":2117774,"accept_rate":63,"display_name":"BreenDeen"},"score":0,"creation_date":1695334582,"post_id":77148202,"comment_id":136014454,"body_markdown":"Nothing seems to work except I add a subscribe to the code.  Also I am trying to save the product to the products collection  and the category to an audit table. However, neither update works. When I include logging statements it says it save but that doesn&#39;t happen","body":"Nothing seems to work except I add a subscribe to the code.  Also I am trying to save the product to the products collection  and the category to an audit table. However, neither update works. When I include logging statements it says it save but that doesn&#39;t happen"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1695364405,"post_id":77148202,"comment_id":136016999,"body_markdown":"Honestly, I didn&#39;t think this was worth to mention, but of course, reactive has a general rule - nothing happens until you subsrcibe. This is the basics of reactive paradigm, you should learn more about it. Also the reason I didn&#39;t mention that is because you haven&#39;t given any context information about your code (is it a test? is it a service method? who calls this method? what that method should return? etc.). Also, you didn&#39;t mention anything about saving to db, this is another question, I suppose. The code I provided exactly answers the question asked.","body":"Honestly, I didn&#39;t think this was worth to mention, but of course, reactive has a general rule - nothing happens until you subsrcibe. This is the basics of reactive paradigm, you should learn more about it. Also the reason I didn&#39;t mention that is because you haven&#39;t given any context information about your code (is it a test? is it a service method? who calls this method? what that method should return? etc.). Also, you didn&#39;t mention anything about saving to db, this is another question, I suppose. The code I provided exactly answers the question asked."},{"owner":{"account_id":2425828,"reputation":596,"user_id":2117774,"accept_rate":63,"display_name":"BreenDeen"},"score":0,"creation_date":1695399013,"post_id":77148202,"comment_id":136023906,"body_markdown":"I&#39;m sorry I did add a subscribe which I should have mentioned that","body":"I&#39;m sorry I did add a subscribe which I should have mentioned that"}],"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695283840,"creation_date":1695282579,"answer_id":77148202,"question_id":77147178,"body_markdown":"Actually, there are many ways to implement this.\r\n\r\nHere is an example where you apply function with `flatMap()` to every element of your product flux. This function uses your category `Mono` to to set the category to the product.\r\n\r\n&lt;!-- language: java --&gt;\r\n    productsFlux.flatMap(product -&gt; categoryMono.map(category -&gt; {\r\n        product.setCategory(category);\r\n        return product;\r\n    }));\r\n\r\nOr vice versa using `flatMapMany()` on you category Mono:\r\n\r\n&lt;!-- language: java --&gt;\r\n    categoryMono.flatMapMany(category -&gt; productsFlux.map(product -&gt; {\r\n        product.setCategory(category);\r\n        return product;\r\n    }));\r\n\r\nOr you can turn your category `Mono` into hot-never-ending flux with cache and do `Flux.zip()` on your products flux and category flux, like this: (I would prefer this option since it is better to ensure that db call for category called only once)\r\n\r\n&lt;!-- language: java --&gt;\r\n    Flux&lt;String&gt; categoryHotFlux = categoryMono.cache().repeat();\r\n\r\n    Flux.zip(productsFlux, categoryHotFlux)\r\n            .map(tuple -&gt; {\r\n                Product product = tuple.getT1();\r\n                Category category = tuple.getT2();\r\n                product.setCategory(category);\r\n                return product;\r\n            });","title":"How can I combine a Mono and a Flux","body":"<p>Actually, there are many ways to implement this.</p>\n<p>Here is an example where you apply function with <code>flatMap()</code> to every element of your product flux. This function uses your category <code>Mono</code> to to set the category to the product.</p>\n<pre class=\"lang-java prettyprint-override\"><code>productsFlux.flatMap(product -&gt; categoryMono.map(category -&gt; {\n    product.setCategory(category);\n    return product;\n}));\n</code></pre>\n<p>Or vice versa using <code>flatMapMany()</code> on you category Mono:</p>\n<pre class=\"lang-java prettyprint-override\"><code>categoryMono.flatMapMany(category -&gt; productsFlux.map(product -&gt; {\n    product.setCategory(category);\n    return product;\n}));\n</code></pre>\n<p>Or you can turn your category <code>Mono</code> into hot-never-ending flux with cache and do <code>Flux.zip()</code> on your products flux and category flux, like this: (I would prefer this option since it is better to ensure that db call for category called only once)</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;String&gt; categoryHotFlux = categoryMono.cache().repeat();\n\nFlux.zip(productsFlux, categoryHotFlux)\n        .map(tuple -&gt; {\n            Product product = tuple.getT1();\n            Category category = tuple.getT2();\n            product.setCategory(category);\n            return product;\n        });\n</code></pre>\n"}],"owner":{"account_id":2425828,"reputation":596,"user_id":2117774,"accept_rate":63,"display_name":"BreenDeen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77148202,"answer_count":1,"score":1,"last_activity_date":1695300869,"creation_date":1695270034,"question_id":77147178,"body_markdown":"I am creating a Flux of Product and a Mono Category object that needs to be applied to the Products because all they all all to be grouped into the same category. I am attempting to add the category to each Product like this.\r\n\r\n```java\r\n\r\n     Flux&lt;Product&gt; products = productRepository.findAllById(productCodes);\r\n     Mono&lt;Category&gt; category = categoryRepository.findById(productCodes.get(0));\r\n     \r\n     The category for all these products should be set as:\r\n\r\n     //If these were a list of products i.e List&lt;Product&gt; productList and Category was \r\n     //not a Mono I would set them like this:\r\n \r\n     productList.forEach( product -&gt; product.setCategory(category));\r\n\r\n```\r\n\r\nSince the respective repositories return Mono and Flux respectively, I am unsure how to do that use the reactive framework as I am very new to it. Can someone please show me how to achieve this using reactive?","title":"How can I combine a Mono and a Flux","body":"<p>I am creating a Flux of Product and a Mono Category object that needs to be applied to the Products because all they all all to be grouped into the same category. I am attempting to add the category to each Product like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n     Flux&lt;Product&gt; products = productRepository.findAllById(productCodes);\n     Mono&lt;Category&gt; category = categoryRepository.findById(productCodes.get(0));\n     \n     The category for all these products should be set as:\n\n     //If these were a list of products i.e List&lt;Product&gt; productList and Category was \n     //not a Mono I would set them like this:\n \n     productList.forEach( product -&gt; product.setCategory(category));\n\n</code></pre>\n<p>Since the respective repositories return Mono and Flux respectively, I am unsure how to do that use the reactive framework as I am very new to it. Can someone please show me how to achieve this using reactive?</p>\n"},{"tags":["java","testng","appium-android","cucumber-java"],"answers":[{"comments":[{"owner":{"account_id":21977865,"reputation":21,"user_id":16253400,"display_name":"Dhananjay kumar"},"score":0,"creation_date":1695357680,"post_id":77150404,"comment_id":136016311,"body_markdown":"Not working as it still taking the same set of login credentials for all the test cases executing in parallel.","body":"Not working as it still taking the same set of login credentials for all the test cases executing in parallel."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1695372451,"post_id":77150404,"comment_id":136018412,"body_markdown":"Sounds like you&#39;re doing something wrong. But hard to say what that is.","body":"Sounds like you&#39;re doing something wrong. But hard to say what that is."},{"owner":{"account_id":21977865,"reputation":21,"user_id":16253400,"display_name":"Dhananjay kumar"},"score":0,"creation_date":1695396556,"post_id":77150404,"comment_id":136023478,"body_markdown":"can we connect somewhere e.g. Google Meet and MS Teams etc.","body":"can we connect somewhere e.g. Google Meet and MS Teams etc."}],"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695300533,"creation_date":1695300533,"answer_id":77150404,"question_id":77150309,"body_markdown":"To share data between steps you&#39;ll want to use dependency injection. Cucumber supports a few frameworks, but picocontainer is the easiest to get started with.\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n  [...]\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  [...]\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nSo suppose you have a class you want to share between different step definition classes. Note the absence of static fields, thread locals or concurrent data structures - you don&#39;t need them, `cucumber-picocontainer` care of that. \r\n\r\n```java\r\nimport java.util.List;\r\n\r\npublic class Belly {\r\n\r\n    private final List&lt;String&gt; contents;\r\n\r\n    public void setContents(List&lt;String&gt; contents){\r\n        this.contents = contents;\r\n    }\r\n    \r\n    public List&lt;String&gt; getContents(){\r\n        return contents;\r\n    }\r\n}\r\n```\r\n\r\nThen you declare `Belly` as a constructor argument for your step definitions. \r\n\r\n```java\r\n\r\nimport cucumber.api.java.en.Given;\r\nimport cucumber.api.java.en.Then;\r\n\r\nimport java.util.Collections;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class StepDefinition {\r\n\r\n    private final Belly belly;\r\n\r\n    public StepDefinitions(Belly belly) {\r\n        this.belly = belly;\r\n    }\r\n\r\n    @Given(&quot;I have {int} {word} in my belly&quot;)\r\n    public void I_have_n_things_in_my_belly(int n, String what) {\r\n        belly.setContents(Collections.nCopies(n, what));\r\n    }\r\n\r\n    @Then(&quot;there are {int} cukes in my belly&quot;)\r\n    public void checkCukes(int n) {\r\n        assertEquals(belly.getContents(), Collections.nCopies(n, &quot;cukes&quot;));\r\n    }\r\n}\r\n```\r\n\r\nWhen running your steps, Cucumber will when creating an instance of the `StepDefinition` class also create an instance of `Belly`. This instance is unique for each scenario and any data stored in it won&#39;t leak to the next scenario. \r\n\r\nSee: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-picocontainer for more.","title":"Managing Concurrent Data Storage for Cucumber BDD Tests in a Parallel Execution Environment","body":"<p>To share data between steps you'll want to use dependency injection. Cucumber supports a few frameworks, but picocontainer is the easiest to get started with.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  [...]\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  [...]\n&lt;/dependencies&gt;\n</code></pre>\n<p>So suppose you have a class you want to share between different step definition classes. Note the absence of static fields, thread locals or concurrent data structures - you don't need them, <code>cucumber-picocontainer</code> care of that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\npublic class Belly {\n\n    private final List&lt;String&gt; contents;\n\n    public void setContents(List&lt;String&gt; contents){\n        this.contents = contents;\n    }\n    \n    public List&lt;String&gt; getContents(){\n        return contents;\n    }\n}\n</code></pre>\n<p>Then you declare <code>Belly</code> as a constructor argument for your step definitions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport cucumber.api.java.en.Given;\nimport cucumber.api.java.en.Then;\n\nimport java.util.Collections;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class StepDefinition {\n\n    private final Belly belly;\n\n    public StepDefinitions(Belly belly) {\n        this.belly = belly;\n    }\n\n    @Given(&quot;I have {int} {word} in my belly&quot;)\n    public void I_have_n_things_in_my_belly(int n, String what) {\n        belly.setContents(Collections.nCopies(n, what));\n    }\n\n    @Then(&quot;there are {int} cukes in my belly&quot;)\n    public void checkCukes(int n) {\n        assertEquals(belly.getContents(), Collections.nCopies(n, &quot;cukes&quot;));\n    }\n}\n</code></pre>\n<p>When running your steps, Cucumber will when creating an instance of the <code>StepDefinition</code> class also create an instance of <code>Belly</code>. This instance is unique for each scenario and any data stored in it won't leak to the next scenario.</p>\n<p>See: <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-picocontainer\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-picocontainer</a> for more.</p>\n"}],"owner":{"account_id":21977865,"reputation":21,"user_id":16253400,"display_name":"Dhananjay kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695300533,"creation_date":1695299860,"question_id":77150309,"body_markdown":"Issue Summary:\r\nIn our Cucumber BDD framework using Java, we&#39;ve encountered a conflict while attempting to run multiple test cases in parallel. Each test case relies on storing raw data in a shared data structure (like a Map Interface). However, due to parallel execution, different threads end up containing conflicting values, leading to inaccurate test results.\r\n\r\nContext:\r\n\r\nWe are utilizing the Cucumber BDD framework with Java for our test automation.\r\nEach test case involves storing raw data in a shared data structure, specifically a Map Interface.\r\nThe goal is to parallelize test execution to improve efficiency and reduce test execution time.\r\nHowever, the parallel execution is causing conflicts in the shared data structure due to different threads accessing and modifying the data concurrently.\r\nRequest for Assistance:\r\n\r\nHow can we organize the storage of the Map Interface to ensure that each thread has its own isolated data for each test case?\r\nWhat approaches or best practices can we adopt to manage data storage efficiently and handle concurrent access during parallel test execution?\r\nPotential Approaches:\r\n\r\nThreadLocal with ConcurrentHashMap:\r\nUtilize ThreadLocal along with a ConcurrentHashMap to create thread-specific data storage, ensuring each test case has its independent data map.\r\n\r\nInheritableThreadLocal:\r\nExplore using InheritableThreadLocal to allow child threads to inherit the initial data map from the parent thread, providing a hierarchical approach to thread-specific data.\r\n\r\nCustom Data Structure with Synchronization:\r\nConsider a synchronized data structure (e.g., synchronized map) to handle concurrent access, ensuring each thread can access its test data in a synchronized manner.\r\n\r\nDatabase or External Storage:\r\nEvaluate the option of storing test data in a database or an external storage system, allowing each thread to retrieve and update its specific test data without conflicts.\r\n\r\nRequest for Guidance:\r\nWe are seeking advice, best practices, or code examples on implementing the chosen approach to handle concurrent data storage effectively during parallel test execution in our Cucumber BDD framework using Java.\r\n\r\n\r\n\r\n**1. Thread-Safe Data Structure Initialization:**\r\nInitialize a ThreadLocal variable to hold the Map for each thread. This ensures that each thread has its own isolated Map.\r\n\r\n```\r\npublic class TestData {\r\n    private static ThreadLocal&lt;Map&lt;String, Object&gt;&gt; testData = ThreadLocal.withInitial(HashMap::new);\r\n\r\n    public static Map&lt;String, Object&gt; getTestData() {\r\n        return testData.get();\r\n    }\r\n\r\n    public static void setTestData(Map&lt;String, Object&gt; data) {\r\n        testData.set(data);\r\n    }\r\n\r\n    public static void clearTestData() {\r\n        testData.remove();\r\n    }\r\n}\r\n```\r\n**2. Updating Raw Data for Each Test Case:**\r\nWhenever a step updates raw data, it should use the ThreadLocal Map to store data specific to the current test case.\r\n```\r\npublic class YourStepDefinitions {\r\n    @Given(&quot;some condition&quot;)\r\n    public void givenSomeCondition() {\r\n        // Retrieve the thread-specific Map for this test case\r\n        Map&lt;String, Object&gt; testData = TestData.getTestData();\r\n\r\n        // Add/update raw data for this test case\r\n        testData.put(&quot;key&quot;, &quot;value&quot;);\r\n    }\r\n\r\n    // Other step definitions\r\n}\r\n```\r\n**3. Usage in Cucumber Runner:**\r\nWhen running the tests in parallel, ensure that each thread operates on its own test data using the ThreadLocal Map and this is done for the Hooks class.\r\n`public class RunCucumberTests {\r\n    @Before\r\n    public void setUp() {\r\n        // Initialize thread-specific test data\r\n        TestData.setTestData(new HashMap&lt;&gt;());\r\n    }\r\n\r\n    @After\r\n    public void tearDown() {\r\n        // Clear thread-specific test data after each scenario\r\n        TestData.clearTestData();\r\n    }\r\n}`\r\n\r\n","title":"Managing Concurrent Data Storage for Cucumber BDD Tests in a Parallel Execution Environment","body":"<p>Issue Summary:\nIn our Cucumber BDD framework using Java, we've encountered a conflict while attempting to run multiple test cases in parallel. Each test case relies on storing raw data in a shared data structure (like a Map Interface). However, due to parallel execution, different threads end up containing conflicting values, leading to inaccurate test results.</p>\n<p>Context:</p>\n<p>We are utilizing the Cucumber BDD framework with Java for our test automation.\nEach test case involves storing raw data in a shared data structure, specifically a Map Interface.\nThe goal is to parallelize test execution to improve efficiency and reduce test execution time.\nHowever, the parallel execution is causing conflicts in the shared data structure due to different threads accessing and modifying the data concurrently.\nRequest for Assistance:</p>\n<p>How can we organize the storage of the Map Interface to ensure that each thread has its own isolated data for each test case?\nWhat approaches or best practices can we adopt to manage data storage efficiently and handle concurrent access during parallel test execution?\nPotential Approaches:</p>\n<p>ThreadLocal with ConcurrentHashMap:\nUtilize ThreadLocal along with a ConcurrentHashMap to create thread-specific data storage, ensuring each test case has its independent data map.</p>\n<p>InheritableThreadLocal:\nExplore using InheritableThreadLocal to allow child threads to inherit the initial data map from the parent thread, providing a hierarchical approach to thread-specific data.</p>\n<p>Custom Data Structure with Synchronization:\nConsider a synchronized data structure (e.g., synchronized map) to handle concurrent access, ensuring each thread can access its test data in a synchronized manner.</p>\n<p>Database or External Storage:\nEvaluate the option of storing test data in a database or an external storage system, allowing each thread to retrieve and update its specific test data without conflicts.</p>\n<p>Request for Guidance:\nWe are seeking advice, best practices, or code examples on implementing the chosen approach to handle concurrent data storage effectively during parallel test execution in our Cucumber BDD framework using Java.</p>\n<p><strong>1. Thread-Safe Data Structure Initialization:</strong>\nInitialize a ThreadLocal variable to hold the Map for each thread. This ensures that each thread has its own isolated Map.</p>\n<pre><code>public class TestData {\n    private static ThreadLocal&lt;Map&lt;String, Object&gt;&gt; testData = ThreadLocal.withInitial(HashMap::new);\n\n    public static Map&lt;String, Object&gt; getTestData() {\n        return testData.get();\n    }\n\n    public static void setTestData(Map&lt;String, Object&gt; data) {\n        testData.set(data);\n    }\n\n    public static void clearTestData() {\n        testData.remove();\n    }\n}\n</code></pre>\n<p><strong>2. Updating Raw Data for Each Test Case:</strong>\nWhenever a step updates raw data, it should use the ThreadLocal Map to store data specific to the current test case.</p>\n<pre><code>public class YourStepDefinitions {\n    @Given(&quot;some condition&quot;)\n    public void givenSomeCondition() {\n        // Retrieve the thread-specific Map for this test case\n        Map&lt;String, Object&gt; testData = TestData.getTestData();\n\n        // Add/update raw data for this test case\n        testData.put(&quot;key&quot;, &quot;value&quot;);\n    }\n\n    // Other step definitions\n}\n</code></pre>\n<p><strong>3. Usage in Cucumber Runner:</strong>\nWhen running the tests in parallel, ensure that each thread operates on its own test data using the ThreadLocal Map and this is done for the Hooks class.\n`public class RunCucumberTests {\n@Before\npublic void setUp() {\n// Initialize thread-specific test data\nTestData.setTestData(new HashMap&lt;&gt;());\n}</p>\n<pre><code>@After\npublic void tearDown() {\n    // Clear thread-specific test data after each scenario\n    TestData.clearTestData();\n}\n</code></pre>\n<p>}`</p>\n"},{"tags":["java","spring","opensearch"],"answers":[{"tags":[],"owner":{"account_id":19199389,"reputation":21,"user_id":14027622,"display_name":"Inconvenient9"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695300073,"creation_date":1695300073,"answer_id":77150339,"question_id":77141277,"body_markdown":"I found a solution:\r\n\r\n```\r\n.setRequestConfigCallback(requestConfigBuilder -&gt; requestConfigBuilder.setSocketTimeout(10000))\r\n```","title":"Configure read timeout OpenSearch client","body":"<p>I found a solution:</p>\n<pre><code>.setRequestConfigCallback(requestConfigBuilder -&gt; requestConfigBuilder.setSocketTimeout(10000))\n</code></pre>\n"}],"owner":{"account_id":19199389,"reputation":21,"user_id":14027622,"display_name":"Inconvenient9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695300073,"creation_date":1695203656,"question_id":77141277,"body_markdown":"I don&#39;t find in documentation how to configure read timeout on an opensearch RestHighLevelClient\r\n\r\n\r\n\r\n\r\n\r\n```\r\nfinal CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n            credentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username, password));\r\n            RestClientBuilder builder = RestClient.builder(\r\n                            new HttpHost(url, port, scheme))\r\n                    .setHttpClientConfigCallback(httpClientBuilder -&gt; httpClientBuilder\r\n                            .setDefaultCredentialsProvider(credentialsProvider));\r\n            return new RestHighLevelClient(builder);\r\n```","title":"Configure read timeout OpenSearch client","body":"<p>I don't find in documentation how to configure read timeout on an opensearch RestHighLevelClient</p>\n<pre><code>final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n            credentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username, password));\n            RestClientBuilder builder = RestClient.builder(\n                            new HttpHost(url, port, scheme))\n                    .setHttpClientConfigCallback(httpClientBuilder -&gt; httpClientBuilder\n                            .setDefaultCredentialsProvider(credentialsProvider));\n            return new RestHighLevelClient(builder);\n</code></pre>\n"},{"tags":["java","android","json"],"answers":[{"tags":[],"owner":{"account_id":6901421,"reputation":1030,"user_id":5370569,"display_name":"Nataraj KR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586536569,"creation_date":1586536569,"answer_id":61144627,"question_id":61144481,"body_markdown":"`error` in `obj.getBoolean(&quot;error&quot;)` is the key name. `getBoolean` method looks for `error` key name and returns its value if it exists and is of Boolean type else throws `JSONException`. Use `optBoolean` instead which returns `false` for exception or fallback value if specified.","title":"How JSONObject method getBoolean(&quot;error&quot;) works?","body":"<p><code>error</code> in <code>obj.getBoolean(\"error\")</code> is the key name. <code>getBoolean</code> method looks for <code>error</code> key name and returns its value if it exists and is of Boolean type else throws <code>JSONException</code>. Use <code>optBoolean</code> instead which returns <code>false</code> for exception or fallback value if specified.</p>\n"},{"tags":[],"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586536602,"creation_date":1586536602,"answer_id":61144634,"question_id":61144481,"body_markdown":"`&quot;error&quot;` is a key.\r\n\r\n`JSONObject` represents a single object in JSON, and the `JSONObject.getBoolean(String key)` method looks for a key-value pair with the given key in that object. It look only at the first level of that one object, not deeper. ","title":"How JSONObject method getBoolean(&quot;error&quot;) works?","body":"<p><code>\"error\"</code> is a key.</p>\n\n<p><code>JSONObject</code> represents a single object in JSON, and the <code>JSONObject.getBoolean(String key)</code> method looks for a key-value pair with the given key in that object. It look only at the first level of that one object, not deeper. </p>\n"},{"tags":[],"owner":{"account_id":11225900,"reputation":51,"user_id":8235504,"display_name":"Elango Sk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695299351,"creation_date":1695299351,"answer_id":77150245,"question_id":61144481,"body_markdown":"Try this\r\n&#39;&#39;&#39;boolean remarks = processInput.containsKey(&quot;status&quot;); &#39;&#39;&#39;","title":"How JSONObject method getBoolean(&quot;error&quot;) works?","body":"<p>Try this\n'''boolean remarks = processInput.containsKey(&quot;status&quot;); '''</p>\n"}],"owner":{"account_id":18221864,"reputation":57,"user_id":13262453,"display_name":"Crunch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1328,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":61144634,"answer_count":3,"score":0,"last_activity_date":1695299351,"creation_date":1586536034,"question_id":61144481,"body_markdown":"I have following code which includes error checking expression:\r\n\r\n    JSONObject obj = new JSONObject(response);\r\n    if (!obj.getBoolean(&quot;error&quot;))\r\n\r\nI am wondering, how **getBoolean(String name)** works, will it search just &quot;error&quot; string in whole response body &amp; return TRUE or FALSE as we did not provide any arguments except &quot;error&quot; or there is something deeper than this?\r\nIs &quot;error&quot; a **key** or a **value** in the returned object?\r\n","title":"How JSONObject method getBoolean(&quot;error&quot;) works?","body":"<p>I have following code which includes error checking expression:</p>\n\n<pre><code>JSONObject obj = new JSONObject(response);\nif (!obj.getBoolean(\"error\"))\n</code></pre>\n\n<p>I am wondering, how <strong>getBoolean(String name)</strong> works, will it search just \"error\" string in whole response body &amp; return TRUE or FALSE as we did not provide any arguments except \"error\" or there is something deeper than this?\nIs \"error\" a <strong>key</strong> or a <strong>value</strong> in the returned object?</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"answers":[{"comments":[{"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"score":0,"creation_date":1643017957,"post_id":69467064,"comment_id":125219313,"body_markdown":"everytime we should update POM with latest selenium ? @Nandan A","body":"everytime we should update POM with latest selenium ? @Nandan A"},{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1643110839,"post_id":69467064,"comment_id":125247736,"body_markdown":"No I guess. That was selenium beta version but if you use latest one it&#39;s not required.","body":"No I guess. That was selenium beta version but if you use latest one it&#39;s not required."}],"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1633528326,"creation_date":1633528326,"answer_id":69467064,"question_id":69466279,"body_markdown":"As per `Selenium` documentation,\r\n\r\n- The version `v4.0.0-rc-1` supports `CDP` versions: `85`, `92`, `93`.\r\n\r\nBut you are using `94` version of `Chrome` and `ChromeDriver`. So please update your dependencies to latest version\r\n`v4.0.0-rc-2` \r\n\r\n**Dependency**: \r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0-rc-2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Reference**: https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG\r\n","title":"Java - Selenium - Unable to find an exact match for CDP version 94, so returning the closest version found: 93","body":"<p>As per <code>Selenium</code> documentation,</p>\n<ul>\n<li>The version <code>v4.0.0-rc-1</code> supports <code>CDP</code> versions: <code>85</code>, <code>92</code>, <code>93</code>.</li>\n</ul>\n<p>But you are using <code>94</code> version of <code>Chrome</code> and <code>ChromeDriver</code>. So please update your dependencies to latest version\n<code>v4.0.0-rc-2</code></p>\n<p><strong>Dependency</strong>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0-rc-2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Reference</strong>: <a href=\"https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG\" rel=\"noreferrer\">https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG</a></p>\n"},{"tags":[],"owner":{"account_id":6385042,"reputation":63,"user_id":8077939,"display_name":"aakaasaraamanna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684904274,"creation_date":1684904274,"answer_id":76320194,"question_id":69466279,"body_markdown":"What worked for me is adding the specific dependency that directly supports the webdriver and browser I am using. I am using v113 of chrome, so I added the selenium-devtools-v113 dependency and that got rid of all the warnings.\r\n[Get the version you need from the link here.][1]\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-devtools-v113&lt;/artifactId&gt;\r\n            &lt;version&gt;4.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nAnd for the sl4j warning (which I see in the question), I added the below dependency\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://mvnrepository.com/search?q=Selenium%20DevTools","title":"Java - Selenium - Unable to find an exact match for CDP version 94, so returning the closest version found: 93","body":"<p>What worked for me is adding the specific dependency that directly supports the webdriver and browser I am using. I am using v113 of chrome, so I added the selenium-devtools-v113 dependency and that got rid of all the warnings.\n<a href=\"https://mvnrepository.com/search?q=Selenium%20DevTools\" rel=\"nofollow noreferrer\">Get the version you need from the link here.</a></p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-devtools-v113&lt;/artifactId&gt;\n            &lt;version&gt;4.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And for the sl4j warning (which I see in the question), I added the below dependency</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":18887601,"reputation":83,"user_id":13778663,"display_name":"Maca Prado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42515,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":69467064,"answer_count":2,"score":7,"last_activity_date":1695298232,"creation_date":1633525491,"question_id":69466279,"body_markdown":"I&#39;m new to Selenium and I&#39;m having an error about CDP versions when running my code.\r\nThis is my code. It&#39;s simple, aiming to log in into some web page. The driver opens, fills the email and password but when reaching the button, the driver closes. Even if I set another wait for ten minutes after the button. \r\n\r\n```\r\n    public static void main(String[] args) {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;path/to/my/chromedriver&quot;);\r\n            WebDriver driver = new ChromeDriver();\r\n            WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n            try {\r\n                driver.get(&quot;https://someweb.com/&quot;);\r\n                driver.findElement(By.name(&quot;Email&quot;)).sendKeys(&quot;anemail@email.com&quot;);\r\n                driver.findElement(By.name(&quot;Password&quot;)).sendKeys(&quot;randomPass&quot;);\r\n                driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login-form\\&quot;]/button&quot;)).sendKeys(Keys.ENTER);\r\n            } finally {\r\n                driver.quit();\r\n            }\r\n\r\n        }\r\n```\r\n\r\nI get the following warning in my log\r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nStarting ChromeDriver 94.0.4606.61 (418b78f5838ed0b1c69bb4e51ea0252171854915-refs/branch-heads/4606@{#1204}) on port 44814\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\noct 06, 2021 9:45:02 AM org.openqa.selenium.remote.ProtocolHandshake createSession\r\nINFO: Detected dialect: W3C\r\noct 06, 2021 9:45:02 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\nWARNING: Unable to find an exact match for CDP version 94, so returning the closest version found: 93\r\noct 06, 2021 9:45:02 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\nINFO: Found CDP implementation for version 94 of 93\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nAnd I have the following dependencies in my pom\r\n\r\n```\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0-rc-1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0-rc-1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-devtools&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0-rc-1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nI have no idea why the driver exits so suddenly. Chrome and ChromeDriver version is 94.0.4606.61. Thanks in advance!","title":"Java - Selenium - Unable to find an exact match for CDP version 94, so returning the closest version found: 93","body":"<p>I'm new to Selenium and I'm having an error about CDP versions when running my code.\nThis is my code. It's simple, aiming to log in into some web page. The driver opens, fills the email and password but when reaching the button, the driver closes. Even if I set another wait for ten minutes after the button.</p>\n<pre><code>    public static void main(String[] args) {\n            System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;path/to/my/chromedriver&quot;);\n            WebDriver driver = new ChromeDriver();\n            WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n            try {\n                driver.get(&quot;https://someweb.com/&quot;);\n                driver.findElement(By.name(&quot;Email&quot;)).sendKeys(&quot;anemail@email.com&quot;);\n                driver.findElement(By.name(&quot;Password&quot;)).sendKeys(&quot;randomPass&quot;);\n                driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login-form\\&quot;]/button&quot;)).sendKeys(Keys.ENTER);\n            } finally {\n                driver.quit();\n            }\n\n        }\n</code></pre>\n<p>I get the following warning in my log</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarting ChromeDriver 94.0.4606.61 (418b78f5838ed0b1c69bb4e51ea0252171854915-refs/branch-heads/4606@{#1204}) on port 44814\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\noct 06, 2021 9:45:02 AM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\noct 06, 2021 9:45:02 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 94, so returning the closest version found: 93\noct 06, 2021 9:45:02 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nINFO: Found CDP implementation for version 94 of 93\n\nProcess finished with exit code 0\n</code></pre>\n<p>And I have the following dependencies in my pom</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-rc-1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-rc-1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-devtools&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-rc-1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I have no idea why the driver exits so suddenly. Chrome and ChromeDriver version is 94.0.4606.61. Thanks in advance!</p>\n"},{"tags":["java","java-record"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1695287125,"post_id":77148710,"comment_id":136005204,"body_markdown":"There are immutable collection types. [Example](https://guava.dev/releases/23.0/api/docs/com/google/common/collect/ImmutableList.html)","body":"There are immutable collection types. <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/collect/ImmutableList.html\" rel=\"nofollow noreferrer\">Example</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1695294242,"post_id":77148710,"comment_id":136006708,"body_markdown":"Use `List.copyOf(..)` instead of `new ArrayList(..)`, and remove the use of `unmodifiableList`.","body":"Use <code>List.copyOf(..)</code> instead of <code>new ArrayList(..)</code>, and remove the use of <code>unmodifiableList</code>."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1695380654,"post_id":77148710,"comment_id":136020064,"body_markdown":"In later JDKs another benefit of `List.copyOf(bar)` is that the list won&#39;t be copied if the list is known to be immutable - say from an earlier `List.copyOf(xyz)`.","body":"In later JDKs another benefit of <code>List.copyOf(bar)</code> is that the list won&#39;t be copied if the list is known to be immutable - say from an earlier <code>List.copyOf(xyz)</code>."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1695298107,"creation_date":1695288803,"answer_id":77148959,"question_id":77148710,"body_markdown":"As far as the state of the list is concerned, this is enough for the record to be immutable. A test that proves it:\r\n```\r\npublic class ImmutabilityTests {\r\n\r\n  private List&lt;String&gt; initialList;\r\n  private Foo foo;\r\n  private List&lt;String&gt; expectedList;\r\n\r\n  @BeforeEach\r\n  void setUp() {\r\n    this.initialList = new ArrayList&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\r\n    this.foo = new Foo(this.initialList);\r\n    this.expectedList = new ArrayList&lt;&gt;(this.initialList);\r\n  }\r\n\r\n  @Test\r\n  public void testRecordListEqualsInitialList() {\r\n    assertEquals(this.expectedList, this.foo.bar(), &quot;Record list does not equal initial list&quot;);\r\n  }\r\n\r\n  @Test\r\n  public void testChangingInitialListDoesNotAffectRecordList() {\r\n    this.initialList.clear();\r\n    assertEquals(this.expectedList, this.foo.bar(), &quot;Changing initial list should not affect record list&quot;);\r\n  }\r\n\r\n  @Test\r\n  public void testChangingRecordListThrowsException() {\r\n    assertThrows(UnsupportedOperationException.class, () -&gt; this.foo.bar().clear(), &quot;Record list was not immutable&quot;);\r\n  }\r\n}\r\n```\r\nThe list in `Foo` is equal to the initial list, changing initial list does not change list in record, and attempting to change list in `Foo` throws exception.\r\n\r\nAdditionally you can simplify the record constructor, using [`List.copyOf()`][1]:\r\n\r\n&gt; Returns an unmodifiable List containing the elements of the given Collection, in its iteration order. The given Collection must not be null, and it must not contain any null elements. If the given Collection is subsequently modified, the returned List will not reflect such modifications.\r\n\r\n```\r\npublic record Foo(List&lt;String&gt; bar) {\r\n  public Foo {\r\n    bar = List.copyOf(bar);\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection)","title":"Make record truly immutable even a field is a collection","body":"<p>As far as the state of the list is concerned, this is enough for the record to be immutable. A test that proves it:</p>\n<pre><code>public class ImmutabilityTests {\n\n  private List&lt;String&gt; initialList;\n  private Foo foo;\n  private List&lt;String&gt; expectedList;\n\n  @BeforeEach\n  void setUp() {\n    this.initialList = new ArrayList&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\n    this.foo = new Foo(this.initialList);\n    this.expectedList = new ArrayList&lt;&gt;(this.initialList);\n  }\n\n  @Test\n  public void testRecordListEqualsInitialList() {\n    assertEquals(this.expectedList, this.foo.bar(), &quot;Record list does not equal initial list&quot;);\n  }\n\n  @Test\n  public void testChangingInitialListDoesNotAffectRecordList() {\n    this.initialList.clear();\n    assertEquals(this.expectedList, this.foo.bar(), &quot;Changing initial list should not affect record list&quot;);\n  }\n\n  @Test\n  public void testChangingRecordListThrowsException() {\n    assertThrows(UnsupportedOperationException.class, () -&gt; this.foo.bar().clear(), &quot;Record list was not immutable&quot;);\n  }\n}\n</code></pre>\n<p>The list in <code>Foo</code> is equal to the initial list, changing initial list does not change list in record, and attempting to change list in <code>Foo</code> throws exception.</p>\n<p>Additionally you can simplify the record constructor, using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>List.copyOf()</code></a>:</p>\n<blockquote>\n<p>Returns an unmodifiable List containing the elements of the given Collection, in its iteration order. The given Collection must not be null, and it must not contain any null elements. If the given Collection is subsequently modified, the returned List will not reflect such modifications.</p>\n</blockquote>\n<pre><code>public record Foo(List&lt;String&gt; bar) {\n  public Foo {\n    bar = List.copyOf(bar);\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1695294334,"post_id":77149616,"comment_id":136006723,"body_markdown":"The field in a record is already `final` (the assignments to `bar` in the constructor shown in the question are to the constructor parameter, not the field).","body":"The field in a record is already <code>final</code> (the assignments to <code>bar</code> in the constructor shown in the question are to the constructor parameter, not the field)."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1695298955,"post_id":77149616,"comment_id":136007660,"body_markdown":"`it creates an immutable list regardless of what are the contents. Even if the instances that you store in the list are of a mutable class.` - this is misleading. You can iterate an unmodifiable list, and mutate the state of each element in it, the most obvious example being calling the setter of a property - `element.setMyProperty(value)`.","body":"<code>it creates an immutable list regardless of what are the contents. Even if the instances that you store in the list are of a mutable class.</code> - this is misleading. You can iterate an unmodifiable list, and mutate the state of each element in it, the most obvious example being calling the setter of a property - <code>element.setMyProperty(value)</code>."}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695293866,"creation_date":1695293866,"answer_id":77149616,"question_id":77148710,"body_markdown":"Method `Collections.unmodifiableList()` is your answer. it creates an immutable list regardless of what are the contents. Even if the instances that you store in the list are of a mutable class. One more trick before you pass your list as a parameter do this:\r\n\r\n    public final ArrayList&lt;MyClass&gt; constantList = Collections.unmodifiableList(origList);\r\n\r\nThis will protect you from someone assigning new list instance to your `constantList`","title":"Make record truly immutable even a field is a collection","body":"<p>Method <code>Collections.unmodifiableList()</code> is your answer. it creates an immutable list regardless of what are the contents. Even if the instances that you store in the list are of a mutable class. One more trick before you pass your list as a parameter do this:</p>\n<pre><code>public final ArrayList&lt;MyClass&gt; constantList = Collections.unmodifiableList(origList);\n</code></pre>\n<p>This will protect you from someone assigning new list instance to your <code>constantList</code></p>\n"}],"owner":{"account_id":123781,"reputation":516,"user_id":318457,"accept_rate":20,"display_name":"hibbelig"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1695298107,"creation_date":1695286884,"question_id":77148710,"body_markdown":"The naive approach to have a record field that is a collection leads to mutable records, and I think that&#39;s something we don&#39;t want.\r\n\r\nDo people generally ignore this aspect, or does one try hard to make the record truly immutable?\r\n\r\nIf the latter, what would one do?\r\n\r\nThe naive approach would be `record Foo(List&lt;String&gt; bar) { }`, and I guess people can do `foo.bar().add(...)` and similar things to mutate this “immutable” record.\r\n\r\nThe record constructor could clone the list, then make it unmodifiable, would that be sufficient?\r\n\r\n```java\r\nrecord Foo(List&lt;String&gt; bar) {\r\n    Foo {\r\n        bar = new ArrayList&lt;&gt;(bar);\r\n        bar = Collections.unmodifiableList(bar);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m not sure if this leads to some other way where `foo.bar()` ends up being mutable after all.\r\n\r\nAll of the above can only work because `String` is immutable, I understand that we need to make sure that a record is only constructed of immutable things.","title":"Make record truly immutable even a field is a collection","body":"<p>The naive approach to have a record field that is a collection leads to mutable records, and I think that's something we don't want.</p>\n<p>Do people generally ignore this aspect, or does one try hard to make the record truly immutable?</p>\n<p>If the latter, what would one do?</p>\n<p>The naive approach would be <code>record Foo(List&lt;String&gt; bar) { }</code>, and I guess people can do <code>foo.bar().add(...)</code> and similar things to mutate this “immutable” record.</p>\n<p>The record constructor could clone the list, then make it unmodifiable, would that be sufficient?</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Foo(List&lt;String&gt; bar) {\n    Foo {\n        bar = new ArrayList&lt;&gt;(bar);\n        bar = Collections.unmodifiableList(bar);\n    }\n}\n</code></pre>\n<p>I'm not sure if this leads to some other way where <code>foo.bar()</code> ends up being mutable after all.</p>\n<p>All of the above can only work because <code>String</code> is immutable, I understand that we need to make sure that a record is only constructed of immutable things.</p>\n"},{"tags":["java","postgresql","jdbctemplate"],"answers":[{"comments":[{"owner":{"account_id":4348444,"reputation":73,"user_id":3549689,"accept_rate":50,"display_name":"Dmitry"},"score":0,"creation_date":1647429161,"post_id":44371703,"comment_id":126367245,"body_markdown":"This solution doesn&#39;t work if you use Postgresql 12 version and you decalre function.\nIt&#39;s work for procedure,\nYou can see PgDatabaseMetaData.class, \nline 627, \nyour complited sql for `getProcedures` include `p.prokind=p` - only for procedure, but not for function","body":"This solution doesn&#39;t work if you use Postgresql 12 version and you decalre function. It&#39;s work for procedure, You can see PgDatabaseMetaData.class,  line 627,  your complited sql for <code>getProcedures</code> include <code>p.prokind=p</code> - only for procedure, but not for function"}],"tags":[],"owner":{"account_id":5230492,"reputation":3451,"user_id":4181015,"display_name":"Bohdan Levchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1496675409,"creation_date":1496674365,"answer_id":44371703,"question_id":44371117,"body_markdown":"Ok, the first thing you should do is design that function for insert/update data. Postgres supports many languages for that, but the most popular one is plpgsql.\r\n\r\nThe function itself might look like:\r\n\r\n    CREATE OR REPLACE FUNCTION update_employee(p_id INT, p_name VARCHAR(255), p_age INT, p_salary DECIMAL)\r\n      RETURNS INT\r\n    LANGUAGE plpgsql\r\n    AS $$\r\n    BEGIN\r\n      IF p_id IS NULL\r\n      THEN\r\n        INSERT INTO employee (name, age, salary) VALUES (p_name, p_age, p_salary) RETURNING id INTO p_id;\r\n      ELSE\r\n        UPDATE employee\r\n        SET name = p_name, age = p_age, salary = p_salary\r\n        WHERE id = p_id;\r\n      END IF;\r\n      RETURN p_id;\r\n    END;\r\n    $$;\r\n\r\nNow if you call this function with `null` as ID it will insert the data, otherwise data will be found by specified id and updated.\r\n\r\nIn both cases you&#39;ll get the ID of modified record back.\r\n\r\n&lt;!-- language: sql --&gt;\r\n\r\n    SELECT update_employee(NULL, &#39;John&#39;, 42, 100000);  -- insert (returns 1)\r\n    SELECT update_employee(1, &#39;John Smith&#39;, 42, 200000); -- update previous record\r\n\r\nProbably it would be better to separate insert function from update, but it is just a sample.\r\n\r\nSo, with that you can call the function from spring using for example SimpleJdbcCall:\r\n\r\n    final SimpleJdbcCall updateEmployeeCall = new SimpleJdbcCall(jdbcTemplate).withFunctionName(&quot;update_employee&quot;);\r\n    final Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n    params.put(&quot;p_id&quot;, null);\r\n    params.put(&quot;p_name&quot;, &quot;John&quot;);\r\n    params.put(&quot;p_age&quot;, 28);\r\n    params.put(&quot;p_salary&quot;, 150000);\r\n    \r\n    final Map&lt;String, Object&gt; result = updateEmployeeCall.execute(params);\r\n    System.out.println(result.get(&quot;returnvalue&quot;));","title":"How to invoke PostgreSQL function using spring jdbctemplate instead of direct insert query in Java?","body":"<p>Ok, the first thing you should do is design that function for insert/update data. Postgres supports many languages for that, but the most popular one is plpgsql.</p>\n\n<p>The function itself might look like:</p>\n\n<pre><code>CREATE OR REPLACE FUNCTION update_employee(p_id INT, p_name VARCHAR(255), p_age INT, p_salary DECIMAL)\n  RETURNS INT\nLANGUAGE plpgsql\nAS $$\nBEGIN\n  IF p_id IS NULL\n  THEN\n    INSERT INTO employee (name, age, salary) VALUES (p_name, p_age, p_salary) RETURNING id INTO p_id;\n  ELSE\n    UPDATE employee\n    SET name = p_name, age = p_age, salary = p_salary\n    WHERE id = p_id;\n  END IF;\n  RETURN p_id;\nEND;\n$$;\n</code></pre>\n\n<p>Now if you call this function with <code>null</code> as ID it will insert the data, otherwise data will be found by specified id and updated.</p>\n\n<p>In both cases you'll get the ID of modified record back.</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT update_employee(NULL, 'John', 42, 100000);  -- insert (returns 1)\nSELECT update_employee(1, 'John Smith', 42, 200000); -- update previous record\n</code></pre>\n\n<p>Probably it would be better to separate insert function from update, but it is just a sample.</p>\n\n<p>So, with that you can call the function from spring using for example SimpleJdbcCall:</p>\n\n<pre><code>final SimpleJdbcCall updateEmployeeCall = new SimpleJdbcCall(jdbcTemplate).withFunctionName(\"update_employee\");\nfinal Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\nparams.put(\"p_id\", null);\nparams.put(\"p_name\", \"John\");\nparams.put(\"p_age\", 28);\nparams.put(\"p_salary\", 150000);\n\nfinal Map&lt;String, Object&gt; result = updateEmployeeCall.execute(params);\nSystem.out.println(result.get(\"returnvalue\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21427279,"reputation":9,"user_id":15784373,"display_name":"ivvasch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695298083,"creation_date":1695298083,"answer_id":77150109,"question_id":44371117,"body_markdown":"if you use spring data jdbc, you will call function like this:\r\n\r\n    @Repository \r\n    public interface ExchangeRateRepository extends CrudRepository&lt;ExchangeRate, Integer&gt; {\r\n    @Modifying\r\n    @Query(value = &quot;call s_pay_dev.p_load_rates(:from::varchar, :to::varchar, :date::date, :time::time, :rate::numeric)&quot;)\r\n    void saveRateToDB(@Param(&quot;from&quot;) String from, @Param(&quot;to&quot;) String to,\r\n                      @Param(&quot;date&quot;) String date, @Param(&quot;time&quot;) String time,\r\n                      @Param(&quot;rate&quot;) Float rate);}","title":"How to invoke PostgreSQL function using spring jdbctemplate instead of direct insert query in Java?","body":"<p>if you use spring data jdbc, you will call function like this:</p>\n<pre><code>@Repository \npublic interface ExchangeRateRepository extends CrudRepository&lt;ExchangeRate, Integer&gt; {\n@Modifying\n@Query(value = &quot;call s_pay_dev.p_load_rates(:from::varchar, :to::varchar, :date::date, :time::time, :rate::numeric)&quot;)\nvoid saveRateToDB(@Param(&quot;from&quot;) String from, @Param(&quot;to&quot;) String to,\n                  @Param(&quot;date&quot;) String date, @Param(&quot;time&quot;) String time,\n                  @Param(&quot;rate&quot;) Float rate);}\n</code></pre>\n"}],"owner":{"account_id":11007769,"reputation":147,"user_id":8086205,"accept_rate":60,"display_name":"User123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9020,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44371703,"answer_count":2,"score":4,"last_activity_date":1695298083,"creation_date":1496672494,"question_id":44371117,"body_markdown":"I am new to PostgreSQL. I need to call postgresql function from spring jdbctemplate for storing Employee table details. Below is my code in which I am using insert query to store the Employee details. I need to replace insert query with the Postgresql function-&quot;UpdateEmployee&quot;.\r\n\r\n    @Autowired\r\n\tJdbcTemplate postgressqljdbctemplate;\r\n\r\n\r\n    @Override\r\n\tpublic void update(Employee employee) {\r\n\tString SQL = &quot;insert into employee(Id, name, age, salary) values (?,?,?,?)&quot;;\r\n\tpostgressqljdbctemplate.update(SQL, new Object[] { employee.getId(), employee.getName(),\r\n    employee.getAge(), employee.getSalary()});\r\n\t}","title":"How to invoke PostgreSQL function using spring jdbctemplate instead of direct insert query in Java?","body":"<p>I am new to PostgreSQL. I need to call postgresql function from spring jdbctemplate for storing Employee table details. Below is my code in which I am using insert query to store the Employee details. I need to replace insert query with the Postgresql function-\"UpdateEmployee\".</p>\n\n<pre><code>@Autowired\nJdbcTemplate postgressqljdbctemplate;\n\n\n@Override\npublic void update(Employee employee) {\nString SQL = \"insert into employee(Id, name, age, salary) values (?,?,?,?)\";\npostgressqljdbctemplate.update(SQL, new Object[] { employee.getId(), employee.getName(),\nemployee.getAge(), employee.getSalary()});\n}\n</code></pre>\n"},{"tags":["java","charts","jzy3d"],"answers":[{"comments":[{"owner":{"account_id":1025966,"reputation":3015,"user_id":1035271,"accept_rate":50,"display_name":"Jsncrdnl"},"score":0,"creation_date":1320750618,"post_id":8048919,"comment_id":9858023,"body_markdown":"I follow the first tip of this link : (http://code.google.com/p/jzy3d/wiki/FAQ). But now I get another error :: Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\UserName\\workspace\\Test\\bin2\\win32\\jogl.dll: Can&#39;t load IA 32-bit .dll on a AMD 64-bit platform","body":"I follow the first tip of this link : (<a href=\"http://code.google.com/p/jzy3d/wiki/FAQ\" rel=\"nofollow noreferrer\">code.google.com/p/jzy3d/wiki/FAQ</a>). But now I get another error :: Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\UserName\\workspace\\Test\\bin2\\win32\\jogl.dll: Can&#39;t load IA 32-bit .dll on a AMD 64-bit platform"},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1320750864,"post_id":8048919,"comment_id":9858071,"body_markdown":"Read this post: http://stackoverflow.com/questions/5328951/jogl-32-vs-64-bit-libraries-error","body":"Read this post: <a href=\"http://stackoverflow.com/questions/5328951/jogl-32-vs-64-bit-libraries-error\" title=\"jogl 32 vs 64 bit libraries error\">stackoverflow.com/questions/5328951/&hellip;</a>"},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1320751000,"post_id":8048919,"comment_id":9858116,"body_markdown":"And this articles: https://sites.google.com/site/justinscsstuff/jogl-tutorial-1 &amp; http://jogamp.org/jogl/doc/HowToBuild.html","body":"And this articles: <a href=\"https://sites.google.com/site/justinscsstuff/jogl-tutorial-1\" rel=\"nofollow noreferrer\">sites.google.com/site/justinscsstuff/jogl-tutorial-1</a> &amp; <a href=\"http://jogamp.org/jogl/doc/HowToBuild.html\" rel=\"nofollow noreferrer\">jogamp.org/jogl/doc/HowToBuild.html</a>"},{"owner":{"account_id":1025966,"reputation":3015,"user_id":1035271,"accept_rate":50,"display_name":"Jsncrdnl"},"score":0,"creation_date":1320752903,"post_id":8048919,"comment_id":9858619,"body_markdown":"The links helped me found a 64bit version to use in my project. And I can now go farther. Now the problem is relative to the integration in my interface. Indeed, I followed that instructions :: (http://code.google.com/p/jzy3d/wiki/EmbeddingChartInAnExistingApplication). With Swing :: &quot;&quot;&quot;Exception in thread &quot;main&quot; java.lang.ClassCastException: org.jzy3d.plot3d.rendering.canvas.CanvasAWT cannot be cast to javax.swing.JComponent&quot;&quot;&quot;&quot;. With AWT :: &quot;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.UnsatisfiedLinkError: com.sun.opengl.impl.JAWTFactory.JAWT_GetAWT0(Ljava/nio/ByteBuffer;)Z&quot;","body":"The links helped me found a 64bit version to use in my project. And I can now go farther. Now the problem is relative to the integration in my interface. Indeed, I followed that instructions :: (<a href=\"http://code.google.com/p/jzy3d/wiki/EmbeddingChartInAnExistingApplication\" rel=\"nofollow noreferrer\">code.google.com/p/jzy3d/wiki/&hellip;</a>). With Swing :: &quot;&quot;&quot;Exception in thread &quot;main&quot; java.lang.ClassCastException: org.jzy3d.plot3d.rendering.canvas.CanvasAWT cannot be cast to javax.swing.JComponent&quot;&quot;&quot;&quot;. With AWT :: &quot;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.UnsatisfiedLinkError: com.sun.opengl.impl.JAWTFactory.JAWT_GetAWT0(Ljava/nio/ByteB&zwnj;&#8203;uffer;)Z&quot;"},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1320754174,"post_id":8048919,"comment_id":9858921,"body_markdown":"Read this post: http://stackoverflow.com/questions/6494668/is-it-possible-to-use-jzy3d-in-a-netbeans-7-0-application/6538335","body":"Read this post: <a href=\"http://stackoverflow.com/questions/6494668/is-it-possible-to-use-jzy3d-in-a-netbeans-7-0-application/6538335\" title=\"is it possible to use jzy3d in a netbeans 7 0 application\">stackoverflow.com/questions/6494668/&hellip;</a>"},{"owner":{"account_id":1025966,"reputation":3015,"user_id":1035271,"accept_rate":50,"display_name":"Jsncrdnl"},"score":0,"creation_date":1320754901,"post_id":8048919,"comment_id":9859127,"body_markdown":"I actually did read that part of the site and have called &quot;&quot;&quot;new Chart(&quot;swing&quot;)&quot;&quot;&quot; but I still get this error","body":"I actually did read that part of the site and have called &quot;&quot;&quot;new Chart(&quot;swing&quot;)&quot;&quot;&quot; but I still get this error"}],"tags":[],"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1320748034,"creation_date":1320747687,"answer_id":8048919,"question_id":8048028,"body_markdown":"You should add `jogl.jar` to classpath and `jogl.dll` to PATH. &lt;br/&gt;\r\nFor more info look [here][1] and [here][2].\r\n\r\nYou can read `jogl` *Installation Instructions* [here][3]. \r\n\r\n\r\n  [1]: http://forum.worldwindcentral.com/showthread.php?t=21721\r\n  [2]: http://code.google.com/p/jzy3d/wiki/FAQ\r\n  [3]: http://www.cs.umd.edu/~meesh/kmconroy/JOGLTutorial/","title":"How to use Jzy3d java 3d chart library?","body":"<p>You should add <code>jogl.jar</code> to classpath and <code>jogl.dll</code> to PATH. <br/>\nFor more info look <a href=\"http://forum.worldwindcentral.com/showthread.php?t=21721\" rel=\"nofollow\">here</a> and <a href=\"http://code.google.com/p/jzy3d/wiki/FAQ\" rel=\"nofollow\">here</a>.</p>\n\n<p>You can read <code>jogl</code> <em>Installation Instructions</em> <a href=\"http://www.cs.umd.edu/~meesh/kmconroy/JOGLTutorial/\" rel=\"nofollow\">here</a>. </p>\n"},{"comments":[{"owner":{"account_id":1025966,"reputation":3015,"user_id":1035271,"accept_rate":50,"display_name":"Jsncrdnl"},"score":0,"creation_date":1320750703,"post_id":8049121,"comment_id":9858041,"body_markdown":"I follow the first tip of this link but now I get another error :: Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &quot;&quot;&quot;C:\\Users\\UserName\\workspace\\Test\\bin2\\win32\\jogl.dll: Can&#39;t load IA 32-bit .dll on a AMD 64-bit platform &quot;&quot;&quot;","body":"I follow the first tip of this link but now I get another error :: Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &quot;&quot;&quot;C:\\Users\\UserName\\workspace\\Test\\bin2\\win32\\jogl.dll: Can&#39;t load IA 32-bit .dll on a AMD 64-bit platform &quot;&quot;&quot;"},{"owner":{"account_id":81375,"reputation":2305,"user_id":229513,"accept_rate":57,"display_name":"Martin Pernollet"},"score":0,"creation_date":1321369182,"post_id":8049121,"comment_id":9986239,"body_markdown":"You might not be using the appropriate binaries. Try to load the AMD binaries.","body":"You might not be using the appropriate binaries. Try to load the AMD binaries."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1370680890,"post_id":8049121,"comment_id":24558613,"body_markdown":"Because you&#39;re trying to run the 32 bit demo on a 64 bit JVM.\nThe `paltform` @Martin was referring to should be `amd64` or `win64` or whatever path contains the jogl.dll for 64 bits.\nOr, you can use a 32 bit JVM to run it (to be selected in &quot;Running configuration&quot;).","body":"Because you&#39;re trying to run the 32 bit demo on a 64 bit JVM. The <code>paltform</code> @Martin was referring to should be <code>amd64</code> or <code>win64</code> or whatever path contains the jogl.dll for 64 bits. Or, you can use a 32 bit JVM to run it (to be selected in &quot;Running configuration&quot;)."}],"tags":[],"owner":{"account_id":81375,"reputation":2305,"user_id":229513,"accept_rate":57,"display_name":"Martin Pernollet"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1320748695,"creation_date":1320748695,"answer_id":8049121,"question_id":8048028,"body_markdown":"You should run your program or demo where the JOGL native libraries stand, i.e. ./bin/{platform}. If you are working with Eclipse, right click on the project, choose Propeties, Java Build Path then the Libraries tab. Under the item &quot;jogl.jar - ...&quot; select &quot;Native library location: (None)&quot; and click the Edit button. Press the Workspace... button and select the ./bin/{platform} folder.","title":"How to use Jzy3d java 3d chart library?","body":"<p>You should run your program or demo where the JOGL native libraries stand, i.e. ./bin/{platform}. If you are working with Eclipse, right click on the project, choose Propeties, Java Build Path then the Libraries tab. Under the item \"jogl.jar - ...\" select \"Native library location: (None)\" and click the Edit button. Press the Workspace... button and select the ./bin/{platform} folder.</p>\n"}],"owner":{"account_id":1025966,"reputation":3015,"user_id":1035271,"accept_rate":50,"display_name":"Jsncrdnl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8627,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695297960,"creation_date":1320743021,"question_id":8048028,"body_markdown":"Can someone please give me some extra basic example of how `jzy3d` should be used?  \r\n(The source site&#39;s examples don&#39;t seam to work for me)\r\n\r\nI tried the following code:\r\n\r\n    import org.jzy3d.chart.Chart;\r\n    import org.jzy3d.colors.Color;\r\n    import org.jzy3d.colors.ColorMapper;\r\n    import org.jzy3d.colors.colormaps.ColorMapRainbow;\r\n    import org.jzy3d.maths.Range;\r\n    import org.jzy3d.plot3d.builder.Builder;\r\n    import org.jzy3d.plot3d.builder.Mapper;\r\n    import org.jzy3d.plot3d.builder.concrete.OrthonormalGrid;\r\n    import org.jzy3d.plot3d.primitives.Shape;\r\n    \r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n    \r\n            JFrame frame = new JFrame();\r\n            Chart chart = getChart();\r\n    \r\n            frame.add((javax.swing.JComponent) chart.getCanvas());\r\n    \r\n            frame.setSize(800, 800);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setTitle(&quot;test&quot;);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        public static Chart getChart() {\r\n            // Define a function to plot\r\n            Mapper mapper = new Mapper() {\r\n                public double f(double x, double y) {\r\n                    return 10 * Math.sin(x / 10) * Math.cos(y / 20) * x;\r\n                }\r\n            };\r\n    \r\n            // Define range and precision for the function to plot\r\n            Range range = new Range(-150, 150);\r\n            int steps = 50;\r\n    \r\n            // Create the object to represent the function over the given range.\r\n            org.jzy3d.plot3d.primitives.Shape surface = (Shape) Builder.buildOrthonormal(new OrthonormalGrid(range, steps, range, steps), mapper);\r\n            surface.setColorMapper(new ColorMapper(new ColorMapRainbow(), surface.getBounds().getZmin(), surface.getBounds().getZmax(), new Color(1, 1, 1, .5f)));\r\n            surface.setWireframeDisplayed(true);\r\n            surface.setWireframeColor(Color.BLACK);\r\n            //surface.setFace(new ColorbarFace(surface));\r\n            surface.setFaceDisplayed(true);\r\n            //surface.setFace2dDisplayed(true); // opens a colorbar on the right part of the display\r\n    \r\n            // Create a chart\r\n            Chart chart = new Chart();\r\n            chart.getScene().getGraph().add(surface);\r\n            return chart;\r\n        }\r\n    }\r\n\r\nBut when I try to run it, I get that exception:\r\n\r\n&gt;&gt;Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jogl in java.library.path\r\n\r\nCan anyone help?","title":"How to use Jzy3d java 3d chart library?","body":"<p>Can someone please give me some extra basic example of how <code>jzy3d</code> should be used?<br>\n(The source site's examples don't seam to work for me)</p>\n\n<p>I tried the following code:</p>\n\n<pre><code>import org.jzy3d.chart.Chart;\nimport org.jzy3d.colors.Color;\nimport org.jzy3d.colors.ColorMapper;\nimport org.jzy3d.colors.colormaps.ColorMapRainbow;\nimport org.jzy3d.maths.Range;\nimport org.jzy3d.plot3d.builder.Builder;\nimport org.jzy3d.plot3d.builder.Mapper;\nimport org.jzy3d.plot3d.builder.concrete.OrthonormalGrid;\nimport org.jzy3d.plot3d.primitives.Shape;\n\npublic class Test {\n\n    public static void main(String[] args) {\n\n        JFrame frame = new JFrame();\n        Chart chart = getChart();\n\n        frame.add((javax.swing.JComponent) chart.getCanvas());\n\n        frame.setSize(800, 800);\n        frame.setLocationRelativeTo(null);\n        frame.setTitle(\"test\");\n        frame.setVisible(true);\n    }\n\n    public static Chart getChart() {\n        // Define a function to plot\n        Mapper mapper = new Mapper() {\n            public double f(double x, double y) {\n                return 10 * Math.sin(x / 10) * Math.cos(y / 20) * x;\n            }\n        };\n\n        // Define range and precision for the function to plot\n        Range range = new Range(-150, 150);\n        int steps = 50;\n\n        // Create the object to represent the function over the given range.\n        org.jzy3d.plot3d.primitives.Shape surface = (Shape) Builder.buildOrthonormal(new OrthonormalGrid(range, steps, range, steps), mapper);\n        surface.setColorMapper(new ColorMapper(new ColorMapRainbow(), surface.getBounds().getZmin(), surface.getBounds().getZmax(), new Color(1, 1, 1, .5f)));\n        surface.setWireframeDisplayed(true);\n        surface.setWireframeColor(Color.BLACK);\n        //surface.setFace(new ColorbarFace(surface));\n        surface.setFaceDisplayed(true);\n        //surface.setFace2dDisplayed(true); // opens a colorbar on the right part of the display\n\n        // Create a chart\n        Chart chart = new Chart();\n        chart.getScene().getGraph().add(surface);\n        return chart;\n    }\n}\n</code></pre>\n\n<p>But when I try to run it, I get that exception:</p>\n\n<blockquote>\n  <blockquote>\n    <p>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: no jogl in java.library.path</p>\n  </blockquote>\n</blockquote>\n\n<p>Can anyone help?</p>\n"},{"tags":["javascript","java","android","android-studio","webview"],"owner":{"account_id":16719703,"reputation":125,"user_id":12084946,"display_name":"Harry K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695297593,"creation_date":1695297593,"question_id":77150051,"body_markdown":"I&#39;m trying to build a web view app for a site and I have added the places API with key and tested. It works fine.\r\n\r\nBut when I built the app in web view the places API didn&#39;t work. \r\n\r\nHere&#39;s my Code : \r\n\r\n[**Activity:**][1]\r\n\r\n\r\n[**Manifest:**][2]\r\n\r\n\r\nAny help is greatly appreciated.\r\n\r\n\r\n  [1]: https://codeshare.io/X8DvWK\r\n  [2]: https://codeshare.io/DZK7rk","title":"Unable to use Google Places API in android webview","body":"<p>I'm trying to build a web view app for a site and I have added the places API with key and tested. It works fine.</p>\n<p>But when I built the app in web view the places API didn't work.</p>\n<p>Here's my Code :</p>\n<p><a href=\"https://codeshare.io/X8DvWK\" rel=\"nofollow noreferrer\"><strong>Activity:</strong></a></p>\n<p><a href=\"https://codeshare.io/DZK7rk\" rel=\"nofollow noreferrer\"><strong>Manifest:</strong></a></p>\n<p>Any help is greatly appreciated.</p>\n"},{"tags":["java","regex","regex-group","regex-negation"],"comments":[{"owner":{"account_id":13113751,"reputation":142099,"user_id":9473764,"display_name":"Nick"},"score":1,"creation_date":1692320888,"post_id":76925874,"comment_id":135610699,"body_markdown":"You probably want a negative lookahead for `.writing` at the end of the string i.e. `(?!.*\\.writing$)`","body":"You probably want a negative lookahead for <code>.writing</code> at the end of the string i.e. <code>(?!.*\\.writing$)</code>"},{"owner":{"account_id":13113751,"reputation":142099,"user_id":9473764,"display_name":"Nick"},"score":0,"creation_date":1692320949,"post_id":76925874,"comment_id":135610702,"body_markdown":"It would be helpful to know which language you are using","body":"It would be helpful to know which language you are using"},{"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"score":0,"creation_date":1692321020,"post_id":76925874,"comment_id":135610705,"body_markdown":"@Nick I will be passing the regex to Java, but is it not language agnostic?","body":"@Nick I will be passing the regex to Java, but is it not language agnostic?"},{"owner":{"account_id":13113751,"reputation":142099,"user_id":9473764,"display_name":"Nick"},"score":0,"creation_date":1692321129,"post_id":76925874,"comment_id":135610716,"body_markdown":"Not necessarily. For example, not all languages support all forms of lookarounds.","body":"Not necessarily. For example, not all languages support all forms of lookarounds."},{"owner":{"account_id":13113751,"reputation":142099,"user_id":9473764,"display_name":"Nick"},"score":0,"creation_date":1692321280,"post_id":76925874,"comment_id":135610725,"body_markdown":"You probably want something like this https://regex101.com/r/QI43Cn/1","body":"You probably want something like this <a href=\"https://regex101.com/r/QI43Cn/1\" rel=\"nofollow noreferrer\">regex101.com/r/QI43Cn/1</a>"},{"owner":{"account_id":8432669,"reputation":307,"user_id":6327834,"display_name":"ABaumstumpf"},"score":0,"creation_date":1692352298,"post_id":76925874,"comment_id":135614351,"body_markdown":"There is no 1 correct Regex - there are many variations and slight differences between each and every regex-engine.\nhttps://en.wikipedia.org/wiki/Regular_expression#Standards\nFor many languages you can also get various different libraries offering different behaviour.\nFor java https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html - it should ofer lookahead.","body":"There is no 1 correct Regex - there are many variations and slight differences between each and every regex-engine. <a href=\"https://en.wikipedia.org/wiki/Regular_expression#Standards\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Regular_expression#Standards</a> For many languages you can also get various different libraries offering different behaviour. For java <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.ht&zwnj;&#8203;ml</a> - it should ofer lookahead."}],"answers":[{"tags":[],"owner":{"account_id":212394,"reputation":176434,"user_id":465183,"accept_rate":77,"display_name":"Gilles Qu&#233;not"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692320913,"creation_date":1692320913,"answer_id":76925877,"question_id":76925874,"body_markdown":"With `grep`:\r\n\r\n    AaA.BbB.CcC.DdD.EeE\r\n    a1.b2.c3.d4.e5\r\n    AaA.BbB.CcC.DdD.EeE.writing\r\n    \r\n    $ grep -v &#39;.writing&#39; file\r\n    AaA.BbB.CcC.DdD.EeE\r\n    a1.b2.c3.d4.e5\r\n\r\n","title":"How to filter out a string with regular expression","body":"<p>With <code>grep</code>:</p>\n<pre><code>AaA.BbB.CcC.DdD.EeE\na1.b2.c3.d4.e5\nAaA.BbB.CcC.DdD.EeE.writing\n\n$ grep -v '.writing' file\nAaA.BbB.CcC.DdD.EeE\na1.b2.c3.d4.e5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8432669,"reputation":307,"user_id":6327834,"display_name":"ABaumstumpf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692353779,"creation_date":1692353779,"answer_id":76928409,"question_id":76925874,"body_markdown":"your examples do not really match up.\r\n\r\n`[\\d\\w]` &#236;s redundant:  `\\d` is `[0-9]` but `\\w` already is matching that with `[a-zA-Z_0-9]`,\r\n\r\nAnd you say \r\n\r\n&gt; `AaA.BbB.CcC.DdD.EeE.writing` or `a1.b2.c3.d4.e5.writing` shouldn&#39;t due to the `.writing` suffix.\r\n\r\nNow if you only care about if it matches or not then you can check if there is a match for the prohibited ending and negate your following logic.\r\n\r\n    String inputString = &lt;your-input&gt;;\r\n    if( Pattern.compile(&quot;\\\\w*\\\\.writing$&quot;).matcher(inputstring).matches() ) {\r\n     // no match - so the string is &quot;valid&quot;\r\n    }\r\n\r\n","title":"How to filter out a string with regular expression","body":"<p>your examples do not really match up.</p>\n<p><code>[\\d\\w]</code> ìs redundant:  <code>\\d</code> is <code>[0-9]</code> but <code>\\w</code> already is matching that with <code>[a-zA-Z_0-9]</code>,</p>\n<p>And you say</p>\n<blockquote>\n<p><code>AaA.BbB.CcC.DdD.EeE.writing</code> or <code>a1.b2.c3.d4.e5.writing</code> shouldn't due to the <code>.writing</code> suffix.</p>\n</blockquote>\n<p>Now if you only care about if it matches or not then you can check if there is a match for the prohibited ending and negate your following logic.</p>\n<pre><code>String inputString = &lt;your-input&gt;;\nif( Pattern.compile(&quot;\\\\w*\\\\.writing$&quot;).matcher(inputstring).matches() ) {\n // no match - so the string is &quot;valid&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8571883,"reputation":821,"user_id":6422459,"display_name":"DigitShifter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695297436,"creation_date":1695296599,"answer_id":77149916,"question_id":76925874,"body_markdown":"Alternative regex:\r\n\r\n&quot;^(?:\\\\w+\\\\.)+\\\\w+$&quot; and &quot;\\\\.writing$&quot;\r\n\r\nRegex in testbench and context:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; inputs = List.of(&quot;AaA.BbB.CcC.DdD.EeE&quot;, &quot;a1.b2.c3.d4.e5&quot;, &quot;AaA.BbB.CcC.DdD.EeE.writing&quot;, &quot;a1.b2.c3.d4.e5.writing&quot;);\r\n\r\n        for (String input: inputs) {\r\n            printResult(input);\r\n        }\r\n    }\r\n\r\n    private static void printResult(String input) {\r\n        // Pattern allowedPattern = Pattern.compile(&quot;^(?:\\\\w+\\\\.)+\\\\w+$&quot;); -&gt; \\\\w will match &#39;A word character: [a-zA-Z_0-9]&#39;\r\n        // Pattern allowedPattern = Pattern.compile(&quot;^(?:[a-zA-Z0-9]+\\\\.){4}[a-zA-Z0-9]+$&quot;); -&gt; if you know that it always going to be 4 sections with ending dot, and the last section with no dot\r\n\r\n        Pattern allowedPattern = Pattern.compile(&quot;^(?:[a-zA-Z0-9]+\\\\.)+[a-zA-Z0-9]+$&quot;);\r\n        Pattern notAllowedSuffixPattern = Pattern.compile(&quot;\\\\.writing$&quot;);\r\n        System.out.println(&quot;Incoming input: &quot; + input);\r\n        String result = (!notAllowedSuffixPattern.matcher(input).find() &amp;&amp; allowedPattern.matcher(input).find())\r\n                ? &quot;Matching.\\n&quot;\r\n                : &quot;Not Matching!\\n&quot;;\r\n        System.out.println(result);\r\n    }\r\n\r\nOutput:\r\n\r\n\tIncoming input: AaA.BbB.CcC.DdD.EeE\r\n\tMatching.\r\n\t\r\n\tIncoming input: a1.b2.c3.d4.e5\r\n\tMatching.\r\n\t\r\n\tIncoming input: AaA.BbB.CcC.DdD.EeE.writing\r\n\tNot Matching!\r\n\t\r\n\tIncoming input: a1.b2.c3.d4.e5.writing\r\n\tNot Matching!","title":"How to filter out a string with regular expression","body":"<p>Alternative regex:</p>\n<p>&quot;^(?:\\w+\\.)+\\w+$&quot; and &quot;\\.writing$&quot;</p>\n<p>Regex in testbench and context:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; inputs = List.of(&quot;AaA.BbB.CcC.DdD.EeE&quot;, &quot;a1.b2.c3.d4.e5&quot;, &quot;AaA.BbB.CcC.DdD.EeE.writing&quot;, &quot;a1.b2.c3.d4.e5.writing&quot;);\n\n    for (String input: inputs) {\n        printResult(input);\n    }\n}\n\nprivate static void printResult(String input) {\n    // Pattern allowedPattern = Pattern.compile(&quot;^(?:\\\\w+\\\\.)+\\\\w+$&quot;); -&gt; \\\\w will match 'A word character: [a-zA-Z_0-9]'\n    // Pattern allowedPattern = Pattern.compile(&quot;^(?:[a-zA-Z0-9]+\\\\.){4}[a-zA-Z0-9]+$&quot;); -&gt; if you know that it always going to be 4 sections with ending dot, and the last section with no dot\n\n    Pattern allowedPattern = Pattern.compile(&quot;^(?:[a-zA-Z0-9]+\\\\.)+[a-zA-Z0-9]+$&quot;);\n    Pattern notAllowedSuffixPattern = Pattern.compile(&quot;\\\\.writing$&quot;);\n    System.out.println(&quot;Incoming input: &quot; + input);\n    String result = (!notAllowedSuffixPattern.matcher(input).find() &amp;&amp; allowedPattern.matcher(input).find())\n            ? &quot;Matching.\\n&quot;\n            : &quot;Not Matching!\\n&quot;;\n    System.out.println(result);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Incoming input: AaA.BbB.CcC.DdD.EeE\nMatching.\n\nIncoming input: a1.b2.c3.d4.e5\nMatching.\n\nIncoming input: AaA.BbB.CcC.DdD.EeE.writing\nNot Matching!\n\nIncoming input: a1.b2.c3.d4.e5.writing\nNot Matching!\n</code></pre>\n"}],"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695297436,"creation_date":1692320709,"question_id":76925874,"body_markdown":"Let&#39;s say I want a regex expressing a filter selecting a string of a particular shape only if it doesn&#39;t end in a specific suffix, for example:\r\n\r\n- `AaA.BbB.CcC.DdD.EeE` or `a1.b2.c3.d4.e5` should both pass the filter \r\n\r\nwhereas \r\n\r\n- `AaA.BbB.CcC.DdD.EeE.writing` or `a1.b2.c3.d4.e5.writing` shouldn&#39;t due to the `.writing` suffix.\r\n\r\nSounds like a composite of something like `[\\d\\w]` with `!.writing`, but unsure how to express such a combo in a valid regex expression.\r\n\r\nCould someone please help?","title":"How to filter out a string with regular expression","body":"<p>Let's say I want a regex expressing a filter selecting a string of a particular shape only if it doesn't end in a specific suffix, for example:</p>\n<ul>\n<li><code>AaA.BbB.CcC.DdD.EeE</code> or <code>a1.b2.c3.d4.e5</code> should both pass the filter</li>\n</ul>\n<p>whereas</p>\n<ul>\n<li><code>AaA.BbB.CcC.DdD.EeE.writing</code> or <code>a1.b2.c3.d4.e5.writing</code> shouldn't due to the <code>.writing</code> suffix.</li>\n</ul>\n<p>Sounds like a composite of something like <code>[\\d\\w]</code> with <code>!.writing</code>, but unsure how to express such a combo in a valid regex expression.</p>\n<p>Could someone please help?</p>\n"},{"tags":["java","spring-boot","eclipse","gradle","junit5"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1695293854,"post_id":77149537,"comment_id":136006645,"body_markdown":"Seems the method was dropped in newer versions of JUnit 5, [here (JUnit 5.7.1)](https://junit.org/junit5/docs/5.7.1/api/org.junit.platform.engine/org/junit/platform/engine/TestDescriptor.html) it isn&#39;t listed anymore in contrast to [this (JUnit 5)](https://junit.org/junit5/docs/snapshot/api/org.junit.platform.engine/org/junit/platform/engine/TestDescriptor.html).","body":"Seems the method was dropped in newer versions of JUnit 5, <a href=\"https://junit.org/junit5/docs/5.7.1/api/org.junit.platform.engine/org/junit/platform/engine/TestDescriptor.html\" rel=\"nofollow noreferrer\">here (JUnit 5.7.1)</a> it isn&#39;t listed anymore in contrast to <a href=\"https://junit.org/junit5/docs/snapshot/api/org.junit.platform.engine/org/junit/platform/engine/TestDescriptor.html\" rel=\"nofollow noreferrer\">this (JUnit 5)</a>."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1695294283,"post_id":77149537,"comment_id":136006715,"body_markdown":"Does eclipse use any other version of JUnit which might have been updated during the eclipse update?","body":"Does eclipse use any other version of JUnit which might have been updated during the eclipse update?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1695294817,"post_id":77149537,"comment_id":136006799,"body_markdown":"See https://stackoverflow.com/questions/77110882/i-cant-run-junit5-tests-with-eclipseversion-2023-09-4-29-0?noredirect=1#comment135979254_77110882","body":"See <a href=\"https://stackoverflow.com/questions/77110882/i-cant-run-junit5-tests-with-eclipseversion-2023-09-4-29-0?noredirect=1#comment135979254_77110882\" title=\"i cant run junit5 tests with eclipseversion 2023 09 4 29 0\">stackoverflow.com/questions/77110882/&hellip;</a>"},{"owner":{"account_id":8733951,"reputation":368,"user_id":6533159,"display_name":"Daniele Repici"},"score":0,"creation_date":1695295413,"post_id":77149537,"comment_id":136006894,"body_markdown":"Can I force Eclipse to use the platform version that my project declares rather than its own?","body":"Can I force Eclipse to use the platform version that my project declares rather than its own?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1695297447,"post_id":77149537,"comment_id":136007353,"body_markdown":"See my answer below.","body":"See my answer below."}],"owner":{"account_id":8733951,"reputation":368,"user_id":6533159,"display_name":"Daniele Repici"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1695298223,"answer_count":0,"score":0,"last_activity_date":1695297372,"creation_date":1695293203,"question_id":77149537,"body_markdown":"I was using Eclipse 2022-09 and all was working fine.\r\n\r\nI manage all dependencies via Gradle. The version of JUnit 5 is defined by the Spring Boot management plugin.\r\n\r\nOnce I upgraded to Eclipse 2023-09, JUnit tests started failing when executed from within Eclipse.\r\n\r\n    java.lang.NoSuchMethodError: &#39;java.util.Set org.junit.platform.engine.TestDescriptor.getAncestors()&#39;\r\n\tat org.junit.platform.launcher.core.StackTracePruningEngineExecutionListener.getTestClassNames(StackTracePruningEngineExecutionListener.java:50)\r\n\tat org.junit.platform.launcher.core.StackTracePruningEngineExecutionListener.executionFinished(StackTracePruningEngineExecutionListener.java:39)\r\n\tat org.junit.platform.launcher.core.DelegatingEngineExecutionListener.executionFinished(DelegatingEngineExecutionListener.java:46)\r\n\tat org.junit.platform.launcher.core.OutcomeDelayingEngineExecutionListener.reportEngineFailure(OutcomeDelayingEngineExecutionListener.java:83)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:203)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)\r\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\nJVM is Adoptium OpenJDK 17 (17.0.8.101-hotspot).\r\n\r\nExecuting the test via `gradlew test --tests Xyz` is just fine. The problem is when I run the tests in Eclipse (any test).\r\n\r\nI&#39;ve been searching SO for hours and couldn&#39;t find a suitable solution or a meaningful explanation.","title":"NoSuchMethod on JUnit test after upgrading Eclipse (using Gradle)","body":"<p>I was using Eclipse 2022-09 and all was working fine.</p>\n<p>I manage all dependencies via Gradle. The version of JUnit 5 is defined by the Spring Boot management plugin.</p>\n<p>Once I upgraded to Eclipse 2023-09, JUnit tests started failing when executed from within Eclipse.</p>\n<pre><code>java.lang.NoSuchMethodError: 'java.util.Set org.junit.platform.engine.TestDescriptor.getAncestors()'\nat org.junit.platform.launcher.core.StackTracePruningEngineExecutionListener.getTestClassNames(StackTracePruningEngineExecutionListener.java:50)\nat org.junit.platform.launcher.core.StackTracePruningEngineExecutionListener.executionFinished(StackTracePruningEngineExecutionListener.java:39)\nat org.junit.platform.launcher.core.DelegatingEngineExecutionListener.executionFinished(DelegatingEngineExecutionListener.java:46)\nat org.junit.platform.launcher.core.OutcomeDelayingEngineExecutionListener.reportEngineFailure(OutcomeDelayingEngineExecutionListener.java:83)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:203)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)\nat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)\nat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)\nat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n<p>JVM is Adoptium OpenJDK 17 (17.0.8.101-hotspot).</p>\n<p>Executing the test via <code>gradlew test --tests Xyz</code> is just fine. The problem is when I run the tests in Eclipse (any test).</p>\n<p>I've been searching SO for hours and couldn't find a suitable solution or a meaningful explanation.</p>\n"},{"tags":["java","kotlin","jvm","typing"],"comments":[{"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"score":0,"creation_date":1695297073,"post_id":77149956,"comment_id":136007259,"body_markdown":"I asked this question while trying to find the &quot;whole-number-interface&quot; (I assumed it would exist) and came across a definitive answer myself (using Kotlins source-code). While my question is resolved I would prefer an answer that points me to official documentation or a note by the developers of Kotlin explaining how the number-hierarchy is designed, especially with respect to Java-compatibility.","body":"I asked this question while trying to find the &quot;whole-number-interface&quot; (I assumed it would exist) and came across a definitive answer myself (using Kotlins source-code). While my question is resolved I would prefer an answer that points me to official documentation or a note by the developers of Kotlin explaining how the number-hierarchy is designed, especially with respect to Java-compatibility."},{"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"score":0,"creation_date":1695297165,"post_id":77149956,"comment_id":136007283,"body_markdown":"I know that &quot;Why&quot;-questions are off-topic, so lets phrase it like this: What was my misunderstanding about subtyping on the JVM when I assumed that such a type should exist?","body":"I know that &quot;Why&quot;-questions are off-topic, so lets phrase it like this: What was my misunderstanding about subtyping on the JVM when I assumed that such a type should exist?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":3,"creation_date":1695301107,"post_id":77149956,"comment_id":136008118,"body_markdown":"What would be the use of such a type? I&#39;ve never even found a use for Number in 13 years of Java programming. As for the downvote, maybe someone thought it was unclear to ask such a question without explaining why you would expect such a feature or what it could possibly be used for. But I think there are a lot of nonsensical downvotes on this site so it could just be that.","body":"What would be the use of such a type? I&#39;ve never even found a use for Number in 13 years of Java programming. As for the downvote, maybe someone thought it was unclear to ask such a question without explaining why you would expect such a feature or what it could possibly be used for. But I think there are a lot of nonsensical downvotes on this site so it could just be that."},{"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"score":0,"creation_date":1695309207,"post_id":77149956,"comment_id":136009970,"body_markdown":"I am writing a module that works internally with BigInteger but takes any input without forcing the `toBigInteger`-boilerplate on the user and without having to overload all my methods. But I felt that context is unnecessary to the question. I expected the feature to exist because: A) kotlin does a lot to avoid boilerplate B) this is a feature which can only be provided by language designers C) It could be added in a backwards-compatible way (just add an interface whose methods are already there)","body":"I am writing a module that works internally with BigInteger but takes any input without forcing the <code>toBigInteger</code>-boilerplate on the user and without having to overload all my methods. But I felt that context is unnecessary to the question. I expected the feature to exist because: A) kotlin does a lot to avoid boilerplate B) this is a feature which can only be provided by language designers C) It could be added in a backwards-compatible way (just add an interface whose methods are already there)"},{"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"score":0,"creation_date":1695309479,"post_id":77149956,"comment_id":136010035,"body_markdown":"The close-vote says &quot;needs detail or clarity&quot;. To me the question is so clear that I could answer it with &quot;No&quot; and definitive proof of that &quot;No&quot;. What is missing? I will try to improve the post if someone tells me.","body":"The close-vote says &quot;needs detail or clarity&quot;. To me the question is so clear that I could answer it with &quot;No&quot; and definitive proof of that &quot;No&quot;. What is missing? I will try to improve the post if someone tells me."}],"answers":[{"tags":[],"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695297201,"creation_date":1695296881,"answer_id":77149957,"question_id":77149956,"body_markdown":"**There is no such type.**\r\n\r\nLooking into the source-code of Kotlin we can see that the type-hierarchy of numbers is exactly the same as in Java: All number-types directly subclass `Number` and implement no interface that would describe them further.\r\n\r\nhttps://github.com/JetBrains/kotlin/blob/master/core/builtins/native/kotlin/Primitives.kt","title":"Kotlin common base type of types representing whole numbers?","body":"<p><strong>There is no such type.</strong></p>\n<p>Looking into the source-code of Kotlin we can see that the type-hierarchy of numbers is exactly the same as in Java: All number-types directly subclass <code>Number</code> and implement no interface that would describe them further.</p>\n<p><a href=\"https://github.com/JetBrains/kotlin/blob/master/core/builtins/native/kotlin/Primitives.kt\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin/blob/master/core/builtins/native/kotlin/Primitives.kt</a></p>\n"}],"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77149957,"answer_count":1,"score":-1,"last_activity_date":1695297201,"creation_date":1695296881,"question_id":77149956,"body_markdown":"Does Kotlin offer a way to describe a &#39;whole number&#39; such as `Int`, `Long` or `BigInteger` but **not** `Double`?\r\n\r\nIn Kotlin, as in Java, there is `Number` as the supertype of all numerical types including the floating-point numbers. Java does not let you exclude the floating-points, as the [oracle docs][1] about the numerical types state that they directly subclass the abstract class `Number` and implement no Interfaces (except Comparable and Serializable).\r\n\r\nIn the Kotlin-documentation, I could not find any such whole-number-type, but I did not find any definitive List of numerical types or a statement that says such a whole-number-type was purposefully not included.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/java/lang/Integer.html","title":"Kotlin common base type of types representing whole numbers?","body":"<p>Does Kotlin offer a way to describe a 'whole number' such as <code>Int</code>, <code>Long</code> or <code>BigInteger</code> but <strong>not</strong> <code>Double</code>?</p>\n<p>In Kotlin, as in Java, there is <code>Number</code> as the supertype of all numerical types including the floating-point numbers. Java does not let you exclude the floating-points, as the <a href=\"https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/java/lang/Integer.html\" rel=\"nofollow noreferrer\">oracle docs</a> about the numerical types state that they directly subclass the abstract class <code>Number</code> and implement no Interfaces (except Comparable and Serializable).</p>\n<p>In the Kotlin-documentation, I could not find any such whole-number-type, but I did not find any definitive List of numerical types or a statement that says such a whole-number-type was purposefully not included.</p>\n"},{"tags":["java","string","conventions"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1695292703,"post_id":77149368,"comment_id":136006442,"body_markdown":"That&#39;s highly dependent on what the class represents. Does it represent a train? In that case (T)UI stuff shouldn&#39;t belong there. Does it represent the interactions of your application. Then it *may* belong there.","body":"That&#39;s highly dependent on what the class represents. Does it represent a train? In that case (T)UI stuff shouldn&#39;t belong there. Does it represent the interactions of your application. Then it <i>may</i> belong there."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1695292720,"post_id":77149368,"comment_id":136006445,"body_markdown":"In configuration files to enable [Java internationalization](https://docs.oracle.com/javase/tutorial/i18n/).","body":"In configuration files to enable <a href=\"https://docs.oracle.com/javase/tutorial/i18n/\" rel=\"nofollow noreferrer\">Java internationalization</a>."}],"answers":[{"tags":[],"owner":{"account_id":5765146,"reputation":138,"user_id":16108607,"display_name":"qa30m"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695292438,"creation_date":1695292438,"answer_id":77149453,"question_id":77149368,"body_markdown":"It is generally recommended to keep the responsibilities of each class well-defined and separate.\r\n\r\nDefining the text message within the class allows for better cohesion and encapsulation. By keeping the text message within the class, you keep related code and logic together, making it easier to read and understand. \r\n\r\n    public class Train {\r\n        // ...\r\n    \r\n        public void createTrain() {\r\n            String createMessage = &quot;Create how many trains?&quot;;\r\n            // Prompt the user with createMessage\r\n            // ...\r\n        }\r\n    \r\n        // ...\r\n    }","title":"Best practice: where should user prompt messages reside in Java classes - main or method class?","body":"<p>It is generally recommended to keep the responsibilities of each class well-defined and separate.</p>\n<p>Defining the text message within the class allows for better cohesion and encapsulation. By keeping the text message within the class, you keep related code and logic together, making it easier to read and understand.</p>\n<pre><code>public class Train {\n    // ...\n\n    public void createTrain() {\n        String createMessage = &quot;Create how many trains?&quot;;\n        // Prompt the user with createMessage\n        // ...\n    }\n\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":29313591,"reputation":19,"user_id":22458828,"display_name":"Kerem Tazedal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1695292709,"accepted_answer_id":77149453,"answer_count":1,"score":0,"last_activity_date":1695297008,"creation_date":1695291772,"question_id":77149368,"body_markdown":"I&#39;m creating a Java class with methods, setters, and getters. I have a createTrain method that prompts the user with a message like &#39;Create how many trains?&#39; in the form of a string. Should this text message be defined in the main class or within the class where the createTrain method is executed for better code organization and best practices?\r\n\r\nI wondering regarding best practices, head different views, a bit confused. ","title":"Best practice: where should user prompt messages reside in Java classes - main or method class?","body":"<p>I'm creating a Java class with methods, setters, and getters. I have a createTrain method that prompts the user with a message like 'Create how many trains?' in the form of a string. Should this text message be defined in the main class or within the class where the createTrain method is executed for better code organization and best practices?</p>\n<p>I wondering regarding best practices, head different views, a bit confused.</p>\n"},{"tags":["java","linux","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":1044240,"reputation":3720,"user_id":1049569,"accept_rate":91,"display_name":"kiks73"},"score":0,"creation_date":1695796980,"post_id":77149845,"comment_id":136070464,"body_markdown":"After the last Chrome update, I noticed that when a file download starts, Chrome asks for path and filename, even if the preference is not to ask for folder when downloading.. I&#39;ve got the issue on Selenium with Python in OSX","body":"After the last Chrome update, I noticed that when a file download starts, Chrome asks for path and filename, even if the preference is not to ask for folder when downloading.. I&#39;ve got the issue on Selenium with Python in OSX"}],"owner":{"account_id":17078252,"reputation":21,"user_id":12357345,"display_name":"oskan001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695296930,"creation_date":1695296046,"question_id":77149845,"body_markdown":"I have a Java Selenium application running on a Linux server. The application is supposed to click a button and download a file to a directory that I have specified. However, even though the clicking action is performed successfully, the downloaded file doesn&#39;t appear in the designated directory. I&#39;m wondering if it&#39;s not downloading at all or if it&#39;s being saved in a different location that I&#39;m unaware of. Can someone please assist me with this issue?\r\n\r\n    HashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\r\n    chromePrefs.put(&quot;download.default_directory&quot;, directoryPath);\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\r\n\r\n    String chromeDriverPath = &quot;/usr/bin/chromedriver&quot;;\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, chromeDriverPath);\r\n    options.addArguments(&quot;--headless&quot;);\r\n    options.addArguments(&quot;window-size=1920,1080&quot;);\r\n\r\nAny insights or suggestions on what might be causing this problem would be greatly appreciated.\r\n\r\nThe application is running successfully locally. It also clicks the download button without throwing any errors. However, it&#39;s not downloading the file to the directory I specified or any other visible directory.\r\n","title":"Issue with Selenium Java application on Linux server: downloads not working as expected","body":"<p>I have a Java Selenium application running on a Linux server. The application is supposed to click a button and download a file to a directory that I have specified. However, even though the clicking action is performed successfully, the downloaded file doesn't appear in the designated directory. I'm wondering if it's not downloading at all or if it's being saved in a different location that I'm unaware of. Can someone please assist me with this issue?</p>\n<pre><code>HashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\nchromePrefs.put(&quot;download.default_directory&quot;, directoryPath);\nChromeOptions options = new ChromeOptions();\noptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\n\nString chromeDriverPath = &quot;/usr/bin/chromedriver&quot;;\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, chromeDriverPath);\noptions.addArguments(&quot;--headless&quot;);\noptions.addArguments(&quot;window-size=1920,1080&quot;);\n</code></pre>\n<p>Any insights or suggestions on what might be causing this problem would be greatly appreciated.</p>\n<p>The application is running successfully locally. It also clicks the download button without throwing any errors. However, it's not downloading the file to the directory I specified or any other visible directory.</p>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"score":0,"creation_date":1695278504,"post_id":77147655,"comment_id":136003559,"body_markdown":"Can assume this is a JPA @Entity?","body":"Can assume this is a JPA @Entity?"},{"owner":{"account_id":29406272,"reputation":11,"user_id":22531278,"display_name":"Akter Hossain"},"score":0,"creation_date":1695280486,"post_id":77147655,"comment_id":136003878,"body_markdown":"Yes. This is a JPA @Entity","body":"Yes. This is a JPA @Entity"},{"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"score":0,"creation_date":1695282456,"post_id":77147655,"comment_id":136004234,"body_markdown":"And are you using a JPA Repository? Can you edit your question and add it please","body":"And are you using a JPA Repository? Can you edit your question and add it please"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695285703,"post_id":77147655,"comment_id":136004886,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":6807379,"reputation":21,"user_id":5238727,"display_name":"YOGENDRA SONI"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695278105,"creation_date":1695278105,"answer_id":77147700,"question_id":77147655,"body_markdown":"You can use FTS on postgres.\r\nhttps://www.postgresql.org/docs/current/textsearch.html\r\n\r\nfts will provide searching similar to search engines but you need to configure it as per your need. it will be much faster than like/ilike &#39;%query%&#39;.\r\n","title":"How to search a text efficient way in a text field? Spring Boot + JPA + PostgresSQL","body":"<p>You can use FTS on postgres.\n<a href=\"https://www.postgresql.org/docs/current/textsearch.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/current/textsearch.html</a></p>\n<p>fts will provide searching similar to search engines but you need to configure it as per your need. it will be much faster than like/ilike '%query%'.</p>\n"},{"tags":[],"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695295956,"creation_date":1695295956,"answer_id":77149832,"question_id":77147655,"body_markdown":"If I understand your question correctly you have a JPA repository already.\r\nAll you need to do is add a method and add the JPQL as below.\r\n\r\n\r\n    public interface PostRepository extends JpaRepository&lt;Post, Integer&gt; {\r\n    \r\n        @Query(&quot;SELECT p FROM Post p WHERE p.content LIKE %:keyword%&quot;)\r\n        List&lt;Post&gt; searchByContent(String keyword);\r\n    }\r\n\r\nThen in your service:\r\n\r\n\r\n    @Service\r\n    public class PostService {\r\n    \r\n        @Autowired\r\n        private PostRepository postRepository;\r\n    \r\n        public List&lt;Post&gt; searchByContent(String keyword) {\r\n            return postRepository.searchByContent(keyword);\r\n       \r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"How to search a text efficient way in a text field? Spring Boot + JPA + PostgresSQL","body":"<p>If I understand your question correctly you have a JPA repository already.\nAll you need to do is add a method and add the JPQL as below.</p>\n<pre><code>public interface PostRepository extends JpaRepository&lt;Post, Integer&gt; {\n\n    @Query(&quot;SELECT p FROM Post p WHERE p.content LIKE %:keyword%&quot;)\n    List&lt;Post&gt; searchByContent(String keyword);\n}\n</code></pre>\n<p>Then in your service:</p>\n<pre><code>@Service\npublic class PostService {\n\n    @Autowired\n    private PostRepository postRepository;\n\n    public List&lt;Post&gt; searchByContent(String keyword) {\n        return postRepository.searchByContent(keyword);\n   \n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"score":1,"creation_date":1695304670,"post_id":77149924,"comment_id":136008939,"body_markdown":"Agreed, native json is much better than text. This can works as a native query in Springboot","body":"Agreed, native json is much better than text. This can works as a native query in Springboot"}],"tags":[],"owner":{"account_id":5745621,"reputation":699,"user_id":4536931,"display_name":"Vincent C."},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695296650,"creation_date":1695296650,"answer_id":77149924,"question_id":77147655,"body_markdown":"If `content` is JSON, why not use native Postgres `json` (or `jsonb`) type for that field, and then search inside it using native [JSON operators][1].\r\n\r\nThis should allow you to request on the actual value, instead of doing clunky text search on a `String` (and potentially even selecting unexpected data).\r\n\r\n_e.g._: if you want to request an ID in a `jsonb` field, you would do something like:\r\n```sql\r\n-- using JSON native operator, clean\r\nselect p.* from post p where p.content -&gt;&gt; &#39;id&#39; = &lt;ID&gt;;\r\nselect p.* from post p where p.content -&gt;&gt; &#39;id&#39; like &#39;%PARTIAL_ID%&#39;;\r\n\r\n-- using text field, clunky\r\nselect p.* from post p where p.content like &#39;%&quot;id&quot;: &quot;&lt;ID&gt;&quot;%&#39;;\r\n```\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/9.5/functions-json.html","title":"How to search a text efficient way in a text field? Spring Boot + JPA + PostgresSQL","body":"<p>If <code>content</code> is JSON, why not use native Postgres <code>json</code> (or <code>jsonb</code>) type for that field, and then search inside it using native <a href=\"https://www.postgresql.org/docs/9.5/functions-json.html\" rel=\"nofollow noreferrer\">JSON operators</a>.</p>\n<p>This should allow you to request on the actual value, instead of doing clunky text search on a <code>String</code> (and potentially even selecting unexpected data).</p>\n<p><em>e.g.</em>: if you want to request an ID in a <code>jsonb</code> field, you would do something like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- using JSON native operator, clean\nselect p.* from post p where p.content -&gt;&gt; 'id' = &lt;ID&gt;;\nselect p.* from post p where p.content -&gt;&gt; 'id' like '%PARTIAL_ID%';\n\n-- using text field, clunky\nselect p.* from post p where p.content like '%&quot;id&quot;: &quot;&lt;ID&gt;&quot;%';\n</code></pre>\n"}],"owner":{"account_id":29406272,"reputation":11,"user_id":22531278,"display_name":"Akter Hossain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1695296650,"creation_date":1695277545,"question_id":77147655,"body_markdown":"\r\n\r\n```\r\npublic class Post {\r\n    private int id;\r\n    private String title;\r\n    private String content;\r\n    private Date createdAt;\r\n}\r\n```\r\n\r\ncontent field is the text field. This field value actually is a Json object, I converted it to text.\r\n\r\n\r\nHow can search efficient way a text pattern match or not?\r\n\r\nI want to implement using spring boot, JPA and postgresSQL","title":"How to search a text efficient way in a text field? Spring Boot + JPA + PostgresSQL","body":"<pre><code>public class Post {\n    private int id;\n    private String title;\n    private String content;\n    private Date createdAt;\n}\n</code></pre>\n<p>content field is the text field. This field value actually is a Json object, I converted it to text.</p>\n<p>How can search efficient way a text pattern match or not?</p>\n<p>I want to implement using spring boot, JPA and postgresSQL</p>\n"},{"tags":["java","android","kotlin","service","background-service"],"owner":{"account_id":23224850,"reputation":69,"user_id":17316514,"display_name":"ShaRy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695296166,"creation_date":1695269457,"question_id":77147145,"body_markdown":"So what my app is doing compressing videos and reducing its size. &lt;br/&gt;\r\nFor this, I am using an Android background service and it&#39;s currently working fine. &lt;br/&gt;&lt;br/&gt;\r\nAlso looks good for one selected video, now what I am thinking what if the user selects multiple videos how can I compress all these videos using a background service in a better way..&lt;br /&gt;\r\ncompressing video takes time and for each video, it depends on video length and some other properties.&lt;br/&gt;\r\nFor now what I have done so far is just a rough idea...&lt;br/&gt;\r\n\r\nI am starting a service providing all video details passing it as intent extras..like below&lt;br/&gt;\r\n```\r\n        val intent = Intent(this, MyService::class.java)\r\n        intent.putExtra(EXTRA_NAME, selectedVideos)          // selectedVideo =&gt; ArrayList&lt;Video&gt; \r\n        intent.putExtra(EXTRA_NAME, compressionPrams)        // compressionPrams =&gt; Hasmap&lt;String, String&gt;\r\n        ContextCompat.startForegroundService(this, intent)\r\n```\r\n\r\nNow my service is like this...&lt;br/&gt;\r\n```\r\nclass MyService : Service() {\r\n\r\noverride fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\r\n\r\n    ...retrieving all data from intent extras...\r\n    val **selectedVideos** ArrayList&lt;Video&gt;...    // supposed we&#39;ve 6 video needs to compress \r\n    val **compressionPrams** HashMap&lt;*, *&gt;...\r\n\r\n    // Now after this, I am parsing all compression prams and building command to execute for\r\n    // compressing video. (Below is just a rough idea of my app functionality.)\r\n\r\n    // Note: CompressingVideo.compressAsync runs in its own separate background thread.\r\n    CompressingVideo.compressAsync(selectedVideos[0], object: CompletionCallback { status -&gt;\r\n              // Whenever the compression is completed we get notified by callback...\r\n              // Now the first video compression is completed, processing another one...\r\n           \r\n              // Here I am checking if I have more videos to process then update command and prams \r\n              // and then start its compression\r\n              CompressingVideo.compress(seletedVideo[...], this)   // passing this as completion callback\r\n          }\r\n      )\r\n   }\r\n}\r\n```\r\n\r\nSo now what do you think..is this approach good or is there any other more better way to do it...&lt;br/&gt;\r\nThe supposed first video takes 3 mint, 2nd 10 mint, 3rd 5 mint...and so on till 6. approx 30 mint. to complete all tasks.&lt;br/&gt;\r\nOne thing came to my mind what if I pass a second video to the service by myself when the previous one gets compressed, like telling the service hey this needs to process as well.&lt;br/&gt;\r\nafter starting the service can we send more data so that `onStartCommand(...)` gets called again to process another video...etc","title":"How to perform multipe task under single android background service?","body":"<p>So what my app is doing compressing videos and reducing its size. <br/>\nFor this, I am using an Android background service and it's currently working fine. <br/><br/>\nAlso looks good for one selected video, now what I am thinking what if the user selects multiple videos how can I compress all these videos using a background service in a better way..<br />\ncompressing video takes time and for each video, it depends on video length and some other properties.<br/>\nFor now what I have done so far is just a rough idea...<br/></p>\n<p>I am starting a service providing all video details passing it as intent extras..like below<br/></p>\n<pre><code>        val intent = Intent(this, MyService::class.java)\n        intent.putExtra(EXTRA_NAME, selectedVideos)          // selectedVideo =&gt; ArrayList&lt;Video&gt; \n        intent.putExtra(EXTRA_NAME, compressionPrams)        // compressionPrams =&gt; Hasmap&lt;String, String&gt;\n        ContextCompat.startForegroundService(this, intent)\n</code></pre>\n<p>Now my service is like this...<br/></p>\n<pre><code>class MyService : Service() {\n\noverride fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n\n    ...retrieving all data from intent extras...\n    val **selectedVideos** ArrayList&lt;Video&gt;...    // supposed we've 6 video needs to compress \n    val **compressionPrams** HashMap&lt;*, *&gt;...\n\n    // Now after this, I am parsing all compression prams and building command to execute for\n    // compressing video. (Below is just a rough idea of my app functionality.)\n\n    // Note: CompressingVideo.compressAsync runs in its own separate background thread.\n    CompressingVideo.compressAsync(selectedVideos[0], object: CompletionCallback { status -&gt;\n              // Whenever the compression is completed we get notified by callback...\n              // Now the first video compression is completed, processing another one...\n           \n              // Here I am checking if I have more videos to process then update command and prams \n              // and then start its compression\n              CompressingVideo.compress(seletedVideo[...], this)   // passing this as completion callback\n          }\n      )\n   }\n}\n</code></pre>\n<p>So now what do you think..is this approach good or is there any other more better way to do it...<br/>\nThe supposed first video takes 3 mint, 2nd 10 mint, 3rd 5 mint...and so on till 6. approx 30 mint. to complete all tasks.<br/>\nOne thing came to my mind what if I pass a second video to the service by myself when the previous one gets compressed, like telling the service hey this needs to process as well.<br/>\nafter starting the service can we send more data so that <code>onStartCommand(...)</code> gets called again to process another video...etc</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695296188,"post_id":77149697,"comment_id":136007058,"body_markdown":"No you cannot. Your only option is to dynamically generate the XML and feed that to the library (if at all possible) if that isn&#39;t possible then it simply cannot be done and you have to find another way of configuring the library.","body":"No you cannot. Your only option is to dynamically generate the XML and feed that to the library (if at all possible) if that isn&#39;t possible then it simply cannot be done and you have to find another way of configuring the library."}],"answers":[{"comments":[{"owner":{"account_id":14683884,"reputation":47,"user_id":10604509,"display_name":"Iv&#225;n Mart&#237;n Jim&#233;nez"},"score":0,"creation_date":1695296075,"post_id":77149785,"comment_id":136007033,"body_markdown":"Yes, I tried this option too. But the downside of this is that the application needs to be redeployed everytime I need to change some of the config.xml properties. This was one of the reasons why I am asking, its not really possible to inject values directly and dynamically right? Like others properties I use in application.properties, with the goal of modifying only the properties on the cloud config server.","body":"Yes, I tried this option too. But the downside of this is that the application needs to be redeployed everytime I need to change some of the config.xml properties. This was one of the reasons why I am asking, its not really possible to inject values directly and dynamically right? Like others properties I use in application.properties, with the goal of modifying only the properties on the cloud config server."},{"owner":{"account_id":1162627,"reputation":1638,"user_id":1141829,"accept_rate":86,"display_name":"practical programmer"},"score":0,"creation_date":1695368530,"post_id":77149785,"comment_id":136017736,"body_markdown":"It depends on the library that you use. Will it update it&#39;s state after you modify the config.xml file? If yes, you can recreate the file when you need changes from your code instead of restarting. If not, you can look if library has internal API to modify those values at runtime. I can&#39;t help you with external dependency that I do not know how it works and what it is.","body":"It depends on the library that you use. Will it update it&#39;s state after you modify the config.xml file? If yes, you can recreate the file when you need changes from your code instead of restarting. If not, you can look if library has internal API to modify those values at runtime. I can&#39;t help you with external dependency that I do not know how it works and what it is."}],"tags":[],"owner":{"account_id":1162627,"reputation":1638,"user_id":1141829,"accept_rate":86,"display_name":"practical programmer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695295461,"creation_date":1695295461,"answer_id":77149785,"question_id":77149697,"body_markdown":"You should be able to create this `config.xml` at startup using some templating mechanism. If XML is small and static (aside of placeholder values) you can even use string formatter. If you need more sophisticated solutions you can consider Apache Velocity. \r\n\r\nSimilar question is here: https://stackoverflow.com/questions/1680175/xml-template-in-java","title":"Spring Boot inject property value into XML file","body":"<p>You should be able to create this <code>config.xml</code> at startup using some templating mechanism. If XML is small and static (aside of placeholder values) you can even use string formatter. If you need more sophisticated solutions you can consider Apache Velocity.</p>\n<p>Similar question is here: <a href=\"https://stackoverflow.com/questions/1680175/xml-template-in-java\">XML template in Java</a></p>\n"}],"owner":{"account_id":14683884,"reputation":47,"user_id":10604509,"display_name":"Iv&#225;n Mart&#237;n Jim&#233;nez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695295461,"creation_date":1695294769,"question_id":77149697,"body_markdown":"first of all sorry if the question is already answered, if so, I did not find it before. I am developing a Spring boot project with Maven. The properties configuration are done via an application.properties in my classpath, as I always do in spring boot. For this project, the client needs some external dependencies which I declared in the POM and used later in my code. The thing is that this dependency is configured via a &quot;config.xml&quot; file. And I cannot give this config via application.properties directly because the dependency has not this option. So, the client told me they need to configure the dependency from the spring cloud / application.properties. Thats where the problem began, because I have tried everything to pass properties values from application.properties to the config.xml and nothing worked.\r\nIts even possible in Spring boot to dynamically inject properties into some .xml file?\r\nThis is my application.properties:\r\n\r\n    config.xml.active = true\r\n    config.xml.url = someurl\r\n    config.xml.user= someuser\r\n\r\n\r\nAnd this is my config.xml:\r\n\r\n    &lt;reg-enter&gt;\r\n        &lt;active&gt;**I need the property value here**&lt;/active&gt;\r\n        &lt;url&gt;**I need the property value here**&lt;&lt;/url&gt;\r\n        &lt;user&gt;**I need the property value here**&lt;&lt;/user&gt; \r\n    &lt;/reg-enter&gt;\r\n","title":"Spring Boot inject property value into XML file","body":"<p>first of all sorry if the question is already answered, if so, I did not find it before. I am developing a Spring boot project with Maven. The properties configuration are done via an application.properties in my classpath, as I always do in spring boot. For this project, the client needs some external dependencies which I declared in the POM and used later in my code. The thing is that this dependency is configured via a &quot;config.xml&quot; file. And I cannot give this config via application.properties directly because the dependency has not this option. So, the client told me they need to configure the dependency from the spring cloud / application.properties. Thats where the problem began, because I have tried everything to pass properties values from application.properties to the config.xml and nothing worked.\nIts even possible in Spring boot to dynamically inject properties into some .xml file?\nThis is my application.properties:</p>\n<pre><code>config.xml.active = true\nconfig.xml.url = someurl\nconfig.xml.user= someuser\n</code></pre>\n<p>And this is my config.xml:</p>\n<pre><code>&lt;reg-enter&gt;\n    &lt;active&gt;**I need the property value here**&lt;/active&gt;\n    &lt;url&gt;**I need the property value here**&lt;&lt;/url&gt;\n    &lt;user&gt;**I need the property value here**&lt;&lt;/user&gt; \n&lt;/reg-enter&gt;\n</code></pre>\n"},{"tags":["java","jboss-eap-7","mbeans","jbossmq","wildfly-27"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1695392232,"post_id":77149780,"comment_id":136022488,"body_markdown":"Did you migrate the SAR to Jakarta EE 10?","body":"Did you migrate the SAR to Jakarta EE 10?"},{"owner":{"account_id":19301594,"reputation":43,"user_id":14109359,"display_name":"Shipra Shahi"},"score":0,"creation_date":1695393089,"post_id":77149780,"comment_id":136022668,"body_markdown":"Yes, fixed all the import statements from javax.* to jakarta.*","body":"Yes, fixed all the import statements from javax.* to jakarta.*"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1695574745,"post_id":77149780,"comment_id":136039555,"body_markdown":"What kind of errors are you seeing? Is there a stack trace?","body":"What kind of errors are you seeing? Is there a stack trace?"},{"owner":{"account_id":19301594,"reputation":43,"user_id":14109359,"display_name":"Shipra Shahi"},"score":0,"creation_date":1695700534,"post_id":77149780,"comment_id":136055832,"body_markdown":"There are no errors, the deployment is successful and jar.deployed file is also generated. However, nothing is printed in logs related to SAR deployment. Is there any other way to deploy SAR files? Or do I have to mention a dependency on SAR file for deployment?","body":"There are no errors, the deployment is successful and jar.deployed file is also generated. However, nothing is printed in logs related to SAR deployment. Is there any other way to deploy SAR files? Or do I have to mention a dependency on SAR file for deployment?"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1695741126,"post_id":77149780,"comment_id":136063449,"body_markdown":"Without some kind of reproducer it&#39;s hard to say what the issue could be.","body":"Without some kind of reproducer it&#39;s hard to say what the issue could be."}],"owner":{"account_id":19301594,"reputation":43,"user_id":14109359,"display_name":"Shipra Shahi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695295414,"creation_date":1695295414,"question_id":77149780,"body_markdown":"I have a JAR file which includes few SAR files. Earlier in Jboss AS(4.2.3), upon deploying the jar nested SAR files were getting deployed as well and services were starting, now we are moving to Wildfly 29 (Java 17) and upon adding jar file to deployments directory, deployment is successful but nested files of SAR are not deployed.\r\n\r\nHow to deploy SAR files in Wildfly 29 Java 17.\r\n\r\nTried to deploy SAR file by placing it in standalone/deployment directory but it keeps giving error for some or the other class being referred by Service Class.","title":"Deploy SAR file in WildFly 29","body":"<p>I have a JAR file which includes few SAR files. Earlier in Jboss AS(4.2.3), upon deploying the jar nested SAR files were getting deployed as well and services were starting, now we are moving to Wildfly 29 (Java 17) and upon adding jar file to deployments directory, deployment is successful but nested files of SAR are not deployed.</p>\n<p>How to deploy SAR files in Wildfly 29 Java 17.</p>\n<p>Tried to deploy SAR file by placing it in standalone/deployment directory but it keeps giving error for some or the other class being referred by Service Class.</p>\n"},{"tags":["java","spring","penetration-testing"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":2,"creation_date":1586666822,"post_id":61166898,"comment_id":108208434,"body_markdown":"You may find it in a jar file inside `WEB-INF/lib` (but it may also be stored somewhere else).","body":"You may find it in a jar file inside <code>WEB-INF&#47;lib</code> (but it may also be stored somewhere else)."}],"answers":[{"comments":[{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":1,"creation_date":1701678721,"post_id":77149775,"comment_id":136800988,"body_markdown":"This answer looks like ChatGPT","body":"This answer looks like ChatGPT"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1701700642,"post_id":77149775,"comment_id":136804837,"body_markdown":"@DavidW: It does look like most of [the answers](https://stackoverflow.com/users/22599822/haku?tab=answers) are, but there are several language errors in [this one](https://stackoverflow.com/questions/74880471/ss-and-ps-flag-in-nmap/77142580#77142580) and in [this one](https://stackoverflow.com/questions/61014840/can-anyone-explain-how-lnk-file-vulnerability-cve-2015-0096-works/77142214#77142214) (contraindications).","body":"@DavidW: It does look like most of <a href=\"https://stackoverflow.com/users/22599822/haku?tab=answers\">the answers</a> are, but there are several language errors in <a href=\"https://stackoverflow.com/questions/74880471/ss-and-ps-flag-in-nmap/77142580#77142580\">this one</a> and in <a href=\"https://stackoverflow.com/questions/61014840/can-anyone-explain-how-lnk-file-vulnerability-cve-2015-0096-works/77142214#77142214\">this one</a> (contraindications)."}],"tags":[],"owner":{"account_id":29490771,"reputation":1,"user_id":22599822,"display_name":"Haku"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695295357,"creation_date":1695295357,"answer_id":77149775,"question_id":61166898,"body_markdown":"Double-check the package and folder structure to ensure you have the correct path. Typos or case sensitivity issues can cause problems. \r\nBut if this does not work look within the WEB-INF/lib directory for JAR files. (This is a common location for packaged libraries and classes.)\r\n\r\nAlso sometimes the web application might have security mechanisms to prevent direct access to class files, even if you have access to web.xml.\r\n\r\nAnd also you can try to verify that you have the necessary permissions to access the class files in the WEB-INF/classes directory. If the permissions are restrictive, you might need to escalate privileges or find another way to access the files.\r\n\r\nHope this helps.","title":"Where are imported files&#39; class files stored in Java","body":"<p>Double-check the package and folder structure to ensure you have the correct path. Typos or case sensitivity issues can cause problems.\nBut if this does not work look within the WEB-INF/lib directory for JAR files. (This is a common location for packaged libraries and classes.)</p>\n<p>Also sometimes the web application might have security mechanisms to prevent direct access to class files, even if you have access to web.xml.</p>\n<p>And also you can try to verify that you have the necessary permissions to access the class files in the WEB-INF/classes directory. If the permissions are restrictive, you might need to escalate privileges or find another way to access the files.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":1464069,"reputation":605,"user_id":1377480,"accept_rate":23,"display_name":"Justin Gardner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695295357,"creation_date":1586665988,"question_id":61166898,"body_markdown":"I am a penetration tester and I found a path traversal that allows me to access to the WEB-INF folder. I was able to extract web.xml and now I&#39;m trying to download the class files for the application. I was able to grab one referenced in the web.xml. In that code was referenced the following line:\r\n```\r\nimport com.SITE.NAME.biz.r.RenderSystemProxy;\r\n```\r\nSo naturally, I tried to access:\r\n```\r\nWEB-INF/classes/com/site/name/biz/r/RendersSystemProxy.class\r\n```\r\nBut it wasn&#39;t accessible. Where might I find the class file for this import?","title":"Where are imported files&#39; class files stored in Java","body":"<p>I am a penetration tester and I found a path traversal that allows me to access to the WEB-INF folder. I was able to extract web.xml and now I'm trying to download the class files for the application. I was able to grab one referenced in the web.xml. In that code was referenced the following line:</p>\n\n<pre><code>import com.SITE.NAME.biz.r.RenderSystemProxy;\n</code></pre>\n\n<p>So naturally, I tried to access:</p>\n\n<pre><code>WEB-INF/classes/com/site/name/biz/r/RendersSystemProxy.class\n</code></pre>\n\n<p>But it wasn't accessible. Where might I find the class file for this import?</p>\n"},{"tags":["java","spring","spring-boot","inversion-of-control"],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695295209,"creation_date":1695295209,"answer_id":77149755,"question_id":77149323,"body_markdown":"If you&#39;re not using Spring Boot, then you have to set up the Spring container by yourself by creating an [`ApplicationContext` bean](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationContext.html).\r\n\r\nOne way of doing so is by using the `AnnotationConfigApplicationContext` class. For example:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    ApplicationContext context = new ApplicationConfigApplicationContext(TestSpringApplication.class);\r\n    MessageService messageService = context.getBean(MessageService.class);\r\n    messageService.printAllMessages();\r\n}\r\n```\r\n\r\nBut this only creates a basic application context for you. Without Spring Boot, you no longer have access to autoconfigurations. This means that:\r\n\r\n- If you&#39;re depending on a database, you now have to manually create a `DataSource` bean.\r\n- If you&#39;re depending on Spring Data JPA&#39;s repositories, you now have to manually create an `EntityManagerFactory` bean and a `TransactionManager` (and you have to configure Spring Data JPA as well).\r\n- If you&#39;re running a web application, you no longer have access to Spring Boot&#39;s embedded servlet container. Now you either have to configure the embedded Tomcat by yourself, or configure your application for traditional WAR-file deployments.\r\n- If `printAllMessages()` relies on a logging framework, you now have to configure that one by yourself as well.\r\n\r\nIn addition, classes like `CommandLineRunner` are also no longer available. Now you have to rely on alternatives such as listening to the `ContextRefreshedEvent`.","title":"SpringApplication.run() without boot","body":"<p>If you're not using Spring Boot, then you have to set up the Spring container by yourself by creating an <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationContext.html\" rel=\"nofollow noreferrer\"><code>ApplicationContext</code> bean</a>.</p>\n<p>One way of doing so is by using the <code>AnnotationConfigApplicationContext</code> class. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    ApplicationContext context = new ApplicationConfigApplicationContext(TestSpringApplication.class);\n    MessageService messageService = context.getBean(MessageService.class);\n    messageService.printAllMessages();\n}\n</code></pre>\n<p>But this only creates a basic application context for you. Without Spring Boot, you no longer have access to autoconfigurations. This means that:</p>\n<ul>\n<li>If you're depending on a database, you now have to manually create a <code>DataSource</code> bean.</li>\n<li>If you're depending on Spring Data JPA's repositories, you now have to manually create an <code>EntityManagerFactory</code> bean and a <code>TransactionManager</code> (and you have to configure Spring Data JPA as well).</li>\n<li>If you're running a web application, you no longer have access to Spring Boot's embedded servlet container. Now you either have to configure the embedded Tomcat by yourself, or configure your application for traditional WAR-file deployments.</li>\n<li>If <code>printAllMessages()</code> relies on a logging framework, you now have to configure that one by yourself as well.</li>\n</ul>\n<p>In addition, classes like <code>CommandLineRunner</code> are also no longer available. Now you have to rely on alternatives such as listening to the <code>ContextRefreshedEvent</code>.</p>\n"}],"owner":{"account_id":8565752,"reputation":615,"user_id":6418277,"accept_rate":81,"display_name":"Gaetan L."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77149755,"answer_count":1,"score":0,"last_activity_date":1695295209,"creation_date":1695291468,"question_id":77149323,"body_markdown":"I&#39;m a total beginner with Spring. I&#39;m currently trying to just run a very simple project just to start learning about Spring and understanding IoC and dependency injection. At first I created a simple Spring Boot project and it worked, but now I&#39;m trying to do it without boot because I want to understand better what&#39;s going on. I don&#39;t understand how to do this (full class below):\r\n\r\n`SpringApplication.run(TestSpringApplication.class, args);`\r\n\r\nI tried to do this:\r\n\r\n    TestSpringApplication app = new TestSpringApplication();\r\n    app.run(args);\r\n\r\nBut then inside the run() method, the @Autowired messageRepository is null. I&#39;m guessing this is because I created my TestSpringApplication using new instead of applicationContext.getBean()? But how can I access/get the applicationContext in my static main method?\r\n\r\nForgive me if it might sound trivial, I&#39;m starting from almost zero here and I have a very hard time finding easy tutorials.\r\n\r\nHere is what I&#39;m trying to do but is not working:\r\n\r\n    package com.cypherf;\r\n    import com.cypherf.model.Message;\r\n    import com.cypherf.repository.MessageRepository;\r\n    import com.cypherf.service.MessageService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n\r\n    @Configuration\r\n    @ComponentScan\r\n    public class TestSpringApplication {\r\n        @Autowired\r\n        private ApplicationContext context;\r\n\r\n        @Autowired\r\n        private MessageRepository messageRepository;\r\n\r\n        @Autowired\r\n        private MessageService messageService;\r\n\r\n        public static void main(String[] args) {\r\n            TestSpringApplication app = new TestSpringApplication();\r\n            app.run(args);\r\n        }\r\n\r\n        public void run(String... args) {\r\n            messageRepository.save(new Message(&quot;Message one&quot;));\r\n            messageRepository.save(new Message(&quot;Message two&quot;));\r\n            messageRepository.save(new Message(&quot;Message two&quot;));\r\n\r\n            messageService.printAllMessages();\r\n        }\r\n    }\r\n\r\nHere is my previous class with Spring Boot which is working:\r\n\r\n    package com.cypherf;\r\n    import com.cypherf.model.Message;\r\n    import com.cypherf.repository.MessageRepository;\r\n    import com.cypherf.service.MessageService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class TestSpringApplication implements CommandLineRunner {\r\n\r\n        @Autowired\r\n        private MessageRepository messageRepository;\r\n\r\n        @Autowired\r\n        private MessageService messageService;\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(TestSpringApplication.class, args);\r\n        }\r\n\r\n        public void run(String... args) throws Exception {\r\n            messageRepository.save(new Message(&quot;Message one&quot;));\r\n            messageRepository.save(new Message(&quot;Message two&quot;));\r\n            messageRepository.save(new Message(&quot;Message two&quot;));\r\n\r\n            messageService.printAllMessages();\r\n        }\r\n    }","title":"SpringApplication.run() without boot","body":"<p>I'm a total beginner with Spring. I'm currently trying to just run a very simple project just to start learning about Spring and understanding IoC and dependency injection. At first I created a simple Spring Boot project and it worked, but now I'm trying to do it without boot because I want to understand better what's going on. I don't understand how to do this (full class below):</p>\n<p><code>SpringApplication.run(TestSpringApplication.class, args);</code></p>\n<p>I tried to do this:</p>\n<pre><code>TestSpringApplication app = new TestSpringApplication();\napp.run(args);\n</code></pre>\n<p>But then inside the run() method, the @Autowired messageRepository is null. I'm guessing this is because I created my TestSpringApplication using new instead of applicationContext.getBean()? But how can I access/get the applicationContext in my static main method?</p>\n<p>Forgive me if it might sound trivial, I'm starting from almost zero here and I have a very hard time finding easy tutorials.</p>\n<p>Here is what I'm trying to do but is not working:</p>\n<pre><code>package com.cypherf;\nimport com.cypherf.model.Message;\nimport com.cypherf.repository.MessageRepository;\nimport com.cypherf.service.MessageService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@ComponentScan\npublic class TestSpringApplication {\n    @Autowired\n    private ApplicationContext context;\n\n    @Autowired\n    private MessageRepository messageRepository;\n\n    @Autowired\n    private MessageService messageService;\n\n    public static void main(String[] args) {\n        TestSpringApplication app = new TestSpringApplication();\n        app.run(args);\n    }\n\n    public void run(String... args) {\n        messageRepository.save(new Message(&quot;Message one&quot;));\n        messageRepository.save(new Message(&quot;Message two&quot;));\n        messageRepository.save(new Message(&quot;Message two&quot;));\n\n        messageService.printAllMessages();\n    }\n}\n</code></pre>\n<p>Here is my previous class with Spring Boot which is working:</p>\n<pre><code>package com.cypherf;\nimport com.cypherf.model.Message;\nimport com.cypherf.repository.MessageRepository;\nimport com.cypherf.service.MessageService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class TestSpringApplication implements CommandLineRunner {\n\n    @Autowired\n    private MessageRepository messageRepository;\n\n    @Autowired\n    private MessageService messageService;\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestSpringApplication.class, args);\n    }\n\n    public void run(String... args) throws Exception {\n        messageRepository.save(new Message(&quot;Message one&quot;));\n        messageRepository.save(new Message(&quot;Message two&quot;));\n        messageRepository.save(new Message(&quot;Message two&quot;));\n\n        messageService.printAllMessages();\n    }\n}\n</code></pre>\n"},{"tags":["java","json","serialization","jackson"],"comments":[{"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"score":1,"creation_date":1467385338,"post_id":12046786,"comment_id":63726809,"body_markdown":"I wrote a post about [How to Write a Custom Serializer with Jackson](https://spin.atomicobject.com/2016/07/01/custom-serializer-jackson/?utm_source=stack-overflow-ao&amp;utm_medium=referral&amp;utm_campaign=custom-serializer-jackson) that may be helpful to some.","body":"I wrote a post about <a href=\"https://spin.atomicobject.com/2016/07/01/custom-serializer-jackson/?utm_source=stack-overflow-ao&amp;utm_medium=referral&amp;utm_campaign=custom-serializer-jackson\" rel=\"nofollow noreferrer\">How to Write a Custom Serializer with Jackson</a> that may be helpful to some."}],"answers":[{"tags":[],"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"comment_count":0,"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1345509179,"creation_date":1345508038,"answer_id":12046909,"question_id":12046786,"body_markdown":"Add a `@JsonProperty` annotated getter, which returns a `String`, for the `favoriteNumber` field:\r\n\r\n    public class Person {\r\n        public String name;\r\n        public int age;\r\n        private int favoriteNumber;\r\n        \r\n        public Person(String name, int age, int favoriteNumber) {\r\n        \tthis.name = name;\r\n        \tthis.age = age;\r\n        \tthis.favoriteNumber = favoriteNumber;\r\n        }\r\n        \r\n        @JsonProperty\r\n        public String getFavoriteNumber() {\r\n        \treturn String.valueOf(favoriteNumber);\r\n        }\r\n    \r\n    \tpublic static void main(String... args) throws Exception {\r\n        \tPerson p = new Person(&quot;Joe&quot;, 25, 123);\r\n        \tObjectMapper mapper = new ObjectMapper();\r\n        \tSystem.out.println(mapper.writeValueAsString(p)); \r\n            // {&quot;name&quot;:&quot;Joe&quot;,&quot;age&quot;:25,&quot;favoriteNumber&quot;:&quot;123&quot;}\r\n        }\r\n    }","title":"Jackson JSON custom serialization for certain fields","body":"<p>Add a <code>@JsonProperty</code> annotated getter, which returns a <code>String</code>, for the <code>favoriteNumber</code> field:</p>\n\n<pre><code>public class Person {\n    public String name;\n    public int age;\n    private int favoriteNumber;\n\n    public Person(String name, int age, int favoriteNumber) {\n        this.name = name;\n        this.age = age;\n        this.favoriteNumber = favoriteNumber;\n    }\n\n    @JsonProperty\n    public String getFavoriteNumber() {\n        return String.valueOf(favoriteNumber);\n    }\n\n    public static void main(String... args) throws Exception {\n        Person p = new Person(\"Joe\", 25, 123);\n        ObjectMapper mapper = new ObjectMapper();\n        System.out.println(mapper.writeValueAsString(p)); \n        // {\"name\":\"Joe\",\"age\":25,\"favoriteNumber\":\"123\"}\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2145392,"reputation":776,"user_id":1903113,"display_name":"werupokz"},"score":7,"creation_date":1360841209,"post_id":12046979,"comment_id":20852570,"body_markdown":"Jackson-databind (at least 2.1.3) already contains special ToStringSerializer, see my answer.","body":"Jackson-databind (at least 2.1.3) already contains special ToStringSerializer, see my answer."},{"owner":{"account_id":146433,"reputation":50504,"user_id":356895,"accept_rate":66,"display_name":"JJD"},"score":0,"creation_date":1415144793,"post_id":12046979,"comment_id":42079448,"body_markdown":"@KevinBowersox Can you help with my [deserializing problem](http://stackoverflow.com/questions/26725278/how-to-handle-localized-decimal-separator-with-jackson) please?","body":"@KevinBowersox Can you help with my <a href=\"http://stackoverflow.com/questions/26725278/how-to-handle-localized-decimal-separator-with-jackson\">deserializing problem</a> please?"},{"owner":{"account_id":372833,"reputation":86879,"user_id":722121,"accept_rate":100,"display_name":"Gareth Latty"},"score":9,"creation_date":1429108585,"post_id":12046979,"comment_id":47446101,"body_markdown":"note `as=String.class` is ignored due to the `using` parameter, and is not required here. [*Note: if using() is also used it has precedence (since it directly specified serializer, whereas this would only be used to locate the serializer) and value of this annotation property is ignored.*](http://jackson.codehaus.org/1.7.0/javadoc/org/codehaus/jackson/map/annotate/JsonSerialize.html#as())","body":"note <code>as=String.class</code> is ignored due to the <code>using</code> parameter, and is not required here. <a href=\"http://jackson.codehaus.org/1.7.0/javadoc/org/codehaus/jackson/map/annotate/JsonSerialize.html#as()\" rel=\"nofollow noreferrer\"><i>Note: if using() is also used it has precedence (since it directly specified serializer, whereas this would only be used to locate the serializer) and value of this annotation property is ignored.</i></a>"},{"owner":{"account_id":81519,"reputation":34798,"user_id":229792,"accept_rate":63,"display_name":"jameshfisher"},"score":0,"creation_date":1443698174,"post_id":12046979,"comment_id":53602090,"body_markdown":"Is there any less terrible way to do this? Like `Person implements ToJson`?","body":"Is there any less terrible way to do this? Like <code>Person implements ToJson</code>?"},{"owner":{"account_id":3527008,"reputation":1958,"user_id":2947812,"accept_rate":63,"display_name":"Mikhail Batcer"},"score":0,"creation_date":1455196940,"post_id":12046979,"comment_id":58388124,"body_markdown":"@KevinBowersox There is probably a typo in the first words of the answer: you meant &quot;serializer&quot;, not &quot;deserializer&quot; (though deserializer may also be of insterest).","body":"@KevinBowersox There is probably a typo in the first words of the answer: you meant &quot;serializer&quot;, not &quot;deserializer&quot; (though deserializer may also be of insterest)."},{"owner":{"account_id":5475341,"reputation":879,"user_id":4353482,"accept_rate":0,"display_name":"Bert"},"score":1,"creation_date":1508268089,"post_id":12046979,"comment_id":80542109,"body_markdown":"In my case, it even failed on the `as=String.class` part, due to the types I used. @kevin-bowersox, I suggest updating your comment, in line with what @GarethLatty said.","body":"In my case, it even failed on the <code>as=String.class</code> part, due to the types I used. @kevin-bowersox, I suggest updating your comment, in line with what @GarethLatty said."},{"owner":{"account_id":36295,"reputation":1716,"user_id":103412,"accept_rate":88,"display_name":"Torsten"},"score":0,"creation_date":1518622063,"post_id":12046979,"comment_id":84583370,"body_markdown":"@Bert I second that. I get a `Cannot read latest test results\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid definition for property &quot;instant&quot; (of type `com.MyType`): Cannot refine serialization type [simple type, class java.time.Instant] into java.lang.String; types not related` message, when I don&#39;t remove the `as`-annotation.","body":"@Bert I second that. I get a <code>Cannot read latest test results com.fasterxml.jackson.databind.exc.InvalidDefinitionExceptio&zwnj;&#8203;n: Invalid definition for property &quot;instant&quot; (of type </code>com.MyType<code>): Cannot refine serialization type [simple type, class java.time.Instant] into java.lang.String; types not related</code> message, when I don&#39;t remove the <code>as</code>-annotation."},{"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"score":0,"creation_date":1548264392,"post_id":12046979,"comment_id":95482952,"body_markdown":"we were using custom serialization but now i can&#39;t use POJOs anymore as more clients will be accessing our rest service. how can i still custom serialize certain fields ? just posted this question https://stackoverflow.com/questions/54332390/custom-serialization-based-on-attribute-in-json","body":"we were using custom serialization but now i can&#39;t use POJOs anymore as more clients will be accessing our rest service. how can i still custom serialize certain fields ? just posted this question <a href=\"https://stackoverflow.com/questions/54332390/custom-serialization-based-on-attribute-in-json\" title=\"custom serialization based on attribute in json\">stackoverflow.com/questions/54332390/&hellip;</a>"},{"owner":{"account_id":3064794,"reputation":445,"user_id":2596742,"display_name":"kit"},"score":0,"creation_date":1591287015,"post_id":12046979,"comment_id":110005197,"body_markdown":"In Kotlin, it&#39;s impossible to write &quot;as = &quot; since &quot;as&quot; is a reserved keyword. At least not without any hacks I haven&#39;t bothered to look up yet :)","body":"In Kotlin, it&#39;s impossible to write &quot;as = &quot; since &quot;as&quot; is a reserved keyword. At least not without any hacks I haven&#39;t bothered to look up yet :)"},{"owner":{"account_id":12456171,"reputation":339,"user_id":9069309,"display_name":"Cebrail Yilmaz"},"score":1,"creation_date":1620053037,"post_id":12046979,"comment_id":119080811,"body_markdown":"In kotlin, you can use reserved keywords by surrounding them with backticks. @kit","body":"In kotlin, you can use reserved keywords by surrounding them with backticks. @kit"},{"owner":{"account_id":8736977,"reputation":1090,"user_id":6535270,"accept_rate":50,"display_name":"orpheus"},"score":0,"creation_date":1631038687,"post_id":12046979,"comment_id":122114527,"body_markdown":"This serializes for types and not fields. How do I serialize specific `fields`? Does this solution not also map `age` to a string or does it maintain it as an `int`?","body":"This serializes for types and not fields. How do I serialize specific <code>fields</code>? Does this solution not also map <code>age</code> to a string or does it maintain it as an <code>int</code>?"}],"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"comment_count":11,"down_vote_count":2,"up_vote_count":139,"is_accepted":true,"score":137,"last_activity_date":1455670772,"creation_date":1345508717,"answer_id":12046979,"question_id":12046786,"body_markdown":"You can implement a custom serializer as follows: \r\n\r\n\r\n    public class Person {\r\n        public String name;\r\n        public int age;\r\n        @JsonSerialize(using = IntToStringSerializer.class, as=String.class)\r\n        public int favoriteNumber:\r\n    }\r\n    \r\n     \r\n    public class IntToStringSerializer extends JsonSerializer&lt;Integer&gt; {\r\n      \r\n        @Override\r\n        public void serialize(Integer tmpInt, \r\n                              JsonGenerator jsonGenerator, \r\n                              SerializerProvider serializerProvider) \r\n                              throws IOException, JsonProcessingException {\r\n            jsonGenerator.writeObject(tmpInt.toString());\r\n        }\r\n    }\r\n\r\nJava should handle the autoboxing from `int` to `Integer` for you.","title":"Jackson JSON custom serialization for certain fields","body":"<p>You can implement a custom serializer as follows: </p>\n\n<pre><code>public class Person {\n    public String name;\n    public int age;\n    @JsonSerialize(using = IntToStringSerializer.class, as=String.class)\n    public int favoriteNumber:\n}\n\n\npublic class IntToStringSerializer extends JsonSerializer&lt;Integer&gt; {\n\n    @Override\n    public void serialize(Integer tmpInt, \n                          JsonGenerator jsonGenerator, \n                          SerializerProvider serializerProvider) \n                          throws IOException, JsonProcessingException {\n        jsonGenerator.writeObject(tmpInt.toString());\n    }\n}\n</code></pre>\n\n<p>Java should handle the autoboxing from <code>int</code> to <code>Integer</code> for you.</p>\n"},{"comments":[{"owner":{"account_id":246528,"reputation":1736,"user_id":520732,"accept_rate":75,"display_name":"jEremyB"},"score":3,"creation_date":1442516425,"post_id":14873731,"comment_id":53124586,"body_markdown":"What about the reverse where a String needs to be converted to an int? I don&#39;t see ToIntSerializer.class.","body":"What about the reverse where a String needs to be converted to an int? I don&#39;t see ToIntSerializer.class."},{"owner":{"account_id":9399,"reputation":17347,"user_id":17339,"accept_rate":87,"display_name":"Drew Stephens"},"score":1,"creation_date":1491914404,"post_id":14873731,"comment_id":73755420,"body_markdown":"@jEremyB You might have to write a [custom deserializer](http://stackoverflow.com/a/20638114/17339)","body":"@jEremyB You might have to write a <a href=\"http://stackoverflow.com/a/20638114/17339\">custom deserializer</a>"},{"owner":{"account_id":2584392,"reputation":975,"user_id":2240423,"accept_rate":20,"display_name":"Arnie Schwarzvogel"},"score":0,"creation_date":1526741695,"post_id":14873731,"comment_id":87867687,"body_markdown":"ToStringSerializer works but FloatSerializer brings this message: Could not write content: java.lang.Integer cannot be cast to java.lang.Float","body":"ToStringSerializer works but FloatSerializer brings this message: Could not write content: java.lang.Integer cannot be cast to java.lang.Float"}],"tags":[],"owner":{"account_id":2145392,"reputation":776,"user_id":1903113,"display_name":"werupokz"},"comment_count":3,"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1360841096,"creation_date":1360841096,"answer_id":14873731,"question_id":12046786,"body_markdown":"Jackson-databind (at least 2.1.3) provides special `ToStringSerializer` (`com.fasterxml.jackson.databind.ser.std.ToStringSerializer`)\r\n\r\nExample:\r\n\r\n    public class Person {\r\n        public String name;\r\n        public int age;\r\n        @JsonSerialize(using = ToStringSerializer.class)\r\n        public int favoriteNumber:\r\n    }","title":"Jackson JSON custom serialization for certain fields","body":"<p>Jackson-databind (at least 2.1.3) provides special <code>ToStringSerializer</code> (<code>com.fasterxml.jackson.databind.ser.std.ToStringSerializer</code>)</p>\n\n<p>Example:</p>\n\n<pre><code>public class Person {\n    public String name;\n    public int age;\n    @JsonSerialize(using = ToStringSerializer.class)\n    public int favoriteNumber:\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4236253,"reputation":41,"user_id":3820510,"display_name":"Chetan Pardeshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1468304704,"creation_date":1468304704,"answer_id":38321400,"question_id":12046786,"body_markdown":"with the help of **@JsonView** we can decide fields of model classes to serialize which satisfy the minimal criteria ( we have to define the criteria) like we can have one core class with 10 properties but only 5 properties can be serialize which are needful for client only\r\n\r\nDefine our Views by simply creating following class:\r\n\r\n    public class Views\r\n    {\r\n    \tstatic class Android{};\r\n    \tstatic class IOS{};\r\n    \tstatic class Web{};\r\n    }\r\n\r\nAnnotated model class with views:\r\n\r\n    public class Demo \r\n    {\r\n    \tpublic Demo() \r\n    \t{\r\n    \t}\r\n\t\r\n    @JsonView(Views.IOS.class)\r\n    private String iosField;\r\n    \r\n    @JsonView(Views.Android.class)\r\n    private String androidField;\r\n    \r\n    @JsonView(Views.Web.class)\r\n    private String webField;\r\n\r\n     // getters/setters\r\n    ...\r\n    ..\r\n    }\r\n\r\nNow we have to write custom json converter by simply extending HttpMessageConverter class from spring as:\r\n\r\n        public class CustomJacksonConverter implements HttpMessageConverter&lt;Object&gt; \r\n        {\r\n        public CustomJacksonConverter() \r\n        \t{\r\n        \t\tsuper();\r\n    \t\t//this.delegate.getObjectMapper().setConfig(this.delegate.getObjectMapper().getSerializationConfig().withView(Views.ClientView.class));\r\n    \t\tthis.delegate.getObjectMapper().configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\r\n    \t\tthis.delegate.getObjectMapper().setSerializationInclusion(Include.NON_NULL);\r\n    \r\n    \t}\r\n    \t\r\n    \t// a real message converter that will respond to methods and do the actual work\r\n    \tprivate MappingJackson2HttpMessageConverter delegate = new MappingJackson2HttpMessageConverter();\r\n    \r\n    \t@Override\r\n    \tpublic boolean canRead(Class&lt;?&gt; clazz, MediaType mediaType) {\r\n    \t\treturn delegate.canRead(clazz, mediaType);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean canWrite(Class&lt;?&gt; clazz, MediaType mediaType) {\r\n    \t\treturn delegate.canWrite(clazz, mediaType);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;MediaType&gt; getSupportedMediaTypes() {\r\n    \t\treturn delegate.getSupportedMediaTypes();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object read(Class&lt;? extends Object&gt; clazz,\r\n    \t\t\tHttpInputMessage inputMessage) throws IOException,\r\n    \t\t\tHttpMessageNotReadableException {\r\n    \t\treturn delegate.read(clazz, inputMessage);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void write(Object obj, MediaType contentType, HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException \r\n    \t{\r\n    \t\tsynchronized(this) \r\n    \t\t{\r\n    \t\t\tString userAgent = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest().getHeader(&quot;userAgent&quot;);\r\n    \t\t\tif ( userAgent != null ) \r\n    \t\t\t{\r\n    \t\t\t\tswitch (userAgent) \r\n    \t\t\t\t{\r\n    \t\t\t\tcase &quot;IOS&quot; :\r\n    \t\t\t\t\tthis.delegate.getObjectMapper().setConfig(this.delegate.getObjectMapper().getSerializationConfig().withView(Views.IOS.class));\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase &quot;Android&quot; :\r\n    \t\t\t\t\tthis.delegate.getObjectMapper().setConfig(this.delegate.getObjectMapper().getSerializationConfig().withView(Views.Android.class));\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase &quot;Web&quot; :\r\n    \t\t\t\t\tthis.delegate.getObjectMapper().setConfig(this.delegate.getObjectMapper().getSerializationConfig().withView( Views.Web.class));\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tdefault:\r\n    \t\t\t\t\tthis.delegate.getObjectMapper().setConfig(this.delegate.getObjectMapper().getSerializationConfig().withView( null ));\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\t// reset to default view\r\n    \t\t\t\tthis.delegate.getObjectMapper().setConfig(this.delegate.getObjectMapper().getSerializationConfig().withView( null ));\r\n    \t\t\t}\r\n    \t\t\tdelegate.write(obj, contentType, outputMessage);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nNow there is need to tell spring to use this custom json convert by simply putting this in dispatcher-servlet.xml\r\n\r\n    &lt;mvc:annotation-driven&gt;\r\n    \t\t&lt;mvc:message-converters register-defaults=&quot;true&quot;&gt;\r\n    \t\t\t&lt;bean id=&quot;jsonConverter&quot; class=&quot;com.mactores.org.CustomJacksonConverter&quot; &gt;\r\n    \t\t\t&lt;/bean&gt;\r\n    \t\t&lt;/mvc:message-converters&gt;\r\n    \t&lt;/mvc:annotation-driven&gt;\r\n\r\nThat&#39;s how you will able to decide which fields to get serialize.\r\n","title":"Jackson JSON custom serialization for certain fields","body":"<p>with the help of <strong>@JsonView</strong> we can decide fields of model classes to serialize which satisfy the minimal criteria ( we have to define the criteria) like we can have one core class with 10 properties but only 5 properties can be serialize which are needful for client only</p>\n\n<p>Define our Views by simply creating following class:</p>\n\n<pre><code>public class Views\n{\n    static class Android{};\n    static class IOS{};\n    static class Web{};\n}\n</code></pre>\n\n<p>Annotated model class with views:</p>\n\n<pre><code>public class Demo \n{\n    public Demo() \n    {\n    }\n\n@JsonView(Views.IOS.class)\nprivate String iosField;\n\n@JsonView(Views.Android.class)\nprivate String androidField;\n\n@JsonView(Views.Web.class)\nprivate String webField;\n\n // getters/setters\n...\n..\n}\n</code></pre>\n\n<p>Now we have to write custom json converter by simply extending HttpMessageConverter class from spring as:</p>\n\n<pre><code>    public class CustomJacksonConverter implements HttpMessageConverter&lt;Object&gt; \n    {\n    public CustomJacksonConverter() \n        {\n            super();\n        //this.delegate.getObjectMapper().setConfig(this.delegate.getObjectMapper().getSerializationConfig().withView(Views.ClientView.class));\n        this.delegate.getObjectMapper().configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\n        this.delegate.getObjectMapper().setSerializationInclusion(Include.NON_NULL);\n\n    }\n\n    // a real message converter that will respond to methods and do the actual work\n    private MappingJackson2HttpMessageConverter delegate = new MappingJackson2HttpMessageConverter();\n\n    @Override\n    public boolean canRead(Class&lt;?&gt; clazz, MediaType mediaType) {\n        return delegate.canRead(clazz, mediaType);\n    }\n\n    @Override\n    public boolean canWrite(Class&lt;?&gt; clazz, MediaType mediaType) {\n        return delegate.canWrite(clazz, mediaType);\n    }\n\n    @Override\n    public List&lt;MediaType&gt; getSupportedMediaTypes() {\n        return delegate.getSupportedMediaTypes();\n    }\n\n    @Override\n    public Object read(Class&lt;? extends Object&gt; clazz,\n            HttpInputMessage inputMessage) throws IOException,\n            HttpMessageNotReadableException {\n        return delegate.read(clazz, inputMessage);\n    }\n\n    @Override\n    public void write(Object obj, MediaType contentType, HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException \n    {\n        synchronized(this) \n        {\n            String userAgent = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest().getHeader(\"userAgent\");\n            if ( userAgent != null ) \n            {\n                switch (userAgent) \n                {\n                case \"IOS\" :\n                    this.delegate.getObjectMapper().setConfig(this.delegate.getObjectMapper().getSerializationConfig().withView(Views.IOS.class));\n                    break;\n                case \"Android\" :\n                    this.delegate.getObjectMapper().setConfig(this.delegate.getObjectMapper().getSerializationConfig().withView(Views.Android.class));\n                    break;\n                case \"Web\" :\n                    this.delegate.getObjectMapper().setConfig(this.delegate.getObjectMapper().getSerializationConfig().withView( Views.Web.class));\n                    break;\n                default:\n                    this.delegate.getObjectMapper().setConfig(this.delegate.getObjectMapper().getSerializationConfig().withView( null ));\n                    break;\n                }\n            }\n            else\n            {\n                // reset to default view\n                this.delegate.getObjectMapper().setConfig(this.delegate.getObjectMapper().getSerializationConfig().withView( null ));\n            }\n            delegate.write(obj, contentType, outputMessage);\n        }\n    }\n\n}\n</code></pre>\n\n<p>Now there is need to tell spring to use this custom json convert by simply putting this in dispatcher-servlet.xml</p>\n\n<pre><code>&lt;mvc:annotation-driven&gt;\n        &lt;mvc:message-converters register-defaults=\"true\"&gt;\n            &lt;bean id=\"jsonConverter\" class=\"com.mactores.org.CustomJacksonConverter\" &gt;\n            &lt;/bean&gt;\n        &lt;/mvc:message-converters&gt;\n    &lt;/mvc:annotation-driven&gt;\n</code></pre>\n\n<p>That's how you will able to decide which fields to get serialize.</p>\n"},{"tags":[],"owner":{"account_id":259073,"reputation":8102,"user_id":541688,"display_name":"Oleg Estekhin"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1502948710,"creation_date":1502805076,"answer_id":45694302,"question_id":12046786,"body_markdown":"jackson-annotations provides `@JsonFormat` which can handle a lot of customizations without the need to write the custom serializer. \r\n\r\nFor example, requesting a `STRING` shape for a field with numeric type will output the numeric value as string\r\n\r\n    public class Person {\r\n        public String name;\r\n        public int age;\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING)\r\n        public int favoriteNumber;\r\n    }\r\n\r\nwill result in the desired output\r\n\r\n    {&quot;name&quot;:&quot;Joe&quot;,&quot;age&quot;:25,&quot;favoriteNumber&quot;:&quot;123&quot;}","title":"Jackson JSON custom serialization for certain fields","body":"<p>jackson-annotations provides <code>@JsonFormat</code> which can handle a lot of customizations without the need to write the custom serializer. </p>\n\n<p>For example, requesting a <code>STRING</code> shape for a field with numeric type will output the numeric value as string</p>\n\n<pre><code>public class Person {\n    public String name;\n    public int age;\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\n    public int favoriteNumber;\n}\n</code></pre>\n\n<p>will result in the desired output</p>\n\n<pre><code>{\"name\":\"Joe\",\"age\":25,\"favoriteNumber\":\"123\"}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1724767,"reputation":6919,"user_id":1579718,"accept_rate":75,"display_name":"Igor G."},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1554456889,"creation_date":1554456889,"answer_id":55532363,"question_id":12046786,"body_markdown":"In case you don&#39;t want to pollute your model with annotations and want to perform some custom operations, you could use mixins.\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nSimpleModule simpleModule = new SimpleModule();\r\nsimpleModule.setMixInAnnotation(Person.class, PersonMixin.class);\r\nmapper.registerModule(simpleModule);\r\n```\r\nOverride age:\r\n```\r\npublic abstract class PersonMixin {\r\n    @JsonSerialize(using = PersonAgeSerializer.class)\r\n    public String age;\r\n}\r\n```\r\nDo whatever you need with the age:\r\n```\r\npublic class PersonAgeSerializer extends JsonSerializer&lt;Integer&gt; {\r\n    @Override\r\n    public void serialize(Integer integer, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n        jsonGenerator.writeString(String.valueOf(integer * 52) + &quot; months&quot;);\r\n    }\r\n}\r\n```","title":"Jackson JSON custom serialization for certain fields","body":"<p>In case you don't want to pollute your model with annotations and want to perform some custom operations, you could use mixins.</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule simpleModule = new SimpleModule();\nsimpleModule.setMixInAnnotation(Person.class, PersonMixin.class);\nmapper.registerModule(simpleModule);\n</code></pre>\n\n<p>Override age:</p>\n\n<pre><code>public abstract class PersonMixin {\n    @JsonSerialize(using = PersonAgeSerializer.class)\n    public String age;\n}\n</code></pre>\n\n<p>Do whatever you need with the age:</p>\n\n<pre><code>public class PersonAgeSerializer extends JsonSerializer&lt;Integer&gt; {\n    @Override\n    public void serialize(Integer integer, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n        jsonGenerator.writeString(String.valueOf(integer * 52) + \" months\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3237003,"reputation":1250,"user_id":2730950,"display_name":"Vladimir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608232275,"creation_date":1608230824,"answer_id":65346619,"question_id":12046786,"body_markdown":"You can create a custom serializer inline in the mixin. Then annotate a field with it. See example below that appends &quot; *- something else* &quot; to lang field. This is kind of ***hackish*** - if your serializer requires something like a repository or anything injected by spring, this is going to be a problem. Probably best to use a custom deserializer/serializer instead of a mixin.\r\n\r\n    package com.test;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonAutoDetect;\r\n    import com.fasterxml.jackson.annotation.JsonAutoDetect.Visibility;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.JsonSerializer;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    import com.fasterxml.jackson.databind.annotation.JsonSerialize;\r\n    import com.test.Argument;\r\n    import java.io.IOException;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    //Serialize only fields explicitly mentioned by this mixin.\r\n    @JsonAutoDetect(\r\n        fieldVisibility = Visibility.NONE,\r\n        setterVisibility = Visibility.NONE,\r\n        getterVisibility = Visibility.NONE,\r\n        isGetterVisibility = Visibility.NONE,\r\n        creatorVisibility = Visibility.NONE\r\n    )\r\n    @JsonPropertyOrder({&quot;lang&quot;, &quot;name&quot;, &quot;value&quot;})\r\n    public abstract class V2ArgumentMixin {\r\n    \r\n      @JsonProperty(&quot;name&quot;)\r\n      private String name;\r\n    \r\n      @JsonSerialize(using = LangCustomSerializer.class, as=String.class)\r\n      @JsonProperty(&quot;lang&quot;)\r\n      private String lang;\r\n    \r\n      @JsonProperty(&quot;value&quot;)\r\n      private Object value;\r\n    \r\n    \r\n      \r\n      public static class LangCustomSerializer extends JsonSerializer&lt;String&gt; {\r\n    \r\n        @Override\r\n        public void serialize(String value,\r\n                              JsonGenerator jsonGenerator,\r\n                              SerializerProvider serializerProvider)\r\n            throws IOException, JsonProcessingException {\r\n          jsonGenerator.writeObject(value.toString() + &quot;  - something else&quot;);\r\n        }\r\n      }\r\n    }","title":"Jackson JSON custom serialization for certain fields","body":"<p>You can create a custom serializer inline in the mixin. Then annotate a field with it. See example below that appends &quot; <em>- something else</em> &quot; to lang field. This is kind of <em><strong>hackish</strong></em> - if your serializer requires something like a repository or anything injected by spring, this is going to be a problem. Probably best to use a custom deserializer/serializer instead of a mixin.</p>\n<pre><code>package com.test;\n\nimport com.fasterxml.jackson.annotation.JsonAutoDetect;\nimport com.fasterxml.jackson.annotation.JsonAutoDetect.Visibility;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport com.test.Argument;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n//Serialize only fields explicitly mentioned by this mixin.\n@JsonAutoDetect(\n    fieldVisibility = Visibility.NONE,\n    setterVisibility = Visibility.NONE,\n    getterVisibility = Visibility.NONE,\n    isGetterVisibility = Visibility.NONE,\n    creatorVisibility = Visibility.NONE\n)\n@JsonPropertyOrder({&quot;lang&quot;, &quot;name&quot;, &quot;value&quot;})\npublic abstract class V2ArgumentMixin {\n\n  @JsonProperty(&quot;name&quot;)\n  private String name;\n\n  @JsonSerialize(using = LangCustomSerializer.class, as=String.class)\n  @JsonProperty(&quot;lang&quot;)\n  private String lang;\n\n  @JsonProperty(&quot;value&quot;)\n  private Object value;\n\n\n  \n  public static class LangCustomSerializer extends JsonSerializer&lt;String&gt; {\n\n    @Override\n    public void serialize(String value,\n                          JsonGenerator jsonGenerator,\n                          SerializerProvider serializerProvider)\n        throws IOException, JsonProcessingException {\n      jsonGenerator.writeObject(value.toString() + &quot;  - something else&quot;);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":218186,"reputation":783,"user_id":474377,"display_name":"Vijay Vepakomma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695295114,"creation_date":1695295114,"answer_id":77149741,"question_id":12046786,"body_markdown":"I ended up combining the two answers (and using the implementation provided by ToStringSerializer)\r\n\r\n- https://stackoverflow.com/a/12046979/474377\r\n- https://stackoverflow.com/a/14873731/474377\r\n\r\nPOJO:\r\n\r\n    public class MyPojo{\r\n      LocalDate date;\r\n    \r\n      @JsonSerialize(using = CurrencySerializer.class)\r\n      double amount;\r\n    }\r\n\r\nSerializer:\r\n\r\n    import com.fasterxml.jackson.databind.annotation.JacksonStdImpl;\r\n    import com.fasterxml.jackson.databind.ser.std.ToStringSerializerBase;\r\n    \r\n    @JacksonStdImpl\r\n    public class CurrencySerializer extends ToStringSerializerBase\r\n    {\r\n      public final static CurrencySerializer instance = new CurrencySerializer();\r\n    \r\n      public CurrencySerializer() { super(Object.class); }\r\n    \r\n    \r\n      public CurrencySerializer(Class&lt;?&gt; handledType) {\r\n        super(handledType);\r\n      }\r\n    \r\n      @Override\r\n      public final String valueToString(Object value) {\r\n        return &quot;$ &quot; + value.toString();\r\n      }\r\n    }\r\n\r\n\r\n\r\n","title":"Jackson JSON custom serialization for certain fields","body":"<p>I ended up combining the two answers (and using the implementation provided by ToStringSerializer)</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/12046979/474377\">https://stackoverflow.com/a/12046979/474377</a></li>\n<li><a href=\"https://stackoverflow.com/a/14873731/474377\">https://stackoverflow.com/a/14873731/474377</a></li>\n</ul>\n<p>POJO:</p>\n<pre><code>public class MyPojo{\n  LocalDate date;\n\n  @JsonSerialize(using = CurrencySerializer.class)\n  double amount;\n}\n</code></pre>\n<p>Serializer:</p>\n<pre><code>import com.fasterxml.jackson.databind.annotation.JacksonStdImpl;\nimport com.fasterxml.jackson.databind.ser.std.ToStringSerializerBase;\n\n@JacksonStdImpl\npublic class CurrencySerializer extends ToStringSerializerBase\n{\n  public final static CurrencySerializer instance = new CurrencySerializer();\n\n  public CurrencySerializer() { super(Object.class); }\n\n\n  public CurrencySerializer(Class&lt;?&gt; handledType) {\n    super(handledType);\n  }\n\n  @Override\n  public final String valueToString(Object value) {\n    return &quot;$ &quot; + value.toString();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162733,"favorite_count":0,"down_vote_count":0,"up_vote_count":122,"accepted_answer_id":12046979,"answer_count":8,"score":122,"last_activity_date":1695295114,"creation_date":1345506878,"question_id":12046786,"body_markdown":"Is there a way using Jackson JSON Processor to do custom field level serialization? For example, I&#39;d like to have the class\r\n\r\n    public class Person {\r\n        public String name;\r\n        public int age;\r\n        public int favoriteNumber;\r\n    }\r\n\r\nserialized to the follow JSON:\r\n\r\n    { &quot;name&quot;: &quot;Joe&quot;, &quot;age&quot;: 25, &quot;favoriteNumber&quot;: &quot;123&quot; }\r\n\r\nNote that age=25 is encoded as a **number** while favoriteNumber=123 is encoded as a **string**. Out of the box Jackson marshalls `int` to a number. In this case I want favoriteNumber to be encoded as a string.\r\n","title":"Jackson JSON custom serialization for certain fields","body":"<p>Is there a way using Jackson JSON Processor to do custom field level serialization? For example, I'd like to have the class</p>\n\n<pre><code>public class Person {\n    public String name;\n    public int age;\n    public int favoriteNumber;\n}\n</code></pre>\n\n<p>serialized to the follow JSON:</p>\n\n<pre><code>{ \"name\": \"Joe\", \"age\": 25, \"favoriteNumber\": \"123\" }\n</code></pre>\n\n<p>Note that age=25 is encoded as a <strong>number</strong> while favoriteNumber=123 is encoded as a <strong>string</strong>. Out of the box Jackson marshalls <code>int</code> to a number. In this case I want favoriteNumber to be encoded as a string.</p>\n"},{"tags":["java","azure"],"comments":[{"owner":{"account_id":1826174,"reputation":55261,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":2,"creation_date":1695288152,"post_id":77148810,"comment_id":136005446,"body_markdown":"Have you assigned Azure RBAC roles to that application? It would need for example Storage Blob Data Reader role.","body":"Have you assigned Azure RBAC roles to that application? It would need for example Storage Blob Data Reader role."},{"owner":{"account_id":1826174,"reputation":55261,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":2,"creation_date":1695292210,"post_id":77148810,"comment_id":136006357,"body_markdown":"You can do that through Portal or through Bicep/ARM/Terraform templates or command line.","body":"You can do that through Portal or through Bicep/ARM/Terraform templates or command line."},{"owner":{"account_id":25323437,"reputation":5162,"user_id":19144428,"display_name":"Venkatesan"},"score":0,"creation_date":1695292711,"post_id":77148810,"comment_id":136006443,"body_markdown":"Hi, @Im Go to azure portal -&gt; subscription -&gt; Access control(IAM)  -&gt; Add -&gt; Add Role assignments -&gt; select the azure storage blob reader role -&gt; select members (Your Application) -&gt; click review + assign.","body":"Hi, @Im Go to azure portal -&gt; subscription -&gt; Access control(IAM)  -&gt; Add -&gt; Add Role assignments -&gt; select the azure storage blob reader role -&gt; select members (Your Application) -&gt; click review + assign."},{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":0,"creation_date":1695293648,"post_id":77148810,"comment_id":136006597,"body_markdown":"Added screenshot for roles defined , Is \n&quot;Storage Blob Data Reader&quot;  different from azure &quot;storage blob reader role&quot; ?","body":"Added screenshot for roles defined , Is  &quot;Storage Blob Data Reader&quot;  different from azure &quot;storage blob reader role&quot; ?"},{"owner":{"account_id":25323437,"reputation":5162,"user_id":19144428,"display_name":"Venkatesan"},"score":0,"creation_date":1695294538,"post_id":77148810,"comment_id":136006757,"body_markdown":"Yes, it is different for blob storage level you need to assign  `Storage Blob Data Reader` role.","body":"Yes, it is different for blob storage level you need to assign  <code>Storage Blob Data Reader</code> role."},{"owner":{"account_id":25323437,"reputation":5162,"user_id":19144428,"display_name":"Venkatesan"},"score":1,"creation_date":1695295146,"post_id":77148810,"comment_id":136006856,"body_markdown":"Hi @Im. You need to assign the role for Azure AD application like https://i.imgur.com/jXCvo1u.png not for the user because you are authenticating by clientsecretcredential.","body":"Hi @Im. You need to assign the role for Azure AD application like <a href=\"https://i.imgur.com/jXCvo1u.png\" rel=\"nofollow noreferrer\">i.imgur.com/jXCvo1u.png</a> not for the user because you are authenticating by clientsecretcredential."}],"answers":[{"tags":[],"owner":{"account_id":25323437,"reputation":5162,"user_id":19144428,"display_name":"Venkatesan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695292824,"creation_date":1695292063,"answer_id":77149410,"question_id":77148810,"body_markdown":"Initially, I tried in my environment and got the same error.\r\n\r\n![enter image description here](https://i.imgur.com/znEtr3F.png)\r\n\r\n&gt; The question : Is there something missing / wrong in code or it is ONLY permission issue ?\r\n\r\nI agree with Junna&#39;s comment After assigning **`Storage blob data reader`** role to my application. I can able to download the file.\r\n\r\n**Portal:**\r\n![enter image description here](https://i.imgur.com/sYz9ymL.png)\r\n\r\n\r\n**Code:**\r\n\r\n    import com.azure.core.credential.TokenCredential;\r\n    import com.azure.identity.ClientSecretCredentialBuilder;\r\n    import com.azure.storage.blob.BlobClient;\r\n    import com.azure.storage.blob.BlobContainerClient;\r\n    import com.azure.storage.blob.BlobContainerClientBuilder;\r\n    \r\n    import java.util.Locale;\r\n    \r\n    public class App {\r\n        public static void main(String[] args) {\r\n            // Set the values for your Azure Blob Storage account\r\n            String accountName = &quot;venkat123&quot;;\r\n            String containerName = &quot;test1&quot;;\r\n            String blobName = &quot;file2.txt&quot;;\r\n            String tenantId = &quot;xxxx&quot;;\r\n            String clientId = &quot;xxxxx&quot;;\r\n            String clientSecret = &quot;xxxxx&quot;;\r\n    \r\n            // Create a token credential using the client secret\r\n            TokenCredential credential = new ClientSecretCredentialBuilder()\r\n                    .tenantId(tenantId)\r\n                    .clientId(clientId)\r\n                    .clientSecret(clientSecret)\r\n                    .build();\r\n    \r\n            // Create a BlobContainerClient using the token credential\r\n            String endpoint = String.format(Locale.ROOT, &quot;https://%s.blob.core.windows.net&quot;, accountName);\r\n            BlobContainerClient containerClient = new BlobContainerClientBuilder()\r\n                    .endpoint(endpoint)\r\n                    .credential(credential)\r\n                    .containerName(containerName)\r\n                    .buildClient();\r\n    \r\n            // Download the blob to a file\r\n            String destinationPath = &quot;C:\\\\Users\\\\xxx\\\\xxx\\\\Documents\\\\xx\\\\sample.txt&quot;;\r\n                BlobClient blobClient = containerClient.getBlobClient(blobName);\r\n                blobClient.downloadToFile(destinationPath, true);\r\n                System.out.println(&quot;Download OK&quot;);\r\n        }\r\n    }\r\n\r\n**Output:** \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**File:** \r\n\r\n![enter image description here](https://i.imgur.com/9r1abIb.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BpuG4.png","title":"Issue with download from Azure with ClientID , TennantID and ClientSecret","body":"<p>Initially, I tried in my environment and got the same error.</p>\n<p><img src=\"https://i.imgur.com/znEtr3F.png\" alt=\"enter image description here\" /></p>\n<blockquote>\n<p>The question : Is there something missing / wrong in code or it is ONLY permission issue ?</p>\n</blockquote>\n<p>I agree with Junna's comment After assigning <strong><code>Storage blob data reader</code></strong> role to my application. I can able to download the file.</p>\n<p><strong>Portal:</strong>\n<img src=\"https://i.imgur.com/sYz9ymL.png\" alt=\"enter image description here\" /></p>\n<p><strong>Code:</strong></p>\n<pre><code>import com.azure.core.credential.TokenCredential;\nimport com.azure.identity.ClientSecretCredentialBuilder;\nimport com.azure.storage.blob.BlobClient;\nimport com.azure.storage.blob.BlobContainerClient;\nimport com.azure.storage.blob.BlobContainerClientBuilder;\n\nimport java.util.Locale;\n\npublic class App {\n    public static void main(String[] args) {\n        // Set the values for your Azure Blob Storage account\n        String accountName = &quot;venkat123&quot;;\n        String containerName = &quot;test1&quot;;\n        String blobName = &quot;file2.txt&quot;;\n        String tenantId = &quot;xxxx&quot;;\n        String clientId = &quot;xxxxx&quot;;\n        String clientSecret = &quot;xxxxx&quot;;\n\n        // Create a token credential using the client secret\n        TokenCredential credential = new ClientSecretCredentialBuilder()\n                .tenantId(tenantId)\n                .clientId(clientId)\n                .clientSecret(clientSecret)\n                .build();\n\n        // Create a BlobContainerClient using the token credential\n        String endpoint = String.format(Locale.ROOT, &quot;https://%s.blob.core.windows.net&quot;, accountName);\n        BlobContainerClient containerClient = new BlobContainerClientBuilder()\n                .endpoint(endpoint)\n                .credential(credential)\n                .containerName(containerName)\n                .buildClient();\n\n        // Download the blob to a file\n        String destinationPath = &quot;C:\\\\Users\\\\xxx\\\\xxx\\\\Documents\\\\xx\\\\sample.txt&quot;;\n            BlobClient blobClient = containerClient.getBlobClient(blobName);\n            blobClient.downloadToFile(destinationPath, true);\n            System.out.println(&quot;Download OK&quot;);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/BpuG4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BpuG4.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>File:</strong></p>\n<p><img src=\"https://i.imgur.com/9r1abIb.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695294803,"creation_date":1695287645,"question_id":77148810,"body_markdown":"I am trying to download blob from Azure storage from java code m by using  ClientID , TennantID and ClientSecret\r\n\r\nHere is code for obtaining client : \r\n\r\n    private BlobContainerClient getContainerClient_SP(String containerName) {\r\n        ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\r\n                .tenantId(tenantId)\r\n                .clientId(clientId)\r\n                .clientSecret(clientSecret)\r\n                .build();\r\n    \r\n        String endpoint = String.format(Locale.ROOT, &quot;https://%s.blob.core.windows.net/%s&quot;, accountName, containerName);\r\n        BlobContainerClient containerClient = new BlobContainerClientBuilder()\r\n                .endpoint(endpoint)\r\n                .credential(clientSecretCredential)\r\n                .buildClient();\r\n    \r\n        return containerClient;\r\n    \r\n    }\r\n\r\nHere is code snippet for download :\r\n\r\n    try {\r\n    \tBlobContainerClient containerClient = getContainerClient_SP(containerName);\r\n    \tBlobClient blobClient = containerClient.getBlobClient(blobName);\t\t\r\n    \tString destinationPath = &quot;C:\\\\MyFolder\\\\MyFileName&quot;;\r\n    \tblobClient.downloadToFile(destinationPath,true); //Exception thrown here \r\n    \tSystem.out.println(&quot;Download OK&quot;);\r\n    }\r\n    catch (Exception ex) {\r\n    \tSystem.out.println(&quot;APP exception: &quot;+ex.getMessage());\r\n    \tthrow ex;\r\n    }\r\nException is : \r\n\r\n        Exception in thread &quot;main&quot; \r\n    com.azure.storage.blob.models.BlobStorageException: If you are using a StorageSharedKeyCredential, and the server returned an error message that says &#39;Signature did not match&#39;, you can compare the string to sign with the one generated by the SDK. To log the string to sign, pass in the context key value pair &#39;Azure-Storage-Log-String-To-Sign&#39;: true to the appropriate method call.\r\n        If you are using a SAS token, and the server returned an error message that says &#39;Signature did not match&#39;, you can compare the string to sign with the one generated by the SDK. To log the string to sign, pass in the context key value pair &#39;Azure-Storage-Log-String-To-Sign&#39;: true to the appropriate generateSas method call.\r\n        Please remember to disable &#39;Azure-Storage-Log-String-To-Sign&#39; before going to production as this string can potentially contain PII.\r\n        Status code 403, &quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;AuthorizationPermissionMismatch&lt;/Code&gt;&lt;Message&gt;This request is not authorized to perform this operation using this permission.\r\n        RequestId:57625f26-801e-0036-206a-ec1d2e000000\r\n        Time:2023-09-21T09:07:08.3082584Z&lt;/Message&gt;&lt;/Error&gt;&quot;\r\n        \tat java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:627)\r\n        \tat com.azure.core.implementation.http.rest.ResponseExceptionConstructorCache.invoke(ResponseExceptionConstructorCache.java:56)\r\n\r\nThe question : Is there something missing / wrong in code or it is ONLY permission issue ?\r\nThanks in advance \r\nRoles defined : [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8Izyo.png","title":"Issue with download from Azure with ClientID , TennantID and ClientSecret","body":"<p>I am trying to download blob from Azure storage from java code m by using  ClientID , TennantID and ClientSecret</p>\n<p>Here is code for obtaining client :</p>\n<pre><code>private BlobContainerClient getContainerClient_SP(String containerName) {\n    ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\n            .tenantId(tenantId)\n            .clientId(clientId)\n            .clientSecret(clientSecret)\n            .build();\n\n    String endpoint = String.format(Locale.ROOT, &quot;https://%s.blob.core.windows.net/%s&quot;, accountName, containerName);\n    BlobContainerClient containerClient = new BlobContainerClientBuilder()\n            .endpoint(endpoint)\n            .credential(clientSecretCredential)\n            .buildClient();\n\n    return containerClient;\n\n}\n</code></pre>\n<p>Here is code snippet for download :</p>\n<pre><code>try {\n    BlobContainerClient containerClient = getContainerClient_SP(containerName);\n    BlobClient blobClient = containerClient.getBlobClient(blobName);        \n    String destinationPath = &quot;C:\\\\MyFolder\\\\MyFileName&quot;;\n    blobClient.downloadToFile(destinationPath,true); //Exception thrown here \n    System.out.println(&quot;Download OK&quot;);\n}\ncatch (Exception ex) {\n    System.out.println(&quot;APP exception: &quot;+ex.getMessage());\n    throw ex;\n}\n</code></pre>\n<p>Exception is :</p>\n<pre><code>    Exception in thread &quot;main&quot; \ncom.azure.storage.blob.models.BlobStorageException: If you are using a StorageSharedKeyCredential, and the server returned an error message that says 'Signature did not match', you can compare the string to sign with the one generated by the SDK. To log the string to sign, pass in the context key value pair 'Azure-Storage-Log-String-To-Sign': true to the appropriate method call.\n    If you are using a SAS token, and the server returned an error message that says 'Signature did not match', you can compare the string to sign with the one generated by the SDK. To log the string to sign, pass in the context key value pair 'Azure-Storage-Log-String-To-Sign': true to the appropriate generateSas method call.\n    Please remember to disable 'Azure-Storage-Log-String-To-Sign' before going to production as this string can potentially contain PII.\n    Status code 403, &quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;AuthorizationPermissionMismatch&lt;/Code&gt;&lt;Message&gt;This request is not authorized to perform this operation using this permission.\n    RequestId:57625f26-801e-0036-206a-ec1d2e000000\n    Time:2023-09-21T09:07:08.3082584Z&lt;/Message&gt;&lt;/Error&gt;&quot;\n        at java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:627)\n        at com.azure.core.implementation.http.rest.ResponseExceptionConstructorCache.invoke(ResponseExceptionConstructorCache.java:56)\n</code></pre>\n<p>The question : Is there something missing / wrong in code or it is ONLY permission issue ?\nThanks in advance\nRoles defined : <a href=\"https://i.stack.imgur.com/8Izyo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Izyo.png\" alt=\"enter image description here\" /></a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9963,"page":171,"page_size":100}
