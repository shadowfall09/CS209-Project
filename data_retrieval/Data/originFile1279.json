{"items":[{"tags":["java","android"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1654717846,"post_id":72551423,"comment_id":128161300,"body_markdown":"The two pieces of code in your first paragraph do not do the same thing, even if the results look the same a second later. Do you understand the difference between them?","body":"The two pieces of code in your first paragraph do not do the same thing, even if the results look the same a second later. Do you understand the difference between them?"},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1654718614,"post_id":72551423,"comment_id":128161538,"body_markdown":"No, I don&#39;t. I thought they are the same, because I get the same result. Could you explain the difference between the two?","body":"No, I don&#39;t. I thought they are the same, because I get the same result. Could you explain the difference between the two?"}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654720690,"creation_date":1654720690,"answer_id":72551939,"question_id":72551423,"body_markdown":"As in [the documentation for `postDelayed`](https://developer.android.com/reference/android/os/Handler#postDelayed(java.lang.Runnable,%20long)) (emphasis mine):\r\n\r\n&gt; Causes the Runnable r to be added to the message queue, **to be run after the specified amount of time elapses**.\r\n\r\nAs such, the `postDelayed` version will run (at least) 500 milliseconds after you make the call, as opposed to `finish` which will finish the activity immediately.\r\n\r\nIs there a good reason for the delay? Maybe. If one of your Activities waits for the other to `finish`, then returning without a delay may result in _sometimes_ returning before the SQLite update finishes writing. If that&#39;s the case, then your main view may appear as though it hasn&#39;t actually updated, at least until the next time you populate it.\r\n\r\n```text\r\n MAIN THREAD -------- SQL write requested -- finish() -- query for new items -- idle\r\nOTHER THREAD ------------------------------------------------- list updated --- idle\r\n```\r\n\r\nHowever, there&#39;s nothing special about 500ms; it&#39;s probably overkill most of the time, and in rare circumstances it might not be enough. Ideally, instead you should determine when the update has been written and finish the Activity after that. How exactly that would work depends on where and how you write to the database, which you haven&#39;t shown us.\r\n\r\n---\r\n\r\nFor what it&#39;s worth, the non-lambda version of the delayed code looks like this:\r\n\r\n```java\r\nnew Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\r\n  @Override public void run() {\r\n    finish();\r\n  }\r\n}, 500);\r\n```\r\n\r\n...but I find that much harder to read than the lambda version.","title":"What is the difference between new Handler(Looper.getMainLooper()).postDelayed(() -&gt; finish(), 500); and finish()?","body":"<p>As in <a href=\"https://developer.android.com/reference/android/os/Handler#postDelayed(java.lang.Runnable,%20long)\" rel=\"nofollow noreferrer\">the documentation for <code>postDelayed</code></a> (emphasis mine):</p>\n<blockquote>\n<p>Causes the Runnable r to be added to the message queue, <strong>to be run after the specified amount of time elapses</strong>.</p>\n</blockquote>\n<p>As such, the <code>postDelayed</code> version will run (at least) 500 milliseconds after you make the call, as opposed to <code>finish</code> which will finish the activity immediately.</p>\n<p>Is there a good reason for the delay? Maybe. If one of your Activities waits for the other to <code>finish</code>, then returning without a delay may result in <em>sometimes</em> returning before the SQLite update finishes writing. If that's the case, then your main view may appear as though it hasn't actually updated, at least until the next time you populate it.</p>\n<pre><code> MAIN THREAD -------- SQL write requested -- finish() -- query for new items -- idle\nOTHER THREAD ------------------------------------------------- list updated --- idle\n</code></pre>\n<p>However, there's nothing special about 500ms; it's probably overkill most of the time, and in rare circumstances it might not be enough. Ideally, instead you should determine when the update has been written and finish the Activity after that. How exactly that would work depends on where and how you write to the database, which you haven't shown us.</p>\n<hr />\n<p>For what it's worth, the non-lambda version of the delayed code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\n  @Override public void run() {\n    finish();\n  }\n}, 500);\n</code></pre>\n<p>...but I find that much harder to read than the lambda version.</p>\n"}],"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72551939,"answer_count":1,"score":0,"last_activity_date":1654720690,"creation_date":1654717680,"question_id":72551423,"body_markdown":"Should I call `finish();` or `new Handler(Looper.getMainLooper()).postDelayed(() -&gt; finish(), 500);`\r\nafter adding a note to SQLite Database? I want to call one of these two codes to finish the activity and return to MainActivity. Using either of them will give the same result and note would be added to RecyclerView.\r\n\r\nThe second question: What does this look like without lambda expression and makes simpler. `new Handler(Looper.getMainLooper()).postDelayed(() -&gt; finish(), 500);`\r\n\r\n","title":"What is the difference between new Handler(Looper.getMainLooper()).postDelayed(() -&gt; finish(), 500); and finish()?","body":"<p>Should I call <code>finish();</code> or <code>new Handler(Looper.getMainLooper()).postDelayed(() -&gt; finish(), 500);</code>\nafter adding a note to SQLite Database? I want to call one of these two codes to finish the activity and return to MainActivity. Using either of them will give the same result and note would be added to RecyclerView.</p>\n<p>The second question: What does this look like without lambda expression and makes simpler. <code>new Handler(Looper.getMainLooper()).postDelayed(() -&gt; finish(), 500);</code></p>\n"},{"tags":["java","maven","ant","jar","build"],"comments":[{"owner":{"account_id":93866,"reputation":76253,"user_id":256618,"display_name":"Mark O&#39;Connor"},"score":1,"creation_date":1403218158,"post_id":24314826,"comment_id":37585733,"body_markdown":"If you&#39;re more comfortable with ANT I would suggest using Apache ivy http://ant.apache.org/ivy/","body":"If you&#39;re more comfortable with ANT I would suggest using Apache ivy <a href=\"http://ant.apache.org/ivy/\" rel=\"nofollow noreferrer\">ant.apache.org/ivy</a>"},{"owner":{"account_id":3712790,"reputation":489,"user_id":3089640,"accept_rate":37,"display_name":"Shri"},"score":0,"creation_date":1403244760,"post_id":24314826,"comment_id":37592321,"body_markdown":"Does this downloads jars in the project lib folder","body":"Does this downloads jars in the project lib folder"},{"owner":{"account_id":3712790,"reputation":489,"user_id":3089640,"accept_rate":37,"display_name":"Shri"},"score":0,"creation_date":1403244946,"post_id":24314826,"comment_id":37592384,"body_markdown":"Can somebody tell me why it is down vote.. is this question is not useful or not making sense.","body":"Can somebody tell me why it is down vote.. is this question is not useful or not making sense."},{"owner":{"account_id":93866,"reputation":76253,"user_id":256618,"display_name":"Mark O&#39;Connor"},"score":0,"creation_date":1403275514,"post_id":24314826,"comment_id":37609155,"body_markdown":"Yes, the &quot;retrieve&quot; task in ivy will populate a &quot;lib&quot; directory by default. Personally I use the more powerful cachepath task combined with configurations to control my build/test and runtime classpaths. I suggest browsing various questions on SO see: http://stackoverflow.com/questions/tagged/ivy","body":"Yes, the &quot;retrieve&quot; task in ivy will populate a &quot;lib&quot; directory by default. Personally I use the more powerful cachepath task combined with configurations to control my build/test and runtime classpaths. I suggest browsing various questions on SO see: <a href=\"http://stackoverflow.com/questions/tagged/ivy\">stackoverflow.com/questions/tagged/ivy</a>"}],"answers":[{"tags":[],"owner":{"account_id":923546,"reputation":4807,"user_id":954761,"accept_rate":58,"display_name":"Niels Bech Nielsen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403253223,"creation_date":1403253223,"answer_id":24323097,"question_id":24314826,"body_markdown":"It is a very legit question.\r\n\r\nUsing maven ant tasks does use the generic maven repository location, simply because that would benefit all your maven projects, not just your local.\r\n\r\nMaven uses per default a shared cache for all local project, simply because downloading commons-lang per project is sort of ridiculous.\r\n\r\nYou can specify a localRepository location for the execution (see http://maven.apache.org/ant-tasks/reference.html#localRepository) if you like.\r\n\r\nAlso, as another user says, [IVY][1] is a good match for your usecase too. If you only need to download dependencies, then [IVY][2] does just that. Maven does it, but contains more, and it depends if you really want to explore these options.\r\n\r\n\r\n  [1]: http://ant.apache.org/ivy/\r\n  [2]: http://ant.apache.org/ivy/","title":"Using Maven in Ant for jar dependencies","body":"<p>It is a very legit question.</p>\n\n<p>Using maven ant tasks does use the generic maven repository location, simply because that would benefit all your maven projects, not just your local.</p>\n\n<p>Maven uses per default a shared cache for all local project, simply because downloading commons-lang per project is sort of ridiculous.</p>\n\n<p>You can specify a localRepository location for the execution (see <a href=\"http://maven.apache.org/ant-tasks/reference.html#localRepository\" rel=\"nofollow\">http://maven.apache.org/ant-tasks/reference.html#localRepository</a>) if you like.</p>\n\n<p>Also, as another user says, <a href=\"http://ant.apache.org/ivy/\" rel=\"nofollow\">IVY</a> is a good match for your usecase too. If you only need to download dependencies, then <a href=\"http://ant.apache.org/ivy/\" rel=\"nofollow\">IVY</a> does just that. Maven does it, but contains more, and it depends if you really want to explore these options.</p>\n"},{"tags":[],"owner":{"account_id":3712790,"reputation":489,"user_id":3089640,"accept_rate":37,"display_name":"Shri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654720478,"creation_date":1403255421,"answer_id":24323728,"question_id":24314826,"body_markdown":"I found a way to do this. \r\nYou have to give **filesetid** in the artifact tag and use  **&quot;filesetid&quot;** to copy to the given location\r\n\r\n    &lt;target name=&quot;maven-test&quot;&gt;\r\n      &lt;artifact:dependencies filesetid=&quot;build-dependency-jars&quot;&gt;\r\n        &lt;dependency groupId=&quot;group_id&quot; artifactId=&quot;artifact_id&quot; version=&quot;version&quot; /&gt;\r\n      &lt;/artifact:dependencies&gt;\r\n    \t\t\r\n    &lt;copy todir=&quot;./lib/&quot;&gt;\r\n    \t&lt;fileset refid=&quot;build-dependency-jars&quot; /&gt;\r\n    \t&lt;mapper type=&quot;flatten&quot; /&gt;\r\n    &lt;/copy&gt;\r\n    \r\n    &lt;/target&gt;","title":"Using Maven in Ant for jar dependencies","body":"<p>I found a way to do this.\nYou have to give <strong>filesetid</strong> in the artifact tag and use  <strong>&quot;filesetid&quot;</strong> to copy to the given location</p>\n<pre><code>&lt;target name=&quot;maven-test&quot;&gt;\n  &lt;artifact:dependencies filesetid=&quot;build-dependency-jars&quot;&gt;\n    &lt;dependency groupId=&quot;group_id&quot; artifactId=&quot;artifact_id&quot; version=&quot;version&quot; /&gt;\n  &lt;/artifact:dependencies&gt;\n        \n&lt;copy todir=&quot;./lib/&quot;&gt;\n    &lt;fileset refid=&quot;build-dependency-jars&quot; /&gt;\n    &lt;mapper type=&quot;flatten&quot; /&gt;\n&lt;/copy&gt;\n\n&lt;/target&gt;\n</code></pre>\n"}],"owner":{"account_id":3712790,"reputation":489,"user_id":3089640,"accept_rate":37,"display_name":"Shri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1517,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":24323728,"answer_count":2,"score":5,"last_activity_date":1654720478,"creation_date":1403206187,"question_id":24314826,"body_markdown":"Am new to Maven but am comfortable with the Ant, i like the way that maven downloads the jars and its dependencies, so i want to have **maven dependency included in my Ant build script**. I have seen how to use but here all the jar files are downloaded in `.m2 folder, instead i need all the jars downloaded in the lib folder of my project`.\r\nCan this be done or not,? if it can then can anybody please suggest me how to do it.","title":"Using Maven in Ant for jar dependencies","body":"<p>Am new to Maven but am comfortable with the Ant, i like the way that maven downloads the jars and its dependencies, so i want to have <strong>maven dependency included in my Ant build script</strong>. I have seen how to use but here all the jar files are downloaded in <code>.m2 folder, instead i need all the jars downloaded in the lib folder of my project</code>.\nCan this be done or not,? if it can then can anybody please suggest me how to do it.</p>\n"},{"tags":["java","cron","out-of-memory"],"comments":[{"owner":{"account_id":19185251,"reputation":1995,"user_id":14016161,"display_name":"Julia"},"score":0,"creation_date":1654178287,"post_id":72477454,"comment_id":128033279,"body_markdown":"What happens when you run the program without cron?","body":"What happens when you run the program without cron?"},{"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"score":0,"creation_date":1654183556,"post_id":72477454,"comment_id":128035426,"body_markdown":"**possibly** out of memory, which means, Java has no idea.\nDid https://stackoverflow.com/questions/47078106/pthread-create-fails-with-eagain bring you in correct direction?","body":"<b>possibly</b> out of memory, which means, Java has no idea. Did <a href=\"https://stackoverflow.com/questions/47078106/pthread-create-fails-with-eagain\" title=\"pthread create fails with eagain\">stackoverflow.com/questions/47078106/&hellip;</a> bring you in correct direction?"},{"owner":{"account_id":25456344,"reputation":51,"user_id":19256917,"display_name":"Ingo"},"score":0,"creation_date":1654214526,"post_id":72477454,"comment_id":128044065,"body_markdown":"@Julia, As said, without cron the program runs just fine","body":"@Julia, As said, without cron the program runs just fine"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1654284658,"post_id":72477454,"comment_id":128062802,"body_markdown":"Add a cron entry to capture output from ulimit: `* * * * * ulimit -a &gt; /path/to/ulimit-cron-output.txt` - only need to leave it just for a minute to capture the output, then remove the crontab entry. This would let you see if the reported ulimit data (when running via cron) is consistent with the changes you tried to make.","body":"Add a cron entry to capture output from ulimit: <code>* * * * * ulimit -a &gt; &#47;path&#47;to&#47;ulimit-cron-output.txt</code> - only need to leave it just for a minute to capture the output, then remove the crontab entry. This would let you see if the reported ulimit data (when running via cron) is consistent with the changes you tried to make."}],"answers":[{"tags":[],"owner":{"account_id":25456344,"reputation":51,"user_id":19256917,"display_name":"Ingo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654720125,"creation_date":1654720125,"answer_id":72551832,"question_id":72477454,"body_markdown":"So, after some further research I found out that the &quot;DefaultMaxTasks&quot; had to be changed for the overall system as well as for the cron service. The value was set to 195 which was too low.\r\n\r\nHelpful links were:\r\nhttps://www.suse.com/support/kb/doc/?id=000015901\r\nhttps://docs.oracle.com/en/database/oracle/oracle-database/19/ladbi/configuring-defaulttasksmax-for-suse.html#GUID-0815D18D-65E7-46B2-BA89-F54BA02EFCB8\r\n\r\nchange the overall DefaultTasksMax:\r\n\r\n    $ systemctl show --property DefaultTasksMax\r\n    DefaultTasksMax=195\r\n    $ cd /etc/systemd\r\n    $ vi system.conf\r\n    (set DefaultTasksMax = 65535)\r\n    $ systemctl daemon-reload\r\n    $ systemctl show --property DefaultTasksMax\r\n    DefaultTasksMax=65535\r\n\r\nchange values for cron:\r\n\r\n    $ cd cron.service.d\r\n    $ ls\r\n    override.conf\r\n    $ vi override.conf\r\n\t\r\nin the override.conf, I set the new values incl. DefaultTasksMax:\r\n\r\n    DefaultTasksMax=65535\r\n    LimitCORE=unlimited\r\n    LimitDATA=unlimited\r\n    LimitFSIZE=unlimited\r\n    LimitSIGPENDING=1545091\r\n    LimitMEMLOCK=65536\r\n    LimitRSS=unlimited\r\n    LimitNOFILE=1024\r\n    LimitSTACK=unlimited\r\n    LimitCPU=unlimited\r\n    LimitNPROC=62987\r\n    LimitAS=unlimited\r\n    LimitLOCKS=unlimited\r\n\r\nand the check shows set the value is also newly set for cron:\r\n\r\n    $ systemctl status cron.service |grep -e Tasks\r\n    Tasks: 5 (limit: 65535)\r\n\r\nAfter that, the problem was resolved","title":"&quot;java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached&quot; if program started by cron","body":"<p>So, after some further research I found out that the &quot;DefaultMaxTasks&quot; had to be changed for the overall system as well as for the cron service. The value was set to 195 which was too low.</p>\n<p>Helpful links were:\n<a href=\"https://www.suse.com/support/kb/doc/?id=000015901\" rel=\"nofollow noreferrer\">https://www.suse.com/support/kb/doc/?id=000015901</a>\n<a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/ladbi/configuring-defaulttasksmax-for-suse.html#GUID-0815D18D-65E7-46B2-BA89-F54BA02EFCB8\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/oracle-database/19/ladbi/configuring-defaulttasksmax-for-suse.html#GUID-0815D18D-65E7-46B2-BA89-F54BA02EFCB8</a></p>\n<p>change the overall DefaultTasksMax:</p>\n<pre><code>$ systemctl show --property DefaultTasksMax\nDefaultTasksMax=195\n$ cd /etc/systemd\n$ vi system.conf\n(set DefaultTasksMax = 65535)\n$ systemctl daemon-reload\n$ systemctl show --property DefaultTasksMax\nDefaultTasksMax=65535\n</code></pre>\n<p>change values for cron:</p>\n<pre><code>$ cd cron.service.d\n$ ls\noverride.conf\n$ vi override.conf\n</code></pre>\n<p>in the override.conf, I set the new values incl. DefaultTasksMax:</p>\n<pre><code>DefaultTasksMax=65535\nLimitCORE=unlimited\nLimitDATA=unlimited\nLimitFSIZE=unlimited\nLimitSIGPENDING=1545091\nLimitMEMLOCK=65536\nLimitRSS=unlimited\nLimitNOFILE=1024\nLimitSTACK=unlimited\nLimitCPU=unlimited\nLimitNPROC=62987\nLimitAS=unlimited\nLimitLOCKS=unlimited\n</code></pre>\n<p>and the check shows set the value is also newly set for cron:</p>\n<pre><code>$ systemctl status cron.service |grep -e Tasks\nTasks: 5 (limit: 65535)\n</code></pre>\n<p>After that, the problem was resolved</p>\n"}],"owner":{"account_id":25456344,"reputation":51,"user_id":19256917,"display_name":"Ingo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6486,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654720125,"creation_date":1654178166,"question_id":72477454,"body_markdown":"I have a java program that runs totally fine on my UNIX webserver when I start it through a normal shell command (java -jar xxx.jar)\r\n\r\nHowever, I am trying a scheduled run through cron and receive the following error:\r\n\r\n    [0.075s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\r\n    \tat java.base/java.lang.Thread.start0(Native Method)\r\n    \tat java.base/java.lang.Thread.start(Thread.java:801)\r\n\r\nAs said, it does not seem to be a java coding error since it seems to be running without any problems when started to shell. Nor it seems to be an error with cron since  other java programs are being executed fine.\r\n\r\nI read that the system resources for cron are limited. So I checked the user limits in the system:\r\n\r\n    $ ulimit -a\r\n    core file size          (blocks, -c) unlimited\r\n    data seg size           (kbytes, -d) unlimited\r\n    scheduling priority             (-e) 0\r\n    file size               (blocks, -f) unlimited\r\n    pending signals                 (-i) 1545091\r\n    max locked memory       (kbytes, -l) 65536\r\n    max memory size         (kbytes, -m) unlimited\r\n    open files                      (-n) 1024\r\n    pipe size            (512 bytes, -p) 8\r\n    POSIX message queues     (bytes, -q) 819200\r\n    real-time priority              (-r) 0\r\n    stack size              (kbytes, -s) unlimited\r\n    cpu time               (seconds, -t) unlimited\r\n    max user processes              (-u) 62987\r\n    virtual memory          (kbytes, -v) unlimited\r\n    file locks                      (-x) unlimited\r\n\r\nAnd then I adjusted the systemd for cron:\r\n\r\n    $ systemctl stop cron\r\n    $ sudo systemctl edit cron\r\n    $ systemctl daemon-reload\r\n    $ systemctl start cron\r\n\r\nAnd, in the file for &quot;systemctl edit cron&quot; I tried to replicate the ulimit values\r\n(mapping found at https://unix.stackexchange.com/questions/345595/how-to-set-ulimits-on-service-with-systemd)\r\n\r\n    TasksMax=unlimited\r\n    LimitCORE=unlimited\r\n    LimitDATA=unlimited\r\n    LimitFSIZE=unlimited\r\n    LimitSIGPENDING=1545091\r\n    LimitMEMLOCK=65536\r\n    LimitRSS=unlimited\r\n    LimitNOFILE=1024\r\n    LimitSTACK=unlimited\r\n    LimitCPU=unlimited\r\n    LimitNPROC=62987\r\n    LimitAS=unlimited\r\n    LimitLOCKS=unlimited\r\n\r\nHowever, this all didn&#39;t help much, the error when cron tries to start the program is still the same. \r\n\r\nSince I am totally out of my wits here, any suggestions would be welcome.\r\n","title":"&quot;java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached&quot; if program started by cron","body":"<p>I have a java program that runs totally fine on my UNIX webserver when I start it through a normal shell command (java -jar xxx.jar)</p>\n<p>However, I am trying a scheduled run through cron and receive the following error:</p>\n<pre><code>[0.075s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\n    at java.base/java.lang.Thread.start0(Native Method)\n    at java.base/java.lang.Thread.start(Thread.java:801)\n</code></pre>\n<p>As said, it does not seem to be a java coding error since it seems to be running without any problems when started to shell. Nor it seems to be an error with cron since  other java programs are being executed fine.</p>\n<p>I read that the system resources for cron are limited. So I checked the user limits in the system:</p>\n<pre><code>$ ulimit -a\ncore file size          (blocks, -c) unlimited\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 1545091\nmax locked memory       (kbytes, -l) 65536\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 1024\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) unlimited\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 62987\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n</code></pre>\n<p>And then I adjusted the systemd for cron:</p>\n<pre><code>$ systemctl stop cron\n$ sudo systemctl edit cron\n$ systemctl daemon-reload\n$ systemctl start cron\n</code></pre>\n<p>And, in the file for &quot;systemctl edit cron&quot; I tried to replicate the ulimit values\n(mapping found at <a href=\"https://unix.stackexchange.com/questions/345595/how-to-set-ulimits-on-service-with-systemd\">https://unix.stackexchange.com/questions/345595/how-to-set-ulimits-on-service-with-systemd</a>)</p>\n<pre><code>TasksMax=unlimited\nLimitCORE=unlimited\nLimitDATA=unlimited\nLimitFSIZE=unlimited\nLimitSIGPENDING=1545091\nLimitMEMLOCK=65536\nLimitRSS=unlimited\nLimitNOFILE=1024\nLimitSTACK=unlimited\nLimitCPU=unlimited\nLimitNPROC=62987\nLimitAS=unlimited\nLimitLOCKS=unlimited\n</code></pre>\n<p>However, this all didn't help much, the error when cron tries to start the program is still the same.</p>\n<p>Since I am totally out of my wits here, any suggestions would be welcome.</p>\n"},{"tags":["java","ms-access","user-interface"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654720092,"post_id":72551733,"comment_id":128161982,"body_markdown":"I&#39;d probably go with [something like this](https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html#renderer) Their example is a little ugly but it&#39;s already pretty close to what you&#39;re looking to achieve","body":"I&#39;d probably go with <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html#renderer\" rel=\"nofollow noreferrer\">something like this</a> Their example is a little ugly but it&#39;s already pretty close to what you&#39;re looking to achieve"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1654726920,"post_id":72551733,"comment_id":128163794,"body_markdown":"You don&#39;t need seperate panels for each dish.  Create a single panel which knows how to display a dish and then assign the disk you&#39;re viewing to it, the UI would then update based on it.  Updating the UI based on database changes is more difficult and you&#39;re probably best to just have a refresh button.  I would consider using things like `JTable` and/or `JList` to display listings of the dishes presenting only limited information, through which the user can drill into to get more details","body":"You don&#39;t need seperate panels for each dish.  Create a single panel which knows how to display a dish and then assign the disk you&#39;re viewing to it, the UI would then update based on it.  Updating the UI based on database changes is more difficult and you&#39;re probably best to just have a refresh button.  I would consider using things like <code>JTable</code> and/or <code>JList</code> to display listings of the dishes presenting only limited information, through which the user can drill into to get more details"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1654726976,"post_id":72551733,"comment_id":128163805,"body_markdown":"See [How to Use Lists](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html).  `JList` itself is not editable, so you could use a single column `JTable` instead","body":"See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\">How to Use Lists</a>.  <code>JList</code> itself is not editable, so you could use a single column <code>JTable</code> instead"}],"owner":{"account_id":25509677,"reputation":1,"user_id":19301573,"display_name":"Bekfst"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654719525,"creation_date":1654719525,"question_id":72551733,"body_markdown":"I&#39;m currently completing a final assessment for my Grade 12 year and need some assistance with my Java GUI. It is essentially a cooking programme, with fields such as DishName, DishType, etc.I have linked a my Microsoft Access database to my Java project and have it fully functional. \r\n\r\n1)I am struggling with my next idea to **create a specific number of panels dependant on how many Dishes of that Type there are**. On each of these panels a unique DishName, and corresponding Servings and CookTime need to be displayed. When a user &#39;favourites&#39; a dish a panel in the Favourites Screen needs to be created and display all of the Favourited Dishes. Similarly if a admin adds a dish to the database, it needs to be reflected in a panel with the correct data in the Java GUI.\r\n\r\nThank you![enter image description here][1]\r\n\r\nThe components on one panel are as follows:\r\nlblDishname(label)\r\nlblServings(label)\r\nlblTime(label)\r\nlblCuisineType(label)\r\nlblFavourite(a label that when clicked adds this dish to the favourites table in the db, NB I have the adding of selected dishes to the favourite tbl on the db and GUI working)\r\nScroll Panel\r\n\r\n2) For each of my dishes I would like to include a image preview of it. As seen in the attached image within the white box. What would be the best way to get an image fitted into the box?\r\n\r\nBelow is an image of the GUI specified.\r\n  [1]: https://i.stack.imgur.com/NkZPu.png","title":"Require assistance with GUI on Java, struggling to create panels and fill them with unique data using a MC Access database when data is added","body":"<p>I'm currently completing a final assessment for my Grade 12 year and need some assistance with my Java GUI. It is essentially a cooking programme, with fields such as DishName, DishType, etc.I have linked a my Microsoft Access database to my Java project and have it fully functional.</p>\n<p>1)I am struggling with my next idea to <strong>create a specific number of panels dependant on how many Dishes of that Type there are</strong>. On each of these panels a unique DishName, and corresponding Servings and CookTime need to be displayed. When a user 'favourites' a dish a panel in the Favourites Screen needs to be created and display all of the Favourited Dishes. Similarly if a admin adds a dish to the database, it needs to be reflected in a panel with the correct data in the Java GUI.</p>\n<p>Thank you![enter image description here][1]</p>\n<p>The components on one panel are as follows:\nlblDishname(label)\nlblServings(label)\nlblTime(label)\nlblCuisineType(label)\nlblFavourite(a label that when clicked adds this dish to the favourites table in the db, NB I have the adding of selected dishes to the favourite tbl on the db and GUI working)\nScroll Panel</p>\n<ol start=\"2\">\n<li>For each of my dishes I would like to include a image preview of it. As seen in the attached image within the white box. What would be the best way to get an image fitted into the box?</li>\n</ol>\n<p>Below is an image of the GUI specified.\n[1]: <a href=\"https://i.stack.imgur.com/NkZPu.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/NkZPu.png</a></p>\n"},{"tags":["java","android","volume"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1654650835,"post_id":72539013,"comment_id":128139738,"body_markdown":"How did your program compile with a variable named `short`?","body":"How did your program compile with a variable named <code>short</code>?"},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1654651447,"post_id":72539013,"comment_id":128139813,"body_markdown":"I think your distortions are mainly [clipping](https://en.wikipedia.org/wiki/Clipping_(audio))","body":"I think your distortions are mainly <a href=\"https://en.wikipedia.org/wiki/Clipping_(audio)\" rel=\"nofollow noreferrer\">clipping</a>"},{"owner":{"account_id":1602625,"reputation":2339,"user_id":1483390,"accept_rate":52,"display_name":"Luis A. Florit"},"score":0,"creation_date":1654719279,"post_id":72539013,"comment_id":128161729,"body_markdown":"`short` was just a name to write the code here, sorry. I will fix that. Regarding the clipping, it could be, but the waveform does not show that.","body":"<code>short</code> was just a name to write the code here, sorry. I will fix that. Regarding the clipping, it could be, but the waveform does not show that."}],"owner":{"account_id":1602625,"reputation":2339,"user_id":1483390,"accept_rate":52,"display_name":"Luis A. Florit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654719326,"creation_date":1654650607,"question_id":72539013,"body_markdown":"I have an audio app to record very low wildlife sounds, and I thus need to raise the playback volume digitally with a (float) `gain` factor. The files are 16 bit WAVE mono, 44100.\r\n\r\nWhat I do now is the following:\r\n\r\n    AudioTrack mplayer = new AudioTrack(....);\r\n    FileInputStream is = new FileInputStream(songfile);\r\n    ...\r\n    while (isPlaying() &amp;&amp; (i = is.read(music)) != -1) {\r\n        for (int j = 0; j &lt; i / 2; j++) {\r\n            shortv = ((music[j * 2] &amp; 0xff) | (music[j * 2 + 1] &lt;&lt; 8));\r\n            musics[j] = (short) Math.max(Math.min(gain * shortv, Short.MAX_VALUE), Short.MIN_VALUE);\r\n        }\r\n    \r\n        if (isPlaying()) mplayer.write(musics, 0, j);\r\n    }\r\n    ...\r\n\r\nAs you can see, I just multiply the `short` extracted from the two bytes, with the `gain`, which goes from 0 to 100 (the max/min is to limit in the `short` range).\r\n\r\nMy problem is that when `gain` is too high, I hear distortions. This is expected, of course. Yet, when `gain` is high the above code gives &quot;pixelation&quot; (sorry, a photographer here!). Namely, the values of `musics[]` is 0, 100, 200, 300... I wonder how much of the distortion comes from the tiny speakers and how much from the &quot;pixelation&quot;...\r\n\r\nIs there a natural/well-known/frequently-used/standard method to deal with this &quot;pixelation&quot;? Of course I could just &quot;blur&quot; (sorry...) the signal with a filter, but I wonder is there is something more effective.\r\n\r\nOr maybe I am being too picky since the signal is already in 16 bits?","title":"How to correctly apply volume gain digitally?","body":"<p>I have an audio app to record very low wildlife sounds, and I thus need to raise the playback volume digitally with a (float) <code>gain</code> factor. The files are 16 bit WAVE mono, 44100.</p>\n<p>What I do now is the following:</p>\n<pre><code>AudioTrack mplayer = new AudioTrack(....);\nFileInputStream is = new FileInputStream(songfile);\n...\nwhile (isPlaying() &amp;&amp; (i = is.read(music)) != -1) {\n    for (int j = 0; j &lt; i / 2; j++) {\n        shortv = ((music[j * 2] &amp; 0xff) | (music[j * 2 + 1] &lt;&lt; 8));\n        musics[j] = (short) Math.max(Math.min(gain * shortv, Short.MAX_VALUE), Short.MIN_VALUE);\n    }\n\n    if (isPlaying()) mplayer.write(musics, 0, j);\n}\n...\n</code></pre>\n<p>As you can see, I just multiply the <code>short</code> extracted from the two bytes, with the <code>gain</code>, which goes from 0 to 100 (the max/min is to limit in the <code>short</code> range).</p>\n<p>My problem is that when <code>gain</code> is too high, I hear distortions. This is expected, of course. Yet, when <code>gain</code> is high the above code gives &quot;pixelation&quot; (sorry, a photographer here!). Namely, the values of <code>musics[]</code> is 0, 100, 200, 300... I wonder how much of the distortion comes from the tiny speakers and how much from the &quot;pixelation&quot;...</p>\n<p>Is there a natural/well-known/frequently-used/standard method to deal with this &quot;pixelation&quot;? Of course I could just &quot;blur&quot; (sorry...) the signal with a filter, but I wonder is there is something more effective.</p>\n<p>Or maybe I am being too picky since the signal is already in 16 bits?</p>\n"},{"tags":["java","multithreading","concurrentmodification","forkjoinpool"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1654569877,"post_id":72525288,"comment_id":128116154,"body_markdown":"Can you try to provide a [mre] demonstrating the problem, and the full stack trace of the error?","body":"Can you try to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem, and the full stack trace of the error?"},{"owner":{"account_id":8705495,"reputation":151,"user_id":6513683,"accept_rate":80,"display_name":"WubbaLubbaDubbDubb"},"score":0,"creation_date":1654572063,"post_id":72525288,"comment_id":128116484,"body_markdown":"@Slaw I wish I could provide that example but I honestly don&#39;t know how to reproduce the error, it only happens sometimes and I haven&#39;t found a pattern yet. I will update the original question with the full stack trace.","body":"@Slaw I wish I could provide that example but I honestly don&#39;t know how to reproduce the error, it only happens sometimes and I haven&#39;t found a pattern yet. I will update the original question with the full stack trace."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1654582686,"post_id":72525288,"comment_id":128118263,"body_markdown":"Hmm. The stack trace indicates the exception is being thrown from a stream pipeline. The only stream I see in your code is `crawForURLs(&quot;a&quot;, &quot;href&quot;).stream()`. Make sure that you are not sharing the _source_ of the stream between multiple `ForkJoinTask` instances, at least not when that source can have read+write operations by multiple threads at the &quot;same time&quot; (without the proper synchronization).","body":"Hmm. The stack trace indicates the exception is being thrown from a stream pipeline. The only stream I see in your code is <code>crawForURLs(&quot;a&quot;, &quot;href&quot;).stream()</code>. Make sure that you are not sharing the <i>source</i> of the stream between multiple <code>ForkJoinTask</code> instances, at least not when that source can have read+write operations by multiple threads at the &quot;same time&quot; (without the proper synchronization)."},{"owner":{"account_id":8705495,"reputation":151,"user_id":6513683,"accept_rate":80,"display_name":"WubbaLubbaDubbDubb"},"score":0,"creation_date":1654629613,"post_id":72525288,"comment_id":128135050,"body_markdown":"@Slaw I&#39;m not quite sure what you mean by sharing the source of the stream between multiple instances, I just pass the urls to the new instances and that&#39;s it for the results of that method. The code I provided is the only place where the stream is used.","body":"@Slaw I&#39;m not quite sure what you mean by sharing the source of the stream between multiple instances, I just pass the urls to the new instances and that&#39;s it for the results of that method. The code I provided is the only place where the stream is used."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1654639491,"post_id":72525288,"comment_id":128137868,"body_markdown":"Can you show your `ForkJoinTask` implementation?","body":"Can you show your <code>ForkJoinTask</code> implementation?"},{"owner":{"account_id":8705495,"reputation":151,"user_id":6513683,"accept_rate":80,"display_name":"WubbaLubbaDubbDubb"},"score":0,"creation_date":1654675348,"post_id":72525288,"comment_id":128144585,"body_markdown":"@Slaw Here&#39;s Spider.java, which extends RecursiveTask: pastebin.com/8eDsVNDg and here&#39;s SpiderUtils.java: pastebin.com/5NpjY79T","body":"@Slaw Here&#39;s Spider.java, which extends RecursiveTask: pastebin.com/8eDsVNDg and here&#39;s SpiderUtils.java: pastebin.com/5NpjY79T"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1654681397,"post_id":72525288,"comment_id":128146887,"body_markdown":"From a cursory glance, I think I see the problem (improper synchronization). But I don&#39;t have time to properly look at it, or write a good answer, just yet. I&#39;ll try to get to give an answer tomorrow.","body":"From a cursory glance, I think I see the problem (improper synchronization). But I don&#39;t have time to properly look at it, or write a good answer, just yet. I&#39;ll try to get to give an answer tomorrow."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654719209,"creation_date":1654719209,"answer_id":72551685,"question_id":72525288,"body_markdown":"The problem, I believe, is in your `SpiderUtils` class. More specifically, this method:\r\n\r\n\r\n&gt;```lang-java\r\n&gt; public static boolean isLinkURLValid(URI url) {\r\n&gt;     return url.getHost().equalsIgnoreCase(baseUrl.getHost()) &amp;&amp;\r\n&gt;             !containsURL(linksCrawled, url) &amp;&amp;\r\n&gt;             !containsURL(linksInProgress, url) &amp;&amp;\r\n&gt;             !url.getPath().contains(&quot;.&quot;);\r\n&gt; }\r\n&gt;```\r\n\r\nAnd this method:\r\n\r\n&gt;```lang-java\r\n&gt; public static boolean containsURL(ArrayList&lt;URI&gt; urls, URI left) {\r\n&gt;     return urls.stream().anyMatch(right -&gt; urlsMatch(left, right));\r\n&gt; }\r\n&gt;```\r\n\r\nBoth these methods are not `synchronized`, which means multiple threads can execute them at the same time. This is likely not a problem for the `containsURL(...)` method. Given what it does, it has no reason to be `synchronized` (neither it, nor the `urlsMatch(...)` method, rely on any external state). The problem is with how the `isLinkURLValid(...)` method passes both `linksCrawled` and `linksInProgress` to the `containsURL(...)` method.\r\n\r\nThese list variables are static, and thus the same instances are passed to the `isLinkURLValid(...)` method on different threads. This would be okay, if all you did was stream the elements of these lists (i.e., only _read_ from the lists). However, elsewhere in your code you also _add elements_ to these lists (i.e., you _write_ to the lists). These writes are performed in `synchronized` methods, but that doesn&#39;t matter because you&#39;re reading the lists without synchronizing on the same object. So, your code is vulnerable to `ConcurrentModificationException`s (you cannot modify a non-concurrent collection while iterating over it).\r\n\r\n_I believe_ the solution would be to simply make the `isLinkURLValid(...)` method `synchronized`, but I&#39;m not 100% positive as I haven&#39;t tested it.","title":"ForkPoolTask.join() ConcurrentModificationException","body":"<p>The problem, I believe, is in your <code>SpiderUtils</code> class. More specifically, this method:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isLinkURLValid(URI url) {\n    return url.getHost().equalsIgnoreCase(baseUrl.getHost()) &amp;&amp;\n            !containsURL(linksCrawled, url) &amp;&amp;\n            !containsURL(linksInProgress, url) &amp;&amp;\n            !url.getPath().contains(&quot;.&quot;);\n}\n</code></pre>\n</blockquote>\n<p>And this method:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean containsURL(ArrayList&lt;URI&gt; urls, URI left) {\n    return urls.stream().anyMatch(right -&gt; urlsMatch(left, right));\n}\n</code></pre>\n</blockquote>\n<p>Both these methods are not <code>synchronized</code>, which means multiple threads can execute them at the same time. This is likely not a problem for the <code>containsURL(...)</code> method. Given what it does, it has no reason to be <code>synchronized</code> (neither it, nor the <code>urlsMatch(...)</code> method, rely on any external state). The problem is with how the <code>isLinkURLValid(...)</code> method passes both <code>linksCrawled</code> and <code>linksInProgress</code> to the <code>containsURL(...)</code> method.</p>\n<p>These list variables are static, and thus the same instances are passed to the <code>isLinkURLValid(...)</code> method on different threads. This would be okay, if all you did was stream the elements of these lists (i.e., only <em>read</em> from the lists). However, elsewhere in your code you also <em>add elements</em> to these lists (i.e., you <em>write</em> to the lists). These writes are performed in <code>synchronized</code> methods, but that doesn't matter because you're reading the lists without synchronizing on the same object. So, your code is vulnerable to <code>ConcurrentModificationException</code>s (you cannot modify a non-concurrent collection while iterating over it).</p>\n<p><em>I believe</em> the solution would be to simply make the <code>isLinkURLValid(...)</code> method <code>synchronized</code>, but I'm not 100% positive as I haven't tested it.</p>\n"}],"owner":{"account_id":8705495,"reputation":151,"user_id":6513683,"accept_rate":80,"display_name":"WubbaLubbaDubbDubb"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72551685,"answer_count":1,"score":0,"last_activity_date":1654719209,"creation_date":1654568552,"question_id":72525288,"body_markdown":"I&#39;m getting a very strange error here that I can&#39;t quite understand. As it stands I&#39;m making a crawler program that uses ForkJoinTasks to scan for links on the page and then crawl those as well. However, when I use .join() to collect the tasks, I sometimes get ConcurrentModificationExceptions pointing to that line.\r\n\r\n```\r\nSpider[] newSpiders = crawlForURLs(&quot;a&quot;, &quot;href&quot;).stream()\r\n        .filter(url -&gt; SpiderUtils.isLinkURLValid(url))\r\n        .map(url -&gt; new Spider(url).fork()).toArray(Spider[]::new);\r\n\r\nfor (Spider c : newSpiders) {\r\n    Image[] crawledImages = c.join();\r\n}\r\n```\r\nThe line in question is c.join(). I tried surrounding it in a ReentrantLock just to see what would happen but it made no difference.\r\n\r\nFull stack trace: https://pastebin.com/qCJte65Q\r\n\r\nLines of code are:\r\nat com.eulerity.hackathon.imagefinder.Spider.compute (Spider.java:85) (`Image[] crawledImages = c.join();`)\r\n\r\nat com.eulerity.hackathon.imagefinder.ImageFinder.doPost (ImageFinder.java:45) `images = SpiderUtils.commonPool.invoke(baseSpider);`\r\n\r\nI honestly can&#39;t figure out why this is the case, but if you need to see another part of my code please don&#39;t hesitate to ask. Thank you!","title":"ForkPoolTask.join() ConcurrentModificationException","body":"<p>I'm getting a very strange error here that I can't quite understand. As it stands I'm making a crawler program that uses ForkJoinTasks to scan for links on the page and then crawl those as well. However, when I use .join() to collect the tasks, I sometimes get ConcurrentModificationExceptions pointing to that line.</p>\n<pre><code>Spider[] newSpiders = crawlForURLs(&quot;a&quot;, &quot;href&quot;).stream()\n        .filter(url -&gt; SpiderUtils.isLinkURLValid(url))\n        .map(url -&gt; new Spider(url).fork()).toArray(Spider[]::new);\n\nfor (Spider c : newSpiders) {\n    Image[] crawledImages = c.join();\n}\n</code></pre>\n<p>The line in question is c.join(). I tried surrounding it in a ReentrantLock just to see what would happen but it made no difference.</p>\n<p>Full stack trace: <a href=\"https://pastebin.com/qCJte65Q\" rel=\"nofollow noreferrer\">https://pastebin.com/qCJte65Q</a></p>\n<p>Lines of code are:\nat com.eulerity.hackathon.imagefinder.Spider.compute (Spider.java:85) (<code>Image[] crawledImages = c.join();</code>)</p>\n<p>at com.eulerity.hackathon.imagefinder.ImageFinder.doPost (ImageFinder.java:45) <code>images = SpiderUtils.commonPool.invoke(baseSpider);</code></p>\n<p>I honestly can't figure out why this is the case, but if you need to see another part of my code please don't hesitate to ask. Thank you!</p>\n"},{"tags":["java","algorithm","merge"],"comments":[{"owner":{"account_id":73019,"reputation":17177,"user_id":210526,"accept_rate":82,"display_name":"unholysampler"},"score":3,"creation_date":1296858969,"post_id":4903585,"comment_id":5458759,"body_markdown":"Can you clarify what that something is?","body":"Can you clarify what that something is?"},{"owner":{"account_id":235018,"reputation":364834,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":0,"creation_date":1296858989,"post_id":4903585,"comment_id":5458765,"body_markdown":"Welcome to Stack Overflow!  Can you add some commenting to your code to clarify what you&#39;re trying to do?  And can you provide a few more details on what&#39;s going wrong?  It will be a lot easier to help you out if you give us more insight into the problem.","body":"Welcome to Stack Overflow!  Can you add some commenting to your code to clarify what you&#39;re trying to do?  And can you provide a few more details on what&#39;s going wrong?  It will be a lot easier to help you out if you give us more insight into the problem."},{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":3,"creation_date":1296859265,"post_id":4903585,"comment_id":5458813,"body_markdown":"Side note: in Java the arrays know their own length so you can replace `l1` with `a1.length` and `l2` similarly.","body":"Side note: in Java the arrays know their own length so you can replace <code>l1</code> with <code>a1.length</code> and <code>l2</code> similarly."},{"owner":{"account_id":235018,"reputation":364834,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":3,"creation_date":1296859562,"post_id":4903585,"comment_id":5458860,"body_markdown":"Your algorithm seems to be doing the merge by working from the front forward and shuffling down the elements of the second array to make more space.  Have you considered instead starting from the *back* of the second array and moving toward the front?  You can check this to see that you will never end up needing to shuffle elements out of the way if you take this approach.","body":"Your algorithm seems to be doing the merge by working from the front forward and shuffling down the elements of the second array to make more space.  Have you considered instead starting from the <i>back</i> of the second array and moving toward the front?  You can check this to see that you will never end up needing to shuffle elements out of the way if you take this approach."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1296859882,"post_id":4903585,"comment_id":5458913,"body_markdown":"It looks like you&#39;re shifting an arbitrary amount of elements in each step. This makes it to an `O(n**2)` operation, so the merging makes no sense and you&#39;d be better served by `l1.addAll(l2); Collections.sort(l1);`. See http://stackoverflow.com/questions/2571049/how-to-sort-in-place-using-the-merge-sort-algorithm - EDIT: I see I overlooked you&#39;re working with arrays instead of lists. However, it can be easily adapted.","body":"It looks like you&#39;re shifting an arbitrary amount of elements in each step. This makes it to an <code>O(n**2)</code> operation, so the merging makes no sense and you&#39;d be better served by <code>l1.addAll(l2); Collections.sort(l1);</code>. See <a href=\"http://stackoverflow.com/questions/2571049/how-to-sort-in-place-using-the-merge-sort-algorithm\" title=\"how to sort in place using the merge sort algorithm\">stackoverflow.com/questions/2571049/&hellip;</a> - EDIT: I see I overlooked you&#39;re working with arrays instead of lists. However, it can be easily adapted."}],"answers":[{"tags":[],"owner":{"account_id":287424,"reputation":4523,"user_id":587220,"display_name":"Kellindil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1296859527,"creation_date":1296859527,"answer_id":4903664,"question_id":4903585,"body_markdown":"have you tried System.arrayCopy? Something like :\r\n\r\n    ...\r\n    System.arraycopy(a2, 0, a2, a1.length, a2.length);\r\n    System.arraycopy(a1, 0, a1, 0, a1.length);\r\n    ...\r\n\r\nShould do the trick while not wasting time (arraycopy is optimized for these use cases).","title":"Merging two arrays without using extra space","body":"<p>have you tried System.arrayCopy? Something like :</p>\n\n<pre><code>...\nSystem.arraycopy(a2, 0, a2, a1.length, a2.length);\nSystem.arraycopy(a1, 0, a1, 0, a1.length);\n...\n</code></pre>\n\n<p>Should do the trick while not wasting time (arraycopy is optimized for these use cases).</p>\n"},{"tags":[],"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1296860862,"creation_date":1296859840,"answer_id":4903692,"question_id":4903585,"body_markdown":"It&#39;s difficult to tell what your code does, but it seems to have suboptimal (`O(n^2)`) complexity: there&#39;s a second loop inside `add` method.  \r\nAlso, note that `fs` is always equal to `l1`.\r\n\r\nBut there&#39;s much simpler method: from the back. If you think about it, there&#39;s always enough space.  \r\n\r\nSomething like this\r\n\r\n    int i = l1 - 1;\r\n    int j = l2 - 1;\r\n    int result_pos = l1 + l2 - 1;\r\n    while (i &gt;= 0 || j &gt;= 0) {\r\n        if (a1[i] &gt;= a2[j]) {\r\n            a2[result_pos--] = a1[i--];\r\n        } else {\r\n            a2[result_pos--] = a2[j--];\r\n        }\r\n    }\r\n\r\nPS You&#39;ll need to add handling for the case when one of `i` and `j` is negative in the loop. Obviously, in this case another element should be copied.\r\n\r\n**edit**  \r\nLater can be done with this condition\r\n\r\n    if (j &lt; 0 || (i &gt;= 0 &amp;&amp; a1[i] &gt;= a2[j])) {\r\n\r\ninstead of \r\n\r\n    if (a1[i] &gt;= a2[j]) {\r\n","title":"Merging two arrays without using extra space","body":"<p>It's difficult to tell what your code does, but it seems to have suboptimal (<code>O(n^2)</code>) complexity: there's a second loop inside <code>add</code> method.<br>\nAlso, note that <code>fs</code> is always equal to <code>l1</code>.</p>\n\n<p>But there's much simpler method: from the back. If you think about it, there's always enough space.  </p>\n\n<p>Something like this</p>\n\n<pre><code>int i = l1 - 1;\nint j = l2 - 1;\nint result_pos = l1 + l2 - 1;\nwhile (i &gt;= 0 || j &gt;= 0) {\n    if (a1[i] &gt;= a2[j]) {\n        a2[result_pos--] = a1[i--];\n    } else {\n        a2[result_pos--] = a2[j--];\n    }\n}\n</code></pre>\n\n<p>PS You'll need to add handling for the case when one of <code>i</code> and <code>j</code> is negative in the loop. Obviously, in this case another element should be copied.</p>\n\n<p><strong>edit</strong><br>\nLater can be done with this condition</p>\n\n<pre><code>if (j &lt; 0 || (i &gt;= 0 &amp;&amp; a1[i] &gt;= a2[j])) {\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>if (a1[i] &gt;= a2[j]) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130477,"reputation":23133,"user_id":329781,"accept_rate":73,"display_name":"jonderry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1296859843,"creation_date":1296859843,"answer_id":4903693,"question_id":4903585,"body_markdown":"First, shift the elements of a1 to the back of a1. Second merge a1 and a2 starting the front of a1 (i.e., write the minimum of the two elements being compared to the current index in a1, where the current index starts at 0 and ranges up to a1.length + a2.length - 1). This will prevent you from overwriting any elements of a1.","title":"Merging two arrays without using extra space","body":"<p>First, shift the elements of a1 to the back of a1. Second merge a1 and a2 starting the front of a1 (i.e., write the minimum of the two elements being compared to the current index in a1, where the current index starts at 0 and ranges up to a1.length + a2.length - 1). This will prevent you from overwriting any elements of a1.</p>\n"},{"tags":[],"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296859888,"creation_date":1296859888,"answer_id":4903702,"question_id":4903585,"body_markdown":"Why bother writing your own code? If a2 has enough empty space to hold the elements of a1, just copy tha elements from a1 into a2 (using arraycopy) and then use Arrays.sort(). That would give you O(n*log(n)) whereas your simple approach seems to be O(n*n) anyway.\r\n\r\n(However the merge could be done in O(n).)","title":"Merging two arrays without using extra space","body":"<p>Why bother writing your own code? If a2 has enough empty space to hold the elements of a1, just copy tha elements from a1 into a2 (using arraycopy) and then use Arrays.sort(). That would give you O(n*log(n)) whereas your simple approach seems to be O(n*n) anyway.</p>\n\n<p>(However the merge could be done in O(n).)</p>\n"},{"tags":[],"owner":{"account_id":78518,"reputation":40077,"user_id":223424,"accept_rate":74,"display_name":"9000"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1296859999,"creation_date":1296859999,"answer_id":4903717,"question_id":4903585,"body_markdown":"I&#39;d start merging from the end.\r\n\r\nAt the last element, put `max(lastOf(a1), lastOf(f2))`. Continue to bite off one element at a time from the rest of either array, until one of these is exhausted. Put the rest of the remaining array to the start (may me a no-op).","title":"Merging two arrays without using extra space","body":"<p>I'd start merging from the end.</p>\n\n<p>At the last element, put <code>max(lastOf(a1), lastOf(f2))</code>. Continue to bite off one element at a time from the rest of either array, until one of these is exhausted. Put the rest of the remaining array to the start (may me a no-op).</p>\n"},{"tags":[],"owner":{"account_id":204648,"reputation":2155,"user_id":452991,"display_name":"Argote"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1296860661,"creation_date":1296860284,"answer_id":4903747,"question_id":4903585,"body_markdown":"If the elements in `a1` and `a2` are sorted then you&#39;d have something like this:\r\n\r\n    a1 : [-1] [0] [7] [8]\r\n    a2 : [1] [3] [9] [] [] [] []\r\n\r\nSo in code you can do this:\r\n\r\n    int a1i = 0; // pointer to the ith element in the array a1\r\n    int tmp = 0;\r\n    int i = 0;\r\n    for(i = 0; i &lt; a1.length; i++) {\r\n        if(a2[i] &gt; a1[a1i]) {\r\n            tmp = a2[i];\r\n            a2[i] = a1[a1i];\r\n            a1[a1i] = tmp;\r\n            Arrays.sort(a1); // This might take more memory though...\r\n        } else {\r\n            a1i++;\r\n        }\r\n    }\r\n    a1i = 0;\r\n    for(i; i &lt; a2.length; i++) {\r\n        a2[i] = a1[a1i];\r\n        a1i++;\r\n    }\r\n\r\nThis would work out to:\r\n\r\n\r\n    a1 : [-1] [0] [7] [8]\r\n          ^\r\n    a2 : [1] [3] [9] [] [] [] []\r\n          ^\r\n    SWAP\r\n\r\n    a1 : [1] [0] [7] [8]\r\n          ^\r\n    a2 : [-1] [3] [9] [] [] [] []\r\n               ^\r\n    SORT\r\n\r\n    a1 : [0] [1] [7] [8]\r\n          ^\r\n    a2 : [-1] [3] [9] [] [] [] []\r\n               ^\r\n    SWAP\r\n\r\n    a1 : [3] [1] [7] [8]\r\n          ^\r\n    a2 : [-1] [0] [9] [] [] [] []\r\n                   ^\r\n    SORT\r\n\r\n    a1 : [1] [3] [7] [8]\r\n          ^\r\n    a2 : [-1] [0] [9] [] [] [] []\r\n                   ^\r\n    SWAP\r\n\r\n    a1 : [9] [3] [7] [8]\r\n          ^\r\n    a2 : [-1] [0] [1] [] [] [] []\r\n                      ^\r\n    SORT\r\n\r\n    a1 : [3] [7] [8] [9]\r\n          ^\r\n    a2 : [-1] [0] [1] [] [] [] []\r\n                      ^\r\n    COPY\r\n\r\n    a1 : [3] [7] [8] [9]\r\n              ^\r\n    a2 : [-1] [0] [1] [3] [] [] []\r\n                       ^\r\n    COPY\r\n\r\n    a1 : [3] [7] [8] [9]\r\n                  ^\r\n    a2 : [-1] [0] [1] [3] [7] [] []\r\n                           ^\r\n    COPY\r\n\r\n    a1 : [3] [7] [8] [9]\r\n                      ^\r\n    a2 : [-1] [0] [1] [3] [7] [8] []\r\n                               ^\r\n    COPY\r\n\r\n    a1 : [3] [7] [8] [9]\r\n                      ^\r\n    a2 : [-1] [0] [1] [3] [7] [8] [9]\r\n                                   ^\r\n    END","title":"Merging two arrays without using extra space","body":"<p>If the elements in <code>a1</code> and <code>a2</code> are sorted then you'd have something like this:</p>\n\n<pre><code>a1 : [-1] [0] [7] [8]\na2 : [1] [3] [9] [] [] [] []\n</code></pre>\n\n<p>So in code you can do this:</p>\n\n<pre><code>int a1i = 0; // pointer to the ith element in the array a1\nint tmp = 0;\nint i = 0;\nfor(i = 0; i &lt; a1.length; i++) {\n    if(a2[i] &gt; a1[a1i]) {\n        tmp = a2[i];\n        a2[i] = a1[a1i];\n        a1[a1i] = tmp;\n        Arrays.sort(a1); // This might take more memory though...\n    } else {\n        a1i++;\n    }\n}\na1i = 0;\nfor(i; i &lt; a2.length; i++) {\n    a2[i] = a1[a1i];\n    a1i++;\n}\n</code></pre>\n\n<p>This would work out to:</p>\n\n<pre><code>a1 : [-1] [0] [7] [8]\n      ^\na2 : [1] [3] [9] [] [] [] []\n      ^\nSWAP\n\na1 : [1] [0] [7] [8]\n      ^\na2 : [-1] [3] [9] [] [] [] []\n           ^\nSORT\n\na1 : [0] [1] [7] [8]\n      ^\na2 : [-1] [3] [9] [] [] [] []\n           ^\nSWAP\n\na1 : [3] [1] [7] [8]\n      ^\na2 : [-1] [0] [9] [] [] [] []\n               ^\nSORT\n\na1 : [1] [3] [7] [8]\n      ^\na2 : [-1] [0] [9] [] [] [] []\n               ^\nSWAP\n\na1 : [9] [3] [7] [8]\n      ^\na2 : [-1] [0] [1] [] [] [] []\n                  ^\nSORT\n\na1 : [3] [7] [8] [9]\n      ^\na2 : [-1] [0] [1] [] [] [] []\n                  ^\nCOPY\n\na1 : [3] [7] [8] [9]\n          ^\na2 : [-1] [0] [1] [3] [] [] []\n                   ^\nCOPY\n\na1 : [3] [7] [8] [9]\n              ^\na2 : [-1] [0] [1] [3] [7] [] []\n                       ^\nCOPY\n\na1 : [3] [7] [8] [9]\n                  ^\na2 : [-1] [0] [1] [3] [7] [8] []\n                           ^\nCOPY\n\na1 : [3] [7] [8] [9]\n                  ^\na2 : [-1] [0] [1] [3] [7] [8] [9]\n                               ^\nEND\n</code></pre>\n"},{"tags":[],"owner":{"account_id":171807,"reputation":3228,"user_id":399471,"accept_rate":91,"display_name":"Abbas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296860516,"creation_date":1296860516,"answer_id":4903776,"question_id":4903585,"body_markdown":"I assume you have no restriction on time complexity of your algorithm.\r\nMy suggestion is to append the values of a1 to a2 and apply any O(nlogn) sorting algorithm like quicksort. However if you&#39;d like to do the merging, i think this code helps you:\r\n\r\n    public static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tint a1[]= new int[]{-1,0,7,8};\r\n    \t\tint a2[]= new int[7];\r\n    \t\ta2[0]=1;\r\n    \t\ta2[1]=3;\r\n    \t\ta2[2]=9;\r\n    \t\tmerge(a1, a2, 3);\r\n    \t}\r\n    \r\n    \tprivate static void merge(int[] a1, int[] a2, int lastPos) {\r\n    \t\tfor ( int i = 0; i &lt; a1.length; i++)\r\n    \t\t{\r\n    \t\t\tfor ( int j = 0; j &lt; a2.length; j++)\r\n    \t\t\t\tif ( a1[i] &lt; a2[j] )\r\n    \t\t\t\t{\r\n    \t\t\t\t\tadd(a1[i], a2, j, lastPos);\r\n    \t\t\t\t\tlastPos++;\r\n    \t\t\t\t\tbreak; //since a2 is also sorted\r\n    \t\t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void add(int val, int[] a2, int j, int lastPos) {\r\n    \t\tfor ( int i = lastPos; i &gt; j; i--)\r\n    \t\t\ta2[i] = a2[i-1];\r\n    \t\ta2[j] = val;\r\n    \t}","title":"Merging two arrays without using extra space","body":"<p>I assume you have no restriction on time complexity of your algorithm.\nMy suggestion is to append the values of a1 to a2 and apply any O(nlogn) sorting algorithm like quicksort. However if you'd like to do the merging, i think this code helps you:</p>\n\n<pre><code>public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        int a1[]= new int[]{-1,0,7,8};\n        int a2[]= new int[7];\n        a2[0]=1;\n        a2[1]=3;\n        a2[2]=9;\n        merge(a1, a2, 3);\n    }\n\n    private static void merge(int[] a1, int[] a2, int lastPos) {\n        for ( int i = 0; i &lt; a1.length; i++)\n        {\n            for ( int j = 0; j &lt; a2.length; j++)\n                if ( a1[i] &lt; a2[j] )\n                {\n                    add(a1[i], a2, j, lastPos);\n                    lastPos++;\n                    break; //since a2 is also sorted\n                }\n        }\n    }\n\n    private static void add(int val, int[] a2, int j, int lastPos) {\n        for ( int i = lastPos; i &gt; j; i--)\n            a2[i] = a2[i-1];\n        a2[j] = val;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user166390"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1296863807,"creation_date":1296862929,"answer_id":4904005,"question_id":4903585,"body_markdown":"There are many good answers. I just wanted to add something (the comments are already so buried):\r\n\r\n**This is just the merging phase of a [merge-sort](http://en.wikipedia.org/wiki/Merge_sort) or similar such as a [k-way sort](http://en.wikipedia.org/wiki/External_sorting).** Just use an in-place merge routine. Either the &quot;smaller array&quot; or the &quot;empty space&quot; can be used to store values in the &quot;larger array&quot; which are not currently in sort-order.\r\n\r\nIt&#39;s okay to borrow bits and pieces of different algorithms :-)\r\n","title":"Merging two arrays without using extra space","body":"<p>There are many good answers. I just wanted to add something (the comments are already so buried):</p>\n\n<p><strong>This is just the merging phase of a <a href=\"http://en.wikipedia.org/wiki/Merge_sort\" rel=\"nofollow\">merge-sort</a> or similar such as a <a href=\"http://en.wikipedia.org/wiki/External_sorting\" rel=\"nofollow\">k-way sort</a>.</strong> Just use an in-place merge routine. Either the \"smaller array\" or the \"empty space\" can be used to store values in the \"larger array\" which are not currently in sort-order.</p>\n\n<p>It's okay to borrow bits and pieces of different algorithms :-)</p>\n"},{"tags":[],"owner":{"account_id":4261233,"reputation":109,"user_id":3485546,"display_name":"Rezwan4029"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405332339,"creation_date":1405332339,"answer_id":24734050,"question_id":4903585,"body_markdown":"    \r\n\r\n&gt; Merge Two Sorted Array Without Using Extra Memory\r\n\r\n   \r\n    #include&lt;iostream&gt;\r\n    using namespace std ;\r\n    const int N = 100 ;\r\n    int a[N] , b[N] , n , m , len , L ;\r\n    int main() {\r\n        cin &gt;&gt; n ;\r\n        for( int i = 0 ; i &lt; n ; i++ ) cin &gt;&gt; a[i] ;\r\n        cin &gt;&gt; m ;\r\n        for( int i = 0 ; i &lt; m ; i++ ) cin &gt;&gt; b[i] ;\r\n        len = n + m - 1 ;\r\n        L = n + m ;\r\n        n--  , m-- ;\r\n        while( len &gt;= 0 ) {\r\n            if( m &lt; 0 ) a[len] = a[n--];\r\n            else if( n &lt; 0 ) a[len] = b[m--];\r\n            else if( a[n] &gt; b[m] ) a[len] = a[n--];\r\n            else a[len] = b[m--];\r\n            len--;\r\n        }\r\n        for( int i = 0 ; i &lt; L ; i++ ) cout &lt;&lt; a[i] &lt;&lt; &quot; &quot; ;\r\n    }\r\n\r\n","title":"Merging two arrays without using extra space","body":"<blockquote>\n  <p>Merge Two Sorted Array Without Using Extra Memory</p>\n</blockquote>\n\n<pre><code>#include&lt;iostream&gt;\nusing namespace std ;\nconst int N = 100 ;\nint a[N] , b[N] , n , m , len , L ;\nint main() {\n    cin &gt;&gt; n ;\n    for( int i = 0 ; i &lt; n ; i++ ) cin &gt;&gt; a[i] ;\n    cin &gt;&gt; m ;\n    for( int i = 0 ; i &lt; m ; i++ ) cin &gt;&gt; b[i] ;\n    len = n + m - 1 ;\n    L = n + m ;\n    n--  , m-- ;\n    while( len &gt;= 0 ) {\n        if( m &lt; 0 ) a[len] = a[n--];\n        else if( n &lt; 0 ) a[len] = b[m--];\n        else if( a[n] &gt; b[m] ) a[len] = a[n--];\n        else a[len] = b[m--];\n        len--;\n    }\n    for( int i = 0 ; i &lt; L ; i++ ) cout &lt;&lt; a[i] &lt;&lt; \" \" ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1891952,"reputation":2743,"user_id":1709793,"accept_rate":0,"display_name":"craftsmannadeem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454430534,"creation_date":1454430053,"answer_id":35158548,"question_id":4903585,"body_markdown":"This is nothing but merge phase of merge sort,\r\n\r\n 1. copy all the elements of a2 `(1,2,3,4)` at the end of a1 `(5,6,7,8)`, now a1 will contain `(4,5,6,7,8,1,2,3,4)`\r\n 2. Now invoke the merge algorithm below  `inPlaceMerge(collection, 0&lt;low&gt;,3&lt;mid&gt;,7&lt;high&gt;);`\r\n\r\n \r\n\r\nhere is the algorithm in Java,\r\n\r\n    \r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt;  void inPlaceMerge(T[] collection, int low, int mid, int high) {\r\n\t\tint left = low;\r\n\t\tint right = mid + 1;\r\n\t\t\r\n\t\tif(collection[mid].equals(collection[right])) {\r\n\t\t\treturn ;//Skip the merge if required\r\n\t\t}\r\n\t\twhile (left &lt;= mid &amp;&amp; right &lt;= high) {\t\t\t\r\n\t\t\t// Select from left:  no change, just advance left\r\n\t\t\tif (collection[left].compareTo(collection[right]) &lt;= 0) {\r\n\t\t\t\tleft ++;\r\n\t\t\t} else { // Select from right:  rotate [left..right] and correct\r\n\t\t\t\tT tmp = collection[right]; // Will move to [left]\r\n\t\t\t\trotateRight(collection, left, right - left);\r\n\t\t\t\tcollection[left] = tmp;\r\n\t\t\t\t// EVERYTHING has moved up by one\r\n\t\t\t\tleft ++; right ++; mid ++;\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t}\r\n\r\n\tprivate static &lt;T extends Comparable&lt;? super T&gt;&gt; void rotateRight(T[] collection, int left, int numberOfElements) {\r\n\t\tSystem.arraycopy(collection, left, collection, left+1, numberOfElements);\t\t\r\n\t}\r\n\r\nHere is the unit test\r\n    \r\n    @Test\r\n\tpublic void inPlaceMergeFirstTest() {\r\n\t\tInteger[] collection = new Integer[]{5,6,7,8,1,2,3,4};\r\n\t\tArrayUtils.&lt;Integer&gt;inPlaceMerge(collection, 0,3,7);\r\n\t\tInteger[] result = new Integer[]{1,2,3,4,5,6,7,8};\r\n\t\tassertThat(collection, equalTo(result));\r\n\t}","title":"Merging two arrays without using extra space","body":"<p>This is nothing but merge phase of merge sort,</p>\n\n<ol>\n<li>copy all the elements of a2 <code>(1,2,3,4)</code> at the end of a1 <code>(5,6,7,8)</code>, now a1 will contain <code>(4,5,6,7,8,1,2,3,4)</code></li>\n<li>Now invoke the merge algorithm below  <code>inPlaceMerge(collection, 0&lt;low&gt;,3&lt;mid&gt;,7&lt;high&gt;);</code></li>\n</ol>\n\n<p>here is the algorithm in Java,</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;? super T&gt;&gt;  void inPlaceMerge(T[] collection, int low, int mid, int high) {\n    int left = low;\n    int right = mid + 1;\n\n    if(collection[mid].equals(collection[right])) {\n        return ;//Skip the merge if required\n    }\n    while (left &lt;= mid &amp;&amp; right &lt;= high) {          \n        // Select from left:  no change, just advance left\n        if (collection[left].compareTo(collection[right]) &lt;= 0) {\n            left ++;\n        } else { // Select from right:  rotate [left..right] and correct\n            T tmp = collection[right]; // Will move to [left]\n            rotateRight(collection, left, right - left);\n            collection[left] = tmp;\n            // EVERYTHING has moved up by one\n            left ++; right ++; mid ++;\n        }\n    }       \n}\n\nprivate static &lt;T extends Comparable&lt;? super T&gt;&gt; void rotateRight(T[] collection, int left, int numberOfElements) {\n    System.arraycopy(collection, left, collection, left+1, numberOfElements);       \n}\n</code></pre>\n\n<p>Here is the unit test</p>\n\n<pre><code>@Test\npublic void inPlaceMergeFirstTest() {\n    Integer[] collection = new Integer[]{5,6,7,8,1,2,3,4};\n    ArrayUtils.&lt;Integer&gt;inPlaceMerge(collection, 0,3,7);\n    Integer[] result = new Integer[]{1,2,3,4,5,6,7,8};\n    assertThat(collection, equalTo(result));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16805182,"reputation":21,"user_id":12149552,"display_name":"Dimpy Aggarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590792905,"creation_date":1590790022,"answer_id":62095287,"question_id":4903585,"body_markdown":"The better way to solve the question is used to Insertion sort for merging two sorted arrays in O(1) auxiliary space. \r\n\r\n/* as we have to merge the 2 sorted arrays in array2. we begin from the end of array2 and insert the array element at its correct position acc. to insertion sort*/\r\n \r\n```\r\npublic static int[] merge(int []a1,int a2[],int l1, int l2){\r\n\r\n     int len2=l2-l1;\r\n      for(int i=l1-1;i&gt;=0;i--){\r\n        int j=len2-1;\r\n              \r\n          for(;j&gt;=0 &amp;&amp; j+1&lt;l2 &amp;&amp; a2[j]&gt;a[i];j--){\r\n             a2[j+1]=a2[j];\r\n           }\r\n          a2[j+1]=a1[i];\r\n            len2++;\r\n         }\r\n}\r\n```","title":"Merging two arrays without using extra space","body":"<p>The better way to solve the question is used to Insertion sort for merging two sorted arrays in O(1) auxiliary space. </p>\n\n<p>/* as we have to merge the 2 sorted arrays in array2. we begin from the end of array2 and insert the array element at its correct position acc. to insertion sort*/</p>\n\n<pre><code>public static int[] merge(int []a1,int a2[],int l1, int l2){\n\n     int len2=l2-l1;\n      for(int i=l1-1;i&gt;=0;i--){\n        int j=len2-1;\n\n          for(;j&gt;=0 &amp;&amp; j+1&lt;l2 &amp;&amp; a2[j]&gt;a[i];j--){\n             a2[j+1]=a2[j];\n           }\n          a2[j+1]=a1[i];\n            len2++;\n         }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16805182,"reputation":21,"user_id":12149552,"display_name":"Dimpy Aggarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590792856,"creation_date":1590792856,"answer_id":62095720,"question_id":4903585,"body_markdown":"/*or simply you can do this-&gt;*/ \r\n\r\n\r\n\r\n\r\n    public static int[] merge(int []a1,int a2[],int l1, int l2){\r\n         int j=0;\r\n         for(int i=l2-l1;i&lt;l2;i++)\r\n         {\r\n                a2[i]=a1[j];\r\n                  j++;\r\n          }\r\n          Arrays.sort(a2);\r\n          return a2;\r\n\r\n     }","title":"Merging two arrays without using extra space","body":"<p>/<em>or simply you can do this-></em>/ </p>\n\n<pre><code>public static int[] merge(int []a1,int a2[],int l1, int l2){\n     int j=0;\n     for(int i=l2-l1;i&lt;l2;i++)\n     {\n            a2[i]=a1[j];\n              j++;\n      }\n      Arrays.sort(a2);\n      return a2;\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19101969,"reputation":23,"user_id":16420465,"display_name":"Siddharth Upadhyay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654719095,"creation_date":1654719095,"answer_id":72551663,"question_id":4903585,"body_markdown":"A quick approach is by using a Heap. Check this out:\r\n```\r\npublic static void merge(long arr1[], long arr2[], int n, int m) \r\n    {\r\n        PriorityQueue&lt;Long&gt; pq=new PriorityQueue&lt;&gt;();\r\n        for(int i=0; i&lt;n; i++){\r\n            pq.add(arr1[i]);\r\n        }\r\n        for(int j=0; j&lt;m; j++){\r\n            pq.add(arr2[j]);\r\n        }\r\n        for(int k=0; k&lt;n; k++){\r\n            arr1[k]=pq.poll();\r\n        }\r\n        for(int l=0; l&lt;m; l++){\r\n            arr2[l]=pq.poll();\r\n        }\r\n    }\r\n```","title":"Merging two arrays without using extra space","body":"<p>A quick approach is by using a Heap. Check this out:</p>\n<pre><code>public static void merge(long arr1[], long arr2[], int n, int m) \n    {\n        PriorityQueue&lt;Long&gt; pq=new PriorityQueue&lt;&gt;();\n        for(int i=0; i&lt;n; i++){\n            pq.add(arr1[i]);\n        }\n        for(int j=0; j&lt;m; j++){\n            pq.add(arr2[j]);\n        }\n        for(int k=0; k&lt;n; k++){\n            arr1[k]=pq.poll();\n        }\n        for(int l=0; l&lt;m; l++){\n            arr2[l]=pq.poll();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":704673,"reputation":91,"user_id":603353,"display_name":"algorithmX"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14273,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":13,"score":2,"last_activity_date":1654719095,"creation_date":1296858654,"question_id":4903585,"body_markdown":"I have 2 sorted arrays, `a1` and `a2`, of lengths `l1` and `l2`, respectively.  The array `a2` has empty space at the end of length `l1`, so it can hold all of the elements of `a1` in addition to its own elements.  Now, I want to merge `a1` into `a2` so that `a2` will contain all the elements of `a1` and `a2` in sorted order.  Ideally this should use O(1) auxiliary storage space.  I have the following cod,e but something is going wrong:\r\n\r\n\r\n     public static int[] merge(int []a1,int a2[],int l1, int l2){\r\n    \t\t \r\n    \t\t System.out.println(&quot;l1 =&quot; +l1 + &quot; l2=&quot; +l2);\r\n    \t\t int es = l2-l1;\r\n    \t\t int fs = l2-es;\r\n    \t\t \r\n    \t\t System.out.println(&quot;es= &quot; +es);\r\n    \t\t System.out.println(&quot;fs = &quot; + fs);\r\n    \t\t int j=0;\r\n    \t\t \r\n    \t\t for(int i=0;i&lt; l1;i++){\r\n    \t\t\t \r\n    \t\t\t if(j&lt;fs){\r\n    \t\t\t\t// System.out.println(&quot;i= &quot; + i + &quot;a1[i]=&quot; + a1[i]);\r\n    \t\t\t\t// System.out.println(&quot;j= &quot; + j + &quot;a2[j]=&quot; + a2[j]);\r\n    \t\t\t\t if(a1[i]&lt;a2[j]){\r\n    \t\t\t\t\t add(a2,j,a1[i],l2);\r\n    \t\t\t\t\t //i++;\r\n    \t\t\t\t\t fs++;\r\n    \t\t\t\t }\r\n    \t\t\t }else{\r\n    \t\t\t\t System.out.println(&quot;***&quot;);\r\n    \t\t\t\t a2[j]=a1[i];\r\n    \t\t\t }\r\n    \t\t\t \r\n    \t\t\t j++;\r\n    \t\t }\r\n    \t\t \r\n    \t\t return a2;\r\n    \t }\r\n    \t\r\n    \t\r\n    \tpublic static void add(int []a,int p,int key,int l){\r\n    \t\t\r\n    \t\tfor(int i=l-1;i&gt;p;i--){\r\n    \t\t\t  a[i]= a[i-1];\r\n    \t\t}\r\n    \t\ta[p]= key;\r\n    \t}\r\n\r\nDoes anyone have any ideas on how to fix this?  I used following data to run the code:\r\n\r\n    int a1[]= new int[]{-1,0,7,8};\r\n    int a2[]= new int[7];\r\n    a2[0]=1;\r\n    a2[1]=3;\r\n    a2[2]=9;\r\n\r\nOutput is\r\n\r\n    l1 =4 l2=7\r\n    es= 3\r\n    fs = 4\r\n    -1\r\n    0\r\n    1\r\n    3\r\n    9\r\n    0\r\n    0","title":"Merging two arrays without using extra space","body":"<p>I have 2 sorted arrays, <code>a1</code> and <code>a2</code>, of lengths <code>l1</code> and <code>l2</code>, respectively.  The array <code>a2</code> has empty space at the end of length <code>l1</code>, so it can hold all of the elements of <code>a1</code> in addition to its own elements.  Now, I want to merge <code>a1</code> into <code>a2</code> so that <code>a2</code> will contain all the elements of <code>a1</code> and <code>a2</code> in sorted order.  Ideally this should use O(1) auxiliary storage space.  I have the following cod,e but something is going wrong:</p>\n\n<pre><code> public static int[] merge(int []a1,int a2[],int l1, int l2){\n\n         System.out.println(\"l1 =\" +l1 + \" l2=\" +l2);\n         int es = l2-l1;\n         int fs = l2-es;\n\n         System.out.println(\"es= \" +es);\n         System.out.println(\"fs = \" + fs);\n         int j=0;\n\n         for(int i=0;i&lt; l1;i++){\n\n             if(j&lt;fs){\n                // System.out.println(\"i= \" + i + \"a1[i]=\" + a1[i]);\n                // System.out.println(\"j= \" + j + \"a2[j]=\" + a2[j]);\n                 if(a1[i]&lt;a2[j]){\n                     add(a2,j,a1[i],l2);\n                     //i++;\n                     fs++;\n                 }\n             }else{\n                 System.out.println(\"***\");\n                 a2[j]=a1[i];\n             }\n\n             j++;\n         }\n\n         return a2;\n     }\n\n\n    public static void add(int []a,int p,int key,int l){\n\n        for(int i=l-1;i&gt;p;i--){\n              a[i]= a[i-1];\n        }\n        a[p]= key;\n    }\n</code></pre>\n\n<p>Does anyone have any ideas on how to fix this?  I used following data to run the code:</p>\n\n<pre><code>int a1[]= new int[]{-1,0,7,8};\nint a2[]= new int[7];\na2[0]=1;\na2[1]=3;\na2[2]=9;\n</code></pre>\n\n<p>Output is</p>\n\n<pre><code>l1 =4 l2=7\nes= 3\nfs = 4\n-1\n0\n1\n3\n9\n0\n0\n</code></pre>\n"},{"tags":["java","mouseevent","mouselistener","gobject"],"answers":[{"tags":[],"owner":{"account_id":20761282,"reputation":109,"user_id":16922297,"display_name":"user112167"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654719059,"creation_date":1654719059,"answer_id":72551657,"question_id":72549104,"body_markdown":"I figured it out. Mouselisteners must be added to the mouseMoved method, and another method must be created for the mouselistener itself. \r\n```\r\n// TODO: comment this program\r\n\r\nimport acm.graphics.*;     // GOval, GRect, etc.\r\nimport acm.program.*;      // GraphicsProgram\r\nimport acm.util.*;         // RandomGenerator\r\nimport java.awt.*;         // Color\r\nimport java.awt.event.*;   // MouseEvent\r\n\r\npublic class Breakout extends BreakoutProgram {\r\n    private GRect paddle;\r\n    \r\n\tpublic void run() {\r\n\t\t// Set the window&#39;s title bar text\r\n\t\tsetTitle(&quot;CS 106A Breakout&quot;);\r\n\r\n\t\t// Set the canvas size.  In your code, remember to ALWAYS use getWidth()\r\n\t\t// and getHeight() to get the screen dimensions, not these constants!\r\n\t\tsetCanvasSize(CANVAS_WIDTH, CANVAS_HEIGHT);\r\n\t\t\r\n\t\t// TODO: finish this program\r\n\t\tbrickBuilder();\r\n\t\tbuildPaddle();\r\n\r\n\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t//This method creates the bricks in the program. It will also set the color for the bricks. \r\n    //Input: The constants for brick columns,brick width,brick separation, brick y offset, brick height,brick columns and brick rows\r\n    //Output: The brick display\r\n    private void brickBuilder() {\r\n        int i=0;//i will count columns\r\n        int j=-1;//j will count rows, set to -1 or the color display will break as well as y-coordinate\r\n        while(j&lt;(NBRICK_ROWS-1)) {\r\n            j++;\r\n            i-=i;//i must reset or while loop will only execute once for columns\r\n            double x_coordinate = getWidth()/2-(NBRICK_COLUMNS*BRICK_WIDTH+((NBRICK_COLUMNS-1)*BRICK_SEP))/2;\r\n            double y_coordinate = BRICK_Y_OFFSET;\r\n            y_coordinate +=j*(BRICK_HEIGHT+BRICK_SEP);\r\n            while(i&lt;NBRICK_COLUMNS) {\r\n                i++;\r\n                x_coordinate +=(BRICK_WIDTH+BRICK_SEP);\r\n                GRect brickWall = new GRect(x_coordinate,y_coordinate,BRICK_WIDTH,BRICK_HEIGHT);\r\n                brickWall.setFilled(true);\r\n                switch((j+1)%10) {//switch will set the color, uses remainder to decide color of brick\r\n                case 1:\r\n                    brickWall.setFillColor(Color.RED);\r\n                    break;\r\n                case 2:\r\n                    brickWall.setFillColor(Color.RED);\r\n                    break;\r\n                case 3:\r\n                    brickWall.setFillColor(Color.ORANGE);\r\n                    break;\r\n                case 4:\r\n                    brickWall.setFillColor(Color.ORANGE);\r\n                    break;\r\n                case 5:\r\n                    brickWall.setFillColor(Color.YELLOW);\r\n                    break;\r\n                case 6:\r\n                    brickWall.setFillColor(Color.YELLOW);\r\n                    break;\r\n                case 7:\r\n                    brickWall.setFillColor(Color.GREEN);\r\n                    break;\r\n                case 8:\r\n                    brickWall.setFillColor(Color.GREEN);\r\n                    break;\r\n                case 9:\r\n                    brickWall.setFillColor(Color.CYAN);\r\n                    break;\r\n                case 0:\r\n                    brickWall.setFillColor(Color.CYAN);\r\n                    break;\r\n                }\r\n                add(brickWall);\r\n                }\r\n        \r\n}\r\n        }\r\n\r\n    private void buildPaddle() {\r\n    paddle = new GRect(0, getHeight()-PADDLE_Y_OFFSET, PADDLE_WIDTH, PADDLE_HEIGHT);\r\n    paddle.setFilled(true);\r\n    add(paddle);\r\n    addMouseListeners();\r\n    }\r\n    \r\n    public void mouseMoved(MouseEvent e) {\r\n       paddle.setLocation(e.getX(), getHeight()-PADDLE_Y_OFFSET);\r\n    }\r\n    \r\n    \r\n    \r\n}\r\n```\r\n\r\nI looked at https://github.com/NatashaTheRobot/Stanford-CS-106A since I was completely stumped, and learned the new setLocation method.  ","title":"Issues with moving a GObject in Java","body":"<p>I figured it out. Mouselisteners must be added to the mouseMoved method, and another method must be created for the mouselistener itself.</p>\n<pre><code>// TODO: comment this program\n\nimport acm.graphics.*;     // GOval, GRect, etc.\nimport acm.program.*;      // GraphicsProgram\nimport acm.util.*;         // RandomGenerator\nimport java.awt.*;         // Color\nimport java.awt.event.*;   // MouseEvent\n\npublic class Breakout extends BreakoutProgram {\n    private GRect paddle;\n    \n    public void run() {\n        // Set the window's title bar text\n        setTitle(&quot;CS 106A Breakout&quot;);\n\n        // Set the canvas size.  In your code, remember to ALWAYS use getWidth()\n        // and getHeight() to get the screen dimensions, not these constants!\n        setCanvasSize(CANVAS_WIDTH, CANVAS_HEIGHT);\n        \n        // TODO: finish this program\n        brickBuilder();\n        buildPaddle();\n\n\n    }\n    \n    \n    \n    //This method creates the bricks in the program. It will also set the color for the bricks. \n    //Input: The constants for brick columns,brick width,brick separation, brick y offset, brick height,brick columns and brick rows\n    //Output: The brick display\n    private void brickBuilder() {\n        int i=0;//i will count columns\n        int j=-1;//j will count rows, set to -1 or the color display will break as well as y-coordinate\n        while(j&lt;(NBRICK_ROWS-1)) {\n            j++;\n            i-=i;//i must reset or while loop will only execute once for columns\n            double x_coordinate = getWidth()/2-(NBRICK_COLUMNS*BRICK_WIDTH+((NBRICK_COLUMNS-1)*BRICK_SEP))/2;\n            double y_coordinate = BRICK_Y_OFFSET;\n            y_coordinate +=j*(BRICK_HEIGHT+BRICK_SEP);\n            while(i&lt;NBRICK_COLUMNS) {\n                i++;\n                x_coordinate +=(BRICK_WIDTH+BRICK_SEP);\n                GRect brickWall = new GRect(x_coordinate,y_coordinate,BRICK_WIDTH,BRICK_HEIGHT);\n                brickWall.setFilled(true);\n                switch((j+1)%10) {//switch will set the color, uses remainder to decide color of brick\n                case 1:\n                    brickWall.setFillColor(Color.RED);\n                    break;\n                case 2:\n                    brickWall.setFillColor(Color.RED);\n                    break;\n                case 3:\n                    brickWall.setFillColor(Color.ORANGE);\n                    break;\n                case 4:\n                    brickWall.setFillColor(Color.ORANGE);\n                    break;\n                case 5:\n                    brickWall.setFillColor(Color.YELLOW);\n                    break;\n                case 6:\n                    brickWall.setFillColor(Color.YELLOW);\n                    break;\n                case 7:\n                    brickWall.setFillColor(Color.GREEN);\n                    break;\n                case 8:\n                    brickWall.setFillColor(Color.GREEN);\n                    break;\n                case 9:\n                    brickWall.setFillColor(Color.CYAN);\n                    break;\n                case 0:\n                    brickWall.setFillColor(Color.CYAN);\n                    break;\n                }\n                add(brickWall);\n                }\n        \n}\n        }\n\n    private void buildPaddle() {\n    paddle = new GRect(0, getHeight()-PADDLE_Y_OFFSET, PADDLE_WIDTH, PADDLE_HEIGHT);\n    paddle.setFilled(true);\n    add(paddle);\n    addMouseListeners();\n    }\n    \n    public void mouseMoved(MouseEvent e) {\n       paddle.setLocation(e.getX(), getHeight()-PADDLE_Y_OFFSET);\n    }\n    \n    \n    \n}\n</code></pre>\n<p>I looked at <a href=\"https://github.com/NatashaTheRobot/Stanford-CS-106A\" rel=\"nofollow noreferrer\">https://github.com/NatashaTheRobot/Stanford-CS-106A</a> since I was completely stumped, and learned the new setLocation method.</p>\n"}],"owner":{"account_id":20761282,"reputation":109,"user_id":16922297,"display_name":"user112167"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654719059,"creation_date":1654705229,"question_id":72549104,"body_markdown":"I have a rectangular GObject I want to follow my mouse across a screen. It is currently leaving a black line if moved across since the program does not remove any of the previous rectangles. The code is as follows \r\n\r\n```\r\n// TODO: comment this program\r\n\r\nimport acm.graphics.*;     // GOval, GRect, etc.\r\nimport acm.program.*;      // GraphicsProgram\r\nimport acm.util.*;         // RandomGenerator\r\nimport java.awt.*;         // Color\r\nimport java.awt.event.*;   // MouseEvent\r\n\r\npublic class Breakout extends BreakoutProgram {\r\n\r\n\tpublic void run() {\r\n\r\n\t\t// Set the canvas size.  In your code, remember to ALWAYS use getWidth()\r\n\t\t// and getHeight() to get the screen dimensions, not these constants!\r\n\t\tsetCanvasSize(CANVAS_WIDTH, CANVAS_HEIGHT);\r\n\t\t\r\n\t\t// TODO: finish this program\r\n\t\tbrickBuilder();\r\n\r\n\r\n\t}\r\n\t\r\n\t//This method creates the bricks in the program. It will also set the color for the bricks. \r\n\t//Input: The constants for brick columns,brick width,brick separation, brick y offset, brick height,brick columns and brick rows\r\n\t//Output: The brick display\r\n\tprivate void brickBuilder() {\r\n\t\tint i=0;//i will count columns\r\n\t\tint j=-1;//j will count rows, set to -1 or the color display will break as well as y-coordinate\r\n\t\twhile(j&lt;(NBRICK_ROWS-1)) {\r\n\t\t\tj++;\r\n\t\t\ti-=i;//i must reset or while loop will only execute once for columns\r\n\t\t\tdouble x_coordinate = getWidth()/2-(NBRICK_COLUMNS*BRICK_WIDTH+((NBRICK_COLUMNS-1)*BRICK_SEP))/2;\r\n\t\t\tdouble y_coordinate = BRICK_Y_OFFSET;\r\n\t\t\ty_coordinate +=j*(BRICK_HEIGHT+BRICK_SEP);\r\n\t\t\twhile(i&lt;NBRICK_COLUMNS) {\r\n\t\t\t\ti++;\r\n\t\t\t\tx_coordinate +=(BRICK_WIDTH+BRICK_SEP);\r\n\t\t\t\tGRect brickWall = new GRect(x_coordinate,y_coordinate,BRICK_WIDTH,BRICK_HEIGHT);\r\n\t\t\t\tbrickWall.setFilled(true);\r\n\t\t\t\tswitch((j+1)%10) {//switch will set the color, uses remainder to decide color of brick\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tbrickWall.setFillColor(Color.RED);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tbrickWall.setFillColor(Color.RED);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tbrickWall.setFillColor(Color.ORANGE);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\tbrickWall.setFillColor(Color.ORANGE);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\tbrickWall.setFillColor(Color.YELLOW);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\tbrickWall.setFillColor(Color.YELLOW);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 7:\r\n\t\t\t\t\tbrickWall.setFillColor(Color.GREEN);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\tbrickWall.setFillColor(Color.GREEN);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 9:\r\n\t\t\t\t\tbrickWall.setFillColor(Color.CYAN);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tbrickWall.setFillColor(Color.CYAN);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tadd(brickWall);\r\n\t\t\t\t}\r\n\t\t\r\n}\r\n\t\t}\r\n\t\r\n\tpublic void mouseMoved(MouseEvent e) {\r\n\t\tGRect paddle = new GRect(e.getX(), getHeight()-PADDLE_Y_OFFSET, PADDLE_WIDTH, PADDLE_HEIGHT);\r\n\t\tpaddle.setFilled(true);\r\n\t\tadd(paddle);\r\n\r\n\t}\r\n\t\r\n\tpublic void init() {\r\n\t\taddMouseListeners();\r\n\t\t\r\n\t}\r\n}\r\n```\r\nWhere am I going wrong? The issue is with the mousemoved and init classes as far as I can tell. ","title":"Issues with moving a GObject in Java","body":"<p>I have a rectangular GObject I want to follow my mouse across a screen. It is currently leaving a black line if moved across since the program does not remove any of the previous rectangles. The code is as follows</p>\n<pre><code>// TODO: comment this program\n\nimport acm.graphics.*;     // GOval, GRect, etc.\nimport acm.program.*;      // GraphicsProgram\nimport acm.util.*;         // RandomGenerator\nimport java.awt.*;         // Color\nimport java.awt.event.*;   // MouseEvent\n\npublic class Breakout extends BreakoutProgram {\n\n    public void run() {\n\n        // Set the canvas size.  In your code, remember to ALWAYS use getWidth()\n        // and getHeight() to get the screen dimensions, not these constants!\n        setCanvasSize(CANVAS_WIDTH, CANVAS_HEIGHT);\n        \n        // TODO: finish this program\n        brickBuilder();\n\n\n    }\n    \n    //This method creates the bricks in the program. It will also set the color for the bricks. \n    //Input: The constants for brick columns,brick width,brick separation, brick y offset, brick height,brick columns and brick rows\n    //Output: The brick display\n    private void brickBuilder() {\n        int i=0;//i will count columns\n        int j=-1;//j will count rows, set to -1 or the color display will break as well as y-coordinate\n        while(j&lt;(NBRICK_ROWS-1)) {\n            j++;\n            i-=i;//i must reset or while loop will only execute once for columns\n            double x_coordinate = getWidth()/2-(NBRICK_COLUMNS*BRICK_WIDTH+((NBRICK_COLUMNS-1)*BRICK_SEP))/2;\n            double y_coordinate = BRICK_Y_OFFSET;\n            y_coordinate +=j*(BRICK_HEIGHT+BRICK_SEP);\n            while(i&lt;NBRICK_COLUMNS) {\n                i++;\n                x_coordinate +=(BRICK_WIDTH+BRICK_SEP);\n                GRect brickWall = new GRect(x_coordinate,y_coordinate,BRICK_WIDTH,BRICK_HEIGHT);\n                brickWall.setFilled(true);\n                switch((j+1)%10) {//switch will set the color, uses remainder to decide color of brick\n                case 1:\n                    brickWall.setFillColor(Color.RED);\n                    break;\n                case 2:\n                    brickWall.setFillColor(Color.RED);\n                    break;\n                case 3:\n                    brickWall.setFillColor(Color.ORANGE);\n                    break;\n                case 4:\n                    brickWall.setFillColor(Color.ORANGE);\n                    break;\n                case 5:\n                    brickWall.setFillColor(Color.YELLOW);\n                    break;\n                case 6:\n                    brickWall.setFillColor(Color.YELLOW);\n                    break;\n                case 7:\n                    brickWall.setFillColor(Color.GREEN);\n                    break;\n                case 8:\n                    brickWall.setFillColor(Color.GREEN);\n                    break;\n                case 9:\n                    brickWall.setFillColor(Color.CYAN);\n                    break;\n                case 0:\n                    brickWall.setFillColor(Color.CYAN);\n                    break;\n                }\n                add(brickWall);\n                }\n        \n}\n        }\n    \n    public void mouseMoved(MouseEvent e) {\n        GRect paddle = new GRect(e.getX(), getHeight()-PADDLE_Y_OFFSET, PADDLE_WIDTH, PADDLE_HEIGHT);\n        paddle.setFilled(true);\n        add(paddle);\n\n    }\n    \n    public void init() {\n        addMouseListeners();\n        \n    }\n}\n</code></pre>\n<p>Where am I going wrong? The issue is with the mousemoved and init classes as far as I can tell.</p>\n"},{"tags":["java","arrays","set","hashset"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1614867899,"post_id":66476875,"comment_id":117520960,"body_markdown":"Hint: if you are supposed to merge the arrays without using extra space, then you cannot use a `HashSet` or a `TreeSet`.  Or *any other data structures* other than the input arrays and the output array.","body":"Hint: if you are supposed to merge the arrays without using extra space, then you cannot use a <code>HashSet</code> or a <code>TreeSet</code>.  Or <i>any other data structures</i> other than the input arrays and the output array."},{"owner":{"account_id":550722,"reputation":4460,"user_id":906265,"display_name":"Ivar"},"score":2,"creation_date":1614867907,"post_id":66476875,"comment_id":117520970,"body_markdown":"Does this answer your question? [Merge two sorted arrays in java](https://stackoverflow.com/questions/53365303/merge-two-sorted-arrays-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53365303/merge-two-sorted-arrays-in-java\">Merge two sorted arrays in java</a>"},{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":1,"creation_date":1614868381,"post_id":66476875,"comment_id":117521238,"body_markdown":"Just use `TreeSet` in place of`HashSet`.  Iterating over the `TreeSet` will return the data in ascending sorted order.","body":"Just use <code>TreeSet</code> in place of<code>HashSet</code>.  Iterating over the <code>TreeSet</code> will return the data in ascending sorted order."},{"owner":{"account_id":19148358,"reputation":55,"user_id":13986797,"display_name":"Avinash Kumar"},"score":0,"creation_date":1615005029,"post_id":66476875,"comment_id":117564618,"body_markdown":"I have tried using the TreeSet too but the output is same..Is there any chance that due to compiler it&#39;s not showing correct output.","body":"I have tried using the TreeSet too but the output is same..Is there any chance that due to compiler it&#39;s not showing correct output."}],"answers":[{"tags":[],"owner":{"account_id":19101969,"reputation":23,"user_id":16420465,"display_name":"Siddharth Upadhyay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654718889,"creation_date":1654718889,"answer_id":72551632,"question_id":66476875,"body_markdown":"A much faster, and shorter approach is by using a Heap.\r\nCheck this out:\r\n```\r\npublic static void merge(long arr1[], long arr2[], int n, int m) \r\n    {\r\n        PriorityQueue&lt;Long&gt; pq=new PriorityQueue&lt;&gt;();\r\n        for(int i=0; i&lt;n; i++){\r\n            pq.add(arr1[i]);\r\n        }\r\n        for(int j=0; j&lt;m; j++){\r\n            pq.add(arr2[j]);\r\n        }\r\n        for(int k=0; k&lt;n; k++){\r\n            arr1[k]=pq.poll();\r\n        }\r\n        for(int l=0; l&lt;m; l++){\r\n            arr2[l]=pq.poll();\r\n        }\r\n    }\r\n```","title":"Merge two arrays in java without using extra space","body":"<p>A much faster, and shorter approach is by using a Heap.\nCheck this out:</p>\n<pre><code>public static void merge(long arr1[], long arr2[], int n, int m) \n    {\n        PriorityQueue&lt;Long&gt; pq=new PriorityQueue&lt;&gt;();\n        for(int i=0; i&lt;n; i++){\n            pq.add(arr1[i]);\n        }\n        for(int j=0; j&lt;m; j++){\n            pq.add(arr2[j]);\n        }\n        for(int k=0; k&lt;n; k++){\n            arr1[k]=pq.poll();\n        }\n        for(int l=0; l&lt;m; l++){\n            arr2[l]=pq.poll();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":19148358,"reputation":55,"user_id":13986797,"display_name":"Avinash Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654718889,"creation_date":1614867555,"question_id":66476875,"body_markdown":"I have used Set to merge the array as it doesn&#39;t contain the duplicate value. I have tried it but after printing the hash set it must be in increasing order but it&#39;s not. please help me out    \r\n\r\n```java\r\npublic void merge(int arr1[], int arr2[], int n, int m) {\r\n    // code here\r\n    int i, j;\r\n    Arrays.sort(arr1);\r\n    Arrays.sort(arr2);\r\n    Set&lt;Integer&gt; hs = new HashSet&lt;&gt;();\r\n\r\n    for (i = 0; i &lt; n; i++) {\r\n        hs.add(arr1[i]);\r\n    }\r\n    for (j = 0; j &lt; m; j++) {\r\n        hs.add(arr2[j]);\r\n    }\r\n    Set&lt;Integer&gt; h = new TreeSet&lt;Integer&gt;(hs);\r\n    /* List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(hs);\r\n    Collections.sort(list);\r\n    Object[] a = list.toArray();\r\n    Arrays.sort(a);\r\n    for (i = 0; i &lt; a.length; i++) {\r\n        System.out.print(a[i] + &quot; &quot;);\r\n    }\r\n    System.out.println();\r\n    */ //System.out.println(list);\r\n}\r\n```\r\n\r\n\r\nplease tell me how to correct this code and get the correct output\r\nthe output i&#39;m getting is not in increasing order","title":"Merge two arrays in java without using extra space","body":"<p>I have used Set to merge the array as it doesn't contain the duplicate value. I have tried it but after printing the hash set it must be in increasing order but it's not. please help me out</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void merge(int arr1[], int arr2[], int n, int m) {\n    // code here\n    int i, j;\n    Arrays.sort(arr1);\n    Arrays.sort(arr2);\n    Set&lt;Integer&gt; hs = new HashSet&lt;&gt;();\n\n    for (i = 0; i &lt; n; i++) {\n        hs.add(arr1[i]);\n    }\n    for (j = 0; j &lt; m; j++) {\n        hs.add(arr2[j]);\n    }\n    Set&lt;Integer&gt; h = new TreeSet&lt;Integer&gt;(hs);\n    /* List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(hs);\n    Collections.sort(list);\n    Object[] a = list.toArray();\n    Arrays.sort(a);\n    for (i = 0; i &lt; a.length; i++) {\n        System.out.print(a[i] + &quot; &quot;);\n    }\n    System.out.println();\n    */ //System.out.println(list);\n}\n</code></pre>\n<p>please tell me how to correct this code and get the correct output\nthe output i'm getting is not in increasing order</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1631340141,"post_id":69140156,"comment_id":122200409,"body_markdown":"If this was possible, it would seem like a security bug...","body":"If this was possible, it would seem like a security bug..."},{"owner":{"account_id":22622371,"reputation":83,"user_id":16810669,"display_name":"Arthur Rodrigues"},"score":0,"creation_date":1631340668,"post_id":69140156,"comment_id":122200473,"body_markdown":"Hello! I think that is not a bug because several apps in Play Store use it. Search for Auto Clicker in Play Store.","body":"Hello! I think that is not a bug because several apps in Play Store use it. Search for Auto Clicker in Play Store."}],"answers":[{"tags":[],"owner":{"account_id":18904088,"reputation":117,"user_id":13791565,"display_name":"Vaibhav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1631341850,"creation_date":1631341310,"answer_id":69140564,"question_id":69140156,"body_markdown":"If you are trying to click a button programmatically, try using\r\n\r\n```\r\nprivate Button button;\r\nbutton = (Button) findViewById(R.id.button2);\r\nbutton.performClick();\r\n```\r\n\r\nTo make it work when you exit the app, create a [service][1].\r\n```\r\npublic class BackgroundService extends Service {\r\n  \r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n  \r\n        // code to be executed at the start of the service\r\n        return START_STICKY;\r\n    }\r\n  \r\n    @Override\r\n  \r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n  \r\n        // stop the process at the stop of the service\r\n    }\r\n  \r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nThen, inside the Activity.java\r\n```\r\nstartService(new Intent(this, BackgroundService.class)); // to start the service\r\n\r\nstopService(new Intent(this, BackgroundService.class)); // to stop the service\r\n```\r\n\r\nHope this helps!\r\n\r\n  [1]: https://developer.android.com/guide/components/services","title":"How to click over other apps in Android?","body":"<p>If you are trying to click a button programmatically, try using</p>\n<pre><code>private Button button;\nbutton = (Button) findViewById(R.id.button2);\nbutton.performClick();\n</code></pre>\n<p>To make it work when you exit the app, create a <a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">service</a>.</p>\n<pre><code>public class BackgroundService extends Service {\n  \n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n  \n        // code to be executed at the start of the service\n        return START_STICKY;\n    }\n  \n    @Override\n  \n    public void onDestroy() {\n        super.onDestroy();\n  \n        // stop the process at the stop of the service\n    }\n  \n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n}\n</code></pre>\n<p>Then, inside the Activity.java</p>\n<pre><code>startService(new Intent(this, BackgroundService.class)); // to start the service\n\nstopService(new Intent(this, BackgroundService.class)); // to stop the service\n</code></pre>\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":22622371,"reputation":83,"user_id":16810669,"display_name":"Arthur Rodrigues"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1631518614,"creation_date":1631518614,"answer_id":69158909,"question_id":69140156,"body_markdown":"After a few tries, I finally got it. Thanks to [@Vaibhav](https://stackoverflow.com/users/13791565/vaibhav) who advised me for a great link in the comments. Also, I sent an email to the company [Macrorify KoK-CODE](https://www.kok-emm.com/) and they helped me understand how an auto clicker works. Thanks! =)\r\n\r\nI&#39;ll leave the initial solution I found here (just single click) . I&#39;m a beginner, so maybe I did something unnecessary.\r\n\r\nThe solution is to use [dispatchGesture](https://developer.android.com/reference/android/accessibilityservice/AccessibilityService#dispatchGesture(android.accessibilityservice.GestureDescription,%20android.accessibilityservice.AccessibilityService.GestureResultCallback,%20android.os.Handler)) method.\r\n\r\nFirst you create a directory (I called it xml) and a file like config_accessibility_service.xml and add:\r\n\r\n    &lt;accessibility-service\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:accessibilityEventTypes=&quot;typeAllMask&quot;\r\n        android:accessibilityFeedbackType=&quot;feedbackGeneric&quot;\r\n        android:accessibilityFlags=&quot;flagDefault&quot;\r\n        android:canPerformGestures=&quot;true&quot;\r\n        android:description=&quot;@string/accessibility_service_description&quot;/&gt;\r\n\r\nAnd modify AndroidManifest.xml with BIND_ACCESSIBILITY_SERVICE permission:\r\n\r\n        &lt;service\r\n            android:name=&quot;.AutoClickService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:label=&quot;@string/accessibility_service_name&quot;\r\n            android:permission=&quot;android.permission.BIND_ACCESSIBILITY_SERVICE&quot;\r\n            android:exported=&quot;@string/accessibility_service_name&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.accessibilityservice.AccessibilityService&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.accessibilityservice&quot;\r\n                android:resource=&quot;@xml/config_accessibility_service&quot;/&gt;\r\n        &lt;/service&gt;\r\n\r\nMy AutoClickService class:\r\n\r\n    public class AutoClickService extends AccessibilityService {\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n    }\r\n\r\n\r\n    //apparently this method is called every time a event occurs\r\n    @Override\r\n    public void onAccessibilityEvent(AccessibilityEvent accessibilityEvent) {\r\n        System.out.println(&quot;access event&quot;);\r\n        //autoClick(2000, 100, 950, 581);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onServiceConnected() {\r\n        super.onServiceConnected();\r\n        autoClick(2000, 100, 950, 581);\r\n    }\r\n\r\n    @Override\r\n    public void onInterrupt() {\r\n\r\n    }\r\n\r\n    public void autoClick(int startTimeMs, int durationMs, int x, int y) {\r\n        boolean isCalled = dispatchGesture(gestureDescription(startTimeMs, durationMs, x, y), null, null);\r\n        System.out.println(isCalled);\r\n    }\r\n\r\n    public GestureDescription gestureDescription(int startTimeMs, int durationMs, int x, int y) {\r\n        Path path = new Path();\r\n        path.moveTo(x, y);\r\n        return createGestureDescription(new GestureDescription.StrokeDescription(path, startTimeMs, durationMs));\r\n    }\r\n\r\n    public GestureDescription createGestureDescription(GestureDescription.StrokeDescription... strokes) {\r\n        GestureDescription.Builder builder = new GestureDescription.Builder();\r\n        for (GestureDescription.StrokeDescription stroke : strokes) {\r\n            builder.addStroke(stroke);\r\n        }\r\n        return builder.build();\r\n    }\r\n}\r\n\r\nFinally you can verify user permission and run the service in MainActivity with:\r\n\r\n    public void checkAccessibilityServicePermission() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            int access = 0;\r\n            try{\r\n                access = Settings.Secure.getInt(this.getContentResolver(), android.provider.Settings.Secure.ACCESSIBILITY_ENABLED);\r\n            } catch (Settings.SettingNotFoundException e){\r\n                e.printStackTrace();\r\n                //put a Toast\r\n            }\r\n            if (access == 0) {\r\n                Intent myIntent = new Intent(Settings.ACTION_ACCESSIBILITY_SETTINGS);\r\n                myIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                startActivity(myIntent);\r\n            }\r\n        }\r\n    }","title":"How to click over other apps in Android?","body":"<p>After a few tries, I finally got it. Thanks to <a href=\"https://stackoverflow.com/users/13791565/vaibhav\">@Vaibhav</a> who advised me for a great link in the comments. Also, I sent an email to the company <a href=\"https://www.kok-emm.com/\" rel=\"nofollow noreferrer\">Macrorify KoK-CODE</a> and they helped me understand how an auto clicker works. Thanks! =)</p>\n<p>I'll leave the initial solution I found here (just single click) . I'm a beginner, so maybe I did something unnecessary.</p>\n<p>The solution is to use <a href=\"https://developer.android.com/reference/android/accessibilityservice/AccessibilityService#dispatchGesture(android.accessibilityservice.GestureDescription,%20android.accessibilityservice.AccessibilityService.GestureResultCallback,%20android.os.Handler)\" rel=\"nofollow noreferrer\">dispatchGesture</a> method.</p>\n<p>First you create a directory (I called it xml) and a file like config_accessibility_service.xml and add:</p>\n<pre><code>&lt;accessibility-service\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:accessibilityEventTypes=&quot;typeAllMask&quot;\n    android:accessibilityFeedbackType=&quot;feedbackGeneric&quot;\n    android:accessibilityFlags=&quot;flagDefault&quot;\n    android:canPerformGestures=&quot;true&quot;\n    android:description=&quot;@string/accessibility_service_description&quot;/&gt;\n</code></pre>\n<p>And modify AndroidManifest.xml with BIND_ACCESSIBILITY_SERVICE permission:</p>\n<pre><code>    &lt;service\n        android:name=&quot;.AutoClickService&quot;\n        android:enabled=&quot;true&quot;\n        android:label=&quot;@string/accessibility_service_name&quot;\n        android:permission=&quot;android.permission.BIND_ACCESSIBILITY_SERVICE&quot;\n        android:exported=&quot;@string/accessibility_service_name&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.accessibilityservice.AccessibilityService&quot;/&gt;\n        &lt;/intent-filter&gt;\n\n        &lt;meta-data\n            android:name=&quot;android.accessibilityservice&quot;\n            android:resource=&quot;@xml/config_accessibility_service&quot;/&gt;\n    &lt;/service&gt;\n</code></pre>\n<p>My AutoClickService class:</p>\n<pre><code>public class AutoClickService extends AccessibilityService {\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n}\n\n\n//apparently this method is called every time a event occurs\n@Override\npublic void onAccessibilityEvent(AccessibilityEvent accessibilityEvent) {\n    System.out.println(&quot;access event&quot;);\n    //autoClick(2000, 100, 950, 581);\n}\n\n\n@Override\npublic void onServiceConnected() {\n    super.onServiceConnected();\n    autoClick(2000, 100, 950, 581);\n}\n\n@Override\npublic void onInterrupt() {\n\n}\n\npublic void autoClick(int startTimeMs, int durationMs, int x, int y) {\n    boolean isCalled = dispatchGesture(gestureDescription(startTimeMs, durationMs, x, y), null, null);\n    System.out.println(isCalled);\n}\n\npublic GestureDescription gestureDescription(int startTimeMs, int durationMs, int x, int y) {\n    Path path = new Path();\n    path.moveTo(x, y);\n    return createGestureDescription(new GestureDescription.StrokeDescription(path, startTimeMs, durationMs));\n}\n\npublic GestureDescription createGestureDescription(GestureDescription.StrokeDescription... strokes) {\n    GestureDescription.Builder builder = new GestureDescription.Builder();\n    for (GestureDescription.StrokeDescription stroke : strokes) {\n        builder.addStroke(stroke);\n    }\n    return builder.build();\n}\n</code></pre>\n<p>}</p>\n<p>Finally you can verify user permission and run the service in MainActivity with:</p>\n<pre><code>public void checkAccessibilityServicePermission() {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        int access = 0;\n        try{\n            access = Settings.Secure.getInt(this.getContentResolver(), android.provider.Settings.Secure.ACCESSIBILITY_ENABLED);\n        } catch (Settings.SettingNotFoundException e){\n            e.printStackTrace();\n            //put a Toast\n        }\n        if (access == 0) {\n            Intent myIntent = new Intent(Settings.ACTION_ACCESSIBILITY_SETTINGS);\n            myIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            startActivity(myIntent);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22622371,"reputation":83,"user_id":16810669,"display_name":"Arthur Rodrigues"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69158909,"answer_count":2,"score":1,"last_activity_date":1654718710,"creation_date":1631336781,"question_id":69140156,"body_markdown":"I&#39;ve been researching for the past few days about how to create an auto clicker for Android, but I haven&#39;t found any solution. I would like to do it rootless, as many Play Store related apps do.\r\n\r\nThis code allows me to programmatically command a click, but it doesn&#39;t work when I exit the app:\r\n\r\n    final Handler handler = new Handler();\r\n        handler.postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Process p;\r\n                StringBuffer output = new StringBuffer();\r\n                try {\r\n                    p = Runtime.getRuntime().exec(&quot;input tap 950 581&quot;);\r\n                    BufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n                }\r\n                catch (IOException  e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            }\r\n        }, 5000);\r\n\r\nSorry for english.","title":"How to click over other apps in Android?","body":"<p>I've been researching for the past few days about how to create an auto clicker for Android, but I haven't found any solution. I would like to do it rootless, as many Play Store related apps do.</p>\n<p>This code allows me to programmatically command a click, but it doesn't work when I exit the app:</p>\n<pre><code>final Handler handler = new Handler();\n    handler.postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            Process p;\n            StringBuffer output = new StringBuffer();\n            try {\n                p = Runtime.getRuntime().exec(&quot;input tap 950 581&quot;);\n                BufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n            }\n            catch (IOException  e) {\n                e.printStackTrace();\n            }\n\n        }\n    }, 5000);\n</code></pre>\n<p>Sorry for english.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":3,"creation_date":1654716195,"post_id":72551116,"comment_id":128160808,"body_markdown":"Did you step through the code in your IDE debugger? What did you find?","body":"Did you step through the code in your IDE debugger? What did you find?"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1654716482,"post_id":72551116,"comment_id":128160905,"body_markdown":"Supposing height is 4, the number of asterisks goes 1,2,3,4,3,4,3,4,3,4,3,4 .... And back and forth forever. You need some check which will let you know whether you&#39;re ascending or descending.","body":"Supposing height is 4, the number of asterisks goes 1,2,3,4,3,4,3,4,3,4,3,4 .... And back and forth forever. You need some check which will let you know whether you&#39;re ascending or descending."}],"answers":[{"tags":[],"owner":{"account_id":4861607,"reputation":2168,"user_id":3921053,"accept_rate":80,"display_name":"Abhishek Garg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654716455,"creation_date":1654716455,"answer_id":72551202,"question_id":72551116,"body_markdown":"            if (iteration &lt; height) {\r\n                printTriangle(iteration + 1, height);\r\n            } else {\r\n                printTriangle(iteration - 1, height);\r\n            }\r\nThis section of code is problematic. You initially have `iteration` less than `height` and you increment it. After reaching max, you decrement once but in the next recursion you are incrementing again. You are stuck in the increment and decrement around the max. \r\n\r\nYou may want to change your if condition. \r\n","title":"Java recursion questio","body":"<pre><code>        if (iteration &lt; height) {\n            printTriangle(iteration + 1, height);\n        } else {\n            printTriangle(iteration - 1, height);\n        }\n</code></pre>\n<p>This section of code is problematic. You initially have <code>iteration</code> less than <code>height</code> and you increment it. After reaching max, you decrement once but in the next recursion you are incrementing again. You are stuck in the increment and decrement around the max.</p>\n<p>You may want to change your if condition.</p>\n"}],"owner":{"display_name":"user8672583"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72551202,"answer_count":1,"score":0,"last_activity_date":1654718554,"creation_date":1654715947,"question_id":72551116,"body_markdown":"I am trying to write a method that will print a pyramid with a height based on a height parameter with recursion. \r\n\r\nA sample output would be: \r\nprintPyramid(5);\r\n```\r\n*\r\n**\r\n***\r\n****\r\n*****\r\n****\r\n***\r\n**\r\n*\r\n```\r\n\r\nIt sends me a stack overflow error when it needs to start decrementing the number of stars back down to 1 and I can&#39;t figure out where my logic is off. It successfully increments upwards, checks if the iteration is larger than the height, and then would begin decrementing, and stops the recursion when the iteration hits zero --- but I&#39;m still getting errors.\r\n\r\n\r\n```\r\n    public static void printPyramid(int height){\r\n    \tif(height == 0) {\r\n    \t\treturn;\r\n    \t} else { \t\t\r\n    \t\tprintPyramidRow(1, height);\r\n    \t}\r\n    }\r\n    \r\n    public static void printPyramidRow(int it, int height) {\r\n    \tif(it &lt;= 0) {\r\n    \t\treturn;\r\n    \t} else {\r\n    \t\tprintRow(it);\r\n    \t\tif (it &lt; height) {\r\n\t\t\t\tprintPyramidRow(it + 1, height);\r\n    \t\t} else {\r\n    \t\t\tprintPyramidRow(it - 1, height);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    \r\n    public static void printRow(int numOfStars) {\r\n    \tfor(int i = 1; i &lt; numOfStars + 1; i++) {\r\n    \t\tif(i == numOfStars) {\r\n    \t\t\tSystem.out.println(&quot;*&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.print(&quot;*&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n```","title":"Java recursion questio","body":"<p>I am trying to write a method that will print a pyramid with a height based on a height parameter with recursion.</p>\n<p>A sample output would be:\nprintPyramid(5);</p>\n<pre><code>*\n**\n***\n****\n*****\n****\n***\n**\n*\n</code></pre>\n<p>It sends me a stack overflow error when it needs to start decrementing the number of stars back down to 1 and I can't figure out where my logic is off. It successfully increments upwards, checks if the iteration is larger than the height, and then would begin decrementing, and stops the recursion when the iteration hits zero --- but I'm still getting errors.</p>\n<pre><code>    public static void printPyramid(int height){\n        if(height == 0) {\n            return;\n        } else {        \n            printPyramidRow(1, height);\n        }\n    }\n    \n    public static void printPyramidRow(int it, int height) {\n        if(it &lt;= 0) {\n            return;\n        } else {\n            printRow(it);\n            if (it &lt; height) {\n                printPyramidRow(it + 1, height);\n            } else {\n                printPyramidRow(it - 1, height);\n            }\n        }\n    }\n    \n    \n    public static void printRow(int numOfStars) {\n        for(int i = 1; i &lt; numOfStars + 1; i++) {\n            if(i == numOfStars) {\n                System.out.println(&quot;*&quot;);\n            } else {\n                System.out.print(&quot;*&quot;);\n            }\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","android","database","android-room"],"comments":[{"owner":{"account_id":3116878,"reputation":15093,"user_id":2637449,"display_name":"Md. Asaduzzaman"},"score":0,"creation_date":1578820363,"post_id":59702389,"comment_id":105557817,"body_markdown":"Try like `db = ElectronicsDatabase.getInstance(getContext());` from your fragment","body":"Try like <code>db = ElectronicsDatabase.getInstance(getContext());</code> from your fragment"},{"owner":{"account_id":10549226,"reputation":77,"user_id":8074927,"display_name":"BiT4000"},"score":0,"creation_date":1578820541,"post_id":59702389,"comment_id":105557852,"body_markdown":"And also how to access this database from a custom ArrayAdapter class?","body":"And also how to access this database from a custom ArrayAdapter class?"},{"owner":{"account_id":2767928,"reputation":1421,"user_id":2383176,"accept_rate":89,"display_name":"javadroid"},"score":0,"creation_date":1578820905,"post_id":59702389,"comment_id":105557916,"body_markdown":"its not recommended to use access your database in your adapter, use viewModel and pass your data to adapters.","body":"its not recommended to use access your database in your adapter, use viewModel and pass your data to adapters."}],"answers":[{"tags":[],"owner":{"account_id":2767928,"reputation":1421,"user_id":2383176,"accept_rate":89,"display_name":"javadroid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1578820626,"creation_date":1578820519,"answer_id":59702430,"question_id":59702389,"body_markdown":"In your fragments you can use `getActivity()` to acccess context of your parent activity.\r\n \r\nbut i suggest you to use [viewModel][1] for accessing to your database. \r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/viewmodel","title":"How to access Room database from different fragments?","body":"<p>In your fragments you can use <code>getActivity()</code> to acccess context of your parent activity.</p>\n\n<p>but i suggest you to use <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">viewModel</a> for accessing to your database. </p>\n"},{"tags":[],"owner":{"account_id":11008075,"reputation":3079,"user_id":8086424,"accept_rate":20,"display_name":"Mena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578822511,"creation_date":1578822511,"answer_id":59702646,"question_id":59702389,"body_markdown":"In your case which is needing a Context for DB access via Room, it is better to pass a **non-UI Context** as to avoid unnecessary information being passed around for no reason leading to **possible memory leaks**.\r\n\r\nYou can get access to a non-UI Context which will be called ApplicationContext from your base activity, or your main activity. Simply like this:\r\n\r\n    Context appContext= getApplicationContext(); \r\n\r\nThen store it in a Repo class, so you can simply use it anytime you need it again anywhere without worrying about it.\r\n\r\nHowever, if you need a context for something related to drawing on the screen, like inflating an XML for example, then in that case you will need a UI Context as not to lose UI details like your theme for example. In that case you can get the context from inside  your fragment using:\r\n\r\n     getContext() Or getActivity().\r\n\r\nI won&#39;t go to further details about contexts but,\r\n\r\nif you want to learn more about what Context really is you can start from here:\r\n[https://medium.freecodecamp.org/mastering-android-context-7055c8478a22][1]\r\n\r\n\r\n  [1]: https://medium.freecodecamp.org/mastering-android-context-7055c8478a22","title":"How to access Room database from different fragments?","body":"<p>In your case which is needing a Context for DB access via Room, it is better to pass a <strong>non-UI Context</strong> as to avoid unnecessary information being passed around for no reason leading to <strong>possible memory leaks</strong>.</p>\n\n<p>You can get access to a non-UI Context which will be called ApplicationContext from your base activity, or your main activity. Simply like this:</p>\n\n<pre><code>Context appContext= getApplicationContext(); \n</code></pre>\n\n<p>Then store it in a Repo class, so you can simply use it anytime you need it again anywhere without worrying about it.</p>\n\n<p>However, if you need a context for something related to drawing on the screen, like inflating an XML for example, then in that case you will need a UI Context as not to lose UI details like your theme for example. In that case you can get the context from inside  your fragment using:</p>\n\n<pre><code> getContext() Or getActivity().\n</code></pre>\n\n<p>I won't go to further details about contexts but,</p>\n\n<p>if you want to learn more about what Context really is you can start from here:\n<a href=\"https://medium.freecodecamp.org/mastering-android-context-7055c8478a22\" rel=\"nofollow noreferrer\">https://medium.freecodecamp.org/mastering-android-context-7055c8478a22</a></p>\n"},{"tags":[],"owner":{"account_id":16395447,"reputation":86,"user_id":11843135,"display_name":"Hamza Khalifa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631805122,"creation_date":1631805122,"answer_id":69210983,"question_id":59702389,"body_markdown":"Try to use **ViewModel** to access database in any activity or Fragment\r\n\r\nViewModel is a class that is responsible for preparing and managing the data for a UI component (activity or Fragment) \r\n\r\n\r\n[![Room database ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bssVx.png","title":"How to access Room database from different fragments?","body":"<p>Try to use <strong>ViewModel</strong> to access database in any activity or Fragment</p>\n<p>ViewModel is a class that is responsible for preparing and managing the data for a UI component (activity or Fragment)</p>\n<p><a href=\"https://i.stack.imgur.com/bssVx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bssVx.png\" alt=\"Room database \" /></a></p>\n"},{"tags":[],"owner":{"account_id":21384180,"reputation":1690,"user_id":15749574,"display_name":"JustSightseeing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654718475,"creation_date":1654718475,"answer_id":72551551,"question_id":59702389,"body_markdown":"That might be a very late answer, but I believe it might help some in the future:\r\nIf you are using multiple fragments and DI, you can create a viewModel for your activity, then inject the desired value into it \r\n```kotlin\r\n@HiltViewModel\r\nclass MainActivityViewModel @Inject constructor(\r\n    private val repository: PlantsRepository\r\n): ViewModel() {\r\n    private val mutableLiveData = MutableLiveData&lt;List&lt;Plant&gt;&gt;()\r\n    val liveData: LiveData&lt;List&lt;Plant&gt;&gt; = mutableLiveData // object to observe\r\n\r\n    init {\r\n        viewModelScope.launch {\r\n            mutableLiveData.postValue(repository.getAllPlants())\r\n            fillExampleData()\r\n        }\r\n    }\r\n}\r\n```\r\n(sample for reference)\r\n\r\nthen you simply use it in your fragments:\r\n```kotlin\r\nclass FragmentExampleScreen : Fragment() {\r\n\r\n    private val sharedViewModel: MainActivityViewModel by activityViewModels()\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View {\r\n        ...\r\n\r\n        sharedViewModel.liveData.observe(viewLifecycleOwner) { idk -&gt;\r\n            Log.i(&quot;hello&quot;, idk.toString())\r\n        }\r\n        ...\r\n    }\r\n}\r\n```","title":"How to access Room database from different fragments?","body":"<p>That might be a very late answer, but I believe it might help some in the future:\nIf you are using multiple fragments and DI, you can create a viewModel for your activity, then inject the desired value into it</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@HiltViewModel\nclass MainActivityViewModel @Inject constructor(\n    private val repository: PlantsRepository\n): ViewModel() {\n    private val mutableLiveData = MutableLiveData&lt;List&lt;Plant&gt;&gt;()\n    val liveData: LiveData&lt;List&lt;Plant&gt;&gt; = mutableLiveData // object to observe\n\n    init {\n        viewModelScope.launch {\n            mutableLiveData.postValue(repository.getAllPlants())\n            fillExampleData()\n        }\n    }\n}\n</code></pre>\n<p>(sample for reference)</p>\n<p>then you simply use it in your fragments:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class FragmentExampleScreen : Fragment() {\n\n    private val sharedViewModel: MainActivityViewModel by activityViewModels()\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View {\n        ...\n\n        sharedViewModel.liveData.observe(viewLifecycleOwner) { idk -&gt;\n            Log.i(&quot;hello&quot;, idk.toString())\n        }\n        ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10549226,"reputation":77,"user_id":8074927,"display_name":"BiT4000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5166,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1654718475,"creation_date":1578820064,"question_id":59702389,"body_markdown":"In my app I have a TabLayout and each of the tabs is represented by a fragment. I have several tables in a database. And for each table I want to have a tab that would display a list of table&#39;s contents. To access a database I need to pass in a context but it&#39;s only available from the MainActivity. How to access a database instance from each fragment?\r\n\r\nHere&#39;s some code:\r\nElectronicsDatabase.java\r\n\r\n    @Database(entities = {Smartphone.class, Tablet.class,\r\n            Laptop.class, VideoGameConsole.class}, version = 1)\r\n    public abstract class ElectronicsDatabase extends RoomDatabase {\r\n    \r\n        public abstract SmartphoneDao getSmartphoneDao();\r\n        public abstract TabletDao getTabletDao();\r\n        public abstract LaptopDao getLaptopDao();\r\n        public abstract VideoGameConsoleDao getVideoGameConsoleDao();\r\n    \r\n        private static final String DB_NAME = &quot;products.db&quot;;\r\n    \r\n        private static ElectronicsDatabase db;\r\n    \r\n        public static ElectronicsDatabase getInstance(Context context)\r\n        {\r\n            if (db == null)\r\n            {\r\n                db =buildDatabaseInstance(context);\r\n            }\r\n            return db;\r\n        }\r\n    \r\n        private static ElectronicsDatabase buildDatabaseInstance(Context context)\r\n        {\r\n            return Room.databaseBuilder(context, ElectronicsDatabase.class,\r\n                    DB_NAME).allowMainThreadQueries().build();\r\n        }\r\n    }\r\n\r\nAnd in the main activity I access it like this:\r\n\r\n    db = ElectronicsDatabase\r\n                    .getInstance(getApplicationContext());","title":"How to access Room database from different fragments?","body":"<p>In my app I have a TabLayout and each of the tabs is represented by a fragment. I have several tables in a database. And for each table I want to have a tab that would display a list of table's contents. To access a database I need to pass in a context but it's only available from the MainActivity. How to access a database instance from each fragment?</p>\n\n<p>Here's some code:\nElectronicsDatabase.java</p>\n\n<pre><code>@Database(entities = {Smartphone.class, Tablet.class,\n        Laptop.class, VideoGameConsole.class}, version = 1)\npublic abstract class ElectronicsDatabase extends RoomDatabase {\n\n    public abstract SmartphoneDao getSmartphoneDao();\n    public abstract TabletDao getTabletDao();\n    public abstract LaptopDao getLaptopDao();\n    public abstract VideoGameConsoleDao getVideoGameConsoleDao();\n\n    private static final String DB_NAME = \"products.db\";\n\n    private static ElectronicsDatabase db;\n\n    public static ElectronicsDatabase getInstance(Context context)\n    {\n        if (db == null)\n        {\n            db =buildDatabaseInstance(context);\n        }\n        return db;\n    }\n\n    private static ElectronicsDatabase buildDatabaseInstance(Context context)\n    {\n        return Room.databaseBuilder(context, ElectronicsDatabase.class,\n                DB_NAME).allowMainThreadQueries().build();\n    }\n}\n</code></pre>\n\n<p>And in the main activity I access it like this:</p>\n\n<pre><code>db = ElectronicsDatabase\n                .getInstance(getApplicationContext());\n</code></pre>\n"},{"tags":["java","optaplanner","vehicle-routing"],"answers":[{"tags":[],"owner":{"account_id":6729535,"reputation":1878,"user_id":5682512,"accept_rate":73,"display_name":"k88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654718356,"creation_date":1654718356,"answer_id":72551531,"question_id":72489020,"body_markdown":"Yes, you can. If you look into the TSP or VRP example, you&#39;d note that a Depot and Customer are a different type, but they share the same interface. This allows them to be chained together to form a route. \r\n\r\n\r\nTo allow for variable service duration, all you have to do is to check the type of the planning entity and the previous planning entity to see if it is the first depot or not. ","title":"Optaplanner CVRPTWPD: Is it possible to have variable service duration depending on tour state?","body":"<p>Yes, you can. If you look into the TSP or VRP example, you'd note that a Depot and Customer are a different type, but they share the same interface. This allows them to be chained together to form a route.</p>\n<p>To allow for variable service duration, all you have to do is to check the type of the planning entity and the previous planning entity to see if it is the first depot or not.</p>\n"}],"owner":{"account_id":5972477,"reputation":33,"user_id":4694424,"display_name":"johnson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72551531,"answer_count":1,"score":0,"last_activity_date":1654718356,"creation_date":1654256139,"question_id":72489020,"body_markdown":"I&#39;m currently looking into Optaplanner to solve a CVRPTWPD (Capacitated vehicle routing problem with time windows and pickup and delivery). At each location I have to perform a service (loading or unloading of shipments) which takes time. \\\r\nI want to model the depot as **n** locations (if there are **n** customer locations), so each customer location has corresponding depot location for the modelling of pickup and delivery.\\\r\n\\\r\nThe problem I face is the following: \\\r\nIf the vehicle starts at the depot, I do not want to take any time for loading or unloading into account (simulating that the transporter is already loaded with the planned shipments in the morning), but if the vehicle returns to the depot (in this case one or more of the n depot locations) to pick up additional shipments and leaves the depot again afterwards (meaning the next location is a customer location), I want to take the time for loading and unloading into account. \\\r\nMy question is the following: \\\r\nIs it possible for Optaplanner to have variable service duration during optimization run time? I would add a checker which check whether before the index of the depot location in the state of the tour there is a customer location planned before this index and add service duration in this case, because this means that a customer stop was already visited and the transporter is returning to the depot (and therefore service time is needed). \r\n\r\nI hope I described everything clearly. Thank you for your help!","title":"Optaplanner CVRPTWPD: Is it possible to have variable service duration depending on tour state?","body":"<p>I'm currently looking into Optaplanner to solve a CVRPTWPD (Capacitated vehicle routing problem with time windows and pickup and delivery). At each location I have to perform a service (loading or unloading of shipments) which takes time. <br />\nI want to model the depot as <strong>n</strong> locations (if there are <strong>n</strong> customer locations), so each customer location has corresponding depot location for the modelling of pickup and delivery.<br />\n<br />\nThe problem I face is the following: <br />\nIf the vehicle starts at the depot, I do not want to take any time for loading or unloading into account (simulating that the transporter is already loaded with the planned shipments in the morning), but if the vehicle returns to the depot (in this case one or more of the n depot locations) to pick up additional shipments and leaves the depot again afterwards (meaning the next location is a customer location), I want to take the time for loading and unloading into account. <br />\nMy question is the following: <br />\nIs it possible for Optaplanner to have variable service duration during optimization run time? I would add a checker which check whether before the index of the depot location in the state of the tour there is a customer location planned before this index and add service duration in this case, because this means that a customer stop was already visited and the transporter is returning to the depot (and therefore service time is needed).</p>\n<p>I hope I described everything clearly. Thank you for your help!</p>\n"},{"tags":["java","macros","include","velocity"],"answers":[{"tags":[],"owner":{"account_id":5144,"reputation":6863,"user_id":8131,"accept_rate":75,"display_name":"Nathan Bubna"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1288368501,"creation_date":1288368501,"answer_id":4053719,"question_id":4049833,"body_markdown":"If they are static blocks (no VTL code in them), then #include-ing them as separate resources will certainly perform much better.   Even if they are dynamic (have VTL code), then you can use #parse instead of #include and still get better performance than a macro.   I wouldn&#39;t even be surprised to learn that #define VTL blocks are faster than macros, though i haven&#39;t tested that.  Macros are great and very useful, but people do sometimes misuse or abuse them.\r\n\r\nThe downside of #parse and #include is that you have to maintain more separate files, but that&#39;s the price for superior speed.  #define is great for code blocks that don&#39;t need args and/or need to be passed around as a reference, but you should only use #define&#39;d blocks directly in the template that defines them or things can get confusing.\r\n\r\nMacros are great in that they take params and can be defined globally, and globally is where they perform best and make most sense.  I generally try to avoid local macros when i have a reasonable alternative.  And when i successfully avoid having any local macros, i turn support for them off to get a small speed boost.","title":"Velocity: Is it better to use a Velocity Macro or #include(...) statement for a DIV block repeated many times on different pages?","body":"<p>If they are static blocks (no VTL code in them), then #include-ing them as separate resources will certainly perform much better.   Even if they are dynamic (have VTL code), then you can use #parse instead of #include and still get better performance than a macro.   I wouldn't even be surprised to learn that #define VTL blocks are faster than macros, though i haven't tested that.  Macros are great and very useful, but people do sometimes misuse or abuse them.</p>\n\n<p>The downside of #parse and #include is that you have to maintain more separate files, but that's the price for superior speed.  #define is great for code blocks that don't need args and/or need to be passed around as a reference, but you should only use #define'd blocks directly in the template that defines them or things can get confusing.</p>\n\n<p>Macros are great in that they take params and can be defined globally, and globally is where they perform best and make most sense.  I generally try to avoid local macros when i have a reasonable alternative.  And when i successfully avoid having any local macros, i turn support for them off to get a small speed boost.</p>\n"}],"owner":{"account_id":189428,"reputation":30867,"user_id":4790871,"accept_rate":99,"display_name":"David Parks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3802,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":4053719,"answer_count":1,"score":5,"last_activity_date":1654718162,"creation_date":1288337106,"question_id":4049833,"body_markdown":"I have about 10 standard blocks of dynamically generated HTML that get included on a large percentage of pages on my site (informational sidebars).\r\n\r\nI can use #include statements or define them as a macros, both would work.\r\n\r\nWhat&#39;s better? I&#39;m new to Velocity and migrating a site from JSP. \r\n\r\nWhy use one vs the other? Why have #include when a no-arg macro() does the same? Are they handled any differently from a caching/memory perspective?","title":"Velocity: Is it better to use a Velocity Macro or #include(...) statement for a DIV block repeated many times on different pages?","body":"<p>I have about 10 standard blocks of dynamically generated HTML that get included on a large percentage of pages on my site (informational sidebars).</p>\n\n<p>I can use #include statements or define them as a macros, both would work.</p>\n\n<p>What's better? I'm new to Velocity and migrating a site from JSP. </p>\n\n<p>Why use one vs the other? Why have #include when a no-arg macro() does the same? Are they handled any differently from a caching/memory perspective?</p>\n"},{"tags":["java","spring-boot","azure","azure-cosmosdb","azure-cosmosdb-mongoapi"],"answers":[{"tags":[],"owner":{"account_id":25083267,"reputation":621,"user_id":18935775,"display_name":"RajkumarPalnati"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654669466,"creation_date":1654669466,"answer_id":72540966,"question_id":72540563,"body_markdown":"As per the [Microsoft Documentation](https://learn.microsoft.com/en-us/azure/cosmos-db/mongodb/feature-support-36#protocol-support) it says,\r\n\r\n&gt; **For new accounts, the Azure Cosmos DB MongoDB API is compatible with\r\n&gt; MongoDB server version 3.6 by default.**\r\n&gt;  - The supported operators and any limitations or exceptions are listed below. Any client driver that supports these protocols should\r\n&gt; be able to connect to the Azure Cosmos DB MongoDB API. \r\n&gt;  - Note that when using Azure Cosmos DB&#39;s API for MongoDB accounts, the 3.6 version of account has the endpoint in the format  \r\n&gt; `*.mongo.cosmos.azure.com` whereas the 3.2 version of account has the\r\n&gt; endpoint in the format `*.documents.azure.com`.\r\n","title":"Azure Cosmos Mongo API version 3.6 but cannot connect with mongo.cosmos.azure.com:443","body":"<p>As per the <a href=\"https://learn.microsoft.com/en-us/azure/cosmos-db/mongodb/feature-support-36#protocol-support\" rel=\"nofollow noreferrer\">Microsoft Documentation</a> it says,</p>\n<blockquote>\n<p><strong>For new accounts, the Azure Cosmos DB MongoDB API is compatible with\nMongoDB server version 3.6 by default.</strong></p>\n<ul>\n<li>The supported operators and any limitations or exceptions are listed below. Any client driver that supports these protocols should\nbe able to connect to the Azure Cosmos DB MongoDB API.</li>\n<li>Note that when using Azure Cosmos DB's API for MongoDB accounts, the 3.6 version of account has the endpoint in the format<br />\n<code>*.mongo.cosmos.azure.com</code> whereas the 3.2 version of account has the\nendpoint in the format <code>*.documents.azure.com</code>.</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":550920,"reputation":8228,"user_id":884931,"display_name":"Mark Brown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654718005,"creation_date":1654718005,"answer_id":72551478,"question_id":72540563,"body_markdown":"Port 443 is incorrect. Not sure why the Azure Portal shows that port on the Overview tab but it is incorrect.\r\n\r\nTo connect to a Mongo API account use port 10255 instead of 443.\r\n\r\nBest thing to do is go to the Connection String tab and copy the connection string on that page. It has the full connection string for connecting to your Mongo API account.","title":"Azure Cosmos Mongo API version 3.6 but cannot connect with mongo.cosmos.azure.com:443","body":"<p>Port 443 is incorrect. Not sure why the Azure Portal shows that port on the Overview tab but it is incorrect.</p>\n<p>To connect to a Mongo API account use port 10255 instead of 443.</p>\n<p>Best thing to do is go to the Connection String tab and copy the connection string on that page. It has the full connection string for connecting to your Mongo API account.</p>\n"}],"owner":{"account_id":10273181,"reputation":57,"user_id":7580967,"display_name":"1729i"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1654757095,"answer_count":2,"score":1,"last_activity_date":1654718005,"creation_date":1654666746,"question_id":72540563,"body_markdown":"I&#39;m trying to connect to a Java application for change feed.\r\n\r\n    new CosmosClientBuilder().endpoint(ENDPOINT).key(KEY).buildAsyncClient();\r\nThe server version is 3.6 but when I try to give ENDPOINT as https://myproject.mongo.cosmos.azure.com:443 it is not working, getting error. But when I give it like https://myproject.documents.azure.com:443 it&#39;s getting connected. Anyone has any idea why it&#39;s like this?\r\n\r\nFrom the Resource JSON I can see documentEndpoint as https://myproject.documents.azure.com:443 and mongoEndpoint as https://myproject.mongo.cosmos.azure.com:443\r\n\r\nI&#39;m using primary password as the KEY.","title":"Azure Cosmos Mongo API version 3.6 but cannot connect with mongo.cosmos.azure.com:443","body":"<p>I'm trying to connect to a Java application for change feed.</p>\n<pre><code>new CosmosClientBuilder().endpoint(ENDPOINT).key(KEY).buildAsyncClient();\n</code></pre>\n<p>The server version is 3.6 but when I try to give ENDPOINT as <a href=\"https://myproject.mongo.cosmos.azure.com:443\" rel=\"nofollow noreferrer\">https://myproject.mongo.cosmos.azure.com:443</a> it is not working, getting error. But when I give it like <a href=\"https://myproject.documents.azure.com:443\" rel=\"nofollow noreferrer\">https://myproject.documents.azure.com:443</a> it's getting connected. Anyone has any idea why it's like this?</p>\n<p>From the Resource JSON I can see documentEndpoint as <a href=\"https://myproject.documents.azure.com:443\" rel=\"nofollow noreferrer\">https://myproject.documents.azure.com:443</a> and mongoEndpoint as <a href=\"https://myproject.mongo.cosmos.azure.com:443\" rel=\"nofollow noreferrer\">https://myproject.mongo.cosmos.azure.com:443</a></p>\n<p>I'm using primary password as the KEY.</p>\n"},{"tags":["java","android","android-studio","intellij-idea"],"comments":[{"owner":{"account_id":1073145,"reputation":7191,"user_id":6512057,"display_name":"Mr-IDE"},"score":1,"creation_date":1655736620,"post_id":72299910,"comment_id":128396325,"body_markdown":"It&#39;s a big problem. In May 2022, it&#39;s been logged at least 3 times in Google&#39;s Issue Tracker bug list:  https://issuetracker.google.com/issues/232441109  ,  https://issuetracker.google.com/issues/232284884  ,  https://issuetracker.google.com/issues/232131785","body":"It&#39;s a big problem. In May 2022, it&#39;s been logged at least 3 times in Google&#39;s Issue Tracker bug list:  <a href=\"https://issuetracker.google.com/issues/232441109\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/232441109</a>  ,  <a href=\"https://issuetracker.google.com/issues/232284884\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/232284884</a>  ,  <a href=\"https://issuetracker.google.com/issues/232131785\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/232131785</a>"},{"owner":{"account_id":25331181,"reputation":51,"user_id":19150969,"display_name":"Ruoyang Qin"},"score":0,"creation_date":1655903599,"post_id":72299910,"comment_id":128442140,"body_markdown":"@Mr-IDE Wow, that&#39;s impressive. I&#39;ve googled a lot for this problem and haven&#39;t found too much people talking about it so I thought I was the only one. One reply in these links said that upgrading to gradle 7.0 or newer can solve the problem but sadly my company is using a custom gradle. So I hope guys in google can figure out how to fix this for users who are still using old version gradles.","body":"@Mr-IDE Wow, that&#39;s impressive. I&#39;ve googled a lot for this problem and haven&#39;t found too much people talking about it so I thought I was the only one. One reply in these links said that upgrading to gradle 7.0 or newer can solve the problem but sadly my company is using a custom gradle. So I hope guys in google can figure out how to fix this for users who are still using old version gradles."}],"answers":[{"tags":[],"owner":{"account_id":2697756,"reputation":547,"user_id":2329326,"display_name":"HelloImKevo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654717914,"creation_date":1654717914,"answer_id":72551462,"question_id":72299910,"body_markdown":"I was having the same issues in the first Android Studio Chipmunk release - all of my unit test source code was peppered with &quot;***Cannot resolve symbol***&quot; errors, but the code would still compile and run, and the tests would pass.\r\n\r\nI found that I could temporarily workaround (i.e., &quot;fix&quot;) the issue by adding a line to the `build.gradle` file like:\r\n```\r\ntestImplementation project(path: &#39;:shared:library:module&#39;)\r\n```\r\n\r\nBut today I upgraded to the new Chipmunk release, with details:\r\n```\r\nAndroid Studio Chipmunk | 2021.2.1 Patch 1\r\nBuild #AI-212.5712.43.2112.8609683, built on May 18, 2022\r\nRuntime version: 11.0.12+0-b1504.28-7817840 x86_64\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\n```\r\n\r\nAnd the issue no longer occurs. I&#39;m guessing the folks working on the IntelliJ platform found and patched the issue. &#128588;","title":"Cannot resolve production code in tests after Android Studio Chipmunk automatically created modules","body":"<p>I was having the same issues in the first Android Studio Chipmunk release - all of my unit test source code was peppered with &quot;<em><strong>Cannot resolve symbol</strong></em>&quot; errors, but the code would still compile and run, and the tests would pass.</p>\n<p>I found that I could temporarily workaround (i.e., &quot;fix&quot;) the issue by adding a line to the <code>build.gradle</code> file like:</p>\n<pre><code>testImplementation project(path: ':shared:library:module')\n</code></pre>\n<p>But today I upgraded to the new Chipmunk release, with details:</p>\n<pre><code>Android Studio Chipmunk | 2021.2.1 Patch 1\nBuild #AI-212.5712.43.2112.8609683, built on May 18, 2022\nRuntime version: 11.0.12+0-b1504.28-7817840 x86_64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\n</code></pre>\n<p>And the issue no longer occurs. I'm guessing the folks working on the IntelliJ platform found and patched the issue. </p>\n"}],"owner":{"account_id":25331181,"reputation":51,"user_id":19150969,"display_name":"Ruoyang Qin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1654717914,"creation_date":1652943319,"question_id":72299910,"body_markdown":"I&#39;m currently using Android Studio to develop a multi-module project by test-driven-development methods. It went well until I updated my IDE to Android Studio Chipmunk from previous Bumblebee. \r\nWhen I opened the project after the update, it seemed that AS automatically generated some modules for me. As you can see in the pic, those new names such as [main] and [unitTest] appeared in the project view automatically. \r\n[modules generated automatically][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8qegV.png\r\nAfter this, I found that the classes and methods of my production code could not be resolved in my test code. AS told me after I pressed Alt+Enter that I should add dependency to the main module of my production code. And it added one line in the build.gradle file: &quot;testImplementation project(path: &#39;:app&#39;)&quot;. After syncing the gradle build, nothing had changed and it still could not resolve methods in my production code. I can still run the tests by executing gradle test tasks, but it is weird that I cannot use production code in my test code directly. \r\n\r\n**UPDATE:**\r\n\r\nFor further information, I think this is a problem caused by the update from Intellij 2021.1 to 2021.2, since I re-installed AS Bumblebee and all seems worked fine. I also found this issue in JetBrains YouTrack that has an exactly same problem with me. Here is the link: https://youtrack.jetbrains.com/issue/IDEA-275566/Class-not-found-after-intellij-upgrade-2021-1-2-2021-2 \r\n\r\nThis issue remains open and I&#39;ve tried some other developers&#39; reply in this issue to delete the .iml files, but the problem remains. I think Intellij 2021.1 and 2021.2 generate different .iml file in the .idea folder.\r\n","title":"Cannot resolve production code in tests after Android Studio Chipmunk automatically created modules","body":"<p>I'm currently using Android Studio to develop a multi-module project by test-driven-development methods. It went well until I updated my IDE to Android Studio Chipmunk from previous Bumblebee.\nWhen I opened the project after the update, it seemed that AS automatically generated some modules for me. As you can see in the pic, those new names such as [main] and [unitTest] appeared in the project view automatically.\n<a href=\"https://i.stack.imgur.com/8qegV.png\" rel=\"noreferrer\">modules generated automatically</a></p>\n<p>After this, I found that the classes and methods of my production code could not be resolved in my test code. AS told me after I pressed Alt+Enter that I should add dependency to the main module of my production code. And it added one line in the build.gradle file: &quot;testImplementation project(path: ':app')&quot;. After syncing the gradle build, nothing had changed and it still could not resolve methods in my production code. I can still run the tests by executing gradle test tasks, but it is weird that I cannot use production code in my test code directly.</p>\n<p><strong>UPDATE:</strong></p>\n<p>For further information, I think this is a problem caused by the update from Intellij 2021.1 to 2021.2, since I re-installed AS Bumblebee and all seems worked fine. I also found this issue in JetBrains YouTrack that has an exactly same problem with me. Here is the link: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-275566/Class-not-found-after-intellij-upgrade-2021-1-2-2021-2\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-275566/Class-not-found-after-intellij-upgrade-2021-1-2-2021-2</a></p>\n<p>This issue remains open and I've tried some other developers' reply in this issue to delete the .iml files, but the problem remains. I think Intellij 2021.1 and 2021.2 generate different .iml file in the .idea folder.</p>\n"},{"tags":["java","maven","web-services","soap","server"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1654664909,"post_id":72539878,"comment_id":128141820,"body_markdown":"JAX-WS has `wsimport`","body":"JAX-WS has <code>wsimport</code>"},{"owner":{"account_id":323832,"reputation":55,"user_id":4913973,"display_name":"Matt Robinson"},"score":0,"creation_date":1654665977,"post_id":72539878,"comment_id":128142019,"body_markdown":"Oh. I thought wsimport only produced SOAP Clients to consume the services described in the WSDL, not SOAP Server frameworks to provide those services. Can you help me with the wsimport command line to create the server side, please?","body":"Oh. I thought wsimport only produced SOAP Clients to consume the services described in the WSDL, not SOAP Server frameworks to provide those services. Can you help me with the wsimport command line to create the server side, please?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1654667762,"post_id":72539878,"comment_id":128142379,"body_markdown":"I misread the question and it&#39;s been more than 10 years since I worked with SOAP so sorry you are right, wsimport only creates the client.  I used Glassfish back then to automatically create the WSDL from running code.  It looks like Spring can create a server from WSDL - https://www.baeldung.com/spring-boot-soap-web-service looks promising.","body":"I misread the question and it&#39;s been more than 10 years since I worked with SOAP so sorry you are right, wsimport only creates the client.  I used Glassfish back then to automatically create the WSDL from running code.  It looks like Spring can create a server from WSDL - <a href=\"https://www.baeldung.com/spring-boot-soap-web-service\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-soap-web-service</a> looks promising."},{"owner":{"account_id":323832,"reputation":55,"user_id":4913973,"display_name":"Matt Robinson"},"score":0,"creation_date":1654755062,"post_id":72539878,"comment_id":128168162,"body_markdown":"No problem. It&#39;s been about that long for me too.. :)","body":"No problem. It&#39;s been about that long for me too.. :)"}],"answers":[{"tags":[],"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654717643,"creation_date":1654717643,"answer_id":72551412,"question_id":72539878,"body_markdown":"You can create skeleton code for the service implementation with something like `wsdl2java`. For example, with Axis2 or CXF:\r\n\r\n- https://axis.apache.org/axis2/java/core/docs/reference.html\r\n- https://cxf.apache.org/docs/wsdl-to-java.html\r\n\r\nI wouldn&#39;t bother though, since you can create a service mock with SoapUI starting from the same WSDL you would use to feed to `wsdl2java`. For example:\r\n\r\n- https://www.soapui.org/docs/soap-mocking/service-mocking-overview/\r\n\r\nSo start testing using SoapUI first, before going for a service implementation from the WSDL.","title":"Is there a way to generate a SOAP Server in Java from a WSDL?","body":"<p>You can create skeleton code for the service implementation with something like <code>wsdl2java</code>. For example, with Axis2 or CXF:</p>\n<ul>\n<li><a href=\"https://axis.apache.org/axis2/java/core/docs/reference.html\" rel=\"nofollow noreferrer\">https://axis.apache.org/axis2/java/core/docs/reference.html</a></li>\n<li><a href=\"https://cxf.apache.org/docs/wsdl-to-java.html\" rel=\"nofollow noreferrer\">https://cxf.apache.org/docs/wsdl-to-java.html</a></li>\n</ul>\n<p>I wouldn't bother though, since you can create a service mock with SoapUI starting from the same WSDL you would use to feed to <code>wsdl2java</code>. For example:</p>\n<ul>\n<li><a href=\"https://www.soapui.org/docs/soap-mocking/service-mocking-overview/\" rel=\"nofollow noreferrer\">https://www.soapui.org/docs/soap-mocking/service-mocking-overview/</a></li>\n</ul>\n<p>So start testing using SoapUI first, before going for a service implementation from the WSDL.</p>\n"}],"owner":{"account_id":323832,"reputation":55,"user_id":4913973,"display_name":"Matt Robinson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1135,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72551412,"answer_count":1,"score":0,"last_activity_date":1654717643,"creation_date":1654660481,"question_id":72539878,"body_markdown":"I&#39;m required to code a SOAP client for a customer, but I only have the WSDL and no access to their SOAP Server.\r\n\r\nI have successfully generated the SOAP client, but I would like to test it locally against a close approximation of their SOAP Server. So I want to generate a working SOAP Server framework from the supplied WSDL and modify it to supply some test data.\r\n\r\nI&#39;ve tried using Spring and Maven to generate the server code, but it doesn&#39;t seem to allow WSDLs - only XSD files. And all attempts to call any SOAP service from my client fails with 404s.\r\n\r\nHas anyone successfully generated a SOAP Server using WSDLs? What are the gotcha&#39;s?\r\n","title":"Is there a way to generate a SOAP Server in Java from a WSDL?","body":"<p>I'm required to code a SOAP client for a customer, but I only have the WSDL and no access to their SOAP Server.</p>\n<p>I have successfully generated the SOAP client, but I would like to test it locally against a close approximation of their SOAP Server. So I want to generate a working SOAP Server framework from the supplied WSDL and modify it to supply some test data.</p>\n<p>I've tried using Spring and Maven to generate the server code, but it doesn't seem to allow WSDLs - only XSD files. And all attempts to call any SOAP service from my client fails with 404s.</p>\n<p>Has anyone successfully generated a SOAP Server using WSDLs? What are the gotcha's?</p>\n"},{"tags":["java","spring","java-stream","spring-jdbc"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1654554066,"post_id":72523669,"comment_id":128113739,"body_markdown":"Are you asking how to implement a method `Optional&lt;T&gt; doMyQuery(sql)` where you want a to return: (a) the query result (as a `T`) if the query returned a row, or (b) an empty optional if the query returned no rows?  I don&#39;t think you&#39;ll find any way is more &quot;idiomatic&quot; than any other (for some value of &quot;idiomatic&quot; :-).  Distinguishing no-rows from 1-row-null will require a sentinel instance of `T`.","body":"Are you asking how to implement a method <code>Optional&lt;T&gt; doMyQuery(sql)</code> where you want a to return: (a) the query result (as a <code>T</code>) if the query returned a row, or (b) an empty optional if the query returned no rows?  I don&#39;t think you&#39;ll find any way is more &quot;idiomatic&quot; than any other (for some value of &quot;idiomatic&quot; :-).  Distinguishing no-rows from 1-row-null will require a sentinel instance of <code>T</code>."},{"owner":{"account_id":4166159,"reputation":951,"user_id":3415090,"display_name":"mohammedkhan"},"score":0,"creation_date":1654635885,"post_id":72523669,"comment_id":128136942,"body_markdown":"The answer to this will be quite subjective, there&#39;s not really a right or wrong way to go about it. My question is though is the use of an `Optional` strictly necessary? In our own implementation we have a subclass of `JdbcTemplate` with `queryForObject` method that returns `null` if it doesn&#39;t find anything.","body":"The answer to this will be quite subjective, there&#39;s not really a right or wrong way to go about it. My question is though is the use of an <code>Optional</code> strictly necessary? In our own implementation we have a subclass of <code>JdbcTemplate</code> with <code>queryForObject</code> method that returns <code>null</code> if it doesn&#39;t find anything."},{"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"score":0,"creation_date":1654717379,"post_id":72523669,"comment_id":128161146,"body_markdown":"I&#39;m really sorry for unclearness in this question, but there&#39;s nothing subjective. What I want is to collect as more approaches as possible and do some research in their performance. So, the true question must be &quot;Which of these solutions is the best in terms of performance? If you use not the most performant solution, tell, if there&#39;s any trade off you&#39;ve taken in account&quot;. References to acticles is also appreciated. I&#39;ll update the question btw.","body":"I&#39;m really sorry for unclearness in this question, but there&#39;s nothing subjective. What I want is to collect as more approaches as possible and do some research in their performance. So, the true question must be &quot;Which of these solutions is the best in terms of performance? If you use not the most performant solution, tell, if there&#39;s any trade off you&#39;ve taken in account&quot;. References to acticles is also appreciated. I&#39;ll update the question btw."},{"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"score":1,"creation_date":1654717708,"post_id":72523669,"comment_id":128161253,"body_markdown":"@mohammedkhan Your approach with custom `queryForObject` is awesome! I&#39;m definitely going to look into it","body":"@mohammedkhan Your approach with custom <code>queryForObject</code> is awesome! I&#39;m definitely going to look into it"}],"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2487,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654717533,"creation_date":1654551156,"question_id":72523669,"body_markdown":"Well, yes, I want to query an Optional result, consider given SQL:\r\n\r\n```sql\r\nSELECT foo\r\nFROM bar\r\nWHERE baz = 123\r\nLIMIT 1\r\n```\r\n\r\nThis query returns either a row with some value, say some String, or no rows at all.\r\n\r\nWith Spring JDBC, as we know, I can&#39;t just use `queryForObject` as it throws on empty result. The remaining methods I can use is `query`, `queryForList` and `queryForStream`. And here&#39;s my question:\r\n\r\nWhich of these solutions is the best in terms of performance?\r\n\r\n```java\r\n// 1:\r\nreturn jdbcTemplate.query(sql, (rs, i) -&gt; rs.getString(0)).stream().findAny();\r\n\r\n// 2:\r\nreturn jdbcTemplate.queryForList(sql, String.class).stream().findAny();\r\n\r\n// 1.1, 2.1, considering qres is &quot;query result&quot;\r\n\r\nfor (var res : qres) {\r\n  return Optional.of(res);\r\n}\r\nreturn Optional.empty();\r\n\r\n// 1.2, 2.2\r\nreturn qres.size() == 0 ? Optional.empty() : Optional.of(qres.get(0));\r\n\r\n// 3:\r\ntry(var stream = jdbcTemplate.queryForStream(sql, (rs, i) -&gt; rs.getString(0))) {\r\n  return stream.findAny();\r\n}\r\n```\r\n\r\nIs there any &quot;idiomatic&quot; way to do so I didn&#39;t found?\r\n\r\nIf you use not the most performant solution, tell, if there&#39;s any trade off you&#39;ve taken in account?\r\n\r\nReferences to any related articles are very appreciated.\r\n\r\n---\r\n\r\nP.S. If there&#39;s any other ways which I don&#39;t remember at a time, please provide them.\r\n\r\nP.P.S. I&#39;ve just realised that if `foo` is nullable, then we have inconsistency in result, as Optional.empty may mean &quot;no rows&quot; and &quot;one row with null&quot;. However, let&#39;s assume `foo` is non-null this time. But if you have any solution to this, please put it in comments.","title":"Best approach to query an Optional with Spring JDBC","body":"<p>Well, yes, I want to query an Optional result, consider given SQL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT foo\nFROM bar\nWHERE baz = 123\nLIMIT 1\n</code></pre>\n<p>This query returns either a row with some value, say some String, or no rows at all.</p>\n<p>With Spring JDBC, as we know, I can't just use <code>queryForObject</code> as it throws on empty result. The remaining methods I can use is <code>query</code>, <code>queryForList</code> and <code>queryForStream</code>. And here's my question:</p>\n<p>Which of these solutions is the best in terms of performance?</p>\n<pre class=\"lang-java prettyprint-override\"><code>// 1:\nreturn jdbcTemplate.query(sql, (rs, i) -&gt; rs.getString(0)).stream().findAny();\n\n// 2:\nreturn jdbcTemplate.queryForList(sql, String.class).stream().findAny();\n\n// 1.1, 2.1, considering qres is &quot;query result&quot;\n\nfor (var res : qres) {\n  return Optional.of(res);\n}\nreturn Optional.empty();\n\n// 1.2, 2.2\nreturn qres.size() == 0 ? Optional.empty() : Optional.of(qres.get(0));\n\n// 3:\ntry(var stream = jdbcTemplate.queryForStream(sql, (rs, i) -&gt; rs.getString(0))) {\n  return stream.findAny();\n}\n</code></pre>\n<p>Is there any &quot;idiomatic&quot; way to do so I didn't found?</p>\n<p>If you use not the most performant solution, tell, if there's any trade off you've taken in account?</p>\n<p>References to any related articles are very appreciated.</p>\n<hr />\n<p>P.S. If there's any other ways which I don't remember at a time, please provide them.</p>\n<p>P.P.S. I've just realised that if <code>foo</code> is nullable, then we have inconsistency in result, as Optional.empty may mean &quot;no rows&quot; and &quot;one row with null&quot;. However, let's assume <code>foo</code> is non-null this time. But if you have any solution to this, please put it in comments.</p>\n"},{"tags":["java","casting","wrapper"],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654697179,"creation_date":1654696874,"answer_id":72547075,"question_id":72547018,"body_markdown":"The problem is that you are working with reference types (wrapper classes) instead of primitive types. A cast from `int` to `double` works, but a cast from `Integer` to `Double` doesn&#39;t. So you will need to find some other way to convert this.\r\n\r\nSince you define `t extends Number`, you can use any method of `Number` for `x` and `y`.\r\n\r\nSo instead of casting to `double`, use this:\r\n\r\n    public static&lt;t extends Number&gt; double rand(t x,t y) {\r\n      double a = x.doubleValue();\r\n      double b = y.doubleValue();","title":"Can&#39;t cast Integer into Double (Wrapper class)","body":"<p>The problem is that you are working with reference types (wrapper classes) instead of primitive types. A cast from <code>int</code> to <code>double</code> works, but a cast from <code>Integer</code> to <code>Double</code> doesn't. So you will need to find some other way to convert this.</p>\n<p>Since you define <code>t extends Number</code>, you can use any method of <code>Number</code> for <code>x</code> and <code>y</code>.</p>\n<p>So instead of casting to <code>double</code>, use this:</p>\n<pre><code>public static&lt;t extends Number&gt; double rand(t x,t y) {\n  double a = x.doubleValue();\n  double b = y.doubleValue();\n</code></pre>\n"}],"owner":{"account_id":25506775,"reputation":59,"user_id":19299127,"display_name":"Joshua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":829,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72547075,"answer_count":1,"score":-1,"last_activity_date":1654717479,"creation_date":1654696663,"question_id":72547018,"body_markdown":"I tried to create a function which return a random int between x and y if x and y are integer but if x or y is a double the function return a double between x and y. But when I try with a integer it throw an Exception:\r\n\r\n&gt;&quot;class java.lang.Integer cannot be cast to class java.lang.Double (java.lang.Integer and java.lang.Double are in module java.base of loader &#39;bootstrap&#39;)&quot;\r\n\r\nhow can I fix it?\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            System.out.print(rand(10,12.0));\r\n        }\r\n        public static&lt;t extends Number&gt; double rand(t x,t y) {\r\n            double a = (double) x;\r\n            double b = (double) y;\r\n            b = a &lt; b ?(a + (b - a) * Math.random()):(b + (a - b) * Math.random());\r\n            return (x instanceof Double || y instanceof Double) ? b : (int) b;\r\n        }\r\n    }\r\n\r\n","title":"Can&#39;t cast Integer into Double (Wrapper class)","body":"<p>I tried to create a function which return a random int between x and y if x and y are integer but if x or y is a double the function return a double between x and y. But when I try with a integer it throw an Exception:</p>\n<blockquote>\n<p>&quot;class java.lang.Integer cannot be cast to class java.lang.Double (java.lang.Integer and java.lang.Double are in module java.base of loader 'bootstrap')&quot;</p>\n</blockquote>\n<p>how can I fix it?</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        System.out.print(rand(10,12.0));\n    }\n    public static&lt;t extends Number&gt; double rand(t x,t y) {\n        double a = (double) x;\n        double b = (double) y;\n        b = a &lt; b ?(a + (b - a) * Math.random()):(b + (a - b) * Math.random());\n        return (x instanceof Double || y instanceof Double) ? b : (int) b;\n    }\n}\n</code></pre>\n"},{"tags":["java","inheritance","enums","object-class"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1654686960,"post_id":72544721,"comment_id":128148968,"body_markdown":"It&#39;s a reference type / &quot;Object&quot;, so yes. In fact, you might consider it akin to `public class ORDER extends Enum&lt;ORDER&gt;`, and cannot extend another class.","body":"It&#39;s a reference type / &quot;Object&quot;, so yes. In fact, you might consider it akin to <code>public class ORDER extends Enum&lt;ORDER&gt;</code>, and cannot extend another class."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1654686971,"post_id":72544721,"comment_id":128148973,"body_markdown":"Yes, every java class extends Object. See the documentation of [java.lang.Object](https://docs.oracle.com/javase/10/docs/api/java/lang/Object.html): &quot;Class Object is the root of the class hierarchy. Every class has Object as a superclass. All objects, including arrays, implement the methods of this class.&quot;","body":"Yes, every java class extends Object. See the documentation of <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Object.html\" rel=\"nofollow noreferrer\">java.lang.Object</a>: &quot;Class Object is the root of the class hierarchy. Every class has Object as a superclass. All objects, including arrays, implement the methods of this class.&quot;"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1654686977,"post_id":72544721,"comment_id":128148976,"body_markdown":"As you can see from the documentation, yes: https://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html","body":"As you can see from the documentation, yes: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/Enum.html</a>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1654686982,"post_id":72544721,"comment_id":128148979,"body_markdown":"Yes. `enum`s are a predefined list of instances of (in this case) `ORDER` objects. As all objects in java, by default they inherit from `Object`. Running `System.out.println(ORDER.FIRST instanceof Object);` prints `true`.","body":"Yes. <code>enum</code>s are a predefined list of instances of (in this case) <code>ORDER</code> objects. As all objects in java, by default they inherit from <code>Object</code>. Running <code>System.out.println(ORDER.FIRST instanceof Object);</code> prints <code>true</code>."}],"answers":[{"tags":[],"owner":{"account_id":4364371,"reputation":2051,"user_id":3560603,"display_name":"fhossfel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654687361,"creation_date":1654687361,"answer_id":72544841,"question_id":72544721,"body_markdown":"Yes. A simple unit test can prove that the class hierarchy in your example is ORDER -&gt; java.lang.Enum -&gt; java.lang.Object:\r\n\r\n    public class EnumTest {\r\n\r\n        enum ORDER {\r\n        FIRST,\r\n        SECOND,\r\n        THIRD,\r\n        FOURTH\r\n        }\r\n\r\n        @Test\r\n        public void test() {\r\n\r\n                \r\n          System.out.println(ORDER.class.getSuperclass().getSuperclass());\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\nThis will return\r\n\r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n    Running de.interassurance.service.EnumTest\r\n    class java.lang.Object\r\n    Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.017 s - in de.interassurance.service.EnumTest\r\n\r\n    Results:\r\n\r\n    Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n","title":"Does Java Enum Classes by default extend Java Object Class?","body":"<p>Yes. A simple unit test can prove that the class hierarchy in your example is ORDER -&gt; java.lang.Enum -&gt; java.lang.Object:</p>\n<pre><code>public class EnumTest {\n\n    enum ORDER {\n    FIRST,\n    SECOND,\n    THIRD,\n    FOURTH\n    }\n\n    @Test\n    public void test() {\n\n            \n      System.out.println(ORDER.class.getSuperclass().getSuperclass());\n\n\n    }\n\n}\n</code></pre>\n<p>This will return</p>\n<pre><code>-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning de.interassurance.service.EnumTest\nclass java.lang.Object\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.017 s - in de.interassurance.service.EnumTest\n\nResults:\n\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3667837,"reputation":2435,"user_id":3055724,"display_name":"Duloren"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654717471,"creation_date":1654688463,"answer_id":72545095,"question_id":72544721,"body_markdown":"Yes, in java any non-null is a reference for an instance of Object. In other words\r\n\r\n    aRef instanceof Object \r\n\r\nis `true` unless `aRef` is `null` regardless `aRef` type is an `enum` or a regular class.\r\n\r\nIndeed, the `enum` keyword &quot;defines a class (called an enum type). The enum class body can include methods and other fields. The compiler automatically adds some special methods when it creates an enum.&quot; https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n\r\nThus, references for enum types have the same elementary properties as other &quot;regular&quot; objects.\r\n\r\nThus, you can make calls like:\r\n\r\n    ORDER obj = ORDER.FIRST;\r\n    System.out.println(obj.hashCode());\r\n    System.out.println(obj.equals(otherObj));\r\n    \r\nin the same way as using an object of a non-enum class.\r\n","title":"Does Java Enum Classes by default extend Java Object Class?","body":"<p>Yes, in java any non-null is a reference for an instance of Object. In other words</p>\n<pre><code>aRef instanceof Object \n</code></pre>\n<p>is <code>true</code> unless <code>aRef</code> is <code>null</code> regardless <code>aRef</code> type is an <code>enum</code> or a regular class.</p>\n<p>Indeed, the <code>enum</code> keyword &quot;defines a class (called an enum type). The enum class body can include methods and other fields. The compiler automatically adds some special methods when it creates an enum.&quot; <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html</a></p>\n<p>Thus, references for enum types have the same elementary properties as other &quot;regular&quot; objects.</p>\n<p>Thus, you can make calls like:</p>\n<pre><code>ORDER obj = ORDER.FIRST;\nSystem.out.println(obj.hashCode());\nSystem.out.println(obj.equals(otherObj));\n</code></pre>\n<p>in the same way as using an object of a non-enum class.</p>\n"}],"owner":{"account_id":10644972,"reputation":25,"user_id":7837998,"display_name":"shamanth gowda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1654691746,"answer_count":2,"score":-1,"last_activity_date":1654717471,"creation_date":1654686821,"question_id":72544721,"body_markdown":"I have defined my own enum, which will extend Java Enum Class. Does Java Enum Class extend Java Object Class?\r\n\r\n```\r\nenum ORDER {\r\n\tFIRST,\r\n\tSECOND,\r\n\tTHIRD,\r\n\tFOURTH\r\n}\r\n ```","title":"Does Java Enum Classes by default extend Java Object Class?","body":"<p>I have defined my own enum, which will extend Java Enum Class. Does Java Enum Class extend Java Object Class?</p>\n<pre><code>enum ORDER {\n    FIRST,\n    SECOND,\n    THIRD,\n    FOURTH\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":8206410,"reputation":1755,"user_id":6176003,"display_name":"Paraskevas Ntsounos"},"score":0,"creation_date":1547729324,"post_id":54147277,"comment_id":95297148,"body_markdown":"so you want this animation on button click or just when layout appear in screen?","body":"so you want this animation on button click or just when layout appear in screen?"}],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1654717079,"creation_date":1547739418,"answer_id":54239290,"question_id":54147277,"body_markdown":"***Update:*** The following will not work as it is coded for Material buttons, so make sure that your button is either a framework button (_android.widget.Button_) or an AppCompat button (_androidx.appcompat.widget.AppCompatButton_).\r\n\r\n---\r\n---\r\n\r\nFor the drawable, I would go with a [`ClipDrawable`](https://developer.android.com/reference/android/graphics/drawable/ClipDrawable) as the top layer in a [`LayerDrawable`](https://developer.android.com/reference/android/graphics/drawable/LayerDrawable). This will visually work like a progress bar. \r\n\r\nIn the following drawable, the clip drawable overlays a bottom layer that is just a red rectangle.\r\n\r\n__button_background.xml__\r\n\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item&gt;\r\n            &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n                &lt;solid android:color=&quot;@android:color/holo_red_light&quot; /&gt;\r\n            &lt;/shape&gt;\r\n        &lt;/item&gt;\r\n        &lt;item android:id=&quot;@+id/clip_drawable&quot;&gt;\r\n            &lt;clip\r\n                android:clipOrientation=&quot;horizontal&quot;\r\n                android:gravity=&quot;start&quot;&gt;\r\n                &lt;shape\r\n                    android:shape=&quot;rectangle&quot;&gt;\r\n                    &lt;solid android:color=&quot;@android:color/black&quot; /&gt;\r\n                &lt;/shape&gt;\r\n            &lt;/clip&gt;\r\n        &lt;/item&gt;\r\n    &lt;/layer-list&gt;\r\n\r\nThe black of the clip drawable will eclipse the red rectangle as the level of the clip drawable increases from 0 (not shown) to 10,000 (100% covering the red rectangle.) \r\n\r\n[`TimeAnimator`](https://developer.android.com/reference/android/animation/TimeAnimator) can be used to animate the level of the clip drawable.\r\n\r\n&gt;This class provides a simple callback mechanism to listeners that is synchronized with all other animators in the system.\r\n\r\nHere is a quick demo. You can change `onTimeUpdate()` to be sensitive to total and elapsed time if you want to set the duration of the animation.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n__MainActivity.java__\r\n\r\n\tpublic class MainActivity extends AppCompatActivity implements TimeAnimator.TimeListener {\r\n\t\tprivate TimeAnimator mAnimator;\r\n\t\tprivate int mCurrentLevel = 0;\r\n\t\tprivate ClipDrawable mClipDrawable;\r\n\r\n\t\t@Override\r\n\t\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\t\tsuper.onCreate(savedInstanceState);\r\n\t\t\tsetContentView(R.layout.activity_main);\r\n\r\n\t\t\t// Get a handle on the ClipDrawable that we will animate.\r\n\t\t\tLayerDrawable layerDrawable = (LayerDrawable) findViewById(R.id.button).getBackground();\r\n\t\t\tmClipDrawable = (ClipDrawable) layerDrawable.findDrawableByLayerId(R.id.clip_drawable);\r\n\r\n\t\t\t// Set up TimeAnimator to fire off on button click.\r\n\t\t\tmAnimator = new TimeAnimator();\r\n\t\t\tmAnimator.setTimeListener(this);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onTimeUpdate(TimeAnimator animation, long totalTime, long deltaTime) {\r\n\t\t\tmClipDrawable.setLevel(mCurrentLevel);\r\n\t\t\tif (mCurrentLevel &gt;= MAX_LEVEL) {\r\n\t\t\t\tmAnimator.cancel();\r\n\t\t\t} else {\r\n\t\t\t\tmCurrentLevel = Math.min(MAX_LEVEL, mCurrentLevel + LEVEL_INCREMENT);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void animateButton(View view) {\r\n\t\t\tif (!mAnimator.isRunning()) {\r\n\t\t\t\tmCurrentLevel = 0;\r\n\t\t\t\tmAnimator.start();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate static final int LEVEL_INCREMENT = 400;\r\n\t\tprivate static final int MAX_LEVEL = 10000;\r\n\t}\r\n\r\n__activity_main.xml__\r\n\r\n\t&lt;android.support.constraint.ConstraintLayout \r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n\t\t&lt;Button\r\n\t\t\tandroid:id=&quot;@+id/button&quot;\r\n\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\tandroid:layout_marginTop=&quot;32dp&quot;\r\n\t\t\tandroid:background=&quot;@drawable/button_background&quot;\r\n\t\t\tandroid:text=&quot;Button&quot;\r\n\t\t\tandroid:onClick=&quot;animateButton&quot;\r\n\t\t\tandroid:textColor=&quot;@android:color/white&quot;\r\n\t\t\tapp:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n\t\t\tapp:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n\t\t\tapp:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\t&lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dAFwc.gif","title":"Change button background by filling it left to right","body":"<p><em><strong>Update:</strong></em> The following will not work as it is coded for Material buttons, so make sure that your button is either a framework button (<em>android.widget.Button</em>) or an AppCompat button (<em>androidx.appcompat.widget.AppCompatButton</em>).</p>\n<hr />\n<hr />\n<p>For the drawable, I would go with a <a href=\"https://developer.android.com/reference/android/graphics/drawable/ClipDrawable\" rel=\"nofollow noreferrer\"><code>ClipDrawable</code></a> as the top layer in a <a href=\"https://developer.android.com/reference/android/graphics/drawable/LayerDrawable\" rel=\"nofollow noreferrer\"><code>LayerDrawable</code></a>. This will visually work like a progress bar.</p>\n<p>In the following drawable, the clip drawable overlays a bottom layer that is just a red rectangle.</p>\n<p><strong>button_background.xml</strong></p>\n<pre><code>&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item&gt;\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\n            &lt;solid android:color=&quot;@android:color/holo_red_light&quot; /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n    &lt;item android:id=&quot;@+id/clip_drawable&quot;&gt;\n        &lt;clip\n            android:clipOrientation=&quot;horizontal&quot;\n            android:gravity=&quot;start&quot;&gt;\n            &lt;shape\n                android:shape=&quot;rectangle&quot;&gt;\n                &lt;solid android:color=&quot;@android:color/black&quot; /&gt;\n            &lt;/shape&gt;\n        &lt;/clip&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n<p>The black of the clip drawable will eclipse the red rectangle as the level of the clip drawable increases from 0 (not shown) to 10,000 (100% covering the red rectangle.)</p>\n<p><a href=\"https://developer.android.com/reference/android/animation/TimeAnimator\" rel=\"nofollow noreferrer\"><code>TimeAnimator</code></a> can be used to animate the level of the clip drawable.</p>\n<blockquote>\n<p>This class provides a simple callback mechanism to listeners that is synchronized with all other animators in the system.</p>\n</blockquote>\n<p>Here is a quick demo. You can change <code>onTimeUpdate()</code> to be sensitive to total and elapsed time if you want to set the duration of the animation.</p>\n<p><a href=\"https://i.stack.imgur.com/dAFwc.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dAFwc.gif\" alt=\"enter image description here\" /></a></p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity implements TimeAnimator.TimeListener {\n    private TimeAnimator mAnimator;\n    private int mCurrentLevel = 0;\n    private ClipDrawable mClipDrawable;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Get a handle on the ClipDrawable that we will animate.\n        LayerDrawable layerDrawable = (LayerDrawable) findViewById(R.id.button).getBackground();\n        mClipDrawable = (ClipDrawable) layerDrawable.findDrawableByLayerId(R.id.clip_drawable);\n\n        // Set up TimeAnimator to fire off on button click.\n        mAnimator = new TimeAnimator();\n        mAnimator.setTimeListener(this);\n    }\n\n    @Override\n    public void onTimeUpdate(TimeAnimator animation, long totalTime, long deltaTime) {\n        mClipDrawable.setLevel(mCurrentLevel);\n        if (mCurrentLevel &gt;= MAX_LEVEL) {\n            mAnimator.cancel();\n        } else {\n            mCurrentLevel = Math.min(MAX_LEVEL, mCurrentLevel + LEVEL_INCREMENT);\n        }\n    }\n\n    public void animateButton(View view) {\n        if (!mAnimator.isRunning()) {\n            mCurrentLevel = 0;\n            mAnimator.start();\n        }\n    }\n\n    private static final int LEVEL_INCREMENT = 400;\n    private static final int MAX_LEVEL = 10000;\n}\n</code></pre>\n<p><strong>activity_main.xml</strong></p>\n<pre><code>&lt;android.support.constraint.ConstraintLayout \n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;32dp&quot;\n        android:background=&quot;@drawable/button_background&quot;\n        android:text=&quot;Button&quot;\n        android:onClick=&quot;animateButton&quot;\n        android:textColor=&quot;@android:color/white&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":2272954,"reputation":673,"user_id":1999909,"accept_rate":77,"display_name":"conquistador"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2433,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54239290,"answer_count":1,"score":4,"last_activity_date":1654717079,"creation_date":1547212430,"question_id":54147277,"body_markdown":"I want to change the background of a button while being pressed by filling it a color from left to right just like a horizontal progress bar.\r\n\r\nThis is the code for detecting press-hold:\r\n\r\n    lateinit var buttonView: View\r\n    val cdt = object : CountDownTimer(1000, 100) {\r\n                override fun onTick(millisUntilFinished: Long) {\r\n    \r\n                }\r\n    \r\n                override fun onFinish() {\r\n                    //do something after being press by 1 sec.\r\n                }\r\n            }\r\n    \r\n            val onTouchListener = View.OnTouchListener { v, event -&gt;\r\n                buttonView = v\r\n                when (event.action) {\r\n                    MotionEvent.ACTION_DOWN -&gt; {\r\n                        (v.background as AnimationDrawable).start()\r\n                        cdt.start()\r\n                    }\r\n                    MotionEvent.ACTION_UP -&gt; {\r\n                        (v.background as AnimationDrawable).stop()\r\n                        cdt.cancel()\r\n                    }\r\n    \r\n                }\r\n                false\r\n            }\r\n\r\nThis is the background I used for the button: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;animation-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        ...items with drawables which colors are in different position. Frame by frame....\r\n    &lt;/animation-list&gt;\r\n\r\nThis works but it ain&#39;t smooth. Is there a way to do this efficiently? Just like this? https://codepen.io/kay8/pen/azKbjN  \r\n(It&#39;s okay to answer in Java)","title":"Change button background by filling it left to right","body":"<p>I want to change the background of a button while being pressed by filling it a color from left to right just like a horizontal progress bar.</p>\n\n<p>This is the code for detecting press-hold:</p>\n\n<pre><code>lateinit var buttonView: View\nval cdt = object : CountDownTimer(1000, 100) {\n            override fun onTick(millisUntilFinished: Long) {\n\n            }\n\n            override fun onFinish() {\n                //do something after being press by 1 sec.\n            }\n        }\n\n        val onTouchListener = View.OnTouchListener { v, event -&gt;\n            buttonView = v\n            when (event.action) {\n                MotionEvent.ACTION_DOWN -&gt; {\n                    (v.background as AnimationDrawable).start()\n                    cdt.start()\n                }\n                MotionEvent.ACTION_UP -&gt; {\n                    (v.background as AnimationDrawable).stop()\n                    cdt.cancel()\n                }\n\n            }\n            false\n        }\n</code></pre>\n\n<p>This is the background I used for the button: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;animation-list xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    ...items with drawables which colors are in different position. Frame by frame....\n&lt;/animation-list&gt;\n</code></pre>\n\n<p>This works but it ain't smooth. Is there a way to do this efficiently? Just like this? <a href=\"https://codepen.io/kay8/pen/azKbjN\" rel=\"nofollow noreferrer\">https://codepen.io/kay8/pen/azKbjN</a><br>\n(It's okay to answer in Java)</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":36459,"reputation":40877,"user_id":104014,"accept_rate":89,"display_name":"Artem Barger"},"score":6,"creation_date":1242643218,"post_id":877096,"comment_id":684332,"body_markdown":"Would you mind to add some extra explanation of that exactly you trying to do? There are a lot of several techniques to it, but all of them depend on the final goal.","body":"Would you mind to add some extra explanation of that exactly you trying to do? There are a lot of several techniques to it, but all of them depend on the final goal."},{"owner":{"account_id":36493,"reputation":11667,"user_id":104117,"accept_rate":89,"display_name":"Valentin Rocher"},"score":4,"creation_date":1242643405,"post_id":877096,"comment_id":684341,"body_markdown":"Do you mean passing a parameter to an already running thread ? Because all the current answers are about passing parameters to new threads...","body":"Do you mean passing a parameter to an already running thread ? Because all the current answers are about passing parameters to new threads..."},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1551120567,"post_id":877096,"comment_id":96515768,"body_markdown":"Now you can use `Consumer&lt;T&gt;`.","body":"Now you can use <code>Consumer&lt;T&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1242643645,"creation_date":1242643248,"answer_id":877104,"question_id":877096,"body_markdown":"via constructor of a Runnable or Thread class\r\n\r\n    class MyThread extends Thread {\r\n\r\n        private String to;\r\n\r\n        public MyThread(String to) {\r\n            this.to = to;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;hello &quot; + to);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new MyThread(&quot;world!&quot;).start();\r\n    }\r\n","title":"How can I pass a parameter to a Java Thread?","body":"<p>via constructor of a Runnable or Thread class</p>\n\n<pre><code>class MyThread extends Thread {\n\n    private String to;\n\n    public MyThread(String to) {\n        this.to = to;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(\"hello \" + to);\n    }\n}\n\npublic static void main(String[] args) {\n    new MyThread(\"world!\").start();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27166,"reputation":19089,"user_id":71399,"accept_rate":65,"display_name":"pauljwilliams"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1242643262,"creation_date":1242643262,"answer_id":877106,"question_id":877096,"body_markdown":"Either write a class that implements Runnable, and pass whatever you need in a suitably defined constructor, or write a class that extends Thread with a suitably defined constructor that calls super() with appropriate parameters.","title":"How can I pass a parameter to a Java Thread?","body":"<p>Either write a class that implements Runnable, and pass whatever you need in a suitably defined constructor, or write a class that extends Thread with a suitably defined constructor that calls super() with appropriate parameters.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1242643301,"creation_date":1242643301,"answer_id":877112,"question_id":877096,"body_markdown":"You can derive a class from Runnable, and during the construction (say) pass the parameter in.\r\n\r\nThen launch it using Thread.start(Runnable r);\r\n\r\nIf you mean *whilst* the thread is running, then simply hold a reference to your derived object in the calling thread, and call the appropriate setter methods (synchronising where appropriate)","title":"How can I pass a parameter to a Java Thread?","body":"<p>You can derive a class from Runnable, and during the construction (say) pass the parameter in.</p>\n\n<p>Then launch it using Thread.start(Runnable r);</p>\n\n<p>If you mean <em>whilst</em> the thread is running, then simply hold a reference to your derived object in the calling thread, and call the appropriate setter methods (synchronising where appropriate)</p>\n"},{"tags":[],"owner":{"account_id":4495,"reputation":335853,"user_id":6782,"accept_rate":78,"display_name":"Alnitak"},"down_vote_count":0,"up_vote_count":421,"is_accepted":true,"score":421,"last_activity_date":1518710716,"creation_date":1242643303,"answer_id":877113,"question_id":877096,"body_markdown":"You need to pass the parameter in the constructor to the Runnable object:\r\n\r\n    public class MyRunnable implements Runnable {\r\n\r\n       public MyRunnable(Object parameter) {\r\n           // store parameter for later user\r\n       }\r\n\r\n       public void run() {\r\n       }\r\n    }\r\n\r\nand invoke it thus:\r\n\r\n    Runnable r = new MyRunnable(param_value);\r\n    new Thread(r).start();\r\n","title":"How can I pass a parameter to a Java Thread?","body":"<p>You need to pass the parameter in the constructor to the Runnable object:</p>\n\n<pre><code>public class MyRunnable implements Runnable {\n\n   public MyRunnable(Object parameter) {\n       // store parameter for later user\n   }\n\n   public void run() {\n   }\n}\n</code></pre>\n\n<p>and invoke it thus:</p>\n\n<pre><code>Runnable r = new MyRunnable(param_value);\nnew Thread(r).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3684,"reputation":43315,"user_id":5346,"accept_rate":84,"display_name":"Nick Fortescue"},"down_vote_count":0,"up_vote_count":128,"is_accepted":false,"score":128,"last_activity_date":1371901005,"creation_date":1242643307,"answer_id":877115,"question_id":877096,"body_markdown":"### For Anonymous classes:\r\n\r\nIn response to question edits here is how it works for Anonymous classes\r\n\r\n       final X parameter = ...; // the final is important\r\n       Thread t = new Thread(new Runnable() {\r\n           p = parameter;\r\n           public void run() { \r\n             ...\r\n           };\r\n       t.start();\r\n\r\n\r\n----------\r\n\r\n### Named classes: \r\n\r\nYou have a class that extends Thread (or implements Runnable) and a constructor with the parameters you&#39;d like to pass. Then, when you create the new thread, you have to pass in the arguments, and then start the thread, something like this:\r\n\r\n    Thread t = new MyThread(args...);\r\n    t.start();\r\n\r\nRunnable is a much better solution than Thread BTW. So I&#39;d prefer:\r\n\r\n       public class MyRunnable implements Runnable {\r\n          private X parameter;\r\n          public MyRunnable(X parameter) {\r\n             this.parameter = parameter;\r\n          }\r\n\r\n          public void run() {\r\n          }\r\n       }\r\n       Thread t = new Thread(new MyRunnable(parameter));\r\n       t.start();\r\n\r\n\r\nThis answer is basically the same as this similar question: [How to pass parameters to a Thread object][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/705037/how-to-pass-parameters-to-a-thread-object\r\n","title":"How can I pass a parameter to a Java Thread?","body":"<h3>For Anonymous classes:</h3>\n\n<p>In response to question edits here is how it works for Anonymous classes</p>\n\n<pre><code>   final X parameter = ...; // the final is important\n   Thread t = new Thread(new Runnable() {\n       p = parameter;\n       public void run() { \n         ...\n       };\n   t.start();\n</code></pre>\n\n<hr>\n\n<h3>Named classes:</h3>\n\n<p>You have a class that extends Thread (or implements Runnable) and a constructor with the parameters you'd like to pass. Then, when you create the new thread, you have to pass in the arguments, and then start the thread, something like this:</p>\n\n<pre><code>Thread t = new MyThread(args...);\nt.start();\n</code></pre>\n\n<p>Runnable is a much better solution than Thread BTW. So I'd prefer:</p>\n\n<pre><code>   public class MyRunnable implements Runnable {\n      private X parameter;\n      public MyRunnable(X parameter) {\n         this.parameter = parameter;\n      }\n\n      public void run() {\n      }\n   }\n   Thread t = new Thread(new MyRunnable(parameter));\n   t.start();\n</code></pre>\n\n<p>This answer is basically the same as this similar question: <a href=\"https://stackoverflow.com/questions/705037/how-to-pass-parameters-to-a-thread-object\">How to pass parameters to a Thread object</a></p>\n"},{"tags":[],"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1440141330,"creation_date":1242643320,"answer_id":877116,"question_id":877096,"body_markdown":"To create a thread you normally create your own implementation of Runnable. Pass the parameters to the thread in the constructor of this class.\r\n\r\n    class MyThread implements Runnable{\r\n       private int a;\r\n       private String b;\r\n       private double c;\r\n    \r\n       public MyThread(int a, String b, double c){\r\n          this.a = a;\r\n          this.b = b;\r\n          this.c = c;\r\n       }\r\n    \r\n       public void run(){\r\n          doSomething(a, b, c);\r\n       }\r\n    }","title":"How can I pass a parameter to a Java Thread?","body":"<p>To create a thread you normally create your own implementation of Runnable. Pass the parameters to the thread in the constructor of this class.</p>\n\n<pre><code>class MyThread implements Runnable{\n   private int a;\n   private String b;\n   private double c;\n\n   public MyThread(int a, String b, double c){\n      this.a = a;\n      this.b = b;\n      this.c = c;\n   }\n\n   public void run(){\n      doSomething(a, b, c);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37202,"reputation":6114,"user_id":106315,"accept_rate":93,"display_name":"jwoolard"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1242643876,"creation_date":1242643393,"answer_id":877118,"question_id":877096,"body_markdown":"When you create a thread, you need an instance of `Runnable`. The easiest way to pass in a parameter would be to pass it in as an argument to the constructor:\r\n\r\n    public class MyRunnable implements Runnable {\r\n        \r\n        private volatile String myParam;\r\n\r\n        public MyRunnable(String myParam){\r\n            this.myParam = myParam;\r\n            ...\r\n        }\r\n\r\n        public void run(){\r\n            // do something with myParam here\r\n            ...\r\n        }\r\n\r\n    }\r\n\r\n    MyRunnable myRunnable = new myRunnable(&quot;Hello World&quot;);\r\n    new Thread(myRunnable).start();\r\n\r\nIf you then want to change the parameter while the thread is running, you can simply add a setter method to your runnable class:\r\n\r\n    public void setMyParam(String value){\r\n        this.myParam = value;\r\n    }\r\n\r\nOnce you have this, you can change the value of the parameter by calling like this:\r\n\r\n    myRunnable.setMyParam(&quot;Goodbye World&quot;);\r\n\r\nOf course, if you want to trigger an action when the parameter is changed, you will have to use locks, which makes things considerably more complex.\r\n\r\n\r\n","title":"How can I pass a parameter to a Java Thread?","body":"<p>When you create a thread, you need an instance of <code>Runnable</code>. The easiest way to pass in a parameter would be to pass it in as an argument to the constructor:</p>\n\n<pre><code>public class MyRunnable implements Runnable {\n\n    private volatile String myParam;\n\n    public MyRunnable(String myParam){\n        this.myParam = myParam;\n        ...\n    }\n\n    public void run(){\n        // do something with myParam here\n        ...\n    }\n\n}\n\nMyRunnable myRunnable = new myRunnable(\"Hello World\");\nnew Thread(myRunnable).start();\n</code></pre>\n\n<p>If you then want to change the parameter while the thread is running, you can simply add a setter method to your runnable class:</p>\n\n<pre><code>public void setMyParam(String value){\n    this.myParam = value;\n}\n</code></pre>\n\n<p>Once you have this, you can change the value of the parameter by calling like this:</p>\n\n<pre><code>myRunnable.setMyParam(\"Goodbye World\");\n</code></pre>\n\n<p>Of course, if you want to trigger an action when the parameter is changed, you will have to use locks, which makes things considerably more complex.</p>\n"},{"tags":[],"owner":{"account_id":14954,"reputation":47917,"user_id":31136,"accept_rate":50,"display_name":"bruno conde"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1242643598,"creation_date":1242643598,"answer_id":877132,"question_id":877096,"body_markdown":"You can either extend the [`Thread`][1] `class` or the [`Runnable`][2] `class` and provide parameters as you want. There are simple examples in the [docs][3]. I&#39;ll port them here:\r\n\r\n\r\n     class PrimeThread extends Thread {\r\n         long minPrime;\r\n         PrimeThread(long minPrime) {\r\n             this.minPrime = minPrime;\r\n         }\r\n \r\n         public void run() {\r\n             // compute primes larger than minPrime\r\n              . . .\r\n         }\r\n     }\r\n\r\n     PrimeThread p = new PrimeThread(143);\r\n     p.start();\r\n\r\n     class PrimeRun implements Runnable {\r\n         long minPrime;\r\n         PrimeRun(long minPrime) {\r\n             this.minPrime = minPrime;\r\n         }\r\n \r\n         public void run() {\r\n             // compute primes larger than minPrime\r\n              . . .\r\n         }\r\n     }\r\n\r\n\r\n     PrimeRun p = new PrimeRun(143);\r\n     new Thread(p).start();\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Thread.html?is-external=true\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/Runnable.html\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/lang/Thread.html?is-external=true","title":"How can I pass a parameter to a Java Thread?","body":"<p>You can either extend the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Thread.html?is-external=true\" rel=\"noreferrer\"><code>Thread</code></a> <code>class</code> or the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Runnable.html\" rel=\"noreferrer\"><code>Runnable</code></a> <code>class</code> and provide parameters as you want. There are simple examples in the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Thread.html?is-external=true\" rel=\"noreferrer\">docs</a>. I'll port them here:</p>\n\n<pre><code> class PrimeThread extends Thread {\n     long minPrime;\n     PrimeThread(long minPrime) {\n         this.minPrime = minPrime;\n     }\n\n     public void run() {\n         // compute primes larger than minPrime\n          . . .\n     }\n }\n\n PrimeThread p = new PrimeThread(143);\n p.start();\n\n class PrimeRun implements Runnable {\n     long minPrime;\n     PrimeRun(long minPrime) {\n         this.minPrime = minPrime;\n     }\n\n     public void run() {\n         // compute primes larger than minPrime\n          . . .\n     }\n }\n\n\n PrimeRun p = new PrimeRun(143);\n new Thread(p).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1300215,"reputation":7638,"user_id":1250303,"display_name":"Java42"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1331499712,"creation_date":1330967720,"answer_id":9570940,"question_id":877096,"body_markdown":"Parameter passing via the start() and run() methods:\r\n\r\n    // Tester\r\n    public static void main(String... args) throws Exception {\r\n        ThreadType2 t = new ThreadType2(new RunnableType2(){\r\n            public void run(Object object) {\r\n                System.out.println(&quot;Parameter=&quot;+object);\r\n            }});\r\n        t.start(&quot;the parameter&quot;);\r\n    }\r\n\r\n    // New class 1 of 2\r\n    public class ThreadType2 {\r\n        final private Thread thread;\r\n        private Object objectIn = null;\r\n        ThreadType2(final RunnableType2 runnableType2) {\r\n            thread = new Thread(new Runnable() {\r\n                public void run() {\r\n                    runnableType2.run(objectIn);\r\n                }});\r\n        }\r\n        public void start(final Object object) {\r\n            this.objectIn = object;\r\n            thread.start();\r\n        }\r\n        // If you want to do things like setDaemon(true); \r\n        public Thread getThread() {\r\n            return thread;\r\n        }\r\n    }\r\n\r\n    // New class 2 of 2\r\n    public interface RunnableType2 {\r\n        public void run(Object object);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I pass a parameter to a Java Thread?","body":"<p>Parameter passing via the start() and run() methods:</p>\n\n<pre><code>// Tester\npublic static void main(String... args) throws Exception {\n    ThreadType2 t = new ThreadType2(new RunnableType2(){\n        public void run(Object object) {\n            System.out.println(\"Parameter=\"+object);\n        }});\n    t.start(\"the parameter\");\n}\n\n// New class 1 of 2\npublic class ThreadType2 {\n    final private Thread thread;\n    private Object objectIn = null;\n    ThreadType2(final RunnableType2 runnableType2) {\n        thread = new Thread(new Runnable() {\n            public void run() {\n                runnableType2.run(objectIn);\n            }});\n    }\n    public void start(final Object object) {\n        this.objectIn = object;\n        thread.start();\n    }\n    // If you want to do things like setDaemon(true); \n    public Thread getThread() {\n        return thread;\n    }\n}\n\n// New class 2 of 2\npublic interface RunnableType2 {\n    public void run(Object object);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37853,"reputation":4899,"user_id":108350,"accept_rate":32,"display_name":"will"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419286796,"creation_date":1419286796,"answer_id":27611318,"question_id":877096,"body_markdown":"One further option; this approach lets you use the Runnable item like an asynchronous function call.  If your task does not need to return a result, e.g. it just performs some action you don&#39;t need to worry about how you pass back an &quot;outcome&quot;.\r\n\r\nThis pattern lets you reuse an item, where you need some kind of internal state.  When not passing  parameter(s) in the constructor care is needed to mediate the programs access to parameters.  You may need more checks if your use-case involves different callers, etc.\r\n\r\n\r\n    public class MyRunnable implements Runnable \r\n    {\r\n      private final Boolean PARAMETER_LOCK  = false;\r\n      private X parameter;\r\n\r\n      public MyRunnable(X parameter) {\r\n         this.parameter = parameter;\r\n      }\r\n\r\n      public void setParameter( final X newParameter ){\r\n\r\n          boolean done = false;\r\n          synchronize( PARAMETER_LOCK )\r\n          {\r\n              if( null == parameter )\r\n              {\r\n                  parameter = newParameter;\r\n                  done = true;\r\n              }\r\n          }\r\n          if( ! done )\r\n          {\r\n              throw new RuntimeException(&quot;MyRunnable - Parameter not cleared.&quot; );\r\n          }\r\n      }\r\n\r\n\r\n      public void clearParameter(){\r\n\r\n          synchronize( PARAMETER_LOCK )\r\n          {\r\n              parameter = null;\r\n          }\r\n      }\r\n\r\n\r\n      public void run() {\r\n\r\n          X localParameter;\r\n\r\n          synchronize( PARAMETER_LOCK )\r\n          {\r\n              localParameter = parameter;\r\n          }\r\n\r\n          if( null != localParameter )\r\n          {\r\n             clearParameter();   //-- could clear now, or later, or not at all ...\r\n             doSomeStuff( localParameter );\r\n          }\r\n\r\n      }\r\n   }\r\n\r\n   Thread t = new Thread(new MyRunnable(parameter));\r\n   t.start();\r\n\r\n\r\nIf you need a result of processing, you will also need to coordinate completion of MyRunnable when the sub-task finishes.  You could pass a call back or just wait on the Thread &#39;t&#39;, etc.\r\n\r\n","title":"How can I pass a parameter to a Java Thread?","body":"<p>One further option; this approach lets you use the Runnable item like an asynchronous function call.  If your task does not need to return a result, e.g. it just performs some action you don't need to worry about how you pass back an \"outcome\".</p>\n\n<p>This pattern lets you reuse an item, where you need some kind of internal state.  When not passing  parameter(s) in the constructor care is needed to mediate the programs access to parameters.  You may need more checks if your use-case involves different callers, etc.</p>\n\n<pre><code>public class MyRunnable implements Runnable \n{\n  private final Boolean PARAMETER_LOCK  = false;\n  private X parameter;\n\n  public MyRunnable(X parameter) {\n     this.parameter = parameter;\n  }\n\n  public void setParameter( final X newParameter ){\n\n      boolean done = false;\n      synchronize( PARAMETER_LOCK )\n      {\n          if( null == parameter )\n          {\n              parameter = newParameter;\n              done = true;\n          }\n      }\n      if( ! done )\n      {\n          throw new RuntimeException(\"MyRunnable - Parameter not cleared.\" );\n      }\n  }\n\n\n  public void clearParameter(){\n\n      synchronize( PARAMETER_LOCK )\n      {\n          parameter = null;\n      }\n  }\n\n\n  public void run() {\n\n      X localParameter;\n\n      synchronize( PARAMETER_LOCK )\n      {\n          localParameter = parameter;\n      }\n\n      if( null != localParameter )\n      {\n         clearParameter();   //-- could clear now, or later, or not at all ...\n         doSomeStuff( localParameter );\n      }\n\n  }\n</code></pre>\n\n<p>}</p>\n\n<p>Thread t = new Thread(new MyRunnable(parameter));\n   t.start();</p>\n\n<p>If you need a result of processing, you will also need to coordinate completion of MyRunnable when the sub-task finishes.  You could pass a call back or just wait on the Thread 't', etc.</p>\n"},{"tags":[],"owner":{"account_id":2353205,"reputation":43234,"user_id":2061604,"accept_rate":73,"display_name":"Andrei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441713166,"creation_date":1441712019,"answer_id":32456728,"question_id":877096,"body_markdown":"Specially for Android\r\n---------------------\r\n\r\nFor callback purposes I usually implement my own generic `Runnable` with input parameter(s):\r\n\r\n    public interface Runnable&lt;TResult&gt; {\r\n        void run(TResult result);\r\n    }\r\n\r\nUsage is simple:\r\n\r\n    myManager.doCallbackOperation(new Runnable&lt;MyResult&gt;() {\r\n    \t@Override\r\n    \tpublic void run(MyResult result) {\r\n    \t\t// do something with the result\r\n    \t}\r\n    });\r\n\r\nIn manager:\r\n\r\n    public void doCallbackOperation(Runnable&lt;MyResult&gt; runnable) {\r\n    \tnew AsyncTask&lt;Void, Void, MyResult&gt;() {\r\n    \t\t@Override\r\n    \t\tprotected MyResult doInBackground(Void... params) {\r\n    \t\t\t// do background operation\r\n    \t\t\treturn new MyResult(); // return resulting object\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void onPostExecute(MyResult result) {\r\n    \t\t\t// execute runnable passing the result when operation has finished\r\n    \t\t\trunnable.run(result);\r\n    \t\t}\r\n    \t}.execute();\r\n    }","title":"How can I pass a parameter to a Java Thread?","body":"<h2>Specially for Android</h2>\n\n<p>For callback purposes I usually implement my own generic <code>Runnable</code> with input parameter(s):</p>\n\n<pre><code>public interface Runnable&lt;TResult&gt; {\n    void run(TResult result);\n}\n</code></pre>\n\n<p>Usage is simple:</p>\n\n<pre><code>myManager.doCallbackOperation(new Runnable&lt;MyResult&gt;() {\n    @Override\n    public void run(MyResult result) {\n        // do something with the result\n    }\n});\n</code></pre>\n\n<p>In manager:</p>\n\n<pre><code>public void doCallbackOperation(Runnable&lt;MyResult&gt; runnable) {\n    new AsyncTask&lt;Void, Void, MyResult&gt;() {\n        @Override\n        protected MyResult doInBackground(Void... params) {\n            // do background operation\n            return new MyResult(); // return resulting object\n        }\n\n        @Override\n        protected void onPostExecute(MyResult result) {\n            // execute runnable passing the result when operation has finished\n            runnable.run(result);\n        }\n    }.execute();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6764092,"reputation":517,"user_id":5264490,"accept_rate":100,"display_name":"Chromium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452136702,"creation_date":1452136702,"answer_id":34646813,"question_id":877096,"body_markdown":"There is a simple way of passing parameters into runnables.\r\nCode:\r\n\r\n    public void Function(final type variable) {\r\n        Runnable runnable = new Runnable() {\r\n            public void run() {\r\n                //Code adding here...\r\n            }\r\n        };\r\n        new Thread(runnable).start();\r\n    }","title":"How can I pass a parameter to a Java Thread?","body":"<p>There is a simple way of passing parameters into runnables.\nCode:</p>\n\n<pre><code>public void Function(final type variable) {\n    Runnable runnable = new Runnable() {\n        public void run() {\n            //Code adding here...\n        }\n    };\n    new Thread(runnable).start();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6441501,"reputation":402,"user_id":4991382,"display_name":"Mihir Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468411201,"creation_date":1468409804,"answer_id":38350646,"question_id":877096,"body_markdown":"No you can&#39;t pass parameters to the `run()` method. The signature tells you that (it has no parameters). Probably the easiest way to do this would be to use a purpose-built object that takes a parameter in the constructor and stores it in a final variable: \r\n\r\n\r\n    public class WorkingTask implements Runnable\r\n    {\r\n        private final Object toWorkWith;\r\n     \r\n        public WorkingTask(Object workOnMe)\r\n        {\r\n            toWorkWith = workOnMe;\r\n        }\r\n     \r\n        public void run()\r\n        {\r\n            //do work\r\n        }\r\n    }\r\n     \r\n    //...\r\n    Thread t = new Thread(new WorkingTask(theData));\r\n    t.start();\r\n\r\nOnce you do that - you have to be careful of the data integrity of the object you pass into the &#39;WorkingTask&#39;. The data will now exist in two different threads so you have to make sure it is Thread Safe.","title":"How can I pass a parameter to a Java Thread?","body":"<p>No you can't pass parameters to the <code>run()</code> method. The signature tells you that (it has no parameters). Probably the easiest way to do this would be to use a purpose-built object that takes a parameter in the constructor and stores it in a final variable: </p>\n\n<pre><code>public class WorkingTask implements Runnable\n{\n    private final Object toWorkWith;\n\n    public WorkingTask(Object workOnMe)\n    {\n        toWorkWith = workOnMe;\n    }\n\n    public void run()\n    {\n        //do work\n    }\n}\n\n//...\nThread t = new Thread(new WorkingTask(theData));\nt.start();\n</code></pre>\n\n<p>Once you do that - you have to be careful of the data integrity of the object you pass into the 'WorkingTask'. The data will now exist in two different threads so you have to make sure it is Thread Safe.</p>\n"},{"tags":[],"owner":{"account_id":2305297,"reputation":1882,"user_id":2024692,"accept_rate":100,"display_name":"Cromax"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1610752470,"creation_date":1472503229,"answer_id":39214833,"question_id":877096,"body_markdown":"This answer comes very late, but maybe someone will find it useful. It is about how to pass a parameter(s) to a `Runnable` without even declaring named class (handy for inliners):\r\n```java\r\n    String someValue = &quot;Just a demo, really...&quot;;\r\n\r\n    new Thread(new Runnable() {\r\n        private String myParam;\r\n\r\n        public Runnable init(String myParam) {\r\n            this.myParam = myParam;\r\n            return this;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;This is called from another thread.&quot;);\r\n            System.out.println(this.myParam);\r\n        }\r\n    }.init(someValue)).start();\r\n```\r\nOf course you can postpone execution of `start` to some more convenient or appropriate moment. And it is up to you what will be the signature of `init` method (so it may take more and/or different arguments) and of course even its name, but basically you get an idea.\r\n\r\nIn fact there is also another way of passing a parameter to an anonymous class, with the use of the initializer blocks. Consider this:\r\n\r\n```java\r\n    String someValue = &quot;Another demo, no serious thing...&quot;;\r\n    int anotherValue = 42;\r\n\r\n    new Thread(new Runnable() {\r\n        private String myParam;\r\n        private int myOtherParam;\r\n        // instance initializer\r\n        {\r\n            this.myParam = someValue;\r\n            this.myOtherParam = anotherValue;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;This comes from another thread.&quot;);\r\n            System.out.println(this.myParam + &quot;, &quot; + this.myOtherParam);\r\n        }\r\n    }).start();\r\n```\r\nSo all happens inside of the initializer block.","title":"How can I pass a parameter to a Java Thread?","body":"<p>This answer comes very late, but maybe someone will find it useful. It is about how to pass a parameter(s) to a <code>Runnable</code> without even declaring named class (handy for inliners):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String someValue = &quot;Just a demo, really...&quot;;\n\n    new Thread(new Runnable() {\n        private String myParam;\n\n        public Runnable init(String myParam) {\n            this.myParam = myParam;\n            return this;\n        }\n\n        @Override\n        public void run() {\n            System.out.println(&quot;This is called from another thread.&quot;);\n            System.out.println(this.myParam);\n        }\n    }.init(someValue)).start();\n</code></pre>\n<p>Of course you can postpone execution of <code>start</code> to some more convenient or appropriate moment. And it is up to you what will be the signature of <code>init</code> method (so it may take more and/or different arguments) and of course even its name, but basically you get an idea.</p>\n<p>In fact there is also another way of passing a parameter to an anonymous class, with the use of the initializer blocks. Consider this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String someValue = &quot;Another demo, no serious thing...&quot;;\n    int anotherValue = 42;\n\n    new Thread(new Runnable() {\n        private String myParam;\n        private int myOtherParam;\n        // instance initializer\n        {\n            this.myParam = someValue;\n            this.myOtherParam = anotherValue;\n        }\n\n        @Override\n        public void run() {\n            System.out.println(&quot;This comes from another thread.&quot;);\n            System.out.println(this.myParam + &quot;, &quot; + this.myOtherParam);\n        }\n    }).start();\n</code></pre>\n<p>So all happens inside of the initializer block.</p>\n"},{"tags":[],"owner":{"account_id":930090,"reputation":4490,"user_id":960115,"accept_rate":92,"display_name":"Jeff G"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1489186173,"creation_date":1489186173,"answer_id":42729024,"question_id":877096,"body_markdown":"As of Java 8, you can use a lambda to capture parameters that are [effectively final](https://stackoverflow.com/a/20938132/960115).  For example:\r\n\r\n    final String param1 = &quot;First param&quot;;\r\n    final int param2 = 2;\r\n    new Thread(() -&gt; {\r\n        // Do whatever you want here: param1 and param2 are in-scope!\r\n        System.out.println(param1);\r\n        System.out.println(param2);\r\n    }).start();","title":"How can I pass a parameter to a Java Thread?","body":"<p>As of Java 8, you can use a lambda to capture parameters that are <a href=\"https://stackoverflow.com/a/20938132/960115\">effectively final</a>.  For example:</p>\n\n<pre><code>final String param1 = \"First param\";\nfinal int param2 = 2;\nnew Thread(() -&gt; {\n    // Do whatever you want here: param1 and param2 are in-scope!\n    System.out.println(param1);\n    System.out.println(param2);\n}).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":267334,"reputation":2179,"user_id":555451,"display_name":"Stuart Cardall"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1514541231,"creation_date":1514541231,"answer_id":48020642,"question_id":877096,"body_markdown":"In Java 8 you can use `lambda` expressions with the [Concurrency API][1] &amp; the `ExecutorService` as a higher level replacement for working with threads directly:\r\n\r\n&gt; `newCachedThreadPool()` Creates a thread pool that creates new threads\r\n&gt; as needed, but will reuse previously constructed threads when they are\r\n&gt; available. These pools will typically improve the performance of programs that execute many short-lived asynchronous tasks.\r\n\r\n\t\tprivate static final ExecutorService executor = Executors.newCachedThreadPool();\r\n\r\n\t\texecutor.submit(() -&gt; {\r\n\t\t\tmyFunction(myParam1, myParam2);\r\n\t\t});\r\n\r\n\r\n\r\nSee also `executors` [javadocs][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html","title":"How can I pass a parameter to a Java Thread?","body":"<p>In Java 8 you can use <code>lambda</code> expressions with the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html\" rel=\"noreferrer\">Concurrency API</a> &amp; the <code>ExecutorService</code> as a higher level replacement for working with threads directly:</p>\n\n<blockquote>\n  <p><code>newCachedThreadPool()</code> Creates a thread pool that creates new threads\n  as needed, but will reuse previously constructed threads when they are\n  available. These pools will typically improve the performance of programs that execute many short-lived asynchronous tasks.</p>\n</blockquote>\n\n<pre><code>    private static final ExecutorService executor = Executors.newCachedThreadPool();\n\n    executor.submit(() -&gt; {\n        myFunction(myParam1, myParam2);\n    });\n</code></pre>\n\n<p>See also <code>executors</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html\" rel=\"noreferrer\">javadocs</a>.</p>\n"},{"tags":[],"owner":{"account_id":6198641,"reputation":114,"user_id":4829218,"display_name":"Calvin K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537363352,"creation_date":1537363352,"answer_id":52406906,"question_id":877096,"body_markdown":"Create a local variable in your class that `extends Thread` or `implements Runnable`.\r\n\r\n    public class Extractor extends Thread {\r\n        public String webpage = &quot;&quot;;\r\n        public Extractor(String w){\r\n            webpage = w;\r\n        }\r\n        public void setWebpage(String l){\r\n            webpage = l;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {// l is link\r\n            System.out.println(webpage);\r\n        }\r\n        public String toString(){\r\n            return &quot;Page: &quot;+webpage;\r\n        }}\r\n\r\nThis way, you can pass a variable when you run it.\r\n\r\n    Extractor e = new Extractor(&quot;www.google.com&quot;);\r\n    e.start();\r\n\r\nThe output:\r\n\r\n    &quot;www.google.com&quot;","title":"How can I pass a parameter to a Java Thread?","body":"<p>Create a local variable in your class that <code>extends Thread</code> or <code>implements Runnable</code>.</p>\n\n<pre><code>public class Extractor extends Thread {\n    public String webpage = \"\";\n    public Extractor(String w){\n        webpage = w;\n    }\n    public void setWebpage(String l){\n        webpage = l;\n    }\n\n    @Override\n    public void run() {// l is link\n        System.out.println(webpage);\n    }\n    public String toString(){\n        return \"Page: \"+webpage;\n    }}\n</code></pre>\n\n<p>This way, you can pass a variable when you run it.</p>\n\n<pre><code>Extractor e = new Extractor(\"www.google.com\");\ne.start();\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>\"www.google.com\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13184766,"reputation":7674,"user_id":9523162,"display_name":"meyi"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1547777884,"creation_date":1547745165,"answer_id":54241038,"question_id":877096,"body_markdown":"I know that I&#39;m a few years late, but I came across this issue and took an unorthodox approach. I wanted to do it without making a new class, so this is what I came up with: \r\n\r\n    int x = 0;\r\n    new Thread((new Runnable() {\r\n         int x;\r\n         public void run() {\r\n            // stuff with x and whatever else you want\r\n         }\r\n         public Runnable pass(int x) {\r\n               this.x = x;\r\n               return this;\r\n         }\r\n    }).pass(x)).start();","title":"How can I pass a parameter to a Java Thread?","body":"<p>I know that I'm a few years late, but I came across this issue and took an unorthodox approach. I wanted to do it without making a new class, so this is what I came up with: </p>\n\n<pre><code>int x = 0;\nnew Thread((new Runnable() {\n     int x;\n     public void run() {\n        // stuff with x and whatever else you want\n     }\n     public Runnable pass(int x) {\n           this.x = x;\n           return this;\n     }\n}).pass(x)).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8900272,"reputation":2515,"user_id":6643940,"display_name":"H.A.H."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615818656,"creation_date":1615818656,"answer_id":66639916,"question_id":877096,"body_markdown":"First I want to point out that other answers are true.\r\nHowever, using the parameter in the constructor may not be the best idea for all of you.\r\n\r\nIn many scenarios you will want to use &quot;Anonymous Inner Class&quot;, and override the `run()` method, because defining specific class for every use is painful.\r\n(`new MyRunnable(){...}`)\r\n\r\nAnd at the time you create that Runnable, the parameter may not be available to you to pass it in the constructor. If for example, you pass this object to a method, that will perform some work in separate thread and then call your runnable, applying the result from that work to it.\r\n\r\nIn that case, using a method like this one:\r\n`public MyRunnable withParameter(Object parameter)`, may turn out to be far more useful choice.\r\n\r\nI do not claim that this is the best solution to the problem, but it will get the job done.","title":"How can I pass a parameter to a Java Thread?","body":"<p>First I want to point out that other answers are true.\nHowever, using the parameter in the constructor may not be the best idea for all of you.</p>\n<p>In many scenarios you will want to use &quot;Anonymous Inner Class&quot;, and override the <code>run()</code> method, because defining specific class for every use is painful.\n(<code>new MyRunnable(){...}</code>)</p>\n<p>And at the time you create that Runnable, the parameter may not be available to you to pass it in the constructor. If for example, you pass this object to a method, that will perform some work in separate thread and then call your runnable, applying the result from that work to it.</p>\n<p>In that case, using a method like this one:\n<code>public MyRunnable withParameter(Object parameter)</code>, may turn out to be far more useful choice.</p>\n<p>I do not claim that this is the best solution to the problem, but it will get the job done.</p>\n"}],"owner":{"account_id":30818,"reputation":21231,"user_id":84278,"accept_rate":74,"display_name":"Steve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452706,"favorite_count":0,"down_vote_count":1,"up_vote_count":339,"accepted_answer_id":877113,"answer_count":19,"score":338,"last_activity_date":1654717055,"creation_date":1242643021,"question_id":877096,"body_markdown":"Can anyone suggest to me how I can pass a parameter to a thread?\r\n\r\nAlso, how does it work for anonymous classes?","title":"How can I pass a parameter to a Java Thread?","body":"<p>Can anyone suggest to me how I can pass a parameter to a thread?</p>\n\n<p>Also, how does it work for anonymous classes?</p>\n"},{"tags":["java","jar","runtime","classloader"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1425431015,"post_id":28844704,"comment_id":45958719,"body_markdown":"In general, you don&#39;t. You&#39;d need to shade one of them and skewer the calling bytecode. There are various ways to do this.","body":"In general, you don&#39;t. You&#39;d need to shade one of them and skewer the calling bytecode. There are various ways to do this."}],"answers":[{"tags":[],"owner":{"account_id":1338540,"reputation":9401,"user_id":1280723,"accept_rate":76,"display_name":"Crazyjavahacking"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425563802,"creation_date":1425563802,"answer_id":28879523,"question_id":28844704,"body_markdown":"**The same class (identified by a fully qualified name) can only be loaded once per class loader.**\r\n\r\nIf you need to load 2 different versions of the same library, you can only do that by using module system or by using multiple classloaders.","title":"Loading class different version from third party jar","body":"<p><strong>The same class (identified by a fully qualified name) can only be loaded once per class loader.</strong></p>\n\n<p>If you need to load 2 different versions of the same library, you can only do that by using module system or by using multiple classloaders.</p>\n"},{"tags":[],"owner":{"account_id":1345799,"reputation":863,"user_id":1286583,"display_name":"Andrew Norman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654715797,"creation_date":1654715180,"answer_id":72550972,"question_id":28844704,"body_markdown":"you can mandate a single version of the comms library for both third party jars to collectively use. \r\n\r\nsbt: \r\n\r\n     &quot;org.comms&quot; % &quot;commsjar&quot; \t\t\t\t\t\t\t\t\t% &quot;{mandated comms version}&quot;\r\n     &quot;org.thirdparty.a&quot; % &quot;lib1&quot; % &quot;1.0.0&quot;\r\n    exclude(&quot;org.comms&quot;, &quot;commsjar&quot;)\r\n     &quot;org.thirdparty.b&quot; % &quot;lib2&quot; % &quot;1.2.3&quot;\r\n    exclude(&quot;org.comms&quot;, &quot;commsjar&quot;)\r\n\r\n\r\nmaven:\r\n\r\n       &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.comms&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commsjar&lt;/artifactId&gt;\r\n          &lt;version&gt;{mandated comms version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.thirdparty.a&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lib1&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.0&lt;/version&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.comms&lt;/groupId&gt;\r\n              &lt;artifactId&gt;commsjar&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt; \r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.thirdparty.b&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lib2&lt;/artifactId&gt;\r\n          &lt;version&gt;1.2.3&lt;/version&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.comms&lt;/groupId&gt;\r\n              &lt;artifactId&gt;commsjar&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt; \r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\nif the mandated jar approach is not viable, then you are going to need take another approach. \r\n\r\nYou could feasibly run the jars independently of each other in separated applications / class loaders as mentioned by other posters. That probably won&#39;t be viable in most systems though as that would be quite an architectural change to the application consuming the libraries.\r\n\r\nThe best way forward (and the fix to the root cause) would be to find a way to rectify the conflict between the 2 jars my upgrading / downgrading the jars to be compatible enough that there is a comms jar that will work for both libraries. A good tool for doing this is https://mvnrepository.com/. That site lists versions of public libraries and charts their required dependencies (as a range of binary acceptable versions).\r\n\r\nYou may find that you need to use a combo approach:\r\n\r\n - pick library versions of the 2 third party libraries described in mvnrepository.com that are more compatible with each other\r\n - use the exclude pattern described above to mandate the specific version of the comms jar  (this is needed if you don&#39;t want to use the default handling of picking the highest version of the 2 dependencies)\r\n","title":"Loading class different version from third party jar","body":"<p>you can mandate a single version of the comms library for both third party jars to collectively use.</p>\n<p>sbt:</p>\n<pre><code> &quot;org.comms&quot; % &quot;commsjar&quot;                                   % &quot;{mandated comms version}&quot;\n &quot;org.thirdparty.a&quot; % &quot;lib1&quot; % &quot;1.0.0&quot;\nexclude(&quot;org.comms&quot;, &quot;commsjar&quot;)\n &quot;org.thirdparty.b&quot; % &quot;lib2&quot; % &quot;1.2.3&quot;\nexclude(&quot;org.comms&quot;, &quot;commsjar&quot;)\n</code></pre>\n<p>maven:</p>\n<pre><code>   &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.comms&lt;/groupId&gt;\n      &lt;artifactId&gt;commsjar&lt;/artifactId&gt;\n      &lt;version&gt;{mandated comms version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.thirdparty.a&lt;/groupId&gt;\n      &lt;artifactId&gt;lib1&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.comms&lt;/groupId&gt;\n          &lt;artifactId&gt;commsjar&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt; \n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.thirdparty.b&lt;/groupId&gt;\n      &lt;artifactId&gt;lib2&lt;/artifactId&gt;\n      &lt;version&gt;1.2.3&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.comms&lt;/groupId&gt;\n          &lt;artifactId&gt;commsjar&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt; \n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>if the mandated jar approach is not viable, then you are going to need take another approach.</p>\n<p>You could feasibly run the jars independently of each other in separated applications / class loaders as mentioned by other posters. That probably won't be viable in most systems though as that would be quite an architectural change to the application consuming the libraries.</p>\n<p>The best way forward (and the fix to the root cause) would be to find a way to rectify the conflict between the 2 jars my upgrading / downgrading the jars to be compatible enough that there is a comms jar that will work for both libraries. A good tool for doing this is <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">https://mvnrepository.com/</a>. That site lists versions of public libraries and charts their required dependencies (as a range of binary acceptable versions).</p>\n<p>You may find that you need to use a combo approach:</p>\n<ul>\n<li>pick library versions of the 2 third party libraries described in mvnrepository.com that are more compatible with each other</li>\n<li>use the exclude pattern described above to mandate the specific version of the comms jar  (this is needed if you don't want to use the default handling of picking the highest version of the 2 dependencies)</li>\n</ul>\n"}],"owner":{"account_id":1377092,"reputation":575,"user_id":1310898,"accept_rate":21,"display_name":"fredy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654715797,"creation_date":1425429410,"question_id":28844704,"body_markdown":"&lt;br&gt;&lt;br&gt;I&#39;m using 2 third party jars (cannot change the class file). Each one uses the same communication jar (same path and name) but of different versions. In case the third party doesn&#39;t use the correct version it crashes. for example:\r\n&lt;br&gt;&lt;br&gt;Third Party A.jar calls comm1.3.jar\r\n&lt;br&gt;Third Party B.jar calls comm1.8.jar\r\n&lt;br&gt;&lt;br&gt;Calling to A or B is multithreaded which might take sync issues so i cannot rely on class loader order.\r\n&lt;br&gt;&lt;br&gt;How can i make sure each third party jar will load/use the correct comm jar?\r\n&lt;br&gt;Do you have a code sample?\r\n\r\nThanks in advance,\r\n&lt;br&gt;  Fredy","title":"Loading class different version from third party jar","body":"<p><br><br>I'm using 2 third party jars (cannot change the class file). Each one uses the same communication jar (same path and name) but of different versions. In case the third party doesn't use the correct version it crashes. for example:\n<br><br>Third Party A.jar calls comm1.3.jar\n<br>Third Party B.jar calls comm1.8.jar\n<br><br>Calling to A or B is multithreaded which might take sync issues so i cannot rely on class loader order.\n<br><br>How can i make sure each third party jar will load/use the correct comm jar?\n<br>Do you have a code sample?</p>\n\n<p>Thanks in advance,\n<br>  Fredy</p>\n"},{"tags":["java","scala","apache-spark","apache-kafka","spark-streaming"],"answers":[{"tags":[],"owner":{"account_id":16271106,"reputation":1214,"user_id":11749651,"display_name":"mvasyliv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654715697,"creation_date":1654715697,"answer_id":72551060,"question_id":72550567,"body_markdown":"    // try or give example JSON\r\n     \r\n    import play.api.libs.json.{Json, OFormat}\r\n    import scala.util.Try\r\n\r\n    final case class Coords(latitude: Double, longitude: Double)\r\n    object Coords {\r\n      implicit val CoordsFormatter: OFormat[Coords] = Json.format[Coords]\r\n      def apply(str: String): Option[Coords] = {\r\n        Try(Json.parse(str).asOpt[Coords]).getOrElse(None)\r\n      }\r\n    }\r\n\r\n    final case class Person(\r\n                             name: String,\r\n                             peacescore: Double,\r\n                           )\r\n    object Person {\r\n      implicit val PersonFormatter: OFormat[Person] = Json.format[Person]\r\n      def apply(str: String): Option[Person] = {\r\n        Try(Json.parse(str).asOpt[Person]).getOrElse(None)\r\n      }\r\n    }\r\n\r\n    final case class SaveableEvent(\r\n                                    peacewatcherID : Int,\r\n                                    timestamp: String,\r\n                                    location: Coords,\r\n                                    words: List[String],\r\n                                    persons: List[Person]\r\n                                  )\r\n    object SaveableEvent {\r\n      implicit val SaveableEventFormatter: OFormat[SaveableEvent] = Json.format[SaveableEvent]\r\n\r\n      def apply(str: String): Option[SaveableEvent] = {\r\n        Try(Json.parse(str).asOpt[SaveableEvent]).getOrElse(None)\r\n      }\r\n    }\r\n","title":"[Scala][Spark] Nullpointer exception on .toDF in Scala Spark in sparkJob","body":"<pre><code>// try or give example JSON\n \nimport play.api.libs.json.{Json, OFormat}\nimport scala.util.Try\n\nfinal case class Coords(latitude: Double, longitude: Double)\nobject Coords {\n  implicit val CoordsFormatter: OFormat[Coords] = Json.format[Coords]\n  def apply(str: String): Option[Coords] = {\n    Try(Json.parse(str).asOpt[Coords]).getOrElse(None)\n  }\n}\n\nfinal case class Person(\n                         name: String,\n                         peacescore: Double,\n                       )\nobject Person {\n  implicit val PersonFormatter: OFormat[Person] = Json.format[Person]\n  def apply(str: String): Option[Person] = {\n    Try(Json.parse(str).asOpt[Person]).getOrElse(None)\n  }\n}\n\nfinal case class SaveableEvent(\n                                peacewatcherID : Int,\n                                timestamp: String,\n                                location: Coords,\n                                words: List[String],\n                                persons: List[Person]\n                              )\nobject SaveableEvent {\n  implicit val SaveableEventFormatter: OFormat[SaveableEvent] = Json.format[SaveableEvent]\n\n  def apply(str: String): Option[SaveableEvent] = {\n    Try(Json.parse(str).asOpt[SaveableEvent]).getOrElse(None)\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":25509129,"reputation":11,"user_id":19301093,"display_name":"SomeDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654715697,"creation_date":1654712938,"question_id":72550567,"body_markdown":"I need to get a bunch of JSON data messages from a Kafka Stream and aggregate them into a single file before putting them on S3.\r\nI managed to get the bunch of JSON files as well as to make them into a list.\r\nHowever, when I try to convert my list of case classes into a DataFrame, I get a nullptr exception at **org.apache.spark.sql.SQLImplicits.localSeqToDatasetHolder**.\r\n\r\nWould you please be so kind as to tell me what is causing it and how to fix it ? I&#39;ve been on this bug for hours.\r\n```Scala\r\nfinal case class Coords(latitude: Double, longitude: Double)\r\n\r\nfinal case class Person(\r\n    name: String,\r\n    peacescore: Double,\r\n)\r\n\r\nfinal case class SaveableEvent(\r\n    peacewatcherID : Int,\r\n    timestamp: String,\r\n    location: Coords,\r\n    words: List[String],\r\n    persons: List[Person]\r\n)\r\n```\r\n```Scala\r\npackage saveaggregate\r\n\r\nimport play.api.libs.json._\r\n\r\nimport java.io.FileNotFoundException\r\nimport java.io.IOException\r\nimport java.time.LocalDateTime\r\nimport java.time.format.DateTimeFormatter \r\n\r\nimport scala.io.Source\r\n\r\nimport org.apache.kafka.common.serialization.StringDeserializer\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig\r\n\r\nimport org.apache.spark.sql.{SparkSession, DataFrame, SaveMode, Row, SQLContext}\r\n\r\nimport org.apache.spark.streaming.{Seconds, StreamingContext}\r\nimport org.apache.spark.streaming.kafka010._\r\nimport org.apache.spark.streaming.kafka010.ConsumerStrategies.Subscribe\r\nimport org.apache.spark.streaming.kafka010.LocationStrategies._\r\nimport org.apache.spark.SparkConf\r\nimport org.apache.spark.rdd.RDD\r\nimport org.apache.spark.sql.Encoders\r\n\r\nimport scala.reflect.ClassTag\r\n\r\nobject Main extends App {\r\n  def experiment() = {\r\n    val filePath = &quot;&quot;\r\n\r\n    val accessKey = &quot;&quot;\r\n    val secretKey = &quot;&quot;\r\n    \r\n    val sparkConf = new SparkConf()\r\n        .setMaster(&quot;local[*]&quot;)\r\n        .setAppName(&quot;save_aggregate&quot;)\r\n        .set(&quot;spark.driver.host&quot;, &quot;127.0.0.1&quot;)\r\n\r\n    val streamContext = new StreamingContext(sparkConf, Seconds(15))\r\n    val sparkContext = streamContext.sparkContext\r\n    val spark: SparkSession = SparkSession.builder.config(sparkContext.getConf).getOrCreate()\r\n    import spark.implicits._\r\n\r\n\r\n    spark.sparkContext.setLogLevel(&quot;ERROR&quot;)\r\n\r\n    spark.sparkContext.hadoopConfiguration.set(&quot;fs.s3a.access.key&quot;, accessKey)\r\n    spark.sparkContext.hadoopConfiguration.set(&quot;fs.s3a.secret.key&quot;, secretKey)\r\n    spark.sparkContext.hadoopConfiguration.set(&quot;fs.s3a.endpoint&quot;, &quot;s3.amazonaws.com&quot;)\r\n\r\n    val kafkaParams = Map(\r\n        &quot;bootstrap.servers&quot; -&gt; &quot;localhost:9092&quot;,\r\n        &quot;key.deserializer&quot; -&gt; classOf[StringDeserializer],\r\n        &quot;value.deserializer&quot; -&gt; classOf[StringDeserializer],\r\n        &quot;group.id&quot; -&gt; &quot;alert&quot;\r\n    )\r\n    \r\n    val topics = Array(&quot;foo&quot;)\r\n\r\n    val stream = KafkaUtils.createDirectStream[String, String](\r\n        streamContext,\r\n        PreferConsistent,\r\n        Subscribe[String,String](topics, kafkaParams)\r\n    )\r\n\r\n    stream.flatMap(record =&gt; {\r\n        // Declare classes format to deserialize\r\n        implicit val personFormat = Json.format[Person]\r\n        implicit val coordsFormat = Json.format[Coords]\r\n        implicit val eventFormat = Json.format[Event]\r\n        val json = Json.parse(record.value())\r\n        eventFormat.reads(json).asOpt\r\n      })\r\n      .map(event =&gt; {\r\n        println(event)\r\n        val serializedTime = event.timestamp.format(DateTimeFormatter.ISO_DATE_TIME)\r\n        SaveableEvent(event.peacewatcherID, serializedTime, event.location, event.words, event.persons)\r\n      })\r\n      .map(event =&gt; List.fill(1)(event))\r\n      .reduce((a, b) =&gt; a ++ b)\r\n      .map(event =&gt; {println(event); event})\r\n      .map(\r\n        eventRows =&gt; {\r\n          val eventList = eventRows.toList\r\n          val df = eventList.toDF // nullptr exception here\r\n          val path = &quot;s3a://path&quot;\r\n          putOnS3(df, path)\r\n          eventList\r\n        }\r\n      )\r\n      .print()\r\n\r\n    streamContext.start()\r\n    streamContext.awaitTermination()\r\n  }\r\n\r\n  def getFromS3(configuredSpark: SparkSession, inAddress: String) = {\r\n    configuredSpark.read\r\n      .option(&quot;header&quot;, &quot;true&quot;)\r\n      .option(&quot;inferSchema&quot;, &quot;true&quot;)\r\n      .json(inAddress)\r\n  }\r\n\r\n  def putOnS3(df: DataFrame, outAddress: String) = {\r\n    println(outAddress)\r\n    df.write.mode(SaveMode.Overwrite).parquet(outAddress)\r\n  }\r\n  \r\n  experiment()\r\n}\r\n```\r\n[console logs of error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tSEpv.png","title":"[Scala][Spark] Nullpointer exception on .toDF in Scala Spark in sparkJob","body":"<p>I need to get a bunch of JSON data messages from a Kafka Stream and aggregate them into a single file before putting them on S3.\nI managed to get the bunch of JSON files as well as to make them into a list.\nHowever, when I try to convert my list of case classes into a DataFrame, I get a nullptr exception at <strong>org.apache.spark.sql.SQLImplicits.localSeqToDatasetHolder</strong>.</p>\n<p>Would you please be so kind as to tell me what is causing it and how to fix it ? I've been on this bug for hours.</p>\n<pre><code>final case class Coords(latitude: Double, longitude: Double)\n\nfinal case class Person(\n    name: String,\n    peacescore: Double,\n)\n\nfinal case class SaveableEvent(\n    peacewatcherID : Int,\n    timestamp: String,\n    location: Coords,\n    words: List[String],\n    persons: List[Person]\n)\n</code></pre>\n<pre><code>package saveaggregate\n\nimport play.api.libs.json._\n\nimport java.io.FileNotFoundException\nimport java.io.IOException\nimport java.time.LocalDateTime\nimport java.time.format.DateTimeFormatter \n\nimport scala.io.Source\n\nimport org.apache.kafka.common.serialization.StringDeserializer\nimport org.apache.kafka.clients.consumer.ConsumerConfig\n\nimport org.apache.spark.sql.{SparkSession, DataFrame, SaveMode, Row, SQLContext}\n\nimport org.apache.spark.streaming.{Seconds, StreamingContext}\nimport org.apache.spark.streaming.kafka010._\nimport org.apache.spark.streaming.kafka010.ConsumerStrategies.Subscribe\nimport org.apache.spark.streaming.kafka010.LocationStrategies._\nimport org.apache.spark.SparkConf\nimport org.apache.spark.rdd.RDD\nimport org.apache.spark.sql.Encoders\n\nimport scala.reflect.ClassTag\n\nobject Main extends App {\n  def experiment() = {\n    val filePath = &quot;&quot;\n\n    val accessKey = &quot;&quot;\n    val secretKey = &quot;&quot;\n    \n    val sparkConf = new SparkConf()\n        .setMaster(&quot;local[*]&quot;)\n        .setAppName(&quot;save_aggregate&quot;)\n        .set(&quot;spark.driver.host&quot;, &quot;127.0.0.1&quot;)\n\n    val streamContext = new StreamingContext(sparkConf, Seconds(15))\n    val sparkContext = streamContext.sparkContext\n    val spark: SparkSession = SparkSession.builder.config(sparkContext.getConf).getOrCreate()\n    import spark.implicits._\n\n\n    spark.sparkContext.setLogLevel(&quot;ERROR&quot;)\n\n    spark.sparkContext.hadoopConfiguration.set(&quot;fs.s3a.access.key&quot;, accessKey)\n    spark.sparkContext.hadoopConfiguration.set(&quot;fs.s3a.secret.key&quot;, secretKey)\n    spark.sparkContext.hadoopConfiguration.set(&quot;fs.s3a.endpoint&quot;, &quot;s3.amazonaws.com&quot;)\n\n    val kafkaParams = Map(\n        &quot;bootstrap.servers&quot; -&gt; &quot;localhost:9092&quot;,\n        &quot;key.deserializer&quot; -&gt; classOf[StringDeserializer],\n        &quot;value.deserializer&quot; -&gt; classOf[StringDeserializer],\n        &quot;group.id&quot; -&gt; &quot;alert&quot;\n    )\n    \n    val topics = Array(&quot;foo&quot;)\n\n    val stream = KafkaUtils.createDirectStream[String, String](\n        streamContext,\n        PreferConsistent,\n        Subscribe[String,String](topics, kafkaParams)\n    )\n\n    stream.flatMap(record =&gt; {\n        // Declare classes format to deserialize\n        implicit val personFormat = Json.format[Person]\n        implicit val coordsFormat = Json.format[Coords]\n        implicit val eventFormat = Json.format[Event]\n        val json = Json.parse(record.value())\n        eventFormat.reads(json).asOpt\n      })\n      .map(event =&gt; {\n        println(event)\n        val serializedTime = event.timestamp.format(DateTimeFormatter.ISO_DATE_TIME)\n        SaveableEvent(event.peacewatcherID, serializedTime, event.location, event.words, event.persons)\n      })\n      .map(event =&gt; List.fill(1)(event))\n      .reduce((a, b) =&gt; a ++ b)\n      .map(event =&gt; {println(event); event})\n      .map(\n        eventRows =&gt; {\n          val eventList = eventRows.toList\n          val df = eventList.toDF // nullptr exception here\n          val path = &quot;s3a://path&quot;\n          putOnS3(df, path)\n          eventList\n        }\n      )\n      .print()\n\n    streamContext.start()\n    streamContext.awaitTermination()\n  }\n\n  def getFromS3(configuredSpark: SparkSession, inAddress: String) = {\n    configuredSpark.read\n      .option(&quot;header&quot;, &quot;true&quot;)\n      .option(&quot;inferSchema&quot;, &quot;true&quot;)\n      .json(inAddress)\n  }\n\n  def putOnS3(df: DataFrame, outAddress: String) = {\n    println(outAddress)\n    df.write.mode(SaveMode.Overwrite).parquet(outAddress)\n  }\n  \n  experiment()\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tSEpv.png\" rel=\"nofollow noreferrer\">console logs of error</a></p>\n"},{"tags":["java","spring-websocket","binance"],"answers":[{"tags":[],"owner":{"account_id":25509527,"reputation":1,"user_id":19301443,"display_name":"Simon Allaway"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654715682,"creation_date":1654715682,"answer_id":72551053,"question_id":70277521,"body_markdown":"You have missed a step. You have to request a listen-key first, which is then used to register/connect to the websocket.\r\n\r\nhttps://binance-docs.github.io/apidocs/spot/en/#listen-key-spot\r\n\r\nPOST /api/v3/userDataStream","title":"WebSocket to Binance: Connection closed error","body":"<p>You have missed a step. You have to request a listen-key first, which is then used to register/connect to the websocket.</p>\n<p><a href=\"https://binance-docs.github.io/apidocs/spot/en/#listen-key-spot\" rel=\"nofollow noreferrer\">https://binance-docs.github.io/apidocs/spot/en/#listen-key-spot</a></p>\n<p>POST /api/v3/userDataStream</p>\n"}],"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654715682,"creation_date":1638977219,"question_id":70277521,"body_markdown":"I am trying trying to create a WebSocket and connect to Binance.\r\n\r\n```\r\npublic static void main(String[] args){\r\n\r\n\tWebSocketClient client = new StandardWebSocketClient();\r\n\r\n\tWebSocketStompClient stompClient = new WebSocketStompClient(client);\r\n\tstompClient.setMessageConverter(new MappingJackson2MessageConverter());\r\n\r\n\tStompSessionHandler sessionHandler = new MyWebSocketHandler();\r\n\tstompClient.connect(&quot;wss://stream.binance.com:9443/ws&quot;, sessionHandler);\r\n\r\n\tnew Scanner(System.in).nextLine(); // Don&#39;t close immediately.\r\n\r\n}\r\n\r\nprivate static class MyWebSocketHandler implements StompSessionHandler {\r\n\r\n\t@Override\r\n\tpublic void afterConnected(StompSession stompSession, StompHeaders stompHeaders) {\r\n\t\tSystem.out.println(&quot;connected&quot;);\r\n\t\tstompSession.send(stompHeaders, &quot;{\\&quot;method\\&quot;: \\&quot;SUBSCRIBE\\&quot;, \\&quot;params\\&quot;:[\\&quot;btcusdt@trade\\&quot;], \\&quot;id\\&quot;: 1}&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void handleException(StompSession stompSession, StompCommand stompCommand, StompHeaders stompHeaders, byte[] bytes, Throwable throwable) {\r\n\t\tthrowable.printStackTrace();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void handleTransportError(StompSession stompSession, Throwable throwable) {\r\n\t\tthrowable.printStackTrace();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Type getPayloadType(StompHeaders stompHeaders) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void handleFrame(StompHeaders stompHeaders, Object o) {\r\n\t\tSystem.out.println(o);\r\n\t}\r\n}\r\n```\r\n\r\nWhen I run this code, I get `Connection closed`:\r\n```\r\norg.springframework.messaging.simp.stomp.ConnectionLostException: Connection closed\r\n\tat org.springframework.messaging.simp.stomp.DefaultStompSession.afterConnectionClosed(DefaultStompSession.java:523)\r\n\tat org.springframework.web.socket.messaging.WebSocketStompClient$WebSocketTcpConnectionHandlerAdapter.afterConnectionClosed(WebSocketStompClient.java:352)\r\n\tat org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionClosed(WebSocketHandlerDecorator.java:85)\r\n\tat org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionClosed(LoggingWebSocketHandlerDecorator.java:72)\r\n\tat org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onClose(StandardWebSocketHandlerAdapter.java:145)\r\n\tat org.glassfish.tyrus.core.TyrusEndpointWrapper.onClose(TyrusEndpointWrapper.java:1190)\r\n\tat org.glassfish.tyrus.core.TyrusWebSocket.onClose(TyrusWebSocket.java:126)\r\n\tat org.glassfish.tyrus.core.frame.CloseFrame.respond(CloseFrame.java:131)\r\n\tat org.glassfish.tyrus.core.ProtocolHandler.process(ProtocolHandler.java:658)\r\n\tat org.glassfish.tyrus.client.TyrusClientEngine$TyrusReadHandler.handle(TyrusClientEngine.java:668)\r\n\tat org.glassfish.tyrus.container.grizzly.client.GrizzlyClientFilter$ProcessTask.execute(GrizzlyClientFilter.java:472)\r\n\tat org.glassfish.tyrus.container.grizzly.client.TaskProcessor.processTask(TaskProcessor.java:114)\r\n\tat org.glassfish.tyrus.container.grizzly.client.TaskProcessor.processTask(TaskProcessor.java:91)\r\n\tat org.glassfish.tyrus.container.grizzly.client.GrizzlyClientFilter.handleRead(GrizzlyClientFilter.java:270)\r\n\tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\r\n\tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\r\n\tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:561)\r\n\tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\r\n\tat java.base/java.lang.Thread.run(Thread.java:844)\r\n```\r\nI also observed in logger this message: `closed with CloseStatus[code=1008, reason=Invalid request]`\r\n\r\nMy imports are these:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.2.2.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.2.2.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.glassfish.tyrus.bundles&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;tyrus-standalone-client&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHow to fix it?","title":"WebSocket to Binance: Connection closed error","body":"<p>I am trying trying to create a WebSocket and connect to Binance.</p>\n<pre><code>public static void main(String[] args){\n\n    WebSocketClient client = new StandardWebSocketClient();\n\n    WebSocketStompClient stompClient = new WebSocketStompClient(client);\n    stompClient.setMessageConverter(new MappingJackson2MessageConverter());\n\n    StompSessionHandler sessionHandler = new MyWebSocketHandler();\n    stompClient.connect(&quot;wss://stream.binance.com:9443/ws&quot;, sessionHandler);\n\n    new Scanner(System.in).nextLine(); // Don't close immediately.\n\n}\n\nprivate static class MyWebSocketHandler implements StompSessionHandler {\n\n    @Override\n    public void afterConnected(StompSession stompSession, StompHeaders stompHeaders) {\n        System.out.println(&quot;connected&quot;);\n        stompSession.send(stompHeaders, &quot;{\\&quot;method\\&quot;: \\&quot;SUBSCRIBE\\&quot;, \\&quot;params\\&quot;:[\\&quot;btcusdt@trade\\&quot;], \\&quot;id\\&quot;: 1}&quot;);\n    }\n\n    @Override\n    public void handleException(StompSession stompSession, StompCommand stompCommand, StompHeaders stompHeaders, byte[] bytes, Throwable throwable) {\n        throwable.printStackTrace();\n    }\n\n    @Override\n    public void handleTransportError(StompSession stompSession, Throwable throwable) {\n        throwable.printStackTrace();\n    }\n\n    @Override\n    public Type getPayloadType(StompHeaders stompHeaders) {\n        return null;\n    }\n\n    @Override\n    public void handleFrame(StompHeaders stompHeaders, Object o) {\n        System.out.println(o);\n    }\n}\n</code></pre>\n<p>When I run this code, I get <code>Connection closed</code>:</p>\n<pre><code>org.springframework.messaging.simp.stomp.ConnectionLostException: Connection closed\n    at org.springframework.messaging.simp.stomp.DefaultStompSession.afterConnectionClosed(DefaultStompSession.java:523)\n    at org.springframework.web.socket.messaging.WebSocketStompClient$WebSocketTcpConnectionHandlerAdapter.afterConnectionClosed(WebSocketStompClient.java:352)\n    at org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionClosed(WebSocketHandlerDecorator.java:85)\n    at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionClosed(LoggingWebSocketHandlerDecorator.java:72)\n    at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onClose(StandardWebSocketHandlerAdapter.java:145)\n    at org.glassfish.tyrus.core.TyrusEndpointWrapper.onClose(TyrusEndpointWrapper.java:1190)\n    at org.glassfish.tyrus.core.TyrusWebSocket.onClose(TyrusWebSocket.java:126)\n    at org.glassfish.tyrus.core.frame.CloseFrame.respond(CloseFrame.java:131)\n    at org.glassfish.tyrus.core.ProtocolHandler.process(ProtocolHandler.java:658)\n    at org.glassfish.tyrus.client.TyrusClientEngine$TyrusReadHandler.handle(TyrusClientEngine.java:668)\n    at org.glassfish.tyrus.container.grizzly.client.GrizzlyClientFilter$ProcessTask.execute(GrizzlyClientFilter.java:472)\n    at org.glassfish.tyrus.container.grizzly.client.TaskProcessor.processTask(TaskProcessor.java:114)\n    at org.glassfish.tyrus.container.grizzly.client.TaskProcessor.processTask(TaskProcessor.java:91)\n    at org.glassfish.tyrus.container.grizzly.client.GrizzlyClientFilter.handleRead(GrizzlyClientFilter.java:270)\n    at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\n    at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\n    at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:561)\n    at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\n    at java.base/java.lang.Thread.run(Thread.java:844)\n</code></pre>\n<p>I also observed in logger this message: <code>closed with CloseStatus[code=1008, reason=Invalid request]</code></p>\n<p>My imports are these:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\n    &lt;version&gt;5.2.2.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n    &lt;version&gt;5.2.2.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.tyrus.bundles&lt;/groupId&gt;\n    &lt;artifactId&gt;tyrus-standalone-client&lt;/artifactId&gt;\n    &lt;version&gt;1.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>How to fix it?</p>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":8575046,"reputation":19,"user_id":6424455,"display_name":"ZZJ"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654672399,"creation_date":1654672399,"answer_id":72541493,"question_id":72541357,"body_markdown":"    //this is your list\r\n    List&lt;StatusBO&gt; objList;\r\n    // you can use java8 stream \r\n    Map&lt;String,List&lt;StatusBO&gt;&gt; result = objList.stream().collect(Collectors.groupingBy(StatusBO::getFromId));\r\n\r\n ","title":"Convert a list of values to a map&lt;key, List&lt;Object&gt;&gt;","body":"<pre><code>//this is your list\nList&lt;StatusBO&gt; objList;\n// you can use java8 stream \nMap&lt;String,List&lt;StatusBO&gt;&gt; result = objList.stream().collect(Collectors.groupingBy(StatusBO::getFromId));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23771513,"reputation":330,"user_id":17785521,"display_name":"Mahadev K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654672815,"creation_date":1654672815,"answer_id":72541566,"question_id":72541357,"body_markdown":"You could use collectors.groupingBy in the collect of stream(). Which will group by your required attribute and get you a Map&lt;&lt;T of attr&gt;, List&lt;T of obj&gt;&gt;.\r\n\r\nPlease refer below for example. Also make sure the attr will not be null. if it is null it would end in an exception. So you can either filter out null attr objects in stream and create map.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n        var obj = new Txn();\r\n        obj.status = &quot;consumed&quot;;\r\n        obj.id = &quot;1&quot;;\r\n\r\n        var obj1 = new Txn();\r\n        obj1.status = &quot;consumed&quot;;\r\n        obj1.id = &quot;2&quot;;\r\n        var obj2 = new Txn();\r\n        obj2.status = &quot;complete&quot;;\r\n        obj2.id = &quot;3&quot;;\r\n        List&lt;Txn&gt; objs = List.of(obj, obj1, obj2);\r\n\r\n        Map&lt;String, List&lt;Txn&gt;&gt; map = objs.stream().collect(Collectors.groupingBy(e -&gt; (e.status)));\r\n\r\n        System.out.println(map);\r\n\r\n    }\r\n```\r\n\r\n```\r\nclass Txn{\r\n    String status;\r\n    String id;\r\n}\r\n```","title":"Convert a list of values to a map&lt;key, List&lt;Object&gt;&gt;","body":"<p>You could use collectors.groupingBy in the collect of stream(). Which will group by your required attribute and get you a Map&lt;, List&gt;.</p>\n<p>Please refer below for example. Also make sure the attr will not be null. if it is null it would end in an exception. So you can either filter out null attr objects in stream and create map.</p>\n<pre><code>public static void main(String[] args) {\n\n        var obj = new Txn();\n        obj.status = &quot;consumed&quot;;\n        obj.id = &quot;1&quot;;\n\n        var obj1 = new Txn();\n        obj1.status = &quot;consumed&quot;;\n        obj1.id = &quot;2&quot;;\n        var obj2 = new Txn();\n        obj2.status = &quot;complete&quot;;\n        obj2.id = &quot;3&quot;;\n        List&lt;Txn&gt; objs = List.of(obj, obj1, obj2);\n\n        Map&lt;String, List&lt;Txn&gt;&gt; map = objs.stream().collect(Collectors.groupingBy(e -&gt; (e.status)));\n\n        System.out.println(map);\n\n    }\n</code></pre>\n<pre><code>class Txn{\n    String status;\n    String id;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654715318,"creation_date":1654715318,"answer_id":72550996,"question_id":72541357,"body_markdown":"Here is one approach. \r\n\r\nHere is the source class.  A special `formatted()` method is created so as no to conflict with a `toString()` method. \r\n```\r\nclass FromInfo {\r\n\tString from_status_desc;\r\n\tint from_id;\r\n\tString to_status_desc;\r\n\tint to_id;\r\n\t\r\n\tpublic FromInfo(String from_status_desc, int from_id,\r\n\t\t\tString to_status_desc, int to_id) {\r\n\t\tthis.from_status_desc = from_status_desc;\r\n\t\tthis.from_id = from_id;\r\n\t\tthis.to_status_desc = to_status_desc;\r\n\t\tthis.to_id = to_id;\r\n\t}\r\n\t\r\n\tpublic String getFrom_status_desc() {\r\n\t\treturn from_status_desc;\r\n\t}\r\n\t\r\n\tpublic int getFrom_id() {\r\n\t\treturn from_id;\r\n\t}\r\n\t\r\n\tpublic String getTo_status_desc() {\r\n\t\treturn to_status_desc;\r\n\t}\r\n\t\r\n\tpublic int getTo_id() {\r\n\t\treturn to_id;\r\n\t}\r\n\tpublic String formatted() {\r\n\t    return &quot;%-8s  %-3s&quot;.formatted(\r\n\t\t\t\tgetFrom_status_desc(),\r\n\t\t\t\tgetFrom_id());\r\n\t}\r\n}\r\n```\r\nNow create a destination class to hold the extracted object info.  It takes the original class as a constructor argument to extract the required values. It uses `toString` for the final format.\r\n```\r\nclass ToInfo {\r\n\t private FromInfo fromInfo;\r\n\t private ToInfo(FromInfo fromInfo) {\r\n\t\t this.fromInfo = fromInfo;\r\n\t }\r\n\t @Override \r\n\t public String toString() {\r\n\t\t return &quot;%-10s %s&quot;.formatted(fromInfo.getTo_status_desc(),fromInfo.getTo_id());\r\n\t }\r\n\t\r\n}\r\n```\r\nThe data\r\n```\r\nList.of(new FromInfo(&quot;Complete&quot;, 5, &quot;Consumed&quot;, 8),\r\n\t\tnew FromInfo(&quot;Complete&quot;, 5, &quot;Inventory&quot;, 9),\r\n\t\tnew FromInfo(&quot;Complete&quot;, 5, &quot;Broke-Inv&quot;, 10),\r\n\t\tnew FromInfo(&quot;Complete&quot;, 5, &quot;Hold&quot;, 11),\r\n\t\tnew FromInfo(&quot;Complete&quot;, 5, &quot;Broke&quot;, 12),\r\n\t\tnew FromInfo(&quot;Consumed&quot;, 8, &quot;Complete&quot;, 5),\r\n\t\tnew FromInfo(&quot;Consumed&quot;, 8, &quot;Inventory&quot;, 9),\r\n\t\tnew FromInfo(&quot;Consumed&quot;, 8, &quot;Broke-Inv&quot;, 10),\r\n\t\tnew FromInfo(&quot;Consumed&quot;, 8, &quot;Hold&quot;, 11),\r\n\t\tnew FromInfo(&quot;Consumed&quot;, 8, &quot;Broke-pmd&quot;, 12));\r\n```\r\nThe solution\r\n- use grouping by:\r\n   - the key is the output from the `formatted()` method of the source class\r\n   - the value is a mapped list which creates a ToInfo class taking the FromInfo object as a constructor argument. \r\n```\t\r\nMap&lt;String, List&lt;ToInfo&gt;&gt; map = list.stream()\r\n\t\t.collect(Collectors.groupingBy(FromInfo::formatted,\r\n\t\t\t\tCollectors.mapping(ToInfo::new, Collectors.toList())));\r\n```\r\nnow display the information.\r\n```\r\nmap.forEach((k,v)-&gt; {\r\n\t          System.out.println(k + &quot; &quot; + v.get(0));\r\n\t          for (int i = 1; i &lt; v.size(); i++) {        \t  \r\n\t        \t  System.out.println(&quot; &quot;.repeat(k.length()+1) + v.get(i));\r\n\t          }\r\n\t          System.out.println();\r\n```\r\nprints\r\n```\r\nConsumed  8   Complete   5\r\n              Inventory  9\r\n              Broke-Inv  10\r\n              Hold       11\r\n              Broke-pmd  12\r\n\r\nComplete  5   Consumed   8\r\n              Inventory  9\r\n              Broke-Inv  10\r\n              Hold       11\r\n              Broke      12\r\n```\r\nNote:  Order is unpredictable in a map so the first column may be in a different order.  This can be solved by selectively printing the values using a list of ordered keys.\r\n","title":"Convert a list of values to a map&lt;key, List&lt;Object&gt;&gt;","body":"<p>Here is one approach.</p>\n<p>Here is the source class.  A special <code>formatted()</code> method is created so as no to conflict with a <code>toString()</code> method.</p>\n<pre><code>class FromInfo {\n    String from_status_desc;\n    int from_id;\n    String to_status_desc;\n    int to_id;\n    \n    public FromInfo(String from_status_desc, int from_id,\n            String to_status_desc, int to_id) {\n        this.from_status_desc = from_status_desc;\n        this.from_id = from_id;\n        this.to_status_desc = to_status_desc;\n        this.to_id = to_id;\n    }\n    \n    public String getFrom_status_desc() {\n        return from_status_desc;\n    }\n    \n    public int getFrom_id() {\n        return from_id;\n    }\n    \n    public String getTo_status_desc() {\n        return to_status_desc;\n    }\n    \n    public int getTo_id() {\n        return to_id;\n    }\n    public String formatted() {\n        return &quot;%-8s  %-3s&quot;.formatted(\n                getFrom_status_desc(),\n                getFrom_id());\n    }\n}\n</code></pre>\n<p>Now create a destination class to hold the extracted object info.  It takes the original class as a constructor argument to extract the required values. It uses <code>toString</code> for the final format.</p>\n<pre><code>class ToInfo {\n     private FromInfo fromInfo;\n     private ToInfo(FromInfo fromInfo) {\n         this.fromInfo = fromInfo;\n     }\n     @Override \n     public String toString() {\n         return &quot;%-10s %s&quot;.formatted(fromInfo.getTo_status_desc(),fromInfo.getTo_id());\n     }\n    \n}\n</code></pre>\n<p>The data</p>\n<pre><code>List.of(new FromInfo(&quot;Complete&quot;, 5, &quot;Consumed&quot;, 8),\n        new FromInfo(&quot;Complete&quot;, 5, &quot;Inventory&quot;, 9),\n        new FromInfo(&quot;Complete&quot;, 5, &quot;Broke-Inv&quot;, 10),\n        new FromInfo(&quot;Complete&quot;, 5, &quot;Hold&quot;, 11),\n        new FromInfo(&quot;Complete&quot;, 5, &quot;Broke&quot;, 12),\n        new FromInfo(&quot;Consumed&quot;, 8, &quot;Complete&quot;, 5),\n        new FromInfo(&quot;Consumed&quot;, 8, &quot;Inventory&quot;, 9),\n        new FromInfo(&quot;Consumed&quot;, 8, &quot;Broke-Inv&quot;, 10),\n        new FromInfo(&quot;Consumed&quot;, 8, &quot;Hold&quot;, 11),\n        new FromInfo(&quot;Consumed&quot;, 8, &quot;Broke-pmd&quot;, 12));\n</code></pre>\n<p>The solution</p>\n<ul>\n<li>use grouping by:\n<ul>\n<li>the key is the output from the <code>formatted()</code> method of the source class</li>\n<li>the value is a mapped list which creates a ToInfo class taking the FromInfo object as a constructor argument.</li>\n</ul>\n</li>\n</ul>\n<pre><code>Map&lt;String, List&lt;ToInfo&gt;&gt; map = list.stream()\n        .collect(Collectors.groupingBy(FromInfo::formatted,\n                Collectors.mapping(ToInfo::new, Collectors.toList())));\n</code></pre>\n<p>now display the information.</p>\n<pre><code>map.forEach((k,v)-&gt; {\n              System.out.println(k + &quot; &quot; + v.get(0));\n              for (int i = 1; i &lt; v.size(); i++) {            \n                  System.out.println(&quot; &quot;.repeat(k.length()+1) + v.get(i));\n              }\n              System.out.println();\n</code></pre>\n<p>prints</p>\n<pre><code>Consumed  8   Complete   5\n              Inventory  9\n              Broke-Inv  10\n              Hold       11\n              Broke-pmd  12\n\nComplete  5   Consumed   8\n              Inventory  9\n              Broke-Inv  10\n              Hold       11\n              Broke      12\n</code></pre>\n<p>Note:  Order is unpredictable in a map so the first column may be in a different order.  This can be solved by selectively printing the values using a list of ordered keys.</p>\n"}],"owner":{"account_id":8856397,"reputation":823,"user_id":6614056,"accept_rate":67,"display_name":"Abhilash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72550996,"answer_count":3,"score":0,"last_activity_date":1654715447,"creation_date":1654671640,"question_id":72541357,"body_markdown":"I am a dataset which is as below:\r\n\r\nInput: `List&lt;Object&gt;` where Object has below fields and data\r\n\r\n    from_status_desc from_id  to_status_desc  to_id\r\n    Complete\t        5\t     Consumed\t    8\r\n    Complete\t        5\t     Inventory\t    9\r\n    Complete\t        5\t     Broke-Inv\t    10\r\n    Complete\t        5\t     Hold\t        11\r\n    Complete\t        5\t     Broke\t        12\r\n    Consumed\t        8\t     Complete\t    5\r\n    Consumed\t        8\t     Inventory\t    9\r\n    Consumed\t        8\t     Broke-Inv\t    10\r\n    Consumed\t        8\t     Hold\t        11\r\n    Consumed\t        8\t     Broke-pmd\t    12\r\n\r\nI want to convert this to a `Map&lt;String, List&lt;Object&gt;&gt;`, object here can be anything which would meet the requirement. The output should be in the below format:\r\n\r\n    from_status_desc from_id  to_status_desc  to_id\r\n    Complete\t5\tConsumed\t8\r\n    \t\t\t\tInventory\t9\r\n    \t\t\t\tBroke-Inv\t10\r\n    \t\t\t\tHold\t    11\r\n    \t\t\t\tBroke\t    12\r\n    \t\t\t\t\r\n    Consumed\t8\tComplete\t5\r\n    \t\t\t\tInventory\t9\r\n    \t\t\t\tBroke-Inv\t10\r\n    \t\t\t\tHold\t    11\r\n    \t\t\t\tBroke-pmd\t12\r\nBasically, we need to group it by `from_status_desc` and `from_id` as key since these are unique and values would be a list of `to_status_desc` and `to_id` together. \r\nHow can this be achived using Java 8 streams?","title":"Convert a list of values to a map&lt;key, List&lt;Object&gt;&gt;","body":"<p>I am a dataset which is as below:</p>\n<p>Input: <code>List&lt;Object&gt;</code> where Object has below fields and data</p>\n<pre><code>from_status_desc from_id  to_status_desc  to_id\nComplete            5        Consumed       8\nComplete            5        Inventory      9\nComplete            5        Broke-Inv      10\nComplete            5        Hold           11\nComplete            5        Broke          12\nConsumed            8        Complete       5\nConsumed            8        Inventory      9\nConsumed            8        Broke-Inv      10\nConsumed            8        Hold           11\nConsumed            8        Broke-pmd      12\n</code></pre>\n<p>I want to convert this to a <code>Map&lt;String, List&lt;Object&gt;&gt;</code>, object here can be anything which would meet the requirement. The output should be in the below format:</p>\n<pre><code>from_status_desc from_id  to_status_desc  to_id\nComplete    5   Consumed    8\n                Inventory   9\n                Broke-Inv   10\n                Hold        11\n                Broke       12\n                \nConsumed    8   Complete    5\n                Inventory   9\n                Broke-Inv   10\n                Hold        11\n                Broke-pmd   12\n</code></pre>\n<p>Basically, we need to group it by <code>from_status_desc</code> and <code>from_id</code> as key since these are unique and values would be a list of <code>to_status_desc</code> and <code>to_id</code> together.\nHow can this be achived using Java 8 streams?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1654713477,"post_id":72550634,"comment_id":128159934,"body_markdown":"Start here: https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors","body":"Start here: <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\" title=\"what is a stack trace and how can i use it to debug my application errors\">stackoverflow.com/questions/3988788/&hellip;</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1654713588,"post_id":72550634,"comment_id":128159980,"body_markdown":"So the key part is &quot;Caused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found ... at com.example.speedreading.HelloApplication.start(HelloApplication.java:15)&quot;. And the specific problem is described in detail at https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other","body":"So the key part is &quot;Caused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found ... at com.example.speedreading.HelloApplication.start(HelloApplica&zwnj;&#8203;tion.java:15)&quot;. And the specific problem is described in detail at <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\" title=\"how do i determine the correct path for fxml files css files images and other\">stackoverflow.com/questions/61531317/&hellip;</a>"}],"owner":{"account_id":25509106,"reputation":11,"user_id":19301077,"display_name":"therealfriendly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1654715400,"answer_count":0,"score":1,"last_activity_date":1654715434,"creation_date":1654713265,"question_id":72550634,"body_markdown":"im fairly new to coding and need to learn JavaFX and Java in 3 Weeks for school.\r\nI need to learn to read those error files, because 3 weeks is not long and i cant ask everytime in this forum xd.\r\nSo maybe someone can teach me/send me an documentation or something to reading and understanding the errors in the output.\r\nIm using Intellij and im getting this error code:\r\n\r\n&gt; Exception in Application start method\r\n&gt; java.lang.reflect.InvocationTargetException \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n&gt; \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) \tat\r\n&gt; java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\n&gt; Caused by: java.lang.RuntimeException: Exception in Application start\r\n&gt; method \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n&gt; \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833) Caused by:\r\n&gt; java.lang.IllegalArgumentException: Invalid URL: Invalid URL or\r\n&gt; resource not found \tat\r\n&gt; javafx.graphics@18.0.1/javafx.scene.image.Image.validateUrl(Image.java:1135)\r\n&gt; \tat\r\n&gt; javafx.graphics@18.0.1/javafx.scene.image.Image.&lt;init&gt;(Image.java:625)\r\n&gt; \tat\r\n&gt; com.example.speedreading.HelloApplication.start(HelloApplication.java:15)\r\n&gt; \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n&gt; \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n&gt; \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n&gt; \tat\r\n&gt; java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n&gt; \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n&gt; \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n&gt; \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native\r\n&gt; Method) \tat\r\n&gt; javafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n&gt; \t... 1 more Caused by: java.lang.IllegalArgumentException: Invalid URL\r\n&gt; or resource not found \tat\r\n&gt; javafx.graphics@18.0.1/javafx.scene.image.Image.validateUrl(Image.java:1120)\r\n&gt; \t... 11 more Exception running application\r\n&gt; com.example.speedreading.HelloApplication\r\n&gt; \r\n&gt; Process finished with exit code 1\r\n\r\nHere is my code:\r\n\r\n    package com.example.speedreading;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.image.Image;\r\n    import javafx.stage.Stage;\r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n            Image icon = new Image(&quot;mb.png&quot;);\r\n            stage.getIcons().add(icon);\r\n            stage.setTitle(&quot;SpeedReading&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nThis all happened, when i finally got everything set up and all errors fixed, and tried to set a picture as a icon of my window.\r\nI have no clue what the error means and cant read/understand it.","title":"Exception in Application start method how to read error output","body":"<p>im fairly new to coding and need to learn JavaFX and Java in 3 Weeks for school.\nI need to learn to read those error files, because 3 weeks is not long and i cant ask everytime in this forum xd.\nSo maybe someone can teach me/send me an documentation or something to reading and understanding the errors in the output.\nIm using Intellij and im getting this error code:</p>\n<blockquote>\n<p>Exception in Application start method\njava.lang.reflect.InvocationTargetException   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)   at\njavafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\nat\njavafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\nat\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)   at\njava.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Exception in Application start\nmethod    at\njavafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\nat\njavafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\nat java.base/java.lang.Thread.run(Thread.java:833) Caused by:\njava.lang.IllegalArgumentException: Invalid URL: Invalid URL or\nresource not found    at\njavafx.graphics@18.0.1/javafx.scene.image.Image.validateUrl(Image.java:1135)\nat\njavafx.graphics@18.0.1/javafx.scene.image.Image.(Image.java:625)\nat\ncom.example.speedreading.HelloApplication.start(HelloApplication.java:15)\nat\njavafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\nat\njavafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\nat\njavafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\nat\njava.base/java.security.AccessController.doPrivileged(AccessController.java:399)\nat\njavafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\nat\njavafx.graphics@18.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\nat\njavafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native\nMethod)   at\njavafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n... 1 more Caused by: java.lang.IllegalArgumentException: Invalid URL\nor resource not found     at\njavafx.graphics@18.0.1/javafx.scene.image.Image.validateUrl(Image.java:1120)\n... 11 more Exception running application\ncom.example.speedreading.HelloApplication</p>\n<p>Process finished with exit code 1</p>\n</blockquote>\n<p>Here is my code:</p>\n<pre><code>package com.example.speedreading;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.image.Image;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        Image icon = new Image(&quot;mb.png&quot;);\n        stage.getIcons().add(icon);\n        stage.setTitle(&quot;SpeedReading&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>This all happened, when i finally got everything set up and all errors fixed, and tried to set a picture as a icon of my window.\nI have no clue what the error means and cant read/understand it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1549058830,"post_id":54487750,"comment_id":95782114,"body_markdown":"You never store any of the entered values into the second student&#39;s record.","body":"You never store any of the entered values into the second student&#39;s record."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1549059179,"post_id":54487750,"comment_id":95782209,"body_markdown":"Also please post complete code, otherwise it&#39;s just more work for other people to try to help. Please see the [How to Ask](https://stackoverflow.com/help/how-to-ask) page.","body":"Also please post complete code, otherwise it&#39;s just more work for other people to try to help. Please see the <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> page."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1549059339,"post_id":54487750,"comment_id":95782254,"body_markdown":"You call `student2 = new StudentRecord();` and don&#39;t call any setter methods on `student2`, so why are you confused that `student2.courseGradeOne` has a value of 0 (**zero**) causing `student2.letterReturn()` to return an `&#39;F&#39;`?","body":"You call <code>student2 = new StudentRecord();</code> and don&#39;t call any setter methods on <code>student2</code>, so why are you confused that <code>student2.courseGradeOne</code> has a value of 0 (<b>zero</b>) causing <code>student2.letterReturn()</code> to return an <code>&#39;F&#39;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":5794305,"reputation":5,"user_id":4570571,"display_name":"Tung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549061097,"creation_date":1549061097,"answer_id":54488102,"question_id":54487750,"body_markdown":"Make use of the getter/setter methods would help in the case of student2\r\n\r\n    //creating student2 &#39;object&#39;.\r\n    StudentRecord student2 = new StudentRecord();\r\n    \r\n    //ask information about student2.\r\n    System.out.println(&quot;What is your first name?&quot;);\r\n    String firstName = input.nextLine();\r\n    student2.setFirstName(firstName);\r\n\r\n    //print supplied information to user.\r\n    System.out.println(&quot;First Name: &quot; + student2.getFirstName());\r\n\r\nDo the same thing for the rest, and it should work out. ","title":"Not getting expected result from calling object method","body":"<p>Make use of the getter/setter methods would help in the case of student2</p>\n\n<pre><code>//creating student2 'object'.\nStudentRecord student2 = new StudentRecord();\n\n//ask information about student2.\nSystem.out.println(\"What is your first name?\");\nString firstName = input.nextLine();\nstudent2.setFirstName(firstName);\n\n//print supplied information to user.\nSystem.out.println(\"First Name: \" + student2.getFirstName());\n</code></pre>\n\n<p>Do the same thing for the rest, and it should work out. </p>\n"},{"tags":[],"owner":{"account_id":17822445,"reputation":125,"user_id":12944503,"display_name":"b0bbydev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654715175,"creation_date":1654715175,"answer_id":72550971,"question_id":54487750,"body_markdown":"Make use of setters and getters for the student2 object.","title":"Not getting expected result from calling object method","body":"<p>Make use of setters and getters for the student2 object.</p>\n"}],"owner":{"account_id":15249322,"reputation":3,"user_id":11003250,"display_name":"john"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72550971,"answer_count":2,"score":-2,"last_activity_date":1654715175,"creation_date":1549058724,"question_id":54487750,"body_markdown":"I have two .java files, one being a &#39;blueprint&#39;, the other containing only the main method. The issue I&#39;m having is, I want to print the letter that corresponds to the number being inputted. I have it working fine for one &quot;student&quot; object, but when creating another &quot;student2&quot; object, the letter &#39;F&#39; is printed every time no matter what number the user inputs. Please look at the code below to better understand.\r\n\r\n    public class StudentRecord\r\n\r\n\t\r\n\tpublic String firstName;\r\n\tpublic String lastName;\r\n\tpublic int studentID;\r\n\tpublic int courseGradeOne;\r\n\t\r\n\t\r\n\t//create a constructor with no args.\r\n\tpublic StudentRecord()\r\n\t{\r\n\t\r\n\t}//end of constructor without args.\r\n\t\r\n\tpublic StudentRecord(String firstName, String lastName, int studentID, int courseGradeOne)\r\n\t{\r\n\t\t//initializing variables.\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t\tthis.studentID = studentID;\r\n\t\tthis.courseGradeOne = courseGradeOne;\r\n\t}//end of constructor with args.\r\n\t\r\n\t\r\n\t\r\n\t/*\r\n\tSetters &amp; Getters for all &#39;fields&#39;.\r\n\t*/\r\n\t\r\n\t\r\n\tpublic void setFirstName(String firstName)\r\n\t{\r\n\t\tfirstName = firstName;\r\n\t\t\r\n\t}//end of setter firstName.\r\n\t\r\n\tpublic String getFirstName()\r\n\t{\r\n\t\treturn firstName;\r\n\t}//end of getter firstName.\r\n\t\r\n\tpublic void setLastName(String lastName)\r\n\t{\r\n\t\tlastName = lastName;\r\n\t\t\r\n\t}//end of setter lastName.\r\n\t\r\n\tpublic String getLastName()\r\n\t{\r\n\t\treturn lastName;\r\n\t}//end of getter lastName.\r\n\t\r\n\tpublic void setStudentID(int studentID)\r\n\t{\r\n\t\tstudentID = studentID;\r\n\t\t\r\n\t}//end of setter studentID.\r\n\t\r\n\tpublic int getStudentID()\r\n\t{\r\n\t\treturn studentID;\r\n\t}//end of getStudentID.\r\n\t\r\n\tpublic void setCourseGradeOne(int courseGradeOne)\r\n\t{\r\n\t\tcourseGradeOne = courseGradeOne;\r\n\t\t\r\n\t}//end of setter courseGradeOne.\r\n\t\r\n\tpublic int getCourseGradeOne()\r\n\t{\r\n\t\treturn courseGradeOne;\r\n\t}//end of getter courseGradeOne.\r\n\t\r\n\t\r\n\t/*\r\n\tDecision statements to determine &quot;letter grade&quot;.\r\n\t*/\r\n\t\r\n\tpublic char letterReturn()\r\n\t{\r\n\t\tif(courseGradeOne &gt;= 90)\r\n\t\t\treturn &#39;A&#39;;\r\n\t\telse\r\n\t\t\tif(courseGradeOne &gt;= 80)\r\n\t\t\t\treturn &#39;B&#39;;\r\n\t\t\telse\r\n\t\t\t\tif(courseGradeOne &gt;= 70)\r\n\t\t\t\t\treturn &#39;C&#39;;\r\n\t\t\t\telse\r\n\t\t\t\t\tif(courseGradeOne &gt;= 60)\r\n\t\t\t\t\t\treturn &#39;D&#39;;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tif(courseGradeOne &gt;= 50)\r\n\t\t\t\t\t\t\treturn &#39;E&#39;;\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\treturn &#39;F&#39;;\r\n\t}//end of letterReturn.\r\n\r\nSECOND .java file\r\n\r\npublic class TestStudentRecord\r\n{\r\n\t\r\n\tstatic Scanner input = new Scanner(System.in);\r\n\t\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\t//creating student1 &#39;object&#39;.\r\n\t\tStudentRecord student1 = new StudentRecord(&quot;Bob&quot;, &quot;Smith&quot;, 111111, 100);\r\n\t\t\r\n\t\t//print information about student1.\r\n\t\tSystem.out.println(&quot;First Name: &quot; + student1.getFirstName());\r\n\t\tSystem.out.println(&quot;Last Name: &quot; + student1.getLastName());\r\n\t\tSystem.out.println(&quot;Student Number: &quot; + student1.getStudentID());\r\n\t\tSystem.out.println(&quot;Course Grade(letter): &quot; + student1.letterReturn());\r\n\t\t\r\n\t\t//blank prints to improve readability.\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t\t//blank prints to improve readability.\r\n\t\t\r\n\t\t//creating student2 &#39;object&#39;.\r\n\t\tStudentRecord student2 = new StudentRecord();\r\n\t\t\r\n\t\t//ask information about student2.\r\n\t\tSystem.out.println(&quot;What is your first name?&quot;);\r\n\t\tString firstName = input.nextLine();\r\n\t\t\r\n\t\tSystem.out.println(&quot;What is your last name?&quot;);\r\n\t\tString lastName = input.nextLine();\r\n\t\t\r\n\t\tSystem.out.println(&quot;What is your student number?&quot;);\r\n\t\tint studentID = input.nextInt();\r\n\t\t\r\n\t\tSystem.out.println(&quot;What is your grade in the course?&quot;);\r\n\t\tint courseGradeOne = input.nextInt();\r\n\t\t\r\n\t\t//print supplied information to user.\r\n\t\tSystem.out.println(&quot;First Name: &quot; + firstName);\r\n\t\tSystem.out.println(&quot;Last Name: &quot; + lastName);\r\n\t\tSystem.out.println(&quot;Student Number: &quot; + studentID);\r\n\t\tSystem.out.println(&quot;Course Grade(letter): &quot; + student2.letterReturn());\r\n\r\nAs you can see the very last line is what is tripping me up, it always prints &#39;F&#39; no matter what the 2nd student enters. Maybe I&#39;m posting too much unnecessary code, but hopefully you can understand that, rather than my lame skills at trying to explain what I&#39;m doing. Any feedback is appreciated. ","title":"Not getting expected result from calling object method","body":"<p>I have two .java files, one being a 'blueprint', the other containing only the main method. The issue I'm having is, I want to print the letter that corresponds to the number being inputted. I have it working fine for one \"student\" object, but when creating another \"student2\" object, the letter 'F' is printed every time no matter what number the user inputs. Please look at the code below to better understand.</p>\n\n<pre><code>public class StudentRecord\n\n\npublic String firstName;\npublic String lastName;\npublic int studentID;\npublic int courseGradeOne;\n\n\n//create a constructor with no args.\npublic StudentRecord()\n{\n\n}//end of constructor without args.\n\npublic StudentRecord(String firstName, String lastName, int studentID, int courseGradeOne)\n{\n    //initializing variables.\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.studentID = studentID;\n    this.courseGradeOne = courseGradeOne;\n}//end of constructor with args.\n\n\n\n/*\nSetters &amp; Getters for all 'fields'.\n*/\n\n\npublic void setFirstName(String firstName)\n{\n    firstName = firstName;\n\n}//end of setter firstName.\n\npublic String getFirstName()\n{\n    return firstName;\n}//end of getter firstName.\n\npublic void setLastName(String lastName)\n{\n    lastName = lastName;\n\n}//end of setter lastName.\n\npublic String getLastName()\n{\n    return lastName;\n}//end of getter lastName.\n\npublic void setStudentID(int studentID)\n{\n    studentID = studentID;\n\n}//end of setter studentID.\n\npublic int getStudentID()\n{\n    return studentID;\n}//end of getStudentID.\n\npublic void setCourseGradeOne(int courseGradeOne)\n{\n    courseGradeOne = courseGradeOne;\n\n}//end of setter courseGradeOne.\n\npublic int getCourseGradeOne()\n{\n    return courseGradeOne;\n}//end of getter courseGradeOne.\n\n\n/*\nDecision statements to determine \"letter grade\".\n*/\n\npublic char letterReturn()\n{\n    if(courseGradeOne &gt;= 90)\n        return 'A';\n    else\n        if(courseGradeOne &gt;= 80)\n            return 'B';\n        else\n            if(courseGradeOne &gt;= 70)\n                return 'C';\n            else\n                if(courseGradeOne &gt;= 60)\n                    return 'D';\n                else\n                    if(courseGradeOne &gt;= 50)\n                        return 'E';\n                    else\n                        return 'F';\n}//end of letterReturn.\n</code></pre>\n\n<p>SECOND .java file</p>\n\n<p>public class TestStudentRecord\n{</p>\n\n<pre><code>static Scanner input = new Scanner(System.in);\n\npublic static void main(String[] args)\n{\n    //creating student1 'object'.\n    StudentRecord student1 = new StudentRecord(\"Bob\", \"Smith\", 111111, 100);\n\n    //print information about student1.\n    System.out.println(\"First Name: \" + student1.getFirstName());\n    System.out.println(\"Last Name: \" + student1.getLastName());\n    System.out.println(\"Student Number: \" + student1.getStudentID());\n    System.out.println(\"Course Grade(letter): \" + student1.letterReturn());\n\n    //blank prints to improve readability.\n    System.out.println(\"\");\n    System.out.println(\"\");\n    System.out.println(\"\");\n    //blank prints to improve readability.\n\n    //creating student2 'object'.\n    StudentRecord student2 = new StudentRecord();\n\n    //ask information about student2.\n    System.out.println(\"What is your first name?\");\n    String firstName = input.nextLine();\n\n    System.out.println(\"What is your last name?\");\n    String lastName = input.nextLine();\n\n    System.out.println(\"What is your student number?\");\n    int studentID = input.nextInt();\n\n    System.out.println(\"What is your grade in the course?\");\n    int courseGradeOne = input.nextInt();\n\n    //print supplied information to user.\n    System.out.println(\"First Name: \" + firstName);\n    System.out.println(\"Last Name: \" + lastName);\n    System.out.println(\"Student Number: \" + studentID);\n    System.out.println(\"Course Grade(letter): \" + student2.letterReturn());\n</code></pre>\n\n<p>As you can see the very last line is what is tripping me up, it always prints 'F' no matter what the 2nd student enters. Maybe I'm posting too much unnecessary code, but hopefully you can understand that, rather than my lame skills at trying to explain what I'm doing. Any feedback is appreciated. </p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"score":1,"creation_date":1578687645,"post_id":59688462,"comment_id":105533628,"body_markdown":"If everything is happening in the same process, I would use an AtomicInteger to keep up with the last ID assigned. This would also solve race conditions that would arise if you tried to get the last ID from the records that were already created.","body":"If everything is happening in the same process, I would use an AtomicInteger to keep up with the last ID assigned. This would also solve race conditions that would arise if you tried to get the last ID from the records that were already created."}],"answers":[{"tags":[],"owner":{"account_id":16458650,"reputation":2913,"user_id":11890264,"display_name":"Assael Azran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1578777997,"creation_date":1578777997,"answer_id":59698779,"question_id":59688462,"body_markdown":"Try this:\r\n\r\n    GET my_index/_search\r\n    {\r\n      &quot;size&quot;: 1, \r\n      &quot;query&quot;: {\r\n        &quot;match_all&quot;: {}\r\n      },\r\n      &quot;sort&quot; : {\r\n            &quot;_script&quot; : {\r\n                &quot;type&quot; : &quot;number&quot;,\r\n                &quot;script&quot; : {\r\n                    &quot;lang&quot;: &quot;painless&quot;,\r\n                    &quot;source&quot;: &quot;Integer.parseInt(doc[&#39;_id&#39;].value)&quot;\r\n                   \r\n                },\r\n                &quot;order&quot; : &quot;desc&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nHope this helps","title":"Elasticsearch: sort by a numberic field","body":"<p>Try this:</p>\n\n<pre><code>GET my_index/_search\n{\n  \"size\": 1, \n  \"query\": {\n    \"match_all\": {}\n  },\n  \"sort\" : {\n        \"_script\" : {\n            \"type\" : \"number\",\n            \"script\" : {\n                \"lang\": \"painless\",\n                \"source\": \"Integer.parseInt(doc['_id'].value)\"\n\n            },\n            \"order\" : \"desc\"\n        }\n    }\n}\n</code></pre>\n\n<p>Hope this helps</p>\n"}],"owner":{"account_id":1318956,"reputation":6802,"user_id":1265205,"accept_rate":68,"display_name":"Andr&#233; Luiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59698779,"answer_count":1,"score":0,"last_activity_date":1654714680,"creation_date":1578687409,"question_id":59688462,"body_markdown":"I&#39;m coding a console app to Insert data from JSOIN files into Elasticsearch 7.5.1. The `_id` field should be an int and act like auto-increment. To make that happen, before inserting I get the last ID inserted and increment 1. \r\n\r\nMy problem is that I&#39;m having trouble getting the last ID, because the ordering is happening on a string. This is what I mean: if you have `10 items` and the last ID is `10`, when querying and sorting it will return `9`.\r\n\r\nThis is my query when using Postman:\r\n\r\n    GET my_index/_search\r\n    {\r\n      &quot;size&quot;: 1, \r\n      &quot;query&quot;: {\r\n        &quot;match_all&quot;: {}\r\n      },\r\n     &quot;sort&quot;: [{\r\n          &quot;_id&quot;: {\r\n            &quot;order&quot;: &quot;desc&quot;\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\nAnd my Java function using [their client][1]:\r\n\r\n    private static String getLastElasticSearchId(String index)\r\n    {\r\n        RestHighLevelClient client = getElasticSearchClient();\r\n\r\n        SearchRequest searchRequest = new SearchRequest(index);\r\n        SearchSourceBuilder b = new SearchSourceBuilder();\r\n        b.query(QueryBuilders.matchAllQuery());\r\n        b.sort(new FieldSortBuilder(&quot;_id&quot;).order(SortOrder.DESC));\r\n        b.from(0);\r\n        b.size(1);\r\n        searchRequest.source(b);\r\n\r\n        try {\r\n\r\n            SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\r\n            SearchHits hits = searchResponse.getHits();\r\n\r\n            if(hits.getTotalHits().value &gt; 0){\r\n                SearchHit[] searchHits = hits.getHits();\r\n                for (SearchHit hit : searchHits) {\r\n                    return hit.getId();\r\n                }\r\n            }\r\n            else {\r\n                return &quot;0&quot;;\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                client.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\nBoth return 9 as the last ID, even having another item in the index with 10 as ID.\r\n\r\nI cannot apply string padding in the IDs as answered [here][2].\r\n\r\nHow can I achieve what I need?\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/7.5/java-rest-high-search.html\r\n  [2]: https://stackoverflow.com/questions/25199481/elasticsearch-sorting-integer-desc","title":"Elasticsearch: sort by a numberic field","body":"<p>I'm coding a console app to Insert data from JSOIN files into Elasticsearch 7.5.1. The <code>_id</code> field should be an int and act like auto-increment. To make that happen, before inserting I get the last ID inserted and increment 1.</p>\n<p>My problem is that I'm having trouble getting the last ID, because the ordering is happening on a string. This is what I mean: if you have <code>10 items</code> and the last ID is <code>10</code>, when querying and sorting it will return <code>9</code>.</p>\n<p>This is my query when using Postman:</p>\n<pre><code>GET my_index/_search\n{\n  &quot;size&quot;: 1, \n  &quot;query&quot;: {\n    &quot;match_all&quot;: {}\n  },\n &quot;sort&quot;: [{\n      &quot;_id&quot;: {\n        &quot;order&quot;: &quot;desc&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p>And my Java function using <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/7.5/java-rest-high-search.html\" rel=\"nofollow noreferrer\">their client</a>:</p>\n<pre><code>private static String getLastElasticSearchId(String index)\n{\n    RestHighLevelClient client = getElasticSearchClient();\n\n    SearchRequest searchRequest = new SearchRequest(index);\n    SearchSourceBuilder b = new SearchSourceBuilder();\n    b.query(QueryBuilders.matchAllQuery());\n    b.sort(new FieldSortBuilder(&quot;_id&quot;).order(SortOrder.DESC));\n    b.from(0);\n    b.size(1);\n    searchRequest.source(b);\n\n    try {\n\n        SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\n        SearchHits hits = searchResponse.getHits();\n\n        if(hits.getTotalHits().value &gt; 0){\n            SearchHit[] searchHits = hits.getHits();\n            for (SearchHit hit : searchHits) {\n                return hit.getId();\n            }\n        }\n        else {\n            return &quot;0&quot;;\n        }\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            client.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    return null;\n}\n</code></pre>\n<p>Both return 9 as the last ID, even having another item in the index with 10 as ID.</p>\n<p>I cannot apply string padding in the IDs as answered <a href=\"https://stackoverflow.com/questions/25199481/elasticsearch-sorting-integer-desc\">here</a>.</p>\n<p>How can I achieve what I need?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1654715976,"post_id":72550609,"comment_id":128160736,"body_markdown":"In both cases, you are _implementing_ the interface using an anonymous class. That&#39;s why you have to override the method and provide an implementation. And then you&#39;re creating an instance of the anonymous class at the same time.","body":"In both cases, you are <i>implementing</i> the interface using an anonymous class. That&#39;s why you have to override the method and provide an implementation. And then you&#39;re creating an instance of the anonymous class at the same time."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1654716121,"post_id":72550609,"comment_id":128160782,"body_markdown":"Also, in Kotlin, when a function has no (meaningful) return value, you should make the return type `Unit` (typically accomplished by not explicitly writing the return type, as that defaults to `Unit`) instead of `Void`.","body":"Also, in Kotlin, when a function has no (meaningful) return value, you should make the return type <code>Unit</code> (typically accomplished by not explicitly writing the return type, as that defaults to <code>Unit</code>) instead of <code>Void</code>."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1654716742,"post_id":72550609,"comment_id":128160975,"body_markdown":"Please keep in mind for future questions: https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question","body":"Please keep in mind for future questions: <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\" title=\"why should i not upload images of code data errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20928711,"reputation":3225,"user_id":15375588,"display_name":"Karsten Gabriel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654714576,"creation_date":1654714576,"answer_id":72550856,"question_id":72550609,"body_markdown":"In the Java example as well as in the Kotlin example you do not instantiate interface `Parent.Hello`, but you instantiate an **anonymous class** that implements interface `Parent.Hello`.\r\n\r\n[Anonymous classes in Java](https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html)\r\n\r\n[Anonymous objects in Kotlin](https://kotlinlang.org/docs/object-declarations.html)\r\n\r\nIn Kotlin, you write `Person.Hello` and not `Person.Hello()` because interface `Person.Hello` does not have a constructor. Java on the other hand does not care for that distinction.\r\n","title":"Can we instantiate interface nested inside the class in java and why it is different from kotlin?","body":"<p>In the Java example as well as in the Kotlin example you do not instantiate interface <code>Parent.Hello</code>, but you instantiate an <strong>anonymous class</strong> that implements interface <code>Parent.Hello</code>.</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">Anonymous classes in Java</a></p>\n<p><a href=\"https://kotlinlang.org/docs/object-declarations.html\" rel=\"nofollow noreferrer\">Anonymous objects in Kotlin</a></p>\n<p>In Kotlin, you write <code>Person.Hello</code> and not <code>Person.Hello()</code> because interface <code>Person.Hello</code> does not have a constructor. Java on the other hand does not care for that distinction.</p>\n"}],"owner":{"account_id":23444455,"reputation":143,"user_id":17501483,"display_name":"ADITYA RAJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654714576,"creation_date":1654713140,"question_id":72550609,"body_markdown":"I&#39;m currently learning Android Development and I come across the code where an object for an anonymous class having a nested interface in it is instantiated.\r\n\r\n**JAVA CODE**\r\n[![java code for the above statement.][1]][1]\r\n\r\n\r\n**KOTLIN CODE**\r\n[![kotlin code for the above statem][2]][2]\r\n\r\nIn this code an Object listner of anonymous class is being made from Parent.Hello() where Parent is super class and interface Hello is nested in it. As we have learned that interfaces cannot be instantiated then how the code is working and legal. Also why Parent.Hello() is used why not Parent.Hello as its kotlin counterpart.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JPyyL.png\r\n  [2]: https://i.stack.imgur.com/vKhKs.png","title":"Can we instantiate interface nested inside the class in java and why it is different from kotlin?","body":"<p>I'm currently learning Android Development and I come across the code where an object for an anonymous class having a nested interface in it is instantiated.</p>\n<p><strong>JAVA CODE</strong>\n<a href=\"https://i.stack.imgur.com/JPyyL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JPyyL.png\" alt=\"java code for the above statement.\" /></a></p>\n<p><strong>KOTLIN CODE</strong>\n<a href=\"https://i.stack.imgur.com/vKhKs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vKhKs.png\" alt=\"kotlin code for the above statem\" /></a></p>\n<p>In this code an Object listner of anonymous class is being made from Parent.Hello() where Parent is super class and interface Hello is nested in it. As we have learned that interfaces cannot be instantiated then how the code is working and legal. Also why Parent.Hello() is used why not Parent.Hello as its kotlin counterpart.</p>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":233925,"reputation":4001,"user_id":499744,"accept_rate":89,"display_name":"greenkode"},"score":0,"creation_date":1363248556,"post_id":15403485,"comment_id":24406278,"body_markdown":"Possible duplicate of this [question](http://stackoverflow.com/questions/1156429/how-do-i-write-a-restful-web-service-that-accepts-a-binary-file-pdf). Have you checked it out? If it doesn&#39;t solve your problem, then I can write something for you.","body":"Possible duplicate of this <a href=\"http://stackoverflow.com/questions/1156429/how-do-i-write-a-restful-web-service-that-accepts-a-binary-file-pdf\">question</a>. Have you checked it out? If it doesn&#39;t solve your problem, then I can write something for you."}],"owner":{"account_id":1712713,"reputation":223,"user_id":1570402,"accept_rate":44,"display_name":"Anand Murugan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8840,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1654714005,"creation_date":1363246116,"question_id":15403485,"body_markdown":"I am working on File Transfer Process with REST Service. I am Using REST Jersey API in Java. I am not doing this process with any html post or via ajax post (ie I am not creating any web application). I Have Just created one REST Http Server, and I am using one REST Client to process file transfer operation. The Web Resource Methods are in a separate class file.\r\n\r\ntestREST.java\r\n\r\n    @POST\r\n    @Path(&quot;/upload&quot;)\r\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n    public Response uploadFile(\r\n        @FormDataParam(&quot;file&quot;) InputStream uploadedInputStream,\r\n        @FormDataParam(&quot;file&quot;) FormDataContentDisposition fileDetail) {\r\n    \r\n        String uploadedFileLocation = &quot;d://uploaded/&quot; + fileDetail.getFileName();\r\n    \r\n        // save it\r\n        writeToFile(uploadedInputStream, uploadedFileLocation);\r\n    \r\n        String output = &quot;File uploaded to : &quot; + uploadedFileLocation;\r\n    \r\n        return Response.status(200).entity(output).build();\r\n    }\r\n\r\nRESTClient.java\r\n   \r\n\r\n    try {\r\n    \tfinal ClientConfig config = new DefaultClientConfig();\r\n    \tfinal Client client = Client.create(config);\r\n    \tfinal WebResource resource = client.resource(REST_URI);\r\n    \t\r\n    \tFile f = new File(&quot;D:/test/Doc1.rar&quot;);\r\n        FileInputStream fs = new FileInputStream(f);\r\n        byte[] con= new byte[(int)f.length()];\r\n        fs.read(con);\r\n        FormDataMultiPart form = new FormDataMultiPart();\r\n        FormDataBodyPart fdp = new FormDataBodyPart(&quot;content&quot;, MediaType.MULTIPART_FORM_DATA);\r\n        form.bodyPart(fdp);\r\n        final String response = resource.path(&quot;test&quot;).path(&quot;transfer&quot;).type(MediaType.MULTIPART_FORM_DATA).post(String.class, form);\r\n    } catch (Exception ex) {\r\n    \tSystem.out.println(&quot;Exception Occcured&quot;);\r\n    \tex.printStackTrace();\r\n    }\r\n     \r\n\r\n\r\nBut While starting the REST Server itself I am getting the Exception like not a valid resource methods in testREST.java.... I guess Here Using FormDataParam.. That makes the issue... Could you please anyone help me to point out what wrong with my code.","title":"How to Transfer Files from REST Client to REST Server?","body":"<p>I am working on File Transfer Process with REST Service. I am Using REST Jersey API in Java. I am not doing this process with any html post or via ajax post (ie I am not creating any web application). I Have Just created one REST Http Server, and I am using one REST Client to process file transfer operation. The Web Resource Methods are in a separate class file.</p>\n\n<p>testREST.java</p>\n\n<pre><code>@POST\n@Path(\"/upload\")\n@Consumes(MediaType.MULTIPART_FORM_DATA)\npublic Response uploadFile(\n    @FormDataParam(\"file\") InputStream uploadedInputStream,\n    @FormDataParam(\"file\") FormDataContentDisposition fileDetail) {\n\n    String uploadedFileLocation = \"d://uploaded/\" + fileDetail.getFileName();\n\n    // save it\n    writeToFile(uploadedInputStream, uploadedFileLocation);\n\n    String output = \"File uploaded to : \" + uploadedFileLocation;\n\n    return Response.status(200).entity(output).build();\n}\n</code></pre>\n\n<p>RESTClient.java</p>\n\n<pre><code>try {\n    final ClientConfig config = new DefaultClientConfig();\n    final Client client = Client.create(config);\n    final WebResource resource = client.resource(REST_URI);\n\n    File f = new File(\"D:/test/Doc1.rar\");\n    FileInputStream fs = new FileInputStream(f);\n    byte[] con= new byte[(int)f.length()];\n    fs.read(con);\n    FormDataMultiPart form = new FormDataMultiPart();\n    FormDataBodyPart fdp = new FormDataBodyPart(\"content\", MediaType.MULTIPART_FORM_DATA);\n    form.bodyPart(fdp);\n    final String response = resource.path(\"test\").path(\"transfer\").type(MediaType.MULTIPART_FORM_DATA).post(String.class, form);\n} catch (Exception ex) {\n    System.out.println(\"Exception Occcured\");\n    ex.printStackTrace();\n}\n</code></pre>\n\n<p>But While starting the REST Server itself I am getting the Exception like not a valid resource methods in testREST.java.... I guess Here Using FormDataParam.. That makes the issue... Could you please anyone help me to point out what wrong with my code.</p>\n"},{"tags":["java","type-inference","local-variables","java-10"],"comments":[{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1654634007,"post_id":72537180,"comment_id":128136385,"body_markdown":"Suppose `E`, `PE` and `EV` are variable names and `Employee` or `PTEmployee` are _classes_ (types) respectively. What is the type of variable `EV` then? Do you also have _interfaces_ ?","body":"Suppose <code>E</code>, <code>PE</code> and <code>EV</code> are variable names and <code>Employee</code> or <code>PTEmployee</code> are <i>classes</i> (types) respectively. What is the type of variable <code>EV</code> then? Do you also have <i>interfaces</i> ?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1654634149,"post_id":72537180,"comment_id":128136427,"body_markdown":"Are Employee and PTEmployee related to each other in any way?","body":"Are Employee and PTEmployee related to each other in any way?"},{"owner":{"account_id":17603020,"reputation":63,"user_id":14919744,"display_name":"tmiliketurtles"},"score":0,"creation_date":1654634340,"post_id":72537180,"comment_id":128136486,"body_markdown":"PTEmployee inherits from Employee. PT = part time","body":"PTEmployee inherits from Employee. PT = part time"},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1654634349,"post_id":72537180,"comment_id":128136491,"body_markdown":"Suppose you really used `var` in your code (BTW: can you post an [example], please), and further you read [Java 10 LocalVariable Type-Inference](https://www.baeldung.com/java-10-local-variable-type-inference) - then: What is you question exactly? Or what do you want to achieve and what did not work out as expected?","body":"Suppose you really used <code>var</code> in your code (BTW: can you post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please), and further you read <a href=\"https://www.baeldung.com/java-10-local-variable-type-inference\" rel=\"nofollow noreferrer\">Java 10 LocalVariable Type-Inference</a> - then: What is you question exactly? Or what do you want to achieve and what did not work out as expected?"},{"owner":{"account_id":17603020,"reputation":63,"user_id":14919744,"display_name":"tmiliketurtles"},"score":0,"creation_date":1654634408,"post_id":72537180,"comment_id":128136508,"body_markdown":"I want to set EV to PE after I set EV to E.","body":"I want to set EV to PE after I set EV to E."},{"owner":{"account_id":17603020,"reputation":63,"user_id":14919744,"display_name":"tmiliketurtles"},"score":0,"creation_date":1654634867,"post_id":72537180,"comment_id":128136649,"body_markdown":"I edited my question and added a minimal reproducible example","body":"I edited my question and added a minimal reproducible example"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1654635529,"post_id":72537180,"comment_id":128136834,"body_markdown":"@tmiliketurtles You cannot change the type of a variable, it is specified at the declaration of the variable.","body":"@tmiliketurtles You cannot change the type of a variable, it is specified at the declaration of the variable."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1654675206,"post_id":72537180,"comment_id":128144520,"body_markdown":"Why do you want to change the type of a variable, instead of just using a new variable? What esoteric advantage do you hope to gain from that?","body":"Why do you want to change the type of a variable, instead of just using a new variable? What esoteric advantage do you hope to gain from that?"},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1654689493,"post_id":72537180,"comment_id":128149989,"body_markdown":"What are the __specific methods__ of `PTEmployee` you want to use? Maybe the class-design (incl. inheritance hierarchy) can be adjusted to have a generic `Employee` with two specifications `PartTimeEmployee` and `FullTimeEmployee`. The `var` construct is meant for short-scoped usage. Type-switches can be solved differently.","body":"What are the <b>specific methods</b> of <code>PTEmployee</code> you want to use? Maybe the class-design (incl. inheritance hierarchy) can be adjusted to have a generic <code>Employee</code> with two specifications <code>PartTimeEmployee</code> and <code>FullTimeEmployee</code>. The <code>var</code> construct is meant for short-scoped usage. Type-switches can be solved differently."},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1654713665,"post_id":72537180,"comment_id":128160000,"body_markdown":"We can&#39;t change Java&#39;s `var` behaviour for you, nor do I know any Java construct to change a var-type at runtime ([Java is a strongly and statically typed language](https://stackoverflow.com/questions/66756725/java-being-strongly-typed)). \nBut we can help you find a solution, as soon as we know the context and use-case: What is the purpose and further usage of (sub-type capable) variable `EV` ?","body":"We can&#39;t change Java&#39;s <code>var</code> behaviour for you, nor do I know any Java construct to change a var-type at runtime (<a href=\"https://stackoverflow.com/questions/66756725/java-being-strongly-typed\">Java is a strongly and statically typed language</a>).  But we can help you find a solution, as soon as we know the context and use-case: What is the purpose and further usage of (sub-type capable) variable <code>EV</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1654712707,"creation_date":1654635166,"answer_id":72537447,"question_id":72537180,"body_markdown":"## Given\r\n```java\r\n// base class\r\nclass Employee {\r\n    // common fields omitted\r\n    BigDecimal pay;\r\n\r\n    public Employee(String name, String ssn, String position, Date dob, BigDecimal pay) {}\r\n\r\n    // method can be overridden in sub-classes\r\n    public BigDecimal calculatePay() {\r\n        return pay;  // here: the monthly salary\r\n    }\r\n\r\n}\r\n\r\n    \r\n// part-time (PT) employee inherits from employee\r\nclass PTEmployee extends Employee {\r\n\r\n    // common fields omitted\r\n    int nHours;\r\n    BigDecimal wagePerHour;\r\n\r\n    public PTEmployee(String name, String ssn, String position, Date dob, int nHours, BigDecimal wagePerHour) {}\r\n\r\n    // method is specifically implemented for a part-time employee\r\n    @Override\r\n    public BigDecimal calulatePay() {\r\n        return wagePerHour.multiply(nHours); // hour-based salary-model\r\n    }\r\n\r\n    // method only exists in this generation (this class and sub-classes)\r\n    public double timePercentage() {\r\n        return Employee.FULL_TIME_HOURS / nHours; // half-time would return 50\r\n    }\r\n}\r\n```\r\n\r\n## Why does the second assignment downcast?\r\n\r\n### Inferred type using `var`\r\n```java\r\n// renamed EV, E and PE to follow \r\n// Java-naming conventions: lower-case variable names\r\nEmployee e = .. // initialization omitted\r\nPTEmployee pe = .. // initialization omitted\r\n\r\n\r\nvar ev = e; // type of local variable ev gets inferred as Employee\r\nSystem.out.println(ev.getClass()); // debug-print the type\r\n\r\n// now we assign another instance of the same (Employee) or a sub-type (PTEmployee)    \r\nev = pe;  // type of ev is still Employee (the assigned instance is down-casted)\r\nSystem.out.println(ev.getClass()); // debug-print the type\r\n```\r\nThe Java compiler and your IDE (e.g. method-suggestions or autocompletion) both have the type inferred already with the first  and _initial_ assignment.\r\n\r\nAll further assignments will not change the type of this variable.\r\n\r\nSee also:\r\n* Baeldung: [Java 10 LocalVariable Type-Inference](https://www.baeldung.com/java-10-local-variable-type-inference)\r\n* JaxEnter: [All about var: How Local-Variable Type Inference can clear up Java verbosity](https://jaxenter.com/java-10-local-var-type-inference-148390.html)\r\n* OpenJDK FAQ: [Local Variable Type Inference](https://openjdk.java.net/projects/amber/guides/lvti-faq)\r\n\r\n## How to declare the variable to accept any sub-class ?\r\n\r\n### Use-case allowing the shorthand `var`\r\nNow lets assume the use-case that you have a work-force of 2 employees that should get paid. But the accountant does not care about their time-percentage, only calculating their pay is important. The type of employment is not important.\r\n\r\n```\r\nList&lt;? extends Employee&gt; workforce = List.of(e, pe);\r\n\r\nvoid payWorkforce() {\r\n    for (var worker : workforce) { // here the var is useful and a shortcut\r\n       System.out.printf(&quot;Paying worker %s: %s \\n&quot;, worker.getName(), worker.calculatePay());\r\n    }\r\n}\r\n```\r\nIn the first use-case scenario, the for-each loop, the `var` declaration is sufficient and shortens our loop-head. We are only interested to call the methods of base-class `Employee`, so we can use `var` safely.\r\n\r\n### Use-case requiring distinct _subtypes_\r\nFor the HR staff, which has to write the contract, the working-hours and contracted salary model however is very important. So the type of employee is accurately defined.\r\n\r\n```java\r\n// using different variable-type declarations depending on the type needed\r\nvoid hireCandidate(.., int preferredHours) {\r\n    if (preferredHours &lt;= 0) {\r\n        System.out.println(&quot;Sorry. We need you to work at least 1 hour.&quot;);\r\n        return;\r\n    } else if (preferredHours &lt; Employee.FULL_TIME_HOURS) {\r\n        PTEmployee partTime = new PTEmployee(.., preferredWeeklyHours, HOURLY_PAY);  // define sub-type to use\r\n        workforce.add(partTime);\r\n        System.out.printf(&quot;Hired a %d percent partTime employee.\\n&quot;, partTime.timePercentage());  // then you can use the specific sub-class&#39; method\r\n    } else {\r\n        Employee fullTime = new Employee(.., MONTHLY_SALARY);\r\n        workforce.add(fullTime);\r\n        System.out.printf(&quot;Hired a fullTime employee.\\n&quot;);\r\n    }\r\n    return;\r\n}\r\n```\r\nIn the second use-case scenario, you can see, that because we expect to deal with different types of employees in the `hireCandidate` method, we also declared the variables with different types as needed.","title":"How to change a variable type in Java?","body":"<h2>Given</h2>\n<pre class=\"lang-java prettyprint-override\"><code>// base class\nclass Employee {\n    // common fields omitted\n    BigDecimal pay;\n\n    public Employee(String name, String ssn, String position, Date dob, BigDecimal pay) {}\n\n    // method can be overridden in sub-classes\n    public BigDecimal calculatePay() {\n        return pay;  // here: the monthly salary\n    }\n\n}\n\n    \n// part-time (PT) employee inherits from employee\nclass PTEmployee extends Employee {\n\n    // common fields omitted\n    int nHours;\n    BigDecimal wagePerHour;\n\n    public PTEmployee(String name, String ssn, String position, Date dob, int nHours, BigDecimal wagePerHour) {}\n\n    // method is specifically implemented for a part-time employee\n    @Override\n    public BigDecimal calulatePay() {\n        return wagePerHour.multiply(nHours); // hour-based salary-model\n    }\n\n    // method only exists in this generation (this class and sub-classes)\n    public double timePercentage() {\n        return Employee.FULL_TIME_HOURS / nHours; // half-time would return 50\n    }\n}\n</code></pre>\n<h2>Why does the second assignment downcast?</h2>\n<h3>Inferred type using <code>var</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>// renamed EV, E and PE to follow \n// Java-naming conventions: lower-case variable names\nEmployee e = .. // initialization omitted\nPTEmployee pe = .. // initialization omitted\n\n\nvar ev = e; // type of local variable ev gets inferred as Employee\nSystem.out.println(ev.getClass()); // debug-print the type\n\n// now we assign another instance of the same (Employee) or a sub-type (PTEmployee)    \nev = pe;  // type of ev is still Employee (the assigned instance is down-casted)\nSystem.out.println(ev.getClass()); // debug-print the type\n</code></pre>\n<p>The Java compiler and your IDE (e.g. method-suggestions or autocompletion) both have the type inferred already with the first  and <em>initial</em> assignment.</p>\n<p>All further assignments will not change the type of this variable.</p>\n<p>See also:</p>\n<ul>\n<li>Baeldung: <a href=\"https://www.baeldung.com/java-10-local-variable-type-inference\" rel=\"nofollow noreferrer\">Java 10 LocalVariable Type-Inference</a></li>\n<li>JaxEnter: <a href=\"https://jaxenter.com/java-10-local-var-type-inference-148390.html\" rel=\"nofollow noreferrer\">All about var: How Local-Variable Type Inference can clear up Java verbosity</a></li>\n<li>OpenJDK FAQ: <a href=\"https://openjdk.java.net/projects/amber/guides/lvti-faq\" rel=\"nofollow noreferrer\">Local Variable Type Inference</a></li>\n</ul>\n<h2>How to declare the variable to accept any sub-class ?</h2>\n<h3>Use-case allowing the shorthand <code>var</code></h3>\n<p>Now lets assume the use-case that you have a work-force of 2 employees that should get paid. But the accountant does not care about their time-percentage, only calculating their pay is important. The type of employment is not important.</p>\n<pre><code>List&lt;? extends Employee&gt; workforce = List.of(e, pe);\n\nvoid payWorkforce() {\n    for (var worker : workforce) { // here the var is useful and a shortcut\n       System.out.printf(&quot;Paying worker %s: %s \\n&quot;, worker.getName(), worker.calculatePay());\n    }\n}\n</code></pre>\n<p>In the first use-case scenario, the for-each loop, the <code>var</code> declaration is sufficient and shortens our loop-head. We are only interested to call the methods of base-class <code>Employee</code>, so we can use <code>var</code> safely.</p>\n<h3>Use-case requiring distinct <em>subtypes</em></h3>\n<p>For the HR staff, which has to write the contract, the working-hours and contracted salary model however is very important. So the type of employee is accurately defined.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// using different variable-type declarations depending on the type needed\nvoid hireCandidate(.., int preferredHours) {\n    if (preferredHours &lt;= 0) {\n        System.out.println(&quot;Sorry. We need you to work at least 1 hour.&quot;);\n        return;\n    } else if (preferredHours &lt; Employee.FULL_TIME_HOURS) {\n        PTEmployee partTime = new PTEmployee(.., preferredWeeklyHours, HOURLY_PAY);  // define sub-type to use\n        workforce.add(partTime);\n        System.out.printf(&quot;Hired a %d percent partTime employee.\\n&quot;, partTime.timePercentage());  // then you can use the specific sub-class' method\n    } else {\n        Employee fullTime = new Employee(.., MONTHLY_SALARY);\n        workforce.add(fullTime);\n        System.out.printf(&quot;Hired a fullTime employee.\\n&quot;);\n    }\n    return;\n}\n</code></pre>\n<p>In the second use-case scenario, you can see, that because we expect to deal with different types of employees in the <code>hireCandidate</code> method, we also declared the variables with different types as needed.</p>\n"},{"tags":[],"owner":{"account_id":25499124,"reputation":11,"user_id":19292714,"display_name":"Sina Ramezani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654636646,"creation_date":1654636646,"answer_id":72537656,"question_id":72537180,"body_markdown":"When we use a variable with the reserved word var, its typing is determined at initialization, which is why when you assign another type of class to this variable, you do not have access to its methods, and the IDE behaves quite correctly.\r\n  For more information, you can read more about it in the following link\r\nhttps://openjdk.java.net/projects/amber/guides/lvti-faq#Q6","title":"How to change a variable type in Java?","body":"<p>When we use a variable with the reserved word var, its typing is determined at initialization, which is why when you assign another type of class to this variable, you do not have access to its methods, and the IDE behaves quite correctly.\nFor more information, you can read more about it in the following link\n<a href=\"https://openjdk.java.net/projects/amber/guides/lvti-faq#Q6\" rel=\"nofollow noreferrer\">https://openjdk.java.net/projects/amber/guides/lvti-faq#Q6</a></p>\n"}],"owner":{"account_id":17603020,"reputation":63,"user_id":14919744,"display_name":"tmiliketurtles"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":955,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1654712707,"creation_date":1654633541,"question_id":72537180,"body_markdown":"I have two objects: \r\n\r\n - Employee E\r\n - PTEmployee PE\r\n\r\nI need to do the following manipulation\r\n\r\n - EV=E\r\n   \r\n - EV=PE\r\n\r\nI believe I would need to do the following:\r\n```var EV = E```\r\nBut then when I set ```EV = PE```, I cannot access the Class PTEmployee methods, because the IDE thinks that the variable EV is still of Employee Type.\r\n\r\nThis is what I have tried: \r\n\r\n    Employee E = new Employee(name, ssn, position, new Date(dobMonth, dobDay, dobYear), pay);\r\n    \r\n    PTEmployee PE = new PTEmployee(name, ssn, position, new Date(dobMonth, dobDay, dobYear), nHours, wages);\r\n        \r\n    var EV = E;\r\n        \r\n    EV = PE;\r\n\r\n","title":"How to change a variable type in Java?","body":"<p>I have two objects:</p>\n<ul>\n<li>Employee E</li>\n<li>PTEmployee PE</li>\n</ul>\n<p>I need to do the following manipulation</p>\n<ul>\n<li><p>EV=E</p>\n</li>\n<li><p>EV=PE</p>\n</li>\n</ul>\n<p>I believe I would need to do the following:\n<code>var EV = E</code>\nBut then when I set <code>EV = PE</code>, I cannot access the Class PTEmployee methods, because the IDE thinks that the variable EV is still of Employee Type.</p>\n<p>This is what I have tried:</p>\n<pre><code>Employee E = new Employee(name, ssn, position, new Date(dobMonth, dobDay, dobYear), pay);\n\nPTEmployee PE = new PTEmployee(name, ssn, position, new Date(dobMonth, dobDay, dobYear), nHours, wages);\n    \nvar EV = E;\n    \nEV = PE;\n</code></pre>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":20560176,"reputation":633,"user_id":15090857,"display_name":"fam"},"score":1,"creation_date":1654671912,"post_id":72541171,"comment_id":128143385,"body_markdown":"Please add a minimum reproducible code.","body":"Please add a minimum reproducible code."}],"answers":[{"tags":[],"owner":{"account_id":21103765,"reputation":30,"user_id":15513188,"display_name":"NBG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654712574,"creation_date":1654712574,"answer_id":72550505,"question_id":72541171,"body_markdown":"I am not sure about Selenium Java or JS. But in Selenium Python, the &quot;find_elements()&quot; method will retrieve all of your desired web elements in the whole page, even if they are not currently visible.","title":"Retrive all web element values without scrolling down in selenium","body":"<p>I am not sure about Selenium Java or JS. But in Selenium Python, the &quot;find_elements()&quot; method will retrieve all of your desired web elements in the whole page, even if they are not currently visible.</p>\n"}],"owner":{"account_id":25503332,"reputation":49,"user_id":19296162,"display_name":"Pratik Pathare"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72550505,"answer_count":1,"score":0,"last_activity_date":1654712574,"creation_date":1654670649,"question_id":72541171,"body_markdown":"I am trying to access web elements in a table column and actually there are 22 elements but only 20 are displayed when I try to locate them in the Chrome inspector or chrome console as shown in the image. Is there any way I can access it without scrolling? Because only if I scroll I am able to retrieve 22 elements. But the scrolling is not fixed either. We need to scroll down to 450 pixels only then the web elements will be shown as 22. In the future there can be 100 web elements. So where should I scroll then? [20 web elements displayed][1]\r\nI am trying to read all web elements values in the Holdings column. \r\nIf you see in another image, I scroll down and see 22 elements. \r\n[22 web elements displayed][2]\r\n\r\nAdding code which I am trying \r\n\r\n    public int getSumOfHoldingsValue() {\r\n    \t\ttry {\r\n    \t\t\tJavascriptUtils.verticalScrollByPixels(driver, shareHolderInputScreenHolderListViewGrid,\r\n    \t\t\t\t\tUtils.SCROLL_BY_PIXEL_MEDIUM);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tint num = holdingsValue.size(), i = 0, sum = 0;\r\n    \t\twhile (i &lt; num) {\r\n    \t\t\tsum = sum + Utils.convertStringToInteger(holdingsValue.get(i).getAttribute(&quot;innerText&quot;));\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t\treturn sum;\r\n    \t}\r\nThe num is returning only 20 without javascript scroll.\r\n\r\nCan anyone please help me with this? How to achieve this using Selenium and Java?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2FJHG.png\r\n  [2]: https://i.stack.imgur.com/l2n5C.png\r\n\r\n","title":"Retrive all web element values without scrolling down in selenium","body":"<p>I am trying to access web elements in a table column and actually there are 22 elements but only 20 are displayed when I try to locate them in the Chrome inspector or chrome console as shown in the image. Is there any way I can access it without scrolling? Because only if I scroll I am able to retrieve 22 elements. But the scrolling is not fixed either. We need to scroll down to 450 pixels only then the web elements will be shown as 22. In the future there can be 100 web elements. So where should I scroll then? <a href=\"https://i.stack.imgur.com/2FJHG.png\" rel=\"nofollow noreferrer\">20 web elements displayed</a>\nI am trying to read all web elements values in the Holdings column.\nIf you see in another image, I scroll down and see 22 elements.\n<a href=\"https://i.stack.imgur.com/l2n5C.png\" rel=\"nofollow noreferrer\">22 web elements displayed</a></p>\n<p>Adding code which I am trying</p>\n<pre><code>public int getSumOfHoldingsValue() {\n        try {\n            JavascriptUtils.verticalScrollByPixels(driver, shareHolderInputScreenHolderListViewGrid,\n                    Utils.SCROLL_BY_PIXEL_MEDIUM);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        int num = holdingsValue.size(), i = 0, sum = 0;\n        while (i &lt; num) {\n            sum = sum + Utils.convertStringToInteger(holdingsValue.get(i).getAttribute(&quot;innerText&quot;));\n            i++;\n        }\n        return sum;\n    }\n</code></pre>\n<p>The num is returning only 20 without javascript scroll.</p>\n<p>Can anyone please help me with this? How to achieve this using Selenium and Java?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1325146829,"post_id":8665292,"comment_id":10769505,"body_markdown":"[What have you tried?](http://mattgemmell.com/2008/12/08/what-have-you-tried/)","body":"<a href=\"http://mattgemmell.com/2008/12/08/what-have-you-tried/\" rel=\"nofollow noreferrer\">What have you tried?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325146140,"creation_date":1325146140,"answer_id":8665358,"question_id":8665292,"body_markdown":"Have a look at the `split` method of the `String` class.  You&#39;ll probably want to use it to split each line into the separate `column=value` sections, then again to split the column from the value.  That should get you started - ask again if you get stuck.","title":"convert comma (with a space) delimited string into columns under the matching values from the string itself","body":"<p>Have a look at the <code>split</code> method of the <code>String</code> class.  You'll probably want to use it to split each line into the separate <code>column=value</code> sections, then again to split the column from the value.  That should get you started - ask again if you get stuck.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325153563,"creation_date":1325153197,"answer_id":8666398,"question_id":8665292,"body_markdown":"Okay, here goes. Here&#39;s a solution using [Guava][1]\r\n\r\nFirst here&#39;s a helper class called `Table` (not to be confused with Guava&#39;s `Table` interface):\r\n\r\n    public class Table {\r\n    \r\n        private static final MapSplitter MAP_SPLITTER = \r\n            Splitter.on(&#39;,&#39;).trimResults().withKeyValueSeparator(Splitter.on(&#39;=&#39;));\r\n    \r\n        private final Multimap&lt;String, String&gt; values = \r\n                Multimaps.newListMultimap(\r\n                    // keys are sorted, values maintain insertion order\r\n                    Maps.&lt;String, Collection&lt;String&gt;&gt;newTreeMap(),\r\n                    new Supplier&lt;List&lt;String&gt;&gt;() {\r\n                        @Override public List&lt;String&gt; get() {\r\n                            return Lists.newArrayList();\r\n                        }\r\n                    });\r\n    \r\n        // keys are sorted, to correspond with the order of the other map\r\n        private final Map&lt;String, Integer&gt; lengths = Maps.newTreeMap();\r\n\r\n        private int modCount = 0;\r\n    \r\n        public void addRow(final String row) {\r\n            modCount++;\r\n            final Map&lt;String, String&gt; lineData = MAP_SPLITTER.split(row);\r\n            final boolean empty = values.isEmpty();\r\n            if (!empty &amp;&amp; values.keySet().size() != lineData.size()) {\r\n                throw new IllegalArgumentException(&quot;Bad row: &quot; + row);\r\n            }\r\n    \r\n            for (final Entry&lt;String, String&gt; entry : lineData.entrySet()) {\r\n                final String key = entry.getKey();\r\n                final String value = entry.getValue();\r\n                if (!empty &amp;&amp; !values.containsKey(key)) {\r\n                    throw new IllegalArgumentException(\r\n                        &quot;Bad column: &quot; + key + &quot; in row &quot; + row);\r\n                }\r\n    \r\n                final Integer tempLength;\r\n                if (empty) {\r\n                    tempLength = key.length();\r\n                } else {\r\n                    tempLength = lengths.get(key);\r\n                }\r\n    \r\n                values.put(key, value);\r\n                lengths.put(key, Math.max(value.length(), tempLength));\r\n            }\r\n        }\r\n    \r\n        public Iterable&lt;String&gt; getHeaders() {\r\n            return Collections.unmodifiableSet(values.asMap().keySet());\r\n        }\r\n    \r\n        public Iterable&lt;Integer&gt; getColumnSizes() {\r\n            return Collections.unmodifiableCollection(lengths.values());\r\n        }\r\n    \r\n        public Iterable&lt;Iterable&lt;String&gt;&gt; getData() {\r\n            return new Iterable&lt;Iterable&lt;String&gt;&gt;() {\r\n    \r\n                @Override\r\n                public Iterator&lt;Iterable&lt;String&gt;&gt; iterator() {\r\n                    return new RowIterator();\r\n                }\r\n            };\r\n        }\r\n        private class RowIterator extends AbstractIterator&lt;Iterable&lt;String&gt;&gt; {\r\n            private int rowIndex = -1;\r\n            private final int modCount = Table.this.modCount;\r\n            private final int maxRow = \r\n                         values.asMap().values().iterator().next().size() - 1;\r\n    \r\n            @Override\r\n            protected Iterable&lt;String&gt; computeNext() {\r\n                if (Table.this.modCount != modCount) {\r\n                    throw new ConcurrentModificationException();\r\n                }\r\n    \r\n                final Map&lt;String, Collection&lt;String&gt;&gt; map = values.asMap();\r\n                if (rowIndex++ == maxRow) {\r\n                    return endOfData();\r\n                }\r\n    \r\n                final List&lt;String&gt; data =\r\n                    Lists.newArrayListWithCapacity(map.size());\r\n                for (final Collection&lt;String&gt; column : map.values()) {\r\n                    data.add(((List&lt;String&gt;) column).get(rowIndex));\r\n                }\r\n    \r\n                return Collections.unmodifiableCollection(data);\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nNow we can use this table class to format your data:\r\n\r\n    final String input = &quot;columns=20xs, viewport_supported=true, wta=false, mmf=false\\n&quot;\r\n            + &quot;columns=11xs, viewport_supported=false, wta=false, mmf=true \\n&quot;\r\n            + &quot;columns=15xs, viewport_supported=true, wta=false, mmf=false&quot;;\r\n    final Table table = new Table();\r\n    final Iterable&lt;String&gt; lines = Splitter.on(&#39;\\n&#39;).trimResults().split(input);\r\n    for (final String line : lines) {\r\n        // add one row of data\r\n        table.addRow(line);\r\n    }\r\n\r\n    // Using Appendable so you can easily switch to some other implementation,\r\n    // e.g. System.out\r\n    final Appendable appendable = new StringBuilder();\r\n\r\n    final Iterable&lt;Integer&gt; columnSizes = table.getColumnSizes();\r\n    final Iterable&lt;String&gt; headers = table.getHeaders();\r\n    final Iterator&lt;String&gt; headerIterator = headers.iterator();\r\n    final Iterable&lt;Iterable&lt;String&gt;&gt; data = table.getData();\r\n    {\r\n\r\n        // write headers\r\n        boolean first = true;\r\n        for (final Integer size : columnSizes) {\r\n            if (first) {\r\n                first = false;\r\n            } else {\r\n                appendable.append(&quot; | &quot;);\r\n            }\r\n\r\n            appendable.append(Strings.padEnd(headerIterator.next(), size, &#39; &#39;));\r\n        }\r\n\r\n        appendable.append(&#39;\\n&#39;);\r\n    }\r\n\r\n    {\r\n\r\n        // underline headers\r\n        boolean first = true;\r\n        for (final Integer size : columnSizes) {\r\n            if (first) {\r\n                first = false;\r\n            } else {\r\n                appendable.append(&quot;-+-&quot;);\r\n            }\r\n\r\n            appendable.append(Strings.repeat(&quot;-&quot;, size));\r\n        }\r\n\r\n        appendable.append(&#39;\\n&#39;);\r\n    }\r\n\r\n    // write data\r\n    for (final Iterable&lt;String&gt; row : data) {\r\n        boolean first = true;\r\n        final Iterator&lt;String&gt; rowIterator = row.iterator();\r\n        for (final Integer size : columnSizes) {\r\n            if (first) {\r\n                first = false;\r\n            } else {\r\n                appendable.append(&quot; | &quot;);\r\n            }\r\n\r\n            appendable.append(Strings.padEnd(rowIterator.next(), size, &#39; &#39;));\r\n        }\r\n\r\n        appendable.append(&#39;\\n&#39;);\r\n    }\r\n\r\n    System.out.println(appendable);\r\n\r\nAnd here&#39;s the Output:\r\n\r\n    columns | mmf   | viewport_supported | wta  \r\n    --------+-------+--------------------+------\r\n    20xs    | false | true               | false\r\n    11xs    | true  | false              | false\r\n    15xs    | false | true               | false\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/\r\n\r\nThis will be a lot more difficult if your lines have variable contents (not all lines contain the same columns), which is why I enforced that all rows must contain the same columns. Feel free to change that (or anything else).\r\n\r\n","title":"convert comma (with a space) delimited string into columns under the matching values from the string itself","body":"<p>Okay, here goes. Here's a solution using <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow\">Guava</a></p>\n\n<p>First here's a helper class called <code>Table</code> (not to be confused with Guava's <code>Table</code> interface):</p>\n\n<pre><code>public class Table {\n\n    private static final MapSplitter MAP_SPLITTER = \n        Splitter.on(',').trimResults().withKeyValueSeparator(Splitter.on('='));\n\n    private final Multimap&lt;String, String&gt; values = \n            Multimaps.newListMultimap(\n                // keys are sorted, values maintain insertion order\n                Maps.&lt;String, Collection&lt;String&gt;&gt;newTreeMap(),\n                new Supplier&lt;List&lt;String&gt;&gt;() {\n                    @Override public List&lt;String&gt; get() {\n                        return Lists.newArrayList();\n                    }\n                });\n\n    // keys are sorted, to correspond with the order of the other map\n    private final Map&lt;String, Integer&gt; lengths = Maps.newTreeMap();\n\n    private int modCount = 0;\n\n    public void addRow(final String row) {\n        modCount++;\n        final Map&lt;String, String&gt; lineData = MAP_SPLITTER.split(row);\n        final boolean empty = values.isEmpty();\n        if (!empty &amp;&amp; values.keySet().size() != lineData.size()) {\n            throw new IllegalArgumentException(\"Bad row: \" + row);\n        }\n\n        for (final Entry&lt;String, String&gt; entry : lineData.entrySet()) {\n            final String key = entry.getKey();\n            final String value = entry.getValue();\n            if (!empty &amp;&amp; !values.containsKey(key)) {\n                throw new IllegalArgumentException(\n                    \"Bad column: \" + key + \" in row \" + row);\n            }\n\n            final Integer tempLength;\n            if (empty) {\n                tempLength = key.length();\n            } else {\n                tempLength = lengths.get(key);\n            }\n\n            values.put(key, value);\n            lengths.put(key, Math.max(value.length(), tempLength));\n        }\n    }\n\n    public Iterable&lt;String&gt; getHeaders() {\n        return Collections.unmodifiableSet(values.asMap().keySet());\n    }\n\n    public Iterable&lt;Integer&gt; getColumnSizes() {\n        return Collections.unmodifiableCollection(lengths.values());\n    }\n\n    public Iterable&lt;Iterable&lt;String&gt;&gt; getData() {\n        return new Iterable&lt;Iterable&lt;String&gt;&gt;() {\n\n            @Override\n            public Iterator&lt;Iterable&lt;String&gt;&gt; iterator() {\n                return new RowIterator();\n            }\n        };\n    }\n    private class RowIterator extends AbstractIterator&lt;Iterable&lt;String&gt;&gt; {\n        private int rowIndex = -1;\n        private final int modCount = Table.this.modCount;\n        private final int maxRow = \n                     values.asMap().values().iterator().next().size() - 1;\n\n        @Override\n        protected Iterable&lt;String&gt; computeNext() {\n            if (Table.this.modCount != modCount) {\n                throw new ConcurrentModificationException();\n            }\n\n            final Map&lt;String, Collection&lt;String&gt;&gt; map = values.asMap();\n            if (rowIndex++ == maxRow) {\n                return endOfData();\n            }\n\n            final List&lt;String&gt; data =\n                Lists.newArrayListWithCapacity(map.size());\n            for (final Collection&lt;String&gt; column : map.values()) {\n                data.add(((List&lt;String&gt;) column).get(rowIndex));\n            }\n\n            return Collections.unmodifiableCollection(data);\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Now we can use this table class to format your data:</p>\n\n<pre><code>final String input = \"columns=20xs, viewport_supported=true, wta=false, mmf=false\\n\"\n        + \"columns=11xs, viewport_supported=false, wta=false, mmf=true \\n\"\n        + \"columns=15xs, viewport_supported=true, wta=false, mmf=false\";\nfinal Table table = new Table();\nfinal Iterable&lt;String&gt; lines = Splitter.on('\\n').trimResults().split(input);\nfor (final String line : lines) {\n    // add one row of data\n    table.addRow(line);\n}\n\n// Using Appendable so you can easily switch to some other implementation,\n// e.g. System.out\nfinal Appendable appendable = new StringBuilder();\n\nfinal Iterable&lt;Integer&gt; columnSizes = table.getColumnSizes();\nfinal Iterable&lt;String&gt; headers = table.getHeaders();\nfinal Iterator&lt;String&gt; headerIterator = headers.iterator();\nfinal Iterable&lt;Iterable&lt;String&gt;&gt; data = table.getData();\n{\n\n    // write headers\n    boolean first = true;\n    for (final Integer size : columnSizes) {\n        if (first) {\n            first = false;\n        } else {\n            appendable.append(\" | \");\n        }\n\n        appendable.append(Strings.padEnd(headerIterator.next(), size, ' '));\n    }\n\n    appendable.append('\\n');\n}\n\n{\n\n    // underline headers\n    boolean first = true;\n    for (final Integer size : columnSizes) {\n        if (first) {\n            first = false;\n        } else {\n            appendable.append(\"-+-\");\n        }\n\n        appendable.append(Strings.repeat(\"-\", size));\n    }\n\n    appendable.append('\\n');\n}\n\n// write data\nfor (final Iterable&lt;String&gt; row : data) {\n    boolean first = true;\n    final Iterator&lt;String&gt; rowIterator = row.iterator();\n    for (final Integer size : columnSizes) {\n        if (first) {\n            first = false;\n        } else {\n            appendable.append(\" | \");\n        }\n\n        appendable.append(Strings.padEnd(rowIterator.next(), size, ' '));\n    }\n\n    appendable.append('\\n');\n}\n\nSystem.out.println(appendable);\n</code></pre>\n\n<p>And here's the Output:</p>\n\n<pre><code>columns | mmf   | viewport_supported | wta  \n--------+-------+--------------------+------\n20xs    | false | true               | false\n11xs    | true  | false              | false\n15xs    | false | true               | false\n</code></pre>\n\n<p>This will be a lot more difficult if your lines have variable contents (not all lines contain the same columns), which is why I enforced that all rows must contain the same columns. Feel free to change that (or anything else).</p>\n"},{"tags":[],"owner":{"account_id":1108068,"reputation":7118,"user_id":1099045,"accept_rate":97,"display_name":"Subash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325156292,"creation_date":1325156292,"answer_id":8667004,"question_id":8665292,"body_markdown":"I have recently done the exact same thing you are trying to do. \r\n\r\nI am not sure how your data is stored, but for demonstration purpose I am using a String &#39;a&#39;.\r\nLets say String &#39;a&#39; contains:\r\n\r\n    String a = 20xs, true, false;\r\n\r\nthen, you can use `split()` function to split sentence String and separate them into word String. The following code does that:\r\n\r\n    a = a.trim();\r\n    String[] words = a.split(&quot;,&quot;); // creates array of Strings with each words in String a\r\n    // words would contain [20xs] [true] [false] \r\n\r\n\r\n\r\nI have written a function that will pad spaces to the back of every words.\r\n\r\n    /** Add spaces to Strings so that all of the are of same number of characters\r\n\t *  @param str \tString to be padded\r\n\t *  @param n \ttotal number words String should be padded to\r\n\t * @return str \tPadded string \r\n\t */\r\n    private String padString(String str, int n){\r\n        if(str.length() &lt; n){\r\n\t        for(int j = str.length(); j &lt; n; j++){\r\n\t\t        str += &quot; &quot;;\r\n\t        } // end for\r\n        } // end if\r\n\r\n        return str;\r\n    } // end padString\r\n\r\nso now lets say if you do:\r\n\r\n    System.out.println(padString(words[0],15) + padString(words[1],15) + padString(words[2],15) \t\t\t\t  \r\n\r\n    // So the result will be [20xs           ] [true           ] [false          ] \r\n\r\nYou will get following in the console when you write above code:\r\n\r\n    20xs           true           false    \r\n\r\nyou can pass higher value in `padString()` function if you need bigger gaps.  \r\nAs i can see the column heading is same all the time you can write the println code at the at first with the same amount of padding so it always starts at the beginning and acts like heading.    \r\n\r\nI hope this helps.\r\n","title":"convert comma (with a space) delimited string into columns under the matching values from the string itself","body":"<p>I have recently done the exact same thing you are trying to do. </p>\n\n<p>I am not sure how your data is stored, but for demonstration purpose I am using a String 'a'.\nLets say String 'a' contains:</p>\n\n<pre><code>String a = 20xs, true, false;\n</code></pre>\n\n<p>then, you can use <code>split()</code> function to split sentence String and separate them into word String. The following code does that:</p>\n\n<pre><code>a = a.trim();\nString[] words = a.split(\",\"); // creates array of Strings with each words in String a\n// words would contain [20xs] [true] [false] \n</code></pre>\n\n<p>I have written a function that will pad spaces to the back of every words.</p>\n\n<pre><code>/** Add spaces to Strings so that all of the are of same number of characters\n *  @param str  String to be padded\n *  @param n    total number words String should be padded to\n * @return str  Padded string \n */\nprivate String padString(String str, int n){\n    if(str.length() &lt; n){\n        for(int j = str.length(); j &lt; n; j++){\n            str += \" \";\n        } // end for\n    } // end if\n\n    return str;\n} // end padString\n</code></pre>\n\n<p>so now lets say if you do:</p>\n\n<pre><code>System.out.println(padString(words[0],15) + padString(words[1],15) + padString(words[2],15)                   \n\n// So the result will be [20xs           ] [true           ] [false          ] \n</code></pre>\n\n<p>You will get following in the console when you write above code:</p>\n\n<pre><code>20xs           true           false    \n</code></pre>\n\n<p>you can pass higher value in <code>padString()</code> function if you need bigger gaps.<br>\nAs i can see the column heading is same all the time you can write the println code at the at first with the same amount of padding so it always starts at the beginning and acts like heading.    </p>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":386385,"reputation":467,"user_id":744121,"accept_rate":73,"display_name":"user744121"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1325579530,"creation_date":1325579530,"answer_id":8709648,"question_id":8665292,"body_markdown":"I finally was able to do it like this: Split the string using split() method, create a Map dynamic array and assign key and value to the string respectively on either side of the &#39;equals to sign&#39;. Then printing the header information by parsing the map representing the first data row and then print all the data rows by iterating the objects from the Map. excerpts from my code is given below. \r\n\r\n    /* delimiter */\r\n\t\t\t\tString delimiter = &quot;, &quot;;\r\n//\t\t\t\tgiven string will be split by the argument delimiter provided.\r\n\t\t\t\t \r\n\t\t\t\tString[] temp = capabilities.split(delimiter);\r\n\r\n\t\t\t\t/* print substrings */\r\n\t\t\t\tMap&lt;String, String&gt; row = new HashMap&lt;String, String&gt;();\r\n\t\t\t\tfor (int i = 0; i &lt; temp.length; i++) {\r\n\t\t\t\t\tString delimiter1 = &quot;=&quot;;\r\n\t\t\t\t\tString[] temp1 = null;\r\n\t\t\t\t\ttemp1 = temp[i].split(delimiter1);\r\n\t\t\t\t\tif (temp1 != null &amp;&amp; temp1.length == 2) {\r\n\t\t\t\t\t\trow.put(temp1[0], temp1[1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tdataRows.add(row);\r\n    // print the header --- but first, get the header information by parsing the map representing the first data row\r\n\t\t\tList&lt;String&gt; fieldNames = new ArrayList&lt;String&gt;();\r\n\t\t\tMap&lt;String, String&gt; firstRow = dataRows.get(0);\r\n\t\t\tfor (String fieldName : firstRow.keySet()) { \r\n\t\t\t\tfieldNames.add(fieldName);\r\n\t\t\t}\r\n\t\t\tfor (String fieldName : fieldNames) {\r\n                                System.out.print(&quot;\\t&quot; + fieldName);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// now, print all data rows\r\n\t\t\tfor (Map&lt;String, String&gt; dataRow : dataRows) { \r\n\t\t\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\t\tfor (String fieldName : fieldNames) {\r\n\t\t\t\tSystem.out.print(&quot;\\t&quot; + dataRow.get(fieldName));}\r\nThank you all for your help.","title":"convert comma (with a space) delimited string into columns under the matching values from the string itself","body":"<p>I finally was able to do it like this: Split the string using split() method, create a Map dynamic array and assign key and value to the string respectively on either side of the 'equals to sign'. Then printing the header information by parsing the map representing the first data row and then print all the data rows by iterating the objects from the Map. excerpts from my code is given below. </p>\n\n<pre><code>/* delimiter */\n            String delimiter = \", \";\n</code></pre>\n\n<p>//              given string will be split by the argument delimiter provided.</p>\n\n<pre><code>            String[] temp = capabilities.split(delimiter);\n\n            /* print substrings */\n            Map&lt;String, String&gt; row = new HashMap&lt;String, String&gt;();\n            for (int i = 0; i &lt; temp.length; i++) {\n                String delimiter1 = \"=\";\n                String[] temp1 = null;\n                temp1 = temp[i].split(delimiter1);\n                if (temp1 != null &amp;&amp; temp1.length == 2) {\n                    row.put(temp1[0], temp1[1]);\n                }\n            }\n            dataRows.add(row);\n// print the header --- but first, get the header information by parsing the map representing the first data row\n        List&lt;String&gt; fieldNames = new ArrayList&lt;String&gt;();\n        Map&lt;String, String&gt; firstRow = dataRows.get(0);\n        for (String fieldName : firstRow.keySet()) { \n            fieldNames.add(fieldName);\n        }\n        for (String fieldName : fieldNames) {\n                            System.out.print(\"\\t\" + fieldName);\n\n        }\n\n        // now, print all data rows\n        for (Map&lt;String, String&gt; dataRow : dataRows) { \n            System.out.println(\"\\n\");\n            for (String fieldName : fieldNames) {\n            System.out.print(\"\\t\" + dataRow.get(fieldName));}\n</code></pre>\n\n<p>Thank you all for your help.</p>\n"}],"owner":{"account_id":386385,"reputation":467,"user_id":744121,"accept_rate":73,"display_name":"user744121"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2843,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":8709648,"answer_count":4,"score":1,"last_activity_date":1654712231,"creation_date":1325145543,"question_id":8665292,"body_markdown":"I have an output in the console from my code like the sample given below,\r\n\r\n    ... columns=20xs, viewport_supported=true, wta=false, ..., mmf=false\r\n    ... columns=11xs, viewport_supported=false, wta=false, ..., mmf=true \r\n    ... columns=15xs, viewport_supported=true, wta=false, ..., mmf=false\r\n\r\nI want to re-arrange it by extracting the common string left to the &#39;=&#39; sign and put it as the column header and its values in its column. How to start doing this in Java?\r\n\r\nI am looking for the output like below:\r\n\r\n    columns      viewport_supported        wta     and so on\r\n      20xs              true              false\r\n      11xs              false             false\r\n      15xs              true              false","title":"convert comma (with a space) delimited string into columns under the matching values from the string itself","body":"<p>I have an output in the console from my code like the sample given below,</p>\n\n<pre><code>... columns=20xs, viewport_supported=true, wta=false, ..., mmf=false\n... columns=11xs, viewport_supported=false, wta=false, ..., mmf=true \n... columns=15xs, viewport_supported=true, wta=false, ..., mmf=false\n</code></pre>\n\n<p>I want to re-arrange it by extracting the common string left to the '=' sign and put it as the column header and its values in its column. How to start doing this in Java?</p>\n\n<p>I am looking for the output like below:</p>\n\n<pre><code>columns      viewport_supported        wta     and so on\n  20xs              true              false\n  11xs              false             false\n  15xs              true              false\n</code></pre>\n"},{"tags":["java","c#","android","bluetooth"],"comments":[{"owner":{"account_id":20893714,"reputation":451,"user_id":18050436,"display_name":"petzval"},"score":1,"creation_date":1654691961,"post_id":72544347,"comment_id":128150956,"body_markdown":"This works for me: mmSocket = bluedev.createInsecureRfcommSocketToServiceRecord(\n                  UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;));  \nmmSocket.connect();                  \ninstream = mmSocket.getInputStream();\noutstream = mmSocket.getOutputStream();","body":"This works for me: mmSocket = bluedev.createInsecureRfcommSocketToServiceRecord(                   UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;));   mmSocket.connect();                   instream = mmSocket.getInputStream(); outstream = mmSocket.getOutputStream();"},{"owner":{"account_id":20893714,"reputation":451,"user_id":18050436,"display_name":"petzval"},"score":0,"creation_date":1654692799,"post_id":72544347,"comment_id":128151275,"body_markdown":"Maybe the problem is the service UUID. 0000110a is an audio link. You need 00001101 for a serial port. Running a Bluetooth server terminal on the PC should set one up, or See sections 5.4.1, 5.4.2 and 5.5.3 in the documentation here for bare-bones code to set up an Android/Windows serial link https://github.com/petzval/btferret","body":"Maybe the problem is the service UUID. 0000110a is an audio link. You need 00001101 for a serial port. Running a Bluetooth server terminal on the PC should set one up, or See sections 5.4.1, 5.4.2 and 5.5.3 in the documentation here for bare-bones code to set up an Android/Windows serial link <a href=\"https://github.com/petzval/btferret\" rel=\"nofollow noreferrer\">github.com/petzval/btferret</a>"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1654692905,"post_id":72544347,"comment_id":128151321,"body_markdown":"@petzval, hey okay should I try exposing other UUIDs on the device to see if I will get a non-audio UUID?","body":"@petzval, hey okay should I try exposing other UUIDs on the device to see if I will get a non-audio UUID?"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1654692942,"post_id":72544347,"comment_id":128151341,"body_markdown":"Can I use the hardcoded UUID you used in the first comment?","body":"Can I use the hardcoded UUID you used in the first comment?"},{"owner":{"account_id":20893714,"reputation":451,"user_id":18050436,"display_name":"petzval"},"score":0,"creation_date":1654693021,"post_id":72544347,"comment_id":128151368,"body_markdown":"Almost certainly - that is the standard UUID for a serial port","body":"Almost certainly - that is the standard UUID for a serial port"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1654693061,"post_id":72544347,"comment_id":128151382,"body_markdown":"Okay thanks trying that out, what about this logcat info `isSocketAllowedBySecurityPolicy start : device null`, does it have something to do with UUID?","body":"Okay thanks trying that out, what about this logcat info <code>isSocketAllowedBySecurityPolicy start : device null</code>, does it have something to do with UUID?"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1654693318,"post_id":72544347,"comment_id":128151513,"body_markdown":"@petzval, you saved me. Your UUID works, will it work for other android devices?","body":"@petzval, you saved me. Your UUID works, will it work for other android devices?"},{"owner":{"account_id":20893714,"reputation":451,"user_id":18050436,"display_name":"petzval"},"score":0,"creation_date":1654693466,"post_id":72544347,"comment_id":128151590,"body_markdown":"Any device with a serial service will almost certainly accept that standard UUID, but some such as the Windows COM port may only accept the 2-byte version 1101.","body":"Any device with a serial service will almost certainly accept that standard UUID, but some such as the Windows COM port may only accept the 2-byte version 1101."},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1654693557,"post_id":72544347,"comment_id":128151627,"body_markdown":"@petzval, can you edit now to post an answer on how to check if the socket is connected and then send message `Say Hello` to bluetooth device?","body":"@petzval, can you edit now to post an answer on how to check if the socket is connected and then send message <code>Say Hello</code> to bluetooth device?"}],"answers":[{"tags":[],"owner":{"account_id":20893714,"reputation":451,"user_id":18050436,"display_name":"petzval"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654712206,"creation_date":1654693962,"answer_id":72546329,"question_id":72544347,"body_markdown":"See section 5.5.3 in the README.md documentation here for bare-bones code https://github.com/petzval/btferret.\r\nThe functions instream.read and outstream.write exchange serial data.\r\n\r\n```\r\n byte[] dat;\r\n String s;\r\n int len;\r\n\r\n dat = new byte[32];\r\n s = &quot;Hello\\n&quot;;\r\n len = s.length();\r\n for(n = 0 ; n &lt; len ;++n)\r\n   dat[n] = s.charAt(n);\r\n \r\n outstream.write(dat,0,len);\r\n```","title":"How to effectively connect to Bluetooth Device socket with Android Java?","body":"<p>See section 5.5.3 in the README.md documentation here for bare-bones code <a href=\"https://github.com/petzval/btferret\" rel=\"nofollow noreferrer\">https://github.com/petzval/btferret</a>.\nThe functions instream.read and outstream.write exchange serial data.</p>\n<pre><code> byte[] dat;\n String s;\n int len;\n\n dat = new byte[32];\n s = &quot;Hello\\n&quot;;\n len = s.length();\n for(n = 0 ; n &lt; len ;++n)\n   dat[n] = s.charAt(n);\n \n outstream.write(dat,0,len);\n</code></pre>\n"}],"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72546329,"answer_count":1,"score":0,"last_activity_date":1654712206,"creation_date":1654685119,"question_id":72544347,"body_markdown":"I am trying to connect my bluetooth app to my PC using Android Java. After I have connected my app to the PC socket then I can send a message such as `Say Hello`. My app is successful in scanning for Bluetooth Devices in range using the location and bluetooth API. It discovers my PC and I grab the UUID of my PC from the Bluetooth Device profile discovered for my PC. I expose the UUID of my PC as a Bluetooth Device on the logcat and it looks like `device.getUUIDs` does not return null as long as you cancel discovery before calling it. Here is the UUID string printed on my logcat\r\n```\r\nBluetoothClient.BluetoothClient D/UUID: 0000110a-0000-1000-8000-00805f9b34fb\r\n```\r\nThe code below shows how I attempt to connect to the PC Bluetooth device socket\r\n```\r\n//check if the device is already bonded and attempt to connect to its socket if it is exposed\r\n if (dev.BondState == Bond.Bonded){\r\n  //device is a bluetooth device on my list I grabbed from the broadcast receiver\r\n  //grab the UUID of the discovered bluetooth device\r\n  UUID MYUUID = dev.GetUuids()[0].Uuid;\r\n  //create a bluetooth socket using the UUID for connection purposes\r\n  BluetoothSocket socket = dev.CreateRfcommSocketToServiceRecord(MYUUID);\r\n  //connect to the socket\r\n  socket.Connect();\r\n } \r\n```\r\nThe code written does not throw any exceptions nor does the app crash, this information is printed on my logcat.\r\n```\r\n D/BluetoothUtils: isSocketAllowedBySecurityPolicy start : device null\r\n // I do not know what the above is and what device is null \r\n I/BluetoothSocket: connect() for device F894C2 called by pid: 2822\r\n W/BluetoothAdapter: getBluetoothService() called with no BluetoothManagerCallback\r\n //if a bluetooth manager callback is needed for the socket creation, how do attach the callback to my code to make this work, Thank You.\r\n```","title":"How to effectively connect to Bluetooth Device socket with Android Java?","body":"<p>I am trying to connect my bluetooth app to my PC using Android Java. After I have connected my app to the PC socket then I can send a message such as <code>Say Hello</code>. My app is successful in scanning for Bluetooth Devices in range using the location and bluetooth API. It discovers my PC and I grab the UUID of my PC from the Bluetooth Device profile discovered for my PC. I expose the UUID of my PC as a Bluetooth Device on the logcat and it looks like <code>device.getUUIDs</code> does not return null as long as you cancel discovery before calling it. Here is the UUID string printed on my logcat</p>\n<pre><code>BluetoothClient.BluetoothClient D/UUID: 0000110a-0000-1000-8000-00805f9b34fb\n</code></pre>\n<p>The code below shows how I attempt to connect to the PC Bluetooth device socket</p>\n<pre><code>//check if the device is already bonded and attempt to connect to its socket if it is exposed\n if (dev.BondState == Bond.Bonded){\n  //device is a bluetooth device on my list I grabbed from the broadcast receiver\n  //grab the UUID of the discovered bluetooth device\n  UUID MYUUID = dev.GetUuids()[0].Uuid;\n  //create a bluetooth socket using the UUID for connection purposes\n  BluetoothSocket socket = dev.CreateRfcommSocketToServiceRecord(MYUUID);\n  //connect to the socket\n  socket.Connect();\n } \n</code></pre>\n<p>The code written does not throw any exceptions nor does the app crash, this information is printed on my logcat.</p>\n<pre><code> D/BluetoothUtils: isSocketAllowedBySecurityPolicy start : device null\n // I do not know what the above is and what device is null \n I/BluetoothSocket: connect() for device F894C2 called by pid: 2822\n W/BluetoothAdapter: getBluetoothService() called with no BluetoothManagerCallback\n //if a bluetooth manager callback is needed for the socket creation, how do attach the callback to my code to make this work, Thank You.\n</code></pre>\n"},{"tags":["java","csv","quotes","opencsv"],"comments":[{"owner":{"account_id":369855,"reputation":3245,"user_id":717457,"display_name":"ccoakley"},"score":0,"creation_date":1326924945,"post_id":8918273,"comment_id":11157361,"body_markdown":"First, file a bug report as `Ignoring commas in quoted elements` is stated in the features.","body":"First, file a bug report as <code>Ignoring commas in quoted elements</code> is stated in the features."},{"owner":{"account_id":94267,"reputation":47134,"user_id":257465,"display_name":"tzaman"},"score":0,"creation_date":1326924950,"post_id":8918273,"comment_id":11157363,"body_markdown":"Do you want that to be returned as two fields, i.e. `&quot;Hello` and `World&quot;` ?","body":"Do you want that to be returned as two fields, i.e. <code>&quot;Hello</code> and <code>World&quot;</code> ?"},{"owner":{"account_id":988263,"reputation":4012,"user_id":1006249,"accept_rate":83,"display_name":"DrXCheng"},"score":0,"creation_date":1326925034,"post_id":8918273,"comment_id":11157389,"body_markdown":"@milan I am now doing that based on opencsv","body":"@milan I am now doing that based on opencsv"},{"owner":{"account_id":988263,"reputation":4012,"user_id":1006249,"accept_rate":83,"display_name":"DrXCheng"},"score":0,"creation_date":1326925068,"post_id":8918273,"comment_id":11157400,"body_markdown":"@tzaman I want them together.","body":"@tzaman I want them together."},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1326925153,"post_id":8918273,"comment_id":11157429,"body_markdown":"It seems this is supported in 2.1 API, did you try playing with these parameters? char quotechar,\n                 boolean strictQuotes","body":"It seems this is supported in 2.1 API, did you try playing with these parameters? char quotechar,                  boolean strictQuotes"}],"answers":[{"tags":[],"owner":{"account_id":1122455,"reputation":835,"user_id":1110507,"accept_rate":85,"display_name":"abeauchamp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1326925079,"creation_date":1326925079,"answer_id":8918335,"question_id":8918273,"body_markdown":"You can write a custom code to search through your csv file and replace all comma&#39;s that are inside quotes with a &amp;comma; or a special character that you can identify later and place back as a comma.","title":"How to deal with comma in quote for csv file in Java?","body":"<p>You can write a custom code to search through your csv file and replace all comma's that are inside quotes with a &comma; or a special character that you can identify later and place back as a comma.</p>\n"},{"tags":[],"owner":{"account_id":94267,"reputation":47134,"user_id":257465,"display_name":"tzaman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326925534,"creation_date":1326925534,"answer_id":8918426,"question_id":8918273,"body_markdown":"According to the documentation, you can supply custom separator and quote characters in the constructor, which should deal with it:\r\n\r\n    CSVReader(Reader reader, char separator, char quotechar)\r\nConstruct your reader with `,` as `separator` and `&quot;` as `quotechar`. ","title":"How to deal with comma in quote for csv file in Java?","body":"<p>According to the documentation, you can supply custom separator and quote characters in the constructor, which should deal with it:</p>\n\n<pre><code>CSVReader(Reader reader, char separator, char quotechar)\n</code></pre>\n\n<p>Construct your reader with <code>,</code> as <code>separator</code> and <code>\"</code> as <code>quotechar</code>. </p>\n"}],"owner":{"account_id":988263,"reputation":4012,"user_id":1006249,"accept_rate":83,"display_name":"DrXCheng"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3566,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1654711881,"creation_date":1326924776,"question_id":8918273,"body_markdown":"&lt;strike&gt;I am using [opencsv][1] to read csv file. Fields are separated by comma. But in one field, if it contains quote, the comma inside the quote then is not a delimiter. For example, &quot;Hello, World&quot;.\r\n\r\nThe current opencsv cannot deal with that. How to address this problem?&lt;/strike&gt;\r\n\r\n\r\n**update**\r\n\r\nI found that it is not the problem of comma (so far). The problem row is:`...,&quot;a children&quot;&quot;s heart\\&quot;,...`. It seems to remove the quote, thus the read field becomes `a children&quot;s heart&quot;,......` and `......` represent all the following data.\r\n\r\nIt seems not the problem of opencsv, but mess of the input data.\r\n\r\n  [1]: http://opencsv.sourceforge.net/","title":"How to deal with comma in quote for csv file in Java?","body":"<p><strike>I am using <a href=\"http://opencsv.sourceforge.net/\" rel=\"nofollow\">opencsv</a> to read csv file. Fields are separated by comma. But in one field, if it contains quote, the comma inside the quote then is not a delimiter. For example, \"Hello, World\".</p>\n\n<p>The current opencsv cannot deal with that. How to address this problem?</strike></p>\n\n<p><strong>update</strong></p>\n\n<p>I found that it is not the problem of comma (so far). The problem row is:<code>...,\"a children\"\"s heart\\\",...</code>. It seems to remove the quote, thus the read field becomes <code>a children\"s heart\",......</code> and <code>......</code> represent all the following data.</p>\n\n<p>It seems not the problem of opencsv, but mess of the input data.</p>\n"},{"tags":["java","percentage","bigdecimal"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":3,"creation_date":1654706959,"post_id":72549417,"comment_id":128157684,"body_markdown":"Rounding error - You are forcing results to be calculated to 2 decimal places, losing precision.","body":"Rounding error - You are forcing results to be calculated to 2 decimal places, losing precision."},{"owner":{"account_id":483248,"reputation":2063,"user_id":898162,"accept_rate":71,"display_name":"Eugene Shmorgun"},"score":0,"creation_date":1654707430,"post_id":72549417,"comment_id":128157862,"body_markdown":"But since I calculate money value - any ideas how to get the same commission ?","body":"But since I calculate money value - any ideas how to get the same commission ?"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1654710069,"post_id":72549417,"comment_id":128158762,"body_markdown":"Ask a (legal/financial) professional in the topic how the roundings are supposed to work in your country in these type of scenarios. Here in Mexico, for example, we have a tax that should be 2/3 of the price, which IS VERY PRONE to rounding errors. As such, the tributary system decided that the calculations should be with a precision of 5 decimals and then rounded to 2 decimals. I doubt your tributary entity doesn&#39;t have a ruling for that.","body":"Ask a (legal/financial) professional in the topic how the roundings are supposed to work in your country in these type of scenarios. Here in Mexico, for example, we have a tax that should be 2/3 of the price, which IS VERY PRONE to rounding errors. As such, the tributary system decided that the calculations should be with a precision of 5 decimals and then rounded to 2 decimals. I doubt your tributary entity doesn&#39;t have a ruling for that."}],"answers":[{"tags":[],"owner":{"account_id":19773192,"reputation":1,"user_id":14479768,"display_name":"ha_look"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654711223,"creation_date":1654711223,"answer_id":72550277,"question_id":72549417,"body_markdown":"In java.math RoundingMode.HALF_UP means &quot;Rounding mode to round towards nearest neighbor unless both neighbors are equidistant, in which case round up&quot;. Since you are calculating money I recommend you to make the rounding operations at the end of the calculation.\r\n````\r\ninitValue.subtract(initValue.multiply(BigDecimal.ONE.subtract(percent.scaleByPowerOfTen(-2))).setScale(2, RoundingMode.HALF_UP);\r\n````\r\nThis will actually give you the same result **0,87**.\r\n\r\nWhen you calculate the backward commission it is best to change the rounding mode since it is a backward operation. So the code will be:\r\n````\r\nupdatedValue.divide(BigDecimal.ONE.subtract(percent.scaleByPowerOfTen(-2)), RoundingMode.HALF_DOWN).subtract(updatedValue).setScale(2, RoundingMode.HALF_DOWN);\r\n````\r\nThis will give you the same result **0,87**.","title":"How to correctly calculate forward and backward percentage in Java by BigDecimal?","body":"<p>In java.math RoundingMode.HALF_UP means &quot;Rounding mode to round towards nearest neighbor unless both neighbors are equidistant, in which case round up&quot;. Since you are calculating money I recommend you to make the rounding operations at the end of the calculation.</p>\n<pre><code>initValue.subtract(initValue.multiply(BigDecimal.ONE.subtract(percent.scaleByPowerOfTen(-2))).setScale(2, RoundingMode.HALF_UP);\n</code></pre>\n<p>This will actually give you the same result <strong>0,87</strong>.</p>\n<p>When you calculate the backward commission it is best to change the rounding mode since it is a backward operation. So the code will be:</p>\n<pre><code>updatedValue.divide(BigDecimal.ONE.subtract(percent.scaleByPowerOfTen(-2)), RoundingMode.HALF_DOWN).subtract(updatedValue).setScale(2, RoundingMode.HALF_DOWN);\n</code></pre>\n<p>This will give you the same result <strong>0,87</strong>.</p>\n"}],"owner":{"account_id":483248,"reputation":2063,"user_id":898162,"accept_rate":71,"display_name":"Eugene Shmorgun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654711223,"creation_date":1654706737,"question_id":72549417,"body_markdown":"There is mismatch between two results, which are got when I try to calculate percentage having initial summa (let&#39;s say - forward commission) and adjusted summa (let&#39;s call this backward commission).\r\n\r\nSo let me have 25 as initial value.\r\n\r\nI&#39;d like to calculate 3.5%.\r\n\r\nWhat am I doing for this?\r\n\r\n    P = 25 - 25*(1-3.5/100) = 0.875.\r\n\r\nIn terms of Java it looks like this\r\n\r\nwhere initValue equals `25` for sure, and percent equals `3.5`\r\n\r\n   \r\n\r\n        initValue.subtract(initValue.multiply(BigDecimal.ONE.subtract(percent.scaleByPowerOfTen(-2)).setScale(2, RoundingMode.HALF_UP));\r\n\r\n**result = 0.87** given by Java\r\n\r\nLet me substract this from 25. My final result is 24.13. \r\n\r\n\r\nSo let&#39;s assume that I need to calculate backward commission from this summa 24.13\r\n\r\n24.13/(1 - 3.5/100) \r\n\r\nand this gives me **0.88** when I use Google Sheet and the following Java code:\r\n\r\n    updatedValue.divide(BigDecimal.ONE.subtract(percent.scaleByPowerOfTen(-2)), RoundingMode.HALF_UP).subtract(updatedValue).setScale(2, RoundingMode.HALF_UP);\r\n\r\nwhere updatedValue equals 24.13 and percent still 3.5\r\n\r\nBasically since mathematical context seems to me as doubtless should I expect that my backward commission give me 0.87 ? And why I get 0.88 constantly then ?","title":"How to correctly calculate forward and backward percentage in Java by BigDecimal?","body":"<p>There is mismatch between two results, which are got when I try to calculate percentage having initial summa (let's say - forward commission) and adjusted summa (let's call this backward commission).</p>\n<p>So let me have 25 as initial value.</p>\n<p>I'd like to calculate 3.5%.</p>\n<p>What am I doing for this?</p>\n<pre><code>P = 25 - 25*(1-3.5/100) = 0.875.\n</code></pre>\n<p>In terms of Java it looks like this</p>\n<p>where initValue equals <code>25</code> for sure, and percent equals <code>3.5</code></p>\n<pre><code>    initValue.subtract(initValue.multiply(BigDecimal.ONE.subtract(percent.scaleByPowerOfTen(-2)).setScale(2, RoundingMode.HALF_UP));\n</code></pre>\n<p><strong>result = 0.87</strong> given by Java</p>\n<p>Let me substract this from 25. My final result is 24.13.</p>\n<p>So let's assume that I need to calculate backward commission from this summa 24.13</p>\n<p>24.13/(1 - 3.5/100)</p>\n<p>and this gives me <strong>0.88</strong> when I use Google Sheet and the following Java code:</p>\n<pre><code>updatedValue.divide(BigDecimal.ONE.subtract(percent.scaleByPowerOfTen(-2)), RoundingMode.HALF_UP).subtract(updatedValue).setScale(2, RoundingMode.HALF_UP);\n</code></pre>\n<p>where updatedValue equals 24.13 and percent still 3.5</p>\n<p>Basically since mathematical context seems to me as doubtless should I expect that my backward commission give me 0.87 ? And why I get 0.88 constantly then ?</p>\n"},{"tags":["java","spring","spring-boot","validation","spring-validator"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1654704516,"post_id":72548718,"comment_id":128156715,"body_markdown":"Maybe you can explain why you want to do this, so we can come up with better solution. What you want to do is possible with validator annotation on the class level, but that goes against the single responsibility principle. A `ConstraintValidator` should only validate, it should **not** validate and mutate.","body":"Maybe you can explain why you want to do this, so we can come up with better solution. What you want to do is possible with validator annotation on the class level, but that goes against the single responsibility principle. A <code>ConstraintValidator</code> should only validate, it should <b>not</b> validate and mutate."},{"owner":{"display_name":"user19254373"},"score":0,"creation_date":1654704786,"post_id":72548718,"comment_id":128156833,"body_markdown":"@Chaosfire I agree with you, but the reason is that: I want to trim whitespaces and I do not want to trim the text by using an Util method or in getter of the property. Instead, I want to use annotation on each property that will be trimmed. So, how can I use a similar way to custom validation annotation and trim the related properties by using a custom annotation in Spring Boot or Java?","body":"@Chaosfire I agree with you, but the reason is that: I want to trim whitespaces and I do not want to trim the text by using an Util method or in getter of the property. Instead, I want to use annotation on each property that will be trimmed. So, how can I use a similar way to custom validation annotation and trim the related properties by using a custom annotation in Spring Boot or Java?"},{"owner":{"display_name":"user19254373"},"score":0,"creation_date":1654705855,"post_id":72548718,"comment_id":128157262,"body_markdown":"@Chaosfire Any reply please?","body":"@Chaosfire Any reply please?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1654706557,"post_id":72548718,"comment_id":128157521,"body_markdown":"Sounds like a pojo, since you only ever need trimmed strings, why not just trim them in the setters? Any reason not to do it?","body":"Sounds like a pojo, since you only ever need trimmed strings, why not just trim them in the setters? Any reason not to do it?"},{"owner":{"display_name":"user19254373"},"score":0,"creation_date":1654760053,"post_id":72548718,"comment_id":128169712,"body_markdown":"@Chaosfire Yeah, I tried to set in setter and using an Util method. However, I am looking a solution by using annotation and applying the rule easily to all of the necessary properties as in validators. So, is there any approach that can be used to modify property value (e.g. returning trim value or null if the value is null) **via annotation**?","body":"@Chaosfire Yeah, I tried to set in setter and using an Util method. However, I am looking a solution by using annotation and applying the rule easily to all of the necessary properties as in validators. So, is there any approach that can be used to modify property value (e.g. returning trim value or null if the value is null) <b>via annotation</b>?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1654768578,"post_id":72548718,"comment_id":128172802,"body_markdown":"Sounds like something that could be done with aspects, although i am not too sure. Check this [question](https://stackoverflow.com/questions/12372165/intercepting-method-calls).","body":"Sounds like something that could be done with aspects, although i am not too sure. Check this <a href=\"https://stackoverflow.com/questions/12372165/intercepting-method-calls\">question</a>."},{"owner":{"display_name":"user19254373"},"score":0,"creation_date":1654773038,"post_id":72548718,"comment_id":128174381,"body_markdown":"JsonDeserialize seems to be ok according to my researches after the answer of @ankit. Thanks a lot for your helps.","body":"JsonDeserialize seems to be ok according to my researches after the answer of @ankit. Thanks a lot for your helps."}],"answers":[{"tags":[],"owner":{"account_id":4995738,"reputation":94,"user_id":8824639,"display_name":"ankit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654710194,"creation_date":1654710194,"answer_id":72550080,"question_id":72548718,"body_markdown":"Use jackson JsonDeserialize annotation to do this.\r\n\r\nExample:\r\n\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class TrimWhiteSpace extends StdDeserializer&lt;String&gt; {\r\n    \r\n      private static final long serialVersionUID = -4993230470571124275L;\r\n    \r\n      public TrimWhiteSpace() {\r\n        this(null);\r\n      }\r\n    \r\n      protected TrimWhiteSpace(final Class&lt;?&gt; vc) {\r\n        super(vc);\r\n      }\r\n    \r\n      @Override\r\n      public String deserialize(final JsonParser p, final DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n        return p.getText() == null ? null : p.getText().trim();\r\n      }\r\n    }\r\n\r\nYou can use this annotation as below:\r\n\r\n    public class Request {\r\n    \r\n        @JsonDeserialize(using = TrimWhiteSpace.class)\r\n        private String name;\r\n    \r\n    }","title":"Is it possible to change value when using ConstraintValidator in Spring Boot?","body":"<p>Use jackson JsonDeserialize annotation to do this.</p>\n<p>Example:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\n\nimport java.io.IOException;\n\npublic class TrimWhiteSpace extends StdDeserializer&lt;String&gt; {\n\n  private static final long serialVersionUID = -4993230470571124275L;\n\n  public TrimWhiteSpace() {\n    this(null);\n  }\n\n  protected TrimWhiteSpace(final Class&lt;?&gt; vc) {\n    super(vc);\n  }\n\n  @Override\n  public String deserialize(final JsonParser p, final DeserializationContext ctxt) throws IOException, JsonProcessingException {\n    return p.getText() == null ? null : p.getText().trim();\n  }\n}\n</code></pre>\n<p>You can use this annotation as below:</p>\n<pre><code>public class Request {\n\n    @JsonDeserialize(using = TrimWhiteSpace.class)\n    private String name;\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user19254373"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72550080,"answer_count":1,"score":0,"last_activity_date":1654710194,"creation_date":1654703502,"question_id":72548718,"body_markdown":"I have a string field that may contain whitespaces at leading and trailing. I want to trim these whitespaces and return trimmed text using `ConstraintValidator`. If the text is null, I want to return null. \r\n\r\nWhen looking at the implementation examples as shown on [this](https://www.logicbig.com/tutorials/spring-framework/spring-core/creating-custom-validation-constraints.html) link, I am not sure how can I create a method that gets string and return string instead of `isValid()` method. So, how can I implement this approach based on the given scenario? ","title":"Is it possible to change value when using ConstraintValidator in Spring Boot?","body":"<p>I have a string field that may contain whitespaces at leading and trailing. I want to trim these whitespaces and return trimmed text using <code>ConstraintValidator</code>. If the text is null, I want to return null.</p>\n<p>When looking at the implementation examples as shown on <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-core/creating-custom-validation-constraints.html\" rel=\"nofollow noreferrer\">this</a> link, I am not sure how can I create a method that gets string and return string instead of <code>isValid()</code> method. So, how can I implement this approach based on the given scenario?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":4870108,"reputation":3891,"user_id":3926930,"accept_rate":60,"display_name":"Shafin Mahmud"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1654709989,"creation_date":1514270125,"answer_id":47974778,"question_id":47974670,"body_markdown":"You can use `columnDefinition` property to tell ORM about the default value for the field. Actually thats an implicit way of having this functionality. \r\n\r\n    @Column(name=&quot;value&quot;, columnDefinition=&quot;Decimal(10,2) default &#39;0.00&#39;&quot;)\r\n    private BigDecimal value = BigDecimal.ZERO;\r\n\r\nAlong with that, you could initialize the field with `BigDecimal.ZERO` that will occupy the same purpose when you will create `new` Object from that entity before persist.","title":"JPA annotation for default value for a column having type BigDecimal","body":"<p>You can use <code>columnDefinition</code> property to tell ORM about the default value for the field. Actually thats an implicit way of having this functionality.</p>\n<pre><code>@Column(name=&quot;value&quot;, columnDefinition=&quot;Decimal(10,2) default '0.00'&quot;)\nprivate BigDecimal value = BigDecimal.ZERO;\n</code></pre>\n<p>Along with that, you could initialize the field with <code>BigDecimal.ZERO</code> that will occupy the same purpose when you will create <code>new</code> Object from that entity before persist.</p>\n"},{"tags":[],"owner":{"account_id":426601,"reputation":961,"user_id":807890,"display_name":"Anton Tupy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514271540,"creation_date":1514271540,"answer_id":47975010,"question_id":47974670,"body_markdown":"Try this:\r\n\r\n    @Entity\r\n    public class Myclass{\r\n        @Column\r\n        private BigDecimal value = BigDecimal.ZERO;\r\n    }\r\n\r\nIMHO this code more clearly shows your intentions than magic annotations.","title":"JPA annotation for default value for a column having type BigDecimal","body":"<p>Try this:</p>\n\n<pre><code>@Entity\npublic class Myclass{\n    @Column\n    private BigDecimal value = BigDecimal.ZERO;\n}\n</code></pre>\n\n<p>IMHO this code more clearly shows your intentions than magic annotations.</p>\n"},{"tags":[],"owner":{"account_id":8928175,"reputation":1,"user_id":6661675,"display_name":"Lakhan Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514281387,"creation_date":1514281387,"answer_id":47976607,"question_id":47974670,"body_markdown":"Change your setter method and set default value other wise set value in database column a default value.\r\npublic void setvalue(BigDecimal  value){if(value==null){this.value=0;}}","title":"JPA annotation for default value for a column having type BigDecimal","body":"<p>Change your setter method and set default value other wise set value in database column a default value.\npublic void setvalue(BigDecimal  value){if(value==null){this.value=0;}}</p>\n"},{"tags":[],"owner":{"account_id":10766816,"reputation":1303,"user_id":7921521,"display_name":"Mazen Embaby"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514308505,"creation_date":1514308505,"answer_id":47981648,"question_id":47974670,"body_markdown":"use hibernate annotation check [Documentation][1]\r\n\r\n    @ColumnDefault(&quot;0&quot;)\r\n    private BigDecimal value;\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#schema-generation-column-default-value","title":"JPA annotation for default value for a column having type BigDecimal","body":"<p>use hibernate annotation check <a href=\"http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#schema-generation-column-default-value\" rel=\"nofollow noreferrer\">Documentation</a></p>\n\n<pre><code>@ColumnDefault(\"0\")\nprivate BigDecimal value;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15274850,"reputation":37,"user_id":11020888,"display_name":"H_B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617071783,"creation_date":1617071783,"answer_id":66864050,"question_id":47974670,"body_markdown":"I came accross this code and found out that add the `new` keyword otherwise you&#39;ll have NullPointerException\r\n````\r\n@Entity\r\npublic class Myclass{\r\n    @Column\r\n    private BigDecimal value = new BigDecimal(&quot;0&quot;); //\r\n    private BigDecimal value = new BigDecimal(BigDecimal.ZERO);\r\n}\r\n````","title":"JPA annotation for default value for a column having type BigDecimal","body":"<p>I came accross this code and found out that add the <code>new</code> keyword otherwise you'll have NullPointerException</p>\n<pre><code>@Entity\npublic class Myclass{\n    @Column\n    private BigDecimal value = new BigDecimal(&quot;0&quot;); //\n    private BigDecimal value = new BigDecimal(BigDecimal.ZERO);\n}\n</code></pre>\n"}],"owner":{"account_id":10169069,"reputation":89,"user_id":7509944,"accept_rate":25,"display_name":"Rishabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13645,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1654709989,"creation_date":1514269439,"question_id":47974670,"body_markdown":"In one of my model taking column value as BigDecimal, i need to set default value as 0 at jpa level.How would i do that?\r\n\r\n    @Entity\r\n    public class Myclass{\r\n    @Column\r\n    private BigDecimal value;\r\n    }\r\n","title":"JPA annotation for default value for a column having type BigDecimal","body":"<p>In one of my model taking column value as BigDecimal, i need to set default value as 0 at jpa level.How would i do that?</p>\n\n<pre><code>@Entity\npublic class Myclass{\n@Column\nprivate BigDecimal value;\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1654706912,"post_id":72549108,"comment_id":128157664,"body_markdown":"Seems like you really ought to be using Flyway.","body":"Seems like you really ought to be using Flyway."},{"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"score":0,"creation_date":1654755906,"post_id":72549108,"comment_id":128168394,"body_markdown":"Can u pls refer to any tuorial or blogs to read more about it.","body":"Can u pls refer to any tuorial or blogs to read more about it."}],"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654709639,"creation_date":1654705244,"question_id":72549108,"body_markdown":"I have a list of SQL scripts in the resource folder. There is a list of scripts from 01 to 06. It must be inserted sequentially. I tried with following application.properties:-\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/test\r\n    spring.datasource.driverClassName=org.postgresql.Driver\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=docker\r\n    spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect \r\n\r\nHere is screenshot for the list script in the resoure folder:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe app is running without any error. But it did not populate the database. How do I populate it? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zM6zU.png","title":"how to initialize PostgreSQL database on startup from the SQL script in the resource for Spring Boot app","body":"<p>I have a list of SQL scripts in the resource folder. There is a list of scripts from 01 to 06. It must be inserted sequentially. I tried with following application.properties:-</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/test\nspring.datasource.driverClassName=org.postgresql.Driver\nspring.datasource.username=postgres\nspring.datasource.password=docker\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect \n</code></pre>\n<p>Here is screenshot for the list script in the resoure folder:-</p>\n<p><a href=\"https://i.stack.imgur.com/zM6zU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zM6zU.png\" alt=\"enter image description here\" /></a></p>\n<p>The app is running without any error. But it did not populate the database. How do I populate it?</p>\n"},{"tags":["java","spring-boot","maven","tomcat","tomcat7"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1645650395,"post_id":71243978,"comment_id":125932166,"body_markdown":"`ClassNotFoundException` on something in `javax.servlet` probably means you need a newer version of Tomcat.","body":"<code>ClassNotFoundException</code> on something in <code>javax.servlet</code> probably means you need a newer version of Tomcat."},{"owner":{"account_id":20814956,"reputation":115,"user_id":15287955,"display_name":"Dalireeza"},"score":0,"creation_date":1645650459,"post_id":71243978,"comment_id":125932192,"body_markdown":"@chrylis-cautiouslyoptimistic- I cannot use another versions of tomcat, because that&#39;s the one used on production.","body":"@chrylis-cautiouslyoptimistic- I cannot use another versions of tomcat, because that&#39;s the one used on production."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1645650910,"post_id":71243978,"comment_id":125932347,"body_markdown":"Then your organization needs to fix production. Tomcat is now on version *10*, and version 7 was EOL a year ago.","body":"Then your organization needs to fix production. Tomcat is now on version <i>10</i>, and version 7 was EOL a year ago."},{"owner":{"account_id":20814956,"reputation":115,"user_id":15287955,"display_name":"Dalireeza"},"score":0,"creation_date":1645651041,"post_id":71243978,"comment_id":125932390,"body_markdown":"@chrylis-cautiouslyoptimistic- Alright, what I will do is: download the latest version of tomcat, try to deploy both ROOT and spring-boot apps on it. If everything works fine,I will discuss this issue with the seniors. Thanks.","body":"@chrylis-cautiouslyoptimistic- Alright, what I will do is: download the latest version of tomcat, try to deploy both ROOT and spring-boot apps on it. If everything works fine,I will discuss this issue with the seniors. Thanks."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1645651101,"post_id":71243978,"comment_id":125932409,"body_markdown":"In the meantime you need to revise your application to target the servlet version supported by tomcat 7.  This may require a closer study of the documentation.","body":"In the meantime you need to revise your application to target the servlet version supported by tomcat 7.  This may require a closer study of the documentation."},{"owner":{"account_id":20814956,"reputation":115,"user_id":15287955,"display_name":"Dalireeza"},"score":0,"creation_date":1645651442,"post_id":71243978,"comment_id":125932529,"body_markdown":"@Thorbj&#248;rnRavnAndersen I don&#39;t get it. Do you mean to substitute `        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;` with the version supported by tomcat7?","body":"@Thorbj&#248;rnRavnAndersen I don&#39;t get it. Do you mean to substitute `        &lt;dependency&gt;             &lt;groupId&gt;javax.servlet&lt;/groupId&gt;             &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;             &lt;version&gt;3.1.0&lt;/version&gt;         &lt;/dependency&gt;` with the version supported by tomcat7?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1645675096,"post_id":71243978,"comment_id":125937211,"body_markdown":"If they&#39;re making changes, it&#39;s best to avoid deploying into an external container at all. Modern applications use the embedded container, which is much easier for everyone.","body":"If they&#39;re making changes, it&#39;s best to avoid deploying into an external container at all. Modern applications use the embedded container, which is much easier for everyone."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1645698410,"post_id":71243978,"comment_id":125943289,"body_markdown":"Unrelated: update PDFBox to 2.0.25. Use the maven-versions-plugin to stay up to date.","body":"Unrelated: update PDFBox to 2.0.25. Use the maven-versions-plugin to stay up to date."},{"owner":{"account_id":20814956,"reputation":115,"user_id":15287955,"display_name":"Dalireeza"},"score":0,"creation_date":1645718619,"post_id":71243978,"comment_id":125951197,"body_markdown":"@chrylis-cautiouslyoptimistic- thanks. Actually, the whole point of this &quot;deploying into the external tomcat&quot; is this: when I deploy a spring boot jar file on the server using `java -jar app.jar` command, the application shuts down after ~12 hours. I investigated as much as I can, but could not understand what&#39;s the reason for that... Anyways, that&#39;s the topic for another discussion.","body":"@chrylis-cautiouslyoptimistic- thanks. Actually, the whole point of this &quot;deploying into the external tomcat&quot; is this: when I deploy a spring boot jar file on the server using <code>java -jar app.jar</code> command, the application shuts down after ~12 hours. I investigated as much as I can, but could not understand what&#39;s the reason for that... Anyways, that&#39;s the topic for another discussion."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1645973108,"post_id":71243978,"comment_id":126004744,"body_markdown":"@Dalireeza If the application shuts down after 12 hours you should be able to see in the logs what happened.  Either the Tomcat logs or the Linux &quot;dmesg&quot; logs where the OutOfMemoryKiller reports if it needs to do something.   If you cannot see anything, you may want to enable Java Flight Recorder and/or attach a profiler like VIsualVM to see if for instance memory usage slowly climbs over time.","body":"@Dalireeza If the application shuts down after 12 hours you should be able to see in the logs what happened.  Either the Tomcat logs or the Linux &quot;dmesg&quot; logs where the OutOfMemoryKiller reports if it needs to do something.   If you cannot see anything, you may want to enable Java Flight Recorder and/or attach a profiler like VIsualVM to see if for instance memory usage slowly climbs over time."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645653900,"creation_date":1645653588,"answer_id":71244532,"question_id":71243978,"body_markdown":"# Deploy to Tomcat 8 or later\r\n\r\nYour error says the interface [`HttpSessionIdListener`][1] cannot be found. \r\n\r\nLooking at the Javadoc for that interface tells us it was added in Servlet 3.1 specification. \r\n\r\nNow look at the [Which version?][2] page on the Tomcat site.  There we see that Tomcat 7 supports Servlet 3.0. For Servlet 3.1, you need Tomcat 8 or later. \r\n\r\nBe aware that Tomcat 8.0.x has been superseded by Tomcat 8.5.x.\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/servlet/4.0/apidocs/javax/servlet/http/HttpSessionIdListener.html\r\n  [2]: https://tomcat.apache.org/whichversion.html","title":"Can&#39;t deploy Spring-Boot WAR file on External Tomcat 7","body":"<h1>Deploy to Tomcat 8 or later</h1>\n<p>Your error says the interface <a href=\"https://jakarta.ee/specifications/servlet/4.0/apidocs/javax/servlet/http/HttpSessionIdListener.html\" rel=\"nofollow noreferrer\"><code>HttpSessionIdListener</code></a> cannot be found.</p>\n<p>Looking at the Javadoc for that interface tells us it was added in Servlet 3.1 specification.</p>\n<p>Now look at the <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">Which version?</a> page on the Tomcat site.  There we see that Tomcat 7 supports Servlet 3.0. For Servlet 3.1, you need Tomcat 8 or later.</p>\n<p>Be aware that Tomcat 8.0.x has been superseded by Tomcat 8.5.x.</p>\n"}],"owner":{"account_id":20814956,"reputation":115,"user_id":15287955,"display_name":"Dalireeza"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1813,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71244532,"answer_count":1,"score":1,"last_activity_date":1654708993,"creation_date":1645649986,"question_id":71243978,"body_markdown":"The development team is using Tomcat 7 on Ubuntu server. I downloaded that Tomcat from the server and deployed locally and it works okay. \r\n\r\nNow, I developed a spring-boot module, wrapped it into WAR file and wanted to deploy it in the same Tomcat. However, `catalina.bat run` fails to start my spring-boot application. The original application (called `ROOT`) is working fine. \r\n\r\nMy `pom.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;kz.iuth.platonus&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;com.e-iceblue&lt;/id&gt;\r\n            &lt;name&gt;e-iceblue&lt;/name&gt;\r\n            &lt;url&gt;https://repo.e-iceblue.com/nexus/content/groups/public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/e-iceblue/spire.doc.free --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;e-iceblue&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spire.doc.free&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20211205&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javase&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.pdfbox/pdfbox --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;executable&gt;true&lt;/executable&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nMy `application.properties` file:\r\n\r\n```\r\nspring.datasource.driverClassName = com.mysql.cj.jdbc.Driver\r\nspring.datasource.url = jdbc:mysql://localhost/nitro?characterEncoding=utf8\r\nspring.datasource.username = root\r\nspring.datasource.password = root\r\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\nspring.thymeleaf.cache=false\r\n\r\nspring.servlet.multipart.enabled=true\r\n# Threshold after which files are written to disk.\r\nspring.servlet.multipart.file-size-threshold=2KB\r\n# Max file size.\r\nspring.servlet.multipart.max-file-size=200MB\r\n# Max Request Size\r\nspring.servlet.multipart.max-request-size=215MB\r\n```\r\n\r\nMain application class:\r\n\r\n```\r\npackage kz.iuth.platonus.demo;\r\n\r\nimport kz.iuth.platonus.demo.entities.Roles;\r\nimport kz.iuth.platonus.demo.services.RolesService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.annotation.PostConstruct;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication extends SpringBootServletInitializer {\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder applicationBuilder) {\r\n\t\treturn applicationBuilder.sources(DemoApplication.class);\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nThe controller:\r\n\r\n```\r\n@RestController\r\npublic class MainController {\r\n...\r\n    @GetMapping(&quot;/&quot;)\r\n    public String test() {\r\n        return &quot;test&quot;;\r\n    }\r\n```\r\n\r\nError on `catalina.bat run`:\r\n\r\n```\r\nINFO: Deploying web application archive [C:\\Program Files\\tomcat7\\webapps\\demo-0.0.1-SNAPSHOT.war]\r\nFeb 24, 2022 2:55:39 AM org.apache.catalina.core.StandardContext postWorkDirectory\r\nWARNING: Failed to create work directory [C:\\Program Files\\tomcat7\\work\\Catalina\\localhost\\demo-0.0.1-SNAPSHOT] for context [/demo-0.0.1-SNAPSHOT]\r\nFeb 24, 2022 2:55:39 AM org.apache.catalina.loader.WebappClassLoaderBase validateJarFile\r\nINFO: validateJarFile(C:\\Program Files\\tomcat7\\webapps\\demo-0.0.1-SNAPSHOT\\WEB-INF\\lib\\javax.servlet-api-3.1.0.jar) - jar not loaded. See Servlet Spec 3.0, section 10.7.2. Offending class: javax/servlet/Servlet.class\r\nFeb 24, 2022 2:55:43 AM org.apache.catalina.startup.TldConfig execute\r\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.6.1)\r\n\r\n2022-02-24 02:55:44.350  INFO 33832 --- [ost-startStop-1] kz.iuth.platonus.demo.DemoApplication    : Starting DemoApplication using Java 1.8.0_311 on DESKTOP-961M2T3 with PID 33832 (C:\\Program Files\\tomcat7\\webapps\\demo-0.0.1-SNAPSHOT\\WEB-INF\\classes started by BIG SEXY BOSS 3090 in C:\\Program Files\\tomcat7\\webapps)\r\n2022-02-24 02:55:44.356  INFO 33832 --- [ost-startStop-1] kz.iuth.platonus.demo.DemoApplication    : No active profile set, falling back to default profiles: default\r\n2022-02-24 02:55:45.012  INFO 33832 --- [ost-startStop-1] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-02-24 02:55:45.109  INFO 33832 --- [ost-startStop-1] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 11 JPA repository interfaces.\r\n2022-02-24 02:55:45.481  INFO 33832 --- [ost-startStop-1] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1076 ms\r\n2022-02-24 02:55:45.678  WARN 33832 --- [ost-startStop-1] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.NoClassDefFoundError: javax/servlet/http/HttpSessionIdListener\r\n2022-02-24 02:55:45.690  INFO 33832 --- [ost-startStop-1] ConditionEvaluationReportLoggingListener :\r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-02-24 02:55:45.716 ERROR 33832 --- [ost-startStop-1] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.NoClassDefFoundError: javax/servlet/http/HttpSessionIdListener\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.6.1.jar:2.6.1]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.13.jar:5.3.13]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.1.jar:2.6.1]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.1.jar:2.6.1]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.1.jar:2.6.1]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.1.jar:2.6.1]\r\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175) [spring-boot-2.6.1.jar:2.6.1]\r\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155) [spring-boot-2.6.1.jar:2.6.1]\r\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97) [spring-boot-2.6.1.jar:2.6.1]\r\n        at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174) [spring-web-5.3.13.jar:5.3.13]\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5709) [catalina.jar:7.0.99]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [catalina.jar:7.0.99]\r\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:1016) [catalina.jar:7.0.99]\r\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:992) [catalina.jar:7.0.99]\r\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:639) [catalina.jar:7.0.99]\r\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1127) [catalina.jar:7.0.99]\r\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:2020) [catalina.jar:7.0.99]\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_311]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_311]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_311]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_311]\r\n        at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]\r\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/http/HttpSessionIdListener\r\n        at org.springframework.boot.web.servlet.ServletListenerRegistrationBean.&lt;clinit&gt;(ServletListenerRegistrationBean.java:68) ~[spring-boot-2.6.1.jar:2.6.1]\r\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:156) ~[spring-boot-2.6.1.jar:2.6.1]\r\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:87) ~[spring-boot-2.6.1.jar:2.6.1]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:260) ~[spring-boot-2.6.1.jar:2.6.1]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234) ~[spring-boot-2.6.1.jar:2.6.1]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:191) ~[spring-boot-2.6.1.jar:2.6.1]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.1.jar:2.6.1]\r\n        ... 21 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener\r\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1951) ~[catalina.jar:7.0.99]\r\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1794) ~[catalina.jar:7.0.99]\r\n        ... 28 common frames omitted\r\n\r\nFeb 24, 2022 2:55:45 AM org.apache.catalina.core.ContainerBase addChildInternal\r\nSEVERE: ContainerBase.addChild: start:\r\norg.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/demo-0.0.1-SNAPSHOT]]\r\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:1016)\r\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:992)\r\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:639)\r\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1127)\r\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:2020)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.NoClassDefFoundError: javax/servlet/http/HttpSessionIdListener\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\r\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\r\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\r\n        at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5709)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n        ... 10 more\r\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/http/HttpSessionIdListener\r\n        at org.springframework.boot.web.servlet.ServletListenerRegistrationBean.&lt;clinit&gt;(ServletListenerRegistrationBean.java:68)\r\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:156)\r\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:87)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:260)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:191)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)\r\n        ... 21 more\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener\r\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1951)\r\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1794)\r\n        ... 28 more\r\n\r\nFeb 24, 2022 2:55:45 AM org.apache.catalina.startup.HostConfig deployWAR\r\nSEVERE: Error deploying web application archive [C:\\Program Files\\tomcat7\\webapps\\demo-0.0.1-SNAPSHOT.war]\r\njava.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/demo-0.0.1-SNAPSHOT]]\r\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:1020)\r\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:992)\r\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:639)\r\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1127)\r\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:2020)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n\r\nFeb 24, 2022 2:55:45 AM org.apache.catalina.startup.HostConfig deployWAR\r\nINFO: Deployment of web application archive [C:\\Program Files\\tomcat7\\webapps\\demo-0.0.1-SNAPSHOT.war] has finished in [6,000] ms\r\n```\r\n\r\nWhen I `http://localhost:8080/demo-0.0.1-SNAPSHOT`, I&#39;m getting `404` error. \r\n\r\nThere might be some issues in the tomcat configuraions, since I&#39;m using the tomcat directory downloaded from the server, not the default (clean) one from the Internet, but I&#39;m not sure where to look at and what to change.\r\n\r\nNOTE: I know that by default after `catalina.bat run` and `localhost:8080` , the default welcome page of Tomcat needs to popup, but in my case, I&#39;m getting the welcome page of `our application` (ROOT). Maybe that&#39;s the case, I don&#39;t know.","title":"Can&#39;t deploy Spring-Boot WAR file on External Tomcat 7","body":"<p>The development team is using Tomcat 7 on Ubuntu server. I downloaded that Tomcat from the server and deployed locally and it works okay.</p>\n<p>Now, I developed a spring-boot module, wrapped it into WAR file and wanted to deploy it in the same Tomcat. However, <code>catalina.bat run</code> fails to start my spring-boot application. The original application (called <code>ROOT</code>) is working fine.</p>\n<p>My <code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;kz.iuth.platonus&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;com.e-iceblue&lt;/id&gt;\n            &lt;name&gt;e-iceblue&lt;/name&gt;\n            &lt;url&gt;https://repo.e-iceblue.com/nexus/content/groups/public/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/e-iceblue/spire.doc.free --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;e-iceblue&lt;/groupId&gt;\n            &lt;artifactId&gt;spire.doc.free&lt;/artifactId&gt;\n            &lt;version&gt;3.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20211205&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n            &lt;artifactId&gt;javase&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.pdfbox/pdfbox --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;true&lt;/executable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>My <code>application.properties</code> file:</p>\n<pre><code>spring.datasource.driverClassName = com.mysql.cj.jdbc.Driver\nspring.datasource.url = jdbc:mysql://localhost/nitro?characterEncoding=utf8\nspring.datasource.username = root\nspring.datasource.password = root\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n\nspring.thymeleaf.cache=false\n\nspring.servlet.multipart.enabled=true\n# Threshold after which files are written to disk.\nspring.servlet.multipart.file-size-threshold=2KB\n# Max file size.\nspring.servlet.multipart.max-file-size=200MB\n# Max Request Size\nspring.servlet.multipart.max-request-size=215MB\n</code></pre>\n<p>Main application class:</p>\n<pre><code>package kz.iuth.platonus.demo;\n\nimport kz.iuth.platonus.demo.entities.Roles;\nimport kz.iuth.platonus.demo.services.RolesService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\nimport org.springframework.stereotype.Component;\n\nimport javax.annotation.PostConstruct;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@SpringBootApplication\npublic class DemoApplication extends SpringBootServletInitializer {\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder applicationBuilder) {\n        return applicationBuilder.sources(DemoApplication.class);\n    }\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<p>The controller:</p>\n<pre><code>@RestController\npublic class MainController {\n...\n    @GetMapping(&quot;/&quot;)\n    public String test() {\n        return &quot;test&quot;;\n    }\n</code></pre>\n<p>Error on <code>catalina.bat run</code>:</p>\n<pre><code>INFO: Deploying web application archive [C:\\Program Files\\tomcat7\\webapps\\demo-0.0.1-SNAPSHOT.war]\nFeb 24, 2022 2:55:39 AM org.apache.catalina.core.StandardContext postWorkDirectory\nWARNING: Failed to create work directory [C:\\Program Files\\tomcat7\\work\\Catalina\\localhost\\demo-0.0.1-SNAPSHOT] for context [/demo-0.0.1-SNAPSHOT]\nFeb 24, 2022 2:55:39 AM org.apache.catalina.loader.WebappClassLoaderBase validateJarFile\nINFO: validateJarFile(C:\\Program Files\\tomcat7\\webapps\\demo-0.0.1-SNAPSHOT\\WEB-INF\\lib\\javax.servlet-api-3.1.0.jar) - jar not loaded. See Servlet Spec 3.0, section 10.7.2. Offending class: javax/servlet/Servlet.class\nFeb 24, 2022 2:55:43 AM org.apache.catalina.startup.TldConfig execute\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.6.1)\n\n2022-02-24 02:55:44.350  INFO 33832 --- [ost-startStop-1] kz.iuth.platonus.demo.DemoApplication    : Starting DemoApplication using Java 1.8.0_311 on DESKTOP-961M2T3 with PID 33832 (C:\\Program Files\\tomcat7\\webapps\\demo-0.0.1-SNAPSHOT\\WEB-INF\\classes started by BIG SEXY BOSS 3090 in C:\\Program Files\\tomcat7\\webapps)\n2022-02-24 02:55:44.356  INFO 33832 --- [ost-startStop-1] kz.iuth.platonus.demo.DemoApplication    : No active profile set, falling back to default profiles: default\n2022-02-24 02:55:45.012  INFO 33832 --- [ost-startStop-1] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-02-24 02:55:45.109  INFO 33832 --- [ost-startStop-1] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 11 JPA repository interfaces.\n2022-02-24 02:55:45.481  INFO 33832 --- [ost-startStop-1] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1076 ms\n2022-02-24 02:55:45.678  WARN 33832 --- [ost-startStop-1] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.NoClassDefFoundError: javax/servlet/http/HttpSessionIdListener\n2022-02-24 02:55:45.690  INFO 33832 --- [ost-startStop-1] ConditionEvaluationReportLoggingListener :\n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-02-24 02:55:45.716 ERROR 33832 --- [ost-startStop-1] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.NoClassDefFoundError: javax/servlet/http/HttpSessionIdListener\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.13.jar:5.3.13]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175) [spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155) [spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97) [spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174) [spring-web-5.3.13.jar:5.3.13]\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5709) [catalina.jar:7.0.99]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [catalina.jar:7.0.99]\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:1016) [catalina.jar:7.0.99]\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:992) [catalina.jar:7.0.99]\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:639) [catalina.jar:7.0.99]\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1127) [catalina.jar:7.0.99]\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:2020) [catalina.jar:7.0.99]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_311]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_311]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_311]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_311]\n        at java.lang.Thread.run(Thread.java:748) [na:1.8.0_311]\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/http/HttpSessionIdListener\n        at org.springframework.boot.web.servlet.ServletListenerRegistrationBean.&lt;clinit&gt;(ServletListenerRegistrationBean.java:68) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:156) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:87) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:260) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:191) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.1.jar:2.6.1]\n        ... 21 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1951) ~[catalina.jar:7.0.99]\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1794) ~[catalina.jar:7.0.99]\n        ... 28 common frames omitted\n\nFeb 24, 2022 2:55:45 AM org.apache.catalina.core.ContainerBase addChildInternal\nSEVERE: ContainerBase.addChild: start:\norg.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/demo-0.0.1-SNAPSHOT]]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:1016)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:992)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:639)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1127)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:2020)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.NoClassDefFoundError: javax/servlet/http/HttpSessionIdListener\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\n        at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5709)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        ... 10 more\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/http/HttpSessionIdListener\n        at org.springframework.boot.web.servlet.ServletListenerRegistrationBean.&lt;clinit&gt;(ServletListenerRegistrationBean.java:68)\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:156)\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:87)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:260)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:191)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)\n        ... 21 more\nCaused by: java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1951)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1794)\n        ... 28 more\n\nFeb 24, 2022 2:55:45 AM org.apache.catalina.startup.HostConfig deployWAR\nSEVERE: Error deploying web application archive [C:\\Program Files\\tomcat7\\webapps\\demo-0.0.1-SNAPSHOT.war]\njava.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/demo-0.0.1-SNAPSHOT]]\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:1020)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:992)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:639)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1127)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:2020)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\n\nFeb 24, 2022 2:55:45 AM org.apache.catalina.startup.HostConfig deployWAR\nINFO: Deployment of web application archive [C:\\Program Files\\tomcat7\\webapps\\demo-0.0.1-SNAPSHOT.war] has finished in [6,000] ms\n</code></pre>\n<p>When I <code>http://localhost:8080/demo-0.0.1-SNAPSHOT</code>, I'm getting <code>404</code> error.</p>\n<p>There might be some issues in the tomcat configuraions, since I'm using the tomcat directory downloaded from the server, not the default (clean) one from the Internet, but I'm not sure where to look at and what to change.</p>\n<p>NOTE: I know that by default after <code>catalina.bat run</code> and <code>localhost:8080</code> , the default welcome page of Tomcat needs to popup, but in my case, I'm getting the welcome page of <code>our application</code> (ROOT). Maybe that's the case, I don't know.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":0,"creation_date":1653164483,"post_id":72332904,"comment_id":127786060,"body_markdown":"So what have you tried?  We can help diagnose problems in code. We don&#39;t write the code for you.","body":"So what have you tried?  We can help diagnose problems in code. We don&#39;t write the code for you."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653174370,"post_id":72332904,"comment_id":127787493,"body_markdown":"If you expect us to put in effort to produce quality Answers,  you should put in the effort to write a quality Question, drafting a clear concise problem description. Your current draft seems a bit lazy. Certainly it is unclear.","body":"If you expect us to put in effort to produce quality Answers,  you should put in the effort to write a quality Question, drafting a clear concise problem description. Your current draft seems a bit lazy. Certainly it is unclear."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1654321775,"post_id":72332904,"comment_id":128068081,"body_markdown":"The answer to your revised question is: look at the javadocs for `Arrays.copyOfRange(...)`","body":"The answer to your revised question is: look at the javadocs for <code>Arrays.copyOfRange(...)</code>"}],"answers":[{"tags":[],"owner":{"account_id":25133794,"reputation":1340,"user_id":18980756,"display_name":"Franck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653238349,"creation_date":1653165407,"answer_id":72333063,"question_id":72332904,"body_markdown":"You need to determine the position of your value in the array.\r\nThen you can take the subarray from the start index to that position.\r\nPlus one to include the searched value.\r\n\r\nUnfortunately, there is no `indexOf` method for arrays and `Arrays.binarySearch` works only on sorted arrays. There is no `Arrays.search` either.\r\n\r\nTherefore, we need either transform the array into a list to use `indexOf` or we need to iterate the array via index until we find the search value.\r\n\r\nThere is no `List&lt;int&gt;`. Therefore we need to transform the elements from `int` to `Integer`. Hence, the `boxed` operation.\r\n\r\nIn the end, using a list is not worth it but it is a fun exercise!\r\n\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int arr[] = {1,2,3,11,6,8,12};\r\n        int value = 6;\r\n        \r\n        System.out.println(&quot;Input:  &quot; + Arrays.toString(arr));\r\n        arr = cut(arr, 6);\r\n        System.out.println(&quot;Output: &quot; + Arrays.toString(arr));\r\n    }\r\n\r\n    public static int[] cut(int[] arr, int value) {\r\n        int position = Arrays.stream(arr) // turn into stream\r\n                        .boxed() // turn elements into class Integer \r\n                        .collect(Collectors.toList()) // turn into list\r\n                        .indexOf(value); // find position with list operation\r\n        return Arrays.copyOfRange(arr, 0, position + 1);\r\n    }\r\n}\r\n```\r\n\r\nEt voil&#224;:\r\n\r\n```none\r\nInput:  [1, 2, 3, 11, 6, 8, 12]\r\nOutput: [1, 2, 3, 11, 6]\r\n```","title":"print specific part of an array in java","body":"<p>You need to determine the position of your value in the array.\nThen you can take the subarray from the start index to that position.\nPlus one to include the searched value.</p>\n<p>Unfortunately, there is no <code>indexOf</code> method for arrays and <code>Arrays.binarySearch</code> works only on sorted arrays. There is no <code>Arrays.search</code> either.</p>\n<p>Therefore, we need either transform the array into a list to use <code>indexOf</code> or we need to iterate the array via index until we find the search value.</p>\n<p>There is no <code>List&lt;int&gt;</code>. Therefore we need to transform the elements from <code>int</code> to <code>Integer</code>. Hence, the <code>boxed</code> operation.</p>\n<p>In the end, using a list is not worth it but it is a fun exercise!</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) {\n        int arr[] = {1,2,3,11,6,8,12};\n        int value = 6;\n        \n        System.out.println(&quot;Input:  &quot; + Arrays.toString(arr));\n        arr = cut(arr, 6);\n        System.out.println(&quot;Output: &quot; + Arrays.toString(arr));\n    }\n\n    public static int[] cut(int[] arr, int value) {\n        int position = Arrays.stream(arr) // turn into stream\n                        .boxed() // turn elements into class Integer \n                        .collect(Collectors.toList()) // turn into list\n                        .indexOf(value); // find position with list operation\n        return Arrays.copyOfRange(arr, 0, position + 1);\n    }\n}\n</code></pre>\n<p>Et voil:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Input:  [1, 2, 3, 11, 6, 8, 12]\nOutput: [1, 2, 3, 11, 6]\n</code></pre>\n"}],"owner":{"account_id":23590060,"reputation":13,"user_id":17627981,"display_name":"adam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":72333063,"answer_count":1,"score":-2,"last_activity_date":1654708588,"creation_date":1653163813,"question_id":72332904,"body_markdown":"I want to print part of an array where a number is given as the end of that array. \r\nIt&#39;s hard to explain with words so let me get straight to the point. \r\nLet&#39;s say I have an array {1,...,6,...,9}. I want to return elements only from 1 to 6.\r\nThese numbers are not the indexes they are the actual values.\r\n\r\nExample input: \r\n- arr= {1,2,3,11,6,8,12} \r\n- function : cut(arr, 6)\r\n- output: {1,2,3,11,6}. \r\n\r\nOf course, if the number given as an argument is not in arr it will return an error.\r\n\r\n```java\r\nimport java.util.Arrays;\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int arr[] = {1,2,3,11,6,8,12};\r\n        int value = 6;\r\n        \r\n        System.out.println(&quot;Input: &quot; + Arrays.toString(arr));\r\n\r\n        // primitive way\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            System.out.print(arr[i] + &quot; &quot;);\r\n            if (arr[i] == value) {\r\n                System.out.print(&quot;Now stop&quot;);\r\n                break;\r\n            }\r\n        }\r\n\r\n        // What I need:\r\n        arr = cut(arr, 6);\r\n\r\n        System.out.println();\r\n        System.out.println(&quot;Output: &quot; + Arrays.toString(arr));\r\n    }\r\n\r\n    public static int[] cut(int[] arr, int value) {\r\n        // Best way in Java to reduce the array?\r\n\r\n        return arr;\r\n    }\r\n}\r\n```\r\n\r\n```none\r\nInput: [1, 2, 3, 11, 6, 8, 12]\r\n1 2 3 11 6 Now stop\r\nOutput: [1, 2, 3, 11, 6, 8, 12] &lt;- should be [1, 2, 3, 11, 6]\r\n```","title":"print specific part of an array in java","body":"<p>I want to print part of an array where a number is given as the end of that array.\nIt's hard to explain with words so let me get straight to the point.\nLet's say I have an array {1,...,6,...,9}. I want to return elements only from 1 to 6.\nThese numbers are not the indexes they are the actual values.</p>\n<p>Example input:</p>\n<ul>\n<li>arr= {1,2,3,11,6,8,12}</li>\n<li>function : cut(arr, 6)</li>\n<li>output: {1,2,3,11,6}.</li>\n</ul>\n<p>Of course, if the number given as an argument is not in arr it will return an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\npublic class Main {\n    public static void main(String[] args) {\n        int arr[] = {1,2,3,11,6,8,12};\n        int value = 6;\n        \n        System.out.println(&quot;Input: &quot; + Arrays.toString(arr));\n\n        // primitive way\n        for (int i = 0; i &lt; arr.length; i++) {\n            System.out.print(arr[i] + &quot; &quot;);\n            if (arr[i] == value) {\n                System.out.print(&quot;Now stop&quot;);\n                break;\n            }\n        }\n\n        // What I need:\n        arr = cut(arr, 6);\n\n        System.out.println();\n        System.out.println(&quot;Output: &quot; + Arrays.toString(arr));\n    }\n\n    public static int[] cut(int[] arr, int value) {\n        // Best way in Java to reduce the array?\n\n        return arr;\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Input: [1, 2, 3, 11, 6, 8, 12]\n1 2 3 11 6 Now stop\nOutput: [1, 2, 3, 11, 6, 8, 12] &lt;- should be [1, 2, 3, 11, 6]\n</code></pre>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1654693961,"post_id":72546118,"comment_id":128151797,"body_markdown":"What is filling the JTable? Perhaps look at it this way, for this particular example you provided, if the **first** column was editable and you change 1 to 4, then change 2 to 1, then change 4 to 2. Now do it with code.","body":"What is filling the JTable? Perhaps look at it this way, for this particular example you provided, if the <b>first</b> column was editable and you change 1 to 4, then change 2 to 1, then change 4 to 2. Now do it with code."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1654696000,"post_id":72546118,"comment_id":128152700,"body_markdown":"There is no method that does this for you. You need to create your own. One way would be to save the two values in the first column. Then you invoke the moveRow() method. Then you manually invoke the setValueAt(...) method to reset the values in the first column back to the appropriate row. Or, if you are just using the first column to be a row number then maybe you can use the [Row Number Table](https://tips4java.wordpress.com/2008/11/18/row-number-table/) approach. The row number is not part of the model so you just move the row normally.","body":"There is no method that does this for you. You need to create your own. One way would be to save the two values in the first column. Then you invoke the moveRow() method. Then you manually invoke the setValueAt(...) method to reset the values in the first column back to the appropriate row. Or, if you are just using the first column to be a row number then maybe you can use the <a href=\"https://tips4java.wordpress.com/2008/11/18/row-number-table/\" rel=\"nofollow noreferrer\">Row Number Table</a> approach. The row number is not part of the model so you just move the row normally."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654704335,"post_id":72546118,"comment_id":128156646,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654708136,"creation_date":1654708136,"answer_id":72549682,"question_id":72546118,"body_markdown":"For your example, one approach would be to define a `javax.swing.table.TableModel` that returns the row index for the first column, and fields from row records for the other columns. Then, **moving part of the row in the table just means moving a full row in the underlying data model**.\r\n\r\n      class MyTableModel extends AbstractTableModel {\r\n          //...\r\n          public Object getValueAt(int row, int col) { \r\n              Object value;\r\n              switch( col ) {\r\n                  case 0: value = (1+col);\r\n                  // other cases are fields from rows.\r\n              }\r\n          }\r\n\r\nOther options include:\r\n\r\n* Moving rows, then moving some fields back.\r\n* Representing the table data model as a two-dimensional array, and moving only desired cells.","title":"Is it possible to move a part of a row of a JTable?","body":"<p>For your example, one approach would be to define a <code>javax.swing.table.TableModel</code> that returns the row index for the first column, and fields from row records for the other columns. Then, <strong>moving part of the row in the table just means moving a full row in the underlying data model</strong>.</p>\n<pre><code>  class MyTableModel extends AbstractTableModel {\n      //...\n      public Object getValueAt(int row, int col) { \n          Object value;\n          switch( col ) {\n              case 0: value = (1+col);\n              // other cases are fields from rows.\n          }\n      }\n</code></pre>\n<p>Other options include:</p>\n<ul>\n<li>Moving rows, then moving some fields back.</li>\n<li>Representing the table data model as a two-dimensional array, and moving only desired cells.</li>\n</ul>\n"}],"owner":{"account_id":23161150,"reputation":35,"user_id":17261785,"display_name":"GenesysRTA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72549682,"answer_count":1,"score":-1,"last_activity_date":1654708136,"creation_date":1654693088,"question_id":72546118,"body_markdown":"&lt;br&gt;\r\nI want to move down a row of a table one position down except for one column. My table is something like this:\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n1 | a | aa &lt;br&gt;\r\n2 | b | bb &lt;br&gt;\r\n3 | c | cc &lt;br&gt;\r\n&lt;br&gt;\r\nAnd I want it to be like this:\r\n&lt;br&gt;\r\n1 | b | bb &lt;br&gt;\r\n2 | a | aa &lt;br&gt;\r\n3 | c | cc &lt;br&gt;\r\n&lt;br&gt;\r\nI tried to move it using moveRow() but the problem is that it moves my entire row? Does somebody know how to do it? &lt;br&gt;\r\nThanks!","title":"Is it possible to move a part of a row of a JTable?","body":"<br>\nI want to move down a row of a table one position down except for one column. My table is something like this:\n<br>\n<br>\n1 | a | aa <br>\n2 | b | bb <br>\n3 | c | cc <br>\n<br>\nAnd I want it to be like this:\n<br>\n1 | b | bb <br>\n2 | a | aa <br>\n3 | c | cc <br>\n<br>\nI tried to move it using moveRow() but the problem is that it moves my entire row? Does somebody know how to do it? <br>\nThanks!\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":13155252,"reputation":294,"user_id":9502601,"display_name":"Shayan Samad"},"score":0,"creation_date":1654675421,"post_id":72542081,"comment_id":128144611,"body_markdown":"have you tried invalidate cache / restart","body":"have you tried invalidate cache / restart"},{"owner":{"account_id":24125323,"reputation":13,"user_id":18093731,"display_name":"Zarisa"},"score":0,"creation_date":1654677602,"post_id":72542081,"comment_id":128145392,"body_markdown":"@Shayan I tried after you said but still is not working. tnx anyway.","body":"@Shayan I tried after you said but still is not working. tnx anyway."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1654681654,"post_id":72542081,"comment_id":128146990,"body_markdown":"The usual reason for this kind of thing is that you have your own class called `Float`. If this is the case, don&#39;t.","body":"The usual reason for this kind of thing is that you have your own class called <code>Float</code>. If this is the case, don&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":10992239,"reputation":472,"user_id":8075762,"display_name":"Amanpreet Kaur"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1654707877,"creation_date":1654679752,"answer_id":72543089,"question_id":72542081,"body_markdown":"Kotlin doesn&#39;t have Float.parseFloat() method.\r\n\r\nTo convert string to float use toFloatOrNull(), this will convert string to float\r\n      \r\n    var string = &quot;5&quot; \r\n    var floatNumber = string.toFloatOrNull()\r\n    Log.e(TAG, &quot; string.toFloatOrNull() $floatNumber&quot;)\r\n\r\nYou can set this float value in rating bar","title":"trying to use Float.parseFloat() in android but my IDE not recognizing parseFloat","body":"<p>Kotlin doesn't have Float.parseFloat() method.</p>\n<p>To convert string to float use toFloatOrNull(), this will convert string to float</p>\n<pre><code>var string = &quot;5&quot; \nvar floatNumber = string.toFloatOrNull()\nLog.e(TAG, &quot; string.toFloatOrNull() $floatNumber&quot;)\n</code></pre>\n<p>You can set this float value in rating bar</p>\n"}],"owner":{"account_id":24125323,"reputation":13,"user_id":18093731,"display_name":"Zarisa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1654692355,"accepted_answer_id":72543089,"answer_count":1,"score":-1,"last_activity_date":1654707877,"creation_date":1654675132,"question_id":72542081,"body_markdown":"Im trying to set rating in rating bar while the API service returns a sting for rating field. couldn&#39;t find any way to use it directly in xml using databinding so I tried binding adapter and surprisingly the ```parseFloat``` in ```Float.parseFloat()``` is not recognizing by my IDE. I have tried this piece of code in other part of project like fragments but nothing happens.\r\nThanks for any idea and suggestion.","title":"trying to use Float.parseFloat() in android but my IDE not recognizing parseFloat","body":"<p>Im trying to set rating in rating bar while the API service returns a sting for rating field. couldn't find any way to use it directly in xml using databinding so I tried binding adapter and surprisingly the <code>parseFloat</code> in <code>Float.parseFloat()</code> is not recognizing by my IDE. I have tried this piece of code in other part of project like fragments but nothing happens.\nThanks for any idea and suggestion.</p>\n"},{"tags":["java","gremlin","gremlin-server"],"answers":[{"tags":[],"owner":{"account_id":397504,"reputation":888,"user_id":761662,"accept_rate":36,"display_name":"Divij"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1623677201,"creation_date":1623677201,"answer_id":67971108,"question_id":67971026,"body_markdown":"Are you using TinkerGraph? Is yes, the IDs are stored as `long` internally. \r\n\r\nPlease try `g.E(18L)` ","title":"Why is gremlin-server not returning an edge by it&#39;s ID?","body":"<p>Are you using TinkerGraph? Is yes, the IDs are stored as <code>long</code> internally.</p>\n<p>Please try <code>g.E(18L)</code></p>\n"},{"tags":[],"owner":{"account_id":25343245,"reputation":1,"user_id":19161360,"display_name":"Ed Olivares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654707769,"creation_date":1654707769,"answer_id":72549620,"question_id":67971026,"body_markdown":"There are a number of different Graphs; If you are using Tinker Graph then you have to use: the format &lt;ID&gt;L. This is because the ID value is stored as a long internally for the tinkerPop Graph. Some use case examples are: g.V(1L) this will return a vertex with an ID of 1. Likewise, the ID&#39;s for edges are stored as longs too; g.E(2L) returns the edge with an ID of 2","title":"Why is gremlin-server not returning an edge by it&#39;s ID?","body":"<p>There are a number of different Graphs; If you are using Tinker Graph then you have to use: the format L. This is because the ID value is stored as a long internally for the tinkerPop Graph. Some use case examples are: g.V(1L) this will return a vertex with an ID of 1. Likewise, the ID's for edges are stored as longs too; g.E(2L) returns the edge with an ID of 2</p>\n"}],"owner":{"account_id":2042931,"reputation":415,"user_id":1823687,"display_name":"ibecar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67971108,"answer_count":2,"score":0,"last_activity_date":1654707769,"creation_date":1623676899,"question_id":67971026,"body_markdown":"I&#39;m using gremlin-server 3.4.11 and connecting to it with java tinkerpop gremlin-driver.\r\n\r\n`g.E()` returns all the edges:\r\n\r\n    [\r\n      {\r\n        &quot;id&quot;: 18,\r\n        &quot;label&quot;: &quot;RELATED&quot;,\r\n        &quot;type&quot;: &quot;edge&quot;,\r\n        &quot;inVLabel&quot;: &quot;GREMLIN2&quot;,\r\n        &quot;outVLabel&quot;: &quot;GREMLIN1&quot;,\r\n        &quot;inV&quot;: 16,\r\n        &quot;outV&quot;: 14\r\n      }\r\n    ]\r\n\r\nbut `g.E(18)` OR `g.E().hasId(18)` returns empty list: \r\n\r\n    []\r\n\r\nWhy is that? I would assume, that the corresponding edge would be returned, but it is not. What am I missing here?\r\n\r\n*Note*: I tried to create an edge with `g.V(14).addE(&#39;RELATED&#39;).property(&#39;id&#39;, &#39;someId&#39;).to(g.V(16))`.. this is then found with `g.E().has(&#39;id&#39;, &#39;someId&#39;)`, BUT it is not the ID of the edge, merely property named &#39;id&#39;. `hasId()` step also returns empty list.\r\n\r\nAny hints would be greatly appreciated!","title":"Why is gremlin-server not returning an edge by it&#39;s ID?","body":"<p>I'm using gremlin-server 3.4.11 and connecting to it with java tinkerpop gremlin-driver.</p>\n<p><code>g.E()</code> returns all the edges:</p>\n<pre><code>[\n  {\n    &quot;id&quot;: 18,\n    &quot;label&quot;: &quot;RELATED&quot;,\n    &quot;type&quot;: &quot;edge&quot;,\n    &quot;inVLabel&quot;: &quot;GREMLIN2&quot;,\n    &quot;outVLabel&quot;: &quot;GREMLIN1&quot;,\n    &quot;inV&quot;: 16,\n    &quot;outV&quot;: 14\n  }\n]\n</code></pre>\n<p>but <code>g.E(18)</code> OR <code>g.E().hasId(18)</code> returns empty list:</p>\n<pre><code>[]\n</code></pre>\n<p>Why is that? I would assume, that the corresponding edge would be returned, but it is not. What am I missing here?</p>\n<p><em>Note</em>: I tried to create an edge with <code>g.V(14).addE('RELATED').property('id', 'someId').to(g.V(16))</code>.. this is then found with <code>g.E().has('id', 'someId')</code>, BUT it is not the ID of the edge, merely property named 'id'. <code>hasId()</code> step also returns empty list.</p>\n<p>Any hints would be greatly appreciated!</p>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":3266581,"reputation":14306,"user_id":2750966,"accept_rate":75,"display_name":"pme"},"score":1,"creation_date":1559629491,"post_id":56438302,"comment_id":99470371,"body_markdown":"What version you use of sbt (`sbt version`)?","body":"What version you use of sbt (<code>sbt version</code>)?"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":2,"creation_date":1559632979,"post_id":56438302,"comment_id":99471868,"body_markdown":"Github repository is at https://github.com/scala/hello-world.g8 There&#39;s no `Anne` there.","body":"Github repository is at <a href=\"https://github.com/scala/hello-world.g8\" rel=\"nofollow noreferrer\">github.com/scala/hello-world.g8</a> There&#39;s no <code>Anne</code> there."},{"owner":{"account_id":14229282,"reputation":1,"user_id":10278979,"display_name":"Kathy"},"score":0,"creation_date":1559724885,"post_id":56438302,"comment_id":99506373,"body_markdown":"pme - I downloaded the latest sbt msi version which is 1.2.8, I tried checking the version with command **sbt sbtVersion**, but I get the same error: &lt;br&gt; **Error: Could not find or load main class Anne&lt;br&gt;Caused by: java.lang.ClassNotFoundException: Anne**","body":"pme - I downloaded the latest sbt msi version which is 1.2.8, I tried checking the version with command <b>sbt sbtVersion</b>, but I get the same error: &lt;br&gt; <b>Error: Could not find or load main class Anne&lt;br&gt;Caused by: java.lang.ClassNotFoundException: Anne</b>"},{"owner":{"account_id":14229282,"reputation":1,"user_id":10278979,"display_name":"Kathy"},"score":0,"creation_date":1559724963,"post_id":56438302,"comment_id":99506414,"body_markdown":"Dmytro Mitin - Thanks, I&#39;ll edit my question and indicate that it&#39;s there.","body":"Dmytro Mitin - Thanks, I&#39;ll edit my question and indicate that it&#39;s there."}],"answers":[{"tags":[],"owner":{"account_id":14229282,"reputation":1,"user_id":10278979,"display_name":"Kathy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654707728,"creation_date":1559832446,"answer_id":56480019,"question_id":56438302,"body_markdown":"I was actually running the command in Visual Studio Code&#39;s bash terminal. I tried running it with cmd and everything&#39;s now working fine. \r\n\r\n\r\n","title":"Reason and fix for &quot;Error: Could not find or load main class Anne&quot; on Scala Getting started tutorial","body":"<p>I was actually running the command in Visual Studio Code's bash terminal. I tried running it with cmd and everything's now working fine.</p>\n"}],"owner":{"account_id":14229282,"reputation":1,"user_id":10278979,"display_name":"Kathy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56480019,"answer_count":1,"score":0,"last_activity_date":1654707728,"creation_date":1559629052,"question_id":56438302,"body_markdown":"I&#39;m just starting out with Scala and have been following its Getting Started instructions. The second part of the instruction involves pulling the hello-world template by running the **sbt new scala/hello-world.g8** command.\r\n\r\nMy problem is that it keeps on giving me this error:\r\n\r\n**Error: Could not find or load main class Anne&lt;br&gt;\r\nCaused by: java.lang.ClassNotFoundException: Anne**\r\n\r\nI&#39;d like to know the reason for this, as well as any possible fix I might use.\r\nThe following is my insight and attempts on fixing this problem.\r\n\r\nInsight:&lt;br&gt;\r\n1. I might have a problem with java installation/scala/sbt installation that needs this class Anne since even with other sbt commands like **sbt sbtVersion** I get the same error\r\n\r\n\r\n\r\nAttempts:\r\n&lt;br&gt;1. Change command to retrieve from full url:&lt;br&gt;\r\n**sbt new https://github.com/scala/hello-world.g8**\r\n\r\n&lt;br&gt;2.**(Edit):** *Previously I thought the repository scala/hello-world.g8 did not exist and tried getting from other repositories with no luck and with the same error as above. However it was pointed out below that the repository actually exists in this url* **https://github.com/scala/hello-world.g8**, thanks  Dmytro Mitin. \r\n\r\nI was looking into the incorrect account (sbt) instead of (scala)\r\n\r\n**(Edit): Day 2**\r\n&lt;br&gt;3. Uninstall/Reinstall sbt -- still getting the error\r\n&lt;br&gt;4. Checked if java running properly by compiling sample code and running ( successful )","title":"Reason and fix for &quot;Error: Could not find or load main class Anne&quot; on Scala Getting started tutorial","body":"<p>I'm just starting out with Scala and have been following its Getting Started instructions. The second part of the instruction involves pulling the hello-world template by running the <strong>sbt new scala/hello-world.g8</strong> command.</p>\n\n<p>My problem is that it keeps on giving me this error:</p>\n\n<p><strong>Error: Could not find or load main class Anne<br>\nCaused by: java.lang.ClassNotFoundException: Anne</strong></p>\n\n<p>I'd like to know the reason for this, as well as any possible fix I might use.\nThe following is my insight and attempts on fixing this problem.</p>\n\n<p>Insight:<br>\n1. I might have a problem with java installation/scala/sbt installation that needs this class Anne since even with other sbt commands like <strong>sbt sbtVersion</strong> I get the same error</p>\n\n<p>Attempts:\n<br>1. Change command to retrieve from full url:<br>\n<strong>sbt new <a href=\"https://github.com/scala/hello-world.g8\" rel=\"nofollow noreferrer\">https://github.com/scala/hello-world.g8</a></strong></p>\n\n<p><br>2.<strong>(Edit):</strong> <em>Previously I thought the repository scala/hello-world.g8 did not exist and tried getting from other repositories with no luck and with the same error as above. However it was pointed out below that the repository actually exists in this url</em> <strong><a href=\"https://github.com/scala/hello-world.g8\" rel=\"nofollow noreferrer\">https://github.com/scala/hello-world.g8</a></strong>, thanks  Dmytro Mitin. </p>\n\n<p>I was looking into the incorrect account (sbt) instead of (scala)</p>\n\n<p><strong>(Edit): Day 2</strong>\n<br>3. Uninstall/Reinstall sbt -- still getting the error\n<br>4. Checked if java running properly by compiling sample code and running ( successful )</p>\n"},{"tags":["java","spring","spring-boot","hibernate","orm"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1654702219,"post_id":72548315,"comment_id":128155725,"body_markdown":"do you need to delete the records from db for those not sent in the request?","body":"do you need to delete the records from db for those not sent in the request?"},{"owner":{"account_id":15805132,"reputation":331,"user_id":11403850,"display_name":"Zixel"},"score":0,"creation_date":1654704123,"post_id":72548315,"comment_id":128156548,"body_markdown":"@deadshot Yes I do","body":"@deadshot Yes I do"},{"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"score":0,"creation_date":1654709377,"post_id":72548315,"comment_id":128158514,"body_markdown":"[How to merge entity collections with JPA and Hibernate](https://vladmihalcea.com/merge-entity-collections-jpa-hibernate/) may be helpful","body":"<a href=\"https://vladmihalcea.com/merge-entity-collections-jpa-hibernate/\" rel=\"nofollow noreferrer\">How to merge entity collections with JPA and Hibernate</a> may be helpful"}],"answers":[{"tags":[],"owner":{"account_id":1284290,"reputation":41,"user_id":8404593,"display_name":"dntk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654707654,"creation_date":1654706945,"answer_id":72549457,"question_id":72548315,"body_markdown":"Yes, Hibernate does support this. You can, depending upon what a Form and Row are in your model (ex. Does Row need to be a separate entity?) use one of the following:\r\n - `@ElementCollection` with an `@Embeddable` row\r\n - `@OneToMany` if Row itself is an entity (likely not in this case)\r\n\r\nYou will also need to consider the nature of the update: are you replacing the entire entity (such as you would for a PUT operation) or are you simply patching over the specific attributes sent? In the former case, these approaches will work much better than in the latter.\r\n\r\nEditing my answer to provide more clarity:\r\n\r\nThe best approach would of course depend on the nuances of what youre trying to do. Do you for example need a row to be updated or accessed outside the context of a form? Does it then need to have a separate ID and if so, what is the purpose served by having that? As far as best practices are concerned, even for the one-to-many approach explained, where you would write the annotations and how youd use the ORM also matters, Ex: having only the Form entity own the relationship and keeping row oblivious about it means you cannot do something as simple as add a single new row to a form without reading and writing back the entirety of Form which would be wasteful and introduce potential issues with transactionality assuming default isolation levels.","title":"Best Practice to update list of enitities in DB","body":"<p>Yes, Hibernate does support this. You can, depending upon what a Form and Row are in your model (ex. Does Row need to be a separate entity?) use one of the following:</p>\n<ul>\n<li><code>@ElementCollection</code> with an <code>@Embeddable</code> row</li>\n<li><code>@OneToMany</code> if Row itself is an entity (likely not in this case)</li>\n</ul>\n<p>You will also need to consider the nature of the update: are you replacing the entire entity (such as you would for a PUT operation) or are you simply patching over the specific attributes sent? In the former case, these approaches will work much better than in the latter.</p>\n<p>Editing my answer to provide more clarity:</p>\n<p>The best approach would of course depend on the nuances of what youre trying to do. Do you for example need a row to be updated or accessed outside the context of a form? Does it then need to have a separate ID and if so, what is the purpose served by having that? As far as best practices are concerned, even for the one-to-many approach explained, where you would write the annotations and how youd use the ORM also matters, Ex: having only the Form entity own the relationship and keeping row oblivious about it means you cannot do something as simple as add a single new row to a form without reading and writing back the entirety of Form which would be wasteful and introduce potential issues with transactionality assuming default isolation levels.</p>\n"}],"owner":{"account_id":15805132,"reputation":331,"user_id":11403850,"display_name":"Zixel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654707654,"creation_date":1654701745,"question_id":72548315,"body_markdown":"I&#39;m developing Spring Boot Rest Application. ORM Hibernate. I have endpoint for update related entities in DB, for example I have table &quot;form&quot; and table &quot;rows&quot;, every row attached to form, so one form can contain multiple rows in table &quot;rows&quot; and every row has link to &quot;form&quot;.\r\n \r\nUse case: we are getting list of rows to save\r\n - some of them new so is does not contains ids\r\n - some of them changed so is containes id and I need to update some fields \r\n - some of them deleted (so we don&#39;t have it in list that sended from front end).\r\n\r\nIs the best way to do it is handling all this cases manually? Or are there any ORM/Spring approach to handle this or similar situation. May be there are some best practises or approaches I should read about?\r\n\r\nThanks for help!","title":"Best Practice to update list of enitities in DB","body":"<p>I'm developing Spring Boot Rest Application. ORM Hibernate. I have endpoint for update related entities in DB, for example I have table &quot;form&quot; and table &quot;rows&quot;, every row attached to form, so one form can contain multiple rows in table &quot;rows&quot; and every row has link to &quot;form&quot;.</p>\n<p>Use case: we are getting list of rows to save</p>\n<ul>\n<li>some of them new so is does not contains ids</li>\n<li>some of them changed so is containes id and I need to update some fields</li>\n<li>some of them deleted (so we don't have it in list that sended from front end).</li>\n</ul>\n<p>Is the best way to do it is handling all this cases manually? Or are there any ORM/Spring approach to handle this or similar situation. May be there are some best practises or approaches I should read about?</p>\n<p>Thanks for help!</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":185123,"reputation":8396,"user_id":421642,"accept_rate":77,"display_name":"OhadR"},"score":0,"creation_date":1427033197,"post_id":29195269,"comment_id":46603501,"body_markdown":"how maven can guess what version u have on your machine?","body":"how maven can guess what version u have on your machine?"},{"owner":{"account_id":1778270,"reputation":1533,"user_id":1621584,"accept_rate":39,"display_name":"Jeff"},"score":0,"creation_date":1427033967,"post_id":29195269,"comment_id":46603787,"body_markdown":"I don&#39;t know what is making it ask for 1.6. I have the tools.jar file under the latest version of java but when I specify that dependency, the pom still shows an error. The error (big red circle) occurs at the top of the pom -- it is not associated with the dependency block.","body":"I don&#39;t know what is making it ask for 1.6. I have the tools.jar file under the latest version of java but when I specify that dependency, the pom still shows an error. The error (big red circle) occurs at the top of the pom -- it is not associated with the dependency block."},{"owner":{"account_id":3762653,"reputation":5106,"user_id":3127111,"accept_rate":61,"display_name":"watery"},"score":0,"creation_date":1427051383,"post_id":29195269,"comment_id":46609722,"body_markdown":"I&#39;ve never faced such issue, so this is just a guess: are you sure you&#39;re working with a jdk, and it&#39;s not that a jre is being called instead?","body":"I&#39;ve never faced such issue, so this is just a guess: are you sure you&#39;re working with a jdk, and it&#39;s not that a jre is being called instead?"},{"owner":{"account_id":185123,"reputation":8396,"user_id":421642,"accept_rate":77,"display_name":"OhadR"},"score":0,"creation_date":1427055035,"post_id":29195269,"comment_id":46610925,"body_markdown":"can u paste here your pom? and the exact error?","body":"can u paste here your pom? and the exact error?"},{"owner":{"account_id":5846606,"reputation":313,"user_id":7009806,"display_name":"Olivier"},"score":0,"creation_date":1583484781,"post_id":29195269,"comment_id":107140321,"body_markdown":"Does this answer your question? [Missing artifact com.sun:tools:jar](https://stackoverflow.com/questions/8375423/missing-artifact-com-suntoolsjar)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8375423/missing-artifact-com-suntoolsjar\">Missing artifact com.sun:tools:jar</a>"}],"answers":[{"tags":[],"owner":{"account_id":5839397,"reputation":318,"user_id":4601482,"display_name":"dosyfier"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1427035074,"creation_date":1427035074,"answer_id":29195658,"question_id":29195269,"body_markdown":"You can use the &quot;java.home&quot; environment variable :\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n       &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n       &lt;version&gt;1.6&lt;/version&gt;\r\n       &lt;scope&gt;system&lt;/scope&gt;\r\n       &lt;systemPath&gt;${java.home}/lib/tools.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPlease have a look to : https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies","title":"In the pom.xml for a java project, I get missing artifact jdk.tools:jdk.tools:jar:1.6 error","body":"<p>You can use the \"java.home\" environment variable :</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.sun&lt;/groupId&gt;\n   &lt;artifactId&gt;tools&lt;/artifactId&gt;\n   &lt;version&gt;1.6&lt;/version&gt;\n   &lt;scope&gt;system&lt;/scope&gt;\n   &lt;systemPath&gt;${java.home}/lib/tools.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Please have a look to : <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies\" rel=\"nofollow\">https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies</a></p>\n"},{"tags":[],"owner":{"account_id":2105809,"reputation":3833,"user_id":1872168,"accept_rate":64,"display_name":"Crystark"},"down_vote_count":1,"up_vote_count":46,"is_accepted":true,"score":45,"last_activity_date":1455617627,"creation_date":1449827225,"answer_id":34220439,"question_id":29195269,"body_markdown":"I finally tackled this the proper way.\r\n\r\nThis happens when eclipse is launched with the JRE instead of the JDK as `tools.jar` isn&#39;t in the JRE.\r\nBased on that assertion, try installing the JDK. If it&#39;s already installed, check in your `Path` that you have the JDK path and not the JRE path.\r\n\r\nBe careful, the latest versions of java seems to add in the `Path` the following directory: `C:\\ProgramData\\Oracle\\Java\\javapath`. It contains shortcuts that may link to the JRE. You&#39;ll want to remove that and add in the link to your JDK bin folder. (e.g. `C:\\Program Files\\Java\\jdk1.8.0_66\\bin`)\r\n\r\nNote that you may need to restart your computer for the changes in the `Path` to be effective for the eclipse launch (I don&#39;t really understand why I had to but I did).\r\n\r\nAlso note that Java updates will probably re-add the `javapath` to your PATH. So you may want not to use auto-updates but instead manually update your JDK and adapt your path after the install. It&#39;s a bit heavy but does the work.","title":"In the pom.xml for a java project, I get missing artifact jdk.tools:jdk.tools:jar:1.6 error","body":"<p>I finally tackled this the proper way.</p>\n\n<p>This happens when eclipse is launched with the JRE instead of the JDK as <code>tools.jar</code> isn't in the JRE.\nBased on that assertion, try installing the JDK. If it's already installed, check in your <code>Path</code> that you have the JDK path and not the JRE path.</p>\n\n<p>Be careful, the latest versions of java seems to add in the <code>Path</code> the following directory: <code>C:\\ProgramData\\Oracle\\Java\\javapath</code>. It contains shortcuts that may link to the JRE. You'll want to remove that and add in the link to your JDK bin folder. (e.g. <code>C:\\Program Files\\Java\\jdk1.8.0_66\\bin</code>)</p>\n\n<p>Note that you may need to restart your computer for the changes in the <code>Path</code> to be effective for the eclipse launch (I don't really understand why I had to but I did).</p>\n\n<p>Also note that Java updates will probably re-add the <code>javapath</code> to your PATH. So you may want not to use auto-updates but instead manually update your JDK and adapt your path after the install. It's a bit heavy but does the work.</p>\n"},{"tags":[],"owner":{"account_id":10239889,"reputation":1,"user_id":7557620,"display_name":"smita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486988667,"creation_date":1486988667,"answer_id":42203992,"question_id":29195269,"body_markdown":" \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jdk.tools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jdk.tools&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;C:/jdk1.7.0_51/lib/tools.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;","title":"In the pom.xml for a java project, I get missing artifact jdk.tools:jdk.tools:jar:1.6 error","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jdk.tools&lt;/groupId&gt;\n    &lt;artifactId&gt;jdk.tools&lt;/artifactId&gt;\n    &lt;version&gt;1.7&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;C:/jdk1.7.0_51/lib/tools.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":743101,"reputation":13220,"user_id":1990505,"display_name":"Vikram Deshmukh"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1488774425,"creation_date":1488774425,"answer_id":42617547,"question_id":29195269,"body_markdown":"For anyone who stumbles over this issue in the future, read on for a more elegant solution:\n\n### Reason ###\n\nThis issue crops up in one of the two scenarios:\n\n 1. You do not have JDK installed and configured; or\n\n 2. You&#39;ve both JDK and JRE installed and JRE is getting precedence over the JDK path.\n\n\n### Solution ###\n\nAs explained in [this link by the team at &#39;Hadoop in the real world&#39;](http://hadoopinrealworld.com/missing-artifact-jdk-tools-jar/), you merely need to add the dependency to `tools.jar` in your `pom.xml` file.\n\n    &lt;dependency&gt;\n    &lt;groupId&gt;jdk.tools&lt;/groupId&gt;\n    &lt;artifactId&gt;jdk.tools&lt;/artifactId&gt;\n    &lt;version&gt;1.7.0_05&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${JAVA_HOME}/lib/tools.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n\nIf the error persists, then just change the path to `tools.jar` to an absolute path as shown below:\n\n    &lt;systemPath&gt;C:/Program Files/Java/jdk1.8.0_65/lib/tools.jar&lt;/systemPath&gt;\n","title":"In the pom.xml for a java project, I get missing artifact jdk.tools:jdk.tools:jar:1.6 error","body":"<p>For anyone who stumbles over this issue in the future, read on for a more elegant solution:</p>\n<h3>Reason</h3>\n<p>This issue crops up in one of the two scenarios:</p>\n<ol>\n<li><p>You do not have JDK installed and configured; or</p>\n</li>\n<li><p>You've both JDK and JRE installed and JRE is getting precedence over the JDK path.</p>\n</li>\n</ol>\n<h3>Solution</h3>\n<p>As explained in <a href=\"http://hadoopinrealworld.com/missing-artifact-jdk-tools-jar/\" rel=\"noreferrer\">this link by the team at 'Hadoop in the real world'</a>, you merely need to add the dependency to <code>tools.jar</code> in your <code>pom.xml</code> file.</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;jdk.tools&lt;/groupId&gt;\n&lt;artifactId&gt;jdk.tools&lt;/artifactId&gt;\n&lt;version&gt;1.7.0_05&lt;/version&gt;\n&lt;scope&gt;system&lt;/scope&gt;\n&lt;systemPath&gt;${JAVA_HOME}/lib/tools.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If the error persists, then just change the path to <code>tools.jar</code> to an absolute path as shown below:</p>\n<pre><code>&lt;systemPath&gt;C:/Program Files/Java/jdk1.8.0_65/lib/tools.jar&lt;/systemPath&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1432392,"reputation":1040,"user_id":1354517,"accept_rate":85,"display_name":"Gautam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492758125,"creation_date":1492758125,"answer_id":43535994,"question_id":29195269,"body_markdown":"As I figured the best way to tackle this is to add the following configuration to your eclipse.ini to make sure it uses the jdk copy of javaw while running eclipse instead of the JRE copy which solves the problem and seems to be the correct approach to fix the issue\r\n\r\n    -vm\r\n    C:/Program Files/Java/jdk1.8.0_73/bin/javaw.exe","title":"In the pom.xml for a java project, I get missing artifact jdk.tools:jdk.tools:jar:1.6 error","body":"<p>As I figured the best way to tackle this is to add the following configuration to your eclipse.ini to make sure it uses the jdk copy of javaw while running eclipse instead of the JRE copy which solves the problem and seems to be the correct approach to fix the issue</p>\n\n<pre><code>-vm\nC:/Program Files/Java/jdk1.8.0_73/bin/javaw.exe\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14171874,"reputation":21,"user_id":10238229,"display_name":"Mithun B"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534494453,"creation_date":1534494453,"answer_id":51891272,"question_id":29195269,"body_markdown":"I figured out the solution to this problem in eclipse.\r\n\r\nIn Eclipse,\r\n\r\nNavigate to Window -&gt; Preferences\r\n\r\nOn the left hand pane, expand Java and you will find the &quot;Installed JREs&quot; entry\r\n\r\nSelect that and you should be able to see the JRE entry that is referring to the JRE folder rather than the JDK folder.\r\n\r\nSelect the entry to edit it and then redirect it to the JDK folder and click on Apply.\r\n\r\nThis solved my problem right away.","title":"In the pom.xml for a java project, I get missing artifact jdk.tools:jdk.tools:jar:1.6 error","body":"<p>I figured out the solution to this problem in eclipse.</p>\n\n<p>In Eclipse,</p>\n\n<p>Navigate to Window -> Preferences</p>\n\n<p>On the left hand pane, expand Java and you will find the \"Installed JREs\" entry</p>\n\n<p>Select that and you should be able to see the JRE entry that is referring to the JRE folder rather than the JDK folder.</p>\n\n<p>Select the entry to edit it and then redirect it to the JDK folder and click on Apply.</p>\n\n<p>This solved my problem right away.</p>\n"},{"tags":[],"owner":{"account_id":13574065,"reputation":29,"user_id":9791936,"display_name":"Govinda Hinduja"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1535815721,"creation_date":1535815721,"answer_id":52129576,"question_id":29195269,"body_markdown":"you merely need to add the dependency to tools.jar in your pom.xml file.\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;jdk.tools&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jdk.tools&lt;/artifactId&gt;\r\n    &lt;version&gt;1.7.0_05&lt;/version&gt;\r\n    &lt;scope&gt;system&lt;/scope&gt;\r\n    &lt;systemPath&gt;${JAVA_HOME}/lib/tools.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf the error persists, change the path to tools.jar to an absolute path as shown below:\r\n\r\n    &lt;systemPath&gt;C:/Program Files/Java/jdk1.8.0_65/lib/tools.jar&lt;/systemPath&gt;\r\n\r\n","title":"In the pom.xml for a java project, I get missing artifact jdk.tools:jdk.tools:jar:1.6 error","body":"<p>you merely need to add the dependency to tools.jar in your pom.xml file.</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;jdk.tools&lt;/groupId&gt;\n&lt;artifactId&gt;jdk.tools&lt;/artifactId&gt;\n&lt;version&gt;1.7.0_05&lt;/version&gt;\n&lt;scope&gt;system&lt;/scope&gt;\n&lt;systemPath&gt;${JAVA_HOME}/lib/tools.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>If the error persists, change the path to tools.jar to an absolute path as shown below:</p>\n\n<pre><code>&lt;systemPath&gt;C:/Program Files/Java/jdk1.8.0_65/lib/tools.jar&lt;/systemPath&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2684104,"reputation":904,"user_id":2318834,"accept_rate":75,"display_name":"Liam Deacon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634855096,"creation_date":1634855096,"answer_id":69669416,"question_id":29195269,"body_markdown":"For the benefit of those who Google this error when encountering it in 2021 (many years after the OP... yikes) and are using a modern openjdk distribution, it is possible to exclude `jdk.tools` from individual dependencies like so:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.systemds&lt;/groupId&gt;\r\n    &lt;artifactId&gt;systemds&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.0&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;artifactId&gt;jdk.tools&lt;/artifactId&gt;\r\n            &lt;groupId&gt;jdk.tools&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAdmittedly I&#39;m not sure of the general consequences of this, but it is useful in the situations I&#39;ve needed it (e.g. when running `mvn dependency:copy-dependencies`)","title":"In the pom.xml for a java project, I get missing artifact jdk.tools:jdk.tools:jar:1.6 error","body":"<p>For the benefit of those who Google this error when encountering it in 2021 (many years after the OP... yikes) and are using a modern openjdk distribution, it is possible to exclude <code>jdk.tools</code> from individual dependencies like so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.systemds&lt;/groupId&gt;\n    &lt;artifactId&gt;systemds&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;jdk.tools&lt;/artifactId&gt;\n            &lt;groupId&gt;jdk.tools&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Admittedly I'm not sure of the general consequences of this, but it is useful in the situations I've needed it (e.g. when running <code>mvn dependency:copy-dependencies</code>)</p>\n"},{"tags":[],"owner":{"account_id":12126710,"reputation":21,"user_id":8855220,"display_name":"Guillermo L&#243;pez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654707506,"creation_date":1654707506,"answer_id":72549574,"question_id":29195269,"body_markdown":"Add this code to the dependencies pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n       &lt;artifactId&gt;solr-core&lt;/artifactId&gt;\r\n       &lt;version&gt;4.5.1&lt;/version&gt;\r\n       &lt;exclusions&gt;\r\n          &lt;exclusion&gt;\r\n             &lt;artifactId&gt;jdk.tools&lt;/artifactId&gt;\r\n             &lt;groupId&gt;jdk.tools&lt;/groupId&gt;\r\n          &lt;/exclusion&gt;\r\n       &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"In the pom.xml for a java project, I get missing artifact jdk.tools:jdk.tools:jar:1.6 error","body":"<p>Add this code to the dependencies pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n   &lt;artifactId&gt;solr-core&lt;/artifactId&gt;\n   &lt;version&gt;4.5.1&lt;/version&gt;\n   &lt;exclusions&gt;\n      &lt;exclusion&gt;\n         &lt;artifactId&gt;jdk.tools&lt;/artifactId&gt;\n         &lt;groupId&gt;jdk.tools&lt;/groupId&gt;\n      &lt;/exclusion&gt;\n   &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1778270,"reputation":1533,"user_id":1621584,"accept_rate":39,"display_name":"Jeff"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114182,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":34220439,"answer_count":9,"score":35,"last_activity_date":1654707506,"creation_date":1427032764,"question_id":29195269,"body_markdown":"I think I know how to solve the problem except: I don&#39;t know where in the pom the specific version is referred to (I do not see it explicitly) and the solution I have seen is to add this dependency:\r\n\r\n \r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n       &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n       &lt;version&gt;1.6&lt;/version&gt;\r\n       &lt;scope&gt;system&lt;/scope&gt;\r\n       &lt;systemPath&gt;C:\\Program Files\\Java\\jdk1.6.0_29\\lib\\tools.jar&lt;/systemPath&gt;\r\n     &lt;/dependency&gt;\r\n\r\nBut I would like to use com.oracle and the jdk directory on Windows is jdk1.8. \r\n\r\nSo is there a way to make the pom &quot;want&quot; the version of tools that I actually have on my machine?\r\n","title":"In the pom.xml for a java project, I get missing artifact jdk.tools:jdk.tools:jar:1.6 error","body":"<p>I think I know how to solve the problem except: I don't know where in the pom the specific version is referred to (I do not see it explicitly) and the solution I have seen is to add this dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.sun&lt;/groupId&gt;\n   &lt;artifactId&gt;tools&lt;/artifactId&gt;\n   &lt;version&gt;1.6&lt;/version&gt;\n   &lt;scope&gt;system&lt;/scope&gt;\n   &lt;systemPath&gt;C:\\Program Files\\Java\\jdk1.6.0_29\\lib\\tools.jar&lt;/systemPath&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p>But I would like to use com.oracle and the jdk directory on Windows is jdk1.8. </p>\n\n<p>So is there a way to make the pom \"want\" the version of tools that I actually have on my machine?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":25354128,"reputation":3100,"user_id":19170534,"display_name":"Andreas Violaris"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654698864,"creation_date":1654698864,"answer_id":72547596,"question_id":72546862,"body_markdown":"You can declare static width and height, or create another layout `layout.xml (land)` with `orientation=&quot;horizontal&quot;` to be used when rotating your phone. ","title":"Vertical seekbar&#39;s touch box is off on android studio","body":"<p>You can declare static width and height, or create another layout <code>layout.xml (land)</code> with <code>orientation=&quot;horizontal&quot;</code> to be used when rotating your phone.</p>\n"},{"tags":[],"owner":{"account_id":25506816,"reputation":1,"user_id":19299150,"display_name":"some_guy_withQs"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1654707264,"creation_date":1654707264,"answer_id":72549530,"question_id":72546862,"body_markdown":"I found the answer after a lot more searching:\r\n\r\nwhen turning a seekbar vertical, you do make the rotation 270 but the height you can make almost as minimal as you would like and the touch sensor is not messed up. I needed to put several next to each other and the &#39;boxes&#39; to move them in the xml layout editor for them did intersect but it does not mess up their touch sensor!","title":"Vertical seekbar&#39;s touch box is off on android studio","body":"<p>I found the answer after a lot more searching:</p>\n<p>when turning a seekbar vertical, you do make the rotation 270 but the height you can make almost as minimal as you would like and the touch sensor is not messed up. I needed to put several next to each other and the 'boxes' to move them in the xml layout editor for them did intersect but it does not mess up their touch sensor!</p>\n"}],"owner":{"account_id":25506816,"reputation":1,"user_id":19299150,"display_name":"some_guy_withQs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654707264,"creation_date":1654696064,"question_id":72546862,"body_markdown":"Whenever I make my seekbar vertical (rotate by 270) it forces me to increase the width to make the seekbar length longer, no matter the height. This throws off the touch sensor for it as I want several seekbars next to each other and you don&#39;t have to directly touch a seekbar to move it which is also a problem I don&#39;t want to have. This can make it messy as if you try to drag one you may have touched the one to its right so the one to the right will respond to your movements. Is there another alternative to a seekbar or is it something you have to manually code? ","title":"Vertical seekbar&#39;s touch box is off on android studio","body":"<p>Whenever I make my seekbar vertical (rotate by 270) it forces me to increase the width to make the seekbar length longer, no matter the height. This throws off the touch sensor for it as I want several seekbars next to each other and you don't have to directly touch a seekbar to move it which is also a problem I don't want to have. This can make it messy as if you try to drag one you may have touched the one to its right so the one to the right will respond to your movements. Is there another alternative to a seekbar or is it something you have to manually code?</p>\n"},{"tags":["java","oracle","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1654727574,"post_id":72549524,"comment_id":128163916,"body_markdown":"Could you please clarify the table&#39;s structure? For example, provide CREATE statements.","body":"Could you please clarify the table&#39;s structure? For example, provide CREATE statements."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1654730921,"post_id":72549524,"comment_id":128164538,"body_markdown":"Why are you looking at collection relationships for what seems like 1:1s? Each relationship (fk) is independent, so java classes (entities) should be treated as such too. Departments and Person; a Person may belong in a department, while a department may have a single person as the department head - both are mapped in the DB with the table having a foreign key, but in the object they would be ManyToOne (person-&gt;department) and OneToOne (department-&gt;person) - both are really just 1:1 relationships.","body":"Why are you looking at collection relationships for what seems like 1:1s? Each relationship (fk) is independent, so java classes (entities) should be treated as such too. Departments and Person; a Person may belong in a department, while a department may have a single person as the department head - both are mapped in the DB with the table having a foreign key, but in the object they would be ManyToOne (person-&gt;department) and OneToOne (department-&gt;person) - both are really just 1:1 relationships."}],"owner":{"account_id":13412339,"reputation":25,"user_id":9678253,"display_name":"Thomas Campos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654707222,"creation_date":1654707222,"question_id":72549524,"body_markdown":"I have to create the JPA entities from an existing Oracle database that i am not allowed to change the structure.\r\n\r\nIn this existing Oracle database that i can not change, i have 2 tables :\r\n- a table A that presents a foreign key to the table B\r\n- a table B that presents a foreign key to the table A\r\n\r\nThere is NO assocation table between tables A and B.\r\n\r\nI have created an entity corresponding to the table A and another entity class corresponding to the table B.\r\nBut i can not find the good relationship between these 2 entities.\r\n\r\n@OneToMany in these 2 entities is not good.\r\n\r\nBut @ManyToMany does not convince me too.\r\n\r\nPlease, have you an idea of a correct mapping for this strange relationship between 2 tables ?\r\n\r\nThank you for your answer.","title":"JPA mapping in 2 entities to model 2 tables having reciprocally a foreign key each other","body":"<p>I have to create the JPA entities from an existing Oracle database that i am not allowed to change the structure.</p>\n<p>In this existing Oracle database that i can not change, i have 2 tables :</p>\n<ul>\n<li>a table A that presents a foreign key to the table B</li>\n<li>a table B that presents a foreign key to the table A</li>\n</ul>\n<p>There is NO assocation table between tables A and B.</p>\n<p>I have created an entity corresponding to the table A and another entity class corresponding to the table B.\nBut i can not find the good relationship between these 2 entities.</p>\n<p>@OneToMany in these 2 entities is not good.</p>\n<p>But @ManyToMany does not convince me too.</p>\n<p>Please, have you an idea of a correct mapping for this strange relationship between 2 tables ?</p>\n<p>Thank you for your answer.</p>\n"},{"tags":["java","multithreading","wait","synchronized","notify"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1471609993,"post_id":39039075,"comment_id":65427765,"body_markdown":"At least put `e.printStackTrace();` in your `catch` blocks otherwise you&#39;ll never know if an exception occurred.","body":"At least put <code>e.printStackTrace();</code> in your <code>catch</code> blocks otherwise you&#39;ll never know if an exception occurred."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1471611239,"post_id":39039075,"comment_id":65428624,"body_markdown":"Note: Java language conventions are that class names start with a capital name (thus, `producer` is not a good class name). No underscores are used in class, method or package names, only in names of constants which are all-capital. Classes have names like `ThreadCommunication`, not `Tread_Comunication`. It is also recommended to give variables meaningful names, not &#39;p&#39; and &#39;pp&#39;.","body":"Note: Java language conventions are that class names start with a capital name (thus, <code>producer</code> is not a good class name). No underscores are used in class, method or package names, only in names of constants which are all-capital. Classes have names like <code>ThreadCommunication</code>, not <code>Tread_Comunication</code>. It is also recommended to give variables meaningful names, not &#39;p&#39; and &#39;pp&#39;."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1471612654,"post_id":39039075,"comment_id":65429675,"body_markdown":"Close voter: the posted code does reproduce the problem (at least as much as it can, since the code depends on a race condition that may or may not occur at the scheduler&#39;s discretion). Between the posted code and the output shown it is practical to figure out what&#39;s going on here.","body":"Close voter: the posted code does reproduce the problem (at least as much as it can, since the code depends on a race condition that may or may not occur at the scheduler&#39;s discretion). Between the posted code and the output shown it is practical to figure out what&#39;s going on here."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1471619385,"post_id":39039075,"comment_id":65434290,"body_markdown":"https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html -- read it!","body":"<a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a> -- read it!"}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654707106,"creation_date":1471610671,"answer_id":39039388,"question_id":39039075,"body_markdown":"Notify doesn&#39;t do anything unless another thread is waiting. Your code depends solely on notifying, for it to work the consumer has to run before the producer.\r\n\r\nAccording to your output it happens that the producer runs first; it will execute in its entirety before the consumer gets a chance to run. (For the consumer to run it needs to acquire the lock on sb, which the producer is holding onto.) The producer calls notify but no thread is waiting so it has no effect. Then the consumer waits and no notification comes, so it hangs indefinitely.\r\n\r\nIf the consumer runs first then the code will terminate normally.\r\n\r\nAvoid writing code that depends on one thread happening to run before another, because you don&#39;t have control of what executes first. When you wait you need to do it inside of a loop that tests a condition. One of multiple reasons for this is that if the condition is set before the thread starts to wait, the thread can know not to wait.\r\n\r\nChanging the code to use a condition:\r\n\r\n    import java.io.*;\r\n    \r\n    class producer implements Runnable {\r\n        StringBuffer sb;\r\n        boolean done = false;\r\n        producer() {\r\n            sb=new StringBuffer(&quot;&quot;);\r\n        }\r\n    \r\n        public void run () {\r\n    \r\n            synchronized(sb) {\r\n    \r\n                for(int i=0;i&lt;10;i++) {\r\n                    try { \r\n                        sb.append(i+&quot; &quot;);\r\n                        System.out.println(&quot;Appending ... &quot;); \r\n                    } catch (Exception e) {}\r\n                }\r\n                sb.notify(); \r\n                done = true;\r\n            }\r\n    \r\n    \r\n        }\r\n    }\r\n    \r\n    class consumer implements Runnable {\r\n        producer p;\r\n        consumer(producer pp) {\r\n            this.p=pp;\r\n        }\r\n    \r\n        public void run() {\r\n            System.out.println(&quot;Rreached&quot;);\r\n            synchronized(p.sb) { \r\n                try { \r\n                    while (!p.done) {\r\n                     p.sb.wait(); \r\n                    }\r\n                } catch (Exception e) {}\r\n    \r\n                System.out.println(p.sb);\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    public class Communication {\r\n        public static void main (String [] args) throws Exception {\r\n            producer p= new producer();\r\n            consumer c= new consumer(p);\r\n    \r\n            Thread t1= new Thread(p);\r\n            Thread t2= new Thread(c);\r\n            t2.start();\r\n            t1.start();\r\n        }\r\n    }\r\n\r\n","title":"notify() and notifyAll() doesn&#39;t work in my java code","body":"<p>Notify doesn't do anything unless another thread is waiting. Your code depends solely on notifying, for it to work the consumer has to run before the producer.</p>\n<p>According to your output it happens that the producer runs first; it will execute in its entirety before the consumer gets a chance to run. (For the consumer to run it needs to acquire the lock on sb, which the producer is holding onto.) The producer calls notify but no thread is waiting so it has no effect. Then the consumer waits and no notification comes, so it hangs indefinitely.</p>\n<p>If the consumer runs first then the code will terminate normally.</p>\n<p>Avoid writing code that depends on one thread happening to run before another, because you don't have control of what executes first. When you wait you need to do it inside of a loop that tests a condition. One of multiple reasons for this is that if the condition is set before the thread starts to wait, the thread can know not to wait.</p>\n<p>Changing the code to use a condition:</p>\n<pre><code>import java.io.*;\n\nclass producer implements Runnable {\n    StringBuffer sb;\n    boolean done = false;\n    producer() {\n        sb=new StringBuffer(&quot;&quot;);\n    }\n\n    public void run () {\n\n        synchronized(sb) {\n\n            for(int i=0;i&lt;10;i++) {\n                try { \n                    sb.append(i+&quot; &quot;);\n                    System.out.println(&quot;Appending ... &quot;); \n                } catch (Exception e) {}\n            }\n            sb.notify(); \n            done = true;\n        }\n\n\n    }\n}\n\nclass consumer implements Runnable {\n    producer p;\n    consumer(producer pp) {\n        this.p=pp;\n    }\n\n    public void run() {\n        System.out.println(&quot;Rreached&quot;);\n        synchronized(p.sb) { \n            try { \n                while (!p.done) {\n                 p.sb.wait(); \n                }\n            } catch (Exception e) {}\n\n            System.out.println(p.sb);\n        }\n    }\n}\n\n\npublic class Communication {\n    public static void main (String [] args) throws Exception {\n        producer p= new producer();\n        consumer c= new consumer(p);\n\n        Thread t1= new Thread(p);\n        Thread t2= new Thread(c);\n        t2.start();\n        t1.start();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471615038,"creation_date":1471614306,"answer_id":39040621,"question_id":39039075,"body_markdown":"&gt; So I have been working on a simple wait/notify example in Java and for some reason I have not been able to get it to run properly.\r\n\r\nThe problem with your code is that the `notify()` is not persisted.  If the `producer` enters the `synchronized` block _first_ then the `consumer` will not be able to enter it and get to the `wait` until the `producer` exits the loop and finishes.  Since all of the `notify` calls happen _inside_ of the `synchronized` block, by the time the `consumer` gets to the `wait()`, the `producer` has finished and is no longer calling `notify`.  This means that the `consumer` is hung.\r\n\r\nEven if you start the `consumer` first, you still have a race condition that might cause the `producer` to get into its `synchronized` block first -- this is especially true because the `consumer` calls a `System.out.println()` which takes time.  Although not a &quot;fix&quot;, if you slow down the `producer` with a `Thread.sleep(100)` before the `synchronized` call, you should see that it now works because the `consumer` gets to its `wait()` _before_ the `producer` locks it out.\r\n\r\nThere are a couple of ways for you to properly fix this.  Typically we use wait/notify _and_ another variable which the `consumer` should check.  In your case this could be the `sb` variable itself since it is protected.  So the `consumer` could do something like:\r\n\r\n    synchronized (p.sb) { \r\n        try {\r\n            // do we need to wait to see if the producer added stuff?\r\n            if (p.sb.length() == 0) {\r\n                p.sb.wait();\r\n            }\r\n        } catch (InterruptedException e) {\r\n            // this is always a good pattern to preserve the interrupt flag\r\n            Thread.currentThread().interrupt();\r\n            return;\r\n        }\r\n    }\r\n","title":"notify() and notifyAll() doesn&#39;t work in my java code","body":"<blockquote>\n  <p>So I have been working on a simple wait/notify example in Java and for some reason I have not been able to get it to run properly.</p>\n</blockquote>\n\n<p>The problem with your code is that the <code>notify()</code> is not persisted.  If the <code>producer</code> enters the <code>synchronized</code> block <em>first</em> then the <code>consumer</code> will not be able to enter it and get to the <code>wait</code> until the <code>producer</code> exits the loop and finishes.  Since all of the <code>notify</code> calls happen <em>inside</em> of the <code>synchronized</code> block, by the time the <code>consumer</code> gets to the <code>wait()</code>, the <code>producer</code> has finished and is no longer calling <code>notify</code>.  This means that the <code>consumer</code> is hung.</p>\n\n<p>Even if you start the <code>consumer</code> first, you still have a race condition that might cause the <code>producer</code> to get into its <code>synchronized</code> block first -- this is especially true because the <code>consumer</code> calls a <code>System.out.println()</code> which takes time.  Although not a \"fix\", if you slow down the <code>producer</code> with a <code>Thread.sleep(100)</code> before the <code>synchronized</code> call, you should see that it now works because the <code>consumer</code> gets to its <code>wait()</code> <em>before</em> the <code>producer</code> locks it out.</p>\n\n<p>There are a couple of ways for you to properly fix this.  Typically we use wait/notify <em>and</em> another variable which the <code>consumer</code> should check.  In your case this could be the <code>sb</code> variable itself since it is protected.  So the <code>consumer</code> could do something like:</p>\n\n<pre><code>synchronized (p.sb) { \n    try {\n        // do we need to wait to see if the producer added stuff?\n        if (p.sb.length() == 0) {\n            p.sb.wait();\n        }\n    } catch (InterruptedException e) {\n        // this is always a good pattern to preserve the interrupt flag\n        Thread.currentThread().interrupt();\n        return;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6809502,"reputation":41,"user_id":5240221,"display_name":"user5240221"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1654707106,"creation_date":1471609725,"question_id":39039075,"body_markdown":"So I have been working on a simple wait/notify example in Java and for some reason I have not been able to get it to run properly. If anyone is able to see what might be the issue It would be very appreciated!\r\n\r\n    class producer implements Runnable {\r\n    \tStringBuffer sb;\r\n    \tproducer() {\r\n    \t\tsb=new StringBuffer(&quot;&quot;);\r\n    \t}\r\n    \r\n    \tpublic void run () {\r\n    \t\tsynchronized(sb) {\r\n    \t\t\tfor(int i = 0; i &lt; 10; i++) {\r\n    \t\t\t\ttry { \r\n    \t\t\t\t    sb.append(i+&quot; &quot;);\r\n    \t\t\t\t    System.out.println(&quot;Appending ... &quot;); \r\n                    } catch (Exception e) {}\r\n    \t\t\t}\r\n    \t\t\tsb.notify(); \r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    class consumer implements Runnable {\r\n    \tproducer p;\r\n    \tconsumer(producer pp) {\r\n    \t\tthis.p = pp;\r\n    \t}\r\n    \r\n    \tpublic void run() {\r\n    \t\tSystem.out.println(&quot;Rreached&quot;);\r\n    \t\tsynchronized(p.sb) { \r\n    \t\t\ttry { \r\n                     p.sb.wait(); \r\n                } catch (Exception e) {}\r\n    \t\t\tSystem.out.println(p.sb);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    class Thread_Comunication {\r\n    \tpublic static void main (String [] args) {\r\n    \t\tproducer p = new producer();\r\n    \t\tconsumer c = new consumer(p);\r\n    \r\n    \t\tThread t1 = new Thread(p);\r\n    \t\tThread t2 = new Thread(c);\r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n    Appending ...\r\n    Rreached   // randome Position\r\n    Appending ...\r\n    Appending ...\r\n    Appending ...\r\n    Appending ...\r\n    Appending ...\r\n    Appending ...\r\n    Appending ...\r\n    Appending ...\r\n    Appending ...  \r\n\r\nSo for some reason the thread `t1` does not wake up the `t2` or am I missing something else entirely?\r\n","title":"notify() and notifyAll() doesn&#39;t work in my java code","body":"<p>So I have been working on a simple wait/notify example in Java and for some reason I have not been able to get it to run properly. If anyone is able to see what might be the issue It would be very appreciated!</p>\n\n<pre><code>class producer implements Runnable {\n    StringBuffer sb;\n    producer() {\n        sb=new StringBuffer(\"\");\n    }\n\n    public void run () {\n        synchronized(sb) {\n            for(int i = 0; i &lt; 10; i++) {\n                try { \n                    sb.append(i+\" \");\n                    System.out.println(\"Appending ... \"); \n                } catch (Exception e) {}\n            }\n            sb.notify(); \n        }\n    }\n}\n\nclass consumer implements Runnable {\n    producer p;\n    consumer(producer pp) {\n        this.p = pp;\n    }\n\n    public void run() {\n        System.out.println(\"Rreached\");\n        synchronized(p.sb) { \n            try { \n                 p.sb.wait(); \n            } catch (Exception e) {}\n            System.out.println(p.sb);\n        }\n    }\n}\n\nclass Thread_Comunication {\n    public static void main (String [] args) {\n        producer p = new producer();\n        consumer c = new consumer(p);\n\n        Thread t1 = new Thread(p);\n        Thread t2 = new Thread(c);\n        t1.start();\n        t2.start();\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Appending ...\nRreached   // randome Position\nAppending ...\nAppending ...\nAppending ...\nAppending ...\nAppending ...\nAppending ...\nAppending ...\nAppending ...\nAppending ...  \n</code></pre>\n\n<p>So for some reason the thread <code>t1</code> does not wake up the <code>t2</code> or am I missing something else entirely?</p>\n"},{"tags":["java","api","android-studio","google-maps","kml"],"answers":[{"tags":[],"owner":{"account_id":20068514,"reputation":11,"user_id":14713753,"display_name":"Bobafett11"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611766168,"creation_date":1611766168,"answer_id":65923656,"question_id":65815638,"body_markdown":"Fron anyone who got the same problem.\r\n\r\nin my case it was the line: \r\n\r\n    layer = new KmlLayer(mMap, R.raw.kmltest, getApplicationContext());\r\n\r\n\r\napparently, onmarkerclick() and at the same time oninfowindowsclick() stop working when working with a KML layer.\r\n\r\nI don&#39;t know exactly why.","title":"OnMarkerClick() Method not working Android Studio","body":"<p>Fron anyone who got the same problem.</p>\n<p>in my case it was the line:</p>\n<pre><code>layer = new KmlLayer(mMap, R.raw.kmltest, getApplicationContext());\n</code></pre>\n<p>apparently, onmarkerclick() and at the same time oninfowindowsclick() stop working when working with a KML layer.</p>\n<p>I don't know exactly why.</p>\n"},{"tags":[],"owner":{"account_id":10982382,"reputation":1530,"user_id":8069085,"display_name":"j3App"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654706677,"creation_date":1654706262,"answer_id":72549317,"question_id":65815638,"body_markdown":"Once you add a KML layer, it will handle the clicks. You need to instruct the KML layer to delegate the clicks to e.g. your markers or polylines.\r\n\r\nhere&#39;s how to do it with markers (same principle for polylines etc):\r\n\r\n    MarkerManager markerManager = new MarkerManager(map);\r\n    MarkerManager.Collection markerCollection = markerManager.newCollection();\r\n\r\n... where map is GoogleMap. &lt;br&gt;\r\nNow when adding a marker to the map \r\ninstead of doing: \r\n\r\n    map.addMarker(markerOptions);\r\n    map.setOnMarkerClickListener(listener);\r\n\r\ndo:\r\n\r\n    markerCollection.addMarker(markerOptions)\r\n    markerCollection.setOnMarkerClickListener(listener); \r\n\r\nAnd now the final hint:\r\n\r\nWhen adding a KML object to the map, pass in the markerManager (and polylineManager etc):\r\n\r\n    KmlLayer kmlLayer = new KmlLayer(map, R.raw.kmltest, ctxt, markerManager, polygonManager, polylineManager, groundOverlayManager, (cache));\r\n\r\nIn case you only use markers, it would simply be:\r\n   \r\n\r\n \r\n\r\n    KmlLayer kmlLayer = new KmlLayer(map, R.raw.kmltest, ctxt, markerManager, null, null, null, null);\r\n\r\n    \r\n\r\n... and watch ALL your click listeners work\r\n","title":"OnMarkerClick() Method not working Android Studio","body":"<p>Once you add a KML layer, it will handle the clicks. You need to instruct the KML layer to delegate the clicks to e.g. your markers or polylines.</p>\n<p>here's how to do it with markers (same principle for polylines etc):</p>\n<pre><code>MarkerManager markerManager = new MarkerManager(map);\nMarkerManager.Collection markerCollection = markerManager.newCollection();\n</code></pre>\n<p>... where map is GoogleMap. <br>\nNow when adding a marker to the map\ninstead of doing:</p>\n<pre><code>map.addMarker(markerOptions);\nmap.setOnMarkerClickListener(listener);\n</code></pre>\n<p>do:</p>\n<pre><code>markerCollection.addMarker(markerOptions)\nmarkerCollection.setOnMarkerClickListener(listener); \n</code></pre>\n<p>And now the final hint:</p>\n<p>When adding a KML object to the map, pass in the markerManager (and polylineManager etc):</p>\n<pre><code>KmlLayer kmlLayer = new KmlLayer(map, R.raw.kmltest, ctxt, markerManager, polygonManager, polylineManager, groundOverlayManager, (cache));\n</code></pre>\n<p>In case you only use markers, it would simply be:</p>\n<pre><code>KmlLayer kmlLayer = new KmlLayer(map, R.raw.kmltest, ctxt, markerManager, null, null, null, null);\n</code></pre>\n<p>... and watch ALL your click listeners work</p>\n"}],"owner":{"account_id":20068514,"reputation":11,"user_id":14713753,"display_name":"Bobafett11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654706677,"creation_date":1611168032,"question_id":65815638,"body_markdown":"\r\nI have tried many of the solutions that abound here in the forum of the operation of onmarkerclick () but none have worked.\r\n\r\nI am working with an app that uses the google maps api and we want to program a route tracer.\r\n\r\nThe operation that I am trying to achieve now is that by clicking on a marker you can trace the path to it, the problem is that the onmarkerclick method is not working or returning anything.\r\n\r\n\r\nI will add the 2 parts of the code that I consider important to be able to find the solution to the problem:\r\n\r\n```\r\n public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        mMap.setOnMapClickListener(this);\r\n        mMap.setOnMarkerClickListener(this);\r\n        mMap.setOnInfoWindowClickListener(this);\r\n\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            if (ContextCompat.checkSelfPermission(this,\r\n                    Manifest.permission.ACCESS_FINE_LOCATION)\r\n                    == PackageManager.PERMISSION_GRANTED) {\r\n                buildGoogleApiClient();\r\n                mMap.setMyLocationEnabled(true);\r\n            }\r\n        }\r\n        else {\r\n            buildGoogleApiClient();\r\n            mMap.setMyLocationEnabled(true);\r\n        }\r\n\r\n        //  Add layer\r\n\r\n        try {\r\n            layer = new KmlLayer(mMap, R.raw.kmltest, getApplicationContext());\r\n            layer.addLayerToMap();\r\n            // Set a listener for geometry clicked events.\r\n            layer.setOnFeatureClickListener(new KmlLayer.OnFeatureClickListener() {\r\n                @Override\r\n                public void onFeatureClick(Feature feature) {\r\n                    Log.i(&quot;KML&quot;, &quot;Feature clicked: &quot; + feature.getProperty(&quot;CUA_DESCRI&quot;));\r\n                }\r\n            });\r\n\r\n        } catch (XmlPullParserException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        // end of layer add\r\n    }\r\n\r\n\r\npublic boolean onMarkerClick(Marker marker) {\r\n        Log.d(&quot;Comprobar markerclick&quot;, &quot;onMarkerClick !!!!!!!!!!!!!!!!!! &quot;);\r\n\r\n        btnTrazarRuta.hide();\r\n\r\n        //El destino que buscaremos al dar click \r\n        destinoRutaUnica = marker.getPosition().latitude + &quot;,&quot; + marker.getPosition().longitude;\r\n\r\n\r\n        return false;\r\n    }\r\n\r\n```\r\nThe onmarkerclick method should hide a button and get the position of the marker, but before that I put a logd to be able to see if it was at least entering the method, but no. It shows absolutely nothing.\r\n\r\n\r\n","title":"OnMarkerClick() Method not working Android Studio","body":"<p>I have tried many of the solutions that abound here in the forum of the operation of onmarkerclick () but none have worked.</p>\n<p>I am working with an app that uses the google maps api and we want to program a route tracer.</p>\n<p>The operation that I am trying to achieve now is that by clicking on a marker you can trace the path to it, the problem is that the onmarkerclick method is not working or returning anything.</p>\n<p>I will add the 2 parts of the code that I consider important to be able to find the solution to the problem:</p>\n<pre><code> public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n        mMap.setOnMapClickListener(this);\n        mMap.setOnMarkerClickListener(this);\n        mMap.setOnInfoWindowClickListener(this);\n\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (ContextCompat.checkSelfPermission(this,\n                    Manifest.permission.ACCESS_FINE_LOCATION)\n                    == PackageManager.PERMISSION_GRANTED) {\n                buildGoogleApiClient();\n                mMap.setMyLocationEnabled(true);\n            }\n        }\n        else {\n            buildGoogleApiClient();\n            mMap.setMyLocationEnabled(true);\n        }\n\n        //  Add layer\n\n        try {\n            layer = new KmlLayer(mMap, R.raw.kmltest, getApplicationContext());\n            layer.addLayerToMap();\n            // Set a listener for geometry clicked events.\n            layer.setOnFeatureClickListener(new KmlLayer.OnFeatureClickListener() {\n                @Override\n                public void onFeatureClick(Feature feature) {\n                    Log.i(&quot;KML&quot;, &quot;Feature clicked: &quot; + feature.getProperty(&quot;CUA_DESCRI&quot;));\n                }\n            });\n\n        } catch (XmlPullParserException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        // end of layer add\n    }\n\n\npublic boolean onMarkerClick(Marker marker) {\n        Log.d(&quot;Comprobar markerclick&quot;, &quot;onMarkerClick !!!!!!!!!!!!!!!!!! &quot;);\n\n        btnTrazarRuta.hide();\n\n        //El destino que buscaremos al dar click \n        destinoRutaUnica = marker.getPosition().latitude + &quot;,&quot; + marker.getPosition().longitude;\n\n\n        return false;\n    }\n\n</code></pre>\n<p>The onmarkerclick method should hide a button and get the position of the marker, but before that I put a logd to be able to see if it was at least entering the method, but no. It shows absolutely nothing.</p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1322772256,"post_id":8347967,"comment_id":10295837,"body_markdown":"You want to not write a C to a CSV file? That&#39;s just V. If you want it to line up when viewed with a monospaced font you need to pad the numbers appropriately based on their maximum size (in characters).","body":"You want to not write a C to a CSV file? That&#39;s just V. If you want it to line up when viewed with a monospaced font you need to pad the numbers appropriately based on their maximum size (in characters)."}],"answers":[{"tags":[],"owner":{"account_id":55050,"reputation":190509,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322772242,"creation_date":1322772242,"answer_id":8348011,"question_id":8347967,"body_markdown":"    FileWriter wr = new FileWriter(&quot;Results.csv&quot;);\r\n    wr.append(Integer.toString(r.length) +&quot; &quot;);\r\n    wr.append(Long.toString(execution_time));\r\n    wr.append(&#39;\\n&#39;);\r\n    wr.flush();\r\n    wr.close();\r\n\r\nthis output a space instead of comma","title":"How do I remove the comma from a CSV output?","body":"<pre><code>FileWriter wr = new FileWriter(\"Results.csv\");\nwr.append(Integer.toString(r.length) +\" \");\nwr.append(Long.toString(execution_time));\nwr.append('\\n');\nwr.flush();\nwr.close();\n</code></pre>\n\n<p>this output a space instead of comma</p>\n"},{"tags":[],"owner":{"account_id":47188,"reputation":8674,"user_id":139637,"accept_rate":91,"display_name":"Custodio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322772405,"creation_date":1322772405,"answer_id":8348052,"question_id":8347967,"body_markdown":"Open this in Excel, so the CSV is opened as a xml file. Use this command removing the extra spaces:\r\n\r\n    \tFileWriter wr = new FileWriter(&quot;Results.csv&quot;);\r\n\t    wr.append(Integer.toString(r.length) + &quot;,&quot;);\r\n\t    wr.append(Long.toString(execution_time));\r\n\t    wr.append(&#39;\\n&#39;);\r\n\t    wr.flush();\r\n\t    wr.close();","title":"How do I remove the comma from a CSV output?","body":"<p>Open this in Excel, so the CSV is opened as a xml file. Use this command removing the extra spaces:</p>\n\n<pre><code>    FileWriter wr = new FileWriter(\"Results.csv\");\n    wr.append(Integer.toString(r.length) + \",\");\n    wr.append(Long.toString(execution_time));\n    wr.append('\\n');\n    wr.flush();\n    wr.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":893632,"reputation":4602,"user_id":931428,"accept_rate":100,"display_name":"Ondrej Kvasnovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322772461,"creation_date":1322772461,"answer_id":8348066,"question_id":8347967,"body_markdown":"You might try to use tab as separator: \r\n\r\n    FileWriter wr = new FileWriter(&quot;Results.csv&quot;);\r\n    wr.append(Integer.toString(r.length) +&quot;\\t&quot;);\r\n    wr.append(Long.toString(execution_time));\r\n    wr.append(&#39;\\n&#39;);\r\n    wr.flush();\r\n    wr.close();\r\n\r\n","title":"How do I remove the comma from a CSV output?","body":"<p>You might try to use tab as separator: </p>\n\n<pre><code>FileWriter wr = new FileWriter(\"Results.csv\");\nwr.append(Integer.toString(r.length) +\"\\t\");\nwr.append(Long.toString(execution_time));\nwr.append('\\n');\nwr.flush();\nwr.close();\n</code></pre>\n"}],"owner":{"account_id":1078667,"reputation":1,"user_id":1076259,"display_name":"Alex J"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1654706621,"creation_date":1322772043,"question_id":8347967,"body_markdown":"I&#39;m outputting some results to a CSV in two columns so that I can create a basic graph. Due to the CSV format the values in my first column display as &quot;10,&quot; I was wondering how I can remove the comma to make my data look neat.  \r\nWould I have to separate the data into columns in a different way or is their a way you can get the comma to not write to the CSV file?\r\n\r\n    \tFileWriter wr = new FileWriter(&quot;Results.csv&quot;);\r\n\t    wr.append(Integer.toString(r.length) + &quot;, &quot;);\r\n\t    wr.append(Long.toString(execution_time));\r\n\t    wr.append(&#39;\\n&#39;);\r\n\t    wr.flush();\r\n\t    wr.close();\r\n","title":"How do I remove the comma from a CSV output?","body":"<p>I'm outputting some results to a CSV in two columns so that I can create a basic graph. Due to the CSV format the values in my first column display as \"10,\" I was wondering how I can remove the comma to make my data look neat.<br>\nWould I have to separate the data into columns in a different way or is their a way you can get the comma to not write to the CSV file?</p>\n\n<pre><code>    FileWriter wr = new FileWriter(\"Results.csv\");\n    wr.append(Integer.toString(r.length) + \", \");\n    wr.append(Long.toString(execution_time));\n    wr.append('\\n');\n    wr.flush();\n    wr.close();\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1654706251,"post_id":72548848,"comment_id":128157404,"body_markdown":"*However, when I execute it throws the following exception:* You forgot to post it (in code tags)","body":"<i>However, when I execute it throws the following exception:</i> You forgot to post it (in code tags)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654706357,"post_id":72548848,"comment_id":128157449,"body_markdown":"*to decode key* Why would you decode a &#39;key&#39;? Do you mean that&#39;s the ciphertext?","body":"<i>to decode key</i> Why would you decode a &#39;key&#39;? Do you mean that&#39;s the ciphertext?"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654706620,"creation_date":1654706620,"answer_id":72549394,"question_id":72548848,"body_markdown":"The following is simpler and produces readable output:\r\n\r\n    import java.util.*;\r\n    import java.security.*;\r\n    import javax.crypto.*;\r\n    import javax.crypto.spec.*;\r\n    \r\n    public class Decoder {\r\n        public static void main(String[] args) {\r\n            try {\r\n                String cipherText = &quot;7JUQgSTY3kFSYQC6/0L89rdYW36ArmK75Kdn3+cOvaE=&quot;;\r\n                byte[] cipherBytes = Base64.getDecoder().decode(cipherText);\r\n                MessageDigest sha256 = MessageDigest.getInstance(&quot;SHA256&quot;);\r\n                byte[] key = sha256.digest(&quot;MiClave&quot;.getBytes());\r\n                Cipher c = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n                SecretKey secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n                c.init(Cipher.DECRYPT_MODE, secretKey);\r\n                System.out.println(new String(c.doFinal(cipherBytes)));\r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Exception decrpyting with padded cypher","body":"<p>The following is simpler and produces readable output:</p>\n<pre><code>import java.util.*;\nimport java.security.*;\nimport javax.crypto.*;\nimport javax.crypto.spec.*;\n\npublic class Decoder {\n    public static void main(String[] args) {\n        try {\n            String cipherText = &quot;7JUQgSTY3kFSYQC6/0L89rdYW36ArmK75Kdn3+cOvaE=&quot;;\n            byte[] cipherBytes = Base64.getDecoder().decode(cipherText);\n            MessageDigest sha256 = MessageDigest.getInstance(&quot;SHA256&quot;);\n            byte[] key = sha256.digest(&quot;MiClave&quot;.getBytes());\n            Cipher c = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\n            SecretKey secretKey = new SecretKeySpec(key, &quot;AES&quot;);\n            c.init(Cipher.DECRYPT_MODE, secretKey);\n            System.out.println(new String(c.doFinal(cipherBytes)));\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7058257,"reputation":575,"user_id":5404647,"accept_rate":50,"display_name":"Norhther"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72549394,"answer_count":1,"score":0,"last_activity_date":1654706620,"creation_date":1654704041,"question_id":72548848,"body_markdown":"I have the following code:\r\n\r\n    import javax.crypto.*;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.util.Arrays;\r\n    import java.util.Base64;\r\n    import java.util.Scanner;\r\n    \r\n    public class gtUF2 {\r\n    \r\n        public static void main(String[] args) throws NoSuchPaddingException, NoSuchAlgorithmException,\r\n                UnsupportedEncodingException, IllegalBlockSizeException, BadPaddingException, InvalidKeyException {\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n            SecretKey sKey = passwordGeneration(&quot;MiClave&quot;, 256);\r\n    \r\n            System.out.println(Base64.getEncoder().encodeToString(sKey.getEncoded()));\r\n    \r\n            String key = &quot;7JUQgSTY3kFSYQC6/0L89rdYW36ArmK75Kdn3+cOvaE=&quot;;\r\n    \r\n            cipher.init(Cipher.DECRYPT_MODE, sKey);\r\n            byte[] decrypted = cipher.doFinal(key.getBytes(StandardCharsets.UTF_8));\r\n            System.out.println(Base64.getEncoder().encodeToString(decrypted));\r\n        }\r\n    \r\n        public static SecretKey passwordGeneration(String text, int keySize) throws NoSuchAlgorithmException {\r\n            byte[] data = text.getBytes(StandardCharsets.UTF_8);\r\n            MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n            byte[] hash = md.digest(data);\r\n            byte[] key = Arrays.copyOf(hash, keySize/8);\r\n            return new SecretKeySpec(key, &quot;AES&quot;);\r\n        }\r\n    }\r\n\r\nHowever, when I execute it throws the following exception:\r\n\r\n\r\nBasically, what I want is to encrpyt in `SHA256` the String `MiClave` and then use that as a `SecretKey` to decode `key`, that was encrpyted using `AES`.","title":"Exception decrpyting with padded cypher","body":"<p>I have the following code:</p>\n<pre><code>import javax.crypto.*;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.io.UnsupportedEncodingException;\nimport java.nio.charset.StandardCharsets;\nimport java.security.InvalidKeyException;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Arrays;\nimport java.util.Base64;\nimport java.util.Scanner;\n\npublic class gtUF2 {\n\n    public static void main(String[] args) throws NoSuchPaddingException, NoSuchAlgorithmException,\n            UnsupportedEncodingException, IllegalBlockSizeException, BadPaddingException, InvalidKeyException {\n        Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\n        SecretKey sKey = passwordGeneration(&quot;MiClave&quot;, 256);\n\n        System.out.println(Base64.getEncoder().encodeToString(sKey.getEncoded()));\n\n        String key = &quot;7JUQgSTY3kFSYQC6/0L89rdYW36ArmK75Kdn3+cOvaE=&quot;;\n\n        cipher.init(Cipher.DECRYPT_MODE, sKey);\n        byte[] decrypted = cipher.doFinal(key.getBytes(StandardCharsets.UTF_8));\n        System.out.println(Base64.getEncoder().encodeToString(decrypted));\n    }\n\n    public static SecretKey passwordGeneration(String text, int keySize) throws NoSuchAlgorithmException {\n        byte[] data = text.getBytes(StandardCharsets.UTF_8);\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        byte[] hash = md.digest(data);\n        byte[] key = Arrays.copyOf(hash, keySize/8);\n        return new SecretKeySpec(key, &quot;AES&quot;);\n    }\n}\n</code></pre>\n<p>However, when I execute it throws the following exception:</p>\n<p>Basically, what I want is to encrpyt in <code>SHA256</code> the String <code>MiClave</code> and then use that as a <code>SecretKey</code> to decode <code>key</code>, that was encrpyted using <code>AES</code>.</p>\n"},{"tags":["java","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":25223850,"reputation":1664,"user_id":19059974,"display_name":"Gerard Garcia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654412323,"creation_date":1654411772,"answer_id":72505332,"question_id":72503726,"body_markdown":"The code you show creates and submits a Flink job to be executed in its own environment orchestrated by the Flink framework: https://nightlies.apache.org/flink/flink-docs-stable/docs/concepts/flink-architecture/#flink-application-execution\r\n\r\nThe job runs independently than the code that builds and submits the Flink job so when you call `keyedStateReaderFunction.getKeyToValues()`, you are calling the method of the object that was used to build the job, not the actual object that was run in the Flink execution environment.\r\n\r\nYour workaround seems like a valid option to me. You can then submit the file with your savepoint contents to your new job to recreate its state as you&#39;d like.\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/dataset/local_execution/","title":"How manually read data from Flink&#39;s checkpoint file and keep in Java memory","body":"<p>The code you show creates and submits a Flink job to be executed in its own environment orchestrated by the Flink framework: <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/concepts/flink-architecture/#flink-application-execution\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-stable/docs/concepts/flink-architecture/#flink-application-execution</a></p>\n<p>The job runs independently than the code that builds and submits the Flink job so when you call <code>keyedStateReaderFunction.getKeyToValues()</code>, you are calling the method of the object that was used to build the job, not the actual object that was run in the Flink execution environment.</p>\n<p>Your workaround seems like a valid option to me. You can then submit the file with your savepoint contents to your new job to recreate its state as you'd like.</p>\n"},{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654523717,"creation_date":1654523717,"answer_id":72518767,"question_id":72503726,"body_markdown":"You have an instance of `KeyedStateReaderFunctionImpl` in the Flink client which gets serialized and sent to each task manager. Each task manager then deserializes a copy of that `KeyedStateReaderFunctionImpl` and calls its `open` and `readKey` methods, and gradually builds up a private Map containing its share of the data extracted from the savepoint/checkpoint.\r\n\r\nMeanwhile the original `KeyedStateReaderFunctionImpl` back in the Flink client has never had its `open` or `readKey` methods called, and doesn&#39;t hold any data.\r\n\r\nIn your case the parallelism is one, so there is only one task manager, but in general you will need collect the output from each task manager and assemble together the complete results from these pieces. These results are not available in the flink client process because the work hasn&#39;t been done there.","title":"How manually read data from Flink&#39;s checkpoint file and keep in Java memory","body":"<p>You have an instance of <code>KeyedStateReaderFunctionImpl</code> in the Flink client which gets serialized and sent to each task manager. Each task manager then deserializes a copy of that <code>KeyedStateReaderFunctionImpl</code> and calls its <code>open</code> and <code>readKey</code> methods, and gradually builds up a private Map containing its share of the data extracted from the savepoint/checkpoint.</p>\n<p>Meanwhile the original <code>KeyedStateReaderFunctionImpl</code> back in the Flink client has never had its <code>open</code> or <code>readKey</code> methods called, and doesn't hold any data.</p>\n<p>In your case the parallelism is one, so there is only one task manager, but in general you will need collect the output from each task manager and assemble together the complete results from these pieces. These results are not available in the flink client process because the work hasn't been done there.</p>\n"},{"tags":[],"owner":{"account_id":3023551,"reputation":688,"user_id":2564032,"display_name":"Vasif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654706355,"creation_date":1654706355,"answer_id":72549336,"question_id":72503726,"body_markdown":"I found a solution, started job in attached mode and collecting results in main thread\r\n\r\n        val env = ExecutionEnvironment.getExecutionEnvironment();\r\n\r\n        val configuration = env.getConfiguration();\r\n        configuration\r\n            .setBoolean(DeploymentOptions.ATTACHED, true);\r\n...\r\n\r\n    val myresults = dataSource.collect();\r\n\r\nHope will help somebody else because I wasted couple of days while trying to find a soltion.","title":"How manually read data from Flink&#39;s checkpoint file and keep in Java memory","body":"<p>I found a solution, started job in attached mode and collecting results in main thread</p>\n<pre><code>    val env = ExecutionEnvironment.getExecutionEnvironment();\n\n    val configuration = env.getConfiguration();\n    configuration\n        .setBoolean(DeploymentOptions.ATTACHED, true);\n</code></pre>\n<p>...</p>\n<pre><code>val myresults = dataSource.collect();\n</code></pre>\n<p>Hope will help somebody else because I wasted couple of days while trying to find a soltion.</p>\n"}],"owner":{"account_id":3023551,"reputation":688,"user_id":2564032,"display_name":"Vasif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72549336,"answer_count":3,"score":0,"last_activity_date":1654706355,"creation_date":1654384398,"question_id":72503726,"body_markdown":"We need to read data from our checkpoints manually for different reasons (let&#39;s say we need to change our state object/class structure, so we want to read restore and copy data to a new type of object)\r\nBut, while we are reading everything is good, when we want to keep/store it in memory and deploying to flink cluster we get empty list/map. in log we see that we are reading and adding all our data properly to list/map but as soon as our method completes it&#39;s work we lost data, list/map is empty :(\r\n\r\n     val env = ExecutionEnvironment.getExecutionEnvironment();\r\n     val savepoint = Savepoint.load(env, checkpointSavepointLocation, new HashMapStateBackend());\r\n     private List&lt;KeyedAssetTagWithConfig&gt; keyedAssetsTagWithConfigs = new ArrayList&lt;&gt;();\r\n\r\n     val keyedStateReaderFunction = new KeyedStateReaderFunctionImpl();\r\n\r\n     savepoint.readKeyedState(&quot;my-uuid&quot;, keyedStateReaderFunction)\r\n                .setParallelism(1)\r\n                .output(new MyLocalCollectionOutputFormat&lt;&gt;(keyedAssetsTagWithConfigs));\r\n\r\n     env.execute(&quot;MyJobName&quot;);\r\n\r\n    private static class KeyedStateReaderFunctionImpl extends KeyedStateReaderFunction&lt;String, KeyedAssetTagWithConfig&gt; {\r\n\r\n        private MapState&lt;String, KeyedAssetTagWithConfig&gt; liveTagsValues;\r\n        private Map&lt;String, KeyedAssetTagWithConfig&gt; keyToValues = new ConcurrentHashMap&lt;&gt;();\r\n\r\n        @Override\r\n        public void open(final Configuration parameters) throws Exception {\r\n            liveTagsValues = getRuntimeContext().getMapState(ExpressionsProcessor.liveTagsValuesStateDescriptor);\r\n        }\r\n\r\n        @Override\r\n        public void readKey(final String key, final Context ctx, final Collector&lt;KeyedAssetTagWithConfig&gt; out) throws Exception {\r\n            liveTagsValues.iterator().forEachRemaining(entry -&gt; {\r\n                keyToValues.put(entry.getKey(), entry.getValue());\r\n            log.info(&quot;key {} -&gt; {} val&quot;, entry.getKey(), entry.getValue());\r\n                out.collect(entry.getValue());\r\n            });\r\n        }\r\n\r\n        public Map&lt;String, KeyedAssetTagWithConfig&gt; getKeyToValues() {\r\n            return keyToValues;\r\n        }\r\n    }\r\n\r\nas soon as this code executes I expect having all values inside map which we get from `keyedStateReaderFunction.getKeyToValues()`. But it returns empty map. However, I see in logs we are reading all of them properly. Even data empty inside `keyedAssetsTagWithConfigs` list where we are reading output in it.\r\n\r\nIf anyone has any idea will be very helpful because I get lost, I never had such experience that I put data to map and then I lose it :) When I serialize and write my map or list to text file and then deserialize it from there (using jackson) I see my data exists, but this is not a solution, kind of &quot;workaround&quot;\r\n\r\nThanks in advance","title":"How manually read data from Flink&#39;s checkpoint file and keep in Java memory","body":"<p>We need to read data from our checkpoints manually for different reasons (let's say we need to change our state object/class structure, so we want to read restore and copy data to a new type of object)\nBut, while we are reading everything is good, when we want to keep/store it in memory and deploying to flink cluster we get empty list/map. in log we see that we are reading and adding all our data properly to list/map but as soon as our method completes it's work we lost data, list/map is empty :(</p>\n<pre><code> val env = ExecutionEnvironment.getExecutionEnvironment();\n val savepoint = Savepoint.load(env, checkpointSavepointLocation, new HashMapStateBackend());\n private List&lt;KeyedAssetTagWithConfig&gt; keyedAssetsTagWithConfigs = new ArrayList&lt;&gt;();\n\n val keyedStateReaderFunction = new KeyedStateReaderFunctionImpl();\n\n savepoint.readKeyedState(&quot;my-uuid&quot;, keyedStateReaderFunction)\n            .setParallelism(1)\n            .output(new MyLocalCollectionOutputFormat&lt;&gt;(keyedAssetsTagWithConfigs));\n\n env.execute(&quot;MyJobName&quot;);\n\nprivate static class KeyedStateReaderFunctionImpl extends KeyedStateReaderFunction&lt;String, KeyedAssetTagWithConfig&gt; {\n\n    private MapState&lt;String, KeyedAssetTagWithConfig&gt; liveTagsValues;\n    private Map&lt;String, KeyedAssetTagWithConfig&gt; keyToValues = new ConcurrentHashMap&lt;&gt;();\n\n    @Override\n    public void open(final Configuration parameters) throws Exception {\n        liveTagsValues = getRuntimeContext().getMapState(ExpressionsProcessor.liveTagsValuesStateDescriptor);\n    }\n\n    @Override\n    public void readKey(final String key, final Context ctx, final Collector&lt;KeyedAssetTagWithConfig&gt; out) throws Exception {\n        liveTagsValues.iterator().forEachRemaining(entry -&gt; {\n            keyToValues.put(entry.getKey(), entry.getValue());\n        log.info(&quot;key {} -&gt; {} val&quot;, entry.getKey(), entry.getValue());\n            out.collect(entry.getValue());\n        });\n    }\n\n    public Map&lt;String, KeyedAssetTagWithConfig&gt; getKeyToValues() {\n        return keyToValues;\n    }\n}\n</code></pre>\n<p>as soon as this code executes I expect having all values inside map which we get from <code>keyedStateReaderFunction.getKeyToValues()</code>. But it returns empty map. However, I see in logs we are reading all of them properly. Even data empty inside <code>keyedAssetsTagWithConfigs</code> list where we are reading output in it.</p>\n<p>If anyone has any idea will be very helpful because I get lost, I never had such experience that I put data to map and then I lose it :) When I serialize and write my map or list to text file and then deserialize it from there (using jackson) I see my data exists, but this is not a solution, kind of &quot;workaround&quot;</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","r","visual-studio-code","jupyter-notebook","tabulizer"],"comments":[{"owner":{"account_id":3094993,"reputation":356,"user_id":2620381,"display_name":"Frederick Solt"},"score":0,"creation_date":1639252768,"post_id":69864050,"comment_id":124303164,"body_markdown":"Welp, you&#39;re a step ahead of me: I get the same error also in the console on my arm64 MBP running R 4.1.2, rJava 1.0-6, Java jdk-17.0.1.jdk, and tabulizer 0.2.2.","body":"Welp, you&#39;re a step ahead of me: I get the same error also in the console on my arm64 MBP running R 4.1.2, rJava 1.0-6, Java jdk-17.0.1.jdk, and tabulizer 0.2.2."},{"owner":{"account_id":3094993,"reputation":356,"user_id":2620381,"display_name":"Frederick Solt"},"score":1,"creation_date":1639670218,"post_id":69864050,"comment_id":124413360,"body_markdown":"Okay, I got this figured out, at least on my machine.  See here: https://stackoverflow.com/a/70381999/2620381","body":"Okay, I got this figured out, at least on my machine.  See here: <a href=\"https://stackoverflow.com/a/70381999/2620381\">stackoverflow.com/a/70381999/2620381</a>"}],"owner":{"account_id":20289894,"reputation":21,"user_id":14881778,"display_name":"Pablo Ballesteros"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654706093,"creation_date":1636202405,"question_id":69864050,"body_markdown":"    library(tabulizer)\r\n    f &lt;- system.file(&quot;examples&quot;, &quot;data.pdf&quot;, package = &quot;tabulizer&quot;)\r\n    f1 &lt;-  extract_tables(f,output = &quot;data.frame&quot;)\r\n    f1[[1]]\r\n\r\nRunning the previous R command in a jupyter-notebook at VSCode outputs the error:\r\n\r\n&gt; ERROR: Error in .jcall(&quot;RJavaTools&quot;, &quot;Ljava/lang/Object;&quot;,\r\n&gt; &quot;invokeMethod&quot;, cl, : java.lang.IllegalAccessException: class\r\n&gt; RJavaTools cannot access a member of class java.util.ArrayList$Itr (in\r\n&gt; module java.base) with modifiers &quot;public&quot; Error in\r\n&gt; .jcall(&quot;RJavaTools&quot;, &quot;Ljava/lang/Object;&quot;, &quot;invokeMethod&quot;, cl, :\r\n&gt; java.lang.IllegalAccessException: class RJavaTools cannot access a\r\n&gt; member of class java.util.ArrayList$Itr (in module java.base) with\r\n&gt; modifiers &quot;public&quot; Traceback:\r\n&gt; \r\n&gt; 1. extract_tables(f, output = &quot;data.frame&quot;)\r\n&gt; 2. guessesIterator$hasNext()\r\n&gt; 3. .jrcall(x, name, ...)\r\n&gt; 4. .jcall(&quot;RJavaTools&quot;, &quot;Ljava/lang/Object;&quot;, &quot;invokeMethod&quot;, cl,   .     .jcast(if (inherits(o, &quot;jobjRef&quot;) || inherits(o, &quot;jarrayRef&quot;)) o else\r\n&gt; cl,   .         &quot;java/lang/Object&quot;), .jnew(&quot;java/lang/String&quot;,\r\n&gt; method),   .     j_p, j_pc, use.true.class = TRUE, evalString =\r\n&gt; simplify,   .     evalArray = FALSE)\r\n&gt; 5. .jcheck(silent = FALSE)\r\n\r\nBut not when running in the R console.\r\n\r\nThanks in advance.\r\n\r\n*I am running Java 11 (I also tried the 17 version, but the problem remains)","title":"Error with extract_tables function when running in it in a jupyter-notebook but not in console","body":"<pre><code>library(tabulizer)\nf &lt;- system.file(&quot;examples&quot;, &quot;data.pdf&quot;, package = &quot;tabulizer&quot;)\nf1 &lt;-  extract_tables(f,output = &quot;data.frame&quot;)\nf1[[1]]\n</code></pre>\n<p>Running the previous R command in a jupyter-notebook at VSCode outputs the error:</p>\n<blockquote>\n<p>ERROR: Error in .jcall(&quot;RJavaTools&quot;, &quot;Ljava/lang/Object;&quot;,\n&quot;invokeMethod&quot;, cl, : java.lang.IllegalAccessException: class\nRJavaTools cannot access a member of class java.util.ArrayList$Itr (in\nmodule java.base) with modifiers &quot;public&quot; Error in\n.jcall(&quot;RJavaTools&quot;, &quot;Ljava/lang/Object;&quot;, &quot;invokeMethod&quot;, cl, :\njava.lang.IllegalAccessException: class RJavaTools cannot access a\nmember of class java.util.ArrayList$Itr (in module java.base) with\nmodifiers &quot;public&quot; Traceback:</p>\n<ol>\n<li>extract_tables(f, output = &quot;data.frame&quot;)</li>\n<li>guessesIterator$hasNext()</li>\n<li>.jrcall(x, name, ...)</li>\n<li>.jcall(&quot;RJavaTools&quot;, &quot;Ljava/lang/Object;&quot;, &quot;invokeMethod&quot;, cl,   .     .jcast(if (inherits(o, &quot;jobjRef&quot;) || inherits(o, &quot;jarrayRef&quot;)) o else\ncl,   .         &quot;java/lang/Object&quot;), .jnew(&quot;java/lang/String&quot;,\nmethod),   .     j_p, j_pc, use.true.class = TRUE, evalString =\nsimplify,   .     evalArray = FALSE)</li>\n<li>.jcheck(silent = FALSE)</li>\n</ol>\n</blockquote>\n<p>But not when running in the R console.</p>\n<p>Thanks in advance.</p>\n<p>*I am running Java 11 (I also tried the 17 version, but the problem remains)</p>\n"},{"tags":["java","spring","spring-boot","yaml","microservices"],"answers":[{"tags":[],"owner":{"account_id":2139209,"reputation":49,"user_id":1898299,"display_name":"user1898299"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654698669,"creation_date":1654698669,"answer_id":72547550,"question_id":72547261,"body_markdown":"in your yml, what you have is formatted in a &quot;.properties&#39; file format, you need to format your property to yml format. So, your yml file should be in the format (something like this):\r\n\r\n    spring:\r\n      profiles:\r\n        active: dev\r\n      config:\r\n        activate:\r\n      onProfile: dev\r\n    \r\n    application:\r\n      id : dev-app\r\n\r\netc...\r\n","title":"Getting null values while reading application.yaml file in java","body":"<p>in your yml, what you have is formatted in a &quot;.properties' file format, you need to format your property to yml format. So, your yml file should be in the format (something like this):</p>\n<pre><code>spring:\n  profiles:\n    active: dev\n  config:\n    activate:\n  onProfile: dev\n\napplication:\n  id : dev-app\n</code></pre>\n<p>etc...</p>\n"}],"owner":{"account_id":10283836,"reputation":74,"user_id":7587887,"display_name":"Digres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":954,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654706077,"creation_date":1654697565,"question_id":72547261,"body_markdown":"I am trying to fetch the data from my application.yaml file which contain profile details, into variables\r\n\r\napplication.yaml file contents\r\n\r\n    spring.profiles.active: dev\r\n    ---\r\n    spring.config.activate.on-profile: dev\r\n    \r\n    application.id : dev-app\r\n    my.server : localhost:8080\r\n    ---\r\n    spring.config.activate.on-profile: uat\r\n    \r\n    application.id : uat-app\r\n    my.server : localhost:8081\r\n\r\nApp.java\r\n \r\n\r\n    @SpringBootApplication\r\n    public class App {\r\n\r\n    @Value(&quot;${application.id}&quot;)\r\n    private String applicationId;\r\n\r\n    @Value(&quot;${my.server}&quot;)\r\n    private String server;\r\n\r\n     public static void main(String args[]) {\r\n\r\n        SpringApplication.run(App.class, args);\r\n\r\n        App app = new App();\r\n        app.display();\r\n\r\n    }\r\n\r\n    public void display(){\r\n       System.out.println(&quot;Application Id : &quot;+ applicationId);\r\n       System.out.println(&quot;Server : &quot;+ server);\r\n    }\r\n\r\n    }\r\n\r\nOutput:\r\n\r\n```none\r\n2022-06-08 19:38:29 main INFO  App:640 - The following 1 profile is active: &quot;dev&quot;\r\n2022-06-08 19:38:30 main INFO  App:61 - Started App in 2.266 seconds (JVM running for 3.345)\r\nApplication Id : null\r\nServer : null\r\n```\r\n\r\nCould you please help me to understand why it is not picking the values from yaml file?\r\n","title":"Getting null values while reading application.yaml file in java","body":"<p>I am trying to fetch the data from my application.yaml file which contain profile details, into variables</p>\n<p>application.yaml file contents</p>\n<pre><code>spring.profiles.active: dev\n---\nspring.config.activate.on-profile: dev\n\napplication.id : dev-app\nmy.server : localhost:8080\n---\nspring.config.activate.on-profile: uat\n\napplication.id : uat-app\nmy.server : localhost:8081\n</code></pre>\n<p>App.java</p>\n<pre><code>@SpringBootApplication\npublic class App {\n\n@Value(&quot;${application.id}&quot;)\nprivate String applicationId;\n\n@Value(&quot;${my.server}&quot;)\nprivate String server;\n\n public static void main(String args[]) {\n\n    SpringApplication.run(App.class, args);\n\n    App app = new App();\n    app.display();\n\n}\n\npublic void display(){\n   System.out.println(&quot;Application Id : &quot;+ applicationId);\n   System.out.println(&quot;Server : &quot;+ server);\n}\n\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-06-08 19:38:29 main INFO  App:640 - The following 1 profile is active: &quot;dev&quot;\n2022-06-08 19:38:30 main INFO  App:61 - Started App in 2.266 seconds (JVM running for 3.345)\nApplication Id : null\nServer : null\n</code></pre>\n<p>Could you please help me to understand why it is not picking the values from yaml file?</p>\n"},{"tags":["java","loops","optimization","methods"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654705591,"creation_date":1654705591,"answer_id":72549188,"question_id":72548725,"body_markdown":"You must wrap the method invocations in a function to achieve that. [Consumer][1] is a good candidate for your case.\r\n\r\n&gt; Represents an operation that accepts a single input argument and returns no result\r\n\r\nAn implementation may look like this:\r\n```\r\nclass MethodInvocation implements Consumer&lt;A&gt; {\r\n\r\n    @Override\r\n    public void accept(A a) {\r\n      a.doSomethingA();\r\n    }\r\n  }\r\n```\r\nThat&#39;s too long to do for every method invocation and since `Consumer` is a functional interface, we can just use lambdas or method references.\r\n```\r\npublic class Temp {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    A objA = new A();\r\n    List&lt;Consumer&lt;A&gt;&gt; consumers = Arrays.asList(a -&gt; a.doSomethingA(), A::doSomethingB, A::doSomethingC);\r\n    for (Consumer&lt;A&gt; consumer : consumers) {\r\n      consumer.accept(objA);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html","title":"Java call multiple selected methods in a loop","body":"<p>You must wrap the method invocations in a function to achieve that. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\" rel=\"nofollow noreferrer\">Consumer</a> is a good candidate for your case.</p>\n<blockquote>\n<p>Represents an operation that accepts a single input argument and returns no result</p>\n</blockquote>\n<p>An implementation may look like this:</p>\n<pre><code>class MethodInvocation implements Consumer&lt;A&gt; {\n\n    @Override\n    public void accept(A a) {\n      a.doSomethingA();\n    }\n  }\n</code></pre>\n<p>That's too long to do for every method invocation and since <code>Consumer</code> is a functional interface, we can just use lambdas or method references.</p>\n<pre><code>public class Temp {\n\n  public static void main(String[] args) throws Exception {\n    A objA = new A();\n    List&lt;Consumer&lt;A&gt;&gt; consumers = Arrays.asList(a -&gt; a.doSomethingA(), A::doSomethingB, A::doSomethingC);\n    for (Consumer&lt;A&gt; consumer : consumers) {\n      consumer.accept(objA);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654705924,"creation_date":1654705924,"answer_id":72549260,"question_id":72548725,"body_markdown":"Just another solution:\r\n\r\n    public class A {\r\n        public void doSomethingA(){\r\n            System.out.println(&quot;Calling doSomethingA&quot;);\r\n        }\r\n        public void doSomethingB(){\r\n            System.out.println(&quot;Calling doSomethingB&quot;);\r\n        }\r\n        public void doSomethingC(){\r\n            System.out.println(&quot;Calling doSomethingC&quot;);\r\n        }\r\n        public void verifySomethingXYZ(){\r\n            System.out.println(&quot;Calling verifySomethingXYZ&quot;);\r\n        }\r\n        public void verifySomethingLMN(){\r\n            System.out.println(&quot;Calling verifySomethingLMN&quot;);\r\n        }\r\n    }\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; methodsToCall = new ArrayList&lt;&gt;(Arrays.asList(&quot;doSomethingA&quot;, &quot;doSomethingB&quot;, &quot;doSomethingC&quot;));\r\n            callDesiredMethods(methodsToCall);\r\n        }\r\n    \r\n        public static void callDesiredMethods(List&lt;String&gt; methodsToCall) {\r\n            Class clazz = A.class;\r\n            Method[] methods = clazz.getMethods();\r\n            for (Method method : methods) {\r\n                if (methodsToCall.contains(method.getName())) {\r\n                    try {\r\n                        method.invoke(clazz.newInstance());\r\n                    } catch (IllegalAccessException e) {\r\n                        e.printStackTrace();\r\n                    } catch (InvocationTargetException e) {\r\n                        e.printStackTrace();\r\n                    } catch (InstantiationException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Java call multiple selected methods in a loop","body":"<p>Just another solution:</p>\n<pre><code>public class A {\n    public void doSomethingA(){\n        System.out.println(&quot;Calling doSomethingA&quot;);\n    }\n    public void doSomethingB(){\n        System.out.println(&quot;Calling doSomethingB&quot;);\n    }\n    public void doSomethingC(){\n        System.out.println(&quot;Calling doSomethingC&quot;);\n    }\n    public void verifySomethingXYZ(){\n        System.out.println(&quot;Calling verifySomethingXYZ&quot;);\n    }\n    public void verifySomethingLMN(){\n        System.out.println(&quot;Calling verifySomethingLMN&quot;);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;String&gt; methodsToCall = new ArrayList&lt;&gt;(Arrays.asList(&quot;doSomethingA&quot;, &quot;doSomethingB&quot;, &quot;doSomethingC&quot;));\n        callDesiredMethods(methodsToCall);\n    }\n\n    public static void callDesiredMethods(List&lt;String&gt; methodsToCall) {\n        Class clazz = A.class;\n        Method[] methods = clazz.getMethods();\n        for (Method method : methods) {\n            if (methodsToCall.contains(method.getName())) {\n                try {\n                    method.invoke(clazz.newInstance());\n                } catch (IllegalAccessException e) {\n                    e.printStackTrace();\n                } catch (InvocationTargetException e) {\n                    e.printStackTrace();\n                } catch (InstantiationException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25441337,"reputation":3,"user_id":19244220,"display_name":"Steven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72549260,"answer_count":2,"score":0,"last_activity_date":1654705924,"creation_date":1654703524,"question_id":72548725,"body_markdown":"I&#39;m looking for some help in optimizing my code and write it using less number of lines. I have a Class say A which has few methods defined like below:\r\n\r\n    Class A{\r\n        public void doSomethingA(){\r\n        }\r\n        public void doSomethingB(){\r\n        }\r\n        public void doSomethingC(){\r\n        }\r\n        public void verifySomethingXYZ(){\r\n        }\r\n        public void verifySomethingLMN(){\r\n        }\r\n    }\r\nNow I have a separate class say B and methods written like below\r\n\r\n    Class B{\r\n        public void test(){\r\n        }\r\n\r\n        public void verifyMyMethods(){\r\n\r\n        A objA = new A();\r\n        objA.doSomethingA();\r\n        test();\r\n        objA.doSomethingB();\r\n        test();\r\n        objA.doSomethingC();\r\n        test();\r\n        }\r\n    }\r\n\r\nAll of this code runs well. I&#39;m just trying to see if there is a better way I can keep calling those methods like objA.doSomethingA() inside verifyMyMethods() so I can do the same work using less number of code lines.\r\n\r\nI would like to call methods doSomethingA(), doSomethingB(), doSomethingC() etc. in a loop. But not sure how it can be done. One approach was to use Java.lang.Class.getMethod(). But this will return all the methods defined in a class.\r\n\r\nI did check this [https://stackoverflow.com/questions/12566107/how-to-call-multiple-methods-using-loop-in-java ] exisitng post, but my problem is I just do not want to call all the methods defined inside class A. Only some of them. And since I will be calling some 10-20 methods from Class A in Class B, I would like to do this in slightly better fashion.\r\n\r\nThere is another solution I saw in Python [https://stackoverflow.com/questions/55458933/how-to-call-multiple-methods-of-a-class-in-a-loop] \r\n\r\n    name = YourClass()\r\n    methods = [name.alex,  name.john, name.claire ] # ...\r\n\r\n    for m in methods:\r\n        m()\r\n\r\nBut how can this be done in Java? Here is what I tried. But it gives null pointer exception.\r\n\r\n    public void try(){\r\n        List&lt;String&gt; l = Lists.newArrayList(&quot;objA.doSomethingA&quot;,&quot;objA.doSomethingB&quot;,&quot;objA.doSomethingC&quot;);\r\n        for (String i : l){\r\n            try{\r\n                Method mett =objA.getClass().getMethod(i); // null pointer exception thrown for this line\r\n                mett.invoke(i);\r\n            } catch (NoSuchMethodException | SecurityException | IllegalAccessException | IllegalArgumentException | InvocationTargetException e){\r\n            }\r\n        }\r\n  \r\n","title":"Java call multiple selected methods in a loop","body":"<p>I'm looking for some help in optimizing my code and write it using less number of lines. I have a Class say A which has few methods defined like below:</p>\n<pre><code>Class A{\n    public void doSomethingA(){\n    }\n    public void doSomethingB(){\n    }\n    public void doSomethingC(){\n    }\n    public void verifySomethingXYZ(){\n    }\n    public void verifySomethingLMN(){\n    }\n}\n</code></pre>\n<p>Now I have a separate class say B and methods written like below</p>\n<pre><code>Class B{\n    public void test(){\n    }\n\n    public void verifyMyMethods(){\n\n    A objA = new A();\n    objA.doSomethingA();\n    test();\n    objA.doSomethingB();\n    test();\n    objA.doSomethingC();\n    test();\n    }\n}\n</code></pre>\n<p>All of this code runs well. I'm just trying to see if there is a better way I can keep calling those methods like objA.doSomethingA() inside verifyMyMethods() so I can do the same work using less number of code lines.</p>\n<p>I would like to call methods doSomethingA(), doSomethingB(), doSomethingC() etc. in a loop. But not sure how it can be done. One approach was to use Java.lang.Class.getMethod(). But this will return all the methods defined in a class.</p>\n<p>I did check this [https://stackoverflow.com/questions/12566107/how-to-call-multiple-methods-using-loop-in-java ] exisitng post, but my problem is I just do not want to call all the methods defined inside class A. Only some of them. And since I will be calling some 10-20 methods from Class A in Class B, I would like to do this in slightly better fashion.</p>\n<p>There is another solution I saw in Python [https://stackoverflow.com/questions/55458933/how-to-call-multiple-methods-of-a-class-in-a-loop]</p>\n<pre><code>name = YourClass()\nmethods = [name.alex,  name.john, name.claire ] # ...\n\nfor m in methods:\n    m()\n</code></pre>\n<p>But how can this be done in Java? Here is what I tried. But it gives null pointer exception.</p>\n<pre><code>public void try(){\n    List&lt;String&gt; l = Lists.newArrayList(&quot;objA.doSomethingA&quot;,&quot;objA.doSomethingB&quot;,&quot;objA.doSomethingC&quot;);\n    for (String i : l){\n        try{\n            Method mett =objA.getClass().getMethod(i); // null pointer exception thrown for this line\n            mett.invoke(i);\n        } catch (NoSuchMethodException | SecurityException | IllegalAccessException | IllegalArgumentException | InvocationTargetException e){\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","unit-testing","testing","spring-cloud-contract"],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653380300,"creation_date":1653297785,"answer_id":72346136,"question_id":72345769,"body_markdown":"You can press the green button. Just ensure that the generated tests are there on the classpath in your ide. Even without that, you can run `mvn test -Dtest=&quot;NameOfYourClass#nameOfYourTest&quot;` to run a single test with Maven.\r\n\r\nTo speed things up, in order to both generate the tests and run a single one you can run `mvn org.springframework.cloud:spring-cloud-contract-maven-plugin:generateTests test -Dtest=&quot;NameOfYourGeneratedTestClass#nameOfYourGeneratedTest&quot;`","title":"How to generate and run a single contract test without building all the unit and contract tests in the project? Java Spring Cloud Contract Verifier","body":"<p>You can press the green button. Just ensure that the generated tests are there on the classpath in your ide. Even without that, you can run <code>mvn test -Dtest=&quot;NameOfYourClass#nameOfYourTest&quot;</code> to run a single test with Maven.</p>\n<p>To speed things up, in order to both generate the tests and run a single one you can run <code>mvn org.springframework.cloud:spring-cloud-contract-maven-plugin:generateTests test -Dtest=&quot;NameOfYourGeneratedTestClass#nameOfYourGeneratedTest&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":25192367,"reputation":55,"user_id":19032411,"display_name":"stakeika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654705588,"creation_date":1654705588,"answer_id":72549186,"question_id":72345769,"body_markdown":"The solution I&#39;ve come up with so far is using **Tag**.\r\n1) Add plugin to **pom**:\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;groups&gt;MyTest&lt;/groups&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n2) Add `@Tag(&quot;MyTest&quot;)` on **BaseTestClass**. It can be any other string instead of &quot;MyTest&quot;, just don&#39;t forget to change it in all the places.\r\n3) Call **maven command**: `mvn clean test -Dgroups=&quot;MyTest&quot;`.\r\n\r\nResult: it saves a little time. Now it gonna work only with contract tests, not unit tests. All test classes are generated (unfortunately not only chosen BaseTestClass). Then, only chosen test class is launched automatically.","title":"How to generate and run a single contract test without building all the unit and contract tests in the project? Java Spring Cloud Contract Verifier","body":"<p>The solution I've come up with so far is using <strong>Tag</strong>.</p>\n<ol>\n<li><p>Add plugin to <strong>pom</strong>:</p>\n<pre><code> &lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n     &lt;configuration&gt;\n         &lt;groups&gt;MyTest&lt;/groups&gt;\n     &lt;/configuration&gt;\n &lt;/plugin&gt;\n</code></pre>\n</li>\n<li><p>Add <code>@Tag(&quot;MyTest&quot;)</code> on <strong>BaseTestClass</strong>. It can be any other string instead of &quot;MyTest&quot;, just don't forget to change it in all the places.</p>\n</li>\n<li><p>Call <strong>maven command</strong>: <code>mvn clean test -Dgroups=&quot;MyTest&quot;</code>.</p>\n</li>\n</ol>\n<p>Result: it saves a little time. Now it gonna work only with contract tests, not unit tests. All test classes are generated (unfortunately not only chosen BaseTestClass). Then, only chosen test class is launched automatically.</p>\n"}],"owner":{"account_id":25192367,"reputation":55,"user_id":19032411,"display_name":"stakeika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654705588,"creation_date":1653296092,"question_id":72345769,"body_markdown":"I&#39;m new to contract testing. To run tests I use maven command `mvn clean test`. It runs all the tests in my project, spring cloud generates contract test classes and whole process takes a lot of time. When developing tests I want to check it quickly (generate and run). I wonder if there is any way to run only one test. For unit tests it is simple - just press green triangle against the method/class. But in my case contract tests are generated from groovy + java base test class. So I can&#39;t just press the green button.\r\nI tried using junit annotation `@Category`, it partially helps. I put the annotation on one BaseTestClass hoping it gonna build only current class. Instead it builds all the contract tests. It saves a little time, but not so much. And I have to run tests manually by going to targer folder.\r\nAlso I tried `@Tag`, it is a bit more convenient because it not only builds but also runs tests.","title":"How to generate and run a single contract test without building all the unit and contract tests in the project? Java Spring Cloud Contract Verifier","body":"<p>I'm new to contract testing. To run tests I use maven command <code>mvn clean test</code>. It runs all the tests in my project, spring cloud generates contract test classes and whole process takes a lot of time. When developing tests I want to check it quickly (generate and run). I wonder if there is any way to run only one test. For unit tests it is simple - just press green triangle against the method/class. But in my case contract tests are generated from groovy + java base test class. So I can't just press the green button.\nI tried using junit annotation <code>@Category</code>, it partially helps. I put the annotation on one BaseTestClass hoping it gonna build only current class. Instead it builds all the contract tests. It saves a little time, but not so much. And I have to run tests manually by going to targer folder.\nAlso I tried <code>@Tag</code>, it is a bit more convenient because it not only builds but also runs tests.</p>\n"},{"tags":["java","json","spring","hashmap"],"comments":[{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":1,"creation_date":1654611904,"post_id":72532876,"comment_id":128128726,"body_markdown":"add what you have tried in your code, what is the current output ad how you want it. That will help us to help you","body":"add what you have tried in your code, what is the current output ad how you want it. That will help us to help you"},{"owner":{"account_id":25224710,"reputation":1,"user_id":19060741,"display_name":"rrg"},"score":0,"creation_date":1654612241,"post_id":72532876,"comment_id":128128865,"body_markdown":"I want to send JSON (&quot;direction&quot; : 90) and get response from localhos (&quot;E&quot;), for example. It is work for (&quot;direction&quot; : &quot;E&quot;) - response is (90) because key - &quot;E&quot;, value - 90. I need to work it reverse by sending value, not key. Sorry if complicated - not good at English.","body":"I want to send JSON (&quot;direction&quot; : 90) and get response from localhos (&quot;E&quot;), for example. It is work for (&quot;direction&quot; : &quot;E&quot;) - response is (90) because key - &quot;E&quot;, value - 90. I need to work it reverse by sending value, not key. Sorry if complicated - not good at English."},{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1654613102,"post_id":72532876,"comment_id":128129265,"body_markdown":"please add code, not images","body":"please add code, not images"}],"answers":[{"tags":[],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654705449,"creation_date":1654665509,"answer_id":72540397,"question_id":72532876,"body_markdown":"If I understand it correctly, you want to input the range values like[from your question] `337-359, 0-21`  or `22-66` and want the response of the keys `North` and \r\n`North-East` respectively.&lt;br&gt;\r\nFor that, you can try this way[I know this is not a good solution, but it should work]\r\n\r\n    compassModel.entrySet()\r\n                  .stream()\r\n                  .filter(entry -&gt; Objects.equals(entry.getValue(), your_hashmap_value))\r\n                  .map(Map.Entry::getKey)\r\n                  .collect(Collectors.toSet());\r\n\r\n`your_hashmap_value` this is the hashmap value you get from your request.\r\n\r\nLet me know if this works for you or not.","title":"Obtaining key by sending value (HashMap) through GET Method with @GetMapping","body":"<p>If I understand it correctly, you want to input the range values like[from your question] <code>337-359, 0-21</code>  or <code>22-66</code> and want the response of the keys <code>North</code> and\n<code>North-East</code> respectively.<br>\nFor that, you can try this way[I know this is not a good solution, but it should work]</p>\n<pre><code>compassModel.entrySet()\n              .stream()\n              .filter(entry -&gt; Objects.equals(entry.getValue(), your_hashmap_value))\n              .map(Map.Entry::getKey)\n              .collect(Collectors.toSet());\n</code></pre>\n<p><code>your_hashmap_value</code> this is the hashmap value you get from your request.</p>\n<p>Let me know if this works for you or not.</p>\n"}],"owner":{"account_id":25224710,"reputation":1,"user_id":19060741,"display_name":"rrg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654705449,"creation_date":1654611769,"question_id":72532876,"body_markdown":"[Compass itself][1], [For Controller][2] Creating simple compass by Spring, where in HashMap: keys are directions (N,W,S,E) and values are degrees (0-360) - how to get key in response by sending value? Is it possible to get key through value? (@GetMapping, JSON). When I&#39;m run Postman for direction (JSON / &quot;direction&quot; : &quot;W&quot;) - it is works fine, and response by range of degrees for West, but how to use range of degrees (values in my HashMap) to get in response direction (keys in my HashMap - &quot;W&quot;, for example). If anyone can explain, even without code examples for I can understand which way to search.\r\n\r\nCode for Compass itself:\r\n\r\n    public class CompassModel implements Serializable {\r\n\r\n    private static final CompassModel instance = new CompassModel();\r\n\r\n    private final Map&lt;String, Compass&gt; compassModel;\r\n\r\n    public CompassModel() {\r\n        compassModel = new HashMap&lt;String, Compass&gt;();\r\n\r\n        compassModel.put(&quot;North&quot;, new Compass(&quot;337-359, 0-21&quot;));\r\n        compassModel.put(&quot;North-East&quot;, new Compass(&quot;22-66&quot;));\r\n        compassModel.put(&quot;East&quot;, new Compass(&quot;67-111&quot;));\r\n        compassModel.put(&quot;East-South&quot;, new Compass(&quot;112-156&quot;));\r\n        compassModel.put(&quot;South&quot;, new Compass(&quot;157-201&quot;));\r\n        compassModel.put(&quot;South-West&quot;, new Compass(&quot;202-246&quot;));\r\n        compassModel.put(&quot;West&quot;, new Compass(&quot;247-291&quot;));\r\n        compassModel.put(&quot;West-North&quot;, new Compass(&quot;292-336&quot;));\r\n    }\r\n\r\n    public static CompassModel getInstance() {\r\n        return instance;\r\n    }\r\n\r\n    public Compass getCompass(String arrow) {\r\n        return compassModel.get(arrow);\r\n    }\r\n\r\n    public Map&lt;String, Compass&gt; getAllCompass() {\r\n        return compassModel;\r\n    }\r\n}\r\n\r\nCode for Controller:\r\n\r\n\r\n\r\nprivate static final CompassModel compass = CompassModel.getInstance();\r\n\r\n    @GetMapping(value = &quot;/getCompass&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;)\r\n    public Compass getCompass(@RequestBody Map&lt;String, String&gt; compassArrow) {\r\n        return compass.getCompass(compassArrow.get(&quot;direction&quot;));\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getAllCompass&quot;, produces = &quot;application/json&quot;)\r\n    public Map&lt;String, Compass&gt; getAllCompass() {\r\n        return compass.getAllCompass();\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/Lnt4S.png\r\n  [2]: https://i.stack.imgur.com/JcxuF.png","title":"Obtaining key by sending value (HashMap) through GET Method with @GetMapping","body":"<p><a href=\"https://i.stack.imgur.com/Lnt4S.png\" rel=\"nofollow noreferrer\">Compass itself</a>, <a href=\"https://i.stack.imgur.com/JcxuF.png\" rel=\"nofollow noreferrer\">For Controller</a> Creating simple compass by Spring, where in HashMap: keys are directions (N,W,S,E) and values are degrees (0-360) - how to get key in response by sending value? Is it possible to get key through value? (@GetMapping, JSON). When I'm run Postman for direction (JSON / &quot;direction&quot; : &quot;W&quot;) - it is works fine, and response by range of degrees for West, but how to use range of degrees (values in my HashMap) to get in response direction (keys in my HashMap - &quot;W&quot;, for example). If anyone can explain, even without code examples for I can understand which way to search.</p>\n<p>Code for Compass itself:</p>\n<pre><code>public class CompassModel implements Serializable {\n\nprivate static final CompassModel instance = new CompassModel();\n\nprivate final Map&lt;String, Compass&gt; compassModel;\n\npublic CompassModel() {\n    compassModel = new HashMap&lt;String, Compass&gt;();\n\n    compassModel.put(&quot;North&quot;, new Compass(&quot;337-359, 0-21&quot;));\n    compassModel.put(&quot;North-East&quot;, new Compass(&quot;22-66&quot;));\n    compassModel.put(&quot;East&quot;, new Compass(&quot;67-111&quot;));\n    compassModel.put(&quot;East-South&quot;, new Compass(&quot;112-156&quot;));\n    compassModel.put(&quot;South&quot;, new Compass(&quot;157-201&quot;));\n    compassModel.put(&quot;South-West&quot;, new Compass(&quot;202-246&quot;));\n    compassModel.put(&quot;West&quot;, new Compass(&quot;247-291&quot;));\n    compassModel.put(&quot;West-North&quot;, new Compass(&quot;292-336&quot;));\n}\n\npublic static CompassModel getInstance() {\n    return instance;\n}\n\npublic Compass getCompass(String arrow) {\n    return compassModel.get(arrow);\n}\n\npublic Map&lt;String, Compass&gt; getAllCompass() {\n    return compassModel;\n}\n</code></pre>\n<p>}</p>\n<p>Code for Controller:</p>\n<p>private static final CompassModel compass = CompassModel.getInstance();</p>\n<pre><code>@GetMapping(value = &quot;/getCompass&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;)\npublic Compass getCompass(@RequestBody Map&lt;String, String&gt; compassArrow) {\n    return compass.getCompass(compassArrow.get(&quot;direction&quot;));\n}\n\n@GetMapping(value = &quot;/getAllCompass&quot;, produces = &quot;application/json&quot;)\npublic Map&lt;String, Compass&gt; getAllCompass() {\n    return compass.getAllCompass();\n}\n</code></pre>\n"},{"tags":["java","multithreading","mutex","semaphore"],"comments":[{"owner":{"account_id":1887489,"reputation":8619,"user_id":4811873,"accept_rate":6,"display_name":"Mike Robinson"},"score":0,"creation_date":1654708269,"post_id":72549140,"comment_id":128158127,"body_markdown":"This looks suspiciously like *homework.*  And if this is the case, &quot;your instructor should be the person you go to for help.&quot;  Perhaps many people in your class are having similar problems, and this is how an instructor realizes that more explanation is needed in a future classroom session.","body":"This looks suspiciously like <i>homework.</i>  And if this is the case, &quot;your instructor should be the person you go to for help.&quot;  Perhaps many people in your class are having similar problems, and this is how an instructor realizes that more explanation is needed in a future classroom session."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1654710755,"post_id":72549140,"comment_id":128158983,"body_markdown":"What is the purpose of `synchronized(this)` in each of your two `run()` methods?","body":"What is the purpose of <code>synchronized(this)</code> in each of your two <code>run()</code> methods?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1654711069,"post_id":72549140,"comment_id":128159093,"body_markdown":"The exception almost certainly is thrown from `...erMutex.WorkingQueue.notifyAll()`. You are not using `notifyAll()` in the way it was intended. See [the javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()), and also see [this tutorial](https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html).","body":"The exception almost certainly is thrown from <code>...erMutex.WorkingQueue.notifyAll()</code>. You are not using <code>notifyAll()</code> in the way it was intended. See <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()\" rel=\"nofollow noreferrer\">the javadoc</a>, and also see <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\" rel=\"nofollow noreferrer\">this tutorial</a>."}],"owner":{"account_id":24336958,"reputation":78,"user_id":18274868,"display_name":"Clytax"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654706279,"answer_count":0,"score":0,"last_activity_date":1654705365,"creation_date":1654705365,"question_id":72549140,"body_markdown":"we are currently working on a university project where we need to build a parking garage where there are Producers who &quot;park&quot; the cars and Consumers who &quot;remove&quot; the cars from the parking garage. Each Consumer and Producer needs to live on their own thread and we also MUST use Mutex/Semaphores OR Lock OR Monitor to allow exclusive access to the garage. Our problem now is that we don&#39;t know how to access and notify consumers from the producer thread (and vice versa). When we run it, this error comes: \r\n\r\n``` \r\njava.lang.IllegalMonitorStateException: current thread is not owner\r\n```\r\nI have linked the source code below. Whenever the garage is empty, the consumer is &quot;sleeping&quot; (we think that means .wait() ) and if it was full before he took a car, he must wake up ALL sleeping producers. Also if the garage was empty before the producer took the car off, he has to wake up ALL sleeping consumers. \r\n\r\nWe have no idea if the way we approached it is correct or just complete nonsense. So if you have an idea or a hint, we would be very grateful!\r\n\r\n\r\n\r\n\r\n**Consumer Class**\r\n```\r\npackage prog;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Consumer implements Runnable {\r\n\t\r\n\tprivate static int PARKING_GARAGE_SIZE = 4;\r\n\t\r\n\tMutex consumerMutex;\r\n\tMutex producerMutex;\r\n\tBuffer&lt;Car&gt; carBuffer;\r\n\tThread currentThread;\r\n    \r\n    public Consumer(Buffer&lt;Car&gt; carBuffer, Mutex consumerMutex, Mutex producerMutex) {\r\n    \t this.carBuffer = carBuffer;\r\n    \t this.consumerMutex = consumerMutex;\r\n    \t this.producerMutex = producerMutex;\r\n    \t //this.run();\r\n    }\r\n    \r\n    public void run() {\r\n    \tSystem.out.println(&quot;Consumer l&#195;&#164;uft&quot;);\r\n        int counter = 1;\r\n        synchronized(this) {\r\n            try {\r\n                while (true) {\r\n                    System.out.println(&quot;Consumer-Schleife beginnt&quot;);\r\n                \tcurrentThread = Thread.currentThread();\r\n                    String threadName = currentThread.getName() + counter++;\r\n                   \r\n                    //consumerMutex.semaphore.acquire();\r\n                    \tconsumerMutex.mutex.acquire();\r\n                        \tSystem.out.println(&quot;Mutex acquired&quot;);\r\n                    \t\tconsumerMutex.WorkingQueue.add(currentThread);\r\n                    \t\tSystem.out.println(&quot;Consumers consumes on thread: &quot; + threadName);    \r\n                    \t\t\r\n                    \t\tif(carBuffer.full()) {\r\n                            \tSystem.out.println(&quot;Buffer full. Wake producers. Parke aus.&quot;);\r\n                    \t\t\t// wake producers\r\n                    \t\t\tproducerMutex.WorkingQueue.notifyAll();\r\n                        \t\tSystem.out.println(&quot;Producer geweckt&quot;);\r\n                    \t\t\t\r\n                        \t\tcarBuffer.pop();                    \t\t\r\n                            \tconsumerMutex.mutex.release(); \r\n                            \tconsumerMutex.semaphore.release();                    \t\t\r\n                                Thread.sleep((long)(Math.random() * 1500) + 500);\r\n                    \t\t}\r\n                    \t\telse if(carBuffer.empty()){\r\n                            \tSystem.out.println(&quot;Buffer empty. Go to sleep.&quot;);\r\n                        \t\twait();\r\n                    \t\t\tconsumerMutex.mutex.release(); \r\n                        \t\tconsumerMutex.semaphore.release();\r\n                    \t\t}\r\n                    \t\telse {\r\n                    \t\t\tSystem.out.println(&quot;Parke aus&quot;);\r\n                        \t\tcarBuffer.pop();                    \t\t\r\n                            \tconsumerMutex.mutex.release(); \r\n                            \tconsumerMutex.semaphore.release();                    \t\t\r\n                                Thread.sleep((long)(Math.random() * 1500) + 500);              \t\t\t\r\n                    \t\t}\r\n                \t\t\tSystem.out.println(&quot;Consumer-Schleife zu Ende&quot;);                \r\n                }\r\n            } catch (Exception e) {\r\n          \t  System.out.println(&quot;Consumer Catch-Error &quot; + e.toString()); // TODO: error handling\r\n            }        \t\r\n        }\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n//    \tSystem.out.println(&quot;How many producers:&quot;);\r\n//    \tScanner producerAmount = new Scanner(System.in);\r\n//    \t\r\n//    \t\r\n//    \tSystem.out.println(&quot;How many consumers:&quot;);\r\n//    \tScanner consumerAmount = new Scanner(System.in);\r\n//    \t\r\n//    \t\r\n//    \tSystem.out.println(&quot;The Simulation starts with &quot;+producerAmount.nextLine() + &quot; Producers and &quot;+ consumerAmount.nextLine()+ &quot; Consumers&quot;);\r\n//    \t\r\n\r\n        Buffer&lt;Car&gt; carBuffer = new Buffer&lt;Car&gt;(PARKING_GARAGE_SIZE);\r\n        Mutex producerMutex = new Mutex();\r\n        Mutex consumerMutex = new Mutex();\r\n        \r\n    \tProducer producer = new Producer(carBuffer, consumerMutex, producerMutex);\r\n    \tThread producerThread = new Thread(producer);\r\n    \t\r\n    \tConsumer consumer = new Consumer(carBuffer, consumerMutex, producerMutex);    \t\r\n    \tThread consumerThread = new Thread(consumer);\r\n\r\n    \tproducerThread.start();\r\n    \tconsumerThread.start();\r\n    \t\r\n    }\r\n}\r\n\r\n```\r\n**Producers Class**\r\n```\r\npackage prog;\r\n\r\nimport java.lang.Math;\r\n\r\npublic class Producer implements Runnable {\t\t\r\n\t\r\n\tMutex producerMutex;\r\n\tMutex consumerMutex;\r\n\tBuffer&lt;Car&gt; carBuffer;\r\n\tThread currentThread;\t\r\n\t\r\n\tpublic Producer(Buffer&lt;Car&gt; carBuffer, Mutex consumerMutex, Mutex producerMutex) {\r\n   \t \tthis.carBuffer = carBuffer;\r\n   \t \tthis.consumerMutex = consumerMutex;\r\n   \t \tthis.producerMutex = producerMutex;\r\n\t\t//this.run();\r\n   }\r\n\t\r\n\tpublic Mutex getProducerMutex() {\r\n\t\treturn producerMutex;\r\n\t}\r\n\t\r\n    public void run() {  \r\n    \tSystem.out.println(&quot;Producer l&#195;&#164;uft&quot;);      \r\n        int counter = 1;\r\n        synchronized(this) {\r\n            try {\r\n                while (true) {\r\n                \tSystem.out.println(&quot;Producer-Schleife beginnt&quot;);\r\n                \tcurrentThread = Thread.currentThread();\r\n                    String threadName = currentThread.getName() + counter++;\r\n                   \r\n                    //producerMutex.semaphore.acquire();\r\n                    //System.out.println(&quot;Semaphore acquired&quot;);\r\n                    \tproducerMutex.mutex.acquire();\r\n                        System.out.println(&quot;Mutex acquired&quot;);\r\n                    \t\tproducerMutex.WorkingQueue.add(currentThread);\r\n                    \t\tSystem.out.println(&quot;Producer produces on thread: &quot; + threadName);\r\n                    \t\t\r\n                    \t\tCar newCar = new Car();\r\n                    \t\tif(carBuffer.empty()) {\r\n                    \t\t\t// wake consumers and do shit\r\n                        \t\tSystem.out.println(&quot;Parkhaus leer. Wecke Consumer. Parke Auto Nummer &quot; + (counter - 1));\r\n                    \t\t\tconsumerMutex.WorkingQueue.notifyAll();\r\n                        \t\tnotifyAll();\r\n                        \t\tSystem.out.println(&quot;Consumer geweckt&quot;);\r\n                    \t\t\tcarBuffer.push(newCar);\r\n                    \t\t}\r\n                    \t\telse if(carBuffer.full()) {\r\n                        \t\tSystem.out.println(&quot;Buffer full, go sleep!&quot;);\r\n                        \t\twait();            \t\t\t\r\n                    \t\t}\r\n                    \t\telse{\r\n                        \t\tSystem.out.println(&quot;Parke Auto Nummer &quot; + (counter - 1));\r\n                    \t\t\tcarBuffer.push(newCar);\r\n                    \t\t}\r\n                    \t\t\r\n                    \tproducerMutex.mutex.release(); \r\n                    producerMutex.semaphore.release();                \r\n                \t\r\n                    Thread.sleep((long)(Math.random() * 1500) + 500);\r\n                    System.out.println(&quot;Producer-Schleife zu Ende&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n          \t  System.out.println(&quot;Producer Catch-Error: &quot; + e.toString()); // TODO: error handling\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**Mutex**\r\n\r\n```\r\npackage prog;\r\n\r\nimport java.util.concurrent.Semaphore;\r\nimport java.util.LinkedList; \r\n\r\npublic class Mutex {  \r\n\t  LinkedList&lt;Thread&gt; WorkingQueue = new LinkedList&lt;Thread&gt;();\r\n\t  Semaphore semaphore = new Semaphore(0);  \r\n\t  Semaphore mutex = new Semaphore(1);\r\n}\r\n```\r\n\r\n**Buffer**\r\n```\r\npackage prog;\r\n\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\n\r\npublic class Buffer&lt;T&gt; {\r\n\tprivate final ArrayList&lt;T&gt; bufferStack;\r\n\tprivate int size;\r\n\tprivate int top;\r\n    private final Object FULL_QUEUE = new Object();\r\n    private final Object EMPTY_QUEUE = new Object();\r\n\r\n    public Buffer(int maxSize) {\r\n    \tbufferStack = new ArrayList&lt;&gt;(maxSize);\r\n    \tthis.size = maxSize;\r\n    \ttop = -1;\r\n    }\r\n    \r\n    public int getSize() {\r\n    \treturn size;\r\n    }\r\n    \r\n    public boolean full() {\r\n    \treturn top == getSize() -1;\r\n    }\r\n    \r\n    public void waitForFull() throws InterruptedException {\r\n    \t\r\n    }\r\n    \r\n    public boolean empty() {\r\n    \treturn top == -1;\r\n    }\r\n    \r\n    public void push(T item) {\r\n    \tif(!full()) {  \r\n        \tbufferStack.add(0, item);\r\n        \ttop++;\r\n    \t}\r\n    \telse {\r\n            System.out.println(&quot;Error: Stack is full!&quot;); // TODO: catch error and print it  \r\n    \t}  \t\r\n    }   \r\n    \r\n\r\n    public T pop() {\r\n        if (!empty()) {\r\n            T item = bufferStack.get(0);\r\n            bufferStack.remove(0);\r\n            top--;\r\n            return item;\r\n        } else {\r\n            System.out.println(&quot;Error: Stack is empty!&quot;); // TODO: catch error and print it\r\n            return null; // TODO: is null the best option for a return here?\r\n        }\r\n    }\r\n\r\n    public T peek() {\r\n        if (!bufferStack.isEmpty()) {\r\n            return bufferStack.get(0);\r\n        } else {\r\n            return null; // TODO: is null the best option for a return here?\r\n        }\r\n    }\r\n\r\n    public List&lt;T&gt; getCompleteStack() {\r\n        return bufferStack;\r\n    }\r\n    \r\n    \r\n}\r\n\r\n```\r\n\r\n**Car**\r\n\r\n```\r\npackage prog;\r\n\r\nimport java.lang.Math;\r\n\r\npublic class Car {\r\n\t\r\n\tprivate int Platenumber;\r\n\t\r\n\tpublic Car() {\r\n\t\tPlatenumber = (int)(Math.random() * 999) + 1;\r\n\t}\r\n\t\r\n\tpublic int getPlatenumber() {\r\n\t\treturn Platenumber;\r\n\t}\r\n\t\r\n}\r\n```","title":"Java Mutex | Thread : Current Thread is not owner","body":"<p>we are currently working on a university project where we need to build a parking garage where there are Producers who &quot;park&quot; the cars and Consumers who &quot;remove&quot; the cars from the parking garage. Each Consumer and Producer needs to live on their own thread and we also MUST use Mutex/Semaphores OR Lock OR Monitor to allow exclusive access to the garage. Our problem now is that we don't know how to access and notify consumers from the producer thread (and vice versa). When we run it, this error comes:</p>\n<pre><code>java.lang.IllegalMonitorStateException: current thread is not owner\n</code></pre>\n<p>I have linked the source code below. Whenever the garage is empty, the consumer is &quot;sleeping&quot; (we think that means .wait() ) and if it was full before he took a car, he must wake up ALL sleeping producers. Also if the garage was empty before the producer took the car off, he has to wake up ALL sleeping consumers.</p>\n<p>We have no idea if the way we approached it is correct or just complete nonsense. So if you have an idea or a hint, we would be very grateful!</p>\n<p><strong>Consumer Class</strong></p>\n<pre><code>package prog;\n\nimport java.util.Scanner;\n\npublic class Consumer implements Runnable {\n    \n    private static int PARKING_GARAGE_SIZE = 4;\n    \n    Mutex consumerMutex;\n    Mutex producerMutex;\n    Buffer&lt;Car&gt; carBuffer;\n    Thread currentThread;\n    \n    public Consumer(Buffer&lt;Car&gt; carBuffer, Mutex consumerMutex, Mutex producerMutex) {\n         this.carBuffer = carBuffer;\n         this.consumerMutex = consumerMutex;\n         this.producerMutex = producerMutex;\n         //this.run();\n    }\n    \n    public void run() {\n        System.out.println(&quot;Consumer luft&quot;);\n        int counter = 1;\n        synchronized(this) {\n            try {\n                while (true) {\n                    System.out.println(&quot;Consumer-Schleife beginnt&quot;);\n                    currentThread = Thread.currentThread();\n                    String threadName = currentThread.getName() + counter++;\n                   \n                    //consumerMutex.semaphore.acquire();\n                        consumerMutex.mutex.acquire();\n                            System.out.println(&quot;Mutex acquired&quot;);\n                            consumerMutex.WorkingQueue.add(currentThread);\n                            System.out.println(&quot;Consumers consumes on thread: &quot; + threadName);    \n                            \n                            if(carBuffer.full()) {\n                                System.out.println(&quot;Buffer full. Wake producers. Parke aus.&quot;);\n                                // wake producers\n                                producerMutex.WorkingQueue.notifyAll();\n                                System.out.println(&quot;Producer geweckt&quot;);\n                                \n                                carBuffer.pop();                            \n                                consumerMutex.mutex.release(); \n                                consumerMutex.semaphore.release();                          \n                                Thread.sleep((long)(Math.random() * 1500) + 500);\n                            }\n                            else if(carBuffer.empty()){\n                                System.out.println(&quot;Buffer empty. Go to sleep.&quot;);\n                                wait();\n                                consumerMutex.mutex.release(); \n                                consumerMutex.semaphore.release();\n                            }\n                            else {\n                                System.out.println(&quot;Parke aus&quot;);\n                                carBuffer.pop();                            \n                                consumerMutex.mutex.release(); \n                                consumerMutex.semaphore.release();                          \n                                Thread.sleep((long)(Math.random() * 1500) + 500);                       \n                            }\n                            System.out.println(&quot;Consumer-Schleife zu Ende&quot;);                \n                }\n            } catch (Exception e) {\n              System.out.println(&quot;Consumer Catch-Error &quot; + e.toString()); // TODO: error handling\n            }           \n        }\n    }\n    \n    public static void main(String[] args) {\n//      System.out.println(&quot;How many producers:&quot;);\n//      Scanner producerAmount = new Scanner(System.in);\n//      \n//      \n//      System.out.println(&quot;How many consumers:&quot;);\n//      Scanner consumerAmount = new Scanner(System.in);\n//      \n//      \n//      System.out.println(&quot;The Simulation starts with &quot;+producerAmount.nextLine() + &quot; Producers and &quot;+ consumerAmount.nextLine()+ &quot; Consumers&quot;);\n//      \n\n        Buffer&lt;Car&gt; carBuffer = new Buffer&lt;Car&gt;(PARKING_GARAGE_SIZE);\n        Mutex producerMutex = new Mutex();\n        Mutex consumerMutex = new Mutex();\n        \n        Producer producer = new Producer(carBuffer, consumerMutex, producerMutex);\n        Thread producerThread = new Thread(producer);\n        \n        Consumer consumer = new Consumer(carBuffer, consumerMutex, producerMutex);      \n        Thread consumerThread = new Thread(consumer);\n\n        producerThread.start();\n        consumerThread.start();\n        \n    }\n}\n\n</code></pre>\n<p><strong>Producers Class</strong></p>\n<pre><code>package prog;\n\nimport java.lang.Math;\n\npublic class Producer implements Runnable {     \n    \n    Mutex producerMutex;\n    Mutex consumerMutex;\n    Buffer&lt;Car&gt; carBuffer;\n    Thread currentThread;   \n    \n    public Producer(Buffer&lt;Car&gt; carBuffer, Mutex consumerMutex, Mutex producerMutex) {\n        this.carBuffer = carBuffer;\n        this.consumerMutex = consumerMutex;\n        this.producerMutex = producerMutex;\n        //this.run();\n   }\n    \n    public Mutex getProducerMutex() {\n        return producerMutex;\n    }\n    \n    public void run() {  \n        System.out.println(&quot;Producer luft&quot;);      \n        int counter = 1;\n        synchronized(this) {\n            try {\n                while (true) {\n                    System.out.println(&quot;Producer-Schleife beginnt&quot;);\n                    currentThread = Thread.currentThread();\n                    String threadName = currentThread.getName() + counter++;\n                   \n                    //producerMutex.semaphore.acquire();\n                    //System.out.println(&quot;Semaphore acquired&quot;);\n                        producerMutex.mutex.acquire();\n                        System.out.println(&quot;Mutex acquired&quot;);\n                            producerMutex.WorkingQueue.add(currentThread);\n                            System.out.println(&quot;Producer produces on thread: &quot; + threadName);\n                            \n                            Car newCar = new Car();\n                            if(carBuffer.empty()) {\n                                // wake consumers and do shit\n                                System.out.println(&quot;Parkhaus leer. Wecke Consumer. Parke Auto Nummer &quot; + (counter - 1));\n                                consumerMutex.WorkingQueue.notifyAll();\n                                notifyAll();\n                                System.out.println(&quot;Consumer geweckt&quot;);\n                                carBuffer.push(newCar);\n                            }\n                            else if(carBuffer.full()) {\n                                System.out.println(&quot;Buffer full, go sleep!&quot;);\n                                wait();                     \n                            }\n                            else{\n                                System.out.println(&quot;Parke Auto Nummer &quot; + (counter - 1));\n                                carBuffer.push(newCar);\n                            }\n                            \n                        producerMutex.mutex.release(); \n                    producerMutex.semaphore.release();                \n                    \n                    Thread.sleep((long)(Math.random() * 1500) + 500);\n                    System.out.println(&quot;Producer-Schleife zu Ende&quot;);\n                }\n            } catch (Exception e) {\n              System.out.println(&quot;Producer Catch-Error: &quot; + e.toString()); // TODO: error handling\n            }\n        }\n    }\n\n}\n\n</code></pre>\n<p><strong>Mutex</strong></p>\n<pre><code>package prog;\n\nimport java.util.concurrent.Semaphore;\nimport java.util.LinkedList; \n\npublic class Mutex {  \n      LinkedList&lt;Thread&gt; WorkingQueue = new LinkedList&lt;Thread&gt;();\n      Semaphore semaphore = new Semaphore(0);  \n      Semaphore mutex = new Semaphore(1);\n}\n</code></pre>\n<p><strong>Buffer</strong></p>\n<pre><code>package prog;\n\nimport java.util.List;\nimport java.util.Scanner;\nimport java.util.ArrayList;\n\npublic class Buffer&lt;T&gt; {\n    private final ArrayList&lt;T&gt; bufferStack;\n    private int size;\n    private int top;\n    private final Object FULL_QUEUE = new Object();\n    private final Object EMPTY_QUEUE = new Object();\n\n    public Buffer(int maxSize) {\n        bufferStack = new ArrayList&lt;&gt;(maxSize);\n        this.size = maxSize;\n        top = -1;\n    }\n    \n    public int getSize() {\n        return size;\n    }\n    \n    public boolean full() {\n        return top == getSize() -1;\n    }\n    \n    public void waitForFull() throws InterruptedException {\n        \n    }\n    \n    public boolean empty() {\n        return top == -1;\n    }\n    \n    public void push(T item) {\n        if(!full()) {  \n            bufferStack.add(0, item);\n            top++;\n        }\n        else {\n            System.out.println(&quot;Error: Stack is full!&quot;); // TODO: catch error and print it  \n        }   \n    }   \n    \n\n    public T pop() {\n        if (!empty()) {\n            T item = bufferStack.get(0);\n            bufferStack.remove(0);\n            top--;\n            return item;\n        } else {\n            System.out.println(&quot;Error: Stack is empty!&quot;); // TODO: catch error and print it\n            return null; // TODO: is null the best option for a return here?\n        }\n    }\n\n    public T peek() {\n        if (!bufferStack.isEmpty()) {\n            return bufferStack.get(0);\n        } else {\n            return null; // TODO: is null the best option for a return here?\n        }\n    }\n\n    public List&lt;T&gt; getCompleteStack() {\n        return bufferStack;\n    }\n    \n    \n}\n\n</code></pre>\n<p><strong>Car</strong></p>\n<pre><code>package prog;\n\nimport java.lang.Math;\n\npublic class Car {\n    \n    private int Platenumber;\n    \n    public Car() {\n        Platenumber = (int)(Math.random() * 999) + 1;\n    }\n    \n    public int getPlatenumber() {\n        return Platenumber;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","java-9"],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1461838415,"creation_date":1461837761,"answer_id":36911320,"question_id":36910746,"body_markdown":"In your module definition, located (based on your package name) in `src/org/example/module-info.java`, you need to add the dependency to the `java.net.http` package, which is included in the `java.httpclient` module:\r\n\r\n    module org.example {\r\n        requires java.httpclient;\r\n    }\r\n\r\nYou can find the list of JDK modules in the [module summary][1].\r\n\r\n [1]: http://cr.openjdk.java.net/~mr/jigsaw/ea/module-summary.html","title":"&quot;package java.net.http does not exist&quot; error on JDK9","body":"<p>In your module definition, located (based on your package name) in <code>src/org/example/module-info.java</code>, you need to add the dependency to the <code>java.net.http</code> package, which is included in the <code>java.httpclient</code> module:</p>\n\n<pre><code>module org.example {\n    requires java.httpclient;\n}\n</code></pre>\n\n<p>You can find the list of JDK modules in the <a href=\"http://cr.openjdk.java.net/~mr/jigsaw/ea/module-summary.html\" rel=\"noreferrer\">module summary</a>.</p>\n"},{"tags":[],"owner":{"account_id":3583455,"reputation":1884,"user_id":2991105,"display_name":"Erunafailaro"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1511413229,"creation_date":1490860593,"answer_id":43111760,"question_id":36910746,"body_markdown":"Meanwhile, since build 149 of the jdk9, the classes\r\n\r\n - `HttpClient`\r\n - `HttpRequest`\r\n - `HttpResponse`\r\n - `WebSocket`\r\n\r\nhave been moved to the package `jdk.incubator.http`. They are part of the jigsaw module `jdk.incubator.httpclient`. See ticket [JDK-8170648][1] for more details.\r\n\r\nSo you have to change your imports to `jdk.incubator.http.*`. Furthermore, you must include the module `jdk.incubator.httpclient` in your `module-info.java`.  When compiling and running your code, add the argument  `--add-modules=jdk.incubator.httpclient` to your invocation of the java and javac executables.\r\n\r\nAll classes related to the http client have been removed from jdk9. They are included as incubator features and are no longer part of the API. Hopefully, the new client will be part of jdk10.\r\n\r\n  [1]: http://bugs.java.com/bugdatabase/view_bug.do?bug_id=8170648","title":"&quot;package java.net.http does not exist&quot; error on JDK9","body":"<p>Meanwhile, since build 149 of the jdk9, the classes</p>\n\n<ul>\n<li><code>HttpClient</code></li>\n<li><code>HttpRequest</code></li>\n<li><code>HttpResponse</code></li>\n<li><code>WebSocket</code></li>\n</ul>\n\n<p>have been moved to the package <code>jdk.incubator.http</code>. They are part of the jigsaw module <code>jdk.incubator.httpclient</code>. See ticket <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=8170648\" rel=\"noreferrer\">JDK-8170648</a> for more details.</p>\n\n<p>So you have to change your imports to <code>jdk.incubator.http.*</code>. Furthermore, you must include the module <code>jdk.incubator.httpclient</code> in your <code>module-info.java</code>.  When compiling and running your code, add the argument  <code>--add-modules=jdk.incubator.httpclient</code> to your invocation of the java and javac executables.</p>\n\n<p>All classes related to the http client have been removed from jdk9. They are included as incubator features and are no longer part of the API. Hopefully, the new client will be part of jdk10.</p>\n"},{"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530600732,"creation_date":1530600732,"answer_id":51148247,"question_id":36910746,"body_markdown":"In JDK 11, the package is\r\n\r\n    import java.net.http.HttpClient;\r\n\r\nAnd the module name is `java.net.http`","title":"&quot;package java.net.http does not exist&quot; error on JDK9","body":"<p>In JDK 11, the package is</p>\n\n<pre><code>import java.net.http.HttpClient;\n</code></pre>\n\n<p>And the module name is <code>java.net.http</code></p>\n"},{"tags":[],"owner":{"account_id":20893297,"reputation":321,"user_id":15348175,"display_name":"Ayush Choudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639760431,"creation_date":1639760431,"answer_id":70396516,"question_id":36910746,"body_markdown":"`Gradle`\r\n\r\nIf you are using Gradle and IntelliJ it may be because the `Gradle JVM` setting is using a version below Java 11.\r\n\r\nTo change it in IntelliJ:\r\n\r\n 1. Go to `File` &gt; `Settings` &gt; `Build, Execution, Deployment` &gt; `Build\r\n    Tools` &gt; `Gradle` \r\n 2. Go to Gradle JVM setting on the right downside.\r\n 3. Change it to any of `Project SDK` or the Java 11 version.\r\n\r\n`Maven`\r\n\r\nIf you are using Maven and IntelliJ it may be because the `JRE` setting in Maven is using a version below Java 11.\r\n\r\nTo change it in IntelliJ:\r\n1. Go to `File` &gt; `Settings` &gt; `Build, Execution, Deployment` &gt; `Build Tools` &gt; `Maven` &gt; `Runner`\r\n2. Go to the JRE setting on the right.\r\n3. Change it to any of `Project SDK` or the Java 11 version.","title":"&quot;package java.net.http does not exist&quot; error on JDK9","body":"<p><code>Gradle</code></p>\n<p>If you are using Gradle and IntelliJ it may be because the <code>Gradle JVM</code> setting is using a version below Java 11.</p>\n<p>To change it in IntelliJ:</p>\n<ol>\n<li>Go to <code>File</code> &gt; <code>Settings</code> &gt; <code>Build, Execution, Deployment</code> &gt; <code>Build Tools</code> &gt; <code>Gradle</code></li>\n<li>Go to Gradle JVM setting on the right downside.</li>\n<li>Change it to any of <code>Project SDK</code> or the Java 11 version.</li>\n</ol>\n<p><code>Maven</code></p>\n<p>If you are using Maven and IntelliJ it may be because the <code>JRE</code> setting in Maven is using a version below Java 11.</p>\n<p>To change it in IntelliJ:</p>\n<ol>\n<li>Go to <code>File</code> &gt; <code>Settings</code> &gt; <code>Build, Execution, Deployment</code> &gt; <code>Build Tools</code> &gt; <code>Maven</code> &gt; <code>Runner</code></li>\n<li>Go to the JRE setting on the right.</li>\n<li>Change it to any of <code>Project SDK</code> or the Java 11 version.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11280921,"reputation":434,"user_id":8273376,"display_name":"CSUNNY"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654705087,"creation_date":1654705087,"answer_id":72549066,"question_id":36910746,"body_markdown":"I had the exact same issue and this is how I resolved it. \r\nIn the gradle, I already had \r\n```\r\ntasks.withType&lt;KotlinCompile&gt;() {\r\n    kotlinOptions.jvmTarget = &quot;11&quot;\r\n}\r\n```\r\nI added Gradle JVM as 11. This is in `Build, Exectution, Deployment --&gt; Build Tools --&gt; Gradle`\r\nAdditionally, I added this snippet in the build.gradle\r\n```\r\njava {\r\n    sourceCompatibility = JavaVersion.VERSION_11\r\n    targetCompatibility = JavaVersion.VERSION_11\r\n}\r\n```\r\nPlus I also made my module SDK as 11. \r\n\r\nLet me know if this does not work for you. ","title":"&quot;package java.net.http does not exist&quot; error on JDK9","body":"<p>I had the exact same issue and this is how I resolved it.\nIn the gradle, I already had</p>\n<pre><code>tasks.withType&lt;KotlinCompile&gt;() {\n    kotlinOptions.jvmTarget = &quot;11&quot;\n}\n</code></pre>\n<p>I added Gradle JVM as 11. This is in <code>Build, Exectution, Deployment --&gt; Build Tools --&gt; Gradle</code>\nAdditionally, I added this snippet in the build.gradle</p>\n<pre><code>java {\n    sourceCompatibility = JavaVersion.VERSION_11\n    targetCompatibility = JavaVersion.VERSION_11\n}\n</code></pre>\n<p>Plus I also made my module SDK as 11.</p>\n<p>Let me know if this does not work for you.</p>\n"}],"owner":{"account_id":28485,"reputation":564,"user_id":76139,"accept_rate":67,"display_name":"ukasz Koniecki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33595,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":36911320,"answer_count":5,"score":17,"last_activity_date":1654705087,"creation_date":1461836205,"question_id":36910746,"body_markdown":"I have a problem compiling simple blocking GET example from the HttpRequest JavaDoc:\r\n\r\n   \tpackage org.example;\r\n\r\n\timport java.io.IOException;\r\n\timport java.net.URI;\r\n\timport java.net.URISyntaxException;\r\n\timport java.net.http.HttpRequest;\r\n\timport java.net.http.HttpResponse;\r\n\r\n\timport static java.net.http.HttpRequest.noBody;\r\n\timport static java.net.http.HttpResponse.asString;\r\n\r\n\tpublic class Http2 {\r\n\t\tpublic static void main(String[] args) throws URISyntaxException, IOException, InterruptedException {\r\n\t\t\tHttpResponse response = HttpRequest\r\n\t\t\t\t\t.create(new URI(&quot;http://www.infoq.com&quot;))\r\n\t\t\t\t\t.body(noBody())\r\n\t\t\t\t\t.GET().response();\r\n\t\t\tint responseCode = response.statusCode();\r\n\t\t\tString responseBody = response.body(asString());\r\n\r\n\t\t\tSystem.out.println(responseBody);\r\n\t\t}\r\n\t}\r\n\r\nI&#39;m getting `package java.net.http does not exist` error when compiling using JDK 9:\r\n\r\n&lt;pre&gt;\r\n{ jdk9 }  &#187; /cygdrive/c/Program\\ Files/Java/jdk-9/bin/javac -d out/production -modulesourcepath org.example.module1/src/ -m org.example.module1\r\n\r\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:6: error: package java.net.http does not exist\r\nimport java.net.http.HttpRequest;\r\n                    ^\r\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:7: error: package java.net.http does not exist\r\nimport java.net.http.HttpResponse;\r\n                    ^\r\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:9: error: package java.net.http does not exist\r\nimport static java.net.http.HttpRequest.noBody;\r\n                           ^\r\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:9: error: static import only from classes and interfaces\r\nimport static java.net.http.HttpRequest.noBody;\r\n^\r\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:10: error: package java.net.http does not exist\r\nimport static java.net.http.HttpResponse.asString;\r\n                           ^\r\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:10: error: static import only from classes and interfaces\r\nimport static java.net.http.HttpResponse.asString;\r\n^\r\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:14: error: cannot find symbol\r\n        HttpResponse response = HttpRequest\r\n        ^\r\n  symbol:   class HttpResponse\r\n  location: class Http2\r\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:14: error: cannot find symbol\r\n        HttpResponse response = HttpRequest\r\n                                ^\r\n  symbol:   variable HttpRequest\r\n  location: class Http2\r\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:16: error: cannot find symbol\r\n                .body(noBody())\r\n                      ^\r\n  symbol:   method noBody()\r\n  location: class Http2\r\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:19: error: cannot find symbol\r\n        String responseBody = response.body(asString());\r\n                                            ^\r\n  symbol:   method asString()\r\n  location: class Http2\r\n10 errors\r\n&lt;/pre&gt;\r\n\r\nSame error occurs using command line and IntelliJ.\r\n\r\nIt is not a problem with my module because classes without java.net.http compiles and run without any problem.\r\n\r\nAny idea what is going on?","title":"&quot;package java.net.http does not exist&quot; error on JDK9","body":"<p>I have a problem compiling simple blocking GET example from the HttpRequest JavaDoc:</p>\n\n<pre><code>package org.example;\n\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\n\nimport static java.net.http.HttpRequest.noBody;\nimport static java.net.http.HttpResponse.asString;\n\npublic class Http2 {\n    public static void main(String[] args) throws URISyntaxException, IOException, InterruptedException {\n        HttpResponse response = HttpRequest\n                .create(new URI(\"http://www.infoq.com\"))\n                .body(noBody())\n                .GET().response();\n        int responseCode = response.statusCode();\n        String responseBody = response.body(asString());\n\n        System.out.println(responseBody);\n    }\n}\n</code></pre>\n\n<p>I'm getting <code>package java.net.http does not exist</code> error when compiling using JDK 9:</p>\n\n<pre>\n{ jdk9 }   /cygdrive/c/Program\\ Files/Java/jdk-9/bin/javac -d out/production -modulesourcepath org.example.module1/src/ -m org.example.module1\n\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:6: error: package java.net.http does not exist\nimport java.net.http.HttpRequest;\n                    ^\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:7: error: package java.net.http does not exist\nimport java.net.http.HttpResponse;\n                    ^\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:9: error: package java.net.http does not exist\nimport static java.net.http.HttpRequest.noBody;\n                           ^\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:9: error: static import only from classes and interfaces\nimport static java.net.http.HttpRequest.noBody;\n^\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:10: error: package java.net.http does not exist\nimport static java.net.http.HttpResponse.asString;\n                           ^\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:10: error: static import only from classes and interfaces\nimport static java.net.http.HttpResponse.asString;\n^\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:14: error: cannot find symbol\n        HttpResponse response = HttpRequest\n        ^\n  symbol:   class HttpResponse\n  location: class Http2\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:14: error: cannot find symbol\n        HttpResponse response = HttpRequest\n                                ^\n  symbol:   variable HttpRequest\n  location: class Http2\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:16: error: cannot find symbol\n                .body(noBody())\n                      ^\n  symbol:   method noBody()\n  location: class Http2\norg.example.module1\\src\\org.example.module1\\org\\example\\Http2.java:19: error: cannot find symbol\n        String responseBody = response.body(asString());\n                                            ^\n  symbol:   method asString()\n  location: class Http2\n10 errors\n</pre>\n\n<p>Same error occurs using command line and IntelliJ.</p>\n\n<p>It is not a problem with my module because classes without java.net.http compiles and run without any problem.</p>\n\n<p>Any idea what is going on?</p>\n"},{"tags":["javascript","java","selenium","scroll"],"answers":[{"tags":[],"owner":{"account_id":25022790,"reputation":104,"user_id":18881310,"display_name":"Lemon891"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654622771,"creation_date":1654622771,"answer_id":72535295,"question_id":72534948,"body_markdown":"This will execute any code inside the *while* loop for a pre-defined amount of time. In this example I have it set to print out an incrementing variable for 5 seconds. \r\n\r\n    int i = 0;\r\n\t\t\r\n\t\tlong start = System.currentTimeMillis();\r\n\t\tlong end = start + 5 * 1000;\r\n\t\twhile (System.currentTimeMillis() &lt; end) {\r\n\t\t    System.out.println(i);\r\n\t\t    i++;\r\n\t\t}\r\n\r\nSo for you it&#39;d be - \r\n\t\t\r\n\t\tlong start = System.currentTimeMillis();\r\n\t\tlong end = start + desiredTimeDuration(inSeconds) * 1000;\r\n\t\twhile (System.currentTimeMillis() &lt; end) {\r\n\t\t    whatYouWantItToDoForSetAmountOfTime\r\n\t\t}\r\n\r\nHope this helps, cheers!","title":"How to stop looking for an element after a certain period using JavaScriptExecutor on an unlimited screen like Facebook?","body":"<p>This will execute any code inside the <em>while</em> loop for a pre-defined amount of time. In this example I have it set to print out an incrementing variable for 5 seconds.</p>\n<pre><code>int i = 0;\n    \n    long start = System.currentTimeMillis();\n    long end = start + 5 * 1000;\n    while (System.currentTimeMillis() &lt; end) {\n        System.out.println(i);\n        i++;\n    }\n</code></pre>\n<p>So for you it'd be -</p>\n<pre><code>    long start = System.currentTimeMillis();\n    long end = start + desiredTimeDuration(inSeconds) * 1000;\n    while (System.currentTimeMillis() &lt; end) {\n        whatYouWantItToDoForSetAmountOfTime\n    }\n</code></pre>\n<p>Hope this helps, cheers!</p>\n"}],"owner":{"account_id":10399903,"reputation":45,"user_id":7668566,"display_name":"Ujjawal "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72535295,"answer_count":1,"score":2,"last_activity_date":1654704939,"creation_date":1654617233,"question_id":72534948,"body_markdown":"Suppose I want to look for my post on a Facebook page by scrolling down. And I am looking my post based on my profile name. I use `JavascriptExecutor` to start scrolling down until it finds the post but what if it won&#39;t get my post on the page then how can I stop the executor after certain period of time as Facebook page keeps updating and loading in seconds as we go down and down. It will go in continuous loop. Any suggestions would help.\r\n\r\nExample:\r\n```java\r\nWebElement element = driver.findByElement(By.name(&quot;Myname&quot;));\r\nJavascriptExecutor js = (JavascriptExecutor) driver;\r\njs.executeScript(&quot;arguments[0].scrollIntoView();&quot;, element);\r\n```","title":"How to stop looking for an element after a certain period using JavaScriptExecutor on an unlimited screen like Facebook?","body":"<p>Suppose I want to look for my post on a Facebook page by scrolling down. And I am looking my post based on my profile name. I use <code>JavascriptExecutor</code> to start scrolling down until it finds the post but what if it won't get my post on the page then how can I stop the executor after certain period of time as Facebook page keeps updating and loading in seconds as we go down and down. It will go in continuous loop. Any suggestions would help.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebElement element = driver.findByElement(By.name(&quot;Myname&quot;));\nJavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(&quot;arguments[0].scrollIntoView();&quot;, element);\n</code></pre>\n"},{"tags":["java","cassandra","datastax","cassandra-3.0","datastax-java-driver"],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1555321719,"creation_date":1555321719,"answer_id":55686516,"question_id":55683452,"body_markdown":"Just use [Object Mapper][1] for such things - it&#39;s not in the driver core, so you&#39;ll need to add one more dependency to your build file.  After that you could map POJO classes directly into/from Cassandra tables.\r\n\r\n    @Table(name = &quot;t4&quot;, keyspace = &quot;test&quot;)\r\n    public class Test4Data {\r\n        @PartitionKey\r\n        int id;\r\n    \r\n        @ClusteringColumn\r\n        @Column(name = &quot;c&quot;)\r\n        int clCol;\r\n    \r\n        @Column(name = &quot;t&quot;)\r\n        String text;\r\n    // ... getters/setters, etc.\r\n    }\r\n    \r\n    MappingManager manager = new MappingManager(session);\r\n    Mapper&lt;Test4Data&gt; mapper = manager.mapper(Test4Data.class);\r\n    Test4Data test4Data = mapper.get(0, 1);\r\n    // output as JSON, etc.\r\n\r\nIf you&#39;ll need to work with multiple entries, like, querying by partition key only, etc., then you need to use [Accessors][2], like this:\r\n\r\n    @Accessor\r\n    public interface UserAccessor {\r\n        @Query(&quot;SELECT * FROM user&quot;)\r\n        Result&lt;User&gt; getAll();\r\n    }\r\n    \r\n    UserAccessor userAccessor = manager.createAccessor(UserAccessor.class);\r\n    Result&lt;User&gt; users = userAccessor.getAll();\r\n\r\nand then iterate over results...\r\n\r\nP.S. But you can get JSON from Cassandra directly using `SELECT JSON ...` ([doc][3], [example][4]), although you have less control on how things, like, date/time, are formatted. \r\n\r\n\r\n  [1]: https://docs.datastax.com/en/developer/java-driver/3.6/manual/object_mapper/\r\n  [2]: https://docs.datastax.com/en/developer/java-driver/3.6/manual/object_mapper/using/#accessors\r\n  [3]: https://docs.datastax.com/en/cql/3.3/cql/cql_using/useQueryJSON.html\r\n  [4]: https://github.com/alexott/dse-java-playground/blob/master/src/main/java/com/datastax/alexott/demos/jdtest1/TestResultSerializer.java#L68","title":"How parse Cassandra Row into a Java POJO type","body":"<p>Just use <a href=\"https://docs.datastax.com/en/developer/java-driver/3.6/manual/object_mapper/\" rel=\"nofollow noreferrer\">Object Mapper</a> for such things - it's not in the driver core, so you'll need to add one more dependency to your build file.  After that you could map POJO classes directly into/from Cassandra tables.</p>\n\n<pre><code>@Table(name = \"t4\", keyspace = \"test\")\npublic class Test4Data {\n    @PartitionKey\n    int id;\n\n    @ClusteringColumn\n    @Column(name = \"c\")\n    int clCol;\n\n    @Column(name = \"t\")\n    String text;\n// ... getters/setters, etc.\n}\n\nMappingManager manager = new MappingManager(session);\nMapper&lt;Test4Data&gt; mapper = manager.mapper(Test4Data.class);\nTest4Data test4Data = mapper.get(0, 1);\n// output as JSON, etc.\n</code></pre>\n\n<p>If you'll need to work with multiple entries, like, querying by partition key only, etc., then you need to use <a href=\"https://docs.datastax.com/en/developer/java-driver/3.6/manual/object_mapper/using/#accessors\" rel=\"nofollow noreferrer\">Accessors</a>, like this:</p>\n\n<pre><code>@Accessor\npublic interface UserAccessor {\n    @Query(\"SELECT * FROM user\")\n    Result&lt;User&gt; getAll();\n}\n\nUserAccessor userAccessor = manager.createAccessor(UserAccessor.class);\nResult&lt;User&gt; users = userAccessor.getAll();\n</code></pre>\n\n<p>and then iterate over results...</p>\n\n<p>P.S. But you can get JSON from Cassandra directly using <code>SELECT JSON ...</code> (<a href=\"https://docs.datastax.com/en/cql/3.3/cql/cql_using/useQueryJSON.html\" rel=\"nofollow noreferrer\">doc</a>, <a href=\"https://github.com/alexott/dse-java-playground/blob/master/src/main/java/com/datastax/alexott/demos/jdtest1/TestResultSerializer.java#L68\" rel=\"nofollow noreferrer\">example</a>), although you have less control on how things, like, date/time, are formatted. </p>\n"}],"owner":{"account_id":541301,"reputation":849,"user_id":909792,"accept_rate":69,"display_name":"Kiran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1570,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55686516,"answer_count":1,"score":0,"last_activity_date":1654704885,"creation_date":1555308952,"question_id":55683452,"body_markdown":"I am using datastax cassandra. I am trying to parse cassandra results into a java type and return as a json in the response.\r\nHere each row is of type VendorToken.class (with vendorId, vendorName fields)\r\nHow to parse a row into VendorToken.class type using jackson ObjectMapper ?\r\n\r\n\r\n    ResultSet results = getToken(vendorId);\r\n    for(Row row : results) {\r\n        System.out.println(row);   // Output is: Row[vendorId, testVendorName]\r\n    }\r\n\r\nOr is there any otherway to parse to json? I want to return to the user in json format.  Please help.\r\n","title":"How parse Cassandra Row into a Java POJO type","body":"<p>I am using datastax cassandra. I am trying to parse cassandra results into a java type and return as a json in the response.\nHere each row is of type VendorToken.class (with vendorId, vendorName fields)\nHow to parse a row into VendorToken.class type using jackson ObjectMapper ?</p>\n\n<pre><code>ResultSet results = getToken(vendorId);\nfor(Row row : results) {\n    System.out.println(row);   // Output is: Row[vendorId, testVendorName]\n}\n</code></pre>\n\n<p>Or is there any otherway to parse to json? I want to return to the user in json format.  Please help.</p>\n"},{"tags":["java","character-encoding","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1350122972,"post_id":12849913,"comment_id":17425437,"body_markdown":"Why do you need to set the encoding? Why can&#39;t you just pass in a (Unicode) String and have POI handle it all for you automatically?","body":"Why do you need to set the encoding? Why can&#39;t you just pass in a (Unicode) String and have POI handle it all for you automatically?"}],"answers":[{"tags":[],"owner":{"account_id":258934,"reputation":193,"user_id":1507864,"accept_rate":100,"display_name":"jRam90"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654704775,"creation_date":1351179698,"answer_id":13072263,"question_id":12849913,"body_markdown":"Ok, there is a method for doing this from your code for what ever your needs may be:\r\n\r\n    //Create the workbook, and the font\r\n    HSSFWorkbook wb;\r\n    HSSFFont wbFont;\r\n    wbFont=wb.createFont();\r\n    wbFont.setCharSet(HSSFFont.ANSI_CHARSET); //Your Character encoding goes in the parameter\r\n    //Establish cell styles\r\n    HSSFCellStyle cellStyle =wb.createCellStyle();\r\n    cellStyle.setFont(wbFont);\r\n    //We create our cells with our data and with our specified format\r\n    HSSFCell cell =null;\r\n    cell = row.createCell(1);\r\n    cell.setCellStyle(cellStyle);\r\n    cell.setCellValue(&quot;MY DATA&quot;);\r\n    //Do the rest of work for your workbook and then you create it\r\n\r\nRemember, these classes only work with .xls 2003","title":"How to set character encode in workbook, sheet and cells of HSSF Classes in Apache POI beyond 3.7 version?","body":"<p>Ok, there is a method for doing this from your code for what ever your needs may be:</p>\n<pre><code>//Create the workbook, and the font\nHSSFWorkbook wb;\nHSSFFont wbFont;\nwbFont=wb.createFont();\nwbFont.setCharSet(HSSFFont.ANSI_CHARSET); //Your Character encoding goes in the parameter\n//Establish cell styles\nHSSFCellStyle cellStyle =wb.createCellStyle();\ncellStyle.setFont(wbFont);\n//We create our cells with our data and with our specified format\nHSSFCell cell =null;\ncell = row.createCell(1);\ncell.setCellStyle(cellStyle);\ncell.setCellValue(&quot;MY DATA&quot;);\n//Do the rest of work for your workbook and then you create it\n</code></pre>\n<p>Remember, these classes only work with .xls 2003</p>\n"}],"owner":{"account_id":258934,"reputation":193,"user_id":1507864,"accept_rate":100,"display_name":"jRam90"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13072263,"answer_count":1,"score":0,"last_activity_date":1654704775,"creation_date":1349996724,"question_id":12849913,"body_markdown":"It seems that the character-encoding methods for the HSSF Excel Classes have been taken out from the 3.8 release. I really need to specify the enconding on at least the cells. The API does not even register the encoding methods any more, not even as deprecated, they have left the static fields of encoding, though.\r\n\r\n&#191;How to set encoding in new POI versions?","title":"How to set character encode in workbook, sheet and cells of HSSF Classes in Apache POI beyond 3.7 version?","body":"<p>It seems that the character-encoding methods for the HSSF Excel Classes have been taken out from the 3.8 release. I really need to specify the enconding on at least the cells. The API does not even register the encoding methods any more, not even as deprecated, they have left the static fields of encoding, though.</p>\n\n<p>How to set encoding in new POI versions?</p>\n"},{"tags":["java","junit","nunit"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1413355863,"post_id":26376073,"comment_id":41408049,"body_markdown":"In Java, we use `Assert.fail()`, maybe with a message like &quot;still to implement&quot; for indicating work in progress.","body":"In Java, we use <code>Assert.fail()</code>, maybe with a message like &quot;still to implement&quot; for indicating work in progress."}],"answers":[{"tags":[],"owner":{"account_id":4654220,"reputation":165,"user_id":3770197,"display_name":"Christophe Dufour"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1413355742,"creation_date":1413355742,"answer_id":26376156,"question_id":26376073,"body_markdown":"I do not know NUnit.\r\n\r\nBut if you want to fail the test, you can use [Asset.fail][1] \r\n\r\n\r\n  [1]: http://junit.sourceforge.net/javadoc/org/junit/Assert.html#fail(java.lang.String)\r\n\r\nOr is there any reason to use this method?","title":"JUnit equivalent to NUnit Assert.Inconclusive?","body":"<p>I do not know NUnit.</p>\n\n<p>But if you want to fail the test, you can use <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Assert.html#fail(java.lang.String)\" rel=\"nofollow\">Asset.fail</a> </p>\n\n<p>Or is there any reason to use this method?</p>\n"},{"tags":[],"owner":{"account_id":479676,"reputation":911,"user_id":892487,"display_name":"metaforge"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1450207622,"creation_date":1450207622,"answer_id":34297718,"question_id":26376073,"body_markdown":"I use Inconclusive in NUnit to assert when a precondition for the test is not met.  \r\n\r\nFor example, if your test requires reading a file then doing something with that input, and maybe the file is missing or the user running the test doesn&#39;t have permission to read the file - the test should not fail per-se, because there may be nothing wrong with your algorithm, there is just something wrong with the way the environment in which the test is being run.\r\n\r\nAnother use case is if you want to write an integration test that does stuff with a database.  If the database is not running or can&#39;t be connected to, your test is really inconclusive, not a failure - it never even got off the ground to run due to environment issues.\r\n\r\nFor this, I would suggest that @Ignore is not what you want, because that makes your test not run at all.  Instead you want to use are the various [Assume][1] methods.\r\n\r\n\r\n  [1]: http://junit.sourceforge.net/javadoc/org/junit/Assume.html","title":"JUnit equivalent to NUnit Assert.Inconclusive?","body":"<p>I use Inconclusive in NUnit to assert when a precondition for the test is not met.  </p>\n\n<p>For example, if your test requires reading a file then doing something with that input, and maybe the file is missing or the user running the test doesn't have permission to read the file - the test should not fail per-se, because there may be nothing wrong with your algorithm, there is just something wrong with the way the environment in which the test is being run.</p>\n\n<p>Another use case is if you want to write an integration test that does stuff with a database.  If the database is not running or can't be connected to, your test is really inconclusive, not a failure - it never even got off the ground to run due to environment issues.</p>\n\n<p>For this, I would suggest that @Ignore is not what you want, because that makes your test not run at all.  Instead you want to use are the various <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Assume.html\" rel=\"noreferrer\">Assume</a> methods.</p>\n"},{"tags":[],"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493210483,"creation_date":1491313805,"answer_id":43209183,"question_id":26376073,"body_markdown":"You can use the [assumptions](http://junit.sourceforge.net/javadoc/org/junit/Assume.html), or throw your own [`AssumptionViolatedException`](http://junit.org/junit4/javadoc/4.12/org/junit/AssumptionViolatedException.html).\r\n\r\n    public static void inconclusive() {\r\n        throw new AssumptionViolatedException(&quot;Inconclusive&quot;);\r\n    }\r\n\r\nThis is intended to show that the test result cannot be relied upon and will show the test as ignored in IntelliJ.\r\n\r\n&gt; A failed assumption does not mean the code is broken, but that the test provides no useful information. The default JUnit runner treats tests with failing assumptions as ignored. Custom runners may behave differently.\r\n\r\n","title":"JUnit equivalent to NUnit Assert.Inconclusive?","body":"<p>You can use the <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Assume.html\" rel=\"nofollow noreferrer\">assumptions</a>, or throw your own <a href=\"http://junit.org/junit4/javadoc/4.12/org/junit/AssumptionViolatedException.html\" rel=\"nofollow noreferrer\"><code>AssumptionViolatedException</code></a>.</p>\n\n<pre><code>public static void inconclusive() {\n    throw new AssumptionViolatedException(\"Inconclusive\");\n}\n</code></pre>\n\n<p>This is intended to show that the test result cannot be relied upon and will show the test as ignored in IntelliJ.</p>\n\n<blockquote>\n  <p>A failed assumption does not mean the code is broken, but that the test provides no useful information. The default JUnit runner treats tests with failing assumptions as ignored. Custom runners may behave differently.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3558876,"reputation":1610,"user_id":2971847,"display_name":"Frederic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654704706,"creation_date":1654704706,"answer_id":72548981,"question_id":26376073,"body_markdown":"I am using `JUnit5` with `IntelliJ`, and to make it work (from [this solution][1]) I had to do the following.\r\n\r\nFirst: \r\n\r\n    import org.junit.jupiter.api.Assumptions;\r\n\r\nThen in your test method:\r\n\r\n    \r\n    //noinspection ConstantConditions\r\n    Assumptions.assumeTrue(false, &quot;Inconclusive&quot;);\r\n\r\n\r\nFeel free to change the `&quot;Inconclusive&quot;` message to something more explicative, for example giving the reason why.\r\n\r\n  [1]: https://stackoverflow.com/a/43209183/2971847","title":"JUnit equivalent to NUnit Assert.Inconclusive?","body":"<p>I am using <code>JUnit5</code> with <code>IntelliJ</code>, and to make it work (from <a href=\"https://stackoverflow.com/a/43209183/2971847\">this solution</a>) I had to do the following.</p>\n<p>First:</p>\n<pre><code>import org.junit.jupiter.api.Assumptions;\n</code></pre>\n<p>Then in your test method:</p>\n<pre><code>//noinspection ConstantConditions\nAssumptions.assumeTrue(false, &quot;Inconclusive&quot;);\n</code></pre>\n<p>Feel free to change the <code>&quot;Inconclusive&quot;</code> message to something more explicative, for example giving the reason why.</p>\n"}],"owner":{"account_id":4192187,"reputation":816,"user_id":3434541,"accept_rate":82,"display_name":"Joe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1815,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":34297718,"answer_count":4,"score":5,"last_activity_date":1654704706,"creation_date":1413355395,"question_id":26376073,"body_markdown":"I&#39;m a .Net developer and am brand new to Java and JUnit.\r\n\r\nI&#39;m used to using the NUnit ``Assert.Inconclusive()`` method in certain situations, but I haven&#39;t come across the same thing in JUnit.\r\n\r\nI poked around the JUnit website as well as a bit on Google and stackoverflow. At a glance, it looks like there&#39;s no equivalent in JUnit to the NUnit ``Assert.Inconclusive()`` method.\r\n\r\nIs that really the case?","title":"JUnit equivalent to NUnit Assert.Inconclusive?","body":"<p>I'm a .Net developer and am brand new to Java and JUnit.</p>\n\n<p>I'm used to using the NUnit <code>Assert.Inconclusive()</code> method in certain situations, but I haven't come across the same thing in JUnit.</p>\n\n<p>I poked around the JUnit website as well as a bit on Google and stackoverflow. At a glance, it looks like there's no equivalent in JUnit to the NUnit <code>Assert.Inconclusive()</code> method.</p>\n\n<p>Is that really the case?</p>\n"},{"tags":["java","spring-boot","performance","tomcat","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":326484,"reputation":449,"user_id":648271,"display_name":"Holgzn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632149881,"creation_date":1631881096,"answer_id":69223309,"question_id":69189957,"body_markdown":"**EDIT:** The approach below is **not sufficient** as the `ManagementWebServerFactoryCustomizer` is also a `ConfigurableWebServerFactory` and will thus be applied to the main server.\r\nAdding logic to check againgst the management port is not helping as the management context has its very own wiring and won&#39;t pick up the bean.\r\n\r\nLooks like it&#39;s not possible to hook into the management server configuration easily (would be easier if `ServletManagementContextFactory` were `public`).\r\n\r\n----\r\n\r\nYou can look into `ServletManagementChildContextConfiguration` to see how the management server is wired. \r\n\r\nYou could hook into the management server configuration by providing a `ManagementWebServerFactoryCustomizer` like this (not sure if there&#39;s an easier way):\r\n\r\n```\r\n@Configuration\r\npublic class TomcatManagementCustomizerConfiguration {\r\n    \r\n    @Bean\r\n    ManagementWebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; servletManagementWebServerFactoryCustomizer(\r\n            @Value(&quot;${management.server.threads.min-spare:5}&quot;) int managementMinSpareThreads,\r\n            ListableBeanFactory beanFactory) {\r\n        return new TomcatManagementCustomizer(beanFactory, managementMinSpareThreads);\r\n    }\r\n    \r\n    static class TomcatManagementCustomizer extends ManagementWebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; {\r\n        private final int managementMinSpareThreads;\r\n\r\n        protected TomcatManagementCustomizer(ListableBeanFactory beanFactory, int managementMinSpareThreads) {\r\n            super(beanFactory, TomcatWebServerFactoryCustomizer.class);\r\n            this.managementMinSpareThreads = managementMinSpareThreads;\r\n        }\r\n\r\n        @Override\r\n        @SuppressWarnings(&quot;rawtypes&quot;)\r\n        protected void customize(ConfigurableServletWebServerFactory factory, ManagementServerProperties managementServerProperties, ServerProperties serverProperties) {\r\n            super.customize(factory, managementServerProperties, serverProperties);\r\n            ((TomcatServletWebServerFactory) factory).addConnectorCustomizers((connector) -&gt; {\r\n                ProtocolHandler handler = connector.getProtocolHandler();\r\n                if (handler instanceof AbstractProtocol) {\r\n                    AbstractProtocol protocol = (AbstractProtocol) handler;\r\n                    protocol.setMinSpareThreads(managementMinSpareThreads);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n```","title":"Spring Boot customize server.tomcat.threads.min-spare for management server only","body":"<p><strong>EDIT:</strong> The approach below is <strong>not sufficient</strong> as the <code>ManagementWebServerFactoryCustomizer</code> is also a <code>ConfigurableWebServerFactory</code> and will thus be applied to the main server.\nAdding logic to check againgst the management port is not helping as the management context has its very own wiring and won't pick up the bean.</p>\n<p>Looks like it's not possible to hook into the management server configuration easily (would be easier if <code>ServletManagementContextFactory</code> were <code>public</code>).</p>\n<hr />\n<p>You can look into <code>ServletManagementChildContextConfiguration</code> to see how the management server is wired.</p>\n<p>You could hook into the management server configuration by providing a <code>ManagementWebServerFactoryCustomizer</code> like this (not sure if there's an easier way):</p>\n<pre><code>@Configuration\npublic class TomcatManagementCustomizerConfiguration {\n    \n    @Bean\n    ManagementWebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; servletManagementWebServerFactoryCustomizer(\n            @Value(&quot;${management.server.threads.min-spare:5}&quot;) int managementMinSpareThreads,\n            ListableBeanFactory beanFactory) {\n        return new TomcatManagementCustomizer(beanFactory, managementMinSpareThreads);\n    }\n    \n    static class TomcatManagementCustomizer extends ManagementWebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; {\n        private final int managementMinSpareThreads;\n\n        protected TomcatManagementCustomizer(ListableBeanFactory beanFactory, int managementMinSpareThreads) {\n            super(beanFactory, TomcatWebServerFactoryCustomizer.class);\n            this.managementMinSpareThreads = managementMinSpareThreads;\n        }\n\n        @Override\n        @SuppressWarnings(&quot;rawtypes&quot;)\n        protected void customize(ConfigurableServletWebServerFactory factory, ManagementServerProperties managementServerProperties, ServerProperties serverProperties) {\n            super.customize(factory, managementServerProperties, serverProperties);\n            ((TomcatServletWebServerFactory) factory).addConnectorCustomizers((connector) -&gt; {\n                ProtocolHandler handler = connector.getProtocolHandler();\n                if (handler instanceof AbstractProtocol) {\n                    AbstractProtocol protocol = (AbstractProtocol) handler;\n                    protocol.setMinSpareThreads(managementMinSpareThreads);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1956426,"reputation":496,"user_id":1759343,"accept_rate":53,"display_name":"yas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631894348,"creation_date":1631894348,"answer_id":69226394,"question_id":69189957,"body_markdown":"Can you not just put the following in either properties file or YAML file?&lt;br&gt;\r\nOr is there something I misunderstood?\r\n\r\n`server.tomcat.threads.min-spare=2` &lt;br&gt;\r\n(This is for properties file)\r\n\r\nJust to verify  (You don&#39;t need this as you have been checking the updated value in the log)&lt;br&gt;\r\n\r\nPut the following in either properties file or YAML file\r\n\r\n`management.endpoints.web.exposure.include=health,info,metrics,env` &lt;br&gt;\r\n(This is for properties file)\r\n\r\nAnd visit `/actuator/env/server.tomcat.threads.min-spare`&lt;br&gt;\r\nYou need actuator dependency for the link above to work.","title":"Spring Boot customize server.tomcat.threads.min-spare for management server only","body":"<p>Can you not just put the following in either properties file or YAML file?<br>\nOr is there something I misunderstood?</p>\n<p><code>server.tomcat.threads.min-spare=2</code> <br>\n(This is for properties file)</p>\n<p>Just to verify  (You don't need this as you have been checking the updated value in the log)<br></p>\n<p>Put the following in either properties file or YAML file</p>\n<p><code>management.endpoints.web.exposure.include=health,info,metrics,env</code> <br>\n(This is for properties file)</p>\n<p>And visit <code>/actuator/env/server.tomcat.threads.min-spare</code><br>\nYou need actuator dependency for the link above to work.</p>\n"},{"tags":[],"owner":{"account_id":17741199,"reputation":41,"user_id":12881495,"display_name":"wilmir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654704612,"creation_date":1654704612,"answer_id":72548956,"question_id":69189957,"body_markdown":"You can use @ManagementConfigurationContext and add the configuration class to to your META-INF/spring.properties file.\r\n\r\nIt is also important to place the configuration class in a package which is not the main package or sub-package of your main application context. This is so that this configuration only applies to the management context.\r\n\r\nBelow is the sampel configuration following  @Holgzn&#39;s response.\r\n\r\n```\r\n@ManagementContextConfiguration\r\npublic class TomcatManagementCustomizerConfiguration {\r\n    \r\n    @Bean\r\n    ManagementWebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; servletManagementWebServerFactoryCustomizer(\r\n            @Value(&quot;${management.server.threads.min-spare:5}&quot;) int managementMinSpareThreads,\r\n            ListableBeanFactory beanFactory) {\r\n        return new TomcatManagementCustomizer(beanFactory, managementMinSpareThreads);\r\n    }\r\n    \r\n    static class TomcatManagementCustomizer extends ManagementWebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; {\r\n        private final int managementMinSpareThreads;\r\n\r\n        protected TomcatManagementCustomizer(ListableBeanFactory beanFactory, int managementMinSpareThreads) {\r\n            super(beanFactory, TomcatWebServerFactoryCustomizer.class);\r\n            this.managementMinSpareThreads = managementMinSpareThreads;\r\n        }\r\n\r\n        @Override\r\n        @SuppressWarnings(&quot;rawtypes&quot;)\r\n        protected void customize(ConfigurableServletWebServerFactory factory, ManagementServerProperties managementServerProperties, ServerProperties serverProperties) {\r\n            super.customize(factory, managementServerProperties, serverProperties);\r\n            ((TomcatServletWebServerFactory) factory).addConnectorCustomizers((connector) -&gt; {\r\n                ProtocolHandler handler = connector.getProtocolHandler();\r\n                if (handler instanceof AbstractProtocol) {\r\n                    AbstractProtocol protocol = (AbstractProtocol) handler;\r\n                    protocol.setMinSpareThreads(managementMinSpareThreads);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n````\r\n\r\nThe spring.properties file\r\n\r\n````\r\norg.springframework.boot.actuate.autoconfigure.web.ManagementContextConfiguration=&lt;package&gt;.TomcatManagementCustomizerConfiguration ","title":"Spring Boot customize server.tomcat.threads.min-spare for management server only","body":"<p>You can use @ManagementConfigurationContext and add the configuration class to to your META-INF/spring.properties file.</p>\n<p>It is also important to place the configuration class in a package which is not the main package or sub-package of your main application context. This is so that this configuration only applies to the management context.</p>\n<p>Below is the sampel configuration following  @Holgzn's response.</p>\n<pre><code>@ManagementContextConfiguration\npublic class TomcatManagementCustomizerConfiguration {\n    \n    @Bean\n    ManagementWebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; servletManagementWebServerFactoryCustomizer(\n            @Value(&quot;${management.server.threads.min-spare:5}&quot;) int managementMinSpareThreads,\n            ListableBeanFactory beanFactory) {\n        return new TomcatManagementCustomizer(beanFactory, managementMinSpareThreads);\n    }\n    \n    static class TomcatManagementCustomizer extends ManagementWebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; {\n        private final int managementMinSpareThreads;\n\n        protected TomcatManagementCustomizer(ListableBeanFactory beanFactory, int managementMinSpareThreads) {\n            super(beanFactory, TomcatWebServerFactoryCustomizer.class);\n            this.managementMinSpareThreads = managementMinSpareThreads;\n        }\n\n        @Override\n        @SuppressWarnings(&quot;rawtypes&quot;)\n        protected void customize(ConfigurableServletWebServerFactory factory, ManagementServerProperties managementServerProperties, ServerProperties serverProperties) {\n            super.customize(factory, managementServerProperties, serverProperties);\n            ((TomcatServletWebServerFactory) factory).addConnectorCustomizers((connector) -&gt; {\n                ProtocolHandler handler = connector.getProtocolHandler();\n                if (handler instanceof AbstractProtocol) {\n                    AbstractProtocol protocol = (AbstractProtocol) handler;\n                    protocol.setMinSpareThreads(managementMinSpareThreads);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>The spring.properties file</p>\n<pre><code>org.springframework.boot.actuate.autoconfigure.web.ManagementContextConfiguration=&lt;package&gt;.TomcatManagementCustomizerConfiguration \n</code></pre>\n"}],"owner":{"account_id":3180734,"reputation":705,"user_id":2687517,"accept_rate":100,"display_name":"pmpm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1185,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1654704612,"creation_date":1631695990,"question_id":69189957,"body_markdown":"I have an application with management.server enabled:\r\n\r\n`management.server.port=8081`\r\n\r\n\r\nWhen I start application, I have:\r\n\r\n- 10 threads for 8080 HTTP nio connector\r\n- 10 threads for 8081 HTTP nio connector\r\n\r\n\r\nBut I would like to reduce min-spare only for management (8081) and not for the web application (8080)\r\n\r\nLooking at Spring code, it seems it&#39;s not possible, can someone confirm ?\r\n\r\n","title":"Spring Boot customize server.tomcat.threads.min-spare for management server only","body":"<p>I have an application with management.server enabled:</p>\n<p><code>management.server.port=8081</code></p>\n<p>When I start application, I have:</p>\n<ul>\n<li>10 threads for 8080 HTTP nio connector</li>\n<li>10 threads for 8081 HTTP nio connector</li>\n</ul>\n<p>But I would like to reduce min-spare only for management (8081) and not for the web application (8080)</p>\n<p>Looking at Spring code, it seems it's not possible, can someone confirm ?</p>\n"},{"tags":["java","multithreading","completable-future"],"comments":[{"owner":{"account_id":977507,"reputation":2280,"user_id":998126,"display_name":"Alexander Pavlov"},"score":0,"creation_date":1654743245,"post_id":72548870,"comment_id":128166266,"body_markdown":"Your list is empty because you swallow an error in the first future and return an empty list. Remove `try catch` (or re-throw as `RuntimeException`) in the first future to see what&#39;s going on with first call.","body":"Your list is empty because you swallow an error in the first future and return an empty list. Remove <code>try catch</code> (or re-throw as <code>RuntimeException</code>) in the first future to see what&#39;s going on with first call."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1654783160,"post_id":72548870,"comment_id":128178473,"body_markdown":"Your first code snippet starts with calling two different methods, `callAPI1` and `callFirstAPI2`. Your second snippet calls the same method, `callAPI1`, each time, but with different id arguments. Besides that, if *looks like the  are not happening in the same thread* is a problem, why are you using `supplyAsync` at all? Since your second approach is blocking the caller until completion anyway, you can use `List&lt;String&gt; res1 = callAPI2(callAPI1(id1)), res2 = callAPI2(callAPI1(id2));` to achieve the same.","body":"Your first code snippet starts with calling two different methods, <code>callAPI1</code> and <code>callFirstAPI2</code>. Your second snippet calls the same method, <code>callAPI1</code>, each time, but with different id arguments. Besides that, if <i>looks like the  are not happening in the same thread</i> is a problem, why are you using <code>supplyAsync</code> at all? Since your second approach is blocking the caller until completion anyway, you can use <code>List&lt;String&gt; res1 = callAPI2(callAPI1(id1)), res2 = callAPI2(callAPI1(id2));</code> to achieve the same."}],"owner":{"account_id":11936627,"reputation":105,"user_id":8734879,"display_name":"Rufus7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654704146,"creation_date":1654704146,"question_id":72548870,"body_markdown":"I am new to multithreading and feel confused about it.\r\n\r\nI am trying to create two parallel threads, in each thread, it first calls an api-1 and get the response, then use that response to call the second api-2 and get the final result.\r\n\r\nThe first version code is like:\r\n```java\r\nCompletableFuture&lt;List&lt;String&gt;&gt; listFuture1 = CompletableFuture\r\n   .supplyAsync(() -&gt; {\r\n      List&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n      try {\r\n         res = callAPI1(id);\r\n         return res;\r\n      } catch(Exception e) {\r\n        //...\r\n      }\r\n      return res; \r\n});\r\n\r\nCompletableFuture&lt;List&lt;String&gt;&gt; listFuture2 = CompletableFuture\r\n   .supplyAsync(() -&gt; {\r\n      List&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n      try {\r\n         res = callFirstAPI2(id);\r\n         return res;\r\n      } catch(Exception e) {\r\n        //...\r\n      }\r\n      return res; \r\n});\r\n\r\nList&lt;String&gt; list1 = new ArrayList&lt;&gt;(listFuture1.join());\r\nList&lt;String&gt; list2 = new ArrayList&lt;&gt;(listFuture2.join());\r\n\r\n\r\nList&lt;String&gt; res1 = callAPI2(list1);\r\nList&lt;String&gt; res2 = callAPI2(list2);\r\n```\r\nThe above code works correctly but it is very slow to get the final result, and looks like the callFirstAPI1() and callFirstAPI2() are not happening in the same thread.\r\n\r\n\r\nThen I tried this way:\r\n```java\r\npublic List&lt;String&gt; getList(int id) {\r\n\r\n  CompletableFuture&lt;List&lt;String&gt;&gt; res = CompletableFuture\r\n   .supplyAsync(() -&gt; {\r\n      List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n      try {\r\n         list= callAPI1(id);\r\n         return list;\r\n      } catch(Exception e) {\r\n      }\r\n      return list; \r\n  }).thenApply(list -&gt; {\r\n   List&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n   try {\r\n         res= callAPI2(list);\r\n         return res;\r\n      } catch(Exception e) {\r\n      }\r\n      return res; \r\n  });\r\n\r\n  return new ArrayList&lt;&gt;(res.join());\r\n}\r\n\r\npublic static void main(String args[]) {\r\n  List&lt;String&gt; res1 = getList(id1);\r\n  List&lt;String&gt; res2 = getList(id2);\r\n}\r\n```\r\nNow the results are all empty. \r\nI debugged and found that in the thenApply(), the list is empty, that&#39;s why the final result is empty. so thenApply() is still executed even the completablefuture is not completed.\r\n\r\n\r\nHow to correct the code?","title":"Java completableFuture - multithreading issue","body":"<p>I am new to multithreading and feel confused about it.</p>\n<p>I am trying to create two parallel threads, in each thread, it first calls an api-1 and get the response, then use that response to call the second api-2 and get the final result.</p>\n<p>The first version code is like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;List&lt;String&gt;&gt; listFuture1 = CompletableFuture\n   .supplyAsync(() -&gt; {\n      List&lt;String&gt; res = new ArrayList&lt;&gt;();\n      try {\n         res = callAPI1(id);\n         return res;\n      } catch(Exception e) {\n        //...\n      }\n      return res; \n});\n\nCompletableFuture&lt;List&lt;String&gt;&gt; listFuture2 = CompletableFuture\n   .supplyAsync(() -&gt; {\n      List&lt;String&gt; res = new ArrayList&lt;&gt;();\n      try {\n         res = callFirstAPI2(id);\n         return res;\n      } catch(Exception e) {\n        //...\n      }\n      return res; \n});\n\nList&lt;String&gt; list1 = new ArrayList&lt;&gt;(listFuture1.join());\nList&lt;String&gt; list2 = new ArrayList&lt;&gt;(listFuture2.join());\n\n\nList&lt;String&gt; res1 = callAPI2(list1);\nList&lt;String&gt; res2 = callAPI2(list2);\n</code></pre>\n<p>The above code works correctly but it is very slow to get the final result, and looks like the callFirstAPI1() and callFirstAPI2() are not happening in the same thread.</p>\n<p>Then I tried this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;String&gt; getList(int id) {\n\n  CompletableFuture&lt;List&lt;String&gt;&gt; res = CompletableFuture\n   .supplyAsync(() -&gt; {\n      List&lt;String&gt; list = new ArrayList&lt;&gt;();\n      try {\n         list= callAPI1(id);\n         return list;\n      } catch(Exception e) {\n      }\n      return list; \n  }).thenApply(list -&gt; {\n   List&lt;String&gt; res = new ArrayList&lt;&gt;();\n   try {\n         res= callAPI2(list);\n         return res;\n      } catch(Exception e) {\n      }\n      return res; \n  });\n\n  return new ArrayList&lt;&gt;(res.join());\n}\n\npublic static void main(String args[]) {\n  List&lt;String&gt; res1 = getList(id1);\n  List&lt;String&gt; res2 = getList(id2);\n}\n</code></pre>\n<p>Now the results are all empty.\nI debugged and found that in the thenApply(), the list is empty, that's why the final result is empty. so thenApply() is still executed even the completablefuture is not completed.</p>\n<p>How to correct the code?</p>\n"},{"tags":["java","cassandra","cassandra-3.0"],"comments":[{"owner":{"account_id":15422225,"reputation":419,"user_id":11125970,"display_name":"floating_hammer"},"score":0,"creation_date":1635254722,"post_id":69630242,"comment_id":123243522,"body_markdown":"Hi, faced this issue sometime back. Can you check your compaction throughput?\nuse - nodetool getcompactionthroughput","body":"Hi, faced this issue sometime back. Can you check your compaction throughput? use - nodetool getcompactionthroughput"}],"owner":{"account_id":22226181,"reputation":21,"user_id":16463105,"display_name":"Swapnil Waghmare"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1654704039,"creation_date":1634643961,"question_id":69630242,"body_markdown":"Hello I am getting this error while starting Cassandra and after 2-3 minutes I get this message\r\n\r\n```\r\nWARN  [Service Thread] 2021-10-19 13:17:28,826 GCInspector.java:282 - ConcurrentMarkSweep GC in 23493ms.  CMS Old Gen: 9898557408 -&gt; 9898557384; Par Eden Space: 671088640 -&gt; 671088632; Par Survivor Space: 83886056 -&gt; 80972352\r\nINFO  [Service Thread] 2021-10-19 13:17:28,827 StatusLogger.java:47 - Pool Name                    Active   Pending      Completed   Blocked  All Time Blocked\r\nINFO  [Service Thread] 2021-10-19 13:17:28,834 StatusLogger.java:51 - MutationStage                     1         0         854699         0                 0\r\n\r\nINFO  [Service Thread] 2021-10-19 13:17:28,836 StatusLogger.java:51 - ViewMutationStage                 0         0              0         0                 0\r\n\r\nINFO  [Service Thread] 2021-10-19 13:17:28,838 StatusLogger.java:51 - ReadStage                         0         0              0         0                 0\r\n\r\nINFO  [Service Thread] 2021-10-19 13:17:28,839 StatusLogger.java:51 - RequestResponseStage              0         0              0         0                 0\r\n\r\nINFO  [Service Thread] 2021-10-19 13:17:45,452 StatusLogger.java:51 - ReadRepairStage                   0         0              0         0                 0\r\n\r\nINFO  [Service Thread] 2021-10-19 13:17:45,453 StatusLogger.java:51 - CounterMutationStage              0         0              0         0                 0\r\n\r\nINFO  [Service Thread] 2021-10-19 13:17:45,454 StatusLogger.java:51 - MiscStage                         0         0              0         0                 0\r\n\r\nINFO  [Service Thread] 2021-10-19 13:17:45,454 StatusLogger.java:51 - CompactionExecutor                0         0             26         0                 0\r\n\r\nINFO  [Service Thread] 2021-10-19 13:17:45,455 StatusLogger.java:51 - MemtableReclaimMemory             0         0             23         0                 0\r\n\r\nINFO  [Service Thread] 2021-10-19 13:17:45,455 StatusLogger.java:51 - GossipStage                       0         0              0         0                 0\r\n\r\nINFO  [Service Thread] 2021-10-19 13:17:45,456 StatusLogger.java:51 - SecondaryIndexManagement          0         0              0         0                 0\r\n\r\nINFO  [Service Thread] 2021-10-19 13:17:45,457 StatusLogger.java:51 - HintsDispatcher                   0         0              0         0                 0\r\n\r\nINFO  [Service Thread] 2021-10-19 13:18:05,523 StatusLogger.java:51 - MigrationStage                    0         0              0         0                 0\r\n\r\nINFO  [Service Thread] 2021-10-19 13:18:05,524 StatusLogger.java:51 - MemtablePostFlush                 0         0             23         0                 0\r\n\r\nINFO  [Service Thread] 2021-10-19 13:18:22,163 StatusLogger.java:51 - PerDiskMemtableFlushWriter_0         0         0             23         0                 0\r\n\r\njava.lang.OutOfMemoryError: Java heap space\r\nDumping heap to java_pid40352.hprof ...\r\nHeap dump file created [17225711047 bytes in 125.079 secs]\r\n\r\n\r\n# java.lang.OutOfMemoryError: Java heap space\r\n# -XX:OnOutOfMemoryError=&quot;kill -9 %p&quot;\r\n#   Executing /bin/sh -c &quot;kill -9 40352&quot;...\r\n\r\n```\r\nI tried various combinations of Heap sizes. tried increasing it up to 16GB, still not working. \r\nAny help will me much appreciated.","title":"Cassandra java.lang.OutOfMemoryError: Java heap space on CentOS 7","body":"<p>Hello I am getting this error while starting Cassandra and after 2-3 minutes I get this message</p>\n<pre><code>WARN  [Service Thread] 2021-10-19 13:17:28,826 GCInspector.java:282 - ConcurrentMarkSweep GC in 23493ms.  CMS Old Gen: 9898557408 -&gt; 9898557384; Par Eden Space: 671088640 -&gt; 671088632; Par Survivor Space: 83886056 -&gt; 80972352\nINFO  [Service Thread] 2021-10-19 13:17:28,827 StatusLogger.java:47 - Pool Name                    Active   Pending      Completed   Blocked  All Time Blocked\nINFO  [Service Thread] 2021-10-19 13:17:28,834 StatusLogger.java:51 - MutationStage                     1         0         854699         0                 0\n\nINFO  [Service Thread] 2021-10-19 13:17:28,836 StatusLogger.java:51 - ViewMutationStage                 0         0              0         0                 0\n\nINFO  [Service Thread] 2021-10-19 13:17:28,838 StatusLogger.java:51 - ReadStage                         0         0              0         0                 0\n\nINFO  [Service Thread] 2021-10-19 13:17:28,839 StatusLogger.java:51 - RequestResponseStage              0         0              0         0                 0\n\nINFO  [Service Thread] 2021-10-19 13:17:45,452 StatusLogger.java:51 - ReadRepairStage                   0         0              0         0                 0\n\nINFO  [Service Thread] 2021-10-19 13:17:45,453 StatusLogger.java:51 - CounterMutationStage              0         0              0         0                 0\n\nINFO  [Service Thread] 2021-10-19 13:17:45,454 StatusLogger.java:51 - MiscStage                         0         0              0         0                 0\n\nINFO  [Service Thread] 2021-10-19 13:17:45,454 StatusLogger.java:51 - CompactionExecutor                0         0             26         0                 0\n\nINFO  [Service Thread] 2021-10-19 13:17:45,455 StatusLogger.java:51 - MemtableReclaimMemory             0         0             23         0                 0\n\nINFO  [Service Thread] 2021-10-19 13:17:45,455 StatusLogger.java:51 - GossipStage                       0         0              0         0                 0\n\nINFO  [Service Thread] 2021-10-19 13:17:45,456 StatusLogger.java:51 - SecondaryIndexManagement          0         0              0         0                 0\n\nINFO  [Service Thread] 2021-10-19 13:17:45,457 StatusLogger.java:51 - HintsDispatcher                   0         0              0         0                 0\n\nINFO  [Service Thread] 2021-10-19 13:18:05,523 StatusLogger.java:51 - MigrationStage                    0         0              0         0                 0\n\nINFO  [Service Thread] 2021-10-19 13:18:05,524 StatusLogger.java:51 - MemtablePostFlush                 0         0             23         0                 0\n\nINFO  [Service Thread] 2021-10-19 13:18:22,163 StatusLogger.java:51 - PerDiskMemtableFlushWriter_0         0         0             23         0                 0\n\njava.lang.OutOfMemoryError: Java heap space\nDumping heap to java_pid40352.hprof ...\nHeap dump file created [17225711047 bytes in 125.079 secs]\n\n\n# java.lang.OutOfMemoryError: Java heap space\n# -XX:OnOutOfMemoryError=&quot;kill -9 %p&quot;\n#   Executing /bin/sh -c &quot;kill -9 40352&quot;...\n\n</code></pre>\n<p>I tried various combinations of Heap sizes. tried increasing it up to 16GB, still not working.\nAny help will me much appreciated.</p>\n"},{"tags":["java","spring","spring-boot","avro","spring-cloud-stream"],"comments":[{"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"score":1,"creation_date":1654703880,"post_id":72548365,"comment_id":128156447,"body_markdown":"Does this help? https://stackoverflow.com/questions/45898453/apache-avro-with-rest","body":"Does this help? <a href=\"https://stackoverflow.com/questions/45898453/apache-avro-with-rest\" title=\"apache avro with rest\">stackoverflow.com/questions/45898453/apache-avro-with-rest</a>"},{"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"score":0,"creation_date":1654711810,"post_id":72548365,"comment_id":128159304,"body_markdown":"@armandino Yes I thought that would help, but alas I&#39;m struggling to get it to work/implement it. I have added my questions to the Comments section of that answer. Thank you","body":"@armandino Yes I thought that would help, but alas I&#39;m struggling to get it to work/implement it. I have added my questions to the Comments section of that answer. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":1026493,"reputation":4024,"user_id":1035691,"accept_rate":40,"display_name":"Vinicius Carvalho"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654703157,"creation_date":1654703157,"answer_id":72548640,"question_id":72548365,"body_markdown":"I&#39;m no longer a Spring member, and I believe the schema registry is no longer maintained. But it was never its intention to work with the controller to serialize/deserialize payloads. It was meant to work with Spring Cloud Stream own&#39;s serialization mechanism (version 1.x).\r\n\r\nI&#39;m afraid it would not work in this case without some tinkering on your end to build a serializer that looks up the registry for a given schema and serializes it back and forth. Note you would also need a header with the FQN of the schema in order to query the registry, and caching it would be a must to not impact your app.\r\n\r\nHopefully someone from the Spring team could provide some better insights on this.","title":"spring-cloud-schema-registry-client does not convert to Avro and I get org.springframework.http.converter.HttpMessageNotWritableException","body":"<p>I'm no longer a Spring member, and I believe the schema registry is no longer maintained. But it was never its intention to work with the controller to serialize/deserialize payloads. It was meant to work with Spring Cloud Stream own's serialization mechanism (version 1.x).</p>\n<p>I'm afraid it would not work in this case without some tinkering on your end to build a serializer that looks up the registry for a given schema and serializes it back and forth. Note you would also need a header with the FQN of the schema in order to query the registry, and caching it would be a must to not impact your app.</p>\n<p>Hopefully someone from the Spring team could provide some better insights on this.</p>\n"}],"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654703820,"creation_date":1654701963,"question_id":72548365,"body_markdown":"My goal is to have Spring automaically marshall responses and requests to Avro format from POJO and any Avro schema files automatically. I have tried to no avail for several days to get spring-cloud-schema-registry-client to automatically serialize/deserialze application/avro messages sent back by the controller as a response. The request comes in with the Accept header &quot;application/avro&quot; (I also tried application/emp.v1+avro and other combinations).\r\n\r\nNo matter what I try, the response message is not automatically deserialized by spring cloud AvroSchemaMessageConverter. As per their [documentation][1], the Avro schema should be automatically inferred from the POJO, and the repsonse should be sent back in Avro out of the box. \r\n\r\nThe dependency I&#39;m using is \r\n\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-schema-registry-client&lt;/artifactId&gt;\r\n          &lt;version&gt;1.1.5&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nMy application.yml file has-\r\n\r\n    spring:\r\n       cloud:\r\n        stream:\r\n          bindings:\r\n            output:\r\n              contentType: application/*+avro\r\n        schema:\r\n          avro:\r\n            dynamicSchemaGenerationEnabled: true\r\n\r\nCan someone please help me understand why this doesn&#39;t work and I keep getting the error message -\r\n\r\n    org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.Arrays$ArrayList]\r\n\r\nDo I need to register the schema explicitly? \r\nFor eg,, I&#39;m returning a list of Employees POJO.\r\nIf needed I can try to generate the Avro schema from the Employee POJO using [jackson-dataformats][2] and then manually register it with the AvroConverter bean. But as per my understanding this should be done out of the box by spring-cloud-schema-registry. \r\n\r\nAdditional Information:\r\nMy controller returns a list of Employee POJO like \r\n\r\n    ResponseEntity&lt;List&lt;Employee&gt;&gt;\r\nI used @EnableSchemRegistryClient in my main class along with @SpringBootApplication.\r\n\r\nIn my test method I&#39;m using:\r\n\r\n            MvcResult result = mockMvc\r\n                .perform(MockMvcRequestBuilders.get(url)\r\n                        //.contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                        .accept(&quot;application/avro&quot;))\r\n                        .andExpect(content().contentType(&quot;application/avro&quot;)) \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-schema-registry/docs/current/reference/html/spring-cloud-schema-registry.html#_avro_schema_registry_message_converter_properties\r\n  [2]: https://github.com/FasterXML/jackson-dataformats-binary/tree/2.13/avro#generating-avro-schema-from-pojo-definition","title":"spring-cloud-schema-registry-client does not convert to Avro and I get org.springframework.http.converter.HttpMessageNotWritableException","body":"<p>My goal is to have Spring automaically marshall responses and requests to Avro format from POJO and any Avro schema files automatically. I have tried to no avail for several days to get spring-cloud-schema-registry-client to automatically serialize/deserialze application/avro messages sent back by the controller as a response. The request comes in with the Accept header &quot;application/avro&quot; (I also tried application/emp.v1+avro and other combinations).</p>\n<p>No matter what I try, the response message is not automatically deserialized by spring cloud AvroSchemaMessageConverter. As per their <a href=\"https://docs.spring.io/spring-cloud-schema-registry/docs/current/reference/html/spring-cloud-schema-registry.html#_avro_schema_registry_message_converter_properties\" rel=\"nofollow noreferrer\">documentation</a>, the Avro schema should be automatically inferred from the POJO, and the repsonse should be sent back in Avro out of the box.</p>\n<p>The dependency I'm using is</p>\n<pre><code>   &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-schema-registry-client&lt;/artifactId&gt;\n      &lt;version&gt;1.1.5&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>My application.yml file has-</p>\n<pre><code>spring:\n   cloud:\n    stream:\n      bindings:\n        output:\n          contentType: application/*+avro\n    schema:\n      avro:\n        dynamicSchemaGenerationEnabled: true\n</code></pre>\n<p>Can someone please help me understand why this doesn't work and I keep getting the error message -</p>\n<pre><code>org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.Arrays$ArrayList]\n</code></pre>\n<p>Do I need to register the schema explicitly?\nFor eg,, I'm returning a list of Employees POJO.\nIf needed I can try to generate the Avro schema from the Employee POJO using <a href=\"https://github.com/FasterXML/jackson-dataformats-binary/tree/2.13/avro#generating-avro-schema-from-pojo-definition\" rel=\"nofollow noreferrer\">jackson-dataformats</a> and then manually register it with the AvroConverter bean. But as per my understanding this should be done out of the box by spring-cloud-schema-registry.</p>\n<p>Additional Information:\nMy controller returns a list of Employee POJO like</p>\n<pre><code>ResponseEntity&lt;List&lt;Employee&gt;&gt;\n</code></pre>\n<p>I used @EnableSchemRegistryClient in my main class along with @SpringBootApplication.</p>\n<p>In my test method I'm using:</p>\n<pre><code>        MvcResult result = mockMvc\n            .perform(MockMvcRequestBuilders.get(url)\n                    //.contentType(MediaType.APPLICATION_JSON_VALUE)\n                    .accept(&quot;application/avro&quot;))\n                    .andExpect(content().contentType(&quot;application/avro&quot;)) \n</code></pre>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":40721,"reputation":357288,"user_id":118068,"display_name":"Marc B"},"score":1,"creation_date":1408742070,"post_id":25455574,"comment_id":39720876,"body_markdown":"Is that CSV data? or just a simple text file that happens to contain a few bits of data with commas?","body":"Is that CSV data? or just a simple text file that happens to contain a few bits of data with commas?"},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1408742092,"post_id":25455574,"comment_id":39720892,"body_markdown":"Your raw data has 7 elements separated by 6 commas.  Which 4 do you want?","body":"Your raw data has 7 elements separated by 6 commas.  Which 4 do you want?"},{"owner":{"account_id":187288,"reputation":4324,"user_id":2191722,"display_name":"Volune"},"score":0,"creation_date":1408742185,"post_id":25455574,"comment_id":39720932,"body_markdown":"I think he first want to split the rawData in lines and then do the computation for each line.","body":"I think he first want to split the rawData in lines and then do the computation for each line."},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1408742566,"post_id":25455574,"comment_id":39721058,"body_markdown":"@Volune, you&#39;re right, that didn&#39;t even occur to me...I looked right past those newlines.  Thanks!","body":"@Volune, you&#39;re right, that didn&#39;t even occur to me...I looked right past those newlines.  Thanks!"},{"owner":{"account_id":3202045,"reputation":261,"user_id":2703924,"accept_rate":67,"display_name":"Shona"},"score":0,"creation_date":1408749136,"post_id":25455574,"comment_id":39723066,"body_markdown":"@Marc B: this is not a csv file but a simple text file which happens to have commas as delimiter also every individual record is terminated with a newline.","body":"@Marc B: this is not a csv file but a simple text file which happens to have commas as delimiter also every individual record is terminated with a newline."}],"answers":[{"tags":[],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1408741974,"creation_date":1408741974,"answer_id":25455601,"question_id":25455574,"body_markdown":"    String s = new String(&quot;a,b,c&quot;);\r\n    String[] split = s.split(&quot;,&quot;);","title":"parse comma separated data in java","body":"<pre><code>String s = new String(\"a,b,c\");\nString[] split = s.split(\",\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":153578,"reputation":15120,"user_id":368926,"accept_rate":63,"display_name":"elias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1408743148,"creation_date":1408742752,"answer_id":25455761,"question_id":25455574,"body_markdown":"Use the `Matcher` from `java.util.regex` package:\r\n\r\n    String rawdata = &quot;900,300,Ernest,Fuller\\n777,555,Henry,Miller\\n&quot;;\r\n\r\n    Matcher m = Pattern.compile(&quot;(\\\\d+),(\\\\d+),(\\\\w+),(\\\\w+)&quot;, Pattern.DOTALL).matcher(rawdata);\r\n\twhile(m.find()){\r\n\t\tint cId = Integer.parseInt(m.group(1));\r\n\t\tint aId = Integer.parseInt(m.group(2));\r\n\t\tString fName = m.group(3);\r\n\t\tString lName = m.group(4);\r\n\r\n        // your logic here\r\n\t\tnew BaseRecord (int cId, int aId, String fName, String lName);\r\n\t}\r\n\r\nThis way you can have multiple newlines and prevents the `NumberFormatException` on `parseInt`","title":"parse comma separated data in java","body":"<p>Use the <code>Matcher</code> from <code>java.util.regex</code> package:</p>\n\n<pre><code>String rawdata = \"900,300,Ernest,Fuller\\n777,555,Henry,Miller\\n\";\n\nMatcher m = Pattern.compile(\"(\\\\d+),(\\\\d+),(\\\\w+),(\\\\w+)\", Pattern.DOTALL).matcher(rawdata);\nwhile(m.find()){\n    int cId = Integer.parseInt(m.group(1));\n    int aId = Integer.parseInt(m.group(2));\n    String fName = m.group(3);\n    String lName = m.group(4);\n\n    // your logic here\n    new BaseRecord (int cId, int aId, String fName, String lName);\n}\n</code></pre>\n\n<p>This way you can have multiple newlines and prevents the <code>NumberFormatException</code> on <code>parseInt</code></p>\n"},{"tags":[],"owner":{"account_id":2791833,"reputation":184,"user_id":2401934,"display_name":"turboemu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1408753921,"creation_date":1408753921,"answer_id":25457338,"question_id":25455574,"body_markdown":"If you&#39;re still not sure from the help given so far here is a little more. Split your raw data on the new lines. Then split each element of the resulting array to obtain the 4 parameters you&#39;re looking for. E.g.\r\n\r\n\tString rawdata = &quot;900,300,Ernest,Fuller\\n777,555,Henry,Miller\\n&quot;;\r\n\t\r\n\tString[] records = rawdata.split(&quot;\\n&quot;);\r\n\t\r\n\tList&lt;BaseRecord&gt; baseRecords = new ArrayList&lt;BaseRecord&gt;();\r\n\t\r\n\tfor (String record: records) {\r\n\t\tString [] recordData = record.split(&quot;,&quot;);\r\n\t\t\r\n\t\tbaseRecords.add(new BaseRecord(Integer.parseInt(recordData[0]), Integer.parseInt(recordData[1]), recordData[2], recordData[3]));\r\n\t}\r\n\r\nNow you have a list of BaseRecord objects. This assumes all the data is formed as presented in your example.","title":"parse comma separated data in java","body":"<p>If you're still not sure from the help given so far here is a little more. Split your raw data on the new lines. Then split each element of the resulting array to obtain the 4 parameters you're looking for. E.g.</p>\n\n<pre><code>String rawdata = \"900,300,Ernest,Fuller\\n777,555,Henry,Miller\\n\";\n\nString[] records = rawdata.split(\"\\n\");\n\nList&lt;BaseRecord&gt; baseRecords = new ArrayList&lt;BaseRecord&gt;();\n\nfor (String record: records) {\n    String [] recordData = record.split(\",\");\n\n    baseRecords.add(new BaseRecord(Integer.parseInt(recordData[0]), Integer.parseInt(recordData[1]), recordData[2], recordData[3]));\n}\n</code></pre>\n\n<p>Now you have a list of BaseRecord objects. This assumes all the data is formed as presented in your example.</p>\n"}],"owner":{"account_id":3202045,"reputation":261,"user_id":2703924,"accept_rate":67,"display_name":"Shona"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25457338,"answer_count":3,"score":0,"last_activity_date":1654702857,"creation_date":1408741838,"question_id":25455574,"body_markdown":"I need to parse the input data into 4 different parameters as in below format before calling the constructor to create the object. Any ideas?\r\n\r\nsample data input format: \r\n\r\n    rawdata = &quot;900,300,Ernest,Fuller\\n777,555,Henry,Miller\\n&quot;;     //and so on\r\n\r\n.\r\n\r\n\r\n    class BaseRecord {\r\n    \r\n          int callerId;\r\n          int areaId;\r\n          String firstName;\r\n          String lastName;\r\n    \r\n          BaseRecord (int cId, int aId, String fName, String lName)\r\n    \r\n                    callerId = cId;\r\n                    areaId = aId;\r\n                    firstName = fName;\r\n                    lastName = lName;\r\n    \r\n    }","title":"parse comma separated data in java","body":"<p>I need to parse the input data into 4 different parameters as in below format before calling the constructor to create the object. Any ideas?</p>\n\n<p>sample data input format: </p>\n\n<pre><code>rawdata = \"900,300,Ernest,Fuller\\n777,555,Henry,Miller\\n\";     //and so on\n</code></pre>\n\n<p>.</p>\n\n<pre><code>class BaseRecord {\n\n      int callerId;\n      int areaId;\n      String firstName;\n      String lastName;\n\n      BaseRecord (int cId, int aId, String fName, String lName)\n\n                callerId = cId;\n                areaId = aId;\n                firstName = fName;\n                lastName = lName;\n\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10837596,"reputation":720,"user_id":7970051,"display_name":"Rjbeckwith"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1654702821,"creation_date":1654657428,"answer_id":72539573,"question_id":72539509,"body_markdown":"If you aren&#39;t allowed arguments in the constructor based on the diagram. You could add the scanner code into the Department constructor. Then in the main create two different department objects.\r\n\r\n    public Department(){\r\n        Scanner sc = new Scanner(System.in);\r\n        int a = sc.nextInt();\r\n        int b = sc.nextInt();\r\n        // c,d,e etc...\r\n        groupScore = a + b + c + d + e;\r\n        groupAverage = groupScore / 5.0;\r\n\r\n        overallScore = overallScore + groupScore;\r\n\r\n        if (overallAverage == 0.0) {\r\n            overallAverage = groupAverage;\r\n        } else {\r\n            overallAverage = (groupAverage + overallAverage) / 2.0;\r\n        }\r\n    }\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Enter 5 rates for Department 1 (1-5)&quot;);\r\n            Department department1 = new Department();\r\n            System.out.println(&quot;Department 1 group average: &quot; + department1.getGroupAverage());\r\n            Department.displayAverage();\r\n            System.out.println();\r\n\r\n            System.out.println(&quot;Enter 5 rates for Department 2 (1-5)&quot;);\r\n            Department department2 = new Department();\r\n            System.out.println(&quot;Department 2 group average: &quot; + department2.getGroupAverage());\r\n            Department.displayAverage();\r\n        }\r\n    }\r\n\r\n**If you are allowed arguments**,\r\nYou need to pass in your variables into your Department constructor while creating the object. First create a constructor that takes in 5 integer values\r\n\r\n\r\n    public Department(int a, int b, int c, int d, int e){\r\n        groupScore = a + b + c + d + e;\r\n        groupAverage = (a + b + c + d + e) / 5;\r\n    }\r\n\r\nSecond pass the values to the constructor in the main method. Like this\r\n\r\n    int a = sc.nextInt();\r\n    int b = sc.nextInt();\r\n    int c = sc.nextInt();\r\n    int d = sc.nextInt();\r\n    int e = sc.nextInt();\r\n    Department objdept = new Department(a,b,c,d,e);","title":"The input from main class can&#39;t be accessed in the another class and would only display the initialized value","body":"<p>If you aren't allowed arguments in the constructor based on the diagram. You could add the scanner code into the Department constructor. Then in the main create two different department objects.</p>\n<pre><code>public Department(){\n    Scanner sc = new Scanner(System.in);\n    int a = sc.nextInt();\n    int b = sc.nextInt();\n    // c,d,e etc...\n    groupScore = a + b + c + d + e;\n    groupAverage = groupScore / 5.0;\n\n    overallScore = overallScore + groupScore;\n\n    if (overallAverage == 0.0) {\n        overallAverage = groupAverage;\n    } else {\n        overallAverage = (groupAverage + overallAverage) / 2.0;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Enter 5 rates for Department 1 (1-5)&quot;);\n        Department department1 = new Department();\n        System.out.println(&quot;Department 1 group average: &quot; + department1.getGroupAverage());\n        Department.displayAverage();\n        System.out.println();\n\n        System.out.println(&quot;Enter 5 rates for Department 2 (1-5)&quot;);\n        Department department2 = new Department();\n        System.out.println(&quot;Department 2 group average: &quot; + department2.getGroupAverage());\n        Department.displayAverage();\n    }\n}\n</code></pre>\n<p><strong>If you are allowed arguments</strong>,\nYou need to pass in your variables into your Department constructor while creating the object. First create a constructor that takes in 5 integer values</p>\n<pre><code>public Department(int a, int b, int c, int d, int e){\n    groupScore = a + b + c + d + e;\n    groupAverage = (a + b + c + d + e) / 5;\n}\n</code></pre>\n<p>Second pass the values to the constructor in the main method. Like this</p>\n<pre><code>int a = sc.nextInt();\nint b = sc.nextInt();\nint c = sc.nextInt();\nint d = sc.nextInt();\nint e = sc.nextInt();\nDepartment objdept = new Department(a,b,c,d,e);\n</code></pre>\n"}],"owner":{"account_id":24028064,"reputation":15,"user_id":18009424,"display_name":"trese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72539573,"answer_count":1,"score":0,"last_activity_date":1654702821,"creation_date":1654656568,"question_id":72539509,"body_markdown":"I need to access the inputs from the main class and let them be applied to the department class, however, it won&#39;t let me. Also, I am not allowed to use parameters. I need to follow this UML diagram. Please guide me on how can I fix this. Our topic is all about inheritance, static variables and method, method overriding and super keyword.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Azo6R.png\r\n\r\n    public class Department {\r\n    \tprivate int groupScore;\r\n    \tprivate double groupAverage;\r\n    \tprivate static int overallScore;\r\n    \tprivate static double overallAverage;\r\n    \t\r\n    \tpublic Department(){\r\n    \t\tint a = 0; \r\n    \t\tint b = 0; \r\n    \t\tint c = 0; \r\n    \t\tint d = 0; \r\n    \t\tint e = 0;\r\n    \t\t\r\n    \t\tint gscore = groupScore;\r\n    \t\tgscore = a + b + c + d + e;\r\n    \t\t\r\n    \t\tint oascore = overallScore;\r\n    \t\toascore = overallScore + groupScore;\r\n    \t\t\r\n    \t\toverallAverage = overallAverage/10.0;\r\n    \t\t\r\n    \t\tgroupAverage = groupScore/5.0;\r\n    \t}\r\n    \tpublic double getGroupAverage() {\r\n    \t\treturn groupAverage;\r\n    \t}\r\n    \tpublic static void displayAverage() {\r\n    \t\tdouble oave = overallAverage;\r\n    \t\tSystem.out.println(&quot;Overall Average: &quot; + oave);\r\n    \t}\r\n    }\r\n    \r\n    import java.util.Scanner;\r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tDepartment objdept = new Department();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Enter 5 rates for Department A (1-5)&quot;);\r\n    \t\tint a = sc.nextInt();\r\n    \t\tint b = sc.nextInt();\r\n    \t\tint c = sc.nextInt();\r\n    \t\tint d = sc.nextInt();\r\n    \t\tint e = sc.nextInt();\r\n    \t\tSystem.out.println(&quot;Department 1 group average: &quot; + objdept.getGroupAverage());\r\n    \t\tobjdept.getGroupAverage();\r\n    \t\tobjdept.displayAverage();\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(&quot;Enter 5 rates for Department B (1-5)&quot;);\r\n    \t\tint f = sc.nextInt();\r\n    \t\tint g = sc.nextInt();\r\n    \t\tint h = sc.nextInt();\r\n    \t\tint i = sc.nextInt();\r\n    \t\tint j = sc.nextInt();\r\n    \t\tobjdept.getGroupAverage();\r\n    \t\tSystem.out.println(&quot;Department 2 group average: &quot;+ objdept.getGroupAverage());\r\n    \t\tSystem.out.println();\r\n    \t\tDepartment.displayAverage();\r\n    \t}\r\n    }\r\n\r\n","title":"The input from main class can&#39;t be accessed in the another class and would only display the initialized value","body":"<p>I need to access the inputs from the main class and let them be applied to the department class, however, it won't let me. Also, I am not allowed to use parameters. I need to follow this UML diagram. Please guide me on how can I fix this. Our topic is all about inheritance, static variables and method, method overriding and super keyword.</p>\n<p><a href=\"https://i.stack.imgur.com/Azo6R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Azo6R.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class Department {\n    private int groupScore;\n    private double groupAverage;\n    private static int overallScore;\n    private static double overallAverage;\n    \n    public Department(){\n        int a = 0; \n        int b = 0; \n        int c = 0; \n        int d = 0; \n        int e = 0;\n        \n        int gscore = groupScore;\n        gscore = a + b + c + d + e;\n        \n        int oascore = overallScore;\n        oascore = overallScore + groupScore;\n        \n        overallAverage = overallAverage/10.0;\n        \n        groupAverage = groupScore/5.0;\n    }\n    public double getGroupAverage() {\n        return groupAverage;\n    }\n    public static void displayAverage() {\n        double oave = overallAverage;\n        System.out.println(&quot;Overall Average: &quot; + oave);\n    }\n}\n\nimport java.util.Scanner;\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        Department objdept = new Department();\n        \n        System.out.println(&quot;Enter 5 rates for Department A (1-5)&quot;);\n        int a = sc.nextInt();\n        int b = sc.nextInt();\n        int c = sc.nextInt();\n        int d = sc.nextInt();\n        int e = sc.nextInt();\n        System.out.println(&quot;Department 1 group average: &quot; + objdept.getGroupAverage());\n        objdept.getGroupAverage();\n        objdept.displayAverage();\n        System.out.println();\n        System.out.println(&quot;Enter 5 rates for Department B (1-5)&quot;);\n        int f = sc.nextInt();\n        int g = sc.nextInt();\n        int h = sc.nextInt();\n        int i = sc.nextInt();\n        int j = sc.nextInt();\n        objdept.getGroupAverage();\n        System.out.println(&quot;Department 2 group average: &quot;+ objdept.getGroupAverage());\n        System.out.println();\n        Department.displayAverage();\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":24746853,"reputation":91,"user_id":18632925,"display_name":"David Gonz&#225;lez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654699992,"creation_date":1654699992,"answer_id":72547889,"question_id":72546531,"body_markdown":"That means Context is null and that is because any reference has never been assigned to it.\r\n\r\nOn the other hand, be very careful with assigning Activity or Fragment context references in static classes. You will have memory leaks as soon as Android tries to delete fragments or activities.\r\n\r\nIMHO, you shouldn&#39;t need to create a static class for that feature.","title":"Wi-Fi Connection check using singleton class android studio","body":"<p>That means Context is null and that is because any reference has never been assigned to it.</p>\n<p>On the other hand, be very careful with assigning Activity or Fragment context references in static classes. You will have memory leaks as soon as Android tries to delete fragments or activities.</p>\n<p>IMHO, you shouldn't need to create a static class for that feature.</p>\n"},{"tags":[],"owner":{"account_id":6597297,"reputation":751,"user_id":5096638,"display_name":"PalFS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654702633,"creation_date":1654702633,"answer_id":72548524,"question_id":72546531,"body_markdown":"You dont have to create instance variable of context in static class instead you can directly pass context of the activity or fragment from where the connectivity method is called.\r\n\r\n    WifiConnectivity.getInstance().Connectivity(context);","title":"Wi-Fi Connection check using singleton class android studio","body":"<p>You dont have to create instance variable of context in static class instead you can directly pass context of the activity or fragment from where the connectivity method is called.</p>\n<pre><code>WifiConnectivity.getInstance().Connectivity(context);\n</code></pre>\n"}],"owner":{"account_id":17540529,"reputation":68,"user_id":12722770,"display_name":"Farzan Siddiqui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72548524,"answer_count":2,"score":1,"last_activity_date":1654702633,"creation_date":1654694908,"question_id":72546531,"body_markdown":"I was doing Wi-Fi connection using singleton class, when button press then error message show **Attempt to invoke virtual method &#39;java.lang.Object android.content.Context.getSystemService(java.lang.String)&#39; on a null object reference**\r\n\r\n*Singleton Class*\r\n``` \r\npublic class WifiConnectivity {\r\n\r\n    private static WifiConnectivity INSTANCE = null ;\r\n    private ConnectivityManager cnmgr;\r\n    Context context;\r\n    int ipadress;\r\n    String ipAddress;\r\n\r\n\r\n    public static WifiConnectivity getInstance() {\r\n        if (INSTANCE == null){\r\n            INSTANCE = new WifiConnectivity();\r\n        }\r\n        return INSTANCE;\r\n    }\r\n\r\n    public ConnectivityManager getWifiConnectivty(int ipadress , String ipAddress){\r\n        this.ipadress = ipadress;\r\n        this.ipAddress = ipAddress;\r\n        return cnmgr;\r\n    }\r\n\r\n    public void Connectivity() {\r\n        cnmgr = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        if (cnmgr.getActiveNetworkInfo() != null &amp;&amp; cnmgr.getActiveNetworkInfo().isAvailable()\r\n                &amp;&amp; cnmgr.getActiveNetworkInfo().isConnected()) {\r\n            WifiManager wifiMgr = (WifiManager) context.getApplicationContext().getSystemService(Context.WIFI_SERVICE);\r\n            WifiInfo wifiInfo = wifiMgr.getConnectionInfo();\r\n            ipadress = wifiInfo.getIpAddress();\r\n            ipAddress = Formatter.formatIpAddress(ipadress);\r\n            Log.d(TAG, &quot;wifi_connectivity:&quot;);\r\n        }else {\r\n            Toast.makeText(context , &quot;Wifi Not Connect&quot; , Toast.LENGTH_SHORT).show();\r\n          \r\n        }\r\n\r\n    }\r\n    private WifiConnectivity(){}\r\n}\r\n```\r\n\r\n**Singleton instance used when button pressed**\r\n\r\n```WifiConnectivity.getInstance().getWifiConnectivty(ipadress, ipAddress);WifiConnectivity.getInstance().Connectivity();```\r\n","title":"Wi-Fi Connection check using singleton class android studio","body":"<p>I was doing Wi-Fi connection using singleton class, when button press then error message show <strong>Attempt to invoke virtual method 'java.lang.Object android.content.Context.getSystemService(java.lang.String)' on a null object reference</strong></p>\n<p><em>Singleton Class</em></p>\n<pre><code>public class WifiConnectivity {\n\n    private static WifiConnectivity INSTANCE = null ;\n    private ConnectivityManager cnmgr;\n    Context context;\n    int ipadress;\n    String ipAddress;\n\n\n    public static WifiConnectivity getInstance() {\n        if (INSTANCE == null){\n            INSTANCE = new WifiConnectivity();\n        }\n        return INSTANCE;\n    }\n\n    public ConnectivityManager getWifiConnectivty(int ipadress , String ipAddress){\n        this.ipadress = ipadress;\n        this.ipAddress = ipAddress;\n        return cnmgr;\n    }\n\n    public void Connectivity() {\n        cnmgr = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n        if (cnmgr.getActiveNetworkInfo() != null &amp;&amp; cnmgr.getActiveNetworkInfo().isAvailable()\n                &amp;&amp; cnmgr.getActiveNetworkInfo().isConnected()) {\n            WifiManager wifiMgr = (WifiManager) context.getApplicationContext().getSystemService(Context.WIFI_SERVICE);\n            WifiInfo wifiInfo = wifiMgr.getConnectionInfo();\n            ipadress = wifiInfo.getIpAddress();\n            ipAddress = Formatter.formatIpAddress(ipadress);\n            Log.d(TAG, &quot;wifi_connectivity:&quot;);\n        }else {\n            Toast.makeText(context , &quot;Wifi Not Connect&quot; , Toast.LENGTH_SHORT).show();\n          \n        }\n\n    }\n    private WifiConnectivity(){}\n}\n</code></pre>\n<p><strong>Singleton instance used when button pressed</strong></p>\n<p><code>WifiConnectivity.getInstance().getWifiConnectivty(ipadress, ipAddress);WifiConnectivity.getInstance().Connectivity();</code></p>\n"},{"tags":["java","spring-boot","springdoc"],"answers":[{"tags":[],"owner":{"account_id":15233201,"reputation":46,"user_id":12486826,"display_name":"xPiL0Tx"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654702384,"creation_date":1654702384,"answer_id":72548464,"question_id":72383819,"body_markdown":"If I understand you correctly:  \r\nYou want to get OpenAPI documentation in JSON format inside code your Spring application.\r\n\r\nI do it this way:  \r\n1.) Create a component that extends from the `OpenApiResource` class.  \r\nAnd create a `getOpenApiJson` method that calls `getOpenApi()` (creating or receiving an OpenApi model) and `writeJsonValue()` (serialization of OpenAPI).\r\n```java\r\n@Component\r\npublic class CustomOpenApiResource extends OpenApiResource {\r\n\r\n\r\n    public CustomOpenApiResource(ObjectFactory&lt;OpenAPIService&gt; openAPIBuilderObjectFactory,\r\n                                 AbstractRequestService requestBuilder,\r\n                                 GenericResponseService responseBuilder,\r\n                                 OperationService operationParser,\r\n                                 Optional&lt;List&lt;OperationCustomizer&gt;&gt; operationCustomizers,\r\n                                 Optional&lt;List&lt;OpenApiCustomiser&gt;&gt; openApiCustomisers,\r\n                                 Optional&lt;List&lt;OpenApiMethodFilter&gt;&gt; methodFilters,\r\n                                 SpringDocConfigProperties springDocConfigProperties,\r\n                                 SpringDocProviders springDocProviders) {\r\n        super(openAPIBuilderObjectFactory,\r\n                requestBuilder,\r\n                responseBuilder,\r\n                operationParser,\r\n                operationCustomizers,\r\n                openApiCustomisers,\r\n                methodFilters,\r\n                springDocConfigProperties,\r\n                springDocProviders);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected String getServerUrl(HttpServletRequest request, String apiDocsUrl) {\r\n        /**\r\n         * How to implement this method you can find out for example from OpenApiWebMvcResource\r\n         */\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    public String getOpenApiJson() throws JsonProcessingException {\r\n        return writeJsonValue(getOpenApi(Locale.getDefault()));\r\n    }\r\n}\r\n```\r\n2.) Inject `CustomOpenApiResource` component\r\n```java\r\n    @Autowired\r\n    private CustomOpenApiResource resource;\r\n```\r\nAnd use `getOpenApiJson()`\r\n```java\r\n    String openApiJson = resource.getOpenApiJson();\r\n```","title":"How to get SpringDoc generated OpenAPI within the service","body":"<p>If I understand you correctly:<br />\nYou want to get OpenAPI documentation in JSON format inside code your Spring application.</p>\n<p>I do it this way:<br />\n1.) Create a component that extends from the <code>OpenApiResource</code> class.<br />\nAnd create a <code>getOpenApiJson</code> method that calls <code>getOpenApi()</code> (creating or receiving an OpenApi model) and <code>writeJsonValue()</code> (serialization of OpenAPI).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class CustomOpenApiResource extends OpenApiResource {\n\n\n    public CustomOpenApiResource(ObjectFactory&lt;OpenAPIService&gt; openAPIBuilderObjectFactory,\n                                 AbstractRequestService requestBuilder,\n                                 GenericResponseService responseBuilder,\n                                 OperationService operationParser,\n                                 Optional&lt;List&lt;OperationCustomizer&gt;&gt; operationCustomizers,\n                                 Optional&lt;List&lt;OpenApiCustomiser&gt;&gt; openApiCustomisers,\n                                 Optional&lt;List&lt;OpenApiMethodFilter&gt;&gt; methodFilters,\n                                 SpringDocConfigProperties springDocConfigProperties,\n                                 SpringDocProviders springDocProviders) {\n        super(openAPIBuilderObjectFactory,\n                requestBuilder,\n                responseBuilder,\n                operationParser,\n                operationCustomizers,\n                openApiCustomisers,\n                methodFilters,\n                springDocConfigProperties,\n                springDocProviders);\n    }\n\n\n    @Override\n    protected String getServerUrl(HttpServletRequest request, String apiDocsUrl) {\n        /**\n         * How to implement this method you can find out for example from OpenApiWebMvcResource\n         */\n        return &quot;&quot;;\n    }\n\n    public String getOpenApiJson() throws JsonProcessingException {\n        return writeJsonValue(getOpenApi(Locale.getDefault()));\n    }\n}\n</code></pre>\n<p>2.) Inject <code>CustomOpenApiResource</code> component</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private CustomOpenApiResource resource;\n</code></pre>\n<p>And use <code>getOpenApiJson()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    String openApiJson = resource.getOpenApiJson();\n</code></pre>\n"}],"owner":{"account_id":22307490,"reputation":23,"user_id":16531966,"display_name":"Philip Kesel US"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":970,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72548464,"answer_count":1,"score":2,"last_activity_date":1654702384,"creation_date":1653510588,"question_id":72383819,"body_markdown":"In a Spring Boot Web MVC REST service I want to use the operation ID and path values from SpringDoc generated OpenAPI from within the service where its generated.  How can I get the OpenAPI JSON doc without going through the web endpoint?  ","title":"How to get SpringDoc generated OpenAPI within the service","body":"<p>In a Spring Boot Web MVC REST service I want to use the operation ID and path values from SpringDoc generated OpenAPI from within the service where its generated.  How can I get the OpenAPI JSON doc without going through the web endpoint?</p>\n"},{"tags":["java","spring-boot","rest","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafa Sokalski"},"score":1,"creation_date":1654702872,"post_id":72548411,"comment_id":128156019,"body_markdown":"When you use same browser you share session id between tabs. What&#39;s the purpose of using 2 different account in one browser? Can you log to facebook or google using one instance of the browser and having session for 2 different account ? That&#39;&#39;s the purpose of having stored sessionId so whenever you open browser again you can open page without loggin in again and again","body":"When you use same browser you share session id between tabs. What&#39;s the purpose of using 2 different account in one browser? Can you log to facebook or google using one instance of the browser and having session for 2 different account ? That&#39;&#39;s the purpose of having stored sessionId so whenever you open browser again you can open page without loggin in again and again"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1654705377,"post_id":72548411,"comment_id":128157073,"body_markdown":"Related: [How to differ sessions in browser-tabs?](https://stackoverflow.com/q/368653/12567365), and maybe also [How to handle multiple sessions for same website using same browser with different tabs](https://stackoverflow.com/q/70995410/12567365) and [concept of different session in different window of same browser](https://stackoverflow.com/q/3810228/12567365)","body":"Related: <a href=\"https://stackoverflow.com/q/368653/12567365\">How to differ sessions in browser-tabs?</a>, and maybe also <a href=\"https://stackoverflow.com/q/70995410/12567365\">How to handle multiple sessions for same website using same browser with different tabs</a> and <a href=\"https://stackoverflow.com/q/3810228/12567365\">concept of different session in different window of same browser</a>"},{"owner":{"account_id":17079442,"reputation":51,"user_id":19299440,"display_name":"Lekan Swansons"},"score":0,"creation_date":1654707447,"post_id":72548411,"comment_id":128157866,"body_markdown":"You  are probably right because I actually never though about that behaviour of a browser like that. In retrospect that means my application is functioning as any other web app should. I kind of always assumed you could log on to two different facebook or linkedin accounts at the same time on the same browser.","body":"You  are probably right because I actually never though about that behaviour of a browser like that. In retrospect that means my application is functioning as any other web app should. I kind of always assumed you could log on to two different facebook or linkedin accounts at the same time on the same browser."}],"owner":{"account_id":17079442,"reputation":51,"user_id":19299440,"display_name":"Lekan Swansons"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654702182,"creation_date":1654702182,"question_id":72548411,"body_markdown":"I have a springboot web application and I am trying allow concurrent user activity on the same browser.\r\n\r\nThe login function has a member object with email and password attribute tied to a thymeleaf form.\r\nWhen the user logs in it displays information for that user. \r\n\r\nThe issue I have is when I log in as a second user in a new tab while still logged in as first user, when i add a change to the first user the details of the user are changed to the second users. \r\n\r\nOn the java side the issue is related to this part.\r\n\r\nWhat&#39;s happening is when a new member signs in I check if the member exists in &quot;database&quot; and then pass the object to the model. The model uses this object to populate the fields.\r\n\r\n```\r\n@RequestMapping(method = RequestMethod.POST, path = &quot;/profile&quot;)\r\npublic String signIn(@ModelAttribute MemberEmail memberEmail, Model model, @RequestHeader, HttpHeaders headers)\r\n    {\r\n        if(MemberDB.validate(memberEmail))\r\n        {\r\n            member = MemberDB.getMember(memberEmail.getEmail());\r\n            model.addAttribute(&quot;member&quot;, member);\r\n            return &quot;home&quot;;\r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;Login  Failed&quot;);\r\n            return &quot;redirect:/devshub&quot;;\r\n        }\r\n    }\r\n```\r\n\r\nIn my thymeleaf, I have a function where users can enter a message and it is displayed on their profile. \r\n\r\nThis function takes the message input and displays it on the users profile but it also needs a member to populate the fields again because it returns to the &quot;home&quot;\r\n\r\n```\r\n    @RequestMapping(method = RequestMethod.POST, path=&quot;/save&quot;)\r\n    public String saveMessage(@ModelAttribute Member m, Model model, @RequestHeader HttpHeaders headers)\r\n    {\r\n        member.setMessage(m.getMessage());\r\n        model.addAttribute(&quot;member&quot;, member);\r\n        return &quot;home&quot;;\r\n    }\r\n```\r\n\r\nWhen i log in to two different accounts on different browsers, i think because it uses two different session ids, the correct member object is referenced for each account(by the session). However when using the same browser, when the member object is set to the second user, if i add a message as the first user, the message is added but the user information is switced to second users. \r\n\r\nI&#39;m thinking a possible solution could be to redirect without returning to home to when user object is already populated but still thinking of how I could do this as I would preferably not like to mess with session id&#39;s.\r\n","title":"Springboot thymeleaf sessions","body":"<p>I have a springboot web application and I am trying allow concurrent user activity on the same browser.</p>\n<p>The login function has a member object with email and password attribute tied to a thymeleaf form.\nWhen the user logs in it displays information for that user.</p>\n<p>The issue I have is when I log in as a second user in a new tab while still logged in as first user, when i add a change to the first user the details of the user are changed to the second users.</p>\n<p>On the java side the issue is related to this part.</p>\n<p>What's happening is when a new member signs in I check if the member exists in &quot;database&quot; and then pass the object to the model. The model uses this object to populate the fields.</p>\n<pre><code>@RequestMapping(method = RequestMethod.POST, path = &quot;/profile&quot;)\npublic String signIn(@ModelAttribute MemberEmail memberEmail, Model model, @RequestHeader, HttpHeaders headers)\n    {\n        if(MemberDB.validate(memberEmail))\n        {\n            member = MemberDB.getMember(memberEmail.getEmail());\n            model.addAttribute(&quot;member&quot;, member);\n            return &quot;home&quot;;\n        }\n        else\n        {\n            System.out.println(&quot;Login  Failed&quot;);\n            return &quot;redirect:/devshub&quot;;\n        }\n    }\n</code></pre>\n<p>In my thymeleaf, I have a function where users can enter a message and it is displayed on their profile.</p>\n<p>This function takes the message input and displays it on the users profile but it also needs a member to populate the fields again because it returns to the &quot;home&quot;</p>\n<pre><code>    @RequestMapping(method = RequestMethod.POST, path=&quot;/save&quot;)\n    public String saveMessage(@ModelAttribute Member m, Model model, @RequestHeader HttpHeaders headers)\n    {\n        member.setMessage(m.getMessage());\n        model.addAttribute(&quot;member&quot;, member);\n        return &quot;home&quot;;\n    }\n</code></pre>\n<p>When i log in to two different accounts on different browsers, i think because it uses two different session ids, the correct member object is referenced for each account(by the session). However when using the same browser, when the member object is set to the second user, if i add a message as the first user, the message is added but the user information is switced to second users.</p>\n<p>I'm thinking a possible solution could be to redirect without returning to home to when user object is already populated but still thinking of how I could do this as I would preferably not like to mess with session id's.</p>\n"},{"tags":["java","pmd","static-import"],"comments":[{"owner":{"account_id":6099776,"reputation":1781,"user_id":4759182,"display_name":"rasilvap"},"score":0,"creation_date":1570215506,"post_id":58241730,"comment_id":102855975,"body_markdown":"No isn&#39;t. It is a pmd error.","body":"No isn&#39;t. It is a pmd error."},{"owner":{"account_id":56279,"reputation":4057,"user_id":168562,"accept_rate":83,"display_name":"Johnco"},"score":0,"creation_date":1570307326,"post_id":58241730,"comment_id":102874336,"body_markdown":"The rule has a `maximumStaticImports` property to set how many are &quot;too many&quot;. Tune that value to your liking, after all, this is a *code style* rule. Read the docs here: https://pmd.github.io/pmd-6.18.0/pmd_rules_java_codestyle.html#toomanystaticimports","body":"The rule has a <code>maximumStaticImports</code> property to set how many are &quot;too many&quot;. Tune that value to your liking, after all, this is a <i>code style</i> rule. Read the docs here: <a href=\"https://pmd.github.io/pmd-6.18.0/pmd_rules_java_codestyle.html#toomanystaticimports\" rel=\"nofollow noreferrer\">pmd.github.io/pmd-6.18.0/&hellip;</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1574175148,"post_id":58241730,"comment_id":104132196,"body_markdown":"In production code (=non-test code) the code _quality_ is weighted a bit more than _verbosity_. I think the current settings came originally from Assert imports. Above there is nothing wrong using a qualified `HttpStatus.SAD_REQUEST`, especially as you still have `case SAD_REQUEST:`.","body":"In production code (=non-test code) the code <i>quality</i> is weighted a bit more than <i>verbosity</i>. I think the current settings came originally from Assert imports. Above there is nothing wrong using a qualified <code>HttpStatus.SAD_REQUEST</code>, especially as you still have <code>case SAD_REQUEST:</code>."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570216061,"creation_date":1570216061,"answer_id":58241976,"question_id":58241730,"body_markdown":"This seems to be an objectionable PMD configuration or rule; _especially_ in testing, this sort of static import is to be expected. The PMD setup should be changed either to disable this inspection entirely or not to apply it to test code.","title":"Pmd rule: Too many static imports may lead to messy code in unitTest is not violated","body":"<p>This seems to be an objectionable PMD configuration or rule; <em>especially</em> in testing, this sort of static import is to be expected. The PMD setup should be changed either to disable this inspection entirely or not to apply it to test code.</p>\n"},{"tags":[],"owner":{"account_id":6099776,"reputation":1781,"user_id":4759182,"display_name":"rasilvap"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1570233883,"creation_date":1570233883,"answer_id":58244329,"question_id":58241730,"body_markdown":"I have used @SuppressWarnings(&quot;PMD.TooManyStaticImports&quot;) To avoid this issue in my class.","title":"Pmd rule: Too many static imports may lead to messy code in unitTest is not violated","body":"<p>I have used @SuppressWarnings(\"PMD.TooManyStaticImports\") To avoid this issue in my class.</p>\n"},{"tags":[],"owner":{"account_id":4865795,"reputation":496,"user_id":3924108,"display_name":"Linus Fernandes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577826850,"creation_date":1574174467,"answer_id":58936535,"question_id":58241730,"body_markdown":"While this isn&#39;t an answer to the question, it does make me wonder if PMD could have an annotation that allows users to override rule configurations in one or more source files or even a package?\r\nThe only issue is that this would introduce a compile-time dependency. Would it be worth it if introduced at the package-level? Are there any rules with that kind of irritability quotient? Law of Demeter comes to mind.\r\n\r\nAs for the question itself, use star imports for static imports when you&#39;re practically importing the whole class. It&#39;s less verbose and less ugly. ","title":"Pmd rule: Too many static imports may lead to messy code in unitTest is not violated","body":"<p>While this isn't an answer to the question, it does make me wonder if PMD could have an annotation that allows users to override rule configurations in one or more source files or even a package?\nThe only issue is that this would introduce a compile-time dependency. Would it be worth it if introduced at the package-level? Are there any rules with that kind of irritability quotient? Law of Demeter comes to mind.</p>\n\n<p>As for the question itself, use star imports for static imports when you're practically importing the whole class. It's less verbose and less ugly. </p>\n"},{"tags":[],"owner":{"account_id":16838507,"reputation":1504,"user_id":12174440,"display_name":"turong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598426196,"creation_date":1598426196,"answer_id":63592398,"question_id":58241730,"body_markdown":"To me, it&#39;s still better to import all static explicitly and concretely because it loads **faster** than importing all (*), and one reason is we **prefer explicit** things in Java.\r\n\r\nSo, I recommend **to disable this** PMD rules check.\r\n\r\nCheers.","title":"Pmd rule: Too many static imports may lead to messy code in unitTest is not violated","body":"<p>To me, it's still better to import all static explicitly and concretely because it loads <strong>faster</strong> than importing all (*), and one reason is we <strong>prefer explicit</strong> things in Java.</p>\n<p>So, I recommend <strong>to disable this</strong> PMD rules check.</p>\n<p>Cheers.</p>\n"},{"tags":[],"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1654702152,"creation_date":1602502965,"answer_id":64317209,"question_id":58241730,"body_markdown":"If you are using `maven-pmd-plugin`, it ignores tests by default. You could configure it to `includeTests`. See [Docs][1]\r\n```\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;check&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n       &lt;configuration&gt;\r\n           &lt;rulesets&gt;\r\n               &lt;ruleset&gt;/my-custom-rules.xml&lt;/ruleset&gt;  // Your own rules here\r\n           &lt;/rulesets&gt;\r\n           &lt;includeTests&gt;true&lt;/includeTests&gt; // Default value is false\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n```\r\n\r\nRegarding the `TooManyStaticImports` rule, just like any other PMD rule, it can be subjective, and it won&#39;t necessarily fit all use cases or code styles. That is why it says &quot;**may** lead to messy code&quot;. [There are arguments for and against its usage.][2]\r\n\r\nIn general, if you want to mute a rule for one class, you could use: \r\n```\r\n@SuppressWarnings(&quot;PMD.TooManyStaticImports&quot;)\r\n```\r\nAlternatively, if you want to fine-tune the rule, you could provide your own custom config e.g.:\r\n```\r\n&lt;rule ref=&quot;category/java/codestyle.xml/TooManyStaticImports&quot;&gt;\r\n    &lt;properties&gt;\r\n        &lt;property name=&quot;maximumStaticImports&quot; value=&quot;6&quot; /&gt; // Default is 4\r\n    &lt;/properties&gt;\r\n&lt;/rule&gt;\r\n```\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-pmd-plugin/pmd-mojo.html#includeTests\r\n  [2]: https://stackoverflow.com/questions/420791/what-is-a-good-use-case-for-static-import-of-methods","title":"Pmd rule: Too many static imports may lead to messy code in unitTest is not violated","body":"<p>If you are using <code>maven-pmd-plugin</code>, it ignores tests by default. You could configure it to <code>includeTests</code>. See <a href=\"https://maven.apache.org/plugins/maven-pmd-plugin/pmd-mojo.html#includeTests\" rel=\"nofollow noreferrer\">Docs</a></p>\n<pre><code>    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;check&lt;/goal&gt;\n                    &lt;/goals&gt;\n            &lt;/execution&gt;\n       &lt;/executions&gt;\n       &lt;configuration&gt;\n           &lt;rulesets&gt;\n               &lt;ruleset&gt;/my-custom-rules.xml&lt;/ruleset&gt;  // Your own rules here\n           &lt;/rulesets&gt;\n           &lt;includeTests&gt;true&lt;/includeTests&gt; // Default value is false\n       &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>Regarding the <code>TooManyStaticImports</code> rule, just like any other PMD rule, it can be subjective, and it won't necessarily fit all use cases or code styles. That is why it says &quot;<strong>may</strong> lead to messy code&quot;. <a href=\"https://stackoverflow.com/questions/420791/what-is-a-good-use-case-for-static-import-of-methods\">There are arguments for and against its usage.</a></p>\n<p>In general, if you want to mute a rule for one class, you could use:</p>\n<pre><code>@SuppressWarnings(&quot;PMD.TooManyStaticImports&quot;)\n</code></pre>\n<p>Alternatively, if you want to fine-tune the rule, you could provide your own custom config e.g.:</p>\n<pre><code>&lt;rule ref=&quot;category/java/codestyle.xml/TooManyStaticImports&quot;&gt;\n    &lt;properties&gt;\n        &lt;property name=&quot;maximumStaticImports&quot; value=&quot;6&quot; /&gt; // Default is 4\n    &lt;/properties&gt;\n&lt;/rule&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7909293,"reputation":57,"user_id":8000958,"display_name":"Vishal Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624453721,"creation_date":1624453721,"answer_id":68100468,"question_id":58241730,"body_markdown":"You can try importing one level up.  \r\nFor example, Use ```Constant.MY_VAR``` instead of directly using ```MY_VAR```. So you don&#39;t have to import each variable separately in Constant, you can just import Constant and access the variable in code with ```Constant.MY_VAR```.","title":"Pmd rule: Too many static imports may lead to messy code in unitTest is not violated","body":"<p>You can try importing one level up.<br />\nFor example, Use <code>Constant.MY_VAR</code> instead of directly using <code>MY_VAR</code>. So you don't have to import each variable separately in Constant, you can just import Constant and access the variable in code with <code>Constant.MY_VAR</code>.</p>\n"},{"tags":[],"owner":{"account_id":25324618,"reputation":1,"user_id":19145465,"display_name":"JackLanger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652879966,"creation_date":1652879966,"answer_id":72289975,"question_id":58241730,"body_markdown":"Basically this is bad practice, as you refere to static fields from another Class, in a way you would address a static property from the current file. To prevent this PMD error you have to make a qualified call.\r\n\r\nInstead of: \r\n\r\n    BAD_REQUEST;\r\n    INTERNAL_SERVER_ERROR;\r\n    NOT_FOUND;\r\n    UNPROCESSABLE_ENTITY;\r\n\r\ncall:\r\n\r\n    HttpStatus.BAD_REQUEST;\r\n    HttpStatus.INTERNAL_SERVER_ERROR;\r\n    HttpStatus.NOT_FOUND;\r\n    HttpStatus.UNPROCESSABLE_ENTITY;","title":"Pmd rule: Too many static imports may lead to messy code in unitTest is not violated","body":"<p>Basically this is bad practice, as you refere to static fields from another Class, in a way you would address a static property from the current file. To prevent this PMD error you have to make a qualified call.</p>\n<p>Instead of:</p>\n<pre><code>BAD_REQUEST;\nINTERNAL_SERVER_ERROR;\nNOT_FOUND;\nUNPROCESSABLE_ENTITY;\n</code></pre>\n<p>call:</p>\n<pre><code>HttpStatus.BAD_REQUEST;\nHttpStatus.INTERNAL_SERVER_ERROR;\nHttpStatus.NOT_FOUND;\nHttpStatus.UNPROCESSABLE_ENTITY;\n</code></pre>\n"}],"owner":{"account_id":6099776,"reputation":1781,"user_id":4759182,"display_name":"rasilvap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7951,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":58244329,"answer_count":7,"score":4,"last_activity_date":1654702152,"creation_date":1570214708,"question_id":58241730,"body_markdown":"I have a doubt, I have a class in which I&#39;m using  different static import for import constants, my issue is that I&#39;m getting the error message: ```Too many static imports may lead to messy code```. But in the unit test it looks like it is not a bad practice. For example in a unit test class, I&#39;m using this import with any problem:\r\n\r\n```import static com.rccl.middleware.kidsclub.engine.mock.TestConstant.JSON_ROOT;\r\nimport static com.rccl.middleware.kidsclub.engine.web.controller.KidController.KID_FIND_PATH;\r\nimport static com.rccl.middleware.kidsclub.engine.web.controller.KidController.KID_LIST_PATH;\r\nimport static com.rccl.middleware.kidsclub.engine.web.controller.KidController.KID_PATH;\r\nimport static com.rccl.middleware.kidsclub.engine.web.controller.KidController.KID_REGISTER_ALL_PATH;\r\nimport static org.hamcrest.Matchers.hasSize;\r\nimport static org.hamcrest.Matchers.is;\r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.ArgumentMatchers.anyString;\r\nimport static org.mockito.BDDMockito.given;\r\nimport static org.mockito.BDDMockito.then;\r\nimport static org.mockito.Mockito.times;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.request;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;```\r\n```\r\nConversely in my class:\r\n\r\n```\r\nimport static org.springframework.http.HttpStatus.BAD_REQUEST;\r\nimport static org.springframework.http.HttpStatus.INTERNAL_SERVER_ERROR;\r\nimport static org.springframework.http.HttpStatus.NOT_FOUND;\r\nimport static org.springframework.http.HttpStatus.UNPROCESSABLE_ENTITY;\r\n```\r\nThese imports makes me problems and I get the error message: Too many static imports may lead to messy code. I&#39;m not pretty sure why.\r\n\r\nI am not able to access the pmd file to figured out the real cause of this issue. Any clue?\r\n\r\nThanks!\r\n\r\n\r\n","title":"Pmd rule: Too many static imports may lead to messy code in unitTest is not violated","body":"<p>I have a doubt, I have a class in which I'm using  different static import for import constants, my issue is that I'm getting the error message: <code>Too many static imports may lead to messy code</code>. But in the unit test it looks like it is not a bad practice. For example in a unit test class, I'm using this import with any problem:</p>\n\n<pre><code>import static com.rccl.middleware.kidsclub.engine.web.controller.KidController.KID_FIND_PATH;\nimport static com.rccl.middleware.kidsclub.engine.web.controller.KidController.KID_LIST_PATH;\nimport static com.rccl.middleware.kidsclub.engine.web.controller.KidController.KID_PATH;\nimport static com.rccl.middleware.kidsclub.engine.web.controller.KidController.KID_REGISTER_ALL_PATH;\nimport static org.hamcrest.Matchers.hasSize;\nimport static org.hamcrest.Matchers.is;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.ArgumentMatchers.anyString;\nimport static org.mockito.BDDMockito.given;\nimport static org.mockito.BDDMockito.then;\nimport static org.mockito.Mockito.times;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.request;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;```\n</code></pre>\n\n<p>Conversely in my class:</p>\n\n<pre><code>import static org.springframework.http.HttpStatus.BAD_REQUEST;\nimport static org.springframework.http.HttpStatus.INTERNAL_SERVER_ERROR;\nimport static org.springframework.http.HttpStatus.NOT_FOUND;\nimport static org.springframework.http.HttpStatus.UNPROCESSABLE_ENTITY;\n</code></pre>\n\n<p>These imports makes me problems and I get the error message: Too many static imports may lead to messy code. I'm not pretty sure why.</p>\n\n<p>I am not able to access the pmd file to figured out the real cause of this issue. Any clue?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","android","intellij-idea","android-studio"],"answers":[{"tags":[],"owner":{"account_id":2485637,"reputation":17240,"user_id":2164109,"display_name":"morgano"},"down_vote_count":2,"up_vote_count":34,"is_accepted":false,"score":32,"last_activity_date":1372501962,"creation_date":1372501962,"answer_id":17379262,"question_id":17379117,"body_markdown":"In IntelliJ you can specify which SDK to use at project level. go to &quot;File&quot; --&gt; &quot;Project Structure&quot; --&gt; SDKs (list on the left) and you can add/remove paths to different SDKs\r\n\r\nOther solution: If you use Windows then I think you can specify JAVA_HOME as system property just for IntelliJ. If you use Linux the solution is similar.","title":"Setting JAVA_HOME for intelliJ?","body":"<p>In IntelliJ you can specify which SDK to use at project level. go to \"File\" --> \"Project Structure\" --> SDKs (list on the left) and you can add/remove paths to different SDKs</p>\n\n<p>Other solution: If you use Windows then I think you can specify JAVA_HOME as system property just for IntelliJ. If you use Linux the solution is similar.</p>\n"},{"tags":[],"owner":{"account_id":65542,"reputation":5762,"user_id":192798,"accept_rate":48,"display_name":"Jayen"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1467158919,"creation_date":1397030506,"answer_id":22956331,"question_id":17379117,"body_markdown":"I use IDEA_JDK for this purpose (on linux).\r\n\r\nI believe it is STUDIO_JDK for android studio.\r\n\r\nFor more information on this and other jetbrains IDE&#39;s, see https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under","title":"Setting JAVA_HOME for intelliJ?","body":"<p>I use IDEA_JDK for this purpose (on linux).</p>\n\n<p>I believe it is STUDIO_JDK for android studio.</p>\n\n<p>For more information on this and other jetbrains IDE's, see <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under\" rel=\"noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under</a></p>\n"},{"tags":[],"owner":{"account_id":1533581,"reputation":169,"user_id":1430173,"display_name":"MichaelRom"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1468922898,"creation_date":1468917533,"answer_id":38453442,"question_id":17379117,"body_markdown":"The other answers will not work for 64bit versions.  Jetbrains have actually documented this quite well.  From [https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under][1]:\r\n\r\n**Java 8**\r\n\r\nPlease be aware that Java 8 is required to run IntelliJ IDEA starting from version 16 on all the supported platforms. It also applies to the lightweight IDEs released from the same branch (144+).\r\n\r\n**Windows**\r\n\r\nJDK is bundled with all the product installers and it&#39;s recommended that you will use the provided JDK version unless there are any specific issues.\r\n\r\n32-bit JDK is located in IDE_HOME\\jre directory and is used by the 32-bit product executable.\r\n\r\nTo run the IDE in 64-bit mode you will need to download and install 64-bit JDK (not JRE) distribution and install it yourself. IDE will find and use it from the registry when you run the 64-bit .exe file (available only for IntelliJ IDEA right now, other products can use the .bat file to run in 64-bit mode).\r\n\r\n***&amp;lt;product&amp;gt;.exe** uses this JDK search sequence:*\r\n\r\n - **IDEA_JDK** / PHPSTORM_JDK / WEBIDE_JDK / PYCHARM_JDK / RUBYMINE_JDK / CLION_JDK / DATAGRIP_JDK environment variable (depends on the\r\n   product, WEBIDE_JDK applies to both WebStorm and PhpStorm before\r\n   version 2016.1)\r\n - ..\\jre directory\r\n - system Registry\r\n - JDK_HOME environment variable\r\n - JAVA_HOME environment variable\r\n   \r\n***idea64.exe** uses this JDK search sequence:*\r\n   \r\n - **IDEA_JDK_64** environment variable\r\n - ..\\jre64 directory\r\n - system Registry\r\n - JDK_HOME environment variable\r\n - JAVA_HOME environment variable\r\n\r\nIts also possible to start the IDE with &lt;product&gt;.bat file located in the bin directory, it uses the following JDK search sequence:\r\n\r\n - IDEA_JDK / PHPSTORM_JDK / WEBIDE_JDK / PYCHARM_JDK / RUBYMINE_JDK / CLION_JDK / DATAGRIP_JDK environment variable (depends on the product)\r\n - ..\\jre directory\r\n - JDK_HOME environment variable\r\n - JAVA_HOME environment variable\r\n\r\nEnvironment variable must point to the JDK installation home directory, for example:\r\n\r\nc:\\Program Files (x86)\\Java\\jdk1.8.0_66\r\n\r\nThe actual JDK version used by the IDE can be verified in Help | About dialog (open any project to access the menu).\r\n\r\nDefine IDEA_JDK / PHPSTORM_JDK / WEBIDE_JDK / PYCHARM_JDK / RUBYMINE_JDK / CLION_JDK / DATAGRIP_JDK variable depending on the product to override the default version from IDE_HOME\\jre.\r\n\r\nUse Rapid Environment Editor to add/edit the variables, it will detect incorrect paths.\r\n\r\n**Linux**\r\n\r\nStarting from IntelliJ IDEA 16 and the most recent versions of the lightweight IDEs, we are bundling custom JRE with Linux distributions, just like we&#39;ve been doing for Mac. Our custom JRE is based on OpenJDK and includes the most up to date fixes to provide better user experience on Linux (like font rendering improvements and HiDPI support).\r\n\r\nBoot JDK path is stored in the &lt;product&gt;.jdk file located in the config folder. It can be modified either via the Change IDE boot JDK action or by manually editing .jdk file (if you can&#39;t start the IDE to change it via an action).\r\nIt&#39;s recommended to use the bundled JRE (if available). In case you have any issues with the bundled version, you can switch to the latest version of Oracle JDK or OpenJDK available for your system (OpenJDK 1.6 is not supported, please use 1.7 or later versions, JDK 1.8 is recommended and older Java versions are not supported starting from IntelliJ IDEA 16).\r\n\r\nCheck bin/&lt;product&gt;.sh file for the JDK search order, it&#39;s similar to Windows in terms of the environment variable names. It&#39;s a legacy way to adjust the boot jdk, use it for older product versions. Consider using &lt;product&gt;.jdk file instead (see above), so that your modifications can survive IDE updates/re-installation.\r\n\r\nCheck this answer if you need to install the JDK manually on Linux.\r\nIf you have problems with ugly fonts, please see this thread comments for the tips.\r\n\r\nHelp | About will show the actual JDK version.\r\n\r\n**Mac OS X**\r\n\r\nOur latest IDE versions come with the bundled custom JDK 8 which contains the fixes for most known OpenJDK bugs. Should you need to use a different Java version, please refer to https://blog.jetbrains.com/idea/2015/05/intellij-idea-14-1-4-eap-141-1192-is-available/.\r\n\r\nIf you override IDE JDK version, its path is stored in &lt;product&gt;.jdk file located in the config folder (idea.jdk for IntelliJ IDEA, pycharm.jdk for PyCharm, etc). Delete this file or change the path inside the file manually in case IDE no longer starts and you can&#39;t change it via the menu.\r\nIf IDE doesn&#39;t start and this file doesn&#39;t exist, create it manually and specify Java path to use (Java home location), for example:\r\n/Library/Java/JavaVirtualMachines/jdk1.8.0_60.jdk\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under","title":"Setting JAVA_HOME for intelliJ?","body":"<p>The other answers will not work for 64bit versions.  Jetbrains have actually documented this quite well.  From <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under\" rel=\"noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under</a>:</p>\n\n<p><strong>Java 8</strong></p>\n\n<p>Please be aware that Java 8 is required to run IntelliJ IDEA starting from version 16 on all the supported platforms. It also applies to the lightweight IDEs released from the same branch (144+).</p>\n\n<p><strong>Windows</strong></p>\n\n<p>JDK is bundled with all the product installers and it's recommended that you will use the provided JDK version unless there are any specific issues.</p>\n\n<p>32-bit JDK is located in IDE_HOME\\jre directory and is used by the 32-bit product executable.</p>\n\n<p>To run the IDE in 64-bit mode you will need to download and install 64-bit JDK (not JRE) distribution and install it yourself. IDE will find and use it from the registry when you run the 64-bit .exe file (available only for IntelliJ IDEA right now, other products can use the .bat file to run in 64-bit mode).</p>\n\n<p><strong><em>&lt;product&gt;.exe</strong> uses this JDK search sequence:</em></p>\n\n<ul>\n<li><strong>IDEA_JDK</strong> / PHPSTORM_JDK / WEBIDE_JDK / PYCHARM_JDK / RUBYMINE_JDK / CLION_JDK / DATAGRIP_JDK environment variable (depends on the\nproduct, WEBIDE_JDK applies to both WebStorm and PhpStorm before\nversion 2016.1)</li>\n<li>..\\jre directory</li>\n<li>system Registry</li>\n<li>JDK_HOME environment variable</li>\n<li>JAVA_HOME environment variable</li>\n</ul>\n\n<p><strong><em>idea64.exe</strong> uses this JDK search sequence:</em></p>\n\n<ul>\n<li><strong>IDEA_JDK_64</strong> environment variable</li>\n<li>..\\jre64 directory</li>\n<li>system Registry</li>\n<li>JDK_HOME environment variable</li>\n<li>JAVA_HOME environment variable</li>\n</ul>\n\n<p>Its also possible to start the IDE with .bat file located in the bin directory, it uses the following JDK search sequence:</p>\n\n<ul>\n<li>IDEA_JDK / PHPSTORM_JDK / WEBIDE_JDK / PYCHARM_JDK / RUBYMINE_JDK / CLION_JDK / DATAGRIP_JDK environment variable (depends on the product)</li>\n<li>..\\jre directory</li>\n<li>JDK_HOME environment variable</li>\n<li>JAVA_HOME environment variable</li>\n</ul>\n\n<p>Environment variable must point to the JDK installation home directory, for example:</p>\n\n<p>c:\\Program Files (x86)\\Java\\jdk1.8.0_66</p>\n\n<p>The actual JDK version used by the IDE can be verified in Help | About dialog (open any project to access the menu).</p>\n\n<p>Define IDEA_JDK / PHPSTORM_JDK / WEBIDE_JDK / PYCHARM_JDK / RUBYMINE_JDK / CLION_JDK / DATAGRIP_JDK variable depending on the product to override the default version from IDE_HOME\\jre.</p>\n\n<p>Use Rapid Environment Editor to add/edit the variables, it will detect incorrect paths.</p>\n\n<p><strong>Linux</strong></p>\n\n<p>Starting from IntelliJ IDEA 16 and the most recent versions of the lightweight IDEs, we are bundling custom JRE with Linux distributions, just like we've been doing for Mac. Our custom JRE is based on OpenJDK and includes the most up to date fixes to provide better user experience on Linux (like font rendering improvements and HiDPI support).</p>\n\n<p>Boot JDK path is stored in the .jdk file located in the config folder. It can be modified either via the Change IDE boot JDK action or by manually editing .jdk file (if you can't start the IDE to change it via an action).\nIt's recommended to use the bundled JRE (if available). In case you have any issues with the bundled version, you can switch to the latest version of Oracle JDK or OpenJDK available for your system (OpenJDK 1.6 is not supported, please use 1.7 or later versions, JDK 1.8 is recommended and older Java versions are not supported starting from IntelliJ IDEA 16).</p>\n\n<p>Check bin/.sh file for the JDK search order, it's similar to Windows in terms of the environment variable names. It's a legacy way to adjust the boot jdk, use it for older product versions. Consider using .jdk file instead (see above), so that your modifications can survive IDE updates/re-installation.</p>\n\n<p>Check this answer if you need to install the JDK manually on Linux.\nIf you have problems with ugly fonts, please see this thread comments for the tips.</p>\n\n<p>Help | About will show the actual JDK version.</p>\n\n<p><strong>Mac OS X</strong></p>\n\n<p>Our latest IDE versions come with the bundled custom JDK 8 which contains the fixes for most known OpenJDK bugs. Should you need to use a different Java version, please refer to <a href=\"https://blog.jetbrains.com/idea/2015/05/intellij-idea-14-1-4-eap-141-1192-is-available/\" rel=\"noreferrer\">https://blog.jetbrains.com/idea/2015/05/intellij-idea-14-1-4-eap-141-1192-is-available/</a>.</p>\n\n<p>If you override IDE JDK version, its path is stored in .jdk file located in the config folder (idea.jdk for IntelliJ IDEA, pycharm.jdk for PyCharm, etc). Delete this file or change the path inside the file manually in case IDE no longer starts and you can't change it via the menu.\nIf IDE doesn't start and this file doesn't exist, create it manually and specify Java path to use (Java home location), for example:\n/Library/Java/JavaVirtualMachines/jdk1.8.0_60.jdk</p>\n"},{"tags":[],"owner":{"account_id":390867,"reputation":3923,"user_id":751200,"accept_rate":56,"display_name":"kolobok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654702019,"creation_date":1654702019,"answer_id":72548376,"question_id":17379117,"body_markdown":"A reminder - once you set up a JAVA_HOME env variable in Windows, you need to close all your IntelliJ apps, and then start again. Otherwise, there might be troubles with accessing JAVA_HOME variable.","title":"Setting JAVA_HOME for intelliJ?","body":"<p>A reminder - once you set up a JAVA_HOME env variable in Windows, you need to close all your IntelliJ apps, and then start again. Otherwise, there might be troubles with accessing JAVA_HOME variable.</p>\n"}],"owner":{"account_id":1591000,"reputation":2188,"user_id":1474322,"accept_rate":75,"display_name":"EJTH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83068,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":22956331,"answer_count":4,"score":30,"last_activity_date":1654702019,"creation_date":1372501002,"question_id":17379117,"body_markdown":"So i decided to try the beta of android studio today, but it refuses to run on my 32-bit JRE. I can download the 64-bit JRE, but im not interested in it being my default JRE for various reasons (my current 32-bit eclipse IDE, Processing IDE and Minecraft doesn&#39;t like 64-bit to my experiences), and i think that swithing java_home dir all the time will be cumbersome. \r\n\r\nSo does intelliJ have some way of setting an alternative JAVA_HOME dir like eclipse does in its ini?","title":"Setting JAVA_HOME for intelliJ?","body":"<p>So i decided to try the beta of android studio today, but it refuses to run on my 32-bit JRE. I can download the 64-bit JRE, but im not interested in it being my default JRE for various reasons (my current 32-bit eclipse IDE, Processing IDE and Minecraft doesn't like 64-bit to my experiences), and i think that swithing java_home dir all the time will be cumbersome. </p>\n\n<p>So does intelliJ have some way of setting an alternative JAVA_HOME dir like eclipse does in its ini?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654701863,"creation_date":1654701647,"answer_id":72548290,"question_id":72548220,"body_markdown":"You may use this regex for making sure only 0 t0 5 line breaks are there between start and end patterns:\r\n\r\n```sh\r\n^start(?:.*\\R){0,5}.*?myvalue here\r\n```\r\n\r\n[RegEx Demo 1][1]\r\n\r\n\r\nThis will show no match because `myvalue here` appears after 6 lines.\r\n\r\nIf that end pattern appears after 5 lines then there will be a match as you can see in [RegEx Demo 2][2]\r\n\r\n\r\n  [1]: https://regex101.com/r/QRNHBI/1\r\n  [2]: https://regex101.com/r/QRNHBI/2\r\n\r\n**RegEx Details:**\r\n\r\n- `^start`: Match `start` at a line start\r\n- `(?:.*\\R){0,5}`: Match 0 or more of any characters followed by a line break. Repeat this non-capturing group 0 to 5 times\r\n- `.*?myvalue here`: Match `myvalue here` after matching 0 or more character on a line","title":"How to make a regex to get a value within a certain row range?","body":"<p>You may use this regex for making sure only 0 t0 5 line breaks are there between start and end patterns:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>^start(?:.*\\R){0,5}.*?myvalue here\n</code></pre>\n<p><a href=\"https://regex101.com/r/QRNHBI/1\" rel=\"nofollow noreferrer\">RegEx Demo 1</a></p>\n<p>This will show no match because <code>myvalue here</code> appears after 6 lines.</p>\n<p>If that end pattern appears after 5 lines then there will be a match as you can see in <a href=\"https://regex101.com/r/QRNHBI/2\" rel=\"nofollow noreferrer\">RegEx Demo 2</a></p>\n<p><strong>RegEx Details:</strong></p>\n<ul>\n<li><code>^start</code>: Match <code>start</code> at a line start</li>\n<li><code>(?:.*\\R){0,5}</code>: Match 0 or more of any characters followed by a line break. Repeat this non-capturing group 0 to 5 times</li>\n<li><code>.*?myvalue here</code>: Match <code>myvalue here</code> after matching 0 or more character on a line</li>\n</ul>\n"}],"owner":{"account_id":12628029,"reputation":37,"user_id":9180708,"display_name":"sYsTeM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72548290,"answer_count":1,"score":1,"last_activity_date":1654701863,"creation_date":1654701348,"question_id":72548220,"body_markdown":"How to make a regex to select entire lines until it reaches a specific value in the limit of 5 lines down? If the value is more than 6 lines down then I should not select.\r\n\r\nThe configuration I&#39;m doing is:\r\n\r\n    Multiline\r\n    Singleline\r\n    Global\r\n\r\nThis regex works until it reaches the final value, but I didn&#39;t want to select myvalue if it was too far from start, as the limit is 5.\r\n\r\n    start.*?(myvalue here)\r\n\r\nThe data I&#39;m using:\r\n\r\n    line 1\r\n    line 2\r\n    line 3\r\n    start\r\n    line 1\r\n    line 2\r\n    line 3\r\n    line 4 \r\n    line 5\r\n    line 6 myvalue here\r\n\r\nIn the above case, the expected is not to select, if I had it on line 5 then I could select.\r\n\r\nCould you show me how to do it in regex?","title":"How to make a regex to get a value within a certain row range?","body":"<p>How to make a regex to select entire lines until it reaches a specific value in the limit of 5 lines down? If the value is more than 6 lines down then I should not select.</p>\n<p>The configuration I'm doing is:</p>\n<pre><code>Multiline\nSingleline\nGlobal\n</code></pre>\n<p>This regex works until it reaches the final value, but I didn't want to select myvalue if it was too far from start, as the limit is 5.</p>\n<pre><code>start.*?(myvalue here)\n</code></pre>\n<p>The data I'm using:</p>\n<pre><code>line 1\nline 2\nline 3\nstart\nline 1\nline 2\nline 3\nline 4 \nline 5\nline 6 myvalue here\n</code></pre>\n<p>In the above case, the expected is not to select, if I had it on line 5 then I could select.</p>\n<p>Could you show me how to do it in regex?</p>\n"},{"tags":["java","docker","jlink"],"answers":[{"tags":[],"owner":{"account_id":939349,"reputation":1639,"user_id":967713,"accept_rate":73,"display_name":"Chris Stewart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654701791,"creation_date":1654701791,"answer_id":72548330,"question_id":72521555,"body_markdown":"This is a duplicate of https://stackoverflow.com/questions/63544874/jlink-does-not-produce-redistributable-image/63595415#63595415\r\n\r\nTLDR, the linker expected by jlink was an x86 linker `/lib64/ld-linux-x86-64.so.2`, however since the CPU that i&#39;m attemping to run the jlink&#39;ed jre on is an arm64 CPU, it does not have a x86 linker.\r\n\r\nThe root cause of this is the fact that I built the jre on an x86 github actions machine, and tried to run this on an arm64 machine.\r\n\r\nAt minium, it would be _really_ nice to have an improved error message for this by the jdk teams.\r\n\r\nOne absolutely baffling error message is \r\n\r\n```\r\nbash: ./jre/bin/java: cannot execute binary file: Exec format error\r\n```\r\n\r\nIf you found this question, here is where you can track our teams workarounds for this: \r\n\r\nhttps://github.com/bitcoin-s/bitcoin-s/issues/4369","title":"arm64 docker image built on arm64 machine (m1) does not create java runtime correctly with jlink","body":"<p>This is a duplicate of <a href=\"https://stackoverflow.com/questions/63544874/jlink-does-not-produce-redistributable-image/63595415#63595415\">JLink does not produce redistributable image</a></p>\n<p>TLDR, the linker expected by jlink was an x86 linker <code>/lib64/ld-linux-x86-64.so.2</code>, however since the CPU that i'm attemping to run the jlink'ed jre on is an arm64 CPU, it does not have a x86 linker.</p>\n<p>The root cause of this is the fact that I built the jre on an x86 github actions machine, and tried to run this on an arm64 machine.</p>\n<p>At minium, it would be <em>really</em> nice to have an improved error message for this by the jdk teams.</p>\n<p>One absolutely baffling error message is</p>\n<pre><code>bash: ./jre/bin/java: cannot execute binary file: Exec format error\n</code></pre>\n<p>If you found this question, here is where you can track our teams workarounds for this:</p>\n<p><a href=\"https://github.com/bitcoin-s/bitcoin-s/issues/4369\" rel=\"nofollow noreferrer\">https://github.com/bitcoin-s/bitcoin-s/issues/4369</a></p>\n"}],"owner":{"account_id":939349,"reputation":1639,"user_id":967713,"accept_rate":73,"display_name":"Chris Stewart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":944,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72548330,"answer_count":1,"score":1,"last_activity_date":1654701791,"creation_date":1654537421,"question_id":72521555,"body_markdown":"I&#39;m attempting to build a docker image locally on my m1 mac. The application inside of the docker image is a java application built with `jlink`. \r\n\r\nWhen attempting to run the docker image with the java application embedded in it, i get an error saying `No java detected`. \r\n\r\nWhen I enter into the container, and try to do `./jre/bin/java -version`, I get this error from Java\r\n\r\n```\r\nbitcoin-s@d672864e1b18:/opt/docker$ ./jre/bin/java\r\nbash: ./jre/bin/java: cannot execute binary file: Exec format error\r\n```\r\n\r\n[From other places online, this appears that the targeted arch by java is different than the processor its running on](https://mkyong.com/java/bash-usr-bin-java-cannot-execute-binary-file-exec-format-error/)\r\n\r\nHowever this is confusing to me, as I said in the title, this is built on an m1 mac with java that supports aarch64. I would imagine the jre produced by `jlink` would also support `aarch64` in the docker image?\r\n\r\nToo be clear, i am running attempting to build AND run the docker image on the same host machine which is an m1 mac.\r\n\r\nIf its relevant, the version of java I am using on my m1 mac is\r\n\r\n```\r\njava -version                                                                                                               \r\nopenjdk version &quot;17.0.2&quot; 2022-01-18 LTS\r\nOpenJDK Runtime Environment Zulu17.32+13-CA (build 17.0.2+8-LTS)\r\nOpenJDK 64-Bit Server VM Zulu17.32+13-CA (build 17.0.2+8-LTS, mixed mode, sharing)\r\n```\r\n\r\n\r\nWhen I pull a remotely built linux version of the docker container, and attempt to run java inside the container, I get this error\r\n\r\n```\r\n./jre/bin/java -version\r\n/lib64/ld-linux-x86-64.so.2: No such file or directory\r\n```\r\n","title":"arm64 docker image built on arm64 machine (m1) does not create java runtime correctly with jlink","body":"<p>I'm attempting to build a docker image locally on my m1 mac. The application inside of the docker image is a java application built with <code>jlink</code>.</p>\n<p>When attempting to run the docker image with the java application embedded in it, i get an error saying <code>No java detected</code>.</p>\n<p>When I enter into the container, and try to do <code>./jre/bin/java -version</code>, I get this error from Java</p>\n<pre><code>bitcoin-s@d672864e1b18:/opt/docker$ ./jre/bin/java\nbash: ./jre/bin/java: cannot execute binary file: Exec format error\n</code></pre>\n<p><a href=\"https://mkyong.com/java/bash-usr-bin-java-cannot-execute-binary-file-exec-format-error/\" rel=\"nofollow noreferrer\">From other places online, this appears that the targeted arch by java is different than the processor its running on</a></p>\n<p>However this is confusing to me, as I said in the title, this is built on an m1 mac with java that supports aarch64. I would imagine the jre produced by <code>jlink</code> would also support <code>aarch64</code> in the docker image?</p>\n<p>Too be clear, i am running attempting to build AND run the docker image on the same host machine which is an m1 mac.</p>\n<p>If its relevant, the version of java I am using on my m1 mac is</p>\n<pre><code>java -version                                                                                                               \nopenjdk version &quot;17.0.2&quot; 2022-01-18 LTS\nOpenJDK Runtime Environment Zulu17.32+13-CA (build 17.0.2+8-LTS)\nOpenJDK 64-Bit Server VM Zulu17.32+13-CA (build 17.0.2+8-LTS, mixed mode, sharing)\n</code></pre>\n<p>When I pull a remotely built linux version of the docker container, and attempt to run java inside the container, I get this error</p>\n<pre><code>./jre/bin/java -version\n/lib64/ld-linux-x86-64.so.2: No such file or directory\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424913150,"creation_date":1424913150,"answer_id":28732812,"question_id":28732769,"body_markdown":"You can iterate and check whether it&#39;s a last element of array or not.\r\n\r\n     for(int comma=0;comma&lt;list.length;comma++){\r\n         System.out.print(list[comma]);\r\n         if(comma != list.length-1) {//This will not add , in last element\r\n           System.out.print(&quot;,&quot;);\r\n         }\r\n     }","title":"Inserting commas between each odd array output in java","body":"<p>You can iterate and check whether it's a last element of array or not.</p>\n\n<pre><code> for(int comma=0;comma&lt;list.length;comma++){\n     System.out.print(list[comma]);\n     if(comma != list.length-1) {//This will not add , in last element\n       System.out.print(\",\");\n     }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1743794,"reputation":5519,"user_id":1594449,"display_name":"gknicker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424913613,"creation_date":1424913613,"answer_id":28732876,"question_id":28732769,"body_markdown":"My favorite way to do this is to initialize a `separator` variable to an empty string, then set it to some useful value after the first iteration:\r\n\r\n\t\tString separator = &quot;&quot;;\r\n\t\tfor (i = 0; i &lt; list.length; i += 2) {\r\n\t\t\tif (list[i] == null) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tSystem.out.print(separator);\r\n\t\t\tSystem.out.print(list[i]);\r\n\t\t\tseparator = &quot;,&quot;;\r\n\t\t}\r\n","title":"Inserting commas between each odd array output in java","body":"<p>My favorite way to do this is to initialize a <code>separator</code> variable to an empty string, then set it to some useful value after the first iteration:</p>\n\n<pre><code>    String separator = \"\";\n    for (i = 0; i &lt; list.length; i += 2) {\n        if (list[i] == null) {\n            break;\n        }\n        System.out.print(separator);\n        System.out.print(list[i]);\n        separator = \",\";\n    }\n</code></pre>\n"}],"owner":{"account_id":5804564,"reputation":115,"user_id":4577653,"accept_rate":88,"display_name":"12dec1990"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654701702,"creation_date":1424912864,"question_id":28732769,"body_markdown":"This program uses arrays to print out every odd user input.I have a counter to keep track of the total number of odd items.Everything works fine till the end where there&#39;s supposed to be commas between each output and a period at the end of the list.What conditional statement should I insert to make the code print out the number of commas one LESS than the total outputs? \r\n\r\n\r\n\r\n\r\n\r\n   import java.util.*;\r\n\r\n    public class ManipulatingArrays {\r\n    \tpublic static void main(String[]args)\r\n    \t{\r\n    \t\tint counter=0;\r\n    \t\tint i;\r\n    \t\tString[] list=new String[50];\r\n    \t\t\r\n    \t\tfor( i=0;i&lt;50;i++)\r\n    \t\t\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t\tScanner a=new Scanner(System.in);\r\n    \t\t\tSystem.out.println(&quot;Enter something: &quot;);\r\n    \t\t\tlist[i]=a.nextLine();\r\n    \t\t\tif(i&gt;=1)\r\n    \t\t\t{\r\n    \t\t\t\r\n    \t\t\tif(list[i].equals(list[i-1]))\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;Program has ended!&quot;);\r\n    \t\t\t\ti=50;\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\tfor( i=0;i&lt;list.length;i+=2)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif(list[i]==null)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\ti=50;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\tcounter=counter+1;\r\n    \t\t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t\tSystem.out.println(&quot;\\nTotal number of odd objects: &quot;+counter);\r\n    \t\tSystem.out.print(&quot;Every item you like: &quot;);\r\n    \t\tfor( i=0;i&lt;list.length;i+=2)\r\n    \t\t{\r\n    \t\t\tif(list[i]==null)\r\n    \t\t\t{\r\n    \t\t\t\ti=50;\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\tSystem.out.print(list[i]);\r\n    \t\t\t\r\n    \t\t\r\n    \t\tfor(int comma=0;comma&lt;1;comma++)\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t\tSystem.out.print(&quot;,&quot;);\r\n    \t\t}\r\n    \t\t} \r\n    \t\t}\r\n    \t\t}\r\n    \t    }\r\n\t","title":"Inserting commas between each odd array output in java","body":"<p>This program uses arrays to print out every odd user input.I have a counter to keep track of the total number of odd items.Everything works fine till the end where there's supposed to be commas between each output and a period at the end of the list.What conditional statement should I insert to make the code print out the number of commas one LESS than the total outputs? </p>\n\n<p>import java.util.*;</p>\n\n<pre><code>public class ManipulatingArrays {\n    public static void main(String[]args)\n    {\n        int counter=0;\n        int i;\n        String[] list=new String[50];\n\n        for( i=0;i&lt;50;i++)\n\n        {\n\n            Scanner a=new Scanner(System.in);\n            System.out.println(\"Enter something: \");\n            list[i]=a.nextLine();\n            if(i&gt;=1)\n            {\n\n            if(list[i].equals(list[i-1]))\n            {\n                System.out.println(\"Program has ended!\");\n                i=50;\n\n\n                for( i=0;i&lt;list.length;i+=2)\n                {\n                    if(list[i]==null)\n                    {\n                        i=50;\n                    }\n                    else\n                    {\n                    counter=counter+1;\n\n            }\n            }\n            }\n            }\n            }\n        System.out.println(\"\\nTotal number of odd objects: \"+counter);\n        System.out.print(\"Every item you like: \");\n        for( i=0;i&lt;list.length;i+=2)\n        {\n            if(list[i]==null)\n            {\n                i=50;\n            }\n            else\n            {\n            System.out.print(list[i]);\n\n\n        for(int comma=0;comma&lt;1;comma++)\n        {\n\n            System.out.print(\",\");\n        }\n        } \n        }\n        }\n        }\n</code></pre>\n"},{"tags":["java","spring","code-generation"],"answers":[{"tags":[],"owner":{"account_id":1516843,"reputation":1043,"user_id":1417659,"display_name":"Jos&#233; Ricardo Pla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413365579,"creation_date":1413365274,"answer_id":26379011,"question_id":26378907,"body_markdown":"Spring-roo ([link][1]) have these features, and if you want you can remove spring-roo from your project and remains a java-spring project.\r\n\r\nSample from link : \r\n\r\n    roo&gt; hint\r\n    roo&gt; project --topLevelPackage com.foo\r\n    roo&gt; jpa setup --provider HIBERNATE --database HYPERSONIC_IN_MEMORY         \r\n    roo&gt; entity jpa --class ~.Timer --testAutomatically\r\n    roo&gt; field string --fieldName message --notNull\r\n    roo&gt; hint web mvc\r\n    roo&gt; web mvc setup\r\n    roo&gt; web mvc all --package ~.web\r\n    roo&gt; selenium test --controller ~.web.TimerController\r\n    roo&gt; web gwt setup\r\n    roo&gt; web gwt all --proxyPackage ~.client.proxy --requestPackage ~.client.request          \r\n    roo&gt; perform tests\r\n    roo&gt; quit\r\n\r\nAs you can see : create the project, setup jpa provider, create Entity, create MVC Controller, the Tests and some GWT setup.\r\n\r\n  [1]: http://projects.spring.io/spring-roo/","title":"How to generate Spring WebMVC CRUD API","body":"<p>Spring-roo (<a href=\"http://projects.spring.io/spring-roo/\" rel=\"nofollow\">link</a>) have these features, and if you want you can remove spring-roo from your project and remains a java-spring project.</p>\n\n<p>Sample from link : </p>\n\n<pre><code>roo&gt; hint\nroo&gt; project --topLevelPackage com.foo\nroo&gt; jpa setup --provider HIBERNATE --database HYPERSONIC_IN_MEMORY         \nroo&gt; entity jpa --class ~.Timer --testAutomatically\nroo&gt; field string --fieldName message --notNull\nroo&gt; hint web mvc\nroo&gt; web mvc setup\nroo&gt; web mvc all --package ~.web\nroo&gt; selenium test --controller ~.web.TimerController\nroo&gt; web gwt setup\nroo&gt; web gwt all --proxyPackage ~.client.proxy --requestPackage ~.client.request          \nroo&gt; perform tests\nroo&gt; quit\n</code></pre>\n\n<p>As you can see : create the project, setup jpa provider, create Entity, create MVC Controller, the Tests and some GWT setup.</p>\n"},{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1413367780,"creation_date":1413367352,"answer_id":26379731,"question_id":26378907,"body_markdown":"Although [Spring Roo][1] will generate a CRUD application for you, however the code it generates is outdated. If I where starting a new project, I would definitely stay away from it (at least until a new version is released). \r\n\r\nI suggest you take a look at [JHipster][2] which is a [Yeoman][3] that will generate a CRUD application using some of pretty hot tech (like Spring Boot, AngularJS etc.)\r\n\r\nBesides the novelty factor of the generated code, another great feature of the project is that it is extremely active as is evident from the [releases][4]\r\n\r\n\r\n  [1]: http://projects.spring.io/spring-roo/\r\n  [2]: https://jhipster.github.io/\r\n  [3]: http://yeoman.io/\r\n  [4]: http://jhipster.github.io/releases.html","title":"How to generate Spring WebMVC CRUD API","body":"<p>Although <a href=\"http://projects.spring.io/spring-roo/\" rel=\"nofollow\">Spring Roo</a> will generate a CRUD application for you, however the code it generates is outdated. If I where starting a new project, I would definitely stay away from it (at least until a new version is released). </p>\n\n<p>I suggest you take a look at <a href=\"https://jhipster.github.io/\" rel=\"nofollow\">JHipster</a> which is a <a href=\"http://yeoman.io/\" rel=\"nofollow\">Yeoman</a> that will generate a CRUD application using some of pretty hot tech (like Spring Boot, AngularJS etc.)</p>\n\n<p>Besides the novelty factor of the generated code, another great feature of the project is that it is extremely active as is evident from the <a href=\"http://jhipster.github.io/releases.html\" rel=\"nofollow\">releases</a></p>\n"},{"tags":[],"owner":{"account_id":3299383,"reputation":1628,"user_id":2775900,"display_name":"superbob"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1413370755,"creation_date":1413370755,"answer_id":26380872,"question_id":26378907,"body_markdown":"**Partial Answer :**\r\nIf you can generate JPA entities and Spring Data JPA Repositories, you can use [Spring Data REST](http://projects.spring.io/spring-data-rest/) to expose the repositories as a full CRUD REST API.","title":"How to generate Spring WebMVC CRUD API","body":"<p><strong>Partial Answer :</strong>\nIf you can generate JPA entities and Spring Data JPA Repositories, you can use <a href=\"http://projects.spring.io/spring-data-rest/\" rel=\"nofollow\">Spring Data REST</a> to expose the repositories as a full CRUD REST API.</p>\n"},{"tags":[],"owner":{"account_id":2360942,"reputation":2352,"user_id":2067631,"display_name":"lgu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417801110,"creation_date":1417801110,"answer_id":27321642,"question_id":26378907,"body_markdown":"The response is probably in this tutorial :\r\n\r\nhttps://sites.google.com/site/telosystutorial/springmvc-jpa-springdatajpa ","title":"How to generate Spring WebMVC CRUD API","body":"<p>The response is probably in this tutorial :</p>\n\n<p><a href=\"https://sites.google.com/site/telosystutorial/springmvc-jpa-springdatajpa\" rel=\"nofollow\">https://sites.google.com/site/telosystutorial/springmvc-jpa-springdatajpa</a> </p>\n"},{"tags":[],"owner":{"account_id":9621777,"reputation":11,"user_id":7142766,"display_name":"Yann Demel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478800819,"creation_date":1478800819,"answer_id":40534176,"question_id":26378907,"body_markdown":"You can take a look at **[crud-rest-gen][1]** project which explains how to use the **[crud-maven-plugin][2]** to generate :\r\n\r\n - the CRUD Rest API\r\n - the documentation of the API\r\n - the HTML5/AngularJS CRUD Administration UI\r\n - the Rest API for retrieving audit information and associated unit tests if you use Hibernate Envers to audit your entities\r\n\r\nAll you have to provide is the data model containing the JPA entities.\r\n\r\n\r\n  [1]: https://github.com/yanndemel/crud-rest-gen\r\n  [2]: https://github.com/yanndemel/crud-rest-gen/tree/master/crud-maven-plugin","title":"How to generate Spring WebMVC CRUD API","body":"<p>You can take a look at <strong><a href=\"https://github.com/yanndemel/crud-rest-gen\" rel=\"nofollow noreferrer\">crud-rest-gen</a></strong> project which explains how to use the <strong><a href=\"https://github.com/yanndemel/crud-rest-gen/tree/master/crud-maven-plugin\" rel=\"nofollow noreferrer\">crud-maven-plugin</a></strong> to generate :</p>\n\n<ul>\n<li>the CRUD Rest API</li>\n<li>the documentation of the API</li>\n<li>the HTML5/AngularJS CRUD Administration UI</li>\n<li>the Rest API for retrieving audit information and associated unit tests if you use Hibernate Envers to audit your entities</li>\n</ul>\n\n<p>All you have to provide is the data model containing the JPA entities.</p>\n"},{"tags":[],"owner":{"account_id":7851676,"reputation":9,"user_id":5934981,"display_name":"Odilio Noronha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654701669,"creation_date":1654701669,"answer_id":72548298,"question_id":26378907,"body_markdown":"A Yeoman generator for generating Microservices with SpringBoot in Hexagonal Architecture\r\n\r\nhttps://www.npmjs.com/package/generator-springboot-hexagonal","title":"How to generate Spring WebMVC CRUD API","body":"<p>A Yeoman generator for generating Microservices with SpringBoot in Hexagonal Architecture</p>\n<p><a href=\"https://www.npmjs.com/package/generator-springboot-hexagonal\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/generator-springboot-hexagonal</a></p>\n"}],"owner":{"account_id":4301469,"reputation":324,"user_id":3515101,"accept_rate":78,"display_name":"SzaboAdam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10058,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":26380872,"answer_count":6,"score":5,"last_activity_date":1654701669,"creation_date":1413364918,"question_id":26378907,"body_markdown":"What I want to do is to create a full Spring WebMVC CRUD API from database tables/Hibernate JPA entities, into an existing Maven Web Project.\r\nWhat I want generate, to be precise:\r\n\r\n - Spring WebMVC controller (mapping&amp;implementation)\r\n - The JPA entity (if not given) - ofc. using the standard generation built in to most IDEs\r\n - Spring Data JPA repository\r\n - Optionally modifying some other files (f.e. adding the entity to existing persistence.xml)\r\n\r\nIs there a project for this?\r\nWhat would be the best way to create something like this?\r\nWhat I had thought about:\r\n\r\n - Standalone Java APP\r\n - Maven subgenerators\r\n - Eclipse plugin\r\n - Standard code generation methods (f.e. Acceleo plugin)\r\n\r\nWhat would you suggest?","title":"How to generate Spring WebMVC CRUD API","body":"<p>What I want to do is to create a full Spring WebMVC CRUD API from database tables/Hibernate JPA entities, into an existing Maven Web Project.\nWhat I want generate, to be precise:</p>\n\n<ul>\n<li>Spring WebMVC controller (mapping&amp;implementation)</li>\n<li>The JPA entity (if not given) - ofc. using the standard generation built in to most IDEs</li>\n<li>Spring Data JPA repository</li>\n<li>Optionally modifying some other files (f.e. adding the entity to existing persistence.xml)</li>\n</ul>\n\n<p>Is there a project for this?\nWhat would be the best way to create something like this?\nWhat I had thought about:</p>\n\n<ul>\n<li>Standalone Java APP</li>\n<li>Maven subgenerators</li>\n<li>Eclipse plugin</li>\n<li>Standard code generation methods (f.e. Acceleo plugin)</li>\n</ul>\n\n<p>What would you suggest?</p>\n"},{"tags":["java","unit-testing","mockito","keystore","powermockito"],"answers":[{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1529065208,"creation_date":1529065208,"answer_id":50875493,"question_id":36354270,"body_markdown":"You can mock without usage of the PowerMock it but in a slightly more complicated way:\r\n\r\n    KeyStoreSpi keyStoreSpiMock = mock(KeyStoreSpi.class);\r\n    KeyStore keyStoreMock = new KeyStore(keyStoreSpiMock, null, &quot;test&quot;){ };\r\n    keyStoreMock.load(null);  // this is important to put the internal state &quot;initialized&quot; to true\r\n\r\nFrom now you just mock `keyStoreSpiMock`, for example:\r\n\r\n    when(keyStoreSpiMock.engineGetKey(any(), any())).thenReturn(mock(Key.class);\r\n \r\n\r\n","title":"How to mock keystore class and assign mock behavior to its methods?","body":"<p>You can mock without usage of the PowerMock it but in a slightly more complicated way:</p>\n\n<pre><code>KeyStoreSpi keyStoreSpiMock = mock(KeyStoreSpi.class);\nKeyStore keyStoreMock = new KeyStore(keyStoreSpiMock, null, \"test\"){ };\nkeyStoreMock.load(null);  // this is important to put the internal state \"initialized\" to true\n</code></pre>\n\n<p>From now you just mock <code>keyStoreSpiMock</code>, for example:</p>\n\n<pre><code>when(keyStoreSpiMock.engineGetKey(any(), any())).thenReturn(mock(Key.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1619875,"reputation":847,"user_id":1496702,"accept_rate":67,"display_name":"Simon Tenbeitel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654701560,"creation_date":1654701560,"answer_id":72548268,"question_id":36354270,"body_markdown":"The reason why this happens is that Mockito creates a subclass of the mocked class and that the parent classs method is invoked in the `when` call. So, to prevent the KeyStoreException, you have to have the `initialized` field to be set to `true` and the `keyStoreSpi` to be non-null.\r\n\r\nOne way to achieve this is shown by @Andremoniy. However, I would prefer not to mock the `KeyStoreSpi` class, because I don&#39;t care about the keystore internals and the code I want to test doesn&#39;t neither. The reason I use mocks is to treat the code as a black box and only test against the API.\r\n\r\nTo get the keystore mock working, this is the code I used:\r\n```\r\nKeyStore keystoreMock = mock(KeyStore.class);\r\nFieldUtils.writeField(keystoreMock, &quot;keyStoreSpi&quot;, mock(KeyStoreSpi.class), true);\r\nFieldUtils.writeField(keystoreMock, &quot;initialized&quot;, true, true);\r\n```\r\n\r\nI used reflection to set the private fields of the `KeyStore` class and I used `FieldUtils` from [Apache Commons][1], but you could also use plain Java reflection.\r\n\r\nOf coursec technically I also mocked the `KeyStoreSpi` class, but I just created an empty mock without any behavior. This way, I didn&#39;t need to spend any attention on the internal API between `KeyStore` and `KeyStoreSpi`.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html","title":"How to mock keystore class and assign mock behavior to its methods?","body":"<p>The reason why this happens is that Mockito creates a subclass of the mocked class and that the parent classs method is invoked in the <code>when</code> call. So, to prevent the KeyStoreException, you have to have the <code>initialized</code> field to be set to <code>true</code> and the <code>keyStoreSpi</code> to be non-null.</p>\n<p>One way to achieve this is shown by @Andremoniy. However, I would prefer not to mock the <code>KeyStoreSpi</code> class, because I don't care about the keystore internals and the code I want to test doesn't neither. The reason I use mocks is to treat the code as a black box and only test against the API.</p>\n<p>To get the keystore mock working, this is the code I used:</p>\n<pre><code>KeyStore keystoreMock = mock(KeyStore.class);\nFieldUtils.writeField(keystoreMock, &quot;keyStoreSpi&quot;, mock(KeyStoreSpi.class), true);\nFieldUtils.writeField(keystoreMock, &quot;initialized&quot;, true, true);\n</code></pre>\n<p>I used reflection to set the private fields of the <code>KeyStore</code> class and I used <code>FieldUtils</code> from <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html\" rel=\"nofollow noreferrer\">Apache Commons</a>, but you could also use plain Java reflection.</p>\n<p>Of coursec technically I also mocked the <code>KeyStoreSpi</code> class, but I just created an empty mock without any behavior. This way, I didn't need to spend any attention on the internal API between <code>KeyStore</code> and <code>KeyStoreSpi</code>.</p>\n"}],"owner":{"account_id":3101854,"reputation":4107,"user_id":2625772,"accept_rate":54,"display_name":"AnOldSoul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17835,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":2,"score":9,"last_activity_date":1654701560,"creation_date":1459507360,"question_id":36354270,"body_markdown":"I have the below method which I need to write unit tests for. But I cannot spy the class KeyStore. It throws the below exception.\r\n\r\n    org.mockito.exceptions.base.MockitoException: Unable to create mock instance of type &#39;KeyStore&#39;\r\n\r\nI can mock it though. But when I go to assign the behavior for the mock methods it throws exceptions. Methods I called and the exceptions I got are as follows.\r\n\r\n    when(keyStoreMock.getCertificate(anyString())).thenReturn(certificateMock);\r\n    \r\n     java.security.KeyStoreException: Uninitialized keystore\r\n\r\n    doNothing().when(keyStoreMock).load(any(InputStream.class),Mockito.any(char[].class));\r\n\r\n     java.lang.NullPointerException\r\n\r\nBelow is the method I&#39;m trying to test.\r\n\r\n\t\t public boolean verifySignature(String filePath, String extractContentsPath, String csvParams)\r\n\t\t\t\t\tthrows ServiceSDKException {\r\n\t\t\t\tboolean result = false;\r\n\t\t\t\tString typeOfCertificateStore = &quot;&quot;;\r\n\t\t\t\tString certificateStoreProvider = &quot;&quot;;\r\n\t\t\t\tString certificateName = &quot;&quot;;\r\n\t\t\t\tSignerInformationVerifier verifier = null;\r\n\t\t\t\tif (filePath != null &amp;&amp; extractContentsPath != null &amp;&amp; csvParams != null &amp;&amp; !filePath.isEmpty()\r\n\t\t\t\t\t\t&amp;&amp; !extractContentsPath.isEmpty() &amp;&amp; !csvParams.isEmpty()) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tString[] receivedParams = csvParams.split(&quot;,&quot;);\r\n\t\t\t\t\t\ttypeOfCertificateStore = receivedParams[0];\r\n\t\t\t\t\t\tcertificateStoreProvider = receivedParams[1];\r\n\t\t\t\t\t\tcertificateName = receivedParams[2];\r\n\t\t\t\t\t} catch (ArrayIndexOutOfBoundsException e) {\r\n\t\t\t\t\t\tthrow new ServiceSDKException(&quot;csvParams should have type of certificate store, certificate store provider and certificate name respectively&quot;, e);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tPath signedDataFilePath = Paths.get(filePath);\r\n\t\t\t\t\t\tPath pathToExtractContents = Paths.get(extractContentsPath);\r\n\r\n\t\t\t\t\t\tKeyStore msCertStore = KeyStore.getInstance(typeOfCertificateStore, certificateStoreProvider);\r\n\t\t\t\t\t\tmsCertStore.load(null, null);\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tverifier = new JcaSimpleSignerInfoVerifierBuilder()\r\n\t\t\t\t\t\t\t\t\t.setProvider(certificateStoreProvider)\r\n\t\t\t\t\t\t\t\t\t.build(((X509Certificate) msCertStore.getCertificate(certificateName)));\r\n\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\tthrow new ServiceSDKException(&quot;Exception occurred when building certificate&quot;,e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tverify(signedDataFilePath, pathToExtractContents, verifier);\r\n\t\t\t\t\t\tresult = true;\r\n\t\t\t\t\t} catch (KeyStoreException | NoSuchProviderException | IOException | NoSuchAlgorithmException\r\n\t\t\t\t\t\t\t| CertificateException e) {\r\n\t\t\t\t\t\tresult = false;\r\n\t\t\t\t\t\tthrow new ServiceSDKException(&quot;Exception occurred while preparing to verify signature &quot; , e);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new ServiceSDKException(&quot;FilePath,extract contents path or csv params cannot be empty or null&quot;);\r\n\t\t\t\t}\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\r\nHow can I mock KeyStore and its method behaviors? Please advice.\r\n\r\nNEW TEST METHOD USING MOCKITO :\r\n\r\n\t@PrepareForTest(KeyStore.class)\r\n\t\t@Test\r\n\t\tpublic void should_verify_signature_when_verifySignature_called_with_fileName_and_certificate_details_in_verifySignature_method() throws Exception {\r\n\t\t\tPowerMockito.mockStatic(KeyStore.class);\r\n\r\n\t\t\tKeyStore keyStoreMock = PowerMockito.mock(KeyStore.class);\r\n\t\t\tPowerMockito.when(KeyStore.getInstance(anyString())).thenReturn(keyStoreMock);\r\n\t\t\tMockito.doNothing().when(keyStoreMock).load(any(InputStream.class), Mockito.any(char[].class));\r\n\t\t\tCertificate certificateMock = Mockito.mock(Certificate.class);\r\n\t\t\twhen(keyStoreMock.getCertificate(anyString())).thenReturn(certificateMock);\r\n\r\n\t\t\tPowerMockito.when(KeyStore.getInstance(&quot;Windows-MY&quot;, &quot;MoonMSCAPI&quot;)).thenReturn(keyStoreMock);\r\n\t\t\tboolean result = signatureUtil.verifySignature(&quot;src//test//java//Updates.zip.signed.pkcs7&quot;\r\n\t\t\t\t\t, &quot;src//test//java//Updates-retrieved.zip&quot;, &quot;Windows-MY,MoonMSCAPI,Software View Certificate Authority&quot;);\r\n\t\t\tAssert.assertTrue(result);\r\n\r\n\t\t}\r\n","title":"How to mock keystore class and assign mock behavior to its methods?","body":"<p>I have the below method which I need to write unit tests for. But I cannot spy the class KeyStore. It throws the below exception.</p>\n\n<pre><code>org.mockito.exceptions.base.MockitoException: Unable to create mock instance of type 'KeyStore'\n</code></pre>\n\n<p>I can mock it though. But when I go to assign the behavior for the mock methods it throws exceptions. Methods I called and the exceptions I got are as follows.</p>\n\n<pre><code>when(keyStoreMock.getCertificate(anyString())).thenReturn(certificateMock);\n\n java.security.KeyStoreException: Uninitialized keystore\n\ndoNothing().when(keyStoreMock).load(any(InputStream.class),Mockito.any(char[].class));\n\n java.lang.NullPointerException\n</code></pre>\n\n<p>Below is the method I'm trying to test.</p>\n\n<pre><code>     public boolean verifySignature(String filePath, String extractContentsPath, String csvParams)\n                throws ServiceSDKException {\n            boolean result = false;\n            String typeOfCertificateStore = \"\";\n            String certificateStoreProvider = \"\";\n            String certificateName = \"\";\n            SignerInformationVerifier verifier = null;\n            if (filePath != null &amp;&amp; extractContentsPath != null &amp;&amp; csvParams != null &amp;&amp; !filePath.isEmpty()\n                    &amp;&amp; !extractContentsPath.isEmpty() &amp;&amp; !csvParams.isEmpty()) {\n                try {\n                    String[] receivedParams = csvParams.split(\",\");\n                    typeOfCertificateStore = receivedParams[0];\n                    certificateStoreProvider = receivedParams[1];\n                    certificateName = receivedParams[2];\n                } catch (ArrayIndexOutOfBoundsException e) {\n                    throw new ServiceSDKException(\"csvParams should have type of certificate store, certificate store provider and certificate name respectively\", e);\n                }\n                try {\n                    Path signedDataFilePath = Paths.get(filePath);\n                    Path pathToExtractContents = Paths.get(extractContentsPath);\n\n                    KeyStore msCertStore = KeyStore.getInstance(typeOfCertificateStore, certificateStoreProvider);\n                    msCertStore.load(null, null);\n                    try {\n                        verifier = new JcaSimpleSignerInfoVerifierBuilder()\n                                .setProvider(certificateStoreProvider)\n                                .build(((X509Certificate) msCertStore.getCertificate(certificateName)));\n                    } catch (Exception e) {\n                        throw new ServiceSDKException(\"Exception occurred when building certificate\",e);\n                    }\n                    verify(signedDataFilePath, pathToExtractContents, verifier);\n                    result = true;\n                } catch (KeyStoreException | NoSuchProviderException | IOException | NoSuchAlgorithmException\n                        | CertificateException e) {\n                    result = false;\n                    throw new ServiceSDKException(\"Exception occurred while preparing to verify signature \" , e);\n                }\n            } else {\n                throw new ServiceSDKException(\"FilePath,extract contents path or csv params cannot be empty or null\");\n            }\n            return result;\n        }\n</code></pre>\n\n<p>How can I mock KeyStore and its method behaviors? Please advice.</p>\n\n<p>NEW TEST METHOD USING MOCKITO :</p>\n\n<pre><code>@PrepareForTest(KeyStore.class)\n    @Test\n    public void should_verify_signature_when_verifySignature_called_with_fileName_and_certificate_details_in_verifySignature_method() throws Exception {\n        PowerMockito.mockStatic(KeyStore.class);\n\n        KeyStore keyStoreMock = PowerMockito.mock(KeyStore.class);\n        PowerMockito.when(KeyStore.getInstance(anyString())).thenReturn(keyStoreMock);\n        Mockito.doNothing().when(keyStoreMock).load(any(InputStream.class), Mockito.any(char[].class));\n        Certificate certificateMock = Mockito.mock(Certificate.class);\n        when(keyStoreMock.getCertificate(anyString())).thenReturn(certificateMock);\n\n        PowerMockito.when(KeyStore.getInstance(\"Windows-MY\", \"MoonMSCAPI\")).thenReturn(keyStoreMock);\n        boolean result = signatureUtil.verifySignature(\"src//test//java//Updates.zip.signed.pkcs7\"\n                , \"src//test//java//Updates-retrieved.zip\", \"Windows-MY,MoonMSCAPI,Software View Certificate Authority\");\n        Assert.assertTrue(result);\n\n    }\n</code></pre>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1654682953,"post_id":72543659,"comment_id":128147501,"body_markdown":"&quot;*Looking for the name of the design pattern...*&quot; Why do you assume this is a design pattern? &quot;*This differs from the Properties Container design pattern*&quot; There is [no such pattern](https://en.wikipedia.org/wiki/Software_design_pattern), at least under the common definition of software design patterns.","body":"&quot;<i>Looking for the name of the design pattern...</i>&quot; Why do you assume this is a design pattern? &quot;<i>This differs from the Properties Container design pattern</i>&quot; There is <a href=\"https://en.wikipedia.org/wiki/Software_design_pattern\" rel=\"nofollow noreferrer\">no such pattern</a>, at least under the common definition of software design patterns."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1654683386,"post_id":72543659,"comment_id":128147684,"body_markdown":"`Most notably, this eliminates the need to create getters and setters for every new property because the Property has that functionality already.` well, if you use public fields, then you never need getter/setter. Once you use `private final Property&lt;Long&gt; registrationDate = new Property&lt;&gt;();`, you need a getter as well to access it","body":"<code>Most notably, this eliminates the need to create getters and setters for every new property because the Property has that functionality already.</code> well, if you use public fields, then you never need getter/setter. Once you use <code>private final Property&lt;Long&gt; registrationDate = new Property&lt;&gt;();</code>, you need a getter as well to access it"},{"owner":{"account_id":10034154,"reputation":479,"user_id":7419493,"display_name":"justis"},"score":0,"creation_date":1654683644,"post_id":72543659,"comment_id":128147783,"body_markdown":"Apologies Michael, I meant &quot;Property Container&quot;. Have edited the question. I assumed that it was an existing design pattern because its so incredibly simple and seems like it could have many practical uses. I was hoping to find a name for it so that I could find people talking about its pros and cons.","body":"Apologies Michael, I meant &quot;Property Container&quot;. Have edited the question. I assumed that it was an existing design pattern because its so incredibly simple and seems like it could have many practical uses. I was hoping to find a name for it so that I could find people talking about its pros and cons."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1654683830,"post_id":72543659,"comment_id":128147834,"body_markdown":"@justis Property Container still doesn&#39;t seem to be a thing. I can find 1 Stack Exchange question, asking about something translated from Russian, and 1 video on YouTube which has 3 views (of which I was one), which is based on the Stack Exchange question. It&#39;s not a thing.","body":"@justis Property Container still doesn&#39;t seem to be a thing. I can find 1 Stack Exchange question, asking about something translated from Russian, and 1 video on YouTube which has 3 views (of which I was one), which is based on the Stack Exchange question. It&#39;s not a thing."},{"owner":{"account_id":10034154,"reputation":479,"user_id":7419493,"display_name":"justis"},"score":0,"creation_date":1654683879,"post_id":72543659,"comment_id":128147850,"body_markdown":"@XtremeBaumer Its generally agreed that allowing outside code to access fields directly is a bad idea for maintainability/extensibility and that getters and setters are needed. I wouldnt see the purpose in making a property private, given that the Property wrapper&#39;s primarily purpose is in allowing you to expose it.","body":"@XtremeBaumer Its generally agreed that allowing outside code to access fields directly is a bad idea for maintainability/extensibility and that getters and setters are needed. I wouldnt see the purpose in making a property private, given that the Property wrapper&#39;s primarily purpose is in allowing you to expose it."},{"owner":{"account_id":10034154,"reputation":479,"user_id":7419493,"display_name":"justis"},"score":0,"creation_date":1654684271,"post_id":72543659,"comment_id":128147979,"body_markdown":"@Michael It wasnt my understanding that the term &quot;design pattern&quot; was limited to whats explicitly listed in the Software Design Patterns wiki. My understanding was that it could be used to refer to any type of reproducible pattern of software design which can be uniquely identified.","body":"@Michael It wasnt my understanding that the term &quot;design pattern&quot; was limited to whats explicitly listed in the Software Design Patterns wiki. My understanding was that it could be used to refer to any type of reproducible pattern of software design which can be uniquely identified."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1654684523,"post_id":72543659,"comment_id":128148051,"body_markdown":"I have a [pattern](https://en.wikipedia.org/wiki/Inner-platform_effect) for you. Your &quot;Property Container&quot; pattern is heavy, it side steps normal language mechanisms (all your properties are `public`), and you&#39;re over-engineering things based on &quot;this could be useful&quot; instead of &quot;this is useful&quot;. Does not work in real life, that&#39;s why you don&#39;t see examples of it.","body":"I have a <a href=\"https://en.wikipedia.org/wiki/Inner-platform_effect\" rel=\"nofollow noreferrer\">pattern</a> for you. Your &quot;Property Container&quot; pattern is heavy, it side steps normal language mechanisms (all your properties are <code>public</code>), and you&#39;re over-engineering things based on &quot;this could be useful&quot; instead of &quot;this is useful&quot;. Does not work in real life, that&#39;s why you don&#39;t see examples of it."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1654684614,"post_id":72543659,"comment_id":128148081,"body_markdown":"Then I don&#39;t understand your next sentence: `Moreover, the getters/setters are able to be overridden per-property if additional logic is needed.` Are you referring to getter/setter of `Property&lt;T&gt;` class? Or are you talking about implementing getter/setter for lets say `public final Property&lt;Long&gt; registrationDate = new Property&lt;&gt;();`? If you are talking about the first, then overriding would require a new class that extends `Property&lt;T&gt;`, which doesn&#39;t look feasible...","body":"Then I don&#39;t understand your next sentence: <code>Moreover, the getters&#47;setters are able to be overridden per-property if additional logic is needed.</code> Are you referring to getter/setter of <code>Property&lt;T&gt;</code> class? Or are you talking about implementing getter/setter for lets say <code>public final Property&lt;Long&gt; registrationDate = new Property&lt;&gt;();</code>? If you are talking about the first, then overriding would require a new class that extends <code>Property&lt;T&gt;</code>, which doesn&#39;t look feasible..."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1654684616,"post_id":72543659,"comment_id":128148082,"body_markdown":"...If you are talking about the latter, then having public fields, is a very bad idea, as you would need to work through the whole codebase to find every occurrence where you access the field directly and replace it with the getter/setter to make sure to use the additional logic. Lets say you want to make `username`  a mandatory field. Would you alter `Property#set` method? That would then make every other field also mandatory. If you create a setter in `User` class, then you need to find every instance where you access the field and replace it with the setter. Just be sure not to miss any","body":"...If you are talking about the latter, then having public fields, is a very bad idea, as you would need to work through the whole codebase to find every occurrence where you access the field directly and replace it with the getter/setter to make sure to use the additional logic. Lets say you want to make <code>username</code>  a mandatory field. Would you alter <code>Property#set</code> method? That would then make every other field also mandatory. If you create a setter in <code>User</code> class, then you need to find every instance where you access the field and replace it with the setter. Just be sure not to miss any"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1654684659,"post_id":72543659,"comment_id":128148100,"body_markdown":"@justis The wiki may not be exhaustive but it is, at worst, *almost* exhaustive. Your definition of pattern is far more general. There is a &quot;*reproducible pattern of software design which can be uniquely identified*&quot; whereby people will call arbitrary variables &quot;foo&quot;, or index counters &quot;i&quot;. That doesn&#39;t mean that there&#39;s an &quot;Arbitrary Identifiers Pattern&quot;. A pattern is something which someone has bothered to define, because if no one&#39;s bothered to define it then how do we know what we&#39;re talking about? Patterns are supposed to be part of our shared vocabulary.","body":"@justis The wiki may not be exhaustive but it is, at worst, <i>almost</i> exhaustive. Your definition of pattern is far more general. There is a &quot;<i>reproducible pattern of software design which can be uniquely identified</i>&quot; whereby people will call arbitrary variables &quot;foo&quot;, or index counters &quot;i&quot;. That doesn&#39;t mean that there&#39;s an &quot;Arbitrary Identifiers Pattern&quot;. A pattern is something which someone has bothered to define, because if no one&#39;s bothered to define it then how do we know what we&#39;re talking about? Patterns are supposed to be part of our shared vocabulary."},{"owner":{"account_id":10034154,"reputation":479,"user_id":7419493,"display_name":"justis"},"score":0,"creation_date":1654684999,"post_id":72543659,"comment_id":128148237,"body_markdown":"@XtremeBaumer Yes to the first. For example, if it suited my project, I might decide to create an anonymous inner class that extends Property for my password property, and move my hashing behavior into the setter. Although Id probably just make a Password object at that point for clarity.","body":"@XtremeBaumer Yes to the first. For example, if it suited my project, I might decide to create an anonymous inner class that extends Property for my password property, and move my hashing behavior into the setter. Although Id probably just make a Password object at that point for clarity."},{"owner":{"account_id":10034154,"reputation":479,"user_id":7419493,"display_name":"justis"},"score":0,"creation_date":1654685284,"post_id":72543659,"comment_id":128148366,"body_markdown":"@Michael I agree. Perhaps I should have added &quot;if it has a name&quot; to the title, to account for the possibility that it did not have a name and was not part of a shared vocabulary, however, I thought it was very likely to have a name given how simple it is. Just to re-iterate, my primary goal was to be able to discover other people talking about this design so that I could uncover its benefits/deficits. I didnt want to ask that directly when there were likely to be existing questions/answers on the subject.","body":"@Michael I agree. Perhaps I should have added &quot;if it has a name&quot; to the title, to account for the possibility that it did not have a name and was not part of a shared vocabulary, however, I thought it was very likely to have a name given how simple it is. Just to re-iterate, my primary goal was to be able to discover other people talking about this design so that I could uncover its benefits/deficits. I didnt want to ask that directly when there were likely to be existing questions/answers on the subject."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1654685333,"post_id":72543659,"comment_id":128148390,"body_markdown":"And then you need the behavior of that anonymous inner class also in another class, forcing you to make it public. Then you also need some slightly altered behavior for yet another type and in the end you create a new class for every property you have, which is just not feasible","body":"And then you need the behavior of that anonymous inner class also in another class, forcing you to make it public. Then you also need some slightly altered behavior for yet another type and in the end you create a new class for every property you have, which is just not feasible"},{"owner":{"account_id":10034154,"reputation":479,"user_id":7419493,"display_name":"justis"},"score":0,"creation_date":1654685773,"post_id":72543659,"comment_id":128148538,"body_markdown":"@XtremeBaumer The intended use is eliminating the need to re-write the same behavior (basic getting and setting). If behavior is different for every property, or even many properties, Id definitely agree that this isnt the right choice. We can go ahead and mark the Property class as final if were worried about it getting out of hand.","body":"@XtremeBaumer The intended use is eliminating the need to re-write the same behavior (basic getting and setting). If behavior is different for every property, or even many properties, Id definitely agree that this isnt the right choice. We can go ahead and mark the Property class as final if were worried about it getting out of hand."},{"owner":{"account_id":10034154,"reputation":479,"user_id":7419493,"display_name":"justis"},"score":0,"creation_date":1654687273,"post_id":72543659,"comment_id":128149083,"body_markdown":"@Kayaman I used this because it was useful in my case, and I wrote about why it might be useful for others, but I agree that its heavy and isnt particularly useful for most. Thats why nobody seems to be talking about it and why Ive only just now found a need for it. Note that it is only replicating behavior present within the language to the same degree that we have standardized doing manually through the use of accessors. If youre going to replicate language behavior anyway, one has to wonder if it might be better to write that replication once and re-use it.","body":"@Kayaman I used this because it was useful in my case, and I wrote about why it might be useful for others, but I agree that its heavy and isnt particularly useful for most. Thats why nobody seems to be talking about it and why Ive only just now found a need for it. Note that it is only replicating behavior present within the language to the same degree that we have standardized doing manually through the use of accessors. If youre going to replicate language behavior anyway, one has to wonder if it might be better to write that replication once and re-use it."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1654687413,"post_id":72543659,"comment_id":128149139,"body_markdown":"My main argument against this is that once you&#39;ve made something `public` in an API, you&#39;re essentially bound to keep it `public` as dependent code may break otherwise. The advantage of encapsulation is that you only expose the functionality you wish to serve, and hide the implementation details so that they may be modified later. With all of your properties `public`, you&#39;re left in a situation where you may not change the field names, nor remove ones that seem irrelevant, which really locks down your design and possible changes. This is a long comment thread though.","body":"My main argument against this is that once you&#39;ve made something <code>public</code> in an API, you&#39;re essentially bound to keep it <code>public</code> as dependent code may break otherwise. The advantage of encapsulation is that you only expose the functionality you wish to serve, and hide the implementation details so that they may be modified later. With all of your properties <code>public</code>, you&#39;re left in a situation where you may not change the field names, nor remove ones that seem irrelevant, which really locks down your design and possible changes. This is a long comment thread though."},{"owner":{"account_id":10034154,"reputation":479,"user_id":7419493,"display_name":"justis"},"score":1,"creation_date":1654688227,"post_id":72543659,"comment_id":128149434,"body_markdown":"@Rogue Your argument is no different than an argument against public getters and setters, no? Once youve made them, you cannot make them non-public or change their name after all. You would only use this in cases where you were going to need public getters and setters, so I dont see the difference. This is definitely a long comment thread, perhaps I should make a new question regarding the viability of this pattern?","body":"@Rogue Your argument is no different than an argument against public getters and setters, no? Once youve made them, you cannot make them non-public or change their name after all. You would only use this in cases where you were going to need public getters and setters, so I dont see the difference. This is definitely a long comment thread, perhaps I should make a new question regarding the viability of this pattern?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1654688266,"post_id":72543659,"comment_id":128149462,"body_markdown":"Indeed that is in fact (part of) my argument. You shouldn&#39;t mindlessly create getters (and especially setters) unless you intend to provide that functionality in the first place. For instance, the `userID` should likely not be possible to set, as it would then refer to a different `User` in the system.","body":"Indeed that is in fact (part of) my argument. You shouldn&#39;t mindlessly create getters (and especially setters) unless you intend to provide that functionality in the first place. For instance, the <code>userID</code> should likely not be possible to set, as it would then refer to a different <code>User</code> in the system."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1654688628,"post_id":72543659,"comment_id":128149620,"body_markdown":"Your pattern isn&#39;t nearly as smart and useful as you&#39;d want it to be, but it&#39;s not like you&#39;re writing that code for money. Continue developing and find out the weaknesses yourself. If you just want to avoid writing getters, use Lombok (or records), or design your code to avoid them.","body":"Your pattern isn&#39;t nearly as smart and useful as you&#39;d want it to be, but it&#39;s not like you&#39;re writing that code for money. Continue developing and find out the weaknesses yourself. If you just want to avoid writing getters, use Lombok (or records), or design your code to avoid them."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1654689387,"post_id":72543659,"comment_id":128149943,"body_markdown":"You might consider https://softwareengineering.stackexchange.com/ for design related questions. StackOverflow is not the proper place to evaluate your designs.","body":"You might consider <a href=\"https://softwareengineering.stackexchange.com/\">softwareengineering.stackexchange.com</a> for design related questions. StackOverflow is not the proper place to evaluate your designs."},{"owner":{"account_id":1455702,"reputation":15672,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1654699272,"post_id":72543659,"comment_id":128154224,"body_markdown":"@Michael, regarding the &quot;Arbitrary Identifiers Pattern&quot; you may be interested in [metasyntactic variables](https://en.wikipedia.org/wiki/Metasyntactic_variable).","body":"@Michael, regarding the &quot;Arbitrary Identifiers Pattern&quot; you may be interested in <a href=\"https://en.wikipedia.org/wiki/Metasyntactic_variable\" rel=\"nofollow noreferrer\">metasyntactic variables</a>."}],"answers":[{"tags":[],"owner":{"account_id":10034154,"reputation":479,"user_id":7419493,"display_name":"justis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654699679,"creation_date":1654691646,"answer_id":72545803,"question_id":72543659,"body_markdown":"Credit to [@Michael][1] and [@Kayaman][2] for answering in the comments: This is not a known design pattern, contrary to my expectations.\r\n\r\nIn other words, there is not a name by which people generally know to refer to what Im calling a &quot;Property&quot; nor the design Im suggesting which assumes public getters and setters are desired and uses public final fields to expose a wrapper which provides them.\r\n\r\nThis is likely because, as Kayaman pointed out, its pretty heavy while being not terribly useful.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1898563/michael\r\n  [2]: https://stackoverflow.com/users/2541560/kayaman","title":"What is the name of the design pattern where you have a single-value, strongly typed property container?","body":"<p>Credit to <a href=\"https://stackoverflow.com/users/1898563/michael\">@Michael</a> and <a href=\"https://stackoverflow.com/users/2541560/kayaman\">@Kayaman</a> for answering in the comments: This is not a known design pattern, contrary to my expectations.</p>\n<p>In other words, there is not a name by which people generally know to refer to what Im calling a &quot;Property&quot; nor the design Im suggesting which assumes public getters and setters are desired and uses public final fields to expose a wrapper which provides them.</p>\n<p>This is likely because, as Kayaman pointed out, its pretty heavy while being not terribly useful.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654701113,"creation_date":1654701113,"answer_id":72548157,"question_id":72543659,"body_markdown":"This kind of wrapper &quot;variable&quot; is used for Observable properties like StringProperty and such. Its primary use is to hold _state_ and have _change_ listeners, _binding_ in general.\r\n\r\nIt is fruitfully used, like in JavaFX. And as you mentioned, in entity frameworks. But it definitely is stateful, non-functional, mutable.\r\n\r\nA _pattern_ name I cannot find, and I think the gang of 4 would haunt one, if calling this a pattern, other than **State**.","title":"What is the name of the design pattern where you have a single-value, strongly typed property container?","body":"<p>This kind of wrapper &quot;variable&quot; is used for Observable properties like StringProperty and such. Its primary use is to hold <em>state</em> and have <em>change</em> listeners, <em>binding</em> in general.</p>\n<p>It is fruitfully used, like in JavaFX. And as you mentioned, in entity frameworks. But it definitely is stateful, non-functional, mutable.</p>\n<p>A <em>pattern</em> name I cannot find, and I think the gang of 4 would haunt one, if calling this a pattern, other than <strong>State</strong>.</p>\n"}],"owner":{"account_id":10034154,"reputation":479,"user_id":7419493,"display_name":"justis"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72548157,"answer_count":2,"score":3,"last_activity_date":1654701113,"creation_date":1654682169,"question_id":72543659,"body_markdown":"Looking for the name of the design pattern by which you have a POJO with public final &quot;properties&quot; where the property acts as a holder/wrapper for a certain type of value and contains the getter/setter for that value as well as potentially some additional logic.\r\n\r\nThis differs from the &quot;Property Container&quot; design pattern where you have a single properties container which contains many types, as this only holds a single value and can thus enjoy the benefits of remaining strongly typed.\r\n\r\nAn example use:\r\n\r\n\r\n    public class User extends Entity&lt;User&gt; {\r\n    \r\n    \tprivate static final Structure&lt;User&gt; STRUCTURE = Structure.of(User.class, User::new)\r\n    \t\t.addPrimaryKey(&quot;user_id&quot;, UUID).property((e) -&gt; e.userID).setDefault(() -&gt; UUID()).build()\r\n    \t\t.addIndex(&quot;username&quot;, VCHARS_50).property((e) -&gt;  e.username).build()\r\n    \t\t.addIndex(&quot;email&quot;, VCHARS_255).property((e) -&gt; e.email).build()\r\n    \t\t.add(&quot;password&quot;, VCHARS_255).property((e) -&gt; e.passwordHash).build()\r\n    \t\t.add(&quot;privacy_policy_accepted&quot;, EPOCH).property((e) -&gt; e.ppAccepted).setDefault(() -&gt; now()).build()\r\n    \t\t.add(&quot;tos_accepted&quot;, EPOCH).property((e) -&gt; e.tosAccepted).setDefault(() -&gt; now()).build()\r\n    \t\t.add(&quot;registration_date&quot;, EPOCH).property((e) -&gt; e.registrationDate).setDefault(() -&gt; now()).build()\r\n    \t\t.buildFor(Schema.MASTER);\r\n     \r\n    \tpublic final Property&lt;UUID&gt; userID = new Property&lt;&gt;();\r\n    \tpublic final Property&lt;String&gt; username = new Property&lt;&gt;();\r\n    \tpublic final Property&lt;String&gt; email = new Property&lt;&gt;();\r\n    \tpublic final Property&lt;String&gt; passwordHash = new Property&lt;&gt;();\r\n    \tpublic final Property&lt;Long&gt; ppAccepted = new Property&lt;&gt;();\r\n    \tpublic final Property&lt;Long&gt; tosAccepted = new Property&lt;&gt;();\r\n    \tpublic final Property&lt;Long&gt; registrationDate = new Property&lt;&gt;();\r\n    \r\n    \tpublic User() {\r\n    \t\tsuper(STRUCTURE);\r\n    \t}\r\n    \r\n    \tpublic void hashAndSetPassword(String password) {\r\n    \t\tthis.passwordHash.set(Argon2Factory.create(Argon2Types.ARGON2id).hash(3, 102800, 1, password.toCharArray()));\r\n    \t}\r\n    \r\n    \tpublic boolean verifyPassword(String attempt) {\r\n    \t\treturn Argon2Factory.create(Argon2Types.ARGON2id).verify(passwordHash.get(), attempt.toCharArray());\r\n    \t}\r\n    \r\n    \r\n    }\r\n    \r\nWith each entity property using the following:\r\n\r\n    public class Property&lt;T&gt; {\r\n    \r\n        private T currentValue;\r\n    \r\n        public void set(T newValue) {\r\n            this.currentValue = newValue;\r\n        }\r\n    \r\n        public T get() {\r\n            return this.currentValue;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            return Objects.equals(currentValue, o);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hashCode(currentValue);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return String.valueOf(currentValue);\r\n        }\r\n        \r\n    }\r\n\r\nWe can extend or modify this Properties class and make it do more useful stuff for us, like have it record an original value, provided on creation (pulled from a database) and allow it to self-report on whether the current value of the property differs from what it was originally. Useful for determining which columns need to be updated in a database.\r\n\r\nMost notably, this eliminates the need to create getters and setters for every new property because the Property has that functionality already. Moreover, the getters/setters are able to be overridden per-property if additional logic is needed.\r\n\r\nI naturally ended up using this design while aiming for a more broad goal of eliminating the use of reflection/annotation processors and other black magic from my web framework. However, Im having difficulty finding it on the internet so that I might be able to research its potential deficiencies. ","title":"What is the name of the design pattern where you have a single-value, strongly typed property container?","body":"<p>Looking for the name of the design pattern by which you have a POJO with public final &quot;properties&quot; where the property acts as a holder/wrapper for a certain type of value and contains the getter/setter for that value as well as potentially some additional logic.</p>\n<p>This differs from the &quot;Property Container&quot; design pattern where you have a single properties container which contains many types, as this only holds a single value and can thus enjoy the benefits of remaining strongly typed.</p>\n<p>An example use:</p>\n<pre><code>public class User extends Entity&lt;User&gt; {\n\n    private static final Structure&lt;User&gt; STRUCTURE = Structure.of(User.class, User::new)\n        .addPrimaryKey(&quot;user_id&quot;, UUID).property((e) -&gt; e.userID).setDefault(() -&gt; UUID()).build()\n        .addIndex(&quot;username&quot;, VCHARS_50).property((e) -&gt;  e.username).build()\n        .addIndex(&quot;email&quot;, VCHARS_255).property((e) -&gt; e.email).build()\n        .add(&quot;password&quot;, VCHARS_255).property((e) -&gt; e.passwordHash).build()\n        .add(&quot;privacy_policy_accepted&quot;, EPOCH).property((e) -&gt; e.ppAccepted).setDefault(() -&gt; now()).build()\n        .add(&quot;tos_accepted&quot;, EPOCH).property((e) -&gt; e.tosAccepted).setDefault(() -&gt; now()).build()\n        .add(&quot;registration_date&quot;, EPOCH).property((e) -&gt; e.registrationDate).setDefault(() -&gt; now()).build()\n        .buildFor(Schema.MASTER);\n \n    public final Property&lt;UUID&gt; userID = new Property&lt;&gt;();\n    public final Property&lt;String&gt; username = new Property&lt;&gt;();\n    public final Property&lt;String&gt; email = new Property&lt;&gt;();\n    public final Property&lt;String&gt; passwordHash = new Property&lt;&gt;();\n    public final Property&lt;Long&gt; ppAccepted = new Property&lt;&gt;();\n    public final Property&lt;Long&gt; tosAccepted = new Property&lt;&gt;();\n    public final Property&lt;Long&gt; registrationDate = new Property&lt;&gt;();\n\n    public User() {\n        super(STRUCTURE);\n    }\n\n    public void hashAndSetPassword(String password) {\n        this.passwordHash.set(Argon2Factory.create(Argon2Types.ARGON2id).hash(3, 102800, 1, password.toCharArray()));\n    }\n\n    public boolean verifyPassword(String attempt) {\n        return Argon2Factory.create(Argon2Types.ARGON2id).verify(passwordHash.get(), attempt.toCharArray());\n    }\n\n\n}\n</code></pre>\n<p>With each entity property using the following:</p>\n<pre><code>public class Property&lt;T&gt; {\n\n    private T currentValue;\n\n    public void set(T newValue) {\n        this.currentValue = newValue;\n    }\n\n    public T get() {\n        return this.currentValue;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        return Objects.equals(currentValue, o);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hashCode(currentValue);\n    }\n\n    @Override\n    public String toString() {\n        return String.valueOf(currentValue);\n    }\n    \n}\n</code></pre>\n<p>We can extend or modify this Properties class and make it do more useful stuff for us, like have it record an original value, provided on creation (pulled from a database) and allow it to self-report on whether the current value of the property differs from what it was originally. Useful for determining which columns need to be updated in a database.</p>\n<p>Most notably, this eliminates the need to create getters and setters for every new property because the Property has that functionality already. Moreover, the getters/setters are able to be overridden per-property if additional logic is needed.</p>\n<p>I naturally ended up using this design while aiming for a more broad goal of eliminating the use of reflection/annotation processors and other black magic from my web framework. However, Im having difficulty finding it on the internet so that I might be able to research its potential deficiencies.</p>\n"},{"tags":["java","quartz-scheduler","quartz"],"comments":[{"owner":{"account_id":5517236,"reputation":476,"user_id":4381534,"display_name":"biiyamn"},"score":1,"creation_date":1653833039,"post_id":72423359,"comment_id":127942730,"body_markdown":"i think you have to add  a second SimpleTrigger with startNow(), because startNow on Cron trigger has no effect","body":"i think you have to add  a second SimpleTrigger with startNow(), because startNow on Cron trigger has no effect"}],"answers":[{"tags":[],"owner":{"account_id":417757,"reputation":6800,"user_id":793934,"accept_rate":63,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654700650,"creation_date":1654700650,"answer_id":72548043,"question_id":72423359,"body_markdown":"I solved the problem with the following code:\r\n\r\n     Trigger startupTrigger = newTrigger().withIdentity(name+&quot;.startup&quot;, &quot;trigger&quot;)\r\n                                .withSchedule(SimpleScheduleBuilder.repeatSecondlyForTotalCount(1)).startNow().build();\r\n\r\nThanks for @biiyamn\r\n","title":"Schedule Quartz job and run in startup","body":"<p>I solved the problem with the following code:</p>\n<pre><code> Trigger startupTrigger = newTrigger().withIdentity(name+&quot;.startup&quot;, &quot;trigger&quot;)\n                            .withSchedule(SimpleScheduleBuilder.repeatSecondlyForTotalCount(1)).startNow().build();\n</code></pre>\n<p>Thanks for @biiyamn</p>\n"}],"owner":{"account_id":417757,"reputation":6800,"user_id":793934,"accept_rate":63,"display_name":"Sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72548043,"answer_count":1,"score":0,"last_activity_date":1654700650,"creation_date":1653824898,"question_id":72423359,"body_markdown":"I defined a job with Quartz that calls a web service. I have a trigger with Cron expression which run every 50 minutes as `0 0/50 * ? * * *` .\r\nI have a requirement that execute the job in startup application and after that every 50 minutes.\r\n\r\nthe job factory is:\r\n\r\n                Trigger trigger = newTrigger().withIdentity(name, &quot;our.trigger&quot;)\r\n                                              .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 \r\n                                                  0/50 * ? * * *&quot;)).startNow().build();\r\n                JobDetail jobDetail = newJob(jobClass).withIdentity(name, &quot;our.job&quot;).build();\r\n                Set&lt;Trigger&gt; triggers = new HashSet&lt;&gt;();\r\n                triggers.add(trigger);\r\n                stdScheduler.scheduleJob(jobDetail, triggers, true);\r\n                stdScheduler.start();\r\n\r\nHow do I solve this issue?","title":"Schedule Quartz job and run in startup","body":"<p>I defined a job with Quartz that calls a web service. I have a trigger with Cron expression which run every 50 minutes as <code>0 0/50 * ? * * *</code> .\nI have a requirement that execute the job in startup application and after that every 50 minutes.</p>\n<p>the job factory is:</p>\n<pre><code>            Trigger trigger = newTrigger().withIdentity(name, &quot;our.trigger&quot;)\n                                          .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 \n                                              0/50 * ? * * *&quot;)).startNow().build();\n            JobDetail jobDetail = newJob(jobClass).withIdentity(name, &quot;our.job&quot;).build();\n            Set&lt;Trigger&gt; triggers = new HashSet&lt;&gt;();\n            triggers.add(trigger);\n            stdScheduler.scheduleJob(jobDetail, triggers, true);\n            stdScheduler.start();\n</code></pre>\n<p>How do I solve this issue?</p>\n"},{"tags":["java","ssh","ssh-keys","jsch"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622401873,"creation_date":1622401873,"answer_id":67764910,"question_id":67762389,"body_markdown":"Your approach is correct and should work if done correctly. Although FYI it doesn&#39;t entirely protect from MitM -- `ssh-keyscan` itself uses an unverified connection and is vulnerable to MitM, although _if_ that connection is legit, checking the key prevents faking on _later_ connections. This is a form/variant of SSH&#39;s common &#39;ToFU&#39; (Trust on First Use) security model.\r\n\r\n&gt; From my basic understanding, the known_hosts file contains a key. ...\r\n\r\nIn general, `known_hosts` contains a _mapping_ from host identities (names and/or IP addresses) to keys. But if your file was created only as you show, it has only one mapping entry containing only one key. \r\n\r\n1. make sure you pass the correct path to `setKnownHosts`, _and_ run as the correct (same) user. If the path you specify cannot be opened (either does not exist or access not allowed) Jsch does NOT throw any error, it just returns without loading anything. You might instead open the file yourself with `new FileInputStream(pathstring)` and pass to the `setKnownHosts(InputStream)` overload, so you get an exception if the open fails.\r\n\r\n2. make sure you are using the same host _identity_. If e.g. a host has multiple names (like cloud servers often do) and you use one in `ssh-keyscan` but a different one in `JSch` then even though this is actually the same host and key it won&#39;t match. But if you are actually using IP addresses in both places, at least if you mean IPv4, this is less likely because very few machines today have multiple public IPv4 addresses. (In the past this was more common and called multihoming.) IPv6 is more possible; most IPv6 machines have both transient and permanent public addresses (as well as local/private ones), and often multiple transients.","title":"JSch connection fails with UnknownHostKey even when the server&#39;s hostkey is present in the known_hosts file","body":"<p>Your approach is correct and should work if done correctly. Although FYI it doesn't entirely protect from MitM -- <code>ssh-keyscan</code> itself uses an unverified connection and is vulnerable to MitM, although <em>if</em> that connection is legit, checking the key prevents faking on <em>later</em> connections. This is a form/variant of SSH's common 'ToFU' (Trust on First Use) security model.</p>\n<blockquote>\n<p>From my basic understanding, the known_hosts file contains a key. ...</p>\n</blockquote>\n<p>In general, <code>known_hosts</code> contains a <em>mapping</em> from host identities (names and/or IP addresses) to keys. But if your file was created only as you show, it has only one mapping entry containing only one key.</p>\n<ol>\n<li><p>make sure you pass the correct path to <code>setKnownHosts</code>, <em>and</em> run as the correct (same) user. If the path you specify cannot be opened (either does not exist or access not allowed) Jsch does NOT throw any error, it just returns without loading anything. You might instead open the file yourself with <code>new FileInputStream(pathstring)</code> and pass to the <code>setKnownHosts(InputStream)</code> overload, so you get an exception if the open fails.</p>\n</li>\n<li><p>make sure you are using the same host <em>identity</em>. If e.g. a host has multiple names (like cloud servers often do) and you use one in <code>ssh-keyscan</code> but a different one in <code>JSch</code> then even though this is actually the same host and key it won't match. But if you are actually using IP addresses in both places, at least if you mean IPv4, this is less likely because very few machines today have multiple public IPv4 addresses. (In the past this was more common and called multihoming.) IPv6 is more possible; most IPv6 machines have both transient and permanent public addresses (as well as local/private ones), and often multiple transients.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654700627,"creation_date":1622551285,"answer_id":67789062,"question_id":67762389,"body_markdown":"Your code works for me  https://www.browxy.com/#ALIEN_137442  It ends with *&quot;JSchException: Auth fail&quot;*  which means it gets past host key verification.\r\n\r\nMake sure the `known_hosts` file is in plain ASCII encoding (or UTF-8 *without* BOM, which should be identical to ASCII for this kind of contents). But not UTF-8 *with* BOM, let alone UTF-16 or even worse.\r\n\r\nTry also Unix line endings. Though line endings should not be an issue.","title":"JSch connection fails with UnknownHostKey even when the server&#39;s hostkey is present in the known_hosts file","body":"<p>Your code works for me  <a href=\"https://www.browxy.com/#ALIEN_137442\" rel=\"nofollow noreferrer\">https://www.browxy.com/#ALIEN_137442</a>  It ends with <em>&quot;JSchException: Auth fail&quot;</em>  which means it gets past host key verification.</p>\n<p>Make sure the <code>known_hosts</code> file is in plain ASCII encoding (or UTF-8 <em>without</em> BOM, which should be identical to ASCII for this kind of contents). But not UTF-8 <em>with</em> BOM, let alone UTF-16 or even worse.</p>\n<p>Try also Unix line endings. Though line endings should not be an issue.</p>\n"}],"owner":{"account_id":16880927,"reputation":91,"user_id":12207054,"display_name":"Kihz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2241,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67789062,"answer_count":2,"score":2,"last_activity_date":1654700627,"creation_date":1622385407,"question_id":67762389,"body_markdown":"I am using JSch to deploy various files over multiple VPS&#39;s. I was able to get a working prototype with `StrictHostKeyChecking` turned off. I would now like to re-enable host key checking so that I am not vulnerable to MITM attacks. Currently, the client is a Windows machine connecting to a VPS running Debian. Here is what I have done so far:\r\n\r\n 1. Added remote IP address on my local machine (Windows client) using `&quot;ssh-keyscan -t rsa &lt;serverIp&gt; &gt;&gt; ~/.ssh/known_hosts&quot;`\r\n 2. Passed the path to my `known_hosts` file to `JSch.setKnownHosts` in my application.\r\n\r\nWhen attempting to establish a connection, the result is\r\n\r\n&gt; com.jcraft.jsch.JSchException: UnknownHostKey: &lt;serverIp&gt;. RSA key fingerprint is &lt;fingerprint&gt;\r\n\r\nThis is obviously due to my lack of understanding on how host keys work, or cryptography for that matter. From my basic understanding, the `known_hosts` file contains a key. That key is used to ensure that the remote IP that we are connecting to is who they say they are, therefore preventing anyone attempting to &quot;spoof&quot; themselves as the server. \r\n\r\nMy `known_hosts` file looks like \r\n```none\r\n184.154.70.174 ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDNv4m+tOZUipp8UDGrd+kbtsM5R+tu3ZYZi3p7OTRWUX/Wqy74pONlLqI+/WGu77EHnOfdssJfclgo37vKLRFKneXZNAMXE7FUu5yUNOHlpPwzmvYUT/sp1k9CeNrtJAbkm05pOBIDqDQQGfQ+IAw9zqqo/sqJ6c8NKiVFAt4Ud0msvedb559dhYgcjwb52ABbsJ0mZ8FnU7LKG1592/ZTtYxam+M3qMhtJacrh5gpfZjjx2lGhqpOgvM+xwWeK6DQVn0QyIJd474G3gcm4M43ErRfzXOum3p/0wOw+hL1ora9eWSz2Wf9WuDXf86xkbZPD7Gy6ER5LBhquy331p7X\r\n````\r\n\r\nAnd my code is (`SSH` is an instance of JSch):\r\n```\r\ntry {\r\n    SSH.setKnownHosts(new FileInputStream(&quot;C:/Users/nvulc/.ssh/known_hosts&quot;));\r\n    SSH.addIdentity(keyPath, keyPass);\r\n    Session session = SSH.getSession(&quot;root&quot;, &quot;184.154.70.174&quot;, 22);\r\n    session.connect();\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\nWhich results in:\r\n```none\r\n    com.jcraft.jsch.JSchException: UnknownHostKey: 184.154.70.174. RSA key fingerprint is b4:79:5a:58:d3:15:ad:a9:c7:af:cc:d7:09:f5:40:62\r\n\tat com.jcraft.jsch.Session.checkHost(Session.java:805)\r\n\tat com.jcraft.jsch.Session.connect(Session.java:345)\r\n\tat com.jcraft.jsch.Session.connect(Session.java:183)\r\n\tat Main.main(Main.java:40)\r\n```","title":"JSch connection fails with UnknownHostKey even when the server&#39;s hostkey is present in the known_hosts file","body":"<p>I am using JSch to deploy various files over multiple VPS's. I was able to get a working prototype with <code>StrictHostKeyChecking</code> turned off. I would now like to re-enable host key checking so that I am not vulnerable to MITM attacks. Currently, the client is a Windows machine connecting to a VPS running Debian. Here is what I have done so far:</p>\n<ol>\n<li>Added remote IP address on my local machine (Windows client) using <code>&quot;ssh-keyscan -t rsa &lt;serverIp&gt; &gt;&gt; ~/.ssh/known_hosts&quot;</code></li>\n<li>Passed the path to my <code>known_hosts</code> file to <code>JSch.setKnownHosts</code> in my application.</li>\n</ol>\n<p>When attempting to establish a connection, the result is</p>\n<blockquote>\n<p>com.jcraft.jsch.JSchException: UnknownHostKey: . RSA key fingerprint is </p>\n</blockquote>\n<p>This is obviously due to my lack of understanding on how host keys work, or cryptography for that matter. From my basic understanding, the <code>known_hosts</code> file contains a key. That key is used to ensure that the remote IP that we are connecting to is who they say they are, therefore preventing anyone attempting to &quot;spoof&quot; themselves as the server.</p>\n<p>My <code>known_hosts</code> file looks like</p>\n<pre class=\"lang-none prettyprint-override\"><code>184.154.70.174 ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDNv4m+tOZUipp8UDGrd+kbtsM5R+tu3ZYZi3p7OTRWUX/Wqy74pONlLqI+/WGu77EHnOfdssJfclgo37vKLRFKneXZNAMXE7FUu5yUNOHlpPwzmvYUT/sp1k9CeNrtJAbkm05pOBIDqDQQGfQ+IAw9zqqo/sqJ6c8NKiVFAt4Ud0msvedb559dhYgcjwb52ABbsJ0mZ8FnU7LKG1592/ZTtYxam+M3qMhtJacrh5gpfZjjx2lGhqpOgvM+xwWeK6DQVn0QyIJd474G3gcm4M43ErRfzXOum3p/0wOw+hL1ora9eWSz2Wf9WuDXf86xkbZPD7Gy6ER5LBhquy331p7X\n</code></pre>\n<p>And my code is (<code>SSH</code> is an instance of JSch):</p>\n<pre><code>try {\n    SSH.setKnownHosts(new FileInputStream(&quot;C:/Users/nvulc/.ssh/known_hosts&quot;));\n    SSH.addIdentity(keyPath, keyPass);\n    Session session = SSH.getSession(&quot;root&quot;, &quot;184.154.70.174&quot;, 22);\n    session.connect();\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Which results in:</p>\n<pre class=\"lang-none prettyprint-override\"><code>    com.jcraft.jsch.JSchException: UnknownHostKey: 184.154.70.174. RSA key fingerprint is b4:79:5a:58:d3:15:ad:a9:c7:af:cc:d7:09:f5:40:62\n    at com.jcraft.jsch.Session.checkHost(Session.java:805)\n    at com.jcraft.jsch.Session.connect(Session.java:345)\n    at com.jcraft.jsch.Session.connect(Session.java:183)\n    at Main.main(Main.java:40)\n</code></pre>\n"},{"tags":["java","spring-boot","maven","minio"],"answers":[{"tags":[],"owner":{"account_id":7751385,"reputation":121,"user_id":15354138,"display_name":"sdm4n"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654700624,"creation_date":1644414066,"answer_id":71050627,"question_id":70914692,"body_markdown":"I also experienced this issues with `io.minio:minio:8.3.6`, but was able to force a newer version of `okhttp`, which works with the MinIO client library. Here is the snippet of `build.gradle` (should work similar with Maven):\r\n\r\n    implementation(&quot;io.minio:minio:8.3.6&quot;)    \r\n    implementation(&quot;com.squareup.okhttp3:okhttp:4.9.3&quot;)\r\n\r\nIn my case it was probably caused by `spring-boot-dependencies` coming with the spring dependency plugin, which manages a lot of dependencies containing also `okhttp` and thus forces the downgrade.\r\n\r\nSee also:\r\n\r\n- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-dependencies/2.6.3\r\n- https://github.com/minio/minio-java/issues/1298\r\n\r\n# Update\r\n\r\nWith Spring Boot 2.7.0, the fix is no longer required, since the version requirements for okhttp have been updated. The MinIO dependency should work now out of the box.","title":"minio Unsupported OkHttp library found. Must use okhttp &gt;= 4.8.1","body":"<p>I also experienced this issues with <code>io.minio:minio:8.3.6</code>, but was able to force a newer version of <code>okhttp</code>, which works with the MinIO client library. Here is the snippet of <code>build.gradle</code> (should work similar with Maven):</p>\n<pre><code>implementation(&quot;io.minio:minio:8.3.6&quot;)    \nimplementation(&quot;com.squareup.okhttp3:okhttp:4.9.3&quot;)\n</code></pre>\n<p>In my case it was probably caused by <code>spring-boot-dependencies</code> coming with the spring dependency plugin, which manages a lot of dependencies containing also <code>okhttp</code> and thus forces the downgrade.</p>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-dependencies/2.6.3\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-dependencies/2.6.3</a></li>\n<li><a href=\"https://github.com/minio/minio-java/issues/1298\" rel=\"nofollow noreferrer\">https://github.com/minio/minio-java/issues/1298</a></li>\n</ul>\n<h1>Update</h1>\n<p>With Spring Boot 2.7.0, the fix is no longer required, since the version requirements for okhttp have been updated. The MinIO dependency should work now out of the box.</p>\n"}],"owner":{"account_id":15693980,"reputation":89,"user_id":11324102,"display_name":"sexy_Robber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3126,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":71050627,"answer_count":1,"score":7,"last_activity_date":1654700624,"creation_date":1643546287,"question_id":70914692,"body_markdown":"after using minio as instructions and fixing it with ways below, I failed.what can i do to solve this bug\r\n\r\n\r\n            &lt;dependency&gt;\r\n            &lt;groupId&gt;io.minio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;minio&lt;/artifactId&gt;\r\n            &lt;version&gt;8.3.5&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n            &lt;version&gt;4.9.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"minio Unsupported OkHttp library found. Must use okhttp &gt;= 4.8.1","body":"<p>after using minio as instructions and fixing it with ways below, I failed.what can i do to solve this bug</p>\n<pre><code>        &lt;dependency&gt;\n        &lt;groupId&gt;io.minio&lt;/groupId&gt;\n        &lt;artifactId&gt;minio&lt;/artifactId&gt;\n        &lt;version&gt;8.3.5&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n                &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n        &lt;version&gt;4.9.3&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654700336,"creation_date":1654700336,"answer_id":72547973,"question_id":72547651,"body_markdown":"It appears the names of arguments are stored as &quot;local&quot; variables, which is not filled in for a native method.\r\nYou can get around this with a small &quot;trampoline&quot; method:\r\n```\r\nclass Window {\r\n\tpublic long create(int width, int height, String title) {\r\n\t\treturn native_create(width, height, title);\r\n\t}\r\n\tprivate native long native_create(int width, int height, String title);\r\n}\r\n```\r\n\r\nwhich results in the following `javap` output:\r\n```\r\n  public long create(int, int, java.lang.String);\r\n    descriptor: (IILjava/lang/String;)J\r\n    flags: (0x0001) ACC_PUBLIC\r\n    Code:\r\n      stack=4, locals=4, args_size=4\r\n         0: aload_0\r\n         1: iload_1\r\n         2: iload_2\r\n         3: aload_3\r\n         4: invokevirtual #7                  // Method native_create:(IILjava/lang/String;)J\r\n         7: lreturn\r\n      LineNumberTable:\r\n        line 4: 0\r\n      LocalVariableTable:\r\n        Start  Length  Slot  Name   Signature\r\n            0       8     0  this   LWindow;\r\n            0       8     1 width   I\r\n            0       8     2 height   I\r\n            0       8     3 title   Ljava/lang/String;\r\n```","title":"IDE autocomplete does not know argument names of native methods","body":"<p>It appears the names of arguments are stored as &quot;local&quot; variables, which is not filled in for a native method.\nYou can get around this with a small &quot;trampoline&quot; method:</p>\n<pre><code>class Window {\n    public long create(int width, int height, String title) {\n        return native_create(width, height, title);\n    }\n    private native long native_create(int width, int height, String title);\n}\n</code></pre>\n<p>which results in the following <code>javap</code> output:</p>\n<pre><code>  public long create(int, int, java.lang.String);\n    descriptor: (IILjava/lang/String;)J\n    flags: (0x0001) ACC_PUBLIC\n    Code:\n      stack=4, locals=4, args_size=4\n         0: aload_0\n         1: iload_1\n         2: iload_2\n         3: aload_3\n         4: invokevirtual #7                  // Method native_create:(IILjava/lang/String;)J\n         7: lreturn\n      LineNumberTable:\n        line 4: 0\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0       8     0  this   LWindow;\n            0       8     1 width   I\n            0       8     2 height   I\n            0       8     3 title   Ljava/lang/String;\n</code></pre>\n"}],"owner":{"account_id":19930143,"reputation":13,"user_id":14774771,"display_name":"TheBoneJarmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72547973,"answer_count":1,"score":1,"last_activity_date":1654700570,"creation_date":1654699073,"question_id":72547651,"body_markdown":"I am working on two library projects. One being a native library in c++ and the other a Java library that uses JNI to wrap the functions from the native library. So in total I got 3 libraries:\r\n\r\n- The native library in c++ (project 1)\r\n- The wrapper library in c++ that uses headers generated by javac (project 2)\r\n- The wrapper library in Java which I use to generate headers with (project 2)\r\n\r\nMy question relates only to project 2. To compile project 2 I use a script that runs both cmake, javac and jar in one go to generate a single jar file with all my .class and .so files. With javac I use the &#39;-g&#39; parameter to generate debugging info. This works fine for non-native (as in the keyword &#39;native&#39;, not c++ native) methods but it does not for native. The compiled .class files do not contain the right signature either. This is rather frustrating because when I use my libraries in another java project (project 3) I do not know what to fill in based on the [helper popup][1] IntelliJ shows. My methods look like [this][2] in Java and like [this][3] in c++. Any idea if I can fix that?\r\n\r\nAlso, any idea what the term is called for changing the signature of a Java method like this? I tried to lookup my problem for a couple of days now but could not find it so I was wondering if I was using the wrong search phrases in Google.\r\n\r\nThanks in advance!\r\n\r\n  [1]: https://i.stack.imgur.com/m2HDm.png\r\n  [2]: https://i.stack.imgur.com/gHwq4.png\r\n  [3]: https://i.stack.imgur.com/J7qrQ.png","title":"IDE autocomplete does not know argument names of native methods","body":"<p>I am working on two library projects. One being a native library in c++ and the other a Java library that uses JNI to wrap the functions from the native library. So in total I got 3 libraries:</p>\n<ul>\n<li>The native library in c++ (project 1)</li>\n<li>The wrapper library in c++ that uses headers generated by javac (project 2)</li>\n<li>The wrapper library in Java which I use to generate headers with (project 2)</li>\n</ul>\n<p>My question relates only to project 2. To compile project 2 I use a script that runs both cmake, javac and jar in one go to generate a single jar file with all my .class and .so files. With javac I use the '-g' parameter to generate debugging info. This works fine for non-native (as in the keyword 'native', not c++ native) methods but it does not for native. The compiled .class files do not contain the right signature either. This is rather frustrating because when I use my libraries in another java project (project 3) I do not know what to fill in based on the <a href=\"https://i.stack.imgur.com/m2HDm.png\" rel=\"nofollow noreferrer\">helper popup</a> IntelliJ shows. My methods look like <a href=\"https://i.stack.imgur.com/gHwq4.png\" rel=\"nofollow noreferrer\">this</a> in Java and like <a href=\"https://i.stack.imgur.com/J7qrQ.png\" rel=\"nofollow noreferrer\">this</a> in c++. Any idea if I can fix that?</p>\n<p>Also, any idea what the term is called for changing the signature of a Java method like this? I tried to lookup my problem for a couple of days now but could not find it so I was wondering if I was using the wrong search phrases in Google.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","security","encryption","cryptography"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1654699888,"post_id":72547569,"comment_id":128154516,"body_markdown":"In most scenarios where you want to &quot;view&quot; or &quot;eyeball&quot; a key you probably want to look at its hex encoding. Trying to view it as a UTF-8 string makes little sense unless you know or suspect that the bytes of the key are actually directly encoded from characters. What do you hope to achieve by &quot;viewing&quot; an AES key?","body":"In most scenarios where you want to &quot;view&quot; or &quot;eyeball&quot; a key you probably want to look at its hex encoding. Trying to view it as a UTF-8 string makes little sense unless you know or suspect that the bytes of the key are actually directly encoded from characters. What do you hope to achieve by &quot;viewing&quot; an AES key?"},{"owner":{"account_id":14698669,"reputation":1,"user_id":10615352,"display_name":"Abdul"},"score":0,"creation_date":1654700217,"post_id":72547569,"comment_id":128154667,"body_markdown":"The backend that is decrypting my encryption have given me static AES and IV. I was hoping to figure out a way that I can hardcode the values for encryption to see that we both get the same values encrypted for same given inputs. But I assume that I can simply just set an array of bytes of length 32 to static values and pass it as my key? Instead of trying to figure out a way to hardcode a string as a key.\nAlso, thank you for all your answers, I have been seeing them all around encryption posts and you have been of great help!","body":"The backend that is decrypting my encryption have given me static AES and IV. I was hoping to figure out a way that I can hardcode the values for encryption to see that we both get the same values encrypted for same given inputs. But I assume that I can simply just set an array of bytes of length 32 to static values and pass it as my key? Instead of trying to figure out a way to hardcode a string as a key. Also, thank you for all your answers, I have been seeing them all around encryption posts and you have been of great help!"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654700565,"creation_date":1654700565,"answer_id":72548023,"question_id":72547569,"body_markdown":"This is a simple way to &#39;visualize&#39; a key:\r\n\r\n    System.out.println(new java.math.BigInteger(1, keyBytes).toString(16));\r\n\r\n","title":"Is There a Way to Decode an AES Key from Base64 to UTF-8 String?","body":"<p>This is a simple way to 'visualize' a key:</p>\n<pre><code>System.out.println(new java.math.BigInteger(1, keyBytes).toString(16));\n</code></pre>\n"}],"owner":{"account_id":14698669,"reputation":1,"user_id":10615352,"display_name":"Abdul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654700565,"creation_date":1654698783,"question_id":72547569,"body_markdown":"I am generating an AES-256 SecretKey using:\r\n\r\n```\r\n            KeyGenerator aesKeyGen = KeyGenerator.getInstance(&quot;AES&quot;);\r\n            aesKeyGen.init(256);\r\n            SecretKey secretKey = aesKeyGen.generateKey();\r\n            clientAesKey = secretKey.getEncoded();\r\n```\r\nIs there a way that I can see the array of bytes as a string? Only way that works for me is this:\r\n```\r\nBase64.getEncoder().encodeToString(clientAesKey);\r\n```\r\nIf I print it and copy the string, and try to decode it using an online Base64 decoder, it complains that the string is not UTF-8. \r\n\r\nI know it defeats the purpose of encryptions, but is there a way that I can assign a static 32-characters long string  as a secret key?","title":"Is There a Way to Decode an AES Key from Base64 to UTF-8 String?","body":"<p>I am generating an AES-256 SecretKey using:</p>\n<pre><code>            KeyGenerator aesKeyGen = KeyGenerator.getInstance(&quot;AES&quot;);\n            aesKeyGen.init(256);\n            SecretKey secretKey = aesKeyGen.generateKey();\n            clientAesKey = secretKey.getEncoded();\n</code></pre>\n<p>Is there a way that I can see the array of bytes as a string? Only way that works for me is this:</p>\n<pre><code>Base64.getEncoder().encodeToString(clientAesKey);\n</code></pre>\n<p>If I print it and copy the string, and try to decode it using an online Base64 decoder, it complains that the string is not UTF-8.</p>\n<p>I know it defeats the purpose of encryptions, but is there a way that I can assign a static 32-characters long string  as a secret key?</p>\n"},{"tags":["java","json","spring","resttemplate","spring-resttemplate"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1654701206,"post_id":72547998,"comment_id":128155168,"body_markdown":"json key is `result` your object property is `results`?","body":"json key is <code>result</code> your object property is <code>results</code>?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1654701245,"post_id":72547998,"comment_id":128155195,"body_markdown":"The json specification only allows string keys. I don&#39;t know how this was generated, but it&#39;s not a valid json.","body":"The json specification only allows string keys. I don&#39;t know how this was generated, but it&#39;s not a valid json."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1654701263,"post_id":72547998,"comment_id":128155202,"body_markdown":"well, `22807455` is an unknown key so it is correct that it does not get picked up. Moreover there is no `results` in `result` so how do you expect Map in PubmedResultMap to be populated","body":"well, <code>22807455</code> is an unknown key so it is correct that it does not get picked up. Moreover there is no <code>results</code> in <code>result</code> so how do you expect Map in PubmedResultMap to be populated"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1654701476,"post_id":72547998,"comment_id":128155318,"body_markdown":"Possible duplicate - [Using number as &quot;index&quot; (JSON)](https://stackoverflow.com/questions/8758715/using-number-as-index-json).","body":"Possible duplicate - <a href=\"https://stackoverflow.com/questions/8758715/using-number-as-index-json\">Using number as &quot;index&quot; (JSON)</a>."},{"owner":{"account_id":4375851,"reputation":595,"user_id":3568904,"accept_rate":83,"display_name":"ypriverol"},"score":0,"creation_date":1654713732,"post_id":72547998,"comment_id":128160021,"body_markdown":"Thanks, @Chaosfire the json is generated but another service and that is what I want to parse. I will not generate in that way, but is an external service.","body":"Thanks, @Chaosfire the json is generated but another service and that is what I want to parse. I will not generate in that way, but is an external service."},{"owner":{"account_id":4375851,"reputation":595,"user_id":3568904,"accept_rate":83,"display_name":"ypriverol"},"score":0,"creation_date":1654713767,"post_id":72547998,"comment_id":128160031,"body_markdown":"@Antoniossss How can can declare that map that do not have property name.?","body":"@Antoniossss How can can declare that map that do not have property name.?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1654757358,"post_id":72547998,"comment_id":128168814,"body_markdown":"Literally as map. &quot;result&quot; is map right away, nothing to wrap","body":"Literally as map. &quot;result&quot; is map right away, nothing to wrap"}],"owner":{"account_id":4375851,"reputation":595,"user_id":3568904,"accept_rate":83,"display_name":"ypriverol"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654700444,"creation_date":1654700444,"question_id":72547998,"body_markdown":"I&#39;m trying to deserialize a json with the following structure \r\n\r\n```json\r\n{\r\n    header: {\r\n         type: &quot;esummary&quot;,\r\n         version: &quot;0.3&quot;\r\n    },\r\n    result: {\r\n         22807455: {\r\n              uid: &quot;22807455&quot;,\r\n              pubdate: &quot;2012 Jul&quot;,\r\n              epubdate: &quot;&quot;,\r\n         },\r\n    uids: [\r\n          &quot;22807455&quot;\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nMy main class PubmedResponse and the subclass PubmedResultMap is: \r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class PubmedResponse {\r\n\r\n    @JsonProperty(&quot;header&quot;)\r\n    PubmedHeader header;\r\n\r\n    @JsonProperty(&quot;result&quot;)\r\n    PubmedResultMap resultMap;\r\n\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@JsonIgnoreProperties\r\npublic class PubmedResultMap implements PubmedInfo{\r\n\r\n    Map&lt;String, PubmedResult&gt; results;\r\n\r\n    @JsonProperty(&quot;uids&quot;)\r\n    List&lt;String&gt; uids;\r\n}\r\n\r\n```\r\nHowever, the PubmedResultMap can&#39;t deserialize the Map starting with `22807455` and in the json I don&#39;t have a property to map to my attribute in that class. Does anyone faced that problem before.? This is the full json https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&amp;id=22807455&amp;retmode=json\r\n","title":"RestTemplate Json annotations not working","body":"<p>I'm trying to deserialize a json with the following structure</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    header: {\n         type: &quot;esummary&quot;,\n         version: &quot;0.3&quot;\n    },\n    result: {\n         22807455: {\n              uid: &quot;22807455&quot;,\n              pubdate: &quot;2012 Jul&quot;,\n              epubdate: &quot;&quot;,\n         },\n    uids: [\n          &quot;22807455&quot;\n    ]\n  }\n}\n</code></pre>\n<p>My main class PubmedResponse and the subclass PubmedResultMap is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class PubmedResponse {\n\n    @JsonProperty(&quot;header&quot;)\n    PubmedHeader header;\n\n    @JsonProperty(&quot;result&quot;)\n    PubmedResultMap resultMap;\n\n}\n\n@Getter\n@Setter\n@JsonIgnoreProperties\npublic class PubmedResultMap implements PubmedInfo{\n\n    Map&lt;String, PubmedResult&gt; results;\n\n    @JsonProperty(&quot;uids&quot;)\n    List&lt;String&gt; uids;\n}\n\n</code></pre>\n<p>However, the PubmedResultMap can't deserialize the Map starting with <code>22807455</code> and in the json I don't have a property to map to my attribute in that class. Does anyone faced that problem before.? This is the full json <a href=\"https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&amp;id=22807455&amp;retmode=json\" rel=\"nofollow noreferrer\">https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&amp;id=22807455&amp;retmode=json</a></p>\n"},{"tags":["java","sql","h2","to-date"],"comments":[{"owner":{"account_id":322131,"reputation":131,"user_id":3268428,"display_name":"user3268428"},"score":0,"creation_date":1391490141,"post_id":21544114,"comment_id":32534407,"body_markdown":"I&#39;m using java.util.Date()","body":"I&#39;m using java.util.Date()"}],"answers":[{"tags":[],"owner":{"account_id":344164,"reputation":2553,"user_id":676326,"accept_rate":50,"display_name":"TKV"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1391490282,"creation_date":1391490282,"answer_id":21544325,"question_id":21544114,"body_markdown":"H2 database does not have TO_CHAR() function. But H2 database does have sysdate, dual, varchar2 which makes writing oracle query that will run on H2 database quite easy. So you can write a function instead which will H2 database function alias for making it handle date/timestamp with format. `TO_CHAR(sysdate, &#39;DD/MM/YYYY HH24:MI:SS&#39;)` can be used in H2 database.","title":"Function &quot;TO_DATE&quot; not found in H2 database","body":"<p>H2 database does not have TO_CHAR() function. But H2 database does have sysdate, dual, varchar2 which makes writing oracle query that will run on H2 database quite easy. So you can write a function instead which will H2 database function alias for making it handle date/timestamp with format. <code>TO_CHAR(sysdate, 'DD/MM/YYYY HH24:MI:SS')</code> can be used in H2 database.</p>\n"},{"tags":[],"owner":{"account_id":3315781,"reputation":41,"user_id":2788191,"display_name":"Zed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645113322,"creation_date":1446048539,"answer_id":33396073,"question_id":21544114,"body_markdown":"Despite the lack of documentation there are TO_DATE function in PostgreSQL compatibility mode since 2.0.204.\r\n\r\n[Changelog][1] [ticket][2]\r\n\r\n\r\n  [1]: http://www.h2database.com/html/changelog.html\r\n  [2]: https://github.com/h2database/h2database/pull/3275","title":"Function &quot;TO_DATE&quot; not found in H2 database","body":"<p>Despite the lack of documentation there are TO_DATE function in PostgreSQL compatibility mode since 2.0.204.</p>\n<p><a href=\"http://www.h2database.com/html/changelog.html\" rel=\"nofollow noreferrer\">Changelog</a> <a href=\"https://github.com/h2database/h2database/pull/3275\" rel=\"nofollow noreferrer\">ticket</a></p>\n"},{"tags":[],"owner":{"account_id":2736199,"reputation":156,"user_id":2358829,"display_name":"David Small"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1654699848,"creation_date":1458915835,"answer_id":36221771,"question_id":21544114,"body_markdown":"One way to remove the time portion from a date-time field in H2, is to format the field as a string and then parse it. This worked for me: \r\n\r\n    PARSEDATETIME(FORMATDATETIME(field_name, &#39;yyyy-MM-dd&#39;), &#39;yyyy-MM-dd&#39;)\r\n\r\nH2&#39;s parse and format date functions follow the [java.text.SimpleDataFormat][1] semantics.\r\n\r\n_Yes, it is NOT super optimized. This is fine for our needs since we only use H2 for unit tests._\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html","title":"Function &quot;TO_DATE&quot; not found in H2 database","body":"<p>One way to remove the time portion from a date-time field in H2, is to format the field as a string and then parse it. This worked for me:</p>\n<pre><code>PARSEDATETIME(FORMATDATETIME(field_name, 'yyyy-MM-dd'), 'yyyy-MM-dd')\n</code></pre>\n<p>H2's parse and format date functions follow the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">java.text.SimpleDataFormat</a> semantics.</p>\n<p><em>Yes, it is NOT super optimized. This is fine for our needs since we only use H2 for unit tests.</em></p>\n"},{"tags":[],"owner":{"account_id":7956246,"reputation":5402,"user_id":6005451,"display_name":"EoinS"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1545248455,"creation_date":1545248455,"answer_id":53858140,"question_id":21544114,"body_markdown":"you should be able to create your own `to_date` function \r\n\r\n    drop ALIAS if exists TO_DATE; \r\n    CREATE ALIAS TO_DATE as &#39;\r\n    import java.text.*;\r\n    @CODE\r\n    java.util.Date toDate(String s, String dateFormat) throws Exception { \r\n      return new SimpleDateFormat(dateFormat).parse(s); \r\n    } \r\n    &#39; \r\n\r\nOf course you could also just use `parsedatetime()` per David Small&#39;s answer","title":"Function &quot;TO_DATE&quot; not found in H2 database","body":"<p>you should be able to create your own <code>to_date</code> function </p>\n\n<pre><code>drop ALIAS if exists TO_DATE; \nCREATE ALIAS TO_DATE as '\nimport java.text.*;\n@CODE\njava.util.Date toDate(String s, String dateFormat) throws Exception { \n  return new SimpleDateFormat(dateFormat).parse(s); \n} \n' \n</code></pre>\n\n<p>Of course you could also just use <code>parsedatetime()</code> per David Small's answer</p>\n"}],"owner":{"account_id":322131,"reputation":131,"user_id":3268428,"display_name":"user3268428"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35134,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1654699848,"creation_date":1391489158,"question_id":21544114,"body_markdown":"I have a SQL statement and trying execute with H2 in-memory database in Java. The following exception thrown.\r\n\r\nSQL:\r\n\r\n    SELECT ACCT_RULE_ID, ACCT_ACTION_ID \r\n      FROM ACCT_RULE \r\n     WHERE (ACCT_ACTION_ID = ?) \r\n       AND (START_DATETIME &lt;= to_char(?, &#39;mm/dd/yyyy HH:MI:SS AM&#39;)) \r\n       AND (STOP_DATETIME &gt; to_char(?, &#39;mm/dd/yyyy HH:MI:SS AM&#39;)) \r\n\r\nReplacing first parameter with Id and second and third parameter with new Date() value.\r\n\r\n    Exception:\r\n    Caused by: org.h2.jdbc.JdbcSQLException: Function &quot;TO_DATE&quot; not found; SQL statement:\r\n\r\n","title":"Function &quot;TO_DATE&quot; not found in H2 database","body":"<p>I have a SQL statement and trying execute with H2 in-memory database in Java. The following exception thrown.</p>\n\n<p>SQL:</p>\n\n<pre><code>SELECT ACCT_RULE_ID, ACCT_ACTION_ID \n  FROM ACCT_RULE \n WHERE (ACCT_ACTION_ID = ?) \n   AND (START_DATETIME &lt;= to_char(?, 'mm/dd/yyyy HH:MI:SS AM')) \n   AND (STOP_DATETIME &gt; to_char(?, 'mm/dd/yyyy HH:MI:SS AM')) \n</code></pre>\n\n<p>Replacing first parameter with Id and second and third parameter with new Date() value.</p>\n\n<pre><code>Exception:\nCaused by: org.h2.jdbc.JdbcSQLException: Function \"TO_DATE\" not found; SQL statement:\n</code></pre>\n"},{"tags":["java","spring","spring-boot","annotations"],"comments":[{"owner":{"account_id":10899779,"reputation":7224,"user_id":8012379,"display_name":"Indra Basak"},"score":0,"creation_date":1506014026,"post_id":46349453,"comment_id":79659580,"body_markdown":"Have you defined the properties, `spring.mail.username` and `spring.mail.password` in your `application` properties/yaml file?","body":"Have you defined the properties, <code>spring.mail.username</code> and <code>spring.mail.password</code> in your <code>application</code> properties/yaml file?"}],"answers":[{"tags":[],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1547481924,"creation_date":1506045689,"answer_id":46355745,"question_id":46349453,"body_markdown":"You guessed it right, the values will get injected only after the objects gets instantiated; because the spring container cannot set a property of something which doesn&#39;t exist yet. So while in constructer, those fields will still be null. One solution is, either\r\n\r\n1. Switch to [constructer Injection][1] instead of setter Injection (YMMV, havnt tested your usecase)\r\n\r\n**Or**\r\n\r\n2. Replace the constructor with a method annotated with `@PostConstruct`. This method will be executed after the injection process.\r\n\r\nfor example\r\n-\r\n\r\n    @Component\r\n    public class SmtpAuthenticator extends Authenticator {\r\n        private static final Logger LOG = \r\n        LogManager.getLogger(SmtpAuthenticator.class.getSimpleName());\r\n    \r\n        @Value(&quot;${spring.mail.username}&quot;)\r\n        private String username;\r\n        @Value(&quot;${spring.mail.password}&quot;)\r\n        private String password;\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            LOG.info(SmtpAuthenticator.class.getSimpleName() + &quot; started...&quot;);\r\n            LOG.debug(&quot;username=&quot; + username);\r\n        }\r\n    \r\n        @Override\r\n        protected PasswordAuthentication getPasswordAuthentication() {\r\n            if (!StringUtils.isEmpty(username) &amp;&amp; !StringUtils.isEmpty(password)) {\r\n                LOG.debug(&quot;Username and password are correct...&quot;);\r\n                return new PasswordAuthentication(username, password);\r\n            }\r\n        LOG.error(&quot;Not correct mail login data!&quot;);\r\n        return null;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-spring-beans-and-dependency-injection.html","title":"Spring Boot - @Value annotation doesn&#39;t work","body":"<p>You guessed it right, the values will get injected only after the objects gets instantiated; because the spring container cannot set a property of something which doesn't exist yet. So while in constructer, those fields will still be null. One solution is, either</p>\n\n<ol>\n<li>Switch to <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-spring-beans-and-dependency-injection.html\" rel=\"noreferrer\">constructer Injection</a> instead of setter Injection (YMMV, havnt tested your usecase)</li>\n</ol>\n\n<p><strong>Or</strong></p>\n\n<ol start=\"2\">\n<li>Replace the constructor with a method annotated with <code>@PostConstruct</code>. This method will be executed after the injection process.</li>\n</ol>\n\n<h2>for example</h2>\n\n<pre><code>@Component\npublic class SmtpAuthenticator extends Authenticator {\n    private static final Logger LOG = \n    LogManager.getLogger(SmtpAuthenticator.class.getSimpleName());\n\n    @Value(\"${spring.mail.username}\")\n    private String username;\n    @Value(\"${spring.mail.password}\")\n    private String password;\n\n    @PostConstruct\n    public void init() {\n        LOG.info(SmtpAuthenticator.class.getSimpleName() + \" started...\");\n        LOG.debug(\"username=\" + username);\n    }\n\n    @Override\n    protected PasswordAuthentication getPasswordAuthentication() {\n        if (!StringUtils.isEmpty(username) &amp;&amp; !StringUtils.isEmpty(password)) {\n            LOG.debug(\"Username and password are correct...\");\n            return new PasswordAuthentication(username, password);\n        }\n    LOG.error(\"Not correct mail login data!\");\n    return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2276745,"reputation":1429,"user_id":2002804,"accept_rate":40,"display_name":"Jaykishan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654699801,"creation_date":1654699801,"answer_id":72547837,"question_id":46349453,"body_markdown":"Moved no argument constructor code to PostConstruct has done the trick for me. As it&#39;ll keep default bean loading workflow intact.\r\n\r\n&gt; Try this solution. https://stackoverflow.com/a/72547797/2002804","title":"Spring Boot - @Value annotation doesn&#39;t work","body":"<p>Moved no argument constructor code to PostConstruct has done the trick for me. As it'll keep default bean loading workflow intact.</p>\n<blockquote>\n<p>Try this solution. <a href=\"https://stackoverflow.com/a/72547797/2002804\">https://stackoverflow.com/a/72547797/2002804</a></p>\n</blockquote>\n"}],"owner":{"account_id":10974445,"reputation":892,"user_id":8063541,"accept_rate":67,"display_name":"Sir Montes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21426,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":46355745,"answer_count":2,"score":11,"last_activity_date":1654699801,"creation_date":1506013314,"question_id":46349453,"body_markdown":"I try to create mail service using SmtpAuthenticator. The component is started correctly but null values are in username and password fields. Why is it?\r\n\r\n\r\n    @Component\r\n    public class SmtpAuthenticator extends Authenticator {\r\n\r\n        private static final Logger LOG = \r\n        LogManager.getLogger(SmtpAuthenticator.class.getSimpleName());\r\n\r\n        @Value(&quot;${spring.mail.username}&quot;)\r\n        private String username;\r\n        @Value(&quot;${spring.mail.password}&quot;)\r\n        private String password;\r\n\r\n        public SmtpAuthenticator() {\r\n            LOG.info(SmtpAuthenticator.class.getSimpleName() + &quot; started...&quot;);\r\n            LOG.debug(&quot;username=&quot; + username);\r\n        }\r\n  \r\n        @Override\r\n        protected PasswordAuthentication getPasswordAuthentication() {\r\n            if (!StringUtils.isEmpty(username) &amp;&amp; !StringUtils.isEmpty(password)) {\r\n                LOG.debug(&quot;Username and password are correct...&quot;);\r\n                return new PasswordAuthentication(username, password);\r\n            }\r\n        LOG.error(&quot;Not correct mail login data!&quot;);\r\n        return null;\r\n        }\r\n    }\r\n\r\n","title":"Spring Boot - @Value annotation doesn&#39;t work","body":"<p>I try to create mail service using SmtpAuthenticator. The component is started correctly but null values are in username and password fields. Why is it?</p>\n\n<pre><code>@Component\npublic class SmtpAuthenticator extends Authenticator {\n\n    private static final Logger LOG = \n    LogManager.getLogger(SmtpAuthenticator.class.getSimpleName());\n\n    @Value(\"${spring.mail.username}\")\n    private String username;\n    @Value(\"${spring.mail.password}\")\n    private String password;\n\n    public SmtpAuthenticator() {\n        LOG.info(SmtpAuthenticator.class.getSimpleName() + \" started...\");\n        LOG.debug(\"username=\" + username);\n    }\n\n    @Override\n    protected PasswordAuthentication getPasswordAuthentication() {\n        if (!StringUtils.isEmpty(username) &amp;&amp; !StringUtils.isEmpty(password)) {\n            LOG.debug(\"Username and password are correct...\");\n            return new PasswordAuthentication(username, password);\n        }\n    LOG.error(\"Not correct mail login data!\");\n    return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":5,"creation_date":1410349772,"post_id":25764459,"comment_id":40290028,"body_markdown":"And how should `@Value` be replaced before a bean is constructed? Your way of &quot;detecting&quot; if the value is set is wrong. At that moment it always be null as `@Value` will be processed AFTER object construction.","body":"And how should <code>@Value</code> be replaced before a bean is constructed? Your way of &quot;detecting&quot; if the value is set is wrong. At that moment it always be null as <code>@Value</code> will be processed AFTER object construction."}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":1,"up_vote_count":220,"is_accepted":true,"score":219,"last_activity_date":1468832987,"creation_date":1410350804,"answer_id":25765032,"question_id":25764459,"body_markdown":"The way you are performing the injection of the property will not work, because the injection is done after the constructor is called.\r\n\r\nYou need to do one of the following:\r\n\r\n**Better solution**\r\n\r\n    @Component\r\n    public class MyBean {\r\n    \r\n        private final String prop;\r\n    \r\n        @Autowired\r\n        public MyBean(@Value(&quot;${some.prop}&quot;) String prop) {\r\n            this.prop = prop;\r\n            System.out.println(&quot;================== &quot; + prop + &quot;================== &quot;);\r\n        }\r\n    }\r\n\r\n**Solution that will work but is less testable and slightly less readable**\r\n\r\n    @Component\r\n    public class MyBean {\r\n    \r\n        @Value(&quot;${some.prop}&quot;)\r\n        private String prop;\r\n    \r\n        public MyBean() {\r\n\r\n        }\r\n     \r\n        @PostConstruct\r\n        public void init() {\r\n            System.out.println(&quot;================== &quot; + prop + &quot;================== &quot;);\r\n        }\r\n    }\r\n\r\nAlso note that is not Spring Boot specific but applies to any Spring application","title":"Spring Boot application.properties value not populating","body":"<p>The way you are performing the injection of the property will not work, because the injection is done after the constructor is called.</p>\n\n<p>You need to do one of the following:</p>\n\n<p><strong>Better solution</strong></p>\n\n<pre><code>@Component\npublic class MyBean {\n\n    private final String prop;\n\n    @Autowired\n    public MyBean(@Value(\"${some.prop}\") String prop) {\n        this.prop = prop;\n        System.out.println(\"================== \" + prop + \"================== \");\n    }\n}\n</code></pre>\n\n<p><strong>Solution that will work but is less testable and slightly less readable</strong></p>\n\n<pre><code>@Component\npublic class MyBean {\n\n    @Value(\"${some.prop}\")\n    private String prop;\n\n    public MyBean() {\n\n    }\n\n    @PostConstruct\n    public void init() {\n        System.out.println(\"================== \" + prop + \"================== \");\n    }\n}\n</code></pre>\n\n<p>Also note that is not Spring Boot specific but applies to any Spring application</p>\n"},{"tags":[],"owner":{"account_id":1761399,"reputation":813,"user_id":1608418,"display_name":"Amit Kumar"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1485636725,"creation_date":1485636725,"answer_id":41914719,"question_id":25764459,"body_markdown":"The user &quot;geoand&quot; is right in pointing out the reasons here and giving a solution. But a better approach is to encapsulate your configuration into a separate class, say SystemContiguration java class and then inject this class into what ever services you want to use those fields. \r\n\r\nYour current way(@grahamrb) of reading config values directly into services is error prone and would cause refactoring headaches if config setting name is changed.","title":"Spring Boot application.properties value not populating","body":"<p>The user \"geoand\" is right in pointing out the reasons here and giving a solution. But a better approach is to encapsulate your configuration into a separate class, say SystemContiguration java class and then inject this class into what ever services you want to use those fields. </p>\n\n<p>Your current way(@grahamrb) of reading config values directly into services is error prone and would cause refactoring headaches if config setting name is changed.</p>\n"},{"tags":[],"owner":{"account_id":4135951,"reputation":41,"user_id":3392625,"display_name":"Raj Mohamad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1517557362,"creation_date":1517554000,"answer_id":48577132,"question_id":25764459,"body_markdown":"Actually, For me below works fine.\r\n\r\n    @Component\r\n    public class MyBean {\r\n    \r\n       public static String prop;\r\n  \r\n       @Value(&quot;${some.prop}&quot;)\r\n       public void setProp(String prop) {\r\n\t\t  this.prop= prop;\r\n\t   }\r\n\r\n       public MyBean() {\r\n\r\n       }\r\n\r\n       @PostConstruct\r\n       public void init() {\r\n          System.out.println(&quot;================== &quot; + prop + &quot;================== &quot;);\r\n       }\r\n   }\r\n\r\n\r\nNow whereever i want, just invoke\r\n\r\n`MyBean.prop`\r\n\r\nit will return value.","title":"Spring Boot application.properties value not populating","body":"<p>Actually, For me below works fine.</p>\n\n<pre><code>@Component\npublic class MyBean {\n\n   public static String prop;\n\n   @Value(\"${some.prop}\")\n   public void setProp(String prop) {\n      this.prop= prop;\n   }\n\n   public MyBean() {\n\n   }\n\n   @PostConstruct\n   public void init() {\n      System.out.println(\"================== \" + prop + \"================== \");\n   }\n</code></pre>\n\n<p>}</p>\n\n<p>Now whereever i want, just invoke</p>\n\n<p><code>MyBean.prop</code></p>\n\n<p>it will return value.</p>\n"},{"tags":[],"owner":{"account_id":1196398,"reputation":6672,"user_id":1168041,"accept_rate":72,"display_name":"leeyuiwah"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1565086380,"creation_date":1565086380,"answer_id":57373755,"question_id":25764459,"body_markdown":"This answer may or may not be applicable to your case ... Once I had a similar symptom and I double checked my code many times and all looked good but the `@Value` setting was still not taking effect.  And then after doing `File &gt; Invalidate Cache / Restart` with my `IntelliJ` (my IDE), the problem went away ...\r\n\r\nThis is very easy to try so may be worth a shot","title":"Spring Boot application.properties value not populating","body":"<p>This answer may or may not be applicable to your case ... Once I had a similar symptom and I double checked my code many times and all looked good but the <code>@Value</code> setting was still not taking effect.  And then after doing <code>File &gt; Invalidate Cache / Restart</code> with my <code>IntelliJ</code> (my IDE), the problem went away ...</p>\n\n<p>This is very easy to try so may be worth a shot</p>\n"},{"tags":[],"owner":{"account_id":7843157,"reputation":79,"user_id":5928979,"display_name":"ramakotireddy nagireddy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571641228,"creation_date":1571639836,"answer_id":58480940,"question_id":25764459,"body_markdown":"Using Environment class we can get application. Properties values\r\n\r\n@Autowired,\r\n\r\n    private Environment env;\r\n\r\nand access using \r\n\r\n    String password =env.getProperty(your property key);","title":"Spring Boot application.properties value not populating","body":"<p>Using Environment class we can get application. Properties values</p>\n\n<p>@Autowired,</p>\n\n<pre><code>private Environment env;\n</code></pre>\n\n<p>and access using </p>\n\n<pre><code>String password =env.getProperty(your property key);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15536211,"reputation":241,"user_id":11208348,"display_name":"Fazle Subhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583226086,"creation_date":1583226086,"answer_id":60503546,"question_id":25764459,"body_markdown":"follow these steps.\r\n1:- create your configuration class like below you can see\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    \r\n    @Configuration\r\n    public class YourConfiguration{\r\n    \r\n        // passing the key which you set in application.properties\r\n    \t@Value(&quot;${some.pro}&quot;)\r\n    \tprivate String somePro;\r\n    \r\n       // getting the value from that key which you set in application.properties\r\n    \t@Bean\r\n    \tpublic String getsomePro() {\r\n    \t\treturn somePro;\r\n    \t}\r\n    }\r\n\r\n2:- when you have a configuration class then inject in the variable from a configuration where you need.\r\n\r\n    @Component\r\n    public class YourService {\r\n    \r\n    \t@Autowired\r\n    \tprivate String getsomePro;\r\n    \r\n    \t// now you have a value in getsomePro variable automatically.\r\n    }","title":"Spring Boot application.properties value not populating","body":"<p>follow these steps.\n1:- create your configuration class like below you can see</p>\n\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.beans.factory.annotation.Value;\n\n@Configuration\npublic class YourConfiguration{\n\n    // passing the key which you set in application.properties\n    @Value(\"${some.pro}\")\n    private String somePro;\n\n   // getting the value from that key which you set in application.properties\n    @Bean\n    public String getsomePro() {\n        return somePro;\n    }\n}\n</code></pre>\n\n<p>2:- when you have a configuration class then inject in the variable from a configuration where you need.</p>\n\n<pre><code>@Component\npublic class YourService {\n\n    @Autowired\n    private String getsomePro;\n\n    // now you have a value in getsomePro variable automatically.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588002569,"creation_date":1588002569,"answer_id":61462823,"question_id":25764459,"body_markdown":"If you&#39;re working in a large multi-module project, with several different `application.properties` files, then try adding your value to the **parent** project&#39;s property file. \r\n\r\nIf you are unsure which is your parent project, check your project&#39;s `pom.xml` file, for a `&lt;parent&gt;` tag. \r\n\r\nThis solved the issue for me. ","title":"Spring Boot application.properties value not populating","body":"<p>If you're working in a large multi-module project, with several different <code>application.properties</code> files, then try adding your value to the <strong>parent</strong> project's property file. </p>\n\n<p>If you are unsure which is your parent project, check your project's <code>pom.xml</code> file, for a <code>&lt;parent&gt;</code> tag. </p>\n\n<p>This solved the issue for me. </p>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595094703,"creation_date":1595094703,"answer_id":62971900,"question_id":25764459,"body_markdown":"You can use `Environment` Class to get data : \r\n\r\n    @Autowired\r\n    private Environment env;\r\n    String prop= env.getProperty(&#39;some.prop&#39;);\r\n\r\n","title":"Spring Boot application.properties value not populating","body":"<p>You can use <code>Environment</code> Class to get data :</p>\n<pre><code>@Autowired\nprivate Environment env;\nString prop= env.getProperty('some.prop');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3832252,"reputation":938,"user_id":3177532,"accept_rate":91,"display_name":"solujic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628756049,"creation_date":1628756049,"answer_id":68753846,"question_id":25764459,"body_markdown":"Simplest solution that solved this issue for me:\r\n\r\nAdd `@PropertySource` annotation to the Component/Service that needs to populate `@Value` field:\r\n\r\n```\r\n@Service\r\n@PropertySource(&quot;classpath:myproperties.properties&quot;)\r\npublic class MyService {\r\n\r\n  @Value(&quot;${some.prop}&quot;)\r\n  private String someProperty;\r\n\r\n  // some logic...\r\n}\r\n```\r\n\r\nMake sure to add the properties file to the resource folder of the same module as your Service/Component.\r\n","title":"Spring Boot application.properties value not populating","body":"<p>Simplest solution that solved this issue for me:</p>\n<p>Add <code>@PropertySource</code> annotation to the Component/Service that needs to populate <code>@Value</code> field:</p>\n<pre><code>@Service\n@PropertySource(&quot;classpath:myproperties.properties&quot;)\npublic class MyService {\n\n  @Value(&quot;${some.prop}&quot;)\n  private String someProperty;\n\n  // some logic...\n}\n</code></pre>\n<p>Make sure to add the properties file to the resource folder of the same module as your Service/Component.</p>\n"},{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637445862,"creation_date":1637445862,"answer_id":70050214,"question_id":25764459,"body_markdown":"You are getting this error because you are initializing the class with new keyword. To solve this, \r\nfirst you need to create the configuration class and under this class you need to create the bean of this class.\r\nWhen you will call it by using bean then it will work..\r\n\r\n\r\n    package ca.testing;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    \r\n    @Component\r\n    @PropertySource(&quot;db.properties&quot;)\r\n    public class ConnectionFactory {\r\n        @Value(&quot;${jdbc.user}&quot;)\r\n        private String user;\r\n        @Value(&quot;${jdbc.password}&quot;)\r\n        private String password;\r\n        @Value(&quot;${jdbc.url}&quot;)\r\n        private String url;\r\n        Connection connection;\r\n    \r\n        public Connection getConnection(){\r\n            try {\r\n                connection = DriverManager.getConnection(url, user, password);\r\n                System.out.println(connection.hashCode());\r\n            }catch (Exception e){\r\n                System.out.println(e);\r\n            }\r\n            return connection;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            AnnotationConfigApplicationContext context= new AnnotationConfigApplicationContext(Config.class);\r\n            ConnectionFactory connectionFactory= context.getBean(ConnectionFactory.class);\r\n            connectionFactory.getConnection();\r\n        }\r\n    }\r\n","title":"Spring Boot application.properties value not populating","body":"<p>You are getting this error because you are initializing the class with new keyword. To solve this,\nfirst you need to create the configuration class and under this class you need to create the bean of this class.\nWhen you will call it by using bean then it will work..</p>\n<pre><code>package ca.testing;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.stereotype.Component;\n\nimport javax.annotation.PostConstruct;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\n\n@Component\n@PropertySource(&quot;db.properties&quot;)\npublic class ConnectionFactory {\n    @Value(&quot;${jdbc.user}&quot;)\n    private String user;\n    @Value(&quot;${jdbc.password}&quot;)\n    private String password;\n    @Value(&quot;${jdbc.url}&quot;)\n    private String url;\n    Connection connection;\n\n    public Connection getConnection(){\n        try {\n            connection = DriverManager.getConnection(url, user, password);\n            System.out.println(connection.hashCode());\n        }catch (Exception e){\n            System.out.println(e);\n        }\n        return connection;\n    }\n\n    public static void main(String[] args) {\n        AnnotationConfigApplicationContext context= new AnnotationConfigApplicationContext(Config.class);\n        ConnectionFactory connectionFactory= context.getBean(ConnectionFactory.class);\n        connectionFactory.getConnection();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2276745,"reputation":1429,"user_id":2002804,"accept_rate":40,"display_name":"Jaykishan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1654699633,"creation_date":1654699633,"answer_id":72547797,"question_id":25764459,"body_markdown":"&gt; Moved no argument constructor code to PostConstruct has done the trick\r\n&gt; for me. As it&#39;ll keep default bean loading workflow intact.\r\n\r\n    @Component\r\n    public class MyBean {\r\n    \r\n        @Value(&quot;${some.prop}&quot;)\r\n        private String prop;\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            System.out.println(&quot;================== &quot; + prop + &quot;================== &quot;);\r\n        }\r\n    }","title":"Spring Boot application.properties value not populating","body":"<blockquote>\n<p>Moved no argument constructor code to PostConstruct has done the trick\nfor me. As it'll keep default bean loading workflow intact.</p>\n</blockquote>\n<pre><code>@Component\npublic class MyBean {\n\n    @Value(&quot;${some.prop}&quot;)\n    private String prop;\n\n    @PostConstruct\n    public void init() {\n        System.out.println(&quot;================== &quot; + prop + &quot;================== &quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":47799,"reputation":2179,"user_id":141708,"accept_rate":60,"display_name":"grahamrb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210523,"favorite_count":0,"down_vote_count":0,"up_vote_count":127,"accepted_answer_id":25765032,"answer_count":11,"score":127,"last_activity_date":1654699633,"creation_date":1410349213,"question_id":25764459,"body_markdown":"I have a very simple Spring Boot app that I&#39;m trying to get working with some externalised configuration. I&#39;ve tried to follow the information on the [spring boot documentation](http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html) however I&#39;m hitting a road block.\r\n\r\nWhen I run the app below the external configuration in the application.properties file does not get populated into the variable within the bean. I&#39;m sure I&#39;m doing something stupid, thanks for any suggestions.\r\n\r\n**MyBean.java** (located in /src/main/java/foo/bar/)\r\n\r\n    package foo.bar;\r\n\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class MyBean {\r\n\r\n        @Value(&quot;${some.prop}&quot;)\r\n        private String prop;\r\n\r\n        public MyBean() {\r\n            System.out.println(&quot;================== &quot; + prop + &quot;================== &quot;);\r\n        }\r\n    }\r\n\r\n**Application.java** (located in /src/main/java/foo/)\r\n\r\n\tpackage foo;\r\n\r\n\timport foo.bar.MyBean;\r\n\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.beans.factory.annotation.Value;\r\n\timport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n\timport org.springframework.boot.SpringApplication;\r\n\timport org.springframework.context.annotation.ComponentScan;\r\n\timport org.springframework.context.annotation.Configuration;\r\n\r\n\t@Configuration\r\n\t@ComponentScan\r\n\t@EnableAutoConfiguration\r\n\tpublic class Application {\r\n\r\n\t\t@Autowired\r\n\t    private MyBean myBean;\r\n\r\n    \tpublic static void main(String[] args) {\r\n        \tSpringApplication.run(Application.class, args);\r\n\t    }\r\n\t}\r\n\r\napplication.properties (located in /src/main/resources/)\r\n\r\n    some.prop=aabbcc\r\n\r\n**Log output** when executing the Spring Boot app:\r\n\r\n\r\n    grb-macbook-pro:properties-test-app grahamrb$ java -jar ./build/libs/properties-test-app-0.1.0.jar\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v1.1.5.RELEASE)\r\n    \r\n    2014-09-10 21:28:42.149  INFO 16554 --- [           main] foo.Application                          : Starting Application on grb-macbook-pro.local with PID 16554 (/Users/grahamrb/Dropbox/dev-projects/spring-apps/properties-test-app/build/libs/properties-test-app-0.1.0.jar started by grahamrb in /Users/grahamrb/Dropbox/dev-projects/spring-apps/properties-test-app)\r\n    2014-09-10 21:28:42.196  INFO 16554 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@67e38ec8: startup date [Wed Sep 10 21:28:42 EST 2014]; root of context hierarchy\r\n    2014-09-10 21:28:42.828  INFO 16554 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean &#39;beanNameViewResolver&#39;: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.class]]\r\n    2014-09-10 21:28:43.592  INFO 16554 --- [           main] .t.TomcatEmbeddedServletContainerFactory : Server initialized with port: 8080\r\n    2014-09-10 21:28:43.784  INFO 16554 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\r\n    2014-09-10 21:28:43.785  INFO 16554 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/7.0.54\r\n    2014-09-10 21:28:43.889  INFO 16554 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2014-09-10 21:28:43.889  INFO 16554 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1695 ms\r\n    2014-09-10 21:28:44.391  INFO 16554 --- [ost-startStop-1] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: &#39;dispatcherServlet&#39; to [/]\r\n    2014-09-10 21:28:44.393  INFO 16554 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]\r\n    ================== null==================\r\n    2014-09-10 21:28:44.606  INFO 16554 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n    2014-09-10 21:28:44.679  INFO 16554 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &quot;{[/error],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot; onto public org.springframework.http.ResponseEntity&lt;java.util.Map&lt;java.lang.String, java.lang.Object&gt;&gt; org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)\r\n    2014-09-10 21:28:44.679  INFO 16554 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &quot;{[/error],methods=[],params=[],headers=[],consumes=[],produces=[text/html],custom=[]}&quot; onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest)\r\n    2014-09-10 21:28:44.716  INFO 16554 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n    2014-09-10 21:28:44.716  INFO 16554 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n    2014-09-10 21:28:44.902  INFO 16554 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\r\n    2014-09-10 21:28:44.963  INFO 16554 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080/http\r\n    2014-09-10 21:28:44.965  INFO 16554 --- [           main] foo.Application                          : Started Application in 3.316 seconds (JVM running for 3.822)\r\n    ^C2014-09-10 21:28:54.223  INFO 16554 --- [       Thread-2] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@67e38ec8: startup date [Wed Sep 10 21:28:42 EST 2014]; root of context hierarchy\r\n    2014-09-10 21:28:54.225  INFO 16554 --- [       Thread-2] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown","title":"Spring Boot application.properties value not populating","body":"<p>I have a very simple Spring Boot app that I'm trying to get working with some externalised configuration. I've tried to follow the information on the <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\">spring boot documentation</a> however I'm hitting a road block.</p>\n\n<p>When I run the app below the external configuration in the application.properties file does not get populated into the variable within the bean. I'm sure I'm doing something stupid, thanks for any suggestions.</p>\n\n<p><strong>MyBean.java</strong> (located in /src/main/java/foo/bar/)</p>\n\n<pre><code>package foo.bar;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class MyBean {\n\n    @Value(\"${some.prop}\")\n    private String prop;\n\n    public MyBean() {\n        System.out.println(\"================== \" + prop + \"================== \");\n    }\n}\n</code></pre>\n\n<p><strong>Application.java</strong> (located in /src/main/java/foo/)</p>\n\n<pre><code>package foo;\n\nimport foo.bar.MyBean;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@ComponentScan\n@EnableAutoConfiguration\npublic class Application {\n\n    @Autowired\n    private MyBean myBean;\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>application.properties (located in /src/main/resources/)</p>\n\n<pre><code>some.prop=aabbcc\n</code></pre>\n\n<p><strong>Log output</strong> when executing the Spring Boot app:</p>\n\n<pre><code>grb-macbook-pro:properties-test-app grahamrb$ java -jar ./build/libs/properties-test-app-0.1.0.jar\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v1.1.5.RELEASE)\n\n2014-09-10 21:28:42.149  INFO 16554 --- [           main] foo.Application                          : Starting Application on grb-macbook-pro.local with PID 16554 (/Users/grahamrb/Dropbox/dev-projects/spring-apps/properties-test-app/build/libs/properties-test-app-0.1.0.jar started by grahamrb in /Users/grahamrb/Dropbox/dev-projects/spring-apps/properties-test-app)\n2014-09-10 21:28:42.196  INFO 16554 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@67e38ec8: startup date [Wed Sep 10 21:28:42 EST 2014]; root of context hierarchy\n2014-09-10 21:28:42.828  INFO 16554 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'beanNameViewResolver': replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.class]]\n2014-09-10 21:28:43.592  INFO 16554 --- [           main] .t.TomcatEmbeddedServletContainerFactory : Server initialized with port: 8080\n2014-09-10 21:28:43.784  INFO 16554 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\n2014-09-10 21:28:43.785  INFO 16554 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/7.0.54\n2014-09-10 21:28:43.889  INFO 16554 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2014-09-10 21:28:43.889  INFO 16554 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1695 ms\n2014-09-10 21:28:44.391  INFO 16554 --- [ost-startStop-1] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: 'dispatcherServlet' to [/]\n2014-09-10 21:28:44.393  INFO 16554 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n================== null==================\n2014-09-10 21:28:44.606  INFO 16554 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2014-09-10 21:28:44.679  INFO 16554 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/error],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto public org.springframework.http.ResponseEntity&lt;java.util.Map&lt;java.lang.String, java.lang.Object&gt;&gt; org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)\n2014-09-10 21:28:44.679  INFO 16554 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/error],methods=[],params=[],headers=[],consumes=[],produces=[text/html],custom=[]}\" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest)\n2014-09-10 21:28:44.716  INFO 16554 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2014-09-10 21:28:44.716  INFO 16554 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2014-09-10 21:28:44.902  INFO 16554 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\n2014-09-10 21:28:44.963  INFO 16554 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080/http\n2014-09-10 21:28:44.965  INFO 16554 --- [           main] foo.Application                          : Started Application in 3.316 seconds (JVM running for 3.822)\n^C2014-09-10 21:28:54.223  INFO 16554 --- [       Thread-2] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@67e38ec8: startup date [Wed Sep 10 21:28:42 EST 2014]; root of context hierarchy\n2014-09-10 21:28:54.225  INFO 16554 --- [       Thread-2] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\n</code></pre>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1654699293,"post_id":72547391,"comment_id":128154232,"body_markdown":"What if the errorCode is longer than 35 characters?","body":"What if the errorCode is longer than 35 characters?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1654699681,"post_id":72547391,"comment_id":128154420,"body_markdown":"Also `and start substring from the beginning of the errorDescription String` doesnt match your input/output. With that input, the output should be `ERR000: ACCOUNT : 01234567891 PASSE`. Otherwise you need to clarify how the start is defined for the errorDescription","body":"Also <code>and start substring from the beginning of the errorDescription String</code> doesnt match your input/output. With that input, the output should be <code>ERR000: ACCOUNT : 01234567891 PASSE</code>. Otherwise you need to clarify how the start is defined for the errorDescription"}],"answers":[{"tags":[],"owner":{"account_id":25388083,"reputation":1,"user_id":19199586,"display_name":"beed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654699600,"creation_date":1654699600,"answer_id":72547788,"question_id":72547391,"body_markdown":"If you keep all the errorCode you can use it&#39;s length to determine how more characters you need:\r\n\r\n    int n = 35 - errorCode.length();\r\n\r\nAnd, in case errorDescription isn&#39;t long enough:\r\n\r\n    int i = (n&lt;=errorDescription.length()) ? n : errorDescription.length();\r\n\r\nThen,\r\n\r\n    String info = errorCode + errorDescription.substring(0,n);","title":"how can i substring character from compilation of two string to be equal to max length 35","body":"<p>If you keep all the errorCode you can use it's length to determine how more characters you need:</p>\n<pre><code>int n = 35 - errorCode.length();\n</code></pre>\n<p>And, in case errorDescription isn't long enough:</p>\n<pre><code>int i = (n&lt;=errorDescription.length()) ? n : errorDescription.length();\n</code></pre>\n<p>Then,</p>\n<pre><code>String info = errorCode + errorDescription.substring(0,n);\n</code></pre>\n"}],"owner":{"account_id":17152754,"reputation":1,"user_id":12414293,"display_name":"Jawaher Al_makhmari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654699600,"creation_date":1654698061,"question_id":72547391,"body_markdown":"I am facing an issue in writing the java method for the below scenario. I have two String one called (error code and error Description). I want to combine both and make sure that both are in length of 35 when they are combined. I am receiving the String from users so I am not sure about the size. \r\nI wrote the below methods \r\n\r\n    private String error(Response response) {\r\n        String errorCode = response.getErrorCode();\r\n        String errorDescription = response.getErrorDescription();\r\n        String info = errorCode +&quot; &quot;+errorDescription;\r\n        return subtractInfo(info);\r\n    }\r\n\r\n    private String subtractInfo(String content) {\r\n       String info = content.replaceAll(&quot;[-+^]*&quot;, &quot;&quot;);\r\n        return content.substring(0, Math.min(info.length(), 35));\r\n    }\r\n\r\nThe issue is I want to keep the value of the errorCode String as its, and start substring from the beginning of the errorDescription String. So the total should be 35 along with removing a special characters from both if exist. how can I handle the unknown length for both strings \r\nexample: \r\n \r\n\r\n    errorCode=ERR000\r\n\r\n    errorDescription=ACCOUNT : 01234567891 PASSED IN PART_TRAN_1 IS INVALID ACCT\r\n\r\noutput should be:\r\n\r\n    ERR000: PART_TRAN_1 IS INVALID ACCT\r\n\r\n","title":"how can i substring character from compilation of two string to be equal to max length 35","body":"<p>I am facing an issue in writing the java method for the below scenario. I have two String one called (error code and error Description). I want to combine both and make sure that both are in length of 35 when they are combined. I am receiving the String from users so I am not sure about the size.\nI wrote the below methods</p>\n<pre><code>private String error(Response response) {\n    String errorCode = response.getErrorCode();\n    String errorDescription = response.getErrorDescription();\n    String info = errorCode +&quot; &quot;+errorDescription;\n    return subtractInfo(info);\n}\n\nprivate String subtractInfo(String content) {\n   String info = content.replaceAll(&quot;[-+^]*&quot;, &quot;&quot;);\n    return content.substring(0, Math.min(info.length(), 35));\n}\n</code></pre>\n<p>The issue is I want to keep the value of the errorCode String as its, and start substring from the beginning of the errorDescription String. So the total should be 35 along with removing a special characters from both if exist. how can I handle the unknown length for both strings\nexample:</p>\n<pre><code>errorCode=ERR000\n\nerrorDescription=ACCOUNT : 01234567891 PASSED IN PART_TRAN_1 IS INVALID ACCT\n</code></pre>\n<p>output should be:</p>\n<pre><code>ERR000: PART_TRAN_1 IS INVALID ACCT\n</code></pre>\n"},{"tags":["java","spring","hibernate","validation","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":26084,"reputation":26325,"user_id":67598,"accept_rate":79,"display_name":"digitaljoel"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1380921437,"creation_date":1380921036,"answer_id":19190846,"question_id":19190592,"body_markdown":"Here is a code sample from [JSR 303 spec][1]\r\n\r\n    Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n    \r\n    Driver driver = new Driver();\r\n    driver.setAge(16);\r\n    Car porsche = new Car();\r\n    driver.setCar(porsche);\r\n    \r\n    \r\n    Set&lt;ConstraintViolation&lt;Driver&gt;&gt; violations = validator.validate( driver );\r\n\r\nSo yes, you can just get a validator instance from the validator factory and run the validation yourself, then check to see if there are violations or not.  You can see in the [javadoc for Validator][2] that it will also accept an array of groups to validate against.\r\n\r\nObviously this uses JSR-303 validation directly instead of going through Spring validation, but I believe spring validation annotations will use JSR-303 if it&#39;s found in the classpath\r\n\r\n\r\n  [1]: http://beanvalidation.org/1.0/spec/\r\n  [2]: http://docs.oracle.com/javaee/6/api/javax/validation/Validator.html#validate%28T,%20java.lang.Class...%29","title":"Manually call Spring Annotation Validation","body":"<p>Here is a code sample from <a href=\"http://beanvalidation.org/1.0/spec/\">JSR 303 spec</a></p>\n\n<pre><code>Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n\nDriver driver = new Driver();\ndriver.setAge(16);\nCar porsche = new Car();\ndriver.setCar(porsche);\n\n\nSet&lt;ConstraintViolation&lt;Driver&gt;&gt; violations = validator.validate( driver );\n</code></pre>\n\n<p>So yes, you can just get a validator instance from the validator factory and run the validation yourself, then check to see if there are violations or not.  You can see in the <a href=\"http://docs.oracle.com/javaee/6/api/javax/validation/Validator.html#validate%28T,%20java.lang.Class...%29\">javadoc for Validator</a> that it will also accept an array of groups to validate against.</p>\n\n<p>Obviously this uses JSR-303 validation directly instead of going through Spring validation, but I believe spring validation annotations will use JSR-303 if it's found in the classpath</p>\n"},{"tags":[],"owner":{"account_id":1584205,"reputation":9787,"user_id":1468919,"accept_rate":90,"display_name":"Jaiwo99"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1654699506,"creation_date":1380921957,"answer_id":19191064,"question_id":19190592,"body_markdown":"If you have everything correctly configured, you can do this:\r\n\r\n    import javax.validation.Validator;\r\n\r\n    @Autowired\r\n    Validator validator;\r\n\r\nThen you can use it to validate you object:\r\n\r\n    var errors = validator.validate(obj);","title":"Manually call Spring Annotation Validation","body":"<p>If you have everything correctly configured, you can do this:</p>\n<pre><code>import javax.validation.Validator;\n\n@Autowired\nValidator validator;\n</code></pre>\n<p>Then you can use it to validate you object:</p>\n<pre><code>var errors = validator.validate(obj);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1638222564,"creation_date":1380922695,"answer_id":19191214,"question_id":19190592,"body_markdown":"Spring provides [LocalValidatorFactoryBean](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/beanvalidation/LocalValidatorFactoryBean.html), which implements the Spring [`SmartValidator`](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/SmartValidator.html) interface as well as the Java Bean Validation [`Validator`](https://docs.oracle.com/javaee/7/api/javax/validation/Validator.html) interface.\r\n\r\n```lang-java\r\n// org.springframework.validation.SmartValidator - implemented by LocalValidatorFactoryBean\r\n@Autowired\r\nSmartValidator validator;\r\n\r\npublic String saveAccount(@ModelAttribute Account account, BindingResult result) {\r\n    // ... custom logic\r\n    validator.validate(account, result, Account.Step1.class);\r\n    if (result.hasErrors()) {\r\n        // ... on binding or validation errors\r\n    } else {\r\n        // ... on no errors\r\n    }\r\n    return &quot;&quot;;\r\n}\r\n```\r\n","title":"Manually call Spring Annotation Validation","body":"<p>Spring provides <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/beanvalidation/LocalValidatorFactoryBean.html\" rel=\"noreferrer\">LocalValidatorFactoryBean</a>, which implements the Spring <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/SmartValidator.html\" rel=\"noreferrer\"><code>SmartValidator</code></a> interface as well as the Java Bean Validation <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/Validator.html\" rel=\"noreferrer\"><code>Validator</code></a> interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// org.springframework.validation.SmartValidator - implemented by LocalValidatorFactoryBean\n@Autowired\nSmartValidator validator;\n\npublic String saveAccount(@ModelAttribute Account account, BindingResult result) {\n    // ... custom logic\n    validator.validate(account, result, Account.Step1.class);\n    if (result.hasErrors()) {\n        // ... on binding or validation errors\n    } else {\n        // ... on no errors\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72797,"reputation":15932,"user_id":210006,"accept_rate":73,"display_name":"supercobra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479738548,"creation_date":1479738548,"answer_id":40722546,"question_id":19190592,"body_markdown":"  And also:\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;mvcValidator&quot;)\r\n    Validator validator;\r\n\r\n    ...\r\n    violations = validator.validate(account);","title":"Manually call Spring Annotation Validation","body":"<p>And also:</p>\n\n<pre><code>@Autowired\n@Qualifier(\"mvcValidator\")\nValidator validator;\n\n...\nviolations = validator.validate(account);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5208406,"reputation":4517,"user_id":4165579,"accept_rate":75,"display_name":"Prabjot Singh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1569432497,"creation_date":1569413547,"answer_id":58098094,"question_id":19190592,"body_markdown":"Adding to answered by @digitaljoel, you can throw the ConstraintViolationException once you got the set of violations.\r\n\r\n    Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n    \t\tSet&lt;ConstraintViolation&lt;NotionalProviderPaymentDTO&gt;&gt; violations = validator.validate( notionalProviderPaymentDTO );\r\n    \t\t\r\n    \t\tif(!violations.isEmpty()) {\r\n    \t\t\tthrow new ConstraintViolationException(violations);\r\n    \t\t}\r\n\r\nYou can create your own exception mapper which will handle ConstraintViolationException and send the errors messages to the client.","title":"Manually call Spring Annotation Validation","body":"<p>Adding to answered by @digitaljoel, you can throw the ConstraintViolationException once you got the set of violations.</p>\n\n<pre><code>Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n        Set&lt;ConstraintViolation&lt;NotionalProviderPaymentDTO&gt;&gt; violations = validator.validate( notionalProviderPaymentDTO );\n\n        if(!violations.isEmpty()) {\n            throw new ConstraintViolationException(violations);\n        }\n</code></pre>\n\n<p>You can create your own exception mapper which will handle ConstraintViolationException and send the errors messages to the client.</p>\n"},{"tags":[],"owner":{"account_id":2904275,"reputation":12430,"user_id":2490074,"accept_rate":62,"display_name":"Sarvar Nishonboyev"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1576179411,"creation_date":1576178701,"answer_id":59311471,"question_id":19190592,"body_markdown":"This link gives pretty good examples of using validations in Spring apps. \r\nhttps://reflectoring.io/bean-validation-with-spring-boot/\r\n\r\nI have found an example to run the validation programmitically in this article. \r\n\r\n```\r\nclass MyValidatingService {\r\n  \r\n  void validatePerson(Person person) {\r\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n    Validator validator = factory.getValidator();\r\n    Set&lt;ConstraintViolation&lt;Person&gt;&gt; violations = validator.validate(person);\r\n    if (!violations.isEmpty()) {\r\n      throw new ConstraintViolationException(violations);\r\n    }\r\n  } \r\n}\r\n```\r\n\r\nIt throws `500` status, so it is recommended to handle it with custom exception handler. \r\n\r\n```\r\n@ControllerAdvice(annotations = RestController.class)\r\npublic class CustomGlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n    @ExceptionHandler(ConstraintViolationException.class)\r\n    public ResponseEntity&lt;CustomErrorResponse&gt; constraintViolationException(HttpServletResponse response, Exception ex) throws IOException {\r\n        CustomErrorResponse errorResponse = new CustomErrorResponse();\r\n        errorResponse.setTimestamp(LocalDateTime.now());\r\n        errorResponse.setStatus(HttpStatus.BAD_REQUEST.value());\r\n        errorResponse.setError(HttpStatus.BAD_REQUEST.getReasonPhrase());\r\n        errorResponse.setMessage(ex.getMessage());\r\n        return new ResponseEntity&lt;&gt;(errorResponse, HttpStatus.BAD_REQUEST);\r\n    }\r\n}\r\n```\r\nSecond example is from https://www.mkyong.com/spring-boot/spring-rest-error-handling-example/\r\n\r\nUpdate:\r\nUsing validation is persistence layer is not recommended:\r\nhttps://twitter.com/odrotbohm/status/1055015506326052865","title":"Manually call Spring Annotation Validation","body":"<p>This link gives pretty good examples of using validations in Spring apps. \n<a href=\"https://reflectoring.io/bean-validation-with-spring-boot/\" rel=\"noreferrer\">https://reflectoring.io/bean-validation-with-spring-boot/</a></p>\n\n<p>I have found an example to run the validation programmitically in this article. </p>\n\n<pre><code>class MyValidatingService {\n\n  void validatePerson(Person person) {\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n    Validator validator = factory.getValidator();\n    Set&lt;ConstraintViolation&lt;Person&gt;&gt; violations = validator.validate(person);\n    if (!violations.isEmpty()) {\n      throw new ConstraintViolationException(violations);\n    }\n  } \n}\n</code></pre>\n\n<p>It throws <code>500</code> status, so it is recommended to handle it with custom exception handler. </p>\n\n<pre><code>@ControllerAdvice(annotations = RestController.class)\npublic class CustomGlobalExceptionHandler extends ResponseEntityExceptionHandler {\n    @ExceptionHandler(ConstraintViolationException.class)\n    public ResponseEntity&lt;CustomErrorResponse&gt; constraintViolationException(HttpServletResponse response, Exception ex) throws IOException {\n        CustomErrorResponse errorResponse = new CustomErrorResponse();\n        errorResponse.setTimestamp(LocalDateTime.now());\n        errorResponse.setStatus(HttpStatus.BAD_REQUEST.value());\n        errorResponse.setError(HttpStatus.BAD_REQUEST.getReasonPhrase());\n        errorResponse.setMessage(ex.getMessage());\n        return new ResponseEntity&lt;&gt;(errorResponse, HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n\n<p>Second example is from <a href=\"https://www.mkyong.com/spring-boot/spring-rest-error-handling-example/\" rel=\"noreferrer\">https://www.mkyong.com/spring-boot/spring-rest-error-handling-example/</a></p>\n\n<p>Update:\nUsing validation is persistence layer is not recommended:\n<a href=\"https://twitter.com/odrotbohm/status/1055015506326052865\" rel=\"noreferrer\">https://twitter.com/odrotbohm/status/1055015506326052865</a></p>\n"},{"tags":[],"owner":{"account_id":1304711,"reputation":492,"user_id":1253911,"accept_rate":43,"display_name":"Shibin Francis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612391210,"creation_date":1612391210,"answer_id":66036629,"question_id":19190592,"body_markdown":"    import javax.validation.Validator;\r\n    import javax.validation.ConstraintViolation;\r\n    \r\n    public class{\r\n    \t@Autowired\r\n    \tprivate Validator validator;\r\n           .\r\n           .\r\n        public void validateEmployee(Employee employee){\r\n    \r\n            Set&lt;ConstraintViolation&lt;Employee&gt;&gt; violations = validator.validate(employee);\r\n            if(!violations.isEmpty()) {\r\n                throw new ConstraintViolationException(violations);\r\n            }\r\n        }\r\n    }\r\n\r\nHere, &#39;Employee&#39; is a pojo class and &#39;employee&#39; is it&#39;s object\r\n\r\n","title":"Manually call Spring Annotation Validation","body":"<pre><code>import javax.validation.Validator;\nimport javax.validation.ConstraintViolation;\n\npublic class{\n    @Autowired\n    private Validator validator;\n       .\n       .\n    public void validateEmployee(Employee employee){\n\n        Set&lt;ConstraintViolation&lt;Employee&gt;&gt; violations = validator.validate(employee);\n        if(!violations.isEmpty()) {\n            throw new ConstraintViolationException(violations);\n        }\n    }\n}\n</code></pre>\n<p>Here, 'Employee' is a pojo class and 'employee' is it's object</p>\n"}],"owner":{"account_id":201264,"reputation":1049,"user_id":447603,"accept_rate":90,"display_name":"Ross Hettel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81400,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"accepted_answer_id":19191214,"answer_count":7,"score":71,"last_activity_date":1654699506,"creation_date":1380919917,"question_id":19190592,"body_markdown":"I&#39;m doing a lot of our validation with Hibernate and Spring Annotations like so:\r\n\r\n    public class Account {\r\n        @NotEmpty(groups = {Step1.class, Step2.class})\r\n        private String name;\r\n\r\n        @NotNull(groups = {Step2.class})\r\n        private Long accountNumber;\r\n    \r\n        public interface Step1{}\r\n        public interface Step2{}\r\n    }\r\n\r\nAnd then in the controller it&#39;s called in the arguments:\r\n    \r\n    public String saveAccount(@ModelAttribute @Validated({Account.Step1.class}) Account account, BindingResult result) {\r\n       //some more code and stuff here\r\n       return &quot;&quot;;\r\n    }\r\n\r\n\r\nBut I would like to decide the group used based on some logic in the controller method. Is there a way to call validation manually? Something like `result = account.validate(Account.Step1.class)`?\r\n\r\nI am aware of creating your own Validator class, but that&#39;s something I want to avoid, I would prefer to just use the annotations on the class variables themselves.","title":"Manually call Spring Annotation Validation","body":"<p>I'm doing a lot of our validation with Hibernate and Spring Annotations like so:</p>\n\n<pre><code>public class Account {\n    @NotEmpty(groups = {Step1.class, Step2.class})\n    private String name;\n\n    @NotNull(groups = {Step2.class})\n    private Long accountNumber;\n\n    public interface Step1{}\n    public interface Step2{}\n}\n</code></pre>\n\n<p>And then in the controller it's called in the arguments:</p>\n\n<pre><code>public String saveAccount(@ModelAttribute @Validated({Account.Step1.class}) Account account, BindingResult result) {\n   //some more code and stuff here\n   return \"\";\n}\n</code></pre>\n\n<p>But I would like to decide the group used based on some logic in the controller method. Is there a way to call validation manually? Something like <code>result = account.validate(Account.Step1.class)</code>?</p>\n\n<p>I am aware of creating your own Validator class, but that's something I want to avoid, I would prefer to just use the annotations on the class variables themselves.</p>\n"},{"tags":["java","logging","logback"],"comments":[{"owner":{"account_id":10907051,"reputation":123,"user_id":8017480,"display_name":"shiuu"},"score":0,"creation_date":1600736675,"post_id":62394242,"comment_id":113175285,"body_markdown":"I am experiencing an similar error.","body":"I am experiencing an similar error."},{"owner":{"account_id":14852676,"reputation":304,"user_id":10726103,"display_name":"Jeeva D"},"score":0,"creation_date":1700835035,"post_id":62394242,"comment_id":136705044,"body_markdown":"@AllPower How did you solve this issue? Any help is much appreciated. Thanks","body":"@AllPower How did you solve this issue? Any help is much appreciated. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":19638797,"reputation":73,"user_id":14375452,"display_name":"Nagesha S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612034095,"creation_date":1612032369,"answer_id":65971855,"question_id":62394242,"body_markdown":"You need to create the base folders, as those won&#39;t be created automatically (e.g. `\\var\\log\\app-logs`).  \r\nThen, it will start creating the logger file.","title":"Rolling LogBack - Failed to create parent directories for: [c:\\var...]","body":"<p>You need to create the base folders, as those won't be created automatically (e.g. <code>\\var\\log\\app-logs</code>).<br />\nThen, it will start creating the logger file.</p>\n"},{"tags":[],"owner":{"account_id":15974948,"reputation":127,"user_id":11528102,"display_name":"Mevl&#252;t Beder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1649248555,"creation_date":1649248555,"answer_id":71766858,"question_id":62394242,"body_markdown":"\r\nI solved the problem similar to this problem like this.\r\n\r\n    project\r\n       logs       \r\n      |  test.log      \r\n       src\r\n\r\napplication.yml\r\n\r\n    logging: \r\n    file:\r\n    name: /logs/test.log\r\n\r\nIn this state I get an error.\r\n\r\napplication.yml\r\n\r\n    logging: \r\n    file:\r\n    name: logs/test.log\r\n\r\nI deleted the first slash mark to access the folder.","title":"Rolling LogBack - Failed to create parent directories for: [c:\\var...]","body":"<p>I solved the problem similar to this problem like this.</p>\n<pre><code>project\n   logs       \n  |  test.log      \n   src\n</code></pre>\n<p>application.yml</p>\n<pre><code>logging: \nfile:\nname: /logs/test.log\n</code></pre>\n<p>In this state I get an error.</p>\n<p>application.yml</p>\n<pre><code>logging: \nfile:\nname: logs/test.log\n</code></pre>\n<p>I deleted the first slash mark to access the folder.</p>\n"}],"owner":{"account_id":7190531,"reputation":175,"user_id":5491043,"display_name":"AllPower"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21774,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1654699478,"creation_date":1592244195,"question_id":62394242,"body_markdown":"I just cloned this project, did the maven update, but I&#39;m not able to run the log. And as I have a problem accessing the database, I need to know what&#39;s going on, but I can&#39;t create the log\r\n\r\nthrough the log file it should automatically create, or not?\r\n\r\n\r\nApparently the system cannot find the file where the log should be.\r\n\r\nHow could I solve this:\r\n\r\n    &lt;configuration&gt;\r\n      &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n         &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n             &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %p [%c] - %m%n&lt;/pattern&gt;\r\n         &lt;/encoder&gt;\r\n     &lt;/appender&gt;\r\n\r\n     &lt;appender name=&quot;fileLogger&quot; \r\n     class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;Append&gt;true&lt;/Append&gt;\r\n\r\n        &lt;File&gt;/var/log/app-logs/app.log&lt;/File&gt;\r\n\r\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %p [%c] - %m%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.FixedWindowRollingPolicy&quot;&gt;\r\n            &lt;maxIndex&gt;50&lt;/maxIndex&gt;\r\n            &lt;FileNamePattern&gt;/var/log/app-logs/app.log.%i&lt;/FileNamePattern&gt;\r\n        &lt;/rollingPolicy&gt;\r\n\r\n        &lt;triggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\r\n            &lt;MaxFileSize&gt;20MB&lt;/MaxFileSize&gt;\r\n        &lt;/triggeringPolicy&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;logger name=&quot;br.com.teste.searchio&quot; level=&quot;debug&quot;&gt;\r\n        &lt;appender-ref ref=&quot;console&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;fileLogger&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;logger name=&quot;br.com.teste.searchio.domain.ItemDemanda&quot; level=&quot;debug&quot;&gt;\r\n        &lt;appender-ref ref=&quot;console&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;fileLogger&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;logger name=&quot;br.com.teste.searchio.external.presentation.web.struts.FluxoDadosAction&quot; level=&quot;trace&quot;&gt;\r\n        &lt;appender-ref ref=&quot;console&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;fileLogger&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;logger name=&quot;br.com.teste.searchio.external.presentation.web.WorkflowCompraTela&quot; level=&quot;trace&quot;&gt;\r\n        &lt;appender-ref ref=&quot;console&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;fileLogger&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;root level=&quot;warn&quot;&gt;\r\n        &lt;appender-ref ref=&quot;console&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;fileLogger&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n    &lt;contextListener class=&quot;ch.qos.logback.classic.jul.LevelChangePropagator&quot;&gt;\r\n        &lt;!-- reset all previous level configurations of all j.u.l. loggers --&gt;\r\n        &lt;resetJUL&gt;true&lt;/resetJUL&gt;\r\n    &lt;/contextListener&gt;\r\n\r\n&lt;/configuration&gt;\r\n\r\n    14:34:03,889 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]\r\n    14:34:03,890 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]\r\n    14:34:03,891 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback.xml] at [file:/C:/Users/bwm6/Documents/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/localizae_/WEB-INF/classes/logback.xml]\r\n    14:34:04,042 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - debug attribute not set\r\n    14:34:04,049 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]\r\n    14:34:04,077 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [console]\r\n    14:34:04,204 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.rolling.RollingFileAppender]\r\n    14:34:04,214 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [fileLogger]\r\n    14:34:04,238 |-INFO in ch.qos.logback.core.rolling.FixedWindowRollingPolicy@4f8c8136 - No compression will be used\r\n    14:34:04,239 |-WARN in ch.qos.logback.core.rolling.FixedWindowRollingPolicy@4f8c8136 - Large window sizes are not allowed.\r\n    14:34:04,239 |-WARN in ch.qos.logback.core.rolling.FixedWindowRollingPolicy@4f8c8136 - MaxIndex reduced to 21\r\n    14:34:04,248 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[fileLogger] - Active log file name: /var/log/app-logs/app.log\r\n    14:34:04,248 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[fileLogger] - File property is set to [/var/log/app-logs/app.log]\r\n    14:34:04,253 |-ERROR in ch.qos.logback.core.rolling.RollingFileAppender[fileLogger] - Failed to create parent directories for [C:\\var\\log\\app-logs\\app.log]\r\n    14:34:04,255 |-ERROR in ch.qos.logback.core.rolling.RollingFileAppender[fileLogger] - openFile(/var/log/app-logs/app.log,true) call failed. java.io.FileNotFoundException: \\var\\log\\app-logs\\app.log (O sistema n&#227;o pode encontrar o caminho especificado)\r\n    \tat java.io.FileNotFoundException: \\var\\log\\app-logs\\app.log (O sistema n&#227;o pode encontrar o caminho especificado)\r\n    \tat \tat java.io.FileOutputStream.open0(Native Method)\r\n    \tat \tat java.io.FileOutputStream.open(Unknown Source)\r\n    \tat \tat java.io.FileOutputStream.&lt;init&gt;(Unknown Source)\r\n    \tat \tat ch.qos.logback.core.recovery.ResilientFileOutputStream.&lt;init&gt;(ResilientFileOutputStream.java:26)\r\n    \tat \tat ch.qos.logback.core.FileAppender.openFile(FileAppender.java:204)\r\n    \tat \tat ch.qos.logback.core.FileAppender.start(FileAppender.java:127)\r\n    \tat \tat ch.qos.logback.core.rolling.RollingFileAppender.start(RollingFileAppender.java:100)","title":"Rolling LogBack - Failed to create parent directories for: [c:\\var...]","body":"<p>I just cloned this project, did the maven update, but I'm not able to run the log. And as I have a problem accessing the database, I need to know what's going on, but I can't create the log</p>\n\n<p>through the log file it should automatically create, or not?</p>\n\n<p>Apparently the system cannot find the file where the log should be.</p>\n\n<p>How could I solve this:</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;appender name=\"console\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n     &lt;encoder class=\"ch.qos.logback.classic.encoder.PatternLayoutEncoder\"&gt;\n         &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %p [%c] - %m%n&lt;/pattern&gt;\n     &lt;/encoder&gt;\n &lt;/appender&gt;\n\n &lt;appender name=\"fileLogger\" \n class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n    &lt;Append&gt;true&lt;/Append&gt;\n\n    &lt;File&gt;/var/log/app-logs/app.log&lt;/File&gt;\n\n    &lt;encoder class=\"ch.qos.logback.classic.encoder.PatternLayoutEncoder\"&gt;\n        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %p [%c] - %m%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n\n    &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.FixedWindowRollingPolicy\"&gt;\n        &lt;maxIndex&gt;50&lt;/maxIndex&gt;\n        &lt;FileNamePattern&gt;/var/log/app-logs/app.log.%i&lt;/FileNamePattern&gt;\n    &lt;/rollingPolicy&gt;\n\n    &lt;triggeringPolicy class=\"ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy\"&gt;\n        &lt;MaxFileSize&gt;20MB&lt;/MaxFileSize&gt;\n    &lt;/triggeringPolicy&gt;\n&lt;/appender&gt;\n\n&lt;logger name=\"br.com.teste.searchio\" level=\"debug\"&gt;\n    &lt;appender-ref ref=\"console\"/&gt;\n    &lt;appender-ref ref=\"fileLogger\"/&gt;\n&lt;/logger&gt;\n\n&lt;logger name=\"br.com.teste.searchio.domain.ItemDemanda\" level=\"debug\"&gt;\n    &lt;appender-ref ref=\"console\"/&gt;\n    &lt;appender-ref ref=\"fileLogger\"/&gt;\n&lt;/logger&gt;\n\n&lt;logger name=\"br.com.teste.searchio.external.presentation.web.struts.FluxoDadosAction\" level=\"trace\"&gt;\n    &lt;appender-ref ref=\"console\"/&gt;\n    &lt;appender-ref ref=\"fileLogger\"/&gt;\n&lt;/logger&gt;\n\n&lt;logger name=\"br.com.teste.searchio.external.presentation.web.WorkflowCompraTela\" level=\"trace\"&gt;\n    &lt;appender-ref ref=\"console\"/&gt;\n    &lt;appender-ref ref=\"fileLogger\"/&gt;\n&lt;/logger&gt;\n\n&lt;root level=\"warn\"&gt;\n    &lt;appender-ref ref=\"console\"/&gt;\n    &lt;appender-ref ref=\"fileLogger\"/&gt;\n&lt;/root&gt;\n\n&lt;contextListener class=\"ch.qos.logback.classic.jul.LevelChangePropagator\"&gt;\n    &lt;!-- reset all previous level configurations of all j.u.l. loggers --&gt;\n    &lt;resetJUL&gt;true&lt;/resetJUL&gt;\n&lt;/contextListener&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>14:34:03,889 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]\n14:34:03,890 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]\n14:34:03,891 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback.xml] at [file:/C:/Users/bwm6/Documents/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/localizae_/WEB-INF/classes/logback.xml]\n14:34:04,042 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - debug attribute not set\n14:34:04,049 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]\n14:34:04,077 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [console]\n14:34:04,204 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.rolling.RollingFileAppender]\n14:34:04,214 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [fileLogger]\n14:34:04,238 |-INFO in ch.qos.logback.core.rolling.FixedWindowRollingPolicy@4f8c8136 - No compression will be used\n14:34:04,239 |-WARN in ch.qos.logback.core.rolling.FixedWindowRollingPolicy@4f8c8136 - Large window sizes are not allowed.\n14:34:04,239 |-WARN in ch.qos.logback.core.rolling.FixedWindowRollingPolicy@4f8c8136 - MaxIndex reduced to 21\n14:34:04,248 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[fileLogger] - Active log file name: /var/log/app-logs/app.log\n14:34:04,248 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[fileLogger] - File property is set to [/var/log/app-logs/app.log]\n14:34:04,253 |-ERROR in ch.qos.logback.core.rolling.RollingFileAppender[fileLogger] - Failed to create parent directories for [C:\\var\\log\\app-logs\\app.log]\n14:34:04,255 |-ERROR in ch.qos.logback.core.rolling.RollingFileAppender[fileLogger] - openFile(/var/log/app-logs/app.log,true) call failed. java.io.FileNotFoundException: \\var\\log\\app-logs\\app.log (O sistema no pode encontrar o caminho especificado)\n    at java.io.FileNotFoundException: \\var\\log\\app-logs\\app.log (O sistema no pode encontrar o caminho especificado)\n    at  at java.io.FileOutputStream.open0(Native Method)\n    at  at java.io.FileOutputStream.open(Unknown Source)\n    at  at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)\n    at  at ch.qos.logback.core.recovery.ResilientFileOutputStream.&lt;init&gt;(ResilientFileOutputStream.java:26)\n    at  at ch.qos.logback.core.FileAppender.openFile(FileAppender.java:204)\n    at  at ch.qos.logback.core.FileAppender.start(FileAppender.java:127)\n    at  at ch.qos.logback.core.rolling.RollingFileAppender.start(RollingFileAppender.java:100)\n</code></pre>\n"},{"tags":["java","rundeck"],"answers":[{"tags":[],"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654115041,"creation_date":1654109159,"answer_id":72466709,"question_id":72465380,"body_markdown":"By default, the newest Rundeck versions store the projects in the internal backend (H2 by default, but configurable with a [real database][1] like MySQL-PostgreSQL). \r\n\r\nIf you need the filesystem to store the `resources.xml`/`yml` files just use any path reachable by the `rundeck` user.\r\n\r\n\r\n  [1]: https://docs.rundeck.com/docs/administration/configuration/database/#database-overview","title":"Rundeck - New Project creation and that folder not appears in Rundeck server","body":"<p>By default, the newest Rundeck versions store the projects in the internal backend (H2 by default, but configurable with a <a href=\"https://docs.rundeck.com/docs/administration/configuration/database/#database-overview\" rel=\"nofollow noreferrer\">real database</a> like MySQL-PostgreSQL).</p>\n<p>If you need the filesystem to store the <code>resources.xml</code>/<code>yml</code> files just use any path reachable by the <code>rundeck</code> user.</p>\n"},{"tags":[],"owner":{"account_id":25498411,"reputation":21,"user_id":19292125,"display_name":"Forrest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654699403,"creation_date":1654616161,"answer_id":72534004,"question_id":72465380,"body_markdown":"File Based project are deprecated in 3.4.\r\n\r\nhttps://docs.rundeck.com/docs/upgrading/upgrading-to-rundeck-3.4.html#removed-support-for-file-system-based-project-definitions\r\n\r\nAs [MegaDrive68k][1] mentioned Resource files can still be stored locally for Node Sources.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72465380/rundeck-new-project-creation-and-that-folder-not-appears-in-rundeck-server/72534004#comment128104968_72466709","title":"Rundeck - New Project creation and that folder not appears in Rundeck server","body":"<p>File Based project are deprecated in 3.4.</p>\n<p><a href=\"https://docs.rundeck.com/docs/upgrading/upgrading-to-rundeck-3.4.html#removed-support-for-file-system-based-project-definitions\" rel=\"nofollow noreferrer\">https://docs.rundeck.com/docs/upgrading/upgrading-to-rundeck-3.4.html#removed-support-for-file-system-based-project-definitions</a></p>\n<p>As <a href=\"https://stackoverflow.com/questions/72465380/rundeck-new-project-creation-and-that-folder-not-appears-in-rundeck-server/72534004#comment128104968_72466709\">MegaDrive68k</a> mentioned Resource files can still be stored locally for Node Sources.</p>\n"}],"owner":{"account_id":25038213,"reputation":35,"user_id":18895377,"display_name":"Rajesh V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":2,"score":-1,"last_activity_date":1654699403,"creation_date":1654101661,"question_id":72465380,"body_markdown":"When I am trying to create new Project in the rundeck UI and its not reflecting in Rundeck server project location path. Can someone please suggest to fix this issue.\r\n\r\nRundeck Version: 4.1.0-20220420\r\nLauncher : war\r\nOS: MAC\r\n","title":"Rundeck - New Project creation and that folder not appears in Rundeck server","body":"<p>When I am trying to create new Project in the rundeck UI and its not reflecting in Rundeck server project location path. Can someone please suggest to fix this issue.</p>\n<p>Rundeck Version: 4.1.0-20220420\nLauncher : war\nOS: MAC</p>\n"},{"tags":["java","json","apache-kafka","jackson"],"answers":[{"tags":[],"owner":{"account_id":25384419,"reputation":26,"user_id":19196393,"display_name":""},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654699358,"creation_date":1654678467,"answer_id":72542793,"question_id":72542668,"body_markdown":"try\r\n```\r\nMap&lt;String,List&lt;CommonEventResult&gt;&gt;\r\n ```\r\n","title":"How to deserialize named arrays into objects in Kafka","body":"<p>try</p>\n<pre><code>Map&lt;String,List&lt;CommonEventResult&gt;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654699371,"creation_date":1654697602,"answer_id":72547269,"question_id":72542668,"body_markdown":"You can model your response class with some generic implementation, something like\r\n\r\n```\r\n@JsonFormat(shape = JsonFormat.Shape.ARRAY)\r\n\r\npublic class DataResponse {\r\n\r\n    public String dataResult;\r\n\r\n    public String getDataResult() {\r\n        return dataResult;\r\n    }\r\n}\r\n\r\n\r\nclass GenericResponse implements Response&lt;List&lt;**DataResponse**&gt;&gt; {\r\n\r\n    @JsonIgnore\r\n    public List&lt;DataResponse&gt; data;\r\n\r\n\r\n    @Override\r\n    public List&lt;DataResponse&gt; getData() {\r\n        return data;\r\n    }\r\n```","title":"How to deserialize named arrays into objects in Kafka","body":"<p>You can model your response class with some generic implementation, something like</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.ARRAY)\n\npublic class DataResponse {\n\n    public String dataResult;\n\n    public String getDataResult() {\n        return dataResult;\n    }\n}\n\n\nclass GenericResponse implements Response&lt;List&lt;**DataResponse**&gt;&gt; {\n\n    @JsonIgnore\n    public List&lt;DataResponse&gt; data;\n\n\n    @Override\n    public List&lt;DataResponse&gt; getData() {\n        return data;\n    }\n</code></pre>\n"}],"owner":{"account_id":16149079,"reputation":493,"user_id":12898912,"display_name":"Maksym Rybalkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72547269,"answer_count":2,"score":0,"last_activity_date":1654699371,"creation_date":1654677880,"question_id":72542668,"body_markdown":"Here is the example of my received kafka message:\r\n\r\n    {&quot;target&quot;:[{&quot;timestamp&quot;: &quot;2022-06-20T12:31:46+03:00&quot;, &quot;result&quot;:&quot;fail&quot;, &quot;message&quot;:&quot;Client not found.&quot;}, {&quot;timestamp&quot;: &quot;2022-06-25T12:31:46+03:00&quot;, &quot;result&quot;:&quot;success&quot;}], &quot;xxi&quot;:[{&quot;timestamp&quot;: &quot;2022-06-25T12:31:46+03:00&quot;, &quot;result&quot;:&quot;success&quot;}]}\r\n\r\nHere is the class which is for objects to deserialize from the message \r\n\r\n    public class CommonEventResult {\r\n        @JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n        private LocalDateTime timestamp;\r\n        private String result;\r\n        private String message;\r\n    }\r\nThe main problem that I don&#39;t know what the name of a system will come - `xxi`, `target`, etc.\r\nBut I want to deserialize the message in some `CommonEventResult[]` array or something like that. How can I do it?","title":"How to deserialize named arrays into objects in Kafka","body":"<p>Here is the example of my received kafka message:</p>\n<pre><code>{&quot;target&quot;:[{&quot;timestamp&quot;: &quot;2022-06-20T12:31:46+03:00&quot;, &quot;result&quot;:&quot;fail&quot;, &quot;message&quot;:&quot;Client not found.&quot;}, {&quot;timestamp&quot;: &quot;2022-06-25T12:31:46+03:00&quot;, &quot;result&quot;:&quot;success&quot;}], &quot;xxi&quot;:[{&quot;timestamp&quot;: &quot;2022-06-25T12:31:46+03:00&quot;, &quot;result&quot;:&quot;success&quot;}]}\n</code></pre>\n<p>Here is the class which is for objects to deserialize from the message</p>\n<pre><code>public class CommonEventResult {\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\n    private LocalDateTime timestamp;\n    private String result;\n    private String message;\n}\n</code></pre>\n<p>The main problem that I don't know what the name of a system will come - <code>xxi</code>, <code>target</code>, etc.\nBut I want to deserialize the message in some <code>CommonEventResult[]</code> array or something like that. How can I do it?</p>\n"},{"tags":["java","gitlab","yaml"],"comments":[{"owner":{"account_id":7575391,"reputation":32359,"user_id":5747944,"display_name":"sytech"},"score":0,"creation_date":1654724684,"post_id":72547489,"comment_id":128163256,"body_markdown":"You don&#39;t have any step that downloads your dependencies...","body":"You don&#39;t have any step that downloads your dependencies..."}],"answers":[{"tags":[],"owner":{"account_id":12811781,"reputation":1,"user_id":9269705,"display_name":"Jos&#233; Luis Escobar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654699107,"creation_date":1654699107,"answer_id":72547660,"question_id":72547489,"body_markdown":"In order to build a java artifact (jar or war) using a CI/CD pipeline you must configure your project to use a dependency manager such as Maven, Gradle or Ant. After you configure your project you will be able to define a build script on the YML file to compile all the necessary dependencies into a java artifact.\r\n","title":"GitLab CI: configure YAML file on java project","body":"<p>In order to build a java artifact (jar or war) using a CI/CD pipeline you must configure your project to use a dependency manager such as Maven, Gradle or Ant. After you configure your project you will be able to define a build script on the YML file to compile all the necessary dependencies into a java artifact.</p>\n"}],"owner":{"account_id":23490632,"reputation":646,"user_id":17541709,"display_name":"Fadi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":892,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654699107,"creation_date":1654698425,"question_id":72547489,"body_markdown":"I have the MyJava.Java that represents my whole project. In the past, I used to execute MyJava.Java in eclipse and working well, but now I want to make the process much more automated and execute it using the GitLab runner pipeline. \r\n\r\nmy YAML file is very simple just read the MyJava.Java and execute it. \r\n\r\n``` \r\nbuild:\r\n  stage: build\r\n  only:\r\n      - myBranch\r\n  tags:\r\n    - MyBuilder\r\n  image: openjdk:8-jdk\r\n  script: javac MyPath/MyJava.java\r\n\r\n```\r\n\r\nMyJava has a code and dependency that connected to other files such as this\r\n\r\n``` \r\npackage myfolder.generator;\r\nimport com.google.inject.Inject;\r\nimport com.google.inject.Injector;\r\nimport com.google.inject.Provider;\r\nimport java.util.List;\r\nimport org.eclipse.emf.common.util.URI;\r\n\r\n```\r\n\r\nBut whenever I execute the file it shows an error of every import/package such as:\r\n\r\n```\r\nerror: package com.google.inject does not exist - import com.google.inject.Inject;\r\n\r\n```\r\nAny hint? \r\n\r\n\r\n**The result of executing the MyJava.Javewill generates a jar file that contains the data that I want.  I just mentioned this in case you have another way.**\r\n","title":"GitLab CI: configure YAML file on java project","body":"<p>I have the MyJava.Java that represents my whole project. In the past, I used to execute MyJava.Java in eclipse and working well, but now I want to make the process much more automated and execute it using the GitLab runner pipeline.</p>\n<p>my YAML file is very simple just read the MyJava.Java and execute it.</p>\n<pre><code>build:\n  stage: build\n  only:\n      - myBranch\n  tags:\n    - MyBuilder\n  image: openjdk:8-jdk\n  script: javac MyPath/MyJava.java\n\n</code></pre>\n<p>MyJava has a code and dependency that connected to other files such as this</p>\n<pre><code>package myfolder.generator;\nimport com.google.inject.Inject;\nimport com.google.inject.Injector;\nimport com.google.inject.Provider;\nimport java.util.List;\nimport org.eclipse.emf.common.util.URI;\n\n</code></pre>\n<p>But whenever I execute the file it shows an error of every import/package such as:</p>\n<pre><code>error: package com.google.inject does not exist - import com.google.inject.Inject;\n\n</code></pre>\n<p>Any hint?</p>\n<p><strong>The result of executing the MyJava.Javewill generates a jar file that contains the data that I want.  I just mentioned this in case you have another way.</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13334063,"reputation":4845,"user_id":9624452,"display_name":"Konrad Botor"},"score":0,"creation_date":1531129859,"post_id":51242580,"comment_id":89463999,"body_markdown":"The line of code you provided only gets the path of the file - how are you using this path?","body":"The line of code you provided only gets the path of the file - how are you using this path?"},{"owner":{"account_id":5283951,"reputation":119,"user_id":4218483,"accept_rate":50,"display_name":"Chrix1387"},"score":0,"creation_date":1531131953,"post_id":51242580,"comment_id":89465192,"body_markdown":"My hibernate class needs the path of the file for reading the structure of my mapped JPA","body":"My hibernate class needs the path of the file for reading the structure of my mapped JPA"},{"owner":{"account_id":13334063,"reputation":4845,"user_id":9624452,"display_name":"Konrad Botor"},"score":0,"creation_date":1531133138,"post_id":51242580,"comment_id":89465806,"body_markdown":"Can you provide the code of your hibernate class?","body":"Can you provide the code of your hibernate class?"}],"answers":[{"tags":[],"owner":{"account_id":939476,"reputation":2581,"user_id":967808,"accept_rate":10,"display_name":"Thiru"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531130395,"creation_date":1531129960,"answer_id":51242666,"question_id":51242580,"body_markdown":"Could you please try this:\r\n\r\n    ClassLoader classLoader = getClass().getClassLoader();\r\n    File file = new File(classLoader.getResource(&quot;fileName&quot;).getFile());\r\n\r\n","title":"Jar is not loading resources file","body":"<p>Could you please try this:</p>\n\n<pre><code>ClassLoader classLoader = getClass().getClassLoader();\nFile file = new File(classLoader.getResource(\"fileName\").getFile());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":265971,"reputation":12313,"user_id":553279,"display_name":"fdreger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531130827,"creation_date":1531130827,"answer_id":51242943,"question_id":51242580,"body_markdown":"Most likely, the file is absent from the jar you create. There&#39;s too little information in your question, but I will try a guess:\r\n\r\nYour hibernate.cgf.xml resides in the same directory as the Java sourcefles, and you are using a build tool (be it IDE, maven, gradle or an ant script) that expects resources to be stored in a separate directory.\r\n\r\nIt&#39;s easy to check: try to unzip your jar and see if the file is there (use any tool, you can just change the extension from .jar to .zip). I think you will see the file is absent.\r\n\r\nThen come back with a question: &quot;how to pack my non-java resources into a jar, using XXX&quot;, where XXX will be the name of the techology you are using for building the jar.\r\n\r\n","title":"Jar is not loading resources file","body":"<p>Most likely, the file is absent from the jar you create. There's too little information in your question, but I will try a guess:</p>\n\n<p>Your hibernate.cgf.xml resides in the same directory as the Java sourcefles, and you are using a build tool (be it IDE, maven, gradle or an ant script) that expects resources to be stored in a separate directory.</p>\n\n<p>It's easy to check: try to unzip your jar and see if the file is there (use any tool, you can just change the extension from .jar to .zip). I think you will see the file is absent.</p>\n\n<p>Then come back with a question: \"how to pack my non-java resources into a jar, using XXX\", where XXX will be the name of the techology you are using for building the jar.</p>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531131845,"creation_date":1531131845,"answer_id":51243282,"question_id":51242580,"body_markdown":"Most probably the slash in `&quot;/hibernate.cgf.xml&quot;` is not needed, if the `hibernate.cgf.xml` is in the same package as you class HibernateUtil.\r\n\r\nYou can access the file actually also via the classloader using the full path. Yet you never add to it the first slash.\r\n\r\nHere is some code demonstrating how you can access the file using different methods:\r\n\r\n    public static void main(String[] args) {\r\n        // Accessing via class\r\n        System.out.println(SimpleTests.class.getResource(&quot;hibernate.cgf.xml&quot;).getPath());\r\n        // Accessing via classloader from the current thread\r\n        String path = Thread.currentThread().getContextClassLoader()\r\n                .getResource(&quot;simple/hibernate.cgf.xml&quot;).getPath();\r\n        System.out.println(path);\r\n        // Accessing via classloader used by the current class\r\n        System.out.println(SimpleTests.class.getClassLoader().getResource(&quot;simple/hibernate.cgf.xml&quot;).getPath());\r\n    }\r\n\r\nIn the example above the package &#39;simple&#39; should be replaced by the package where your `hibernate.cgf.xml` is. But you should never have the slash at the beginning of the package declaration.","title":"Jar is not loading resources file","body":"<p>Most probably the slash in <code>\"/hibernate.cgf.xml\"</code> is not needed, if the <code>hibernate.cgf.xml</code> is in the same package as you class HibernateUtil.</p>\n\n<p>You can access the file actually also via the classloader using the full path. Yet you never add to it the first slash.</p>\n\n<p>Here is some code demonstrating how you can access the file using different methods:</p>\n\n<pre><code>public static void main(String[] args) {\n    // Accessing via class\n    System.out.println(SimpleTests.class.getResource(\"hibernate.cgf.xml\").getPath());\n    // Accessing via classloader from the current thread\n    String path = Thread.currentThread().getContextClassLoader()\n            .getResource(\"simple/hibernate.cgf.xml\").getPath();\n    System.out.println(path);\n    // Accessing via classloader used by the current class\n    System.out.println(SimpleTests.class.getClassLoader().getResource(\"simple/hibernate.cgf.xml\").getPath());\n}\n</code></pre>\n\n<p>In the example above the package 'simple' should be replaced by the package where your <code>hibernate.cgf.xml</code> is. But you should never have the slash at the beginning of the package declaration.</p>\n"},{"tags":[],"owner":{"account_id":13334063,"reputation":4845,"user_id":9624452,"display_name":"Konrad Botor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654698943,"creation_date":1531135779,"answer_id":51244510,"question_id":51242580,"body_markdown":"I cannot say for ceratin that this is the issue without knowing how exactly you use the path extracted by:\r\n\r\n    HibernateUtil.class.getResource(&quot;/hibernate.cgf.xml&quot;).getPath()\r\n\r\nbut I can tell you this:\r\n\r\nRun from an IDE the above line of code will return:\r\n\r\n    /path/to/project/src/main/resources/hibernate.cgf.xml\r\n\r\nwhich is a valid filesystem path. You can then use this path to, for example, create an instance of `File` class and then use that instance to read the file contents.\r\n\r\nHowever the same line of code run from inside a jar file will return:\r\n\r\n    file:/path/to/jar/jar_name.jar!/hibernate.cgf.xml\r\n\r\nwhich is not a valid filesystem path. If you create an instance of `File` class using this path and then try to read the contents of the file you&#39;ll get an exception: `java.io.FileNotFoundExeption`\r\n\r\nTo read the contents of the file from inside of a jar you should use method `Class.getResourceAsStream(String)`, which will return an instance of class `sun.net.www.protocol.jar.JarURLConnection.JarURLInputStream` (or equivalent in non-Oracle or non-OpenJDK Java). You can then use this object to read the contents of the file. For example:\r\n\r\n    InputStream inputStream = HibernateUtil.class.getResourceAsStream(&quot;/hibernate.cgf.xml&quot;);\r\n    Scanner scanner = new Scanner(inputStream).useDelimiter(&quot;\\\\A&quot;);\r\n    String fileContents = scanner.hasNext() ? sscanner.next() : &quot;&quot;;\r\n\r\n","title":"Jar is not loading resources file","body":"<p>I cannot say for ceratin that this is the issue without knowing how exactly you use the path extracted by:</p>\n<pre><code>HibernateUtil.class.getResource(&quot;/hibernate.cgf.xml&quot;).getPath()\n</code></pre>\n<p>but I can tell you this:</p>\n<p>Run from an IDE the above line of code will return:</p>\n<pre><code>/path/to/project/src/main/resources/hibernate.cgf.xml\n</code></pre>\n<p>which is a valid filesystem path. You can then use this path to, for example, create an instance of <code>File</code> class and then use that instance to read the file contents.</p>\n<p>However the same line of code run from inside a jar file will return:</p>\n<pre><code>file:/path/to/jar/jar_name.jar!/hibernate.cgf.xml\n</code></pre>\n<p>which is not a valid filesystem path. If you create an instance of <code>File</code> class using this path and then try to read the contents of the file you'll get an exception: <code>java.io.FileNotFoundExeption</code></p>\n<p>To read the contents of the file from inside of a jar you should use method <code>Class.getResourceAsStream(String)</code>, which will return an instance of class <code>sun.net.www.protocol.jar.JarURLConnection.JarURLInputStream</code> (or equivalent in non-Oracle or non-OpenJDK Java). You can then use this object to read the contents of the file. For example:</p>\n<pre><code>InputStream inputStream = HibernateUtil.class.getResourceAsStream(&quot;/hibernate.cgf.xml&quot;);\nScanner scanner = new Scanner(inputStream).useDelimiter(&quot;\\\\A&quot;);\nString fileContents = scanner.hasNext() ? sscanner.next() : &quot;&quot;;\n</code></pre>\n"}],"owner":{"account_id":5283951,"reputation":119,"user_id":4218483,"accept_rate":50,"display_name":"Chrix1387"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1368,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1654698943,"creation_date":1531129631,"question_id":51242580,"body_markdown":"I have a project with a folder &quot;src/main/resources&quot; where inside there is the hibernate configuration file, I load it using this line of code\r\n\r\n    HibernateUtil.class.getResource(&quot;/hibernate.cgf.xml&quot;).getPath()\r\n\r\nFrom inside the IDE it is working well, but when I create the jar it doesn&#39;t file the file.\r\n\r\nHow can I load it properly in the jar file too?\r\n\r\nThanks","title":"Jar is not loading resources file","body":"<p>I have a project with a folder \"src/main/resources\" where inside there is the hibernate configuration file, I load it using this line of code</p>\n\n<pre><code>HibernateUtil.class.getResource(\"/hibernate.cgf.xml\").getPath()\n</code></pre>\n\n<p>From inside the IDE it is working well, but when I create the jar it doesn't file the file.</p>\n\n<p>How can I load it properly in the jar file too?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":11250566,"reputation":138,"user_id":8251780,"display_name":"Andrei Shpakovskiy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654698935,"creation_date":1654698935,"answer_id":72547618,"question_id":72547188,"body_markdown":"There is no way to launch activity by name, but your task still can be implemented, if you put classes with their names in Map.\r\n\r\n    Map&lt;String, Class&gt; activities = new HashMap&lt;String, Class&gt;() {{\r\n        put(&quot;DollarActivity&quot;, DollarActivity.class);\r\n        put(&quot;DynamicPercentActivity&quot;, DynamicPercentActivity.class);\r\n        put(&quot;StaticPercentActivity&quot;, StaticPercentActivity.class);\r\n    }};\r\n    ...\r\n    new Intent(this, activities.get(nameFromPreferences));\r\n\r\nAnyway, I definitely recommend you to think again of the task you are trying to solve and find better solution.","title":"How do you make a class varible in an Intent: Intent intent = new Intent(getApplicationContext().this, variable.class);","body":"<p>There is no way to launch activity by name, but your task still can be implemented, if you put classes with their names in Map.</p>\n<pre><code>Map&lt;String, Class&gt; activities = new HashMap&lt;String, Class&gt;() {{\n    put(&quot;DollarActivity&quot;, DollarActivity.class);\n    put(&quot;DynamicPercentActivity&quot;, DynamicPercentActivity.class);\n    put(&quot;StaticPercentActivity&quot;, StaticPercentActivity.class);\n}};\n...\nnew Intent(this, activities.get(nameFromPreferences));\n</code></pre>\n<p>Anyway, I definitely recommend you to think again of the task you are trying to solve and find better solution.</p>\n"}],"owner":{"account_id":19025483,"reputation":13,"user_id":13888637,"display_name":"Michael Magee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654698935,"creation_date":1654697276,"question_id":72547188,"body_markdown":"I created a &quot;Settings Activity&quot; which has a radio button group with three buttons.  Each button is coded to pass a different string to sharedPreferences.  Each string is the name of an Activity in the project.\r\n1.)  DollarActivity\r\n2.)  DynamicPercentActivity\r\n3.)  StaticPercentActivity\r\n\r\n(I used the Device File Explorer to confirm the string are being saved to sharedPreferences successfully)\r\n\r\nMy idea was to retrieve the string data saved to sharePreferences and replace varActivity which forms part of the Intent below.\r\n\r\n\tIntent intent = new Intent(getApplicationContext().this, varActivity.class);\r\n\tstartActivity(intent);\r\n\r\nI tried to create a variable &quot;varActivity&quot; which retieve the relevant string from sharedPreferences, however it did not work. Android Studio prompted me to create class varActivity or innerclass varActivity or interface varActivity.  I tried to the create  class approach, however this effort created additions problems to be solved (public static void / public void compatibility issues between Activities).\r\n\r\nIs there some way retrieve the string from sharePreferences and replace varActivity with the new string data. ","title":"How do you make a class varible in an Intent: Intent intent = new Intent(getApplicationContext().this, variable.class);","body":"<p>I created a &quot;Settings Activity&quot; which has a radio button group with three buttons.  Each button is coded to pass a different string to sharedPreferences.  Each string is the name of an Activity in the project.\n1.)  DollarActivity\n2.)  DynamicPercentActivity\n3.)  StaticPercentActivity</p>\n<p>(I used the Device File Explorer to confirm the string are being saved to sharedPreferences successfully)</p>\n<p>My idea was to retrieve the string data saved to sharePreferences and replace varActivity which forms part of the Intent below.</p>\n<pre><code>Intent intent = new Intent(getApplicationContext().this, varActivity.class);\nstartActivity(intent);\n</code></pre>\n<p>I tried to create a variable &quot;varActivity&quot; which retieve the relevant string from sharedPreferences, however it did not work. Android Studio prompted me to create class varActivity or innerclass varActivity or interface varActivity.  I tried to the create  class approach, however this effort created additions problems to be solved (public static void / public void compatibility issues between Activities).</p>\n<p>Is there some way retrieve the string from sharePreferences and replace varActivity with the new string data.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8713,"page":1279,"page_size":100}
