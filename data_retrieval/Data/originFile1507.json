{"items":[{"tags":["java","groovy","jmeter","beanshell","jsr223"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647586906,"creation_date":1647586906,"answer_id":71523432,"question_id":71523278,"body_markdown":"If you want to **move** the file I would rather suggest using [File.renameTo()][1] function like:\r\n\r\n    def sourceFile = new File(&#39;C:/Work/test.xml&#39;)\r\n    def destinationFile = new File(&#39;M:/temp/test.xml&#39;)\r\n\r\n    def success = sourceFile.renameTo(destinationFile)\r\n\r\n    if (success) {\r\n        log.info(&#39;File has been successfully moved&#39;)\r\n    }\r\n    else {\r\n        log.error(&#39;Failed to move the file&#39;)\r\n    }\r\n\r\n\r\nIf you&#39;re looking for an alternative approach it could be using [OS Process Sampler][2] and invoking [`move` command][3] from there\r\n\r\nAlso check [jmeter.log file][4] for any suspicious entries, if Groovy script fails somewhere somehow most probably you will be able to find the reason or explanation there \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/File.html#renameTo(java.io.File)\r\n  [2]: https://www.blazemeter.com/blog/how-run-external-commands-and-programs-locally-and-remotely-jmeter\r\n  [3]: https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/move\r\n  [4]: https://jmeter.apache.org/usermanual/get-started.html#logging","title":"JMeter: Groovy code for moving files from one directory to another stopped working. Any better approaches?","body":"<p>If you want to <strong>move</strong> the file I would rather suggest using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#renameTo(java.io.File)\" rel=\"nofollow noreferrer\">File.renameTo()</a> function like:</p>\n<pre><code>def sourceFile = new File('C:/Work/test.xml')\ndef destinationFile = new File('M:/temp/test.xml')\n\ndef success = sourceFile.renameTo(destinationFile)\n\nif (success) {\n    log.info('File has been successfully moved')\n}\nelse {\n    log.error('Failed to move the file')\n}\n</code></pre>\n<p>If you're looking for an alternative approach it could be using <a href=\"https://www.blazemeter.com/blog/how-run-external-commands-and-programs-locally-and-remotely-jmeter\" rel=\"nofollow noreferrer\">OS Process Sampler</a> and invoking <a href=\"https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/move\" rel=\"nofollow noreferrer\"><code>move</code> command</a> from there</p>\n<p>Also check <a href=\"https://jmeter.apache.org/usermanual/get-started.html#logging\" rel=\"nofollow noreferrer\">jmeter.log file</a> for any suspicious entries, if Groovy script fails somewhere somehow most probably you will be able to find the reason or explanation there</p>\n"}],"owner":{"account_id":22664498,"reputation":13,"user_id":16837071,"display_name":"theartsycoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71523432,"answer_count":1,"score":0,"last_activity_date":1647586906,"creation_date":1647585514,"question_id":71523278,"body_markdown":"I had used the below mentioned Groovy code in the JSR223 Sampler to move my file from one directory to another. This was working until a few days back, now it no longer does. Any suggestions on how to get it working? \r\nAlso, I tried using a Beanshell sampler to perform the same task, but was not successful with that as well. Open to alternative approaches. Thanks in advance.\r\n\r\n*Groovy Code in JSR223 Sampler:*\r\n\r\n    def sourceFile = new File(&#39;C:/Work/test.xml&#39;)\r\n    def destinationFile = new File(&#39;M:/temp/test.xml&#39;)\r\n    destinationFile &lt;&lt; sourceFile.text\r\n\r\n*Java code in Beanshell Sampler:*\r\n\r\n    import org.apache.commons.io.FileUtils;\r\n    \r\n    File sourceFile = new File(&#39;C:/Work/test.xml&#39;);\r\n    File destinationFile = new File(&#39;M:/temp/test.xml&#39;);\r\n    FileUtils.copyFile(sourceFile, destinationFile);\r\n\r\n","title":"JMeter: Groovy code for moving files from one directory to another stopped working. Any better approaches?","body":"<p>I had used the below mentioned Groovy code in the JSR223 Sampler to move my file from one directory to another. This was working until a few days back, now it no longer does. Any suggestions on how to get it working?\nAlso, I tried using a Beanshell sampler to perform the same task, but was not successful with that as well. Open to alternative approaches. Thanks in advance.</p>\n<p><em>Groovy Code in JSR223 Sampler:</em></p>\n<pre><code>def sourceFile = new File('C:/Work/test.xml')\ndef destinationFile = new File('M:/temp/test.xml')\ndestinationFile &lt;&lt; sourceFile.text\n</code></pre>\n<p><em>Java code in Beanshell Sampler:</em></p>\n<pre><code>import org.apache.commons.io.FileUtils;\n\nFile sourceFile = new File('C:/Work/test.xml');\nFile destinationFile = new File('M:/temp/test.xml');\nFileUtils.copyFile(sourceFile, destinationFile);\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1647554927,"post_id":71519542,"comment_id":126407438,"body_markdown":"Label the loop from which you want to break, and use a break-with-label (a.k.a. a &quot;labelled break&quot;).","body":"Label the loop from which you want to break, and use a break-with-label (a.k.a. a &quot;labelled break&quot;)."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1647555211,"post_id":71519542,"comment_id":126407501,"body_markdown":"Note: you seem to be getting your &quot;inner&quot; and &quot;outer&quot; mixed up.  In the code presented, the `switch` statement is inside the *inner* (which is also inner*most*) loop, and I suspect from your description that it is that loop, not the outer one, from which you want to break.","body":"Note: you seem to be getting your &quot;inner&quot; and &quot;outer&quot; mixed up.  In the code presented, the <code>switch</code> statement is inside the <i>inner</i> (which is also inner<i>most</i>) loop, and I suspect from your description that it is that loop, not the outer one, from which you want to break."},{"owner":{"account_id":24594377,"reputation":3,"user_id":18497787,"display_name":"kekbaui"},"score":0,"creation_date":1647555312,"post_id":71519542,"comment_id":126407523,"body_markdown":"thank you all, i didnot know, that we can use labels!","body":"thank you all, i didnot know, that we can use labels!"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1647555360,"post_id":71519542,"comment_id":126407534,"body_markdown":"A labelled break is one option.  When I encounter this kind of thing though, I prefer to refactor the whole lot into a new method, and use `return`.","body":"A labelled break is one option.  When I encounter this kind of thing though, I prefer to refactor the whole lot into a new method, and use <code>return</code>."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1647587103,"post_id":71519542,"comment_id":126412933,"body_markdown":"(@Ivar: not quite, I guess. The trick here is to continue an outer loop from the top.)","body":"(@Ivar: not quite, I guess. The trick here is to continue an outer loop from the top.)"}],"answers":[{"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647556758,"creation_date":1647555111,"answer_id":71519618,"question_id":71519542,"body_markdown":"you can use label:\r\n\r\n  \r\n\r\n    first :for (int i = 0; i &lt; args.length; i++) {\r\n\t\tsecond : for (int j = 0; j &lt; args.length; j++) {\r\n\t\t\tswitch (j) {\r\n\t\t\tcase 1:\r\n\r\n\t\t\t\tbreak second;// use this for breaking the second loop or use \r\n\t\t\t\t//continue first; // to break the second and continue the first\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"how do I break the outermost for-loop in a switch in a nested for-loop?","body":"<p>you can use label:</p>\n<pre><code>first :for (int i = 0; i &lt; args.length; i++) {\n    second : for (int j = 0; j &lt; args.length; j++) {\n        switch (j) {\n        case 1:\n\n            break second;// use this for breaking the second loop or use \n            //continue first; // to break the second and continue the first\n        default:\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647557289,"creation_date":1647556002,"answer_id":71519749,"question_id":71519542,"body_markdown":"As I am not certain exactly what you consider `first` I labelled both.  The following will continue the next iteration of the outer loop.\r\n```\r\nouter:\r\nfor () {\r\n   inner:\r\n   for () {\r\n       switch() {\r\n       case 1:\r\n         continue outer;  // or break inner;\r\n       }\r\n   }\r\n}\r\n```\r\nNote that the in the case of `break inner;`, the label must be still be included since `break;` would simply break out of the `switch block`.","title":"how do I break the outermost for-loop in a switch in a nested for-loop?","body":"<p>As I am not certain exactly what you consider <code>first</code> I labelled both.  The following will continue the next iteration of the outer loop.</p>\n<pre><code>outer:\nfor () {\n   inner:\n   for () {\n       switch() {\n       case 1:\n         continue outer;  // or break inner;\n       }\n   }\n}\n</code></pre>\n<p>Note that the in the case of <code>break inner;</code>, the label must be still be included since <code>break;</code> would simply break out of the <code>switch block</code>.</p>\n"}],"owner":{"account_id":24594377,"reputation":3,"user_id":18497787,"display_name":"kekbaui"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1647587304,"accepted_answer_id":71519749,"answer_count":2,"score":-1,"last_activity_date":1647586879,"creation_date":1647554559,"question_id":71519542,"body_markdown":"I have two for loops and in the innermost for loop I have a switch. And is it possible that in one case of the switch, the entire trip through the outermost loop should be aborted, so that one goes over to the next value automatically, for example, the outermost loop is at the 1 pass and with the command in the switch, I come to the second pass, is that possible?\r\n\r\n**With `break` it will not work, do you have any ideas?**\r\n\r\nexample:\r\n\r\n    for (){\r\n\t  for (){\r\n\t\tswitch(){\r\n\t\tcase 1:\r\n\t\t//now I want to break here the inner loop, to go 1 step further, by the outer loop\r\n\t\t}\r\n\t  }\r\n      // do something not wanted in case 1\r\n    }","title":"how do I break the outermost for-loop in a switch in a nested for-loop?","body":"<p>I have two for loops and in the innermost for loop I have a switch. And is it possible that in one case of the switch, the entire trip through the outermost loop should be aborted, so that one goes over to the next value automatically, for example, the outermost loop is at the 1 pass and with the command in the switch, I come to the second pass, is that possible?</p>\n<p><strong>With <code>break</code> it will not work, do you have any ideas?</strong></p>\n<p>example:</p>\n<pre><code>for (){\n  for (){\n    switch(){\n    case 1:\n    //now I want to break here the inner loop, to go 1 step further, by the outer loop\n    }\n  }\n  // do something not wanted in case 1\n}\n</code></pre>\n"},{"tags":["java","json","object","gson"],"comments":[{"owner":{"account_id":13698925,"reputation":45,"user_id":9884707,"display_name":"user9884707"},"score":0,"creation_date":1527933928,"post_id":50655669,"comment_id":88321492,"body_markdown":"I did look for it on Google, couldn&#39;t understand find anything.","body":"I did look for it on Google, couldn&#39;t understand find anything."}],"answers":[{"tags":[],"owner":{"account_id":2431430,"reputation":2554,"user_id":2122230,"display_name":"nandal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527934601,"creation_date":1527934234,"answer_id":50655776,"question_id":50655669,"body_markdown":"Try the following:-\r\n    \r\n\r\n    String jsonListString = &quot;[{\\&quot;varkey1\\&quot;:1,\\&quot;othervarkey\\&quot;:1},{\\&quot;varkey1\\&quot;:6,\\&quot;othervarkey\\&quot;:2},{\\&quot;varkey1\\&quot;:3,\\&quot;othervarkey\\&quot;:3},{\\&quot;varkey1\\&quot;:12,\\&quot;othervarkey\\&quot;:4},{\\&quot;varkey1\\&quot;:998,\\&quot;othervarkey\\&quot;:5}]&quot;;\r\n    JSONArray jsonArray = new JSONArray(jsonListString);\r\n\t\t\r\n\t// Create Java ArrayList from JSON Array\r\n\tArrayList&lt;JSONObject&gt; array = new ArrayList&lt;JSONObject&gt;();\r\n\tfor (int i = 0; i &lt; jsonArray.length(); i++) {\r\n\t   try {\r\n\t       array.add(jsonArray.getJSONObject(i));\r\n\t   } catch (JSONException e) {\r\n\t      // TODO Auto-generated catch block\r\n\t      e.printStackTrace();\r\n\t   }\r\n\t}   \r\n\r\n\t// Sort the Java Array List\r\n\tCollections.sort(array, new Comparator&lt;JSONObject&gt;() {\r\n\r\n\t    @Override\r\n\t    public int compare(JSONObject lhs, JSONObject rhs) {\r\n\t         // TODO Auto-generated method stub\r\n\r\n\t        try {\r\n\t            return (lhs.getInt(&quot;varkey1&quot;).compareTo(rhs.getInt(&quot;varkey1&quot;)));\r\n\t        } catch (JSONException e) {\r\n\t            // TODO Auto-generated catch block\r\n\t            e.printStackTrace();\r\n\t            return 0;\r\n\t        }\r\n\t    }\r\n    });\r\n\t\t\r\n\r\n    // convert Java Array List to JSON Array and then to String representation.\r\n\tjsonArray = new JSONArray(array);\r\n\tjsonListString = jsonArray.toString();\r\n\r\nThis code:-\r\n\r\n1. Creates JSONArray from String.\r\n\r\n2. Creates Java ArrayList from JSONArray.\r\n\r\n3. Sort Java ArrayList using Collections.sort()\r\n\r\n4. Then Create JSONArray from Java ArrayList.\r\n\r\n5. Then return JSONArray as JSON String representation.","title":"Sort JsonArray by variable key using GSON","body":"<p>Try the following:-</p>\n\n<pre><code>String jsonListString = \"[{\\\"varkey1\\\":1,\\\"othervarkey\\\":1},{\\\"varkey1\\\":6,\\\"othervarkey\\\":2},{\\\"varkey1\\\":3,\\\"othervarkey\\\":3},{\\\"varkey1\\\":12,\\\"othervarkey\\\":4},{\\\"varkey1\\\":998,\\\"othervarkey\\\":5}]\";\nJSONArray jsonArray = new JSONArray(jsonListString);\n\n// Create Java ArrayList from JSON Array\nArrayList&lt;JSONObject&gt; array = new ArrayList&lt;JSONObject&gt;();\nfor (int i = 0; i &lt; jsonArray.length(); i++) {\n   try {\n       array.add(jsonArray.getJSONObject(i));\n   } catch (JSONException e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n   }\n}   \n\n// Sort the Java Array List\nCollections.sort(array, new Comparator&lt;JSONObject&gt;() {\n\n    @Override\n    public int compare(JSONObject lhs, JSONObject rhs) {\n         // TODO Auto-generated method stub\n\n        try {\n            return (lhs.getInt(\"varkey1\").compareTo(rhs.getInt(\"varkey1\")));\n        } catch (JSONException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n            return 0;\n        }\n    }\n});\n\n\n// convert Java Array List to JSON Array and then to String representation.\njsonArray = new JSONArray(array);\njsonListString = jsonArray.toString();\n</code></pre>\n\n<p>This code:-</p>\n\n<ol>\n<li><p>Creates JSONArray from String.</p></li>\n<li><p>Creates Java ArrayList from JSONArray.</p></li>\n<li><p>Sort Java ArrayList using Collections.sort()</p></li>\n<li><p>Then Create JSONArray from Java ArrayList.</p></li>\n<li><p>Then return JSONArray as JSON String representation.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1528036720,"creation_date":1528036720,"answer_id":50667533,"question_id":50655669,"body_markdown":"Well, you could just implement a sorting algorithm that could be specialized for Gson `JsonElement`s.\r\nIf not, you could just re-use standard `Collections.sort(...)` that can merely do the job for you.\r\nFor some reason, `JsonArray` implements `Iterable` and not `List` where the latter can be sorted with `Collection.sort`.\r\nSo, a custom `JsonArray`-to-`List` is required:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tfinal class JsonArrayList\r\n\t\t\textends AbstractList&lt;JsonElement&gt; {\r\n\r\n\t\tprivate final JsonArray jsonArray;\r\n\r\n\t\tprivate JsonArrayList(final JsonArray jsonArray) {\r\n\t\t\tthis.jsonArray = jsonArray;\r\n\t\t}\r\n\r\n\t\tstatic List&lt;JsonElement&gt; of(final JsonArray jsonArray) {\r\n\t\t\treturn new JsonArrayList(jsonArray);\r\n\t\t}\r\n\r\n\t\t// This method is required when implementing AbstractList\r\n\t\t@Override\r\n\t\tpublic JsonElement get(final int index) {\r\n\t\t\treturn jsonArray.get(index);\r\n\t\t}\r\n\r\n\t\t// This method is required when implementing AbstractList as well\r\n\t\t@Override\r\n\t\tpublic int size() {\r\n\t\t\treturn jsonArray.size();\r\n\t\t}\r\n\r\n\t\t// And this one is required to make the list implementation modifiable\r\n\t\t@Override\r\n\t\tpublic JsonElement set(final int index, final JsonElement element) {\r\n\t\t\treturn jsonArray.set(index, element);\r\n\t\t}\r\n\r\n\t}\r\n\r\nNow, the rest is simple:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\t// No even need of Gson instantiation\r\n\tfinal JsonArray jsonArray = new JsonParser()\r\n\t\t\t.parse(jsonReader)\r\n\t\t\t.getAsJsonArray();\r\n\t// Create a JsonArray to a List view instance\r\n\tfinal List&lt;JsonElement&gt; jsonElements = JsonArrays.asList(jsonArray);\r\n\t// Sorting the jsonElements object\r\n\tCollections.sort(jsonElements, (e1, e2) -&gt; {\r\n\t\tfinal int i1 = e1.getAsJsonObject().get(&quot;varkey1&quot;).getAsInt();\r\n\t\tfinal int i2 = e2.getAsJsonObject().get(&quot;varkey1&quot;).getAsInt();\r\n\t\treturn Integer.compare(i1, i2);\r\n\t});\r\n\r\nSince the `jsonElements` is just a view for `jsonArray`, `jsonArray` is actually sorted.","title":"Sort JsonArray by variable key using GSON","body":"<p>Well, you could just implement a sorting algorithm that could be specialized for Gson <code>JsonElement</code>s.\nIf not, you could just re-use standard <code>Collections.sort(...)</code> that can merely do the job for you.\nFor some reason, <code>JsonArray</code> implements <code>Iterable</code> and not <code>List</code> where the latter can be sorted with <code>Collection.sort</code>.\nSo, a custom <code>JsonArray</code>-to-<code>List</code> is required:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final class JsonArrayList\n        extends AbstractList&lt;JsonElement&gt; {\n\n    private final JsonArray jsonArray;\n\n    private JsonArrayList(final JsonArray jsonArray) {\n        this.jsonArray = jsonArray;\n    }\n\n    static List&lt;JsonElement&gt; of(final JsonArray jsonArray) {\n        return new JsonArrayList(jsonArray);\n    }\n\n    // This method is required when implementing AbstractList\n    @Override\n    public JsonElement get(final int index) {\n        return jsonArray.get(index);\n    }\n\n    // This method is required when implementing AbstractList as well\n    @Override\n    public int size() {\n        return jsonArray.size();\n    }\n\n    // And this one is required to make the list implementation modifiable\n    @Override\n    public JsonElement set(final int index, final JsonElement element) {\n        return jsonArray.set(index, element);\n    }\n\n}\n</code></pre>\n\n<p>Now, the rest is simple:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// No even need of Gson instantiation\nfinal JsonArray jsonArray = new JsonParser()\n        .parse(jsonReader)\n        .getAsJsonArray();\n// Create a JsonArray to a List view instance\nfinal List&lt;JsonElement&gt; jsonElements = JsonArrays.asList(jsonArray);\n// Sorting the jsonElements object\nCollections.sort(jsonElements, (e1, e2) -&gt; {\n    final int i1 = e1.getAsJsonObject().get(\"varkey1\").getAsInt();\n    final int i2 = e2.getAsJsonObject().get(\"varkey1\").getAsInt();\n    return Integer.compare(i1, i2);\n});\n</code></pre>\n\n<p>Since the <code>jsonElements</code> is just a view for <code>jsonArray</code>, <code>jsonArray</code> is actually sorted.</p>\n"},{"tags":[],"owner":{"account_id":14079119,"reputation":541,"user_id":10170629,"display_name":"Gayan Chinthaka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647586648,"creation_date":1647586648,"answer_id":71523400,"question_id":50655669,"body_markdown":"This will return the sorted json. Used the gson library. \r\n\r\npass the Args: 1. jsonArray,   2. &quot;othervarkey&quot;\r\n\r\n    private static JsonArray JsonObjectSort(final JsonArray jsonArray, final String sortBy) {\r\n\t\tfinal JsonArray sortedArray = new JsonArray();\r\n\t\tfinal ArrayList&lt;JsonObject&gt; listJsonObj = new ArrayList&lt;&gt;();\r\n\t\tfor (int i = 0; i &lt; jsonArray.size(); i++) {\r\n\t\t\tlistJsonObj.add((JsonObject) jsonArray.get(i));\r\n\t\t}\r\n\r\n\t\tCollections.sort(listJsonObj,\r\n\t\t\t\t(o1, o2) -&gt; o1.get(sortBy).getAsString().compareToIgnoreCase(o2.get(sortBy).getAsString()));\r\n\r\n\t\tfor (int i = 0; i &lt; jsonArray.size(); i++) {\r\n\t\t\tsortedArray.add(listJsonObj.get(i));\r\n\t\t}\r\n\t\treturn sortedArray;\r\n\t}","title":"Sort JsonArray by variable key using GSON","body":"<p>This will return the sorted json. Used the gson library.</p>\n<p>pass the Args: 1. jsonArray,   2. &quot;othervarkey&quot;</p>\n<pre><code>private static JsonArray JsonObjectSort(final JsonArray jsonArray, final String sortBy) {\n    final JsonArray sortedArray = new JsonArray();\n    final ArrayList&lt;JsonObject&gt; listJsonObj = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; jsonArray.size(); i++) {\n        listJsonObj.add((JsonObject) jsonArray.get(i));\n    }\n\n    Collections.sort(listJsonObj,\n            (o1, o2) -&gt; o1.get(sortBy).getAsString().compareToIgnoreCase(o2.get(sortBy).getAsString()));\n\n    for (int i = 0; i &lt; jsonArray.size(); i++) {\n        sortedArray.add(listJsonObj.get(i));\n    }\n    return sortedArray;\n}\n</code></pre>\n"}],"owner":{"account_id":13698925,"reputation":45,"user_id":9884707,"display_name":"user9884707"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50667533,"answer_count":3,"score":1,"last_activity_date":1647586648,"creation_date":1527933375,"question_id":50655669,"body_markdown":"I am trying to sort a JsonArray in Java using GSON, I would like to sort everything inside that array via a variable key, meaning there is a string somewhere containing something that is the key that the object needs to be sorted by.\r\n\r\nKey Variable: varkey1\r\n\r\n    [{&quot;varkey1&quot;:1,&quot;othervarkey&quot;:1},{&quot;varkey1&quot;:6,&quot;othervarkey&quot;:2},{&quot;varkey1&quot;:3,&quot;othervarkey&quot;:3},{&quot;varkey1&quot;:12,&quot;othervarkey&quot;:4},{&quot;varkey1&quot;:998,&quot;othervarkey&quot;:5}]\r\n\r\nSo it should go like like:\r\n\r\n    [{&quot;varkey1&quot;:1,&quot;othervarkey&quot;:1},{&quot;varkey1&quot;:3,&quot;othervarkey&quot;:2},{&quot;varkey1&quot;:6,&quot;othervarkey&quot;:3},{&quot;varkey1&quot;:12,&quot;othervarkey&quot;:4},{&quot;varkey1&quot;:998,&quot;othervarkey&quot;:5}]","title":"Sort JsonArray by variable key using GSON","body":"<p>I am trying to sort a JsonArray in Java using GSON, I would like to sort everything inside that array via a variable key, meaning there is a string somewhere containing something that is the key that the object needs to be sorted by.</p>\n\n<p>Key Variable: varkey1</p>\n\n<pre><code>[{\"varkey1\":1,\"othervarkey\":1},{\"varkey1\":6,\"othervarkey\":2},{\"varkey1\":3,\"othervarkey\":3},{\"varkey1\":12,\"othervarkey\":4},{\"varkey1\":998,\"othervarkey\":5}]\n</code></pre>\n\n<p>So it should go like like:</p>\n\n<pre><code>[{\"varkey1\":1,\"othervarkey\":1},{\"varkey1\":3,\"othervarkey\":2},{\"varkey1\":6,\"othervarkey\":3},{\"varkey1\":12,\"othervarkey\":4},{\"varkey1\":998,\"othervarkey\":5}]\n</code></pre>\n"},{"tags":["java","ftp","apache-commons-net"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1375005869,"post_id":17109631,"comment_id":26157737,"body_markdown":"Yeah would be nice if commons net FTPClient had API to abort a transfer, for example using the copy listener, where you can return a boolean as false to abort the transfer.","body":"Yeah would be nice if commons net FTPClient had API to abort a transfer, for example using the copy listener, where you can return a boolean as false to abort the transfer."},{"owner":{"account_id":5435554,"reputation":495,"user_id":4423914,"accept_rate":50,"display_name":"vianna77"},"score":4,"creation_date":1423999574,"post_id":17109631,"comment_id":45366942,"body_markdown":"Instead of thinking in terms interrupting the thread, try to make the ftp = new FTPClient() accessible. When the user clicks on the Cancel button, add a event to that button that will get the ftp and run the method [abor()](http://commons.apache.org/proper/commons-net/javadocs/api-3.3/org/apache/commons/net/ftp/FTP.html#abor()) on the ftp instance.","body":"Instead of thinking in terms interrupting the thread, try to make the ftp = new FTPClient() accessible. When the user clicks on the Cancel button, add a event to that button that will get the ftp and run the method <a href=\"http://commons.apache.org/proper/commons-net/javadocs/api-3.3/org/apache/commons/net/ftp/FTP.html#abor()\" rel=\"nofollow noreferrer\">abor()</a> on the ftp instance."}],"answers":[{"tags":[],"owner":{"account_id":6017463,"reputation":1130,"user_id":4725753,"accept_rate":50,"display_name":"Mahdi Javaheri"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1647584477,"creation_date":1444483576,"answer_id":33054509,"question_id":17109631,"body_markdown":"interrupting a thread like this is not correct, it causes your thread to **wait** for some seconds at exactly which line that compiler is reading in your thread\r\n\r\nthe only way that you can abort your ftp upload is to make the thread `sleep` for some time\r\n\r\nthen `abort` your upload and wait for the thread to complete itself\r\n\r\nsee this :\r\n```java\r\ntry {\r\n\ttry {\r\n\t\tThread.currentThread();\r\n\t\tThread.sleep(1000);\r\n\t} catch (InterruptedException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n\ttry {\r\n\t\tmFTP.abort();\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n} catch (NetworkOnMainThreadException e) {\r\n\te.printStackTrace();\r\n} \r\n```","title":"Apache Commons Net FTPClient abort file store","body":"<p>interrupting a thread like this is not correct, it causes your thread to <strong>wait</strong> for some seconds at exactly which line that compiler is reading in your thread</p>\n<p>the only way that you can abort your ftp upload is to make the thread <code>sleep</code> for some time</p>\n<p>then <code>abort</code> your upload and wait for the thread to complete itself</p>\n<p>see this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    try {\n        Thread.currentThread();\n        Thread.sleep(1000);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n\n    try {\n        mFTP.abort();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n} catch (NetworkOnMainThreadException e) {\n    e.printStackTrace();\n} \n</code></pre>\n"}],"owner":{"account_id":171196,"reputation":1638,"user_id":398453,"accept_rate":69,"display_name":"FkJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2814,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1647584477,"creation_date":1371216503,"question_id":17109631,"body_markdown":"I&#39;m developing an applet to allow FTP upload from a webapp...\r\n\r\nThe send operation is working fine, but I&#39;d like to able to cancel a file storing in progress.\r\n\r\nI&#39;m not very fluent with threads. My first attempt was to call ftp.abort() in the cancel thread, but the abort method was only called when the storeFile method finished, like if the send thread was locking the ftp object.\r\n\r\nSo I changed the code to interrupt the send thread and check it in the copy stream listener. The file storing stops as expected, but ftp.abort() call hangs the application, it never complete.\r\n\r\nAny ideas?\r\n\r\nThanks,\r\nPhilip\r\n\r\n**Send operation:**\r\n\r\n      botaoEnviar.setEnabled(false);\r\n      botaoCancelar.setEnabled(true);\r\n      textField.requestFocus();\r\n    \r\n      threadEnvio = new Thread(new Runnable()\r\n      {\r\n         @Override\r\n         public void run()\r\n         {            \r\n            FileInputStream fis = null;\r\n            try\r\n            {\r\n               if(arquivoSelecionado == null)\r\n               {\r\n                  throw new IllegalArgumentException(&quot;Arquivo deve ser informado&quot;);\r\n               }\r\n               \r\n               try\r\n               {\r\n                  ftp = new FTPClient();\r\n                  ftp.connect(&quot;192.168.1.243&quot;);\r\n               }\r\n               catch(Exception e)\r\n               {\r\n                  throw new FtpConnectionException(&quot;N&#227;o foi poss&#237;vel conectar no servidor FTP&quot;, e);\r\n               }\r\n               \r\n               if(!ftp.login(&quot;c001&quot;, &quot;0AJF2J36&quot;))\r\n               {\r\n                  throw new IllegalArgumentException(&quot;N&#227;o foi poss&#237;vel autenticar no servidor FTP&quot;);\r\n               }\r\n    \r\n               ftp.setFileType(FTPClient.BINARY_FILE_TYPE);\r\n    \r\n               ftp.setCopyStreamListener(new CopyStreamAdapter()\r\n               {                  \r\n                  @Override\r\n                  public void bytesTransferred(long totalBytesTransferred, int bytesTransferred, long streamSize)\r\n                  {\r\n                     if(threadEnvio.isInterrupted())\r\n                     {\r\n                        try\r\n                        {\r\n                           ftp.abort();                           \r\n                        }\r\n                        catch(IOException ex)\r\n                        {\r\n                           handleException(ex);\r\n                        }\r\n                     }\r\n                     else\r\n                     {\r\n                        int percent = (int) (totalBytesTransferred * 100 / arquivoSelecionado.length());\r\n                        progressBar.setValue(percent);\r\n                     }\r\n                  }\r\n               });\r\n    \r\n               fis = new FileInputStream(arquivoSelecionado);               \r\n               if(ftp.storeFile(arquivoSelecionado.getName(), fis))\r\n               {\r\n                  JOptionPane.showMessageDialog(null, &quot;Arquivo enviado com suceso&quot;);\r\n               }\r\n               else\r\n               {\r\n                  JOptionPane.showMessageDialog(null, &quot;N&#227;o foi poss&#237;vel enviar o arquivo&quot;, &quot;Erro&quot;, JOptionPane.ERROR_MESSAGE);\r\n               }\r\n    \r\n               ftp.logout();\r\n            }            \r\n            catch(Exception e)\r\n            {\r\n               handleException(e);\r\n            }\r\n            finally\r\n            {\r\n               if(fis != null)\r\n               {\r\n                  try\r\n                  {\r\n                     fis.close();\r\n                  }\r\n                  catch(IOException ex)\r\n                  {\r\n                     handleException(ex);\r\n                  }\r\n               }\r\n               \r\n               if(ftp != null)\r\n               {\r\n                  try\r\n                  {\r\n                     ftp.disconnect();\r\n                  }\r\n                  catch(IOException ex)\r\n                  {\r\n                     handleException(ex);\r\n                  }\r\n               }\r\n    \r\n               progressBar.setValue(0);\r\n               botaoEnviar.setEnabled(true);               \r\n               botaoCancelar.setEnabled(false);               \r\n            }\r\n         }\r\n      });\r\n      threadEnvio.start();\r\n\r\n**Cancel operation:**\r\n\r\n    botaoCancelar.setEnabled(false);\r\n      \r\n      new Thread(new Runnable()\r\n      {\r\n         @Override\r\n         public void run()\r\n         {\r\n            try\r\n            {               \r\n               threadEnvio.interrupt();\r\n            }\r\n            catch(Exception ex)\r\n            {\r\n               handleException(ex);\r\n            }\r\n            finally\r\n            {\r\n               botaoCancelar.setEnabled(true);               \r\n            }\r\n         }\r\n    \r\n      }).start();","title":"Apache Commons Net FTPClient abort file store","body":"<p>I'm developing an applet to allow FTP upload from a webapp...</p>\n\n<p>The send operation is working fine, but I'd like to able to cancel a file storing in progress.</p>\n\n<p>I'm not very fluent with threads. My first attempt was to call ftp.abort() in the cancel thread, but the abort method was only called when the storeFile method finished, like if the send thread was locking the ftp object.</p>\n\n<p>So I changed the code to interrupt the send thread and check it in the copy stream listener. The file storing stops as expected, but ftp.abort() call hangs the application, it never complete.</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks,\nPhilip</p>\n\n<p><strong>Send operation:</strong></p>\n\n<pre><code>  botaoEnviar.setEnabled(false);\n  botaoCancelar.setEnabled(true);\n  textField.requestFocus();\n\n  threadEnvio = new Thread(new Runnable()\n  {\n     @Override\n     public void run()\n     {            \n        FileInputStream fis = null;\n        try\n        {\n           if(arquivoSelecionado == null)\n           {\n              throw new IllegalArgumentException(\"Arquivo deve ser informado\");\n           }\n\n           try\n           {\n              ftp = new FTPClient();\n              ftp.connect(\"192.168.1.243\");\n           }\n           catch(Exception e)\n           {\n              throw new FtpConnectionException(\"Não foi possível conectar no servidor FTP\", e);\n           }\n\n           if(!ftp.login(\"c001\", \"0AJF2J36\"))\n           {\n              throw new IllegalArgumentException(\"Não foi possível autenticar no servidor FTP\");\n           }\n\n           ftp.setFileType(FTPClient.BINARY_FILE_TYPE);\n\n           ftp.setCopyStreamListener(new CopyStreamAdapter()\n           {                  \n              @Override\n              public void bytesTransferred(long totalBytesTransferred, int bytesTransferred, long streamSize)\n              {\n                 if(threadEnvio.isInterrupted())\n                 {\n                    try\n                    {\n                       ftp.abort();                           \n                    }\n                    catch(IOException ex)\n                    {\n                       handleException(ex);\n                    }\n                 }\n                 else\n                 {\n                    int percent = (int) (totalBytesTransferred * 100 / arquivoSelecionado.length());\n                    progressBar.setValue(percent);\n                 }\n              }\n           });\n\n           fis = new FileInputStream(arquivoSelecionado);               \n           if(ftp.storeFile(arquivoSelecionado.getName(), fis))\n           {\n              JOptionPane.showMessageDialog(null, \"Arquivo enviado com suceso\");\n           }\n           else\n           {\n              JOptionPane.showMessageDialog(null, \"Não foi possível enviar o arquivo\", \"Erro\", JOptionPane.ERROR_MESSAGE);\n           }\n\n           ftp.logout();\n        }            \n        catch(Exception e)\n        {\n           handleException(e);\n        }\n        finally\n        {\n           if(fis != null)\n           {\n              try\n              {\n                 fis.close();\n              }\n              catch(IOException ex)\n              {\n                 handleException(ex);\n              }\n           }\n\n           if(ftp != null)\n           {\n              try\n              {\n                 ftp.disconnect();\n              }\n              catch(IOException ex)\n              {\n                 handleException(ex);\n              }\n           }\n\n           progressBar.setValue(0);\n           botaoEnviar.setEnabled(true);               \n           botaoCancelar.setEnabled(false);               \n        }\n     }\n  });\n  threadEnvio.start();\n</code></pre>\n\n<p><strong>Cancel operation:</strong></p>\n\n<pre><code>botaoCancelar.setEnabled(false);\n\n  new Thread(new Runnable()\n  {\n     @Override\n     public void run()\n     {\n        try\n        {               \n           threadEnvio.interrupt();\n        }\n        catch(Exception ex)\n        {\n           handleException(ex);\n        }\n        finally\n        {\n           botaoCancelar.setEnabled(true);               \n        }\n     }\n\n  }).start();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest","concurrency"],"comments":[{"owner":{"account_id":3842177,"reputation":847,"user_id":3184937,"accept_rate":71,"display_name":"Anish Panthi"},"score":0,"creation_date":1647584019,"post_id":71522974,"comment_id":126412349,"body_markdown":"First thing, nothing to do with logger here. You can use Lombok for your logging purpose. I&#39;m sure you will love Lombo library. Can you please show how you are calling this method post(RestTemplate restTemplate)...","body":"First thing, nothing to do with logger here. You can use Lombok for your logging purpose. I&#39;m sure you will love Lombo library. Can you please show how you are calling this method post(RestTemplate restTemplate)..."},{"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"score":0,"creation_date":1647585902,"post_id":71522974,"comment_id":126412683,"body_markdown":"through other beans as normal static method invoke","body":"through other beans as normal static method invoke"}],"answers":[{"tags":[],"owner":{"account_id":6974758,"reputation":956,"user_id":5349869,"display_name":"raviiii1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647584200,"creation_date":1647584200,"answer_id":71523119,"question_id":71522974,"body_markdown":"**Part 1**\r\n\r\nEvery time a third-party API is called via RestTemplate it will create new Httpconnection and will close it once it is done. You can create RestTemplate&#39;s own connection pool using HttpComponentsClientHttpRequestFactory like so:\r\n\r\n    new org.springframework.web.client.RestTemplate(new HttpComponentsClientHttpRequestFactory())\r\n\r\nSo it should not create any problems if the connections are new with each method call. Check this answer of mine here -- https://stackoverflow.com/questions/55321329/how-does-resttemplate-exchange-execute-on-a-different-thread/55323106#55323106\r\n\r\n\r\n**Part 2**\r\n\r\nHaving a static variables in a util class with static methods only is fine. Having said that, Adding --\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(Util.class);\r\n\r\n-- in each of the classes seems to more of a boilerplate code which can be avoided if you use Lombok&#39;s `@Slf4j` annotation like so --\r\n\r\n    @Slf4j\r\n     public class LogExample {\r\n     }\r\n   \r\nThis will generate somethig like this:\r\n\r\n    public class LogExample {\r\n         private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(LogExample.class);\r\n     }\r\n\r\n","title":"Use RestTemplate in a static util method and concurrency access","body":"<p><strong>Part 1</strong></p>\n<p>Every time a third-party API is called via RestTemplate it will create new Httpconnection and will close it once it is done. You can create RestTemplate's own connection pool using HttpComponentsClientHttpRequestFactory like so:</p>\n<pre><code>new org.springframework.web.client.RestTemplate(new HttpComponentsClientHttpRequestFactory())\n</code></pre>\n<p>So it should not create any problems if the connections are new with each method call. Check this answer of mine here -- <a href=\"https://stackoverflow.com/questions/55321329/how-does-resttemplate-exchange-execute-on-a-different-thread/55323106#55323106\">How does resttemplate.exchange() execute on a different thread?</a></p>\n<p><strong>Part 2</strong></p>\n<p>Having a static variables in a util class with static methods only is fine. Having said that, Adding --</p>\n<pre><code>private static final Logger LOGGER = LoggerFactory.getLogger(Util.class);\n</code></pre>\n<p>-- in each of the classes seems to more of a boilerplate code which can be avoided if you use Lombok's <code>@Slf4j</code> annotation like so --</p>\n<pre><code>@Slf4j\n public class LogExample {\n }\n</code></pre>\n<p>This will generate somethig like this:</p>\n<pre><code>public class LogExample {\n     private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(LogExample.class);\n }\n</code></pre>\n"}],"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647584200,"creation_date":1647582938,"question_id":71522974,"body_markdown":"I am having a util class as below, which has a static method to do rest invocation which is calling from many beans in the spring boot application. I only have logger as a instance variable in the Util class.\r\n\r\n    public class Util{\r\n    \r\n    private static final Logger LOGGER = LoggerFactory.getLogger(Util.class);\r\n    \r\n    public static String post(RestTemplate restTemplate){\r\n       restTemplate.exchange();\r\n    }\r\n    \r\n    }\r\n\r\nI would like to get clarify below points.\r\n\r\n1. Even I dont have a instance variable relate to RestTemplate in my util class, I notice with in RestTemplate class it has inner classes and maintain instance variables with in it. Would that be a issue when multiple users concurrently access the post method.\r\n\r\n2. Is it ok to use org.slf4j.Logger as a instance variable here? Do I need to pass LOGGER as a method local parameter as well?\r\n\r\n\r\n\r\n","title":"Use RestTemplate in a static util method and concurrency access","body":"<p>I am having a util class as below, which has a static method to do rest invocation which is calling from many beans in the spring boot application. I only have logger as a instance variable in the Util class.</p>\n<pre><code>public class Util{\n\nprivate static final Logger LOGGER = LoggerFactory.getLogger(Util.class);\n\npublic static String post(RestTemplate restTemplate){\n   restTemplate.exchange();\n}\n\n}\n</code></pre>\n<p>I would like to get clarify below points.</p>\n<ol>\n<li><p>Even I dont have a instance variable relate to RestTemplate in my util class, I notice with in RestTemplate class it has inner classes and maintain instance variables with in it. Would that be a issue when multiple users concurrently access the post method.</p>\n</li>\n<li><p>Is it ok to use org.slf4j.Logger as a instance variable here? Do I need to pass LOGGER as a method local parameter as well?</p>\n</li>\n</ol>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647578677,"creation_date":1647577351,"answer_id":71522455,"question_id":71522018,"body_markdown":"You can declare your radioButton globally so you can check the selected status. Then in a listener in your cells check that and place the appropriate letter:\r\n\r\n\tpackage SOS;\r\n\timport java.awt.BorderLayout;\r\n\timport java.awt.Color;\r\n\timport java.awt.EventQueue;\r\n\timport java.awt.GridLayout;\r\n\timport java.awt.event.ActionEvent;\r\n\timport java.awt.event.MouseAdapter;\r\n\timport java.awt.event.MouseEvent;\r\n\t\r\n\timport javax.swing.BorderFactory;\r\n\timport javax.swing.ButtonGroup;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JLabel;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.JRadioButton;\r\n\timport javax.swing.JTextField;\r\n\t\r\n\tpublic class BoardPanel {\r\n\t\r\n\t\tprivate JFrame frame;\r\n\t\tprivate JRadioButton optionS;\r\n\t\tprivate JRadioButton optionO;\r\n\t\r\n\t\tprivate void createAndDisplayGui() {\r\n\t\t\tframe = new JFrame();\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.getContentPane().add(createTopPanel(), BorderLayout.PAGE_START);\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setLocationByPlatform(true);\r\n\t\t\tframe.setVisible(true);\r\n\t\t}\r\n\t\r\n\t\tprivate void createBoard(ActionEvent event) {\r\n\t\t\tObject source = event.getSource();\r\n\t\t\tif (source instanceof JTextField) {\r\n\t\t\t\tJTextField textField = (JTextField) source;\r\n\t\t\t\tString text = textField.getText();\r\n\t\t\t\tint dimension = Integer.parseInt(text);\r\n\t\t\t\tJPanel board = new JPanel(new GridLayout(dimension, dimension));\r\n\t\t\t\tfor (int row = 0; row &lt; dimension; row++) {\r\n\t\t\t\t\tfor (int col = 0; col &lt; dimension; col++) {\r\n\t\t\t\t\t\tJLabel square = new JLabel(&quot;   &quot;);\r\n\t\t\t\t\t\tsquare.setBackground(Color.white);\r\n\t\t\t\t\t\tsquare.setOpaque(true);\r\n\t\t\t\t\t\tsquare.setBorder(BorderFactory.createLineBorder(Color.black));\r\n\t\t\t\t\t\tboard.add(square);\r\n\t\t\t\t\t\tsquare.addMouseListener(new MouseAdapter() {\r\n\t\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\t\t\t\t\tsquare.setText(optionS.isSelected() ? &quot; S &quot; : &quot; O &quot;);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tframe.getContentPane().add(board, BorderLayout.CENTER);\r\n\t\t\t\tframe.pack();\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tprivate JPanel createTopPanel() {\r\n\t\r\n\t\t\toptionS = new JRadioButton(&quot;S&quot;);\r\n\t\t\toptionO = new JRadioButton(&quot;O&quot;);\r\n\t\r\n\t\t\tButtonGroup group = new ButtonGroup();\r\n\t\t\tgroup.add(optionS);\r\n\t\t\tgroup.add(optionO);\r\n\t\r\n\t\t\tJPanel topPanel = new JPanel();\r\n\t\t\tJLabel label = new JLabel(&quot;Board size:&quot;);\r\n\t\t\ttopPanel.add(label);\r\n\t\t\tJTextField boardSize = new JTextField(6);\r\n\t\t\tboardSize.addActionListener(this::createBoard);\r\n\t\t\ttopPanel.add(boardSize);\r\n\t\t\ttopPanel.add(optionS, BorderLayout.NORTH);\r\n\t\t\ttopPanel.add(optionO, BorderLayout.CENTER);\r\n\t\t\treturn topPanel;\r\n\t\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tEventQueue.invokeLater(() -&gt; new BoardPanel().createAndDisplayGui());\r\n\t\t}\r\n\t}","title":"How would I use the radio button in jswing to make a listener capable of placing an S or O in the given cell depending on what is selected?","body":"<p>You can declare your radioButton globally so you can check the selected status. Then in a listener in your cells check that and place the appropriate letter:</p>\n<pre><code>package SOS;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.ButtonGroup;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\nimport javax.swing.JTextField;\n\npublic class BoardPanel {\n\n    private JFrame frame;\n    private JRadioButton optionS;\n    private JRadioButton optionO;\n\n    private void createAndDisplayGui() {\n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(createTopPanel(), BorderLayout.PAGE_START);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private void createBoard(ActionEvent event) {\n        Object source = event.getSource();\n        if (source instanceof JTextField) {\n            JTextField textField = (JTextField) source;\n            String text = textField.getText();\n            int dimension = Integer.parseInt(text);\n            JPanel board = new JPanel(new GridLayout(dimension, dimension));\n            for (int row = 0; row &lt; dimension; row++) {\n                for (int col = 0; col &lt; dimension; col++) {\n                    JLabel square = new JLabel(&quot;   &quot;);\n                    square.setBackground(Color.white);\n                    square.setOpaque(true);\n                    square.setBorder(BorderFactory.createLineBorder(Color.black));\n                    board.add(square);\n                    square.addMouseListener(new MouseAdapter() {\n                        @Override\n                        public void mouseClicked(MouseEvent e) {\n                            square.setText(optionS.isSelected() ? &quot; S &quot; : &quot; O &quot;);\n                        }\n                    });\n                }\n            }\n            frame.getContentPane().add(board, BorderLayout.CENTER);\n            frame.pack();\n        }\n    }\n\n    private JPanel createTopPanel() {\n\n        optionS = new JRadioButton(&quot;S&quot;);\n        optionO = new JRadioButton(&quot;O&quot;);\n\n        ButtonGroup group = new ButtonGroup();\n        group.add(optionS);\n        group.add(optionO);\n\n        JPanel topPanel = new JPanel();\n        JLabel label = new JLabel(&quot;Board size:&quot;);\n        topPanel.add(label);\n        JTextField boardSize = new JTextField(6);\n        boardSize.addActionListener(this::createBoard);\n        topPanel.add(boardSize);\n        topPanel.add(optionS, BorderLayout.NORTH);\n        topPanel.add(optionO, BorderLayout.CENTER);\n        return topPanel;\n\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new BoardPanel().createAndDisplayGui());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647584141,"creation_date":1647584141,"answer_id":71523113,"question_id":71522018,"body_markdown":"There are few ways you might be able to do this, personally, I like to decouple the workflows and remove dependencies where I can.\r\n\r\nFor example, your `createBoard` method is making an assumption about how the `dimension` value is captured by the user.  What happens if you want to change that workflow to use a `JSpinner` or `JCombobox`?  You&#39;d then have to modify this method as well.\r\n\r\nBetter to pass the method the information it needs to do its job.  In fact, I&#39;d make it return an instance of `JPanel`, so as to remove all the dependencies, after all `createBoard` should do just that, nothing else.\r\n\r\nI&#39;ve changed the workflow so there is now a dedicated &quot;create&quot; button, this will collect the information it needs in order to be able to create the board itself.  Not as dynamic as the other approach, but it gives the user time to consider their inputs\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.ButtonGroup;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JRadioButton;\r\n    import javax.swing.JTextField;\r\n\r\n    public class BoardPanel {\r\n\r\n        private JFrame frame;\r\n\r\n        enum State {\r\n            S, O;\r\n        }\r\n\r\n        private JPanel board;\r\n\r\n        private void createAndDisplayGui() {\r\n            frame = new JFrame();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(createTopPanel(), BorderLayout.PAGE_START);\r\n            frame.pack();\r\n            frame.setLocationByPlatform(true);\r\n            frame.setVisible(true);\r\n        }\r\n\r\n        private JPanel createBoard(int dimension, State state) {\r\n            JPanel board = new JPanel(new GridLayout(dimension, dimension));\r\n            for (int row = 0; row &lt; dimension; row++) {\r\n                for (int col = 0; col &lt; dimension; col++) {\r\n                    JLabel square = new JLabel(&quot;  &quot; + state.name() + &quot;  &quot;);\r\n                    square.setBackground(Color.white);\r\n                    square.setOpaque(true);\r\n                    square.setBorder(BorderFactory.createLineBorder(Color.black));\r\n                    board.add(square);\r\n                }\r\n            }\r\n            return board;\r\n        }\r\n\r\n        private JPanel createTopPanel() {\r\n            JRadioButton optionS = new JRadioButton(&quot;S&quot;);\r\n            JRadioButton optionO = new JRadioButton(&quot;O&quot;);\r\n            JTextField boardSize = new JTextField(6);\r\n            JPanel topPanel = new JPanel();\r\n\r\n            ButtonGroup group = new ButtonGroup();\r\n            group.add(optionS);\r\n            group.add(optionO);\r\n\r\n            // Default state\r\n            optionS.setSelected(true);\r\n\r\n            JButton createButton = new JButton(&quot;Make it so&quot;);\r\n            createButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    State state = State.O;\r\n                    if (optionS.isSelected()) {\r\n                        state = State.S;\r\n                    }\r\n                    try {\r\n                        int dimension = Integer.parseInt(boardSize.getText());\r\n                        if (board != null) {\r\n                            frame.remove(board);\r\n                        }\r\n                        board = createBoard(dimension, state);\r\n                        frame.add(board, BorderLayout.CENTER);\r\n                        frame.pack();\r\n                    } catch (NumberFormatException exp) {\r\n                        JOptionPane.showMessageDialog(topPanel, &quot;Invalid board size&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                    }\r\n                }\r\n            });\r\n\r\n            JLabel label = new JLabel(&quot;Board size:&quot;);\r\n            topPanel.add(label);\r\n            topPanel.add(boardSize);\r\n            topPanel.add(optionS);\r\n            topPanel.add(optionO);\r\n            topPanel.add(createButton);\r\n\r\n            return topPanel;\r\n\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(() -&gt; new BoardPanel().createAndDisplayGui());\r\n        }\r\n    }\r\n\r\nIf you&#39;d prefer something a little more dynamic, then you could add shared `ActionListener` to the buttons and text field, for example...\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.ButtonGroup;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JRadioButton;\r\n    import javax.swing.JTextField;\r\n\r\n    public class BoardPanel {\r\n\r\n        private JFrame frame;\r\n\r\n        enum State {\r\n            S, O;\r\n        }\r\n\r\n        private JPanel board;\r\n\r\n        private void createAndDisplayGui() {\r\n            frame = new JFrame();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(createTopPanel(), BorderLayout.PAGE_START);\r\n            frame.pack();\r\n            frame.setLocationByPlatform(true);\r\n            frame.setVisible(true);\r\n        }\r\n\r\n        private JPanel createBoard(int dimension, State state) {\r\n            JPanel board = new JPanel(new GridLayout(dimension, dimension));\r\n            for (int row = 0; row &lt; dimension; row++) {\r\n                for (int col = 0; col &lt; dimension; col++) {\r\n                    JLabel square = new JLabel(&quot;  &quot; + state.name() + &quot;  &quot;);\r\n                    square.setBackground(Color.white);\r\n                    square.setOpaque(true);\r\n                    square.setBorder(BorderFactory.createLineBorder(Color.black));\r\n                    board.add(square);\r\n                }\r\n            }\r\n            return board;\r\n        }\r\n\r\n        private JPanel createTopPanel() {\r\n            JRadioButton optionS = new JRadioButton(&quot;S&quot;);\r\n            JRadioButton optionO = new JRadioButton(&quot;O&quot;);\r\n            JTextField boardSize = new JTextField(6);\r\n            JPanel topPanel = new JPanel();\r\n\r\n            ButtonGroup group = new ButtonGroup();\r\n            group.add(optionS);\r\n            group.add(optionO);\r\n            \r\n            ActionListener actionListener = new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    State state = State.O;\r\n                    if (optionS.isSelected()) {\r\n                        state = State.S;\r\n                    }\r\n                    try {\r\n                        int dimension = Integer.parseInt(boardSize.getText());\r\n                        if (board != null) {\r\n                            frame.remove(board);\r\n                        }\r\n                        board = createBoard(dimension, state);\r\n                        frame.add(board, BorderLayout.CENTER);\r\n                        frame.pack();\r\n                    } catch (NumberFormatException exp) {\r\n                        // Not yet ready\r\n                    }\r\n                }\r\n            };\r\n            \r\n            optionS.addActionListener(actionListener);\r\n            optionO.addActionListener(actionListener);\r\n            boardSize.addActionListener(actionListener);\r\n\r\n            // Default state\r\n            optionS.setSelected(true);\r\n\r\n            JLabel label = new JLabel(&quot;Board size:&quot;);\r\n            topPanel.add(label);\r\n            topPanel.add(boardSize);\r\n            topPanel.add(optionS);\r\n            topPanel.add(optionO);\r\n\r\n            return topPanel;\r\n\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(() -&gt; new BoardPanel().createAndDisplayGui());\r\n        }\r\n    }\r\n","title":"How would I use the radio button in jswing to make a listener capable of placing an S or O in the given cell depending on what is selected?","body":"<p>There are few ways you might be able to do this, personally, I like to decouple the workflows and remove dependencies where I can.</p>\n<p>For example, your <code>createBoard</code> method is making an assumption about how the <code>dimension</code> value is captured by the user.  What happens if you want to change that workflow to use a <code>JSpinner</code> or <code>JCombobox</code>?  You'd then have to modify this method as well.</p>\n<p>Better to pass the method the information it needs to do its job.  In fact, I'd make it return an instance of <code>JPanel</code>, so as to remove all the dependencies, after all <code>createBoard</code> should do just that, nothing else.</p>\n<p>I've changed the workflow so there is now a dedicated &quot;create&quot; button, this will collect the information it needs in order to be able to create the board itself.  Not as dynamic as the other approach, but it gives the user time to consider their inputs</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.BorderFactory;\nimport javax.swing.ButtonGroup;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\nimport javax.swing.JTextField;\n\npublic class BoardPanel {\n\n    private JFrame frame;\n\n    enum State {\n        S, O;\n    }\n\n    private JPanel board;\n\n    private void createAndDisplayGui() {\n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createTopPanel(), BorderLayout.PAGE_START);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createBoard(int dimension, State state) {\n        JPanel board = new JPanel(new GridLayout(dimension, dimension));\n        for (int row = 0; row &lt; dimension; row++) {\n            for (int col = 0; col &lt; dimension; col++) {\n                JLabel square = new JLabel(&quot;  &quot; + state.name() + &quot;  &quot;);\n                square.setBackground(Color.white);\n                square.setOpaque(true);\n                square.setBorder(BorderFactory.createLineBorder(Color.black));\n                board.add(square);\n            }\n        }\n        return board;\n    }\n\n    private JPanel createTopPanel() {\n        JRadioButton optionS = new JRadioButton(&quot;S&quot;);\n        JRadioButton optionO = new JRadioButton(&quot;O&quot;);\n        JTextField boardSize = new JTextField(6);\n        JPanel topPanel = new JPanel();\n\n        ButtonGroup group = new ButtonGroup();\n        group.add(optionS);\n        group.add(optionO);\n\n        // Default state\n        optionS.setSelected(true);\n\n        JButton createButton = new JButton(&quot;Make it so&quot;);\n        createButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                State state = State.O;\n                if (optionS.isSelected()) {\n                    state = State.S;\n                }\n                try {\n                    int dimension = Integer.parseInt(boardSize.getText());\n                    if (board != null) {\n                        frame.remove(board);\n                    }\n                    board = createBoard(dimension, state);\n                    frame.add(board, BorderLayout.CENTER);\n                    frame.pack();\n                } catch (NumberFormatException exp) {\n                    JOptionPane.showMessageDialog(topPanel, &quot;Invalid board size&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                }\n            }\n        });\n\n        JLabel label = new JLabel(&quot;Board size:&quot;);\n        topPanel.add(label);\n        topPanel.add(boardSize);\n        topPanel.add(optionS);\n        topPanel.add(optionO);\n        topPanel.add(createButton);\n\n        return topPanel;\n\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new BoardPanel().createAndDisplayGui());\n    }\n}\n</code></pre>\n<p>If you'd prefer something a little more dynamic, then you could add shared <code>ActionListener</code> to the buttons and text field, for example...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.BorderFactory;\nimport javax.swing.ButtonGroup;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\nimport javax.swing.JTextField;\n\npublic class BoardPanel {\n\n    private JFrame frame;\n\n    enum State {\n        S, O;\n    }\n\n    private JPanel board;\n\n    private void createAndDisplayGui() {\n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createTopPanel(), BorderLayout.PAGE_START);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createBoard(int dimension, State state) {\n        JPanel board = new JPanel(new GridLayout(dimension, dimension));\n        for (int row = 0; row &lt; dimension; row++) {\n            for (int col = 0; col &lt; dimension; col++) {\n                JLabel square = new JLabel(&quot;  &quot; + state.name() + &quot;  &quot;);\n                square.setBackground(Color.white);\n                square.setOpaque(true);\n                square.setBorder(BorderFactory.createLineBorder(Color.black));\n                board.add(square);\n            }\n        }\n        return board;\n    }\n\n    private JPanel createTopPanel() {\n        JRadioButton optionS = new JRadioButton(&quot;S&quot;);\n        JRadioButton optionO = new JRadioButton(&quot;O&quot;);\n        JTextField boardSize = new JTextField(6);\n        JPanel topPanel = new JPanel();\n\n        ButtonGroup group = new ButtonGroup();\n        group.add(optionS);\n        group.add(optionO);\n        \n        ActionListener actionListener = new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                State state = State.O;\n                if (optionS.isSelected()) {\n                    state = State.S;\n                }\n                try {\n                    int dimension = Integer.parseInt(boardSize.getText());\n                    if (board != null) {\n                        frame.remove(board);\n                    }\n                    board = createBoard(dimension, state);\n                    frame.add(board, BorderLayout.CENTER);\n                    frame.pack();\n                } catch (NumberFormatException exp) {\n                    // Not yet ready\n                }\n            }\n        };\n        \n        optionS.addActionListener(actionListener);\n        optionO.addActionListener(actionListener);\n        boardSize.addActionListener(actionListener);\n\n        // Default state\n        optionS.setSelected(true);\n\n        JLabel label = new JLabel(&quot;Board size:&quot;);\n        topPanel.add(label);\n        topPanel.add(boardSize);\n        topPanel.add(optionS);\n        topPanel.add(optionO);\n\n        return topPanel;\n\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new BoardPanel().createAndDisplayGui());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24510943,"reputation":5,"user_id":18425273,"display_name":"LudacrisTurtle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71522455,"answer_count":2,"score":0,"last_activity_date":1647584141,"creation_date":1647572582,"question_id":71522018,"body_markdown":"    package SOS;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.ButtonGroup;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JRadioButton;\r\n    import javax.swing.JTextField;\r\n    \r\n    public class BoardPanel {\r\n        private JFrame frame;\r\n    \r\n        private void createAndDisplayGui() {\r\n            frame = new JFrame();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(createTopPanel(), BorderLayout.PAGE_START);\r\n            frame.pack();\r\n            frame.setLocationByPlatform(true);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        private void createBoard(ActionEvent event) {\r\n            Object source = event.getSource();\r\n            if (source instanceof JTextField) {\r\n                JTextField textField = (JTextField) source;\r\n                String text = textField.getText();\r\n                int dimension = Integer.parseInt(text);\r\n                JPanel board = new JPanel(new GridLayout(dimension, dimension));\r\n                for (int row = 0; row &lt; dimension; row++) {\r\n                    for (int col = 0; col &lt; dimension; col++) {\r\n                        JLabel square = new JLabel(&quot;   &quot;);\r\n                        square.setBackground(Color.white);\r\n                        square.setOpaque(true);\r\n                        square.setBorder(BorderFactory.createLineBorder(Color.black));\r\n                        board.add(square);\r\n                    }\r\n                }\r\n                frame.add(board, BorderLayout.CENTER);\r\n                frame.pack();\r\n            }\r\n        }\r\n    \r\n        private JPanel createTopPanel() {\r\n        \t\r\n        \t JRadioButton optionS = new JRadioButton(&quot;S&quot;);\r\n             JRadioButton optionO = new JRadioButton(&quot;O&quot;);\r\n             \r\n             ButtonGroup group = new ButtonGroup();\r\n             group.add(optionS);\r\n             group.add(optionO);\r\n        \t\r\n            JPanel topPanel = new JPanel();\r\n            JLabel label = new JLabel(&quot;Board size:&quot;);\r\n            topPanel.add(label);\r\n            JTextField boardSize = new JTextField(6);\r\n            boardSize.addActionListener(this::createBoard);\r\n            topPanel.add(boardSize);\r\n            topPanel.add(optionS, BorderLayout.NORTH);\r\n            topPanel.add(optionO, BorderLayout.CENTER);\r\n            return topPanel;\r\n            \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(() -&gt; new BoardPanel().createAndDisplayGui());\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI know I am supposed to make an action listener for each radio button and that seems pretty straightforward, but I am confused on how I would do that and then translate that to placing an S or O on the game boards given cell depending on what is selected. I think the more confusing part is being able to draw in the given cell either the S or the O depending on what is selected. This is for an SOS game, sort of like tic tac toe. I tried following a simple tic tac toe example but got lost as there is no radio buttons like this and I am using a different createboard method.","title":"How would I use the radio button in jswing to make a listener capable of placing an S or O in the given cell depending on what is selected?","body":"<pre><code>package SOS;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.ButtonGroup;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\nimport javax.swing.JTextField;\n\npublic class BoardPanel {\n    private JFrame frame;\n\n    private void createAndDisplayGui() {\n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createTopPanel(), BorderLayout.PAGE_START);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private void createBoard(ActionEvent event) {\n        Object source = event.getSource();\n        if (source instanceof JTextField) {\n            JTextField textField = (JTextField) source;\n            String text = textField.getText();\n            int dimension = Integer.parseInt(text);\n            JPanel board = new JPanel(new GridLayout(dimension, dimension));\n            for (int row = 0; row &lt; dimension; row++) {\n                for (int col = 0; col &lt; dimension; col++) {\n                    JLabel square = new JLabel(&quot;   &quot;);\n                    square.setBackground(Color.white);\n                    square.setOpaque(true);\n                    square.setBorder(BorderFactory.createLineBorder(Color.black));\n                    board.add(square);\n                }\n            }\n            frame.add(board, BorderLayout.CENTER);\n            frame.pack();\n        }\n    }\n\n    private JPanel createTopPanel() {\n        \n         JRadioButton optionS = new JRadioButton(&quot;S&quot;);\n         JRadioButton optionO = new JRadioButton(&quot;O&quot;);\n         \n         ButtonGroup group = new ButtonGroup();\n         group.add(optionS);\n         group.add(optionO);\n        \n        JPanel topPanel = new JPanel();\n        JLabel label = new JLabel(&quot;Board size:&quot;);\n        topPanel.add(label);\n        JTextField boardSize = new JTextField(6);\n        boardSize.addActionListener(this::createBoard);\n        topPanel.add(boardSize);\n        topPanel.add(optionS, BorderLayout.NORTH);\n        topPanel.add(optionO, BorderLayout.CENTER);\n        return topPanel;\n        \n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new BoardPanel().createAndDisplayGui());\n    }\n}\n</code></pre>\n<p>I know I am supposed to make an action listener for each radio button and that seems pretty straightforward, but I am confused on how I would do that and then translate that to placing an S or O on the game boards given cell depending on what is selected. I think the more confusing part is being able to draw in the given cell either the S or the O depending on what is selected. This is for an SOS game, sort of like tic tac toe. I tried following a simple tic tac toe example but got lost as there is no radio buttons like this and I am using a different createboard method.</p>\n"},{"tags":["java","swing","jframe","jpanel","layout-manager"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1647581362,"post_id":71522776,"comment_id":126411903,"body_markdown":"The problems start here: `panel.setLayout(null);`. Fix that using layouts before wasting any more of your time or asking us to waste ours.","body":"The problems start here: <code>panel.setLayout(null);</code>. Fix that using layouts before wasting any more of your time or asking us to waste ours."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1647581788,"post_id":71522776,"comment_id":126411964,"body_markdown":"General tips: 1) [Edits] to add a [mre]. 2) Provide ASCII art or a simple drawing of how the GUI is expected to appear at both default size and when made larger. 3) `panel.setSize(WIDTH, HEIGHT); .. frame.setSize(WIDTH, HEIGHT);` The best than can be said of this is that the panel size will be ignored. One or both of the sizes is wrong, as a panel cannot be was big as the frame that displays it. It&#39;s better to `pack()` a frame to the right size for the content it displays. If the GUI uses layouts, that size will be suggested automatically.  4) `textPrompt` is poorly named. ..","body":"General tips: 1) [Edits] to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. 2) Provide ASCII art or a simple drawing of how the GUI is expected to appear at both default size and when made larger. 3) <code>panel.setSize(WIDTH, HEIGHT); .. frame.setSize(WIDTH, HEIGHT);</code> The best than can be said of this is that the panel size will be ignored. One or both of the sizes is wrong, as a panel cannot be was big as the frame that displays it. It&#39;s better to <code>pack()</code> a frame to the right size for the content it displays. If the GUI uses layouts, that size will be suggested automatically.  4) <code>textPrompt</code> is poorly named. .."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1647581858,"post_id":71522776,"comment_id":126411984,"body_markdown":".. `generalInfo` would be more accurate. 5) `addButtons()` - consider adding them (or the corresponding `Action` elements) to a `JToolBar` instead.","body":".. <code>generalInfo</code> would be more accurate. 5) <code>addButtons()</code> - consider adding them (or the corresponding <code>Action</code> elements) to a <code>JToolBar</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647581819,"creation_date":1647581819,"answer_id":71522853,"question_id":71522776,"body_markdown":"If you use an absolute layout (panel.setLayout(null);) then you have to specify the bounds of the buttons to be visible:\r\n\r\n    button.setBounds(200, 200, 300, 30);\r\n\r\n","title":"Buttons not showing up in JPanel","body":"<p>If you use an absolute layout (panel.setLayout(null);) then you have to specify the bounds of the buttons to be visible:</p>\n<pre><code>button.setBounds(200, 200, 300, 30);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647583205,"creation_date":1647583205,"answer_id":71523006,"question_id":71522776,"body_markdown":"Use one or more appropriate layout managers.  See [Laying Out Components Within a Container\r\n](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) for more details\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Container;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class BookListUI {\r\n\r\n        JLabel textPrompt = new JLabel(&quot;Welcome to the BookListApp, fellow bookworm. Start storing your books immediately!&quot;, JLabel.CENTER);\r\n\r\n        public BookListUI() {\r\n            JFrame frame = new JFrame();\r\n\r\n            JPanel contentPane = new JPanel(new BorderLayout());\r\n            contentPane.setBorder(new EmptyBorder(32, 32, 32, 32));\r\n            frame.setContentPane(contentPane);\r\n\r\n            frame.add(textPrompt, BorderLayout.NORTH);\r\n            JPanel menuPane = new JPanel(new GridLayout(-1, 1));\r\n            menuPane.setBorder(new EmptyBorder(32, 32, 0, 32));\r\n            addButtons(menuPane);\r\n            frame.add(menuPane);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setTitle(&quot;BookList Application&quot;);\r\n            frame.setVisible(true);\r\n\r\n        }\r\n\r\n        public void addButtons(Container container) {\r\n            container.add(new JButton(&quot;Finished books&quot;));\r\n            container.add(new JButton(&quot;Favorite books&quot;));\r\n            container.add(new JButton(&quot;Search by genre&quot;));\r\n            container.add(new JButton(&quot;Save all your books!&quot;));\r\n            container.add(new JButton(&quot;Load your BookList Application&quot;));\r\n            container.add(new JButton(&quot;Exit application&quot;));\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    new BookListUI();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DWtrs.png","title":"Buttons not showing up in JPanel","body":"<p>Use one or more appropriate layout managers.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container\n</a> for more details</p>\n<p><a href=\"https://i.stack.imgur.com/DWtrs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DWtrs.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Container;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class BookListUI {\n\n    JLabel textPrompt = new JLabel(&quot;Welcome to the BookListApp, fellow bookworm. Start storing your books immediately!&quot;, JLabel.CENTER);\n\n    public BookListUI() {\n        JFrame frame = new JFrame();\n\n        JPanel contentPane = new JPanel(new BorderLayout());\n        contentPane.setBorder(new EmptyBorder(32, 32, 32, 32));\n        frame.setContentPane(contentPane);\n\n        frame.add(textPrompt, BorderLayout.NORTH);\n        JPanel menuPane = new JPanel(new GridLayout(-1, 1));\n        menuPane.setBorder(new EmptyBorder(32, 32, 0, 32));\n        addButtons(menuPane);\n        frame.add(menuPane);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setTitle(&quot;BookList Application&quot;);\n        frame.setVisible(true);\n\n    }\n\n    public void addButtons(Container container) {\n        container.add(new JButton(&quot;Finished books&quot;));\n        container.add(new JButton(&quot;Favorite books&quot;));\n        container.add(new JButton(&quot;Search by genre&quot;));\n        container.add(new JButton(&quot;Save all your books!&quot;));\n        container.add(new JButton(&quot;Load your BookList Application&quot;));\n        container.add(new JButton(&quot;Exit application&quot;));\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new BookListUI();\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20049346,"reputation":23,"user_id":14698351,"display_name":"talkingpanda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":706,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71523006,"answer_count":2,"score":0,"last_activity_date":1647583205,"creation_date":1647580919,"question_id":71522776,"body_markdown":"I&#39;m having a ton of trouble figuring out why the buttons in this won&#39;t show? They were showing up earlier today when I test ran the program but now I&#39;ve been stuck for 2 hours trying to get the buttons to show up again. It&#39;s also really weird because the panel is definitely showing up because the phrase &quot;Welcome to the BookListApp&quot; is showing up.\r\n\r\n\r\n        public BookListUI() {\r\n            textPrompt.setText(&quot;Welcome to the BookListApp, fellow bookworm. Start storing your books immediately!&quot;);\r\n            textPrompt.setBounds(WIDTH / 2 - 300, 50,500,100);\r\n            frame = new JFrame();\r\n            panel = new JPanel();\r\n\r\n            panel.setLayout(null);\r\n            panel.setSize(WIDTH, HEIGHT);\r\n            panel.add(textPrompt);\r\n            addButtons();\r\n            frame.setSize(WIDTH, HEIGHT);\r\n            frame.add(panel);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setTitle(&quot;BookList Application&quot;);\r\n            frame.setVisible(true);\r\n\r\n        }\r\n\r\n        public void addButtons() {\r\n            panel.add(new JButton(&quot;Finished books&quot;));\r\n            panel.add(new JButton(&quot;Favorite books&quot;));\r\n            panel.add(new JButton(&quot;Search by genre&quot;));\r\n            panel.add(new JButton(&quot;Save all your books!&quot;));\r\n            panel.add(new JButton(&quot;Load your BookList Application&quot;));\r\n            panel.add(new JButton(&quot;Exit application&quot;));\r\n        }\r\n\r\n\r\n        public static void main(String[] args) {\r\n            new BookListUI();\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Buttons not showing up in JPanel","body":"<p>I'm having a ton of trouble figuring out why the buttons in this won't show? They were showing up earlier today when I test ran the program but now I've been stuck for 2 hours trying to get the buttons to show up again. It's also really weird because the panel is definitely showing up because the phrase &quot;Welcome to the BookListApp&quot; is showing up.</p>\n<pre><code>    public BookListUI() {\n        textPrompt.setText(&quot;Welcome to the BookListApp, fellow bookworm. Start storing your books immediately!&quot;);\n        textPrompt.setBounds(WIDTH / 2 - 300, 50,500,100);\n        frame = new JFrame();\n        panel = new JPanel();\n\n        panel.setLayout(null);\n        panel.setSize(WIDTH, HEIGHT);\n        panel.add(textPrompt);\n        addButtons();\n        frame.setSize(WIDTH, HEIGHT);\n        frame.add(panel);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setTitle(&quot;BookList Application&quot;);\n        frame.setVisible(true);\n\n    }\n\n    public void addButtons() {\n        panel.add(new JButton(&quot;Finished books&quot;));\n        panel.add(new JButton(&quot;Favorite books&quot;));\n        panel.add(new JButton(&quot;Search by genre&quot;));\n        panel.add(new JButton(&quot;Save all your books!&quot;));\n        panel.add(new JButton(&quot;Load your BookList Application&quot;));\n        panel.add(new JButton(&quot;Exit application&quot;));\n    }\n\n\n    public static void main(String[] args) {\n        new BookListUI();\n    }\n</code></pre>\n\n"},{"tags":["java","android","toolbar","android-appcompat"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1647581684,"post_id":71522375,"comment_id":126411948,"body_markdown":"Please dont post screen shots. Your gradle config is pure text. Your error messages are pure text. Take the time to learn how to use the markdown language to nicely format/indent TEXT, and then replace that screen shot with TEXT (and please see [mcve], too).","body":"Please dont post screen shots. Your gradle config is pure text. Your error messages are pure text. Take the time to learn how to use the markdown language to nicely format/indent TEXT, and then replace that screen shot with TEXT (and please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, too)."},{"owner":{"account_id":8726421,"reputation":821,"user_id":15119028,"display_name":"Junaid Khalid"},"score":0,"creation_date":1647582171,"post_id":71522375,"comment_id":126412043,"body_markdown":"Yes latest version of support libraries are 28.+","body":"Yes latest version of support libraries are 28.+"},{"owner":{"account_id":3178065,"reputation":1032,"user_id":2685454,"display_name":"Sumit"},"score":1,"creation_date":1647582884,"post_id":71522375,"comment_id":126412152,"body_markdown":"use com.android.support:appcompat-v7:28.0.0&quot;","body":"use com.android.support:appcompat-v7:28.0.0&quot;"},{"owner":{"display_name":"user14774662"},"score":0,"creation_date":1647588542,"post_id":71522375,"comment_id":126413261,"body_markdown":"@Sumit what about comiplesdk and targetsdk. I should set 28","body":"@Sumit what about comiplesdk and targetsdk. I should set 28"}],"owner":{"display_name":"user14774662"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647581516,"creation_date":1647576560,"question_id":71522375,"body_markdown":"I want to set up Toolbar but when I import support libary, I have a problem:\r\n\r\n    &quot;Failed to resolve: com.android.support:appcompat-v7:32.0.0&quot;\r\n\r\n[![Code Snapshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GFLuV.jpg","title":"Using support library in Android Java","body":"<p>I want to set up Toolbar but when I import support libary, I have a problem:</p>\n<pre><code>&quot;Failed to resolve: com.android.support:appcompat-v7:32.0.0&quot;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/GFLuV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GFLuV.jpg\" alt=\"Code Snapshot\" /></a></p>\n"},{"tags":["java","reflection","constructor"],"answers":[{"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647580271,"creation_date":1647580271,"answer_id":71522705,"question_id":71522458,"body_markdown":"### Technically?\r\n\r\nWell, we have to look at what prevents doing that:  \r\nYou can&#39;t access a constructor that is not visible - loading a class that tries that would be rejected by the JVM.\r\n\r\nJavac will always create a constructor - if you do not explicitly create one, it will create the default constructor. And it&#39;s a compile time error if the super class doesn&#39;t have a visible constructor without any arguments.  \r\nSo Javac is out for now.\r\n\r\n### But what about creating the bytecode yourself?\r\n\r\nWell, every constructor either needs to call a constructor of the super class or an other constructor of the same class.  \r\nWe can&#39;t call the constructor of the parent class - because it&#39;s not visible.  \r\nAnd calling an other constructor of our class is also not useful - as the other constructor again needs to call an other constructor - which would result in a stack overflow.\r\n\r\nBut we could simply leave out the constructor.  \r\nThe downside is - now we can&#39;t create any instance of our class.  \r\nBut we have a subclass.\r\n\r\n### But is the constructor really not accessible by any other class?\r\n\r\nWell - Java 11 introduced [Nest-Based Access Controls](https://openjdk.java.net/jeps/181).  \r\nA class in the same nest could access the private constructor.  \r\nBut the list of nestmates is static - well, was, until Java 15.\r\n\r\nJava 15 introduced [`Lookup.defineHiddenClass`][dhc] - which allows us to load a class as nestmate of an other class.\r\n\r\nThere is still no way to compile a subclass without changing Parent, so we create the bytecode by hand. In the end:\r\n\r\n\r\n    package test.se17;\r\n    \r\n    import static java.lang.invoke.MethodType.methodType;\r\n    import static org.objectweb.asm.Opcodes.*;\r\n    \r\n    import java.lang.invoke.MethodHandles;\r\n    import java.lang.invoke.MethodHandles.Lookup.ClassOption;\r\n    \r\n    import org.objectweb.asm.ClassWriter;\r\n    import org.objectweb.asm.MethodVisitor;\r\n    \r\n    public class InheritParent {\r\n    \t\r\n    \tprivate static final String PARENT = &quot;test/se17/Parent&quot;;\r\n    \t\r\n    \tpublic static void main(String[] args) throws Throwable {\r\n    \t\tClassWriter cw = new ClassWriter(ClassWriter.COMPUTE_MAXS | ClassWriter.COMPUTE_FRAMES);\r\n    \t\t\r\n    \t\tcw.visit(V17, ACC_PUBLIC, &quot;test/se17/Child&quot;, null, PARENT, null);\r\n    \t\t\r\n    \t\tMethodVisitor mv = cw.visitMethod(ACC_PUBLIC, &quot;&lt;init&gt;&quot;, &quot;()V&quot;, null, null);\r\n    \t\tmv.visitCode();\r\n    \t\tmv.visitVarInsn(ALOAD, 0);\r\n    \t\tmv.visitMethodInsn(INVOKESPECIAL, PARENT, &quot;&lt;init&gt;&quot;, &quot;()V&quot;, false);\r\n    \t\tmv.visitInsn(RETURN);\r\n    \t\tmv.visitMaxs(0, 0);\r\n    \t\tmv.visitEnd();\r\n    \t\t\r\n    \t\tcw.visitEnd();\r\n    \t\t\r\n    \t\tMethodHandles.Lookup lookup = MethodHandles.privateLookupIn(Parent.class, MethodHandles.lookup());\r\n    \t\tMethodHandles.Lookup childLookup = lookup.defineHiddenClass(cw.toByteArray(), true, ClassOption.NESTMATE);\r\n    \t\t\r\n    \t\tParent child = (Parent) childLookup.findConstructor(childLookup.lookupClass(), methodType(void.class)).asType(methodType(Parent.class)).invokeExact();\r\n    \t\tSystem.out.println(child);\r\n    \t\tSystem.out.println(child.getClass());\r\n    \t\tSystem.out.println(child instanceof Parent);\r\n    \t}\r\n    }\r\n\r\nThis will create, load and instantiate a subclass of `Parent`.  \r\nNote: In my code, `Parent` is in the package `test.se17`.\r\n\r\nSo, yes, it is *technically* possible to create a subclass of `Parent`.  \r\nIs it a good idea? Probably not.\r\n\r\n\r\n[dhc]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte%5B%5D,boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)","title":"Is it technically possible to derive a class that only has a private constructor in Java?","body":"<h3>Technically?</h3>\n<p>Well, we have to look at what prevents doing that:<br />\nYou can't access a constructor that is not visible - loading a class that tries that would be rejected by the JVM.</p>\n<p>Javac will always create a constructor - if you do not explicitly create one, it will create the default constructor. And it's a compile time error if the super class doesn't have a visible constructor without any arguments.<br />\nSo Javac is out for now.</p>\n<h3>But what about creating the bytecode yourself?</h3>\n<p>Well, every constructor either needs to call a constructor of the super class or an other constructor of the same class.<br />\nWe can't call the constructor of the parent class - because it's not visible.<br />\nAnd calling an other constructor of our class is also not useful - as the other constructor again needs to call an other constructor - which would result in a stack overflow.</p>\n<p>But we could simply leave out the constructor.<br />\nThe downside is - now we can't create any instance of our class.<br />\nBut we have a subclass.</p>\n<h3>But is the constructor really not accessible by any other class?</h3>\n<p>Well - Java 11 introduced <a href=\"https://openjdk.java.net/jeps/181\" rel=\"nofollow noreferrer\">Nest-Based Access Controls</a>.<br />\nA class in the same nest could access the private constructor.<br />\nBut the list of nestmates is static - well, was, until Java 15.</p>\n<p>Java 15 introduced <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte%5B%5D,boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)\" rel=\"nofollow noreferrer\"><code>Lookup.defineHiddenClass</code></a> - which allows us to load a class as nestmate of an other class.</p>\n<p>There is still no way to compile a subclass without changing Parent, so we create the bytecode by hand. In the end:</p>\n<pre><code>package test.se17;\n\nimport static java.lang.invoke.MethodType.methodType;\nimport static org.objectweb.asm.Opcodes.*;\n\nimport java.lang.invoke.MethodHandles;\nimport java.lang.invoke.MethodHandles.Lookup.ClassOption;\n\nimport org.objectweb.asm.ClassWriter;\nimport org.objectweb.asm.MethodVisitor;\n\npublic class InheritParent {\n    \n    private static final String PARENT = &quot;test/se17/Parent&quot;;\n    \n    public static void main(String[] args) throws Throwable {\n        ClassWriter cw = new ClassWriter(ClassWriter.COMPUTE_MAXS | ClassWriter.COMPUTE_FRAMES);\n        \n        cw.visit(V17, ACC_PUBLIC, &quot;test/se17/Child&quot;, null, PARENT, null);\n        \n        MethodVisitor mv = cw.visitMethod(ACC_PUBLIC, &quot;&lt;init&gt;&quot;, &quot;()V&quot;, null, null);\n        mv.visitCode();\n        mv.visitVarInsn(ALOAD, 0);\n        mv.visitMethodInsn(INVOKESPECIAL, PARENT, &quot;&lt;init&gt;&quot;, &quot;()V&quot;, false);\n        mv.visitInsn(RETURN);\n        mv.visitMaxs(0, 0);\n        mv.visitEnd();\n        \n        cw.visitEnd();\n        \n        MethodHandles.Lookup lookup = MethodHandles.privateLookupIn(Parent.class, MethodHandles.lookup());\n        MethodHandles.Lookup childLookup = lookup.defineHiddenClass(cw.toByteArray(), true, ClassOption.NESTMATE);\n        \n        Parent child = (Parent) childLookup.findConstructor(childLookup.lookupClass(), methodType(void.class)).asType(methodType(Parent.class)).invokeExact();\n        System.out.println(child);\n        System.out.println(child.getClass());\n        System.out.println(child instanceof Parent);\n    }\n}\n</code></pre>\n<p>This will create, load and instantiate a subclass of <code>Parent</code>.<br />\nNote: In my code, <code>Parent</code> is in the package <code>test.se17</code>.</p>\n<p>So, yes, it is <em>technically</em> possible to create a subclass of <code>Parent</code>.<br />\nIs it a good idea? Probably not.</p>\n"}],"owner":{"account_id":10237752,"reputation":1304,"user_id":7556091,"display_name":"progquester"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71522705,"answer_count":1,"score":3,"last_activity_date":1647580967,"creation_date":1647577433,"question_id":71522458,"body_markdown":"I found a lot of answers about it on this site, but most of them are based on modifying the requirements or modifying the code of the parent class to do so.\r\n\r\nWithout discussing the requirements and modifying the code of the parent class, can we get its constructor and derive it through reflection and other means?\r\n\r\n```java\r\npublic class Parent {\r\n    private Parent() {\r\n    }\r\n}\r\n```","title":"Is it technically possible to derive a class that only has a private constructor in Java?","body":"<p>I found a lot of answers about it on this site, but most of them are based on modifying the requirements or modifying the code of the parent class to do so.</p>\n<p>Without discussing the requirements and modifying the code of the parent class, can we get its constructor and derive it through reflection and other means?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Parent {\n    private Parent() {\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1647576452,"post_id":71522359,"comment_id":126411264,"body_markdown":"The difference is that the first one doesn&#39;t compile (because you declared `square` as returning an `int`, but didn&#39;t return anything), whereas the second one does.","body":"The difference is that the first one doesn&#39;t compile (because you declared <code>square</code> as returning an <code>int</code>, but didn&#39;t return anything), whereas the second one does."}],"answers":[{"tags":[],"owner":{"account_id":11895871,"reputation":725,"user_id":9070242,"accept_rate":80,"display_name":"fin444"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647576566,"creation_date":1647576566,"answer_id":71522376,"question_id":71522359,"body_markdown":"In your first example, the `square` function will print the cube of the provided number. However, if you wanted to do something more with it, like `System.out.println(square(5) + 3)`, printing would not give you back 125 (did you mean to call it cube?) to add to the 3, it would only say &quot;125&quot; in the console. The `return` statement actually makes the function give back 125, so you can continue to work with it as a value.\r\n\r\nAdditionally, since you declared the `square` function as returning an `int`, if you do not have a `return` statement, then the program will fail to compile.","title":"Alternative to using return statement","body":"<p>In your first example, the <code>square</code> function will print the cube of the provided number. However, if you wanted to do something more with it, like <code>System.out.println(square(5) + 3)</code>, printing would not give you back 125 (did you mean to call it cube?) to add to the 3, it would only say &quot;125&quot; in the console. The <code>return</code> statement actually makes the function give back 125, so you can continue to work with it as a value.</p>\n<p>Additionally, since you declared the <code>square</code> function as returning an <code>int</code>, if you do not have a <code>return</code> statement, then the program will fail to compile.</p>\n"},{"tags":[],"owner":{"account_id":4409690,"reputation":11,"user_id":3593001,"display_name":"jDingo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647579246,"creation_date":1647579246,"answer_id":71522609,"question_id":71522359,"body_markdown":"The return statement allows for more modular code with clear separation of concerns. \r\n\r\nIn your first example, your first `System.out.println` in the `run()` method calls another method that both calculates and then prints; therefore, the first `System.out.println` doesn&#39;t print anything itself, and could be simplified to just \r\n\r\n```\r\npublic void run() {\r\n    square(5);\r\n}\r\n\r\npublic void square(int num) {\r\n    System.out.println(num * num);\r\n}\r\n```\r\n\r\nWhich is nice and concise, but let&#39;s say you don&#39;t want to `System.out.println` every time you calculate a square, but only print if the result is divisible by 3. If you add the logic for that scenario to your `square()` method, it starts to exceed its responsibility. Additionally, your `square()` method is now only useful to that specific scenario. So the better practice would be something like this:\r\n\r\n```\r\npublic void run() {\r\n    int result = square(5);\r\n\r\n    if (result % 3 == 0) { \r\n        System.out.println(result);\r\n    }\r\n}   \r\n\r\npublic int square(int num) {\r\n    return num * num;\r\n}\r\n```\r\n\r\nWhich now allows you to re-use the `square()` method for other scenarios, rather than just printing squares divisible by 3.\r\n\r\n*Unrelated to the code itself, but your `square()` method is actually calculating a cube (num\\*num\\*num) rather than a square (num\\*num)*","title":"Alternative to using return statement","body":"<p>The return statement allows for more modular code with clear separation of concerns.</p>\n<p>In your first example, your first <code>System.out.println</code> in the <code>run()</code> method calls another method that both calculates and then prints; therefore, the first <code>System.out.println</code> doesn't print anything itself, and could be simplified to just</p>\n<pre><code>public void run() {\n    square(5);\n}\n\npublic void square(int num) {\n    System.out.println(num * num);\n}\n</code></pre>\n<p>Which is nice and concise, but let's say you don't want to <code>System.out.println</code> every time you calculate a square, but only print if the result is divisible by 3. If you add the logic for that scenario to your <code>square()</code> method, it starts to exceed its responsibility. Additionally, your <code>square()</code> method is now only useful to that specific scenario. So the better practice would be something like this:</p>\n<pre><code>public void run() {\n    int result = square(5);\n\n    if (result % 3 == 0) { \n        System.out.println(result);\n    }\n}   \n\npublic int square(int num) {\n    return num * num;\n}\n</code></pre>\n<p>Which now allows you to re-use the <code>square()</code> method for other scenarios, rather than just printing squares divisible by 3.</p>\n<p><em>Unrelated to the code itself, but your <code>square()</code> method is actually calculating a cube (num*num*num) rather than a square (num*num)</em></p>\n"},{"tags":[],"owner":{"account_id":23425103,"reputation":11,"user_id":17484674,"display_name":"B_Libs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647580661,"creation_date":1647580661,"answer_id":71522750,"question_id":71522359,"body_markdown":"The difference would be whether or not you want to do something with the product of the function. If you just want to print the result, you&#39;re good to go. If you want to store that value into a variable to use later, you&#39;d want to return it, and you could then call a System.out.println on that variable too. I would say fin nailed it in his response. Hope this helped!","title":"Alternative to using return statement","body":"<p>The difference would be whether or not you want to do something with the product of the function. If you just want to print the result, you're good to go. If you want to store that value into a variable to use later, you'd want to return it, and you could then call a System.out.println on that variable too. I would say fin nailed it in his response. Hope this helped!</p>\n"}],"owner":{"account_id":24579874,"reputation":11,"user_id":18485171,"display_name":"Eric"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1647580661,"creation_date":1647576343,"question_id":71522359,"body_markdown":"I&#39;m having trouble understanding what exactly the return statement does. What would be the difference in using:\r\n\r\n    public void run()\r\n    {\r\n        System.out.println(cube(5));\r\n    }\r\n\r\n    public int cube(int num)\r\n    {\r\n        int result = num*num*num;\r\n        System.out.println(result);\r\n    }\r\n\r\nvs\r\n\r\n    public void run()\r\n    {\r\n        System.out.println(cube(5));\r\n    }\r\n\r\n    public int cube(int num)\r\n    {\r\n       return num*num*num;\r\n    }\r\n\r\nIsn&#39;t it basically doing the same?\r\n","title":"Alternative to using return statement","body":"<p>I'm having trouble understanding what exactly the return statement does. What would be the difference in using:</p>\n<pre><code>public void run()\n{\n    System.out.println(cube(5));\n}\n\npublic int cube(int num)\n{\n    int result = num*num*num;\n    System.out.println(result);\n}\n</code></pre>\n<p>vs</p>\n<pre><code>public void run()\n{\n    System.out.println(cube(5));\n}\n\npublic int cube(int num)\n{\n   return num*num*num;\n}\n</code></pre>\n<p>Isn't it basically doing the same?</p>\n"},{"tags":["java","spring","spring-boot","oauth-2.0","spring-oauth2"],"owner":{"account_id":17143999,"reputation":21,"user_id":12407340,"display_name":"kwanikJang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647580494,"creation_date":1646284789,"question_id":71332419,"body_markdown":"What I&#39;m going to do is like this.\r\n\r\n1. post additional parameter when user submit on consent page.\r\n2. send posted additional parameter to redirect uri.\r\n\r\nI&#39;ve checked through `AuthorizationRequestConverter` that `OAuth2AuthorizationCodeRequestAuthenticationToken` has the parameter which user has uploaded.\r\n\r\nBut I don&#39;t know why `OAuth2Authorization` doesn&#39;t save additional parameters on Database.\r\nCause of above I cant&#39; reach to additional parameters and can&#39;t post data to redirect URI.\r\n\r\n---\r\nI&#39;ve referred to this repository.\r\n\r\n[sjohnr/spring-authorization-server](https://github.com/sjohnr/spring-authorization-server/tree/springone-2021)\r\n\r\n---\r\nHere&#39;s my auth server configuration\r\n\r\n1. AuthorizationServerConfig\r\n```java\r\n    @Bean\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public SecurityFilterChain authServerSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        OAuth2AuthorizationServerConfigurer&lt;HttpSecurity&gt; authorizationServerConfigurer =\r\n                new OAuth2AuthorizationServerConfigurer&lt;&gt;();\r\n\r\n        RequestMatcher endpointsMatcher = authorizationServerConfigurer.getEndpointsMatcher();\r\n\r\n        authorizationServerConfigurer\r\n                .authorizationEndpoint(authorizationEndPoint -&gt;\r\n                    authorizationEndPoint\r\n                        .consentPage(CUSTOM_CONSENT_PAGE_URI)\r\n                        .authorizationRequestConverter(customAuthorizationRequestConverter())\r\n                        .authorizationResponseHandler(authorizationResponseHandler())\r\n                )\r\n                .withObjectPostProcessor(new ObjectPostProcessor&lt;OAuth2AuthorizationCodeRequestAuthenticationProvider&gt;() {\r\n                    @Override\r\n                    public &lt;O extends OAuth2AuthorizationCodeRequestAuthenticationProvider&gt; O postProcess(O object) {\r\n                        object.setAuthenticationValidatorResolver(createDefaultAuthenticationValidatorResolver());\r\n                        return object;\r\n                    }\r\n                });\r\n\r\n        http\r\n            .requestMatcher(endpointsMatcher)\r\n            .authorizeRequests(authorizeRequest -&gt;\r\n                authorizeRequest.anyRequest().authenticated()\r\n            )\r\n            .formLogin(Customizer.withDefaults())\r\n            .csrf(csrf -&gt; csrf.ignoringRequestMatchers(endpointsMatcher))\r\n            .apply(authorizationServerConfigurer);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    private AuthenticationConverter customAuthorizationRequestConverter() {\r\n        final OAuth2AuthorizationCodeRequestAuthenticationConverter delegate = new OAuth2AuthorizationCodeRequestAuthenticationConverter();\r\n\r\n        return (request) -&gt; {\r\n            OAuth2AuthorizationCodeRequestAuthenticationToken authorizationCodeRequestAuthentication =\r\n                    (OAuth2AuthorizationCodeRequestAuthenticationToken) delegate.convert(request);\r\n            return authorizationCodeRequestAuthentication;\r\n        };\r\n    }\r\n\r\n    // ... validator and authorizationResponseHandler are same as reference\r\n```\r\n\r\n2. Authentication Provider\r\n\r\n```java\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@RequiredArgsConstructor\r\n@Component\r\n@Slf4j\r\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    private final UserMapper userMapper;\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        String username = authentication.getName();\r\n        String password = authentication.getCredentials().toString();\r\n\r\n        User user = getUser(username);\r\n        validatePassword(username, user.getPassword(), password);\r\n\r\n        return new UsernamePasswordAuthenticationToken(username, password, user.getAuthorities());\r\n    }\r\n\r\n    private User getUser(String username) {\r\n        User user = userMapper.fetchUserByUsername(username);\r\n        if (user == null)\r\n            throw new BusinessException(&quot;oauth.user.0100&quot;, HttpStatus.NOT_FOUND);\r\n        return user;\r\n    }\r\n\r\n    private void validatePassword(String username, String userPassword, String reqPassword) {\r\n        if(StringUtils.equals(userPassword, userMapper.fetchEncryptPassword(reqPassword)))\r\n            return;\r\n\r\n        userMapper.updateFailedLoginCount(username);\r\n        throw new BusinessException(&quot;oauth.user.0100&quot;, HttpStatus.NOT_FOUND);\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        return authentication.equals(\r\n                UsernamePasswordAuthenticationToken.class);\r\n    }\r\n}\r\n```","title":"Additional parameter on spring-authorization-server","body":"<p>What I'm going to do is like this.</p>\n<ol>\n<li>post additional parameter when user submit on consent page.</li>\n<li>send posted additional parameter to redirect uri.</li>\n</ol>\n<p>I've checked through <code>AuthorizationRequestConverter</code> that <code>OAuth2AuthorizationCodeRequestAuthenticationToken</code> has the parameter which user has uploaded.</p>\n<p>But I don't know why <code>OAuth2Authorization</code> doesn't save additional parameters on Database.\nCause of above I cant' reach to additional parameters and can't post data to redirect URI.</p>\n<hr />\n<p>I've referred to this repository.</p>\n<p><a href=\"https://github.com/sjohnr/spring-authorization-server/tree/springone-2021\" rel=\"nofollow noreferrer\">sjohnr/spring-authorization-server</a></p>\n<hr />\n<p>Here's my auth server configuration</p>\n<ol>\n<li>AuthorizationServerConfig</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    public SecurityFilterChain authServerSecurityFilterChain(HttpSecurity http) throws Exception {\n        OAuth2AuthorizationServerConfigurer&lt;HttpSecurity&gt; authorizationServerConfigurer =\n                new OAuth2AuthorizationServerConfigurer&lt;&gt;();\n\n        RequestMatcher endpointsMatcher = authorizationServerConfigurer.getEndpointsMatcher();\n\n        authorizationServerConfigurer\n                .authorizationEndpoint(authorizationEndPoint -&gt;\n                    authorizationEndPoint\n                        .consentPage(CUSTOM_CONSENT_PAGE_URI)\n                        .authorizationRequestConverter(customAuthorizationRequestConverter())\n                        .authorizationResponseHandler(authorizationResponseHandler())\n                )\n                .withObjectPostProcessor(new ObjectPostProcessor&lt;OAuth2AuthorizationCodeRequestAuthenticationProvider&gt;() {\n                    @Override\n                    public &lt;O extends OAuth2AuthorizationCodeRequestAuthenticationProvider&gt; O postProcess(O object) {\n                        object.setAuthenticationValidatorResolver(createDefaultAuthenticationValidatorResolver());\n                        return object;\n                    }\n                });\n\n        http\n            .requestMatcher(endpointsMatcher)\n            .authorizeRequests(authorizeRequest -&gt;\n                authorizeRequest.anyRequest().authenticated()\n            )\n            .formLogin(Customizer.withDefaults())\n            .csrf(csrf -&gt; csrf.ignoringRequestMatchers(endpointsMatcher))\n            .apply(authorizationServerConfigurer);\n\n        return http.build();\n    }\n\n    private AuthenticationConverter customAuthorizationRequestConverter() {\n        final OAuth2AuthorizationCodeRequestAuthenticationConverter delegate = new OAuth2AuthorizationCodeRequestAuthenticationConverter();\n\n        return (request) -&gt; {\n            OAuth2AuthorizationCodeRequestAuthenticationToken authorizationCodeRequestAuthentication =\n                    (OAuth2AuthorizationCodeRequestAuthenticationToken) delegate.convert(request);\n            return authorizationCodeRequestAuthentication;\n        };\n    }\n\n    // ... validator and authorizationResponseHandler are same as reference\n</code></pre>\n<ol start=\"2\">\n<li>Authentication Provider</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.commons.lang3.StringUtils;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.stereotype.Component;\n\n@RequiredArgsConstructor\n@Component\n@Slf4j\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\n\n    private final UserMapper userMapper;\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        String username = authentication.getName();\n        String password = authentication.getCredentials().toString();\n\n        User user = getUser(username);\n        validatePassword(username, user.getPassword(), password);\n\n        return new UsernamePasswordAuthenticationToken(username, password, user.getAuthorities());\n    }\n\n    private User getUser(String username) {\n        User user = userMapper.fetchUserByUsername(username);\n        if (user == null)\n            throw new BusinessException(&quot;oauth.user.0100&quot;, HttpStatus.NOT_FOUND);\n        return user;\n    }\n\n    private void validatePassword(String username, String userPassword, String reqPassword) {\n        if(StringUtils.equals(userPassword, userMapper.fetchEncryptPassword(reqPassword)))\n            return;\n\n        userMapper.updateFailedLoginCount(username);\n        throw new BusinessException(&quot;oauth.user.0100&quot;, HttpStatus.NOT_FOUND);\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return authentication.equals(\n                UsernamePasswordAuthenticationToken.class);\n    }\n}\n</code></pre>\n"},{"tags":["java","glassfish"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":1,"creation_date":1630401633,"post_id":68996057,"comment_id":121939622,"body_markdown":"your question is related to https://stackoverflow.com/questions/47458119/glassfish-server-does-not-start-nullpointeexception","body":"your question is related to <a href=\"https://stackoverflow.com/questions/47458119/glassfish-server-does-not-start-nullpointeexception\" title=\"glassfish server does not start nullpointeexception\">stackoverflow.com/questions/47458119/&hellip;</a>"},{"owner":{"account_id":113319,"reputation":2649,"user_id":298511,"accept_rate":79,"display_name":"Mike Lowery"},"score":0,"creation_date":1680732671,"post_id":68996057,"comment_id":133950249,"body_markdown":"And this one: https://stackoverflow.com/questions/70686604/java-ee-glassfish-nullpointerexception-because-dcs-not-found","body":"And this one: <a href=\"https://stackoverflow.com/questions/70686604/java-ee-glassfish-nullpointerexception-because-dcs-not-found\" title=\"java ee glassfish nullpointerexception because dcs not found\">stackoverflow.com/questions/70686604/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24597379,"reputation":1,"user_id":18500598,"display_name":"Nicolay Forostyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647580276,"creation_date":1647580276,"answer_id":71522706,"question_id":68996057,"body_markdown":"Try to go to the glassfish directory at this address glassfish5\\glassfish\\config, open the setenv file.bat with notepad and add there \r\nset AS_JAVA=C:\\Program Files\\Java\\jdk1.8.0_251 (your path to java 8)","title":"GlassFish 5.1.0 error because dcs is null","body":"<p>Try to go to the glassfish directory at this address glassfish5\\glassfish\\config, open the setenv file.bat with notepad and add there\nset AS_JAVA=C:\\Program Files\\Java\\jdk1.8.0_251 (your path to java 8)</p>\n"}],"owner":{"account_id":22021369,"reputation":39,"user_id":16290149,"display_name":"Stefan Jankovic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2416,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1647580276,"creation_date":1630401479,"question_id":68996057,"body_markdown":"Error is:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.glassfish.hk2.api.DynamicConfigurationService.createDynamicConfiguration()&quot; because &quot;dcs&quot; is null\r\n\tat com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.initializeServiceLocator(AbstractModulesRegistryImpl.java:128)\r\n\tat com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.newServiceLocator(AbstractModulesRegistryImpl.java:120)\r\n\tat com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.createServiceLocator(AbstractModulesRegistryImpl.java:194)\r\n\tat com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.createServiceLocator(AbstractModulesRegistryImpl.java:200)\r\n\tat com.sun.enterprise.module.single.StaticModulesRegistry.createServiceLocator(StaticModulesRegistry.java:64)\r\n\tat com.sun.enterprise.admin.cli.CLIContainer.getServiceLocator(CLIContainer.java:193)\r\n\tat com.sun.enterprise.admin.cli.CLIContainer.getLocalCommand(CLIContainer.java:231)\r\n\tat com.sun.enterprise.admin.cli.CLICommand.getCommand(CLICommand.java:207)\r\n\tat com.sun.enterprise.admin.cli.AdminMain.executeCommand(AdminMain.java:347)\r\n\tat com.sun.enterprise.admin.cli.AdminMain.doMain(AdminMain.java:282)\r\n\tat org.glassfish.admin.cli.AsadminMain.main(AsadminMain.java:33)\r\n\r\nMy `java -version:`\r\n\r\n`java version 16.0.2 -- 2021-07-2020`\r\n\r\nProject is also using `JDK` - `16.0.2`\r\n\r\nGlassFish is using `JRE:` - `JDK` - `16.0.2`\r\n\r\nI also did this:\r\n\r\n    set JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk-16.0.2&quot; \r\n    set PATH=&quot;%JAVA_HOME%/bin;%PATH%&quot;\r\n\r\nWhat can be problem? GF cant work with this jdk or jre?\r\n\r\n","title":"GlassFish 5.1.0 error because dcs is null","body":"<p>Error is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.glassfish.hk2.api.DynamicConfigurationService.createDynamicConfiguration()&quot; because &quot;dcs&quot; is null\nat com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.initializeServiceLocator(AbstractModulesRegistryImpl.java:128)\nat com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.newServiceLocator(AbstractModulesRegistryImpl.java:120)\nat com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.createServiceLocator(AbstractModulesRegistryImpl.java:194)\nat com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.createServiceLocator(AbstractModulesRegistryImpl.java:200)\nat com.sun.enterprise.module.single.StaticModulesRegistry.createServiceLocator(StaticModulesRegistry.java:64)\nat com.sun.enterprise.admin.cli.CLIContainer.getServiceLocator(CLIContainer.java:193)\nat com.sun.enterprise.admin.cli.CLIContainer.getLocalCommand(CLIContainer.java:231)\nat com.sun.enterprise.admin.cli.CLICommand.getCommand(CLICommand.java:207)\nat com.sun.enterprise.admin.cli.AdminMain.executeCommand(AdminMain.java:347)\nat com.sun.enterprise.admin.cli.AdminMain.doMain(AdminMain.java:282)\nat org.glassfish.admin.cli.AsadminMain.main(AsadminMain.java:33)\n</code></pre>\n<p>My <code>java -version:</code></p>\n<p><code>java version 16.0.2 -- 2021-07-2020</code></p>\n<p>Project is also using <code>JDK</code> - <code>16.0.2</code></p>\n<p>GlassFish is using <code>JRE:</code> - <code>JDK</code> - <code>16.0.2</code></p>\n<p>I also did this:</p>\n<pre><code>set JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk-16.0.2&quot; \nset PATH=&quot;%JAVA_HOME%/bin;%PATH%&quot;\n</code></pre>\n<p>What can be problem? GF cant work with this jdk or jre?</p>\n"},{"tags":["java","input"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1647552175,"post_id":71518956,"comment_id":126406798,"body_markdown":"You can&#39;t add elements to an array. Use a `List&lt;Double&gt;`.","body":"You can&#39;t add elements to an array. Use a <code>List&lt;Double&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":21648112,"reputation":73,"user_id":15969136,"display_name":"Meodinger Wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647579808,"creation_date":1647579388,"answer_id":71522621,"question_id":71518956,"body_markdown":"Use a `Scanner` for inputs.\r\n\r\n\r\n```\r\npublic class TypeYours {\r\n\r\n    public static void main(String[] args) {\r\n        // Double array to contain the values\r\n        double[] values = new double[4];\r\n\r\n        // The scanner take System.in (console input stream) as input.\r\n        Scanner scanner = new Scanner(System.in); /\r\n        \r\n        for (int a = 0; a &lt; values.length; a++) {\r\n            System.out.print(&quot;Enter a price:&quot;);\r\n\r\n            // Store the scanned value\r\n            values[a] = scanner.nextDouble();\r\n\r\n            // Some %s is unnecessary so I removed them. \r\n            // Also, not %n but \\n to start a new Line\r\n            System.out.format(&quot;Item %d: O valor deste item &#233; %10.2f reais\\n&quot;, a + 1, values[a]);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nNote that this is a very simple example: 1) The size of the `double[]` is hardcoded in the source as 4. If you want to dynamically change the `values`&#39;s size, use `ArrayList&lt;Double&gt;` or some other instead. 2) `Scanner` can take `int`, `float`, `String` as well, try them in your coed. 3) `System.out.format` can be replaced by the combination of `System.out.print()` and `String.format(format, ...args)`, which is more flexible.","title":"How can i add a input to the &quot;valor2&quot; ? - java","body":"<p>Use a <code>Scanner</code> for inputs.</p>\n<pre><code>public class TypeYours {\n\n    public static void main(String[] args) {\n        // Double array to contain the values\n        double[] values = new double[4];\n\n        // The scanner take System.in (console input stream) as input.\n        Scanner scanner = new Scanner(System.in); /\n        \n        for (int a = 0; a &lt; values.length; a++) {\n            System.out.print(&quot;Enter a price:&quot;);\n\n            // Store the scanned value\n            values[a] = scanner.nextDouble();\n\n            // Some %s is unnecessary so I removed them. \n            // Also, not %n but \\n to start a new Line\n            System.out.format(&quot;Item %d: O valor deste item é %10.2f reais\\n&quot;, a + 1, values[a]);\n        }\n    }\n\n}\n</code></pre>\n<p>Note that this is a very simple example: 1) The size of the <code>double[]</code> is hardcoded in the source as 4. If you want to dynamically change the <code>values</code>'s size, use <code>ArrayList&lt;Double&gt;</code> or some other instead. 2) <code>Scanner</code> can take <code>int</code>, <code>float</code>, <code>String</code> as well, try them in your coed. 3) <code>System.out.format</code> can be replaced by the combination of <code>System.out.print()</code> and <code>String.format(format, ...args)</code>, which is more flexible.</p>\n"}],"owner":{"account_id":24582100,"reputation":1,"user_id":18487067,"display_name":"Badas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647579808,"creation_date":1647550650,"question_id":71518956,"body_markdown":"I just started to learn java, someone knows, how can i ask like &quot;Type your values&quot;, and add id to the double[] valor2 ?\r\n\r\n\r\n    class test { // body start\r\n        public static void main(String [] args) {\r\n          \r\n            double[] valor2 = {15, 4864, 4, 21}; // here is my doubt\r\n         \r\n            for (int a=0; a&lt;valor2.length; a++){\r\n                System.out.format(&quot;%s %d: O valor deste item &#233; %10.2f %s%n&quot;, &quot;Item&quot;, a+1, valor2[a], &quot;reais&quot;);\r\n            }\r\n        }\r\n    }","title":"How can i add a input to the &quot;valor2&quot; ? - java","body":"<p>I just started to learn java, someone knows, how can i ask like &quot;Type your values&quot;, and add id to the double[] valor2 ?</p>\n<pre><code>class test { // body start\n    public static void main(String [] args) {\n      \n        double[] valor2 = {15, 4864, 4, 21}; // here is my doubt\n     \n        for (int a=0; a&lt;valor2.length; a++){\n            System.out.format(&quot;%s %d: O valor deste item é %10.2f %s%n&quot;, &quot;Item&quot;, a+1, valor2[a], &quot;reais&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647591084,"post_id":71522608,"comment_id":126413893,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647579543,"creation_date":1647579543,"answer_id":71522640,"question_id":71522608,"body_markdown":"You should check for `Ski Boots` first, then check for `Ski`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    List&lt;String&gt; inputs = Arrays.asList(new String[] {&quot;Ski&quot;, &quot;Ski Boots&quot;, &quot;Ski Poles&quot;});\r\n    for (String input : inputs) {\r\n        switch(input) {\r\n            case &quot;Ski Boots&quot;:\r\n                System.out.println(&quot;input is Ski Boots&quot;);\r\n                break;\r\n\r\n            case &quot;Ski&quot;:\r\n                System.out.println(&quot;input is Ski&quot;);\r\n                break;\r\n\r\n            default:\r\n                System.out.println(&quot;input is something else&quot;);\r\n                break;\r\n        }\r\n    }\r\n\r\nThis prints:\r\n\r\n    input is Ski\r\n    input is Ski Boots\r\n    input is something else","title":"What to use for find exact word in selenium java while two words contains same characters?","body":"<p>You should check for <code>Ski Boots</code> first, then check for <code>Ski</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; inputs = Arrays.asList(new String[] {&quot;Ski&quot;, &quot;Ski Boots&quot;, &quot;Ski Poles&quot;});\nfor (String input : inputs) {\n    switch(input) {\n        case &quot;Ski Boots&quot;:\n            System.out.println(&quot;input is Ski Boots&quot;);\n            break;\n\n        case &quot;Ski&quot;:\n            System.out.println(&quot;input is Ski&quot;);\n            break;\n\n        default:\n            System.out.println(&quot;input is something else&quot;);\n            break;\n    }\n}\n</code></pre>\n<p>This prints:</p>\n<pre><code>input is Ski\ninput is Ski Boots\ninput is something else\n</code></pre>\n"}],"owner":{"account_id":24576406,"reputation":1,"user_id":18482168,"display_name":"Hakeem S.R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647579543,"creation_date":1647579221,"question_id":71522608,"body_markdown":"I have to use switch case for this, I mean if the page contains &quot;Ski&quot; means it enters some value in text box if the page contains &quot;Ski Boots&quot; means it returns some value to text box now I have problem like if &quot;Ski Boots&quot; is displayed in the screen means it returns both the value of &quot;Ski&quot; and &quot;Ski Boots&quot;. How to find exact value that returns only &quot;Ski Boots&quot; value to the text box.","title":"What to use for find exact word in selenium java while two words contains same characters?","body":"<p>I have to use switch case for this, I mean if the page contains &quot;Ski&quot; means it enters some value in text box if the page contains &quot;Ski Boots&quot; means it returns some value to text box now I have problem like if &quot;Ski Boots&quot; is displayed in the screen means it returns both the value of &quot;Ski&quot; and &quot;Ski Boots&quot;. How to find exact value that returns only &quot;Ski Boots&quot; value to the text box.</p>\n"},{"tags":["java","rest","spring-mvc","mockito","spring-test-mvc"],"answers":[{"tags":[],"owner":{"account_id":5390705,"reputation":674,"user_id":4293335,"accept_rate":55,"display_name":"ryzhman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1647579064,"creation_date":1491313852,"answer_id":43209200,"question_id":43145408,"body_markdown":"It turned out that it is absolutely possible to do it. There are just a few configs required to launch it.\r\n\r\n1. You will need `spring-test` in your `pom.xml`:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n2. Create a `testContext.xml` file. In my case, it was literally empty:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n        \r\n        &lt;/beans&gt;\r\n\r\n   Nevertheless, it is still required, otherwise, `MockMVC` will not start since there is no context.\r\n\r\n2. Config your `ControllerTest` class with the following annotations:\r\n\r\n        @RunWith(SpringJUnit4ClassRunner.class)\r\n        @ContextConfiguration(locations = &quot;classpath*:testContextConfig.xml&quot;)\r\n        @WebAppConfiguration\r\n        public class ControllerTest {        ...    }\r\n\r\n   Without `@ContextConfiguration` the `MockMVC` won&#39;t work.\r\n\r\n3. Create a `MockMVC` instance in `@Before` method:\r\n\r\n        private MockMvc mockMvc;\r\n\r\n        @Mock\r\n        private Service mockService;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            MockitoAnnotations.initMocks(this);\r\n            mockMvc = MockMvcBuilders.standaloneSetup(new Controller(mockService))\r\n                    .setHandlerExceptionResolvers(exceptionResolver()) //crucial for standaloneSetup of MockMVC\r\n                    .build();\r\n        }\r\n    \r\n   As far as I&#39;ve understood, `setHandlerExceptionResolvers` is a crucial part of `mockMVC` setup.\r\n\r\n\r\n\r\n","title":"Use MockMVC outside SpringBoot application","body":"<p>It turned out that it is absolutely possible to do it. There are just a few configs required to launch it.</p>\n<ol>\n<li><p>You will need <code>spring-test</code> in your <code>pom.xml</code>:</p>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n     &lt;scope&gt;test&lt;/scope&gt;\n &lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Create a <code>testContext.xml</code> file. In my case, it was literally empty:</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \n http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n &lt;/beans&gt;\n</code></pre>\n<p>Nevertheless, it is still required, otherwise, <code>MockMVC</code> will not start since there is no context.</p>\n</li>\n<li><p>Config your <code>ControllerTest</code> class with the following annotations:</p>\n<pre><code> @RunWith(SpringJUnit4ClassRunner.class)\n @ContextConfiguration(locations = &quot;classpath*:testContextConfig.xml&quot;)\n @WebAppConfiguration\n public class ControllerTest {        ...    }\n</code></pre>\n<p>Without <code>@ContextConfiguration</code> the <code>MockMVC</code> won't work.</p>\n</li>\n<li><p>Create a <code>MockMVC</code> instance in <code>@Before</code> method:</p>\n<pre><code> private MockMvc mockMvc;\n\n @Mock\n private Service mockService;\n\n @Before\n public void setup() {\n     MockitoAnnotations.initMocks(this);\n     mockMvc = MockMvcBuilders.standaloneSetup(new Controller(mockService))\n             .setHandlerExceptionResolvers(exceptionResolver()) //crucial for standaloneSetup of MockMVC\n             .build();\n }\n</code></pre>\n<p>As far as I've understood, <code>setHandlerExceptionResolvers</code> is a crucial part of <code>mockMVC</code> setup.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":5390705,"reputation":674,"user_id":4293335,"accept_rate":55,"display_name":"ryzhman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3626,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":43209200,"answer_count":1,"score":6,"last_activity_date":1647579360,"creation_date":1490977279,"question_id":43145408,"body_markdown":"I have an application that uses Spring MVC for running a REST service (without Spring Boot). Context is mainly loaded from the parent&#39;s one. \r\nI have a controller and I would like to test it via `MockMvc`.\r\n\r\nI have tried to set up local test context manually, but it wasn&#39;t enough for running tests. I assume, there should be extra beans I haven&#39;t set up.\r\n\r\nMy controller is:\r\n \r\n\r\n    @RestController\r\n    public class ProrertyEditorController extends AbstractPropertyEditorController {\r\n         \r\n        @Autowired\r\n        protected PropertyEditorService prorertyEditorService;\r\n    \r\n        @RequestMapping(method = RequestMethod.DELETE, value = &quot;/{dataType}/deletewithcontent&quot;)\r\n        @ResponseStatus(value = HttpStatus.OK)\r\n        public void deleteWithContent(@PathVariable(&quot;dataType&quot;) String dataType, @RequestParam(&quot;deleteall&quot;) boolean deleteAllContent, @RequestBody String node) {\r\n            try {\r\n                JSONArray itemsToDelete = new JSONArray(node);\r\n                prorertyEditorService.deleteItemsWithContent(dataType, itemsToDelete, deleteAllContent);\r\n            } catch (Exception e) {\r\n            //handling exception\r\n            }\r\n        }\r\n    }\r\n\r\nUp to this moment, test for controller looks like this:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration\r\n    @ContextConfiguration(&quot;classpath*:configBeans1.xml&quot;)\r\n    public class ProrertyEditorControllerTest{\r\n        private MockMvc mockMvc;\r\n    \r\n        @Mock\r\n        private PropertyEditorService mockService;\r\n        @InjectMocks\r\n        private ProrertyEditorController controller;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            mockMvc = MockMvcBuilders.standaloneSetup(new ProrertyEditorController()).build();\r\n        }\r\n    \r\n        @Test\r\n        public void deleteWithContentTest() throws Exception {\r\n            mockMvc.perform(delete(&quot;/full/path/{dataType}/deletewithcontent&quot;, type)\r\n                    .param(&quot;deleteall&quot;, &quot;true&quot;)\r\n                    .param(&quot;node&quot;, &quot;[{\\&quot;test key1\\&quot;:\\&quot;test value1\\&quot;}, {\\&quot;test keys2\\&quot;:\\&quot;test value2\\&quot;}]&quot;));\r\n    \r\n            verify(mockService, times(1)).deleteItemsWithContent(eq(&quot;promotion&quot;), eq(new JSONArray(&quot;[{\\&quot;test key1\\&quot;:\\&quot;test value1\\&quot;}, {\\&quot;test keys2\\&quot;: \\&quot;test value2\\&quot;}]&quot;)), eq(true));\r\n        }\r\n    }\r\n\r\nUnfortunately, it doesn&#39;t work due to `Failed to load ApplicationContext` and no bean is created.\r\n\r\nPS There is an option to use \r\n\r\n    MockHttpServletRequest request = new MockHttpServletRequest();\r\n    MockHttpServletResponse response = new MockHttpServletResponse();\r\n\r\nHowever it may require refactoring of controllers method.\r\n\r\n\r\n","title":"Use MockMVC outside SpringBoot application","body":"<p>I have an application that uses Spring MVC for running a REST service (without Spring Boot). Context is mainly loaded from the parent's one.\nI have a controller and I would like to test it via <code>MockMvc</code>.</p>\n<p>I have tried to set up local test context manually, but it wasn't enough for running tests. I assume, there should be extra beans I haven't set up.</p>\n<p>My controller is:</p>\n<pre><code>@RestController\npublic class ProrertyEditorController extends AbstractPropertyEditorController {\n     \n    @Autowired\n    protected PropertyEditorService prorertyEditorService;\n\n    @RequestMapping(method = RequestMethod.DELETE, value = &quot;/{dataType}/deletewithcontent&quot;)\n    @ResponseStatus(value = HttpStatus.OK)\n    public void deleteWithContent(@PathVariable(&quot;dataType&quot;) String dataType, @RequestParam(&quot;deleteall&quot;) boolean deleteAllContent, @RequestBody String node) {\n        try {\n            JSONArray itemsToDelete = new JSONArray(node);\n            prorertyEditorService.deleteItemsWithContent(dataType, itemsToDelete, deleteAllContent);\n        } catch (Exception e) {\n        //handling exception\n        }\n    }\n}\n</code></pre>\n<p>Up to this moment, test for controller looks like this:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@ContextConfiguration(&quot;classpath*:configBeans1.xml&quot;)\npublic class ProrertyEditorControllerTest{\n    private MockMvc mockMvc;\n\n    @Mock\n    private PropertyEditorService mockService;\n    @InjectMocks\n    private ProrertyEditorController controller;\n\n    @Before\n    public void setup() {\n        mockMvc = MockMvcBuilders.standaloneSetup(new ProrertyEditorController()).build();\n    }\n\n    @Test\n    public void deleteWithContentTest() throws Exception {\n        mockMvc.perform(delete(&quot;/full/path/{dataType}/deletewithcontent&quot;, type)\n                .param(&quot;deleteall&quot;, &quot;true&quot;)\n                .param(&quot;node&quot;, &quot;[{\\&quot;test key1\\&quot;:\\&quot;test value1\\&quot;}, {\\&quot;test keys2\\&quot;:\\&quot;test value2\\&quot;}]&quot;));\n\n        verify(mockService, times(1)).deleteItemsWithContent(eq(&quot;promotion&quot;), eq(new JSONArray(&quot;[{\\&quot;test key1\\&quot;:\\&quot;test value1\\&quot;}, {\\&quot;test keys2\\&quot;: \\&quot;test value2\\&quot;}]&quot;)), eq(true));\n    }\n}\n</code></pre>\n<p>Unfortunately, it doesn't work due to <code>Failed to load ApplicationContext</code> and no bean is created.</p>\n<p>PS There is an option to use</p>\n<pre><code>MockHttpServletRequest request = new MockHttpServletRequest();\nMockHttpServletResponse response = new MockHttpServletResponse();\n</code></pre>\n<p>However it may require refactoring of controllers method.</p>\n"},{"tags":["java","spring","spring-webclient"],"comments":[{"owner":{"account_id":4436369,"reputation":992,"user_id":3612124,"accept_rate":50,"display_name":"Istv&#225;n B&#233;k&#233;si"},"score":0,"creation_date":1669981999,"post_id":71512073,"comment_id":131772075,"body_markdown":"Potential duplicate of https://stackoverflow.com/questions/53274568/how-to-collect-paginated-api-responses-using-spring-boot-webclient","body":"Potential duplicate of <a href=\"https://stackoverflow.com/questions/53274568/how-to-collect-paginated-api-responses-using-spring-boot-webclient\" title=\"how to collect paginated api responses using spring boot webclient\">stackoverflow.com/questions/53274568/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17056115,"reputation":117,"user_id":12340604,"display_name":"tohhant"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647559171,"creation_date":1647559171,"answer_id":71520119,"question_id":71512073,"body_markdown":"Firstly, do not use `.block()` method, because, shortly, it interrupts asynchronous stream and makes it synchronous, so there is no need, actually, in `WebClient` nowadays ([here you can find some brief intro][1]), to use it in such way. You can use, also, `RestTemplate` implementations like [Retrofit][2]. But in your case, to save the asynchronous pattern, you can use next solution:\r\n```\r\nList&lt;EzamowieniaDto&gt; ezam = WebClient\r\n            .create(&quot;https://ezamowienia.gov.pl/mo-board/api/v1/Board/Search?noticeType=ContractNotice&amp;isTenderAmountBelowEU=true&quot; +\r\n                    &quot;&amp;publicationDateFrom=2022-03-16T00:00:00.000Z&amp;orderType=Delivery&amp;SortingColumnName=PublicationDate&amp;SortingDirection=DESC&quot; +\r\n                    &quot;&amp;PageNumber=1&quot;)\r\n            .get()\r\n            .retrieve()\r\n            .bodyToFlux(EzamowieniaDto.class) // here you can just use Flux, it&#39;s like List from synchronous Java, simply\r\n            .map({body -&gt; /*body = EzamowieniaDto , do any job with this object here*/})\r\n            ...\r\n```\r\n\r\n**Example**\r\n```\r\n...\r\n\r\nList&lt;EzamowieniaDto&gt; dtos = new ArrayList&lt;&gt;();\r\n\r\nFlux&lt;EzamowieniaDto&gt; fluxDtos = WebClient\r\n            .create(&quot;http://some-url.com&quot;)\r\n            .get()\r\n            .retrieve()\r\n            .bodyToFlux(EzamowieniaDto.class)\r\n            .filter({body -&gt; body.getId().equals(1L)}) // here just some filter for emitted elements\r\n            .subscribe({dto -&gt; dtos.add(dto)}); // subscribe to end asynchronous flow , in simple words\r\n\r\nSystem.out.println(dtos.get(0).getId().equals(1L); // some simple test or something like this, use dtos as you need.\r\n            \r\n```\r\n\r\n**Additionally**\r\n\r\nUsing synchronous staff (Lists, Mono of List, etc.) mixed with asynchronous, you will always get synchronous behavior at some point of time, in the place in your code where it happens. Reactive programming implies that you use asynchronous programming  (mostly, declarative programming) while the whole process from fetching asynchronously response to asynchronously writing to the database (Hibernate Reactive, for example).\r\n\r\nHope it helps somehow and I suggest to start learning reactive programming ([Reactor][3] or Spring WebFlux, for example), if you are not started yet to understand basics of asynchronous programming.\r\n\r\nBest Regards, Anton.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47974757/webclient-vs-resttemplate\r\n  [2]: https://square.github.io/retrofit/\r\n  [3]: https://projectreactor.io/","title":"Java WebClient - collects all objects from a paginated website","body":"<p>Firstly, do not use <code>.block()</code> method, because, shortly, it interrupts asynchronous stream and makes it synchronous, so there is no need, actually, in <code>WebClient</code> nowadays (<a href=\"https://stackoverflow.com/questions/47974757/webclient-vs-resttemplate\">here you can find some brief intro</a>), to use it in such way. You can use, also, <code>RestTemplate</code> implementations like <a href=\"https://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">Retrofit</a>. But in your case, to save the asynchronous pattern, you can use next solution:</p>\n<pre><code>List&lt;EzamowieniaDto&gt; ezam = WebClient\n            .create(&quot;https://ezamowienia.gov.pl/mo-board/api/v1/Board/Search?noticeType=ContractNotice&amp;isTenderAmountBelowEU=true&quot; +\n                    &quot;&amp;publicationDateFrom=2022-03-16T00:00:00.000Z&amp;orderType=Delivery&amp;SortingColumnName=PublicationDate&amp;SortingDirection=DESC&quot; +\n                    &quot;&amp;PageNumber=1&quot;)\n            .get()\n            .retrieve()\n            .bodyToFlux(EzamowieniaDto.class) // here you can just use Flux, it's like List from synchronous Java, simply\n            .map({body -&gt; /*body = EzamowieniaDto , do any job with this object here*/})\n            ...\n</code></pre>\n<p><strong>Example</strong></p>\n<pre><code>...\n\nList&lt;EzamowieniaDto&gt; dtos = new ArrayList&lt;&gt;();\n\nFlux&lt;EzamowieniaDto&gt; fluxDtos = WebClient\n            .create(&quot;http://some-url.com&quot;)\n            .get()\n            .retrieve()\n            .bodyToFlux(EzamowieniaDto.class)\n            .filter({body -&gt; body.getId().equals(1L)}) // here just some filter for emitted elements\n            .subscribe({dto -&gt; dtos.add(dto)}); // subscribe to end asynchronous flow , in simple words\n\nSystem.out.println(dtos.get(0).getId().equals(1L); // some simple test or something like this, use dtos as you need.\n            \n</code></pre>\n<p><strong>Additionally</strong></p>\n<p>Using synchronous staff (Lists, Mono of List, etc.) mixed with asynchronous, you will always get synchronous behavior at some point of time, in the place in your code where it happens. Reactive programming implies that you use asynchronous programming  (mostly, declarative programming) while the whole process from fetching asynchronously response to asynchronously writing to the database (Hibernate Reactive, for example).</p>\n<p>Hope it helps somehow and I suggest to start learning reactive programming (<a href=\"https://projectreactor.io/\" rel=\"nofollow noreferrer\">Reactor</a> or Spring WebFlux, for example), if you are not started yet to understand basics of asynchronous programming.</p>\n<p>Best Regards, Anton.</p>\n"},{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647579286,"creation_date":1647579286,"answer_id":71522614,"question_id":71512073,"body_markdown":"Here is the way you could handle paginaged requests with `WebClient`.\r\n\r\n1. Create a method to retreive a single page of data. Typically you would use `bodyToFlux(EzamowieniaDto.class)` and return `Flux&lt;EzamowieniaDto&gt;` but because we need headers we have to use `toEntityFlux(EzamowieniaDto.class)` to wrap response in `Mono&lt;ResponseEntity`.\r\n\r\n```\r\nMono&lt;ResponseEntity&lt;Flux&lt;EzamowieniaDto&gt;&gt;&gt; getPage(String url, int pageNumber) {\r\n\treturn webClient.get()\r\n\t\t\t.uri(url + &quot;&amp;PageNumber={pageNum}&quot;, pageNumber)\r\n\t\t\t.retrieve()\r\n\t\t\t.toEntityFlux(EzamowieniaDto.class);\r\n}\r\n```\r\n\r\n2. Use `expand` to to fetch data until we reach the end\r\n\r\n```\r\nFlux&lt;EzamowieniaDto&gt; getData(String url) {\r\n\treturn getPage(url, 1)\r\n\t\t\t.expand(response -&gt; {\r\n\t\t\t\tPagination pagination = formJson(response.getHeaders().getFirst(&quot;X-Pagination&quot;));\r\n\t\t\t\tif (!pagination.hasNext()) {\r\n                    // stop\r\n\t\t\t\t\treturn Mono.empty(); \r\n\t\t\t\t}\r\n\r\n                // fetch next page\r\n\t\t\t\tgetPage(url, pagination.getCurrentPage() + 1);\r\n\t\t\t})\r\n\t\t\t.flatMap(response -&gt; response.getBody());\r\n}\r\n```","title":"Java WebClient - collects all objects from a paginated website","body":"<p>Here is the way you could handle paginaged requests with <code>WebClient</code>.</p>\n<ol>\n<li>Create a method to retreive a single page of data. Typically you would use <code>bodyToFlux(EzamowieniaDto.class)</code> and return <code>Flux&lt;EzamowieniaDto&gt;</code> but because we need headers we have to use <code>toEntityFlux(EzamowieniaDto.class)</code> to wrap response in <code>Mono&lt;ResponseEntity</code>.</li>\n</ol>\n<pre><code>Mono&lt;ResponseEntity&lt;Flux&lt;EzamowieniaDto&gt;&gt;&gt; getPage(String url, int pageNumber) {\n    return webClient.get()\n            .uri(url + &quot;&amp;PageNumber={pageNum}&quot;, pageNumber)\n            .retrieve()\n            .toEntityFlux(EzamowieniaDto.class);\n}\n</code></pre>\n<ol start=\"2\">\n<li>Use <code>expand</code> to to fetch data until we reach the end</li>\n</ol>\n<pre><code>Flux&lt;EzamowieniaDto&gt; getData(String url) {\n    return getPage(url, 1)\n            .expand(response -&gt; {\n                Pagination pagination = formJson(response.getHeaders().getFirst(&quot;X-Pagination&quot;));\n                if (!pagination.hasNext()) {\n                    // stop\n                    return Mono.empty(); \n                }\n\n                // fetch next page\n                getPage(url, pagination.getCurrentPage() + 1);\n            })\n            .flatMap(response -&gt; response.getBody());\n}\n</code></pre>\n"}],"owner":{"account_id":14173417,"reputation":11,"user_id":10239404,"display_name":"M.Jankowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2250,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647579286,"creation_date":1647519071,"question_id":71512073,"body_markdown":"I want to iterate through all pages of a given **url** and collect **JSON** objects. With this code I&#39;m getting list of 10 objects: \r\n\r\n    List&lt;EzamowieniaDto&gt; ezam = WebClient\r\n                .create(&quot;https://ezamowienia.gov.pl/mo-board/api/v1/Board/Search?noticeType=ContractNotice&amp;isTenderAmountBelowEU=true&quot; +\r\n                        &quot;&amp;publicationDateFrom=2022-03-16T00:00:00.000Z&amp;orderType=Delivery&amp;SortingColumnName=PublicationDate&amp;SortingDirection=DESC&quot; +\r\n                        &quot;&amp;PageNumber=1&quot;)\r\n                .get()\r\n                .retrieve()\r\n                .bodyToMono(new ParameterizedTypeReference&lt;List&lt;EzamowieniaDto&gt;&gt;(){})\r\n                .block();\r\n\r\nI&#39;ve tried to just delete &quot;PageNumber&quot; from request, but it seems the pagination is hard-coded for this page. \r\n```\r\n(X-Pagination header from response: [{&quot;TotalCount&quot;:88,&quot;PageSize&quot;:10,&quot;CurrentPage&quot;:1,&quot;TotalPages&quot;:9,&quot;HasNext&quot;:true,&quot;HasPrevious&quot;:false}])\r\n```\r\nThe question is: How can I iterate through number of pages mentioned in response header, and collect the whole data?","title":"Java WebClient - collects all objects from a paginated website","body":"<p>I want to iterate through all pages of a given <strong>url</strong> and collect <strong>JSON</strong> objects. With this code I'm getting list of 10 objects:</p>\n<pre><code>List&lt;EzamowieniaDto&gt; ezam = WebClient\n            .create(&quot;https://ezamowienia.gov.pl/mo-board/api/v1/Board/Search?noticeType=ContractNotice&amp;isTenderAmountBelowEU=true&quot; +\n                    &quot;&amp;publicationDateFrom=2022-03-16T00:00:00.000Z&amp;orderType=Delivery&amp;SortingColumnName=PublicationDate&amp;SortingDirection=DESC&quot; +\n                    &quot;&amp;PageNumber=1&quot;)\n            .get()\n            .retrieve()\n            .bodyToMono(new ParameterizedTypeReference&lt;List&lt;EzamowieniaDto&gt;&gt;(){})\n            .block();\n</code></pre>\n<p>I've tried to just delete &quot;PageNumber&quot; from request, but it seems the pagination is hard-coded for this page.</p>\n<pre><code>(X-Pagination header from response: [{&quot;TotalCount&quot;:88,&quot;PageSize&quot;:10,&quot;CurrentPage&quot;:1,&quot;TotalPages&quot;:9,&quot;HasNext&quot;:true,&quot;HasPrevious&quot;:false}])\n</code></pre>\n<p>The question is: How can I iterate through number of pages mentioned in response header, and collect the whole data?</p>\n"},{"tags":["java","spring","get","postman"],"answers":[{"tags":[],"owner":{"account_id":10153177,"reputation":5292,"user_id":7499069,"display_name":"tuhin47"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647578648,"creation_date":1647576686,"answer_id":71522389,"question_id":71522210,"body_markdown":"You have to check the top value as well. So You need to add your own query for that. Here is the code\r\n\r\n```java\r\n\r\npublic interface RestaurantRepository extends JpaRepository&lt;Restaurant, Long&gt;\r\n{\r\n\r\n    Optional&lt;Restaurant&gt; findFirstByCountGreaterThanEqualOrderByCountDesc (Integer count);\r\n\r\n}\r\n```\r\nand Use that inside your method\r\n\r\n```java\r\n@Transactional(readOnly = true)\r\n    public Restaurant findWinner(Integer count) throws NotFoundException\r\n    {\r\n        Optional&lt;Restaurant&gt; data = repository.findFirstByCountGreaterThanEqualOrderByCountDesc(3);\r\n        if (data.isPresent())\r\n        {\r\n            return data.get();\r\n        }\r\n\r\n        throw new NotFoundException(&quot;Nenhum restaurante ganhou a vota&#231;&#227;o, &#233; necess&#225;rio um total de 3 votos para ter um restaurante vencedor.&quot;);\r\n    }   \r\n```\r\nYou can use native queries as well. ","title":"Class sorting JSON by ID instead of highest value","body":"<p>You have to check the top value as well. So You need to add your own query for that. Here is the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic interface RestaurantRepository extends JpaRepository&lt;Restaurant, Long&gt;\n{\n\n    Optional&lt;Restaurant&gt; findFirstByCountGreaterThanEqualOrderByCountDesc (Integer count);\n\n}\n</code></pre>\n<p>and Use that inside your method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(readOnly = true)\n    public Restaurant findWinner(Integer count) throws NotFoundException\n    {\n        Optional&lt;Restaurant&gt; data = repository.findFirstByCountGreaterThanEqualOrderByCountDesc(3);\n        if (data.isPresent())\n        {\n            return data.get();\n        }\n\n        throw new NotFoundException(&quot;Nenhum restaurante ganhou a votação, é necessário um total de 3 votos para ter um restaurante vencedor.&quot;);\n    }   \n</code></pre>\n<p>You can use native queries as well.</p>\n"}],"owner":{"account_id":20654829,"reputation":55,"user_id":15240169,"display_name":"Bruno Machado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71522389,"answer_count":1,"score":1,"last_activity_date":1647578648,"creation_date":1647574763,"question_id":71522210,"body_markdown":"I&#39;m doing a vote counting system, the winner is the one who has more than 3 votes, however, I&#39;m facing the following problem. When there is more than one place with 3 votes, instead of my JSON returning the one with the most votes, it always returns the one with more than 3 votes ordered by ID.\r\nThat is, if the restaurant with ID 1 has 3 votes, and the restaurant with ID 2 has 10 votes, the restaurant with ID 1 ends up appearing on the route /restaurants/winner despite not being the most voted, is there any way I can make the most voted show up?\r\n\r\n**e.g: return from /restaurants/winner route**\r\n\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;restaurant&quot;: &quot;Burger King&quot;,\r\n        &quot;address&quot;: &quot;Av. Ipiranga, 1600&quot;,\r\n        &quot;website&quot;: &quot;https://www.burgerking.com.br/&quot;,\r\n        &quot;description&quot;: &quot;Rede de fast-food famosa com hamb&#250;rgueres grelhados, batata frita e milk-shakes.&quot;,\r\n        &quot;count&quot;: 3\r\n    }\r\n\r\nWhile McDonalds has 5 votes\r\n\r\n\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;restaurant&quot;: &quot;McDonalds&quot;,\r\n        &quot;address&quot;: &quot;Av. Ipiranga, 5200&quot;,\r\n        &quot;website&quot;: &quot;https://www.mcdonalds.com.br/&quot;,\r\n        &quot;description&quot;: &quot;Rede de fast-food tradicional conhecida por ter &#243;timos hamb&#250;rgueres e batatas fritas.&quot;,\r\n        &quot;count&quot;: 5\r\n    }\r\n\r\nHere are the classes that I&#39;m using:\r\n\r\n**Restaurant.java**\r\n\r\n    package com.dbserver.restaurantes.entities;\r\n    \r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.OneToMany;\r\n    import javax.persistence.Table;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;db_restaurants&quot;)\r\n    public class Restaurant {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \tprivate String restaurant;\r\n    \tprivate String address;\r\n    \tprivate String website;\r\n    \tprivate String description;\r\n    \tprivate Integer count;\r\n    \r\n    \t@JsonIgnore\r\n    \t@OneToMany(mappedBy = &quot;id.restaurant&quot;)\r\n    \tprivate Set&lt;Vote&gt; votes = new HashSet&lt;&gt;();\r\n    \r\n    \tpublic Restaurant() {\r\n    \t}\r\n    \r\n    \tpublic Restaurant(Long id, String restaurant, String address, String website, String description, Integer count) {\r\n    \t\tthis.id = id;\r\n    \t\tthis.restaurant = restaurant;\r\n    \t\tthis.address = address;\r\n    \t\tthis.website = website;\r\n    \t\tthis.description = description;\r\n    \t\tthis.count = count;\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getRestaurant() {\r\n    \t\treturn restaurant;\r\n    \t}\r\n    \r\n    \tpublic void setRestaurant(String restaurant) {\r\n    \t\tthis.restaurant = restaurant;\r\n    \t}\r\n    \r\n    \tpublic String getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(String address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \r\n    \tpublic String getWebsite() {\r\n    \t\treturn website;\r\n    \t}\r\n    \r\n    \tpublic void setWebsite(String website) {\r\n    \t\tthis.website = website;\r\n    \t}\r\n    \r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \r\n    \tpublic Integer getCount() {\r\n    \t\treturn count;\r\n    \t}\r\n    \r\n    \tpublic void setCount(Integer count) {\r\n    \t\tthis.count = count;\r\n    \t}\r\n    \r\n    \tpublic Set&lt;Vote&gt; getVotes() {\r\n    \t\treturn votes;\r\n    \t}\r\n    \r\n    }\r\n\r\n**RestaurantDTO.java**\r\n\r\n    package com.dbserver.restaurantes.dto;\r\n    \r\n    import com.dbserver.restaurantes.entities.Restaurant;\r\n    \r\n    public class RestaurantDTO {\r\n    \tprivate Long id;\r\n    \tprivate String restaurant;\r\n    \tprivate String address;\r\n    \tprivate String website;\r\n    \tprivate String description;\r\n    \tprivate Integer count;\r\n    \r\n    \tpublic RestaurantDTO() {\r\n    \t}\r\n    \r\n    \tpublic RestaurantDTO(Long id, String restaurant, String address, String website, String description, Integer count) {\r\n    \t\tthis.id = id;\r\n    \t\tthis.restaurant = restaurant;\r\n    \t\tthis.address = address;\r\n    \t\tthis.website = website;\r\n    \t\tthis.description = description;\r\n    \t\tthis.count = count;\r\n    \t}\r\n    \r\n    \tpublic RestaurantDTO(Restaurant restaurantDTO) {\r\n    \t\tid = restaurantDTO.getId();\r\n    \t\trestaurant = restaurantDTO.getRestaurant();\r\n    \t\taddress = restaurantDTO.getAddress();\r\n    \t\twebsite = restaurantDTO.getWebsite();\r\n    \t\tdescription = restaurantDTO.getDescription();\r\n    \t\tcount = restaurantDTO.getCount();\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getRestaurant() {\r\n    \t\treturn restaurant;\r\n    \t}\r\n    \r\n    \tpublic void setRestaurant(String restaurant) {\r\n    \t\tthis.restaurant = restaurant;\r\n    \t}\r\n    \r\n    \tpublic String getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(String address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \r\n    \tpublic String getWebsite() {\r\n    \t\treturn website;\r\n    \t}\r\n    \r\n    \tpublic void setWebsite(String website) {\r\n    \t\tthis.website = website;\r\n    \t}\r\n    \r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \t\r\n    \tpublic Integer getCount() {\r\n    \t\treturn count;\r\n    \t}\r\n    \r\n    \tpublic void setCount(Integer count) {\r\n    \t\tthis.count = count;\r\n    \t}\t\r\n    }\r\n\r\n**RestaurantServices.java**\r\n\r\n    package com.dbserver.restaurantes.services;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import com.dbserver.restaurantes.dto.RestaurantDTO;\r\n    import com.dbserver.restaurantes.entities.Restaurant;\r\n    import com.dbserver.restaurantes.exceptions.NotFoundException;\r\n    import com.dbserver.restaurantes.repositories.RestaurantRepository;\r\n    \r\n    @Service\r\n    public class RestaurantServices {\r\n    \r\n    \t@Autowired\r\n    \tprivate RestaurantRepository repository;\r\n    \r\n    \t@Transactional(readOnly = true)\r\n    \tpublic Page&lt;RestaurantDTO&gt; findAll(Pageable pageable) {\r\n    \t\tPage&lt;Restaurant&gt; result = repository.findAll(pageable);\r\n    \t\tPage&lt;RestaurantDTO&gt; page = result.map(x -&gt; new RestaurantDTO(x));\r\n    \t\treturn page;\r\n    \t}\r\n    \r\n    \t@Transactional(readOnly = true)\r\n    \tpublic RestaurantDTO findById(Long id) {\r\n    \t\tRestaurant result = repository.findById(id).get();\r\n    \t\tRestaurantDTO dto = new RestaurantDTO(result);\r\n    \t\treturn dto;\r\n    \t}\r\n    \r\n    \t@Transactional(readOnly = true)\r\n    \tpublic Restaurant findWinner(Integer count) {\r\n    \t\tList&lt;Restaurant&gt; restaurants = repository.findAll();\r\n    \r\n    \t\tfor (Restaurant restaurant : restaurants) {\r\n    \t\t\t// Hibernate.initialize(restaurant.getCount());\r\n    \t\t\tif (restaurant.getCount() &gt;= 3) {\r\n    \t\t\t\treturn restaurant;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tthrow new NotFoundException(\r\n    \t\t\t\t&quot;Nenhum restaurante ganhou a vota&#231;&#227;o, &#233; necess&#225;rio um total de 3 votos para ter um restaurante vencedor.&quot;);\r\n    \t}\t\r\n    \r\n    \t@Transactional\r\n    \tpublic Restaurant addRestaurant(Restaurant newRestaurant) {\r\n    \t\treturn repository.saveAndFlush(newRestaurant);\r\n    \t}\r\n    \r\n    }\r\n\r\n**RestaurantRepository.java**\r\n\r\n    package com.dbserver.restaurantes.repositories;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    import com.dbserver.restaurantes.entities.Restaurant;\r\n    \r\n    public interface RestaurantRepository extends JpaRepository&lt;Restaurant, Long&gt; {\r\n    \r\n    }\r\n\r\n**RestaurantController.java**\r\n\r\n    package com.dbserver.restaurantes.controllers;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.dbserver.restaurantes.dto.RestaurantDTO;\r\n    import com.dbserver.restaurantes.entities.Restaurant;\r\n    import com.dbserver.restaurantes.services.RestaurantServices;\r\n    \r\n    @RestController\r\n    @RequestMapping(value = &quot;/restaurants&quot;)\r\n    public class RestaurantController {\r\n    \r\n    \t@Autowired\r\n    \tprivate RestaurantServices service;\r\n    \r\n    \t@GetMapping\r\n    \tpublic Page&lt;RestaurantDTO&gt; findAll(Pageable pageable) {\r\n    \t\treturn service.findAll(pageable);\r\n    \t}\r\n    \r\n    \t@GetMapping(value = &quot;/{id}&quot;)\r\n    \tpublic RestaurantDTO findById(@PathVariable Long id) {\r\n    \t\treturn service.findById(id);\r\n    \t}\r\n    \t\r\n    \t@GetMapping(value = &quot;/winner&quot;)\r\n        public Restaurant findWinner(Integer count) {\r\n            return service.findWinner(count);     \r\n        };\r\n    \r\n    \t@PostMapping\r\n    \tpublic Restaurant addRestaurant(@RequestBody Restaurant newRestaurant) {\r\n    \t\treturn service.addRestaurant(newRestaurant);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Class sorting JSON by ID instead of highest value","body":"<p>I'm doing a vote counting system, the winner is the one who has more than 3 votes, however, I'm facing the following problem. When there is more than one place with 3 votes, instead of my JSON returning the one with the most votes, it always returns the one with more than 3 votes ordered by ID.\nThat is, if the restaurant with ID 1 has 3 votes, and the restaurant with ID 2 has 10 votes, the restaurant with ID 1 ends up appearing on the route /restaurants/winner despite not being the most voted, is there any way I can make the most voted show up?</p>\n<p><strong>e.g: return from /restaurants/winner route</strong></p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;restaurant&quot;: &quot;Burger King&quot;,\n    &quot;address&quot;: &quot;Av. Ipiranga, 1600&quot;,\n    &quot;website&quot;: &quot;https://www.burgerking.com.br/&quot;,\n    &quot;description&quot;: &quot;Rede de fast-food famosa com hambúrgueres grelhados, batata frita e milk-shakes.&quot;,\n    &quot;count&quot;: 3\n}\n</code></pre>\n<p>While McDonalds has 5 votes</p>\n<pre><code>{\n    &quot;id&quot;: 2,\n    &quot;restaurant&quot;: &quot;McDonalds&quot;,\n    &quot;address&quot;: &quot;Av. Ipiranga, 5200&quot;,\n    &quot;website&quot;: &quot;https://www.mcdonalds.com.br/&quot;,\n    &quot;description&quot;: &quot;Rede de fast-food tradicional conhecida por ter ótimos hambúrgueres e batatas fritas.&quot;,\n    &quot;count&quot;: 5\n}\n</code></pre>\n<p>Here are the classes that I'm using:</p>\n<p><strong>Restaurant.java</strong></p>\n<pre><code>package com.dbserver.restaurantes.entities;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\n@Entity\n@Table(name = &quot;db_restaurants&quot;)\npublic class Restaurant {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String restaurant;\n    private String address;\n    private String website;\n    private String description;\n    private Integer count;\n\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;id.restaurant&quot;)\n    private Set&lt;Vote&gt; votes = new HashSet&lt;&gt;();\n\n    public Restaurant() {\n    }\n\n    public Restaurant(Long id, String restaurant, String address, String website, String description, Integer count) {\n        this.id = id;\n        this.restaurant = restaurant;\n        this.address = address;\n        this.website = website;\n        this.description = description;\n        this.count = count;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getRestaurant() {\n        return restaurant;\n    }\n\n    public void setRestaurant(String restaurant) {\n        this.restaurant = restaurant;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getWebsite() {\n        return website;\n    }\n\n    public void setWebsite(String website) {\n        this.website = website;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public Integer getCount() {\n        return count;\n    }\n\n    public void setCount(Integer count) {\n        this.count = count;\n    }\n\n    public Set&lt;Vote&gt; getVotes() {\n        return votes;\n    }\n\n}\n</code></pre>\n<p><strong>RestaurantDTO.java</strong></p>\n<pre><code>package com.dbserver.restaurantes.dto;\n\nimport com.dbserver.restaurantes.entities.Restaurant;\n\npublic class RestaurantDTO {\n    private Long id;\n    private String restaurant;\n    private String address;\n    private String website;\n    private String description;\n    private Integer count;\n\n    public RestaurantDTO() {\n    }\n\n    public RestaurantDTO(Long id, String restaurant, String address, String website, String description, Integer count) {\n        this.id = id;\n        this.restaurant = restaurant;\n        this.address = address;\n        this.website = website;\n        this.description = description;\n        this.count = count;\n    }\n\n    public RestaurantDTO(Restaurant restaurantDTO) {\n        id = restaurantDTO.getId();\n        restaurant = restaurantDTO.getRestaurant();\n        address = restaurantDTO.getAddress();\n        website = restaurantDTO.getWebsite();\n        description = restaurantDTO.getDescription();\n        count = restaurantDTO.getCount();\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getRestaurant() {\n        return restaurant;\n    }\n\n    public void setRestaurant(String restaurant) {\n        this.restaurant = restaurant;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getWebsite() {\n        return website;\n    }\n\n    public void setWebsite(String website) {\n        this.website = website;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n    \n    public Integer getCount() {\n        return count;\n    }\n\n    public void setCount(Integer count) {\n        this.count = count;\n    }   \n}\n</code></pre>\n<p><strong>RestaurantServices.java</strong></p>\n<pre><code>package com.dbserver.restaurantes.services;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.dbserver.restaurantes.dto.RestaurantDTO;\nimport com.dbserver.restaurantes.entities.Restaurant;\nimport com.dbserver.restaurantes.exceptions.NotFoundException;\nimport com.dbserver.restaurantes.repositories.RestaurantRepository;\n\n@Service\npublic class RestaurantServices {\n\n    @Autowired\n    private RestaurantRepository repository;\n\n    @Transactional(readOnly = true)\n    public Page&lt;RestaurantDTO&gt; findAll(Pageable pageable) {\n        Page&lt;Restaurant&gt; result = repository.findAll(pageable);\n        Page&lt;RestaurantDTO&gt; page = result.map(x -&gt; new RestaurantDTO(x));\n        return page;\n    }\n\n    @Transactional(readOnly = true)\n    public RestaurantDTO findById(Long id) {\n        Restaurant result = repository.findById(id).get();\n        RestaurantDTO dto = new RestaurantDTO(result);\n        return dto;\n    }\n\n    @Transactional(readOnly = true)\n    public Restaurant findWinner(Integer count) {\n        List&lt;Restaurant&gt; restaurants = repository.findAll();\n\n        for (Restaurant restaurant : restaurants) {\n            // Hibernate.initialize(restaurant.getCount());\n            if (restaurant.getCount() &gt;= 3) {\n                return restaurant;\n            }\n        }\n        throw new NotFoundException(\n                &quot;Nenhum restaurante ganhou a votação, é necessário um total de 3 votos para ter um restaurante vencedor.&quot;);\n    }   \n\n    @Transactional\n    public Restaurant addRestaurant(Restaurant newRestaurant) {\n        return repository.saveAndFlush(newRestaurant);\n    }\n\n}\n</code></pre>\n<p><strong>RestaurantRepository.java</strong></p>\n<pre><code>package com.dbserver.restaurantes.repositories;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.dbserver.restaurantes.entities.Restaurant;\n\npublic interface RestaurantRepository extends JpaRepository&lt;Restaurant, Long&gt; {\n\n}\n</code></pre>\n<p><strong>RestaurantController.java</strong></p>\n<pre><code>package com.dbserver.restaurantes.controllers;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.dbserver.restaurantes.dto.RestaurantDTO;\nimport com.dbserver.restaurantes.entities.Restaurant;\nimport com.dbserver.restaurantes.services.RestaurantServices;\n\n@RestController\n@RequestMapping(value = &quot;/restaurants&quot;)\npublic class RestaurantController {\n\n    @Autowired\n    private RestaurantServices service;\n\n    @GetMapping\n    public Page&lt;RestaurantDTO&gt; findAll(Pageable pageable) {\n        return service.findAll(pageable);\n    }\n\n    @GetMapping(value = &quot;/{id}&quot;)\n    public RestaurantDTO findById(@PathVariable Long id) {\n        return service.findById(id);\n    }\n    \n    @GetMapping(value = &quot;/winner&quot;)\n    public Restaurant findWinner(Integer count) {\n        return service.findWinner(count);     \n    };\n\n    @PostMapping\n    public Restaurant addRestaurant(@RequestBody Restaurant newRestaurant) {\n        return service.addRestaurant(newRestaurant);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","random","max","average","min"],"comments":[{"owner":{"account_id":61630,"reputation":38237,"user_id":183579,"accept_rate":68,"display_name":"Richard H"},"score":0,"creation_date":1300204735,"post_id":5314323,"comment_id":5995233,"body_markdown":"Hmmm. I&#39;m not sure there&#39;s enough info here to define a distribution?","body":"Hmmm. I&#39;m not sure there&#39;s enough info here to define a distribution?"},{"owner":{"account_id":295944,"reputation":1577,"user_id":600615,"accept_rate":100,"display_name":"Cephron"},"score":2,"creation_date":1300205151,"post_id":5314323,"comment_id":5995367,"body_markdown":"This is actually a delightful math problem. I think it has something to do with identifying a function whose integral over 0-300 matches its integral over 300-19800, but I don&#39;t know if I can get any further than that, myself!","body":"This is actually a delightful math problem. I think it has something to do with identifying a function whose integral over 0-300 matches its integral over 300-19800, but I don&#39;t know if I can get any further than that, myself!"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1300205876,"post_id":5314323,"comment_id":5995566,"body_markdown":"@Richard: even better: there&#39;s enough info to define *any number* of distributions! ;-)","body":"@Richard: even better: there&#39;s enough info to define <i>any number</i> of distributions! ;-)"},{"owner":{"account_id":261903,"reputation":826,"user_id":546403,"display_name":"Carlos Valenzuela"},"score":0,"creation_date":1300205986,"post_id":5314323,"comment_id":5995594,"body_markdown":"I don&#39;t know about you guys, but the way you explain the problem seems like homework to me. If that&#39;s the case you can at least mention it as such","body":"I don&#39;t know about you guys, but the way you explain the problem seems like homework to me. If that&#39;s the case you can at least mention it as such"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1300206149,"post_id":5314323,"comment_id":5995636,"body_markdown":"@Chuck: I can think of many uses of this that would not imply homework. It might be homework, but it can just as well not be.","body":"@Chuck: I can think of many uses of this that would not imply homework. It might be homework, but it can just as well not be."},{"owner":{"account_id":261903,"reputation":826,"user_id":546403,"display_name":"Carlos Valenzuela"},"score":0,"creation_date":1300206675,"post_id":5314323,"comment_id":5995760,"body_markdown":"@Joachim Is that so ? Can you tell me one ? I wanna know in what can you use it","body":"@Joachim Is that so ? Can you tell me one ? I wanna know in what can you use it"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1300206869,"post_id":5314323,"comment_id":5995829,"body_markdown":"@Chuck: a monte-carlo simulation for some behaviour that has been observed to show these properties when measured.","body":"@Chuck: a monte-carlo simulation for some behaviour that has been observed to show these properties when measured."},{"owner":{"account_id":261903,"reputation":826,"user_id":546403,"display_name":"Carlos Valenzuela"},"score":0,"creation_date":1300207223,"post_id":5314323,"comment_id":5995936,"body_markdown":"@Joachim Monte-Carlo ? I&#39;ll check out, thank for the observation","body":"@Joachim Monte-Carlo ? I&#39;ll check out, thank for the observation"},{"owner":{"account_id":103788,"reputation":2335,"user_id":277811,"accept_rate":100,"display_name":"Fuad Malikov"},"score":1,"creation_date":1300207666,"post_id":5314323,"comment_id":5996047,"body_markdown":"No this is not a homework. I am working on a prototype, that requires modeling such distribution. See for more info: https://wiki.mozilla.org/Socorro:ClientAPI","body":"No this is not a homework. I am working on a prototype, that requires modeling such distribution. See for more info: <a href=\"https://wiki.mozilla.org/Socorro:ClientAPI\" rel=\"nofollow noreferrer\">wiki.mozilla.org/Socorro:ClientAPI</a>"},{"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"score":0,"creation_date":1307893461,"post_id":5314323,"comment_id":7392731,"body_markdown":"Hmmm... Whatever you are making. Don&#39;t cheat. :D","body":"Hmmm... Whatever you are making. Don&#39;t cheat. :D"},{"owner":{"account_id":284195,"reputation":5422,"user_id":582136,"accept_rate":100,"display_name":"Ryan Amos"},"score":0,"creation_date":1308081589,"post_id":5314323,"comment_id":7430066,"body_markdown":"It&#39;s funny. I was doing this the other day. I&#39;m pretty sure you need an inverse function. I never did solve the problem... I didn&#39;t want to make the tables for the inverses.","body":"It&#39;s funny. I was doing this the other day. I&#39;m pretty sure you need an inverse function. I never did solve the problem... I didn&#39;t want to make the tables for the inverses."},{"owner":{"account_id":284195,"reputation":5422,"user_id":582136,"accept_rate":100,"display_name":"Ryan Amos"},"score":0,"creation_date":1308143810,"post_id":5314323,"comment_id":7442665,"body_markdown":"@Fuad Malikov I have the code needed to generate this, but I haven&#39;t tested it and it&#39;s bound to not work. Do you still want it? You&#39;ll be able to fix it yourself or I can fix it when I have the time.","body":"@Fuad Malikov I have the code needed to generate this, but I haven&#39;t tested it and it&#39;s bound to not work. Do you still want it? You&#39;ll be able to fix it yourself or I can fix it when I have the time."},{"owner":{"account_id":103788,"reputation":2335,"user_id":277811,"accept_rate":100,"display_name":"Fuad Malikov"},"score":0,"creation_date":1308656913,"post_id":5314323,"comment_id":7537617,"body_markdown":"@Ryan Amos I am done with this problem but it will be interesting for others if you can post the code.","body":"@Ryan Amos I am done with this problem but it will be interesting for others if you can post the code."},{"owner":{"account_id":284195,"reputation":5422,"user_id":582136,"accept_rate":100,"display_name":"Ryan Amos"},"score":0,"creation_date":1308659486,"post_id":5314323,"comment_id":7538313,"body_markdown":"@Fuad I never finished the reader for the inverse file, but I have the writer.","body":"@Fuad I never finished the reader for the inverse file, but I have the writer."},{"owner":{"account_id":284195,"reputation":5422,"user_id":582136,"accept_rate":100,"display_name":"Ryan Amos"},"score":0,"creation_date":1308659975,"post_id":5314323,"comment_id":7538453,"body_markdown":"@Fuad Malikov do you still want it?","body":"@Fuad Malikov do you still want it?"}],"answers":[{"tags":[],"owner":{"account_id":119671,"reputation":16761,"user_id":311525,"accept_rate":86,"display_name":"Scott"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1307635856,"creation_date":1300204857,"answer_id":5314462,"question_id":5314323,"body_markdown":"Java Random probably won&#39;t work because it only gives you normal(gaussian) distributions.\r\n\r\nWhat you&#39;re probably looking for is an f distribution (see below).  You can probably use the distlib library [here][1] and choose the [f distribution][2].  You can use the [random][3] method to get your random number. \r\n\r\n![enter image description here][4]\r\n\r\n\r\n  [1]: http://statdistlib.sourceforge.net/DistLib/API/index.html\r\n  [2]: http://statdistlib.sourceforge.net/DistLib/API/DistLib/f.html\r\n  [3]: http://statdistlib.sourceforge.net/DistLib/API/DistLib/f.html#random%28double,%20double,%20DistLib.uniform%29\r\n  [4]: http://i.stack.imgur.com/GZnJc.gif","title":"Generate a random number with max, min and mean(average) in Java","body":"<p>Java Random probably won't work because it only gives you normal(gaussian) distributions.</p>\n\n<p>What you're probably looking for is an f distribution (see below).  You can probably use the distlib library <a href=\"http://statdistlib.sourceforge.net/DistLib/API/index.html\" rel=\"noreferrer\">here</a> and choose the <a href=\"http://statdistlib.sourceforge.net/DistLib/API/DistLib/f.html\" rel=\"noreferrer\">f distribution</a>.  You can use the <a href=\"http://statdistlib.sourceforge.net/DistLib/API/DistLib/f.html#random%28double,%20double,%20DistLib.uniform%29\" rel=\"noreferrer\">random</a> method to get your random number. </p>\n\n<p><img src=\"https://i.stack.imgur.com/GZnJc.gif\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":326183,"reputation":721,"user_id":647828,"display_name":"L&#233;o Germond"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1300265297,"creation_date":1300265297,"answer_id":5322857,"question_id":5314323,"body_markdown":"You can have a function f working on [0;1] such as\r\n\r\n    Integral(f(x)dx) on [0;1] = 500\r\n    f(0) = 200\r\n    f(0.75) = 5000\r\n    f(1) = 20000\r\n\r\nI guess a function of the form \r\n\r\n    f(x) = a*exp(x) + b*x + c\r\n\r\ncould be a solution, you just have to solve the related system.\r\n\r\nThen, you do `f(uniform_random(0,1))` and there you are !","title":"Generate a random number with max, min and mean(average) in Java","body":"<p>You can have a function f working on [0;1] such as</p>\n\n<pre><code>Integral(f(x)dx) on [0;1] = 500\nf(0) = 200\nf(0.75) = 5000\nf(1) = 20000\n</code></pre>\n\n<p>I guess a function of the form </p>\n\n<pre><code>f(x) = a*exp(x) + b*x + c\n</code></pre>\n\n<p>could be a solution, you just have to solve the related system.</p>\n\n<p>Then, you do <code>f(uniform_random(0,1))</code> and there you are !</p>\n"},{"tags":[],"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1503662605,"creation_date":1307638008,"answer_id":6296366,"question_id":5314323,"body_markdown":"Say `X` is your target variable, lets normalize the range by doing `Y=(X-200)/(20000-200)`. So now you want some `Y` random variable that takes values in `[0,1]` with mean `(500-200)/(20000-200)=1/66`. \r\n\r\nYou have many options, the most natural one seems to me a [Beta distribution][1],  `Y ~ Beta(a,b)` with `a/(a+b) = 1/66` - you have an extra degree of freedom, which you can choose either to fit the last quartile requirement.\r\n\r\nAfter that,  you simply return X as `Y*(20000-200)+200`\r\n\r\nTo generate a Beta random variable, you can use [Apache Commons][2] or see [here][3].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Beta_distribution\r\n  [2]: http://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/special/Beta.html\r\n  [3]: https://stackoverflow.com/questions/2255909/need-a-fast-java-beta-distribution-random-number-generator","title":"Generate a random number with max, min and mean(average) in Java","body":"<p>Say <code>X</code> is your target variable, lets normalize the range by doing <code>Y=(X-200)/(20000-200)</code>. So now you want some <code>Y</code> random variable that takes values in <code>[0,1]</code> with mean <code>(500-200)/(20000-200)=1/66</code>. </p>\n\n<p>You have many options, the most natural one seems to me a <a href=\"http://en.wikipedia.org/wiki/Beta_distribution\" rel=\"nofollow noreferrer\">Beta distribution</a>,  <code>Y ~ Beta(a,b)</code> with <code>a/(a+b) = 1/66</code> - you have an extra degree of freedom, which you can choose either to fit the last quartile requirement.</p>\n\n<p>After that,  you simply return X as <code>Y*(20000-200)+200</code></p>\n\n<p>To generate a Beta random variable, you can use <a href=\"http://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/special/Beta.html\" rel=\"nofollow noreferrer\">Apache Commons</a> or see <a href=\"https://stackoverflow.com/questions/2255909/need-a-fast-java-beta-distribution-random-number-generator\">here</a>.</p>\n"},{"tags":[],"owner":{"display_name":"user545680"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1307697150,"creation_date":1307696114,"answer_id":6304114,"question_id":5314323,"body_markdown":"This may not be the answer you&#39;re looking for, but the specific case with 3 uniform distributions:\r\n\r\n![Uniform distributions][1]\r\n(Ignore the numbers on the left, but it is to scale!)\r\n\r\n    public int generate() {\r\n      if(random(0, 65) == 0) {\r\n        // 50-100 percentile\r\n\r\n        if(random(1, 13) &gt; 3) {\r\n          // 50-75 percentile\r\n          return random(500, 5000);\r\n        } else {\r\n          // 75-100 percentile\r\n          return random(5000, 20000);\r\n        }\r\n\r\n      } else {\r\n        // 0-50 percentile\r\n        return random(200, 500);\r\n      }\r\n    }\r\n\r\n**How I got the numbers**\r\n\r\nFirst, the area under the curve is equal between 200-500 and 500-20000. This means that the height relationship is `300 * leftHeight == 19500 * rightHeight` making `leftHeight == 65 * rightHeight`\r\n\r\nThis gives us a 1/66 chance to choose right, and a 65/66 chance to choose left.\r\n\r\nI then made the same calculation for the 75th percentile, except the ratio was `500-5000 chance == 5000-20000 chance * 10 / 3`. Again, this means we have a 10/13 chance to be in 50-75 percentile, and a 3/13 chance to be in 75-100.\r\n\r\nKudos to @Stas - I am using his &#39;inclusive random&#39; function.\r\n\r\nAnd yes, I realise my numbers are wrong as this method works with discrete numbers, and my calculations were continuous. It would be good if someone could correct my border cases.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/XoArq.png","title":"Generate a random number with max, min and mean(average) in Java","body":"<p>This may not be the answer you're looking for, but the specific case with 3 uniform distributions:</p>\n\n<p><img src=\"https://i.stack.imgur.com/XoArq.png\" alt=\"Uniform distributions\">\n(Ignore the numbers on the left, but it is to scale!)</p>\n\n<pre><code>public int generate() {\n  if(random(0, 65) == 0) {\n    // 50-100 percentile\n\n    if(random(1, 13) &gt; 3) {\n      // 50-75 percentile\n      return random(500, 5000);\n    } else {\n      // 75-100 percentile\n      return random(5000, 20000);\n    }\n\n  } else {\n    // 0-50 percentile\n    return random(200, 500);\n  }\n}\n</code></pre>\n\n<p><strong>How I got the numbers</strong></p>\n\n<p>First, the area under the curve is equal between 200-500 and 500-20000. This means that the height relationship is <code>300 * leftHeight == 19500 * rightHeight</code> making <code>leftHeight == 65 * rightHeight</code></p>\n\n<p>This gives us a 1/66 chance to choose right, and a 65/66 chance to choose left.</p>\n\n<p>I then made the same calculation for the 75th percentile, except the ratio was <code>500-5000 chance == 5000-20000 chance * 10 / 3</code>. Again, this means we have a 10/13 chance to be in 50-75 percentile, and a 3/13 chance to be in 75-100.</p>\n\n<p>Kudos to @Stas - I am using his 'inclusive random' function.</p>\n\n<p>And yes, I realise my numbers are wrong as this method works with discrete numbers, and my calculations were continuous. It would be good if someone could correct my border cases.</p>\n"},{"tags":[],"owner":{"account_id":431570,"reputation":32368,"user_id":815724,"display_name":"Peter O."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647576831,"creation_date":1500801995,"answer_id":45263525,"question_id":5314323,"body_markdown":"Your question is vague as there are numerous random distributions with a given minimum, maximum, and mean.\r\n\r\nIndeed, one solution among many is to choose `max` with probability `(mean-min)/(max-min)` and `min` otherwise. That is, this solution generates one of only two numbers &amp;mdash; the minimum and the maximum.\r\n\r\nThe following is another solution.\r\n\r\nThe [_PERT distribution_](https://en.wikipedia.org/wiki/PERT_distribution) (or _beta-PERT distribution_) is designed to take a minimum and maximum and estimated mode. It&#39;s a &quot;smoothed-out&quot; version of the triangular distribution, and generating a random variate from that distribution can be implemented as follows:\r\n\r\n    startpt + (endpt - startpt) * \r\n         BetaDist(1.0 + (midpt - startpt) * shape / (endpt - startpt), \r\n              1.0 + (endpt - midpt) * shape / (endpt - startpt))\r\n    \r\nwhere&amp;mdash;\r\n\r\n- `startpt` is the minimum,\r\n- `midpt` is the mode (not necessarily average or mean),\r\n- `endpt` is the maximum, \r\n- `shape` is a number 0 or greater, but usually 4, and\r\n- `BetaDist(X, Y)` returns a random variate from the beta distribution with parameters `X` and `Y`.\r\n\r\nGiven a known mean (`mean`), `midpt` can be calculated by:\r\n\r\n    3 * mean / 2 - (startpt + endpt) / 4\r\n","title":"Generate a random number with max, min and mean(average) in Java","body":"<p>Your question is vague as there are numerous random distributions with a given minimum, maximum, and mean.</p>\n<p>Indeed, one solution among many is to choose <code>max</code> with probability <code>(mean-min)/(max-min)</code> and <code>min</code> otherwise. That is, this solution generates one of only two numbers — the minimum and the maximum.</p>\n<p>The following is another solution.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/PERT_distribution\" rel=\"nofollow noreferrer\"><em>PERT distribution</em></a> (or <em>beta-PERT distribution</em>) is designed to take a minimum and maximum and estimated mode. It's a &quot;smoothed-out&quot; version of the triangular distribution, and generating a random variate from that distribution can be implemented as follows:</p>\n<pre><code>startpt + (endpt - startpt) * \n     BetaDist(1.0 + (midpt - startpt) * shape / (endpt - startpt), \n          1.0 + (endpt - midpt) * shape / (endpt - startpt))\n</code></pre>\n<p>where—</p>\n<ul>\n<li><code>startpt</code> is the minimum,</li>\n<li><code>midpt</code> is the mode (not necessarily average or mean),</li>\n<li><code>endpt</code> is the maximum,</li>\n<li><code>shape</code> is a number 0 or greater, but usually 4, and</li>\n<li><code>BetaDist(X, Y)</code> returns a random variate from the beta distribution with parameters <code>X</code> and <code>Y</code>.</li>\n</ul>\n<p>Given a known mean (<code>mean</code>), <code>midpt</code> can be calculated by:</p>\n<pre><code>3 * mean / 2 - (startpt + endpt) / 4\n</code></pre>\n"}],"owner":{"account_id":103788,"reputation":2335,"user_id":277811,"accept_rate":100,"display_name":"Fuad Malikov"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5172,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":5314462,"answer_count":5,"score":20,"last_activity_date":1647576831,"creation_date":1300204287,"question_id":5314323,"body_markdown":"I need to generate random numbers with following properties.\r\n\r\nMin should be 200\r\n\r\nMax should be 20000\r\n\r\nAverage(mean) is 500.\r\n\r\nOptional: 75th percentile to be 5000\r\n\r\nDefinitely it is not uniform distribution, nor gaussian. I need to give some left skewness.  \r\n\r\n\r\n\r\n","title":"Generate a random number with max, min and mean(average) in Java","body":"<p>I need to generate random numbers with following properties.</p>\n\n<p>Min should be 200</p>\n\n<p>Max should be 20000</p>\n\n<p>Average(mean) is 500.</p>\n\n<p>Optional: 75th percentile to be 5000</p>\n\n<p>Definitely it is not uniform distribution, nor gaussian. I need to give some left skewness.  </p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":18214810,"reputation":11,"user_id":13256643,"display_name":"Pranav Sangave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647576132,"creation_date":1647576132,"answer_id":71522342,"question_id":71522042,"body_markdown":"Ahh, I got my answer... I just have to pass the ```ActivityName.class``` in second parameter of Intent Constructor same as a normal intent.\r\n\r\nSo corrected code for intent to open MainActivity after clicking on notification is : \r\n\r\n```\r\n// Create an explicit intent for an Activity in your app\r\nIntent intent = new Intent(this, MainActivity.class);\r\nintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\nPendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n```","title":"Why AlertDetails.class is showing error in Android Notification&#39;s Pending Intent?","body":"<p>Ahh, I got my answer... I just have to pass the <code>ActivityName.class</code> in second parameter of Intent Constructor same as a normal intent.</p>\n<p>So corrected code for intent to open MainActivity after clicking on notification is :</p>\n<pre><code>// Create an explicit intent for an Activity in your app\nIntent intent = new Intent(this, MainActivity.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\nPendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n</code></pre>\n"}],"owner":{"account_id":18214810,"reputation":11,"user_id":13256643,"display_name":"Pranav Sangave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647576132,"creation_date":1647572800,"question_id":71522042,"body_markdown":"I am little bit new in Android and I am learning about Android Notifications, \r\nActually I want to set the notification tap action and open my app when notification get clicked, I am referring it from Android Documentation,\r\n\r\nSo I am referring this code : \r\n```\r\n// Create an explicit intent for an Activity in your app\r\nIntent intent = new Intent(this, AlertDetails.class);\r\nintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\nPendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n\r\n```\r\nAnd I am getting error in Second Parameter of Intent Constructor i.e. ```AlertDetails.class```.\r\n\r\nSo how should I fix it ?","title":"Why AlertDetails.class is showing error in Android Notification&#39;s Pending Intent?","body":"<p>I am little bit new in Android and I am learning about Android Notifications,\nActually I want to set the notification tap action and open my app when notification get clicked, I am referring it from Android Documentation,</p>\n<p>So I am referring this code :</p>\n<pre><code>// Create an explicit intent for an Activity in your app\nIntent intent = new Intent(this, AlertDetails.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\nPendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n\n</code></pre>\n<p>And I am getting error in Second Parameter of Intent Constructor i.e. <code>AlertDetails.class</code>.</p>\n<p>So how should I fix it ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24596951,"reputation":1,"user_id":18500220,"display_name":"Sudarshan Gudade"},"score":0,"creation_date":1647576237,"post_id":71522341,"comment_id":126411248,"body_markdown":"refer image for more clarification","body":"refer image for more clarification"},{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":1,"creation_date":1647576504,"post_id":71522341,"comment_id":126411269,"body_markdown":"Configuration is not a valid annotation, and so Eclipse does not recognise it. Is there any more context for this question?","body":"Configuration is not a valid annotation, and so Eclipse does not recognise it. Is there any more context for this question?"},{"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"score":2,"creation_date":1647576508,"post_id":71522341,"comment_id":126411270,"body_markdown":"Missing spring dependency. Make sure that right libraries should be available on the classpath.","body":"Missing spring dependency. Make sure that right libraries should be available on the classpath."}],"owner":{"account_id":24596951,"reputation":1,"user_id":18500220,"display_name":"Sudarshan Gudade"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647576108,"creation_date":1647576108,"question_id":71522341,"body_markdown":"[enter image description here][1]\r\n\r\n@Configuration\r\npublic class AppConfig {\r\n\r\n\t\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DPRem.png","title":"how to solve error &quot; Configuration cannot be resolved to a type&quot; in eclipse","body":"<p><a href=\"https://i.stack.imgur.com/DPRem.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>@Configuration\npublic class AppConfig {</p>\n<p>}</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1647571534,"post_id":71521827,"comment_id":126410554,"body_markdown":"Yes, you can make this work by forwarding/passing the click event from the radio button event into your selection event method. This is not how most people would expect it to work however, and may cause other issues with incorrect selections?","body":"Yes, you can make this work by forwarding/passing the click event from the radio button event into your selection event method. This is not how most people would expect it to work however, and may cause other issues with incorrect selections?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1647572991,"post_id":71521827,"comment_id":126410775,"body_markdown":"1) That is not a radio button. That is a check box. Please use proper terminology. 2) Multiple rows are still selected for me. Maybe this is a version/platform issue. I use JDK11 on Windows 10. However, I did notice that the column selection event is not generated when all clicks are done on the column with the check boxes.","body":"1) That is not a radio button. That is a check box. Please use proper terminology. 2) Multiple rows are still selected for me. Maybe this is a version/platform issue. I use JDK11 on Windows 10. However, I did notice that the column selection event is not generated when all clicks are done on the column with the check boxes."}],"owner":{"account_id":19398319,"reputation":1,"user_id":16692116,"display_name":"NickC64"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647575103,"creation_date":1647570307,"question_id":71521827,"body_markdown":"From the example displayed on the [SWING component example index][1] from Oracle called [TableSelectionDemo][2]:\r\n\r\nScreenshot of program:\r\n\r\n[![https://i.stack.imgur.com/hkizq.png][3]][3]\r\n\r\nI noticed that multiple rows can be selected as usual when the click starts from a cell in the first 4 columns, but not when the click starts in the fifth column containing the checkboxes. I&#39;m guessing this is the case because because the event that handles the state of the checkbox is triggered, but this in turn prevents the row selection event from being triggered as well.\r\n\r\nIs there a way for regular selection to work through that use case while preserving the regular behaviour regarding the checkboxes?\r\n\r\nhttps://i.stack.imgur.com/hkizq.png\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/examples/components/index.html#TableSelectionDemo\r\n  [2]: https://docs.oracle.com/javase/tutorial/displayCode.html?code=https://docs.oracle.com/javase/tutorial/uiswing/examples/components/TableSelectionDemoProject/src/components/TableSelectionDemo.java\r\n  [3]: https://i.stack.imgur.com/hkizq.png","title":"Is there a way for two different events to be triggered with one mouse action?","body":"<p>From the example displayed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/examples/components/index.html#TableSelectionDemo\" rel=\"nofollow noreferrer\">SWING component example index</a> from Oracle called <a href=\"https://docs.oracle.com/javase/tutorial/displayCode.html?code=https://docs.oracle.com/javase/tutorial/uiswing/examples/components/TableSelectionDemoProject/src/components/TableSelectionDemo.java\" rel=\"nofollow noreferrer\">TableSelectionDemo</a>:</p>\n<p>Screenshot of program:</p>\n<p><a href=\"https://i.stack.imgur.com/hkizq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hkizq.png\" alt=\"https://i.stack.imgur.com/hkizq.png\" /></a></p>\n<p>I noticed that multiple rows can be selected as usual when the click starts from a cell in the first 4 columns, but not when the click starts in the fifth column containing the checkboxes. I'm guessing this is the case because because the event that handles the state of the checkbox is triggered, but this in turn prevents the row selection event from being triggered as well.</p>\n<p>Is there a way for regular selection to work through that use case while preserving the regular behaviour regarding the checkboxes?</p>\n<p><a href=\"https://i.stack.imgur.com/hkizq.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/hkizq.png</a></p>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1647412746,"post_id":71492691,"comment_id":126361456,"body_markdown":"Please double check that what you are asking about is the XOR operator `^`. I somehow suspect that you mean something else.","body":"Please double check that what you are asking about is the XOR operator <code>^</code>. I somehow suspect that you mean something else."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1647412890,"post_id":71492691,"comment_id":126361481,"body_markdown":"Please also check the `+1`, it is slightly less unlikely than the `^`, but it is a little off the most likely explanation I can think of.","body":"Please also check the <code>+1</code>, it is slightly less unlikely than the <code>^</code>, but it is a little off the most likely explanation I can think of."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1647413238,"post_id":71492691,"comment_id":126361567,"body_markdown":"Pretty sure they mean exponentiation.","body":"Pretty sure they mean exponentiation."},{"owner":{"account_id":3398127,"reputation":353,"user_id":4386370,"display_name":"nayriz"},"score":0,"creation_date":1647413305,"post_id":71492691,"comment_id":126361581,"body_markdown":"@Yunnosch about &quot;^&quot;, you&#39;re absolutely right, I&#39;m just struggling to use the markdown for exponents. Abouth the &quot;+1&quot;, I could be wrong but let me add a few examples.","body":"@Yunnosch about &quot;^&quot;, you&#39;re absolutely right, I&#39;m just struggling to use the markdown for exponents. Abouth the &quot;+1&quot;, I could be wrong but let me add a few examples."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1647415413,"post_id":71492691,"comment_id":126362127,"body_markdown":"Are sure that this isn&#39;t just a signed or unsigned 16 bit number represented as 2 Java bytes?  How are you reading the wav file?  How are you extracting the `m` and `n` values?","body":"Are sure that this isn&#39;t just a signed or unsigned 16 bit number represented as 2 Java bytes?  How are you reading the wav file?  How are you extracting the <code>m</code> and <code>n</code> values?"},{"owner":{"account_id":3398127,"reputation":353,"user_id":4386370,"display_name":"nayriz"},"score":0,"creation_date":1647415824,"post_id":71492691,"comment_id":126362255,"body_markdown":"@StephenC I don&#39;t know, it could well be, that&#39;s why I&#39;m asking! I&#39;m following this example: https://www.codejava.net/coding/how-to-play-back-audio-in-java-with-examples","body":"@StephenC I don&#39;t know, it could well be, that&#39;s why I&#39;m asking! I&#39;m following this example: <a href=\"https://www.codejava.net/coding/how-to-play-back-audio-in-java-with-examples\" rel=\"nofollow noreferrer\">codejava.net/coding/&hellip;</a>"},{"owner":{"account_id":5529755,"reputation":28247,"user_id":4390160,"accept_rate":100,"display_name":"Grismar"},"score":0,"creation_date":1647415897,"post_id":71492691,"comment_id":126362281,"body_markdown":"@nayriz how did you come to the conclusion that &quot;the corresponding values in Python have the following form&quot;? How are you reading these values? It&#39;s likely just a misinterpretation of the raw bytes as a specific numeric format.","body":"@nayriz how did you come to the conclusion that &quot;the corresponding values in Python have the following form&quot;? How are you reading these values? It&#39;s likely just a misinterpretation of the raw bytes as a specific numeric format."},{"owner":{"account_id":3398127,"reputation":353,"user_id":4386370,"display_name":"nayriz"},"score":0,"creation_date":1647415985,"post_id":71492691,"comment_id":126362307,"body_markdown":"@Grismar , good question. I opened the same file using scipy.io.wavfile and compared the values.","body":"@Grismar , good question. I opened the same file using scipy.io.wavfile and compared the values."},{"owner":{"account_id":3398127,"reputation":353,"user_id":4386370,"display_name":"nayriz"},"score":0,"creation_date":1647570217,"post_id":71492691,"comment_id":126410340,"body_markdown":"@Yunnosch my formula was wrong, it seems that the new one is correct.","body":"@Yunnosch my formula was wrong, it seems that the new one is correct."},{"owner":{"account_id":3398127,"reputation":353,"user_id":4386370,"display_name":"nayriz"},"score":0,"creation_date":1647570370,"post_id":71492691,"comment_id":126410359,"body_markdown":"@StephenC is there an easy way to convert a 2 Java bytes to a 16-bit in either Java or Python?","body":"@StephenC is there an easy way to convert a 2 Java bytes to a 16-bit in either Java or Python?"}],"answers":[{"tags":[],"owner":{"account_id":5224617,"reputation":6216,"user_id":4177009,"display_name":"Ture P&#229;lsson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647416223,"creation_date":1647416223,"answer_id":71493242,"question_id":71492691,"body_markdown":"This looks like bog-standard little-endian two&#39;s-complement. Take your sample numbers:\r\n\r\n    import struct\r\n    struct.pack(&#39;&lt;hh&#39;, 418, -1311).hex()\r\n    # Yields a201e1fa\r\n\r\nNow A2, when interpreted as an 8-bit signed two&#39;s complement number (Java likes its bytes signed, for some reason) is -94. 01 is 1, obviously, and e1, fa are -31 and -6, respectively. So, if you have read your data as a byte array, you can decode it to integers using `struct.unpack(&#39;&lt;4711h&#39;, the_array)`, where 4711 is the length of the array.","title":"What byte representation does Java Sound API use audio streams?","body":"<p>This looks like bog-standard little-endian two's-complement. Take your sample numbers:</p>\n<pre><code>import struct\nstruct.pack('&lt;hh', 418, -1311).hex()\n# Yields a201e1fa\n</code></pre>\n<p>Now A2, when interpreted as an 8-bit signed two's complement number (Java likes its bytes signed, for some reason) is -94. 01 is 1, obviously, and e1, fa are -31 and -6, respectively. So, if you have read your data as a byte array, you can decode it to integers using <code>struct.unpack('&lt;4711h', the_array)</code>, where 4711 is the length of the array.</p>\n"},{"tags":[],"owner":{"account_id":3398127,"reputation":353,"user_id":4386370,"display_name":"nayriz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647574994,"creation_date":1647572058,"answer_id":71521987,"question_id":71492691,"body_markdown":"I couldn&#39;t get Ture P&#229;lsson&#39;s code to work, so I ended doing\r\n\r\n    P = M + ( N + np.floor((N - np.sign(N)*1)/2) )*256\r\n\r\nin Python, where M, N and P are all Numpy arrays.\r\n\r\n(More than happy to accept another answer if someone comes up with something more efficient/elegant and/or a detailed description of what&#39;s going on with Java Sound API.)","title":"What byte representation does Java Sound API use audio streams?","body":"<p>I couldn't get Ture Pålsson's code to work, so I ended doing</p>\n<pre><code>P = M + ( N + np.floor((N - np.sign(N)*1)/2) )*256\n</code></pre>\n<p>in Python, where M, N and P are all Numpy arrays.</p>\n<p>(More than happy to accept another answer if someone comes up with something more efficient/elegant and/or a detailed description of what's going on with Java Sound API.)</p>\n"}],"owner":{"account_id":3398127,"reputation":353,"user_id":4386370,"display_name":"nayriz"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71521987,"answer_count":2,"score":0,"last_activity_date":1647574994,"creation_date":1647412559,"question_id":71492691,"body_markdown":"I tried to read a **16-bit** encoded wav file using Java Sound API and send the file to a Python script via an HTTP request, but the Python script could not properly read the file.\r\n\r\nAfter some investigation, it seems that the data in Java is represented by pairs of integers (m, n), and that the corresponding values in Python have the following form: \r\n```\r\nm + n * 2**8 if m &gt;= 0\r\n\r\nm + (n + 1) * 2**8 else \r\n```\r\nA few examples:\r\n\r\n(-94,1) -&gt; 418\r\n\r\n(-31,-6) -&gt; -1311\r\n\r\n\r\nWhat is this encoding? Is there an efficient way to convert it to what is needed in Python? ","title":"What byte representation does Java Sound API use audio streams?","body":"<p>I tried to read a <strong>16-bit</strong> encoded wav file using Java Sound API and send the file to a Python script via an HTTP request, but the Python script could not properly read the file.</p>\n<p>After some investigation, it seems that the data in Java is represented by pairs of integers (m, n), and that the corresponding values in Python have the following form:</p>\n<pre><code>m + n * 2**8 if m &gt;= 0\n\nm + (n + 1) * 2**8 else \n</code></pre>\n<p>A few examples:</p>\n<p>(-94,1) -&gt; 418</p>\n<p>(-31,-6) -&gt; -1311</p>\n<p>What is this encoding? Is there an efficient way to convert it to what is needed in Python?</p>\n"},{"tags":["java","spring","spring-transactions","quartz"],"answers":[{"tags":[],"owner":{"account_id":207465,"reputation":1087,"user_id":457340,"accept_rate":75,"display_name":"rainerhahnekamp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1478908631,"creation_date":1478908631,"answer_id":40558045,"question_id":40557782,"body_markdown":"An example would be good but I suggest that you simply add `@Transactional` to the method you are running. That should do it.\r\n\r\nMore info here:\r\nhttp://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html","title":"Java Quartz Spring transaction support","body":"<p>An example would be good but I suggest that you simply add <code>@Transactional</code> to the method you are running. That should do it.</p>\n\n<p>More info here:\n<a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html</a></p>\n"},{"tags":[],"owner":{"account_id":13183174,"reputation":373,"user_id":9521984,"display_name":"Yuefeng Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647574762,"creation_date":1647574762,"answer_id":71522209,"question_id":40557782,"body_markdown":"So seems that you want to wrap Quartz job execution in a global transaction to comply with some transactional operation to another database.\r\n\r\nAccording to the Quartz documentation [here][1], you basically have to:\r\n- Use `JobStoreCMT` or its subclass as Quartz job store (e.g., `LocalDataSourceJobStore` in Spring);\r\n- Set `org.quartz.scheduler.wrapJobExecutionInUserTransaction` to true; \r\n- Manage the transaction in the JTA way in your own code.\r\n\r\nTypically, for the last step above, if you are using Spring, you could simply:\r\n\r\n - Mark the `job.execute()` with `@Transactional`;\r\n - Chain the two transaction manager (Quartz&#39;s and your own database&#39;s) together, like in [here][2];\r\n\r\n\r\n  [1]: http://www.quartz-scheduler.org/documentation/2.3.1-SNAPSHOT/tutorials/tutorial-lesson-11.html\r\n  [2]: https://stackoverflow.com/questions/56500323/spring-how-to-configure-transactional-properly-with-two-datasources","title":"Java Quartz Spring transaction support","body":"<p>So seems that you want to wrap Quartz job execution in a global transaction to comply with some transactional operation to another database.</p>\n<p>According to the Quartz documentation <a href=\"http://www.quartz-scheduler.org/documentation/2.3.1-SNAPSHOT/tutorials/tutorial-lesson-11.html\" rel=\"nofollow noreferrer\">here</a>, you basically have to:</p>\n<ul>\n<li>Use <code>JobStoreCMT</code> or its subclass as Quartz job store (e.g., <code>LocalDataSourceJobStore</code> in Spring);</li>\n<li>Set <code>org.quartz.scheduler.wrapJobExecutionInUserTransaction</code> to true;</li>\n<li>Manage the transaction in the JTA way in your own code.</li>\n</ul>\n<p>Typically, for the last step above, if you are using Spring, you could simply:</p>\n<ul>\n<li>Mark the <code>job.execute()</code> with <code>@Transactional</code>;</li>\n<li>Chain the two transaction manager (Quartz's and your own database's) together, like in <a href=\"https://stackoverflow.com/questions/56500323/spring-how-to-configure-transactional-properly-with-two-datasources\">here</a>;</li>\n</ul>\n"}],"owner":{"account_id":4559460,"reputation":2251,"user_id":3702196,"accept_rate":75,"display_name":"avalon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2116,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":40558045,"answer_count":2,"score":0,"last_activity_date":1647574762,"creation_date":1478906811,"question_id":40557782,"body_markdown":"I need to write a database logic in Quartz job detail bean. Can I do that without any explicit declarations, or how to do that properly to be sure it runs in transaction? ","title":"Java Quartz Spring transaction support","body":"<p>I need to write a database logic in Quartz job detail bean. Can I do that without any explicit declarations, or how to do that properly to be sure it runs in transaction? </p>\n"},{"tags":["java","collections","immutability"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":246,"is_accepted":true,"score":246,"last_activity_date":1326793737,"creation_date":1326793267,"answer_id":8892376,"question_id":8892350,"body_markdown":"An unmodifiable collection is often a wrapper around a modifiable collection *which other code may still have access to*. So while *you* can&#39;t make any changes to it if you only have a reference to the unmodifiable collection, you can&#39;t rely on the contents not changing.\r\n\r\nAn *immutable* collection guarantees that *nothing* can change the collection any more. If it wraps a modifiable collection, it makes sure that no other code has access to that modifiable collection. Note that although no code can change which objects the collection contains references to, the objects themselves may still be mutable - creating an immutable collection of `StringBuilder` doesn&#39;t somehow &quot;freeze&quot; those objects.\r\n\r\nBasically, the difference is about whether other code may be able to change the collection behind your back.","title":"Immutable vs Unmodifiable collection","body":"<p>An unmodifiable collection is often a wrapper around a modifiable collection <em>which other code may still have access to</em>. So while <em>you</em> can't make any changes to it if you only have a reference to the unmodifiable collection, you can't rely on the contents not changing.</p>\n\n<p>An <em>immutable</em> collection guarantees that <em>nothing</em> can change the collection any more. If it wraps a modifiable collection, it makes sure that no other code has access to that modifiable collection. Note that although no code can change which objects the collection contains references to, the objects themselves may still be mutable - creating an immutable collection of <code>StringBuilder</code> doesn't somehow \"freeze\" those objects.</p>\n\n<p>Basically, the difference is about whether other code may be able to change the collection behind your back.</p>\n"},{"tags":[],"owner":{"account_id":7335,"reputation":334951,"user_id":12711,"accept_rate":75,"display_name":"Michael Burr"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1326793831,"creation_date":1326793831,"answer_id":8892519,"question_id":8892350,"body_markdown":"I think the main difference is that the owner of a mutable collection might want to provide access to the collection to some other code, but provide that access through an interface that doens&#39;t allow the other code to modify the collection (while reserving that capability to the owning code). So the collection isn&#39;t immutable, but certain users aren&#39;t permitted to change the collection.\r\n\r\nOracle&#39;s [Java Collection Wrapper tutorial][1] has this to say (emphasis added):\r\n\r\n&gt; Unmodifiable wrappers have two main uses, as follows:\r\n&gt; \r\n&gt;   - To make a collection immutable once it has been built. In this case, it&#39;s good practice not to maintain a reference to the backing\r\n&gt; collection. This absolutely guarantees immutability.\r\n&gt;   - **To allow certain clients read-only access to your data structures. You keep a reference to the backing collection but hand\r\n&gt; out a reference to the wrapper. In this way, clients can look but not\r\n&gt; modify, while you maintain full access**.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/collections/implementations/wrapper.html","title":"Immutable vs Unmodifiable collection","body":"<p>I think the main difference is that the owner of a mutable collection might want to provide access to the collection to some other code, but provide that access through an interface that doens't allow the other code to modify the collection (while reserving that capability to the owning code). So the collection isn't immutable, but certain users aren't permitted to change the collection.</p>\n\n<p>Oracle's <a href=\"http://docs.oracle.com/javase/tutorial/collections/implementations/wrapper.html\" rel=\"noreferrer\">Java Collection Wrapper tutorial</a> has this to say (emphasis added):</p>\n\n<blockquote>\n  <p>Unmodifiable wrappers have two main uses, as follows:</p>\n  \n  <ul>\n  <li>To make a collection immutable once it has been built. In this case, it's good practice not to maintain a reference to the backing\n  collection. This absolutely guarantees immutability.</li>\n  <li><strong>To allow certain clients read-only access to your data structures. You keep a reference to the backing collection but hand\n  out a reference to the wrapper. In this way, clients can look but not\n  modify, while you maintain full access</strong>.</li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":350533,"reputation":10937,"user_id":686478,"accept_rate":59,"display_name":"Prashant Bhate"},"down_vote_count":0,"up_vote_count":122,"is_accepted":false,"score":122,"last_activity_date":1380184200,"creation_date":1326796527,"answer_id":8893125,"question_id":8892350,"body_markdown":"Basically `unModifiable` Collection is a view, So indirectly it could still be &#39;modified&#39; from some other reference that is modifiable. Also as its just a ***readonly view*** of annother collection , When the source collection changes unModifiable Collection will always present with latest values.\r\n\r\nHowever `immutable` Collection can be treated as a ***readonly copy*** of another collection and can not be modified. In this case when  the source collection changes , immutable Collection do not reflect the changes\r\n\r\nHere is a testcase to visualise this difference. \r\n\r\n\t@Test\r\n\tpublic void testList() {\r\n\r\n\t\tList&lt;String&gt; modifiableList = new ArrayList&lt;String&gt;();\r\n\t\tmodifiableList.add(&quot;a&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;modifiableList:&quot;+modifiableList);\r\n\t\tSystem.out.println(&quot;--&quot;);\r\n\r\n\r\n\t\t//unModifiableList\r\n\r\n\t\tassertEquals(1, modifiableList.size());\r\n\t\t\r\n\t\tList&lt;String&gt; unModifiableList=Collections.unmodifiableList(\r\n\t\t\t\t\t\t\t\t\t\t\tmodifiableList);\r\n\t\t\r\n\t\tmodifiableList.add(&quot;b&quot;);\r\n\t\t\r\n\t\tboolean exceptionThrown=false;\r\n\t\ttry {\r\n\t\t\tunModifiableList.add(&quot;b&quot;);\r\n\t\t\tfail(&quot;add supported for unModifiableList!!&quot;);\r\n\t\t} catch (UnsupportedOperationException e) {\r\n\t\t\texceptionThrown=true;\r\n\t\t\tSystem.out.println(&quot;unModifiableList.add() not supported&quot;);\r\n\t\t}\r\n\t\tassertTrue(exceptionThrown);\r\n\t\t\r\n\t\tSystem.out.println(&quot;modifiableList:&quot;+modifiableList);\r\n\t\tSystem.out.println(&quot;unModifiableList:&quot;+unModifiableList);\r\n\t\t\r\n\t\tassertEquals(2, modifiableList.size());\r\n\t\tassertEquals(2, unModifiableList.size());\r\n                System.out.println(&quot;--&quot;);\r\n\t\t\r\n\r\n\r\n                //immutableList\r\n\r\n\t\t\r\n\t\tList&lt;String&gt; immutableList=Collections.unmodifiableList(\r\n\t\t\t\t\t\t\t\tnew ArrayList&lt;String&gt;(modifiableList));\r\n\t\t\r\n\t\tmodifiableList.add(&quot;c&quot;);\r\n\r\n\t\texceptionThrown=false;\r\n\t\ttry {\r\n\t\t\timmutableList.add(&quot;c&quot;);\r\n\t\t\tfail(&quot;add supported for immutableList!!&quot;);\r\n\t\t} catch (UnsupportedOperationException e) {\r\n\t\t\texceptionThrown=true;\r\n\t\t\tSystem.out.println(&quot;immutableList.add() not supported&quot;);\r\n\t\t}\r\n\t\tassertTrue(exceptionThrown);\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;modifiableList:&quot;+modifiableList);\r\n\t\tSystem.out.println(&quot;unModifiableList:&quot;+unModifiableList);\r\n\t\tSystem.out.println(&quot;immutableList:&quot;+immutableList);\r\n\t\tSystem.out.println(&quot;--&quot;);\r\n\r\n\t\tassertEquals(3, modifiableList.size());\r\n\t\tassertEquals(3, unModifiableList.size());\r\n\t\tassertEquals(2, immutableList.size());\r\n\t\r\n\t}\r\n\r\n\r\n**Output**\r\n\r\n    modifiableList:[a]\r\n    --\r\n    unModifiableList.add() not supported\r\n    modifiableList:[a, b]\r\n    unModifiableList:[a, b]\r\n    --\r\n    immutableList.add() not supported\r\n    modifiableList:[a, b, c]\r\n    unModifiableList:[a, b, c]\r\n    immutableList:[a, b]\r\n    --\r\n\r\n","title":"Immutable vs Unmodifiable collection","body":"<p>Basically <code>unModifiable</code> Collection is a view, So indirectly it could still be 'modified' from some other reference that is modifiable. Also as its just a <strong><em>readonly view</em></strong> of annother collection , When the source collection changes unModifiable Collection will always present with latest values.</p>\n\n<p>However <code>immutable</code> Collection can be treated as a <strong><em>readonly copy</em></strong> of another collection and can not be modified. In this case when  the source collection changes , immutable Collection do not reflect the changes</p>\n\n<p>Here is a testcase to visualise this difference. </p>\n\n<pre><code>@Test\npublic void testList() {\n\n    List&lt;String&gt; modifiableList = new ArrayList&lt;String&gt;();\n    modifiableList.add(\"a\");\n\n    System.out.println(\"modifiableList:\"+modifiableList);\n    System.out.println(\"--\");\n\n\n    //unModifiableList\n\n    assertEquals(1, modifiableList.size());\n\n    List&lt;String&gt; unModifiableList=Collections.unmodifiableList(\n                                        modifiableList);\n\n    modifiableList.add(\"b\");\n\n    boolean exceptionThrown=false;\n    try {\n        unModifiableList.add(\"b\");\n        fail(\"add supported for unModifiableList!!\");\n    } catch (UnsupportedOperationException e) {\n        exceptionThrown=true;\n        System.out.println(\"unModifiableList.add() not supported\");\n    }\n    assertTrue(exceptionThrown);\n\n    System.out.println(\"modifiableList:\"+modifiableList);\n    System.out.println(\"unModifiableList:\"+unModifiableList);\n\n    assertEquals(2, modifiableList.size());\n    assertEquals(2, unModifiableList.size());\n            System.out.println(\"--\");\n\n\n\n            //immutableList\n\n\n    List&lt;String&gt; immutableList=Collections.unmodifiableList(\n                            new ArrayList&lt;String&gt;(modifiableList));\n\n    modifiableList.add(\"c\");\n\n    exceptionThrown=false;\n    try {\n        immutableList.add(\"c\");\n        fail(\"add supported for immutableList!!\");\n    } catch (UnsupportedOperationException e) {\n        exceptionThrown=true;\n        System.out.println(\"immutableList.add() not supported\");\n    }\n    assertTrue(exceptionThrown);\n\n\n    System.out.println(\"modifiableList:\"+modifiableList);\n    System.out.println(\"unModifiableList:\"+unModifiableList);\n    System.out.println(\"immutableList:\"+immutableList);\n    System.out.println(\"--\");\n\n    assertEquals(3, modifiableList.size());\n    assertEquals(3, unModifiableList.size());\n    assertEquals(2, immutableList.size());\n\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>modifiableList:[a]\n--\nunModifiableList.add() not supported\nmodifiableList:[a, b]\nunModifiableList:[a, b]\n--\nimmutableList.add() not supported\nmodifiableList:[a, b, c]\nunModifiableList:[a, b, c]\nimmutableList:[a, b]\n--\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5374286,"reputation":1172,"user_id":4350148,"accept_rate":12,"display_name":"dan b"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419288028,"creation_date":1419287652,"answer_id":27611460,"question_id":8892350,"body_markdown":"As noted above unmodifiable is not like immutable because an unmodifiable collection can be altered if for example an unmodifiable collection has an underlying delegate collection which is referenced by some other object and that object changes it.\r\n\r\nRegarding immutable, it&#39;s not even well defined.  However, generally it means that the object &quot;will not change&quot;, but that would need to be defined recursively. For example, I can define immutable on classes whose instance variables are all primitives and whose methods all contain no arguments and return primitives.  The methods then recursively allow the instance variables to be immutable and all methods to contain arguments that are immutable and that return immutable values. The methods should be guaranteed to return the same value over time.\r\n\r\nAssuming that we can do that, there is also the concept thread safe. **And you might be led to believe that immutable (or not changeble over time) also implies thread safe.** **However that is not the case** and that is the main point I am making here that has not yet been noted in other answers.  I can construct an immutable object that always returns the same results yet is not thread safe.  To see this suppose that I construct an immutable collection by maintaining additions and deletions over time.  Now the immutable collection returns its elements by looking at the internal collection (which may be changing over time) and then (internally) adding and deleting the elements that were added or deleted after creation of the collection.  Clearly, although the collection would always return the same elements, it is not thread safe merely because it will never change value.\r\n\r\nNow we can define immutable as objects that are thread safe and will never change.  There are guidelines for creating immutable classes that generally lead to such classes, however, keep in mind that there may be ways to create immutable classes, that require attention to thread safety, for example, as described in the &quot;snapshot&quot; collection example above.","title":"Immutable vs Unmodifiable collection","body":"<p>As noted above unmodifiable is not like immutable because an unmodifiable collection can be altered if for example an unmodifiable collection has an underlying delegate collection which is referenced by some other object and that object changes it.</p>\n\n<p>Regarding immutable, it's not even well defined.  However, generally it means that the object \"will not change\", but that would need to be defined recursively. For example, I can define immutable on classes whose instance variables are all primitives and whose methods all contain no arguments and return primitives.  The methods then recursively allow the instance variables to be immutable and all methods to contain arguments that are immutable and that return immutable values. The methods should be guaranteed to return the same value over time.</p>\n\n<p>Assuming that we can do that, there is also the concept thread safe. <strong>And you might be led to believe that immutable (or not changeble over time) also implies thread safe.</strong> <strong>However that is not the case</strong> and that is the main point I am making here that has not yet been noted in other answers.  I can construct an immutable object that always returns the same results yet is not thread safe.  To see this suppose that I construct an immutable collection by maintaining additions and deletions over time.  Now the immutable collection returns its elements by looking at the internal collection (which may be changing over time) and then (internally) adding and deleting the elements that were added or deleted after creation of the collection.  Clearly, although the collection would always return the same elements, it is not thread safe merely because it will never change value.</p>\n\n<p>Now we can define immutable as objects that are thread safe and will never change.  There are guidelines for creating immutable classes that generally lead to such classes, however, keep in mind that there may be ways to create immutable classes, that require attention to thread safety, for example, as described in the \"snapshot\" collection example above.</p>\n"},{"tags":[],"owner":{"account_id":2394020,"reputation":6422,"user_id":2093236,"display_name":"Dmide"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1581719872,"creation_date":1427292019,"answer_id":29257839,"question_id":8892350,"body_markdown":"If we are talking about JDK `Unmodifiable*` vs guava `Immutable*`, actually the difference is also in **performance**. Immutable collections can be both faster and more memory-efficient if they are **not** wrappers around regular collections (JDK implementations are wrappers).\r\n[Citing the guava team][1]:\r\n\r\nThe JDK provides Collections.unmodifiableXXX methods, but in our opinion, these can be\r\n\r\n&lt;...&gt;\r\n\r\n- inefficient: **the data structures still have all the overhead of mutable collections, including concurrent modification checks, extra space in hash tables, etc.**\r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki/ImmutableCollectionsExplained","title":"Immutable vs Unmodifiable collection","body":"<p>If we are talking about JDK <code>Unmodifiable*</code> vs guava <code>Immutable*</code>, actually the difference is also in <strong>performance</strong>. Immutable collections can be both faster and more memory-efficient if they are <strong>not</strong> wrappers around regular collections (JDK implementations are wrappers).\n<a href=\"https://github.com/google/guava/wiki/ImmutableCollectionsExplained\" rel=\"nofollow noreferrer\">Citing the guava team</a>:</p>\n\n<p>The JDK provides Collections.unmodifiableXXX methods, but in our opinion, these can be</p>\n\n<p>&lt;...></p>\n\n<ul>\n<li>inefficient: <strong>the data structures still have all the overhead of mutable collections, including concurrent modification checks, extra space in hash tables, etc.</strong></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":970000,"reputation":1787,"user_id":992706,"accept_rate":63,"display_name":"Bharath"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1543289187,"creation_date":1437684092,"answer_id":31597641,"question_id":8892350,"body_markdown":"To quote [The Java™ Tutorials][1]:\r\n\r\n&gt; Unlike synchronization wrappers, which add functionality to the wrapped collection, the unmodifiable wrappers take functionality away. In particular, **they take away the ability to modify the collection by intercepting all the operations that would modify the collection and throwing an UnsupportedOperationException**. Unmodifiable wrappers have two main uses, as follows:\r\n&gt; \r\n&gt; * To make a collection immutable once it has been built. In this case, it&#39;s good practice not to maintain a reference to the backing collection. This absolutely guarantees immutability.\r\n&gt; \r\n&gt; * To allow certain clients read-only access to your data structures. You keep a reference to the backing collection but hand out a reference to the wrapper. In this way, clients can look but not modify, while you maintain full access.\r\n\r\n&lt;sup&gt;(emphasis mine)&lt;/sup&gt;\r\n\r\nThis really sums it up. \r\n\r\n[1]: https://docs.oracle.com/javase/tutorial/collections/implementations/wrapper.html","title":"Immutable vs Unmodifiable collection","body":"<p>To quote <a href=\"https://docs.oracle.com/javase/tutorial/collections/implementations/wrapper.html\" rel=\"nofollow noreferrer\">The Java™ Tutorials</a>:</p>\n\n<blockquote>\n  <p>Unlike synchronization wrappers, which add functionality to the wrapped collection, the unmodifiable wrappers take functionality away. In particular, <strong>they take away the ability to modify the collection by intercepting all the operations that would modify the collection and throwing an UnsupportedOperationException</strong>. Unmodifiable wrappers have two main uses, as follows:</p>\n  \n  <ul>\n  <li><p>To make a collection immutable once it has been built. In this case, it's good practice not to maintain a reference to the backing collection. This absolutely guarantees immutability.</p></li>\n  <li><p>To allow certain clients read-only access to your data structures. You keep a reference to the backing collection but hand out a reference to the wrapper. In this way, clients can look but not modify, while you maintain full access.</p></li>\n  </ul>\n</blockquote>\n\n<p><sup>(emphasis mine)</sup></p>\n\n<p>This really sums it up. </p>\n"},{"tags":[],"owner":{"account_id":2346240,"reputation":506,"user_id":2056412,"accept_rate":67,"display_name":"piyush121"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575395655,"creation_date":1575395655,"answer_id":59162812,"question_id":8892350,"body_markdown":"The Java™ Tutorials say the following:\r\n\r\n&gt; Unlike synchronization wrappers, which add functionality to the\r\n&gt; wrapped collection, the unmodifiable wrappers take functionality away.\r\n&gt; In particular, they take away the ability to modify the collection by\r\n&gt; intercepting all the operations that would modify the collection and\r\n&gt; throwing an UnsupportedOperationException. Unmodifiable wrappers have\r\n&gt; two main uses, as follows:\r\n&gt; \r\n&gt; To make a collection immutable once it has been built. In this case,\r\n&gt; it&#39;s good practice not to maintain a reference to the backing\r\n&gt; collection. This absolutely guarantees immutability.\r\n&gt; \r\n&gt; To allow certain clients read-only access to your data structures. You\r\n&gt; keep a reference to the backing collection but hand out a reference to\r\n&gt; the wrapper. In this way, clients can look but not modify, while you\r\n&gt; maintain full access.\r\n\r\n\r\n\r\nI think its a good enough explanation to understand the difference.","title":"Immutable vs Unmodifiable collection","body":"<p>The Java™ Tutorials say the following:</p>\n\n<blockquote>\n  <p>Unlike synchronization wrappers, which add functionality to the\n  wrapped collection, the unmodifiable wrappers take functionality away.\n  In particular, they take away the ability to modify the collection by\n  intercepting all the operations that would modify the collection and\n  throwing an UnsupportedOperationException. Unmodifiable wrappers have\n  two main uses, as follows:</p>\n  \n  <p>To make a collection immutable once it has been built. In this case,\n  it's good practice not to maintain a reference to the backing\n  collection. This absolutely guarantees immutability.</p>\n  \n  <p>To allow certain clients read-only access to your data structures. You\n  keep a reference to the backing collection but hand out a reference to\n  the wrapper. In this way, clients can look but not modify, while you\n  maintain full access.</p>\n</blockquote>\n\n<p>I think its a good enough explanation to understand the difference.</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596471446,"creation_date":1596471446,"answer_id":63233142,"question_id":8892350,"body_markdown":"[\\[Unmodifiable and Immutable\\]][1]\r\n\r\nUnmodifiable collection(object) can still be changed by changing origin object. It is possible using reference. \r\n\r\nJava provides with several ways to create an Unmodifiable map:\r\n\r\n- `Collections.unmodifiableMap()`\r\n- Java 9 `Map.of()`, `Map.ofEntries()`\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62935284/4770877","title":"Immutable vs Unmodifiable collection","body":"<p><a href=\"https://stackoverflow.com/a/62935284/4770877\">[Unmodifiable and Immutable]</a></p>\n<p>Unmodifiable collection(object) can still be changed by changing origin object. It is possible using reference.</p>\n<p>Java provides with several ways to create an Unmodifiable map:</p>\n<ul>\n<li><code>Collections.unmodifiableMap()</code></li>\n<li>Java 9 <code>Map.of()</code>, <code>Map.ofEntries()</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3908890,"reputation":313,"user_id":3234777,"display_name":"user3234777"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1605122057,"creation_date":1605122057,"answer_id":64792755,"question_id":8892350,"body_markdown":"        // normal list\r\n        List list1 = new ArrayList();\r\n        list1.add(1);\r\n\r\n        // unmodifiable list\r\n        List list2 = Collections.unmodifiableList(list1);\r\n\r\n        // immutable list\r\n        List list3 = Collections.unmodifiableList(new ArrayList&lt;&gt;(list1));\r\n\r\n        list1.add(2);\r\n        list1.add(3);\r\n\r\n        System.out.println(list1);\r\n        System.out.println(list2);\r\n        System.out.println(list3);\r\n\r\nOutput:\r\n\r\n```\r\n[1, 2, 3]\r\n[1, 2, 3]\r\n[1]\r\n```","title":"Immutable vs Unmodifiable collection","body":"<pre><code>    // normal list\n    List list1 = new ArrayList();\n    list1.add(1);\n\n    // unmodifiable list\n    List list2 = Collections.unmodifiableList(list1);\n\n    // immutable list\n    List list3 = Collections.unmodifiableList(new ArrayList&lt;&gt;(list1));\n\n    list1.add(2);\n    list1.add(3);\n\n    System.out.println(list1);\n    System.out.println(list2);\n    System.out.println(list3);\n</code></pre>\n<p>Output:</p>\n<pre><code>[1, 2, 3]\n[1, 2, 3]\n[1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3737960,"reputation":109,"user_id":3108460,"accept_rate":25,"display_name":"Abhishek Raj"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1609063531,"creation_date":1609061719,"answer_id":65464451,"question_id":8892350,"body_markdown":"**An object is considered immutable if its state cannot change after it is constructed.** After you create an immutable instance of a collection, it holds the same data as long as a reference to it exists.\r\n\r\n**One advantage of an immutable collection is that it is automatically thread safe.** Collections containing immutable objects are automatically thread safe after construction. After you create such a collection, you can hand it to multiple threads, and they will all see a consistent view.\r\n\r\n**However, an immutable collection of objects is not the same as a collection of immutable objects.** If the contained elements are mutable, then this may cause the collection to behave inconsistently or make its contents to appear to change.\r\n\r\n**In simple words, if you add a little immutability to something mutable, you get mutability. And if you add a little mutability to something immutable, you get mutability.**\r\n\r\n**Immutable and Unmodifiable Are Not the Same :**\r\n\r\nThe immutable collections behave in the same way as the Collections.unmodifiable... wrappers. However, these collections are not wrappers — these are data structures implemented by classes where any attempt to modify the data causes an exception to be thrown.\r\n\r\nIf you create a List and pass it to the Collections.unmodifiableList method, then you get an unmodifiable view. The underlying list is still modifiable, and modifications to it are visible through the List that is returned, so it is not actually immutable.\r\n\r\nTo demonstrate this behavior, create a List and pass it to Collections.unmodifiableList. If you try to add to that unmodifiable List directly, then an UnsupportedOperationException is thrown.\r\n\r\nBut, if you change the original List, no error is generated, and the unmodifiable List has been modified.\r\n\r\nIn this case, to make a collection immutable once it has been built, it&#39;s a good practice not to maintain a reference to the backing collection. This absolutely guarantees immutability.\r\n\r\nFurther, to allow certain clients read-only access to your data structures. You can keep a reference to the backing collection but hand out a reference to the wrapper. In this way, clients can look but not be able to modify, while you maintain full access.\r\n\r\n**So, an immutable collection can contain mutable objects, and if it does, the collection is neither immutable nor thread safe.**","title":"Immutable vs Unmodifiable collection","body":"<p><strong>An object is considered immutable if its state cannot change after it is constructed.</strong> After you create an immutable instance of a collection, it holds the same data as long as a reference to it exists.</p>\n<p><strong>One advantage of an immutable collection is that it is automatically thread safe.</strong> Collections containing immutable objects are automatically thread safe after construction. After you create such a collection, you can hand it to multiple threads, and they will all see a consistent view.</p>\n<p><strong>However, an immutable collection of objects is not the same as a collection of immutable objects.</strong> If the contained elements are mutable, then this may cause the collection to behave inconsistently or make its contents to appear to change.</p>\n<p><strong>In simple words, if you add a little immutability to something mutable, you get mutability. And if you add a little mutability to something immutable, you get mutability.</strong></p>\n<p><strong>Immutable and Unmodifiable Are Not the Same :</strong></p>\n<p>The immutable collections behave in the same way as the Collections.unmodifiable... wrappers. However, these collections are not wrappers — these are data structures implemented by classes where any attempt to modify the data causes an exception to be thrown.</p>\n<p>If you create a List and pass it to the Collections.unmodifiableList method, then you get an unmodifiable view. The underlying list is still modifiable, and modifications to it are visible through the List that is returned, so it is not actually immutable.</p>\n<p>To demonstrate this behavior, create a List and pass it to Collections.unmodifiableList. If you try to add to that unmodifiable List directly, then an UnsupportedOperationException is thrown.</p>\n<p>But, if you change the original List, no error is generated, and the unmodifiable List has been modified.</p>\n<p>In this case, to make a collection immutable once it has been built, it's a good practice not to maintain a reference to the backing collection. This absolutely guarantees immutability.</p>\n<p>Further, to allow certain clients read-only access to your data structures. You can keep a reference to the backing collection but hand out a reference to the wrapper. In this way, clients can look but not be able to modify, while you maintain full access.</p>\n<p><strong>So, an immutable collection can contain mutable objects, and if it does, the collection is neither immutable nor thread safe.</strong></p>\n"},{"tags":[],"owner":{"account_id":357200,"reputation":1411,"user_id":697213,"accept_rate":38,"display_name":"TruckDriver"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1620901811,"creation_date":1620901811,"answer_id":67517709,"question_id":8892350,"body_markdown":"**Unmodifiable vs Immutable Collection**\r\n    \r\nCreate A modifiable map\r\n\r\n    Map&lt;String, String&gt; modifiableMap = new HashMap();\r\n    modifiableMap.put(“1”,”one”);\r\n    modifiableMap.put(“2”,”two”);\r\n    modifiableMap.put(“3”,”three”);\r\n    \r\n   Create an unmodifiableMap out of modifiableMap\r\n   \r\n\r\n     Map&lt;String,String&gt; unmodifiableMap = Collections.unmodifiableMap(modifiableMap);\r\n        unmodifiableMap.put(“4”,”Four”)  ==&gt;Exception\r\n        modifiableMap.put(“4”,”Four”);   ==&gt;Allowed, this will also reflect now in the unmodifiableMap , because unmodifiableMap() returns a wrapper around modifiableMap.\r\n         \r\nCreate an immutableMap out of modifiableMap\r\n   \r\n\r\n     Map&lt;String,String&gt; immutableMap = Collections.immutableMap(modifiableMap);\r\n        immutableMap.put(“5”,”Five”) ==&gt;Exception\r\n        modifiableMap.put(“5”,”Five”);   ==&gt;Allowed, BUT this will NOT reflect now in the immutableMap, because immutableMap() returns a copy of the modifiableMap.","title":"Immutable vs Unmodifiable collection","body":"<p><strong>Unmodifiable vs Immutable Collection</strong></p>\n<p>Create A modifiable map</p>\n<pre><code>Map&lt;String, String&gt; modifiableMap = new HashMap();\nmodifiableMap.put(“1”,”one”);\nmodifiableMap.put(“2”,”two”);\nmodifiableMap.put(“3”,”three”);\n</code></pre>\n<p>Create an unmodifiableMap out of modifiableMap</p>\n<pre><code> Map&lt;String,String&gt; unmodifiableMap = Collections.unmodifiableMap(modifiableMap);\n    unmodifiableMap.put(“4”,”Four”)  ==&gt;Exception\n    modifiableMap.put(“4”,”Four”);   ==&gt;Allowed, this will also reflect now in the unmodifiableMap , because unmodifiableMap() returns a wrapper around modifiableMap.\n     \n</code></pre>\n<p>Create an immutableMap out of modifiableMap</p>\n<pre><code> Map&lt;String,String&gt; immutableMap = Collections.immutableMap(modifiableMap);\n    immutableMap.put(“5”,”Five”) ==&gt;Exception\n    modifiableMap.put(“5”,”Five”);   ==&gt;Allowed, BUT this will NOT reflect now in the immutableMap, because immutableMap() returns a copy of the modifiableMap.\n</code></pre>\n"}],"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94324,"favorite_count":0,"down_vote_count":0,"up_vote_count":214,"closed_date":1653841319,"accepted_answer_id":8892376,"answer_count":11,"score":214,"last_activity_date":1647574442,"creation_date":1326793159,"question_id":8892350,"body_markdown":"From the [Collections Framework Overview][1]:  \r\n\r\n&gt; Collections that do not support modification operations (such as `add`, `remove` and `clear`) are referred to as *unmodifiable*. Collections that are not unmodifiable are *modifiable*.\r\n&gt;\r\n&gt; Collections that additionally guarantee that no change in the `Collection` object will be visible are referred to as *immutable*. Collections that are not immutable are *mutable*.\r\n\r\nI cannot understand the distinction.    \r\nWhat is the difference between *unmodifiable* and *immutable* here?  \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/technotes/guides/collections/overview.html","title":"Immutable vs Unmodifiable collection","body":"<p>From the <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/collections/overview.html\" rel=\"noreferrer\">Collections Framework Overview</a>:  </p>\n\n<blockquote>\n  <p>Collections that do not support modification operations (such as <code>add</code>, <code>remove</code> and <code>clear</code>) are referred to as <em>unmodifiable</em>. Collections that are not unmodifiable are <em>modifiable</em>.</p>\n  \n  <p>Collections that additionally guarantee that no change in the <code>Collection</code> object will be visible are referred to as <em>immutable</em>. Collections that are not immutable are <em>mutable</em>.</p>\n</blockquote>\n\n<p>I cannot understand the distinction.<br>\nWhat is the difference between <em>unmodifiable</em> and <em>immutable</em> here?  </p>\n"},{"tags":["java","ssl","bouncycastle","x509","com.sun.net.httpserver"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1647548188,"post_id":71516994,"comment_id":126405558,"body_markdown":"FYI, Java 18+ comes bundled with a simple web server based on that implementation in the `com.sun.net.httpserver` package. I assume this new version has been reworked, improved, and better tested. See [*JEP 408: Simple Web Server*](https://openjdk.java.net/jeps/408). [Java 18](https://openjdk.java.net/projects/jdk/18/) is available now as a Release Candidate, to be officially released next week, 2022-03-22. Be aware: This simple web server is *not* intended to be used in production. So this product does *not* include security features such as authentication, access control, or encryption.","body":"FYI, Java 18+ comes bundled with a simple web server based on that implementation in the <code>com.sun.net.httpserver</code> package. I assume this new version has been reworked, improved, and better tested. See <a href=\"https://openjdk.java.net/jeps/408\" rel=\"nofollow noreferrer\"><i>JEP 408: Simple Web Server</i></a>. <a href=\"https://openjdk.java.net/projects/jdk/18/\" rel=\"nofollow noreferrer\">Java 18</a> is available now as a Release Candidate, to be officially released next week, 2022-03-22. Be aware: This simple web server is <i>not</i> intended to be used in production. So this product does <i>not</i> include security features such as authentication, access control, or encryption."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1647548277,"post_id":71516994,"comment_id":126405580,"body_markdown":"If you want a feature-rich or commercial-grade server, consider far better alternatives in the form of server frameworks (e.g., Jetty, Netty, and Grizzly) or production servers (e.g., Apache Tomcat, Eclipse Jetty, Apache httpd, and NGINX).","body":"If you want a feature-rich or commercial-grade server, consider far better alternatives in the form of server frameworks (e.g., Jetty, Netty, and Grizzly) or production servers (e.g., Apache Tomcat, Eclipse Jetty, Apache httpd, and NGINX)."},{"owner":{"account_id":1063558,"reputation":25048,"user_id":1064659,"accept_rate":77,"display_name":"Taymon"},"score":0,"creation_date":1647554524,"post_id":71516994,"comment_id":126407348,"body_markdown":"Yes, this is just for a test, not for production (hence the use of the Cybervillains root CA). But the code being tested is specifically HTTPS-related, so a server that doesn&#39;t support that won&#39;t work. Also, I&#39;m stuck on Java 11 and will be for the foreseeable future.","body":"Yes, this is just for a test, not for production (hence the use of the Cybervillains root CA). But the code being tested is specifically HTTPS-related, so a server that doesn&#39;t support that won&#39;t work. Also, I&#39;m stuck on Java 11 and will be for the foreseeable future."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1647554662,"post_id":71516994,"comment_id":126407387,"body_markdown":"The leaf certificate is deficient in many ways. It doesn&#39;t contain 127.0.0.1 as a subject alt name and it doesn&#39;t have the correct extensions. I&#39;m not sure if these are causing the curl error message though.","body":"The leaf certificate is deficient in many ways. It doesn&#39;t contain 127.0.0.1 as a subject alt name and it doesn&#39;t have the correct extensions. I&#39;m not sure if these are causing the curl error message though."},{"owner":{"account_id":1063558,"reputation":25048,"user_id":1064659,"accept_rate":77,"display_name":"Taymon"},"score":0,"creation_date":1647554804,"post_id":71516994,"comment_id":126407411,"body_markdown":"Well, I&#39;d be happy to try to find out. What are the correct extensions?","body":"Well, I&#39;d be happy to try to find out. What are the correct extensions?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1647555316,"post_id":71516994,"comment_id":126407525,"body_markdown":"Easiest thing to do is to look at what they are for any working site, like this one for example.","body":"Easiest thing to do is to look at what they are for any working site, like this one for example."},{"owner":{"account_id":1063558,"reputation":25048,"user_id":1064659,"accept_rate":77,"display_name":"Taymon"},"score":0,"creation_date":1647561020,"post_id":71516994,"comment_id":126408592,"body_markdown":"I tried that already but there are rather a lot of them and I&#39;m having a hard time figuring out the correct string representation of each one. Is there documentation of this anywhere?","body":"I tried that already but there are rather a lot of them and I&#39;m having a hard time figuring out the correct string representation of each one. Is there documentation of this anywhere?"}],"answers":[{"tags":[],"owner":{"account_id":1063558,"reputation":25048,"user_id":1064659,"accept_rate":77,"display_name":"Taymon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647573305,"creation_date":1647573305,"answer_id":71522080,"question_id":71516994,"body_markdown":"Here&#39;s what ended up working:\r\n```java\r\nX509Certificate leafCert = new JcaX509CertificateConverter()\r\n        .getCertificate(new JcaX509v3CertificateBuilder(\r\n                rootStore.getCertificate(&quot;signingcert&quot;),\r\n                /* serial= */ BigInteger.valueOf(now.toEpochMilli()),\r\n                /* notBefore= */ Date\r\n                        .from(now.minus(Duration.ofMinutes(5))),\r\n                /* notAfter= */ Date.from(now.plus(Duration.ofDays(1))),\r\n                new X500Name(new RDN[0]), leafPair.getPublic())\r\n                        .addExtension(Extension.subjectAlternativeName,\r\n                                /* isCritical= */ true,\r\n                                new GeneralNames(new GeneralName(\r\n                                        GeneralName.dNSName,\r\n                                        &quot;localhost&quot;)))\r\n                        .addExtension(Extension.extendedKeyUsage,\r\n                                /* isCritical= */ false,\r\n                                new ExtendedKeyUsage(\r\n                                        KeyPurposeId.id_kp_serverAuth))\r\n                        .build(new JcaContentSignerBuilder(\r\n                                &quot;SHA256withRSA&quot;).build(\r\n                                        (PrivateKey) rootStore.getKey(\r\n                                                &quot;signingcertprivkey&quot;,\r\n                                                &quot;password&quot;\r\n                                                        .toCharArray()))));\r\n```","title":"Why doesn&#39;t this Java HttpsServer successfully complete a TLS handshake?","body":"<p>Here's what ended up working:</p>\n<pre class=\"lang-java prettyprint-override\"><code>X509Certificate leafCert = new JcaX509CertificateConverter()\n        .getCertificate(new JcaX509v3CertificateBuilder(\n                rootStore.getCertificate(&quot;signingcert&quot;),\n                /* serial= */ BigInteger.valueOf(now.toEpochMilli()),\n                /* notBefore= */ Date\n                        .from(now.minus(Duration.ofMinutes(5))),\n                /* notAfter= */ Date.from(now.plus(Duration.ofDays(1))),\n                new X500Name(new RDN[0]), leafPair.getPublic())\n                        .addExtension(Extension.subjectAlternativeName,\n                                /* isCritical= */ true,\n                                new GeneralNames(new GeneralName(\n                                        GeneralName.dNSName,\n                                        &quot;localhost&quot;)))\n                        .addExtension(Extension.extendedKeyUsage,\n                                /* isCritical= */ false,\n                                new ExtendedKeyUsage(\n                                        KeyPurposeId.id_kp_serverAuth))\n                        .build(new JcaContentSignerBuilder(\n                                &quot;SHA256withRSA&quot;).build(\n                                        (PrivateKey) rootStore.getKey(\n                                                &quot;signingcertprivkey&quot;,\n                                                &quot;password&quot;\n                                                        .toCharArray()))));\n</code></pre>\n"}],"owner":{"account_id":1063558,"reputation":25048,"user_id":1064659,"accept_rate":77,"display_name":"Taymon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71522080,"answer_count":1,"score":0,"last_activity_date":1647573305,"creation_date":1647539779,"question_id":71516994,"body_markdown":"I&#39;ve tried to set up the minimal possible HTTPS server in Java based on https://stackoverflow.com/questions/2308479/simple-java-https-server, with one difference: it uses a dynamically generated certificate signed by a static CA. (The purpose of this is to facilitate man-in-the-middle proxying, but for simplicity I&#39;m just using a regular server here.)\r\n\r\n```java\r\nimport com.sun.net.httpserver.HttpsConfigurator;\r\nimport com.sun.net.httpserver.HttpsParameters;\r\nimport com.sun.net.httpserver.HttpsServer;\r\nimport java.io.InputStream;\r\nimport java.math.BigInteger;\r\nimport java.net.InetSocketAddress;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.security.KeyPair;\r\nimport java.security.KeyPairGenerator;\r\nimport java.security.KeyStore;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.PrivateKey;\r\nimport java.security.cert.Certificate;\r\nimport java.security.cert.X509Certificate;\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.Date;\r\nimport javax.net.ssl.KeyManagerFactory;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLEngine;\r\nimport javax.net.ssl.TrustManagerFactory;\r\nimport javax.security.auth.x500.X500Principal;\r\nimport org.bouncycastle.cert.jcajce.JcaX509CertificateConverter;\r\nimport org.bouncycastle.cert.jcajce.JcaX509v3CertificateBuilder;\r\nimport org.bouncycastle.operator.jcajce.JcaContentSignerBuilder;\r\n\r\npublic class MinimalHttpsServer {\r\n    public static void main(String[] args) throws Exception {\r\n        var server = HttpsServer.create(\r\n                new InetSocketAddress(&quot;localhost&quot;, 8443), /* backlog= */ 0);\r\n        server.createContext(&quot;/&quot;, exchange -&gt; {\r\n            exchange.sendResponseHeaders(/* rCode= */ 204,\r\n                    /* responseLength= */ 0);\r\n            exchange.close();\r\n        });\r\n        var rootStore = KeyStore.getInstance(&quot;jks&quot;);\r\n        try (InputStream rootStoreStream = Files\r\n                .newInputStream(Paths.get(&quot;cybervillainsCA.jks&quot;))) {\r\n            rootStore.load(rootStoreStream, &quot;password&quot;.toCharArray());\r\n        }\r\n        var leafGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n        leafGenerator.initialize(/* keysize= */ 3072);\r\n        KeyPair leafPair = leafGenerator.generateKeyPair();\r\n        var leafStore = KeyStore.getInstance(&quot;jks&quot;);\r\n        leafStore.load(/* stream= */ null, /* password= */ null);\r\n        String issuerName = &quot;O = CyberVillians.com, OU = CyberVillians Certification Authority, C = US&quot;; // [sic]\r\n        var now = Instant.now();\r\n        X509Certificate leafCert = new JcaX509CertificateConverter()\r\n                .getCertificate(new JcaX509v3CertificateBuilder(\r\n                        new X500Principal(issuerName),\r\n                        /* serial= */ BigInteger.valueOf(now.toEpochMilli()),\r\n                        /* notBefore= */ Date\r\n                                .from(now.minus(Duration.ofMinutes(5))),\r\n                        /* notAfter= */ Date.from(now.plus(Duration.ofDays(1))),\r\n                        /* subject= */ new X500Principal(&quot;CN = localhost&quot;),\r\n                        leafPair.getPublic()).build(\r\n                                new JcaContentSignerBuilder(&quot;SHA256withRSA&quot;)\r\n                                        .build((PrivateKey) rootStore.getKey(\r\n                                                &quot;signingcertprivkey&quot;,\r\n                                                &quot;password&quot;.toCharArray()))));\r\n        leafStore.setCertificateEntry(&quot;leafcert&quot;, leafCert);\r\n        leafStore.setKeyEntry(&quot;leafcertprivkey&quot;, leafPair.getPrivate(),\r\n                /* password= */ new char[0], new Certificate[] { leafCert,\r\n                        rootStore.getCertificate(&quot;signingcert&quot;) });\r\n        var keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n        keyManagerFactory.init(leafStore, /* password= */ new char[0]);\r\n        var trustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\r\n        trustManagerFactory.init(leafStore);\r\n        var outerContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        outerContext.init(keyManagerFactory.getKeyManagers(),\r\n                trustManagerFactory.getTrustManagers(), /* random= */ null);\r\n        server.setHttpsConfigurator(new HttpsConfigurator(outerContext) {\r\n            @Override\r\n            public void configure(HttpsParameters params) {\r\n                try {\r\n                    var innerContext = SSLContext.getDefault();\r\n                    SSLEngine engine = innerContext.createSSLEngine();\r\n                    params.setNeedClientAuth(false);\r\n                    params.setCipherSuites(engine.getEnabledCipherSuites());\r\n                    params.setProtocols(engine.getEnabledProtocols());\r\n                    params.setSSLParameters(\r\n                            innerContext.getDefaultSSLParameters());\r\n                } catch (NoSuchAlgorithmException ex) {\r\n                    ex.printStackTrace();\r\n                    System.exit(1);\r\n                }\r\n            }\r\n        });\r\n        server.setExecutor(Runnable::run);\r\n        System.err.println(&quot;Serving...&quot;);\r\n        server.start();\r\n    }\r\n}\r\n```\r\n\r\nTo build and run this (on a Unix-like system):\r\n```sh\r\nwget \\\r\n  https://downloads.bouncycastle.org/java/bcpkix-jdk15on-170.jar \\\r\n  https://downloads.bouncycastle.org/java/bcprov-jdk15on-170.jar \\\r\n  https://downloads.bouncycastle.org/java/bcutil-jdk15on-170.jar \\\r\n  https://raw.githubusercontent.com/lightbody/browsermob-proxy/ec2f7bdf00336af7009cdf59ab3cac128ace8ee8/browsermob-core/src/main/resources/sslSupport/cybervillainsCA.jks\r\njavac -cp bcpkix-jdk15on-170.jar:bcprov-jdk15on-170.jar MinimalHttpsServer.java\r\njava -cp bcpkix-jdk15on-170.jar:bcprov-jdk15on-170.jar:bcutil-jdk15on-170.jar:. MinimalHttpsServer\r\n```\r\n\r\nAnd then, to check whether it&#39;s working:\r\n```sh\r\nkeytool -exportcert -keystore cybervillainsCA.jks -alias signingcert -storepass password -rfc -file cybervillainsCA.pem\r\ncurl --cacert cybervillainsCA.pem --verbose https://localhost:8443\r\n```\r\n\r\nThis fails with the following output:\r\n```lang-none\r\n*   Trying 127.0.0.1:8443...\r\n* Connected to localhost (127.0.0.1) port 8443 (#0)\r\n* ALPN, offering h2\r\n* ALPN, offering http/1.1\r\n*  CAfile: cybervillainsCA.pem\r\n*  CApath: /etc/ssl/certs\r\n* TLSv1.3 (OUT), TLS handshake, Client hello (1):\r\n* TLSv1.3 (IN), TLS handshake, Server hello (2):\r\n* TLSv1.3 (IN), TLS handshake, Encrypted Extensions (8):\r\n* TLSv1.3 (IN), TLS handshake, Certificate (11):\r\n* TLSv1.3 (OUT), TLS alert, unknown CA (560):\r\n* SSL certificate problem: unable to get local issuer certificate\r\n* Closing connection 0\r\ncurl: (60) SSL certificate problem: unable to get local issuer certificate\r\nMore details here: https://curl.se/docs/sslcerts.html\r\n\r\ncurl failed to verify the legitimacy of the server and therefore could not\r\nestablish a secure connection to it. To learn more about this situation and\r\nhow to fix it, please visit the web page mentioned above.\r\n```\r\n\r\nWhat am I doing wrong?","title":"Why doesn&#39;t this Java HttpsServer successfully complete a TLS handshake?","body":"<p>I've tried to set up the minimal possible HTTPS server in Java based on <a href=\"https://stackoverflow.com/questions/2308479/simple-java-https-server\">Simple Java HTTPS server</a>, with one difference: it uses a dynamically generated certificate signed by a static CA. (The purpose of this is to facilitate man-in-the-middle proxying, but for simplicity I'm just using a regular server here.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sun.net.httpserver.HttpsConfigurator;\nimport com.sun.net.httpserver.HttpsParameters;\nimport com.sun.net.httpserver.HttpsServer;\nimport java.io.InputStream;\nimport java.math.BigInteger;\nimport java.net.InetSocketAddress;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.security.KeyStore;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.PrivateKey;\nimport java.security.cert.Certificate;\nimport java.security.cert.X509Certificate;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Date;\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLEngine;\nimport javax.net.ssl.TrustManagerFactory;\nimport javax.security.auth.x500.X500Principal;\nimport org.bouncycastle.cert.jcajce.JcaX509CertificateConverter;\nimport org.bouncycastle.cert.jcajce.JcaX509v3CertificateBuilder;\nimport org.bouncycastle.operator.jcajce.JcaContentSignerBuilder;\n\npublic class MinimalHttpsServer {\n    public static void main(String[] args) throws Exception {\n        var server = HttpsServer.create(\n                new InetSocketAddress(&quot;localhost&quot;, 8443), /* backlog= */ 0);\n        server.createContext(&quot;/&quot;, exchange -&gt; {\n            exchange.sendResponseHeaders(/* rCode= */ 204,\n                    /* responseLength= */ 0);\n            exchange.close();\n        });\n        var rootStore = KeyStore.getInstance(&quot;jks&quot;);\n        try (InputStream rootStoreStream = Files\n                .newInputStream(Paths.get(&quot;cybervillainsCA.jks&quot;))) {\n            rootStore.load(rootStoreStream, &quot;password&quot;.toCharArray());\n        }\n        var leafGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n        leafGenerator.initialize(/* keysize= */ 3072);\n        KeyPair leafPair = leafGenerator.generateKeyPair();\n        var leafStore = KeyStore.getInstance(&quot;jks&quot;);\n        leafStore.load(/* stream= */ null, /* password= */ null);\n        String issuerName = &quot;O = CyberVillians.com, OU = CyberVillians Certification Authority, C = US&quot;; // [sic]\n        var now = Instant.now();\n        X509Certificate leafCert = new JcaX509CertificateConverter()\n                .getCertificate(new JcaX509v3CertificateBuilder(\n                        new X500Principal(issuerName),\n                        /* serial= */ BigInteger.valueOf(now.toEpochMilli()),\n                        /* notBefore= */ Date\n                                .from(now.minus(Duration.ofMinutes(5))),\n                        /* notAfter= */ Date.from(now.plus(Duration.ofDays(1))),\n                        /* subject= */ new X500Principal(&quot;CN = localhost&quot;),\n                        leafPair.getPublic()).build(\n                                new JcaContentSignerBuilder(&quot;SHA256withRSA&quot;)\n                                        .build((PrivateKey) rootStore.getKey(\n                                                &quot;signingcertprivkey&quot;,\n                                                &quot;password&quot;.toCharArray()))));\n        leafStore.setCertificateEntry(&quot;leafcert&quot;, leafCert);\n        leafStore.setKeyEntry(&quot;leafcertprivkey&quot;, leafPair.getPrivate(),\n                /* password= */ new char[0], new Certificate[] { leafCert,\n                        rootStore.getCertificate(&quot;signingcert&quot;) });\n        var keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\n        keyManagerFactory.init(leafStore, /* password= */ new char[0]);\n        var trustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\n        trustManagerFactory.init(leafStore);\n        var outerContext = SSLContext.getInstance(&quot;TLS&quot;);\n        outerContext.init(keyManagerFactory.getKeyManagers(),\n                trustManagerFactory.getTrustManagers(), /* random= */ null);\n        server.setHttpsConfigurator(new HttpsConfigurator(outerContext) {\n            @Override\n            public void configure(HttpsParameters params) {\n                try {\n                    var innerContext = SSLContext.getDefault();\n                    SSLEngine engine = innerContext.createSSLEngine();\n                    params.setNeedClientAuth(false);\n                    params.setCipherSuites(engine.getEnabledCipherSuites());\n                    params.setProtocols(engine.getEnabledProtocols());\n                    params.setSSLParameters(\n                            innerContext.getDefaultSSLParameters());\n                } catch (NoSuchAlgorithmException ex) {\n                    ex.printStackTrace();\n                    System.exit(1);\n                }\n            }\n        });\n        server.setExecutor(Runnable::run);\n        System.err.println(&quot;Serving...&quot;);\n        server.start();\n    }\n}\n</code></pre>\n<p>To build and run this (on a Unix-like system):</p>\n<pre class=\"lang-sh prettyprint-override\"><code>wget \\\n  https://downloads.bouncycastle.org/java/bcpkix-jdk15on-170.jar \\\n  https://downloads.bouncycastle.org/java/bcprov-jdk15on-170.jar \\\n  https://downloads.bouncycastle.org/java/bcutil-jdk15on-170.jar \\\n  https://raw.githubusercontent.com/lightbody/browsermob-proxy/ec2f7bdf00336af7009cdf59ab3cac128ace8ee8/browsermob-core/src/main/resources/sslSupport/cybervillainsCA.jks\njavac -cp bcpkix-jdk15on-170.jar:bcprov-jdk15on-170.jar MinimalHttpsServer.java\njava -cp bcpkix-jdk15on-170.jar:bcprov-jdk15on-170.jar:bcutil-jdk15on-170.jar:. MinimalHttpsServer\n</code></pre>\n<p>And then, to check whether it's working:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>keytool -exportcert -keystore cybervillainsCA.jks -alias signingcert -storepass password -rfc -file cybervillainsCA.pem\ncurl --cacert cybervillainsCA.pem --verbose https://localhost:8443\n</code></pre>\n<p>This fails with the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>*   Trying 127.0.0.1:8443...\n* Connected to localhost (127.0.0.1) port 8443 (#0)\n* ALPN, offering h2\n* ALPN, offering http/1.1\n*  CAfile: cybervillainsCA.pem\n*  CApath: /etc/ssl/certs\n* TLSv1.3 (OUT), TLS handshake, Client hello (1):\n* TLSv1.3 (IN), TLS handshake, Server hello (2):\n* TLSv1.3 (IN), TLS handshake, Encrypted Extensions (8):\n* TLSv1.3 (IN), TLS handshake, Certificate (11):\n* TLSv1.3 (OUT), TLS alert, unknown CA (560):\n* SSL certificate problem: unable to get local issuer certificate\n* Closing connection 0\ncurl: (60) SSL certificate problem: unable to get local issuer certificate\nMore details here: https://curl.se/docs/sslcerts.html\n\ncurl failed to verify the legitimacy of the server and therefore could not\nestablish a secure connection to it. To learn more about this situation and\nhow to fix it, please visit the web page mentioned above.\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","binary","operating-system","bit-manipulation","bit"],"comments":[{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1647457847,"post_id":71502804,"comment_id":126379180,"body_markdown":"You have an algebraic proof that `-~x == x + 1` right there in your question, it doesn&#39;t depend on `x` being negative","body":"You have an algebraic proof that <code>-~x == x + 1</code> right there in your question, it doesn&#39;t depend on <code>x</code> being negative"},{"owner":{"account_id":22406659,"reputation":31,"user_id":16616085,"display_name":"Shanti Lal Prajapat"},"score":0,"creation_date":1647508497,"post_id":71502804,"comment_id":126390514,"body_markdown":"@harold so basically this is a constant expression.","body":"@harold so basically this is a constant expression."},{"owner":{"account_id":15152392,"reputation":147,"user_id":10934377,"display_name":"Heiko Ribberink"},"score":0,"creation_date":1647594451,"post_id":71502804,"comment_id":126414875,"body_markdown":"Do you understand how [2&#39;s complement](https://www.tutorialspoint.com/two-s-complement) works?","body":"Do you understand how <a href=\"https://www.tutorialspoint.com/two-s-complement\" rel=\"nofollow noreferrer\">2&#39;s complement</a> works?"},{"owner":{"account_id":22406659,"reputation":31,"user_id":16616085,"display_name":"Shanti Lal Prajapat"},"score":0,"creation_date":1647625736,"post_id":71502804,"comment_id":126426326,"body_markdown":"@HeikoRibberink yes i have idea how 2&#39;s complement work.","body":"@HeikoRibberink yes i have idea how 2&#39;s complement work."},{"owner":{"account_id":15152392,"reputation":147,"user_id":10934377,"display_name":"Heiko Ribberink"},"score":0,"creation_date":1647859515,"post_id":71502804,"comment_id":126468547,"body_markdown":"Do I understand it correctly that you&#39;re asking how the second formula follows out of the first algebraic proof? If so, my answer is as follows: if we were to rewrite the first formula as `-A = ~A + 1;`, and we were to replace `A` by `~x`, we get: `-~x = ~~x + 1`. We can simplify `~~x` as `x`, making the formula `-~x = x + 1`, hence the second formula follows out of the first.","body":"Do I understand it correctly that you&#39;re asking how the second formula follows out of the first algebraic proof? If so, my answer is as follows: if we were to rewrite the first formula as <code>-A = ~A + 1;</code>, and we were to replace <code>A</code> by <code>~x</code>, we get: <code>-~x = ~~x + 1</code>. We can simplify <code>~~x</code> as <code>x</code>, making the formula <code>-~x = x + 1</code>, hence the second formula follows out of the first."},{"owner":{"account_id":22406659,"reputation":31,"user_id":16616085,"display_name":"Shanti Lal Prajapat"},"score":0,"creation_date":1647911072,"post_id":71502804,"comment_id":126485361,"body_markdown":"@HeikoRibberink thanks for sharing your answer and now i understand how the expression is evaluated.","body":"@HeikoRibberink thanks for sharing your answer and now i understand how the expression is evaluated."}],"owner":{"account_id":22406659,"reputation":31,"user_id":16616085,"display_name":"Shanti Lal Prajapat"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647573111,"creation_date":1647456619,"question_id":71502804,"body_markdown":"i&#39;m learning bits operation but i have one dought in this -~x expression.\r\n\r\ni&#39;m following this [link][1] and i coudn&#39;t able to understand how this expression handle positive case and negative case.\r\n\r\n# in the bit article \r\n\r\n&gt; -x = ~x + 1;\r\n\r\n&gt; -~x = x + 1 (by replacing x by ~x) \r\n\r\n\r\ni couldn&#39;t able to understand how this expression work.\r\n\r\nlet&#39;s say if the value x = 4 then this will convert it to 5 and if the value is -4 and then it will give -3 output.\r\n**but the question is how it deals with positive or negative number**. \r\n\r\naccording to my observation negative number store in 2&#39;s complement form and then add 1 but if the value is already positive then how this will work?\r\n\r\n  [1]: https://www.techiedelight.com/bit-hacks-part-1-basic/","title":"how does this expression &quot; -~x &quot; work in java","body":"<p>i'm learning bits operation but i have one dought in this -~x expression.</p>\n<p>i'm following this <a href=\"https://www.techiedelight.com/bit-hacks-part-1-basic/\" rel=\"nofollow noreferrer\">link</a> and i coudn't able to understand how this expression handle positive case and negative case.</p>\n<h1>in the bit article</h1>\n<blockquote>\n<p>-x = ~x + 1;</p>\n</blockquote>\n<blockquote>\n<p>-~x = x + 1 (by replacing x by ~x)</p>\n</blockquote>\n<p>i couldn't able to understand how this expression work.</p>\n<p>let's say if the value x = 4 then this will convert it to 5 and if the value is -4 and then it will give -3 output.\n<strong>but the question is how it deals with positive or negative number</strong>.</p>\n<p>according to my observation negative number store in 2's complement form and then add 1 but if the value is already positive then how this will work?</p>\n"},{"tags":["java","mergesort","concurrent.futures"],"answers":[{"tags":[],"owner":{"account_id":24596583,"reputation":26,"user_id":18499891,"display_name":"Guest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647572207,"creation_date":1647572207,"answer_id":71521995,"question_id":71478033,"body_markdown":"Have you tried changing Executors.newFixedThreadPool(10) to Executors.newWorkStealingPool()?","title":"Merge Sort with Java Futures","body":"<p>Have you tried changing Executors.newFixedThreadPool(10) to Executors.newWorkStealingPool()?</p>\n"}],"owner":{"account_id":21237808,"reputation":35,"user_id":15621763,"display_name":"SmokedPorcupine "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71521995,"answer_count":1,"score":0,"last_activity_date":1647572207,"creation_date":1647326999,"question_id":71478033,"body_markdown":"I am trying to write a merge sort algorithm that uses java futures. The current program I have using futures is slower then a standard merge sort algorithm. I would prefer to use java futures over fork join as I am currently learning about java futures. I am trying to work in parallel streams and was advice it was best to have half the work in the future and half the work in the main thread.\r\n\r\n\r\n\r\n\r\n```package ass1;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.Future;\r\n\r\npublic class MParallelSorter1 implements Sorter {\r\n\t\r\n\tprivate static final ExecutorService pool = Executors.newFixedThreadPool(10);\r\n\tprivate MSequentialSorter s = new MSequentialSorter();\r\n\r\n  @Override\r\n  public &lt;T extends Comparable&lt;? super T&gt;&gt; List&lt;T&gt; sort(List&lt;T&gt; list) {\r\n\t  \r\n\t  if(list.size() &lt; 2){\r\n\t\t  \r\n\t\t  return list;\r\n\t  }else {\r\n\t  int mid = list.size()/2;\r\n\t  Future&lt;List&lt;T&gt;&gt; left = pool.submit(()-&gt;sort(list.subList(0, mid)));\r\n\t  List&lt;T&gt; right = sort(list.subList(mid, list.size()));\r\n\t  \r\n\t  return mergeSort(get(left), right);\r\n\t\t  \r\n\t  }\r\n\t}\r\n  \r\n\r\n  public &lt;T extends Comparable&lt;? super T&gt;&gt; List&lt;T&gt; mergeSort(List&lt;T&gt; left, List&lt;T&gt; right) {\r\n  \t\tint i = 0, j = 0, k = 0;\r\n  \t\tList&lt;T&gt; toReturn = new ArrayList&lt;&gt;();\r\n  \t\t\t\r\n  \r\n\t  while (i &lt; left.size() &amp;&amp; j &lt; right.size()) {\r\n            if (left.get(i).compareTo(right.get(j)) &lt; 0)  {\r\n                toReturn.add(k, left.get(i));\r\n                i++;\r\n            } else {\r\n                toReturn.add(k, right.get(j));\r\n                j++;\r\n            }\r\n            k++;\r\n        }\r\n\r\n        while (i &lt; left.size()) {\r\n            toReturn.add(k, left.get(i));\r\n            i++;\r\n            k++;\r\n        }\r\n\r\n        while (j &lt; right.size()) {\r\n            toReturn.add(k, right.get(j));\r\n            j++;\r\n            k++;\r\n        }\r\n  \r\n        \r\n    return toReturn;   \r\n}\r\n\r\n\r\n  public static &lt;T&gt; T get (Future&lt;T&gt; f) {\r\n\t  try {\r\n\t\t  return f.get();\r\n\t  }\r\n\t  catch (InterruptedException e) {\r\n\t\tThread.currentThread().interrupt();\r\n\t\tthrow new Error(e);\r\n\t}\r\n\tcatch (ExecutionException e) {\r\n\t\tThrowable t = e.getCause();\r\n\t\tif(t instanceof RuntimeException rt) {\r\n\t\t\tthrow rt;\r\n\t\t}\r\n\t\tif(t instanceof Error et) {\r\n\t\t\tthrow et;\r\n\t\t}\r\n\t\tthrow new Error(&quot;Unexpected Checked Exception&quot;, t);\r\n\t}\r\n\t\r\n  }\r\n}```","title":"Merge Sort with Java Futures","body":"<p>I am trying to write a merge sort algorithm that uses java futures. The current program I have using futures is slower then a standard merge sort algorithm. I would prefer to use java futures over fork join as I am currently learning about java futures. I am trying to work in parallel streams and was advice it was best to have half the work in the future and half the work in the main thread.</p>\n<pre><code>\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\n\npublic class MParallelSorter1 implements Sorter {\n    \n    private static final ExecutorService pool = Executors.newFixedThreadPool(10);\n    private MSequentialSorter s = new MSequentialSorter();\n\n  @Override\n  public &lt;T extends Comparable&lt;? super T&gt;&gt; List&lt;T&gt; sort(List&lt;T&gt; list) {\n      \n      if(list.size() &lt; 2){\n          \n          return list;\n      }else {\n      int mid = list.size()/2;\n      Future&lt;List&lt;T&gt;&gt; left = pool.submit(()-&gt;sort(list.subList(0, mid)));\n      List&lt;T&gt; right = sort(list.subList(mid, list.size()));\n      \n      return mergeSort(get(left), right);\n          \n      }\n    }\n  \n\n  public &lt;T extends Comparable&lt;? super T&gt;&gt; List&lt;T&gt; mergeSort(List&lt;T&gt; left, List&lt;T&gt; right) {\n        int i = 0, j = 0, k = 0;\n        List&lt;T&gt; toReturn = new ArrayList&lt;&gt;();\n            \n  \n      while (i &lt; left.size() &amp;&amp; j &lt; right.size()) {\n            if (left.get(i).compareTo(right.get(j)) &lt; 0)  {\n                toReturn.add(k, left.get(i));\n                i++;\n            } else {\n                toReturn.add(k, right.get(j));\n                j++;\n            }\n            k++;\n        }\n\n        while (i &lt; left.size()) {\n            toReturn.add(k, left.get(i));\n            i++;\n            k++;\n        }\n\n        while (j &lt; right.size()) {\n            toReturn.add(k, right.get(j));\n            j++;\n            k++;\n        }\n  \n        \n    return toReturn;   \n}\n\n\n  public static &lt;T&gt; T get (Future&lt;T&gt; f) {\n      try {\n          return f.get();\n      }\n      catch (InterruptedException e) {\n        Thread.currentThread().interrupt();\n        throw new Error(e);\n    }\n    catch (ExecutionException e) {\n        Throwable t = e.getCause();\n        if(t instanceof RuntimeException rt) {\n            throw rt;\n        }\n        if(t instanceof Error et) {\n            throw et;\n        }\n        throw new Error(&quot;Unexpected Checked Exception&quot;, t);\n    }\n    \n  }\n}```\n</code></pre>\n"},{"tags":["java","kotlin","javafx","binding","listproperty"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1648422206,"post_id":71513087,"comment_id":126613467,"body_markdown":"Check out: https://bugs.openjdk.java.net/browse/JDK-8273138","body":"Check out: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8273138\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8273138</a>"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647539364,"creation_date":1647528830,"answer_id":71514438,"question_id":71513087,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\n\r\nI&#39;m going to reply in Java, as I&#39;m more familiar with it. The reasoning applies to kotlin too.\r\n\r\n`Bindings.createStringBinding(function, dependencies)` creates a binding that is invalidated any time any of the dependencies are invalidated. Here &quot;invalidated&quot; means &quot;changes from a valid state to an invalid state&quot;. The problem with your code is that you define the dependency as `property.valueAt(index)`, which is a binding to which you have no other reference.\r\n\r\nWhen you change either the index or the bean at that index in the list, then the binding becomes invalid. Since you never compute the value of that binding again, *it never becomes valid again* (i.e. it never holds, or has returned, a valid value). So subsequent changes will not change its validation state (it is simply still invalid; it cannot transition from valid to invalid). \r\n\r\nChanging the code to\r\n\r\n```\r\nlabel.textProperty().bind(Bindings.createStringBinding(\r\n        () -&gt; property.valueAt(index).get().stringBinding().get(),\r\n        property.valueAt(index)\r\n));\r\n```\r\n\r\ndoesn&#39;t help: you have one binding used for the dependency (whose value is never computed, so it is never returned to a valid state) and a different binding each time the value is computed. The value of the binding used as the dependency is never computed, so it is never returned to a valid state, and consequently can never become invalidated again.\r\n\r\nHowever\r\n\r\n```\r\nObjectBinding&lt;Bean&gt; bean = property.valueAt(index);\r\nlabel.textProperty().bind(Bindings.createStringBinding(\r\n        () -&gt; bean.get().stringProperty().get(),\r\n        bean\r\n));\r\n```\r\n\r\nwill work. Here the computation of the text forces `bean` to compute its current value, returning it to a valid state. Then subsequent changes to the index or the list will invalidate `bean` again, triggering recomputation of the binding to which `text` is bound.\r\n\r\nI think the kotlin translation of this is\r\n\r\n```lang-kotlin\r\n\r\nval bean = property.valueAt(indexProperty)\r\nval label = Label().apply {\r\n    textProperty().bind(Bindings.createStringBinding(\r\n        { bean.value.stringProperty.value },\r\n        bean\r\n    ))\r\n}\r\n\r\n```\r\n\r\nYou can experiment with other variations. This one doesn&#39;t update more than once, because `bean` is never validated:\r\n\r\n```\r\nObjectBinding&lt;Bean&gt; bean = property.valueAt(index);\r\nlabel.textProperty().bind(Bindings.createStringBinding(\r\n        this::generateRandomString,\r\n        bean\r\n));\r\n```\r\n\r\nWhereas this one forces validation, so it always updates:\r\n\r\n```\r\nObjectBinding&lt;Bean&gt; bean = property.valueAt(index);\r\nlabel.textProperty().bind(Bindings.createStringBinding(\r\n        () -&gt; {\r\n            bean.get();\r\n            return generateRandomString();\r\n        },\r\n        bean\r\n));\r\n```","title":"JavaFX valueAt() Binding only compute once","body":"\n<p>I'm going to reply in Java, as I'm more familiar with it. The reasoning applies to kotlin too.</p>\n<p><code>Bindings.createStringBinding(function, dependencies)</code> creates a binding that is invalidated any time any of the dependencies are invalidated. Here &quot;invalidated&quot; means &quot;changes from a valid state to an invalid state&quot;. The problem with your code is that you define the dependency as <code>property.valueAt(index)</code>, which is a binding to which you have no other reference.</p>\n<p>When you change either the index or the bean at that index in the list, then the binding becomes invalid. Since you never compute the value of that binding again, <em>it never becomes valid again</em> (i.e. it never holds, or has returned, a valid value). So subsequent changes will not change its validation state (it is simply still invalid; it cannot transition from valid to invalid).</p>\n<p>Changing the code to</p>\n<pre class=\"lang-java prettyprint-override\"><code>label.textProperty().bind(Bindings.createStringBinding(\n        () -&gt; property.valueAt(index).get().stringBinding().get(),\n        property.valueAt(index)\n));\n</code></pre>\n<p>doesn't help: you have one binding used for the dependency (whose value is never computed, so it is never returned to a valid state) and a different binding each time the value is computed. The value of the binding used as the dependency is never computed, so it is never returned to a valid state, and consequently can never become invalidated again.</p>\n<p>However</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectBinding&lt;Bean&gt; bean = property.valueAt(index);\nlabel.textProperty().bind(Bindings.createStringBinding(\n        () -&gt; bean.get().stringProperty().get(),\n        bean\n));\n</code></pre>\n<p>will work. Here the computation of the text forces <code>bean</code> to compute its current value, returning it to a valid state. Then subsequent changes to the index or the list will invalidate <code>bean</code> again, triggering recomputation of the binding to which <code>text</code> is bound.</p>\n<p>I think the kotlin translation of this is</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\nval bean = property.valueAt(indexProperty)\nval label = Label().apply {\n    textProperty().bind(Bindings.createStringBinding(\n        { bean.value.stringProperty.value },\n        bean\n    ))\n}\n\n</code></pre>\n<p>You can experiment with other variations. This one doesn't update more than once, because <code>bean</code> is never validated:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectBinding&lt;Bean&gt; bean = property.valueAt(index);\nlabel.textProperty().bind(Bindings.createStringBinding(\n        this::generateRandomString,\n        bean\n));\n</code></pre>\n<p>Whereas this one forces validation, so it always updates:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectBinding&lt;Bean&gt; bean = property.valueAt(index);\nlabel.textProperty().bind(Bindings.createStringBinding(\n        () -&gt; {\n            bean.get();\n            return generateRandomString();\n        },\n        bean\n));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21648112,"reputation":73,"user_id":15969136,"display_name":"Meodinger Wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647570340,"creation_date":1647570340,"answer_id":71521829,"question_id":71513087,"body_markdown":"Thanks to @James_D, I not only know why this code did not run as expected but also solved another issue related to Bindings.\r\n\r\nTL;DR - **JavaFX won&#39;t automatically validate bindings when the dependencies become invalid**. You should validate them by getting the value or somehow.\r\n\r\nIn the following code, `bean` will become invalid either `property` or `index` changes, and the `StringBinding` will compute. After the computation, **bean is still invalid** because we didn&#39;t compute to validate it. So next time the dependencies of `bean` change, the `StringBinding` will not recompute.\r\n```\r\nObjectBinding&lt;Bean&gt; bean = property.valueAt(index);\r\nlabel.textProperty().bind(Bindings.createStringBinding(\r\n        this::generateRandomString,\r\n        bean\r\n));\r\n```\r\n\r\nBut for this one, it is different. Though we never use the binding `bean`&#39;s value, we validate it by getting. So the code runs as expected.\r\n\r\n```\r\nObjectBinding&lt;Bean&gt; bean = property.valueAt(index);\r\nlabel.textProperty().bind(Bindings.createStringBinding(\r\n        () -&gt; {\r\n            bean.get();\r\n            return generateRandomString();\r\n        },\r\n        bean\r\n));\r\n```\r\n\r\nAnd for another situation, be careful! May `bean` became invalid and during the computation, the `flag` was `false` so `bean` **didn&#39;t validate**. If we don&#39;t validate `bean` somehow somewhere before next time `bean`&#39;s dependencies become invalid again, **the binding will not compute**.\r\n\r\n```\r\nObjectBinding&lt;Bean&gt; bean = property.valueAt(index);\r\nlabel.textProperty().bind(Bindings.createStringBinding(\r\n        () -&gt; {\r\n            if (flag) return bean.value \r\n            else return generateRandomString();\r\n        },\r\n        bean\r\n));\r\n```","title":"JavaFX valueAt() Binding only compute once","body":"<p>Thanks to @James_D, I not only know why this code did not run as expected but also solved another issue related to Bindings.</p>\n<p>TL;DR - <strong>JavaFX won't automatically validate bindings when the dependencies become invalid</strong>. You should validate them by getting the value or somehow.</p>\n<p>In the following code, <code>bean</code> will become invalid either <code>property</code> or <code>index</code> changes, and the <code>StringBinding</code> will compute. After the computation, <strong>bean is still invalid</strong> because we didn't compute to validate it. So next time the dependencies of <code>bean</code> change, the <code>StringBinding</code> will not recompute.</p>\n<pre><code>ObjectBinding&lt;Bean&gt; bean = property.valueAt(index);\nlabel.textProperty().bind(Bindings.createStringBinding(\n        this::generateRandomString,\n        bean\n));\n</code></pre>\n<p>But for this one, it is different. Though we never use the binding <code>bean</code>'s value, we validate it by getting. So the code runs as expected.</p>\n<pre><code>ObjectBinding&lt;Bean&gt; bean = property.valueAt(index);\nlabel.textProperty().bind(Bindings.createStringBinding(\n        () -&gt; {\n            bean.get();\n            return generateRandomString();\n        },\n        bean\n));\n</code></pre>\n<p>And for another situation, be careful! May <code>bean</code> became invalid and during the computation, the <code>flag</code> was <code>false</code> so <code>bean</code> <strong>didn't validate</strong>. If we don't validate <code>bean</code> somehow somewhere before next time <code>bean</code>'s dependencies become invalid again, <strong>the binding will not compute</strong>.</p>\n<pre><code>ObjectBinding&lt;Bean&gt; bean = property.valueAt(index);\nlabel.textProperty().bind(Bindings.createStringBinding(\n        () -&gt; {\n            if (flag) return bean.value \n            else return generateRandomString();\n        },\n        bean\n));\n</code></pre>\n"}],"owner":{"account_id":21648112,"reputation":73,"user_id":15969136,"display_name":"Meodinger Wang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71514438,"answer_count":2,"score":2,"last_activity_date":1647572039,"creation_date":1647523497,"question_id":71513087,"body_markdown":"We know that `ListExpression` has a method [`ObjectBinding&lt;E&gt; valueAt(ObservableIntegerValue)`](https://docs.oracle.com/javase/8/javafx/api/javafx/beans/binding/ListExpression.html#valueAt-javafx.beans.value.ObservableIntegerValue-). We can use this method to listen to an element of a `ListProperty` exactly. \r\n\r\nI expect it will both bind to the `ListProperty` and the `ObservableNumberValue`. So either the list changes or the observable number value changes will make the binding invalid and recompute. But in the following code, the binding is computed only once! (Actually twice, if we don&#39;t ignore the initial computation) \r\n\r\nThe label will display a random string at the beginning. And the `property` will have 100 Bean as the initial value. If we click `button1`, the `indexProperty` will increase by 1. If we click `button2`, the Bean located at the *current index of the ListProperty* will change. Both effects will make the binding invalid and recompute the label text.\r\n\r\nBut in practice, the text will change the first time when one button is clicked. And will not change anymore.\r\n\r\nI&#39;m using Liberica JDK17 which contains jmods of JavaFX by default.\r\n\r\n```kotlin\r\nclass FixmeApp : Application() {\r\n\r\n    companion object {\r\n        fun genRandomDouble(): Double = Math.random() * 10000\r\n        fun genRandomString(): String = genRandomDouble().roundToInt().toString(36)\r\n    }\r\n\r\n    class Bean {\r\n        val stringProperty = SimpleStringProperty(genRandomString())\r\n        val doubleProperty = SimpleDoubleProperty(genRandomDouble())\r\n    }\r\n\r\n    val property: ListProperty&lt;Bean&gt; = SimpleListProperty(FXCollections.observableArrayList(Bean()))\r\n\r\n    override fun start(primaryStage: Stage) {\r\n        property.addAll((0..100).map { Bean() })\r\n\r\n        val indexProperty = SimpleIntegerProperty(0)\r\n\r\n        val label = Label().apply {\r\n            textProperty().bind(Bindings.createStringBinding(\r\n                { genRandomString() },\r\n                property.valueAt(indexProperty)\r\n            ))\r\n        }\r\n        val button1 = Button(&quot;Change Index&quot;).apply {\r\n            setOnAction {\r\n                indexProperty.set(indexProperty.get() + 1)\r\n            }\r\n        }\r\n        val button2 = Button(&quot;Change Bean&quot;).apply {\r\n            setOnAction {\r\n                property[indexProperty.get()] = Bean()\r\n            }\r\n        }\r\n        val scene = Scene(BorderPane().apply {\r\n            center = label\r\n            bottom = HBox(button1, button2)\r\n        })\r\n\r\n        primaryStage.scene = scene\r\n        primaryStage.show()\r\n\r\n    }\r\n\r\n}\r\n\r\nfun main() {\r\n    Application.launch(FixmeApp::class.java)\r\n}\r\n```\r\n\r\nBy the way, if we change the binding dependencies from `property.valueAt(indexProperty)` to `property, indexProperty`, the code will run as we expected.\r\n\r\nIn my program, the binding will return the property of Bean at the location *indexProperty.get()* of *property*\r\n\r\n\r\n---\r\n\r\nEdit (by James_D):\r\n---\r\n\r\nTo increase the audience for this question, here is (to the best of my knowledge) a translation of this example to Java.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.binding.Bindings;\r\n    import javafx.beans.property.*;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.Random;\r\n    \r\n    public class FixMeApp extends Application {\r\n    \r\n        private final Random rng = new Random();\r\n    \r\n        private final ListProperty&lt;Bean&gt; property = new SimpleListProperty&lt;&gt;(FXCollections.observableArrayList());\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            for (int i = 0 ; i &lt; 100 ; i++) property.add(new Bean());\r\n            var index = new SimpleIntegerProperty(0);\r\n            var label =  new Label();\r\n            label.textProperty().bind(Bindings.createStringBinding(\r\n                    this::generateRandomString,\r\n                    property.valueAt(index)\r\n            ));\r\n            var button1 = new Button(&quot;Change Index&quot;);\r\n            button1.setOnAction(e -&gt; index.set(index.get() + 1));\r\n            var button2 = new Button(&quot;Change bean&quot;);\r\n            button2.setOnAction(e -&gt; property.set(index.get(), new Bean()));\r\n            var root = new BorderPane(label);\r\n            root.setBottom(new HBox(button1, button2));\r\n            var scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        private double generateRandomDouble() {\r\n            return rng.nextDouble() * 10000 ;\r\n        }\r\n    \r\n        private String generateRandomString() {\r\n            return Integer.toString((int) generateRandomDouble());\r\n        }\r\n    \r\n        class Bean {\r\n            private StringProperty stringProperty = new SimpleStringProperty(generateRandomString());\r\n            private DoubleProperty doubleProperty = new SimpleDoubleProperty(generateRandomDouble());\r\n    \r\n            StringProperty stringProperty() { return stringProperty; }\r\n            DoubleProperty doubleProperty() { return doubleProperty; }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Application.launch(args);\r\n        }\r\n    }\r\n\r\n \r\n","title":"JavaFX valueAt() Binding only compute once","body":"<p>We know that <code>ListExpression</code> has a method <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/beans/binding/ListExpression.html#valueAt-javafx.beans.value.ObservableIntegerValue-\" rel=\"nofollow noreferrer\"><code>ObjectBinding&lt;E&gt; valueAt(ObservableIntegerValue)</code></a>. We can use this method to listen to an element of a <code>ListProperty</code> exactly.</p>\n<p>I expect it will both bind to the <code>ListProperty</code> and the <code>ObservableNumberValue</code>. So either the list changes or the observable number value changes will make the binding invalid and recompute. But in the following code, the binding is computed only once! (Actually twice, if we don't ignore the initial computation)</p>\n<p>The label will display a random string at the beginning. And the <code>property</code> will have 100 Bean as the initial value. If we click <code>button1</code>, the <code>indexProperty</code> will increase by 1. If we click <code>button2</code>, the Bean located at the <em>current index of the ListProperty</em> will change. Both effects will make the binding invalid and recompute the label text.</p>\n<p>But in practice, the text will change the first time when one button is clicked. And will not change anymore.</p>\n<p>I'm using Liberica JDK17 which contains jmods of JavaFX by default.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class FixmeApp : Application() {\n\n    companion object {\n        fun genRandomDouble(): Double = Math.random() * 10000\n        fun genRandomString(): String = genRandomDouble().roundToInt().toString(36)\n    }\n\n    class Bean {\n        val stringProperty = SimpleStringProperty(genRandomString())\n        val doubleProperty = SimpleDoubleProperty(genRandomDouble())\n    }\n\n    val property: ListProperty&lt;Bean&gt; = SimpleListProperty(FXCollections.observableArrayList(Bean()))\n\n    override fun start(primaryStage: Stage) {\n        property.addAll((0..100).map { Bean() })\n\n        val indexProperty = SimpleIntegerProperty(0)\n\n        val label = Label().apply {\n            textProperty().bind(Bindings.createStringBinding(\n                { genRandomString() },\n                property.valueAt(indexProperty)\n            ))\n        }\n        val button1 = Button(&quot;Change Index&quot;).apply {\n            setOnAction {\n                indexProperty.set(indexProperty.get() + 1)\n            }\n        }\n        val button2 = Button(&quot;Change Bean&quot;).apply {\n            setOnAction {\n                property[indexProperty.get()] = Bean()\n            }\n        }\n        val scene = Scene(BorderPane().apply {\n            center = label\n            bottom = HBox(button1, button2)\n        })\n\n        primaryStage.scene = scene\n        primaryStage.show()\n\n    }\n\n}\n\nfun main() {\n    Application.launch(FixmeApp::class.java)\n}\n</code></pre>\n<p>By the way, if we change the binding dependencies from <code>property.valueAt(indexProperty)</code> to <code>property, indexProperty</code>, the code will run as we expected.</p>\n<p>In my program, the binding will return the property of Bean at the location <em>indexProperty.get()</em> of <em>property</em></p>\n<hr />\n<h2>Edit (by James_D):</h2>\n<p>To increase the audience for this question, here is (to the best of my knowledge) a translation of this example to Java.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.binding.Bindings;\nimport javafx.beans.property.*;\nimport javafx.collections.FXCollections;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\nimport java.util.Random;\n\npublic class FixMeApp extends Application {\n\n    private final Random rng = new Random();\n\n    private final ListProperty&lt;Bean&gt; property = new SimpleListProperty&lt;&gt;(FXCollections.observableArrayList());\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        for (int i = 0 ; i &lt; 100 ; i++) property.add(new Bean());\n        var index = new SimpleIntegerProperty(0);\n        var label =  new Label();\n        label.textProperty().bind(Bindings.createStringBinding(\n                this::generateRandomString,\n                property.valueAt(index)\n        ));\n        var button1 = new Button(&quot;Change Index&quot;);\n        button1.setOnAction(e -&gt; index.set(index.get() + 1));\n        var button2 = new Button(&quot;Change bean&quot;);\n        button2.setOnAction(e -&gt; property.set(index.get(), new Bean()));\n        var root = new BorderPane(label);\n        root.setBottom(new HBox(button1, button2));\n        var scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private double generateRandomDouble() {\n        return rng.nextDouble() * 10000 ;\n    }\n\n    private String generateRandomString() {\n        return Integer.toString((int) generateRandomDouble());\n    }\n\n    class Bean {\n        private StringProperty stringProperty = new SimpleStringProperty(generateRandomString());\n        private DoubleProperty doubleProperty = new SimpleDoubleProperty(generateRandomDouble());\n\n        StringProperty stringProperty() { return stringProperty; }\n        DoubleProperty doubleProperty() { return doubleProperty; }\n    }\n\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","macos","bash","gradle"],"answers":[{"tags":[],"owner":{"account_id":5356026,"reputation":4826,"user_id":4268663,"display_name":"Alex Filatov"},"down_vote_count":2,"up_vote_count":271,"is_accepted":true,"score":269,"last_activity_date":1416778256,"creation_date":1416778256,"answer_id":27094559,"question_id":27094492,"body_markdown":"`./gradlew`\r\n\r\nYour directory with gradlew is not included in the PATH, so you must specify path to the gradlew.  `.` means &quot;current directory&quot;. ","title":"How to run Gradle from the command line on Mac bash","body":"<p><code>./gradlew</code></p>\n\n<p>Your directory with gradlew is not included in the PATH, so you must specify path to the gradlew.  <code>.</code> means \"current directory\". </p>\n"},{"tags":[],"owner":{"account_id":2920899,"reputation":12440,"user_id":2503185,"accept_rate":100,"display_name":"Evin1_"},"down_vote_count":2,"up_vote_count":119,"is_accepted":false,"score":117,"last_activity_date":1455640140,"creation_date":1455640140,"answer_id":35437858,"question_id":27094492,"body_markdown":"Also, if you don&#39;t have the *gradlew* file in your current directory:\r\n\r\nYou can install gradle with [homebrew][1] with the following command:\r\n\r\n    $ brew install gradle\r\n\r\nAs mentioned in [this answer][2]. Then, you are not going to need to include it in your path (homebrew will take care of that) and you can just run (from any directory):\r\n\r\n    $ gradle test \r\n\r\n\r\n  [1]: http://brew.sh/\r\n  [2]: https://stackoverflow.com/questions/28928106/install-gradle-on-mac-os-x","title":"How to run Gradle from the command line on Mac bash","body":"<p>Also, if you don't have the <em>gradlew</em> file in your current directory:</p>\n\n<p>You can install gradle with <a href=\"http://brew.sh/\" rel=\"noreferrer\">homebrew</a> with the following command:</p>\n\n<pre><code>$ brew install gradle\n</code></pre>\n\n<p>As mentioned in <a href=\"https://stackoverflow.com/questions/28928106/install-gradle-on-mac-os-x\">this answer</a>. Then, you are not going to need to include it in your path (homebrew will take care of that) and you can just run (from any directory):</p>\n\n<pre><code>$ gradle test \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4596253,"reputation":89,"user_id":3728215,"display_name":"jeany"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1647571984,"creation_date":1647571984,"answer_id":71521980,"question_id":27094492,"body_markdown":"try this cmd\r\n\r\n&gt; git:(branch): cd android\r\n\r\n&gt; android git:(branch)  ./gradlew gradle build --scan ","title":"How to run Gradle from the command line on Mac bash","body":"<p>try this cmd</p>\n<blockquote>\n<p>git:(branch): cd android</p>\n</blockquote>\n<blockquote>\n<p>android git:(branch)  ./gradlew gradle build --scan</p>\n</blockquote>\n"}],"owner":{"account_id":2141393,"reputation":3533,"user_id":1899926,"accept_rate":40,"display_name":"Barodapride"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200201,"favorite_count":0,"down_vote_count":0,"up_vote_count":151,"accepted_answer_id":27094559,"answer_count":3,"score":151,"last_activity_date":1647571984,"creation_date":1416777914,"question_id":27094492,"body_markdown":"I have a very simple question. I am brand new to Mac and I am trying to get my Java project moved over to my new Mac. The project has a Gradlew file that I thought I could run from the command line to build and run on any machine. When I do gradlew from the command line (in the location of the gradlew file) it says gradlew not found. Am I missing something on how to run a command from a bash shell?","title":"How to run Gradle from the command line on Mac bash","body":"<p>I have a very simple question. I am brand new to Mac and I am trying to get my Java project moved over to my new Mac. The project has a Gradlew file that I thought I could run from the command line to build and run on any machine. When I do gradlew from the command line (in the location of the gradlew file) it says gradlew not found. Am I missing something on how to run a command from a bash shell?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":24327197,"reputation":9,"user_id":18266583,"display_name":"Sushant K"},"score":0,"creation_date":1647502147,"post_id":71508215,"comment_id":126388371,"body_markdown":"I want to make sure that the code block should be accessed by only one thread at a time if the reqId is same. If it is different then this block can be accessed concurrently.","body":"I want to make sure that the code block should be accessed by only one thread at a time if the reqId is same. If it is different then this block can be accessed concurrently."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1647502945,"post_id":71508215,"comment_id":126388594,"body_markdown":"_if the `reqId` is same_ Same as what? How do you check whether the `reqId` is the same?","body":"<i>if the <code>reqId</code> is same</i> Same as what? How do you check whether the <code>reqId</code> is the same?"},{"owner":{"account_id":24327197,"reputation":9,"user_id":18266583,"display_name":"Sushant K"},"score":0,"creation_date":1647503245,"post_id":71508215,"comment_id":126388693,"body_markdown":"i.e. if one thread have same reqId as that of other thread.","body":"i.e. if one thread have same reqId as that of other thread."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1647523220,"post_id":71508215,"comment_id":126395664,"body_markdown":"i wouldn&#39;t recommend re-inventing the wheel here. there are lots of open source libraries with caches already existing (from simple to complex).  or, just use ConcurrentHashMap.","body":"i wouldn&#39;t recommend re-inventing the wheel here. there are lots of open source libraries with caches already existing (from simple to complex).  or, just use ConcurrentHashMap."}],"answers":[{"tags":[],"owner":{"account_id":3222171,"reputation":1361,"user_id":3192775,"accept_rate":33,"display_name":"Tim"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647502067,"creation_date":1647502067,"answer_id":71508449,"question_id":71508215,"body_markdown":"You are looking when one thread is wiritting still another thread should be able to read it \r\n\r\nI think that would be tricky to do. Since the value should be flushed out to memory. \r\n\r\n\r\nCheck the link for similar question\r\n\r\nhttps://stackoverflow.com/questions/24520129/java-threads-synchronized-reading-and-writing-of-value-on-the-same-object","title":"How to use synchronized block in java?","body":"<p>You are looking when one thread is wiritting still another thread should be able to read it</p>\n<p>I think that would be tricky to do. Since the value should be flushed out to memory.</p>\n<p>Check the link for similar question</p>\n<p><a href=\"https://stackoverflow.com/questions/24520129/java-threads-synchronized-reading-and-writing-of-value-on-the-same-object\">Java Threads: synchronized reading and writing of value on the same object</a></p>\n"},{"tags":[],"owner":{"account_id":12217673,"reputation":132,"user_id":8917587,"display_name":"mgh42"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1647503033,"creation_date":1647503033,"answer_id":71508627,"question_id":71508215,"body_markdown":"The synchronized block works on the instance Id of the object you are matching\r\n\r\nso with your code I can create two strings\r\n\r\n    String id1 = &quot;1234&quot;;\r\n    String id2 = &quot;1234&quot;;\r\n\r\nIf two threads call your function using different variables containing the same Id then they will not get blocked, they will both run.\r\n\r\nIf you really want to sychronize on a string like that you should create static final String objects for every possible Id\r\n\r\nNote: if you decide to use a numeric type like Integer for you sync object then you might find it works for low numbers and then stops working as numbers get higher as Java uses a table of Ints so that only one version of 1 will be created for your code, but every instance of 9999 might have a unique object Id\r\n\r\n\r\n\r\n","title":"How to use synchronized block in java?","body":"<p>The synchronized block works on the instance Id of the object you are matching</p>\n<p>so with your code I can create two strings</p>\n<pre><code>String id1 = &quot;1234&quot;;\nString id2 = &quot;1234&quot;;\n</code></pre>\n<p>If two threads call your function using different variables containing the same Id then they will not get blocked, they will both run.</p>\n<p>If you really want to sychronize on a string like that you should create static final String objects for every possible Id</p>\n<p>Note: if you decide to use a numeric type like Integer for you sync object then you might find it works for low numbers and then stops working as numbers get higher as Java uses a table of Ints so that only one version of 1 will be created for your code, but every instance of 9999 might have a unique object Id</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647522470,"creation_date":1647522470,"answer_id":71512849,"question_id":71508215,"body_markdown":"Having a single lock would be one option, but would allow for only 1 concurrent request.\r\n\r\nA different approach is to use a striped lock. So you create an array objects, and based on the hash of the string, you determine the index of object in the striped lock. \r\n\r\nSo you get something like this:\r\n\r\n```\r\nsynchronized(stripedLock[toIndex(key)]){\r\n   ...\r\n}\r\n```\r\n\r\n","title":"How to use synchronized block in java?","body":"<p>Having a single lock would be one option, but would allow for only 1 concurrent request.</p>\n<p>A different approach is to use a striped lock. So you create an array objects, and based on the hash of the string, you determine the index of object in the striped lock.</p>\n<p>So you get something like this:</p>\n<pre><code>synchronized(stripedLock[toIndex(key)]){\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647532823,"creation_date":1647524914,"answer_id":71513451,"question_id":71508215,"body_markdown":"So the problem here is ensuring that two or more threads that synchronize on the same request id get mutual exclusion for this block of code.\r\n\r\nPeople might think the code already does that, but it doesn&#39;t.  The issue is that two `String` objects may be equal according to `Object.equal(Object)` without being the same object ... according to `==`.  If different threads threads lock on different copies of the same request id, your code won&#39;t give you mutual exclusion based on request id values.\r\n\r\n... which you probably realized ... and that is the reason you asked this question!\r\n\r\n------------------\r\n\r\nOne solution is to simply `intern` the request ids; e.g.\r\n\r\n    public void saveInCatch(String reqId, String desc) {\r\n        synchronized (reqId.intern()) {\r\n            cache.add(reqId, desc);\r\n        }\r\n    }\r\n\r\nInterning gives you a &quot;canonical&quot; version of the request string.  By locking on the canonical string, you guarantee to get mutual exclusion on the request id.\r\n\r\nThere are a couple of downsides with this approach:\r\n  \r\n  1.  If you do this a lot, you are liable to fill the JVM&#39;s string pool:\r\n\r\n      - Prior to Java 7, this could lead to permgen exhaustion in the worst case, or a lot of &quot;full&quot; garbage collections.\r\n      - In Java 7, the string pool was moved to the regular heap, and interned strings that are no longer reachable will be collected.  However, there are still considerable memory and garbage collection overheads associated with interned strings.\r\n\r\n  2.  If two sections of your application are doing this kind of thing for different purposes, you could potentially get lock interference between locks for different classes of resources.\r\n\r\n--------------------\r\n\r\nA second approach is to use lock striping.  You could implement this by hand (as [suggested][1] by @pveentjer), or you could use the Guava `Striped` class ([javadoc][2]); e.g.\r\n\r\n    private static final Striped&lt;Lock&gt; locks = Striped.lock(nosStripes);\r\n\r\n    ...\r\n\r\n    public void saveInCatch(String reqId, String desc) {\r\n        Lock lock = locks.get(reqId);\r\n        try {\r\n            lock.lock();\r\n            cache.add(reqId, desc);\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n      \r\nThe downside of lock striping is that you are *more likely* to get lock interference, due to different request ids mapping to the same lock.  But the upside is that the memory and GC overheads are bounded by the (constant) number of stripes you use.\r\n\r\n-----------------\r\n\r\nFinally, as noted by @jtahlborn, you are probably reinventing the wheel.  There are existing open source concurrent cache classes that you could use, or you could use `ConcurrentHashMap` with some kind of cleaner.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71512849/139985\r\n  [2]: https://www.javadoc.io/doc/com.google.guava/guava/24.0-android/com/google/common/util/concurrent/Striped.html","title":"How to use synchronized block in java?","body":"<p>So the problem here is ensuring that two or more threads that synchronize on the same request id get mutual exclusion for this block of code.</p>\n<p>People might think the code already does that, but it doesn't.  The issue is that two <code>String</code> objects may be equal according to <code>Object.equal(Object)</code> without being the same object ... according to <code>==</code>.  If different threads threads lock on different copies of the same request id, your code won't give you mutual exclusion based on request id values.</p>\n<p>... which you probably realized ... and that is the reason you asked this question!</p>\n<hr />\n<p>One solution is to simply <code>intern</code> the request ids; e.g.</p>\n<pre><code>public void saveInCatch(String reqId, String desc) {\n    synchronized (reqId.intern()) {\n        cache.add(reqId, desc);\n    }\n}\n</code></pre>\n<p>Interning gives you a &quot;canonical&quot; version of the request string.  By locking on the canonical string, you guarantee to get mutual exclusion on the request id.</p>\n<p>There are a couple of downsides with this approach:</p>\n<ol>\n<li><p>If you do this a lot, you are liable to fill the JVM's string pool:</p>\n<ul>\n<li>Prior to Java 7, this could lead to permgen exhaustion in the worst case, or a lot of &quot;full&quot; garbage collections.</li>\n<li>In Java 7, the string pool was moved to the regular heap, and interned strings that are no longer reachable will be collected.  However, there are still considerable memory and garbage collection overheads associated with interned strings.</li>\n</ul>\n</li>\n<li><p>If two sections of your application are doing this kind of thing for different purposes, you could potentially get lock interference between locks for different classes of resources.</p>\n</li>\n</ol>\n<hr />\n<p>A second approach is to use lock striping.  You could implement this by hand (as <a href=\"https://stackoverflow.com/a/71512849/139985\">suggested</a> by @pveentjer), or you could use the Guava <code>Striped</code> class (<a href=\"https://www.javadoc.io/doc/com.google.guava/guava/24.0-android/com/google/common/util/concurrent/Striped.html\" rel=\"nofollow noreferrer\">javadoc</a>); e.g.</p>\n<pre><code>private static final Striped&lt;Lock&gt; locks = Striped.lock(nosStripes);\n\n...\n\npublic void saveInCatch(String reqId, String desc) {\n    Lock lock = locks.get(reqId);\n    try {\n        lock.lock();\n        cache.add(reqId, desc);\n    } finally {\n        lock.unlock();\n    }\n}\n  \n</code></pre>\n<p>The downside of lock striping is that you are <em>more likely</em> to get lock interference, due to different request ids mapping to the same lock.  But the upside is that the memory and GC overheads are bounded by the (constant) number of stripes you use.</p>\n<hr />\n<p>Finally, as noted by @jtahlborn, you are probably reinventing the wheel.  There are existing open source concurrent cache classes that you could use, or you could use <code>ConcurrentHashMap</code> with some kind of cleaner.</p>\n"},{"tags":[],"owner":{"account_id":9451707,"reputation":590,"user_id":7028310,"display_name":"0xDEADBEEF"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1647531915,"creation_date":1647525467,"answer_id":71513588,"question_id":71508215,"body_markdown":"If you understand synchronization correctly it will lock the method and object until it is done being use by one thread but you sometimes also want `reqId` to be access concurrently. You can use `volatile` keyword in the variable though like `private volatile String reqId;`(Make the `reqId` an instance variable). According to the book:\r\n\r\n**volatile-This keyword indicates to the VM that\r\nthe value may be changed by external threads and effectively synchronizes access to it\r\nautomatically.**","title":"How to use synchronized block in java?","body":"<p>If you understand synchronization correctly it will lock the method and object until it is done being use by one thread but you sometimes also want <code>reqId</code> to be access concurrently. You can use <code>volatile</code> keyword in the variable though like <code>private volatile String reqId;</code>(Make the <code>reqId</code> an instance variable). According to the book:</p>\n<p><strong>volatile-This keyword indicates to the VM that\nthe value may be changed by external threads and effectively synchronizes access to it\nautomatically.</strong></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647571597,"creation_date":1647527055,"answer_id":71513993,"question_id":71508215,"body_markdown":"The problem is that `synchronized(Object)` expects a _unique_ Object.\r\n\r\nHowever the following two reqIds are not identical.\r\n\r\n    String reqId = Integer.toString(42);\r\n    ...\r\n    String reqId = Integer.toString(6*7);\r\n\r\nOne heavily costing simple solution would be:\r\n\r\n    synchronized(reqId.intern()) {\r\n\r\nInstead make the Map of your `cache` a `ConcurrentHashMap` or its Navigable version.\r\n\r\n    Cache cache = new Cache();\r\n\r\n    class Cache {\r\n        ConcurrentMap&lt;String, String&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n        void add(String key, String value) {\r\n            map.merge(...);\r\n        }\r\n    }\r\n\r\n    public void saveInCatch(String reqId, String desc) {\r\n        cache.add(reqId, desc);\r\n    }\r\n\r\nBy using `merge` you may keep changes inside the concurrent put.\r\n\r\nShould there be done _several_ state changes besides adding to the map,\r\nyou could do that by `synchronized` on the inner key of the map.\r\n\r\nMind, I do not like this solution, as it is brittle, and hard to test.\r\n\r\nProbably concurrent queues for atomic actions can be more solid. We are probably now looking at just one facet of data.\r\n","title":"How to use synchronized block in java?","body":"<p>The problem is that <code>synchronized(Object)</code> expects a <em>unique</em> Object.</p>\n<p>However the following two reqIds are not identical.</p>\n<pre><code>String reqId = Integer.toString(42);\n...\nString reqId = Integer.toString(6*7);\n</code></pre>\n<p>One heavily costing simple solution would be:</p>\n<pre><code>synchronized(reqId.intern()) {\n</code></pre>\n<p>Instead make the Map of your <code>cache</code> a <code>ConcurrentHashMap</code> or its Navigable version.</p>\n<pre><code>Cache cache = new Cache();\n\nclass Cache {\n    ConcurrentMap&lt;String, String&gt; map = new ConcurrentHashMap&lt;&gt;();\n    void add(String key, String value) {\n        map.merge(...);\n    }\n}\n\npublic void saveInCatch(String reqId, String desc) {\n    cache.add(reqId, desc);\n}\n</code></pre>\n<p>By using <code>merge</code> you may keep changes inside the concurrent put.</p>\n<p>Should there be done <em>several</em> state changes besides adding to the map,\nyou could do that by <code>synchronized</code> on the inner key of the map.</p>\n<p>Mind, I do not like this solution, as it is brittle, and hard to test.</p>\n<p>Probably concurrent queues for atomic actions can be more solid. We are probably now looking at just one facet of data.</p>\n"}],"owner":{"account_id":24327197,"reputation":9,"user_id":18266583,"display_name":"Sushant K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1647571597,"creation_date":1647500582,"question_id":71508215,"body_markdown":"I am trying to use synchronized block for my use-case where I need to use it on following code.\r\n\r\n    public void saveInCatch(String reqId,String desc) {\r\n        synchronized (reqId) {\r\n            cache.add(reqId,desc);\r\n        }\r\n    }\r\n\r\nThis method is getting called from many places in my application. I want to make sure that the code block should be accessed by only one thread at a time if the `reqId` is same. If it is different then this block can be accessed concurrently. How can I achieve this?\r\n","title":"How to use synchronized block in java?","body":"<p>I am trying to use synchronized block for my use-case where I need to use it on following code.</p>\n<pre><code>public void saveInCatch(String reqId,String desc) {\n    synchronized (reqId) {\n        cache.add(reqId,desc);\n    }\n}\n</code></pre>\n<p>This method is getting called from many places in my application. I want to make sure that the code block should be accessed by only one thread at a time if the <code>reqId</code> is same. If it is different then this block can be accessed concurrently. How can I achieve this?</p>\n"},{"tags":["java","spring","spring-boot","cron"],"comments":[{"owner":{"account_id":3081416,"reputation":1428,"user_id":2609521,"accept_rate":66,"display_name":"MalcolmInTheCenter"},"score":0,"creation_date":1621396608,"post_id":67596685,"comment_id":119480160,"body_markdown":"how often do you need to run the cron?","body":"how often do you need to run the cron?"},{"owner":{"account_id":17754388,"reputation":63,"user_id":12891785,"display_name":"yuvanath"},"score":0,"creation_date":1621397056,"post_id":67596685,"comment_id":119480239,"body_markdown":"i want to run daily at 9 A.M","body":"i want to run daily at 9 A.M"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1621397057,"post_id":67596685,"comment_id":119480241,"body_markdown":"these logs dont show anything interesting, this should work just fine.","body":"these logs dont show anything interesting, this should work just fine."},{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":1,"creation_date":1621397080,"post_id":67596685,"comment_id":119480249,"body_markdown":"Cron looks good to me for everyday 9AM.","body":"Cron looks good to me for everyday 9AM."},{"owner":{"account_id":17754388,"reputation":63,"user_id":12891785,"display_name":"yuvanath"},"score":0,"creation_date":1621397216,"post_id":67596685,"comment_id":119480274,"body_markdown":"yeah but on the day i restart it working fine. but from next it is not getting triggered. I am running in local server only, Is Zone is mandatory to add ?","body":"yeah but on the day i restart it working fine. but from next it is not getting triggered. I am running in local server only, Is Zone is mandatory to add ?"},{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1621398258,"post_id":67596685,"comment_id":119480490,"body_markdown":"Not mandatory actually but you could give it a try and check.","body":"Not mandatory actually but you could give it a try and check."}],"answers":[{"tags":[],"owner":{"account_id":21615084,"reputation":206,"user_id":15941021,"display_name":"Zaur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621397776,"creation_date":1621397776,"answer_id":67596868,"question_id":67596685,"body_markdown":"Hi Please check example\r\n\r\n     @Scheduled(cron = &quot;0 0 0 * * *&quot;,zone = &quot;Indian/Maldives&quot;)","title":"Spring boot Cron is not working from the second day","body":"<p>Hi Please check example</p>\n<pre><code> @Scheduled(cron = &quot;0 0 0 * * *&quot;,zone = &quot;Indian/Maldives&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5271912,"reputation":55,"user_id":4209925,"display_name":"rick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647571303,"creation_date":1647571303,"answer_id":71521917,"question_id":67596685,"body_markdown":"Your schedule thread may be hanged or blocked by some consuming-time service. You should first find the blocked code with proper timeout and config a thread pool for the schedule.","title":"Spring boot Cron is not working from the second day","body":"<p>Your schedule thread may be hanged or blocked by some consuming-time service. You should first find the blocked code with proper timeout and config a thread pool for the schedule.</p>\n"}],"owner":{"account_id":17754388,"reputation":63,"user_id":12891785,"display_name":"yuvanath"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1504,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1647571303,"creation_date":1621396388,"question_id":67596685,"body_markdown":"I am trying to run the server locally which has Spring boot cron expression. For the first day cron is working fine but from the next cron expression is not getting triggered.\r\n   \r\n\r\n \r\n\r\n@Component\r\n    public class MailScheduler {\r\n\r\n      @Scheduled(cron = &quot;0 0 9 ? * *&quot;)\r\n      public void sendMail(){\r\n        System.out.println(&quot;*****************Mail Started&quot;);\r\n      }\r\n    }\r\n\r\n\r\nI have added @EnableScheduling in  main class. First day everything looks good but from second it is not working. If I restart the server on that particular day cron is getting triggered but from second day not getting triggered.\r\nSecond day Logs:\r\n\r\n&gt; &gt;2021-05-18 12:00:00.012  INFO 20520 --- [nio-9000-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring\r\n&gt; DispatcherServlet &#39;dispatcherServlet&#39; 2021-05-18 12:00:00.012  INFO\r\n&gt; 20520 --- [nio-9000-exec-2] o.s.web.servlet.DispatcherServlet        :\r\n&gt; Initializing Servlet &#39;dispatcherServlet&#39; 2021-05-18 12:00:00.014  INFO\r\n&gt; 20520 --- [nio-9000-exec-2] o.s.web.servlet.DispatcherServlet        :\r\n&gt; Completed initialization in 2 ms 2021-05-18 14:06:39.148  WARN 20520\r\n&gt; --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper\r\n&gt; delta=17m20s769ms350&#181;s701ns). 2021-05-18 21:19:58.233  WARN 20520 ---\r\n&gt; [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        :\r\n&gt; HikariPool-1 - Thread starvation or clock leap detected (housekeeper\r\n&gt; delta=31m42s577ms997&#181;s900ns). 2021-05-19 07:20:11.126  WARN 20520 ---\r\n&gt; [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        :\r\n&gt; HikariPool-1 - Thread starvation or clock leap detected (housekeeper\r\n&gt; delta=7h11m45s224ms352&#181;s500ns). 2021-05-19 08:17:11.121  WARN 20520\r\n&gt; --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper\r\n&gt; delta=5m29s194ms358&#181;s100ns).","title":"Spring boot Cron is not working from the second day","body":"<p>I am trying to run the server locally which has Spring boot cron expression. For the first day cron is working fine but from the next cron expression is not getting triggered.</p>\n<p>@Component\npublic class MailScheduler {</p>\n<pre><code>  @Scheduled(cron = &quot;0 0 9 ? * *&quot;)\n  public void sendMail(){\n    System.out.println(&quot;*****************Mail Started&quot;);\n  }\n}\n</code></pre>\n<p>I have added @EnableScheduling in  main class. First day everything looks good but from second it is not working. If I restart the server on that particular day cron is getting triggered but from second day not getting triggered.\nSecond day Logs:</p>\n<blockquote>\n<blockquote>\n<p>2021-05-18 12:00:00.012  INFO 20520 --- [nio-9000-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring\nDispatcherServlet 'dispatcherServlet' 2021-05-18 12:00:00.012  INFO\n20520 --- [nio-9000-exec-2] o.s.web.servlet.DispatcherServlet        :\nInitializing Servlet 'dispatcherServlet' 2021-05-18 12:00:00.014  INFO\n20520 --- [nio-9000-exec-2] o.s.web.servlet.DispatcherServlet        :\nCompleted initialization in 2 ms 2021-05-18 14:06:39.148  WARN 20520\n--- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper\ndelta=17m20s769ms350µs701ns). 2021-05-18 21:19:58.233  WARN 20520 ---\n[l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        :\nHikariPool-1 - Thread starvation or clock leap detected (housekeeper\ndelta=31m42s577ms997µs900ns). 2021-05-19 07:20:11.126  WARN 20520 ---\n[l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        :\nHikariPool-1 - Thread starvation or clock leap detected (housekeeper\ndelta=7h11m45s224ms352µs500ns). 2021-05-19 08:17:11.121  WARN 20520\n--- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper\ndelta=5m29s194ms358µs100ns).</p>\n</blockquote>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","spring-data"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":4,"creation_date":1545380445,"post_id":53881318,"comment_id":94609311,"body_markdown":"`@Value(&quot;${library.system.property}&quot;)`  should work.","body":"<code>@Value(&quot;${library.system.property}&quot;)</code>  should work."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1545380574,"post_id":53881318,"comment_id":94609354,"body_markdown":"Spring Boot combines environment variables, system properties and command line arguments with registered configuration files and creates what it calls an &quot;environment&quot;. This provides uniform access to all the above - your suggestion should work perfectly; does it not?","body":"Spring Boot combines environment variables, system properties and command line arguments with registered configuration files and creates what it calls an &quot;environment&quot;. This provides uniform access to all the above - your suggestion should work perfectly; does it not?"},{"owner":{"account_id":4745775,"reputation":781,"user_id":3837184,"display_name":"rocky"},"score":0,"creation_date":1545382647,"post_id":53881318,"comment_id":94610134,"body_markdown":"It is not working when i add @Value(&quot;${library.system.property}&quot;) in below code                                                                                                                              `@Value(&quot;${library.system.property}&quot;)\n    private String property;                                                                                                                                           \n @Bean\n    public void test() throws URISyntaxException {\n        return testMethod(property);\n    }`","body":"It is not working when i add @Value(&quot;${library.system.property}&quot;) in below code                                                                                                                              <code>@Value(&quot;${library.system.property}&quot;)     private String property;                                                                                                                                             @Bean     public void test() throws URISyntaxException {         return testMethod(property);     }</code>"},{"owner":{"account_id":1863959,"reputation":1108,"user_id":1687935,"accept_rate":55,"display_name":"Rentius2407"},"score":1,"creation_date":1545383218,"post_id":53881318,"comment_id":94610402,"body_markdown":"Change your command to: `java --library.system.property=value -jar myapp.jar`","body":"Change your command to: <code>java --library.system.property=value -jar myapp.jar</code>"},{"owner":{"account_id":4745775,"reputation":781,"user_id":3837184,"display_name":"rocky"},"score":0,"creation_date":1545385828,"post_id":53881318,"comment_id":94611601,"body_markdown":"thanks it worked for me after passing the argument `java -jar myapp.jar --library.system.property=value` and accessing it via `@Value(&quot;${library.system.property}&quot;)`","body":"thanks it worked for me after passing the argument <code>java -jar myapp.jar --library.system.property=value</code> and accessing it via <code>@Value(&quot;${library.system.property}&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":4745775,"reputation":781,"user_id":3837184,"display_name":"rocky"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1545386212,"creation_date":1545386212,"answer_id":53882621,"question_id":53881318,"body_markdown":"Thanks all. Issue got resolved by changing the way of passing the argument through command line as below\r\n\r\n    java -jar myapp.jar --library.system.property=value\r\n\r\nAccessing the value by below code snippet\r\n\r\n    @Value(&quot;${library.system.property}&quot;)\r\n    private String property;\r\n    \r\n    @Bean\r\n    public SampleProvider getSampleProvider () {\r\n        return SampleProvider.from(property);\r\n    }","title":"How to get the value from system property in spring boot","body":"<p>Thanks all. Issue got resolved by changing the way of passing the argument through command line as below</p>\n\n<pre><code>java -jar myapp.jar --library.system.property=value\n</code></pre>\n\n<p>Accessing the value by below code snippet</p>\n\n<pre><code>@Value(\"${library.system.property}\")\nprivate String property;\n\n@Bean\npublic SampleProvider getSampleProvider () {\n    return SampleProvider.from(property);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5649444,"reputation":655,"user_id":4470582,"display_name":"Eslam Nawara"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1610098034,"creation_date":1545389973,"answer_id":53883622,"question_id":53881318,"body_markdown":"You can access the system properties using the following expression:\r\n    \r\n    @Value(&quot;#{systemProperties[&#39;library.system.property&#39;]}&quot;)\r\n    private String property\r\n\r\nYou can also access the system environment using the following expression:\r\n\r\n    @Value(&quot;#{systemEnvironment[&#39;SOME_ENV_VARIABLE&#39;]}&quot;)\r\n    private String property\r\n\r\nLastly, if you are using Spring Boot you can refer to the property name directly as long as you are passing it in the command line. For example, if you launch the JAR like `java -jar boot.jar --some.property=value` you can read it as:\r\n\r\n    @Value(&quot;${some.property}&quot;)\r\n    private String property\r\n\r\n","title":"How to get the value from system property in spring boot","body":"<p>You can access the system properties using the following expression:</p>\n<pre><code>@Value(&quot;#{systemProperties['library.system.property']}&quot;)\nprivate String property\n</code></pre>\n<p>You can also access the system environment using the following expression:</p>\n<pre><code>@Value(&quot;#{systemEnvironment['SOME_ENV_VARIABLE']}&quot;)\nprivate String property\n</code></pre>\n<p>Lastly, if you are using Spring Boot you can refer to the property name directly as long as you are passing it in the command line. For example, if you launch the JAR like <code>java -jar boot.jar --some.property=value</code> you can read it as:</p>\n<pre><code>@Value(&quot;${some.property}&quot;)\nprivate String property\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14054068,"reputation":30,"user_id":10151961,"display_name":"Gaurav Jestha"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1545648917,"creation_date":1545648917,"answer_id":53912470,"question_id":53881318,"body_markdown":"You can access your data from properties file by using @ Value on your controller.\r\nFor example:\r\n    @Value(&quot;${library.system.property}&quot;)\r\n    private String property;\r\n\r\nNow your value is in property,now you can use it anywhere.","title":"How to get the value from system property in spring boot","body":"<p>You can access your data from properties file by using @ Value on your controller.\nFor example:\n    @Value(\"${library.system.property}\")\n    private String property;</p>\n\n<p>Now your value is in property,now you can use it anywhere.</p>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589542073,"creation_date":1589542073,"answer_id":61818124,"question_id":53881318,"body_markdown":"Simply use\r\n\r\n    import org.springframework.boot.system.SystemProperties;\r\n    ...\r\n    String propertyKey = &quot;library.system.property&quot;;\r\n    String propertyValue = SystemProperties.get(propertyKey);","title":"How to get the value from system property in spring boot","body":"<p>Simply use</p>\n\n<pre><code>import org.springframework.boot.system.SystemProperties;\n...\nString propertyKey = \"library.system.property\";\nString propertyValue = SystemProperties.get(propertyKey);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":184227,"reputation":1077,"user_id":420131,"display_name":"theRiley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647570986,"creation_date":1647569367,"answer_id":71521736,"question_id":53881318,"body_markdown":"    @Configuration\r\n    Public class YourAppConfig {\r\n    \r\n        @Value(&quot;${your.system.property}&quot;) String prop\r\n        @Autowired\r\n        Public void LoadProperties() {\r\n            System.setProperty(PROPERTY_NAME, prop) ;\r\n        }\r\n    \r\n        @Bean\r\n        ...","title":"How to get the value from system property in spring boot","body":"<pre><code>@Configuration\nPublic class YourAppConfig {\n\n    @Value(&quot;${your.system.property}&quot;) String prop\n    @Autowired\n    Public void LoadProperties() {\n        System.setProperty(PROPERTY_NAME, prop) ;\n    }\n\n    @Bean\n    ...\n</code></pre>\n"}],"owner":{"account_id":4745775,"reputation":781,"user_id":3837184,"display_name":"rocky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25512,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":53882621,"answer_count":5,"score":13,"last_activity_date":1647570986,"creation_date":1545380352,"question_id":53881318,"body_markdown":"I am using following command to run my spring boot application\r\n\r\n    java -Dlibrary.system.property=value -jar myapp.jar\r\n\r\nCurrently, I am able to access it via following command like below\r\n\r\n    System.getProperty(&quot;library.system.property&quot;)\r\nHowever I need to access it via any annotation in Spring something like \r\n\r\n`@value(${library.system.property})`\r\n\r\nI tried to use \r\n\r\n        @Value(&quot;${library.system.property&quot;)\r\n        private String property;\r\n    \r\n        @Bean\r\n        public SampleProvider getSampleProvider () {\r\n            return SampleProvider.from(property);\r\n        }\r\n\r\nBut the value of the property is `null`. Do I need to use conditional bean or something?\r\n\r\n ","title":"How to get the value from system property in spring boot","body":"<p>I am using following command to run my spring boot application</p>\n\n<pre><code>java -Dlibrary.system.property=value -jar myapp.jar\n</code></pre>\n\n<p>Currently, I am able to access it via following command like below</p>\n\n<pre><code>System.getProperty(\"library.system.property\")\n</code></pre>\n\n<p>However I need to access it via any annotation in Spring something like </p>\n\n<p><code>@value(${library.system.property})</code></p>\n\n<p>I tried to use </p>\n\n<pre><code>    @Value(\"${library.system.property\")\n    private String property;\n\n    @Bean\n    public SampleProvider getSampleProvider () {\n        return SampleProvider.from(property);\n    }\n</code></pre>\n\n<p>But the value of the property is <code>null</code>. Do I need to use conditional bean or something?</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"score":0,"creation_date":1289110337,"post_id":4116681,"comment_id":14903189,"body_markdown":"Perhaps [this related question](http://stackoverflow.com/questions/1311360/property-placeholder-location-from-another-property) gives some direction?","body":"Perhaps <a href=\"http://stackoverflow.com/questions/1311360/property-placeholder-location-from-another-property\">this related question</a> gives some direction?"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1289122772,"creation_date":1289120433,"answer_id":4117086,"question_id":4116681,"body_markdown":"The point is to do this the other way around - i.e. use system properties in spring, rather than spring properties in the system.\r\n\r\nWith `PropertyPlaceholderConfigurer` you get your properties + the system properties accessible via the `${property.key}` syntax. In spring 3.0 you can inject these using the `@Value` annotation.\r\n\r\nThe idea is not to rely on calls to `System.getProperty(..)`, but to instead inject your property values. So:\r\n\r\n\r\n    @Value(&quot;${foo.property}&quot;)\r\n    private String foo;\r\n    \r\n    public void someMethod {\r\n        String path = getPath(foo);\r\n        //.. etc\r\n    }\r\n\r\nrather than\r\n\r\n    public void someMethod {\r\n        String path = getPath(System.getProperty(&quot;your.property&quot;));\r\n        //.. etc\r\n    }\r\n\r\nImagine you want to unit test your class - you&#39;d have to prepopulate the `System` object with properties. With the spring-way you&#39;d just have to set some fields of the object.","title":"How to load system properties file in Spring?","body":"<p>The point is to do this the other way around - i.e. use system properties in spring, rather than spring properties in the system.</p>\n\n<p>With <code>PropertyPlaceholderConfigurer</code> you get your properties + the system properties accessible via the <code>${property.key}</code> syntax. In spring 3.0 you can inject these using the <code>@Value</code> annotation.</p>\n\n<p>The idea is not to rely on calls to <code>System.getProperty(..)</code>, but to instead inject your property values. So:</p>\n\n<pre><code>@Value(\"${foo.property}\")\nprivate String foo;\n\npublic void someMethod {\n    String path = getPath(foo);\n    //.. etc\n}\n</code></pre>\n\n<p>rather than</p>\n\n<pre><code>public void someMethod {\n    String path = getPath(System.getProperty(\"your.property\"));\n    //.. etc\n}\n</code></pre>\n\n<p>Imagine you want to unit test your class - you'd have to prepopulate the <code>System</code> object with properties. With the spring-way you'd just have to set some fields of the object.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1289126960,"creation_date":1289126960,"answer_id":4117375,"question_id":4116681,"body_markdown":"While I subscribe to the Spirit of [Bozho&#39;s answer][1], I recently also had a situation where I needed to set System Properties from Spring. Here&#39;s the class I came up with:\r\n\r\n**Java Code:**\r\n\r\n    public class SystemPropertiesReader{\r\n    \r\n        private Collection&lt;Resource&gt; resources;\r\n    \r\n        public void setResources(final Collection&lt;Resource&gt; resources){\r\n            this.resources = resources;\r\n        }\r\n    \r\n        public void setResource(final Resource resource){\r\n            resources = Collections.singleton(resource);\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void applyProperties() throws Exception{\r\n            final Properties systemProperties = System.getProperties();\r\n            for(final Resource resource : resources){\r\n                final InputStream inputStream = resource.getInputStream();\r\n                try{\r\n                    systemProperties.load(inputStream);\r\n                } finally{\r\n                    // Guava\r\n                    Closeables.closeQuietly(inputStream);\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**Spring Config:**\r\n\r\n    &lt;bean class=&quot;x.y.SystemPropertiesReader&quot;&gt;\r\n    \r\n        &lt;!-- either a single .properties file --&gt;\r\n        &lt;property name=&quot;resource&quot; value=&quot;classpath:dummy.properties&quot; /&gt;\r\n    \r\n        &lt;!-- or a collection of .properties file --&gt;\r\n        &lt;property name=&quot;resources&quot; value=&quot;classpath*:many.properties&quot; /&gt;\r\n\r\n        &lt;!-- but not both --&gt;\r\n    \r\n    &lt;/bean&gt;\r\n\r\n  [1]: https://stackoverflow.com/questions/4116681/how-to-load-system-properties-file-in-spring/4117086#4117086\r\n","title":"How to load system properties file in Spring?","body":"<p>While I subscribe to the Spirit of <a href=\"https://stackoverflow.com/questions/4116681/how-to-load-system-properties-file-in-spring/4117086#4117086\">Bozho's answer</a>, I recently also had a situation where I needed to set System Properties from Spring. Here's the class I came up with:</p>\n\n<p><strong>Java Code:</strong></p>\n\n<pre><code>public class SystemPropertiesReader{\n\n    private Collection&lt;Resource&gt; resources;\n\n    public void setResources(final Collection&lt;Resource&gt; resources){\n        this.resources = resources;\n    }\n\n    public void setResource(final Resource resource){\n        resources = Collections.singleton(resource);\n    }\n\n    @PostConstruct\n    public void applyProperties() throws Exception{\n        final Properties systemProperties = System.getProperties();\n        for(final Resource resource : resources){\n            final InputStream inputStream = resource.getInputStream();\n            try{\n                systemProperties.load(inputStream);\n            } finally{\n                // Guava\n                Closeables.closeQuietly(inputStream);\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>Spring Config:</strong></p>\n\n<pre><code>&lt;bean class=\"x.y.SystemPropertiesReader\"&gt;\n\n    &lt;!-- either a single .properties file --&gt;\n    &lt;property name=\"resource\" value=\"classpath:dummy.properties\" /&gt;\n\n    &lt;!-- or a collection of .properties file --&gt;\n    &lt;property name=\"resources\" value=\"classpath*:many.properties\" /&gt;\n\n    &lt;!-- but not both --&gt;\n\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":998412,"reputation":181,"user_id":1013805,"display_name":"Florin"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1319592260,"creation_date":1319592260,"answer_id":7897751,"question_id":4116681,"body_markdown":"In Spring 3 you can load system properties this way:\r\n\r\n      &lt;bean id=&quot;systemPropertiesLoader&quot;\r\n\t\tclass=&quot;org.springframework.beans.factory.config.MethodInvokingFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;targetObject&quot; value=&quot;#{@systemProperties}&quot; /&gt;\r\n\t\t&lt;property name=&quot;targetMethod&quot; value=&quot;putAll&quot; /&gt;\r\n\t\t&lt;property name=&quot;arguments&quot;&gt;\r\n\t\t\t&lt;util:properties location=&quot;file:///${user.home}/mySystemEnv.properties&quot; /&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;","title":"How to load system properties file in Spring?","body":"<p>In Spring 3 you can load system properties this way:</p>\n\n<pre><code>  &lt;bean id=\"systemPropertiesLoader\"\n    class=\"org.springframework.beans.factory.config.MethodInvokingFactoryBean\"&gt;\n    &lt;property name=\"targetObject\" value=\"#{@systemProperties}\" /&gt;\n    &lt;property name=\"targetMethod\" value=\"putAll\" /&gt;\n    &lt;property name=\"arguments\"&gt;\n        &lt;util:properties location=\"file:///${user.home}/mySystemEnv.properties\" /&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":184227,"reputation":1077,"user_id":420131,"display_name":"theRiley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647570814,"creation_date":1647569235,"answer_id":71521720,"question_id":4116681,"body_markdown":"    @Configuration\r\n    Public class YourAppConfig {\r\n    \r\n    \t@Value(&quot;${your.system.property}&quot;) String prop\r\n    \t@Autowired\r\n    \tPublic void LoadProperties() {\r\n    \t\tSystem.setProperty(PROPERTY_NAME, prop) ;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t...\r\n\r\n","title":"How to load system properties file in Spring?","body":"<pre><code>@Configuration\nPublic class YourAppConfig {\n\n    @Value(&quot;${your.system.property}&quot;) String prop\n    @Autowired\n    Public void LoadProperties() {\n        System.setProperty(PROPERTY_NAME, prop) ;\n    }\n\n    @Bean\n    ...\n</code></pre>\n"}],"owner":{"account_id":42934,"reputation":40023,"user_id":125278,"accept_rate":98,"display_name":"DigitalZebra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36397,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":4117375,"answer_count":4,"score":8,"last_activity_date":1647570814,"creation_date":1289109841,"question_id":4116681,"body_markdown":"I have a properties file which I would like loaded in to System Properties so that I can access it via `System.getProperty(&quot;myProp&quot;)`.  Currently, I&#39;m trying to use the Spring `&lt;context:propert-placeholder/&gt;` like so:\r\n\r\n    &lt;context:property-placeholder location=&quot;/WEB-INF/properties/webServerProperties.properties&quot; /&gt;\r\n\r\nHowever, when I try to access my properties via `System.getProperty(&quot;myProp&quot;)` I&#39;m getting `null`.  My properties file looks like this:\r\n\r\n    myProp=hello world\r\n\r\n\r\nHow could I achieve this?  I&#39;m pretty sure I could set a runtime argument, however I&#39;d like to avoid this.\r\n\r\nThanks!","title":"How to load system properties file in Spring?","body":"<p>I have a properties file which I would like loaded in to System Properties so that I can access it via <code>System.getProperty(\"myProp\")</code>.  Currently, I'm trying to use the Spring <code>&lt;context:propert-placeholder/&gt;</code> like so:</p>\n\n<pre><code>&lt;context:property-placeholder location=\"/WEB-INF/properties/webServerProperties.properties\" /&gt;\n</code></pre>\n\n<p>However, when I try to access my properties via <code>System.getProperty(\"myProp\")</code> I'm getting <code>null</code>.  My properties file looks like this:</p>\n\n<pre><code>myProp=hello world\n</code></pre>\n\n<p>How could I achieve this?  I'm pretty sure I could set a runtime argument, however I'd like to avoid this.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","postgresql","controller","thymeleaf"],"comments":[{"owner":{"account_id":5079871,"reputation":1055,"user_id":4076291,"accept_rate":57,"display_name":"Ahmet"},"score":0,"creation_date":1647584720,"post_id":71521852,"comment_id":126412470,"body_markdown":"What about your spring security configuration details? Namely request authorizations? Could you please post additional logs such as stack trace.","body":"What about your spring security configuration details? Namely request authorizations? Could you please post additional logs such as stack trace."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1647596917,"post_id":71521852,"comment_id":126415684,"body_markdown":"With Thymeleaf, you need to use `@Controller`, not `@RestController`. The returned String should use the name of the Thymeleaf template, but _without_ the `.html` extension. So use `return &quot;adminLogin&quot;`, not `return &quot;adminLogin.html&quot;`.","body":"With Thymeleaf, you need to use <code>@Controller</code>, not <code>@RestController</code>. The returned String should use the name of the Thymeleaf template, but <i>without</i> the <code>.html</code> extension. So use <code>return &quot;adminLogin&quot;</code>, not <code>return &quot;adminLogin.html&quot;</code>."}],"owner":{"account_id":24436623,"reputation":19,"user_id":18452030,"display_name":"amir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647570630,"creation_date":1647570630,"question_id":71521852,"body_markdown":"All I can is viewing index.html, but when I am trying to surf to adminLogin for example all i see is:\r\n\r\n\r\n&gt; Whitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\nThere was an unexpected error (type=Not Found, status=404).\r\n\r\n\r\nhere is PortfolioApplication:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class PortfolioApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(PortfolioApplication.class, args);\r\n\t}\r\n\r\n\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic String getMainPage() {\r\n\t\treturn &quot;index.html&quot;;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/adminLogin&quot;)\r\n\tpublic String getAboutPage() {\r\n\t\treturn &quot;adminLogin.html&quot;;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nwhen i am trying to call another pages from index.html nothing happens:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n    &lt;title&gt;Hotel_Management_java_project&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;css/home.css&quot;&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n&lt;div class=&quot;home&quot; id=&quot;home&quot;&gt;\r\n    &lt;nav&gt;\r\n        &lt;div class=&quot;logo&quot;&gt;\r\n            &lt;a href=&quot;#&quot;&gt;\r\n                &lt;h2&gt;TourAgency&lt;/h2&gt;\r\n            &lt;/a&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;header_content&quot;&gt;\r\n            &lt;ul&gt;\r\n                &lt;li&gt;&lt;a href=&quot;#home&quot;&gt;Главная&lt;/a&gt;&lt;/li&gt;\r\n                &lt;div class=&quot;login&quot;&gt;\r\n                    &lt;button class=&quot;loginbtn&quot; id=&quot;loginbtn&quot;&gt;Вход&lt;/button&gt;\r\n                    &lt;div class=&quot;Login_content&quot;&gt;\r\n                        &lt;a th:href=&quot;@{/adminLogin}&quot;&gt;Вход для админа&lt;/a&gt;\r\n                        &lt;a th:href=&quot;@{/employeelogin}&quot;&gt;Вход для работника&lt;/a&gt;\r\n                        &lt;a th:href=&quot;@{/userlogin}&quot;&gt;Вход для пользователя&lt;/a&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/ul&gt;\r\n        &lt;/div&gt;\r\n    &lt;/nav&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\nUserController:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class UserController {\r\n\t\r\n\t@Autowired\r\n\tprivate UserRepository urepo;\r\n\t\r\n\t@RequestMapping(&quot;/&quot;)\r\n\tpublic String index() {\r\n\t\treturn &quot;index&quot;; \r\n\t}\r\n\t\r\n\t@RequestMapping(&quot;/userlogin&quot;)\r\n\tpublic String index1(Model model) {\r\n\t\tmodel.addAttribute(&quot;user&quot;, new User());\r\n\t\treturn &quot;userlogin&quot;;\r\n\t}\r\n\r\n```\r\n\r\nI was trying change @Controller to @RestController, putting my main class to up and so on, but i&#39;ve got no result","title":"Thymeleaf can&#39;t view anything except one page","body":"<p>All I can is viewing index.html, but when I am trying to surf to adminLogin for example all i see is:</p>\n<blockquote>\n<p>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\nThere was an unexpected error (type=Not Found, status=404).</p>\n</blockquote>\n<p>here is PortfolioApplication:</p>\n<pre><code>@SpringBootApplication\npublic class PortfolioApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(PortfolioApplication.class, args);\n    }\n\n\n    @GetMapping(&quot;/&quot;)\n    public String getMainPage() {\n        return &quot;index.html&quot;;\n    }\n\n    @GetMapping(&quot;/adminLogin&quot;)\n    public String getAboutPage() {\n        return &quot;adminLogin.html&quot;;\n    }\n\n}\n</code></pre>\n<p>when i am trying to call another pages from index.html nothing happens:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;title&gt;Hotel_Management_java_project&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;css/home.css&quot;&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;div class=&quot;home&quot; id=&quot;home&quot;&gt;\n    &lt;nav&gt;\n        &lt;div class=&quot;logo&quot;&gt;\n            &lt;a href=&quot;#&quot;&gt;\n                &lt;h2&gt;TourAgency&lt;/h2&gt;\n            &lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;header_content&quot;&gt;\n            &lt;ul&gt;\n                &lt;li&gt;&lt;a href=&quot;#home&quot;&gt;Главная&lt;/a&gt;&lt;/li&gt;\n                &lt;div class=&quot;login&quot;&gt;\n                    &lt;button class=&quot;loginbtn&quot; id=&quot;loginbtn&quot;&gt;Вход&lt;/button&gt;\n                    &lt;div class=&quot;Login_content&quot;&gt;\n                        &lt;a th:href=&quot;@{/adminLogin}&quot;&gt;Вход для админа&lt;/a&gt;\n                        &lt;a th:href=&quot;@{/employeelogin}&quot;&gt;Вход для работника&lt;/a&gt;\n                        &lt;a th:href=&quot;@{/userlogin}&quot;&gt;Вход для пользователя&lt;/a&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n    &lt;/nav&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>UserController:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n    \n    @Autowired\n    private UserRepository urepo;\n    \n    @RequestMapping(&quot;/&quot;)\n    public String index() {\n        return &quot;index&quot;; \n    }\n    \n    @RequestMapping(&quot;/userlogin&quot;)\n    public String index1(Model model) {\n        model.addAttribute(&quot;user&quot;, new User());\n        return &quot;userlogin&quot;;\n    }\n\n</code></pre>\n<p>I was trying change @Controller to @RestController, putting my main class to up and so on, but i've got no result</p>\n"},{"tags":["java","spring-boot","tomcat","error-handling"],"answers":[{"tags":[],"owner":{"account_id":12143916,"reputation":17,"user_id":8866853,"display_name":"userstackrs"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647346189,"creation_date":1647346189,"answer_id":71481981,"question_id":71481648,"body_markdown":"From the problem description, what I can understand is that you want to return a specific response in the case of an exception/error.\r\n\r\nIn this case, you can use @ControllerAdvice and catch the error and return the specific response you want. If you want any help with this then I am ready to help you.","title":"ERROR 18904 --- [nio-8080-exec-7] o.s.b.w.servlet.support.ErrorPageFilter","body":"<p>From the problem description, what I can understand is that you want to return a specific response in the case of an exception/error.</p>\n<p>In this case, you can use @ControllerAdvice and catch the error and return the specific response you want. If you want any help with this then I am ready to help you.</p>\n"},{"tags":[],"owner":{"account_id":24564633,"reputation":1,"user_id":18471934,"display_name":"tired"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647570005,"creation_date":1647570005,"answer_id":71521797,"question_id":71481648,"body_markdown":"I had two controllers... and made it to one controller (and also renamed Getmappings...\r\nit worked.. I will add comments as soon as I find the reason. thankyou!","title":"ERROR 18904 --- [nio-8080-exec-7] o.s.b.w.servlet.support.ErrorPageFilter","body":"<p>I had two controllers... and made it to one controller (and also renamed Getmappings...\nit worked.. I will add comments as soon as I find the reason. thankyou!</p>\n"}],"owner":{"account_id":24564633,"reputation":1,"user_id":18471934,"display_name":"tired"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2835,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1647570005,"creation_date":1647344542,"question_id":71481648,"body_markdown":"i&#39;m using \r\ntomcat 9.0\r\nSpringboot \r\n\r\nERROR 22484 --- [io-8080-exec-58] o.s.b.w.servlet.support.ErrorPageFilter  : Cannot forward to error page for request [/] as the response has already been committed. As a result, the response may have the wrong status code. If your application is running on WebSphere Application Server you may be able to resolve this problem by setting com.ibm.ws.webcontainer.invokeFlushAfterService to false\r\n\r\n\r\n\r\n\r\nwhat i tried:\r\n\r\n\r\n- **create @Bean** \r\n @Bean\r\n    public FilterRegistrationBean disableSpringBootErrorFilter(ErrorPageFilter filter) {\r\n        FilterRegistrationBean filterRegistrationBean = new FilterRegistrationBean();\r\n        filterRegistrationBean.setFilter(filter);\r\n        filterRegistrationBean.setEnabled(false);\r\n        return filterRegistrationBean;*\r\n\r\n\r\n- **added these in application.properties**\r\n\r\nspring.main.allow-bean-definition-overriding: true\r\nlogging.level.org.springframework.boot.context.web.ErrorPageFilter=off\r\n\r\n\r\n- **add @ResponseBody in Controller**\r\n\r\n- **etc:**\r\nclean project, restart eclipse, \r\n\r\nall didn&#39;t work!!\r\n\r\n\r\n**this is my console log**\r\n\r\n    2022-03-15 20:17:03.099  INFO 18904 --- [           main] c.z.l.configuration.ServletInitializer   : Starting ServletInitializer v0.0.1-SNAPSHOT using Java 17.0.1 on DESKTOP-JBB51IM with PID 18904 (C:\\Users\\user1\\Desktop\\LMS_war2\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\LMS\\WEB-INF\\classes started by user1 in C:\\WINDOWS\\system32)\r\n    2022-03-15 20:17:03.132  INFO 18904 --- [           main] c.z.l.configuration.ServletInitializer   : No active profile set, falling back to default profiles: default\r\n    2022-03-15 20:17:12.317  INFO 18904 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2022-03-15 20:17:13.004  INFO 18904 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 581 ms. Found 1 JPA repository interfaces.\r\n    2022-03-15 20:17:14.333  WARN 18904 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in &#39;[com.zerobase.lms]&#39; package. Please check your configuration.\r\n    2022-03-15 20:17:18.345  INFO 18904 --- [           main] o.a.c.c.C.[Catalina].[localhost].[/]     : Initializing Spring embedded WebApplicationContext\r\n    2022-03-15 20:17:18.345  INFO 18904 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 14282 ms\r\n    2022-03-15 20:17:19.975  INFO 18904 --- [           main] o.s.boot.web.servlet.RegistrationBean    : Filter springSecurityFilterChain was not registered (possibly already registered?)\r\n    2022-03-15 20:17:19.975  INFO 18904 --- [           main] o.s.boot.web.servlet.RegistrationBean    : Filter errorPageFilter was not registered (disabled)\r\n    2022-03-15 20:17:22.633  INFO 18904 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2022-03-15 20:17:23.470  INFO 18904 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final\r\n    2022-03-15 20:17:25.335  INFO 18904 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2022-03-15 20:17:26.743  INFO 18904 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2022-03-15 20:17:28.841  INFO 18904 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2022-03-15 20:17:30.180  INFO 18904 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\r\n    2022-03-15 20:17:37.922  INFO 18904 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2022-03-15 20:17:38.019  INFO 18904 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-03-15 20:17:43.506  WARN 18904 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2022-03-15 20:17:46.716  INFO 18904 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13879c47, org.springframework.security.web.context.SecurityContextPersistenceFilter@3af41750, org.springframework.security.web.header.HeaderWriterFilter@1ad779a6, org.springframework.security.web.authentication.logout.LogoutFilter@1937bcc6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@59168cdc, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@38a5eb35, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a4d4219, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a72fe51, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@178a0b1, org.springframework.security.web.session.SessionManagementFilter@1046987b, org.springframework.security.web.access.ExceptionTranslationFilter@288a7102, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2cc9371f]\r\n    2022-03-15 20:17:49.844  INFO 18904 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index\r\n    2022-03-15 20:17:53.758  INFO 18904 --- [           main] c.z.l.configuration.ServletInitializer   : Started ServletInitializer in 57.665 seconds (JVM running for 86.753)\r\n    2022-03-15 20:17:54.246  WARN 18904 --- [           main] o.a.c.util.SessionIdGeneratorBase        : [SHA1PRNG] 알고리즘을 사용하여, 세션 ID를 생성하기 위한 SecureRandom 객체를 생성하는데, [452] 밀리초가 소요됐습니다.\r\n    2022-03-15 20:17:54.406  INFO 18904 --- [           main] org.apache.catalina.startup.Catalina     : 서버가 [82204] 밀리초 내에 시작되었습니다.\r\n    2022-03-15 20:17:54.692  INFO 18904 --- [nio-8080-exec-1] o.a.c.c.C.[Catalina].[localhost].[/]     : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2022-03-15 20:17:54.693  INFO 18904 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2022-03-15 20:17:54.697  INFO 18904 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms\r\n    Hibernate: select member_ent0_.user_id as user_id1_0_0_, member_ent0_.authdt as authdt2_0_0_, member_ent0_.email_auth_key as email_au3_0_0_, member_ent0_.email_authyn as email_au4_0_0_, member_ent0_.password as password5_0_0_, member_ent0_.phone as phone6_0_0_, member_ent0_.reset_password_key as reset_pa7_0_0_, member_ent0_.user_name as user_nam8_0_0_ from member_entity member_ent0_ where member_ent0_.user_id=?\r\n    2022-03-15 20:19:48.020 ERROR 18904 --- [nio-8080-exec-7] o.s.b.w.servlet.support.ErrorPageFilter  : Cannot forward to error page for request [/admin/member/list.do] as the response has already been committed. As a result, the response may have the wrong status code. If your application is running on WebSphere Application Server you may be able to resolve this problem by setting com.ibm.ws.webcontainer.invokeFlushAfterService to false\r\n\r\n\r\nis there any possible ways to solve this error? thanks for reading...\r\n","title":"ERROR 18904 --- [nio-8080-exec-7] o.s.b.w.servlet.support.ErrorPageFilter","body":"<p>i'm using\ntomcat 9.0\nSpringboot</p>\n<p>ERROR 22484 --- [io-8080-exec-58] o.s.b.w.servlet.support.ErrorPageFilter  : Cannot forward to error page for request [/] as the response has already been committed. As a result, the response may have the wrong status code. If your application is running on WebSphere Application Server you may be able to resolve this problem by setting com.ibm.ws.webcontainer.invokeFlushAfterService to false</p>\n<p>what i tried:</p>\n<ul>\n<li><p><strong>create @Bean</strong>\n@Bean\npublic FilterRegistrationBean disableSpringBootErrorFilter(ErrorPageFilter filter) {\nFilterRegistrationBean filterRegistrationBean = new FilterRegistrationBean();\nfilterRegistrationBean.setFilter(filter);\nfilterRegistrationBean.setEnabled(false);\nreturn filterRegistrationBean;*</p>\n</li>\n<li><p><strong>added these in application.properties</strong></p>\n</li>\n</ul>\n<p>spring.main.allow-bean-definition-overriding: true\nlogging.level.org.springframework.boot.context.web.ErrorPageFilter=off</p>\n<ul>\n<li><p><strong>add @ResponseBody in Controller</strong></p>\n</li>\n<li><p><strong>etc:</strong>\nclean project, restart eclipse,</p>\n</li>\n</ul>\n<p>all didn't work!!</p>\n<p><strong>this is my console log</strong></p>\n<pre><code>2022-03-15 20:17:03.099  INFO 18904 --- [           main] c.z.l.configuration.ServletInitializer   : Starting ServletInitializer v0.0.1-SNAPSHOT using Java 17.0.1 on DESKTOP-JBB51IM with PID 18904 (C:\\Users\\user1\\Desktop\\LMS_war2\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\LMS\\WEB-INF\\classes started by user1 in C:\\WINDOWS\\system32)\n2022-03-15 20:17:03.132  INFO 18904 --- [           main] c.z.l.configuration.ServletInitializer   : No active profile set, falling back to default profiles: default\n2022-03-15 20:17:12.317  INFO 18904 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-03-15 20:17:13.004  INFO 18904 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 581 ms. Found 1 JPA repository interfaces.\n2022-03-15 20:17:14.333  WARN 18904 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zerobase.lms]' package. Please check your configuration.\n2022-03-15 20:17:18.345  INFO 18904 --- [           main] o.a.c.c.C.[Catalina].[localhost].[/]     : Initializing Spring embedded WebApplicationContext\n2022-03-15 20:17:18.345  INFO 18904 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 14282 ms\n2022-03-15 20:17:19.975  INFO 18904 --- [           main] o.s.boot.web.servlet.RegistrationBean    : Filter springSecurityFilterChain was not registered (possibly already registered?)\n2022-03-15 20:17:19.975  INFO 18904 --- [           main] o.s.boot.web.servlet.RegistrationBean    : Filter errorPageFilter was not registered (disabled)\n2022-03-15 20:17:22.633  INFO 18904 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-03-15 20:17:23.470  INFO 18904 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final\n2022-03-15 20:17:25.335  INFO 18904 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-03-15 20:17:26.743  INFO 18904 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-03-15 20:17:28.841  INFO 18904 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-03-15 20:17:30.180  INFO 18904 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\n2022-03-15 20:17:37.922  INFO 18904 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-03-15 20:17:38.019  INFO 18904 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-03-15 20:17:43.506  WARN 18904 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2022-03-15 20:17:46.716  INFO 18904 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13879c47, org.springframework.security.web.context.SecurityContextPersistenceFilter@3af41750, org.springframework.security.web.header.HeaderWriterFilter@1ad779a6, org.springframework.security.web.authentication.logout.LogoutFilter@1937bcc6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@59168cdc, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@38a5eb35, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a4d4219, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a72fe51, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@178a0b1, org.springframework.security.web.session.SessionManagementFilter@1046987b, org.springframework.security.web.access.ExceptionTranslationFilter@288a7102, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2cc9371f]\n2022-03-15 20:17:49.844  INFO 18904 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index\n2022-03-15 20:17:53.758  INFO 18904 --- [           main] c.z.l.configuration.ServletInitializer   : Started ServletInitializer in 57.665 seconds (JVM running for 86.753)\n2022-03-15 20:17:54.246  WARN 18904 --- [           main] o.a.c.util.SessionIdGeneratorBase        : [SHA1PRNG] 알고리즘을 사용하여, 세션 ID를 생성하기 위한 SecureRandom 객체를 생성하는데, [452] 밀리초가 소요됐습니다.\n2022-03-15 20:17:54.406  INFO 18904 --- [           main] org.apache.catalina.startup.Catalina     : 서버가 [82204] 밀리초 내에 시작되었습니다.\n2022-03-15 20:17:54.692  INFO 18904 --- [nio-8080-exec-1] o.a.c.c.C.[Catalina].[localhost].[/]     : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-03-15 20:17:54.693  INFO 18904 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-03-15 20:17:54.697  INFO 18904 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms\nHibernate: select member_ent0_.user_id as user_id1_0_0_, member_ent0_.authdt as authdt2_0_0_, member_ent0_.email_auth_key as email_au3_0_0_, member_ent0_.email_authyn as email_au4_0_0_, member_ent0_.password as password5_0_0_, member_ent0_.phone as phone6_0_0_, member_ent0_.reset_password_key as reset_pa7_0_0_, member_ent0_.user_name as user_nam8_0_0_ from member_entity member_ent0_ where member_ent0_.user_id=?\n2022-03-15 20:19:48.020 ERROR 18904 --- [nio-8080-exec-7] o.s.b.w.servlet.support.ErrorPageFilter  : Cannot forward to error page for request [/admin/member/list.do] as the response has already been committed. As a result, the response may have the wrong status code. If your application is running on WebSphere Application Server you may be able to resolve this problem by setting com.ibm.ws.webcontainer.invokeFlushAfterService to false\n</code></pre>\n<p>is there any possible ways to solve this error? thanks for reading...</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":339950,"reputation":863,"user_id":669721,"accept_rate":83,"display_name":"Miroshko"},"score":0,"creation_date":1430743866,"post_id":30030601,"comment_id":48177457,"body_markdown":"http://stackoverflow.com/a/4515863/669721","body":"<a href=\"http://stackoverflow.com/a/4515863/669721\">stackoverflow.com/a/4515863/669721</a>"},{"owner":{"account_id":1201953,"reputation":53115,"user_id":1172428,"accept_rate":94,"display_name":"FatalError"},"score":2,"creation_date":1430743913,"post_id":30030601,"comment_id":48177488,"body_markdown":"fwiw, in json, the keys are unordered.  So, building something else that relies on any particular ordering is a questionable idea... unless you want this just for aesthetics.","body":"fwiw, in json, the keys are unordered.  So, building something else that relies on any particular ordering is a questionable idea... unless you want this just for aesthetics."},{"owner":{"account_id":4842233,"reputation":6942,"user_id":3906965,"accept_rate":48,"display_name":"Abhishek"},"score":0,"creation_date":1430744012,"post_id":30030601,"comment_id":48177560,"body_markdown":"@FatalError I want them to be in order because I&#39;ll be encoding of the json string. If keys moved around, my encoding will change and I don&#39;t want to do that. Edited in question as well. So, I would need it to be sorted.","body":"@FatalError I want them to be in order because I&#39;ll be encoding of the json string. If keys moved around, my encoding will change and I don&#39;t want to do that. Edited in question as well. So, I would need it to be sorted."},{"owner":{"account_id":4842233,"reputation":6942,"user_id":3906965,"accept_rate":48,"display_name":"Abhishek"},"score":0,"creation_date":1430744077,"post_id":30030601,"comment_id":48177601,"body_markdown":"@Miroshko link doesn&#39;t address my problem completely. Here the problem is class structure can change.","body":"@Miroshko link doesn&#39;t address my problem completely. Here the problem is class structure can change."},{"owner":{"account_id":1201953,"reputation":53115,"user_id":1172428,"accept_rate":94,"display_name":"FatalError"},"score":0,"creation_date":1430748881,"post_id":30030601,"comment_id":48180888,"body_markdown":"@Abhishek: Imo you&#39;d be better served to deserialize the json and then hash the resulting object in some normalized way where you have control over exactly what you&#39;re hashing.  The same object could be serialized many equivalent ways into a JSON object -- even if the fields are in the same order, it could have extra whitespace (e.g. pretty printed) etc.","body":"@Abhishek: Imo you&#39;d be better served to deserialize the json and then hash the resulting object in some normalized way where you have control over exactly what you&#39;re hashing.  The same object could be serialized many equivalent ways into a JSON object -- even if the fields are in the same order, it could have extra whitespace (e.g. pretty printed) etc."},{"owner":{"account_id":4842233,"reputation":6942,"user_id":3906965,"accept_rate":48,"display_name":"Abhishek"},"score":0,"creation_date":1430750122,"post_id":30030601,"comment_id":48181741,"body_markdown":"@FatalError I&#39;m not doing pretty printed or any other formatting stuff. So, I don&#39;t think that would be an issue here.","body":"@FatalError I&#39;m not doing pretty printed or any other formatting stuff. So, I don&#39;t think that would be an issue here."},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":0,"creation_date":1529918562,"post_id":30030601,"comment_id":89032727,"body_markdown":"Possible duplicate of [How to sort GSON Array based on a key?](https://stackoverflow.com/questions/18575757/how-to-sort-gson-array-based-on-a-key)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/18575757/how-to-sort-gson-array-based-on-a-key\">How to sort GSON Array based on a key?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1356395,"reputation":801,"user_id":1294704,"accept_rate":62,"display_name":"wings"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1522664691,"creation_date":1430744615,"answer_id":30030908,"question_id":30030601,"body_markdown":"First of all, the keys of a json object are **unordered** by definition, see http://json.org/.\r\n\r\nIf you merely want a json string with ordered keys, you can try deserializing your json into a sorted map, and then serialize the map in order to get the sorted-by-key json string.\r\n\r\n    GsonTest obj=new GsonTest();\r\n    DataObject obj2 = new DataObject();\r\n    Gson gson = new Gson();\r\n\r\n    String json = gson.toJson(obj2);\r\n    TreeMap&lt;String, Object&gt; map = gson.fromJson(json, TreeMap.class);\r\n    String sortedJson = gson.toJson(map);\r\n","title":"How to create json, sorted on keys, using gson?","body":"<p>First of all, the keys of a json object are <strong>unordered</strong> by definition, see <a href=\"http://json.org/\" rel=\"noreferrer\">http://json.org/</a>.</p>\n\n<p>If you merely want a json string with ordered keys, you can try deserializing your json into a sorted map, and then serialize the map in order to get the sorted-by-key json string.</p>\n\n<pre><code>GsonTest obj=new GsonTest();\nDataObject obj2 = new DataObject();\nGson gson = new Gson();\n\nString json = gson.toJson(obj2);\nTreeMap&lt;String, Object&gt; map = gson.fromJson(json, TreeMap.class);\nString sortedJson = gson.toJson(map);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18423431,"reputation":1,"user_id":13420429,"display_name":"FeuerMacher"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1588018399,"creation_date":1588018399,"answer_id":61467669,"question_id":30030601,"body_markdown":"Perhaps a work around is for your class wrap a TreeMap which maintains sort order of the keys.  You can add getters and setters for convenience. When you gson the TreeMap, you&#39;ll get ordered keys.\r\n\r\n","title":"How to create json, sorted on keys, using gson?","body":"<p>Perhaps a work around is for your class wrap a TreeMap which maintains sort order of the keys.  You can add getters and setters for convenience. When you gson the TreeMap, you'll get ordered keys.</p>\n"},{"tags":[],"owner":{"account_id":7111886,"reputation":625,"user_id":5439438,"accept_rate":20,"display_name":"Utsav Sinha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599568937,"creation_date":1599568937,"answer_id":63794192,"question_id":30030601,"body_markdown":"Like others have mentioned that by design JSON is not supposed to have sorted keys in itself. You can also come up with a recursive solution to do it. I won&#39;t say my solution is very efficient but it does the intended job. Please have a look at the following piece of code. \r\n\r\n    private static JsonObject sortAndGet(JsonObject jsonObject) {\r\n        List&lt;String&gt; keySet = jsonObject.keySet().stream().sorted().collect(Collectors.toList());\r\n        JsonObject temp = new JsonObject();\r\n        for (String key : keySet) {\r\n            JsonElement ele = jsonObject.get(key);\r\n            if (ele.isJsonObject()) {\r\n                ele = sortAndGet(ele.getAsJsonObject());\r\n                temp.add(key, ele);\r\n            } else if (ele.isJsonArray()) {\r\n                temp.add(key, ele.getAsJsonArray());\r\n            } else\r\n                temp.add(key, ele.getAsJsonPrimitive());\r\n        }\r\n        return temp;\r\n    }\r\n\r\nInput: \r\n\r\n    {&quot;c&quot;:&quot;dhoni&quot;,&quot;a&quot;:&quot;mahendra&quot;,&quot;b&quot;:&quot;singh&quot;,&quot;d&quot;:{&quot;c&quot;:&quot;tendulkar&quot;,&quot;b&quot;:&quot;ramesh&quot;,&quot;a&quot;:&quot;sachin&quot;}}\r\n\r\nOutput:\r\n\r\n    {&quot;a&quot;:&quot;mahendra&quot;,&quot;b&quot;:&quot;singh&quot;,&quot;c&quot;:&quot;dhoni&quot;,&quot;d&quot;:{&quot;a&quot;:&quot;sachin&quot;,&quot;b&quot;:&quot;ramesh&quot;,&quot;c&quot;:&quot;tendulkar&quot;}}","title":"How to create json, sorted on keys, using gson?","body":"<p>Like others have mentioned that by design JSON is not supposed to have sorted keys in itself. You can also come up with a recursive solution to do it. I won't say my solution is very efficient but it does the intended job. Please have a look at the following piece of code.</p>\n<pre><code>private static JsonObject sortAndGet(JsonObject jsonObject) {\n    List&lt;String&gt; keySet = jsonObject.keySet().stream().sorted().collect(Collectors.toList());\n    JsonObject temp = new JsonObject();\n    for (String key : keySet) {\n        JsonElement ele = jsonObject.get(key);\n        if (ele.isJsonObject()) {\n            ele = sortAndGet(ele.getAsJsonObject());\n            temp.add(key, ele);\n        } else if (ele.isJsonArray()) {\n            temp.add(key, ele.getAsJsonArray());\n        } else\n            temp.add(key, ele.getAsJsonPrimitive());\n    }\n    return temp;\n}\n</code></pre>\n<p>Input:</p>\n<pre><code>{&quot;c&quot;:&quot;dhoni&quot;,&quot;a&quot;:&quot;mahendra&quot;,&quot;b&quot;:&quot;singh&quot;,&quot;d&quot;:{&quot;c&quot;:&quot;tendulkar&quot;,&quot;b&quot;:&quot;ramesh&quot;,&quot;a&quot;:&quot;sachin&quot;}}\n</code></pre>\n<p>Output:</p>\n<pre><code>{&quot;a&quot;:&quot;mahendra&quot;,&quot;b&quot;:&quot;singh&quot;,&quot;c&quot;:&quot;dhoni&quot;,&quot;d&quot;:{&quot;a&quot;:&quot;sachin&quot;,&quot;b&quot;:&quot;ramesh&quot;,&quot;c&quot;:&quot;tendulkar&quot;}}\n</code></pre>\n"}],"owner":{"account_id":4842233,"reputation":6942,"user_id":3906965,"accept_rate":48,"display_name":"Abhishek"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13178,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1647569402,"creation_date":1430743714,"question_id":30030601,"body_markdown":"I need to create constant json string or a json sorted on keys. What do I mean by constant json string? Please look into following code sample, which I created.\r\n\r\n**My Code 1:**\r\n\r\n    public class GsonTest\r\n    {\r\n    \tclass DataObject {\r\n    \t\t\r\n    \t\tprivate int data1 = 100;\r\n    \t\tprivate String data2 = &quot;hello&quot;;\r\n    \t\t\r\n    \t}\t\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tGsonTest obj=new GsonTest();\r\n    \t\tDataObject obj2 = obj.new DataObject();\r\n    \t\tGson gson = new Gson();\r\n    \t\t\r\n    \t\tString json = gson.toJson(obj2);\r\n    \t\tSystem.out.println(json);\r\n    \t}\r\n    }\r\n**Output 1:**\r\n\r\n    {&quot;data1&quot;:100,&quot;data2&quot;:&quot;hello&quot;}\r\n\r\n**My Code 2:**\r\n\r\n    public class GsonTest\r\n    {\r\n    \tclass DataObject {\r\n    \t\tprivate String data2 = &quot;hello&quot;;\r\n    \t\tprivate int data1 = 100;\r\n    \t\t\r\n    \t\t\r\n    \t}\t\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tGsonTest obj=new GsonTest();\r\n    \t\tDataObject obj2 = obj.new DataObject();\r\n    \t\tGson gson = new Gson();\r\n    \t\t\r\n    \t\tString json = gson.toJson(obj2);\r\n    \t\tSystem.out.println(json);\r\n    \t}\r\n    }\r\n\r\n**Output 2:**\r\n\r\n    {&quot;data2&quot;:&quot;hello&quot;,&quot;data1&quot;:100}\r\n\r\nIf you see, if I switch variables (`data1` &amp; `data2` in `DataObject` class), I get different json. My objective to get same json, even if somebody changes position of the class variables. I get it when somebody adds new variables, json would change. But json shouldn&#39;t change when variables are moved around. So, my objective is to get standard json, possibly in sorted keys order for same class. If there is nested json, then it should be sorted in the nested structure.\r\n\r\n**Expected output on run of both the codes**:\r\n\r\n    {&quot;data1&quot;:100,&quot;data2&quot;:&quot;hello&quot;}  //sorted on keys!! Here keys are data1 &amp; data2\r\nI understand, I need to change something in `String json = gson.toJson(obj2);` line, but what do I have to do?\r\n\r\n**Why I need them to be order?**\r\n\r\n\r\nI need to encode the json string and then pass it to another function. If I change the order of keys, even though value remain intact, the encoded value will change. I want to avoid that.","title":"How to create json, sorted on keys, using gson?","body":"<p>I need to create constant json string or a json sorted on keys. What do I mean by constant json string? Please look into following code sample, which I created.</p>\n\n<p><strong>My Code 1:</strong></p>\n\n<pre><code>public class GsonTest\n{\n    class DataObject {\n\n        private int data1 = 100;\n        private String data2 = \"hello\";\n\n    }   \n\n\n    public static void main(String[] args)\n    {\n        GsonTest obj=new GsonTest();\n        DataObject obj2 = obj.new DataObject();\n        Gson gson = new Gson();\n\n        String json = gson.toJson(obj2);\n        System.out.println(json);\n    }\n}\n</code></pre>\n\n<p><strong>Output 1:</strong></p>\n\n<pre><code>{\"data1\":100,\"data2\":\"hello\"}\n</code></pre>\n\n<p><strong>My Code 2:</strong></p>\n\n<pre><code>public class GsonTest\n{\n    class DataObject {\n        private String data2 = \"hello\";\n        private int data1 = 100;\n\n\n    }   \n\n\n    public static void main(String[] args)\n    {\n        GsonTest obj=new GsonTest();\n        DataObject obj2 = obj.new DataObject();\n        Gson gson = new Gson();\n\n        String json = gson.toJson(obj2);\n        System.out.println(json);\n    }\n}\n</code></pre>\n\n<p><strong>Output 2:</strong></p>\n\n<pre><code>{\"data2\":\"hello\",\"data1\":100}\n</code></pre>\n\n<p>If you see, if I switch variables (<code>data1</code> &amp; <code>data2</code> in <code>DataObject</code> class), I get different json. My objective to get same json, even if somebody changes position of the class variables. I get it when somebody adds new variables, json would change. But json shouldn't change when variables are moved around. So, my objective is to get standard json, possibly in sorted keys order for same class. If there is nested json, then it should be sorted in the nested structure.</p>\n\n<p><strong>Expected output on run of both the codes</strong>:</p>\n\n<pre><code>{\"data1\":100,\"data2\":\"hello\"}  //sorted on keys!! Here keys are data1 &amp; data2\n</code></pre>\n\n<p>I understand, I need to change something in <code>String json = gson.toJson(obj2);</code> line, but what do I have to do?</p>\n\n<p><strong>Why I need them to be order?</strong></p>\n\n<p>I need to encode the json string and then pass it to another function. If I change the order of keys, even though value remain intact, the encoded value will change. I want to avoid that.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1647569078,"post_id":71521624,"comment_id":126410195,"body_markdown":"Please don&#39;t post images of code.  Include the code in your question as well as details explaining the problem.","body":"Please don&#39;t post images of code.  Include the code in your question as well as details explaining the problem."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1647571131,"post_id":71521624,"comment_id":126410495,"body_markdown":"That sort is not going to do what you want.  You need a temporary variable to store a `double` as you swap the two values in `arr`.  Also, may I suggest that calling two arrays `array` and `arr` throws away a golden opportunity to use variable names that actually describe what&#39;s being stored?","body":"That sort is not going to do what you want.  You need a temporary variable to store a <code>double</code> as you swap the two values in <code>arr</code>.  Also, may I suggest that calling two arrays <code>array</code> and <code>arr</code> throws away a golden opportunity to use variable names that actually describe what&#39;s being stored?"}],"answers":[{"tags":[],"owner":{"account_id":19991342,"reputation":556,"user_id":16998523,"display_name":"charlie-map"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647569316,"creation_date":1647569316,"answer_id":71521726,"question_id":71521624,"body_markdown":"You don&#39;t really need that `if` statement. `currentIndex` (which starts at `i`) defines what the current position of the maximum value we haven seen is. Of course, if the value that you initially chose (at position `i`) is the maximum value, then in the inner for loop (with `j`) would never change the value of `currentMax` and `currentIndex`. The `if` statement is just saying if the value that is already at `i` is the maximum value (meaning `currentIndex` never changes), then there is no point in swapping the value at `i` and `currentIndex` because they are the same position.\r\n\r\nFor example, take the following values:\r\n\r\n```\r\n10, 8, 3, 2, 6\r\n```\r\n\r\nLet&#39;s say we have already placed `10` into the correct position (as the greatest value, that would be the first value you find and put into the correct position). Then, the for loop with `i` would move to the next value (position **1**). So you set `currentMax` and `currentIndex` to the following:\r\n\r\n```\r\ncurrentMax = 8\r\ncurrentIndex = 1\r\n```\r\n\r\nAt which point you move onto the inner for loop with `j`. Starting at `i + 1` (or **2** in this case), you check all of the values to the right of your `currentIndex` to see if there&#39;s any value greater than `currentMax`. Since you don&#39;t see any, then `currentMax` doesn&#39;t change (so it stays at **8**), which also means `currentIndex` doesn&#39;t change (stays at **1**).\r\n\r\nSo we come to the `if` statement. We know that:\r\n\r\n```\r\ncurrentIndex = 1\r\ni = 1\r\n```\r\n\r\nSince the `currentIndex` and `i` equal each other, there is no point in swapping the values because they are the same values. Of course, you don&#39;t really need that if statement since swapping a value with itself doesn&#39;t really affect anything.","title":"understanding sorting an array","body":"<p>You don't really need that <code>if</code> statement. <code>currentIndex</code> (which starts at <code>i</code>) defines what the current position of the maximum value we haven seen is. Of course, if the value that you initially chose (at position <code>i</code>) is the maximum value, then in the inner for loop (with <code>j</code>) would never change the value of <code>currentMax</code> and <code>currentIndex</code>. The <code>if</code> statement is just saying if the value that is already at <code>i</code> is the maximum value (meaning <code>currentIndex</code> never changes), then there is no point in swapping the value at <code>i</code> and <code>currentIndex</code> because they are the same position.</p>\n<p>For example, take the following values:</p>\n<pre><code>10, 8, 3, 2, 6\n</code></pre>\n<p>Let's say we have already placed <code>10</code> into the correct position (as the greatest value, that would be the first value you find and put into the correct position). Then, the for loop with <code>i</code> would move to the next value (position <strong>1</strong>). So you set <code>currentMax</code> and <code>currentIndex</code> to the following:</p>\n<pre><code>currentMax = 8\ncurrentIndex = 1\n</code></pre>\n<p>At which point you move onto the inner for loop with <code>j</code>. Starting at <code>i + 1</code> (or <strong>2</strong> in this case), you check all of the values to the right of your <code>currentIndex</code> to see if there's any value greater than <code>currentMax</code>. Since you don't see any, then <code>currentMax</code> doesn't change (so it stays at <strong>8</strong>), which also means <code>currentIndex</code> doesn't change (stays at <strong>1</strong>).</p>\n<p>So we come to the <code>if</code> statement. We know that:</p>\n<pre><code>currentIndex = 1\ni = 1\n</code></pre>\n<p>Since the <code>currentIndex</code> and <code>i</code> equal each other, there is no point in swapping the values because they are the same values. Of course, you don't really need that if statement since swapping a value with itself doesn't really affect anything.</p>\n"}],"owner":{"account_id":24596073,"reputation":1,"user_id":18499435,"display_name":"mpow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647569316,"creation_date":1647568283,"question_id":71521624,"body_markdown":"I&#39;m having trouble understanding the sorting that occurs in the last if statement block. Can someone please explain how it works or useful resources i could refer to? I posted a screenshot of the source code for reference. [enter image description here][1]\r\n           \r\n               if (currentIndex != i) {\r\n                temp = array[i];\r\n                array[i] = array[currentIndex];\r\n                array[currentIndex] = temp;\r\n                arr[currentIndex] = arr[i];\r\n                arr[i] = currentIndex;}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TWGik.png","title":"understanding sorting an array","body":"<p>I'm having trouble understanding the sorting that occurs in the last if statement block. Can someone please explain how it works or useful resources i could refer to? I posted a screenshot of the source code for reference. <a href=\"https://i.stack.imgur.com/TWGik.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>           if (currentIndex != i) {\n            temp = array[i];\n            array[i] = array[currentIndex];\n            array[currentIndex] = temp;\n            arr[currentIndex] = arr[i];\n            arr[i] = currentIndex;}\n</code></pre>\n"},{"tags":["java","sockets","socketchannel"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1494755078,"post_id":43961714,"comment_id":74955295,"body_markdown":"You are completely ignoring the information returned by the `read()` method. Don&#39;t do that.","body":"You are completely ignoring the information returned by the <code>read()</code> method. Don&#39;t do that."},{"owner":{"account_id":423278,"reputation":19940,"user_id":802585,"accept_rate":53,"display_name":"WoooHaaaa"},"score":1,"creation_date":1494755390,"post_id":43961714,"comment_id":74955389,"body_markdown":"Sorry, @EJP, This is just a demo to show I am reading data in a loop, fixed it","body":"Sorry, @EJP, This is just a demo to show I am reading data in a loop, fixed it"},{"owner":{"account_id":423278,"reputation":19940,"user_id":802585,"accept_rate":53,"display_name":"WoooHaaaa"},"score":1,"creation_date":1494755448,"post_id":43961714,"comment_id":74955406,"body_markdown":"It will be nice if the guy who downvote this question can explain why","body":"It will be nice if the guy who downvote this question can explain why"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1494755903,"post_id":43961714,"comment_id":74955524,"body_markdown":"It will be nice if you explain what &#39;just a demo&#39; has to do with perpetrating a basic programming error. Also what exactly is the point of sleeping the read thread.","body":"It will be nice if you explain what &#39;just a demo&#39; has to do with perpetrating a basic programming error. Also what exactly is the point of sleeping the read thread."},{"owner":{"account_id":10922151,"reputation":1249,"user_id":8028053,"display_name":"fileyfood500"},"score":0,"creation_date":1558582913,"post_id":43961714,"comment_id":99151207,"body_markdown":"Did you figure this out? I&#39;m running into the same issue","body":"Did you figure this out? I&#39;m running into the same issue"},{"owner":{"account_id":423278,"reputation":19940,"user_id":802585,"accept_rate":53,"display_name":"WoooHaaaa"},"score":0,"creation_date":1558678849,"post_id":43961714,"comment_id":99186620,"body_markdown":"@fileyfood500 unfortunately I didn&#39;t find a reasonable explanation for this problem, if you have any further information, I would love to know.","body":"@fileyfood500 unfortunately I didn&#39;t find a reasonable explanation for this problem, if you have any further information, I would love to know."},{"owner":{"account_id":10922151,"reputation":1249,"user_id":8028053,"display_name":"fileyfood500"},"score":0,"creation_date":1559010122,"post_id":43961714,"comment_id":99274794,"body_markdown":"@MrROY I found that for a TCP connection, the socket reader/writer does use a lock so that reads and writes don&#39;t happen at the same time. From what I read, the normal pattern for a TCP client is to connect (3 way handshake between client and server), write a message (with packets, acks, etc), wait for a response, and then disconnect. The protocol doesn&#39;t isn&#39;t meant for the client to read and write at the same time. Some usecases have a back and forth (client writes, then reads, then writes, then reads, then writes, etc), but no continuous read. In this case UDP might be an option?","body":"@MrROY I found that for a TCP connection, the socket reader/writer does use a lock so that reads and writes don&#39;t happen at the same time. From what I read, the normal pattern for a TCP client is to connect (3 way handshake between client and server), write a message (with packets, acks, etc), wait for a response, and then disconnect. The protocol doesn&#39;t isn&#39;t meant for the client to read and write at the same time. Some usecases have a back and forth (client writes, then reads, then writes, then reads, then writes, etc), but no continuous read. In this case UDP might be an option?"},{"owner":{"account_id":534273,"reputation":1449,"user_id":899169,"accept_rate":31,"display_name":"vibhas"},"score":0,"creation_date":1647569276,"post_id":43961714,"comment_id":126410226,"body_markdown":"I too is facing the same issue, while reading a continuous stream of data. It is working fine for initial 10-15 mins appx and suddenly blocks itself. I too thought of delaying for 10 sec. I landed up here &#128522;. I too wanted to know why it is like that for TCP connection.","body":"I too is facing the same issue, while reading a continuous stream of data. It is working fine for initial 10-15 mins appx and suddenly blocks itself. I too thought of delaying for 10 sec. I landed up here 😊. I too wanted to know why it is like that for TCP connection."}],"answers":[{"tags":[],"owner":{"account_id":1781872,"reputation":14665,"user_id":1624376,"accept_rate":76,"display_name":"Aubin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494749435,"creation_date":1494749435,"answer_id":43961754,"question_id":43961714,"body_markdown":"As explained in [TCP Wikipedia - Flow Control][1]:\r\n&gt; TCP uses an end-to-end flow control protocol to avoid having the\r\n&gt; sender send data too fast for the TCP receiver to receive and process\r\n&gt; it reliably. Having a mechanism for flow control is essential in an\r\n&gt; environment where machines of diverse network speeds communicate. For\r\n&gt; example, if a PC sends data to a smartphone that is slowly processing\r\n&gt; received data, the smartphone must regulate the data flow so as not to\r\n&gt; be overwhelmed.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Transmission_Control_Protocol#Flow_control","title":"Java SocketChannel write blocked while reading","body":"<p>As explained in <a href=\"https://en.wikipedia.org/wiki/Transmission_Control_Protocol#Flow_control\" rel=\"nofollow noreferrer\">TCP Wikipedia - Flow Control</a>:</p>\n\n<blockquote>\n  <p>TCP uses an end-to-end flow control protocol to avoid having the\n  sender send data too fast for the TCP receiver to receive and process\n  it reliably. Having a mechanism for flow control is essential in an\n  environment where machines of diverse network speeds communicate. For\n  example, if a PC sends data to a smartphone that is slowly processing\n  received data, the smartphone must regulate the data flow so as not to\n  be overwhelmed.</p>\n</blockquote>\n"}],"owner":{"account_id":423278,"reputation":19940,"user_id":802585,"accept_rate":53,"display_name":"WoooHaaaa"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1647569148,"creation_date":1494749153,"question_id":43961714,"body_markdown":"I am trying to use `SocketChannel.write` and `SocketChannel.read` at the same time in two different threads (Android API Level 25).\r\n\r\nI configured the SocketChannel as **blocking mode**.\r\n\r\nFor reading, I created an endless loop to read everything from server:\r\n\r\n\r\n    // Make socketChannel.read() return after 500ms at most\r\n    socketChannel.socket().setSoTimeout(500);\r\n    while(!SHUTDOWN) {\r\n        int read = socketChannel.read(buffer);\r\n        if(read &gt; 0 ){\r\n          // Do something nice\r\n          break;\r\n        }\r\n    }\r\n\r\nAnd for writing, I write data each 10 seconds.\r\n\r\n\r\n\r\nThe problem is, I found that sometimes the writing operations were blocked while reading. \r\n\r\nBut if I make the reading thread sleep for a short period in each loop, e.g. 100ms, this problem won&#39;t appear anymore.\r\n\r\n**looks like reading thread is blocking writing thread**\r\n\r\nAFAIK, TCP connections can offer bi-direction operations at the same time. Can anyone help to explain this?\r\n","title":"Java SocketChannel write blocked while reading","body":"<p>I am trying to use <code>SocketChannel.write</code> and <code>SocketChannel.read</code> at the same time in two different threads (Android API Level 25).</p>\n\n<p>I configured the SocketChannel as <strong>blocking mode</strong>.</p>\n\n<p>For reading, I created an endless loop to read everything from server:</p>\n\n<pre><code>// Make socketChannel.read() return after 500ms at most\nsocketChannel.socket().setSoTimeout(500);\nwhile(!SHUTDOWN) {\n    int read = socketChannel.read(buffer);\n    if(read &gt; 0 ){\n      // Do something nice\n      break;\n    }\n}\n</code></pre>\n\n<p>And for writing, I write data each 10 seconds.</p>\n\n<p>The problem is, I found that sometimes the writing operations were blocked while reading. </p>\n\n<p>But if I make the reading thread sleep for a short period in each loop, e.g. 100ms, this problem won't appear anymore.</p>\n\n<p><strong>looks like reading thread is blocking writing thread</strong></p>\n\n<p>AFAIK, TCP connections can offer bi-direction operations at the same time. Can anyone help to explain this?</p>\n"},{"tags":["java","google-cloud-platform","dockerfile","google-cloud-build"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1647567675,"post_id":71520510,"comment_id":126410021,"body_markdown":"in our company the jar shared in artifactory is in form of maven repo artifacts, and we can easily use maven to pull them, it is just a private maven registry.","body":"in our company the jar shared in artifactory is in form of maven repo artifacts, and we can easily use maven to pull them, it is just a private maven registry."}],"answers":[{"tags":[],"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647567372,"creation_date":1647567372,"answer_id":71521557,"question_id":71520510,"body_markdown":"In principle, yes, this should be possible; &quot;in principle&quot; because I&#39;ve not tried to do this.\r\n\r\nHowever, Cloud Build is best considered to be a general-purpose, serial pipeline that allows you to apply functions (containers) to a set of inputs. Side-effects are ubiquitous, primarily through containers making calls to other services|APIs.\r\n\r\nIf I understand correctly, your mean JFrog [Artifactory](https://www.jfrog.com/confluence/display/JFROG/JFrog+Artifactory).\r\n\r\nYou will need credentials to access JFrog and some mechanism to `pull` from the repo. This should be straightforward to implement and deploy as a container (if someone hasn&#39;t provided this functionality already).\r\n\r\n##### Update\r\n\r\n[Integrating Google Cloud Build with JFrog Artifactory](https://cloud.google.com/blog/products/application-development/integrating-google-cloud-build-with-jfrog-artifactory). it&#39;s dated (2018) but appears to outline the workflow that you need.\r\n\r\nThere&#39;s also a [`jfrog`](https://github.com/GoogleCloudPlatform/cloud-builders-community/tree/master/jfrog) builder in the [`gcloud-builders-community`](https://github.com/GoogleCloudPlatform/cloud-builders-community); a repo that includes a set of open-source (?) builders (containers) written by 3rd-party developers that work with Cloud Build. ","title":"Is it possible to utilize cloud build to containerize a JAR already built?","body":"<p>In principle, yes, this should be possible; &quot;in principle&quot; because I've not tried to do this.</p>\n<p>However, Cloud Build is best considered to be a general-purpose, serial pipeline that allows you to apply functions (containers) to a set of inputs. Side-effects are ubiquitous, primarily through containers making calls to other services|APIs.</p>\n<p>If I understand correctly, your mean JFrog <a href=\"https://www.jfrog.com/confluence/display/JFROG/JFrog+Artifactory\" rel=\"nofollow noreferrer\">Artifactory</a>.</p>\n<p>You will need credentials to access JFrog and some mechanism to <code>pull</code> from the repo. This should be straightforward to implement and deploy as a container (if someone hasn't provided this functionality already).</p>\n<h5>Update</h5>\n<p><a href=\"https://cloud.google.com/blog/products/application-development/integrating-google-cloud-build-with-jfrog-artifactory\" rel=\"nofollow noreferrer\">Integrating Google Cloud Build with JFrog Artifactory</a>. it's dated (2018) but appears to outline the workflow that you need.</p>\n<p>There's also a <a href=\"https://github.com/GoogleCloudPlatform/cloud-builders-community/tree/master/jfrog\" rel=\"nofollow noreferrer\"><code>jfrog</code></a> builder in the <a href=\"https://github.com/GoogleCloudPlatform/cloud-builders-community\" rel=\"nofollow noreferrer\"><code>gcloud-builders-community</code></a>; a repo that includes a set of open-source (?) builders (containers) written by 3rd-party developers that work with Cloud Build.</p>\n"}],"owner":{"account_id":3588259,"reputation":153,"user_id":2994884,"display_name":"user2994884"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647567372,"creation_date":1647562926,"question_id":71520510,"body_markdown":"At my company, a shared upstream JAR is provided to us from a development team by way of storing in Artifactory. I am wanting to utilize Cloud Build to grab this JAR from artifactory, and containerize, upload image to Artifact Registry, and deploy it to GKE. I have proven out the last two steps: containerize, upload to Artifact Registry, and deploy to a GKE cluster however this only works when using the Cloud CLI locally in a directory where my JAR and Dockerfile already exist.\r\n\r\nEverywhere in documentation I am only seeing references to connecting to GitHub/BitBucket repos where the source code as hosted, and *then* it creates the JAR.\r\n\r\nIs it possible to utilize the functionality of Cloud Build to look for a new JAR in Artifactory, and build the container from there?","title":"Is it possible to utilize cloud build to containerize a JAR already built?","body":"<p>At my company, a shared upstream JAR is provided to us from a development team by way of storing in Artifactory. I am wanting to utilize Cloud Build to grab this JAR from artifactory, and containerize, upload image to Artifact Registry, and deploy it to GKE. I have proven out the last two steps: containerize, upload to Artifact Registry, and deploy to a GKE cluster however this only works when using the Cloud CLI locally in a directory where my JAR and Dockerfile already exist.</p>\n<p>Everywhere in documentation I am only seeing references to connecting to GitHub/BitBucket repos where the source code as hosted, and <em>then</em> it creates the JAR.</p>\n<p>Is it possible to utilize the functionality of Cloud Build to look for a new JAR in Artifactory, and build the container from there?</p>\n"},{"tags":["java","android","arcore","sceneform"],"comments":[{"owner":{"account_id":2141747,"reputation":156,"user_id":1900217,"display_name":"mulan"},"score":0,"creation_date":1607197822,"post_id":65157151,"comment_id":115198823,"body_markdown":"Sceneform handles shadows automatically and each Renderable has isShadowReceiver/Caster property you can use, is it a special case why you need shadows?","body":"Sceneform handles shadows automatically and each Renderable has isShadowReceiver/Caster property you can use, is it a special case why you need shadows?"},{"owner":{"account_id":11342939,"reputation":467,"user_id":8316369,"display_name":"gyorgio88"},"score":1,"creation_date":1607199463,"post_id":65157151,"comment_id":115199267,"body_markdown":"@mulan, Since I&#39;m using augmentedImageDatabase I don&#39;t need to keep config.setPlaneFindingMode() enabled. On the other hand, I don&#39;t have a plane on which to cast shadows, so the only way is to add a node with a transparent renderebale. One way would be to use a 3d model in .sfb format but I don&#39;t know how to create it","body":"@mulan, Since I&#39;m using augmentedImageDatabase I don&#39;t need to keep config.setPlaneFindingMode() enabled. On the other hand, I don&#39;t have a plane on which to cast shadows, so the only way is to add a node with a transparent renderebale. One way would be to use a 3d model in .sfb format but I don&#39;t know how to create it"},{"owner":{"account_id":5170130,"reputation":6586,"user_id":4138919,"accept_rate":55,"display_name":"VIN"},"score":0,"creation_date":1647551378,"post_id":65157151,"comment_id":126406549,"body_markdown":"Did you ever find an answer for this? I&#39;m encountering the same issue.","body":"Did you ever find an answer for this? I&#39;m encountering the same issue."},{"owner":{"account_id":5170130,"reputation":6586,"user_id":4138919,"accept_rate":55,"display_name":"VIN"},"score":0,"creation_date":1647551437,"post_id":65157151,"comment_id":126406564,"body_markdown":"This documentation seems to suggest that there is a way to create a transparent shadow receiver but not sure how to accomplish this in code: https://developers.google.com/sceneform/develop/custom-material#shadowmultiplier","body":"This documentation seems to suggest that there is a way to create a transparent shadow receiver but not sure how to accomplish this in code: <a href=\"https://developers.google.com/sceneform/develop/custom-material#shadowmultiplier\" rel=\"nofollow noreferrer\">developers.google.com/sceneform/develop/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5170130,"reputation":6586,"user_id":4138919,"accept_rate":55,"display_name":"VIN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647563575,"creation_date":1647563575,"answer_id":71520564,"question_id":65157151,"body_markdown":"I was able to get this to work with @RomainGuy&#39;s help.\r\n\r\nFirst, create the `.mat file\r\n```\r\nmaterial {\r\n    name : GroundShadow,\r\n    blending : transparent,\r\n    shadingModel : unlit,\r\n    shadowMultiplier : true\r\n}\r\n\r\nfragment {\r\n    void material(inout MaterialInputs material) {\r\n        prepareMaterial(material);\r\n        material.baseColor = vec4(0.0, 0.0, 0.0, 0.5); // change 0.5 to change the strength of the shadow\r\n    }\r\n}\r\n```\r\n\r\nAdjust `vec4`&#39;s fourth parameter to change the strength of the shadow.\r\n\r\nCompile the `.mat` file with a version of Filament&#39;s `matc` that Sceneform uses (in my case, it was Filament 1.45). I wasn&#39;t sure how to find out so I just experimented with various version of Filament here:  https://github.com/google/filament/releases/. \r\n\r\nI ended up needing this file: https://github.com/google/filament/releases/download/v1.4.5/filament-20200127-mac.tgz.\r\n\r\nPlace the resulting matc file in your `res/raw` package, and use it like so. If the `matc` file is incompatible, your app will crash. That&#39;s how I found out which `matc` was the correct one, through trial and error:\r\n\r\n```kotlin\r\nval footprintSelectionVisualizer = FootprintSelectionVisualizer()\r\nval transformationSystem = TransformationSystem(displayMetrics, footprintSelectionVisualizer)\r\n\r\nMaterial.builder()\r\n    .setSource(context, R.raw.sceneform_plane_shadow_material)\r\n    .thenAccept { material -&gt;\r\n\r\n                    val size = Vector3(1f, 0.00001f, 1f)\r\n                    val center = Vector3(0f, 0f, 0f)\r\n                    val floorRenderable: ModelRenderable = ShapeFactory.makeCube(size, center, material)\r\n                    floorRenderable.isShadowReceiver = true\r\n                    floorRenderable.isShadowCaster = false\r\n                    footprintSelectionVisualizer.footprintRenderable = floorRenderable\r\n\r\n                    node.select()\r\n                }\r\n```","title":"How can I create a transparent panel for shadows in sceneform?","body":"<p>I was able to get this to work with @RomainGuy's help.</p>\n<p>First, create the `.mat file</p>\n<pre><code>material {\n    name : GroundShadow,\n    blending : transparent,\n    shadingModel : unlit,\n    shadowMultiplier : true\n}\n\nfragment {\n    void material(inout MaterialInputs material) {\n        prepareMaterial(material);\n        material.baseColor = vec4(0.0, 0.0, 0.0, 0.5); // change 0.5 to change the strength of the shadow\n    }\n}\n</code></pre>\n<p>Adjust <code>vec4</code>'s fourth parameter to change the strength of the shadow.</p>\n<p>Compile the <code>.mat</code> file with a version of Filament's <code>matc</code> that Sceneform uses (in my case, it was Filament 1.45). I wasn't sure how to find out so I just experimented with various version of Filament here:  <a href=\"https://github.com/google/filament/releases/\" rel=\"nofollow noreferrer\">https://github.com/google/filament/releases/</a>.</p>\n<p>I ended up needing this file: <a href=\"https://github.com/google/filament/releases/download/v1.4.5/filament-20200127-mac.tgz\" rel=\"nofollow noreferrer\">https://github.com/google/filament/releases/download/v1.4.5/filament-20200127-mac.tgz</a>.</p>\n<p>Place the resulting matc file in your <code>res/raw</code> package, and use it like so. If the <code>matc</code> file is incompatible, your app will crash. That's how I found out which <code>matc</code> was the correct one, through trial and error:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val footprintSelectionVisualizer = FootprintSelectionVisualizer()\nval transformationSystem = TransformationSystem(displayMetrics, footprintSelectionVisualizer)\n\nMaterial.builder()\n    .setSource(context, R.raw.sceneform_plane_shadow_material)\n    .thenAccept { material -&gt;\n\n                    val size = Vector3(1f, 0.00001f, 1f)\n                    val center = Vector3(0f, 0f, 0f)\n                    val floorRenderable: ModelRenderable = ShapeFactory.makeCube(size, center, material)\n                    floorRenderable.isShadowReceiver = true\n                    floorRenderable.isShadowCaster = false\n                    footprintSelectionVisualizer.footprintRenderable = floorRenderable\n\n                    node.select()\n                }\n</code></pre>\n"}],"owner":{"account_id":11342939,"reputation":467,"user_id":8316369,"display_name":"gyorgio88"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1647563575,"creation_date":1607172962,"question_id":65157151,"body_markdown":"I looked everywhere but found no answer.\r\nThe idea is to create a node with a transparent panel that receives only shadows.\r\nI tried with \r\n\r\n    MaterialFactory.makeTransparentWithColor(context, new Color(255,255,255,0.2f))\r\n    .thenAccept(material -&gt; {\r\n                Vector3 size = new Vector3(5f,0.0001f,5f);\r\n                Vector3 center = new Vector3(0f,-0.5f,0f);\r\n                ModelRenderable floorRenderable = ShapeFactory.makeCube(size,center,material);\r\n                floorNode.setRenderable(floorRenderable);\r\n            })\r\nand\r\n\r\n    MaterialFactory.makeTransparentWithTexture(context, texture)\r\n            .thenAccept(material -&gt; {\r\n                Vector3 size = new Vector3(5f,0.0001f,5f);\r\n                Vector3 center = new Vector3(0f,-0.5f,0f);\r\n                ModelRenderable floorRenderable = ShapeFactory.makeCube(size,center,material);\r\n                floorNode.setRenderable(floorRenderable);\r\n            })\r\n\r\nbut I got a not completely transparent object.\r\n\r\nthanks","title":"How can I create a transparent panel for shadows in sceneform?","body":"<p>I looked everywhere but found no answer.\nThe idea is to create a node with a transparent panel that receives only shadows.\nI tried with</p>\n<pre><code>MaterialFactory.makeTransparentWithColor(context, new Color(255,255,255,0.2f))\n.thenAccept(material -&gt; {\n            Vector3 size = new Vector3(5f,0.0001f,5f);\n            Vector3 center = new Vector3(0f,-0.5f,0f);\n            ModelRenderable floorRenderable = ShapeFactory.makeCube(size,center,material);\n            floorNode.setRenderable(floorRenderable);\n        })\n</code></pre>\n<p>and</p>\n<pre><code>MaterialFactory.makeTransparentWithTexture(context, texture)\n        .thenAccept(material -&gt; {\n            Vector3 size = new Vector3(5f,0.0001f,5f);\n            Vector3 center = new Vector3(0f,-0.5f,0f);\n            ModelRenderable floorRenderable = ShapeFactory.makeCube(size,center,material);\n            floorNode.setRenderable(floorRenderable);\n        })\n</code></pre>\n<p>but I got a not completely transparent object.</p>\n<p>thanks</p>\n"},{"tags":["java","xml","json"],"comments":[{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":2,"creation_date":1423648958,"post_id":28451370,"comment_id":45230417,"body_markdown":"Have you heard of SAX or DOM parsers? It should be fairly easy using basic XML parsing.","body":"Have you heard of SAX or DOM parsers? It should be fairly easy using basic XML parsing."},{"owner":{"display_name":"user1907906"},"score":1,"creation_date":1423649304,"post_id":28451370,"comment_id":45230612,"body_markdown":"There is no canocical mapping from XML to JSON. What about attributes or namespaces? What about elements containing both text and other elements?","body":"There is no canocical mapping from XML to JSON. What about attributes or namespaces? What about elements containing both text and other elements?"},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":2,"creation_date":1423649994,"post_id":28451370,"comment_id":45231017,"body_markdown":"possible duplicate of [Quickest way to convert XML to JSON in Java](http://stackoverflow.com/questions/1823264/quickest-way-to-convert-xml-to-json-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1823264/quickest-way-to-convert-xml-to-json-in-java\">Quickest way to convert XML to JSON in Java</a>"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1577080205,"post_id":28451370,"comment_id":105083621,"body_markdown":"@Dominic - Is there any way if we can remove root element and can we do vice-versa?","body":"@Dominic - Is there any way if we can remove root element and can we do vice-versa?"}],"answers":[{"tags":[],"owner":{"account_id":1692400,"reputation":290,"user_id":1554502,"display_name":"KonK"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1490273624,"creation_date":1423649947,"answer_id":28451765,"question_id":28451370,"body_markdown":"    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    import org.json.XML;\r\n\r\n    XML.toJSONObject(xml_text).toString()\r\n    \r\n[org.json.XML][1]\r\n\r\n\r\n  [1]: http://stleary.github.io/JSON-java/org/json/XML.html","title":"Convert xml to json with Java","body":"<pre><code>import org.json.JSONException;\nimport org.json.JSONObject;\nimport org.json.XML;\n\nXML.toJSONObject(xml_text).toString()\n</code></pre>\n\n<p><a href=\"http://stleary.github.io/JSON-java/org/json/XML.html\" rel=\"noreferrer\">org.json.XML</a></p>\n"},{"tags":[],"owner":{"account_id":2689356,"reputation":802,"user_id":2323006,"display_name":"Lorenz Pfisterer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598350234,"creation_date":1423650282,"answer_id":28451893,"question_id":28451370,"body_markdown":"On this [website][1] you find some helpful classes for your task (in the java section at the bottom of the page).\r\n\r\n\r\n  [1]: http://www.json.org/\r\n\r\n    public class Main {\r\n\r\n        public static int PRETTY_PRINT_INDENT_FACTOR = 4;\r\n        public static String TEST_XML_STRING = &quot;Your xml string here&quot;;\r\n\r\n        public static void main(String[] args) {\r\n            try {\r\n                JSONObject xmlJSONObj = XML.toJSONObject(TEST_XML_STRING);\r\n                String jsonPrettyPrintString = xmlJSONObj.toString(PRETTY_PRINT_INDENT_FACTOR);\r\n                System.out.println(jsonPrettyPrintString);\r\n            } catch (JSONException je) {\r\n                System.out.println(je.toString());\r\n            }\r\n        }\r\n    }","title":"Convert xml to json with Java","body":"<p>On this <a href=\"http://www.json.org/\" rel=\"nofollow noreferrer\">website</a> you find some helpful classes for your task (in the java section at the bottom of the page).</p>\n<pre><code>public class Main {\n\n    public static int PRETTY_PRINT_INDENT_FACTOR = 4;\n    public static String TEST_XML_STRING = &quot;Your xml string here&quot;;\n\n    public static void main(String[] args) {\n        try {\n            JSONObject xmlJSONObj = XML.toJSONObject(TEST_XML_STRING);\n            String jsonPrettyPrintString = xmlJSONObj.toString(PRETTY_PRINT_INDENT_FACTOR);\n            System.out.println(jsonPrettyPrintString);\n        } catch (JSONException je) {\n            System.out.println(je.toString());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72909,"reputation":5836,"user_id":210271,"accept_rate":78,"display_name":"Adi Sembiring"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1423651197,"creation_date":1423651197,"answer_id":28452180,"question_id":28451370,"body_markdown":"You can Use JSON and XML Library from [json.org][1]\r\n\r\n    import org.json.JSONObject;\r\n    import org.json.XML;\r\n    import org.junit.Test;\r\n    \r\n    public class XmlToJsonTest {\r\n        private static final String XML_TEXT = &quot;&lt;note&gt;\\n&quot; +\r\n                &quot;&lt;to&gt;Tove&lt;/to&gt;\\n&quot; +\r\n                &quot;&lt;from&gt;Jani&lt;/from&gt;\\n&quot; +\r\n                &quot;&lt;heading&gt;Reminder&lt;/heading&gt;\\n&quot; +\r\n                &quot;&lt;body&gt;Don&#39;t forget me this weekend!&lt;/body&gt;\\n&quot; +\r\n                &quot;&lt;/note&gt;&quot;;\r\n        private static final int PRETTY_PRINT_INDENT_FACTOR = 4;\r\n    \r\n        @Test\r\n        public void convert() {\r\n            JSONObject xmlJSONObj = XML.toJSONObject(XML_TEXT);\r\n            String jsonPrettyPrintString = xmlJSONObj.toString(PRETTY_PRINT_INDENT_FACTOR);\r\n            System.out.println(jsonPrettyPrintString);\r\n        }\r\n    }\r\n\r\nSource\r\n\r\n    &lt;note&gt;\r\n    \t&lt;to&gt;Tove&lt;/to&gt;\r\n    \t&lt;from&gt;Jani&lt;/from&gt;\r\n    \t&lt;heading&gt;Reminder&lt;/heading&gt;\r\n    \t&lt;body&gt;Don&#39;t forget me this weekend!&lt;/body&gt;\r\n    &lt;/note&gt;\r\n\r\nOutput\r\n\r\n    {&quot;note&quot;: {\r\n        &quot;heading&quot;: &quot;Reminder&quot;,\r\n        &quot;from&quot;: &quot;Jani&quot;,\r\n        &quot;to&quot;: &quot;Tove&quot;,\r\n        &quot;body&quot;: &quot;Don&#39;t forget me this weekend!&quot;\r\n    }}\r\n\r\n\r\n  [1]: http://www.json.org/java/","title":"Convert xml to json with Java","body":"<p>You can Use JSON and XML Library from <a href=\"http://www.json.org/java/\" rel=\"noreferrer\">json.org</a></p>\n\n<pre><code>import org.json.JSONObject;\nimport org.json.XML;\nimport org.junit.Test;\n\npublic class XmlToJsonTest {\n    private static final String XML_TEXT = \"&lt;note&gt;\\n\" +\n            \"&lt;to&gt;Tove&lt;/to&gt;\\n\" +\n            \"&lt;from&gt;Jani&lt;/from&gt;\\n\" +\n            \"&lt;heading&gt;Reminder&lt;/heading&gt;\\n\" +\n            \"&lt;body&gt;Don't forget me this weekend!&lt;/body&gt;\\n\" +\n            \"&lt;/note&gt;\";\n    private static final int PRETTY_PRINT_INDENT_FACTOR = 4;\n\n    @Test\n    public void convert() {\n        JSONObject xmlJSONObj = XML.toJSONObject(XML_TEXT);\n        String jsonPrettyPrintString = xmlJSONObj.toString(PRETTY_PRINT_INDENT_FACTOR);\n        System.out.println(jsonPrettyPrintString);\n    }\n}\n</code></pre>\n\n<p>Source</p>\n\n<pre><code>&lt;note&gt;\n    &lt;to&gt;Tove&lt;/to&gt;\n    &lt;from&gt;Jani&lt;/from&gt;\n    &lt;heading&gt;Reminder&lt;/heading&gt;\n    &lt;body&gt;Don't forget me this weekend!&lt;/body&gt;\n&lt;/note&gt;\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>{\"note\": {\n    \"heading\": \"Reminder\",\n    \"from\": \"Jani\",\n    \"to\": \"Tove\",\n    \"body\": \"Don't forget me this weekend!\"\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1955570,"reputation":1570,"user_id":1758634,"accept_rate":71,"display_name":"tomaj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1511262437,"creation_date":1443168221,"answer_id":32777538,"question_id":28451370,"body_markdown":"If you are using **Java 8**, you should check out my open source library: [unXml](https://github.com/tajakobsen/unxml). unXml basically maps from Xpaths to Json-attributes.\r\n\r\nIt&#39;s available on [Maven Central](http://search.maven.org/#search%7Cga%7C1%7Cunxml).\r\n\r\n*Example*\r\n\r\n    import com.fasterxml.jackson.databind.node.ObjectNode;\r\n    import com.nerdforge.unxml.factory.ParsingFactory;\r\n    import com.nerdforge.unxml.parsers.Parser;\r\n    import org.w3c.dom.Document;\r\n    \r\n    public class ParserExample {\r\n        public ObjectNode parseXml(String xml){\r\n            Parsing parsing = ParsingFactory.getInstance().create();\r\n            Document document = parsing.xml().document(xml);\r\n    \r\n            Parser&lt;ObjectNode&gt; parser = parsing.obj(&quot;//item&quot;)\r\n                .attribute(&quot;firstName&quot;, &quot;firstName&quot;)\r\n                .attribute(&quot;lastName&quot;, &quot;lastName&quot;)\r\n                .attribute(&quot;addresses&quot;, parsing.arr(&quot;addresses/address&quot;, parsing.obj()\r\n                    .attribute(&quot;street&quot;, &quot;street&quot;)\r\n                ))\r\n                .build();\r\n    \r\n            ObjectNode result = parser.apply(document);\r\n            return result;\r\n        }\r\n    }\r\n\r\nIt will return a [Jackson](http://wiki.fasterxml.com/JacksonHome) `ObjectNode`, with the json from your example.","title":"Convert xml to json with Java","body":"<p>If you are using <strong>Java 8</strong>, you should check out my open source library: <a href=\"https://github.com/tajakobsen/unxml\" rel=\"nofollow noreferrer\">unXml</a>. unXml basically maps from Xpaths to Json-attributes.</p>\n\n<p>It's available on <a href=\"http://search.maven.org/#search%7Cga%7C1%7Cunxml\" rel=\"nofollow noreferrer\">Maven Central</a>.</p>\n\n<p><em>Example</em></p>\n\n<pre><code>import com.fasterxml.jackson.databind.node.ObjectNode;\nimport com.nerdforge.unxml.factory.ParsingFactory;\nimport com.nerdforge.unxml.parsers.Parser;\nimport org.w3c.dom.Document;\n\npublic class ParserExample {\n    public ObjectNode parseXml(String xml){\n        Parsing parsing = ParsingFactory.getInstance().create();\n        Document document = parsing.xml().document(xml);\n\n        Parser&lt;ObjectNode&gt; parser = parsing.obj(\"//item\")\n            .attribute(\"firstName\", \"firstName\")\n            .attribute(\"lastName\", \"lastName\")\n            .attribute(\"addresses\", parsing.arr(\"addresses/address\", parsing.obj()\n                .attribute(\"street\", \"street\")\n            ))\n            .build();\n\n        ObjectNode result = parser.apply(document);\n        return result;\n    }\n}\n</code></pre>\n\n<p>It will return a <a href=\"http://wiki.fasterxml.com/JacksonHome\" rel=\"nofollow noreferrer\">Jackson</a> <code>ObjectNode</code>, with the json from your example.</p>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647562265,"creation_date":1515138478,"answer_id":48109294,"question_id":28451370,"body_markdown":"[Underscore-java][1] library has static method `U.xmlToJson(xml)`. [Live example][2]\r\n\r\n    import com.github.underscore.U;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            final String xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&lt;root&gt;\\n&quot;\r\n                + &quot;  &lt;FirstItem&gt;1&lt;/FirstItem&gt;\\n  &lt;SecondItem&gt;2&lt;/SecondItem&gt;\\n&lt;/root&gt;&quot;;\r\n            System.out.println(U.xmlToJson(xml));\r\n        }\r\n    }\r\n\r\n    // {\r\n    //  &quot;FirstItem&quot;: &quot;1&quot;,\r\n    //  &quot;SecondItem&quot;: &quot;2&quot;\r\n    // }\r\n\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java\r\n  [2]: https://www.jdoodle.com/embed/v0/tIH","title":"Convert xml to json with Java","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> library has static method <code>U.xmlToJson(xml)</code>. <a href=\"https://www.jdoodle.com/embed/v0/tIH\" rel=\"nofollow noreferrer\">Live example</a></p>\n<pre><code>import com.github.underscore.U;\n\npublic class Main {\n    public static void main(String[] args) {\n        final String xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&lt;root&gt;\\n&quot;\n            + &quot;  &lt;FirstItem&gt;1&lt;/FirstItem&gt;\\n  &lt;SecondItem&gt;2&lt;/SecondItem&gt;\\n&lt;/root&gt;&quot;;\n        System.out.println(U.xmlToJson(xml));\n    }\n}\n\n// {\n//  &quot;FirstItem&quot;: &quot;1&quot;,\n//  &quot;SecondItem&quot;: &quot;2&quot;\n// }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612618,"reputation":15612,"user_id":5773037,"display_name":"Nikunj Paradva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523598616,"creation_date":1523598616,"answer_id":49810125,"question_id":28451370,"body_markdown":"I am used [JSON-java][1] but I found more Efficient Library to Convert **`XML`** to **`Json`** is **[XmlToJson][2]**\r\n\r\nWhich is Given Best Customization to making `Json` from`XML`\r\n\r\nAdd the `libary` dependency to your APP `build.gradle` file\r\n\r\n    dependencies {\r\n    compile &#39;com.github.smart-fun:XmlToJson:1.4.4&#39;    // add this line\r\n    }\r\n   ---\r\n\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;library&gt;\r\n        &lt;book id=&quot;007&quot;&gt;James Bond&lt;/book&gt;\r\n        &lt;book id=&quot;000&quot;&gt;Book for the dummies&lt;/book&gt;\r\n        &lt;/library&gt;\r\n\r\n - #Custom Content names\r\n\r\n        public String convertXmlToJson(String xml) {\r\n        XmlToJson xmlToJson = new XmlToJson.Builder(xml)\r\n            .setContentName(&quot;/library/book&quot;, &quot;title&quot;)\r\n            .build();\r\n        return xmlToJson.toString();\r\n        }\r\n    \r\n    ---\r\n        &quot;library&quot;:{  \r\n          &quot;book&quot;:[  \r\n             {  \r\n                &quot;id&quot;:&quot;007&quot;,\r\n                &quot;title&quot;:&quot;James Bond&quot;\r\n             },\r\n             {  \r\n                &quot;id&quot;:&quot;000&quot;,\r\n                &quot;title&quot;:&quot;Book for the dummies&quot;\r\n             }\r\n           ]\r\n          }\r\n         }\r\n\r\n---\r\n\r\n - #Custom Attributes names\r\n\r\n        public String convertXmlToJson(String xml) {\r\n          XmlToJson xmlToJson = new XmlToJson.Builder(xml)\r\n            .setAttributeName(&quot;/library/book/id&quot;, &quot;code&quot;)\r\n            .build();\r\n          return xmlToJson.toString();\r\n        }\r\n     ---\r\n        {  \r\n          &quot;library&quot;:{  \r\n          &quot;book&quot;:[  \r\n             {  \r\n                &quot;code&quot;:&quot;007&quot;,\r\n                &quot;content&quot;:&quot;James Bond&quot;\r\n             },\r\n             {  \r\n                &quot;code&quot;:&quot;000&quot;,\r\n                &quot;content&quot;:&quot;Book for the dummies&quot;\r\n             }\r\n          ]\r\n         }\r\n        }\r\n\r\n\r\n**and Much More Efficient Techniques to Customize your Json**\r\n\r\n**[Click here to Check out on Github][3]**\r\n\r\n\r\n  [1]: https://github.com/stleary/JSON-java\r\n  [2]: https://github.com/fakefacebook/XmlToJson\r\n  [3]: https://github.com/fakefacebook/XmlToJson#xml-to-json-for-android","title":"Convert xml to json with Java","body":"<p>I am used <a href=\"https://github.com/stleary/JSON-java\" rel=\"nofollow noreferrer\">JSON-java</a> but I found more Efficient Library to Convert <strong><code>XML</code></strong> to <strong><code>Json</code></strong> is <strong><a href=\"https://github.com/fakefacebook/XmlToJson\" rel=\"nofollow noreferrer\">XmlToJson</a></strong></p>\n\n<p>Which is Given Best Customization to making <code>Json</code> from<code>XML</code></p>\n\n<p>Add the <code>libary</code> dependency to your APP <code>build.gradle</code> file</p>\n\n<pre><code>dependencies {\ncompile 'com.github.smart-fun:XmlToJson:1.4.4'    // add this line\n}\n</code></pre>\n\n<hr>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;library&gt;\n    &lt;book id=\"007\"&gt;James Bond&lt;/book&gt;\n    &lt;book id=\"000\"&gt;Book for the dummies&lt;/book&gt;\n    &lt;/library&gt;\n</code></pre>\n\n<ul>\n<li><h1>Custom Content names</h1>\n\n<pre><code>public String convertXmlToJson(String xml) {\nXmlToJson xmlToJson = new XmlToJson.Builder(xml)\n    .setContentName(\"/library/book\", \"title\")\n    .build();\nreturn xmlToJson.toString();\n}\n</code></pre>\n\n<hr>\n\n<pre><code>\"library\":{  \n  \"book\":[  \n     {  \n        \"id\":\"007\",\n        \"title\":\"James Bond\"\n     },\n     {  \n        \"id\":\"000\",\n        \"title\":\"Book for the dummies\"\n     }\n   ]\n  }\n }\n</code></pre></li>\n</ul>\n\n<hr>\n\n<ul>\n<li><h1>Custom Attributes names</h1>\n\n<pre><code>public String convertXmlToJson(String xml) {\n  XmlToJson xmlToJson = new XmlToJson.Builder(xml)\n    .setAttributeName(\"/library/book/id\", \"code\")\n    .build();\n  return xmlToJson.toString();\n}\n</code></pre>\n\n<hr>\n\n<pre><code>{  \n  \"library\":{  \n  \"book\":[  \n     {  \n        \"code\":\"007\",\n        \"content\":\"James Bond\"\n     },\n     {  \n        \"code\":\"000\",\n        \"content\":\"Book for the dummies\"\n     }\n  ]\n }\n}\n</code></pre></li>\n</ul>\n\n<p><strong>and Much More Efficient Techniques to Customize your Json</strong></p>\n\n<p><strong><a href=\"https://github.com/fakefacebook/XmlToJson#xml-to-json-for-android\" rel=\"nofollow noreferrer\">Click here to Check out on Github</a></strong></p>\n"},{"tags":[],"owner":{"account_id":1605316,"reputation":8784,"user_id":1485527,"accept_rate":100,"display_name":"jschnasse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545030904,"creation_date":1524474405,"answer_id":49977184,"question_id":28451370,"body_markdown":"**You can use standard tools for it**\r\n\r\n1. Use the tool `xjc` from your jdk to [generate Java classes from schema](https://stackoverflow.com/questions/11463231/how-to-generate-jaxb-classes-from-xsd)&lt;p&gt;\r\n&gt;Since `Java 9` you must use explicitly add JAXB as module with `–add-modules java.se.ee` \r\nSee: https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j\r\n\r\nSince Java 11 you have to download `xjc` in an extra step from https://javaee.github.io/jaxb-v2/\r\n\r\n2. Read in as `XML` write out as `JSON` using [Jackson](https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core/2.8.1)\r\n\r\n**Example**\r\n\r\nWith https://schema.datacite.org/meta/kernel-4.1/metadata.xsd\r\n\r\n**1. Use the tool `xjc` from your jdk**&lt;p&gt;\r\nIn my example I will use a fairly complex example based on datacite schemas.\r\n\r\n\r\n    /path/to/jdk/bin/xjc -d /path/to/java/project \\\r\n    -p stack24174963.datacite \\\r\n     https://schema.datacite.org/meta/kernel-4.1/metadata.xsd\r\n\r\nThis will reply with\r\n\r\n    parsing a schema...\r\n    compiling a schema...\r\n    stack24174963/datacite/Box.java\r\n    stack24174963/datacite/ContributorType.java\r\n    stack24174963/datacite/DateType.java\r\n    stack24174963/datacite/DescriptionType.java\r\n    stack24174963/datacite/FunderIdentifierType.java\r\n    stack24174963/datacite/NameType.java\r\n    stack24174963/datacite/ObjectFactory.java\r\n    stack24174963/datacite/Point.java\r\n    stack24174963/datacite/RelatedIdentifierType.java\r\n    stack24174963/datacite/RelationType.java\r\n    stack24174963/datacite/Resource.java\r\n    stack24174963/datacite/ResourceType.java\r\n    stack24174963/datacite/TitleType.java\r\n    stack24174963/datacite/package-info.java\r\n\r\n**2. Read in as `XML` write out as `JSON` using Jackson**\r\n\r\n      import com.fasterxml.jackson.databind.ObjectMapper;\r\n      import com.fasterxml.jackson.databind.SerializationFeature;\r\n\r\n      import stack24174963.datacite.Resource;\r\n\r\n      public class HowToXmlToJsonWithSchema {\r\n      \t@Test\r\n      \tpublic void readXmlAndConvertToSchema() throws Exception {\r\n      \t\tString example = &quot;schemas/datacite/kernel-4.1/example/datacite-example-complicated-v4.1.xml&quot;;\r\n      \t\ttry (InputStream in = Thread.currentThread().getContextClassLoader().getResourceAsStream(example)) {\r\n      \t\t\tResource resource = JAXB.unmarshal(in, Resource.class);\r\n      \t\t\tSystem.out.println(asJson(resource));\r\n      \t\t}\r\n      \t}\r\n\r\n      \tprivate String asJson(Object obj) throws Exception {\r\n      \t\tStringWriter w = new StringWriter();\r\n      \t\tnew ObjectMapper().configure(SerializationFeature.INDENT_OUTPUT, true).writeValue(w, obj);\r\n      \t\tString result = w.toString();\r\n      \t\treturn result;\r\n      \t}\r\n      }\r\n\r\nPrints:\r\n\r\n     {\r\n    \t  &quot;identifier&quot; : {\r\n    \t    &quot;value&quot; : &quot;10.5072/testpub&quot;,\r\n    \t    &quot;identifierType&quot; : &quot;DOI&quot;\r\n    \t  },\r\n    \t  &quot;creators&quot; : {\r\n    \t    &quot;creator&quot; : [ {\r\n    \t      &quot;creatorName&quot; : {\r\n    \t        &quot;value&quot; : &quot;Smith, John&quot;,\r\n    \t        &quot;nameType&quot; : &quot;PERSONAL&quot;\r\n    \t      },\r\n    \t      &quot;givenName&quot; : &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-16\\&quot;?&gt;\\n&lt;givenName xmlns=\\&quot;http://datacite.org/schema/kernel-4\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;John&lt;/givenName&gt;&quot;,\r\n    \t      &quot;familyName&quot; : &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-16\\&quot;?&gt;\\n&lt;familyName xmlns=\\&quot;http://datacite.org/schema/kernel-4\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;Smith&lt;/familyName&gt;&quot;,\r\n    \t      &quot;nameIdentifier&quot; : [ ],\r\n    \t      &quot;affiliation&quot; : [ ]\r\n    \t    }, {\r\n    \t      &quot;creatorName&quot; : {\r\n    \t        &quot;value&quot; : &quot;つまらないものですが&quot;,\r\n    \t        &quot;nameType&quot; : null\r\n    \t      },\r\n    \t      &quot;givenName&quot; : null,\r\n    \t      &quot;familyName&quot; : null,\r\n    \t      &quot;nameIdentifier&quot; : [ {\r\n    \t        &quot;value&quot; : &quot;0000000134596520&quot;,\r\n    \t        &quot;nameIdentifierScheme&quot; : &quot;ISNI&quot;,\r\n    \t        &quot;schemeURI&quot; : &quot;http://isni.org/isni/&quot;\r\n    \t      } ],\r\n    \t      &quot;affiliation&quot; : [ ]\r\n    \t    } ]\r\n    \t  },\r\n    \t  &quot;titles&quot; : {\r\n    \t    &quot;title&quot; : [ {\r\n    \t      &quot;value&quot; : &quot;Właściwości rzutowań podprzestrzeniowych&quot;,\r\n    \t      &quot;titleType&quot; : null,\r\n    \t      &quot;lang&quot; : &quot;pl&quot;\r\n    \t    }, {\r\n    \t      &quot;value&quot; : &quot;Translation of Polish titles&quot;,\r\n    \t      &quot;titleType&quot; : &quot;TRANSLATED_TITLE&quot;,\r\n    \t      &quot;lang&quot; : &quot;en&quot;\r\n    \t    } ]\r\n    \t  },\r\n    \t  &quot;publisher&quot; : &quot;Springer&quot;,\r\n    \t  &quot;publicationYear&quot; : &quot;2010&quot;,\r\n    \t  &quot;resourceType&quot; : {\r\n    \t    &quot;value&quot; : &quot;Monograph&quot;,\r\n    \t    &quot;resourceTypeGeneral&quot; : &quot;TEXT&quot;\r\n    \t  },\r\n    \t  &quot;subjects&quot; : {\r\n    \t    &quot;subject&quot; : [ {\r\n    \t      &quot;value&quot; : &quot;830 German &amp; related literatures&quot;,\r\n    \t      &quot;subjectScheme&quot; : &quot;DDC&quot;,\r\n    \t      &quot;schemeURI&quot; : null,\r\n    \t      &quot;valueURI&quot; : null,\r\n    \t      &quot;lang&quot; : &quot;en&quot;\r\n    \t    }, {\r\n    \t      &quot;value&quot; : &quot;Polish Literature&quot;,\r\n    \t      &quot;subjectScheme&quot; : null,\r\n    \t      &quot;schemeURI&quot; : null,\r\n    \t      &quot;valueURI&quot; : null,\r\n    \t      &quot;lang&quot; : &quot;en&quot;\r\n    \t    } ]\r\n    \t  },\r\n    \t  &quot;contributors&quot; : {\r\n    \t    &quot;contributor&quot; : [ {\r\n    \t      &quot;contributorName&quot; : {\r\n    \t        &quot;value&quot; : &quot;Doe, John&quot;,\r\n    \t        &quot;nameType&quot; : &quot;PERSONAL&quot;\r\n    \t      },\r\n    \t      &quot;givenName&quot; : &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-16\\&quot;?&gt;\\n&lt;givenName xmlns=\\&quot;http://datacite.org/schema/kernel-4\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;John&lt;/givenName&gt;&quot;,\r\n    \t      &quot;familyName&quot; : &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-16\\&quot;?&gt;\\n&lt;familyName xmlns=\\&quot;http://datacite.org/schema/kernel-4\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;Doe&lt;/familyName&gt;&quot;,\r\n    \t      &quot;nameIdentifier&quot; : [ {\r\n    \t        &quot;value&quot; : &quot;0000-0001-5393-1421&quot;,\r\n    \t        &quot;nameIdentifierScheme&quot; : &quot;ORCID&quot;,\r\n    \t        &quot;schemeURI&quot; : &quot;http://orcid.org/&quot;\r\n    \t      } ],\r\n    \t      &quot;affiliation&quot; : [ ],\r\n    \t      &quot;contributorType&quot; : &quot;DATA_COLLECTOR&quot;\r\n    \t    } ]\r\n    \t  },\r\n    \t  &quot;dates&quot; : null,\r\n    \t  &quot;language&quot; : &quot;de&quot;,\r\n    \t  &quot;alternateIdentifiers&quot; : {\r\n    \t    &quot;alternateIdentifier&quot; : [ {\r\n    \t      &quot;value&quot; : &quot;937-0-4523-12357-6&quot;,\r\n    \t      &quot;alternateIdentifierType&quot; : &quot;ISBN&quot;\r\n    \t    } ]\r\n    \t  },\r\n    \t  &quot;relatedIdentifiers&quot; : {\r\n    \t    &quot;relatedIdentifier&quot; : [ {\r\n    \t      &quot;value&quot; : &quot;10.5272/oldertestpub&quot;,\r\n    \t      &quot;resourceTypeGeneral&quot; : null,\r\n    \t      &quot;relatedIdentifierType&quot; : &quot;DOI&quot;,\r\n    \t      &quot;relationType&quot; : &quot;IS_PART_OF&quot;,\r\n    \t      &quot;relatedMetadataScheme&quot; : null,\r\n    \t      &quot;schemeURI&quot; : null,\r\n    \t      &quot;schemeType&quot; : null\r\n    \t    } ]\r\n    \t  },\r\n    \t  &quot;sizes&quot; : {\r\n    \t    &quot;size&quot; : [ &quot;256 pages&quot; ]\r\n    \t  },\r\n    \t  &quot;formats&quot; : {\r\n    \t    &quot;format&quot; : [ &quot;pdf&quot; ]\r\n    \t  },\r\n    \t  &quot;version&quot; : &quot;2&quot;,\r\n    \t  &quot;rightsList&quot; : {\r\n    \t    &quot;rights&quot; : [ {\r\n    \t      &quot;value&quot; : &quot;Creative Commons Attribution-NoDerivs 2.0 Generic&quot;,\r\n    \t      &quot;rightsURI&quot; : &quot;http://creativecommons.org/licenses/by-nd/2.0/&quot;,\r\n    \t      &quot;lang&quot; : null\r\n    \t    } ]\r\n    \t  },\r\n    \t  &quot;descriptions&quot; : {\r\n    \t    &quot;description&quot; : [ {\r\n    \t      &quot;content&quot; : [ &quot;\\n      Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea\\n      takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores\\n      et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.\\n    &quot; ],\r\n    \t      &quot;descriptionType&quot; : &quot;ABSTRACT&quot;,\r\n    \t      &quot;lang&quot; : &quot;la&quot;\r\n    \t    } ]\r\n    \t  },\r\n    \t  &quot;geoLocations&quot; : null,\r\n    \t  &quot;fundingReferences&quot; : null\r\n    \t}\r\n\r\n\r\nFor example input XML :\r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n      &lt;resource xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://datacite.org/schema/kernel-4&quot; xsi:schemaLocation=&quot;http://datacite.org/schema/kernel-4 http://schema.datacite.org/meta/kernel-4.1/metadata.xsd&quot;&gt;\r\n        &lt;identifier identifierType=&quot;DOI&quot;&gt;10.5072/testpub&lt;/identifier&gt;\r\n        &lt;creators&gt;\r\n          &lt;creator&gt;\r\n            &lt;creatorName nameType=&quot;Personal&quot;&gt;Smith, John&lt;/creatorName&gt;\r\n            &lt;givenName&gt;John&lt;/givenName&gt;\r\n            &lt;familyName&gt;Smith&lt;/familyName&gt;\r\n          &lt;/creator&gt;\r\n          &lt;creator&gt;\r\n            &lt;creatorName&gt;つまらないものですが&lt;/creatorName&gt;\r\n            &lt;nameIdentifier nameIdentifierScheme=&quot;ISNI&quot; schemeURI=&quot;http://isni.org/isni/&quot;&gt;0000000134596520&lt;/nameIdentifier&gt;\r\n          &lt;/creator&gt;\r\n        &lt;/creators&gt;\r\n        &lt;titles&gt;\r\n          &lt;title xml:lang=&quot;pl&quot;&gt;Właściwości rzutowań podprzestrzeniowych&lt;/title&gt;\r\n          &lt;title xml:lang=&quot;en&quot; titleType=&quot;TranslatedTitle&quot;&gt;Translation of Polish titles&lt;/title&gt;\r\n        &lt;/titles&gt;\r\n        &lt;publisher&gt;Springer&lt;/publisher&gt;\r\n        &lt;publicationYear&gt;2010&lt;/publicationYear&gt;\r\n        &lt;subjects&gt;\r\n          &lt;subject xml:lang=&quot;en&quot; subjectScheme=&quot;DDC&quot;&gt;830 German &amp;amp; related literatures&lt;/subject&gt;\r\n          &lt;subject xml:lang=&quot;en&quot;&gt;Polish Literature&lt;/subject&gt;\r\n        &lt;/subjects&gt;\r\n        &lt;contributors&gt;\r\n          &lt;contributor contributorType=&quot;DataCollector&quot;&gt;\r\n            &lt;contributorName nameType=&quot;Personal&quot;&gt;Doe, John&lt;/contributorName&gt;\r\n            &lt;givenName&gt;John&lt;/givenName&gt;\r\n            &lt;familyName&gt;Doe&lt;/familyName&gt;\r\n            &lt;nameIdentifier nameIdentifierScheme=&quot;ORCID&quot; schemeURI=&quot;http://orcid.org/&quot;&gt;0000-0001-5393-1421&lt;/nameIdentifier&gt;\r\n          &lt;/contributor&gt;\r\n        &lt;/contributors&gt;\r\n        &lt;language&gt;de&lt;/language&gt;\r\n        &lt;resourceType resourceTypeGeneral=&quot;Text&quot;&gt;Monograph&lt;/resourceType&gt;\r\n        &lt;alternateIdentifiers&gt;\r\n          &lt;alternateIdentifier alternateIdentifierType=&quot;ISBN&quot;&gt;937-0-4523-12357-6&lt;/alternateIdentifier&gt;\r\n        &lt;/alternateIdentifiers&gt;\r\n        &lt;relatedIdentifiers&gt;\r\n          &lt;relatedIdentifier relatedIdentifierType=&quot;DOI&quot; relationType=&quot;IsPartOf&quot;&gt;10.5272/oldertestpub&lt;/relatedIdentifier&gt;\r\n        &lt;/relatedIdentifiers&gt;\r\n        &lt;sizes&gt;\r\n          &lt;size&gt;256 pages&lt;/size&gt;\r\n        &lt;/sizes&gt;\r\n        &lt;formats&gt;\r\n          &lt;format&gt;pdf&lt;/format&gt;\r\n        &lt;/formats&gt;\r\n        &lt;version&gt;2&lt;/version&gt;\r\n        &lt;rightsList&gt;\r\n          &lt;rights rightsURI=&quot;http://creativecommons.org/licenses/by-nd/2.0/&quot;&gt;Creative Commons Attribution-NoDerivs 2.0 Generic&lt;/rights&gt;\r\n        &lt;/rightsList&gt;\r\n        &lt;descriptions&gt;\r\n          &lt;description xml:lang=&quot;la&quot; descriptionType=&quot;Abstract&quot;&gt;\r\n            Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea\r\n            takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores\r\n            et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.\r\n          &lt;/description&gt;\r\n        &lt;/descriptions&gt;\r\n      &lt;/resource&gt;\r\n","title":"Convert xml to json with Java","body":"<p><strong>You can use standard tools for it</strong></p>\n\n<ol>\n<li>Use the tool <code>xjc</code> from your jdk to <a href=\"https://stackoverflow.com/questions/11463231/how-to-generate-jaxb-classes-from-xsd\">generate Java classes from schema</a><p>\n\n<blockquote>\n  <p>Since <code>Java 9</code> you must use explicitly add JAXB as module with <code>–add-modules java.se.ee</code> \n  See: <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j\">How to resolve java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException in Java 9</a></p>\n</blockquote></li>\n</ol>\n\n<p>Since Java 11 you have to download <code>xjc</code> in an extra step from <a href=\"https://javaee.github.io/jaxb-v2/\" rel=\"nofollow noreferrer\">https://javaee.github.io/jaxb-v2/</a></p>\n\n<ol start=\"2\">\n<li>Read in as <code>XML</code> write out as <code>JSON</code> using <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core/2.8.1\" rel=\"nofollow noreferrer\">Jackson</a></li>\n</ol>\n\n<p><strong>Example</strong></p>\n\n<p>With <a href=\"https://schema.datacite.org/meta/kernel-4.1/metadata.xsd\" rel=\"nofollow noreferrer\">https://schema.datacite.org/meta/kernel-4.1/metadata.xsd</a></p>\n\n<p><strong>1. Use the tool <code>xjc</code> from your jdk</strong><p>\nIn my example I will use a fairly complex example based on datacite schemas.</p>\n\n<pre><code>/path/to/jdk/bin/xjc -d /path/to/java/project \\\n-p stack24174963.datacite \\\n https://schema.datacite.org/meta/kernel-4.1/metadata.xsd\n</code></pre>\n\n<p>This will reply with</p>\n\n<pre><code>parsing a schema...\ncompiling a schema...\nstack24174963/datacite/Box.java\nstack24174963/datacite/ContributorType.java\nstack24174963/datacite/DateType.java\nstack24174963/datacite/DescriptionType.java\nstack24174963/datacite/FunderIdentifierType.java\nstack24174963/datacite/NameType.java\nstack24174963/datacite/ObjectFactory.java\nstack24174963/datacite/Point.java\nstack24174963/datacite/RelatedIdentifierType.java\nstack24174963/datacite/RelationType.java\nstack24174963/datacite/Resource.java\nstack24174963/datacite/ResourceType.java\nstack24174963/datacite/TitleType.java\nstack24174963/datacite/package-info.java\n</code></pre>\n\n<p><strong>2. Read in as <code>XML</code> write out as <code>JSON</code> using Jackson</strong></p>\n\n<pre><code>  import com.fasterxml.jackson.databind.ObjectMapper;\n  import com.fasterxml.jackson.databind.SerializationFeature;\n\n  import stack24174963.datacite.Resource;\n\n  public class HowToXmlToJsonWithSchema {\n    @Test\n    public void readXmlAndConvertToSchema() throws Exception {\n        String example = \"schemas/datacite/kernel-4.1/example/datacite-example-complicated-v4.1.xml\";\n        try (InputStream in = Thread.currentThread().getContextClassLoader().getResourceAsStream(example)) {\n            Resource resource = JAXB.unmarshal(in, Resource.class);\n            System.out.println(asJson(resource));\n        }\n    }\n\n    private String asJson(Object obj) throws Exception {\n        StringWriter w = new StringWriter();\n        new ObjectMapper().configure(SerializationFeature.INDENT_OUTPUT, true).writeValue(w, obj);\n        String result = w.toString();\n        return result;\n    }\n  }\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code> {\n      \"identifier\" : {\n        \"value\" : \"10.5072/testpub\",\n        \"identifierType\" : \"DOI\"\n      },\n      \"creators\" : {\n        \"creator\" : [ {\n          \"creatorName\" : {\n            \"value\" : \"Smith, John\",\n            \"nameType\" : \"PERSONAL\"\n          },\n          \"givenName\" : \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-16\\\"?&gt;\\n&lt;givenName xmlns=\\\"http://datacite.org/schema/kernel-4\\\" xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\"&gt;John&lt;/givenName&gt;\",\n          \"familyName\" : \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-16\\\"?&gt;\\n&lt;familyName xmlns=\\\"http://datacite.org/schema/kernel-4\\\" xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\"&gt;Smith&lt;/familyName&gt;\",\n          \"nameIdentifier\" : [ ],\n          \"affiliation\" : [ ]\n        }, {\n          \"creatorName\" : {\n            \"value\" : \"つまらないものですが\",\n            \"nameType\" : null\n          },\n          \"givenName\" : null,\n          \"familyName\" : null,\n          \"nameIdentifier\" : [ {\n            \"value\" : \"0000000134596520\",\n            \"nameIdentifierScheme\" : \"ISNI\",\n            \"schemeURI\" : \"http://isni.org/isni/\"\n          } ],\n          \"affiliation\" : [ ]\n        } ]\n      },\n      \"titles\" : {\n        \"title\" : [ {\n          \"value\" : \"Właściwości rzutowań podprzestrzeniowych\",\n          \"titleType\" : null,\n          \"lang\" : \"pl\"\n        }, {\n          \"value\" : \"Translation of Polish titles\",\n          \"titleType\" : \"TRANSLATED_TITLE\",\n          \"lang\" : \"en\"\n        } ]\n      },\n      \"publisher\" : \"Springer\",\n      \"publicationYear\" : \"2010\",\n      \"resourceType\" : {\n        \"value\" : \"Monograph\",\n        \"resourceTypeGeneral\" : \"TEXT\"\n      },\n      \"subjects\" : {\n        \"subject\" : [ {\n          \"value\" : \"830 German &amp; related literatures\",\n          \"subjectScheme\" : \"DDC\",\n          \"schemeURI\" : null,\n          \"valueURI\" : null,\n          \"lang\" : \"en\"\n        }, {\n          \"value\" : \"Polish Literature\",\n          \"subjectScheme\" : null,\n          \"schemeURI\" : null,\n          \"valueURI\" : null,\n          \"lang\" : \"en\"\n        } ]\n      },\n      \"contributors\" : {\n        \"contributor\" : [ {\n          \"contributorName\" : {\n            \"value\" : \"Doe, John\",\n            \"nameType\" : \"PERSONAL\"\n          },\n          \"givenName\" : \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-16\\\"?&gt;\\n&lt;givenName xmlns=\\\"http://datacite.org/schema/kernel-4\\\" xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\"&gt;John&lt;/givenName&gt;\",\n          \"familyName\" : \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-16\\\"?&gt;\\n&lt;familyName xmlns=\\\"http://datacite.org/schema/kernel-4\\\" xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\"&gt;Doe&lt;/familyName&gt;\",\n          \"nameIdentifier\" : [ {\n            \"value\" : \"0000-0001-5393-1421\",\n            \"nameIdentifierScheme\" : \"ORCID\",\n            \"schemeURI\" : \"http://orcid.org/\"\n          } ],\n          \"affiliation\" : [ ],\n          \"contributorType\" : \"DATA_COLLECTOR\"\n        } ]\n      },\n      \"dates\" : null,\n      \"language\" : \"de\",\n      \"alternateIdentifiers\" : {\n        \"alternateIdentifier\" : [ {\n          \"value\" : \"937-0-4523-12357-6\",\n          \"alternateIdentifierType\" : \"ISBN\"\n        } ]\n      },\n      \"relatedIdentifiers\" : {\n        \"relatedIdentifier\" : [ {\n          \"value\" : \"10.5272/oldertestpub\",\n          \"resourceTypeGeneral\" : null,\n          \"relatedIdentifierType\" : \"DOI\",\n          \"relationType\" : \"IS_PART_OF\",\n          \"relatedMetadataScheme\" : null,\n          \"schemeURI\" : null,\n          \"schemeType\" : null\n        } ]\n      },\n      \"sizes\" : {\n        \"size\" : [ \"256 pages\" ]\n      },\n      \"formats\" : {\n        \"format\" : [ \"pdf\" ]\n      },\n      \"version\" : \"2\",\n      \"rightsList\" : {\n        \"rights\" : [ {\n          \"value\" : \"Creative Commons Attribution-NoDerivs 2.0 Generic\",\n          \"rightsURI\" : \"http://creativecommons.org/licenses/by-nd/2.0/\",\n          \"lang\" : null\n        } ]\n      },\n      \"descriptions\" : {\n        \"description\" : [ {\n          \"content\" : [ \"\\n      Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea\\n      takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores\\n      et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.\\n    \" ],\n          \"descriptionType\" : \"ABSTRACT\",\n          \"lang\" : \"la\"\n        } ]\n      },\n      \"geoLocations\" : null,\n      \"fundingReferences\" : null\n    }\n</code></pre>\n\n<p>For example input XML :</p>\n\n<pre><code>  &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n  &lt;resource xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://datacite.org/schema/kernel-4\" xsi:schemaLocation=\"http://datacite.org/schema/kernel-4 http://schema.datacite.org/meta/kernel-4.1/metadata.xsd\"&gt;\n    &lt;identifier identifierType=\"DOI\"&gt;10.5072/testpub&lt;/identifier&gt;\n    &lt;creators&gt;\n      &lt;creator&gt;\n        &lt;creatorName nameType=\"Personal\"&gt;Smith, John&lt;/creatorName&gt;\n        &lt;givenName&gt;John&lt;/givenName&gt;\n        &lt;familyName&gt;Smith&lt;/familyName&gt;\n      &lt;/creator&gt;\n      &lt;creator&gt;\n        &lt;creatorName&gt;つまらないものですが&lt;/creatorName&gt;\n        &lt;nameIdentifier nameIdentifierScheme=\"ISNI\" schemeURI=\"http://isni.org/isni/\"&gt;0000000134596520&lt;/nameIdentifier&gt;\n      &lt;/creator&gt;\n    &lt;/creators&gt;\n    &lt;titles&gt;\n      &lt;title xml:lang=\"pl\"&gt;Właściwości rzutowań podprzestrzeniowych&lt;/title&gt;\n      &lt;title xml:lang=\"en\" titleType=\"TranslatedTitle\"&gt;Translation of Polish titles&lt;/title&gt;\n    &lt;/titles&gt;\n    &lt;publisher&gt;Springer&lt;/publisher&gt;\n    &lt;publicationYear&gt;2010&lt;/publicationYear&gt;\n    &lt;subjects&gt;\n      &lt;subject xml:lang=\"en\" subjectScheme=\"DDC\"&gt;830 German &amp;amp; related literatures&lt;/subject&gt;\n      &lt;subject xml:lang=\"en\"&gt;Polish Literature&lt;/subject&gt;\n    &lt;/subjects&gt;\n    &lt;contributors&gt;\n      &lt;contributor contributorType=\"DataCollector\"&gt;\n        &lt;contributorName nameType=\"Personal\"&gt;Doe, John&lt;/contributorName&gt;\n        &lt;givenName&gt;John&lt;/givenName&gt;\n        &lt;familyName&gt;Doe&lt;/familyName&gt;\n        &lt;nameIdentifier nameIdentifierScheme=\"ORCID\" schemeURI=\"http://orcid.org/\"&gt;0000-0001-5393-1421&lt;/nameIdentifier&gt;\n      &lt;/contributor&gt;\n    &lt;/contributors&gt;\n    &lt;language&gt;de&lt;/language&gt;\n    &lt;resourceType resourceTypeGeneral=\"Text\"&gt;Monograph&lt;/resourceType&gt;\n    &lt;alternateIdentifiers&gt;\n      &lt;alternateIdentifier alternateIdentifierType=\"ISBN\"&gt;937-0-4523-12357-6&lt;/alternateIdentifier&gt;\n    &lt;/alternateIdentifiers&gt;\n    &lt;relatedIdentifiers&gt;\n      &lt;relatedIdentifier relatedIdentifierType=\"DOI\" relationType=\"IsPartOf\"&gt;10.5272/oldertestpub&lt;/relatedIdentifier&gt;\n    &lt;/relatedIdentifiers&gt;\n    &lt;sizes&gt;\n      &lt;size&gt;256 pages&lt;/size&gt;\n    &lt;/sizes&gt;\n    &lt;formats&gt;\n      &lt;format&gt;pdf&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;version&gt;2&lt;/version&gt;\n    &lt;rightsList&gt;\n      &lt;rights rightsURI=\"http://creativecommons.org/licenses/by-nd/2.0/\"&gt;Creative Commons Attribution-NoDerivs 2.0 Generic&lt;/rights&gt;\n    &lt;/rightsList&gt;\n    &lt;descriptions&gt;\n      &lt;description xml:lang=\"la\" descriptionType=\"Abstract\"&gt;\n        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea\n        takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores\n        et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.\n      &lt;/description&gt;\n    &lt;/descriptions&gt;\n  &lt;/resource&gt;\n</code></pre>\n"}],"owner":{"account_id":1301857,"reputation":745,"user_id":1251588,"accept_rate":50,"display_name":"Dominic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74075,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":7,"score":8,"last_activity_date":1647562265,"creation_date":1423648767,"question_id":28451370,"body_markdown":"Is there a way to convert a xml file to json? The XML can be of any structure, therefore there is no POJO class for instantiation. I need to convert the xml to json or to a Map, without root nodes.\r\n\r\nFor example:\r\n\r\n    &lt;import name=&quot;person&quot;&gt;\r\n        &lt;item&gt;\r\n            &lt;firstName&gt;Emil&lt;/firstName&gt;\r\n            &lt;lastName&gt;Example&lt;/lastName&gt;\r\n            &lt;addresses&gt;\r\n    \t        &lt;address&gt;\r\n    \t            &lt;street&gt;Example Blvd.&lt;/street&gt;\r\n        \t\t&lt;/address&gt;\r\n            \t&lt;address&gt;\r\n    \t            &lt;street&gt;Example Ave.&lt;/street&gt;\r\n        \t\t&lt;/address&gt;\r\n            &lt;/addresses&gt;\r\n        &lt;/item&gt;\r\n    &lt;/import&gt;\r\nExpected JSON\r\n\r\n    {\r\n    \t&quot;firstName&quot;: &quot;Emil&quot;,\r\n    \t&quot;lastName&quot;: &quot;Example&quot;,\r\n    \t&quot;addresses&quot;: [\r\n    \t\t{ &quot;street&quot; : &quot;Example Blvd.&quot; },\r\n    \t\t{ &quot;street&quot; : &quot;Example Ave.&quot; }\r\n    \t]\r\n    }","title":"Convert xml to json with Java","body":"<p>Is there a way to convert a xml file to json? The XML can be of any structure, therefore there is no POJO class for instantiation. I need to convert the xml to json or to a Map, without root nodes.</p>\n\n<p>For example:</p>\n\n<pre><code>&lt;import name=\"person\"&gt;\n    &lt;item&gt;\n        &lt;firstName&gt;Emil&lt;/firstName&gt;\n        &lt;lastName&gt;Example&lt;/lastName&gt;\n        &lt;addresses&gt;\n            &lt;address&gt;\n                &lt;street&gt;Example Blvd.&lt;/street&gt;\n            &lt;/address&gt;\n            &lt;address&gt;\n                &lt;street&gt;Example Ave.&lt;/street&gt;\n            &lt;/address&gt;\n        &lt;/addresses&gt;\n    &lt;/item&gt;\n&lt;/import&gt;\n</code></pre>\n\n<p>Expected JSON</p>\n\n<pre><code>{\n    \"firstName\": \"Emil\",\n    \"lastName\": \"Example\",\n    \"addresses\": [\n        { \"street\" : \"Example Blvd.\" },\n        { \"street\" : \"Example Ave.\" }\n    ]\n}\n</code></pre>\n"},{"tags":["java","jpa","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1647617566,"post_id":71520450,"comment_id":126423194,"body_markdown":"Are you changing ID properties in entities? Most other NPE in change tracking seem to have resulted from that, and just turning off weaving causes other issues with the approach that are less noticeable. If you can debug or reproduce what is null, I&#39;d suggest filling a bug. Otherwise, the @ChangeTracking is the right way to go - does it affect the NPE at all? In this case, it is caused by a merge as it cascades through a reference mapping, then into 2 collection mappings, so deferred change tracking would need to be on entities 3 nodes deep. You might also turn off cascade merge option.","body":"Are you changing ID properties in entities? Most other NPE in change tracking seem to have resulted from that, and just turning off weaving causes other issues with the approach that are less noticeable. If you can debug or reproduce what is null, I&#39;d suggest filling a bug. Otherwise, the @ChangeTracking is the right way to go - does it affect the NPE at all? In this case, it is caused by a merge as it cascades through a reference mapping, then into 2 collection mappings, so deferred change tracking would need to be on entities 3 nodes deep. You might also turn off cascade merge option."},{"owner":{"account_id":4787547,"reputation":5568,"user_id":3867574,"accept_rate":43,"display_name":"Serg M Ten"},"score":0,"creation_date":1647620294,"post_id":71520450,"comment_id":126424375,"body_markdown":"Thanks @Chris The Ids of the entities aren&#39;t changed. The NPE occurs on delete. However, one of the entities involved does not have a primary key on a single column but its primary key is two columns with the same Ids as other entities. So it&#39;s kind of: PRODUCT(id_product) SHOP(id_shop) PRODUCT_AT_SHOP(id_product, id_shop) There is a @ ManyToOne lazy cascade.all annotation from PRODUCT to PRODUCT_AT_SHOP and a @ ManyToOne + @ JoinColumn from PRODUCT_AT_SHOP to both PRODUCT and SHOP. When trying to remove the SHOP the NPE is thrown.","body":"Thanks @Chris The Ids of the entities aren&#39;t changed. The NPE occurs on delete. However, one of the entities involved does not have a primary key on a single column but its primary key is two columns with the same Ids as other entities. So it&#39;s kind of: PRODUCT(id_product) SHOP(id_shop) PRODUCT_AT_SHOP(id_product, id_shop) There is a @ ManyToOne lazy cascade.all annotation from PRODUCT to PRODUCT_AT_SHOP and a @ ManyToOne + @ JoinColumn from PRODUCT_AT_SHOP to both PRODUCT and SHOP. When trying to remove the SHOP the NPE is thrown."},{"owner":{"account_id":4787547,"reputation":5568,"user_id":3867574,"accept_rate":43,"display_name":"Serg M Ten"},"score":0,"creation_date":1647620365,"post_id":71520450,"comment_id":126424413,"body_markdown":"I tried every @ ChangeTracking mode on the entities without luck. But I only tried the top level entities. There are other nested entities. I shall give a try to a more aggressive deferred @ ChangeTracking on every field of the entities involved.","body":"I tried every @ ChangeTracking mode on the entities without luck. But I only tried the top level entities. There are other nested entities. I shall give a try to a more aggressive deferred @ ChangeTracking on every field of the entities involved."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1647622482,"post_id":71520450,"comment_id":126425193,"body_markdown":"How are you removing Shop then? I&#39;m guessing you are modifying Product so it no longer references the ProductAtShop associated to the shop to be removed. Check that you aren&#39;t modifying the ProductAtShop - it should not have its product reference nulled out and just needs to be deleted.","body":"How are you removing Shop then? I&#39;m guessing you are modifying Product so it no longer references the ProductAtShop associated to the shop to be removed. Check that you aren&#39;t modifying the ProductAtShop - it should not have its product reference nulled out and just needs to be deleted."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1647622619,"post_id":71520450,"comment_id":126425247,"body_markdown":"@ChangeTracking should be used on the entities, not the fields/properties. Be sure to use it on the Product and Shop entities, as they have collection mappings to ProductAtShop that seems likely involved.","body":"@ChangeTracking should be used on the entities, not the fields/properties. Be sure to use it on the Product and Shop entities, as they have collection mappings to ProductAtShop that seems likely involved."}],"owner":{"account_id":4787547,"reputation":5568,"user_id":3867574,"accept_rate":43,"display_name":"Serg M Ten"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647562242,"creation_date":1647562242,"question_id":71520450,"body_markdown":"Using EclipseLink 2.6.0 on WebLogic 12.2.1.4.0 I started to get the following exception upon invoking ```EntityManager.merge()```\r\n\r\n    java.lang.NullPointerException: null\r\n        at org.eclipse.persistence.descriptors.changetracking.AttributeChangeTrackingPolicy.updateListenerForSelfMerge(AttributeChangeTrackingPolicy.java:130)\r\n        at org.eclipse.persistence.mappings.CollectionMapping.mergeIntoObject(CollectionMapping.java:1642)\r\n        at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeIntoObject(ObjectBuilder.java:4136)\r\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfCloneIntoWorkingCopy(MergeManager.java:601)\r\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:313)\r\n        at org.eclipse.persistence.mappings.CollectionMapping.mergeIntoObject(CollectionMapping.java:1638)\r\n        at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeIntoObject(ObjectBuilder.java:4136)\r\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfCloneIntoWorkingCopy(MergeManager.java:601)\r\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:313)\r\n        at org.eclipse.persistence.mappings.CollectionMapping.mergeIntoObject(CollectionMapping.java:1638)\r\n        at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeIntoObject(ObjectBuilder.java:4136)\r\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfCloneIntoWorkingCopy(MergeManager.java:601)\r\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:313)\r\n        at org.eclipse.persistence.mappings.ObjectReferenceMapping.mergeIntoObject(ObjectReferenceMapping.java:499)\r\n        at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeIntoObject(ObjectBuilder.java:4136)\r\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfCloneIntoWorkingCopy(MergeManager.java:601)\r\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:313)\r\n        at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.mergeCloneWithReferences(UnitOfWorkImpl.java:3524)\r\n        at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.mergeCloneWithReferences(RepeatableWriteUnitOfWork.java:387)\r\n        at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.mergeCloneWithReferences(UnitOfWorkImpl.java:3484)\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerImpl.mergeInternal(EntityManagerImpl.java:553)\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerImpl.merge(EntityManagerImpl.java:530)\r\n        at weblogic.persistence.BasePersistenceContextProxyImpl.invoke(BasePersistenceContextProxyImpl.java:97)\r\n        at weblogic.persistence.TransactionalEntityManagerProxyImpl.invoke(TransactionalEntityManagerProxyImpl.java:164)\r\n        at weblogic.persistence.BasePersistenceContextProxyImpl.invoke(BasePersistenceContextProxyImpl.java:86)\r\n        at com.sun.proxy.$Proxy5085.merge(Unknown Source)\r\n        at com.acme.dao.Dao.save(Dao.java:86)\r\n\r\nI found a workaround which is setting\r\n\r\n    &lt;property name=&quot;eclipselink.weaving.changetracking&quot; value=&quot;false&quot;/&gt;\r\n\r\nin ```persistence.xml```\r\nHowever, this disables weaving changetracking for the whole persistence unit which might have an undesired global impact.\r\n\r\nThe transaction involves a bunch of objects with twisted ```@ManyToOne(fetch = FetchType.LAZY)``` relationships and the exception is thrown only when trying to delete one of the objects and merging another.\r\n\r\nMy question is: **is it possible to disable weaving changetracking only for the entities involved in the transaction where the NullPointerException occurs?**\r\n\r\nI have tried adding ```@Mutable``` annotations on the fields and all types of ```@ChangeTracking``` on the entities but none of those eliminated the ```NullPointerException```. \r\n","title":"Is it possible to disable EclipseLink weaving changetracking only for several entities?","body":"<p>Using EclipseLink 2.6.0 on WebLogic 12.2.1.4.0 I started to get the following exception upon invoking <code>EntityManager.merge()</code></p>\n<pre><code>java.lang.NullPointerException: null\n    at org.eclipse.persistence.descriptors.changetracking.AttributeChangeTrackingPolicy.updateListenerForSelfMerge(AttributeChangeTrackingPolicy.java:130)\n    at org.eclipse.persistence.mappings.CollectionMapping.mergeIntoObject(CollectionMapping.java:1642)\n    at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeIntoObject(ObjectBuilder.java:4136)\n    at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfCloneIntoWorkingCopy(MergeManager.java:601)\n    at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:313)\n    at org.eclipse.persistence.mappings.CollectionMapping.mergeIntoObject(CollectionMapping.java:1638)\n    at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeIntoObject(ObjectBuilder.java:4136)\n    at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfCloneIntoWorkingCopy(MergeManager.java:601)\n    at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:313)\n    at org.eclipse.persistence.mappings.CollectionMapping.mergeIntoObject(CollectionMapping.java:1638)\n    at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeIntoObject(ObjectBuilder.java:4136)\n    at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfCloneIntoWorkingCopy(MergeManager.java:601)\n    at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:313)\n    at org.eclipse.persistence.mappings.ObjectReferenceMapping.mergeIntoObject(ObjectReferenceMapping.java:499)\n    at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeIntoObject(ObjectBuilder.java:4136)\n    at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfCloneIntoWorkingCopy(MergeManager.java:601)\n    at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:313)\n    at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.mergeCloneWithReferences(UnitOfWorkImpl.java:3524)\n    at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.mergeCloneWithReferences(RepeatableWriteUnitOfWork.java:387)\n    at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.mergeCloneWithReferences(UnitOfWorkImpl.java:3484)\n    at org.eclipse.persistence.internal.jpa.EntityManagerImpl.mergeInternal(EntityManagerImpl.java:553)\n    at org.eclipse.persistence.internal.jpa.EntityManagerImpl.merge(EntityManagerImpl.java:530)\n    at weblogic.persistence.BasePersistenceContextProxyImpl.invoke(BasePersistenceContextProxyImpl.java:97)\n    at weblogic.persistence.TransactionalEntityManagerProxyImpl.invoke(TransactionalEntityManagerProxyImpl.java:164)\n    at weblogic.persistence.BasePersistenceContextProxyImpl.invoke(BasePersistenceContextProxyImpl.java:86)\n    at com.sun.proxy.$Proxy5085.merge(Unknown Source)\n    at com.acme.dao.Dao.save(Dao.java:86)\n</code></pre>\n<p>I found a workaround which is setting</p>\n<pre><code>&lt;property name=&quot;eclipselink.weaving.changetracking&quot; value=&quot;false&quot;/&gt;\n</code></pre>\n<p>in <code>persistence.xml</code>\nHowever, this disables weaving changetracking for the whole persistence unit which might have an undesired global impact.</p>\n<p>The transaction involves a bunch of objects with twisted <code>@ManyToOne(fetch = FetchType.LAZY)</code> relationships and the exception is thrown only when trying to delete one of the objects and merging another.</p>\n<p>My question is: <strong>is it possible to disable weaving changetracking only for the entities involved in the transaction where the NullPointerException occurs?</strong></p>\n<p>I have tried adding <code>@Mutable</code> annotations on the fields and all types of <code>@ChangeTracking</code> on the entities but none of those eliminated the <code>NullPointerException</code>.</p>\n"},{"tags":["java","api","machine-learning","weka"],"answers":[{"tags":[],"owner":{"account_id":174861,"reputation":3176,"user_id":404483,"accept_rate":88,"display_name":"box"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1647562012,"creation_date":1310288794,"answer_id":6640193,"question_id":6639802,"body_markdown":"You have to cast the null to FastVector. Otherwise more methods would apply to the method signature: \r\n\r\n\t\tFastVector attributes = new FastVector();\r\n\t\tattributes.addElement(new Attribute(&quot;attr&quot;, (FastVector) null));\r\n\r\nHere is a good resource for creating Instances on the fly: https://waikato.github.io/weka-wiki/formats_and_processing/creating_arff_file/","title":"Creating a string attribute in Weka Java API","body":"<p>You have to cast the null to FastVector. Otherwise more methods would apply to the method signature:</p>\n<pre><code>    FastVector attributes = new FastVector();\n    attributes.addElement(new Attribute(&quot;attr&quot;, (FastVector) null));\n</code></pre>\n<p>Here is a good resource for creating Instances on the fly: <a href=\"https://waikato.github.io/weka-wiki/formats_and_processing/creating_arff_file/\" rel=\"nofollow noreferrer\">https://waikato.github.io/weka-wiki/formats_and_processing/creating_arff_file/</a></p>\n"},{"tags":[],"owner":{"account_id":2001996,"reputation":31,"user_id":1792806,"display_name":"ash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1351810463,"creation_date":1351810463,"answer_id":13186744,"question_id":6639802,"body_markdown":"Easy way to build STRING Attribute in WEKA is this:\r\n\r\n\r\n\r\n     new Attribute(&quot;Distribution_weight&quot;,(FastVector) null);\r\n\r\n\r\n*Main problem is WEKA&#39;s definition of NULL value, or NULL vector in new type of Java editors with imported weka.jar and throw exceptions mode.*","title":"Creating a string attribute in Weka Java API","body":"<p>Easy way to build STRING Attribute in WEKA is this:</p>\n\n<pre><code> new Attribute(\"Distribution_weight\",(FastVector) null);\n</code></pre>\n\n<p><em>Main problem is WEKA's definition of NULL value, or NULL vector in new type of Java editors with imported weka.jar and throw exceptions mode.</em></p>\n"}],"owner":{"account_id":160561,"reputation":14464,"user_id":380714,"accept_rate":97,"display_name":"kamikaze_pilot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9649,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":6640193,"answer_count":2,"score":5,"last_activity_date":1647562012,"creation_date":1310282195,"question_id":6639802,"body_markdown":"I&#39;m trying to create a new string Attribute using Weka&#39;s Java API...\r\n\r\nReading through the API javadocs, it appears that the way to do so is to use this constructor: \r\n\r\n    Attribute\r\n    \r\n    public Attribute(java.lang.String attributeName,\r\n                     FastVector attributeValues)\r\n    \r\n        Constructor for nominal attributes and string attributes. If a null vector of attribute values is passed to the method, the attribute is assumed to be a string.\r\n    \r\n        Parameters:\r\n            attributeName - the name for the attribute\r\n            attributeValues - a vector of strings denoting the attribute values. Null if the attribute is a string attribute.\r\n\r\nbut I&#39;m stuck as to what I should pass into the attributeValues parameter...\r\n\r\nwhen I put in null, Java complains about protected objects&lt;br&gt;\r\nwhen I put in Null, it&#39;s syntax error&lt;br&gt;\r\nwhen I put in `new FastVector()`, it becomes a nominal attribute that is empty rather than a string attribute...&lt;br&gt;\r\nwhen I create a new object: \r\n\r\n\tFastVector fv = new FastVector();\r\n\tfv.addElement(null);\r\n\r\nand then pass fv into the argument, it returns a null pointer exception...\r\n\r\nwhat exactly should I put into the attributeValues argument so that it becomes a string attribute? \r\n\r\n","title":"Creating a string attribute in Weka Java API","body":"<p>I'm trying to create a new string Attribute using Weka's Java API...</p>\n\n<p>Reading through the API javadocs, it appears that the way to do so is to use this constructor: </p>\n\n<pre><code>Attribute\n\npublic Attribute(java.lang.String attributeName,\n                 FastVector attributeValues)\n\n    Constructor for nominal attributes and string attributes. If a null vector of attribute values is passed to the method, the attribute is assumed to be a string.\n\n    Parameters:\n        attributeName - the name for the attribute\n        attributeValues - a vector of strings denoting the attribute values. Null if the attribute is a string attribute.\n</code></pre>\n\n<p>but I'm stuck as to what I should pass into the attributeValues parameter...</p>\n\n<p>when I put in null, Java complains about protected objects<br>\nwhen I put in Null, it's syntax error<br>\nwhen I put in <code>new FastVector()</code>, it becomes a nominal attribute that is empty rather than a string attribute...<br>\nwhen I create a new object: </p>\n\n<pre><code>FastVector fv = new FastVector();\nfv.addElement(null);\n</code></pre>\n\n<p>and then pass fv into the argument, it returns a null pointer exception...</p>\n\n<p>what exactly should I put into the attributeValues argument so that it becomes a string attribute? </p>\n"},{"tags":["java","spring-boot","jdbc","microservices"],"comments":[{"owner":{"account_id":3842177,"reputation":847,"user_id":3184937,"accept_rate":71,"display_name":"Anish Panthi"},"score":0,"creation_date":1647581394,"post_id":71518612,"comment_id":126411908,"body_markdown":"Are you trying to create different datasource from the same module, or are you looking to connect multiple databases from the same module? Your question is quite confusing. Can you please elaborate more on this? Multi project still means multi project where you can define your datasource as per your module, which is independent to your modules.","body":"Are you trying to create different datasource from the same module, or are you looking to connect multiple databases from the same module? Your question is quite confusing. Can you please elaborate more on this? Multi project still means multi project where you can define your datasource as per your module, which is independent to your modules."},{"owner":{"account_id":3846624,"reputation":307,"user_id":3187960,"accept_rate":83,"display_name":"user3187960"},"score":0,"creation_date":1647591988,"post_id":71518612,"comment_id":126414168,"body_markdown":"The project is organized into different modules, which will eventually produce a single jar. Each module will have to connect to a different database. Please check the pom.xml I posted","body":"The project is organized into different modules, which will eventually produce a single jar. Each module will have to connect to a different database. Please check the pom.xml I posted"}],"answers":[{"tags":[],"owner":{"account_id":24590921,"reputation":59,"user_id":18494837,"display_name":"Pedring Coding"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647561913,"creation_date":1647561913,"answer_id":71520427,"question_id":71518612,"body_markdown":"You can apply as a way to dynamically determine the actual DataSource based on the current context.\r\n\r\nI think is similar to what you ask: [Spring&#39;s AbstractRoutingDatasource][1]\r\n\r\ngood coding! &#175;_(ツ)_/&#175;\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-abstract-routing-data-source","title":"Multiple Datasource on StringBoot Multimodule project","body":"<p>You can apply as a way to dynamically determine the actual DataSource based on the current context.</p>\n<p>I think is similar to what you ask: <a href=\"https://www.baeldung.com/spring-abstract-routing-data-source\" rel=\"nofollow noreferrer\">Spring's AbstractRoutingDatasource</a></p>\n<p>good coding! ¯_(ツ)_/¯</p>\n"}],"owner":{"account_id":3846624,"reputation":307,"user_id":3187960,"accept_rate":83,"display_name":"user3187960"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647561913,"creation_date":1647548799,"question_id":71518612,"body_markdown":"I have a Springboot project organized in different modules.\r\nThis is the main pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;org.cmw&lt;/groupId&gt;\r\n      &lt;artifactId&gt;bo&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;bo&lt;/name&gt;\r\n      &lt;url&gt;https://www.test.com&lt;/url&gt;\r\n    \r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.4&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;mapstruct.version&gt;1.4.2.Final&lt;/mapstruct.version&gt;\r\n        &lt;org.lombok.version&gt;1.18.18&lt;/org.lombok.version&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;modules&gt;\r\n        &lt;module&gt;bo_libs&lt;/module&gt;\r\n        &lt;module&gt;bo_basis_lib&lt;/module&gt;\r\n        &lt;module&gt;bo_basis&lt;/module&gt;\r\n        &lt;module&gt;bo_api_lib&lt;/module&gt;\r\n        &lt;module&gt;bo_api&lt;/module&gt;\r\n        &lt;module&gt;bo_ui&lt;/module&gt;\r\n      &lt;/modules&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n    \r\n        ...\r\n    \r\n      &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nI&#39;m trying to have each module connect to a different database.\r\n\r\nFor the bo_basis module I have created this configuration class\r\n\r\n    package com.cmw.bo.basis.config;\r\n    \r\n    import com.cmw.bo.basis.repositories.SampleDataPopulator;\r\n    import com.cmw.bo.common.config.DataAccessConfig;\r\n    import com.zaxxer.hikari.HikariDataSource;\r\n    import org.hibernate.boot.SchemaAutoTooling;\r\n    import org.hibernate.dialect.MySQL8Dialect;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Profile;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    @Configuration\r\n    @Profile(&quot;development&quot;)\r\n    @EnableJpaAuditing\r\n    @EnableJpaRepositories(basePackages = {\r\n            &quot;com.cmw.bo.basis.repositories&quot;\r\n    })\r\n    @EnableTransactionManagement\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class DevelopmentDataAccessConfig extends DataAccessConfig {\r\n    \r\n        @Value(value = &quot;${jdbc.url}&quot;)\r\n        private String jdbcUrl;\r\n    \r\n        @Bean\r\n        public DataSource dataSource() {\r\n    \r\n            final HikariDataSource dataSource = new HikariDataSource();\r\n    \r\n            dataSource.setJdbcUrl(String.format(&quot;%s/bo_basis&quot;, jdbcUrl));\r\n            dataSource.setUsername(&quot;root&quot;);\r\n            dataSource.setPassword(&quot;root&quot;);\r\n            dataSource.setDriverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n    \r\n            dataSource.setMaximumPoolSize(10);\r\n            dataSource.addDataSourceProperty(&quot;cachePrepStmts&quot;, true);\r\n            dataSource.addDataSourceProperty(&quot;prepStmtCacheSize&quot;, 250);\r\n            dataSource.addDataSourceProperty(&quot;prepStmtCacheSqlLimit&quot;, 2048);\r\n            dataSource.addDataSourceProperty(&quot;useServerPrepStmts&quot;, true);\r\n            dataSource.addDataSourceProperty(&quot;useLocalSessionState&quot;, true);\r\n            dataSource.addDataSourceProperty(&quot;useLocalTransactionState&quot;, true);\r\n            dataSource.addDataSourceProperty(&quot;rewriteBatchedStatements&quot;, true);\r\n            dataSource.addDataSourceProperty(&quot;cacheResultSetMetadata&quot;, true);\r\n            dataSource.addDataSourceProperty(&quot;cacheServerConfiguration&quot;, true);\r\n            dataSource.addDataSourceProperty(&quot;elideSetAutoCommits&quot;, true);\r\n            dataSource.addDataSourceProperty(&quot;maintainTimeStats&quot;, false);\r\n            dataSource.addDataSourceProperty(&quot;useSSL&quot;, false);\r\n            dataSource.addDataSourceProperty(&quot;characterEncoding&quot;, &quot;utf8&quot;);\r\n            dataSource.addDataSourceProperty(&quot;useUnicode&quot;, &quot;true&quot;);\r\n            dataSource.addDataSourceProperty(&quot;serverTimezone&quot;, &quot;UTC&quot;);\r\n    \r\n            return dataSource;\r\n        }\r\n    \r\n        @Bean\r\n        public SampleDataPopulator sampleDataPopulator() {\r\n    \r\n            return new SampleDataPopulator();\r\n        }\r\n    \r\n        @Override\r\n        protected boolean getShowSql() {\r\n    \r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        protected SchemaAutoTooling getSchemaAutoTooling() {\r\n    \r\n            return SchemaAutoTooling.VALIDATE;\r\n        }\r\n    \r\n        @Override\r\n        protected String[] getPackagesToScan() {\r\n    \r\n            return new String[]{\r\n                    &quot;com.cmw.bo.basis.entities&quot;,\r\n                    &quot;com.cmw.bo.common.models.entities&quot;\r\n            };\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected String getDatabasePlatform() {\r\n    \r\n            return MySQL8Dialect.class.getCanonicalName();\r\n        }\r\n    \r\n        @Override\r\n        protected String getName() {\r\n    \r\n            return &quot;basisJpaManager&quot;;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nThe DataAccessConfig class:\r\n\r\n    @Configuration\r\n    public abstract class DataAccessConfig {\r\n    \r\n        @Bean\r\n        @DependsOn({&quot;flyway&quot;})\r\n        public EntityManagerFactory entityManagerFactory() {\r\n    \r\n            HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n            vendorAdapter.setGenerateDdl(false);\r\n            vendorAdapter.setShowSql(getShowSql());\r\n            vendorAdapter.setDatabasePlatform(getDatabasePlatform());\r\n    \r\n            LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\r\n            factory.setValidationMode(ValidationMode.CALLBACK);\r\n            factory.setJpaVendorAdapter(vendorAdapter);\r\n            factory.setPackagesToScan(getPackagesToScan());\r\n            factory.setDataSource(dataSource());\r\n    \r\n            Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n            properties.put(AvailableSettings.HBM2DDL_AUTO, getSchemaAutoTooling().name().toLowerCase());\r\n    \r\n            // To avoid: Entity manager factory name (default) is already registered.\r\n            // If entity manager will be clustered or passivated, specify a unique value for property &#39;hibernate.ejb.entitymanager_factory_name&#39;\r\n            properties.put(&quot;hibernate.ejb.entitymanager_factory_name&quot;, getName());\r\n            factory.setJpaPropertyMap(properties);\r\n    \r\n            factory.afterPropertiesSet();\r\n    \r\n            return factory.getObject();\r\n        }\r\n    \r\n        @Bean\r\n        public PlatformTransactionManager transactionManager() {\r\n    \r\n            JpaTransactionManager txManager = new JpaTransactionManager();\r\n            txManager.setEntityManagerFactory(entityManagerFactory());\r\n    \r\n            return txManager;\r\n        }\r\n    \r\n        @Bean\r\n        @Description(&quot;Database migration&quot;)\r\n        public Flyway flyway() {\r\n    \r\n            Flyway flyway = Flyway.configure()\r\n                    .dataSource(dataSource())\r\n                    .validateOnMigrate(true)\r\n                    .baselineOnMigrate(true)\r\n                    .outOfOrder(false).load();\r\n    \r\n            flyway.migrate();\r\n    \r\n            return flyway;\r\n        }\r\n    \r\n        protected abstract boolean getShowSql();\r\n    \r\n        protected abstract SchemaAutoTooling getSchemaAutoTooling();\r\n    \r\n        protected abstract String[] getPackagesToScan();\r\n    \r\n        protected abstract String getDatabasePlatform();\r\n    \r\n        protected abstract String getName();\r\n    \r\n        public abstract DataSource dataSource();\r\n    }\r\n\r\n\r\nFor the bo_ui module the configuration class is the same (apart from the jdbc connection url of course)\r\n\r\n\r\nThe problem is that (obviously) if I keep the configuration classes the same name I get a ConflictingBeanDefinitionException. If I rename the classes differently, one of the two connections is ignored.\r\n\r\nHow would you solve this problem that was not taken into consideration in the design phase?\r\n\r\nThank you\r\n\r\n","title":"Multiple Datasource on StringBoot Multimodule project","body":"<p>I have a Springboot project organized in different modules.\nThis is the main pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.cmw&lt;/groupId&gt;\n  &lt;artifactId&gt;bo&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n\n  &lt;name&gt;bo&lt;/name&gt;\n  &lt;url&gt;https://www.test.com&lt;/url&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.4&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;mapstruct.version&gt;1.4.2.Final&lt;/mapstruct.version&gt;\n    &lt;org.lombok.version&gt;1.18.18&lt;/org.lombok.version&gt;\n  &lt;/properties&gt;\n\n  &lt;modules&gt;\n    &lt;module&gt;bo_libs&lt;/module&gt;\n    &lt;module&gt;bo_basis_lib&lt;/module&gt;\n    &lt;module&gt;bo_basis&lt;/module&gt;\n    &lt;module&gt;bo_api_lib&lt;/module&gt;\n    &lt;module&gt;bo_api&lt;/module&gt;\n    &lt;module&gt;bo_ui&lt;/module&gt;\n  &lt;/modules&gt;\n\n  &lt;dependencies&gt;\n\n    ...\n\n  &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I'm trying to have each module connect to a different database.</p>\n<p>For the bo_basis module I have created this configuration class</p>\n<pre><code>package com.cmw.bo.basis.config;\n\nimport com.cmw.bo.basis.repositories.SampleDataPopulator;\nimport com.cmw.bo.common.config.DataAccessConfig;\nimport com.zaxxer.hikari.HikariDataSource;\nimport org.hibernate.boot.SchemaAutoTooling;\nimport org.hibernate.dialect.MySQL8Dialect;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Profile;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport javax.sql.DataSource;\n\n@Configuration\n@Profile(&quot;development&quot;)\n@EnableJpaAuditing\n@EnableJpaRepositories(basePackages = {\n        &quot;com.cmw.bo.basis.repositories&quot;\n})\n@EnableTransactionManagement\n@PropertySource(&quot;classpath:application.properties&quot;)\npublic class DevelopmentDataAccessConfig extends DataAccessConfig {\n\n    @Value(value = &quot;${jdbc.url}&quot;)\n    private String jdbcUrl;\n\n    @Bean\n    public DataSource dataSource() {\n\n        final HikariDataSource dataSource = new HikariDataSource();\n\n        dataSource.setJdbcUrl(String.format(&quot;%s/bo_basis&quot;, jdbcUrl));\n        dataSource.setUsername(&quot;root&quot;);\n        dataSource.setPassword(&quot;root&quot;);\n        dataSource.setDriverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n\n        dataSource.setMaximumPoolSize(10);\n        dataSource.addDataSourceProperty(&quot;cachePrepStmts&quot;, true);\n        dataSource.addDataSourceProperty(&quot;prepStmtCacheSize&quot;, 250);\n        dataSource.addDataSourceProperty(&quot;prepStmtCacheSqlLimit&quot;, 2048);\n        dataSource.addDataSourceProperty(&quot;useServerPrepStmts&quot;, true);\n        dataSource.addDataSourceProperty(&quot;useLocalSessionState&quot;, true);\n        dataSource.addDataSourceProperty(&quot;useLocalTransactionState&quot;, true);\n        dataSource.addDataSourceProperty(&quot;rewriteBatchedStatements&quot;, true);\n        dataSource.addDataSourceProperty(&quot;cacheResultSetMetadata&quot;, true);\n        dataSource.addDataSourceProperty(&quot;cacheServerConfiguration&quot;, true);\n        dataSource.addDataSourceProperty(&quot;elideSetAutoCommits&quot;, true);\n        dataSource.addDataSourceProperty(&quot;maintainTimeStats&quot;, false);\n        dataSource.addDataSourceProperty(&quot;useSSL&quot;, false);\n        dataSource.addDataSourceProperty(&quot;characterEncoding&quot;, &quot;utf8&quot;);\n        dataSource.addDataSourceProperty(&quot;useUnicode&quot;, &quot;true&quot;);\n        dataSource.addDataSourceProperty(&quot;serverTimezone&quot;, &quot;UTC&quot;);\n\n        return dataSource;\n    }\n\n    @Bean\n    public SampleDataPopulator sampleDataPopulator() {\n\n        return new SampleDataPopulator();\n    }\n\n    @Override\n    protected boolean getShowSql() {\n\n        return false;\n    }\n\n    @Override\n    protected SchemaAutoTooling getSchemaAutoTooling() {\n\n        return SchemaAutoTooling.VALIDATE;\n    }\n\n    @Override\n    protected String[] getPackagesToScan() {\n\n        return new String[]{\n                &quot;com.cmw.bo.basis.entities&quot;,\n                &quot;com.cmw.bo.common.models.entities&quot;\n        };\n    }\n\n\n    @Override\n    protected String getDatabasePlatform() {\n\n        return MySQL8Dialect.class.getCanonicalName();\n    }\n\n    @Override\n    protected String getName() {\n\n        return &quot;basisJpaManager&quot;;\n    }\n\n}\n</code></pre>\n<p>The DataAccessConfig class:</p>\n<pre><code>@Configuration\npublic abstract class DataAccessConfig {\n\n    @Bean\n    @DependsOn({&quot;flyway&quot;})\n    public EntityManagerFactory entityManagerFactory() {\n\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        vendorAdapter.setGenerateDdl(false);\n        vendorAdapter.setShowSql(getShowSql());\n        vendorAdapter.setDatabasePlatform(getDatabasePlatform());\n\n        LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\n        factory.setValidationMode(ValidationMode.CALLBACK);\n        factory.setJpaVendorAdapter(vendorAdapter);\n        factory.setPackagesToScan(getPackagesToScan());\n        factory.setDataSource(dataSource());\n\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n        properties.put(AvailableSettings.HBM2DDL_AUTO, getSchemaAutoTooling().name().toLowerCase());\n\n        // To avoid: Entity manager factory name (default) is already registered.\n        // If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'\n        properties.put(&quot;hibernate.ejb.entitymanager_factory_name&quot;, getName());\n        factory.setJpaPropertyMap(properties);\n\n        factory.afterPropertiesSet();\n\n        return factory.getObject();\n    }\n\n    @Bean\n    public PlatformTransactionManager transactionManager() {\n\n        JpaTransactionManager txManager = new JpaTransactionManager();\n        txManager.setEntityManagerFactory(entityManagerFactory());\n\n        return txManager;\n    }\n\n    @Bean\n    @Description(&quot;Database migration&quot;)\n    public Flyway flyway() {\n\n        Flyway flyway = Flyway.configure()\n                .dataSource(dataSource())\n                .validateOnMigrate(true)\n                .baselineOnMigrate(true)\n                .outOfOrder(false).load();\n\n        flyway.migrate();\n\n        return flyway;\n    }\n\n    protected abstract boolean getShowSql();\n\n    protected abstract SchemaAutoTooling getSchemaAutoTooling();\n\n    protected abstract String[] getPackagesToScan();\n\n    protected abstract String getDatabasePlatform();\n\n    protected abstract String getName();\n\n    public abstract DataSource dataSource();\n}\n</code></pre>\n<p>For the bo_ui module the configuration class is the same (apart from the jdbc connection url of course)</p>\n<p>The problem is that (obviously) if I keep the configuration classes the same name I get a ConflictingBeanDefinitionException. If I rename the classes differently, one of the two connections is ignored.</p>\n<p>How would you solve this problem that was not taken into consideration in the design phase?</p>\n<p>Thank you</p>\n"},{"tags":["java","swift","kotlin","google-maps","google-maps-markers"],"comments":[{"owner":{"account_id":15620104,"reputation":1184,"user_id":11269204,"display_name":"jabamataro"},"score":0,"creation_date":1648448959,"post_id":71520424,"comment_id":126617161,"body_markdown":"Yes, its possible but you may need to use additional services. For example, you may need to use Places Details services available in Places SDK for Android, as this will provide you the exact coordinates (that you can use for the marker) for the specified place_id. To get you started, you can check the documentation: https://developers.google.com/maps/documentation/places/android-sdk/place-details","body":"Yes, its possible but you may need to use additional services. For example, you may need to use Places Details services available in Places SDK for Android, as this will provide you the exact coordinates (that you can use for the marker) for the specified place_id. To get you started, you can check the documentation: <a href=\"https://developers.google.com/maps/documentation/places/android-sdk/place-details\" rel=\"nofollow noreferrer\">developers.google.com/maps/documentation/places/android-sdk/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":9366771,"reputation":11,"user_id":6951415,"display_name":"Bill"},"score":0,"creation_date":1648490643,"post_id":71520424,"comment_id":126632049,"body_markdown":"@jabamataro I want to use only the place id, not lat/lng","body":"@jabamataro I want to use only the place id, not lat/lng"},{"owner":{"account_id":15620104,"reputation":1184,"user_id":11269204,"display_name":"jabamataro"},"score":0,"creation_date":1648540212,"post_id":71520424,"comment_id":126643149,"body_markdown":"Its not possible, you cannot center a map in Maps SDK for Android/iOS using only a `place_id`. You need to use additional services such as Places Details to get the coordinates of that `place_id`","body":"Its not possible, you cannot center a map in Maps SDK for Android/iOS using only a <code>place_id</code>. You need to use additional services such as Places Details to get the coordinates of that <code>place_id</code>"}],"owner":{"account_id":9366771,"reputation":11,"user_id":6951415,"display_name":"Bill"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647561854,"creation_date":1647561854,"question_id":71520424,"body_markdown":"I use google maps in my apps for Android-iOS-WebJS.\r\n\r\nIn web version I can load the map inside an iframe using only the place id: \r\n```\r\n  &lt;iframe\r\n  width=&quot;100%&quot;\r\n  height=&quot;199px&quot;\r\n  style={{border:&#39;0px&#39;}}\r\n  loading=&quot;lazy&quot;\r\n  frameborder=&quot;0&quot;\r\n  allowFullScreen=&quot;&quot;\r\n  src={&#39;https://www.google.com/maps/embed/v1/place?q=place_id:$placeid&amp;key=$key&amp;maptype=roadmap&amp;zoom=16&#39;}&gt;\r\n&lt;/iframe&gt;\r\n```\r\nHow can i use the place id instead of lat/lng in Android/iOS Google Maps SDK? Is it possible?","title":"Set marker to place id in Android-iOS Google Maps SDK","body":"<p>I use google maps in my apps for Android-iOS-WebJS.</p>\n<p>In web version I can load the map inside an iframe using only the place id:</p>\n<pre><code>  &lt;iframe\n  width=&quot;100%&quot;\n  height=&quot;199px&quot;\n  style={{border:'0px'}}\n  loading=&quot;lazy&quot;\n  frameborder=&quot;0&quot;\n  allowFullScreen=&quot;&quot;\n  src={'https://www.google.com/maps/embed/v1/place?q=place_id:$placeid&amp;key=$key&amp;maptype=roadmap&amp;zoom=16'}&gt;\n&lt;/iframe&gt;\n</code></pre>\n<p>How can i use the place id instead of lat/lng in Android/iOS Google Maps SDK? Is it possible?</p>\n"},{"tags":["java","openssl","walmart-api"],"comments":[{"owner":{"account_id":10150412,"reputation":182,"user_id":7497211,"display_name":"Christopher Hoffman"},"score":0,"creation_date":1643653167,"post_id":70930861,"comment_id":125392363,"body_markdown":"Is the URL correct?","body":"Is the URL correct?"},{"owner":{"account_id":106997,"reputation":15570,"user_id":284714,"accept_rate":64,"display_name":"Berry Blue"},"score":0,"creation_date":1643653741,"post_id":70930861,"comment_id":125392612,"body_markdown":"Yes, that is a readonly value. It&#39;s auto-set.","body":"Yes, that is a readonly value. It&#39;s auto-set."},{"owner":{"account_id":1342732,"reputation":102,"user_id":1284105,"display_name":"kushan85"},"score":1,"creation_date":1643670936,"post_id":70930861,"comment_id":125398212,"body_markdown":"Looks like the URL is prod url and the consumer that you generated is stage consumer. Can you confirm ?","body":"Looks like the URL is prod url and the consumer that you generated is stage consumer. Can you confirm ?"}],"answers":[{"tags":[],"owner":{"account_id":24560779,"reputation":11,"user_id":18468557,"display_name":"IOSupport"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647561226,"creation_date":1647318320,"answer_id":71477054,"question_id":70930861,"body_markdown":"The 401 Unauthorized is an HTTP status code error that represents the request sent by the client to the server lacks valid authentication\r\nSeems like one of the mandatory header params is missing while consuming api.\r\n\r\nRequest to please kindly cross check whether all of the mandatory header params are there as part of request.\r\n\r\nWe should have these below mentioned mandatory header params as part of the request.\r\n\r\nOne or more header params might be missing in the req.\r\n\r\n```\r\nWM_CONSUMER.ID\r\nWM_SEC.KEY_VERSION\r\nWM_CONSUMER.INTIMESTAMP\r\nWM_SEC.AUTH_SIGNATURE\r\n```\r\n\r\nwe need all of the header params and we can generate using below mentioned links.\r\n\r\nGenerating Auth Signature (WM_CONSUMER.INTIMESTAMP, WM_SEC.AUTH_SIGNATURE)\r\nWe can generate Auth Signature by using below mentioned link.\r\n\r\nWe will have to run below mentioned sample code to generate Auth Signature as seen below. This is going to generate timestamp and valid Auth Signature to consume APIs.\r\n\r\nTime Stamp will be valid for couple of mins only. If it expires, we will have to regenerate the same\r\nhttps://www.walmart.io/docs/affiliate/onboarding-guide\r\n\r\nGenerating consumer ID (WM_CONSUMER_ID)\r\n\r\nRequest to please kindly follow below steps to generate consumer ID\r\n\r\nCreate an account on Walmart IO platform - https://walmart.io by clicking on the user icon just before the search box.        \r\n\r\nLogin to the account and accept &quot;Terms of Use&quot;\r\n\r\nClick on &quot;Create Your Application&quot; to create a new application and fill in appropriate details.        \r\n\r\nUse this tutorial to generate two sets of public/private keys - https://walmart.io/key-tutorial       \r\nOne set will be used for production.        \r\nOther set will be used for stage.\r\n\r\nUpload both public keys using - `https://walmart.io/key-upload?app_name=&lt;your app name&gt;`\r\n\r\nConsumer ID will be generated for both sets for prod and stage which can be seen on the dashboard - https://walmart.io/dashboard.  \r\n \r\nRegards,\r\nFirdos\r\nIOSupport","title":"Cannot make requests to Walmart API","body":"<p>The 401 Unauthorized is an HTTP status code error that represents the request sent by the client to the server lacks valid authentication\nSeems like one of the mandatory header params is missing while consuming api.</p>\n<p>Request to please kindly cross check whether all of the mandatory header params are there as part of request.</p>\n<p>We should have these below mentioned mandatory header params as part of the request.</p>\n<p>One or more header params might be missing in the req.</p>\n<pre><code>WM_CONSUMER.ID\nWM_SEC.KEY_VERSION\nWM_CONSUMER.INTIMESTAMP\nWM_SEC.AUTH_SIGNATURE\n</code></pre>\n<p>we need all of the header params and we can generate using below mentioned links.</p>\n<p>Generating Auth Signature (WM_CONSUMER.INTIMESTAMP, WM_SEC.AUTH_SIGNATURE)\nWe can generate Auth Signature by using below mentioned link.</p>\n<p>We will have to run below mentioned sample code to generate Auth Signature as seen below. This is going to generate timestamp and valid Auth Signature to consume APIs.</p>\n<p>Time Stamp will be valid for couple of mins only. If it expires, we will have to regenerate the same\n<a href=\"https://www.walmart.io/docs/affiliate/onboarding-guide\" rel=\"nofollow noreferrer\">https://www.walmart.io/docs/affiliate/onboarding-guide</a></p>\n<p>Generating consumer ID (WM_CONSUMER_ID)</p>\n<p>Request to please kindly follow below steps to generate consumer ID</p>\n<p>Create an account on Walmart IO platform - <a href=\"https://walmart.io\" rel=\"nofollow noreferrer\">https://walmart.io</a> by clicking on the user icon just before the search box.</p>\n<p>Login to the account and accept &quot;Terms of Use&quot;</p>\n<p>Click on &quot;Create Your Application&quot; to create a new application and fill in appropriate details.</p>\n<p>Use this tutorial to generate two sets of public/private keys - <a href=\"https://walmart.io/key-tutorial\" rel=\"nofollow noreferrer\">https://walmart.io/key-tutorial</a><br />\nOne set will be used for production.<br />\nOther set will be used for stage.</p>\n<p>Upload both public keys using - <code>https://walmart.io/key-upload?app_name=&lt;your app name&gt;</code></p>\n<p>Consumer ID will be generated for both sets for prod and stage which can be seen on the dashboard - <a href=\"https://walmart.io/dashboard\" rel=\"nofollow noreferrer\">https://walmart.io/dashboard</a>.</p>\n<p>Regards,\nFirdos\nIOSupport</p>\n"}],"owner":{"account_id":106997,"reputation":15570,"user_id":284714,"accept_rate":64,"display_name":"Berry Blue"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":871,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647561226,"creation_date":1643652934,"question_id":70930861,"body_markdown":"I&#39;m trying to make a request to the Walmart API here.\r\nhttps://walmart.io/docs/affiliate/product-lookup\r\n\r\nHere are the steps I&#39;m following.\r\n\r\n1) I create my application here on Walmart and uploaded my public key. I created my keys following these instructions on Mac.\r\nhttps://walmart.io/key-tutorial\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2) I followed this code to generate my signature.\r\nhttps://walmart.io/docs/affiliate/onboarding-guide\r\n\r\nI plug in all these values into the API explorer, but I keep getting the same error.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIs there an extra step I&#39;m missing?\r\n\r\n  [1]: https://i.stack.imgur.com/XQwig.png\r\n  [2]: https://i.stack.imgur.com/06t2K.png\r\n  [3]: https://i.stack.imgur.com/JDV32.png","title":"Cannot make requests to Walmart API","body":"<p>I'm trying to make a request to the Walmart API here.\n<a href=\"https://walmart.io/docs/affiliate/product-lookup\" rel=\"nofollow noreferrer\">https://walmart.io/docs/affiliate/product-lookup</a></p>\n<p>Here are the steps I'm following.</p>\n<ol>\n<li>I create my application here on Walmart and uploaded my public key. I created my keys following these instructions on Mac.\n<a href=\"https://walmart.io/key-tutorial\" rel=\"nofollow noreferrer\">https://walmart.io/key-tutorial</a></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/XQwig.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XQwig.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>I followed this code to generate my signature.\n<a href=\"https://walmart.io/docs/affiliate/onboarding-guide\" rel=\"nofollow noreferrer\">https://walmart.io/docs/affiliate/onboarding-guide</a></li>\n</ol>\n<p>I plug in all these values into the API explorer, but I keep getting the same error.</p>\n<p><a href=\"https://i.stack.imgur.com/06t2K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/06t2K.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/JDV32.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JDV32.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there an extra step I'm missing?</p>\n"},{"tags":["java","android","camera"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1647330544,"post_id":71478555,"comment_id":126337635,"body_markdown":"please add the error inside the ```","body":"please add the error inside the ```"},{"owner":{"account_id":8726421,"reputation":821,"user_id":15119028,"display_name":"Junaid Khalid"},"score":0,"creation_date":1647330888,"post_id":71478555,"comment_id":126337739,"body_markdown":"try to request permission in `recordVideo`","body":"try to request permission in <code>recordVideo</code>"},{"owner":{"account_id":15646618,"reputation":11,"user_id":11288662,"display_name":"Novaes"},"score":0,"creation_date":1647387110,"post_id":71478555,"comment_id":126357400,"body_markdown":"I have requested all permissions. The call back message is &quot;Video has been saved successfully&quot;. but nothing has been saved.","body":"I have requested all permissions. The call back message is &quot;Video has been saved successfully&quot;. but nothing has been saved."},{"owner":{"account_id":15646618,"reputation":11,"user_id":11288662,"display_name":"Novaes"},"score":0,"creation_date":1647387164,"post_id":71478555,"comment_id":126357411,"body_markdown":"@SambhavKhandelwal not sure about what is the error! \nE/ion: ioctl c0044901 failed with code -1: Invalid argument\nE/IMGSRV: :0: ObtainWindowParams: *piMaxBufCount is 0\nE/IMGSRV: :0: ObtainWindowParams: *piMaxBufCount is 64\nI&#39;m new in this mobile world.... I&#39;m sorry.","body":"@SambhavKhandelwal not sure about what is the error!  E/ion: ioctl c0044901 failed with code -1: Invalid argument E/IMGSRV: :0: ObtainWindowParams: *piMaxBufCount is 0 E/IMGSRV: :0: ObtainWindowParams: *piMaxBufCount is 64 I&#39;m new in this mobile world.... I&#39;m sorry."}],"owner":{"account_id":15646618,"reputation":11,"user_id":11288662,"display_name":"Novaes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":714,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1647561010,"creation_date":1647330307,"question_id":71478555,"body_markdown":"I&#39;m trying to learn how to make android apps. \r\nI adapted a code to take pictures and videos. Not using the camera app, but my own. I got this code to image and video.\r\n\r\n    @SuppressLint(&quot;RestrictedApi&quot;)\r\n    private void recordVideo() {\r\n        if (videoCapture != null) {\r\n\r\n            long timestamp = System.currentTimeMillis();\r\n\r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, timestamp);\r\n            contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;video/mp4&quot;);\r\n\r\n            try {\r\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\r\n                    // TODO: Consider calling\r\n                    //    ActivityCompat#requestPermissions\r\n                    // here to request the missing permissions, and then overriding\r\n                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                    //                                          int[] grantResults)\r\n                    // to handle the case where the user grants the permission. See the documentation\r\n                    // for ActivityCompat#requestPermissions for more details.\r\n                    return;\r\n                }\r\n                videoCapture.startRecording(\r\n                        new VideoCapture.OutputFileOptions.Builder(\r\n                                getContentResolver(),\r\n                                MediaStore.Video.Media.EXTERNAL_CONTENT_URI,\r\n                                contentValues\r\n                        ).build(),\r\n                        getExecutor(),\r\n                        new VideoCapture.OnVideoSavedCallback() {\r\n                            @Override\r\n                            public void onVideoSaved(@NonNull VideoCapture.OutputFileResults outputFileResults) {\r\n                                Toast.makeText(MainActivity.this, &quot;Video has been saved successfully.&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n\r\n                            @Override\r\n                            public void onError(int videoCaptureError, @NonNull String message, @Nullable Throwable cause) {\r\n                                Toast.makeText(MainActivity.this, &quot;Error saving video: &quot; + message, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                );\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    private void capturePhoto() {\r\n        long timestamp = System.currentTimeMillis();\r\n\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, timestamp);\r\n        contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;);\r\n\r\n\r\n\r\n        imageCapture.takePicture(\r\n                new ImageCapture.OutputFileOptions.Builder(\r\n                        getContentResolver(),\r\n                        MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\r\n                        contentValues\r\n                ).build(),\r\n                getExecutor(),\r\n                new ImageCapture.OnImageSavedCallback() {\r\n                    @Override\r\n                    public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\r\n                        Toast.makeText(MainActivity.this, &quot;Photo has been saved successfully.&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onError(@NonNull ImageCaptureException exception) {\r\n                        Toast.makeText(MainActivity.this, &quot;Error saving photo: &quot; + exception.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n        );\r\n\r\n    }\r\n\r\nEverything looks fine, but when I hit the Picture Button or Recording Button, I have a positive answer, that my picture/video have been taken, but there is nothing on my files.\r\nWhen I checkk the Android Studio Run, I find this message:\r\n\r\n    03/15 16:37:47: Launching &#39;app&#39; on OUKITEL WP7. App restart successful without requiring a re-install. $ adb shell am start -n &quot;com.palfs.cameraxinjava/com.palfs.cameraxinjava.MainActivity&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER Connected to process 4436 on device &#39;oukitel-wp7-OUKITELWP7006944&#39;. Capturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page. I/s.cameraxinjav: Late-enabling -Xcheck:jni W/re-initialized&gt;: type=1400 audit(0.0:19902): avc: denied { read } for name=&quot;u:object_r:mtk_amslog_prop:s0&quot; dev=&quot;tmpfs&quot; ino=14068 scontext=u:r:untrusted_app:s0:c109,c256,c512,c768 tcontext=u:object_r:mtk_amslog_prop:s0 tclass=file permissive=0 E/libc: **Access denied finding property &quot;persist.vendor.sys.activitylog&quot;** W/s.cameraxinjav: Accessing hidden method Landroid/graphics/drawable/Drawable;-&gt;getOpticalInsets()Landroid/graphics/Insets; (light greylist, linking) W/s.cameraxinjav: Accessing hidden field Landroid/graphics/Insets;-&gt;left:I (light greylist, linking) W/s.cameraxinjav: Accessing hidden field Landroid/graphics/Insets;-&gt;right:I (light greylist, linking) W/s.cameraxinjav: Accessing hidden field Landroid/graphics/Insets;-&gt;top:I (light greylist, linking) W/s.cameraxinjav: Accessing hidden field Landroid/graphics/Insets;-&gt;bottom:I (light greylist, linking) W/s.cameraxinjav: Accessing hidden field Landroid/view/WindowInsets;-&gt;CONSUMED:Landroid/view/WindowInsets; (light greylist, reflection) W/s.cameraxinjav: Accessing hidden method Landroid/view/View;-&gt;getAccessibilityDelegate()Landroid/view/View$AccessibilityDelegate; (light greylist, linking) W/s.cameraxinjav: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (light greylist, reflection) W/s.cameraxinjav: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (light greylist, reflection) I/CameraManagerGlobal: Connecting to camera service D/OpenGLRenderer: Skia GL Pipeline I/SurfaceFactory: [static] sSurfaceFactory = com.mediatek.view.impl.SurfaceFactoryImpl@48e6a2a D/CameraRepository: Added camera: 0 D/ViewRootImpl[MainActivity]: hardware acceleration = true , fakeHwAccelerated = false, sRendererDisabled = false, forceHwAccelerated = false, sSystemRendererDisabled = false V/PhoneWindow: DecorView setVisiblity: visibility = 0, Parent = android.view.ViewRootImpl@c2e0f91, this = DecorView@380fef6[MainActivity] I/Camera2CameraInfo: Device Level: INFO_SUPPORTED_HARDWARE_LEVEL_FULL D/CameraRepository: Added camera: 1 I/Camera2CameraInfo: Device Level: INFO_SUPPORTED_HARDWARE_LEVEL_FULL D/CameraRepository: Added camera: 2 I/Camera2CameraInfo: Device Level: INFO_SUPPORTED_HARDWARE_LEVEL_FULL D/CameraValidator: Verifying camera lens facing on WP7, lensFacingInteger: null W/s.cameraxinjav: Accessing hidden method Landroid/graphics/Insets;-&gt;of(IIII)Landroid/graphics/Insets; (light greylist, linking) D/Surface: Surface::allocateBuffers(this=0x7730e97000) I/ConfigStore: android::hardware::configstore::V1_0::ISurfaceFlingerConfigs::hasWideColorDisplay retrieved: 0 I/ConfigStore: android::hardware::configstore::V1_0::ISurfaceFlingerConfigs::hasHDRDisplay retrieved: 0 I/OpenGLRenderer: Initialized EGL, version 1.4 D/OpenGLRenderer: Swap behavior 2 I/GED: [GT]_get_procNameprocess pid(4436) I/GED: [GT]_getprocess name(com.palfs.cameraxinjava) D/Surface: Surface::connect(this=0x7730e97000,api=1) E/IMGSRV: :0: ObtainWindowParams: *piMaxBufCount is 0 I/libEGL: [MTK Game SDK] low_latency_mode(0) pid(-1) property(-1) D/DeferrableSurface: Surface created[total_surfaces=1, used_surfaces=0](androidx.camera.core.SurfaceRequest$2@34f50ea} D/CameraOrientationUtil: getRelativeImageRotation: destRotationDegrees=0, sourceRotationDegrees=90, isOppositeFacing=true, result=90 I/BufferQueue: [unnamed-4436-0](this:0x771e0d3800,id:0,api:0,p:-1,c:-1) BufferQueue core=(4436:com.palfs.cameraxinjava) E/libc: **Access denied finding property &quot;vendor.debug.sf.stc_interval&quot; E/libc: Access denied finding property &quot;vendor.debug.bq.dump&quot;** W/s.cameraxinjava: type=1400 audit(0.0:19903): avc: denied { read } for name=&quot;u:object_r:graphics_debug_prop:s0&quot; dev=&quot;tmpfs&quot; ino=14043 scontext=u:r:untrusted_app:s0:c109,c256,c512,c768 tcontext=u:object_r:graphics_debug_prop:s0 tclass=file permissive=0 W/s.cameraxinjava: type=1400 audit(0.0:19904): avc: denied { read } for name=&quot;u:object_r:debug_bq_dump_prop:s0&quot; dev=&quot;tmpfs&quot; ino=14004 scontext=u:r:untrusted_app:s0:c109,c256,c512,c768 tcontext=u:object_r:debug_bq_dump_prop:s0 tclass=file permissive=0 I/BufferQueueConsumer: [unnamed-4436-0](this:0x771e0d3800,id:0,api:0,p:-1,c:4436) connect(C): consumer=(4436:com.palfs.cameraxinjava) controlledByApp=true W/s.cameraxinjava: type=1400 audit(0.0:19905): avc: denied { read } for name=&quot;u:object_r:debug_bq_dump_prop:s0&quot; dev=&quot;tmpfs&quot; ino=14004 scontext=u:r:untrusted_app:s0:c109,c256,c512,c768 tcontext=u:object_r:debug_bq_dump_prop:s0 tclass=file permissive=0 W/s.cameraxinjava: type=1400 audit(0.0:19906): avc: denied { read } for name=&quot;u:object_r:graphics_debug_prop:s0&quot; dev=&quot;tmpfs&quot; ino=14043 scontext=u:r:untrusted_app:s0:c109,c256,c512,c768 tcontext=u:object_r:graphics_debug_prop:s0 tclass=file permissive=0 E/libc: Access denied finding property &quot;vendor.debug.bq.dump&quot; I/BufferQueueConsumer: [unnamed-4436-0](this:0x771e0d3800,id:0,api:0,p:-1,c:4436) setConsumerName: unnamed-4436-0 E/libc: Access denied finding property &quot;vendor.debug.bq.line&quot; E/libc: Access denied finding property &quot;vendor.debug.bq.dump&quot; I/BufferQueueConsumer: [ImageReader-3264x2448f100m2-4436-0](this:0x771e0d3800,id:0,api:0,p:-1,c:4436) setConsumerName: ImageReader-3264x2448f100m2-4436-0 E/libc: Access denied finding property &quot;vendor.debug.bq.line&quot; I/BufferQueueConsumer: [ImageReader-3264x2448f100m2-4436-0](this:0x771e0d3800,id:0,api:0,p:-1,c:4436) setDefaultBufferSize: width=3264 height=2448 D/DeferrableSurface: Surface created[total_surfaces=2, used_surfaces=0](androidx.camera.core.impl.ImmediateSurface@fc63551} D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use case ImageCapture:androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f ACTIVE D/UseCaseAttachState: Active and attached use case: [] for camera: 0 I/OMXClient: IOmx service obtained I/OMXClient: IOmx service obtained I/OMXClient: IOmx service obtained W/OMXUtils: do not know color format 0x7f000200 = 2130706944 W/OMXUtils: do not know color format 0x7f000789 = 2130708361 I/ACodec_vilte: set I frame rate I/ACodec_vilte: set framerate I/ACodec_vilte: setMTKParameters, width: 1920 I/ACodec_vilte: setMTKParameters, height: 1080 I/ACodec_roi: + setRoiParameters 263 I/ACodec_roi: - setRoiParameters 269 I/ACodec: setupAVCEncoderParameters with [profile: High] [level: Level41] I/ACodec: [OMX.MTK.VIDEO.ENCODER.AVC] cannot encode color aspects. Ignoring. I/ACodec: [OMX.MTK.VIDEO.ENCODER.AVC] cannot encode HDR static metadata. Ignoring. I/ACodec: setupVideoEncoder succeeded I/ACodec_vilte: set I frame rate I/ACodec_vilte: set framerate I/ACodec_vilte: setMTKParameters, width: 1920 I/ACodec_vilte: setMTKParameters, height: 1080 I/ACodec_roi: + setRoiParameters 263 I/ACodec_roi: - setRoiParameters 269 W/OMXUtils: do not know color format 0x7f000789 = 2130708361 W/H2BGraphicBufferProducer: getConsumerUsage is not fully supported D/DeferrableSurface: Surface created[total_surfaces=3, used_surfaces=0](androidx.camera.core.impl.ImmediateSurface@1d51342} I/OMXClient: IOmx service obtained I/ACodec_roi: + setRoiParameters 263 I/ACodec_roi: - setRoiParameters 269 D/AudioRecord: set(): 0x771e07f900, inputSource 1, sampleRate 48000, format 0x1, channelMask 0xc, frameCount 3840, notificationFrames 0, sessionId 0, transferType 0, flags 0, opPackageName com.palfs.cameraxinjava uid -1, pid -1 D/AudioRecord: openRecord_l: 0x771e07f900, mCblk = 0x771a47e000 I/VideoCapture: source: 1 audioSampleRate: 48000 channelConfig: 12 audioFormat: 2 bufferSize: 7680 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use case androidx.camera.core.VideoCapture@295f763 ACTIVE D/UseCaseAttachState: Active and attached use case: [] for camera: 0 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use case Preview:androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e ACTIVE D/UseCaseAttachState: Active and attached use case: [] for camera: 0 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use case ImageCapture:androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f ACTIVE D/UseCaseAttachState: Active and attached use case: [] for camera: 0 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use case androidx.camera.core.VideoCapture@295f763 ACTIVE D/UseCaseAttachState: Active and attached use case: [] for camera: 0 D/UseCaseAttachState: Active and attached use case: [] for camera: 0 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use cases [Preview:androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e, ImageCapture:androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f, androidx.camera.core.VideoCapture@295f763] now ATTACHED D/UseCaseAttachState: All use case: [androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e135326493, androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f205857170, androidx.camera.core.VideoCapture-9dc07c5c-a701-4cad-b1ec-7e1bad6d23cd43382627] for camera: 0 D/Camera2CameraImpl: mMeteringRepeating is ATTACHED, SessionConfig Surfaces: 3, CaptureConfig Surfaces: 1 D/UseCaseAttachState: Active and attached use case: [androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e135326493, androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f205857170, androidx.camera.core.VideoCapture-9dc07c5c-a701-4cad-b1ec-7e1bad6d23cd43382627] for camera: 0 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Resetting Capture Session D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Releasing session in state INITIALIZED D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Attempting to force open the camera. D/CameraStateRegistry: tryOpenCamera(Camera@dca1fc9[id=0]) [Available Cameras: 1, Already Open: false (Previous state: null)] --&gt; SUCCESS D/CameraStateRegistry: Recalculating open cameras:\r\n        Camera                                       State                 \r\n        -------------------------------------------------------------------\r\n        Camera@dca1fc9[id=0]                         OPENING               \r\n        Camera@2db1da[id=1]                          UNKNOWN               \r\n        Camera@b5a2f94[id=2]                         UNKNOWN               \r\n        -------------------------------------------------------------------\r\n        Open count: 1 (Max allowed: 1) D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Opening camera. D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Transitioning camera internal state: INITIALIZED --&gt; OPENING D/CameraStateMachine: New public camera state CameraState{type=OPENING, error=null} from OPENING and null D/CameraStateMachine: Publishing new public camera state CameraState{type=OPENING, error=null} D/UseCaseAttachState: All use case: [androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e135326493, androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f205857170, androidx.camera.core.VideoCapture-9dc07c5c-a701-4cad-b1ec-7e1bad6d23cd43382627] for camera: 0 E/IMGSRV: :0: ObtainWindowParams: *piMaxBufCount is 64 E/IMGSRV: :0: ObtainWindowParams: *piMaxBufCount is 64 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use case Preview:androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e ACTIVE D/UseCaseAttachState: Active and attached use case: [androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e135326493, androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f205857170, androidx.camera.core.VideoCapture-9dc07c5c-a701-4cad-b1ec-7e1bad6d23cd43382627] for camera: 0 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use case ImageCapture:androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f ACTIVE D/UseCaseAttachState: Active and attached use case: [androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e135326493, androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f205857170, androidx.camera.core.VideoCapture-9dc07c5c-a701-4cad-b1ec-7e1bad6d23cd43382627] for camera: 0 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use case androidx.camera.core.VideoCapture@295f763 ACTIVE D/UseCaseAttachState: Active and attached use case: [androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e135326493, androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f205857170, androidx.camera.core.VideoCapture-9dc07c5c-a701-4cad-b1ec-7e1bad6d23cd43382627] for camera: 0 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} CameraDevice.onOpened() D/PreviewView: Surface requested by Preview. D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Transitioning camera internal state: OPENING --&gt; OPENED D/CameraStateRegistry: Recalculating open cameras:\r\n        Camera                                       State                 \r\n        -------------------------------------------------------------------\r\n        Camera@dca1fc9[id=0]                         OPEN                  \r\n        Camera@2db1da[id=1]                          UNKNOWN               \r\n        Camera@b5a2f94[id=2]                         UNKNOWN               \r\n        -------------------------------------------------------------------\r\n        Open count: 1 (Max allowed: 1) D/CameraStateMachine: New public camera state CameraState{type=OPEN, error=null} from OPEN and null D/CameraStateMachine: Publishing new public camera state CameraState{type=OPEN, error=null} D/UseCaseAttachState: All use case: [androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e135326493, androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f205857170, androidx.camera.core.VideoCapture-9dc07c5c-a701-4cad-b1ec-7e1bad6d23cd43382627] for camera: 0 D/UseCaseAttachState: Active and attached use case: [androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e135326493, androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f205857170, androidx.camera.core.VideoCapture-9dc07c5c-a701-4cad-b1ec-7e1bad6d23cd43382627] for camera: 0 D/SurfaceViewImpl: Surface created. D/SurfaceViewImpl: Surface changed. Size: 1600x1200 D/PreviewView: Preview transformation info updated. TransformationInfo{cropRect=Rect(0, 0 - 1600, 1200), rotationDegrees=90, targetRotation=0} D/PreviewTransform: Transformation info set: TransformationInfo{cropRect=Rect(0, 0 - 1600, 1200), rotationDegrees=90, targetRotation=0} 1600x1200 false D/SurfaceViewImpl: Surface set on Preview. D/SyncCaptureSessionBase: [androidx.camera.camera2.internal.SynchronizedCaptureSessionBaseImpl@63e709f] getSurface...done D/CaptureSession: Opening capture session. D/DeferrableSurface: New surface in use[total_surfaces=3, used_surfaces=1](androidx.camera.core.SurfaceRequest$2@34f50ea} D/DeferrableSurface: use count+1, useCount=1 androidx.camera.core.SurfaceRequest$2@34f50ea D/DeferrableSurface: New surface in use[total_surfaces=3, used_surfaces=2](androidx.camera.core.impl.ImmediateSurface@fc63551} D/DeferrableSurface: use count+1, useCount=1 androidx.camera.core.impl.ImmediateSurface@fc63551 D/DeferrableSurface: New surface in use[total_surfaces=3, used_surfaces=3](androidx.camera.core.impl.ImmediateSurface@1d51342} D/DeferrableSurface: use count+1, useCount=1 androidx.camera.core.impl.ImmediateSurface@1d51342 I/BufferQueueProducer: [ImageReader-3264x2448f100m2-4436-0](this:0x771e0d3800,id:0,api:4,p:597,c:4436) connect(P): api=4 producer=(597:???) producerControlledByApp=false W/CameraX-core_ca: type=1400 audit(0.0:19912): avc: denied { search } for name=&quot;597&quot; dev=&quot;proc&quot; ino=17707 scontext=u:r:untrusted_app:s0:c109,c256,c512,c768 tcontext=u:r:cameraserver:s0 tclass=dir permissive=0 W/CameraX-core_ca: type=1400 audit(0.0:19913): avc: denied { read } for name=&quot;u:object_r:graphics_debug_prop:s0&quot; dev=&quot;tmpfs&quot; ino=14043 scontext=u:r:untrusted_app:s0:c109,c256,c512,c768 tcontext=u:object_r:graphics_debug_prop:s0 tclass=file permissive=0 E/libc: Access denied finding property &quot;vendor.debug.bq.line&quot; D/CaptureSession: Attempting to send capture request onConfigured D/CaptureSession: Issuing request for session. D/CaptureSession: CameraCaptureSession.onConfigured() mState=OPENED D/CaptureSession: CameraCaptureSession.onReady() OPENED D/StreamStateObserver: Update Preview stream state to STREAMING W/AMessage: failed to deliver message as target handler 1 is gone. W/AMessage: failed to deliver message as target handler 4 is gone. V/ViewRootImpl: debug enqueueInputEvent: event = MotionEvent { action=ACTION_DOWN, actionButton=0, id[0]=0, x[0]=247.77058, y[0]=2056.1213, toolType[0]=TOOL_TYPE_FINGER, buttonState=0, metaState=0, flags=0x2, edgeFlags=0x0, pointerCount=1, historySize=0, eventTime=167186356, downTime=167186356, deviceId=1, source=0x1002 },processImmediately = true,mProcessInputEventsScheduled = false, this = android.view.ViewRootImpl@c2e0f91 : com.palfs.cameraxinjava/com.palfs.cameraxinjava.MainActivity V/ViewRootImpl: debug enqueueInputEvent: event = MotionEvent { action=ACTION_UP, actionButton=0, id[0]=0, x[0]=242.7752, y[0]=2056.1213, toolType[0]=TOOL_TYPE_FINGER, buttonState=0, metaState=0, flags=0x2, edgeFlags=0x0, pointerCount=1, historySize=0, eventTime=167186489, downTime=167186356, deviceId=1, source=0x1002 },processImmediately = true,mProcessInputEventsScheduled = false, this\r\n    = android.view.ViewRootImpl@c2e0f91 : com.palfs.cameraxinjava/com.palfs.cameraxinjava.MainActivity D/CameraOrientationUtil: getRelativeImageRotation: destRotationDegrees=0, sourceRotationDegrees=90, isOppositeFacing=true, result=90 D/ImageCapture: Send image capture request [current, pending] = [0, 1] D/ImageCapture: issueTakePicture D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Issue capture request D/CaptureSession: Issuing capture request. E/ion: ioctl c0044901 failed with code -1: Invalid argument E/ion: ioctl c0044901 failed with code -1: Invalid argument W/Binder:4436_3: type=1400 audit(0.0:19914): avc: denied { search } for name=&quot;597&quot; dev=&quot;proc&quot; ino=17707 scontext=u:r:untrusted_app:s0:c109,c256,c512,c768 tcontext=u:r:cameraserver:s0 tclass=dir permissive=0 W/ExifInterface: Skip the tag entry since tag number is not defined: 544 W/ExifInterface: Skip the tag entry since tag number is not defined: 545 W/ExifInterface: Skip the tag entry since tag number is not defined: 546 W/ExifInterface: Skip the tag entry since tag number is not defined: 547 W/ExifInterface: Skip the tag entry since tag number is not defined: 548 W/ExifInterface: Skip the tag entry since tag number is not defined: 549 W/ExifInterface: Skip the tag entry since tag number is not defined: 2 W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0 W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0 W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0 W/ExifInterface: Skip the tag entry since tag number is not defined: 544 W/ExifInterface: Skip the tag entry since tag number is not defined: 545 W/ExifInterface: Skip the tag entry since tag number is not defined: 546 W/ExifInterface: Skip the tag entry since tag number is not defined: 547 W/ExifInterface: Skip the tag entry since tag number is not defined: 548 W/ExifInterface: Skip the tag entry since tag number is not defined: 549 W/ExifInterface: Skip the tag entry since tag number is not defined: 2 W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0 W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0 W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0 W/ExifInterface: Skip the tag entry since tag number is not defined: 544 W/ExifInterface: Skip the tag entry since tag number is not defined: 545 W/ExifInterface: Skip the tag entry since tag number is not defined: 546 W/ExifInterface: Skip the tag entry since tag number is not defined: 547 W/ExifInterface: Skip the tag entry since tag number is not defined: 548 W/ExifInterface: Skip the tag entry since tag number is not defined: 549 W/ExifInterface: Skip the tag entry since tag number is not defined: 2 W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0 I/chatty: uid=10109(com.palfs.cameraxinjava) CameraX-camerax identical 1 line W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0 D/ViewRootImpl[Toast]: hardware acceleration = true , fakeHwAccelerated = false, sRendererDisabled = false, forceHwAccelerated = false, sSystemRendererDisabled = false D/Surface: Surface::connect(this=0x772f3f1000,api=1) D/Surface: Surface::allocateBuffers(this=0x772f3f1000) **E/IMGSRV: :0: ObtainWindowParams: *piMaxBufCount is 0 I/libEGL: [MTK Game SDK] low_latency_mode(0) pid(-1) property(-1) E/IMGSRV: :0: ObtainWindowParams: *piMaxBufCount is 64 E/IMGSRV: :0: ObtainWindowParams: *piMaxBufCount is 64 D/Surface: Surface::disconnect(this=0x772f3f1000,api=1) E/ion: ioctl c0044901 failed with code -1: Invalid** argument D/View: [Warning] assignParent to null: this = android.widget.LinearLayout{2b4574d V.E...... ......ID 0,0-808,147}\r\n\r\nWhat could I do to fix it? \r\nThank you very much in advance! ❤️","title":"Android Studio, saving pics and video not working","body":"<p>I'm trying to learn how to make android apps.\nI adapted a code to take pictures and videos. Not using the camera app, but my own. I got this code to image and video.</p>\n<pre><code>@SuppressLint(&quot;RestrictedApi&quot;)\nprivate void recordVideo() {\n    if (videoCapture != null) {\n\n        long timestamp = System.currentTimeMillis();\n\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, timestamp);\n        contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;video/mp4&quot;);\n\n        try {\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\n                // TODO: Consider calling\n                //    ActivityCompat#requestPermissions\n                // here to request the missing permissions, and then overriding\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                //                                          int[] grantResults)\n                // to handle the case where the user grants the permission. See the documentation\n                // for ActivityCompat#requestPermissions for more details.\n                return;\n            }\n            videoCapture.startRecording(\n                    new VideoCapture.OutputFileOptions.Builder(\n                            getContentResolver(),\n                            MediaStore.Video.Media.EXTERNAL_CONTENT_URI,\n                            contentValues\n                    ).build(),\n                    getExecutor(),\n                    new VideoCapture.OnVideoSavedCallback() {\n                        @Override\n                        public void onVideoSaved(@NonNull VideoCapture.OutputFileResults outputFileResults) {\n                            Toast.makeText(MainActivity.this, &quot;Video has been saved successfully.&quot;, Toast.LENGTH_SHORT).show();\n                        }\n\n                        @Override\n                        public void onError(int videoCaptureError, @NonNull String message, @Nullable Throwable cause) {\n                            Toast.makeText(MainActivity.this, &quot;Error saving video: &quot; + message, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n            );\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n}\n\nprivate void capturePhoto() {\n    long timestamp = System.currentTimeMillis();\n\n    ContentValues contentValues = new ContentValues();\n    contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, timestamp);\n    contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;);\n\n\n\n    imageCapture.takePicture(\n            new ImageCapture.OutputFileOptions.Builder(\n                    getContentResolver(),\n                    MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\n                    contentValues\n            ).build(),\n            getExecutor(),\n            new ImageCapture.OnImageSavedCallback() {\n                @Override\n                public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\n                    Toast.makeText(MainActivity.this, &quot;Photo has been saved successfully.&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                @Override\n                public void onError(@NonNull ImageCaptureException exception) {\n                    Toast.makeText(MainActivity.this, &quot;Error saving photo: &quot; + exception.getMessage(), Toast.LENGTH_SHORT).show();\n                }\n            }\n    );\n\n}\n</code></pre>\n<p>Everything looks fine, but when I hit the Picture Button or Recording Button, I have a positive answer, that my picture/video have been taken, but there is nothing on my files.\nWhen I checkk the Android Studio Run, I find this message:</p>\n<pre><code>03/15 16:37:47: Launching 'app' on OUKITEL WP7. App restart successful without requiring a re-install. $ adb shell am start -n &quot;com.palfs.cameraxinjava/com.palfs.cameraxinjava.MainActivity&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER Connected to process 4436 on device 'oukitel-wp7-OUKITELWP7006944'. Capturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page. I/s.cameraxinjav: Late-enabling -Xcheck:jni W/re-initialized&gt;: type=1400 audit(0.0:19902): avc: denied { read } for name=&quot;u:object_r:mtk_amslog_prop:s0&quot; dev=&quot;tmpfs&quot; ino=14068 scontext=u:r:untrusted_app:s0:c109,c256,c512,c768 tcontext=u:object_r:mtk_amslog_prop:s0 tclass=file permissive=0 E/libc: **Access denied finding property &quot;persist.vendor.sys.activitylog&quot;** W/s.cameraxinjav: Accessing hidden method Landroid/graphics/drawable/Drawable;-&gt;getOpticalInsets()Landroid/graphics/Insets; (light greylist, linking) W/s.cameraxinjav: Accessing hidden field Landroid/graphics/Insets;-&gt;left:I (light greylist, linking) W/s.cameraxinjav: Accessing hidden field Landroid/graphics/Insets;-&gt;right:I (light greylist, linking) W/s.cameraxinjav: Accessing hidden field Landroid/graphics/Insets;-&gt;top:I (light greylist, linking) W/s.cameraxinjav: Accessing hidden field Landroid/graphics/Insets;-&gt;bottom:I (light greylist, linking) W/s.cameraxinjav: Accessing hidden field Landroid/view/WindowInsets;-&gt;CONSUMED:Landroid/view/WindowInsets; (light greylist, reflection) W/s.cameraxinjav: Accessing hidden method Landroid/view/View;-&gt;getAccessibilityDelegate()Landroid/view/View$AccessibilityDelegate; (light greylist, linking) W/s.cameraxinjav: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (light greylist, reflection) W/s.cameraxinjav: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (light greylist, reflection) I/CameraManagerGlobal: Connecting to camera service D/OpenGLRenderer: Skia GL Pipeline I/SurfaceFactory: [static] sSurfaceFactory = com.mediatek.view.impl.SurfaceFactoryImpl@48e6a2a D/CameraRepository: Added camera: 0 D/ViewRootImpl[MainActivity]: hardware acceleration = true , fakeHwAccelerated = false, sRendererDisabled = false, forceHwAccelerated = false, sSystemRendererDisabled = false V/PhoneWindow: DecorView setVisiblity: visibility = 0, Parent = android.view.ViewRootImpl@c2e0f91, this = DecorView@380fef6[MainActivity] I/Camera2CameraInfo: Device Level: INFO_SUPPORTED_HARDWARE_LEVEL_FULL D/CameraRepository: Added camera: 1 I/Camera2CameraInfo: Device Level: INFO_SUPPORTED_HARDWARE_LEVEL_FULL D/CameraRepository: Added camera: 2 I/Camera2CameraInfo: Device Level: INFO_SUPPORTED_HARDWARE_LEVEL_FULL D/CameraValidator: Verifying camera lens facing on WP7, lensFacingInteger: null W/s.cameraxinjav: Accessing hidden method Landroid/graphics/Insets;-&gt;of(IIII)Landroid/graphics/Insets; (light greylist, linking) D/Surface: Surface::allocateBuffers(this=0x7730e97000) I/ConfigStore: android::hardware::configstore::V1_0::ISurfaceFlingerConfigs::hasWideColorDisplay retrieved: 0 I/ConfigStore: android::hardware::configstore::V1_0::ISurfaceFlingerConfigs::hasHDRDisplay retrieved: 0 I/OpenGLRenderer: Initialized EGL, version 1.4 D/OpenGLRenderer: Swap behavior 2 I/GED: [GT]_get_procNameprocess pid(4436) I/GED: [GT]_getprocess name(com.palfs.cameraxinjava) D/Surface: Surface::connect(this=0x7730e97000,api=1) E/IMGSRV: :0: ObtainWindowParams: *piMaxBufCount is 0 I/libEGL: [MTK Game SDK] low_latency_mode(0) pid(-1) property(-1) D/DeferrableSurface: Surface created[total_surfaces=1, used_surfaces=0](androidx.camera.core.SurfaceRequest$2@34f50ea} D/CameraOrientationUtil: getRelativeImageRotation: destRotationDegrees=0, sourceRotationDegrees=90, isOppositeFacing=true, result=90 I/BufferQueue: [unnamed-4436-0](this:0x771e0d3800,id:0,api:0,p:-1,c:-1) BufferQueue core=(4436:com.palfs.cameraxinjava) E/libc: **Access denied finding property &quot;vendor.debug.sf.stc_interval&quot; E/libc: Access denied finding property &quot;vendor.debug.bq.dump&quot;** W/s.cameraxinjava: type=1400 audit(0.0:19903): avc: denied { read } for name=&quot;u:object_r:graphics_debug_prop:s0&quot; dev=&quot;tmpfs&quot; ino=14043 scontext=u:r:untrusted_app:s0:c109,c256,c512,c768 tcontext=u:object_r:graphics_debug_prop:s0 tclass=file permissive=0 W/s.cameraxinjava: type=1400 audit(0.0:19904): avc: denied { read } for name=&quot;u:object_r:debug_bq_dump_prop:s0&quot; dev=&quot;tmpfs&quot; ino=14004 scontext=u:r:untrusted_app:s0:c109,c256,c512,c768 tcontext=u:object_r:debug_bq_dump_prop:s0 tclass=file permissive=0 I/BufferQueueConsumer: [unnamed-4436-0](this:0x771e0d3800,id:0,api:0,p:-1,c:4436) connect(C): consumer=(4436:com.palfs.cameraxinjava) controlledByApp=true W/s.cameraxinjava: type=1400 audit(0.0:19905): avc: denied { read } for name=&quot;u:object_r:debug_bq_dump_prop:s0&quot; dev=&quot;tmpfs&quot; ino=14004 scontext=u:r:untrusted_app:s0:c109,c256,c512,c768 tcontext=u:object_r:debug_bq_dump_prop:s0 tclass=file permissive=0 W/s.cameraxinjava: type=1400 audit(0.0:19906): avc: denied { read } for name=&quot;u:object_r:graphics_debug_prop:s0&quot; dev=&quot;tmpfs&quot; ino=14043 scontext=u:r:untrusted_app:s0:c109,c256,c512,c768 tcontext=u:object_r:graphics_debug_prop:s0 tclass=file permissive=0 E/libc: Access denied finding property &quot;vendor.debug.bq.dump&quot; I/BufferQueueConsumer: [unnamed-4436-0](this:0x771e0d3800,id:0,api:0,p:-1,c:4436) setConsumerName: unnamed-4436-0 E/libc: Access denied finding property &quot;vendor.debug.bq.line&quot; E/libc: Access denied finding property &quot;vendor.debug.bq.dump&quot; I/BufferQueueConsumer: [ImageReader-3264x2448f100m2-4436-0](this:0x771e0d3800,id:0,api:0,p:-1,c:4436) setConsumerName: ImageReader-3264x2448f100m2-4436-0 E/libc: Access denied finding property &quot;vendor.debug.bq.line&quot; I/BufferQueueConsumer: [ImageReader-3264x2448f100m2-4436-0](this:0x771e0d3800,id:0,api:0,p:-1,c:4436) setDefaultBufferSize: width=3264 height=2448 D/DeferrableSurface: Surface created[total_surfaces=2, used_surfaces=0](androidx.camera.core.impl.ImmediateSurface@fc63551} D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use case ImageCapture:androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f ACTIVE D/UseCaseAttachState: Active and attached use case: [] for camera: 0 I/OMXClient: IOmx service obtained I/OMXClient: IOmx service obtained I/OMXClient: IOmx service obtained W/OMXUtils: do not know color format 0x7f000200 = 2130706944 W/OMXUtils: do not know color format 0x7f000789 = 2130708361 I/ACodec_vilte: set I frame rate I/ACodec_vilte: set framerate I/ACodec_vilte: setMTKParameters, width: 1920 I/ACodec_vilte: setMTKParameters, height: 1080 I/ACodec_roi: + setRoiParameters 263 I/ACodec_roi: - setRoiParameters 269 I/ACodec: setupAVCEncoderParameters with [profile: High] [level: Level41] I/ACodec: [OMX.MTK.VIDEO.ENCODER.AVC] cannot encode color aspects. Ignoring. I/ACodec: [OMX.MTK.VIDEO.ENCODER.AVC] cannot encode HDR static metadata. Ignoring. I/ACodec: setupVideoEncoder succeeded I/ACodec_vilte: set I frame rate I/ACodec_vilte: set framerate I/ACodec_vilte: setMTKParameters, width: 1920 I/ACodec_vilte: setMTKParameters, height: 1080 I/ACodec_roi: + setRoiParameters 263 I/ACodec_roi: - setRoiParameters 269 W/OMXUtils: do not know color format 0x7f000789 = 2130708361 W/H2BGraphicBufferProducer: getConsumerUsage is not fully supported D/DeferrableSurface: Surface created[total_surfaces=3, used_surfaces=0](androidx.camera.core.impl.ImmediateSurface@1d51342} I/OMXClient: IOmx service obtained I/ACodec_roi: + setRoiParameters 263 I/ACodec_roi: - setRoiParameters 269 D/AudioRecord: set(): 0x771e07f900, inputSource 1, sampleRate 48000, format 0x1, channelMask 0xc, frameCount 3840, notificationFrames 0, sessionId 0, transferType 0, flags 0, opPackageName com.palfs.cameraxinjava uid -1, pid -1 D/AudioRecord: openRecord_l: 0x771e07f900, mCblk = 0x771a47e000 I/VideoCapture: source: 1 audioSampleRate: 48000 channelConfig: 12 audioFormat: 2 bufferSize: 7680 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use case androidx.camera.core.VideoCapture@295f763 ACTIVE D/UseCaseAttachState: Active and attached use case: [] for camera: 0 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use case Preview:androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e ACTIVE D/UseCaseAttachState: Active and attached use case: [] for camera: 0 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use case ImageCapture:androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f ACTIVE D/UseCaseAttachState: Active and attached use case: [] for camera: 0 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use case androidx.camera.core.VideoCapture@295f763 ACTIVE D/UseCaseAttachState: Active and attached use case: [] for camera: 0 D/UseCaseAttachState: Active and attached use case: [] for camera: 0 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use cases [Preview:androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e, ImageCapture:androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f, androidx.camera.core.VideoCapture@295f763] now ATTACHED D/UseCaseAttachState: All use case: [androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e135326493, androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f205857170, androidx.camera.core.VideoCapture-9dc07c5c-a701-4cad-b1ec-7e1bad6d23cd43382627] for camera: 0 D/Camera2CameraImpl: mMeteringRepeating is ATTACHED, SessionConfig Surfaces: 3, CaptureConfig Surfaces: 1 D/UseCaseAttachState: Active and attached use case: [androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e135326493, androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f205857170, androidx.camera.core.VideoCapture-9dc07c5c-a701-4cad-b1ec-7e1bad6d23cd43382627] for camera: 0 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Resetting Capture Session D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Releasing session in state INITIALIZED D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Attempting to force open the camera. D/CameraStateRegistry: tryOpenCamera(Camera@dca1fc9[id=0]) [Available Cameras: 1, Already Open: false (Previous state: null)] --&gt; SUCCESS D/CameraStateRegistry: Recalculating open cameras:\n    Camera                                       State                 \n    -------------------------------------------------------------------\n    Camera@dca1fc9[id=0]                         OPENING               \n    Camera@2db1da[id=1]                          UNKNOWN               \n    Camera@b5a2f94[id=2]                         UNKNOWN               \n    -------------------------------------------------------------------\n    Open count: 1 (Max allowed: 1) D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Opening camera. D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Transitioning camera internal state: INITIALIZED --&gt; OPENING D/CameraStateMachine: New public camera state CameraState{type=OPENING, error=null} from OPENING and null D/CameraStateMachine: Publishing new public camera state CameraState{type=OPENING, error=null} D/UseCaseAttachState: All use case: [androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e135326493, androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f205857170, androidx.camera.core.VideoCapture-9dc07c5c-a701-4cad-b1ec-7e1bad6d23cd43382627] for camera: 0 E/IMGSRV: :0: ObtainWindowParams: *piMaxBufCount is 64 E/IMGSRV: :0: ObtainWindowParams: *piMaxBufCount is 64 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use case Preview:androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e ACTIVE D/UseCaseAttachState: Active and attached use case: [androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e135326493, androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f205857170, androidx.camera.core.VideoCapture-9dc07c5c-a701-4cad-b1ec-7e1bad6d23cd43382627] for camera: 0 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use case ImageCapture:androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f ACTIVE D/UseCaseAttachState: Active and attached use case: [androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e135326493, androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f205857170, androidx.camera.core.VideoCapture-9dc07c5c-a701-4cad-b1ec-7e1bad6d23cd43382627] for camera: 0 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Use case androidx.camera.core.VideoCapture@295f763 ACTIVE D/UseCaseAttachState: Active and attached use case: [androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e135326493, androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f205857170, androidx.camera.core.VideoCapture-9dc07c5c-a701-4cad-b1ec-7e1bad6d23cd43382627] for camera: 0 D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} CameraDevice.onOpened() D/PreviewView: Surface requested by Preview. D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Transitioning camera internal state: OPENING --&gt; OPENED D/CameraStateRegistry: Recalculating open cameras:\n    Camera                                       State                 \n    -------------------------------------------------------------------\n    Camera@dca1fc9[id=0]                         OPEN                  \n    Camera@2db1da[id=1]                          UNKNOWN               \n    Camera@b5a2f94[id=2]                         UNKNOWN               \n    -------------------------------------------------------------------\n    Open count: 1 (Max allowed: 1) D/CameraStateMachine: New public camera state CameraState{type=OPEN, error=null} from OPEN and null D/CameraStateMachine: Publishing new public camera state CameraState{type=OPEN, error=null} D/UseCaseAttachState: All use case: [androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e135326493, androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f205857170, androidx.camera.core.VideoCapture-9dc07c5c-a701-4cad-b1ec-7e1bad6d23cd43382627] for camera: 0 D/UseCaseAttachState: Active and attached use case: [androidx.camera.core.Preview-7534171e-c1c5-4083-9fe2-7442c806478e135326493, androidx.camera.core.ImageCapture-6ec784b0-678f-42ea-9e2c-bb74999cef0f205857170, androidx.camera.core.VideoCapture-9dc07c5c-a701-4cad-b1ec-7e1bad6d23cd43382627] for camera: 0 D/SurfaceViewImpl: Surface created. D/SurfaceViewImpl: Surface changed. Size: 1600x1200 D/PreviewView: Preview transformation info updated. TransformationInfo{cropRect=Rect(0, 0 - 1600, 1200), rotationDegrees=90, targetRotation=0} D/PreviewTransform: Transformation info set: TransformationInfo{cropRect=Rect(0, 0 - 1600, 1200), rotationDegrees=90, targetRotation=0} 1600x1200 false D/SurfaceViewImpl: Surface set on Preview. D/SyncCaptureSessionBase: [androidx.camera.camera2.internal.SynchronizedCaptureSessionBaseImpl@63e709f] getSurface...done D/CaptureSession: Opening capture session. D/DeferrableSurface: New surface in use[total_surfaces=3, used_surfaces=1](androidx.camera.core.SurfaceRequest$2@34f50ea} D/DeferrableSurface: use count+1, useCount=1 androidx.camera.core.SurfaceRequest$2@34f50ea D/DeferrableSurface: New surface in use[total_surfaces=3, used_surfaces=2](androidx.camera.core.impl.ImmediateSurface@fc63551} D/DeferrableSurface: use count+1, useCount=1 androidx.camera.core.impl.ImmediateSurface@fc63551 D/DeferrableSurface: New surface in use[total_surfaces=3, used_surfaces=3](androidx.camera.core.impl.ImmediateSurface@1d51342} D/DeferrableSurface: use count+1, useCount=1 androidx.camera.core.impl.ImmediateSurface@1d51342 I/BufferQueueProducer: [ImageReader-3264x2448f100m2-4436-0](this:0x771e0d3800,id:0,api:4,p:597,c:4436) connect(P): api=4 producer=(597:???) producerControlledByApp=false W/CameraX-core_ca: type=1400 audit(0.0:19912): avc: denied { search } for name=&quot;597&quot; dev=&quot;proc&quot; ino=17707 scontext=u:r:untrusted_app:s0:c109,c256,c512,c768 tcontext=u:r:cameraserver:s0 tclass=dir permissive=0 W/CameraX-core_ca: type=1400 audit(0.0:19913): avc: denied { read } for name=&quot;u:object_r:graphics_debug_prop:s0&quot; dev=&quot;tmpfs&quot; ino=14043 scontext=u:r:untrusted_app:s0:c109,c256,c512,c768 tcontext=u:object_r:graphics_debug_prop:s0 tclass=file permissive=0 E/libc: Access denied finding property &quot;vendor.debug.bq.line&quot; D/CaptureSession: Attempting to send capture request onConfigured D/CaptureSession: Issuing request for session. D/CaptureSession: CameraCaptureSession.onConfigured() mState=OPENED D/CaptureSession: CameraCaptureSession.onReady() OPENED D/StreamStateObserver: Update Preview stream state to STREAMING W/AMessage: failed to deliver message as target handler 1 is gone. W/AMessage: failed to deliver message as target handler 4 is gone. V/ViewRootImpl: debug enqueueInputEvent: event = MotionEvent { action=ACTION_DOWN, actionButton=0, id[0]=0, x[0]=247.77058, y[0]=2056.1213, toolType[0]=TOOL_TYPE_FINGER, buttonState=0, metaState=0, flags=0x2, edgeFlags=0x0, pointerCount=1, historySize=0, eventTime=167186356, downTime=167186356, deviceId=1, source=0x1002 },processImmediately = true,mProcessInputEventsScheduled = false, this = android.view.ViewRootImpl@c2e0f91 : com.palfs.cameraxinjava/com.palfs.cameraxinjava.MainActivity V/ViewRootImpl: debug enqueueInputEvent: event = MotionEvent { action=ACTION_UP, actionButton=0, id[0]=0, x[0]=242.7752, y[0]=2056.1213, toolType[0]=TOOL_TYPE_FINGER, buttonState=0, metaState=0, flags=0x2, edgeFlags=0x0, pointerCount=1, historySize=0, eventTime=167186489, downTime=167186356, deviceId=1, source=0x1002 },processImmediately = true,mProcessInputEventsScheduled = false, this\n= android.view.ViewRootImpl@c2e0f91 : com.palfs.cameraxinjava/com.palfs.cameraxinjava.MainActivity D/CameraOrientationUtil: getRelativeImageRotation: destRotationDegrees=0, sourceRotationDegrees=90, isOppositeFacing=true, result=90 D/ImageCapture: Send image capture request [current, pending] = [0, 1] D/ImageCapture: issueTakePicture D/Camera2CameraImpl: {Camera@dca1fc9[id=0]} Issue capture request D/CaptureSession: Issuing capture request. E/ion: ioctl c0044901 failed with code -1: Invalid argument E/ion: ioctl c0044901 failed with code -1: Invalid argument W/Binder:4436_3: type=1400 audit(0.0:19914): avc: denied { search } for name=&quot;597&quot; dev=&quot;proc&quot; ino=17707 scontext=u:r:untrusted_app:s0:c109,c256,c512,c768 tcontext=u:r:cameraserver:s0 tclass=dir permissive=0 W/ExifInterface: Skip the tag entry since tag number is not defined: 544 W/ExifInterface: Skip the tag entry since tag number is not defined: 545 W/ExifInterface: Skip the tag entry since tag number is not defined: 546 W/ExifInterface: Skip the tag entry since tag number is not defined: 547 W/ExifInterface: Skip the tag entry since tag number is not defined: 548 W/ExifInterface: Skip the tag entry since tag number is not defined: 549 W/ExifInterface: Skip the tag entry since tag number is not defined: 2 W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0 W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0 W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0 W/ExifInterface: Skip the tag entry since tag number is not defined: 544 W/ExifInterface: Skip the tag entry since tag number is not defined: 545 W/ExifInterface: Skip the tag entry since tag number is not defined: 546 W/ExifInterface: Skip the tag entry since tag number is not defined: 547 W/ExifInterface: Skip the tag entry since tag number is not defined: 548 W/ExifInterface: Skip the tag entry since tag number is not defined: 549 W/ExifInterface: Skip the tag entry since tag number is not defined: 2 W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0 W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0 W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0 W/ExifInterface: Skip the tag entry since tag number is not defined: 544 W/ExifInterface: Skip the tag entry since tag number is not defined: 545 W/ExifInterface: Skip the tag entry since tag number is not defined: 546 W/ExifInterface: Skip the tag entry since tag number is not defined: 547 W/ExifInterface: Skip the tag entry since tag number is not defined: 548 W/ExifInterface: Skip the tag entry since tag number is not defined: 549 W/ExifInterface: Skip the tag entry since tag number is not defined: 2 W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0 I/chatty: uid=10109(com.palfs.cameraxinjava) CameraX-camerax identical 1 line W/ExifInterface: Stop reading file since a wrong offset may cause an infinite loop: 0 D/ViewRootImpl[Toast]: hardware acceleration = true , fakeHwAccelerated = false, sRendererDisabled = false, forceHwAccelerated = false, sSystemRendererDisabled = false D/Surface: Surface::connect(this=0x772f3f1000,api=1) D/Surface: Surface::allocateBuffers(this=0x772f3f1000) **E/IMGSRV: :0: ObtainWindowParams: *piMaxBufCount is 0 I/libEGL: [MTK Game SDK] low_latency_mode(0) pid(-1) property(-1) E/IMGSRV: :0: ObtainWindowParams: *piMaxBufCount is 64 E/IMGSRV: :0: ObtainWindowParams: *piMaxBufCount is 64 D/Surface: Surface::disconnect(this=0x772f3f1000,api=1) E/ion: ioctl c0044901 failed with code -1: Invalid** argument D/View: [Warning] assignParent to null: this = android.widget.LinearLayout{2b4574d V.E...... ......ID 0,0-808,147}\n</code></pre>\n<p>What could I do to fix it?\nThank you very much in advance! ❤️</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1647562189,"post_id":71494452,"comment_id":126408783,"body_markdown":"How have you verified that the &quot;path is correct&quot;? What happens if you paste the path into the windows run dialog?","body":"How have you verified that the &quot;path is correct&quot;? What happens if you paste the path into the windows run dialog?"},{"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"score":0,"creation_date":1647568557,"post_id":71494452,"comment_id":126410134,"body_markdown":"Admins don&#39;t have access to user directories by default.","body":"Admins don&#39;t have access to user directories by default."}],"owner":{"account_id":10002562,"reputation":1,"user_id":18481160,"display_name":"nasser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647560929,"creation_date":1647422502,"question_id":71494452,"body_markdown":"I&#39;m developing an API with spring boot.\r\nHere is the function where the error occurs:\r\n\r\n\t@GetMapping(path=&quot;/image/{fileName}&quot;,produces= MimeTypeUtils.IMAGE_PNG_VALUE)\r\n\tpublic byte[] getServerImage(@PathVariable(&quot;fileName&quot;) String fileName) throws IOException{\r\n\t\t\r\n\t    System.out.println(Paths.get(System.getProperty(&quot;user.home&quot;)+&quot;/Bureau/&quot;+fileName)); //to see if the path is correct, it is correct.\r\n\t\treturn Files.readAllBytes(Paths.get(System.getProperty(&quot;user.home&quot;)+&quot;/Bureau/&quot;+fileName));\r\n\t\t\r\n\t}\r\n\r\n\r\nI printed the path to see if it&#39;s correct here :\r\n\r\nC:\\Users\\ENVY\\Bureau\\server1.png\r\n\r\nI thought that it was a privilege problem, I run STS(spring tool suite) as admin and the problem persists.\r\n\r\n```\r\n2022-03-16 10:09:11.634 ERROR 5108 --- [io-8080-exec-10]\r\no.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\r\nservlet [dispatcherServlet] in context with path [] threw exception\r\n\r\njava.nio.file.NoSuchFileException: C:\\Users\\ENVY\\Bureau\\server1.png\r\n\tat\r\njava.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\r\n~[na:na] \tat\r\njava.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n~[na:na] \tat\r\njava.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n~[na:na] \tat\r\njava.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:236)\r\n~[na:na] \tat\r\njava.base/java.nio.file.Files.newByteChannel(Files.java:380) ~[na:na]\r\n\tat java.base/java.nio.file.Files.newByteChannel(Files.java:432)\r\n~[na:na] \tat\r\njava.base/java.nio.file.Files.readAllBytes(Files.java:3288) ~[na:na]\r\n```","title":"no such file exception even though the path is correct in spring framwork","body":"<p>I'm developing an API with spring boot.\nHere is the function where the error occurs:</p>\n<pre><code>@GetMapping(path=&quot;/image/{fileName}&quot;,produces= MimeTypeUtils.IMAGE_PNG_VALUE)\npublic byte[] getServerImage(@PathVariable(&quot;fileName&quot;) String fileName) throws IOException{\n    \n    System.out.println(Paths.get(System.getProperty(&quot;user.home&quot;)+&quot;/Bureau/&quot;+fileName)); //to see if the path is correct, it is correct.\n    return Files.readAllBytes(Paths.get(System.getProperty(&quot;user.home&quot;)+&quot;/Bureau/&quot;+fileName));\n    \n}\n</code></pre>\n<p>I printed the path to see if it's correct here :</p>\n<p>C:\\Users\\ENVY\\Bureau\\server1.png</p>\n<p>I thought that it was a privilege problem, I run STS(spring tool suite) as admin and the problem persists.</p>\n<pre><code>2022-03-16 10:09:11.634 ERROR 5108 --- [io-8080-exec-10]\no.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\nservlet [dispatcherServlet] in context with path [] threw exception\n\njava.nio.file.NoSuchFileException: C:\\Users\\ENVY\\Bureau\\server1.png\n    at\njava.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\n~[na:na]    at\njava.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n~[na:na]    at\njava.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n~[na:na]    at\njava.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:236)\n~[na:na]    at\njava.base/java.nio.file.Files.newByteChannel(Files.java:380) ~[na:na]\n    at java.base/java.nio.file.Files.newByteChannel(Files.java:432)\n~[na:na]    at\njava.base/java.nio.file.Files.readAllBytes(Files.java:3288) ~[na:na]\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication","recaptcha"],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647508510,"creation_date":1647508510,"answer_id":71509705,"question_id":71509553,"body_markdown":"Most of the times while implementing dependencies like: \r\n\r\n    implementation &#39;androidx.browser:browser:1.2.0&#39; \r\n\r\nthe above window pops-up in the browser.\r\n\r\nHere, is a way to resolve it successfully.\r\n\r\n1. In the Google Cloud Console, enable the [Android DeviceCheck API][4] for your project. The default Firebase API Key will be used, and needs to be allowed to access the DeviceCheck API. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2. If you haven&#39;t yet specified your app&#39;s SHA-256 fingerprint, do so from the Settings Page of the Firebase console. Refer to Authenticating Your Client for details on how to get your app&#39;s SHA-256 fingerprint.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eBmWU.png\r\n  [2]: https://i.stack.imgur.com/Q1gbP.png\r\n  [3]: https://firebase.google.com/docs/auth/android/phone-auth#enable-app-verification\r\n  [4]: https://console.cloud.google.com/apis/library/androidcheck.googleapis.com","title":"How to prevent auto switch to website when send otp firebase","body":"<p>Most of the times while implementing dependencies like:</p>\n<pre><code>implementation 'androidx.browser:browser:1.2.0' \n</code></pre>\n<p>the above window pops-up in the browser.</p>\n<p>Here, is a way to resolve it successfully.</p>\n<ol>\n<li>In the Google Cloud Console, enable the <a href=\"https://console.cloud.google.com/apis/library/androidcheck.googleapis.com\" rel=\"nofollow noreferrer\">Android DeviceCheck API</a> for your project. The default Firebase API Key will be used, and needs to be allowed to access the DeviceCheck API.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/eBmWU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eBmWU.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>If you haven't yet specified your app's SHA-256 fingerprint, do so from the Settings Page of the Firebase console. Refer to Authenticating Your Client for details on how to get your app's SHA-256 fingerprint.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Q1gbP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q1gbP.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24587470,"reputation":11,"user_id":18491779,"display_name":"Minh L&#234; Văn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1647560794,"creation_date":1647507719,"question_id":71509553,"body_markdown":"How to use Firebase Authentication to send OTP to phone without show website when click send. I have tried anyway but it always switch to website when i click button Send code.","title":"How to prevent auto switch to website when send otp firebase","body":"<p>How to use Firebase Authentication to send OTP to phone without show website when click send. I have tried anyway but it always switch to website when i click button Send code.</p>\n"},{"tags":["java","spring-boot","maven","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1647363070,"post_id":71481458,"comment_id":126350222,"body_markdown":"no idea. please note that karate 0.9.6 is very old and not supported anymore","body":"no idea. please note that karate 0.9.6 is very old and not supported anymore"}],"answers":[{"tags":[],"owner":{"account_id":17106016,"reputation":460,"user_id":12378094,"display_name":"Yuvarajan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647430279,"creation_date":1647430279,"answer_id":71496330,"question_id":71481458,"body_markdown":" The error **Failed to read artifact descriptor** returned with HTTP 401 indicates an authentication issue. Please re-verify whether the credentials used in the **settings.xml** for the Artifactory repository is correct. Just to rule out it&#39;s not an issue with API key or the encrypted password being used, try using the plain-text password once through your local settings.xml file.","title":"Could not transfer artifact org.jboss.shrinkwrap:shrinkwrap-bom:pom:1.2.3 status: 401 Unauthorized","body":"<p>The error <strong>Failed to read artifact descriptor</strong> returned with HTTP 401 indicates an authentication issue. Please re-verify whether the credentials used in the <strong>settings.xml</strong> for the Artifactory repository is correct. Just to rule out it's not an issue with API key or the encrypted password being used, try using the plain-text password once through your local settings.xml file.</p>\n"}],"owner":{"account_id":24563822,"reputation":1,"user_id":18471210,"display_name":"Anda Dana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647560735,"creation_date":1647343649,"question_id":71481458,"body_markdown":"I have a settings.xml and a JFrog app that contains all dependencies.\r\n\r\nWhen I ran: `mvn clean install` from cmd line I obtain the error:\r\n\r\n    [ERROR] Failed to execute goal on project karate-demo: Could not resolve dependencies for project com.intuit.karate:karate-demo:jar:0.9.6: Failed to collect dependencies at org.springf\r\n    \r\n    ramework.boot:spring-boot-starter-websocket:jar:1.5.16.RELEASE -&gt; org.springframework.boot:spring-boot-starter-web:jar:1.5.16.RELEASE -&gt; org.hibernate:hibernate-validator:jar:5.3.6.Fin\r\n    \r\n    al: Failed to read artifact descriptor for org.hibernate:hibernate-validator:jar:5.3.6.Final: Could not transfer artifact org.jboss.shrinkwrap:shrinkwrap-bom:pom:1.2.3 from/to public_l\r\n    \r\n    ocal (https://aorgartifactoryxxxx/artifactory/mvn-public-local): authentication failed for https://orgartifactoryxxxx/artifactory/mvn-public-local/org/jboss/shrinkwrap\r\n    \r\n    /shrinkwrap-bom/1.2.3/shrinkwrap-bom-1.2.3.pom, status: 401 Unauthorized -&gt; [Help 1]","title":"Could not transfer artifact org.jboss.shrinkwrap:shrinkwrap-bom:pom:1.2.3 status: 401 Unauthorized","body":"<p>I have a settings.xml and a JFrog app that contains all dependencies.</p>\n<p>When I ran: <code>mvn clean install</code> from cmd line I obtain the error:</p>\n<pre><code>[ERROR] Failed to execute goal on project karate-demo: Could not resolve dependencies for project com.intuit.karate:karate-demo:jar:0.9.6: Failed to collect dependencies at org.springf\n\nramework.boot:spring-boot-starter-websocket:jar:1.5.16.RELEASE -&gt; org.springframework.boot:spring-boot-starter-web:jar:1.5.16.RELEASE -&gt; org.hibernate:hibernate-validator:jar:5.3.6.Fin\n\nal: Failed to read artifact descriptor for org.hibernate:hibernate-validator:jar:5.3.6.Final: Could not transfer artifact org.jboss.shrinkwrap:shrinkwrap-bom:pom:1.2.3 from/to public_l\n\nocal (https://aorgartifactoryxxxx/artifactory/mvn-public-local): authentication failed for https://orgartifactoryxxxx/artifactory/mvn-public-local/org/jboss/shrinkwrap\n\n/shrinkwrap-bom/1.2.3/shrinkwrap-bom-1.2.3.pom, status: 401 Unauthorized -&gt; [Help 1]\n</code></pre>\n"},{"tags":["java","deserialization","hazelcast"],"comments":[{"owner":{"account_id":919674,"reputation":14586,"user_id":951609,"accept_rate":60,"display_name":"František Hartman"},"score":0,"creation_date":1647525693,"post_id":71513159,"comment_id":126396780,"body_markdown":"Is `1` the id of your factory? Can you share the full stacktrace (or the relevant part in `com.hazelcast`..)","body":"Is <code>1</code> the id of your factory? Can you share the full stacktrace (or the relevant part in <code>com.hazelcast</code>..)"},{"owner":{"account_id":9477970,"reputation":23,"user_id":7046777,"display_name":"Ivo Š."},"score":0,"creation_date":1647530290,"post_id":71513159,"comment_id":126398921,"body_markdown":"yes, the factory id is 1. added source of the class to the description. I&#39;ll reproduce it again and add more of the stack as well","body":"yes, the factory id is 1. added source of the class to the description. I&#39;ll reproduce it again and add more of the stack as well"},{"owner":{"account_id":919674,"reputation":14586,"user_id":951609,"accept_rate":60,"display_name":"František Hartman"},"score":0,"creation_date":1647532876,"post_id":71513159,"comment_id":126400063,"body_markdown":"Thanks for the update, unfortunately, it doesn&#39;t help much. Is there more by any chance? It should look somewhat like this https://gist.githubusercontent.com/frant-hartm/5f65c1de2ff5a5428ff7f4af4191cad8/raw/2505934226f6cc79ee1ec1287816eb59c312b65e/hazelcast-exception","body":"Thanks for the update, unfortunately, it doesn&#39;t help much. Is there more by any chance? It should look somewhat like this <a href=\"https://gist.githubusercontent.com/frant-hartm/5f65c1de2ff5a5428ff7f4af4191cad8/raw/2505934226f6cc79ee1ec1287816eb59c312b65e/hazelcast-exception\" rel=\"nofollow noreferrer\">gist.githubusercontent.com/frant-hartm/&hellip;</a>"},{"owner":{"account_id":9477970,"reputation":23,"user_id":7046777,"display_name":"Ivo Š."},"score":0,"creation_date":1647541720,"post_id":71513159,"comment_id":126403333,"body_markdown":"managed to reproduce the exact issue. full stacktrace up to the point in our code is here https://gist.github.com/ismajstrla/e2f35d781794178cadebe8fb48dc7704 . Hope it does help :)","body":"managed to reproduce the exact issue. full stacktrace up to the point in our code is here <a href=\"https://gist.github.com/ismajstrla/e2f35d781794178cadebe8fb48dc7704\" rel=\"nofollow noreferrer\">gist.github.com/ismajstrla/e2f35d781794178cadebe8fb48dc7704</a> . Hope it does help :)"},{"owner":{"account_id":919674,"reputation":14586,"user_id":951609,"accept_rate":60,"display_name":"František Hartman"},"score":0,"creation_date":1647640924,"post_id":71513159,"comment_id":126430343,"body_markdown":"Unfortunately, I wasn&#39;t able to reproduce it - what I tried: in client-server deployment, add entries from the client, serialized using IdentifiedDataSerializable, then calling forEach on the map. I am happy to look further into it if you provide a reproducer.","body":"Unfortunately, I wasn&#39;t able to reproduce it - what I tried: in client-server deployment, add entries from the client, serialized using IdentifiedDataSerializable, then calling forEach on the map. I am happy to look further into it if you provide a reproducer."}],"owner":{"account_id":9477970,"reputation":23,"user_id":7046777,"display_name":"Ivo Š."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647559927,"creation_date":1647523794,"question_id":71513159,"body_markdown":"We have an application connecting as client to cluster of Hazelcast servers. Hazelcast version used is 5.1 on both client and servers. \r\nWe have a `IMap&lt;Long, Product&gt;` that has been populated previously without problem to the cluster. But when we try to retrieve a value from the `IMap`, it results in an exception\r\n\r\n```\r\nERROR o.s.boot.SpringApplication - Application run failed     org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;application&#39;: Invocation of init method failed; nested exception is com.hazelcast.nio.serialization.HazelcastSerializationException: No DataSerializerFactory registered for namespace: 1\r\n...\r\nCaused by: com.hazelcast.nio.serialization.HazelcastSerializationException: No DataSerializerFactory registered for namespace: 1\r\n\tat com.hazelcast.internal.serialization.impl.DataSerializableSerializer.readInternal(DataSerializableSerializer.java:139)\r\n\tat com.hazelcast.internal.serialization.impl.DataSerializableSerializer.read(DataSerializableSerializer.java:106)\r\n\tat com.hazelcast.internal.serialization.impl.DataSerializableSerializer.read(DataSerializableSerializer.java:51)\r\n\tat com.hazelcast.internal.serialization.impl.StreamSerializerAdapter.read(StreamSerializerAdapter.java:44)\r\n\r\n(the get on IMap is during @PostConstruct, that&#39;s why &quot;Error creating bean with name &#39;application&#39;&quot;).\r\n```\r\nThe `Product` class representing the value is implementing the IdentifiedDataSerializable and has **on client** associated and correctly registered ProductDataSerializableFactory (implements DataSerializableFactory). \r\n\r\nThe thing is that this exception is NOT originating on the client - it comes from the Hazelcast grid. And that is the issue - because the `IMap` is defined as BINARY - hence the server should NOT care about `DataSerializerFactory`, it should simply pass the bytes to the client and let it do the deserialization. So why it is not working as we expect? What might be wrong? And speaking about, how can we register the the above mentioned factory on server as well?\r\n\r\nI&#39;m attaching the relevant part of `HazelcastConfiguration` Java file used on client and `hazelcast.xml` used on servers below (omitted the unimportant parts like join etc.). It is mostly a default one with some additions, e.g. `user-code-deployment`. `HazelcastConfiguration` on client\r\n\r\n```java\r\npublic HazelcastInstance hazelcastInstance() {\r\n\tClientConfig config = new ClientConfig();\r\n\tconfig.getSerializationConfig().addDataSerializableFactoryClass(ProductDataSerializableFactory.FACTORY_ID, ProductDataSerializableFactory.class);\r\n\tClientUserCodeDeploymentConfig clientUserCodeDeploymentConfig = new ClientUserCodeDeploymentConfig();\r\n\tclientUserCodeDeploymentConfig.addClass(&quot;com.finmason.product.Product&quot;);\r\n\tclientUserCodeDeploymentConfig.addClass(&quot;com.finmason.product.ProductDataSerializableFactory&quot;);\r\n\tclientUserCodeDeploymentConfig.setEnabled(true);    \r\n\tconfig.setUserCodeDeploymentConfig(clientUserCodeDeploymentConfig);    \r\n\treturn HazelcastClient.newHazelcastClient(config);\r\n}\r\n```\r\n`hazelcast.yml` on server\r\n\r\n```yml\r\nhazelcast:\r\n  user-code-deployment:\r\n\tenabled: true\r\n\tclass-cache-mode: ETERNAL\r\n\tprovider-mode: LOCAL_AND_CACHED_CLASSES\r\n\twhitelist-prefixes: com.finmason\r\n\tprovider-filter: HAS_ATTRIBUTE:lite\r\n  security:\r\n\tclient-block-unmapped-actions: true\r\n  map:\r\n\tdefault:\r\n\t  in-memory-format: BINARY\r\n\t  metadata-policy: CREATE_ON_UPDATE          \r\n  serialization:\r\n\tportable-version: 0\r\n  jet:\r\n\tenabled: true\r\n\tresource-upload-enabled: true\r\n```\r\n\r\nAnd the source of `ProductDataSerializableFactory` \r\n\r\n```java\r\npublic class ProductDataSerializableFactory implements DataSerializableFactory {\r\n\tpublic static final int FACTORY_ID = 1;\r\n\tpublic static final int PRODUCT_TYPE = 1;\r\n\r\n\t@Override\r\n\tpublic IdentifiedDataSerializable create(int typeId) {\r\n\t\treturn (typeId == PRODUCT_TYPE) ? new Product() : null;\r\n\t}\r\n}\r\n```","title":"Hazelcast deserializes value on server on get from Binary IMap","body":"<p>We have an application connecting as client to cluster of Hazelcast servers. Hazelcast version used is 5.1 on both client and servers.\nWe have a <code>IMap&lt;Long, Product&gt;</code> that has been populated previously without problem to the cluster. But when we try to retrieve a value from the <code>IMap</code>, it results in an exception</p>\n<pre><code>ERROR o.s.boot.SpringApplication - Application run failed     org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'application': Invocation of init method failed; nested exception is com.hazelcast.nio.serialization.HazelcastSerializationException: No DataSerializerFactory registered for namespace: 1\n...\nCaused by: com.hazelcast.nio.serialization.HazelcastSerializationException: No DataSerializerFactory registered for namespace: 1\n    at com.hazelcast.internal.serialization.impl.DataSerializableSerializer.readInternal(DataSerializableSerializer.java:139)\n    at com.hazelcast.internal.serialization.impl.DataSerializableSerializer.read(DataSerializableSerializer.java:106)\n    at com.hazelcast.internal.serialization.impl.DataSerializableSerializer.read(DataSerializableSerializer.java:51)\n    at com.hazelcast.internal.serialization.impl.StreamSerializerAdapter.read(StreamSerializerAdapter.java:44)\n\n(the get on IMap is during @PostConstruct, that's why &quot;Error creating bean with name 'application'&quot;).\n</code></pre>\n<p>The <code>Product</code> class representing the value is implementing the IdentifiedDataSerializable and has <strong>on client</strong> associated and correctly registered ProductDataSerializableFactory (implements DataSerializableFactory).</p>\n<p>The thing is that this exception is NOT originating on the client - it comes from the Hazelcast grid. And that is the issue - because the <code>IMap</code> is defined as BINARY - hence the server should NOT care about <code>DataSerializerFactory</code>, it should simply pass the bytes to the client and let it do the deserialization. So why it is not working as we expect? What might be wrong? And speaking about, how can we register the the above mentioned factory on server as well?</p>\n<p>I'm attaching the relevant part of <code>HazelcastConfiguration</code> Java file used on client and <code>hazelcast.xml</code> used on servers below (omitted the unimportant parts like join etc.). It is mostly a default one with some additions, e.g. <code>user-code-deployment</code>. <code>HazelcastConfiguration</code> on client</p>\n<pre class=\"lang-java prettyprint-override\"><code>public HazelcastInstance hazelcastInstance() {\n    ClientConfig config = new ClientConfig();\n    config.getSerializationConfig().addDataSerializableFactoryClass(ProductDataSerializableFactory.FACTORY_ID, ProductDataSerializableFactory.class);\n    ClientUserCodeDeploymentConfig clientUserCodeDeploymentConfig = new ClientUserCodeDeploymentConfig();\n    clientUserCodeDeploymentConfig.addClass(&quot;com.finmason.product.Product&quot;);\n    clientUserCodeDeploymentConfig.addClass(&quot;com.finmason.product.ProductDataSerializableFactory&quot;);\n    clientUserCodeDeploymentConfig.setEnabled(true);    \n    config.setUserCodeDeploymentConfig(clientUserCodeDeploymentConfig);    \n    return HazelcastClient.newHazelcastClient(config);\n}\n</code></pre>\n<p><code>hazelcast.yml</code> on server</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>hazelcast:\n  user-code-deployment:\n    enabled: true\n    class-cache-mode: ETERNAL\n    provider-mode: LOCAL_AND_CACHED_CLASSES\n    whitelist-prefixes: com.finmason\n    provider-filter: HAS_ATTRIBUTE:lite\n  security:\n    client-block-unmapped-actions: true\n  map:\n    default:\n      in-memory-format: BINARY\n      metadata-policy: CREATE_ON_UPDATE          \n  serialization:\n    portable-version: 0\n  jet:\n    enabled: true\n    resource-upload-enabled: true\n</code></pre>\n<p>And the source of <code>ProductDataSerializableFactory</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ProductDataSerializableFactory implements DataSerializableFactory {\n    public static final int FACTORY_ID = 1;\n    public static final int PRODUCT_TYPE = 1;\n\n    @Override\n    public IdentifiedDataSerializable create(int typeId) {\n        return (typeId == PRODUCT_TYPE) ? new Product() : null;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","testing","cucumber","bdd"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1549191400,"creation_date":1549158003,"answer_id":54499204,"question_id":54498933,"body_markdown":"It&#39;s currently not possible to use `@MockBean` or `@SpyBean` because `cucumber-spring` turns step definitions into beans and does not use the `TestContextManager`. There is an issue to [Support @MockBean in cucumber-spring #1470][1]. It&#39;s up for grabs if anybody wants to take it.\r\n\r\n  [1]: http://github.com/cucumber/cucumber-jvm/issues/1470","title":"I cannot @Spy Object in Cucumber Spring Boot Test in two Steps Definitions","body":"<p>It's currently not possible to use <code>@MockBean</code> or <code>@SpyBean</code> because <code>cucumber-spring</code> turns step definitions into beans and does not use the <code>TestContextManager</code>. There is an issue to <a href=\"http://github.com/cucumber/cucumber-jvm/issues/1470\" rel=\"nofollow noreferrer\">Support @MockBean in cucumber-spring #1470</a>. It's up for grabs if anybody wants to take it.</p>\n"},{"tags":[],"owner":{"account_id":6369613,"reputation":1891,"user_id":4942459,"display_name":"Abdourahmane FALL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647559740,"creation_date":1647559740,"answer_id":71520186,"question_id":54498933,"body_markdown":"I&#39;am facing on this issue. I used the solution below (waiting for a best idea) :\r\n\r\nI replace my bean by the spy bean created via Mockito : \r\n\r\n YourInstanceYourWantSpy spyingInstance=  Mockito.spy(YourInstanceYourWantSpy);\r\n\r\n\r\nThen i use ReflectionUtils to replace the instance where it called. ","title":"I cannot @Spy Object in Cucumber Spring Boot Test in two Steps Definitions","body":"<p>I'am facing on this issue. I used the solution below (waiting for a best idea) :</p>\n<p>I replace my bean by the spy bean created via Mockito :</p>\n<p>YourInstanceYourWantSpy spyingInstance=  Mockito.spy(YourInstanceYourWantSpy);</p>\n<p>Then i use ReflectionUtils to replace the instance where it called.</p>\n"}],"owner":{"account_id":6704662,"reputation":363,"user_id":5170089,"accept_rate":80,"display_name":"Antonio682"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2257,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54499204,"answer_count":2,"score":3,"last_activity_date":1647559740,"creation_date":1549154519,"question_id":54498933,"body_markdown":"I&#39;m having a problem running cucumber test with Spring Boot 2.\r\n\r\nI have two steps definitions and in both clases I try to spy an object with \r\nmockito trying to capture the argument passed to one method of this class.\r\n\r\nThe point is that since Cucumber only allows one Spring Application Context Configuration I&#39;ve created an abstract class to configure it and I&#39;ve extended one of the steps definition with this class.\r\n\r\n    @ActiveProfiles(&quot;INTEGRATION_TEST&quot;)\r\n    @SpringBootTest\r\n    @ContextConfiguration(classes = ServiceApplication.class)\r\n    @TestPropertySource(properties = \r\n          {&quot;spring.config.location=classpath:application-test.yml&quot;})\r\n    public abstract class BaseTestIntegration {}\r\n\r\n\r\n    @Ignore\r\n    public class OfferEventsGenerationStep extends BaseTestIntegration {\r\n\r\n    @Autowired private LoanOfferBatchController loanOfferBatchController;\r\n    @SpyBean private SendEventOfferServiceImpl sendEventService;\r\n    @Captor private ArgumentCaptor&lt;CreateOfferToUserEvent&gt; createOfferEventCaptor;\r\n    @Autowired private GenericWebApplicationContext context;\r\n    .........\r\n     @Then(&quot;^events will be created$&quot;)\r\n    public void eventsWillBeCreated() throws Throwable {\r\n        Mockito.verify(sendEventService, Mockito.times(5)).sendEvent(createOfferEventCaptor.capture());\r\n     }\r\n    }\r\n\r\n\r\n    @Ignore\r\n    public class SecondEventsGenerationStep  {\r\n\r\n    @Autowired private LoanOfferBatchController loanOfferBatchController;\r\n    @SpyBean private SendEventSencondServiceImpl sendEventService;\r\n    @Captor private ArgumentCaptor&lt;CreateOfferToUserEvent&gt; createOfferEventCaptor;\r\n    @Autowired private GenericWebApplicationContext context;\r\n    .........\r\n     @Then(&quot;^events will be created$&quot;)\r\n    public void eventsWillBeCreated() throws Throwable {\r\n        Mockito.verify(sendEventService, Mockito.times(2)).sendEvent(createOfferEventCaptor.capture());\r\n     }\r\n    }\r\n\r\nAnd everything works fine except that sendEventService is only recognized as a spy bean in the class that extends the BaseTestIntegration class the other one throws this exception: \r\n\r\n     org.mockito.exceptions.misusing.NotAMockException: \r\n     Argument passed to verify() is of type SendEventSencondServiceImpl and is not a mock!\r\n\r\n\r\n\r\n ","title":"I cannot @Spy Object in Cucumber Spring Boot Test in two Steps Definitions","body":"<p>I'm having a problem running cucumber test with Spring Boot 2.</p>\n\n<p>I have two steps definitions and in both clases I try to spy an object with \nmockito trying to capture the argument passed to one method of this class.</p>\n\n<p>The point is that since Cucumber only allows one Spring Application Context Configuration I've created an abstract class to configure it and I've extended one of the steps definition with this class.</p>\n\n<pre><code>@ActiveProfiles(\"INTEGRATION_TEST\")\n@SpringBootTest\n@ContextConfiguration(classes = ServiceApplication.class)\n@TestPropertySource(properties = \n      {\"spring.config.location=classpath:application-test.yml\"})\npublic abstract class BaseTestIntegration {}\n\n\n@Ignore\npublic class OfferEventsGenerationStep extends BaseTestIntegration {\n\n@Autowired private LoanOfferBatchController loanOfferBatchController;\n@SpyBean private SendEventOfferServiceImpl sendEventService;\n@Captor private ArgumentCaptor&lt;CreateOfferToUserEvent&gt; createOfferEventCaptor;\n@Autowired private GenericWebApplicationContext context;\n.........\n @Then(\"^events will be created$\")\npublic void eventsWillBeCreated() throws Throwable {\n    Mockito.verify(sendEventService, Mockito.times(5)).sendEvent(createOfferEventCaptor.capture());\n }\n}\n\n\n@Ignore\npublic class SecondEventsGenerationStep  {\n\n@Autowired private LoanOfferBatchController loanOfferBatchController;\n@SpyBean private SendEventSencondServiceImpl sendEventService;\n@Captor private ArgumentCaptor&lt;CreateOfferToUserEvent&gt; createOfferEventCaptor;\n@Autowired private GenericWebApplicationContext context;\n.........\n @Then(\"^events will be created$\")\npublic void eventsWillBeCreated() throws Throwable {\n    Mockito.verify(sendEventService, Mockito.times(2)).sendEvent(createOfferEventCaptor.capture());\n }\n}\n</code></pre>\n\n<p>And everything works fine except that sendEventService is only recognized as a spy bean in the class that extends the BaseTestIntegration class the other one throws this exception: </p>\n\n<pre><code> org.mockito.exceptions.misusing.NotAMockException: \n Argument passed to verify() is of type SendEventSencondServiceImpl and is not a mock!\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6724958,"reputation":4008,"user_id":5183341,"accept_rate":97,"display_name":"IIIIIIIIIIIIIIIIIIIIII"},"score":0,"creation_date":1475663409,"post_id":39871295,"comment_id":67029711,"body_markdown":"Please copy past code snippets and avoid posting screenshots of code. Posting screenshots makes it unnecessary hard to read your code and to reproduce your problem (Especially when the screenshots are in some kind of random order like you did).","body":"Please copy past code snippets and avoid posting screenshots of code. Posting screenshots makes it unnecessary hard to read your code and to reproduce your problem (Especially when the screenshots are in some kind of random order like you did)."},{"owner":{"account_id":8207059,"reputation":401,"user_id":6176457,"display_name":"anonymous"},"score":0,"creation_date":1475664197,"post_id":39871295,"comment_id":67030196,"body_markdown":"Have you try tag search?","body":"Have you try tag search?"},{"owner":{"account_id":7965137,"reputation":374,"user_id":6011572,"accept_rate":14,"display_name":"Zaigham Raza"},"score":0,"creation_date":1475665265,"post_id":39871295,"comment_id":67030929,"body_markdown":"No i didn&#39;t try @GuruTeja","body":"No i didn&#39;t try @GuruTeja"},{"owner":{"account_id":7965137,"reputation":374,"user_id":6011572,"accept_rate":14,"display_name":"Zaigham Raza"},"score":0,"creation_date":1475665295,"post_id":39871295,"comment_id":67030955,"body_markdown":"No i didn&#39;t try @anonymous","body":"No i didn&#39;t try @anonymous"},{"owner":{"account_id":8207059,"reputation":401,"user_id":6176457,"display_name":"anonymous"},"score":0,"creation_date":1475665583,"post_id":39871295,"comment_id":67031142,"body_markdown":"Then try Search near the Info drop down . Like &quot;tag:as&quot;","body":"Then try Search near the Info drop down . Like &quot;tag:as&quot;"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1475666038,"post_id":39871295,"comment_id":67031430,"body_markdown":"Why are you trying to do? What are the results and how do they differ from what you want?","body":"Why are you trying to do? What are the results and how do they differ from what you want?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1475666110,"post_id":39871295,"comment_id":67031477,"body_markdown":"Please post code here directly, not s screenshot.","body":"Please post code here directly, not s screenshot."},{"owner":{"account_id":1830370,"reputation":2876,"user_id":1661938,"display_name":"Frederic Klein"},"score":0,"creation_date":1475672247,"post_id":39871295,"comment_id":67035674,"body_markdown":"Possible duplicate of [Android studio logcat not working](http://stackoverflow.com/questions/28815356/android-studio-logcat-not-working)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/28815356/android-studio-logcat-not-working\">Android studio logcat not working</a>"}],"answers":[{"tags":[],"owner":{"account_id":7965137,"reputation":374,"user_id":6011572,"accept_rate":14,"display_name":"Zaigham Raza"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1475666862,"creation_date":1475666862,"answer_id":39872737,"question_id":39871295,"body_markdown":"I have solved that issue through applying no filter at filter section.","title":"Android Studio Logcat not showing anything","body":"<p>I have solved that issue through applying no filter at filter section.</p>\n"},{"tags":[],"owner":{"account_id":6830998,"reputation":2903,"user_id":5255006,"accept_rate":57,"display_name":"Krunal Kapadiya"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1475671539,"creation_date":1475671539,"answer_id":39874358,"question_id":39871295,"body_markdown":"Kill ADB from Task Manger, And run an application and check filter as &#39;Show only selected application&#39; in Android monitor.","title":"Android Studio Logcat not showing anything","body":"<p>Kill ADB from Task Manger, And run an application and check filter as 'Show only selected application' in Android monitor.</p>\n"},{"tags":[],"owner":{"account_id":5861989,"reputation":163,"user_id":4617357,"display_name":"Artem Samokhin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1498005757,"creation_date":1498005757,"answer_id":44665115,"question_id":39871295,"body_markdown":"In my case it was not an android studio problem but a phone problem - **try to restart your phone** or emulator.","title":"Android Studio Logcat not showing anything","body":"<p>In my case it was not an android studio problem but a phone problem - <strong>try to restart your phone</strong> or emulator.</p>\n"},{"tags":[],"owner":{"account_id":9034944,"reputation":841,"user_id":6731329,"display_name":"Rohan"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1506024541,"creation_date":1506024541,"answer_id":46352417,"question_id":39871295,"body_markdown":"1. File -&gt;Invalidate Cache[![Invalidate Cache][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4MYkx.png\r\n\r\n2.Restart your phone or emulator\r\n\r\n3. Run. It should work","title":"Android Studio Logcat not showing anything","body":"<ol>\n<li>File ->Invalidate Cache<a href=\"https://i.stack.imgur.com/4MYkx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4MYkx.png\" alt=\"Invalidate Cache\"></a></li>\n</ol>\n\n<p>2.Restart your phone or emulator</p>\n\n<ol start=\"3\">\n<li>Run. It should work</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6556316,"reputation":2208,"user_id":5068914,"display_name":"Mariusz Wiazowski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529237375,"creation_date":1529237375,"answer_id":50896497,"question_id":39871295,"body_markdown":"I have solved this issue by enabling &quot;Use libusb backend&quot; option in Android Studio -&gt; Preferences -&gt; Debugger -&gt; Android Debug Bridge (adb).[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q2BMQ.jpg","title":"Android Studio Logcat not showing anything","body":"<p>I have solved this issue by enabling \"Use libusb backend\" option in Android Studio -> Preferences -> Debugger -> Android Debug Bridge (adb).<a href=\"https://i.stack.imgur.com/q2BMQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q2BMQ.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":14561529,"reputation":936,"user_id":11378666,"display_name":"Gerke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610994247,"creation_date":1610994247,"answer_id":65780065,"question_id":39871295,"body_markdown":"For me simply restarting Android Studio solved the issue. I was even able to see the logs which were hidden to me previously.","title":"Android Studio Logcat not showing anything","body":"<p>For me simply restarting Android Studio solved the issue. I was even able to see the logs which were hidden to me previously.</p>\n"},{"tags":[],"owner":{"account_id":18116158,"reputation":126,"user_id":13172791,"display_name":"Badar Khalil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617734208,"creation_date":1617734208,"answer_id":66974563,"question_id":39871295,"body_markdown":"In my case it was solved by simply deattaching and attaching my mobile phone and hope so this will work for all of you","title":"Android Studio Logcat not showing anything","body":"<p>In my case it was solved by simply deattaching and attaching my mobile phone and hope so this will work for all of you</p>\n"},{"tags":[],"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647559521,"creation_date":1647559521,"answer_id":71520152,"question_id":39871295,"body_markdown":"In my case i was using Log methods without properly initializing the TAG parameter.","title":"Android Studio Logcat not showing anything","body":"<p>In my case i was using Log methods without properly initializing the TAG parameter.</p>\n"}],"owner":{"account_id":7965137,"reputation":374,"user_id":6011572,"accept_rate":14,"display_name":"Zaigham Raza"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14639,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"answer_count":8,"score":2,"last_activity_date":1647559521,"creation_date":1475662588,"question_id":39871295,"body_markdown":"   \r\n\r\n I implemented all techniques using stackoverflow but none of them worked for me. \r\n\r\ni have android studio version 2.2.i have enable adb integration as well as DDMS setting etc all solutions. i restarted logging and restart app,Android studio and Laptop restart as well but  nothing worked for me. i am attaching my error dialog Verbose and info images with this post.\r\n    [![error Dialog][1]][1] \r\n    [![Verbose][2]][2]\r\n    [![enter image description here][3]][3]\r\n    \r\n\r\n  [1]: http://i.stack.imgur.com/9vaLC.png\r\n  [2]: http://i.stack.imgur.com/MQa5Y.png\r\n  [3]: http://i.stack.imgur.com/jul6z.png\r\n","title":"Android Studio Logcat not showing anything","body":"<p>I implemented all techniques using stackoverflow but none of them worked for me. </p>\n\n<p>i have android studio version 2.2.i have enable adb integration as well as DDMS setting etc all solutions. i restarted logging and restart app,Android studio and Laptop restart as well but  nothing worked for me. i am attaching my error dialog Verbose and info images with this post.\n    <a href=\"https://i.stack.imgur.com/9vaLC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9vaLC.png\" alt=\"error Dialog\"></a> \n    <a href=\"https://i.stack.imgur.com/MQa5Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MQa5Y.png\" alt=\"Verbose\"></a>\n    <a href=\"https://i.stack.imgur.com/jul6z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jul6z.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","api","rest-assured","splunk","jira-rest-java-api"],"answers":[{"tags":[],"owner":{"account_id":24590921,"reputation":59,"user_id":18494837,"display_name":"Pedring Coding"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647558331,"creation_date":1647558331,"answer_id":71520038,"question_id":71519997,"body_markdown":"Could it be that you were looking for this? [Table of endpoints][1]\r\n\r\ngood coding! &#175;_(ツ)_/&#175;\r\n\r\n  [1]: https://dev.splunk.com/observability/docs/apibasics/api_list#Table-of-endpoints","title":"Can we connect Rest Assured framework with Splunk","body":"<p>Could it be that you were looking for this? <a href=\"https://dev.splunk.com/observability/docs/apibasics/api_list#Table-of-endpoints\" rel=\"nofollow noreferrer\">Table of endpoints</a></p>\n<p>good coding! ¯_(ツ)_/¯</p>\n"}],"owner":{"account_id":9931091,"reputation":85,"user_id":7351030,"display_name":"syed naveed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647558331,"creation_date":1647557913,"question_id":71519997,"body_markdown":"I am using Rest assured framework with a mix  of Spring libraries. Recently i did JIRA integration to send results of my test case to update in JIRA. Now to be more precise in order to check failures logs i want to read the logs from Splunk using some API that will help me integrate my framework with Splunk same as JIRA.\r\n               Is there any API using which i can connect directly to Splunk same as we have one for JIRA Integration. Your info is highly appreciated.\r\n\r\n","title":"Can we connect Rest Assured framework with Splunk","body":"<p>I am using Rest assured framework with a mix  of Spring libraries. Recently i did JIRA integration to send results of my test case to update in JIRA. Now to be more precise in order to check failures logs i want to read the logs from Splunk using some API that will help me integrate my framework with Splunk same as JIRA.\nIs there any API using which i can connect directly to Splunk same as we have one for JIRA Integration. Your info is highly appreciated.</p>\n"},{"tags":["java","javafx","richtextfx"],"answers":[{"tags":[],"owner":{"account_id":24593665,"reputation":262,"user_id":18497177,"display_name":"Trizion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647557802,"creation_date":1647550238,"answer_id":71518889,"question_id":45646920,"body_markdown":"This question is quite old, but since i ran into the same problem i figured a solution might be useful to others as well.\r\nIn the demo, the code from which you use, ParStyle and TextStyle (Custom Types) are used for defining how information about the style is stored.\r\nThe error messages you get pretty much just tell you that your way of storing the information about the style (In your case in a String) is not compatible with the way it is done in the demo.\r\nIf you want to store the style in a String, which i did as well, you need to implement some way of serializing and deserializing the information yourself.\r\nYou can do that, for example (I used an InlineCssTextArea), in the following way:\r\n\r\n    public class SerializeManager {\r\n        public static final String PAR_REGEX = &quot;#!par!#&quot;;\r\n        public static final String PAR_CONTENT_REGEX = &quot;#!pcr!#&quot;;\r\n        public static final String SEG_REGEX = &quot;#!seg!#&quot;;\r\n        public static final String SEG_CONTENT_REGEX = &quot;#!scr!#&quot;;\r\n    \r\n        public static String serialized(InlineCssTextArea textArea) {\r\n            StringBuilder builder = new StringBuilder();\r\n    \r\n            textArea.getDocument().getParagraphs().forEach(par -&gt; {\r\n    \r\n                builder.append(par.getParagraphStyle());\r\n                builder.append(PAR_CONTENT_REGEX);\r\n    \r\n                par.getStyledSegments().forEach(seg -&gt; builder\r\n                        .append(\r\n                                seg.getSegment()\r\n                                        .replaceAll(PAR_REGEX, &quot;&quot;)\r\n                                        .replaceAll(PAR_CONTENT_REGEX, &quot;&quot;)\r\n                                        .replaceAll(SEG_REGEX, &quot;&quot;)\r\n                                        .replaceAll(SEG_CONTENT_REGEX, &quot;&quot;)\r\n                        )\r\n                        .append(SEG_CONTENT_REGEX)\r\n                        .append(seg.getStyle())\r\n                        .append(SEG_REGEX)\r\n                );\r\n                builder.append(PAR_REGEX);\r\n            });\r\n    \r\n            String textAreaSerialized = builder.toString();\r\n            return textAreaSerialized;\r\n        }\r\n    \r\n        public static InlineCssTextArea fromSerialized(String string) {\r\n            InlineCssTextArea textArea = new InlineCssTextArea();\r\n            ReadOnlyStyledDocumentBuilder&lt;String, String, String&gt; builder = new ReadOnlyStyledDocumentBuilder&lt;&gt;(\r\n                    SegmentOps.styledTextOps(),\r\n                    &quot;&quot;\r\n            );\r\n\r\n            if (string.contains(PAR_REGEX)) {\r\n                String[] parsSerialized = string.split(PAR_REGEX);\r\n\r\n                for (int i = 0; i &lt; parsSerialized.length; i++) {\r\n                    String par = parsSerialized[i];\r\n                    String[] parContent = par.split(PAR_CONTENT_REGEX);\r\n                    String parStyle = parContent[0];\r\n\r\n                    List&lt;String&gt; segments = new ArrayList&lt;&gt;();\r\n                    StyleSpansBuilder&lt;String&gt; spansBuilder = new StyleSpansBuilder&lt;&gt;();\r\n                    String styleSegments = parContent[1];\r\n\r\n                    Arrays.stream(styleSegments.split(SEG_REGEX)).forEach(seg -&gt; {\r\n                        String[] segContent = seg.split(SEG_CONTENT_REGEX);\r\n\r\n                        segments.add(segContent[0]);\r\n                        if (segContent.length &gt; 1) {\r\n                            spansBuilder.add(segContent[1], segContent[0].length());\r\n                        } else {\r\n                            spansBuilder.add(&quot;&quot;, segContent[0].length());\r\n                        }\r\n                    });\r\n                    StyleSpans&lt;String&gt; spans = spansBuilder.create();\r\n                    builder.addParagraph(segments, spans, parStyle);\r\n                }\r\n                textArea.append(builder.build());\r\n            }\r\n            return textArea;\r\n        }\r\n    }\r\n\r\nYou can then take the serialized InlineCssTextArea, write the resulting String to a file, and load and deserialize it.\r\nAs you can see in the code, i made up some Strings as regexes which will be removed in the serialization process (We don&#39;t want our Serializer to be injectable, do we ;)).\r\nYou can change these to whatever you like, just note they will be removed if used in the text of the TextArea, so they should be something users wont miss in their TextArea.\r\nAlso note that this solution serializes the Style of the Text, the Text itself and the Paragraph style, BUT not inserted images or parameters of the TextArea (such as width and height), just the text content of the TextArea with its Style. \r\n[This issue on github](https://github.com/FXMisc/RichTextFX/issues/334) really helped me btw.\r\n","title":"Implementing save/open with RichTextFX?","body":"<p>This question is quite old, but since i ran into the same problem i figured a solution might be useful to others as well.\nIn the demo, the code from which you use, ParStyle and TextStyle (Custom Types) are used for defining how information about the style is stored.\nThe error messages you get pretty much just tell you that your way of storing the information about the style (In your case in a String) is not compatible with the way it is done in the demo.\nIf you want to store the style in a String, which i did as well, you need to implement some way of serializing and deserializing the information yourself.\nYou can do that, for example (I used an InlineCssTextArea), in the following way:</p>\n<pre><code>public class SerializeManager {\n    public static final String PAR_REGEX = &quot;#!par!#&quot;;\n    public static final String PAR_CONTENT_REGEX = &quot;#!pcr!#&quot;;\n    public static final String SEG_REGEX = &quot;#!seg!#&quot;;\n    public static final String SEG_CONTENT_REGEX = &quot;#!scr!#&quot;;\n\n    public static String serialized(InlineCssTextArea textArea) {\n        StringBuilder builder = new StringBuilder();\n\n        textArea.getDocument().getParagraphs().forEach(par -&gt; {\n\n            builder.append(par.getParagraphStyle());\n            builder.append(PAR_CONTENT_REGEX);\n\n            par.getStyledSegments().forEach(seg -&gt; builder\n                    .append(\n                            seg.getSegment()\n                                    .replaceAll(PAR_REGEX, &quot;&quot;)\n                                    .replaceAll(PAR_CONTENT_REGEX, &quot;&quot;)\n                                    .replaceAll(SEG_REGEX, &quot;&quot;)\n                                    .replaceAll(SEG_CONTENT_REGEX, &quot;&quot;)\n                    )\n                    .append(SEG_CONTENT_REGEX)\n                    .append(seg.getStyle())\n                    .append(SEG_REGEX)\n            );\n            builder.append(PAR_REGEX);\n        });\n\n        String textAreaSerialized = builder.toString();\n        return textAreaSerialized;\n    }\n\n    public static InlineCssTextArea fromSerialized(String string) {\n        InlineCssTextArea textArea = new InlineCssTextArea();\n        ReadOnlyStyledDocumentBuilder&lt;String, String, String&gt; builder = new ReadOnlyStyledDocumentBuilder&lt;&gt;(\n                SegmentOps.styledTextOps(),\n                &quot;&quot;\n        );\n\n        if (string.contains(PAR_REGEX)) {\n            String[] parsSerialized = string.split(PAR_REGEX);\n\n            for (int i = 0; i &lt; parsSerialized.length; i++) {\n                String par = parsSerialized[i];\n                String[] parContent = par.split(PAR_CONTENT_REGEX);\n                String parStyle = parContent[0];\n\n                List&lt;String&gt; segments = new ArrayList&lt;&gt;();\n                StyleSpansBuilder&lt;String&gt; spansBuilder = new StyleSpansBuilder&lt;&gt;();\n                String styleSegments = parContent[1];\n\n                Arrays.stream(styleSegments.split(SEG_REGEX)).forEach(seg -&gt; {\n                    String[] segContent = seg.split(SEG_CONTENT_REGEX);\n\n                    segments.add(segContent[0]);\n                    if (segContent.length &gt; 1) {\n                        spansBuilder.add(segContent[1], segContent[0].length());\n                    } else {\n                        spansBuilder.add(&quot;&quot;, segContent[0].length());\n                    }\n                });\n                StyleSpans&lt;String&gt; spans = spansBuilder.create();\n                builder.addParagraph(segments, spans, parStyle);\n            }\n            textArea.append(builder.build());\n        }\n        return textArea;\n    }\n}\n</code></pre>\n<p>You can then take the serialized InlineCssTextArea, write the resulting String to a file, and load and deserialize it.\nAs you can see in the code, i made up some Strings as regexes which will be removed in the serialization process (We don't want our Serializer to be injectable, do we ;)).\nYou can change these to whatever you like, just note they will be removed if used in the text of the TextArea, so they should be something users wont miss in their TextArea.\nAlso note that this solution serializes the Style of the Text, the Text itself and the Paragraph style, BUT not inserted images or parameters of the TextArea (such as width and height), just the text content of the TextArea with its Style.\n<a href=\"https://github.com/FXMisc/RichTextFX/issues/334\" rel=\"nofollow noreferrer\">This issue on github</a> really helped me btw.</p>\n"}],"owner":{"account_id":3103632,"reputation":1183,"user_id":2627068,"accept_rate":82,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647557802,"creation_date":1502516486,"question_id":45646920,"body_markdown":"Here is my code:\r\n\r\n    private void save(File file) {\r\n        \r\n        StyledDocument&lt;ParStyle, Either&lt;StyledText&lt;TextStyle&gt;, LinkedImage&lt;TextStyle&gt;&gt;, TextStyle&gt; doc = textarea.getDocument();\r\n        \r\n        // Use the Codec to save the document in a binary format\r\n        textarea.getStyleCodecs().ifPresent(codecs -&gt; {\r\n            Codec&lt;StyledDocument&lt;ParStyle, Either&lt;StyledText&lt;TextStyle&gt;, LinkedImage&lt;TextStyle&gt;&gt;, TextStyle&gt;&gt; codec\r\n                    = ReadOnlyStyledDocument.codec(codecs._1, codecs._2, textarea.getSegOps());\r\n            try {\r\n                FileOutputStream fos = new FileOutputStream(file);\r\n                DataOutputStream dos = new DataOutputStream(fos);\r\n                codec.encode(dos, doc);\r\n                fos.close();\r\n            } catch (IOException fnfe) {\r\n                fnfe.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n\r\nI am trying to implement the save/loading from the demo from [here][1] on the RichTextFX GitHub.\r\n\r\nI am getting errors in the following lines:\r\n\r\n    StyledDocument&lt;ParStyle, Either&lt;StyledText&lt;TextStyle&gt;, LinkedImage&lt;TextStyle&gt;&gt;, TextStyle&gt; doc = textarea.getDocument();\r\n\r\n&gt; error: incompatible types:\r\n&gt; `StyledDocument&lt;Collection&lt;String&gt;,StyledText&lt;Collection&lt;String&gt;&gt;,Collection&lt;String&gt;&gt;`\r\n&gt; cannot be converted to\r\n&gt; `StyledDocument&lt;ParStyle,Either&lt;StyledText&lt;TextStyle&gt;,LinkedImage&lt;TextStyle&gt;&gt;,TextStyle&gt;`\r\n\r\nand\r\n\r\n    = ReadOnlyStyledDocument.codec(codecs._1, codecs._2, textarea.getSegOps());\r\n\r\n&gt; error: incompatible types: inferred type does not conform to equality\r\n&gt; constraint(s) inferred: `ParStyle`\r\n&gt;     equality constraints(s): `ParStyle`,`Collection&lt;String&gt;`\r\n\r\nI have added all the required `.java` files and imported them into my main code. I thought it would be relatively trivial to implement this demo but it has been nothing but headaches.\r\n\r\nIf this cannot be resolved, does anyone know an alternative way to save the text with formatting from RichTextFX?\r\n\r\nThank you\r\n\r\n  [1]: https://github.com/TomasMikula/RichTextFX/blob/master/richtextfx-demos/src/main/java/org/fxmisc/richtext/demo/richtext/RichText.java","title":"Implementing save/open with RichTextFX?","body":"<p>Here is my code:</p>\n\n<pre><code>private void save(File file) {\n\n    StyledDocument&lt;ParStyle, Either&lt;StyledText&lt;TextStyle&gt;, LinkedImage&lt;TextStyle&gt;&gt;, TextStyle&gt; doc = textarea.getDocument();\n\n    // Use the Codec to save the document in a binary format\n    textarea.getStyleCodecs().ifPresent(codecs -&gt; {\n        Codec&lt;StyledDocument&lt;ParStyle, Either&lt;StyledText&lt;TextStyle&gt;, LinkedImage&lt;TextStyle&gt;&gt;, TextStyle&gt;&gt; codec\n                = ReadOnlyStyledDocument.codec(codecs._1, codecs._2, textarea.getSegOps());\n        try {\n            FileOutputStream fos = new FileOutputStream(file);\n            DataOutputStream dos = new DataOutputStream(fos);\n            codec.encode(dos, doc);\n            fos.close();\n        } catch (IOException fnfe) {\n            fnfe.printStackTrace();\n        }\n    });\n}\n</code></pre>\n\n<p>I am trying to implement the save/loading from the demo from <a href=\"https://github.com/TomasMikula/RichTextFX/blob/master/richtextfx-demos/src/main/java/org/fxmisc/richtext/demo/richtext/RichText.java\" rel=\"nofollow noreferrer\">here</a> on the RichTextFX GitHub.</p>\n\n<p>I am getting errors in the following lines:</p>\n\n<pre><code>StyledDocument&lt;ParStyle, Either&lt;StyledText&lt;TextStyle&gt;, LinkedImage&lt;TextStyle&gt;&gt;, TextStyle&gt; doc = textarea.getDocument();\n</code></pre>\n\n<blockquote>\n  <p>error: incompatible types:\n  <code>StyledDocument&lt;Collection&lt;String&gt;,StyledText&lt;Collection&lt;String&gt;&gt;,Collection&lt;String&gt;&gt;</code>\n  cannot be converted to\n  <code>StyledDocument&lt;ParStyle,Either&lt;StyledText&lt;TextStyle&gt;,LinkedImage&lt;TextStyle&gt;&gt;,TextStyle&gt;</code></p>\n</blockquote>\n\n<p>and</p>\n\n<pre><code>= ReadOnlyStyledDocument.codec(codecs._1, codecs._2, textarea.getSegOps());\n</code></pre>\n\n<blockquote>\n  <p>error: incompatible types: inferred type does not conform to equality\n  constraint(s) inferred: <code>ParStyle</code>\n      equality constraints(s): <code>ParStyle</code>,<code>Collection&lt;String&gt;</code></p>\n</blockquote>\n\n<p>I have added all the required <code>.java</code> files and imported them into my main code. I thought it would be relatively trivial to implement this demo but it has been nothing but headaches.</p>\n\n<p>If this cannot be resolved, does anyone know an alternative way to save the text with formatting from RichTextFX?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","jackson","deserialization","json-deserialization","jackson2"],"comments":[{"owner":{"account_id":18542382,"reputation":3683,"user_id":13510562,"display_name":"rmunge"},"score":0,"creation_date":1647536517,"post_id":71515969,"comment_id":126401536,"body_markdown":"i would recommend a custom deserializer as described here: https://www.baeldung.com/jackson-deserialization","body":"i would recommend a custom deserializer as described here: <a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">baeldung.com/jackson-deserialization</a>"},{"owner":{"account_id":12015903,"reputation":1377,"user_id":8791066,"display_name":"Tom"},"score":0,"creation_date":1647538843,"post_id":71515969,"comment_id":126402352,"body_markdown":"I am not sure what you mean, I am already using a custom deserializer, the code is in my post. In the article you linked, I don&#39;t see how tot reat this specific problem. Am I missing something ?","body":"I am not sure what you mean, I am already using a custom deserializer, the code is in my post. In the article you linked, I don&#39;t see how tot reat this specific problem. Am I missing something ?"},{"owner":{"account_id":10153177,"reputation":5292,"user_id":7499069,"display_name":"tuhin47"},"score":0,"creation_date":1647543190,"post_id":71515969,"comment_id":126403831,"body_markdown":"you need to provide the code of MyTypeEnum and CommonObjectMapper","body":"you need to provide the code of MyTypeEnum and CommonObjectMapper"},{"owner":{"account_id":18542382,"reputation":3683,"user_id":13510562,"display_name":"rmunge"},"score":0,"creation_date":1647557754,"post_id":71515969,"comment_id":126408032,"body_markdown":"@Tom sorry my comment was not really clear enough: I wanted to suggest, that you use the already registered deserializers instead of a new ObjectMapper for parsing the value attribute  (whether they are custom or default parsers, doesn&#39;t really matter) . I&#39;ve added a complete answer with an example.","body":"@Tom sorry my comment was not really clear enough: I wanted to suggest, that you use the already registered deserializers instead of a new ObjectMapper for parsing the value attribute  (whether they are custom or default parsers, doesn&#39;t really matter) . I&#39;ve added a complete answer with an example."}],"answers":[{"tags":[],"owner":{"account_id":18542382,"reputation":3683,"user_id":13510562,"display_name":"rmunge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647557799,"creation_date":1647557469,"answer_id":71519951,"question_id":71515969,"body_markdown":"You could re-use already registered deserializers by using the JsonParser&#39;s codec and wrapping the node of the value attribute with a `TreeTraversingParser`:\r\n\r\n    import com.fasterxml.jackson.core.JacksonException;\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\n    import com.fasterxml.jackson.databind.node.TreeTraversingParser;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class MyCustomObjectDeserializer extends StdDeserializer&lt;MyCustomObject&lt;?&gt;&gt; {\r\n    \r\n        protected MyCustomObjectDeserializer() {\r\n            super(MyCustomObject.class);\r\n        }\r\n    \r\n        @Override\r\n        public MyCustomObject&lt;?&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n            JsonNode node = p.readValueAsTree();\r\n            MyTypeEnum type = MyTypeEnum.valueOf(node.get(&quot;type&quot;).asText());\r\n            Object value = p.getCodec().readValue(new TreeTraversingParser(node.get(&quot;value&quot;), p.getCodec()), type.getType());\r\n            return new MyCustomObject&lt;&gt;(type, value);\r\n        }\r\n    }","title":"How to write a custom Jackson deserialiser with a dynamic class that is provided by another field","body":"<p>You could re-use already registered deserializers by using the JsonParser's codec and wrapping the node of the value attribute with a <code>TreeTraversingParser</code>:</p>\n<pre><code>import com.fasterxml.jackson.core.JacksonException;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\nimport com.fasterxml.jackson.databind.node.TreeTraversingParser;\n\nimport java.io.IOException;\n\npublic class MyCustomObjectDeserializer extends StdDeserializer&lt;MyCustomObject&lt;?&gt;&gt; {\n\n    protected MyCustomObjectDeserializer() {\n        super(MyCustomObject.class);\n    }\n\n    @Override\n    public MyCustomObject&lt;?&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        JsonNode node = p.readValueAsTree();\n        MyTypeEnum type = MyTypeEnum.valueOf(node.get(&quot;type&quot;).asText());\n        Object value = p.getCodec().readValue(new TreeTraversingParser(node.get(&quot;value&quot;), p.getCodec()), type.getType());\n        return new MyCustomObject&lt;&gt;(type, value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12015903,"reputation":1377,"user_id":8791066,"display_name":"Tom"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647557799,"creation_date":1647534915,"question_id":71515969,"body_markdown":"I have this kind of object:\r\n```json\r\n{\r\n    &quot;type&quot;: &quot;MY_TYPE&quot;,\r\n    &quot;value&quot;: &quot;SomeCustomValue&quot;\r\n}\r\n```\r\nthe actual type of the field `Value` can change, but I can know this type thanks to the field `type`, which is mapped to a Java enum.\r\n\r\nThe POJO associated is as follows:\r\n```java\r\npublic class MyCustomObject&lt;T&gt; {\r\n\r\n  public MyTypeEnum type;\r\n  public T value;\r\n\r\n  public MyCustomObject(MyTypeEnum type, T value) {\r\n    this.type = type;\r\n    this.value = value;\r\n  }\r\n}\r\n```\r\nAnd my custom deserializer:\r\n```java\r\npublic class MyCustomObjectDeserializer extends JsonDeserializer&lt;MyCustomObject&lt;?&gt;&gt; {\r\n\r\n  public MyCustomObject&lt;?&gt; deserialize(JsonParser jsonParser, DeserializationContext context)\r\n      throws IOException, JsonProcessingException {\r\n    JsonNode node = jsonParser.readValueAsTree();\r\n\r\n    MyTypeEnum type = MyTypeEnum.valueOf(node.get(&quot;type&quot;).asText());\r\n    //CommonObjectMapper.get() returns a jackson object mapper\r\n    Object value = CommonObjectMapper.get().convertValue(node.get(&quot;value&quot;).asText(), type.getType());\r\n\r\n    return new MyCustomObject&lt;&gt;(data, value);\r\n  }\r\n}\r\n```\r\nAs you can see, I can get the actual type from `type.getType`, but then I have to get another object mapper to do the actual deserialisation for my `value` field.\r\n\r\nThis works, but I&#39;m pretty sure this is not the right way to do it ?","title":"How to write a custom Jackson deserialiser with a dynamic class that is provided by another field","body":"<p>I have this kind of object:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;type&quot;: &quot;MY_TYPE&quot;,\n    &quot;value&quot;: &quot;SomeCustomValue&quot;\n}\n</code></pre>\n<p>the actual type of the field <code>Value</code> can change, but I can know this type thanks to the field <code>type</code>, which is mapped to a Java enum.</p>\n<p>The POJO associated is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCustomObject&lt;T&gt; {\n\n  public MyTypeEnum type;\n  public T value;\n\n  public MyCustomObject(MyTypeEnum type, T value) {\n    this.type = type;\n    this.value = value;\n  }\n}\n</code></pre>\n<p>And my custom deserializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCustomObjectDeserializer extends JsonDeserializer&lt;MyCustomObject&lt;?&gt;&gt; {\n\n  public MyCustomObject&lt;?&gt; deserialize(JsonParser jsonParser, DeserializationContext context)\n      throws IOException, JsonProcessingException {\n    JsonNode node = jsonParser.readValueAsTree();\n\n    MyTypeEnum type = MyTypeEnum.valueOf(node.get(&quot;type&quot;).asText());\n    //CommonObjectMapper.get() returns a jackson object mapper\n    Object value = CommonObjectMapper.get().convertValue(node.get(&quot;value&quot;).asText(), type.getType());\n\n    return new MyCustomObject&lt;&gt;(data, value);\n  }\n}\n</code></pre>\n<p>As you can see, I can get the actual type from <code>type.getType</code>, but then I have to get another object mapper to do the actual deserialisation for my <code>value</code> field.</p>\n<p>This works, but I'm pretty sure this is not the right way to do it ?</p>\n"},{"tags":["java","spring-boot","spring-security","httprequest"],"answers":[{"tags":[],"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647556930,"creation_date":1647556116,"answer_id":71519767,"question_id":71510569,"body_markdown":"As of Spring Security 5.5, you can [use an `AuthorizationManager`][1] to enforce your authorization rules.\r\n\r\nThe following code assumes that `Employee` attributes are accessible from the current `Authentication` object.\r\n\r\n### AuthorizationManager\r\n\r\nInstead of:\r\n\r\n```java\r\nhttp.authorizeRequests().anyRequest().authenticated()\r\n```\r\n\r\nyou can do:\r\n\r\n```java\r\npublic class MyAuthorizationManager implements AuthorizationManager&lt;RequestAuthorizationContext&gt; {\r\n    private final String role;\r\n\r\n    // ... constructor\r\n\r\n    @Override\r\n    public AuthorizationDecision check(Supplier&lt;Authentication&gt; authentication, RequestAuthorizationContext context) {\r\n        Employee employee = (Employee) authentication.get().getPrincipal();\r\n        // check role\r\n    }\r\n\r\n    public static MyAuthorizationManager hasRole(String role) {\r\n        return new MyAuthorizationManager(role);\r\n    }\r\n}\r\n\r\n...\r\n\r\nhttp.authorizeHttpRequests().anyRequest().access(hasRole(&quot;ROLE_ADMIN&quot;));\r\n```\r\n\r\n### SpEL expression\r\n\r\nOr, you before 5.5, you can instead publish a custom `@Bean` and refer to it in a SpEL expression:\r\n\r\n```java\r\n@Component(&quot;authz&quot;)\r\npublic class MyAuthorizationBean {\r\n    @Override\r\n    public boolean hasRole(Authentication authentication, String role) {\r\n        Employee employee = (Employee) authentication.get().getPrincipal();\r\n        // check role\r\n    }\r\n}\r\n\r\n...\r\n\r\nhttp.authorizeRequests().anyRequest().access(&quot;@authz.hasRole(authentication, &#39;ROLE_ADMIN&#39;)&quot;);\r\n```\r\n\r\n### UserDetailsService\r\n\r\nOr, you can adapt your authorization model into Spring Security&#39;s in your custom `UserDetailsService`. The idea here is that you&#39;d look up the user&#39;s roles and permissions at authentication time and translate them into `GrantedAuthority` instances:\r\n\r\n```java\r\n@Component\r\npublic class CustomEmployeeDetailsService implements UserDetailsService {\r\n    private final EmployeeService employees;\r\n\r\n    @Override\r\n    public UserDetails findUserByUsername(String username) {\r\n        Employee employee = // ... lookup\r\n        return new EmployeeAdapter(employee);\r\n    }\r\n\r\n    private static final class EmployeeAdapter extends Employee implements UserDetails {\r\n        private final Collection&lt;GrantedAuthority&gt; authorities;\r\n\r\n        EmployeeAdapter(Employee employee) {\r\n            super(employee);\r\n            String role = employee.getRole().getTitle();\r\n            GrantedAuthority authority = new SimpleGrantedAuthority(role);\r\n            this.authorities = Collections.singleton(authority);\r\n        }\r\n\r\n        // ... implement `UserDetails` methods\r\n\r\n        @Override\r\n        Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            return this.authorities;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhile a bit more leg-work, the nice thing about this is then you can use Spring Security&#39;s native representation like so:\r\n\r\n```java\r\nhttp.authorizeHttpRequests().anyRequest().hasAuthority(&quot;ROLE_ADMIN&quot;)\r\n```\r\n\r\nSince the built-in `hasRole`/`hasAuthority`/etc. use the authentication&#39;s `GrantedAuthority` list. It&#39;s also nice that all that translation work is done one time up-front when the user logs in.\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.6.1/servlet/authorization/architecture.html#_the_authorizationmanager","title":"Springboot configure requests based on class attribute","body":"<p>As of Spring Security 5.5, you can <a href=\"https://docs.spring.io/spring-security/reference/5.6.1/servlet/authorization/architecture.html#_the_authorizationmanager\" rel=\"nofollow noreferrer\">use an <code>AuthorizationManager</code></a> to enforce your authorization rules.</p>\n<p>The following code assumes that <code>Employee</code> attributes are accessible from the current <code>Authentication</code> object.</p>\n<h3>AuthorizationManager</h3>\n<p>Instead of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.authorizeRequests().anyRequest().authenticated()\n</code></pre>\n<p>you can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyAuthorizationManager implements AuthorizationManager&lt;RequestAuthorizationContext&gt; {\n    private final String role;\n\n    // ... constructor\n\n    @Override\n    public AuthorizationDecision check(Supplier&lt;Authentication&gt; authentication, RequestAuthorizationContext context) {\n        Employee employee = (Employee) authentication.get().getPrincipal();\n        // check role\n    }\n\n    public static MyAuthorizationManager hasRole(String role) {\n        return new MyAuthorizationManager(role);\n    }\n}\n\n...\n\nhttp.authorizeHttpRequests().anyRequest().access(hasRole(&quot;ROLE_ADMIN&quot;));\n</code></pre>\n<h3>SpEL expression</h3>\n<p>Or, you before 5.5, you can instead publish a custom <code>@Bean</code> and refer to it in a SpEL expression:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component(&quot;authz&quot;)\npublic class MyAuthorizationBean {\n    @Override\n    public boolean hasRole(Authentication authentication, String role) {\n        Employee employee = (Employee) authentication.get().getPrincipal();\n        // check role\n    }\n}\n\n...\n\nhttp.authorizeRequests().anyRequest().access(&quot;@authz.hasRole(authentication, 'ROLE_ADMIN')&quot;);\n</code></pre>\n<h3>UserDetailsService</h3>\n<p>Or, you can adapt your authorization model into Spring Security's in your custom <code>UserDetailsService</code>. The idea here is that you'd look up the user's roles and permissions at authentication time and translate them into <code>GrantedAuthority</code> instances:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class CustomEmployeeDetailsService implements UserDetailsService {\n    private final EmployeeService employees;\n\n    @Override\n    public UserDetails findUserByUsername(String username) {\n        Employee employee = // ... lookup\n        return new EmployeeAdapter(employee);\n    }\n\n    private static final class EmployeeAdapter extends Employee implements UserDetails {\n        private final Collection&lt;GrantedAuthority&gt; authorities;\n\n        EmployeeAdapter(Employee employee) {\n            super(employee);\n            String role = employee.getRole().getTitle();\n            GrantedAuthority authority = new SimpleGrantedAuthority(role);\n            this.authorities = Collections.singleton(authority);\n        }\n\n        // ... implement `UserDetails` methods\n\n        @Override\n        Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n            return this.authorities;\n        }\n    }\n}\n</code></pre>\n<p>While a bit more leg-work, the nice thing about this is then you can use Spring Security's native representation like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.authorizeHttpRequests().anyRequest().hasAuthority(&quot;ROLE_ADMIN&quot;)\n</code></pre>\n<p>Since the built-in <code>hasRole</code>/<code>hasAuthority</code>/etc. use the authentication's <code>GrantedAuthority</code> list. It's also nice that all that translation work is done one time up-front when the user logs in.</p>\n"}],"owner":{"account_id":20493255,"reputation":31,"user_id":15038860,"display_name":"Mvfm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647556930,"creation_date":1647512080,"question_id":71510569,"body_markdown":"Im trying to create a employee managing system whilist studying spring security. I created a class employee, which has an attribute &#39;role&#39;.\r\nI want to limit the user&#39;s requests based on what the role is : whether it&#39;s an admin, supervisor etc.\r\n\r\nI found some answers, but it seems it&#39;s more related to different classes rather than different attributes within a class.\r\n\r\n```\r\n@Entity\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Permissions implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @ManyToMany(mappedBy = &quot;permissionsList&quot;)\r\n    private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n    private String title;\r\n    private String permission_description;\r\n\r\n    public Permissions(Long id, String title, String permission_description) {\r\n        this.id = id;\r\n        this.title = title;\r\n        this.permission_description = permission_description;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class Role implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String title;\r\n    private String description;\r\n\r\n    @OneToMany(mappedBy = &quot;role&quot;)\r\n    private List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;roles_permissions&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;role_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;permission_id&quot;)\r\n    )\r\n    private List&lt;Permissions&gt; permissionsList = new ArrayList&lt;&gt;();\r\n\r\n    public Role(Long id, String title, String description) {\r\n        this.id = id;\r\n        this.title = title;\r\n        this.description = description;\r\n    }\r\n\r\n    public Role() {\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Employee implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @TableGenerator(name = &quot;User_Gen&quot;, table = &quot;ID_GEN&quot;, pkColumnName = &quot;GEN_NAME&quot;, valueColumnName = &quot;GEN_VAL&quot;, pkColumnValue = &quot;User_Gen&quot;, initialValue = 10000, allocationSize = 100)\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;User_Gen&quot;)\r\n    private Long id;\r\n\r\n    @NotEmpty(message =&quot;Mandatory to fill in&quot;)\r\n    @Length(min=5, max=20, message =&quot;Size should be between 5 and 20&quot;)\r\n    private String name;\r\n    private String username;\r\n    @NotEmpty(message =&quot;Mandatory to fill in&quot;)\r\n    private String password;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;role_id&quot;)\r\n    private Role role;\r\n    @NotNull(message =&quot;Mandatory to fill in&quot;)\r\n    private Integer salary;\r\n    @NotEmpty(message =&quot;Mandatory to fill in&quot;)\r\n    @Length(min=5, max=20, message =&quot;Size should be between 5 and 20&quot;)\r\n    private String email;\r\n    private LocalDate date_of_birth;\r\n    private String address;\r\n    private String phoneNumber;\r\n    private String emergencyPhoneNumber;\r\n\r\n    @OneToMany(mappedBy = &quot;employee&quot;)\r\n    private List&lt;Leave&gt; leaves = new ArrayList&lt;&gt;();\r\n\r\n    public Employee(\r\n            Long id,\r\n            String name,\r\n            String password,\r\n            Role role,\r\n            Integer salary,\r\n            String email,\r\n            LocalDate date_of_birth,\r\n            String address,\r\n            String phoneNumber) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.password=password;\r\n        this.role = role;\r\n        this.email = email;\r\n        this.date_of_birth = date_of_birth;\r\n        this.address = address;\r\n        this.phoneNumber = phoneNumber;\r\n        this.salary=salary;\r\n    }\r\n\r\n    public Integer getTotalHolidaysTaken(){\r\n\r\n        AtomicReference&lt;Integer&gt; count = new AtomicReference&lt;&gt;(0);\r\n\r\n        getLeaves().stream()\r\n                .forEach(l -&gt; {\r\n                    if (l.getLeaveType().getCode()==1){\r\n                        count.updateAndGet(v -&gt; Math.toIntExact(v + DAYS.between(l.getLeaveFrom(), l.getLeaveTo())));\r\n                    }\r\n                });\r\n\r\n\r\n        return count.get();\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Autowired\r\n    private CustomEmployeeDetailsService employeeDetailsService;\r\n\r\n    @Autowired\r\n    private JwtFilter jwtFilter;\r\n\r\n\r\n    private static final String[] PUBLIC_MATCHERS = {\r\n            &quot;/authenticate-employee&quot;,\r\n    };\r\n\r\n    private static final String[] PUBLIC_MATCHERS_POST = {\r\n\r\n\r\n\r\n    };\r\n\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.\r\n                userDetailsService(employeeDetailsService);\r\n    }\r\n\r\n    @Bean(name = BeanIds.AUTHENTICATION_MANAGER)\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf()\r\n                .disable()\r\n                .authorizeRequests()\r\n                .antMatchers(PUBLIC_MATCHERS)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated().and().exceptionHandling().and().sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n    }\r\n}\r\n```\r\n\r\nWhat I want to achieve is, for example, if the employee is a Hiring Manager, they can add new employees to the system or delete them(which are going to be configured by the permissions when the role is created). But I don&#39;t want every employee to have these rights.","title":"Springboot configure requests based on class attribute","body":"<p>Im trying to create a employee managing system whilist studying spring security. I created a class employee, which has an attribute 'role'.\nI want to limit the user's requests based on what the role is : whether it's an admin, supervisor etc.</p>\n<p>I found some answers, but it seems it's more related to different classes rather than different attributes within a class.</p>\n<pre><code>@Entity\n@NoArgsConstructor\n@Getter\n@Setter\npublic class Permissions implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @ManyToMany(mappedBy = &quot;permissionsList&quot;)\n    private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n    private String title;\n    private String permission_description;\n\n    public Permissions(Long id, String title, String permission_description) {\n        this.id = id;\n        this.title = title;\n        this.permission_description = permission_description;\n    }\n}\n\n</code></pre>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Role implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String title;\n    private String description;\n\n    @OneToMany(mappedBy = &quot;role&quot;)\n    private List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;roles_permissions&quot;,\n            joinColumns = @JoinColumn(name = &quot;role_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;permission_id&quot;)\n    )\n    private List&lt;Permissions&gt; permissionsList = new ArrayList&lt;&gt;();\n\n    public Role(Long id, String title, String description) {\n        this.id = id;\n        this.title = title;\n        this.description = description;\n    }\n\n    public Role() {\n    }\n}\n</code></pre>\n<pre><code>@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class Employee implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @TableGenerator(name = &quot;User_Gen&quot;, table = &quot;ID_GEN&quot;, pkColumnName = &quot;GEN_NAME&quot;, valueColumnName = &quot;GEN_VAL&quot;, pkColumnValue = &quot;User_Gen&quot;, initialValue = 10000, allocationSize = 100)\n    @Id\n    @GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;User_Gen&quot;)\n    private Long id;\n\n    @NotEmpty(message =&quot;Mandatory to fill in&quot;)\n    @Length(min=5, max=20, message =&quot;Size should be between 5 and 20&quot;)\n    private String name;\n    private String username;\n    @NotEmpty(message =&quot;Mandatory to fill in&quot;)\n    private String password;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;role_id&quot;)\n    private Role role;\n    @NotNull(message =&quot;Mandatory to fill in&quot;)\n    private Integer salary;\n    @NotEmpty(message =&quot;Mandatory to fill in&quot;)\n    @Length(min=5, max=20, message =&quot;Size should be between 5 and 20&quot;)\n    private String email;\n    private LocalDate date_of_birth;\n    private String address;\n    private String phoneNumber;\n    private String emergencyPhoneNumber;\n\n    @OneToMany(mappedBy = &quot;employee&quot;)\n    private List&lt;Leave&gt; leaves = new ArrayList&lt;&gt;();\n\n    public Employee(\n            Long id,\n            String name,\n            String password,\n            Role role,\n            Integer salary,\n            String email,\n            LocalDate date_of_birth,\n            String address,\n            String phoneNumber) {\n        this.id = id;\n        this.name = name;\n        this.password=password;\n        this.role = role;\n        this.email = email;\n        this.date_of_birth = date_of_birth;\n        this.address = address;\n        this.phoneNumber = phoneNumber;\n        this.salary=salary;\n    }\n\n    public Integer getTotalHolidaysTaken(){\n\n        AtomicReference&lt;Integer&gt; count = new AtomicReference&lt;&gt;(0);\n\n        getLeaves().stream()\n                .forEach(l -&gt; {\n                    if (l.getLeaveType().getCode()==1){\n                        count.updateAndGet(v -&gt; Math.toIntExact(v + DAYS.between(l.getLeaveFrom(), l.getLeaveTo())));\n                    }\n                });\n\n\n        return count.get();\n\n\n    }\n\n}\n\n</code></pre>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private Environment env;\n\n    @Autowired\n    private CustomEmployeeDetailsService employeeDetailsService;\n\n    @Autowired\n    private JwtFilter jwtFilter;\n\n\n    private static final String[] PUBLIC_MATCHERS = {\n            &quot;/authenticate-employee&quot;,\n    };\n\n    private static final String[] PUBLIC_MATCHERS_POST = {\n\n\n\n    };\n\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.\n                userDetailsService(employeeDetailsService);\n    }\n\n    @Bean(name = BeanIds.AUTHENTICATION_MANAGER)\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf()\n                .disable()\n                .authorizeRequests()\n                .antMatchers(PUBLIC_MATCHERS)\n                .permitAll()\n                .anyRequest()\n                .authenticated().and().exceptionHandling().and().sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n\n    }\n}\n</code></pre>\n<p>What I want to achieve is, for example, if the employee is a Hiring Manager, they can add new employees to the system or delete them(which are going to be configured by the permissions when the role is created). But I don't want every employee to have these rights.</p>\n"},{"tags":["java","android","imageview","picasso"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647584906,"post_id":71519866,"comment_id":126412505,"body_markdown":"Dont use runOnUiThread() in doInBackground(). Execute that code in onPostExecute().","body":"Dont use runOnUiThread() in doInBackground(). Execute that code in onPostExecute()."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647585015,"post_id":71519866,"comment_id":126412523,"body_markdown":"And do without that .get() for Picasso.","body":"And do without that .get() for Picasso."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1647586375,"post_id":71519866,"comment_id":126412781,"body_markdown":"Further it comes to mind the question why you dont use a ListView or RecycleView with a list item containing an ImageView.","body":"Further it comes to mind the question why you dont use a ListView or RecycleView with a list item containing an ImageView."},{"owner":{"account_id":24594512,"reputation":23,"user_id":18497897,"display_name":"l o a w k"},"score":0,"creation_date":1647594448,"post_id":71519866,"comment_id":126414873,"body_markdown":"I finally put it in a listView, I didn&#39;t do it before since it&#39;s a tool I&#39;m not very comfortable with and that I didn&#39;t consider as the solution to my problem, thanks a lot!","body":"I finally put it in a listView, I didn&#39;t do it before since it&#39;s a tool I&#39;m not very comfortable with and that I didn&#39;t consider as the solution to my problem, thanks a lot!"}],"owner":{"account_id":24594512,"reputation":23,"user_id":18497897,"display_name":"l o a w k"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647556771,"creation_date":1647556771,"question_id":71519866,"body_markdown":"I have a **problem** that I really can&#39;t solve for a while and I need your help.\r\n\r\nIn my application, I get via a site the url of an indeterminate number of images (it can have 10 or 20 depending on the chapter). \r\n\r\nSo I make a for loop that creates the same number of ImageViews as the image taken from the site and **loads the images from their url** (with **Picasso**) that I just found.\r\n\r\nThe problem is that my application **suspends all my threads** and only half of the images are loaded and only the last ones.\r\n\r\nThe problem did not occur until I generated the APK to export the project to my phone.\r\n\r\nI tried everything: change the library to load the image, create the imageView with xml and not javacode, avoid the loop and put all the lines manually but nothing worked.\r\n\r\nMy code here:\r\n\r\n```\r\npackage fr.loawk.mangascantrad;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.ActionBar;\r\nimport android.content.AsyncQueryHandler;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.Toast;\r\n\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport org.jsoup.Jsoup;\r\nimport org.jsoup.nodes.Document;\r\nimport org.jsoup.nodes.Element;\r\nimport org.jsoup.select.Elements;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\npublic class page_lecture extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_page_lecture);\r\n        Intent mIntent = getIntent();\r\n        int i = mIntent.getIntExtra(&quot;position&quot;, 0);\r\n        String chapitres = mIntent.getStringExtra(&quot;chapter&quot;);\r\n        try {\r\n            chapitre(i, chapitres);\r\n        } catch (IOException e) {\r\n            Toast.makeText(getApplicationContext(), &quot;Nous n&#39;avons pas pu acc&#233;der aux images&quot;, Toast.LENGTH_LONG).show();\r\n            Intent intent = new Intent(page_lecture.this, MainActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n    }\r\n\r\n\r\n    public void chapitre(int i, String manwhaChap) throws IOException {\r\n        class Chapitre extends AsyncTask&lt;Void, Void, Void&gt; {\r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n\r\n                String manwhaTitle = DatabaseClient\r\n                        .getInstance(getApplicationContext())\r\n                        .getAppDatabase()\r\n                        .manwhaDao()\r\n                        .loadSingle(i);\r\n                Log.d(&quot;F7UTI&quot;, &quot;&quot; + manwhaChap + manwhaTitle);\r\n                String title = manwhaTitle.toLowerCase().replace(&quot; &quot;, &quot;-&quot;);\r\n                String chapUrl = manwhaChap.toLowerCase().replace(&quot;.&quot;, &quot;-&quot;);\r\n\r\n                if(manwhaChap.contains(&quot; &quot;)){\r\n                    chapUrl = manwhaChap.toLowerCase().replace(&quot; &quot;, &quot;-&quot;);\r\n                }else if(manwhaChap.contains(&quot; - FIN !&quot;)){\r\n                    chapUrl = manwhaChap.toLowerCase().replace(&quot; - FIN !&quot;, &quot;-fin&quot;).replace(&quot;.&quot;,&quot;-&quot;);\r\n                }\r\n                if(title.contains(&quot;tales-of-demons-and-gods&quot;)){\r\n                    title += &quot;-scan-fr&quot;;\r\n                }if(manwhaChap.contains(&quot;Vol&quot;)){\r\n                    chapUrl = manwhaChap.toLowerCase().replace(&quot;.&quot;, &quot;-&quot;).replace(&quot; &quot;, &quot;-&quot;);\r\n                }\r\n\r\n                String url= &quot;https://manga-scantrad.net/manga/&quot;+title+&quot;/&quot;+chapUrl+&quot;/&quot;;\r\n                Document newChap = null;\r\n                try {\r\n                    newChap = (Document) Jsoup.connect(url).get();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                Elements chaps = newChap.select(&quot;div.page-break.no-gaps&quot;);\r\n                DatabaseClient2.getInstance(getApplicationContext()).getAppDatabase2()\r\n                        .chapterDao()\r\n                        .nukeTable();\r\n\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            LinearLayout myLayout = findViewById(R.id.Liner_layout);\r\n                            ViewGroup.LayoutParams params = new ActionBar.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n\r\n                            for(int j=0;j&lt;=chaps.size()-1;j++) {\r\n                                LinearLayout LinearLayout = (LinearLayout) findViewById(R.id.Liner_layout);\r\n                                LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(android.widget.LinearLayout.LayoutParams.WRAP_CONTENT, android.widget.LinearLayout.LayoutParams.WRAP_CONTENT);\r\n                                ImageView imageView = new ImageView(getApplicationContext());\r\n                                imageView.setAdjustViewBounds(true);\r\n                                imageView.setCropToPadding(false);\r\n                                LinearLayout.addView(imageView, layoutParams);\r\n\r\n                                Picasso.get().load(chaps.get(j).select(&quot;img&quot;).first().absUrl(&quot;data-src&quot;)).noPlaceholder().tag(&quot;pas image&quot;).into(imageView);\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Void aVoid) {\r\n                super.onPostExecute(aVoid);\r\n                return;\r\n            }\r\n        }\r\n\r\n        Chapitre st = new Chapitre();\r\n        st.execute();\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\nMy errors\r\n\r\n```\r\n\r\n2022-03-17 23:18:44.659 30187-30238/fr.loawk.mangascantrad W/k.mangascantra: Accessing hidden method Lcom/android/org/conscrypt/AbstractConscryptSocket;-&gt;getAlpnSelectedProtocol()[B (greylist-max-q, reflection, denied)\r\n2022-03-17 23:18:45.028 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 5.057ms\r\n2022-03-17 23:18:45.290 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 11.955ms\r\n2022-03-17 23:18:45.406 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 7.369ms\r\n2022-03-17 23:18:45.764 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: Waiting for a blocking GC Instrumentation\r\n2022-03-17 23:18:45.973 30187-30207/fr.loawk.mangascantrad I/k.mangascantra: NativeAlloc concurrent copying GC freed 179282(9111KB) AllocSpace objects, 23(652KB) LOS objects, 49% free, 4217KB/8435KB, paused 11.954ms total 210.378ms\r\n2022-03-17 23:18:45.973 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: WaitForGcToComplete blocked Instrumentation on Instrumentation for 208.988ms\r\n2022-03-17 23:18:45.986 30187-30210/fr.loawk.mangascantrad W/System: A resource failed to call close. \r\n2022-03-17 23:18:46.080 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 5.858ms\r\n2022-03-17 23:18:46.131 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: Waiting for a blocking GC Instrumentation\r\n2022-03-17 23:18:46.249 30187-30207/fr.loawk.mangascantrad I/k.mangascantra: NativeAlloc concurrent copying GC freed 11827(654KB) AllocSpace objects, 3(60KB) LOS objects, 49% free, 3799KB/7599KB, paused 573us total 119.059ms\r\n2022-03-17 23:18:46.249 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: WaitForGcToComplete blocked Instrumentation on Instrumentation for 118.381ms\r\n2022-03-17 23:18:46.341 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 5.245ms\r\n2022-03-17 23:18:46.470 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 6.680ms\r\n2022-03-17 23:18:46.524 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: Waiting for a blocking GC Instrumentation\r\n2022-03-17 23:18:46.595 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: WaitForGcToComplete blocked Instrumentation on Instrumentation for 71.133ms\r\n2022-03-17 23:18:48.021 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 9.859ms\r\n2022-03-17 23:18:49.323 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 13.267ms\r\n2022-03-17 23:18:49.668 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 7.308ms\r\n2022-03-17 23:18:50.021 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 10.928ms\r\n2022-03-17 23:18:50.047 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 16.346ms\r\n2022-03-17 23:18:51.972 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 12.937ms\r\n2022-03-17 23:18:53.926 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: WaitForGcToComplete blocked Instrumentation on None for 17.053ms\r\n2022-03-17 23:18:54.097 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 19.992ms\r\n2022-03-17 23:18:54.192 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 11.175ms\r\n2022-03-17 23:18:54.219 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 9.839ms\r\n2022-03-17 23:18:55.632 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 5.185ms\r\n2022-03-17 23:18:55.653 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 9.342ms\r\n2022-03-17 23:19:10.795 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 30.719ms\r\n2022-03-17 23:19:11.778 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 9.566ms\r\n2022-03-17 23:19:13.789 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 17.807ms\r\n2022-03-17 23:19:21.808 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: WaitForGcToComplete blocked Instrumentation on None for 5.137ms\r\n2022-03-17 23:20:11.802 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: Waiting for a blocking GC Instrumentation\r\n2022-03-17 23:20:42.411 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 6.928ms\r\n2022-03-17 23:23:39.282 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 5.406ms\r\n2022-03-17 23:27:30.048 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 5.597ms\r\n2022-03-17 23:27:30.093 30187-30226/fr.loawk.mangascantrad I/k.mangascantra: Waiting for a blocking GC ProfileSaver\r\n2022-03-17 23:27:30.100 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: Waiting for a blocking GC Instrumentation\r\n2022-03-17 23:27:30.758 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 8.190ms\r\n2022-03-17 23:27:30.793 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 25.199ms\r\n2022-03-17 23:27:32.909 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 17.207ms\r\n2022-03-17 23:28:24.061 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: WaitForGcToComplete blocked Instrumentation on None for 5.169ms\r\n```\r\n\r\n\r\n","title":"Error with Loading a lot of image from url Android Studio","body":"<p>I have a <strong>problem</strong> that I really can't solve for a while and I need your help.</p>\n<p>In my application, I get via a site the url of an indeterminate number of images (it can have 10 or 20 depending on the chapter).</p>\n<p>So I make a for loop that creates the same number of ImageViews as the image taken from the site and <strong>loads the images from their url</strong> (with <strong>Picasso</strong>) that I just found.</p>\n<p>The problem is that my application <strong>suspends all my threads</strong> and only half of the images are loaded and only the last ones.</p>\n<p>The problem did not occur until I generated the APK to export the project to my phone.</p>\n<p>I tried everything: change the library to load the image, create the imageView with xml and not javacode, avoid the loop and put all the lines manually but nothing worked.</p>\n<p>My code here:</p>\n<pre><code>package fr.loawk.mangascantrad;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.ActionBar;\nimport android.content.AsyncQueryHandler;\nimport android.content.Intent;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.Toast;\n\nimport com.squareup.picasso.Picasso;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\n\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class page_lecture extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_page_lecture);\n        Intent mIntent = getIntent();\n        int i = mIntent.getIntExtra(&quot;position&quot;, 0);\n        String chapitres = mIntent.getStringExtra(&quot;chapter&quot;);\n        try {\n            chapitre(i, chapitres);\n        } catch (IOException e) {\n            Toast.makeText(getApplicationContext(), &quot;Nous n'avons pas pu accéder aux images&quot;, Toast.LENGTH_LONG).show();\n            Intent intent = new Intent(page_lecture.this, MainActivity.class);\n            startActivity(intent);\n            finish();\n        }\n    }\n\n\n    public void chapitre(int i, String manwhaChap) throws IOException {\n        class Chapitre extends AsyncTask&lt;Void, Void, Void&gt; {\n            @Override\n            protected Void doInBackground(Void... voids) {\n\n                String manwhaTitle = DatabaseClient\n                        .getInstance(getApplicationContext())\n                        .getAppDatabase()\n                        .manwhaDao()\n                        .loadSingle(i);\n                Log.d(&quot;F7UTI&quot;, &quot;&quot; + manwhaChap + manwhaTitle);\n                String title = manwhaTitle.toLowerCase().replace(&quot; &quot;, &quot;-&quot;);\n                String chapUrl = manwhaChap.toLowerCase().replace(&quot;.&quot;, &quot;-&quot;);\n\n                if(manwhaChap.contains(&quot; &quot;)){\n                    chapUrl = manwhaChap.toLowerCase().replace(&quot; &quot;, &quot;-&quot;);\n                }else if(manwhaChap.contains(&quot; - FIN !&quot;)){\n                    chapUrl = manwhaChap.toLowerCase().replace(&quot; - FIN !&quot;, &quot;-fin&quot;).replace(&quot;.&quot;,&quot;-&quot;);\n                }\n                if(title.contains(&quot;tales-of-demons-and-gods&quot;)){\n                    title += &quot;-scan-fr&quot;;\n                }if(manwhaChap.contains(&quot;Vol&quot;)){\n                    chapUrl = manwhaChap.toLowerCase().replace(&quot;.&quot;, &quot;-&quot;).replace(&quot; &quot;, &quot;-&quot;);\n                }\n\n                String url= &quot;https://manga-scantrad.net/manga/&quot;+title+&quot;/&quot;+chapUrl+&quot;/&quot;;\n                Document newChap = null;\n                try {\n                    newChap = (Document) Jsoup.connect(url).get();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                Elements chaps = newChap.select(&quot;div.page-break.no-gaps&quot;);\n                DatabaseClient2.getInstance(getApplicationContext()).getAppDatabase2()\n                        .chapterDao()\n                        .nukeTable();\n\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            LinearLayout myLayout = findViewById(R.id.Liner_layout);\n                            ViewGroup.LayoutParams params = new ActionBar.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT);\n\n                            for(int j=0;j&lt;=chaps.size()-1;j++) {\n                                LinearLayout LinearLayout = (LinearLayout) findViewById(R.id.Liner_layout);\n                                LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(android.widget.LinearLayout.LayoutParams.WRAP_CONTENT, android.widget.LinearLayout.LayoutParams.WRAP_CONTENT);\n                                ImageView imageView = new ImageView(getApplicationContext());\n                                imageView.setAdjustViewBounds(true);\n                                imageView.setCropToPadding(false);\n                                LinearLayout.addView(imageView, layoutParams);\n\n                                Picasso.get().load(chaps.get(j).select(&quot;img&quot;).first().absUrl(&quot;data-src&quot;)).noPlaceholder().tag(&quot;pas image&quot;).into(imageView);\n                            }\n                        }\n                    });\n\n                return null;\n            }\n\n            @Override\n            protected void onPostExecute(Void aVoid) {\n                super.onPostExecute(aVoid);\n                return;\n            }\n        }\n\n        Chapitre st = new Chapitre();\n        st.execute();\n\n\n    }\n\n}\n</code></pre>\n<p>My errors</p>\n<pre><code>\n2022-03-17 23:18:44.659 30187-30238/fr.loawk.mangascantrad W/k.mangascantra: Accessing hidden method Lcom/android/org/conscrypt/AbstractConscryptSocket;-&gt;getAlpnSelectedProtocol()[B (greylist-max-q, reflection, denied)\n2022-03-17 23:18:45.028 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 5.057ms\n2022-03-17 23:18:45.290 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 11.955ms\n2022-03-17 23:18:45.406 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 7.369ms\n2022-03-17 23:18:45.764 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: Waiting for a blocking GC Instrumentation\n2022-03-17 23:18:45.973 30187-30207/fr.loawk.mangascantrad I/k.mangascantra: NativeAlloc concurrent copying GC freed 179282(9111KB) AllocSpace objects, 23(652KB) LOS objects, 49% free, 4217KB/8435KB, paused 11.954ms total 210.378ms\n2022-03-17 23:18:45.973 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: WaitForGcToComplete blocked Instrumentation on Instrumentation for 208.988ms\n2022-03-17 23:18:45.986 30187-30210/fr.loawk.mangascantrad W/System: A resource failed to call close. \n2022-03-17 23:18:46.080 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 5.858ms\n2022-03-17 23:18:46.131 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: Waiting for a blocking GC Instrumentation\n2022-03-17 23:18:46.249 30187-30207/fr.loawk.mangascantrad I/k.mangascantra: NativeAlloc concurrent copying GC freed 11827(654KB) AllocSpace objects, 3(60KB) LOS objects, 49% free, 3799KB/7599KB, paused 573us total 119.059ms\n2022-03-17 23:18:46.249 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: WaitForGcToComplete blocked Instrumentation on Instrumentation for 118.381ms\n2022-03-17 23:18:46.341 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 5.245ms\n2022-03-17 23:18:46.470 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 6.680ms\n2022-03-17 23:18:46.524 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: Waiting for a blocking GC Instrumentation\n2022-03-17 23:18:46.595 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: WaitForGcToComplete blocked Instrumentation on Instrumentation for 71.133ms\n2022-03-17 23:18:48.021 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 9.859ms\n2022-03-17 23:18:49.323 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 13.267ms\n2022-03-17 23:18:49.668 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 7.308ms\n2022-03-17 23:18:50.021 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 10.928ms\n2022-03-17 23:18:50.047 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 16.346ms\n2022-03-17 23:18:51.972 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 12.937ms\n2022-03-17 23:18:53.926 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: WaitForGcToComplete blocked Instrumentation on None for 17.053ms\n2022-03-17 23:18:54.097 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 19.992ms\n2022-03-17 23:18:54.192 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 11.175ms\n2022-03-17 23:18:54.219 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 9.839ms\n2022-03-17 23:18:55.632 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 5.185ms\n2022-03-17 23:18:55.653 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 9.342ms\n2022-03-17 23:19:10.795 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 30.719ms\n2022-03-17 23:19:11.778 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 9.566ms\n2022-03-17 23:19:13.789 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 17.807ms\n2022-03-17 23:19:21.808 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: WaitForGcToComplete blocked Instrumentation on None for 5.137ms\n2022-03-17 23:20:11.802 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: Waiting for a blocking GC Instrumentation\n2022-03-17 23:20:42.411 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 6.928ms\n2022-03-17 23:23:39.282 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 5.406ms\n2022-03-17 23:27:30.048 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 5.597ms\n2022-03-17 23:27:30.093 30187-30226/fr.loawk.mangascantrad I/k.mangascantra: Waiting for a blocking GC ProfileSaver\n2022-03-17 23:27:30.100 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: Waiting for a blocking GC Instrumentation\n2022-03-17 23:27:30.758 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 8.190ms\n2022-03-17 23:27:30.793 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 25.199ms\n2022-03-17 23:27:32.909 30187-30232/fr.loawk.mangascantrad W/k.mangascantra: Suspending all threads took: 17.207ms\n2022-03-17 23:28:24.061 30187-30232/fr.loawk.mangascantrad I/k.mangascantra: WaitForGcToComplete blocked Instrumentation on None for 5.169ms\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","retrofit"],"comments":[{"owner":{"account_id":21511170,"reputation":136,"user_id":15853851,"display_name":"marco"},"score":0,"creation_date":1647550809,"post_id":71518931,"comment_id":126406377,"body_markdown":"Try to call the ```getproductList()``` after you set the parameter for RecyclerView. So at the end of the onCreate.","body":"Try to call the <code>getproductList()</code> after you set the parameter for RecyclerView. So at the end of the onCreate."},{"owner":{"account_id":11445067,"reputation":512,"user_id":8389244,"display_name":"Max M"},"score":1,"creation_date":1647551027,"post_id":71518931,"comment_id":126406449,"body_markdown":"Why not initialize the list as an empty list when declaring it?","body":"Why not initialize the list as an empty list when declaring it?"}],"answers":[{"tags":[],"owner":{"account_id":21511170,"reputation":136,"user_id":15853851,"display_name":"marco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647551112,"creation_date":1647551112,"answer_id":71519026,"question_id":71518931,"body_markdown":"First, call the ```getProductList```at the end of onCreate.\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState); \r\n    List&lt;Product&gt; productlist = new ArrayList&lt;Product&gt;();\r\n    setContentView(R.layout.activity_inventory_info);\r\n    productService = new ProductService(this);\r\n    recyclerView  = findViewById(R.id.recycler_inventory);\r\n    recyclerView.setLayoutManager(new LinearLayoutManager(InventoryInfoActivity.this));\r\n    inventoryInfoRecyclerViewAdapter = new InventoryInfoRecyclerViewAdapter(productList,this);\r\n    recyclerView.setAdapter(inventoryInfoRecyclerViewAdapter);\r\n    this.getProductList();\r\n}\r\n```\r\nThen I presume that ```getProductList``` should be return a List of Product or a List of your another class.\r\n```\r\nprivate ArrayList&lt;Product&gt; getProductList() {\r\n    productService.getProducts().enqueue(new Callback&lt;List&lt;Product&gt;&gt;() {\r\n        @Override\r\n        public void onResponse(Call&lt;List&lt;Product&gt;&gt; call, Response&lt;List&lt;Product&gt;&gt; response) {\r\n            if (response.isSuccessful()) {\r\n                Log.i(&quot;REQUEST&quot;,&quot;OK&quot;);\r\n               // ASSIGN\r\n                productList = response.body();\r\n            }else {\r\n                Log.i(&quot;REQUEST&quot;,&quot;BAD&quot;);\r\n                productList = new ArrayList&lt;&gt;();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(Call&lt;List&lt;Product&gt;&gt; call, Throwable t) {\r\n            Log.i(&quot;REQUEST&quot;,&quot;FAILED&quot;);\r\n            productList = new ArrayList&lt;&gt;();\r\n        }\r\n    });\r\n}\r\nreturn productList;\r\n```","title":"Retrofit RecyclerViewAdapter List not assigned","body":"<p>First, call the <code>getProductList</code>at the end of onCreate.</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState); \n    List&lt;Product&gt; productlist = new ArrayList&lt;Product&gt;();\n    setContentView(R.layout.activity_inventory_info);\n    productService = new ProductService(this);\n    recyclerView  = findViewById(R.id.recycler_inventory);\n    recyclerView.setLayoutManager(new LinearLayoutManager(InventoryInfoActivity.this));\n    inventoryInfoRecyclerViewAdapter = new InventoryInfoRecyclerViewAdapter(productList,this);\n    recyclerView.setAdapter(inventoryInfoRecyclerViewAdapter);\n    this.getProductList();\n}\n</code></pre>\n<p>Then I presume that <code>getProductList</code> should be return a List of Product or a List of your another class.</p>\n<pre><code>private ArrayList&lt;Product&gt; getProductList() {\n    productService.getProducts().enqueue(new Callback&lt;List&lt;Product&gt;&gt;() {\n        @Override\n        public void onResponse(Call&lt;List&lt;Product&gt;&gt; call, Response&lt;List&lt;Product&gt;&gt; response) {\n            if (response.isSuccessful()) {\n                Log.i(&quot;REQUEST&quot;,&quot;OK&quot;);\n               // ASSIGN\n                productList = response.body();\n            }else {\n                Log.i(&quot;REQUEST&quot;,&quot;BAD&quot;);\n                productList = new ArrayList&lt;&gt;();\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;List&lt;Product&gt;&gt; call, Throwable t) {\n            Log.i(&quot;REQUEST&quot;,&quot;FAILED&quot;);\n            productList = new ArrayList&lt;&gt;();\n        }\n    });\n}\nreturn productList;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2711237,"reputation":612,"user_id":2339647,"accept_rate":33,"display_name":"Olcay S&#246;nmez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647556677,"creation_date":1647556677,"answer_id":71519853,"question_id":71518931,"body_markdown":"The problem is here that after you get your response you should inform your adapter that you have a new List. There are many cool methods in RecyclerView called `notifiyDataSetChanged`. \r\n\r\nWhat you did is not all wrong. Let me explain what you can do in your code:\r\n\r\n 1. The variable that you define is a list which doesn’t have any value so its null. \r\n\r\n`private List&lt;Product&gt; items = new ArrayList&lt;Product&gt;();` \r\n\r\nor you should fix the getItems method in your adapter like below: \r\n\r\n     public int getItems() {\r\n        return items == null || items.isEmpty() ? 0 : items.size();\r\n    }\r\n\r\n 2. After you get your response, please pass the new list to adapter. First you need to create in adapter a method that pass those data like below\r\n\r\n```\r\n    //  in your adapter\r\n    public void setData(List&lt;String&gt; newItems) {\r\n        adapterItems.clear();\r\n        adapterItems.addAll(newItems);\r\n        notifyDataSetChange();\r\n    }\r\n```\r\nand then after your successfull api call you should do it like below:\r\n\r\n```\r\nprivate void getProductList() {\r\n        productService.getProducts().enqueue(new Callback&lt;List&lt;Product&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;List&lt;Product&gt;&gt; call, Response&lt;List&lt;Product&gt;&gt; response) {\r\n                if (response.isSuccessful()) {\r\n                    Log.i(&quot;REQUEST&quot;, &quot;OK&quot;);\r\n                    // ASSIGN\r\n                    productList = response.body();\r\n        \r\n                    //!! This is here important\r\n\r\n                    inventoryInfoRecyclerViewAdapter.setData(productList);\r\n\r\n                    //!! This is here important \r\n\r\n                } else {\r\n                    Log.i(&quot;REQUEST&quot;, &quot;BAD&quot;);\r\n                    productList = new ArrayList&lt;&gt;();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;List&lt;Product&gt;&gt; call, Throwable t) {\r\n                Log.i(&quot;REQUEST&quot;, &quot;FAILED&quot;);\r\n                productList = new ArrayList&lt;&gt;();\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nNow that’s it. You should now have you recyclerView updated with the new list. \r\n\r\n","title":"Retrofit RecyclerViewAdapter List not assigned","body":"<p>The problem is here that after you get your response you should inform your adapter that you have a new List. There are many cool methods in RecyclerView called <code>notifiyDataSetChanged</code>.</p>\n<p>What you did is not all wrong. Let me explain what you can do in your code:</p>\n<ol>\n<li>The variable that you define is a list which doesn’t have any value so its null.</li>\n</ol>\n<p><code>private List&lt;Product&gt; items = new ArrayList&lt;Product&gt;();</code></p>\n<p>or you should fix the getItems method in your adapter like below:</p>\n<pre><code> public int getItems() {\n    return items == null || items.isEmpty() ? 0 : items.size();\n}\n</code></pre>\n<ol start=\"2\">\n<li>After you get your response, please pass the new list to adapter. First you need to create in adapter a method that pass those data like below</li>\n</ol>\n<pre><code>    //  in your adapter\n    public void setData(List&lt;String&gt; newItems) {\n        adapterItems.clear();\n        adapterItems.addAll(newItems);\n        notifyDataSetChange();\n    }\n</code></pre>\n<p>and then after your successfull api call you should do it like below:</p>\n<pre><code>private void getProductList() {\n        productService.getProducts().enqueue(new Callback&lt;List&lt;Product&gt;&gt;() {\n            @Override\n            public void onResponse(Call&lt;List&lt;Product&gt;&gt; call, Response&lt;List&lt;Product&gt;&gt; response) {\n                if (response.isSuccessful()) {\n                    Log.i(&quot;REQUEST&quot;, &quot;OK&quot;);\n                    // ASSIGN\n                    productList = response.body();\n        \n                    //!! This is here important\n\n                    inventoryInfoRecyclerViewAdapter.setData(productList);\n\n                    //!! This is here important \n\n                } else {\n                    Log.i(&quot;REQUEST&quot;, &quot;BAD&quot;);\n                    productList = new ArrayList&lt;&gt;();\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;List&lt;Product&gt;&gt; call, Throwable t) {\n                Log.i(&quot;REQUEST&quot;, &quot;FAILED&quot;);\n                productList = new ArrayList&lt;&gt;();\n            }\n        });\n    }\n</code></pre>\n<p>Now that’s it. You should now have you recyclerView updated with the new list.</p>\n"}],"owner":{"account_id":18256381,"reputation":46,"user_id":13290239,"display_name":"İhsan Tarık"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71519853,"answer_count":2,"score":0,"last_activity_date":1647556677,"creation_date":1647550502,"question_id":71518931,"body_markdown":"I am stuck in something\r\n\r\nList is null as you see but I want to assign it to the response from API before the pass it to the Adapter. But the List passed as null and throw null exception.\r\nI call the API method in onCreate() method before the Adapter initialization but it does not work somehow.\r\n\r\nI could not understand what I miss here. How can the List is not assigned.\r\nI tried to initialize  new ArrayList and it did not throw any error but this time the RecyclerView is empty.\r\n\r\nAny help?\r\n\r\nCode:\r\n    \r\n    public class InventoryInfoActivity extends AppCompatActivity {\r\n\r\n\r\n    InventoryInfoRecyclerViewAdapter inventoryInfoRecyclerViewAdapter;\r\n    RecyclerView recyclerView;\r\n    ProductService productService;\r\n    List&lt;Product&gt; productList;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_inventory_info);\r\n\r\n        productService = new ProductService(this);\r\n        // CALL METHOD\r\n        this.getProductList();\r\n\r\n        recyclerView  = findViewById(R.id.recycler_inventory);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(InventoryInfoActivity.this));\r\n        inventoryInfoRecyclerViewAdapter = new InventoryInfoRecyclerViewAdapter(productList,this);\r\n        recyclerView.setAdapter(inventoryInfoRecyclerViewAdapter);\r\n    }\r\n\r\n    // API REQUEST\r\n    private void getProductList() {\r\n        productService.getProducts().enqueue(new Callback&lt;List&lt;Product&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;List&lt;Product&gt;&gt; call, Response&lt;List&lt;Product&gt;&gt; response) {\r\n                if (response.isSuccessful()) {\r\n                    Log.i(&quot;REQUEST&quot;,&quot;OK&quot;);\r\n                   // ASSIGN\r\n                    productList = response.body();\r\n                }else {\r\n                    Log.i(&quot;REQUEST&quot;,&quot;BAD&quot;);\r\n                    productList = new ArrayList&lt;&gt;();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;List&lt;Product&gt;&gt; call, Throwable t) {\r\n                Log.i(&quot;REQUEST&quot;,&quot;FAILED&quot;);\r\n                productList = new ArrayList&lt;&gt;();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.search_action,menu);\r\n        MenuItem menuItem = menu.findItem(R.id.action_search);\r\n\r\n        SearchView searchView = (SearchView) menuItem.getActionView();\r\n        searchView.setQueryHint(&quot;Ara&quot;);\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                filter(newText);\r\n                return false;\r\n            }\r\n        });\r\n\r\n\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n    private void filter(String text) {\r\n        ArrayList&lt;Product&gt; filteredlist = new ArrayList&lt;&gt;();\r\n        for (Product item : productList) {\r\n            if (item.getProductName().toLowerCase().contains(text.toLowerCase())) {\r\n                filteredlist.add(item);\r\n            }\r\n        }\r\n        if (filteredlist.isEmpty()) {\r\n            Toast.makeText(this, &quot;B&#246;yle bir &#252;r&#252;n yok&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            inventoryInfoRecyclerViewAdapter.filterList(filteredlist);\r\n        }\r\n    }\r\n    }\r\n\r\nLogCat:\r\n\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.tempter.stoktakip, PID: 32165\r\n    java.lang.NullPointerException: Attempt to invoke interface method &#39;int java.util.List.size()&#39; on a null object reference\r\n\r\n","title":"Retrofit RecyclerViewAdapter List not assigned","body":"<p>I am stuck in something</p>\n<p>List is null as you see but I want to assign it to the response from API before the pass it to the Adapter. But the List passed as null and throw null exception.\nI call the API method in onCreate() method before the Adapter initialization but it does not work somehow.</p>\n<p>I could not understand what I miss here. How can the List is not assigned.\nI tried to initialize  new ArrayList and it did not throw any error but this time the RecyclerView is empty.</p>\n<p>Any help?</p>\n<p>Code:</p>\n<pre><code>public class InventoryInfoActivity extends AppCompatActivity {\n\n\nInventoryInfoRecyclerViewAdapter inventoryInfoRecyclerViewAdapter;\nRecyclerView recyclerView;\nProductService productService;\nList&lt;Product&gt; productList;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_inventory_info);\n\n    productService = new ProductService(this);\n    // CALL METHOD\n    this.getProductList();\n\n    recyclerView  = findViewById(R.id.recycler_inventory);\n    recyclerView.setLayoutManager(new LinearLayoutManager(InventoryInfoActivity.this));\n    inventoryInfoRecyclerViewAdapter = new InventoryInfoRecyclerViewAdapter(productList,this);\n    recyclerView.setAdapter(inventoryInfoRecyclerViewAdapter);\n}\n\n// API REQUEST\nprivate void getProductList() {\n    productService.getProducts().enqueue(new Callback&lt;List&lt;Product&gt;&gt;() {\n        @Override\n        public void onResponse(Call&lt;List&lt;Product&gt;&gt; call, Response&lt;List&lt;Product&gt;&gt; response) {\n            if (response.isSuccessful()) {\n                Log.i(&quot;REQUEST&quot;,&quot;OK&quot;);\n               // ASSIGN\n                productList = response.body();\n            }else {\n                Log.i(&quot;REQUEST&quot;,&quot;BAD&quot;);\n                productList = new ArrayList&lt;&gt;();\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;List&lt;Product&gt;&gt; call, Throwable t) {\n            Log.i(&quot;REQUEST&quot;,&quot;FAILED&quot;);\n            productList = new ArrayList&lt;&gt;();\n        }\n    });\n}\n\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.search_action,menu);\n    MenuItem menuItem = menu.findItem(R.id.action_search);\n\n    SearchView searchView = (SearchView) menuItem.getActionView();\n    searchView.setQueryHint(&quot;Ara&quot;);\n\n    searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n        @Override\n        public boolean onQueryTextSubmit(String query) {\n            return false;\n        }\n\n        @Override\n        public boolean onQueryTextChange(String newText) {\n            filter(newText);\n            return false;\n        }\n    });\n\n\n    return super.onCreateOptionsMenu(menu);\n}\n\nprivate void filter(String text) {\n    ArrayList&lt;Product&gt; filteredlist = new ArrayList&lt;&gt;();\n    for (Product item : productList) {\n        if (item.getProductName().toLowerCase().contains(text.toLowerCase())) {\n            filteredlist.add(item);\n        }\n    }\n    if (filteredlist.isEmpty()) {\n        Toast.makeText(this, &quot;Böyle bir ürün yok&quot;, Toast.LENGTH_SHORT).show();\n    } else {\n        inventoryInfoRecyclerViewAdapter.filterList(filteredlist);\n    }\n}\n}\n</code></pre>\n<p>LogCat:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.tempter.stoktakip, PID: 32165\njava.lang.NullPointerException: Attempt to invoke interface method 'int java.util.List.size()' on a null object reference\n</code></pre>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1622872816,"post_id":67846745,"comment_id":119921222,"body_markdown":"And what is the problem?","body":"And what is the problem?"},{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":0,"creation_date":1622872907,"post_id":67846745,"comment_id":119921237,"body_markdown":"You increment `num1` before you print it.","body":"You increment <code>num1</code> before you print it."},{"owner":{"account_id":21356513,"reputation":31,"user_id":15725395,"display_name":"noah hervey"},"score":0,"creation_date":1622872916,"post_id":67846745,"comment_id":119921238,"body_markdown":"Sorry I forgot to add that. It works correctly except it prints out 9. The project says to print every integer between the two inputted integers. 9 was one that was entered and it printed it out.","body":"Sorry I forgot to add that. It works correctly except it prints out 9. The project says to print every integer between the two inputted integers. 9 was one that was entered and it printed it out."},{"owner":{"account_id":21356513,"reputation":31,"user_id":15725395,"display_name":"noah hervey"},"score":0,"creation_date":1622873145,"post_id":67846745,"comment_id":119921273,"body_markdown":"If I increment num1 after I print it, it goes from 1-8. Which would be the same issue I had when I printed num1 before.","body":"If I increment num1 after I print it, it goes from 1-8. Which would be the same issue I had when I printed num1 before."},{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1622873868,"post_id":67846745,"comment_id":119921397,"body_markdown":"8 is less then 9 so you enter the loop one more time and print 8+1. I would simply add 1 to the smallest number before the loop.","body":"8 is less then 9 so you enter the loop one more time and print 8+1. I would simply add 1 to the smallest number before the loop."}],"answers":[{"tags":[],"owner":{"account_id":21792060,"reputation":119,"user_id":16092135,"display_name":"Ishika Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622874234,"creation_date":1622874234,"answer_id":67846913,"question_id":67846745,"body_markdown":"As you are incrementing value first so you can try this approach\r\n\r\n    import java.util.Scanner;\r\n    public class Practice2 {\r\n    public static void main(String[] args) {\r\n    int num1;\r\n    int num2;\r\n    Scanner input= new Scanner(System.in);\r\n    System.out.println(&quot;Input one integer&quot;);\r\n    num1= input.nextInt();\r\n    System.out.println(&quot;Enter another integer&quot;);\r\n    num2= input.nextInt();\r\n    while(num1&lt;num2-1) {\r\n    num1 += 1;\r\n    System.out.println(num1);\r\n    }\r\n    while(num2&lt;num1-1){\r\n    num2+=1;\r\n    System.out.println(num2);\r\n    }\r\n\r\n\r\n    }\r\n    }","title":"Java loops- display every integer between two integers","body":"<p>As you are incrementing value first so you can try this approach</p>\n<pre><code>import java.util.Scanner;\npublic class Practice2 {\npublic static void main(String[] args) {\nint num1;\nint num2;\nScanner input= new Scanner(System.in);\nSystem.out.println(&quot;Input one integer&quot;);\nnum1= input.nextInt();\nSystem.out.println(&quot;Enter another integer&quot;);\nnum2= input.nextInt();\nwhile(num1&lt;num2-1) {\nnum1 += 1;\nSystem.out.println(num1);\n}\nwhile(num2&lt;num1-1){\nnum2+=1;\nSystem.out.println(num2);\n}\n\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11297692,"reputation":31,"user_id":8284696,"display_name":"Tim Tattersall"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622875576,"creation_date":1622875213,"answer_id":67847012,"question_id":67846745,"body_markdown":"You can use a for-loop for this purpose. Though you would need to include some logic to ensure that num1 is the smaller of the two numbers. \r\n\r\nNote the `num1 + 1` is there to make the first number non-inclusive.\r\n\r\n\r\n----------\r\n\r\n\r\nA for-loop is broken down into 3 components\r\n\r\nstart: `i = num1 + 1`\r\n\r\ncondition: `i &lt;= num2`\r\nensure `i` is less than or equal to num2\r\n\r\naction: `i++`\r\nafter each iteration, `i` will be incremented by 1\r\n\r\n\r\n----------\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Practice2 {\r\n\tpublic static void main(String[] args) {\r\n\t\tint num1;\r\n\t\tint num2;\r\n\t\t\r\n\t\tScanner input= new Scanner(System.in);\r\n\r\n\t\tSystem.out.println(&quot;Input one integer&quot;);\r\n\t\tnum1 = input.nextInt();\r\n\r\n\t\tSystem.out.println(&quot;Enter another integer&quot;);\r\n\t\tnum2 = input.nextInt();\r\n\r\n\t\tfor (int i = num1 + 1; i &lt;= num2; i++) {\r\n\t\t\tSystem.out.println(num2);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Java loops- display every integer between two integers","body":"<p>You can use a for-loop for this purpose. Though you would need to include some logic to ensure that num1 is the smaller of the two numbers.</p>\n<p>Note the <code>num1 + 1</code> is there to make the first number non-inclusive.</p>\n<hr />\n<p>A for-loop is broken down into 3 components</p>\n<p>start: <code>i = num1 + 1</code></p>\n<p>condition: <code>i &lt;= num2</code>\nensure <code>i</code> is less than or equal to num2</p>\n<p>action: <code>i++</code>\nafter each iteration, <code>i</code> will be incremented by 1</p>\n<hr />\n<pre><code>import java.util.Scanner;\n\npublic class Practice2 {\n    public static void main(String[] args) {\n        int num1;\n        int num2;\n        \n        Scanner input= new Scanner(System.in);\n\n        System.out.println(&quot;Input one integer&quot;);\n        num1 = input.nextInt();\n\n        System.out.println(&quot;Enter another integer&quot;);\n        num2 = input.nextInt();\n\n        for (int i = num1 + 1; i &lt;= num2; i++) {\n            System.out.println(num2);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23700479,"reputation":45,"user_id":17723710,"display_name":"R.E.F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647555202,"creation_date":1647553774,"answer_id":71519418,"question_id":67846745,"body_markdown":"I used this method to get a perfect score. \r\n\r\n   \r\n\r\n    import java.util.Scanner;\r\n    public class Inbetween {\r\n        public static void main (String args[]) {\r\n            Scanner input = new Scanner(System.in);\r\n            int x, y, X, Y;\r\n            X = input.nextInt();\r\n            Y = input.nextInt();\r\n            if (Y+1 == X || X+1 == Y ){ \r\n                System.out.print(&quot;There are no integers between &quot; + X + &quot; and &quot; + Y);                   \r\n            }else if (Y&gt;X){\r\n                for(x=X+1; x&lt;Y; ++x)\r\n                    System.out.print(x+&quot; &quot;); \r\n            }else if (X&gt;Y){\r\n                for(y=Y+1; y&lt;X; ++y)\r\n                    System.out.print(y+&quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Java loops- display every integer between two integers","body":"<p>I used this method to get a perfect score.</p>\n<pre><code>import java.util.Scanner;\npublic class Inbetween {\n    public static void main (String args[]) {\n        Scanner input = new Scanner(System.in);\n        int x, y, X, Y;\n        X = input.nextInt();\n        Y = input.nextInt();\n        if (Y+1 == X || X+1 == Y ){ \n            System.out.print(&quot;There are no integers between &quot; + X + &quot; and &quot; + Y);                   \n        }else if (Y&gt;X){\n            for(x=X+1; x&lt;Y; ++x)\n                System.out.print(x+&quot; &quot;); \n        }else if (X&gt;Y){\n            for(y=Y+1; y&lt;X; ++y)\n                System.out.print(y+&quot; &quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21356513,"reputation":31,"user_id":15725395,"display_name":"noah hervey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1880,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1647555202,"creation_date":1622872685,"question_id":67846745,"body_markdown":"I am new to coding and have been trying to understand loops. I am working on a sample project that says to Write an application that prompts a user for two integers and displays every integer between them. Display a message if there are no integers between the entered values. Make sure the program works regardless of which entered value is larger. I for the most part have it but am having an issue with the output.  \r\n      \r\n    import java.util.Scanner;\r\n\r\n    public class Practice2 {\r\n    public static void main(String[] args) {\r\n    int num1;\r\n    int num2;\r\n    Scanner input= new Scanner(System.in);\r\n    System.out.println(&quot;Input one integer&quot;);\r\n    num1= input.nextInt();\r\n    System.out.println(&quot;Enter another integer&quot;);\r\n    num2= input.nextInt();\r\n\r\n    while(num1&lt;num2) {\r\n        num1 += 1;\r\n        System.out.println(num1);\r\n    }\r\n    while(num2&lt;num1){\r\n        num2+=1;\r\n        System.out.println(num2);\r\n    }\r\n\r\n\r\n    }\r\n    }\r\nA sample output would be \r\n   \r\n    Input one integer\r\n    \r\n    1\r\n\r\n    Enter another integer\r\n    9\r\n\r\nThen this is the output\r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n8\r\n9\r\n","title":"Java loops- display every integer between two integers","body":"<p>I am new to coding and have been trying to understand loops. I am working on a sample project that says to Write an application that prompts a user for two integers and displays every integer between them. Display a message if there are no integers between the entered values. Make sure the program works regardless of which entered value is larger. I for the most part have it but am having an issue with the output.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Practice2 {\npublic static void main(String[] args) {\nint num1;\nint num2;\nScanner input= new Scanner(System.in);\nSystem.out.println(&quot;Input one integer&quot;);\nnum1= input.nextInt();\nSystem.out.println(&quot;Enter another integer&quot;);\nnum2= input.nextInt();\n\nwhile(num1&lt;num2) {\n    num1 += 1;\n    System.out.println(num1);\n}\nwhile(num2&lt;num1){\n    num2+=1;\n    System.out.println(num2);\n}\n\n\n}\n}\n</code></pre>\n<p>A sample output would be</p>\n<pre><code>Input one integer\n\n1\n\nEnter another integer\n9\n</code></pre>\n<p>Then this is the output\n2\n3\n4\n5\n6\n7\n8\n9</p>\n"},{"tags":["java","aem"],"answers":[{"tags":[],"owner":{"account_id":11849278,"reputation":58,"user_id":8671041,"display_name":"veena vikraman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647555122,"creation_date":1647543278,"answer_id":71517635,"question_id":71515098,"body_markdown":"If you are writing custom logic to search the EF with related tags, then you can query the repository for the custom tags. Tags will be added as cq:tags property. You can write a query using QueryBuilder API something like below. Here I am searching through the /content for content tagged with workflow:dam. You can change the path to your EF path and the `property.value` should be the value your users enter as tags. \r\n\r\n    path=/content\r\n    property=cq:tags\r\n    property.value=workflow:dam\r\n\r\n[Tags saved in the content repo][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8yQMk.png","title":"Filter by tags AEM 6.5","body":"<p>If you are writing custom logic to search the EF with related tags, then you can query the repository for the custom tags. Tags will be added as cq:tags property. You can write a query using QueryBuilder API something like below. Here I am searching through the /content for content tagged with workflow:dam. You can change the path to your EF path and the <code>property.value</code> should be the value your users enter as tags.</p>\n<pre><code>path=/content\nproperty=cq:tags\nproperty.value=workflow:dam\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8yQMk.png\" rel=\"nofollow noreferrer\">Tags saved in the content repo</a></p>\n"}],"owner":{"account_id":23271373,"reputation":1,"user_id":17356154,"display_name":"Mili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647555122,"creation_date":1647531395,"question_id":71515098,"body_markdown":"I am supposed to filter thru experience fragments by tags. User selects filters(tags) as per their needs and the search return experience fragments with matching tags.\r\nAny ideas how to retrieve the selected filters(tags) and see what matches the existing tags and return corresponding EF? Basically the whole process. Thank you so much!!","title":"Filter by tags AEM 6.5","body":"<p>I am supposed to filter thru experience fragments by tags. User selects filters(tags) as per their needs and the search return experience fragments with matching tags.\nAny ideas how to retrieve the selected filters(tags) and see what matches the existing tags and return corresponding EF? Basically the whole process. Thank you so much!!</p>\n"},{"tags":["java","struts2","struts2-convention-plugin","struts2-config-browser"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1645778207,"post_id":71259602,"comment_id":125965754,"body_markdown":"It&#39;s not enouth to see constants but the action configuration is missing or wrong. Without code is impossible to answer.","body":"It&#39;s not enouth to see constants but the action configuration is missing or wrong. Without code is impossible to answer."},{"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"score":0,"creation_date":1645809514,"post_id":71259602,"comment_id":125976821,"body_markdown":"Ok, I&#39;ve added an example.","body":"Ok, I&#39;ve added an example."}],"answers":[{"tags":[],"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647555117,"creation_date":1647555117,"answer_id":71519619,"question_id":71259602,"body_markdown":"It was a WebLogic issue. I&#39;m using WebLogic 12.1.3 and had to add the following to weblogic.xml\r\n\r\n      &lt;wls:container-descriptor&gt;\r\n        &lt;wls:prefer-application-packages&gt;\r\n          &lt;wls:package-name&gt;org.objectweb.asm.*&lt;/wls:package-name&gt;\r\n          &lt;wls:package-name&gt;org.springframework.web.servlet.*&lt;/wls:package-name&gt;\r\n          &lt;wls:package-name&gt;org.springframework.web.*&lt;/wls:package-name&gt;\r\n          &lt;wls:package-name&gt;org.hibernate.validator.*&lt;/wls:package-name&gt;\r\n          &lt;wls:package-name&gt;javax.validation.*&lt;/wls:package-name&gt;\r\n          &lt;wls:package-name&gt;javax.validation.spi.*&lt;/wls:package-name&gt;\r\n          &lt;wls:package-name&gt;javassist.util.proxy..*&lt;/wls:package-name&gt;\r\n        &lt;/wls:prefer-application-packages&gt;\r\n    \r\n        &lt;wls:show-archived-real-path-enabled&gt;true&lt;/wls:show-archived-real-path-enabled&gt;\r\n      &lt;/wls:container-descriptor&gt;\r\n\r\n","title":"Struts2 no Action mapped for namespace [/] and action name [index] associated with context path","body":"<p>It was a WebLogic issue. I'm using WebLogic 12.1.3 and had to add the following to weblogic.xml</p>\n<pre><code>  &lt;wls:container-descriptor&gt;\n    &lt;wls:prefer-application-packages&gt;\n      &lt;wls:package-name&gt;org.objectweb.asm.*&lt;/wls:package-name&gt;\n      &lt;wls:package-name&gt;org.springframework.web.servlet.*&lt;/wls:package-name&gt;\n      &lt;wls:package-name&gt;org.springframework.web.*&lt;/wls:package-name&gt;\n      &lt;wls:package-name&gt;org.hibernate.validator.*&lt;/wls:package-name&gt;\n      &lt;wls:package-name&gt;javax.validation.*&lt;/wls:package-name&gt;\n      &lt;wls:package-name&gt;javax.validation.spi.*&lt;/wls:package-name&gt;\n      &lt;wls:package-name&gt;javassist.util.proxy..*&lt;/wls:package-name&gt;\n    &lt;/wls:prefer-application-packages&gt;\n\n    &lt;wls:show-archived-real-path-enabled&gt;true&lt;/wls:show-archived-real-path-enabled&gt;\n  &lt;/wls:container-descriptor&gt;\n</code></pre>\n"}],"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647555117,"creation_date":1645747272,"question_id":71259602,"body_markdown":"This has been asked many times before, but not quite the same as this. Everything seems to be present and in the right place. I&#39;m using Java8, Eclipse, Maven, Struts2 w/ Convention Plugin, Spring, Tiles and annotations. The context-root is iquality, FYI.\r\n\r\n - The struts.xml is being read because I see the correct constants in the config-browser\r\n - - struts.convention.default.parent.package=convention-json-tiles\r\n - - convention-json-tiles extends struts-default\r\n - The web.xml has \r\n - - the correct &quot;actionPackages&quot; value\r\n - - welcome-file=index.action\r\n - - filter-class=org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter\r\n - The WAR file has the correct .class files in the actionPackages package\r\n\r\nThe jar files I&#39;m using:\r\n - struts2-config-browser-plugin 2.5.29 \r\n - struts2-convention-plugin 2.5.29\r\n - struts2-core 2.5.29 \r\n - struts2-javatemplates-plugin 2.5.29\r\n - struts2-json-plugin 2.5.29 \r\n - struts2-spring-plugin 2.5.29\r\n - struts2-tiles-plugin 2.5.29 \r\n - spring-orm 4.3.26.RELEASE\r\n - spring-tx 4.3.26.RELEASE\r\n\r\nThe only error in the log I see is: \r\n- org.apache.struts2.dispatcher.Dispatcher - Could not find action or result: /iquality\r\n- There is no Action mapped for action name.\r\n\r\nHere is a standard Action class that I have.\r\n\r\n    package com.icumed.ifactory.qa.web.actions;\r\n\r\n    public class ElementsAction extends ActionSupport\r\n    {\r\n      @Action(value = &quot;/elements-page&quot;, results =\r\n      {\r\n        @Result(name = &quot;success&quot;, type = &quot;tiles&quot;, location = &quot;elements&quot;)\r\n      })\r\n      public String execute()\r\n      {\r\n        return SUCCESS;\r\n      }\r\n    \r\n      @Action(value = &quot;/element&quot;, results =\r\n      {\r\n        @Result(name = &quot;success&quot;, type = &quot;tiles&quot;, location = &quot;element&quot;)\r\n      })\r\n      public String getElement() throws ApplicationException\r\n      {\r\n        return super.get();\r\n      }\r\n    \r\n      @Action(value = &quot;/elements&quot;, results =\r\n      {\r\n        @Result(name = &quot;success&quot;, type = &quot;json&quot;, params =\r\n        {\r\n          &quot;root&quot;,\r\n          ROOT_ELEMENT_TAG,\r\n          &quot;excludeNullProperties&quot;,\r\n          &quot;false&quot;,\r\n        })\r\n      })\r\n      public String search() throws ApplicationException\r\n      {\r\n        return super.search();\r\n      }\r\n    }\r\n\r\nHere&#39;s my complete `struts.xml`:\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;struts&gt;\r\n      &lt;constant name=&quot;struts.custom.i18n.resources&quot; value=&quot;iquality_messages&quot; /&gt;\r\n      &lt;constant name=&quot;struts.ui.theme&quot; value=&quot;xhtml&quot; /&gt;\r\n      &lt;constant name=&quot;struts.multipart.enabled&quot; value=&quot;true&quot; /&gt;\r\n      &lt;constant name=&quot;struts.json.dateformat&quot; value=&quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot; /&gt;\r\n      &lt;constant name=&quot;struts.objectFactory&quot; value=&quot;spring&quot; /&gt; \r\n      &lt;constant name=&quot;struts.convention.action.includeJars&quot; value=&quot;.*?/ifactory.*?jar(!/)?&quot; /&gt;\r\n      &lt;constant name=&quot;struts.convention.exclude.parentClassLoader&quot; value=&quot;true&quot; /&gt;\r\n      &lt;constant name=&quot;struts.convention.action.fileProtocols&quot;      value=&quot;jar,file,zip,vfs,vfsfile,vfszip&quot; /&gt;\r\n      &lt;constant name=&quot;struts.convention.default.parent.package&quot; value=&quot;convention-json-tiles&quot; /&gt;\r\n    \r\n      &lt;package name=&quot;convention-json-tiles&quot; namespace=&quot;/&quot; extends=&quot;struts-default&quot;&gt;\r\n        &lt;result-types&gt;\r\n          &lt;result-type name=&quot;json&quot; class=&quot;org.apache.struts2.json.JSONResult&quot; /&gt;\r\n          &lt;result-type name=&quot;tiles&quot; class=&quot;org.apache.struts2.views.tiles.TilesResult&quot; /&gt;\r\n        &lt;/result-types&gt;\r\n    \r\n        &lt;default-interceptor-ref name=&quot;defaultStack&quot; /&gt;\r\n    \r\n        &lt;global-results&gt;\r\n          &lt;result name=&quot;Exception&quot;&gt;/WEB-INF/content/application_exception.jsp&lt;/result&gt;\r\n        &lt;/global-results&gt;\r\n    \r\n        &lt;global-exception-mappings&gt;\r\n          &lt;exception-mapping exception=&quot;java.lang.Exception&quot; result=&quot;Exception&quot; /&gt;\r\n        &lt;/global-exception-mappings&gt;\r\n      &lt;/package&gt;\r\n    &lt;/struts&gt;\r\n\r\nWhat am I missing or what do I have wrong?","title":"Struts2 no Action mapped for namespace [/] and action name [index] associated with context path","body":"<p>This has been asked many times before, but not quite the same as this. Everything seems to be present and in the right place. I'm using Java8, Eclipse, Maven, Struts2 w/ Convention Plugin, Spring, Tiles and annotations. The context-root is iquality, FYI.</p>\n<ul>\n<li>The struts.xml is being read because I see the correct constants in the config-browser</li>\n<li>\n<ul>\n<li>struts.convention.default.parent.package=convention-json-tiles</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>convention-json-tiles extends struts-default</li>\n</ul>\n</li>\n<li>The web.xml has</li>\n<li>\n<ul>\n<li>the correct &quot;actionPackages&quot; value</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>welcome-file=index.action</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>filter-class=org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter</li>\n</ul>\n</li>\n<li>The WAR file has the correct .class files in the actionPackages package</li>\n</ul>\n<p>The jar files I'm using:</p>\n<ul>\n<li>struts2-config-browser-plugin 2.5.29</li>\n<li>struts2-convention-plugin 2.5.29</li>\n<li>struts2-core 2.5.29</li>\n<li>struts2-javatemplates-plugin 2.5.29</li>\n<li>struts2-json-plugin 2.5.29</li>\n<li>struts2-spring-plugin 2.5.29</li>\n<li>struts2-tiles-plugin 2.5.29</li>\n<li>spring-orm 4.3.26.RELEASE</li>\n<li>spring-tx 4.3.26.RELEASE</li>\n</ul>\n<p>The only error in the log I see is:</p>\n<ul>\n<li>org.apache.struts2.dispatcher.Dispatcher - Could not find action or result: /iquality</li>\n<li>There is no Action mapped for action name.</li>\n</ul>\n<p>Here is a standard Action class that I have.</p>\n<pre><code>package com.icumed.ifactory.qa.web.actions;\n\npublic class ElementsAction extends ActionSupport\n{\n  @Action(value = &quot;/elements-page&quot;, results =\n  {\n    @Result(name = &quot;success&quot;, type = &quot;tiles&quot;, location = &quot;elements&quot;)\n  })\n  public String execute()\n  {\n    return SUCCESS;\n  }\n\n  @Action(value = &quot;/element&quot;, results =\n  {\n    @Result(name = &quot;success&quot;, type = &quot;tiles&quot;, location = &quot;element&quot;)\n  })\n  public String getElement() throws ApplicationException\n  {\n    return super.get();\n  }\n\n  @Action(value = &quot;/elements&quot;, results =\n  {\n    @Result(name = &quot;success&quot;, type = &quot;json&quot;, params =\n    {\n      &quot;root&quot;,\n      ROOT_ELEMENT_TAG,\n      &quot;excludeNullProperties&quot;,\n      &quot;false&quot;,\n    })\n  })\n  public String search() throws ApplicationException\n  {\n    return super.search();\n  }\n}\n</code></pre>\n<p>Here's my complete <code>struts.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;struts&gt;\n  &lt;constant name=&quot;struts.custom.i18n.resources&quot; value=&quot;iquality_messages&quot; /&gt;\n  &lt;constant name=&quot;struts.ui.theme&quot; value=&quot;xhtml&quot; /&gt;\n  &lt;constant name=&quot;struts.multipart.enabled&quot; value=&quot;true&quot; /&gt;\n  &lt;constant name=&quot;struts.json.dateformat&quot; value=&quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot; /&gt;\n  &lt;constant name=&quot;struts.objectFactory&quot; value=&quot;spring&quot; /&gt; \n  &lt;constant name=&quot;struts.convention.action.includeJars&quot; value=&quot;.*?/ifactory.*?jar(!/)?&quot; /&gt;\n  &lt;constant name=&quot;struts.convention.exclude.parentClassLoader&quot; value=&quot;true&quot; /&gt;\n  &lt;constant name=&quot;struts.convention.action.fileProtocols&quot;      value=&quot;jar,file,zip,vfs,vfsfile,vfszip&quot; /&gt;\n  &lt;constant name=&quot;struts.convention.default.parent.package&quot; value=&quot;convention-json-tiles&quot; /&gt;\n\n  &lt;package name=&quot;convention-json-tiles&quot; namespace=&quot;/&quot; extends=&quot;struts-default&quot;&gt;\n    &lt;result-types&gt;\n      &lt;result-type name=&quot;json&quot; class=&quot;org.apache.struts2.json.JSONResult&quot; /&gt;\n      &lt;result-type name=&quot;tiles&quot; class=&quot;org.apache.struts2.views.tiles.TilesResult&quot; /&gt;\n    &lt;/result-types&gt;\n\n    &lt;default-interceptor-ref name=&quot;defaultStack&quot; /&gt;\n\n    &lt;global-results&gt;\n      &lt;result name=&quot;Exception&quot;&gt;/WEB-INF/content/application_exception.jsp&lt;/result&gt;\n    &lt;/global-results&gt;\n\n    &lt;global-exception-mappings&gt;\n      &lt;exception-mapping exception=&quot;java.lang.Exception&quot; result=&quot;Exception&quot; /&gt;\n    &lt;/global-exception-mappings&gt;\n  &lt;/package&gt;\n&lt;/struts&gt;\n</code></pre>\n<p>What am I missing or what do I have wrong?</p>\n"},{"tags":["java","selenium","selenium-webdriver","saucelabs","remotewebdriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647554496,"creation_date":1647553877,"answer_id":71519431,"question_id":71519388,"body_markdown":"[_pageLoadTimeout_](https://stackoverflow.com/a/45648881/7429447) sets the time to wait for a page to load completely before throwing an error.\r\n\r\nThe [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) in your program ensures that your program waits for the _**`document.readyState`**_ to be equal to _**&quot;complete&quot;**_ atleast for the configured _`waitTime`_ incase of a slowly loading page.\r\n\r\n&gt;You can find a detailed discussion in [Do we have any generic function to check if page has completely loaded in Selenium](https://stackoverflow.com/a/50329056/7429447)","title":"Selenium page loading wait methods","body":"<p><a href=\"https://stackoverflow.com/a/45648881/7429447\"><em>pageLoadTimeout</em></a> sets the time to wait for a page to load completely before throwing an error.</p>\n<p>The <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> in your program ensures that your program waits for the <em><strong><code>document.readyState</code></strong></em> to be equal to <em><strong>&quot;complete&quot;</strong></em> atleast for the configured <em><code>waitTime</code></em> incase of a slowly loading page.</p>\n<blockquote>\n<p>You can find a detailed discussion in <a href=\"https://stackoverflow.com/a/50329056/7429447\">Do we have any generic function to check if page has completely loaded in Selenium</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647554228,"creation_date":1647554228,"answer_id":71519498,"question_id":71519388,"body_markdown":"Are you sure you really need to wait for `document.readyState -&gt; complete` before every UI interaction/assertion?   \r\nIn case there are some heavy JavaScripts running on that page it may take significant time to reach the above state.  \r\nPractically in most cases all what you need is readiness / maturity state of a specific element you currently need to access.  \r\nSo, instead of waiting for the entire page `readyState` `complete` state you may wait for visibility or clickability of that single, specific web element.  \r\nI believe this will reduce the delays you are talking about here.","title":"Selenium page loading wait methods","body":"<p>Are you sure you really need to wait for <code>document.readyState -&gt; complete</code> before every UI interaction/assertion?<br />\nIn case there are some heavy JavaScripts running on that page it may take significant time to reach the above state.<br />\nPractically in most cases all what you need is readiness / maturity state of a specific element you currently need to access.<br />\nSo, instead of waiting for the entire page <code>readyState</code> <code>complete</code> state you may wait for visibility or clickability of that single, specific web element.<br />\nI believe this will reduce the delays you are talking about here.</p>\n"},{"tags":[],"owner":{"account_id":5074573,"reputation":4134,"user_id":4072371,"display_name":"titusfortner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647554878,"creation_date":1647554878,"answer_id":71519585,"question_id":71519388,"body_markdown":"There are two different concepts here. The first is that with w3c you can now set a [Page Load Strategy][1] in the capabilities at the beginning of a session. This affects what Document readiness state the driver will wait for before returning control to the user. If the specified readiness state is not satisfied before the [page load timeout][2], the driver is supposed to return an error. \r\n\r\nNote that both of these things only apply to [navigation events][3], so clicking an element that results in a page load should not trigger these. \r\n\r\nTo complicate things one more level, Chromedriver has an [open bug][4] for incorrectly:\r\n&gt; wait[ing] for navigation to complete at the end of almost all commands\r\n\r\nSo for right now Chrome tests actually will wait for the specified document readiness state on clicks.\r\n\r\nFinally, remember that for today&#39;s web there is typically a lot of content loaded dynamically via JavaScript, so even when the document readiness state is &quot;complete&quot; the DOM is unlikely to be in it&#39;s final state, which is why you are encouraged to use [explicit waits][5] for the things you actually want to interact with.\r\n\r\n\r\n  [1]: https://w3c.github.io/webdriver/#dfn-table-of-page-load-strategies\r\n  [2]: https://w3c.github.io/webdriver/#dfn-page-load-timeout\r\n  [3]: https://w3c.github.io/webdriver/#navigation\r\n  [4]: https://bugs.chromium.org/p/chromedriver/issues/detail?id=3170\r\n  [5]: https://www.selenium.dev/documentation/webdriver/waits/#explicit-wait","title":"Selenium page loading wait methods","body":"<p>There are two different concepts here. The first is that with w3c you can now set a <a href=\"https://w3c.github.io/webdriver/#dfn-table-of-page-load-strategies\" rel=\"nofollow noreferrer\">Page Load Strategy</a> in the capabilities at the beginning of a session. This affects what Document readiness state the driver will wait for before returning control to the user. If the specified readiness state is not satisfied before the <a href=\"https://w3c.github.io/webdriver/#dfn-page-load-timeout\" rel=\"nofollow noreferrer\">page load timeout</a>, the driver is supposed to return an error.</p>\n<p>Note that both of these things only apply to <a href=\"https://w3c.github.io/webdriver/#navigation\" rel=\"nofollow noreferrer\">navigation events</a>, so clicking an element that results in a page load should not trigger these.</p>\n<p>To complicate things one more level, Chromedriver has an <a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=3170\" rel=\"nofollow noreferrer\">open bug</a> for incorrectly:</p>\n<blockquote>\n<p>wait[ing] for navigation to complete at the end of almost all commands</p>\n</blockquote>\n<p>So for right now Chrome tests actually will wait for the specified document readiness state on clicks.</p>\n<p>Finally, remember that for today's web there is typically a lot of content loaded dynamically via JavaScript, so even when the document readiness state is &quot;complete&quot; the DOM is unlikely to be in it's final state, which is why you are encouraged to use <a href=\"https://www.selenium.dev/documentation/webdriver/waits/#explicit-wait\" rel=\"nofollow noreferrer\">explicit waits</a> for the things you actually want to interact with.</p>\n"}],"owner":{"account_id":16160316,"reputation":93,"user_id":11666597,"display_name":"A. J. Green"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71519585,"answer_count":3,"score":0,"last_activity_date":1647554878,"creation_date":1647553547,"question_id":71519388,"body_markdown":"I&#39;ve been running automation tests that execute relatively quickly in my local environment but are extremely slow in Sauce Labs.\r\n\r\nThe existing Java code appears to have two types of redundant page loading wait times\r\n\r\n```\r\n//1. set at the beginning of the test\r\n driver.manage().timeouts().pageLoadTimeout(40, TimeUnit.SECONDS);\r\n\r\n//2. called before every UI interaction/assertion\r\n(new WebDriverWait(wDriver, waitTime)).until((wDriver) -&gt; {\r\nreturn javascriptExecutor.execute_script(&quot;return document.readyState&quot;).equals(&quot;complete&quot;)\r\n});\r\n```\r\n\r\nIs the pageLoadTimeout a type of implicit wait that might be causing a conflict with the second &quot;document.readyState&quot; explicit wait?\r\n\r\nIs this entirely redundant, or are there any edge cases where one of these checks might not work, and the secondary method acts as a backup?\r\n\r\nAny help is appreciated\r\nAJ\r\n","title":"Selenium page loading wait methods","body":"<p>I've been running automation tests that execute relatively quickly in my local environment but are extremely slow in Sauce Labs.</p>\n<p>The existing Java code appears to have two types of redundant page loading wait times</p>\n<pre><code>//1. set at the beginning of the test\n driver.manage().timeouts().pageLoadTimeout(40, TimeUnit.SECONDS);\n\n//2. called before every UI interaction/assertion\n(new WebDriverWait(wDriver, waitTime)).until((wDriver) -&gt; {\nreturn javascriptExecutor.execute_script(&quot;return document.readyState&quot;).equals(&quot;complete&quot;)\n});\n</code></pre>\n<p>Is the pageLoadTimeout a type of implicit wait that might be causing a conflict with the second &quot;document.readyState&quot; explicit wait?</p>\n<p>Is this entirely redundant, or are there any edge cases where one of these checks might not work, and the secondary method acts as a backup?</p>\n<p>Any help is appreciated\nAJ</p>\n"},{"tags":["java","android-studio","android-layout","android-studio-4.2"],"answers":[{"tags":[],"owner":{"account_id":18909657,"reputation":452,"user_id":13796005,"display_name":"kkrgzz"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1625084296,"creation_date":1625084296,"answer_id":68201154,"question_id":68137497,"body_markdown":"The answer is easy, just delete the all of `android:autofillHints=&quot;&quot;` line in `&lt;EditText/&gt;`. And XML Render working again.","title":"Android Studio XML Render Problem - String Index Out Of Range:-1","body":"<p>The answer is easy, just delete the all of <code>android:autofillHints=&quot;&quot;</code> line in <code>&lt;EditText/&gt;</code>. And XML Render working again.</p>\n"},{"tags":[],"owner":{"account_id":21834024,"reputation":115,"user_id":16128598,"display_name":"Angel"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1629885289,"creation_date":1629885289,"answer_id":68920672,"question_id":68137497,"body_markdown":"Just add any value to the android:autofillHints=&quot;&quot; instead of blank\r\n\r\n    android:autofillHints=&quot;&quot;\r\nto\r\n\r\n    android:autofillHints=&quot;your hint here&quot;","title":"Android Studio XML Render Problem - String Index Out Of Range:-1","body":"<p>Just add any value to the android:autofillHints=&quot;&quot; instead of blank</p>\n<pre><code>android:autofillHints=&quot;&quot;\n</code></pre>\n<p>to</p>\n<pre><code>android:autofillHints=&quot;your hint here&quot;\n</code></pre>\n"}],"owner":{"account_id":18909657,"reputation":452,"user_id":13796005,"display_name":"kkrgzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5470,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":68201154,"answer_count":2,"score":4,"last_activity_date":1647554527,"creation_date":1624658795,"question_id":68137497,"body_markdown":"When I adding `android:autoFillHints=&quot;&quot;` attribute to the XML code of activity, design screen suddenly started giving an error.\r\n\r\nFirst, the activity layout that I editing did not show anything on the design screen and there was error in just the activity layout that I editing. Then, I tried to solve there are my steps which did not work (nothing else worked.):\r\n\r\n 1. I change the API version to 29 and 28 from 30. It did not worked.\r\n 2. I rewrite all the XML code at the activity layout that I editted. It did not worked.\r\n\r\nI search Google and Stack Over Flow but I did not see any solve. The answers were about JavaFX or pure java code that String index is out of range.\r\n\r\nAfter that, I decided to edit other activity layouts and when I edit other activity layouts started giving errors.\r\n\r\nThe XML file that I get error is:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.noteDetails&quot;\r\n    android:paddingHorizontal=&quot;20dp&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginBottom=&quot;20dp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView3&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:fontFamily=&quot;@font/ubuntubold&quot;\r\n            android:text=&quot;@string/note_details&quot;\r\n            android:textColor=&quot;@color/yellow&quot;\r\n            android:textSize=&quot;25sp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            tools:ignore=&quot;MissingConstraints&quot; /&gt;\r\n\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/saveNoteButton&quot;\r\n            android:layout_width=&quot;30dp&quot;\r\n            android:layout_height=&quot;30dp&quot;\r\n            android:background=&quot;@drawable/ic_save_note_changes&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            android:backgroundTint=&quot;@color/green&quot;\r\n            android:layout_marginEnd=&quot;20dp&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@id/deleteNoteButton&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            android:contentDescription=&quot;@string/save_updates_button&quot; /&gt;\r\n\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/editNoteButton&quot;\r\n            android:layout_width=&quot;30dp&quot;\r\n            android:layout_height=&quot;30dp&quot;\r\n            android:background=&quot;@drawable/ic_edit_note&quot;\r\n            android:backgroundTint=&quot;@color/blue&quot;\r\n            android:layout_marginEnd=&quot;20dp&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@id/deleteNoteButton&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            android:contentDescription=&quot;@string/edit_note_button&quot; /&gt;\r\n\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/deleteNoteButton&quot;\r\n            android:layout_width=&quot;30dp&quot;\r\n            android:layout_height=&quot;30dp&quot;\r\n            android:background=&quot;@drawable/ic_delete_note&quot;\r\n            android:backgroundTint=&quot;@color/pink&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/goBackButton&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            android:layout_marginEnd=&quot;20dp&quot;\r\n            android:contentDescription=&quot;@string/delete_note_button&quot; /&gt;\r\n\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/goBackButton&quot;\r\n            android:layout_width=&quot;30dp&quot;\r\n            android:layout_height=&quot;30dp&quot;\r\n            android:background=&quot;@drawable/ic_go_back&quot;\r\n            android:backgroundTint=&quot;@color/darkblue&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            android:contentDescription=&quot;@string/go_to_main_menu_button&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;View\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;10dp&quot;\r\n        android:background=&quot;@drawable/horizontal_line&quot;/&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/editNoteLinearLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_marginVertical=&quot;20dp&quot;\r\n        android:padding=&quot;8dp&quot;\r\n        android:background=&quot;@drawable/ic_note_detailed_text_frame&quot;&gt;\r\n        \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/noteTitleDetailed&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;@font/ubunturegular&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:hint=&quot;@string/note_title&quot;\r\n                android:background=&quot;@null&quot;\r\n                android:inputType=&quot;text&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textColor=&quot;@color/darkblue&quot;\r\n                android:maxLength=&quot;30&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                tools:ignore=&quot;MissingConstraints&quot;\r\n                android:autofillHints=&quot;&quot; /&gt;\r\n\r\n            &lt;View\r\n                android:layout_width=&quot;100dp&quot;\r\n                android:layout_height=&quot;3dp&quot;\r\n                android:layout_gravity=&quot;start&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:background=&quot;@drawable/ic_note_title_and_text_divider&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/noteTitleDetailed&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                tools:ignore=&quot;MissingConstraints&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/noteDateDetailed&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;@font/ubuntulight&quot;\r\n                android:textSize=&quot;12sp&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:text=&quot;@string/example_date&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/noteTitleDetailed&quot;/&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/noteTextDetailed&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:inputType=&quot;text&quot;\r\n            android:fontFamily=&quot;@font/ubunturegular&quot;\r\n            android:textSize=&quot;16sp&quot;\r\n            android:textColor=&quot;@color/darkblue&quot;\r\n            android:hint=&quot;@string/note_content&quot;\r\n            android:lines=&quot;10&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:maxLength=&quot;500&quot;\r\n            android:background=&quot;@null&quot;\r\n            tools:ignore=&quot;MissingConstraints&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:autofillHints=&quot;&quot; /&gt;\r\n        \r\n    &lt;/LinearLayout&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nI control the code again and again and I did not notice any problem about XML code. And when I compile the code, program run with not problem.\r\n\r\nError codes and images are:\r\n\r\nRender Problem Error Code:\r\n```\r\njava.lang.reflect.InvocationTargetException\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor953.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat android.view.BridgeInflater.lambda$createViewFromCustomInflater$0(BridgeInflater.java:259)\r\n\tat android.view.BridgeInflater.createViewFromCustomInflater(BridgeInflater.java:285)\r\n\tat android.view.BridgeInflater.onCreateView(BridgeInflater.java:122)\r\n\tat android.view.LayoutInflater.onCreateView(LayoutInflater.java:928)\r\n\tat android.view.LayoutInflater.onCreateView(LayoutInflater.java:948)\r\n\tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1002)\r\n\tat android.view.BridgeInflater.createViewFromTag(BridgeInflater.java:309)\r\n\tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1121)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1124)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1124)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:680)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:499)\r\n\tat com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:354)\r\n\tat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:431)\r\n\tat com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:141)\r\n\tat com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:710)\r\n\tat com.android.tools.idea.rendering.RenderTask.lambda$inflate$6(RenderTask.java:865)\r\n\tat com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$2.run(RenderExecutor.kt:174)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -1\r\n\tat java.base/java.lang.StringLatin1.charAt(StringLatin1.java:47)\r\n\tat java.base/java.lang.String.charAt(String.java:693)\r\n\tat android.content.res.BridgeTypedArray.getType(BridgeTypedArray.java:1024)\r\n\tat android.content.res.BridgeTypedArray.getType(BridgeTypedArray.java:809)\r\n\tat android.content.res.BridgeTypedArray.getValue(BridgeTypedArray.java:778)\r\n\tat android.content.res.BridgeTypedArray.peekValue(BridgeTypedArray.java:847)\r\n\tat android.view.View.&lt;init&gt;(View.java:5951)\r\n\tat android.widget.TextView.&lt;init&gt;(TextView.java:996)\r\n\tat android.widget.EditText.&lt;init&gt;(EditText.java:87)\r\n\tat android.widget.EditText.&lt;init&gt;(EditText.java:83)\r\n\tat androidx.appcompat.widget.AppCompatEditText.&lt;init&gt;(AppCompatEditText.java:93)\r\n\tat androidx.appcompat.widget.AppCompatEditText.&lt;init&gt;(AppCompatEditText.java:88)\r\n\tat androidx.appcompat.app.AppCompatViewInflater.createEditText(AppCompatViewInflater.java:209)\r\n\tat androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:127)\r\n\t... 34 more\r\n```\r\nRender Problem Error Image:\r\n[![Render Problem Error Image][1]][1]\r\n\r\n\r\nStack Trace Error Code:\r\n```\r\njava.lang.StringIndexOutOfBoundsException: String index out of range: -1\r\n\tat java.base/java.lang.StringLatin1.charAt(StringLatin1.java:47)\r\n\tat java.base/java.lang.String.charAt(String.java:693)\r\n\tat android.content.res.BridgeTypedArray.getType(BridgeTypedArray.java:1024)\r\n\tat android.content.res.BridgeTypedArray.getType(BridgeTypedArray.java:809)\r\n\tat android.content.res.BridgeTypedArray.getValue(BridgeTypedArray.java:778)\r\n\tat android.content.res.BridgeTypedArray.peekValue(BridgeTypedArray.java:847)\r\n\tat android.view.View.&lt;init&gt;(View.java:5951)\r\n\tat android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:697)\r\n\tat android.widget.FrameLayout.&lt;init&gt;(FrameLayout.java:99)\r\n\tat com.android.layoutlib.bridge.MockView.&lt;init&gt;(MockView.java:55)\r\n\tat com.android.layoutlib.bridge.MockView.&lt;init&gt;(MockView.java:51)\r\n\tat com.android.layoutlib.bridge.MockView.&lt;init&gt;(MockView.java:47)\r\n\tat android.view.BridgeInflater.createViewFromTag(BridgeInflater.java:324)\r\n\tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1121)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1124)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1124)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:680)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:499)\r\n\tat com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:354)\r\n\tat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:431)\r\n\tat com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:141)\r\n\tat com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:710)\r\n\tat com.android.tools.idea.rendering.RenderTask.lambda$inflate$6(RenderTask.java:865)\r\n\tat com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$2.run(RenderExecutor.kt:174)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\nStack Trace Error Image:\r\n[![Stack Trace Error Image][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bTI43.png\r\n  [2]: https://i.stack.imgur.com/EEOzG.png\r\n\r\nIf anything is missing, let me know and I&#39;ll add it right away. Thank you from now.","title":"Android Studio XML Render Problem - String Index Out Of Range:-1","body":"<p>When I adding <code>android:autoFillHints=&quot;&quot;</code> attribute to the XML code of activity, design screen suddenly started giving an error.</p>\n<p>First, the activity layout that I editing did not show anything on the design screen and there was error in just the activity layout that I editing. Then, I tried to solve there are my steps which did not work (nothing else worked.):</p>\n<ol>\n<li>I change the API version to 29 and 28 from 30. It did not worked.</li>\n<li>I rewrite all the XML code at the activity layout that I editted. It did not worked.</li>\n</ol>\n<p>I search Google and Stack Over Flow but I did not see any solve. The answers were about JavaFX or pure java code that String index is out of range.</p>\n<p>After that, I decided to edit other activity layouts and when I edit other activity layouts started giving errors.</p>\n<p>The XML file that I get error is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.noteDetails&quot;\n    android:paddingHorizontal=&quot;20dp&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_marginBottom=&quot;20dp&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView3&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:fontFamily=&quot;@font/ubuntubold&quot;\n            android:text=&quot;@string/note_details&quot;\n            android:textColor=&quot;@color/yellow&quot;\n            android:textSize=&quot;25sp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:ignore=&quot;MissingConstraints&quot; /&gt;\n\n        &lt;ImageButton\n            android:id=&quot;@+id/saveNoteButton&quot;\n            android:layout_width=&quot;30dp&quot;\n            android:layout_height=&quot;30dp&quot;\n            android:background=&quot;@drawable/ic_save_note_changes&quot;\n            android:visibility=&quot;gone&quot;\n            android:backgroundTint=&quot;@color/green&quot;\n            android:layout_marginEnd=&quot;20dp&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@id/deleteNoteButton&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            android:contentDescription=&quot;@string/save_updates_button&quot; /&gt;\n\n        &lt;ImageButton\n            android:id=&quot;@+id/editNoteButton&quot;\n            android:layout_width=&quot;30dp&quot;\n            android:layout_height=&quot;30dp&quot;\n            android:background=&quot;@drawable/ic_edit_note&quot;\n            android:backgroundTint=&quot;@color/blue&quot;\n            android:layout_marginEnd=&quot;20dp&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@id/deleteNoteButton&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            android:contentDescription=&quot;@string/edit_note_button&quot; /&gt;\n\n        &lt;ImageButton\n            android:id=&quot;@+id/deleteNoteButton&quot;\n            android:layout_width=&quot;30dp&quot;\n            android:layout_height=&quot;30dp&quot;\n            android:background=&quot;@drawable/ic_delete_note&quot;\n            android:backgroundTint=&quot;@color/pink&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/goBackButton&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            android:layout_marginEnd=&quot;20dp&quot;\n            android:contentDescription=&quot;@string/delete_note_button&quot; /&gt;\n\n        &lt;ImageButton\n            android:id=&quot;@+id/goBackButton&quot;\n            android:layout_width=&quot;30dp&quot;\n            android:layout_height=&quot;30dp&quot;\n            android:background=&quot;@drawable/ic_go_back&quot;\n            android:backgroundTint=&quot;@color/darkblue&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            android:contentDescription=&quot;@string/go_to_main_menu_button&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;View\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;10dp&quot;\n        android:background=&quot;@drawable/horizontal_line&quot;/&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/editNoteLinearLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        android:layout_marginVertical=&quot;20dp&quot;\n        android:padding=&quot;8dp&quot;\n        android:background=&quot;@drawable/ic_note_detailed_text_frame&quot;&gt;\n        \n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/noteTitleDetailed&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:fontFamily=&quot;@font/ubunturegular&quot;\n                android:textStyle=&quot;bold&quot;\n                android:hint=&quot;@string/note_title&quot;\n                android:background=&quot;@null&quot;\n                android:inputType=&quot;text&quot;\n                android:textSize=&quot;20sp&quot;\n                android:textColor=&quot;@color/darkblue&quot;\n                android:maxLength=&quot;30&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                tools:ignore=&quot;MissingConstraints&quot;\n                android:autofillHints=&quot;&quot; /&gt;\n\n            &lt;View\n                android:layout_width=&quot;100dp&quot;\n                android:layout_height=&quot;3dp&quot;\n                android:layout_gravity=&quot;start&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:background=&quot;@drawable/ic_note_title_and_text_divider&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/noteTitleDetailed&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                tools:ignore=&quot;MissingConstraints&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/noteDateDetailed&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:fontFamily=&quot;@font/ubuntulight&quot;\n                android:textSize=&quot;12sp&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:text=&quot;@string/example_date&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/noteTitleDetailed&quot;/&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/noteTextDetailed&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:inputType=&quot;text&quot;\n            android:fontFamily=&quot;@font/ubunturegular&quot;\n            android:textSize=&quot;16sp&quot;\n            android:textColor=&quot;@color/darkblue&quot;\n            android:hint=&quot;@string/note_content&quot;\n            android:lines=&quot;10&quot;\n            android:ems=&quot;10&quot;\n            android:maxLength=&quot;500&quot;\n            android:background=&quot;@null&quot;\n            tools:ignore=&quot;MissingConstraints&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:autofillHints=&quot;&quot; /&gt;\n        \n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I control the code again and again and I did not notice any problem about XML code. And when I compile the code, program run with not problem.</p>\n<p>Error codes and images are:</p>\n<p>Render Problem Error Code:</p>\n<pre><code>java.lang.reflect.InvocationTargetException\n    at jdk.internal.reflect.GeneratedMethodAccessor953.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at android.view.BridgeInflater.lambda$createViewFromCustomInflater$0(BridgeInflater.java:259)\n    at android.view.BridgeInflater.createViewFromCustomInflater(BridgeInflater.java:285)\n    at android.view.BridgeInflater.onCreateView(BridgeInflater.java:122)\n    at android.view.LayoutInflater.onCreateView(LayoutInflater.java:928)\n    at android.view.LayoutInflater.onCreateView(LayoutInflater.java:948)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1002)\n    at android.view.BridgeInflater.createViewFromTag(BridgeInflater.java:309)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1121)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1124)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1124)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:499)\n    at com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:354)\n    at com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:431)\n    at com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:141)\n    at com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:710)\n    at com.android.tools.idea.rendering.RenderTask.lambda$inflate$6(RenderTask.java:865)\n    at com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$2.run(RenderExecutor.kt:174)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -1\n    at java.base/java.lang.StringLatin1.charAt(StringLatin1.java:47)\n    at java.base/java.lang.String.charAt(String.java:693)\n    at android.content.res.BridgeTypedArray.getType(BridgeTypedArray.java:1024)\n    at android.content.res.BridgeTypedArray.getType(BridgeTypedArray.java:809)\n    at android.content.res.BridgeTypedArray.getValue(BridgeTypedArray.java:778)\n    at android.content.res.BridgeTypedArray.peekValue(BridgeTypedArray.java:847)\n    at android.view.View.&lt;init&gt;(View.java:5951)\n    at android.widget.TextView.&lt;init&gt;(TextView.java:996)\n    at android.widget.EditText.&lt;init&gt;(EditText.java:87)\n    at android.widget.EditText.&lt;init&gt;(EditText.java:83)\n    at androidx.appcompat.widget.AppCompatEditText.&lt;init&gt;(AppCompatEditText.java:93)\n    at androidx.appcompat.widget.AppCompatEditText.&lt;init&gt;(AppCompatEditText.java:88)\n    at androidx.appcompat.app.AppCompatViewInflater.createEditText(AppCompatViewInflater.java:209)\n    at androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:127)\n    ... 34 more\n</code></pre>\n<p>Render Problem Error Image:\n<a href=\"https://i.stack.imgur.com/bTI43.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bTI43.png\" alt=\"Render Problem Error Image\" /></a></p>\n<p>Stack Trace Error Code:</p>\n<pre><code>java.lang.StringIndexOutOfBoundsException: String index out of range: -1\n    at java.base/java.lang.StringLatin1.charAt(StringLatin1.java:47)\n    at java.base/java.lang.String.charAt(String.java:693)\n    at android.content.res.BridgeTypedArray.getType(BridgeTypedArray.java:1024)\n    at android.content.res.BridgeTypedArray.getType(BridgeTypedArray.java:809)\n    at android.content.res.BridgeTypedArray.getValue(BridgeTypedArray.java:778)\n    at android.content.res.BridgeTypedArray.peekValue(BridgeTypedArray.java:847)\n    at android.view.View.&lt;init&gt;(View.java:5951)\n    at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:697)\n    at android.widget.FrameLayout.&lt;init&gt;(FrameLayout.java:99)\n    at com.android.layoutlib.bridge.MockView.&lt;init&gt;(MockView.java:55)\n    at com.android.layoutlib.bridge.MockView.&lt;init&gt;(MockView.java:51)\n    at com.android.layoutlib.bridge.MockView.&lt;init&gt;(MockView.java:47)\n    at android.view.BridgeInflater.createViewFromTag(BridgeInflater.java:324)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1121)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1124)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1124)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1095)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:499)\n    at com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:354)\n    at com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:431)\n    at com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:141)\n    at com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:710)\n    at com.android.tools.idea.rendering.RenderTask.lambda$inflate$6(RenderTask.java:865)\n    at com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$2.run(RenderExecutor.kt:174)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Stack Trace Error Image:\n<a href=\"https://i.stack.imgur.com/EEOzG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EEOzG.png\" alt=\"Stack Trace Error Image\" /></a></p>\n<p>If anything is missing, let me know and I'll add it right away. Thank you from now.</p>\n"},{"tags":["java","spring-boot","wiremock"],"answers":[{"tags":[],"owner":{"account_id":9209389,"reputation":165,"user_id":7398259,"display_name":"Jeetendra Gan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647554300,"creation_date":1647554300,"answer_id":71519508,"question_id":71507579,"body_markdown":"Solved this issue by using a different version of Wiremock (wiremock-jre8) since I was using Java 11. \r\nRefer to - https://github.com/wiremock/wiremock/issues/940\r\nand - https://wiremock.org/docs/download-and-installation/","title":"No such method exception when creating a wiremock stub","body":"<p>Solved this issue by using a different version of Wiremock (wiremock-jre8) since I was using Java 11.\nRefer to - <a href=\"https://github.com/wiremock/wiremock/issues/940\" rel=\"nofollow noreferrer\">https://github.com/wiremock/wiremock/issues/940</a>\nand - <a href=\"https://wiremock.org/docs/download-and-installation/\" rel=\"nofollow noreferrer\">https://wiremock.org/docs/download-and-installation/</a></p>\n"}],"owner":{"account_id":9209389,"reputation":165,"user_id":7398259,"display_name":"Jeetendra Gan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647554300,"creation_date":1647495974,"question_id":71507579,"body_markdown":"I have created a method that mocks an external API. \r\n\r\n    public final void mockApiWithRequestBody(ExternalAPI externalApi, String requestBody, String statusCode,\r\n                                             String responseBody) {\r\n                WireMock.stubFor(\r\n                request(externalApi.method.toString(), urlPathEqualTo(externalApi.uri.toString()))\r\n                .withRequestBody(equalToIgnoreCase(requestBody))\r\n                .willReturn(aResponse()\r\n                        .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                        .withStatus(Integer.parseInt(statusCode))\r\n                        .withBody(responseBody)));\r\n    }\r\n\r\nExternalAPI is an Emum like so:\r\n\r\n    public enum ExternalAPI {\r\n       ExternalAPI(HttpMethod method, String uri) {\r\n          this.method = method;\r\n          this.uri = uri;\r\n       }\r\n       public final HttpMethod method;\r\n       public final String uri;\r\n    }\r\n\r\n\r\nAfter I make a call to mockApiWithRequestBody, I am getting the exception:\r\n\r\n    \r\n    java.lang.NoSuchMethodError: &#39;com.google.common.collect.FluentIterable \r\n    com.google.common.collect.FluentIterable.from(java.lang.Object[])&#39;\r\n\tat com.github.tomakehurst.wiremock.matching.StringValuePattern.getName(StringValuePattern.java:54)\r\n\tat com.github.tomakehurst.wiremock.matching.ContentPattern.&lt;init&gt;(ContentPattern.java:29)\r\n\tat com.github.tomakehurst.wiremock.matching.StringValuePattern.&lt;init&gt;(StringValuePattern.java:31)\r\n\tat com.github.tomakehurst.wiremock.matching.AnythingPattern.&lt;init&gt;(AnythingPattern.java:23)\r\n\tat com.github.tomakehurst.wiremock.matching.AnythingPattern.&lt;init&gt;(AnythingPattern.java:27)\r\n\tat com.github.tomakehurst.wiremock.matching.UrlPattern.&lt;clinit&gt;(UrlPattern.java:24)\r\n\tat com.github.tomakehurst.wiremock.client.WireMock.urlPathEqualTo(WireMock.java:330)\r\n\tat functional.steps.Steps.mockApi(Steps.java:174)\t\r\n\r\n\r\nNot able to figure out what&#39;s wrong.\r\nThe exception occurs at request(externalApi.method.toString(), urlPathEqualTo(externalApi.uri.toString())). \r\n","title":"No such method exception when creating a wiremock stub","body":"<p>I have created a method that mocks an external API.</p>\n<pre><code>public final void mockApiWithRequestBody(ExternalAPI externalApi, String requestBody, String statusCode,\n                                         String responseBody) {\n            WireMock.stubFor(\n            request(externalApi.method.toString(), urlPathEqualTo(externalApi.uri.toString()))\n            .withRequestBody(equalToIgnoreCase(requestBody))\n            .willReturn(aResponse()\n                    .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                    .withStatus(Integer.parseInt(statusCode))\n                    .withBody(responseBody)));\n}\n</code></pre>\n<p>ExternalAPI is an Emum like so:</p>\n<pre><code>public enum ExternalAPI {\n   ExternalAPI(HttpMethod method, String uri) {\n      this.method = method;\n      this.uri = uri;\n   }\n   public final HttpMethod method;\n   public final String uri;\n}\n</code></pre>\n<p>After I make a call to mockApiWithRequestBody, I am getting the exception:</p>\n<pre><code>java.lang.NoSuchMethodError: 'com.google.common.collect.FluentIterable \ncom.google.common.collect.FluentIterable.from(java.lang.Object[])'\nat com.github.tomakehurst.wiremock.matching.StringValuePattern.getName(StringValuePattern.java:54)\nat com.github.tomakehurst.wiremock.matching.ContentPattern.&lt;init&gt;(ContentPattern.java:29)\nat com.github.tomakehurst.wiremock.matching.StringValuePattern.&lt;init&gt;(StringValuePattern.java:31)\nat com.github.tomakehurst.wiremock.matching.AnythingPattern.&lt;init&gt;(AnythingPattern.java:23)\nat com.github.tomakehurst.wiremock.matching.AnythingPattern.&lt;init&gt;(AnythingPattern.java:27)\nat com.github.tomakehurst.wiremock.matching.UrlPattern.&lt;clinit&gt;(UrlPattern.java:24)\nat com.github.tomakehurst.wiremock.client.WireMock.urlPathEqualTo(WireMock.java:330)\nat functional.steps.Steps.mockApi(Steps.java:174)   \n</code></pre>\n<p>Not able to figure out what's wrong.\nThe exception occurs at request(externalApi.method.toString(), urlPathEqualTo(externalApi.uri.toString())).</p>\n"},{"tags":["java","exception","methods","uml","class-diagram"],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647554246,"creation_date":1647546571,"answer_id":71518251,"question_id":71484887,"body_markdown":"According to *The UML User Guide*: \r\n\r\n&gt; In the UML, abnormal occurrences are just additional kinds of events that can be modeled as signals. Error events may be attached to specification operations. Modeling exceptions is somewhat the inverse of modeling a general family of signals. \r\n\r\nSo you can model exceptions using signals, which are represented like classes but with the `&#171;signal&#187;` keyword. You can even show a hierarchy of signals. However, keep in mind that in UML, despite having many things in common with classes,  signals have different semantics.  \r\n\r\nTo show that a specific operation (aka &quot;method&quot; in Java) can throw such an exception, you can show a dependency (dashed arrow) from the operation to the signal: \r\n\r\n[![enter image description here][1]][1]  \r\n\r\nThe only drawback is that this tends to make diagrams more difficult to read if used systematically.  I&#39;d advise to use it scarcely and only if it&#39;s essential to your design and not just an implementation detail. \r\n\r\n  [1]: https://i.stack.imgur.com/utTwO.png","title":"Exceptions in class diagrams","body":"<p>According to <em>The UML User Guide</em>:</p>\n<blockquote>\n<p>In the UML, abnormal occurrences are just additional kinds of events that can be modeled as signals. Error events may be attached to specification operations. Modeling exceptions is somewhat the inverse of modeling a general family of signals.</p>\n</blockquote>\n<p>So you can model exceptions using signals, which are represented like classes but with the <code>«signal»</code> keyword. You can even show a hierarchy of signals. However, keep in mind that in UML, despite having many things in common with classes,  signals have different semantics.</p>\n<p>To show that a specific operation (aka &quot;method&quot; in Java) can throw such an exception, you can show a dependency (dashed arrow) from the operation to the signal:</p>\n<p><a href=\"https://i.stack.imgur.com/utTwO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/utTwO.png\" alt=\"enter image description here\" /></a></p>\n<p>The only drawback is that this tends to make diagrams more difficult to read if used systematically.  I'd advise to use it scarcely and only if it's essential to your design and not just an implementation detail.</p>\n"}],"owner":{"account_id":7122535,"reputation":21,"user_id":5446637,"display_name":"Javier Coque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1753,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647554246,"creation_date":1647358351,"question_id":71484887,"body_markdown":"I need to know how to indicate in a class diagram that a method can throw an exception. I have seen that for classes it is indicated by a sterotype, but I have no idea with methods.\r\n\r\nFor example, in the following method, how would it be?\r\n\r\n    public void method () throws RuntimeException { ... }\r\n\r\n","title":"Exceptions in class diagrams","body":"<p>I need to know how to indicate in a class diagram that a method can throw an exception. I have seen that for classes it is indicated by a sterotype, but I have no idea with methods.</p>\n<p>For example, in the following method, how would it be?</p>\n<pre><code>public void method () throws RuntimeException { ... }\n</code></pre>\n"},{"tags":["java","rest","coverity"],"answers":[{"tags":[],"owner":{"account_id":3144597,"reputation":9476,"user_id":2659307,"display_name":"Scott McPeak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647553580,"creation_date":1647553580,"answer_id":71519391,"question_id":71510258,"body_markdown":"The main issue is that the code, as it currently stands, is insecure.  To summarize the Coverity report:\r\n\r\n1. `entityType` comes from an HTTP parameter, hence is under attacker control.\r\n2. `entityType` is concatenated into `tagline`.\r\n3. `tagline` is passed as the body and subject of `CdsEmailWithAttachment`.  (You haven&#39;t included the constructor of that class, so this is partially speculation on my part.)\r\n4. The subject and body are concatenated into an `sh` command line.  Consequently, anyone who can invoke your HTTP service can execute arbitrary command lines on your server backend!\r\n\r\nThere is an attempt at validation in `sendEmailWithAttachment`, where certain shell metacharacters are filtered out.  However, the filtering is incomplete (missing at least single and double quote) and is not applied to the subject.\r\n\r\nSo, your first task here is to **fix the vulnerability**.  The Coverity tool has correctly reported that there is a problem, but making Coverity happy is not the goal, and even if it stops reporting after you make a change, that does not necessarily mean the vulnerability is fixed.\r\n\r\nThere are at least two straightforward ways I see to fix this code:\r\n\r\n1. Use a whitelist filter on `entityType`, rejecting the request if the value is not among a fixed list of safe strings.  You mentioned trying the [`@Pattern`](https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html) annotation, and that could work *if used correctly*.  Be sure to test that your filter works and provides a sensible error message.\r\n\r\n2. Instead of invoking `mailx` via `sh`, invoke it directly using [`ProcessBuilder`](https://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html).  This way you can safely transport arbitrary data into `mailx` without the risks of a shell command line.\r\n\r\nPersonally, I would do both of these.  It appears that `entityType` is meant to be one of a fixed set of values, so should be validated regardless of any vulnerability potential; and using `sh` is both risky from a security perspective and makes controlling the underlying process difficult (e.g., implementing a timeout).\r\n\r\nWhatever you decide to do, **test the fix**.  In fact, I recommend first (before changing the code) demonstrating that the code is vulnerable by constructing an exploit, as that will be needed later to test any fix, and is a valuable exercise in its own right.  When you think you have fixed the problem, write more tests to really be sure.  Think like an attacker; be devious!\r\n\r\nFinally, I suspect you may be inexperienced at dealing with potential security vulnerabilities (I apologize if I&#39;m mistaken).  If so, please understand that code security is very important, and getting it right is difficult.  If you have the option, I recommend consulting with someone in your organization who has more experience with this topic.  Do **not** rely only on Coverity.\r\n","title":"TAINTED_SOURCE - os_command_sink","body":"<p>The main issue is that the code, as it currently stands, is insecure.  To summarize the Coverity report:</p>\n<ol>\n<li><code>entityType</code> comes from an HTTP parameter, hence is under attacker control.</li>\n<li><code>entityType</code> is concatenated into <code>tagline</code>.</li>\n<li><code>tagline</code> is passed as the body and subject of <code>CdsEmailWithAttachment</code>.  (You haven't included the constructor of that class, so this is partially speculation on my part.)</li>\n<li>The subject and body are concatenated into an <code>sh</code> command line.  Consequently, anyone who can invoke your HTTP service can execute arbitrary command lines on your server backend!</li>\n</ol>\n<p>There is an attempt at validation in <code>sendEmailWithAttachment</code>, where certain shell metacharacters are filtered out.  However, the filtering is incomplete (missing at least single and double quote) and is not applied to the subject.</p>\n<p>So, your first task here is to <strong>fix the vulnerability</strong>.  The Coverity tool has correctly reported that there is a problem, but making Coverity happy is not the goal, and even if it stops reporting after you make a change, that does not necessarily mean the vulnerability is fixed.</p>\n<p>There are at least two straightforward ways I see to fix this code:</p>\n<ol>\n<li><p>Use a whitelist filter on <code>entityType</code>, rejecting the request if the value is not among a fixed list of safe strings.  You mentioned trying the <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html\" rel=\"nofollow noreferrer\"><code>@Pattern</code></a> annotation, and that could work <em>if used correctly</em>.  Be sure to test that your filter works and provides a sensible error message.</p>\n</li>\n<li><p>Instead of invoking <code>mailx</code> via <code>sh</code>, invoke it directly using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\"><code>ProcessBuilder</code></a>.  This way you can safely transport arbitrary data into <code>mailx</code> without the risks of a shell command line.</p>\n</li>\n</ol>\n<p>Personally, I would do both of these.  It appears that <code>entityType</code> is meant to be one of a fixed set of values, so should be validated regardless of any vulnerability potential; and using <code>sh</code> is both risky from a security perspective and makes controlling the underlying process difficult (e.g., implementing a timeout).</p>\n<p>Whatever you decide to do, <strong>test the fix</strong>.  In fact, I recommend first (before changing the code) demonstrating that the code is vulnerable by constructing an exploit, as that will be needed later to test any fix, and is a valuable exercise in its own right.  When you think you have fixed the problem, write more tests to really be sure.  Think like an attacker; be devious!</p>\n<p>Finally, I suspect you may be inexperienced at dealing with potential security vulnerabilities (I apologize if I'm mistaken).  If so, please understand that code security is very important, and getting it right is difficult.  If you have the option, I recommend consulting with someone in your organization who has more experience with this topic.  Do <strong>not</strong> rely only on Coverity.</p>\n"}],"owner":{"account_id":1571166,"reputation":225,"user_id":1458824,"accept_rate":50,"display_name":"Eager"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647553580,"creation_date":1647510845,"question_id":71510258,"body_markdown":"Further to https://stackoverflow.com/questions/62141072/tainted-source-java, I want to add more information regarding the error os_command_sink I am getting.\r\n\r\nBelow is the section of code that&#39;s entry point of data from front end and marks parameter as tainted_souce\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nNow when the DTO - CssEmailWithAttachment is sent to static method of CommandUtils, it reports os_command_sink issue. Below is the code for the method\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI tried various ways to sanitize the source in controller method - referenceDataExport i.e. using allowlist, using @Pattern annotation but coverity reports os_command_sink all the times.\r\n\r\nI understand the reason as any data coming from http is marked as tainted by default. And the code is using the data to construct an OS command hence the issue is reported.\r\n\r\nCoverity provides below information regarding the issue\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yw4RL.png\r\n  [2]: https://i.stack.imgur.com/c2qn4.png\r\n  [3]: https://i.stack.imgur.com/nyTE6.png\r\n\r\nSo I tried strict validation of entityType that it should be one of the known values only but that also doesn&#39;t remove the issue.\r\n\r\nIs there anyway this can be resolved?\r\nThanks","title":"TAINTED_SOURCE - os_command_sink","body":"<p>Further to <a href=\"https://stackoverflow.com/questions/62141072/tainted-source-java\">Tainted_source JAVA</a>, I want to add more information regarding the error os_command_sink I am getting.</p>\n<p>Below is the section of code that's entry point of data from front end and marks parameter as tainted_souce</p>\n<p><a href=\"https://i.stack.imgur.com/Yw4RL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yw4RL.png\" alt=\"enter image description here\" /></a></p>\n<p>Now when the DTO - CssEmailWithAttachment is sent to static method of CommandUtils, it reports os_command_sink issue. Below is the code for the method</p>\n<p><a href=\"https://i.stack.imgur.com/c2qn4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c2qn4.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried various ways to sanitize the source in controller method - referenceDataExport i.e. using allowlist, using @Pattern annotation but coverity reports os_command_sink all the times.</p>\n<p>I understand the reason as any data coming from http is marked as tainted by default. And the code is using the data to construct an OS command hence the issue is reported.</p>\n<p>Coverity provides below information regarding the issue\n<a href=\"https://i.stack.imgur.com/nyTE6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nyTE6.png\" alt=\"enter image description here\" /></a></p>\n<p>So I tried strict validation of entityType that it should be one of the known values only but that also doesn't remove the issue.</p>\n<p>Is there anyway this can be resolved?\nThanks</p>\n"},{"tags":["java","csv","merge"],"answers":[{"tags":[],"owner":{"account_id":23973748,"reputation":11,"user_id":17962090,"display_name":"Thomasovellgkl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647553196,"creation_date":1647553196,"answer_id":71519332,"question_id":70530490,"body_markdown":"The merge is to replace data in the first CSV file with corresponding new data in the second file, if any, and save result as new file. Java does not have the special class libraries for performing set-oriented calculations, so the process will be really roundabout.\r\n\r\nYou can use SPL, Java’s open-source package, to do this. Only a few lines are enough:\r\n\r\n|　|A|\r\n|:-|:-|\r\n|1|=file(&quot;mergeFile.txt&quot;).import@ct()|\r\n|2|=file(&quot;dpcFileReturn.txt&quot;).import@ct()|\r\n|3|&gt;A1.run(\\~.modify@f(ifn(A2.select@1(uniqueID==A1.uniqueID &amp;&amp; &#160; activityDate&gt;A1.activityDate),\\~)))|\r\n|4|=file(&quot;mergedFile.txt&quot;).export@ct(A1)|\r\n\r\nSPL offers JDBC driver to be invoked by a Java program. Just store the above SPL script as mergeFile.splx and invoke it in Java in the way of calling a stored procedure:\r\n\r\n    …\r\n    \r\n    Class.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\r\n    \r\n    con&#160;= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\r\n    \r\n    st&#160;=&#160;con.prepareCall(&quot;call mergeFile ()&quot;);\r\n    \r\n    st.execute();\r\n    \r\n    …\r\n\r\n","title":"merge csv files into one document with no repeats in row Java","body":"<p>The merge is to replace data in the first CSV file with corresponding new data in the second file, if any, and save result as new file. Java does not have the special class libraries for performing set-oriented calculations, so the process will be really roundabout.</p>\n<p>You can use SPL, Java’s open-source package, to do this. Only a few lines are enough:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">　</th>\n<th style=\"text-align: left;\">A</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">=file(&quot;mergeFile.txt&quot;).import@ct()</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: left;\">=file(&quot;dpcFileReturn.txt&quot;).import@ct()</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: left;\">&gt;A1.run(~.modify@f(ifn(A2.select@1(uniqueID==A1.uniqueID &amp;&amp;   activityDate&gt;A1.activityDate),~)))</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">4</td>\n<td style=\"text-align: left;\">=file(&quot;mergedFile.txt&quot;).export@ct(A1)</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>SPL offers JDBC driver to be invoked by a Java program. Just store the above SPL script as mergeFile.splx and invoke it in Java in the way of calling a stored procedure:</p>\n<pre><code>…\n\nClass.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\n\ncon = DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\n\nst = con.prepareCall(&quot;call mergeFile ()&quot;);\n\nst.execute();\n\n…\n</code></pre>\n"}],"owner":{"account_id":20332717,"reputation":1,"user_id":14914308,"display_name":"Gary Campbell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647553196,"creation_date":1640861051,"question_id":70530490,"body_markdown":"I have to merge two csv files.\r\nI have implemented some code and the files merge yet I am getting repeated rows from the second document written to new lines.\r\nLike This :\r\nD,M,20211217,test17045,ehdef,ase_17045_26332@ukuat.com,38008621179,2021092700210571,16880,17045,UID1704510000037,1704537,222,0,20000101,London,510000,,0  // First file\r\nD,M,20211217,2021092700210471,UID1704510000027,16880,17045 // Second File.\r\n\r\nI am looking to merge the two rows together by UniqueID field.\r\nThis is the CSV Parser:\r\npublic class CsvParser {\r\n\r\n// CODE\r\n\r\n        public static List&lt;CsvVo&gt; getRecodrsFromACsv(File file, List&lt;String&gt; keys) throws IOException {\r\n            BufferedReader br = new BufferedReader(new FileReader(file));\r\n            List&lt;CsvVo&gt; records = new ArrayList&lt;&gt;();\r\n            boolean isHeader = true;\r\n    \r\n            String line = null;\r\n            while ((line = br.readLine()) != null) {\r\n                if (isHeader) {// first line is header\r\n                    isHeader = false;\r\n                    continue;\r\n                }\r\n                CsvVo record = new CsvVo(file.getName());\r\n                String[] lineSplit = line.split(&quot;, &quot;);\r\n                for (int i = 0; i &lt; lineSplit.length; i++) {\r\n                    record.put(keys.get(i), lineSplit[i]);\r\n                }\r\n                records.add(record);\r\n            }\r\n    \r\n            br.close();\r\n    \r\n            return records;\r\n        }\r\n    \r\n        public static List&lt;String&gt; getHeadersFromACsv(File file) throws IOException {\r\n    //        if (file.exists()) {\r\n                BufferedReader br = new BufferedReader(new FileReader(file));\r\n                List&lt;String&gt; headers = null;\r\n    \r\n                String line = null;\r\n                while ((line = br.readLine()) != null) {\r\n                    String[] lineSplit = line.split(&quot;, &quot;);\r\n                    headers = new ArrayList&lt;&gt;(Arrays.asList(lineSplit));\r\n                    log.info(&quot;HEADERS : &quot; + headers);\r\n                    break;\r\n                }\r\n    \r\n                br.close();\r\n    \r\n                return headers;\r\n    \r\n    //    }\r\n    //        return null;\r\n        }\r\n        public static void writeToCsv(final File file, final Set&lt;String&gt; headers, final List&lt;CsvVo&gt; records)\r\n                throws IOException {\r\n            FileWriter csvWriter = new FileWriter(file);\r\n    \r\n            // write headers\r\n            String sep = &quot;&quot;;\r\n            String[] headersArr = headers.toArray(new String[headers.size()]);\r\n            for (String header : headersArr) {\r\n                csvWriter.append(sep);\r\n                csvWriter.append(header);\r\n                sep = &quot;|&quot;;\r\n            }\r\n    \r\n            csvWriter.append(&quot;\\n&quot;);\r\n    \r\n            // write records at each line\r\n            for (CsvVo record : records) {\r\n                sep = &quot;&quot;;\r\n                for (String s : headersArr) {\r\n                    csvWriter.append(sep);\r\n                    csvWriter.append(record.get(s));\r\n                    sep = &quot;|&quot;;\r\n                }\r\n                csvWriter.append(&quot;\\n&quot;);\r\n            }\r\n    \r\n            csvWriter.flush();\r\n            csvWriter.close();\r\n        }\r\n\r\nThis is the Merge Model\r\n//CODE\r\n\r\n    public class CsvVo {\r\n    \r\n        private Map&lt;String, String&gt; keyVal;\r\n    \r\n        public CsvVo(String id) {\r\n            keyVal = new LinkedHashMap&lt;&gt;();// you may also use HashMap if you don&#39;t need to keep order\r\n        }\r\n    \r\n        public Map&lt;String, String&gt; getKeyVal() {\r\n            return keyVal;\r\n        }\r\n    \r\n        public void setKeyVal(Map&lt;String, String&gt; keyVal) {\r\n            this.keyVal = keyVal;\r\n        }\r\n    \r\n        public void put(String key, String val) {\r\n            keyVal.put(key, val);\r\n        }\r\n    \r\n        public String get(String key) {\r\n            return keyVal.get(key);\r\n        }\r\n\r\nThis is the implementation:\r\n//CODE\r\n\r\n    File aseFile = new File(&quot;merge/mergeFile.txt&quot;);\r\n            File newFile = new File(&quot;dpcFileReturn.txt&quot;);\r\n            log.info(&quot;File To Be Processed : &quot; + newFile.getName());\r\n    \r\n            List&lt;String&gt; csv1Headers = CsvParser.getHeadersFromACsv(aseFile);\r\n            csv1Headers.forEach(h -&gt; System.out.print(h + &quot; &quot;));\r\n            // System.out.println();\r\n            List&lt;String&gt; csv2Headers = CsvParser.getHeadersFromACsv(newFile);\r\n            csv2Headers.forEach(h -&gt; System.out.print(h + &quot; &quot;));\r\n            // System.out.println();\r\n    \r\n            List&lt;String&gt; allCsvHeaders = new ArrayList&lt;&gt;();\r\n            allCsvHeaders.addAll(csv1Headers);\r\n            allCsvHeaders.addAll(csv2Headers);\r\n            allCsvHeaders.forEach(h -&gt; System.out.print(h + &quot; &quot;));\r\n            // System.out.println();\r\n    \r\n            Set&lt;String&gt; uniqueHeaders = new HashSet&lt;&gt;(allCsvHeaders);\r\n            uniqueHeaders.forEach(h -&gt; System.out.print(h + &quot; &quot;));\r\n            // System.out.println();\r\n    \r\n            List&lt;CsvVo&gt; csv1Records = CsvParser.getRecodrsFromACsv(aseFile, csv1Headers);\r\n            List&lt;CsvVo&gt; csv2Records = CsvParser.getRecodrsFromACsv(newFile, csv2Headers);\r\n    \r\n            List&lt;CsvVo&gt; allCsvRecords = new ArrayList&lt;&gt;();\r\n            allCsvRecords.addAll(csv1Records);\r\n            allCsvRecords.addAll(csv2Records);\r\n    \r\n            File mergedFile = new File(&quot;mergedFile.txt&quot;);\r\n            CsvParser.writeToCsv(new File(&quot;mergedFile.txt&quot;), uniqueHeaders, allCsvRecords);\r\n    \r\n            log.info(&quot;Merged File : &quot; + mergedFile);\r\n\r\n    The first file\r\n    recordType,activityType,activityDate,foreName,surName,emailAddress,mobilePhone,dpid,clientID,programmeID,uniqueID,bankAccount,sortCode,isJointAccount,dateOfBirth,addressLine1,postCode,clientReference,suspension,\r\n    D|M|20211217|test17045|afdib|ase_17045_29894@ukuat.com|30934992219|2021092700210261|16880|17045|UID1704510000006|1704506|003|0|20000101|London|510000||0|\r\n    D|M|20211217|test17045|ibabi|ase_17045_42069@ukuat.com|07676909173|2021092700210271|16880|17045|UID1704510000007|1704507|278|0|20000101|London|510000||0|\r\n    \r\n    secondFile\r\n    H,activityType,activityDate,dpid,uniqueID,clientID,programmeID, D,M,20211217,2021092700210261,UID1704510000006,16880,17045, D,M,20211217,2021092700210271,UID1704510000007,16880,17045,\r\n\r\nI am looking for a merged file that takes the user name, surname, email and/or uniqueID and validates the data and overwrites the row with the new(Missing) data, if any.\r\n\r\nI can find nothing and I&#39;ve even tried to have a nested loop to check row substring of file 1 against file 2.  Cannot seem to get it working though.\r\n\r\nAny assistance would be greatly appreciated.\r\n\r\n\r\n\r\n","title":"merge csv files into one document with no repeats in row Java","body":"<p>I have to merge two csv files.\nI have implemented some code and the files merge yet I am getting repeated rows from the second document written to new lines.\nLike This :\nD,M,20211217,test17045,ehdef,ase_17045_26332@ukuat.com,38008621179,2021092700210571,16880,17045,UID1704510000037,1704537,222,0,20000101,London,510000,,0  // First file\nD,M,20211217,2021092700210471,UID1704510000027,16880,17045 // Second File.</p>\n<p>I am looking to merge the two rows together by UniqueID field.\nThis is the CSV Parser:\npublic class CsvParser {</p>\n<p>// CODE</p>\n<pre><code>    public static List&lt;CsvVo&gt; getRecodrsFromACsv(File file, List&lt;String&gt; keys) throws IOException {\n        BufferedReader br = new BufferedReader(new FileReader(file));\n        List&lt;CsvVo&gt; records = new ArrayList&lt;&gt;();\n        boolean isHeader = true;\n\n        String line = null;\n        while ((line = br.readLine()) != null) {\n            if (isHeader) {// first line is header\n                isHeader = false;\n                continue;\n            }\n            CsvVo record = new CsvVo(file.getName());\n            String[] lineSplit = line.split(&quot;, &quot;);\n            for (int i = 0; i &lt; lineSplit.length; i++) {\n                record.put(keys.get(i), lineSplit[i]);\n            }\n            records.add(record);\n        }\n\n        br.close();\n\n        return records;\n    }\n\n    public static List&lt;String&gt; getHeadersFromACsv(File file) throws IOException {\n//        if (file.exists()) {\n            BufferedReader br = new BufferedReader(new FileReader(file));\n            List&lt;String&gt; headers = null;\n\n            String line = null;\n            while ((line = br.readLine()) != null) {\n                String[] lineSplit = line.split(&quot;, &quot;);\n                headers = new ArrayList&lt;&gt;(Arrays.asList(lineSplit));\n                log.info(&quot;HEADERS : &quot; + headers);\n                break;\n            }\n\n            br.close();\n\n            return headers;\n\n//    }\n//        return null;\n    }\n    public static void writeToCsv(final File file, final Set&lt;String&gt; headers, final List&lt;CsvVo&gt; records)\n            throws IOException {\n        FileWriter csvWriter = new FileWriter(file);\n\n        // write headers\n        String sep = &quot;&quot;;\n        String[] headersArr = headers.toArray(new String[headers.size()]);\n        for (String header : headersArr) {\n            csvWriter.append(sep);\n            csvWriter.append(header);\n            sep = &quot;|&quot;;\n        }\n\n        csvWriter.append(&quot;\\n&quot;);\n\n        // write records at each line\n        for (CsvVo record : records) {\n            sep = &quot;&quot;;\n            for (String s : headersArr) {\n                csvWriter.append(sep);\n                csvWriter.append(record.get(s));\n                sep = &quot;|&quot;;\n            }\n            csvWriter.append(&quot;\\n&quot;);\n        }\n\n        csvWriter.flush();\n        csvWriter.close();\n    }\n</code></pre>\n<p>This is the Merge Model\n//CODE</p>\n<pre><code>public class CsvVo {\n\n    private Map&lt;String, String&gt; keyVal;\n\n    public CsvVo(String id) {\n        keyVal = new LinkedHashMap&lt;&gt;();// you may also use HashMap if you don't need to keep order\n    }\n\n    public Map&lt;String, String&gt; getKeyVal() {\n        return keyVal;\n    }\n\n    public void setKeyVal(Map&lt;String, String&gt; keyVal) {\n        this.keyVal = keyVal;\n    }\n\n    public void put(String key, String val) {\n        keyVal.put(key, val);\n    }\n\n    public String get(String key) {\n        return keyVal.get(key);\n    }\n</code></pre>\n<p>This is the implementation:\n//CODE</p>\n<pre><code>File aseFile = new File(&quot;merge/mergeFile.txt&quot;);\n        File newFile = new File(&quot;dpcFileReturn.txt&quot;);\n        log.info(&quot;File To Be Processed : &quot; + newFile.getName());\n\n        List&lt;String&gt; csv1Headers = CsvParser.getHeadersFromACsv(aseFile);\n        csv1Headers.forEach(h -&gt; System.out.print(h + &quot; &quot;));\n        // System.out.println();\n        List&lt;String&gt; csv2Headers = CsvParser.getHeadersFromACsv(newFile);\n        csv2Headers.forEach(h -&gt; System.out.print(h + &quot; &quot;));\n        // System.out.println();\n\n        List&lt;String&gt; allCsvHeaders = new ArrayList&lt;&gt;();\n        allCsvHeaders.addAll(csv1Headers);\n        allCsvHeaders.addAll(csv2Headers);\n        allCsvHeaders.forEach(h -&gt; System.out.print(h + &quot; &quot;));\n        // System.out.println();\n\n        Set&lt;String&gt; uniqueHeaders = new HashSet&lt;&gt;(allCsvHeaders);\n        uniqueHeaders.forEach(h -&gt; System.out.print(h + &quot; &quot;));\n        // System.out.println();\n\n        List&lt;CsvVo&gt; csv1Records = CsvParser.getRecodrsFromACsv(aseFile, csv1Headers);\n        List&lt;CsvVo&gt; csv2Records = CsvParser.getRecodrsFromACsv(newFile, csv2Headers);\n\n        List&lt;CsvVo&gt; allCsvRecords = new ArrayList&lt;&gt;();\n        allCsvRecords.addAll(csv1Records);\n        allCsvRecords.addAll(csv2Records);\n\n        File mergedFile = new File(&quot;mergedFile.txt&quot;);\n        CsvParser.writeToCsv(new File(&quot;mergedFile.txt&quot;), uniqueHeaders, allCsvRecords);\n\n        log.info(&quot;Merged File : &quot; + mergedFile);\n\nThe first file\nrecordType,activityType,activityDate,foreName,surName,emailAddress,mobilePhone,dpid,clientID,programmeID,uniqueID,bankAccount,sortCode,isJointAccount,dateOfBirth,addressLine1,postCode,clientReference,suspension,\nD|M|20211217|test17045|afdib|ase_17045_29894@ukuat.com|30934992219|2021092700210261|16880|17045|UID1704510000006|1704506|003|0|20000101|London|510000||0|\nD|M|20211217|test17045|ibabi|ase_17045_42069@ukuat.com|07676909173|2021092700210271|16880|17045|UID1704510000007|1704507|278|0|20000101|London|510000||0|\n\nsecondFile\nH,activityType,activityDate,dpid,uniqueID,clientID,programmeID, D,M,20211217,2021092700210261,UID1704510000006,16880,17045, D,M,20211217,2021092700210271,UID1704510000007,16880,17045,\n</code></pre>\n<p>I am looking for a merged file that takes the user name, surname, email and/or uniqueID and validates the data and overwrites the row with the new(Missing) data, if any.</p>\n<p>I can find nothing and I've even tried to have a nested loop to check row substring of file 1 against file 2.  Cannot seem to get it working though.</p>\n<p>Any assistance would be greatly appreciated.</p>\n"},{"tags":["java","object","reference"],"comments":[{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1647549174,"post_id":71518654,"comment_id":126405820,"body_markdown":"... When you want a new object instead of a reference to an existing one?  It&#39;s not really clear what problem you&#39;re trying to solve.","body":"... When you want a new object instead of a reference to an existing one?  It&#39;s not really clear what problem you&#39;re trying to solve."},{"owner":{"account_id":15212287,"reputation":529,"user_id":10976657,"display_name":"Jsh0s"},"score":0,"creation_date":1647549339,"post_id":71518654,"comment_id":126405880,"body_markdown":"@David for example, in terms of good practices, when should I not return the reference?","body":"@David for example, in terms of good practices, when should I not return the reference?"},{"owner":{"account_id":24557454,"reputation":146,"user_id":18465761,"display_name":"Zeke Rogers"},"score":1,"creation_date":1647549386,"post_id":71518654,"comment_id":126405899,"body_markdown":"If the class is immutable, that is, the data in it cannot be changed, then its always safe to pass that object around. If the data in the object can be changed and that&#39;s not desirable, you might consider passing a copy of the object (or switch to using immutable classes).","body":"If the class is immutable, that is, the data in it cannot be changed, then its always safe to pass that object around. If the data in the object can be changed and that&#39;s not desirable, you might consider passing a copy of the object (or switch to using immutable classes)."},{"owner":{"account_id":15091436,"reputation":427,"user_id":10891226,"display_name":"RIVERMAN2010"},"score":1,"creation_date":1647549508,"post_id":71518654,"comment_id":126405936,"body_markdown":"lets say you have a player, that player has a `Point` (a class of 2 floats) representing position, if you wanted to summon a projectile from that position, would you want to give it a reference or a copy? if you give it a reference, then when that projectile moves the player moves with it (because they are both sharing the same `Point` in memory)","body":"lets say you have a player, that player has a <code>Point</code> (a class of 2 floats) representing position, if you wanted to summon a projectile from that position, would you want to give it a reference or a copy? if you give it a reference, then when that projectile moves the player moves with it (because they are both sharing the same <code>Point</code> in memory)"},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1647569963,"post_id":71518654,"comment_id":126410306,"body_markdown":"Terminology nit-picking: it&#39;s Java.  You can&#39;t return &quot;an object&quot;, only &quot;a reference to an object&quot;.  `return new Details(...)` allocates a Details and returns a reference to it.","body":"Terminology nit-picking: it&#39;s Java.  You can&#39;t return &quot;an object&quot;, only &quot;a reference to an object&quot;.  <code>return new Details(...)</code> allocates a Details and returns a reference to it."}],"answers":[{"tags":[],"owner":{"account_id":244606,"reputation":8994,"user_id":517544,"accept_rate":87,"display_name":"mihsathe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647549410,"creation_date":1647549410,"answer_id":71518728,"question_id":71518654,"body_markdown":"Depends entirely on your use case. In a regular `getter` case, you&#39;d just return the `this.details` reference.\r\n\r\nI am assuming the constructor to which you are passing the `this.details` reference is meant to be a copy constructor that&#39;s supposed to shallow or deep copy the object (please clarify if that&#39;s not what you meant). You&#39;d want to copy if you don&#39;t want the user of your method to make changes to your object but to work with a separate copy (how separate depends upon the depth of your copy).","title":"When should a method return a new object instead of a reference in Java?","body":"<p>Depends entirely on your use case. In a regular <code>getter</code> case, you'd just return the <code>this.details</code> reference.</p>\n<p>I am assuming the constructor to which you are passing the <code>this.details</code> reference is meant to be a copy constructor that's supposed to shallow or deep copy the object (please clarify if that's not what you meant). You'd want to copy if you don't want the user of your method to make changes to your object but to work with a separate copy (how separate depends upon the depth of your copy).</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647552273,"creation_date":1647551901,"answer_id":71519158,"question_id":71518654,"body_markdown":"In general it is best not to return references to objects unless they and their fields (and their fields) are immutable.  Consider this example:\r\n```\r\nclass Foo {\r\n    private int[] array = new int[];\r\n    public int[] getArray() {\r\n       return Arrays.copyOf(array, array.length);\r\n    }\r\n}\r\n```\r\n\r\nThis makes a `defensive copy` of the returned information so the user may not change the original.  If you simply returned the array reference the internals of the array and thus the `Foo` instance could be altered.\r\n","title":"When should a method return a new object instead of a reference in Java?","body":"<p>In general it is best not to return references to objects unless they and their fields (and their fields) are immutable.  Consider this example:</p>\n<pre><code>class Foo {\n    private int[] array = new int[];\n    public int[] getArray() {\n       return Arrays.copyOf(array, array.length);\n    }\n}\n</code></pre>\n<p>This makes a <code>defensive copy</code> of the returned information so the user may not change the original.  If you simply returned the array reference the internals of the array and thus the <code>Foo</code> instance could be altered.</p>\n"}],"owner":{"account_id":15212287,"reputation":529,"user_id":10976657,"display_name":"Jsh0s"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71519158,"answer_count":2,"score":0,"last_activity_date":1647552273,"creation_date":1647549048,"question_id":71518654,"body_markdown":"Let&#39;s take this sample Person class from which we want to return the &quot;Details&quot;\r\n\r\n    public class Person() {\r\n        private Details details;\r\n    ...\r\n\r\nWhen should I do this:\r\n\r\n    return new Details(this.details);\r\n\r\nInstead of this:\r\n\r\n    return this.details;","title":"When should a method return a new object instead of a reference in Java?","body":"<p>Let's take this sample Person class from which we want to return the &quot;Details&quot;</p>\n<pre><code>public class Person() {\n    private Details details;\n...\n</code></pre>\n<p>When should I do this:</p>\n<pre><code>return new Details(this.details);\n</code></pre>\n<p>Instead of this:</p>\n<pre><code>return this.details;\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1647529439,"post_id":71435630,"comment_id":126398553,"body_markdown":"You are mocking a `Function` but describing an expectation about the returned `List`, which would imply mocking a `List`. Just use, e.g. `when(mock.apply(&quot;foo&quot;)).thenReturn(Arrays.asList(&quot;&quot;, &quot;bar&quot;));` to mock the `Function` to return a `List` fulfilling the expectation that `get(1)` returns `&quot;bar&quot;`. But I don’t understand why people use a complicated mocking tool for achieving trivial things. What about `Function&lt;String, List&lt;String&gt;&gt; mock = whatever -&gt; Arrays.asList(&quot;&quot;, &quot;bar&quot;);`?","body":"You are mocking a <code>Function</code> but describing an expectation about the returned <code>List</code>, which would imply mocking a <code>List</code>. Just use, e.g. <code>when(mock.apply(&quot;foo&quot;)).thenReturn(Arrays.asList(&quot;&quot;, &quot;bar&quot;));</code> to mock the <code>Function</code> to return a <code>List</code> fulfilling the expectation that <code>get(1)</code> returns <code>&quot;bar&quot;</code>. But I don’t understand why people use a complicated mocking tool for achieving trivial things. What about <code>Function&lt;String, List&lt;String&gt;&gt; mock = whatever -&gt; Arrays.asList(&quot;&quot;, &quot;bar&quot;);</code>?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1647601534,"post_id":71435630,"comment_id":126417309,"body_markdown":"@Holger Provided case - `mock.apply(&quot;foo&quot;).get(1)`, is simple enough, that it serves greatly as **minimal, reproducible example**. Having to work with a real situation chain method call, let&#39;s say - `mock.apply(&quot;foo&quot;).get(1).getManager().getSubordinates().get(0).getSalary()`, would not be exactly minimal. While such situations are indeed rare, it does happen. Having to mock 5-6, maybe more objects, is tedious, to say the least.","body":"@Holger Provided case - <code>mock.apply(&quot;foo&quot;).get(1)</code>, is simple enough, that it serves greatly as <b>minimal, reproducible example</b>. Having to work with a real situation chain method call, let&#39;s say - <code>mock.apply(&quot;foo&quot;).get(1).getManager().getSubordinates().get(&zwnj;&#8203;0).getSalary()</code>, would not be exactly minimal. While such situations are indeed rare, it does happen. Having to mock 5-6, maybe more objects, is tedious, to say the least."},{"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"score":0,"creation_date":1647610090,"post_id":71435630,"comment_id":126420091,"body_markdown":"@Holger - when you are using deep stubbing, often you have 3-5 values in the chain, which can be easily defined, and only if all of them match, then you will get the result. And you can stub multiple cases on the same mock. This is why I use Mockito instead of POJOs.","body":"@Holger - when you are using deep stubbing, often you have 3-5 values in the chain, which can be easily defined, and only if all of them match, then you will get the result. And you can stub multiple cases on the same mock. This is why I use Mockito instead of POJOs."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647367935,"creation_date":1647367117,"answer_id":71486921,"question_id":71435630,"body_markdown":"I believe the root of the problem is that you are not able to provide information about generic types. `mock()` methods work with `Class&lt;T&gt;` object making it very hard to provide type information. The function you want to mock is `Function&lt;String, List&lt;String&gt;&gt;`, but `Function.class` is provided. And i am not aware of a way to provide information about generics through the mockito API, not with `MockSettings` or anything else, unfortunately.\r\n\r\nHow to workaround this limitation - the `Class` parameter you provide must contain information about generic parameters. That means either:\r\n\r\n 1. empty implementation of `Function&lt;String, List&lt;String&gt;&gt;`\r\n```\r\nprivate static class MyFunc implements Function&lt;String, List&lt;String&gt;&gt; {\r\n\r\n  @Override\r\n  public List&lt;String&gt; apply(String s) {\r\n    return null;\r\n  }\r\n}\r\n```\r\nI really don&#39;t like this one. Or:\r\n\r\n 2. another interface:\r\n```\r\npublic interface TestFunction extends Function&lt;String, List&lt;String&gt;&gt; {\r\n}\r\n```\r\nI&#39;d say that&#39;s more elegant solution.\r\n\r\nBoth mocks\r\n```\r\nFunction&lt;String, List&lt;String&gt;&gt; mock = mock(MyFunc.class, Answers.RETURNS_DEEP_STUBS);\r\n```\r\nor\r\n```\r\nFunction&lt;String, List&lt;String&gt;&gt; mock = mock(TestFunction.class, Answers.RETURNS_DEEP_STUBS);\r\n```\r\nwill work as expected.\r\n\r\n**Edit:**\r\n\r\nAfter some digging in mockito docs i found [this][1]. It makes me believe that this is the only way to provide generic information. The link is about version `3.8.0`, but the feature should be available since `1.10.0`.\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/3.8.0/org/mockito/Mockito.html#32","title":"Deep stubbing java.util.Function.apply does not work","body":"<p>I believe the root of the problem is that you are not able to provide information about generic types. <code>mock()</code> methods work with <code>Class&lt;T&gt;</code> object making it very hard to provide type information. The function you want to mock is <code>Function&lt;String, List&lt;String&gt;&gt;</code>, but <code>Function.class</code> is provided. And i am not aware of a way to provide information about generics through the mockito API, not with <code>MockSettings</code> or anything else, unfortunately.</p>\n<p>How to workaround this limitation - the <code>Class</code> parameter you provide must contain information about generic parameters. That means either:</p>\n<ol>\n<li>empty implementation of <code>Function&lt;String, List&lt;String&gt;&gt;</code></li>\n</ol>\n<pre><code>private static class MyFunc implements Function&lt;String, List&lt;String&gt;&gt; {\n\n  @Override\n  public List&lt;String&gt; apply(String s) {\n    return null;\n  }\n}\n</code></pre>\n<p>I really don't like this one. Or:</p>\n<ol start=\"2\">\n<li>another interface:</li>\n</ol>\n<pre><code>public interface TestFunction extends Function&lt;String, List&lt;String&gt;&gt; {\n}\n</code></pre>\n<p>I'd say that's more elegant solution.</p>\n<p>Both mocks</p>\n<pre><code>Function&lt;String, List&lt;String&gt;&gt; mock = mock(MyFunc.class, Answers.RETURNS_DEEP_STUBS);\n</code></pre>\n<p>or</p>\n<pre><code>Function&lt;String, List&lt;String&gt;&gt; mock = mock(TestFunction.class, Answers.RETURNS_DEEP_STUBS);\n</code></pre>\n<p>will work as expected.</p>\n<p><strong>Edit:</strong></p>\n<p>After some digging in mockito docs i found <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/3.8.0/org/mockito/Mockito.html#32\" rel=\"nofollow noreferrer\">this</a>. It makes me believe that this is the only way to provide generic information. The link is about version <code>3.8.0</code>, but the feature should be available since <code>1.10.0</code>.</p>\n"},{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647551604,"creation_date":1647551159,"answer_id":71519035,"question_id":71435630,"body_markdown":"On top of the answer by @Chaosfire:\r\n\r\n[ReturnsDeepStubs.answer](https://github.com/mockito/mockito/blame/v4.4.0/src/main/java/org/mockito/internal/stubbing/defaultanswers/ReturnsDeepStubs.java#L49) has a nice explanation why null is returned in code comments:\r\n\r\n```lang-java\r\npublic Object answer(InvocationOnMock invocation) throws Throwable {\r\n    GenericMetadataSupport returnTypeGenericMetadata =\r\n            actualParameterizedType(invocation.getMock())\r\n                    .resolveGenericReturnType(invocation.getMethod());\r\n\r\n    Class&lt;?&gt; rawType = returnTypeGenericMetadata.rawType();\r\n    if (!mockitoCore().isTypeMockable(rawType)) {\r\n        if (invocation.getMethod().getReturnType().equals(rawType)) {\r\n            return delegate().answer(invocation);\r\n        } else {\r\n            return delegate().returnValueFor(rawType);\r\n        }\r\n    }\r\n\r\n    // When dealing with erased generics, we only receive the Object type as rawType. At this\r\n    // point, there is nothing to salvage for Mockito. Instead of trying to be smart and\r\n    // generate\r\n    // a mock that would potentially match the return signature, instead return `null`. This\r\n    // is valid per the CheckCast JVM instruction and is better than causing a\r\n    // ClassCastException\r\n    // on runtime.\r\n    if (rawType.equals(Object.class) &amp;&amp; !returnTypeGenericMetadata.hasRawExtraInterfaces()) {\r\n        return null;\r\n    }\r\n\r\n    return deepStub(invocation, returnTypeGenericMetadata);\r\n}\r\n```\r\n\r\nSee also corresponding pull request: [Return null instead of causing a CCE #1612](https://github.com/mockito/mockito/pull/1612)","title":"Deep stubbing java.util.Function.apply does not work","body":"<p>On top of the answer by @Chaosfire:</p>\n<p><a href=\"https://github.com/mockito/mockito/blame/v4.4.0/src/main/java/org/mockito/internal/stubbing/defaultanswers/ReturnsDeepStubs.java#L49\" rel=\"nofollow noreferrer\">ReturnsDeepStubs.answer</a> has a nice explanation why null is returned in code comments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Object answer(InvocationOnMock invocation) throws Throwable {\n    GenericMetadataSupport returnTypeGenericMetadata =\n            actualParameterizedType(invocation.getMock())\n                    .resolveGenericReturnType(invocation.getMethod());\n\n    Class&lt;?&gt; rawType = returnTypeGenericMetadata.rawType();\n    if (!mockitoCore().isTypeMockable(rawType)) {\n        if (invocation.getMethod().getReturnType().equals(rawType)) {\n            return delegate().answer(invocation);\n        } else {\n            return delegate().returnValueFor(rawType);\n        }\n    }\n\n    // When dealing with erased generics, we only receive the Object type as rawType. At this\n    // point, there is nothing to salvage for Mockito. Instead of trying to be smart and\n    // generate\n    // a mock that would potentially match the return signature, instead return `null`. This\n    // is valid per the CheckCast JVM instruction and is better than causing a\n    // ClassCastException\n    // on runtime.\n    if (rawType.equals(Object.class) &amp;&amp; !returnTypeGenericMetadata.hasRawExtraInterfaces()) {\n        return null;\n    }\n\n    return deepStub(invocation, returnTypeGenericMetadata);\n}\n</code></pre>\n<p>See also corresponding pull request: <a href=\"https://github.com/mockito/mockito/pull/1612\" rel=\"nofollow noreferrer\">Return null instead of causing a CCE #1612</a></p>\n"}],"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71519035,"answer_count":2,"score":1,"last_activity_date":1647551604,"creation_date":1646987314,"question_id":71435630,"body_markdown":"The following code is given:\r\n\r\n\t@Test\r\n\tvoid mockitoBug() {\r\n\t\tFunction&lt;String, List&lt;String&gt;&gt; mock = mock(Function.class, Answers.RETURNS_DEEP_STUBS);\r\n\t\twhen(mock.apply(&quot;foo&quot;).get(1)).thenReturn(&quot;bar&quot;); //Line 76\r\n\t\tassertThat(mock.apply(&quot;foo&quot;).get(1)).isEqualTo(&quot;bar&quot;);\r\n\t}\r\n\r\nI get a NPE, because `mock.apply(&quot;foo&quot;)` is null. Exception:\r\n\r\n```\r\njava.lang.NullPointerException\r\n\tat xxxxxxx.x.xx.x.xx.MyTest.mockitoBug(MyTest.java:76)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1259)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1259)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.intellij.rt.execution.CommandLineWrapper.main(CommandLineWrapper.java:64)\r\n```\r\n\r\nWhy is it happening? `Function.apply` is not final, inside `Mockito.when` it should be inside a stubbing process, where an NPE should not happen if I use deep stubbing. Do I make something wrong, or it is a Mockito bug/known limitation?\r\n\r\nMockito Version: 3.9.0 ","title":"Deep stubbing java.util.Function.apply does not work","body":"<p>The following code is given:</p>\n<pre><code>@Test\nvoid mockitoBug() {\n    Function&lt;String, List&lt;String&gt;&gt; mock = mock(Function.class, Answers.RETURNS_DEEP_STUBS);\n    when(mock.apply(&quot;foo&quot;).get(1)).thenReturn(&quot;bar&quot;); //Line 76\n    assertThat(mock.apply(&quot;foo&quot;).get(1)).isEqualTo(&quot;bar&quot;);\n}\n</code></pre>\n<p>I get a NPE, because <code>mock.apply(&quot;foo&quot;)</code> is null. Exception:</p>\n<pre><code>java.lang.NullPointerException\n    at xxxxxxx.x.xx.x.xx.MyTest.mockitoBug(MyTest.java:76)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.util.ArrayList.forEach(ArrayList.java:1259)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.util.ArrayList.forEach(ArrayList.java:1259)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.CommandLineWrapper.main(CommandLineWrapper.java:64)\n</code></pre>\n<p>Why is it happening? <code>Function.apply</code> is not final, inside <code>Mockito.when</code> it should be inside a stubbing process, where an NPE should not happen if I use deep stubbing. Do I make something wrong, or it is a Mockito bug/known limitation?</p>\n<p>Mockito Version: 3.9.0</p>\n"},{"tags":["java","annotations"],"answers":[{"tags":[],"owner":{"account_id":6974758,"reputation":956,"user_id":5349869,"display_name":"raviiii1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647541466,"creation_date":1647541466,"answer_id":71517302,"question_id":71517102,"body_markdown":"Lets say you created `WelcomeController` and `Encrypted` classes in `com.example.controller` like so,\r\n\r\n\r\n    package com.example.controller;\r\n\r\n    public class WelcomeController {\r\n       @RequestMapping(value = &quot;/welcome&quot;, method = RequestMethod.GET)\r\n       public void welcome(\r\n         @RequestHeader(name = &quot;user&quot;) String user, \r\n         @Encrypted @RequestHeader(name = &quot;password&quot;) String password \r\n    }\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.PARAMETER)\r\n    public @interface Encrypted {\r\n       String value() default &quot;&quot;;\r\n    }\r\n\r\nIn order to process the Annotation you need to create an Aspect class like so --\r\n\r\n    @Aspect\r\n    public class MyAspect {\r\n        @Pointcut(&quot;execution(@com.example.controller.WelcomeController * *(@com.example.controller.Encrypted (*), ..)) &amp;&amp; args(password)&quot;)\r\n        public void encryptedMethod(String password) {}\r\n    \r\n        @Around(&quot;encryptedMethod(password)&quot;)\r\n        public Object encryptedMethod(ProceedingJoinPoint pjp, String password) throws Throwable {\r\n            // process the password string ...\r\n            return pjp.proceed();\r\n        }\r\n    }\r\n\r\nCheck more on the AOP with Spring here -- https://www.baeldung.com/spring-aop","title":"java annotation to modify value","body":"<p>Lets say you created <code>WelcomeController</code> and <code>Encrypted</code> classes in <code>com.example.controller</code> like so,</p>\n<pre><code>package com.example.controller;\n\npublic class WelcomeController {\n   @RequestMapping(value = &quot;/welcome&quot;, method = RequestMethod.GET)\n   public void welcome(\n     @RequestHeader(name = &quot;user&quot;) String user, \n     @Encrypted @RequestHeader(name = &quot;password&quot;) String password \n}\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.PARAMETER)\npublic @interface Encrypted {\n   String value() default &quot;&quot;;\n}\n</code></pre>\n<p>In order to process the Annotation you need to create an Aspect class like so --</p>\n<pre><code>@Aspect\npublic class MyAspect {\n    @Pointcut(&quot;execution(@com.example.controller.WelcomeController * *(@com.example.controller.Encrypted (*), ..)) &amp;&amp; args(password)&quot;)\n    public void encryptedMethod(String password) {}\n\n    @Around(&quot;encryptedMethod(password)&quot;)\n    public Object encryptedMethod(ProceedingJoinPoint pjp, String password) throws Throwable {\n        // process the password string ...\n        return pjp.proceed();\n    }\n}\n</code></pre>\n<p>Check more on the AOP with Spring here -- <a href=\"https://www.baeldung.com/spring-aop\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-aop</a></p>\n"}],"owner":{"account_id":16223118,"reputation":85,"user_id":11714220,"display_name":"Alfredo Morales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647551372,"creation_date":1647540327,"question_id":71517102,"body_markdown":"I have a web application with spring, one rest endpoint receives a value encrypted like this:\r\n\r\n    @RequestMapping(value = &quot;/welcome&quot;, method = RequestMethod.GET)\r\n    public resp welcome(\r\n    \t@RequestHeader(name = &quot;user&quot;) String user, \r\n    \t@Encripted @RequestHeader(name = &quot;password&quot;) String password \r\n\r\nI&#39;m creating the annotation @Encripted like this:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.PARAMETER)\r\n    public @interface Encripted {\r\n    }\r\n\r\nnow I need to manipulate the String that got annotated and change its value, how could I override or implement to achieve this goal? I can&#39;t find example with ElementType.PARAMETER,\r\n\r\n","title":"java annotation to modify value","body":"<p>I have a web application with spring, one rest endpoint receives a value encrypted like this:</p>\n<pre><code>@RequestMapping(value = &quot;/welcome&quot;, method = RequestMethod.GET)\npublic resp welcome(\n    @RequestHeader(name = &quot;user&quot;) String user, \n    @Encripted @RequestHeader(name = &quot;password&quot;) String password \n</code></pre>\n<p>I'm creating the annotation @Encripted like this:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.PARAMETER)\npublic @interface Encripted {\n}\n</code></pre>\n<p>now I need to manipulate the String that got annotated and change its value, how could I override or implement to achieve this goal? I can't find example with ElementType.PARAMETER,</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":23849363,"reputation":13,"user_id":17853493,"display_name":"hailesuper"},"score":0,"creation_date":1647546414,"post_id":71518163,"comment_id":126404971,"body_markdown":"In my code, I used scanner.nextLine(); to consumed the NL already but it does not work well.","body":"In my code, I used scanner.nextLine(); to consumed the NL already but it does not work well."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1647546808,"post_id":71518163,"comment_id":126405100,"body_markdown":"What do you think `nextInt` does? What do you think `hasNextInt` does?","body":"What do you think <code>nextInt</code> does? What do you think <code>hasNextInt</code> does?"},{"owner":{"account_id":23849363,"reputation":13,"user_id":17853493,"display_name":"hailesuper"},"score":0,"creation_date":1647546959,"post_id":71518163,"comment_id":126405151,"body_markdown":"nextInt will read and consume my Integer when I input. hasNextInt will check the input whether an Integer or not. And nextLine is to consume the \\n to move the scanner to the next line.","body":"nextInt will read and consume my Integer when I input. hasNextInt will check the input whether an Integer or not. And nextLine is to consume the \\n to move the scanner to the next line."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1647547137,"post_id":71518163,"comment_id":126405220,"body_markdown":"_hasNextInt will check the input whether an Integer or not_ Which input? Note that you said that `nextInt` will **consume** one input.","body":"<i>hasNextInt will check the input whether an Integer or not</i> Which input? Note that you said that <code>nextInt</code> will <b>consume</b> one input."},{"owner":{"account_id":23849363,"reputation":13,"user_id":17853493,"display_name":"hailesuper"},"score":0,"creation_date":1647547578,"post_id":71518163,"comment_id":126405365,"body_markdown":"From what I understand, nextInt() will consume my first Integer. So hasNextInt has no input to check because it uses nextInt inside, it will wait for my input. After I enter the second integer, I will check that integer. and nextLine() will consume that line. \nBut why when it passed the first iteration, the same thing does not appear? I just proceed as normal?","body":"From what I understand, nextInt() will consume my first Integer. So hasNextInt has no input to check because it uses nextInt inside, it will wait for my input. After I enter the second integer, I will check that integer. and nextLine() will consume that line.  But why when it passed the first iteration, the same thing does not appear? I just proceed as normal?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1647548905,"post_id":71518163,"comment_id":126405750,"body_markdown":"`hasNextInt` does not use `nextInt` &quot;inside&quot; itself","body":"<code>hasNextInt</code> does not use <code>nextInt</code> &quot;inside&quot; itself"},{"owner":{"account_id":23849363,"reputation":13,"user_id":17853493,"display_name":"hailesuper"},"score":0,"creation_date":1647549176,"post_id":71518163,"comment_id":126405821,"body_markdown":"sorry for the confusion. `hasNextInt` will check the next Int but not advance the scanner as `nextInt`. However, why this just happens at the first iteration but not from the second one?","body":"sorry for the confusion. <code>hasNextInt</code> will check the next Int but not advance the scanner as <code>nextInt</code>. However, why this just happens at the first iteration but not from the second one?"}],"answers":[{"tags":[],"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647549671,"creation_date":1647549671,"answer_id":71518787,"question_id":71518163,"body_markdown":"you code logic is just a little off.  Check first if the kb has an int in it&#39;s buffer.  If it does, read it in, consume eol, set min or max and then break out of the while loop\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class MinAndMaxInputChallenge {\r\n        public static void main(String[] args) {\r\n            int max = 0;\r\n            int min = 0;\r\n            int number;\r\n            Scanner scanner = new Scanner(System.in);\r\n            while (true) {\r\n                System.out.println(&quot;Enter number &quot;);\r\n                \r\n                boolean hasInt = scanner.hasNextInt();\r\n                \r\n                if (hasInt) {\r\n                    number = scanner.nextInt();\r\n                    scanner.nextLine();\r\n                    if (number &gt; max)\r\n                        max = number;\r\n                    else if (number &lt; min)\r\n                        min = number;\r\n                    break;\r\n                } \r\n            }\r\n            System.out.println(&quot;Max = &quot; + max + &quot; Min = &quot; + min);\r\n            scanner.close();\r\n        }\r\n    }","title":"Why do I have to enter two integer at first to proceed to the iteration? hasInt(), nextLine(), nextInt()","body":"<p>you code logic is just a little off.  Check first if the kb has an int in it's buffer.  If it does, read it in, consume eol, set min or max and then break out of the while loop</p>\n<pre><code>import java.util.Scanner;\n\npublic class MinAndMaxInputChallenge {\n    public static void main(String[] args) {\n        int max = 0;\n        int min = 0;\n        int number;\n        Scanner scanner = new Scanner(System.in);\n        while (true) {\n            System.out.println(&quot;Enter number &quot;);\n            \n            boolean hasInt = scanner.hasNextInt();\n            \n            if (hasInt) {\n                number = scanner.nextInt();\n                scanner.nextLine();\n                if (number &gt; max)\n                    max = number;\n                else if (number &lt; min)\n                    min = number;\n                break;\n            } \n        }\n        System.out.println(&quot;Max = &quot; + max + &quot; Min = &quot; + min);\n        scanner.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23849363,"reputation":13,"user_id":17853493,"display_name":"hailesuper"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71518787,"answer_count":1,"score":0,"last_activity_date":1647550195,"creation_date":1647546118,"question_id":71518163,"body_markdown":"When I attempted to run this, I have to enter 2 integers and enters for the loop to move to the next iteration but it does not happen from the second loop?\r\nWhat is the reason and what is the logic to fix this?\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class MinAndMaxInputChallenge {\r\n        public static void main(String[] args) {\r\n            int max = 0;\r\n            int min = 0;\r\n            int number;\r\n            Scanner scanner = new Scanner(System.in);\r\n            while (true) {\r\n                System.out.println(&quot;Enter number &quot;);\r\n                number = scanner.nextInt();\r\n                boolean hasInt = scanner.hasNextInt();\r\n                scanner.nextLine();\r\n                if (hasInt) {\r\n                    if (number &gt; max)\r\n                        max = number;\r\n                    else if (number &lt; min)\r\n                        min = number;\r\n                } else break;\r\n            }\r\n            System.out.println(&quot;Max = &quot; + max + &quot; Min = &quot; + min);\r\n            scanner.close();\r\n        }\r\n    }\r\n\r\n[Code &amp; Ouput][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1VPKo.png\r\n","title":"Why do I have to enter two integer at first to proceed to the iteration? hasInt(), nextLine(), nextInt()","body":"<p>When I attempted to run this, I have to enter 2 integers and enters for the loop to move to the next iteration but it does not happen from the second loop?\nWhat is the reason and what is the logic to fix this?</p>\n<pre><code>import java.util.Scanner;\n\npublic class MinAndMaxInputChallenge {\n    public static void main(String[] args) {\n        int max = 0;\n        int min = 0;\n        int number;\n        Scanner scanner = new Scanner(System.in);\n        while (true) {\n            System.out.println(&quot;Enter number &quot;);\n            number = scanner.nextInt();\n            boolean hasInt = scanner.hasNextInt();\n            scanner.nextLine();\n            if (hasInt) {\n                if (number &gt; max)\n                    max = number;\n                else if (number &lt; min)\n                    min = number;\n            } else break;\n        }\n        System.out.println(&quot;Max = &quot; + max + &quot; Min = &quot; + min);\n        scanner.close();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1VPKo.png\" rel=\"nofollow noreferrer\">Code &amp; Ouput</a></p>\n"},{"tags":["java","math","random","exponential"],"comments":[{"owner":{"account_id":21534,"reputation":59456,"user_id":52443,"display_name":"Welbog"},"score":1,"creation_date":1594662544,"post_id":29020652,"comment_id":111197788,"body_markdown":"Does this answer your question? [Pseudorandom Number Generator - Exponential Distribution](https://stackoverflow.com/questions/2106503/pseudorandom-number-generator-exponential-distribution)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2106503/pseudorandom-number-generator-exponential-distribution\">Pseudorandom Number Generator - Exponential Distribution</a>"}],"answers":[{"tags":[],"owner":{"account_id":5923570,"reputation":589,"user_id":4660239,"display_name":"Florian Prud&#39;homme"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1426196607,"creation_date":1426196607,"answer_id":29020790,"question_id":29020652,"body_markdown":"You can see this answer : https://stackoverflow.com/questions/2106503/pseudorandom-number-generator-exponential-distribution\r\n\r\nHere the java code\r\n\r\n    public double getNext() {\r\n        return  Math.log(1-rand.nextDouble())/(-lambda);\r\n    }\r\n\r\nHave a nice day","title":"Java exponential distribution","body":"<p>You can see this answer : <a href=\"https://stackoverflow.com/questions/2106503/pseudorandom-number-generator-exponential-distribution\">Pseudorandom Number Generator - Exponential Distribution</a></p>\n\n<p>Here the java code</p>\n\n<pre><code>public double getNext() {\n    return  Math.log(1-rand.nextDouble())/(-lambda);\n}\n</code></pre>\n\n<p>Have a nice day</p>\n"}],"owner":{"account_id":2178400,"reputation":753,"user_id":1928525,"accept_rate":100,"display_name":"J&#225;n Яabčan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17256,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":29020790,"answer_count":1,"score":8,"last_activity_date":1647550063,"creation_date":1426196115,"question_id":29020652,"body_markdown":"\r\nI need to find a formula for exponential distribution of probability, but I don&#180;t know how to find it. This formula has to have powerful statistical properties (it can&#180;t throw away any result from random to keep indistructed seek of random instance).\r\n\r\nI am trying to find formula, which will work in a method like this:\r\n\r\n    rand.getNextDoubleExpDistrib();\r\n\r\n\r\nI have this code for now, but according to &quot;input analyser&quot;, it doesn&#180;t work correctly\r\n\r\n\r\n    public double getNext() {\r\n        return -lampda * Math.log(rand.nextDouble());\r\n    }","title":"Java exponential distribution","body":"<p>I need to find a formula for exponential distribution of probability, but I don´t know how to find it. This formula has to have powerful statistical properties (it can´t throw away any result from random to keep indistructed seek of random instance).</p>\n<p>I am trying to find formula, which will work in a method like this:</p>\n<pre><code>rand.getNextDoubleExpDistrib();\n</code></pre>\n<p>I have this code for now, but according to &quot;input analyser&quot;, it doesn´t work correctly</p>\n<pre><code>public double getNext() {\n    return -lampda * Math.log(rand.nextDouble());\n}\n</code></pre>\n"},{"tags":["java","android","url","deep-linking"],"comments":[{"owner":{"account_id":18897816,"reputation":11,"user_id":16714060,"display_name":"Fernando Amaral"},"score":0,"creation_date":1647550070,"post_id":71518808,"comment_id":126406140,"body_markdown":"I already did some tests changing &amp; by %26 in the URL and it worked, I managed to get all the parameters,\nhowever I&#39;m working on a situation where I can&#39;t change the URL that comes from outside.","body":"I already did some tests changing &amp; by %26 in the URL and it worked, I managed to get all the parameters, however I&#39;m working on a situation where I can&#39;t change the URL that comes from outside."}],"owner":{"account_id":18897816,"reputation":11,"user_id":16714060,"display_name":"Fernando Amaral"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":823,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647549804,"creation_date":1647549804,"question_id":71518808,"body_markdown":"I need to get some parameters that are coming from an external campaign, where when a user clicks on an external banner on browser my app needs to open,\r\ncurrently it is happening as expected, my app is opening perfectly... but I need to get all the parameters that came with it.\r\n\r\nMy XML manifest -&gt;\r\n\r\n    &lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\r\n                &lt;data\r\n                    android:scheme=&quot;external&quot;\r\n                    android:host=&quot;deeplink&quot;\r\n                    /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n\r\nURL I&#39;m accessing when I click on the banner -&gt; `external://deeplink/?utm_source=abc&amp;utm_medium=abc&amp;utm_campaign=abc`\r\n\r\ncode that I&#39;m using in the deeplink receiver class -&gt;\r\n\r\n    Intent appLinkIntent = getIntent();\r\n        Uri appLinkData = appLinkIntent.getData();\r\n        Log.d(&quot;taguison&quot;, &quot;URI ---&gt;&quot; + appLinkData);\r\n        Log.d(&quot;taguison&quot;, &quot;utm_source---&gt;&quot; + appLinkData.getQueryParameter(&quot;utm_source&quot;));\r\n        Log.d(&quot;taguison&quot;, &quot;utm_media ---&gt;&quot; + appLinkData.getQueryParameter(&quot;utm_media&quot;));\r\n        Log.d(&quot;taguison&quot;, &quot;utm_campaign ---&gt;&quot; + appLinkData.getQueryParameter(&quot;utm_campaign&quot;));\r\n\r\nreturn -&gt;[logcat return image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3k7hl.png\r\n\r\nwhat do i need to do to be able to access the remaining parameters that gave null\r\nutm_media and utm_campaign ?","title":"How to get parameters from a URL that opened my app on Android","body":"<p>I need to get some parameters that are coming from an external campaign, where when a user clicks on an external banner on browser my app needs to open,\ncurrently it is happening as expected, my app is opening perfectly... but I need to get all the parameters that came with it.</p>\n<p>My XML manifest -&gt;</p>\n<pre><code>&lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n\n            &lt;data\n                android:scheme=&quot;external&quot;\n                android:host=&quot;deeplink&quot;\n                /&gt;\n        &lt;/intent-filter&gt;\n</code></pre>\n<p>URL I'm accessing when I click on the banner -&gt; <code>external://deeplink/?utm_source=abc&amp;utm_medium=abc&amp;utm_campaign=abc</code></p>\n<p>code that I'm using in the deeplink receiver class -&gt;</p>\n<pre><code>Intent appLinkIntent = getIntent();\n    Uri appLinkData = appLinkIntent.getData();\n    Log.d(&quot;taguison&quot;, &quot;URI ---&gt;&quot; + appLinkData);\n    Log.d(&quot;taguison&quot;, &quot;utm_source---&gt;&quot; + appLinkData.getQueryParameter(&quot;utm_source&quot;));\n    Log.d(&quot;taguison&quot;, &quot;utm_media ---&gt;&quot; + appLinkData.getQueryParameter(&quot;utm_media&quot;));\n    Log.d(&quot;taguison&quot;, &quot;utm_campaign ---&gt;&quot; + appLinkData.getQueryParameter(&quot;utm_campaign&quot;));\n</code></pre>\n<p>return -&gt;<a href=\"https://i.stack.imgur.com/3k7hl.png\" rel=\"nofollow noreferrer\">logcat return image</a></p>\n<p>what do i need to do to be able to access the remaining parameters that gave null\nutm_media and utm_campaign ?</p>\n"},{"tags":["java","arrays","primitive"],"comments":[{"owner":{"account_id":109471,"reputation":4792,"user_id":290050,"accept_rate":87,"display_name":"Vladimir"},"score":0,"creation_date":1358869906,"post_id":7869050,"comment_id":20144189,"body_markdown":"Added some method declaration parts (public static ...) - otherwise it looked for me as ruby method call with passed block :-)","body":"Added some method declaration parts (public static ...) - otherwise it looked for me as ruby method call with passed block :-)"}],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1647549733,"creation_date":1319402856,"answer_id":7869072,"question_id":7869050,"body_markdown":"[ArrayUtils.isEquals()][commons] from [Apache Commons][main] does exactly that. It also handles multi-dimensional arrays.\r\n\r\n[commons]: https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ArrayUtils.html#isEquals-java.lang.Object-java.lang.Object-\r\n[main]: http://commons.apache.org/lang","title":"Java comparing Arrays","body":"<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ArrayUtils.html#isEquals-java.lang.Object-java.lang.Object-\" rel=\"nofollow noreferrer\">ArrayUtils.isEquals()</a> from <a href=\"http://commons.apache.org/lang\" rel=\"nofollow noreferrer\">Apache Commons</a> does exactly that. It also handles multi-dimensional arrays.</p>\n"},{"tags":[],"owner":{"account_id":26616,"reputation":4781,"user_id":69442,"accept_rate":83,"display_name":"Miquel"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1319402870,"creation_date":1319402870,"answer_id":7869076,"question_id":7869050,"body_markdown":"Arrays utilities class could be of help for this:\r\n\r\nhttp://download.oracle.com/javase/1.4.2/docs/api/java/util/Arrays.html\r\n\r\nThere is a method:\r\n\r\n    equals(Object[] a, Object[] a2)\r\n\r\nThat compares arrays of objects.\r\n\r\n","title":"Java comparing Arrays","body":"<p>Arrays utilities class could be of help for this:</p>\n\n<p><a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/util/Arrays.html\">http://download.oracle.com/javase/1.4.2/docs/api/java/util/Arrays.html</a></p>\n\n<p>There is a method:</p>\n\n<pre><code>equals(Object[] a, Object[] a2)\n</code></pre>\n\n<p>That compares arrays of objects.</p>\n"},{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1319402925,"creation_date":1319402925,"answer_id":7869087,"question_id":7869050,"body_markdown":"You should try `Arrays.deepEquals(a, b)`","title":"Java comparing Arrays","body":"<p>You should try <code>Arrays.deepEquals(a, b)</code></p>\n"},{"tags":[],"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415721180,"creation_date":1415719702,"answer_id":26868368,"question_id":7869050,"body_markdown":"If the array type is unknown, you cannot simply cast to `Object[]`, and therefore cannot use the methods (`equals`, `deepEquals`) in `java.util.Arrays`.&lt;br&gt;\r\nYou can however use reflection to get the length and items of the arrays, and compare them recursively (the items may be arrays themselves).\r\n\r\nHere&#39;s a **general utility method to compare two objects** (arrays are also supported), which allows one or even both to be null:\r\n\r\n\tpublic static boolean equals (Object a, Object b) {\r\n\t\tif (a == b) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (a == null || b == null) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (a.getClass().isArray() &amp;&amp; b.getClass().isArray()) {\r\n\r\n\t\t\tint length = Array.getLength(a);\r\n\t\t\tif (length &gt; 0 &amp;&amp; !a.getClass().getComponentType().equals(b.getClass().getComponentType())) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (Array.getLength(b) != length) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tfor (int i = 0; i &lt; length; i++) {\r\n\t\t\t\tif (!equals(Array.get(a, i), Array.get(b, i))) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn a.equals(b);\r\n\t}","title":"Java comparing Arrays","body":"<p>If the array type is unknown, you cannot simply cast to <code>Object[]</code>, and therefore cannot use the methods (<code>equals</code>, <code>deepEquals</code>) in <code>java.util.Arrays</code>.<br>\nYou can however use reflection to get the length and items of the arrays, and compare them recursively (the items may be arrays themselves).</p>\n\n<p>Here's a <strong>general utility method to compare two objects</strong> (arrays are also supported), which allows one or even both to be null:</p>\n\n<pre><code>public static boolean equals (Object a, Object b) {\n    if (a == b) {\n        return true;\n    }\n    if (a == null || b == null) {\n        return false;\n    }\n    if (a.getClass().isArray() &amp;&amp; b.getClass().isArray()) {\n\n        int length = Array.getLength(a);\n        if (length &gt; 0 &amp;&amp; !a.getClass().getComponentType().equals(b.getClass().getComponentType())) {\n            return false;\n        }\n        if (Array.getLength(b) != length) {\n            return false;\n        }\n        for (int i = 0; i &lt; length; i++) {\n            if (!equals(Array.get(a, i), Array.get(b, i))) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return a.equals(b);\n}\n</code></pre>\n"}],"owner":{"account_id":90708,"reputation":21648,"user_id":249571,"accept_rate":74,"display_name":"DD."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18704,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":7869072,"answer_count":4,"score":10,"last_activity_date":1647549733,"creation_date":1319402626,"question_id":7869050,"body_markdown":"I have two Arrays of unknown type...is there a way to check the elements are the same:\r\n\r\n\r\n\r\n    public static boolean equals(Object a , Object b) {\r\n      if (a instanceof int[])\r\n        return Arrays.equals((int[]) a, (int[])b);\r\n      if (a instanceof double[]){\r\n        ////etc\r\n    }\r\n\r\nI want to do this without all the instanceof checks....","title":"Java comparing Arrays","body":"<p>I have two Arrays of unknown type...is there a way to check the elements are the same:</p>\n\n<pre><code>public static boolean equals(Object a , Object b) {\n  if (a instanceof int[])\n    return Arrays.equals((int[]) a, (int[])b);\n  if (a instanceof double[]){\n    ////etc\n}\n</code></pre>\n\n<p>I want to do this without all the instanceof checks....</p>\n"},{"tags":["java","hibernate","hql"],"answers":[{"tags":[],"owner":{"account_id":24557454,"reputation":146,"user_id":18465761,"display_name":"Zeke Rogers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647549705,"creation_date":1647549705,"answer_id":71518794,"question_id":71518696,"body_markdown":"You should never pass user-supplied values directly into a query. Instead, pass parameters. I also suspect you might be wanting a native query here in which case use createNativeQuery instead.\r\n\r\nExample:\r\n\r\n```java\r\nQuery query = session.createNativeQuery(&quot;delete from StudentEX1 where surname = ?&quot;);\r\nquery.setParameter(1, user_input);\r\nquery.executeUpdate();\r\n```\r\n\r\nI also suggest using camelCase for variable names, ie userInput.","title":"hibernate query wont work with user input","body":"<p>You should never pass user-supplied values directly into a query. Instead, pass parameters. I also suspect you might be wanting a native query here in which case use createNativeQuery instead.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = session.createNativeQuery(&quot;delete from StudentEX1 where surname = ?&quot;);\nquery.setParameter(1, user_input);\nquery.executeUpdate();\n</code></pre>\n<p>I also suggest using camelCase for variable names, ie userInput.</p>\n"}],"owner":{"account_id":20106000,"reputation":33,"user_id":14743524,"display_name":"Anthony Mead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647549705,"creation_date":1647549225,"question_id":71518696,"body_markdown":"hi there i have a hibernate project which im trying to delete an entry from. code looks like this.\r\n\r\n```\r\nimport csc1035.hibernate.HibernateUtil;\r\nimport org.hibernate.Session;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[]args){\r\n\r\n        Session session = HibernateUtil.getSessionFactory().openSession();\r\n        session.beginTransaction();\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Which entry would you like to delete? &quot;);\r\n\r\n        String user_input = scanner.nextLine();\r\n\r\n        session.createQuery(&quot;delete from StudentEX1 where surname=&quot;+user_input).executeUpdate();\r\n\r\n        session.getTransaction().commit();\r\n        session.close();\r\n    }\r\n\r\n}\r\n```\r\nit runs fine and deletes the row when i change remove the user_input parameter from the query, and replace it with a string i.e ```session.createQuery(&quot;delete from StudentEX1 where surname=&quot;&#39;Two&#39;&quot;).executeUpdate();```, but using user_input variable gives me the error. e.g, im testing the user_input by entering surname &quot;Three&quot;, the error: ```Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column &#39;Three&#39; in &#39;where clause&#39;```\r\n\r\nI&#39;m just a bit confused as it works fine when there is a normal string, but user input just doesnt seem to work? Note: java displays the query in the console but then goes on to give me an error.","title":"hibernate query wont work with user input","body":"<p>hi there i have a hibernate project which im trying to delete an entry from. code looks like this.</p>\n<pre><code>import csc1035.hibernate.HibernateUtil;\nimport org.hibernate.Session;\n\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[]args){\n\n        Session session = HibernateUtil.getSessionFactory().openSession();\n        session.beginTransaction();\n\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Which entry would you like to delete? &quot;);\n\n        String user_input = scanner.nextLine();\n\n        session.createQuery(&quot;delete from StudentEX1 where surname=&quot;+user_input).executeUpdate();\n\n        session.getTransaction().commit();\n        session.close();\n    }\n\n}\n</code></pre>\n<p>it runs fine and deletes the row when i change remove the user_input parameter from the query, and replace it with a string i.e <code>session.createQuery(&quot;delete from StudentEX1 where surname=&quot;'Two'&quot;).executeUpdate();</code>, but using user_input variable gives me the error. e.g, im testing the user_input by entering surname &quot;Three&quot;, the error: <code>Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'Three' in 'where clause'</code></p>\n<p>I'm just a bit confused as it works fine when there is a normal string, but user input just doesnt seem to work? Note: java displays the query in the console but then goes on to give me an error.</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1647537457,"post_id":71516166,"comment_id":126401857,"body_markdown":"Do yourself a great favour. Immediately stop using `SimpleDateFormat` and `Date`. In this case use `LocalDate` and `DateTimeFormatter` both from java.time, the modern Java date and time API.","body":"Do yourself a great favour. Immediately stop using <code>SimpleDateFormat</code> and <code>Date</code>. In this case use <code>LocalDate</code> and <code>DateTimeFormatter</code> both from java.time, the modern Java date and time API."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1647549292,"creation_date":1647536256,"answer_id":71516258,"question_id":71516166,"body_markdown":"`SimpleDateFormat` is obsolete. I&#39;d use the modern stuff from the `java.time` package.\r\n\r\nUse single character `M` and `d` if not padding single-digit values with a leading zero.\r\n\r\n```\r\nDateTimeFormatter MY_FORMAT = DateTimeFormatter.ofPattern(&quot;M/d/uuuu&quot;);\r\n\r\nLocalDate x = LocalDate.parse(&quot;1/31/2022&quot;, MY_FORMAT);\r\nif (x.getDayOfMonth() == x.lengthOfMonth()) {\r\n  // it is the last day of the month\r\n}\r\n```\r\n","title":"Verifying if date from String is the last day of the month","body":"<p><code>SimpleDateFormat</code> is obsolete. I'd use the modern stuff from the <code>java.time</code> package.</p>\n<p>Use single character <code>M</code> and <code>d</code> if not padding single-digit values with a leading zero.</p>\n<pre><code>DateTimeFormatter MY_FORMAT = DateTimeFormatter.ofPattern(&quot;M/d/uuuu&quot;);\n\nLocalDate x = LocalDate.parse(&quot;1/31/2022&quot;, MY_FORMAT);\nif (x.getDayOfMonth() == x.lengthOfMonth()) {\n  // it is the last day of the month\n}\n</code></pre>\n"}],"owner":{"account_id":13461167,"reputation":59,"user_id":9713134,"display_name":"DevOps QA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1647616680,"accepted_answer_id":71516258,"answer_count":1,"score":-1,"last_activity_date":1647549292,"creation_date":1647535855,"question_id":71516166,"body_markdown":"My input string date is as below:\r\n\r\n    String date = &quot;1/31/2022&quot;;\r\n\r\nI am transforming to a date:\r\n\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n\r\n\r\nHow do I know if my date is the last day of the month?\r\n\r\nE.g.: for a String &quot;1/31/2022&quot; the output should be true. For 2/2/2023 it should be fast.\r\n\r\nThis is to run in Groovy in Jenkins but I believe I could use java as well","title":"Verifying if date from String is the last day of the month","body":"<p>My input string date is as below:</p>\n<pre><code>String date = &quot;1/31/2022&quot;;\n</code></pre>\n<p>I am transforming to a date:</p>\n<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\n</code></pre>\n<p>How do I know if my date is the last day of the month?</p>\n<p>E.g.: for a String &quot;1/31/2022&quot; the output should be true. For 2/2/2023 it should be fast.</p>\n<p>This is to run in Groovy in Jenkins but I believe I could use java as well</p>\n"},{"tags":["java","node.js","json","spring-boot","x-www-form-urlencoded"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1647526662,"post_id":71512676,"comment_id":126397217,"body_markdown":"I have not had to use one before, but I think you could use a Spring [Handler Interceptor](https://www.baeldung.com/spring-mvc-handlerinterceptor-vs-filter) for this.","body":"I have not had to use one before, but I think you could use a Spring <a href=\"https://www.baeldung.com/spring-mvc-handlerinterceptor-vs-filter\" rel=\"nofollow noreferrer\">Handler Interceptor</a> for this."},{"owner":{"account_id":23990081,"reputation":11,"user_id":17976378,"display_name":"Te J as"},"score":0,"creation_date":1647680701,"post_id":71512676,"comment_id":126435288,"body_markdown":"Thanks, David for the suggestion. Yes, this is one option that we are already exploring. Either a filter or interceptor can transform the incoming request body to the way Java supports it. Please suggest if there is any other efficient way to handle this","body":"Thanks, David for the suggestion. Yes, this is one option that we are already exploring. Either a filter or interceptor can transform the incoming request body to the way Java supports it. Please suggest if there is any other efficient way to handle this"}],"owner":{"account_id":23990081,"reputation":11,"user_id":17976378,"display_name":"Te J as"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647548930,"creation_date":1647521725,"question_id":71512676,"body_markdown":"The Spring boot API could not parse the x-www-form-urlencoded type request since the client posted the data differently than what Java supports.\r\n\r\nThe incoming request body looks like below:\r\n\r\n**DeliveryPostCode**=TEST123000&amp;**EnableCOD**=false&amp;**Basket**%5B0%5D%5B**Id**%5D=383293820&amp;**Basket**%5B0%5D%5B**Category**%5D=Smartphone\r\n\r\nIn which a Basket is an object which has Id, Category as fields. \r\nDecoding the above URL gives -\r\n\r\n    DeliveryPostCode=TEST123000&amp;EnableCOD=false&amp;Basket[0][Id]=383293820&amp;Basket[0][Category]=Smartphone\r\n\r\n \r\nwhich does not work for **Java**\r\nIf we can get a request which looks like below, It works for Java -\r\n\r\n    DeliveryPostCode=TEST123000&amp;EnableCOD=false&amp;Basket[0].Id=383293820&amp;Basket[0].Category=Smartphone\r\n\r\nSince the client is something which we cannot afford to change. We have to do some manipulation in  Java before Controller takes this \r\n**OR**\r\na modify in middleware node js layer we have between client &amp; server which acts as a proxy. \r\n\r\nPlease suggest.","title":"How to make Spring Boot API accept a client&#39;s custom &#39;x-www-form-urlencoded&#39; format for the nested objects parsing","body":"<p>The Spring boot API could not parse the x-www-form-urlencoded type request since the client posted the data differently than what Java supports.</p>\n<p>The incoming request body looks like below:</p>\n<p><strong>DeliveryPostCode</strong>=TEST123000&amp;<strong>EnableCOD</strong>=false&amp;<strong>Basket</strong>%5B0%5D%5B<strong>Id</strong>%5D=383293820&amp;<strong>Basket</strong>%5B0%5D%5B<strong>Category</strong>%5D=Smartphone</p>\n<p>In which a Basket is an object which has Id, Category as fields.\nDecoding the above URL gives -</p>\n<pre><code>DeliveryPostCode=TEST123000&amp;EnableCOD=false&amp;Basket[0][Id]=383293820&amp;Basket[0][Category]=Smartphone\n</code></pre>\n<p>which does not work for <strong>Java</strong>\nIf we can get a request which looks like below, It works for Java -</p>\n<pre><code>DeliveryPostCode=TEST123000&amp;EnableCOD=false&amp;Basket[0].Id=383293820&amp;Basket[0].Category=Smartphone\n</code></pre>\n<p>Since the client is something which we cannot afford to change. We have to do some manipulation in  Java before Controller takes this\n<strong>OR</strong>\na modify in middleware node js layer we have between client &amp; server which acts as a proxy.</p>\n<p>Please suggest.</p>\n"},{"tags":["java","string","replace","split","hashmap"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":4,"creation_date":1647537179,"post_id":71516377,"comment_id":126401770,"body_markdown":"Do you suppose posting the code you used to split your strings might help people see your mistake? If you&#39;re asking people for an answer, providing evidence would seem to be the right approach. Trying to force people to guess won&#39;t get you anywhere.","body":"Do you suppose posting the code you used to split your strings might help people see your mistake? If you&#39;re asking people for an answer, providing evidence would seem to be the right approach. Trying to force people to guess won&#39;t get you anywhere."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1647537787,"post_id":71516377,"comment_id":126401968,"body_markdown":"_**: indicates key-value pairs**_ No, not all. Not those between hours, minutes and seconds.","body":"<i><b>: indicates key-value pairs</b></i> No, not all. Not those between hours, minutes and seconds."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1647538578,"post_id":71516377,"comment_id":126402251,"body_markdown":"You can&#39;t use `created` and `timestamp` repeatedly in the same map as duplicate keys are not permitted.  How to you plan to handle multiple similar strings in the same map and still keep the proper pairings?","body":"You can&#39;t use <code>created</code> and <code>timestamp</code> repeatedly in the same map as duplicate keys are not permitted.  How to you plan to handle multiple similar strings in the same map and still keep the proper pairings?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1647542446,"post_id":71516377,"comment_id":126403582,"body_markdown":"Why don&#39;t use create a class to hold the information since you can&#39;t use a single map because of the duplicate keys.","body":"Why don&#39;t use create a class to hold the information since you can&#39;t use a single map because of the duplicate keys."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1647549167,"post_id":71516377,"comment_id":126405819,"body_markdown":"What duplicate keys are people talking about? I do not see any dups.","body":"What duplicate keys are people talking about? I do not see any dups."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1647557810,"post_id":71516377,"comment_id":126408048,"body_markdown":"@BasilBourque  I may be presuming something but if this is simply a sample of the input then I could imagine there would be lots of city/country entries, all using the same four key names as shown above.","body":"@BasilBourque  I may be presuming something but if this is simply a sample of the input then I could imagine there would be lots of city/country entries, all using the same four key names as shown above."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1647558378,"post_id":71516377,"comment_id":126408152,"body_markdown":"*I have a string like this but very big string.*  Please explain that statement.  Does that `very big string` represent multiple cities and countries?","body":"<i>I have a string like this but very big string.</i>  Please explain that statement.  Does that <code>very big string</code> represent multiple cities and countries?"}],"answers":[{"tags":[],"owner":{"account_id":10470529,"reputation":365,"user_id":7718524,"display_name":"Ketan Suthar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647537723,"creation_date":1647537723,"answer_id":71516568,"question_id":71516377,"body_markdown":"    var data=&quot;created:2022-03-16T07:10:26.135Z,timestamp:2022-03-16T07:10:26.087Z&quot;;\r\n\r\n    var split = data.split(&quot;,&quot;); // splitting created and timestamp\r\n    var created = split[0].substring(8); // 8 is size of &#39;created:&#39;\r\n    var timestamp = split[1].substring(10); // 10 is size of &#39;timestamp:&#39;\r\n\r\n    Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n    result.put(&quot;created&quot;, created);\r\n    result.put(&quot;timestamp&quot;, timestamp);\r\n\r\noutput:\r\n{created=2022-03-16T07:10:26.135Z, timestamp=2022-03-16T07:10:26.087Z}","title":"Java1.8 Split string into key-value pairs","body":"<pre><code>var data=&quot;created:2022-03-16T07:10:26.135Z,timestamp:2022-03-16T07:10:26.087Z&quot;;\n\nvar split = data.split(&quot;,&quot;); // splitting created and timestamp\nvar created = split[0].substring(8); // 8 is size of 'created:'\nvar timestamp = split[1].substring(10); // 10 is size of 'timestamp:'\n\nMap&lt;String, String&gt; result = new HashMap&lt;&gt;();\nresult.put(&quot;created&quot;, created);\nresult.put(&quot;timestamp&quot;, timestamp);\n</code></pre>\n<p>output:\n{created=2022-03-16T07:10:26.135Z, timestamp=2022-03-16T07:10:26.087Z}</p>\n"},{"tags":[],"owner":{"account_id":5384755,"reputation":183,"user_id":4289035,"display_name":"Gaurav kumar Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647539548,"creation_date":1647539548,"answer_id":71516941,"question_id":71516377,"body_markdown":"You need to split the data and iterate on this, split it one more time on colon by specifying index=2 and store the result in a Map. If you want to preserve the order use LinkedHashMap.\r\n\r\n\tMap&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\r\n\tString data = &quot;created:2022-03-16T07:10:26.135Z,timestamp:2022-03-16T07:10:26.087Z,city:Bangalore,Country:Ind&quot;;\r\n\r\n\tString[] split = data.split(&quot;,&quot;);\r\n\tfor (String str: split) {\r\n\t\tString[] pair = str.split(&quot;:&quot;, 2);\r\n\t\tmap.put(pair[0],pair[1]);\r\n\t}\r\n\r\n\tSystem.out.println(map);\r\n\r\n&gt; Output: {created=2022-03-16T07:10:26.135Z, timestamp=2022-03-16T07:10:26.087Z, city=Bangalore, Country=Ind}\r\n    ","title":"Java1.8 Split string into key-value pairs","body":"<p>You need to split the data and iterate on this, split it one more time on colon by specifying index=2 and store the result in a Map. If you want to preserve the order use LinkedHashMap.</p>\n<pre><code>Map&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\nString data = &quot;created:2022-03-16T07:10:26.135Z,timestamp:2022-03-16T07:10:26.087Z,city:Bangalore,Country:Ind&quot;;\n\nString[] split = data.split(&quot;,&quot;);\nfor (String str: split) {\n    String[] pair = str.split(&quot;:&quot;, 2);\n    map.put(pair[0],pair[1]);\n}\n\nSystem.out.println(map);\n</code></pre>\n<blockquote>\n<p>Output: {created=2022-03-16T07:10:26.135Z, timestamp=2022-03-16T07:10:26.087Z, city=Bangalore, Country=Ind}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647548565,"creation_date":1647539620,"answer_id":71516956,"question_id":71516377,"body_markdown":"Based on the information provided, here one way to do it. It required both splitting in sections and limiting the size and location of the split.\r\n```\r\nString data = &quot;created:2022-03-16T07:10:26.135Z,timestamp:2022-03-16T07:10:26.087Z,city:Bangalore,Country:Ind&quot;;\r\n\r\nMap&lt;String, String&gt; map =\r\n\t\tArrays.stream(data.split(&quot;,&quot;))\r\n\t\t.map(str -&gt; str.split(&quot;:&quot;, 2))\r\n\t\t.collect(Collectors.toMap(a -&gt; a[0], a -&gt; a[1]));\r\n\r\nmap.entrySet().forEach(System.out::println);\t\t\r\n```\r\nSee this [code run live at IdeOne.com][1].\r\n\r\n```none\r\ncity=Bangalore\r\ncreated=2022-03-16T07:10:26.135Z\r\nCountry=Ind\r\ntimestamp=2022-03-16T07:10:26.087Z\r\n```\r\nAs I said in the comments, you can&#39;t use a single map because of the duplicate keys.  You may want to consider a class as follows to hold the information\r\n```\r\nclass CityData {\r\n    private String created;  // or a ZonedDateTime instance\r\n    private String timeStamp;// or a ZonedDateTime instance\r\n    private String city;\r\n    private String country;\r\n    @Getters and @setters\r\n}\r\n```\r\nYou could then group all the cities for of a given country for which you had data in a map as follows:\r\n\r\n`Map&lt;String, List&lt;CityData&gt;&gt;`  where the Key is the country.\r\n\r\n\r\n  [1]: https://ideone.com/xlPnGO","title":"Java1.8 Split string into key-value pairs","body":"<p>Based on the information provided, here one way to do it. It required both splitting in sections and limiting the size and location of the split.</p>\n<pre><code>String data = &quot;created:2022-03-16T07:10:26.135Z,timestamp:2022-03-16T07:10:26.087Z,city:Bangalore,Country:Ind&quot;;\n\nMap&lt;String, String&gt; map =\n        Arrays.stream(data.split(&quot;,&quot;))\n        .map(str -&gt; str.split(&quot;:&quot;, 2))\n        .collect(Collectors.toMap(a -&gt; a[0], a -&gt; a[1]));\n\nmap.entrySet().forEach(System.out::println);        \n</code></pre>\n<p>See this <a href=\"https://ideone.com/xlPnGO\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>city=Bangalore\ncreated=2022-03-16T07:10:26.135Z\nCountry=Ind\ntimestamp=2022-03-16T07:10:26.087Z\n</code></pre>\n<p>As I said in the comments, you can't use a single map because of the duplicate keys.  You may want to consider a class as follows to hold the information</p>\n<pre><code>class CityData {\n    private String created;  // or a ZonedDateTime instance\n    private String timeStamp;// or a ZonedDateTime instance\n    private String city;\n    private String country;\n    @Getters and @setters\n}\n</code></pre>\n<p>You could then group all the cities for of a given country for which you had data in a map as follows:</p>\n<p><code>Map&lt;String, List&lt;CityData&gt;&gt;</code>  where the Key is the country.</p>\n"}],"owner":{"display_name":"user14017567"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":990,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1647548565,"creation_date":1647536817,"question_id":71516377,"body_markdown":"I have a string like this but very big string \r\n\r\n```\r\nString data = &quot;created:2022-03-16T07:10:26.135Z,timestamp:2022-03-16T07:10:26.087Z,city:Bangalore,Country:Ind&quot;;\r\n```\r\n\r\nNow : indicates key-value pairs while , separates the pairs. I want to add the key-value pairs to a HashMap. I am expecting output:-\r\n\r\n```\r\n{created=2022-03-16T07:10:26.135Z,timestamp=2022-03-16T07:10:26.087Z,city=Bangalore,Country=Ind}\r\n```\r\n\r\nI tried in multiple way but I am getting like that \r\n\r\n```\r\n{timestamp=2022-03-16T07, created=2022-03-16T07}\r\n```","title":"Java1.8 Split string into key-value pairs","body":"<p>I have a string like this but very big string</p>\n<pre><code>String data = &quot;created:2022-03-16T07:10:26.135Z,timestamp:2022-03-16T07:10:26.087Z,city:Bangalore,Country:Ind&quot;;\n</code></pre>\n<p>Now : indicates key-value pairs while , separates the pairs. I want to add the key-value pairs to a HashMap. I am expecting output:-</p>\n<pre><code>{created=2022-03-16T07:10:26.135Z,timestamp=2022-03-16T07:10:26.087Z,city=Bangalore,Country=Ind}\n</code></pre>\n<p>I tried in multiple way but I am getting like that</p>\n<pre><code>{timestamp=2022-03-16T07, created=2022-03-16T07}\n</code></pre>\n"},{"tags":["java","spring-security","single-sign-on","jhipster","keycloak"],"comments":[{"owner":{"account_id":12099659,"reputation":1380,"user_id":8841412,"display_name":"Beu"},"score":1,"creation_date":1600260493,"post_id":53839769,"comment_id":113031217,"body_markdown":"Any solution?  I am also working with the same requirement.","body":"Any solution?  I am also working with the same requirement."}],"answers":[{"tags":[],"owner":{"account_id":5292297,"reputation":3194,"user_id":4224497,"display_name":"rckrd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545300467,"creation_date":1545299839,"answer_id":53866260,"question_id":53839769,"body_markdown":"The [javascript adapter](https://www.keycloak.org/docs/latest/securing_apps/index.html#_javascript_adapter) solve this by creating an [iframe](https://github.com/keycloak/keycloak/blob/master/adapters/oidc/js/src/main/resources/login-status-iframe.html) that&#39;s loaded from the authentication server. \n\nFrom the [keycloak docs](https://www.keycloak.org/docs/latest/securing_apps/index.html#session-status-iframe): \n\n&gt; **Session Status iframe**\n&gt;\n&gt;By default, the JavaScript adapter creates a hidden iframe that is used to detect if a Single-Sign Out has occurred. This does not require any network traffic, instead the status is retrieved by looking at a special status cookie. This feature can be disabled by setting checkLoginIframe: false in the options passed to the init method.You should not rely on looking at this cookie directly. Its format can change and it’s also associated with the URL of the Keycloak server, not your application.\n\nThe success callback of init function has a parameter that gives the authentication status of the user. \n\n    &lt;script src=&quot;keycloak.js&quot;&gt;&lt;/script&gt;\n    &lt;script&gt;\n        var keycloak = Keycloak();\n        keycloak.init().success(function(authenticated) {\n            alert(authenticated ? &#39;authenticated&#39; : &#39;not authenticated&#39;);\n        }).error(function() {\n            alert(&#39;failed to initialize&#39;);\n        });\n    &lt;/script&gt;\n\nIf the user is authenticated redirect the user to the login page, since the user is already authenticated there is no need to input the login credentials again. The adapter can handle this automatically if it&#39;s initialized with the onload option `check-sso`\n\nFor more details on the inner workings of the javascript adapter, the source can be found [here](https://github.com/keycloak/keycloak/blob/master/adapters/oidc/js/src/main/resources/keycloak.js)\n","title":"Keep authentication between 2 applications with Keycloak SSO","body":"<p>The <a href=\"https://www.keycloak.org/docs/latest/securing_apps/index.html#_javascript_adapter\" rel=\"nofollow noreferrer\">javascript adapter</a> solve this by creating an <a href=\"https://github.com/keycloak/keycloak/blob/master/adapters/oidc/js/src/main/resources/login-status-iframe.html\" rel=\"nofollow noreferrer\">iframe</a> that's loaded from the authentication server.</p>\n<p>From the <a href=\"https://www.keycloak.org/docs/latest/securing_apps/index.html#session-status-iframe\" rel=\"nofollow noreferrer\">keycloak docs</a>:</p>\n<blockquote>\n<p><strong>Session Status iframe</strong></p>\n<p>By default, the JavaScript adapter creates a hidden iframe that is used to detect if a Single-Sign Out has occurred. This does not require any network traffic, instead the status is retrieved by looking at a special status cookie. This feature can be disabled by setting checkLoginIframe: false in the options passed to the init method.You should not rely on looking at this cookie directly. Its format can change and it’s also associated with the URL of the Keycloak server, not your application.</p>\n</blockquote>\n<p>The success callback of init function has a parameter that gives the authentication status of the user.</p>\n<pre><code>&lt;script src=&quot;keycloak.js&quot;&gt;&lt;/script&gt;\n&lt;script&gt;\n    var keycloak = Keycloak();\n    keycloak.init().success(function(authenticated) {\n        alert(authenticated ? 'authenticated' : 'not authenticated');\n    }).error(function() {\n        alert('failed to initialize');\n    });\n&lt;/script&gt;\n</code></pre>\n<p>If the user is authenticated redirect the user to the login page, since the user is already authenticated there is no need to input the login credentials again. The adapter can handle this automatically if it's initialized with the onload option <code>check-sso</code></p>\n<p>For more details on the inner workings of the javascript adapter, the source can be found <a href=\"https://github.com/keycloak/keycloak/blob/master/adapters/oidc/js/src/main/resources/keycloak.js\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1874414,"reputation":11,"user_id":1695936,"display_name":"jorgernan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647548238,"creation_date":1647548238,"answer_id":71518521,"question_id":53839769,"body_markdown":"I solved this problem by changing the cookie name generated on the client where token information is stored. In this way, using app2 will not invalidate the token of app1 because it will use a different name. Maybe there is a better way to accomplish this in a SSO environment but it works for me.\r\n\r\nChange `application.yaml` by adding `server.servlet.session.cookie.name` entry with the new cookie name:\r\n\r\n    server:\r\n      servlet:\r\n        session:\r\n          cookie:\r\n            http-only: true\r\n            name: JSESSIONID_APP1\r\n\r\n","title":"Keep authentication between 2 applications with Keycloak SSO","body":"<p>I solved this problem by changing the cookie name generated on the client where token information is stored. In this way, using app2 will not invalidate the token of app1 because it will use a different name. Maybe there is a better way to accomplish this in a SSO environment but it works for me.</p>\n<p>Change <code>application.yaml</code> by adding <code>server.servlet.session.cookie.name</code> entry with the new cookie name:</p>\n<pre><code>server:\n  servlet:\n    session:\n      cookie:\n        http-only: true\n        name: JSESSIONID_APP1\n</code></pre>\n"}],"owner":{"account_id":4757152,"reputation":541,"user_id":3845626,"accept_rate":10,"display_name":"Biologeek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8852,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1647548238,"creation_date":1545161081,"question_id":53839769,"body_markdown":"I have 2 JHipster apps running each on one subdomain (app1.domain.tld &amp; app2.domain.tld). \r\n\r\nIn both apps, users login through Keycloak. The sequence is as such : \r\n\r\n1. Angular app sends /authenticate request with credentials to Keycloak\r\n2. In case of successful response returns a authentication cookie\r\n3. POST request is is sent to Jhipster backend app that generates JSessionID cookie \r\n4. JSessionID is then used for every request to backed app.\r\n\r\nWhat would be the best way to automatically login user (without asking username &amp; password) if they are already logged in one of the apps of the domain (*.domain.tld) ?\r\n\r\nI tried to use the JSessionID as a global token before understanding it only works on the app it was generated on... \r\n\r\nMaybe catching Keycloak authentication cookie (returned at step 2) and authenticating on second application would do the trick ?\r\n\r\nFrom what I saw while testing, after being authenticated on first app, when I go to the second one, Angular 401 HTTP interceptor redirects to keycloak login page with a session token. Thus at that time Keycloak should see that I&#39;m already logged in and should redirect me to home page of my second app. \r\n\r\nAm I right ?\r\n","title":"Keep authentication between 2 applications with Keycloak SSO","body":"<p>I have 2 JHipster apps running each on one subdomain (app1.domain.tld &amp; app2.domain.tld). </p>\n\n<p>In both apps, users login through Keycloak. The sequence is as such : </p>\n\n<ol>\n<li>Angular app sends /authenticate request with credentials to Keycloak</li>\n<li>In case of successful response returns a authentication cookie</li>\n<li>POST request is is sent to Jhipster backend app that generates JSessionID cookie </li>\n<li>JSessionID is then used for every request to backed app.</li>\n</ol>\n\n<p>What would be the best way to automatically login user (without asking username &amp; password) if they are already logged in one of the apps of the domain (*.domain.tld) ?</p>\n\n<p>I tried to use the JSessionID as a global token before understanding it only works on the app it was generated on... </p>\n\n<p>Maybe catching Keycloak authentication cookie (returned at step 2) and authenticating on second application would do the trick ?</p>\n\n<p>From what I saw while testing, after being authenticated on first app, when I go to the second one, Angular 401 HTTP interceptor redirects to keycloak login page with a session token. Thus at that time Keycloak should see that I'm already logged in and should redirect me to home page of my second app. </p>\n\n<p>Am I right ?</p>\n"},{"tags":["java","android","webview","zxing"],"answers":[{"tags":[],"owner":{"account_id":412452,"reputation":2612,"user_id":785529,"accept_rate":44,"display_name":"Dani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647548162,"creation_date":1647548162,"answer_id":71518496,"question_id":66939756,"body_markdown":"In `WebChromeClientDemo` class, add\r\n\r\n    @Override\r\n    public void onPermissionRequest(PermissionRequest request) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            request.grant(request.getResources());\r\n        }\r\n    }","title":"Zxing QR code scanner integration with webview","body":"<p>In <code>WebChromeClientDemo</code> class, add</p>\n<pre><code>@Override\npublic void onPermissionRequest(PermissionRequest request) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        request.grant(request.getResources());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20527725,"reputation":163,"user_id":15065774,"display_name":"Ahamed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647548162,"creation_date":1617528620,"question_id":66939756,"body_markdown":"I&#39;m trying to integrate the Zxing qr code scanner with my android webview app. I successfully imported a zxing project and deployed it. The scanner worked without any issues. Now i&#39;m trying to integrate this scanner with my webview. \r\n\r\nThe scenario i&#39;m working on is, &quot;when user opens the app, it should boot the webview, and inside a webview there will be a link called &quot;Scan&quot;, on clicking the link it should send an intent to native java code &quot;Zxing scanner function&quot; to start the scanner and switch off webview. When the scan is complete, the decoded data should be passed on to the webview, the scanner page should close and webview reopened.\r\n\r\nHere is the code i have worked up so far\r\n\r\nMainActivity.Java\r\n```\r\npackage com.androiddvlpr.zxingandroid;\r\n\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Bundle;\r\nimport android.support.v4.app.ActivityCompat;\r\nimport android.support.v4.content.ContextCompat;\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport android.view.View;\r\nimport android.webkit.CookieManager;\r\nimport android.webkit.JavascriptInterface;\r\nimport android.webkit.WebChromeClient;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport com.budiyev.android.codescanner.CodeScanner;\r\nimport com.budiyev.android.codescanner.CodeScannerView;\r\nimport com.budiyev.android.codescanner.DecodeCallback;\r\nimport com.google.zxing.Result;\r\n\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private CodeScanner mCodeScanner;\r\n    private WebView webView;\r\n\r\n\r\n\r\n\r\n    private class WebChromeClientDemo extends WebChromeClient {\r\n        private WebChromeClientDemo() {\r\n        }\r\n    }\r\n    private class WebViewClientDemo extends WebViewClient {\r\n        private WebViewClientDemo() {\r\n        }\r\n\r\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n            view.loadUrl(url);\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n    @SuppressLint({&quot;SetJavaScriptEnabled&quot;})\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        this.webView = (WebView) findViewById(R.id.simpleWebView);\r\n        this.webView.setWebViewClient(new WebViewClientDemo());\r\n        this.webView.setWebChromeClient(new WebChromeClientDemo());\r\n        this.webView.addJavascriptInterface(new WebAppInterface(this), &quot;Android&quot;);\r\n        WebSettings settings = this.webView.getSettings();\r\n        settings.setJavaScriptEnabled(true);\r\n        settings.setDomStorageEnabled(true);\r\n        settings.setDatabaseEnabled(true);\r\n        CookieManager.getInstance();\r\n        this.webView.loadUrl(&quot;https://mbracecloud.com/camera1.php&quot;);\r\n\r\n\r\n        if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA)\r\n                == PackageManager.PERMISSION_DENIED){\r\n            ActivityCompat.requestPermissions(MainActivity.this, new String[] {Manifest.permission.CAMERA}, 123);\r\n        } else {\r\n           //startScanning();\r\n        }\r\n    }\r\n    \r\n    public void startScanning() {\r\n        CodeScannerView scannerView = findViewById(R.id.scanner_view);\r\n        mCodeScanner = new CodeScanner(this, scannerView);\r\n        mCodeScanner.setDecodeCallback(new DecodeCallback() {\r\n            @Override\r\n            public void onDecoded(@NonNull final Result result) {\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        Toast.makeText(MainActivity.this, result.getText(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        scannerView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                mCodeScanner.startPreview();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == 123) {\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                Toast.makeText(this, &quot;Camera permission granted&quot;, Toast.LENGTH_LONG).show();\r\n                startScanning();\r\n            } else {\r\n                Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n            if(mCodeScanner != null) {\r\n                mCodeScanner.startPreview();\r\n            }\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        if(mCodeScanner != null) {\r\n            mCodeScanner.releaseResources();\r\n        }\r\n        super.onPause();\r\n    }\r\n}\r\n\r\n```\r\n\r\nActivity_Main.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;com.budiyev.android.codescanner.CodeScannerView\r\n        android:id=&quot;@+id/scanner_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:autoFocusButtonColor=&quot;@android:color/white&quot;\r\n        app:autoFocusButtonVisible=&quot;true&quot;\r\n        app:flashButtonColor=&quot;@android:color/white&quot;\r\n        app:flashButtonVisible=&quot;true&quot;\r\n        app:frameColor=&quot;@android:color/white&quot;\r\n        app:frameCornersSize=&quot;50dp&quot;\r\n        app:frameCornersRadius=&quot;0dp&quot;\r\n        app:frameAspectRatioWidth=&quot;1&quot;\r\n        app:frameAspectRatioHeight=&quot;1&quot;\r\n        app:frameSize=&quot;0.75&quot;\r\n        app:frameThickness=&quot;2dp&quot;\r\n        app:maskColor=&quot;#77000000&quot;/&gt;\r\n\r\n    &lt;WebView\r\n        android:id=&quot;@+id/simpleWebView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot; /&gt;\r\n\r\n&lt;/android.support.constraint.ConstraintLayout&gt;\r\n```\r\n\r\nAny help would be much appreciated as we are stuck with this day for almost a month.","title":"Zxing QR code scanner integration with webview","body":"<p>I'm trying to integrate the Zxing qr code scanner with my android webview app. I successfully imported a zxing project and deployed it. The scanner worked without any issues. Now i'm trying to integrate this scanner with my webview.</p>\n<p>The scenario i'm working on is, &quot;when user opens the app, it should boot the webview, and inside a webview there will be a link called &quot;Scan&quot;, on clicking the link it should send an intent to native java code &quot;Zxing scanner function&quot; to start the scanner and switch off webview. When the scan is complete, the decoded data should be passed on to the webview, the scanner page should close and webview reopened.</p>\n<p>Here is the code i have worked up so far</p>\n<p>MainActivity.Java</p>\n<pre><code>package com.androiddvlpr.zxingandroid;\n\nimport android.Manifest;\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.support.v4.app.ActivityCompat;\nimport android.support.v4.content.ContextCompat;\nimport android.support.v7.app.AppCompatActivity;\nimport android.view.View;\nimport android.webkit.CookieManager;\nimport android.webkit.JavascriptInterface;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\n\nimport com.budiyev.android.codescanner.CodeScanner;\nimport com.budiyev.android.codescanner.CodeScannerView;\nimport com.budiyev.android.codescanner.DecodeCallback;\nimport com.google.zxing.Result;\n\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    private CodeScanner mCodeScanner;\n    private WebView webView;\n\n\n\n\n    private class WebChromeClientDemo extends WebChromeClient {\n        private WebChromeClientDemo() {\n        }\n    }\n    private class WebViewClientDemo extends WebViewClient {\n        private WebViewClientDemo() {\n        }\n\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            view.loadUrl(url);\n            return true;\n        }\n    }\n\n\n    @SuppressLint({&quot;SetJavaScriptEnabled&quot;})\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        this.webView = (WebView) findViewById(R.id.simpleWebView);\n        this.webView.setWebViewClient(new WebViewClientDemo());\n        this.webView.setWebChromeClient(new WebChromeClientDemo());\n        this.webView.addJavascriptInterface(new WebAppInterface(this), &quot;Android&quot;);\n        WebSettings settings = this.webView.getSettings();\n        settings.setJavaScriptEnabled(true);\n        settings.setDomStorageEnabled(true);\n        settings.setDatabaseEnabled(true);\n        CookieManager.getInstance();\n        this.webView.loadUrl(&quot;https://mbracecloud.com/camera1.php&quot;);\n\n\n        if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA)\n                == PackageManager.PERMISSION_DENIED){\n            ActivityCompat.requestPermissions(MainActivity.this, new String[] {Manifest.permission.CAMERA}, 123);\n        } else {\n           //startScanning();\n        }\n    }\n    \n    public void startScanning() {\n        CodeScannerView scannerView = findViewById(R.id.scanner_view);\n        mCodeScanner = new CodeScanner(this, scannerView);\n        mCodeScanner.setDecodeCallback(new DecodeCallback() {\n            @Override\n            public void onDecoded(@NonNull final Result result) {\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        Toast.makeText(MainActivity.this, result.getText(), Toast.LENGTH_SHORT).show();\n                    }\n                });\n            }\n        });\n        scannerView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                mCodeScanner.startPreview();\n            }\n        });\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == 123) {\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                Toast.makeText(this, &quot;Camera permission granted&quot;, Toast.LENGTH_LONG).show();\n                startScanning();\n            } else {\n                Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n            if(mCodeScanner != null) {\n                mCodeScanner.startPreview();\n            }\n    }\n\n    @Override\n    protected void onPause() {\n        if(mCodeScanner != null) {\n            mCodeScanner.releaseResources();\n        }\n        super.onPause();\n    }\n}\n\n</code></pre>\n<p>Activity_Main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.budiyev.android.codescanner.CodeScannerView\n        android:id=&quot;@+id/scanner_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:autoFocusButtonColor=&quot;@android:color/white&quot;\n        app:autoFocusButtonVisible=&quot;true&quot;\n        app:flashButtonColor=&quot;@android:color/white&quot;\n        app:flashButtonVisible=&quot;true&quot;\n        app:frameColor=&quot;@android:color/white&quot;\n        app:frameCornersSize=&quot;50dp&quot;\n        app:frameCornersRadius=&quot;0dp&quot;\n        app:frameAspectRatioWidth=&quot;1&quot;\n        app:frameAspectRatioHeight=&quot;1&quot;\n        app:frameSize=&quot;0.75&quot;\n        app:frameThickness=&quot;2dp&quot;\n        app:maskColor=&quot;#77000000&quot;/&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/simpleWebView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_centerHorizontal=&quot;true&quot; /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n<p>Any help would be much appreciated as we are stuck with this day for almost a month.</p>\n"},{"tags":["java","junit","mockito","spring-test","completable-future"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1647561793,"post_id":71467929,"comment_id":126408714,"body_markdown":"Welcome to SO. Where is your sample code reproducing the problem in a full, but minimal way? Your readers need both application and test code. Stack Overflow is a Q/A platform for concrete programming questions based on code, not a discussion forum.","body":"Welcome to SO. Where is your sample code reproducing the problem in a full, but minimal way? Your readers need both application and test code. Stack Overflow is a Q/A platform for concrete programming questions based on code, not a discussion forum."}],"answers":[{"tags":[],"owner":{"account_id":4290743,"reputation":143,"user_id":3507197,"display_name":"Ying Cherry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647548002,"creation_date":1647548002,"answer_id":71518474,"question_id":71467929,"body_markdown":"Not sure what your use case looks like exactly, but it sounds like the mission of Awaitility. Have you checked there?\r\n\r\n[Awaility-usage-examples][1]\r\nAnd nonono, please don&#39;t exclude runAsync() blocks. They are testable :) \r\n\r\n  [1]: https://github.com/awaitility/awaitility/wiki/Usage#usage-examples","title":"Test method which invokes another method with runAsync() block","body":"<p>Not sure what your use case looks like exactly, but it sounds like the mission of Awaitility. Have you checked there?</p>\n<p><a href=\"https://github.com/awaitility/awaitility/wiki/Usage#usage-examples\" rel=\"nofollow noreferrer\">Awaility-usage-examples</a>\nAnd nonono, please don't exclude runAsync() blocks. They are testable :)</p>\n"}],"owner":{"account_id":14059622,"reputation":99,"user_id":12648740,"display_name":"John Smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647548002,"creation_date":1647261471,"question_id":71467929,"body_markdown":"I would be grateful for any advice or practices which you follow.\r\n\r\nWe use Mockito and Junit4/5 to to write unit tests. However, I see that some tests fail at prod\r\n(when at the end of a test you verify calling of methods which have runAsync block).\r\n\r\nAre there exists any options to fix these tests except adding timeout to verify or excluding runAsync() blocks?\r\nTQ in advance.","title":"Test method which invokes another method with runAsync() block","body":"<p>I would be grateful for any advice or practices which you follow.</p>\n<p>We use Mockito and Junit4/5 to to write unit tests. However, I see that some tests fail at prod\n(when at the end of a test you verify calling of methods which have runAsync block).</p>\n<p>Are there exists any options to fix these tests except adding timeout to verify or excluding runAsync() blocks?\nTQ in advance.</p>\n"},{"tags":["java","swing","merge","netbeans-7"],"answers":[{"tags":[],"owner":{"account_id":3612523,"reputation":7494,"user_id":3013206,"accept_rate":20,"display_name":"Spindizzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395764253,"creation_date":1395764253,"answer_id":22640403,"question_id":22639939,"body_markdown":"If the form is in a separate class, a possible solution is to import the component from the old project with the Palette Manager.\r\n\r\nMenu: Tools =&gt; Palette =&gt; Swing/AWT Components =&gt; Add from Project\r\n\r\nThe component will be available in the Palette.","title":"Using NetBeans UI designer, how can I copy UI components from one project and paste them into another?","body":"<p>If the form is in a separate class, a possible solution is to import the component from the old project with the Palette Manager.</p>\n\n<p>Menu: Tools => Palette => Swing/AWT Components => Add from Project</p>\n\n<p>The component will be available in the Palette.</p>\n"},{"tags":[],"owner":{"account_id":9740673,"reputation":1,"user_id":7222380,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518108602,"creation_date":1518108602,"answer_id":48690720,"question_id":22639939,"body_markdown":"Open the design tab of the frame you want to copy, then hold Shift and drag the mouse over all the design elements.\r\n\r\nYou can then copy them all and paste in another JFrame.","title":"Using NetBeans UI designer, how can I copy UI components from one project and paste them into another?","body":"<p>Open the design tab of the frame you want to copy, then hold Shift and drag the mouse over all the design elements.</p>\n\n<p>You can then copy them all and paste in another JFrame.</p>\n"}],"owner":{"account_id":7908,"reputation":22042,"user_id":13930,"accept_rate":43,"display_name":"dacracot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647547901,"creation_date":1395763217,"question_id":22639939,"body_markdown":"I&#39;m using NetBeans 7.4.  I&#39;ve created a new UI using the designer.  I would like to use a old UI design from another project in this new project, &quot;cutting and pasting&quot; all the components from the old design&#39;s JFrame and inserting them into the new design&#39;s JPanel.\r\n\r\nDoes NetBeans provide any method to do this in the design tool rather than the source?  I&#39;m hesitant to edit the generated code, having corrupted designs in the past.","title":"Using NetBeans UI designer, how can I copy UI components from one project and paste them into another?","body":"<p>I'm using NetBeans 7.4.  I've created a new UI using the designer.  I would like to use a old UI design from another project in this new project, \"cutting and pasting\" all the components from the old design's JFrame and inserting them into the new design's JPanel.</p>\n\n<p>Does NetBeans provide any method to do this in the design tool rather than the source?  I'm hesitant to edit the generated code, having corrupted designs in the past.</p>\n"},{"tags":["java","spring","spring-boot","rest","localdate"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647531878,"post_id":71515108,"comment_id":126399599,"body_markdown":"Replace `String.class` with `CompetenciaAbertaResponsetDTO.class` and remov the objectmapper.","body":"Replace <code>String.class</code> with <code>CompetenciaAbertaResponsetDTO.class</code> and remov the objectmapper."},{"owner":{"account_id":5589271,"reputation":87,"user_id":4428984,"display_name":"Anderson"},"score":0,"creation_date":1647542099,"post_id":71515108,"comment_id":126403465,"body_markdown":"Doesn&#39;t work too.","body":"Doesn&#39;t work too."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647542838,"post_id":71515108,"comment_id":126403708,"body_markdown":"How are you constructing the `RestTemplate`?  Assuming you use the `RestTemplateBuilder` it gets the configured object mapper which has the java time module attach (assuming that is on the classpath).","body":"How are you constructing the <code>RestTemplate</code>?  Assuming you use the <code>RestTemplateBuilder</code> it gets the configured object mapper which has the java time module attach (assuming that is on the classpath)."},{"owner":{"account_id":5589271,"reputation":87,"user_id":4428984,"display_name":"Anderson"},"score":0,"creation_date":1647543453,"post_id":71515108,"comment_id":126403930,"body_markdown":"Return this error,: Caused by: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Expected array or string.; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Expected array or string.","body":"Return this error,: Caused by: org.springframework.http.converter.HttpMessageNotReadableExc&zwnj;&#8203;eption: JSON parse error: Expected array or string.; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Expected array or string."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1647543535,"post_id":71515108,"comment_id":126403957,"body_markdown":"The problem is that your response is already wrong. What you should send (and what normally happens if you use the regular Spring Boot setup) is that your dates get translated into an ISO date string, which can be converted back. What you have now is the internal object structure of LocalDate which basically has no meaning.","body":"The problem is that your response is already wrong. What you should send (and what normally happens if you use the regular Spring Boot setup) is that your dates get translated into an ISO date string, which can be converted back. What you have now is the internal object structure of LocalDate which basically has no meaning."},{"owner":{"account_id":5589271,"reputation":87,"user_id":4428984,"display_name":"Anderson"},"score":0,"creation_date":1647543576,"post_id":71515108,"comment_id":126403977,"body_markdown":"This is code for RestTemplate:        RestTemplate restTemplate = new RestTemplate();\n        //restTemplate.setUriTemplateHandler(new DefaultUriBuilderFactory(this.baseRestUrl));\n        restTemplate.setUriTemplateHandler(new DefaultUriBuilderFactory(&quot;http://localhost:9001&quot;));\n        String url = RestPath.CONTABIL_FINANCEIRO_SERVICE.listaCompetenciaAbertas;\n        ResponseEntity&lt;CompetenciaAbertaResponsetDTO&gt; response = restTemplate.postForEntity(url, request, CompetenciaAbertaResponsetDTO.class);","body":"This is code for RestTemplate:        RestTemplate restTemplate = new RestTemplate();         //restTemplate.setUriTemplateHandler(new DefaultUriBuilderFactory(this.baseRestUrl));         restTemplate.setUriTemplateHandler(new DefaultUriBuilderFactory(&quot;<a href=\"http://localhost:9001&quot;\" rel=\"nofollow noreferrer\">localhost:9001&quot;</a>));         String url = RestPath.CONTABIL_FINANCEIRO_SERVICE.listaCompetenciaAbertas&zwnj;&#8203;;         ResponseEntity&lt;CompetenciaAbertaResponsetDTO&gt; response = restTemplate.postForEntity(url, request, CompetenciaAbertaResponsetDTO.class);"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647543894,"post_id":71515108,"comment_id":126404086,"body_markdown":"Please don&#39;t add code as comments, as that is totally unreadable. 1. you shouldnl&#39;t create a `RestTEmplate` like that as it will impact performance, instead create one in an `@Bean` method and use the `RestTemplateBuilder` instead of `new RestTemplate()`. 2. It is the **response** that is wrong not your code for retrieving, so you need to fix the thing that is sending this.","body":"Please don&#39;t add code as comments, as that is totally unreadable. 1. you shouldnl&#39;t create a <code>RestTEmplate</code> like that as it will impact performance, instead create one in an <code>@Bean</code> method and use the <code>RestTemplateBuilder</code> instead of <code>new RestTemplate()</code>. 2. It is the <b>response</b> that is wrong not your code for retrieving, so you need to fix the thing that is sending this."}],"owner":{"account_id":5589271,"reputation":87,"user_id":4428984,"display_name":"Anderson"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647547740,"creation_date":1647531436,"question_id":71515108,"body_markdown":"I have a response of `List&lt;LocalDate&gt;`\r\nMy Class \r\n\r\n    public class CompetenciaAbertaResponseDTO \r\n        private List&lt;LocalDate&gt; competencias = new ArrayList&lt;&gt;();\r\n    \r\nand response JSON \r\n\r\n    {\r\n      &quot;competencias&quot;: [\r\n        {\r\n          &quot;year&quot;: 2022,\r\n          &quot;month&quot;: &quot;MARCH&quot;,\r\n          &quot;monthValue&quot;: 3,\r\n          &quot;dayOfMonth&quot;: 1,\r\n          &quot;chronology&quot;: {\r\n            &quot;id&quot;: &quot;ISO&quot;,\r\n            &quot;calendarType&quot;: &quot;iso8601&quot;\r\n          },\r\n          &quot;dayOfWeek&quot;: &quot;TUESDAY&quot;,\r\n          &quot;leapYear&quot;: false,\r\n          &quot;dayOfYear&quot;: 60,\r\n          &quot;era&quot;: &quot;CE&quot;\r\n        }\r\n      ]\r\n    }\r\n    \r\nI need read this another service from `RestTemplate` in spring.\r\nLike this\r\n\r\n        ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(url, request, String.class);\r\n        String json = response.getBody()\r\n        CompetenciaAbertaResponsetDTO resp =  objectMapper.readValue(json, CompetenciaAbertaResponsetDTO.class);\r\n\r\nError: \r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `java.time.LocalDate` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)    \r\n\r\n\r\n\r\nAnd when i change for this: \r\n\r\n \r\n\r\n           this.restTemplate.setUriTemplateHandler(new DefaultUriBuilderFactory(&quot;http://localhost:9001&quot;)); \r\n            String url = RestPath.CONTABIL_FINANCEIRO_SERVICE.listaCompetenciaAbertas;\r\n     ResponseEntity&lt;CompetenciaAbertaResponsetDTO&gt; response = restTemplate.postForEntity(url, request, CompetenciaAbertaResponsetDTO.class);\r\n\r\nError:\r\n\r\n    org.springframework.web.client.RestClientException: Error while extracting response for type [class br.com.preventsenior.contasmedicas.infra.rest.client.dto.CompetenciaAbertaResponsetDTO] and content type [application/json]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Expected array or string.; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Expected array or string.\r\n\r\n------------------------------------------------------------------------\r\n\r\n \r\n\r\nI believe it is necessary to create a serialization class. But I don&#39;t know how to do it with a List of `LocalDate`. \r\n\r\nCan you help me please\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"List LocalDate rest spring serialize","body":"<p>I have a response of <code>List&lt;LocalDate&gt;</code>\nMy Class</p>\n<pre><code>public class CompetenciaAbertaResponseDTO \n    private List&lt;LocalDate&gt; competencias = new ArrayList&lt;&gt;();\n</code></pre>\n<p>and response JSON</p>\n<pre><code>{\n  &quot;competencias&quot;: [\n    {\n      &quot;year&quot;: 2022,\n      &quot;month&quot;: &quot;MARCH&quot;,\n      &quot;monthValue&quot;: 3,\n      &quot;dayOfMonth&quot;: 1,\n      &quot;chronology&quot;: {\n        &quot;id&quot;: &quot;ISO&quot;,\n        &quot;calendarType&quot;: &quot;iso8601&quot;\n      },\n      &quot;dayOfWeek&quot;: &quot;TUESDAY&quot;,\n      &quot;leapYear&quot;: false,\n      &quot;dayOfYear&quot;: 60,\n      &quot;era&quot;: &quot;CE&quot;\n    }\n  ]\n}\n</code></pre>\n<p>I need read this another service from <code>RestTemplate</code> in spring.\nLike this</p>\n<pre><code>    ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(url, request, String.class);\n    String json = response.getBody()\n    CompetenciaAbertaResponsetDTO resp =  objectMapper.readValue(json, CompetenciaAbertaResponsetDTO.class);\n</code></pre>\n<p>Error:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `java.time.LocalDate` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)    \n</code></pre>\n<p>And when i change for this:</p>\n<pre><code>       this.restTemplate.setUriTemplateHandler(new DefaultUriBuilderFactory(&quot;http://localhost:9001&quot;)); \n        String url = RestPath.CONTABIL_FINANCEIRO_SERVICE.listaCompetenciaAbertas;\n ResponseEntity&lt;CompetenciaAbertaResponsetDTO&gt; response = restTemplate.postForEntity(url, request, CompetenciaAbertaResponsetDTO.class);\n</code></pre>\n<p>Error:</p>\n<pre><code>org.springframework.web.client.RestClientException: Error while extracting response for type [class br.com.preventsenior.contasmedicas.infra.rest.client.dto.CompetenciaAbertaResponsetDTO] and content type [application/json]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Expected array or string.; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Expected array or string.\n</code></pre>\n<hr />\n<p>I believe it is necessary to create a serialization class. But I don't know how to do it with a List of <code>LocalDate</code>.</p>\n<p>Can you help me please</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1647526816,"post_id":71513869,"comment_id":126397307,"body_markdown":"Does this answer your question? [Spring Boot @OneToMany mapping](https://stackoverflow.com/questions/57915477/spring-boot-onetomany-mapping)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57915477/spring-boot-onetomany-mapping\">Spring Boot @OneToMany mapping</a>"}],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647529041,"creation_date":1647529041,"answer_id":71514494,"question_id":71513869,"body_markdown":"The design is incorrect, a foreign key should always be present on the `many` side in a `one to many` relationship. One employee can have many emails. `Many` is on the email side. One email is associated with one employee only.\r\n\r\nThink about it, if an employee has many emails, how this will be presented in the table `Employee`? in the design provided, there will be duplicate entries for an employee with just the `email_id` which will be different.\r\n\r\nBut if it is the other way around, `employee_id` in the table `Email`. There will be multiple different entries for email and each entry will be associated with a specific employee.\r\n\r\nTherefore `email_id` should not be present in `Employee` instead `employee_id` should be in the table `Email`.","title":"How to create with JPA foreignkey at &#39;One&#39; side table OneToMany","body":"<p>The design is incorrect, a foreign key should always be present on the <code>many</code> side in a <code>one to many</code> relationship. One employee can have many emails. <code>Many</code> is on the email side. One email is associated with one employee only.</p>\n<p>Think about it, if an employee has many emails, how this will be presented in the table <code>Employee</code>? in the design provided, there will be duplicate entries for an employee with just the <code>email_id</code> which will be different.</p>\n<p>But if it is the other way around, <code>employee_id</code> in the table <code>Email</code>. There will be multiple different entries for email and each entry will be associated with a specific employee.</p>\n<p>Therefore <code>email_id</code> should not be present in <code>Employee</code> instead <code>employee_id</code> should be in the table <code>Email</code>.</p>\n"},{"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647547685,"creation_date":1647529173,"answer_id":71514531,"question_id":71513869,"body_markdown":"You add `@JoinColumn(name=&quot;employee _id&quot;, nullable=false)` in your `Email` class as:\r\n\r\n    @Entity\r\n    @Data\r\n    public class Employee {\r\n    ...\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;employee&quot;)\r\n    private List&lt;Email&gt; emailList;\r\n    }\r\n    \r\n    @Entity\r\n    @Data\r\n    public class Email {\r\n    ...\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;employee_id&quot;, nullable=false)\r\n    private Employee employee;\r\n    }\r\n\r\n**Nb : By design the foreign key will be present just in Email table**\r\n\r\n\r\nIf you would like to do this :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eCkUV.png\r\n\r\nthis is the code:\r\n\r\n    @Entity\r\n    @Data\r\n    public class Employee {\r\n    ...\r\n    OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;email_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Email email;\r\n    }\r\n    \r\n    @Entity\r\n    @Data\r\n    public class Email {\r\n    ...\r\n    //remove this relationship\r\n    //@ManyToOne\r\n    //@JoinColumn(name=&quot;employee_id&quot;, nullable=false)\r\n    //private Employee employee;\r\n    }\r\n","title":"How to create with JPA foreignkey at &#39;One&#39; side table OneToMany","body":"<p>You add <code>@JoinColumn(name=&quot;employee _id&quot;, nullable=false)</code> in your <code>Email</code> class as:</p>\n<pre><code>@Entity\n@Data\npublic class Employee {\n...\n@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;employee&quot;)\nprivate List&lt;Email&gt; emailList;\n}\n\n@Entity\n@Data\npublic class Email {\n...\n@ManyToOne\n@JoinColumn(name=&quot;employee_id&quot;, nullable=false)\nprivate Employee employee;\n}\n</code></pre>\n<p><strong>Nb : By design the foreign key will be present just in Email table</strong></p>\n<p>If you would like to do this :\n<a href=\"https://i.stack.imgur.com/eCkUV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eCkUV.png\" alt=\"enter image description here\" /></a></p>\n<p>this is the code:</p>\n<pre><code>@Entity\n@Data\npublic class Employee {\n...\nOneToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;email_id&quot;, referencedColumnName = &quot;id&quot;)\nprivate Email email;\n}\n\n@Entity\n@Data\npublic class Email {\n...\n//remove this relationship\n//@ManyToOne\n//@JoinColumn(name=&quot;employee_id&quot;, nullable=false)\n//private Employee employee;\n}\n</code></pre>\n"}],"owner":{"account_id":22193942,"reputation":3,"user_id":16435605,"display_name":"helsaKidsCom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71514494,"answer_count":2,"score":0,"last_activity_date":1647547685,"creation_date":1647526633,"question_id":71513869,"body_markdown":"I have two class Employee and Email with relational OneToMany &amp; ManyToOne.\r\n\r\nHow to create / generate with JPA table, foreignkey column ex:(email_id) at Employee table ?\r\n\r\n[this is image ERD Table Employee(OneToMany) &amp; Email][1]\r\n\r\n```\r\n@Entity\r\n@Data\r\npublic class Employee {\r\n@Id\r\nprivate Long id;\r\nprivate String name;\r\nprivate String address;\r\n@OneToMany\r\nprivate List&lt;Email&gt; emailList;\r\n}\r\n\r\n@Entity\r\n@Data\r\npublic class Email {\r\n@Id\r\nprivate Long id;\r\nprivate String email;\r\n@ManyToOne\r\nprivate Employee employee;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yQIA8.png","title":"How to create with JPA foreignkey at &#39;One&#39; side table OneToMany","body":"<p>I have two class Employee and Email with relational OneToMany &amp; ManyToOne.</p>\n<p>How to create / generate with JPA table, foreignkey column ex:(email_id) at Employee table ?</p>\n<p><a href=\"https://i.stack.imgur.com/yQIA8.png\" rel=\"nofollow noreferrer\">this is image ERD Table Employee(OneToMany) &amp; Email</a></p>\n<pre><code>@Entity\n@Data\npublic class Employee {\n@Id\nprivate Long id;\nprivate String name;\nprivate String address;\n@OneToMany\nprivate List&lt;Email&gt; emailList;\n}\n\n@Entity\n@Data\npublic class Email {\n@Id\nprivate Long id;\nprivate String email;\n@ManyToOne\nprivate Employee employee;\n}\n</code></pre>\n"},{"tags":["java","database","postgresql","spring-boot","csv"],"comments":[{"owner":{"account_id":10969163,"reputation":6667,"user_id":8060017,"display_name":"Edouard"},"score":0,"creation_date":1639663891,"post_id":70380362,"comment_id":124410428,"body_markdown":"First you import the csv data into a temporary table with `COPY`, then you `UPDATE` your table from the temporary table.","body":"First you import the csv data into a temporary table with <code>COPY</code>, then you <code>UPDATE</code> your table from the temporary table."}],"answers":[{"tags":[],"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639664109,"creation_date":1639664109,"answer_id":70380497,"question_id":70380362,"body_markdown":"Try this code. Using BufferedReader to read file and loop every line then every column.\r\n    \r\n    String path = &quot;file.csv&quot;;\r\n    String line = &quot;&quot;;\r\n    String splitBy = &quot;,&quot;;\r\n\ttry {\r\n\t\t// parsing a CSV file into BufferedReader\r\n\t\tBufferedReader br = new BufferedReader(new FileReader(path));\r\n        // read file line by line\r\n\t\twhile ((line = br.readLine()) != null) // returns a Boolean value\r\n\t\t{\r\n            // spilt column values by comma\r\n\t\t\tString[] row = line.split(splitBy); // use comma as separator\r\n            // print every column value\r\n\t\t\tfor (int i = 0; i &lt; row.length; i++)\r\n\t\t\t\tSystem.out.println(row[i]);\r\n\t\t}\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nI modified a bit from this web site: https://www.javatpoint.com/how-to-read-csv-file-in-java","title":"How to update database through CSV for some columns","body":"<p>Try this code. Using BufferedReader to read file and loop every line then every column.</p>\n<pre><code>String path = &quot;file.csv&quot;;\nString line = &quot;&quot;;\nString splitBy = &quot;,&quot;;\ntry {\n    // parsing a CSV file into BufferedReader\n    BufferedReader br = new BufferedReader(new FileReader(path));\n    // read file line by line\n    while ((line = br.readLine()) != null) // returns a Boolean value\n    {\n        // spilt column values by comma\n        String[] row = line.split(splitBy); // use comma as separator\n        // print every column value\n        for (int i = 0; i &lt; row.length; i++)\n            System.out.println(row[i]);\n    }\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>I modified a bit from this web site: <a href=\"https://www.javatpoint.com/how-to-read-csv-file-in-java\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/how-to-read-csv-file-in-java</a></p>\n"},{"tags":[],"owner":{"account_id":23973748,"reputation":11,"user_id":17962090,"display_name":"Thomasovellgkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647547238,"creation_date":1647547238,"answer_id":71518347,"question_id":70380362,"body_markdown":"The task aims to replace certain data in a database table with corresponding values in a CSV file. To use Java directly for doing this requires loading the CSV file to the database and store it as a temporary table. That’s a hassle.\r\n\r\nIt is easy to do this using Java’s open-source package SPL. You just need one line of code:\r\n\r\n|　|A|\r\n|:-|:-|\r\n|1|=RDB.update@u(file(&quot;update_info.csv&quot;).import@ct(),infotable,link_name,title,browser_title)|\r\n\r\nSPL offers JDBC driver to be invoked by Java. Just store the above SPL script as update.splx and invoke it in Java as you call a stored procedure:\r\n\r\n    …\r\n    \r\n    Class.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\r\n    \r\n    con&#160;= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\r\n    \r\n    st&#160;=&#160;con.prepareCall(&quot;call update ()&quot;);\r\n    \r\n    st.execute();\r\n    \r\n    …\r\n\r\nOr execute the SPL string within a Java program as we execute a SQL statement:\r\n\r\n    …\r\n    \r\n    st = con.prepareStatement(&quot;==RDB.update@u(file(\\&quot;update_info.csv\\&quot;).import@ct(),\r\n    infotable,link_name,title,browser_title)&quot;);\r\n    \r\n    st.execute();\r\n    \r\n    …\r\n\r\nView [SPL source code.][1]\r\n\r\n\r\n  [1]: https://github.com/SPLWare/esProc","title":"How to update database through CSV for some columns","body":"<p>The task aims to replace certain data in a database table with corresponding values in a CSV file. To use Java directly for doing this requires loading the CSV file to the database and store it as a temporary table. That’s a hassle.</p>\n<p>It is easy to do this using Java’s open-source package SPL. You just need one line of code:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">　</th>\n<th style=\"text-align: left;\">A</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">=RDB.update@u(file(&quot;update_info.csv&quot;).import@ct(),infotable,link_name,title,browser_title)</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>SPL offers JDBC driver to be invoked by Java. Just store the above SPL script as update.splx and invoke it in Java as you call a stored procedure:</p>\n<pre><code>…\n\nClass.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\n\ncon = DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\n\nst = con.prepareCall(&quot;call update ()&quot;);\n\nst.execute();\n\n…\n</code></pre>\n<p>Or execute the SPL string within a Java program as we execute a SQL statement:</p>\n<pre><code>…\n\nst = con.prepareStatement(&quot;==RDB.update@u(file(\\&quot;update_info.csv\\&quot;).import@ct(),\ninfotable,link_name,title,browser_title)&quot;);\n\nst.execute();\n\n…\n</code></pre>\n<p>View <a href=\"https://github.com/SPLWare/esProc\" rel=\"nofollow noreferrer\">SPL source code.</a></p>\n"}],"owner":{"account_id":21938528,"reputation":59,"user_id":16219386,"display_name":"Adarsh Awasthi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647547238,"creation_date":1639663558,"question_id":70380362,"body_markdown":"i have table in which there are columns like id, link_name ,browser_title ,title ,content etc..\r\n\r\n\r\nwhich contain the relevant information\r\nnow i have the file  CSV which contains new title and browser_title values for some link\r\n_names( CSV  looks like -- link_name, title, browser_title) now i have to update the values for title and browser_title . \r\n\r\n\r\ncan anyone suggest what should be the good way to do that","title":"How to update database through CSV for some columns","body":"<p>i have table in which there are columns like id, link_name ,browser_title ,title ,content etc..</p>\n<p>which contain the relevant information\nnow i have the file  CSV which contains new title and browser_title values for some link\n_names( CSV  looks like -- link_name, title, browser_title) now i have to update the values for title and browser_title .</p>\n<p>can anyone suggest what should be the good way to do that</p>\n"},{"tags":["java","watchservice"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1647545572,"post_id":71517944,"comment_id":126404700,"body_markdown":"Tell us, please, how is this related to Spring Integration or Spring Boot at all? Looks like you just use `WatchService` directly...","body":"Tell us, please, how is this related to Spring Integration or Spring Boot at all? Looks like you just use <code>WatchService</code> directly..."},{"owner":{"account_id":2545402,"reputation":31,"user_id":2210313,"display_name":"rainie1636"},"score":0,"creation_date":1647546821,"post_id":71517944,"comment_id":126405105,"body_markdown":"Hi, I was using WatchService inside of Spring Integration using FileReadingMessageSource. But you get the point this is only related to watchservice, let me remove the spring tag. Thanks","body":"Hi, I was using WatchService inside of Spring Integration using FileReadingMessageSource. But you get the point this is only related to watchservice, let me remove the spring tag. Thanks"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1647547147,"post_id":71517944,"comment_id":126405226,"body_markdown":"If you use `FileReadingMessageSource`,. I don&#39;t see how could you use `WatchService` with a custom logic like that. The `FileReadingMessageSource` is configured for `WatchEventType.CREATE` by default and can be supplied with `FileListFilter` to filter out files from the watch service events. I&#39;m not sure what else you would need and why to think about a custom logic: https://docs.spring.io/spring-integration/docs/current/reference/html/file.html#file-reading","body":"If you use <code>FileReadingMessageSource</code>,. I don&#39;t see how could you use <code>WatchService</code> with a custom logic like that. The <code>FileReadingMessageSource</code> is configured for <code>WatchEventType.CREATE</code> by default and can be supplied with <code>FileListFilter</code> to filter out files from the watch service events. I&#39;m not sure what else you would need and why to think about a custom logic: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/file.html#file-reading\" rel=\"nofollow noreferrer\">docs.spring.io/spring-integration/docs/current/reference/htm&zwnj;&#8203;l/&hellip;</a>"},{"owner":{"account_id":2545402,"reputation":31,"user_id":2210313,"display_name":"rainie1636"},"score":0,"creation_date":1647629174,"post_id":71517944,"comment_id":126427456,"body_markdown":"@ArtemBilan Hi, I tried to filter out with both RegexPatternFileListFilter and SimplePatternFileListFilter but I tried getting events notification form the files i dont want to get notification from. Can you show me how to please","body":"@ArtemBilan Hi, I tried to filter out with both RegexPatternFileListFilter and SimplePatternFileListFilter but I tried getting events notification form the files i dont want to get notification from. Can you show me how to please"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1647630018,"post_id":71517944,"comment_id":126427708,"body_markdown":"I&#39;m not fully understand your question. Please, give an example: this is what I want to produce as a message and this I don&#39;t want.","body":"I&#39;m not fully understand your question. Please, give an example: this is what I want to produce as a message and this I don&#39;t want."}],"owner":{"account_id":2545402,"reputation":31,"user_id":2210313,"display_name":"rainie1636"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647546839,"creation_date":1647544917,"question_id":71517944,"body_markdown":"currently i&#39;m using an if statement to filter out watch event based on file name. if there a way for me to only getting notification from certain files based on filename pattern only?\r\nThanks\r\n\r\n     if (event.kind() == StandardWatchEventKinds.ENTRY_CREATE) {\r\n              Path item = (Path) event.context();\r\n              Path dir = (Path) key.watchable();\r\n              if(FilenameUtils.getExtension( item.toFile().getName()) == &quot;.xml&quot;)\r\n              System.out.println(&quot;ENTRY_CREATE: &quot; + item.toFile().getName());\r\n    }","title":"WatchService: Filter event notification based on filename pattern","body":"<p>currently i'm using an if statement to filter out watch event based on file name. if there a way for me to only getting notification from certain files based on filename pattern only?\nThanks</p>\n<pre><code> if (event.kind() == StandardWatchEventKinds.ENTRY_CREATE) {\n          Path item = (Path) event.context();\n          Path dir = (Path) key.watchable();\n          if(FilenameUtils.getExtension( item.toFile().getName()) == &quot;.xml&quot;)\n          System.out.println(&quot;ENTRY_CREATE: &quot; + item.toFile().getName());\n}\n</code></pre>\n"},{"tags":["java","oop"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647508980,"creation_date":1647508980,"answer_id":71509803,"question_id":71509749,"body_markdown":"Using Generics, it would work as follows:\r\n\r\n    public static &lt;T&gt; void printAnything(T anything){\r\n        System.out.println(anything);\r\n    }\r\n\r\n    public static void main(String[] args){\r\n\r\n        printAnything(new SyncPart());\r\n    }","title":"Java: Function parameter that takes any type","body":"<p>Using Generics, it would work as follows:</p>\n<pre><code>public static &lt;T&gt; void printAnything(T anything){\n    System.out.println(anything);\n}\n\npublic static void main(String[] args){\n\n    printAnything(new SyncPart());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647509116,"creation_date":1647509116,"answer_id":71509832,"question_id":71509749,"body_markdown":"The generics shown in [SMA&#39;s answer](https://stackoverflow.com/a/71509803/3788176) are unnecessary: just take `Object` as your parameter type:\r\n\r\n```\r\npublic static void printAnything(Object anything){\r\n    System.out.println(anything);\r\n}\r\n```","title":"Java: Function parameter that takes any type","body":"<p>The generics shown in <a href=\"https://stackoverflow.com/a/71509803/3788176\">SMA's answer</a> are unnecessary: just take <code>Object</code> as your parameter type:</p>\n<pre><code>public static void printAnything(Object anything){\n    System.out.println(anything);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647546765,"creation_date":1647509494,"answer_id":71509933,"question_id":71509749,"body_markdown":"Any type is not possible. Primitives will stop you from what you&#39;re doing.\r\n\r\nBut you can use `void myFunction(Object anyObject) {}` for example, and give it any Class-type = reference-type Object.\r\n\r\nIf you still wanna include primitives, you have to split up to multiple methods:\r\n\r\n\r\n    package stackoverflow;\r\n    \r\n    public class ClassOverload {\r\n    \r\n    \r\n    \r\n    \t// central method\r\n    \tstatic public void myMethod(final Object pObject) {\r\n    \t\tfinal String type = pObject == null ? null : pObject.getClass().getSimpleName();\r\n    \t\tSystem.out.println(&quot;ClassOverload.myMethod(&quot; + pObject + &quot;) of type &quot; + type);\r\n    \t}\r\n    \r\n    \t// primitive overloading methods\r\n    \tstatic public void myMethod(final boolean pValue) { // absolutely needed\r\n    \t\tmyMethod(Boolean.valueOf(pValue));\r\n    \t}\r\n    \tstatic public void myMethod(final char pValue) { // absolutely needed\r\n    \t\tmyMethod(Character.valueOf(pValue));\r\n    \t}\r\n    \tstatic public void myMethod(final byte pValue) {\r\n    \t\tmyMethod(Byte.valueOf(pValue));\r\n    \t}\r\n    \tstatic public void myMethod(final short pValue) {\r\n    \t\tmyMethod(Short.valueOf(pValue));\r\n    \t}\r\n    \tstatic public void myMethod(final int pValue) {\r\n    \t\tmyMethod(Integer.valueOf(pValue));\r\n    \t}\r\n    \tstatic public void myMethod(final long pValue) { // absolutely needed\r\n    \t\tmyMethod(Long.valueOf(pValue));\r\n    \t}\r\n    \tstatic public void myMethod(final float pValue) {\r\n    \t\tmyMethod(Float.valueOf(pValue));\r\n    \t}\r\n    \tstatic public void myMethod(final double pValue) { // absolutely needed\r\n    \t\tmyMethod(Double.valueOf(pValue));\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nThis will convert your primitives to their reference type and keep the type as close to the original as possible.\r\n\r\nIf you wanna reduce the methods, you could just keep the `boolean`, `long` and `double` methods. All other primitives can be cast into one of those three: \r\n - `boolean` will use the `boolean` method.\r\n - `char` will use the `char` method.\r\n - `byte`, `short`, `int` and `long` (all &quot;whole number&quot; integer values, as opposed to floating-point values) will use the `long` method.\r\n - `float` and `double` (floating-point) will use the `double` method.","title":"Java: Function parameter that takes any type","body":"<p>Any type is not possible. Primitives will stop you from what you're doing.</p>\n<p>But you can use <code>void myFunction(Object anyObject) {}</code> for example, and give it any Class-type = reference-type Object.</p>\n<p>If you still wanna include primitives, you have to split up to multiple methods:</p>\n<pre><code>package stackoverflow;\n\npublic class ClassOverload {\n\n\n\n    // central method\n    static public void myMethod(final Object pObject) {\n        final String type = pObject == null ? null : pObject.getClass().getSimpleName();\n        System.out.println(&quot;ClassOverload.myMethod(&quot; + pObject + &quot;) of type &quot; + type);\n    }\n\n    // primitive overloading methods\n    static public void myMethod(final boolean pValue) { // absolutely needed\n        myMethod(Boolean.valueOf(pValue));\n    }\n    static public void myMethod(final char pValue) { // absolutely needed\n        myMethod(Character.valueOf(pValue));\n    }\n    static public void myMethod(final byte pValue) {\n        myMethod(Byte.valueOf(pValue));\n    }\n    static public void myMethod(final short pValue) {\n        myMethod(Short.valueOf(pValue));\n    }\n    static public void myMethod(final int pValue) {\n        myMethod(Integer.valueOf(pValue));\n    }\n    static public void myMethod(final long pValue) { // absolutely needed\n        myMethod(Long.valueOf(pValue));\n    }\n    static public void myMethod(final float pValue) {\n        myMethod(Float.valueOf(pValue));\n    }\n    static public void myMethod(final double pValue) { // absolutely needed\n        myMethod(Double.valueOf(pValue));\n    }\n\n\n\n}\n</code></pre>\n<p>This will convert your primitives to their reference type and keep the type as close to the original as possible.</p>\n<p>If you wanna reduce the methods, you could just keep the <code>boolean</code>, <code>long</code> and <code>double</code> methods. All other primitives can be cast into one of those three:</p>\n<ul>\n<li><code>boolean</code> will use the <code>boolean</code> method.</li>\n<li><code>char</code> will use the <code>char</code> method.</li>\n<li><code>byte</code>, <code>short</code>, <code>int</code> and <code>long</code> (all &quot;whole number&quot; integer values, as opposed to floating-point values) will use the <code>long</code> method.</li>\n<li><code>float</code> and <code>double</code> (floating-point) will use the <code>double</code> method.</li>\n</ul>\n"}],"owner":{"account_id":20855105,"reputation":31,"user_id":15318643,"display_name":"wasd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":3,"score":-4,"last_activity_date":1647546765,"creation_date":1647508739,"question_id":71509749,"body_markdown":"Im writing a Java function to output things to the console with a certain format, but I need one of the parameters to accept any type as an argument. How do i do this?","title":"Java: Function parameter that takes any type","body":"<p>Im writing a Java function to output things to the console with a certain format, but I need one of the parameters to accept any type as an argument. How do i do this?</p>\n"},{"tags":["java","avro"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647546534,"creation_date":1647546534,"answer_id":71518244,"question_id":71506738,"body_markdown":"&gt; `myGenericRecord.get(&quot;nestedObjectLevel1.nestedObjectLevel2.targetStringValue&quot;)`\r\n\r\n&gt; How can I do that with Avro GenericRecord ?\r\n\r\nUnfortunately, that isn&#39;t possible. \r\n\r\nYou could try to convert the Avro object using JSON using `JSONDecoder` class, then using JSONPath to do something very similar with that, though. ","title":"avro GenericRecord get nested value in single call","body":"<blockquote>\n<p><code>myGenericRecord.get(&quot;nestedObjectLevel1.nestedObjectLevel2.targetStringValue&quot;)</code></p>\n</blockquote>\n<blockquote>\n<p>How can I do that with Avro GenericRecord ?</p>\n</blockquote>\n<p>Unfortunately, that isn't possible.</p>\n<p>You could try to convert the Avro object using JSON using <code>JSONDecoder</code> class, then using JSONPath to do something very similar with that, though.</p>\n"}],"owner":{"account_id":3784660,"reputation":1471,"user_id":3143009,"accept_rate":4,"display_name":"soung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":766,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647546569,"creation_date":1647487542,"question_id":71506738,"body_markdown":"Having an avro schema with nested object like that : \r\n\r\n    {\r\n       &quot;fields&quot;:[\r\n          {\r\n             &quot;name&quot;:&quot;valueLevel1&quot;,\r\n             &quot;type&quot;:&quot;string&quot;\r\n          },\r\n          {\r\n             &quot;name&quot;:&quot;nestedObjectLevel1&quot;,\r\n             &quot;type&quot;:[\r\n                {\r\n                   &quot;type&quot;:&quot;record&quot;,\r\n                   &quot;name&quot;:&quot;nestedObjectLevel2&quot;,\r\n                   &quot;fields&quot;:[\r\n                      {\r\n                       &quot;name&quot;:&quot;targetStringValue&quot;,\r\n                       &quot;type&quot;:&quot;string&quot;\r\n                       }\r\n                   ]\r\n                }\r\n             ]\r\n          },\r\n       &quot;name&quot;:&quot;myRecordName&quot;,\r\n       &quot;namespace&quot;:&quot;com.mycompany&quot;,\r\n       &quot;type&quot;:&quot;record&quot;\r\n    }\r\n\r\n\r\nTo get targetStringValue, we have to traverse all nested objects: \r\n\r\n        GenericRecord nestedObjectLevel1 = (GenericRecord)myGenericRecord.get(&quot;nestedObjectLevel1 &quot;);\r\n        GenericRecord nestedObjectLevel2= (GenericRecord)nestedObjectLevel1 .get(&quot;nestedObjectLevel2&quot;);\r\n        String value = (String )nestedObjectLevel2.get(&quot;targetStringValue&quot;);\r\n    \r\n    \r\n    \r\nFor performance reason, It will be nice to get directly the field targetStringValue by something like : \r\n\r\n    myGenericRecord.get(&quot;nestedObjectLevel1.nestedObjectLevel2.targetStringValue&quot;)\r\n\r\nHow can I do that with Avro GenericRecord ?\r\n\r\nPS : I know I can use type safe SpecificRecord but i don&#39;t want to do that for some other reason.","title":"avro GenericRecord get nested value in single call","body":"<p>Having an avro schema with nested object like that :</p>\n<pre><code>{\n   &quot;fields&quot;:[\n      {\n         &quot;name&quot;:&quot;valueLevel1&quot;,\n         &quot;type&quot;:&quot;string&quot;\n      },\n      {\n         &quot;name&quot;:&quot;nestedObjectLevel1&quot;,\n         &quot;type&quot;:[\n            {\n               &quot;type&quot;:&quot;record&quot;,\n               &quot;name&quot;:&quot;nestedObjectLevel2&quot;,\n               &quot;fields&quot;:[\n                  {\n                   &quot;name&quot;:&quot;targetStringValue&quot;,\n                   &quot;type&quot;:&quot;string&quot;\n                   }\n               ]\n            }\n         ]\n      },\n   &quot;name&quot;:&quot;myRecordName&quot;,\n   &quot;namespace&quot;:&quot;com.mycompany&quot;,\n   &quot;type&quot;:&quot;record&quot;\n}\n</code></pre>\n<p>To get targetStringValue, we have to traverse all nested objects:</p>\n<pre><code>    GenericRecord nestedObjectLevel1 = (GenericRecord)myGenericRecord.get(&quot;nestedObjectLevel1 &quot;);\n    GenericRecord nestedObjectLevel2= (GenericRecord)nestedObjectLevel1 .get(&quot;nestedObjectLevel2&quot;);\n    String value = (String )nestedObjectLevel2.get(&quot;targetStringValue&quot;);\n</code></pre>\n<p>For performance reason, It will be nice to get directly the field targetStringValue by something like :</p>\n<pre><code>myGenericRecord.get(&quot;nestedObjectLevel1.nestedObjectLevel2.targetStringValue&quot;)\n</code></pre>\n<p>How can I do that with Avro GenericRecord ?</p>\n<p>PS : I know I can use type safe SpecificRecord but i don't want to do that for some other reason.</p>\n"},{"tags":["java","eclipse","exception","try-catch","inputmismatchexception"],"answers":[{"tags":[],"owner":{"account_id":19357099,"reputation":41,"user_id":16293155,"display_name":"twynb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647546351,"creation_date":1647546351,"answer_id":71518206,"question_id":71515884,"body_markdown":"You could use a try-catch-block around the sc.nextInt() call to avoid losing your scanner on the outside try-catch-block:\r\n\r\n```\r\ntry(Scanner sc = new Scanner(System.in) {\r\n    //program before first input\r\n    boolean validInput = false;\r\n    do {\r\n        try {\r\n            userOption = sc.nextInt();\r\n            validInput = true;\r\n        } catch (Exception e) {\r\n            //exception handling\r\n        }\r\n    } while (!validInput);\r\n}\r\n//catch block","title":"How do I resolve an inputmismatchexception from user whilst using the java try with resources feature","body":"<p>You could use a try-catch-block around the sc.nextInt() call to avoid losing your scanner on the outside try-catch-block:</p>\n<pre><code>try(Scanner sc = new Scanner(System.in) {\n    //program before first input\n    boolean validInput = false;\n    do {\n        try {\n            userOption = sc.nextInt();\n            validInput = true;\n        } catch (Exception e) {\n            //exception handling\n        }\n    } while (!validInput);\n}\n//catch block\n</code></pre>\n"}],"owner":{"account_id":23721142,"reputation":3,"user_id":17741679,"display_name":"Cameron Grant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647546351,"creation_date":1647534589,"question_id":71515884,"body_markdown":"I&#39;ve found that if I use the try with resources feature java provides which will automatically close of resources, I then can&#39;t use a boolean flag (or recursion) to resolve an InputMismatchException within a try catch as the catch block seems to be out of range of the scanner. As a result if an invalid character is entered e.g. a letter key for a menu, the that the enter key cannot be dismissed by sc.next() puts the programme into an infinite loop. I&#39;ve attached a bit of sample code to demonstrate what I mean. Not sure if this is something that can be resolved or if it is just best to instantiate the scanner outside of the try catch block?\r\nI have tried instantiating the scanner outside of the try catch block and then closing it off with sc.close at the end of the method this works ok. I am just curious if there is a way around this as the try with resources is a useful feature in avoiding human error.\r\n\r\n/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tdisplayMenuAndProcessUserOption();\r\n\r\n\t}\r\n\r\n\tpublic static void displayMenuAndProcessUserOption() {\r\n\r\n\t\t//Scanner sc = new Scanner(System.in); if scanner declared outside of try catch programme runs ok\r\n\t\tint userOption = 0;\r\n\t\tboolean flag = false;\r\n\r\n\t\tdo {\r\n\r\n\t\t\ttry(Scanner sc = new Scanner(System.in);) {\r\n\t\t\t\tdo {\r\n\r\n\t\t\t\t\tSystem.out.println(&quot;1. Do something&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;2. Exit&quot;);\r\n\r\n\t\t\t\t\tuserOption = sc.nextInt();\r\n\r\n\t\t\t\t\tswitch (userOption) {\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tSystem.out.println(&quot;Does something&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tSystem.out.println(&quot;Exiting. Bye&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tSystem.out.println(&quot;Invalid num&quot;);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} while (userOption != 2);\r\n\t\t\t\tflag = true;\r\n\r\n\t\t\t} catch (InputMismatchException inputMismatchException) {\r\n\t\t\t\tSystem.err.println(&quot;Invalid input format. Please enter a numerical value from the menu options&quot;);\r\n\t\t\t\tflag = false;\r\n\t\t\t\t/**\r\n\t\t\t\t * when using the try with resources this is out of range for the Scanner: sc.\r\n\t\t\t\t * However without it the enter character is not dismissed and puts the\r\n\t\t\t\t * programme into an infinite loop\r\n\t\t\t\t */\r\n\t\t\t\tsc.next();\r\n\t\t\t}\r\n\r\n\t\t} while (!flag);\r\n\t}\r\n\r\n}\r\n","title":"How do I resolve an inputmismatchexception from user whilst using the java try with resources feature","body":"<p>I've found that if I use the try with resources feature java provides which will automatically close of resources, I then can't use a boolean flag (or recursion) to resolve an InputMismatchException within a try catch as the catch block seems to be out of range of the scanner. As a result if an invalid character is entered e.g. a letter key for a menu, the that the enter key cannot be dismissed by sc.next() puts the programme into an infinite loop. I've attached a bit of sample code to demonstrate what I mean. Not sure if this is something that can be resolved or if it is just best to instantiate the scanner outside of the try catch block?\nI have tried instantiating the scanner outside of the try catch block and then closing it off with sc.close at the end of the method this works ok. I am just curious if there is a way around this as the try with resources is a useful feature in avoiding human error.</p>\n<p>/**\n* @param args\n*/\npublic static void main(String[] args) {</p>\n<pre><code>    displayMenuAndProcessUserOption();\n\n}\n\npublic static void displayMenuAndProcessUserOption() {\n\n    //Scanner sc = new Scanner(System.in); if scanner declared outside of try catch programme runs ok\n    int userOption = 0;\n    boolean flag = false;\n\n    do {\n\n        try(Scanner sc = new Scanner(System.in);) {\n            do {\n\n                System.out.println(&quot;1. Do something&quot;);\n                System.out.println(&quot;2. Exit&quot;);\n\n                userOption = sc.nextInt();\n\n                switch (userOption) {\n                case 1:\n                    System.out.println(&quot;Does something&quot;);\n                    break;\n                case 2:\n                    System.out.println(&quot;Exiting. Bye&quot;);\n                    break;\n                default:\n                    System.out.println(&quot;Invalid num&quot;);\n\n                }\n\n            } while (userOption != 2);\n            flag = true;\n\n        } catch (InputMismatchException inputMismatchException) {\n            System.err.println(&quot;Invalid input format. Please enter a numerical value from the menu options&quot;);\n            flag = false;\n            /**\n             * when using the try with resources this is out of range for the Scanner: sc.\n             * However without it the enter character is not dismissed and puts the\n             * programme into an infinite loop\n             */\n            sc.next();\n        }\n\n    } while (!flag);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","http","gson","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":12010948,"reputation":300,"user_id":8787636,"display_name":"med.Hamdan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552121224,"creation_date":1552121224,"answer_id":55075563,"question_id":55075322,"body_markdown":"if the json converters don&#39;t meet your needs you&#39;ll need to Add a customized converter factory for serialization and deserialization of your objects. consider this [case][1].\r\ni wish you&#39;ll find this [article][2] helpful.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46969104/retrofit-deserializing-list-of-objects-into-different-types\r\n  [2]: https://futurestud.io/tutorials/retrofit-2-adding-customizing-the-gson-converter","title":"why addConverterFactory is need in Retrofit","body":"<p>if the json converters don't meet your needs you'll need to Add a customized converter factory for serialization and deserialization of your objects. consider this <a href=\"https://stackoverflow.com/questions/46969104/retrofit-deserializing-list-of-objects-into-different-types\">case</a>.\ni wish you'll find this <a href=\"https://futurestud.io/tutorials/retrofit-2-adding-customizing-the-gson-converter\" rel=\"nofollow noreferrer\">article</a> helpful.</p>\n"},{"tags":[],"owner":{"account_id":5659394,"reputation":1769,"user_id":4477481,"accept_rate":80,"display_name":"Narek Hayrapetyan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1616417601,"creation_date":1552121302,"answer_id":55075568,"question_id":55075322,"body_markdown":"UPDATE:\r\n\r\nPojo objects in Kotlin are **data classes** and annotation use is as in Java\r\n\r\nANSWER:\r\n\r\nIf your application is Restful, so gets and sends data from / to server\r\n\r\nConverter factory need to be added, just for retrofit can convert JSON data (got from server) into java (model) objects (POJO), to use in Android Project.\r\n\r\nThere are some converter libraries for converting JSON to Java objects, \r\n(GSON, Jackson..etc) you have to decide which converter you want to use in your project and add same factory\r\n\r\nDependencies in app.gradle\r\n\r\n `implementation &quot;com.squareup.retrofit2:converter-gson:VERSION&quot;`\r\n\r\n and Factories in Retrofit settings\r\n\r\n`GsonConverterFactory` or `JacksonConverterFactory`\r\n\r\n    Retrofit.Builder().addConverterFactory(GsonConverterFactory.create());\r\n\r\nAlso if the remote data type is XML, you need to add `SimpleXmlConverterFactory`","title":"why addConverterFactory is need in Retrofit","body":"<p>UPDATE:</p>\n<p>Pojo objects in Kotlin are <strong>data classes</strong> and annotation use is as in Java</p>\n<p>ANSWER:</p>\n<p>If your application is Restful, so gets and sends data from / to server</p>\n<p>Converter factory need to be added, just for retrofit can convert JSON data (got from server) into java (model) objects (POJO), to use in Android Project.</p>\n<p>There are some converter libraries for converting JSON to Java objects,\n(GSON, Jackson..etc) you have to decide which converter you want to use in your project and add same factory</p>\n<p>Dependencies in app.gradle</p>\n<p><code>implementation &quot;com.squareup.retrofit2:converter-gson:VERSION&quot;</code></p>\n<p>and Factories in Retrofit settings</p>\n<p><code>GsonConverterFactory</code> or <code>JacksonConverterFactory</code></p>\n<pre><code>Retrofit.Builder().addConverterFactory(GsonConverterFactory.create());\n</code></pre>\n<p>Also if the remote data type is XML, you need to add <code>SimpleXmlConverterFactory</code></p>\n"},{"tags":[],"owner":{"account_id":139113,"reputation":16537,"user_id":344487,"accept_rate":73,"display_name":"Fred"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552202772,"creation_date":1552202772,"answer_id":55085437,"question_id":55075322,"body_markdown":"The world is not just json and gson. There are other formats that you can use to implement Rest Apis, i.e. XML.\r\n\r\nAlso, in the world of json parsers there&#39;s not only `gson` but way more like Jackson and Moshi.\r\n\r\nIt would be extremely difficult to maintain all possible format converters inside Retrofit, so it offloads the parsing to classes that implement the interface for a converter. Putting this behind a factory lets Retrofit decouple even the creation of these converters, so it can have different ones for different responses and requests.\r\n\r\nThis also allows you to have multiple converters within the same Retrofit instance and it&#39;s also an easy way to let you implement your own converter.\r\n\r\nAll in all, this decoupling allows for way more flexibility than coupling it with specific libraries.","title":"why addConverterFactory is need in Retrofit","body":"<p>The world is not just json and gson. There are other formats that you can use to implement Rest Apis, i.e. XML.</p>\n\n<p>Also, in the world of json parsers there's not only <code>gson</code> but way more like Jackson and Moshi.</p>\n\n<p>It would be extremely difficult to maintain all possible format converters inside Retrofit, so it offloads the parsing to classes that implement the interface for a converter. Putting this behind a factory lets Retrofit decouple even the creation of these converters, so it can have different ones for different responses and requests.</p>\n\n<p>This also allows you to have multiple converters within the same Retrofit instance and it's also an easy way to let you implement your own converter.</p>\n\n<p>All in all, this decoupling allows for way more flexibility than coupling it with specific libraries.</p>\n"},{"tags":[],"owner":{"account_id":7660127,"reputation":155,"user_id":5805687,"display_name":"Jhonatan S. Souza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647546344,"creation_date":1647546344,"answer_id":71518204,"question_id":55075322,"body_markdown":"If you are using Spring, you should create a mapper configuration (or use a default, like in this example), in the retrofit configuration, you should att this code:\r\n\r\n    @Bean\r\n    fun retrofitBuilder(): Retrofit.Builder {\r\n        return Retrofit.Builder()\r\n            .addConverterFactory(JacksonConverterFactory.create(ObjectMapper()))\r\n    }\r\n\r\nThen, in your application could read and write Kotlin data class Json, even with no @ information.","title":"why addConverterFactory is need in Retrofit","body":"<p>If you are using Spring, you should create a mapper configuration (or use a default, like in this example), in the retrofit configuration, you should att this code:</p>\n<pre><code>@Bean\nfun retrofitBuilder(): Retrofit.Builder {\n    return Retrofit.Builder()\n        .addConverterFactory(JacksonConverterFactory.create(ObjectMapper()))\n}\n</code></pre>\n<p>Then, in your application could read and write Kotlin data class Json, even with no @ information.</p>\n"}],"owner":{"account_id":6594219,"reputation":702,"user_id":5094531,"display_name":"Ayush Bansal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13822,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":4,"score":6,"last_activity_date":1647546344,"creation_date":1552119206,"question_id":55075322,"body_markdown":"My question is around Retrofit and GSON. I know GSON is used for JAVA object &lt;-&gt; JSON . I know that Retrofit parses our response. What i don&#39;t understand is why we need GsonConverterFactory .Also why is addConverterFactory needed in retrofit","title":"why addConverterFactory is need in Retrofit","body":"<p>My question is around Retrofit and GSON. I know GSON is used for JAVA object &lt;-> JSON . I know that Retrofit parses our response. What i don't understand is why we need GsonConverterFactory .Also why is addConverterFactory needed in retrofit</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":13804442,"reputation":61,"user_id":9963708,"display_name":"BGS"},"score":0,"creation_date":1648782466,"post_id":71499301,"comment_id":126717149,"body_markdown":"Can anyone help with this question?","body":"Can anyone help with this question?"},{"owner":{"account_id":5952929,"reputation":8862,"user_id":4680436,"accept_rate":50,"display_name":"aristotll"},"score":0,"creation_date":1673317645,"post_id":71499301,"comment_id":132466885,"body_markdown":"Because of type erasure, I don&#39;t think what you want is possible. You need create an object to retain the generic information like TypeReference object","body":"Because of type erasure, I don&#39;t think what you want is possible. You need create an object to retain the generic information like TypeReference object"},{"owner":{"account_id":13804442,"reputation":61,"user_id":9963708,"display_name":"BGS"},"score":0,"creation_date":1673488591,"post_id":71499301,"comment_id":132512838,"body_markdown":"@aristotll I see. Can you provide an example showing what you mean?","body":"@aristotll I see. Can you provide an example showing what you mean?"}],"owner":{"account_id":13804442,"reputation":61,"user_id":9963708,"display_name":"BGS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647546006,"creation_date":1647442586,"question_id":71499301,"body_markdown":"Is there a way to distinguish b vs c via asType method in class A?\r\n\r\n```\r\nclass A&lt;T&gt;{\r\n    T asType(Class&lt;?&gt; c){\r\n        //how do I distinguish between generic types?\r\n    }\r\n}\r\n\r\ndef a = new A()\r\n\r\ndef b = a as List&lt;String&gt;\r\ndef c = a as List&lt;Integer&gt;\r\n```","title":"GROOVY: Distinguish between generics asType casting method","body":"<p>Is there a way to distinguish b vs c via asType method in class A?</p>\n<pre><code>class A&lt;T&gt;{\n    T asType(Class&lt;?&gt; c){\n        //how do I distinguish between generic types?\n    }\n}\n\ndef a = new A()\n\ndef b = a as List&lt;String&gt;\ndef c = a as List&lt;Integer&gt;\n</code></pre>\n"},{"tags":["java","jar","permissions","filenotfoundexception"],"comments":[{"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"score":0,"creation_date":1647547260,"post_id":71518066,"comment_id":126405267,"body_markdown":"Could the hidden directory be a red-herring - what if you put the jar file in a &quot;normal&quot; directory ( &quot;foo&quot; rather than &quot;.foo&quot; ) ?","body":"Could the hidden directory be a red-herring - what if you put the jar file in a &quot;normal&quot; directory ( &quot;foo&quot; rather than &quot;.foo&quot; ) ?"},{"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"score":0,"creation_date":1647547345,"post_id":71518066,"comment_id":126405290,"body_markdown":"or try `jar -t -f -C .foo foo.jar`","body":"or try <code>jar -t -f -C .foo foo.jar</code>"},{"owner":{"account_id":8335749,"reputation":21,"user_id":6262748,"display_name":"Todd Klaus"},"score":0,"creation_date":1647548515,"post_id":71518066,"comment_id":126405652,"body_markdown":"Works fine if I rename .foo to foo","body":"Works fine if I rename .foo to foo"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1647578597,"post_id":71518066,"comment_id":126411569,"body_markdown":"I cannot reproduce this in Debian.  What are the permissions of `.foo`?","body":"I cannot reproduce this in Debian.  What are the permissions of <code>.foo</code>?"}],"owner":{"account_id":8335749,"reputation":21,"user_id":6262748,"display_name":"Todd Klaus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647545963,"creation_date":1647545544,"question_id":71518066,"body_markdown":"The `jar` command is throwing a FileNotFoundException while trying to open a jar file after it has been moved to a hidden (dot) directory. I can reproduce this with a simple jar file:\r\n\r\n    tklaus@kraken:~$ jar -c -f foo.jar test.c \r\n    tklaus@kraken:~$ jar -t -f foo.jar \r\n    META-INF/\r\n    META-INF/MANIFEST.MF\r\n    test.c\r\n\r\nBut if I move the jar file to a hidden directory:\r\n\r\n    tklaus@kraken:~$ mkdir .foo\r\n    tklaus@kraken:~$ mv foo.jar .foo/\r\n\r\nthe jar command can no longer read it:\r\n\r\n    tklaus@kraken:~$ jar -t -f .foo/foo.jar \r\n    java.io.FileNotFoundException: ./.foo/foo.jar (Permission denied)\r\n    \tat java.base/java.io.RandomAccessFile.open0(Native Method)\r\n    \tat java.base/java.io.RandomAccessFile.open(RandomAccessFile.java:344)\r\n    \tat java.base/java.io.RandomAccessFile.&lt;init&gt;(RandomAccessFile.java:259)\r\n    \tat java.base/java.io.RandomAccessFile.&lt;init&gt;(RandomAccessFile.java:213)\r\n    \tat java.base/java.util.zip.ZipFile$Source.&lt;init&gt;(ZipFile.java:1312)\r\n    \tat java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1277)\r\n    \tat java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:709)\r\n    \tat java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:243)\r\n    \tat java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:172)\r\n    \tat java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:143)\r\n    \tat jdk.jartool/sun.tools.jar.Main.list(Main.java:1484)\r\n    \tat jdk.jartool/sun.tools.jar.Main.run(Main.java:352)\r\n    \tat jdk.jartool/sun.tools.jar.Main.main(Main.java:1665)\r\n\r\nI can read the file just fine:\r\n\r\n    tklaus@kraken:~$ unzip -l .foo/foo.jar \r\n    Archive:  .foo/foo.jar\r\n      Length      Date    Time    Name\r\n    ---------  ---------- -----   ----\r\n            0  2022-03-16 22:09   META-INF/\r\n           51  2022-03-16 22:09   META-INF/MANIFEST.MF\r\n           85  2022-03-12 17:10   test.c\r\n    ---------                     -------\r\n    tklaus@kraken:~$ ls -la .foo\r\n    total 12\r\n    drwxrwxr-x  2 tklaus tklaus 4096 Mar 16 22:09 .\r\n    drwxr-xr-x 26 tklaus tklaus 4096 Mar 17 12:29 ..\r\n    -rw-rw-r--  1 tklaus tklaus  511 Mar 16 22:09 foo.jar\r\n\r\nWhat could be causing this? Is this a Java security policy that I don&#39;t know about?\r\n\r\nMy environment:\r\n\r\n    tklaus@kraken:~$ uname -a\r\n    Linux kraken 5.13.0-35-generic #40~20.04.1-Ubuntu SMP Mon Mar 7 09:18:32 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\r\n    tklaus@kraken:~$ java --version\r\n    openjdk 17.0.2 2022-01-18\r\n    OpenJDK Runtime Environment (build 17.0.2+8-snap)\r\n    OpenJDK 64-Bit Server VM (build 17.0.2+8-snap, mixed mode, sharing)\r\n\r\n    tklaus@kraken:~$ lsb_release -a\r\n    No LSB modules are available.\r\n    Distributor ID:\tUbuntu\r\n    Description:\tUbuntu 20.04.4 LTS\r\n    Release:\t20.04\r\n    Codename:\tfocal\r\n\r\n\r\n\r\n","title":"jar command will not open jar file in hidden directory","body":"<p>The <code>jar</code> command is throwing a FileNotFoundException while trying to open a jar file after it has been moved to a hidden (dot) directory. I can reproduce this with a simple jar file:</p>\n<pre><code>tklaus@kraken:~$ jar -c -f foo.jar test.c \ntklaus@kraken:~$ jar -t -f foo.jar \nMETA-INF/\nMETA-INF/MANIFEST.MF\ntest.c\n</code></pre>\n<p>But if I move the jar file to a hidden directory:</p>\n<pre><code>tklaus@kraken:~$ mkdir .foo\ntklaus@kraken:~$ mv foo.jar .foo/\n</code></pre>\n<p>the jar command can no longer read it:</p>\n<pre><code>tklaus@kraken:~$ jar -t -f .foo/foo.jar \njava.io.FileNotFoundException: ./.foo/foo.jar (Permission denied)\n    at java.base/java.io.RandomAccessFile.open0(Native Method)\n    at java.base/java.io.RandomAccessFile.open(RandomAccessFile.java:344)\n    at java.base/java.io.RandomAccessFile.&lt;init&gt;(RandomAccessFile.java:259)\n    at java.base/java.io.RandomAccessFile.&lt;init&gt;(RandomAccessFile.java:213)\n    at java.base/java.util.zip.ZipFile$Source.&lt;init&gt;(ZipFile.java:1312)\n    at java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1277)\n    at java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:709)\n    at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:243)\n    at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:172)\n    at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:143)\n    at jdk.jartool/sun.tools.jar.Main.list(Main.java:1484)\n    at jdk.jartool/sun.tools.jar.Main.run(Main.java:352)\n    at jdk.jartool/sun.tools.jar.Main.main(Main.java:1665)\n</code></pre>\n<p>I can read the file just fine:</p>\n<pre><code>tklaus@kraken:~$ unzip -l .foo/foo.jar \nArchive:  .foo/foo.jar\n  Length      Date    Time    Name\n---------  ---------- -----   ----\n        0  2022-03-16 22:09   META-INF/\n       51  2022-03-16 22:09   META-INF/MANIFEST.MF\n       85  2022-03-12 17:10   test.c\n---------                     -------\ntklaus@kraken:~$ ls -la .foo\ntotal 12\ndrwxrwxr-x  2 tklaus tklaus 4096 Mar 16 22:09 .\ndrwxr-xr-x 26 tklaus tklaus 4096 Mar 17 12:29 ..\n-rw-rw-r--  1 tklaus tklaus  511 Mar 16 22:09 foo.jar\n</code></pre>\n<p>What could be causing this? Is this a Java security policy that I don't know about?</p>\n<p>My environment:</p>\n<pre><code>tklaus@kraken:~$ uname -a\nLinux kraken 5.13.0-35-generic #40~20.04.1-Ubuntu SMP Mon Mar 7 09:18:32 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\ntklaus@kraken:~$ java --version\nopenjdk 17.0.2 2022-01-18\nOpenJDK Runtime Environment (build 17.0.2+8-snap)\nOpenJDK 64-Bit Server VM (build 17.0.2+8-snap, mixed mode, sharing)\n\ntklaus@kraken:~$ lsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 20.04.4 LTS\nRelease:    20.04\nCodename:   focal\n</code></pre>\n"},{"tags":["java","excel","text-alignment","aspose"],"comments":[{"owner":{"account_id":5418581,"reputation":347,"user_id":4313009,"display_name":"Alfredo Tost&#243;n"},"score":0,"creation_date":1647542789,"post_id":71517402,"comment_id":126403695,"body_markdown":"Can you explain with detail what exact problem are you facing? Feel free too to name the library you are using.","body":"Can you explain with detail what exact problem are you facing? Feel free too to name the library you are using."},{"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"score":0,"creation_date":1647543310,"post_id":71517402,"comment_id":126403876,"body_markdown":"I second @AlfredoTost&#243;n. I do not understand your problem. According to  your code segment, you are simply browsing in each sheet (in the workbook) and retrieving cells data. Could you please elaborate a bit more and share your desired output? I can check it and assist you accordingly.\nPS. I am working as Support developer/ Evangelist at Aspose.","body":"I second @AlfredoTost&#243;n. I do not understand your problem. According to  your code segment, you are simply browsing in each sheet (in the workbook) and retrieving cells data. Could you please elaborate a bit more and share your desired output? I can check it and assist you accordingly. PS. I am working as Support developer/ Evangelist at Aspose."},{"owner":{"account_id":18461403,"reputation":11,"user_id":13448807,"display_name":"Phil Meraska"},"score":0,"creation_date":1647543567,"post_id":71517402,"comment_id":126403974,"body_markdown":"@AmjadSahi  I want the output headings to line up with the results. Like the first column &quot;First Name&quot; lines up with the peoples first names, but then the rest of the columns are not aligned or spaced out correctly.","body":"@AmjadSahi  I want the output headings to line up with the results. Like the first column &quot;First Name&quot; lines up with the peoples first names, but then the rest of the columns are not aligned or spaced out correctly."},{"owner":{"account_id":18461403,"reputation":11,"user_id":13448807,"display_name":"Phil Meraska"},"score":0,"creation_date":1647543651,"post_id":71517402,"comment_id":126404004,"body_markdown":"@AlfredoTost&#243;n  My output headings are not flush / properly aligned or spaced out. The First Name column is right but the rest of the columns are not aligned.","body":"@AlfredoTost&#243;n  My output headings are not flush / properly aligned or spaced out. The First Name column is right but the rest of the columns are not aligned."},{"owner":{"account_id":11262638,"reputation":6110,"user_id":8260484,"display_name":"cybernetic.nomad"},"score":0,"creation_date":1647543968,"post_id":71517402,"comment_id":126404109,"body_markdown":"Please [edit your question](https://stackoverflow.com/posts/71517402/edit) to add information, perhaps a screen cap of the result you get and one of the result you want for us to compare would clarify things better","body":"Please <a href=\"https://stackoverflow.com/posts/71517402/edit\">edit your question</a> to add information, perhaps a screen cap of the result you get and one of the result you want for us to compare would clarify things better"},{"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"score":0,"creation_date":1647544682,"post_id":71517402,"comment_id":126404381,"body_markdown":"May be you could add tab spaces using the line:\nSystem.out.print(worksheet.getCells().get(i, j).getValue() + &quot;\\t\\t&quot;); to align better a bit.\n\nYou should share your sample desired output or screenshots for reference.","body":"May be you could add tab spaces using the line: System.out.print(worksheet.getCells().get(i, j).getValue() + &quot;\\t\\t&quot;); to align better a bit.  You should share your sample desired output or screenshots for reference."},{"owner":{"account_id":18461403,"reputation":11,"user_id":13448807,"display_name":"Phil Meraska"},"score":0,"creation_date":1647545791,"post_id":71517402,"comment_id":126404762,"body_markdown":"@AmjadSahi    it changes the alignment but does not make the subjects aligned with headings","body":"@AmjadSahi    it changes the alignment but does not make the subjects aligned with headings"},{"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"score":0,"creation_date":1647627619,"post_id":71517402,"comment_id":126426936,"body_markdown":"@PhilMeraska, you may share the Excel spreadsheet containing the data to evaluate it thoroughly.\nBy the way, to get efficient help you may also post your queries/issue on dedicated forums (https://forum.aspose.com/c/cells/9).","body":"@PhilMeraska, you may share the Excel spreadsheet containing the data to evaluate it thoroughly. By the way, to get efficient help you may also post your queries/issue on dedicated forums (<a href=\"https://forum.aspose.com/c/cells/9\" rel=\"nofollow noreferrer\">forum.aspose.com/c/cells/9</a>)."}],"answers":[{"tags":[],"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647544717,"creation_date":1647544332,"answer_id":71517832,"question_id":71517402,"body_markdown":"You can do something like this:\r\n    \r\n    //Code for reading data, not relevant for the solution\r\n        String my_string= &quot;&quot;&quot;\r\n                People on Island: Sheet1\r\n\r\n                FirstName LastName Gender Country Age Date\r\n\r\n                Dulce Bleoop Female Zimbabwe 43 2035-03-01T00:00:00\r\n\r\n                Sheeba Loadlee Female Sketchawan 24 3040-04-03T00:00:00\r\n\r\n                Jello Bamop Male Antarctica 32 2053-04-06T00:00:00\r\n\r\n                Barbara Slack Female Scandalousia 70 3203-03-12T00:00:00&quot;&quot;&quot;;\r\n\r\n        String[] split_string = my_string.split(&quot;\\n\\n&quot;);\r\n\r\n        String[][] finalString = new String[split_string.length][];\r\n\r\n        for (int i = 0; i &lt; split_string.length; i++) {\r\n            finalString[i] = split_string[i].split(&quot; &quot;);\r\n        }\r\n    //Relevant code below\r\n        int spaceBetween = 25; //this variable decides the distance between each column\r\n        for (int i = 0; i &lt; finalString.length; i++) {\r\n            for (int j = 0; j &lt; finalString[i].length; j++)  {\r\n                System.out.print(finalString[i][j]);\r\n                for (int k = 0; k &lt; spaceBetween-finalString[i][j].length(); k++)\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            System.out.println(&quot;\\n&quot;);\r\n        }\r\nThe output is:\r\n\r\n    People                   on                       Island:                  Sheet1                   \r\n    \r\n    FirstName                LastName                 Gender                   Country                  Age                      Date                     \r\n    \r\n    Dulce                    Bleoop                   Female                   Zimbabwe                 43                       2035-03-01T00:00:00      \r\n    \r\n    Sheeba                   Loadlee                  Female                   Sketchawan               24                       3040-04-03T00:00:00      \r\n    \r\n    Jello                    Bamop                    Male                     Antarctica               32                       2053-04-06T00:00:00      \r\n    \r\n    Barbara                  Slack                    Female                   Scandalousia             70                       3203-03-12T00:00:00    \r\n\r\nThe Space between each column is decided by the variable spaceBetween.\r\n\r\nIn conclusion, you should be able to change the line\r\n        `System.out.print(worksheet.getCells().get(i, j).getValue() + &quot;   &quot;);`\r\nto\r\n\r\n    val = worksheet.getCells().get(i, j).getValue();\r\n    System.out.print(val);\r\n    for (int k = 0; k &lt; spaceBetween-val.lenght(); k++)\r\n        System.out.print(&quot; &quot;);\r\nwhere you choose a value for spaceBetween somewhere in the code.","title":"How to align output from an excel file?","body":"<p>You can do something like this:</p>\n<pre><code>//Code for reading data, not relevant for the solution\n    String my_string= &quot;&quot;&quot;\n            People on Island: Sheet1\n\n            FirstName LastName Gender Country Age Date\n\n            Dulce Bleoop Female Zimbabwe 43 2035-03-01T00:00:00\n\n            Sheeba Loadlee Female Sketchawan 24 3040-04-03T00:00:00\n\n            Jello Bamop Male Antarctica 32 2053-04-06T00:00:00\n\n            Barbara Slack Female Scandalousia 70 3203-03-12T00:00:00&quot;&quot;&quot;;\n\n    String[] split_string = my_string.split(&quot;\\n\\n&quot;);\n\n    String[][] finalString = new String[split_string.length][];\n\n    for (int i = 0; i &lt; split_string.length; i++) {\n        finalString[i] = split_string[i].split(&quot; &quot;);\n    }\n//Relevant code below\n    int spaceBetween = 25; //this variable decides the distance between each column\n    for (int i = 0; i &lt; finalString.length; i++) {\n        for (int j = 0; j &lt; finalString[i].length; j++)  {\n            System.out.print(finalString[i][j]);\n            for (int k = 0; k &lt; spaceBetween-finalString[i][j].length(); k++)\n            System.out.print(&quot; &quot;);\n        }\n        System.out.println(&quot;\\n&quot;);\n    }\n</code></pre>\n<p>The output is:</p>\n<pre><code>People                   on                       Island:                  Sheet1                   \n\nFirstName                LastName                 Gender                   Country                  Age                      Date                     \n\nDulce                    Bleoop                   Female                   Zimbabwe                 43                       2035-03-01T00:00:00      \n\nSheeba                   Loadlee                  Female                   Sketchawan               24                       3040-04-03T00:00:00      \n\nJello                    Bamop                    Male                     Antarctica               32                       2053-04-06T00:00:00      \n\nBarbara                  Slack                    Female                   Scandalousia             70                       3203-03-12T00:00:00    \n</code></pre>\n<p>The Space between each column is decided by the variable spaceBetween.</p>\n<p>In conclusion, you should be able to change the line\n<code>System.out.print(worksheet.getCells().get(i, j).getValue() + &quot;   &quot;);</code>\nto</p>\n<pre><code>val = worksheet.getCells().get(i, j).getValue();\nSystem.out.print(val);\nfor (int k = 0; k &lt; spaceBetween-val.lenght(); k++)\n    System.out.print(&quot; &quot;);\n</code></pre>\n<p>where you choose a value for spaceBetween somewhere in the code.</p>\n"},{"tags":[],"owner":{"account_id":5418581,"reputation":347,"user_id":4313009,"display_name":"Alfredo Tost&#243;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647545178,"creation_date":1647545178,"answer_id":71518002,"question_id":71517402,"body_markdown":"If what you want is to align the output lines printed in console, you will have to loop over the fields two times. The first for getting whe length of each column and the second to print them correctly.\r\n\r\nYou can use a method that given a `String` pads it with whitespaces to the end:\r\n```java\r\npublic static String alignLeft(String str, int width) {\r\n    if (str.length() &gt;= width) {\r\n        return str;\r\n    }\r\n    return alignLeft(str + &quot; &quot;, width);\r\n}\r\n```\r\nThen, given the values of each cell as a `String` in a bidimensional array `cells`, doing the following:\r\n```java\r\nint[] columnsWidths = new int[cells[0].length];\r\nfor (int i = 0; i &lt; cells.length; i++) {\r\n    for (int j = 0; j &lt; cells[i].length; j++) {\r\n        if (columnsWidths[j] &lt; cells[i][j].length()) {\r\n            columnsWidths[j] = cells[i][j].length();\r\n        }\r\n    }\r\n}\r\n\r\nfor (int i = 0; i &lt; cells.length; i++) {\r\n    for (int j = 0; j &lt; cells[i].length; j++) {\r\n        System.out.print(alignLeft(cells[i][j], columnsWidths[j]) + &quot; &quot;);\r\n    }\r\n    System.out.println();\r\n}\r\n```","title":"How to align output from an excel file?","body":"<p>If what you want is to align the output lines printed in console, you will have to loop over the fields two times. The first for getting whe length of each column and the second to print them correctly.</p>\n<p>You can use a method that given a <code>String</code> pads it with whitespaces to the end:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String alignLeft(String str, int width) {\n    if (str.length() &gt;= width) {\n        return str;\n    }\n    return alignLeft(str + &quot; &quot;, width);\n}\n</code></pre>\n<p>Then, given the values of each cell as a <code>String</code> in a bidimensional array <code>cells</code>, doing the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] columnsWidths = new int[cells[0].length];\nfor (int i = 0; i &lt; cells.length; i++) {\n    for (int j = 0; j &lt; cells[i].length; j++) {\n        if (columnsWidths[j] &lt; cells[i][j].length()) {\n            columnsWidths[j] = cells[i][j].length();\n        }\n    }\n}\n\nfor (int i = 0; i &lt; cells.length; i++) {\n    for (int j = 0; j &lt; cells[i].length; j++) {\n        System.out.print(alignLeft(cells[i][j], columnsWidths[j]) + &quot; &quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647545926,"creation_date":1647545926,"answer_id":71518129,"question_id":71517402,"body_markdown":"Assuming you are using aspose, since you included the tag, you could use the export to array method:\r\n\r\n    ....\r\n    \r\n    int rows = worksheet.getCells().getMaxDataRow();\r\n    int cols = worksheet.getCells().getMaxDataColumn();\r\n   \r\n    Object dataTable[][] = worksheet.getCells().exportArray(0, 0, rows, cols);\r\n\r\n    for (final Object[] row : dataTable) {\r\n        System.out.format(&quot;%15s%15s%15s%15s%15s%15s%n&quot;, row);\r\n    }\r\n\r\nFor left-aligned output change the print statement to \r\n\r\n     System.out.format(&quot;%-15s%-15s%-15s%-15s%-15s%-15s%n&quot;, row);\r\n\r\nOf course `15` is just a random value I choosed, because I thought the max length of a cell value has 15 chars. change as you see fit. You could also for each column, check length of all strings in that column and take max string length in that column as column width for that column. Which could end for example in something like: \r\n\r\n    System.out.format(&quot;%-10s%-10s%-8s%-15s%-5s%-25s%n&quot;, row);\r\n\r\n     ","title":"How to align output from an excel file?","body":"<p>Assuming you are using aspose, since you included the tag, you could use the export to array method:</p>\n<pre><code>....\n\nint rows = worksheet.getCells().getMaxDataRow();\nint cols = worksheet.getCells().getMaxDataColumn();\n\nObject dataTable[][] = worksheet.getCells().exportArray(0, 0, rows, cols);\n\nfor (final Object[] row : dataTable) {\n    System.out.format(&quot;%15s%15s%15s%15s%15s%15s%n&quot;, row);\n}\n</code></pre>\n<p>For left-aligned output change the print statement to</p>\n<pre><code> System.out.format(&quot;%-15s%-15s%-15s%-15s%-15s%-15s%n&quot;, row);\n</code></pre>\n<p>Of course <code>15</code> is just a random value I choosed, because I thought the max length of a cell value has 15 chars. change as you see fit. You could also for each column, check length of all strings in that column and take max string length in that column as column width for that column. Which could end for example in something like:</p>\n<pre><code>System.out.format(&quot;%-10s%-10s%-8s%-15s%-5s%-25s%n&quot;, row);\n\n \n</code></pre>\n"}],"owner":{"account_id":18461403,"reputation":11,"user_id":13448807,"display_name":"Phil Meraska"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1647545926,"creation_date":1647541988,"question_id":71517402,"body_markdown":"\r\n\r\n\r\n\r\n\r\n\t\r\n\t\t\r\n\t\t&#39;&#39;&#39;&#39;Workbook wb = new Workbook(&quot;workbook.xlsx&quot;);\r\n\t\tWorksheetCollection collection = wb.getWorksheets();\r\n\t\t\r\n\t\t\r\n\t\tfor (int worksheetIndex = 0; worksheetIndex &lt; collection.getCount(); worksheetIndex++) {\r\n\t\t\t\r\n\t\t\tWorksheet worksheet = collection.get(worksheetIndex);\r\n\t\t\tSystem.out.println(&quot;People on Island: &quot; + worksheet.getName());\r\n\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t\tint rows = worksheet.getCells().getMaxDataRow();\r\n\t\t\tint cols = worksheet.getCells().getMaxDataColumn();\r\n\t\t\tStyle st = wb.createStyle();\r\n\t\t\t\r\n\t\t\tfor (int i = 0; i &lt;= rows; i++) {\r\n\t\t\t\t\r\n\t\t\tfor (int j = 0; j &lt;= cols; j++)  {\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.print(worksheet.getCells().get(i, j).getValue() + &quot;   &quot;);\r\n\t\t\t\t\r\n\t\t        \r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}&#39;&#39;&#39;&#39;\r\n\r\n\r\n\r\n\r\nOUTPUT CURRENTLY:\r\n\r\nPeople on Island: Sheet1\r\n\r\nFirst Name    Last name    Gender    Country   Age   Date   \r\n\r\nDulce   Bleoop   Female   Zimbabwe   43   2035-03-01T00:00:00   \r\n\r\nSheeba   Loadlee   Female   Sketchawan   24   3040-04-03T00:00:00   \r\n\r\nJello   Bamop   Male   Antarctica    32   2053-04-06T00:00:00   \r\n\r\nBarbara    Slack   Female   Scandalousia   70   3203-03-12T00:00:00   \r\n\t","title":"How to align output from an excel file?","body":"<pre><code>    ''''Workbook wb = new Workbook(&quot;workbook.xlsx&quot;);\n    WorksheetCollection collection = wb.getWorksheets();\n    \n    \n    for (int worksheetIndex = 0; worksheetIndex &lt; collection.getCount(); worksheetIndex++) {\n        \n        Worksheet worksheet = collection.get(worksheetIndex);\n        System.out.println(&quot;People on Island: &quot; + worksheet.getName());\n        System.out.println();\n        \n        int rows = worksheet.getCells().getMaxDataRow();\n        int cols = worksheet.getCells().getMaxDataColumn();\n        Style st = wb.createStyle();\n        \n        for (int i = 0; i &lt;= rows; i++) {\n            \n        for (int j = 0; j &lt;= cols; j++)  {\n            \n            System.out.print(worksheet.getCells().get(i, j).getValue() + &quot;   &quot;);\n            \n            \n        }\n            \n        System.out.println();\n        System.out.println();\n        }\n        \n    }\n}''''\n</code></pre>\n<p>OUTPUT CURRENTLY:</p>\n<p>People on Island: Sheet1</p>\n<p>First Name    Last name    Gender    Country   Age   Date</p>\n<p>Dulce   Bleoop   Female   Zimbabwe   43   2035-03-01T00:00:00</p>\n<p>Sheeba   Loadlee   Female   Sketchawan   24   3040-04-03T00:00:00</p>\n<p>Jello   Bamop   Male   Antarctica    32   2053-04-06T00:00:00</p>\n<p>Barbara    Slack   Female   Scandalousia   70   3203-03-12T00:00:00</p>\n"},{"tags":["java","xstream","nosuchmethoderror"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1647567733,"post_id":71518123,"comment_id":126410026,"body_markdown":"Are you sure you are using XStream 1.4.8 (or greater)? Have you recently upgraded? It looks like [the method `XStream.addPermission()` was added in 1.4.7](https://abi-laboratory.pro/?view=compat_report&amp;lang=java&amp;l=xstream&amp;v1=1.4.6&amp;v2=1.4.7&amp;obj=d6107&amp;kind=bin), so the error you are getting would be explained if your run time version of XStream was &lt; 1.4.7. I&#39;m not saying that is the case at all....just mentioning it as a possibility, since there has obviously been some change in your environment to provoke the error.","body":"Are you sure you are using XStream 1.4.8 (or greater)? Have you recently upgraded? It looks like <a href=\"https://abi-laboratory.pro/?view=compat_report&amp;lang=java&amp;l=xstream&amp;v1=1.4.6&amp;v2=1.4.7&amp;obj=d6107&amp;kind=bin\" rel=\"nofollow noreferrer\">the method <code>XStream.addPermission()</code> was added in 1.4.7</a>, so the error you are getting would be explained if your run time version of XStream was &lt; 1.4.7. I&#39;m not saying that is the case at all....just mentioning it as a possibility, since there has obviously been some change in your environment to provoke the error."},{"owner":{"account_id":9559007,"reputation":403,"user_id":7100546,"accept_rate":100,"display_name":"Rob"},"score":0,"creation_date":1647573267,"post_id":71518123,"comment_id":126410823,"body_markdown":"@skomisa Our Maven Dependencies says we have 1.4.8. I&#39;m having trouble finding the change myself since even looking back through our commits we haven&#39;t even touched the file containing this method in a while. I know we&#39;ve done work elsewhere to fix an issue with HTML encoding some strings (we were encoding strings to html and pushing to a csv which was causing the files to output weird) which cropped up but that should be unrelated here.","body":"@skomisa Our Maven Dependencies says we have 1.4.8. I&#39;m having trouble finding the change myself since even looking back through our commits we haven&#39;t even touched the file containing this method in a while. I know we&#39;ve done work elsewhere to fix an issue with HTML encoding some strings (we were encoding strings to html and pushing to a csv which was causing the files to output weird) which cropped up but that should be unrelated here."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1647581833,"post_id":71518123,"comment_id":126411980,"body_markdown":"OK, since your code was built with 1.4.8 it&#39;s fine, and all I can think of is that something changed in the runtime environment. That might be the scenario in my previous comment (i.e. the rt version of XStream is &lt; 1.4.7), or alternatively, having multiple instances of XStream available at runtime, which might perhaps cause class loader to trigger a `NoSuchMethodError` even if both/all the XStream instances were &gt;= 1.4.7. Does this issue occur on every machine your app runs on? If not, the obvious thing to do is see what environment differences exist between the machines (classpath, etc.).","body":"OK, since your code was built with 1.4.8 it&#39;s fine, and all I can think of is that something changed in the runtime environment. That might be the scenario in my previous comment (i.e. the rt version of XStream is &lt; 1.4.7), or alternatively, having multiple instances of XStream available at runtime, which might perhaps cause class loader to trigger a <code>NoSuchMethodError</code> even if both/all the XStream instances were &gt;= 1.4.7. Does this issue occur on every machine your app runs on? If not, the obvious thing to do is see what environment differences exist between the machines (classpath, etc.)."},{"owner":{"account_id":9559007,"reputation":403,"user_id":7100546,"accept_rate":100,"display_name":"Rob"},"score":0,"creation_date":1647616158,"post_id":71518123,"comment_id":126422561,"body_markdown":"@skomisa This error exists on my local copy as well as the copy sitting on our &quot;server&quot;. We get the same error when trying to retrieve the search criteria on all copies.","body":"@skomisa This error exists on my local copy as well as the copy sitting on our &quot;server&quot;. We get the same error when trying to retrieve the search criteria on all copies."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1647623440,"post_id":71518123,"comment_id":126425512,"body_markdown":"I&#39;m baffled. If it&#39;s not a big deal, perhaps consider rebuilding and running your app locally using [the latest version of XStream which is 1.4.19](https://mvnrepository.com/artifact/com.thoughtworks.xstream/xstream), since your version is quite old. But that&#39;s just to see if the problem mysteriously goes away, and I can&#39;t provide a persuasive reason for doing it - it&#39;s just something to try.","body":"I&#39;m baffled. If it&#39;s not a big deal, perhaps consider rebuilding and running your app locally using <a href=\"https://mvnrepository.com/artifact/com.thoughtworks.xstream/xstream\" rel=\"nofollow noreferrer\">the latest version of XStream which is 1.4.19</a>, since your version is quite old. But that&#39;s just to see if the problem mysteriously goes away, and I can&#39;t provide a persuasive reason for doing it - it&#39;s just something to try."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1647623540,"post_id":71518123,"comment_id":126425548,"body_markdown":"One final thought...have there been any changes to your Java runtime environment lately? Perhaps that `NoSuchMethodError` is misleading, and there is an underlying Java issue with something having been removed. Was your app built using JDK 8, but you are now running it using a JDK &gt; 8? (Again, just wild speculation on my part.)","body":"One final thought...have there been any changes to your Java runtime environment lately? Perhaps that <code>NoSuchMethodError</code> is misleading, and there is an underlying Java issue with something having been removed. Was your app built using JDK 8, but you are now running it using a JDK &gt; 8? (Again, just wild speculation on my part.)"},{"owner":{"account_id":9559007,"reputation":403,"user_id":7100546,"accept_rate":100,"display_name":"Rob"},"score":0,"creation_date":1647638292,"post_id":71518123,"comment_id":126429835,"body_markdown":"@skomisa No, we are using the same version of the Amazon Corretto JDK. We haven&#39;t changed much in terms of the runtime environment in a while. Looking back at previous builds this issue has been apparent for some iterations now (again no changes to the RTE just to various methods and files) just no one cared to raise a issue until a week ago.","body":"@skomisa No, we are using the same version of the Amazon Corretto JDK. We haven&#39;t changed much in terms of the runtime environment in a while. Looking back at previous builds this issue has been apparent for some iterations now (again no changes to the RTE just to various methods and files) just no one cared to raise a issue until a week ago."}],"owner":{"account_id":9559007,"reputation":403,"user_id":7100546,"accept_rate":100,"display_name":"Rob"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647545889,"creation_date":1647545889,"question_id":71518123,"body_markdown":"I&#39;m trying to debug a issue I&#39;m having on an application, we have a function to store a user&#39;s search criteria and the function used to work but recently we&#39;ve been getting a NoSuchMethod\r\nError whenever a user attempts to retrieve their saved search criteria. I&#39;ve tried prowling through some other Xstream errors but the closest I found was an issue a couple of years back from the .alias method. \r\nI&#39;m getting the error when attempting to use the .addPermission() method. I&#39;ve attached one of the other methods that we use to &quot;getXstream&quot;.\r\n\r\n\r\n```\r\n\r\njava.lang.NoSuchMethodError: com.thoughtworks.xstream.XStream.addPermission(Lcom/thoughtworks/xstream/security/TypePermission;)V\r\n\tat com.u90785.aim.persistence.brokers.SavedSearchBroker.ParseXML(SavedSearchBroker.java:986)\r\n\tat com.u90785.aim.persistence.brokers.SavedSearchBroker.populateSearchCriteriaFromXML(SavedSearchBroker.java:840)\r\n\tat com.u90785.aim.persistence.brokers.SavedSearchBroker.RetrieveSavedSearchCriteria(SavedSearchBroker.java:384)\r\n\tat com.u90785.aim.persistence.brokers.SavedSearchBroker.RetrieveSavedSearchCriteria(SavedSearchBroker.java:330)\r\n\tat com.u90785.aim.domain.SavedSearchCriteria.GetSavedSearch(SavedSearchCriteria.java:56)\r\n\r\n```\r\n```\r\n\tprotected static FindSearchCriteria ParseXML(String xml, XStream xstream, User user)\r\n\t{\r\n\t\tif (xml == null || xml.trim().length() == 0 || !xml.trim().startsWith(&quot;&lt;&quot;)) return null;\r\n\t\tif (xstream == null) {\r\n\t\t\txstream = GetXStream();\r\n\t\t\txstream.addPermission(NoTypePermission.NONE);\r\n\t\t\txstream.addPermission(NullPermission.NULL);\r\n\t\t\txstream.addPermission(PrimitiveTypePermission.PRIMITIVES);\r\n\t\t}\r\n\r\n\r\n\tprivate static XStream GetXStream()\r\n\t{\r\n\t\tXStream xstream = new XStream();\r\n\t\t//These converters used so that cached counties, states, and countries are used instead of \r\n        //creating new instances\r\n\t\t//If additional &quot;cached&quot; objects are added to the domain, converters should be created for \r\n        //them.\r\n\t\txstream.registerConverter(new CountyConverter());\r\n\t\txstream.registerConverter(new StateProvinceConverter());\r\n\t\txstream.registerConverter(new CountryConverter());\r\n\t\txstream.registerConverter(new DateConverter());\r\n\t\txstream.registerConverter(new CategoryConverter());\r\n\t\txstream.registerConverter(new SegmentConverter());\r\n\t\txstream.registerConverter(new SubSegmentConverter());\r\n\t\txstream.registerConverter(new AffiliationConverter());\r\n\r\n\t\treturn xstream;\r\n\t}\r\n```\r\n\r\n\r\n\r\nI&#39;m kind of stumped since this issue just cropped up relatively recently and we haven&#39;t touched this part of our application in a quite some time. From what I can tell we also haven&#39;t updated any of our dependencies recently either (Xstream is running 1.4.8 as far as I can tell). I&#39;ve tried exploring the methods but I can&#39;t find anything that specifically sticks or is glaringly off. This application also predates my contributions so it&#39;s possible it&#39;s an unfamiliarity with parts of the code.","title":"Getting a NoSuchMethodError on a Xstream.addPermission()","body":"<p>I'm trying to debug a issue I'm having on an application, we have a function to store a user's search criteria and the function used to work but recently we've been getting a NoSuchMethod\nError whenever a user attempts to retrieve their saved search criteria. I've tried prowling through some other Xstream errors but the closest I found was an issue a couple of years back from the .alias method.\nI'm getting the error when attempting to use the .addPermission() method. I've attached one of the other methods that we use to &quot;getXstream&quot;.</p>\n<pre><code>\njava.lang.NoSuchMethodError: com.thoughtworks.xstream.XStream.addPermission(Lcom/thoughtworks/xstream/security/TypePermission;)V\n    at com.u90785.aim.persistence.brokers.SavedSearchBroker.ParseXML(SavedSearchBroker.java:986)\n    at com.u90785.aim.persistence.brokers.SavedSearchBroker.populateSearchCriteriaFromXML(SavedSearchBroker.java:840)\n    at com.u90785.aim.persistence.brokers.SavedSearchBroker.RetrieveSavedSearchCriteria(SavedSearchBroker.java:384)\n    at com.u90785.aim.persistence.brokers.SavedSearchBroker.RetrieveSavedSearchCriteria(SavedSearchBroker.java:330)\n    at com.u90785.aim.domain.SavedSearchCriteria.GetSavedSearch(SavedSearchCriteria.java:56)\n\n</code></pre>\n<pre><code>    protected static FindSearchCriteria ParseXML(String xml, XStream xstream, User user)\n    {\n        if (xml == null || xml.trim().length() == 0 || !xml.trim().startsWith(&quot;&lt;&quot;)) return null;\n        if (xstream == null) {\n            xstream = GetXStream();\n            xstream.addPermission(NoTypePermission.NONE);\n            xstream.addPermission(NullPermission.NULL);\n            xstream.addPermission(PrimitiveTypePermission.PRIMITIVES);\n        }\n\n\n    private static XStream GetXStream()\n    {\n        XStream xstream = new XStream();\n        //These converters used so that cached counties, states, and countries are used instead of \n        //creating new instances\n        //If additional &quot;cached&quot; objects are added to the domain, converters should be created for \n        //them.\n        xstream.registerConverter(new CountyConverter());\n        xstream.registerConverter(new StateProvinceConverter());\n        xstream.registerConverter(new CountryConverter());\n        xstream.registerConverter(new DateConverter());\n        xstream.registerConverter(new CategoryConverter());\n        xstream.registerConverter(new SegmentConverter());\n        xstream.registerConverter(new SubSegmentConverter());\n        xstream.registerConverter(new AffiliationConverter());\n\n        return xstream;\n    }\n</code></pre>\n<p>I'm kind of stumped since this issue just cropped up relatively recently and we haven't touched this part of our application in a quite some time. From what I can tell we also haven't updated any of our dependencies recently either (Xstream is running 1.4.8 as far as I can tell). I've tried exploring the methods but I can't find anything that specifically sticks or is glaringly off. This application also predates my contributions so it's possible it's an unfamiliarity with parts of the code.</p>\n"},{"tags":["java","hadoop","mapreduce","hbase"],"comments":[{"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"score":0,"creation_date":1647427759,"post_id":71495577,"comment_id":126366658,"body_markdown":"did you try to print `HADOOP_CLASSPATH` env var and see what&#39;s the value?","body":"did you try to print <code>HADOOP_CLASSPATH</code> env var and see what&#39;s the value?"},{"owner":{"account_id":4652303,"reputation":129,"user_id":3768849,"accept_rate":38,"display_name":"Reza Namvar"},"score":0,"creation_date":1647429318,"post_id":71495577,"comment_id":126367317,"body_markdown":"yeah it is a very long value. cannot copy here","body":"yeah it is a very long value. cannot copy here"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1647545908,"post_id":71495577,"comment_id":126404800,"body_markdown":"You should ideally be using maven/gradle instead to compile your code.","body":"You should ideally be using maven/gradle instead to compile your code."}],"owner":{"account_id":4652303,"reputation":129,"user_id":3768849,"accept_rate":38,"display_name":"Reza Namvar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647545875,"creation_date":1647427100,"question_id":71495577,"body_markdown":"I&#39;m trying to run a MapReduce app which uses a HBase table. The code is provided by my university professor and we are supposed to run it. Here is the code:\r\n\r\n    package hbase;\r\n    \r\n    import java.io.IOException;\r\n    import org.apache.hadoop.io.Text;\r\n    import org.apache.hadoop.io.IntWritable;\r\n    import org.apache.hadoop.mapreduce.Job;\r\n    import org.apache.hadoop.conf.Configuration;\r\n    import org.apache.hadoop.hbase.util.Bytes;\r\n    import org.apache.hadoop.hbase.client.Put;\r\n    import org.apache.hadoop.hbase.client.Result;\r\n    import org.apache.hadoop.hbase.client.Scan;\r\n    import org.apache.hadoop.hbase.HBaseConfiguration;\r\n    import org.apache.hadoop.hbase.mapreduce.TableMapper;\r\n    import org.apache.hadoop.hbase.mapreduce.TableReducer;\r\n    import org.apache.hadoop.hbase.mapreduce.TableMapReduceUtil;\r\n    import org.apache.hadoop.hbase.io.ImmutableBytesWritable;\r\n    import org.apache.hadoop.hbase.filter.FirstKeyOnlyFilter;\r\n    \r\n    public class HBaseMapReduce {\r\n    \r\n        public static class hbaseMapper extends TableMapper&lt;Text, IntWritable&gt; {\r\n    \r\n            public void map(ImmutableBytesWritable rowKey, Result columns, Context context)\r\n                    throws IOException, InterruptedException {\r\n                try {\r\n                    String inKey = new String(rowKey.get());\r\n                    String oKey = inKey.split(&quot;#&quot;)[0];\r\n                    byte[] bSales = columns.getValue(Bytes.toBytes(&quot;cf&quot;), Bytes.toBytes(&quot;sales&quot;));\r\n                    String sSales = new String(bSales);\r\n                    Integer sales = new Integer(sSales);\r\n                    context.write(new Text(oKey), new IntWritable(sales));\r\n                } catch (RuntimeException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static class hbaseReducer extends TableReducer&lt;Text, IntWritable, ImmutableBytesWritable&gt; {\r\n    \r\n            public void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context)\r\n                    throws IOException, InterruptedException {\r\n                try {\r\n                    int sum = 0;\r\n                    for (IntWritable sales : values) {\r\n                        Integer intSales = new Integer(sales.toString());\r\n                        sum += intSales;\r\n                    }\r\n                    Put insHBase = new Put(key.getBytes());\r\n                    insHBase.addColumn(Bytes.toBytes(&quot;cf&quot;), Bytes.toBytes(&quot;sum&quot;), Bytes.toBytes(sum));\r\n                    context.write(null, insHBase);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Configuration conf = HBaseConfiguration.create();\r\n    // define scan and define column families to scan\r\n            Scan scan = new Scan();\r\n            scan.addFamily(Bytes.toBytes(&quot;cf&quot;));\r\n            Job job = Job.getInstance(conf);\r\n            job.setJarByClass(HBaseMapReduce.class);\r\n    // define input hbase table\r\n            TableMapReduceUtil.initTableMapperJob(&quot;test1&quot;, scan, hbaseMapper.class, Text.class, IntWritable.class, job);\r\n    // define output table\r\n            TableMapReduceUtil.initTableReducerJob(&quot;test2&quot;, hbaseReducer.class, job);\r\n            job.waitForCompletion(true);\r\n        }\r\n    }\r\n\r\nThe problem is, when I try to compile the code using this command:\r\n\r\n    javac -cp $HADOOP_CLASSPATH -d hbase_classes hbase/HBaseMapReduce.java\r\n\r\nI get the following error:\r\n\r\n    hbase/HBaseMapReduce.java:13: error: cannot find symbol\r\n    import org.apache.hadoop.hbase.mapreduce.TableMapper;\r\n                                            ^\r\n      symbol:   class TableMapper\r\n      location: package org.apache.hadoop.hbase.mapreduce\r\n    hbase/HBaseMapReduce.java:14: error: cannot find symbol\r\n    import org.apache.hadoop.hbase.mapreduce.TableReducer;\r\n                                            ^\r\n      symbol:   class TableReducer\r\n      location: package org.apache.hadoop.hbase.mapreduce\r\n    hbase/HBaseMapReduce.java:15: error: cannot find symbol\r\n    import org.apache.hadoop.hbase.mapreduce.TableMapReduceUtil;\r\n                                            ^\r\n      symbol:   class TableMapReduceUtil\r\n      location: package org.apache.hadoop.hbase.mapreduce\r\n    hbase/HBaseMapReduce.java:21: error: cannot find symbol\r\n        public static class hbaseMapper extends TableMapper&lt;Text, IntWritable&gt; {\r\n                                                ^\r\n      symbol:   class TableMapper\r\n      location: class HBaseMapReduce\r\n    hbase/HBaseMapReduce.java:23: error: cannot find symbol\r\n            public void map(ImmutableBytesWritable rowKey, Result columns, Context context)\r\n                                                                           ^\r\n      symbol:   class Context\r\n      location: class hbaseMapper\r\n    hbase/HBaseMapReduce.java:38: error: cannot find symbol\r\n        public static class hbaseReducer extends TableReducer&lt;Text, IntWritable, ImmutableBytesWritable&gt; {\r\n                                                 ^\r\n      symbol:   class TableReducer\r\n      location: class HBaseMapReduce\r\n    hbase/HBaseMapReduce.java:40: error: cannot find symbol\r\n            public void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context)\r\n                                                                       ^\r\n      symbol:   class Context\r\n      location: class hbaseReducer\r\n    hbase/HBaseMapReduce.java:65: error: cannot find symbol\r\n            TableMapReduceUtil.initTableMapperJob(&quot;test1&quot;, scan, hbaseMapper.class, Text.class, IntWritable.class, job);\r\n            ^\r\n      symbol:   variable TableMapReduceUtil\r\n      location: class HBaseMapReduce\r\n    hbase/HBaseMapReduce.java:67: error: cannot find symbol\r\n            TableMapReduceUtil.initTableReducerJob(&quot;test2&quot;, hbaseReducer.class, job);\r\n            ^\r\n      symbol:   variable TableMapReduceUtil\r\n      location: class HBaseMapReduce\r\n    9 errors\r\n\r\nI can successfully compile and run usual MapReduce code. The problem begins with using the MapReduce package inside the HBase package; i.e.\r\n\r\n    org.apache.hadoop.hbase.mapreduce\r\n\r\nMy environment variables:\r\n\r\n    #Hadoop Related Options\r\n    export HADOOP_HOME=/home/ubuntu/hadoop\r\n    export HADOOP_INSTALL=$HADOOP_HOME\r\n    export HADOOP_MAPRED_HOME=$HADOOP_HOME\r\n    export HADOOP_COMMON_HOME=$HADOOP_HOME\r\n    export HADOOP_HDFS_HOME=$HADOOP_HOME\r\n    export YARN_HOME=$HADOOP_HOME\r\n    export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native\r\n    export PATH=$PATH:$HADOOP_HOME/sbin:$HADOOP_HOME/bin\r\n    export HADOOP_OPTS=&quot;-Djava.library.path=$HADOOP_HOME/lib/nativ&quot;\r\n    #HBase related options\r\n    export HBASE_HOME=&quot;/home/ubuntu/hadoop/hbase&quot;\r\n    export HBASE_CONF=&quot;$HBASE_HOME/conf&quot;\r\n    export PATH=$HBASE_HOME/bin:$PATH\r\n    #MapReduce Options\r\n    export HADOOP_CLASSPATH=$($HADOOP_HOME/bin/hadoop classpath)\r\n    export HBASE_CLASSPATH=$($HBASE_HOME/bin/hbase classpath)\r\n    export HADOOP_CLASSPATH=$HADOOP_CLASSPATH:$HBASE_CLASSPATH","title":"Java compiler cannot find hadoop.hbase.mapreduce packages","body":"<p>I'm trying to run a MapReduce app which uses a HBase table. The code is provided by my university professor and we are supposed to run it. Here is the code:</p>\n<pre><code>package hbase;\n\nimport java.io.IOException;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.hbase.util.Bytes;\nimport org.apache.hadoop.hbase.client.Put;\nimport org.apache.hadoop.hbase.client.Result;\nimport org.apache.hadoop.hbase.client.Scan;\nimport org.apache.hadoop.hbase.HBaseConfiguration;\nimport org.apache.hadoop.hbase.mapreduce.TableMapper;\nimport org.apache.hadoop.hbase.mapreduce.TableReducer;\nimport org.apache.hadoop.hbase.mapreduce.TableMapReduceUtil;\nimport org.apache.hadoop.hbase.io.ImmutableBytesWritable;\nimport org.apache.hadoop.hbase.filter.FirstKeyOnlyFilter;\n\npublic class HBaseMapReduce {\n\n    public static class hbaseMapper extends TableMapper&lt;Text, IntWritable&gt; {\n\n        public void map(ImmutableBytesWritable rowKey, Result columns, Context context)\n                throws IOException, InterruptedException {\n            try {\n                String inKey = new String(rowKey.get());\n                String oKey = inKey.split(&quot;#&quot;)[0];\n                byte[] bSales = columns.getValue(Bytes.toBytes(&quot;cf&quot;), Bytes.toBytes(&quot;sales&quot;));\n                String sSales = new String(bSales);\n                Integer sales = new Integer(sSales);\n                context.write(new Text(oKey), new IntWritable(sales));\n            } catch (RuntimeException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public static class hbaseReducer extends TableReducer&lt;Text, IntWritable, ImmutableBytesWritable&gt; {\n\n        public void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context)\n                throws IOException, InterruptedException {\n            try {\n                int sum = 0;\n                for (IntWritable sales : values) {\n                    Integer intSales = new Integer(sales.toString());\n                    sum += intSales;\n                }\n                Put insHBase = new Put(key.getBytes());\n                insHBase.addColumn(Bytes.toBytes(&quot;cf&quot;), Bytes.toBytes(&quot;sum&quot;), Bytes.toBytes(sum));\n                context.write(null, insHBase);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        Configuration conf = HBaseConfiguration.create();\n// define scan and define column families to scan\n        Scan scan = new Scan();\n        scan.addFamily(Bytes.toBytes(&quot;cf&quot;));\n        Job job = Job.getInstance(conf);\n        job.setJarByClass(HBaseMapReduce.class);\n// define input hbase table\n        TableMapReduceUtil.initTableMapperJob(&quot;test1&quot;, scan, hbaseMapper.class, Text.class, IntWritable.class, job);\n// define output table\n        TableMapReduceUtil.initTableReducerJob(&quot;test2&quot;, hbaseReducer.class, job);\n        job.waitForCompletion(true);\n    }\n}\n</code></pre>\n<p>The problem is, when I try to compile the code using this command:</p>\n<pre><code>javac -cp $HADOOP_CLASSPATH -d hbase_classes hbase/HBaseMapReduce.java\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>hbase/HBaseMapReduce.java:13: error: cannot find symbol\nimport org.apache.hadoop.hbase.mapreduce.TableMapper;\n                                        ^\n  symbol:   class TableMapper\n  location: package org.apache.hadoop.hbase.mapreduce\nhbase/HBaseMapReduce.java:14: error: cannot find symbol\nimport org.apache.hadoop.hbase.mapreduce.TableReducer;\n                                        ^\n  symbol:   class TableReducer\n  location: package org.apache.hadoop.hbase.mapreduce\nhbase/HBaseMapReduce.java:15: error: cannot find symbol\nimport org.apache.hadoop.hbase.mapreduce.TableMapReduceUtil;\n                                        ^\n  symbol:   class TableMapReduceUtil\n  location: package org.apache.hadoop.hbase.mapreduce\nhbase/HBaseMapReduce.java:21: error: cannot find symbol\n    public static class hbaseMapper extends TableMapper&lt;Text, IntWritable&gt; {\n                                            ^\n  symbol:   class TableMapper\n  location: class HBaseMapReduce\nhbase/HBaseMapReduce.java:23: error: cannot find symbol\n        public void map(ImmutableBytesWritable rowKey, Result columns, Context context)\n                                                                       ^\n  symbol:   class Context\n  location: class hbaseMapper\nhbase/HBaseMapReduce.java:38: error: cannot find symbol\n    public static class hbaseReducer extends TableReducer&lt;Text, IntWritable, ImmutableBytesWritable&gt; {\n                                             ^\n  symbol:   class TableReducer\n  location: class HBaseMapReduce\nhbase/HBaseMapReduce.java:40: error: cannot find symbol\n        public void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context)\n                                                                   ^\n  symbol:   class Context\n  location: class hbaseReducer\nhbase/HBaseMapReduce.java:65: error: cannot find symbol\n        TableMapReduceUtil.initTableMapperJob(&quot;test1&quot;, scan, hbaseMapper.class, Text.class, IntWritable.class, job);\n        ^\n  symbol:   variable TableMapReduceUtil\n  location: class HBaseMapReduce\nhbase/HBaseMapReduce.java:67: error: cannot find symbol\n        TableMapReduceUtil.initTableReducerJob(&quot;test2&quot;, hbaseReducer.class, job);\n        ^\n  symbol:   variable TableMapReduceUtil\n  location: class HBaseMapReduce\n9 errors\n</code></pre>\n<p>I can successfully compile and run usual MapReduce code. The problem begins with using the MapReduce package inside the HBase package; i.e.</p>\n<pre><code>org.apache.hadoop.hbase.mapreduce\n</code></pre>\n<p>My environment variables:</p>\n<pre><code>#Hadoop Related Options\nexport HADOOP_HOME=/home/ubuntu/hadoop\nexport HADOOP_INSTALL=$HADOOP_HOME\nexport HADOOP_MAPRED_HOME=$HADOOP_HOME\nexport HADOOP_COMMON_HOME=$HADOOP_HOME\nexport HADOOP_HDFS_HOME=$HADOOP_HOME\nexport YARN_HOME=$HADOOP_HOME\nexport HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native\nexport PATH=$PATH:$HADOOP_HOME/sbin:$HADOOP_HOME/bin\nexport HADOOP_OPTS=&quot;-Djava.library.path=$HADOOP_HOME/lib/nativ&quot;\n#HBase related options\nexport HBASE_HOME=&quot;/home/ubuntu/hadoop/hbase&quot;\nexport HBASE_CONF=&quot;$HBASE_HOME/conf&quot;\nexport PATH=$HBASE_HOME/bin:$PATH\n#MapReduce Options\nexport HADOOP_CLASSPATH=$($HADOOP_HOME/bin/hadoop classpath)\nexport HBASE_CLASSPATH=$($HBASE_HOME/bin/hbase classpath)\nexport HADOOP_CLASSPATH=$HADOOP_CLASSPATH:$HBASE_CLASSPATH\n</code></pre>\n"},{"tags":["java","junit","mocking","mockito"],"answers":[{"tags":[],"owner":{"account_id":1433896,"reputation":43,"user_id":1355689,"display_name":"FloFromYet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647545757,"creation_date":1647545757,"answer_id":71518101,"question_id":71517232,"body_markdown":"Stubbing consecutive calls (iterator-style stubbing)\r\n\r\n\r\nhttps://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#10\r\n\r\n    when(mock.someMethod(&quot;some arg&quot;))\r\n       .thenThrow(new RuntimeException())\r\n       .thenReturn(&quot;foo&quot;);\r\n\r\n     //First call: throws runtime exception:\r\n     mock.someMethod(&quot;some arg&quot;);\r\n\r\n     //Second call: prints &quot;foo&quot;\r\n     System.out.println(mock.someMethod(&quot;some arg&quot;));\r\n\r\n     //Any consecutive call: prints &quot;foo&quot; as well (last stubbing wins).\r\n     System.out.println(mock.someMethod(&quot;some arg&quot;));\r\n\r\n\r\n","title":"Mock or Simulate HttpResponse with multiple attempts","body":"<p>Stubbing consecutive calls (iterator-style stubbing)</p>\n<p><a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#10\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#10</a></p>\n<pre><code>when(mock.someMethod(&quot;some arg&quot;))\n   .thenThrow(new RuntimeException())\n   .thenReturn(&quot;foo&quot;);\n\n //First call: throws runtime exception:\n mock.someMethod(&quot;some arg&quot;);\n\n //Second call: prints &quot;foo&quot;\n System.out.println(mock.someMethod(&quot;some arg&quot;));\n\n //Any consecutive call: prints &quot;foo&quot; as well (last stubbing wins).\n System.out.println(mock.someMethod(&quot;some arg&quot;));\n</code></pre>\n"}],"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647545757,"creation_date":1647541029,"question_id":71517232,"body_markdown":"I&#39;d like to do a JUnit test for a service that could return an HTTP status code (SERVICE_UNAVAILABLE). For me, this could be unavailable due to the container being scaled up and not yet reachable. In that case, I&#39;m having the code retry the service up to 3 times. \r\n\r\nI can mock an HttpResponse for testing, but only for one situation. Can Mockito create a mocked object that returns one thing on the first attempt, track the number of attempts and return a different result depending on the attempt number? The only thing I can think of doing is to implement my own HttpResponse. Is there a better approach with Mockito?\r\n\r\nThanks,\r\nWoodsman","title":"Mock or Simulate HttpResponse with multiple attempts","body":"<p>I'd like to do a JUnit test for a service that could return an HTTP status code (SERVICE_UNAVAILABLE). For me, this could be unavailable due to the container being scaled up and not yet reachable. In that case, I'm having the code retry the service up to 3 times.</p>\n<p>I can mock an HttpResponse for testing, but only for one situation. Can Mockito create a mocked object that returns one thing on the first attempt, track the number of attempts and return a different result depending on the attempt number? The only thing I can think of doing is to implement my own HttpResponse. Is there a better approach with Mockito?</p>\n<p>Thanks,\nWoodsman</p>\n"},{"tags":["java","eclipse","functional-programming","java-8"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1451045307,"post_id":34462639,"comment_id":56667067,"body_markdown":"*Eclipse yells at me if I don&#39;t surround those methods with try/catch blocks*: no. It yells at you if you don&#39;t catch the exception **or throw it**. Returning an empty optional rather than signalling the problem is most probably not the appropriate way of handling the exception. Just throw the exception. Or catch it, wrap it into another exception of the appropriate abstraction level, and throw that new exception. That new exception can be a RuntimeException, if you don&#39;t want to force the caller to handle it.","body":"<i>Eclipse yells at me if I don&#39;t surround those methods with try/catch blocks</i>: no. It yells at you if you don&#39;t catch the exception <b>or throw it</b>. Returning an empty optional rather than signalling the problem is most probably not the appropriate way of handling the exception. Just throw the exception. Or catch it, wrap it into another exception of the appropriate abstraction level, and throw that new exception. That new exception can be a RuntimeException, if you don&#39;t want to force the caller to handle it."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1451045601,"post_id":34462639,"comment_id":56667137,"body_markdown":"Catching `Exception` is especially not a good idea: it catches **everything**, including exceptions that you actually don&#39;t intend to handle (like NullPointerException, etc.), hiding bugs, and returning incorrect results instead of signalling a problem.","body":"Catching <code>Exception</code> is especially not a good idea: it catches <b>everything</b>, including exceptions that you actually don&#39;t intend to handle (like NullPointerException, etc.), hiding bugs, and returning incorrect results instead of signalling a problem."}],"answers":[{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1451045532,"creation_date":1451045532,"answer_id":34462722,"question_id":34462639,"body_markdown":"The main problem is how lambdas mixes up with checked exception, the design went in this way which could lead to awkward solutions like wrapping each call to methods which throw inside each lambda in which they are used. \r\n\r\nI ended up using a wrapper which manages this for me, something like:\r\n\r\n      @FunctionalInterface\r\n      public interface FunctionThrowing&lt;T, R&gt;\r\n      {\r\n        R apply(T t) throws Exception;\r\n      }\r\n    \r\n    \r\n      public static &lt;T, R&gt; Function&lt;T, R&gt; wrapFunction(FunctionThrowing&lt;T, R&gt; function)\r\n      {\r\n        return a -&gt; {\r\n          try\r\n          {\r\n            return function.apply(a);\r\n          } catch (Exception exception)\r\n          {\r\n            throw exception;\r\n            return null;\r\n          }\r\n        };\r\n      }\r\n\r\nThis basically wraps a function by returning a function which handles the checked exception and converts it to an unchecked exception so that you don&#39;t need to wrap each invocation with a `try/catch` block but you still don&#39;t lose the ability to catch the exception (since it becomes unchecked).","title":"Abstracting try/catch with Function in Java 8","body":"<p>The main problem is how lambdas mixes up with checked exception, the design went in this way which could lead to awkward solutions like wrapping each call to methods which throw inside each lambda in which they are used. </p>\n\n<p>I ended up using a wrapper which manages this for me, something like:</p>\n\n<pre><code>  @FunctionalInterface\n  public interface FunctionThrowing&lt;T, R&gt;\n  {\n    R apply(T t) throws Exception;\n  }\n\n\n  public static &lt;T, R&gt; Function&lt;T, R&gt; wrapFunction(FunctionThrowing&lt;T, R&gt; function)\n  {\n    return a -&gt; {\n      try\n      {\n        return function.apply(a);\n      } catch (Exception exception)\n      {\n        throw exception;\n        return null;\n      }\n    };\n  }\n</code></pre>\n\n<p>This basically wraps a function by returning a function which handles the checked exception and converts it to an unchecked exception so that you don't need to wrap each invocation with a <code>try/catch</code> block but you still don't lose the ability to catch the exception (since it becomes unchecked).</p>\n"},{"tags":[],"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1451045585,"creation_date":1451045585,"answer_id":34462731,"question_id":34462639,"body_markdown":"`Function.apply` does not allow to throw an exception, therefore the compiler complains when you pass in a lambda expression which does that.\r\n\r\nYou can resolve this issue by using a functional interface which allows to throw exceptions. (Maybe such a interface already exists in one of the java.util.* packages):\r\n\r\n\tpublic static &lt;A, T&gt; Optional&lt;T&gt; tryOpt (Fn&lt;A, T&gt; f, A arg) {\r\n\t    try {\r\n\t        return Optional.of(f.apply(arg));\r\n\t    } catch (Exception e) {\r\n\t        System.out.println(e.getMessage());\r\n\t        return Optional.empty();\r\n\t    }\r\n\t}\r\n\t\r\n\r\n\tpublic static interface Fn&lt;A, T&gt; {\r\n\t\t  T apply(A a) throws Exception;\r\n\t}\r\n\r\n\r\n","title":"Abstracting try/catch with Function in Java 8","body":"<p><code>Function.apply</code> does not allow to throw an exception, therefore the compiler complains when you pass in a lambda expression which does that.</p>\n\n<p>You can resolve this issue by using a functional interface which allows to throw exceptions. (Maybe such a interface already exists in one of the java.util.* packages):</p>\n\n<pre><code>public static &lt;A, T&gt; Optional&lt;T&gt; tryOpt (Fn&lt;A, T&gt; f, A arg) {\n    try {\n        return Optional.of(f.apply(arg));\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n        return Optional.empty();\n    }\n}\n\n\npublic static interface Fn&lt;A, T&gt; {\n      T apply(A a) throws Exception;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":170809,"reputation":16057,"user_id":397786,"display_name":"Tassos Bassoukos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1451045694,"creation_date":1451045694,"answer_id":34462749,"question_id":34462639,"body_markdown":"If it&#39;s a red line, it&#39;s not a warning, it&#39;s an error.\r\n\r\nIn this case, the `Function&lt;A,R&gt;` interface declares a method that does *not* throw an exception, but your implementation of it does. In this case, your best bet is to create your own functional interface that declares a method that does throw an exception, something like \r\n\r\n    public interface SupplierWithException&lt;R&gt; {R get();}\r\n\r\nYou use it like this:\r\n\r\n    return asOptional(() -&gt; thing.doSomething(arg1, arg2, arg3));\r\n\r\nHowever, I would suggest that simply swallowing exceptions is bad form; if you use the `asOptional` method a lot this indicates that you have an impedance mismatch between your sections of your code (a library that you use?). You could either rethrow the exceptions as `RuntimeException`s, or use something like RxJava that explicitly handles exceptions.","title":"Abstracting try/catch with Function in Java 8","body":"<p>If it's a red line, it's not a warning, it's an error.</p>\n\n<p>In this case, the <code>Function&lt;A,R&gt;</code> interface declares a method that does <em>not</em> throw an exception, but your implementation of it does. In this case, your best bet is to create your own functional interface that declares a method that does throw an exception, something like </p>\n\n<pre><code>public interface SupplierWithException&lt;R&gt; {R get();}\n</code></pre>\n\n<p>You use it like this:</p>\n\n<pre><code>return asOptional(() -&gt; thing.doSomething(arg1, arg2, arg3));\n</code></pre>\n\n<p>However, I would suggest that simply swallowing exceptions is bad form; if you use the <code>asOptional</code> method a lot this indicates that you have an impedance mismatch between your sections of your code (a library that you use?). You could either rethrow the exceptions as <code>RuntimeException</code>s, or use something like RxJava that explicitly handles exceptions.</p>\n"},{"tags":[],"owner":{"account_id":18161002,"reputation":86,"user_id":13212398,"display_name":"AlexFreik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647545596,"creation_date":1647543960,"answer_id":71517754,"question_id":34462639,"body_markdown":"Modern way of doing it:\r\n```java\r\ninterface VoidCallable {\r\n    void call() throws Exception;\r\n}\r\n\r\npublic static void tryCatchBlockWrapper(VoidCallable func) {\r\n    try {\r\n        func.call();\r\n    } catch (IOException e) {\r\n        // do something\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n\r\npublic void functionToWrap() {\r\n    tryCatchBlockWrapper(() -&gt; throw new IOException());   \r\n}\r\n```\r\n\r\n---\r\n\r\nP.S. If you want to add context (pass more arguments) you can just add them:\r\n```java\r\npublic static void tryCatchBlockWrapper(String anotherArg, VoidCallable func) {\r\n    // ...\r\n}\r\n```","title":"Abstracting try/catch with Function in Java 8","body":"<p>Modern way of doing it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface VoidCallable {\n    void call() throws Exception;\n}\n\npublic static void tryCatchBlockWrapper(VoidCallable func) {\n    try {\n        func.call();\n    } catch (IOException e) {\n        // do something\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\npublic void functionToWrap() {\n    tryCatchBlockWrapper(() -&gt; throw new IOException());   \n}\n</code></pre>\n<hr />\n<p>P.S. If you want to add context (pass more arguments) you can just add them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void tryCatchBlockWrapper(String anotherArg, VoidCallable func) {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":1676251,"reputation":73,"user_id":4801890,"display_name":"DruidGreeneyes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5947,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":34462731,"answer_count":4,"score":7,"last_activity_date":1647545596,"creation_date":1451044693,"question_id":34462639,"body_markdown":"I&#39;ve recently found myself writing many blocks of the following form:\r\n\r\n    try {\r\n        return Optional.of(thing.doSomething(arg));\r\n    } catch (Exception e) {\r\n        System.out.println(e.getMessage());\r\n        return Optional.empty();\r\n    }\r\n\r\nThis is necessary because certain methods signal that they may throw exceptions, and Eclipse yells at me if I don&#39;t surround those methods with try/catch blocks.\r\n\r\nSo I wrote this:\r\n\r\n    public static &lt;A, T&gt; Optional&lt;T&gt; tryOpt (Function&lt;A, T&gt; f, A arg) {\r\n        try {\r\n            return Optional.of(f.apply(arg));\r\n        } catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n            return Optional.empty();\r\n        }\r\n    }\r\n\r\nSo any Function I pass to tryOpt is enclosed in a try/catch block and safely executed, and its result returned as an Optional. But Eclipse still yells at me for using it:\r\n\r\n    return tryOpt(\r\n              ((x) -&gt; thing.doSomething(x)),\r\n              arg);\r\n\r\nMy question is, is there any way for me to tell Eclipse and/or the java compiler that it&#39;s okay, and that I *am* indirectly enclosing the offending method within a try/catch block? Or have I just misunderstood something about how java works, in which case, would someone mind enlightening me? Or, on the other hand, can I safely ignore Eclipse&#39;s red-line warnings in this case?","title":"Abstracting try/catch with Function in Java 8","body":"<p>I've recently found myself writing many blocks of the following form:</p>\n\n<pre><code>try {\n    return Optional.of(thing.doSomething(arg));\n} catch (Exception e) {\n    System.out.println(e.getMessage());\n    return Optional.empty();\n}\n</code></pre>\n\n<p>This is necessary because certain methods signal that they may throw exceptions, and Eclipse yells at me if I don't surround those methods with try/catch blocks.</p>\n\n<p>So I wrote this:</p>\n\n<pre><code>public static &lt;A, T&gt; Optional&lt;T&gt; tryOpt (Function&lt;A, T&gt; f, A arg) {\n    try {\n        return Optional.of(f.apply(arg));\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n        return Optional.empty();\n    }\n}\n</code></pre>\n\n<p>So any Function I pass to tryOpt is enclosed in a try/catch block and safely executed, and its result returned as an Optional. But Eclipse still yells at me for using it:</p>\n\n<pre><code>return tryOpt(\n          ((x) -&gt; thing.doSomething(x)),\n          arg);\n</code></pre>\n\n<p>My question is, is there any way for me to tell Eclipse and/or the java compiler that it's okay, and that I <em>am</em> indirectly enclosing the offending method within a try/catch block? Or have I just misunderstood something about how java works, in which case, would someone mind enlightening me? Or, on the other hand, can I safely ignore Eclipse's red-line warnings in this case?</p>\n"},{"tags":["java","spring-boot","h2"],"comments":[{"owner":{"account_id":15904182,"reputation":974,"user_id":11475829,"display_name":"Atul K"},"score":0,"creation_date":1558360951,"post_id":56218732,"comment_id":99065674,"body_markdown":"To answer your second question, one solution would be to start 2 spring boot applications. First boot app with embedded H2 (server.port=9090) and Second boot app (server.port=8081), and in second boot app, can configure first boot app with port 9090. Ref: https://www.baeldung.com/spring-boot-access-h2-database-multiple-apps","body":"To answer your second question, one solution would be to start 2 spring boot applications. First boot app with embedded H2 (server.port=9090) and Second boot app (server.port=8081), and in second boot app, can configure first boot app with port 9090. Ref: <a href=\"https://www.baeldung.com/spring-boot-access-h2-database-multiple-apps\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-access-h2-database-multiple-apps</a>"}],"answers":[{"tags":[],"owner":{"account_id":15904182,"reputation":974,"user_id":11475829,"display_name":"Atul K"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1558347896,"creation_date":1558347896,"answer_id":56218969,"question_id":56218732,"body_markdown":"Add `server.port=8081` to your config. As its embedded, should use the same port of that of service. So should be able to access it using url: http://localhost:8081/h2-console","title":"How to change the port of the spring boot h2 console","body":"<p>Add <code>server.port=8081</code> to your config. As its embedded, should use the same port of that of service. So should be able to access it using url: <a href=\"http://localhost:8081/h2-console\" rel=\"noreferrer\">http://localhost:8081/h2-console</a></p>\n"},{"tags":[],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647545165,"creation_date":1647545165,"answer_id":71517996,"question_id":56218732,"body_markdown":"For instance, you app yml config:\r\n\r\n    #tomcat\r\n    server.port: 7999\r\n    \r\n    #h2\r\n    spring:\r\n      h2:\r\n        console.enabled: true\r\n\r\nStart app and h2-console is available on 7999 port\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rEFf9.png","title":"How to change the port of the spring boot h2 console","body":"<p>For instance, you app yml config:</p>\n<pre><code>#tomcat\nserver.port: 7999\n\n#h2\nspring:\n  h2:\n    console.enabled: true\n</code></pre>\n<p>Start app and h2-console is available on 7999 port\n<a href=\"https://i.stack.imgur.com/rEFf9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rEFf9.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2256418,"reputation":3983,"user_id":1987514,"accept_rate":86,"display_name":"Ben Green"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26977,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56218969,"answer_count":2,"score":4,"last_activity_date":1647545165,"creation_date":1558347101,"question_id":56218732,"body_markdown":"I am trying to view the spring boot h2 console. However, the default port is 8080, and that port is already being used on my machine. \r\n\r\nIs there a way for me to change the web port that spring boot uses for h2? There&#39;s a lot of documentation around changing the path, but I can&#39;t find anything about changing the port. This is my current config set up:\r\n\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=password\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.h2.console.enabled=true\r\n    spring.h2.console.settings.web-allow-others=true\r\n    spring.jpa.database=h2\r\n\r\n\r\n**EDIT**\r\nAs mentioned by Atul K below, the h2 web console is available on the configured `server.port`. However, this isn&#39;t an option for me as our spring boot application performs mandatory header validation for all requests coming to the spring boot app. Is it possible to independently configure a port for the h2 web console and the spring boot app?","title":"How to change the port of the spring boot h2 console","body":"<p>I am trying to view the spring boot h2 console. However, the default port is 8080, and that port is already being used on my machine. </p>\n\n<p>Is there a way for me to change the web port that spring boot uses for h2? There's a lot of documentation around changing the path, but I can't find anything about changing the port. This is my current config set up:</p>\n\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\nspring.h2.console.settings.web-allow-others=true\nspring.jpa.database=h2\n</code></pre>\n\n<p><strong>EDIT</strong>\nAs mentioned by Atul K below, the h2 web console is available on the configured <code>server.port</code>. However, this isn't an option for me as our spring boot application performs mandatory header validation for all requests coming to the spring boot app. Is it possible to independently configure a port for the h2 web console and the spring boot app?</p>\n"},{"tags":["java","audio","javasound"],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598749863,"creation_date":1598749863,"answer_id":63653126,"question_id":63650594,"body_markdown":"The API for Clip states: \r\n\r\n&gt; Note that some lines, once closed, cannot be reopened. Attempts to\r\n&gt; reopen such a line will always result in a `LineUnavailableException`.\r\n\r\nI&#39;m going to make a couple additional suggestions. \r\n\r\nInstead of using `File`, a better way to load audio resources is with the `class.getResource` method. This method returns a `URL` which you can then pass as your argument to the `AudioSystem.getAudioInputStream` method.\r\n\r\nI&#39;m not clear what you are trying to do, but I also recommend some further changes to your code. Initializing and playing a `Clip` in the same method is not generally done, as it goes against the intended use of the `Clip`. A `Clip` is meant for sounds that can be held in memory. So, make your `Clip` an instance variable. Then, place the code that loads and opens the `Clip` in its own method.  And put the code that calls `start` or `loop` in a separate method or methods, and don&#39;t close the `Clip` at the end of playing unless you are sure you are not going to ever play it again.\r\n\r\nIf you use `clip.loop`, you don&#39;t have to bother with listeners and count iterations.","title":"Java Sound API locks audio file after playing it","body":"<p>The API for Clip states:</p>\n<blockquote>\n<p>Note that some lines, once closed, cannot be reopened. Attempts to\nreopen such a line will always result in a <code>LineUnavailableException</code>.</p>\n</blockquote>\n<p>I'm going to make a couple additional suggestions.</p>\n<p>Instead of using <code>File</code>, a better way to load audio resources is with the <code>class.getResource</code> method. This method returns a <code>URL</code> which you can then pass as your argument to the <code>AudioSystem.getAudioInputStream</code> method.</p>\n<p>I'm not clear what you are trying to do, but I also recommend some further changes to your code. Initializing and playing a <code>Clip</code> in the same method is not generally done, as it goes against the intended use of the <code>Clip</code>. A <code>Clip</code> is meant for sounds that can be held in memory. So, make your <code>Clip</code> an instance variable. Then, place the code that loads and opens the <code>Clip</code> in its own method.  And put the code that calls <code>start</code> or <code>loop</code> in a separate method or methods, and don't close the <code>Clip</code> at the end of playing unless you are sure you are not going to ever play it again.</p>\n<p>If you use <code>clip.loop</code>, you don't have to bother with listeners and count iterations.</p>\n"},{"tags":[],"owner":{"account_id":20726544,"reputation":21,"user_id":15219719,"display_name":"Reda Boukdir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647545048,"creation_date":1647545048,"answer_id":71517969,"question_id":63650594,"body_markdown":"Instead of:\r\n\r\n    //...\r\n    AudioInputStream inputStream;\r\n    File soundFile = new File(&quot;alerting.wav&quot;);\r\n    try {\r\n        inputStream = AudioSystem.getAudioInputStream(soundFile);\r\n        // ...\r\n    }\r\n    // ...\r\n\r\nTry this: \r\n\r\n    //...\r\n    AudioInputStream inputStream;\r\n    File soundFile = new File(&quot;alerting.wav&quot;);\r\n    try {\r\n        byte[] bytes = Files.readAllBytes(soundFile.toPath());\r\n        inputStream = AudioSystem.getAudioInputStream(new ByteArrayInputStream(bytes));\r\n        // ...\r\n    }\r\n    // ...","title":"Java Sound API locks audio file after playing it","body":"<p>Instead of:</p>\n<pre><code>//...\nAudioInputStream inputStream;\nFile soundFile = new File(&quot;alerting.wav&quot;);\ntry {\n    inputStream = AudioSystem.getAudioInputStream(soundFile);\n    // ...\n}\n// ...\n</code></pre>\n<p>Try this:</p>\n<pre><code>//...\nAudioInputStream inputStream;\nFile soundFile = new File(&quot;alerting.wav&quot;);\ntry {\n    byte[] bytes = Files.readAllBytes(soundFile.toPath());\n    inputStream = AudioSystem.getAudioInputStream(new ByteArrayInputStream(bytes));\n    // ...\n}\n// ...\n</code></pre>\n"}],"owner":{"account_id":1976867,"reputation":71,"user_id":1774470,"accept_rate":20,"display_name":"Adrian Bica"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647545048,"creation_date":1598726521,"question_id":63650594,"body_markdown":"I am trying to use Javax.sound to play a .wav file.\r\nEverything works fine, the file plays as expected and in the end I close the Clip and I close the AudioInputStream. However, the file remains locked (in use) after that and I cannot touch it without getting an exception:  java.nio.file.FileSystemException: alerting.wav: The process cannot access the file because it is being used by another process.\r\n\r\nA sample of code is below:\r\n\r\n    static private class SoundThread extends Thread implements LineListener {\r\n        private boolean playCompleted;\r\n        private int cycles;\r\n        \r\n        public SoundThread(int repeats) {\r\n            cycles = repeats;\r\n        }\r\n        \r\n        @Override\r\n        public void run() {\r\n            Clip clip;\r\n            AudioInputStream inputStream;\r\n            File soundFile = new File(&quot;alerting.wav&quot;);\r\n            try {\r\n                inputStream = AudioSystem.getAudioInputStream(soundFile);\r\n                try {\r\n                    clip = AudioSystem.getClip();\r\n                    clip.addLineListener(this);\r\n                    clip.open(inputStream);\r\n                    while(cycles &gt; 0) {\r\n                        playCompleted = false;\r\n                        clip.setFramePosition(0);\r\n                        clip.start();\r\n                        while(!playCompleted) {\r\n                            Thread.sleep(1000);\r\n                        }\r\n                        Thread.sleep(audioRepeatTime * 1000);\r\n                        cycles--;\r\n                    }\r\n                    //clip.drain();\r\n                    clip.close();\r\n                    inputStream.close();\r\n                    System.out.println(&quot;All closed&quot;);\r\n                    try {\r\n                        this.finalize();\r\n                    } catch (Throwable ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                } catch (Exception ex) {\r\n                    Main.syslog(Level.WARNING, &quot;E1001 could not play alert sound&quot;, ex);\r\n                } finally {\r\n                    inputStream.close();\r\n                }\r\n            } catch (UnsupportedAudioFileException ex) {\r\n                Main.syslog(Level.WARNING, &quot;E1001 could not play alert sound&quot;, ex);\r\n            } catch (IOException ex) {\r\n                Main.syslog(Level.WARNING, &quot;E1001 could not play alert sound&quot;, ex);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void update(LineEvent event) {\r\n            LineEvent.Type type = event.getType();\r\n            \r\n            System.out.println(&quot;Event: &quot; + type);\r\n            if(type == LineEvent.Type.STOP) {\r\n                playCompleted = true;\r\n            } else if (type == LineEvent.Type.CLOSE) {\r\n                System.out.println(&quot;listener closed&quot;);\r\n            }\r\n        }\r\n    }\r\n    \r\n    public static void PlayAlertSound() {\r\n        if(enableAudio) {\r\n            SoundThread st = new SoundThread(audioLoops);\r\n            st.start();\r\n        }\r\n    } \r\n    \r\n    public static void PlayAlertSound(int repeats) {\r\n        if(enableAudio) {\r\n            SoundThread st = new SoundThread(repeats);\r\n            st.start();\r\n        }\r\n    } \r\n    \r\nIn the Java threads list I see &quot;Java Sound Event Dispatcher&quot; running. I think this is what keeps the file locked.\r\nAny idea how can I fix this? Thanks\r\n","title":"Java Sound API locks audio file after playing it","body":"<p>I am trying to use Javax.sound to play a .wav file.\nEverything works fine, the file plays as expected and in the end I close the Clip and I close the AudioInputStream. However, the file remains locked (in use) after that and I cannot touch it without getting an exception:  java.nio.file.FileSystemException: alerting.wav: The process cannot access the file because it is being used by another process.</p>\n<p>A sample of code is below:</p>\n<pre><code>static private class SoundThread extends Thread implements LineListener {\n    private boolean playCompleted;\n    private int cycles;\n    \n    public SoundThread(int repeats) {\n        cycles = repeats;\n    }\n    \n    @Override\n    public void run() {\n        Clip clip;\n        AudioInputStream inputStream;\n        File soundFile = new File(&quot;alerting.wav&quot;);\n        try {\n            inputStream = AudioSystem.getAudioInputStream(soundFile);\n            try {\n                clip = AudioSystem.getClip();\n                clip.addLineListener(this);\n                clip.open(inputStream);\n                while(cycles &gt; 0) {\n                    playCompleted = false;\n                    clip.setFramePosition(0);\n                    clip.start();\n                    while(!playCompleted) {\n                        Thread.sleep(1000);\n                    }\n                    Thread.sleep(audioRepeatTime * 1000);\n                    cycles--;\n                }\n                //clip.drain();\n                clip.close();\n                inputStream.close();\n                System.out.println(&quot;All closed&quot;);\n                try {\n                    this.finalize();\n                } catch (Throwable ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            } catch (Exception ex) {\n                Main.syslog(Level.WARNING, &quot;E1001 could not play alert sound&quot;, ex);\n            } finally {\n                inputStream.close();\n            }\n        } catch (UnsupportedAudioFileException ex) {\n            Main.syslog(Level.WARNING, &quot;E1001 could not play alert sound&quot;, ex);\n        } catch (IOException ex) {\n            Main.syslog(Level.WARNING, &quot;E1001 could not play alert sound&quot;, ex);\n        }\n    }\n\n    @Override\n    public void update(LineEvent event) {\n        LineEvent.Type type = event.getType();\n        \n        System.out.println(&quot;Event: &quot; + type);\n        if(type == LineEvent.Type.STOP) {\n            playCompleted = true;\n        } else if (type == LineEvent.Type.CLOSE) {\n            System.out.println(&quot;listener closed&quot;);\n        }\n    }\n}\n\npublic static void PlayAlertSound() {\n    if(enableAudio) {\n        SoundThread st = new SoundThread(audioLoops);\n        st.start();\n    }\n} \n\npublic static void PlayAlertSound(int repeats) {\n    if(enableAudio) {\n        SoundThread st = new SoundThread(repeats);\n        st.start();\n    }\n} \n</code></pre>\n<p>In the Java threads list I see &quot;Java Sound Event Dispatcher&quot; running. I think this is what keeps the file locked.\nAny idea how can I fix this? Thanks</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8485,"page":1507,"page_size":100}
