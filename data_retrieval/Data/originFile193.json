{"items":[{"tags":["java","spring-boot","thymeleaf","junit5","spring-test"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694291878,"creation_date":1694291878,"answer_id":77073980,"question_id":77051481,"body_markdown":"Those thymeleaf related beans are auto-configured by `ThymeleafAutoConfiguration` which is enabled if any configuration class is annotated with `@EnableAutoConfiguration`. \r\n\r\n`@SpringBootApplication` has this `@EnableAutoConfiguration` , so when you start the app in normal way , `ThymeleafAutoConfiguration` takes effect and define the related thymeleaf beans.\r\n\r\nBut now in test , you just specify to use `ThymeleafProcessor` and `TemplateEngine` as the configuration class to start the spring context. Neither `@SpringBootApplication` nor `@EnableAutoConfiguration` involved and so `ThymeleafAutoConfiguration` does not take effect.\r\n\r\nYou can fix it by explicitly import `ThymeleafAutoConfiguration` using `@ImportAutoConfiguration` :\r\n\r\n``` java\r\n@SpringBootTest(classes = {ThymeleafProcessor.class})\r\n@ImportAutoConfiguration(ThymeleafAutoConfiguration.class)\r\nclass ThymeleafProcessorTest {\r\n\r\n\r\n}\r\n```\r\n\r\nI also tidy up the codes a bit :\r\n\r\n- `@ExtendWith(SpringExtension.class)`  is not required as it is already defined by `@SpringBootTest`\r\n\r\n- Do not need to define `TemplateEngine` in `@SpringBootTest` as it will be defined by `ThymeleafAutoConfiguration`\r\n\r\n- Most probably `@EnableConfigurationProperties` is also not required.\r\n","title":"How to unit test a Thymeleaf template using Spring Boot Test","body":"<p>Those thymeleaf related beans are auto-configured by <code>ThymeleafAutoConfiguration</code> which is enabled if any configuration class is annotated with <code>@EnableAutoConfiguration</code>.</p>\n<p><code>@SpringBootApplication</code> has this <code>@EnableAutoConfiguration</code> , so when you start the app in normal way , <code>ThymeleafAutoConfiguration</code> takes effect and define the related thymeleaf beans.</p>\n<p>But now in test , you just specify to use <code>ThymeleafProcessor</code> and <code>TemplateEngine</code> as the configuration class to start the spring context. Neither <code>@SpringBootApplication</code> nor <code>@EnableAutoConfiguration</code> involved and so <code>ThymeleafAutoConfiguration</code> does not take effect.</p>\n<p>You can fix it by explicitly import <code>ThymeleafAutoConfiguration</code> using <code>@ImportAutoConfiguration</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = {ThymeleafProcessor.class})\n@ImportAutoConfiguration(ThymeleafAutoConfiguration.class)\nclass ThymeleafProcessorTest {\n\n\n}\n</code></pre>\n<p>I also tidy up the codes a bit :</p>\n<ul>\n<li><p><code>@ExtendWith(SpringExtension.class)</code>  is not required as it is already defined by <code>@SpringBootTest</code></p>\n</li>\n<li><p>Do not need to define <code>TemplateEngine</code> in <code>@SpringBootTest</code> as it will be defined by <code>ThymeleafAutoConfiguration</code></p>\n</li>\n<li><p>Most probably <code>@EnableConfigurationProperties</code> is also not required.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":460980,"reputation":399,"user_id":862404,"accept_rate":66,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77073980,"answer_count":1,"score":0,"last_activity_date":1694331839,"creation_date":1693999845,"question_id":77051481,"body_markdown":"I am parsing a Thymeleaf template using the following bean:\r\n\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import org.thymeleaf.TemplateEngine;\r\n    import org.thymeleaf.context.Context;\r\n    \r\n    @Service\r\n    public class ThymeleafProcessor {\r\n    \r\n        private final TemplateEngine templateEngine;\r\n    \r\n        @Autowired\r\n        public ThymeleafProcessor(TemplateEngine templateEngine) {\r\n            this.templateEngine = templateEngine;\r\n        }\r\n    \r\n        public String process() {\r\n            final var templateResolvers = templateEngine.getTemplateResolvers();\r\n            System.out.println(templateResolvers);// Collection with one SpringResourceTemplateResolver \r\n            String process = templateEngine.process(&quot;test.html&quot;, new Context());\r\n            System.out.println(process); //Prints &quot;Hello World&quot;\r\n            return process;\r\n        }\r\n    }\r\n\r\n\r\nThe template is located in src/main/resources/templates and looks like this:\r\n\r\n    Hello World\r\n\r\nSo far everything works fine.\r\n\r\nNow I want to write a unit test for the bean but this doesn&#39;t work:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.junit.jupiter.SpringExtension;\r\n    import org.thymeleaf.TemplateEngine;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    \r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(classes = {\r\n            ThymeleafProcessor.class,\r\n            TemplateEngine.class,\r\n    })\r\n    @EnableConfigurationProperties\r\n    class ThymeleafProcessorTest {\r\n    \r\n        @Autowired\r\n        private ThymeleafProcessor thymeleafProcessor;\r\n    \r\n        @Autowired\r\n        private TemplateEngine templateEngine;\r\n    \r\n    \r\n        @Test\r\n        void doTest() {\r\n            System.out.println(templateEngine.getTemplateResolvers().size());  //this will return 0 in the test\r\n    \r\n            var result = thymeleafProcessor.process();\r\n    \r\n            assertEquals(&quot;Hello World&quot;, result);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nInsetad of the expected String &quot;Hello World&quot; the String &quot;test.html&quot; is returned. The problem seems to be that no Template Resolver is available.\r\n\r\nHow does the test need to be configured in order to test the Thymeleaf template?\r\n\r\n","title":"How to unit test a Thymeleaf template using Spring Boot Test","body":"<p>I am parsing a Thymeleaf template using the following bean:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.thymeleaf.TemplateEngine;\nimport org.thymeleaf.context.Context;\n\n@Service\npublic class ThymeleafProcessor {\n\n    private final TemplateEngine templateEngine;\n\n    @Autowired\n    public ThymeleafProcessor(TemplateEngine templateEngine) {\n        this.templateEngine = templateEngine;\n    }\n\n    public String process() {\n        final var templateResolvers = templateEngine.getTemplateResolvers();\n        System.out.println(templateResolvers);// Collection with one SpringResourceTemplateResolver \n        String process = templateEngine.process(&quot;test.html&quot;, new Context());\n        System.out.println(process); //Prints &quot;Hello World&quot;\n        return process;\n    }\n}\n</code></pre>\n<p>The template is located in src/main/resources/templates and looks like this:</p>\n<pre><code>Hello World\n</code></pre>\n<p>So far everything works fine.</p>\n<p>Now I want to write a unit test for the bean but this doesn't work:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\nimport org.thymeleaf.TemplateEngine;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\n@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = {\n        ThymeleafProcessor.class,\n        TemplateEngine.class,\n})\n@EnableConfigurationProperties\nclass ThymeleafProcessorTest {\n\n    @Autowired\n    private ThymeleafProcessor thymeleafProcessor;\n\n    @Autowired\n    private TemplateEngine templateEngine;\n\n\n    @Test\n    void doTest() {\n        System.out.println(templateEngine.getTemplateResolvers().size());  //this will return 0 in the test\n\n        var result = thymeleafProcessor.process();\n\n        assertEquals(&quot;Hello World&quot;, result);\n    }\n\n}\n</code></pre>\n<p>Insetad of the expected String &quot;Hello World&quot; the String &quot;test.html&quot; is returned. The problem seems to be that no Template Resolver is available.</p>\n<p>How does the test need to be configured in order to test the Thymeleaf template?</p>\n"},{"tags":["java","security","jar","crlf-vulnerability"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1694331822,"post_id":77075132,"comment_id":135875255,"body_markdown":"Finding all installed JAR files can be done using an OS-specific command; e.g. `sudo find / -name \\*.jar`.  The duplink tells you how to find a JAR&#39;s version information (if any) ... in addition to what is implied by the JAR file&#39;s filename.","body":"Finding all installed JAR files can be done using an OS-specific command; e.g. <code>sudo find &#47; -name \\*.jar</code>.  The duplink tells you how to find a JAR&#39;s version information (if any) ... in addition to what is implied by the JAR file&#39;s filename."},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1694347159,"post_id":77075132,"comment_id":135876703,"body_markdown":"...and for the CVEs you can use https://owasp.org/www-project-dependency-check/","body":"...and for the CVEs you can use <a href=\"https://owasp.org/www-project-dependency-check/\" rel=\"nofollow noreferrer\">owasp.org/www-project-dependency-check</a>"}],"owner":{"account_id":2982039,"reputation":1,"user_id":2531808,"display_name":"Zoeb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694331733,"answer_count":0,"score":0,"last_activity_date":1694330292,"creation_date":1694330292,"question_id":77075132,"body_markdown":"I&#39;m trying to find and list all the Java Jar files in the system for vulnerability scanning. \r\n\r\nNeed to get the information regarding their version and any active CVEs that are against those Versions of JAR. \r\n\r\nWill also appreciate any advice on tools that can do it. \r\n\r\ntried listing all the Jar files manually, but couldnt get the version info from that. ","title":"Finding all the JAR packages that are installed in a system for vulnerability scanning","body":"<p>I'm trying to find and list all the Java Jar files in the system for vulnerability scanning.</p>\n<p>Need to get the information regarding their version and any active CVEs that are against those Versions of JAR.</p>\n<p>Will also appreciate any advice on tools that can do it.</p>\n<p>tried listing all the Jar files manually, but couldnt get the version info from that.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":18420551,"reputation":404,"user_id":13418296,"display_name":"Generous Badger"},"score":1,"creation_date":1648205089,"post_id":61370386,"comment_id":126570889,"body_markdown":"*Usually* when you&#39;re given external class files they should be bundled inside a jar file. But a directory containing class files can also be on the classpath.","body":"<i>Usually</i> when you&#39;re given external class files they should be bundled inside a jar file. But a directory containing class files can also be on the classpath."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694329681,"post_id":61370386,"comment_id":135875098,"body_markdown":"Surely this just refers to the `import` statement?","body":"Surely this just refers to the <code>import</code> statement?"}],"answers":[{"tags":[],"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1587625933,"creation_date":1587625933,"answer_id":61381361,"question_id":61370386,"body_markdown":"as I know, intellij idea can decompile the .class file depends on the build in decompile plugin, while the extension named &#39;Java Decompiler&#39; in vscode marketplace works a little complex. maybe you can take a try, use the &#39;Java Decompiler&#39; extension or take a look in the intellij idea.","title":"How to use java .class file in Visual Studio Code?","body":"<p>as I know, intellij idea can decompile the .class file depends on the build in decompile plugin, while the extension named 'Java Decompiler' in vscode marketplace works a little complex. maybe you can take a try, use the 'Java Decompiler' extension or take a look in the intellij idea.</p>\n"},{"tags":[],"owner":{"account_id":78259,"reputation":1816,"user_id":222838,"accept_rate":75,"display_name":"mico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652256624,"creation_date":1652256624,"answer_id":72197568,"question_id":61370386,"body_markdown":"The easiest way is to have both classes in the same directory, like in this example. Say you have class A\r\n\r\n    public class A {\r\n        public int fun() {\r\n            return 0;\r\n        }\r\n    }\r\n\r\nto use class A from class B in the same directory, you just declare a type A in your B\r\n\r\n\tclass B {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tA a = new A();\r\n\t\t\tint i = a.fun();\r\n\t\t\tSystem.out.println(i);\r\n\t\t}\r\n\t}\r\n \r\nthis will print `0`.\r\n\r\nThis works because both classes are in the same directory, and class A is declared public.\r\n\r\nBeing in the same directory, with no package declaration, means that both classes are in the default package, this is the easiest case.","title":"How to use java .class file in Visual Studio Code?","body":"<p>The easiest way is to have both classes in the same directory, like in this example. Say you have class A</p>\n<pre><code>public class A {\n    public int fun() {\n        return 0;\n    }\n}\n</code></pre>\n<p>to use class A from class B in the same directory, you just declare a type A in your B</p>\n<pre><code>class B {\n    public static void main(String[] args) {\n        A a = new A();\n        int i = a.fun();\n        System.out.println(i);\n    }\n}\n</code></pre>\n<p>this will print <code>0</code>.</p>\n<p>This works because both classes are in the same directory, and class A is declared public.</p>\n<p>Being in the same directory, with no package declaration, means that both classes are in the default package, this is the easiest case.</p>\n"},{"tags":[],"owner":{"account_id":1863598,"reputation":1206,"user_id":1687636,"accept_rate":64,"display_name":"Sheldon Wei"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660296301,"creation_date":1660296301,"answer_id":73331974,"question_id":61370386,"body_markdown":"You may use the extension https://marketplace.visualstudio.com/items?itemName=dgileadi.java-decompiler.\r\nThe ext can help you view the original source code of .class file.\r\n\r\nOn the other hand, what you talked is auto-import feature, which is suported by vscode now.","title":"How to use java .class file in Visual Studio Code?","body":"<p>You may use the extension <a href=\"https://marketplace.visualstudio.com/items?itemName=dgileadi.java-decompiler\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=dgileadi.java-decompiler</a>.\nThe ext can help you view the original source code of .class file.</p>\n<p>On the other hand, what you talked is auto-import feature, which is suported by vscode now.</p>\n"}],"owner":{"account_id":18373681,"reputation":29,"user_id":13383260,"display_name":"Cory"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21492,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":3,"score":1,"last_activity_date":1694329320,"creation_date":1587573570,"question_id":61370386,"body_markdown":"I&#39;m currently studying a Java course, and one of the assignments requires me to use (import) a class inside a .class file.\r\n\r\nI&#39;m currently using Visual Studio Code, and I can&#39;t seem to find a way to import the class into my Java code.\r\n\r\nWe are not given the .java code. From what I can tell, Visual Studio Code does not support the use of .class files.","title":"How to use java .class file in Visual Studio Code?","body":"<p>I'm currently studying a Java course, and one of the assignments requires me to use (import) a class inside a .class file.</p>\n\n<p>I'm currently using Visual Studio Code, and I can't seem to find a way to import the class into my Java code.</p>\n\n<p>We are not given the .java code. From what I can tell, Visual Studio Code does not support the use of .class files.</p>\n"},{"tags":["java","android","android-webview"],"comments":[{"owner":{"account_id":2191523,"reputation":6723,"user_id":1938435,"accept_rate":92,"display_name":"PurkkaKoodari"},"score":0,"creation_date":1445499986,"post_id":33275717,"comment_id":54352113,"body_markdown":"Possible duplicate of [How to edit or create custom error page for WebView?](http://stackoverflow.com/questions/4101331/how-to-edit-or-create-custom-error-page-for-webview)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/4101331/how-to-edit-or-create-custom-error-page-for-webview\">How to edit or create custom error page for WebView?</a>"},{"owner":{"account_id":274791,"reputation":1249,"user_id":567235,"accept_rate":79,"display_name":"CoderRoller"},"score":0,"creation_date":1445501314,"post_id":33275717,"comment_id":54352858,"body_markdown":"I dont want to hide the message only but to hold to it until the signal is strong and the page is loaded, see the edit.","body":"I dont want to hide the message only but to hold to it until the signal is strong and the page is loaded, see the edit."}],"answers":[{"tags":[],"owner":{"account_id":3523143,"reputation":213,"user_id":2944936,"display_name":"Ravneet Singh"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1445508222,"creation_date":1445500138,"answer_id":33275826,"question_id":33275717,"body_markdown":"You can check the url that is getting loaded in your webview by doing this.\r\n    \r\n    myWebView.setWebViewClient(new WebViewClient() {\r\n        @SuppressLint(&quot;NewApi&quot;)\r\n        @Override\r\n        public void onPageFinished(WebView view, String url) {\r\n            super.onPageFinished(view, url);\r\n        }\r\n        @Override\r\n        public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n            super.onPageStarted(view, url, favicon);\t\r\n        }\r\n    });","title":"Android Webview ERR_NAME_NOT_RESOLVED loading an URL","body":"<p>You can check the url that is getting loaded in your webview by doing this.</p>\n\n<pre><code>myWebView.setWebViewClient(new WebViewClient() {\n    @SuppressLint(\"NewApi\")\n    @Override\n    public void onPageFinished(WebView view, String url) {\n        super.onPageFinished(view, url);\n    }\n    @Override\n    public void onPageStarted(WebView view, String url, Bitmap favicon) {\n        super.onPageStarted(view, url, favicon);    \n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1558234,"reputation":503,"user_id":1448739,"accept_rate":23,"display_name":"Jarvis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452251654,"creation_date":1452251654,"answer_id":34675718,"question_id":33275717,"body_markdown":"You can ask the user to retry at that point of time either displaying there or by showing a popup with a message. If you get the network is strong enough load the same page again.","title":"Android Webview ERR_NAME_NOT_RESOLVED loading an URL","body":"<p>You can ask the user to retry at that point of time either displaying there or by showing a popup with a message. If you get the network is strong enough load the same page again.</p>\n"}],"owner":{"account_id":274791,"reputation":1249,"user_id":567235,"accept_rate":79,"display_name":"CoderRoller"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16616,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1694329320,"creation_date":1445499775,"question_id":33275717,"body_markdown":"I have an App made using Android `Webview`, while using Wifi connection the initial page loaded displays ok, after switching to mobile data mode, the application shows the `ERR_NAME_NOT_RESOLVED` message at times.\r\n\r\nIs there a workaround to hide this message until the page is correctly displayed? or to make it work when the connection is not good in the initial load?\r\n\r\nThanks for the insight.","title":"Android Webview ERR_NAME_NOT_RESOLVED loading an URL","body":"<p>I have an App made using Android <code>Webview</code>, while using Wifi connection the initial page loaded displays ok, after switching to mobile data mode, the application shows the <code>ERR_NAME_NOT_RESOLVED</code> message at times.</p>\n\n<p>Is there a workaround to hide this message until the page is correctly displayed? or to make it work when the connection is not good in the initial load?</p>\n\n<p>Thanks for the insight.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jetty"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694327525,"creation_date":1694194097,"answer_id":77068859,"question_id":77066825,"body_markdown":"When a request is received, Spring MVC calls all registered handler mappings in order until one provides a handler for the request. \r\n\r\n`WelcomePageHandlerMapping` is ordered after the `RequestMappingHandlerMapping` so `WelcomePageHandlerMapping` will only be called if no `@RequestMapping` matches the request.\r\n\r\nWhen `WelcomePageHandlerMapping` is called it has to determine if it can provide a handler for the incoming request. Part of determining if it can do so is checking to see if the request will accept a `text/html` response. This check is done before checking that the path matches so the invalid `Accept` header causes a problem irrespective of the request&#39;s path.","title":"The Spring Boot&#39;s WelcomePageHandlerMapping is getting called on invalid API path where the 404 error expected","body":"<p>When a request is received, Spring MVC calls all registered handler mappings in order until one provides a handler for the request.</p>\n<p><code>WelcomePageHandlerMapping</code> is ordered after the <code>RequestMappingHandlerMapping</code> so <code>WelcomePageHandlerMapping</code> will only be called if no <code>@RequestMapping</code> matches the request.</p>\n<p>When <code>WelcomePageHandlerMapping</code> is called it has to determine if it can provide a handler for the incoming request. Part of determining if it can do so is checking to see if the request will accept a <code>text/html</code> response. This check is done before checking that the path matches so the invalid <code>Accept</code> header causes a problem irrespective of the request's path.</p>\n"}],"owner":{"account_id":21115744,"reputation":35,"user_id":15522868,"display_name":"javalanga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77068859,"answer_count":1,"score":2,"last_activity_date":1694327525,"creation_date":1694175488,"question_id":77066825,"body_markdown":"I have a simple Spring Boot (3.1.2) application with defined @RestController with several @GetMapping (`/app/test`, `/app/test2`).\r\n\r\nE.g:\r\n\r\n```\r\n@GetMapping(&quot;/test&quot;)\r\n    public TestModel getTestModel() {\r\n        return TestModel.builder()\r\n                .testModelName(&quot;The best test model ever!&quot;)\r\n                .testModelVersion(1)\r\n                .build();\r\n    }\r\n```\r\n\r\nSo when I&#39;m trying to send a request to my app using the incorrect API path and `Accept` header like this:\r\n\r\n`curl -X GET http://localhost:8080/random/incorrect -H &quot;Accept: yaml&quot;`\r\n\r\nInstead of expected 404 Not Found error, I&#39;m getting this exception:\r\n```\r\njakarta.servlet.ServletException: Request processing failed: org.springframework.http.InvalidMediaTypeException: Invalid mime type &quot;yaml&quot;: does not contain &#39;/&#39;\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1019) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:500) ~[jakarta.servlet-api-5.0.0.jar:5.0.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:587) ~[jakarta.servlet-api-5.0.0.jar:5.0.0]\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764) ~[jetty-servlet-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1665) ~[jetty-servlet-11.0.15.jar:11.0.15]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-11.0.15.jar:11.0.15]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-11.0.15.jar:11.0.15]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.websocket.servlet.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:170) ~[websocket-servlet-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527) ~[jetty-servlet-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:131) ~[jetty-server-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:578) ~[jetty-security-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122) ~[jetty-server-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:223) ~[jetty-server-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1570) ~[jetty-server-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221) ~[jetty-server-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1381) ~[jetty-server-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176) ~[jetty-server-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484) ~[jetty-servlet-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1543) ~[jetty-server-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174) ~[jetty-server-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1303) ~[jetty-server-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129) ~[jetty-server-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122) ~[jetty-server-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:563) ~[jetty-server-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$0(HttpChannel.java:505) ~[jetty-server-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:762) ~[jetty-server-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:497) ~[jetty-server-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:282) ~[jetty-server-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314) ~[jetty-io-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100) ~[jetty-io-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53) ~[jetty-io-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969) ~[jetty-util-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194) ~[jetty-util-11.0.15.jar:11.0.15]\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149) ~[jetty-util-11.0.15.jar:11.0.15]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: org.springframework.http.InvalidMediaTypeException: Invalid mime type &quot;yaml&quot;: does not contain &#39;/&#39;\r\n\tat org.springframework.http.MediaType.parseMediaType(MediaType.java:742) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.http.MediaType.parseMediaTypes(MediaType.java:768) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping.getAcceptedMediaTypes(WelcomePageHandlerMapping.java:82) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping.isHtmlTextAccepted(WelcomePageHandlerMapping.java:71) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping.getHandlerInternal(WelcomePageHandlerMapping.java:67) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:505) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1275) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n\t... 48 common frames omitted\r\n```\r\n\r\nAs I can see the `WelcomePageHandlerMapping` is getting called. So my question is: why is this handler getting called instead of returning the 404 error instantly?\r\n\r\n\r\n\r\nI tried to find some info in documentation but I had no luck.","title":"The Spring Boot&#39;s WelcomePageHandlerMapping is getting called on invalid API path where the 404 error expected","body":"<p>I have a simple Spring Boot (3.1.2) application with defined @RestController with several @GetMapping (<code>/app/test</code>, <code>/app/test2</code>).</p>\n<p>E.g:</p>\n<pre><code>@GetMapping(&quot;/test&quot;)\n    public TestModel getTestModel() {\n        return TestModel.builder()\n                .testModelName(&quot;The best test model ever!&quot;)\n                .testModelVersion(1)\n                .build();\n    }\n</code></pre>\n<p>So when I'm trying to send a request to my app using the incorrect API path and <code>Accept</code> header like this:</p>\n<p><code>curl -X GET http://localhost:8080/random/incorrect -H &quot;Accept: yaml&quot;</code></p>\n<p>Instead of expected 404 Not Found error, I'm getting this exception:</p>\n<pre><code>jakarta.servlet.ServletException: Request processing failed: org.springframework.http.InvalidMediaTypeException: Invalid mime type &quot;yaml&quot;: does not contain '/'\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1019) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:500) ~[jakarta.servlet-api-5.0.0.jar:5.0.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:587) ~[jakarta.servlet-api-5.0.0.jar:5.0.0]\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764) ~[jetty-servlet-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1665) ~[jetty-servlet-11.0.15.jar:11.0.15]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-11.0.15.jar:11.0.15]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-11.0.15.jar:11.0.15]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.websocket.servlet.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:170) ~[websocket-servlet-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527) ~[jetty-servlet-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:131) ~[jetty-server-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:578) ~[jetty-security-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122) ~[jetty-server-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:223) ~[jetty-server-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1570) ~[jetty-server-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221) ~[jetty-server-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1381) ~[jetty-server-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176) ~[jetty-server-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484) ~[jetty-servlet-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1543) ~[jetty-server-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174) ~[jetty-server-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1303) ~[jetty-server-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129) ~[jetty-server-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122) ~[jetty-server-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.server.Server.handle(Server.java:563) ~[jetty-server-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.server.HttpChannel.lambda$handle$0(HttpChannel.java:505) ~[jetty-server-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:762) ~[jetty-server-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:497) ~[jetty-server-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:282) ~[jetty-server-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314) ~[jetty-io-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100) ~[jetty-io-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53) ~[jetty-io-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969) ~[jetty-util-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194) ~[jetty-util-11.0.15.jar:11.0.15]\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149) ~[jetty-util-11.0.15.jar:11.0.15]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: org.springframework.http.InvalidMediaTypeException: Invalid mime type &quot;yaml&quot;: does not contain '/'\n    at org.springframework.http.MediaType.parseMediaType(MediaType.java:742) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.http.MediaType.parseMediaTypes(MediaType.java:768) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping.getAcceptedMediaTypes(WelcomePageHandlerMapping.java:82) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\n    at org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping.isHtmlTextAccepted(WelcomePageHandlerMapping.java:71) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\n    at org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping.getHandlerInternal(WelcomePageHandlerMapping.java:67) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\n    at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:505) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1275) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    ... 48 common frames omitted\n</code></pre>\n<p>As I can see the <code>WelcomePageHandlerMapping</code> is getting called. So my question is: why is this handler getting called instead of returning the 404 error instantly?</p>\n<p>I tried to find some info in documentation but I had no luck.</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"score":0,"creation_date":1694261920,"post_id":77072135,"comment_id":135870035,"body_markdown":"How about the use the Optional  to pack your object ，the Optional class is supported after Java8","body":"How about the use the Optional  to pack your object ，the Optional class is supported after Java8"},{"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1694262974,"post_id":77072135,"comment_id":135870148,"body_markdown":"syndImage itself is null, how to handle it elegantly and return null","body":"syndImage itself is null, how to handle it elegantly and return null"},{"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"score":1,"creation_date":1694263862,"post_id":77072135,"comment_id":135870235,"body_markdown":"String s = null;\nString trim = Optional.ofNullable(s).orElse(&quot;&quot;).trim();","body":"String s = null; String trim = Optional.ofNullable(s).orElse(&quot;&quot;).trim();"},{"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"score":0,"creation_date":1694263966,"post_id":77072135,"comment_id":135870242,"body_markdown":"Like the up code , if don&#39;t use the Optional,it may say NullPointException,but like the code ,it can replace the empty object to a default object to avoid the NullPoint","body":"Like the up code , if don&#39;t use the Optional,it may say NullPointException,but like the code ,it can replace the empty object to a default object to avoid the NullPoint"},{"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1694264064,"post_id":77072135,"comment_id":135870253,"body_markdown":"syndImage is null and its not a string","body":"syndImage is null and its not a string"},{"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"score":0,"creation_date":1694264582,"post_id":77072135,"comment_id":135870306,"body_markdown":"The string can replace by your syndImage ... I don&#39;t defined a object like syndImage ...","body":"The string can replace by your syndImage ... I don&#39;t defined a object like syndImage ..."}],"answers":[{"tags":[],"owner":{"account_id":29401700,"reputation":11,"user_id":22527733,"display_name":"saribasrana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694263770,"creation_date":1694263731,"answer_id":77072321,"question_id":77072135,"body_markdown":"You can use requireNonNullElse() like this:\r\n\r\n    return Image.builder()\r\n    .title(Objects.requireNonNullElse(syndImage.getTitle(), &quot;Default Title&quot;))\r\n    .url(Objects.requireNonNullElse(syndImage.getUrl(), &quot;Default URL&quot;))\r\n    .build();","title":"How to convert to an Object by handling null inputs","body":"<p>You can use requireNonNullElse() like this:</p>\n<pre><code>return Image.builder()\n.title(Objects.requireNonNullElse(syndImage.getTitle(), &quot;Default Title&quot;))\n.url(Objects.requireNonNullElse(syndImage.getUrl(), &quot;Default URL&quot;))\n.build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694289912,"creation_date":1694289133,"answer_id":77073836,"question_id":77072135,"body_markdown":"## Use the builder\r\n\r\n[You commented][1]:\r\n\r\n&gt;I don&#39;t want to build the object if input is null and just return null \r\n\r\nSounds like a job for your Builder. That is one purpose of a builder: Verify inputs before constructing an object. \r\n\r\nSo if you don&#39;t like one of the inputs (`null`, whatever), have `Image.builder().….build()` return `null`. \r\n\r\nOr better, have it return an empty [`Optional&lt; Image &gt;`][2] object. The point of `Optional` is to flag to the calling programmer that a null value is a legitimate result. \r\n\r\n```java\r\npublic static Optional&lt; Image &gt; convert(SyndImage syndImage) {\r\n    return Image.builder()\r\n        .title(syndImage.getTitle())\r\n        .url(syndImage.getUrl())\r\n        .build();\r\n}  \r\n```\r\n\r\nInside your builder code:\r\n\r\n```java\r\nif ( Objects.isNull( url ) ) { return Optional.empty() ; }\r\n```\r\n\r\nThe calling code checks to see if they received an `Image` object in the payload.\r\n\r\n```java\r\nif( optionalImage.isPresent() ) { … }\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77072135/how-to-convert-to-an-object-by-handling-null-inputs/77073836#comment135870230_77072321\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html","title":"How to convert to an Object by handling null inputs","body":"<h2>Use the builder</h2>\n<p><a href=\"https://stackoverflow.com/questions/77072135/how-to-convert-to-an-object-by-handling-null-inputs/77073836#comment135870230_77072321\">You commented</a>:</p>\n<blockquote>\n<p>I don't want to build the object if input is null and just return null</p>\n</blockquote>\n<p>Sounds like a job for your Builder. That is one purpose of a builder: Verify inputs before constructing an object.</p>\n<p>So if you don't like one of the inputs (<code>null</code>, whatever), have <code>Image.builder().….build()</code> return <code>null</code>.</p>\n<p>Or better, have it return an empty <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional&lt; Image &gt;</code></a> object. The point of <code>Optional</code> is to flag to the calling programmer that a null value is a legitimate result.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Optional&lt; Image &gt; convert(SyndImage syndImage) {\n    return Image.builder()\n        .title(syndImage.getTitle())\n        .url(syndImage.getUrl())\n        .build();\n}  \n</code></pre>\n<p>Inside your builder code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ( Objects.isNull( url ) ) { return Optional.empty() ; }\n</code></pre>\n<p>The calling code checks to see if they received an <code>Image</code> object in the payload.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if( optionalImage.isPresent() ) { … }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694326907,"creation_date":1694326907,"answer_id":77075011,"question_id":77072135,"body_markdown":"Assuming you have limitations to update existing builder or refactor to optional return for getImage,you could implement as below\r\n```\r\nimport lombok.Data;\r\nimport org.junit.jupiter.api.Assertions;\r\n\r\nimport java.util.Objects;\r\nimport java.util.Optional;\r\n\r\n@Data\r\nclass SyndImage{\r\n    String title;\r\n    String url;\r\n\r\n    public SyndImage(String title, String url) {\r\n        this.title = title;\r\n        this.url = url;\r\n    }\r\n\r\n    public SyndImage(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public SyndImage() {\r\n\r\n    }\r\n}\r\nclass Image{}\r\npublic class OptionalUtility {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Assertions.assertNull(getImage(new SyndImage()));//null fields\r\n        //SyndImage allFileds = new SyndImage(&quot;MyTitle1&quot;, &quot;Url1&quot;);\r\n        Assertions.assertNotNull(getImage(new SyndImage(&quot;MyTitle1&quot;, &quot;Url1&quot;)));//all fields\r\n\r\n        //SyndImage title = new SyndImage(&quot;Title&quot;);\r\n        Assertions.assertNull(getImage(new SyndImage(&quot;Title&quot;)));//only title field is available\r\n        \r\n        Assertions.assertNull(getImage(null));//null fields\r\n        \r\n    }\r\n\r\n    private static Image getImage(SyndImage syndImage) {\r\n       return Optional.ofNullable(syndImage)\r\n                .filter(sImage-&gt; Objects.nonNull(sImage.getTitle()))//if field checks are also required\r\n                .filter(sImage-&gt;Objects.nonNull(sImage.getUrl()))\r\n                .map(sImage-&gt;iamgeBuilderMethod(sImage))\r\n                .orElse(null);//this is generally not recommended\r\n    }\r\n\r\n    private static Image iamgeBuilderMethod(SyndImage sImage) {\r\n       /* return Image.builder()\r\n                .title(syndImage.getTitle())\r\n                .url(syndImage.getUrl())\r\n                .build();*/\r\n        System.out.println(&quot;Image created&quot;);\r\n        return new Image();//this will be your existing convert method\r\n    }\r\n}\r\n```","title":"How to convert to an Object by handling null inputs","body":"<p>Assuming you have limitations to update existing builder or refactor to optional return for getImage,you could implement as below</p>\n<pre><code>import lombok.Data;\nimport org.junit.jupiter.api.Assertions;\n\nimport java.util.Objects;\nimport java.util.Optional;\n\n@Data\nclass SyndImage{\n    String title;\n    String url;\n\n    public SyndImage(String title, String url) {\n        this.title = title;\n        this.url = url;\n    }\n\n    public SyndImage(String title) {\n        this.title = title;\n    }\n\n    public SyndImage() {\n\n    }\n}\nclass Image{}\npublic class OptionalUtility {\n\n    public static void main(String[] args) {\n\n        Assertions.assertNull(getImage(new SyndImage()));//null fields\n        //SyndImage allFileds = new SyndImage(&quot;MyTitle1&quot;, &quot;Url1&quot;);\n        Assertions.assertNotNull(getImage(new SyndImage(&quot;MyTitle1&quot;, &quot;Url1&quot;)));//all fields\n\n        //SyndImage title = new SyndImage(&quot;Title&quot;);\n        Assertions.assertNull(getImage(new SyndImage(&quot;Title&quot;)));//only title field is available\n        \n        Assertions.assertNull(getImage(null));//null fields\n        \n    }\n\n    private static Image getImage(SyndImage syndImage) {\n       return Optional.ofNullable(syndImage)\n                .filter(sImage-&gt; Objects.nonNull(sImage.getTitle()))//if field checks are also required\n                .filter(sImage-&gt;Objects.nonNull(sImage.getUrl()))\n                .map(sImage-&gt;iamgeBuilderMethod(sImage))\n                .orElse(null);//this is generally not recommended\n    }\n\n    private static Image iamgeBuilderMethod(SyndImage sImage) {\n       /* return Image.builder()\n                .title(syndImage.getTitle())\n                .url(syndImage.getUrl())\n                .build();*/\n        System.out.println(&quot;Image created&quot;);\n        return new Image();//this will be your existing convert method\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1694326907,"creation_date":1694261165,"question_id":77072135,"body_markdown":"How to convert to an Object by handling null inputs, is there a way to check for null inputs and return null without writing the if check for null;\r\n\r\n    public static Image convert(SyndImage syndImage) {\r\n        return Image.builder()\r\n            .title(syndImage.getTitle())\r\n            .url(syndImage.getUrl())\r\n            .build();\r\n    }  ","title":"How to convert to an Object by handling null inputs","body":"<p>How to convert to an Object by handling null inputs, is there a way to check for null inputs and return null without writing the if check for null;</p>\n<pre><code>public static Image convert(SyndImage syndImage) {\n    return Image.builder()\n        .title(syndImage.getTitle())\n        .url(syndImage.getUrl())\n        .build();\n}  \n</code></pre>\n"},{"tags":["java","android","android-studio","gradle","build.gradle"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1678721112,"post_id":75723748,"comment_id":133584116,"body_markdown":"Try reboot, delete that .lck file, and try again","body":"Try reboot, delete that .lck file, and try again"}],"answers":[{"tags":[],"owner":{"account_id":15087538,"reputation":161,"user_id":10888323,"display_name":"Joel Kanyi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1694326467,"creation_date":1682923705,"answer_id":76145179,"question_id":75723748,"body_markdown":"Make your Gradle User Home to be empty [![Make your Gradle User Home to be empty][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TTuMs.png\r\n\r\nThen restart Android Studio and sync. Gradle error will be gone.","title":"gradle error in android studio: Could not create parent directory for lock file","body":"<p>Make your Gradle User Home to be empty <a href=\"https://i.stack.imgur.com/TTuMs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TTuMs.png\" alt=\"Make your Gradle User Home to be empty\" /></a></p>\n<p>Then restart Android Studio and sync. Gradle error will be gone.</p>\n"}],"owner":{"account_id":24541871,"reputation":1,"user_id":18452158,"display_name":"Harshit Sah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":917,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694326467,"creation_date":1678720531,"question_id":75723748,"body_markdown":"**Gradle Error** : Could not create parent directory for lock file.\r\n\r\n\r\n**Could not create parent directory for lock file D:\\PROGRAM FILES\\ANDROID\\jbr\\wrapper\\dists\\gradle-7.5-bin\\f1w0cc9nuo0eivz97x2xlu9sv\\gradle-7.5-bin.zip.lck**\r\n\r\n\r\n**While building or syncing my app, the Gradle shows this error.** \r\n\r\n**Please help me with this error.**","title":"gradle error in android studio: Could not create parent directory for lock file","body":"<p><strong>Gradle Error</strong> : Could not create parent directory for lock file.</p>\n<p><strong>Could not create parent directory for lock file D:\\PROGRAM FILES\\ANDROID\\jbr\\wrapper\\dists\\gradle-7.5-bin\\f1w0cc9nuo0eivz97x2xlu9sv\\gradle-7.5-bin.zip.lck</strong></p>\n<p><strong>While building or syncing my app, the Gradle shows this error.</strong></p>\n<p><strong>Please help me with this error.</strong></p>\n"},{"tags":["java","ssl","db2","connection","driver"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1533565609,"post_id":51709836,"comment_id":90380893,"body_markdown":"``\\`` is an escape character in a Java string literal, so you need to double them: `DriverManager.getConnection(&quot;jdbc:db2://[host]:[port]/[databaseName]:sslConnection=true;sslTrustStoreLocation=c:\\\\db2_ssl\\\\db2.jks;sslTrustStorePassword=teste123;&quot;, &quot;myuser&quot;, &quot;mypassword&quot;);`","body":"<code>\\</code> is an escape character in a Java string literal, so you need to double them: <code>DriverManager.getConnection(&quot;jdbc:db2:&#47;&#47;[host]:[port]&#47;[datab&zwnj;&#8203;aseName]:sslConnecti&zwnj;&#8203;on=true;sslTrustStor&zwnj;&#8203;eLocation=c:\\\\db2_ss&zwnj;&#8203;l\\\\db2.jks;sslTrustS&zwnj;&#8203;torePassword=teste12&zwnj;&#8203;3;&quot;, &quot;myuser&quot;, &quot;mypassword&quot;);</code>"},{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1533566055,"post_id":51709836,"comment_id":90381211,"body_markdown":"You are also using an unsupported  out of date jdbc driver (3.64.96) which dates from V9.5 fp10.  That&#39;s not the cause of your symptom however. But consider using supported versions. The -4499 can happen when you are not connecting to the port configured for SSL at the target Db2-instance.","body":"You are also using an unsupported  out of date jdbc driver (3.64.96) which dates from V9.5 fp10.  That&#39;s not the cause of your symptom however. But consider using supported versions. The -4499 can happen when you are not connecting to the port configured for SSL at the target Db2-instance."},{"owner":{"account_id":6349671,"reputation":178,"user_id":4929141,"display_name":"THIAGORC"},"score":0,"creation_date":1533573647,"post_id":51709836,"comment_id":90385654,"body_markdown":"Hi Andreas.\nI already tried it, still got the same issue.\n\nAny other ideas?","body":"Hi Andreas. I already tried it, still got the same issue.  Any other ideas?"},{"owner":{"account_id":6349671,"reputation":178,"user_id":4929141,"display_name":"THIAGORC"},"score":0,"creation_date":1533574027,"post_id":51709836,"comment_id":90385829,"body_markdown":"Hi @mao, I tried to update to the latest db2 driver (10.1) and still got the same issue.","body":"Hi @mao, I tried to update to the latest db2 driver (10.1) and still got the same issue."},{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1533575646,"post_id":51709836,"comment_id":90386616,"body_markdown":"V10.1 is also out of support (since 30/Sept/2017). The latest Db2 jdbc driver is V11.1.3.3 at current date. Verify the JKS has the signer (CA) certificate(s) in addition to the certificate, if the cert is not self-signed. Verify that all certs are valid and unexpired and not revoked. Verify that your JVM/jdk are up to date(at least Java 8)","body":"V10.1 is also out of support (since 30/Sept/2017). The latest Db2 jdbc driver is V11.1.3.3 at current date. Verify the JKS has the signer (CA) certificate(s) in addition to the certificate, if the cert is not self-signed. Verify that all certs are valid and unexpired and not revoked. Verify that your JVM/jdk are up to date(at least Java 8)"}],"answers":[{"tags":[],"owner":{"account_id":6349671,"reputation":178,"user_id":4929141,"display_name":"THIAGORC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533581763,"creation_date":1533581763,"answer_id":51714001,"question_id":51709836,"body_markdown":"Appreciate all responses.\r\nAfter several tests I could realize that the &quot;problem&quot; is on JDK.\r\nI changed to use JDK 1.8 and it worked successfully.\r\n\r\nNot sure if we have a workaround for other JDK versions.\r\n\r\nThank you.","title":"DB2 JDBC SSL Connection","body":"<p>Appreciate all responses.\nAfter several tests I could realize that the \"problem\" is on JDK.\nI changed to use JDK 1.8 and it worked successfully.</p>\n\n<p>Not sure if we have a workaround for other JDK versions.</p>\n\n<p>Thank you.</p>\n"}],"owner":{"account_id":6349671,"reputation":178,"user_id":4929141,"display_name":"THIAGORC"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16059,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1694325735,"creation_date":1533565359,"question_id":51709836,"body_markdown":"Recently our partner have updated their database environment to use SSL, and we need to update our application config in order to establish the connection with the database.\r\n\r\nI have generated the JKS file and also have imported the certificates to the JKS.\r\n\r\nWhen I use SQL Squirrel connection string:\r\n\r\n&gt; jdbc:db2://[host]:[port]/[databaseName]:sslConnection=true;sslTrustStoreLocation=c:\\db2_ssl\\db2.jks;sslTrustStorePassword=teste123;\r\n\r\nIt connectes successfully.\r\n\r\nIf I use the exact the same connection string:\r\n\r\n    Connection connection = DriverManager.getConnection(&quot;jdbc:db2://[host]:[port]/[databaseName]:sslConnection=true;sslTrustStoreLocation=c:\\db2_ssl\\db2.jks;sslTrustStorePassword=teste123;&quot;, &quot;myuser&quot;, &quot;mypassword&quot;);\r\n\r\nIt throws me the exception as follows:\r\n\r\n    com.ibm.db2.jcc.am.DisconnectNonTransientConnectionException: [jcc][t4][2030][11211][3.64.96] A communication error occurred during operations on the connection&#39;s underlying socket, socket input stream, \r\n    or socket output stream.  Error location: T4Agent.sendRequest() - flush (-1).  Message: Received fatal alert: handshake_failure. ERRORCODE=-4499, SQLSTATE=08001\r\n    \tat com.ibm.db2.jcc.am.bd.a(bd.java:321)\r\n    \tat com.ibm.db2.jcc.t4.a.a(a.java:548)\r\n    \tat com.ibm.db2.jcc.t4.a.a(a.java:543)\r\n    \tat com.ibm.db2.jcc.t4.a.f(a.java:484)\r\n    \tat com.ibm.db2.jcc.t4.a.flush_(a.java:390)\r\n    \tat com.ibm.db2.jcc.am.Agent.flowOutsideUOW(Agent.java:246)\r\n    \tat com.ibm.db2.jcc.t4.b.b(b.java:1220)\r\n    \tat com.ibm.db2.jcc.t4.b.b(b.java:788)\r\n    \tat com.ibm.db2.jcc.t4.b.a(b.java:760)\r\n    \tat com.ibm.db2.jcc.t4.b.a(b.java:421)\r\n    \tat com.ibm.db2.jcc.t4.b.a(b.java:396)\r\n    \tat com.ibm.db2.jcc.t4.b.&lt;init&gt;(b.java:334)\r\n    \tat com.ibm.db2.jcc.DB2SimpleDataSource.getConnection(DB2SimpleDataSource.java:232)\r\n    \tat com.ibm.db2.jcc.DB2SimpleDataSource.getConnection(DB2SimpleDataSource.java:198)\r\n    \tat com.ibm.db2.jcc.DB2Driver.connect(DB2Driver.java:475)\r\n    \tat com.ibm.db2.jcc.DB2Driver.connect(DB2Driver.java:116)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:379)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:415)\r\n    \tat com.ibm.sdpi.wmb.flows.productdata.ProductDataAnnouncementNode.evaluate(ProductDataAnnouncementNode.java:93)\r\n    \tat com.ibm.broker.javacompute.MbRuntimeJavaComputeNode.evaluate(MbRuntimeJavaComputeNode.java:265)\r\n    \tat com.ibm.broker.plugin.MbNode.evaluate(MbNode.java:1480)\r\n    \tat com.ibm.broker.plugin.MbOutputTerminal._propagate(Native Method)\r\n    \tat com.ibm.broker.plugin.MbOutputTerminal.propagate(MbOutputTerminal.java:114)\r\n    \tat com.ibm.sdpi.wmb.flows.common.SDPIOutboundCommon_JavaCompute.evaluate(SDPIOutboundCommon_JavaCompute.java:226)\r\n    \tat com.ibm.broker.javacompute.MbRuntimeJavaComputeNode.evaluate(MbRuntimeJavaComputeNode.java:265)\r\n    \tat com.ibm.broker.plugin.MbNode.evaluate(MbNode.java:1480)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n    \tat com.ibm.jsse2.o.a(o.java:22)\r\n    \tat com.ibm.jsse2.o.a(o.java:34)\r\n    \tat com.ibm.jsse2.SSLSocketImpl.b(SSLSocketImpl.java:378)\r\n    \tat com.ibm.jsse2.SSLSocketImpl.a(SSLSocketImpl.java:479)\r\n    \tat com.ibm.jsse2.SSLSocketImpl.h(SSLSocketImpl.java:437)\r\n    \tat com.ibm.jsse2.SSLSocketImpl.a(SSLSocketImpl.java:772)\r\n    \tat com.ibm.jsse2.k.write(k.java:3)\r\n    \tat com.ibm.db2.jcc.t4.db.b(db.java:1685)\r\n    \tat com.ibm.db2.jcc.t4.db.a(db.java:1633)\r\n    \tat com.ibm.db2.jcc.t4.a.f(a.java:451)\r\n    \t... 22 more\r\n\r\nI am using the exact same DB2 drivers in SQL Squirrel and application.\r\n\r\nWhy it does work in SQL Squirrel and it doesn&#39;t using DriverManager?\r\n\r\nDo you have any ideas how to connect to a remote DB2 database using SSL?\r\n\r\nThanks in advance.","title":"DB2 JDBC SSL Connection","body":"<p>Recently our partner have updated their database environment to use SSL, and we need to update our application config in order to establish the connection with the database.</p>\n\n<p>I have generated the JKS file and also have imported the certificates to the JKS.</p>\n\n<p>When I use SQL Squirrel connection string:</p>\n\n<blockquote>\n  <p>jdbc:db2://[host]:[port]/[databaseName]:sslConnection=true;sslTrustStoreLocation=c:\\db2_ssl\\db2.jks;sslTrustStorePassword=teste123;</p>\n</blockquote>\n\n<p>It connectes successfully.</p>\n\n<p>If I use the exact the same connection string:</p>\n\n<pre><code>Connection connection = DriverManager.getConnection(\"jdbc:db2://[host]:[port]/[databaseName]:sslConnection=true;sslTrustStoreLocation=c:\\db2_ssl\\db2.jks;sslTrustStorePassword=teste123;\", \"myuser\", \"mypassword\");\n</code></pre>\n\n<p>It throws me the exception as follows:</p>\n\n<pre><code>com.ibm.db2.jcc.am.DisconnectNonTransientConnectionException: [jcc][t4][2030][11211][3.64.96] A communication error occurred during operations on the connection's underlying socket, socket input stream, \nor socket output stream.  Error location: T4Agent.sendRequest() - flush (-1).  Message: Received fatal alert: handshake_failure. ERRORCODE=-4499, SQLSTATE=08001\n    at com.ibm.db2.jcc.am.bd.a(bd.java:321)\n    at com.ibm.db2.jcc.t4.a.a(a.java:548)\n    at com.ibm.db2.jcc.t4.a.a(a.java:543)\n    at com.ibm.db2.jcc.t4.a.f(a.java:484)\n    at com.ibm.db2.jcc.t4.a.flush_(a.java:390)\n    at com.ibm.db2.jcc.am.Agent.flowOutsideUOW(Agent.java:246)\n    at com.ibm.db2.jcc.t4.b.b(b.java:1220)\n    at com.ibm.db2.jcc.t4.b.b(b.java:788)\n    at com.ibm.db2.jcc.t4.b.a(b.java:760)\n    at com.ibm.db2.jcc.t4.b.a(b.java:421)\n    at com.ibm.db2.jcc.t4.b.a(b.java:396)\n    at com.ibm.db2.jcc.t4.b.&lt;init&gt;(b.java:334)\n    at com.ibm.db2.jcc.DB2SimpleDataSource.getConnection(DB2SimpleDataSource.java:232)\n    at com.ibm.db2.jcc.DB2SimpleDataSource.getConnection(DB2SimpleDataSource.java:198)\n    at com.ibm.db2.jcc.DB2Driver.connect(DB2Driver.java:475)\n    at com.ibm.db2.jcc.DB2Driver.connect(DB2Driver.java:116)\n    at java.sql.DriverManager.getConnection(DriverManager.java:379)\n    at java.sql.DriverManager.getConnection(DriverManager.java:415)\n    at com.ibm.sdpi.wmb.flows.productdata.ProductDataAnnouncementNode.evaluate(ProductDataAnnouncementNode.java:93)\n    at com.ibm.broker.javacompute.MbRuntimeJavaComputeNode.evaluate(MbRuntimeJavaComputeNode.java:265)\n    at com.ibm.broker.plugin.MbNode.evaluate(MbNode.java:1480)\n    at com.ibm.broker.plugin.MbOutputTerminal._propagate(Native Method)\n    at com.ibm.broker.plugin.MbOutputTerminal.propagate(MbOutputTerminal.java:114)\n    at com.ibm.sdpi.wmb.flows.common.SDPIOutboundCommon_JavaCompute.evaluate(SDPIOutboundCommon_JavaCompute.java:226)\n    at com.ibm.broker.javacompute.MbRuntimeJavaComputeNode.evaluate(MbRuntimeJavaComputeNode.java:265)\n    at com.ibm.broker.plugin.MbNode.evaluate(MbNode.java:1480)\nCaused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n    at com.ibm.jsse2.o.a(o.java:22)\n    at com.ibm.jsse2.o.a(o.java:34)\n    at com.ibm.jsse2.SSLSocketImpl.b(SSLSocketImpl.java:378)\n    at com.ibm.jsse2.SSLSocketImpl.a(SSLSocketImpl.java:479)\n    at com.ibm.jsse2.SSLSocketImpl.h(SSLSocketImpl.java:437)\n    at com.ibm.jsse2.SSLSocketImpl.a(SSLSocketImpl.java:772)\n    at com.ibm.jsse2.k.write(k.java:3)\n    at com.ibm.db2.jcc.t4.db.b(db.java:1685)\n    at com.ibm.db2.jcc.t4.db.a(db.java:1633)\n    at com.ibm.db2.jcc.t4.a.f(a.java:451)\n    ... 22 more\n</code></pre>\n\n<p>I am using the exact same DB2 drivers in SQL Squirrel and application.</p>\n\n<p>Why it does work in SQL Squirrel and it doesn't using DriverManager?</p>\n\n<p>Do you have any ideas how to connect to a remote DB2 database using SSL?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1564552032,"post_id":57283758,"comment_id":101063138,"body_markdown":"What is the type of the Object returned by `resetDatabase_H2();` and `resetDatabase_Postgresql();`","body":"What is the type of the Object returned by <code>resetDatabase_H2();</code> and <code>resetDatabase_Postgresql();</code>"},{"owner":{"account_id":11430866,"reputation":928,"user_id":8379612,"display_name":"Pratik"},"score":0,"creation_date":1564553900,"post_id":57283758,"comment_id":101063859,"body_markdown":"@KarthikeyanVaithilingam Runnable. However resetDatabase_Postgresql always returns null.","body":"@KarthikeyanVaithilingam Runnable. However resetDatabase_Postgresql always returns null."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1564556323,"post_id":57283758,"comment_id":101064901,"body_markdown":"Then you have to investigate why ` resetDatabase_Postgresql` is returning null.","body":"Then you have to investigate why ` resetDatabase_Postgresql` is returning null."}],"answers":[{"tags":[],"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694325420,"creation_date":1694325420,"answer_id":77074968,"question_id":57283758,"body_markdown":"If `resetDatabase_Postgresql` can return `null`, then you can wrap it into an optional and return a runnable that does nothing in that case:\r\n&lt;!-- language: java --&gt;\r\n\r\n    return Optional.ofNullable(resetDatabase_Postgresql()).orElse(() -&gt; {});","title":"Bean named X is expected to be of type &#39;java.lang.Runnable&#39; but was actually of type &#39;org.springframework.beans.factory.support.NullBean&#39;","body":"<p>If <code>resetDatabase_Postgresql</code> can return <code>null</code>, then you can wrap it into an optional and return a runnable that does nothing in that case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Optional.ofNullable(resetDatabase_Postgresql()).orElse(() -&gt; {});\n</code></pre>\n"}],"owner":{"account_id":11430866,"reputation":928,"user_id":8379612,"display_name":"Pratik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694325420,"creation_date":1564550706,"question_id":57283758,"body_markdown":"Spring is giving me below error, but can&#39;t figure out why is it ! \r\n\r\nNote: There is no bean definition in xml file for this.\r\n\r\n&gt; Bean named &#39;resetDatabase&#39; is expected to be of type\r\n&gt; &#39;java.lang.Runnable&#39; but was actually of type\r\n&gt; &#39;org.springframework.beans.factory.support.NullBean&#39;\r\n\r\n    @Bean\r\n    Runnable resetDatabase() throws Exception\r\n    {\r\n    \tif (env.acceptsProfiles(&quot;prof&quot;))\r\n    \t{\r\n    \t\treturn resetDatabase_H2();\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\t// return resetDatabase_H2();\r\n    \t\treturn resetDatabase_Postgresql();\r\n    \t}\r\n    }\r\n\r\nI referred [this][1] as well but couldn&#39;t find any solution for my case\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14545872/bean-named-xxx-must-be-of-typexxx-but-was-actually-of-typexxx","title":"Bean named X is expected to be of type &#39;java.lang.Runnable&#39; but was actually of type &#39;org.springframework.beans.factory.support.NullBean&#39;","body":"<p>Spring is giving me below error, but can't figure out why is it ! </p>\n\n<p>Note: There is no bean definition in xml file for this.</p>\n\n<blockquote>\n  <p>Bean named 'resetDatabase' is expected to be of type\n  'java.lang.Runnable' but was actually of type\n  'org.springframework.beans.factory.support.NullBean'</p>\n</blockquote>\n\n<pre><code>@Bean\nRunnable resetDatabase() throws Exception\n{\n    if (env.acceptsProfiles(\"prof\"))\n    {\n        return resetDatabase_H2();\n    }\n    else\n    {\n        // return resetDatabase_H2();\n        return resetDatabase_Postgresql();\n    }\n}\n</code></pre>\n\n<p>I referred <a href=\"https://stackoverflow.com/questions/14545872/bean-named-xxx-must-be-of-typexxx-but-was-actually-of-typexxx\">this</a> as well but couldn't find any solution for my case</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":204687,"reputation":1978,"user_id":453056,"accept_rate":86,"display_name":"Kyle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694323088,"creation_date":1694323088,"answer_id":77074892,"question_id":77067388,"body_markdown":"You can look into how to write your own Type Converters [here](https://camel.apache.org/manual/type-converter.html#_writing_your_own_type_converters), but I don&#39;t believe they will work in your case due to Java&#39;s type erasure. As you alluded to, you&#39;ll just be converting a `List` to a `List`.\r\n\r\nPersonally I&#39;d probably just implement a [`Processor`](https://camel.apache.org/manual/processor.html) and call [`.process(..)`](https://camel.apache.org/components/4.0.x/eips/process-eip.html). It&#39;s a bit neater than `.bean(..)` for this use case.","title":"How to use Camel convertBodyTo with a list","body":"<p>You can look into how to write your own Type Converters <a href=\"https://camel.apache.org/manual/type-converter.html#_writing_your_own_type_converters\" rel=\"nofollow noreferrer\">here</a>, but I don't believe they will work in your case due to Java's type erasure. As you alluded to, you'll just be converting a <code>List</code> to a <code>List</code>.</p>\n<p>Personally I'd probably just implement a <a href=\"https://camel.apache.org/manual/processor.html\" rel=\"nofollow noreferrer\"><code>Processor</code></a> and call <a href=\"https://camel.apache.org/components/4.0.x/eips/process-eip.html\" rel=\"nofollow noreferrer\"><code>.process(..)</code></a>. It's a bit neater than <code>.bean(..)</code> for this use case.</p>\n"}],"owner":{"account_id":10351852,"reputation":216,"user_id":7635045,"display_name":"Pampa Nello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694323088,"creation_date":1694180196,"question_id":77067388,"body_markdown":"I have a list of type A and I would like to transform it in a list of type B.\r\n\r\nLet&#39;s imagine:\r\n\r\n```java\r\n// ... call the db and get a few rows mapped to List&lt;A&gt;\r\n.to(&quot;jdbc:...&quot;)\r\n.convertBodyTo(List.class) // ?!?\r\n```\r\n\r\nIn Camel, if it was a &quot;normal&quot; type, I would just use: `.convertBodyTo(B.class)`, then let Camel find the converter I coded.\r\n\r\nHowever, since this is a list of type A, if I do `.convertBodyTo(List.class)`, the converter is just not called.\r\n\r\nI could not split and process one at the time, because I need to do some grouping on `List&lt;A&gt;` before converting.\r\n\r\nI could fix it by using a bean, but I wanted to know if there is any way to call `convertBodyTo` to convert from a list to a list.\r\n","title":"How to use Camel convertBodyTo with a list","body":"<p>I have a list of type A and I would like to transform it in a list of type B.</p>\n<p>Let's imagine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ... call the db and get a few rows mapped to List&lt;A&gt;\n.to(&quot;jdbc:...&quot;)\n.convertBodyTo(List.class) // ?!?\n</code></pre>\n<p>In Camel, if it was a &quot;normal&quot; type, I would just use: <code>.convertBodyTo(B.class)</code>, then let Camel find the converter I coded.</p>\n<p>However, since this is a list of type A, if I do <code>.convertBodyTo(List.class)</code>, the converter is just not called.</p>\n<p>I could not split and process one at the time, because I need to do some grouping on <code>List&lt;A&gt;</code> before converting.</p>\n<p>I could fix it by using a bean, but I wanted to know if there is any way to call <code>convertBodyTo</code> to convert from a list to a list.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":15088308,"reputation":1377,"user_id":10888893,"display_name":"Mr. Patel"},"score":0,"creation_date":1573443992,"post_id":58795063,"comment_id":103871876,"body_markdown":"It is happening because your package name is having conflicts go to you main activity class copy it&#39;s package name and paste it into your manifest activity tag in place of .MainActivity","body":"It is happening because your package name is having conflicts go to you main activity class copy it&#39;s package name and paste it into your manifest activity tag in place of .MainActivity"},{"owner":{"account_id":13085437,"reputation":916,"user_id":9454556,"display_name":"Cyrille Con Morales"},"score":0,"creation_date":1573444411,"post_id":58795063,"comment_id":103871931,"body_markdown":"This has a lot of answer, check it out https://stackoverflow.com/questions/20915266/error-type-3-error-activity-class-does-not-exist","body":"This has a lot of answer, check it out <a href=\"https://stackoverflow.com/questions/20915266/error-type-3-error-activity-class-does-not-exist\" title=\"error type 3 error activity class does not exist\">stackoverflow.com/questions/20915266/&hellip;</a>"},{"owner":{"account_id":12489458,"reputation":175,"user_id":9091536,"display_name":"Angel"},"score":0,"creation_date":1573444522,"post_id":58795063,"comment_id":103871948,"body_markdown":"@Mr.Patel the same error occurs :(","body":"@Mr.Patel the same error occurs :("},{"owner":{"account_id":16652352,"reputation":574,"user_id":12034846,"display_name":"kam1234"},"score":0,"creation_date":1573446968,"post_id":58795063,"comment_id":103872354,"body_markdown":"please post your activity code","body":"please post your activity code"},{"owner":{"account_id":4532512,"reputation":1767,"user_id":3682565,"accept_rate":71,"display_name":"NamNH"},"score":0,"creation_date":1573447353,"post_id":58795063,"comment_id":103872426,"body_markdown":"Make sure the app&#39;s id, package are correct. Try to uninstall the current app in your device &amp; `File &gt; Invalidate caches / restart` from android studio, then run again.","body":"Make sure the app&#39;s id, package are correct. Try to uninstall the current app in your device &amp; <code>File &gt; Invalidate caches &#47; restart</code> from android studio, then run again."},{"owner":{"account_id":12489458,"reputation":175,"user_id":9091536,"display_name":"Angel"},"score":0,"creation_date":1573449302,"post_id":58795063,"comment_id":103872774,"body_markdown":"@NamNH still the error occurs :(","body":"@NamNH still the error occurs :("},{"owner":{"account_id":12489458,"reputation":175,"user_id":9091536,"display_name":"Angel"},"score":0,"creation_date":1573449397,"post_id":58795063,"comment_id":103872790,"body_markdown":"@kam1234 hi. I edited my post. thank you :)","body":"@kam1234 hi. I edited my post. thank you :)"},{"owner":{"account_id":15088308,"reputation":1377,"user_id":10888893,"display_name":"Mr. Patel"},"score":0,"creation_date":1573450091,"post_id":58795063,"comment_id":103872967,"body_markdown":"Well i guess you will need to create a new project try running that if it doesn&#39;t work issue issue is with your studio and if it work copy paste your code in new application!","body":"Well i guess you will need to create a new project try running that if it doesn&#39;t work issue issue is with your studio and if it work copy paste your code in new application!"},{"owner":{"account_id":4532512,"reputation":1767,"user_id":3682565,"accept_rate":71,"display_name":"NamNH"},"score":0,"creation_date":1573451740,"post_id":58795063,"comment_id":103873353,"body_markdown":"@AngelEsguerra, hard to determine the root cause, maybe the android studio has some problems. Try to create new project with simple activity template, then run it. If it&#39;s not crashed, your `sms` code (maybe in gradle or somewhere) has problems, otherwise the android studio. (Note that use androidX like your sample)","body":"@AngelEsguerra, hard to determine the root cause, maybe the android studio has some problems. Try to create new project with simple activity template, then run it. If it&#39;s not crashed, your <code>sms</code> code (maybe in gradle or somewhere) has problems, otherwise the android studio. (Note that use androidX like your sample)"},{"owner":{"account_id":12489458,"reputation":175,"user_id":9091536,"display_name":"Angel"},"score":0,"creation_date":1573452578,"post_id":58795063,"comment_id":103873558,"body_markdown":"@NamNH is possible to determine if the android studio is the problem? If it is, what could be the possible solution?","body":"@NamNH is possible to determine if the android studio is the problem? If it is, what could be the possible solution?"},{"owner":{"account_id":4532512,"reputation":1767,"user_id":3682565,"accept_rate":71,"display_name":"NamNH"},"score":0,"creation_date":1573452870,"post_id":58795063,"comment_id":103873649,"body_markdown":"@AngelEsguerra, So, It depends. you can try to do something like reset the config, or remove the `.m2` folder, even remove some conflict plugin (if found)... But, the fastest way is just re-install android studio (make sure clean uninstall it first).","body":"@AngelEsguerra, So, It depends. you can try to do something like reset the config, or remove the <code>.m2</code> folder, even remove some conflict plugin (if found)... But, the fastest way is just re-install android studio (make sure clean uninstall it first)."},{"owner":{"account_id":4532512,"reputation":1767,"user_id":3682565,"accept_rate":71,"display_name":"NamNH"},"score":0,"creation_date":1573453111,"post_id":58795063,"comment_id":103873717,"body_markdown":"Are use try to create simple project like my comment above? does it work? If it works, android studio is still ok, just rework with your current project, because your code still simple &amp; little :).","body":"Are use try to create simple project like my comment above? does it work? If it works, android studio is still ok, just rework with your current project, because your code still simple &amp; little :)."},{"owner":{"account_id":7114869,"reputation":503,"user_id":6152175,"accept_rate":83,"display_name":"alexandre9865"},"score":1,"creation_date":1595598806,"post_id":58795063,"comment_id":111539084,"body_markdown":"@AngelEsguerra how did you solve it?","body":"@AngelEsguerra how did you solve it?"},{"owner":{"account_id":59548,"reputation":19807,"user_id":178143,"accept_rate":61,"display_name":"Ted"},"score":0,"creation_date":1669648416,"post_id":58795063,"comment_id":131683908,"body_markdown":"Yes, was it resolved? =)","body":"Yes, was it resolved? =)"}],"answers":[{"tags":[],"owner":{"account_id":2313718,"reputation":1126,"user_id":2031246,"display_name":"John Le"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573441842,"creation_date":1573441842,"answer_id":58795091,"question_id":58795063,"body_markdown":"Add the `intent-filter` to the `AndroidManifest.xml`: \r\n\r\n    &lt;activity\r\n        android:name=“.MainActivity”&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\n","title":"Error: Activity class {.MainActivity} does not exist","body":"<p>Add the <code>intent-filter</code> to the <code>AndroidManifest.xml</code>: </p>\n\n<pre><code>&lt;activity\n    android:name=“.MainActivity”&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n        &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user12321197"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573449665,"creation_date":1573448041,"answer_id":58795733,"question_id":58795063,"body_markdown":"Take the path:\r\n\r\ntab Run / edit Configuration / tab general / Lunch Options / launch.\r\n\r\nAnd select the default activity option.\r\nIf the problem does not resolve, select the Specified Activity option and select the MainActivity.\r\n\r\nIf the problem is resolved, it is likely that the activity path is in the wrong androidManifest. You can write the path completely in androidmanifest.\r\n\r\n    &lt;activity android:name=&quot;path.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\nIn the code above write the path of the activity instead of the word path.\r\nAnd also go back app configurations and choose the default activity one again.","title":"Error: Activity class {.MainActivity} does not exist","body":"<p>Take the path:</p>\n\n<p>tab Run / edit Configuration / tab general / Lunch Options / launch.</p>\n\n<p>And select the default activity option.\nIf the problem does not resolve, select the Specified Activity option and select the MainActivity.</p>\n\n<p>If the problem is resolved, it is likely that the activity path is in the wrong androidManifest. You can write the path completely in androidmanifest.</p>\n\n<pre><code>&lt;activity android:name=\"path.MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<p>In the code above write the path of the activity instead of the word path.\nAnd also go back app configurations and choose the default activity one again.</p>\n"},{"tags":[],"owner":{"account_id":16652352,"reputation":574,"user_id":12034846,"display_name":"kam1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573449839,"creation_date":1573449839,"answer_id":58795937,"question_id":58795063,"body_markdown":"try this\r\n```\r\n&lt;activity android:name=&quot;MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n```\r\nor \r\n```\r\n&lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n```\r\nor \r\n```\r\n&lt;activity android:name=&quot;com.example.sms.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n```","title":"Error: Activity class {.MainActivity} does not exist","body":"<p>try this</p>\n\n<pre><code>&lt;activity android:name=\"MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>&lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>&lt;activity android:name=\"com.example.sms.MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15474264,"reputation":21,"user_id":11163325,"display_name":"jeff kim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586847578,"creation_date":1586847578,"answer_id":61202246,"question_id":58795063,"body_markdown":"You can look at this response here [Error type 3 Error: Activity class {} does not exist][1]. \r\n\r\nAlso, another common problem is if you are running your app on a physical device that has multiple user accounts. E.g. Main User and A Guest User. In this case there might be a conflict if one user does not update their application. Follow the following steps;\r\n\r\n 1. Go to Settings.\r\n 2. Go to Apps.\r\n 3. Select your app.\r\n 4. Open the overflow menu on the top right and select Uninstall for all users.\r\n 5. Done. Try to install then launch your app again.\r\n\r\nThe other alternative, which is longer, is to uninstall the app while in one account, then switch accounts and uninstall in the other. \r\n\r\nHope it helps.\r\n\r\n  [1]: https://stackoverflow.com/questions/20915266/error-type-3-error-activity-class-does-not-exist","title":"Error: Activity class {.MainActivity} does not exist","body":"<p>You can look at this response here <a href=\"https://stackoverflow.com/questions/20915266/error-type-3-error-activity-class-does-not-exist\">Error type 3 Error: Activity class {} does not exist</a>. </p>\n\n<p>Also, another common problem is if you are running your app on a physical device that has multiple user accounts. E.g. Main User and A Guest User. In this case there might be a conflict if one user does not update their application. Follow the following steps;</p>\n\n<ol>\n<li>Go to Settings.</li>\n<li>Go to Apps.</li>\n<li>Select your app.</li>\n<li>Open the overflow menu on the top right and select Uninstall for all users.</li>\n<li>Done. Try to install then launch your app again.</li>\n</ol>\n\n<p>The other alternative, which is longer, is to uninstall the app while in one account, then switch accounts and uninstall in the other. </p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":18913897,"reputation":541,"user_id":13799368,"display_name":"Try this"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1595765959,"creation_date":1595765959,"answer_id":63100028,"question_id":58795063,"body_markdown":"Can you try uninstalling app using following ADB command and re-run?\r\n\r\n```\r\nadb uninstall &lt;your-apps-package-name&gt;\r\n```\r\n\r\n","title":"Error: Activity class {.MainActivity} does not exist","body":"<p>Can you try uninstalling app using following ADB command and re-run?</p>\n<pre><code>adb uninstall &lt;your-apps-package-name&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19412571,"reputation":1,"user_id":14196748,"display_name":"ibrahim bougaoua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599562452,"creation_date":1599562452,"answer_id":63792426,"question_id":58795063,"body_markdown":"The same error occurred to me and I solved it by renaming the package and using &quot;clean project and rebuild project&quot; ... then I shut down android stodio and restarted it then it worked fine.","title":"Error: Activity class {.MainActivity} does not exist","body":"<p>The same error occurred to me and I solved it by renaming the package and using &quot;clean project and rebuild project&quot; ... then I shut down android stodio and restarted it then it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":15924324,"reputation":111,"user_id":11490329,"display_name":"Amelia"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1602653066,"creation_date":1602653066,"answer_id":64347113,"question_id":58795063,"body_markdown":"you can delete the folder of **idea**,then restart your project.","title":"Error: Activity class {.MainActivity} does not exist","body":"<p>you can delete the folder of <strong>idea</strong>,then restart your project.</p>\n"},{"tags":[],"owner":{"account_id":8709327,"reputation":49,"user_id":6516073,"display_name":"Chester"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1604437444,"creation_date":1604437444,"answer_id":64670656,"question_id":58795063,"body_markdown":"I have had this happen to me once when I enabled the Fingerprint / PIN lock on the AVD and ran the app afterwards.\r\n\r\nI found I needed to unlock the device before running the app.","title":"Error: Activity class {.MainActivity} does not exist","body":"<p>I have had this happen to me once when I enabled the Fingerprint / PIN lock on the AVD and ran the app afterwards.</p>\n<p>I found I needed to unlock the device before running the app.</p>\n"},{"tags":[],"owner":{"account_id":19083053,"reputation":9,"user_id":13934897,"display_name":"omkar shinde"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1632555966,"creation_date":1632555626,"answer_id":69324109,"question_id":58795063,"body_markdown":"\r\n\r\nYou can look at this response here Error type 3 Error: Activity class {} does not exist.\r\n\r\nAlso, another common problem is if you are running your app on a physical device that has multiple user accounts. E.g. Main User and A Guest User. In this case there might be a conflict if one user does not update their application. Follow the following steps;\r\n\r\nGo to Settings.\r\nGo to Apps.\r\nSelect your app.\r\nOpen the overflow menu on the top right and select Uninstall for all users.\r\nDone. Try to install then launch your app again.\r\nThe other alternative, which is longer, is to uninstall the app while in one account, then switch accounts and uninstall in the other.","title":"Error: Activity class {.MainActivity} does not exist","body":"<p>You can look at this response here Error type 3 Error: Activity class {} does not exist.</p>\n<p>Also, another common problem is if you are running your app on a physical device that has multiple user accounts. E.g. Main User and A Guest User. In this case there might be a conflict if one user does not update their application. Follow the following steps;</p>\n<p>Go to Settings.\nGo to Apps.\nSelect your app.\nOpen the overflow menu on the top right and select Uninstall for all users.\nDone. Try to install then launch your app again.\nThe other alternative, which is longer, is to uninstall the app while in one account, then switch accounts and uninstall in the other.</p>\n"},{"tags":[],"owner":{"account_id":11470078,"reputation":101,"user_id":8407174,"display_name":"Gustone Alwanga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670460140,"creation_date":1670460140,"answer_id":74724347,"question_id":58795063,"body_markdown":"Had this in react native, all the above solutions did not work for me\r\nwhile in root, I did `cd android`\r\nthen `./gradlew uninstallAll`\r\nthen after its done, cd out , run the project and the error was gone","title":"Error: Activity class {.MainActivity} does not exist","body":"<p>Had this in react native, all the above solutions did not work for me\nwhile in root, I did <code>cd android</code>\nthen <code>./gradlew uninstallAll</code>\nthen after its done, cd out , run the project and the error was gone</p>\n"}],"owner":{"account_id":12489458,"reputation":175,"user_id":9091536,"display_name":"Angel"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21691,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":10,"score":9,"last_activity_date":1694322130,"creation_date":1573441540,"question_id":58795063,"body_markdown":"I tried to run my android application in my android device but it keeps saying that my Main Activity does not exist although my Main Activity class is there\r\n\r\nI tried to create a new project then copied my previous codes and it worked for a while. But then it produced the same error again.\r\n\r\n```\r\nError while executing: am start -n &quot;com.example.sms/com.example.sms.MainActivity&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\r\nStarting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] cmp=com.example.sms/.MainActivity }\r\nError type 3\r\nError: Activity class {com.example.sms/com.example.sms.MainActivity} does not exist.\r\n\r\nError while Launching activity\r\n\r\n\r\n```\r\nThere is already a intent-filter in may android manifest:\r\n```\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n```\r\n\r\nI already tried to clean and rebuild project. But it still gets the same error. My android device&#39;s version is android 9.\r\n\r\nHere is my main activity:\r\n\r\n```\r\npackage com.example.sms;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport android.Manifest;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.telephony.SmsManager;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n\r\n    EditText etNumber, etMessage;\r\n    Button btnSend;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        etNumber = (EditText)findViewById(R.id.etNumber);\r\n        btnSend = (Button)findViewById(R.id.btnSend);\r\n        btnSend.setOnClickListener(this);\r\n\r\n    }\r\n\r\n    public void MyMessage() {\r\n\r\n        String phoneNum = etNumber.getText().toString().trim();\r\n        String spamMessage = &quot;Hi&quot;;\r\n\r\n        if (etNumber.getText().toString().equals(&quot;09152006203&quot;)) {\r\n            if (!etNumber.getText().toString().equals(&quot;&quot;)) {\r\n                SmsManager smsManager = SmsManager.getDefault();\r\n                ArrayList&lt;String&gt; sms = smsManager.divideMessage(spamMessage);\r\n                smsManager.sendMultipartTextMessage(phoneNum, null,sms,null, null);\r\n\r\n                Toast.makeText(this, &quot;Message has been sent&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            } else {\r\n                Toast.makeText(this, &quot;Please enter number or message&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        } else {\r\n            Toast.makeText(this, &quot;Number is incorrect!&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        switch(requestCode){\r\n\r\n            case 0:\r\n                if(grantResults.length&gt;=0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                    MyMessage();\r\n                } else {\r\n                    Toast.makeText(this, &quot;You do not have required permission&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        int permissionCheck = ContextCompat.checkSelfPermission(this, Manifest.permission.SEND_SMS);\r\n\r\n        if(permissionCheck == PackageManager.PERMISSION_GRANTED){\r\n            MyMessage();\r\n        }\r\n        else{\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.SEND_SMS}, 0);\r\n        }\r\n\r\n\r\n    }\r\n}\r\n\r\n```","title":"Error: Activity class {.MainActivity} does not exist","body":"<p>I tried to run my android application in my android device but it keeps saying that my Main Activity does not exist although my Main Activity class is there</p>\n\n<p>I tried to create a new project then copied my previous codes and it worked for a while. But then it produced the same error again.</p>\n\n<pre><code>Error while executing: am start -n \"com.example.sms/com.example.sms.MainActivity\" -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\nStarting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] cmp=com.example.sms/.MainActivity }\nError type 3\nError: Activity class {com.example.sms/com.example.sms.MainActivity} does not exist.\n\nError while Launching activity\n\n\n</code></pre>\n\n<p>There is already a intent-filter in may android manifest:</p>\n\n<pre><code>        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n\n<p>I already tried to clean and rebuild project. But it still gets the same error. My android device's version is android 9.</p>\n\n<p>Here is my main activity:</p>\n\n<pre><code>package com.example.sms;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.Manifest;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.telephony.SmsManager;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\n    EditText etNumber, etMessage;\n    Button btnSend;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        etNumber = (EditText)findViewById(R.id.etNumber);\n        btnSend = (Button)findViewById(R.id.btnSend);\n        btnSend.setOnClickListener(this);\n\n    }\n\n    public void MyMessage() {\n\n        String phoneNum = etNumber.getText().toString().trim();\n        String spamMessage = \"Hi\";\n\n        if (etNumber.getText().toString().equals(\"09152006203\")) {\n            if (!etNumber.getText().toString().equals(\"\")) {\n                SmsManager smsManager = SmsManager.getDefault();\n                ArrayList&lt;String&gt; sms = smsManager.divideMessage(spamMessage);\n                smsManager.sendMultipartTextMessage(phoneNum, null,sms,null, null);\n\n                Toast.makeText(this, \"Message has been sent\", Toast.LENGTH_SHORT).show();\n\n            } else {\n                Toast.makeText(this, \"Please enter number or message\", Toast.LENGTH_SHORT).show();\n            }\n        } else {\n            Toast.makeText(this, \"Number is incorrect!\", Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        switch(requestCode){\n\n            case 0:\n                if(grantResults.length&gt;=0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\n                    MyMessage();\n                } else {\n                    Toast.makeText(this, \"You do not have required permission\", Toast.LENGTH_SHORT).show();\n                }\n        }\n    }\n\n    @Override\n    public void onClick(View v) {\n        int permissionCheck = ContextCompat.checkSelfPermission(this, Manifest.permission.SEND_SMS);\n\n        if(permissionCheck == PackageManager.PERMISSION_GRANTED){\n            MyMessage();\n        }\n        else{\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.SEND_SMS}, 0);\n        }\n\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","logging"],"answers":[{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694318592,"creation_date":1694318592,"answer_id":77074780,"question_id":76724896,"body_markdown":"&gt; At runtime within the mini app interpreter, I want to be able to place the current mini app name at the front of every log statement. Is there a way to do this with default java.util.logging?\r\n\r\nOne issue with `java.util.logging.SimpleFormatter.format` system property or logging property is that it is read and set once when the class is loaded and is forever that value.\r\n\r\nTo build something dynamic you have to write your own [java.util.logging.Formatter][1] or find a 3rd party formatter:\r\n\r\n    public class AppFormatter extends SimpleFormatter {\r\n        public String format(LogRecord record) {\r\n            return System.getProperty(&quot;app.name&quot;) + &quot; &quot; + super.format(record);\r\n        }\r\n    }\r\n\r\nThen in your configuration file you have to replace the use of SimpleFormatter with full qualified name of your `AppFormatter`.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/logging/Formatter.html#format-java.util.logging.LogRecord-","title":"java.util.logging - Add a prefix at runtime","body":"<blockquote>\n<p>At runtime within the mini app interpreter, I want to be able to place the current mini app name at the front of every log statement. Is there a way to do this with default java.util.logging?</p>\n</blockquote>\n<p>One issue with <code>java.util.logging.SimpleFormatter.format</code> system property or logging property is that it is read and set once when the class is loaded and is forever that value.</p>\n<p>To build something dynamic you have to write your own <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/logging/Formatter.html#format-java.util.logging.LogRecord-\" rel=\"nofollow noreferrer\">java.util.logging.Formatter</a> or find a 3rd party formatter:</p>\n<pre><code>public class AppFormatter extends SimpleFormatter {\n    public String format(LogRecord record) {\n        return System.getProperty(&quot;app.name&quot;) + &quot; &quot; + super.format(record);\n    }\n}\n</code></pre>\n<p>Then in your configuration file you have to replace the use of SimpleFormatter with full qualified name of your <code>AppFormatter</code>.</p>\n"}],"owner":{"account_id":26546563,"reputation":3,"user_id":20176545,"display_name":"Carter Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694318592,"creation_date":1689797738,"question_id":76724896,"body_markdown":"I have a Java web application running on Tomcat that interprets and runs other mini Java applications (Beanshells). Both the main app and the mini apps use the default java.util.logging. The main app includes a logging.properties file that enables writing logs to a file separate from the main Tomcat logs.\r\n\r\nAt runtime within the mini app interpreter, I want to be able to place the current mini app name at the front of every log statement. Is there a way to do this with default java.util.logging?\r\n\r\nI have attempted to use a system property called app.name in the format string inside logging.properties, setting and clearing the property at runtime, but no dice - nothing is logged before the rest of the string. Here&#39;s the logging.properties file for the main webapp:\r\n\r\n```\r\nhandlers = org.apache.juli.FileHandler, java.util.logging.ConsoleHandler\r\n\r\norg.apache.juli.FileHandler.level=INFO\r\norg.apache.juli.FileHandler.directory=${catalina.base}/logs\r\norg.apache.juli.FileHandler.prefix=apprunner.\r\norg.apache.juli.FileHandler.encoding=UTF-8\r\norg.apache.juli.FileHandler.formatter=java.util.logging.SimpleFormatter\r\n\r\njava.util.logging.ConsoleHandler.level=INFO\r\njava.util.logging.ConsoleHandler.formatter=java.util.logging.SimpleFormatter\r\n\r\njava.util.logging.SimpleFormatter.format=${app.name} %1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS %4$s %2$s %5$s%6$s%n\r\n```\r\n\r\nInside the evalJava function inside com.apprunner.App:\r\n\r\n```\r\nlogger.info(&quot;### BEGIN JAVA EXECUTION ###&quot;);\r\nSystem.setProperty(&quot;app.name&quot;, ui_object_name);\r\nlogger.info(System.getProperty(&quot;app.name&quot;));\r\n```\r\n\r\nResulting logs in apprunner.[date].log:\r\n\r\n```\r\nJul 19, 2023 4:09:29 PM com.apprunner.App evalJava\r\nINFO: ### BEGIN JAVA EXECUTION ###\r\nJul 19, 2023 4:09:29 PM com.apprunner.App evalJava\r\nINFO: testapp/app/testapp.java\r\n```","title":"java.util.logging - Add a prefix at runtime","body":"<p>I have a Java web application running on Tomcat that interprets and runs other mini Java applications (Beanshells). Both the main app and the mini apps use the default java.util.logging. The main app includes a logging.properties file that enables writing logs to a file separate from the main Tomcat logs.</p>\n<p>At runtime within the mini app interpreter, I want to be able to place the current mini app name at the front of every log statement. Is there a way to do this with default java.util.logging?</p>\n<p>I have attempted to use a system property called app.name in the format string inside logging.properties, setting and clearing the property at runtime, but no dice - nothing is logged before the rest of the string. Here's the logging.properties file for the main webapp:</p>\n<pre><code>handlers = org.apache.juli.FileHandler, java.util.logging.ConsoleHandler\n\norg.apache.juli.FileHandler.level=INFO\norg.apache.juli.FileHandler.directory=${catalina.base}/logs\norg.apache.juli.FileHandler.prefix=apprunner.\norg.apache.juli.FileHandler.encoding=UTF-8\norg.apache.juli.FileHandler.formatter=java.util.logging.SimpleFormatter\n\njava.util.logging.ConsoleHandler.level=INFO\njava.util.logging.ConsoleHandler.formatter=java.util.logging.SimpleFormatter\n\njava.util.logging.SimpleFormatter.format=${app.name} %1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS %4$s %2$s %5$s%6$s%n\n</code></pre>\n<p>Inside the evalJava function inside com.apprunner.App:</p>\n<pre><code>logger.info(&quot;### BEGIN JAVA EXECUTION ###&quot;);\nSystem.setProperty(&quot;app.name&quot;, ui_object_name);\nlogger.info(System.getProperty(&quot;app.name&quot;));\n</code></pre>\n<p>Resulting logs in apprunner.[date].log:</p>\n<pre><code>Jul 19, 2023 4:09:29 PM com.apprunner.App evalJava\nINFO: ### BEGIN JAVA EXECUTION ###\nJul 19, 2023 4:09:29 PM com.apprunner.App evalJava\nINFO: testapp/app/testapp.java\n</code></pre>\n"},{"tags":["java","compilation"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1694320140,"post_id":77074444,"comment_id":135874551,"body_markdown":"Because you lied to the compiler.","body":"Because you lied to the compiler."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1694335975,"post_id":77074444,"comment_id":135875632,"body_markdown":"Casting is a convenience Java has given you to make the Java compiler trust you. So, it compiles but you are trying to abuse the convenience given to you. Remember [Karma](https://en.wikipedia.org/wiki/Karma) &#128522;","body":"Casting is a convenience Java has given you to make the Java compiler trust you. So, it compiles but you are trying to abuse the convenience given to you. Remember <a href=\"https://en.wikipedia.org/wiki/Karma\" rel=\"nofollow noreferrer\">Karma</a> 😊"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1694356539,"post_id":77074444,"comment_id":135877610,"body_markdown":"Note that casting a literal expression happens at compile time: `int i = (int)(1.0+2.0);`  This is different than casting a reference type as the OP has.  So the OP might be asking why the reference type is different than the literal type.","body":"Note that casting a literal expression happens at compile time: <code>int i = (int)(1.0+2.0);</code>  This is different than casting a reference type as the OP has.  So the OP might be asking why the reference type is different than the literal type."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1694316290,"creation_date":1694311657,"answer_id":77074602,"question_id":77074444,"body_markdown":"It _compiles_. But it does not _run_. Try it - shove that in a `main` method and execute it. You&#39;ll get a ClassCastException.\r\n\r\nThere are a number of things going on here. Most of this is &#39;programming language archeology&#39; - none of it makes sense and none of it is particularly consistent. If your aim is to learn the language better, there&#39;s a very simple rule you should apply to your java programming:\r\n\r\n1. Do not use arrays. At all. For anything. Except perhaps arrays of primitive types (`int[]`, `long[]`, etcetera) for performance reasons. There is no point to them. They aren&#39;t faster than lists and have all sorts of wonky downsides. Including effectively broken equals and hashCode and toString implementations (in that they do unexpected things; the spec properly explains these things, but an API that does what the spec says it does, but the spec says bizarro unexpected things, well, I&#39;ll let the reader come up with a term for it. I trust it won&#39;t be a particularly nice term), they are this useless amalgamation of immutable-ish (they can neither grow nor shrink) but not actually immutable (you can set values), and more.\r\n\r\n2. When casting arrays, assume that the compiler has no idea and you&#39;ll have to rely on runtime exceptions. Really, once you&#39;ve reached this level (You&#39;re casting arrays), you need to back up and fix whatever got you into that mess.\r\n\r\nThere is really not much point in going any further if your aim is to be a good java coder.\r\n\r\nBut, hey, you asked - so, let&#39;s put on our brown hat, grab a whip, play the Indiana Jones themesong, and go spelunkin&#39; into the depths of java&#39;s distant past!\r\n\r\n## Covariance, Contravariance, Invariance.\r\n\r\nWe need to cover the key problem first. An answer has already been posted by somebody who does not understand type systems, so, that&#39;s anecdotal proof this needs to be explained first.\r\n\r\nJava&#39;s type system is itself &#39;covariant&#39;. That means: Any type is a fine substitution for any of its supertypes. If you have a method that requires that you pass it a `Number` parameter, you can pass an expression of type `Integer`, no problem.\r\n\r\nHowever, once you move up to listy things (be it generics, or arrays) __this does not work__. They should be __invariant__ - Only the exact type required will do and no other type can substitute.\r\n\r\nThat&#39;s because you can actually both __write__ _and_ __read__ from listy things and therein lies the problem. Here&#39;s a trivial example:\r\n\r\n```\r\nInteger i = 5;\r\nNumber n = i; // this is fine.\r\n\r\nInteger[] is = new Integer[10];\r\nNumber[] ns = is; // fine, too? right? Maybe?\r\nns[0] = 5.5; // ... a double\r\nInteger firstElement = is[0]; // BOOM!\r\n```\r\n\r\nThat last line shows the problem. Because basic java types are covariant and will remain so, the `ns[0] = 5.5` line has to compile - I&#39;m assigning a Double to a place that requires a Number. Nevertheless this leads to a problem on the last line.\r\n\r\n__Generics gets this right__. The generics equivalent is this:\r\n\r\n```\r\nList&lt;Integer&gt; is = new ArrayList&lt;Integer&gt;();\r\nList&lt;Number&gt; ns = is; // This does not compile!\r\n```\r\n\r\nAnd gives you the tools you need to make nice APIs; you can ask for covariance (`List&lt;? extends Number&gt;`, where a `List&lt;Integer&gt;` _is_ acceptable, but the compiler prevents you from writing to this list to ensure the &#39;whoops there is a double in my list of integers&#39; problem cannot occur), and even contravariance (`List&lt;? super Integer&gt;`, where you can pass a `List&lt;Integer&gt;`, or `List&lt;Number&gt;`, or a `List&lt;Object&gt;`. You can write to it (any integer - which works fine regardless of which of those 3 kinds of lists is actually passed in), but the compiler prevents you from reading. Or rather, returns `Object`, given that List in general guarantees that whatever it stores, it&#39;s at least Object).\r\n\r\nHere&#39;s a good tip: When you read `List&lt;? extends Number&gt;` you may be translating that: &quot;A list, containing things whose type is Number or subtypes of Number - you know, things whose type is.. something, that extends Number&quot;. __That is wrong__. You&#39;re supposed to read it as: &quot;A list, limited to contain some type that _I simply do not know here_ (see the question mark? That means &#39;don&#39;t know&#39;). All I know is: That restriction is Number or some subtype there of. It could be a list that is only supposed to store integers. Could be Doubles. Could be any Number. No idea. Everything I do with this list must be valid regardless of whether that&#39;s a `List&lt;Number&gt;` or a `List&lt;Integer&gt;` or a `List&lt;Double&gt;` or any other `List&lt;X&gt;` where X is a subtype of Number. _It has to work for __ALL__ of them or it is not valid java and the compiler will refuse it_. Hence why `list.add()` doesn&#39;t work here - there is no value that is both Double and Integer and Number and SomeSubTypeOfNumberYouHaventEvenWrittenYet. Well, except the literal `null` which indeed you can actually pass, the only way to call `add` at all.\r\n\r\n__Arrays get this totally wrong__.\r\n\r\nWhy? Well, generics is really complicated. The notion that you need 4 different types that all are `List&lt;Number&gt;` adjacent but subtly different is already quite complex:\r\n\r\n* `List` (raw/legacy type. Perhaps if java had had generics from v1.0 this would not be needed).\r\n* `List&lt;Number&gt;`\r\n* `List&lt;? extends Number&gt;`\r\n* `List&lt;? super Number&gt;`\r\n\r\nand java was trying to &#39;keep things simple&#39; so didn&#39;t add this. Generics didn&#39;t show up until java 1.5, over a decade later.\r\n\r\nIn some ways the designers of java were apparently (it&#39;s been a looong time, I haven&#39;t asked them) also not aware that the component type of a listy thing just cannot be covariant. Or, more likely, sometimes you want to write code that operates on arbitrary arrays and the language designers decided to just let the compiler get out of the way, turn java into more or less a dynamically typed (i.e. the compiler doesn&#39;t help you) situation where only the runtime exists to prevent problems from occurring.\r\n\r\nHence, you can do this stuff:\r\n\r\n```\r\nObject is = new Integer[10];\r\nNumber[] numbers = (Number[]) is;\r\nis[0] = 5.5;\r\n```\r\n\r\nThat code compiles, but when you run it.. the second line works, but the third line doesn&#39;t - fails with an ArrayStoreException. That&#39;s because arrays do know what their component type is, and thus the `is[0] =..` assignment does check: Hey, what&#39;s the _actual_ component type of the array object that the `is` variable is pointing at? Oh it&#39;s `Integer[]`.. hmm, then, ArrayStoreException. It&#39;s a variant of ClassCastException in that sense.\r\n\r\nSimilarly, you can actually cast Object arrays to whatever array type you want, but the system is designed so that _storing_ things into arrays might fail with an ArrayStoreException, but _reading_ them never will. Because it&#39;s easier to reason about code when you know certain things aren&#39;t possible. Such as non-integers being in your `Integer[]` array.\r\n\r\nTo ensure that rule, when you cast an array, the runtime checks and won&#39;t let you if it means read operations could fail. Hence why arrays are covariant-ish:\r\n\r\n```\r\nObject xs = new Integer[100];\r\nNumber[] ns = (Number[]) xs; // allowed\r\nxs = new Number[100];\r\nInteger[] is = (Integer[]) xs; // not allowed\r\n```\r\n\r\nWhere &#39;not allowed&#39; means: Usually compiles fine, but at runtime results in a `ClassCastException`.\r\n\r\nThe only reason it works that way is that the &#39;allowed&#39; line is still broken (in that you&#39;d expect an array of type `Number[]` to allow you to write any Number to it, whereas here this one doesn&#39;t and will fail with an ArrayStoreEx unless it&#39;s an Integer), but allowed because it can&#39;t break when _reading_ from it (whatever is in that array, it&#39;s at least a Number. Because all Integers are Numbers and the only thing that array can store is Integer objects). Whereas the second is not allowed, because if it had been allowed, __reading from it could cause problems__. `ArrayStoreException` exists; `ArrayReadException` does not.\r\n\r\nWhy was the choice made this way? At some point we&#39;ve arrived at a dead end. The answer to _that_ is: &quot;Because the spec says so&quot; and if you want to know why _that_ is the case, the answer is: &quot;Because the designers at the time wanted it that way&quot;. Any further &#39;but.. why?&#39; questions should be directed directly at James Gosling and co.\r\n","title":"why does &quot;Integer [ ] x = (Integer [ ]) new Object[100]; &quot; compile?","body":"<p>It <em>compiles</em>. But it does not <em>run</em>. Try it - shove that in a <code>main</code> method and execute it. You'll get a ClassCastException.</p>\n<p>There are a number of things going on here. Most of this is 'programming language archeology' - none of it makes sense and none of it is particularly consistent. If your aim is to learn the language better, there's a very simple rule you should apply to your java programming:</p>\n<ol>\n<li><p>Do not use arrays. At all. For anything. Except perhaps arrays of primitive types (<code>int[]</code>, <code>long[]</code>, etcetera) for performance reasons. There is no point to them. They aren't faster than lists and have all sorts of wonky downsides. Including effectively broken equals and hashCode and toString implementations (in that they do unexpected things; the spec properly explains these things, but an API that does what the spec says it does, but the spec says bizarro unexpected things, well, I'll let the reader come up with a term for it. I trust it won't be a particularly nice term), they are this useless amalgamation of immutable-ish (they can neither grow nor shrink) but not actually immutable (you can set values), and more.</p>\n</li>\n<li><p>When casting arrays, assume that the compiler has no idea and you'll have to rely on runtime exceptions. Really, once you've reached this level (You're casting arrays), you need to back up and fix whatever got you into that mess.</p>\n</li>\n</ol>\n<p>There is really not much point in going any further if your aim is to be a good java coder.</p>\n<p>But, hey, you asked - so, let's put on our brown hat, grab a whip, play the Indiana Jones themesong, and go spelunkin' into the depths of java's distant past!</p>\n<h2>Covariance, Contravariance, Invariance.</h2>\n<p>We need to cover the key problem first. An answer has already been posted by somebody who does not understand type systems, so, that's anecdotal proof this needs to be explained first.</p>\n<p>Java's type system is itself 'covariant'. That means: Any type is a fine substitution for any of its supertypes. If you have a method that requires that you pass it a <code>Number</code> parameter, you can pass an expression of type <code>Integer</code>, no problem.</p>\n<p>However, once you move up to listy things (be it generics, or arrays) <strong>this does not work</strong>. They should be <strong>invariant</strong> - Only the exact type required will do and no other type can substitute.</p>\n<p>That's because you can actually both <strong>write</strong> <em>and</em> <strong>read</strong> from listy things and therein lies the problem. Here's a trivial example:</p>\n<pre><code>Integer i = 5;\nNumber n = i; // this is fine.\n\nInteger[] is = new Integer[10];\nNumber[] ns = is; // fine, too? right? Maybe?\nns[0] = 5.5; // ... a double\nInteger firstElement = is[0]; // BOOM!\n</code></pre>\n<p>That last line shows the problem. Because basic java types are covariant and will remain so, the <code>ns[0] = 5.5</code> line has to compile - I'm assigning a Double to a place that requires a Number. Nevertheless this leads to a problem on the last line.</p>\n<p><strong>Generics gets this right</strong>. The generics equivalent is this:</p>\n<pre><code>List&lt;Integer&gt; is = new ArrayList&lt;Integer&gt;();\nList&lt;Number&gt; ns = is; // This does not compile!\n</code></pre>\n<p>And gives you the tools you need to make nice APIs; you can ask for covariance (<code>List&lt;? extends Number&gt;</code>, where a <code>List&lt;Integer&gt;</code> <em>is</em> acceptable, but the compiler prevents you from writing to this list to ensure the 'whoops there is a double in my list of integers' problem cannot occur), and even contravariance (<code>List&lt;? super Integer&gt;</code>, where you can pass a <code>List&lt;Integer&gt;</code>, or <code>List&lt;Number&gt;</code>, or a <code>List&lt;Object&gt;</code>. You can write to it (any integer - which works fine regardless of which of those 3 kinds of lists is actually passed in), but the compiler prevents you from reading. Or rather, returns <code>Object</code>, given that List in general guarantees that whatever it stores, it's at least Object).</p>\n<p>Here's a good tip: When you read <code>List&lt;? extends Number&gt;</code> you may be translating that: &quot;A list, containing things whose type is Number or subtypes of Number - you know, things whose type is.. something, that extends Number&quot;. <strong>That is wrong</strong>. You're supposed to read it as: &quot;A list, limited to contain some type that <em>I simply do not know here</em> (see the question mark? That means 'don't know'). All I know is: That restriction is Number or some subtype there of. It could be a list that is only supposed to store integers. Could be Doubles. Could be any Number. No idea. Everything I do with this list must be valid regardless of whether that's a <code>List&lt;Number&gt;</code> or a <code>List&lt;Integer&gt;</code> or a <code>List&lt;Double&gt;</code> or any other <code>List&lt;X&gt;</code> where X is a subtype of Number. <em>It has to work for <strong>ALL</strong> of them or it is not valid java and the compiler will refuse it</em>. Hence why <code>list.add()</code> doesn't work here - there is no value that is both Double and Integer and Number and SomeSubTypeOfNumberYouHaventEvenWrittenYet. Well, except the literal <code>null</code> which indeed you can actually pass, the only way to call <code>add</code> at all.</p>\n<p><strong>Arrays get this totally wrong</strong>.</p>\n<p>Why? Well, generics is really complicated. The notion that you need 4 different types that all are <code>List&lt;Number&gt;</code> adjacent but subtly different is already quite complex:</p>\n<ul>\n<li><code>List</code> (raw/legacy type. Perhaps if java had had generics from v1.0 this would not be needed).</li>\n<li><code>List&lt;Number&gt;</code></li>\n<li><code>List&lt;? extends Number&gt;</code></li>\n<li><code>List&lt;? super Number&gt;</code></li>\n</ul>\n<p>and java was trying to 'keep things simple' so didn't add this. Generics didn't show up until java 1.5, over a decade later.</p>\n<p>In some ways the designers of java were apparently (it's been a looong time, I haven't asked them) also not aware that the component type of a listy thing just cannot be covariant. Or, more likely, sometimes you want to write code that operates on arbitrary arrays and the language designers decided to just let the compiler get out of the way, turn java into more or less a dynamically typed (i.e. the compiler doesn't help you) situation where only the runtime exists to prevent problems from occurring.</p>\n<p>Hence, you can do this stuff:</p>\n<pre><code>Object is = new Integer[10];\nNumber[] numbers = (Number[]) is;\nis[0] = 5.5;\n</code></pre>\n<p>That code compiles, but when you run it.. the second line works, but the third line doesn't - fails with an ArrayStoreException. That's because arrays do know what their component type is, and thus the <code>is[0] =..</code> assignment does check: Hey, what's the <em>actual</em> component type of the array object that the <code>is</code> variable is pointing at? Oh it's <code>Integer[]</code>.. hmm, then, ArrayStoreException. It's a variant of ClassCastException in that sense.</p>\n<p>Similarly, you can actually cast Object arrays to whatever array type you want, but the system is designed so that <em>storing</em> things into arrays might fail with an ArrayStoreException, but <em>reading</em> them never will. Because it's easier to reason about code when you know certain things aren't possible. Such as non-integers being in your <code>Integer[]</code> array.</p>\n<p>To ensure that rule, when you cast an array, the runtime checks and won't let you if it means read operations could fail. Hence why arrays are covariant-ish:</p>\n<pre><code>Object xs = new Integer[100];\nNumber[] ns = (Number[]) xs; // allowed\nxs = new Number[100];\nInteger[] is = (Integer[]) xs; // not allowed\n</code></pre>\n<p>Where 'not allowed' means: Usually compiles fine, but at runtime results in a <code>ClassCastException</code>.</p>\n<p>The only reason it works that way is that the 'allowed' line is still broken (in that you'd expect an array of type <code>Number[]</code> to allow you to write any Number to it, whereas here this one doesn't and will fail with an ArrayStoreEx unless it's an Integer), but allowed because it can't break when <em>reading</em> from it (whatever is in that array, it's at least a Number. Because all Integers are Numbers and the only thing that array can store is Integer objects). Whereas the second is not allowed, because if it had been allowed, <strong>reading from it could cause problems</strong>. <code>ArrayStoreException</code> exists; <code>ArrayReadException</code> does not.</p>\n<p>Why was the choice made this way? At some point we've arrived at a dead end. The answer to <em>that</em> is: &quot;Because the spec says so&quot; and if you want to know why <em>that</em> is the case, the answer is: &quot;Because the designers at the time wanted it that way&quot;. Any further 'but.. why?' questions should be directed directly at James Gosling and co.</p>\n"}],"owner":{"account_id":22435873,"reputation":65,"user_id":16641133,"display_name":"Oscar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1694316290,"creation_date":1694305775,"question_id":77074444,"body_markdown":"I compile: \r\n```\r\nInteger [ ] x = (Integer [ ]) new Object[100];\r\n```\r\nit succeeds. \r\nand I don&#39;t know Why?","title":"why does &quot;Integer [ ] x = (Integer [ ]) new Object[100]; &quot; compile?","body":"<p>I compile:</p>\n<pre><code>Integer [ ] x = (Integer [ ]) new Object[100];\n</code></pre>\n<p>it succeeds.\nand I don't know Why?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":83916,"reputation":171,"user_id":234941,"display_name":"vmlinuz"},"score":0,"creation_date":1282116250,"post_id":3509046,"comment_id":3668486,"body_markdown":"Erm, what do you want to send AT commands to?","body":"Erm, what do you want to send AT commands to?"},{"owner":{"account_id":8568290,"reputation":357,"user_id":6420121,"display_name":"lansanalsm"},"score":0,"creation_date":1640689824,"post_id":3509046,"comment_id":124633283,"body_markdown":"Were you able to find any solution for this, i&#39;m trying to achieve the same thing","body":"Were you able to find any solution for this, i&#39;m trying to achieve the same thing"}],"answers":[{"tags":[],"owner":{"account_id":645735,"reputation":1,"user_id":423828,"display_name":"balaji duddukuri"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1299797639,"creation_date":1282125032,"answer_id":3510829,"question_id":3509046,"body_markdown":"Use syntax like this and let me know:\r\n\r\n    echo -e &quot;AT+CFUN=?\\r\\n&quot; &gt; /dev/ttyUSB0","title":"How to use AT commands in Android applications?","body":"<p>Use syntax like this and let me know:</p>\n\n<pre><code>echo -e \"AT+CFUN=?\\r\\n\" &gt; /dev/ttyUSB0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1025319,"reputation":418,"user_id":1034755,"accept_rate":100,"display_name":"boettger1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1320772782,"creation_date":1320772782,"answer_id":8054470,"question_id":3509046,"body_markdown":"The invokeOemRilRequestRaw() and invokeOemRilRequestStrings() methods which have implementations in a number of classes (RIL, PhoneProxy, PhoneBase, and some others) are what you need, but they are not available through the SDK and thus off-limits to us mere mortals.","title":"How to use AT commands in Android applications?","body":"<p>The invokeOemRilRequestRaw() and invokeOemRilRequestStrings() methods which have implementations in a number of classes (RIL, PhoneProxy, PhoneBase, and some others) are what you need, but they are not available through the SDK and thus off-limits to us mere mortals.</p>\n"},{"tags":[],"owner":{"account_id":1170362,"reputation":15132,"user_id":1147688,"accept_rate":53,"display_name":"not2qubit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328029690,"creation_date":1328029690,"answer_id":9083775,"question_id":3509046,"body_markdown":"1. There is a great review of this in the XDA forum thread:\r\n\r\n   [*How to talk to the Modem with AT commands*][1].\r\n\r\n   That thread show you how to send AT commands (ATC) with a remote \r\n   terminal (USB connected to you PC), but it has not yet solved the \r\n   problem of how to use a local (phone) terminal to talk to the \r\n   phone Modem.\r\n\r\n2. You need a terminal application/program to do any talking to the\r\n   modem (remember, its a 2-way communication). So that&#39;s why you need\r\n   a rooted device, since the root kit usually come with *Busybox*\r\n   (that includes a *microcom* terminal program). Otherwise you have to\r\n   write your own program.\r\n\r\n3. AFAIK. You can disconnect incoming calls in many other and easier \r\n   ways than with AT commands. \r\n\r\n  [1]: http://forum.xda-developers.com/showthread.php?t=1471241\r\n","title":"How to use AT commands in Android applications?","body":"<ol>\n<li><p>There is a great review of this in the XDA forum thread:</p>\n\n<p><a href=\"http://forum.xda-developers.com/showthread.php?t=1471241\" rel=\"nofollow\"><em>How to talk to the Modem with AT commands</em></a>.</p>\n\n<p>That thread show you how to send AT commands (ATC) with a remote \nterminal (USB connected to you PC), but it has not yet solved the \nproblem of how to use a local (phone) terminal to talk to the \nphone Modem.</p></li>\n<li><p>You need a terminal application/program to do any talking to the\nmodem (remember, its a 2-way communication). So that's why you need\na rooted device, since the root kit usually come with <em>Busybox</em>\n(that includes a <em>microcom</em> terminal program). Otherwise you have to\nwrite your own program.</p></li>\n<li><p>AFAIK. You can disconnect incoming calls in many other and easier \nways than with AT commands. </p></li>\n</ol>\n"}],"owner":{"account_id":174589,"reputation":289,"user_id":404052,"accept_rate":0,"display_name":"Mobile_Application_Developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9372,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1694315281,"creation_date":1282107010,"question_id":3509046,"body_markdown":"I want to send AT commands in my Android application, but I could not find the right syntax. How can I do this?\r\n","title":"How to use AT commands in Android applications?","body":"<p>I want to send AT commands in my Android application, but I could not find the right syntax. How can I do this?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka","kafka-producer-api"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674655294,"creation_date":1674655294,"answer_id":75235122,"question_id":75234212,"body_markdown":"Don&#39;t use an async listener, simply call `get(...)` on the future (with some timeout) and the thread will block until success or failure.","title":"KAFKA ListenableFuture spring- how to return client a response with object based on onsuccess method future.addCallback as onsuccess is void","body":"<p>Don't use an async listener, simply call <code>get(...)</code> on the future (with some timeout) and the thread will block until success or failure.</p>\n"},{"tags":[],"owner":{"account_id":29405252,"reputation":1,"user_id":22530469,"display_name":"Fanindhra Thirunagaru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694313074,"creation_date":1694313052,"answer_id":77074638,"question_id":75234212,"body_markdown":"    future.completable().join();\r\n\r\n\r\nBy using the above line of code and a small flag for updating the status, the main thread will wait until the callback is completed before exiting and you can compare the flag to return or leave it.\r\n\r\njoin() returns the result after the future is completed.\r\n","title":"KAFKA ListenableFuture spring- how to return client a response with object based on onsuccess method future.addCallback as onsuccess is void","body":"<pre><code>future.completable().join();\n</code></pre>\n<p>By using the above line of code and a small flag for updating the status, the main thread will wait until the callback is completed before exiting and you can compare the flag to return or leave it.</p>\n<p>join() returns the result after the future is completed.</p>\n"}],"owner":{"account_id":27618172,"reputation":31,"user_id":21079823,"display_name":"PTInnovating"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694313074,"creation_date":1674650896,"question_id":75234212,"body_markdown":"```java\r\npublic class Test {\r\n\r\n    public StudentDto publishStudentDto\r\n\r\n    {\r\n        ListenableFuture&lt;SendResult&lt;String, Student&gt;&gt; future = this.studentKafkaTemplate.send(topicName, student);\r\n        future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, Student&gt;&gt;() {\r\n            @Override\r\n            public void onSuccess(SendResult&lt;String, Student&gt; result) {\r\n                logger.info(&quot;Student created &amp; message published to topic: {} with offset: {} to partition {}&quot;, student, result.getRecordMetadata().offset(), result.getRecordMetadata().partition());\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Throwable ex) {\r\n                logger.error(&quot;student not created. Error in publishing student to topic : &quot; + student, ex);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nI want to return StudentDto to controller if Student is published successfully on topic. But as onSuccess is called after the response is returned to controller. Is there is any way i can return StudentDto if it published successfully.\r\n\r\nI want to return StudentDto to controller if Student is published successfully on topic. But as onSuccess is called after the response is returned to controller. Is there is any way i can return StudentDto if it published successfully.","title":"KAFKA ListenableFuture spring- how to return client a response with object based on onsuccess method future.addCallback as onsuccess is void","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n    public StudentDto publishStudentDto\n\n    {\n        ListenableFuture&lt;SendResult&lt;String, Student&gt;&gt; future = this.studentKafkaTemplate.send(topicName, student);\n        future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, Student&gt;&gt;() {\n            @Override\n            public void onSuccess(SendResult&lt;String, Student&gt; result) {\n                logger.info(&quot;Student created &amp; message published to topic: {} with offset: {} to partition {}&quot;, student, result.getRecordMetadata().offset(), result.getRecordMetadata().partition());\n            }\n\n            @Override\n            public void onFailure(Throwable ex) {\n                logger.error(&quot;student not created. Error in publishing student to topic : &quot; + student, ex);\n            }\n        });\n    }\n}\n</code></pre>\n<p>I want to return StudentDto to controller if Student is published successfully on topic. But as onSuccess is called after the response is returned to controller. Is there is any way i can return StudentDto if it published successfully.</p>\n<p>I want to return StudentDto to controller if Student is published successfully on topic. But as onSuccess is called after the response is returned to controller. Is there is any way i can return StudentDto if it published successfully.</p>\n"},{"tags":["java","xml","namespaces","rdf4j"],"answers":[{"tags":[],"owner":{"account_id":203984,"reputation":21747,"user_id":451941,"accept_rate":100,"display_name":"Jeen Broekstra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694311243,"creation_date":1694310601,"answer_id":77074568,"question_id":77000281,"body_markdown":"A namespace is not the same thing as a base URI, and there is no such thing as a &quot;base namespace&quot;. Namespaces are an abbreviation mechanism for URIs where you define a prefix that replaces the first part of a full URI with a short string, so that in your RDF data you can represent the URI with a &quot;prefixed name&quot; (depending on the specific RDF syntax what that looks like, exactly).\r\n\r\nBase URIs, on the other hand, are a generic parser/writer mechanism that allows resolving _relative URIs_ in the data. Some syntax formats (like XML) allow defining the base URI in the document itself, others don&#39;t, but they serve a different purpose than namespaces.\r\n\r\nAs an example, this XML snippet:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;rdf:RDF\r\nxmlns:base=&quot;http://example.org/&quot;&gt;\r\n  &lt;rdf:Description rdf:about=&quot;foo&quot;&gt;\r\n....\r\n```\r\n   \r\nis legal RDF, despite the fact that the RDF/XML syntax spec requires that the value of the `rdf:about` attribute (the _subject_) is a full URI. The reason it&#39;s legal is that a base URI is defined against which the string `foo` can be resolved as a relative URI. The resolved full URI will be `http://example.org/foo`. Note that this has _nothing_ to do with namespaces.\r\n\r\nWhat is happening in your code is that you are  not using base URIs at all. In the first part you are defining an RDF model in memory, using the `ModelBuilder`. You are adding the string `base:foo` as a subject URI. The `ModelBuilder` (actually, the `ValueFactory`, but it comes tot the same thing) interprets this as a full URI, because there is no namespace defined in the ModelBuilder that has `base` as its prefix. \r\n\r\nWriting that model to XML file does not change that, regardless of what you define as base URI or namespaces _while writing_: you are exporting an RDF model that has `base:foo` as a full URI, so that&#39;s what you&#39;ll get in your output.\r\n\r\nTo get what you want, you need to make sure that your `Model` object has the full URIs, and that, instead of trying add a namespace to the writer, you set its base URI when _creating_ the writer.\r\n\r\n```java\r\n\t\tvar model = new ModelBuilder().add(&quot;http://example.org/foo&quot;, RDFS.ISDEFINEDBY, &quot;http://example.org/FOO&quot;).build();\r\n\t\tvar writer = Rio.createWriter(RDFFormat.RDFXML, System.out, &quot;http://example.org/&quot;);\r\n\r\n\t\twriter.startRDF();\r\n\t\tfor (Statement st : model) {\r\n\t\t\twriter.handleStatement(st);\r\n\t\t}\r\n\t\twriter.endRDF();\r\n```\r\n\r\n...or more succinctly:\r\n\r\n```java\r\n\t\tvar model = new ModelBuilder().add(&quot;http://example.org/foo&quot;, RDFS.ISDEFINEDBY, &quot;http://example.org/FOO&quot;).build();\r\n\r\n\t\tRio.write(model, System.out, &quot;http://example.org/&quot;, RDFFormat.RDFXML);\r\n```\r\n\r\n\r\nIf you don&#39;t like having to write the full URI every time when creating your model, that&#39;s where namespaces can come in handy, for example:\r\n\r\n```java\r\n\t\tvar model = new ModelBuilder().setNamespace(&quot;ex&quot;, &quot;http://example.org/&quot;)\r\n                .add(&quot;ex:foo&quot;, RDFS.ISDEFINEDBY, &quot;ex:FOO&quot;).build();\r\n```\r\n","title":"org.eclipse.rdf4j.rio.RDFWriter, how to set base namespace when writing document","body":"<p>A namespace is not the same thing as a base URI, and there is no such thing as a &quot;base namespace&quot;. Namespaces are an abbreviation mechanism for URIs where you define a prefix that replaces the first part of a full URI with a short string, so that in your RDF data you can represent the URI with a &quot;prefixed name&quot; (depending on the specific RDF syntax what that looks like, exactly).</p>\n<p>Base URIs, on the other hand, are a generic parser/writer mechanism that allows resolving <em>relative URIs</em> in the data. Some syntax formats (like XML) allow defining the base URI in the document itself, others don't, but they serve a different purpose than namespaces.</p>\n<p>As an example, this XML snippet:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;rdf:RDF\nxmlns:base=&quot;http://example.org/&quot;&gt;\n  &lt;rdf:Description rdf:about=&quot;foo&quot;&gt;\n....\n</code></pre>\n<p>is legal RDF, despite the fact that the RDF/XML syntax spec requires that the value of the <code>rdf:about</code> attribute (the <em>subject</em>) is a full URI. The reason it's legal is that a base URI is defined against which the string <code>foo</code> can be resolved as a relative URI. The resolved full URI will be <code>http://example.org/foo</code>. Note that this has <em>nothing</em> to do with namespaces.</p>\n<p>What is happening in your code is that you are  not using base URIs at all. In the first part you are defining an RDF model in memory, using the <code>ModelBuilder</code>. You are adding the string <code>base:foo</code> as a subject URI. The <code>ModelBuilder</code> (actually, the <code>ValueFactory</code>, but it comes tot the same thing) interprets this as a full URI, because there is no namespace defined in the ModelBuilder that has <code>base</code> as its prefix.</p>\n<p>Writing that model to XML file does not change that, regardless of what you define as base URI or namespaces <em>while writing</em>: you are exporting an RDF model that has <code>base:foo</code> as a full URI, so that's what you'll get in your output.</p>\n<p>To get what you want, you need to make sure that your <code>Model</code> object has the full URIs, and that, instead of trying add a namespace to the writer, you set its base URI when <em>creating</em> the writer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        var model = new ModelBuilder().add(&quot;http://example.org/foo&quot;, RDFS.ISDEFINEDBY, &quot;http://example.org/FOO&quot;).build();\n        var writer = Rio.createWriter(RDFFormat.RDFXML, System.out, &quot;http://example.org/&quot;);\n\n        writer.startRDF();\n        for (Statement st : model) {\n            writer.handleStatement(st);\n        }\n        writer.endRDF();\n</code></pre>\n<p>...or more succinctly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        var model = new ModelBuilder().add(&quot;http://example.org/foo&quot;, RDFS.ISDEFINEDBY, &quot;http://example.org/FOO&quot;).build();\n\n        Rio.write(model, System.out, &quot;http://example.org/&quot;, RDFFormat.RDFXML);\n</code></pre>\n<p>If you don't like having to write the full URI every time when creating your model, that's where namespaces can come in handy, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        var model = new ModelBuilder().setNamespace(&quot;ex&quot;, &quot;http://example.org/&quot;)\n                .add(&quot;ex:foo&quot;, RDFS.ISDEFINEDBY, &quot;ex:FOO&quot;).build();\n</code></pre>\n"}],"owner":{"account_id":4153704,"reputation":549,"user_id":3405484,"display_name":"Abdelghani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77074568,"answer_count":1,"score":1,"last_activity_date":1694311243,"creation_date":1693312697,"question_id":77000281,"body_markdown":"I am using the rdf4j library to export xml files.\r\nI use org.eclipse.rdf4j.rio.RDFWriter to save it in a file and I need to define the base namespace. So I expect to have something like :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;rdf:RDF\r\n    xml:base=&quot;http://exmaple.org/&quot;&gt;\r\n    &lt;rdf:Description rdf:about=foo&gt;\r\n    &lt;rdf:type rdf:resource= FOO&gt;\r\n    ...\r\n\r\nI understood that I can set a namespace using handleNamespace(). But I cant figure out how to use it to set the base namespace : I tried :\r\n\r\n    ModelBuilder builder = new ModelBuilder();\r\n    ValueFactory vf = SimpleValueFactory.getInstance();\r\n    builder.add(vf.createIRI(&quot;base:foo&quot;), RDFS.ISDEFINEDBY, vf.createIRI(&quot;base:FOO&quot;);\r\n    Model model = builder.build();\r\n\tRDFWriter writer = Rio.createWriter(RDFFormat.RDFXML, someOutputStream);\r\n\ttry {\r\n\t  writer.startRDF();\r\n\t  writer.handleNamespace(&quot;base&quot;, &quot;http://exmaple.org/&quot;);\r\n          for (Statement st: model) {\r\n      writer.handleStatement(st);\r\n      }\r\n      writer.endRDF();\r\n    ...\r\n\r\nbut this does not give me what I expect :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;rdf:RDF\r\n    xmlns:base=&quot;http://exmaple.org/&quot;&gt;\r\n    &lt;rdf:Description rdf:about=base:foo&gt;\r\n    &lt;rdf:type rdf:resource= base:FOO&gt;\r\n\r\n\r\nAny ideas?\r\n","title":"org.eclipse.rdf4j.rio.RDFWriter, how to set base namespace when writing document","body":"<p>I am using the rdf4j library to export xml files.\nI use org.eclipse.rdf4j.rio.RDFWriter to save it in a file and I need to define the base namespace. So I expect to have something like :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;rdf:RDF\nxml:base=&quot;http://exmaple.org/&quot;&gt;\n&lt;rdf:Description rdf:about=foo&gt;\n&lt;rdf:type rdf:resource= FOO&gt;\n...\n</code></pre>\n<p>I understood that I can set a namespace using handleNamespace(). But I cant figure out how to use it to set the base namespace : I tried :</p>\n<pre><code>ModelBuilder builder = new ModelBuilder();\nValueFactory vf = SimpleValueFactory.getInstance();\nbuilder.add(vf.createIRI(&quot;base:foo&quot;), RDFS.ISDEFINEDBY, vf.createIRI(&quot;base:FOO&quot;);\nModel model = builder.build();\nRDFWriter writer = Rio.createWriter(RDFFormat.RDFXML, someOutputStream);\ntry {\n  writer.startRDF();\n  writer.handleNamespace(&quot;base&quot;, &quot;http://exmaple.org/&quot;);\n      for (Statement st: model) {\n  writer.handleStatement(st);\n  }\n  writer.endRDF();\n...\n</code></pre>\n<p>but this does not give me what I expect :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;rdf:RDF\nxmlns:base=&quot;http://exmaple.org/&quot;&gt;\n&lt;rdf:Description rdf:about=base:foo&gt;\n&lt;rdf:type rdf:resource= base:FOO&gt;\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","bouncycastle"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1692808983,"post_id":76962408,"comment_id":135675751,"body_markdown":"(1) 1.54 is almost a decade old; the latest release is 1.75 (2) you can generate a keypair using the standard JCA API `KeyPairGenerator.getInstance(algorithm,&quot;BC&quot;)` or the Bouncy &#39;lightweight&#39; API which varies depending on the algorithm which you didn&#39;t tell us (3) yes you can do this in Java code (or anything else that compiles to JVM code, e.g. Kotlin); show what you&#39;re trying to do and exactly how it doesn&#39;t work (compile error? runtime exception -- with stacktrace? wrong output -- what is it and what should it be?","body":"(1) 1.54 is almost a decade old; the latest release is 1.75 (2) you can generate a keypair using the standard JCA API <code>KeyPairGenerator.getInstance(algorithm,&quot;BC&quot;)</code> or the Bouncy &#39;lightweight&#39; API which varies depending on the algorithm which you didn&#39;t tell us (3) yes you can do this in Java code (or anything else that compiles to JVM code, e.g. Kotlin); show what you&#39;re trying to do and exactly how it doesn&#39;t work (compile error? runtime exception -- with stacktrace? wrong output -- what is it and what should it be?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1692809201,"post_id":76962408,"comment_id":135675790,"body_markdown":"I tries this https://stackoverflow.com/questions/76963370/convert-byte-to-string-readable-text but I can&#39;t get the signature. Can you show me how to get the same result using JVM default classes, please?","body":"I tries this <a href=\"https://stackoverflow.com/questions/76963370/convert-byte-to-string-readable-text\" title=\"convert byte to string readable text\">stackoverflow.com/questions/76963370/&hellip;</a> but I can&#39;t get the signature. Can you show me how to get the same result using JVM default classes, please?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1692846624,"post_id":76962408,"comment_id":135680408,"body_markdown":"That Q (#76963370) is about a _certificate_, and the signature on the certificate, not a keypair. It sounds like what you really want is to generate a certificate, possibly a self-signed certificate although you aren&#39;t clear. Your baeldung link uses the `openssl` program to generate key and self-signed cert, or more simply you can just use the `-genkeypair` option of `keytool` -- it actually generates both a keypair and a self-signed cert. But with the standard Java (JCA) classes you can only generate the keypair NOT a cert. Per your link you can do a cert with Bouncy bcprov PLUS bcpkix.","body":"That Q (#76963370) is about a <i>certificate</i>, and the signature on the certificate, not a keypair. It sounds like what you really want is to generate a certificate, possibly a self-signed certificate although you aren&#39;t clear. Your baeldung link uses the <code>openssl</code> program to generate key and self-signed cert, or more simply you can just use the <code>-genkeypair</code> option of <code>keytool</code> -- it actually generates both a keypair and a self-signed cert. But with the standard Java (JCA) classes you can only generate the keypair NOT a cert. Per your link you can do a cert with Bouncy bcprov PLUS bcpkix."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1692863258,"post_id":76962408,"comment_id":135682323,"body_markdown":"yes, you&#39;re right. I don&#39;t need a certificate. Only public and private certificate and signature of the private certificate.","body":"yes, you&#39;re right. I don&#39;t need a certificate. Only public and private certificate and signature of the private certificate."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1692935341,"post_id":76962408,"comment_id":135694975,"body_markdown":"You&#39;re still not making sense. There is no such thing as a private certificate, nor a signature of one. Moreover you can&#39;t both need and not need something.","body":"You&#39;re still not making sense. There is no such thing as a private certificate, nor a signature of one. Moreover you can&#39;t both need and not need something."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1693808368,"post_id":76962408,"comment_id":135804144,"body_markdown":"Duplicate to https://stackoverflow.com/questions/76983695/get-private-and-public-keys-as-a-string-and-store-then-into-postgresql-db","body":"Duplicate to <a href=\"https://stackoverflow.com/questions/76983695/get-private-and-public-keys-as-a-string-and-store-then-into-postgresql-db\" title=\"get private and public keys as a string and store then into postgresql db\">stackoverflow.com/questions/76983695/&hellip;</a>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1694305128,"post_id":76962408,"comment_id":135873919,"body_markdown":"Peter, please take some more time to formulate a clear question. Learn the basic difference between the terms &quot;key&quot; and &quot;certificate&quot; and decide what you want. Please do not just mix the terms and confuse everyone, including yourself. Otherwise, nobody can answer your question. It would also help to avoid the [XY problem](https://meta.stackexchange.com/a/66378/309898) by explaining **which** basic problem you want to solve, not to focus on **how** you think you should solve it.","body":"Peter, please take some more time to formulate a clear question. Learn the basic difference between the terms &quot;key&quot; and &quot;certificate&quot; and decide what you want. Please do not just mix the terms and confuse everyone, including yourself. Otherwise, nobody can answer your question. It would also help to avoid the <a href=\"https://meta.stackexchange.com/a/66378/309898\">XY problem</a> by explaining <b>which</b> basic problem you want to solve, not to focus on <b>how</b> you think you should solve it."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694310336,"creation_date":1694306814,"answer_id":77074468,"question_id":76962408,"body_markdown":"Your code is quite chaotic with regard to naming. You cannot magically turn a key into a certificate just by naming it so. You create a key pair and fetch the public key, always calling it a certificate. An apple is not an orange, even if you call it one.\r\n\r\nAnyway, you did not post your full stack trace. If you had, it would have been apparent why your program throws this exception:\r\n\r\n```none\r\njava.security.cert.CertificateException: Could not parse certificate: java.io.IOException: Empty input\r\n\tat sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:114)\r\n\tat java.security.cert.CertificateFactory.generateCertificate(CertificateFactory.java:339)\r\n\tat CertificateGenerateTestApiTest.getKeyPayload(CertificateGenerateTestApiTest.java:98)\r\n\tat CertificateGenerateTestApiTest.verifyCertificate(CertificateGenerateTestApiTest.java:61)\r\n\tat CertificateGenerateTestApiTest.main(CertificateGenerateTestApiTest.java:45)\r\nCaused by: java.io.IOException: Empty input\r\n\tat sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:110)\r\n\t... 4 more\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat CertificateGenerateTestApiTest.verifyCertificate(CertificateGenerateTestApiTest.java:65)\r\n\tat CertificateGenerateTestApiTest.main(CertificateGenerateTestApiTest.java:45)\r\n```\r\n\r\nMy line numbers are a bit different after pasting your code into my IDE and adjusting a few things to make it run without JUnit, but the basic information stays the same:\r\n\r\nYou never initialise the `data` field in your class, but are trying to call `data.getBytes(&quot;UTF8&quot;)`. That cannot work.\r\n\r\nThere are many other problems in your code, but this one answers your question why this error message occurs.","title":"Generate public and private key and get private key signature","body":"<p>Your code is quite chaotic with regard to naming. You cannot magically turn a key into a certificate just by naming it so. You create a key pair and fetch the public key, always calling it a certificate. An apple is not an orange, even if you call it one.</p>\n<p>Anyway, you did not post your full stack trace. If you had, it would have been apparent why your program throws this exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.security.cert.CertificateException: Could not parse certificate: java.io.IOException: Empty input\n    at sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:114)\n    at java.security.cert.CertificateFactory.generateCertificate(CertificateFactory.java:339)\n    at CertificateGenerateTestApiTest.getKeyPayload(CertificateGenerateTestApiTest.java:98)\n    at CertificateGenerateTestApiTest.verifyCertificate(CertificateGenerateTestApiTest.java:61)\n    at CertificateGenerateTestApiTest.main(CertificateGenerateTestApiTest.java:45)\nCaused by: java.io.IOException: Empty input\n    at sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:110)\n    ... 4 more\nException in thread &quot;main&quot; java.lang.NullPointerException\n    at CertificateGenerateTestApiTest.verifyCertificate(CertificateGenerateTestApiTest.java:65)\n    at CertificateGenerateTestApiTest.main(CertificateGenerateTestApiTest.java:45)\n</code></pre>\n<p>My line numbers are a bit different after pasting your code into my IDE and adjusting a few things to make it run without JUnit, but the basic information stays the same:</p>\n<p>You never initialise the <code>data</code> field in your class, but are trying to call <code>data.getBytes(&quot;UTF8&quot;)</code>. That cannot work.</p>\n<p>There are many other problems in your code, but this one answers your question why this error message occurs.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"answer_count":1,"score":-3,"last_activity_date":1694310336,"creation_date":1692801196,"question_id":76962408,"body_markdown":"I want to use `org.bouncycastle:bcprov-jdk15on:1.54` in order to generate a public and private key with Bouncy castle.\r\n\r\nI tried to follow this tutorial: https://www.baeldung.com/java-bouncy-castle but several things are not clear.\r\n\r\nHow I can generate a public and private key without using CLI. Can I do this using only Java code and after that get the signature? I don&#39;t need to have a `.cer` or `.csr` files. I need ot no this in memory. \r\n\r\nEDIT: I tried this code:\r\n\r\n    import io.jsonwebtoken.lang.Assert;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import javax.xml.bind.DatatypeConverter;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.KeyPair;\r\n    import java.security.KeyPairGenerator;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.NoSuchProviderException;\r\n    import java.security.PublicKey;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.security.Signature;\r\n    import java.security.SignatureException;\r\n    import java.security.cert.Certificate;\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.CertificateFactory;\r\n    import java.util.Base64;\r\n    \r\n    public class CertificateGenerateTestApiTest {\r\n    \r\n        String data; // complete certificate and metadata. We need to get of when we generate a certificate\r\n        String signature; // signature of the certificate\r\n    \r\n        @Test\r\n        public void certificateGenerationTest()\r\n        {\r\n            // Generate private and public keys\r\n            KeyPair keyPair = generateCertificate();\r\n    \r\n            PublicKey publicCertificate = keyPair.getPublic();\r\n    \r\n            // Problem 1 - think how to populate &quot;data&quot; variable from public certificate\r\n            // Problem 2 - think how to populate &quot;signature&quot; variable from public certificate\r\n    \r\n            // Get public key as byte[] in order later on to be stored into DB\r\n            byte[] originalPublicCertificate = privateCertificateToByte(publicCertificate);\r\n    \r\n            // Let&#39;s say we received some certificate by some web client, and we want to verify it against our original certificate\r\n            byte[] secondPublicCertificateReceivedByClient = cloneByteArrayData(originalPublicCertificate);\r\n    \r\n            // Verify certificate\r\n            Assert.isTrue(verifyCertificate(secondPublicCertificateReceivedByClient));\r\n        }\r\n    \r\n        private KeyPair generateCertificate()\r\n        {\r\n            try {\r\n                Security.addProvider(new BouncyCastleProvider());\r\n                KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;, &quot;BC&quot;);\r\n                keyPairGenerator.initialize(2048, new SecureRandom());\r\n    \r\n                KeyPair keyPair = keyPairGenerator.generateKeyPair();\r\n    \r\n                return keyPair;\r\n            } catch (NoSuchAlgorithmException | NoSuchProviderException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        private boolean verifyCertificate(byte[] secondPublicCertificateReceivedByClient)\r\n        {\r\n            PublicKey publicKey = getKeyPayload(byteToString(secondPublicCertificateReceivedByClient));\r\n            boolean verified = false;\r\n    \r\n            try {\r\n                verified = verifySignature(data.getBytes(&quot;UTF8&quot;), publicKey,\r\n                        DatatypeConverter.parseHexBinary(signature));\r\n            } catch (SignatureException | UnsupportedEncodingException e) {\r\n    \r\n            } catch (NoSuchAlgorithmException | InvalidKeyException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return verified;\r\n        }\r\n    \r\n        private boolean verifySignature(byte[] data, PublicKey key, byte[] signature)\r\n                throws NoSuchAlgorithmException, InvalidKeyException, SignatureException {\r\n            Signature signer = Signature.getInstance(&quot;SHA1withDSA&quot;);\r\n            signer.initVerify(key);\r\n            signer.update(data);\r\n            try {\r\n                if (signer.verify(signature)) {\r\n                    return true;\r\n                }\r\n            } catch (SignatureException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        private PublicKey getKeyPayload(String certificateString) {\r\n            try {\r\n                CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n                ByteArrayInputStream bis =\r\n                        new ByteArrayInputStream(certificateString.getBytes(StandardCharsets.UTF_8));\r\n    \r\n                Certificate certificate = null;\r\n                while (bis.available() &gt; 0) {\r\n                    certificate = cf.generateCertificate(bis);\r\n                }\r\n    \r\n                return (certificate == null) ? null : certificate.getPublicKey();\r\n            } catch (CertificateException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        private String byteToString(byte[] publicKeyBytes)\r\n        {\r\n            return Base64.getEncoder().encodeToString(publicKeyBytes);\r\n        }\r\n    \r\n        private byte[] privateCertificateToByte(PublicKey publicCertificate)\r\n        {\r\n            return publicCertificate.getEncoded();\r\n        }\r\n    \r\n        /**\r\n         * Clone byte[] data\r\n         */\r\n        private byte[] cloneByteArrayData(byte[] sourceArray)\r\n        {\r\n            int sourceOffset = 0; /* Starting index in the source array */;\r\n            int destinationOffset = 0; // Starting index in the destination array\r\n            byte[] destinationArray = new byte[sourceArray.length];\r\n    \r\n            for (int i = 0; i &lt; sourceArray.length; i++) {\r\n                destinationArray[destinationOffset + i] = sourceArray[sourceOffset + i];\r\n            }\r\n    \r\n            return destinationArray;\r\n        }\r\n    }\r\n\r\n\r\nI get:\r\n\r\n    java.security.cert.CertificateException: Could not parse certificate: java.io.IOException: Empty input\r\n\r\n","title":"Generate public and private key and get private key signature","body":"<p>I want to use <code>org.bouncycastle:bcprov-jdk15on:1.54</code> in order to generate a public and private key with Bouncy castle.</p>\n<p>I tried to follow this tutorial: <a href=\"https://www.baeldung.com/java-bouncy-castle\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-bouncy-castle</a> but several things are not clear.</p>\n<p>How I can generate a public and private key without using CLI. Can I do this using only Java code and after that get the signature? I don't need to have a <code>.cer</code> or <code>.csr</code> files. I need ot no this in memory.</p>\n<p>EDIT: I tried this code:</p>\n<pre><code>import io.jsonwebtoken.lang.Assert;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.junit.jupiter.api.Test;\n\nimport javax.xml.bind.DatatypeConverter;\nimport java.io.ByteArrayInputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.nio.charset.StandardCharsets;\nimport java.security.InvalidKeyException;\nimport java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.NoSuchProviderException;\nimport java.security.PublicKey;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.security.Signature;\nimport java.security.SignatureException;\nimport java.security.cert.Certificate;\nimport java.security.cert.CertificateException;\nimport java.security.cert.CertificateFactory;\nimport java.util.Base64;\n\npublic class CertificateGenerateTestApiTest {\n\n    String data; // complete certificate and metadata. We need to get of when we generate a certificate\n    String signature; // signature of the certificate\n\n    @Test\n    public void certificateGenerationTest()\n    {\n        // Generate private and public keys\n        KeyPair keyPair = generateCertificate();\n\n        PublicKey publicCertificate = keyPair.getPublic();\n\n        // Problem 1 - think how to populate &quot;data&quot; variable from public certificate\n        // Problem 2 - think how to populate &quot;signature&quot; variable from public certificate\n\n        // Get public key as byte[] in order later on to be stored into DB\n        byte[] originalPublicCertificate = privateCertificateToByte(publicCertificate);\n\n        // Let's say we received some certificate by some web client, and we want to verify it against our original certificate\n        byte[] secondPublicCertificateReceivedByClient = cloneByteArrayData(originalPublicCertificate);\n\n        // Verify certificate\n        Assert.isTrue(verifyCertificate(secondPublicCertificateReceivedByClient));\n    }\n\n    private KeyPair generateCertificate()\n    {\n        try {\n            Security.addProvider(new BouncyCastleProvider());\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;, &quot;BC&quot;);\n            keyPairGenerator.initialize(2048, new SecureRandom());\n\n            KeyPair keyPair = keyPairGenerator.generateKeyPair();\n\n            return keyPair;\n        } catch (NoSuchAlgorithmException | NoSuchProviderException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    private boolean verifyCertificate(byte[] secondPublicCertificateReceivedByClient)\n    {\n        PublicKey publicKey = getKeyPayload(byteToString(secondPublicCertificateReceivedByClient));\n        boolean verified = false;\n\n        try {\n            verified = verifySignature(data.getBytes(&quot;UTF8&quot;), publicKey,\n                    DatatypeConverter.parseHexBinary(signature));\n        } catch (SignatureException | UnsupportedEncodingException e) {\n\n        } catch (NoSuchAlgorithmException | InvalidKeyException e) {\n            e.printStackTrace();\n        }\n        return verified;\n    }\n\n    private boolean verifySignature(byte[] data, PublicKey key, byte[] signature)\n            throws NoSuchAlgorithmException, InvalidKeyException, SignatureException {\n        Signature signer = Signature.getInstance(&quot;SHA1withDSA&quot;);\n        signer.initVerify(key);\n        signer.update(data);\n        try {\n            if (signer.verify(signature)) {\n                return true;\n            }\n        } catch (SignatureException e) {\n            e.printStackTrace();\n        }\n        return false;\n    }\n\n    private PublicKey getKeyPayload(String certificateString) {\n        try {\n            CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n            ByteArrayInputStream bis =\n                    new ByteArrayInputStream(certificateString.getBytes(StandardCharsets.UTF_8));\n\n            Certificate certificate = null;\n            while (bis.available() &gt; 0) {\n                certificate = cf.generateCertificate(bis);\n            }\n\n            return (certificate == null) ? null : certificate.getPublicKey();\n        } catch (CertificateException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    private String byteToString(byte[] publicKeyBytes)\n    {\n        return Base64.getEncoder().encodeToString(publicKeyBytes);\n    }\n\n    private byte[] privateCertificateToByte(PublicKey publicCertificate)\n    {\n        return publicCertificate.getEncoded();\n    }\n\n    /**\n     * Clone byte[] data\n     */\n    private byte[] cloneByteArrayData(byte[] sourceArray)\n    {\n        int sourceOffset = 0; /* Starting index in the source array */;\n        int destinationOffset = 0; // Starting index in the destination array\n        byte[] destinationArray = new byte[sourceArray.length];\n\n        for (int i = 0; i &lt; sourceArray.length; i++) {\n            destinationArray[destinationOffset + i] = sourceArray[sourceOffset + i];\n        }\n\n        return destinationArray;\n    }\n}\n</code></pre>\n<p>I get:</p>\n<pre><code>java.security.cert.CertificateException: Could not parse certificate: java.io.IOException: Empty input\n</code></pre>\n"},{"tags":["java","windows-8","console"],"comments":[{"owner":{"account_id":4399373,"reputation":377,"user_id":3589392,"accept_rate":90,"display_name":"man-qa"},"score":0,"creation_date":1400072962,"post_id":23655606,"comment_id":36333261,"body_markdown":"If you are showing the console as an admin it might be because you need to enter the username and password","body":"If you are showing the console as an admin it might be because you need to enter the username and password"},{"owner":{"account_id":1980457,"reputation":680,"user_id":1985423,"accept_rate":70,"display_name":"Stefan Bollmann"},"score":0,"creation_date":1400073448,"post_id":23655606,"comment_id":36333634,"body_markdown":"@man-qa: For understanding: I started the javacpl.exe from a command prompt that I started as admin. There I had to use the admin username&amp;password. The Java app itself user. I tried also to start the app as admin.","body":"@man-qa: For understanding: I started the javacpl.exe from a command prompt that I started as admin. There I had to use the admin username&amp;password. The Java app itself user. I tried also to start the app as admin."},{"owner":{"account_id":145466,"reputation":4321,"user_id":355294,"accept_rate":93,"display_name":"TheBlastOne"},"score":0,"creation_date":1446016547,"post_id":23655606,"comment_id":54562722,"body_markdown":"No solution so far? I currently can reproduce this under fully patched Windows 7 with current Java 8, too.","body":"No solution so far? I currently can reproduce this under fully patched Windows 7 with current Java 8, too."}],"answers":[{"tags":[],"owner":{"display_name":"user2395486"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1400175886,"creation_date":1400175886,"answer_id":23685233,"question_id":23655606,"body_markdown":"Bring up the Windows Charms bar through Windows key + W. Search for &quot;Java Control Panel&quot; and open that up. Go into the &quot;Advanced&quot; tab and the second category down should be &quot;Java Console&quot; - make sure that the &quot;Show Console&quot; option is selected.","title":"java console window not appearing","body":"<p>Bring up the Windows Charms bar through Windows key + W. Search for \"Java Control Panel\" and open that up. Go into the \"Advanced\" tab and the second category down should be \"Java Console\" - make sure that the \"Show Console\" option is selected.</p>\n"},{"tags":[],"owner":{"account_id":35683,"reputation":7004,"user_id":101151,"accept_rate":43,"display_name":"jla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449870344,"creation_date":1449870344,"answer_id":34233061,"question_id":23655606,"body_markdown":"The Java Console is available for applets running with Java Plug-in and applications running with Java Web Start.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/deploy/console_trace_log.html\r\n\r\nIf you are running your command from a command interpreter, it will become your console for input and output unless otherwise redirected. If you are using javaw you will have no console.\r\n\r\n","title":"java console window not appearing","body":"<p>The Java Console is available for applets running with Java Plug-in and applications running with Java Web Start.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/console_trace_log.html\" rel=\"nofollow\">https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/console_trace_log.html</a></p>\n\n<p>If you are running your command from a command interpreter, it will become your console for input and output unless otherwise redirected. If you are using javaw you will have no console.</p>\n"}],"owner":{"account_id":1980457,"reputation":680,"user_id":1985423,"accept_rate":70,"display_name":"Stefan Bollmann"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15706,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694307625,"creation_date":1400072656,"question_id":23655606,"body_markdown":"When starting a Java program e.g.\r\n\r\n      Java -cp path/to/ main.class\r\n\r\nmy application starts, but I don&#39;t get a console in Win 8.1. I have [set the Java console Switch to show console][1] as Admin. But the console still doesn&#39;t show up.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20398289/java-control-panel-on-windows-8-1","title":"java console window not appearing","body":"<p>When starting a Java program e.g.</p>\n\n<pre><code>  Java -cp path/to/ main.class\n</code></pre>\n\n<p>my application starts, but I don't get a console in Win 8.1. I have <a href=\"https://stackoverflow.com/questions/20398289/java-control-panel-on-windows-8-1\">set the Java console Switch to show console</a> as Admin. But the console still doesn't show up.</p>\n"},{"tags":["java","eclipse","web-services","service"],"answers":[{"tags":[],"owner":{"account_id":433296,"reputation":7639,"user_id":818557,"accept_rate":80,"display_name":"Anuj Balan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313584901,"creation_date":1313584901,"answer_id":7092972,"question_id":7092772,"body_markdown":"You mean to say that the exposed methods have changed(Its parameters and their data types) ? \r\nIf yes, the wsdl can be re generated using the codegen JAVA2WSDL(plugin in eclipse).\r\n","title":"How do you update the wsdl in a Eclipse Web Service Client project?","body":"<p>You mean to say that the exposed methods have changed(Its parameters and their data types) ? \nIf yes, the wsdl can be re generated using the codegen JAVA2WSDL(plugin in eclipse).</p>\n"}],"owner":{"account_id":469838,"reputation":6333,"user_id":876686,"accept_rate":82,"display_name":"tier1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694307625,"creation_date":1313584114,"question_id":7092772,"body_markdown":"I have an Eclipse web service client with a WCF service that I am calling functions from.  The WCF service has changed and I need to update the wsdl in my eclipse project without losing all of my code.  I haven&#39;t been able to find anything on google, mostly just tutorials on how to create client programs.  Does anybody know how to refresh/update that wsdl in eclipse? ","title":"How do you update the wsdl in a Eclipse Web Service Client project?","body":"<p>I have an Eclipse web service client with a WCF service that I am calling functions from.  The WCF service has changed and I need to update the wsdl in my eclipse project without losing all of my code.  I haven't been able to find anything on google, mostly just tutorials on how to create client programs.  Does anybody know how to refresh/update that wsdl in eclipse? </p>\n"},{"tags":["java","algorithm","data-mining","cluster-analysis","k-means"],"comments":[{"owner":{"account_id":2396367,"reputation":12997,"user_id":2095090,"accept_rate":83,"display_name":"Vincent van der Weele"},"score":0,"creation_date":1389695747,"post_id":21111070,"comment_id":31762149,"body_markdown":"When calculating `sum1` and `sum2`, you should loop until `k` and `j`, respectively (instead of 9). The value of the rest of those arrays (`cluster1` and `cluster2`) is undefined.","body":"When calculating <code>sum1</code> and <code>sum2</code>, you should loop until <code>k</code> and <code>j</code>, respectively (instead of 9). The value of the rest of those arrays (<code>cluster1</code> and <code>cluster2</code>) is undefined."}],"answers":[{"tags":[],"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389696106,"creation_date":1389695749,"answer_id":21111362,"question_id":21111070,"body_markdown":"The only possible infinite loop is the do-while.\r\n\r\n    if(m1==a &amp;&amp; m2==b)\r\n        flag=false;\r\n    else\r\n        flag=true;\r\n\r\nYou only exit the loop if `flag` is true. Breakpoint the if statement here and have a look to see why it is never getting set to false. Maybe add some debug print statements as well.\r\n","title":"Implementation of k-means clustering algorithm","body":"<p>The only possible infinite loop is the do-while.</p>\n\n<pre><code>if(m1==a &amp;&amp; m2==b)\n    flag=false;\nelse\n    flag=true;\n</code></pre>\n\n<p>You only exit the loop if <code>flag</code> is true. Breakpoint the if statement here and have a look to see why it is never getting set to false. Maybe add some debug print statements as well.</p>\n"},{"tags":[],"owner":{"account_id":2396367,"reputation":12997,"user_id":2095090,"accept_rate":83,"display_name":"Vincent van der Weele"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1389705442,"creation_date":1389697246,"answer_id":21111871,"question_id":21111070,"body_markdown":"You have a bunch of errors:\r\n\r\n 1. At the start of your `do` loop you should reset `sum1` and `sum2` to 0.\r\n\r\n 2. You should loop until `k` and `j` respectively when calculating `sum1` and `sum2` (or clear `cluster1` and `cluster2` at the start of your `do` loop.\r\n\r\n 3. In the calculation of `sum2` you accidentally use `sum1`.\r\n\r\nWhen I make those fixes the code runs fine, yielding the output:\r\n\r\n    Final cluster 1 :   \r\n    2   4   10   12  3   11  0   0   0\r\n    \r\n    Final cluster 2 :\r\n    20  30  25   0   0   0   0   0   0\r\n\r\n\r\nMy general advise: learn how to use a debugger. Stackoverflow is not meant for questions like this: it is expected that you can find your own bugs and only come here when everything else fails... ","title":"Implementation of k-means clustering algorithm","body":"<p>You have a bunch of errors:</p>\n\n<ol>\n<li><p>At the start of your <code>do</code> loop you should reset <code>sum1</code> and <code>sum2</code> to 0.</p></li>\n<li><p>You should loop until <code>k</code> and <code>j</code> respectively when calculating <code>sum1</code> and <code>sum2</code> (or clear <code>cluster1</code> and <code>cluster2</code> at the start of your <code>do</code> loop.</p></li>\n<li><p>In the calculation of <code>sum2</code> you accidentally use <code>sum1</code>.</p></li>\n</ol>\n\n<p>When I make those fixes the code runs fine, yielding the output:</p>\n\n<pre><code>Final cluster 1 :   \n2   4   10   12  3   11  0   0   0\n\nFinal cluster 2 :\n20  30  25   0   0   0   0   0   0\n</code></pre>\n\n<p>My general advise: learn how to use a debugger. Stackoverflow is not meant for questions like this: it is expected that you can find your own bugs and only come here when everything else fails... </p>\n"},{"tags":[],"owner":{"account_id":3911816,"reputation":999,"user_id":3236903,"accept_rate":58,"display_name":"Manindar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478599574,"creation_date":1478599574,"answer_id":40484050,"question_id":21111070,"body_markdown":"    public class KMeansClustering {\r\n\r\n    public static void main(String args[]) {\r\n        int arr[] = {2, 4, 10, 12, 3, 20, 30, 11, 25};    // initial data\r\n        int i, m1, m2, a, b, n = 0;\r\n        boolean flag;\r\n        float sum1, sum2;\r\n        a = arr[0];\r\n        b = arr[1];\r\n        m1 = a;\r\n        m2 = b;\r\n        int cluster1[] = new int[arr.length], cluster2[] = new int[arr.length];\r\n        do {\r\n            sum1 = 0;\r\n            sum2 = 0;\r\n            cluster1 = new int[arr.length];\r\n            cluster2 = new int[arr.length];\r\n            n++;\r\n            int k = 0, j = 0;\r\n            for (i = 0; i &lt; arr.length; i++) {\r\n                if (Math.abs(arr[i] - m1) &lt;= Math.abs(arr[i] - m2)) {\r\n                    cluster1[k] = arr[i];\r\n                    k++;\r\n                } else {\r\n                    cluster2[j] = arr[i];\r\n                    j++;\r\n                }\r\n            }\r\n            System.out.println();\r\n            for (i = 0; i &lt; k; i++) {\r\n                sum1 = sum1 + cluster1[i];\r\n            }\r\n            for (i = 0; i &lt; j; i++) {\r\n                sum2 = sum2 + cluster2[i];\r\n            }\r\n            //printing Centroids/Means\\\r\n            System.out.println(&quot;m1=&quot; + m1 + &quot;   m2=&quot; + m2);\r\n            a = m1;\r\n            b = m2;\r\n            m1 = Math.round(sum1 / k);\r\n            m2 = Math.round(sum2 / j);\r\n            flag = !(m1 == a &amp;&amp; m2 == b);\r\n\r\n            System.out.println(&quot;After iteration &quot; + n + &quot; , cluster 1 :\\n&quot;);    //printing the clusters of each iteration\r\n            for (i = 0; i &lt; cluster1.length; i++) {\r\n                System.out.print(cluster1[i] + &quot;\\t&quot;);\r\n            }\r\n\r\n            System.out.println(&quot;\\n&quot;);\r\n            System.out.println(&quot;After iteration &quot; + n + &quot; , cluster 2 :\\n&quot;);\r\n            for (i = 0; i &lt; cluster2.length; i++) {\r\n                System.out.print(cluster2[i] + &quot;\\t&quot;);\r\n            }\r\n\r\n        } while (flag);\r\n\r\n        System.out.println(&quot;Final cluster 1 :\\n&quot;);            // final clusters\r\n        for (i = 0; i &lt; cluster1.length; i++) {\r\n            System.out.print(cluster1[i] + &quot;\\t&quot;);\r\n        }\r\n\r\n        System.out.println();\r\n        System.out.println(&quot;Final cluster 2 :\\n&quot;);\r\n        for (i = 0; i &lt; cluster2.length; i++) {\r\n            System.out.print(cluster2[i] + &quot;\\t&quot;);\r\n        }\r\n    }\r\n}\r\n\r\nThis is working code. ","title":"Implementation of k-means clustering algorithm","body":"<pre><code>public class KMeansClustering {\n\npublic static void main(String args[]) {\n    int arr[] = {2, 4, 10, 12, 3, 20, 30, 11, 25};    // initial data\n    int i, m1, m2, a, b, n = 0;\n    boolean flag;\n    float sum1, sum2;\n    a = arr[0];\n    b = arr[1];\n    m1 = a;\n    m2 = b;\n    int cluster1[] = new int[arr.length], cluster2[] = new int[arr.length];\n    do {\n        sum1 = 0;\n        sum2 = 0;\n        cluster1 = new int[arr.length];\n        cluster2 = new int[arr.length];\n        n++;\n        int k = 0, j = 0;\n        for (i = 0; i &lt; arr.length; i++) {\n            if (Math.abs(arr[i] - m1) &lt;= Math.abs(arr[i] - m2)) {\n                cluster1[k] = arr[i];\n                k++;\n            } else {\n                cluster2[j] = arr[i];\n                j++;\n            }\n        }\n        System.out.println();\n        for (i = 0; i &lt; k; i++) {\n            sum1 = sum1 + cluster1[i];\n        }\n        for (i = 0; i &lt; j; i++) {\n            sum2 = sum2 + cluster2[i];\n        }\n        //printing Centroids/Means\\\n        System.out.println(\"m1=\" + m1 + \"   m2=\" + m2);\n        a = m1;\n        b = m2;\n        m1 = Math.round(sum1 / k);\n        m2 = Math.round(sum2 / j);\n        flag = !(m1 == a &amp;&amp; m2 == b);\n\n        System.out.println(\"After iteration \" + n + \" , cluster 1 :\\n\");    //printing the clusters of each iteration\n        for (i = 0; i &lt; cluster1.length; i++) {\n            System.out.print(cluster1[i] + \"\\t\");\n        }\n\n        System.out.println(\"\\n\");\n        System.out.println(\"After iteration \" + n + \" , cluster 2 :\\n\");\n        for (i = 0; i &lt; cluster2.length; i++) {\n            System.out.print(cluster2[i] + \"\\t\");\n        }\n\n    } while (flag);\n\n    System.out.println(\"Final cluster 1 :\\n\");            // final clusters\n    for (i = 0; i &lt; cluster1.length; i++) {\n        System.out.print(cluster1[i] + \"\\t\");\n    }\n\n    System.out.println();\n    System.out.println(\"Final cluster 2 :\\n\");\n    for (i = 0; i &lt; cluster2.length; i++) {\n        System.out.print(cluster2[i] + \"\\t\");\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>This is working code. </p>\n"},{"tags":[],"owner":{"account_id":9934169,"reputation":1,"user_id":7353039,"display_name":"anoojkv varghese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501146046,"creation_date":1501144430,"answer_id":45345420,"question_id":21111070,"body_markdown":"    package k;\r\n    \r\n    /**\r\n     *\r\n     * @author Anooj.k.varghese\r\n     */\r\n    \r\n    import java.io.FileNotFoundException;\r\n    import java.io.File;\r\n    import java.util.Scanner;\r\n    public class K {\r\n       \r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        //GLOBAL VARIABLES\r\n        //data_set[][] -------------datast is stored in the data_set[][] array\r\n        //initial_centroid[][]------according to k&#39;th value we select initaly k centroid.stored in the initial_centroid[][] \r\n        //                          value is assigned in the  &#39;first_itration()&#39; function\r\n        private static double[][] arr;\r\n        static int num = 0;\r\n        static Double data_set[][]=new Double[20000][100];\r\n        static Double diff[][]=new Double[20000][100];\r\n        static Double intial_centroid[][]=new Double[300][400];\r\n        static Double center_mean[][]=new Double[20000][100];\r\n        static Double total_mean[]=new Double[200000];\r\n        static int cnum;\r\n        static int it=1;\r\n        static int checker=1;\r\n        static int row=4;//rows in Your DataSet here i use iris dataset \r\n         /////////////////////////////////reading the file/////////////////////////////////////\r\n         // discriptin readFile readthe txt file\r\n        private static void readFile() throws FileNotFoundException\r\n            {\r\n            Scanner scanner = new Scanner(new File(&quot;E:/aa.txt&quot;));//Dataset path\r\n            scanner.useDelimiter(System.getProperty(&quot;line.separator&quot;));\r\n            int lineNo = 0;\r\n                while (scanner.hasNext())\r\n                 {\r\n                    parseLine(scanner.next(),lineNo);\r\n                    lineNo++;\r\n                    System.out.println();\r\n                 }\r\n                 // System.out.println(&quot;total&quot;+num); PRINT THE TOTAL\r\n    \t scanner.close();\r\n            }\r\n        //read file is copey to the data_set\r\n        public static void parseLine(String line,int lineNo)\r\n          { \r\n            Scanner lineScanner = new Scanner(line);\r\n            lineScanner.useDelimiter(&quot;,&quot;);\r\n    \t      for(int col=0;col&lt;row;col++)\r\n                  {\r\n                      Double arry=lineScanner.nextDouble();\r\n                      data_set[num][col]=arry;                          ///here read  data set is assign the variable data_set\r\n                   }\r\n             num++;\r\n                   \r\n            }\r\n          public static void first_itration()\r\n        {   double a = 0;\r\n             System.out.println(&quot;ENTER CLUSTER NUMBER&quot;);\r\n             Scanner sc=new Scanner(System.in);      \r\n             cnum=sc.nextInt();   //enter the number of cenroid\r\n            \r\n             int result[]=new int[cnum];\r\n            double re=0;\r\n       \r\n             System.out.println(&quot;centroid&quot;);\r\n             for(int i=0;i&lt;cnum;i++)\r\n             {\r\n                for(int j=0;j&lt;row;j++)\r\n                    {\r\n                        intial_centroid[i][j]=data_set[i][j];                  //// CENTROID ARE STORED IN AN intial_centroid variable\r\n                        System.out.print(intial_centroid[i][j]);      \r\n                    }\r\n                System.out.println();\r\n             }\r\n           System.out.println(&quot;------------&quot;);\r\n          \r\n           int counter1=0;\r\n           for(int i=0;i&lt;num;i++)\r\n           {\r\n                for(int j=0;j&lt;row;j++)\r\n                    {\r\n                          //System.out.println(&quot;hii&quot;);\r\n                     System.out.print(data_set[i][j]);\r\n                         \r\n                     }\r\n           counter1++;\r\n           System.out.println();\r\n           }\r\n               System.out.println(&quot;total=&quot;+counter1);                             //print the total number of data\r\n               //----------------------------------\r\n               \r\n               ///////////////////EUCLIDEAN DISTANCE////////////////////////////////////\r\n                                                                                    /// find the Euclidean Distance\r\n            for(int i=0;i&lt;num;i++)\r\n            {\r\n                    for(int j=0;j&lt;cnum;j++)       \r\n                    {\r\n                        re=0;\r\n                         for(int k=0;k&lt;row;k++)\r\n                         {\r\n                                a= (intial_centroid[j][k]-data_set[i][k]);\r\n                                //System.out.println(a);\r\n                                 a=a*a;\r\n                                 re=re+a;                                                 // store the row sum\r\n                  \r\n                            }\r\n                 \r\n                             diff[i][j]= Math.sqrt(re);// find the squre root\r\n             \r\n            }\r\n            }\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n            \r\n    ///////////////////////////////////////////////FIND THE SMALLEST VALUE////////////////////////////////////////////////\r\n       double aaa;\r\n       double counter;\r\n         int ccc=1;\r\n       for(int i=0;i&lt;num;i++)\r\n       {\r\n             int c=1;\r\n             counter=c;\r\n             aaa=diff[i][0];\r\n             for(int j=0;j&lt;cnum;j++)\r\n             {\r\n              //System.out.println(diff[i][j]);\r\n            \r\n                if(aaa&gt;=diff[i][j] )                                                //change\r\n                    {\r\n                        aaa=diff[i][j];\r\n                        counter=j;\r\n                        \r\n                                \r\n                        // Jth value are stord in the counter variable \r\n                   //   System.out.println(counter);\r\n                   }\r\n                        \r\n                \r\n             }\r\n             \r\n                data_set[i][row]=counter;                                        //assign the counter to last position of data set\r\n         \r\n                //System.out.println(&quot;--&quot;);\r\n          }                                                                  //print the first itration\r\n                System.out.println(&quot;**FIRST ITRATION**&quot;);\r\n         \r\n          for(int i=0;i&lt;num;i++)\r\n                  {\r\n                      for(int j=0;j&lt;=row;j++)\r\n                          {\r\n                          //System.out.println(&quot;hii&quot;);\r\n                                  System.out.print(data_set[i][j]+ &quot; &quot;);\r\n                           }\r\n                      System.out.println();\r\n                  }\r\n         \r\n        it++;\r\n        }\r\n        \r\n        \r\n        public static void calck_mean()\r\n        { \r\n            for(int i=0;i&lt;20000;i++)\r\n            {\r\n                for(int j=0;j&lt;100;j++)\r\n                {\r\n                    center_mean[i][j]=0.0;\r\n                }\r\n            }\r\n            \r\n            \r\n      double c = 0; \r\n         int a=0;\r\n         int p;\r\n         int abbb = 0;\r\n            if(it%2==0)\r\n             {\r\n                 abbb=row;\r\n             }\r\n            else if(it%2==1)\r\n             {\r\n                 abbb=row+1;\r\n              }\r\n            for(int k=0;k&lt;cnum;k++)\r\n                {\r\n                        double counter = 0;    \r\n                        for(int i=0;i&lt;num;i++)\r\n                         {\r\n                            for(int j=0;j&lt;=row;j++)\r\n                            {               \r\n                                if(data_set[i][abbb]==a)\r\n                                {\r\n                                System.out.print(data_set[i][j]);\r\n                                center_mean[k][j] += data_set[i][j];\r\n                      \r\n                                }\r\n                         \r\n                              }\r\n                            System.out.println();\r\n                          if(data_set[i][abbb]==a)\r\n                            {\r\n                                counter++;\r\n                            }\r\n                      System.out.println();\r\n                  }\r\n              \r\n             a++;\r\n             total_mean[k]=counter;\r\n            \r\n             }\r\n             for(int i=0;i&lt;cnum;i++)\r\n                {\r\n                System.out.println(&quot;\\n&quot;);\r\n                for(int j=0;j&lt;row;j++)\r\n                {\r\n                  if(total_mean[i]==0)\r\n                  {\r\n                       center_mean[i][j]=0.0;\r\n                  }\r\n                  else\r\n                  {\r\n                    center_mean[i][j]=center_mean[i][j]/total_mean[i];\r\n                  }\r\n                  }\r\n            }\r\n            for(int k=0;k&lt;cnum;k++)\r\n            {\r\n                for(int j=0;j&lt;row;j++)\r\n                {\r\n                  //System.out.print(center_mean[k][j]);\r\n                }\r\n                System.out.println();\r\n                \r\n            }\r\n           /* for(int j=0;j&lt;cnum;j++)\r\n            {\r\n                System.out.println(total_mean[j]);\r\n            }*/\r\n           \r\n        }\r\n    public static void kmeans1()\r\n        {\r\n           double  a = 0;\r\n           int result[]=new int[cnum];\r\n           double re=0;\r\n            \r\n      //// CENTROID ARE STORED IN AN data_set VARIABLE intial_centroid \r\n             System.out.println(&quot; new centroid&quot;);\r\n                for(int i=0;i&lt;cnum;i++)\r\n                {\r\n                    for(int j=0;j&lt;row;j++)\r\n                    {\r\n                        intial_centroid[i][j]=center_mean[i][j];\r\n                        System.out.print(intial_centroid[i][j]);\r\n                    }\r\n                 System.out.println();\r\n                }\r\n        \r\n       //----------------------------------------------JUST PRINT THE data_set\r\n          \r\n               //----------------------------------\r\n            for(int i=0;i&lt;num;i++)\r\n            {\r\n                for(int j=0;j&lt;cnum;j++)\r\n                {\r\n                 re=0;\r\n                 for(int k=0;k&lt;row;k++)\r\n                 {\r\n                 \r\n                   a=(intial_centroid[j][k]-data_set[i][k]);\r\n                     //System.out.println(a);\r\n                    a=a*a;        \r\n                   re=re+a;\r\n                  \r\n                    }\r\n                 \r\n                 diff[i][j]= Math.sqrt(re);\r\n                 //System.out.println(diff[i][j]);\r\n                }\r\n            }\r\n       double aaa;\r\n        double counter;\r\n         for(int i=0;i&lt;num;i++)\r\n         {\r\n             \r\n             int c=1;\r\n             counter=c;\r\n              aaa=diff[i][0];\r\n             for(int j=0;j&lt;cnum;j++)\r\n             {\r\n                // System.out.println(diff[i][j]);\r\n                if(aaa&gt;=diff[i][j])                                                  //change\r\n                {\r\n                   aaa=diff[i][j];\r\n                    counter=j;\r\n                   //   System.out.println(counter);\r\n                }\r\n                        \r\n                \r\n             }\r\n             \r\n             \r\n             if(it%2==0)\r\n                {\r\n            // abbb=4;\r\n                    data_set[i][row+1]=counter;\r\n                }\r\n             else if(it%2==1)\r\n                {\r\n                    data_set[i][row]=counter;\r\n          //   abbb=4;\r\n                }\r\n             \r\n         \r\n            //System.out.println(&quot;--&quot;);\r\n         }\r\n         System.out.println(it+&quot; ITRATION**&quot;);\r\n         \r\n          for(int i=0;i&lt;num;i++)\r\n                  {\r\n                      for(int j=0;j&lt;=row+1;j++)\r\n                      {\r\n                          //System.out.println(&quot;hii&quot;);\r\n                          System.out.print(data_set[i][j]+&quot; &quot;);\r\n                      }\r\n                      System.out.println();\r\n                  }\r\n         \r\n        it++;\r\n        }\r\n    public static void check()\r\n    {\r\n        checker=0;\r\n        for(int i=0;i&lt;num;i++)\r\n        {\r\n             //System.out.println(&quot;hii&quot;);\r\n            if(Double.compare(data_set[i][row],data_set[i][row+1]) != 0)\r\n            {\r\n                checker=1;\r\n                //System.out.println(&quot;hii &quot; + i  + &quot; &quot; + data_set[i][4]+ &quot; &quot;+data_set[i][4]);\r\n                break;\r\n            }\r\n            System.out.println();\r\n        }\r\n        \r\n    }\r\n    public static void dispaly()\r\n    {\r\n     \r\n          System.out.println(it+&quot; ITRATION**&quot;);\r\n         \r\n          for(int i=0;i&lt;num;i++)\r\n                  {\r\n                      for(int j=0;j&lt;=row+1;j++)\r\n                      {\r\n                          //System.out.println(&quot;hii&quot;);\r\n                          System.out.print(data_set[i][j]+&quot; &quot;);\r\n                      }\r\n                      System.out.println();\r\n                  }\r\n    }\r\n        \r\n     \r\n     public static void print()\r\n        {\r\n            System.out.println();\r\n             System.out.println();\r\n              System.out.println();\r\n            System.out.println(&quot;----OUTPUT----&quot;);\r\n            int c=0;\r\n            int a=0;\r\n            for(int i=0;i&lt;cnum;i++)\r\n            {\r\n                System.out.println(&quot;---------CLUSTER-&quot;+i+&quot;-----&quot;);\r\n             a=0;\r\n                for(int j=0;j&lt;num;j++)\r\n                {\r\n                     if(data_set[j][row]==i)\r\n                     {a++;\r\n                    for(int k=0;k&lt;row;k++)\r\n                    {\r\n                    \r\n                        System.out.print(data_set[j][k]+&quot;  &quot;);\r\n                    }\r\n                    c++;\r\n                    System.out.println();\r\n                    }\r\n                     //System.out.println(num);\r\n                        \r\n                }\r\n                   System.out.println(&quot;CLUSTER INSTANCES=&quot;+a);\r\n          \r\n                \r\n            }\r\n            System.out.println(&quot;TOTAL INSTANCE&quot;+c);\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) throws FileNotFoundException \r\n        {\r\n        readFile();\r\n        first_itration();\r\n       \r\n        while(checker!=0)\r\n                {\r\n                calck_mean();\r\n                kmeans1();\r\n                check();\r\n                } \r\n      dispaly();\r\n      print();\r\n        }\r\n    \r\n      \r\n    \r\n       \r\n    }\r\n    \r\n    \r\n        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n              \r\n            \r\n       ","title":"Implementation of k-means clustering algorithm","body":"<pre><code>package k;\n\n/**\n *\n * @author Anooj.k.varghese\n */\n\nimport java.io.FileNotFoundException;\nimport java.io.File;\nimport java.util.Scanner;\npublic class K {\n\n\n    /**\n     * @param args the command line arguments\n     */\n    //GLOBAL VARIABLES\n    //data_set[][] -------------datast is stored in the data_set[][] array\n    //initial_centroid[][]------according to k'th value we select initaly k centroid.stored in the initial_centroid[][] \n    //                          value is assigned in the  'first_itration()' function\n    private static double[][] arr;\n    static int num = 0;\n    static Double data_set[][]=new Double[20000][100];\n    static Double diff[][]=new Double[20000][100];\n    static Double intial_centroid[][]=new Double[300][400];\n    static Double center_mean[][]=new Double[20000][100];\n    static Double total_mean[]=new Double[200000];\n    static int cnum;\n    static int it=1;\n    static int checker=1;\n    static int row=4;//rows in Your DataSet here i use iris dataset \n     /////////////////////////////////reading the file/////////////////////////////////////\n     // discriptin readFile readthe txt file\n    private static void readFile() throws FileNotFoundException\n        {\n        Scanner scanner = new Scanner(new File(\"E:/aa.txt\"));//Dataset path\n        scanner.useDelimiter(System.getProperty(\"line.separator\"));\n        int lineNo = 0;\n            while (scanner.hasNext())\n             {\n                parseLine(scanner.next(),lineNo);\n                lineNo++;\n                System.out.println();\n             }\n             // System.out.println(\"total\"+num); PRINT THE TOTAL\n     scanner.close();\n        }\n    //read file is copey to the data_set\n    public static void parseLine(String line,int lineNo)\n      { \n        Scanner lineScanner = new Scanner(line);\n        lineScanner.useDelimiter(\",\");\n          for(int col=0;col&lt;row;col++)\n              {\n                  Double arry=lineScanner.nextDouble();\n                  data_set[num][col]=arry;                          ///here read  data set is assign the variable data_set\n               }\n         num++;\n\n        }\n      public static void first_itration()\n    {   double a = 0;\n         System.out.println(\"ENTER CLUSTER NUMBER\");\n         Scanner sc=new Scanner(System.in);      \n         cnum=sc.nextInt();   //enter the number of cenroid\n\n         int result[]=new int[cnum];\n        double re=0;\n\n         System.out.println(\"centroid\");\n         for(int i=0;i&lt;cnum;i++)\n         {\n            for(int j=0;j&lt;row;j++)\n                {\n                    intial_centroid[i][j]=data_set[i][j];                  //// CENTROID ARE STORED IN AN intial_centroid variable\n                    System.out.print(intial_centroid[i][j]);      \n                }\n            System.out.println();\n         }\n       System.out.println(\"------------\");\n\n       int counter1=0;\n       for(int i=0;i&lt;num;i++)\n       {\n            for(int j=0;j&lt;row;j++)\n                {\n                      //System.out.println(\"hii\");\n                 System.out.print(data_set[i][j]);\n\n                 }\n       counter1++;\n       System.out.println();\n       }\n           System.out.println(\"total=\"+counter1);                             //print the total number of data\n           //----------------------------------\n\n           ///////////////////EUCLIDEAN DISTANCE////////////////////////////////////\n                                                                                /// find the Euclidean Distance\n        for(int i=0;i&lt;num;i++)\n        {\n                for(int j=0;j&lt;cnum;j++)       \n                {\n                    re=0;\n                     for(int k=0;k&lt;row;k++)\n                     {\n                            a= (intial_centroid[j][k]-data_set[i][k]);\n                            //System.out.println(a);\n                             a=a*a;\n                             re=re+a;                                                 // store the row sum\n\n                        }\n\n                         diff[i][j]= Math.sqrt(re);// find the squre root\n\n        }\n        }\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n///////////////////////////////////////////////FIND THE SMALLEST VALUE////////////////////////////////////////////////\n   double aaa;\n   double counter;\n     int ccc=1;\n   for(int i=0;i&lt;num;i++)\n   {\n         int c=1;\n         counter=c;\n         aaa=diff[i][0];\n         for(int j=0;j&lt;cnum;j++)\n         {\n          //System.out.println(diff[i][j]);\n\n            if(aaa&gt;=diff[i][j] )                                                //change\n                {\n                    aaa=diff[i][j];\n                    counter=j;\n\n\n                    // Jth value are stord in the counter variable \n               //   System.out.println(counter);\n               }\n\n\n         }\n\n            data_set[i][row]=counter;                                        //assign the counter to last position of data set\n\n            //System.out.println(\"--\");\n      }                                                                  //print the first itration\n            System.out.println(\"**FIRST ITRATION**\");\n\n      for(int i=0;i&lt;num;i++)\n              {\n                  for(int j=0;j&lt;=row;j++)\n                      {\n                      //System.out.println(\"hii\");\n                              System.out.print(data_set[i][j]+ \" \");\n                       }\n                  System.out.println();\n              }\n\n    it++;\n    }\n\n\n    public static void calck_mean()\n    { \n        for(int i=0;i&lt;20000;i++)\n        {\n            for(int j=0;j&lt;100;j++)\n            {\n                center_mean[i][j]=0.0;\n            }\n        }\n\n\n  double c = 0; \n     int a=0;\n     int p;\n     int abbb = 0;\n        if(it%2==0)\n         {\n             abbb=row;\n         }\n        else if(it%2==1)\n         {\n             abbb=row+1;\n          }\n        for(int k=0;k&lt;cnum;k++)\n            {\n                    double counter = 0;    \n                    for(int i=0;i&lt;num;i++)\n                     {\n                        for(int j=0;j&lt;=row;j++)\n                        {               \n                            if(data_set[i][abbb]==a)\n                            {\n                            System.out.print(data_set[i][j]);\n                            center_mean[k][j] += data_set[i][j];\n\n                            }\n\n                          }\n                        System.out.println();\n                      if(data_set[i][abbb]==a)\n                        {\n                            counter++;\n                        }\n                  System.out.println();\n              }\n\n         a++;\n         total_mean[k]=counter;\n\n         }\n         for(int i=0;i&lt;cnum;i++)\n            {\n            System.out.println(\"\\n\");\n            for(int j=0;j&lt;row;j++)\n            {\n              if(total_mean[i]==0)\n              {\n                   center_mean[i][j]=0.0;\n              }\n              else\n              {\n                center_mean[i][j]=center_mean[i][j]/total_mean[i];\n              }\n              }\n        }\n        for(int k=0;k&lt;cnum;k++)\n        {\n            for(int j=0;j&lt;row;j++)\n            {\n              //System.out.print(center_mean[k][j]);\n            }\n            System.out.println();\n\n        }\n       /* for(int j=0;j&lt;cnum;j++)\n        {\n            System.out.println(total_mean[j]);\n        }*/\n\n    }\npublic static void kmeans1()\n    {\n       double  a = 0;\n       int result[]=new int[cnum];\n       double re=0;\n\n  //// CENTROID ARE STORED IN AN data_set VARIABLE intial_centroid \n         System.out.println(\" new centroid\");\n            for(int i=0;i&lt;cnum;i++)\n            {\n                for(int j=0;j&lt;row;j++)\n                {\n                    intial_centroid[i][j]=center_mean[i][j];\n                    System.out.print(intial_centroid[i][j]);\n                }\n             System.out.println();\n            }\n\n   //----------------------------------------------JUST PRINT THE data_set\n\n           //----------------------------------\n        for(int i=0;i&lt;num;i++)\n        {\n            for(int j=0;j&lt;cnum;j++)\n            {\n             re=0;\n             for(int k=0;k&lt;row;k++)\n             {\n\n               a=(intial_centroid[j][k]-data_set[i][k]);\n                 //System.out.println(a);\n                a=a*a;        \n               re=re+a;\n\n                }\n\n             diff[i][j]= Math.sqrt(re);\n             //System.out.println(diff[i][j]);\n            }\n        }\n   double aaa;\n    double counter;\n     for(int i=0;i&lt;num;i++)\n     {\n\n         int c=1;\n         counter=c;\n          aaa=diff[i][0];\n         for(int j=0;j&lt;cnum;j++)\n         {\n            // System.out.println(diff[i][j]);\n            if(aaa&gt;=diff[i][j])                                                  //change\n            {\n               aaa=diff[i][j];\n                counter=j;\n               //   System.out.println(counter);\n            }\n\n\n         }\n\n\n         if(it%2==0)\n            {\n        // abbb=4;\n                data_set[i][row+1]=counter;\n            }\n         else if(it%2==1)\n            {\n                data_set[i][row]=counter;\n      //   abbb=4;\n            }\n\n\n        //System.out.println(\"--\");\n     }\n     System.out.println(it+\" ITRATION**\");\n\n      for(int i=0;i&lt;num;i++)\n              {\n                  for(int j=0;j&lt;=row+1;j++)\n                  {\n                      //System.out.println(\"hii\");\n                      System.out.print(data_set[i][j]+\" \");\n                  }\n                  System.out.println();\n              }\n\n    it++;\n    }\npublic static void check()\n{\n    checker=0;\n    for(int i=0;i&lt;num;i++)\n    {\n         //System.out.println(\"hii\");\n        if(Double.compare(data_set[i][row],data_set[i][row+1]) != 0)\n        {\n            checker=1;\n            //System.out.println(\"hii \" + i  + \" \" + data_set[i][4]+ \" \"+data_set[i][4]);\n            break;\n        }\n        System.out.println();\n    }\n\n}\npublic static void dispaly()\n{\n\n      System.out.println(it+\" ITRATION**\");\n\n      for(int i=0;i&lt;num;i++)\n              {\n                  for(int j=0;j&lt;=row+1;j++)\n                  {\n                      //System.out.println(\"hii\");\n                      System.out.print(data_set[i][j]+\" \");\n                  }\n                  System.out.println();\n              }\n}\n\n\n public static void print()\n    {\n        System.out.println();\n         System.out.println();\n          System.out.println();\n        System.out.println(\"----OUTPUT----\");\n        int c=0;\n        int a=0;\n        for(int i=0;i&lt;cnum;i++)\n        {\n            System.out.println(\"---------CLUSTER-\"+i+\"-----\");\n         a=0;\n            for(int j=0;j&lt;num;j++)\n            {\n                 if(data_set[j][row]==i)\n                 {a++;\n                for(int k=0;k&lt;row;k++)\n                {\n\n                    System.out.print(data_set[j][k]+\"  \");\n                }\n                c++;\n                System.out.println();\n                }\n                 //System.out.println(num);\n\n            }\n               System.out.println(\"CLUSTER INSTANCES=\"+a);\n\n\n        }\n        System.out.println(\"TOTAL INSTANCE\"+c);\n    }\n\n\n    public static void main(String[] args) throws FileNotFoundException \n    {\n    readFile();\n    first_itration();\n\n    while(checker!=0)\n            {\n            calck_mean();\n            kmeans1();\n            check();\n            } \n  dispaly();\n  print();\n    }\n\n\n\n\n}\n\n\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6125245,"reputation":1,"user_id":4777461,"display_name":"milan sonkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694306146,"creation_date":1694306146,"answer_id":77074451,"question_id":21111070,"body_markdown":"Take a look at SMILE library at https://haifengl.github.io/clustering.html\r\nIt has a lot of ready made opensource clustering algorithm implementation in Java","title":"Implementation of k-means clustering algorithm","body":"<p>Take a look at SMILE library at <a href=\"https://haifengl.github.io/clustering.html\" rel=\"nofollow noreferrer\">https://haifengl.github.io/clustering.html</a>\nIt has a lot of ready made opensource clustering algorithm implementation in Java</p>\n"}],"owner":{"account_id":2423885,"reputation":133,"user_id":2116256,"accept_rate":40,"display_name":"chinu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21111871,"answer_count":5,"score":1,"last_activity_date":1694306146,"creation_date":1389695022,"question_id":21111070,"body_markdown":"In my program, i&#39;m taking k=2 for k-mean algorithm i.e i want only 2 clusters.\r\nI have implemented in a very simple and straightforward way, still i&#39;m unable to understand why my program is getting into infinite loop.\r\ncan anyone please guide me where i&#39;m making a mistake..?\r\n\r\nfor simplicity, i hav taken the input in the program code itself.\r\nhere is my code :\r\n\r\n    import java.io.*;\r\n    import java.lang.*;\r\n    class Kmean\r\n    {\r\n    public static void main(String args[])\r\n    {\r\n    int N=9;\r\n    int arr[]={2,4,10,12,3,20,30,11,25};    // initial data\r\n    int i,m1,m2,a,b,n=0;\r\n    boolean flag=true;\r\n    float sum1=0,sum2=0;\r\n    a=arr[0];b=arr[1];\r\n    m1=a; m2=b;\r\n    int cluster1[]=new int[9],cluster2[]=new int[9];\r\n    for(i=0;i&lt;9;i++)\r\n    \tSystem.out.print(arr[i]+ &quot;\\t&quot;);\r\n    System.out.println();\r\n    \r\n    do\r\n    {\r\n     n++;\r\n     int k=0,j=0;\r\n     for(i=0;i&lt;9;i++)\r\n     {\r\n    \tif(Math.abs(arr[i]-m1)&lt;=Math.abs(arr[i]-m2))\r\n    \t{\tcluster1[k]=arr[i];\r\n    \t\tk++;\r\n    \t}\r\n    \telse\r\n    \t{\tcluster2[j]=arr[i];\r\n    \t\tj++;\r\n    \t}\r\n     }\r\n    \tSystem.out.println();\r\n    \tfor(i=0;i&lt;9;i++)\r\n     \t\tsum1=sum1+cluster1[i];\r\n    \tfor(i=0;i&lt;9;i++)\r\n     \t\tsum2=sum1+cluster2[i];\r\n    \ta=m1;\r\n    \tb=m2;\r\n    \tm1=Math.round(sum1/k);\r\n    \tm2=Math.round(sum2/j);\r\n    \tif(m1==a &amp;&amp; m2==b)\r\n    \t\tflag=false;\r\n    \telse\r\n    \t\tflag=true;\r\n    \r\n    \tSystem.out.println(&quot;After iteration &quot;+ n +&quot; , cluster 1 :\\n&quot;);    //printing the clusters of each iteration\r\n    \tfor(i=0;i&lt;9;i++)\r\n    \t\tSystem.out.print(cluster1[i]+ &quot;\\t&quot;);\r\n    \r\n    \tSystem.out.println(&quot;\\n&quot;);\r\n    \tSystem.out.println(&quot;After iteration &quot;+ n +&quot; , cluster 2 :\\n&quot;);\r\n    \tfor(i=0;i&lt;9;i++)\r\n    \t\tSystem.out.print(cluster2[i]+ &quot;\\t&quot;);\r\n    \t\r\n    }while(flag);\r\n    \r\n    \tSystem.out.println(&quot;Final cluster 1 :\\n&quot;);            // final clusters\r\n    \tfor(i=0;i&lt;9;i++)\r\n    \t\tSystem.out.print(cluster1[i]+ &quot;\\t&quot;);\r\n    \r\n    \tSystem.out.println();\r\n    \tSystem.out.println(&quot;Final cluster 2 :\\n&quot;);\r\n    \tfor(i=0;i&lt;9;i++)\r\n    \t\tSystem.out.print(cluster2[i]+ &quot;\\t&quot;);\r\n     }\r\n    }\r\n\r\n","title":"Implementation of k-means clustering algorithm","body":"<p>In my program, i'm taking k=2 for k-mean algorithm i.e i want only 2 clusters.\nI have implemented in a very simple and straightforward way, still i'm unable to understand why my program is getting into infinite loop.\ncan anyone please guide me where i'm making a mistake..?</p>\n\n<p>for simplicity, i hav taken the input in the program code itself.\nhere is my code :</p>\n\n<pre><code>import java.io.*;\nimport java.lang.*;\nclass Kmean\n{\npublic static void main(String args[])\n{\nint N=9;\nint arr[]={2,4,10,12,3,20,30,11,25};    // initial data\nint i,m1,m2,a,b,n=0;\nboolean flag=true;\nfloat sum1=0,sum2=0;\na=arr[0];b=arr[1];\nm1=a; m2=b;\nint cluster1[]=new int[9],cluster2[]=new int[9];\nfor(i=0;i&lt;9;i++)\n    System.out.print(arr[i]+ \"\\t\");\nSystem.out.println();\n\ndo\n{\n n++;\n int k=0,j=0;\n for(i=0;i&lt;9;i++)\n {\n    if(Math.abs(arr[i]-m1)&lt;=Math.abs(arr[i]-m2))\n    {   cluster1[k]=arr[i];\n        k++;\n    }\n    else\n    {   cluster2[j]=arr[i];\n        j++;\n    }\n }\n    System.out.println();\n    for(i=0;i&lt;9;i++)\n        sum1=sum1+cluster1[i];\n    for(i=0;i&lt;9;i++)\n        sum2=sum1+cluster2[i];\n    a=m1;\n    b=m2;\n    m1=Math.round(sum1/k);\n    m2=Math.round(sum2/j);\n    if(m1==a &amp;&amp; m2==b)\n        flag=false;\n    else\n        flag=true;\n\n    System.out.println(\"After iteration \"+ n +\" , cluster 1 :\\n\");    //printing the clusters of each iteration\n    for(i=0;i&lt;9;i++)\n        System.out.print(cluster1[i]+ \"\\t\");\n\n    System.out.println(\"\\n\");\n    System.out.println(\"After iteration \"+ n +\" , cluster 2 :\\n\");\n    for(i=0;i&lt;9;i++)\n        System.out.print(cluster2[i]+ \"\\t\");\n\n}while(flag);\n\n    System.out.println(\"Final cluster 1 :\\n\");            // final clusters\n    for(i=0;i&lt;9;i++)\n        System.out.print(cluster1[i]+ \"\\t\");\n\n    System.out.println();\n    System.out.println(\"Final cluster 2 :\\n\");\n    for(i=0;i&lt;9;i++)\n        System.out.print(cluster2[i]+ \"\\t\");\n }\n}\n</code></pre>\n"},{"tags":["java","completable-future","ebean","completion-stage"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1694277385,"post_id":77072817,"comment_id":135871570,"body_markdown":"This is going to depend on `internalAPI`, which you haven&#39;t shown us.","body":"This is going to depend on <code>internalAPI</code>, which you haven&#39;t shown us."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1694279344,"post_id":77072817,"comment_id":135871770,"body_markdown":"(It looks like `internalAPI` fundamentally expects a Function, to which the answer is &quot;this is impossible.&quot; You can probably chain it with other CompletionStages, but that&#39;ll require going outside whatever internalAPI does; there isn&#39;t a generic way to do this.","body":"(It looks like <code>internalAPI</code> fundamentally expects a Function, to which the answer is &quot;this is impossible.&quot; You can probably chain it with other CompletionStages, but that&#39;ll require going outside whatever internalAPI does; there isn&#39;t a generic way to do this."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1694287168,"post_id":77072817,"comment_id":135872525,"body_markdown":"What about just doing &quot;first step&quot; inside the function passed to `internalAPI`, then executing `secondStep` via e.g., `thenCompose`?","body":"What about just doing &quot;first step&quot; inside the function passed to <code>internalAPI</code>, then executing <code>secondStep</code> via e.g., <code>thenCompose</code>?"},{"owner":{"account_id":269513,"reputation":14298,"user_id":558892,"accept_rate":79,"display_name":"Deqing"},"score":0,"creation_date":1694305663,"post_id":77072817,"comment_id":135873946,"body_markdown":"@LouisWasserman I added implementation of the internalAPI","body":"@LouisWasserman I added implementation of the internalAPI"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1694429999,"post_id":77072817,"comment_id":135885379,"body_markdown":"As Slaw said, something like `foo1().thenCompose(x -&gt; internalAPI(param -&gt; { secondStep(); return Boolean.TRUE; });`, except that you have to check the boolean values if you keep using boolean values as success indicator, instead of using exceptions/failed futures.","body":"As Slaw said, something like <code>foo1().thenCompose(x -&gt; internalAPI(param -&gt; { secondStep(); return Boolean.TRUE; });</code>, except that you have to check the boolean values if you keep using boolean values as success indicator, instead of using exceptions/failed futures."}],"owner":{"account_id":269513,"reputation":14298,"user_id":558892,"accept_rate":79,"display_name":"Deqing"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694305606,"creation_date":1694272052,"question_id":77072817,"body_markdown":"We have an internal API that executes the code in a lambda and returns a Boolean result in a CompleteStage:\r\n\r\n    private CompletionStage&lt;Boolean&gt; foo1() {\r\n        return internalAPI(param -&gt; {\r\n            // first step\r\n            // second step\r\n            return Boolean.TRUE;\r\n        });\r\n    }\r\n\r\nNow the second step is implemented as an async task as well:\r\n\r\n    private CompletionStage&lt;Boolean&gt; foo2() {\r\n        return internalAPI(param -&gt; {\r\n            // first step\r\n            secondStep();  // &lt;-- how to execute this and get result of it?\r\n            // if second step finished successfully then ... \r\n            return Boolean.TRUE;\r\n        });\r\n    }\r\n\r\n    private CompletionStage&lt;Boolean&gt; secondStep() {\r\n        // do something\r\n    }\r\n\r\nHow do I make the `secondStep()` run in the `foo2()`, make sure it&#39;s finished before hitting `return Boolean.TRUE;`?\r\n\r\n\r\n--- EDIT ---\r\n\r\nThis is the brief implementation of `internalAPI()`, basically it&#39;s trying to do all steps in one transaction and if one of the steps is failed the transaction can be rollback:\r\n\r\n    public &lt;A&gt; CompletableFuture&lt;A&gt; internalAPI(Function&lt;Connection, A&gt; block) {\r\n        return CompletableFuture.supplyAsync(() -&gt; doTransaction(block),\r\n                new HttpExecutionContext(databaseContext).current());\r\n    }\r\n\r\n    public &lt;T&gt; T doTransaction(Function&lt;Connection, T&gt; block) {\r\n        Transaction tx = Ebean.beginTransaction();\r\n        try (Connection sql2oConnection = sql.open()) {\r\n            spliceConnections(sql2oConnection, tx.getConnection());\r\n            T ret = block.apply(sql2oConnection);\r\n            Ebean.commitTransaction();\r\n            return ret;\r\n        } finally {\r\n            Ebean.endTransaction();\r\n        }\r\n    }","title":"Do a CompletionStage inside a CompletionStage","body":"<p>We have an internal API that executes the code in a lambda and returns a Boolean result in a CompleteStage:</p>\n<pre><code>private CompletionStage&lt;Boolean&gt; foo1() {\n    return internalAPI(param -&gt; {\n        // first step\n        // second step\n        return Boolean.TRUE;\n    });\n}\n</code></pre>\n<p>Now the second step is implemented as an async task as well:</p>\n<pre><code>private CompletionStage&lt;Boolean&gt; foo2() {\n    return internalAPI(param -&gt; {\n        // first step\n        secondStep();  // &lt;-- how to execute this and get result of it?\n        // if second step finished successfully then ... \n        return Boolean.TRUE;\n    });\n}\n\nprivate CompletionStage&lt;Boolean&gt; secondStep() {\n    // do something\n}\n</code></pre>\n<p>How do I make the <code>secondStep()</code> run in the <code>foo2()</code>, make sure it's finished before hitting <code>return Boolean.TRUE;</code>?</p>\n<p>--- EDIT ---</p>\n<p>This is the brief implementation of <code>internalAPI()</code>, basically it's trying to do all steps in one transaction and if one of the steps is failed the transaction can be rollback:</p>\n<pre><code>public &lt;A&gt; CompletableFuture&lt;A&gt; internalAPI(Function&lt;Connection, A&gt; block) {\n    return CompletableFuture.supplyAsync(() -&gt; doTransaction(block),\n            new HttpExecutionContext(databaseContext).current());\n}\n\npublic &lt;T&gt; T doTransaction(Function&lt;Connection, T&gt; block) {\n    Transaction tx = Ebean.beginTransaction();\n    try (Connection sql2oConnection = sql.open()) {\n        spliceConnections(sql2oConnection, tx.getConnection());\n        T ret = block.apply(sql2oConnection);\n        Ebean.commitTransaction();\n        return ret;\n    } finally {\n        Ebean.endTransaction();\n    }\n}\n</code></pre>\n"},{"tags":["java","tostring","long-integer"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1686114447,"post_id":76420021,"comment_id":134752992,"body_markdown":"Please include the specific inputs and outputs you&#39;re having trouble with.","body":"Please include the specific inputs and outputs you&#39;re having trouble with."},{"owner":{"account_id":2396133,"reputation":2128,"user_id":2638227,"display_name":"Mustafa &#214;z&#231;etin"},"score":0,"creation_date":1686114453,"post_id":76420021,"comment_id":134752993,"body_markdown":"What does `Long.parseLong(numb)` return? Can you put a break point and inspect it?","body":"What does <code>Long.parseLong(numb)</code> return? Can you put a break point and inspect it?"}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686115533,"creation_date":1686115533,"answer_id":76420102,"question_id":76420021,"body_markdown":"To represent a number in a given base _n_, you must have _n_ distinct symbols.\r\n\r\nThe range of possible bases is limited, and certainly does not go up to `Integer.MAX_VALUE`. The actual limit is given in `Character.MAX_RADIX`, which has the value `36`.  This is what you should be using instead of `Integer.MAX_VALUE`.\r\n\r\n    public static int bases(String numb) {\r\n        for (int i = 2; i &lt; Character.MAX_RADIX; i++) {\r\n            String basecheck = &quot;&quot;;\r\n            basecheck = Long.toString(Long.parseLong(numb), i);\r\n            ...\r\n","title":"not sure how to fix long.tostring failure","body":"<p>To represent a number in a given base <em>n</em>, you must have <em>n</em> distinct symbols.</p>\n<p>The range of possible bases is limited, and certainly does not go up to <code>Integer.MAX_VALUE</code>. The actual limit is given in <code>Character.MAX_RADIX</code>, which has the value <code>36</code>.  This is what you should be using instead of <code>Integer.MAX_VALUE</code>.</p>\n<pre><code>public static int bases(String numb) {\n    for (int i = 2; i &lt; Character.MAX_RADIX; i++) {\n        String basecheck = &quot;&quot;;\n        basecheck = Long.toString(Long.parseLong(numb), i);\n        ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694304034,"creation_date":1694304034,"answer_id":77074407,"question_id":76420021,"body_markdown":"```java\r\npublic static void main(String... args) {\r\n    Scanner scan = new Scanner(System.in);\r\n    String[] nums = scan.nextLine().split(&quot;\\\\s+&quot;);\r\n\r\n    for (String num : nums) {\r\n        if (&quot;0&quot;.equals(num))\r\n            return;\r\n\r\n        System.out.println(base(num));\r\n    }\r\n}\r\n\r\npublic static int base(String num) {\r\n    final BigInteger b = new BigInteger(num);\r\n    final BigInteger max = b.divide(BigInteger.TWO);\r\n\r\n    for (int i = 2; BigInteger.valueOf(i).compareTo(max) &lt;= 0; i++)\r\n        if (isPalindrome(b.toString(i)))\r\n            return i;\r\n\r\n    return 0;\r\n}\r\n\r\nprivate static boolean isPalindrome(String str) {\r\n    for (int i = 0, j = str.length() - 1; i &lt; j; i++, j--)\r\n        if (str.charAt(i) != str.charAt(j))\r\n            return false;\r\n\r\n    return true;\r\n}\r\n```","title":"not sure how to fix long.tostring failure","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    Scanner scan = new Scanner(System.in);\n    String[] nums = scan.nextLine().split(&quot;\\\\s+&quot;);\n\n    for (String num : nums) {\n        if (&quot;0&quot;.equals(num))\n            return;\n\n        System.out.println(base(num));\n    }\n}\n\npublic static int base(String num) {\n    final BigInteger b = new BigInteger(num);\n    final BigInteger max = b.divide(BigInteger.TWO);\n\n    for (int i = 2; BigInteger.valueOf(i).compareTo(max) &lt;= 0; i++)\n        if (isPalindrome(b.toString(i)))\n            return i;\n\n    return 0;\n}\n\nprivate static boolean isPalindrome(String str) {\n    for (int i = 0, j = str.length() - 1; i &lt; j; i++, j--)\n        if (str.charAt(i) != str.charAt(j))\n            return false;\n\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":28769598,"reputation":1,"user_id":22033647,"display_name":"helios"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1694304034,"creation_date":1686114160,"question_id":76420021,"body_markdown":"\\` I am doing a problem and we are supposed to write a program that reads a sequence of positive integers. The first zero terminates the input. For each input, N, the program computes the smallest base B (where B≥2) such that N is palindromic when written in base B. my code is fine for lowest palindromic bases yet when I get to a higher base with a bigger number, the .ToString method doesn&#39;t add my longs to the string correctly. It just adds random letters and numbers.\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class num5 {\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tString nums[] = in.nextLine().split(&quot; &quot;);\r\n\t\tfor (int i = 0; i &lt; nums.length - 1; i++) {\r\n\t\t\tif (nums[i].equals(&quot;0&quot;)) {\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(bases(nums[i]));\r\n\t\t}\r\n\r\n\t\tfor (String var : nums) {\r\n\t\t\tSystem.out.println(var);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static boolean ispalin(String original) {\r\n\r\n\t\tString reverse = &quot;&quot;;\r\n\r\n\t\tint length = original.length();\r\n\t\tfor (int k = (length - 1); k &gt;= 0; k--)\r\n\t\t\treverse = reverse + original.charAt(k);\r\n\t\tif (original.equals(reverse))\r\n\t\t\treturn true;\r\n\t\telse\r\n\t\t\treturn false;\r\n\t}\r\n\r\n\tpublic static int bases(String numb) {\r\n\t\tfor (int i = 2; i &lt; Integer.MAX_VALUE; i++) {\r\n\t\t\tString basecheck = &quot;&quot;;\r\n\t\t\tbasecheck = Long.toString(Long.parseLong(numb), i);\r\n\t\t\tif (ispalin(basecheck)) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nIs there any way to fix this problem?","title":"not sure how to fix long.tostring failure","body":"<p>` I am doing a problem and we are supposed to write a program that reads a sequence of positive integers. The first zero terminates the input. For each input, N, the program computes the smallest base B (where B≥2) such that N is palindromic when written in base B. my code is fine for lowest palindromic bases yet when I get to a higher base with a bigger number, the .ToString method doesn't add my longs to the string correctly. It just adds random letters and numbers.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class num5 {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        String nums[] = in.nextLine().split(&quot; &quot;);\n        for (int i = 0; i &lt; nums.length - 1; i++) {\n            if (nums[i].equals(&quot;0&quot;)) {\n                System.exit(0);\n            }\n            System.out.println(bases(nums[i]));\n        }\n\n        for (String var : nums) {\n            System.out.println(var);\n        }\n    }\n\n    public static boolean ispalin(String original) {\n\n        String reverse = &quot;&quot;;\n\n        int length = original.length();\n        for (int k = (length - 1); k &gt;= 0; k--)\n            reverse = reverse + original.charAt(k);\n        if (original.equals(reverse))\n            return true;\n        else\n            return false;\n    }\n\n    public static int bases(String numb) {\n        for (int i = 2; i &lt; Integer.MAX_VALUE; i++) {\n            String basecheck = &quot;&quot;;\n            basecheck = Long.toString(Long.parseLong(numb), i);\n            if (ispalin(basecheck)) {\n                return i;\n            }\n        }\n        return 0;\n    }\n\n}\n</code></pre>\n<p>Is there any way to fix this problem?</p>\n"},{"tags":["java","mysql","jdbc","glassfish"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1689093025,"post_id":76663884,"comment_id":135163183,"body_markdown":"Does [this](https://stackoverflow.com/questions/16891182/keytool-error-keystore-was-tampered-with-or-password-was-incorrect) maybe help?","body":"Does <a href=\"https://stackoverflow.com/questions/16891182/keytool-error-keystore-was-tampered-with-or-password-was-incorrect\">this</a> maybe help?"}],"answers":[{"tags":[],"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694303684,"creation_date":1694303684,"answer_id":77074397,"question_id":76663884,"body_markdown":"The MySQL driver uses secure connection (SSL/TLS) by default, which doesn&#39;t work out of the box and requires some configuration in GlassFish.\r\n\r\nIf you&#39;re just getting started, I recommend to disable SSL in the driver, with this connection URL:\r\n\r\n&quot;jdbc:mysql://localhost:3306/library?useSSL=false&quot;","title":"java.sql.SQLNonTransientConnectionException: Cannot open file:keystore.jks [Keystore was tampered with, or password was incorrect]","body":"<p>The MySQL driver uses secure connection (SSL/TLS) by default, which doesn't work out of the box and requires some configuration in GlassFish.</p>\n<p>If you're just getting started, I recommend to disable SSL in the driver, with this connection URL:</p>\n<p>&quot;jdbc:mysql://localhost:3306/library?useSSL=false&quot;</p>\n"}],"owner":{"account_id":17291258,"reputation":1,"user_id":12522767,"display_name":"Subhranshu Mohapatra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694303684,"creation_date":1689091692,"question_id":76663884,"body_markdown":"I am new to Java world, while creating a webapp using NetBeans code is working fine till get method is executed but when I am trying to execute the SQL query glassfish is unable to show data from MSQL DB and giving errors. I am using \r\n\r\n- Apache NetBeans IDE 18\r\n- JDK20\r\n- Glassfish 7.0.3\r\n- MySQL 8.0 CE\r\n- windows10\r\n\r\n\r\n\r\n\r\nIn my project created a servlet called GreetingServlet.java which should get executed to fetch data from library database. library is running. But my code is showing errors in web browser like\r\n\r\n```none\r\nHTTP Status 500 - Internal Server Error\r\ntype Exception report\r\nmessageInternal Server Error\r\ndescriptionThe server encountered an internal error that prevented it from fulfilling this request.\r\nexception\r\njakarta.servlet.ServletException: Servlet Could not display records.\r\nroot cause\r\n\r\njava.sql.SQLNonTransientConnectionException: Cannot open file:C:\\Users\\Subhranshu\\glassfish7\\glassfish\\domains\\domain1/config/keystore.jks [Keystore was tampered with, or password was incorrect]\r\nroot cause\r\n\r\ncom.mysql.cj.exceptions.SSLParamsException: Cannot open file:C:\\Users\\Subhranshu\\glassfish7\\glassfish\\domains\\domain1/config/keystore.jks [Keystore was tampered with, or password was incorrect]\r\nroot cause\r\n\r\njava.io.IOException: Keystore was tampered with, or password was incorrect\r\nroot cause\r\n\r\njava.security.UnrecoverableKeyException: Password verification failed\r\n```\r\n\r\nPlease find my code:\r\n\r\n           \r\n```java\r\nConnection con;\r\ncon = null;  \r\nPreparedStatement stmt = null;\r\nResultSet rs = null;\r\ntry {\r\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n    con =DriverManager.getConnection \r\n    //(&quot;jdbc:mysql://127.0.0.1:3306/library&quot;,&quot;root&quot;,&quot;&quot;);\r\n    (&quot;jdbc:mysql://localhost:3306/library&quot;,&quot;root&quot;,&quot;&quot;);\r\n    stmt = con.prepareStatement(&quot;select * from users where username = ? and password = ?&quot;);\r\n    stmt.setString(1, username);\r\n    stmt.setString(2, password);\r\n    rs = stmt.executeQuery();\r\n```\r\n","title":"java.sql.SQLNonTransientConnectionException: Cannot open file:keystore.jks [Keystore was tampered with, or password was incorrect]","body":"<p>I am new to Java world, while creating a webapp using NetBeans code is working fine till get method is executed but when I am trying to execute the SQL query glassfish is unable to show data from MSQL DB and giving errors. I am using</p>\n<ul>\n<li>Apache NetBeans IDE 18</li>\n<li>JDK20</li>\n<li>Glassfish 7.0.3</li>\n<li>MySQL 8.0 CE</li>\n<li>windows10</li>\n</ul>\n<p>In my project created a servlet called GreetingServlet.java which should get executed to fetch data from library database. library is running. But my code is showing errors in web browser like</p>\n<pre class=\"lang-none prettyprint-override\"><code>HTTP Status 500 - Internal Server Error\ntype Exception report\nmessageInternal Server Error\ndescriptionThe server encountered an internal error that prevented it from fulfilling this request.\nexception\njakarta.servlet.ServletException: Servlet Could not display records.\nroot cause\n\njava.sql.SQLNonTransientConnectionException: Cannot open file:C:\\Users\\Subhranshu\\glassfish7\\glassfish\\domains\\domain1/config/keystore.jks [Keystore was tampered with, or password was incorrect]\nroot cause\n\ncom.mysql.cj.exceptions.SSLParamsException: Cannot open file:C:\\Users\\Subhranshu\\glassfish7\\glassfish\\domains\\domain1/config/keystore.jks [Keystore was tampered with, or password was incorrect]\nroot cause\n\njava.io.IOException: Keystore was tampered with, or password was incorrect\nroot cause\n\njava.security.UnrecoverableKeyException: Password verification failed\n</code></pre>\n<p>Please find my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connection con;\ncon = null;  \nPreparedStatement stmt = null;\nResultSet rs = null;\ntry {\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n    con =DriverManager.getConnection \n    //(&quot;jdbc:mysql://127.0.0.1:3306/library&quot;,&quot;root&quot;,&quot;&quot;);\n    (&quot;jdbc:mysql://localhost:3306/library&quot;,&quot;root&quot;,&quot;&quot;);\n    stmt = con.prepareStatement(&quot;select * from users where username = ? and password = ?&quot;);\n    stmt.setString(1, username);\n    stmt.setString(2, password);\n    rs = stmt.executeQuery();\n</code></pre>\n"},{"tags":["java","oop","collections","frameworks"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1691699538,"post_id":76871815,"comment_id":135530755,"body_markdown":"*&quot;the ouptput for the below code is&quot;*.... ?","body":"<i>&quot;the ouptput for the below code is&quot;</i>.... ?"}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691628187,"creation_date":1691628187,"answer_id":76872017,"question_id":76871815,"body_markdown":"&gt; ... the output should be {abc=1, def=1, ghi=1}\r\n\r\nThere is no reason to expect this behavior. Every comparison operation yields zero (i.e. &quot;equal&quot;) for your sample data, and there&#39;s no guarantee in the specification (i.e. the Javadoc) that `TreeMap` preserves insertion order for equal keys.  If you want to preserve insertion order you&#39;ll need to use a `LinkedHashMap`.","title":"Ambiguity during Custom Sorting of TreeMap","body":"<blockquote>\n<p>... the output should be {abc=1, def=1, ghi=1}</p>\n</blockquote>\n<p>There is no reason to expect this behavior. Every comparison operation yields zero (i.e. &quot;equal&quot;) for your sample data, and there's no guarantee in the specification (i.e. the Javadoc) that <code>TreeMap</code> preserves insertion order for equal keys.  If you want to preserve insertion order you'll need to use a <code>LinkedHashMap</code>.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694302021,"creation_date":1694302021,"answer_id":77074347,"question_id":76871815,"body_markdown":"The output `{abc=3}` is not ambigous. You use the custom comparator, that treats all keys with **same length** as a same keys. And finally, the keys with greater length will be at the beginning.\r\n\r\n***P.S.** `TreeMap` is the `Map` implementation where keys are unique and sorted with given `Comparator`.*\r\n\r\n```java\r\nString[] s = { &quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;, &quot;abc&quot;, &quot;def&quot;, &quot;abc&quot; };\r\nMap&lt;String, Integer&gt; tm = new TreeMap&lt;&gt;();\r\n\r\nfor (String k : s) {\r\n    tm.merge(k, 1, Integer::sum);\r\n}\r\n\r\nSystem.out.println(tm);\r\n```\r\n\r\n**Output:**\r\n```\r\n{abc=3, def=2, ghi=1}\r\n```","title":"Ambiguity during Custom Sorting of TreeMap","body":"<p>The output <code>{abc=3}</code> is not ambigous. You use the custom comparator, that treats all keys with <strong>same length</strong> as a same keys. And finally, the keys with greater length will be at the beginning.</p>\n<p><em><strong>P.S.</strong> <code>TreeMap</code> is the <code>Map</code> implementation where keys are unique and sorted with given <code>Comparator</code>.</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] s = { &quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;, &quot;abc&quot;, &quot;def&quot;, &quot;abc&quot; };\nMap&lt;String, Integer&gt; tm = new TreeMap&lt;&gt;();\n\nfor (String k : s) {\n    tm.merge(k, 1, Integer::sum);\n}\n\nSystem.out.println(tm);\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>{abc=3, def=2, ghi=1}\n</code></pre>\n"}],"owner":{"account_id":25813484,"reputation":1,"user_id":19553805,"display_name":"Vishant Sandilya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1694302021,"creation_date":1691623356,"question_id":76871815,"body_markdown":"the ouptput for the below code is:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    String[] s = {&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;};\r\n    TreeMap&lt;String, Integer&gt; tm = new TreeMap&lt;&gt;((a, b) -&gt; -a.length() + b.length());\r\n\r\n    for (String k : s) {\r\n        tm.merge(k, 1, Integer::sum);\r\n    }\r\n\r\n    System.out.println(tm);\r\n    }\r\n```\r\n\r\nthe output should be:\r\n \r\n\r\n    {abc=1, def=1, ghi=1}","title":"Ambiguity during Custom Sorting of TreeMap","body":"<p>the ouptput for the below code is:</p>\n<pre><code>public static void main(String[] args) {\n    String[] s = {&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;};\n    TreeMap&lt;String, Integer&gt; tm = new TreeMap&lt;&gt;((a, b) -&gt; -a.length() + b.length());\n\n    for (String k : s) {\n        tm.merge(k, 1, Integer::sum);\n    }\n\n    System.out.println(tm);\n    }\n</code></pre>\n<p>the output should be:</p>\n<pre><code>{abc=1, def=1, ghi=1}\n</code></pre>\n"},{"tags":["java","garbage-collection","g1gc"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1693934315,"post_id":77046489,"comment_id":135824048,"body_markdown":"Does this answer your question? [Does Java Garbage Collect always has to &quot;Stop-the-World&quot;?](https://stackoverflow.com/questions/40182392/does-java-garbage-collect-always-has-to-stop-the-world)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40182392/does-java-garbage-collect-always-has-to-stop-the-world\">Does Java Garbage Collect always has to &quot;Stop-the-World&quot;?</a>"},{"owner":{"account_id":14156033,"reputation":156,"user_id":10226743,"display_name":"hmad"},"score":0,"creation_date":1693936189,"post_id":77046489,"comment_id":135824401,"body_markdown":"no that does not answer my question @Pino i know that there are cases when STW-GCs are necessary. the question is in my particular usage scenario are there any parameters that I can use to avoid STW-GC","body":"no that does not answer my question @Pino i know that there are cases when STW-GCs are necessary. the question is in my particular usage scenario are there any parameters that I can use to avoid STW-GC"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694000671,"post_id":77046489,"comment_id":135833021,"body_markdown":"Think about it this way: if there was a parameter which can avoid stop-the-world pauses even when we don’t know anything about their cause, like in your example, what do you think would be the reason that this parameter is not on by default?","body":"Think about it this way: if there was a parameter which can avoid stop-the-world pauses even when we don’t know anything about their cause, like in your example, what do you think would be the reason that this parameter is not on by default?"},{"owner":{"account_id":14156033,"reputation":156,"user_id":10226743,"display_name":"hmad"},"score":0,"creation_date":1694008888,"post_id":77046489,"comment_id":135834983,"body_markdown":"oh no - i am not looking for a magical parameter that would avoid stop-the-world pause, i have explained what is happening before the pause and i am asking if there are any tunables that would help in *this* situation.","body":"oh no - i am not looking for a magical parameter that would avoid stop-the-world pause, i have explained what is happening before the pause and i am asking if there are any tunables that would help in <i>this</i> situation."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694076453,"post_id":77046489,"comment_id":135844538,"body_markdown":"You didn’t explain what’s happening, you just described the symptoms we can see in these pictures. You also provided the *conjecture* that the symptoms imply that allocations went directly to the Old Gen, which is not backed by anything. The graph would look the same if just all young objects were promoted to old. But regardless of whether the conjecture is correct or not, it still doesn’t explain *why* this happens and without knowing why it happens, there is no way to fix the issue. Except for a `--do-not-make-a-spike-a-day` option which does not exist.","body":"You didn’t explain what’s happening, you just described the symptoms we can see in these pictures. You also provided the <i>conjecture</i> that the symptoms imply that allocations went directly to the Old Gen, which is not backed by anything. The graph would look the same if just all young objects were promoted to old. But regardless of whether the conjecture is correct or not, it still doesn’t explain <i>why</i> this happens and without knowing why it happens, there is no way to fix the issue. Except for a <code>--do-not-make-a-spike-a-day</code> option which does not exist."},{"owner":{"account_id":14156033,"reputation":156,"user_id":10226743,"display_name":"hmad"},"score":0,"creation_date":1694106753,"post_id":77046489,"comment_id":135851077,"body_markdown":"@Holger, please feel free to ask questions if you need more information rather than jumping to conclusions. If you disagree with my conjecture, let&#39;s discuss it . Kindly consider removing any comments that don&#39;t contribute productively, as they can be a time-wasting distraction for everyone.\n\nFurthermore, consider the possibility that other users might have encountered a similar usage pattern with their app and could offer a solution.\n\nare you expecting me to *explain* what exactly is happening and *why* it is happening?! stackoverflow is a discussion board!","body":"@Holger, please feel free to ask questions if you need more information rather than jumping to conclusions. If you disagree with my conjecture, let&#39;s discuss it . Kindly consider removing any comments that don&#39;t contribute productively, as they can be a time-wasting distraction for everyone.  Furthermore, consider the possibility that other users might have encountered a similar usage pattern with their app and could offer a solution.  are you expecting me to <i>explain</i> what exactly is happening and <i>why</i> it is happening?! stackoverflow is a discussion board!"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1694158578,"post_id":77046489,"comment_id":135857254,"body_markdown":"we had a similar scenario of a lot of apps, and what helped greatly was moving to jre-11. We still compile with 8 (there are reasons for that), but run in 11, mainly due to the massive improvements in g1gc. What we have observed is far, far less STW pauses and an increased number of mixed collections, which is a big win. You could try such a thing if possible","body":"we had a similar scenario of a lot of apps, and what helped greatly was moving to jre-11. We still compile with 8 (there are reasons for that), but run in 11, mainly due to the massive improvements in g1gc. What we have observed is far, far less STW pauses and an increased number of mixed collections, which is a big win. You could try such a thing if possible"},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1694672936,"post_id":77046489,"comment_id":135922535,"body_markdown":"A bit late to the party but can you check the log for humongous allocations? Humongous allocations will always go to old gen.","body":"A bit late to the party but can you check the log for humongous allocations? Humongous allocations will always go to old gen."}],"answers":[{"tags":[],"owner":{"account_id":3161929,"reputation":137,"user_id":2672803,"display_name":"dchristle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694301931,"creation_date":1694301931,"answer_id":77074342,"question_id":77046489,"body_markdown":"**The problem is likely that your application is allocating a very large amount of long-lived objects in a short amount of time.** As other commenters have mentioned, you cannot stop all STW pauses, but given your large heap &amp; the fact that you&#39;re posting here, it probably means you hit a very long STW pause - maybe even a Full GC - during the spike. Enabling detailed logs with `-verbose:gc -XX:+PrintGCDetails` would give us better details to help.\r\n\r\nSince you didn&#39;t provide GC logs, it&#39;s difficult to say exactly, but there are some observations from your plots that can help us figure it out: \r\n\r\n_The Eden space usage gets very small, relative to the steady state._\r\n\r\nUnder normal conditions in G1, a &quot;Young GC&quot; is by far the most common GC, and it includes a STW pause that should ideally be small. Most of the points on your plots are probably Young GC&#39;s; when a GC event happens, the GC log prints the region sizes &amp; a log analysis/plotter can process them. In Young GC, G1 starts at the reference roots of your application, scans the reference tree deeper and deeper to find all &quot;live&quot; objects, and copies them to one of two &quot;Survivor&quot; spaces. \r\n\r\nRoughtly speaking, because the length of a Young GC STW pause is proportional to the amount of live objects, G1 will shrink the size of Eden to try to ensure future pauses meet the latency target. \r\n\r\n_The Old Gen usage has a rapid increase during the traffic spike of approx. 16GB. It is nearly monotonic, but contains a very small decrease mid way. Increasing `MaxTenuringThreshold` from its default of 6 to 15 didn&#39;t improve things._\r\n\r\nSince your application continues to allocate lots of memory quickly, and the Eden space is now smaller, it fills up fast. The time between when an object is allocated &amp; when a Young GC processes it is now even shorter, meaning those objects have less time to die. On average, this means a higher fraction will need to be copied to Survivor. By default, the Survivor region is just 1/6&#39;th the size of Eden. When the fraction of live Eden objects is high, existing Survivor objects will get prematurely promoted to Old to free up space. Your application may allocate so much that objects promote directly from Young -&gt; Old. This explains why you see a rapid increase in the size of Old Gen. And since objects don&#39;t stay in Young or Survivor long enough to reach even the default MaxTenuringThreshold, explaining why increasing it did nothing.\r\n\r\nNormally, G1 tries to collect Old concurrently with a series of Mixed collections. The small dip during the spike suggests at least one Mixed collection may have happened, but it freed up almost no space. Since there are a few more points on the plot before the big drop, that may mean no further Mixed collections ran or they ran but freed up very little space. The large drop could be a Mixed collection, but given that you&#39;re asking about how to stop bad pause behavior, it&#39;s probably a Full GC. With your heap size (&gt;40GB) and the amount of live data in your Old gen (~26GB), a Full GC would generally be quite long.\r\n\r\n**_Suggested strategies:_**\r\n\r\n**A: (Avoid Full GC):** If it&#39;s true the large drop is a Full GC, because your Old gen live set size is already quite large, you need to either increase your heap by at least ~5GB, or refactor your application to keep fewer objects in memory long term (reduce the steady state 26GB Old size). Theoretically, if you did try setting G1NewSize to 35% so that the ~16GB spike fits within Eden, it could stay in Eden long enough to die, avoiding a long Young GC pause. This isn&#39;t likely to work well in practice, though, since a larger Eden will make your Old even smaller, and increase the chance of Full GC. It&#39;s also relies on luck that Eden is almost empty exactly at the time the spike starts. Otherwise, large fractions of the spike will get copied to Old anyway &amp; the Young GC pause will be large. \r\n\r\n**B: (Application refactor):** This is the best approach, if it&#39;s possible to do. G1 is designed under the assumption that most objects in Eden are dead at the time of a Young GC, and that&#39;s not true for your application. The large amount of data you&#39;re receiving seems to stay live for a few minutes &amp; then get collected. Perhaps your code reads the entire incoming dataset into memory, and then only after it&#39;s fully in-memory, copies it to a database or does some other aggregation, before discarding it. Refactoring to process the data incrementally would mean the chunks die quickly in Eden &amp; little promotion happens. This is the ideal operating condition for G1 and would eliminate the Full GC.","title":"java how to avoid stop-the-world garbage collection","body":"<p><strong>The problem is likely that your application is allocating a very large amount of long-lived objects in a short amount of time.</strong> As other commenters have mentioned, you cannot stop all STW pauses, but given your large heap &amp; the fact that you're posting here, it probably means you hit a very long STW pause - maybe even a Full GC - during the spike. Enabling detailed logs with <code>-verbose:gc -XX:+PrintGCDetails</code> would give us better details to help.</p>\n<p>Since you didn't provide GC logs, it's difficult to say exactly, but there are some observations from your plots that can help us figure it out:</p>\n<p><em>The Eden space usage gets very small, relative to the steady state.</em></p>\n<p>Under normal conditions in G1, a &quot;Young GC&quot; is by far the most common GC, and it includes a STW pause that should ideally be small. Most of the points on your plots are probably Young GC's; when a GC event happens, the GC log prints the region sizes &amp; a log analysis/plotter can process them. In Young GC, G1 starts at the reference roots of your application, scans the reference tree deeper and deeper to find all &quot;live&quot; objects, and copies them to one of two &quot;Survivor&quot; spaces.</p>\n<p>Roughtly speaking, because the length of a Young GC STW pause is proportional to the amount of live objects, G1 will shrink the size of Eden to try to ensure future pauses meet the latency target.</p>\n<p><em>The Old Gen usage has a rapid increase during the traffic spike of approx. 16GB. It is nearly monotonic, but contains a very small decrease mid way. Increasing <code>MaxTenuringThreshold</code> from its default of 6 to 15 didn't improve things.</em></p>\n<p>Since your application continues to allocate lots of memory quickly, and the Eden space is now smaller, it fills up fast. The time between when an object is allocated &amp; when a Young GC processes it is now even shorter, meaning those objects have less time to die. On average, this means a higher fraction will need to be copied to Survivor. By default, the Survivor region is just 1/6'th the size of Eden. When the fraction of live Eden objects is high, existing Survivor objects will get prematurely promoted to Old to free up space. Your application may allocate so much that objects promote directly from Young -&gt; Old. This explains why you see a rapid increase in the size of Old Gen. And since objects don't stay in Young or Survivor long enough to reach even the default MaxTenuringThreshold, explaining why increasing it did nothing.</p>\n<p>Normally, G1 tries to collect Old concurrently with a series of Mixed collections. The small dip during the spike suggests at least one Mixed collection may have happened, but it freed up almost no space. Since there are a few more points on the plot before the big drop, that may mean no further Mixed collections ran or they ran but freed up very little space. The large drop could be a Mixed collection, but given that you're asking about how to stop bad pause behavior, it's probably a Full GC. With your heap size (&gt;40GB) and the amount of live data in your Old gen (~26GB), a Full GC would generally be quite long.</p>\n<p><strong><em>Suggested strategies:</em></strong></p>\n<p><strong>A: (Avoid Full GC):</strong> If it's true the large drop is a Full GC, because your Old gen live set size is already quite large, you need to either increase your heap by at least ~5GB, or refactor your application to keep fewer objects in memory long term (reduce the steady state 26GB Old size). Theoretically, if you did try setting G1NewSize to 35% so that the ~16GB spike fits within Eden, it could stay in Eden long enough to die, avoiding a long Young GC pause. This isn't likely to work well in practice, though, since a larger Eden will make your Old even smaller, and increase the chance of Full GC. It's also relies on luck that Eden is almost empty exactly at the time the spike starts. Otherwise, large fractions of the spike will get copied to Old anyway &amp; the Young GC pause will be large.</p>\n<p><strong>B: (Application refactor):</strong> This is the best approach, if it's possible to do. G1 is designed under the assumption that most objects in Eden are dead at the time of a Young GC, and that's not true for your application. The large amount of data you're receiving seems to stay live for a few minutes &amp; then get collected. Perhaps your code reads the entire incoming dataset into memory, and then only after it's fully in-memory, copies it to a database or does some other aggregation, before discarding it. Refactoring to process the data incrementally would mean the chunks die quickly in Eden &amp; little promotion happens. This is the ideal operating condition for G1 and would eliminate the Full GC.</p>\n"}],"owner":{"account_id":14156033,"reputation":156,"user_id":10226743,"display_name":"hmad"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694301931,"creation_date":1693933933,"question_id":77046489,"body_markdown":"we have an market app that streams market data, this gets a spike of data on a daily basis.\r\ndue to the allocations during the spike the VM ends up doing a stop-the-world garbage collection.\r\nFrom the usage graphs it looks like all the allocation during the spike goes directly to old gen? are there any g1gc parameters that can be used to change this behavior? i am thinking by keeping them in eden space we&#39;ll be able to avoid the STW-gc\r\n\r\ntried -XX:MaxTenuringThreshold=15 does not seem to have an effect.\r\n\r\nusing java 8 with g1gc\r\n\r\n[![Total Heap Usage][1]][1]\r\nTotal Heap Usage\r\n\r\n[![G1 Eden space, during the spike the usage is going down][2]][2]\r\nG1 Eden space: during the spike the usage is going down\r\n\r\n[![G1 old gen, looks like all allocation during the spike is going directly to old gen][3]][3]\r\nG1 old gen: looks like all allocation during the spike is going directly to old gen\r\n\r\n  [1]: https://i.stack.imgur.com/H5z9A.png\r\n  [2]: https://i.stack.imgur.com/ITuol.png\r\n  [3]: https://i.stack.imgur.com/xqb2a.png","title":"java how to avoid stop-the-world garbage collection","body":"<p>we have an market app that streams market data, this gets a spike of data on a daily basis.\ndue to the allocations during the spike the VM ends up doing a stop-the-world garbage collection.\nFrom the usage graphs it looks like all the allocation during the spike goes directly to old gen? are there any g1gc parameters that can be used to change this behavior? i am thinking by keeping them in eden space we'll be able to avoid the STW-gc</p>\n<p>tried -XX:MaxTenuringThreshold=15 does not seem to have an effect.</p>\n<p>using java 8 with g1gc</p>\n<p><a href=\"https://i.stack.imgur.com/H5z9A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H5z9A.png\" alt=\"Total Heap Usage\" /></a>\nTotal Heap Usage</p>\n<p><a href=\"https://i.stack.imgur.com/ITuol.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ITuol.png\" alt=\"G1 Eden space, during the spike the usage is going down\" /></a>\nG1 Eden space: during the spike the usage is going down</p>\n<p><a href=\"https://i.stack.imgur.com/xqb2a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xqb2a.png\" alt=\"G1 old gen, looks like all allocation during the spike is going directly to old gen\" /></a>\nG1 old gen: looks like all allocation during the spike is going directly to old gen</p>\n"},{"tags":["java","collections","java-8","java-stream"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1396870228,"post_id":22911030,"comment_id":34967475,"body_markdown":"Uhm, doing this without streams is even more simple... But OK, this is an exercise, so...","body":"Uhm, doing this without streams is even more simple... But OK, this is an exercise, so..."},{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":1,"creation_date":1396876953,"post_id":22911030,"comment_id":34972443,"body_markdown":"You can&#39;t do it with one stream as long it is unsorted. You need to resolve min and max beforehand. If your stream is sorted you can do it with with `.filter(x -&gt; x != ranges.get(0)).filter(x -&gt; x != ranges.get(ranges.size()-1))`","body":"You can&#39;t do it with one stream as long it is unsorted. You need to resolve min and max beforehand. If your stream is sorted you can do it with with <code>.filter(x -&gt; x != ranges.get(0)).filter(x -&gt; x != ranges.get(ranges.size()-1))</code>"},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1396877905,"post_id":22911030,"comment_id":34973142,"body_markdown":"I think that the Scala version can not be compared to the Java version. The Scala approach (sorting and removing the first and the last element) is completely different to the Java approach (computing min and max, and filtering the stream)","body":"I think that the Scala version can not be compared to the Java version. The Scala approach (sorting and removing the first and the last element) is completely different to the Java approach (computing min and max, and filtering the stream)"},{"owner":{"account_id":61147,"reputation":2846,"user_id":182393,"accept_rate":85,"display_name":"Koziołek"},"score":0,"creation_date":1396897562,"post_id":22911030,"comment_id":34986000,"body_markdown":"@Marco13 I know but it&#39;s a nice example what I want to get.","body":"@Marco13 I know but it&#39;s a nice example what I want to get."},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":1,"creation_date":1396899727,"post_id":22911030,"comment_id":34987401,"body_markdown":"Shouldn&#39;t something like `List&lt;Integer&gt; collect = ranges.stream().sorted().collect(Collectors.toList()).subList(1, ranges.size()-1);` then be an option? It&#39;s at least closer to the Scala approach...","body":"Shouldn&#39;t something like <code>List&lt;Integer&gt; collect = ranges.stream().sorted().collect(Collectors.toList()).subLis&zwnj;&#8203;t(1, ranges.size()-1);</code> then be an option? It&#39;s at least closer to the Scala approach..."},{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":0,"creation_date":1396908085,"post_id":22911030,"comment_id":34991894,"body_markdown":"@Koziołek please keep in mind that sorting the collection and removing the first/last element will be in O(n*log(n)) while calculating min/max and then eliminating these with a stream will be O(n) (both worst case)","body":"@Koziołek please keep in mind that sorting the collection and removing the first/last element will be in O(n*log(n)) while calculating min/max and then eliminating these with a stream will be O(n) (both worst case)"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1396909153,"post_id":22911030,"comment_id":34992260,"body_markdown":"possible duplicate of [Excluding extrema from HashSet with a Stream](http://stackoverflow.com/questions/22923505/excluding-extrema-from-hashset-with-a-stream)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/22923505/excluding-extrema-from-hashset-with-a-stream\">Excluding extrema from HashSet with a Stream</a>"}],"answers":[{"tags":[],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1396908567,"creation_date":1396906013,"answer_id":22923449,"question_id":22911030,"body_markdown":"The solution is not very efficient, but I think it follows your requirements - it does what you want and it is in one single *pipeline* - one single sequence of bulk data operations, how Java 8 calls it.\r\n\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n\r\n    Stream&lt;Integer&gt; ranges = Stream.iterate(1, i -&gt; i + 1).limit(15);\r\n    List&lt;Integer&gt; collect = ranges\r\n        .sorted(Comparator.reverseOrder()) // sort the stream from the highest to the smallest\r\n        .skip(1)                           // discards 1 element from the beginning\r\n        .sorted()                          // sort the stream from the smallest to the highest\r\n        .skip(1)                           // discards 1 element from the beginning\r\n        .collect(Collectors.toList())     \r\n        ;\r\n\r\nBut, as fge suggested and Marco13 wrote in their comment below your question, it would be better and much more efficient just to sort the stream, terminate the pipeline to a list and then remove the first and the last member :P Or even faster without sort - go through all the elements, find min and max, remember their position and then remove them.","title":"Remove max (or min) from collection using Java8 streaming API","body":"<p>The solution is not very efficient, but I think it follows your requirements - it does what you want and it is in one single <em>pipeline</em> - one single sequence of bulk data operations, how Java 8 calls it.</p>\n\n<pre><code>import java.util.Comparator;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nStream&lt;Integer&gt; ranges = Stream.iterate(1, i -&gt; i + 1).limit(15);\nList&lt;Integer&gt; collect = ranges\n    .sorted(Comparator.reverseOrder()) // sort the stream from the highest to the smallest\n    .skip(1)                           // discards 1 element from the beginning\n    .sorted()                          // sort the stream from the smallest to the highest\n    .skip(1)                           // discards 1 element from the beginning\n    .collect(Collectors.toList())     \n    ;\n</code></pre>\n\n<p>But, as fge suggested and Marco13 wrote in their comment below your question, it would be better and much more efficient just to sort the stream, terminate the pipeline to a list and then remove the first and the last member :P Or even faster without sort - go through all the elements, find min and max, remember their position and then remove them.</p>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1405007651,"creation_date":1405007651,"answer_id":24681064,"question_id":22911030,"body_markdown":"Don&#39;t forget `Collection.removeIf`.  You can compute min and max, and then do:\r\n\r\n    list.removeIf(x -&gt; x == min || x == max);\r\n\r\n(This also deals well with duplicates.)","title":"Remove max (or min) from collection using Java8 streaming API","body":"<p>Don't forget <code>Collection.removeIf</code>.  You can compute min and max, and then do:</p>\n\n<pre><code>list.removeIf(x -&gt; x == min || x == max);\n</code></pre>\n\n<p>(This also deals well with duplicates.)</p>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694299829,"creation_date":1694299829,"answer_id":77074281,"question_id":22911030,"body_markdown":"As the other answers have shown, Java can do this just fine. To provide an alternative to the other answers, you can make this even more concise if you know the size of the data set beforehand. To match your Scala version, here is the essentially the same thing in Java.\r\n\r\n```java\r\nIntStream\r\n   .rangeClosed(1,15)\r\n   .sorted()               //Sorts the contents\r\n   .limit(dataSetSize - 1) //Keeps all except the last element\r\n   .skip(1)                //Removes the min element\r\n   .boxed()\r\n   .toList()\r\n   ;\r\n```\r\n\r\nThat gives you this.\r\n\r\n```\r\n[2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]\r\n```\r\n\r\nYou can replace the `IntStream.rangeClosed(1, 15)` with any `Stream&lt;T extends Comparable&lt;T&gt;&gt;`. As long as `T extends Comparable&lt;T&gt;`, then this strategy works.\r\n\r\nAnd if `T` does not implement `Comparable&lt;T&gt;`, just provide your own `Comparator&lt;T&gt;`.\r\n\r\n```java\r\nrecord Foo(int value) {}\r\n\r\nStream\r\n   .of(new Foo(1), new Foo(7), new Foo(3), new Foo(2), new Foo(6), new Foo(4), new Foo(5))\r\n   .sorted(Comparator.comparing(Foo::value))\r\n   .limit(dataSetSize - 1)\r\n   .skip(1)\r\n   .toList()\r\n   ;\r\n```\r\n\r\nThat gives you this.\r\n\r\n```\r\n[Foo[value=2], Foo[value=3], Foo[value=4], Foo[value=5], Foo[value=6]]\r\n```","title":"Remove max (or min) from collection using Java8 streaming API","body":"<p>As the other answers have shown, Java can do this just fine. To provide an alternative to the other answers, you can make this even more concise if you know the size of the data set beforehand. To match your Scala version, here is the essentially the same thing in Java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntStream\n   .rangeClosed(1,15)\n   .sorted()               //Sorts the contents\n   .limit(dataSetSize - 1) //Keeps all except the last element\n   .skip(1)                //Removes the min element\n   .boxed()\n   .toList()\n   ;\n</code></pre>\n<p>That gives you this.</p>\n<pre><code>[2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]\n</code></pre>\n<p>You can replace the <code>IntStream.rangeClosed(1, 15)</code> with any <code>Stream&lt;T extends Comparable&lt;T&gt;&gt;</code>. As long as <code>T extends Comparable&lt;T&gt;</code>, then this strategy works.</p>\n<p>And if <code>T</code> does not implement <code>Comparable&lt;T&gt;</code>, just provide your own <code>Comparator&lt;T&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Foo(int value) {}\n\nStream\n   .of(new Foo(1), new Foo(7), new Foo(3), new Foo(2), new Foo(6), new Foo(4), new Foo(5))\n   .sorted(Comparator.comparing(Foo::value))\n   .limit(dataSetSize - 1)\n   .skip(1)\n   .toList()\n   ;\n</code></pre>\n<p>That gives you this.</p>\n<pre><code>[Foo[value=2], Foo[value=3], Foo[value=4], Foo[value=5], Foo[value=6]]\n</code></pre>\n"}],"owner":{"account_id":61147,"reputation":2846,"user_id":182393,"accept_rate":85,"display_name":"Koziołek"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7157,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":22923449,"answer_count":3,"score":11,"last_activity_date":1694299829,"creation_date":1396869933,"question_id":22911030,"body_markdown":"I have little problem with code design that use new streaming API from Java 8. I would like to learn new things and one of the task is:\r\n\r\nReject max and min from list. List not contains duplicates.\r\n\r\nLooks simple? Nope... My code:\r\n\r\n      List&lt;Integer&gt; ranges = Lists.newArrayList(new Range(1, 15));\r\n            List&lt;Integer&gt; collect = ranges.stream()\r\n                    .filter(x -&gt; x != ranges.stream()\r\n                            .mapToInt(Integer::intValue)\r\n                            .max()\r\n                            .getAsInt())\r\n                    .filter(x -&gt; x != ranges.stream()\r\n                            .mapToInt(Integer::intValue)\r\n                            .min()\r\n                            .getAsInt())\r\n                    \r\n                    .collect(Collectors.toList());\r\n            assertThat(collect).hasSize(13);   // OK\r\n            assertThat(collect).isEqualTo(Lists.newArrayList(new Range(2,14)));   // OK\r\n\r\nthis code is good (if only we dont have duplicates of min/max, but this is not a core problem here) but problem is that I use here three streams. First is main stream, second to remove max and third to remove min. \r\nIs there any possibility to do this task in one stream?\r\n\r\n//edit:\r\nVery primitive Scala version:\r\n\r\n    val list = List.range(1, 15).sortWith(_&gt;_).tail.reverse.tail\r\n\r\nwith additional sort because we could have shuiffeled list.","title":"Remove max (or min) from collection using Java8 streaming API","body":"<p>I have little problem with code design that use new streaming API from Java 8. I would like to learn new things and one of the task is:</p>\n\n<p>Reject max and min from list. List not contains duplicates.</p>\n\n<p>Looks simple? Nope... My code:</p>\n\n<pre><code>  List&lt;Integer&gt; ranges = Lists.newArrayList(new Range(1, 15));\n        List&lt;Integer&gt; collect = ranges.stream()\n                .filter(x -&gt; x != ranges.stream()\n                        .mapToInt(Integer::intValue)\n                        .max()\n                        .getAsInt())\n                .filter(x -&gt; x != ranges.stream()\n                        .mapToInt(Integer::intValue)\n                        .min()\n                        .getAsInt())\n\n                .collect(Collectors.toList());\n        assertThat(collect).hasSize(13);   // OK\n        assertThat(collect).isEqualTo(Lists.newArrayList(new Range(2,14)));   // OK\n</code></pre>\n\n<p>this code is good (if only we dont have duplicates of min/max, but this is not a core problem here) but problem is that I use here three streams. First is main stream, second to remove max and third to remove min. \nIs there any possibility to do this task in one stream?</p>\n\n<p>//edit:\nVery primitive Scala version:</p>\n\n<pre><code>val list = List.range(1, 15).sortWith(_&gt;_).tail.reverse.tail\n</code></pre>\n\n<p>with additional sort because we could have shuiffeled list.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1694267859,"post_id":77072552,"comment_id":135870645,"body_markdown":"are you sure that is `O(n&#178;)` and not `O(n)`? The outer loop is being *skipped* as often as the inner loop is being executed","body":"are you sure that is <code>O(n&#178;)</code> and not <code>O(n)</code>? The outer loop is being <i>skipped</i> as often as the inner loop is being executed"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694268730,"post_id":77072552,"comment_id":135870726,"body_markdown":"but it has an error: infinite loop (for example with word `&quot;abc&quot;`) - *maybe* because `k` is **not** being set to `i` (or incremented) before starting the inner loop (that loop can actually be changed to use `i` directly no need for `k`)","body":"but it has an error: infinite loop (for example with word <code>&quot;abc&quot;</code>) - <i>maybe</i> because <code>k</code> is <b>not</b> being set to <code>i</code> (or incremented) before starting the inner loop (that loop can actually be changed to use <code>i</code> directly no need for <code>k</code>)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694269165,"post_id":77072552,"comment_id":135870776,"body_markdown":"actually  just change `i=k;`  to `i = k - 1; ` ( &#236;` will be incremented on next iteration) and it should work fine (and `O(n)`)","body":"actually  just change <code>i=k;</code>  to <code>i = k - 1; </code> ( &#236;` will be incremented on next iteration) and it should work fine (and <code>O(n)</code>)"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1694277465,"post_id":77072552,"comment_id":135871583,"body_markdown":"This is already O(n), it just has a small bug.","body":"This is already O(n), it just has a small bug."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1694467573,"post_id":77072552,"comment_id":135892199,"body_markdown":"@MadhukarH If any helped you solve the issue, please consider accepting one of the posted answers.","body":"@MadhukarH If any helped you solve the issue, please consider accepting one of the posted answers."}],"answers":[{"tags":[],"owner":{"account_id":16573818,"reputation":16,"user_id":11976107,"display_name":"Nhat Anh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694268665,"creation_date":1694268665,"answer_id":77072600,"question_id":77072552,"body_markdown":"With &quot;aaaabbccccaadd&quot; and the answer is &quot;a4b2c4a2d2&quot;, I assume this is counting the consecutive words occurrance right? if so then you just need one loop O(n).\r\n\r\n    private static String wordCount(String word){\r\n        if (word.isEmpty()) return &quot;&quot;;\r\n        \r\n        String result = &quot;&quot;;\r\n        int k = 0;\r\n        char currentChar = word.charAt(0);\r\n        for(int i = 0 ; i &lt; word.length() ; i++){\r\n            if (currentChar != word.charAt(i)) {\r\n                result += currentChar;\r\n                result += String.valueOf(k);\r\n                currentChar = word.charAt(i);\r\n                k = 1;\r\n            } else {\r\n                k++;\r\n            }\r\n        }\r\n        result += currentChar;\r\n        result += String.valueOf(k);\r\n\r\n        return result;\r\n    }","title":"String occurance of characters for e.g. &quot;aaaabbccccaadd&quot; the answer to be &quot;a4b2c4a2d2&quot;","body":"<p>With &quot;aaaabbccccaadd&quot; and the answer is &quot;a4b2c4a2d2&quot;, I assume this is counting the consecutive words occurrance right? if so then you just need one loop O(n).</p>\n<pre><code>private static String wordCount(String word){\n    if (word.isEmpty()) return &quot;&quot;;\n    \n    String result = &quot;&quot;;\n    int k = 0;\n    char currentChar = word.charAt(0);\n    for(int i = 0 ; i &lt; word.length() ; i++){\n        if (currentChar != word.charAt(i)) {\n            result += currentChar;\n            result += String.valueOf(k);\n            currentChar = word.charAt(i);\n            k = 1;\n        } else {\n            k++;\n        }\n    }\n    result += currentChar;\n    result += String.valueOf(k);\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694269576,"creation_date":1694268857,"answer_id":77072619,"question_id":77072552,"body_markdown":"Here is a simple, imperative way to do it.\r\n\r\nInitialize some fields\r\n```\r\nString s = &quot;aaaabbccccaadd&quot;;\r\nStringBuilder sb = new StringBuilder();\r\nchar currentChar = s.charAt(0);\r\nint count = 1;\r\n```\r\n- iterate over the string, counting until the character changes\r\n- then append the character and the count to the StringBuilder. Then reset the `count` to `1` and assign `thisChar` to `currentChar`\r\n- once the loop is done.\r\n- append the last character and its count.\r\n```\r\n\r\nfor (int i = 1; i &lt; s.length(); i++) {\r\n    char thisChar = s.charAt(i);\r\n    if (currentChar == thisChar) {\r\n        count++;\r\n    } else {\r\n        sb.append(currentChar).append(count);\r\n        count = 1;\r\n        currentChar = thisChar;\r\n    }\r\n}\r\nsb.append(currentChar).append(count);\r\nSystem.out.println(sb);\r\n```\r\nprints\r\n```\r\na4b2c4a2d2\r\n```\r\nAnd here is a solution using regular expressions.\r\n\r\n- `(.)` capture a single character\r\n- `(\\\\1)*` followed by zero or more of the same character (uses a backreference).\r\n- then append `group(1)`, the single character followed by the length of the entire `group(0)`.\r\n```\r\nMatcher matcher = Pattern.compile(&quot;(.)(\\\\1)*&quot;).matcher(s);\r\nStringBuilder sb = new StringBuilder();\r\nwhile(matcher.find()) {\r\n    sb.append(matcher.group(1)).append(matcher.group(0).length());\r\n}\r\nSystem.out.println(sb);\r\n```\r\nprints\r\n```\r\na4b2c4a2d2\r\n","title":"String occurance of characters for e.g. &quot;aaaabbccccaadd&quot; the answer to be &quot;a4b2c4a2d2&quot;","body":"<p>Here is a simple, imperative way to do it.</p>\n<p>Initialize some fields</p>\n<pre><code>String s = &quot;aaaabbccccaadd&quot;;\nStringBuilder sb = new StringBuilder();\nchar currentChar = s.charAt(0);\nint count = 1;\n</code></pre>\n<ul>\n<li>iterate over the string, counting until the character changes</li>\n<li>then append the character and the count to the StringBuilder. Then reset the <code>count</code> to <code>1</code> and assign <code>thisChar</code> to <code>currentChar</code></li>\n<li>once the loop is done.</li>\n<li>append the last character and its count.</li>\n</ul>\n<pre><code>\nfor (int i = 1; i &lt; s.length(); i++) {\n    char thisChar = s.charAt(i);\n    if (currentChar == thisChar) {\n        count++;\n    } else {\n        sb.append(currentChar).append(count);\n        count = 1;\n        currentChar = thisChar;\n    }\n}\nsb.append(currentChar).append(count);\nSystem.out.println(sb);\n</code></pre>\n<p>prints</p>\n<pre><code>a4b2c4a2d2\n</code></pre>\n<p>And here is a solution using regular expressions.</p>\n<ul>\n<li><code>(.)</code> capture a single character</li>\n<li><code>(\\\\1)*</code> followed by zero or more of the same character (uses a backreference).</li>\n<li>then append <code>group(1)</code>, the single character followed by the length of the entire <code>group(0)</code>.</li>\n</ul>\n<pre><code>Matcher matcher = Pattern.compile(&quot;(.)(\\\\1)*&quot;).matcher(s);\nStringBuilder sb = new StringBuilder();\nwhile(matcher.find()) {\n    sb.append(matcher.group(1)).append(matcher.group(0).length());\n}\nSystem.out.println(sb);\n</code></pre>\n<p>prints</p>\n<pre><code>a4b2c4a2d2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694297980,"creation_date":1694297980,"answer_id":77074223,"question_id":77072552,"body_markdown":"You can reduce the iterations, at least, by simply checking for a character change.  \r\nIn your code, you are spawning a new loop, starting at _k_.\r\n\r\nHere is an example.  \r\n\r\n```java\r\nchar[] chars = &quot;aaaabbccccaadd&quot;.toCharArray();\r\nchar c;\r\nStringBuilder s = new StringBuilder();\r\ns.append(c = chars[0]);\r\nint b = 1;\r\nfor (int i = 1, n = chars.length; i &lt; n; i++) {\r\n    if (chars[i] == c) b++;\r\n    else {\r\n        if (b != 1) s.append(b);\r\n        b = 1;\r\n        s.append(c = chars[i]);\r\n    }\r\n}\r\ns.append(b);\r\n```\r\n\r\nYour code will execute the same example string, &quot;aaaabbccccaadd&quot; in _19_ iterations.  \r\nWhereas, this will execute it in _13_.\r\n\r\nI have a few recommendations for your code.\r\n\r\nUtilize variable declaration chains, and append _k_ as a _for-loop_ variable.  \r\nAnd, define a _length_ variable to prevent the loop from calling _word.length_ on every iteration.\r\n\r\n```java\r\nfor(int i = 0, k = 0, n = word.length() ; i &lt; n ; i++)\r\n```\r\n\r\n\r\nAlso, declare _temp_ outside of the _for-loop_, and place _count_ as an additional variable.\r\n\r\n```java\r\nchar temp;\r\nfor(int i = 0, k = 0, n = word.length(), count ; i &lt; n ; i++)\r\n```\r\n\r\nHere is the re-factor.\r\n\r\n```java\r\nString result = &quot;&quot;;\r\nchar temp;\r\nfor(int i = 0, k = 0, n = word.length(), count ; i &lt; n ; i++){\r\n    temp = word.charAt(i);\r\n    result += temp;\r\n    count = 0;\r\n    while(k &lt; n &amp;&amp; word.charAt(k) == temp){\r\n        k++;\r\n        count++;\r\n        temp = word.charAt(i);\r\n    }\r\n    i=k;\r\n    result += count;\r\n}\r\n\r\nreturn result;\r\n```","title":"String occurance of characters for e.g. &quot;aaaabbccccaadd&quot; the answer to be &quot;a4b2c4a2d2&quot;","body":"<p>You can reduce the iterations, at least, by simply checking for a character change.<br />\nIn your code, you are spawning a new loop, starting at <em>k</em>.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[] chars = &quot;aaaabbccccaadd&quot;.toCharArray();\nchar c;\nStringBuilder s = new StringBuilder();\ns.append(c = chars[0]);\nint b = 1;\nfor (int i = 1, n = chars.length; i &lt; n; i++) {\n    if (chars[i] == c) b++;\n    else {\n        if (b != 1) s.append(b);\n        b = 1;\n        s.append(c = chars[i]);\n    }\n}\ns.append(b);\n</code></pre>\n<p>Your code will execute the same example string, &quot;aaaabbccccaadd&quot; in <em>19</em> iterations.<br />\nWhereas, this will execute it in <em>13</em>.</p>\n<p>I have a few recommendations for your code.</p>\n<p>Utilize variable declaration chains, and append <em>k</em> as a <em>for-loop</em> variable.<br />\nAnd, define a <em>length</em> variable to prevent the loop from calling <em>word.length</em> on every iteration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i = 0, k = 0, n = word.length() ; i &lt; n ; i++)\n</code></pre>\n<p>Also, declare <em>temp</em> outside of the <em>for-loop</em>, and place <em>count</em> as an additional variable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char temp;\nfor(int i = 0, k = 0, n = word.length(), count ; i &lt; n ; i++)\n</code></pre>\n<p>Here is the re-factor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = &quot;&quot;;\nchar temp;\nfor(int i = 0, k = 0, n = word.length(), count ; i &lt; n ; i++){\n    temp = word.charAt(i);\n    result += temp;\n    count = 0;\n    while(k &lt; n &amp;&amp; word.charAt(k) == temp){\n        k++;\n        count++;\n        temp = word.charAt(i);\n    }\n    i=k;\n    result += count;\n}\n\nreturn result;\n</code></pre>\n"}],"owner":{"account_id":29402173,"reputation":3,"user_id":22528102,"display_name":"Madhukar H"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77072600,"answer_count":3,"score":-1,"last_activity_date":1694297980,"creation_date":1694267609,"question_id":77072552,"body_markdown":"This question got asked by Monjim interview, I am able to do with brute force with time complexity of o(n2).\r\n\r\n\r\nSolution is -\r\n\r\n    private static String wordCount(String word){\r\n        String result = &quot;&quot;;\r\n        int k = 0;\r\n        for(int i = 0 ; i &lt; word.length() ; i++){\r\n            char temp = word.charAt(i);\r\n            result += temp;\r\n            int count = 0;\r\n            while(k &lt; word.length() &amp;&amp; word.charAt(k) == temp){\r\n                k++;\r\n                count++;\r\n                temp = word.charAt(i);\r\n            }\r\n            i=k;\r\n            result += count;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\nCan anyone help me out with lesser time complexity.....","title":"String occurance of characters for e.g. &quot;aaaabbccccaadd&quot; the answer to be &quot;a4b2c4a2d2&quot;","body":"<p>This question got asked by Monjim interview, I am able to do with brute force with time complexity of o(n2).</p>\n<p>Solution is -</p>\n<pre><code>private static String wordCount(String word){\n    String result = &quot;&quot;;\n    int k = 0;\n    for(int i = 0 ; i &lt; word.length() ; i++){\n        char temp = word.charAt(i);\n        result += temp;\n        int count = 0;\n        while(k &lt; word.length() &amp;&amp; word.charAt(k) == temp){\n            k++;\n            count++;\n            temp = word.charAt(i);\n        }\n        i=k;\n        result += count;\n    }\n\n    return result;\n}\n</code></pre>\n<p>Can anyone help me out with lesser time complexity.....</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":3915122,"reputation":329,"user_id":3239113,"display_name":"Ralph Rimorin"},"score":0,"creation_date":1459405465,"post_id":36325499,"comment_id":60273891,"body_markdown":"Hi @TDHM, can you check this link? https://groups.google.com/forum/#!topic/vertx/tTmv-US-HMI      , you are removing a data from a fix size array. Can you convert the JsonArray to an ArrayList?","body":"Hi @TDHM, can you check this link? <a href=\"https://groups.google.com/forum/#!topic/vertx/tTmv-US-HMI\" rel=\"nofollow noreferrer\">groups.google.com/forum/#!topic/vertx/tTmv-US-HMI</a>      , you are removing a data from a fix size array. Can you convert the JsonArray to an ArrayList?"},{"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"score":0,"creation_date":1459406614,"post_id":36325499,"comment_id":60274464,"body_markdown":"Can you provide the api that you use. i.e Fully qualified name of JSONArray","body":"Can you provide the api that you use. i.e Fully qualified name of JSONArray"}],"answers":[{"tags":[],"owner":{"account_id":4023887,"reputation":2257,"user_id":3313050,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459406589,"creation_date":1459405236,"answer_id":36325610,"question_id":36325499,"body_markdown":"May be Your `JsonElement` or `JSONArray` is null.\r\n\r\n`getJsonObject` returns a `JSONObject`.\r\n the remove method want `int`.\r\n\r\n`UnsupportedOperationException`\r\nif removing is not supported.\r\n\r\nTry This :\r\n\r\n    JSONArray fieldsObject =jsonObject.getJsonArray(&quot;fields&quot;);\r\n    fieldsObject.remove(int index);\r\n\r\n\r\nOR\r\n\r\n    JSONArray result = new JSONArray();\r\n    for(int i=0;i&lt;fieldsObject.length();i++)\r\n    {\r\n       if(i!=2)\r\n       {\r\n        result.put(fieldsObject.get(i)); \r\n       }\r\n    }\r\n\r\nand assign result to original one \r\n\r\n    fieldsObject=result;","title":"Remove json object from json array","body":"<p>May be Your <code>JsonElement</code> or <code>JSONArray</code> is null.</p>\n\n<p><code>getJsonObject</code> returns a <code>JSONObject</code>.\n the remove method want <code>int</code>.</p>\n\n<p><code>UnsupportedOperationException</code>\nif removing is not supported.</p>\n\n<p>Try This :</p>\n\n<pre><code>JSONArray fieldsObject =jsonObject.getJsonArray(\"fields\");\nfieldsObject.remove(int index);\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>JSONArray result = new JSONArray();\nfor(int i=0;i&lt;fieldsObject.length();i++)\n{\n   if(i!=2)\n   {\n    result.put(fieldsObject.get(i)); \n   }\n}\n</code></pre>\n\n<p>and assign result to original one </p>\n\n<pre><code>fieldsObject=result;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3542644,"reputation":3919,"user_id":2959331,"display_name":"Sanj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459406933,"creation_date":1459405729,"answer_id":36325714,"question_id":36325499,"body_markdown":"&gt;  - `gson` library\r\n\r\nRemove works for `gson` library version `2.3.1`\r\n\r\n    public static void main(String[] args) throws Exception {\r\n    \r\n    \t\t\r\n\t\tString s = &quot;{ \\&quot;fields\\&quot; : [ &quot;+\r\n\t\t\t\t&quot; {\\&quot;name\\&quot;:\\&quot;First Name\\&quot;,\\&quot;id\\&quot;:1},&quot;+\r\n\t\t\t\t&quot;{\\&quot;name\\&quot;:\\&quot;Middle Name\\&quot;,\\&quot;id\\&quot;:2},&quot;+\r\n\t\t\t\t&quot;{\\&quot;name\\&quot;:\\&quot;Last Name\\&quot;,\\&quot;id\\&quot;:3}&quot;+\r\n\t\t\t\t&quot;]}&quot;;\r\n    \r\n    \t\tJsonParser parser = new JsonParser();\r\n    \t\tJsonObject json = parser.parse(s).getAsJsonObject();\r\n    \t\tSystem.out.println(&quot;original object:&quot;+json);\r\n    \t\tJsonArray fieldsObject = json.getAsJsonArray(&quot;fields&quot;);\r\n    \t\tSystem.out.println(&quot;Before removal :&quot;+fieldsObject);\r\n    \t\tObject remove = fieldsObject.remove(1);\r\n    \t\tSystem.out.println(&quot;After removal :&quot;+fieldsObject);\r\n    \t}\r\n\r\nOutput:\r\n\r\n       original object:{&quot;fields&quot;:[{&quot;name&quot;:&quot;First Name&quot;,&quot;id&quot;:1},{&quot;name&quot;:&quot;Middle Name&quot;,&quot;id&quot;:2},{&quot;name&quot;:&quot;Last Name&quot;,&quot;id&quot;:3}]}\r\n    Before removal :[{&quot;name&quot;:&quot;First Name&quot;,&quot;id&quot;:1},{&quot;name&quot;:&quot;Middle Name&quot;,&quot;id&quot;:2},{&quot;name&quot;:&quot;Last Name&quot;,&quot;id&quot;:3}]\r\n    After removal :[{&quot;name&quot;:&quot;First Name&quot;,&quot;id&quot;:1},{&quot;name&quot;:&quot;Last Name&quot;,&quot;id&quot;:3}]\r\n\r\n&gt;  - `org.json` library\r\n\r\n Remove works for `org.json` library  \r\n\r\n    public static void main(String[] args) throws Exception {\r\n        \r\n        \t\tString s = &quot;{ \\&quot;fields\\&quot; : [ &quot;+\r\n\t\t\t\t&quot; {\\&quot;name\\&quot;:\\&quot;First Name\\&quot;,\\&quot;id\\&quot;:1},&quot;+\r\n\t\t\t\t&quot;{\\&quot;name\\&quot;:\\&quot;Middle Name\\&quot;,\\&quot;id\\&quot;:2},&quot;+\r\n\t\t\t\t&quot;{\\&quot;name\\&quot;:\\&quot;Last Name\\&quot;,\\&quot;id\\&quot;:3}&quot;+\r\n\t\t\t\t&quot;]}&quot;;\r\n        \t\tJSONObject json = new JSONObject(s);\r\n        \t\tSystem.out.println(&quot;original object:&quot;+json);\r\n        \t\tJSONArray fieldsObject =json.getJSONArray(&quot;fields&quot;);\r\n        \t\tSystem.out.println(&quot;Before removal :&quot;+fieldsObject);\r\n        \t\tObject remove = fieldsObject.remove(1);\r\n        \t\tSystem.out.println(&quot;After removal :&quot;+fieldsObject);\r\n        \t}\r\n\r\nOutput:\r\n\r\n    original object:{&quot;fields&quot;:[{&quot;name&quot;:&quot;First Name&quot;,&quot;id&quot;:1},{&quot;name&quot;:&quot;Middle Name&quot;,&quot;id&quot;:2},{&quot;name&quot;:&quot;Last Name&quot;,&quot;id&quot;:3}]}\r\n    Before removal :[{&quot;name&quot;:&quot;First Name&quot;,&quot;id&quot;:1},{&quot;name&quot;:&quot;Middle Name&quot;,&quot;id&quot;:2},{&quot;name&quot;:&quot;Last Name&quot;,&quot;id&quot;:3}]\r\n    After removal :[{&quot;name&quot;:&quot;First Name&quot;,&quot;id&quot;:1},{&quot;name&quot;:&quot;Last Name&quot;,&quot;id&quot;:3}]\r\n\r\n","title":"Remove json object from json array","body":"<blockquote>\n  <ul>\n  <li><code>gson</code> library</li>\n  </ul>\n</blockquote>\n\n<p>Remove works for <code>gson</code> library version <code>2.3.1</code></p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n\n\n    String s = \"{ \\\"fields\\\" : [ \"+\n            \" {\\\"name\\\":\\\"First Name\\\",\\\"id\\\":1},\"+\n            \"{\\\"name\\\":\\\"Middle Name\\\",\\\"id\\\":2},\"+\n            \"{\\\"name\\\":\\\"Last Name\\\",\\\"id\\\":3}\"+\n            \"]}\";\n\n        JsonParser parser = new JsonParser();\n        JsonObject json = parser.parse(s).getAsJsonObject();\n        System.out.println(\"original object:\"+json);\n        JsonArray fieldsObject = json.getAsJsonArray(\"fields\");\n        System.out.println(\"Before removal :\"+fieldsObject);\n        Object remove = fieldsObject.remove(1);\n        System.out.println(\"After removal :\"+fieldsObject);\n    }\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>   original object:{\"fields\":[{\"name\":\"First Name\",\"id\":1},{\"name\":\"Middle Name\",\"id\":2},{\"name\":\"Last Name\",\"id\":3}]}\nBefore removal :[{\"name\":\"First Name\",\"id\":1},{\"name\":\"Middle Name\",\"id\":2},{\"name\":\"Last Name\",\"id\":3}]\nAfter removal :[{\"name\":\"First Name\",\"id\":1},{\"name\":\"Last Name\",\"id\":3}]\n</code></pre>\n\n<blockquote>\n  <ul>\n  <li><code>org.json</code> library</li>\n  </ul>\n</blockquote>\n\n<p>Remove works for <code>org.json</code> library  </p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n\n            String s = \"{ \\\"fields\\\" : [ \"+\n            \" {\\\"name\\\":\\\"First Name\\\",\\\"id\\\":1},\"+\n            \"{\\\"name\\\":\\\"Middle Name\\\",\\\"id\\\":2},\"+\n            \"{\\\"name\\\":\\\"Last Name\\\",\\\"id\\\":3}\"+\n            \"]}\";\n            JSONObject json = new JSONObject(s);\n            System.out.println(\"original object:\"+json);\n            JSONArray fieldsObject =json.getJSONArray(\"fields\");\n            System.out.println(\"Before removal :\"+fieldsObject);\n            Object remove = fieldsObject.remove(1);\n            System.out.println(\"After removal :\"+fieldsObject);\n        }\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>original object:{\"fields\":[{\"name\":\"First Name\",\"id\":1},{\"name\":\"Middle Name\",\"id\":2},{\"name\":\"Last Name\",\"id\":3}]}\nBefore removal :[{\"name\":\"First Name\",\"id\":1},{\"name\":\"Middle Name\",\"id\":2},{\"name\":\"Last Name\",\"id\":3}]\nAfter removal :[{\"name\":\"First Name\",\"id\":1},{\"name\":\"Last Name\",\"id\":3}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":439098,"reputation":4236,"user_id":4274119,"accept_rate":83,"display_name":"justAbit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459405763,"creation_date":1459405763,"answer_id":36325725,"question_id":36325499,"body_markdown":"You can not remove element from `JsonArray` as it does not support `remove()` method:\r\n\r\n    private static final class JsonArrayImpl extends AbstractList&lt;JsonValue&gt; implements JsonArray {\r\n\r\nAnd `remove()` method&#39;s implementation comes from `AbstractList` :\r\n\r\n    public E remove(int index) {\r\n        throw new UnsupportedOperationException();\r\n    }\r\n\r\nInstead why don&#39;t you create a separate data strucure array or list to hold the objects that you want?\r\n\r\nBy the way, the purpose of using `JsonArray` is to load json data in object form that is why it supports read methods but does not support modifications on the loaded data structure.","title":"Remove json object from json array","body":"<p>You can not remove element from <code>JsonArray</code> as it does not support <code>remove()</code> method:</p>\n\n<pre><code>private static final class JsonArrayImpl extends AbstractList&lt;JsonValue&gt; implements JsonArray {\n</code></pre>\n\n<p>And <code>remove()</code> method's implementation comes from <code>AbstractList</code> :</p>\n\n<pre><code>public E remove(int index) {\n    throw new UnsupportedOperationException();\n}\n</code></pre>\n\n<p>Instead why don't you create a separate data strucure array or list to hold the objects that you want?</p>\n\n<p>By the way, the purpose of using <code>JsonArray</code> is to load json data in object form that is why it supports read methods but does not support modifications on the loaded data structure.</p>\n"},{"tags":[],"owner":{"account_id":3112142,"reputation":474,"user_id":2633702,"display_name":"srinivas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459407488,"creation_date":1459407488,"answer_id":36326244,"question_id":36325499,"body_markdown":"I tried using org.json library as mentioned by Sanj in the above post. We can remove the element from JSONArray as below. I placed the json content in the .txt file and read into the String object for constructing the JSONObject. Please refer the code below.\r\n\r\n    public class App{    \r\n\tpublic static void main(String args[]) throws IOException{    \r\n\r\n\t\tBufferedReader br = new BufferedReader(new FileReader(&quot;json.txt&quot;));\r\n\t\tString jsonContent = &quot;&quot;;\r\n\t\tString jsonLine;\r\n\t\twhile((jsonLine=br.readLine())!=null){\r\n\t\t\tjsonContent+=jsonLine;\r\n\t\t}\r\n\t\tJSONObject jObj = new JSONObject(jsonContent);\r\n\t\tJSONArray jsonArray = jObj.getJSONArray(&quot;fields&quot;);\r\n\t\tjsonArray.remove(1);\r\n\t\tSystem.out.println(jsonArray);\r\n\t}\r\n    }","title":"Remove json object from json array","body":"<p>I tried using org.json library as mentioned by Sanj in the above post. We can remove the element from JSONArray as below. I placed the json content in the .txt file and read into the String object for constructing the JSONObject. Please refer the code below.</p>\n\n<pre><code>public class App{    \npublic static void main(String args[]) throws IOException{    \n\n    BufferedReader br = new BufferedReader(new FileReader(\"json.txt\"));\n    String jsonContent = \"\";\n    String jsonLine;\n    while((jsonLine=br.readLine())!=null){\n        jsonContent+=jsonLine;\n    }\n    JSONObject jObj = new JSONObject(jsonContent);\n    JSONArray jsonArray = jObj.getJSONArray(\"fields\");\n    jsonArray.remove(1);\n    System.out.println(jsonArray);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14274,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1694297225,"creation_date":1459404759,"question_id":36325499,"body_markdown":"I&#39;ve a JsonArray like:\r\n\r\n    &quot;fields&quot; : [\r\n    \t{\r\n    \t  &quot;name&quot;:&quot;First Name&quot;,\r\n          &quot;id&quot;:1\r\n    \t},\r\n    \t{\r\n    \t  &quot;name&quot;:&quot;Middle Name&quot;,\r\n          &quot;id&quot;:2\r\n    \t},\r\n    \t{\r\n    \t  &quot;name&quot;:&quot;Last Name&quot;,\r\n          &quot;id&quot;:3\r\n    \t}\r\n    ]\r\n\r\nI want to remove second JsonObject from above JsonArray. In order to do that I&#39; wrote following code:\r\n\r\n    JsonArray fieldsObject =jsonObject.getJsonArray(&quot;fields&quot;);\r\n    fieldsObject.remove(fieldsObject.getJsonObject(2));\r\n\r\nBut second line throws error: `java.lang.UnsupportedOperationException`\r\n\r\nIs there any way, I can remove JsonObject from a JsonArray?","title":"Remove json object from json array","body":"<p>I've a JsonArray like:</p>\n\n<pre><code>\"fields\" : [\n    {\n      \"name\":\"First Name\",\n      \"id\":1\n    },\n    {\n      \"name\":\"Middle Name\",\n      \"id\":2\n    },\n    {\n      \"name\":\"Last Name\",\n      \"id\":3\n    }\n]\n</code></pre>\n\n<p>I want to remove second JsonObject from above JsonArray. In order to do that I' wrote following code:</p>\n\n<pre><code>JsonArray fieldsObject =jsonObject.getJsonArray(\"fields\");\nfieldsObject.remove(fieldsObject.getJsonObject(2));\n</code></pre>\n\n<p>But second line throws error: <code>java.lang.UnsupportedOperationException</code></p>\n\n<p>Is there any way, I can remove JsonObject from a JsonArray?</p>\n"},{"tags":["java","jakarta-ee","glassfish","derby","payara"],"answers":[{"tags":[],"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694296508,"creation_date":1694296508,"answer_id":77074160,"question_id":76956116,"body_markdown":"Payara doesn’t include Derby driver. You need to add Derby DB JARs into Payara, for example into the lib directory in the domain directory.\r\n\r\nIf you did it, try setting the following parameters to the connection pool:\r\n\r\n\r\nResource type: javax.sql.DataSource\r\n\r\nDatasource classname: org.apache.derby.jdbc.ClientDataSource\r\n\r\nYou can also try Eclipse GlassFish 7, which includes Derby DB, and even uses it for the default connection pool. You can copy the configuration from GlassFish to Payara, as long as you have the correct Derby JARs to Payara too.","title":"Unable to create Derby connection pool in Payara-6 server","body":"<p>Payara doesn’t include Derby driver. You need to add Derby DB JARs into Payara, for example into the lib directory in the domain directory.</p>\n<p>If you did it, try setting the following parameters to the connection pool:</p>\n<p>Resource type: javax.sql.DataSource</p>\n<p>Datasource classname: org.apache.derby.jdbc.ClientDataSource</p>\n<p>You can also try Eclipse GlassFish 7, which includes Derby DB, and even uses it for the default connection pool. You can copy the configuration from GlassFish to Payara, as long as you have the correct Derby JARs to Payara too.</p>\n"}],"owner":{"account_id":4157818,"reputation":1427,"user_id":4233030,"accept_rate":62,"display_name":"Python_user"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694296508,"creation_date":1692729980,"question_id":76956116,"body_markdown":"I am trying to create a Derby connection pool in Payara-6 server. I tried creating it twice: once with vendor &quot;Derby&quot; and once with &quot;Derby-30&quot; (not sure about the differences). These were the following values that I set:\r\n\r\n    Resource Type: java.sql.Driver\r\n    Datasource Classname: &lt;empty&gt;\r\n    Driver classname: org.apache.derby.jdbc.ClientDriver\r\n\r\nI have also set the URL, user, &amp; password for the DB. But, when I try to ping the DB&lt; I get the following error:\r\n[![enter image description here][1]][1]\r\n\r\nI do have the derby jars locally in my machine, but I do not believe that the same is available to the payara server. Please help in debugging the same.\r\n\r\n  [1]: https://i.stack.imgur.com/OQo3Q.png","title":"Unable to create Derby connection pool in Payara-6 server","body":"<p>I am trying to create a Derby connection pool in Payara-6 server. I tried creating it twice: once with vendor &quot;Derby&quot; and once with &quot;Derby-30&quot; (not sure about the differences). These were the following values that I set:</p>\n<pre><code>Resource Type: java.sql.Driver\nDatasource Classname: &lt;empty&gt;\nDriver classname: org.apache.derby.jdbc.ClientDriver\n</code></pre>\n<p>I have also set the URL, user, &amp; password for the DB. But, when I try to ping the DB&lt; I get the following error:\n<a href=\"https://i.stack.imgur.com/OQo3Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OQo3Q.png\" alt=\"enter image description here\" /></a></p>\n<p>I do have the derby jars locally in my machine, but I do not believe that the same is available to the payara server. Please help in debugging the same.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670222704,"post_id":74673260,"comment_id":131817191,"body_markdown":"That was deprecated in Spring Security 5.6 and removed in Spring Security 6, hence not available anymore. Check the documentation. Also (unrelated) your dependencies are a bit of a mess, clean them up. You are also using some wrong dependencies (thymeleaf spring scurity 5 should be for security 6).","body":"That was deprecated in Spring Security 5.6 and removed in Spring Security 6, hence not available anymore. Check the documentation. Also (unrelated) your dependencies are a bit of a mess, clean them up. You are also using some wrong dependencies (thymeleaf spring scurity 5 should be for security 6)."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694296082,"creation_date":1670134698,"answer_id":74673292,"question_id":74673260,"body_markdown":"WebsecurityConfigurerAdapter was removed in Spring-boot 3.\r\n\r\nExpose a `SecurityFilterChain` bean instead (`SecurityWebFilterChain` if your app is reactive).\r\n\r\nOpen [the manual][1] or have look at [those tutorials][2]. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/migration/index.html\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","title":"Spring doesn&#39;t see WebSecurityConfigurerAdapter","body":"<p>WebsecurityConfigurerAdapter was removed in Spring-boot 3.</p>\n<p>Expose a <code>SecurityFilterChain</code> bean instead (<code>SecurityWebFilterChain</code> if your app is reactive).</p>\n<p>Open <a href=\"https://docs.spring.io/spring-security/reference/migration/index.html\" rel=\"nofollow noreferrer\">the manual</a> or have look at <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">those tutorials</a>.</p>\n"},{"tags":[],"owner":{"account_id":20853579,"reputation":338,"user_id":16436722,"display_name":"стасевич"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1670150559,"creation_date":1670147929,"answer_id":74674453,"question_id":74673260,"body_markdown":"Video from Dan Vega:\r\n\r\n[What&#39;s new in Spring Security 6][1]\r\n\r\n\r\nSpring Security: Upgrading the Deprecated `WebSecurityConfigurerAdapter`  \r\nConfigure HTTP Security\r\nMore importantly, if we want to avoid deprecation for HTTP security, we can create a `SecurityFilterChain` bean.\r\n\r\nFor example, suppose we want to secure the endpoints depending on the roles, and leave an anonymous entry point only for login. We&#39;ll also restrict any delete request to an admin role. We&#39;ll use Basic Authentication:\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf()\r\n          .disable()\r\n          .authorizeRequests()\r\n          .antMatchers(HttpMethod.DELETE)\r\n          .hasRole(&quot;ADMIN&quot;)\r\n          .antMatchers(&quot;/admin/**&quot;)\r\n          .hasAnyRole(&quot;ADMIN&quot;)\r\n          .antMatchers(&quot;/user/**&quot;)\r\n          .hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n          .antMatchers(&quot;/login/**&quot;)\r\n          .anonymous()\r\n          .anyRequest()\r\n          .authenticated()\r\n          .and()\r\n          .httpBasic()\r\n          .and()\r\n          .sessionManagement()\r\n          .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \r\n        return http.build();\r\n    }\r\n\r\nThe HTTP security will build a `DefaultSecurityFilterChain` object to load request matchers and filters.  \r\n[spring Security: Upgrading the Deprecated WebSecurityConfigurerAdapter][2]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=TDOHbK39Oxg&amp;list=PLYjyDlouoSEfFogsLh2Y-9KLzJ1xCq078&amp;index=13\r\n  [2]: https://www.baeldung.com/spring-deprecated-websecurityconfigureradapter","title":"Spring doesn&#39;t see WebSecurityConfigurerAdapter","body":"<p>Video from Dan Vega:</p>\n<p><a href=\"https://www.youtube.com/watch?v=TDOHbK39Oxg&amp;list=PLYjyDlouoSEfFogsLh2Y-9KLzJ1xCq078&amp;index=13\" rel=\"nofollow noreferrer\">What's new in Spring Security 6</a></p>\n<p>Spring Security: Upgrading the Deprecated <code>WebSecurityConfigurerAdapter</code><br />\nConfigure HTTP Security\nMore importantly, if we want to avoid deprecation for HTTP security, we can create a <code>SecurityFilterChain</code> bean.</p>\n<p>For example, suppose we want to secure the endpoints depending on the roles, and leave an anonymous entry point only for login. We'll also restrict any delete request to an admin role. We'll use Basic Authentication:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.csrf()\n      .disable()\n      .authorizeRequests()\n      .antMatchers(HttpMethod.DELETE)\n      .hasRole(&quot;ADMIN&quot;)\n      .antMatchers(&quot;/admin/**&quot;)\n      .hasAnyRole(&quot;ADMIN&quot;)\n      .antMatchers(&quot;/user/**&quot;)\n      .hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\n      .antMatchers(&quot;/login/**&quot;)\n      .anonymous()\n      .anyRequest()\n      .authenticated()\n      .and()\n      .httpBasic()\n      .and()\n      .sessionManagement()\n      .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n    return http.build();\n}\n</code></pre>\n<p>The HTTP security will build a <code>DefaultSecurityFilterChain</code> object to load request matchers and filters.<br />\n<a href=\"https://www.baeldung.com/spring-deprecated-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring Security: Upgrading the Deprecated WebSecurityConfigurerAdapter</a></p>\n"}],"owner":{"account_id":23545307,"reputation":33,"user_id":17588867,"display_name":"AllodyUser "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9240,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74674453,"answer_count":2,"score":3,"last_activity_date":1694296082,"creation_date":1670134160,"question_id":74673260,"body_markdown":"I want to create WebSecurityConfig class that extends WebSecurityConfigurerAdapter, but I always get error &quot;Cannot resolve symbol &#39;WebSecurityConfigurerAdapter&#39;&quot;.\r\nI have already tried to add different dependencies. It&#39;s my gradle file\r\n```\r\ndependencies {\r\n    runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n    implementation group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.5.1&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-jpa&#39;, version: &#39;3.0.0&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-rest&#39;, version: &#39;3.0.0&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-tomcat&#39;, version: &#39;3.0.0&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;, version: &#39;3.0.0&#39;\r\n    implementation group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt-api&#39;, version: &#39;0.11.5&#39;\r\n    implementation group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.5.1&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-validation&#39;, version: &#39;3.0.0&#39;\r\n    implementation group: &#39;org.springframework.security&#39;, name: &#39;spring-security-core&#39;, version: &#39;6.0.0&#39;\r\n    implementation group: &#39;org.springframework.security&#39;, name: &#39;spring-security-config&#39;, version: &#39;6.0.0&#39;\r\n    implementation group: &#39;org.springframework.security&#39;, name: &#39;spring-security-web&#39;, version: &#39;6.0.0&#39;\r\n    implementation group: &#39;org.springframework.security&#39;, name: &#39;spring-security-oauth2-jose&#39;, version: &#39;6.0.0&#39;\r\n    implementation group: &#39;org.springframework.security&#39;, name: &#39;spring-security-oauth2-resource-server&#39;, version: &#39;6.0.0&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-security&#39;, version: &#39;3.0.0&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-thymeleaf&#39;, version: &#39;3.0.0&#39;\r\n    implementation group: &#39;org.thymeleaf.extras&#39;, name: &#39;thymeleaf-extras-springsecurity5&#39;, version: &#39;3.1.0.RELEASE&#39;\r\n}\r\n```\r\nMaybe I don&#39;t understand something easy. Can you help me with this,please. \r\nI have already spent 2 days on this\r\n\r\nThere is the same question on stack overflow (https://stackoverflow.com/questions/54177651/cannot-resolve-symbol-websecurityconfigureradapter), but it doesn&#39;t help me.\r\nIt&#39;s my file with WebSecurityConfig class\r\n\r\n```\r\nimport nsu.project.springserver.security.jwt.AuthEntryPointJwt;\r\nimport nsu.project.springserver.security.jwt.AuthTokenFilter;\r\nimport nsu.project.springserver.security.services.UserDetailsServiceImpl;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n....\r\n}\r\n```","title":"Spring doesn&#39;t see WebSecurityConfigurerAdapter","body":"<p>I want to create WebSecurityConfig class that extends WebSecurityConfigurerAdapter, but I always get error &quot;Cannot resolve symbol 'WebSecurityConfigurerAdapter'&quot;.\nI have already tried to add different dependencies. It's my gradle file</p>\n<pre><code>dependencies {\n    runtimeOnly 'org.postgresql:postgresql'\n    implementation group: 'org.postgresql', name: 'postgresql', version: '42.5.1'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-jpa', version: '3.0.0'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-rest', version: '3.0.0'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-tomcat', version: '3.0.0'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '3.0.0'\n    implementation group: 'io.jsonwebtoken', name: 'jjwt-api', version: '0.11.5'\n    implementation group: 'org.postgresql', name: 'postgresql', version: '42.5.1'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-validation', version: '3.0.0'\n    implementation group: 'org.springframework.security', name: 'spring-security-core', version: '6.0.0'\n    implementation group: 'org.springframework.security', name: 'spring-security-config', version: '6.0.0'\n    implementation group: 'org.springframework.security', name: 'spring-security-web', version: '6.0.0'\n    implementation group: 'org.springframework.security', name: 'spring-security-oauth2-jose', version: '6.0.0'\n    implementation group: 'org.springframework.security', name: 'spring-security-oauth2-resource-server', version: '6.0.0'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-security', version: '3.0.0'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-thymeleaf', version: '3.0.0'\n    implementation group: 'org.thymeleaf.extras', name: 'thymeleaf-extras-springsecurity5', version: '3.1.0.RELEASE'\n}\n</code></pre>\n<p>Maybe I don't understand something easy. Can you help me with this,please.\nI have already spent 2 days on this</p>\n<p>There is the same question on stack overflow (<a href=\"https://stackoverflow.com/questions/54177651/cannot-resolve-symbol-websecurityconfigureradapter\">Cannot resolve symbol WebSecurityConfigurerAdapter</a>), but it doesn't help me.\nIt's my file with WebSecurityConfig class</p>\n<pre><code>import nsu.project.springserver.security.jwt.AuthEntryPointJwt;\nimport nsu.project.springserver.security.jwt.AuthTokenFilter;\nimport nsu.project.springserver.security.services.UserDetailsServiceImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n....\n}\n</code></pre>\n"},{"tags":["java","encryption","rsa","padding","public-key-encryption"],"comments":[{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1464026224,"post_id":37396855,"comment_id":62303610,"body_markdown":"There are a lot of examples out there. What&#39;s the problem you&#39;re having? Don&#39;t forget to encode the ciphertext with base64 or hex if you want to have it in a string.","body":"There are a lot of examples out there. What&#39;s the problem you&#39;re having? Don&#39;t forget to encode the ciphertext with base64 or hex if you want to have it in a string."},{"owner":{"account_id":203680,"reputation":112068,"user_id":451475,"accept_rate":100,"display_name":"zaph"},"score":0,"creation_date":1464029913,"post_id":37396855,"comment_id":62305552,"body_markdown":"The results will be essentially random byte and not all such bytes are a valid UTF-8 encoding. If you need UTF-8 you need to use an encoding on the random output, Base64 and Hexadecimal are commonly used.","body":"The results will be essentially random byte and not all such bytes are a valid UTF-8 encoding. If you need UTF-8 you need to use an encoding on the random output, Base64 and Hexadecimal are commonly used."}],"answers":[{"tags":[],"owner":{"account_id":6644784,"reputation":79,"user_id":5129339,"display_name":"venture"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1464036731,"creation_date":1464026335,"answer_id":37397545,"question_id":37396855,"body_markdown":"Assuming you&#39;re using a valid RSA key, you&#39;ll need to:\r\n\r\n1. Convert your public key from a string to an actual public key object\r\n        \r\n        //This code is incorrect. You&#39;ll need bouncy castle for PKCS1\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        byte[] keyBytes = Base64().getDecoder.decode(publicKey.getBytes()); //assuming base64 encoded key\r\n        PKCS1EncodedKeySpec KeySpec = new PKCS1EncodedKeySpec(keyBytes);\r\n        RSAPublicKey publicKey = (RSAPublicKey)keyFactory.generatePublic(KeySpec);\r\n\r\n2. Get the bytes of your plain text\r\n3. Encrypt using your public key\r\n4. Encode to a readable format. \r\n\r\nCheck out this answer for steps 1-3: [RSA Encrypt/Decrypt in Java][1]. Remember to use the correct algorithm spec, in your case PKCS1\r\n\r\nChances are your cipher text will not use only UTF-8 characters so you&#39;ll probably want to use Base 64 encoded text to display your cipher text. Base 64 is able to display all those wonky characters as ascii values.\r\n\r\nSimply use: `Base64.getEncoder().encodeToString(cipherTextBytes)`\r\n\r\n  [1]: https://stackoverflow.com/a/23795194/5129339","title":"How to encode a text with rsa/ecb/pkcs1 padding mode with a given public key in java?","body":"<p>Assuming you're using a valid RSA key, you'll need to:</p>\n\n<ol>\n<li><p>Convert your public key from a string to an actual public key object</p>\n\n<pre><code>//This code is incorrect. You'll need bouncy castle for PKCS1\nKeyFactory keyFactory = KeyFactory.getInstance(\"RSA\");\nbyte[] keyBytes = Base64().getDecoder.decode(publicKey.getBytes()); //assuming base64 encoded key\nPKCS1EncodedKeySpec KeySpec = new PKCS1EncodedKeySpec(keyBytes);\nRSAPublicKey publicKey = (RSAPublicKey)keyFactory.generatePublic(KeySpec);\n</code></pre></li>\n<li><p>Get the bytes of your plain text</p></li>\n<li>Encrypt using your public key</li>\n<li>Encode to a readable format. </li>\n</ol>\n\n<p>Check out this answer for steps 1-3: <a href=\"https://stackoverflow.com/a/23795194/5129339\">RSA Encrypt/Decrypt in Java</a>. Remember to use the correct algorithm spec, in your case PKCS1</p>\n\n<p>Chances are your cipher text will not use only UTF-8 characters so you'll probably want to use Base 64 encoded text to display your cipher text. Base 64 is able to display all those wonky characters as ascii values.</p>\n\n<p>Simply use: <code>Base64.getEncoder().encodeToString(cipherTextBytes)</code></p>\n"},{"tags":[],"owner":{"account_id":8464744,"reputation":43,"user_id":6349207,"accept_rate":60,"display_name":"Marzo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464041975,"creation_date":1464041975,"answer_id":37401465,"question_id":37396855,"body_markdown":"i have done this code: \r\n\r\n            String pub = &quot;MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA4IJZLsjlx+o4RSvafaAcReoNnzrI0UXu7kZyXPe31ql32X9AvhC6QQIUmLkr1Evm0zP/SgVG9YX3DSqBUgPo04iv1I1/wNKwAf1/uH9EiiqdpczefyxxnzJiKUTcx2/4mA4E4QxCIL5JsZb78WoYZrd2kToW/WD01MnSFiCgSyjGdd812GY2EVzfvlv8kYuti3icMUyitEfHhtw8cAWI6/nVrRPNs0e5NsvtZJ0nfrXsfQDR0C7+ivQK+fQabi8oRGsbTZceAvVlqVE669zoIwIFLcB+eYXTxbka4E7veUMpaF9w//HdwVS2y/2jJiI+16qPStQQPIKQ4Cucoif7/UHfIBuVGVJ5MIVyK7NC7TV/lyoXmyo7ZcnVZnI7rZcw5/qZcqaZ0VCrzvHijwTK7100hOOjiarvRa2OJGXHLIeAUlbrHOXEXS6ah2glPhLDEg6Qzp/lKVSISolal7q73qyhF483P9jXn3hefSLA9J1/1LgeajWvuVkxuw+dy2Tlv7oUpNBkX47/TOho5qttr1y9K3hD5Q87RAJPdBtFdDbY8qUPxoiBsTbUWjVoEjJf2YAsLTJIIi2ZISkbD/VdrtZnS73QSJkJReOMNT9XYNGDJvwNIrRcNGFKlJcX6qq+ozGNsDkrt0ObxAD7YCTjAYQVTlbQOaTu5DbGxGDNCoMCAwEAAQ==&quot;;\r\n\t    \t \r\n\t    \tKeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\t    \tbyte[] keyBytes = Base64.getDecoder().decode(pub.getBytes(&quot;UTF-8&quot;));  \r\n\t    \tPKCS1EncodedKeySpec KeySpec = new PKCS1EncodedKeySpec(keyBytes);\r\n\t    \tRSAPublicKey publicKey = (RSAPublicKey)keyFactory.generatePublic((java.security.spec.KeySpec) KeySpec);\r\n\t    \t\r\n\t    \tCipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n\t    \tcipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n             \r\n\t    \tbyte[] cipherData = cipher.doFinal(text.getBytes(&quot;UTF-8&quot;));\r\n\t    \t\r\n\t    \t\r\n\t        return cipherData;\r\n\r\n\r\nBut it doesnot work.. \r\nit is said that Invalid DER: object is not integer","title":"How to encode a text with rsa/ecb/pkcs1 padding mode with a given public key in java?","body":"<p>i have done this code: </p>\n\n<pre><code>        String pub = \"MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA4IJZLsjlx+o4RSvafaAcReoNnzrI0UXu7kZyXPe31ql32X9AvhC6QQIUmLkr1Evm0zP/SgVG9YX3DSqBUgPo04iv1I1/wNKwAf1/uH9EiiqdpczefyxxnzJiKUTcx2/4mA4E4QxCIL5JsZb78WoYZrd2kToW/WD01MnSFiCgSyjGdd812GY2EVzfvlv8kYuti3icMUyitEfHhtw8cAWI6/nVrRPNs0e5NsvtZJ0nfrXsfQDR0C7+ivQK+fQabi8oRGsbTZceAvVlqVE669zoIwIFLcB+eYXTxbka4E7veUMpaF9w//HdwVS2y/2jJiI+16qPStQQPIKQ4Cucoif7/UHfIBuVGVJ5MIVyK7NC7TV/lyoXmyo7ZcnVZnI7rZcw5/qZcqaZ0VCrzvHijwTK7100hOOjiarvRa2OJGXHLIeAUlbrHOXEXS6ah2glPhLDEg6Qzp/lKVSISolal7q73qyhF483P9jXn3hefSLA9J1/1LgeajWvuVkxuw+dy2Tlv7oUpNBkX47/TOho5qttr1y9K3hD5Q87RAJPdBtFdDbY8qUPxoiBsTbUWjVoEjJf2YAsLTJIIi2ZISkbD/VdrtZnS73QSJkJReOMNT9XYNGDJvwNIrRcNGFKlJcX6qq+ozGNsDkrt0ObxAD7YCTjAYQVTlbQOaTu5DbGxGDNCoMCAwEAAQ==\";\n\n        KeyFactory keyFactory = KeyFactory.getInstance(\"RSA\");\n        byte[] keyBytes = Base64.getDecoder().decode(pub.getBytes(\"UTF-8\"));  \n        PKCS1EncodedKeySpec KeySpec = new PKCS1EncodedKeySpec(keyBytes);\n        RSAPublicKey publicKey = (RSAPublicKey)keyFactory.generatePublic((java.security.spec.KeySpec) KeySpec);\n\n        Cipher cipher = Cipher.getInstance(\"RSA/ECB/PKCS1Padding\");\n        cipher.init(Cipher.ENCRYPT_MODE, publicKey);\n\n        byte[] cipherData = cipher.doFinal(text.getBytes(\"UTF-8\"));\n\n\n        return cipherData;\n</code></pre>\n\n<p>But it doesnot work.. \nit is said that Invalid DER: object is not integer</p>\n"},{"tags":[],"owner":{"account_id":14622806,"reputation":55,"user_id":10560942,"display_name":"Shubhankar Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694295913,"creation_date":1694295913,"answer_id":77074145,"question_id":37396855,"body_markdown":"For someone still looking for a solution:\r\n\r\n````\r\nString pub = &quot;MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA4IJZLsjlx+o4RSvafaAcReoNnzrI0UXu7kZyXPe31ql32X9AvhC6QQIUmLkr1Evm0zP/SgVG9YX3DSqBUgPo04iv1I1/wNKwAf1/uH9EiiqdpczefyxxnzJiKUTcx2/4mA4E4QxCIL5JsZb78WoYZrd2kToW/WD01MnSFiCgSyjGdd812GY2EVzfvlv8kYuti3icMUyitEfHhtw8cAWI6/nVrRPNs0e5NsvtZJ0nfrXsfQDR0C7+ivQK+fQabi8oRGsbTZceAvVlqVE669zoIwIFLcB+eYXTxbka4E7veUMpaF9w//HdwVS2y/2jJiI+16qPStQQPIKQ4Cucoif7/UHfIBuVGVJ5MIVyK7NC7TV/lyoXmyo7ZcnVZnI7rZcw5/qZcqaZ0VCrzvHijwTK7100hOOjiarvRa2OJGXHLIeAUlbrHOXEXS6ah2glPhLDEg6Qzp/lKVSISolal7q73qyhF483P9jXn3hefSLA9J1/1LgeajWvuVkxuw+dy2Tlv7oUpNBkX47/TOho5qttr1y9K3hD5Q87RAJPdBtFdDbY8qUPxoiBsTbUWjVoEjJf2YAsLTJIIi2ZISkbD/VdrtZnS73QSJkJReOMNT9XYNGDJvwNIrRcNGFKlJcX6qq+ozGNsDkrt0ObxAD7YCTjAYQVTlbQOaTu5DbGxGDNCoMCAwEAAQ==&quot;;\r\nCipher cipher= Cipher.getInstance(&quot;RSA&quot;);\r\nKeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\nX509EncodedKeySpec keySpec = new X509EncodedKeySpec(Base64.getDecoder().decode(publicKey));\r\nPublicKey pb = kf.generatePublic(keySpec);\r\ncipher.init(Cipher.ENCRYPT_MODE,pb);\r\nbyte[] output = cipher.doFinal(input.getBytes());\r\n````\r\n","title":"How to encode a text with rsa/ecb/pkcs1 padding mode with a given public key in java?","body":"<p>For someone still looking for a solution:</p>\n<pre><code>String pub = &quot;MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA4IJZLsjlx+o4RSvafaAcReoNnzrI0UXu7kZyXPe31ql32X9AvhC6QQIUmLkr1Evm0zP/SgVG9YX3DSqBUgPo04iv1I1/wNKwAf1/uH9EiiqdpczefyxxnzJiKUTcx2/4mA4E4QxCIL5JsZb78WoYZrd2kToW/WD01MnSFiCgSyjGdd812GY2EVzfvlv8kYuti3icMUyitEfHhtw8cAWI6/nVrRPNs0e5NsvtZJ0nfrXsfQDR0C7+ivQK+fQabi8oRGsbTZceAvVlqVE669zoIwIFLcB+eYXTxbka4E7veUMpaF9w//HdwVS2y/2jJiI+16qPStQQPIKQ4Cucoif7/UHfIBuVGVJ5MIVyK7NC7TV/lyoXmyo7ZcnVZnI7rZcw5/qZcqaZ0VCrzvHijwTK7100hOOjiarvRa2OJGXHLIeAUlbrHOXEXS6ah2glPhLDEg6Qzp/lKVSISolal7q73qyhF483P9jXn3hefSLA9J1/1LgeajWvuVkxuw+dy2Tlv7oUpNBkX47/TOho5qttr1y9K3hD5Q87RAJPdBtFdDbY8qUPxoiBsTbUWjVoEjJf2YAsLTJIIi2ZISkbD/VdrtZnS73QSJkJReOMNT9XYNGDJvwNIrRcNGFKlJcX6qq+ozGNsDkrt0ObxAD7YCTjAYQVTlbQOaTu5DbGxGDNCoMCAwEAAQ==&quot;;\nCipher cipher= Cipher.getInstance(&quot;RSA&quot;);\nKeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\nX509EncodedKeySpec keySpec = new X509EncodedKeySpec(Base64.getDecoder().decode(publicKey));\nPublicKey pb = kf.generatePublic(keySpec);\ncipher.init(Cipher.ENCRYPT_MODE,pb);\nbyte[] output = cipher.doFinal(input.getBytes());\n</code></pre>\n"}],"owner":{"account_id":8464744,"reputation":43,"user_id":6349207,"accept_rate":60,"display_name":"Marzo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14034,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37397545,"answer_count":3,"score":1,"last_activity_date":1694295913,"creation_date":1464023678,"question_id":37396855,"body_markdown":"I want to encode a string with rsa/ecb/pkcs1 padding mode with a given public key (the public key is a string) in java.\r\n\r\nI also want to present the results in UTF-8 Format \r\nhow to do it?","title":"How to encode a text with rsa/ecb/pkcs1 padding mode with a given public key in java?","body":"<p>I want to encode a string with rsa/ecb/pkcs1 padding mode with a given public key (the public key is a string) in java.</p>\n\n<p>I also want to present the results in UTF-8 Format \nhow to do it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1694274966,"post_id":77072968,"comment_id":135871333,"body_markdown":"`OutputStream` is for bytes, `Writer` is for characters.  Just writing an `int` wouldn&#39;t work; it&#39;s going to output each byte as its own char rather than combining the two bytes.","body":"<code>OutputStream</code> is for bytes, <code>Writer</code> is for characters.  Just writing an <code>int</code> wouldn&#39;t work; it&#39;s going to output each byte as its own char rather than combining the two bytes."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1694275607,"post_id":77072968,"comment_id":135871394,"body_markdown":"Use [this ctor](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#%3Cinit%3E(java.io.OutputStream,boolean,java.nio.charset.Charset))","body":"Use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#%3Cinit%3E(java.io.OutputStream,boolean,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\">this ctor</a>"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1694277787,"post_id":77072968,"comment_id":135871616,"body_markdown":"BTW `&quot;&#176;&quot;.getBytes()` results in `[-62, -80]` (aka `[0xC2, 0xB0]`) as UTF-8 is probably the used enccoding and `\\u00B0` is encoded by that bytes - [Wikipedia]: &quot;The first 128 code points (ASCII) need one byte. The next 1,920 code points need two bytes to encode, ...&quot;","body":"BTW <code>&quot;&#176;&quot;.getBytes()</code> results in <code>[-62, -80]</code> (aka <code>[0xC2, 0xB0]</code>) as UTF-8 is probably the used enccoding and <code>\\u00B0</code> is encoded by that bytes - [Wikipedia]: &quot;The first 128 code points (ASCII) need one byte. The next 1,920 code points need two bytes to encode, ...&quot;"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1694288212,"post_id":77072968,"comment_id":135872641,"body_markdown":"By the way, `char` is physically incapable of representing most characters. Make a habit of using Unicode [code point](https://en.wikipedia.org/wiki/Code_point) integer numbers instead: `Character.toString( b )`. For [DEGREE SIGN](https://www.fileformat.info/info/unicode/char/b0/index.htm), `Character.toString( 176 )`. See that code run [at Ideone.com](https://ideone.com/yJai53).","body":"By the way, <code>char</code> is physically incapable of representing most characters. Make a habit of using Unicode <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers instead: <code>Character.toString( b )</code>. For <a href=\"https://www.fileformat.info/info/unicode/char/b0/index.htm\" rel=\"nofollow noreferrer\">DEGREE SIGN</a>, <code>Character.toString( 176 )</code>. See that code run <a href=\"https://ideone.com/yJai53\" rel=\"nofollow noreferrer\">at Ideone.com</a>."},{"owner":{"account_id":2656033,"reputation":47,"user_id":2296720,"accept_rate":100,"display_name":"FreackH"},"score":0,"creation_date":1694293995,"post_id":77072968,"comment_id":135873173,"body_markdown":"Thanks all for pointing me in the right direction, indeed I was trying to write characters using a byte stream, so any integer not fitting within the byte type was getting split. I managed to get a working solution using Charset decoder and a ByteBuffer, will post it below.","body":"Thanks all for pointing me in the right direction, indeed I was trying to write characters using a byte stream, so any integer not fitting within the byte type was getting split. I managed to get a working solution using Charset decoder and a ByteBuffer, will post it below."}],"answers":[{"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694287945,"creation_date":1694276852,"answer_id":77073087,"question_id":77072968,"body_markdown":"I think you must specify the character encoding when creating the `PrintStream`, because when you append the value of `(char) b` to the `jTextArea1`, it assumes the default character encoding of your system and not be able to display certain characters properly!\r\n\r\nFor the [`PrintStream` constructor][1], pass the parameter for [`Charset`][2], such as [`StandardCharsets.UTF_8`][3].\r\n\r\n    System.setOut(new PrintStream(new StdOutput(), true, StandardCharsets.UTF_8));\r\n    \r\n    class StdOutput extends OutputStream {\r\n        @Override\r\n        public void write(int b) throws IOException {\r\n            jTextArea1.append(String.valueOf((char) b));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#%3Cinit%3E(java.io.OutputStream,boolean,java.nio.charset.Charset)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/Charset.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/StandardCharsets.html#UTF_8","title":"Write Unicode characters to &amp; from standard output stream","body":"<p>I think you must specify the character encoding when creating the <code>PrintStream</code>, because when you append the value of <code>(char) b</code> to the <code>jTextArea1</code>, it assumes the default character encoding of your system and not be able to display certain characters properly!</p>\n<p>For the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#%3Cinit%3E(java.io.OutputStream,boolean,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\"><code>PrintStream</code> constructor</a>, pass the parameter for <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\"><code>Charset</code></a>, such as <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/StandardCharsets.html#UTF_8\" rel=\"nofollow noreferrer\"><code>StandardCharsets.UTF_8</code></a>.</p>\n<pre><code>System.setOut(new PrintStream(new StdOutput(), true, StandardCharsets.UTF_8));\n\nclass StdOutput extends OutputStream {\n    @Override\n    public void write(int b) throws IOException {\n        jTextArea1.append(String.valueOf((char) b));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2656033,"reputation":47,"user_id":2296720,"accept_rate":100,"display_name":"FreackH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694294831,"creation_date":1694294831,"answer_id":77074092,"question_id":77072968,"body_markdown":"Thanks to the people who commented on my original post, I came up with something that works for my situation:\r\n\r\n        bb = ByteBuffer.allocateDirect(500);\r\n        cs = Charset.forName(&quot;UTF-8&quot;);\r\n        dc = cs.newDecoder();\r\n\r\n        System.setOut(new PrintStream(new StdOutput(), true));\r\n\r\n    class StdOutput extends OutputStream {\r\n        @Override\r\n        public void write(int b) throws IOException {\r\n            if (b == &#39;\\n&#39;) {\r\n                bb.put((byte)&#39;\\n&#39;);\r\n                bb.rewind();\r\n                jTextArea1.append(dc.decode(bb).toString());\r\n                bb = ByteBuffer.allocateDirect(500);\r\n            } else {\r\n                bb.put((byte) b);\r\n            }\r\n        }\r\n    }\r\n\r\nObviously that is pretty clumsy and only works for my locale and if I put a single string of a known length per write call, so if anyone can suggest a more elegant solution for writing characters to the standard output stream - I would highly appreciate it!","title":"Write Unicode characters to &amp; from standard output stream","body":"<p>Thanks to the people who commented on my original post, I came up with something that works for my situation:</p>\n<pre><code>    bb = ByteBuffer.allocateDirect(500);\n    cs = Charset.forName(&quot;UTF-8&quot;);\n    dc = cs.newDecoder();\n\n    System.setOut(new PrintStream(new StdOutput(), true));\n\nclass StdOutput extends OutputStream {\n    @Override\n    public void write(int b) throws IOException {\n        if (b == '\\n') {\n            bb.put((byte)'\\n');\n            bb.rewind();\n            jTextArea1.append(dc.decode(bb).toString());\n            bb = ByteBuffer.allocateDirect(500);\n        } else {\n            bb.put((byte) b);\n        }\n    }\n}\n</code></pre>\n<p>Obviously that is pretty clumsy and only works for my locale and if I put a single string of a known length per write call, so if anyone can suggest a more elegant solution for writing characters to the standard output stream - I would highly appreciate it!</p>\n"}],"owner":{"account_id":2656033,"reputation":47,"user_id":2296720,"accept_rate":100,"display_name":"FreackH"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694294831,"creation_date":1694274770,"question_id":77072968,"body_markdown":"I need to reassign the standard output stream to a jTextArea, which I did as follows:\r\n\r\n        System.setOut(new PrintStream(new StdOutput()));\r\n    \r\n        class StdOutput extends OutputStream {\r\n            @Override\r\n            public void write(int b) throws IOException {\r\n                jTextArea1.append(String.valueOf((char) b));\r\n            }\r\n        }\r\n\r\nHowever, I have some special characters written to the stream but they don&#39;t get displayed properly - e.g. a degree sign comes out as two chineese characters.\r\n\r\nI thought this may have to do with the width of the `char` type and truncating the `int` type to 16 bits, so not all special characters will be displayed properly. However, the degree sign is only `0x00B0` so it should fit well within a `char`. What I get instead of `0x00B0` is two characters - `0xFFC2` &amp; `0xFFB0`.\r\n\r\nI also tried masking `b` with `0xFFFFFFFF` and assigning different encodings to the `PrintStream` instance, but had no success. What am I missing?","title":"Write Unicode characters to &amp; from standard output stream","body":"<p>I need to reassign the standard output stream to a jTextArea, which I did as follows:</p>\n<pre><code>    System.setOut(new PrintStream(new StdOutput()));\n\n    class StdOutput extends OutputStream {\n        @Override\n        public void write(int b) throws IOException {\n            jTextArea1.append(String.valueOf((char) b));\n        }\n    }\n</code></pre>\n<p>However, I have some special characters written to the stream but they don't get displayed properly - e.g. a degree sign comes out as two chineese characters.</p>\n<p>I thought this may have to do with the width of the <code>char</code> type and truncating the <code>int</code> type to 16 bits, so not all special characters will be displayed properly. However, the degree sign is only <code>0x00B0</code> so it should fit well within a <code>char</code>. What I get instead of <code>0x00B0</code> is two characters - <code>0xFFC2</code> &amp; <code>0xFFB0</code>.</p>\n<p>I also tried masking <code>b</code> with <code>0xFFFFFFFF</code> and assigning different encodings to the <code>PrintStream</code> instance, but had no success. What am I missing?</p>\n"},{"tags":["java","ant","saxon"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1649665083,"post_id":71822203,"comment_id":126924367,"body_markdown":"Is the problem specific to use of &#39;-?&#39; or does it occur with other arguments? The stack trace suggests a failure by Ant to load Saxon, which would happen irrespective of the actual arguments.","body":"Is the problem specific to use of &#39;-?&#39; or does it occur with other arguments? The stack trace suggests a failure by Ant to load Saxon, which would happen irrespective of the actual arguments."},{"owner":{"account_id":2029617,"reputation":322,"user_id":1813708,"accept_rate":43,"display_name":"John Carlson"},"score":0,"creation_date":1650248939,"post_id":71822203,"comment_id":127064905,"body_markdown":"I think that ant under OpenJDK 18 may be the issue.  I’ve had to add xmlresolver jars in other places, which helped Saxon work.   Right now, I just comment out the -? and deal with it that way.","body":"I think that ant under OpenJDK 18 may be the issue.  I’ve had to add xmlresolver jars in other places, which helped Saxon work.   Right now, I just comment out the -? and deal with it that way."},{"owner":{"account_id":2029617,"reputation":322,"user_id":1813708,"accept_rate":43,"display_name":"John Carlson"},"score":0,"creation_date":1689970969,"post_id":71822203,"comment_id":135293224,"body_markdown":"It&#39;s a check in ant to make sure that saxon is working.\n\nThis code doesn&#39;t break the build.xml:\n\n        &lt;java classname=&quot;net.sf.saxon.Transform&quot; classpath=&quot;${saxon.dir}/${saxon.jar};${saxon.dir}/${xmlresolver.jar};.&quot; failonerror=&quot;true&quot; fork=&quot;${fork}&quot;&gt;\n            &lt;arg value=&quot;-?&quot; description=&quot;help information&quot;/&gt;\n        &lt;/java&gt;","body":"It&#39;s a check in ant to make sure that saxon is working.  This code doesn&#39;t break the build.xml:          &lt;java classname=&quot;net.sf.saxon.Transform&quot; classpath=&quot;${saxon.dir}/${saxon.jar};${saxon.dir}/${xmlresol&zwnj;&#8203;ver.jar};.&quot; failonerror=&quot;true&quot; fork=&quot;${fork}&quot;&gt;             &lt;arg value=&quot;-?&quot; description=&quot;help information&quot;/&gt;         &lt;/java&gt;"}],"answers":[{"tags":[],"owner":{"account_id":18223968,"reputation":796,"user_id":13264143,"display_name":"John Glen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694294616,"creation_date":1694294616,"answer_id":77074086,"question_id":71822203,"body_markdown":"Found the same bug on Windows 10 with Java 20, and the solution was to add fork=&quot;yes&quot; to the java command. It has been an issue since Java 18 that has never been fixed as of the date of this posting.","title":"Need help getting ant saxon Transform &#39;-?&#39; working","body":"<p>Found the same bug on Windows 10 with Java 20, and the solution was to add fork=&quot;yes&quot; to the java command. It has been an issue since Java 18 that has never been fixed as of the date of this posting.</p>\n"}],"owner":{"account_id":2029617,"reputation":322,"user_id":1813708,"accept_rate":43,"display_name":"John Carlson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77074086,"answer_count":1,"score":0,"last_activity_date":1694294616,"creation_date":1649645233,"question_id":71822203,"body_markdown":"I am having issues running a saxon programs with ant using the -? arg.  This fails on Linux (flavors of Ubuntu) and Windows 10 in my experience.\r\n\r\nHere&#39;s the code that fails in build.xml:\r\n\r\n```\r\n &lt;java classname=&quot;net.sf.saxon.Transform&quot; classpath=&quot;${saxon.dir}/${saxon.jar};.&quot; failonerror=&quot;true&quot;&gt;\r\n            &lt;arg value=&quot;-?&quot; description=&quot;help information&quot;/&gt;\r\n        &lt;/java&gt;\r\n```\r\nNote that this seems to work:\r\n```\r\n$ java -cp &quot;java/lib/saxon-he-11.2.jar;java/lib/xmlresolver-4.2.0.jar;java/lib/xmlresolver-4.2.0-data.jar&quot; net.sf.saxon.\r\nTransform &#39;-?&#39;\r\nSaxonJ-HE 11.2 from Saxonica\r\nUsage: see http://www.saxonica.com/documentation/index.html#!using-xsl/commandline\r\nFormat: net.sf.saxon.Transform options params\r\nOptions available: -? -a -catalog -config -cr -diag -dtd -ea -expand -explain -export -ext -im -init -it -jit -json -l -lib -license -nogo -now -ns -o -opt -or -outval -p -quit -r -relocate -repeat -s -sa -scmin -strip -t -T -target -TB -threads -TJ -Tlevel -Tout -TP -traceout -tree -u -val -versionmsg -warnings -x -xi -xmlversion -xsd -xsdversion -xsiloc -xsl -y --?\r\nUse -XYZ:? for details of option XYZ\r\nParams:\r\n  param=value           Set stylesheet string parameter\r\n  +param=filename       Set stylesheet document parameter\r\n  ?param=expression     Set stylesheet parameter using XPath\r\n  !param=value          Set serialization parameter\r\n```\r\nA typical stacktrace looks like this:\r\n```\r\nBUILD FAILED\r\nC:\\x3d-code\\www.web3d.org\\x3d\\stylesheets\\build.xml:364: The following error occurred while executing this line:\r\nC:\\x3d-code\\www.web3d.org\\x3d\\stylesheets\\build.xml:164: java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release\r\n        at java.base/java.lang.System.setSecurityManager(System.java:416)\r\n        at org.apache.tools.ant.types.Permissions.setSecurityManager(Permissions.java:103)\r\n        at org.apache.tools.ant.taskdefs.ExecuteJava.run(ExecuteJava.java:216)\r\n        at org.apache.tools.ant.taskdefs.ExecuteJava.execute(ExecuteJava.java:155)\r\n        at org.apache.tools.ant.taskdefs.Java.run(Java.java:891)\r\n        at org.apache.tools.ant.taskdefs.Java.executeJava(Java.java:231)\r\n        at org.apache.tools.ant.taskdefs.Java.executeJava(Java.java:135)\r\n        at org.apache.tools.ant.taskdefs.Java.execute(Java.java:108)\r\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n        at org.apache.tools.ant.Task.perform(Task.java:350)\r\n        at org.apache.tools.ant.Target.execute(Target.java:449)\r\n        at org.apache.tools.ant.Target.performTasks(Target.java:470)\r\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\r\n        at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:36)\r\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1264)\r\n        at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:437)\r\n        at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:106)\r\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n        at org.apache.tools.ant.Task.perform(Task.java:350)\r\n        at org.apache.tools.ant.Target.execute(Target.java:449)\r\n        at org.apache.tools.ant.Target.performTasks(Target.java:470)\r\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\r\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1374)\r\n        at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\r\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1264)\r\n        at org.apache.tools.ant.Main.runBuild(Main.java:818)\r\n        at org.apache.tools.ant.Main.startAnt(Main.java:223)\r\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:284)\r\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:101)\r\n\r\nTotal time: 0 seconds\r\n```\r\n\r\nIt would be cool if someone could come up with the appropriate ant configuration or syntax to make this work.","title":"Need help getting ant saxon Transform &#39;-?&#39; working","body":"<p>I am having issues running a saxon programs with ant using the -? arg.  This fails on Linux (flavors of Ubuntu) and Windows 10 in my experience.</p>\n<p>Here's the code that fails in build.xml:</p>\n<pre><code> &lt;java classname=&quot;net.sf.saxon.Transform&quot; classpath=&quot;${saxon.dir}/${saxon.jar};.&quot; failonerror=&quot;true&quot;&gt;\n            &lt;arg value=&quot;-?&quot; description=&quot;help information&quot;/&gt;\n        &lt;/java&gt;\n</code></pre>\n<p>Note that this seems to work:</p>\n<pre><code>$ java -cp &quot;java/lib/saxon-he-11.2.jar;java/lib/xmlresolver-4.2.0.jar;java/lib/xmlresolver-4.2.0-data.jar&quot; net.sf.saxon.\nTransform '-?'\nSaxonJ-HE 11.2 from Saxonica\nUsage: see http://www.saxonica.com/documentation/index.html#!using-xsl/commandline\nFormat: net.sf.saxon.Transform options params\nOptions available: -? -a -catalog -config -cr -diag -dtd -ea -expand -explain -export -ext -im -init -it -jit -json -l -lib -license -nogo -now -ns -o -opt -or -outval -p -quit -r -relocate -repeat -s -sa -scmin -strip -t -T -target -TB -threads -TJ -Tlevel -Tout -TP -traceout -tree -u -val -versionmsg -warnings -x -xi -xmlversion -xsd -xsdversion -xsiloc -xsl -y --?\nUse -XYZ:? for details of option XYZ\nParams:\n  param=value           Set stylesheet string parameter\n  +param=filename       Set stylesheet document parameter\n  ?param=expression     Set stylesheet parameter using XPath\n  !param=value          Set serialization parameter\n</code></pre>\n<p>A typical stacktrace looks like this:</p>\n<pre><code>BUILD FAILED\nC:\\x3d-code\\www.web3d.org\\x3d\\stylesheets\\build.xml:364: The following error occurred while executing this line:\nC:\\x3d-code\\www.web3d.org\\x3d\\stylesheets\\build.xml:164: java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release\n        at java.base/java.lang.System.setSecurityManager(System.java:416)\n        at org.apache.tools.ant.types.Permissions.setSecurityManager(Permissions.java:103)\n        at org.apache.tools.ant.taskdefs.ExecuteJava.run(ExecuteJava.java:216)\n        at org.apache.tools.ant.taskdefs.ExecuteJava.execute(ExecuteJava.java:155)\n        at org.apache.tools.ant.taskdefs.Java.run(Java.java:891)\n        at org.apache.tools.ant.taskdefs.Java.executeJava(Java.java:231)\n        at org.apache.tools.ant.taskdefs.Java.executeJava(Java.java:135)\n        at org.apache.tools.ant.taskdefs.Java.execute(Java.java:108)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n        at org.apache.tools.ant.Task.perform(Task.java:350)\n        at org.apache.tools.ant.Target.execute(Target.java:449)\n        at org.apache.tools.ant.Target.performTasks(Target.java:470)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\n        at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:36)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1264)\n        at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:437)\n        at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:106)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n        at org.apache.tools.ant.Task.perform(Task.java:350)\n        at org.apache.tools.ant.Target.execute(Target.java:449)\n        at org.apache.tools.ant.Target.performTasks(Target.java:470)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1374)\n        at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1264)\n        at org.apache.tools.ant.Main.runBuild(Main.java:818)\n        at org.apache.tools.ant.Main.startAnt(Main.java:223)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:284)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:101)\n\nTotal time: 0 seconds\n</code></pre>\n<p>It would be cool if someone could come up with the appropriate ant configuration or syntax to make this work.</p>\n"},{"tags":["java","gmail"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1667570772,"post_id":74317936,"comment_id":131204192,"body_markdown":"what happens if you remove    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);","body":"what happens if you remove    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);"},{"owner":{"account_id":212642,"reputation":831,"user_id":465588,"accept_rate":68,"display_name":"Maik"},"score":0,"creation_date":1668779483,"post_id":74317936,"comment_id":131495553,"body_markdown":"@DaImTo nothing changes, same error as before","body":"@DaImTo nothing changes, same error as before"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1668782587,"post_id":74317936,"comment_id":131496743,"body_markdown":"Does this answer your question? [Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;](https://stackoverflow.com/questions/67899129/postfix-and-openjdk-11-no-appropriate-protocol-protocol-is-disabled-or-cipher)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67899129/postfix-and-openjdk-11-no-appropriate-protocol-protocol-is-disabled-or-cipher\">Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;</a>"}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667571509,"creation_date":1667571509,"answer_id":74318478,"question_id":74317936,"body_markdown":"I figured this out a while back and this should work:\r\n\r\n    import javax.mail.*;\r\n    \r\n    public class Emailer {\r\n    \r\n        private final String username;\r\n        private final String password;\r\n        private Session session;  \r\n    \r\n        public Emailer(String username, String password) {\r\n            this.username = username;\r\n            this.password = password;\r\n        }\r\n    \r\n        public void send(String email, String subject, String content) {\r\n            if (hasSession()) {\r\n                try {\r\n                    Transport.send(createMimeMessage(email, session, subject, content));\r\n                    System.out.printf(&quot;Email sent to %s%n&quot;, email);\r\n                } catch (MessagingException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        private boolean hasSession() {\r\n            if (session == null) {\r\n                session = startSessionTLS();\r\n            }\r\n            if (session == null) {\r\n                System.out.printf(&quot;Cannot start email session%n&quot;);\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        private Session startSessionTLS() {\r\n    \r\n            Properties props = new Properties();\r\n            props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n            props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    \r\n            return Session.getInstance(props, new javax.mail.Authenticator() {\r\n                protected PasswordAuthentication getPasswordAuthentication() {\r\n                    return new PasswordAuthentication(username, password);\r\n                }\r\n            });\r\n        }\r\n    \r\n        private MimeMessage createMimeMessage(String email, Session session, String subject, String body) throws MessagingException {\r\n            MimeMessage message = new MimeMessage(session);\r\n            message.setFrom(new InternetAddress(&quot;noreply@email.com&quot;));\r\n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(email));\r\n            message.setSubject(subject);\r\n            message.setText(body);\r\n            return message;\r\n        }\r\n    }","title":"Send email with gmail using java","body":"<p>I figured this out a while back and this should work:</p>\n<pre><code>import javax.mail.*;\n\npublic class Emailer {\n\n    private final String username;\n    private final String password;\n    private Session session;  \n\n    public Emailer(String username, String password) {\n        this.username = username;\n        this.password = password;\n    }\n\n    public void send(String email, String subject, String content) {\n        if (hasSession()) {\n            try {\n                Transport.send(createMimeMessage(email, session, subject, content));\n                System.out.printf(&quot;Email sent to %s%n&quot;, email);\n            } catch (MessagingException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private boolean hasSession() {\n        if (session == null) {\n            session = startSessionTLS();\n        }\n        if (session == null) {\n            System.out.printf(&quot;Cannot start email session%n&quot;);\n            return false;\n        }\n        return true;\n    }\n\n    private Session startSessionTLS() {\n\n        Properties props = new Properties();\n        props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n\n        return Session.getInstance(props, new javax.mail.Authenticator() {\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(username, password);\n            }\n        });\n    }\n\n    private MimeMessage createMimeMessage(String email, Session session, String subject, String body) throws MessagingException {\n        MimeMessage message = new MimeMessage(session);\n        message.setFrom(new InternetAddress(&quot;noreply@email.com&quot;));\n        message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(email));\n        message.setSubject(subject);\n        message.setText(body);\n        return message;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22089978,"reputation":142,"user_id":16348170,"display_name":"hidden_machine"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667591747,"creation_date":1667591099,"answer_id":74322233,"question_id":74317936,"body_markdown":"        public class EmailService {\r\n    \r\n        private String username;\r\n        private String password;\r\n    \r\n        private final Properties prop;\r\n    public EmailService(String host, int port, String username, String password) {\r\n                prop = new Properties();\r\n                prop.put(&quot;mail.smtp.auth&quot;, true);\r\n                prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n                prop.put(&quot;mail.smtp.host&quot;, host);\r\n                prop.put(&quot;mail.smtp.port&quot;, port);\r\n                prop.put(&quot;mail.smtp.ssl.trust&quot;, host);\r\n        \r\n                this.username = username;\r\n                this.password = password;\r\n            }\r\n        \r\n            public void sendMail(String from,String to,String subject, String msg) throws Exception {\r\n        \r\n                Session session = Session.getInstance(prop, new Authenticator() {\r\n                    @Override\r\n                    protected PasswordAuthentication getPasswordAuthentication() {\r\n                        return new PasswordAuthentication(username, password);\r\n                    }\r\n                });\r\n        \r\n                Message message = new MimeMessage(session);\r\n                message.setFrom(new InternetAddress(from));\r\n                message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(to));\r\n                message.setSubject(subject);\r\n        \r\n                MimeBodyPart mimeBodyPart = new MimeBodyPart();\r\n                mimeBodyPart.setContent(msg, &quot;text/html; charset=utf-8&quot;);\r\n        \r\n                Multipart multipart = new MimeMultipart();\r\n                multipart.addBodyPart(mimeBodyPart);\r\n        \r\n                message.setContent(multipart);\r\n        \r\n                Transport.send(message);\r\n    }\r\n            }\r\nand then call the function like so:\r\n\r\n    new EmailService(&quot;smtp.gmail.com&quot;, 587, &quot;&lt;emailID&gt;&quot;, &quot;&lt;pass(not the actual gmail-account password if you&#39;re using gmail for this&gt;&quot;)\r\n                        .sendMail(&quot;&lt;emailID&gt;&quot;,\r\n                                toemail,\r\n                                &quot;&lt;title&gt;&quot;,\r\n                                &quot;&lt;body&gt;);\r\n\r\nHowever, **that&#39;s only half the solution**. Since they discontinued the `Less Secure App Access` feature on gmail accounts, you should access your gmail account through a different way now. \r\n\r\nYou must enable 2FA on that gmail account, and add an entry to `App passwords` under your google account. After that, the password you provide in the above function would be the &#39;App password&#39; that you got from the gmail account(not the actual gmail account password, this one is auto-generated I believe). \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI am unaware of any other email service that offers smtp email feature for free nowadays. They all require you to pay in someway,except for gmail(Correct me if I&#39;m wrong)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l9oiI.png","title":"Send email with gmail using java","body":"<pre><code>    public class EmailService {\n\n    private String username;\n    private String password;\n\n    private final Properties prop;\npublic EmailService(String host, int port, String username, String password) {\n            prop = new Properties();\n            prop.put(&quot;mail.smtp.auth&quot;, true);\n            prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n            prop.put(&quot;mail.smtp.host&quot;, host);\n            prop.put(&quot;mail.smtp.port&quot;, port);\n            prop.put(&quot;mail.smtp.ssl.trust&quot;, host);\n    \n            this.username = username;\n            this.password = password;\n        }\n    \n        public void sendMail(String from,String to,String subject, String msg) throws Exception {\n    \n            Session session = Session.getInstance(prop, new Authenticator() {\n                @Override\n                protected PasswordAuthentication getPasswordAuthentication() {\n                    return new PasswordAuthentication(username, password);\n                }\n            });\n    \n            Message message = new MimeMessage(session);\n            message.setFrom(new InternetAddress(from));\n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(to));\n            message.setSubject(subject);\n    \n            MimeBodyPart mimeBodyPart = new MimeBodyPart();\n            mimeBodyPart.setContent(msg, &quot;text/html; charset=utf-8&quot;);\n    \n            Multipart multipart = new MimeMultipart();\n            multipart.addBodyPart(mimeBodyPart);\n    \n            message.setContent(multipart);\n    \n            Transport.send(message);\n}\n        }\n</code></pre>\n<p>and then call the function like so:</p>\n<pre><code>new EmailService(&quot;smtp.gmail.com&quot;, 587, &quot;&lt;emailID&gt;&quot;, &quot;&lt;pass(not the actual gmail-account password if you're using gmail for this&gt;&quot;)\n                    .sendMail(&quot;&lt;emailID&gt;&quot;,\n                            toemail,\n                            &quot;&lt;title&gt;&quot;,\n                            &quot;&lt;body&gt;);\n</code></pre>\n<p>However, <strong>that's only half the solution</strong>. Since they discontinued the <code>Less Secure App Access</code> feature on gmail accounts, you should access your gmail account through a different way now.</p>\n<p>You must enable 2FA on that gmail account, and add an entry to <code>App passwords</code> under your google account. After that, the password you provide in the above function would be the 'App password' that you got from the gmail account(not the actual gmail account password, this one is auto-generated I believe).</p>\n<p><a href=\"https://i.stack.imgur.com/l9oiI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l9oiI.png\" alt=\"enter image description here\" /></a></p>\n<p>I am unaware of any other email service that offers smtp email feature for free nowadays. They all require you to pay in someway,except for gmail(Correct me if I'm wrong)</p>\n"},{"tags":[],"owner":{"account_id":4306599,"reputation":3578,"user_id":3518815,"accept_rate":25,"display_name":"Kuntal Ghosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694294403,"creation_date":1694294403,"answer_id":77074075,"question_id":74317936,"body_markdown":"First of all, you cannot use password while sending email via Gmail. You need to generate app-specific password for this.\r\n\r\nTo enable app-specific password follow below steps.\r\n\r\n**Step 1:** Enable 2FA. *To enable 2FA, please click [here][1].*\r\n\r\n**Step 2:** Create an app-specific password. *To create one, please click [here][2].*\r\n\r\nClick on the highlighted option from the &quot;Select app&quot; dropdown. Click Generate. It will generate 16 digits password and appear only once. Copy somewhere for future use.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIn *application.properties* file add below lines for email configurations\r\n\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.port=587\r\n    spring.mail.username=YOUR GMAIL ID\r\n    spring.mail.password=APP-SPECIFIC PASSWORD\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n\r\nThe maven dependency can also be added by modifying your project’s *pom.xml* file to include the following\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf you need HTML email, you can use `MimeMessage` class for this purpose.\r\n\r\nThe service file to send the email is as following. This will create HTML emails for you.\r\n\r\n    package com.comp.service;\r\n    \r\n    import javax.mail.MessagingException;\r\n    import javax.mail.internet.MimeMessage;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.mail.javamail.JavaMailSender;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.comp.serviceIntf.EmailService;\r\n    \r\n    @Service\r\n    public class EmailServiceImpl implements EmailService {\r\n    \r\n    \t@Autowired\r\n        private JavaMailSender mailSender;\r\n    \t\r\n    \t@Override\r\n    \tpublic void sendEmail(String to, String name, String userid, String password) throws MessagingException\r\n    \t{\r\n    \t\tString htmlContent = &quot;Hi %s, &lt;br /&gt;&lt;br /&gt;Welcome to &lt;b&gt;MyCompany&lt;/b&gt;. &lt;br /&gt;Your UserID is: &lt;b&gt;%s&lt;/b&gt; and Password is: &lt;b&gt;%s&lt;/b&gt;&lt;br /&gt;&lt;h5&gt;This is system generated password. You can change it anytime after login.&lt;/h5&gt;&lt;h5&gt;Please do not share this credential with anybody else.&lt;/h5&gt;&lt;br /&gt;With regards,&lt;br /&gt;MyCompany&quot;;\r\n    \t\thtmlContent = String.format(htmlContent, name, userid, password);\r\n    \t\t\r\n    \t\tString subject = &quot;Welcome %s (%s) on successful registration&quot;;\r\n    \t\tsubject = String.format(subject, name, userid);\r\n    \t\t\r\n    \t\t\r\n    \t\tMimeMessage message = mailSender.createMimeMessage();\r\n    \t\tmessage.setRecipients(MimeMessage.RecipientType.TO, to);\r\n    \t\tmessage.setSubject(subject);\r\n    \t\tmessage.setContent(htmlContent, &quot;text/html; charset=utf-8&quot;);\r\n    \t    mailSender.send(message);\r\n    \t}\r\n    }\r\n\r\nIf you do not need HTML email, you can use `SimpleMailMessage` class for this purpose.\r\n\r\n    SimpleMailMessage message = new SimpleMailMessage();\r\n    message.setTo(to);\r\n    message.setSubject(subject);\r\n    message.setText(body);\r\n\r\n    mailSender.send(message);\r\n\r\n\r\n**Note:** I am unaware of any other email like yahoo, outlook etc. This discussion is purely from Gmail point of view.\r\n\r\n  [1]: https://myaccount.google.com/signinoptions/two-step-verification/enroll-welcome\r\n  [2]: https://myaccount.google.com/apppasswords\r\n  [3]: https://i.stack.imgur.com/pbnZY.png","title":"Send email with gmail using java","body":"<p>First of all, you cannot use password while sending email via Gmail. You need to generate app-specific password for this.</p>\n<p>To enable app-specific password follow below steps.</p>\n<p><strong>Step 1:</strong> Enable 2FA. <em>To enable 2FA, please click <a href=\"https://myaccount.google.com/signinoptions/two-step-verification/enroll-welcome\" rel=\"nofollow noreferrer\">here</a>.</em></p>\n<p><strong>Step 2:</strong> Create an app-specific password. <em>To create one, please click <a href=\"https://myaccount.google.com/apppasswords\" rel=\"nofollow noreferrer\">here</a>.</em></p>\n<p>Click on the highlighted option from the &quot;Select app&quot; dropdown. Click Generate. It will generate 16 digits password and appear only once. Copy somewhere for future use.</p>\n<p><a href=\"https://i.stack.imgur.com/pbnZY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pbnZY.png\" alt=\"enter image description here\" /></a></p>\n<p>In <em>application.properties</em> file add below lines for email configurations</p>\n<pre><code>spring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username=YOUR GMAIL ID\nspring.mail.password=APP-SPECIFIC PASSWORD\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\n</code></pre>\n<p>The maven dependency can also be added by modifying your project’s <em>pom.xml</em> file to include the following</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If you need HTML email, you can use <code>MimeMessage</code> class for this purpose.</p>\n<p>The service file to send the email is as following. This will create HTML emails for you.</p>\n<pre><code>package com.comp.service;\n\nimport javax.mail.MessagingException;\nimport javax.mail.internet.MimeMessage;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.stereotype.Service;\n\nimport com.comp.serviceIntf.EmailService;\n\n@Service\npublic class EmailServiceImpl implements EmailService {\n\n    @Autowired\n    private JavaMailSender mailSender;\n    \n    @Override\n    public void sendEmail(String to, String name, String userid, String password) throws MessagingException\n    {\n        String htmlContent = &quot;Hi %s, &lt;br /&gt;&lt;br /&gt;Welcome to &lt;b&gt;MyCompany&lt;/b&gt;. &lt;br /&gt;Your UserID is: &lt;b&gt;%s&lt;/b&gt; and Password is: &lt;b&gt;%s&lt;/b&gt;&lt;br /&gt;&lt;h5&gt;This is system generated password. You can change it anytime after login.&lt;/h5&gt;&lt;h5&gt;Please do not share this credential with anybody else.&lt;/h5&gt;&lt;br /&gt;With regards,&lt;br /&gt;MyCompany&quot;;\n        htmlContent = String.format(htmlContent, name, userid, password);\n        \n        String subject = &quot;Welcome %s (%s) on successful registration&quot;;\n        subject = String.format(subject, name, userid);\n        \n        \n        MimeMessage message = mailSender.createMimeMessage();\n        message.setRecipients(MimeMessage.RecipientType.TO, to);\n        message.setSubject(subject);\n        message.setContent(htmlContent, &quot;text/html; charset=utf-8&quot;);\n        mailSender.send(message);\n    }\n}\n</code></pre>\n<p>If you do not need HTML email, you can use <code>SimpleMailMessage</code> class for this purpose.</p>\n<pre><code>SimpleMailMessage message = new SimpleMailMessage();\nmessage.setTo(to);\nmessage.setSubject(subject);\nmessage.setText(body);\n\nmailSender.send(message);\n</code></pre>\n<p><strong>Note:</strong> I am unaware of any other email like yahoo, outlook etc. This discussion is purely from Gmail point of view.</p>\n"}],"owner":{"account_id":212642,"reputation":831,"user_id":465588,"accept_rate":68,"display_name":"Maik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3259,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1694294403,"creation_date":1667569124,"question_id":74317936,"body_markdown":"As title says, I would like to send emails with my gmail account writing some java code. \r\nI have found many code examples, but none of them is working for me\r\n\r\nI was looking a this one: https://stackoverflow.com/questions/46663/how-can-i-send-an-email-by-java-application-using-gmail-yahoo-or-hotmail/47452#47452\r\n\r\nI have tried the code posted as answer, but I get this exception:\r\n\r\n    javax.mail.MessagingException: Can&#39;t send command to SMTP host;\r\n      nested exception is:\r\n    \tjavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n    \tat com.sun.mail.smtp.SMTPTransport.sendCommand(SMTPTransport.java:1717)\r\n    \tat com.sun.mail.smtp.SMTPTransport.sendCommand(SMTPTransport.java:1704)\r\n    \tat com.sun.mail.smtp.SMTPTransport.ehlo(SMTPTransport.java:1088)\r\n    \tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:468)\r\n    \tat javax.mail.Service.connect(Service.java:291)\r\n    \tat javax.mail.Service.connect(Service.java:172)\r\n    ...\r\n\r\n\r\nThe code is this:\r\n\r\n    public class GmailTest {\r\n       \r\n        private static String USER_NAME = &quot;*****&quot;;  // GMail user name (just the part before &quot;@gmail.com&quot;)\r\n        private static String PASSWORD = &quot;********&quot;; // GMail password\r\n        private static String RECIPIENT = &quot;random.address@gmail.com&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n            String from = USER_NAME;\r\n            String pass = PASSWORD;\r\n            String[] to = { RECIPIENT }; // list of recipient email addresses\r\n            String subject = &quot;Java send mail example&quot;;\r\n            String body = &quot;Welcome to JavaMail!&quot;;\r\n    \r\n            sendFromGMail(from, pass, to, subject, body);\r\n        }\r\n    \r\n        private static void sendFromGMail(String from, String pass, String[] to, String subject, String body) {\r\n            Properties props = System.getProperties();\r\n            String host = &quot;smtp.gmail.com&quot;;\r\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.host&quot;, host);\r\n            props.put(&quot;mail.smtp.user&quot;, from);\r\n            props.put(&quot;mail.smtp.password&quot;, pass);\r\n            props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    \r\n            Session session = Session.getDefaultInstance(props);\r\n            MimeMessage message = new MimeMessage(session);\r\n    \r\n            try {\r\n                message.setFrom(new InternetAddress(from));\r\n                InternetAddress[] toAddress = new InternetAddress[to.length];\r\n    \r\n                // To get the array of addresses\r\n                for( int i = 0; i &lt; to.length; i++ ) {\r\n                    toAddress[i] = new InternetAddress(to[i]);\r\n                }\r\n    \r\n                for( int i = 0; i &lt; toAddress.length; i++) {\r\n                    message.addRecipient(Message.RecipientType.TO, toAddress[i]);\r\n                }\r\n    \r\n                message.setSubject(subject);\r\n                message.setText(body);\r\n                Transport transport = session.getTransport(&quot;smtp&quot;);\r\n                transport.connect(host, from, pass);\r\n                transport.sendMessage(message, message.getAllRecipients());\r\n                transport.close();\r\n            \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nShould this work in 2022 or did something change?\r\nWhy am I getting that exception?","title":"Send email with gmail using java","body":"<p>As title says, I would like to send emails with my gmail account writing some java code.\nI have found many code examples, but none of them is working for me</p>\n<p>I was looking a this one: <a href=\"https://stackoverflow.com/questions/46663/how-can-i-send-an-email-by-java-application-using-gmail-yahoo-or-hotmail/47452#47452\">How can I send an email by Java application using GMail, Yahoo, or Hotmail?</a></p>\n<p>I have tried the code posted as answer, but I get this exception:</p>\n<pre><code>javax.mail.MessagingException: Can't send command to SMTP host;\n  nested exception is:\n    javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n    at com.sun.mail.smtp.SMTPTransport.sendCommand(SMTPTransport.java:1717)\n    at com.sun.mail.smtp.SMTPTransport.sendCommand(SMTPTransport.java:1704)\n    at com.sun.mail.smtp.SMTPTransport.ehlo(SMTPTransport.java:1088)\n    at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:468)\n    at javax.mail.Service.connect(Service.java:291)\n    at javax.mail.Service.connect(Service.java:172)\n...\n</code></pre>\n<p>The code is this:</p>\n<pre><code>public class GmailTest {\n   \n    private static String USER_NAME = &quot;*****&quot;;  // GMail user name (just the part before &quot;@gmail.com&quot;)\n    private static String PASSWORD = &quot;********&quot;; // GMail password\n    private static String RECIPIENT = &quot;random.address@gmail.com&quot;;\n\n    public static void main(String[] args) {\n        String from = USER_NAME;\n        String pass = PASSWORD;\n        String[] to = { RECIPIENT }; // list of recipient email addresses\n        String subject = &quot;Java send mail example&quot;;\n        String body = &quot;Welcome to JavaMail!&quot;;\n\n        sendFromGMail(from, pass, to, subject, body);\n    }\n\n    private static void sendFromGMail(String from, String pass, String[] to, String subject, String body) {\n        Properties props = System.getProperties();\n        String host = &quot;smtp.gmail.com&quot;;\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.host&quot;, host);\n        props.put(&quot;mail.smtp.user&quot;, from);\n        props.put(&quot;mail.smtp.password&quot;, pass);\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n\n        Session session = Session.getDefaultInstance(props);\n        MimeMessage message = new MimeMessage(session);\n\n        try {\n            message.setFrom(new InternetAddress(from));\n            InternetAddress[] toAddress = new InternetAddress[to.length];\n\n            // To get the array of addresses\n            for( int i = 0; i &lt; to.length; i++ ) {\n                toAddress[i] = new InternetAddress(to[i]);\n            }\n\n            for( int i = 0; i &lt; toAddress.length; i++) {\n                message.addRecipient(Message.RecipientType.TO, toAddress[i]);\n            }\n\n            message.setSubject(subject);\n            message.setText(body);\n            Transport transport = session.getTransport(&quot;smtp&quot;);\n            transport.connect(host, from, pass);\n            transport.sendMessage(message, message.getAllRecipients());\n            transport.close();\n        \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Should this work in 2022 or did something change?\nWhy am I getting that exception?</p>\n"},{"tags":["java","maven","gitlab","nexus","gitlab-ci-runner"],"answers":[{"tags":[],"owner":{"account_id":18126986,"reputation":1,"user_id":13182434,"display_name":"Paweł Tarsa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633601311,"creation_date":1633601311,"answer_id":69479285,"question_id":59686900,"body_markdown":"not sure if help is still needed but it seems that You did not grant necessary privileges to role of the user which You use for deployment/resolving dependencies. Please grant role nx-repository-view-*-*-* privilege. Test it and then you can decrease scope depend on your needs.","title":"Maven Nexus Issue - Authorization failed for 403 Forbidden","body":"<p>not sure if help is still needed but it seems that You did not grant necessary privileges to role of the user which You use for deployment/resolving dependencies. Please grant role nx-repository-view-<em>-</em>-* privilege. Test it and then you can decrease scope depend on your needs.</p>\n"},{"tags":[],"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653738226,"creation_date":1653738226,"answer_id":72415405,"question_id":59686900,"body_markdown":"The issue at the time was with corporate proxy blocking download from maven central etc\r\n\r\nEdit the proxies section in your maven settings.xml, which could be located in your ~/.m2/settings.xml file.\r\nSettings.xml also exists in your MAVEN_HOME, so ensure you are updating the correct settings.xml\r\n\r\n    &lt;settings&gt;\r\n    &lt;proxies&gt;\r\n        &lt;proxy&gt;\r\n            &lt;id&gt;httpproxy&lt;/id&gt;\r\n            &lt;active&gt;true&lt;/active&gt;\r\n            &lt;protocol&gt;http&lt;/protocol&gt;\r\n            &lt;host&gt;your-proxy-host&lt;/host&gt;\r\n            &lt;port&gt;your-proxy-port&lt;/port&gt;\r\n            &lt;nonProxyHosts&gt;add.host.that.needs.to.bypass.proxy.here|some.host.com&lt;/nonProxyHosts&gt;\r\n        &lt;/proxy&gt;\r\n    &lt;proxy&gt;\r\n            &lt;id&gt;httpsproxy&lt;/id&gt;\r\n            &lt;active&gt;true&lt;/active&gt;\r\n            &lt;protocol&gt;https&lt;/protocol&gt;\r\n            &lt;host&gt;your-proxy-host&lt;/host&gt;\r\n            &lt;port&gt;your-proxy-port&lt;/port&gt;\r\n            &lt;nonProxyHosts&gt;add.host.that.needs.to.bypass.proxy.here|some.host.com&lt;/nonProxyHosts&gt;\r\n        &lt;/proxy&gt;\r\n    \r\n    &lt;/proxies&gt;\r\n    &lt;/settings&gt;","title":"Maven Nexus Issue - Authorization failed for 403 Forbidden","body":"<p>The issue at the time was with corporate proxy blocking download from maven central etc</p>\n<p>Edit the proxies section in your maven settings.xml, which could be located in your ~/.m2/settings.xml file.\nSettings.xml also exists in your MAVEN_HOME, so ensure you are updating the correct settings.xml</p>\n<pre><code>&lt;settings&gt;\n&lt;proxies&gt;\n    &lt;proxy&gt;\n        &lt;id&gt;httpproxy&lt;/id&gt;\n        &lt;active&gt;true&lt;/active&gt;\n        &lt;protocol&gt;http&lt;/protocol&gt;\n        &lt;host&gt;your-proxy-host&lt;/host&gt;\n        &lt;port&gt;your-proxy-port&lt;/port&gt;\n        &lt;nonProxyHosts&gt;add.host.that.needs.to.bypass.proxy.here|some.host.com&lt;/nonProxyHosts&gt;\n    &lt;/proxy&gt;\n&lt;proxy&gt;\n        &lt;id&gt;httpsproxy&lt;/id&gt;\n        &lt;active&gt;true&lt;/active&gt;\n        &lt;protocol&gt;https&lt;/protocol&gt;\n        &lt;host&gt;your-proxy-host&lt;/host&gt;\n        &lt;port&gt;your-proxy-port&lt;/port&gt;\n        &lt;nonProxyHosts&gt;add.host.that.needs.to.bypass.proxy.here|some.host.com&lt;/nonProxyHosts&gt;\n    &lt;/proxy&gt;\n\n&lt;/proxies&gt;\n&lt;/settings&gt;\n</code></pre>\n"}],"owner":{"account_id":3992968,"reputation":1304,"user_id":3291266,"accept_rate":53,"display_name":"Mega"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12030,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1694293550,"creation_date":1578679677,"question_id":59686900,"body_markdown":"We have been on this issue for days now.\r\n\r\nCreated a Gitlab CI Pipeline for a Java App that reads dependencies from Maven and Nexus\r\n\r\nThe gitlab pipeline was configured to run as a nexus user with admin rights, this has been verified many times.\r\n\r\nBut, when the gitlab pipeline is executed we get the following error:\r\n     \r\n    [ERROR] Failed to execute goal on project hello-component: Could not resolve dependencies for project x.y.z:hello-component:jar:1.6-SNAPSHOT: Failed to collect dependencies at a.b:c:jar:4.5.1132100: Failed to read artifact descriptor for b:c:jar:4.5.1132100: Could not transfer artifact a.b:c:pom:4.5.1132100 from/to maven-snapshots (http://host:8081/repository/maven-snapshots): Authorization failed for http://host:8081/repository/maven-snapshots/a/b/c/4.5.1132100/nidp-4.5.1132100.pom 403 Forbidden -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project hello-component: Could not resolve dependencies for project x.y.z:hello-component:jar:1.6-SNAPSHOT: Failed to collect dependencies at a.b:c:jar:4.5.1132100\r\n\r\nI have also used the following guide:\r\n\r\n    https://blog.sonatype.com/how-to-use-gitlab-ci-with-nexus\r\n\r\nMy POM has the below, with env variables configured in ci/cd/settings/variables:\r\n\r\n         &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.8.0&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;source&gt;1.8&lt;/source&gt;\r\n                            &lt;target&gt;1.8&lt;/target&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.22.1&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.sonatype.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;nexus-staging-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.5.1&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;default-deploy&lt;/id&gt;\r\n                                &lt;phase&gt;deploy&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;deploy&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;serverId&gt;maven-snapshots&lt;/serverId&gt;\r\n                            &lt;nexusUrl&gt;http://host:8081/repository/maven-snapshots&lt;/nexusUrl&gt;\r\n                            &lt;skipStaging&gt;true&lt;/skipStaging&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n    \r\n    &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;maven-snapshots&lt;/id&gt;\r\n                &lt;url&gt;http://host:8081/repository/maven-snapshots&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;maven-releases&lt;/id&gt;\r\n                &lt;url&gt;http://host:8081/repository/maven-releases&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;!--repository&gt;\r\n                &lt;id&gt;nexus.local&lt;/id&gt;\r\n                &lt;url&gt;$HOME/.m2/repository&lt;/url&gt;\r\n            &lt;/repository--&gt;\r\n        &lt;/repositories&gt;\r\n    \r\n        &lt;distributionManagement&gt;\r\n            &lt;snapshotRepository&gt;\r\n                &lt;id&gt;maven-snapshots&lt;/id&gt;\r\n                &lt;url&gt;http://host:8081/repository/maven-snapshots&lt;/url&gt;\r\n            &lt;/snapshotRepository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;maven-releases&lt;/id&gt;\r\n                &lt;url&gt;http://host:8081/repository/maven-releases&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/distributionManagement&gt;\r\n\r\nThe Gitlab CI runner has the following:\r\n\r\n    image: maven:3.3.9-jdk-8\r\n    \r\n    variables:\r\n      GIT_STRATEGY: clone\r\n      MAVEN_CLI_OPTS: &quot;-s /opt/apache-maven-3.6.3/conf/settings.xml --batch-mode&quot;\r\n      MAVEN_OPTS: &quot;-Dmaven.repo.local=/home/gitlab-runner/.m2/repository&quot;\r\n    \r\n    cache:\r\n      paths:\r\n        - /home/gitlab-runner/.m2/repository/\r\n        - target/\r\n     \r\n    stages:\r\n      - build\r\n    \r\n    CodeBuild:\r\n      stage: build\r\n      script:\r\n       - /opt/apache-maven-3.6.3/bin/mvn $MAVEN_CLI_OPTS -X clean package\r\n      artifacts:\r\n        name: “x—y-component&quot;\r\n        paths:\r\n          - ./target/x—y-component.jar\r\n\r\nSetting.xml on gitlab ci server has the following nexus user reference:\r\n\r\n&lt;server&gt;\r\n      &lt;id&gt;maven-snapshots&lt;/id&gt;\r\n      &lt;username&gt;[adminuser]&lt;/username&gt;\r\n      &lt;password&gt;[adminpassword]&lt;/password&gt;\r\n&lt;/server&gt;\r\n\r\nAny help will be most appreciated.\r\n\r\nThanks\r\n","title":"Maven Nexus Issue - Authorization failed for 403 Forbidden","body":"<p>We have been on this issue for days now.</p>\n\n<p>Created a Gitlab CI Pipeline for a Java App that reads dependencies from Maven and Nexus</p>\n\n<p>The gitlab pipeline was configured to run as a nexus user with admin rights, this has been verified many times.</p>\n\n<p>But, when the gitlab pipeline is executed we get the following error:</p>\n\n<pre><code>[ERROR] Failed to execute goal on project hello-component: Could not resolve dependencies for project x.y.z:hello-component:jar:1.6-SNAPSHOT: Failed to collect dependencies at a.b:c:jar:4.5.1132100: Failed to read artifact descriptor for b:c:jar:4.5.1132100: Could not transfer artifact a.b:c:pom:4.5.1132100 from/to maven-snapshots (http://host:8081/repository/maven-snapshots): Authorization failed for http://host:8081/repository/maven-snapshots/a/b/c/4.5.1132100/nidp-4.5.1132100.pom 403 Forbidden -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project hello-component: Could not resolve dependencies for project x.y.z:hello-component:jar:1.6-SNAPSHOT: Failed to collect dependencies at a.b:c:jar:4.5.1132100\n</code></pre>\n\n<p>I have also used the following guide:</p>\n\n<pre><code>https://blog.sonatype.com/how-to-use-gitlab-ci-with-nexus\n</code></pre>\n\n<p>My POM has the below, with env variables configured in ci/cd/settings/variables:</p>\n\n<pre><code>     &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;1.8&lt;/source&gt;\n                        &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.sonatype.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;nexus-staging-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.5.1&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;default-deploy&lt;/id&gt;\n                            &lt;phase&gt;deploy&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;deploy&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;configuration&gt;\n                        &lt;serverId&gt;maven-snapshots&lt;/serverId&gt;\n                        &lt;nexusUrl&gt;http://host:8081/repository/maven-snapshots&lt;/nexusUrl&gt;\n                        &lt;skipStaging&gt;true&lt;/skipStaging&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n\n&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;maven-snapshots&lt;/id&gt;\n            &lt;url&gt;http://host:8081/repository/maven-snapshots&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;maven-releases&lt;/id&gt;\n            &lt;url&gt;http://host:8081/repository/maven-releases&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;!--repository&gt;\n            &lt;id&gt;nexus.local&lt;/id&gt;\n            &lt;url&gt;$HOME/.m2/repository&lt;/url&gt;\n        &lt;/repository--&gt;\n    &lt;/repositories&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;maven-snapshots&lt;/id&gt;\n            &lt;url&gt;http://host:8081/repository/maven-snapshots&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;maven-releases&lt;/id&gt;\n            &lt;url&gt;http://host:8081/repository/maven-releases&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/distributionManagement&gt;\n</code></pre>\n\n<p>The Gitlab CI runner has the following:</p>\n\n<pre><code>image: maven:3.3.9-jdk-8\n\nvariables:\n  GIT_STRATEGY: clone\n  MAVEN_CLI_OPTS: \"-s /opt/apache-maven-3.6.3/conf/settings.xml --batch-mode\"\n  MAVEN_OPTS: \"-Dmaven.repo.local=/home/gitlab-runner/.m2/repository\"\n\ncache:\n  paths:\n    - /home/gitlab-runner/.m2/repository/\n    - target/\n\nstages:\n  - build\n\nCodeBuild:\n  stage: build\n  script:\n   - /opt/apache-maven-3.6.3/bin/mvn $MAVEN_CLI_OPTS -X clean package\n  artifacts:\n    name: “x—y-component\"\n    paths:\n      - ./target/x—y-component.jar\n</code></pre>\n\n<p>Setting.xml on gitlab ci server has the following nexus user reference:</p>\n\n<p>\n      maven-snapshots\n      [adminuser]\n      [adminpassword]\n</p>\n\n<p>Any help will be most appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":148782,"reputation":23509,"user_id":360811,"accept_rate":55,"display_name":"shabunc"},"score":7,"creation_date":1368618679,"post_id":4801794,"comment_id":23798313,"body_markdown":"Here&#39;s example of how it can be useful - http://stackoverflow.com/a/1239631/360811","body":"Here&#39;s example of how it can be useful - <a href=\"http://stackoverflow.com/a/1239631/360811\">stackoverflow.com/a/1239631/360811</a>"},{"owner":{"account_id":1144386,"reputation":28752,"user_id":1127485,"accept_rate":83,"display_name":"sschuberth"},"score":3,"creation_date":1442405043,"post_id":4801794,"comment_id":53067015,"body_markdown":"possible duplicate of [Arrays.asList() vs Collections.singletonList()](http://stackoverflow.com/questions/26027396/arrays-aslist-vs-collections-singletonlist)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/26027396/arrays-aslist-vs-collections-singletonlist\">Arrays.asList() vs Collections.singletonList()</a>"},{"owner":{"account_id":7220692,"reputation":723,"user_id":5511336,"display_name":"KumarAnkit"},"score":5,"creation_date":1554287726,"post_id":4801794,"comment_id":97693209,"body_markdown":"@sschuberth, please compare the dates for the questions. OP was not aware s/he could be duplicating a future question","body":"@sschuberth, please compare the dates for the questions. OP was not aware s/he could be duplicating a future question"},{"owner":{"account_id":1144386,"reputation":28752,"user_id":1127485,"accept_rate":83,"display_name":"sschuberth"},"score":0,"creation_date":1554300669,"post_id":4801794,"comment_id":97701446,"body_markdown":"True, @KumarAnkit, but links to duplicates are still useful for people looking for alternative / potentially better answers. In fact I believe linking as duplicate should be regarded as a bidirectional thing, and the better questions / answers should be kept, no matter whether these are the older or newer.","body":"True, @KumarAnkit, but links to duplicates are still useful for people looking for alternative / potentially better answers. In fact I believe linking as duplicate should be regarded as a bidirectional thing, and the better questions / answers should be kept, no matter whether these are the older or newer."},{"owner":{"account_id":7220692,"reputation":723,"user_id":5511336,"display_name":"KumarAnkit"},"score":1,"creation_date":1554354585,"post_id":4801794,"comment_id":97721794,"body_markdown":"@sschuberth, good point, but it should be categorised as similar, as this question here.","body":"@sschuberth, good point, but it should be categorised as similar, as this question here."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1587458983,"post_id":4801794,"comment_id":108512422,"body_markdown":"@sschuberth - It is not bi-directional.  Closing a question as a duplicate prevents any more answers from being added to it.  So, if someone incorrectly dup-close a question just because it is related, they are actually blocking off potentially useful new contributions.","body":"@sschuberth - It is not bi-directional.  Closing a question as a duplicate prevents any more answers from being added to it.  So, if someone incorrectly dup-close a question just because it is related, they are actually blocking off potentially useful new contributions."}],"answers":[{"tags":[],"owner":{"account_id":19562,"reputation":30712,"user_id":45935,"accept_rate":100,"display_name":"Jim Ferrans"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1296022759,"creation_date":1296022759,"answer_id":4801851,"question_id":4801794,"body_markdown":"Here&#39;s one [view][1] on the singleton methods:\r\n\r\n&gt; I have found these various &quot;singleton&quot; methods to be useful for passing a single value to an API that requires a collection of that value. Of course, this works best when the code processing the passed-in value does not need to add to the collection.\r\n\r\n\r\n  [1]: http://marxsoftware.blogspot.com/p/my-publications.html","title":"Use of Java&#39;s Collections.singletonList()?","body":"<p>Here's one <a href=\"http://marxsoftware.blogspot.com/p/my-publications.html\" rel=\"noreferrer\">view</a> on the singleton methods:</p>\n\n<blockquote>\n  <p>I have found these various \"singleton\" methods to be useful for passing a single value to an API that requires a collection of that value. Of course, this works best when the code processing the passed-in value does not need to add to the collection.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":195,"is_accepted":true,"score":195,"last_activity_date":1675847631,"creation_date":1296022774,"answer_id":4801854,"question_id":4801794,"body_markdown":"The [javadoc][1] says this:\r\n\r\n&gt; *&quot;Returns an immutable list containing only the specified object. The returned list is serializable.&quot;*\r\n\r\nYou ask:\r\n\r\n&gt; Why would I want to have a separate method to do that?\r\n\r\nPrimarily as a convenience ... to save you having to write a sequence of statements to:\r\n\r\n  - create an empty list object\r\n  - add an element to it, and\r\n  - wrap it with an immutable wrapper.\r\n\r\nIt may also be a bit faster and/or save a bit of memory, but it is unlikely that these small savings will be significant.  (An application that creates vast numbers of singleton lists is unusual to say the least.) \r\n\r\n&gt; How does immutability play a role here?\r\n\r\nIt is part of the specification of the method; see above.\r\n\r\n&gt; Are there any special useful use-cases for this method, rather than just being a convenience method?\r\n\r\nClearly, there are use-cases where it is convenient to use the `singletonList` method.  Indeed, *any* program where you need to use an immutable list with one element is a valid use-case.  (It takes roughly zero imagination to think of one.)\r\n\r\nBut I don&#39;t know how you would (objectively) distinguish between an ordinary use-case and a &quot;specially useful&quot; one ... \r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#singletonList(T)","title":"Use of Java&#39;s Collections.singletonList()?","body":"<p>The <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#singletonList(T)\" rel=\"noreferrer\">javadoc</a> says this:</p>\n<blockquote>\n<p><em>&quot;Returns an immutable list containing only the specified object. The returned list is serializable.&quot;</em></p>\n</blockquote>\n<p>You ask:</p>\n<blockquote>\n<p>Why would I want to have a separate method to do that?</p>\n</blockquote>\n<p>Primarily as a convenience ... to save you having to write a sequence of statements to:</p>\n<ul>\n<li>create an empty list object</li>\n<li>add an element to it, and</li>\n<li>wrap it with an immutable wrapper.</li>\n</ul>\n<p>It may also be a bit faster and/or save a bit of memory, but it is unlikely that these small savings will be significant.  (An application that creates vast numbers of singleton lists is unusual to say the least.)</p>\n<blockquote>\n<p>How does immutability play a role here?</p>\n</blockquote>\n<p>It is part of the specification of the method; see above.</p>\n<blockquote>\n<p>Are there any special useful use-cases for this method, rather than just being a convenience method?</p>\n</blockquote>\n<p>Clearly, there are use-cases where it is convenient to use the <code>singletonList</code> method.  Indeed, <em>any</em> program where you need to use an immutable list with one element is a valid use-case.  (It takes roughly zero imagination to think of one.)</p>\n<p>But I don't know how you would (objectively) distinguish between an ordinary use-case and a &quot;specially useful&quot; one ...</p>\n"},{"tags":[],"owner":{"account_id":1551372,"reputation":31,"user_id":1443673,"display_name":"Anonumous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1339128995,"creation_date":1339128995,"answer_id":10942995,"question_id":4801794,"body_markdown":"If an Immutable/Singleton collections refers to the one which having only one object and which is not further gets modified, then the same functionality can be achieved by making a collection &quot;UnmodifiableCollection&quot; having only one object. Since the same functionality can be achieved by Unmodifiable Collection with one object, then what special purpose the Singleton Collection serves for?","title":"Use of Java&#39;s Collections.singletonList()?","body":"<p>If an Immutable/Singleton collections refers to the one which having only one object and which is not further gets modified, then the same functionality can be achieved by making a collection \"UnmodifiableCollection\" having only one object. Since the same functionality can be achieved by Unmodifiable Collection with one object, then what special purpose the Singleton Collection serves for?</p>\n"},{"tags":[],"owner":{"account_id":5319468,"reputation":1975,"user_id":4243316,"accept_rate":0,"display_name":"salsinga"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1576543051,"creation_date":1435409649,"answer_id":31089004,"question_id":4801794,"body_markdown":"From the javadoc\r\n\r\n    @param  the sole object to be stored in the returned list.\r\n    @return an immutable list containing only the specified object.\r\n    \r\nexample    \r\n\r\n    import java.util.*;\r\n\r\n    public class HelloWorld {\r\n        public static void main(String args[]) {\r\n            // create an array of string objs\r\n            String initList[] = { &quot;One&quot;, &quot;Two&quot;, &quot;Four&quot;, &quot;One&quot;,};\r\n            \r\n            // create one list\r\n            List list = new ArrayList(Arrays.asList(initList));\r\n            \r\n            System.out.println(&quot;List value before: &quot;+list);\r\n            \r\n            // create singleton list\r\n            list = Collections.singletonList(&quot;OnlyOneElement&quot;);\r\n            list.add(&quot;five&quot;); //throws UnsupportedOperationException\r\n            System.out.println(&quot;List value after: &quot;+list);\r\n        }\r\n    }\r\n\r\nUse it when  code expects a read-only list, but you only want to pass one element in it. `singletonList` is (thread-)safe and fast.\r\n","title":"Use of Java&#39;s Collections.singletonList()?","body":"<p>From the javadoc</p>\n\n<pre><code>@param  the sole object to be stored in the returned list.\n@return an immutable list containing only the specified object.\n</code></pre>\n\n<p>example    </p>\n\n<pre><code>import java.util.*;\n\npublic class HelloWorld {\n    public static void main(String args[]) {\n        // create an array of string objs\n        String initList[] = { \"One\", \"Two\", \"Four\", \"One\",};\n\n        // create one list\n        List list = new ArrayList(Arrays.asList(initList));\n\n        System.out.println(\"List value before: \"+list);\n\n        // create singleton list\n        list = Collections.singletonList(\"OnlyOneElement\");\n        list.add(\"five\"); //throws UnsupportedOperationException\n        System.out.println(\"List value after: \"+list);\n    }\n}\n</code></pre>\n\n<p>Use it when  code expects a read-only list, but you only want to pass one element in it. <code>singletonList</code> is (thread-)safe and fast.</p>\n"},{"tags":[],"owner":{"account_id":13338050,"reputation":484,"user_id":9627242,"display_name":"ajain"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1576542880,"creation_date":1523545941,"answer_id":49800120,"question_id":4801794,"body_markdown":"To answer your immutable question: \r\n\r\n[`Collections.singletonList`](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Collections.html#singletonList(T)) will create an immutable List.\r\nAn immutable List (also referred to as an unmodifiable List) cannot have it&#39;s contents changed. The methods to add or remove items will throw exceptions if you try to alter the contents.\r\n\r\nA singleton List contains only that item and cannot be altered.","title":"Use of Java&#39;s Collections.singletonList()?","body":"<p>To answer your immutable question: </p>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Collections.html#singletonList(T)\" rel=\"noreferrer\"><code>Collections.singletonList</code></a> will create an immutable List.\nAn immutable List (also referred to as an unmodifiable List) cannot have it's contents changed. The methods to add or remove items will throw exceptions if you try to alter the contents.</p>\n\n<p>A singleton List contains only that item and cannot be altered.</p>\n"},{"tags":[],"owner":{"account_id":1704646,"reputation":442,"user_id":1563969,"display_name":"Sarang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566582308,"creation_date":1566582308,"answer_id":57630885,"question_id":4801794,"body_markdown":"singletonList can hold instance of any object. Object state can be modify.\r\n\r\n    List&lt;Character&gt; list = new ArrayList&lt;Character&gt;();\r\n    list.add(&#39;X&#39;);\r\n    list.add(&#39;Y&#39;);\r\n    System.out.println(&quot;Initial list: &quot;+ list);\r\n    List&lt;List&lt;Character&gt;&gt; list2 = Collections.singletonList(list);\r\n    list.add(&#39;Z&#39;);\r\n    System.out.println(list);\r\n    System.out.println(list2);\r\n\r\nWe can not define unmodifiableList like above.\r\n\r\n","title":"Use of Java&#39;s Collections.singletonList()?","body":"<p>singletonList can hold instance of any object. Object state can be modify.</p>\n\n<pre><code>List&lt;Character&gt; list = new ArrayList&lt;Character&gt;();\nlist.add('X');\nlist.add('Y');\nSystem.out.println(\"Initial list: \"+ list);\nList&lt;List&lt;Character&gt;&gt; list2 = Collections.singletonList(list);\nlist.add('Z');\nSystem.out.println(list);\nSystem.out.println(list2);\n</code></pre>\n\n<p>We can not define unmodifiableList like above.</p>\n"},{"tags":[],"owner":{"account_id":16363184,"reputation":326,"user_id":11818269,"display_name":"mouad36"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694293469,"creation_date":1694293469,"answer_id":77074044,"question_id":4801794,"body_markdown":"it&#39;s for creating an immutable list containing only the specified object.\r\n\r\n**As of Java 9**, use one of the ***of*** methods instead for creating immutable list of the given elements.\r\nexample : \r\n\r\n```lang-java\r\n    List&lt;Car&gt; singletonCarList = List.of(new Car());\r\n```","title":"Use of Java&#39;s Collections.singletonList()?","body":"<p>it's for creating an immutable list containing only the specified object.</p>\n<p><strong>As of Java 9</strong>, use one of the <em><strong>of</strong></em> methods instead for creating immutable list of the given elements.\nexample :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    List&lt;Car&gt; singletonCarList = List.of(new Car());\n</code></pre>\n"}],"owner":{"account_id":20344,"reputation":46577,"user_id":2288585,"accept_rate":60,"display_name":"Debajit"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234651,"favorite_count":0,"down_vote_count":2,"up_vote_count":224,"accepted_answer_id":4801854,"answer_count":7,"score":222,"last_activity_date":1694293469,"creation_date":1296021749,"question_id":4801794,"body_markdown":"What is the use of `Collections.singletonList()` in Java? I understand that it returns a list with one element. Why would I want to have a separate method to do that? How does immutability play a role here?\r\n\r\nAre there any special useful use-cases for this method rather than just being a convenient method?","title":"Use of Java&#39;s Collections.singletonList()?","body":"<p>What is the use of <code>Collections.singletonList()</code> in Java? I understand that it returns a list with one element. Why would I want to have a separate method to do that? How does immutability play a role here?</p>\n\n<p>Are there any special useful use-cases for this method rather than just being a convenient method?</p>\n"},{"tags":["java","spring-boot","amazon-s3","io","awss3transfermanager"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694292486,"post_id":77073919,"comment_id":135873055,"body_markdown":"How did you determine the `PrintWriter` wasn&#39;t being closed? That also shouldn&#39;t prevent a shutdown.","body":"How did you determine the <code>PrintWriter</code> wasn&#39;t being closed? That also shouldn&#39;t prevent a shutdown."},{"owner":{"account_id":18758024,"reputation":1,"user_id":13677567,"display_name":"Shaggy"},"score":0,"creation_date":1694292725,"post_id":77073919,"comment_id":135873068,"body_markdown":"When I comment out the PrintWriter code , the application went down","body":"When I comment out the PrintWriter code , the application went down"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694325071,"post_id":77073919,"comment_id":135874831,"body_markdown":"Well, why don&#39;t you profile the application and get some better insight than that.","body":"Well, why don&#39;t you profile the application and get some better insight than that."}],"owner":{"account_id":18758024,"reputation":1,"user_id":13677567,"display_name":"Shaggy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694291437,"creation_date":1694290712,"question_id":77073919,"body_markdown":"So I am making an archiver application using Spring boot, whenever application should start, fetch data from database , uploads to S3 and it should goes down automatically.\r\n\r\nSo, I used below property in application.yml\r\n\r\n\r\n```\r\nspring:\r\n   main:\r\n    web-application-type: none\r\n```\r\n\r\nand It was working as excepted like, Whenever my application starts  : It makes the S3 client, establish the Database connection , fetch data from Database using Hibernate , uploads into S3 using **PutObject** and goes down.\r\n\r\nLogs:\r\n\r\n```\r\n2023-09-10 01:04:51.578  INFO 14992 --- [           main] c.j.m.s.ArchiverBusinessServiceImpl  : Archiver process completed with status SUCCESS\r\n2023-09-10 01:04:51.592  INFO 14992 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-09-10 01:04:51.595  INFO 14992 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-09-10 01:04:55.606  INFO 14992 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nbut recently, to improve an S3 performance (Since I am uploading around 1-2 millions files at one time), I started using transfer manager.\r\nSo, Now application fetch data from database , crates a files in directory, use that directory for transfer manager for bulk upload in s3.\r\n\r\nProblem is , everything works as expected only this time application is not going down.\r\nIts just stops at \r\n\r\n```\r\n2023-09-10 01:04:51.578  INFO 14992 --- [           main] c.j.m.s.ArchiverBusinessServiceImpl  : Archiver process completed with status SUCCESS\r\n```\r\n\r\nso, when I did some analysis , looks like PrintWriter (used for creating files ) causing this issue i.e Its not getting closed when operation ends.\r\n\r\nHowever, I am closing printwriter using try-with-resource, tried with close() method as well.\r\n\r\nNeed an assist to resolve this.\r\n\r\nHere is the code snippet:\r\n\r\nfor creating a files\r\n\r\n```\r\npublic void storeFile(KeyEntity keyEntity, List&lt;JsonObject&gt; jsonObjects, String archiveDate) {\r\n\r\n        String fileName= getFileName(archiveDate,keyEntity);\r\n        String path = ArchiveProperties.getFileUploadPath();\r\n        Path dir= Paths.get(path);\r\n\r\n        if(!Files.exists(dir)){\r\n            try {\r\n                Files.createDirectories(dir);\r\n            } catch (IOException e) {\r\n                log.error(&quot;Exception occurred while creating directory {}&quot;,ArchiveProperties.getFileUploadPath());\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n        Path file = Paths.get(path,fileName);\r\n        try(PrintWriter printWriter = new PrintWriter(new FileWriter(file.toFile()))){\r\n            printWriter.print(jsonObjects);\r\n        } catch (IOException e) {\r\n            log.error(&quot;Exception occurred while writing into directory {} for filename {}&quot;, ArchiveProperties.getFileUploadPath(), fileName);\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\nDirectory upload using transfer Manager:\r\n\r\n```\r\npublic Boolean bulkUpload(String path, S3Properties s3Properties,String filePrefix){\r\n\r\n        log.info(&quot;S3ObjectStore:bulkUpload :: Initialing bulk upload for path {}&quot;,path);\r\n\r\n        AmazonS3Client s3 = S3Configuration.getS3Client(provider,s3Properties);\r\n        TransferManager transferManager = TransferManagerBuilder.standard().withS3Client(s3).build();\r\n        try {\r\n\r\n            MultipleFileUpload multipleFileUpload = transferManager.uploadDirectory(s3Properties.getBucket(),filePrefix,new File(path),false);\r\n            showTransferProgress(multipleFileUpload);\r\n            multipleFileUpload.waitForCompletion();\r\n\r\n        }\r\n        catch ( Exception e) {\r\n            log.error(&quot;S3ObjectStore:bulkUpload :: Exception occurred while uploading directory to s3&quot;,e);\r\n            return Boolean.FALSE;\r\n        }finally {\r\n            transferManager.shutdownNow();\r\n          \r\n        }\r\n        return Boolean.TRUE;\r\n    }\r\n\r\n```\r\n\r\n\r\n```\r\npublic static AmazonS3Client getS3Client(final IdaS3ClientKeysProvider provider, final S3Properties s3Properties){\r\n\r\n        log.info(&quot;Creating AmazonS3Client for bulk upload ..............&quot;);\r\n        IdaS3ClientKeysProvider idaS3ClientKeysProvider = provider;\r\n        //Set up the connection configuration\r\n        ClientConfiguration config = new ClientConfiguration().withRetryPolicy(ClientConfiguration.DEFAULT_RETRY_POLICY);\r\n        //DEFAULT_RETRY_POLICY=3 times retry for failure files\r\n        config.setProtocol(Protocol.HTTPS);\r\n        config.setSignerOverride(&quot;S3SignerType&quot;);\r\n        //Set up the AWS credentials\r\n        BasicAWSCredentials credentials = new BasicAWSCredentials(idaS3ClientKeysProvider.getS3Keys().getS3AccessKey(),idaS3ClientKeysProvider.getS3Keys().getS3SecretKey());\r\n        //Set up AWS Client\r\n        AmazonS3Client client = new AmazonS3Client(credentials,config);\r\n        client.setS3ClientOptions(S3ClientOptions.builder().setPathStyleAccess(true).build());\r\n        client.setEndpoint(s3Properties.getDataplaneEndpoint());\r\n        log.info(&quot;Inside AmazonS3Client :: access key :{}, secret key :{}&quot;,provider.getS3Keys().getS3AccessKey(),provider.getS3Keys().getS3SecretKey());\r\n        return client;\r\n    }\r\n```\r\n\r\n \r\n\r\n\r\n\r\nExpecting: Application should go down/ shutdown automatically\r\n","title":"How to check if any IO stream is open and forcefully close it in Java","body":"<p>So I am making an archiver application using Spring boot, whenever application should start, fetch data from database , uploads to S3 and it should goes down automatically.</p>\n<p>So, I used below property in application.yml</p>\n<pre><code>spring:\n   main:\n    web-application-type: none\n</code></pre>\n<p>and It was working as excepted like, Whenever my application starts  : It makes the S3 client, establish the Database connection , fetch data from Database using Hibernate , uploads into S3 using <strong>PutObject</strong> and goes down.</p>\n<p>Logs:</p>\n<pre><code>2023-09-10 01:04:51.578  INFO 14992 --- [           main] c.j.m.s.ArchiverBusinessServiceImpl  : Archiver process completed with status SUCCESS\n2023-09-10 01:04:51.592  INFO 14992 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-09-10 01:04:51.595  INFO 14992 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-09-10 01:04:55.606  INFO 14992 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n\nProcess finished with exit code 0\n</code></pre>\n<p>but recently, to improve an S3 performance (Since I am uploading around 1-2 millions files at one time), I started using transfer manager.\nSo, Now application fetch data from database , crates a files in directory, use that directory for transfer manager for bulk upload in s3.</p>\n<p>Problem is , everything works as expected only this time application is not going down.\nIts just stops at</p>\n<pre><code>2023-09-10 01:04:51.578  INFO 14992 --- [           main] c.j.m.s.ArchiverBusinessServiceImpl  : Archiver process completed with status SUCCESS\n</code></pre>\n<p>so, when I did some analysis , looks like PrintWriter (used for creating files ) causing this issue i.e Its not getting closed when operation ends.</p>\n<p>However, I am closing printwriter using try-with-resource, tried with close() method as well.</p>\n<p>Need an assist to resolve this.</p>\n<p>Here is the code snippet:</p>\n<p>for creating a files</p>\n<pre><code>public void storeFile(KeyEntity keyEntity, List&lt;JsonObject&gt; jsonObjects, String archiveDate) {\n\n        String fileName= getFileName(archiveDate,keyEntity);\n        String path = ArchiveProperties.getFileUploadPath();\n        Path dir= Paths.get(path);\n\n        if(!Files.exists(dir)){\n            try {\n                Files.createDirectories(dir);\n            } catch (IOException e) {\n                log.error(&quot;Exception occurred while creating directory {}&quot;,ArchiveProperties.getFileUploadPath());\n                throw new RuntimeException(e);\n            }\n        }\n        Path file = Paths.get(path,fileName);\n        try(PrintWriter printWriter = new PrintWriter(new FileWriter(file.toFile()))){\n            printWriter.print(jsonObjects);\n        } catch (IOException e) {\n            log.error(&quot;Exception occurred while writing into directory {} for filename {}&quot;, ArchiveProperties.getFileUploadPath(), fileName);\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>Directory upload using transfer Manager:</p>\n<pre><code>public Boolean bulkUpload(String path, S3Properties s3Properties,String filePrefix){\n\n        log.info(&quot;S3ObjectStore:bulkUpload :: Initialing bulk upload for path {}&quot;,path);\n\n        AmazonS3Client s3 = S3Configuration.getS3Client(provider,s3Properties);\n        TransferManager transferManager = TransferManagerBuilder.standard().withS3Client(s3).build();\n        try {\n\n            MultipleFileUpload multipleFileUpload = transferManager.uploadDirectory(s3Properties.getBucket(),filePrefix,new File(path),false);\n            showTransferProgress(multipleFileUpload);\n            multipleFileUpload.waitForCompletion();\n\n        }\n        catch ( Exception e) {\n            log.error(&quot;S3ObjectStore:bulkUpload :: Exception occurred while uploading directory to s3&quot;,e);\n            return Boolean.FALSE;\n        }finally {\n            transferManager.shutdownNow();\n          \n        }\n        return Boolean.TRUE;\n    }\n\n</code></pre>\n<pre><code>public static AmazonS3Client getS3Client(final IdaS3ClientKeysProvider provider, final S3Properties s3Properties){\n\n        log.info(&quot;Creating AmazonS3Client for bulk upload ..............&quot;);\n        IdaS3ClientKeysProvider idaS3ClientKeysProvider = provider;\n        //Set up the connection configuration\n        ClientConfiguration config = new ClientConfiguration().withRetryPolicy(ClientConfiguration.DEFAULT_RETRY_POLICY);\n        //DEFAULT_RETRY_POLICY=3 times retry for failure files\n        config.setProtocol(Protocol.HTTPS);\n        config.setSignerOverride(&quot;S3SignerType&quot;);\n        //Set up the AWS credentials\n        BasicAWSCredentials credentials = new BasicAWSCredentials(idaS3ClientKeysProvider.getS3Keys().getS3AccessKey(),idaS3ClientKeysProvider.getS3Keys().getS3SecretKey());\n        //Set up AWS Client\n        AmazonS3Client client = new AmazonS3Client(credentials,config);\n        client.setS3ClientOptions(S3ClientOptions.builder().setPathStyleAccess(true).build());\n        client.setEndpoint(s3Properties.getDataplaneEndpoint());\n        log.info(&quot;Inside AmazonS3Client :: access key :{}, secret key :{}&quot;,provider.getS3Keys().getS3AccessKey(),provider.getS3Keys().getS3SecretKey());\n        return client;\n    }\n</code></pre>\n<p>Expecting: Application should go down/ shutdown automatically</p>\n"},{"tags":["java","java.util.logging","printstacktrace"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597465645,"creation_date":1597380223,"answer_id":63406670,"question_id":63406604,"body_markdown":"The &quot;Caused by&quot; means that this is a nested exception.\r\n\r\nThe &quot;... 30 more&quot; in a nested exception stacktrace means that those 30 lines are the same as in the primary exception.\r\n\r\nSo just look at the primary stacktrace to see those stack frames.\r\n\r\n------------------------\r\n\r\nApparently your exception stacktraces are being generated in a way that is suppressing (or removing) the primary exception stacktrace.  This is puzzling, but it is probably being done by one of the unit testing libraries that you are using.\r\n\r\nGetting to the bottom of this will probably involve you either debugging whatever it is that is generating the stacktrace, or writing a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) so that someone else can debug it.\r\n\r\n","title":"In Java - how do I get a full stack trace","body":"<p>The &quot;Caused by&quot; means that this is a nested exception.</p>\n<p>The &quot;... 30 more&quot; in a nested exception stacktrace means that those 30 lines are the same as in the primary exception.</p>\n<p>So just look at the primary stacktrace to see those stack frames.</p>\n<hr />\n<p>Apparently your exception stacktraces are being generated in a way that is suppressing (or removing) the primary exception stacktrace.  This is puzzling, but it is probably being done by one of the unit testing libraries that you are using.</p>\n<p>Getting to the bottom of this will probably involve you either debugging whatever it is that is generating the stacktrace, or writing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so that someone else can debug it.</p>\n"}],"owner":{"account_id":4139900,"reputation":61,"user_id":3395540,"display_name":"Adam Kaye-Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694290560,"creation_date":1597379715,"question_id":63406604,"body_markdown":"Currently I get the following output from code run\r\n```\r\nCaused by: java.lang.NullPointerException\r\n\tat com.gargoylesoftware.htmlunit.html.HtmlScript$2.execute(HtmlScript.java:227)\r\n\tat com.gargoylesoftware.htmlunit.html.HtmlScript.onAllChildrenAddedToPage(HtmlScript.java:256)\r\n\tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:560)\r\n\tat org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source)\r\n\tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:514)\r\n\tat net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.callEndElement(HTMLTagBalancer.java:1192)\r\n\tat net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.endElement(HTMLTagBalancer.java:1132)\r\n\tat net.sourceforge.htmlunit.cyberneko.filters.DefaultFilter.endElement(DefaultFilter.java:219)\r\n\tat net.sourceforge.htmlunit.cyberneko.filters.NamespaceBinder.endElement(NamespaceBinder.java:312)\r\n\tat net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scanEndElement(HTMLScanner.java:3189)\r\n\tat net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scan(HTMLScanner.java:2114)\r\n\tat net.sourceforge.htmlunit.cyberneko.HTMLScanner.scanDocument(HTMLScanner.java:937)\r\n\tat net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:443)\r\n\tat net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:394)\r\n\tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\r\n\tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.parse(HtmlUnitNekoDOMBuilder.java:760)\r\n\tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoHtmlParser.parseFragment(HtmlUnitNekoHtmlParser.java:158)\r\n\tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoHtmlParser.parseFragment(HtmlUnitNekoHtmlParser.java:112)\r\n\tat com.gargoylesoftware.htmlunit.javascript.host.Element.parseHtmlSnippet(Element.java:868)\r\n\tat com.gargoylesoftware.htmlunit.javascript.host.Element.setInnerHTML(Element.java:920)\r\n\tat com.gargoylesoftware.htmlunit.javascript.host.html.HTMLElement.setInnerHTML(HTMLElement.java:676)\r\n\tat sun.reflect.GeneratedMethodAccessor17.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat net.sourceforge.htmlunit.corejs.javascript.MemberBox.invoke(MemberBox.java:188)\r\n\t... 30 more\r\n```\r\n\r\nThe above `... 30 more` means that I do not know the line of my code that causes the problem. How can I get the full stack trace.\r\n\r\nAlso, if it does not seem to be running any of my catch statements with `printStackTrace`, but if I turn off logging with the below command \r\n\r\n```java\r\njava.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(java.util.logging.Level.OFF);\r\n\r\njava.util.logging.Logger.getLogger(&quot;org.apache.http&quot;).setLevel(java.util.logging.Level.OFF);\r\n\r\n\r\n**Have put in my full code below as suggested by the comments below . Did not put in the actual URL though**\r\n\r\nimport com.gargoylesoftware.htmlunit.html.*;\r\nimport java.io.File;\r\nimport com.gargoylesoftware.htmlunit.WebClient;\r\nimport com.gargoylesoftware.htmlunit.html.HtmlPage;\r\n\r\n\r\n\r\npublic class download_to_send_to_stackoverflow\r\n{\r\n     public static void main(String args[])\r\n     {\r\n\r\n      String url = &quot;did not want to include the actual web site &quot;;\r\n\r\n\r\n      HtmlPage page = null;\r\n\r\n      WebClient webClient = new WebClient();\r\n\t  webClient.getOptions().setRedirectEnabled(true);  \r\n\t  webClient.getOptions().setJavaScriptEnabled(true);  // tried making false - but didnt work\r\n \t  webClient.getOptions().setCssEnabled(false);\r\n\t  webClient.getOptions().setUseInsecureSSL(true);\r\n          webClient.getOptions().setTimeout(30000);\r\n\t  webClient.setJavaScriptTimeout(30000); //e.g. 50s\r\n \t  webClient.waitForBackgroundJavaScript(15000) ;   // added 2017/1/24\r\n\t  webClient.waitForBackgroundJavaScriptStartingBefore(30000) ;   // added 2017/1/24\r\n\r\n\r\n          try\r\n               {\r\n               page = webClient.getPage( url );\r\n   \t       savePage_just_html(page );  \r\n\t       }\r\n\r\n          catch( Exception e )\r\n               {\r\n               System.out.println( &quot;Exception thrown:----------------------------------------&quot; + e.getMessage() );\r\n               e.printStackTrace();\r\n               }\r\n     }\r\n\r\n\r\n\r\n\r\n     protected static String savePage_just_html(HtmlPage page)\r\n     {\r\n          try\r\n          {\r\n          \tFile saveFolder = new File(&quot;spool/_&quot;);\r\n\t        page.save(saveFolder);   // this is the line causing the error with limit stack trace\r\n          }\r\n\r\n\r\n\r\n          catch ( Exception e )\r\n          {\r\n               System.out.println( &quot;IOException was thrown: ---------------------------------- &quot; + e.getMessage() );\r\n               e.printStackTrace();\r\n          }\r\n\r\n\r\n          return &quot;file.html&quot;;\r\n     }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n------------------------------------------------------\r\n\r\n\r\n  page.save(saveFolder);   above is the problem line.  if I take it out I dont get the limited statcktrace errors but I also dont save the html page - which I want to do\r\n\r\n- The question is - why does this line only print a limited stacktrace","title":"In Java - how do I get a full stack trace","body":"<p>Currently I get the following output from code run</p>\n<pre><code>Caused by: java.lang.NullPointerException\n    at com.gargoylesoftware.htmlunit.html.HtmlScript$2.execute(HtmlScript.java:227)\n    at com.gargoylesoftware.htmlunit.html.HtmlScript.onAllChildrenAddedToPage(HtmlScript.java:256)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:560)\n    at org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:514)\n    at net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.callEndElement(HTMLTagBalancer.java:1192)\n    at net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.endElement(HTMLTagBalancer.java:1132)\n    at net.sourceforge.htmlunit.cyberneko.filters.DefaultFilter.endElement(DefaultFilter.java:219)\n    at net.sourceforge.htmlunit.cyberneko.filters.NamespaceBinder.endElement(NamespaceBinder.java:312)\n    at net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scanEndElement(HTMLScanner.java:3189)\n    at net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scan(HTMLScanner.java:2114)\n    at net.sourceforge.htmlunit.cyberneko.HTMLScanner.scanDocument(HTMLScanner.java:937)\n    at net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:443)\n    at net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:394)\n    at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.parse(HtmlUnitNekoDOMBuilder.java:760)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoHtmlParser.parseFragment(HtmlUnitNekoHtmlParser.java:158)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoHtmlParser.parseFragment(HtmlUnitNekoHtmlParser.java:112)\n    at com.gargoylesoftware.htmlunit.javascript.host.Element.parseHtmlSnippet(Element.java:868)\n    at com.gargoylesoftware.htmlunit.javascript.host.Element.setInnerHTML(Element.java:920)\n    at com.gargoylesoftware.htmlunit.javascript.host.html.HTMLElement.setInnerHTML(HTMLElement.java:676)\n    at sun.reflect.GeneratedMethodAccessor17.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at net.sourceforge.htmlunit.corejs.javascript.MemberBox.invoke(MemberBox.java:188)\n    ... 30 more\n</code></pre>\n<p>The above <code>... 30 more</code> means that I do not know the line of my code that causes the problem. How can I get the full stack trace.</p>\n<p>Also, if it does not seem to be running any of my catch statements with <code>printStackTrace</code>, but if I turn off logging with the below command</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(java.util.logging.Level.OFF);\n\njava.util.logging.Logger.getLogger(&quot;org.apache.http&quot;).setLevel(java.util.logging.Level.OFF);\n\n\n**Have put in my full code below as suggested by the comments below . Did not put in the actual URL though**\n\nimport com.gargoylesoftware.htmlunit.html.*;\nimport java.io.File;\nimport com.gargoylesoftware.htmlunit.WebClient;\nimport com.gargoylesoftware.htmlunit.html.HtmlPage;\n\n\n\npublic class download_to_send_to_stackoverflow\n{\n     public static void main(String args[])\n     {\n\n      String url = &quot;did not want to include the actual web site &quot;;\n\n\n      HtmlPage page = null;\n\n      WebClient webClient = new WebClient();\n      webClient.getOptions().setRedirectEnabled(true);  \n      webClient.getOptions().setJavaScriptEnabled(true);  // tried making false - but didnt work\n      webClient.getOptions().setCssEnabled(false);\n      webClient.getOptions().setUseInsecureSSL(true);\n          webClient.getOptions().setTimeout(30000);\n      webClient.setJavaScriptTimeout(30000); //e.g. 50s\n      webClient.waitForBackgroundJavaScript(15000) ;   // added 2017/1/24\n      webClient.waitForBackgroundJavaScriptStartingBefore(30000) ;   // added 2017/1/24\n\n\n          try\n               {\n               page = webClient.getPage( url );\n           savePage_just_html(page );  \n           }\n\n          catch( Exception e )\n               {\n               System.out.println( &quot;Exception thrown:----------------------------------------&quot; + e.getMessage() );\n               e.printStackTrace();\n               }\n     }\n\n\n\n\n     protected static String savePage_just_html(HtmlPage page)\n     {\n          try\n          {\n            File saveFolder = new File(&quot;spool/_&quot;);\n            page.save(saveFolder);   // this is the line causing the error with limit stack trace\n          }\n\n\n\n          catch ( Exception e )\n          {\n               System.out.println( &quot;IOException was thrown: ---------------------------------- &quot; + e.getMessage() );\n               e.printStackTrace();\n          }\n\n\n          return &quot;file.html&quot;;\n     }\n\n\n\n}\n\n\n\n------------------------------------------------------\n\n\n  page.save(saveFolder);   above is the problem line.  if I take it out I dont get the limited statcktrace errors but I also dont save the html page - which I want to do\n\n- The question is - why does this line only print a limited stacktrace\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"display_name":"user1410081"},"score":0,"creation_date":1454696374,"post_id":30909922,"comment_id":58176263,"body_markdown":"Can you show your project structure?","body":"Can you show your project structure?"},{"owner":{"account_id":1576433,"reputation":22953,"user_id":1462718,"accept_rate":89,"display_name":"Brandon"},"score":0,"creation_date":1468888404,"post_id":30909922,"comment_id":64301050,"body_markdown":"Why are you trying to open XXX library? ;) Pr0n..","body":"Why are you trying to open XXX library? ;) Pr0n.."}],"answers":[{"tags":[],"owner":{"account_id":3385495,"reputation":4501,"user_id":2841538,"display_name":"us_david"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468888110,"creation_date":1468888110,"answer_id":38447823,"question_id":30909922,"body_markdown":"Try this:  \r\n\r\n    System.loadLibrary(&quot;kdu_jni&quot;);\r\n\r\n  \r\nloadLibrary() actually load from the ape&#39;s lib/. Also you don&#39;t need to specify &#39;lib&#39; &amp; the extension &#39;so&#39;.  \r\n\r\nHope this helps.  \r\n","title":"dlopen(&quot;xxxx&quot;) failed: dlopen failed: library &quot;xxxx&quot; not found","body":"<p>Try this:  </p>\n\n<pre><code>System.loadLibrary(\"kdu_jni\");\n</code></pre>\n\n<p>loadLibrary() actually load from the ape's lib/. Also you don't need to specify 'lib' &amp; the extension 'so'.  </p>\n\n<p>Hope this helps.  </p>\n"},{"tags":[],"owner":{"account_id":4352710,"reputation":83,"user_id":3552455,"accept_rate":57,"display_name":"Eliran Goshen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480267253,"creation_date":1480267253,"answer_id":40831675,"question_id":30909922,"body_markdown":"I have same problem with other .so file.\r\nI added jniLibs library to `...src/main` with the relevant file and it worked.\r\nMaybe you can try it to.\r\n\r\n","title":"dlopen(&quot;xxxx&quot;) failed: dlopen failed: library &quot;xxxx&quot; not found","body":"<p>I have same problem with other .so file.\nI added jniLibs library to <code>...src/main</code> with the relevant file and it worked.\nMaybe you can try it to.</p>\n"},{"tags":[],"owner":{"account_id":1324963,"reputation":14633,"user_id":1270008,"display_name":"tanius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591806401,"creation_date":1591806401,"answer_id":62308454,"question_id":30909922,"body_markdown":"With `System.load(&quot;…&quot;);` you are loading a library in a way that is undetectable by the Android APK packaging code of your build system. Due to this, the library is not included into the APK and cannot be found at runtime when you start the app on an Android device.\r\n\r\nTo solve this, use the mechanism of your build system to make the APK packager aware of extra libraries to include. This will differ between build systems. As an example, this in a CMake build system you would just add the library to the list of libraries in `target_link_libraries(…)`:\r\n\r\n```\r\nadd_executable(my_executable_name ${SRCS} ${RESOURCES})\r\n\r\n# Link all required libraries with the executable, \r\n# and include them into the Android APK.\r\ntarget_link_libraries(my_executable_name\r\n    # Name libraries here as you would when calling &quot;g++ -l…&quot;.\r\n    # Alternatively, use absolute paths.\r\n    Qt5::Core\r\n    Qt5::Quick\r\n    /my/path/to/native/libkdu_jni.so\r\n)\r\n```\r\n","title":"dlopen(&quot;xxxx&quot;) failed: dlopen failed: library &quot;xxxx&quot; not found","body":"<p>With <code>System.load(\"…\");</code> you are loading a library in a way that is undetectable by the Android APK packaging code of your build system. Due to this, the library is not included into the APK and cannot be found at runtime when you start the app on an Android device.</p>\n\n<p>To solve this, use the mechanism of your build system to make the APK packager aware of extra libraries to include. This will differ between build systems. As an example, this in a CMake build system you would just add the library to the list of libraries in <code>target_link_libraries(…)</code>:</p>\n\n<pre><code>add_executable(my_executable_name ${SRCS} ${RESOURCES})\n\n# Link all required libraries with the executable, \n# and include them into the Android APK.\ntarget_link_libraries(my_executable_name\n    # Name libraries here as you would when calling \"g++ -l…\".\n    # Alternatively, use absolute paths.\n    Qt5::Core\n    Qt5::Quick\n    /my/path/to/native/libkdu_jni.so\n)\n</code></pre>\n"}],"owner":{"account_id":5350827,"reputation":1022,"user_id":4265006,"accept_rate":95,"display_name":"Dauezevy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8454,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1694290065,"creation_date":1434615278,"question_id":30909922,"body_markdown":"    package com.test.nativeapp;\r\n    \r\n    import android.support.v7.app.ActionBarActivity;\r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    \r\n    public class MainActivity extends ActionBarActivity {\r\n    \t\r\n    \tstatic {\r\n    \t    try {\r\n    \t    \tSystem.load(&quot;native/libkdu_jni.so&quot;);\r\n    \t    } catch (UnsatisfiedLinkError e) {\r\n    \t      System.err.println(&quot;Native code library failed to load.\\n&quot; + e);\r\n    \t      System.exit(1);\r\n    \t    }\r\n    \t  }\r\n    \t\r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_main);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean onCreateOptionsMenu(Menu menu) {\r\n    \t\t// Inflate the menu; this adds items to the action bar if it is present.\r\n    \t\tgetMenuInflater().inflate(R.menu.main, menu);\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean onOptionsItemSelected(MenuItem item) {\r\n    \t\t// Handle action bar item clicks here. The action bar will\r\n    \t\t// automatically handle clicks on the Home/Up button, so long\r\n    \t\t// as you specify a parent activity in AndroidManifest.xml.\r\n    \t\tint id = item.getItemId();\r\n    \t\tif (id == R.id.action_settings) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn super.onOptionsItemSelected(item);\r\n    \t}\r\n    }\r\n\r\nLogCat Error:\r\n\r\n\r\n \r\n\r\n&gt; 06-18 11:13:55.235: D/dalvikvm(17658): Trying to load lib\r\n&gt; native/libkdu_jni.so 0x421eeb38 06-18 11:13:55.235: E/dalvikvm(17658):\r\n&gt; dlopen(&quot;native/libkdu_jni.so&quot;) failed: dlopen failed: library\r\n&gt; &quot;native/libkdu_jni.so&quot; not found\r\n&gt; \r\n&gt; \r\n&gt; 06-18 11:13:55.235: W/System.err(17658): Native code library failed to\r\n&gt; load.\r\n&gt; \r\n&gt; \r\n&gt; 06-18 11:13:55.235: W/System.err(17658):\r\n&gt; java.lang.UnsatisfiedLinkError: dlopen failed: library\r\n&gt; &quot;native/libkdu_jni.so&quot; not found\r\n\r\n\r\n\r\nWhere should i put this folder ?","title":"dlopen(&quot;xxxx&quot;) failed: dlopen failed: library &quot;xxxx&quot; not found","body":"<pre><code>package com.test.nativeapp;\n\nimport android.support.v7.app.ActionBarActivity;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuItem;\n\npublic class MainActivity extends ActionBarActivity {\n\n    static {\n        try {\n            System.load(\"native/libkdu_jni.so\");\n        } catch (UnsatisfiedLinkError e) {\n          System.err.println(\"Native code library failed to load.\\n\" + e);\n          System.exit(1);\n        }\n      }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n        if (id == R.id.action_settings) {\n            return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n\n<p>LogCat Error:</p>\n\n<blockquote>\n  <p>06-18 11:13:55.235: D/dalvikvm(17658): Trying to load lib\n  native/libkdu_jni.so 0x421eeb38 06-18 11:13:55.235: E/dalvikvm(17658):\n  dlopen(\"native/libkdu_jni.so\") failed: dlopen failed: library\n  \"native/libkdu_jni.so\" not found</p>\n  \n  <p>06-18 11:13:55.235: W/System.err(17658): Native code library failed to\n  load.</p>\n  \n  <p>06-18 11:13:55.235: W/System.err(17658):\n  java.lang.UnsatisfiedLinkError: dlopen failed: library\n  \"native/libkdu_jni.so\" not found</p>\n</blockquote>\n\n<p>Where should i put this folder ?</p>\n"},{"tags":["java","android","gridview","android-custom-view"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1694334245,"post_id":77073887,"comment_id":135875454,"body_markdown":"Is your gridView layout actually inflated before you make a calls like findViewById?","body":"Is your gridView layout actually inflated before you make a calls like findViewById?"},{"owner":{"account_id":29350372,"reputation":11,"user_id":22487654,"display_name":"NikoBitan"},"score":0,"creation_date":1694337332,"post_id":77073887,"comment_id":135875736,"body_markdown":"I made an XML file with a GridView with the id &quot;grid_table&quot;","body":"I made an XML file with a GridView with the id &quot;grid_table&quot;"}],"owner":{"account_id":29350372,"reputation":11,"user_id":22487654,"display_name":"NikoBitan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694289961,"creation_date":1694289961,"question_id":77073887,"body_markdown":"I want to generate a GridView, the number of columns is always 5 what changes is the number of rows, i have a spinner with numbers from 5 to 10 which dictates how many rows the grid should have.\r\nBesides just genereting the grid i also want for each of the cells to have a view inside them once the grid is created, it&#39;s a custom view called EmptyCell.\r\nHow do i do that?\r\n\r\nThis is the function that should create a GridView:\r\n\r\n```\r\nprivate View createGrid(int numRow){\r\n\r\n        GridView gridview = findViewById(R.id.grid_table);\r\n        gridview.setNumColumns(5);\r\n\r\n        GridAdapter gridadapter = new GridAdapter(WeekEditing.this, numRow);\r\n        gridview.setAdapter(gridadapter);\r\n\r\n        return gridview;\r\n    }\r\n```\r\nAnd this is the custom adapter that i wrote:\r\n\r\n```\r\npackage com.example.teacherplanner;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.BaseAdapter;\r\nimport android.widget.LinearLayout;\r\n\r\npublic class GridAdapter extends BaseAdapter {\r\n\r\n    private Context context;\r\n    private int numRows;\r\n\r\n    public GridAdapter(Context context, int numRows) {\r\n        this.context = context;\r\n        this.numRows = numRows;\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return numRows * 5;\r\n    }\r\n\r\n    @Override\r\n    public Object getItem(int position) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return 0;\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        if (convertView == null) {\r\n            LayoutInflater inflater = LayoutInflater.from(context);\r\n            convertView = inflater.inflate(R.layout.empty_cell, parent, false);\r\n        }\r\n\r\n        LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\r\n                ViewGroup.LayoutParams.WRAP_CONTENT,\r\n                ViewGroup.LayoutParams.WRAP_CONTENT\r\n        );\r\n        convertView.setLayoutParams(layoutParams);\r\n\r\n        return convertView;\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy idea was to add a GripView in the XML file and to change it whnever i would call the function but my program keeps crashing\r\n\r\n","title":"How to create a GridView with views inside cells using a spinner","body":"<p>I want to generate a GridView, the number of columns is always 5 what changes is the number of rows, i have a spinner with numbers from 5 to 10 which dictates how many rows the grid should have.\nBesides just genereting the grid i also want for each of the cells to have a view inside them once the grid is created, it's a custom view called EmptyCell.\nHow do i do that?</p>\n<p>This is the function that should create a GridView:</p>\n<pre><code>private View createGrid(int numRow){\n\n        GridView gridview = findViewById(R.id.grid_table);\n        gridview.setNumColumns(5);\n\n        GridAdapter gridadapter = new GridAdapter(WeekEditing.this, numRow);\n        gridview.setAdapter(gridadapter);\n\n        return gridview;\n    }\n</code></pre>\n<p>And this is the custom adapter that i wrote:</p>\n<pre><code>package com.example.teacherplanner;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.BaseAdapter;\nimport android.widget.LinearLayout;\n\npublic class GridAdapter extends BaseAdapter {\n\n    private Context context;\n    private int numRows;\n\n    public GridAdapter(Context context, int numRows) {\n        this.context = context;\n        this.numRows = numRows;\n    }\n\n    @Override\n    public int getCount() {\n        return numRows * 5;\n    }\n\n    @Override\n    public Object getItem(int position) {\n        return null;\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return 0;\n    }\n\n\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        if (convertView == null) {\n            LayoutInflater inflater = LayoutInflater.from(context);\n            convertView = inflater.inflate(R.layout.empty_cell, parent, false);\n        }\n\n        LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\n                ViewGroup.LayoutParams.WRAP_CONTENT,\n                ViewGroup.LayoutParams.WRAP_CONTENT\n        );\n        convertView.setLayoutParams(layoutParams);\n\n        return convertView;\n    }\n}\n\n</code></pre>\n<p>My idea was to add a GripView in the XML file and to change it whnever i would call the function but my program keeps crashing</p>\n"},{"tags":["java","classloader"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1694291724,"post_id":77073806,"comment_id":135872979,"body_markdown":"The extension/platform and system/application class loaders are both &quot;user-defined class loaders&quot;. That is to say, they are instances of `java.lang.ClassLoader` written in Java code.","body":"The extension/platform and system/application class loaders are both &quot;user-defined class loaders&quot;. That is to say, they are instances of <code>java.lang.ClassLoader</code> written in Java code."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1694304738,"post_id":77073806,"comment_id":135873899,"body_markdown":"Didnt extension classloader go away as of java 9?","body":"Didnt extension classloader go away as of java 9?"},{"owner":{"account_id":1778034,"reputation":595,"user_id":1621408,"accept_rate":85,"display_name":"gaurs"},"score":0,"creation_date":1694315374,"post_id":77073806,"comment_id":135874357,"body_markdown":"@NathanHughes: Yes, its  replaced with `PlatformClassLoader` post Java9 with backward compatibility.","body":"@NathanHughes: Yes, its  replaced with <code>PlatformClassLoader</code> post Java9 with backward compatibility."},{"owner":{"account_id":1778034,"reputation":595,"user_id":1621408,"accept_rate":85,"display_name":"gaurs"},"score":0,"creation_date":1694320812,"post_id":77073806,"comment_id":135874591,"body_markdown":"@Slaw: Is it because the Bootstrap class loader is a native implementation and the other two are Java implementations? As per the [javadocs](https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/lang/ClassLoader.html): The Java run-time has the following built-in class loaders:  Bootstrap, Platform, and System.\n\nSo what are the criteria for this user-defined vs. JVM provided categorization if all are provided by JVM itself?","body":"@Slaw: Is it because the Bootstrap class loader is a native implementation and the other two are Java implementations? As per the <a href=\"https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\">javadocs</a>: The Java run-time has the following built-in class loaders:  Bootstrap, Platform, and System.  So what are the criteria for this user-defined vs. JVM provided categorization if all are provided by JVM itself?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1694382666,"post_id":77073806,"comment_id":135880212,"body_markdown":"The platform and system loaders are _not_ provided by the JVM. They are provided by the standard library (though the implementations are internal). But something has to start things off (i.e., _bootstrap_ the class loading process). This is done by a special class loader built into the JVM itself.","body":"The platform and system loaders are <i>not</i> provided by the JVM. They are provided by the standard library (though the implementations are internal). But something has to start things off (i.e., <i>bootstrap</i> the class loading process). This is done by a special class loader built into the JVM itself."},{"owner":{"account_id":1778034,"reputation":595,"user_id":1621408,"accept_rate":85,"display_name":"gaurs"},"score":0,"creation_date":1694581732,"post_id":77073806,"comment_id":135908337,"body_markdown":"Can&#39;t accept it as an answer (as its a comment), but that clarifies @Slaw. thanks","body":"Can&#39;t accept it as an answer (as its a comment), but that clarifies @Slaw. thanks"}],"owner":{"account_id":1778034,"reputation":595,"user_id":1621408,"accept_rate":85,"display_name":"gaurs"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694288660,"creation_date":1694288660,"question_id":77073806,"body_markdown":"As mentioned in [JVM specification][1]:\r\n\r\n&gt; There are two kinds of class loaders: the **bootstrap class loader**\r\n&gt; supplied by the Java Virtual Machine, and **user-defined class loaders**.\r\n&gt; Every user-defined class loader is an instance of a subclass of the\r\n&gt; abstract class ClassLoader.\r\n\r\nAdditionally, we know that at JVM startup, the following class loaders are set:\r\n\r\n1. Bootstrap class loader\r\n2. Extension or Platform class loader\r\n3. System or Application class loader \r\n\r\nwhich seems to be contradictory to what is mentioned in the JVM spec as instead of just the bootstrap class loader, there are other classloaders as well supplied by JVM.\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-5.html#jvms-5.3","title":"Java Classloaders types","body":"<p>As mentioned in <a href=\"https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-5.html#jvms-5.3\" rel=\"nofollow noreferrer\">JVM specification</a>:</p>\n<blockquote>\n<p>There are two kinds of class loaders: the <strong>bootstrap class loader</strong>\nsupplied by the Java Virtual Machine, and <strong>user-defined class loaders</strong>.\nEvery user-defined class loader is an instance of a subclass of the\nabstract class ClassLoader.</p>\n</blockquote>\n<p>Additionally, we know that at JVM startup, the following class loaders are set:</p>\n<ol>\n<li>Bootstrap class loader</li>\n<li>Extension or Platform class loader</li>\n<li>System or Application class loader</li>\n</ol>\n<p>which seems to be contradictory to what is mentioned in the JVM spec as instead of just the bootstrap class loader, there are other classloaders as well supplied by JVM.</p>\n"},{"tags":["java","android","kotlin","intellij-idea","android-view"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694289423,"post_id":77073764,"comment_id":135872763,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1694290110,"post_id":77073764,"comment_id":135872834,"body_markdown":"“Even though the class isn’t generated yet” why do you think this is the case? It generates the new binding class automatically. The compiler is constantly recompiling your Kotlin code as you type it. That’s how it can show you errors before you build the app.","body":"“Even though the class isn’t generated yet” why do you think this is the case? It generates the new binding class automatically. The compiler is constantly recompiling your Kotlin code as you type it. That’s how it can show you errors before you build the app."},{"owner":{"account_id":28079978,"reputation":1,"user_id":21451224,"display_name":"Nikolai"},"score":0,"creation_date":1694290426,"post_id":77073764,"comment_id":135872867,"body_markdown":"@Tenfour04 I found ActivityMainBinding.java file in biuld/generated directory, but it changes only when I run application. So there&#39;s something under the hood of IntelliJ that I can&#39;t see in real time?","body":"@Tenfour04 I found ActivityMainBinding.java file in biuld/generated directory, but it changes only when I run application. So there&#39;s something under the hood of IntelliJ that I can&#39;t see in real time?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1694290712,"post_id":77073764,"comment_id":135872888,"body_markdown":"I guess I never really thought about it but that must be the case. The stuff in `build` is where it copies all the relevant code for a build and that gets compiled fully when doing a build. That’s not what it’s looking at to generate code hints and errors as you are programming.","body":"I guess I never really thought about it but that must be the case. The stuff in <code>build</code> is where it copies all the relevant code for a build and that gets compiled fully when doing a build. That’s not what it’s looking at to generate code hints and errors as you are programming."}],"owner":{"account_id":28079978,"reputation":1,"user_id":21451224,"display_name":"Nikolai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694287983,"creation_date":1694287835,"question_id":77073764,"body_markdown":"I was playing around Kotlin and learned about ViewBinding and how it works. It seems quite easy for me but there is one thing I don&#39;t understand. I edit activity_main.xml and instantly get hints on ActivityMainBinding instance&#39;s fields. For example, I add a new TextView in xml layout and AndroidStudio immediately shows me hints on this View, even though the class has not been generated yet. Is it just an AndroidStudio built-in analyzer feature or something else? Does it really calculate this in real time and allows you to see the class fields that have not yet been generated, but will appear at the next build of the application?","title":"How I get hints from IntelliJ on ViewBinding class fields when this class is not generated yet?","body":"<p>I was playing around Kotlin and learned about ViewBinding and how it works. It seems quite easy for me but there is one thing I don't understand. I edit activity_main.xml and instantly get hints on ActivityMainBinding instance's fields. For example, I add a new TextView in xml layout and AndroidStudio immediately shows me hints on this View, even though the class has not been generated yet. Is it just an AndroidStudio built-in analyzer feature or something else? Does it really calculate this in real time and allows you to see the class fields that have not yet been generated, but will appear at the next build of the application?</p>\n"},{"tags":["java","android","gridview"],"comments":[{"owner":{"account_id":17523909,"reputation":407,"user_id":12709358,"display_name":"Elango"},"score":0,"creation_date":1694288386,"post_id":77073771,"comment_id":135872654,"body_markdown":"welcome , Plz read [HOW TO ASK](https://stackoverflow.com/help/how-to-ask)","body":"welcome , Plz read <a href=\"https://stackoverflow.com/help/how-to-ask\">HOW TO ASK</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694323458,"post_id":77073771,"comment_id":135874751,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":29403393,"reputation":3,"user_id":22529371,"display_name":"Christyan Rodriguez"},"score":0,"creation_date":1694376190,"post_id":77073771,"comment_id":135879600,"body_markdown":"I need to go through the recyclerview items and get the position in an alertdialog","body":"I need to go through the recyclerview items and get the position in an alertdialog"}],"owner":{"account_id":29403393,"reputation":3,"user_id":22529371,"display_name":"Christyan Rodriguez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694287979,"creation_date":1694287979,"question_id":77073771,"body_markdown":"I have an application that will be used on a large screen and operated only with an external keyboard. There is a gridview dynamically inflated according to a database and I have to scroll through its items with the arrows on the external keyboard and highlight the one that has the focus so that if the Enter key is pressed an alertdialog is displayed with the data of that item. I can show the alert with the data, but I don&#39;t know how to navigate the gridview with the arrows on an external keyboard.\r\n\r\n\r\nchange the selection focus of each element of the gridview and show alert with data of the selected element when pressing ENTER","title":"navigate textview of gridview with arrows android","body":"<p>I have an application that will be used on a large screen and operated only with an external keyboard. There is a gridview dynamically inflated according to a database and I have to scroll through its items with the arrows on the external keyboard and highlight the one that has the focus so that if the Enter key is pressed an alertdialog is displayed with the data of that item. I can show the alert with the data, but I don't know how to navigate the gridview with the arrows on an external keyboard.</p>\n<p>change the selection focus of each element of the gridview and show alert with data of the selected element when pressing ENTER</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694287676,"creation_date":1694282256,"answer_id":77073431,"question_id":77072217,"body_markdown":"There are a bit differences in term of the generated insert SQL and the configuration of the create timestamp column.\r\n\r\n\r\n`@Column(updatable = false, insertable = false)` requires you to configure the DB column to have a default value which is set to the current timestamp. The generate SQL will not include the created time column because of `insertable=false`\r\n\r\n\r\n`@CreationTimestamp(source = SourceType.DB)` does not require the DB column to have such default value setting. Hibernate will call the current timestamp fucntion from DB, and use its value to generate the insert SQL. \r\n\r\n","title":"@CreationTimestamp with value from DB is excessive?","body":"<p>There are a bit differences in term of the generated insert SQL and the configuration of the create timestamp column.</p>\n<p><code>@Column(updatable = false, insertable = false)</code> requires you to configure the DB column to have a default value which is set to the current timestamp. The generate SQL will not include the created time column because of <code>insertable=false</code></p>\n<p><code>@CreationTimestamp(source = SourceType.DB)</code> does not require the DB column to have such default value setting. Hibernate will call the current timestamp fucntion from DB, and use its value to generate the insert SQL.</p>\n"}],"owner":{"account_id":5863731,"reputation":807,"user_id":4618492,"accept_rate":56,"display_name":"littleAlien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77073431,"answer_count":1,"score":1,"last_activity_date":1694287676,"creation_date":1694262392,"question_id":77072217,"body_markdown":"Is there any reason to add annotation \r\n```\r\n@CreationTimestamp(source = SourceType.DB)\r\n```\r\ninstead of \r\n```\r\n@Column(updatable = false, insertable = false)\r\n```\r\nexcept for db schema-generation?\r\nAnyway value will be set by DB.\r\n\r\nMoreover, `CreationTimestamp` is not compartible with `Immutable`, and cause error `JpaSystemException: Lock mode not supported`","title":"@CreationTimestamp with value from DB is excessive?","body":"<p>Is there any reason to add annotation</p>\n<pre><code>@CreationTimestamp(source = SourceType.DB)\n</code></pre>\n<p>instead of</p>\n<pre><code>@Column(updatable = false, insertable = false)\n</code></pre>\n<p>except for db schema-generation?\nAnyway value will be set by DB.</p>\n<p>Moreover, <code>CreationTimestamp</code> is not compartible with <code>Immutable</code>, and cause error <code>JpaSystemException: Lock mode not supported</code></p>\n"},{"tags":["java","javafx","websocket","java-websocket","grizzly"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1694285447,"post_id":77071728,"comment_id":135872382,"body_markdown":"My advice as you have no idea what is going wrong and the question is way too complex for StackOverflow, is to start from [working code from the Spring WebSocket tutorial](https://spring.io/guides/gs/messaging-stomp-websocket/), then gradually modify it a bit at a time to get closer and closer to what you want to achieve, thoroughly testing at each step to ensure you haven’t broken something.  If you do this correctly you will eventually, after much hard work and effort, achieve what you want.","body":"My advice as you have no idea what is going wrong and the question is way too complex for StackOverflow, is to start from <a href=\"https://spring.io/guides/gs/messaging-stomp-websocket/\" rel=\"nofollow noreferrer\">working code from the Spring WebSocket tutorial</a>, then gradually modify it a bit at a time to get closer and closer to what you want to achieve, thoroughly testing at each step to ensure you haven’t broken something.  If you do this correctly you will eventually, after much hard work and effort, achieve what you want."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1694285683,"post_id":77071728,"comment_id":135872390,"body_markdown":"The tutorial I referenced is for a server, there are similar tutorials [for clients](https://www.baeldung.com/websockets-api-java-spring-client), for which you can follow the same approach.","body":"The tutorial I referenced is for a server, there are similar tutorials <a href=\"https://www.baeldung.com/websockets-api-java-spring-client\" rel=\"nofollow noreferrer\">for clients</a>, for which you can follow the same approach."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1694285832,"post_id":77071728,"comment_id":135872395,"body_markdown":"As part of following jewelsea&#39;s advice, try to get the client to work _before_ integrating it with JavaFX. That way you know if the problem is with the client or the integration. It also simplifies things. If you don&#39;t have to think about JavaFX while coding the client, then there&#39;s less stuff to potentially cause confusion.","body":"As part of following jewelsea&#39;s advice, try to get the client to work <i>before</i> integrating it with JavaFX. That way you know if the problem is with the client or the integration. It also simplifies things. If you don&#39;t have to think about JavaFX while coding the client, then there&#39;s less stuff to potentially cause confusion."}],"owner":{"account_id":29397772,"reputation":1,"user_id":22524746,"display_name":"Daniel Vai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694285756,"creation_date":1694253687,"question_id":77071728,"body_markdown":"I can&#39;t establish a correct connection to the topic. The server has a spring boot running and a web socket is configured in it:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfiguration implements WebSocketMessageBrokerConfigurer {\r\n    private MessageBrokerRegistry registry;\r\n   \r\n   @Override    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/socket&quot;)                .setAllowedOrigins(&quot;*&quot;)\r\n                .withSockJS();    }\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry registry) {        registry.setApplicationDestinationPrefixes(&quot;/news&quot;)\r\n                .enableSimpleBroker(&quot;/events&quot;)        ;\r\n    }\r\n    public MessageBrokerRegistry getRegistry() {\r\n        return this.registry;    }\r\n}\r\n```\r\n\r\nI made a simple application in JavaFX, which should connect to a socket when launched.\r\n\r\nI&#39;ll show you the specific code from the application that is responsible for the connection, I think this will be enough.\r\n\r\nLibraries used in Gradle:\r\n\r\n```\r\ndependencies {\r\n    implementation(&quot;org.glassfish.tyrus:tyrus-client:${tyrusVersion}&quot;)\r\n    compileOnly(&quot;jakarta.websocket:jakarta.websocket-client-api:${jakartaSocketVersion}&quot;)\r\n    compileOnly(&quot;jakarta.websocket:jakarta.websocket-api:${jakartaSocketVersion}&quot;)\r\n    implementation (&quot;org.glassfish.tyrus:tyrus-container-grizzly-client:${tyrusVersion}&quot;)\r\n    implementation(&quot;org.glassfish.grizzly:grizzly-http:${grizzlyHttpVersion}&quot;)\r\n    implementation(&quot;jakarta.ws.rs:jakarta.ws.rs-api:${jakartaWSVersion}&quot;)\r\n    implementation(&quot;org.glassfish.grizzly:grizzly-framework:${grizzlyHttpVersion}&quot;)\r\n    implementation(&quot;org.glassfish.jersey.core:jersey-client:3.1.3&quot;)\r\n    implementation(&quot;jakarta.annotation:jakarta.annotation-api:2.1.1&quot;)\r\n    implementation(&quot;jakarta.inject:jakarta.inject-api:2.0.1&quot;)\r\n    implementation(&quot;org.glassfish.jersey.inject:jersey-hk2:3.1.3&quot;)\r\n    implementation(&quot;jakarta.activation:jakarta.activation-api:2.1.2&quot;)\r\n    implementation(&quot;org.glassfish.jersey.media:jersey-media-json-jackson:3.1.3&quot;)\r\n    implementation(&quot;com.fasterxml.jackson.core:jackson-core:2.15.2&quot;)\r\n    implementation(&quot;jakarta.xml.bind:jakarta.xml.bind-api:4.0.0&quot;)\r\n    implementation(&quot;jakarta.json:jakarta.json-api:2.1.2&quot;)\r\n}\r\n```\r\n\r\nClass that implements the connection:\r\n\r\n```\r\nClientEndpoint(configurator = CustomClientEndpointConfigurator.class,\r\n        decoders = MessageDecoder.class,\r\n        encoders = MessageEncoder.class\r\n)\r\npublic class BasicClient implements MessageHandler {\r\n\r\n    private final URI uri;\r\n    private static BasicClient instance;\r\n    private Session session;\r\n    private final List&lt;EventListener&gt; listeners = new ArrayList&lt;&gt;();\r\n    private boolean isOpen;\r\n    private MessageHandler handler;\r\n\r\n    public BasicClient(URI uri) {\r\n        this.uri = uri;\r\n    }\r\n\r\n    public static synchronized BasicClient getInstance() throws URISyntaxException {\r\n        if (instance == null) {\r\n            instance = new BasicClient(new URI(createURISocketEDMS()));\r\n       }\r\n       return instance;\r\n   }\r\n\r\n    public void connect() throws Exception {\r\n        ClientManager client = ClientManager.createClient();\r\n        client.connectToServer(this, uri);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    @OnOpen\r\n    public void onOpen(Session session) throws IOException {\r\n        this.session = session;\r\n        String[] strings = new String[1];\r\n        strings[0] = &quot;\\&quot;SUBSCRIBE id:sub-34 destination:/events\\&quot;&quot;;\r\n        session.getAsyncRemote().sendText(Arrays.toString(strings));\r\n        try {\r\n            Logging.log(&quot;Opening connection&quot;);\r\n        } catch (IOException ex) {\r\n            Logging.log(&quot;ERROR: &quot; + ex.getMessage() + &quot; INFORMATION: &quot; +    BasicClient.class.getName());\r\n        }\r\n    }\r\n\r\n    public void addMessageHandler(MessageHandler msgHandler) {\r\n        this.handler = msgHandler;\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    @OnClose\r\n    public void onClose(Session session, CloseReason closeReason) throws IOException {\r\n        WebSocketEvent webSocketEvent = new WebSocketEvent(WebSocketEvent.DISCONNECTED);\r\n        this.session = null;\r\n        notifyListeners(webSocketEvent);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    @OnMessage\r\n    public void processMessage(Message message, Session session) throws IOException {\r\n        System.out.println(&quot;Received message in client: &quot; + message+&quot; &quot;+session.getId());\r\n        if (this.handler != null)\r\n            this.handler.handleMessage(message);\r\n        WebSocketEvent webSocketEvent = new WebSocketEvent(WebSocketEvent.MSG);\r\n        notifyListeners(webSocketEvent);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    @OnError\r\n    public void onError(Session session, Throwable throwable) throws IOException {\r\n        WebSocketEvent webSocketEvent = new WebSocketEvent(WebSocketEvent.ERROR);\r\n        notifyListeners(webSocketEvent);\r\n        throwable.printStackTrace();\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    public void sendMessage(String message) throws IOException {\r\n        String[] strings1 = new String[1];\r\n        if (session.isOpen()) {\r\n            strings1[0] = String.format(&quot;\\&quot;CONNECT %s\\&quot;&quot;, message);\r\n            this.session.getAsyncRemote().sendText(Arrays.toString(strings1));\r\n        }\r\n\r\n    }\r\n\r\n    public void addListener(EventListener listener) {\r\n        listeners.add(listener);\r\n    }\r\n\r\n    private void notifyListeners(WebSocketEvent event) throws IOException {\r\n        for (EventListener listener : listeners) {\r\n            listener.handleEvent(event);\r\n        }\r\n    }\r\n\r\n    public boolean isSession() {\r\n        return isOpen;\r\n    }\r\n\r\n    public interface MessageHandler {\r\n        void handleMessage(Message message);\r\n    }\r\n}\r\n```\r\n\r\nClasses such as: `CustomClientEndpointConfigurator`, `MessageDecoder`, `MessageEncoder` - are by default and do not contain complex logic that can affect the operation of the connection, but if you know that something can be improved there, then please let me know.\r\n\r\nThe method call goes here:\r\n\r\n```\r\npublic class GeneralController {\r\n\r\nprivate BasicClient basicClient;\r\n\r\n    @FXML\r\n    void initialize() throws IOException {\r\n        try {\r\n\r\n           basicClient = BasicClient.getInstance();\r\n           basicClient.connect();\r\n \r\n           basicClient.addListener(event -&gt; {\r\n\r\n                if (event.getEventType() == WebSocketEvent.DISCONNECTED) {\r\n                    indicatorConnect.setStyle(&quot;-fx-background-color: white;&quot;);\r\n\r\n                } else if (event.getEventType() == WebSocketEvent.CONNECTED) {\r\n                    indicatorConnect.setStyle(&quot;-fx-background-color: green;&quot;);\r\n\r\n                } else if (event.getEventType() == WebSocketEvent.ERROR) {\r\n                    indicatorConnect.setStyle(&quot;-fx-background-color: red;&quot;);\r\n                }else if(event.getEventType() == WebSocketEvent.MSG){\r\n\r\n                    basicClient.addMessageHandler(new BasicClient.MessageHandler(){\r\n                        public void handleMessage(Message message) {\r\n                            System.out.println(&quot;handleMessage &quot; + message);\r\n                        }\r\n                    });\r\n                }\r\n\r\n            });\r\n   } catch (Exception e) {\r\n            indicatorConnect.setStyle(&quot;-fx-background-color: red;&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI succeeded in connecting, but the following appears in the console:\r\n\r\n```none\r\n{connection=[upgrade], date=[Sat, 09 Sep 2023 09:05:48 GMT], sec-websocket-accept=[SrlO1lcA+TvLUnZ/J54X1dEQiiw=], upgrade=[websocket]}null\r\nnullOpening connection. Open session: true\r\nInitializing message decoder\r\nReceived message in client: Message[message=o] f1410a67-0362-43ae-bfae-20a52b2d33bd\r\nReceived message in client: Message[message=h] f1410a67-0362-43ae-bfae-20a52b2d33bd\r\nhandleMessage Message[message=h]\r\nReceived message in client: Message[message=h] f1410a67-0362-43ae-bfae-20a52b2d33bd \r\nhandleMessage Message[message=h]\r\nReceived message in client: Message[message=h] f1410a67-0362-43ae-bfae-20a52b2d33bd\r\nhandleMessage Message[message=h]\r\n```\r\n\r\nThat is, the letter “o” comes first from the server, after which the letters “h” arrive. Although other messages should arrive, in the form of text, nothing comes except these letters. And so on endlessly.\r\n\r\n\r\nPlease tell me where to look for the problem? I don’t see any errors, it seems like a successful connection, but incorrectly receiving messages from the socket (server). There may be a problem on the server or on the client.\r\n\r\n\r\nI connected to some sockets for an experiment, one of them: `wss://ws.blockchain.info/inv`, and the messages are coming the same.\r\n\r\nIf you connect to my server (spirng boot) using the frontend (angular), then ready-made libraries are used and when connected it changes the appearance of the URL, from `domain.com/soket` to `domain.com/socket/142/werwerw/websocket`. I had to do this in code because I couldn’t just connect, the spring boot required a certain type of checkpoint. method `createURISocketEDMS()`:\r\n\r\n```\r\n  public static final String LOCALHOST_WEBSOCKET_CONNECT = &quot;/socket/%s/%s/websocket&quot;;\r\n  public static String createURISocketEDMS() throws URISyntaxException {\r\n       PropBuilder propBuilder = PropBuilder.getInstance();\r\n       if (propBuilder.getHostWS() == null) {\r\n          return null;\r\n       }\r\n       String username = resultServer.getDetails().getPrincipal().getUsername();\r\n       String valueStr = generateStringEndpoint();\r\n\r\n       return String.format(&quot;ws://localhost:8080&quot;+LOCALHOST_WEBSOCKET_CONNECT,username,valueStr); \r\n\r\n    }\r\n\r\n  private static String generateStringEndpoint() {\r\n\r\n      Long value = resultServer.getDetails().getPrincipal().getId();\r\n\r\n      StringBuilder sb = new StringBuilder();\r\n      sb.append(value).append(&quot;_&quot;);\r\n      Random random = new Random();\r\n      for (int i = 0; i &lt; LENGTH; i++) {\r\n         int index = random.nextInt(ALPHABET.length());\r\n         sb.append(ALPHABET.charAt(index));\r\n      }\r\n      return sb.toString();\r\n   }\r\n```\r\n\r\nThereby creating an endpoint through which the spring boot connected to the client application. But maybe I’m doing something wrong and there is another way to correctly connect to the topik and receive messages from the server.\r\n\r\nI need to subscribe to: `/events`, but I dont know how. Sending a subscription message `&quot;strings1[0] = String.format(&quot;\\&quot;CONNECT %s\\&quot;&quot;, message);&quot;` - doesn&#39;t work.","title":"How to correctly create a web socket connection client in Java?","body":"<p>I can't establish a correct connection to the topic. The server has a spring boot running and a web socket is configured in it:</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfiguration implements WebSocketMessageBrokerConfigurer {\n    private MessageBrokerRegistry registry;\n   \n   @Override    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/socket&quot;)                .setAllowedOrigins(&quot;*&quot;)\n                .withSockJS();    }\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {        registry.setApplicationDestinationPrefixes(&quot;/news&quot;)\n                .enableSimpleBroker(&quot;/events&quot;)        ;\n    }\n    public MessageBrokerRegistry getRegistry() {\n        return this.registry;    }\n}\n</code></pre>\n<p>I made a simple application in JavaFX, which should connect to a socket when launched.</p>\n<p>I'll show you the specific code from the application that is responsible for the connection, I think this will be enough.</p>\n<p>Libraries used in Gradle:</p>\n<pre><code>dependencies {\n    implementation(&quot;org.glassfish.tyrus:tyrus-client:${tyrusVersion}&quot;)\n    compileOnly(&quot;jakarta.websocket:jakarta.websocket-client-api:${jakartaSocketVersion}&quot;)\n    compileOnly(&quot;jakarta.websocket:jakarta.websocket-api:${jakartaSocketVersion}&quot;)\n    implementation (&quot;org.glassfish.tyrus:tyrus-container-grizzly-client:${tyrusVersion}&quot;)\n    implementation(&quot;org.glassfish.grizzly:grizzly-http:${grizzlyHttpVersion}&quot;)\n    implementation(&quot;jakarta.ws.rs:jakarta.ws.rs-api:${jakartaWSVersion}&quot;)\n    implementation(&quot;org.glassfish.grizzly:grizzly-framework:${grizzlyHttpVersion}&quot;)\n    implementation(&quot;org.glassfish.jersey.core:jersey-client:3.1.3&quot;)\n    implementation(&quot;jakarta.annotation:jakarta.annotation-api:2.1.1&quot;)\n    implementation(&quot;jakarta.inject:jakarta.inject-api:2.0.1&quot;)\n    implementation(&quot;org.glassfish.jersey.inject:jersey-hk2:3.1.3&quot;)\n    implementation(&quot;jakarta.activation:jakarta.activation-api:2.1.2&quot;)\n    implementation(&quot;org.glassfish.jersey.media:jersey-media-json-jackson:3.1.3&quot;)\n    implementation(&quot;com.fasterxml.jackson.core:jackson-core:2.15.2&quot;)\n    implementation(&quot;jakarta.xml.bind:jakarta.xml.bind-api:4.0.0&quot;)\n    implementation(&quot;jakarta.json:jakarta.json-api:2.1.2&quot;)\n}\n</code></pre>\n<p>Class that implements the connection:</p>\n<pre><code>ClientEndpoint(configurator = CustomClientEndpointConfigurator.class,\n        decoders = MessageDecoder.class,\n        encoders = MessageEncoder.class\n)\npublic class BasicClient implements MessageHandler {\n\n    private final URI uri;\n    private static BasicClient instance;\n    private Session session;\n    private final List&lt;EventListener&gt; listeners = new ArrayList&lt;&gt;();\n    private boolean isOpen;\n    private MessageHandler handler;\n\n    public BasicClient(URI uri) {\n        this.uri = uri;\n    }\n\n    public static synchronized BasicClient getInstance() throws URISyntaxException {\n        if (instance == null) {\n            instance = new BasicClient(new URI(createURISocketEDMS()));\n       }\n       return instance;\n   }\n\n    public void connect() throws Exception {\n        ClientManager client = ClientManager.createClient();\n        client.connectToServer(this, uri);\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    @OnOpen\n    public void onOpen(Session session) throws IOException {\n        this.session = session;\n        String[] strings = new String[1];\n        strings[0] = &quot;\\&quot;SUBSCRIBE id:sub-34 destination:/events\\&quot;&quot;;\n        session.getAsyncRemote().sendText(Arrays.toString(strings));\n        try {\n            Logging.log(&quot;Opening connection&quot;);\n        } catch (IOException ex) {\n            Logging.log(&quot;ERROR: &quot; + ex.getMessage() + &quot; INFORMATION: &quot; +    BasicClient.class.getName());\n        }\n    }\n\n    public void addMessageHandler(MessageHandler msgHandler) {\n        this.handler = msgHandler;\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    @OnClose\n    public void onClose(Session session, CloseReason closeReason) throws IOException {\n        WebSocketEvent webSocketEvent = new WebSocketEvent(WebSocketEvent.DISCONNECTED);\n        this.session = null;\n        notifyListeners(webSocketEvent);\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    @OnMessage\n    public void processMessage(Message message, Session session) throws IOException {\n        System.out.println(&quot;Received message in client: &quot; + message+&quot; &quot;+session.getId());\n        if (this.handler != null)\n            this.handler.handleMessage(message);\n        WebSocketEvent webSocketEvent = new WebSocketEvent(WebSocketEvent.MSG);\n        notifyListeners(webSocketEvent);\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    @OnError\n    public void onError(Session session, Throwable throwable) throws IOException {\n        WebSocketEvent webSocketEvent = new WebSocketEvent(WebSocketEvent.ERROR);\n        notifyListeners(webSocketEvent);\n        throwable.printStackTrace();\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public void sendMessage(String message) throws IOException {\n        String[] strings1 = new String[1];\n        if (session.isOpen()) {\n            strings1[0] = String.format(&quot;\\&quot;CONNECT %s\\&quot;&quot;, message);\n            this.session.getAsyncRemote().sendText(Arrays.toString(strings1));\n        }\n\n    }\n\n    public void addListener(EventListener listener) {\n        listeners.add(listener);\n    }\n\n    private void notifyListeners(WebSocketEvent event) throws IOException {\n        for (EventListener listener : listeners) {\n            listener.handleEvent(event);\n        }\n    }\n\n    public boolean isSession() {\n        return isOpen;\n    }\n\n    public interface MessageHandler {\n        void handleMessage(Message message);\n    }\n}\n</code></pre>\n<p>Classes such as: <code>CustomClientEndpointConfigurator</code>, <code>MessageDecoder</code>, <code>MessageEncoder</code> - are by default and do not contain complex logic that can affect the operation of the connection, but if you know that something can be improved there, then please let me know.</p>\n<p>The method call goes here:</p>\n<pre><code>public class GeneralController {\n\nprivate BasicClient basicClient;\n\n    @FXML\n    void initialize() throws IOException {\n        try {\n\n           basicClient = BasicClient.getInstance();\n           basicClient.connect();\n \n           basicClient.addListener(event -&gt; {\n\n                if (event.getEventType() == WebSocketEvent.DISCONNECTED) {\n                    indicatorConnect.setStyle(&quot;-fx-background-color: white;&quot;);\n\n                } else if (event.getEventType() == WebSocketEvent.CONNECTED) {\n                    indicatorConnect.setStyle(&quot;-fx-background-color: green;&quot;);\n\n                } else if (event.getEventType() == WebSocketEvent.ERROR) {\n                    indicatorConnect.setStyle(&quot;-fx-background-color: red;&quot;);\n                }else if(event.getEventType() == WebSocketEvent.MSG){\n\n                    basicClient.addMessageHandler(new BasicClient.MessageHandler(){\n                        public void handleMessage(Message message) {\n                            System.out.println(&quot;handleMessage &quot; + message);\n                        }\n                    });\n                }\n\n            });\n   } catch (Exception e) {\n            indicatorConnect.setStyle(&quot;-fx-background-color: red;&quot;);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I succeeded in connecting, but the following appears in the console:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{connection=[upgrade], date=[Sat, 09 Sep 2023 09:05:48 GMT], sec-websocket-accept=[SrlO1lcA+TvLUnZ/J54X1dEQiiw=], upgrade=[websocket]}null\nnullOpening connection. Open session: true\nInitializing message decoder\nReceived message in client: Message[message=o] f1410a67-0362-43ae-bfae-20a52b2d33bd\nReceived message in client: Message[message=h] f1410a67-0362-43ae-bfae-20a52b2d33bd\nhandleMessage Message[message=h]\nReceived message in client: Message[message=h] f1410a67-0362-43ae-bfae-20a52b2d33bd \nhandleMessage Message[message=h]\nReceived message in client: Message[message=h] f1410a67-0362-43ae-bfae-20a52b2d33bd\nhandleMessage Message[message=h]\n</code></pre>\n<p>That is, the letter “o” comes first from the server, after which the letters “h” arrive. Although other messages should arrive, in the form of text, nothing comes except these letters. And so on endlessly.</p>\n<p>Please tell me where to look for the problem? I don’t see any errors, it seems like a successful connection, but incorrectly receiving messages from the socket (server). There may be a problem on the server or on the client.</p>\n<p>I connected to some sockets for an experiment, one of them: <code>wss://ws.blockchain.info/inv</code>, and the messages are coming the same.</p>\n<p>If you connect to my server (spirng boot) using the frontend (angular), then ready-made libraries are used and when connected it changes the appearance of the URL, from <code>domain.com/soket</code> to <code>domain.com/socket/142/werwerw/websocket</code>. I had to do this in code because I couldn’t just connect, the spring boot required a certain type of checkpoint. method <code>createURISocketEDMS()</code>:</p>\n<pre><code>  public static final String LOCALHOST_WEBSOCKET_CONNECT = &quot;/socket/%s/%s/websocket&quot;;\n  public static String createURISocketEDMS() throws URISyntaxException {\n       PropBuilder propBuilder = PropBuilder.getInstance();\n       if (propBuilder.getHostWS() == null) {\n          return null;\n       }\n       String username = resultServer.getDetails().getPrincipal().getUsername();\n       String valueStr = generateStringEndpoint();\n\n       return String.format(&quot;ws://localhost:8080&quot;+LOCALHOST_WEBSOCKET_CONNECT,username,valueStr); \n\n    }\n\n  private static String generateStringEndpoint() {\n\n      Long value = resultServer.getDetails().getPrincipal().getId();\n\n      StringBuilder sb = new StringBuilder();\n      sb.append(value).append(&quot;_&quot;);\n      Random random = new Random();\n      for (int i = 0; i &lt; LENGTH; i++) {\n         int index = random.nextInt(ALPHABET.length());\n         sb.append(ALPHABET.charAt(index));\n      }\n      return sb.toString();\n   }\n</code></pre>\n<p>Thereby creating an endpoint through which the spring boot connected to the client application. But maybe I’m doing something wrong and there is another way to correctly connect to the topik and receive messages from the server.</p>\n<p>I need to subscribe to: <code>/events</code>, but I dont know how. Sending a subscription message <code>&quot;strings1[0] = String.format(&quot;\\&quot;CONNECT %s\\&quot;&quot;, message);&quot;</code> - doesn't work.</p>\n"},{"tags":["java","kotlin","sslhandshakeexception"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693462565,"post_id":77013145,"comment_id":135764681,"body_markdown":"That bug is not resolved. It&#39;s closed as duplicate, and the comments indicate that it has reappeared, and it&#39;s _possibly_ fixed in JDK 20.","body":"That bug is not resolved. It&#39;s closed as duplicate, and the comments indicate that it has reappeared, and it&#39;s <i>possibly</i> fixed in JDK 20."},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1693464622,"post_id":77013145,"comment_id":135765007,"body_markdown":"Edit the post with the plain text format error message, images can&#39;t be copied.","body":"Edit the post with the plain text format error message, images can&#39;t be copied."},{"owner":{"account_id":17792706,"reputation":1,"user_id":12921314,"display_name":"LeaveX007"},"score":0,"creation_date":1693466330,"post_id":77013145,"comment_id":135765331,"body_markdown":"Hy, i have tested it with openjdk 20.0.2. But i&#180;ve got the same exception. @FarkhodAbdukodirov, sorry, i&#180;ll do this next time.\nBr\nMike","body":"Hy, i have tested it with openjdk 20.0.2. But i&#180;ve got the same exception. @FarkhodAbdukodirov, sorry, i&#180;ll do this next time. Br Mike"}],"owner":{"account_id":17792706,"reputation":1,"user_id":12921314,"display_name":"LeaveX007"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":879,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694285627,"creation_date":1693461326,"question_id":77013145,"body_markdown":"Hy,\r\n\r\ni hope anyonce can help me. I have openjdk19 on ubuntu v-server and try to established a connection via SSL to the KTor Framework. Here is the Stacktrace:\r\n\r\n```\r\njavax.net.ssl.SSLHandshakeException: Insufficient buffer remaining for AEAD cipher fragment (2). Needs to be more than tag size (16)\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:130)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:378)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:321)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:316)\r\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:134)\r\n        at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\r\n        at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\r\n        at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\r\n        at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\r\n        at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:679)\r\n        at io.netty.handler.ssl.JdkSslEngine.unwrap(JdkSslEngine.java:92)\r\n        at io.netty.handler.ssl.JdkAlpnSslEngine.unwrap(JdkAlpnSslEngine.java:163)\r\n        at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:297)\r\n        at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1353)\r\n        at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1246)\r\n        at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1295)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.ktor.server.netty.EventLoopGroupProxy$Companion.create$lambda$1$lambda$0(NettyApplicationEngine.kt:296)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:1623)\r\nCaused by: javax.crypto.BadPaddingException: Insufficient buffer remaining for AEAD cipher fragment (2). Needs to be more than tag size (16)\r\n        at java.base/sun.security.ssl.SSLCipher$T13GcmReadCipherGenerator$GcmReadCipher.decrypt(SSLCipher.java:1864)\r\n        at java.base/sun.security.ssl.SSLEngineInputRecord.decodeInputRecord(SSLEngineInputRecord.java:239)\r\n        at java.base/sun.security.ssl.SSLEngineInputRecord.decode(SSLEngineInputRecord.java:196)\r\n        at java.base/sun.security.ssl.SSLEngineInputRecord.decode(SSLEngineInputRecord.java:159)\r\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\r\n        ... 31 common frames omitted\r\n```\r\n\r\nThanks for help. \r\n\r\nBr\r\nMike \r\n\r\nI&#180;ve searched google, and found this: https://bugs.openjdk.org/browse/JDK-8221218.\r\nThis should be resolved but its not. Or is this a new bug?","title":"Insufficient buffer remaining for AEAD cipher fragment(2). Needs to be more than tag size (16)","body":"<p>Hy,</p>\n<p>i hope anyonce can help me. I have openjdk19 on ubuntu v-server and try to established a connection via SSL to the KTor Framework. Here is the Stacktrace:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: Insufficient buffer remaining for AEAD cipher fragment (2). Needs to be more than tag size (16)\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:130)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:378)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:321)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:316)\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:134)\n        at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\n        at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\n        at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\n        at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\n        at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:679)\n        at io.netty.handler.ssl.JdkSslEngine.unwrap(JdkSslEngine.java:92)\n        at io.netty.handler.ssl.JdkAlpnSslEngine.unwrap(JdkAlpnSslEngine.java:163)\n        at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:297)\n        at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1353)\n        at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1246)\n        at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1295)\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468)\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.ktor.server.netty.EventLoopGroupProxy$Companion.create$lambda$1$lambda$0(NettyApplicationEngine.kt:296)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:1623)\nCaused by: javax.crypto.BadPaddingException: Insufficient buffer remaining for AEAD cipher fragment (2). Needs to be more than tag size (16)\n        at java.base/sun.security.ssl.SSLCipher$T13GcmReadCipherGenerator$GcmReadCipher.decrypt(SSLCipher.java:1864)\n        at java.base/sun.security.ssl.SSLEngineInputRecord.decodeInputRecord(SSLEngineInputRecord.java:239)\n        at java.base/sun.security.ssl.SSLEngineInputRecord.decode(SSLEngineInputRecord.java:196)\n        at java.base/sun.security.ssl.SSLEngineInputRecord.decode(SSLEngineInputRecord.java:159)\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\n        ... 31 common frames omitted\n</code></pre>\n<p>Thanks for help.</p>\n<p>Br\nMike</p>\n<p>I´ve searched google, and found this: <a href=\"https://bugs.openjdk.org/browse/JDK-8221218\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8221218</a>.\nThis should be resolved but its not. Or is this a new bug?</p>\n"},{"tags":["java","aws-lambda","lambda","dependency-injection","dagger"],"owner":{"account_id":10391609,"reputation":167,"user_id":7662716,"display_name":"Marcel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694284408,"creation_date":1694284408,"question_id":77073560,"body_markdown":"I used Dagger to inject dependencies on a Java Lambda:\r\n\r\n```\r\npublic class LambdaEntryPointHandler implements RequestHandler&lt;SQSEvent, SQSBatchResponse&gt; {\r\n    private final Handler handler;\r\n\r\n    public LambdaEntryPointHandler() {\r\n        ServiceComponent component =  DaggerServiceComponent.create();\r\n        handler = component.getRequestHandler();\r\n    }\r\n\r\n    @Override\r\n    public SQSBatchResponse handleRequest(final SQSEvent sqsEvent, final Context context) {\r\n        return handler.handleRequest(sqsEvent, context);\r\n    }\r\n}\r\n```\r\n\r\nI need to access the `awsRequestId` of the context in a call far down the chain of calls, it&#39;s really tedious to pass the context object as a parameter to all the caller functions. I was wondering if using Dagger I could inject the context as a dependency to that class that uses it, instead of passing the parameter.\r\n\r\nI&#39;m open to other suggestions, is there a global store available in this case? (Something like redux in react, to avoid passing props down the component tree)\r\n\r\nI saw this [answer](https://stackoverflow.com/a/68522189/7662716), but I don&#39;t use Spring.","title":"Java AWS Lambda - Avoid passing context too far down tree of calls","body":"<p>I used Dagger to inject dependencies on a Java Lambda:</p>\n<pre><code>public class LambdaEntryPointHandler implements RequestHandler&lt;SQSEvent, SQSBatchResponse&gt; {\n    private final Handler handler;\n\n    public LambdaEntryPointHandler() {\n        ServiceComponent component =  DaggerServiceComponent.create();\n        handler = component.getRequestHandler();\n    }\n\n    @Override\n    public SQSBatchResponse handleRequest(final SQSEvent sqsEvent, final Context context) {\n        return handler.handleRequest(sqsEvent, context);\n    }\n}\n</code></pre>\n<p>I need to access the <code>awsRequestId</code> of the context in a call far down the chain of calls, it's really tedious to pass the context object as a parameter to all the caller functions. I was wondering if using Dagger I could inject the context as a dependency to that class that uses it, instead of passing the parameter.</p>\n<p>I'm open to other suggestions, is there a global store available in this case? (Something like redux in react, to avoid passing props down the component tree)</p>\n<p>I saw this <a href=\"https://stackoverflow.com/a/68522189/7662716\">answer</a>, but I don't use Spring.</p>\n"},{"tags":["java","android","flutter","dart","gradle"],"answers":[{"tags":[],"owner":{"display_name":"user22527431"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694284025,"creation_date":1694284025,"answer_id":77073537,"question_id":77072855,"body_markdown":"Newest versions are not always guaranteed to be compatible. Assuming you have identified the cause as being incompatibility between Java and Gradle, I would suggest consulting the [compatibility matrix][1] in the official Gradle page. \r\n\r\nWithout more information, such as the exact versions and a copy of your build scripts, it&#39;s challenging to provide specific recommendations.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/compatibility.html","title":"a build fail with gradle while trying to build an android app on android studio","body":"<p>Newest versions are not always guaranteed to be compatible. Assuming you have identified the cause as being incompatibility between Java and Gradle, I would suggest consulting the <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">compatibility matrix</a> in the official Gradle page.</p>\n<p>Without more information, such as the exact versions and a copy of your build scripts, it's challenging to provide specific recommendations.</p>\n"}],"owner":{"account_id":29402613,"reputation":1,"user_id":22528440,"display_name":"BanTT Sus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694284025,"creation_date":1694272751,"question_id":77072855,"body_markdown":"ive been working on a project for 6 months now and suddenly today when i opened m android studio and wanted to start debugging my android app ive got an error ive never seen before. i seached and found that the problem is with the gradle version and jave version but there are both up to date. i searched online for a solution but didnt find anything. pls help(idk if this is connected but the last time it worked wasa righht before i installed git)\r\n\r\nhere is the error:\r\n\r\n```\r\nLaunching lib\\main.dart on sdk gphone64 x86 64 in debug mode...\r\nRunning Gradle task &#39;assembleDebug&#39;...\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;E:\\downloads\\Welcome-Login-Signup-Page-Flutter-master\\Welcome-Login-Signup-Page-Flutter-master\\android\\build.gradle&#39;\r\n\r\n* What went wrong:\r\nCould not compile build file &#39;E:\\downloads\\Welcome-Login-Signup-Page-Flutter-master\\Welcome-Login-Signup-Page-Flutter-master\\android\\build.gradle&#39;.\r\n&gt; startup failed:\r\n  General error during conversion: Unsupported class file major version 64\r\n\r\n  java.lang.IllegalArgumentException: Unsupported class file major version 64\r\n  \tat groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:189)\r\n  \tat groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\r\n  \tat groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:156)\r\n  \tat groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:277)\r\n  \tat org.codehaus.groovy.ast.decompiled.AsmDecompiler.parseClass(AsmDecompiler.java:81)\r\n  \tat org.codehaus.groovy.control.ClassNodeResolver.findDecompiled(ClassNodeResolver.java:251)\r\n\r\n  1 error\r\n\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\n\r\n```\r\n\r\ni was trying to build an android app thro android studio, and i got an error","title":"a build fail with gradle while trying to build an android app on android studio","body":"<p>ive been working on a project for 6 months now and suddenly today when i opened m android studio and wanted to start debugging my android app ive got an error ive never seen before. i seached and found that the problem is with the gradle version and jave version but there are both up to date. i searched online for a solution but didnt find anything. pls help(idk if this is connected but the last time it worked wasa righht before i installed git)</p>\n<p>here is the error:</p>\n<pre><code>Launching lib\\main.dart on sdk gphone64 x86 64 in debug mode...\nRunning Gradle task 'assembleDebug'...\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'E:\\downloads\\Welcome-Login-Signup-Page-Flutter-master\\Welcome-Login-Signup-Page-Flutter-master\\android\\build.gradle'\n\n* What went wrong:\nCould not compile build file 'E:\\downloads\\Welcome-Login-Signup-Page-Flutter-master\\Welcome-Login-Signup-Page-Flutter-master\\android\\build.gradle'.\n&gt; startup failed:\n  General error during conversion: Unsupported class file major version 64\n\n  java.lang.IllegalArgumentException: Unsupported class file major version 64\n    at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:189)\n    at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\n    at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:156)\n    at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:277)\n    at org.codehaus.groovy.ast.decompiled.AsmDecompiler.parseClass(AsmDecompiler.java:81)\n    at org.codehaus.groovy.control.ClassNodeResolver.findDecompiled(ClassNodeResolver.java:251)\n\n  1 error\n\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\nException: Gradle task assembleDebug failed with exit code 1\n\n\n</code></pre>\n<p>i was trying to build an android app thro android studio, and i got an error</p>\n"},{"tags":["java","arrays","methodhandle"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1694279024,"post_id":77073200,"comment_id":135871738,"body_markdown":"This is not remotely a newbie question because MethodHandle.invoke works differently from literally any other method in Java.  Its rules are different and complicated, and it is quite likely &quot;something weird is going on with it specifically.&quot;  Have you tried invokeWithArguments instead?","body":"This is not remotely a newbie question because MethodHandle.invoke works differently from literally any other method in Java.  Its rules are different and complicated, and it is quite likely &quot;something weird is going on with it specifically.&quot;  Have you tried invokeWithArguments instead?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":2,"creation_date":1694279465,"post_id":77073200,"comment_id":135871784,"body_markdown":"I understand that `MethodHandle.invoke(…)` works in strange and wondrous ways _inside it_, but I don&#39;t understand how that would affect the compiler&#39;s interpretation of how arguments are passed _to it_. I don&#39;t see how the internals of `MethodHandle.invoke(…)` could have any bearing on compiler method matching and interpretation of parameters—isn&#39;t that determined at compile time? I haven&#39;t looked at `invokeWithArguments(…)`; I&#39;ll go check that out now, thanks.","body":"I understand that <code>MethodHandle.invoke(…)</code> works in strange and wondrous ways <i>inside it</i>, but I don&#39;t understand how that would affect the compiler&#39;s interpretation of how arguments are passed <i>to it</i>. I don&#39;t see how the internals of <code>MethodHandle.invoke(…)</code> could have any bearing on compiler method matching and interpretation of parameters—isn&#39;t that determined at compile time? I haven&#39;t looked at <code>invokeWithArguments(…)</code>; I&#39;ll go check that out now, thanks."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1694280167,"post_id":77073200,"comment_id":135871852,"body_markdown":"Put another way, how could `MethodHandle.invoke(…)` have different behavior based upon whether I use `invoke(foo)` or `invoke(new Object[]{foo})`? During compilation aren&#39;t they equivalent, and in either case the compiler will wind up passing `new Object[]{foo}` to the method, even in the case of `invoke(foo)`?","body":"Put another way, how could <code>MethodHandle.invoke(…)</code> have different behavior based upon whether I use <code>invoke(foo)</code> or <code>invoke(new Object[]{foo})</code>? During compilation aren&#39;t they equivalent, and in either case the compiler will wind up passing <code>new Object[]{foo}</code> to the method, even in the case of <code>invoke(foo)</code>?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694281163,"post_id":77073200,"comment_id":135871928,"body_markdown":"@GarretWilson, there is a typo in your first code example, _&quot;... String List&lt;?&gt; methodArgs = List.of(); //no method args ...&quot;_.  And, you are using a _concat_ method on a _Stream#of_ call.  Did you mean to use _[Stream#concat](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#concat(java.util.stream.Stream,java.util.stream.Stream))_ instead?","body":"@GarretWilson, there is a typo in your first code example, <i>&quot;... String List&lt;?&gt; methodArgs = List.of(); //no method args ...&quot;</i>.  And, you are using a <i>concat</i> method on a <i>Stream#of</i> call.  Did you mean to use <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#concat(java.util.stream.Stream,java.util.stream.Stream)\" rel=\"nofollow noreferrer\">Stream#concat</a></i> instead?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1694283325,"post_id":77073200,"comment_id":135872163,"body_markdown":"Thanks for pointing out the typo; I&#39;ve fixed it now. Yes, I had statically imported `Stream.concat(…)`. I have now made that explicit.","body":"Thanks for pointing out the typo; I&#39;ve fixed it now. Yes, I had statically imported <code>Stream.concat(…)</code>. I have now made that explicit."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1694337601,"post_id":77073200,"comment_id":135875768,"body_markdown":"&quot;During compilation aren&#39;t they equivalent, and in either case the compiler will wind up passing new Object[]{foo} to the method, even in the case of invoke(foo)? &quot; - No. `MethodHandles.invoke` is a `@SignaturePolymorphic` method, where there is a difference.","body":"&quot;During compilation aren&#39;t they equivalent, and in either case the compiler will wind up passing new Object[]{foo} to the method, even in the case of invoke(foo)? &quot; - No. <code>MethodHandles.invoke</code> is a <code>@SignaturePolymorphic</code> method, where there is a difference."}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1694281684,"creation_date":1694280198,"answer_id":77073310,"question_id":77073200,"body_markdown":"&gt; or something weird is going on with the MethodHandle.invoke(…) method specifically\r\n\r\nYes! The signature of `MethodHandle::invoke` is a lie. It is not a `Object...` varargs method, and it does not return `Object` either. Both the formal parameters and the return type are placeholders. This is because `MethodHandle::invoke` is a signature polymorphic method.\r\n\r\nSee [section 15.12.3 of the Java language spec (se20)](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.12.3). Quoted here, I&#39;ve omitted the irrelevant parts:\r\n\r\n&gt; A method is _signature polymorphic_ if all of the following are true:\r\n&gt; \r\n&gt; - It is declared in the `java.lang.invoke.MethodHandle` class or the `java.lang.invoke.VarHandle` class.\r\n&gt; \r\n&gt; - It has a single variable arity parameter ([&#167;8.4.1](https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.4.1)) whose declared type is `Object[]`.\r\n&gt; \r\n&gt; - It is `native`.\r\n\r\nThis affects how the he _compile-time parameter types_ and _compile-time result_ are determined:\r\n\r\n&gt; - If the compile-time declaration for the method invocation is a signature polymorphic method, then:\r\n&gt; \r\n&gt;    - The compile-time parameter types are the types of the actual argument expressions. ...\r\n&gt; \r\n&gt;    - The compile-time result is determined as follows:\r\n&gt; \r\n&gt;       ...\r\n&gt; \r\n&gt;        - Otherwise, if the method invocation expression is an expression statement, the compile-time result is `void`.\r\n\r\n(See also the section of the `MethodHandle` javadoc on [signature polymorphism](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodHandle.html#sigpoly))\r\n\r\nIn your case the type of the single actual argument expression is `Object[]`, so the type of the invocation is `(Object[])void`.\r\n\r\nThe invocation then fails because the implementation of `invoke` tries to automatically adapt the argument type to the parameter [type](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodHandle.html#type()) of the method handle, which is `com.example.FooImpl`. For reference types this is done using a cast, as explained in the documentation of [`MethodHandle::asType`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodHandle.html#asType(java.lang.invoke.MethodType)). Since `Object[]` can not be cast to `FooImpl`, you get the `ClassCastException`.\r\n\r\nAs @Louis Wasserman says in the comments: if you want the `Object[]` to be expanded into a list of arguments you need to use `MethodHandle::invokeWithArguments`.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"&quot;Cannot cast [Ljava.lang.Object;&quot; passing Object[] to Object... varargs","body":"<blockquote>\n<p>or something weird is going on with the MethodHandle.invoke(…) method specifically</p>\n</blockquote>\n<p>Yes! The signature of <code>MethodHandle::invoke</code> is a lie. It is not a <code>Object...</code> varargs method, and it does not return <code>Object</code> either. Both the formal parameters and the return type are placeholders. This is because <code>MethodHandle::invoke</code> is a signature polymorphic method.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.12.3\" rel=\"nofollow noreferrer\">section 15.12.3 of the Java language spec (se20)</a>. Quoted here, I've omitted the irrelevant parts:</p>\n<blockquote>\n<p>A method is <em>signature polymorphic</em> if all of the following are true:</p>\n<ul>\n<li><p>It is declared in the <code>java.lang.invoke.MethodHandle</code> class or the <code>java.lang.invoke.VarHandle</code> class.</p>\n</li>\n<li><p>It has a single variable arity parameter (<a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.4.1\" rel=\"nofollow noreferrer\">§8.4.1</a>) whose declared type is <code>Object[]</code>.</p>\n</li>\n<li><p>It is <code>native</code>.</p>\n</li>\n</ul>\n</blockquote>\n<p>This affects how the he <em>compile-time parameter types</em> and <em>compile-time result</em> are determined:</p>\n<blockquote>\n<ul>\n<li><p>If the compile-time declaration for the method invocation is a signature polymorphic method, then:</p>\n<ul>\n<li><p>The compile-time parameter types are the types of the actual argument expressions. ...</p>\n</li>\n<li><p>The compile-time result is determined as follows:</p>\n<p>...</p>\n<ul>\n<li>Otherwise, if the method invocation expression is an expression statement, the compile-time result is <code>void</code>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>(See also the section of the <code>MethodHandle</code> javadoc on <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodHandle.html#sigpoly\" rel=\"nofollow noreferrer\">signature polymorphism</a>)</p>\n<p>In your case the type of the single actual argument expression is <code>Object[]</code>, so the type of the invocation is <code>(Object[])void</code>.</p>\n<p>The invocation then fails because the implementation of <code>invoke</code> tries to automatically adapt the argument type to the parameter <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodHandle.html#type()\" rel=\"nofollow noreferrer\">type</a> of the method handle, which is <code>com.example.FooImpl</code>. For reference types this is done using a cast, as explained in the documentation of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodHandle.html#asType(java.lang.invoke.MethodType)\" rel=\"nofollow noreferrer\"><code>MethodHandle::asType</code></a>. Since <code>Object[]</code> can not be cast to <code>FooImpl</code>, you get the <code>ClassCastException</code>.</p>\n<p>As @Louis Wasserman says in the comments: if you want the <code>Object[]</code> to be expanded into a list of arguments you need to use <code>MethodHandle::invokeWithArguments</code>.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":77073310,"answer_count":1,"score":3,"last_activity_date":1694283282,"creation_date":1694278700,"question_id":77073200,"body_markdown":"I&#39;m struggling with a simple, fundamental Java language question that isn&#39;t making sense. I&#39;m passing an `Object[]` to a method which expects varargs `Object...`, but the method seems to be interpreting the request as `new Object[]{Object[]}`. That is, instead of considering the `Object[]` as equivalent to `Object...`, it seems to be passing the `Object[]` as the first element of the varargs, thus wrapping the `Object[]` in another array of objects.\r\n\r\nI have the following in Java 17:\r\n\r\n```java\r\nFooImpl foo = goGetFooImpl();\r\nList&lt;?&gt; methodArgs = List.of(); //no method args\r\nObject[] invokeArgs = Stream.concat(Stream.of(foo, methodArgs.stream()).toArray();\r\n// this gives me the equivalent of `new Object[]{foo}`\r\n// logging `List.of(invokeArgs)` shows `[com.example.FooImpl@…]`\r\nMethodHandle barMethodHandle = goLookUpMethodHandle(foo, &quot;bar&quot;);\r\nmethodHandle.invoke(invokeArgs); //expects varargs `foo, arg1, arg2, …`\r\n```\r\n\r\nI get:\r\n\r\n&gt; `java.lang.ClassCastException: Cannot cast [Ljava.lang.Object; to com.example.FooImpl`\r\n\r\nThe method signature I&#39;m calling is `MethodHandle.invoke(Object... args)`. It expects varargs, with the first object referencing the target object on which the method is being invoked. So this works:\r\n\r\n```java\r\nFooImpl foo = goGetFooImpl();\r\nMethodHandle barMethodHandle = goLookUpMethodHandle(foo, &quot;bar&quot;);\r\nbarMethodHandle.invoke(foo);\r\n```\r\n\r\nIn this case I don&#39;t know ahead of time that there are no further arguments (i.e. `methodArgs` above might not be empty), which is why I combined everything into an `Object[]`. But even manually testing like this doesn&#39;t work:\r\n\r\n```java\r\nFooImpl foo = goGetFooImpl();\r\nMethodHandle barMethodHandle = goLookUpMethodHandle(foo, &quot;bar&quot;);\r\nbarMethodHandle.invoke(new Object[]{foo});\r\n```\r\n\r\nThe reason this is confusing me is that this is such a basic Java issue (a newbie question, really), and I have understood for years that Java would _by default_ consider passing `Object[]` to a method expecting `Object...` to be equivalent. I had believed that I would have to cast `Object[]` to `Object` using `(Object)invokeArgs` in order for it to be considered the first object of the `Object...` (which I don&#39;t want). But this seems to be happening anyway without the cast.\r\n\r\nThe error message seems to be telling me that Java is considering `Object[]` to be the first Object of the `Object...` varargs, because the method seems to be trying to convert the `invokeArgs` _itself_ (which is a `Object[]`) to a reference to `FooImpl`, which is what is requested as the first argument in the varargs.\r\n\r\nThis doesn&#39;t make sense to me. Either I&#39;ve misunderstood for years how varargs works, or something weird is going on with the `MethodHandle.invoke(…)` method specifically, or I&#39;m just having a mental blank.\r\n\r\nEven if `MethodHandle.invoke(…)` has some sort of special behavior, aren&#39;t the arguments determined at compile time? How could `MethodHandle.invoke(…)` have different behavior based upon whether I use `invoke(foo)` or `invoke(new Object[]{foo})`? During compilation aren&#39;t they equivalent, and in either case the compiler will wind up passing `new Object[]{foo}` to the method, even in the case of `invoke(foo)`?","title":"&quot;Cannot cast [Ljava.lang.Object;&quot; passing Object[] to Object... varargs","body":"<p>I'm struggling with a simple, fundamental Java language question that isn't making sense. I'm passing an <code>Object[]</code> to a method which expects varargs <code>Object...</code>, but the method seems to be interpreting the request as <code>new Object[]{Object[]}</code>. That is, instead of considering the <code>Object[]</code> as equivalent to <code>Object...</code>, it seems to be passing the <code>Object[]</code> as the first element of the varargs, thus wrapping the <code>Object[]</code> in another array of objects.</p>\n<p>I have the following in Java 17:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FooImpl foo = goGetFooImpl();\nList&lt;?&gt; methodArgs = List.of(); //no method args\nObject[] invokeArgs = Stream.concat(Stream.of(foo, methodArgs.stream()).toArray();\n// this gives me the equivalent of `new Object[]{foo}`\n// logging `List.of(invokeArgs)` shows `[com.example.FooImpl@…]`\nMethodHandle barMethodHandle = goLookUpMethodHandle(foo, &quot;bar&quot;);\nmethodHandle.invoke(invokeArgs); //expects varargs `foo, arg1, arg2, …`\n</code></pre>\n<p>I get:</p>\n<blockquote>\n<p><code>java.lang.ClassCastException: Cannot cast [Ljava.lang.Object; to com.example.FooImpl</code></p>\n</blockquote>\n<p>The method signature I'm calling is <code>MethodHandle.invoke(Object... args)</code>. It expects varargs, with the first object referencing the target object on which the method is being invoked. So this works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FooImpl foo = goGetFooImpl();\nMethodHandle barMethodHandle = goLookUpMethodHandle(foo, &quot;bar&quot;);\nbarMethodHandle.invoke(foo);\n</code></pre>\n<p>In this case I don't know ahead of time that there are no further arguments (i.e. <code>methodArgs</code> above might not be empty), which is why I combined everything into an <code>Object[]</code>. But even manually testing like this doesn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FooImpl foo = goGetFooImpl();\nMethodHandle barMethodHandle = goLookUpMethodHandle(foo, &quot;bar&quot;);\nbarMethodHandle.invoke(new Object[]{foo});\n</code></pre>\n<p>The reason this is confusing me is that this is such a basic Java issue (a newbie question, really), and I have understood for years that Java would <em>by default</em> consider passing <code>Object[]</code> to a method expecting <code>Object...</code> to be equivalent. I had believed that I would have to cast <code>Object[]</code> to <code>Object</code> using <code>(Object)invokeArgs</code> in order for it to be considered the first object of the <code>Object...</code> (which I don't want). But this seems to be happening anyway without the cast.</p>\n<p>The error message seems to be telling me that Java is considering <code>Object[]</code> to be the first Object of the <code>Object...</code> varargs, because the method seems to be trying to convert the <code>invokeArgs</code> <em>itself</em> (which is a <code>Object[]</code>) to a reference to <code>FooImpl</code>, which is what is requested as the first argument in the varargs.</p>\n<p>This doesn't make sense to me. Either I've misunderstood for years how varargs works, or something weird is going on with the <code>MethodHandle.invoke(…)</code> method specifically, or I'm just having a mental blank.</p>\n<p>Even if <code>MethodHandle.invoke(…)</code> has some sort of special behavior, aren't the arguments determined at compile time? How could <code>MethodHandle.invoke(…)</code> have different behavior based upon whether I use <code>invoke(foo)</code> or <code>invoke(new Object[]{foo})</code>? During compilation aren't they equivalent, and in either case the compiler will wind up passing <code>new Object[]{foo}</code> to the method, even in the case of <code>invoke(foo)</code>?</p>\n"},{"tags":["java","spring-boot","maven","heroku"],"answers":[{"tags":[],"owner":{"account_id":22751418,"reputation":11,"user_id":16911521,"display_name":"Nicolas ROSSATO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694283272,"creation_date":1694283272,"answer_id":77073485,"question_id":76742167,"body_markdown":"Create a system.properties file at the **root** of your project with this line\r\n\r\n    java.runtime.version=17\r\nSee https://devcenter.heroku.com/changelog-items/2268","title":"Heroku Fatal error compiling: invalid flag: --release","body":"<p>Create a system.properties file at the <strong>root</strong> of your project with this line</p>\n<pre><code>java.runtime.version=17\n</code></pre>\n<p>See <a href=\"https://devcenter.heroku.com/changelog-items/2268\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/changelog-items/2268</a></p>\n"}],"owner":{"account_id":2184114,"reputation":659,"user_id":1932930,"accept_rate":40,"display_name":"tdemay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694283272,"creation_date":1689995991,"question_id":76742167,"body_markdown":"sorry if this is a duplicate. I couldn&#39;t find answer anywhere. \r\n\r\nI&#39;m giving Heroku a try. I&#39;m trying to deploy a demo Java Spring Boot REST API to it and I&#39;m not having any luck. \r\n\r\nYou can view my pom.xml here. And the various things I tried in the git log if you&#39;re interested. Otherwise my pom.xml is below. I&#39;ve got heroku setup to automatically deploy from this repository branch.\r\n\r\nhttps://github.com/tomdemay/UserMgmtPortal/blob/master/user-mgmt-backend/pom.xml\r\n\r\nI have no problems building or running in my environment. This pom file was generated by the spring initializer about 2 weeks ago. \r\n\r\n       [INFO] Changes detected - recompiling the module! :dependency\r\n       [INFO] Compiling 11 source files with javac [debug release 17] to target/classes\r\n       [INFO] ------------------------------------------------------------------------\r\n       [INFO] BUILD FAILURE\r\n       [INFO] ------------------------------------------------------------------------\r\n       [INFO] Total time:  8.845 s\r\n       [INFO] Finished at: 2023-07-22T03:08:15Z\r\n       [INFO] ------------------------------------------------------------------------\r\n       [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project user-mgmt-backend: Fatal error compiling: invalid flag: --release -&gt; [Help 1]\r\n       [ERROR] \r\n\r\n\r\nmy POM.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.1&lt;/version&gt;\r\n            &lt;relativePath/&gt;\r\n            &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.tomdemay.pro\r\n        &lt;/groupId&gt;\r\n        &lt;artifactId&gt;user-mgmt-backend&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;user-mgmt-backend&lt;/name&gt;\r\n        &lt;description&gt;User Management Portal Backend&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n                &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n                &lt;version&gt;5.7.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.0.0-M9&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.6.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;/project&gt;","title":"Heroku Fatal error compiling: invalid flag: --release","body":"<p>sorry if this is a duplicate. I couldn't find answer anywhere.</p>\n<p>I'm giving Heroku a try. I'm trying to deploy a demo Java Spring Boot REST API to it and I'm not having any luck.</p>\n<p>You can view my pom.xml here. And the various things I tried in the git log if you're interested. Otherwise my pom.xml is below. I've got heroku setup to automatically deploy from this repository branch.</p>\n<p><a href=\"https://github.com/tomdemay/UserMgmtPortal/blob/master/user-mgmt-backend/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/tomdemay/UserMgmtPortal/blob/master/user-mgmt-backend/pom.xml</a></p>\n<p>I have no problems building or running in my environment. This pom file was generated by the spring initializer about 2 weeks ago.</p>\n<pre><code>   [INFO] Changes detected - recompiling the module! :dependency\n   [INFO] Compiling 11 source files with javac [debug release 17] to target/classes\n   [INFO] ------------------------------------------------------------------------\n   [INFO] BUILD FAILURE\n   [INFO] ------------------------------------------------------------------------\n   [INFO] Total time:  8.845 s\n   [INFO] Finished at: 2023-07-22T03:08:15Z\n   [INFO] ------------------------------------------------------------------------\n   [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project user-mgmt-backend: Fatal error compiling: invalid flag: --release -&gt; [Help 1]\n   [ERROR] \n</code></pre>\n<p>my POM.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt;\n        &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.tomdemay.pro\n    &lt;/groupId&gt;\n    &lt;artifactId&gt;user-mgmt-backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;user-mgmt-backend&lt;/name&gt;\n    &lt;description&gt;User Management Portal Backend&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.0.0-M9&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.6.0&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["c#","java","exception","throws"],"answers":[{"tags":[],"owner":{"account_id":1190,"reputation":492175,"user_id":1583,"accept_rate":100,"display_name":"Oded"},"down_vote_count":5,"up_vote_count":106,"is_accepted":true,"score":101,"last_activity_date":1281621130,"creation_date":1281597426,"answer_id":3465492,"question_id":3465465,"body_markdown":"In Java, you must either handle an exception or mark the method as one that may throw it using the `throws` keyword.\r\n\r\nC# does not have this keyword or an equivalent one, as in C#, if you don&#39;t handle an exception, it will bubble up, until caught or if not caught it will terminate the program.\r\n\r\nIf you want to handle it then re-throw you can do the following:\r\n\r\n    try\r\n    {\r\n      // code that throws an exception\r\n    }\r\n    catch(ArgumentNullException ex)\r\n    {\r\n      // code that handles the exception\r\n      throw;\r\n    }","title":"How to use Java-style throws keyword in C#?","body":"<p>In Java, you must either handle an exception or mark the method as one that may throw it using the <code>throws</code> keyword.</p>\n\n<p>C# does not have this keyword or an equivalent one, as in C#, if you don't handle an exception, it will bubble up, until caught or if not caught it will terminate the program.</p>\n\n<p>If you want to handle it then re-throw you can do the following:</p>\n\n<pre><code>try\n{\n  // code that throws an exception\n}\ncatch(ArgumentNullException ex)\n{\n  // code that handles the exception\n  throw;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121415,"reputation":175544,"user_id":314488,"accept_rate":100,"display_name":"Pranay Rana"},"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1355848265,"creation_date":1281597481,"answer_id":3465505,"question_id":3465465,"body_markdown":"You are asking about this :\r\n\r\n**Re-throwing an Exception**\r\n\r\n    public void Method()\r\n    {\r\n      try\r\n      {\r\n          int x = 0;\r\n          int sum = 100/x;\r\n      }\r\n      catch(DivideByZeroException e)\r\n      {\r\n          throw;\r\n      }\r\n    }\r\n\r\n\r\nor \r\n\r\n    static void Main() \r\n        {\r\n            string s = null;\r\n    \r\n            if (s == null) \r\n            {\r\n                throw new ArgumentNullException();\r\n            }\r\n    \r\n            Console.Write(&quot;The string s is null&quot;); // not executed\r\n        }","title":"How to use Java-style throws keyword in C#?","body":"<p>You are asking about this :</p>\n\n<p><strong>Re-throwing an Exception</strong></p>\n\n<pre><code>public void Method()\n{\n  try\n  {\n      int x = 0;\n      int sum = 100/x;\n  }\n  catch(DivideByZeroException e)\n  {\n      throw;\n  }\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>static void Main() \n    {\n        string s = null;\n\n        if (s == null) \n        {\n            throw new ArgumentNullException();\n        }\n\n        Console.Write(\"The string s is null\"); // not executed\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1577905466,"creation_date":1281597846,"answer_id":3465542,"question_id":3465465,"body_markdown":"Here is an answer to a similar question I just found on [bytes.com][1]:\r\n\r\n&gt; The short answer is no. There are no checked exceptions in C#. The\r\ndesigner of the language discusses this decision in this interview:\r\n\r\n&gt; [http://www.artima.com/intv/handcuffs.html][2]\r\n\r\n&gt; The nearest you can get is to use the &lt;exception&gt; tags in your XML\r\ndocumentation, and distribute NDoc generated docs with your\r\ncode/assemblies so that other people can see which exceptions you throw\r\n(which is exactly what MS do in the MSDN documentation). You can&#39;t rely\r\non the compiler to tell you about unhandled exceptions, however, like\r\nyou may be used to in java.\r\n\r\n\r\n  [1]: http://bytes.com/topic/c-sharp/answers/262938-throws-keyword-missing-c\r\n  [2]: http://www.artima.com/intv/handcuffs.html","title":"How to use Java-style throws keyword in C#?","body":"<p>Here is an answer to a similar question I just found on <a href=\"http://bytes.com/topic/c-sharp/answers/262938-throws-keyword-missing-c\" rel=\"nofollow noreferrer\">bytes.com</a>:</p>\n\n<blockquote>\n  <p>The short answer is no. There are no checked exceptions in C#. The\n  designer of the language discusses this decision in this interview:</p>\n  \n  <p><a href=\"http://www.artima.com/intv/handcuffs.html\" rel=\"nofollow noreferrer\">http://www.artima.com/intv/handcuffs.html</a></p>\n  \n  <p>The nearest you can get is to use the  tags in your XML\n  documentation, and distribute NDoc generated docs with your\n  code/assemblies so that other people can see which exceptions you throw\n  (which is exactly what MS do in the MSDN documentation). You can't rely\n  on the compiler to tell you about unhandled exceptions, however, like\n  you may be used to in java.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14234,"reputation":2725,"user_id":29110,"display_name":"Johannes Wachter"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1281599449,"creation_date":1281599449,"answer_id":3465703,"question_id":3465465,"body_markdown":"Actually not having checked exceptions in C# can be considered a good or bad thing.\r\n\r\nI myself consider it to be a good solution since checked exceptions provide you with the following problems:\r\n\r\n 1. Technical Exceptions leaking to the business/domain layer because you cannot handle them properly on the low level.\r\n 2. They belong to the method signature which doesn&#39;t always play nice with API design.\r\n\r\nBecause of that in most bigger applications you will see the following pattern often when checked Exceptions occur:\r\n\r\n    try {\r\n        // Some Code\r\n    } catch(SomeException ex){\r\n        throw new RuntimeException(ex);\r\n    }\r\n\r\nWhich essentially means emulating the way C#/.NET handles all Exceptions.","title":"How to use Java-style throws keyword in C#?","body":"<p>Actually not having checked exceptions in C# can be considered a good or bad thing.</p>\n\n<p>I myself consider it to be a good solution since checked exceptions provide you with the following problems:</p>\n\n<ol>\n<li>Technical Exceptions leaking to the business/domain layer because you cannot handle them properly on the low level.</li>\n<li>They belong to the method signature which doesn't always play nice with API design.</li>\n</ol>\n\n<p>Because of that in most bigger applications you will see the following pattern often when checked Exceptions occur:</p>\n\n<pre><code>try {\n    // Some Code\n} catch(SomeException ex){\n    throw new RuntimeException(ex);\n}\n</code></pre>\n\n<p>Which essentially means emulating the way C#/.NET handles all Exceptions.</p>\n"},{"tags":[],"owner":{"account_id":1387,"reputation":32183,"user_id":1853,"accept_rate":94,"display_name":"serg10"},"down_vote_count":0,"up_vote_count":150,"is_accepted":false,"score":150,"last_activity_date":1281614878,"creation_date":1281614878,"answer_id":3467433,"question_id":3465465,"body_markdown":"The op is asking about the **C# equivalent of Java&#39;s [`throws` clause][1]** - not the `throw` keyword.  This is used in method signatures in Java to indicate a checked exception can be thrown.\r\n\r\nIn C#, there is no direct equivalent of a Java checked exception.  C# has no equivalent method signature clause.\r\n\r\n    // Java - need to have throws clause if IOException not handled\r\n    public void readFile() throws java.io.IOException {\r\n      ...not explicitly handling java.io.IOException...\r\n    }\r\n\r\ntranslates to\r\n\r\n    // C# - no equivalent of throws clause exceptions are unchecked\r\n    public void ReadFile() \r\n    {\r\n      ...not explicitly handling System.IO.IOException...\r\n    }\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/classes.html#41401","title":"How to use Java-style throws keyword in C#?","body":"<p>The op is asking about the <strong>C# equivalent of Java's <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/classes.html#41401\" rel=\"noreferrer\"><code>throws</code> clause</a></strong> - not the <code>throw</code> keyword.  This is used in method signatures in Java to indicate a checked exception can be thrown.</p>\n\n<p>In C#, there is no direct equivalent of a Java checked exception.  C# has no equivalent method signature clause.</p>\n\n<pre><code>// Java - need to have throws clause if IOException not handled\npublic void readFile() throws java.io.IOException {\n  ...not explicitly handling java.io.IOException...\n}\n</code></pre>\n\n<p>translates to</p>\n\n<pre><code>// C# - no equivalent of throws clause exceptions are unchecked\npublic void ReadFile() \n{\n  ...not explicitly handling System.IO.IOException...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3030969,"reputation":3536,"user_id":2569995,"accept_rate":91,"display_name":"mvanella"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1374583039,"creation_date":1374583039,"answer_id":17810407,"question_id":3465465,"body_markdown":"Yes this is an old thread, however I frequently find old threads when I am googling answers so I figured I would add something useful that I have found.\r\n\r\nIf you are using Visual Studio 2012 there is a built in tool that can be used to allow for an IDE level &quot;throws&quot; equivalent.\r\n\r\nIf you use [XML Documentation Comments][1], as mentioned above, then you can use the [&amp;lt;exception&amp;gt;][2] tag to specify the type of exception thrown by the method or class as well as information on when or why it is thrown.\r\n\r\nexample:\r\n        \r\n\r\n        /// &lt;summary&gt;This method throws an exception.&lt;/summary&gt;\r\n        /// &lt;param name=&quot;myPath&quot;&gt;A path to a directory that will be zipped.&lt;/param&gt;\r\n        /// &lt;exception cref=&quot;IOException&quot;&gt;This exception is thrown if the archive already exists&lt;/exception&gt;\r\n        public void FooThrowsAnException (string myPath)\r\n        {\r\n            // This will throw an IO exception\r\n            ZipFile.CreateFromDirectory(myPath);\r\n        }\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/b2s063f7.aspx\r\n  [2]: http://msdn.microsoft.com/en-us/library/w1htk11d.aspx","title":"How to use Java-style throws keyword in C#?","body":"<p>Yes this is an old thread, however I frequently find old threads when I am googling answers so I figured I would add something useful that I have found.</p>\n\n<p>If you are using Visual Studio 2012 there is a built in tool that can be used to allow for an IDE level \"throws\" equivalent.</p>\n\n<p>If you use <a href=\"http://msdn.microsoft.com/en-us/library/b2s063f7.aspx\">XML Documentation Comments</a>, as mentioned above, then you can use the <a href=\"http://msdn.microsoft.com/en-us/library/w1htk11d.aspx\">&lt;exception&gt;</a> tag to specify the type of exception thrown by the method or class as well as information on when or why it is thrown.</p>\n\n<p>example:</p>\n\n<pre><code>    /// &lt;summary&gt;This method throws an exception.&lt;/summary&gt;\n    /// &lt;param name=\"myPath\"&gt;A path to a directory that will be zipped.&lt;/param&gt;\n    /// &lt;exception cref=\"IOException\"&gt;This exception is thrown if the archive already exists&lt;/exception&gt;\n    public void FooThrowsAnException (string myPath)\n    {\n        // This will throw an IO exception\n        ZipFile.CreateFromDirectory(myPath);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121293,"reputation":105197,"user_id":314291,"accept_rate":89,"display_name":"StuartLC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1379498824,"creation_date":1379498824,"answer_id":18869356,"question_id":3465465,"body_markdown":"There are some fleeting similarities between the .Net CodeContract [`EnsuresOnThrow&lt;&gt;`](http://msdn.microsoft.com/en-us/library/dd412846.aspx) and the java `throws` descriptor, in that both can signal to the caller as the type of exception which could be raised from a function or method, although there are also major differences between the 2:\r\n\r\n - `EnsuresOnThrow&lt;&gt;` goes beyond just stating which exceptions can be thrown, but also stipulates the conditions under which they are guaranteed to be thrown - this can be quite onerous code in the called method if the exception condition isn&#39;t trivial to identify. Java `throws` provides an indication of which exceptions could be thrown (i.e. IMO the focus in .Net is inside the method which contracts to prove the `throw`, whereas in Java the focus shifts to the caller to acknowledge the possibility of the exception).\r\n - .Net CC doesn&#39;t make the distinction between [Checked vs Unchecked](http://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html) exceptions that Java has, although the CC manual section 2.2.2 does mention to \r\n\r\n&gt; &quot;use exceptional postconditions only for those exceptions that a caller\r\n&gt; should expect as part of the API&quot;\r\n\r\n - In .Net the caller can determine whether or not to do anything with the exception (e.g. by disabling contracts). In Java, the caller [must do something](https://stackoverflow.com/questions/2008424/why-do-you-have-to-write-throws-exception-in-a-class-definition), even if it adds a `throws` for the same exception on its interface.\r\n\r\n[Code Contracts manual here](http://research.microsoft.com/en-us/projects/contracts/userdoc.pdf)\r\n","title":"How to use Java-style throws keyword in C#?","body":"<p>There are some fleeting similarities between the .Net CodeContract <a href=\"http://msdn.microsoft.com/en-us/library/dd412846.aspx\" rel=\"nofollow noreferrer\"><code>EnsuresOnThrow&lt;&gt;</code></a> and the java <code>throws</code> descriptor, in that both can signal to the caller as the type of exception which could be raised from a function or method, although there are also major differences between the 2:</p>\n\n<ul>\n<li><code>EnsuresOnThrow&lt;&gt;</code> goes beyond just stating which exceptions can be thrown, but also stipulates the conditions under which they are guaranteed to be thrown - this can be quite onerous code in the called method if the exception condition isn't trivial to identify. Java <code>throws</code> provides an indication of which exceptions could be thrown (i.e. IMO the focus in .Net is inside the method which contracts to prove the <code>throw</code>, whereas in Java the focus shifts to the caller to acknowledge the possibility of the exception).</li>\n<li>.Net CC doesn't make the distinction between <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html\" rel=\"nofollow noreferrer\">Checked vs Unchecked</a> exceptions that Java has, although the CC manual section 2.2.2 does mention to </li>\n</ul>\n\n<blockquote>\n  <p>\"use exceptional postconditions only for those exceptions that a caller\n  should expect as part of the API\"</p>\n</blockquote>\n\n<ul>\n<li>In .Net the caller can determine whether or not to do anything with the exception (e.g. by disabling contracts). In Java, the caller <a href=\"https://stackoverflow.com/questions/2008424/why-do-you-have-to-write-throws-exception-in-a-class-definition\">must do something</a>, even if it adds a <code>throws</code> for the same exception on its interface.</li>\n</ul>\n\n<p><a href=\"http://research.microsoft.com/en-us/projects/contracts/userdoc.pdf\" rel=\"nofollow noreferrer\">Code Contracts manual here</a></p>\n"},{"tags":[],"owner":{"account_id":1415414,"reputation":1621,"user_id":1341177,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1495665557,"creation_date":1495665557,"answer_id":44169595,"question_id":3465465,"body_markdown":"After going through most of the answers here, I&#39;d like to add a couple of thoughts.\r\n\r\n 1. Relying on XML Documentation Comments and expecting others to rely on is a poor choice. Most C# code I&#39;ve come across does not document methods completely and consistently with XML Documentation Comments. And then there&#39;s the bigger issue that without checked exceptions in C#, how could you document all exceptions your method throws for the purpose of your API user to know how to handle them all individually? Remember, you only know about the ones you throw yourself with the throw keyword in your implementation. APIs you&#39;re using inside your method implementation might also throw exceptions that you don&#39;t know about because they might not be documented and you&#39;re not handling them in your implementation, so they&#39;ll blow up in face of the caller of your method. In other words, these XML documentation comments are no replacement for checked exceptions.\r\n\r\n 2. Andreas linked an interview with Anders Hejlsberg in the answers here on why the C# design team decided against checked exceptions. The ultimate response to the original question is hidden in that interview:\r\n\r\n&gt; The programmers protect their code by writing try finally&#39;s everywhere, so they&#39;ll back out correctly if an exception occurs, but they&#39;re not actually interested in handling the exceptions.\r\n\r\nIn other words, nobody should be interested in what kind of exception can be expected for a particular API as you&#39;re always going to catch all of them everywhere. And if you want to really care about particular exceptions, how to handle them is up to you and not someone defining a method signature with something like the Java throws keyword, forcing particular exception handling on an API user.\r\n\r\n--\r\n\r\nPersonally, I&#39;m torn here. I agree with Anders that having checked exceptions doesn&#39;t solve the problem without adding new, different problems. Just like with the XML documentation comments, I rarely see C# code with everything wrapped in try finally blocks. It feels to me though this is indeed your only option and something that seems like a good practice.\r\n\r\n","title":"How to use Java-style throws keyword in C#?","body":"<p>After going through most of the answers here, I'd like to add a couple of thoughts.</p>\n\n<ol>\n<li><p>Relying on XML Documentation Comments and expecting others to rely on is a poor choice. Most C# code I've come across does not document methods completely and consistently with XML Documentation Comments. And then there's the bigger issue that without checked exceptions in C#, how could you document all exceptions your method throws for the purpose of your API user to know how to handle them all individually? Remember, you only know about the ones you throw yourself with the throw keyword in your implementation. APIs you're using inside your method implementation might also throw exceptions that you don't know about because they might not be documented and you're not handling them in your implementation, so they'll blow up in face of the caller of your method. In other words, these XML documentation comments are no replacement for checked exceptions.</p></li>\n<li><p>Andreas linked an interview with Anders Hejlsberg in the answers here on why the C# design team decided against checked exceptions. The ultimate response to the original question is hidden in that interview:</p></li>\n</ol>\n\n<blockquote>\n  <p>The programmers protect their code by writing try finally's everywhere, so they'll back out correctly if an exception occurs, but they're not actually interested in handling the exceptions.</p>\n</blockquote>\n\n<p>In other words, nobody should be interested in what kind of exception can be expected for a particular API as you're always going to catch all of them everywhere. And if you want to really care about particular exceptions, how to handle them is up to you and not someone defining a method signature with something like the Java throws keyword, forcing particular exception handling on an API user.</p>\n\n<p>--</p>\n\n<p>Personally, I'm torn here. I agree with Anders that having checked exceptions doesn't solve the problem without adding new, different problems. Just like with the XML documentation comments, I rarely see C# code with everything wrapped in try finally blocks. It feels to me though this is indeed your only option and something that seems like a good practice.</p>\n"},{"tags":[],"owner":{"account_id":1164431,"reputation":3823,"user_id":1143349,"display_name":"ADM-IT"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1694282871,"creation_date":1573642480,"answer_id":58835533,"question_id":3465465,"body_markdown":"If the c# method&#39;s purpose is to only throw an exception (like js return type says) I would recommend just return that exception. See the example bellow:\r\n```\r\npublic EntityNotFoundException GetEntityNotFoundException(Type entityType, object id)\r\n{\r\n    return new EntityNotFoundException($&quot;The object &#39;{entityType.Name}&#39; with given id &#39;{id}&#39; not found.&quot;);\r\n}\r\n```\r\n\r\nIf you would like to describe the exception you can use summary as such:\r\n``` c#\r\n/// &lt;summary&gt;\r\n/// Gets an entity by &lt;paramref name=&quot;id&quot;/&gt;\r\n/// &lt;/summary&gt;\r\n/// &lt;exception cref=&quot;UserException&quot;&gt;Entity not found&lt;/exception&gt;\r\npublic TEntity GetEntity&lt;TEntity&gt;(string id)\r\n{\r\n    return session.Get&lt;TEntity&gt;(id)\r\n        ?? throw GetEntityNotFoundException(typeof(TEntity), id);\r\n}\r\n```","title":"How to use Java-style throws keyword in C#?","body":"<p>If the c# method's purpose is to only throw an exception (like js return type says) I would recommend just return that exception. See the example bellow:</p>\n<pre><code>public EntityNotFoundException GetEntityNotFoundException(Type entityType, object id)\n{\n    return new EntityNotFoundException($&quot;The object '{entityType.Name}' with given id '{id}' not found.&quot;);\n}\n</code></pre>\n<p>If you would like to describe the exception you can use summary as such:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>/// &lt;summary&gt;\n/// Gets an entity by &lt;paramref name=&quot;id&quot;/&gt;\n/// &lt;/summary&gt;\n/// &lt;exception cref=&quot;UserException&quot;&gt;Entity not found&lt;/exception&gt;\npublic TEntity GetEntity&lt;TEntity&gt;(string id)\n{\n    return session.Get&lt;TEntity&gt;(id)\n        ?? throw GetEntityNotFoundException(typeof(TEntity), id);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2450371,"reputation":486,"user_id":2136815,"accept_rate":60,"display_name":"Simon Jensen"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1579252161,"creation_date":1579252161,"answer_id":59784204,"question_id":3465465,"body_markdown":"For those wondering, you do not even need to define what you catch to pass it on to the next method. In case you want all your error handling in one main thread you can just catch everything and pass it on like so:\r\n\r\n    try {\r\n        //your code here\r\n    }\r\n    catch {\r\n        //this will throw any exceptions caught by this try/catch\r\n        throw;\r\n    }","title":"How to use Java-style throws keyword in C#?","body":"<p>For those wondering, you do not even need to define what you catch to pass it on to the next method. In case you want all your error handling in one main thread you can just catch everything and pass it on like so:</p>\n\n<pre><code>try {\n    //your code here\n}\ncatch {\n    //this will throw any exceptions caught by this try/catch\n    throw;\n}\n</code></pre>\n"}],"owner":{"account_id":163323,"reputation":34787,"user_id":385387,"accept_rate":74,"display_name":"Louis Rhys"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82181,"favorite_count":0,"down_vote_count":0,"up_vote_count":127,"accepted_answer_id":3465492,"answer_count":10,"score":127,"last_activity_date":1694282871,"creation_date":1281597213,"question_id":3465465,"body_markdown":"In Java, the [`throws`][1] keyword allows for a method to declare that it will not handle an exception on its own, but rather throw it to the calling method.\r\n\r\nIs there a similar keyword/attribute in C#?\r\n\r\nIf there is no equivalent, how can you accomplish the same (or a similar) effect?\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/essential/exceptions/declaring.html","title":"How to use Java-style throws keyword in C#?","body":"<p>In Java, the <a href=\"http://download.oracle.com/javase/tutorial/essential/exceptions/declaring.html\" rel=\"noreferrer\"><code>throws</code></a> keyword allows for a method to declare that it will not handle an exception on its own, but rather throw it to the calling method.</p>\n\n<p>Is there a similar keyword/attribute in C#?</p>\n\n<p>If there is no equivalent, how can you accomplish the same (or a similar) effect?</p>\n"},{"tags":["java","json","dictionary"],"comments":[{"owner":{"account_id":3670630,"reputation":9935,"user_id":3057934,"display_name":"vzamanillo"},"score":0,"creation_date":1412157813,"post_id":21720759,"comment_id":40970984,"body_markdown":"I don&#39;t know why json.org JSONObject does not have a getter for the private map member variable...","body":"I don&#39;t know why json.org JSONObject does not have a getter for the private map member variable..."},{"owner":{"account_id":10958086,"reputation":99,"user_id":8052227,"display_name":"AndyGeek"},"score":1,"creation_date":1544710674,"post_id":21720759,"comment_id":94379330,"body_markdown":"**Solution in Kotlin please check this** using gson\nhttps://stackoverflow.com/a/53763826/8052227","body":"<b>Solution in Kotlin please check this</b> using gson <a href=\"https://stackoverflow.com/a/53763826/8052227\">stackoverflow.com/a/53763826/8052227</a>"},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1551142604,"post_id":21720759,"comment_id":96523896,"body_markdown":"But why is question asking about `JSONObject` when that seems to be superfluous type that is not needed at all? Reading JSON as `Map` is simple using any number of good Java JSON Libraries like Jackson, GSON, Genson, Moshi. So why does OP &quot;want&quot; to use org.json?","body":"But why is question asking about <code>JSONObject</code> when that seems to be superfluous type that is not needed at all? Reading JSON as <code>Map</code> is simple using any number of good Java JSON Libraries like Jackson, GSON, Genson, Moshi. So why does OP &quot;want&quot; to use org.json?"},{"owner":{"account_id":3483804,"reputation":10869,"user_id":2915208,"accept_rate":25,"display_name":"Vikas Gupta"},"score":1,"creation_date":1551155810,"post_id":21720759,"comment_id":96526485,"body_markdown":"@staxMan, Due to the organization policy, sometimes you are bound to use the inbuilt libraries only. Hence, I had to use the org.json only.","body":"@staxMan, Due to the organization policy, sometimes you are bound to use the inbuilt libraries only. Hence, I had to use the org.json only."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1551324540,"post_id":21720759,"comment_id":96601618,"body_markdown":"@VikasGupta ok that makes sense, if running on such platform (Android probably)","body":"@VikasGupta ok that makes sense, if running on such platform (Android probably)"}],"answers":[{"tags":[],"owner":{"account_id":1517030,"reputation":2143,"user_id":1417801,"accept_rate":36,"display_name":"Konza"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1392188720,"creation_date":1392188299,"answer_id":21720816,"question_id":21720759,"body_markdown":"You can use google gson library to convert json object.\r\n\r\nhttps://code.google.com/p/google-gson/‎\r\n\r\nOther librarys like Jackson are also available.\r\n \r\nThis won&#39;t convert it to a map. But you can do all things which you want.\r\n\r\n","title":"Convert a JSON String to a HashMap","body":"<p>You can use google gson library to convert json object.</p>\n\n<p><a href=\"https://code.google.com/p/google-gson/\" rel=\"nofollow\">https://code.google.com/p/google-gson/</a>‎</p>\n\n<p>Other librarys like Jackson are also available.</p>\n\n<p>This won't convert it to a map. But you can do all things which you want.</p>\n"},{"tags":[],"owner":{"account_id":388042,"reputation":3638,"user_id":3110029,"display_name":"Toon Borgers"},"down_vote_count":3,"up_vote_count":186,"is_accepted":false,"score":183,"last_activity_date":1612307045,"creation_date":1392188785,"answer_id":21720953,"question_id":21720759,"body_markdown":"Using [Gson][1], you can do the following:\r\n\r\n    Map&lt;String, Object&gt; retMap = new Gson().fromJson(\r\n        jsonString, new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType()\r\n    );\r\n\r\n  [1]: https://code.google.com/p/google-gson/","title":"Convert a JSON String to a HashMap","body":"<p>Using <a href=\"https://code.google.com/p/google-gson/\" rel=\"noreferrer\">Gson</a>, you can do the following:</p>\n<pre><code>Map&lt;String, Object&gt; retMap = new Gson().fromJson(\n    jsonString, new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType()\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3483804,"reputation":10869,"user_id":2915208,"accept_rate":25,"display_name":"Vikas Gupta"},"down_vote_count":1,"up_vote_count":255,"is_accepted":true,"score":254,"last_activity_date":1644416246,"creation_date":1401788948,"answer_id":24012023,"question_id":21720759,"body_markdown":"In recursive way: \r\n\r\n    public static Map&lt;String, Object&gt; jsonToMap(JSONObject json) throws JSONException {\r\n\t\tMap&lt;String, Object&gt; retMap = new HashMap&lt;String, Object&gt;();\r\n\t\t\r\n\t\tif(json != JSONObject.NULL) {\r\n\t\t\tretMap = toMap(json);\r\n\t\t}\r\n\t\treturn retMap;\r\n\t}\r\n\t\r\n\tpublic static Map&lt;String, Object&gt; toMap(JSONObject object) throws JSONException {\r\n\t\tMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n\r\n\t\tIterator&lt;String&gt; keysItr = object.keys();\r\n\t\twhile(keysItr.hasNext()) {\r\n\t\t\tString key = keysItr.next();\r\n\t\t\tObject value = object.get(key);\r\n\t\t\t\r\n\t\t\tif(value instanceof JSONArray) {\r\n\t\t\t\tvalue = toList((JSONArray) value);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse if(value instanceof JSONObject) {\r\n\t\t\t\tvalue = toMap((JSONObject) value);\r\n\t\t\t}\r\n\t\t\tmap.put(key, value);\r\n\t\t}\r\n\t\treturn map;\r\n\t}\r\n\t\r\n\tpublic static List&lt;Object&gt; toList(JSONArray array) throws JSONException {\r\n\t\tList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n\t\tfor(int i = 0; i &lt; array.length(); i++) {\r\n\t\t\tObject value = array.get(i);\r\n            if(value instanceof JSONArray) {\r\n                value = toList((JSONArray) value);\r\n            }\r\n\r\n            else if(value instanceof JSONObject) {\r\n                value = toMap((JSONObject) value);\r\n            }\r\n            list.add(value);\r\n\t\t}\r\n\t\treturn list;\r\n\t}\r\n\r\nUsing Jackson library:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    Map&lt;String, Object&gt; mapping = new ObjectMapper().readValue(jsonStr, HashMap.class);","title":"Convert a JSON String to a HashMap","body":"<p>In recursive way:</p>\n<pre><code>public static Map&lt;String, Object&gt; jsonToMap(JSONObject json) throws JSONException {\n    Map&lt;String, Object&gt; retMap = new HashMap&lt;String, Object&gt;();\n    \n    if(json != JSONObject.NULL) {\n        retMap = toMap(json);\n    }\n    return retMap;\n}\n\npublic static Map&lt;String, Object&gt; toMap(JSONObject object) throws JSONException {\n    Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n\n    Iterator&lt;String&gt; keysItr = object.keys();\n    while(keysItr.hasNext()) {\n        String key = keysItr.next();\n        Object value = object.get(key);\n        \n        if(value instanceof JSONArray) {\n            value = toList((JSONArray) value);\n        }\n        \n        else if(value instanceof JSONObject) {\n            value = toMap((JSONObject) value);\n        }\n        map.put(key, value);\n    }\n    return map;\n}\n\npublic static List&lt;Object&gt; toList(JSONArray array) throws JSONException {\n    List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n    for(int i = 0; i &lt; array.length(); i++) {\n        Object value = array.get(i);\n        if(value instanceof JSONArray) {\n            value = toList((JSONArray) value);\n        }\n\n        else if(value instanceof JSONObject) {\n            value = toMap((JSONObject) value);\n        }\n        list.add(value);\n    }\n    return list;\n}\n</code></pre>\n<p>Using Jackson library:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\n\nMap&lt;String, Object&gt; mapping = new ObjectMapper().readValue(jsonStr, HashMap.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1929103,"reputation":13962,"user_id":1738915,"accept_rate":90,"display_name":"Kolban"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1419791392,"creation_date":1419791392,"answer_id":27679348,"question_id":21720759,"body_markdown":"Here is Vikas&#39;s code ported to JSR 353:\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import javax.json.JsonArray;\r\n    import javax.json.JsonException;\r\n    import javax.json.JsonObject;\r\n    \r\n    public class JsonUtils {\r\n    \tpublic static Map&lt;String, Object&gt; jsonToMap(JsonObject json) {\r\n            Map&lt;String, Object&gt; retMap = new HashMap&lt;String, Object&gt;();\r\n    \r\n            if(json != JsonObject.NULL) {\r\n                retMap = toMap(json);\r\n            }\r\n            return retMap;\r\n        }\r\n    \r\n        public static Map&lt;String, Object&gt; toMap(JsonObject object) throws JsonException {\r\n            Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n    \r\n            Iterator&lt;String&gt; keysItr = object.keySet().iterator();\r\n            while(keysItr.hasNext()) {\r\n                String key = keysItr.next();\r\n                Object value = object.get(key);\r\n    \r\n                if(value instanceof JsonArray) {\r\n                    value = toList((JsonArray) value);\r\n                }\r\n    \r\n                else if(value instanceof JsonObject) {\r\n                    value = toMap((JsonObject) value);\r\n                }\r\n                map.put(key, value);\r\n            }\r\n            return map;\r\n        }\r\n    \r\n        public static List&lt;Object&gt; toList(JsonArray array) {\r\n            List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n            for(int i = 0; i &lt; array.size(); i++) {\r\n                Object value = array.get(i);\r\n                if(value instanceof JsonArray) {\r\n                    value = toList((JsonArray) value);\r\n                }\r\n    \r\n                else if(value instanceof JsonObject) {\r\n                    value = toMap((JsonObject) value);\r\n                }\r\n                list.add(value);\r\n            }\r\n            return list;\r\n        }\r\n    }\r\n\r\n","title":"Convert a JSON String to a HashMap","body":"<p>Here is Vikas's code ported to JSR 353:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\n\nimport javax.json.JsonArray;\nimport javax.json.JsonException;\nimport javax.json.JsonObject;\n\npublic class JsonUtils {\n    public static Map&lt;String, Object&gt; jsonToMap(JsonObject json) {\n        Map&lt;String, Object&gt; retMap = new HashMap&lt;String, Object&gt;();\n\n        if(json != JsonObject.NULL) {\n            retMap = toMap(json);\n        }\n        return retMap;\n    }\n\n    public static Map&lt;String, Object&gt; toMap(JsonObject object) throws JsonException {\n        Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n\n        Iterator&lt;String&gt; keysItr = object.keySet().iterator();\n        while(keysItr.hasNext()) {\n            String key = keysItr.next();\n            Object value = object.get(key);\n\n            if(value instanceof JsonArray) {\n                value = toList((JsonArray) value);\n            }\n\n            else if(value instanceof JsonObject) {\n                value = toMap((JsonObject) value);\n            }\n            map.put(key, value);\n        }\n        return map;\n    }\n\n    public static List&lt;Object&gt; toList(JsonArray array) {\n        List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n        for(int i = 0; i &lt; array.size(); i++) {\n            Object value = array.get(i);\n            if(value instanceof JsonArray) {\n                value = toList((JsonArray) value);\n            }\n\n            else if(value instanceof JsonObject) {\n                value = toMap((JsonObject) value);\n            }\n            list.add(value);\n        }\n        return list;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1625215972,"creation_date":1440572579,"answer_id":32219975,"question_id":21720759,"body_markdown":"Latest Update: I have used `FasterXML Jackson Databind`&lt;sup&gt;[2.12.3](https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind/2.12.3)&lt;/sup&gt; to Convert JSON string to Map, Map to JSON string.\r\n\r\n```java\r\n// javax.ws.rs.core.Response clientresponse = null; // Read JSON with Jersey 2.0 (JAX-RS 2.0)\r\n// String json_string = clientresponse.readEntity(String.class);\r\nString json_string = &quot;[\\r\\n&quot;\r\n        + &quot;{\\&quot;domain\\&quot;:\\&quot;stackoverflow.com\\&quot;, \\&quot;userId\\&quot;:5081877, \\&quot;userName\\&quot;:\\&quot;Yash\\&quot;},\\r\\n&quot;\r\n        + &quot;{\\&quot;domain\\&quot;:\\&quot;stackoverflow.com\\&quot;, \\&quot;userId\\&quot;:6575754, \\&quot;userName\\&quot;:\\&quot;Yash\\&quot;}\\r\\n&quot;\r\n        + &quot;]&quot;;\r\nSystem.out.println(&quot;Input/Response JSON string:&quot;+json_string);\r\nObjectMapper mapper = new com.fasterxml.jackson.databind.ObjectMapper();\r\n//java.util.Map&lt;String, String&gt; map = mapper.readValue(json_string, java.util.Map.class);\r\nList&lt;Map&lt;String, Object&gt;&gt; listOfMaps = mapper.readValue(json_string, new com.fasterxml.jackson.core.type.TypeReference&lt; List&lt;Map&lt;String, Object&gt;&gt;&gt;() {});\r\n\r\nSystem.out.println(&quot;fasterxml JSON string to List of Map:&quot;+listOfMaps);\r\n\r\nString json = mapper.writeValueAsString(listOfMaps);\r\nSystem.out.println(&quot;fasterxml List of Map to JSON string:[compact-print]&quot;+json);\r\n\r\njson = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(listOfMaps);\r\nSystem.out.println(&quot;fasterxml List of Map to JSON string:[pretty-print]&quot;+json);\r\n```\r\n\r\noutput:\r\n```\r\nInput/Response JSON string:[\r\n{&quot;domain&quot;:&quot;stackoverflow.com&quot;, &quot;userId&quot;:5081877, &quot;userName&quot;:&quot;Yash&quot;},\r\n{&quot;domain&quot;:&quot;stackoverflow.com&quot;, &quot;userId&quot;:6575754, &quot;userName&quot;:&quot;Yash&quot;}\r\n]\r\nfasterxml JSON string to List of Map:[{domain=stackoverflow.com, userId=5081877, userName=Yash}, {domain=stackoverflow.com, userId=6575754, userName=Yash}]\r\nfasterxml List of Map to JSON string:[compact-print][{&quot;domain&quot;:&quot;stackoverflow.com&quot;,&quot;userId&quot;:5081877,&quot;userName&quot;:&quot;Yash&quot;},{&quot;domain&quot;:&quot;stackoverflow.com&quot;,&quot;userId&quot;:6575754,&quot;userName&quot;:&quot;Yash&quot;}]\r\nfasterxml List of Map to JSON string:[pretty-print][ {\r\n  &quot;domain&quot; : &quot;stackoverflow.com&quot;,\r\n  &quot;userId&quot; : 5081877,\r\n  &quot;userName&quot; : &quot;Yash&quot;\r\n}, {\r\n  &quot;domain&quot; : &quot;stackoverflow.com&quot;,\r\n  &quot;userId&quot; : 6575754,\r\n  &quot;userName&quot; : &quot;Yash&quot;\r\n} ]\r\n```\r\n\r\n-----\r\n\r\n**Converting a JSON String to Map**\r\n\r\n```java\r\npublic static java.util.Map&lt;String, Object&gt; jsonString2Map( String jsonString ) throws org.json.JSONException {\r\n    Map&lt;String, Object&gt; keys = new HashMap&lt;String, Object&gt;(); \r\n    \r\n    org.json.JSONObject jsonObject = new org.json.JSONObject( jsonString ); // HashMap\r\n    java.util.Iterator&lt;?&gt; keyset = jsonObject.keys(); // HM\r\n    \r\n    while (keyset.hasNext()) {\r\n        String key =  (String) keyset.next();\r\n        Object value = jsonObject.get(key);\r\n        System.out.print(&quot;\\n Key : &quot;+key);\r\n        if ( value instanceof org.json.JSONObject ) {\r\n            System.out.println(&quot;Incomin value is of JSONObject : &quot;);\r\n            keys.put( key, jsonString2Map( value.toString() ));\r\n        } else if ( value instanceof org.json.JSONArray) {\r\n            org.json.JSONArray jsonArray = jsonObject.getJSONArray(key);\r\n            //JSONArray jsonArray = new JSONArray(value.toString());\r\n            keys.put( key, jsonArray2List( jsonArray ));\r\n        } else {\r\n            keyNode( value);\r\n            keys.put( key, value );\r\n        }\r\n    }\r\n    return keys;\r\n}\r\n```\r\n\r\n**Converting JSON Array to List**\r\n\r\n```java\r\npublic static java.util.List&lt;Object&gt; jsonArray2List( org.json.JSONArray arrayOFKeys ) throws org.json.JSONException {\r\n    System.out.println(&quot;Incoming value is of JSONArray : =========&quot;);\r\n    java.util.List&lt;Object&gt; array2List = new java.util.ArrayList&lt;Object&gt;();\r\n    for ( int i = 0; i &lt; arrayOFKeys.length(); i++ )  {\r\n        if ( arrayOFKeys.opt(i) instanceof org.json.JSONObject ) {\r\n            Map&lt;String, Object&gt; subObj2Map = jsonString2Map(arrayOFKeys.opt(i).toString());\r\n            array2List.add(subObj2Map);\r\n        } else if ( arrayOFKeys.opt(i) instanceof org.json.JSONArray ) {\r\n            java.util.List&lt;Object&gt; subarray2List = jsonArray2List((org.json.JSONArray) arrayOFKeys.opt(i));\r\n            array2List.add(subarray2List);\r\n        } else {\r\n            keyNode( arrayOFKeys.opt(i) );\r\n            array2List.add( arrayOFKeys.opt(i) );\r\n        }\r\n    }\r\n    return array2List;\r\n}\r\npublic static Object keyNode(Object o) {\r\n    if (o instanceof String || o instanceof Character) return (String) o;\r\n    else if (o instanceof Number) return (Number) o;\r\n    else return o;\r\n}\r\n```\r\n\r\n**Display JSON of Any Format**\r\n\r\n```java\r\npublic static void displayJSONMAP( Map&lt;String, Object&gt; allKeys ) throws Exception{\r\n    Set&lt;String&gt; keyset = allKeys.keySet(); // HM$keyset\r\n    if (! keyset.isEmpty()) {\r\n        Iterator&lt;String&gt; keys = keyset.iterator(); // HM$keysIterator\r\n        while (keys.hasNext()) {\r\n            String key = keys.next();\r\n            Object value = allKeys.get( key );\r\n            if ( value instanceof Map ) {\r\n                System.out.println(&quot;\\n Object Key : &quot;+key);\r\n                    displayJSONMAP(jsonString2Map(value.toString()));\r\n            }else if ( value instanceof List ) {\r\n                System.out.println(&quot;\\n Array Key : &quot;+key);\r\n                JSONArray jsonArray = new JSONArray(value.toString());\r\n                jsonArray2List(jsonArray);\r\n            }else {\r\n                System.out.println(&quot;key : &quot;+key+&quot; value : &quot;+value);\r\n            }\r\n        }\r\n    }    \r\n    \r\n}\r\n```\r\n\r\n[Google.gson][1] to HashMap.\r\n\r\n  [1]: https://stackoverflow.com/questions/19760138/parsing-json-in-java-without-knowing-json-format/31984993#31984993","title":"Convert a JSON String to a HashMap","body":"<p>Latest Update: I have used <code>FasterXML Jackson Databind</code><sup><a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind/2.12.3\" rel=\"noreferrer\">2.12.3</a></sup> to Convert JSON string to Map, Map to JSON string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// javax.ws.rs.core.Response clientresponse = null; // Read JSON with Jersey 2.0 (JAX-RS 2.0)\n// String json_string = clientresponse.readEntity(String.class);\nString json_string = &quot;[\\r\\n&quot;\n        + &quot;{\\&quot;domain\\&quot;:\\&quot;stackoverflow.com\\&quot;, \\&quot;userId\\&quot;:5081877, \\&quot;userName\\&quot;:\\&quot;Yash\\&quot;},\\r\\n&quot;\n        + &quot;{\\&quot;domain\\&quot;:\\&quot;stackoverflow.com\\&quot;, \\&quot;userId\\&quot;:6575754, \\&quot;userName\\&quot;:\\&quot;Yash\\&quot;}\\r\\n&quot;\n        + &quot;]&quot;;\nSystem.out.println(&quot;Input/Response JSON string:&quot;+json_string);\nObjectMapper mapper = new com.fasterxml.jackson.databind.ObjectMapper();\n//java.util.Map&lt;String, String&gt; map = mapper.readValue(json_string, java.util.Map.class);\nList&lt;Map&lt;String, Object&gt;&gt; listOfMaps = mapper.readValue(json_string, new com.fasterxml.jackson.core.type.TypeReference&lt; List&lt;Map&lt;String, Object&gt;&gt;&gt;() {});\n\nSystem.out.println(&quot;fasterxml JSON string to List of Map:&quot;+listOfMaps);\n\nString json = mapper.writeValueAsString(listOfMaps);\nSystem.out.println(&quot;fasterxml List of Map to JSON string:[compact-print]&quot;+json);\n\njson = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(listOfMaps);\nSystem.out.println(&quot;fasterxml List of Map to JSON string:[pretty-print]&quot;+json);\n</code></pre>\n<p>output:</p>\n<pre><code>Input/Response JSON string:[\n{&quot;domain&quot;:&quot;stackoverflow.com&quot;, &quot;userId&quot;:5081877, &quot;userName&quot;:&quot;Yash&quot;},\n{&quot;domain&quot;:&quot;stackoverflow.com&quot;, &quot;userId&quot;:6575754, &quot;userName&quot;:&quot;Yash&quot;}\n]\nfasterxml JSON string to List of Map:[{domain=stackoverflow.com, userId=5081877, userName=Yash}, {domain=stackoverflow.com, userId=6575754, userName=Yash}]\nfasterxml List of Map to JSON string:[compact-print][{&quot;domain&quot;:&quot;stackoverflow.com&quot;,&quot;userId&quot;:5081877,&quot;userName&quot;:&quot;Yash&quot;},{&quot;domain&quot;:&quot;stackoverflow.com&quot;,&quot;userId&quot;:6575754,&quot;userName&quot;:&quot;Yash&quot;}]\nfasterxml List of Map to JSON string:[pretty-print][ {\n  &quot;domain&quot; : &quot;stackoverflow.com&quot;,\n  &quot;userId&quot; : 5081877,\n  &quot;userName&quot; : &quot;Yash&quot;\n}, {\n  &quot;domain&quot; : &quot;stackoverflow.com&quot;,\n  &quot;userId&quot; : 6575754,\n  &quot;userName&quot; : &quot;Yash&quot;\n} ]\n</code></pre>\n<hr />\n<p><strong>Converting a JSON String to Map</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static java.util.Map&lt;String, Object&gt; jsonString2Map( String jsonString ) throws org.json.JSONException {\n    Map&lt;String, Object&gt; keys = new HashMap&lt;String, Object&gt;(); \n    \n    org.json.JSONObject jsonObject = new org.json.JSONObject( jsonString ); // HashMap\n    java.util.Iterator&lt;?&gt; keyset = jsonObject.keys(); // HM\n    \n    while (keyset.hasNext()) {\n        String key =  (String) keyset.next();\n        Object value = jsonObject.get(key);\n        System.out.print(&quot;\\n Key : &quot;+key);\n        if ( value instanceof org.json.JSONObject ) {\n            System.out.println(&quot;Incomin value is of JSONObject : &quot;);\n            keys.put( key, jsonString2Map( value.toString() ));\n        } else if ( value instanceof org.json.JSONArray) {\n            org.json.JSONArray jsonArray = jsonObject.getJSONArray(key);\n            //JSONArray jsonArray = new JSONArray(value.toString());\n            keys.put( key, jsonArray2List( jsonArray ));\n        } else {\n            keyNode( value);\n            keys.put( key, value );\n        }\n    }\n    return keys;\n}\n</code></pre>\n<p><strong>Converting JSON Array to List</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static java.util.List&lt;Object&gt; jsonArray2List( org.json.JSONArray arrayOFKeys ) throws org.json.JSONException {\n    System.out.println(&quot;Incoming value is of JSONArray : =========&quot;);\n    java.util.List&lt;Object&gt; array2List = new java.util.ArrayList&lt;Object&gt;();\n    for ( int i = 0; i &lt; arrayOFKeys.length(); i++ )  {\n        if ( arrayOFKeys.opt(i) instanceof org.json.JSONObject ) {\n            Map&lt;String, Object&gt; subObj2Map = jsonString2Map(arrayOFKeys.opt(i).toString());\n            array2List.add(subObj2Map);\n        } else if ( arrayOFKeys.opt(i) instanceof org.json.JSONArray ) {\n            java.util.List&lt;Object&gt; subarray2List = jsonArray2List((org.json.JSONArray) arrayOFKeys.opt(i));\n            array2List.add(subarray2List);\n        } else {\n            keyNode( arrayOFKeys.opt(i) );\n            array2List.add( arrayOFKeys.opt(i) );\n        }\n    }\n    return array2List;\n}\npublic static Object keyNode(Object o) {\n    if (o instanceof String || o instanceof Character) return (String) o;\n    else if (o instanceof Number) return (Number) o;\n    else return o;\n}\n</code></pre>\n<p><strong>Display JSON of Any Format</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void displayJSONMAP( Map&lt;String, Object&gt; allKeys ) throws Exception{\n    Set&lt;String&gt; keyset = allKeys.keySet(); // HM$keyset\n    if (! keyset.isEmpty()) {\n        Iterator&lt;String&gt; keys = keyset.iterator(); // HM$keysIterator\n        while (keys.hasNext()) {\n            String key = keys.next();\n            Object value = allKeys.get( key );\n            if ( value instanceof Map ) {\n                System.out.println(&quot;\\n Object Key : &quot;+key);\n                    displayJSONMAP(jsonString2Map(value.toString()));\n            }else if ( value instanceof List ) {\n                System.out.println(&quot;\\n Array Key : &quot;+key);\n                JSONArray jsonArray = new JSONArray(value.toString());\n                jsonArray2List(jsonArray);\n            }else {\n                System.out.println(&quot;key : &quot;+key+&quot; value : &quot;+value);\n            }\n        }\n    }    \n    \n}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/19760138/parsing-json-in-java-without-knowing-json-format/31984993#31984993\">Google.gson</a> to HashMap.</p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1452211685,"creation_date":1452209732,"answer_id":34667127,"question_id":21720759,"body_markdown":"The following parser reads a file, parses it into a generic `JsonElement`, using Google&#39;s `JsonParser.parse` method, and then converts all the items in the generated JSON into a native Java `List&lt;object&gt;` or `Map&lt;String, Object&gt;`.\r\n\r\n***Note**: The code below is based off of [Vikas Gupta][]&#39;s [answer][1].*\r\n\r\n  [Vikas Gupta]: https://stackoverflow.com/users/2915208/vikas-gupta\r\n  [1]: https://stackoverflow.com/a/24012023/1762224\r\n\r\n# GsonParser.java\r\n\r\n    import java.io.FileNotFoundException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    \r\n    import com.google.gson.GsonBuilder;\r\n    import com.google.gson.JsonArray;\r\n    import com.google.gson.JsonElement;\r\n    import com.google.gson.JsonObject;\r\n    import com.google.gson.JsonParser;\r\n    import com.google.gson.JsonPrimitive;\r\n    \r\n    public class GsonParser {\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tprint(loadJsonArray(&quot;data_array.json&quot;, true));\r\n    \t\t\tprint(loadJsonObject(&quot;data_object.json&quot;, true));\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void print(Object object) {\r\n    \t\tSystem.out.println(new GsonBuilder().setPrettyPrinting().create().toJson(object).toString());\r\n    \t}\r\n    \t\r\n    \tpublic static Map&lt;String, Object&gt; loadJsonObject(String filename, boolean isResource)\r\n    \t\t\tthrows UnsupportedEncodingException, FileNotFoundException, JsonIOException, JsonSyntaxException, MalformedURLException {\r\n    \t\treturn jsonToMap(loadJson(filename, isResource).getAsJsonObject());\r\n    \t}\r\n    \r\n    \tpublic static List&lt;Object&gt; loadJsonArray(String filename, boolean isResource)\r\n    \t\t\tthrows UnsupportedEncodingException, FileNotFoundException, JsonIOException, JsonSyntaxException, MalformedURLException {\r\n    \t\treturn jsonToList(loadJson(filename, isResource).getAsJsonArray());\r\n    \t}\r\n    \r\n    \tprivate static JsonElement loadJson(String filename, boolean isResource) throws UnsupportedEncodingException, FileNotFoundException, JsonIOException, JsonSyntaxException, MalformedURLException {\r\n    \t\treturn new JsonParser().parse(new InputStreamReader(FileLoader.openInputStream(filename, isResource), &quot;UTF-8&quot;));\r\n    \t}\r\n    \r\n    \tpublic static Object parse(JsonElement json) {\r\n    \t\tif (json.isJsonObject()) {\r\n    \t\t\treturn jsonToMap((JsonObject) json);\r\n    \t\t} else if (json.isJsonArray()) {\r\n    \t\t\treturn jsonToList((JsonArray) json);\r\n    \t\t}\r\n    \r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \tpublic static Map&lt;String, Object&gt; jsonToMap(JsonObject jsonObject) {\r\n    \t\tif (jsonObject.isJsonNull()) {\r\n    \t\t\treturn new HashMap&lt;String, Object&gt;();\r\n    \t\t}\r\n    \r\n    \t\treturn toMap(jsonObject);\r\n    \t}\r\n    \r\n    \tpublic static List&lt;Object&gt; jsonToList(JsonArray jsonArray) {\r\n    \t\tif (jsonArray.isJsonNull()) {\r\n    \t\t\treturn new ArrayList&lt;Object&gt;();\r\n    \t\t}\r\n    \r\n    \t\treturn toList(jsonArray);\r\n    \t}\r\n    \r\n    \tprivate static final Map&lt;String, Object&gt; toMap(JsonObject object) {\r\n    \t\tMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n    \r\n    \t\tfor (Entry&lt;String, JsonElement&gt; pair : object.entrySet()) {\r\n    \t\t\tmap.put(pair.getKey(), toValue(pair.getValue()));\r\n    \t\t}\r\n    \r\n    \t\treturn map;\r\n    \t}\r\n    \r\n    \tprivate static final List&lt;Object&gt; toList(JsonArray array) {\r\n    \t\tList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n    \r\n    \t\tfor (JsonElement element : array) {\r\n    \t\t\tlist.add(toValue(element));\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn list;\r\n    \t}\r\n    \r\n    \tprivate static final Object toPrimitive(JsonPrimitive value) {\r\n    \t\tif (value.isBoolean()) {\r\n    \t\t\treturn value.getAsBoolean();\r\n    \t\t} else if (value.isString()) {\r\n    \t\t\treturn value.getAsString();\r\n    \t\t} else if (value.isNumber()){\r\n    \t\t\treturn value.getAsNumber();\r\n    \t\t}\r\n    \r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tprivate static final Object toValue(JsonElement value) {\r\n    \t\tif (value.isJsonNull()) {\r\n    \t\t\treturn null;\r\n    \t\t} else if (value.isJsonArray()) {\r\n    \t\t\treturn toList((JsonArray) value);\r\n    \t\t} else if (value.isJsonObject()) {\r\n    \t\t\treturn toMap((JsonObject) value);\r\n    \t\t} else if (value.isJsonPrimitive()) {\r\n    \t\t\treturn toPrimitive((JsonPrimitive) value);\r\n    \t\t}\r\n    \r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n\r\n\r\n# FileLoader.java\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.Reader;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URISyntaxException;\r\n    import java.net.URL;\r\n    import java.util.Scanner;\r\n    \r\n    public class FileLoader {\r\n    \tpublic static Reader openReader(String filename, boolean isResource) throws UnsupportedEncodingException, FileNotFoundException, MalformedURLException {\r\n    \t\treturn openReader(filename, isResource, &quot;UTF-8&quot;);\r\n    \t}\r\n    \r\n    \tpublic static Reader openReader(String filename, boolean isResource, String charset) throws UnsupportedEncodingException, FileNotFoundException, MalformedURLException {\r\n    \t\treturn new InputStreamReader(openInputStream(filename, isResource), charset);\r\n    \t}\r\n    \r\n    \tpublic static InputStream openInputStream(String filename, boolean isResource) throws FileNotFoundException, MalformedURLException {\r\n    \t\tif (isResource) {\r\n    \t\t\treturn FileLoader.class.getClassLoader().getResourceAsStream(filename);\r\n    \t\t}\r\n    \r\n    \t\treturn new FileInputStream(load(filename, isResource));\r\n    \t}\r\n    \r\n    \tpublic static String read(String path, boolean isResource) throws IOException {\r\n    \t\treturn read(path, isResource, &quot;UTF-8&quot;);\r\n    \t}\r\n    \r\n    \tpublic static String read(String path, boolean isResource, String charset) throws IOException {\r\n    \t\treturn read(pathToUrl(path, isResource), charset);\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;resource&quot;)\r\n    \tprotected static String read(URL url, String charset) throws IOException {\r\n    \t\treturn new Scanner(url.openStream(), charset).useDelimiter(&quot;\\\\A&quot;).next();\r\n    \t}\r\n    \r\n    \tprotected static File load(String path, boolean isResource) throws MalformedURLException {\r\n    \t\treturn load(pathToUrl(path, isResource));\r\n    \t}\r\n    \r\n    \tprotected static File load(URL url) {\r\n    \t\ttry {\r\n    \t\t\treturn new File(url.toURI());\r\n    \t\t} catch (URISyntaxException e) {\r\n    \t\t\treturn new File(url.getPath());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static final URL pathToUrl(String path, boolean isResource) throws MalformedURLException {\r\n    \t\tif (isResource) {\r\n    \t\t\treturn FileLoader.class.getClassLoader().getResource(path);\r\n    \t\t}\r\n    \r\n    \t\treturn new URL(&quot;file:/&quot; + path);\r\n    \t}\r\n    }\r\n","title":"Convert a JSON String to a HashMap","body":"<p>The following parser reads a file, parses it into a generic <code>JsonElement</code>, using Google's <code>JsonParser.parse</code> method, and then converts all the items in the generated JSON into a native Java <code>List&lt;object&gt;</code> or <code>Map&lt;String, Object&gt;</code>.</p>\n\n<p><strong><em>Note</strong>: The code below is based off of <a href=\"https://stackoverflow.com/users/2915208/vikas-gupta\">Vikas Gupta</a>'s <a href=\"https://stackoverflow.com/a/24012023/1762224\">answer</a>.</em></p>\n\n<h1>GsonParser.java</h1>\n\n<pre><code>import java.io.FileNotFoundException;\nimport java.io.InputStreamReader;\nimport java.io.UnsupportedEncodingException;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Map.Entry;\n\nimport com.google.gson.GsonBuilder;\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\nimport com.google.gson.JsonPrimitive;\n\npublic class GsonParser {\n    public static void main(String[] args) {\n        try {\n            print(loadJsonArray(\"data_array.json\", true));\n            print(loadJsonObject(\"data_object.json\", true));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void print(Object object) {\n        System.out.println(new GsonBuilder().setPrettyPrinting().create().toJson(object).toString());\n    }\n\n    public static Map&lt;String, Object&gt; loadJsonObject(String filename, boolean isResource)\n            throws UnsupportedEncodingException, FileNotFoundException, JsonIOException, JsonSyntaxException, MalformedURLException {\n        return jsonToMap(loadJson(filename, isResource).getAsJsonObject());\n    }\n\n    public static List&lt;Object&gt; loadJsonArray(String filename, boolean isResource)\n            throws UnsupportedEncodingException, FileNotFoundException, JsonIOException, JsonSyntaxException, MalformedURLException {\n        return jsonToList(loadJson(filename, isResource).getAsJsonArray());\n    }\n\n    private static JsonElement loadJson(String filename, boolean isResource) throws UnsupportedEncodingException, FileNotFoundException, JsonIOException, JsonSyntaxException, MalformedURLException {\n        return new JsonParser().parse(new InputStreamReader(FileLoader.openInputStream(filename, isResource), \"UTF-8\"));\n    }\n\n    public static Object parse(JsonElement json) {\n        if (json.isJsonObject()) {\n            return jsonToMap((JsonObject) json);\n        } else if (json.isJsonArray()) {\n            return jsonToList((JsonArray) json);\n        }\n\n        return null;\n    }\n\n    public static Map&lt;String, Object&gt; jsonToMap(JsonObject jsonObject) {\n        if (jsonObject.isJsonNull()) {\n            return new HashMap&lt;String, Object&gt;();\n        }\n\n        return toMap(jsonObject);\n    }\n\n    public static List&lt;Object&gt; jsonToList(JsonArray jsonArray) {\n        if (jsonArray.isJsonNull()) {\n            return new ArrayList&lt;Object&gt;();\n        }\n\n        return toList(jsonArray);\n    }\n\n    private static final Map&lt;String, Object&gt; toMap(JsonObject object) {\n        Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n\n        for (Entry&lt;String, JsonElement&gt; pair : object.entrySet()) {\n            map.put(pair.getKey(), toValue(pair.getValue()));\n        }\n\n        return map;\n    }\n\n    private static final List&lt;Object&gt; toList(JsonArray array) {\n        List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n\n        for (JsonElement element : array) {\n            list.add(toValue(element));\n        }\n\n        return list;\n    }\n\n    private static final Object toPrimitive(JsonPrimitive value) {\n        if (value.isBoolean()) {\n            return value.getAsBoolean();\n        } else if (value.isString()) {\n            return value.getAsString();\n        } else if (value.isNumber()){\n            return value.getAsNumber();\n        }\n\n        return null;\n    }\n\n    private static final Object toValue(JsonElement value) {\n        if (value.isJsonNull()) {\n            return null;\n        } else if (value.isJsonArray()) {\n            return toList((JsonArray) value);\n        } else if (value.isJsonObject()) {\n            return toMap((JsonObject) value);\n        } else if (value.isJsonPrimitive()) {\n            return toPrimitive((JsonPrimitive) value);\n        }\n\n        return null;\n    }\n}\n</code></pre>\n\n<h1>FileLoader.java</h1>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport java.io.UnsupportedEncodingException;\nimport java.net.MalformedURLException;\nimport java.net.URISyntaxException;\nimport java.net.URL;\nimport java.util.Scanner;\n\npublic class FileLoader {\n    public static Reader openReader(String filename, boolean isResource) throws UnsupportedEncodingException, FileNotFoundException, MalformedURLException {\n        return openReader(filename, isResource, \"UTF-8\");\n    }\n\n    public static Reader openReader(String filename, boolean isResource, String charset) throws UnsupportedEncodingException, FileNotFoundException, MalformedURLException {\n        return new InputStreamReader(openInputStream(filename, isResource), charset);\n    }\n\n    public static InputStream openInputStream(String filename, boolean isResource) throws FileNotFoundException, MalformedURLException {\n        if (isResource) {\n            return FileLoader.class.getClassLoader().getResourceAsStream(filename);\n        }\n\n        return new FileInputStream(load(filename, isResource));\n    }\n\n    public static String read(String path, boolean isResource) throws IOException {\n        return read(path, isResource, \"UTF-8\");\n    }\n\n    public static String read(String path, boolean isResource, String charset) throws IOException {\n        return read(pathToUrl(path, isResource), charset);\n    }\n\n    @SuppressWarnings(\"resource\")\n    protected static String read(URL url, String charset) throws IOException {\n        return new Scanner(url.openStream(), charset).useDelimiter(\"\\\\A\").next();\n    }\n\n    protected static File load(String path, boolean isResource) throws MalformedURLException {\n        return load(pathToUrl(path, isResource));\n    }\n\n    protected static File load(URL url) {\n        try {\n            return new File(url.toURI());\n        } catch (URISyntaxException e) {\n            return new File(url.getPath());\n        }\n    }\n\n    private static final URL pathToUrl(String path, boolean isResource) throws MalformedURLException {\n        if (isResource) {\n            return FileLoader.class.getClassLoader().getResource(path);\n        }\n\n        return new URL(\"file:/\" + path);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3824195,"reputation":89,"user_id":3617834,"display_name":"Ashish Garg"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1471644111,"creation_date":1471644111,"answer_id":39048250,"question_id":21720759,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    \r\n    \r\n    public class JsonUtils {\r\n    \r\n    \tpublic static Map&lt;String, Object&gt; jsonToMap(JSONObject json) {\r\n            Map&lt;String, Object&gt; retMap = new HashMap&lt;String, Object&gt;();\r\n    \r\n            if(json != null) {\r\n                retMap = toMap(json);\r\n            }\r\n            return retMap;\r\n        }\r\n    \r\n        public static Map&lt;String, Object&gt; toMap(JSONObject object) {\r\n            Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n    \r\n            Iterator&lt;String&gt; keysItr = object.keySet().iterator();\r\n            while(keysItr.hasNext()) {\r\n                String key = keysItr.next();\r\n                Object value = object.get(key);\r\n    \r\n                if(value instanceof JSONArray) {\r\n                    value = toList((JSONArray) value);\r\n                }\r\n    \r\n                else if(value instanceof JSONObject) {\r\n                    value = toMap((JSONObject) value);\r\n                }\r\n                map.put(key, value);\r\n            }\r\n            return map;\r\n        }\r\n    \r\n        public static List&lt;Object&gt; toList(JSONArray array) {\r\n            List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n            for(int i = 0; i &lt; array.size(); i++) {\r\n                Object value = array.get(i);\r\n                if(value instanceof JSONArray) {\r\n                    value = toList((JSONArray) value);\r\n                }\r\n    \r\n                else if(value instanceof JSONObject) {\r\n                    value = toMap((JSONObject) value);\r\n                }\r\n                list.add(value);\r\n            }\r\n            return list;\r\n        }\r\n    }\r\n\r\n","title":"Convert a JSON String to a HashMap","body":"<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\n\n\npublic class JsonUtils {\n\n    public static Map&lt;String, Object&gt; jsonToMap(JSONObject json) {\n        Map&lt;String, Object&gt; retMap = new HashMap&lt;String, Object&gt;();\n\n        if(json != null) {\n            retMap = toMap(json);\n        }\n        return retMap;\n    }\n\n    public static Map&lt;String, Object&gt; toMap(JSONObject object) {\n        Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n\n        Iterator&lt;String&gt; keysItr = object.keySet().iterator();\n        while(keysItr.hasNext()) {\n            String key = keysItr.next();\n            Object value = object.get(key);\n\n            if(value instanceof JSONArray) {\n                value = toList((JSONArray) value);\n            }\n\n            else if(value instanceof JSONObject) {\n                value = toMap((JSONObject) value);\n            }\n            map.put(key, value);\n        }\n        return map;\n    }\n\n    public static List&lt;Object&gt; toList(JSONArray array) {\n        List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n        for(int i = 0; i &lt; array.size(); i++) {\n            Object value = array.get(i);\n            if(value instanceof JSONArray) {\n                value = toList((JSONArray) value);\n            }\n\n            else if(value instanceof JSONObject) {\n                value = toMap((JSONObject) value);\n            }\n            list.add(value);\n        }\n        return list;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7370139,"reputation":442,"user_id":5610563,"accept_rate":75,"display_name":"Swapnil Jaju"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1485425125,"creation_date":1485425125,"answer_id":41870994,"question_id":21720759,"body_markdown":"You can use Jackson API as well for this :\r\n\r\n    \tfinal String json = &quot;....your json...&quot;;\r\n\t\tfinal ObjectMapper mapper = new ObjectMapper();\r\n\t\tfinal MapType type = mapper.getTypeFactory().constructMapType(\r\n\t\t    Map.class, String.class, Object.class);\r\n\t\tfinal Map&lt;String, Object&gt; data = mapper.readValue(json, type);\r\n\t\t","title":"Convert a JSON String to a HashMap","body":"<p>You can use Jackson API as well for this :</p>\n\n<pre><code>    final String json = \"....your json...\";\n    final ObjectMapper mapper = new ObjectMapper();\n    final MapType type = mapper.getTypeFactory().constructMapType(\n        Map.class, String.class, Object.class);\n    final Map&lt;String, Object&gt; data = mapper.readValue(json, type);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4877821,"reputation":3416,"user_id":3932396,"accept_rate":78,"display_name":"Ankur Mahajan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1488815870,"creation_date":1488815028,"answer_id":42629755,"question_id":21720759,"body_markdown":"&lt;p&gt;You can convert any `JSON` to `map` by using **Jackson** library as below:\r\n\r\n    String json = &quot;{\\r\\n\\&quot;name\\&quot; : \\&quot;abc\\&quot; ,\\r\\n\\&quot;email id \\&quot; : [\\&quot;abc@gmail.com\\&quot;,\\&quot;def@gmail.com\\&quot;,\\&quot;ghi@gmail.com\\&quot;]\\r\\n}&quot;;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n    // convert JSON string to Map\r\n    map = mapper.readValue(json, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\r\n    System.out.println(map);\r\n\r\nMaven Dependencies for **Jackson** : \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.5.3&lt;/version&gt;\r\n    \t&lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.5.3&lt;/version&gt;\r\n    \t&lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n&lt;p&gt;Hope this will help. Happy coding :)","title":"Convert a JSON String to a HashMap","body":"<p><p>You can convert any <code>JSON</code> to <code>map</code> by using <strong>Jackson</strong> library as below:</p>\n\n<pre><code>String json = \"{\\r\\n\\\"name\\\" : \\\"abc\\\" ,\\r\\n\\\"email id \\\" : [\\\"abc@gmail.com\\\",\\\"def@gmail.com\\\",\\\"ghi@gmail.com\\\"]\\r\\n}\";\nObjectMapper mapper = new ObjectMapper();\nMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n// convert JSON string to Map\nmap = mapper.readValue(json, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\nSystem.out.println(map);\n</code></pre>\n\n<p>Maven Dependencies for <strong>Jackson</strong> : </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.5.3&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.5.3&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><p>Hope this will help. Happy coding :)</p>\n"},{"tags":[],"owner":{"account_id":1792556,"reputation":1005,"user_id":1632634,"display_name":"Osama Ibrahim"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1494498308,"creation_date":1494498308,"answer_id":43912772,"question_id":21720759,"body_markdown":"try this code :\r\n\r\n     Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n                    try\r\n                    {\r\n\r\n                       Iterator&lt;?&gt; keys = jsonObject.keys();\r\n\r\n                        while (keys.hasNext())\r\n                        {\r\n                            String key = (String) keys.next();\r\n                            String value = jsonObject.getString(key);\r\n                            params.put(key, value);\r\n\r\n                        }\r\n\r\n\r\n                    }\r\n                    catch (Exception xx)\r\n                    {\r\n                        xx.toString();\r\n                    }","title":"Convert a JSON String to a HashMap","body":"<p>try this code :</p>\n\n<pre><code> Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n                try\n                {\n\n                   Iterator&lt;?&gt; keys = jsonObject.keys();\n\n                    while (keys.hasNext())\n                    {\n                        String key = (String) keys.next();\n                        String value = jsonObject.getString(key);\n                        params.put(key, value);\n\n                    }\n\n\n                }\n                catch (Exception xx)\n                {\n                    xx.toString();\n                }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11064889,"reputation":661,"user_id":8124992,"display_name":"MukilanKarthikeyan"},"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1496936500,"creation_date":1496936500,"answer_id":44440132,"question_id":21720759,"body_markdown":"Hope this will work, try this:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    Map&lt;String, Object&gt; response = new ObjectMapper().readValue(str, HashMap.class);\r\n\r\nstr, your JSON String\r\n\r\nAs Simple as this, if you want emailid, \r\n\r\n    String emailIds = response.get(&quot;email id&quot;).toString();\r\n\r\n    \r\n\r\n\r\n\r\n","title":"Convert a JSON String to a HashMap","body":"<p>Hope this will work, try this:</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nMap&lt;String, Object&gt; response = new ObjectMapper().readValue(str, HashMap.class);\n</code></pre>\n\n<p>str, your JSON String</p>\n\n<p>As Simple as this, if you want emailid, </p>\n\n<pre><code>String emailIds = response.get(\"email id\").toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12318817,"reputation":119,"user_id":8988573,"display_name":"Abhijith Anil"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1511350249,"creation_date":1511345903,"answer_id":47432075,"question_id":21720759,"body_markdown":"Imagine u have a list of email like below. not constrained to any programming language,\r\n\r\n    emailsList = [&quot;abc@gmail.com&quot;,&quot;def@gmail.com&quot;,&quot;ghi@gmail.com&quot;]\r\n\r\nNow following is JAVA code - for converting json to map\r\n\r\n    JSONObject jsonObj = new JSONObject().put(&quot;name&quot;,&quot;abc&quot;).put(&quot;email id&quot;,emailsList);\r\n    Map&lt;String, Object&gt; s = jsonObj.getMap();\r\n           ","title":"Convert a JSON String to a HashMap","body":"<p>Imagine u have a list of email like below. not constrained to any programming language,</p>\n\n<pre><code>emailsList = [\"abc@gmail.com\",\"def@gmail.com\",\"ghi@gmail.com\"]\n</code></pre>\n\n<p>Now following is JAVA code - for converting json to map</p>\n\n<pre><code>JSONObject jsonObj = new JSONObject().put(\"name\",\"abc\").put(\"email id\",emailsList);\nMap&lt;String, Object&gt; s = jsonObj.getMap();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6927787,"reputation":14579,"user_id":5318303,"accept_rate":39,"display_name":"Mir-Ismaili"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520375483,"creation_date":1518264147,"answer_id":48720532,"question_id":21720759,"body_markdown":"Brief and Useful:\r\n\r\n\t/**\r\n\t * @param jsonThing can be a &lt;code&gt;JsonObject&lt;/code&gt;, a &lt;code&gt;JsonArray&lt;/code&gt;,\r\n\t *                     a &lt;code&gt;Boolean&lt;/code&gt;, a &lt;code&gt;Number&lt;/code&gt;,\r\n\t *                     a &lt;code&gt;null&lt;/code&gt; or a &lt;code&gt;JSONObject.NULL&lt;/code&gt;.\r\n\t * @return &lt;i&gt;Appropriate Java Object&lt;/i&gt;, that may be a &lt;code&gt;Map&lt;/code&gt;, a &lt;code&gt;List&lt;/code&gt;,\r\n\t * a &lt;code&gt;Boolean&lt;/code&gt;, a &lt;code&gt;Number&lt;/code&gt; or a &lt;code&gt;null&lt;/code&gt;.\r\n\t */\r\n\tpublic static Object jsonThingToAppropriateJavaObject(Object jsonThing) throws JSONException {\r\n\t\tif (jsonThing instanceof JSONArray) {\r\n\t\t\tfinal ArrayList&lt;Object&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\t\r\n\t\t\tfinal JSONArray jsonArray = (JSONArray) jsonThing;\r\n\t\t\tfinal int l = jsonArray.length();\r\n\t\t\tfor (int i = 0; i &lt; l; ++i) list.add(jsonThingToAppropriateJavaObject(jsonArray.get(i)));\r\n\t\t\treturn list;\r\n\t\t}\r\n\t\t\r\n\t\tif (jsonThing instanceof JSONObject) {\r\n\t\t\tfinal HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\t\t\t\r\n\t\t\tfinal Iterator&lt;String&gt; keysItr = ((JSONObject) jsonThing).keys();\r\n\t\t\twhile (keysItr.hasNext()) {\r\n\t\t\t\tfinal String key = keysItr.next();\r\n\t\t\t\tmap.put(key, jsonThingToAppropriateJavaObject(((JSONObject) jsonThing).get(key)));\r\n\t\t\t}\r\n\t\t\treturn map;\r\n\t\t}\r\n\t\t\r\n\t\tif (JSONObject.NULL.equals(jsonThing)) return null;\r\n\t\t\r\n\t\treturn jsonThing;\r\n\t}\r\n\r\n***\r\n\r\nThank [@Vikas Gupta][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24012023/5318303","title":"Convert a JSON String to a HashMap","body":"<p>Brief and Useful:</p>\n\n<pre><code>/**\n * @param jsonThing can be a &lt;code&gt;JsonObject&lt;/code&gt;, a &lt;code&gt;JsonArray&lt;/code&gt;,\n *                     a &lt;code&gt;Boolean&lt;/code&gt;, a &lt;code&gt;Number&lt;/code&gt;,\n *                     a &lt;code&gt;null&lt;/code&gt; or a &lt;code&gt;JSONObject.NULL&lt;/code&gt;.\n * @return &lt;i&gt;Appropriate Java Object&lt;/i&gt;, that may be a &lt;code&gt;Map&lt;/code&gt;, a &lt;code&gt;List&lt;/code&gt;,\n * a &lt;code&gt;Boolean&lt;/code&gt;, a &lt;code&gt;Number&lt;/code&gt; or a &lt;code&gt;null&lt;/code&gt;.\n */\npublic static Object jsonThingToAppropriateJavaObject(Object jsonThing) throws JSONException {\n    if (jsonThing instanceof JSONArray) {\n        final ArrayList&lt;Object&gt; list = new ArrayList&lt;&gt;();\n\n        final JSONArray jsonArray = (JSONArray) jsonThing;\n        final int l = jsonArray.length();\n        for (int i = 0; i &lt; l; ++i) list.add(jsonThingToAppropriateJavaObject(jsonArray.get(i)));\n        return list;\n    }\n\n    if (jsonThing instanceof JSONObject) {\n        final HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n\n        final Iterator&lt;String&gt; keysItr = ((JSONObject) jsonThing).keys();\n        while (keysItr.hasNext()) {\n            final String key = keysItr.next();\n            map.put(key, jsonThingToAppropriateJavaObject(((JSONObject) jsonThing).get(key)));\n        }\n        return map;\n    }\n\n    if (JSONObject.NULL.equals(jsonThing)) return null;\n\n    return jsonThing;\n}\n</code></pre>\n\n<hr>\n\n<p>Thank <a href=\"https://stackoverflow.com/a/24012023/5318303\">@Vikas Gupta</a>.</p>\n"},{"tags":[],"owner":{"account_id":10959307,"reputation":170,"user_id":8558398,"display_name":"13hola"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1530536047,"creation_date":1530533105,"answer_id":51135830,"question_id":21720759,"body_markdown":"Using [json-simple][1] you can convert data JSON to Map and Map to JSON.\r\n\r\n    try\r\n    {\r\n        JSONObject obj11 = new JSONObject();\r\n        obj11.put(1, &quot;Kishan&quot;);\r\n        obj11.put(2, &quot;Radhesh&quot;);\r\n        obj11.put(3, &quot;Sonal&quot;);\r\n        obj11.put(4, &quot;Madhu&quot;);\r\n        \r\n        Map map = new  HashMap();\r\n        \r\n        obj11.toJSONString();\r\n        \r\n        map = obj11;\r\n        \r\n        System.out.println(map.get(1));\r\n        \r\n        \r\n        JSONObject obj12 = new JSONObject();\r\n        \r\n        obj12 = (JSONObject) map;\r\n        \r\n        System.out.println(obj12.get(1));\r\n    }\r\n    catch(Exception e)\r\n    {\r\n        System.err.println(&quot;EROR : 01 :&quot;+e);\r\n    }\r\n\r\n  [1]: http://central.maven.org/maven2/com/googlecode/json-simple/json-simple/1.1.1/json-simple-1.1.1.jar","title":"Convert a JSON String to a HashMap","body":"<p>Using <a href=\"http://central.maven.org/maven2/com/googlecode/json-simple/json-simple/1.1.1/json-simple-1.1.1.jar\" rel=\"nofollow noreferrer\">json-simple</a> you can convert data JSON to Map and Map to JSON.</p>\n\n<pre><code>try\n{\n    JSONObject obj11 = new JSONObject();\n    obj11.put(1, \"Kishan\");\n    obj11.put(2, \"Radhesh\");\n    obj11.put(3, \"Sonal\");\n    obj11.put(4, \"Madhu\");\n\n    Map map = new  HashMap();\n\n    obj11.toJSONString();\n\n    map = obj11;\n\n    System.out.println(map.get(1));\n\n\n    JSONObject obj12 = new JSONObject();\n\n    obj12 = (JSONObject) map;\n\n    System.out.println(obj12.get(1));\n}\ncatch(Exception e)\n{\n    System.err.println(\"EROR : 01 :\"+e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4164445,"reputation":161,"user_id":5765606,"display_name":"hareluya86"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536160068,"creation_date":1536157287,"answer_id":52187442,"question_id":21720759,"body_markdown":"If you hate recursion - using a Stack and javax.json to convert a Json String into a List of Maps:\r\n\r\n    import java.io.InputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Stack;\r\n    import javax.json.Json;\r\n    import javax.json.stream.JsonParser;\r\n\r\n    public class TestCreateObjFromJson {\r\n        public static List&lt;Map&lt;String,Object&gt;&gt; extract(InputStream is) {\r\n            List extracted = new ArrayList&lt;&gt;();\r\n            JsonParser parser = Json.createParser(is);\r\n            \r\n            String nextKey = &quot;&quot;;\r\n            Object nextval = &quot;&quot;;\r\n            Stack s = new Stack&lt;&gt;();\r\n            while(parser.hasNext()) {\r\n                JsonParser.Event event = parser.next();\r\n                switch(event) {\r\n                    case START_ARRAY :  List nextList = new ArrayList&lt;&gt;();\r\n                                        if(!s.empty()) {\r\n                                            // If this is not the root object, add it to tbe parent object\r\n                                            setValue(s,nextKey,nextList);\r\n                                        }\r\n                                        s.push(nextList);\r\n                                        break;\r\n                    case START_OBJECT : Map&lt;String,Object&gt; nextMap = new HashMap&lt;&gt;();\r\n                                        if(!s.empty()) {\r\n                                            // If this is not the root object, add it to tbe parent object\r\n                                            setValue(s,nextKey,nextMap);\r\n                                        }\r\n                                        s.push(nextMap);\r\n                                        break;\r\n                    case KEY_NAME : nextKey = parser.getString();\r\n                                    break;\r\n                    case VALUE_STRING : setValue(s,nextKey,parser.getString());\r\n                                        break;\r\n                    case VALUE_NUMBER : setValue(s,nextKey,parser.getLong());\r\n                                        break;\r\n                    case VALUE_TRUE :   setValue(s,nextKey,true);\r\n                                        break;\r\n                    case VALUE_FALSE :  setValue(s,nextKey,false);\r\n                                        break;\r\n                    case VALUE_NULL :   setValue(s,nextKey,&quot;&quot;);\r\n                                        break;\r\n                    case END_OBJECT :   \r\n                    case END_ARRAY  :   if(s.size() &gt; 1) {\r\n                                            // If this is not a root object, move up\r\n                                            s.pop(); \r\n                                        } else {\r\n                                            // If this is a root object, add ir ro rhw final \r\n                                            extracted.add(s.pop()); \r\n                                        }\r\n                    default         :   break;\r\n                }\r\n            }\r\n            \r\n            return extracted;\r\n        }\r\n        \r\n        private static void setValue(Stack s, String nextKey, Object v) {\r\n            if(Map.class.isAssignableFrom(s.peek().getClass()) ) ((Map)s.peek()).put(nextKey, v);\r\n            else ((List)s.peek()).add(v);\r\n        }\r\n    }\r\n\r\n","title":"Convert a JSON String to a HashMap","body":"<p>If you hate recursion - using a Stack and javax.json to convert a Json String into a List of Maps:</p>\n\n<pre><code>import java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Stack;\nimport javax.json.Json;\nimport javax.json.stream.JsonParser;\n\npublic class TestCreateObjFromJson {\n    public static List&lt;Map&lt;String,Object&gt;&gt; extract(InputStream is) {\n        List extracted = new ArrayList&lt;&gt;();\n        JsonParser parser = Json.createParser(is);\n\n        String nextKey = \"\";\n        Object nextval = \"\";\n        Stack s = new Stack&lt;&gt;();\n        while(parser.hasNext()) {\n            JsonParser.Event event = parser.next();\n            switch(event) {\n                case START_ARRAY :  List nextList = new ArrayList&lt;&gt;();\n                                    if(!s.empty()) {\n                                        // If this is not the root object, add it to tbe parent object\n                                        setValue(s,nextKey,nextList);\n                                    }\n                                    s.push(nextList);\n                                    break;\n                case START_OBJECT : Map&lt;String,Object&gt; nextMap = new HashMap&lt;&gt;();\n                                    if(!s.empty()) {\n                                        // If this is not the root object, add it to tbe parent object\n                                        setValue(s,nextKey,nextMap);\n                                    }\n                                    s.push(nextMap);\n                                    break;\n                case KEY_NAME : nextKey = parser.getString();\n                                break;\n                case VALUE_STRING : setValue(s,nextKey,parser.getString());\n                                    break;\n                case VALUE_NUMBER : setValue(s,nextKey,parser.getLong());\n                                    break;\n                case VALUE_TRUE :   setValue(s,nextKey,true);\n                                    break;\n                case VALUE_FALSE :  setValue(s,nextKey,false);\n                                    break;\n                case VALUE_NULL :   setValue(s,nextKey,\"\");\n                                    break;\n                case END_OBJECT :   \n                case END_ARRAY  :   if(s.size() &gt; 1) {\n                                        // If this is not a root object, move up\n                                        s.pop(); \n                                    } else {\n                                        // If this is a root object, add ir ro rhw final \n                                        extracted.add(s.pop()); \n                                    }\n                default         :   break;\n            }\n        }\n\n        return extracted;\n    }\n\n    private static void setValue(Stack s, String nextKey, Object v) {\n        if(Map.class.isAssignableFrom(s.peek().getClass()) ) ((Map)s.peek()).put(nextKey, v);\n        else ((List)s.peek()).add(v);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7939356,"reputation":97,"user_id":5994028,"display_name":"Muchtarpr"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1546204384,"creation_date":1546196022,"answer_id":53980489,"question_id":21720759,"body_markdown":"This is an old question and maybe still relate to someone.  \r\nLet&#39;s say you have string HashMap `hash` and JsonObject `jsonObject`.\r\n\r\n1) Define key-list.  \r\nExample:\r\n\r\n    ArrayList&lt;String&gt; keyArrayList = new ArrayList&lt;&gt;();  \r\n    keyArrayList.add(&quot;key0&quot;);   \r\n    keyArrayList.add(&quot;key1&quot;);  \r\n\r\n2) Create foreach loop, add `hash` from `jsonObject` with:\r\n\r\n    for(String key : keyArrayList){  \r\n        hash.put(key, jsonObject.getString(key));\r\n    }\r\n\r\nThat&#39;s my approach, hope it answer the question.\r\n\r\n\r\n","title":"Convert a JSON String to a HashMap","body":"<p>This is an old question and maybe still relate to someone.<br>\nLet's say you have string HashMap <code>hash</code> and JsonObject <code>jsonObject</code>.</p>\n\n<p>1) Define key-list.<br>\nExample:</p>\n\n<pre><code>ArrayList&lt;String&gt; keyArrayList = new ArrayList&lt;&gt;();  \nkeyArrayList.add(\"key0\");   \nkeyArrayList.add(\"key1\");  \n</code></pre>\n\n<p>2) Create foreach loop, add <code>hash</code> from <code>jsonObject</code> with:</p>\n\n<pre><code>for(String key : keyArrayList){  \n    hash.put(key, jsonObject.getString(key));\n}\n</code></pre>\n\n<p>That's my approach, hope it answer the question.</p>\n"},{"tags":[],"owner":{"account_id":11358578,"reputation":87,"user_id":8327442,"display_name":"Abhishek Pandey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1571215620,"creation_date":1571213813,"answer_id":58408720,"question_id":21720759,"body_markdown":"Convert using Jackson :\r\n\r\n```\r\nJSONObject obj = new JSONObject().put(&quot;abc&quot;, &quot;pqr&quot;).put(&quot;xyz&quot;, 5);\r\n\r\nMap&lt;String, Object&gt; map = new ObjectMapper().readValue(obj.toString(), new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\r\n```","title":"Convert a JSON String to a HashMap","body":"<p>Convert using Jackson :</p>\n\n<pre><code>JSONObject obj = new JSONObject().put(\"abc\", \"pqr\").put(\"xyz\", 5);\n\nMap&lt;String, Object&gt; map = new ObjectMapper().readValue(obj.toString(), new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1594388950,"creation_date":1594388950,"answer_id":62835727,"question_id":21720759,"body_markdown":"I just used Gson\r\n\r\n    HashMap&lt;String, Object&gt; map = new Gson().fromJson(json.toString(), HashMap.class);\r\n","title":"Convert a JSON String to a HashMap","body":"<p>I just used Gson</p>\n<pre><code>HashMap&lt;String, Object&gt; map = new Gson().fromJson(json.toString(), HashMap.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":165405,"reputation":10947,"user_id":388827,"accept_rate":89,"display_name":"qqilihq"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610129133,"creation_date":1610129133,"answer_id":65634179,"question_id":21720759,"body_markdown":"There’s an older answer using `javax.json` posted [here](https://stackoverflow.com/a/27679348/388827), however it only converts `JsonArray` and `JsonObject`, but there are still `JsonString`, `JsonNumber`, and `JsonValue` wrapper classes in the output. If you want to get rid of these, here’s my solution which will unwrap everything.\r\n\r\nBeside that, it makes use of Java 8 streams and is contained in a single method.\r\n\r\n\t/**\r\n\t * Convert a JsonValue into a “plain” Java structure (using Map and List).\r\n\t * \r\n\t * @param value The JsonValue, not &lt;code&gt;null&lt;/code&gt;.\r\n\t * @return Map, List, String, Number, Boolean, or &lt;code&gt;null&lt;/code&gt;.\r\n\t */\r\n\tpublic static Object toObject(JsonValue value) {\r\n\t\tObjects.requireNonNull(value, &quot;value was null&quot;);\r\n\t\tswitch (value.getValueType()) {\r\n\t\tcase ARRAY:\r\n\t\t\treturn ((JsonArray) value)\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.map(JsonUtils::toObject)\r\n\t\t\t\t\t.collect(Collectors.toList());\r\n\t\tcase OBJECT:\r\n\t\t\treturn ((JsonObject) value)\r\n\t\t\t\t\t.entrySet()\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.collect(Collectors.toMap(\r\n\t\t\t\t\t\t\tEntry::getKey,\r\n\t\t\t\t\t\t\te -&gt; toObject(e.getValue())));\r\n\t\tcase STRING:\r\n\t\t\treturn ((JsonString) value).getString();\r\n\t\tcase NUMBER:\r\n\t\t\treturn ((JsonNumber) value).numberValue();\r\n\t\tcase TRUE:\r\n\t\t\treturn Boolean.TRUE;\r\n\t\tcase FALSE:\r\n\t\t\treturn Boolean.FALSE;\r\n\t\tcase NULL:\r\n\t\t\treturn null;\r\n\t\tdefault:\r\n\t\t\tthrow new IllegalArgumentException(&quot;Unexpected type: &quot; + value.getValueType());\r\n\t\t}\r\n\t}","title":"Convert a JSON String to a HashMap","body":"<p>There’s an older answer using <code>javax.json</code> posted <a href=\"https://stackoverflow.com/a/27679348/388827\">here</a>, however it only converts <code>JsonArray</code> and <code>JsonObject</code>, but there are still <code>JsonString</code>, <code>JsonNumber</code>, and <code>JsonValue</code> wrapper classes in the output. If you want to get rid of these, here’s my solution which will unwrap everything.</p>\n<p>Beside that, it makes use of Java 8 streams and is contained in a single method.</p>\n<pre><code>/**\n * Convert a JsonValue into a “plain” Java structure (using Map and List).\n * \n * @param value The JsonValue, not &lt;code&gt;null&lt;/code&gt;.\n * @return Map, List, String, Number, Boolean, or &lt;code&gt;null&lt;/code&gt;.\n */\npublic static Object toObject(JsonValue value) {\n    Objects.requireNonNull(value, &quot;value was null&quot;);\n    switch (value.getValueType()) {\n    case ARRAY:\n        return ((JsonArray) value)\n                .stream()\n                .map(JsonUtils::toObject)\n                .collect(Collectors.toList());\n    case OBJECT:\n        return ((JsonObject) value)\n                .entrySet()\n                .stream()\n                .collect(Collectors.toMap(\n                        Entry::getKey,\n                        e -&gt; toObject(e.getValue())));\n    case STRING:\n        return ((JsonString) value).getString();\n    case NUMBER:\n        return ((JsonNumber) value).numberValue();\n    case TRUE:\n        return Boolean.TRUE;\n    case FALSE:\n        return Boolean.FALSE;\n    case NULL:\n        return null;\n    default:\n        throw new IllegalArgumentException(&quot;Unexpected type: &quot; + value.getValueType());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14268495,"reputation":396,"user_id":10306808,"display_name":"rgaraisayev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671093776,"creation_date":1671093776,"answer_id":74808845,"question_id":21720759,"body_markdown":"If you want no-lib version, here is the solution with regex:\r\n\r\n\r\n    public static HashMap&lt;String, String&gt; jsonStringToMap(String inputJsonString) {\r\n        final String regex = &quot;(?:\\\\\\&quot;|\\\\&#39;)(?&lt;key&gt;[\\\\w\\\\d]+)(?:\\\\\\&quot;|\\\\&#39;)(?:\\\\:\\\\s*)(?:\\\\\\&quot;|\\\\&#39;)?(?&lt;value&gt;[\\\\w\\\\s-]*)(?:\\\\\\&quot;|\\\\&#39;)?&quot;;\r\n        HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\r\n        final Matcher matcher = pattern.matcher(inputJsonString);\r\n\r\n        while (matcher.find()) {\r\n            for (int i = 1; i &lt;= matcher.groupCount(); i++) {\r\n                map.put(matcher.group(&quot;key&quot;), matcher.group(&quot;value&quot;));\r\n            }\r\n        }\r\n        return map;\r\n    }","title":"Convert a JSON String to a HashMap","body":"<p>If you want no-lib version, here is the solution with regex:</p>\n<pre><code>public static HashMap&lt;String, String&gt; jsonStringToMap(String inputJsonString) {\n    final String regex = &quot;(?:\\\\\\&quot;|\\\\')(?&lt;key&gt;[\\\\w\\\\d]+)(?:\\\\\\&quot;|\\\\')(?:\\\\:\\\\s*)(?:\\\\\\&quot;|\\\\')?(?&lt;value&gt;[\\\\w\\\\s-]*)(?:\\\\\\&quot;|\\\\')?&quot;;\n    HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\n    final Matcher matcher = pattern.matcher(inputJsonString);\n\n    while (matcher.find()) {\n        for (int i = 1; i &lt;= matcher.groupCount(); i++) {\n            map.put(matcher.group(&quot;key&quot;), matcher.group(&quot;value&quot;));\n        }\n    }\n    return map;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21090075,"reputation":101,"user_id":15502186,"display_name":"Philippe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694282590,"creation_date":1694282590,"answer_id":77073448,"question_id":21720759,"body_markdown":"Here&#39;s a solution using a switch expression.\r\n\r\n    static Map&lt;String, Object&gt; jsonToMap(Reader reader) {\r\n      var jsonReader = Json.createReader(reader);\r\n      var jsonValue = jsonReader.readValue(); // Removes duplicate keys (last one wins)\r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      var map = (Map&lt;String, Object&gt;) jsonValueToObject(jsonValue);\r\n      return map;\r\n    }\r\n\r\n    private static Object jsonValueToObject(JsonValue value) {\r\n      return switch (value.getValueType()) {\r\n        case OBJECT -&gt; ((JsonObject) value).entrySet().parallelStream().collect(\r\n            HashMap::new,\r\n            (map, entry) -&gt; map.put(entry.getKey(), jsonValueToObject(entry.getValue())),\r\n            (map1, map2) -&gt; map2.entrySet().forEach(entry -&gt; map1.put(entry.getKey(), entry.getValue())));\r\n        case ARRAY -&gt; ((JsonArray) value).stream().map(Utils::jsonValueToObject).collect(toList());\r\n        case STRING -&gt; ((JsonString) value).getString();\r\n        case NUMBER -&gt; ((JsonNumber) value).numberValue();\r\n        case TRUE -&gt; Boolean.TRUE;\r\n        case FALSE -&gt; Boolean.FALSE;\r\n        default -&gt; null; // Only JsonValue.NULL remains\r\n      };\r\n    }\r\n\r\nI didn&#39;t use the `Collectors.toMap()` collector, because it doesn&#39;t allow `null` values.","title":"Convert a JSON String to a HashMap","body":"<p>Here's a solution using a switch expression.</p>\n<pre><code>static Map&lt;String, Object&gt; jsonToMap(Reader reader) {\n  var jsonReader = Json.createReader(reader);\n  var jsonValue = jsonReader.readValue(); // Removes duplicate keys (last one wins)\n  @SuppressWarnings(&quot;unchecked&quot;)\n  var map = (Map&lt;String, Object&gt;) jsonValueToObject(jsonValue);\n  return map;\n}\n\nprivate static Object jsonValueToObject(JsonValue value) {\n  return switch (value.getValueType()) {\n    case OBJECT -&gt; ((JsonObject) value).entrySet().parallelStream().collect(\n        HashMap::new,\n        (map, entry) -&gt; map.put(entry.getKey(), jsonValueToObject(entry.getValue())),\n        (map1, map2) -&gt; map2.entrySet().forEach(entry -&gt; map1.put(entry.getKey(), entry.getValue())));\n    case ARRAY -&gt; ((JsonArray) value).stream().map(Utils::jsonValueToObject).collect(toList());\n    case STRING -&gt; ((JsonString) value).getString();\n    case NUMBER -&gt; ((JsonNumber) value).numberValue();\n    case TRUE -&gt; Boolean.TRUE;\n    case FALSE -&gt; Boolean.FALSE;\n    default -&gt; null; // Only JsonValue.NULL remains\n  };\n}\n</code></pre>\n<p>I didn't use the <code>Collectors.toMap()</code> collector, because it doesn't allow <code>null</code> values.</p>\n"}],"owner":{"account_id":3483804,"reputation":10869,"user_id":2915208,"accept_rate":25,"display_name":"Vikas Gupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":541868,"favorite_count":0,"down_vote_count":3,"up_vote_count":217,"accepted_answer_id":24012023,"answer_count":21,"score":214,"last_activity_date":1694282590,"creation_date":1392188102,"question_id":21720759,"body_markdown":"I&#39;m using Java, and I have a String which is JSON:\r\n\r\n    {\r\n    &quot;name&quot; : &quot;abc&quot; ,\r\n    &quot;email id &quot; : [&quot;abc@gmail.com&quot;,&quot;def@gmail.com&quot;,&quot;ghi@gmail.com&quot;]\r\n    }\r\n\r\nThen my Map in Java:\r\n\r\n    Map&lt;String, Object&gt; retMap = new HashMap&lt;String, Object&gt;();\r\n\r\nI want to store all the data from the JSONObject in that HashMap.\r\n\r\nCan anyone provide code for this?  I want to use the `org.json` library.\r\n","title":"Convert a JSON String to a HashMap","body":"<p>I'm using Java, and I have a String which is JSON:</p>\n\n<pre><code>{\n\"name\" : \"abc\" ,\n\"email id \" : [\"abc@gmail.com\",\"def@gmail.com\",\"ghi@gmail.com\"]\n}\n</code></pre>\n\n<p>Then my Map in Java:</p>\n\n<pre><code>Map&lt;String, Object&gt; retMap = new HashMap&lt;String, Object&gt;();\n</code></pre>\n\n<p>I want to store all the data from the JSONObject in that HashMap.</p>\n\n<p>Can anyone provide code for this?  I want to use the <code>org.json</code> library.</p>\n"},{"tags":["java","arrays","byte","bufferedreader"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694194469,"post_id":77068839,"comment_id":135864047,"body_markdown":"*MultipartFile* what is the fully-qualified name of that type? My guess is that you should be reading as UTF-16","body":"<i>MultipartFile</i> what is the fully-qualified name of that type? My guess is that you should be reading as UTF-16"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1694195825,"post_id":77068839,"comment_id":135864276,"body_markdown":"`new InputStreamReader(is, &quot;UTF-16&quot;)` should sort it out","body":"<code>new InputStreamReader(is, &quot;UTF-16&quot;)</code> should sort it out"},{"owner":{"account_id":13625558,"reputation":25,"user_id":12613525,"display_name":"Suvid Sahay"},"score":0,"creation_date":1694279784,"post_id":77068839,"comment_id":135871819,"body_markdown":"@g00se Yes reading as a UTF-16 works. Can you add an answer so I can accept it.","body":"@g00se Yes reading as a UTF-16 works. Can you add an answer so I can accept it."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694282581,"creation_date":1694282581,"answer_id":77073447,"question_id":77068839,"body_markdown":"My guess is that you should be reading as UTF-16. The tell-tale sign is the null byte preceding each non-null one. This would mean the two byte encoding of UTF-16 is redundant for &#39;ascii&#39; characters, which is why UTF-8 is used more, except in the case of certain languages","title":"Reading from a file using BufferedReader is giving garbage byte values in the String byte array like negative bytes","body":"<p>My guess is that you should be reading as UTF-16. The tell-tale sign is the null byte preceding each non-null one. This would mean the two byte encoding of UTF-16 is redundant for 'ascii' characters, which is why UTF-8 is used more, except in the case of certain languages</p>\n"}],"owner":{"account_id":13625558,"reputation":25,"user_id":12613525,"display_name":"Suvid Sahay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77073447,"answer_count":1,"score":0,"last_activity_date":1694282581,"creation_date":1694193821,"question_id":77068839,"body_markdown":"I am trying to read contents from an srt file and I am using Java&#39;s BufferedReader to read the file line by line. The content from the srt file is:\r\n```\r\n2\r\n00:00:40,665 --&gt; 00:00:44,806\r\n&lt;i&gt;♪ Nants ingonyama ♪&lt;/i&gt;\r\n```\r\n\r\nAnd the code snippet is as follows:\r\n```\r\npublic void parseSubtitles(@NonNull final MultipartFile subtitleFile) {\r\n    InputStream is = subtitleFile.getInputStream();\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(is));\r\n    String line;\r\n    while ((line = reader.readLine()) != null) {\r\n        System.out.println(line);\r\n    }\r\n}\r\n```\r\nwhile debugging through the code, by adding break points, I found out that while reading the first line `2` , the byte array value is `[-3, -1, -3, -1, 50, 0, 0, 0]`.\r\n\r\nThen the next line is just a byte array with value `[0]`\r\n\r\nThe next line is then `[0, 48, 0, 48, 0, 58, 0, 48, 0, 48, 0, 58, 0, 52, 0, 48, 0, 44, 0, 54, 0, 54, 0, 53, 0, 32, 0, 45, 0, 45, 0, 62, 0, 32, 0, 48, 0, 48, 0, 58, 0, 48, 0, 48, 0, 58, 0, 52, 0, 52, 0, 44, 0, 56, 0, 48, 0, 54, 0]` which in this case is the time interval of the subtitle.\r\n\r\nThis is not the case with other subtitle files as there are no `0` value in the byte array and no garbage lines like a byte array with null value `[0]`.\r\n\r\nAny idea on what might be causing this issue?\r\n","title":"Reading from a file using BufferedReader is giving garbage byte values in the String byte array like negative bytes","body":"<p>I am trying to read contents from an srt file and I am using Java's BufferedReader to read the file line by line. The content from the srt file is:</p>\n<pre><code>2\n00:00:40,665 --&gt; 00:00:44,806\n&lt;i&gt;♪ Nants ingonyama ♪&lt;/i&gt;\n</code></pre>\n<p>And the code snippet is as follows:</p>\n<pre><code>public void parseSubtitles(@NonNull final MultipartFile subtitleFile) {\n    InputStream is = subtitleFile.getInputStream();\n    BufferedReader reader = new BufferedReader(new InputStreamReader(is));\n    String line;\n    while ((line = reader.readLine()) != null) {\n        System.out.println(line);\n    }\n}\n</code></pre>\n<p>while debugging through the code, by adding break points, I found out that while reading the first line <code>2</code> , the byte array value is <code>[-3, -1, -3, -1, 50, 0, 0, 0]</code>.</p>\n<p>Then the next line is just a byte array with value <code>[0]</code></p>\n<p>The next line is then <code>[0, 48, 0, 48, 0, 58, 0, 48, 0, 48, 0, 58, 0, 52, 0, 48, 0, 44, 0, 54, 0, 54, 0, 53, 0, 32, 0, 45, 0, 45, 0, 62, 0, 32, 0, 48, 0, 48, 0, 58, 0, 48, 0, 48, 0, 58, 0, 52, 0, 52, 0, 44, 0, 56, 0, 48, 0, 54, 0]</code> which in this case is the time interval of the subtitle.</p>\n<p>This is not the case with other subtitle files as there are no <code>0</code> value in the byte array and no garbage lines like a byte array with null value <code>[0]</code>.</p>\n<p>Any idea on what might be causing this issue?</p>\n"},{"tags":["java","jfr","xdebug-profiler","async-profiler","deoptimization"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1693838905,"post_id":77038695,"comment_id":135809547,"body_markdown":"Usually anything related to debugging will have a trade-off with performance. On the other hand the Java Flight Recorder is optimized for this kind of use case to minimize the impact.","body":"Usually anything related to debugging will have a trade-off with performance. On the other hand the Java Flight Recorder is optimized for this kind of use case to minimize the impact."}],"owner":{"account_id":1467236,"reputation":738,"user_id":3496176,"accept_rate":50,"display_name":"zhumengzhu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1694282125,"creation_date":1693838533,"question_id":77038695,"body_markdown":"I&#39;ve been conducting a stress test using async-profiler to generate a flame graph and happened to notice that, **when JDWP is attached**, there are frequent cases of **deoptimization** consuming a significant amount of CPU time.\r\n\r\nHere is the flame graph with JDWP attached:\r\n```\r\n-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nHere is the flame graph without JDWP attached:\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI tried adding the `-XX:+PrintCompilation` parameter but only observed minimal deoptimization logs.\r\n\r\nI also attempted to use JFR (Java Flight Recorder), but I didn&#39;t receive any deoptimization events:\r\n[![enter image description here][3]][3]\r\n\r\nThis has been quite perplexing for me because when using async-profiler, I can observe a significant amount of CPU time being consumed by deoptimization, but when using JFR, deoptimization seems to disappear.\r\n\r\n\r\nAnd by the way, this holds true for both Java 8 and Java 17.\r\n\r\n```\r\n&gt; /Library/Java/JavaVirtualMachines/jdk-1.8.jdk/Contents/Home/bin/java -version\r\njava version &quot;1.8.0_371&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_371-b11)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.371-b11, mixed mode)\r\n\r\n&gt; /Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home/bin/java -version\r\nopenjdk version &quot;17.0.3&quot; 2022-04-19 LTS\r\nOpenJDK Runtime Environment Zulu17.34+19-CA (build 17.0.3+7-LTS)\r\nOpenJDK 64-Bit Server VM Zulu17.34+19-CA (build 17.0.3+7-LTS, mixed mode, sharing)\r\n```\r\n\r\n\r\n**Edit:**\r\n\r\nAfter looking through the mailing list and JDK bug lists with the keyword `deoptimization`, I have found two cases reported before that are very similar:\r\n- [Deoptimization taking up most CPU cycles][4]\r\n- [JDK-8243615: Continuous deoptimizations with Reason=unstable_if and Action=none][5]\r\n\r\nRunning the code provided by JDK-8243615 **without JDWP**, I do reproduce the problem:\r\n```Java \r\n// javac UnstableIfTest.java\r\n// java -XX:PerMethodRecompilationCutoff=4 UnstableIfTest\r\npublic class UnstableIfTest {\r\n    static int compute(double x)\r\n    {\r\n        return (int) (Math.sin(x) + Math.cos(x));\r\n    }\r\n    static void hotMethod(int iteration)\r\n    {\r\n        if (iteration &lt; 20) {\r\n            compute(78.3);\r\n        }\r\n        else if (iteration &lt; 40) {\r\n            compute(78.3);\r\n        }\r\n        else if (iteration &lt; 60) {\r\n            compute(78.3);\r\n        }\r\n        else if (iteration &lt; 80) {\r\n            compute(78.3);\r\n        } else if (iteration &lt; 100) {\r\n            compute(78.3);\r\n        } else {\r\n            compute(78.3);\r\n        }\r\n    }\r\n    static void hotMethodWrapper(int iteration)\r\n    {\r\n        int count = 100_000;\r\n        for (int i = 0; i &lt; count; i++) {\r\n            hotMethod(iteration);\r\n        }\r\n    }\r\n    public static void main(String[] args)\r\n    {\r\n        for (int k = 0; k &lt; 100; k++) {\r\n            long start = System.nanoTime();\r\n            hotMethodWrapper(k + 1);\r\n            System.out.println(&quot;iteration &quot; + k + &quot;: &quot; + (System.nanoTime() - start) / 1_000_000 + &quot;ms&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n[![enter image description here][6]][6]\r\n\r\nSo for now，my guess is this：there **is** a bug in JIT that causes a lot of unnecessary `deoptimization` sometimes, but not sure if there&#39; any relation between JDWP, async-profiler, and JFR.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z3kKf.jpg\r\n  [2]: https://i.stack.imgur.com/MfaaA.png\r\n  [3]: https://i.stack.imgur.com/ZmojX.png\r\n  [4]: https://mail.openjdk.org/pipermail/hotspot-dev/2016-June/023316.html\r\n  [5]: https://bugs.openjdk.org/browse/JDK-8243615\r\n  [6]: https://i.stack.imgur.com/5b3YG.png","title":"Why does the JDWP agent cause significant deoptimization during stress tests?","body":"<p>I've been conducting a stress test using async-profiler to generate a flame graph and happened to notice that, <strong>when JDWP is attached</strong>, there are frequent cases of <strong>deoptimization</strong> consuming a significant amount of CPU time.</p>\n<p>Here is the flame graph with JDWP attached:</p>\n<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/z3kKf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z3kKf.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Here is the flame graph without JDWP attached:\n<a href=\"https://i.stack.imgur.com/MfaaA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MfaaA.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried adding the <code>-XX:+PrintCompilation</code> parameter but only observed minimal deoptimization logs.</p>\n<p>I also attempted to use JFR (Java Flight Recorder), but I didn't receive any deoptimization events:\n<a href=\"https://i.stack.imgur.com/ZmojX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZmojX.png\" alt=\"enter image description here\" /></a></p>\n<p>This has been quite perplexing for me because when using async-profiler, I can observe a significant amount of CPU time being consumed by deoptimization, but when using JFR, deoptimization seems to disappear.</p>\n<p>And by the way, this holds true for both Java 8 and Java 17.</p>\n<pre><code>&gt; /Library/Java/JavaVirtualMachines/jdk-1.8.jdk/Contents/Home/bin/java -version\njava version &quot;1.8.0_371&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_371-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.371-b11, mixed mode)\n\n&gt; /Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home/bin/java -version\nopenjdk version &quot;17.0.3&quot; 2022-04-19 LTS\nOpenJDK Runtime Environment Zulu17.34+19-CA (build 17.0.3+7-LTS)\nOpenJDK 64-Bit Server VM Zulu17.34+19-CA (build 17.0.3+7-LTS, mixed mode, sharing)\n</code></pre>\n<p><strong>Edit:</strong></p>\n<p>After looking through the mailing list and JDK bug lists with the keyword <code>deoptimization</code>, I have found two cases reported before that are very similar:</p>\n<ul>\n<li><a href=\"https://mail.openjdk.org/pipermail/hotspot-dev/2016-June/023316.html\" rel=\"nofollow noreferrer\">Deoptimization taking up most CPU cycles</a></li>\n<li><a href=\"https://bugs.openjdk.org/browse/JDK-8243615\" rel=\"nofollow noreferrer\">JDK-8243615: Continuous deoptimizations with Reason=unstable_if and Action=none</a></li>\n</ul>\n<p>Running the code provided by JDK-8243615 <strong>without JDWP</strong>, I do reproduce the problem:</p>\n<pre><code>// javac UnstableIfTest.java\n// java -XX:PerMethodRecompilationCutoff=4 UnstableIfTest\npublic class UnstableIfTest {\n    static int compute(double x)\n    {\n        return (int) (Math.sin(x) + Math.cos(x));\n    }\n    static void hotMethod(int iteration)\n    {\n        if (iteration &lt; 20) {\n            compute(78.3);\n        }\n        else if (iteration &lt; 40) {\n            compute(78.3);\n        }\n        else if (iteration &lt; 60) {\n            compute(78.3);\n        }\n        else if (iteration &lt; 80) {\n            compute(78.3);\n        } else if (iteration &lt; 100) {\n            compute(78.3);\n        } else {\n            compute(78.3);\n        }\n    }\n    static void hotMethodWrapper(int iteration)\n    {\n        int count = 100_000;\n        for (int i = 0; i &lt; count; i++) {\n            hotMethod(iteration);\n        }\n    }\n    public static void main(String[] args)\n    {\n        for (int k = 0; k &lt; 100; k++) {\n            long start = System.nanoTime();\n            hotMethodWrapper(k + 1);\n            System.out.println(&quot;iteration &quot; + k + &quot;: &quot; + (System.nanoTime() - start) / 1_000_000 + &quot;ms&quot;);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/5b3YG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5b3YG.png\" alt=\"enter image description here\" /></a></p>\n<p>So for now，my guess is this：there <strong>is</strong> a bug in JIT that causes a lot of unnecessary <code>deoptimization</code> sometimes, but not sure if there' any relation between JDWP, async-profiler, and JFR.</p>\n"},{"tags":["java","sql","database"],"comments":[{"owner":{"account_id":3857,"reputation":21157,"user_id":5640,"accept_rate":100,"display_name":"GEOCHET"},"score":1,"creation_date":1243626816,"post_id":927807,"comment_id":735697,"body_markdown":"Depends on what database server. There is usually a table with all the table names in it, you could just query it.","body":"Depends on what database server. There is usually a table with all the table names in it, you could just query it."},{"owner":{"account_id":26267,"reputation":18227,"user_id":68172,"accept_rate":98,"display_name":"Bobby"},"score":0,"creation_date":1243627164,"post_id":927807,"comment_id":735732,"body_markdown":"sorry this is my first time using SQL, the DB is in Access","body":"sorry this is my first time using SQL, the DB is in Access"},{"owner":{"account_id":37283,"reputation":3124,"user_id":106550,"accept_rate":67,"display_name":"adrian.tarau"},"score":3,"creation_date":1243627238,"post_id":927807,"comment_id":735737,"body_markdown":"java.sql.DatabaseMetaData.getTables is cross-database(JDBC Driver takes care of database differences).","body":"java.sql.DatabaseMetaData.getTables is cross-database(JDBC Driver takes care of database differences)."}],"answers":[{"tags":[],"owner":{"account_id":23486,"reputation":37186,"user_id":58880,"accept_rate":92,"display_name":"cdonner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1243626830,"creation_date":1243626830,"answer_id":927824,"question_id":927807,"body_markdown":"This is not a language-specific, but a database-specific problem. You&#39;d query the metadata in the database for the existence of that particular object.\r\n\r\nIn SQL Server for instance:\r\n\r\n    SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N&#39;[dbo].[table]&#39;)\r\n       AND type in (N&#39;U&#39;)\r\n\r\n","title":"How can I detect a SQL table&#39;s existence in Java?","body":"<p>This is not a language-specific, but a database-specific problem. You'd query the metadata in the database for the existence of that particular object.</p>\n\n<p>In SQL Server for instance:</p>\n\n<pre><code>SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[table]')\n   AND type in (N'U')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":34491,"reputation":28963,"user_id":97558,"accept_rate":100,"display_name":"RichardOD"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1243626837,"creation_date":1243626837,"answer_id":927825,"question_id":927807,"body_markdown":"Write a query that queries the table/view that will list the tables (this is different depending on DB vendor). Call that from Java.\r\n\r\nGoogling [information_schema.tables][1] will help a lot.\r\n\r\n\r\n  [1]: http://www.google.co.uk/search?hl=en&amp;q=information_schema.tables&amp;btnG=Search&amp;meta=","title":"How can I detect a SQL table&#39;s existence in Java?","body":"<p>Write a query that queries the table/view that will list the tables (this is different depending on DB vendor). Call that from Java.</p>\n\n<p>Googling <a href=\"http://www.google.co.uk/search?hl=en&amp;q=information_schema.tables&amp;btnG=Search&amp;meta=\" rel=\"nofollow noreferrer\">information_schema.tables</a> will help a lot.</p>\n"},{"tags":[],"owner":{"account_id":28174,"reputation":1351,"user_id":74977,"display_name":"belgariontheking"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1243626844,"creation_date":1243626844,"answer_id":927828,"question_id":927807,"body_markdown":"Depending on the DB, you can do (MySQL)\r\n\r\n    SHOW TABLES\r\n\r\nor (Oracle)\r\n\r\n    SELECT * FROM user_objects WHERE object_type = &#39;TABLE&#39;\r\n\r\nor another thing for SQL Server.  Cycle through the results for MySQL or further filter on the Oracle one.","title":"How can I detect a SQL table&#39;s existence in Java?","body":"<p>Depending on the DB, you can do (MySQL)</p>\n\n<pre><code>SHOW TABLES\n</code></pre>\n\n<p>or (Oracle)</p>\n\n<pre><code>SELECT * FROM user_objects WHERE object_type = 'TABLE'\n</code></pre>\n\n<p>or another thing for SQL Server.  Cycle through the results for MySQL or further filter on the Oracle one.</p>\n"},{"tags":[],"owner":{"account_id":36,"reputation":98158,"user_id":45,"accept_rate":100,"display_name":"Bob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1243626853,"creation_date":1243626853,"answer_id":927829,"question_id":927807,"body_markdown":"Why not just see if it is in sysobjects (for SQL Server)?\r\n\r\n    SELECT [name] FROM [sysobjects] WHERE type = &#39;U&#39; AND [name] = &#39;TableName&#39;","title":"How can I detect a SQL table&#39;s existence in Java?","body":"<p>Why not just see if it is in sysobjects (for SQL Server)?</p>\n\n<pre><code>SELECT [name] FROM [sysobjects] WHERE type = 'U' AND [name] = 'TableName'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17732,"reputation":133474,"user_id":40005,"display_name":"Ayman Hourieh"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1243627363,"creation_date":1243626982,"answer_id":927838,"question_id":927807,"body_markdown":"You can use [DatabaseMetaData.getTables()][1] to get information about existing tables.\r\n\r\nThis method works transparently and is independent of the database engine. I think it queries information schema tables behind the scenes.\r\n\r\n**Edit:**\r\n\r\nHere is [an example that prints all existing table names][2].\r\n\r\n    DatabaseMetaData md = connection.getMetaData();\r\n    ResultSet rs = md.getTables(null, null, &quot;%&quot;, null);\r\n    while (rs.next()) {\r\n      System.out.println(rs.getString(3));\r\n    }\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/sql/DatabaseMetaData.html#getTables(java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String[])\r\n  [2]: http://www.java2s.com/Code/JavaAPI/java.sql/DatabaseMetaDatagetTablesStringcatalogStringschemaPatternStringtableNamePatternStringtypes.htm","title":"How can I detect a SQL table&#39;s existence in Java?","body":"<p>You can use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/sql/DatabaseMetaData.html#getTables(java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String[])\" rel=\"noreferrer\">DatabaseMetaData.getTables()</a> to get information about existing tables.</p>\n\n<p>This method works transparently and is independent of the database engine. I think it queries information schema tables behind the scenes.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Here is <a href=\"http://www.java2s.com/Code/JavaAPI/java.sql/DatabaseMetaDatagetTablesStringcatalogStringschemaPatternStringtableNamePatternStringtypes.htm\" rel=\"noreferrer\">an example that prints all existing table names</a>.</p>\n\n<pre><code>DatabaseMetaData md = connection.getMetaData();\nResultSet rs = md.getTables(null, null, \"%\", null);\nwhile (rs.next()) {\n  System.out.println(rs.getString(3));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31607,"reputation":1100,"user_id":86930,"accept_rate":75,"display_name":"Swiety"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1243626983,"creation_date":1243626983,"answer_id":927840,"question_id":927807,"body_markdown":"There is a JDBC feature, database vendor independent - see [java.sql.DatabaseMetaData#getTables()][1] \r\n\r\nYou can get the DatabaseMetaData instance by calling [java.sql.Connection#getMetaData()][2]\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/sql/DatabaseMetaData.html#getTables(java.lang.String, java.lang.String, java.lang.String, java.lang.String[])\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/sql/Connection.html#getMetaData()","title":"How can I detect a SQL table&#39;s existence in Java?","body":"<p>There is a JDBC feature, database vendor independent - see [java.sql.DatabaseMetaData#getTables()][1] </p>\n\n<p>You can get the DatabaseMetaData instance by calling <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/Connection.html#getMetaData()\" rel=\"nofollow noreferrer\">java.sql.Connection#getMetaData()</a></p>\n\n<p>[1]: <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/DatabaseMetaData.html#getTables(java.lang.String\" rel=\"nofollow noreferrer\">http://java.sun.com/javase/6/docs/api/java/sql/DatabaseMetaData.html#getTables(java.lang.String</a>, java.lang.String, java.lang.String, java.lang.String[])</p>\n"},{"tags":[],"owner":{"account_id":37283,"reputation":3124,"user_id":106550,"accept_rate":67,"display_name":"adrian.tarau"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1431711754,"creation_date":1243627028,"answer_id":927842,"question_id":927807,"body_markdown":"Use `java.sql.DatabaseMetaData.getTables(null, null, YOUR_TABLE, null)`. If the table exists, you will get a `ResultSet` with one record.\r\n\r\nSee [DatabaseMetaData.getTables][1]\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/sql/DatabaseMetaData.html#getTables(java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String[])","title":"How can I detect a SQL table&#39;s existence in Java?","body":"<p>Use <code>java.sql.DatabaseMetaData.getTables(null, null, YOUR_TABLE, null)</code>. If the table exists, you will get a <code>ResultSet</code> with one record.</p>\n\n<p>See <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/sql/DatabaseMetaData.html#getTables(java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String[])\" rel=\"noreferrer\">DatabaseMetaData.getTables</a></p>\n"},{"tags":[],"owner":{"account_id":16443,"reputation":10410,"user_id":35777,"display_name":"Arvo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1243627498,"creation_date":1243627498,"answer_id":927868,"question_id":927807,"body_markdown":"For MS Access:\r\n\r\n    Select Count(*) From MSysObjects \r\n    Where type=1 And name=&#39;your_table_name_here&#39;\r\n","title":"How can I detect a SQL table&#39;s existence in Java?","body":"<p>For MS Access:</p>\n\n<pre><code>Select Count(*) From MSysObjects \nWhere type=1 And name='your_table_name_here'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38895,"reputation":38129,"user_id":111934,"accept_rate":92,"display_name":"Jeff Meatball Yang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1243758157,"creation_date":1243758157,"answer_id":931634,"question_id":927807,"body_markdown":"For ALL ANSI-compliant databases:\r\n(mySQL, SQL Server 2005/2008, Oracle, PostgreSQL, SQLLite, maybe others)\r\n\r\n    select 1 from information_schema.tables where table_name = @tableName","title":"How can I detect a SQL table&#39;s existence in Java?","body":"<p>For ALL ANSI-compliant databases:\n(mySQL, SQL Server 2005/2008, Oracle, PostgreSQL, SQLLite, maybe others)</p>\n\n<pre><code>select 1 from information_schema.tables where table_name = @tableName\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5619216,"reputation":11,"user_id":4449621,"display_name":"PFrancisco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573868340,"creation_date":1573868340,"answer_id":58886765,"question_id":927807,"body_markdown":"This is what worked for me for `jdbc:derby`:\r\n\r\n    //Create Staff table if it does not exist yet\r\n    String tableName = &quot;STAFF&quot;;\r\n    boolean exists = conn.getMetaData().getTables(null, null, tableName, null).next();\r\n    if(!exists){\r\n        s = conn.createStatement();\r\n        s.execute(&quot;create table staff(lastname varchar(30), firstname varchar(30), position varchar(20),salary double,age int)&quot;);\r\n        System.out.println(&quot;Created table &quot; + tableName);\r\n    }\r\n\r\nNote that `tableName` has to be all caps.","title":"How can I detect a SQL table&#39;s existence in Java?","body":"<p>This is what worked for me for <code>jdbc:derby</code>:</p>\n\n<pre><code>//Create Staff table if it does not exist yet\nString tableName = \"STAFF\";\nboolean exists = conn.getMetaData().getTables(null, null, tableName, null).next();\nif(!exists){\n    s = conn.createStatement();\n    s.execute(\"create table staff(lastname varchar(30), firstname varchar(30), position varchar(20),salary double,age int)\");\n    System.out.println(\"Created table \" + tableName);\n}\n</code></pre>\n\n<p>Note that <code>tableName</code> has to be all caps.</p>\n"},{"tags":[],"owner":{"account_id":22230543,"reputation":51,"user_id":16466798,"display_name":"Shubham-Misal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694282072,"creation_date":1694282072,"answer_id":77073421,"question_id":927807,"body_markdown":"&lt;h1&gt;  There are two options available to check that a table does or doesn&#39;t exist in  a particular database &lt;/h1&gt; \r\n\r\n&lt;br&gt; \r\n\r\n&gt; First using DatabaseMetaData \r\n\r\n    import java.sql.*;\r\n    import java.util.*;\r\n    import java.io.*;\r\n    \r\n    public class checktableexistusingdatabasemetadata {\r\n        public static void main(String[] args) {\r\n            try {\r\n                // load the driver class\r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                // make connection we pass these threee things for connection our program to the\r\n                // database &gt;&gt; url,username, password\r\n                Connection todb = DriverManager.getConnection(&quot;jdbc:mysql://localhost:portnumberTCP/databasename&quot;, &quot;username&quot;,\r\n                        &quot;password&quot;);       \r\n                DatabaseMetaData dbm = todb.getMetaData();\r\n                // check if &quot;newdata&quot; table is there\r\n                ResultSet tables = dbm.getTables(null, null, &quot;newdataindbf&quot;, null);\r\n                if (tables.next()) {\r\n                    System.out.println(&quot;The table you are trying to create that already exists in the database so try a ne name bcz same name table cannot exixts in the particular database .....:)&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Your query will be executed .....:)&quot;);\r\n                    // query for creating a table into the database\r\n                    String qry = &quot;create table newdataindbf(nid int(29) primary key auto_increment,nname varchar(200) not null,ncity varchar(299))&quot;;\r\n                    // statement is a interface here we are using it to create a table\r\n                    Statement stmt = todb.createStatement();\r\n                    // here we are passing the query so that it is executed\r\n                    stmt.executeUpdate(qry);\r\n                    // if here the execute query works then this message will be printed or else we\r\n                    // will get an exception\r\n                    System.out.println(&quot;Table is created succesfully ....:)&quot;);\r\n                    // close connection\r\n                    todb.close();\r\n                }\r\n            }\r\n            catch(Exception e){\r\n                System.out.println(&quot;Something went wrong &gt;&gt; &quot;+e.getMessage());\r\n            }\r\n        }\r\n    }\r\n    \r\n&gt; Output :-\r\n\r\n    output when table doesn&#39;t exists inside the database ..&gt;\r\n    Your query will be executed .....:)\r\n    Table is created succesfully ....:)\r\n    \r\n    output when the table already exists inside the database ..&gt; \r\n    The table you are trying to create that already exists in the database so try a ne name bcz same name table cannot exixts in the particular database .....:)\r\n\r\n&gt; Second by using the query &gt;&gt; information_schema \r\n\r\n    import java.sql.*;\r\n    import java.util.*;\r\n    import java.io.*;\r\n    \r\n    public class checktableusinginformatioinschema {\r\n        public static void main(String[] args) {\r\n            try {\r\n                // load the driver class\r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                // make connection we pass these threee things for connection our program to the\r\n                // database &gt;&gt; url,username, password\r\n                Connection todb = DriverManager.getConnection(&quot;jdbc:mysql://localhost:portnumberTCP/databasename&quot;, &quot;username&quot;,\r\n                        &quot;password&quot;);\r\n                PreparedStatement preparedStatement = todb.prepareStatement(\r\n                        &quot;SELECT count(*) FROM information_schema.tables WHERE table_name = &#39;newdataindbd&#39; LIMIT 1&quot;);\r\n                ResultSet resultSet = preparedStatement.executeQuery();\r\n                resultSet.next();\r\n                // returns true--&gt; 0 or false--&gt; 1 but here it returns true or false ...:)\r\n                // System.out.println(resultSet.getInt(1)!=0);\r\n                if (resultSet.getInt(1) != 0 == true) {\r\n                    System.out.println(\r\n                            &quot;The table you are trying to create with the name already exists in the database try to create the table with some different name bcz same name table cannot exists in a particular database ......:) &quot;);\r\n                } else {\r\n                    System.out.println(&quot;Your query will be executed .....:)&quot;);\r\n                    // query for creating a table into the database\r\n                    String qry = &quot;create table newdataindbd(nid int(29) primary key auto_increment,nname varchar(200) not null,ncity varchar(299))&quot;;\r\n                    // statement is a interface here we are using it to create a table\r\n                    Statement stmt = todb.createStatement();\r\n                    // here we are passing the query so that it is executed\r\n                    stmt.executeUpdate(qry);\r\n                    // if here the execute query works then this message will be printed or else we\r\n                    // will get an exception\r\n                    System.out.println(&quot;Table is created succesfully ....:)&quot;);\r\n                    // close connection\r\n                    todb.close();\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Something went wrong ........ &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n&gt; Output &gt;&gt;\r\n\r\n    output when the table doesn&#39;t exists &gt;&gt;\r\n    Your query will be executed .....:)\r\n    Table is created succesfully ....:)\r\n    \r\n    output when the table exists in the db &gt;&gt;\r\n    The table you are trying to create with the name already exists in the\r\n    database try to create the table with some different name bcz same name table cannot exists in a particular database ......:)\r\n\r\n   ***⛅Hope so this will help&#128519; out to understand ......:)&#128588;***\r\n","title":"How can I detect a SQL table&#39;s existence in Java?","body":"<h1>  There are two options available to check that a table does or doesn't exist in  a particular database </h1> \n<br> \n<blockquote>\n<p>First using DatabaseMetaData</p>\n</blockquote>\n<pre><code>import java.sql.*;\nimport java.util.*;\nimport java.io.*;\n\npublic class checktableexistusingdatabasemetadata {\n    public static void main(String[] args) {\n        try {\n            // load the driver class\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            // make connection we pass these threee things for connection our program to the\n            // database &gt;&gt; url,username, password\n            Connection todb = DriverManager.getConnection(&quot;jdbc:mysql://localhost:portnumberTCP/databasename&quot;, &quot;username&quot;,\n                    &quot;password&quot;);       \n            DatabaseMetaData dbm = todb.getMetaData();\n            // check if &quot;newdata&quot; table is there\n            ResultSet tables = dbm.getTables(null, null, &quot;newdataindbf&quot;, null);\n            if (tables.next()) {\n                System.out.println(&quot;The table you are trying to create that already exists in the database so try a ne name bcz same name table cannot exixts in the particular database .....:)&quot;);\n            } else {\n                System.out.println(&quot;Your query will be executed .....:)&quot;);\n                // query for creating a table into the database\n                String qry = &quot;create table newdataindbf(nid int(29) primary key auto_increment,nname varchar(200) not null,ncity varchar(299))&quot;;\n                // statement is a interface here we are using it to create a table\n                Statement stmt = todb.createStatement();\n                // here we are passing the query so that it is executed\n                stmt.executeUpdate(qry);\n                // if here the execute query works then this message will be printed or else we\n                // will get an exception\n                System.out.println(&quot;Table is created succesfully ....:)&quot;);\n                // close connection\n                todb.close();\n            }\n        }\n        catch(Exception e){\n            System.out.println(&quot;Something went wrong &gt;&gt; &quot;+e.getMessage());\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>Output :-</p>\n</blockquote>\n<pre><code>output when table doesn't exists inside the database ..&gt;\nYour query will be executed .....:)\nTable is created succesfully ....:)\n\noutput when the table already exists inside the database ..&gt; \nThe table you are trying to create that already exists in the database so try a ne name bcz same name table cannot exixts in the particular database .....:)\n</code></pre>\n<blockquote>\n<p>Second by using the query &gt;&gt; information_schema</p>\n</blockquote>\n<pre><code>import java.sql.*;\nimport java.util.*;\nimport java.io.*;\n\npublic class checktableusinginformatioinschema {\n    public static void main(String[] args) {\n        try {\n            // load the driver class\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            // make connection we pass these threee things for connection our program to the\n            // database &gt;&gt; url,username, password\n            Connection todb = DriverManager.getConnection(&quot;jdbc:mysql://localhost:portnumberTCP/databasename&quot;, &quot;username&quot;,\n                    &quot;password&quot;);\n            PreparedStatement preparedStatement = todb.prepareStatement(\n                    &quot;SELECT count(*) FROM information_schema.tables WHERE table_name = 'newdataindbd' LIMIT 1&quot;);\n            ResultSet resultSet = preparedStatement.executeQuery();\n            resultSet.next();\n            // returns true--&gt; 0 or false--&gt; 1 but here it returns true or false ...:)\n            // System.out.println(resultSet.getInt(1)!=0);\n            if (resultSet.getInt(1) != 0 == true) {\n                System.out.println(\n                        &quot;The table you are trying to create with the name already exists in the database try to create the table with some different name bcz same name table cannot exists in a particular database ......:) &quot;);\n            } else {\n                System.out.println(&quot;Your query will be executed .....:)&quot;);\n                // query for creating a table into the database\n                String qry = &quot;create table newdataindbd(nid int(29) primary key auto_increment,nname varchar(200) not null,ncity varchar(299))&quot;;\n                // statement is a interface here we are using it to create a table\n                Statement stmt = todb.createStatement();\n                // here we are passing the query so that it is executed\n                stmt.executeUpdate(qry);\n                // if here the execute query works then this message will be printed or else we\n                // will get an exception\n                System.out.println(&quot;Table is created succesfully ....:)&quot;);\n                // close connection\n                todb.close();\n            }\n\n        } catch (Exception e) {\n            System.out.println(&quot;Something went wrong ........ &quot;);\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>Output &gt;&gt;</p>\n</blockquote>\n<pre><code>output when the table doesn't exists &gt;&gt;\nYour query will be executed .....:)\nTable is created succesfully ....:)\n\noutput when the table exists in the db &gt;&gt;\nThe table you are trying to create with the name already exists in the\ndatabase try to create the table with some different name bcz same name table cannot exists in a particular database ......:)\n</code></pre>\n<p><em><strong>⛅Hope so this will help😇 out to understand ......:)🙌</strong></em></p>\n"}],"owner":{"account_id":26267,"reputation":18227,"user_id":68172,"accept_rate":98,"display_name":"Bobby"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34835,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":927838,"answer_count":11,"score":38,"last_activity_date":1694282072,"creation_date":1243626499,"question_id":927807,"body_markdown":"How can I detect if a certain table exists in a given SQL database in Java?","title":"How can I detect a SQL table&#39;s existence in Java?","body":"<p>How can I detect if a certain table exists in a given SQL database in Java?</p>\n"},{"tags":["java","mysql","jdbc","prepared-statement","sql-injection"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":4,"creation_date":1436094147,"post_id":31229643,"comment_id":50458411,"body_markdown":"You have SQL-injection vulnerability. Use PreparedStatement to fix it, it will also fix your current problem.","body":"You have SQL-injection vulnerability. Use PreparedStatement to fix it, it will also fix your current problem."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694281582,"post_id":31229643,"comment_id":135871971,"body_markdown":"the resulting SQL statement you created is like `insert into tab values(3, arpit, 18)` - since it is missing quotes around `arpit`, that is interpreted as a column name. Using single concatenation, as done here, can be a security problem, see [Bobby Tables](https://bobby-tables.com/) or search &quot;SQL injection&quot;","body":"the resulting SQL statement you created is like <code>insert into tab values(3, arpit, 18)</code> - since it is missing quotes around <code>arpit</code>, that is interpreted as a column name. Using single concatenation, as done here, can be a security problem, see <a href=\"https://bobby-tables.com/\" rel=\"nofollow noreferrer\">Bobby Tables</a> or search &quot;SQL injection&quot;"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694281068,"creation_date":1436094977,"answer_id":31229791,"question_id":31229643,"body_markdown":"Invalid value entered. Use `PreparedStatement` to set the values in the query. Use column names in the sql which values should be inserted. The primary key is auto generated by default in MySQL, so you don&#39;t need to use it. At the end you also don&#39;t need to specify the `;`. When statement is executed it automatically adds the closing character. \r\n\r\n```java\r\n//SQL Query to insert user input\r\nString sql = &quot;insert into tab(name, age) values(?,?)&quot;;  \r\nStatement st = con.prepareStatement(sql);\r\n\r\nst.setString(1, name);\r\nst.setInt(2, age);\r\n\r\n//Execute INSERT\r\nst.executeUpdate();\r\n```\r\n","title":"What&#39;s the mistake in this JDBC program","body":"<p>Invalid value entered. Use <code>PreparedStatement</code> to set the values in the query. Use column names in the sql which values should be inserted. The primary key is auto generated by default in MySQL, so you don't need to use it. At the end you also don't need to specify the <code>;</code>. When statement is executed it automatically adds the closing character.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//SQL Query to insert user input\nString sql = &quot;insert into tab(name, age) values(?,?)&quot;;  \nStatement st = con.prepareStatement(sql);\n\nst.setString(1, name);\nst.setInt(2, age);\n\n//Execute INSERT\nst.executeUpdate();\n</code></pre>\n"}],"owner":{"account_id":6312469,"reputation":187,"user_id":4903586,"accept_rate":67,"display_name":"Arpit Tomar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694281068,"creation_date":1436093804,"question_id":31229643,"body_markdown":"&lt;!-- language: lang-java --&gt;\r\n\r\n    package jdbc;\r\n\r\n    import java.sql.*;\r\n    import java.util.Scanner;\r\n\r\n    public class Table {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    String name;\r\n\t\t    int age;\r\n\t\t    Scanner sc = new Scanner(System.in);\r\n\t\t    System.out.println(&quot;Enter name and age: &quot;);\r\n\t\t    name = sc.nextLine();\r\n\t\t    age = sc.nextInt();\r\n\t\t    try{\r\n\t\t\t    Connection con = DriverManager.getConnection(&quot;jdbc:mysql:&quot; +\r\n                                     &quot;//localhost/demo&quot;,&quot;root&quot;,&quot;&quot;);\r\n\t\t\t    Statement st = con.createStatement();\r\n\t\t\t    //SQL Query to insert user input\r\n\t\t\t    String sql = &quot;insert into tab values(3,&quot;+name+&quot;,&quot;+age+&quot;);&quot;;  \r\n\t\t\t    //Execute INSERT\r\n\t\t\t    st.executeUpdate(sql);\r\n\t\t    \t//Dislplay table &quot;tab&quot;\r\n\t\t\t    ResultSet rs = st.executeQuery(&quot;select * from tab&quot;);\r\n\t\t\t    while(rs.next()){\r\n\t\t\t\t    System.out.println(rs.getInt(1) + &quot; &quot; + rs.getString(2)&quot;+\r\n                                       &quot; &quot; &quot; + rs.getInt(3));\r\n\t\t\t    }\r\n\t\t    } catch(Exception e){\r\n\t\t\t    e.printStackTrace();\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\nOUTPUT:\r\n---\r\n\r\n    Enter name and age: \r\n    arpit          //user input\r\n    18             //user input\r\n    com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column &#39;arpit&#39; in &#39;field list&#39;\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:422)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:400)\r\n    \tat com.mysql.jdbc.Util.getInstance(Util.java:383)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)\r\n    \tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)\r\n    \tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)\r\n    \tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2541)\r\n    \tat com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1604)\r\n    \tat com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1535)\r\n    \tat jdbc.Table.main(Table.java:20)","title":"What&#39;s the mistake in this JDBC program","body":"<pre class=\"lang-java prettyprint-override\"><code>package jdbc;\n\nimport java.sql.*;\nimport java.util.Scanner;\n\npublic class Table {\n\n    public static void main(String[] args) {\n        String name;\n        int age;\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter name and age: &quot;);\n        name = sc.nextLine();\n        age = sc.nextInt();\n        try{\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql:&quot; +\n                                 &quot;//localhost/demo&quot;,&quot;root&quot;,&quot;&quot;);\n            Statement st = con.createStatement();\n            //SQL Query to insert user input\n            String sql = &quot;insert into tab values(3,&quot;+name+&quot;,&quot;+age+&quot;);&quot;;  \n            //Execute INSERT\n            st.executeUpdate(sql);\n            //Dislplay table &quot;tab&quot;\n            ResultSet rs = st.executeQuery(&quot;select * from tab&quot;);\n            while(rs.next()){\n                System.out.println(rs.getInt(1) + &quot; &quot; + rs.getString(2)&quot;+\n                                   &quot; &quot; &quot; + rs.getInt(3));\n            }\n        } catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<h2>OUTPUT:</h2>\n<pre><code>Enter name and age: \narpit          //user input\n18             //user input\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'arpit' in 'field list'\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)\n    at com.mysql.jdbc.Util.getInstance(Util.java:383)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2541)\n    at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1604)\n    at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1535)\n    at jdbc.Table.main(Table.java:20)\n</code></pre>\n"},{"tags":["java","sql-server","sql-server-2008","jsp","sql-injection"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1694276059,"post_id":77073006,"comment_id":135871434,"body_markdown":"Have tried to run the update in SQL console? Does it work? Is id really characters and not numeric? Try without enclosing the id with `","body":"Have tried to run the update in SQL console? Does it work? Is id really characters and not numeric? Try without enclosing the id with `"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1694368367,"post_id":77073006,"comment_id":135878837,"body_markdown":"it&#39;s probably not a good idea to write sql by getting it from request parameter. Read about sql injections and bobby tables.","body":"it&#39;s probably not a good idea to write sql by getting it from request parameter. Read about sql injections and bobby tables."}],"owner":{"account_id":29143056,"reputation":1,"user_id":22325614,"display_name":"Vinish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694280804,"answer_count":0,"score":0,"last_activity_date":1694280890,"creation_date":1694275444,"question_id":77073006,"body_markdown":"I&#39;m working on a Java project that interacts with a SQL Server database. I&#39;m trying to perform an update operation on a table using a SQL update query, but it doesn&#39;t seem to update the table, and I&#39;m not receiving any error messages.\r\n\r\nHere&#39;s a simplified version of my Java code:\r\n```\r\n// Database connection and query execution code\r\nString id = request.getParameter(&quot;id&quot;);\r\ntry {\r\n    Connection connect1 = ConnectionProvider.getCon();\r\n    Statement ps = connect1.createStatement();\r\n    ps.executeUpdate(&quot;update bloodreq set status=&#39;completed&#39; where id=&#39;&quot; + id + &quot;&#39;&quot;);\r\n    response.sendRedirect(&quot;Requests.jsp?msg=deleted&quot;);\r\n} catch (Exception e) {\r\n    response.sendRedirect(&quot;Requests.jsp?msg=invalid&quot;);\r\n    e.printStackTrace();\r\n}\r\n\r\n```\r\n\r\n-    Checked the SQL query for correctness.\r\n-    Ensured that the id parameter contains the expected value.\r\n-    Reviewed the SQL Server logs for any errors or issues related to the query.\r\n\r\nDespite these efforts, I can&#39;t identify why the update query is not working. What steps should I take to diagnose and resolve this problem? Are there any common pitfalls I should be aware of when performing SQL Server updates in a Java project?\r\n\r\n\r\n\r\n","title":"Java Project SQL Server Update Query Not Updating Table, No Errors","body":"<p>I'm working on a Java project that interacts with a SQL Server database. I'm trying to perform an update operation on a table using a SQL update query, but it doesn't seem to update the table, and I'm not receiving any error messages.</p>\n<p>Here's a simplified version of my Java code:</p>\n<pre><code>// Database connection and query execution code\nString id = request.getParameter(&quot;id&quot;);\ntry {\n    Connection connect1 = ConnectionProvider.getCon();\n    Statement ps = connect1.createStatement();\n    ps.executeUpdate(&quot;update bloodreq set status='completed' where id='&quot; + id + &quot;'&quot;);\n    response.sendRedirect(&quot;Requests.jsp?msg=deleted&quot;);\n} catch (Exception e) {\n    response.sendRedirect(&quot;Requests.jsp?msg=invalid&quot;);\n    e.printStackTrace();\n}\n\n</code></pre>\n<ul>\n<li>Checked the SQL query for correctness.</li>\n<li>Ensured that the id parameter contains the expected value.</li>\n<li>Reviewed the SQL Server logs for any errors or issues related to the query.</li>\n</ul>\n<p>Despite these efforts, I can't identify why the update query is not working. What steps should I take to diagnose and resolve this problem? Are there any common pitfalls I should be aware of when performing SQL Server updates in a Java project?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":8307612,"reputation":1313,"user_id":6244038,"accept_rate":0,"display_name":"Insou"},"score":0,"creation_date":1688470521,"post_id":76356796,"comment_id":135075823,"body_markdown":"Have you managed to solve this problem ?","body":"Have you managed to solve this problem ?"}],"owner":{"account_id":28701972,"reputation":1,"user_id":21978988,"display_name":"Kiss Krisztina-Gy&#246;ngyv&#233;r"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694279453,"creation_date":1685358349,"question_id":76356796,"body_markdown":"Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.CheckAarMetadataWorkAction\r\nI have this error, my gradle has the latest version. How can i fix this?\r\n\r\nI tried to upgrade gradle version but it doesnt work","title":"How can i fix CheckAarMetadataWorkAction error in my java Android project?","body":"<p>Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.CheckAarMetadataWorkAction\nI have this error, my gradle has the latest version. How can i fix this?</p>\n<p>I tried to upgrade gradle version but it doesnt work</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":5929686,"reputation":6955,"user_id":4664558,"accept_rate":86,"display_name":"LazerBanana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488360818,"creation_date":1488359852,"answer_id":42527694,"question_id":42527631,"body_markdown":"To fail the build you can:\r\n\r\n    ant.fail(&#39;message why it failed&#39;)\r\n\r\nThen you can craft a condition then fail the build with nice message ;)\r\n\r\nI would suggest to create a task that will bring the file to the project first with a condition to check if the file is available etc if not then throw a Gradle exception and fail the build with a message, and execute the task first in the execution phase.\r\n\r\nI have no chance to test it now but it could be something like this, correct me if any syntax is wrong - but you should get the idea.\r\n\r\n    def yourDep = $/\\path\\to\\your\\depdendency/$\r\n\r\n    task bringDeps &lt;&lt; {\r\n\r\n      if (yourDep.exists()){\r\n        copy {\r\n          from yourDep\r\n          into $projectDir/depsOrSmthg\r\n        }\r\n      } else{\r\n      ant.fail(&#39;message why it failed&#39;)\r\n      }\r\n\r\n    }\r\n\r\n","title":"How to make Gradle fail the build if a file dependency is not found?","body":"<p>To fail the build you can:</p>\n\n<pre><code>ant.fail('message why it failed')\n</code></pre>\n\n<p>Then you can craft a condition then fail the build with nice message ;)</p>\n\n<p>I would suggest to create a task that will bring the file to the project first with a condition to check if the file is available etc if not then throw a Gradle exception and fail the build with a message, and execute the task first in the execution phase.</p>\n\n<p>I have no chance to test it now but it could be something like this, correct me if any syntax is wrong - but you should get the idea.</p>\n\n<pre><code>def yourDep = $/\\path\\to\\your\\depdendency/$\n\ntask bringDeps &lt;&lt; {\n\n  if (yourDep.exists()){\n    copy {\n      from yourDep\n      into $projectDir/depsOrSmthg\n    }\n  } else{\n  ant.fail('message why it failed')\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535758225,"creation_date":1535758225,"answer_id":52123649,"question_id":42527631,"body_markdown":"You could do something as shown below. It is not a built-in Gradle function but does not require code to check each dependency specifically (it checks all in the `compile` configuration):\r\n\r\n    apply plugin: &#39;java&#39;\r\n    \r\n    dependencies {\r\n        compile files(&#39;lib/abc.jar&#39;)\r\n        compile files(&#39;lib/def.jar&#39;)\r\n    }\r\n    \r\n    task checkDependencies() {\r\n        doLast {\r\n            configurations.compile.each { file -&gt;\r\n                assert file.exists() \r\n            }\r\n        }\r\n    }\r\n    \r\n    compileJava.dependsOn checkDependencies\r\n\r\n","title":"How to make Gradle fail the build if a file dependency is not found?","body":"<p>You could do something as shown below. It is not a built-in Gradle function but does not require code to check each dependency specifically (it checks all in the <code>compile</code> configuration):</p>\n\n<pre><code>apply plugin: 'java'\n\ndependencies {\n    compile files('lib/abc.jar')\n    compile files('lib/def.jar')\n}\n\ntask checkDependencies() {\n    doLast {\n        configurations.compile.each { file -&gt;\n            assert file.exists() \n        }\n    }\n}\n\ncompileJava.dependsOn checkDependencies\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7814846,"reputation":1,"user_id":5909897,"display_name":"Timothy Mapley"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1591635451,"creation_date":1591635451,"answer_id":62267327,"question_id":42527631,"body_markdown":"\r\n    task ensureDependenciesExist() {\r\n        doLast {\r\n            configurations.implementation.canBeResolved(true)\r\n            DependencySet deps = configurations.implementation.getDependencies()\r\n            Set&lt;File&gt; impFiles = configurations.implementation.resolve()\r\n            deps.each { d -&gt;\r\n                boolean depWasResolved = impFiles.any { impFile -&gt; impFile.name.find(&quot;.*${d.name}.*${d.version}&quot;) }\r\n                if (!depWasResolved) {\r\n                    println &quot;${d} was not resolved&quot;\r\n                    assert depWasResolved\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    compileJava.dependsOn ensureDependenciesExist\r\n","title":"How to make Gradle fail the build if a file dependency is not found?","body":"<pre><code>task ensureDependenciesExist() {\n    doLast {\n        configurations.implementation.canBeResolved(true)\n        DependencySet deps = configurations.implementation.getDependencies()\n        Set&lt;File&gt; impFiles = configurations.implementation.resolve()\n        deps.each { d -&gt;\n            boolean depWasResolved = impFiles.any { impFile -&gt; impFile.name.find(\".*${d.name}.*${d.version}\") }\n            if (!depWasResolved) {\n                println \"${d} was not resolved\"\n                assert depWasResolved\n            }\n        }\n    }\n}\n\ncompileJava.dependsOn ensureDependenciesExist\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1191703,"reputation":2854,"user_id":1263473,"accept_rate":46,"display_name":"Marco Massenzio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636771973,"creation_date":1636770654,"answer_id":69951002,"question_id":42527631,"body_markdown":"This is a bit of an old thread, but given that none of the currently proposed solutions actually works, and the solution appears to be trivial (collating two of them), I am leaving it here for future reference.\r\n\r\nThe point here is that we simply want to ensure that the files do exist, so we can just use the `exists()` method of the `File` class:\r\n\r\n```groovy\r\ntask ensureDepsExist() {\r\n    doLast {\r\n        configurations.implementation.canBeResolved(true)\r\n        Set&lt;File&gt; impFiles = configurations.implementation.resolve()\r\n\r\n        impFiles.forEach { f -&gt;\r\n            if (!f.exists()) {\r\n                ant.fail &quot;${f} could not be found&quot;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ncompileJava.dependsOn ensureDepsExist\r\n```\r\n\r\nThe `canBeResolved()` call is required, or Gradle will complain that `configurations` dependencies cannot be resolved.","title":"How to make Gradle fail the build if a file dependency is not found?","body":"<p>This is a bit of an old thread, but given that none of the currently proposed solutions actually works, and the solution appears to be trivial (collating two of them), I am leaving it here for future reference.</p>\n<p>The point here is that we simply want to ensure that the files do exist, so we can just use the <code>exists()</code> method of the <code>File</code> class:</p>\n<pre><code>task ensureDepsExist() {\n    doLast {\n        configurations.implementation.canBeResolved(true)\n        Set&lt;File&gt; impFiles = configurations.implementation.resolve()\n\n        impFiles.forEach { f -&gt;\n            if (!f.exists()) {\n                ant.fail &quot;${f} could not be found&quot;\n            }\n        }\n    }\n}\n\ncompileJava.dependsOn ensureDepsExist\n</code></pre>\n<p>The <code>canBeResolved()</code> call is required, or Gradle will complain that <code>configurations</code> dependencies cannot be resolved.</p>\n"},{"tags":[],"owner":{"account_id":6457157,"reputation":85,"user_id":5002159,"display_name":"MrcJkb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694276470,"creation_date":1639598835,"answer_id":70369701,"question_id":42527631,"body_markdown":"Here&#39;s how you can check transitive dependencies using Gradle 7.3 (example: Fail if the project depends on log4j directly or transitively).\r\n\r\n**Kotlin DSL**\r\n\r\n    configurations {\r\n      all {\r\n        resolutionStrategy {\r\n          eachDependency {\r\n            if (requested.name == &quot;log4j&quot;) {\r\n              throw RuntimeException(&quot;Project depends on log4j&quot;)\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n**Groovy DSL** \r\n\r\n    configurations.all {\r\n        resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\r\n            if (details.requested.name == &#39;log4j&#39;) {\r\n                throw new RuntimeException(&quot;Project depends on log4j&quot;)\r\n            }\r\n        }\r\n    }","title":"How to make Gradle fail the build if a file dependency is not found?","body":"<p>Here's how you can check transitive dependencies using Gradle 7.3 (example: Fail if the project depends on log4j directly or transitively).</p>\n<p><strong>Kotlin DSL</strong></p>\n<pre><code>configurations {\n  all {\n    resolutionStrategy {\n      eachDependency {\n        if (requested.name == &quot;log4j&quot;) {\n          throw RuntimeException(&quot;Project depends on log4j&quot;)\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p><strong>Groovy DSL</strong></p>\n<pre><code>configurations.all {\n    resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\n        if (details.requested.name == 'log4j') {\n            throw new RuntimeException(&quot;Project depends on log4j&quot;)\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":110096,"reputation":962,"user_id":2200067,"accept_rate":60,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6121,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1694276470,"creation_date":1488359660,"question_id":42527631,"body_markdown":"I have a Gradle build that has some dependencies of the form\r\n\r\n    compile files(&#39;path/to/local/lib.jar&#39;)\r\n\r\n(the build is being migrated - eventually these will be replaced)\r\n\r\nThe build failed because one of these paths was incorrectly specified. But it failed due to a compile error - it looked like Gradle silently ignored the missing dependency.\r\n\r\nIs there a simple option or switch that will force Gradle to fail the build if any dependency (particularly local file dependencies) cannot be resolved (eg., file missing)?\r\n\r\nEdit: to clarify further:\r\n\r\nIf a dependency cannot be found in the configured repositories, Gradle will fail the build when attempting to resolve them, as expected.\r\n\r\nBUT - if a dependency is defined as &quot;compile files ....&quot;, and the file specified does not exist at build time, Gradle will IGNORE that error, and attempt compilation anyway. That seems **spectacularly** wrong-headed and inconsistent default behaviour. \r\n\r\nMy question is - is there a Gradle option or switch or environment variable or system property that I can set to force Gradle to verify that file dependencies exist?  (E.g,, behave in a sane and rational way?)\r\n","title":"How to make Gradle fail the build if a file dependency is not found?","body":"<p>I have a Gradle build that has some dependencies of the form</p>\n\n<pre><code>compile files('path/to/local/lib.jar')\n</code></pre>\n\n<p>(the build is being migrated - eventually these will be replaced)</p>\n\n<p>The build failed because one of these paths was incorrectly specified. But it failed due to a compile error - it looked like Gradle silently ignored the missing dependency.</p>\n\n<p>Is there a simple option or switch that will force Gradle to fail the build if any dependency (particularly local file dependencies) cannot be resolved (eg., file missing)?</p>\n\n<p>Edit: to clarify further:</p>\n\n<p>If a dependency cannot be found in the configured repositories, Gradle will fail the build when attempting to resolve them, as expected.</p>\n\n<p>BUT - if a dependency is defined as \"compile files ....\", and the file specified does not exist at build time, Gradle will IGNORE that error, and attempt compilation anyway. That seems <strong>spectacularly</strong> wrong-headed and inconsistent default behaviour. </p>\n\n<p>My question is - is there a Gradle option or switch or environment variable or system property that I can set to force Gradle to verify that file dependencies exist?  (E.g,, behave in a sane and rational way?)</p>\n"},{"tags":["java","string","list","collections","stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694426784,"post_id":77072991,"comment_id":135884903,"body_markdown":"Do you really think that performing multi-step stream operations inside sub-expressions inside an `if` condition has an acceptable readability? Not to speak of the efficiency of performing the same stream operation multiple times in a row. And why do you convert all strings into `char[]` arrays at the beginning? As far as I can see, the only thing you’re doing with the arrays, is the equivalent of a simple `charAt` call which you can do on the original strings.","body":"Do you really think that performing multi-step stream operations inside sub-expressions inside an <code>if</code> condition has an acceptable readability? Not to speak of the efficiency of performing the same stream operation multiple times in a row. And why do you convert all strings into <code>char[]</code> arrays at the beginning? As far as I can see, the only thing you’re doing with the arrays, is the equivalent of a simple <code>charAt</code> call which you can do on the original strings."}],"answers":[{"tags":[],"owner":{"account_id":17486376,"reputation":76,"user_id":12679317,"display_name":"Joshua Ryandafres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694275603,"creation_date":1694275603,"answer_id":77073013,"question_id":77072991,"body_markdown":"You can try this:\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class LongestCommonSubstring {\r\n    public static String findLongestCommonSubstring(List&lt;String&gt; strings) {\r\n        if (strings == null || strings.isEmpty()) {\r\n            return &quot;&quot;;\r\n        }\r\n\r\n        String firstString = strings.get(0);\r\n        int maxLength = firstString.length();\r\n        String longestCommonSubstring = &quot;&quot;;\r\n\r\n        for (int i = 0; i &lt; maxLength; i++) {\r\n            for (int j = i + 1; j &lt;= maxLength; j++) {\r\n                String substring = firstString.substring(i, j);\r\n                boolean isCommon = strings.stream().allMatch(s -&gt; s.contains(substring));\r\n                if (isCommon &amp;&amp; substring.length() &gt; longestCommonSubstring.length()) {\r\n                    longestCommonSubstring = substring;\r\n                }\r\n            }\r\n        }\r\n\r\n        return longestCommonSubstring;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; myStringArray = List.of(&quot;xxxyyy&quot;, &quot;xxxyyy&quot;, &quot;yyy&quot;);\r\n        String longestCommonSubstring = findLongestCommonSubstring(myStringArray);\r\n        System.out.println(&quot;The Longest Common Substring = &quot; + longestCommonSubstring);\r\n    }\r\n}\r\n```\r\n\r\nThis code will work for lists of strings with different lengths and will find the longest common substring among them.\r\n\r\nAs for doing this with a one-liner and without a for loop, it&#39;s not practical because finding the longest common substring among different-length strings typically requires comparing all possible substrings, which cannot be efficiently accomplished with a one-liner or without some form of iteration. Hope this can help :)","title":"How to get the longest common sub string of all strings in List&lt;String&gt; where the strings are of different lengths?","body":"<p>You can try this:</p>\n<pre><code>import java.util.*;\n\npublic class LongestCommonSubstring {\n    public static String findLongestCommonSubstring(List&lt;String&gt; strings) {\n        if (strings == null || strings.isEmpty()) {\n            return &quot;&quot;;\n        }\n\n        String firstString = strings.get(0);\n        int maxLength = firstString.length();\n        String longestCommonSubstring = &quot;&quot;;\n\n        for (int i = 0; i &lt; maxLength; i++) {\n            for (int j = i + 1; j &lt;= maxLength; j++) {\n                String substring = firstString.substring(i, j);\n                boolean isCommon = strings.stream().allMatch(s -&gt; s.contains(substring));\n                if (isCommon &amp;&amp; substring.length() &gt; longestCommonSubstring.length()) {\n                    longestCommonSubstring = substring;\n                }\n            }\n        }\n\n        return longestCommonSubstring;\n    }\n\n    public static void main(String[] args) {\n        List&lt;String&gt; myStringArray = List.of(&quot;xxxyyy&quot;, &quot;xxxyyy&quot;, &quot;yyy&quot;);\n        String longestCommonSubstring = findLongestCommonSubstring(myStringArray);\n        System.out.println(&quot;The Longest Common Substring = &quot; + longestCommonSubstring);\n    }\n}\n</code></pre>\n<p>This code will work for lists of strings with different lengths and will find the longest common substring among them.</p>\n<p>As for doing this with a one-liner and without a for loop, it's not practical because finding the longest common substring among different-length strings typically requires comparing all possible substrings, which cannot be efficiently accomplished with a one-liner or without some form of iteration. Hope this can help :)</p>\n"}],"owner":{"account_id":5545338,"reputation":155,"user_id":4400293,"accept_rate":100,"display_name":"Raoul Duke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694275603,"creation_date":1694275126,"question_id":77072991,"body_markdown":"Given a list of strings of the same length and no special characters:\r\n\r\n```List&lt;String&gt; myStringArray = List.of( &quot;xxxyyyjjjabcdefg&quot;, xxxyyyjjjabcdefg&quot;, &quot;xxxyyyxxxabcdefg&quot;)```;  \r\n\r\nI can find the longest common sub string of the list:\r\n\r\n```  \r\nString lengthOfAllStrings = myStringArray.stream().min(Comparator.comparingInt(String::length)).get();  \r\nList&lt;char[]&gt; myCharArray = myStringArray.stream().map(String::toCharArray).collect(Collectors.toList());  \r\nStringBuilder longestCommonSubString = StringBuilder();  \r\nStringBuilder currentLongestSubString = new StringBuilder();  \r\n  \r\nfor(int i = 0; i &lt; lengthOfAllStrings.length(); i++) {\r\nint finalI = i;\r\nif(myCharArray.stream().anyMatch((a) -&gt; a[finalI] == ( (myCharArray.stream().collect(Collectors.groupingBy(x -&gt; x[finalI]))).values().size == 1 ? (myCharArray.stream().collect(Collectors.groupingBy(x -&gt; x[finalI]))).entrySet().iterator().next().getKey() : &#39;!&#39;))) {  \r\n  longestCommonSubString.append((myCharArray.stream().collect(Collectors.groupingBy( x -&gt; x[finalI]))).entrySet().iterator().next().getKey());  \r\n } else {  \r\n  currentLongestSubString.append(longestCommonSubString);  \r\n  longestCommonSubString = new StringBuilder();  \r\n }  \r\n}  \r\nSystem.out.println(&quot;The Longest Common Sub String = &quot; + Stream.of(longestCommonSubString.toString(), currentLongestSubString.toString()).max(Comparator.comparingInt(String::length)).get());\r\n```\r\nOutput: The Longest Common Sub String = abcdefg\r\n\r\nbut what if the list contains strings of different length:  \r\n\r\n```List&lt;String&gt; myStringArray = List.of( &quot;xxxyyy&quot;, xxxyyy&quot;, &quot;yyy&quot;);```\r\n\r\nDesired Output: The Longest Sub String = yyy\r\n\r\nAlso, is there a way to do all this with a one liner and not use a for loop ?\r\n\r\n","title":"How to get the longest common sub string of all strings in List&lt;String&gt; where the strings are of different lengths?","body":"<p>Given a list of strings of the same length and no special characters:</p>\n<p><code>List&lt;String&gt; myStringArray = List.of( &quot;xxxyyyjjjabcdefg&quot;, xxxyyyjjjabcdefg&quot;, &quot;xxxyyyxxxabcdefg&quot;)</code>;</p>\n<p>I can find the longest common sub string of the list:</p>\n<pre><code>String lengthOfAllStrings = myStringArray.stream().min(Comparator.comparingInt(String::length)).get();  \nList&lt;char[]&gt; myCharArray = myStringArray.stream().map(String::toCharArray).collect(Collectors.toList());  \nStringBuilder longestCommonSubString = StringBuilder();  \nStringBuilder currentLongestSubString = new StringBuilder();  \n  \nfor(int i = 0; i &lt; lengthOfAllStrings.length(); i++) {\nint finalI = i;\nif(myCharArray.stream().anyMatch((a) -&gt; a[finalI] == ( (myCharArray.stream().collect(Collectors.groupingBy(x -&gt; x[finalI]))).values().size == 1 ? (myCharArray.stream().collect(Collectors.groupingBy(x -&gt; x[finalI]))).entrySet().iterator().next().getKey() : '!'))) {  \n  longestCommonSubString.append((myCharArray.stream().collect(Collectors.groupingBy( x -&gt; x[finalI]))).entrySet().iterator().next().getKey());  \n } else {  \n  currentLongestSubString.append(longestCommonSubString);  \n  longestCommonSubString = new StringBuilder();  \n }  \n}  \nSystem.out.println(&quot;The Longest Common Sub String = &quot; + Stream.of(longestCommonSubString.toString(), currentLongestSubString.toString()).max(Comparator.comparingInt(String::length)).get());\n</code></pre>\n<p>Output: The Longest Common Sub String = abcdefg</p>\n<p>but what if the list contains strings of different length:</p>\n<p><code>List&lt;String&gt; myStringArray = List.of( &quot;xxxyyy&quot;, xxxyyy&quot;, &quot;yyy&quot;);</code></p>\n<p>Desired Output: The Longest Sub String = yyy</p>\n<p>Also, is there a way to do all this with a one liner and not use a for loop ?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":1770094,"reputation":13649,"user_id":1615086,"display_name":"andersschuller"},"score":0,"creation_date":1445083335,"post_id":33186004,"comment_id":54178642,"body_markdown":"When I tried to replicate your code with Jackson 2.6.2, it seemed to work fine. Is there anything else special about your setup? What is the `@Data` annotation? Perhaps it&#39;s interfering somehow?","body":"When I tried to replicate your code with Jackson 2.6.2, it seemed to work fine. Is there anything else special about your setup? What is the <code>@Data</code> annotation? Perhaps it&#39;s interfering somehow?"},{"owner":{"account_id":1082221,"reputation":7484,"user_id":1078886,"accept_rate":52,"display_name":"try-catch-finally"},"score":3,"creation_date":1445089666,"post_id":33186004,"comment_id":54180490,"body_markdown":"Excuse me, why do you want to preserve the order of the properties? [The JSON spec](https://tools.ietf.org/html/rfc7159) clearly says an object is an **unordered** collection &quot;`An object is an unordered collection of zero or more name/value pairs, [...]`&quot; and &quot;`Implementations whose behavior does not depend onmember ordering will be interoperable in the sense that they will not be affected by these differences.`&quot;","body":"Excuse me, why do you want to preserve the order of the properties? <a href=\"https://tools.ietf.org/html/rfc7159\" rel=\"nofollow noreferrer\">The JSON spec</a> clearly says an object is an <b>unordered</b> collection &quot;<code>An object is an unordered collection of zero or more name&#47;value pairs, [...]</code>&quot; and &quot;<code>Implementations whose behavior does not depend onmember ordering will be interoperable in the sense that they will not be affected by these differences.</code>&quot;"},{"owner":{"account_id":5818547,"reputation":413,"user_id":4587326,"accept_rate":25,"display_name":"Alviere"},"score":0,"creation_date":1445171929,"post_id":33186004,"comment_id":54200999,"body_markdown":"`@Data` annotation is an Lombok library annotation that saves me from writing getters and setters for each field. I don&#39;t know if it is interfering somehow, but I will look into this.","body":"<code>@Data</code> annotation is an Lombok library annotation that saves me from writing getters and setters for each field. I don&#39;t know if it is interfering somehow, but I will look into this."},{"owner":{"account_id":5818547,"reputation":413,"user_id":4587326,"accept_rate":25,"display_name":"Alviere"},"score":13,"creation_date":1445171984,"post_id":33186004,"comment_id":54201011,"body_markdown":"About why do I need that: simply for JSON readability by other developers.","body":"About why do I need that: simply for JSON readability by other developers."},{"owner":{"account_id":5818547,"reputation":413,"user_id":4587326,"accept_rate":25,"display_name":"Alviere"},"score":0,"creation_date":1445178364,"post_id":33186004,"comment_id":54202968,"body_markdown":"As far as I tested, Lombok `@Data` annotation does not affect ordering anyhow. `@JsonPropertyOrder` is still ignored.","body":"As far as I tested, Lombok <code>@Data</code> annotation does not affect ordering anyhow. <code>@JsonPropertyOrder</code> is still ignored."},{"owner":{"account_id":187128,"reputation":2321,"user_id":424957,"accept_rate":56,"display_name":"mikezang"},"score":0,"creation_date":1454770303,"post_id":33186004,"comment_id":58198641,"body_markdown":"How do you solve it?","body":"How do you solve it?"},{"owner":{"account_id":5818547,"reputation":413,"user_id":4587326,"accept_rate":25,"display_name":"Alviere"},"score":0,"creation_date":1454938446,"post_id":33186004,"comment_id":58253136,"body_markdown":"Nohow. I just closed my eyes on that.","body":"Nohow. I just closed my eyes on that."},{"owner":{"account_id":547582,"reputation":2871,"user_id":2161698,"display_name":"SebaGra"},"score":0,"creation_date":1506096931,"post_id":33186004,"comment_id":79697665,"body_markdown":"I tried `@JsonPropertyOrder` with Jackson 2.7.3 and it&#39;s working fine. I needed to serialize the object in a specific order since a hash is calculated based on the string generated, and then recalculated again in a remote server.","body":"I tried <code>@JsonPropertyOrder</code> with Jackson 2.7.3 and it&#39;s working fine. I needed to serialize the object in a specific order since a hash is calculated based on the string generated, and then recalculated again in a remote server."},{"owner":{"account_id":15648493,"reputation":106,"user_id":11290282,"display_name":"Christian"},"score":0,"creation_date":1659627745,"post_id":33186004,"comment_id":129344821,"body_markdown":"Maybe this clashes somehow with autogenerated setters/getters from lombok. You may try to add `@JsonAutoDetect(\n        fieldVisibility = JsonAutoDetect.Visibility.ANY,\n        isGetterVisibility = JsonAutoDetect.Visibility.NONE,\n        getterVisibility = JsonAutoDetect.Visibility.NONE)`","body":"Maybe this clashes somehow with autogenerated setters/getters from lombok. You may try to add <code>@JsonAutoDetect(         fieldVisibility = JsonAutoDetect.Visibility.ANY,         isGetterVisibility = JsonAutoDetect.Visibility.NONE,         getterVisibility = JsonAutoDetect.Visibility.NONE)</code>"}],"answers":[{"tags":[],"owner":{"account_id":94109,"reputation":2168,"user_id":257122,"accept_rate":60,"display_name":"Ashwin Jayaprakash"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1628366802,"creation_date":1474477453,"answer_id":39622523,"question_id":33186004,"body_markdown":"The annotation JavaDoc also echoes the &quot;unordered&quot; collection: https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/latest/com/fasterxml/jackson/annotation/JsonPropertyOrder.html\r\n\r\n&gt; This annotation may or may not have effect on deserialization: for\r\n&gt; basic JSON handling there is no effect, but for other supported data\r\n&gt; types (or structural conventions) there may be.\r\n\r\nThat probably explains why it is not working. ","title":"Jackson @JsonPropertyOrder is ignored","body":"<p>The annotation JavaDoc also echoes the &quot;unordered&quot; collection: <a href=\"https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/latest/com/fasterxml/jackson/annotation/JsonPropertyOrder.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/latest/com/fasterxml/jackson/annotation/JsonPropertyOrder.html</a></p>\n<blockquote>\n<p>This annotation may or may not have effect on deserialization: for\nbasic JSON handling there is no effect, but for other supported data\ntypes (or structural conventions) there may be.</p>\n</blockquote>\n<p>That probably explains why it is not working.</p>\n"},{"tags":[],"owner":{"account_id":5013539,"reputation":197,"user_id":4139773,"display_name":"Nitin Jain"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1525212290,"creation_date":1525212290,"answer_id":50124499,"question_id":33186004,"body_markdown":"Lomboks @Data interferes with Jackson deserializing. Remove this and try..","title":"Jackson @JsonPropertyOrder is ignored","body":"<p>Lomboks @Data interferes with Jackson deserializing. Remove this and try..</p>\n"},{"tags":[],"owner":{"account_id":13619988,"reputation":330,"user_id":12244838,"display_name":"Hoiama Rodrigues"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625612531,"creation_date":1625612531,"answer_id":68278236,"question_id":33186004,"body_markdown":"check if you are importing the correct package of &quot;**JsonPropertyOrder**&quot;:\r\n \r\n*this work for me:* import com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n","title":"Jackson @JsonPropertyOrder is ignored","body":"<p>check if you are importing the correct package of &quot;<strong>JsonPropertyOrder</strong>&quot;:</p>\n<p><em>this work for me:</em> import com.fasterxml.jackson.annotation.JsonPropertyOrder;</p>\n"}],"owner":{"account_id":5818547,"reputation":413,"user_id":4587326,"accept_rate":25,"display_name":"Alviere"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22548,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1694275495,"creation_date":1445080664,"question_id":33186004,"body_markdown":"I&#39;m currently developing RESTful app with Spark framework and I use Jackson for serialization. And I encountered such issue: @JsonPropertyOrder is ignored.\r\n\r\nHere&#39;s my POJO:\r\n\r\n    @Data\r\n    @JsonPropertyOrder({&quot;id&quot;, &quot;company&quot;, &quot;title&quot;, &quot;infos&quot;, &quot;startDate&quot;, &quot;endDate&quot;})\r\n    public class Info {\r\n        @JsonProperty(&quot;id&quot;)\r\n        long id;\r\n    \r\n        @JsonProperty(&quot;company&quot;)\r\n        Company company;\r\n    \r\n        @JsonProperty(&quot;title&quot;)\r\n        String title;\r\n    \r\n        @JsonProperty(&quot;infos&quot;)\r\n        List&lt;Prize&gt; infos;\r\n    \r\n        @JsonProperty(&quot;startDate&quot;)\r\n        Date startDate;\r\n    \r\n        @JsonProperty(&quot;endDate&quot;)\r\n        Date endDate;\r\n    \r\n        public Info() {}\r\n    }\r\n\r\nI generate JSON with this method:\r\n\r\n    public static String generateJSONResponse(Object response) {\r\n        if (responseObjectMapper == null) {\r\n            responseObjectMapper = new ObjectMapper(new JsonFactory());\r\n            responseObjectMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n        }\r\n\r\n        try {\r\n            return responseObjectMapper.writeValueAsString(response);\r\n        } catch (IOException ioe) {\r\n            // Must not occur\r\n        }\r\n\r\n        // Something really unexpected happened, so we return unknown response;\r\n        return ErrorMessages.ERROR_RESPONSE_UNKNOWN;\r\n    }\r\n\r\nAnd in the end I receive this:\r\n\r\n    {\r\n      &quot;status&quot;: 0,\r\n      &quot;result&quot;: {\r\n        &quot;infoList&quot;: [\r\n          {\r\n            &quot;infos&quot;: [...],\r\n            &quot;id&quot;: 2,\r\n            &quot;title&quot;: &quot;...&quot;,\r\n            &quot;company&quot;: {...},\r\n            &quot;startDate&quot;: 1445238000000,\r\n            &quot;endDate&quot;: 1445792400000\r\n          },\r\n          ...\r\n        ]\r\n      }\r\n    }\r\n\r\nWhat am I doing wrong? Or something is wrong with Jackson? Can anybody help me with that?\r\n\r\nAlso, I tried this using Jackson version 2.6.3 and 2.3.5. Both works the same way.","title":"Jackson @JsonPropertyOrder is ignored","body":"<p>I'm currently developing RESTful app with Spark framework and I use Jackson for serialization. And I encountered such issue: @JsonPropertyOrder is ignored.</p>\n\n<p>Here's my POJO:</p>\n\n<pre><code>@Data\n@JsonPropertyOrder({\"id\", \"company\", \"title\", \"infos\", \"startDate\", \"endDate\"})\npublic class Info {\n    @JsonProperty(\"id\")\n    long id;\n\n    @JsonProperty(\"company\")\n    Company company;\n\n    @JsonProperty(\"title\")\n    String title;\n\n    @JsonProperty(\"infos\")\n    List&lt;Prize&gt; infos;\n\n    @JsonProperty(\"startDate\")\n    Date startDate;\n\n    @JsonProperty(\"endDate\")\n    Date endDate;\n\n    public Info() {}\n}\n</code></pre>\n\n<p>I generate JSON with this method:</p>\n\n<pre><code>public static String generateJSONResponse(Object response) {\n    if (responseObjectMapper == null) {\n        responseObjectMapper = new ObjectMapper(new JsonFactory());\n        responseObjectMapper.enable(SerializationFeature.INDENT_OUTPUT);\n    }\n\n    try {\n        return responseObjectMapper.writeValueAsString(response);\n    } catch (IOException ioe) {\n        // Must not occur\n    }\n\n    // Something really unexpected happened, so we return unknown response;\n    return ErrorMessages.ERROR_RESPONSE_UNKNOWN;\n}\n</code></pre>\n\n<p>And in the end I receive this:</p>\n\n<pre><code>{\n  \"status\": 0,\n  \"result\": {\n    \"infoList\": [\n      {\n        \"infos\": [...],\n        \"id\": 2,\n        \"title\": \"...\",\n        \"company\": {...},\n        \"startDate\": 1445238000000,\n        \"endDate\": 1445792400000\n      },\n      ...\n    ]\n  }\n}\n</code></pre>\n\n<p>What am I doing wrong? Or something is wrong with Jackson? Can anybody help me with that?</p>\n\n<p>Also, I tried this using Jackson version 2.6.3 and 2.3.5. Both works the same way.</p>\n"},{"tags":["java","netbeans","mathml"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1693932417,"post_id":77045739,"comment_id":135823663,"body_markdown":"Show the stack trace. Also describe how you created the project in enough detail so that others can attempt to reproduce the problem. That includes the type of the project (Maven/Grade/Ant), and how you obtained the external resources (Batik, JEuclid, etc.).","body":"Show the stack trace. Also describe how you created the project in enough detail so that others can attempt to reproduce the problem. That includes the type of the project (Maven/Grade/Ant), and how you obtained the external resources (Batik, JEuclid, etc.)."}],"owner":{"account_id":6660900,"reputation":11,"user_id":5140036,"display_name":"Tony Dean"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694274384,"creation_date":1693926972,"question_id":77045739,"body_markdown":"I&#39;m learning to use jeuclid-core-3.1.9 in java using the Netbeans development platform with Maven. All dependencies were generated automatically by Netbeans based on the imports in the source code.\r\n\r\nI tried to create a MathML tree from the DOM I created from a MathML formula contained as a string in my program. However, the code below encounters the exception NoClassDefFoundError on the call to createJeuclidDOM. The missing class is \r\norg/w3c/dom/events/CustomEvent. This class appears in the Projects window as part of package org.w3c.dom.events in the batik-ext-1.7 jar file. However, when you select the class, nothing shows up in the Navigator window, suggesting it&#39;s not really there. I suspect I&#39;m up against a compatibility issue, but I can&#39;t imagine what it is.\r\n\r\nThe source code:\r\n\r\n\r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n */\r\n\r\npackage com.mycompany.jeuclidtrial;\r\n\r\nimport java.io.IOException;\r\nimport java.io.StringReader;\r\nimport javax.xml.transform.stream.StreamSource;\r\nimport net.sourceforge.jeuclid.parser.Parser;\r\nimport org.w3c.dom.Document;\r\nimport net.sourceforge.jeuclid.DOMBuilder;\r\nimport net.sourceforge.jeuclid.elements.generic.DocumentElement;\r\nimport net.sourceforge.jeuclid.swing.JMathComponent;\r\nimport org.xml.sax.SAXException;\r\n\r\n/**\r\n *\r\n * @author Tony\r\n */\r\npublic class JeuclidTrial {\r\n\r\n    public static void main(String[] args) {\r\n\t\tString formula;\r\n\t\t\r\n\t\tformula = &quot;&lt;?xml version=\\&quot;1.0\\&quot;?&gt;&quot;;\r\n\t\tformula += &quot;&lt;math mode=\\&quot;content\\&quot; xmlns=\\&quot;http://www.w3.org/1998/Math/MathML\\&quot;&gt;&quot;;\r\n\t\tformula += &quot;&lt;apply&gt;&lt;power/&gt;&lt;apply&gt;&lt;plus/&gt;&lt;ci&gt;a&lt;/ci&gt;&lt;ci&gt;b&lt;/ci&gt;&lt;ci&gt;c&lt;/ci&gt;&lt;/apply&gt;&lt;cn&gt;2&lt;/cn&gt;&lt;/apply&gt;&quot;;\r\n\t\tformula += &quot;&lt;/math&gt;&quot;;\r\n\r\n\t\ttry {\r\n\t\t\t/**\r\n\t\t\t * This code adapted from\r\n\t\t\t * https://jeuclid.sourceforge.net/index.html\r\n\t\t\t */\r\n\t\t\t\r\n\t\t\tStringReader aStreamReader = new StringReader(formula);\r\n\t\t\tStreamSource aStreamSource = new StreamSource(aStreamReader);\r\n\t\t\tParser aParser = Parser.getInstance();\r\n\t\t\tDocument theDocument  = aParser.parseStreamSource(aStreamSource);\r\n\t\t\tDOMBuilder dBuilder = net.sourceforge.jeuclid.DOMBuilder.getInstance();\r\n\t\t\tDocumentElement theDocumentElement = dBuilder.createJeuclidDom(theDocument);\r\n\t\t\tJMathComponent theMathComponent = new JMathComponent();\r\n\t\t\ttheMathComponent.setDocument(theDocumentElement);\r\n\t\t}\r\n\t\tcatch (SAXException e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t\tcatch (IOException e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n        System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n}\r\n\r\n```\r\nThe stack trace follows:\r\n\r\n```\r\n        Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/w3c/dom/events/CustomEvent\r\n\tat java.base/java.lang.Class.getDeclaredFields0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3297)\r\n\tat java.base/java.lang.Class.getField0(Class.java:3482)\r\n\tat java.base/java.lang.Class.getField(Class.java:2115)\r\n\tat net.sourceforge.jeuclid.elements.JEuclidElementFactory.addClass(JEuclidElementFactory.java:146)\r\n\tat net.sourceforge.jeuclid.elements.JEuclidElementFactory.&lt;clinit&gt;(JEuclidElementFactory.java:186)\r\n\tat net.sourceforge.jeuclid.elements.generic.DocumentElement.createElementNS(DocumentElement.java:165)\r\n\tat java.xml/com.sun.org.apache.xalan.internal.xsltc.trax.SAX2DOM.startElement(SAX2DOM.java:159)\r\n\tat java.xml/com.sun.org.apache.xml.internal.serializer.ToXMLSAXHandler.closeStartTag(ToXMLSAXHandler.java:206)\r\n\tat java.xml/com.sun.org.apache.xml.internal.serializer.ToSAXHandler.flushPending(ToSAXHandler.java:250)\r\n\tat java.xml/com.sun.org.apache.xml.internal.serializer.ToXMLSAXHandler.startElement(ToXMLSAXHandler.java:648)\r\n\tat java.xml/com.sun.org.apache.xml.internal.serializer.ToXMLSAXHandler.startElement(ToXMLSAXHandler.java:510)\r\n\tat jdk.translet/die.verwandlung.GregorSamsa.http$colon$$slash$$slash$www$dot$w3$dot$org$slash$1998$slash$Math$slash$MathML$colon$template$dot$34()\r\n\tat jdk.translet/die.verwandlung.GregorSamsa.applyTemplates()\r\n\tat jdk.translet/die.verwandlung.GregorSamsa.http$colon$$slash$$slash$www$dot$w3$dot$org$slash$1998$slash$Math$slash$MathML$colon$template$dot$206()\r\n\tat jdk.translet/die.verwandlung.GregorSamsa.applyTemplates()\r\n\tat jdk.translet/die.verwandlung.GregorSamsa.http$colon$$slash$$slash$www$dot$w3$dot$org$slash$1998$slash$Math$slash$MathML$colon$template$dot$0()\r\n\tat jdk.translet/die.verwandlung.GregorSamsa.applyTemplates()\r\n\tat jdk.translet/die.verwandlung.GregorSamsa.transform()\r\n\tat java.xml/com.sun.org.apache.xalan.internal.xsltc.runtime.AbstractTranslet.transform(AbstractTranslet.java:627)\r\n\tat java.xml/com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:782)\r\n\tat java.xml/com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:395)\r\n\tat net.sourceforge.jeuclid.DOMBuilder.applyTransform(DOMBuilder.java:217)\r\n\tat net.sourceforge.jeuclid.DOMBuilder.createJeuclidDom(DOMBuilder.java:202)\r\n\tat net.sourceforge.jeuclid.DOMBuilder.createJeuclidDom(DOMBuilder.java:155)\r\n\tat net.sourceforge.jeuclid.DOMBuilder.createJeuclidDom(DOMBuilder.java:135)\r\n\tat com.mycompany.jeuclidtrial.JeuclidTrial.main(JeuclidTrial.java:42)\r\nCaused by: java.lang.ClassNotFoundException: org.w3c.dom.events.CustomEvent\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 27 more\r\nCommand execution failed.\r\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:1000)\r\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:947)\r\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:471)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:827)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:272)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:195)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n```\r\n\r\nAfter this printout, the log from a failed build occurs: \r\n\r\n```    ------------------------------------------------------------------------\r\nBUILD FAILURE\r\n------------------------------------------------------------------------\r\nTotal time:  7.466 s\r\nFinished at: 2023-09-05T09:33:22-05:00\r\n------------------------------------------------------------------------\r\nFailed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:exec (default-cli) on project jeuclidTrial: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\n\r\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\r\nRe-run Maven using the -X switch to enable full debug logging.\r\n\r\nFor more information about the errors and possible solutions, please read the following articles:\r\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```","title":"NoClassDefFoundError: org/w3c/dom/events/CustomEvent on call to createJeuclidDom","body":"<p>I'm learning to use jeuclid-core-3.1.9 in java using the Netbeans development platform with Maven. All dependencies were generated automatically by Netbeans based on the imports in the source code.</p>\n<p>I tried to create a MathML tree from the DOM I created from a MathML formula contained as a string in my program. However, the code below encounters the exception NoClassDefFoundError on the call to createJeuclidDOM. The missing class is\norg/w3c/dom/events/CustomEvent. This class appears in the Projects window as part of package org.w3c.dom.events in the batik-ext-1.7 jar file. However, when you select the class, nothing shows up in the Navigator window, suggesting it's not really there. I suspect I'm up against a compatibility issue, but I can't imagine what it is.</p>\n<p>The source code:</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n */\n\npackage com.mycompany.jeuclidtrial;\n\nimport java.io.IOException;\nimport java.io.StringReader;\nimport javax.xml.transform.stream.StreamSource;\nimport net.sourceforge.jeuclid.parser.Parser;\nimport org.w3c.dom.Document;\nimport net.sourceforge.jeuclid.DOMBuilder;\nimport net.sourceforge.jeuclid.elements.generic.DocumentElement;\nimport net.sourceforge.jeuclid.swing.JMathComponent;\nimport org.xml.sax.SAXException;\n\n/**\n *\n * @author Tony\n */\npublic class JeuclidTrial {\n\n    public static void main(String[] args) {\n        String formula;\n        \n        formula = &quot;&lt;?xml version=\\&quot;1.0\\&quot;?&gt;&quot;;\n        formula += &quot;&lt;math mode=\\&quot;content\\&quot; xmlns=\\&quot;http://www.w3.org/1998/Math/MathML\\&quot;&gt;&quot;;\n        formula += &quot;&lt;apply&gt;&lt;power/&gt;&lt;apply&gt;&lt;plus/&gt;&lt;ci&gt;a&lt;/ci&gt;&lt;ci&gt;b&lt;/ci&gt;&lt;ci&gt;c&lt;/ci&gt;&lt;/apply&gt;&lt;cn&gt;2&lt;/cn&gt;&lt;/apply&gt;&quot;;\n        formula += &quot;&lt;/math&gt;&quot;;\n\n        try {\n            /**\n             * This code adapted from\n             * https://jeuclid.sourceforge.net/index.html\n             */\n            \n            StringReader aStreamReader = new StringReader(formula);\n            StreamSource aStreamSource = new StreamSource(aStreamReader);\n            Parser aParser = Parser.getInstance();\n            Document theDocument  = aParser.parseStreamSource(aStreamSource);\n            DOMBuilder dBuilder = net.sourceforge.jeuclid.DOMBuilder.getInstance();\n            DocumentElement theDocumentElement = dBuilder.createJeuclidDom(theDocument);\n            JMathComponent theMathComponent = new JMathComponent();\n            theMathComponent.setDocument(theDocumentElement);\n        }\n        catch (SAXException e) {\n            System.out.println(e.getMessage());\n            System.exit(0);\n        }\n        catch (IOException e) {\n            System.out.println(e.getMessage());\n            System.exit(0);\n        }\n        \n        \n        System.out.println(&quot;Hello World!&quot;);\n    }\n}\n\n</code></pre>\n<p>The stack trace follows:</p>\n<pre><code>        Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/w3c/dom/events/CustomEvent\n    at java.base/java.lang.Class.getDeclaredFields0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3297)\n    at java.base/java.lang.Class.getField0(Class.java:3482)\n    at java.base/java.lang.Class.getField(Class.java:2115)\n    at net.sourceforge.jeuclid.elements.JEuclidElementFactory.addClass(JEuclidElementFactory.java:146)\n    at net.sourceforge.jeuclid.elements.JEuclidElementFactory.&lt;clinit&gt;(JEuclidElementFactory.java:186)\n    at net.sourceforge.jeuclid.elements.generic.DocumentElement.createElementNS(DocumentElement.java:165)\n    at java.xml/com.sun.org.apache.xalan.internal.xsltc.trax.SAX2DOM.startElement(SAX2DOM.java:159)\n    at java.xml/com.sun.org.apache.xml.internal.serializer.ToXMLSAXHandler.closeStartTag(ToXMLSAXHandler.java:206)\n    at java.xml/com.sun.org.apache.xml.internal.serializer.ToSAXHandler.flushPending(ToSAXHandler.java:250)\n    at java.xml/com.sun.org.apache.xml.internal.serializer.ToXMLSAXHandler.startElement(ToXMLSAXHandler.java:648)\n    at java.xml/com.sun.org.apache.xml.internal.serializer.ToXMLSAXHandler.startElement(ToXMLSAXHandler.java:510)\n    at jdk.translet/die.verwandlung.GregorSamsa.http$colon$$slash$$slash$www$dot$w3$dot$org$slash$1998$slash$Math$slash$MathML$colon$template$dot$34()\n    at jdk.translet/die.verwandlung.GregorSamsa.applyTemplates()\n    at jdk.translet/die.verwandlung.GregorSamsa.http$colon$$slash$$slash$www$dot$w3$dot$org$slash$1998$slash$Math$slash$MathML$colon$template$dot$206()\n    at jdk.translet/die.verwandlung.GregorSamsa.applyTemplates()\n    at jdk.translet/die.verwandlung.GregorSamsa.http$colon$$slash$$slash$www$dot$w3$dot$org$slash$1998$slash$Math$slash$MathML$colon$template$dot$0()\n    at jdk.translet/die.verwandlung.GregorSamsa.applyTemplates()\n    at jdk.translet/die.verwandlung.GregorSamsa.transform()\n    at java.xml/com.sun.org.apache.xalan.internal.xsltc.runtime.AbstractTranslet.transform(AbstractTranslet.java:627)\n    at java.xml/com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:782)\n    at java.xml/com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:395)\n    at net.sourceforge.jeuclid.DOMBuilder.applyTransform(DOMBuilder.java:217)\n    at net.sourceforge.jeuclid.DOMBuilder.createJeuclidDom(DOMBuilder.java:202)\n    at net.sourceforge.jeuclid.DOMBuilder.createJeuclidDom(DOMBuilder.java:155)\n    at net.sourceforge.jeuclid.DOMBuilder.createJeuclidDom(DOMBuilder.java:135)\n    at com.mycompany.jeuclidtrial.JeuclidTrial.main(JeuclidTrial.java:42)\nCaused by: java.lang.ClassNotFoundException: org.w3c.dom.events.CustomEvent\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 27 more\nCommand execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:1000)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:947)\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:471)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:827)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:272)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:195)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n</code></pre>\n<p>After this printout, the log from a failed build occurs:</p>\n<pre><code>BUILD FAILURE\n------------------------------------------------------------------------\nTotal time:  7.466 s\nFinished at: 2023-09-05T09:33:22-05:00\n------------------------------------------------------------------------\nFailed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:exec (default-cli) on project jeuclidTrial: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n\nFor more information about the errors and possible solutions, please read the following articles:\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","newrelic","instrumentation","apm"],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694273971,"creation_date":1694270474,"question_id":77072719,"body_markdown":"New Relic has a Java agent which can be added as a dependency to the application. The agent does instrumentation as part of the running JVM I believe. And that instrumented data is sent to New Relic server every one minute from the Java agent.\r\n\r\nIn case JVM crashes/exits (for any reason) before agent gets a chance to send last minute interval data, will the metrics be lost? Or does data get persisted in disk from where agent can read &amp; send it when the JVM is up again? But that might be delayed &amp; not real time. So we will miss vital data that can help in debugging the crash.\r\n\r\nMay be I am missing something. If anyone has more insight about how New Relic Java agent handles this scenario, please answer.","title":"Can New Relic Java agent miss sending last one minute metrics data in case of JVM crash?","body":"<p>New Relic has a Java agent which can be added as a dependency to the application. The agent does instrumentation as part of the running JVM I believe. And that instrumented data is sent to New Relic server every one minute from the Java agent.</p>\n<p>In case JVM crashes/exits (for any reason) before agent gets a chance to send last minute interval data, will the metrics be lost? Or does data get persisted in disk from where agent can read &amp; send it when the JVM is up again? But that might be delayed &amp; not real time. So we will miss vital data that can help in debugging the crash.</p>\n<p>May be I am missing something. If anyone has more insight about how New Relic Java agent handles this scenario, please answer.</p>\n"},{"tags":["java","avl-tree"],"owner":{"account_id":27279404,"reputation":1,"user_id":20799529,"display_name":"Broil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694273293,"creation_date":1694271920,"question_id":77072808,"body_markdown":"**Problem**:\r\n\r\nI&#39;m currently working on implementing an AVL tree in Java as part of a data structures project. I&#39;ve encountered an issue with the level order traversal of the tree after performing insertions. Despite several attempts at debugging, I haven&#39;t been able to pinpoint the problem.\r\n\r\nAVL class\r\n\r\n```\r\nimport java.util.LinkedList;\r\nimport java.util.Queue;\r\n\r\npublic class AVL{\r\n\tpublic BinaryNode root;\r\n\tpublic AVL(){\r\n\t\tthis.root = null;\r\n\t}\r\n\r\n\t//preorder traversal\r\n\tpublic void preorder(BinaryNode node){\r\n\t\tif(node==null){\r\n\t\t\treturn;\r\n\t\t}else{\r\n\t\t\tSystem.out.print(node.value+&quot; &quot;);\r\n\t\t\tpreorder(node.left);\r\n\t\t\tpreorder(node.right);\r\n\t\t}\r\n\t}\r\n\r\n\t//inorder traversal\r\n\tpublic void inorder(BinaryNode node){\r\n\t\tif(node==null){\r\n\t\t\treturn;\r\n\t\t}else{\r\n\t\t\tinorder(node.left);\r\n\t\t\tSystem.out.print(node.value+&quot; &quot;);\r\n\t\t\tinorder(node.right);\r\n\t\t}\r\n\t}\r\n\r\n\t//postorder traversal\r\n\tpublic void postorder(BinaryNode node){\r\n\t\tif(node==null){\r\n\t\t\treturn;\r\n\t\t}else{\r\n\t\t\tpostorder(node.left);\r\n\t\t\tpostorder(node.right);\r\n\t\t\tSystem.out.print(node.value+&quot; &quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t//level order\r\n\tpublic void levelorder(){\r\n\t\tQueue&lt;BinaryNode&gt; queue = new LinkedList&lt;BinaryNode&gt;();\r\n\t\tqueue.add(root);\r\n\t\twhile(!queue.isEmpty()){\r\n\t\t\tBinaryNode presNode = queue.remove();\r\n\t\t\tSystem.out.print(presNode.value+&quot; &quot;);\r\n\t\t\tif(presNode.left!= null){\r\n\t\t\t\tqueue.add(presNode.left);\r\n\t\t\t}\r\n\t\t\tif(presNode.right != null){\r\n\t\t\t\tqueue.add(presNode.right);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//search\r\n\tpublic BinaryNode search(BinaryNode node, int value){\r\n\t\tif(node== null){\r\n\t\t\tSystem.out.print(&quot;node not found&quot;);\r\n\t\t\treturn null;\r\n\t\t}else if(node.value == value){\r\n\t\t\tSystem.out.print(value+&quot; has been found&quot;);\r\n\t\t\treturn node;\r\n\t\t}else if(node.left != null){\r\n\t\t\treturn search(node.left, value);\r\n\t\t}else if(node.right != null){\r\n\t\t\treturn search(node.right, value);\r\n\t\t}\r\n\t\treturn node;\r\n\t}\r\n\r\n\t//search public\r\n\tpublic void search(int value){\r\n\t\tsearch(root, value);\r\n\t}\r\n\r\n\t//getheight\r\n\tpublic int getheight(BinaryNode node){\r\n\t\tif(node== null){\r\n\t\t\treturn 0;\r\n\t\t}else{\r\n\t\t\treturn node.height;\r\n\t\t}\r\n\t}\r\n\r\n\t//right spin\r\n\tpublic BinaryNode rightrotate(BinaryNode disbalNode){\r\n\t\tBinaryNode newNode = disbalNode.left;\r\n\t\tdisbalNode.left = disbalNode.left.right;\r\n\t\tnewNode.right = disbalNode;\r\n\t\tdisbalNode.height = 1 + Math.max(getheight(disbalNode.left),getheight(disbalNode.right));\r\n\t\tnewNode.height = 1 + Math.max(getheight(newNode.left),getheight(newNode.right));\r\n\t\treturn newNode;\r\n\t}\r\n\r\n\t//left rotate\r\n\tpublic BinaryNode leftrotate(BinaryNode disbalNode){\r\n\t\tBinaryNode newNode = disbalNode.right;\r\n\t\tdisbalNode.right = disbalNode.right.left;\r\n\t\tnewNode.left = disbalNode;\r\n\t\tdisbalNode.height = 1 + Math.max(getheight(disbalNode.left),getheight(disbalNode.right));\r\n\t\tnewNode.height = 1 + Math.max(getheight(newNode.left),getheight(newNode.right));\r\n\t\treturn newNode;\r\n\t}\r\n\r\n\t//getbalance\r\n\tpublic int getbalance(BinaryNode node){\r\n\t\tif(node == null){\r\n\t\t\treturn 0;\r\n\t\t}else{\r\n\t\t\treturn getheight(node.left) - getheight(node.right);\r\n\t\t}\r\n\t}\r\n\r\n\t//insert private\r\n\tprivate BinaryNode insert(BinaryNode node, int value){\r\n\t\tif(node==null){\r\n\t\t\tBinaryNode newNode = new BinaryNode();\r\n\t\t\tnewNode.value = value;\r\n\t\t\tif(this.root == null){\r\n\t\t\t\tthis.root = newNode;\r\n\t\t\t}\r\n\t\t\tnewNode.height = 1;\r\n\t\t\treturn newNode;\r\n\t\t}else if(value&lt;node.value){\r\n\t\t\tnode.left = insert(node.left, value);\r\n\t\t}else if(value&gt;node.value){\r\n\t\t\tnode.right = insert(node.right, value);\r\n\t\t}\r\n\r\n\t\tnode.height = 1 + Math.max(getheight(node.left), getheight(node.right));\r\n\t\tint balance = getbalance(node);\r\n\r\n\t\tif(balance&gt;1 &amp;&amp; value&lt;node.left.value){\r\n\t\t\treturn rightrotate(node);\r\n\t\t}\r\n\t\tif(balance&gt;1 &amp;&amp; value&gt;node.left.value){\r\n\t\t\tnode.left = leftrotate(node.left);\r\n\t\t\treturn rightrotate(node);\r\n\t\t}\r\n\t\tif(balance&lt;-1 &amp;&amp; value&gt;node.right.value){\r\n\t\t\treturn leftrotate(node);\r\n\t\t}\r\n\t\tif(balance&lt;-1 &amp;&amp; value&lt;node.right.value){\r\n\t\t\tnode.right = rightrotate(node.right);\r\n\t\t\treturn leftrotate(node);\r\n\t\t}\r\n\t\treturn node;\r\n\t}\r\n\r\n\r\n\t//insert public\r\n\tpublic void insert(int value){\r\n\t\tinsert(root,value);\r\n\t}\r\n}\r\n```\r\n\r\nMain class\r\n\r\n```\r\nclass App{\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tAVL tree = new AVL();\r\n\t\ttree.insert(5);\r\n\t\ttree.insert(10);\r\n\t\ttree.insert(15);\r\n\t\ttree.insert(20);\r\n\t\ttree.levelorder();\r\n\r\n\t}\r\n}\r\n```\r\n\r\nThe issue appears to be related to the insert method in the AVL class. I suspect that I&#39;m not correctly updating the root of the tree after inserting nodes, which is causing the incorrect level order traversal.\r\n\r\nWhat I&#39;ve Tried:\r\nI have reviewed my insert method and made changes to ensure that the tree&#39;s height and balance factors are updated correctly. However, I&#39;m still not getting the expected output.\r\n\r\nExpected Output vs. Actual Output:\r\nI expect the level order traversal to output &quot;5 15 10 20&quot; after inserting the values in the order mentioned. However, the actual output is different, and I can&#39;t figure out what&#39;s causing the discrepancy.\r\n\r\nI&#39;m looking for guidance on resolving this specific issue with the **`insert`** method and updating the root properly. Any help or insights would be greatly appreciated. Thank you!","title":"Java AVL Tree Insertion Issue: Incorrect Level Order Traversal","body":"<p><strong>Problem</strong>:</p>\n<p>I'm currently working on implementing an AVL tree in Java as part of a data structures project. I've encountered an issue with the level order traversal of the tree after performing insertions. Despite several attempts at debugging, I haven't been able to pinpoint the problem.</p>\n<p>AVL class</p>\n<pre><code>import java.util.LinkedList;\nimport java.util.Queue;\n\npublic class AVL{\n    public BinaryNode root;\n    public AVL(){\n        this.root = null;\n    }\n\n    //preorder traversal\n    public void preorder(BinaryNode node){\n        if(node==null){\n            return;\n        }else{\n            System.out.print(node.value+&quot; &quot;);\n            preorder(node.left);\n            preorder(node.right);\n        }\n    }\n\n    //inorder traversal\n    public void inorder(BinaryNode node){\n        if(node==null){\n            return;\n        }else{\n            inorder(node.left);\n            System.out.print(node.value+&quot; &quot;);\n            inorder(node.right);\n        }\n    }\n\n    //postorder traversal\n    public void postorder(BinaryNode node){\n        if(node==null){\n            return;\n        }else{\n            postorder(node.left);\n            postorder(node.right);\n            System.out.print(node.value+&quot; &quot;);\n        }\n    }\n\n    //level order\n    public void levelorder(){\n        Queue&lt;BinaryNode&gt; queue = new LinkedList&lt;BinaryNode&gt;();\n        queue.add(root);\n        while(!queue.isEmpty()){\n            BinaryNode presNode = queue.remove();\n            System.out.print(presNode.value+&quot; &quot;);\n            if(presNode.left!= null){\n                queue.add(presNode.left);\n            }\n            if(presNode.right != null){\n                queue.add(presNode.right);\n            }\n        }\n    }\n\n    //search\n    public BinaryNode search(BinaryNode node, int value){\n        if(node== null){\n            System.out.print(&quot;node not found&quot;);\n            return null;\n        }else if(node.value == value){\n            System.out.print(value+&quot; has been found&quot;);\n            return node;\n        }else if(node.left != null){\n            return search(node.left, value);\n        }else if(node.right != null){\n            return search(node.right, value);\n        }\n        return node;\n    }\n\n    //search public\n    public void search(int value){\n        search(root, value);\n    }\n\n    //getheight\n    public int getheight(BinaryNode node){\n        if(node== null){\n            return 0;\n        }else{\n            return node.height;\n        }\n    }\n\n    //right spin\n    public BinaryNode rightrotate(BinaryNode disbalNode){\n        BinaryNode newNode = disbalNode.left;\n        disbalNode.left = disbalNode.left.right;\n        newNode.right = disbalNode;\n        disbalNode.height = 1 + Math.max(getheight(disbalNode.left),getheight(disbalNode.right));\n        newNode.height = 1 + Math.max(getheight(newNode.left),getheight(newNode.right));\n        return newNode;\n    }\n\n    //left rotate\n    public BinaryNode leftrotate(BinaryNode disbalNode){\n        BinaryNode newNode = disbalNode.right;\n        disbalNode.right = disbalNode.right.left;\n        newNode.left = disbalNode;\n        disbalNode.height = 1 + Math.max(getheight(disbalNode.left),getheight(disbalNode.right));\n        newNode.height = 1 + Math.max(getheight(newNode.left),getheight(newNode.right));\n        return newNode;\n    }\n\n    //getbalance\n    public int getbalance(BinaryNode node){\n        if(node == null){\n            return 0;\n        }else{\n            return getheight(node.left) - getheight(node.right);\n        }\n    }\n\n    //insert private\n    private BinaryNode insert(BinaryNode node, int value){\n        if(node==null){\n            BinaryNode newNode = new BinaryNode();\n            newNode.value = value;\n            if(this.root == null){\n                this.root = newNode;\n            }\n            newNode.height = 1;\n            return newNode;\n        }else if(value&lt;node.value){\n            node.left = insert(node.left, value);\n        }else if(value&gt;node.value){\n            node.right = insert(node.right, value);\n        }\n\n        node.height = 1 + Math.max(getheight(node.left), getheight(node.right));\n        int balance = getbalance(node);\n\n        if(balance&gt;1 &amp;&amp; value&lt;node.left.value){\n            return rightrotate(node);\n        }\n        if(balance&gt;1 &amp;&amp; value&gt;node.left.value){\n            node.left = leftrotate(node.left);\n            return rightrotate(node);\n        }\n        if(balance&lt;-1 &amp;&amp; value&gt;node.right.value){\n            return leftrotate(node);\n        }\n        if(balance&lt;-1 &amp;&amp; value&lt;node.right.value){\n            node.right = rightrotate(node.right);\n            return leftrotate(node);\n        }\n        return node;\n    }\n\n\n    //insert public\n    public void insert(int value){\n        insert(root,value);\n    }\n}\n</code></pre>\n<p>Main class</p>\n<pre><code>class App{\n    public static void main(String[] args) {\n\n        AVL tree = new AVL();\n        tree.insert(5);\n        tree.insert(10);\n        tree.insert(15);\n        tree.insert(20);\n        tree.levelorder();\n\n    }\n}\n</code></pre>\n<p>The issue appears to be related to the insert method in the AVL class. I suspect that I'm not correctly updating the root of the tree after inserting nodes, which is causing the incorrect level order traversal.</p>\n<p>What I've Tried:\nI have reviewed my insert method and made changes to ensure that the tree's height and balance factors are updated correctly. However, I'm still not getting the expected output.</p>\n<p>Expected Output vs. Actual Output:\nI expect the level order traversal to output &quot;5 15 10 20&quot; after inserting the values in the order mentioned. However, the actual output is different, and I can't figure out what's causing the discrepancy.</p>\n<p>I'm looking for guidance on resolving this specific issue with the <strong><code>insert</code></strong> method and updating the root properly. Any help or insights would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","spring-boot","security","jwt","authorization"],"comments":[{"owner":{"account_id":19741384,"reputation":77,"user_id":14454716,"display_name":"Kabil"},"score":0,"creation_date":1694922494,"post_id":77071508,"comment_id":135954180,"body_markdown":"I also used the same tutorial to create my application but I used the &#39;lambda method&#39; to configure the securityFilterChain function, and it worked fine.","body":"I also used the same tutorial to create my application but I used the &#39;lambda method&#39; to configure the securityFilterChain function, and it worked fine."}],"answers":[{"tags":[],"owner":{"account_id":20851443,"reputation":381,"user_id":15315878,"display_name":"Luigi Woodhouse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694272228,"creation_date":1694272228,"answer_id":77072830,"question_id":77071508,"body_markdown":"You are forgetting to enable CORS (Cross-origin resource sharing). Do this by adding it to your filterchain method\r\n\r\n    http.cors().and().csrf().disable()","title":"JWT login does not work despite successful Registration","body":"<p>You are forgetting to enable CORS (Cross-origin resource sharing). Do this by adding it to your filterchain method</p>\n<pre><code>http.cors().and().csrf().disable()\n</code></pre>\n"}],"owner":{"account_id":29400680,"reputation":3,"user_id":22526928,"display_name":"Simon "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77072830,"answer_count":1,"score":0,"last_activity_date":1694272228,"creation_date":1694249741,"question_id":77071508,"body_markdown":"I&#39;m having an issue with authentication in my first JwtSecurity application. User registration works fine, and accessing secured endpoints with a token is also successful. However, the &#39;authenticate&#39;(login) operation always results in a 403 Forbidden error. I&#39;m unsure how to proceed. I&#39;m using Spring Boot version 3.0.10. Here are snippets of my code\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/auth&quot;)\r\n@RequiredArgsConstructor\r\npublic class AuthenticationController {\r\n\r\n@PostMapping(&quot;/authenticate&quot;)\r\npublic ResponseEntity&lt;AuthenticationResponse&gt; authenticate(\r\n        @RequestBody AuthenticationRequest request\r\n) {\r\n    return ResponseEntity.ok(service.authenticate(request));\r\n}\r\n```\r\n\r\n```\r\nprivate final AuthenticationManager authenticationManager;\r\npublic AuthenticationResponse authenticate(AuthenticationRequest request) {\r\n    authenticationManager.authenticate(\r\n            new UsernamePasswordAuthenticationToken(\r\n                    request.getEmail(),\r\n                    request.getPassword()\r\n            )\r\n    );\r\n    var user = userRepository.findByEmail(request.getEmail())\r\n            .orElseThrow(() -&gt; new RuntimeException(&quot;User not found&quot;));\r\n    var jwtToken = jwtService.generateToken(user);\r\n    return AuthenticationResponse.builder()\r\n            .token(jwtToken)\r\n            .build();\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class ApplicationConfig {\r\n\r\n    private final UserRepository userRepository;\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config)  throws Exception  {\r\n        return config.getAuthenticationManager();\r\n    }\r\n\r\n   @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService());\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n        return authProvider;\r\n    }\r\n```\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter{\r\n\r\n    private final JwtService jwtService;\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            @NonNull HttpServletRequest request,\r\n            @NonNull HttpServletResponse response,\r\n            @NonNull FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n        final String jwt;\r\n        final String userEmail;\r\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n        jwt = authHeader.substring(7);\r\n        userEmail= jwtService.extractUsername(jwt);\r\n        if(userEmail!=null &amp;&amp; SecurityContextHolder.getContext().getAuthentication()==null){\r\n            UserDetails userDetails =  this.userDetailsService.loadUserByUsername(userEmail);\r\n            if(jwtService.isTokenValid(jwt,userDetails)){\r\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails,\r\n                        null,\r\n                        userDetails.getAuthorities()\r\n                );\r\n                authToken.setDetails(\r\n                        new WebAuthenticationDetailsSource().buildDetails(request)\r\n                );\r\n                SecurityContextHolder.getContext().setAuthentication(authToken);\r\n            }\r\n\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\n```\r\nprivate final JwtAuthenticationFilter jwtAuthenticationFilter;\r\nprivate final AuthenticationProvider authenticationProvider;\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n   http\r\n           .csrf()\r\n           .disable()\r\n           .authorizeHttpRequests()\r\n           .requestMatchers(&quot;api/v1/auth/**&quot;)\r\n           .permitAll()\r\n           .anyRequest()\r\n           .authenticated()\r\n           .and()\r\n           .sessionManagement()\r\n           .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n           .and()\r\n           .authenticationProvider(authenticationProvider)\r\n           .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n    return http.build();\r\n}\r\n```\r\n\r\nI followed an Amigoscode JWT authorization tutorial, and I&#39;ve double-checked my implementation, but I&#39;m still facing an issue. I can&#39;t find the problem despite comparing it with the tutorial and searching online. Can you help me, please\r\n\r\n","title":"JWT login does not work despite successful Registration","body":"<p>I'm having an issue with authentication in my first JwtSecurity application. User registration works fine, and accessing secured endpoints with a token is also successful. However, the 'authenticate'(login) operation always results in a 403 Forbidden error. I'm unsure how to proceed. I'm using Spring Boot version 3.0.10. Here are snippets of my code</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/auth&quot;)\n@RequiredArgsConstructor\npublic class AuthenticationController {\n\n@PostMapping(&quot;/authenticate&quot;)\npublic ResponseEntity&lt;AuthenticationResponse&gt; authenticate(\n        @RequestBody AuthenticationRequest request\n) {\n    return ResponseEntity.ok(service.authenticate(request));\n}\n</code></pre>\n<pre><code>private final AuthenticationManager authenticationManager;\npublic AuthenticationResponse authenticate(AuthenticationRequest request) {\n    authenticationManager.authenticate(\n            new UsernamePasswordAuthenticationToken(\n                    request.getEmail(),\n                    request.getPassword()\n            )\n    );\n    var user = userRepository.findByEmail(request.getEmail())\n            .orElseThrow(() -&gt; new RuntimeException(&quot;User not found&quot;));\n    var jwtToken = jwtService.generateToken(user);\n    return AuthenticationResponse.builder()\n            .token(jwtToken)\n            .build();\n}\n</code></pre>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class ApplicationConfig {\n\n    private final UserRepository userRepository;\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config)  throws Exception  {\n        return config.getAuthenticationManager();\n    }\n\n   @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService());\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n</code></pre>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class JwtAuthenticationFilter extends OncePerRequestFilter{\n\n    private final JwtService jwtService;\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(\n            @NonNull HttpServletRequest request,\n            @NonNull HttpServletResponse response,\n            @NonNull FilterChain filterChain)\n            throws ServletException, IOException {\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwt;\n        final String userEmail;\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n        jwt = authHeader.substring(7);\n        userEmail= jwtService.extractUsername(jwt);\n        if(userEmail!=null &amp;&amp; SecurityContextHolder.getContext().getAuthentication()==null){\n            UserDetails userDetails =  this.userDetailsService.loadUserByUsername(userEmail);\n            if(jwtService.isTokenValid(jwt,userDetails)){\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\n                        userDetails,\n                        null,\n                        userDetails.getAuthorities()\n                );\n                authToken.setDetails(\n                        new WebAuthenticationDetailsSource().buildDetails(request)\n                );\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<pre><code>private final JwtAuthenticationFilter jwtAuthenticationFilter;\nprivate final AuthenticationProvider authenticationProvider;\n@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n   http\n           .csrf()\n           .disable()\n           .authorizeHttpRequests()\n           .requestMatchers(&quot;api/v1/auth/**&quot;)\n           .permitAll()\n           .anyRequest()\n           .authenticated()\n           .and()\n           .sessionManagement()\n           .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n           .and()\n           .authenticationProvider(authenticationProvider)\n           .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n\n    return http.build();\n}\n</code></pre>\n<p>I followed an Amigoscode JWT authorization tutorial, and I've double-checked my implementation, but I'm still facing an issue. I can't find the problem despite comparing it with the tutorial and searching online. Can you help me, please</p>\n"},{"tags":["java","android","android-studio","javac"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1653304946,"post_id":72347586,"comment_id":127811089,"body_markdown":"take a look at [this thread](https://stackoverflow.com/questions/68387270/android-studio-error-installed-build-tools-revision-31-0-0-is-corrupted) if you haven&#39;t already .","body":"take a look at <a href=\"https://stackoverflow.com/questions/68387270/android-studio-error-installed-build-tools-revision-31-0-0-is-corrupted\">this thread</a> if you haven&#39;t already ."}],"answers":[{"tags":[],"owner":{"account_id":4073700,"reputation":39,"user_id":3345898,"display_name":"SeveneduS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663856782,"creation_date":1663845058,"answer_id":73813576,"question_id":72347586,"body_markdown":"Try to execute the following command inside your project directory:\r\n\r\n&gt; ./gradlew clean\r\n\r\nand re-run it in the studio.","title":"How to solve Could not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39; - Android","body":"<p>Try to execute the following command inside your project directory:</p>\n<blockquote>\n<p>./gradlew clean</p>\n</blockquote>\n<p>and re-run it in the studio.</p>\n"}],"owner":{"account_id":17295127,"reputation":292,"user_id":12525976,"display_name":"Asad Mehmood"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13966,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1694271975,"creation_date":1653304375,"question_id":72347586,"body_markdown":"I am trying to run Android project in an AVD Manager. When the program compiles it throws an   exception.\r\n\r\n    Could not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    &gt; Installed Build Tools revision 32.0.0 is corrupted. Remove and install again using the SDK Manager.\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.internal.tasks.TaskDependencyResolveException: Could not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    \tat org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext.getDependencies(CachingTaskDependencyResolveContext.java:69)\r\n    \tat org.gradle.execution.plan.TaskDependencyResolver.resolveDependenciesFor(TaskDependencyResolver.java:46)\r\n    \tat org.gradle.execution.plan.LocalTaskNode.getDependencies(LocalTaskNode.java:160)\r\n    \tat org.gradle.execution.plan.LocalTaskNode.resolveDependencies(LocalTaskNode.java:128)\r\n    \tat org.gradle.execution.plan.DefaultExecutionPlan.doAddNodes(DefaultExecutionPlan.java:163)\r\n    \tat org.gradle.execution.plan.DefaultExecutionPlan.addEntryTasks(DefaultExecutionPlan.java:133)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.addEntryTasks(DefaultTaskExecutionGraph.java:147)\r\n    \tat org.gradle.execution.TaskNameResolvingBuildConfigurationAction.configure(TaskNameResolvingBuildConfigurationAction.java:49)\r\n    \tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:55)\r\n    \tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.access$000(DefaultBuildConfigurationActionExecuter.java:26)\r\n    \tat org.gradle.execution.DefaultBuildConfigurationActionExecuter$1.proceed(DefaultBuildConfigurationActionExecuter.java:63)\r\n    \tat org.gradle.execution.DefaultTasksBuildExecutionAction.configure(DefaultTasksBuildExecutionAction.java:45)\r\n    \tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:55)....\r\n    Caused by: java.lang.IllegalStateException: Installed Build Tools revision 32.0.0 is corrupted. Remove and install again using the SDK Manager.\r\n    \tat com.android.builder.sdk.DefaultSdkLoader.getTargetInfo(DefaultSdkLoader.java:183)\r\n    \tat com.android.build.gradle.internal.SdkHandler.initTarget(SdkHandler.java:113)\r\n    \t... 137 more\r\n\r\n\r\nI have tried several solutions for a workaround. I have tried to change CompledSDK, TargetSDK and BuildTools to 31, 30 and 29 but none of them worked for me.\r\n\r\nAny help!","title":"How to solve Could not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39; - Android","body":"<p>I am trying to run Android project in an AVD Manager. When the program compiles it throws an   exception.</p>\n<pre><code>Could not determine the dependencies of task ':app:compileDebugJavaWithJavac'.\n&gt; Installed Build Tools revision 32.0.0 is corrupted. Remove and install again using the SDK Manager.\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.internal.tasks.TaskDependencyResolveException: Could not determine the dependencies of task ':app:compileDebugJavaWithJavac'.\n    at org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext.getDependencies(CachingTaskDependencyResolveContext.java:69)\n    at org.gradle.execution.plan.TaskDependencyResolver.resolveDependenciesFor(TaskDependencyResolver.java:46)\n    at org.gradle.execution.plan.LocalTaskNode.getDependencies(LocalTaskNode.java:160)\n    at org.gradle.execution.plan.LocalTaskNode.resolveDependencies(LocalTaskNode.java:128)\n    at org.gradle.execution.plan.DefaultExecutionPlan.doAddNodes(DefaultExecutionPlan.java:163)\n    at org.gradle.execution.plan.DefaultExecutionPlan.addEntryTasks(DefaultExecutionPlan.java:133)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.addEntryTasks(DefaultTaskExecutionGraph.java:147)\n    at org.gradle.execution.TaskNameResolvingBuildConfigurationAction.configure(TaskNameResolvingBuildConfigurationAction.java:49)\n    at org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:55)\n    at org.gradle.execution.DefaultBuildConfigurationActionExecuter.access$000(DefaultBuildConfigurationActionExecuter.java:26)\n    at org.gradle.execution.DefaultBuildConfigurationActionExecuter$1.proceed(DefaultBuildConfigurationActionExecuter.java:63)\n    at org.gradle.execution.DefaultTasksBuildExecutionAction.configure(DefaultTasksBuildExecutionAction.java:45)\n    at org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:55)....\nCaused by: java.lang.IllegalStateException: Installed Build Tools revision 32.0.0 is corrupted. Remove and install again using the SDK Manager.\n    at com.android.builder.sdk.DefaultSdkLoader.getTargetInfo(DefaultSdkLoader.java:183)\n    at com.android.build.gradle.internal.SdkHandler.initTarget(SdkHandler.java:113)\n    ... 137 more\n</code></pre>\n<p>I have tried several solutions for a workaround. I have tried to change CompledSDK, TargetSDK and BuildTools to 31, 30 and 29 but none of them worked for me.</p>\n<p>Any help!</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1694265304,"post_id":77072356,"comment_id":135870382,"body_markdown":"Use a real layout Manager instead of null layout, and change the preferred size of the jlabel","body":"Use a real layout Manager instead of null layout, and change the preferred size of the jlabel"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694266472,"post_id":77072356,"comment_id":135870508,"body_markdown":"[this.setLayout(null);](https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing)","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing\" rel=\"nofollow noreferrer\">this.setLayout(null);</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1694271526,"post_id":77072356,"comment_id":135870998,"body_markdown":"I would like to know why you posted the same question twice, rather than edit your [other question](https://stackoverflow.com/questions/77066833/how-to-make-image-automatically-resize-in-the-jlabel-after-it-is-selected-by-the). Did the links in my comments not help?","body":"I would like to know why you posted the same question twice, rather than edit your <a href=\"https://stackoverflow.com/questions/77066833/how-to-make-image-automatically-resize-in-the-jlabel-after-it-is-selected-by-the\">other question</a>. Did the links in my comments not help?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1694276684,"post_id":77072356,"comment_id":135871498,"body_markdown":"The [Stretch Icon](https://tips4java.wordpress.com/2012/03/31/stretch-icon/) will dynamically resize the image to fill the space available to the label","body":"The <a href=\"https://tips4java.wordpress.com/2012/03/31/stretch-icon/\" rel=\"nofollow noreferrer\">Stretch Icon</a> will dynamically resize the image to fill the space available to the label"},{"owner":{"account_id":28253565,"reputation":1,"user_id":21599382,"display_name":"beginner"},"score":0,"creation_date":1694309613,"post_id":77072356,"comment_id":135874119,"body_markdown":"@Abra sorry i didn&#39;t actually saw ur comment before producing a new on. that link helped me","body":"@Abra sorry i didn&#39;t actually saw ur comment before producing a new on. that link helped me"}],"owner":{"account_id":28253565,"reputation":1,"user_id":21599382,"display_name":"beginner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694271965,"creation_date":1694264225,"question_id":77072356,"body_markdown":"Actually I want to create a car dealer application, using Java _Swing_, in which I want the user to select an image of the car which he wants to sell and that image should be visible automatically in the `JLabel` in the same `JFrame`. So the user will select an image from his own device, that image might be big or small. So how to make that image resize automatically according to my `JLabel`?\r\n\r\nI tried few things but it didn&#39;t help, the image won&#39;t fit properly inside my `JLabel`.\r\n```java\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\n\r\npublic class Add_car extends JFrame {\r\n    private JLabel carno_lbl, ownername_lbl, carname_lbl, amount_lbl, imagelbl, heading, background;\r\n    private JTextField carno_txt, ownername_txt, carname_txt, amount_txt;\r\n    private JButton selimage_btn;\r\n\r\n    public Add_car() {\r\n        this.setLayout(null);\r\n\r\n        background = new JLabel(new ImageIcon(&quot;D:\\\\Sanket\\\\Java projects\\\\Car Management\\\\images\\\\lambo.jpg&quot;));\r\n        background.setBounds(0, 0, 1200, 800);\r\n\r\n        heading = new JLabel(&quot;***Car Dealers*** &quot;, JLabel.CENTER);\r\n        heading.setFont(new Font(&quot;gabriola&quot;, Font.BOLD, 30));\r\n        heading.setBounds(470, 25, 210, 60);\r\n        heading.setForeground(Color.RED);\r\n        background.add(heading);\r\n\r\n        carname_lbl = new JLabel(&quot;Model : &quot;);\r\n        carname_lbl.setForeground(Color.MAGENTA);\r\n        carname_lbl.setFont(new Font(&quot;gabriola&quot;, Font.ITALIC, 26));\r\n        carname_lbl.setBounds(130, 130, 150, 50);\r\n        background.add(carname_lbl);\r\n\r\n        carname_txt = new JTextField();\r\n        carname_txt.setFont(new Font(&quot;&quot;, Font.ITALIC, 23));\r\n        carname_txt.setBounds(290, 130, 350, 30);\r\n        background.add(carname_txt);\r\n\r\n        carno_lbl = new JLabel(&quot;Car Number :&quot;);\r\n        carno_lbl.setFont(new Font(&quot;gabriola&quot;, Font.ITALIC, 26));\r\n        carno_lbl.setBounds(130, 190, 150, 50);\r\n        background.add(carno_lbl);\r\n\r\n        carno_txt = new JTextField();\r\n        carno_txt.setFont(new Font(&quot;gabriola&quot;, Font.ITALIC, 26));\r\n        carno_txt.setBounds(290, 190, 350, 30);\r\n        background.add(carno_txt);\r\n\r\n        ownername_lbl = new JLabel(&quot;Seller name : &quot;);\r\n        ownername_lbl.setFont(new Font(&quot;gabriola&quot;, Font.ITALIC, 26));\r\n        ownername_lbl.setBounds(130, 250, 150, 50);\r\n        background.add(ownername_lbl);\r\n\r\n        ownername_txt = new JTextField();\r\n        ownername_txt.setFont(new Font(&quot;gabriola&quot;, Font.ITALIC, 26));\r\n        ownername_txt.setBounds(290, 250, 350, 30);\r\n        background.add(ownername_txt);\r\n\r\n        amount_lbl = new JLabel(&quot;SELLING AMOUNT : &quot;);\r\n        amount_lbl.setFont(new Font(&quot;gabriola&quot;, Font.ITALIC, 26));\r\n        amount_lbl.setBounds(130, 310, 150, 50);\r\n        background.add(amount_lbl);\r\n\r\n        amount_txt = new JTextField();\r\n        amount_txt.setFont(new Font(&quot;gabriola&quot;, Font.ITALIC, 26));\r\n        amount_txt.setBounds(290, 310, 350, 30);\r\n        background.add(amount_txt);\r\n\r\n        imagelbl = new JLabel(new ImageIcon(&quot;&quot;));\r\n        imagelbl.setBounds(680, 110, 500, 500);\r\n        imagelbl.setBackground(Color.WHITE);\r\n        background.add(imagelbl);\r\n\r\n        selimage_btn = new JButton(&quot;Select Image&quot;);\r\n        selimage_btn.setBounds(850, 620, 150, 50);\r\n        background.add(selimage_btn);\r\n        selimage_btn.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                JFileChooser jf = new JFileChooser();\r\n                int result = jf.showOpenDialog(null);\r\n                if (result == JFileChooser.APPROVE_OPTION) {\r\n                    try {\r\n                        File file = jf.getSelectedFile();\r\n                        BufferedImage picture = ImageIO.read(file);\r\n\r\n                        imagelbl.setIcon(new ImageIcon(picture));\r\n\r\n                    }\r\n                    catch (Exception ioe) {\r\n                        JOptionPane.showMessageDialog(null, &quot;selectimg:&quot; + ioe.toString());\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this.setContentPane(background);\r\n        this.setSize(1200, 800);\r\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        this.setLocationRelativeTo(null);\r\n        this.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Add_car();\r\n    }\r\n}\r\n```\r\n[enter image description here](https://i.stack.imgur.com/ghYE0.png)\r\n\r\nI tried few things but all of them led to many errors so I removed them, still I want to resize my image.","title":"How to make image automatically resize in the JLabel after being selected by the user","body":"<p>Actually I want to create a car dealer application, using Java <em>Swing</em>, in which I want the user to select an image of the car which he wants to sell and that image should be visible automatically in the <code>JLabel</code> in the same <code>JFrame</code>. So the user will select an image from his own device, that image might be big or small. So how to make that image resize automatically according to my <code>JLabel</code>?</p>\n<p>I tried few things but it didn't help, the image won't fit properly inside my <code>JLabel</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.imageio.ImageIO;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\n\npublic class Add_car extends JFrame {\n    private JLabel carno_lbl, ownername_lbl, carname_lbl, amount_lbl, imagelbl, heading, background;\n    private JTextField carno_txt, ownername_txt, carname_txt, amount_txt;\n    private JButton selimage_btn;\n\n    public Add_car() {\n        this.setLayout(null);\n\n        background = new JLabel(new ImageIcon(&quot;D:\\\\Sanket\\\\Java projects\\\\Car Management\\\\images\\\\lambo.jpg&quot;));\n        background.setBounds(0, 0, 1200, 800);\n\n        heading = new JLabel(&quot;***Car Dealers*** &quot;, JLabel.CENTER);\n        heading.setFont(new Font(&quot;gabriola&quot;, Font.BOLD, 30));\n        heading.setBounds(470, 25, 210, 60);\n        heading.setForeground(Color.RED);\n        background.add(heading);\n\n        carname_lbl = new JLabel(&quot;Model : &quot;);\n        carname_lbl.setForeground(Color.MAGENTA);\n        carname_lbl.setFont(new Font(&quot;gabriola&quot;, Font.ITALIC, 26));\n        carname_lbl.setBounds(130, 130, 150, 50);\n        background.add(carname_lbl);\n\n        carname_txt = new JTextField();\n        carname_txt.setFont(new Font(&quot;&quot;, Font.ITALIC, 23));\n        carname_txt.setBounds(290, 130, 350, 30);\n        background.add(carname_txt);\n\n        carno_lbl = new JLabel(&quot;Car Number :&quot;);\n        carno_lbl.setFont(new Font(&quot;gabriola&quot;, Font.ITALIC, 26));\n        carno_lbl.setBounds(130, 190, 150, 50);\n        background.add(carno_lbl);\n\n        carno_txt = new JTextField();\n        carno_txt.setFont(new Font(&quot;gabriola&quot;, Font.ITALIC, 26));\n        carno_txt.setBounds(290, 190, 350, 30);\n        background.add(carno_txt);\n\n        ownername_lbl = new JLabel(&quot;Seller name : &quot;);\n        ownername_lbl.setFont(new Font(&quot;gabriola&quot;, Font.ITALIC, 26));\n        ownername_lbl.setBounds(130, 250, 150, 50);\n        background.add(ownername_lbl);\n\n        ownername_txt = new JTextField();\n        ownername_txt.setFont(new Font(&quot;gabriola&quot;, Font.ITALIC, 26));\n        ownername_txt.setBounds(290, 250, 350, 30);\n        background.add(ownername_txt);\n\n        amount_lbl = new JLabel(&quot;SELLING AMOUNT : &quot;);\n        amount_lbl.setFont(new Font(&quot;gabriola&quot;, Font.ITALIC, 26));\n        amount_lbl.setBounds(130, 310, 150, 50);\n        background.add(amount_lbl);\n\n        amount_txt = new JTextField();\n        amount_txt.setFont(new Font(&quot;gabriola&quot;, Font.ITALIC, 26));\n        amount_txt.setBounds(290, 310, 350, 30);\n        background.add(amount_txt);\n\n        imagelbl = new JLabel(new ImageIcon(&quot;&quot;));\n        imagelbl.setBounds(680, 110, 500, 500);\n        imagelbl.setBackground(Color.WHITE);\n        background.add(imagelbl);\n\n        selimage_btn = new JButton(&quot;Select Image&quot;);\n        selimage_btn.setBounds(850, 620, 150, 50);\n        background.add(selimage_btn);\n        selimage_btn.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JFileChooser jf = new JFileChooser();\n                int result = jf.showOpenDialog(null);\n                if (result == JFileChooser.APPROVE_OPTION) {\n                    try {\n                        File file = jf.getSelectedFile();\n                        BufferedImage picture = ImageIO.read(file);\n\n                        imagelbl.setIcon(new ImageIcon(picture));\n\n                    }\n                    catch (Exception ioe) {\n                        JOptionPane.showMessageDialog(null, &quot;selectimg:&quot; + ioe.toString());\n                    }\n                }\n            }\n        });\n        this.setContentPane(background);\n        this.setSize(1200, 800);\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setLocationRelativeTo(null);\n        this.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new Add_car();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ghYE0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried few things but all of them led to many errors so I removed them, still I want to resize my image.</p>\n"},{"tags":["java","while-loop","time-complexity"],"comments":[{"owner":{"account_id":1288816,"reputation":4033,"user_id":1241334,"accept_rate":100,"display_name":"Jonny Henly"},"score":1,"creation_date":1694114073,"post_id":77062183,"comment_id":135852322,"body_markdown":"The time complexity of the while loop is `O(log2(n))`. Not sure about your `T(N)` equation: I don’t think you include setup and assignments unless they have non-constant time complexities and pertain to the time complexity being assessed. But I haven’t done mathematical big-O analysis in quite some time.","body":"The time complexity of the while loop is <code>O(log2(n))</code>. Not sure about your <code>T(N)</code> equation: I don’t think you include setup and assignments unless they have non-constant time complexities and pertain to the time complexity being assessed. But I haven’t done mathematical big-O analysis in quite some time."},{"owner":{"account_id":5175809,"reputation":1054,"user_id":4142984,"accept_rate":83,"display_name":"Gyro Gearloose"},"score":0,"creation_date":1694119890,"post_id":77062183,"comment_id":135853290,"body_markdown":"Your thinking is too complicated. Write N as a binary number, composed of digits 0 and 1. j=j/2 is just shifting right. When the last digit 1 has vanished, the task is done. It&#39;s as easy as that.","body":"Your thinking is too complicated. Write N as a binary number, composed of digits 0 and 1. j=j/2 is just shifting right. When the last digit 1 has vanished, the task is done. It&#39;s as easy as that."},{"owner":{"account_id":5175809,"reputation":1054,"user_id":4142984,"accept_rate":83,"display_name":"Gyro Gearloose"},"score":0,"creation_date":1694120656,"post_id":77062183,"comment_id":135853417,"body_markdown":"Just nitpicking: as the length of an int is limited, the complexity is O(1). ;-)","body":"Just nitpicking: as the length of an int is limited, the complexity is O(1). ;-)"},{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1694214033,"post_id":77062183,"comment_id":135866689,"body_markdown":"Welcome to Stack Overflow! It&#39;s great to have you here. However, your question might benefit from some improvements. Could you provide more context and be more specific about your issue? This will help you get better responses. Please read following guide: [How To: Write a good answer](https://stackoverflow.com/help/how-to-answer). Afterwards [edit](https://stackoverflow.com/posts/77068047/edit) your post and improve it. Happy coding!","body":"Welcome to Stack Overflow! It&#39;s great to have you here. However, your question might benefit from some improvements. Could you provide more context and be more specific about your issue? This will help you get better responses. Please read following guide: <a href=\"https://stackoverflow.com/help/how-to-answer\">How To: Write a good answer</a>. Afterwards <a href=\"https://stackoverflow.com/posts/77068047/edit\">edit</a> your post and improve it. Happy coding!"}],"answers":[{"tags":[],"owner":{"display_name":"user22527431"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694270891,"creation_date":1694270891,"answer_id":77072747,"question_id":77062183,"body_markdown":"Yes, your analysis is correct. \r\n\r\nKeep in mind though, when doing complexity analysis, normally you need a data set in order to establish a relationship between the data that is fed into an algorithm and the time needed to process it. \r\n\r\nFor example, if your input is an array, the time complexity will indeed be O(logN) where N = the size of the array. (The logarithm base is typically ommited because it is assumed to be 2 in CS)\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Am I doing this Time complexity for a while loop right?","body":"<p>Yes, your analysis is correct.</p>\n<p>Keep in mind though, when doing complexity analysis, normally you need a data set in order to establish a relationship between the data that is fed into an algorithm and the time needed to process it.</p>\n<p>For example, if your input is an array, the time complexity will indeed be O(logN) where N = the size of the array. (The logarithm base is typically ommited because it is assumed to be 2 in CS)</p>\n"}],"owner":{"account_id":26891456,"reputation":11,"user_id":20470146,"display_name":"Hello7689"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694270891,"creation_date":1694112938,"question_id":77062183,"body_markdown":"This is what I calculated, I find myself struggling when It comes to the while loops. Did I do this correctly? \r\n\r\n                            //Cost      Times\r\n        count = 0;          //c1        //1\r\n        int j = N;          //c2        //1\r\n        while(j&gt;1) {        //c3        //log2(N) + 1\r\n            count += 1;     //c4        //log2(N)\r\n            j= j/2;         //c5        //log2(N)\r\n        }//T(N) = c1*1 + c2*1 + c3* (log2(N)+1) + c4 * log2(N) + c5*log2(N) =\r\n        //O(log2(N))\r\n\r\nPlease help me in anyway possible.","title":"Am I doing this Time complexity for a while loop right?","body":"<p>This is what I calculated, I find myself struggling when It comes to the while loops. Did I do this correctly?</p>\n<pre><code>                        //Cost      Times\n    count = 0;          //c1        //1\n    int j = N;          //c2        //1\n    while(j&gt;1) {        //c3        //log2(N) + 1\n        count += 1;     //c4        //log2(N)\n        j= j/2;         //c5        //log2(N)\n    }//T(N) = c1*1 + c2*1 + c3* (log2(N)+1) + c4 * log2(N) + c5*log2(N) =\n    //O(log2(N))\n</code></pre>\n<p>Please help me in anyway possible.</p>\n"},{"tags":["java","spring","mockito","repository","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":27950507,"reputation":36,"user_id":21344499,"display_name":"Eann1S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694270854,"creation_date":1694268193,"answer_id":77072576,"question_id":77072305,"body_markdown":"When you mock your repository, you pass the PageRequest object with only the page and size parameters, but in your controller you use PageRequest with the sort parameter. Therefore, your mocked repository will return null because it wasn&#39;t mocked for that type of PageRequest.\r\nChange the PageRequest object in your test or leave the ArgumentMatcher as is for PageRequest and it should work.","title":"Spring Mockito: Null return on method call with specific arguments for repository mock","body":"<p>When you mock your repository, you pass the PageRequest object with only the page and size parameters, but in your controller you use PageRequest with the sort parameter. Therefore, your mocked repository will return null because it wasn't mocked for that type of PageRequest.\nChange the PageRequest object in your test or leave the ArgumentMatcher as is for PageRequest and it should work.</p>\n"}],"owner":{"account_id":7405873,"reputation":419,"user_id":5634832,"accept_rate":25,"display_name":"Melvin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77072576,"answer_count":1,"score":1,"last_activity_date":1694270854,"creation_date":1694263644,"question_id":77072305,"body_markdown":"I try to mock the following repository and return a page of ToDo entries based on the name of the owner. I&#39;m using &#39;org.springframework.boot&#39; version &#39;3.1.3&#39;.\r\n\r\n```\r\n@Repository\r\npublic interface NotioRepository extends CrudRepository&lt;ToDo, Long&gt;, PagingAndSortingRepository&lt;ToDo, Long&gt; {\r\n    Page&lt;ToDo&gt; findByOwner(String owner, Pageable pageable);\r\n    ...\r\n}\r\n```\r\n\r\nMy controller looks like this:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/todos&quot;)\r\npublic class NotioController {\r\n\r\n    private final NotioRepository notioRepository;\r\n\r\n    public NotioController(NotioRepository notioRepository) {\r\n        this.notioRepository = notioRepository;\r\n    }\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;ToDo&gt;&gt; getToDos(Pageable pageable, Principal principal) {\r\n        Page&lt;ToDo&gt; page = notioRepository.findByOwner(\r\n                principal.getName(),\r\n                PageRequest.of(\r\n                        pageable.getPageNumber(),\r\n                        pageable.getPageSize(),\r\n                        pageable.getSortOr(Sort.by(Sort.Direction.ASC, &quot;done&quot;))\r\n                )\r\n        );\r\n\r\n        return ResponseEntity.ok(page.getContent());\r\n    }\r\n\r\n    ...\r\n}\r\n```\r\n\r\nTo reduce the time during tests I wanted to add some unit tests and only test the controller using the following test class:\r\n\r\n```\r\n@WebMvcTest(NotioController.class)\r\n@ComponentScan(basePackages = {&quot;com.example.controller&quot;})\r\npublic class NotioControllerTests {\r\n\r\n    @Autowired\r\n    private MockMvc mvc;\r\n\r\n    @MockBean\r\n    private NotioRepository notioRepository;\r\n\r\n    @Test\r\n    @WithMockUser(roles=&quot;USER&quot;, username=&quot;tom&quot;)\r\n    public void shouldReturnAPageWithUserSpecificToDos() throws Exception {\r\n        ToDo[] toDos = {\r\n                new ToDo(0L, &quot;Get milk.&quot;, false, &quot;tom&quot;),\r\n                new ToDo(1L, &quot;Get bread.&quot;, true, &quot;tom&quot;)\r\n        };\r\n        Page&lt;ToDo&gt; responsePage = new PageImpl&lt;&gt;(List.of(toDos));\r\n\r\n        when(notioRepository.findByOwner(&quot;tom&quot;, PageRequest.of(0,2)))\r\n                .thenReturn(responsePage);\r\n\r\n        mvc.perform(\r\n                get(&quot;/api/todos&quot;)\r\n                        .param(&quot;page&quot;, &quot;0&quot;)\r\n                        .param(&quot;size&quot;, &quot;2&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n\r\n        )\r\n                .andExpect(status().isOk())\r\n                .andExpect(jsonPath(&quot;$&quot;).isArray());\r\n\r\n    }\r\n```\r\n\r\nThe test method &quot;shouldReturnAPageWithUserSpecificToDos&quot; throws the following exception:\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.data.domain.Page.getContent()&quot; because &quot;page&quot; is null\r\n```\r\n\r\nwhich occurs when `return ResponseEntity.ok(page.getContent());` is called in the controller method.\r\n\r\nHowever, when I change\r\n\r\n```\r\nwhen(notioRepository.findByOwner(&quot;tom&quot;, PageRequest.of(0,2)))\r\n                .thenReturn(responsePage);\r\n```\r\n\r\nto\r\n\r\n```\r\nwhen(notioRepository.findByOwner(any(String.class), any(Pageable.class)))\r\n                .thenReturn(responsePage);\r\n```\r\n\r\nthe exception is resolved.\r\n\r\nI have not yet figured out what the problem is and could not find any help in the other posts about repositories returning null as they were slightly different problems.\r\n\r\nI also like to be specific with this test case.","title":"Spring Mockito: Null return on method call with specific arguments for repository mock","body":"<p>I try to mock the following repository and return a page of ToDo entries based on the name of the owner. I'm using 'org.springframework.boot' version '3.1.3'.</p>\n<pre><code>@Repository\npublic interface NotioRepository extends CrudRepository&lt;ToDo, Long&gt;, PagingAndSortingRepository&lt;ToDo, Long&gt; {\n    Page&lt;ToDo&gt; findByOwner(String owner, Pageable pageable);\n    ...\n}\n</code></pre>\n<p>My controller looks like this:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/todos&quot;)\npublic class NotioController {\n\n    private final NotioRepository notioRepository;\n\n    public NotioController(NotioRepository notioRepository) {\n        this.notioRepository = notioRepository;\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;ToDo&gt;&gt; getToDos(Pageable pageable, Principal principal) {\n        Page&lt;ToDo&gt; page = notioRepository.findByOwner(\n                principal.getName(),\n                PageRequest.of(\n                        pageable.getPageNumber(),\n                        pageable.getPageSize(),\n                        pageable.getSortOr(Sort.by(Sort.Direction.ASC, &quot;done&quot;))\n                )\n        );\n\n        return ResponseEntity.ok(page.getContent());\n    }\n\n    ...\n}\n</code></pre>\n<p>To reduce the time during tests I wanted to add some unit tests and only test the controller using the following test class:</p>\n<pre><code>@WebMvcTest(NotioController.class)\n@ComponentScan(basePackages = {&quot;com.example.controller&quot;})\npublic class NotioControllerTests {\n\n    @Autowired\n    private MockMvc mvc;\n\n    @MockBean\n    private NotioRepository notioRepository;\n\n    @Test\n    @WithMockUser(roles=&quot;USER&quot;, username=&quot;tom&quot;)\n    public void shouldReturnAPageWithUserSpecificToDos() throws Exception {\n        ToDo[] toDos = {\n                new ToDo(0L, &quot;Get milk.&quot;, false, &quot;tom&quot;),\n                new ToDo(1L, &quot;Get bread.&quot;, true, &quot;tom&quot;)\n        };\n        Page&lt;ToDo&gt; responsePage = new PageImpl&lt;&gt;(List.of(toDos));\n\n        when(notioRepository.findByOwner(&quot;tom&quot;, PageRequest.of(0,2)))\n                .thenReturn(responsePage);\n\n        mvc.perform(\n                get(&quot;/api/todos&quot;)\n                        .param(&quot;page&quot;, &quot;0&quot;)\n                        .param(&quot;size&quot;, &quot;2&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n\n        )\n                .andExpect(status().isOk())\n                .andExpect(jsonPath(&quot;$&quot;).isArray());\n\n    }\n</code></pre>\n<p>The test method &quot;shouldReturnAPageWithUserSpecificToDos&quot; throws the following exception:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.data.domain.Page.getContent()&quot; because &quot;page&quot; is null\n</code></pre>\n<p>which occurs when <code>return ResponseEntity.ok(page.getContent());</code> is called in the controller method.</p>\n<p>However, when I change</p>\n<pre><code>when(notioRepository.findByOwner(&quot;tom&quot;, PageRequest.of(0,2)))\n                .thenReturn(responsePage);\n</code></pre>\n<p>to</p>\n<pre><code>when(notioRepository.findByOwner(any(String.class), any(Pageable.class)))\n                .thenReturn(responsePage);\n</code></pre>\n<p>the exception is resolved.</p>\n<p>I have not yet figured out what the problem is and could not find any help in the other posts about repositories returning null as they were slightly different problems.</p>\n<p>I also like to be specific with this test case.</p>\n"},{"tags":["java","spring","spring-boot","maven-3"],"answers":[{"tags":[],"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694269015,"creation_date":1694269015,"answer_id":77072628,"question_id":77072438,"body_markdown":"These starter jars don&#39;t contain anything useful. They are mainly a mechanism to include other sets of dependencies/jars. It&#39;s not harmful for Spring to purposefully strip them out when building the jar.\r\n\r\nI found this question https://stackoverflow.com/questions/28273543/what-are-spring-boot-starter-jars and this comment was useful:\r\n&gt; The starter jars themselves are effectively empty as far as your application is concerned. Some do include a META-INF/spring.provides file which IDEs can use to offer context-assistance with POM updates. The main reason for choosing an &quot;empty&quot; jar over POM packaging is that they are easier to use (you don&#39;t need to remember to add &lt;type&gt;pom&lt;/type&gt;).","title":"Mvn:package spring boot - not include starter-* jar","body":"<p>These starter jars don't contain anything useful. They are mainly a mechanism to include other sets of dependencies/jars. It's not harmful for Spring to purposefully strip them out when building the jar.</p>\n<p>I found this question <a href=\"https://stackoverflow.com/questions/28273543/what-are-spring-boot-starter-jars\">What are `spring-boot-starter` jars?</a> and this comment was useful:</p>\n<blockquote>\n<p>The starter jars themselves are effectively empty as far as your application is concerned. Some do include a META-INF/spring.provides file which IDEs can use to offer context-assistance with POM updates. The main reason for choosing an &quot;empty&quot; jar over POM packaging is that they are easier to use (you don't need to remember to add pom).</p>\n</blockquote>\n"}],"owner":{"account_id":178454,"reputation":5330,"user_id":410439,"accept_rate":81,"display_name":"Ravi Parekh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1694393804,"answer_count":1,"score":1,"last_activity_date":1694269015,"creation_date":1694265393,"question_id":77072438,"body_markdown":"maven package command does not includes `spring-boot-stater-*.jar` in generated jar\r\n\r\nFresh Spring boot project - [Spring Initializr to Download project I used][1] with any starter-* dependency,\r\n\r\n\r\n    mvn clean package\r\n[![enter image description here][2]][2]\r\n\r\nAs shown in picture `Dependecy:tree`(Left) starter JARs are missing in actual JAR generated\r\n\r\nWhy this Starter-* jars are missing in final packaged JAR?\r\n\r\n**UPDATE:**\r\n  - Tried changing spring boot version to 2.7.15  - same result\r\n\r\n  [1]: https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.1.3&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,integration,actuator\r\n  [2]: https://i.stack.imgur.com/tsyR2.png","title":"Mvn:package spring boot - not include starter-* jar","body":"<p>maven package command does not includes <code>spring-boot-stater-*.jar</code> in generated jar</p>\n<p>Fresh Spring boot project - <a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.1.3&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,integration,actuator\" rel=\"nofollow noreferrer\">Spring Initializr to Download project I used</a> with any starter-* dependency,</p>\n<pre><code>mvn clean package\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tsyR2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tsyR2.png\" alt=\"enter image description here\" /></a></p>\n<p>As shown in picture <code>Dependecy:tree</code>(Left) starter JARs are missing in actual JAR generated</p>\n<p>Why this Starter-* jars are missing in final packaged JAR?</p>\n<p><strong>UPDATE:</strong></p>\n<ul>\n<li>Tried changing spring boot version to 2.7.15  - same result</li>\n</ul>\n"},{"tags":["java","multithreading","concurrency","thread-safety"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1694267193,"post_id":77072520,"comment_id":135870582,"body_markdown":"`CopyOnWriteArrayList`?","body":"<code>CopyOnWriteArrayList</code>?"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":3,"creation_date":1694271542,"post_id":77072520,"comment_id":135871000,"body_markdown":"Acquiring a lock is surely not expensive compared to doing any network I/O; this seems like premature optimization.","body":"Acquiring a lock is surely not expensive compared to doing any network I/O; this seems like premature optimization."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":2,"creation_date":1694272002,"post_id":77072520,"comment_id":135871048,"body_markdown":"The problem is that `socket.send(d);` is in `synchronized` block, so for the time data is being send, you will not be able add new receivers.","body":"The problem is that <code>socket.send(d);</code> is in <code>synchronized</code> block, so for the time data is being send, you will not be able add new receivers."}],"owner":{"account_id":1061161,"reputation":1928,"user_id":1062760,"accept_rate":49,"display_name":"Allahjane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694266863,"creation_date":1694266863,"question_id":77072520,"body_markdown":"I&#39;m making an intercom system where the speaker will be transmitting a continuous stream of bytes (audio/video) to multiple sockets depending on how many receivers are registered and which ones of them are being targeted by the user (using a keypad).\r\n\r\nFor this I manage a list of listener addresses and write to each of them using a transmitter thread , meanwhile the other thread monitors the hardware and network communication to determine if  any addresses should be added to the list or removed from it.\r\n\r\nThe transmitter thread using a loop that continuously reads the data stream from the input devices and writes it out to the addresses in the list as such its essentially always accessing the list in its lifetime. Using synchronized blocks here might mean acquiring locks almost every cycle ( which I read is extremely expensive) while the list would be sparingly modified.\r\n\r\nA race condition is not an issue here since the data being sent is in micro chunks and loss of a few packets is perfectly acceptable.\r\n\r\nI currently use an Array list with synchnorization , but I believe there are better ways to do this\r\n\r\n    //this list can be modified by other threads anytime\r\n    ArrayList&lt;InetSocketAddress&gt; currentReceivers = new ArrayList&lt;&gt;(); \r\n    .\r\n    .\r\n    \r\n    public void run()\r\n    {\r\n    .\r\n    .    \r\n        byte[] toSend = new byte[bufferSize];\r\n        \r\n        \t\tDatagramPacket d = new DatagramPacket(toSend,bufferSize);\r\n        \r\n        \t\twhile(!bTerminating)\r\n        \t\t{\t\t\t\t\r\n        \t\t\tint actuallyRead = myMicrophoneLine.read(toSend, 0, bufferSize);\r\n        \r\n        \t\t\td.setData(toSend,0,actuallyRead);\r\n        \r\n        \t\t\tsynchronized (currentReceivers) {\r\n        \r\n        \t\t\t\tfor(InetSocketAddress addr:currentReceivers)\r\n        \t\t\t\t{\r\n        \t\t\t\t\td.setSocketAddress(addr);\t\t\t\t\r\n        \t\t\t\t\r\n        \t\t\t\t\ttry {\r\n        \t\t\t\t\t\tsocket.send(d);\r\n        \t\t\t\t\t} catch (IOException e) {\r\n        \t\t\t\t\t\te.printStackTrace();\r\n        \t\t\t\t\t}\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t}\r\n    .\r\n    .\r\n    .\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Java thread safety for long stream writer code","body":"<p>I'm making an intercom system where the speaker will be transmitting a continuous stream of bytes (audio/video) to multiple sockets depending on how many receivers are registered and which ones of them are being targeted by the user (using a keypad).</p>\n<p>For this I manage a list of listener addresses and write to each of them using a transmitter thread , meanwhile the other thread monitors the hardware and network communication to determine if  any addresses should be added to the list or removed from it.</p>\n<p>The transmitter thread using a loop that continuously reads the data stream from the input devices and writes it out to the addresses in the list as such its essentially always accessing the list in its lifetime. Using synchronized blocks here might mean acquiring locks almost every cycle ( which I read is extremely expensive) while the list would be sparingly modified.</p>\n<p>A race condition is not an issue here since the data being sent is in micro chunks and loss of a few packets is perfectly acceptable.</p>\n<p>I currently use an Array list with synchnorization , but I believe there are better ways to do this</p>\n<pre><code>//this list can be modified by other threads anytime\nArrayList&lt;InetSocketAddress&gt; currentReceivers = new ArrayList&lt;&gt;(); \n.\n.\n\npublic void run()\n{\n.\n.    \n    byte[] toSend = new byte[bufferSize];\n    \n            DatagramPacket d = new DatagramPacket(toSend,bufferSize);\n    \n            while(!bTerminating)\n            {               \n                int actuallyRead = myMicrophoneLine.read(toSend, 0, bufferSize);\n    \n                d.setData(toSend,0,actuallyRead);\n    \n                synchronized (currentReceivers) {\n    \n                    for(InetSocketAddress addr:currentReceivers)\n                    {\n                        d.setSocketAddress(addr);               \n                    \n                        try {\n                            socket.send(d);\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n                \n            }\n.\n.\n.\n}\n</code></pre>\n"},{"tags":["java","count","rotation"],"answers":[{"tags":[],"owner":{"account_id":29400883,"reputation":1,"user_id":22527099,"display_name":"LeandroBR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694266603,"creation_date":1694266431,"answer_id":77072492,"question_id":76684549,"body_markdown":"To make our lives easier, we first rotate the entire cartesian plane.\r\nThus, the SW-NE diagonal becomes the X-axis and the SE-NW diagonal becomes the Y-axis.\r\n\r\nWe then &quot;zoom out&quot; a bit, in order to have diagonal lengths = 1, effectively reducing them by a sqrt(2) factor.\r\n\r\nBecause we zoom out the entire plane, the size of the rectangle must be corrected with the same factor.\r\nThat is what these two lines do:\r\n\r\n    a/=Math.sqrt(2);\r\n    b/=Math.sqrt(2);\r\n\r\nNow we just need to count the points according to the corrected rectangle length.\r\n\r\nIf you do some simulations, you will identify two cases:\r\n\r\n- Case 1: a+b is even\r\n-- number of points: (a+1)*(b+1) + a*b = 2*a*b + a + b + 1 (odd result)\r\n\r\n- Case 2: a+b is odd -- number of points: (a+1)*b + a*(b+1) = 2*a*b + a + b (odd result)\r\n\r\n\r\nThe only difference is the &quot;+1&quot; in Case 1.\r\nThus, we can always compute (2*a*b + a + b), and add 1 only if it is even.\r\nThat is exactly what  the line below does:\r\n\r\n    return (2*a*b+a+b)|1;","title":"Codesignal : &quot;Rectangle rotation&quot; And can you explain why mine is wrong?","body":"<p>To make our lives easier, we first rotate the entire cartesian plane.\nThus, the SW-NE diagonal becomes the X-axis and the SE-NW diagonal becomes the Y-axis.</p>\n<p>We then &quot;zoom out&quot; a bit, in order to have diagonal lengths = 1, effectively reducing them by a sqrt(2) factor.</p>\n<p>Because we zoom out the entire plane, the size of the rectangle must be corrected with the same factor.\nThat is what these two lines do:</p>\n<pre><code>a/=Math.sqrt(2);\nb/=Math.sqrt(2);\n</code></pre>\n<p>Now we just need to count the points according to the corrected rectangle length.</p>\n<p>If you do some simulations, you will identify two cases:</p>\n<ul>\n<li><p>Case 1: a+b is even\n-- number of points: (a+1)<em>(b+1) + a</em>b = 2<em>a</em>b + a + b + 1 (odd result)</p>\n</li>\n<li><p>Case 2: a+b is odd -- number of points: (a+1)<em>b + a</em>(b+1) = 2<em>a</em>b + a + b (odd result)</p>\n</li>\n</ul>\n<p>The only difference is the &quot;+1&quot; in Case 1.\nThus, we can always compute (2<em>a</em>b + a + b), and add 1 only if it is even.\nThat is exactly what  the line below does:</p>\n<pre><code>return (2*a*b+a+b)|1;\n</code></pre>\n"}],"owner":{"account_id":16523980,"reputation":1,"user_id":11939292,"display_name":"이동준"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694266603,"creation_date":1689305596,"question_id":76684549,"body_markdown":"Question :\r\n\r\nA rectangle with sides equal to even integers a and b is drawn on the Cartesian plane. Its center (the intersection point of its diagonals) coincides with the point (0, 0), but the sides of the rectangle are not parallel to the axes; instead, they are forming 45 degree angles with the axes.\r\n\r\nHow many points with integer coordinates are located inside the given rectangle (including on its sides)?\r\n\r\n\r\nanswer :\r\n\r\n```\r\nint solution(int a, int b)\r\n{\r\n\ta/=Math.sqrt(2);\r\n\tb/=Math.sqrt(2);\r\n\r\n\treturn (2*a*b+a+b)|1;\r\n}\r\n```\r\n\r\nIt bothers me too much... Plz help me\r\n\r\n\r\n\r\nMy code :\r\n\r\n\r\n```\r\nint solution(int a, int b) {\r\n    double k1 = b/Math.sqrt(2);\r\n    double k2 = a/Math.sqrt(2);\r\n    \r\n    int ini = ((int)(Math.floor(min(k1, k2))))*2+1;\r\n    int temp=ini;\r\n    int num=0;\r\n    \r\n    while(temp&gt;0){\r\n        num += temp*2;\r\n        temp-=2;\r\n    }\r\n    \r\n    return num+ini*((int)(Math.floor(Math.abs(k2-k1)/2))*2+1);\r\n}\r\ndouble min(double a, double b){\r\n    return a&gt;b ? b:a;\r\n}\r\n```\r\n","title":"Codesignal : &quot;Rectangle rotation&quot; And can you explain why mine is wrong?","body":"<p>Question :</p>\n<p>A rectangle with sides equal to even integers a and b is drawn on the Cartesian plane. Its center (the intersection point of its diagonals) coincides with the point (0, 0), but the sides of the rectangle are not parallel to the axes; instead, they are forming 45 degree angles with the axes.</p>\n<p>How many points with integer coordinates are located inside the given rectangle (including on its sides)?</p>\n<p>answer :</p>\n<pre><code>int solution(int a, int b)\n{\n    a/=Math.sqrt(2);\n    b/=Math.sqrt(2);\n\n    return (2*a*b+a+b)|1;\n}\n</code></pre>\n<p>It bothers me too much... Plz help me</p>\n<p>My code :</p>\n<pre><code>int solution(int a, int b) {\n    double k1 = b/Math.sqrt(2);\n    double k2 = a/Math.sqrt(2);\n    \n    int ini = ((int)(Math.floor(min(k1, k2))))*2+1;\n    int temp=ini;\n    int num=0;\n    \n    while(temp&gt;0){\n        num += temp*2;\n        temp-=2;\n    }\n    \n    return num+ini*((int)(Math.floor(Math.abs(k2-k1)/2))*2+1);\n}\ndouble min(double a, double b){\n    return a&gt;b ? b:a;\n}\n</code></pre>\n"},{"tags":["java","spring","flyway"],"answers":[{"tags":[],"owner":{"account_id":9139105,"reputation":3600,"user_id":6797663,"display_name":"codemonkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568649136,"creation_date":1568649136,"answer_id":57960449,"question_id":57959816,"body_markdown":"The Flyway locations property needs a `{vendor}` placeholder, then [Spring Boot will work out the directory][1] from the lowercase of the database driver id (h2, mysql, oracle, etc), e.g.:\r\n\r\n    spring.flyway.locations=db/migration,db/migration/{vendor}\r\n\r\nIn the above example, vendor-agnostic scripts can go in `db/migration` and vendor-specific ones in `db/migration/oracle` etc.\r\n\r\n[1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html#howto-execute-flyway-database-migrations-on-startup","title":"Flyway Found more than one migration with version","body":"<p>The Flyway locations property needs a <code>{vendor}</code> placeholder, then <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html#howto-execute-flyway-database-migrations-on-startup\" rel=\"nofollow noreferrer\">Spring Boot will work out the directory</a> from the lowercase of the database driver id (h2, mysql, oracle, etc), e.g.:</p>\n\n<pre><code>spring.flyway.locations=db/migration,db/migration/{vendor}\n</code></pre>\n\n<p>In the above example, vendor-agnostic scripts can go in <code>db/migration</code> and vendor-specific ones in <code>db/migration/oracle</code> etc.</p>\n"},{"tags":[],"owner":{"account_id":14499292,"reputation":153,"user_id":10472965,"display_name":"A. Berk"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1630065356,"creation_date":1630065356,"answer_id":68953018,"question_id":57959816,"body_markdown":"There are 2 same files in \\target\\classes\\db\\migration directory. Delete one of them and restart your project. \r\n\r\nif anything goes bad, delete your target folder and build your project again.","title":"Flyway Found more than one migration with version","body":"<p>There are 2 same files in \\target\\classes\\db\\migration directory. Delete one of them and restart your project.</p>\n<p>if anything goes bad, delete your target folder and build your project again.</p>\n"}],"owner":{"account_id":6161103,"reputation":743,"user_id":4802676,"accept_rate":75,"display_name":"BobCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15367,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1694264595,"creation_date":1568646843,"question_id":57959816,"body_markdown":"I&#39;ve two sql files , one for oracle and one for mySql database. Path is as follows\r\n\r\n      db/migration/mysql/V1_1_migration.sql\r\n      db/migration/oracle/V1_1_migration.sql\r\n\r\nwhile running the test , I&#39;m getting below error \r\n\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Found more than one migration with version 1.1\r\n    Offenders:\r\n    -&gt; C:\\code\\service\\db-repository\\target\\classes\\db\\migration\\oracle\\V1_1__migration.sql (SQL)\r\n    -&gt; C:\\code\\service\\db-repository\\target\\classes\\db\\migration\\mysql\\V1_1__migration.sql (SQL)\r\n\r\nAny pointers to resolve this error. ","title":"Flyway Found more than one migration with version","body":"<p>I've two sql files , one for oracle and one for mySql database. Path is as follows</p>\n\n<pre><code>  db/migration/mysql/V1_1_migration.sql\n  db/migration/oracle/V1_1_migration.sql\n</code></pre>\n\n<p>while running the test , I'm getting below error </p>\n\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Found more than one migration with version 1.1\nOffenders:\n-&gt; C:\\code\\service\\db-repository\\target\\classes\\db\\migration\\oracle\\V1_1__migration.sql (SQL)\n-&gt; C:\\code\\service\\db-repository\\target\\classes\\db\\migration\\mysql\\V1_1__migration.sql (SQL)\n</code></pre>\n\n<p>Any pointers to resolve this error. </p>\n"},{"tags":["java","android","flutter","dart"],"comments":[{"owner":{"account_id":4617149,"reputation":7285,"user_id":3743245,"display_name":"Mariano Zorrilla"},"score":0,"creation_date":1694267645,"post_id":77072358,"comment_id":135870624,"body_markdown":"requesting for libraries and or implementations is off topic for StackOverFlow. You can read the official Flutter documentation which is searchable on Google: https://docs.flutter.dev/platform-integration/ios/ios-app-clip","body":"requesting for libraries and or implementations is off topic for StackOverFlow. You can read the official Flutter documentation which is searchable on Google: <a href=\"https://docs.flutter.dev/platform-integration/ios/ios-app-clip\" rel=\"nofollow noreferrer\">docs.flutter.dev/platform-integration/ios/ios-app-clip</a>"}],"owner":{"account_id":21909282,"reputation":39,"user_id":16193925,"display_name":"Zerok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694264254,"creation_date":1694264254,"question_id":77072358,"body_markdown":"Does flutter support instant app?\r\nIf support can you share any reference links here.  \r\nI&#39;m trying to creating instant app through the Flutter. But there&#39;s no official documents but we have that in iOS for app clips. So please someone help me to understand that Flutter does support instant app or not...\r\n\r\n\r\nThanks you\r\n\r\n\r\n\r\nFlutter support instant app or not ","title":"Is there any option to achieve instant app through Flutter Development?","body":"<p>Does flutter support instant app?\nIf support can you share any reference links here.<br />\nI'm trying to creating instant app through the Flutter. But there's no official documents but we have that in iOS for app clips. So please someone help me to understand that Flutter does support instant app or not...</p>\n<p>Thanks you</p>\n<p>Flutter support instant app or not</p>\n"},{"tags":["python","java","security","bots","telegram"],"comments":[{"owner":{"account_id":22540300,"reputation":2534,"user_id":16730940,"display_name":"PGSA"},"score":0,"creation_date":1694526260,"post_id":77072336,"comment_id":135900427,"body_markdown":"The maintainer does not want people pushing user info into their project - make a copy or fork the repo for your personal project.","body":"The maintainer does not want people pushing user info into their project - make a copy or fork the repo for your personal project."},{"owner":{"account_id":126694,"reputation":928,"user_id":323365,"display_name":"heralight"},"score":1,"creation_date":1694547935,"post_id":77072336,"comment_id":135904931,"body_markdown":"the maintainer ask to not include in git some secret, that all. You can probably use them through environnement variables.","body":"the maintainer ask to not include in git some secret, that all. You can probably use them through environnement variables."}],"owner":{"account_id":29401849,"reputation":1,"user_id":22527854,"display_name":"Jesus Martinez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694263940,"creation_date":1694263940,"question_id":77072336,"body_markdown":"I want to use this library in my project to code my bot in Java. \r\n\r\nhttps://github.com/rubenlagus/TelegramBots\r\n\r\nThis is recommended in telegram bot API  docs. But it&#39;s said &quot;Please, DO NOT PUSH ANY TOKEN OR API KEY, I will never accept a pull request with that content&quot;. Does it mean, I can&#39;t manage personal data of loggin info of my users? Because I want bot to interact with some credentials for websites. And I need to find another way to display my script. If  Telegram Bot can use this info in it&#39;s logic.\r\n\r\nThanks in advance!\r\n\r\nI only want to know if I can use a bot to run my script. And handle this info. ","title":"Can I use loggin keys of third part apps, in my telegram bot?","body":"<p>I want to use this library in my project to code my bot in Java.</p>\n<p><a href=\"https://github.com/rubenlagus/TelegramBots\" rel=\"nofollow noreferrer\">https://github.com/rubenlagus/TelegramBots</a></p>\n<p>This is recommended in telegram bot API  docs. But it's said &quot;Please, DO NOT PUSH ANY TOKEN OR API KEY, I will never accept a pull request with that content&quot;. Does it mean, I can't manage personal data of loggin info of my users? Because I want bot to interact with some credentials for websites. And I need to find another way to display my script. If  Telegram Bot can use this info in it's logic.</p>\n<p>Thanks in advance!</p>\n<p>I only want to know if I can use a bot to run my script. And handle this info.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1694247781,"post_id":77071400,"comment_id":135868822,"body_markdown":"The relationship is weird. What&#39;s the point of an image adding itself to its series?","body":"The relationship is weird. What&#39;s the point of an image adding itself to its series?"},{"owner":{"account_id":14774354,"reputation":914,"user_id":10669776,"display_name":"Przemek Krysztofiak"},"score":0,"creation_date":1694247947,"post_id":77071400,"comment_id":135868829,"body_markdown":"@Sweeper In some parts of my app I have reference to image only and need to know which Series it is a part of. I can&#39;t see why this relationship is weird. When student attends school both sides have the knowledge about each other.","body":"@Sweeper In some parts of my app I have reference to image only and need to know which Series it is a part of. I can&#39;t see why this relationship is weird. When student attends school both sides have the knowledge about each other."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1694248066,"post_id":77071400,"comment_id":135868836,"body_markdown":"But a student wouldn&#39;t create a school just to put themselves in there...","body":"But a student wouldn&#39;t create a school just to put themselves in there..."},{"owner":{"account_id":14774354,"reputation":914,"user_id":10669776,"display_name":"Przemek Krysztofiak"},"score":0,"creation_date":1694248451,"post_id":77071400,"comment_id":135868863,"body_markdown":"What I expected was rather technical discussion, not the business side of my app.","body":"What I expected was rather technical discussion, not the business side of my app."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1694248550,"post_id":77071400,"comment_id":135868879,"body_markdown":"We&#39;re asking because there isn&#39;t a great, smooth solution to this and redesigning this arrangement may be the best strategy.","body":"We&#39;re asking because there isn&#39;t a great, smooth solution to this and redesigning this arrangement may be the best strategy."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1694249268,"post_id":77071400,"comment_id":135868922,"body_markdown":"Technically there is no problem with the design. It&#39;s just that Java&#39;s generics is not expressive enough to do this. Specifically, it has no self-types. Even [CRTP](https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern) can&#39;t help in this case.","body":"Technically there is no problem with the design. It&#39;s just that Java&#39;s generics is not expressive enough to do this. Specifically, it has no self-types. Even <a href=\"https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\" rel=\"nofollow noreferrer\">CRTP</a> can&#39;t help in this case."},{"owner":{"account_id":7200276,"reputation":297,"user_id":5497719,"display_name":"A G"},"score":0,"creation_date":1694262573,"post_id":77071400,"comment_id":135870109,"body_markdown":"Would a Factory + Observer pattern help in this case as the requirement is to Add to the list upon creation?","body":"Would a Factory + Observer pattern help in this case as the requirement is to Add to the list upon creation?"}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694263710,"creation_date":1694263710,"answer_id":77072318,"question_id":77071400,"body_markdown":"This can be done, but the types get a little complex, and there is still a small amount of necessary duplication.\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nabstract class Series&lt;S extends Series&lt;S, I&gt;, I extends Image&lt;I, S&gt;&gt; {\r\n    protected List&lt;I&gt; images = new ArrayList&lt;&gt;();\r\n\r\n    public void addImage(I img) {\r\n        this.images.add(img);\r\n    }\r\n\r\n    public List&lt;I&gt; getImages() {\r\n        return images;\r\n    }\r\n}\r\n\r\nclass CTSeries extends Series&lt;CTSeries, CTImage&gt; {\r\n}\r\n\r\nclass CRSeries extends Series&lt;CRSeries, CRImage&gt; {\r\n}\r\n\r\nabstract class Image&lt;I extends Image&lt;I, S&gt;, S extends Series&lt;S, I&gt;&gt; {\r\n    protected S series;\r\n\r\n    public Image() {\r\n        this.series = createSeries();\r\n        this.series.addImage(thisImage());\r\n    }\r\n\r\n    protected abstract I thisImage();\r\n\r\n    public S getSeries() {\r\n        return series;\r\n    }\r\n\r\n    protected abstract S createSeries();\r\n\r\n}\r\n\r\nclass CTImage extends Image&lt;CTImage, CTSeries&gt; {\r\n\r\n    public CTImage() {\r\n    }\r\n\r\n    @Override\r\n    public CTImage thisImage() {\r\n        return this;\r\n    }\r\n\r\n    @Override\r\n    protected CTSeries createSeries() {\r\n        return new CTSeries();\r\n    }\r\n}\r\n\r\nclass CRImage extends Image&lt;CRImage, CRSeries&gt; {\r\n\r\n    public CRImage() {\r\n    }\r\n\r\n    @Override\r\n    public CRImage thisImage() {\r\n        return this;\r\n    }\r\n\r\n    @Override\r\n    protected CRSeries createSeries() {\r\n        return new CRSeries();\r\n    }\r\n}\r\n```\r\n\r\nOther than the self-referential type parameters, the major change is the addition of the abstract `thisImage` method, which is used instead of `this` in the call to `this.series.addImage`. This is because there is no way in Java to express &quot;the type of this object&quot;. The concrete implementations all need to implement this method as `return this;`. There&#39;s no way for it to be inherited from the `Image` base class, as the compiler can&#39;t enforce that all possible subclasses will specify their own type as the value of `I`.","title":"How to create bilateral relationship between classes with generics involved","body":"<p>This can be done, but the types get a little complex, and there is still a small amount of necessary duplication.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\n\nabstract class Series&lt;S extends Series&lt;S, I&gt;, I extends Image&lt;I, S&gt;&gt; {\n    protected List&lt;I&gt; images = new ArrayList&lt;&gt;();\n\n    public void addImage(I img) {\n        this.images.add(img);\n    }\n\n    public List&lt;I&gt; getImages() {\n        return images;\n    }\n}\n\nclass CTSeries extends Series&lt;CTSeries, CTImage&gt; {\n}\n\nclass CRSeries extends Series&lt;CRSeries, CRImage&gt; {\n}\n\nabstract class Image&lt;I extends Image&lt;I, S&gt;, S extends Series&lt;S, I&gt;&gt; {\n    protected S series;\n\n    public Image() {\n        this.series = createSeries();\n        this.series.addImage(thisImage());\n    }\n\n    protected abstract I thisImage();\n\n    public S getSeries() {\n        return series;\n    }\n\n    protected abstract S createSeries();\n\n}\n\nclass CTImage extends Image&lt;CTImage, CTSeries&gt; {\n\n    public CTImage() {\n    }\n\n    @Override\n    public CTImage thisImage() {\n        return this;\n    }\n\n    @Override\n    protected CTSeries createSeries() {\n        return new CTSeries();\n    }\n}\n\nclass CRImage extends Image&lt;CRImage, CRSeries&gt; {\n\n    public CRImage() {\n    }\n\n    @Override\n    public CRImage thisImage() {\n        return this;\n    }\n\n    @Override\n    protected CRSeries createSeries() {\n        return new CRSeries();\n    }\n}\n</code></pre>\n<p>Other than the self-referential type parameters, the major change is the addition of the abstract <code>thisImage</code> method, which is used instead of <code>this</code> in the call to <code>this.series.addImage</code>. This is because there is no way in Java to express &quot;the type of this object&quot;. The concrete implementations all need to implement this method as <code>return this;</code>. There's no way for it to be inherited from the <code>Image</code> base class, as the compiler can't enforce that all possible subclasses will specify their own type as the value of <code>I</code>.</p>\n"}],"owner":{"account_id":14774354,"reputation":914,"user_id":10669776,"display_name":"Przemek Krysztofiak"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77072318,"answer_count":1,"score":-1,"last_activity_date":1694263710,"creation_date":1694247538,"question_id":77071400,"body_markdown":"I have and abstract class `Image` which has two implementations: `CTImage` and `CRImage`. Specific type of Image is a part of Series (also abstract) with two implementations: `CTSeries` and `CRSeries`. When the object of specific Image is created it should create proper Series object, and add itself to proper implementation of `Series` .\r\n\r\nCode I produced does not compile. Line `this.series.addImage(this); produces:\r\n```\r\nRequired type:\r\ncapture of ? extends Image&lt;S&gt;\r\n\r\nProvided:\r\nImage&lt;S&gt;\r\n```\r\n The workaround is to add image to series in every implementation (commented lines) but that makes me reapeat myself. I just can&#39;t figure out what&#39;s the problem and how to fix it.\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nabstract class Series&lt;T extends Image&lt;?&gt;&gt; {\r\n    protected List&lt;T&gt; images = new ArrayList&lt;&gt;();\r\n\r\n    public void addImage(T img) {\r\n        this.images.add(img);\r\n    }\r\n\r\n    public List&lt;T&gt; getImages() {\r\n        return images;\r\n    }\r\n}\r\n\r\nclass CTSeries extends Series&lt;CTImage&gt; {\r\n}\r\n\r\nclass CRSeries extends Series&lt;CRImage&gt; {\r\n}\r\n\r\nabstract class Image&lt;S extends Series&lt;? extends Image&lt;S&gt;&gt;&gt; {\r\n    protected S series;\r\n\r\n    public Image() {\r\n        this.series = createSeries();\r\n        this.series.addImage(this);\r\n    }\r\n\r\n    public S getSeries() {\r\n        return series;\r\n    }\r\n\r\n    protected abstract S createSeries();\r\n\r\n}\r\n\r\nclass CTImage extends Image&lt;CTSeries&gt; {\r\n\r\n    public CTImage() {\r\n//        series.addImage(this);\r\n    }\r\n\r\n    @Override\r\n    protected CTSeries createSeries() {\r\n        return new CTSeries();\r\n    }\r\n}\r\n\r\nclass CRImage extends Image&lt;CRSeries&gt; {\r\n\r\n    public CRImage() {\r\n//        series.addImage(this);\r\n    }\r\n\r\n    @Override\r\n    protected CRSeries createSeries() {\r\n        return new CRSeries();\r\n    }\r\n}\r\n```","title":"How to create bilateral relationship between classes with generics involved","body":"<p>I have and abstract class <code>Image</code> which has two implementations: <code>CTImage</code> and <code>CRImage</code>. Specific type of Image is a part of Series (also abstract) with two implementations: <code>CTSeries</code> and <code>CRSeries</code>. When the object of specific Image is created it should create proper Series object, and add itself to proper implementation of <code>Series</code> .</p>\n<p>Code I produced does not compile. Line `this.series.addImage(this); produces:</p>\n<pre><code>Required type:\ncapture of ? extends Image&lt;S&gt;\n\nProvided:\nImage&lt;S&gt;\n</code></pre>\n<p>The workaround is to add image to series in every implementation (commented lines) but that makes me reapeat myself. I just can't figure out what's the problem and how to fix it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\n\nabstract class Series&lt;T extends Image&lt;?&gt;&gt; {\n    protected List&lt;T&gt; images = new ArrayList&lt;&gt;();\n\n    public void addImage(T img) {\n        this.images.add(img);\n    }\n\n    public List&lt;T&gt; getImages() {\n        return images;\n    }\n}\n\nclass CTSeries extends Series&lt;CTImage&gt; {\n}\n\nclass CRSeries extends Series&lt;CRImage&gt; {\n}\n\nabstract class Image&lt;S extends Series&lt;? extends Image&lt;S&gt;&gt;&gt; {\n    protected S series;\n\n    public Image() {\n        this.series = createSeries();\n        this.series.addImage(this);\n    }\n\n    public S getSeries() {\n        return series;\n    }\n\n    protected abstract S createSeries();\n\n}\n\nclass CTImage extends Image&lt;CTSeries&gt; {\n\n    public CTImage() {\n//        series.addImage(this);\n    }\n\n    @Override\n    protected CTSeries createSeries() {\n        return new CTSeries();\n    }\n}\n\nclass CRImage extends Image&lt;CRSeries&gt; {\n\n    public CRImage() {\n//        series.addImage(this);\n    }\n\n    @Override\n    protected CRSeries createSeries() {\n        return new CRSeries();\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","volatile","java-memory-model"],"comments":[{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1694345296,"post_id":77072262,"comment_id":135876513,"body_markdown":"If there some kind of synchronization mechanism is sitting between writing and reading that variable, then that synchronization mechanism creates a happens before edge between the 2 actions. E.g. if you would have a plain employee Pojo created on thread 1 and put on some thread-safe queue and read by thread 2 from that queue, then the queue will introduce the happens-before edge needed to prevent running into a data race. If no such a synchronization mechanism exists, then you have probably a data race on your hands.","body":"If there some kind of synchronization mechanism is sitting between writing and reading that variable, then that synchronization mechanism creates a happens before edge between the 2 actions. E.g. if you would have a plain employee Pojo created on thread 1 and put on some thread-safe queue and read by thread 2 from that queue, then the queue will introduce the happens-before edge needed to prevent running into a data race. If no such a synchronization mechanism exists, then you have probably a data race on your hands."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1694345447,"post_id":77072262,"comment_id":135876527,"body_markdown":"Executors guarantee that such a synchronization mechanism exists:\nhttps://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html and look for memory consistency effects.","body":"Executors guarantee that such a synchronization mechanism exists: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/&hellip;</a> and look for memory consistency effects."},{"owner":{"account_id":3311659,"reputation":449,"user_id":2785025,"display_name":"SebastianBrandt"},"score":0,"creation_date":1694358361,"post_id":77072262,"comment_id":135877834,"body_markdown":"@pveentjer Thank you, I think this is correct. Runnables see what &quot;happend before&quot; they were submitted to an Executor, no volatile necessary in the case I described. If you want to make it an answer, I&#39;ll accept it.","body":"@pveentjer Thank you, I think this is correct. Runnables see what &quot;happend before&quot; they were submitted to an Executor, no volatile necessary in the case I described. If you want to make it an answer, I&#39;ll accept it."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694610073,"post_id":77072262,"comment_id":135913642,"body_markdown":"You are storing the reference to a set (inconsistently called “list”) provided by some external code (`positiveNameListProvider.getPositiveList()`) in the field `positiveNameList`. So this code entirely relies on the provider being well-behaving, i.e. not modifying the list in another thread. If the provider is not well-behaving, declaring the variable as `volatile` wouldn’t help anyway.","body":"You are storing the reference to a set (inconsistently called “list”) provided by some external code (<code>positiveNameListProvider.getPositiveList()</code>) in the field <code>positiveNameList</code>. So this code entirely relies on the provider being well-behaving, i.e. not modifying the list in another thread. If the provider is not well-behaving, declaring the variable as <code>volatile</code> wouldn’t help anyway."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694610376,"post_id":77072262,"comment_id":135913714,"body_markdown":"Further note that if `getFiltered` is invoked by multiple threads concurrently, it will also break, regardless of the field being `volatile` or not. But it would be easy to make this class immune to such problems, as there is no reason to store the reference into a field at all. It’s only used within a single `getFiltered` operation. So, don’t store the list in a field  but a local variable and replace `this::accept` with a lambda expression `candidate -&gt; positiveNameList.contains( candidate.getName())`, then, `getFiltered` is safe for invocation by multiple threads.","body":"Further note that if <code>getFiltered</code> is invoked by multiple threads concurrently, it will also break, regardless of the field being <code>volatile</code> or not. But it would be easy to make this class immune to such problems, as there is no reason to store the reference into a field at all. It’s only used within a single <code>getFiltered</code> operation. So, don’t store the list in a field  but a local variable and replace <code>this::accept</code> with a lambda expression <code>candidate -&gt; positiveNameList.contains( candidate.getName())</code>, then, <code>getFiltered</code> is safe for invocation by multiple threads."},{"owner":{"account_id":3311659,"reputation":449,"user_id":2785025,"display_name":"SebastianBrandt"},"score":0,"creation_date":1694692129,"post_id":77072262,"comment_id":135926262,"body_markdown":"@Holger Could you explain what would break if getFiltered is invoked concurrently? Worst case I&#39;d see is that an ongoing concurrent filtering could see a newer positiveNameList for some of its processing.","body":"@Holger Could you explain what would break if getFiltered is invoked concurrently? Worst case I&#39;d see is that an ongoing concurrent filtering could see a newer positiveNameList for some of its processing."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694692592,"post_id":77072262,"comment_id":135926364,"body_markdown":"It could see *any* list, newer or older. And if it does see a list created by a different thread, it either needs `volatile` or a thread safe list implementation, otherwise, it can break in various ways. But even if you use `volatile`, a parallel stream does not specify in which order elements are processed (that would contradict parallel processing), so the result is still based on the use of old and new lists in an arbitrary mixture.","body":"It could see <i>any</i> list, newer or older. And if it does see a list created by a different thread, it either needs <code>volatile</code> or a thread safe list implementation, otherwise, it can break in various ways. But even if you use <code>volatile</code>, a parallel stream does not specify in which order elements are processed (that would contradict parallel processing), so the result is still based on the use of old and new lists in an arbitrary mixture."}],"owner":{"account_id":3311659,"reputation":449,"user_id":2785025,"display_name":"SebastianBrandt"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694263614,"creation_date":1694263038,"question_id":77072262,"body_markdown":"If a member variable is updated by one thread and later read (not updated) by other treads from a thread pool, does that member variable needs to be declared as volatile?\r\n\r\nMade-up code to illustrate the question: A filter that uses a positive-list reference that is updated before used (read) in parallel:\r\n\r\n    public class PetFilter {\r\n        private final PositiveListProvider positiveNameListProvider;\r\n    \r\n        private Set&lt;String&gt; positiveNameList;   // Should be volatile?\r\n    \r\n        public PetFilter(PositiveListProvider positiveNameListProvider) {\r\n            this.positiveNameListProvider = positiveNameListProvider;\r\n        }\r\n    \r\n        public List&lt;Pet&gt; getFiltered(List&lt;Pet&gt; unfiltered) {\r\n            // assume that getPositiveList returns a new reference\r\n            this.positiveNameList = positiveNameListProvider.getPositiveList();  // written by caller thread\r\n            return unfiltered.stream().parallel().filter(this::accept).toList();\r\n        }\r\n    \r\n        private boolean accept(Pet candidate) {\r\n            return positiveNameList.contains(candidate.getName());  // read by threads form ForkJoinPool.commonPool\r\n        }\r\n    }\r\n\r\nI&#39;m aware that volatile guarantees that all threads &quot;see&quot; the current value, but is it **required** for positiveNameList in this example?\r\n\r\nMy gut tells me that positiveNameList does not need to be volatile. \r\n\r\nBut viewed from the threading perspective, positiveNameList is updated by the caller thread and then read by threads from the ForkJoinPool.commonPool which might have &quot;seen&quot; an older reference of PositiveListProvider in earlier executions of the getFiltered() method.\r\n\r\nEither way, I&#39;d also be interested in where in the [JLS spec for the memory model the][1] the behavior is described.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4","title":"Does a member variable need to be volatile if no concurrent writes occur?","body":"<p>If a member variable is updated by one thread and later read (not updated) by other treads from a thread pool, does that member variable needs to be declared as volatile?</p>\n<p>Made-up code to illustrate the question: A filter that uses a positive-list reference that is updated before used (read) in parallel:</p>\n<pre><code>public class PetFilter {\n    private final PositiveListProvider positiveNameListProvider;\n\n    private Set&lt;String&gt; positiveNameList;   // Should be volatile?\n\n    public PetFilter(PositiveListProvider positiveNameListProvider) {\n        this.positiveNameListProvider = positiveNameListProvider;\n    }\n\n    public List&lt;Pet&gt; getFiltered(List&lt;Pet&gt; unfiltered) {\n        // assume that getPositiveList returns a new reference\n        this.positiveNameList = positiveNameListProvider.getPositiveList();  // written by caller thread\n        return unfiltered.stream().parallel().filter(this::accept).toList();\n    }\n\n    private boolean accept(Pet candidate) {\n        return positiveNameList.contains(candidate.getName());  // read by threads form ForkJoinPool.commonPool\n    }\n}\n</code></pre>\n<p>I'm aware that volatile guarantees that all threads &quot;see&quot; the current value, but is it <strong>required</strong> for positiveNameList in this example?</p>\n<p>My gut tells me that positiveNameList does not need to be volatile.</p>\n<p>But viewed from the threading perspective, positiveNameList is updated by the caller thread and then read by threads from the ForkJoinPool.commonPool which might have &quot;seen&quot; an older reference of PositiveListProvider in earlier executions of the getFiltered() method.</p>\n<p>Either way, I'd also be interested in where in the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">JLS spec for the memory model the</a> the behavior is described.</p>\n"},{"tags":["java","openapi-generator"],"owner":{"account_id":18599666,"reputation":97,"user_id":13554790,"display_name":"Ares"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694262732,"creation_date":1694262732,"question_id":77072239,"body_markdown":"i have a yaml file that specifies my api and I am using open api generator to generate the client , my problem is that it generates a client with httpClient version 5 the library is apache httpclient, and I want to know which version of the api should I use to generate an http client version 4 .\r\n\r\nhere is my command to generate the api :\r\n\r\n    # pour g&#233;n&#233;rer le client\r\n\r\n`npx @openapitools/openapi-generator-cli generate -i swaggerAPI_v1.2.yaml -g java -c config.yaml -o ./client`\r\n\r\nthanks","title":"openapi generator and htpClient version","body":"<p>i have a yaml file that specifies my api and I am using open api generator to generate the client , my problem is that it generates a client with httpClient version 5 the library is apache httpclient, and I want to know which version of the api should I use to generate an http client version 4 .</p>\n<p>here is my command to generate the api :</p>\n<pre><code># pour générer le client\n</code></pre>\n<p><code>npx @openapitools/openapi-generator-cli generate -i swaggerAPI_v1.2.yaml -g java -c config.yaml -o ./client</code></p>\n<p>thanks</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1694195960,"post_id":77068948,"comment_id":135864302,"body_markdown":"The read isn&#39;t synchronized, so it can be reordered, stale, etc. You need to put the read inside the lock, not &quot;after&quot; it.","body":"The read isn&#39;t synchronized, so it can be reordered, stale, etc. You need to put the read inside the lock, not &quot;after&quot; it."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1694197267,"post_id":77068948,"comment_id":135864504,"body_markdown":"Note: If thread B is only _reading_ the variable, you can acquire the _read_ lock to read it rather than the write lock.","body":"Note: If thread B is only <i>reading</i> the variable, you can acquire the <i>read</i> lock to read it rather than the write lock."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694261759,"creation_date":1694261759,"answer_id":77072165,"question_id":77068948,"body_markdown":"&gt; I&#39;m not certain if there is a data synchronization error lurking in the code or not.\r\n\r\nThere is no way to tell from just the information you have given. \\*If\\* events are _guaranteed_ to happen in the order that you gave—that is to say, \\*if\\* you can prove a chain of &quot;happens before&quot; relationships—then thread B would be guaranteed to see the value that was written by thread A, but you have not explained why you think the events will happen in that order.\r\n\r\nE.g., What, in your program, prevents this from happening instead?\r\n\r\n1. Thread B acquires the lock\r\n1. Thread B releases the lock\r\n1. Thread A acquires the lock\r\n1. Thread A updates the variable while thread B concurrently reads the variable.\r\n1. Thread A releases the lock.\r\n\r\nIf your program lets that happen, then there&#39;s a race condition, and the outcome is not guaranteed. If your program doesn&#39;t let that happen, then there&#39;s something else in it that you haven&#39;t told us about. You can&#39;t guarantee that the threads will do their things in a particular order by just using the one lock.","title":"How ReentrantReadWriteLock interacts with Java memory model","body":"<blockquote>\n<p>I'm not certain if there is a data synchronization error lurking in the code or not.</p>\n</blockquote>\n<p>There is no way to tell from just the information you have given. *If* events are <em>guaranteed</em> to happen in the order that you gave—that is to say, *if* you can prove a chain of &quot;happens before&quot; relationships—then thread B would be guaranteed to see the value that was written by thread A, but you have not explained why you think the events will happen in that order.</p>\n<p>E.g., What, in your program, prevents this from happening instead?</p>\n<ol>\n<li>Thread B acquires the lock</li>\n<li>Thread B releases the lock</li>\n<li>Thread A acquires the lock</li>\n<li>Thread A updates the variable while thread B concurrently reads the variable.</li>\n<li>Thread A releases the lock.</li>\n</ol>\n<p>If your program lets that happen, then there's a race condition, and the outcome is not guaranteed. If your program doesn't let that happen, then there's something else in it that you haven't told us about. You can't guarantee that the threads will do their things in a particular order by just using the one lock.</p>\n"}],"owner":{"account_id":176,"reputation":13984,"user_id":214,"accept_rate":72,"display_name":"ICR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1694261759,"creation_date":1694195250,"question_id":77068948,"body_markdown":"I&#39;m trying to debug an issue that occurred in my program. If there was a data synchronization error across threads, that would explain what I&#39;m seeing. But I&#39;m not certain if there is a data synchronization error lurking in the code or not. I am struggling to find solid information on how `ReentrantReadWriteLock`s interact with the Java memory model, and the information I can find I&#39;m struggling to apply.\r\n\r\nI&#39;m pretty sure the order of events are:\r\n1. Thread A acquires the write lock\r\n2. Thread A increments a `long` variable (non-volatile)\r\n3. Thread A releases the write lock\r\n4. Thread B acquires the write lock\r\n5. Thread B releases the write lock\r\n6. Thread B reads the `long` variable\r\n\r\nWhat I am seeing would be explained if at step 6, Thread B is seeing the old stale value of the variable.\r\n\r\nHowever, I think the write lock forms a synchronization lock, and because Thread A releases the write lock before Thread B acquires it, it should see the new value?","title":"How ReentrantReadWriteLock interacts with Java memory model","body":"<p>I'm trying to debug an issue that occurred in my program. If there was a data synchronization error across threads, that would explain what I'm seeing. But I'm not certain if there is a data synchronization error lurking in the code or not. I am struggling to find solid information on how <code>ReentrantReadWriteLock</code>s interact with the Java memory model, and the information I can find I'm struggling to apply.</p>\n<p>I'm pretty sure the order of events are:</p>\n<ol>\n<li>Thread A acquires the write lock</li>\n<li>Thread A increments a <code>long</code> variable (non-volatile)</li>\n<li>Thread A releases the write lock</li>\n<li>Thread B acquires the write lock</li>\n<li>Thread B releases the write lock</li>\n<li>Thread B reads the <code>long</code> variable</li>\n</ol>\n<p>What I am seeing would be explained if at step 6, Thread B is seeing the old stale value of the variable.</p>\n<p>However, I think the write lock forms a synchronization lock, and because Thread A releases the write lock before Thread B acquires it, it should see the new value?</p>\n"},{"tags":["javascript","java","google-apps-script"],"comments":[{"owner":{"account_id":9571025,"reputation":186924,"user_id":7108653,"display_name":"Tanaike"},"score":0,"creation_date":1694247269,"post_id":77071223,"comment_id":135868779,"body_markdown":"About your error of `ReferenceError: SpreadSheetApp is not defined reminderEmail @ reminder.gs:12`, in this case, please modify `SpreadSheetApp` to `SpreadsheetApp`. [Ref](https://developers.google.com/apps-script/reference/spreadsheet/spreadsheet-app)","body":"About your error of <code>ReferenceError: SpreadSheetApp is not defined reminderEmail @ reminder.gs:12</code>, in this case, please modify <code>SpreadSheetApp</code> to <code>SpreadsheetApp</code>. <a href=\"https://developers.google.com/apps-script/reference/spreadsheet/spreadsheet-app\" rel=\"nofollow noreferrer\">Ref</a>"},{"owner":{"account_id":29288985,"reputation":1,"user_id":22439915,"display_name":"Vet Council"},"score":0,"creation_date":1694250214,"post_id":77071223,"comment_id":135868993,"body_markdown":"Thanks so much, here&#39;s the next one Exception: The parameters (String) don&#39;t match the method signature for SpreadsheetApp.Sheet.getDataRange.","body":"Thanks so much, here&#39;s the next one Exception: The parameters (String) don&#39;t match the method signature for SpreadsheetApp.Sheet.getDataRange."},{"owner":{"account_id":9571025,"reputation":186924,"user_id":7108653,"display_name":"Tanaike"},"score":0,"creation_date":1694260295,"post_id":77071223,"comment_id":135869863,"body_markdown":"Thank you for replying. I apologize that my comment was not useful for your situation.","body":"Thank you for replying. I apologize that my comment was not useful for your situation."}],"answers":[{"tags":[],"owner":{"account_id":25205058,"reputation":1609,"user_id":19043534,"display_name":"NEWAZA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694260659,"creation_date":1694260659,"answer_id":77072101,"question_id":77071223,"body_markdown":"    var data = sheet.getDataRange(&quot;A1:P&quot; + sheet.getLastRow()).getValues();\r\n\r\nThe error to your question is that `.getDataRange()` does not accept any parameters/arguments. It must only appear as `.getDataRange()`.\r\n\r\n - [.getDataRange()][1]\r\n\r\n---\r\n\r\nThis Sheet Class method selects the entire dimensions where data is present, meaning it will select the largest range of data.\r\n\r\nIf your sheet contains data past `A1:P`, you are better off using `.getRange()`, or using `.getDataRange()` in combination with `.offset()`.\r\n\r\n - [getRange(row, column)][2]\r\n - [getRange(row, column, numRows)][3]\r\n - [getRange(row, column, numRows, numColumns)][4]\r\n---\r\n - [offset(rowOffset, columnOffset)][5]\r\n - [offset(rowOffset, columnOffset, numRows)][6]\r\n - [offset(rowOffset, columnOffset, numRows, numColumns)][7]\r\n\r\n\r\n  [1]: https://developers.google.com/apps-script/reference/spreadsheet/sheet#getdatarange\r\n  [2]: https://developers.google.com/apps-script/reference/spreadsheet/sheet#getrangerow,-column\r\n  [3]: https://developers.google.com/apps-script/reference/spreadsheet/sheet#getrangerow,-column,-numrows\r\n  [4]: https://developers.google.com/apps-script/reference/spreadsheet/sheet#getrangerow,-column,-numrows,-numcolumns\r\n  [5]: https://developers.google.com/apps-script/reference/spreadsheet/range#offsetrowoffset,-columnoffset\r\n  [6]: https://developers.google.com/apps-script/reference/spreadsheet/range#offsetrowoffset,-columnoffset,-numrows\r\n  [7]: https://developers.google.com/apps-script/reference/spreadsheet/range#offsetrowoffset,-columnoffset,-numrows,-numcolumns","title":"Exception: The parameters (String) don&#39;t match the method signature for SpreadsheetApp.Sheet.getDataRange","body":"<pre><code>var data = sheet.getDataRange(&quot;A1:P&quot; + sheet.getLastRow()).getValues();\n</code></pre>\n<p>The error to your question is that <code>.getDataRange()</code> does not accept any parameters/arguments. It must only appear as <code>.getDataRange()</code>.</p>\n<ul>\n<li><a href=\"https://developers.google.com/apps-script/reference/spreadsheet/sheet#getdatarange\" rel=\"nofollow noreferrer\">.getDataRange()</a></li>\n</ul>\n<hr />\n<p>This Sheet Class method selects the entire dimensions where data is present, meaning it will select the largest range of data.</p>\n<p>If your sheet contains data past <code>A1:P</code>, you are better off using <code>.getRange()</code>, or using <code>.getDataRange()</code> in combination with <code>.offset()</code>.</p>\n<ul>\n<li><a href=\"https://developers.google.com/apps-script/reference/spreadsheet/sheet#getrangerow,-column\" rel=\"nofollow noreferrer\">getRange(row, column)</a></li>\n<li><a href=\"https://developers.google.com/apps-script/reference/spreadsheet/sheet#getrangerow,-column,-numrows\" rel=\"nofollow noreferrer\">getRange(row, column, numRows)</a></li>\n<li><a href=\"https://developers.google.com/apps-script/reference/spreadsheet/sheet#getrangerow,-column,-numrows,-numcolumns\" rel=\"nofollow noreferrer\">getRange(row, column, numRows, numColumns)</a></li>\n</ul>\n<hr />\n<ul>\n<li><a href=\"https://developers.google.com/apps-script/reference/spreadsheet/range#offsetrowoffset,-columnoffset\" rel=\"nofollow noreferrer\">offset(rowOffset, columnOffset)</a></li>\n<li><a href=\"https://developers.google.com/apps-script/reference/spreadsheet/range#offsetrowoffset,-columnoffset,-numrows\" rel=\"nofollow noreferrer\">offset(rowOffset, columnOffset, numRows)</a></li>\n<li><a href=\"https://developers.google.com/apps-script/reference/spreadsheet/range#offsetrowoffset,-columnoffset,-numrows,-numcolumns\" rel=\"nofollow noreferrer\">offset(rowOffset, columnOffset, numRows, numColumns)</a></li>\n</ul>\n"}],"owner":{"account_id":29288985,"reputation":1,"user_id":22439915,"display_name":"Vet Council"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1694260659,"creation_date":1694243803,"question_id":77071223,"body_markdown":"`//`This should trigger an email from a google sheet (data from a google form) when pet vaccinations are due, reminding the pet owner to vaccinate their pet and asking them to check their contact details are correct, with a URL link to go back and edit the data.  when I run this code I get an error Exception: The parameters (String) don&#39;t match the method signature for SpreadsheetApp.Sheet.getDataRange.\r\n\r\n`your text`    function reminderEmail() {\r\n  \r\n`your text`  var fullname = 8;\r\n`your text`var petname = 6;\r\n`your text`  var address = 9;\r\n`your text` var cellnumber = 10;\r\n`your text`  var firstcellnumber = 11;\r\n`your text`  var secondcellnumber = 12;\r\n`your text`  var editURL = 15;\r\n`your text`  var email = 2;\r\n\r\n\r\n`your text`  var sheet = SpreadsheetApp.getActiveSpreadsheet().getSheetByName(&#39;Users&#39;);\r\n\r\n\r\n`your text`  var data = sheet.getDataRange(&quot;A1:P&quot; + sheet.getLastRow()).getValues(); \r\n\r\n\r\n`your text`  var users = data.slice(1);\r\n\r\n\r\n`your text`  var today = new Date();\r\n\r\n\r\n`your text`  data = data.filter(function(r){return r[15] == false });\r\n  \r\n`your text`  data.forEach(function(row){\r\n\r\n\r\n`your text`   users.forEach((user, index) =&gt; {\r\n`your text`      if (user[14]==&#39;&#39;){\r\n`your text`        const date = new Date(user [13]);\r\n`your text`        const diff = Math.round((date-today)/1000*60*60*24);\r\n`your text`        const range = sheet.getRange(index+2,15);\r\n`your text`        if(diff&gt;0){\r\n`your text`          var subject = &#39;Reminder to Revaccinate and Update records&#39;;\r\n`your text`          var message =\r\n`your text`         &#39;Please revaccinate  &#39;+ row[6] +&#39; and check that the following contact details we have, are correct&#39; +\r\n`your text`         &#39;\\n&#39; +\r\n`your text`         &#39;Name:&#39; +\r\n`your text`         row[8] +\r\n`your text`         &#39;\\n&#39; +\r\n`your text`         &#39;Cell Number:&#39; +\r\n`your text`         row[10] +\r\n`your text`         &#39;\\n&#39; +\r\n`your text`         &#39;1st friend/family Cell Number:&#39; +\r\n`your text`         row[11] +\r\n`your text`         &#39;\\n&#39; +\r\n`your text`         &#39;2nd friend/family Cell Number:&#39; +\r\n`your text`         row[12] +\r\n`your text`          &#39;\\n&#39; +\r\n`your text`         &#39;Address:&#39; +\r\n`your text`         row[9] +\r\n`your text`         &#39;\\n&#39; +\r\n`your text`         &#39;Once revaccinated, please click on this link to enter the new revaccination date and UPDATE your contact details if they have changed at all.  If your pet has passed, updating the database will also stop these emails coming through.&#39; +\r\n`your text`        row[15] +\r\n`your text`          &#39;\\n&#39; +\r\n`your text`         &#39; Kind Regards, The Vet Council of Zimbabwe &#39; ;\r\n`your text`          GmailApp.sendEmail(row[mail], subject, message);\r\n\r\n\r\n`your text`          range.setValue(&#39;sent&#39; +today);\r\n`your text`        }\r\n`your text`        Logger.log(diff);\r\n`your text`      }else{\r\n`your text`     Logger.log(user[14]);\r\n`your text`      }});\r\n`your text`  });\r\n`your text`}","title":"Exception: The parameters (String) don&#39;t match the method signature for SpreadsheetApp.Sheet.getDataRange","body":"<p><code>//</code>This should trigger an email from a google sheet (data from a google form) when pet vaccinations are due, reminding the pet owner to vaccinate their pet and asking them to check their contact details are correct, with a URL link to go back and edit the data.  when I run this code I get an error Exception: The parameters (String) don't match the method signature for SpreadsheetApp.Sheet.getDataRange.</p>\n<p><code>your text</code>    function reminderEmail() {</p>\n<p><code>your text</code>  var fullname = 8;\n<code>your text</code>var petname = 6;\n<code>your text</code>  var address = 9;\n<code>your text</code> var cellnumber = 10;\n<code>your text</code>  var firstcellnumber = 11;\n<code>your text</code>  var secondcellnumber = 12;\n<code>your text</code>  var editURL = 15;\n<code>your text</code>  var email = 2;</p>\n<p><code>your text</code>  var sheet = SpreadsheetApp.getActiveSpreadsheet().getSheetByName('Users');</p>\n<p><code>your text</code>  var data = sheet.getDataRange(&quot;A1:P&quot; + sheet.getLastRow()).getValues();</p>\n<p><code>your text</code>  var users = data.slice(1);</p>\n<p><code>your text</code>  var today = new Date();</p>\n<p><code>your text</code>  data = data.filter(function(r){return r[15] == false });</p>\n<p><code>your text</code>  data.forEach(function(row){</p>\n<p><code>your text</code>   users.forEach((user, index) =&gt; {\n<code>your text</code>      if (user[14]==''){\n<code>your text</code>        const date = new Date(user [13]);\n<code>your text</code>        const diff = Math.round((date-today)/1000<em>60</em>60*24);\n<code>your text</code>        const range = sheet.getRange(index+2,15);\n<code>your text</code>        if(diff&gt;0){\n<code>your text</code>          var subject = 'Reminder to Revaccinate and Update records';\n<code>your text</code>          var message =\n<code>your text</code>         'Please revaccinate  '+ row[6] +' and check that the following contact details we have, are correct' +\n<code>your text</code>         '\\n' +\n<code>your text</code>         'Name:' +\n<code>your text</code>         row[8] +\n<code>your text</code>         '\\n' +\n<code>your text</code>         'Cell Number:' +\n<code>your text</code>         row[10] +\n<code>your text</code>         '\\n' +\n<code>your text</code>         '1st friend/family Cell Number:' +\n<code>your text</code>         row[11] +\n<code>your text</code>         '\\n' +\n<code>your text</code>         '2nd friend/family Cell Number:' +\n<code>your text</code>         row[12] +\n<code>your text</code>          '\\n' +\n<code>your text</code>         'Address:' +\n<code>your text</code>         row[9] +\n<code>your text</code>         '\\n' +\n<code>your text</code>         'Once revaccinated, please click on this link to enter the new revaccination date and UPDATE your contact details if they have changed at all.  If your pet has passed, updating the database will also stop these emails coming through.' +\n<code>your text</code>        row[15] +\n<code>your text</code>          '\\n' +\n<code>your text</code>         ' Kind Regards, The Vet Council of Zimbabwe ' ;\n<code>your text</code>          GmailApp.sendEmail(row[mail], subject, message);</p>\n<p><code>your text</code>          range.setValue('sent' +today);\n<code>your text</code>        }\n<code>your text</code>        Logger.log(diff);\n<code>your text</code>      }else{\n<code>your text</code>     Logger.log(user[14]);\n<code>your text</code>      }});\n<code>your text</code>  });\n<code>your text</code>}</p>\n"},{"tags":["java","spring","spring-cloud-feign","feign"],"answers":[{"tags":[],"owner":{"account_id":23657270,"reputation":21,"user_id":17685341,"display_name":"Alexy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672849186,"creation_date":1672849186,"answer_id":75008294,"question_id":74572170,"body_markdown":"I dit not succeeded in using the ResponseInterceptor.\r\n\r\nBut I&#39;ve found an alternative using the **feign.codec.Decoder**.\r\n\r\nIn this example, I&#39;m reading the `Content-Language` of every Feign client responses :\r\n\r\n    public class ClientResponseInterceptor implements Decoder {\r\n    \r\n        private final JacksonDecoder delegate;\r\n    \r\n        public ClientResponseInterceptor(JacksonDecoder delegate) {\r\n            this.delegate = delegate;\r\n        }\r\n    \r\n        @Override\r\n        public Object decode(Response response, Type type) throws IOException, FeignException {\r\n            String contentLanguageFromFeignResponse;\r\n    \r\n            Collection&lt;String&gt; contentLanguage = response.headers().get(HttpHeaders.CONTENT_LANGUAGE);\r\n            // Extract this part in another method\r\n            if (contentLanguage != null &amp;&amp; !contentLanguage.isEmpty()) {\r\n                Optional&lt;String&gt; attributeOpt = contentLanguage.stream().findFirst();\r\n                if (attributeOpt.isPresent()) {\r\n                    contentLanguageFromFeignResponse = attributeOpt.get();\r\n                }\r\n            }\r\n    \r\n            // Do something with contentLanguageFromFeignResponse\r\n    \r\n            return delegate.decode(response, type);\r\n        }\r\n    }\r\n\r\nAnd declaring it in your feign config file :\r\n\r\n    @Bean\r\n    public ClientResponseInterceptor responseInterceptor() {\r\n        return new ClientResponseInterceptor(new JacksonDecoder(/*objectMapper*/));\r\n    }\r\n\r\n(You can use another Decoder, JacksonDecoder is just an example)","title":"Feign response interceptor using Spring Cloud OpenFeign","body":"<p>I dit not succeeded in using the ResponseInterceptor.</p>\n<p>But I've found an alternative using the <strong>feign.codec.Decoder</strong>.</p>\n<p>In this example, I'm reading the <code>Content-Language</code> of every Feign client responses :</p>\n<pre><code>public class ClientResponseInterceptor implements Decoder {\n\n    private final JacksonDecoder delegate;\n\n    public ClientResponseInterceptor(JacksonDecoder delegate) {\n        this.delegate = delegate;\n    }\n\n    @Override\n    public Object decode(Response response, Type type) throws IOException, FeignException {\n        String contentLanguageFromFeignResponse;\n\n        Collection&lt;String&gt; contentLanguage = response.headers().get(HttpHeaders.CONTENT_LANGUAGE);\n        // Extract this part in another method\n        if (contentLanguage != null &amp;&amp; !contentLanguage.isEmpty()) {\n            Optional&lt;String&gt; attributeOpt = contentLanguage.stream().findFirst();\n            if (attributeOpt.isPresent()) {\n                contentLanguageFromFeignResponse = attributeOpt.get();\n            }\n        }\n\n        // Do something with contentLanguageFromFeignResponse\n\n        return delegate.decode(response, type);\n    }\n}\n</code></pre>\n<p>And declaring it in your feign config file :</p>\n<pre><code>@Bean\npublic ClientResponseInterceptor responseInterceptor() {\n    return new ClientResponseInterceptor(new JacksonDecoder(/*objectMapper*/));\n}\n</code></pre>\n<p>(You can use another Decoder, JacksonDecoder is just an example)</p>\n"},{"tags":[],"owner":{"account_id":10464171,"reputation":41,"user_id":7714014,"display_name":"zenuve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694260481,"creation_date":1684996214,"answer_id":76329469,"question_id":74572170,"body_markdown":"Below is a sample code to implement ResponseInterceptor for openfeign with spring-boot.\r\n\r\n    import feign.InvocationContext;\r\n    import feign.ResponseInterceptor;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class FeignClientInterceptor implements ResponseInterceptor {\r\n\r\n        @Override\r\n        public Object aroundDecode(InvocationContext invocationContext) {\r\n    \r\n            feign.Response response= invocationContext.response();\r\n            feign.Request request=response.request();\r\n\r\n            //Do something with request and response        \r\n\r\n            return invocationContext.proceed();\r\n        }\r\n    }\r\n\r\nDependency used for this example:\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;2022.0.1&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"Feign response interceptor using Spring Cloud OpenFeign","body":"<p>Below is a sample code to implement ResponseInterceptor for openfeign with spring-boot.</p>\n<pre><code>import feign.InvocationContext;\nimport feign.ResponseInterceptor;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class FeignClientInterceptor implements ResponseInterceptor {\n\n    @Override\n    public Object aroundDecode(InvocationContext invocationContext) {\n\n        feign.Response response= invocationContext.response();\n        feign.Request request=response.request();\n\n        //Do something with request and response        \n\n        return invocationContext.proceed();\n    }\n}\n</code></pre>\n<p>Dependency used for this example:</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;2022.0.1&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":11295315,"reputation":101,"user_id":8283018,"display_name":"Evillain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4957,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694260481,"creation_date":1669375857,"question_id":74572170,"body_markdown":"Feign now supports ResponseInterceptor class. Can I somehow implement it using Spring Cloud Feign or I need to use Feign.builder()?\r\n\r\nTried like this in my custom FeignConfig:\r\n\r\n```\r\n@Bean\r\npublic ClientResponseInterceptor responseInterceptor() {\r\n    return new ClientResponseInterceptor();\r\n}\r\n```\r\n\r\nBut seems not working. Any ideas how to inject custom ResponseInterceptor?","title":"Feign response interceptor using Spring Cloud OpenFeign","body":"<p>Feign now supports ResponseInterceptor class. Can I somehow implement it using Spring Cloud Feign or I need to use Feign.builder()?</p>\n<p>Tried like this in my custom FeignConfig:</p>\n<pre><code>@Bean\npublic ClientResponseInterceptor responseInterceptor() {\n    return new ClientResponseInterceptor();\n}\n</code></pre>\n<p>But seems not working. Any ideas how to inject custom ResponseInterceptor?</p>\n"},{"tags":["java","algorithm","data-structures","dynamic-programming","memoization"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694251631,"post_id":77071582,"comment_id":135869099,"body_markdown":"one points (after a fast overview): first is eventually doing `return dp[i][sum]` but never changing the initial value of the elements of `dp` (missing the inner loop is also a bit suspicious)","body":"one points (after a fast overview): first is eventually doing <code>return dp[i][sum]</code> but never changing the initial value of the elements of <code>dp</code> (missing the inner loop is also a bit suspicious)"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694254183,"creation_date":1694253281,"answer_id":77071708,"question_id":77071582,"body_markdown":"The first version has not written found results into `dp`, so it cannot take benefit from memoization. As the tests will include up to 500 different coins and amounts up to 5000, the number of times the function is called with the same arguments will be enormous.\r\n\r\nTo activate the memoization, change the `return` statement to:\r\n\r\n```\r\nreturn dp[i][sum]=t+nt;\r\n```\r\n\r\n...similarly to what the second version does.","title":"&quot;Coin change 2&quot;: Why is this dynamic programming implementation not efficient enough?","body":"<p>The first version has not written found results into <code>dp</code>, so it cannot take benefit from memoization. As the tests will include up to 500 different coins and amounts up to 5000, the number of times the function is called with the same arguments will be enormous.</p>\n<p>To activate the memoization, change the <code>return</code> statement to:</p>\n<pre><code>return dp[i][sum]=t+nt;\n</code></pre>\n<p>...similarly to what the second version does.</p>\n"}],"owner":{"account_id":24123066,"reputation":21,"user_id":18091881,"display_name":"Paurab Bhattacharjee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1694520923,"answer_count":1,"score":-1,"last_activity_date":1694260393,"creation_date":1694251261,"question_id":77071582,"body_markdown":"I am working on a [LeetCode][1] problem, [518. Coin Change II][2]:\r\n\r\n&gt; You are given an integer array `coins` representing coins of different denominations and an integer `amount` representing a total amount of money.\r\n&gt;\r\n&gt; Return *the number of combinations that make up that amount*. If that amount of money cannot be made up by any combination of the coins, return `0`.\r\n&gt;\r\n&gt; You may assume that you have an infinite number of each kind of coin.\r\n\r\nHere is the code I tried with:\r\n\r\n```lang=java\r\nclass Solution {\r\n    public int func(int[] arr,int sum,int i,int[][] dp){\r\n        if(i&gt;=arr.length) return 0;\r\n        if(sum==0) return 1;\r\n        if(sum&lt;0) return 0;\r\n        if(dp[i][sum]!=-1) return dp[i][sum];\r\n        else{\r\n            int t=func(arr,sum-arr[i],i,dp);\r\n            int nt=func(arr,sum,i+1,dp);\r\n            return t+nt;\r\n        }\r\n    }\r\n\r\n    public int change(int amount, int[] coins) {\r\n        int[][] dp=new int[coins.length][amount+1];\r\n        for(int[] arr:dp){\r\n            Arrays.fill(arr,-1);\r\n        }\r\n        return func(coins,amount,0,dp);\r\n    }\r\n}\r\n```\r\n\r\nBut it fails with a &quot;Time Limit Exceeded&quot; error for the following input:\r\n\r\n```\r\namount = 500\r\ncoins = [3,5,7,8,9,10,11]\r\n```\r\n\r\nI have another implementation that does not run into this time-out:\r\n\r\n```lang=java\r\nclass Solution {\r\n    public int func(int[] arr,int sum,int start,int[][] dp){\r\n        if(sum==0) return 1;\r\n        if(sum&lt;0) return 0;\r\n        if(dp[start][sum]!=-1) return dp[start][sum];\r\n        else{\r\n            int s=0;\r\n            for(int i=start;i&lt;arr.length;i++){\r\n                s+=func(arr,sum-arr[i],i,dp);\r\n            }\r\n            return dp[start][sum]= s;\r\n        }\r\n    }\r\n\r\n    public int change(int amount, int[] coins) {\r\n        int[][] dp=new int[coins.length][amount+1];\r\n        for(int[] arr:dp){\r\n            Arrays.fill(arr,-1);\r\n        }\r\n        return func(coins,amount,0,dp);\r\n    }\r\n}\r\n```\r\n\r\nThere are some minor differences in the approach, but I can&#39;t see a major difference. What is the difference that explains why my implementation is not efficient enough?\r\n\r\n  [1]: https://leetcode.com/\r\n  [2]: https://leetcode.com/problems/coin-change-ii/description/\r\n","title":"&quot;Coin change 2&quot;: Why is this dynamic programming implementation not efficient enough?","body":"<p>I am working on a <a href=\"https://leetcode.com/\" rel=\"nofollow noreferrer\">LeetCode</a> problem, <a href=\"https://leetcode.com/problems/coin-change-ii/description/\" rel=\"nofollow noreferrer\">518. Coin Change II</a>:</p>\n<blockquote>\n<p>You are given an integer array <code>coins</code> representing coins of different denominations and an integer <code>amount</code> representing a total amount of money.</p>\n<p>Return <em>the number of combinations that make up that amount</em>. If that amount of money cannot be made up by any combination of the coins, return <code>0</code>.</p>\n<p>You may assume that you have an infinite number of each kind of coin.</p>\n</blockquote>\n<p>Here is the code I tried with:</p>\n<pre><code>class Solution {\n    public int func(int[] arr,int sum,int i,int[][] dp){\n        if(i&gt;=arr.length) return 0;\n        if(sum==0) return 1;\n        if(sum&lt;0) return 0;\n        if(dp[i][sum]!=-1) return dp[i][sum];\n        else{\n            int t=func(arr,sum-arr[i],i,dp);\n            int nt=func(arr,sum,i+1,dp);\n            return t+nt;\n        }\n    }\n\n    public int change(int amount, int[] coins) {\n        int[][] dp=new int[coins.length][amount+1];\n        for(int[] arr:dp){\n            Arrays.fill(arr,-1);\n        }\n        return func(coins,amount,0,dp);\n    }\n}\n</code></pre>\n<p>But it fails with a &quot;Time Limit Exceeded&quot; error for the following input:</p>\n<pre><code>amount = 500\ncoins = [3,5,7,8,9,10,11]\n</code></pre>\n<p>I have another implementation that does not run into this time-out:</p>\n<pre><code>class Solution {\n    public int func(int[] arr,int sum,int start,int[][] dp){\n        if(sum==0) return 1;\n        if(sum&lt;0) return 0;\n        if(dp[start][sum]!=-1) return dp[start][sum];\n        else{\n            int s=0;\n            for(int i=start;i&lt;arr.length;i++){\n                s+=func(arr,sum-arr[i],i,dp);\n            }\n            return dp[start][sum]= s;\n        }\n    }\n\n    public int change(int amount, int[] coins) {\n        int[][] dp=new int[coins.length][amount+1];\n        for(int[] arr:dp){\n            Arrays.fill(arr,-1);\n        }\n        return func(coins,amount,0,dp);\n    }\n}\n</code></pre>\n<p>There are some minor differences in the approach, but I can't see a major difference. What is the difference that explains why my implementation is not efficient enough?</p>\n"},{"tags":["java","android","foldable"],"comments":[{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1694260060,"post_id":77071809,"comment_id":135869837,"body_markdown":"Is that your actual code, because that would definitely not compile given it would be syntactically invalid Java (the third line cannot occur outside of a method or initialiser)? Or is that code in a method?","body":"Is that your actual code, because that would definitely not compile given it would be syntactically invalid Java (the third line cannot occur outside of a method or initialiser)? Or is that code in a method?"},{"owner":{"account_id":2541410,"reputation":1193,"user_id":2207137,"accept_rate":38,"display_name":"TomV"},"score":0,"creation_date":1694269216,"post_id":77071809,"comment_id":135870780,"body_markdown":"It&#39;s inside a method. Yes. The code doesn&#39;t compile given the implementing library from the build.gradle. Main question to address is how in Android Java, how do I check if a foldable device is flat or folded?","body":"It&#39;s inside a method. Yes. The code doesn&#39;t compile given the implementing library from the build.gradle. Main question to address is how in Android Java, how do I check if a foldable device is flat or folded?"}],"owner":{"account_id":2541410,"reputation":1193,"user_id":2207137,"accept_rate":38,"display_name":"TomV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1694260031,"creation_date":1694255389,"question_id":77071809,"body_markdown":"Following a tutorial in https://developer.android.com/guide/topics/large-screens/make-apps-fold-aware, which is in Kotlin, I&#39;m attempting to use it in Java. I have issues with the library not being recognised. One of many compilation errors is: Cannot resolve method &#39;getInstance&#39; in &#39;WindowManager&#39;. Does anyone know how to check if a device is flat or folded in Android Java?\r\n\r\nThis is my code, but there are lots of compilation errors indicating the new library is not brought in.\r\n\r\nbuild.gradle\r\n```groovy\r\nimplementation &#39;androidx.window:window:1.0.0&#39;  \r\n```\r\n\r\nIn Activity which extends AppCompactActivity\r\n\r\n```java\r\nimport androidx.window.layout.FoldingFeature;\r\nimport androidx.window.layout.WindowLayoutInfo;\r\nimport androidx.window.layout.WindowMetrics;\r\nimport androidx.window.WindowManager;\r\n\r\n\t\tWindowManager windowManager = WindowManager.getInstance(this);\r\n\t\tLiveData&lt;WindowLayoutInfo&gt; layoutInfoLiveData = windowManager.getWindowLayoutInfo();\r\n\t\tlayoutInfoLiveData.observe(this, new Observer&lt;WindowLayoutInfo&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onChanged(WindowLayoutInfo windowLayoutInfo) {\r\n\t\t\t\tList&lt;FoldingFeature&gt; foldingFeatures = windowLayoutInfo.getDisplayFeaturesOfType(FoldingFeature.class);\r\n\t\t\t\tif (!foldingFeatures.isEmpty()) {\r\n\t\t\t\t\t// This is a foldable device\r\n\t\t\t\t\tFoldingFeature foldingFeature = foldingFeatures.get(0);\r\n\r\n\t\t\t\t\tswitch (foldingFeature.getState()) {\r\n\t\t\t\t\t\tcase FoldingFeature.State.FLAT:\r\n\t\t\t\t\t\t\t// The device is currently flat/unfolded\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase FoldingFeature.State.HALF_OPENED:\r\n\t\t\t\t\t\t\t// The device is half-opened (like a laptop)\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase FoldingFeature.State.FOLDED:\r\n\t\t\t\t\t\t\t// The device is fully folded\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n```\r\n\r\n\r\n\r\n","title":"In Android Java, how do I check if a foldable device is flat or folded?","body":"<p>Following a tutorial in <a href=\"https://developer.android.com/guide/topics/large-screens/make-apps-fold-aware\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/large-screens/make-apps-fold-aware</a>, which is in Kotlin, I'm attempting to use it in Java. I have issues with the library not being recognised. One of many compilation errors is: Cannot resolve method 'getInstance' in 'WindowManager'. Does anyone know how to check if a device is flat or folded in Android Java?</p>\n<p>This is my code, but there are lots of compilation errors indicating the new library is not brought in.</p>\n<p>build.gradle</p>\n<pre><code>implementation 'androidx.window:window:1.0.0'  \n</code></pre>\n<p>In Activity which extends AppCompactActivity</p>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.window.layout.FoldingFeature;\nimport androidx.window.layout.WindowLayoutInfo;\nimport androidx.window.layout.WindowMetrics;\nimport androidx.window.WindowManager;\n\n        WindowManager windowManager = WindowManager.getInstance(this);\n        LiveData&lt;WindowLayoutInfo&gt; layoutInfoLiveData = windowManager.getWindowLayoutInfo();\n        layoutInfoLiveData.observe(this, new Observer&lt;WindowLayoutInfo&gt;() {\n            @Override\n            public void onChanged(WindowLayoutInfo windowLayoutInfo) {\n                List&lt;FoldingFeature&gt; foldingFeatures = windowLayoutInfo.getDisplayFeaturesOfType(FoldingFeature.class);\n                if (!foldingFeatures.isEmpty()) {\n                    // This is a foldable device\n                    FoldingFeature foldingFeature = foldingFeatures.get(0);\n\n                    switch (foldingFeature.getState()) {\n                        case FoldingFeature.State.FLAT:\n                            // The device is currently flat/unfolded\n                            break;\n                        case FoldingFeature.State.HALF_OPENED:\n                            // The device is half-opened (like a laptop)\n                            break;\n                        case FoldingFeature.State.FOLDED:\n                            // The device is fully folded\n                            break;\n                    }\n                }\n            }\n        });\n</code></pre>\n"},{"tags":["java","multithreading","synchronization","java-threads"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1693971065,"post_id":77048837,"comment_id":135828492,"body_markdown":"Does this answer your question? [Can multiple threads write data into a file at the same time?](https://stackoverflow.com/questions/8602466/can-multiple-threads-write-data-into-a-file-at-the-same-time)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8602466/can-multiple-threads-write-data-into-a-file-at-the-same-time\">Can multiple threads write data into a file at the same time?</a>"},{"owner":{"account_id":2005971,"reputation":536,"user_id":1795860,"accept_rate":91,"display_name":"TheNytangel"},"score":4,"creation_date":1693971072,"post_id":77048837,"comment_id":135828493,"body_markdown":"It sounds like you really want something that runs sequentially instead of in parallel :) Have you considered letting it write randomly to the file, and then sorting the file by primary key afterwards?","body":"It sounds like you really want something that runs sequentially instead of in parallel :) Have you considered letting it write randomly to the file, and then sorting the file by primary key afterwards?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1693972221,"post_id":77048837,"comment_id":135828576,"body_markdown":"I think, instead, you want to look towards a &quot;producer/consumer&quot; concept - so you have multi threads &quot;producing&quot; output and a (single in this case) &quot;consumer&quot; which is consuming that content. The consumer can then make decisions about how to process the results.  You could also run all the threads and have them write to individual files and when they are all completed, combine those files into one","body":"I think, instead, you want to look towards a &quot;producer/consumer&quot; concept - so you have multi threads &quot;producing&quot; output and a (single in this case) &quot;consumer&quot; which is consuming that content. The consumer can then make decisions about how to process the results.  You could also run all the threads and have them write to individual files and when they are all completed, combine those files into one"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1693972678,"post_id":77048837,"comment_id":135828616,"body_markdown":"There are lots of different approaches one could take to this problem domain, but your proposed solution almost feels like [mapreduce](https://www.ibm.com/topics/mapreduce) (not that there&#39;s anything wrong with that).","body":"There are lots of different approaches one could take to this problem domain, but your proposed solution almost feels like <a href=\"https://www.ibm.com/topics/mapreduce\" rel=\"nofollow noreferrer\">mapreduce</a> (not that there&#39;s anything wrong with that)."},{"owner":{"account_id":435719,"reputation":513,"user_id":822461,"display_name":"Yaytay"},"score":3,"creation_date":1693976908,"post_id":77048837,"comment_id":135828931,"body_markdown":"Why not just have each thread write to a separate file?  If absolutely necessary you could cat the files afterwards, but if they are just going to be played back in order can you just leave them separate?","body":"Why not just have each thread write to a separate file?  If absolutely necessary you could cat the files afterwards, but if they are just going to be played back in order can you just leave them separate?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1693978645,"post_id":77048837,"comment_id":135829092,"body_markdown":"When dumping all of the data, does it really make sense to have it sorted on query or before writing just so you can import it in order into another system? Why bother about sorting at all?","body":"When dumping all of the data, does it really make sense to have it sorted on query or before writing just so you can import it in order into another system? Why bother about sorting at all?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1693978838,"post_id":77048837,"comment_id":135829113,"body_markdown":"Consider this question and answer: https://stackoverflow.com/q/73723475/4222206","body":"Consider this question and answer: <a href=\"https://stackoverflow.com/q/73723475/4222206\">stackoverflow.com/q/73723475/4222206</a>"},{"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"score":0,"creation_date":1693983634,"post_id":77048837,"comment_id":135829762,"body_markdown":"Thanks for your help, but I can&#39;t determine the size of the exported file. If the offset is designed according to the number of lines, but I will have other information before this, the number of lines is uncertain.@experimentunit1998X","body":"Thanks for your help, but I can&#39;t determine the size of the exported file. If the offset is designed according to the number of lines, but I will have other information before this, the number of lines is uncertain.@experimentunit1998X"},{"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"score":0,"creation_date":1693983796,"post_id":77048837,"comment_id":135829795,"body_markdown":"Thanks for the help, this seems like a good approach, I decided to write each thread to the file individually and finally write to a final file in file order.@TheNytangel","body":"Thanks for the help, this seems like a good approach, I decided to write each thread to the file individually and finally write to a final file in file order.@TheNytangel"},{"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"score":0,"creation_date":1693983962,"post_id":77048837,"comment_id":135829825,"body_markdown":"Thanks for your help, I finally decided to go with this solution.@MadProgrammer","body":"Thanks for your help, I finally decided to go with this solution.@MadProgrammer"},{"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"score":0,"creation_date":1693984102,"post_id":77048837,"comment_id":135829848,"body_markdown":"Thanks for your help, I finally decided to go with this solution. I separated them to speed up file export.@Yaytay","body":"Thanks for your help, I finally decided to go with this solution. I separated them to speed up file export.@Yaytay"},{"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"score":0,"creation_date":1693985239,"post_id":77048837,"comment_id":135830027,"body_markdown":"Thanks for the help, it doesn&#39;t seem to solve my problem, but it taught me something I didn&#39;t know.\nSome of our business scenarios rely on this sorting, such as the stored motion coordinate data of the car, which is generated and inserted into the database according to the time and the primary key is auto-incremented. If it is not in the order, we need to sort the query results, but we want to avoid Because of the time overhead caused by sorting.\nThe separate query is to speed up the sql file export time. @Queeg","body":"Thanks for the help, it doesn&#39;t seem to solve my problem, but it taught me something I didn&#39;t know. Some of our business scenarios rely on this sorting, such as the stored motion coordinate data of the car, which is generated and inserted into the database according to the time and the primary key is auto-incremented. If it is not in the order, we need to sort the query results, but we want to avoid Because of the time overhead caused by sorting. The separate query is to speed up the sql file export time. @Queeg"}],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694259932,"creation_date":1694259932,"answer_id":77072058,"question_id":77048837,"body_markdown":"We could enforce encountered order at terminal operation and do intermediate operations in parallel using streams `parallel` and `foreachOrdered` as mentioned [here](https://stackoverflow.com/questions/47336825/benefit-of-using-foreachordered-with-parallel-streams) and [here](https://stackoverflow.com/questions/29216588/how-to-ensure-order-of-processing-in-java8-streams)\r\nDid not [find](https://stackoverflow.com/questions/64500925/java-fork-join-pool-with-priority-queue) anything which could change the forkjoin pool queue to priority queue to use startId to decide priority.\r\n```\r\nimport java.io.*;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nimport java.util.concurrent.PriorityBlockingQueue;\r\nimport java.util.concurrent.ThreadPoolExecutor;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class ThreadQueryWrite {\r\n\r\n    @AllArgsConstructor\r\n    class MyRunnable implements Runnable{\r\n\r\n        /**\r\n         * database tableName\r\n         */\r\n        String tableName;\r\n        /**\r\n         * The starting primary key of the query range\r\n         */\r\n        long startId;\r\n\r\n        public long getStartId() {\r\n            return startId;\r\n        }\r\n\r\n        /**\r\n         * The ending primary key of the query range\r\n         */\r\n        long endId;\r\n\r\n        /**\r\n         * File writing character stream\r\n         */\r\n        Writer writer;\r\n\r\n\r\n\r\n        @Override\r\n        public void run() {\r\n            doQuery();\r\n\r\n        }\r\n\r\n        private void doQuery() {\r\n            // resultSet = select * from tableName where id between startId and endId;\r\n            // doWriteFile(resultSet);\r\n        }\r\n\r\n        public StringBuilder queryAndGetResult() {\r\n            System.out.println(startId+&quot; Querying for startId &quot;);\r\n            // resultSet = select * from tableName where id between startId and endId;\r\n            ResultSet resultSet = null;\r\n            StringBuilder sb = new StringBuilder(&quot;&quot;+startId);\r\n            try {\r\n               // while(resultSet.next()){\r\n                    // sb.append()\r\n                //}\r\n\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            System.out.println(startId+&quot; Query Result &quot;);\r\n\r\n            return sb;\r\n        }\r\n\r\n\r\n\r\n        private void doWriteFile(ResultSet resultSet) {\r\n            StringBuilder sb = new StringBuilder(&quot;(&quot;);\r\n            try {\r\n                while(resultSet.next()){\r\n                    // sb.append()\r\n                }\r\n                synchronized(writer){\r\n                    writer.write(sb.toString());\r\n                }\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        // Assuming that the number of rows of database data\r\n        // has been obtained is 10000000 rows\r\n        int count = 100;\r\n        String tableName = &quot;test_table&quot;;\r\n        String filePath = &quot;c:\\\\test\\\\test.sql&quot;;\r\n        ThreadQueryWrite queryWrite = new ThreadQueryWrite();\r\n        queryWrite.doExportSql(count, tableName, filePath);\r\n    }\r\n\r\n    private void doExportSql(int count, String tableName, String filePath) throws IOException {\r\n        int maxQueryCount = 3;//for increasing readibility of output\r\n\r\n        Writer writer = new OutputStreamWriter(Files.newOutputStream(Paths.get(filePath)),\r\n                StandardCharsets.UTF_8);\r\n        ArrayList&lt;MyRunnable&gt; myRunnables = new ArrayList&lt;&gt;();\r\n        for (int i = 1; i &lt; count; i += maxQueryCount) {\r\n            MyRunnable myRunnable = new MyRunnable(tableName, i, i + maxQueryCount - 1, writer);\r\n            myRunnables.add(myRunnable);\r\n        }\r\n\r\n        myRunnables.stream()\r\n                .parallel()\r\n                .map(myRunnable -&gt; myRunnable.queryAndGetResult())\r\n                .forEachOrdered(resultSetString-&gt; writeToFile(writer, resultSetString));\r\n\r\n\r\n    }\r\n\r\n    private static void writeToFile(Writer writer, StringBuilder resultSetString) {\r\n        try {\r\n            System.out.println(resultSetString+&quot; File out&quot;);\r\n            writer.write(resultSetString.toString());\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"How to make threads execute in the order they are created in Java","body":"<p>We could enforce encountered order at terminal operation and do intermediate operations in parallel using streams <code>parallel</code> and <code>foreachOrdered</code> as mentioned <a href=\"https://stackoverflow.com/questions/47336825/benefit-of-using-foreachordered-with-parallel-streams\">here</a> and <a href=\"https://stackoverflow.com/questions/29216588/how-to-ensure-order-of-processing-in-java8-streams\">here</a>\nDid not <a href=\"https://stackoverflow.com/questions/64500925/java-fork-join-pool-with-priority-queue\">find</a> anything which could change the forkjoin pool queue to priority queue to use startId to decide priority.</p>\n<pre><code>import java.io.*;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.concurrent.PriorityBlockingQueue;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class ThreadQueryWrite {\n\n    @AllArgsConstructor\n    class MyRunnable implements Runnable{\n\n        /**\n         * database tableName\n         */\n        String tableName;\n        /**\n         * The starting primary key of the query range\n         */\n        long startId;\n\n        public long getStartId() {\n            return startId;\n        }\n\n        /**\n         * The ending primary key of the query range\n         */\n        long endId;\n\n        /**\n         * File writing character stream\n         */\n        Writer writer;\n\n\n\n        @Override\n        public void run() {\n            doQuery();\n\n        }\n\n        private void doQuery() {\n            // resultSet = select * from tableName where id between startId and endId;\n            // doWriteFile(resultSet);\n        }\n\n        public StringBuilder queryAndGetResult() {\n            System.out.println(startId+&quot; Querying for startId &quot;);\n            // resultSet = select * from tableName where id between startId and endId;\n            ResultSet resultSet = null;\n            StringBuilder sb = new StringBuilder(&quot;&quot;+startId);\n            try {\n               // while(resultSet.next()){\n                    // sb.append()\n                //}\n\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n            System.out.println(startId+&quot; Query Result &quot;);\n\n            return sb;\n        }\n\n\n\n        private void doWriteFile(ResultSet resultSet) {\n            StringBuilder sb = new StringBuilder(&quot;(&quot;);\n            try {\n                while(resultSet.next()){\n                    // sb.append()\n                }\n                synchronized(writer){\n                    writer.write(sb.toString());\n                }\n            } catch (SQLException e) {\n                throw new RuntimeException(e);\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n\n\n    public static void main(String[] args) throws IOException {\n        // Assuming that the number of rows of database data\n        // has been obtained is 10000000 rows\n        int count = 100;\n        String tableName = &quot;test_table&quot;;\n        String filePath = &quot;c:\\\\test\\\\test.sql&quot;;\n        ThreadQueryWrite queryWrite = new ThreadQueryWrite();\n        queryWrite.doExportSql(count, tableName, filePath);\n    }\n\n    private void doExportSql(int count, String tableName, String filePath) throws IOException {\n        int maxQueryCount = 3;//for increasing readibility of output\n\n        Writer writer = new OutputStreamWriter(Files.newOutputStream(Paths.get(filePath)),\n                StandardCharsets.UTF_8);\n        ArrayList&lt;MyRunnable&gt; myRunnables = new ArrayList&lt;&gt;();\n        for (int i = 1; i &lt; count; i += maxQueryCount) {\n            MyRunnable myRunnable = new MyRunnable(tableName, i, i + maxQueryCount - 1, writer);\n            myRunnables.add(myRunnable);\n        }\n\n        myRunnables.stream()\n                .parallel()\n                .map(myRunnable -&gt; myRunnable.queryAndGetResult())\n                .forEachOrdered(resultSetString-&gt; writeToFile(writer, resultSetString));\n\n\n    }\n\n    private static void writeToFile(Writer writer, StringBuilder resultSetString) {\n        try {\n            System.out.println(resultSetString+&quot; File out&quot;);\n            writer.write(resultSetString.toString());\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77072058,"answer_count":1,"score":0,"last_activity_date":1694259932,"creation_date":1693970412,"question_id":77048837,"body_markdown":"I am using a niche database. It currently does not support the export of sql files in terms of data backup, only dump files, but the demand needs to export sql files, so I can only query them by myself and write them into the sql file.\r\n\r\nBecause the code is commercial, so I abstract the code, which causes inconvenience, please forgive me.\r\n\r\n```Java\r\nimport lombok.AllArgsConstructor;\r\n\r\nimport java.io.*;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.concurrent.LinkedBlockingQueue;\r\nimport java.util.concurrent.ThreadPoolExecutor;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class ThreadQueryWrite {\r\n\r\n    @AllArgsConstructor\r\n    class MyRunnable implements Runnable{\r\n\r\n        /**\r\n         * database tableName\r\n         */\r\n        String tableName;\r\n        /**\r\n         * The starting primary key of the query range\r\n         */\r\n        long startId;\r\n        /**\r\n         * The ending primary key of the query range\r\n         */\r\n        long endId;\r\n\r\n        /**\r\n         * File writing character stream\r\n         */\r\n        Writer writer;\r\n\r\n\r\n\r\n        @Override\r\n        public void run() {\r\n            doQuery();\r\n\r\n        }\r\n\r\n        private void doQuery() {\r\n            // resultSet = select * from tableName where id between startId and endId;\r\n            // doWriteFile(resultSet);\r\n        }\r\n\r\n        private void doWriteFile(ResultSet resultSet) {\r\n            StringBuilder sb = new StringBuilder(&quot;(&quot;);\r\n            try {\r\n                while(resultSet.next()){\r\n                    // sb.append()\r\n                }\r\n                synchronized(writer){\r\n                    writer.write(sb.toString());\r\n                }\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        // Assuming that the number of rows of database data\r\n        // has been obtained is 10000000 rows\r\n        int count = 10000000;\r\n        String tableName = &quot;test_table&quot;;\r\n        String filePath = &quot;c:\\\\test\\\\test.sql&quot;;\r\n        ThreadQueryWrite queryWrite = new ThreadQueryWrite();\r\n        queryWrite.doExportSql(count, tableName, filePath);\r\n    }\r\n\r\n    private void doExportSql(int count, String tableName, String filePath) throws IOException {\r\n        int maxQueryCount = 3000;\r\n\r\n        ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor(Runtime.getRuntime().availableProcessors(),\r\n                Runtime.getRuntime().availableProcessors() * 2, 5, TimeUnit.MINUTES,\r\n                new LinkedBlockingQueue&lt;&gt;());\r\n\r\n        Writer writer = new OutputStreamWriter(Files.newOutputStream(Paths.get(filePath)),\r\n                StandardCharsets.UTF_8);\r\n        for (int i = 1; i &lt; count; i += maxQueryCount) {\r\n            MyRunnable myRunnable = new MyRunnable(tableName, i, i + maxQueryCount - 1, writer);\r\n            threadPoolExecutor.submit(myRunnable);\r\n        }\r\n        threadPoolExecutor.shutdown();\r\n    }\r\n\r\n}\r\n```\r\n\r\nBecause some tables have a large amount of data, I want to save as much time as possible, so I use multi-threading. Each thread divides a range according to the primary key and performs asynchronous queries.\r\n\r\nI want to ensure that the primary key id is continuous when writing to the file, from 1 to 10000000.\r\n\r\n```sql\r\ninsert into table(id) values\r\n    (1),\r\n    ......,\r\n    (3000);\r\ninsert into table(id) values\r\n    (3001),\r\n    ......,\r\n    (6000);\r\n......\r\n```\r\n\r\nHowever, I perform a segmented query based on the primary key id, and there is no guarantee which thread will execute the query first. This may cause the id range to be 3001\\~6000 at the beginning of the file, and the id to be 1\\~3000 at the end, as follows,\r\n\r\n```\r\ninsert into table(id) values\r\n    (3001),\r\n    ......,\r\n    (6000);\r\ninsert into table(id) values\r\n    (1),\r\n    ......,\r\n    (3000);\r\n......\r\n```\r\n\r\nI have tried this method[Ordering threads to run in the order they were created/started](https://stackoverflow.com/questions/3741765/ordering-threads-to-run-in-the-order-they-were-created-started)\r\n\r\nBut this may bring a lot of memory pressure, because I load all the query data into the memory, and then process the callback results of the threads one by one to write the SQL file.\r\n\r\nI hope that the primary key id in the sql file is in order, according to the order of self-increment in the database.\r\n\r\nThere is currently no solution, any reply would be greatly appreciated.","title":"How to make threads execute in the order they are created in Java","body":"<p>I am using a niche database. It currently does not support the export of sql files in terms of data backup, only dump files, but the demand needs to export sql files, so I can only query them by myself and write them into the sql file.</p>\n<p>Because the code is commercial, so I abstract the code, which causes inconvenience, please forgive me.</p>\n<pre><code>import lombok.AllArgsConstructor;\n\nimport java.io.*;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.concurrent.LinkedBlockingQueue;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\n\npublic class ThreadQueryWrite {\n\n    @AllArgsConstructor\n    class MyRunnable implements Runnable{\n\n        /**\n         * database tableName\n         */\n        String tableName;\n        /**\n         * The starting primary key of the query range\n         */\n        long startId;\n        /**\n         * The ending primary key of the query range\n         */\n        long endId;\n\n        /**\n         * File writing character stream\n         */\n        Writer writer;\n\n\n\n        @Override\n        public void run() {\n            doQuery();\n\n        }\n\n        private void doQuery() {\n            // resultSet = select * from tableName where id between startId and endId;\n            // doWriteFile(resultSet);\n        }\n\n        private void doWriteFile(ResultSet resultSet) {\n            StringBuilder sb = new StringBuilder(&quot;(&quot;);\n            try {\n                while(resultSet.next()){\n                    // sb.append()\n                }\n                synchronized(writer){\n                    writer.write(sb.toString());\n                }\n            } catch (SQLException e) {\n                throw new RuntimeException(e);\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n\n\n    public static void main(String[] args) throws IOException {\n        // Assuming that the number of rows of database data\n        // has been obtained is 10000000 rows\n        int count = 10000000;\n        String tableName = &quot;test_table&quot;;\n        String filePath = &quot;c:\\\\test\\\\test.sql&quot;;\n        ThreadQueryWrite queryWrite = new ThreadQueryWrite();\n        queryWrite.doExportSql(count, tableName, filePath);\n    }\n\n    private void doExportSql(int count, String tableName, String filePath) throws IOException {\n        int maxQueryCount = 3000;\n\n        ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor(Runtime.getRuntime().availableProcessors(),\n                Runtime.getRuntime().availableProcessors() * 2, 5, TimeUnit.MINUTES,\n                new LinkedBlockingQueue&lt;&gt;());\n\n        Writer writer = new OutputStreamWriter(Files.newOutputStream(Paths.get(filePath)),\n                StandardCharsets.UTF_8);\n        for (int i = 1; i &lt; count; i += maxQueryCount) {\n            MyRunnable myRunnable = new MyRunnable(tableName, i, i + maxQueryCount - 1, writer);\n            threadPoolExecutor.submit(myRunnable);\n        }\n        threadPoolExecutor.shutdown();\n    }\n\n}\n</code></pre>\n<p>Because some tables have a large amount of data, I want to save as much time as possible, so I use multi-threading. Each thread divides a range according to the primary key and performs asynchronous queries.</p>\n<p>I want to ensure that the primary key id is continuous when writing to the file, from 1 to 10000000.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into table(id) values\n    (1),\n    ......,\n    (3000);\ninsert into table(id) values\n    (3001),\n    ......,\n    (6000);\n......\n</code></pre>\n<p>However, I perform a segmented query based on the primary key id, and there is no guarantee which thread will execute the query first. This may cause the id range to be 3001~6000 at the beginning of the file, and the id to be 1~3000 at the end, as follows,</p>\n<pre><code>insert into table(id) values\n    (3001),\n    ......,\n    (6000);\ninsert into table(id) values\n    (1),\n    ......,\n    (3000);\n......\n</code></pre>\n<p>I have tried this method<a href=\"https://stackoverflow.com/questions/3741765/ordering-threads-to-run-in-the-order-they-were-created-started\">Ordering threads to run in the order they were created/started</a></p>\n<p>But this may bring a lot of memory pressure, because I load all the query data into the memory, and then process the callback results of the threads one by one to write the SQL file.</p>\n<p>I hope that the primary key id in the sql file is in order, according to the order of self-increment in the database.</p>\n<p>There is currently no solution, any reply would be greatly appreciated.</p>\n"},{"tags":["java","android","path","drawing"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1694259941,"post_id":77072041,"comment_id":135869829,"body_markdown":"Your drawing should be a collection (graph?) of model objects. You use the data in the model objects to determine what drawing operations to perform on the `Canvas`. You save the model objects to a file (JSON or otherwise). Your drawing operations should be modifying the model objects in addition to (or instead of) the `Canvas`. Your model objects represent the drawing itself -- the `Canvas` is merely one representation of the drawing.","body":"Your drawing should be a collection (graph?) of model objects. You use the data in the model objects to determine what drawing operations to perform on the <code>Canvas</code>. You save the model objects to a file (JSON or otherwise). Your drawing operations should be modifying the model objects in addition to (or instead of) the <code>Canvas</code>. Your model objects represent the drawing itself -- the <code>Canvas</code> is merely one representation of the drawing."},{"owner":{"account_id":29401453,"reputation":11,"user_id":22527539,"display_name":"Arvind Kaushik"},"score":0,"creation_date":1694261242,"post_id":77072041,"comment_id":135869967,"body_markdown":"can&#39;t understand you","body":"can&#39;t understand you"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1694261570,"post_id":77072041,"comment_id":135869996,"body_markdown":"Perhaps you should start learning Android with a simpler project, or by reading a book, or by taking a course. There are also [many open source drawing apps](https://search.f-droid.org/?q=drawing&amp;lang=en), and you could look to see how they approach the problem.","body":"Perhaps you should start learning Android with a simpler project, or by reading a book, or by taking a course. There are also <a href=\"https://search.f-droid.org/?q=drawing&amp;lang=en\" rel=\"nofollow noreferrer\">many open source drawing apps</a>, and you could look to see how they approach the problem."},{"owner":{"account_id":29401453,"reputation":11,"user_id":22527539,"display_name":"Arvind Kaushik"},"score":0,"creation_date":1694263307,"post_id":77072041,"comment_id":135870182,"body_markdown":"can you suggest any good book to lean android development or youtube channel?","body":"can you suggest any good book to lean android development or youtube channel?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1694267215,"post_id":77072041,"comment_id":135870585,"body_markdown":"I wrote [a lot of Android app development books](https://commonsware.com/catalog), and all of the existing ones are free to download.","body":"I wrote <a href=\"https://commonsware.com/catalog\" rel=\"nofollow noreferrer\">a lot of Android app development books</a>, and all of the existing ones are free to download."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1694286816,"post_id":77072041,"comment_id":135872491,"body_markdown":"You may want to read [ask]","body":"You may want to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":29401453,"reputation":11,"user_id":22527539,"display_name":"Arvind Kaushik"},"score":0,"creation_date":1694509154,"post_id":77072041,"comment_id":135896530,"body_markdown":"@CommonsWare i feel, it will take long time to learn android from scratch, can you please provide some code to solve my problem at time. I will learn android after few months later.&#128578;","body":"@CommonsWare i feel, it will take long time to learn android from scratch, can you please provide some code to solve my problem at time. I will learn android after few months later.🙂"},{"owner":{"account_id":29401453,"reputation":11,"user_id":22527539,"display_name":"Arvind Kaushik"},"score":0,"creation_date":1694876230,"post_id":77072041,"comment_id":135950437,"body_markdown":"can anybody help me , about my problem?","body":"can anybody help me , about my problem?"}],"owner":{"account_id":29401453,"reputation":11,"user_id":22527539,"display_name":"Arvind Kaushik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694259751,"creation_date":1694259751,"question_id":77072041,"body_markdown":"i am creating a drawing app in android studio,\r\ni want to save drawing as a project file in memory but i am not able to save android.graphic.path arraylist in project file,\r\n\r\ncan any body help me to save drawing as a project file and load again when i want to draw previews project.\r\nhere is souce code of [paintView.java](https://github.com/techwithkaushik/drawing-app/blob/main/app/src/main/java/com/ask2784/drawingapp/PaintView.java)\r\n\r\ni try to save pathList and paintList as a object by outputstraem and Gson but not success, always getting pathList as empty.\r\n\r\ni am expecting that whole drawing save as project and reload when want to work on when i left it.","title":"How to save drawing as Project file and restore before start drawing","body":"<p>i am creating a drawing app in android studio,\ni want to save drawing as a project file in memory but i am not able to save android.graphic.path arraylist in project file,</p>\n<p>can any body help me to save drawing as a project file and load again when i want to draw previews project.\nhere is souce code of <a href=\"https://github.com/techwithkaushik/drawing-app/blob/main/app/src/main/java/com/ask2784/drawingapp/PaintView.java\" rel=\"nofollow noreferrer\">paintView.java</a></p>\n<p>i try to save pathList and paintList as a object by outputstraem and Gson but not success, always getting pathList as empty.</p>\n<p>i am expecting that whole drawing save as project and reload when want to work on when i left it.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","h2"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1694202102,"post_id":77058865,"comment_id":135865273,"body_markdown":"I had a similar problem a while back, and had to add the dialect for it to work, try it and if does work I will add an answer: `spring.jpa.generate-ddl=true` this to verify the script being created (helped to identify the problem) and this `spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect` and this one to set compatibility.","body":"I had a similar problem a while back, and had to add the dialect for it to work, try it and if does work I will add an answer: <code>spring.jpa.generate-ddl=true</code> this to verify the script being created (helped to identify the problem) and this <code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialec&zwnj;&#8203;t.MySQL5Dialect</code> and this one to set compatibility."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1694202375,"post_id":77058865,"comment_id":135865316,"body_markdown":"Add `spring.jpa.generate-ddl=true` and this one to ? `spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.` ?","body":"Add <code>spring.jpa.generate-ddl=true</code> and this one to ? <code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialec&zwnj;&#8203;t.</code> ?"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1694202537,"post_id":77058865,"comment_id":135865335,"body_markdown":"Yes both, the first one is just to check what is the sql script the application is trying to use to create the tables, the second one is to set the hibernate dialect to be MySQL compatible. In my case, some of the annotations contained mysql specific database stuff which H2 didn&#39;t support once I added the dialect the problem went away","body":"Yes both, the first one is just to check what is the sql script the application is trying to use to create the tables, the second one is to set the hibernate dialect to be MySQL compatible. In my case, some of the annotations contained mysql specific database stuff which H2 didn&#39;t support once I added the dialect the problem went away"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1694202623,"post_id":77058865,"comment_id":135865348,"body_markdown":"Thanks - just tried but still table not found.","body":"Thanks - just tried but still table not found."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1694202705,"post_id":77058865,"comment_id":135865365,"body_markdown":"Is there a way to see there DDL (and errors) generated by Hibnerante?","body":"Is there a way to see there DDL (and errors) generated by Hibnerante?"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1694202792,"post_id":77058865,"comment_id":135865376,"body_markdown":"yeap you can set the application to print the sql in the logs `spring.jpa.show-sql=true`","body":"yeap you can set the application to print the sql in the logs <code>spring.jpa.show-sql=true</code>"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1694202896,"post_id":77058865,"comment_id":135865402,"body_markdown":"Also your question might be a duplicate of this one: https://stackoverflow.com/q/45302132/460557 check if anything there might help","body":"Also your question might be a duplicate of this one: <a href=\"https://stackoverflow.com/q/45302132/460557\">stackoverflow.com/q/45302132/460557</a> check if anything there might help"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1694203272,"post_id":77058865,"comment_id":135865456,"body_markdown":"No I think he had connection issues. I can paste stack trace in chat (see comments below)","body":"No I think he had connection issues. I can paste stack trace in chat (see comments below)"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1694203330,"post_id":77058865,"comment_id":135865468,"body_markdown":"Add to your question.","body":"Add to your question."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1694203950,"post_id":77058865,"comment_id":135865562,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255216/discussion-between-al-grant-and-jorge-campos).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255216/discussion-between-al-grant-and-jorge-campos\">continue this discussion in chat</a>."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1694210642,"post_id":77058865,"comment_id":135866405,"body_markdown":"based on your exception the problem is H2 doesn&#39;t have `DATETIME` type... http://www.h2database.com/html/datatypes.html","body":"based on your exception the problem is H2 doesn&#39;t have <code>DATETIME</code> type... <a href=\"http://www.h2database.com/html/datatypes.html\" rel=\"nofollow noreferrer\">h2database.com/html/datatypes.html</a>"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1694210690,"post_id":77058865,"comment_id":135866413,"body_markdown":"I will suggest running a local client of H2 and trying the DDL script there, see what is wrong, then search around how to workaround the limitation.","body":"I will suggest running a local client of H2 and trying the DDL script there, see what is wrong, then search around how to workaround the limitation."}],"answers":[{"tags":[],"owner":{"account_id":24672893,"reputation":73,"user_id":18567686,"display_name":"Magic Developement"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694123262,"creation_date":1694119262,"answer_id":77062728,"question_id":77058865,"body_markdown":"Based on the resource that you provided, your code appears to be correct. I think the issue might be in the application.properties file. Please ensure that you have the following properties set:&quot;\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=password\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\nupdate class with\r\n```\r\n@Entity\r\n@Table(name = &quot;health_check&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString\r\n@Data\r\npublic class HealthCheck {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;health_check_seq&quot;)\r\n    @SequenceGenerator(name = &quot;health_check_seq&quot;, sequenceName = &quot;HEALTH_CHECK_SEQ&quot;, initialValue = 100, allocationSize = 50)\r\n    private Long id;\r\n\r\n    @JsonManagedReference\r\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n    @JoinColumn(name = &quot;bird_id&quot;) // Make sure to specify the correct column name\r\n    private Bird bird;\r\n\r\n    @JsonManagedReference\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;healthCheck&quot;)\r\n    private List&lt;Task&gt; tasks;\r\n\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;)\r\n    private LocalDateTime catchDateTime;\r\n\r\n    @JsonBackReference\r\n    @Column(columnDefinition = &quot;geometry(Point, 4326)&quot;) // Customize this based on your database and GIS library\r\n    private Point location;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;holder_id&quot;)\r\n    private User holder;\r\n\r\n    // Getter and setter methods for all fields\r\n}\r\n```","title":"H2 Spring Boot - not creating tables with LocalDateTime properties","body":"<p>Based on the resource that you provided, your code appears to be correct. I think the issue might be in the application.properties file. Please ensure that you have the following properties set:&quot;</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>update class with</p>\n<pre><code>@Entity\n@Table(name = &quot;health_check&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@Data\npublic class HealthCheck {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;health_check_seq&quot;)\n    @SequenceGenerator(name = &quot;health_check_seq&quot;, sequenceName = &quot;HEALTH_CHECK_SEQ&quot;, initialValue = 100, allocationSize = 50)\n    private Long id;\n\n    @JsonManagedReference\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\n    @JoinColumn(name = &quot;bird_id&quot;) // Make sure to specify the correct column name\n    private Bird bird;\n\n    @JsonManagedReference\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;healthCheck&quot;)\n    private List&lt;Task&gt; tasks;\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;)\n    private LocalDateTime catchDateTime;\n\n    @JsonBackReference\n    @Column(columnDefinition = &quot;geometry(Point, 4326)&quot;) // Customize this based on your database and GIS library\n    private Point location;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;holder_id&quot;)\n    private User holder;\n\n    // Getter and setter methods for all fields\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694259193,"creation_date":1694259193,"answer_id":77072011,"question_id":77058865,"body_markdown":"In the end I had a few issues that were stopping my H2 database from building tables.\r\n\r\n**Problem 1**\r\n\r\nThe first issue with it not creating any tables where I had a `LocalDateTime` property - this was because despite using Spring Boot 3.2 I had a legacy reference in my `build.gradle` which meant I was using a very old version of H2.\r\n\r\nI removed:\r\n\r\n    ext[&#39;h2.version&#39;] = &#39;1.4.197&#39;\r\n\r\nAnd let Spring Boot set the H2 version (much newer).\r\n\r\n**Problem 2**\r\n\r\nFor the sake of completeness I will add that I still could not get my tables built with H2. \r\n\r\nA secondary issue I suspect was a table named with the reserved word `user` - I renamed this to `Person` per [this][1] answer.\r\n\r\n**Problem 3**\r\n\r\nThe final issue was not realising that `application.properties` gets loaded on all profiles so it was loaded in **addition** to my `application-dev.properties` - this meant I had the MySQL Engine=InnoDB loaded and H2 was getting confused when trying to create the tables.\r\n\r\n  [1]: https://stackoverflow.com/questions/5290609/what-is-the-best-practice-in-naming-your-user-table","title":"H2 Spring Boot - not creating tables with LocalDateTime properties","body":"<p>In the end I had a few issues that were stopping my H2 database from building tables.</p>\n<p><strong>Problem 1</strong></p>\n<p>The first issue with it not creating any tables where I had a <code>LocalDateTime</code> property - this was because despite using Spring Boot 3.2 I had a legacy reference in my <code>build.gradle</code> which meant I was using a very old version of H2.</p>\n<p>I removed:</p>\n<pre><code>ext['h2.version'] = '1.4.197'\n</code></pre>\n<p>And let Spring Boot set the H2 version (much newer).</p>\n<p><strong>Problem 2</strong></p>\n<p>For the sake of completeness I will add that I still could not get my tables built with H2.</p>\n<p>A secondary issue I suspect was a table named with the reserved word <code>user</code> - I renamed this to <code>Person</code> per <a href=\"https://stackoverflow.com/questions/5290609/what-is-the-best-practice-in-naming-your-user-table\">this</a> answer.</p>\n<p><strong>Problem 3</strong></p>\n<p>The final issue was not realising that <code>application.properties</code> gets loaded on all profiles so it was loaded in <strong>addition</strong> to my <code>application-dev.properties</code> - this meant I had the MySQL Engine=InnoDB loaded and H2 was getting confused when trying to create the tables.</p>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694259193,"creation_date":1694083567,"question_id":77058865,"body_markdown":"I have Spring Boot 3.2 with H2 for development. H2 is creating some tables but not all.\r\n\r\nI was initially developing my project with MySQL database - but then created a new profile for development in Spring Boot and changed the database to H2 in mem. \r\n\r\nIt was at this point that some entities do not get tables created in the H2 database.\r\n\r\nFor example:\r\n\r\n**HealthCheck**\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @ToString\r\n    @Entity\r\n    @Data\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitalizer&quot;, &quot;handler&quot;})\r\n    @SequenceGenerator(name = &quot;health_check_seq&quot;, sequenceName = &quot;HEALTH_CHECK_SEQ&quot;, initialValue = 100, allocationSize = 50)\r\n    @Table(name = &quot;health_check&quot;)\r\n    public class HealthCheck {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = SEQUENCE, generator = &quot;health_check_seq&quot;)\r\n        private Long id;\r\n    \r\n        @JsonManagedReference\r\n        @ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n        private Bird bird;\r\n       \r\n        @JsonManagedReference\r\n        @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;healthCheck&quot;)\r\n        private List&lt;Task&gt; tasks;\r\n    \r\n        @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;)\r\n        private LocalDateTime catchDateTime;\r\n\r\n    \r\n        @JsonBackReference\r\n        private Point&lt;G2D&gt; location;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;holder_id&quot;)\r\n        private User holder;\r\n\r\n\r\n**Application.properties**\r\n\r\n    spring.datasource.url=jdbc:h2:file:~/IdeaProjects/test/h2mem/data;MV_STORE=false;AUTO_SERVER=TRUE\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=password\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.sql.init.data-locations=classpath:/datadev.sql\r\n\r\nUpdated app.props:\r\n\r\n    spring.datasource.url=jdbc:h2:mem:testdb;INIT=CREATE SCHEMA IF NOT EXISTS TEST_SCHEMA_NAME\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=password\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nI have tried inserting data in the datadev.sql but it fails because the `HEALTH_CHECK` table does not exist.\r\n\r\n\r\n**StackTrace (snippet)**\r\n\r\n\r\n    Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement &quot;\r\n    CREATE TABLE HEALTH_CHECK (\r\n        ID BIGINT NOT NULL,\r\n        CATCH_DATE_TIME DATETIME([*]6),\r\n        LOCATION GEOMETRY,\r\n        RELEASE_DATE_TIME DATETIME(6),\r\n        BIRD_ID BIGINT NOT NULL,\r\n        HOLDER_ID BIGINT,\r\n        MEASURER_ID BIGINT,\r\n        PRIMARY KEY (ID)\r\n    ) ENGINE=INNODB &quot;; expected &quot;FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )&quot;; SQL statement:\r\n\r\n    create table health_check (\r\n        id bigint not null,\r\n        catch_date_time datetime(6),\r\n        location geometry,\r\n        release_date_time datetime(6),\r\n        bird_id bigint not null,\r\n        holder_id bigint,\r\n        measurer_id bigint,\r\n        primary key (id)\r\n    ) engine=InnoDB [42001-197]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:357)\r\n\tat org.h2.message.DbException.getSyntaxError(DbException.java:217)\r\n\tat org.h2.command.Parser.getSyntaxError(Parser.java:555)\r\n\tat org.h2.command.Parser.read(Parser.java:3518)\r\n\tat org.h2.command.Parser.readIfMore(Parser.java:950)\r\n\tat org.h2.command.Parser.parseCreateTable(Parser.java:6571)\r\n\tat org.h2.command.Parser.parseCreate(Parser.java:4615)\r\n\tat org.h2.command.Parser.parsePrepared(Parser.java:380)\r\n\tat org.h2.command.Parser.parse(Parser.java:335)\r\n\tat org.h2.command.Parser.parse(Parser.java:311)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:278)\r\n\tat org.h2.engine.Session.prepareLocal(Session.java:611)\r\n\tat org.h2.engine.Session.prepareCommand(Session.java:549)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)\r\n\tat org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)\r\n\tat org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78)\r\n\t... 41 common frames omitted\r\n    2023-09-09 08:47:22 - \r\n\r\n**Update**\r\n\r\nOn the stack trace I have a few lines that reference `InnoDB` which I believe is what MySQL uses. \r\n\r\n       ) engine=InnoDB&quot; via JDBC [Syntax error in SQL statement &quot;\\000d\\000a    create table bird (\\000d\\000a   \r\n\r\nDespite commenting out every reference to MySQL in build.gradle and making sure no reference to it in my application-mem-db.properties I am still seeing it on the standard out (and tables not created accordingly)\r\n\r\nHow can I get H2 to create tables for all entities?","title":"H2 Spring Boot - not creating tables with LocalDateTime properties","body":"<p>I have Spring Boot 3.2 with H2 for development. H2 is creating some tables but not all.</p>\n<p>I was initially developing my project with MySQL database - but then created a new profile for development in Spring Boot and changed the database to H2 in mem.</p>\n<p>It was at this point that some entities do not get tables created in the H2 database.</p>\n<p>For example:</p>\n<p><strong>HealthCheck</strong></p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@Entity\n@Data\n@JsonIgnoreProperties({&quot;hibernateLazyInitalizer&quot;, &quot;handler&quot;})\n@SequenceGenerator(name = &quot;health_check_seq&quot;, sequenceName = &quot;HEALTH_CHECK_SEQ&quot;, initialValue = 100, allocationSize = 50)\n@Table(name = &quot;health_check&quot;)\npublic class HealthCheck {\n\n    @Id\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;health_check_seq&quot;)\n    private Long id;\n\n    @JsonManagedReference\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\n    private Bird bird;\n   \n    @JsonManagedReference\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;healthCheck&quot;)\n    private List&lt;Task&gt; tasks;\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;)\n    private LocalDateTime catchDateTime;\n\n\n    @JsonBackReference\n    private Point&lt;G2D&gt; location;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;holder_id&quot;)\n    private User holder;\n</code></pre>\n<p><strong>Application.properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:h2:file:~/IdeaProjects/test/h2mem/data;MV_STORE=false;AUTO_SERVER=TRUE\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.hibernate.ddl-auto=update\nspring.sql.init.data-locations=classpath:/datadev.sql\n</code></pre>\n<p>Updated app.props:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb;INIT=CREATE SCHEMA IF NOT EXISTS TEST_SCHEMA_NAME\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>I have tried inserting data in the datadev.sql but it fails because the <code>HEALTH_CHECK</code> table does not exist.</p>\n<p><strong>StackTrace (snippet)</strong></p>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement &quot;\nCREATE TABLE HEALTH_CHECK (\n    ID BIGINT NOT NULL,\n    CATCH_DATE_TIME DATETIME([*]6),\n    LOCATION GEOMETRY,\n    RELEASE_DATE_TIME DATETIME(6),\n    BIRD_ID BIGINT NOT NULL,\n    HOLDER_ID BIGINT,\n    MEASURER_ID BIGINT,\n    PRIMARY KEY (ID)\n) ENGINE=INNODB &quot;; expected &quot;FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )&quot;; SQL statement:\n\ncreate table health_check (\n    id bigint not null,\n    catch_date_time datetime(6),\n    location geometry,\n    release_date_time datetime(6),\n    bird_id bigint not null,\n    holder_id bigint,\n    measurer_id bigint,\n    primary key (id)\n) engine=InnoDB [42001-197]\nat org.h2.message.DbException.getJdbcSQLException(DbException.java:357)\nat org.h2.message.DbException.getSyntaxError(DbException.java:217)\nat org.h2.command.Parser.getSyntaxError(Parser.java:555)\nat org.h2.command.Parser.read(Parser.java:3518)\nat org.h2.command.Parser.readIfMore(Parser.java:950)\nat org.h2.command.Parser.parseCreateTable(Parser.java:6571)\nat org.h2.command.Parser.parseCreate(Parser.java:4615)\nat org.h2.command.Parser.parsePrepared(Parser.java:380)\nat org.h2.command.Parser.parse(Parser.java:335)\nat org.h2.command.Parser.parse(Parser.java:311)\nat org.h2.command.Parser.prepareCommand(Parser.java:278)\nat org.h2.engine.Session.prepareLocal(Session.java:611)\nat org.h2.engine.Session.prepareCommand(Session.java:549)\nat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)\nat org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)\nat org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)\nat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)\nat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78)\n... 41 common frames omitted\n2023-09-09 08:47:22 - \n</code></pre>\n<p><strong>Update</strong></p>\n<p>On the stack trace I have a few lines that reference <code>InnoDB</code> which I believe is what MySQL uses.</p>\n<pre><code>   ) engine=InnoDB&quot; via JDBC [Syntax error in SQL statement &quot;\\000d\\000a    create table bird (\\000d\\000a   \n</code></pre>\n<p>Despite commenting out every reference to MySQL in build.gradle and making sure no reference to it in my application-mem-db.properties I am still seeing it on the standard out (and tables not created accordingly)</p>\n<p>How can I get H2 to create tables for all entities?</p>\n"},{"tags":["java","spring","spring-boot","timezone"],"comments":[{"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"score":0,"creation_date":1548283204,"post_id":54316667,"comment_id":95490789,"body_markdown":"This works for Spring Boot v1: `mvn spring-boot:run -Drun.jvmArguments=&quot;-Duser.timezone=UTC&quot;`","body":"This works for Spring Boot v1: <code>mvn spring-boot:run -Drun.jvmArguments=&quot;-Duser.timezone=UTC&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43950,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":2,"up_vote_count":37,"is_accepted":true,"score":35,"last_activity_date":1548192895,"creation_date":1548192657,"answer_id":54316725,"question_id":54316667,"body_markdown":"Use [`spring-boot.run.jvmArguments` property][1] if you want to pass JVM options from Maven Spring Boot Plugin to forked Spring Boot application:\r\n\r\n```\r\n&lt;properties&gt;\r\n  &lt;spring-boot.run.jvmArguments&gt;-Duser.timezone=UTC&lt;/spring-boot.run.jvmArguments&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\nThis is be equivalent to command line syntax:\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Duser.timezone=UTC&quot;\r\n\r\nor when running a fully packaged Spring Boot application:\r\n\r\n    java -Duser.timezone=UTC -jar app.jar\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/run-mojo.html#jvmArguments","title":"How do I force a Spring Boot JVM into UTC time zone?","body":"<p>Use <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/run-mojo.html#jvmArguments\" rel=\"noreferrer\"><code>spring-boot.run.jvmArguments</code> property</a> if you want to pass JVM options from Maven Spring Boot Plugin to forked Spring Boot application:</p>\n\n<pre><code>&lt;properties&gt;\n  &lt;spring-boot.run.jvmArguments&gt;-Duser.timezone=UTC&lt;/spring-boot.run.jvmArguments&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>This is be equivalent to command line syntax:</p>\n\n<pre><code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=\"-Duser.timezone=UTC\"\n</code></pre>\n\n<p>or when running a fully packaged Spring Boot application:</p>\n\n<pre><code>java -Duser.timezone=UTC -jar app.jar\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user5063151"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1548239473,"creation_date":1548223917,"answer_id":54320993,"question_id":54316667,"body_markdown":"You can configure the timezone with a class annotated with the `@Configuration` annotation. You can put it anywhere in your project. I typically house all classes that fit under this category in a package called `config`. Make sure you add the `@PostConstruct` annotation to the method that is actually setting the timezone.\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n\r\n    import javax.annotation.PostConstruct;\r\n\r\n    @Configuration\r\n    public class LocaleConfig {\r\n\r\n        @PostConstruct\r\n        public void init() {\r\n\r\n            TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\r\n            System.out.println(&quot;Date in UTC: &quot; + new Date().toString());\r\n        }\r\n    }\r\n\r\nSee the [original article][1]\r\n\r\n\r\n  [1]: https://javadeveloperzone.com/spring-boot/spring-boot-application-set-default-timezone/","title":"How do I force a Spring Boot JVM into UTC time zone?","body":"<p>You can configure the timezone with a class annotated with the <code>@Configuration</code> annotation. You can put it anywhere in your project. I typically house all classes that fit under this category in a package called <code>config</code>. Make sure you add the <code>@PostConstruct</code> annotation to the method that is actually setting the timezone.</p>\n\n<pre><code>import org.springframework.context.annotation.Configuration;\n\nimport javax.annotation.PostConstruct;\n\n@Configuration\npublic class LocaleConfig {\n\n    @PostConstruct\n    public void init() {\n\n        TimeZone.setDefault(TimeZone.getTimeZone(\"UTC\"));\n\n        System.out.println(\"Date in UTC: \" + new Date().toString());\n    }\n}\n</code></pre>\n\n<p>See the <a href=\"https://javadeveloperzone.com/spring-boot/spring-boot-application-set-default-timezone/\" rel=\"noreferrer\">original article</a></p>\n"},{"tags":[],"owner":{"account_id":6573663,"reputation":1210,"user_id":5080644,"display_name":"YONGSOO KIM"},"down_vote_count":2,"up_vote_count":66,"is_accepted":false,"score":64,"last_activity_date":1548224732,"creation_date":1548224732,"answer_id":54321163,"question_id":54316667,"body_markdown":"I think you can set your application&#39;s timezone on your application level. I think this link will help you.\r\nhttps://www.onlinetutorialspoint.com/spring-boot/how-to-set-spring-boot-settimezone.html\r\n\r\nSo What you need to do is adding &quot;@PostConstruct&quot; annotation to the main class where &quot;@SpringBootApplication&quot; annotation is located, and add timezone setting method there. Here is an example.\r\n\r\n\r\n\t@SpringBootApplication\r\n\tpublic class HellotimezoneApplication {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSpringApplication.run(HellotimezoneApplication.class, args);\r\n\t\t}\r\n\t\t\r\n\t\t@PostConstruct\r\n\t\tpublic void init(){\r\n\t\t  // Setting Spring Boot SetTimeZone\r\n\t\t  TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\t\t}\r\n\r\n\t}\r\n\r\nHope this can help you!","title":"How do I force a Spring Boot JVM into UTC time zone?","body":"<p>I think you can set your application's timezone on your application level. I think this link will help you.\n<a href=\"https://www.onlinetutorialspoint.com/spring-boot/how-to-set-spring-boot-settimezone.html\" rel=\"noreferrer\">https://www.onlinetutorialspoint.com/spring-boot/how-to-set-spring-boot-settimezone.html</a></p>\n\n<p>So What you need to do is adding \"@PostConstruct\" annotation to the main class where \"@SpringBootApplication\" annotation is located, and add timezone setting method there. Here is an example.</p>\n\n<pre><code>@SpringBootApplication\npublic class HellotimezoneApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HellotimezoneApplication.class, args);\n    }\n\n    @PostConstruct\n    public void init(){\n      // Setting Spring Boot SetTimeZone\n      TimeZone.setDefault(TimeZone.getTimeZone(\"UTC\"));\n    }\n\n}\n</code></pre>\n\n<p>Hope this can help you!</p>\n"},{"tags":[],"owner":{"account_id":1358027,"reputation":528,"user_id":1296016,"display_name":"judomu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1593172872,"creation_date":1593172872,"answer_id":62594320,"question_id":54316667,"body_markdown":"More options in case your application is running under linux:\r\n\r\n## Set `TZ` environment variable\r\n\r\nSee &quot;In POSIX systems, a user can specify the time zone by means of the TZ environment variable&quot; (https://www.gnu.org/software/libc/manual/html_node/TZ-Variable.html).\r\n\r\nThis option is especially useful in any cloud environment.\r\n\r\n## Symlink `/etc/locatime`\r\n\r\nI.e. in my local system `/etc/locatime` symlinks to `/usr/share/zoneinfo/Europe/Berlin`:\r\n\r\n```\r\n➜ ls -l /etc/localtime  \r\nlrwxrwxrwx 1 root root 33 22. Jan 23:01 /etc/localtime -&gt; /usr/share/zoneinfo/Europe/Berlin\r\n```\r\n\r\nYou can easily change the symbolic link with `ln -s /usr/share/zoneinfo/GMT /etc/localtime`, the possible values can be found within `/usr/share/zoneinfo/`.\r\n\r\nThis option can also be used in many cloud environments by mounting a hostvolume, see https://stackoverflow.com/questions/55089265/kubernetes-timezone-in-pod-with-command-and-argument.","title":"How do I force a Spring Boot JVM into UTC time zone?","body":"<p>More options in case your application is running under linux:</p>\n<h2>Set <code>TZ</code> environment variable</h2>\n<p>See &quot;In POSIX systems, a user can specify the time zone by means of the TZ environment variable&quot; (<a href=\"https://www.gnu.org/software/libc/manual/html_node/TZ-Variable.html\" rel=\"nofollow noreferrer\">https://www.gnu.org/software/libc/manual/html_node/TZ-Variable.html</a>).</p>\n<p>This option is especially useful in any cloud environment.</p>\n<h2>Symlink <code>/etc/locatime</code></h2>\n<p>I.e. in my local system <code>/etc/locatime</code> symlinks to <code>/usr/share/zoneinfo/Europe/Berlin</code>:</p>\n<pre><code>➜ ls -l /etc/localtime  \nlrwxrwxrwx 1 root root 33 22. Jan 23:01 /etc/localtime -&gt; /usr/share/zoneinfo/Europe/Berlin\n</code></pre>\n<p>You can easily change the symbolic link with <code>ln -s /usr/share/zoneinfo/GMT /etc/localtime</code>, the possible values can be found within <code>/usr/share/zoneinfo/</code>.</p>\n<p>This option can also be used in many cloud environments by mounting a hostvolume, see <a href=\"https://stackoverflow.com/questions/55089265/kubernetes-timezone-in-pod-with-command-and-argument\">kubernetes timezone in POD with command and argument</a>.</p>\n"},{"tags":[],"owner":{"account_id":11020469,"reputation":866,"user_id":8094897,"display_name":"RMati"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1601868661,"creation_date":1601868661,"answer_id":64202103,"question_id":54316667,"body_markdown":"```&lt;properties&gt; &lt;spring-boot.run.jvmArguments&gt;-Duser.timezone=UTC&lt;/spring-boot.run.jvmArguments&gt; &lt;/properties&gt; ```\r\nThat did not work for me. \r\n\r\nBut if you use **jvmArguments** instead that worked for me. \r\nReference: [https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/html/][1]… \r\n\r\nsimply ``` \r\n&lt;configuration&gt;\r\n&lt;jvmArguments&gt;-Duser.timezone=UTC&lt;/jvmArguments&gt; &lt;/configuration&gt;```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/html/","title":"How do I force a Spring Boot JVM into UTC time zone?","body":"<p><code>&lt;properties&gt; &lt;spring-boot.run.jvmArguments&gt;-Duser.timezone=UTC&lt;/spring-boot.run.jvmArguments&gt; &lt;/properties&gt; </code>\nThat did not work for me.</p>\n<p>But if you use <strong>jvmArguments</strong> instead that worked for me.\nReference: <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/html/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/html/</a>…</p>\n<p>simply <code>  &lt;configuration&gt; &lt;jvmArguments&gt;-Duser.timezone=UTC&lt;/jvmArguments&gt; &lt;/configuration&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":19715317,"reputation":189,"user_id":14434888,"display_name":"Naveen Gopalakrishna"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1643649403,"creation_date":1643649403,"answer_id":70930108,"question_id":54316667,"body_markdown":"Post constructs don&#39;t work sometimes making it pre construct worked for me\r\n\r\n    @EnableSwagger2\r\n    @SpringBootApplication(scanBasePackages = { &quot;com.app&quot; })\r\n    public class Application {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Setting the timezone&quot;+TimeZone.getTimeZone(&quot;GMT+9:00&quot;).getID());\r\n    \t\tTimeZone.setDefault(TimeZone.getTimeZone(&quot;GMT+9:00&quot;));\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \r\n    \t\r\n    }\r\n\r\n","title":"How do I force a Spring Boot JVM into UTC time zone?","body":"<p>Post constructs don't work sometimes making it pre construct worked for me</p>\n<pre><code>@EnableSwagger2\n@SpringBootApplication(scanBasePackages = { &quot;com.app&quot; })\npublic class Application {\n    \n    public static void main(String[] args) {\n        System.out.println(&quot;Setting the timezone&quot;+TimeZone.getTimeZone(&quot;GMT+9:00&quot;).getID());\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;GMT+9:00&quot;));\n        SpringApplication.run(Application.class, args);\n    }\n\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13291674,"reputation":865,"user_id":11423910,"display_name":"soufiane ELAMMARI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656522960,"creation_date":1656522960,"answer_id":72805432,"question_id":54316667,"body_markdown":"this worked like a charm for me on intellij when i run unit test :\r\nyou have to add  the command bellow on vm arguments GMT of junit or maven config (i don&#39;t know why UTC doesn&#39;t work for me ,hope this help u ^^  )\r\n\r\n        -Duser.timezone=&quot;GMT+2&quot;\r\n\r\n\r\n","title":"How do I force a Spring Boot JVM into UTC time zone?","body":"<p>this worked like a charm for me on intellij when i run unit test :\nyou have to add  the command bellow on vm arguments GMT of junit or maven config (i don't know why UTC doesn't work for me ,hope this help u ^^  )</p>\n<pre><code>    -Duser.timezone=&quot;GMT+2&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27961847,"reputation":1,"user_id":21353462,"display_name":"Tấn Đại"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694259145,"creation_date":1694259085,"answer_id":77072003,"question_id":54316667,"body_markdown":"**-Duser.timezone=UTC** in Edit Configurations --&gt; Modify Options --&gt; Add VM Options so work with me","title":"How do I force a Spring Boot JVM into UTC time zone?","body":"<p><strong>-Duser.timezone=UTC</strong> in Edit Configurations --&gt; Modify Options --&gt; Add VM Options so work with me</p>\n"}],"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133791,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":54316725,"answer_count":8,"score":40,"last_activity_date":1694259145,"creation_date":1548192321,"question_id":54316667,"body_markdown":"I saw https://stackoverflow.com/questions/2627992/force-java-timezone-as-gmt-utc\r\n\r\nI tried\r\n\r\n* mvn spring-boot:run -Dexec.args=&quot;-Duser.timezone=GMT&quot;\r\n* mvn spring-boot:run -Dexec.args=&quot;-Duser.timezone=UTC&quot;\r\n* `user.timezone=UTC` in `config/application.properties`\r\n* `user.timezone=GMT`\r\n* In the pom.xml:\r\n\r\n \t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;properties&gt;\r\n\t\t\t\t\t  &lt;spring-boot.run.jvmArguments&gt;-Duser.timezone=UTC&lt;/spring-boot.run.jvmArguments&gt;\r\n\t\t\t\t\t&lt;/properties&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n* mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Duser.timezone=UTC&quot;\r\n\r\n\r\n\r\nBut it prints out\r\n\r\n\tSystem.out.println(TimeZone.getDefault());\r\n\r\n\r\n&gt; sun.util.calendar.ZoneInfo[id=&quot;America/New_York&quot;,offset=-18000000,dstSavings=3600000,useDaylight=true,transitions=235,lastRule=java.util.SimpleTimeZone[id=America/New_York,offset=-18000000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]]\r\n\r\nSpring Boot 1.5.19, Java 8\r\n","title":"How do I force a Spring Boot JVM into UTC time zone?","body":"<p>I saw <a href=\"https://stackoverflow.com/questions/2627992/force-java-timezone-as-gmt-utc\">Force Java timezone as GMT/UTC</a></p>\n\n<p>I tried</p>\n\n<ul>\n<li>mvn spring-boot:run -Dexec.args=\"-Duser.timezone=GMT\"</li>\n<li>mvn spring-boot:run -Dexec.args=\"-Duser.timezone=UTC\"</li>\n<li><code>user.timezone=UTC</code> in <code>config/application.properties</code></li>\n<li><code>user.timezone=GMT</code></li>\n<li><p>In the pom.xml:</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;properties&gt;\n              &lt;spring-boot.run.jvmArguments&gt;-Duser.timezone=UTC&lt;/spring-boot.run.jvmArguments&gt;\n            &lt;/properties&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre></li>\n<li>mvn spring-boot:run -Dspring-boot.run.jvmArguments=\"-Duser.timezone=UTC\"</li>\n</ul>\n\n<p>But it prints out</p>\n\n<pre><code>System.out.println(TimeZone.getDefault());\n</code></pre>\n\n<blockquote>\n  <p>sun.util.calendar.ZoneInfo[id=\"America/New_York\",offset=-18000000,dstSavings=3600000,useDaylight=true,transitions=235,lastRule=java.util.SimpleTimeZone[id=America/New_York,offset=-18000000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]]</p>\n</blockquote>\n\n<p>Spring Boot 1.5.19, Java 8</p>\n"},{"tags":["java","spring-boot","multithreading","timer"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694239593,"creation_date":1694237578,"answer_id":77070970,"question_id":77068719,"body_markdown":"## `ExecutorService`\r\n\r\nThe `Timer` &amp; `TimerTask` classes were supplanted by the Executor framework added long ago to Java 5. So noted in the Javadoc.\r\n\r\n## Problem statement\r\n\r\nYou want to repeatedly draw a message from Kafka, extract an identifier, and search a database for that ID to retrieve more information for further processing. You said the challenge is that the database may not yet have the necessary data, so we want to (a) wait with a delay to query the database, and (b) repeat three times before giving up. \r\n\r\nYou also mentioned a large number of such transactions, millions per day. Given your quantity, and given that your code involves blocking (sleeping for a delay, and waiting on a database call), your situation is a prime candidate for using the new [virtual threads][1] feature arriving in Java 21.\r\n\r\n## Virtual threads\r\n\r\nIn the nearly complete example app below, we establish an executor service based on virtual threads. We use try-with-resources syntax to automatically shutdown the executor service after a flag trips in our `AtomicBoolean`. \r\n\r\nThis code defines a task as `Runnable` where the task takes an identifier pulled from Kafka, and then tries to query the database three times. As we submit each task to an executor service, the main code immediately returns to fetching from Kafka. Meanwhile, a background virtual thread handles the task concurrently, performing the database query with delay three times. Because virtual threads are vastly cheaper/lighter than conventional platform threads, we can have millions running at a time.\r\n\r\nThe executor service assigns each submitted task to a background thread. As a `Runnable`, your task’s `run` method will be executed on that background thread.\r\n\r\nIf you want to track the success/failure of each task, capture the `Future` object returned by the `submit` method. In this simplistic example code, we ignore the returned `Future`. \r\n\r\nIf you want each task to produce a result, define your task as a `Callable` instead of `Runnable`. \r\n\r\n## Example code\r\n\r\n```java\r\npackage work.basil.example;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.time.Duration;\r\nimport java.util.Objects;\r\nimport java.util.UUID;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.atomic.AtomicBoolean;\r\n\r\npublic class TripleCheck\r\n{\r\n    private DataSource dataSource = … ;\r\n    public static void main ( String[] args )\r\n    {\r\n        TripleCheck app = new TripleCheck ( );\r\n        app.demo ( );\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        AtomicBoolean continueCheckingKafka = new AtomicBoolean ( true );\r\n        try (\r\n                ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\r\n        )\r\n        {\r\n            while ( continueCheckingKafka.get ( ) )\r\n            {\r\n                UUID id = … ; // Fetch the next ID from Kafka topic.\r\n                executorService.submit ( new PersonIdProcessor ( this.dataSource , id ) ) ;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nrecord Person( UUID id , String name ) { }\r\n\r\nclass PersonIdProcessor implements Runnable\r\n{\r\n    private final UUID id;\r\n    private final DataSource dataSource;\r\n    private static final String sql = &quot;SELECT * FROM person_ WHERE id_ = ? ; &quot;;\r\n\r\n    public PersonIdProcessor ( final DataSource dataSource , final UUID id )\r\n    {\r\n        this.dataSource = Objects.requireNonNull( dataSource ) ;\r\n        this.id = Objects.requireNonNull( id ) ;\r\n    }\r\n\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        Person person = null;  // Goal is to populate this object for further processing.\r\n        // Try three times to find necessary data in database.\r\n        int countAttempts = 3;\r\n        for ( int nthAttempt = 1 ; nthAttempt &lt;= countAttempts ; nthAttempt++ )\r\n        {\r\n            // Pause a moment as we wait for database to be populated with necessary data.\r\n            try { Thread.sleep ( Duration.ofSeconds( 3 ) ); } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\r\n            try (\r\n                    Connection conn = this.dataSource.getConnection ( ) ;\r\n                    PreparedStatement ps = conn.prepareStatement ( PersonIdProcessor.sql ) ;\r\n            )\r\n            {\r\n                ps.setObject ( 1 , this.id );\r\n                try (\r\n                        ResultSet resultSet = ps.executeQuery ( ) ;\r\n                )\r\n                {\r\n                    while ( resultSet.next ( ) )\r\n                    {\r\n                        person = new Person (\r\n                                resultSet.getObject ( &quot;id_&quot; , UUID.class ) ,\r\n                                resultSet.getString ( &quot;name_&quot; )\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n            catch ( SQLException e ) { throw new RuntimeException ( e ); }\r\n        }\r\n        if ( Objects.isNull ( person ) )\r\n        {\r\n            System.out.println ( &quot;Handling the null case, where no person found after multiple attempts for ID: &quot; + id );\r\n        } else\r\n        {\r\n            System.out.println ( &quot;Handling the found case, where person retrieved from database for ID:&quot; + id );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/444","title":"Executing code to check database 3 times with few seconds delay","body":"<h2><code>ExecutorService</code></h2>\n<p>The <code>Timer</code> &amp; <code>TimerTask</code> classes were supplanted by the Executor framework added long ago to Java 5. So noted in the Javadoc.</p>\n<h2>Problem statement</h2>\n<p>You want to repeatedly draw a message from Kafka, extract an identifier, and search a database for that ID to retrieve more information for further processing. You said the challenge is that the database may not yet have the necessary data, so we want to (a) wait with a delay to query the database, and (b) repeat three times before giving up.</p>\n<p>You also mentioned a large number of such transactions, millions per day. Given your quantity, and given that your code involves blocking (sleeping for a delay, and waiting on a database call), your situation is a prime candidate for using the new <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">virtual threads</a> feature arriving in Java 21.</p>\n<h2>Virtual threads</h2>\n<p>In the nearly complete example app below, we establish an executor service based on virtual threads. We use try-with-resources syntax to automatically shutdown the executor service after a flag trips in our <code>AtomicBoolean</code>.</p>\n<p>This code defines a task as <code>Runnable</code> where the task takes an identifier pulled from Kafka, and then tries to query the database three times. As we submit each task to an executor service, the main code immediately returns to fetching from Kafka. Meanwhile, a background virtual thread handles the task concurrently, performing the database query with delay three times. Because virtual threads are vastly cheaper/lighter than conventional platform threads, we can have millions running at a time.</p>\n<p>The executor service assigns each submitted task to a background thread. As a <code>Runnable</code>, your task’s <code>run</code> method will be executed on that background thread.</p>\n<p>If you want to track the success/failure of each task, capture the <code>Future</code> object returned by the <code>submit</code> method. In this simplistic example code, we ignore the returned <code>Future</code>.</p>\n<p>If you want each task to produce a result, define your task as a <code>Callable</code> instead of <code>Runnable</code>.</p>\n<h2>Example code</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example;\n\nimport javax.sql.DataSource;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.time.Duration;\nimport java.util.Objects;\nimport java.util.UUID;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.atomic.AtomicBoolean;\n\npublic class TripleCheck\n{\n    private DataSource dataSource = … ;\n    public static void main ( String[] args )\n    {\n        TripleCheck app = new TripleCheck ( );\n        app.demo ( );\n    }\n\n    private void demo ( )\n    {\n        AtomicBoolean continueCheckingKafka = new AtomicBoolean ( true );\n        try (\n                ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\n        )\n        {\n            while ( continueCheckingKafka.get ( ) )\n            {\n                UUID id = … ; // Fetch the next ID from Kafka topic.\n                executorService.submit ( new PersonIdProcessor ( this.dataSource , id ) ) ;\n            }\n        }\n    }\n}\n\nrecord Person( UUID id , String name ) { }\n\nclass PersonIdProcessor implements Runnable\n{\n    private final UUID id;\n    private final DataSource dataSource;\n    private static final String sql = &quot;SELECT * FROM person_ WHERE id_ = ? ; &quot;;\n\n    public PersonIdProcessor ( final DataSource dataSource , final UUID id )\n    {\n        this.dataSource = Objects.requireNonNull( dataSource ) ;\n        this.id = Objects.requireNonNull( id ) ;\n    }\n\n    @Override\n    public void run ( )\n    {\n        Person person = null;  // Goal is to populate this object for further processing.\n        // Try three times to find necessary data in database.\n        int countAttempts = 3;\n        for ( int nthAttempt = 1 ; nthAttempt &lt;= countAttempts ; nthAttempt++ )\n        {\n            // Pause a moment as we wait for database to be populated with necessary data.\n            try { Thread.sleep ( Duration.ofSeconds( 3 ) ); } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\n            try (\n                    Connection conn = this.dataSource.getConnection ( ) ;\n                    PreparedStatement ps = conn.prepareStatement ( PersonIdProcessor.sql ) ;\n            )\n            {\n                ps.setObject ( 1 , this.id );\n                try (\n                        ResultSet resultSet = ps.executeQuery ( ) ;\n                )\n                {\n                    while ( resultSet.next ( ) )\n                    {\n                        person = new Person (\n                                resultSet.getObject ( &quot;id_&quot; , UUID.class ) ,\n                                resultSet.getString ( &quot;name_&quot; )\n                        );\n                    }\n                }\n            }\n            catch ( SQLException e ) { throw new RuntimeException ( e ); }\n        }\n        if ( Objects.isNull ( person ) )\n        {\n            System.out.println ( &quot;Handling the null case, where no person found after multiple attempts for ID: &quot; + id );\n        } else\n        {\n            System.out.println ( &quot;Handling the found case, where person retrieved from database for ID:&quot; + id );\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15620203,"reputation":157,"user_id":11269266,"display_name":"Arpit S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694258721,"creation_date":1694192592,"question_id":77068719,"body_markdown":"There is a need to develop a spring boot app that \r\n\r\n 1. consumes message from kafka topic\r\n 2. using id from message makes database call (check record in table), to determine further processing.\r\n\r\nDue to legacy design/system, it is a possibility that there is a slight delay in process that writes records to the table. Hence, the message consumer (new) needs to basically check table few times before making final determination (the alternate solution to introduce fixed delay/wait in consumer itself is indefinite and potentially cause bottle necks for few million messages needs to be processed / day).\r\n\r\nResearched few ways to achieve a few times table check (with few seconds gap), yet to find better way (if any)\r\n- Executer Service\r\n- Timer\r\n\r\nAppreciate any advice/suggestion.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Executing code to check database 3 times with few seconds delay","body":"<p>There is a need to develop a spring boot app that</p>\n<ol>\n<li>consumes message from kafka topic</li>\n<li>using id from message makes database call (check record in table), to determine further processing.</li>\n</ol>\n<p>Due to legacy design/system, it is a possibility that there is a slight delay in process that writes records to the table. Hence, the message consumer (new) needs to basically check table few times before making final determination (the alternate solution to introduce fixed delay/wait in consumer itself is indefinite and potentially cause bottle necks for few million messages needs to be processed / day).</p>\n<p>Researched few ways to achieve a few times table check (with few seconds gap), yet to find better way (if any)</p>\n<ul>\n<li>Executer Service</li>\n<li>Timer</li>\n</ul>\n<p>Appreciate any advice/suggestion.</p>\n"},{"tags":["java","xml","spring","spring-mvc","xml-parsing"],"comments":[{"owner":{"account_id":4097931,"reputation":8214,"user_id":3364187,"display_name":"Xstian"},"score":3,"creation_date":1411556646,"post_id":26015240,"comment_id":40745040,"body_markdown":"In your schema location change http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd in http://www.springframework.org/schema/mvc/spring-mvc.xsd","body":"In your schema location change <a href=\"http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd\" rel=\"nofollow noreferrer\">springframework.org/schema/mvc/spring-mvc-4.0.xsd</a> in <a href=\"http://www.springframework.org/schema/mvc/spring-mvc.xsd\" rel=\"nofollow noreferrer\">springframework.org/schema/mvc/spring-mvc.xsd</a>"},{"owner":{"account_id":143980,"reputation":14984,"user_id":352708,"accept_rate":73,"display_name":"Slava Semushin"},"score":3,"creation_date":1411556684,"post_id":26015240,"comment_id":40745066,"body_markdown":"Try to remove all versions from `schemaLocation`. For example, `http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd` will be changes to `http://www.springframework.org/schema/mvc/spring-mvc.xsd`","body":"Try to remove all versions from <code>schemaLocation</code>. For example, <code>http:&#47;&#47;www.springframework.org&#47;schema&#47;mvc&#47;spring-mvc-4.0.xsd</code> will be changes to <code>http:&#47;&#47;www.springframework.org&#47;schema&#47;mvc&#47;spring-mvc.xsd</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1411558937,"post_id":26015240,"comment_id":40746455,"body_markdown":"Your schema declarations is wrong, you have a `http://www.springframework.org/schema/security` in there with no xsd this messes up your namespace declarations.","body":"Your schema declarations is wrong, you have a <code>http:&#47;&#47;www.springframework.org&#47;schema&#47;security</code> in there with no xsd this messes up your namespace declarations."},{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":0,"creation_date":1411560709,"post_id":26015240,"comment_id":40747451,"body_markdown":"@M.Deinum that should be an (the!) answer rather than a comment.","body":"@M.Deinum that should be an (the!) answer rather than a comment."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1411561790,"creation_date":1411561116,"answer_id":26016732,"question_id":26015240,"body_markdown":"If you look at your schema locations you will notice the line containing `http://www.springframework.org/schema/security`. \r\n\r\n  \r\nThis line breaks the expected format, the format should be **[namespace] [xsd-location]**. This line basically is messing up a proper format. To solve this either add a xsd location or remove the line. To prevent this I generaly follow the format also in the layout of the xsi:schemaLocation attribute (if you format accordingly it is quite apparent that that part is missing)..\r\n\r\n \t xsi:schemaLocation=&quot;\r\n\t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\r\n\t\thttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd\r\n\t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd \r\n\t\thttp://www.springframework.org/schema/security\r\n\t\thttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;&gt;\r\n\r\n\r\nAs an additional tip it is recommended to use the versionless xsd files so instead of `spring-beans-4.0.xsd` use `spring-beans.xsd`. \r\n\r\n\t xsi:schemaLocation=&quot;\r\n\t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd\r\n\t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd \r\n\t\thttp://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security.xsd\r\n\t\thttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n","title":"cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element &#39;mvc:annotation-driven&#39;","body":"<p>If you look at your schema locations you will notice the line containing <code>http://www.springframework.org/schema/security</code>. </p>\n\n<p>This line breaks the expected format, the format should be <strong>[namespace] [xsd-location]</strong>. This line basically is messing up a proper format. To solve this either add a xsd location or remove the line. To prevent this I generaly follow the format also in the layout of the xsi:schemaLocation attribute (if you format accordingly it is quite apparent that that part is missing)..</p>\n\n<pre><code> xsi:schemaLocation=\"\n    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\n    http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd\n    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd \n    http://www.springframework.org/schema/security\n    http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd\"&gt;\n</code></pre>\n\n<p>As an additional tip it is recommended to use the versionless xsd files so instead of <code>spring-beans-4.0.xsd</code> use <code>spring-beans.xsd</code>. </p>\n\n<pre><code> xsi:schemaLocation=\"\n    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd\n    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd \n    http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security.xsd\n    http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5445447,"reputation":1726,"user_id":4332176,"accept_rate":25,"display_name":"Dila Gurung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470054397,"creation_date":1470054397,"answer_id":38698876,"question_id":26015240,"body_markdown":"The generic answer for such kind of error is you need to properly check the namespace specified, especially in &quot;xsi:schemaLocation&quot;.","title":"cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element &#39;mvc:annotation-driven&#39;","body":"<p>The generic answer for such kind of error is you need to properly check the namespace specified, especially in \"xsi:schemaLocation\".</p>\n"},{"tags":[],"owner":{"account_id":18535094,"reputation":71,"user_id":13504941,"display_name":"Aditya Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694257647,"creation_date":1694257647,"answer_id":77071928,"question_id":26015240,"body_markdown":"check for the some missing namespace in **xsi:schemaLocation**. This would probably be the fix for these kind of errors","title":"cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element &#39;mvc:annotation-driven&#39;","body":"<p>check for the some missing namespace in <strong>xsi:schemaLocation</strong>. This would probably be the fix for these kind of errors</p>\n"}],"owner":{"account_id":3092561,"reputation":1793,"user_id":2618395,"accept_rate":76,"display_name":"John Smith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24891,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":26016732,"answer_count":3,"score":5,"last_activity_date":1694257647,"creation_date":1411556461,"question_id":26015240,"body_markdown":"i guess this is a xml parsing problem, but I just cannot see where it is. I read some articles about this topic and nothing helped:\r\n\r\ni have this spring mvc config:\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt;\r\n    &lt;!-- was: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; --&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n           xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n           xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n           xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; \r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n           http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\r\n           http://www.springframework.org/schema/aop \r\n           http://www.springframework.org/schema/aop/spring-aop-4.0.xsd\r\n           http://www.springframework.org/schema/tx\r\n           http://www.springframework.org/schema/tx/spring-tx-4.0.xsd \r\n           http://www.springframework.org/schema/security\r\n           http://www.springframework.org/schema/mvc \r\n           http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd\r\n           http://www.springframework.org/schema/context \r\n           http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;\r\n           &gt;\r\n    \r\n        &lt;mvc:annotation-driven /&gt;\r\n        &lt;context:component-scan base-package=&quot;controllers&quot; /&gt;\r\n      \r\n        \r\n        &lt;bean id=&quot;viewResolver&quot;\r\n              class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\r\n              p:prefix=&quot;/WEB-INF/jsp/&quot;\r\n              p:suffix=&quot;.jsp&quot; /&gt; \r\n            \r\n    &lt;/beans&gt;\r\n\r\nand here is what tomcat says:\r\n\r\n    org.xml.sax.SAXParseException; lineNumber: 23; columnNumber: 30; cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element &#39;mvc:annotation-driven&#39;.\r\n    \tcom.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:203)\r\n    \tcom.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:134)\r\n    \tcom.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:437)\r\n    \tcom.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:368)\r\n    \tcom.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:325)\r\n    \tcom.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(XMLSchemaValidator.java:458)\r\n    \tcom.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(XMLSchemaValidator.java:3237)\r\n    \tcom.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(XMLSchemaValidator.java:1917)\r\n    \tcom.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.emptyElement(XMLSchemaValidator.java:766)\r\n    \tcom.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:356)\r\n    \tcom.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2786)\r\n    \tcom.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:606)\r\n    \tcom.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:117)\r\n    \tcom.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:510)\r\n    \tcom.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:848)\r\n    \tcom.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\r\n    \tcom.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n    \tcom.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:243)\r\n    \tcom.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:348)\r\n    \torg.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:76)\r\n    \torg.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadDocument(XmlBeanDefinitionReader.java:428)\r\n    \torg.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)\r\n    \torg.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:335)\r\n    \torg.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:303)\r\n    \torg.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\r\n    \torg.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:216)\r\n    \torg.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:187)\r\n    \torg.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\r\n    \torg.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\r\n    \torg.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)\r\n    \torg.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:540)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:454)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:658)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:624)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:672)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:543)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:484)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:610)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:526)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1078)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:655)\r\n    \torg.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:222)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1566)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1523)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Thread.java:745)\r\n\r\nany idea what might be wrong in my code?\r\n\r\nthanks","title":"cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element &#39;mvc:annotation-driven&#39;","body":"<p>i guess this is a xml parsing problem, but I just cannot see where it is. I read some articles about this topic and nothing helped:</p>\n\n<p>i have this spring mvc config:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8' ?&gt;\n&lt;!-- was: &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; --&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:p=\"http://www.springframework.org/schema/p\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xmlns:mvc=\"http://www.springframework.org/schema/mvc\" \n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\n       http://www.springframework.org/schema/aop \n       http://www.springframework.org/schema/aop/spring-aop-4.0.xsd\n       http://www.springframework.org/schema/tx\n       http://www.springframework.org/schema/tx/spring-tx-4.0.xsd \n       http://www.springframework.org/schema/security\n       http://www.springframework.org/schema/mvc \n       http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd\n       http://www.springframework.org/schema/context \n       http://www.springframework.org/schema/context/spring-context-4.0.xsd\"\n       &gt;\n\n    &lt;mvc:annotation-driven /&gt;\n    &lt;context:component-scan base-package=\"controllers\" /&gt;\n\n\n    &lt;bean id=\"viewResolver\"\n          class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"\n          p:prefix=\"/WEB-INF/jsp/\"\n          p:suffix=\".jsp\" /&gt; \n\n&lt;/beans&gt;\n</code></pre>\n\n<p>and here is what tomcat says:</p>\n\n<pre><code>org.xml.sax.SAXParseException; lineNumber: 23; columnNumber: 30; cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element 'mvc:annotation-driven'.\n    com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:203)\n    com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:134)\n    com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:437)\n    com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:368)\n    com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:325)\n    com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(XMLSchemaValidator.java:458)\n    com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(XMLSchemaValidator.java:3237)\n    com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(XMLSchemaValidator.java:1917)\n    com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.emptyElement(XMLSchemaValidator.java:766)\n    com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:356)\n    com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2786)\n    com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:606)\n    com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:117)\n    com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:510)\n    com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:848)\n    com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\n    com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\n    com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:243)\n    com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:348)\n    org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:76)\n    org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadDocument(XmlBeanDefinitionReader.java:428)\n    org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)\n    org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:335)\n    org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:303)\n    org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\n    org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:216)\n    org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:187)\n    org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\n    org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\n    org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)\n    org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:540)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:454)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:658)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:624)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:672)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:543)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:484)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:610)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:526)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1078)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:655)\n    org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:222)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1566)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1523)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>any idea what might be wrong in my code?</p>\n\n<p>thanks</p>\n"},{"tags":["java","file-upload","io","inputstream","multipartform-data"],"comments":[{"owner":{"account_id":3340846,"reputation":2516,"user_id":2807172,"accept_rate":70,"display_name":"Raju Sharma"},"score":0,"creation_date":1397275768,"post_id":23025941,"comment_id":35176378,"body_markdown":"What you using , it is servlet upload file or Webservice upload file. why you need to encode file even you are using multipart. you can upload file directly without encoding","body":"What you using , it is servlet upload file or Webservice upload file. why you need to encode file even you are using multipart. you can upload file directly without encoding"},{"owner":{"account_id":3497729,"reputation":2149,"user_id":2925372,"accept_rate":77,"display_name":"CSnerd"},"score":0,"creation_date":1397276005,"post_id":23025941,"comment_id":35176404,"body_markdown":"@Raju Sharma, it is servlet upload file. Actually, what I wanna do here is user uploads his file and I will store this file into my server side","body":"@Raju Sharma, it is servlet upload file. Actually, what I wanna do here is user uploads his file and I will store this file into my server side"}],"answers":[{"tags":[],"owner":{"account_id":3340846,"reputation":2516,"user_id":2807172,"accept_rate":70,"display_name":"Raju Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397276492,"creation_date":1397276492,"answer_id":23026058,"question_id":23025941,"body_markdown":"you dont need to do that much of thing. you can do it like below:\r\n\r\nindex.html\r\n\r\n    &lt;html&gt;  \r\n    &lt;body&gt;  \r\n    &lt;form action=&quot;go&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;  //here go is path for servelet\r\n    Select File:&lt;input type=&quot;file&quot; name=&quot;fname&quot;/&gt;&lt;br/&gt;  \r\n    &lt;input type=&quot;submit&quot; value=&quot;upload&quot;/&gt;  \r\n    &lt;/form&gt;  \r\n    &lt;/body&gt;  \r\n    &lt;/html&gt;  \r\n\r\nUploadServlet.java\r\n\r\n    import java.io.*;  \r\n    import javax.servlet.ServletException;  \r\n    import javax.servlet.http.*;  \r\n    import com.oreilly.servlet.MultipartRequest;  \r\n      \r\n    public class UploadServlet extends HttpServlet {  \r\n      \r\n    public void doPost(HttpServletRequest request, HttpServletResponse response)  \r\n        throws ServletException, IOException {  \r\n      \r\n    response.setContentType(&quot;text/html&quot;);  \r\n    PrintWriter out = response.getWriter();  \r\n              \r\n    MultipartRequest m=new MultipartRequest(request,&quot;d:/new&quot;);  //d is directory to upload file\r\n    out.print(&quot;successfully uploaded&quot;);  \r\n    }  \r\n    }\r\n\r\nweb.xml file\r\n\r\n    &lt;web-app&gt;  \r\n      \r\n    &lt;servlet&gt;  \r\n    &lt;servlet-name&gt;UploadServlet&lt;/servlet-name&gt;  \r\n    &lt;servlet-class&gt;UploadServlet&lt;/servlet-class&gt;  \r\n    &lt;/servlet&gt;  \r\n      \r\n    &lt;servlet-mapping&gt;  \r\n    &lt;servlet-name&gt;UploadServlet&lt;/servlet-name&gt;  \r\n    &lt;url-pattern&gt;/go&lt;/url-pattern&gt;  \r\n    &lt;/servlet-mapping&gt;  \r\n      \r\n    &lt;/web-app&gt;  \r\n\r\n\r\nand download the cos.jar file from the link: http://ftp.java2s.com/Code/Jar/c/Downloadcosmultipartjar.htm. and put it to you classpath.\r\n","title":"Get file content from multipart format","body":"<p>you dont need to do that much of thing. you can do it like below:</p>\n\n<p>index.html</p>\n\n<pre><code>&lt;html&gt;  \n&lt;body&gt;  \n&lt;form action=\"go\" method=\"post\" enctype=\"multipart/form-data\"&gt;  //here go is path for servelet\nSelect File:&lt;input type=\"file\" name=\"fname\"/&gt;&lt;br/&gt;  \n&lt;input type=\"submit\" value=\"upload\"/&gt;  \n&lt;/form&gt;  \n&lt;/body&gt;  \n&lt;/html&gt;  \n</code></pre>\n\n<p>UploadServlet.java</p>\n\n<pre><code>import java.io.*;  \nimport javax.servlet.ServletException;  \nimport javax.servlet.http.*;  \nimport com.oreilly.servlet.MultipartRequest;  \n\npublic class UploadServlet extends HttpServlet {  \n\npublic void doPost(HttpServletRequest request, HttpServletResponse response)  \n    throws ServletException, IOException {  \n\nresponse.setContentType(\"text/html\");  \nPrintWriter out = response.getWriter();  \n\nMultipartRequest m=new MultipartRequest(request,\"d:/new\");  //d is directory to upload file\nout.print(\"successfully uploaded\");  \n}  \n}\n</code></pre>\n\n<p>web.xml file</p>\n\n<pre><code>&lt;web-app&gt;  \n\n&lt;servlet&gt;  \n&lt;servlet-name&gt;UploadServlet&lt;/servlet-name&gt;  \n&lt;servlet-class&gt;UploadServlet&lt;/servlet-class&gt;  \n&lt;/servlet&gt;  \n\n&lt;servlet-mapping&gt;  \n&lt;servlet-name&gt;UploadServlet&lt;/servlet-name&gt;  \n&lt;url-pattern&gt;/go&lt;/url-pattern&gt;  \n&lt;/servlet-mapping&gt;  \n\n&lt;/web-app&gt;  \n</code></pre>\n\n<p>and download the cos.jar file from the link: <a href=\"http://ftp.java2s.com/Code/Jar/c/Downloadcosmultipartjar.htm\" rel=\"nofollow\">http://ftp.java2s.com/Code/Jar/c/Downloadcosmultipartjar.htm</a>. and put it to you classpath.</p>\n"},{"tags":[],"owner":{"account_id":3405673,"reputation":217,"user_id":2856774,"display_name":"Kedar1442"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1397277044,"creation_date":1397277044,"answer_id":23026106,"question_id":23025941,"body_markdown":"You can write your Servlet code as, \r\n    \r\n\r\n    Part filepart=request.getPart(&quot;file&quot;);\r\n\t\tSystem.out.println(filepart);\r\n\t\tString filename=null;\r\n\t\tif(filepart!=null){\r\n\t\t\tSystem.out.println(&quot;IF filepart not null&quot;);\r\n\t\t\tSystem.out.println(filepart.getName());\r\n\t\t\tSystem.out.println(filepart.getContentType());\r\n\t\t\tSystem.out.println(filepart.getSize());\r\n\t\t\tSystem.out.println(filepart.getInputStream());\r\n\t\t\t\r\n\t\t\t\r\n                   String contentDisp = filepart.getHeader(&quot;content-disposition&quot;);\r\n                   System.out.println(&quot;content-disposition header= &quot;+contentDisp);\r\n                   String[] tokens = contentDisp.split(&quot;;&quot;);\r\n                  for (String token : tokens) {\r\n                    if (token.trim().startsWith(&quot;filename&quot;)) \r\n                    System.out.println(token.substring(token.indexOf(&quot;=&quot;) + 2, token.length()-1));\r\n                filename=token.substring(token.indexOf(&quot;=&quot;) + 2, token.length()-1);\r\n                System.out.println(&quot;File Name New is: &quot; +filename);            \r\n        }\t\t\t\r\n\t\t\t\r\n\t\t}\t\r\n\t\t\r\n\t\tInputStream inputstream=null;\r\n\t\tif(filepart!=null)\r\n\t\t{\r\n\t\t\tinputstream=filepart.getInputStream();\r\n\t\t\tSystem.out.println(&quot;File data: &quot; +inputstream);\r\n\t\t}\r\n\r\n\r\n\r\nHere you get file name and contents of uploaded file, After this code you can write code for storing file in DB or on your system.","title":"Get file content from multipart format","body":"<p>You can write your Servlet code as, </p>\n\n<pre><code>Part filepart=request.getPart(\"file\");\n    System.out.println(filepart);\n    String filename=null;\n    if(filepart!=null){\n        System.out.println(\"IF filepart not null\");\n        System.out.println(filepart.getName());\n        System.out.println(filepart.getContentType());\n        System.out.println(filepart.getSize());\n        System.out.println(filepart.getInputStream());\n\n\n               String contentDisp = filepart.getHeader(\"content-disposition\");\n               System.out.println(\"content-disposition header= \"+contentDisp);\n               String[] tokens = contentDisp.split(\";\");\n              for (String token : tokens) {\n                if (token.trim().startsWith(\"filename\")) \n                System.out.println(token.substring(token.indexOf(\"=\") + 2, token.length()-1));\n            filename=token.substring(token.indexOf(\"=\") + 2, token.length()-1);\n            System.out.println(\"File Name New is: \" +filename);            \n    }           \n\n    }   \n\n    InputStream inputstream=null;\n    if(filepart!=null)\n    {\n        inputstream=filepart.getInputStream();\n        System.out.println(\"File data: \" +inputstream);\n    }\n</code></pre>\n\n<p>Here you get file name and contents of uploaded file, After this code you can write code for storing file in DB or on your system.</p>\n"}],"owner":{"account_id":3497729,"reputation":2149,"user_id":2925372,"accept_rate":77,"display_name":"CSnerd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10775,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694257360,"creation_date":1397275142,"question_id":23025941,"body_markdown":"What I wanna do here is user uploads his file and I will store this file into my server side\r\n\r\nIMPORTANT: I can ONLY use &quot;servlet-api.jar(2.4 version)&quot;, I cannot use other JAR!\r\n\r\nI use `&lt;form action=\\&quot;/Mapreduce/upload\\&quot; method=\\&quot;POST\\&quot; enctype=\\&quot;multipart/form-data\\&quot;&gt;` to upload my file.\r\n\r\nThen I use this code `InputStream whole = request.getInputStream();` to get the whole inputstream.\r\n\r\nThen I use this code to get the string of the file content\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(whole, &quot;UTF-8&quot;));\r\n    while ((line = br.readLine()) != null) {\r\n          sb.append(line);// sb is stringbuilder here\r\n    }\r\n\r\nThen, I convert the string I get from stringbuilder to InputStream:\r\n\r\n    InputStream is = new ByteArrayInputStream(result.getBytes(&quot;UTF-8&quot;&quot;));\r\n\r\n\r\nFinally, I write this `InputStream is` to another file(temp) by using the following code:\r\n\r\n\r\n    OutputStream outputStream = new FileOutputStream(temp);// temp is a file.\r\n    int read = 0;\r\n    byte[] bytes = new byte[1024];\r\n    while ((read = is.read(bytes)) != -1) {\r\n    \toutputStream.write(bytes, 0, read);\r\n    }\r\n\r\n\r\nWhen I upload the .txt file, it works and I can open the temp.txt. However, when I upload the .docx file, I cannot open the temp.docx. How can I solve this problem? Is it because my encoding is wrong?","title":"Get file content from multipart format","body":"<p>What I wanna do here is user uploads his file and I will store this file into my server side</p>\n\n<p>IMPORTANT: I can ONLY use \"servlet-api.jar(2.4 version)\", I cannot use other JAR!</p>\n\n<p>I use <code>&lt;form action=\\\"/Mapreduce/upload\\\" method=\\\"POST\\\" enctype=\\\"multipart/form-data\\\"&gt;</code> to upload my file.</p>\n\n<p>Then I use this code <code>InputStream whole = request.getInputStream();</code> to get the whole inputstream.</p>\n\n<p>Then I use this code to get the string of the file content</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(whole, \"UTF-8\"));\nwhile ((line = br.readLine()) != null) {\n      sb.append(line);// sb is stringbuilder here\n}\n</code></pre>\n\n<p>Then, I convert the string I get from stringbuilder to InputStream:</p>\n\n<pre><code>InputStream is = new ByteArrayInputStream(result.getBytes(\"UTF-8\"\"));\n</code></pre>\n\n<p>Finally, I write this <code>InputStream is</code> to another file(temp) by using the following code:</p>\n\n<pre><code>OutputStream outputStream = new FileOutputStream(temp);// temp is a file.\nint read = 0;\nbyte[] bytes = new byte[1024];\nwhile ((read = is.read(bytes)) != -1) {\n    outputStream.write(bytes, 0, read);\n}\n</code></pre>\n\n<p>When I upload the .txt file, it works and I can open the temp.txt. However, when I upload the .docx file, I cannot open the temp.docx. How can I solve this problem? Is it because my encoding is wrong?</p>\n"},{"tags":["java","spring-boot","keycloak","keycloak-services","keycloak-rest-api"],"comments":[{"owner":{"account_id":69386,"reputation":5102,"user_id":201891,"accept_rate":85,"display_name":"DavidS"},"score":1,"creation_date":1695236305,"post_id":73048753,"comment_id":135999060,"body_markdown":"I think you&#39;re trying to do something entirely inadvisable. From that blog post you linked, the purpose is to set-up a &quot;Keycloak server embedded in a Spring Boot application. _This makes it easy to start up a pre-configured Keycloak server._&quot; The purpose of that blog post is just to run Keycloak, not to integrate it with your custom REST API.","body":"I think you&#39;re trying to do something entirely inadvisable. From that blog post you linked, the purpose is to set-up a &quot;Keycloak server embedded in a Spring Boot application. <i>This makes it easy to start up a pre-configured Keycloak server.</i>&quot; The purpose of that blog post is just to run Keycloak, not to integrate it with your custom REST API."},{"owner":{"account_id":1558780,"reputation":4158,"user_id":1449185,"accept_rate":42,"display_name":"Rasool Ghafari"},"score":0,"creation_date":1695629973,"post_id":73048753,"comment_id":136044847,"body_markdown":"After this problem, I faced with other problems. Then, by contacting the community and people who are working with Keycloak, I found out that this is a bad way to integrate Keycloak with Spring Boot. Because, a lot of features aren&#39;t supported in this way, and also if one wants to add a new feature to Keycloak, one can&#39;t find any way in upstream projects and documents. So, I setback from this way.","body":"After this problem, I faced with other problems. Then, by contacting the community and people who are working with Keycloak, I found out that this is a bad way to integrate Keycloak with Spring Boot. Because, a lot of features aren&#39;t supported in this way, and also if one wants to add a new feature to Keycloak, one can&#39;t find any way in upstream projects and documents. So, I setback from this way."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694255700,"creation_date":1658436219,"answer_id":73072420,"question_id":73048753,"body_markdown":"I have quite a different way of doing things: I don&#39;t mix resource and authorization servers: I try to avoid coupling as much as possible, and I just like the idea of SSO (the same authorization server shared by several apps).\r\n\r\nI write Keycloak mappers to enrich access and ID tokens (you can find such a mapper using Keycloak user session [here][1]) and resource servers using those &quot;rich&quot; JWTs issued by Keycloak [there][2].\r\n\r\nBoth links above are from a complete project with [READMEs to get you started][3]:\r\n - Angular UI (with Ionic for building both web and mobile native apps)\r\n - REST API with Spring resource-servers\r\n - Keycloak as authorization-server\r\n\r\nThere are 2 different clients for resource and authorization servers:\r\n - Keycloak mapper (using client credentials flow)\r\n - Ionic app (using authorization code + PKCSE)\r\n\r\n#### P.S.\r\nThe architecture of this project is deprecated: the Angular app shouldn&#39;t be an OAuth2 client. It&#39;s requests should be authorized with sessions (and CSRF protection) on a BFF (for instance `spring-cloud-gateway` so that:\r\n- the OAuth2 client could be confidential (only clients on a server can keep a secret)\r\n- tokens are hidden from remote devices and the code running on it\r\n\r\nBut this wouldn&#39;t change how the tokens are enriched and the data used on resource servers behind the BFF.\r\n\r\n  [1]: https://github.com/ch4mpy/user-proxies/tree/main/api/proxies-keycloak-mapper\r\n  [2]: https://github.com/ch4mpy/user-proxies/tree/main/api/user-proxies-api\r\n  [3]: https://github.com/ch4mpy/user-proxies","title":"how to get KeycloakSession in embedded keycloak with spring boot","body":"<p>I have quite a different way of doing things: I don't mix resource and authorization servers: I try to avoid coupling as much as possible, and I just like the idea of SSO (the same authorization server shared by several apps).</p>\n<p>I write Keycloak mappers to enrich access and ID tokens (you can find such a mapper using Keycloak user session <a href=\"https://github.com/ch4mpy/user-proxies/tree/main/api/proxies-keycloak-mapper\" rel=\"nofollow noreferrer\">here</a>) and resource servers using those &quot;rich&quot; JWTs issued by Keycloak <a href=\"https://github.com/ch4mpy/user-proxies/tree/main/api/user-proxies-api\" rel=\"nofollow noreferrer\">there</a>.</p>\n<p>Both links above are from a complete project with <a href=\"https://github.com/ch4mpy/user-proxies\" rel=\"nofollow noreferrer\">READMEs to get you started</a>:</p>\n<ul>\n<li>Angular UI (with Ionic for building both web and mobile native apps)</li>\n<li>REST API with Spring resource-servers</li>\n<li>Keycloak as authorization-server</li>\n</ul>\n<p>There are 2 different clients for resource and authorization servers:</p>\n<ul>\n<li>Keycloak mapper (using client credentials flow)</li>\n<li>Ionic app (using authorization code + PKCSE)</li>\n</ul>\n<h4>P.S.</h4>\n<p>The architecture of this project is deprecated: the Angular app shouldn't be an OAuth2 client. It's requests should be authorized with sessions (and CSRF protection) on a BFF (for instance <code>spring-cloud-gateway</code> so that:</p>\n<ul>\n<li>the OAuth2 client could be confidential (only clients on a server can keep a secret)</li>\n<li>tokens are hidden from remote devices and the code running on it</li>\n</ul>\n<p>But this wouldn't change how the tokens are enriched and the data used on resource servers behind the BFF.</p>\n"},{"tags":[],"owner":{"account_id":15224251,"reputation":11,"user_id":10985337,"display_name":"Fateme Imani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693919153,"creation_date":1693919153,"answer_id":77044765,"question_id":73048753,"body_markdown":"It may be late, and I hope you&#39;ve already found a solution. However, I&#39;m providing an answer for the next person who comes across this issue.\r\n\r\nI needed to fetch a Keycloak session in an extra event listener and modify a user&#39;s attribute. To achieve this, I used the following code:\r\n\r\n        val factory: KeycloakSessionFactory = KeycloakApplication.getSessionFactory()\r\n        this.kcSession = factory.create()\r\n        kcSession!!.transactionManager.begin()\r\n        this.realm = kcSession!!.realms().getRealm(&quot;sample&quot;)\r\n\r\n        logger.info(&quot;==========================================================================&quot;)\r\n        logger.info(&quot;Incoming new event: $event&quot;)\r\n        logger.info(&quot;==========================================================================&quot;)\r\n        with(event) {\r\n            val user = kcSession!!.users().getUserById(userId, realm) ?: throw Exception(Error.UserNotFound)\r\n            user.setSingleAttribute(&quot;firstName&quot;, name)\r\n        }\r\n\r\n        kcSession!!.transactionManager.commit()","title":"how to get KeycloakSession in embedded keycloak with spring boot","body":"<p>It may be late, and I hope you've already found a solution. However, I'm providing an answer for the next person who comes across this issue.</p>\n<p>I needed to fetch a Keycloak session in an extra event listener and modify a user's attribute. To achieve this, I used the following code:</p>\n<pre><code>    val factory: KeycloakSessionFactory = KeycloakApplication.getSessionFactory()\n    this.kcSession = factory.create()\n    kcSession!!.transactionManager.begin()\n    this.realm = kcSession!!.realms().getRealm(&quot;sample&quot;)\n\n    logger.info(&quot;==========================================================================&quot;)\n    logger.info(&quot;Incoming new event: $event&quot;)\n    logger.info(&quot;==========================================================================&quot;)\n    with(event) {\n        val user = kcSession!!.users().getUserById(userId, realm) ?: throw Exception(Error.UserNotFound)\n        user.setSingleAttribute(&quot;firstName&quot;, name)\n    }\n\n    kcSession!!.transactionManager.commit()\n</code></pre>\n"}],"owner":{"account_id":1558780,"reputation":4158,"user_id":1449185,"accept_rate":42,"display_name":"Rasool Ghafari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694255700,"creation_date":1658307832,"question_id":73048753,"body_markdown":"\r\nI&#39;m working on a project that runs embedded keycloak in the spring boot application (based on this article: https://www.baeldung.com/keycloak-embedded-in-spring-boot-app). I want to access KeycloakSession for some usages, for example in UserResource is a class that provides rest API to get user information by username I do this:\r\n\r\n\r\n    @RequestMapping(&quot;/api/users&quot;)\r\n    @RestController\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    public class UserResource {\r\n    \r\n     private final KeycloakSession session;\r\n    \r\n     @Bean\r\n     public KeycloakSession keycloakSession() {\r\n         return new DefaultKeycloakSessionFactory().create();\r\n     }\r\n     \r\n     @GetMapping(&quot;{username}&quot;)\r\n     public Response getUserInfo(@PathVariable(&quot;username&quot;) String username) {\r\n         RealmModel realm = session.getContext().getRealm();\r\n         UserModel user = session.users().getUserByUsername(username, realm);\r\n    \r\n         // codes removed for brevity\r\n     }\r\n    }\r\n\r\n\r\nThe problem is that when I call the above rest, the session object and its fields are null, so I get null pointer exception. how can I solve this problem?\r\n\r\n\r\n","title":"how to get KeycloakSession in embedded keycloak with spring boot","body":"<p>I'm working on a project that runs embedded keycloak in the spring boot application (based on this article: <a href=\"https://www.baeldung.com/keycloak-embedded-in-spring-boot-app\" rel=\"nofollow noreferrer\">https://www.baeldung.com/keycloak-embedded-in-spring-boot-app</a>). I want to access KeycloakSession for some usages, for example in UserResource is a class that provides rest API to get user information by username I do this:</p>\n<pre><code>@RequestMapping(&quot;/api/users&quot;)\n@RestController\n@Slf4j\n@RequiredArgsConstructor\npublic class UserResource {\n\n private final KeycloakSession session;\n\n @Bean\n public KeycloakSession keycloakSession() {\n     return new DefaultKeycloakSessionFactory().create();\n }\n \n @GetMapping(&quot;{username}&quot;)\n public Response getUserInfo(@PathVariable(&quot;username&quot;) String username) {\n     RealmModel realm = session.getContext().getRealm();\n     UserModel user = session.users().getUserByUsername(username, realm);\n\n     // codes removed for brevity\n }\n}\n</code></pre>\n<p>The problem is that when I call the above rest, the session object and its fields are null, so I get null pointer exception. how can I solve this problem?</p>\n"},{"tags":["java","android","adb"],"comments":[{"owner":{"account_id":2015638,"reputation":5854,"user_id":1803007,"accept_rate":76,"display_name":"Paul"},"score":0,"creation_date":1358337282,"post_id":14357705,"comment_id":19961830,"body_markdown":"tablet is running ICS, I&#39;m using min sdk 14","body":"tablet is running ICS, I&#39;m using min sdk 14"},{"owner":{"account_id":85690,"reputation":41035,"user_id":238753,"accept_rate":61,"display_name":"Sam"},"score":0,"creation_date":1433048675,"post_id":14357705,"comment_id":49180166,"body_markdown":"Did you actually get this working? I can see you&#39;ve accepted the top answer, but your comments suggest it still wasn&#39;t working for you. I&#39;ve got the same problem.","body":"Did you actually get this working? I can see you&#39;ve accepted the top answer, but your comments suggest it still wasn&#39;t working for you. I&#39;ve got the same problem."},{"owner":{"account_id":9939125,"reputation":13015,"user_id":7356355,"display_name":"user158"},"score":0,"creation_date":1600674389,"post_id":14357705,"comment_id":113150448,"body_markdown":"Starting from Android 11 [you could achieve this easily](https://stackoverflow.com/a/63988041/7356355) without using a USB cable at all :","body":"Starting from Android 11 <a href=\"https://stackoverflow.com/a/63988041/7356355\">you could achieve this easily</a> without using a USB cable at all :"}],"answers":[{"tags":[],"owner":{"account_id":167824,"reputation":21098,"user_id":1439305,"accept_rate":81,"display_name":"Audrius Meškauskas"},"down_vote_count":0,"up_vote_count":238,"is_accepted":true,"score":238,"last_activity_date":1358338280,"creation_date":1358337328,"answer_id":14357876,"question_id":14357705,"body_markdown":"Rooting is not required. With USB cable connected, port 5555 opened across all involved firewalls and debug mode enabled\r\n\r\n    adb tcpip 5555\r\n\r\nthen look into wireless properties of your device and the network you use, to see which IP address have been granted to device (or configure your DHCP always to use the same for the device mac address). Then\r\n\r\n    adb connect 192.168.1.133\r\n\r\n(were 192.168.1.133 is a sample IP address).\r\n\r\nThis is all. You can now use `adb shell` or `adb install` or `adb upload` or [the like][1] with USB cable plugged out. \r\n\r\nTo switch back to USB mode, \r\n\r\n    adb usb\r\n\r\nThe device may also revert back to USB mode after reboot.\r\n\r\nThis mode is needed for development of applications that use attached USB devices directly (USB port is used by device so cannot be used by ADB). It is briefly covered in the [USB debugging section][2] of the Android website.\r\n\r\n\r\n  [1]: http://developer.android.com/tools/help/adb.html\r\n  [2]: http://developer.android.com/guide/topics/connectivity/usb/index.html","title":"ADB over wireless","body":"<p>Rooting is not required. With USB cable connected, port 5555 opened across all involved firewalls and debug mode enabled</p>\n\n<pre><code>adb tcpip 5555\n</code></pre>\n\n<p>then look into wireless properties of your device and the network you use, to see which IP address have been granted to device (or configure your DHCP always to use the same for the device mac address). Then</p>\n\n<pre><code>adb connect 192.168.1.133\n</code></pre>\n\n<p>(were 192.168.1.133 is a sample IP address).</p>\n\n<p>This is all. You can now use <code>adb shell</code> or <code>adb install</code> or <code>adb upload</code> or <a href=\"http://developer.android.com/tools/help/adb.html\" rel=\"noreferrer\">the like</a> with USB cable plugged out. </p>\n\n<p>To switch back to USB mode, </p>\n\n<pre><code>adb usb\n</code></pre>\n\n<p>The device may also revert back to USB mode after reboot.</p>\n\n<p>This mode is needed for development of applications that use attached USB devices directly (USB port is used by device so cannot be used by ADB). It is briefly covered in the <a href=\"http://developer.android.com/guide/topics/connectivity/usb/index.html\" rel=\"noreferrer\">USB debugging section</a> of the Android website.</p>\n"},{"tags":[],"owner":{"account_id":18990,"reputation":431,"user_id":44030,"display_name":"Kumar Rangarajan"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1360764740,"creation_date":1360764740,"answer_id":14855490,"question_id":14357705,"body_markdown":"I ran into the same problem today and find that things are fine on my non-rooted 4.2 Galaxy Nexus device, but does not work on my older (again non-rooted) Samsung Galaxy Y (2.3) device.\r\n\r\nI tried the steps given [here][1] but looks like one needs a rooted phone to work on some of the earlier models (and maybe other non-nexus devices too).\r\n\r\nThis is what I tried -\r\n\r\n`$ adb shell netstat | grep 5555`\r\n\r\nNo socket was opened on this port.\r\n\r\nTried to manually set the steps that adb tcpip does -\r\n\r\n    $ adb shell setprop service.adb.tcp.port 5555\r\n    $ adb shell stop adbd\r\n    $ adb shell start adbd\r\n    $ adb shell getprop | grep adb\r\n\r\nThis does not show the property that was just set.\r\n\r\nThis is what it shows on my nexus device where it works without rooting -\r\n\r\n    $ adb shell getprop | grep adb\r\n    [service.adb.tcp.port]: [5555]\r\n\r\nSo depending on what phone/OS version u have, your mileage might vary.\r\n\r\n:-)\r\n\r\n  [1]: https://stackoverflow.com/questions/6313167/cant-connect-to-android-via-adb-over-wifi-do-i-need-root-access","title":"ADB over wireless","body":"<p>I ran into the same problem today and find that things are fine on my non-rooted 4.2 Galaxy Nexus device, but does not work on my older (again non-rooted) Samsung Galaxy Y (2.3) device.</p>\n\n<p>I tried the steps given <a href=\"https://stackoverflow.com/questions/6313167/cant-connect-to-android-via-adb-over-wifi-do-i-need-root-access\">here</a> but looks like one needs a rooted phone to work on some of the earlier models (and maybe other non-nexus devices too).</p>\n\n<p>This is what I tried -</p>\n\n<p><code>$ adb shell netstat | grep 5555</code></p>\n\n<p>No socket was opened on this port.</p>\n\n<p>Tried to manually set the steps that adb tcpip does -</p>\n\n<pre><code>$ adb shell setprop service.adb.tcp.port 5555\n$ adb shell stop adbd\n$ adb shell start adbd\n$ adb shell getprop | grep adb\n</code></pre>\n\n<p>This does not show the property that was just set.</p>\n\n<p>This is what it shows on my nexus device where it works without rooting -</p>\n\n<pre><code>$ adb shell getprop | grep adb\n[service.adb.tcp.port]: [5555]\n</code></pre>\n\n<p>So depending on what phone/OS version u have, your mileage might vary.</p>\n\n<p>:-)</p>\n"},{"tags":[],"owner":{"account_id":433350,"reputation":3959,"user_id":818634,"display_name":"DmitrySandalov"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1389813858,"creation_date":1389290463,"answer_id":21027757,"question_id":14357705,"body_markdown":"For wireless adb on my Nexus 4 @ Android 4.4.2 (Kitkat) I usually do:\r\n\r\n1. Turn on usb debug in &#39;Developer options&#39;\r\n2. Connect via usb cable, accept an RSA key dialog\r\n3. `adb tcpip 5555`\r\n4. `adb connect 192.168.?.?` (device IP on local wlan)\r\n5. Disconnect usb cable\r\n\r\n6. Test if connection is still on: `adb devices`\r\n    * If ok you&#39;ll see:&lt;br&gt;\r\n     `List of devices attached`&lt;br&gt;\r\n    `192.168.?.?:5555\tdevice`\r\n    * Else use Kumar&#39;s method:&lt;br&gt;https://stackoverflow.com/a/14855490/818634","title":"ADB over wireless","body":"<p>For wireless adb on my Nexus 4 @ Android 4.4.2 (Kitkat) I usually do:</p>\n\n<ol>\n<li>Turn on usb debug in 'Developer options'</li>\n<li>Connect via usb cable, accept an RSA key dialog</li>\n<li><code>adb tcpip 5555</code></li>\n<li><code>adb connect 192.168.?.?</code> (device IP on local wlan)</li>\n<li><p>Disconnect usb cable</p></li>\n<li><p>Test if connection is still on: <code>adb devices</code></p>\n\n<ul>\n<li>If ok you'll see:<br>\n<code>List of devices attached</code><br>\n<code>192.168.?.?:5555   device</code></li>\n<li>Else use Kumar's method:<br><a href=\"https://stackoverflow.com/a/14855490/818634\">https://stackoverflow.com/a/14855490/818634</a></li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5251656,"reputation":1452,"user_id":4195725,"accept_rate":88,"display_name":"matthieu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435155726,"creation_date":1435155726,"answer_id":31029202,"question_id":14357705,"body_markdown":"If you installed adbd Insecure on your device, it will prevent you from connecting to your device via WiFi. You have to uncheck the &quot;Enable insecure adbd&quot; in the app adbd Insecure.\r\n\r\nSee https://stackoverflow.com/questions/27790445/fixed-cant-connect-to-adb-over-wifi","title":"ADB over wireless","body":"<p>If you installed adbd Insecure on your device, it will prevent you from connecting to your device via WiFi. You have to uncheck the \"Enable insecure adbd\" in the app adbd Insecure.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/27790445/fixed-cant-connect-to-adb-over-wifi\">FIXED: Can&#39;t connect to adb over wifi</a></p>\n"},{"tags":[],"owner":{"account_id":9032473,"reputation":11,"user_id":6729600,"display_name":"Yogesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472573702,"creation_date":1472573702,"answer_id":39232451,"question_id":14357705,"body_markdown":"No root required\r\n\r\nFor wireless ADB without USB cable is possible but you need to use one time setup connection with PC using usb cable.\r\n  make sure\r\n  USB debugging mode should be on.\r\n  Connect device on same wifi.\r\n then run\r\n\r\n - adb tcpip 5555\r\n - adb connect yourdeviceIP\r\n\r\nTo find current device IP and to setup adb wireless use app (without rooting device) \r\n\r\nhttps://play.google.com/store/apps/details?id=com.freeappmakr.adb\r\n\r\nUsing this app you can setup your device with wireless adb.\r\n\r\nIf any error in setup use\r\n\r\nadb kill-server\r\n\r\nthen try again\r\n\r\n\r\n","title":"ADB over wireless","body":"<p>No root required</p>\n\n<p>For wireless ADB without USB cable is possible but you need to use one time setup connection with PC using usb cable.\n  make sure\n  USB debugging mode should be on.\n  Connect device on same wifi.\n then run</p>\n\n<ul>\n<li>adb tcpip 5555</li>\n<li>adb connect yourdeviceIP</li>\n</ul>\n\n<p>To find current device IP and to setup adb wireless use app (without rooting device) </p>\n\n<p><a href=\"https://play.google.com/store/apps/details?id=com.freeappmakr.adb\" rel=\"nofollow\">https://play.google.com/store/apps/details?id=com.freeappmakr.adb</a></p>\n\n<p>Using this app you can setup your device with wireless adb.</p>\n\n<p>If any error in setup use</p>\n\n<p>adb kill-server</p>\n\n<p>then try again</p>\n"},{"tags":[],"owner":{"account_id":8708874,"reputation":59,"user_id":6515801,"accept_rate":88,"display_name":"nimish642"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679890350,"creation_date":1679333111,"answer_id":75793445,"question_id":14357705,"body_markdown":"While writing this answer, things have become much easier since the accepted answer.\r\n\r\nTo connect to an android device over adb wirelessly, follow the following steps:\r\n 1. Turn on &quot;Developer Options&quot; by tapping on the build number at least 7 times, during the process you will get a toast saying &#39;X number of taps remaining to enable developer options&#39;.\r\n 2. Once enabled, head over to the &quot;Developer Options&quot; which will now be visible as the main option under the Settings app, usually placed at the very bottom.\r\n 3. Now go to Debugging &gt; **Wireless Debugging** or simply search for Wireless debugging once inside the developer options. Turn on the wireless debugging. Now tap on the **wireless debugging** option.\r\n 4. Once inside, note your IP address and port. Let&#39;s call it IP1.\r\n 5. Now tap on &#39;Pair with pairing code&#39;. You will be presented with a second IP address and port and a pairing code. Let&#39;s call it IP2. We will **pair** our device to register our device fingerprint using IP2 and **connect** the device to your PC using IP2. Before moving forward make sure your PC and android device are on the same wifi network and `adb` is globally accessible from your terminal.\r\n 6. Open the terminal and enter `adb pair IP2`. Enter the pairing code when prompted. And now you are successfully paired with your PC.\r\n 7. Now to connect to your PC, enter the command `adb connect IP1`. And now you are successfully connected to your PC.\r\n 8. To check whether the connection was successful or not, enter the command `adb devices` and now you should see your phone listed as one of the devices.\r\n \r\n**Note: IP1 and IP2 are IP addresses including ports**\r\n\r\n**Once paired there&#39;s no need to pair again even if the wireless debugging connection is lost, simply run the `connect` command again.**","title":"ADB over wireless","body":"<p>While writing this answer, things have become much easier since the accepted answer.</p>\n<p>To connect to an android device over adb wirelessly, follow the following steps:</p>\n<ol>\n<li>Turn on &quot;Developer Options&quot; by tapping on the build number at least 7 times, during the process you will get a toast saying 'X number of taps remaining to enable developer options'.</li>\n<li>Once enabled, head over to the &quot;Developer Options&quot; which will now be visible as the main option under the Settings app, usually placed at the very bottom.</li>\n<li>Now go to Debugging &gt; <strong>Wireless Debugging</strong> or simply search for Wireless debugging once inside the developer options. Turn on the wireless debugging. Now tap on the <strong>wireless debugging</strong> option.</li>\n<li>Once inside, note your IP address and port. Let's call it IP1.</li>\n<li>Now tap on 'Pair with pairing code'. You will be presented with a second IP address and port and a pairing code. Let's call it IP2. We will <strong>pair</strong> our device to register our device fingerprint using IP2 and <strong>connect</strong> the device to your PC using IP2. Before moving forward make sure your PC and android device are on the same wifi network and <code>adb</code> is globally accessible from your terminal.</li>\n<li>Open the terminal and enter <code>adb pair IP2</code>. Enter the pairing code when prompted. And now you are successfully paired with your PC.</li>\n<li>Now to connect to your PC, enter the command <code>adb connect IP1</code>. And now you are successfully connected to your PC.</li>\n<li>To check whether the connection was successful or not, enter the command <code>adb devices</code> and now you should see your phone listed as one of the devices.</li>\n</ol>\n<p><strong>Note: IP1 and IP2 are IP addresses including ports</strong></p>\n<p><strong>Once paired there's no need to pair again even if the wireless debugging connection is lost, simply run the <code>connect</code> command again.</strong></p>\n"},{"tags":[],"owner":{"account_id":28735220,"reputation":67,"user_id":22006363,"display_name":"Atul Tiwaree"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694254993,"creation_date":1694254993,"answer_id":77071796,"question_id":14357705,"body_markdown":"**Wireless Debugging without using USB**\r\n\r\n**Mobile Steps**\r\n\r\n 1. First check if your `device supports wireless debugging`\r\n\r\n 2. If `supports` then go to your `developer setting`, search and `tap Wireless debugging` option\r\n\r\n 3. Now search for `Pair device with pairing code` or similar and tap\r\n\r\n 4. Then you&#39;ll see a `pairing code` and `IP address with port`\r\n\r\n**PC Steps**\r\n \r\n 1. Open Terminal, write below command\r\n\r\n```adb\r\n adb pair 125.198.7.202:40169  //&lt;- IP address shown on your phone\r\n\r\n pairing code: 532240    //&lt;- Pairing code shown on your phone\r\n```\r\n\r\n**Note : Make sure both pc and mobile connected to same wifi or pc is connected with mobile hotspot**\r\n\r\n\r\n\r\n\r\n \r\n\r\n","title":"ADB over wireless","body":"<p><strong>Wireless Debugging without using USB</strong></p>\n<p><strong>Mobile Steps</strong></p>\n<ol>\n<li><p>First check if your <code>device supports wireless debugging</code></p>\n</li>\n<li><p>If <code>supports</code> then go to your <code>developer setting</code>, search and <code>tap Wireless debugging</code> option</p>\n</li>\n<li><p>Now search for <code>Pair device with pairing code</code> or similar and tap</p>\n</li>\n<li><p>Then you'll see a <code>pairing code</code> and <code>IP address with port</code></p>\n</li>\n</ol>\n<p><strong>PC Steps</strong></p>\n<ol>\n<li>Open Terminal, write below command</li>\n</ol>\n<pre><code> adb pair 125.198.7.202:40169  //&lt;- IP address shown on your phone\n\n pairing code: 532240    //&lt;- Pairing code shown on your phone\n</code></pre>\n<p><strong>Note : Make sure both pc and mobile connected to same wifi or pc is connected with mobile hotspot</strong></p>\n"}],"owner":{"account_id":2015638,"reputation":5854,"user_id":1803007,"accept_rate":76,"display_name":"Paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70134,"favorite_count":0,"down_vote_count":0,"up_vote_count":99,"accepted_answer_id":14357876,"answer_count":7,"score":99,"last_activity_date":1694254993,"creation_date":1358336808,"question_id":14357705,"body_markdown":"Hey i was wondering do you need root to do this any more? I want to install/run apps over wireless to stop all this cable switching. I have also read that it can cause some errors though? That was on old posts on this site, I was wondering is it reliable and easy to do now?","title":"ADB over wireless","body":"<p>Hey i was wondering do you need root to do this any more? I want to install/run apps over wireless to stop all this cable switching. I have also read that it can cause some errors though? That was on old posts on this site, I was wondering is it reliable and easy to do now?</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1693105341,"post_id":76984825,"comment_id":135715490,"body_markdown":"It looks like you&#39;ve already got the `LivingEntity` in your method&#39;s parameters. What seems to be the problem with your current approach?","body":"It looks like you&#39;ve already got the <code>LivingEntity</code> in your method&#39;s parameters. What seems to be the problem with your current approach?"},{"owner":{"account_id":27582164,"reputation":17,"user_id":21051135,"display_name":"TheRatKing"},"score":0,"creation_date":1693152752,"post_id":76984825,"comment_id":135719423,"body_markdown":"If you look where it says &quot;what do i put here&quot;. I need to input a LivingEntity for the method to work. I don&#39;t know how to get the living entity that is using the food.","body":"If you look where it says &quot;what do i put here&quot;. I need to input a LivingEntity for the method to work. I don&#39;t know how to get the living entity that is using the food."}],"answers":[{"tags":[],"owner":{"account_id":29283248,"reputation":71,"user_id":22435397,"display_name":"Tatschi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694254214,"creation_date":1693331335,"answer_id":77002565,"question_id":76984825,"body_markdown":"You can&#39;t get a `LivingEntity` in that declaration because it is independent of any entities. It is declared before any entity even exists.\r\nYou need to find your entity when the effect is applied.\r\n\r\nOne way to do so is by subscribing to the `PotionAddedEvent` and putting your logic in the event handler.\r\n\r\nFirst, you need to check if the same kind of effect is already on the LivingEntity. You can get the old effect from the `PotionEvent.PotionAddedEvent.getOldPotionEffect()` method. The method will return null if and only if the entity does not have the same type of effect yet.\r\n\r\nSecondly, you need to check if the added effect is your effect in order to not interfere with other effects. You can get the added effect from the `PotionEvent.PotionAddedEvent.getPotionEffect()` method.\r\n\r\n\r\n\r\n&lt;strike&gt;\r\nYou probably will have to apply the effect a second time with the higher amplifier here because the event is not cancellable which is not super clean. Also make sure you don&#39;t cause an infinite loop of applying effects here.\r\n&lt;/strike&gt;\r\n\r\nFinally, you can update the added effect with a new MobEffectInstance with a higher amplifier by calling the `MobEffectInstance.update(MobEffectInstance)` method.\r\n\r\n\r\nThis is what the final event handler looks like:\r\n```lang-java\r\n    @SubscribeEvent\r\n\tpublic void onPotionAdded(PotionEvent.PotionAddedEvent event) {\r\n\t\tMobEffectInstance effect = event.getPotionEffect();\r\n\t\tif(event.getOldPotionEffect() == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (effect.getEffect().equals(ModEffects.METH_EFFECT.get())) {\r\n\t\t\tMobEffectInstance amplifiedEffect = new MobEffectInstance(effect.getEffect(), effect.getDuration(), effect.getAmplifier() + 1);\t\t\t\r\n\t\t\teffect.update(amplifiedEffect);\r\n\t\t}\r\n\t}\r\n```\r\n\r\n----------\r\n\r\n\r\n&lt;strike&gt;\r\nAlternatively, you can probably create your own subclass of `MobEffectInstance` which overrides the `update(MobEffectInstance)` method. This is the method that is called whenever an effect is applied and the same effect already exists on that entity. Here you could create your own logic specialized for your item. You can then use your custom class in the declaration of your `METH` object. This is probably the cleaner but possibly more difficult way.\r\n&lt;/strike&gt;","title":"How do I get the Living Entity in this class? (Minecraft Modding 1.18.2)","body":"<p>You can't get a <code>LivingEntity</code> in that declaration because it is independent of any entities. It is declared before any entity even exists.\nYou need to find your entity when the effect is applied.</p>\n<p>One way to do so is by subscribing to the <code>PotionAddedEvent</code> and putting your logic in the event handler.</p>\n<p>First, you need to check if the same kind of effect is already on the LivingEntity. You can get the old effect from the <code>PotionEvent.PotionAddedEvent.getOldPotionEffect()</code> method. The method will return null if and only if the entity does not have the same type of effect yet.</p>\n<p>Secondly, you need to check if the added effect is your effect in order to not interfere with other effects. You can get the added effect from the <code>PotionEvent.PotionAddedEvent.getPotionEffect()</code> method.</p>\n<strike>\nYou probably will have to apply the effect a second time with the higher amplifier here because the event is not cancellable which is not super clean. Also make sure you don't cause an infinite loop of applying effects here.\n</strike>\n<p>Finally, you can update the added effect with a new MobEffectInstance with a higher amplifier by calling the <code>MobEffectInstance.update(MobEffectInstance)</code> method.</p>\n<p>This is what the final event handler looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @SubscribeEvent\n    public void onPotionAdded(PotionEvent.PotionAddedEvent event) {\n        MobEffectInstance effect = event.getPotionEffect();\n        if(event.getOldPotionEffect() == null) {\n            return;\n        }\n        if (effect.getEffect().equals(ModEffects.METH_EFFECT.get())) {\n            MobEffectInstance amplifiedEffect = new MobEffectInstance(effect.getEffect(), effect.getDuration(), effect.getAmplifier() + 1);         \n            effect.update(amplifiedEffect);\n        }\n    }\n</code></pre>\n<hr />\n<strike>\nAlternatively, you can probably create your own subclass of `MobEffectInstance` which overrides the `update(MobEffectInstance)` method. This is the method that is called whenever an effect is applied and the same effect already exists on that entity. Here you could create your own logic specialized for your item. You can then use your custom class in the declaration of your `METH` object. This is probably the cleaner but possibly more difficult way.\n</strike>\n"}],"owner":{"account_id":27582164,"reputation":17,"user_id":21051135,"display_name":"TheRatKing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":77002565,"answer_count":1,"score":-2,"last_activity_date":1694254214,"creation_date":1693083403,"question_id":76984825,"body_markdown":"I&#39;m trying to make a food item (meth) that when you eat it it will stack the effect Amplifier each time. So I made this method to try and figure out if the player already has the effect and if so to make the effect amplifier 2 instead of the default 0. My big problem is when I try to use the method it of course requires a LivingEntity(the player) to use the method, what should I put in the methods parameters and how can I get the LivingEntity.\r\n\r\n```\r\npackage net.tyrique.banhammermod.item.custom;\r\n\r\nimport net.minecraft.world.effect.MobEffectInstance;\r\nimport net.minecraft.world.entity.LivingEntity;\r\nimport net.minecraft.world.entity.player.Player;\r\nimport net.minecraft.world.food.FoodProperties;\r\nimport net.tyrique.banhammermod.effect.ModEffects;\r\n\r\npublic class MethFood {\r\n\r\n    public static final FoodProperties METH = (new FoodProperties.Builder()).alwaysEat().nutrition(0).saturationMod(0F).effect(\r\n            () -&gt; new MobEffectInstance(ModEffects.METH_EFFECT.get(), 1500, isAlreadyHigh(**WHAT DO I PUT HERE!?**)), 1.0F).fast().build();\r\n\r\n\r\n\r\n    private static int isAlreadyHigh(LivingEntity player) {\r\n        int lvl = 0;\r\n        if (player.hasEffect(ModEffects.METH_EFFECT.get())) {\r\n            lvl = 2;\r\n        }\r\n\r\n\r\n        return lvl;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nI&#39;ve already tried using some other techniques or possible methods to get the player but I don&#39;t know what else I can do. I&#39;m sure the solution is simple.\r\n\r\n**update(MobEffectInstance) Method Isolated:**\r\n\r\n```\r\n@Override\r\n    public boolean update(MobEffectInstance p_19559_) {\r\n        int newamp = p_19559_.getAmplifier() + 1;\r\n        p_19559_ = new MobEffectInstance(p_19559_.getEffect(), p_19559_.getDuration(), newamp);\r\n        return super.update(p_19559_);\r\n    }\r\n```\r\n\r\n**ModMobEffectInstanceClass:**\r\n\r\n```\r\n\r\npublic class ModMobEffectInstance extends MobEffectInstance {\r\n\r\n    public ModMobEffectInstance(MobEffect effect, int duration, int amplifier) {\r\n        super(effect, duration, amplifier);\r\n    }\r\n\r\n    @Override\r\n    public boolean update(MobEffectInstance p_19559_) {\r\n        int newamp = p_19559_.getAmplifier() + 1;\r\n        p_19559_ = new ModMobEffectInstance(p_19559_.getEffect(), p_19559_.getDuration(), newamp);\r\n        return super.update(p_19559_);\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n**MethItemClass:**\r\n```\r\npublic class MethFood {\r\n\r\n    public static final FoodProperties METH = (new FoodProperties.Builder()).alwaysEat().nutrition(-1).saturationMod(0F).effect(\r\n            () -&gt; new ModMobEffectInstance(ModEffects.METH_EFFECT.get(), 1500, 0), 1.0F).fast().build();\r\n\r\n\r\n\r\n}\r\n```","title":"How do I get the Living Entity in this class? (Minecraft Modding 1.18.2)","body":"<p>I'm trying to make a food item (meth) that when you eat it it will stack the effect Amplifier each time. So I made this method to try and figure out if the player already has the effect and if so to make the effect amplifier 2 instead of the default 0. My big problem is when I try to use the method it of course requires a LivingEntity(the player) to use the method, what should I put in the methods parameters and how can I get the LivingEntity.</p>\n<pre><code>package net.tyrique.banhammermod.item.custom;\n\nimport net.minecraft.world.effect.MobEffectInstance;\nimport net.minecraft.world.entity.LivingEntity;\nimport net.minecraft.world.entity.player.Player;\nimport net.minecraft.world.food.FoodProperties;\nimport net.tyrique.banhammermod.effect.ModEffects;\n\npublic class MethFood {\n\n    public static final FoodProperties METH = (new FoodProperties.Builder()).alwaysEat().nutrition(0).saturationMod(0F).effect(\n            () -&gt; new MobEffectInstance(ModEffects.METH_EFFECT.get(), 1500, isAlreadyHigh(**WHAT DO I PUT HERE!?**)), 1.0F).fast().build();\n\n\n\n    private static int isAlreadyHigh(LivingEntity player) {\n        int lvl = 0;\n        if (player.hasEffect(ModEffects.METH_EFFECT.get())) {\n            lvl = 2;\n        }\n\n\n        return lvl;\n    }\n\n\n}\n</code></pre>\n<p>I've already tried using some other techniques or possible methods to get the player but I don't know what else I can do. I'm sure the solution is simple.</p>\n<p><strong>update(MobEffectInstance) Method Isolated:</strong></p>\n<pre><code>@Override\n    public boolean update(MobEffectInstance p_19559_) {\n        int newamp = p_19559_.getAmplifier() + 1;\n        p_19559_ = new MobEffectInstance(p_19559_.getEffect(), p_19559_.getDuration(), newamp);\n        return super.update(p_19559_);\n    }\n</code></pre>\n<p><strong>ModMobEffectInstanceClass:</strong></p>\n<pre><code>\npublic class ModMobEffectInstance extends MobEffectInstance {\n\n    public ModMobEffectInstance(MobEffect effect, int duration, int amplifier) {\n        super(effect, duration, amplifier);\n    }\n\n    @Override\n    public boolean update(MobEffectInstance p_19559_) {\n        int newamp = p_19559_.getAmplifier() + 1;\n        p_19559_ = new ModMobEffectInstance(p_19559_.getEffect(), p_19559_.getDuration(), newamp);\n        return super.update(p_19559_);\n    }\n\n\n\n\n}\n\n</code></pre>\n<p><strong>MethItemClass:</strong></p>\n<pre><code>public class MethFood {\n\n    public static final FoodProperties METH = (new FoodProperties.Builder()).alwaysEat().nutrition(-1).saturationMod(0F).effect(\n            () -&gt; new ModMobEffectInstance(ModEffects.METH_EFFECT.get(), 1500, 0), 1.0F).fast().build();\n\n\n\n}\n</code></pre>\n"},{"tags":["java","multithreading","thread-safety"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":11,"creation_date":1694237654,"post_id":77070967,"comment_id":135868121,"body_markdown":"Read the documentation. If it says it&#39;s thread safe, it&#39;s thread safe. Otherwise you should assume it is not.","body":"Read the documentation. If it says it&#39;s thread safe, it&#39;s thread safe. Otherwise you should assume it is not."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1694253528,"post_id":77070967,"comment_id":135869243,"body_markdown":"[StringBuffer](https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuffer.html) is a good example. It&#39;s there from the beginning of Java, not in the concurrent package and you can read in the documantation all about its thread safety.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuffer.html\" rel=\"nofollow noreferrer\">StringBuffer</a> is a good example. It&#39;s there from the beginning of Java, not in the concurrent package and you can read in the documantation all about its thread safety."}],"answers":[{"tags":[],"owner":{"account_id":29224527,"reputation":159,"user_id":22389582,"display_name":"Nadun Madawala"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1694238547,"creation_date":1694238158,"answer_id":77070995,"question_id":77070967,"body_markdown":" - It is not accurate to claim that all classes not under\r\n   java.util.concurrent are unsafe in a multi-threaded environment in\r\n   Java. Whether a class is thread-safe or not depends on its design and\r\n   how it handles concurrent access by multiple threads. Java&#39;s\r\n   java.util.concurrent package contains a set of classes that are\r\n   explicitly designed and tested to work correctly in multi-threaded\r\n   environments.  However, there are many other classes in Java, both in\r\n   the standard library and in custom code, that can be used safely in\r\n   multi-threaded environments if they are used correctly and with\r\n   proper synchronization mechanisms. These classes may not be\r\n   explicitly labeled as &quot;thread-safe,&quot; but they can still be used\r\n   safely with the right precautions.\r\n - Classes in java.util.concurrent are explicitly designed for\r\n   multi-threaded use, not all other classes are inherently unsafe. You\r\n   should carefully **review the documentation**, source code, and\r\n   synchronization mechanisms used by a class to determine whether it is\r\n   safe to use in a multi-threaded environment.","title":"How to know if a specific Java class is thread-safe?","body":"<ul>\n<li>It is not accurate to claim that all classes not under\njava.util.concurrent are unsafe in a multi-threaded environment in\nJava. Whether a class is thread-safe or not depends on its design and\nhow it handles concurrent access by multiple threads. Java's\njava.util.concurrent package contains a set of classes that are\nexplicitly designed and tested to work correctly in multi-threaded\nenvironments.  However, there are many other classes in Java, both in\nthe standard library and in custom code, that can be used safely in\nmulti-threaded environments if they are used correctly and with\nproper synchronization mechanisms. These classes may not be\nexplicitly labeled as &quot;thread-safe,&quot; but they can still be used\nsafely with the right precautions.</li>\n<li>Classes in java.util.concurrent are explicitly designed for\nmulti-threaded use, not all other classes are inherently unsafe. You\nshould carefully <strong>review the documentation</strong>, source code, and\nsynchronization mechanisms used by a class to determine whether it is\nsafe to use in a multi-threaded environment.</li>\n</ul>\n"}],"owner":{"account_id":28176211,"reputation":31,"user_id":21533955,"display_name":"firefly_0"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77070995,"answer_count":1,"score":-1,"last_activity_date":1694253934,"creation_date":1694237552,"question_id":77070967,"body_markdown":"1. Is it true that all classes not under java.util.concurrent are unsafe in a multi-threaded environment?\r\n2. If number 1 is wrong, how do you know if a specific class is thread-safe?","title":"How to know if a specific Java class is thread-safe?","body":"<ol>\n<li>Is it true that all classes not under java.util.concurrent are unsafe in a multi-threaded environment?</li>\n<li>If number 1 is wrong, how do you know if a specific class is thread-safe?</li>\n</ol>\n"},{"tags":["java","connection-pooling"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694248605,"post_id":77071435,"comment_id":135868882,"body_markdown":"Because you aren&#39;t the only client?","body":"Because you aren&#39;t the only client?"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694251392,"creation_date":1694249601,"answer_id":77071499,"question_id":77071435,"body_markdown":"The `setMaxTotal` sets the maximum number of connections that specific instance of the connection pool can create. If you set it to 60, and your server also has a maximum of 60, it might work, or it might fail if there are also other things that create connections (e.g. monitoring tools, other instances of the application, etc.).\r\n\r\nThe `setMaxTotal` only concerns the specific instance of the connection pool, and it does not track or monitor the number of connections allowed by the server: it is your responsibility to configure it (or the MySQL server) appropriately to not try and allocate too much (or to ensure that the MySQL server configuration has sufficient slack).\r\n\r\nSo, if you use  `setMaxTotal` with value 60, and you have two instances of the application running, it will mean that together, they can allocate a maximum of 120 connections (assuming of course, your MySQL server has a maximum of 120 or greater, otherwise it will fail).\r\n\r\n---\r\n\r\nThe `setMaxTotal` is the upper limit of connections the connection pool will allocate. That means, if set to 60, it can have 60 connections leased at a time. If the application calls `DataSource.getConnection()` when all 60 connections are leased, that call will wait for the configured timeout to see if a connection becomes available within that timeout, or otherwise throw an exception that it timed out.\r\n\r\nIf the connection pool hasn&#39;t reached max total yet, and all currently allocated connections are already leased, it will create a new connection and hand that out.\r\n\r\nThis is why it is important that your code **closes** a connection as soon as possible. Closing a connection from a connection pool is what returns it to the pool for reuse.","title":"What does &quot;setMaxTotal&quot; actually do? (MySQL &amp; Java &amp; Apache&#39;s BasicDataSource connection pool)","body":"<p>The <code>setMaxTotal</code> sets the maximum number of connections that specific instance of the connection pool can create. If you set it to 60, and your server also has a maximum of 60, it might work, or it might fail if there are also other things that create connections (e.g. monitoring tools, other instances of the application, etc.).</p>\n<p>The <code>setMaxTotal</code> only concerns the specific instance of the connection pool, and it does not track or monitor the number of connections allowed by the server: it is your responsibility to configure it (or the MySQL server) appropriately to not try and allocate too much (or to ensure that the MySQL server configuration has sufficient slack).</p>\n<p>So, if you use  <code>setMaxTotal</code> with value 60, and you have two instances of the application running, it will mean that together, they can allocate a maximum of 120 connections (assuming of course, your MySQL server has a maximum of 120 or greater, otherwise it will fail).</p>\n<hr />\n<p>The <code>setMaxTotal</code> is the upper limit of connections the connection pool will allocate. That means, if set to 60, it can have 60 connections leased at a time. If the application calls <code>DataSource.getConnection()</code> when all 60 connections are leased, that call will wait for the configured timeout to see if a connection becomes available within that timeout, or otherwise throw an exception that it timed out.</p>\n<p>If the connection pool hasn't reached max total yet, and all currently allocated connections are already leased, it will create a new connection and hand that out.</p>\n<p>This is why it is important that your code <strong>closes</strong> a connection as soon as possible. Closing a connection from a connection pool is what returns it to the pool for reuse.</p>\n"}],"owner":{"account_id":29678,"reputation":11815,"user_id":80389,"accept_rate":65,"display_name":"corgrath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77071499,"answer_count":1,"score":1,"last_activity_date":1694253098,"creation_date":1694248347,"question_id":77071435,"body_markdown":"Having a MySQL database on AWS, I see that the max number of connections it allows is `60` when doing `show variables like &#39;max_connections&#39;`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo when using [Apache&#39;s javax.sql.DataSource implementation as my connection pool][2], I can set the max number of [active connections][3] to 60.\r\n\r\n```\r\n...\r\n\r\nconnectionPool = new BasicDataSource();\r\nconnectionPool.setUrl(&quot;...&quot;);\r\nconnectionPool.setMaxTotal(60);\r\n...\r\n```\r\n\r\nHowever, I still get sometimes `TooManyConnectionsDatabaseException` exceptions in my code.\r\n\r\nThis makes me wonder; what does this practically actually do for a connection pool implementation?\r\n\r\nLet&#39;s say that a server can only handle 100 active connections, and I create 500 connections from a connection pool, then what happens?\r\n\r\n- Does the connection pool on the client side create an internal queue of 400 and halts/sleep the 400 connection threads?\r\n\r\n- Or will it try and send 500 requests to the MySQL database regardless of setting the max number of connections? (if so, what&#39;s the point of the limit)\r\n\r\n- Or will it throw a coding exception for the other 400 connections?\r\n\r\nWhat exactly does setting the max number of active connections of a connection pool do? How does a connection pool behave in the code wants to create more connections than the max value you&#39;ve set?\r\n\r\n---\r\n\r\n**UPDATE AFTER RIGHT ANSWER**\r\n\r\nThis is based on @mark-rotteveel&#39;s answer.\r\n\r\nBy printing `connectionPool.getMaxWaitMillis()`, I see that the max wait time is `-1` ms, which means `Use -1 to make the pool wait indefinitely.`.\r\n\r\nSo, I tried changing the connection init code to:\r\n\r\n```\r\nconnectionPool.setMaxTotal(1); // Only have 1 active connection at the same time\r\nconnectionPool.setMaxWaitMillis(1); // Only wait 1ms for a free connection\r\n```\r\n\r\nAnd my code immediately got\r\n\r\n```\r\njava.sql.SQLException: Cannot get a connection, pool error Timeout waiting for idle object\r\n```\r\n\r\nWhich is expected and makes sense! \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xtkJR.png\r\n  [2]: https://commons.apache.org/proper/commons-dbcp/apidocs/org/apache/commons/dbcp2/BasicDataSource.html\r\n  [3]: https://commons.apache.org/proper/commons-dbcp/apidocs/org/apache/commons/dbcp2/BasicDataSource.html#setMaxTotal-int-","title":"What does &quot;setMaxTotal&quot; actually do? (MySQL &amp; Java &amp; Apache&#39;s BasicDataSource connection pool)","body":"<p>Having a MySQL database on AWS, I see that the max number of connections it allows is <code>60</code> when doing <code>show variables like 'max_connections'</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/xtkJR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xtkJR.png\" alt=\"enter image description here\" /></a></p>\n<p>So when using <a href=\"https://commons.apache.org/proper/commons-dbcp/apidocs/org/apache/commons/dbcp2/BasicDataSource.html\" rel=\"nofollow noreferrer\">Apache's javax.sql.DataSource implementation as my connection pool</a>, I can set the max number of <a href=\"https://commons.apache.org/proper/commons-dbcp/apidocs/org/apache/commons/dbcp2/BasicDataSource.html#setMaxTotal-int-\" rel=\"nofollow noreferrer\">active connections</a> to 60.</p>\n<pre><code>...\n\nconnectionPool = new BasicDataSource();\nconnectionPool.setUrl(&quot;...&quot;);\nconnectionPool.setMaxTotal(60);\n...\n</code></pre>\n<p>However, I still get sometimes <code>TooManyConnectionsDatabaseException</code> exceptions in my code.</p>\n<p>This makes me wonder; what does this practically actually do for a connection pool implementation?</p>\n<p>Let's say that a server can only handle 100 active connections, and I create 500 connections from a connection pool, then what happens?</p>\n<ul>\n<li><p>Does the connection pool on the client side create an internal queue of 400 and halts/sleep the 400 connection threads?</p>\n</li>\n<li><p>Or will it try and send 500 requests to the MySQL database regardless of setting the max number of connections? (if so, what's the point of the limit)</p>\n</li>\n<li><p>Or will it throw a coding exception for the other 400 connections?</p>\n</li>\n</ul>\n<p>What exactly does setting the max number of active connections of a connection pool do? How does a connection pool behave in the code wants to create more connections than the max value you've set?</p>\n<hr />\n<p><strong>UPDATE AFTER RIGHT ANSWER</strong></p>\n<p>This is based on @mark-rotteveel's answer.</p>\n<p>By printing <code>connectionPool.getMaxWaitMillis()</code>, I see that the max wait time is <code>-1</code> ms, which means <code>Use -1 to make the pool wait indefinitely.</code>.</p>\n<p>So, I tried changing the connection init code to:</p>\n<pre><code>connectionPool.setMaxTotal(1); // Only have 1 active connection at the same time\nconnectionPool.setMaxWaitMillis(1); // Only wait 1ms for a free connection\n</code></pre>\n<p>And my code immediately got</p>\n<pre><code>java.sql.SQLException: Cannot get a connection, pool error Timeout waiting for idle object\n</code></pre>\n<p>Which is expected and makes sense!</p>\n"},{"tags":["java","maven","apache-kafka","apache-flink","flink-cep"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1694657756,"post_id":77071598,"comment_id":135921196,"body_markdown":"Are you having this problem when running Flink in an IDE, or in a real Flink cluster?","body":"Are you having this problem when running Flink in an IDE, or in a real Flink cluster?"},{"owner":{"account_id":24386325,"reputation":329,"user_id":18317047,"display_name":"Ishaan Adarsh"},"score":0,"creation_date":1694668432,"post_id":77071598,"comment_id":135922012,"body_markdown":"Having this problem while running flink in the IDE","body":"Having this problem while running flink in the IDE"},{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1694705213,"post_id":77071598,"comment_id":135929439,"body_markdown":"See this answer: https://stackoverflow.com/a/74830262/2000823","body":"See this answer: <a href=\"https://stackoverflow.com/a/74830262/2000823\">stackoverflow.com/a/74830262/2000823</a>"}],"owner":{"account_id":24386325,"reputation":329,"user_id":18317047,"display_name":"Ishaan Adarsh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694251806,"creation_date":1694251489,"question_id":77071598,"body_markdown":"I&#39;m working on a project that uses Apache Flink&#39;s Complex Event Processing (CEP) to create a stroke risk alarm system. However, I&#39;m encountering several issues in my Java code, and I&#39;m seeking help to resolve them.\r\n\r\n**Code Sample:**\r\n\r\nHere&#39;s my Java code in the `StrokeRiskAlarm` class:\r\n\r\n```java\r\npackage hes.cs63.CEPMonitor;\r\n\r\nimport org.apache.flink.api.common.serialization.SimpleStringSchema;\r\nimport org.apache.flink.cep.CEP;\r\nimport org.apache.flink.cep.Pattern;\r\nimport org.apache.flink.cep.PatternSelectFunction;\r\nimport org.apache.flink.cep.conditions.SimpleCondition;\r\nimport org.apache.flink.streaming.api.datastream.DataStream;\r\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\nimport org.apache.flink.streaming.connectors.kafka.KafkaSource;\r\nimport org.apache.flink.streaming.connectors.kafka.config.StartupMode;\r\nimport org.apache.flink.streaming.connectors.kafka.config.TableKafkaConnectorOptions;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Properties;\r\n\r\npublic class StrokeRiskAlert {\r\n    public static void main(String[] args) throws Exception {\r\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\r\n        Properties properties = new Properties();\r\n        properties.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n        properties.setProperty(&quot;group.id&quot;, &quot;stroke-risk-group&quot;);\r\n\r\n        // Use KafkaSource instead of FlinkKafkaConsumer\r\n        DataStream&lt;String&gt; patientData = env.fromSource(\r\n                KafkaSource.&lt;String&gt;builder()\r\n                        .setBootstrapServers(&quot;localhost:9092&quot;)\r\n                        .setGroupId(&quot;stroke-risk-group&quot;)\r\n                        .setTopic(&quot;patient-data-topic&quot;)\r\n                        .setProperties(properties)\r\n                        .setDeserializer(new SimpleStringSchema())\r\n                        .setStartingOffsets(StartupMode.EARLIEST)\r\n                        .build(),\r\n                &quot;Kafka Source&quot;);\r\n\r\n        Pattern&lt;String, ?&gt; highRiskPattern = Pattern.&lt;String&gt;begin(&quot;first&quot;)\r\n                .where(new SimpleCondition&lt;String&gt;() {\r\n                    @Override\r\n                    public boolean filter(String value) {\r\n                        return getValue(value) &gt; 3;\r\n                    }\r\n                });\r\n\r\n        DataStream&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; patternStream = CEP.pattern(\r\n                patientData,\r\n                highRiskPattern);\r\n\r\n        DataStream&lt;String&gt; strokeRiskAlerts = patternStream.select(new PatternSelectFunction&lt;String, String&gt;() {\r\n            @Override\r\n            public String select(Map&lt;String, List&lt;String&gt;&gt; pattern) throws Exception {\r\n                String userId = pattern.get(&quot;first&quot;).get(0).split(&quot;,&quot;)[0].trim();\r\n                int risk = getTotalRisk(pattern.get(&quot;first&quot;).get(0), pattern.get(&quot;middle&quot;).get(0),\r\n                        pattern.get(&quot;last&quot;).get(0));\r\n                return &quot;Stroke Risk Alert: Patient ID - &quot; + userId + &quot;, Risk Level - &quot; + risk;\r\n            }\r\n        });\r\n\r\n        strokeRiskAlerts.print();\r\n\r\n        env.execute(&quot;Stroke Risk Alert Job&quot;);\r\n    }\r\n\r\n    private static double getValue(String value) {\r\n        // Parse the input value and extract the relevant data for risk calculation\r\n        String[] parts = value.split(&quot;,&quot;);\r\n        String type = parts[2].trim();\r\n        double measurementValue = Double.parseDouble(parts[3].trim());\r\n\r\n        // Implement your logic to check high stroke risk for different measurements\r\n        if (type.equals(&quot;HR&quot;)) {\r\n            // HeartMeasurement risk calculation logic\r\n            int risk = 0;\r\n            risk += measurementValue &lt;= 50 ? 1 : 0;\r\n            risk += measurementValue &lt;= 40 ? 1 : 0;\r\n            risk += measurementValue &gt;= 91 ? 1 : 0;\r\n            risk += measurementValue &gt;= 110 ? 1 : 0;\r\n            risk += measurementValue &gt;= 131 ? 1 : 0;\r\n            return risk;\r\n        } else if (type.equals(&quot;SBP&quot;)) {\r\n            // BloodPressureMeasurement risk calculation logic\r\n            int risk = 0;\r\n            risk += measurementValue &lt;= 110 ? 1 : 0;\r\n            risk += measurementValue &lt;= 100 ? 1 : 0;\r\n            risk += measurementValue &lt;= 90 ? 1 : 0;\r\n            risk += measurementValue &gt;= 220 ? 3 : 0;\r\n            return risk;\r\n        } else if (type.equals(&quot;TEMP&quot;)) {\r\n            // TempMeasurement risk calculation logic\r\n            int risk = 0;\r\n            risk += measurementValue &lt;= 36 ? 1 : 0;\r\n            risk += measurementValue &lt;= 35 ? 2 : 0;\r\n            risk += measurementValue &gt;= 38.1 ? 1 : 0;\r\n            risk += measurementValue &gt;= 39.1 ? 1 : 0;\r\n            return risk;\r\n        }\r\n\r\n        // Default risk calculation\r\n        return 0;\r\n    }\r\n\r\n    private static int getTotalRisk(String firstValue, String middleValue, String lastValue) {\r\n        // Calculate the total risk based on the values of the first, middle, and last\r\n        // measurements\r\n        int firstRisk = getValue(firstValue);\r\n        int middleRisk = getValue(middleValue);\r\n        int lastRisk = getValue(lastValue);\r\n\r\n        return firstRisk + middleRisk + lastRisk;\r\n    }\r\n}\r\n```\r\n\r\n**Problem:**\r\n```\r\nI&#39;m encountering the following errors in my code:\r\n\r\n1. &quot;The import org.apache.flink.cep.Pattern cannot be resolved&quot; (Line 5)\r\n2. &quot;The import org.apache.flink.cep.conditions cannot be resolved&quot; (Line 7)\r\n3. &quot;The import org.apache.flink.streaming.connectors.kafka.KafkaSource cannot be resolved&quot; (Line 10)\r\n4. &quot;The import org.apache.flink.streaming.connectors.kafka.config.TableKafkaConnectorOptions cannot be resolved&quot; (Line 12)\r\n5. &quot;KafkaSource cannot be resolved&quot; (Line 28)\r\n6. &quot;Pattern cannot be resolved to a type&quot; (Line 38)\r\n7. &quot;Pattern cannot be resolved&quot; (Line 38)\r\n8. &quot;SimpleCondition cannot be resolved to a type&quot; (Line 39)\r\n9. &quot;The method filter(String) of type new SimpleCondition&lt;String&gt;(){} must override or implement a supertype method&quot; (Line 41)\r\n10. &quot;The method select(new PatternSelectFunction&lt;String,String&gt;(){}) is undefined for the type DataStream&lt;Map&lt;String,List&lt;String&gt;&gt;&gt;&quot; (Line 50)\r\n11. &quot;Type mismatch: cannot convert from double to int&quot; (Lines 106, 107, 108)\r\n12. &quot;Unknown word &#39;Flink&#39;&quot; (Line 26)\r\n```\r\n\r\n**What I&#39;ve Tried:**\r\n\r\nI&#39;ve already added the necessary dependencies to my `pom.xml` file, including Apache Flink and Kafka dependencies, with the correct versions. However, these errors persist, and I&#39;m not sure how to resolve them.\r\n\r\n### pom.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;flink-kafka-stroke-risk&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;11&lt;/java.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- Apache Flink Dependencies --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n      &lt;artifactId&gt;flink-java&lt;/artifactId&gt;\r\n      &lt;version&gt;1.16.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n      &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\r\n      &lt;version&gt;1.16.2&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n      &lt;artifactId&gt;flink-clients&lt;/artifactId&gt;\r\n      &lt;version&gt;1.16.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n      &lt;artifactId&gt;flink-cep&lt;/artifactId&gt;\r\n      &lt;version&gt;1.16.2&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!-- Apache Kafka Dependencies --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n      &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n      &lt;version&gt;3.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n      &lt;artifactId&gt;flink-connector-kafka&lt;/artifactId&gt;\r\n      &lt;version&gt;1.16.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!-- Other Dependencies --&gt;\r\n    &lt;!-- Add other dependencies your project may require here --&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;${java.version}&lt;/source&gt;\r\n          &lt;target&gt;${java.version}&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI&#39;m looking for guidance on how to resolve these import errors and type mismatches in my Apache Flink CEP-based stroke risk alarm application. Any suggestions or insights into what might be causing these issues would be greatly appreciated. Thank you!","title":"Flink CEP: Import Errors and Type Mismatches in Stroke Risk Alarm Application","body":"<p>I'm working on a project that uses Apache Flink's Complex Event Processing (CEP) to create a stroke risk alarm system. However, I'm encountering several issues in my Java code, and I'm seeking help to resolve them.</p>\n<p><strong>Code Sample:</strong></p>\n<p>Here's my Java code in the <code>StrokeRiskAlarm</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package hes.cs63.CEPMonitor;\n\nimport org.apache.flink.api.common.serialization.SimpleStringSchema;\nimport org.apache.flink.cep.CEP;\nimport org.apache.flink.cep.Pattern;\nimport org.apache.flink.cep.PatternSelectFunction;\nimport org.apache.flink.cep.conditions.SimpleCondition;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.connectors.kafka.KafkaSource;\nimport org.apache.flink.streaming.connectors.kafka.config.StartupMode;\nimport org.apache.flink.streaming.connectors.kafka.config.TableKafkaConnectorOptions;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Properties;\n\npublic class StrokeRiskAlert {\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n        Properties properties = new Properties();\n        properties.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n        properties.setProperty(&quot;group.id&quot;, &quot;stroke-risk-group&quot;);\n\n        // Use KafkaSource instead of FlinkKafkaConsumer\n        DataStream&lt;String&gt; patientData = env.fromSource(\n                KafkaSource.&lt;String&gt;builder()\n                        .setBootstrapServers(&quot;localhost:9092&quot;)\n                        .setGroupId(&quot;stroke-risk-group&quot;)\n                        .setTopic(&quot;patient-data-topic&quot;)\n                        .setProperties(properties)\n                        .setDeserializer(new SimpleStringSchema())\n                        .setStartingOffsets(StartupMode.EARLIEST)\n                        .build(),\n                &quot;Kafka Source&quot;);\n\n        Pattern&lt;String, ?&gt; highRiskPattern = Pattern.&lt;String&gt;begin(&quot;first&quot;)\n                .where(new SimpleCondition&lt;String&gt;() {\n                    @Override\n                    public boolean filter(String value) {\n                        return getValue(value) &gt; 3;\n                    }\n                });\n\n        DataStream&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; patternStream = CEP.pattern(\n                patientData,\n                highRiskPattern);\n\n        DataStream&lt;String&gt; strokeRiskAlerts = patternStream.select(new PatternSelectFunction&lt;String, String&gt;() {\n            @Override\n            public String select(Map&lt;String, List&lt;String&gt;&gt; pattern) throws Exception {\n                String userId = pattern.get(&quot;first&quot;).get(0).split(&quot;,&quot;)[0].trim();\n                int risk = getTotalRisk(pattern.get(&quot;first&quot;).get(0), pattern.get(&quot;middle&quot;).get(0),\n                        pattern.get(&quot;last&quot;).get(0));\n                return &quot;Stroke Risk Alert: Patient ID - &quot; + userId + &quot;, Risk Level - &quot; + risk;\n            }\n        });\n\n        strokeRiskAlerts.print();\n\n        env.execute(&quot;Stroke Risk Alert Job&quot;);\n    }\n\n    private static double getValue(String value) {\n        // Parse the input value and extract the relevant data for risk calculation\n        String[] parts = value.split(&quot;,&quot;);\n        String type = parts[2].trim();\n        double measurementValue = Double.parseDouble(parts[3].trim());\n\n        // Implement your logic to check high stroke risk for different measurements\n        if (type.equals(&quot;HR&quot;)) {\n            // HeartMeasurement risk calculation logic\n            int risk = 0;\n            risk += measurementValue &lt;= 50 ? 1 : 0;\n            risk += measurementValue &lt;= 40 ? 1 : 0;\n            risk += measurementValue &gt;= 91 ? 1 : 0;\n            risk += measurementValue &gt;= 110 ? 1 : 0;\n            risk += measurementValue &gt;= 131 ? 1 : 0;\n            return risk;\n        } else if (type.equals(&quot;SBP&quot;)) {\n            // BloodPressureMeasurement risk calculation logic\n            int risk = 0;\n            risk += measurementValue &lt;= 110 ? 1 : 0;\n            risk += measurementValue &lt;= 100 ? 1 : 0;\n            risk += measurementValue &lt;= 90 ? 1 : 0;\n            risk += measurementValue &gt;= 220 ? 3 : 0;\n            return risk;\n        } else if (type.equals(&quot;TEMP&quot;)) {\n            // TempMeasurement risk calculation logic\n            int risk = 0;\n            risk += measurementValue &lt;= 36 ? 1 : 0;\n            risk += measurementValue &lt;= 35 ? 2 : 0;\n            risk += measurementValue &gt;= 38.1 ? 1 : 0;\n            risk += measurementValue &gt;= 39.1 ? 1 : 0;\n            return risk;\n        }\n\n        // Default risk calculation\n        return 0;\n    }\n\n    private static int getTotalRisk(String firstValue, String middleValue, String lastValue) {\n        // Calculate the total risk based on the values of the first, middle, and last\n        // measurements\n        int firstRisk = getValue(firstValue);\n        int middleRisk = getValue(middleValue);\n        int lastRisk = getValue(lastValue);\n\n        return firstRisk + middleRisk + lastRisk;\n    }\n}\n</code></pre>\n<p><strong>Problem:</strong></p>\n<pre><code>I'm encountering the following errors in my code:\n\n1. &quot;The import org.apache.flink.cep.Pattern cannot be resolved&quot; (Line 5)\n2. &quot;The import org.apache.flink.cep.conditions cannot be resolved&quot; (Line 7)\n3. &quot;The import org.apache.flink.streaming.connectors.kafka.KafkaSource cannot be resolved&quot; (Line 10)\n4. &quot;The import org.apache.flink.streaming.connectors.kafka.config.TableKafkaConnectorOptions cannot be resolved&quot; (Line 12)\n5. &quot;KafkaSource cannot be resolved&quot; (Line 28)\n6. &quot;Pattern cannot be resolved to a type&quot; (Line 38)\n7. &quot;Pattern cannot be resolved&quot; (Line 38)\n8. &quot;SimpleCondition cannot be resolved to a type&quot; (Line 39)\n9. &quot;The method filter(String) of type new SimpleCondition&lt;String&gt;(){} must override or implement a supertype method&quot; (Line 41)\n10. &quot;The method select(new PatternSelectFunction&lt;String,String&gt;(){}) is undefined for the type DataStream&lt;Map&lt;String,List&lt;String&gt;&gt;&gt;&quot; (Line 50)\n11. &quot;Type mismatch: cannot convert from double to int&quot; (Lines 106, 107, 108)\n12. &quot;Unknown word 'Flink'&quot; (Line 26)\n</code></pre>\n<p><strong>What I've Tried:</strong></p>\n<p>I've already added the necessary dependencies to my <code>pom.xml</code> file, including Apache Flink and Kafka dependencies, with the correct versions. However, these errors persist, and I'm not sure how to resolve them.</p>\n<h3>pom.xml:</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;flink-kafka-stroke-risk&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- Apache Flink Dependencies --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n      &lt;artifactId&gt;flink-java&lt;/artifactId&gt;\n      &lt;version&gt;1.16.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n      &lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;\n      &lt;version&gt;1.16.2&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n      &lt;artifactId&gt;flink-clients&lt;/artifactId&gt;\n      &lt;version&gt;1.16.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n      &lt;artifactId&gt;flink-cep&lt;/artifactId&gt;\n      &lt;version&gt;1.16.2&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Apache Kafka Dependencies --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n      &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n      &lt;version&gt;3.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n      &lt;artifactId&gt;flink-connector-kafka&lt;/artifactId&gt;\n      &lt;version&gt;1.16.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Other Dependencies --&gt;\n    &lt;!-- Add other dependencies your project may require here --&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${java.version}&lt;/source&gt;\n          &lt;target&gt;${java.version}&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I'm looking for guidance on how to resolve these import errors and type mismatches in my Apache Flink CEP-based stroke risk alarm application. Any suggestions or insights into what might be causing these issues would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","android","flutter","kotlin"],"owner":{"account_id":12468773,"reputation":272,"user_id":9077701,"display_name":"Elyas Behroozizade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694251355,"creation_date":1678291897,"question_id":75675486,"body_markdown":"I am using [libv2ray][1] package to start the v2ray core on an android device using flutter. It&#39;s doing fine; if I manually set the proxy on my device, it goes alright. But, I want to create a VPN to proxy the whole device using `HTTP` or `Socks5` with the address `127.0.0.1` and a port like `1080` or anything else. I can not find a way to do this. Is there any help with that?\r\n\r\n\r\n  [1]: https://pub.dev/packages/libv2ray","title":"Create a v2ray VPN on android using flutter","body":"<p>I am using <a href=\"https://pub.dev/packages/libv2ray\" rel=\"nofollow noreferrer\">libv2ray</a> package to start the v2ray core on an android device using flutter. It's doing fine; if I manually set the proxy on my device, it goes alright. But, I want to create a VPN to proxy the whole device using <code>HTTP</code> or <code>Socks5</code> with the address <code>127.0.0.1</code> and a port like <code>1080</code> or anything else. I can not find a way to do this. Is there any help with that?</p>\n"},{"tags":["java","css","javafx","background-color","fxml"],"comments":[{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":2,"creation_date":1694188780,"post_id":77064291,"comment_id":135863143,"body_markdown":"This article might have your answer: https://edencoding.com/style-tableview-javafx/","body":"This article might have your answer: <a href=\"https://edencoding.com/style-tableview-javafx/\" rel=\"nofollow noreferrer\">edencoding.com/style-tableview-javafx</a>"}],"answers":[{"tags":[],"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694250581,"creation_date":1694250581,"answer_id":77071548,"question_id":77064291,"body_markdown":"I solved this problem by using this property in the css file.\r\n\r\n    .table-view .column-header {\r\n        -fx-background-color: transparent;\r\n    }","title":"How to Make Table&#39;s Horizontal, Vertical corner&#39;s Wheel background Color transparent in JavaFx?","body":"<p>I solved this problem by using this property in the css file.</p>\n<pre><code>.table-view .column-header {\n    -fx-background-color: transparent;\n}\n</code></pre>\n"}],"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77071548,"answer_count":1,"score":3,"last_activity_date":1694250581,"creation_date":1694150129,"question_id":77064291,"body_markdown":"Here is the image of the frame. I have highlighted the corners that i want to make transparent.\r\n\r\n[![Image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/45CJa.png\r\n\r\nI am facing the issue in making the corners colors of the table transparent. I don&#39;t why it is not changing because i have also changed the background color of the table header and table view.\r\n\r\nHere is my FXML Code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.Menu?&gt;\r\n    &lt;?import javafx.scene.control.MenuBar?&gt;\r\n    &lt;?import javafx.scene.control.MenuItem?&gt;\r\n    &lt;?import javafx.scene.control.TableColumn?&gt;\r\n    &lt;?import javafx.scene.control.TableView?&gt;\r\n    &lt;?import javafx.scene.control.cell.PropertyValueFactory?&gt;\r\n    &lt;?import javafx.scene.layout.BorderPane?&gt;\r\n    &lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.GridPane?&gt;\r\n    &lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    \r\n    &lt;BorderPane maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; xmlns=&quot;http://javafx.com/javafx/17.0.6&quot;\r\n                xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n                fx:controller=&quot;com.al_makkah_traders_app.controller.DashBoardController&quot;&gt;\r\n        &lt;top&gt;\r\n            &lt;MenuBar BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n                &lt;menus&gt;\r\n                    &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Bills&quot;&gt;\r\n                        &lt;items&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#walkInBillMenuItem&quot; text=&quot;Walk In Bill&quot;/&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#accountHolderBillMenuItem&quot;\r\n                                      text=&quot;Account Holder Bill&quot;/&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#emptyBillMenuItem&quot; text=&quot;Empty Bill&quot;/&gt;\r\n                        &lt;/items&gt;\r\n                    &lt;/Menu&gt;\r\n                    &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Stock&quot;&gt;\r\n                        &lt;items&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#onAddNewProductMenuItem&quot; text=&quot;Add New Product&quot;/&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#onPurchaseRequestMenuItem&quot;\r\n                                      text=&quot;Purchase Request&quot;/&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#onStockArrivalMenuItem&quot; text=&quot;Stock Arrival&quot;/&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#onStockTransferMenuItem&quot; text=&quot;Stock Transfer&quot;/&gt;\r\n                        &lt;/items&gt;\r\n                    &lt;/Menu&gt;\r\n                    &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Accounts&quot;&gt;\r\n                        &lt;items&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#onAddAccountHolderMenuItem&quot;\r\n                                      text=&quot;Add Account Holder&quot;/&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Account Holder&#39;s Transactions&quot;/&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#onAddNewCompanyAccount&quot; text=&quot;Company Accounts&quot;/&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Company Transactions&quot;/&gt;\r\n                        &lt;/items&gt;\r\n                    &lt;/Menu&gt;\r\n                    &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Reports&quot;&gt;\r\n                        &lt;items&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Daily Report&quot;/&gt;\r\n                        &lt;/items&gt;\r\n                    &lt;/Menu&gt;\r\n                    &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;About&quot;&gt;\r\n                        &lt;items&gt;\r\n                            &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;About&quot;/&gt;\r\n                        &lt;/items&gt;\r\n                    &lt;/Menu&gt;\r\n                &lt;/menus&gt;\r\n            &lt;/MenuBar&gt;\r\n        &lt;/top&gt;\r\n        &lt;center&gt;\r\n            &lt;VBox alignment=&quot;CENTER&quot; styleClass=&quot;left-form&quot; stylesheets=&quot;@../stylesheets/style.css&quot;\r\n                  BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n                &lt;children&gt;\r\n                    &lt;Label alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; text=&quot;Al-Makkah Traders&quot; textFill=&quot;WHITE&quot;&gt;\r\n                        &lt;font&gt;\r\n                            &lt;Font name=&quot;Berlin Sans FB Demi Bold&quot; size=&quot;40.0&quot;/&gt;\r\n                        &lt;/font&gt;\r\n                        &lt;padding&gt;\r\n                            &lt;Insets bottom=&quot;10.0&quot; top=&quot;10.0&quot;/&gt;\r\n                        &lt;/padding&gt;\r\n                    &lt;/Label&gt;\r\n                    &lt;GridPane alignment=&quot;CENTER&quot; hgap=&quot;30.0&quot; styleClass=&quot;right-form&quot; stylesheets=&quot;@../stylesheets/style.css&quot;\r\n                              vgap=&quot;10.0&quot;&gt;\r\n                        &lt;columnConstraints&gt;\r\n                            &lt;ColumnConstraints hgrow=&quot;ALWAYS&quot;/&gt;\r\n                            &lt;ColumnConstraints hgrow=&quot;ALWAYS&quot;/&gt;\r\n                        &lt;/columnConstraints&gt;\r\n                        &lt;rowConstraints&gt;\r\n                            &lt;RowConstraints/&gt;\r\n                            &lt;RowConstraints vgrow=&quot;ALWAYS&quot;/&gt;\r\n                            &lt;RowConstraints/&gt;\r\n                            &lt;RowConstraints vgrow=&quot;ALWAYS&quot;/&gt;\r\n                        &lt;/rowConstraints&gt;\r\n                        &lt;children&gt;\r\n                            &lt;Label text=&quot;Sales Logs&quot; textFill=&quot;#14b8a6&quot; GridPane.rowIndex=&quot;2&quot;&gt;\r\n                                &lt;font&gt;\r\n                                    &lt;Font name=&quot;System Bold&quot; size=&quot;25.0&quot;/&gt;\r\n                                &lt;/font&gt;\r\n                            &lt;/Label&gt;\r\n                            &lt;TableView fx:id=&quot;salesTableView&quot; styleClass=&quot;right-form&quot;\r\n                                       stylesheets=&quot;@../stylesheets/style.css&quot; GridPane.columnSpan=&quot;2&quot;\r\n                                       GridPane.rowIndex=&quot;3&quot;&gt;\r\n                                &lt;columns&gt;\r\n                                    &lt;TableColumn fx:id=&quot;productColumn&quot; text=&quot;Product&quot;&gt;\r\n                                        &lt;cellValueFactory&gt;\r\n                                            &lt;PropertyValueFactory property=&quot;product&quot;/&gt;\r\n                                        &lt;/cellValueFactory&gt;\r\n                                    &lt;/TableColumn&gt;\r\n    \r\n                                    &lt;TableColumn fx:id=&quot;quantityColumn&quot; text=&quot;Quantity&quot;&gt;\r\n                                        &lt;cellValueFactory&gt;\r\n                                            &lt;PropertyValueFactory property=&quot;quantity&quot;/&gt;\r\n                                        &lt;/cellValueFactory&gt;\r\n                                    &lt;/TableColumn&gt;\r\n    \r\n                                    &lt;TableColumn fx:id=&quot;accountHolderColumn&quot; text=&quot;Account Holder&quot;&gt;\r\n                                        &lt;cellValueFactory&gt;\r\n                                            &lt;PropertyValueFactory property=&quot;accountHolder&quot;/&gt;\r\n                                        &lt;/cellValueFactory&gt;\r\n                                    &lt;/TableColumn&gt;\r\n    \r\n                                    &lt;TableColumn fx:id=&quot;paymentModeColumn&quot; text=&quot;Payment Type&quot;&gt;\r\n                                        &lt;cellValueFactory&gt;\r\n                                            &lt;PropertyValueFactory property=&quot;paymentType&quot;/&gt;\r\n                                        &lt;/cellValueFactory&gt;\r\n                                    &lt;/TableColumn&gt;\r\n    \r\n                                    &lt;TableColumn text=&quot;Amount&quot;&gt;\r\n                                        &lt;cellValueFactory&gt;\r\n                                            &lt;PropertyValueFactory property=&quot;amount&quot;/&gt;\r\n                                        &lt;/cellValueFactory&gt;\r\n                                    &lt;/TableColumn&gt;\r\n                                &lt;/columns&gt;\r\n                                &lt;columnResizePolicy&gt;\r\n                                    &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot;/&gt;\r\n                                &lt;/columnResizePolicy&gt;\r\n                            &lt;/TableView&gt;\r\n                            &lt;Label text=&quot;Online Payments&quot; textFill=&quot;#14b8a6&quot; GridPane.columnIndex=&quot;1&quot;&gt;\r\n                                &lt;font&gt;\r\n                                    &lt;Font name=&quot;System Bold&quot; size=&quot;22.0&quot;/&gt;\r\n                                &lt;/font&gt;\r\n                            &lt;/Label&gt;\r\n                            &lt;TableView fx:id=&quot;onlinePaymentsTableView&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n                                &lt;columns&gt;\r\n                                    &lt;TableColumn text=&quot;Payment Mode&quot;&gt;\r\n                                        &lt;cellValueFactory&gt;\r\n                                            &lt;PropertyValueFactory property=&quot;paymentMode&quot;/&gt;\r\n                                        &lt;/cellValueFactory&gt;\r\n                                    &lt;/TableColumn&gt;\r\n                                    &lt;TableColumn text=&quot;Account Holder&quot;&gt;\r\n                                        &lt;cellValueFactory&gt;\r\n                                            &lt;PropertyValueFactory property=&quot;accountHolder&quot;/&gt;\r\n                                        &lt;/cellValueFactory&gt;\r\n                                    &lt;/TableColumn&gt;\r\n                                    &lt;TableColumn text=&quot;Account No&quot;&gt;\r\n                                        &lt;cellValueFactory&gt;\r\n                                            &lt;PropertyValueFactory property=&quot;accountNo&quot;/&gt;\r\n                                        &lt;/cellValueFactory&gt;\r\n                                    &lt;/TableColumn&gt;\r\n                                    &lt;TableColumn text=&quot;Amount&quot;&gt;\r\n                                        &lt;cellValueFactory&gt;\r\n                                            &lt;PropertyValueFactory property=&quot;amount&quot;/&gt;\r\n                                        &lt;/cellValueFactory&gt;\r\n                                    &lt;/TableColumn&gt;\r\n                                &lt;/columns&gt;\r\n                                &lt;columnResizePolicy&gt;\r\n                                    &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot;/&gt;\r\n                                &lt;/columnResizePolicy&gt;\r\n                            &lt;/TableView&gt;\r\n                            &lt;Label text=&quot;Stock Arrivals&quot; textFill=&quot;#14b8a6&quot;&gt;\r\n                                &lt;font&gt;\r\n                                    &lt;Font name=&quot;System Bold&quot; size=&quot;22.0&quot;/&gt;\r\n                                &lt;/font&gt;\r\n                            &lt;/Label&gt;\r\n                            &lt;TableView fx:id=&quot;stockArrivalsTableView&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n                                &lt;columns&gt;\r\n                                    &lt;TableColumn text=&quot;Date&quot;&gt;\r\n                                        &lt;cellValueFactory&gt;\r\n                                            &lt;PropertyValueFactory property=&quot;date&quot;/&gt;\r\n                                        &lt;/cellValueFactory&gt;\r\n                                    &lt;/TableColumn&gt;\r\n                                    &lt;TableColumn text=&quot;Product Name&quot;&gt;\r\n                                        &lt;cellValueFactory&gt;\r\n                                            &lt;PropertyValueFactory property=&quot;productName&quot;/&gt;\r\n                                        &lt;/cellValueFactory&gt;\r\n                                    &lt;/TableColumn&gt;\r\n                                    &lt;TableColumn text=&quot;Quantity&quot;&gt;\r\n                                        &lt;cellValueFactory&gt;\r\n                                            &lt;PropertyValueFactory property=&quot;quantity&quot;/&gt;\r\n                                        &lt;/cellValueFactory&gt;\r\n                                    &lt;/TableColumn&gt;\r\n                                    &lt;TableColumn text=&quot;History&quot;&gt;\r\n                                        &lt;cellValueFactory&gt;\r\n                                            &lt;PropertyValueFactory property=&quot;history&quot;/&gt;\r\n                                        &lt;/cellValueFactory&gt;\r\n                                    &lt;/TableColumn&gt;\r\n                                &lt;/columns&gt;\r\n                                &lt;columnResizePolicy&gt;\r\n                                    &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot;/&gt;\r\n                                &lt;/columnResizePolicy&gt;\r\n                            &lt;/TableView&gt;\r\n                        &lt;/children&gt;\r\n                        &lt;padding&gt;\r\n                            &lt;Insets bottom=&quot;30.0&quot; left=&quot;30.0&quot; right=&quot;30.0&quot; top=&quot;10.0&quot;/&gt;\r\n                        &lt;/padding&gt;\r\n                        &lt;VBox.margin&gt;\r\n                            &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n                        &lt;/VBox.margin&gt;\r\n                    &lt;/GridPane&gt;\r\n                &lt;/children&gt;\r\n                &lt;BorderPane.margin&gt;\r\n                    &lt;Insets/&gt;\r\n                &lt;/BorderPane.margin&gt;\r\n            &lt;/VBox&gt;\r\n        &lt;/center&gt;\r\n    &lt;/BorderPane&gt;\r\n\r\nand this is my stylesheet file code:\r\n\r\n    .label {\r\n        -fx-text: #fff;\r\n    }\r\n    \r\n    .panel-view {\r\n        -fx-background-color: #fff;\r\n        -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.4), 10, 0, 0, 0);\r\n        -fx-background-radius: 10px;\r\n    }\r\n    \r\n    .button {\r\n        -fx-background-color: #14b8a6;\r\n        -fx-background-radius: 10px;\r\n        -fx-cursor: hand;\r\n        -fx-font-size: 14px; /* Add &#39;px&#39; unit to font size */\r\n        -fx-text-fill: #fff;\r\n    }\r\n    \r\n    .left-form {\r\n        -fx-padding: 10px;\r\n        -fx-background-color: #14b8a6;\r\n    }\r\n    \r\n    .login-right-panel {\r\n        -fx-padding: 20px;\r\n        -fx-background-color: #fff;\r\n        -fx-border-color: #000;\r\n        -fx-border-width:.4px .4px .4px 0px;\r\n    }\r\n    \r\n    .login-left-form{\r\n        -fx-padding: 10px;\r\n        -fx-background-color:linear-gradient(to bottom right, #449d6b, #633364);\r\n        -fx-border-color:#000;\r\n        -fx-border-width:.4px 0px .4px .4px;\r\n    }\r\n    \r\n    .right-form {\r\n        -fx-padding: 20px 40px 40px 40px;\r\n        -fx-background-color: #fff;\r\n        -fx-background-radius: 10px;\r\n    }\r\n    \r\n    .text-field {\r\n        -fx-border-color: #3e3d3d;\r\n        -fx-border-width: 0.5px;\r\n        -fx-border-radius: 4px;\r\n        -fx-font-family: &quot;Tahoma&quot;;\r\n        -fx-font-size: 13px; /* Add &#39;px&#39; unit to font size */\r\n    }\r\n    \r\n    .text-field:focused {\r\n        -fx-border-color:linear-gradient(to bottom right, #449d6b, #633364);\r\n        -fx-border-radius: 4px;\r\n        -fx-border-width: 1.5;\r\n    }\r\n    \r\n    .login-button {\r\n        -fx-background-radius: 15px;\r\n        -fx-cursor: hand;\r\n        -fx-font-size: 14px; /* Add &#39;px&#39; unit to font size */\r\n        -fx-text-fill: #fff;\r\n        -fx-font-family: &quot;SansSerif&quot;;\r\n        -fx-background-color:linear-gradient(to bottom right, #449d6b, #633364);\r\n    }\r\n    \r\n    .combo-box {\r\n        -fx-background-color: #fff;\r\n        -fx-font-size: 11;\r\n        -fx-border-color: #3e3d3d;\r\n        -fx-border-width: 0.8;\r\n        -fx-border-radius: 4px;\r\n    }\r\n    \r\n    .combo-box:focused {\r\n        -fx-border-color: #14b8a6;\r\n        -fx-border-radius: 4px;\r\n        -fx-border-width: 1.5;\r\n    }\r\n    \r\n    .table-view {\r\n        -fx-background-color: transparent;\r\n        -fx-padding: 0px;\r\n        -fx-border-color: linear-gradient(to bottom right, #449d6b, #633364);\r\n        -fx-border-width: 2px;\r\n        -fx-border-radius: 8px;\r\n    }\r\n    \r\n    .table-view .table-column {\r\n        -fx-alignment: CENTER;\r\n    }\r\n    \r\n    .table-view .column-header-background {\r\n        -fx-background-color: linear-gradient(to bottom right, #449d6b, #633364);\r\n        -fx-background-radius: 8px 8px 0px 0px;\r\n    }\r\n    \r\n    .table-view .column-header, .filter {\r\n        -fx-background-color: transparent;\r\n        -fx-font-size: 13px;\r\n        -fx-size: 30px;\r\n    }\r\n    \r\n    .table-view .column-header .label {\r\n        -fx-text-fill: #fff;\r\n    }\r\n\r\n","title":"How to Make Table&#39;s Horizontal, Vertical corner&#39;s Wheel background Color transparent in JavaFx?","body":"<p>Here is the image of the frame. I have highlighted the corners that i want to make transparent.</p>\n<p><a href=\"https://i.stack.imgur.com/45CJa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/45CJa.png\" alt=\"Image\" /></a></p>\n<p>I am facing the issue in making the corners colors of the table transparent. I don't why it is not changing because i have also changed the background color of the table header and table view.</p>\n<p>Here is my FXML Code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.Menu?&gt;\n&lt;?import javafx.scene.control.MenuBar?&gt;\n&lt;?import javafx.scene.control.MenuItem?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.control.cell.PropertyValueFactory?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;BorderPane maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; xmlns=&quot;http://javafx.com/javafx/17.0.6&quot;\n            xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n            fx:controller=&quot;com.al_makkah_traders_app.controller.DashBoardController&quot;&gt;\n    &lt;top&gt;\n        &lt;MenuBar BorderPane.alignment=&quot;CENTER&quot;&gt;\n            &lt;menus&gt;\n                &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Bills&quot;&gt;\n                    &lt;items&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#walkInBillMenuItem&quot; text=&quot;Walk In Bill&quot;/&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#accountHolderBillMenuItem&quot;\n                                  text=&quot;Account Holder Bill&quot;/&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#emptyBillMenuItem&quot; text=&quot;Empty Bill&quot;/&gt;\n                    &lt;/items&gt;\n                &lt;/Menu&gt;\n                &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Stock&quot;&gt;\n                    &lt;items&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#onAddNewProductMenuItem&quot; text=&quot;Add New Product&quot;/&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#onPurchaseRequestMenuItem&quot;\n                                  text=&quot;Purchase Request&quot;/&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#onStockArrivalMenuItem&quot; text=&quot;Stock Arrival&quot;/&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#onStockTransferMenuItem&quot; text=&quot;Stock Transfer&quot;/&gt;\n                    &lt;/items&gt;\n                &lt;/Menu&gt;\n                &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Accounts&quot;&gt;\n                    &lt;items&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#onAddAccountHolderMenuItem&quot;\n                                  text=&quot;Add Account Holder&quot;/&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Account Holder's Transactions&quot;/&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#onAddNewCompanyAccount&quot; text=&quot;Company Accounts&quot;/&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Company Transactions&quot;/&gt;\n                    &lt;/items&gt;\n                &lt;/Menu&gt;\n                &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Reports&quot;&gt;\n                    &lt;items&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Daily Report&quot;/&gt;\n                    &lt;/items&gt;\n                &lt;/Menu&gt;\n                &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;About&quot;&gt;\n                    &lt;items&gt;\n                        &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;About&quot;/&gt;\n                    &lt;/items&gt;\n                &lt;/Menu&gt;\n            &lt;/menus&gt;\n        &lt;/MenuBar&gt;\n    &lt;/top&gt;\n    &lt;center&gt;\n        &lt;VBox alignment=&quot;CENTER&quot; styleClass=&quot;left-form&quot; stylesheets=&quot;@../stylesheets/style.css&quot;\n              BorderPane.alignment=&quot;CENTER&quot;&gt;\n            &lt;children&gt;\n                &lt;Label alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; text=&quot;Al-Makkah Traders&quot; textFill=&quot;WHITE&quot;&gt;\n                    &lt;font&gt;\n                        &lt;Font name=&quot;Berlin Sans FB Demi Bold&quot; size=&quot;40.0&quot;/&gt;\n                    &lt;/font&gt;\n                    &lt;padding&gt;\n                        &lt;Insets bottom=&quot;10.0&quot; top=&quot;10.0&quot;/&gt;\n                    &lt;/padding&gt;\n                &lt;/Label&gt;\n                &lt;GridPane alignment=&quot;CENTER&quot; hgap=&quot;30.0&quot; styleClass=&quot;right-form&quot; stylesheets=&quot;@../stylesheets/style.css&quot;\n                          vgap=&quot;10.0&quot;&gt;\n                    &lt;columnConstraints&gt;\n                        &lt;ColumnConstraints hgrow=&quot;ALWAYS&quot;/&gt;\n                        &lt;ColumnConstraints hgrow=&quot;ALWAYS&quot;/&gt;\n                    &lt;/columnConstraints&gt;\n                    &lt;rowConstraints&gt;\n                        &lt;RowConstraints/&gt;\n                        &lt;RowConstraints vgrow=&quot;ALWAYS&quot;/&gt;\n                        &lt;RowConstraints/&gt;\n                        &lt;RowConstraints vgrow=&quot;ALWAYS&quot;/&gt;\n                    &lt;/rowConstraints&gt;\n                    &lt;children&gt;\n                        &lt;Label text=&quot;Sales Logs&quot; textFill=&quot;#14b8a6&quot; GridPane.rowIndex=&quot;2&quot;&gt;\n                            &lt;font&gt;\n                                &lt;Font name=&quot;System Bold&quot; size=&quot;25.0&quot;/&gt;\n                            &lt;/font&gt;\n                        &lt;/Label&gt;\n                        &lt;TableView fx:id=&quot;salesTableView&quot; styleClass=&quot;right-form&quot;\n                                   stylesheets=&quot;@../stylesheets/style.css&quot; GridPane.columnSpan=&quot;2&quot;\n                                   GridPane.rowIndex=&quot;3&quot;&gt;\n                            &lt;columns&gt;\n                                &lt;TableColumn fx:id=&quot;productColumn&quot; text=&quot;Product&quot;&gt;\n                                    &lt;cellValueFactory&gt;\n                                        &lt;PropertyValueFactory property=&quot;product&quot;/&gt;\n                                    &lt;/cellValueFactory&gt;\n                                &lt;/TableColumn&gt;\n\n                                &lt;TableColumn fx:id=&quot;quantityColumn&quot; text=&quot;Quantity&quot;&gt;\n                                    &lt;cellValueFactory&gt;\n                                        &lt;PropertyValueFactory property=&quot;quantity&quot;/&gt;\n                                    &lt;/cellValueFactory&gt;\n                                &lt;/TableColumn&gt;\n\n                                &lt;TableColumn fx:id=&quot;accountHolderColumn&quot; text=&quot;Account Holder&quot;&gt;\n                                    &lt;cellValueFactory&gt;\n                                        &lt;PropertyValueFactory property=&quot;accountHolder&quot;/&gt;\n                                    &lt;/cellValueFactory&gt;\n                                &lt;/TableColumn&gt;\n\n                                &lt;TableColumn fx:id=&quot;paymentModeColumn&quot; text=&quot;Payment Type&quot;&gt;\n                                    &lt;cellValueFactory&gt;\n                                        &lt;PropertyValueFactory property=&quot;paymentType&quot;/&gt;\n                                    &lt;/cellValueFactory&gt;\n                                &lt;/TableColumn&gt;\n\n                                &lt;TableColumn text=&quot;Amount&quot;&gt;\n                                    &lt;cellValueFactory&gt;\n                                        &lt;PropertyValueFactory property=&quot;amount&quot;/&gt;\n                                    &lt;/cellValueFactory&gt;\n                                &lt;/TableColumn&gt;\n                            &lt;/columns&gt;\n                            &lt;columnResizePolicy&gt;\n                                &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot;/&gt;\n                            &lt;/columnResizePolicy&gt;\n                        &lt;/TableView&gt;\n                        &lt;Label text=&quot;Online Payments&quot; textFill=&quot;#14b8a6&quot; GridPane.columnIndex=&quot;1&quot;&gt;\n                            &lt;font&gt;\n                                &lt;Font name=&quot;System Bold&quot; size=&quot;22.0&quot;/&gt;\n                            &lt;/font&gt;\n                        &lt;/Label&gt;\n                        &lt;TableView fx:id=&quot;onlinePaymentsTableView&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot;&gt;\n                            &lt;columns&gt;\n                                &lt;TableColumn text=&quot;Payment Mode&quot;&gt;\n                                    &lt;cellValueFactory&gt;\n                                        &lt;PropertyValueFactory property=&quot;paymentMode&quot;/&gt;\n                                    &lt;/cellValueFactory&gt;\n                                &lt;/TableColumn&gt;\n                                &lt;TableColumn text=&quot;Account Holder&quot;&gt;\n                                    &lt;cellValueFactory&gt;\n                                        &lt;PropertyValueFactory property=&quot;accountHolder&quot;/&gt;\n                                    &lt;/cellValueFactory&gt;\n                                &lt;/TableColumn&gt;\n                                &lt;TableColumn text=&quot;Account No&quot;&gt;\n                                    &lt;cellValueFactory&gt;\n                                        &lt;PropertyValueFactory property=&quot;accountNo&quot;/&gt;\n                                    &lt;/cellValueFactory&gt;\n                                &lt;/TableColumn&gt;\n                                &lt;TableColumn text=&quot;Amount&quot;&gt;\n                                    &lt;cellValueFactory&gt;\n                                        &lt;PropertyValueFactory property=&quot;amount&quot;/&gt;\n                                    &lt;/cellValueFactory&gt;\n                                &lt;/TableColumn&gt;\n                            &lt;/columns&gt;\n                            &lt;columnResizePolicy&gt;\n                                &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot;/&gt;\n                            &lt;/columnResizePolicy&gt;\n                        &lt;/TableView&gt;\n                        &lt;Label text=&quot;Stock Arrivals&quot; textFill=&quot;#14b8a6&quot;&gt;\n                            &lt;font&gt;\n                                &lt;Font name=&quot;System Bold&quot; size=&quot;22.0&quot;/&gt;\n                            &lt;/font&gt;\n                        &lt;/Label&gt;\n                        &lt;TableView fx:id=&quot;stockArrivalsTableView&quot; GridPane.rowIndex=&quot;1&quot;&gt;\n                            &lt;columns&gt;\n                                &lt;TableColumn text=&quot;Date&quot;&gt;\n                                    &lt;cellValueFactory&gt;\n                                        &lt;PropertyValueFactory property=&quot;date&quot;/&gt;\n                                    &lt;/cellValueFactory&gt;\n                                &lt;/TableColumn&gt;\n                                &lt;TableColumn text=&quot;Product Name&quot;&gt;\n                                    &lt;cellValueFactory&gt;\n                                        &lt;PropertyValueFactory property=&quot;productName&quot;/&gt;\n                                    &lt;/cellValueFactory&gt;\n                                &lt;/TableColumn&gt;\n                                &lt;TableColumn text=&quot;Quantity&quot;&gt;\n                                    &lt;cellValueFactory&gt;\n                                        &lt;PropertyValueFactory property=&quot;quantity&quot;/&gt;\n                                    &lt;/cellValueFactory&gt;\n                                &lt;/TableColumn&gt;\n                                &lt;TableColumn text=&quot;History&quot;&gt;\n                                    &lt;cellValueFactory&gt;\n                                        &lt;PropertyValueFactory property=&quot;history&quot;/&gt;\n                                    &lt;/cellValueFactory&gt;\n                                &lt;/TableColumn&gt;\n                            &lt;/columns&gt;\n                            &lt;columnResizePolicy&gt;\n                                &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot;/&gt;\n                            &lt;/columnResizePolicy&gt;\n                        &lt;/TableView&gt;\n                    &lt;/children&gt;\n                    &lt;padding&gt;\n                        &lt;Insets bottom=&quot;30.0&quot; left=&quot;30.0&quot; right=&quot;30.0&quot; top=&quot;10.0&quot;/&gt;\n                    &lt;/padding&gt;\n                    &lt;VBox.margin&gt;\n                        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n                    &lt;/VBox.margin&gt;\n                &lt;/GridPane&gt;\n            &lt;/children&gt;\n            &lt;BorderPane.margin&gt;\n                &lt;Insets/&gt;\n            &lt;/BorderPane.margin&gt;\n        &lt;/VBox&gt;\n    &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>and this is my stylesheet file code:</p>\n<pre><code>.label {\n    -fx-text: #fff;\n}\n\n.panel-view {\n    -fx-background-color: #fff;\n    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.4), 10, 0, 0, 0);\n    -fx-background-radius: 10px;\n}\n\n.button {\n    -fx-background-color: #14b8a6;\n    -fx-background-radius: 10px;\n    -fx-cursor: hand;\n    -fx-font-size: 14px; /* Add 'px' unit to font size */\n    -fx-text-fill: #fff;\n}\n\n.left-form {\n    -fx-padding: 10px;\n    -fx-background-color: #14b8a6;\n}\n\n.login-right-panel {\n    -fx-padding: 20px;\n    -fx-background-color: #fff;\n    -fx-border-color: #000;\n    -fx-border-width:.4px .4px .4px 0px;\n}\n\n.login-left-form{\n    -fx-padding: 10px;\n    -fx-background-color:linear-gradient(to bottom right, #449d6b, #633364);\n    -fx-border-color:#000;\n    -fx-border-width:.4px 0px .4px .4px;\n}\n\n.right-form {\n    -fx-padding: 20px 40px 40px 40px;\n    -fx-background-color: #fff;\n    -fx-background-radius: 10px;\n}\n\n.text-field {\n    -fx-border-color: #3e3d3d;\n    -fx-border-width: 0.5px;\n    -fx-border-radius: 4px;\n    -fx-font-family: &quot;Tahoma&quot;;\n    -fx-font-size: 13px; /* Add 'px' unit to font size */\n}\n\n.text-field:focused {\n    -fx-border-color:linear-gradient(to bottom right, #449d6b, #633364);\n    -fx-border-radius: 4px;\n    -fx-border-width: 1.5;\n}\n\n.login-button {\n    -fx-background-radius: 15px;\n    -fx-cursor: hand;\n    -fx-font-size: 14px; /* Add 'px' unit to font size */\n    -fx-text-fill: #fff;\n    -fx-font-family: &quot;SansSerif&quot;;\n    -fx-background-color:linear-gradient(to bottom right, #449d6b, #633364);\n}\n\n.combo-box {\n    -fx-background-color: #fff;\n    -fx-font-size: 11;\n    -fx-border-color: #3e3d3d;\n    -fx-border-width: 0.8;\n    -fx-border-radius: 4px;\n}\n\n.combo-box:focused {\n    -fx-border-color: #14b8a6;\n    -fx-border-radius: 4px;\n    -fx-border-width: 1.5;\n}\n\n.table-view {\n    -fx-background-color: transparent;\n    -fx-padding: 0px;\n    -fx-border-color: linear-gradient(to bottom right, #449d6b, #633364);\n    -fx-border-width: 2px;\n    -fx-border-radius: 8px;\n}\n\n.table-view .table-column {\n    -fx-alignment: CENTER;\n}\n\n.table-view .column-header-background {\n    -fx-background-color: linear-gradient(to bottom right, #449d6b, #633364);\n    -fx-background-radius: 8px 8px 0px 0px;\n}\n\n.table-view .column-header, .filter {\n    -fx-background-color: transparent;\n    -fx-font-size: 13px;\n    -fx-size: 30px;\n}\n\n.table-view .column-header .label {\n    -fx-text-fill: #fff;\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"score":0,"creation_date":1694192916,"post_id":77068566,"comment_id":135863823,"body_markdown":"In the short term I&#39;ve fixed it by using metadata.toSring(), but that feels a little dirty","body":"In the short term I&#39;ve fixed it by using metadata.toSring(), but that feels a little dirty"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694250409,"creation_date":1694249968,"answer_id":77071519,"question_id":77068566,"body_markdown":"As the `Condition` can be applied on the class or a bean method , so `AnnotatedTypeMetadata` can be in the type of `ClassMetadata` or `MethodMetadata`. \r\n\r\nA more proper way to get the class of the bean that is being processed is from `AnnotatedTypeMetadata`: \r\n\r\n``` java\r\nif (metadata instanceof ClassMetadata) {\r\n\tClassMetadata classMetadata = (ClassMetadata) metadata;\r\n\tString className =  classMetadata.getClassName();\r\n}\r\n```\r\n\r\nOnce you know the class , you can get its bean name by :\r\n\r\n``` java\r\nConfigurableListableBeanFactory bf = context.getBeanFactory();\r\nString[] beanNames = bf.getBeanNamesForType(Class.forName(className));\r\n\r\n```\r\n\r\nAnd once you knows its bean name , you can get more info of this bean by : \r\n\r\n``` java\r\nConfigurableListableBeanFactory bf = context.getBeanFactory();\r\nBeanDefinition bd = bf.getBeanDefinition(someBeanName);\r\n```","title":"Spring Condition - Get information about the bean being created","body":"<p>As the <code>Condition</code> can be applied on the class or a bean method , so <code>AnnotatedTypeMetadata</code> can be in the type of <code>ClassMetadata</code> or <code>MethodMetadata</code>.</p>\n<p>A more proper way to get the class of the bean that is being processed is from <code>AnnotatedTypeMetadata</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (metadata instanceof ClassMetadata) {\n    ClassMetadata classMetadata = (ClassMetadata) metadata;\n    String className =  classMetadata.getClassName();\n}\n</code></pre>\n<p>Once you know the class , you can get its bean name by :</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConfigurableListableBeanFactory bf = context.getBeanFactory();\nString[] beanNames = bf.getBeanNamesForType(Class.forName(className));\n\n</code></pre>\n<p>And once you knows its bean name , you can get more info of this bean by :</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConfigurableListableBeanFactory bf = context.getBeanFactory();\nBeanDefinition bd = bf.getBeanDefinition(someBeanName);\n</code></pre>\n"}],"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694250409,"creation_date":1694190901,"question_id":77068566,"body_markdown":"I&#39;m trying to conditionally create Spring Beans using the `Condition` interface\r\n\r\n`public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata)`\r\n\r\nI&#39;d like to know what Bean is currently being processed at the point that the condition is called, as I&#39;d like to call a static method on it. Is it possible to get the name of the Bean being created from either the context or metadata parameter? I&#39;ve had a quick look using a debugger and didn&#39;t see anything obvious.","title":"Spring Condition - Get information about the bean being created","body":"<p>I'm trying to conditionally create Spring Beans using the <code>Condition</code> interface</p>\n<p><code>public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata)</code></p>\n<p>I'd like to know what Bean is currently being processed at the point that the condition is called, as I'd like to call a static method on it. Is it possible to get the name of the Bean being created from either the context or metadata parameter? I've had a quick look using a debugger and didn't see anything obvious.</p>\n"},{"tags":["java","date","parse-platform","json"],"comments":[{"owner":{"account_id":2150185,"reputation":721,"user_id":1906797,"accept_rate":67,"display_name":"U_D"},"score":0,"creation_date":1407495777,"post_id":25201814,"comment_id":39247653,"body_markdown":"You might to change the time format to fit ISO 8601:\nDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm&#39;Z&#39;&quot;);","body":"You might to change the time format to fit ISO 8601: DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm&#39;Z&#39;&quot;);"},{"owner":{"account_id":1673331,"reputation":464,"user_id":1539344,"accept_rate":80,"display_name":"Koolstr"},"score":0,"creation_date":1407501850,"post_id":25201814,"comment_id":39251022,"body_markdown":"That is correct, that turned out to be the problem. I just did not format it properly.","body":"That is correct, that turned out to be the problem. I just did not format it properly."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1407495758,"creation_date":1407495758,"answer_id":25202014,"question_id":25201814,"body_markdown":"Your format doesn&#39;t match the one they&#39;ve required. For example:\r\n\r\n    Theirs: 2011-08-21T18:02:52.249Z\r\n    Yours:  2011-08-21 18:02:52.249\r\n\r\nYou&#39;re missing the `T` and the `Z`.\r\n\r\nSo try changing your format to:\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;);\r\n\r\nTo be honest, I&#39;d be surprised if this weren&#39;t handled automatically though - have you tried just `dateAsObj.put(&quot;iso&quot;, sendTime)`?\r\n","title":"Java: Send Date Object as JSONObject through Parse.com REST API","body":"<p>Your format doesn't match the one they've required. For example:</p>\n\n<pre><code>Theirs: 2011-08-21T18:02:52.249Z\nYours:  2011-08-21 18:02:52.249\n</code></pre>\n\n<p>You're missing the <code>T</code> and the <code>Z</code>.</p>\n\n<p>So try changing your format to:</p>\n\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\");\n</code></pre>\n\n<p>To be honest, I'd be surprised if this weren't handled automatically though - have you tried just <code>dateAsObj.put(\"iso\", sendTime)</code>?</p>\n"},{"tags":[],"owner":{"account_id":6164900,"reputation":31,"user_id":4805238,"display_name":"Girish Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439218456,"creation_date":1439216866,"answer_id":31922226,"question_id":25201814,"body_markdown":"Standard Date Object is not stored in Parse. You have to set it as a JSON Object with `&quot;__type&quot;: &quot;Date&quot;` and `&quot;iso&quot;: Date_String_you_want_to_set`.\r\nwith the date string formatted as below:\r\n\r\n    DateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;);\r\n","title":"Java: Send Date Object as JSONObject through Parse.com REST API","body":"<p>Standard Date Object is not stored in Parse. You have to set it as a JSON Object with <code>\"__type\": \"Date\"</code> and <code>\"iso\": Date_String_you_want_to_set</code>.\nwith the date string formatted as below:</p>\n\n<pre><code>DateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694249283,"creation_date":1694201779,"answer_id":77069466,"question_id":25201814,"body_markdown":"java.time\r\n--\r\n\r\nThe `java.util` date-time API and their corresponding parsing/formatting type, `SimpleDateFormat` are outdated and error-prone. In March 2014, the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) supplanted this API. Since then, it has been strongly recommended to switch to `java.time`, the modern date-time API.\r\n\r\n**Before we talk about the solution**\r\n\r\nBefore we talk about the solution, let&#39;s understand the difference between `&#39;Z&#39;` and `Z`. While `&#39;Z&#39;` is just a character literal, `Z` is the formatting code - a timezone designator for zero-timezone offset. It stands for Zulu and specifies the UTC offset (+00:00 hours). Check **[`&#39;Z&#39;` is not the same as `Z`](https://stackoverflow.com/a/67953075/10819573)** to learn more about it.\r\n\r\n**Solution:**\r\n\r\n    // Replace new Date() with datePicked.getTime() in your case\r\n    Instant instant = new Date().toInstant();\r\n    OffsetDateTime odt = instant.atOffset(ZoneOffset.UTC);\r\n    System.out.println(odt);\r\n\r\n    // Format odt as per your requirement\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;, Locale.ENGLISH);\r\n    String formatted = odt.format(formatter);\r\n    System.out.println(formatted);\r\n\r\n**Output from a sample run:**\r\n\r\n    2023-09-09T08:44:38.863Z\r\n    2023-09-09T08:44:38.863Z\r\n\r\n[Online Demo](https://ideone.com/aRNz6M)\r\n\r\nNote that I have used a `DateTimeFormatter` explicitly to meet the requirement of the specified format because the fraction-of-second part is omitted in the default implementation of `toString` method for `java.time` types when it is zero. If you are allowed to send your string without fraction-of-second part when it is zero, you can simply send the value of [`instant.toString()`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toString--).\r\n\r\nCheck [this answer](https://stackoverflow.com/a/67752047/10819573) and [this answer](https://stackoverflow.com/a/67505173/10819573) to learn how to use `java.time` API with JDBC.\r\n\r\nLearn about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**\r\n","title":"Java: Send Date Object as JSONObject through Parse.com REST API","body":"<h2>java.time</h2>\n<p>The <code>java.util</code> date-time API and their corresponding parsing/formatting type, <code>SimpleDateFormat</code> are outdated and error-prone. In March 2014, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> supplanted this API. Since then, it has been strongly recommended to switch to <code>java.time</code>, the modern date-time API.</p>\n<p><strong>Before we talk about the solution</strong></p>\n<p>Before we talk about the solution, let's understand the difference between <code>'Z'</code> and <code>Z</code>. While <code>'Z'</code> is just a character literal, <code>Z</code> is the formatting code - a timezone designator for zero-timezone offset. It stands for Zulu and specifies the UTC offset (+00:00 hours). Check <strong><a href=\"https://stackoverflow.com/a/67953075/10819573\"><code>'Z'</code> is not the same as <code>Z</code></a></strong> to learn more about it.</p>\n<p><strong>Solution:</strong></p>\n<pre><code>// Replace new Date() with datePicked.getTime() in your case\nInstant instant = new Date().toInstant();\nOffsetDateTime odt = instant.atOffset(ZoneOffset.UTC);\nSystem.out.println(odt);\n\n// Format odt as per your requirement\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSX&quot;, Locale.ENGLISH);\nString formatted = odt.format(formatter);\nSystem.out.println(formatted);\n</code></pre>\n<p><strong>Output from a sample run:</strong></p>\n<pre><code>2023-09-09T08:44:38.863Z\n2023-09-09T08:44:38.863Z\n</code></pre>\n<p><a href=\"https://ideone.com/aRNz6M\" rel=\"nofollow noreferrer\">Online Demo</a></p>\n<p>Note that I have used a <code>DateTimeFormatter</code> explicitly to meet the requirement of the specified format because the fraction-of-second part is omitted in the default implementation of <code>toString</code> method for <code>java.time</code> types when it is zero. If you are allowed to send your string without fraction-of-second part when it is zero, you can simply send the value of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toString--\" rel=\"nofollow noreferrer\"><code>instant.toString()</code></a>.</p>\n<p>Check <a href=\"https://stackoverflow.com/a/67752047/10819573\">this answer</a> and <a href=\"https://stackoverflow.com/a/67505173/10819573\">this answer</a> to learn how to use <code>java.time</code> API with JDBC.</p>\n<p>Learn about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong></p>\n"}],"owner":{"account_id":1673331,"reputation":464,"user_id":1539344,"accept_rate":80,"display_name":"Koolstr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15605,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":25202014,"answer_count":3,"score":7,"last_activity_date":1694249283,"creation_date":1407495045,"question_id":25201814,"body_markdown":"I am trying to create a new object in my Parse.com database through Parse&#39;s REST API, using an HttpsUrlConnection. Their REST API only accepts JSON. I have gotten everything to work, where the database would accept the new object entry - except for when I attempt to include a Date field. When I do pass in a Date, the server rejects the object entirely.\r\n\r\nI found this in their documentation this description for how to add a Date field in an object when using the REST API:\r\n\r\n&gt; The Parse mobile client libraries also support dates, binary data, and relational data. In the REST API, these values are encoded as JSON hashes with the __type field set to indicate their type, so you can read or write these fields if you use the correct encoding.\r\n\r\n&gt;The Date type contains a field iso which contains a UTC timestamp stored in ISO 8601 format with millisecond precision: YYYY-MM-DDTHH:MM:SS.MMMZ.\r\n\r\n    {\r\n      &quot;__type&quot;: &quot;Date&quot;,\r\n      &quot;iso&quot;: &quot;2011-08-21T18:02:52.249Z&quot;\r\n    }\r\n\r\nSo if I want to create a new object and pass it to the database, I am assuming I need to create another JSONObject and pass it over in its corresponding field. However, when I tried that, it still rejected it. Below is my attempt at adding the Date object as a parameter to pass over, stored in its own JSONObject. What am I doing wrong? What is the right way of sendign a Date object in JSON, based on their docs?\r\n\r\n    //datePicked is a Calendar object\r\n    Date sendTime = datePicked.getTime();\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\tformatter.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\tString sendTimeInUTC = formatter.format(sendTime);\t\r\n\t\r\n    //Storing the Date object as a JSONObject, as specified\r\n\tJSONObject dateAsObj = new JSONObject();\r\n\tdateAsObj.put(&quot;__type&quot;, &quot;Date&quot;);\r\n\tdateAsObj.put(&quot;iso&quot;, sendTimeInUTC);\r\n\r\n    //jsonParam is the JSONObject that is being sent over to Parse&#39;s REST API\r\n\tjsonParam.put(&quot;sendTime&quot;, dateAsObj);\r\n\r\n\r\nHere is the full function which makes the http request, for context and reference: \r\n\r\n    private void runHttpRequest(final String emailAddress, final String password,\r\n\t\t\tString[] recipients, final String title, final String message) throws MalformedURLException {\r\n\t\t//Stores email in Parse DB, from Java servlet\r\n\t\tString url = &quot;https://api.parse.com/1/classes/Email&quot;;\r\n\t\tURL obj = new URL(url);\r\n\t\tHttpsURLConnection con = null;\r\n\t\ttry {\r\n\t\t\tcon = (HttpsURLConnection) obj.openConnection();\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;Failed to connect to http link&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n \r\n\t\t//add request header\r\n\t\ttry {\r\n\t\t\tcon.setRequestMethod(&quot;POST&quot;);\r\n\t\t} catch (ProtocolException e) {\r\n\t\t\tSystem.out.println(&quot;Failed to set to POST&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tcon.setRequestProperty(&quot;X-Parse-Application-Id&quot;, &quot;*****************&quot;);\r\n\t\tcon.setRequestProperty(&quot;X-Parse-REST-API-Key&quot;, &quot;*******************&quot;);\r\n\t\tcon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n \r\n\t\tJSONObject jsonParam = new JSONObject();\r\n\t\tjsonParam.put(&quot;username&quot;, &quot;******&quot;);\r\n\t\tjsonParam.put(&quot;emailID&quot;, 1);\r\n\t\tjsonParam.put(&quot;universalID&quot;, &quot;******&quot;);\r\n\t\tGson converter = new Gson();\r\n\t\tString recipientsInJson = converter.toJson(recipients);\r\n\t\tjsonParam.put(&quot;to&quot;, recipientsInJson);\r\n\t\tjsonParam.put(&quot;from&quot;, emailAddress);\r\n\t\tjsonParam.put(&quot;title&quot;, title);\r\n\t\tjsonParam.put(&quot;body&quot;, message);\r\n\t\t\r\n\t\tDate sendTime = datePicked.getTime();\r\n\t\t//jsonParam.put(&quot;sendTime&quot;, sendTime);\r\n\t\tSimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t\tformatter.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\t\tString sendTimeInUTC = formatter.format(sendTime);\r\n\t\tSystem.out.println(&quot;UTC time&quot; + sendTimeInUTC);\r\n\t\t\r\n\t\tJSONObject dateAsObj = new JSONObject();\r\n\t\tdateAsObj.put(&quot;__type&quot;, &quot;Date&quot;);\r\n\t\tdateAsObj.put(&quot;iso&quot;, sendTimeInUTC);\r\n\t\tSystem.out.println(dateAsObj.toString());\r\n\r\n\t\tjsonParam.put(&quot;sendTime&quot;, dateAsObj);\r\n\t\t\r\n\t\tString urlParameters = jsonParam.toString();\r\n\t\t\r\n\t\t// Send POST request\r\n\t\tcon.setDoOutput(true);\r\n\t\tDataOutputStream wr = null;\r\n\t\ttry {\r\n\t\t\twr = new DataOutputStream(con.getOutputStream());\r\n\t\t} catch (IOException e1) {\r\n\t\t\tSystem.out.println(&quot;Failed to get output stream&quot;);\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t\ttry {\r\n\t\t\twr.writeBytes(urlParameters);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;Failed to connect to send over Parse object as parameter&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\ttry {\r\n\t\t\twr.flush();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\ttry {\r\n\t\t\twr.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;Failed to connect to close datastream connection&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n \r\n\t\tint responseCode = 0;\r\n\t\ttry {\r\n\t\t\tresponseCode = con.getResponseCode();\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;Failed to connect to get response code&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;\\nSending &#39;POST&#39; request to URL : &quot; + url);\r\n\t\tSystem.out.println(&quot;Post parameters : &quot; + urlParameters);\r\n\t\tSystem.out.println(&quot;Response Code : &quot; + responseCode);\r\n \r\n\t\tBufferedReader in = null;\r\n\t\ttry {\r\n\t\t\tin = new BufferedReader(\r\n\t\t\t        new InputStreamReader(con.getInputStream()));\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;Failed to get input stream&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tString inputLine;\r\n\t\tStringBuffer response = new StringBuffer();\r\n \r\n\t\ttry {\r\n\t\t\twhile ((inputLine = in.readLine()) != null) {\r\n\t\t\t\tresponse.append(inputLine);\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;Failed to read line&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tin.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;Failed to close input stream&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n \r\n\t\t//print result\r\n\t\tSystem.out.println(response.toString());\r\n\t}\r\n\r\nAny help or input would be appreciated.","title":"Java: Send Date Object as JSONObject through Parse.com REST API","body":"<p>I am trying to create a new object in my Parse.com database through Parse's REST API, using an HttpsUrlConnection. Their REST API only accepts JSON. I have gotten everything to work, where the database would accept the new object entry - except for when I attempt to include a Date field. When I do pass in a Date, the server rejects the object entirely.</p>\n\n<p>I found this in their documentation this description for how to add a Date field in an object when using the REST API:</p>\n\n<blockquote>\n  <p>The Parse mobile client libraries also support dates, binary data, and relational data. In the REST API, these values are encoded as JSON hashes with the __type field set to indicate their type, so you can read or write these fields if you use the correct encoding.</p>\n  \n  <p>The Date type contains a field iso which contains a UTC timestamp stored in ISO 8601 format with millisecond precision: YYYY-MM-DDTHH:MM:SS.MMMZ.</p>\n</blockquote>\n\n<pre><code>{\n  \"__type\": \"Date\",\n  \"iso\": \"2011-08-21T18:02:52.249Z\"\n}\n</code></pre>\n\n<p>So if I want to create a new object and pass it to the database, I am assuming I need to create another JSONObject and pass it over in its corresponding field. However, when I tried that, it still rejected it. Below is my attempt at adding the Date object as a parameter to pass over, stored in its own JSONObject. What am I doing wrong? What is the right way of sendign a Date object in JSON, based on their docs?</p>\n\n<pre><code>//datePicked is a Calendar object\nDate sendTime = datePicked.getTime();\nSimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\nformatter.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\nString sendTimeInUTC = formatter.format(sendTime);  \n\n//Storing the Date object as a JSONObject, as specified\nJSONObject dateAsObj = new JSONObject();\ndateAsObj.put(\"__type\", \"Date\");\ndateAsObj.put(\"iso\", sendTimeInUTC);\n\n//jsonParam is the JSONObject that is being sent over to Parse's REST API\njsonParam.put(\"sendTime\", dateAsObj);\n</code></pre>\n\n<p>Here is the full function which makes the http request, for context and reference: </p>\n\n<pre><code>private void runHttpRequest(final String emailAddress, final String password,\n        String[] recipients, final String title, final String message) throws MalformedURLException {\n    //Stores email in Parse DB, from Java servlet\n    String url = \"https://api.parse.com/1/classes/Email\";\n    URL obj = new URL(url);\n    HttpsURLConnection con = null;\n    try {\n        con = (HttpsURLConnection) obj.openConnection();\n    } catch (IOException e) {\n        System.out.println(\"Failed to connect to http link\");\n        e.printStackTrace();\n    }\n\n    //add request header\n    try {\n        con.setRequestMethod(\"POST\");\n    } catch (ProtocolException e) {\n        System.out.println(\"Failed to set to POST\");\n        e.printStackTrace();\n    }\n    con.setRequestProperty(\"X-Parse-Application-Id\", \"*****************\");\n    con.setRequestProperty(\"X-Parse-REST-API-Key\", \"*******************\");\n    con.setRequestProperty(\"Content-Type\", \"application/json\");\n\n    JSONObject jsonParam = new JSONObject();\n    jsonParam.put(\"username\", \"******\");\n    jsonParam.put(\"emailID\", 1);\n    jsonParam.put(\"universalID\", \"******\");\n    Gson converter = new Gson();\n    String recipientsInJson = converter.toJson(recipients);\n    jsonParam.put(\"to\", recipientsInJson);\n    jsonParam.put(\"from\", emailAddress);\n    jsonParam.put(\"title\", title);\n    jsonParam.put(\"body\", message);\n\n    Date sendTime = datePicked.getTime();\n    //jsonParam.put(\"sendTime\", sendTime);\n    SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n    formatter.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n    String sendTimeInUTC = formatter.format(sendTime);\n    System.out.println(\"UTC time\" + sendTimeInUTC);\n\n    JSONObject dateAsObj = new JSONObject();\n    dateAsObj.put(\"__type\", \"Date\");\n    dateAsObj.put(\"iso\", sendTimeInUTC);\n    System.out.println(dateAsObj.toString());\n\n    jsonParam.put(\"sendTime\", dateAsObj);\n\n    String urlParameters = jsonParam.toString();\n\n    // Send POST request\n    con.setDoOutput(true);\n    DataOutputStream wr = null;\n    try {\n        wr = new DataOutputStream(con.getOutputStream());\n    } catch (IOException e1) {\n        System.out.println(\"Failed to get output stream\");\n        e1.printStackTrace();\n    }\n    try {\n        wr.writeBytes(urlParameters);\n    } catch (IOException e) {\n        System.out.println(\"Failed to connect to send over Parse object as parameter\");\n        e.printStackTrace();\n    }\n    try {\n        wr.flush();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    try {\n        wr.close();\n    } catch (IOException e) {\n        System.out.println(\"Failed to connect to close datastream connection\");\n        e.printStackTrace();\n    }\n\n    int responseCode = 0;\n    try {\n        responseCode = con.getResponseCode();\n    } catch (IOException e) {\n        System.out.println(\"Failed to connect to get response code\");\n        e.printStackTrace();\n    }\n    System.out.println(\"\\nSending 'POST' request to URL : \" + url);\n    System.out.println(\"Post parameters : \" + urlParameters);\n    System.out.println(\"Response Code : \" + responseCode);\n\n    BufferedReader in = null;\n    try {\n        in = new BufferedReader(\n                new InputStreamReader(con.getInputStream()));\n    } catch (IOException e) {\n        System.out.println(\"Failed to get input stream\");\n        e.printStackTrace();\n    }\n    String inputLine;\n    StringBuffer response = new StringBuffer();\n\n    try {\n        while ((inputLine = in.readLine()) != null) {\n            response.append(inputLine);\n        }\n    } catch (IOException e) {\n        System.out.println(\"Failed to read line\");\n        e.printStackTrace();\n    }\n    try {\n        in.close();\n    } catch (IOException e) {\n        System.out.println(\"Failed to close input stream\");\n        e.printStackTrace();\n    }\n\n    //print result\n    System.out.println(response.toString());\n}\n</code></pre>\n\n<p>Any help or input would be appreciated.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9799,"page":193,"page_size":100}
