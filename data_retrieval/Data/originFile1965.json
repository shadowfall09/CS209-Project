{"items":[{"tags":["java","android","locale","iso"],"answers":[{"tags":[],"owner":{"account_id":8969293,"reputation":4110,"user_id":6688493,"display_name":"touhid udoy"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1573736929,"creation_date":1573736588,"answer_id":58857452,"question_id":58857222,"body_markdown":"2nd parameter of Locale constructor needs a ISO2 code, not ISO3. You need to first map ISO3 to ISO2 and then get country name.\r\n\r\nThis possibly the worst case solution, I don&#39;t know any better solution, but its works.\r\n\r\n    String[] languages = Locale.getISOLanguages();\r\n    Map&lt;String, Locale&gt; localeMap = new HashMap&lt;String, Locale&gt;(languages.length);\r\n    for (String language : languages) {\r\n        Locale locale = new Locale(language);\r\n        localeMap.put(locale.getISO3Language(), locale);\r\n    }\r\n    Locale locale = new Locale(&quot;&quot;,localeMap(&quot;FRA&quot;));\r\n    Log.e(&quot;loc&quot;,&quot;&quot;+locale.getDisplayCountry());\r\n\r\n\r\n    \r\n","title":"Convert ISO3 country code to whole country name, Android","body":"<p>2nd parameter of Locale constructor needs a ISO2 code, not ISO3. You need to first map ISO3 to ISO2 and then get country name.</p>\n\n<p>This possibly the worst case solution, I don't know any better solution, but its works.</p>\n\n<pre><code>String[] languages = Locale.getISOLanguages();\nMap&lt;String, Locale&gt; localeMap = new HashMap&lt;String, Locale&gt;(languages.length);\nfor (String language : languages) {\n    Locale locale = new Locale(language);\n    localeMap.put(locale.getISO3Language(), locale);\n}\nLocale locale = new Locale(\"\",localeMap(\"FRA\"));\nLog.e(\"loc\",\"\"+locale.getDisplayCountry());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19878904,"reputation":186,"user_id":14563324,"display_name":"hitesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633598865,"creation_date":1633598865,"answer_id":69478689,"question_id":58857222,"body_markdown":"In kotlin you can do below: \r\n\r\n```\r\nobject CountryCodeConverter {\r\n    private val countryCodes: MutableList&lt;CountryCode&gt;\r\n\r\n    fun iso3CountryCodeToIso2CountryCode(iso3CountryCode: String?): String? {\r\n        return countryCodes.find { it.iso3CountryCode == iso3CountryCode }?.locale?.country\r\n    }\r\n    \r\n    fun getCountry(iso3CountryCode: String?): String? {\r\n        return countryCodes.find { it.iso3CountryCode == iso3CountryCode }?.locale?.displayCountry\r\n    }\r\n\r\n    init {\r\n        countryCodes = ArrayList()\r\n        countryCodes.addAll(Locale.getISOCountries().map {country-&gt;\r\n            val locale = Locale(&quot;&quot;, country)\r\n            CountryCode(\r\n                locale.isO3Country.toUpperCase(),\r\n                locale\r\n            )\r\n        })\r\n    }\r\n}\r\n\r\ndata class CountryCode (\r\n    val iso3CountryCode: String,\r\n    val locale: Locale\r\n)\r\n\r\n```","title":"Convert ISO3 country code to whole country name, Android","body":"<p>In kotlin you can do below:</p>\n<pre><code>object CountryCodeConverter {\n    private val countryCodes: MutableList&lt;CountryCode&gt;\n\n    fun iso3CountryCodeToIso2CountryCode(iso3CountryCode: String?): String? {\n        return countryCodes.find { it.iso3CountryCode == iso3CountryCode }?.locale?.country\n    }\n    \n    fun getCountry(iso3CountryCode: String?): String? {\n        return countryCodes.find { it.iso3CountryCode == iso3CountryCode }?.locale?.displayCountry\n    }\n\n    init {\n        countryCodes = ArrayList()\n        countryCodes.addAll(Locale.getISOCountries().map {country-&gt;\n            val locale = Locale(&quot;&quot;, country)\n            CountryCode(\n                locale.isO3Country.toUpperCase(),\n                locale\n            )\n        })\n    }\n}\n\ndata class CountryCode (\n    val iso3CountryCode: String,\n    val locale: Locale\n)\n\n</code></pre>\n"}],"owner":{"account_id":3558575,"reputation":2459,"user_id":2971619,"accept_rate":50,"display_name":"Kristiyan Varbanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633598865,"creation_date":1573735827,"question_id":58857222,"body_markdown":"I need to convert country iso3 code for example FRA to France is it possible? I tried with:`\r\nLocale locale = new Locale(&quot;FRA&quot;) or Locale locale = new Locale(&quot;&quot;,&quot;FRA&quot;)\r\nlocale.getDisplayCountry()`\r\nbut return empty String.","title":"Convert ISO3 country code to whole country name, Android","body":"<p>I need to convert country iso3 code for example FRA to France is it possible? I tried with:<code>\nLocale locale = new Locale(\"FRA\") or Locale locale = new Locale(\"\",\"FRA\")\nlocale.getDisplayCountry()</code>\nbut return empty String.</p>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"display_name":"user330315"},"score":2,"creation_date":1633588233,"post_id":69476015,"comment_id":122800388,"body_markdown":"&quot;*basically a new update of the value.*&quot; - why not use `UPDATE` then?","body":"&quot;<i>basically a new update of the value.</i>&quot; - why not use <code>UPDATE</code> then?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1633693745,"post_id":69476015,"comment_id":122834160,"body_markdown":"You basically have a big syntax error, because you&#39;re trying to mash two statements together as a single statement. The JDBC API is designed to execute individual statements, and even drivers that support executing multiple statements at once, at minimum require you to separate those statements with a terminator character (usually `;`).","body":"You basically have a big syntax error, because you&#39;re trying to mash two statements together as a single statement. The JDBC API is designed to execute individual statements, and even drivers that support executing multiple statements at once, at minimum require you to separate those statements with a terminator character (usually <code>;</code>)."}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633589226,"creation_date":1633589226,"answer_id":69476551,"question_id":69476015,"body_markdown":"Why not use `UPDATE` to perform the action that you want?\r\n\r\nAnyways if you want to continue with the same logic as above...\r\n\r\nI would suggest separating your query in 2. It&#39;s cleaner and more understandable.\r\n\r\nExample:\r\n\r\n```java\r\npublic int insertMiles(UUID id, Miles miles) {\r\n\r\n    String deleteQuery = &quot; DELETE FROM account_type &quot; +\r\n            &quot; WHERE person_Id = ?&quot;;\r\n\r\n    String insertQuery = &quot; INSERT INTO account_type (&quot; +\r\n            &quot; acc_id, &quot; +\r\n            &quot; person_Id, &quot; +\r\n            &quot; created_at, &quot; +\r\n            &quot; acc_miles) &quot; +\r\n            &quot;VALUES (?, ?, ?, ?)&quot;;\r\n    \r\n    int totalMiles = miles.getMiles();\r\n    totalMiles = totalMiles + miles.getMiles();\r\n    \r\n    int deleted = jdbcTemplate.update(deleteQuery, miles.getPersonID());\r\n    int inserted = jdbcTemplate.update(insertQuery, id, miles.getPersonID(), miles.getCreated_date(), totalMiles );\r\n    \r\n    \r\n    // RETURN ONE OF THEM\r\n    return deleted;\r\n    return inserted; \r\n}\r\n```\r\n\r\nYou could also separate your queries with a `;` and try doing the update again. But I doubt that that would work.","title":"Deleting and Inserting at the same time","body":"<p>Why not use <code>UPDATE</code> to perform the action that you want?</p>\n<p>Anyways if you want to continue with the same logic as above...</p>\n<p>I would suggest separating your query in 2. It's cleaner and more understandable.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int insertMiles(UUID id, Miles miles) {\n\n    String deleteQuery = &quot; DELETE FROM account_type &quot; +\n            &quot; WHERE person_Id = ?&quot;;\n\n    String insertQuery = &quot; INSERT INTO account_type (&quot; +\n            &quot; acc_id, &quot; +\n            &quot; person_Id, &quot; +\n            &quot; created_at, &quot; +\n            &quot; acc_miles) &quot; +\n            &quot;VALUES (?, ?, ?, ?)&quot;;\n    \n    int totalMiles = miles.getMiles();\n    totalMiles = totalMiles + miles.getMiles();\n    \n    int deleted = jdbcTemplate.update(deleteQuery, miles.getPersonID());\n    int inserted = jdbcTemplate.update(insertQuery, id, miles.getPersonID(), miles.getCreated_date(), totalMiles );\n    \n    \n    // RETURN ONE OF THEM\n    return deleted;\n    return inserted; \n}\n</code></pre>\n<p>You could also separate your queries with a <code>;</code> and try doing the update again. But I doubt that that would work.</p>\n"}],"owner":{"account_id":19198563,"reputation":11,"user_id":14026909,"display_name":"Jacques Cilliers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1633702227,"answer_count":1,"score":1,"last_activity_date":1633598743,"creation_date":1633585650,"question_id":69476015,"body_markdown":"```java\r\npublic int insertMiles(UUID id, Miles miles) {\r\n\r\n        String sql = &quot;&quot; +\r\n                &quot; DELETE FROM account_type &quot; +\r\n                &quot; WHERE person_Id = ?&quot; +\r\n\r\n                &quot; INSERT INTO account_type (&quot; +\r\n                &quot; acc_id, &quot; +\r\n                &quot; person_Id, &quot; +\r\n                &quot; created_at, &quot; +\r\n                &quot; acc_miles) &quot; +\r\n                &quot;VALUES (?, ?, ?, ?)&quot;;\r\n        int totalMiles = miles.getMiles();\r\n        totalMiles = totalMiles + miles.getMiles();\r\n        return jdbcTemplate.update(\r\n                sql,\r\n                miles.getPersonID(),\r\n                id,\r\n                miles.getPersonID(),\r\n                miles.getCreated_date(),\r\n                totalMiles\r\n        );\r\n```\r\nI want to delete a value specific to its id and then insert the new value after adding the two together, basically a new update of the value. Please help, this is the query I got but doesn&#39;t seem to work.","title":"Deleting and Inserting at the same time","body":"<pre class=\"lang-java prettyprint-override\"><code>public int insertMiles(UUID id, Miles miles) {\n\n        String sql = &quot;&quot; +\n                &quot; DELETE FROM account_type &quot; +\n                &quot; WHERE person_Id = ?&quot; +\n\n                &quot; INSERT INTO account_type (&quot; +\n                &quot; acc_id, &quot; +\n                &quot; person_Id, &quot; +\n                &quot; created_at, &quot; +\n                &quot; acc_miles) &quot; +\n                &quot;VALUES (?, ?, ?, ?)&quot;;\n        int totalMiles = miles.getMiles();\n        totalMiles = totalMiles + miles.getMiles();\n        return jdbcTemplate.update(\n                sql,\n                miles.getPersonID(),\n                id,\n                miles.getPersonID(),\n                miles.getCreated_date(),\n                totalMiles\n        );\n</code></pre>\n<p>I want to delete a value specific to its id and then insert the new value after adding the two together, basically a new update of the value. Please help, this is the query I got but doesn't seem to work.</p>\n"},{"tags":["java","spring","spring-boot","model-view-controller","hide"],"comments":[{"owner":{"account_id":1088907,"reputation":1550,"user_id":1083981,"display_name":"nurisezgin"},"score":1,"creation_date":1633548344,"post_id":69470864,"comment_id":122791955,"body_markdown":"Hi Matthew, maybe I misunderstood what you&#39;re looking for. My suggestion would be you better look at spring security which has been designed such cases.","body":"Hi Matthew, maybe I misunderstood what you&#39;re looking for. My suggestion would be you better look at spring security which has been designed such cases."},{"owner":{"account_id":22962352,"reputation":1,"user_id":17091993,"display_name":"Matthew Palmer"},"score":0,"creation_date":1633548554,"post_id":69470864,"comment_id":122792032,"body_markdown":"Hi there! My goal is to allow CORS to access data from my API, but I don&#39;t want the API data to be viewed in the browser directly from that API call. Spring security works great for a lot of things, but I haven&#39;t found anything that can block direct viewing of a request in the browser. i.e. ... I don&#39;t want to go to `localhost:9000/employee/all` and see the response at the API route.","body":"Hi there! My goal is to allow CORS to access data from my API, but I don&#39;t want the API data to be viewed in the browser directly from that API call. Spring security works great for a lot of things, but I haven&#39;t found anything that can block direct viewing of a request in the browser. i.e. ... I don&#39;t want to go to <code>localhost:9000&#47;employee&#47;all</code> and see the response at the API route."}],"answers":[{"tags":[],"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633545321,"creation_date":1633545321,"answer_id":69471010,"question_id":69470864,"body_markdown":"If your frontend is currently handling authentication, i‘d suggest moving to Springs Authenticationserice. That way you could prevent unauthenticated users from accessing that specific API endpoint.","title":"How do I hide a Spring Boot &quot;GET&quot; API request from the public in a browser?","body":"<p>If your frontend is currently handling authentication, i‘d suggest moving to Springs Authenticationserice. That way you could prevent unauthenticated users from accessing that specific API endpoint.</p>\n"},{"tags":[],"owner":{"account_id":8099234,"reputation":31,"user_id":6102713,"display_name":"Sital Sitoula"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633548432,"creation_date":1633548432,"answer_id":69471637,"question_id":69470864,"body_markdown":"You can use OAuth to register clients(frontend/postman/whatever you are using to test the API) that can access your resource server, but it might be overkill. For now, if you worry someone can view your API by typing it in the address bar(if that is your question) then you can allow access for authenticated users only.    ","title":"How do I hide a Spring Boot &quot;GET&quot; API request from the public in a browser?","body":"<p>You can use OAuth to register clients(frontend/postman/whatever you are using to test the API) that can access your resource server, but it might be overkill. For now, if you worry someone can view your API by typing it in the address bar(if that is your question) then you can allow access for authenticated users only.</p>\n"},{"tags":[],"owner":{"account_id":22941670,"reputation":21,"user_id":17074317,"display_name":"Deepak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633598644,"creation_date":1633598644,"answer_id":69478634,"question_id":69470864,"body_markdown":"If you want to restrict usage and make it inconvenient for abusers to call your API, you can issue a token on page load (CSRF token) and require that token to be present in the request to the API - that way the API will be callable from a browser that initiated a page load.\r\n\r\nYou can refer this link https://security.stackexchange.com/questions/246434/how-can-i-ensure-my-api-is-only-called-by-my-client ","title":"How do I hide a Spring Boot &quot;GET&quot; API request from the public in a browser?","body":"<p>If you want to restrict usage and make it inconvenient for abusers to call your API, you can issue a token on page load (CSRF token) and require that token to be present in the request to the API - that way the API will be callable from a browser that initiated a page load.</p>\n<p>You can refer this link <a href=\"https://security.stackexchange.com/questions/246434/how-can-i-ensure-my-api-is-only-called-by-my-client\">https://security.stackexchange.com/questions/246434/how-can-i-ensure-my-api-is-only-called-by-my-client</a></p>\n"}],"owner":{"account_id":22962352,"reputation":1,"user_id":17091993,"display_name":"Matthew Palmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1633598644,"creation_date":1633544668,"question_id":69470864,"body_markdown":"As the question states, my goal is to hide a GET route in **Spring Boot** from being accessed from the public. I originally took a CORS approach, but that doesn&#39;t solve the actual **view** problem. Pretty much anyone could go to, say... `https://my-api-url.com/employee/all` and see a JSON record of all employees in my database.\r\n\r\n**END GOAL:** I only want my front-end to have access to my API for displaying that information to an authorized user who is signed in, but I do NOT want just anyone to have access to the API. CORS policy can handle the ajax requests, but it doesn&#39;t seem like I can stop the overall viewing of the GET url.\r\n\r\nHow can I solve this problem?","title":"How do I hide a Spring Boot &quot;GET&quot; API request from the public in a browser?","body":"<p>As the question states, my goal is to hide a GET route in <strong>Spring Boot</strong> from being accessed from the public. I originally took a CORS approach, but that doesn't solve the actual <strong>view</strong> problem. Pretty much anyone could go to, say... <code>https://my-api-url.com/employee/all</code> and see a JSON record of all employees in my database.</p>\n<p><strong>END GOAL:</strong> I only want my front-end to have access to my API for displaying that information to an authorized user who is signed in, but I do NOT want just anyone to have access to the API. CORS policy can handle the ajax requests, but it doesn't seem like I can stop the overall viewing of the GET url.</p>\n<p>How can I solve this problem?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1633598244,"post_id":69478435,"comment_id":122804331,"body_markdown":"Remove those `sourceName:` etc... you&#39;re not supposed to write the parameter name. So `evaluateString(scriptable, data, &quot;javascript&quot;, 1, null).toString()`","body":"Remove those <code>sourceName:</code> etc... you&#39;re not supposed to write the parameter name. So <code>evaluateString(scriptable, data, &quot;javascript&quot;, 1, null).toString()</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633951799,"post_id":69478435,"comment_id":122888643,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633598575,"creation_date":1633598575,"answer_id":69478614,"question_id":69478435,"body_markdown":"Java doesn&#39;t &#39;do&#39; named parameters. `someMethod(param1Name: param1Value)` just isn&#39;t java. You are seeing it, though - see that `regex:` thing in your `replaceAll` calls a few lines up? But that&#39;s not _code_. That is intellij annotating your source file for you. That `regex:` isn&#39;t in your source file (and if it was, it wouldn&#39;t compile - that isn&#39;t java), it&#39;s intellij rendering your source file in a fancy fashion, to make it easier to read.\r\n\r\nThus, remove `lineno:` and `securityDomain:`.\r\n\r\nNB: It&#39;s clearly not working here. That `regex:` should have tipped you off. replaceAll is wrong here. You should use `replace`. `replace` __also__ replaces all occurrences. `replaceAll` is regexp based, `replace` isn&#39;t. These aren&#39;t regexps.\r\n","title":"Can&#39;t resolve method of &#39;enter&#39; in &#39;Context&#39;","body":"<p>Java doesn't 'do' named parameters. <code>someMethod(param1Name: param1Value)</code> just isn't java. You are seeing it, though - see that <code>regex:</code> thing in your <code>replaceAll</code> calls a few lines up? But that's not <em>code</em>. That is intellij annotating your source file for you. That <code>regex:</code> isn't in your source file (and if it was, it wouldn't compile - that isn't java), it's intellij rendering your source file in a fancy fashion, to make it easier to read.</p>\n<p>Thus, remove <code>lineno:</code> and <code>securityDomain:</code>.</p>\n<p>NB: It's clearly not working here. That <code>regex:</code> should have tipped you off. replaceAll is wrong here. You should use <code>replace</code>. <code>replace</code> <strong>also</strong> replaces all occurrences. <code>replaceAll</code> is regexp based, <code>replace</code> isn't. These aren't regexps.</p>\n"}],"owner":{"account_id":22951089,"reputation":1,"user_id":17082357,"display_name":"I&#39;m Noob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633598575,"creation_date":1633597896,"question_id":69478435,"body_markdown":"Actually I am trying to resolve those red line characters but I haven&#39;t find out any way to resolve. I have tried to import some js and rhino files but it&#39;s not working.\r\n\r\nI have tried to import the : \r\n`import org.mozilla.javascript.context` but this file is not importing to the ide.\r\n\r\nI hope I will find a better solution.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/vSSDo.png","title":"Can&#39;t resolve method of &#39;enter&#39; in &#39;Context&#39;","body":"<p>Actually I am trying to resolve those red line characters but I haven't find out any way to resolve. I have tried to import some js and rhino files but it's not working.</p>\n<p>I have tried to import the :\n<code>import org.mozilla.javascript.context</code> but this file is not importing to the ide.</p>\n<p>I hope I will find a better solution.</p>\n<p><a href=\"https://i.stack.imgur.com/vSSDo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vSSDo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","validation"],"comments":[{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":2,"creation_date":1633523044,"post_id":69465618,"comment_id":122781307,"body_markdown":"And how you supposed to make Spring know how *exactly* passed String should be validated?","body":"And how you supposed to make Spring know how <i>exactly</i> passed String should be validated?"},{"owner":{"account_id":15567040,"reputation":71,"user_id":11230458,"display_name":"tooFastForSatan"},"score":0,"creation_date":1633523574,"post_id":69465618,"comment_id":122781546,"body_markdown":"The code is an example to understand the sense of it. I have an Entity where i use a lot of annoation like Pattern, NotNull, NotBlank etc. If I use the Valid annotation I say spring that he needs to check the fields in the Entity. He is doing that but not in the case above when Im first hitting oldPutConctact endpoint with an setEmail and then putContact. If I&#39;m hitting only putContact endpoint the Valid annotation is considered.","body":"The code is an example to understand the sense of it. I have an Entity where i use a lot of annoation like Pattern, NotNull, NotBlank etc. If I use the Valid annotation I say spring that he needs to check the fields in the Entity. He is doing that but not in the case above when Im first hitting oldPutConctact endpoint with an setEmail and then putContact. If I&#39;m hitting only putContact endpoint the Valid annotation is considered."},{"owner":{"account_id":15567040,"reputation":71,"user_id":11230458,"display_name":"tooFastForSatan"},"score":0,"creation_date":1633523695,"post_id":69465618,"comment_id":122781606,"body_markdown":"Test are already done but this is the one case when the test didnt pass and I dont understand why the VAlid annotation is not executed","body":"Test are already done but this is the one case when the test didnt pass and I dont understand why the VAlid annotation is not executed"},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1633523921,"post_id":69465618,"comment_id":122781711,"body_markdown":"Show the full model class you pass to `putContact` endpoint, or at least it&#39;s essential part (email)","body":"Show the full model class you pass to <code>putContact</code> endpoint, or at least it&#39;s essential part (email)"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1633539635,"post_id":69465618,"comment_id":122788767,"body_markdown":"How should spring validate the entity if all it has is a `String`? Your method signature takes a `String` **not** your entity (this `putContact(@RequestBody @Valid String contact)` is what you posted!). If that is just a typo remove the `javax.validation` dependency you have and add `spring-boot-starter-validation`. Finally the internal call won&#39;t execute the `@Valid` as that is part of the request processing which you bypass here, when used with `@Validated` it won&#39;t work either as that uses AOP and thus proxies for which it doesn&#39;t pass through the proxy with an internal method call.","body":"How should spring validate the entity if all it has is a <code>String</code>? Your method signature takes a <code>String</code> <b>not</b> your entity (this <code>putContact(@RequestBody @Valid String contact)</code> is what you posted!). If that is just a typo remove the <code>javax.validation</code> dependency you have and add <code>spring-boot-starter-validation</code>. Finally the internal call won&#39;t execute the <code>@Valid</code> as that is part of the request processing which you bypass here, when used with <code>@Validated</code> it won&#39;t work either as that uses AOP and thus proxies for which it doesn&#39;t pass through the proxy with an internal method call."}],"answers":[{"tags":[],"owner":{"account_id":3229625,"reputation":99,"user_id":2725189,"display_name":"bluezealot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1633580342,"creation_date":1633523926,"answer_id":69465878,"question_id":69465618,"body_markdown":"Firstly you should define the validation rule for your parameters.\r\nFor example(Note the **NotBlank** annotation):\r\n\r\n    @Entity\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private long id;\r\n    \r\n        @NotBlank(message = &quot;Name is mandatory&quot;)\r\n        private String name;\r\n    \r\n        @NotBlank(message = &quot;Email is mandatory&quot;)\r\n        private String email;\r\n    \r\n        // standard constructors / setters / getters / toString\r\n        \r\n    }\r\n\r\nThen you can use the valid annotation in rest api controller.\r\nLike this:\r\n\r\n    @RestController\r\n    public class UserController {\r\n\r\n        @PostMapping(&quot;/users&quot;)\r\n        ResponseEntity&lt;String&gt; addUser(@Valid @RequestBody User user) {\r\n            // persisting the user\r\n            return ResponseEntity.ok(&quot;User is valid&quot;);\r\n        }\r\n    \r\n        // standard constructors / other methods\r\n    \r\n    }\r\n\r\nYou may not define the validation rule. So spring doesn’t know how to validate the parameter.\r\n\r\nPlease refer to [Spring validation][1] for further information.\r\n\r\n----By reading the comment from @nusia, add the following description.\r\n\r\nFrom the sample code &quot;public String putContact(@RequestBody @Valid String contact)&quot;, I can&#39;t see where you define the @NotBlank annotation to parameter String contact, or did you mean the type of argument &quot;contact&quot; is not string? If the type of &quot;contact&quot; is a defined entity and its email field has the NotBlank annotation. Then calling your new endpoint &quot;putContact&quot; from HTTP PUT request will fire the spring validation, but if you mean you call the new method &quot;putContact&quot;  from your old method &quot;oldPutContact&quot; the spring validation will not be fired, the reason is similar to [Call spring annotation method from same class][2].\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-bean-validation\r\n  [2]: https://stackoverflow.com/questions/3423972/spring-transaction-method-call-by-the-method-within-the-same-class-does-not-wo","title":"Spring - @Valid not working after calling method","body":"<p>Firstly you should define the validation rule for your parameters.\nFor example(Note the <strong>NotBlank</strong> annotation):</p>\n<pre><code>@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @NotBlank(message = &quot;Name is mandatory&quot;)\n    private String name;\n\n    @NotBlank(message = &quot;Email is mandatory&quot;)\n    private String email;\n\n    // standard constructors / setters / getters / toString\n    \n}\n</code></pre>\n<p>Then you can use the valid annotation in rest api controller.\nLike this:</p>\n<pre><code>@RestController\npublic class UserController {\n\n    @PostMapping(&quot;/users&quot;)\n    ResponseEntity&lt;String&gt; addUser(@Valid @RequestBody User user) {\n        // persisting the user\n        return ResponseEntity.ok(&quot;User is valid&quot;);\n    }\n\n    // standard constructors / other methods\n\n}\n</code></pre>\n<p>You may not define the validation rule. So spring doesn’t know how to validate the parameter.</p>\n<p>Please refer to <a href=\"https://www.baeldung.com/spring-boot-bean-validation\" rel=\"nofollow noreferrer\">Spring validation</a> for further information.</p>\n<p>----By reading the comment from @nusia, add the following description.</p>\n<p>From the sample code &quot;public String putContact(@RequestBody @Valid String contact)&quot;, I can't see where you define the @NotBlank annotation to parameter String contact, or did you mean the type of argument &quot;contact&quot; is not string? If the type of &quot;contact&quot; is a defined entity and its email field has the NotBlank annotation. Then calling your new endpoint &quot;putContact&quot; from HTTP PUT request will fire the spring validation, but if you mean you call the new method &quot;putContact&quot;  from your old method &quot;oldPutContact&quot; the spring validation will not be fired, the reason is similar to <a href=\"https://stackoverflow.com/questions/3423972/spring-transaction-method-call-by-the-method-within-the-same-class-does-not-wo\">Call spring annotation method from same class</a>.</p>\n"}],"owner":{"account_id":15567040,"reputation":71,"user_id":11230458,"display_name":"tooFastForSatan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1229,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69465878,"answer_count":1,"score":0,"last_activity_date":1633598528,"creation_date":1633522855,"question_id":69465618,"body_markdown":"I wrote example of endpoints to understand the meaning of my question.\r\n\r\nI realised that my tests didnt pass due to the `@Valid` annotation. \r\n\r\nEg. I got two endpoints if someone is hitting the old one there is a need to check if Email is set becuase it has a `@NotBlank` annotation.\r\nBut when I&#39;m asking my endpoint with a set email the `@Valid` is not executed I realised that after doing tests with invalid data. And I cannot set the `@Valid`  in the `oldPutContact` because there are some contacts without email.\r\n\r\nMy question is why `putContact` didn&#39;t execute the `@Valid` annotation.\r\n```\r\n    @PutMapping(value = &quot;/contact/{contactid}&quot;, )\r\n    public String oldPutContact(@RequestBody Contact contact)\r\n        if(StringUtils.isBlank(contact.getEmail())){\r\n            contact.setEmail(&quot;randomEmail@ups.cm&quot;) ;\r\n        }\r\n        return putContact(contact);\r\n    }\r\n    @PutMapping(value = &quot;/contact/update/{contactid}&quot;)\r\n    public String putContact(@RequestBody @Valid Contact contact) {\r\n        contactService.updateContact(contact);\r\n    }\r\n```\r\nImagine Contact Entity looks like this \r\n```\r\n @Builder(toBuilder=true)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Contact {\r\n\r\n        private static final String SOME_PATTERN = &quot;&quot;;\r\n       private static final String SOME_EMAIL_PATTERN = &quot;&quot;;\r\n        private static final String SOME_PATTERN2 = &quot;&quot;;\r\n      \r\n        @NotBlank\r\n        private String id;\r\n\r\n        @NotNull\r\n        private Boolean isActive;\r\n\r\n        @NotBlank\r\n        @Pattern(regexp = SOME_PATTERN)\r\n        private String name;\r\n\r\n        @NotBlank\r\n        @Pattern(regexp = SOME_PATTERN)\r\n        private String surname;\r\n        \r\n       @NotBlank\r\n        @Email(regexp = SOME_EMAIL_PATTERN)\r\n        private String email;\r\n\r\n        @NotBlank\r\n        @Pattern(regexp = SOME_PATTERN2)\r\n        private String telephone;\r\n\r\n    }\r\n```\r\n","title":"Spring - @Valid not working after calling method","body":"<p>I wrote example of endpoints to understand the meaning of my question.</p>\n<p>I realised that my tests didnt pass due to the <code>@Valid</code> annotation.</p>\n<p>Eg. I got two endpoints if someone is hitting the old one there is a need to check if Email is set becuase it has a <code>@NotBlank</code> annotation.\nBut when I'm asking my endpoint with a set email the <code>@Valid</code> is not executed I realised that after doing tests with invalid data. And I cannot set the <code>@Valid</code>  in the <code>oldPutContact</code> because there are some contacts without email.</p>\n<p>My question is why <code>putContact</code> didn't execute the <code>@Valid</code> annotation.</p>\n<pre><code>    @PutMapping(value = &quot;/contact/{contactid}&quot;, )\n    public String oldPutContact(@RequestBody Contact contact)\n        if(StringUtils.isBlank(contact.getEmail())){\n            contact.setEmail(&quot;randomEmail@ups.cm&quot;) ;\n        }\n        return putContact(contact);\n    }\n    @PutMapping(value = &quot;/contact/update/{contactid}&quot;)\n    public String putContact(@RequestBody @Valid Contact contact) {\n        contactService.updateContact(contact);\n    }\n</code></pre>\n<p>Imagine Contact Entity looks like this</p>\n<pre><code> @Builder(toBuilder=true)\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public class Contact {\n\n        private static final String SOME_PATTERN = &quot;&quot;;\n       private static final String SOME_EMAIL_PATTERN = &quot;&quot;;\n        private static final String SOME_PATTERN2 = &quot;&quot;;\n      \n        @NotBlank\n        private String id;\n\n        @NotNull\n        private Boolean isActive;\n\n        @NotBlank\n        @Pattern(regexp = SOME_PATTERN)\n        private String name;\n\n        @NotBlank\n        @Pattern(regexp = SOME_PATTERN)\n        private String surname;\n        \n       @NotBlank\n        @Email(regexp = SOME_EMAIL_PATTERN)\n        private String email;\n\n        @NotBlank\n        @Pattern(regexp = SOME_PATTERN2)\n        private String telephone;\n\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15964714,"reputation":33,"user_id":11520725,"display_name":"EpicAshman"},"score":0,"creation_date":1633597057,"post_id":69478250,"comment_id":122803753,"body_markdown":"I am also trying not to use a massive inefficient else-if statement","body":"I am also trying not to use a massive inefficient else-if statement"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1633597253,"post_id":69478250,"comment_id":122803833,"body_markdown":"Two `int[]` arrays with the same values will not compare equal with `==`. See [Comparing two integer arrays in Java](https://stackoverflow.com/q/14897366/3890632)","body":"Two <code>int[]</code> arrays with the same values will not compare equal with <code>==</code>. See <a href=\"https://stackoverflow.com/q/14897366/3890632\">Comparing two integer arrays in Java</a>"},{"owner":{"account_id":15964714,"reputation":33,"user_id":11520725,"display_name":"EpicAshman"},"score":0,"creation_date":1633597616,"post_id":69478250,"comment_id":122804007,"body_markdown":"@khelwood So in theory would be able to make multiples of the Array.equals() statements to make it work or can I use all of the indexes as parameters at once?","body":"@khelwood So in theory would be able to make multiples of the Array.equals() statements to make it work or can I use all of the indexes as parameters at once?"},{"owner":{"account_id":12256232,"reputation":617,"user_id":8945198,"display_name":"AP11"},"score":0,"creation_date":1633597783,"post_id":69478250,"comment_id":122804093,"body_markdown":"Wouldn&#39;t it be just better to hold all your _game objects_ in a `List` and before you spawn your object, check if any object already has the position *[x, y]*?","body":"Wouldn&#39;t it be just better to hold all your <i>game objects</i> in a <code>List</code> and before you spawn your object, check if any object already has the position <i>[x, y]</i>?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1633597897,"post_id":69478250,"comment_id":122804155,"body_markdown":"Your current loop only compares each `allObject` element to the next element. You could use a nested loop to compare every int[] to every other int[] with Arrays.equals(). That&#39;s O(N&#178;) unless you want to change your data structure.","body":"Your current loop only compares each <code>allObject</code> element to the next element. You could use a nested loop to compare every int[] to every other int[] with Arrays.equals(). That&#39;s O(N&#178;) unless you want to change your data structure."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633598279,"creation_date":1633598279,"answer_id":69478542,"question_id":69478250,"body_markdown":"Arrays in java are quite low-level things. You should probably use them here (it&#39;s a game, and `List&lt;Integer&gt;` is vastly less efficient than `int[]`. Maybe Project Valhalla will change that, but it&#39;ll be quite a few years before PV makes it into main java, so that&#39;s no solution and probably you can&#39;t afford to wait until it is). But, be aware of that.\r\n\r\nThey are objects. Thus, `allObject[i]`, which returns the `int[]` at position `i`, is an object reference, and `==` between object references just compares __the reference__.\r\n\r\nImagine a newspaper. I&#39;m the paperboy and I thus have 2 identical newspapers in my hands. I show you both of them and ask you: Hey, are these two equal?\r\n\r\nPhilosophically, two answers are available, both are equally correct, it&#39;s just a matter of perspective:\r\n\r\n* Yes: Both newspapers have the same number of pages and each page has the same letters. They are identical.\r\n* No: They are two different objects. Had you given me a newspaper right now and then later asked me: Hey, is this newspaper the same one as what I showed you before - then I might say &#39;yes&#39;, but 2 different newspapers clearly aren&#39;t identical.\r\n\r\nIn java, `==` is like __the latter one__. Let&#39;s see it in practice: (Copy this code over, compile it, run it, play around with it):\r\n\r\n```\r\nint[] a = new int[] {1, 2, 3};\r\nint[] b = new int[] {1, 2, 3};\r\nSystem.out.println(a == b); // prints false\r\nSystem.out.println(Arrays.equals(a, b)); // prints true\r\n```\r\n\r\nThe utility method `equals(int[] a, int[] b)` from the `java.util.Arrays` class will get you the first notion (2 separate int arrays are equal if they are the same size and contain the same int at every position).\r\n\r\nPresumably you want `Arrays.equals(allObjects[i], allObjects[i + 1])` here.\r\n\r\nAlso note that your method does this:\r\n\r\n* It goes through each adjacent pair of objects, where &#39;an object&#39; is defined by an int array. So, if you have `[A, B, C, D]` where each letter is an int array, your code first compares `A`/`B`, then compares `B`/`C`, and then compares `C`/`D`.\r\n* The moment it hits a pair that is equal, it returns true.\r\n* It returns false only if every consecutive pair is non-equal.\r\n* In particular, if A and B are equal but B and C are not, it still returns true.\r\n* It never compares A and C.\r\n\r\nThis doesn&#39;t appear to match what you wrote. You said: \r\n\r\n&gt; So I have attempted to write a function to check if all of the game objects don&#39;t have the same position.\r\n\r\nIf you want to check if __all__ objects are identical, flip the loop around. You want to `return false` immediately if any consecutive pair is non-equal, and `return true;` at the end of the loop, which you only get to if _every_ pair-wise comparison concluded: These 2 are equal.\r\n\r\nIf you want to check merely if any 2 objects are identical, then your code as written doesn&#39;t work either. What if A and C are identical, after all?\r\n\r\nDoing a cross-cut comparison gets pricey if you have a lot of objects (if you have 100 objects, you need 100+99+98+97+.... comparisons, i.e. `0.5 * n * n` objects. The time you need to do this grows squared relative to the number of objects in the system). There are efficient ways to do this, for example, if you can establish a strict sorting order, or using hashmaps. However, `int[]` is not a suitable data type on its own for such jobs, as `int[]` does not have a `hashCode()` implementation that is suitable for this task, and doesn&#39;t have an `equals()` that is suitable either. You&#39;d have to do quite a bit more work.\r\n\r\nIf you never have more than, say, 1000 objects, a double loop is probably okay.\r\n","title":"Function to check object coordinates to see if they are in the same place","body":"<p>Arrays in java are quite low-level things. You should probably use them here (it's a game, and <code>List&lt;Integer&gt;</code> is vastly less efficient than <code>int[]</code>. Maybe Project Valhalla will change that, but it'll be quite a few years before PV makes it into main java, so that's no solution and probably you can't afford to wait until it is). But, be aware of that.</p>\n<p>They are objects. Thus, <code>allObject[i]</code>, which returns the <code>int[]</code> at position <code>i</code>, is an object reference, and <code>==</code> between object references just compares <strong>the reference</strong>.</p>\n<p>Imagine a newspaper. I'm the paperboy and I thus have 2 identical newspapers in my hands. I show you both of them and ask you: Hey, are these two equal?</p>\n<p>Philosophically, two answers are available, both are equally correct, it's just a matter of perspective:</p>\n<ul>\n<li>Yes: Both newspapers have the same number of pages and each page has the same letters. They are identical.</li>\n<li>No: They are two different objects. Had you given me a newspaper right now and then later asked me: Hey, is this newspaper the same one as what I showed you before - then I might say 'yes', but 2 different newspapers clearly aren't identical.</li>\n</ul>\n<p>In java, <code>==</code> is like <strong>the latter one</strong>. Let's see it in practice: (Copy this code over, compile it, run it, play around with it):</p>\n<pre><code>int[] a = new int[] {1, 2, 3};\nint[] b = new int[] {1, 2, 3};\nSystem.out.println(a == b); // prints false\nSystem.out.println(Arrays.equals(a, b)); // prints true\n</code></pre>\n<p>The utility method <code>equals(int[] a, int[] b)</code> from the <code>java.util.Arrays</code> class will get you the first notion (2 separate int arrays are equal if they are the same size and contain the same int at every position).</p>\n<p>Presumably you want <code>Arrays.equals(allObjects[i], allObjects[i + 1])</code> here.</p>\n<p>Also note that your method does this:</p>\n<ul>\n<li>It goes through each adjacent pair of objects, where 'an object' is defined by an int array. So, if you have <code>[A, B, C, D]</code> where each letter is an int array, your code first compares <code>A</code>/<code>B</code>, then compares <code>B</code>/<code>C</code>, and then compares <code>C</code>/<code>D</code>.</li>\n<li>The moment it hits a pair that is equal, it returns true.</li>\n<li>It returns false only if every consecutive pair is non-equal.</li>\n<li>In particular, if A and B are equal but B and C are not, it still returns true.</li>\n<li>It never compares A and C.</li>\n</ul>\n<p>This doesn't appear to match what you wrote. You said:</p>\n<blockquote>\n<p>So I have attempted to write a function to check if all of the game objects don't have the same position.</p>\n</blockquote>\n<p>If you want to check if <strong>all</strong> objects are identical, flip the loop around. You want to <code>return false</code> immediately if any consecutive pair is non-equal, and <code>return true;</code> at the end of the loop, which you only get to if <em>every</em> pair-wise comparison concluded: These 2 are equal.</p>\n<p>If you want to check merely if any 2 objects are identical, then your code as written doesn't work either. What if A and C are identical, after all?</p>\n<p>Doing a cross-cut comparison gets pricey if you have a lot of objects (if you have 100 objects, you need 100+99+98+97+.... comparisons, i.e. <code>0.5 * n * n</code> objects. The time you need to do this grows squared relative to the number of objects in the system). There are efficient ways to do this, for example, if you can establish a strict sorting order, or using hashmaps. However, <code>int[]</code> is not a suitable data type on its own for such jobs, as <code>int[]</code> does not have a <code>hashCode()</code> implementation that is suitable for this task, and doesn't have an <code>equals()</code> that is suitable either. You'd have to do quite a bit more work.</p>\n<p>If you never have more than, say, 1000 objects, a double loop is probably okay.</p>\n"}],"owner":{"account_id":15964714,"reputation":33,"user_id":11520725,"display_name":"EpicAshman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633598279,"creation_date":1633597004,"question_id":69478250,"body_markdown":"Hi I have started to write a console monster game for my A Level CS Class. I have hit a road block because sometimes when I run my game, some objects are not appearing and I have deduced that is due to the objects having the same coordinates. So I have attempted to write a function to check if all of the game objects don&#39;t have the same position. All objects have a position (x,y) and the allObjects is a 2d array that I have assigned all of the objects starting positions.\r\n\r\n```\r\nprivate static boolean checkObjects(int[][] allObjects){\r\n        int upperBound = allObjects.length;\r\n        for(int i = 0; i &lt; upperBound -1 ; i++){\r\n            if(allObjects[i] == allObjects[i+1]){\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n```","title":"Function to check object coordinates to see if they are in the same place","body":"<p>Hi I have started to write a console monster game for my A Level CS Class. I have hit a road block because sometimes when I run my game, some objects are not appearing and I have deduced that is due to the objects having the same coordinates. So I have attempted to write a function to check if all of the game objects don't have the same position. All objects have a position (x,y) and the allObjects is a 2d array that I have assigned all of the objects starting positions.</p>\n<pre><code>private static boolean checkObjects(int[][] allObjects){\n        int upperBound = allObjects.length;\n        for(int i = 0; i &lt; upperBound -1 ; i++){\n            if(allObjects[i] == allObjects[i+1]){\n                return true;\n            }\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1633595387,"post_id":69477784,"comment_id":122803015,"body_markdown":"Depends on what `A`, `B` and `C` are, and what the exception is/means. In other words, there&#39;s no one-size-fits-all answer.","body":"Depends on what <code>A</code>, <code>B</code> and <code>C</code> are, and what the exception is/means. In other words, there&#39;s no one-size-fits-all answer."},{"owner":{"account_id":1244297,"reputation":4258,"user_id":1206062,"accept_rate":55,"display_name":"Harshavardhan Konakanchi"},"score":0,"creation_date":1633595435,"post_id":69477784,"comment_id":122803031,"body_markdown":"Should throw the exception at C() and B() both then you will be able to handle it in A()","body":"Should throw the exception at C() and B() both then you will be able to handle it in A()"},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1633595538,"post_id":69477784,"comment_id":122803071,"body_markdown":"It&#39;s usually referred as &quot;rethrow&quot;-ing an exception, you can find numerous topic if you search for it.","body":"It&#39;s usually referred as &quot;rethrow&quot;-ing an exception, you can find numerous topic if you search for it."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633596604,"post_id":69477784,"comment_id":122803540,"body_markdown":"In general you should not `catch(Exception e)` at all. You should catch exactly and only the exceptions that the compiler forces you to catch, plus maybe some very carefully chosen `RuntimeException`s or `Error`s at sites where you really know what the hell is going on.","body":"In general you should not <code>catch(Exception e)</code> at all. You should catch exactly and only the exceptions that the compiler forces you to catch, plus maybe some very carefully chosen <code>RuntimeException</code>s or <code>Error</code>s at sites where you really know what the hell is going on."},{"owner":{"account_id":14707984,"reputation":25,"user_id":12904800,"display_name":"Sami Şahin"},"score":0,"creation_date":1633597641,"post_id":69477784,"comment_id":122804024,"body_markdown":"@tevemadar I tried searching first of course but couldn&#39;t find an example like mine where first and third has catch but middle one doesn&#39;t. Thanks for the term tho, didn&#39;t think about that.","body":"@tevemadar I tried searching first of course but couldn&#39;t find an example like mine where first and third has catch but middle one doesn&#39;t. Thanks for the term tho, didn&#39;t think about that."},{"owner":{"account_id":14707984,"reputation":25,"user_id":12904800,"display_name":"Sami Şahin"},"score":0,"creation_date":1633597657,"post_id":69477784,"comment_id":122804028,"body_markdown":"@user207421 Thanks for the reminder but this was just for example.","body":"@user207421 Thanks for the reminder but this was just for example."}],"answers":[{"tags":[],"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633595589,"creation_date":1633595589,"answer_id":69477906,"question_id":69477784,"body_markdown":"When you do \r\n\r\n    public void C(){\r\n        try{\r\n            some_stuff();\r\n        }\r\n        catch(Exception e){\r\n            log.error(e)\r\n        }\r\n    }\r\n\r\nThis will handle the exception at this point. You will log it and disregard the exception. If you want to log and propagate it up, you need to re-throw it from the `catch` clause.\r\n\r\nSince Exception is checked (as far as I remember) you need to change the method signature to indicate that you are throwing this from `C`.\r\n\r\nAt `B` you don&#39;t need to handle it, you can just change the method signature to indicate the method throws Exception.\r\n\r\nRead more on Java checked vs unchecked exceptions for example here [enter link description here][1]\r\n\r\n\r\n  [1]: https://howtodoinjava.com/java/exception-handling/checked-vs-unchecked-exceptions-in-java/\r\n\r\nFinally if you want to propagate to `A` the code will look like this:\r\n\r\n\r\n    public void A(){\r\n        try{\r\n            B();\r\n        }\r\n        catch(Exception e){\r\n            log.error(e);\r\n        }\r\n    }\r\n    \r\n    public void B() throws Exception{\r\n        C();\r\n    }\r\n    \r\n    public void C() throws Exception{\r\n        try{\r\n            some_stuff();\r\n        }\r\n        catch(Exception e){\r\n            log.error(e)\r\n            throw e;\r\n        }\r\n    }","title":"Exception handling in nested methods with more than 2 levels deep","body":"<p>When you do</p>\n<pre><code>public void C(){\n    try{\n        some_stuff();\n    }\n    catch(Exception e){\n        log.error(e)\n    }\n}\n</code></pre>\n<p>This will handle the exception at this point. You will log it and disregard the exception. If you want to log and propagate it up, you need to re-throw it from the <code>catch</code> clause.</p>\n<p>Since Exception is checked (as far as I remember) you need to change the method signature to indicate that you are throwing this from <code>C</code>.</p>\n<p>At <code>B</code> you don't need to handle it, you can just change the method signature to indicate the method throws Exception.</p>\n<p>Read more on Java checked vs unchecked exceptions for example here <a href=\"https://howtodoinjava.com/java/exception-handling/checked-vs-unchecked-exceptions-in-java/\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n<p>Finally if you want to propagate to <code>A</code> the code will look like this:</p>\n<pre><code>public void A(){\n    try{\n        B();\n    }\n    catch(Exception e){\n        log.error(e);\n    }\n}\n\npublic void B() throws Exception{\n    C();\n}\n\npublic void C() throws Exception{\n    try{\n        some_stuff();\n    }\n    catch(Exception e){\n        log.error(e)\n        throw e;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17352297,"reputation":2252,"user_id":12570528,"display_name":"Gregor Zurowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633595681,"creation_date":1633595681,"answer_id":69477934,"question_id":69477784,"body_markdown":"You are handling the exception in the `catch` block, therefore it will not be further propagated to the caller. This is independent of whether you are logging it or doing anything else with it. If you want want to propagate it to the caller, you would need to re-throw it:\r\n\r\n```\r\n[...]\r\ncatch (Exception e) {\r\n   // do something\r\n   throw e;\r\n}\r\n```\r\n\r\nHow you handle exceptions depends on the design of your code.","title":"Exception handling in nested methods with more than 2 levels deep","body":"<p>You are handling the exception in the <code>catch</code> block, therefore it will not be further propagated to the caller. This is independent of whether you are logging it or doing anything else with it. If you want want to propagate it to the caller, you would need to re-throw it:</p>\n<pre><code>[...]\ncatch (Exception e) {\n   // do something\n   throw e;\n}\n</code></pre>\n<p>How you handle exceptions depends on the design of your code.</p>\n"}],"owner":{"account_id":14707984,"reputation":25,"user_id":12904800,"display_name":"Sami Şahin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69477906,"answer_count":2,"score":1,"last_activity_date":1633598271,"creation_date":1633595049,"question_id":69477784,"body_markdown":"Let&#39;s say we have nested methods A, B and C like below:\r\n\r\n```\r\npublic void A(){\r\n    try{\r\n        B();\r\n    }\r\n    catch(Exception e){\r\n        log.error(e);\r\n    }\r\n}\r\n\r\npublic void B(){\r\n    C();\r\n}\r\n\r\npublic void C(){\r\n    try{\r\n        some_stuff();\r\n    }\r\n    catch(Exception e){\r\n        log.error(e)\r\n    }\r\n}\r\n```\r\nSince I catch the exception at C() and handle it with only logging, and there isn&#39;t any catch in B(), do I catch the exception at A()?\r\n\r\nOr should I throw the exception at C() and add a try catch at B() to be able to handle it in A()?","title":"Exception handling in nested methods with more than 2 levels deep","body":"<p>Let's say we have nested methods A, B and C like below:</p>\n<pre><code>public void A(){\n    try{\n        B();\n    }\n    catch(Exception e){\n        log.error(e);\n    }\n}\n\npublic void B(){\n    C();\n}\n\npublic void C(){\n    try{\n        some_stuff();\n    }\n    catch(Exception e){\n        log.error(e)\n    }\n}\n</code></pre>\n<p>Since I catch the exception at C() and handle it with only logging, and there isn't any catch in B(), do I catch the exception at A()?</p>\n<p>Or should I throw the exception at C() and add a try catch at B() to be able to handle it in A()?</p>\n"},{"tags":["java","image","swing","embedded-resource"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1626458308,"post_id":68412410,"comment_id":120907602,"body_markdown":"Can you add to your question&#39;s post the tree structure of the files of interest (such as classes and images)? For example, where is *directory.jpg* located in relation to the classpath?","body":"Can you add to your question&#39;s post the tree structure of the files of interest (such as classes and images)? For example, where is <i>directory.jpg</i> located in relation to the classpath?"},{"owner":{"account_id":21709395,"reputation":162,"user_id":16021237,"display_name":"GalliadII"},"score":0,"creation_date":1626472323,"post_id":68412410,"comment_id":120911489,"body_markdown":"I am using Inteliji. And I just made this path up, since it is located inside my resources folder. i used the path &quot;src/Projectname/Pictures/picture.jpg&quot;. \nthe &quot;Pictures&quot; folder is located in &quot;Projectfolder/Pictures&quot; and is assigned to be the resource folder.","body":"I am using Inteliji. And I just made this path up, since it is located inside my resources folder. i used the path &quot;src/Projectname/Pictures/picture.jpg&quot;.  the &quot;Pictures&quot; folder is located in &quot;Projectfolder/Pictures&quot; and is assigned to be the resource folder."}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1626460373,"creation_date":1626460373,"answer_id":68413797,"question_id":68412410,"body_markdown":" 1. `label.setIcon(new ImageIcon(&quot;URL/copied/from/directory.jpg&quot;));`&lt;br&gt;This could not work, as the `String` should represent a `File` rather than a `URL`, but important point here, don&#39;t share with us &#39;something like&#39; the code or `String` being used. Share the **actual *copy/pasted*** text. \r\n 2. `label.setIcon(new ImageIcon(getClass().getResource(&quot;URL/copied/from/directory.jpg&quot;)));`&lt;br&gt;This tries to do too much in one line. Break it down. Use `getResource(..)` to get an `URL` (**print out the URL**). Use the URL to form an `Icon`, check it&#39;s not `null`. Use the icon to create the label.\r\n3. `getClass().getResource.read(&quot;URL/copied/from/directory.jpg&quot;);`&lt;br&gt;Of course this would not compile, but the statement *&quot;One problem I have with the code examples in other similar questions is that I cannot tell which part of the code is syntax and which is not.&quot;* is especially telling. It is .. Java 101 to be able to read a compiler error and either solve it or form a specific question about solving it. OTOH creating a cross-platform GUI using embedded resources is somewhat more advanced than Java 101. Perhaps you should set this project aside for a while and practice Java basics until you are familiar with them.\r\n\r\nIf you would like to try and continue with solving *this* problem, please post a short but complete code example based on the 2nd approach (the only one which made sense). \r\n\r\nBut to provide help, we&#39;ll need to know at least the package name of the class in which this code is called from (the &#39;short but complete example&#39; will reveal that), and the directory structure of the project itself (at least showing the paths to the class and the image).","title":"getClass().getResource(..) makes image icon suddenly null","body":"<ol>\n<li><code>label.setIcon(new ImageIcon(&quot;URL/copied/from/directory.jpg&quot;));</code><br>This could not work, as the <code>String</code> should represent a <code>File</code> rather than a <code>URL</code>, but important point here, don't share with us 'something like' the code or <code>String</code> being used. Share the <strong>actual <em>copy/pasted</em></strong> text.</li>\n<li><code>label.setIcon(new ImageIcon(getClass().getResource(&quot;URL/copied/from/directory.jpg&quot;)));</code><br>This tries to do too much in one line. Break it down. Use <code>getResource(..)</code> to get an <code>URL</code> (<strong>print out the URL</strong>). Use the URL to form an <code>Icon</code>, check it's not <code>null</code>. Use the icon to create the label.</li>\n<li><code>getClass().getResource.read(&quot;URL/copied/from/directory.jpg&quot;);</code><br>Of course this would not compile, but the statement <em>&quot;One problem I have with the code examples in other similar questions is that I cannot tell which part of the code is syntax and which is not.&quot;</em> is especially telling. It is .. Java 101 to be able to read a compiler error and either solve it or form a specific question about solving it. OTOH creating a cross-platform GUI using embedded resources is somewhat more advanced than Java 101. Perhaps you should set this project aside for a while and practice Java basics until you are familiar with them.</li>\n</ol>\n<p>If you would like to try and continue with solving <em>this</em> problem, please post a short but complete code example based on the 2nd approach (the only one which made sense).</p>\n<p>But to provide help, we'll need to know at least the package name of the class in which this code is called from (the 'short but complete example' will reveal that), and the directory structure of the project itself (at least showing the paths to the class and the image).</p>\n"}],"owner":{"account_id":21709395,"reputation":162,"user_id":16021237,"display_name":"GalliadII"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":68413797,"answer_count":1,"score":-1,"last_activity_date":1633597494,"creation_date":1626453076,"question_id":68412410,"body_markdown":"I have been reading a lot of questions related to this problem on this website. But somehow, none of the suggested answers worked. \r\n\r\nI want to use images in my java program. I build the .java file today for the first time, but the images won&#39;t apply to the finished build. I tried a lot. \r\n`getClass.getResource()`, the Class loader, reassigning my resource folder, moving the images, switching the images, different types of URLs, but I run into one of 2 problems either way:\r\n\r\nI either get the above problem, when my code for the line is:\r\n\r\n    label.setIcon(new ImageIcon(&quot;URL/copied/from/directory.jpg&quot;));\r\n\r\nor, when I do something like this:\r\n\r\n    label.setIcon(new ImageIcon(getClass().getResource(&quot;URL/copied/from/directory.jpg&quot;)));\r\n\r\nThen I get a warning, which states this URL might be null. \r\n\r\nwhen I use `getClass().getResource.read(&quot;URL/copied/from/directory.jpg&quot;);` I actually get a compiling error with the same issue. \r\n\r\nI am really not sure what is wrong with the code or the URL. One problem I have with the code examples in other similar questions is that I cannot tell which part of the code is syntax and which is not. \r\n\r\nAs requested here is the original code:\r\n\r\n    climateImageLabel.setIcon(new ImageIcon(getClass().getResource(&quot;src/DSA_Wildnistool/Pictures/KEIN BILD.jpg&quot;)));\r\n\r\n","title":"getClass().getResource(..) makes image icon suddenly null","body":"<p>I have been reading a lot of questions related to this problem on this website. But somehow, none of the suggested answers worked.</p>\n<p>I want to use images in my java program. I build the .java file today for the first time, but the images won't apply to the finished build. I tried a lot.\n<code>getClass.getResource()</code>, the Class loader, reassigning my resource folder, moving the images, switching the images, different types of URLs, but I run into one of 2 problems either way:</p>\n<p>I either get the above problem, when my code for the line is:</p>\n<pre><code>label.setIcon(new ImageIcon(&quot;URL/copied/from/directory.jpg&quot;));\n</code></pre>\n<p>or, when I do something like this:</p>\n<pre><code>label.setIcon(new ImageIcon(getClass().getResource(&quot;URL/copied/from/directory.jpg&quot;)));\n</code></pre>\n<p>Then I get a warning, which states this URL might be null.</p>\n<p>when I use <code>getClass().getResource.read(&quot;URL/copied/from/directory.jpg&quot;);</code> I actually get a compiling error with the same issue.</p>\n<p>I am really not sure what is wrong with the code or the URL. One problem I have with the code examples in other similar questions is that I cannot tell which part of the code is syntax and which is not.</p>\n<p>As requested here is the original code:</p>\n<pre><code>climateImageLabel.setIcon(new ImageIcon(getClass().getResource(&quot;src/DSA_Wildnistool/Pictures/KEIN BILD.jpg&quot;)));\n</code></pre>\n"},{"tags":["java","return","cannot-find-symbol"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":4,"creation_date":1621902154,"post_id":67680242,"comment_id":119628185,"body_markdown":"probably `String FirstName = weidenFirstName();` ?","body":"probably <code>String FirstName = weidenFirstName();</code> ?"},{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":0,"creation_date":1621902463,"post_id":67680242,"comment_id":119628223,"body_markdown":"Does that even compile ? If not you should include the error messages.","body":"Does that even compile ? If not you should include the error messages."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1621904524,"post_id":67680242,"comment_id":119628508,"body_markdown":"Set a breakpoint and see what firstNames.get(r) returns.","body":"Set a breakpoint and see what firstNames.get(r) returns."}],"answers":[{"tags":[],"owner":{"account_id":6456898,"reputation":26,"user_id":5001979,"display_name":"Tomn Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1621931305,"creation_date":1621905002,"answer_id":67680508,"question_id":67680242,"body_markdown":"If you want to get the value from `weidenFirstName()` in `NPC()` method, you need to assign a new String equal to the returned value from `weidenFirstName()` then assign that value equal to String `FirstName` in `NPC()` method. So you need to do like this in `NPC()` method:\r\n\r\n```java\r\npublic void NPC() {\r\n    String generatedFirstName = weidenFirstName();\r\n    String FirstName = generatedFirstName;\r\n}\r\n```\r\n\r\n\r\nIn NPC() method, if you just want to assign the value `FirstName` equal to the random value from `weidenFirstName()` method then you do above. If you want to return the String value from it then you can do like below:\r\n\r\n```java\r\npublic String NPC() {\r\n    String generatedFirstName= weidenFirstName();\r\n    String FirstName = generatedFirstName;\r\n    return FirstName;\r\n}\r\n```\r\n","title":"Java: &quot;cannot find symbol&quot; of a return value","body":"<p>If you want to get the value from <code>weidenFirstName()</code> in <code>NPC()</code> method, you need to assign a new String equal to the returned value from <code>weidenFirstName()</code> then assign that value equal to String <code>FirstName</code> in <code>NPC()</code> method. So you need to do like this in <code>NPC()</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void NPC() {\n    String generatedFirstName = weidenFirstName();\n    String FirstName = generatedFirstName;\n}\n</code></pre>\n<p>In NPC() method, if you just want to assign the value <code>FirstName</code> equal to the random value from <code>weidenFirstName()</code> method then you do above. If you want to return the String value from it then you can do like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String NPC() {\n    String generatedFirstName= weidenFirstName();\n    String FirstName = generatedFirstName;\n    return FirstName;\n}\n</code></pre>\n"}],"owner":{"account_id":21709395,"reputation":162,"user_id":16021237,"display_name":"GalliadII"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":67680508,"answer_count":1,"score":-3,"last_activity_date":1633597325,"creation_date":1621902001,"question_id":67680242,"body_markdown":"I set up a variable that I want returned, but it does not work. \r\nThe goal of this method is to create a random name generator which can be expanded as I see fit. \r\nBut it does not return the `generatedFirstName` String. I looked through my notes over and over, but I can&#39;t find the error. Here is the code of the method:\r\n\r\n    public String weidenFirstName() {\r\n        ArrayList&lt;String&gt; firstNames = new ArrayList&lt;String&gt;();\r\n        firstNames.add(&quot;Ailfir&quot;);\r\n        //long list of more ArrayList elements\r\n        firstNames.add(&quot;Yann&quot;);\r\n\r\n        Random firstNamesRandom = new Random();\r\n        int r = firstNamesRandom.nextInt(firstNames.size());\r\n        String generatedFirstName = firstNames.get(r);\r\n\r\n        return generatedFirstName;\r\n    }\r\n\r\nAnd here is the constructor that is supposed to execute the method and then save the generatedFirstName as another variable so it does not get deleted when the code is run for another object. \r\n\r\n    public NPC() {\r\n        weidenFirstName();\r\n        String FirstName = generatedFirstName;\r\n    }\r\n\r\nI get the error: `java: cannot find symbol` in the line where the `firstName` String is set. And Inteliji also marks that variable as the source of the error. \r\n\r\nThe solution was simple. The return value of the method does not get stored in a variable. Thus the program cannot utilize it. \r\nTo fix this I needed to do either this:\r\n```\r\n public NPC() {\r\n        String FirstName = weidenFirstName();;\r\n    }\r\n```\r\nor this:\r\n```\r\n public NPC() {\r\n        generatedFirstName = weidenFirstName();\r\n        String FirstName = generatedFirstName;\r\n    }\r\n```\r\nThe return value of a method IS a value. The method weidenFirstName() IS a String. Also setting generatedFirstName in the method equal to something and then let the Method return void would have worked. ","title":"Java: &quot;cannot find symbol&quot; of a return value","body":"<p>I set up a variable that I want returned, but it does not work.\nThe goal of this method is to create a random name generator which can be expanded as I see fit.\nBut it does not return the <code>generatedFirstName</code> String. I looked through my notes over and over, but I can't find the error. Here is the code of the method:</p>\n<pre><code>public String weidenFirstName() {\n    ArrayList&lt;String&gt; firstNames = new ArrayList&lt;String&gt;();\n    firstNames.add(&quot;Ailfir&quot;);\n    //long list of more ArrayList elements\n    firstNames.add(&quot;Yann&quot;);\n\n    Random firstNamesRandom = new Random();\n    int r = firstNamesRandom.nextInt(firstNames.size());\n    String generatedFirstName = firstNames.get(r);\n\n    return generatedFirstName;\n}\n</code></pre>\n<p>And here is the constructor that is supposed to execute the method and then save the generatedFirstName as another variable so it does not get deleted when the code is run for another object.</p>\n<pre><code>public NPC() {\n    weidenFirstName();\n    String FirstName = generatedFirstName;\n}\n</code></pre>\n<p>I get the error: <code>java: cannot find symbol</code> in the line where the <code>firstName</code> String is set. And Inteliji also marks that variable as the source of the error.</p>\n<p>The solution was simple. The return value of the method does not get stored in a variable. Thus the program cannot utilize it.\nTo fix this I needed to do either this:</p>\n<pre><code> public NPC() {\n        String FirstName = weidenFirstName();;\n    }\n</code></pre>\n<p>or this:</p>\n<pre><code> public NPC() {\n        generatedFirstName = weidenFirstName();\n        String FirstName = generatedFirstName;\n    }\n</code></pre>\n<p>The return value of a method IS a value. The method weidenFirstName() IS a String. Also setting generatedFirstName in the method equal to something and then let the Method return void would have worked.</p>\n"},{"tags":["java","pentaho"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1632915438,"post_id":69375552,"comment_id":122620853,"body_markdown":"I&#39;d guess it&#39;s some kind of block or endless loop - maybe try to get a thread dump for the application and analyze that (what is it doing) or use tools like jconsole or visualvm to monitor the JVM.","body":"I&#39;d guess it&#39;s some kind of block or endless loop - maybe try to get a thread dump for the application and analyze that (what is it doing) or use tools like jconsole or visualvm to monitor the JVM."},{"owner":{"account_id":5654200,"reputation":195,"user_id":4473866,"accept_rate":100,"display_name":"Yuriy T."},"score":0,"creation_date":1632980556,"post_id":69375552,"comment_id":122640320,"body_markdown":"tried to use visualvm , but haven&#39;t found anything suspicious...","body":"tried to use visualvm , but haven&#39;t found anything suspicious..."}],"answers":[{"tags":[],"owner":{"account_id":5654200,"reputation":195,"user_id":4473866,"accept_rate":100,"display_name":"Yuriy T."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633597027,"creation_date":1633597027,"answer_id":69478257,"question_id":69375552,"body_markdown":"So, after investigation, found a solution - problem wasn&#39;t in java or pentaho as such, issue was in Microsoft security update.\r\nBasically this solves issue: \r\nhttps://www.bleepingcomputer.com/news/microsoft/windows-10-emergency-update-resolves-kb5005565-app-freezes-crashes/\r\n\r\n","title":"Pentaho DI - Java Platform SE binary is not responding","body":"<p>So, after investigation, found a solution - problem wasn't in java or pentaho as such, issue was in Microsoft security update.\nBasically this solves issue:\n<a href=\"https://www.bleepingcomputer.com/news/microsoft/windows-10-emergency-update-resolves-kb5005565-app-freezes-crashes/\" rel=\"nofollow noreferrer\">https://www.bleepingcomputer.com/news/microsoft/windows-10-emergency-update-resolves-kb5005565-app-freezes-crashes/</a></p>\n"}],"owner":{"account_id":5654200,"reputation":195,"user_id":4473866,"accept_rate":100,"display_name":"Yuriy T."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69478257,"answer_count":1,"score":0,"last_activity_date":1633597027,"creation_date":1632915118,"question_id":69375552,"body_markdown":"Hoping if anyone could help with such issue.\r\n\r\nI wanted to use pentaho, but that pentaho is not opening (spoon.bat) - it&#39;s freezing after main UI is loaded - and I cannot do anything - connect to repo, tool just freezes and then crashes with mentioned in header error. \r\nintersting, that this happened also at work server (through remote desktop) - so in both machines - my private (version 8.3) and work server (version 9.0) stopped working. \r\nInteresting, that on work server version 7.0 continues to work as usual. Problem starts when using version 7.1+, then this error happens. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI had all necessary system variables (well previously pentaho was working without any issues).\r\n\r\nWhat I did currently: \r\n1)I tried to install openJDK, AdoptDJK, oracle JDK 8 (and switching JAVA_HOME) , but none of these helped - same &quot;stopped working&quot;.\r\n2)\r\nI tried to reinstall whole java (uninstalled,rebooted etc.) - nothing helped\r\n3) played with variables - was reading on other forums to add other system variables - used different, _JAVA_OPTIONS etc. - nothing helped\r\n4) downloaded different versions of pentaho - same freeze. \r\n5) checked graphic card updates - everything is set as latest\r\n6) was changing different parameters in spoon.bat (like memory etc.), no result.\r\n7) cleaned Java cache\r\n8) cleaned pentaho cache...\r\n\r\nI have a feeling that there is or some app blocking Pentaho or some corporate driver updates happened that for some reason affected usage of Java Platform... \r\n\r\nWhat I&#39;m missing? What is different between version 7.0 and 7.1/8.3/9.0/9.2?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WGNRQ.png","title":"Pentaho DI - Java Platform SE binary is not responding","body":"<p>Hoping if anyone could help with such issue.</p>\n<p>I wanted to use pentaho, but that pentaho is not opening (spoon.bat) - it's freezing after main UI is loaded - and I cannot do anything - connect to repo, tool just freezes and then crashes with mentioned in header error.\nintersting, that this happened also at work server (through remote desktop) - so in both machines - my private (version 8.3) and work server (version 9.0) stopped working.\nInteresting, that on work server version 7.0 continues to work as usual. Problem starts when using version 7.1+, then this error happens.</p>\n<p><a href=\"https://i.stack.imgur.com/WGNRQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WGNRQ.png\" alt=\"enter image description here\" /></a></p>\n<p>I had all necessary system variables (well previously pentaho was working without any issues).</p>\n<p>What I did currently:\n1)I tried to install openJDK, AdoptDJK, oracle JDK 8 (and switching JAVA_HOME) , but none of these helped - same &quot;stopped working&quot;.\n2)\nI tried to reinstall whole java (uninstalled,rebooted etc.) - nothing helped\n3) played with variables - was reading on other forums to add other system variables - used different, _JAVA_OPTIONS etc. - nothing helped\n4) downloaded different versions of pentaho - same freeze.\n5) checked graphic card updates - everything is set as latest\n6) was changing different parameters in spoon.bat (like memory etc.), no result.\n7) cleaned Java cache\n8) cleaned pentaho cache...</p>\n<p>I have a feeling that there is or some app blocking Pentaho or some corporate driver updates happened that for some reason affected usage of Java Platform...</p>\n<p>What I'm missing? What is different between version 7.0 and 7.1/8.3/9.0/9.2?</p>\n"},{"tags":["java","spring-boot","elasticsearch"],"comments":[{"owner":{"account_id":14326900,"reputation":15577,"user_id":10348758,"display_name":"ESCoder"},"score":0,"creation_date":1633596072,"post_id":69477995,"comment_id":122803302,"body_markdown":"based on the above sample index data, what is your expected search result ?","body":"based on the above sample index data, what is your expected search result ?"},{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1633596236,"post_id":69477995,"comment_id":122803371,"body_markdown":"I have correct a line in the java code portion.  I want to exclude documents which have `noteType=&#39;system-generated&#39;` values","body":"I have correct a line in the java code portion.  I want to exclude documents which have <code>noteType=&#39;system-generated&#39;</code> values"},{"owner":{"account_id":14326900,"reputation":15577,"user_id":10348758,"display_name":"ESCoder"},"score":0,"creation_date":1633596273,"post_id":69477995,"comment_id":122803381,"body_markdown":"that means your expected search result is the second document ?","body":"that means your expected search result is the second document ?"},{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1633596383,"post_id":69477995,"comment_id":122803436,"body_markdown":"yes, I want to fetch only the second doc","body":"yes, I want to fetch only the second doc"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":1,"creation_date":1633596454,"post_id":69477995,"comment_id":122803471,"body_markdown":"Note that none of the two documents have `projectId: 96` and none have the `projectId` field at all","body":"Note that none of the two documents have <code>projectId: 96</code> and none have the <code>projectId</code> field at all"},{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1633596954,"post_id":69477995,"comment_id":122803701,"body_markdown":"@Val, corrected, thanks for that","body":"@Val, corrected, thanks for that"}],"answers":[{"tags":[],"owner":{"account_id":14326900,"reputation":15577,"user_id":10348758,"display_name":"ESCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633596508,"creation_date":1633596508,"answer_id":69478129,"question_id":69477995,"body_markdown":"If only the `must_not` part of the query is used (excluding the `must` part)\r\n\r\n\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;must_not&quot;: [\r\n            {\r\n              &quot;term&quot;: {\r\n                &quot;noteType.keyword&quot;: {\r\n                  &quot;value&quot;: &quot;SYSTEM_GENERATED&quot;,\r\n                  &quot;boost&quot;: 1.0\r\n                }\r\n              }\r\n            }\r\n          ],\r\n          &quot;adjust_pure_negative&quot;: true,\r\n          &quot;boost&quot;: 1.0\r\n        }\r\n      }\r\n    }\r\n\r\nThe search result is similar to what you expect to get\r\n\r\n    &quot;hits&quot;: [\r\n          {\r\n            &quot;_index&quot;: &quot;69477995&quot;,\r\n            &quot;_type&quot;: &quot;_doc&quot;,\r\n            &quot;_id&quot;: &quot;2&quot;,\r\n            &quot;_score&quot;: 0.0,\r\n            &quot;_source&quot;: {\r\n              &quot;createTime&quot;: &quot;2021-09-26T15:54:08.373&quot;,\r\n              &quot;createTimeInMs&quot;: 1632650048373,\r\n              &quot;createdBy&quot;: &quot;test&quot;,\r\n              &quot;editTime&quot;: &quot;2021-09-26T15:54:08.373&quot;,\r\n              &quot;editTimeInMs&quot;: 1632650048373,\r\n              &quot;editedBy&quot;: &quot;test&quot;,\r\n              &quot;versionId&quot;: 1,\r\n              &quot;id&quot;: &quot;18&quot;,\r\n              &quot;note&quot;: &quot;note-1, simple note &quot;,\r\n              &quot;organizationId&quot;: &quot;28&quot;,\r\n              &quot;accessLevel&quot;: &quot;PUBLIC&quot;,\r\n              &quot;status&quot;: &quot;ACTIVE&quot;,\r\n              &quot;taskId&quot;: &quot;5&quot;,\r\n              &quot;userId&quot;: 129\r\n            }\r\n          }\r\n        ]","title":"must_not is not giving expected result in Elasticsearch for empty field","body":"<p>If only the <code>must_not</code> part of the query is used (excluding the <code>must</code> part)</p>\n<pre><code>{\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;must_not&quot;: [\n        {\n          &quot;term&quot;: {\n            &quot;noteType.keyword&quot;: {\n              &quot;value&quot;: &quot;SYSTEM_GENERATED&quot;,\n              &quot;boost&quot;: 1.0\n            }\n          }\n        }\n      ],\n      &quot;adjust_pure_negative&quot;: true,\n      &quot;boost&quot;: 1.0\n    }\n  }\n}\n</code></pre>\n<p>The search result is similar to what you expect to get</p>\n<pre><code>&quot;hits&quot;: [\n      {\n        &quot;_index&quot;: &quot;69477995&quot;,\n        &quot;_type&quot;: &quot;_doc&quot;,\n        &quot;_id&quot;: &quot;2&quot;,\n        &quot;_score&quot;: 0.0,\n        &quot;_source&quot;: {\n          &quot;createTime&quot;: &quot;2021-09-26T15:54:08.373&quot;,\n          &quot;createTimeInMs&quot;: 1632650048373,\n          &quot;createdBy&quot;: &quot;test&quot;,\n          &quot;editTime&quot;: &quot;2021-09-26T15:54:08.373&quot;,\n          &quot;editTimeInMs&quot;: 1632650048373,\n          &quot;editedBy&quot;: &quot;test&quot;,\n          &quot;versionId&quot;: 1,\n          &quot;id&quot;: &quot;18&quot;,\n          &quot;note&quot;: &quot;note-1, simple note &quot;,\n          &quot;organizationId&quot;: &quot;28&quot;,\n          &quot;accessLevel&quot;: &quot;PUBLIC&quot;,\n          &quot;status&quot;: &quot;ACTIVE&quot;,\n          &quot;taskId&quot;: &quot;5&quot;,\n          &quot;userId&quot;: 129\n        }\n      }\n    ]\n</code></pre>\n"}],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633596761,"creation_date":1633595933,"question_id":69477995,"body_markdown":"This is my sample es index document:\r\n\r\n    &quot;hits&quot; : [\r\n       {\r\n        &quot;_index&quot; : &quot;project_note&quot;,\r\n        &quot;_type&quot; : &quot;project_note&quot;,\r\n        &quot;_id&quot; : &quot;19&quot;,\r\n        &quot;_score&quot; : 1.0,\r\n        &quot;_source&quot; : {\r\n          &quot;createTime&quot; : &quot;2021-10-04T13:43:55.330&quot;,\r\n          &quot;createTimeInMs&quot; : 1633333435330,\r\n          &quot;createdBy&quot; : &quot;test&quot;,\r\n          &quot;editTime&quot; : &quot;2021-10-04T13:43:55.330&quot;,\r\n          &quot;editTimeInMs&quot; : 1633333435330,\r\n          &quot;editedBy&quot; : &quot;test&quot;,\r\n          &quot;versionId&quot; : 1,\r\n          &quot;id&quot; : &quot;19&quot;,\r\n          &quot;organizationId&quot; : &quot;28&quot;,\r\n          &quot;accessLevel&quot; : &quot;PUBLIC&quot;,\r\n          &quot;status&quot; : &quot;ACTIVE&quot;,\r\n          &quot;projectId&quot; : &quot;95&quot;,\r\n          &quot;userId&quot; : 129,\r\n          &quot;noteType&quot; : &quot;SYSTEM_GENERATED&quot;,\r\n          &quot;projectDemographicLogId&quot; : &quot;1&quot;\r\n        },\r\n       {\r\n        &quot;_index&quot; : &quot;project_note&quot;,\r\n        &quot;_type&quot; : &quot;project_note&quot;,\r\n        &quot;_id&quot; : &quot;19&quot;,\r\n        &quot;_score&quot; : 1.0,\r\n        &quot;_source&quot; : {\r\n          &quot;createTime&quot; : &quot;2021-10-04T13:43:55.330&quot;,\r\n          &quot;createTimeInMs&quot; : 1633333435330,\r\n          &quot;createdBy&quot; : &quot;test&quot;,\r\n          &quot;editTime&quot; : &quot;2021-10-04T13:43:55.330&quot;,\r\n          &quot;editTimeInMs&quot; : 1633333435330,\r\n          &quot;editedBy&quot; : &quot;test&quot;,\r\n          &quot;versionId&quot; : 1,\r\n          &quot;id&quot; : &quot;19&quot;,\r\n          &quot;organizationId&quot; : &quot;28&quot;,\r\n          &quot;accessLevel&quot; : &quot;PUBLIC&quot;,\r\n          &quot;status&quot; : &quot;ACTIVE&quot;,\r\n          &quot;projectId&quot; : &quot;95&quot;,\r\n          &quot;userId&quot; : 129\r\n         \r\n        }\r\n    ]\r\n\r\nIn the first doc, it has `noteType` but in the second, I don&#39;t have that field stored in db.\r\nI want to exclude  the documents where noteType==null or noteType is absent.\r\nBut, I am getting only the docs which have `noteType=&quot;SYSTEM_GENERATED&quot;`\r\n\r\nMy approach:\r\n\r\n    {\r\n      &quot;query&quot;:\r\n      {\r\n      &quot;bool&quot; : {\r\n        &quot;must&quot; : [\r\n          {\r\n            &quot;term&quot; : {\r\n              &quot;projectId&quot; : {\r\n                &quot;value&quot; : &quot;95&quot;,\r\n                &quot;boost&quot; : 1.0\r\n              }\r\n            }\r\n          },\r\n          {\r\n            &quot;range&quot; : {\r\n              &quot;createTimeInMs&quot; : {\r\n                &quot;from&quot; : null,\r\n                &quot;to&quot; : 1633594455000,\r\n                &quot;include_lower&quot; : true,\r\n                &quot;include_upper&quot; : true,\r\n                &quot;boost&quot; : 1.0\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        &quot;must_not&quot; : [\r\n          {\r\n            &quot;term&quot; : {\r\n              &quot;noteType&quot; : {\r\n                &quot;value&quot; : &quot;SYSTEM_GENERATED&quot;,\r\n                &quot;boost&quot; : 1.0\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        &quot;adjust_pure_negative&quot; : true,\r\n        &quot;boost&quot; : 1.0\r\n      }\r\n    }\r\n      \r\n    }\r\n\r\nEquivalent java code:\r\n\r\n      BoolQueryBuilder queryBuilder= QueryBuilders.boolQuery();\r\n                   queryBuilder.must(QueryBuilders.termQuery(&quot;projectId&quot;, requestInfo.getProjectId()));\r\n                   queryBuilder.must(rangeQuery(&quot;createTimeInMs&quot;).lte(requestInfo.getCreateTimeInMs()));\r\n    \r\n                   if(!requestInfo.isIncludeLog()) {\r\n                     \r\n                       queryBuilder.mustNot(QueryBuilders.termQuery(&quot;noteType&quot;, Defs.SYSTEM_NOTE_TYPE));\r\n                     \r\n                   }\r\n\r\n","title":"must_not is not giving expected result in Elasticsearch for empty field","body":"<p>This is my sample es index document:</p>\n<pre><code>&quot;hits&quot; : [\n   {\n    &quot;_index&quot; : &quot;project_note&quot;,\n    &quot;_type&quot; : &quot;project_note&quot;,\n    &quot;_id&quot; : &quot;19&quot;,\n    &quot;_score&quot; : 1.0,\n    &quot;_source&quot; : {\n      &quot;createTime&quot; : &quot;2021-10-04T13:43:55.330&quot;,\n      &quot;createTimeInMs&quot; : 1633333435330,\n      &quot;createdBy&quot; : &quot;test&quot;,\n      &quot;editTime&quot; : &quot;2021-10-04T13:43:55.330&quot;,\n      &quot;editTimeInMs&quot; : 1633333435330,\n      &quot;editedBy&quot; : &quot;test&quot;,\n      &quot;versionId&quot; : 1,\n      &quot;id&quot; : &quot;19&quot;,\n      &quot;organizationId&quot; : &quot;28&quot;,\n      &quot;accessLevel&quot; : &quot;PUBLIC&quot;,\n      &quot;status&quot; : &quot;ACTIVE&quot;,\n      &quot;projectId&quot; : &quot;95&quot;,\n      &quot;userId&quot; : 129,\n      &quot;noteType&quot; : &quot;SYSTEM_GENERATED&quot;,\n      &quot;projectDemographicLogId&quot; : &quot;1&quot;\n    },\n   {\n    &quot;_index&quot; : &quot;project_note&quot;,\n    &quot;_type&quot; : &quot;project_note&quot;,\n    &quot;_id&quot; : &quot;19&quot;,\n    &quot;_score&quot; : 1.0,\n    &quot;_source&quot; : {\n      &quot;createTime&quot; : &quot;2021-10-04T13:43:55.330&quot;,\n      &quot;createTimeInMs&quot; : 1633333435330,\n      &quot;createdBy&quot; : &quot;test&quot;,\n      &quot;editTime&quot; : &quot;2021-10-04T13:43:55.330&quot;,\n      &quot;editTimeInMs&quot; : 1633333435330,\n      &quot;editedBy&quot; : &quot;test&quot;,\n      &quot;versionId&quot; : 1,\n      &quot;id&quot; : &quot;19&quot;,\n      &quot;organizationId&quot; : &quot;28&quot;,\n      &quot;accessLevel&quot; : &quot;PUBLIC&quot;,\n      &quot;status&quot; : &quot;ACTIVE&quot;,\n      &quot;projectId&quot; : &quot;95&quot;,\n      &quot;userId&quot; : 129\n     \n    }\n]\n</code></pre>\n<p>In the first doc, it has <code>noteType</code> but in the second, I don't have that field stored in db.\nI want to exclude  the documents where noteType==null or noteType is absent.\nBut, I am getting only the docs which have <code>noteType=&quot;SYSTEM_GENERATED&quot;</code></p>\n<p>My approach:</p>\n<pre><code>{\n  &quot;query&quot;:\n  {\n  &quot;bool&quot; : {\n    &quot;must&quot; : [\n      {\n        &quot;term&quot; : {\n          &quot;projectId&quot; : {\n            &quot;value&quot; : &quot;95&quot;,\n            &quot;boost&quot; : 1.0\n          }\n        }\n      },\n      {\n        &quot;range&quot; : {\n          &quot;createTimeInMs&quot; : {\n            &quot;from&quot; : null,\n            &quot;to&quot; : 1633594455000,\n            &quot;include_lower&quot; : true,\n            &quot;include_upper&quot; : true,\n            &quot;boost&quot; : 1.0\n          }\n        }\n      }\n    ],\n    &quot;must_not&quot; : [\n      {\n        &quot;term&quot; : {\n          &quot;noteType&quot; : {\n            &quot;value&quot; : &quot;SYSTEM_GENERATED&quot;,\n            &quot;boost&quot; : 1.0\n          }\n        }\n      }\n    ],\n    &quot;adjust_pure_negative&quot; : true,\n    &quot;boost&quot; : 1.0\n  }\n}\n  \n}\n</code></pre>\n<p>Equivalent java code:</p>\n<pre><code>  BoolQueryBuilder queryBuilder= QueryBuilders.boolQuery();\n               queryBuilder.must(QueryBuilders.termQuery(&quot;projectId&quot;, requestInfo.getProjectId()));\n               queryBuilder.must(rangeQuery(&quot;createTimeInMs&quot;).lte(requestInfo.getCreateTimeInMs()));\n\n               if(!requestInfo.isIncludeLog()) {\n                 \n                   queryBuilder.mustNot(QueryBuilders.termQuery(&quot;noteType&quot;, Defs.SYSTEM_NOTE_TYPE));\n                 \n               }\n</code></pre>\n"},{"tags":["java","immutability"],"comments":[{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":3,"creation_date":1376332854,"post_id":18194139,"comment_id":26662708,"body_markdown":"From the Java tutorials: [A Strategy for Defining Immutable Objects](http://docs.oracle.com/javase/tutorial/essential/concurrency/imstrat.html)","body":"From the Java tutorials: <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/imstrat.html\" rel=\"nofollow noreferrer\">A Strategy for Defining Immutable Objects</a>"},{"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"score":0,"creation_date":1506335543,"post_id":18194139,"comment_id":79763289,"body_markdown":"Possible duplicate of [How to create immutable objects in Java?](https://stackoverflow.com/questions/6305752/how-to-create-immutable-objects-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/6305752/how-to-create-immutable-objects-in-java\">How to create immutable objects in Java?</a>"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1612081615,"post_id":18194139,"comment_id":116650952,"body_markdown":"Java SE 16 makes it amazingly easier to create an immutable class.  https://stackoverflow.com/a/65976915/10819573","body":"Java SE 16 makes it amazingly easier to create an immutable class.  <a href=\"https://stackoverflow.com/a/65976915/10819573\">stackoverflow.com/a/65976915/10819573</a>"}],"answers":[{"tags":[],"owner":{"account_id":1075043,"reputation":19715,"user_id":1073386,"accept_rate":83,"display_name":"Adam Stelmaszczyk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1376332484,"creation_date":1376332484,"answer_id":18194178,"question_id":18194139,"body_markdown":"With `final` keyword:\r\n\r\n    private final String name;\r\n    private final String age;","title":"Make immutable Java object","body":"<p>With <code>final</code> keyword:</p>\n\n<pre><code>private final String name;\nprivate final String age;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1376332493,"creation_date":1376332493,"answer_id":18194183,"question_id":18194139,"body_markdown":"This is fine but I would make the fields `final` as well.\r\n\r\nAlso I would make the age an `int` or `double` rather than a String.","title":"Make immutable Java object","body":"<p>This is fine but I would make the fields <code>final</code> as well.</p>\n\n<p>Also I would make the age an <code>int</code> or <code>double</code> rather than a String.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1376332520,"creation_date":1376332520,"answer_id":18194193,"question_id":18194139,"body_markdown":"Your class is not immutable strictly speaking, it is only effectively immutable. To make it immutable, you need to use `final`:\r\n\r\n    private final String name;\r\n    private final String age;\r\n\r\nAlthough the difference might seem subtle, [it can make a significant difference in a multi-threaded context][1]. An immutable class is inherently thread-safe, an effectively immutable class is thread safe only if it is safely published.\r\n\r\n [1]: https://stackoverflow.com/questions/16061030/must-all-properties-of-an-immutable-object-be-final","title":"Make immutable Java object","body":"<p>Your class is not immutable strictly speaking, it is only effectively immutable. To make it immutable, you need to use <code>final</code>:</p>\n\n<pre><code>private final String name;\nprivate final String age;\n</code></pre>\n\n<p>Although the difference might seem subtle, <a href=\"https://stackoverflow.com/questions/16061030/must-all-properties-of-an-immutable-object-be-final\">it can make a significant difference in a multi-threaded context</a>. An immutable class is inherently thread-safe, an effectively immutable class is thread safe only if it is safely published.</p>\n"},{"tags":[],"owner":{"account_id":3100155,"reputation":514,"user_id":2624495,"accept_rate":82,"display_name":"Nick C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376332523,"creation_date":1376332523,"answer_id":18194196,"question_id":18194139,"body_markdown":"It already is immutable -- you can&#39;t change the contents once you initialize it, since you haven&#39;t made setters. You might add final keywords to the variables.","title":"Make immutable Java object","body":"<p>It already is immutable -- you can't change the contents once you initialize it, since you haven't made setters. You might add final keywords to the variables.</p>\n"},{"tags":[],"owner":{"account_id":1559437,"reputation":11728,"user_id":1449676,"accept_rate":37,"display_name":"ps-aux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376332587,"creation_date":1376332587,"answer_id":18194218,"question_id":18194139,"body_markdown":"Making all variables as `final` and when setting some field, making it return the reference to the new `Student` object with the newly set value like in `String`.","title":"Make immutable Java object","body":"<p>Making all variables as <code>final</code> and when setting some field, making it return the reference to the new <code>Student</code> object with the newly set value like in <code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":243158,"reputation":3878,"user_id":515147,"display_name":"JPetric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376332590,"creation_date":1376332590,"answer_id":18194222,"question_id":18194139,"body_markdown":"You can just follow guidelines shown in this example (first result in google):\r\nhttp://www.javapractices.com/topic/TopicAction.do?Id=29\r\n","title":"Make immutable Java object","body":"<p>You can just follow guidelines shown in this example (first result in google):\n<a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=29\" rel=\"nofollow\">http://www.javapractices.com/topic/TopicAction.do?Id=29</a></p>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1376334787,"creation_date":1376332758,"answer_id":18194266,"question_id":18194139,"body_markdown":"There are few things that you must consider for making an immutable class:\r\n\r\n - Make your class `final` - You already have\r\n - Make all the fields `private` and `final` - Make appropriate changes in your code\r\n - Don&#39;t provide any methods that change the state of your instance\r\n - If you have mutable fields in your class, like `List`, or `Date`, making them `final` won&#39;t suffice. You should return a defensive copy from their `getters`, so that their state isn&#39;t mutated by calling methods.\r\n\r\nFor the 4th point, say you have a `Date` field in your class, then the getter for that field should look like:\r\n\r\n    public Date getDate() {\r\n        return new Date(this.date.getTime());\r\n    }\r\n\r\nMaking a defensive copy can become a headache, when your mutable field itself comprises of some mutable field, and that in turn can contain some other mutable field. In that case, you would need to make copy of each of them iteratively. We name this iterative copy of mutable fields as *Deep Copy*.\r\n\r\nImplementing deep copy by yourself may be cumbersome. But,keeping that issue apart, you should consider your class design again, once you see yourself falling into such requirement of making deep defensive copy.","title":"Make immutable Java object","body":"<p>There are few things that you must consider for making an immutable class:</p>\n\n<ul>\n<li>Make your class <code>final</code> - You already have</li>\n<li>Make all the fields <code>private</code> and <code>final</code> - Make appropriate changes in your code</li>\n<li>Don't provide any methods that change the state of your instance</li>\n<li>If you have mutable fields in your class, like <code>List</code>, or <code>Date</code>, making them <code>final</code> won't suffice. You should return a defensive copy from their <code>getters</code>, so that their state isn't mutated by calling methods.</li>\n</ul>\n\n<p>For the 4th point, say you have a <code>Date</code> field in your class, then the getter for that field should look like:</p>\n\n<pre><code>public Date getDate() {\n    return new Date(this.date.getTime());\n}\n</code></pre>\n\n<p>Making a defensive copy can become a headache, when your mutable field itself comprises of some mutable field, and that in turn can contain some other mutable field. In that case, you would need to make copy of each of them iteratively. We name this iterative copy of mutable fields as <em>Deep Copy</em>.</p>\n\n<p>Implementing deep copy by yourself may be cumbersome. But,keeping that issue apart, you should consider your class design again, once you see yourself falling into such requirement of making deep defensive copy.</p>\n"},{"tags":[],"owner":{"account_id":2852962,"reputation":4899,"user_id":2449744,"accept_rate":93,"display_name":"Eldar Agalarov"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1376333010,"creation_date":1376333010,"answer_id":18194346,"question_id":18194139,"body_markdown":"Your example is already immutable object, because fields in Student class can only set on instance initialization.\r\n\r\nTo make object immutable, You must do these steps:\r\n\r\n1. Don&#39;t use any methods, which can change fields of your class. For example don&#39;t use Setters.\r\n2. Avoid to use public non-final fields. If your fields is public then you must declare them as final and initialize them in constructor or directly in the declaration line.","title":"Make immutable Java object","body":"<p>Your example is already immutable object, because fields in Student class can only set on instance initialization.</p>\n\n<p>To make object immutable, You must do these steps:</p>\n\n<ol>\n<li>Don't use any methods, which can change fields of your class. For example don't use Setters.</li>\n<li>Avoid to use public non-final fields. If your fields is public then you must declare them as final and initialize them in constructor or directly in the declaration line.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3779583,"reputation":1351,"user_id":3139451,"display_name":"Vijay Bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417515220,"creation_date":1417515220,"answer_id":27246795,"question_id":18194139,"body_markdown":"Here are few rules, which helps to make a class immutable in Java :\r\n1. State of immutable object can not be modified after construction, any modification should result in new immutable object.\r\n2. All fields of Immutable class should be final.\r\n3. Object must be properly constructed i.e. object reference must not leak during construction process.\r\n4. Object should be final in order to restrict sub-class for altering immutability of parent class.\r\n\r\nExample:\r\n\r\n    public final class Contacts {\r\n\r\n    private final String name;\r\n    private final String mobile;\r\n\r\n    public Contacts(String name, String mobile) {\r\n        this.name = name;\r\n        this.mobile = mobile;\r\n    }\r\n  \r\n    public String getName(){\r\n        return name;\r\n    }\r\n  \r\n    public String getMobile(){\r\n        return mobile;\r\n    }\r\n}\r\n\r\n\r\nRefer this link : http://javarevisited.blogspot.in/2013/03/how-to-create-immutable-class-object-java-example-tutorial.html","title":"Make immutable Java object","body":"<p>Here are few rules, which helps to make a class immutable in Java :\n1. State of immutable object can not be modified after construction, any modification should result in new immutable object.\n2. All fields of Immutable class should be final.\n3. Object must be properly constructed i.e. object reference must not leak during construction process.\n4. Object should be final in order to restrict sub-class for altering immutability of parent class.</p>\n\n<p>Example:</p>\n\n<pre><code>public final class Contacts {\n\nprivate final String name;\nprivate final String mobile;\n\npublic Contacts(String name, String mobile) {\n    this.name = name;\n    this.mobile = mobile;\n}\n\npublic String getName(){\n    return name;\n}\n\npublic String getMobile(){\n    return mobile;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Refer this link : <a href=\"http://javarevisited.blogspot.in/2013/03/how-to-create-immutable-class-object-java-example-tutorial.html\" rel=\"nofollow\">http://javarevisited.blogspot.in/2013/03/how-to-create-immutable-class-object-java-example-tutorial.html</a></p>\n"},{"tags":[],"owner":{"account_id":5526354,"reputation":1,"user_id":4387704,"display_name":"suneelkumar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1421912528,"creation_date":1421910954,"answer_id":28083154,"question_id":18194139,"body_markdown":"Make the class or variable  as final that&#39;s more than enough\r\n\r\n    Public final class constants\r\n    {\r\n      private final String name;\r\n      private final String mobile;\r\n    \r\n      // code\r\n    }","title":"Make immutable Java object","body":"<p>Make the class or variable  as final that's more than enough</p>\n\n<pre><code>Public final class constants\n{\n  private final String name;\n  private final String mobile;\n\n  // code\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4485029"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429416937,"creation_date":1429262832,"answer_id":29695347,"question_id":18194139,"body_markdown":"Making variables private and no setter methods will work for primitive data types. If my class has any collection of objects?\r\n\r\nTo making any class immutable with collection object?\r\n\r\nWrite your own collection object with extends collection class and follow the private variables and no setter methods. or return clone object of your collection object.\r\n\r\n    public final class Student {\r\n    \r\n    private StudentList names;//Which is extended from arraylist\r\n    \r\n    public Student() {\r\n    names = DAO.getNamesList()//Which will return All Student names from Database  its upto you how you want to implement.\r\n    }\r\n    \r\n    public StudentList getStudentList(){\r\n    return names;//you need to implement your own methods in StudentList class to iterate your arraylist; or you can return Enumeration object.\r\n    }\r\n    \r\n    public Enumeration getStudentNamesIterator(\r\n    Enumeration e = Collections.enumeration(names);\r\n    return e;\r\n    }\r\n    \r\n    public class StudentList extends ArrayList {\r\n    \r\n    }\r\n\r\n","title":"Make immutable Java object","body":"<p>Making variables private and no setter methods will work for primitive data types. If my class has any collection of objects?</p>\n\n<p>To making any class immutable with collection object?</p>\n\n<p>Write your own collection object with extends collection class and follow the private variables and no setter methods. or return clone object of your collection object.</p>\n\n<pre><code>public final class Student {\n\nprivate StudentList names;//Which is extended from arraylist\n\npublic Student() {\nnames = DAO.getNamesList()//Which will return All Student names from Database  its upto you how you want to implement.\n}\n\npublic StudentList getStudentList(){\nreturn names;//you need to implement your own methods in StudentList class to iterate your arraylist; or you can return Enumeration object.\n}\n\npublic Enumeration getStudentNamesIterator(\nEnumeration e = Collections.enumeration(names);\nreturn e;\n}\n\npublic class StudentList extends ArrayList {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7214282,"reputation":881,"user_id":5507319,"accept_rate":43,"display_name":"Yirga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455961446,"creation_date":1455784379,"answer_id":35476372,"question_id":18194139,"body_markdown":"It is too late to answer but may be it help other peoples who have this question. \r\n\r\n 1. State of immutable object can not be modified after construction, any modification should result in new immutable object.\r\n 2. All fields of Immutable class should be final.\r\n 3. Object must be properly constructed i.e. object reference must not leak during construction process.\r\n 4. Object should be final in order to restrict sub-class for altering immutability of parent class.\r\n\r\nI think this link help more \r\nRead more: http://javarevisited.blogspot.com/2013/03/how-to-create-immutable-class-object-java-example-tutorial.html#ixzz40VDQDDL1","title":"Make immutable Java object","body":"<p>It is too late to answer but may be it help other peoples who have this question. </p>\n\n<ol>\n<li>State of immutable object can not be modified after construction, any modification should result in new immutable object.</li>\n<li>All fields of Immutable class should be final.</li>\n<li>Object must be properly constructed i.e. object reference must not leak during construction process.</li>\n<li>Object should be final in order to restrict sub-class for altering immutability of parent class.</li>\n</ol>\n\n<p>I think this link help more \nRead more: <a href=\"http://javarevisited.blogspot.com/2013/03/how-to-create-immutable-class-object-java-example-tutorial.html#ixzz40VDQDDL1\" rel=\"nofollow\">http://javarevisited.blogspot.com/2013/03/how-to-create-immutable-class-object-java-example-tutorial.html#ixzz40VDQDDL1</a></p>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71911,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633596368,"creation_date":1498110440,"answer_id":44691087,"question_id":18194139,"body_markdown":"&gt; How do you make a mutable object immutable?  \r\n 1. Declare the class as final so it can’t be extended.\r\n 2. Make all fields private so that direct access is not allowed.\r\n 3. Don’t provide setter methods for variables\r\n 4. Make all mutable fields final so that it’s value can be assigned only once.\r\n 5. Initialize all the fields via a constructor performing deep copy.\r\n 6. Perform cloning of objects in the getter methods to return a copy rather than returning the actual object reference.  \r\n\r\n[source][1]\r\n\r\n&gt;Why do we create immutable objects?  \r\n&gt;Immutable objects are simply objects whose state (the object&#39;s data) cannot change after construction.\r\n - **Security**: store sensitive pieces of information like usernames, passwords, connection URLs, network connections etc.\r\n - are simple to construct, test, and use\r\n - are automatically thread-safe and **have no synchronization issues**\r\n - don&#39;t need a copy constructor\r\n - don&#39;t need an implementation of clone\r\n - allow hashCode to use lazy initialization, and to cache its return value\r\n - don&#39;t need to be copied defensively when used as a field\r\n - make good Map keys and Set elements (these objects must not change state while in the collection)\r\n - have their class invariant established once upon construction, and it never needs to be checked again\r\n - always have &quot;failure atomicity&quot; (a term used by Joshua Bloch): if an immutable object throws an exception, it&#39;s never left in an undesirable or indeterminate state\r\n\r\n[Source][2]\r\n\r\nIn Java, Strings are immutable, which provides, such as caching, security, easy reuse without replication, etc.\r\n[Source][3]\r\n\r\n\r\n  [1]: http://www.journaldev.com/129/how-to-create-immutable-class-in-java\r\n  [2]: http://www.javapractices.com/topic/TopicAction.do?Id=29\r\n  [3]: https://www.baeldung.com/java-string-immutable","title":"Make immutable Java object","body":"<blockquote>\n<p>How do you make a mutable object immutable?</p>\n</blockquote>\n<ol>\n<li>Declare the class as final so it can’t be extended.</li>\n<li>Make all fields private so that direct access is not allowed.</li>\n<li>Don’t provide setter methods for variables</li>\n<li>Make all mutable fields final so that it’s value can be assigned only once.</li>\n<li>Initialize all the fields via a constructor performing deep copy.</li>\n<li>Perform cloning of objects in the getter methods to return a copy rather than returning the actual object reference.</li>\n</ol>\n<p><a href=\"http://www.journaldev.com/129/how-to-create-immutable-class-in-java\" rel=\"nofollow noreferrer\">source</a></p>\n<blockquote>\n<p>Why do we create immutable objects?<br />\nImmutable objects are simply objects whose state (the object's data) cannot change after construction.</p>\n</blockquote>\n<ul>\n<li><strong>Security</strong>: store sensitive pieces of information like usernames, passwords, connection URLs, network connections etc.</li>\n<li>are simple to construct, test, and use</li>\n<li>are automatically thread-safe and <strong>have no synchronization issues</strong></li>\n<li>don't need a copy constructor</li>\n<li>don't need an implementation of clone</li>\n<li>allow hashCode to use lazy initialization, and to cache its return value</li>\n<li>don't need to be copied defensively when used as a field</li>\n<li>make good Map keys and Set elements (these objects must not change state while in the collection)</li>\n<li>have their class invariant established once upon construction, and it never needs to be checked again</li>\n<li>always have &quot;failure atomicity&quot; (a term used by Joshua Bloch): if an immutable object throws an exception, it's never left in an undesirable or indeterminate state</li>\n</ul>\n<p><a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=29\" rel=\"nofollow noreferrer\">Source</a></p>\n<p>In Java, Strings are immutable, which provides, such as caching, security, easy reuse without replication, etc.\n<a href=\"https://www.baeldung.com/java-string-immutable\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":1750416,"reputation":25628,"user_id":1599619,"accept_rate":100,"display_name":"Chris Travers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505894982,"creation_date":1505894982,"answer_id":46316641,"question_id":18194139,"body_markdown":"Expanding on the answer a bit.\r\n\r\n`final` is not the same as `Immutable` but you can use `final` to make certain things immutable if you use it in certain ways.\r\n\r\nCertain types are immutable, in that they represent unchanging values rather than objects of changeable state.  Strings, numbers, etc are immutable.  At the end, usually our objects boil down to data structures eventually referencing immutable values, but we change the data structures by assigning new values to the same field names.\r\n\r\nSo to make something truly immutable you need to make sure that final is used all the way down, until you reach every field reaching every value at the base of your composition tree.  Otherwise something could change out from under your the object and it isn&#39;t really fully immutable.","title":"Make immutable Java object","body":"<p>Expanding on the answer a bit.</p>\n\n<p><code>final</code> is not the same as <code>Immutable</code> but you can use <code>final</code> to make certain things immutable if you use it in certain ways.</p>\n\n<p>Certain types are immutable, in that they represent unchanging values rather than objects of changeable state.  Strings, numbers, etc are immutable.  At the end, usually our objects boil down to data structures eventually referencing immutable values, but we change the data structures by assigning new values to the same field names.</p>\n\n<p>So to make something truly immutable you need to make sure that final is used all the way down, until you reach every field reaching every value at the base of your composition tree.  Otherwise something could change out from under your the object and it isn't really fully immutable.</p>\n"},{"tags":[],"owner":{"account_id":7289247,"reputation":1797,"user_id":5556298,"accept_rate":59,"display_name":"YourAboutMeIsBlank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563307546,"creation_date":1563307546,"answer_id":57064700,"question_id":18194139,"body_markdown":"According to [**Strategy for Defining Immutable Objects**][1]\r\n\r\n 1. Don&#39;t provide &quot;`setter`&quot; methods — methods that modify fields or\r\n    objects referred to by fields.\r\n\r\n 2. Make all fields `final` and `private`.\r\n        \r\n 3. Don&#39;t allow subclasses to override methods. The simplest way to do this is to declare the class as `final`. \r\n\r\n \r\n\r\n    ***a. A more sophisticated approach is to make the `constructor` private and construct instances in factory methods.***\r\n\r\n 4. If the instance fields include references to mutable objects, don&#39;t allow those objects to be changed:\r\n \r\n\r\n \r\n\r\n    ***a. Don&#39;t provide methods that modify the mutable objects.***\r\n \r\n\r\n \r\n\r\n    ***b. Don&#39;t share references to the mutable objects. Never store references to external, mutable objects passed to the constructor; if necessary, create copies, and store references to the copies. Similarly, create copies of your internal mutable objects when necessary to avoid returning the originals in your methods.***\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/imstrat.html","title":"Make immutable Java object","body":"<p>According to <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/imstrat.html\" rel=\"nofollow noreferrer\"><strong>Strategy for Defining Immutable Objects</strong></a></p>\n\n<ol>\n<li><p>Don't provide \"<code>setter</code>\" methods — methods that modify fields or\nobjects referred to by fields.</p></li>\n<li><p>Make all fields <code>final</code> and <code>private</code>.</p></li>\n<li><p>Don't allow subclasses to override methods. The simplest way to do this is to declare the class as <code>final</code>. </p>\n\n<p><strong><em>a. A more sophisticated approach is to make the <code>constructor</code> private and construct instances in factory methods.</em></strong></p></li>\n<li><p>If the instance fields include references to mutable objects, don't allow those objects to be changed:</p>\n\n<p><strong><em>a. Don't provide methods that modify the mutable objects.</em></strong></p>\n\n<p><strong><em>b. Don't share references to the mutable objects. Never store references to external, mutable objects passed to the constructor; if necessary, create copies, and store references to the copies. Similarly, create copies of your internal mutable objects when necessary to avoid returning the originals in your methods.</em></strong></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612080576,"creation_date":1612080576,"answer_id":65976956,"question_id":18194139,"body_markdown":"## Java SE 16\r\n\r\nYou can use [JEP 395: Records][1] feature, introduced as part of Java SE 16, to create an immutable class in a succinct manner.\r\n\r\nIf you have already gone through the above link, you must have figured out that you can do it simply as\r\n\r\n    record Student(String name, String age) { }\r\n\r\nWhat you get in turn are:\r\n\r\n 1. A `final class Student`.\r\n 2. A canonical constructor whose signature is the same as the header, `Student(String name, String age)`.\r\n 3. `private final` fields, `name` and `age` and their corresponding `public` accessor method with the same name and return type.\r\n 4. Automatically created `equals`, `hashCode` and `toString` methods.\r\n\r\n### Demo:\r\n\r\n*Student.java*\r\n\r\n    record Student(String name, String age) { }\r\n\r\n*Main.java*\r\n\r\n    class Main{\r\n    \tpublic static void main(String[] args) {\r\n    \t\tStudent s1 = new Student(&quot;Bharat&quot;, &quot;10 Years&quot;);\r\n    \t\tStudent s2 = new Student(&quot;Arvind&quot;, &quot;10 Years&quot;);\r\n    \r\n    \t\tSystem.out.println(s1);\r\n    \t\tSystem.out.println(s1.equals(s2));\r\n    \t\tSystem.out.println(s1.age().equals(s2.age()));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    Student[name=Bharat, age=10 Years]\r\n    false\r\n    true\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/395","title":"Make immutable Java object","body":"<h2>Java SE 16</h2>\n<p>You can use <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">JEP 395: Records</a> feature, introduced as part of Java SE 16, to create an immutable class in a succinct manner.</p>\n<p>If you have already gone through the above link, you must have figured out that you can do it simply as</p>\n<pre><code>record Student(String name, String age) { }\n</code></pre>\n<p>What you get in turn are:</p>\n<ol>\n<li>A <code>final class Student</code>.</li>\n<li>A canonical constructor whose signature is the same as the header, <code>Student(String name, String age)</code>.</li>\n<li><code>private final</code> fields, <code>name</code> and <code>age</code> and their corresponding <code>public</code> accessor method with the same name and return type.</li>\n<li>Automatically created <code>equals</code>, <code>hashCode</code> and <code>toString</code> methods.</li>\n</ol>\n<h3>Demo:</h3>\n<p><em>Student.java</em></p>\n<pre><code>record Student(String name, String age) { }\n</code></pre>\n<p><em>Main.java</em></p>\n<pre><code>class Main{\n    public static void main(String[] args) {\n        Student s1 = new Student(&quot;Bharat&quot;, &quot;10 Years&quot;);\n        Student s2 = new Student(&quot;Arvind&quot;, &quot;10 Years&quot;);\n\n        System.out.println(s1);\n        System.out.println(s1.equals(s2));\n        System.out.println(s1.age().equals(s2.age()));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Student[name=Bharat, age=10 Years]\nfalse\ntrue\n</code></pre>\n"}],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75696,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"accepted_answer_id":18194193,"answer_count":16,"score":71,"last_activity_date":1633596368,"creation_date":1376332388,"question_id":18194139,"body_markdown":"My goal is to make a Java object immutable. I have a class `Student`. I coded it in the following way to achieve immutability:\r\n\r\n    public final class Student {\r\n\r\n    private String name;\r\n    private String age;\r\n\r\n    public Student(String name, String age) {\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getAge() {\r\n        return age;\r\n    }\r\n\r\n    }\r\n\r\nMy question is, what is the best way to achieve immutability for the `Student` class? ","title":"Make immutable Java object","body":"<p>My goal is to make a Java object immutable. I have a class <code>Student</code>. I coded it in the following way to achieve immutability:</p>\n\n<pre><code>public final class Student {\n\nprivate String name;\nprivate String age;\n\npublic Student(String name, String age) {\n    this.name = name;\n    this.age = age;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic String getAge() {\n    return age;\n}\n\n}\n</code></pre>\n\n<p>My question is, what is the best way to achieve immutability for the <code>Student</code> class? </p>\n"},{"tags":["java","pdf","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1633596327,"creation_date":1618661540,"answer_id":67138034,"question_id":67137356,"body_markdown":"I don&#39;t know - am I lucky? It is very often that luckiness in programming points to something completely wrong or misleading. In any case, if someone can still give a hint, my ears are more than open...\r\n\r\nAgain, after looking through the code, I saw the following in PDDocument.save():\r\n\r\n    // subset designated fonts\r\n    for (PDFont font : fontsToSubset)\r\n    {\r\n        font.subset();\r\n    }\r\n\r\nThis is not happening in PDDocument.saveIncremental() which I am using. Just to mess around with the code, I went and did the following just before calling saveIncremental() on my document:\r\n\r\n     _font.subset(); // you can see in the beginning of the question how _font is created\r\n     _font.getCOSObject().setNeedToBeUpdated(true);\r\n     pddoc.saveIncremental(baos);\r\n\r\nBelieve it or not, but the document was saved correctly - at least it appears correct in Acrobat Reader DC and Chrome &amp; Firefox PDF viewers. Note that Unicode codepoints are added to the subset for the font during showText() on appearance content stream.\r\n\r\n**UPDATE 18/04/2021**: as I mentioned in the comments, I got reports from users that started seeing messages like &quot;Cannot extract the embedded font XXXXXX+LiberationSans-Regular from ...&quot;, when they opened the modified PDF files. Strangely enough, I didn&#39;t see these messages during my tests. It turns out that my copy of Acrobat Reader DC was newer than theirs, and specifically with the continuous release version 2021.001.20149 no errors were shown, while with the continuous release version 2020.012.20043 the above message was shown.\r\n\r\nAfter investigations, it turns out that the problem was with the way I was embedding the font. I am not aware if any other way exists, and I am not that familiar with the PDF specification to know otherwise. What I was doing, as you can see from the above code, was to load the font ONCE for the document, and then to use it freely in the resource dictionary of the appearance stream of EVERY annotation. This had as a result all the resource dictionaries of the annotation content streams to reference an F1 font that was defined with the SAME /BaseFont name. The PDF Reference, 3rd ed. on p.323 specifically states that:\r\n\r\n&gt; &quot;... the PostScript name of the font - ... - begins with a tag\r\n&gt; followed by a plus sign (+). The tag consists of exactly six uppercase\r\n&gt; letters; the choice of letters is arbitrary, but different subsets in\r\n&gt; the same PDF file must have different tags...&quot;\r\n\r\nOnce I started to **call PDType0Font.load for each of my annotations** and calling subset() (and of course setNeedToBeUpdated) after creating appearance stream for each of them, I saw that the BaseName attributes started to look indeed differently - and indeed, the older 2020 version of Acrobat Reader DC stopped complaining. \r\n\r\n[edit 07/10/2021: even trying to use a single PDFont object per page (having multiple annotations with this font), and subsetting it once, after having called showText on appearances of all annotations, appears to not work - it appears that the subsetting uses the letters I passed to the first showText, and not the others, resulting in wrong rendering of the 2nd, 3rd etc. annotations that might have characters that didn&#39;t exist in the 1st annotation - so I reiterate that what worked was to use loadFont for **each separate annotation** and then (after modifying appearance with showText, which will mark the letters to be used during subsetting) to call subset() on each of these fonts (which will result in the change of the font name)]\r\n\r\nNote that other than using iText RUPS for inspecting the PDF contents, one could use Foxit PDF viewer to at least ensure that the subset font names are different. Acrobat Reader DC and PDF-xChange in Properties -&gt; Fonts just show the initial font name, like LiberationSans, without showing the 6-letter unique prefix.\r\n\r\n**UPDATE 19/04/2021** I am still working on this issue - because I still get reports about the infamous &quot;Cannot extract the embedded font&quot; message. It is quite possible that the original cause of that message was not (or not only) the fact that the different subsets had same BaseFont names. One thing that I am observing is that on some computers, the stamp annotations that I am using cause Acrobat Reader DC to open automatically the so called &quot;Comments pane&quot; - there are options to turn this automatic thing off (Preferences -&gt; Commenting -&gt; Show comments pane when a PDF with comments is opened). When this pane opens, either manually or automatically, the error message appears (and I was on my wits ends to see why same version of Acrobat Reader DC behaves differently for different machines). I think that Acrobat Reader tries to extract the full version of the font and fails, since it is only a subset. But, I guess, this doesn&#39;t have to do with the semantic contents of the document - the document still passes &quot;qpdf --check&quot;. I am currently trying to find if it is possible to restrict stamps to not allow comments - i.e. some way to disable the comments pane in Acrobat Reader DC, although I have little hope.\r\n\r\n**UPDATE 20/04/2021** opened a new question [here][1]\r\n\r\n  [1]: https://stackoverflow.com/questions/67174320/pdfbox-embedding-subset-font-for-annotations-part-2","title":"pdfbox embedding subset font for annotations","body":"<p>I don't know - am I lucky? It is very often that luckiness in programming points to something completely wrong or misleading. In any case, if someone can still give a hint, my ears are more than open...</p>\n<p>Again, after looking through the code, I saw the following in PDDocument.save():</p>\n<pre><code>// subset designated fonts\nfor (PDFont font : fontsToSubset)\n{\n    font.subset();\n}\n</code></pre>\n<p>This is not happening in PDDocument.saveIncremental() which I am using. Just to mess around with the code, I went and did the following just before calling saveIncremental() on my document:</p>\n<pre><code> _font.subset(); // you can see in the beginning of the question how _font is created\n _font.getCOSObject().setNeedToBeUpdated(true);\n pddoc.saveIncremental(baos);\n</code></pre>\n<p>Believe it or not, but the document was saved correctly - at least it appears correct in Acrobat Reader DC and Chrome &amp; Firefox PDF viewers. Note that Unicode codepoints are added to the subset for the font during showText() on appearance content stream.</p>\n<p><strong>UPDATE 18/04/2021</strong>: as I mentioned in the comments, I got reports from users that started seeing messages like &quot;Cannot extract the embedded font XXXXXX+LiberationSans-Regular from ...&quot;, when they opened the modified PDF files. Strangely enough, I didn't see these messages during my tests. It turns out that my copy of Acrobat Reader DC was newer than theirs, and specifically with the continuous release version 2021.001.20149 no errors were shown, while with the continuous release version 2020.012.20043 the above message was shown.</p>\n<p>After investigations, it turns out that the problem was with the way I was embedding the font. I am not aware if any other way exists, and I am not that familiar with the PDF specification to know otherwise. What I was doing, as you can see from the above code, was to load the font ONCE for the document, and then to use it freely in the resource dictionary of the appearance stream of EVERY annotation. This had as a result all the resource dictionaries of the annotation content streams to reference an F1 font that was defined with the SAME /BaseFont name. The PDF Reference, 3rd ed. on p.323 specifically states that:</p>\n<blockquote>\n<p>&quot;... the PostScript name of the font - ... - begins with a tag\nfollowed by a plus sign (+). The tag consists of exactly six uppercase\nletters; the choice of letters is arbitrary, but different subsets in\nthe same PDF file must have different tags...&quot;</p>\n</blockquote>\n<p>Once I started to <strong>call PDType0Font.load for each of my annotations</strong> and calling subset() (and of course setNeedToBeUpdated) after creating appearance stream for each of them, I saw that the BaseName attributes started to look indeed differently - and indeed, the older 2020 version of Acrobat Reader DC stopped complaining.</p>\n<p>[edit 07/10/2021: even trying to use a single PDFont object per page (having multiple annotations with this font), and subsetting it once, after having called showText on appearances of all annotations, appears to not work - it appears that the subsetting uses the letters I passed to the first showText, and not the others, resulting in wrong rendering of the 2nd, 3rd etc. annotations that might have characters that didn't exist in the 1st annotation - so I reiterate that what worked was to use loadFont for <strong>each separate annotation</strong> and then (after modifying appearance with showText, which will mark the letters to be used during subsetting) to call subset() on each of these fonts (which will result in the change of the font name)]</p>\n<p>Note that other than using iText RUPS for inspecting the PDF contents, one could use Foxit PDF viewer to at least ensure that the subset font names are different. Acrobat Reader DC and PDF-xChange in Properties -&gt; Fonts just show the initial font name, like LiberationSans, without showing the 6-letter unique prefix.</p>\n<p><strong>UPDATE 19/04/2021</strong> I am still working on this issue - because I still get reports about the infamous &quot;Cannot extract the embedded font&quot; message. It is quite possible that the original cause of that message was not (or not only) the fact that the different subsets had same BaseFont names. One thing that I am observing is that on some computers, the stamp annotations that I am using cause Acrobat Reader DC to open automatically the so called &quot;Comments pane&quot; - there are options to turn this automatic thing off (Preferences -&gt; Commenting -&gt; Show comments pane when a PDF with comments is opened). When this pane opens, either manually or automatically, the error message appears (and I was on my wits ends to see why same version of Acrobat Reader DC behaves differently for different machines). I think that Acrobat Reader tries to extract the full version of the font and fails, since it is only a subset. But, I guess, this doesn't have to do with the semantic contents of the document - the document still passes &quot;qpdf --check&quot;. I am currently trying to find if it is possible to restrict stamps to not allow comments - i.e. some way to disable the comments pane in Acrobat Reader DC, although I have little hope.</p>\n<p><strong>UPDATE 20/04/2021</strong> opened a new question <a href=\"https://stackoverflow.com/questions/67174320/pdfbox-embedding-subset-font-for-annotations-part-2\">here</a></p>\n"}],"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1987,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67138034,"answer_count":1,"score":2,"last_activity_date":1633596327,"creation_date":1618656888,"question_id":67137356,"body_markdown":"I am trying to use Apache PDFBOX v2.0.21 to modify existing PDF documents, adding signatures and annotations. That means that I am actively using incremental save mode. I am also embedding LiberationSans font to accommodate some Unicode characters. It makes sense for me to use the subsetting feature of PDF embedded fonts as embedding LiberationSans in full makes the PDF file around 200+ KB more in side.\r\n\r\nAfter multiple trials and errors I finally managed to have something working - all but the font subsetting. The way I do this is to initialize the PDFont object once using \r\n\r\n      try (InputStream fs = PDFService.class.getResourceAsStream(&quot;/static/fonts/LiberationSans-Regular.ttf&quot;)) {\r\n         _font = PDType0Font.load(pddoc, fs, true);\r\n      }\r\n\r\nAnd then to use custom Appearance Stream to show the text.\r\n\r\n       private void addAnnotation(String name, PDDocument doc, PDPage page, float x, float y, String text) throws IOException {\r\n          \r\n          List&lt;PDAnnotation&gt; annotations = page.getAnnotations();\r\n    \r\n          PDAnnotationRubberStamp t = new PDAnnotationRubberStamp();\r\n    \r\n          t.setAnnotationName(name); // might play important role\r\n          t.setPrinted(true); // always visible\r\n          t.setReadOnly(true); // does not interact with user\r\n          t.setContents(text); \r\n          \r\n          PDRectangle rect = ....;\r\n          t.setRectangle(rect);\r\n    \r\n          PDAppearanceDictionary ap = new PDAppearanceDictionary();\r\n          ap.setNormalAppearance(createAppearanceStream(doc, t));\r\n          ap.getCOSObject().setNeedToBeUpdated(true);\r\n          t.setAppearance(ap);\r\n          \r\n          annotations.add(t);\r\n          page.setAnnotations(annotations);\r\n          \r\n          t.getCOSObject().setNeedToBeUpdated(true);\r\n          page.getResources().getCOSObject().setNeedToBeUpdated(true);\r\n          page.getCOSObject().setNeedToBeUpdated(true);\r\n          doc.getDocumentCatalog().getPages().getCOSObject().setNeedToBeUpdated(true);\r\n          doc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);      \r\n       }\r\n       \r\n       private PDAppearanceStream createAppearanceStream(final PDDocument document, PDAnnotation ann) throws IOException\r\n       {\r\n          PDAppearanceStream aps = new PDAppearanceStream(document);\r\n    \t  PDRectangle rect = ann.getRectangle();\r\n    \t  rect = new PDRectangle(0, 0, rect.getWidth(), rect.getHeight());\r\n    \t  aps.setBBox(rect); // set bounding box to the dimensions of the annotation itself\r\n    \t \r\n    \t  // embed our unicode font (NB: yes, this needs to be done otherwise aps.getResources() == null which will cause NPE later during setFont)\r\n    \t  PDResources res = new PDResources();\r\n    \t  _fontName = res.add(_font).getName();\r\n    \t  aps.setResources(res);\r\n    \r\n          PDAppearanceContentStream apsContent = null;\r\n          \r\n          try {\r\n             // draw directly on the XObject&#39;s content stream\r\n             apsContent = new PDAppearanceContentStream(aps);\r\n    \r\n             apsContent.beginText();\r\n             apsContent.setFont(_font, _fontSize);         \r\n             apsContent.showText(ann.getContents());\r\n             apsContent.endText();\r\n          }\r\n          finally {\r\n             if (apsContent != null) {\r\n                try { apsContent.close(); } catch (Exception ex) { log.error(ex.getMessage(), ex); }\r\n             }\r\n          }      \r\n    \r\n          aps.getResources().getCOSObject().setNeedToBeUpdated(true);\r\n          aps.getCOSObject().setNeedToBeUpdated(true);\r\n          return aps;\r\n       }     \r\n\r\nThis code runs, but creates a PDF with dots instead of actual characters, which, I guess, means that the font subset has not been embedded. Moreover, I get the following warnings:\r\n\r\n&gt; 2021-04-17 12:33:31.326  WARN 20820 --- [           main]\r\n&gt; o.a.p.pdmodel.PDAbstractContentStream    : attempting to use subset\r\n&gt; font LiberationSans without proper context\r\n\r\nAfter looking through the source code, I get and I guess that I am messing something up when creating the appearance stream - somehow it&#39;s not connected with the PDDocument and the subsetting does not continue normally. Note that the above code works well when the font is embedded fully (i.e. if I call PDType0Font.load with the last parameter set to false)\r\n\r\nCan anyone think of some hint to give to me? Thank you!","title":"pdfbox embedding subset font for annotations","body":"<p>I am trying to use Apache PDFBOX v2.0.21 to modify existing PDF documents, adding signatures and annotations. That means that I am actively using incremental save mode. I am also embedding LiberationSans font to accommodate some Unicode characters. It makes sense for me to use the subsetting feature of PDF embedded fonts as embedding LiberationSans in full makes the PDF file around 200+ KB more in side.</p>\n<p>After multiple trials and errors I finally managed to have something working - all but the font subsetting. The way I do this is to initialize the PDFont object once using</p>\n<pre><code>  try (InputStream fs = PDFService.class.getResourceAsStream(&quot;/static/fonts/LiberationSans-Regular.ttf&quot;)) {\n     _font = PDType0Font.load(pddoc, fs, true);\n  }\n</code></pre>\n<p>And then to use custom Appearance Stream to show the text.</p>\n<pre><code>   private void addAnnotation(String name, PDDocument doc, PDPage page, float x, float y, String text) throws IOException {\n      \n      List&lt;PDAnnotation&gt; annotations = page.getAnnotations();\n\n      PDAnnotationRubberStamp t = new PDAnnotationRubberStamp();\n\n      t.setAnnotationName(name); // might play important role\n      t.setPrinted(true); // always visible\n      t.setReadOnly(true); // does not interact with user\n      t.setContents(text); \n      \n      PDRectangle rect = ....;\n      t.setRectangle(rect);\n\n      PDAppearanceDictionary ap = new PDAppearanceDictionary();\n      ap.setNormalAppearance(createAppearanceStream(doc, t));\n      ap.getCOSObject().setNeedToBeUpdated(true);\n      t.setAppearance(ap);\n      \n      annotations.add(t);\n      page.setAnnotations(annotations);\n      \n      t.getCOSObject().setNeedToBeUpdated(true);\n      page.getResources().getCOSObject().setNeedToBeUpdated(true);\n      page.getCOSObject().setNeedToBeUpdated(true);\n      doc.getDocumentCatalog().getPages().getCOSObject().setNeedToBeUpdated(true);\n      doc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);      \n   }\n   \n   private PDAppearanceStream createAppearanceStream(final PDDocument document, PDAnnotation ann) throws IOException\n   {\n      PDAppearanceStream aps = new PDAppearanceStream(document);\n      PDRectangle rect = ann.getRectangle();\n      rect = new PDRectangle(0, 0, rect.getWidth(), rect.getHeight());\n      aps.setBBox(rect); // set bounding box to the dimensions of the annotation itself\n     \n      // embed our unicode font (NB: yes, this needs to be done otherwise aps.getResources() == null which will cause NPE later during setFont)\n      PDResources res = new PDResources();\n      _fontName = res.add(_font).getName();\n      aps.setResources(res);\n\n      PDAppearanceContentStream apsContent = null;\n      \n      try {\n         // draw directly on the XObject's content stream\n         apsContent = new PDAppearanceContentStream(aps);\n\n         apsContent.beginText();\n         apsContent.setFont(_font, _fontSize);         \n         apsContent.showText(ann.getContents());\n         apsContent.endText();\n      }\n      finally {\n         if (apsContent != null) {\n            try { apsContent.close(); } catch (Exception ex) { log.error(ex.getMessage(), ex); }\n         }\n      }      \n\n      aps.getResources().getCOSObject().setNeedToBeUpdated(true);\n      aps.getCOSObject().setNeedToBeUpdated(true);\n      return aps;\n   }     \n</code></pre>\n<p>This code runs, but creates a PDF with dots instead of actual characters, which, I guess, means that the font subset has not been embedded. Moreover, I get the following warnings:</p>\n<blockquote>\n<p>2021-04-17 12:33:31.326  WARN 20820 --- [           main]\no.a.p.pdmodel.PDAbstractContentStream    : attempting to use subset\nfont LiberationSans without proper context</p>\n</blockquote>\n<p>After looking through the source code, I get and I guess that I am messing something up when creating the appearance stream - somehow it's not connected with the PDDocument and the subsetting does not continue normally. Note that the above code works well when the font is embedded fully (i.e. if I call PDType0Font.load with the last parameter set to false)</p>\n<p>Can anyone think of some hint to give to me? Thank you!</p>\n"},{"tags":["java","kotlin","applicationcontext","context-configuration"],"owner":{"account_id":12679297,"reputation":746,"user_id":9819649,"display_name":"Lucas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1633596263,"creation_date":1633596263,"question_id":69478076,"body_markdown":"I have been struggling to start an application context during tests so I can inject bean at run-time but it seems I can&#39;t get the ApplicationContext wired here is what I am trying\r\n\r\n```kotlin\r\n  package com.wayfair.samworkgroupsservice.adapter\r\n\r\nimport io.r2dbc.mssql.MssqlConnectionConfiguration\r\nimport io.r2dbc.mssql.MssqlConnectionFactory\r\nimport org.springframework.beans.factory.annotation.Autowired\r\nimport org.springframework.beans.factory.config.ConstructorArgumentValues\r\nimport org.springframework.beans.factory.support.BeanDefinitionRegistry\r\nimport org.springframework.beans.factory.support.GenericBeanDefinition\r\nimport org.springframework.context.ApplicationContext\r\nimport org.springframework.context.annotation.Configuration\r\nimport org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy\r\nimport org.springframework.data.r2dbc.core.R2dbcEntityTemplate\r\nimport org.springframework.data.r2dbc.dialect.SqlServerDialect\r\nimport org.springframework.r2dbc.core.DatabaseClient\r\nimport org.springframework.test.context.ContextConfiguration\r\n\r\n@Configuration\r\n@ContextConfiguration(&quot;classpath:/testContext.xml&quot;)\r\nclass TemplateFactory {\r\n    @Autowired\r\n    lateinit var applicationContext: ApplicationContext\r\n\r\n    private val beanFactory: BeanDefinitionRegistry =\r\n        applicationContext.autowireCapableBeanFactory as BeanDefinitionRegistry\r\n\r\n    fun registerTemplateBean(host: String, port: Int) {\r\n        val beanDefinition = GenericBeanDefinition()\r\n        beanDefinition.beanClass = R2dbcEntityTemplate::class.java\r\n        val args = ConstructorArgumentValues()\r\n        args.addIndexedArgumentValue(\r\n            0,\r\n            DatabaseClient.builder()\r\n                .connectionFactory(connectionFactory(host, port))\r\n                .bindMarkers(SqlServerDialect.INSTANCE.bindMarkersFactory)\r\n                .build()\r\n        )\r\n        args.addIndexedArgumentValue(1, DefaultReactiveDataAccessStrategy(SqlServerDialect.INSTANCE))\r\n\r\n        beanDefinition.constructorArgumentValues = args\r\n        beanFactory.registerBeanDefinition(&quot;R2dbcEntityTemplate&quot;, beanDefinition)\r\n    }\r\n\r\n//    fun entityTemplate(host: String = &quot;localhost&quot;, port: Int = 1435) =\r\n//        R2dbcEntityTemplate(\r\n//            DatabaseClient.builder()\r\n//                .connectionFactory(connectionFactory(host, port))\r\n//                .bindMarkers(SqlServerDialect.INSTANCE.bindMarkersFactory)\r\n//                .build(),\r\n//            DefaultReactiveDataAccessStrategy(SqlServerDialect.INSTANCE)\r\n//        )\r\n\r\n    private fun connectionFactory(host: String, port: Int) =\r\n        MssqlConnectionFactory(\r\n            MssqlConnectionConfiguration.builder()\r\n                .host(host)\r\n                .port(port)\r\n                .username(&quot;sa&quot;)\r\n                .password(&quot;Password123@#?&quot;)\r\n                .build()\r\n        )\r\n}\r\n```\r\n\r\nhere is my `testContext.xml` (it is empty for now because I want to inject beans at run time):\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd&quot;&gt;\r\n    \r\n&lt;/beans&gt;\r\n```\r\n\r\nDoes anyone know why I get the following error?\r\n\r\n```\r\nlateinit property applicationContext has not been initialized\r\nkotlin.UninitializedPropertyAccessException: lateinit property applicationContext has not been initialized\r\n```\r\n\r\nThank you in advance )\r\n","title":"How to create an ApplicationContext for tests in kotlin?","body":"<p>I have been struggling to start an application context during tests so I can inject bean at run-time but it seems I can't get the ApplicationContext wired here is what I am trying</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>  package com.wayfair.samworkgroupsservice.adapter\n\nimport io.r2dbc.mssql.MssqlConnectionConfiguration\nimport io.r2dbc.mssql.MssqlConnectionFactory\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.beans.factory.config.ConstructorArgumentValues\nimport org.springframework.beans.factory.support.BeanDefinitionRegistry\nimport org.springframework.beans.factory.support.GenericBeanDefinition\nimport org.springframework.context.ApplicationContext\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy\nimport org.springframework.data.r2dbc.core.R2dbcEntityTemplate\nimport org.springframework.data.r2dbc.dialect.SqlServerDialect\nimport org.springframework.r2dbc.core.DatabaseClient\nimport org.springframework.test.context.ContextConfiguration\n\n@Configuration\n@ContextConfiguration(&quot;classpath:/testContext.xml&quot;)\nclass TemplateFactory {\n    @Autowired\n    lateinit var applicationContext: ApplicationContext\n\n    private val beanFactory: BeanDefinitionRegistry =\n        applicationContext.autowireCapableBeanFactory as BeanDefinitionRegistry\n\n    fun registerTemplateBean(host: String, port: Int) {\n        val beanDefinition = GenericBeanDefinition()\n        beanDefinition.beanClass = R2dbcEntityTemplate::class.java\n        val args = ConstructorArgumentValues()\n        args.addIndexedArgumentValue(\n            0,\n            DatabaseClient.builder()\n                .connectionFactory(connectionFactory(host, port))\n                .bindMarkers(SqlServerDialect.INSTANCE.bindMarkersFactory)\n                .build()\n        )\n        args.addIndexedArgumentValue(1, DefaultReactiveDataAccessStrategy(SqlServerDialect.INSTANCE))\n\n        beanDefinition.constructorArgumentValues = args\n        beanFactory.registerBeanDefinition(&quot;R2dbcEntityTemplate&quot;, beanDefinition)\n    }\n\n//    fun entityTemplate(host: String = &quot;localhost&quot;, port: Int = 1435) =\n//        R2dbcEntityTemplate(\n//            DatabaseClient.builder()\n//                .connectionFactory(connectionFactory(host, port))\n//                .bindMarkers(SqlServerDialect.INSTANCE.bindMarkersFactory)\n//                .build(),\n//            DefaultReactiveDataAccessStrategy(SqlServerDialect.INSTANCE)\n//        )\n\n    private fun connectionFactory(host: String, port: Int) =\n        MssqlConnectionFactory(\n            MssqlConnectionConfiguration.builder()\n                .host(host)\n                .port(port)\n                .username(&quot;sa&quot;)\n                .password(&quot;Password123@#?&quot;)\n                .build()\n        )\n}\n</code></pre>\n<p>here is my <code>testContext.xml</code> (it is empty for now because I want to inject beans at run time):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd&quot;&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>Does anyone know why I get the following error?</p>\n<pre><code>lateinit property applicationContext has not been initialized\nkotlin.UninitializedPropertyAccessException: lateinit property applicationContext has not been initialized\n</code></pre>\n<p>Thank you in advance )</p>\n"},{"tags":["java","concurrency","css-selectors","countdownlatch","cyclicbarrier"],"comments":[{"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"score":0,"creation_date":1309953591,"post_id":6595835,"comment_id":7781752,"body_markdown":"This answer may help you http://stackoverflow.com/questions/4168772/java-concurrency-countdown-latch-vs-cyclic-barrier","body":"This answer may help you <a href=\"http://stackoverflow.com/questions/4168772/java-concurrency-countdown-latch-vs-cyclic-barrier\" title=\"java concurrency countdown latch vs cyclic barrier\">stackoverflow.com/questions/4168772/&hellip;</a>"},{"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"score":2,"creation_date":1309954554,"post_id":6595835,"comment_id":7782037,"body_markdown":"Not sure. I&#39;m in the same situation as Kim&#39;s answer on that question.","body":"Not sure. I&#39;m in the same situation as Kim&#39;s answer on that question."}],"answers":[{"tags":[],"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1426010384,"creation_date":1309957881,"answer_id":6596922,"question_id":6595835,"body_markdown":"I copied `CountDownLatch` and implemented a `reset()` method that resets the internal `Sync` class to its initial state (starting count) :) Appears to work fine. No more unnecessary object creation \\o/ It was not possible to subclass because `sync` was private. Boo.\r\n\r\n    import java.util.concurrent.CyclicBarrier;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.concurrent.locks.AbstractQueuedSynchronizer;\r\n    \r\n    /**\r\n     * A synchronization aid that allows one or more threads to wait until\r\n     * a set of operations being performed in other threads completes.\r\n     *\r\n     * &lt;p&gt;A {@code CountDownLatch} is initialized with a given &lt;em&gt;count&lt;/em&gt;.\r\n     * The {@link #await await} methods block until the current count reaches\r\n     * zero due to invocations of the {@link #countDown} method, after which\r\n     * all waiting threads are released and any subsequent invocations of\r\n     * {@link #await await} return immediately.  This is a one-shot phenomenon\r\n     * -- the count cannot be reset.  If you need a version that resets the\r\n     * count, consider using a {@link CyclicBarrier}.\r\n     *\r\n     * &lt;p&gt;A {@code CountDownLatch} is a versatile synchronization tool\r\n     * and can be used for a number of purposes.  A\r\n     * {@code CountDownLatch} initialized with a count of one serves as a\r\n     * simple on/off latch, or gate: all threads invoking {@link #await await}\r\n     * wait at the gate until it is opened by a thread invoking {@link\r\n     * #countDown}.  A {@code CountDownLatch} initialized to &lt;em&gt;N&lt;/em&gt;\r\n     * can be used to make one thread wait until &lt;em&gt;N&lt;/em&gt; threads have\r\n     * completed some action, or some action has been completed N times.\r\n     *\r\n     * &lt;p&gt;A useful property of a {@code CountDownLatch} is that it\r\n     * doesn&#39;t require that threads calling {@code countDown} wait for\r\n     * the count to reach zero before proceeding, it simply prevents any\r\n     * thread from proceeding past an {@link #await await} until all\r\n     * threads could pass.\r\n     *\r\n     * &lt;p&gt;&lt;b&gt;Sample usage:&lt;/b&gt; Here is a pair of classes in which a group\r\n     * of worker threads use two countdown latches:\r\n     * &lt;ul&gt;\r\n     * &lt;li&gt;The first is a start signal that prevents any worker from proceeding\r\n     * until the driver is ready for them to proceed;\r\n     * &lt;li&gt;The second is a completion signal that allows the driver to wait\r\n     * until all workers have completed.\r\n     * &lt;/ul&gt;\r\n     *\r\n     * &lt;pre&gt;\r\n     * class Driver { // ...\r\n     *   void main() throws InterruptedException {\r\n     *     CountDownLatch startSignal = new CountDownLatch(1);\r\n     *     CountDownLatch doneSignal = new CountDownLatch(N);\r\n     *\r\n     *     for (int i = 0; i &lt; N; ++i) // create and start threads\r\n     *       new Thread(new Worker(startSignal, doneSignal)).start();\r\n     *\r\n     *     doSomethingElse();            // don&#39;t let run yet\r\n     *     startSignal.countDown();      // let all threads proceed\r\n     *     doSomethingElse();\r\n     *     doneSignal.await();           // wait for all to finish\r\n     *   }\r\n     * }\r\n     *\r\n     * class Worker implements Runnable {\r\n     *   private final CountDownLatch startSignal;\r\n     *   private final CountDownLatch doneSignal;\r\n     *   Worker(CountDownLatch startSignal, CountDownLatch doneSignal) {\r\n     *      this.startSignal = startSignal;\r\n     *      this.doneSignal = doneSignal;\r\n     *   }\r\n     *   public void run() {\r\n     *      try {\r\n     *        startSignal.await();\r\n     *        doWork();\r\n     *        doneSignal.countDown();\r\n     *      } catch (InterruptedException ex) {} // return;\r\n     *   }\r\n     *\r\n     *   void doWork() { ... }\r\n     * }\r\n     *\r\n     * &lt;/pre&gt;\r\n     *\r\n     * &lt;p&gt;Another typical usage would be to divide a problem into N parts,\r\n     * describe each part with a Runnable that executes that portion and\r\n     * counts down on the latch, and queue all the Runnables to an\r\n     * Executor.  When all sub-parts are complete, the coordinating thread\r\n     * will be able to pass through await. (When threads must repeatedly\r\n     * count down in this way, instead use a {@link CyclicBarrier}.)\r\n     *\r\n     * &lt;pre&gt;\r\n     * class Driver2 { // ...\r\n     *   void main() throws InterruptedException {\r\n     *     CountDownLatch doneSignal = new CountDownLatch(N);\r\n     *     Executor e = ...\r\n     *\r\n     *     for (int i = 0; i &lt; N; ++i) // create and start threads\r\n     *       e.execute(new WorkerRunnable(doneSignal, i));\r\n     *\r\n     *     doneSignal.await();           // wait for all to finish\r\n     *   }\r\n     * }\r\n     *\r\n     * class WorkerRunnable implements Runnable {\r\n     *   private final CountDownLatch doneSignal;\r\n     *   private final int i;\r\n     *   WorkerRunnable(CountDownLatch doneSignal, int i) {\r\n     *      this.doneSignal = doneSignal;\r\n     *      this.i = i;\r\n     *   }\r\n     *   public void run() {\r\n     *      try {\r\n     *        doWork(i);\r\n     *        doneSignal.countDown();\r\n     *      } catch (InterruptedException ex) {} // return;\r\n     *   }\r\n     *\r\n     *   void doWork() { ... }\r\n     * }\r\n     *\r\n     * &lt;/pre&gt;\r\n     *\r\n     * &lt;p&gt;Memory consistency effects: Actions in a thread prior to calling\r\n     * {@code countDown()}\r\n     * &lt;a href=&quot;package-summary.html#MemoryVisibility&quot;&gt;&lt;i&gt;happen-before&lt;/i&gt;&lt;/a&gt;\r\n     * actions following a successful return from a corresponding\r\n     * {@code await()} in another thread.\r\n     *\r\n     * @since 1.5\r\n     * @author Doug Lea\r\n     */\r\n    public class ResettableCountDownLatch {\r\n        /**\r\n         * Synchronization control For CountDownLatch.\r\n         * Uses AQS state to represent count.\r\n         */\r\n        private static final class Sync extends AbstractQueuedSynchronizer {\r\n            private static final long serialVersionUID = 4982264981922014374L;\r\n    \r\n            public final int startCount;\r\n    \r\n            Sync(int count) {\r\n            \tthis.startCount = count;\r\n                setState(startCount);\r\n            }\r\n    \r\n            int getCount() {\r\n                return getState();\r\n            }\r\n    \r\n            public int tryAcquireShared(int acquires) {\r\n                return getState() == 0? 1 : -1;\r\n            }\r\n    \r\n            public boolean tryReleaseShared(int releases) {\r\n                // Decrement count; signal when transition to zero\r\n                for (;;) {\r\n                    int c = getState();\r\n                    if (c == 0)\r\n                        return false;\r\n                    int nextc = c-1;\r\n                    if (compareAndSetState(c, nextc))\r\n                        return nextc == 0;\r\n                }\r\n            }\r\n    \r\n            public void reset() {\r\n            \t setState(startCount);\r\n            }\r\n        }\r\n    \r\n        private final Sync sync;\r\n    \r\n        /**\r\n         * Constructs a {@code CountDownLatch} initialized with the given count.\r\n         *\r\n         * @param count the number of times {@link #countDown} must be invoked\r\n         *        before threads can pass through {@link #await}\r\n         * @throws IllegalArgumentException if {@code count} is negative\r\n         */\r\n        public ResettableCountDownLatch(int count) {\r\n            if (count &lt; 0) throw new IllegalArgumentException(&quot;count &lt; 0&quot;);\r\n            this.sync = new Sync(count);\r\n        }\r\n    \r\n        /**\r\n         * Causes the current thread to wait until the latch has counted down to\r\n         * zero, unless the thread is {@linkplain Thread#interrupt interrupted}.\r\n         *\r\n         * &lt;p&gt;If the current count is zero then this method returns immediately.\r\n         *\r\n         * &lt;p&gt;If the current count is greater than zero then the current\r\n         * thread becomes disabled for thread scheduling purposes and lies\r\n         * dormant until one of two things happen:\r\n         * &lt;ul&gt;\r\n         * &lt;li&gt;The count reaches zero due to invocations of the\r\n         * {@link #countDown} method; or\r\n         * &lt;li&gt;Some other thread {@linkplain Thread#interrupt interrupts}\r\n         * the current thread.\r\n         * &lt;/ul&gt;\r\n         *\r\n         * &lt;p&gt;If the current thread:\r\n         * &lt;ul&gt;\r\n         * &lt;li&gt;has its interrupted status set on entry to this method; or\r\n         * &lt;li&gt;is {@linkplain Thread#interrupt interrupted} while waiting,\r\n         * &lt;/ul&gt;\r\n         * then {@link InterruptedException} is thrown and the current thread&#39;s\r\n         * interrupted status is cleared.\r\n         *\r\n         * @throws InterruptedException if the current thread is interrupted\r\n         *         while waiting\r\n         */\r\n        public void await() throws InterruptedException {\r\n            sync.acquireSharedInterruptibly(1);\r\n        }\r\n    \r\n        public void reset() {\r\n        \tsync.reset();\r\n        }\r\n    \r\n        /**\r\n         * Causes the current thread to wait until the latch has counted down to\r\n         * zero, unless the thread is {@linkplain Thread#interrupt interrupted},\r\n         * or the specified waiting time elapses.\r\n         *\r\n         * &lt;p&gt;If the current count is zero then this method returns immediately\r\n         * with the value {@code true}.\r\n         *\r\n         * &lt;p&gt;If the current count is greater than zero then the current\r\n         * thread becomes disabled for thread scheduling purposes and lies\r\n         * dormant until one of three things happen:\r\n         * &lt;ul&gt;\r\n         * &lt;li&gt;The count reaches zero due to invocations of the\r\n         * {@link #countDown} method; or\r\n         * &lt;li&gt;Some other thread {@linkplain Thread#interrupt interrupts}\r\n         * the current thread; or\r\n         * &lt;li&gt;The specified waiting time elapses.\r\n         * &lt;/ul&gt;\r\n         *\r\n         * &lt;p&gt;If the count reaches zero then the method returns with the\r\n         * value {@code true}.\r\n         *\r\n         * &lt;p&gt;If the current thread:\r\n         * &lt;ul&gt;\r\n         * &lt;li&gt;has its interrupted status set on entry to this method; or\r\n         * &lt;li&gt;is {@linkplain Thread#interrupt interrupted} while waiting,\r\n         * &lt;/ul&gt;\r\n         * then {@link InterruptedException} is thrown and the current thread&#39;s\r\n         * interrupted status is cleared.\r\n         *\r\n         * &lt;p&gt;If the specified waiting time elapses then the value {@code false}\r\n         * is returned.  If the time is less than or equal to zero, the method\r\n         * will not wait at all.\r\n         *\r\n         * @param timeout the maximum time to wait\r\n         * @param unit the time unit of the {@code timeout} argument\r\n         * @return {@code true} if the count reached zero and {@code false}\r\n         *         if the waiting time elapsed before the count reached zero\r\n         * @throws InterruptedException if the current thread is interrupted\r\n         *         while waiting\r\n         */\r\n        public boolean await(long timeout, TimeUnit unit)\r\n            throws InterruptedException {\r\n            return sync.tryAcquireSharedNanos(1, unit.toNanos(timeout));\r\n        }\r\n    \r\n        /**\r\n         * Decrements the count of the latch, releasing all waiting threads if\r\n         * the count reaches zero.\r\n         *\r\n         * &lt;p&gt;If the current count is greater than zero then it is decremented.\r\n         * If the new count is zero then all waiting threads are re-enabled for\r\n         * thread scheduling purposes.\r\n         *\r\n         * &lt;p&gt;If the current count equals zero then nothing happens.\r\n         */\r\n        public void countDown() {\r\n            sync.releaseShared(1);\r\n        }\r\n    \r\n        /**\r\n         * Returns the current count.\r\n         *\r\n         * &lt;p&gt;This method is typically used for debugging and testing purposes.\r\n         *\r\n         * @return the current count\r\n         */\r\n        public long getCount() {\r\n            return sync.getCount();\r\n        }\r\n    \r\n        /**\r\n         * Returns a string identifying this latch, as well as its state.\r\n         * The state, in brackets, includes the String {@code &quot;Count =&quot;}\r\n         * followed by the current count.\r\n         *\r\n         * @return a string identifying this latch, as well as its state\r\n         */\r\n        public String toString() {\r\n            return super.toString() + &quot;[Count = &quot; + sync.getCount() + &quot;]&quot;;\r\n        }\r\n    }\r\n\r\n","title":"Resettable CountdownLatch","body":"<p>I copied <code>CountDownLatch</code> and implemented a <code>reset()</code> method that resets the internal <code>Sync</code> class to its initial state (starting count) :) Appears to work fine. No more unnecessary object creation \\o/ It was not possible to subclass because <code>sync</code> was private. Boo.</p>\n\n<pre><code>import java.util.concurrent.CyclicBarrier;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.locks.AbstractQueuedSynchronizer;\n\n/**\n * A synchronization aid that allows one or more threads to wait until\n * a set of operations being performed in other threads completes.\n *\n * &lt;p&gt;A {@code CountDownLatch} is initialized with a given &lt;em&gt;count&lt;/em&gt;.\n * The {@link #await await} methods block until the current count reaches\n * zero due to invocations of the {@link #countDown} method, after which\n * all waiting threads are released and any subsequent invocations of\n * {@link #await await} return immediately.  This is a one-shot phenomenon\n * -- the count cannot be reset.  If you need a version that resets the\n * count, consider using a {@link CyclicBarrier}.\n *\n * &lt;p&gt;A {@code CountDownLatch} is a versatile synchronization tool\n * and can be used for a number of purposes.  A\n * {@code CountDownLatch} initialized with a count of one serves as a\n * simple on/off latch, or gate: all threads invoking {@link #await await}\n * wait at the gate until it is opened by a thread invoking {@link\n * #countDown}.  A {@code CountDownLatch} initialized to &lt;em&gt;N&lt;/em&gt;\n * can be used to make one thread wait until &lt;em&gt;N&lt;/em&gt; threads have\n * completed some action, or some action has been completed N times.\n *\n * &lt;p&gt;A useful property of a {@code CountDownLatch} is that it\n * doesn't require that threads calling {@code countDown} wait for\n * the count to reach zero before proceeding, it simply prevents any\n * thread from proceeding past an {@link #await await} until all\n * threads could pass.\n *\n * &lt;p&gt;&lt;b&gt;Sample usage:&lt;/b&gt; Here is a pair of classes in which a group\n * of worker threads use two countdown latches:\n * &lt;ul&gt;\n * &lt;li&gt;The first is a start signal that prevents any worker from proceeding\n * until the driver is ready for them to proceed;\n * &lt;li&gt;The second is a completion signal that allows the driver to wait\n * until all workers have completed.\n * &lt;/ul&gt;\n *\n * &lt;pre&gt;\n * class Driver { // ...\n *   void main() throws InterruptedException {\n *     CountDownLatch startSignal = new CountDownLatch(1);\n *     CountDownLatch doneSignal = new CountDownLatch(N);\n *\n *     for (int i = 0; i &lt; N; ++i) // create and start threads\n *       new Thread(new Worker(startSignal, doneSignal)).start();\n *\n *     doSomethingElse();            // don't let run yet\n *     startSignal.countDown();      // let all threads proceed\n *     doSomethingElse();\n *     doneSignal.await();           // wait for all to finish\n *   }\n * }\n *\n * class Worker implements Runnable {\n *   private final CountDownLatch startSignal;\n *   private final CountDownLatch doneSignal;\n *   Worker(CountDownLatch startSignal, CountDownLatch doneSignal) {\n *      this.startSignal = startSignal;\n *      this.doneSignal = doneSignal;\n *   }\n *   public void run() {\n *      try {\n *        startSignal.await();\n *        doWork();\n *        doneSignal.countDown();\n *      } catch (InterruptedException ex) {} // return;\n *   }\n *\n *   void doWork() { ... }\n * }\n *\n * &lt;/pre&gt;\n *\n * &lt;p&gt;Another typical usage would be to divide a problem into N parts,\n * describe each part with a Runnable that executes that portion and\n * counts down on the latch, and queue all the Runnables to an\n * Executor.  When all sub-parts are complete, the coordinating thread\n * will be able to pass through await. (When threads must repeatedly\n * count down in this way, instead use a {@link CyclicBarrier}.)\n *\n * &lt;pre&gt;\n * class Driver2 { // ...\n *   void main() throws InterruptedException {\n *     CountDownLatch doneSignal = new CountDownLatch(N);\n *     Executor e = ...\n *\n *     for (int i = 0; i &lt; N; ++i) // create and start threads\n *       e.execute(new WorkerRunnable(doneSignal, i));\n *\n *     doneSignal.await();           // wait for all to finish\n *   }\n * }\n *\n * class WorkerRunnable implements Runnable {\n *   private final CountDownLatch doneSignal;\n *   private final int i;\n *   WorkerRunnable(CountDownLatch doneSignal, int i) {\n *      this.doneSignal = doneSignal;\n *      this.i = i;\n *   }\n *   public void run() {\n *      try {\n *        doWork(i);\n *        doneSignal.countDown();\n *      } catch (InterruptedException ex) {} // return;\n *   }\n *\n *   void doWork() { ... }\n * }\n *\n * &lt;/pre&gt;\n *\n * &lt;p&gt;Memory consistency effects: Actions in a thread prior to calling\n * {@code countDown()}\n * &lt;a href=\"package-summary.html#MemoryVisibility\"&gt;&lt;i&gt;happen-before&lt;/i&gt;&lt;/a&gt;\n * actions following a successful return from a corresponding\n * {@code await()} in another thread.\n *\n * @since 1.5\n * @author Doug Lea\n */\npublic class ResettableCountDownLatch {\n    /**\n     * Synchronization control For CountDownLatch.\n     * Uses AQS state to represent count.\n     */\n    private static final class Sync extends AbstractQueuedSynchronizer {\n        private static final long serialVersionUID = 4982264981922014374L;\n\n        public final int startCount;\n\n        Sync(int count) {\n            this.startCount = count;\n            setState(startCount);\n        }\n\n        int getCount() {\n            return getState();\n        }\n\n        public int tryAcquireShared(int acquires) {\n            return getState() == 0? 1 : -1;\n        }\n\n        public boolean tryReleaseShared(int releases) {\n            // Decrement count; signal when transition to zero\n            for (;;) {\n                int c = getState();\n                if (c == 0)\n                    return false;\n                int nextc = c-1;\n                if (compareAndSetState(c, nextc))\n                    return nextc == 0;\n            }\n        }\n\n        public void reset() {\n             setState(startCount);\n        }\n    }\n\n    private final Sync sync;\n\n    /**\n     * Constructs a {@code CountDownLatch} initialized with the given count.\n     *\n     * @param count the number of times {@link #countDown} must be invoked\n     *        before threads can pass through {@link #await}\n     * @throws IllegalArgumentException if {@code count} is negative\n     */\n    public ResettableCountDownLatch(int count) {\n        if (count &lt; 0) throw new IllegalArgumentException(\"count &lt; 0\");\n        this.sync = new Sync(count);\n    }\n\n    /**\n     * Causes the current thread to wait until the latch has counted down to\n     * zero, unless the thread is {@linkplain Thread#interrupt interrupted}.\n     *\n     * &lt;p&gt;If the current count is zero then this method returns immediately.\n     *\n     * &lt;p&gt;If the current count is greater than zero then the current\n     * thread becomes disabled for thread scheduling purposes and lies\n     * dormant until one of two things happen:\n     * &lt;ul&gt;\n     * &lt;li&gt;The count reaches zero due to invocations of the\n     * {@link #countDown} method; or\n     * &lt;li&gt;Some other thread {@linkplain Thread#interrupt interrupts}\n     * the current thread.\n     * &lt;/ul&gt;\n     *\n     * &lt;p&gt;If the current thread:\n     * &lt;ul&gt;\n     * &lt;li&gt;has its interrupted status set on entry to this method; or\n     * &lt;li&gt;is {@linkplain Thread#interrupt interrupted} while waiting,\n     * &lt;/ul&gt;\n     * then {@link InterruptedException} is thrown and the current thread's\n     * interrupted status is cleared.\n     *\n     * @throws InterruptedException if the current thread is interrupted\n     *         while waiting\n     */\n    public void await() throws InterruptedException {\n        sync.acquireSharedInterruptibly(1);\n    }\n\n    public void reset() {\n        sync.reset();\n    }\n\n    /**\n     * Causes the current thread to wait until the latch has counted down to\n     * zero, unless the thread is {@linkplain Thread#interrupt interrupted},\n     * or the specified waiting time elapses.\n     *\n     * &lt;p&gt;If the current count is zero then this method returns immediately\n     * with the value {@code true}.\n     *\n     * &lt;p&gt;If the current count is greater than zero then the current\n     * thread becomes disabled for thread scheduling purposes and lies\n     * dormant until one of three things happen:\n     * &lt;ul&gt;\n     * &lt;li&gt;The count reaches zero due to invocations of the\n     * {@link #countDown} method; or\n     * &lt;li&gt;Some other thread {@linkplain Thread#interrupt interrupts}\n     * the current thread; or\n     * &lt;li&gt;The specified waiting time elapses.\n     * &lt;/ul&gt;\n     *\n     * &lt;p&gt;If the count reaches zero then the method returns with the\n     * value {@code true}.\n     *\n     * &lt;p&gt;If the current thread:\n     * &lt;ul&gt;\n     * &lt;li&gt;has its interrupted status set on entry to this method; or\n     * &lt;li&gt;is {@linkplain Thread#interrupt interrupted} while waiting,\n     * &lt;/ul&gt;\n     * then {@link InterruptedException} is thrown and the current thread's\n     * interrupted status is cleared.\n     *\n     * &lt;p&gt;If the specified waiting time elapses then the value {@code false}\n     * is returned.  If the time is less than or equal to zero, the method\n     * will not wait at all.\n     *\n     * @param timeout the maximum time to wait\n     * @param unit the time unit of the {@code timeout} argument\n     * @return {@code true} if the count reached zero and {@code false}\n     *         if the waiting time elapsed before the count reached zero\n     * @throws InterruptedException if the current thread is interrupted\n     *         while waiting\n     */\n    public boolean await(long timeout, TimeUnit unit)\n        throws InterruptedException {\n        return sync.tryAcquireSharedNanos(1, unit.toNanos(timeout));\n    }\n\n    /**\n     * Decrements the count of the latch, releasing all waiting threads if\n     * the count reaches zero.\n     *\n     * &lt;p&gt;If the current count is greater than zero then it is decremented.\n     * If the new count is zero then all waiting threads are re-enabled for\n     * thread scheduling purposes.\n     *\n     * &lt;p&gt;If the current count equals zero then nothing happens.\n     */\n    public void countDown() {\n        sync.releaseShared(1);\n    }\n\n    /**\n     * Returns the current count.\n     *\n     * &lt;p&gt;This method is typically used for debugging and testing purposes.\n     *\n     * @return the current count\n     */\n    public long getCount() {\n        return sync.getCount();\n    }\n\n    /**\n     * Returns a string identifying this latch, as well as its state.\n     * The state, in brackets, includes the String {@code \"Count =\"}\n     * followed by the current count.\n     *\n     * @return a string identifying this latch, as well as its state\n     */\n    public String toString() {\n        return super.toString() + \"[Count = \" + sync.getCount() + \"]\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":57373,"reputation":7137,"user_id":171846,"accept_rate":71,"display_name":"Fidel"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1439444775,"creation_date":1439398847,"answer_id":31971303,"question_id":6595835,"body_markdown":"Another drop-in replacement\r\n\r\n    import java.util.concurrent.CountDownLatch;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class ResettableCountDownLatch {\r\n    \tint mInitialCount;\r\n    \tCountDownLatch mLatch;\r\n    \t\r\n    \tpublic ResettableCountDownLatch(int  count) {\r\n    \t\tmInitialCount = count;\r\n    \t\tmLatch = new CountDownLatch(count);\r\n    \t}\r\n    \t\r\n    \tpublic void reset() {\r\n    \t\tmLatch = new CountDownLatch(mInitialCount);\r\n    \t}\r\n    \t\r\n    \tpublic void countDown() {\r\n    \t\tmLatch.countDown();\r\n    \t}\r\n\r\n    \tpublic boolean await() throws InterruptedException {\r\n    \t\tboolean result = mLatch.await();\r\n    \t\treturn result;\r\n    \t}\r\n    \t\r\n    \tpublic boolean await(long timeout, TimeUnit unit) throws InterruptedException {\r\n    \t\tboolean result = mLatch.await(timeout, unit);\r\n    \t\treturn result;\r\n    \t}\r\n    }","title":"Resettable CountdownLatch","body":"<p>Another drop-in replacement</p>\n\n<pre><code>import java.util.concurrent.CountDownLatch;\nimport java.util.concurrent.TimeUnit;\n\npublic class ResettableCountDownLatch {\n    int mInitialCount;\n    CountDownLatch mLatch;\n\n    public ResettableCountDownLatch(int  count) {\n        mInitialCount = count;\n        mLatch = new CountDownLatch(count);\n    }\n\n    public void reset() {\n        mLatch = new CountDownLatch(mInitialCount);\n    }\n\n    public void countDown() {\n        mLatch.countDown();\n    }\n\n    public boolean await() throws InterruptedException {\n        boolean result = mLatch.await();\n        return result;\n    }\n\n    public boolean await(long timeout, TimeUnit unit) throws InterruptedException {\n        boolean result = mLatch.await(timeout, unit);\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63444,"reputation":7018,"user_id":187808,"accept_rate":100,"display_name":"Tamas Rev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1501437273,"creation_date":1477581152,"answer_id":40288284,"question_id":6595835,"body_markdown":"Based on @Fidel -s answer, I made a drop-in replacement for ResettableCountDownLatch. The changes I made\r\n\r\n - `mLatch` is `private volatile`\r\n - `mInitialCount` is `private final`\r\n - the return type of the simple `await()` has changed to void.\r\n\r\nOtherwise, the original code is cool too. So, this is the full, enhanced code:\r\n\r\n    public class ResettableCountDownLatch {\r\n    \t\r\n        private final int initialCount;\r\n        private volatile CountDownLatch latch;\r\n    \r\n        public ResettableCountDownLatch(int  count) {\r\n            initialCount = count;\r\n            latch = new CountDownLatch(count);\r\n        }\r\n    \r\n        public void reset() {\r\n            latch = new CountDownLatch(initialCount);\r\n        }\r\n    \r\n        public void countDown() {\r\n            latch.countDown();\r\n        }\r\n    \r\n        public void await() throws InterruptedException {\r\n            latch.await();\r\n        }\r\n    \r\n        public boolean await(long timeout, TimeUnit unit) throws InterruptedException {\r\n            return latch.await(timeout, unit);\r\n        }\r\n    }\r\n\r\n### Update\r\n\r\nBased on [@Systemplanet][1]-s comment, here is a safer version of `reset()`:\r\n\r\n        // An atomic reference is required because reset() is not that atomic anymore, not even with `volatile`.\r\n        private final AtomicReference&lt;CountDownLatch&gt; latchHolder = new AtomicReference&lt;&gt;();\r\n\r\n        public void reset() {\r\n            // obtaining a local reference for modifying the required latch\r\n            final CountDownLatch oldLatch = latchHolder.getAndSet(null);\r\n            if (oldLatch != null) {\r\n                // checking the count each time to prevent unnecessary countdowns due to parallel countdowns\r\n                while (0L &lt; oldLatch.getCount()) {\r\n                    oldLatch.countDown();\r\n                }\r\n            }\r\n        }\r\n\r\nBasically, it&#39;s a choice between simplicity and safety. I.e. if you are willing to move the responsibility to the client of your code, then it&#39;s enough to set the reference `null` in `reset()`.\r\n\r\nOn the other hand, if you want to make it easy for the users of this code, then you need to use a little more tricks.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/586841/systemsplanet","title":"Resettable CountdownLatch","body":"<p>Based on @Fidel -s answer, I made a drop-in replacement for ResettableCountDownLatch. The changes I made</p>\n\n<ul>\n<li><code>mLatch</code> is <code>private volatile</code></li>\n<li><code>mInitialCount</code> is <code>private final</code></li>\n<li>the return type of the simple <code>await()</code> has changed to void.</li>\n</ul>\n\n<p>Otherwise, the original code is cool too. So, this is the full, enhanced code:</p>\n\n<pre><code>public class ResettableCountDownLatch {\n\n    private final int initialCount;\n    private volatile CountDownLatch latch;\n\n    public ResettableCountDownLatch(int  count) {\n        initialCount = count;\n        latch = new CountDownLatch(count);\n    }\n\n    public void reset() {\n        latch = new CountDownLatch(initialCount);\n    }\n\n    public void countDown() {\n        latch.countDown();\n    }\n\n    public void await() throws InterruptedException {\n        latch.await();\n    }\n\n    public boolean await(long timeout, TimeUnit unit) throws InterruptedException {\n        return latch.await(timeout, unit);\n    }\n}\n</code></pre>\n\n<h3>Update</h3>\n\n<p>Based on <a href=\"https://stackoverflow.com/users/586841/systemsplanet\">@Systemplanet</a>-s comment, here is a safer version of <code>reset()</code>:</p>\n\n<pre><code>    // An atomic reference is required because reset() is not that atomic anymore, not even with `volatile`.\n    private final AtomicReference&lt;CountDownLatch&gt; latchHolder = new AtomicReference&lt;&gt;();\n\n    public void reset() {\n        // obtaining a local reference for modifying the required latch\n        final CountDownLatch oldLatch = latchHolder.getAndSet(null);\n        if (oldLatch != null) {\n            // checking the count each time to prevent unnecessary countdowns due to parallel countdowns\n            while (0L &lt; oldLatch.getCount()) {\n                oldLatch.countDown();\n            }\n        }\n    }\n</code></pre>\n\n<p>Basically, it's a choice between simplicity and safety. I.e. if you are willing to move the responsibility to the client of your code, then it's enough to set the reference <code>null</code> in <code>reset()</code>.</p>\n\n<p>On the other hand, if you want to make it easy for the users of this code, then you need to use a little more tricks.</p>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493723504,"creation_date":1493392178,"answer_id":43683479,"question_id":6595835,"body_markdown":"[Phaser][1] has more options, we can implement resettable countdownLatch using that.\r\n\r\nPlease read below basic concepts from the following sites\r\n \r\nhttps://examples.javacodegeeks.com/core-java/util/concurrent/phaser/java-util-concurrent-phaser-example/\r\n\r\nhttp://netjs.blogspot.in/2016/01/phaser-in-java-concurrency.html\r\n\r\n\r\n\r\n    \r\n    import java.util.concurrent.Phaser;\r\n    /**\r\n     * Resettable countdownLatch using phaser\r\n     */\r\n    public class PhaserExample {\r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tPhaser phaser = new Phaser(3); // you can use constructor hint or\r\n    \t\t\t\t\t\t\t\t\t\t// register() or mixture of both\r\n    \t\t// register self... so parties are incremented to 4 (3+1) now\r\n    \t\tphaser.register();\r\n            //register is one time call for all the phases.\r\n            //means no need to register for every phase     \t\t\r\n\r\n\t\t\t\t\t\r\n    \t\tint phasecount = phaser.getPhase();\r\n    \t\tSystem.out.println(&quot;Phasecount is &quot; + phasecount);\r\n    \t\tnew PhaserExample().testPhaser(phaser, 2000);\r\n    \t\tnew PhaserExample().testPhaser(phaser, 4000);\r\n    \t\tnew PhaserExample().testPhaser(phaser, 6000);\r\n    \t\t\r\n    \t\t// similar to await() in countDownLatch/CyclicBarrier\r\n    \t\t// parties are decremented to 3 (4+1) now\r\n    \t\tphaser.arriveAndAwaitAdvance(); \r\n    \t\t// once all the thread arrived at same level, barrier opens\r\n    \t\tSystem.out.println(&quot;Barrier has broken.&quot;);\r\n    \t\tphasecount = phaser.getPhase();\r\n    \t\tSystem.out.println(&quot;Phasecount is &quot; + phasecount);\r\n\r\n            //second phase\r\n    \t\tnew PhaserExample().testPhaser(phaser, 2000);\r\n    \t\tnew PhaserExample().testPhaser(phaser, 4000);\r\n    \t\tnew PhaserExample().testPhaser(phaser, 6000);\r\n            phaser.arriveAndAwaitAdvance(); \r\n    \t\t// once all the thread arrived at same level, barrier opens\r\n    \t\tSystem.out.println(&quot;Barrier has broken.&quot;);\r\n    \t\tphasecount = phaser.getPhase();\r\n    \t\tSystem.out.println(&quot;Phasecount is &quot; + phasecount);\r\n    \r\n    \t}\r\n    \r\n    \tprivate void testPhaser(final Phaser phaser, final int sleepTime) {\r\n    \t\t// phaser.register(); //Already constructor hint is given so not\r\n    \t\t// required\r\n    \t\tnew Thread() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(sleepTime);\r\n    \t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + &quot; arrived&quot;);\r\n    \t\t\t\t\t// phaser.arrive(); //similar to CountDownLatch#countDown()\r\n    \t\t\t\t\tphaser.arriveAndAwaitAdvance();// thread will wait till Barrier opens\r\n    \t\t\t\t\t// arriveAndAwaitAdvance is similar to CyclicBarrier#await()\r\n    \t\t\t\t}\r\n    \t\t\t\tcatch (InterruptedException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println(Thread.currentThread().getName() + &quot; after passing barrier&quot;);\r\n    \t\t\t}\r\n    \t\t}.start();\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Phaser.html","title":"Resettable CountdownLatch","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Phaser.html\" rel=\"nofollow noreferrer\">Phaser</a> has more options, we can implement resettable countdownLatch using that.</p>\n\n<p>Please read below basic concepts from the following sites</p>\n\n<p><a href=\"https://examples.javacodegeeks.com/core-java/util/concurrent/phaser/java-util-concurrent-phaser-example/\" rel=\"nofollow noreferrer\">https://examples.javacodegeeks.com/core-java/util/concurrent/phaser/java-util-concurrent-phaser-example/</a></p>\n\n<p><a href=\"http://netjs.blogspot.in/2016/01/phaser-in-java-concurrency.html\" rel=\"nofollow noreferrer\">http://netjs.blogspot.in/2016/01/phaser-in-java-concurrency.html</a></p>\n\n<pre><code>import java.util.concurrent.Phaser;\n/**\n * Resettable countdownLatch using phaser\n */\npublic class PhaserExample {\n    public static void main(String[] args) throws InterruptedException {\n        Phaser phaser = new Phaser(3); // you can use constructor hint or\n                                        // register() or mixture of both\n        // register self... so parties are incremented to 4 (3+1) now\n        phaser.register();\n        //register is one time call for all the phases.\n        //means no need to register for every phase             \n\n\n        int phasecount = phaser.getPhase();\n        System.out.println(\"Phasecount is \" + phasecount);\n        new PhaserExample().testPhaser(phaser, 2000);\n        new PhaserExample().testPhaser(phaser, 4000);\n        new PhaserExample().testPhaser(phaser, 6000);\n\n        // similar to await() in countDownLatch/CyclicBarrier\n        // parties are decremented to 3 (4+1) now\n        phaser.arriveAndAwaitAdvance(); \n        // once all the thread arrived at same level, barrier opens\n        System.out.println(\"Barrier has broken.\");\n        phasecount = phaser.getPhase();\n        System.out.println(\"Phasecount is \" + phasecount);\n\n        //second phase\n        new PhaserExample().testPhaser(phaser, 2000);\n        new PhaserExample().testPhaser(phaser, 4000);\n        new PhaserExample().testPhaser(phaser, 6000);\n        phaser.arriveAndAwaitAdvance(); \n        // once all the thread arrived at same level, barrier opens\n        System.out.println(\"Barrier has broken.\");\n        phasecount = phaser.getPhase();\n        System.out.println(\"Phasecount is \" + phasecount);\n\n    }\n\n    private void testPhaser(final Phaser phaser, final int sleepTime) {\n        // phaser.register(); //Already constructor hint is given so not\n        // required\n        new Thread() {\n            @Override\n            public void run() {\n                try {\n                    Thread.sleep(sleepTime);\n                    System.out.println(Thread.currentThread().getName() + \" arrived\");\n                    // phaser.arrive(); //similar to CountDownLatch#countDown()\n                    phaser.arriveAndAwaitAdvance();// thread will wait till Barrier opens\n                    // arriveAndAwaitAdvance is similar to CyclicBarrier#await()\n                }\n                catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                System.out.println(Thread.currentThread().getName() + \" after passing barrier\");\n            }\n        }.start();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5642802,"reputation":717,"user_id":4466012,"accept_rate":64,"display_name":"GregarityNow"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1528887627,"creation_date":1528887627,"answer_id":50835543,"question_id":6595835,"body_markdown":"I&#39;m not sure if this is fatally flawed but I recently had the same problem and solved it by simply instantiating a new CountDownLatch object each time I wanted to reset. Something like this:\r\n\r\nWaiter:\r\n\r\n    bla();\r\n    latch.await();\r\n    //now the latch has counted down to 0\r\n    blabla();\r\n\r\nCountDowner\r\n\r\n    foo();\r\n    latch.countDown();\r\n    //now the latch has counted down to 0\r\n    latch = new CountDownLatch(1);\r\n    Waiter.receiveReferenceToNewLatch(latch);\r\n    bar();\r\n\r\nObviously this is a heavy abstraction but thus far it has worked for me and doesn&#39;t require you to tinker with any class definitions.","title":"Resettable CountdownLatch","body":"<p>I'm not sure if this is fatally flawed but I recently had the same problem and solved it by simply instantiating a new CountDownLatch object each time I wanted to reset. Something like this:</p>\n\n<p>Waiter:</p>\n\n<pre><code>bla();\nlatch.await();\n//now the latch has counted down to 0\nblabla();\n</code></pre>\n\n<p>CountDowner</p>\n\n<pre><code>foo();\nlatch.countDown();\n//now the latch has counted down to 0\nlatch = new CountDownLatch(1);\nWaiter.receiveReferenceToNewLatch(latch);\nbar();\n</code></pre>\n\n<p>Obviously this is a heavy abstraction but thus far it has worked for me and doesn't require you to tinker with any class definitions.</p>\n"},{"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534419444,"creation_date":1534419444,"answer_id":51876130,"question_id":6595835,"body_markdown":"Looks like you want to turn asynchronous I/O to synchronous. The whole idea of using asynchronous I/O is to avoid threads, but CountDownLatch requres using threads. This is an obvious contradiction in your question. So, you can:\r\n\r\n- keep using threads and employ synchronous I/O instead of Selectors and the suff. This will be much more simple and reliable\r\n- keep using asynchronous I/0 and give up CountDownLatch. Then you need an asynchronous library - look at RxJava, Akka, or df4j.\r\n- continue to develop your project for fun. Then you can try to use java.util.Semaphore instead of CountDownLatch, or program your own synchronization class using synchronized/wait/notify.","title":"Resettable CountdownLatch","body":"<p>Looks like you want to turn asynchronous I/O to synchronous. The whole idea of using asynchronous I/O is to avoid threads, but CountDownLatch requres using threads. This is an obvious contradiction in your question. So, you can:</p>\n\n<ul>\n<li>keep using threads and employ synchronous I/O instead of Selectors and the suff. This will be much more simple and reliable</li>\n<li>keep using asynchronous I/0 and give up CountDownLatch. Then you need an asynchronous library - look at RxJava, Akka, or df4j.</li>\n<li>continue to develop your project for fun. Then you can try to use java.util.Semaphore instead of CountDownLatch, or program your own synchronization class using synchronized/wait/notify.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17057910,"reputation":1,"user_id":12341993,"display_name":"jaidevchattre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573898231,"creation_date":1573897518,"answer_id":58889433,"question_id":6595835,"body_markdown":"    public class ResettableLatch {\r\n\tprivate static final class Sync extends AbstractQueuedSynchronizer {\r\n\r\n\t\tSync(int count) {\r\n\t\t\tsetState(count);\r\n\t\t}\r\n\r\n\t\tint getCount() {\r\n\t\t\treturn getState();\r\n\t\t}\r\n\r\n\t\tprotected int tryAcquireShared(int acquires) {\r\n\t\t\treturn getState() == 0 ? 1 : -1;\r\n\t\t}\r\n\r\n\t\tpublic void reset(int count) {\r\n\t\t\tsetState(count);\r\n\t\t}\r\n\r\n\t\tprotected boolean tryReleaseShared(int releases) {\r\n\t\t\tfor (;;) {\r\n\t\t\t\tint c = getState();\r\n\t\t\t\tif (c == 0)\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tint nextc = c - 1;\r\n\t\t\t\tif (compareAndSetState(c, nextc))\r\n\t\t\t\t\treturn nextc == 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate final Sync sync;\r\n\r\n\tpublic ResettableLatch(int count) {\r\n\t\tif (count &lt; 0)\r\n\t\t\tthrow new IllegalArgumentException(&quot;count &lt; 0&quot;);\r\n\t\tthis.sync = new Sync(count);\r\n\t}\r\n\r\n\tpublic void await() throws InterruptedException {\r\n\t\tsync.acquireSharedInterruptibly(1);\r\n\t}\r\n\r\n\tpublic boolean await(long timeout, TimeUnit unit) throws InterruptedException {\r\n\t\treturn sync.tryAcquireSharedNanos(1, unit.toNanos(timeout));\r\n\t}\r\n\r\n\tpublic void countDown() {\r\n\t\tsync.releaseShared(1);\r\n\t}\r\n\r\n\tpublic long getCount() {\r\n\t\treturn sync.getCount();\r\n\t}\r\n\r\n\tpublic void reset(int count) {\r\n\t\tsync.reset(count);\r\n\t}\r\n    }\r\n\r\nThis worked for me.\r\n\r\n","title":"Resettable CountdownLatch","body":"<pre><code>public class ResettableLatch {\nprivate static final class Sync extends AbstractQueuedSynchronizer {\n\n    Sync(int count) {\n        setState(count);\n    }\n\n    int getCount() {\n        return getState();\n    }\n\n    protected int tryAcquireShared(int acquires) {\n        return getState() == 0 ? 1 : -1;\n    }\n\n    public void reset(int count) {\n        setState(count);\n    }\n\n    protected boolean tryReleaseShared(int releases) {\n        for (;;) {\n            int c = getState();\n            if (c == 0)\n                return false;\n            int nextc = c - 1;\n            if (compareAndSetState(c, nextc))\n                return nextc == 0;\n        }\n    }\n}\n\nprivate final Sync sync;\n\npublic ResettableLatch(int count) {\n    if (count &lt; 0)\n        throw new IllegalArgumentException(\"count &lt; 0\");\n    this.sync = new Sync(count);\n}\n\npublic void await() throws InterruptedException {\n    sync.acquireSharedInterruptibly(1);\n}\n\npublic boolean await(long timeout, TimeUnit unit) throws InterruptedException {\n    return sync.tryAcquireSharedNanos(1, unit.toNanos(timeout));\n}\n\npublic void countDown() {\n    sync.releaseShared(1);\n}\n\npublic long getCount() {\n    return sync.getCount();\n}\n\npublic void reset(int count) {\n    sync.reset(count);\n}\n}\n</code></pre>\n\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":2745991,"reputation":1440,"user_id":2366397,"display_name":"igor.zh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593447107,"creation_date":1593447107,"answer_id":62642287,"question_id":6595835,"body_markdown":"From what I was able to understand from the OP explanation and source code, the resettable `CountDownLatch` is not quite adequate concept for the problem he was going to solve. [The documentation of the CountDownLatch][1] itself mentions the OP&#39;s use case  as **simple gate initialized with a count of one**: \r\n&gt;  `CountDownLatch` initialized with a count of one serves as a simple\r\n&gt; on/off latch, or gate: all threads invoking `await` wait at the gate\r\n&gt; until it is opened by a thread invoking `countDown`.\r\n\r\n, but `CountDownLatch` implementation does not go any further in this direction.\r\n\r\nSo, myself having a problem similar to that of OP&#39;s I decided to introduce a `SimpleGate` class with the following properties:\r\n\r\n - Number of permits is one, which means it can be either in `On` or `Off` state;\r\n - There is a dedicated thread, called `Gate Keeper` that is only allowed to `shut off` or `open up` the Gate;\r\n- The right of gate keeping is transferable;\r\n- the opening up the Gate immediately allows the threads, that tried to `come through` the Gate, to do it (this very logical feature has been overlooked in the other answers);\r\n- as the thread contention is expected to be high, fairness is supported as an option, this allows to decrease an effect of thread *barging*.\r\n\r\n\r\n        public class SimpleGate {\r\n\t\r\n\t        private static class Sync extends AbstractQueuedSynchronizer {\r\n\t\r\n\t\t       // State\r\n\t\t       private static final int SHUT = 1;\r\n\t\t       private static final int OPEN = 0;\r\n\r\n\t\t       private boolean fair;\r\n\r\n\t\t       public void setFair(boolean fair) {\r\n\t\t\t      this.fair = fair;\r\n\t\t       }\r\n\t\t\r\n\t\t       public void shutOff() {\r\n\t\t\t      super.setState(SHUT);\r\n\t\t       }\r\n\t\t\r\n\t\t       @Override\r\n\t\t       protected int tryAcquireShared(int arg) {\r\n\t\t\t      if (fair &amp;&amp; super.hasQueuedPredecessors())\r\n\t\t\t\t     return -1;\r\n\t\t          return super.getState() == OPEN ? 1 : -1;\r\n\t\t       }\r\n\t\t\r\n\t\t       @Override\r\n\t\t       protected boolean tryReleaseShared(int arg) {\r\n\t\t\t      super.setState(OPEN); \r\n\t\t\t      return true;\r\n\t\t       }\r\n\t\r\n\t      }\r\n\t\r\n\t      private Sync sync = new Sync();\r\n\t      private volatile Thread gateKeeper = Thread.currentThread();\r\n\t\r\n\t      public SimpleGate(){\r\n\t\t     this(true);\r\n\t      }\r\n\t\r\n\t      public SimpleGate(boolean shutOff){\r\n\t\t     this(shutOff, false);\r\n\t      }\r\n\t\r\n\t      public SimpleGate(boolean shutOff, boolean fair){\r\n\t\t     if (shutOff)\r\n\t\t\t    sync.shutOff();\r\n\t\t     sync.setFair(fair);\r\n\t      }\r\n\t\r\n\t      public void comeThrough(){\r\n\t\t     if (Thread.currentThread() == gateKeeper)\r\n\t\t\t    throw new IllegalStateException(&quot;Gate Keeper thread is not supposed to come through the gate&quot;);\r\n\t\t     sync.acquireShared(0);\r\n\t      }\r\n\t\r\n\t      public void shutOff(){\r\n\t\t     if (Thread.currentThread() != gateKeeper)\r\n\t\t\t    throw new IllegalStateException(&quot;Only a Gate Keeper thread is allowed to shut off&quot;);\r\n\t\t      sync.shutOff();\r\n\t      }\r\n\t\r\n\t      public void openUp(){\r\n\t\t     if (Thread.currentThread() != gateKeeper)\r\n\t\t\t    throw new IllegalStateException(&quot;Only a Gate Keeper thread is allowed to open up&quot;);\r\n\t\t     sync.releaseShared(0);\r\n\t      }\r\n\t\r\n\t      public void transferOwnership(Thread newGateKeeper){\r\n\t\t     this.gateKeeper  = newGateKeeper;\r\n\t      }\r\n\r\n          // an addition of waiting interruptibly and waiting for specified amount of time, \r\n          //if they are needed, is trivial \r\n      }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CountDownLatch.html","title":"Resettable CountdownLatch","body":"<p>From what I was able to understand from the OP explanation and source code, the resettable <code>CountDownLatch</code> is not quite adequate concept for the problem he was going to solve. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\">The documentation of the CountDownLatch</a> itself mentions the OP's use case  as <strong>simple gate initialized with a count of one</strong>:</p>\n<blockquote>\n<p><code>CountDownLatch</code> initialized with a count of one serves as a simple\non/off latch, or gate: all threads invoking <code>await</code> wait at the gate\nuntil it is opened by a thread invoking <code>countDown</code>.</p>\n</blockquote>\n<p>, but <code>CountDownLatch</code> implementation does not go any further in this direction.</p>\n<p>So, myself having a problem similar to that of OP's I decided to introduce a <code>SimpleGate</code> class with the following properties:</p>\n<ul>\n<li><p>Number of permits is one, which means it can be either in <code>On</code> or <code>Off</code> state;</p>\n</li>\n<li><p>There is a dedicated thread, called <code>Gate Keeper</code> that is only allowed to <code>shut off</code> or <code>open up</code> the Gate;</p>\n</li>\n<li><p>The right of gate keeping is transferable;</p>\n</li>\n<li><p>the opening up the Gate immediately allows the threads, that tried to <code>come through</code> the Gate, to do it (this very logical feature has been overlooked in the other answers);</p>\n</li>\n<li><p>as the thread contention is expected to be high, fairness is supported as an option, this allows to decrease an effect of thread <em>barging</em>.</p>\n<pre><code>  public class SimpleGate {\n\n      private static class Sync extends AbstractQueuedSynchronizer {\n\n         // State\n         private static final int SHUT = 1;\n         private static final int OPEN = 0;\n\n         private boolean fair;\n\n         public void setFair(boolean fair) {\n            this.fair = fair;\n         }\n\n         public void shutOff() {\n            super.setState(SHUT);\n         }\n\n         @Override\n         protected int tryAcquireShared(int arg) {\n            if (fair &amp;&amp; super.hasQueuedPredecessors())\n               return -1;\n            return super.getState() == OPEN ? 1 : -1;\n         }\n\n         @Override\n         protected boolean tryReleaseShared(int arg) {\n            super.setState(OPEN); \n            return true;\n         }\n\n    }\n\n    private Sync sync = new Sync();\n    private volatile Thread gateKeeper = Thread.currentThread();\n\n    public SimpleGate(){\n       this(true);\n    }\n\n    public SimpleGate(boolean shutOff){\n       this(shutOff, false);\n    }\n\n    public SimpleGate(boolean shutOff, boolean fair){\n       if (shutOff)\n          sync.shutOff();\n       sync.setFair(fair);\n    }\n\n    public void comeThrough(){\n       if (Thread.currentThread() == gateKeeper)\n          throw new IllegalStateException(&quot;Gate Keeper thread is not supposed to come through the gate&quot;);\n       sync.acquireShared(0);\n    }\n\n    public void shutOff(){\n       if (Thread.currentThread() != gateKeeper)\n          throw new IllegalStateException(&quot;Only a Gate Keeper thread is allowed to shut off&quot;);\n        sync.shutOff();\n    }\n\n    public void openUp(){\n       if (Thread.currentThread() != gateKeeper)\n          throw new IllegalStateException(&quot;Only a Gate Keeper thread is allowed to open up&quot;);\n       sync.releaseShared(0);\n    }\n\n    public void transferOwnership(Thread newGateKeeper){\n       this.gateKeeper  = newGateKeeper;\n    }\n\n    // an addition of waiting interruptibly and waiting for specified amount of time, \n    //if they are needed, is trivial \n}\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10599416,"reputation":61,"user_id":7806799,"display_name":"Zhenya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633596101,"creation_date":1633596101,"answer_id":69478035,"question_id":6595835,"body_markdown":"Use Phaser.\r\n\r\nif only one thread should to do work. U can join AtomicBoolean and Phaser\r\n\r\n   \r\n\r\n     AtomicBoolean someConditionInProgress = new AtomicBoolean(&quot;false&quot;); Phaser onConditionalPhaser = new Phaser(1);\r\n\r\n\r\n       (some function) if (!someConditionInProgress.compareAndSet(false, true)) {\r\n            try {\r\n               //do something\r\n            } finally {\r\n                someConditionInProgress.set(false);\r\n                //release barier\r\n                onConditionalPhaser.arrive();\r\n            }\r\n        } else {\r\n            onConditionalPhaser.awaitAdvance(onConditionalPhaser.getPhase());\r\n        }","title":"Resettable CountdownLatch","body":"<p>Use Phaser.</p>\n<p>if only one thread should to do work. U can join AtomicBoolean and Phaser</p>\n<pre><code> AtomicBoolean someConditionInProgress = new AtomicBoolean(&quot;false&quot;); Phaser onConditionalPhaser = new Phaser(1);\n\n\n   (some function) if (!someConditionInProgress.compareAndSet(false, true)) {\n        try {\n           //do something\n        } finally {\n            someConditionInProgress.set(false);\n            //release barier\n            onConditionalPhaser.arrive();\n        }\n    } else {\n        onConditionalPhaser.awaitAdvance(onConditionalPhaser.getPhase());\n    }\n</code></pre>\n"}],"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19467,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":6596922,"answer_count":9,"score":22,"last_activity_date":1633596101,"creation_date":1309952799,"question_id":6595835,"body_markdown":"I need something which is directly equivalent to `CountDownLatch`, but is resettable (remaining thread-safe!). I can&#39;t use classic synchronisation constructs as they simply don&#39;t work in this situation (complex locking issues). At the moment, I&#39;m creating many `CountDownLatch` objects, each replacing the previous one. I believe this is doing in the young generation in the GC (due to the sheer number of objects). You can see the code which uses the latches below (it&#39;s part of the `java.net` mock for a ns-3 network simulator interface).\r\n\r\nSome ideas might be to try `CyclicBarrier` (JDK5+) or `Phaser` (JDK7)\r\n\r\nI can test code and get back to anyone that finds a solution to this problem, since I&#39;m the only one who can insert it into the running system to see what happens :)\r\n\r\n    /**\r\n     *\r\n     */\r\n    package kokunet;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.channels.ClosedSelectorException;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.concurrent.CountDownLatch;\r\n    import java.util.concurrent.TimeUnit;\r\n    import kokuks.IConnectionSocket;\r\n    import kokuks.KKSAddress;\r\n    import kokuks.KKSSocket;\r\n    import kokuks.KKSSocketListener;\r\n    \r\n    /**\r\n     * KSelector\r\n     * @version 1.0\r\n     * @author Chris Dennett\r\n     */\r\n    public class KSelector extends SelectorImpl {\r\n        // True if this Selector has been closed\r\n        private volatile boolean closed = false;\r\n    \r\n        // Lock for close and cleanup\r\n        final class CloseLock {}\r\n        private final Object closeLock = new CloseLock();\r\n    \r\n        private volatile boolean selecting = false;\r\n        private volatile boolean wakeup = false;\r\n    \r\n    \tclass SocketListener implements KKSSocketListener {\r\n    \t\tprotected volatile CountDownLatch latch = null;\r\n    \r\n    \t\t/**\r\n    \t\t *\r\n    \t\t */\r\n    \t\tpublic SocketListener() {\r\n    \t\t\tnewLatch();\r\n    \t\t}\r\n    \r\n    \t\tprotected synchronized CountDownLatch newLatch() {\r\n    \t\t\treturn this.latch = new CountDownLatch(1);\r\n    \t\t}\r\n    \r\n    \t\tprotected synchronized void refreshReady(KKSSocket socket) {\r\n    \t\t\tif (!selecting) return;\r\n    \r\n    \t\t\tsynchronized (socketToChannel) {\r\n    \t\t\t\tSelChImpl ch = socketToChannel.get(socket);\r\n    \t\t\t\tif (ch == null) {\r\n    \t\t\t\t\tSystem.out.println(&quot;ks sendCB: channel not found for socket: &quot; + socket);\r\n    \t\t\t\t\treturn;\r\n    \t\t\t\t}\r\n    \t\t\t\tsynchronized (channelToKey) {\r\n    \t\t\t\t\tSelectionKeyImpl sk = channelToKey.get(ch);\r\n    \t\t\t\t\tif (sk != null) {\r\n    \t\t\t\t\t\tif (handleSelect(sk)) {\r\n    \t\t\t\t\t\t\tlatch.countDown();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic void connectionSucceeded(KKSSocket socket) {\r\n    \t\t\trefreshReady(socket);\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic void connectionFailed(KKSSocket socket) {\r\n    \t\t\trefreshReady(socket);\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic void dataSent(KKSSocket socket, long bytesSent) {\r\n    \t\t\trefreshReady(socket);\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic void sendCB(KKSSocket socket, long bytesAvailable) {\r\n    \t\t\trefreshReady(socket);\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic void onRecv(KKSSocket socket) {\r\n    \t\t\trefreshReady(socket);\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic void newConnectionCreated(KKSSocket socket, KKSSocket newSocket, KKSAddress remoteaddress) {\r\n    \t\t\trefreshReady(socket);\r\n    \t\t}\r\n            @Override\r\n            public void normalClose(KKSSocket socket) {\r\n            \twakeup();\r\n            }\r\n            @Override\r\n            public void errorClose(KKSSocket socket) {\r\n            \twakeup();\r\n            }\r\n    \t}\r\n    \r\n    \tprotected final Map&lt;KKSSocket, SelChImpl&gt;        socketToChannel = new HashMap&lt;KKSSocket, SelChImpl&gt;();\r\n    \tprotected final Map&lt;SelChImpl, SelectionKeyImpl&gt; channelToKey    = new HashMap&lt;SelChImpl, SelectionKeyImpl&gt;();\r\n    \tprotected final SocketListener currListener = new SocketListener();\r\n    \tprotected Thread selectingThread = null;\r\n    \r\n    \tSelChImpl getChannelForSocket(KKSSocket s) {\r\n    \t\tsynchronized (socketToChannel) {\r\n    \t\t\treturn socketToChannel.get(s);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tSelectionKeyImpl getSelKeyForChannel(KKSSocket s) {\r\n    \t\tsynchronized (channelToKey) {\r\n    \t\t\treturn channelToKey.get(s);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprotected boolean markRead(SelectionKeyImpl impl) {\r\n    \t\tsynchronized (impl) {\r\n    \t\t\tif (!impl.isValid()) return false;\r\n    \t\t\timpl.nioReadyOps(impl.readyOps() | SelectionKeyImpl.OP_READ);\r\n    \t\t\treturn selectedKeys.add(impl);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprotected boolean markWrite(SelectionKeyImpl impl) {\r\n    \t\tsynchronized (impl) {\r\n    \t\t\tif (!impl.isValid()) return false;\r\n    \t\t\timpl.nioReadyOps(impl.readyOps() | SelectionKeyImpl.OP_WRITE);\r\n    \t\t\treturn selectedKeys.add(impl);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprotected boolean markAccept(SelectionKeyImpl impl) {\r\n    \t\tsynchronized (impl) {\r\n    \t\t\tif (!impl.isValid()) return false;\r\n    \t\t\timpl.nioReadyOps(impl.readyOps() | SelectionKeyImpl.OP_ACCEPT);\r\n    \t\t\treturn selectedKeys.add(impl);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprotected boolean markConnect(SelectionKeyImpl impl) {\r\n    \t\tsynchronized (impl) {\r\n    \t\t\tif (!impl.isValid()) return false;\r\n    \t\t\timpl.nioReadyOps(impl.readyOps() | SelectionKeyImpl.OP_CONNECT);\r\n    \t\t\treturn selectedKeys.add(impl);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param provider\r\n    \t */\r\n    \tprotected KSelector(SelectorProvider provider) {\r\n    \t\tsuper(provider);\r\n    \t}\r\n    \r\n    \t/* (non-Javadoc)\r\n    \t * @see kokunet.SelectorImpl#implClose()\r\n    \t */\r\n    \t@Override\r\n    \tprotected void implClose() throws IOException {\r\n    \t\tprovider().getApp().printMessage(&quot;implClose: closed: &quot; + closed);\r\n    \t\tsynchronized (closeLock) {\r\n    \t\t\tif (closed) return;\r\n    \t\t\tclosed = true;\r\n    \t\t\tfor (SelectionKey sk : keys) {\r\n    \t\t\t\tprovider().getApp().printMessage(&quot;dereg1&quot;);\r\n    \t\t\t\tderegister((AbstractSelectionKey)sk);\r\n    \t\t\t\tprovider().getApp().printMessage(&quot;dereg2&quot;);\r\n                    SelectableChannel selch = sk.channel();\r\n                    if (!selch.isOpen() &amp;&amp; !selch.isRegistered())\r\n                        ((SelChImpl)selch).kill();\r\n    \t\t\t}\r\n    \t\t\timplCloseInterrupt();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprotected void implCloseInterrupt() {\r\n    \t\twakeup();\r\n    \t}\r\n    \r\n    \tprivate boolean handleSelect(SelectionKey k) {\r\n    \t\tsynchronized (k) {\r\n    \t\t\tboolean notify = false;\r\n    \r\n    \t\t\tif (!k.isValid()) {\r\n    \t\t\t\tk.cancel();\r\n    \t\t\t\t((SelectionKeyImpl)k).channel.socket().removeListener(currListener);\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \r\n    \t\t\tSelectionKeyImpl ski = (SelectionKeyImpl)k;\r\n    \r\n    \t\t\tif ((ski.interestOps() &amp; SelectionKeyImpl.OP_READ) != 0) {\r\n    \t\t\t\tif (ski.channel.socket().getRxAvailable() &gt; 0) {\r\n    \t\t\t\t\tnotify |= markRead(ski);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tif ((ski.interestOps() &amp; SelectionKeyImpl.OP_WRITE) != 0) {\r\n    \t\t\t\tif (ski.channel.socket().getTxAvailable() &gt; 0) {\r\n    \t\t\t\t\tnotify |= markWrite(ski);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tif ((ski.interestOps() &amp; SelectionKeyImpl.OP_CONNECT) != 0) {\r\n    \t\t\t\tif (!ski.channel.socket().isConnectionless()) {\r\n    \t\t\t\t\tIConnectionSocket cs = (IConnectionSocket)ski.channel.socket();\r\n    \t\t\t\t\tif (!ski.channel.socket().isAccepting() &amp;&amp; !cs.isConnecting() &amp;&amp; !cs.isConnected()) {\r\n    \t\t\t\t\t\tnotify |= markConnect(ski);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tif ((ski.interestOps() &amp; SelectionKeyImpl.OP_ACCEPT) != 0) {\r\n    \t\t\t\t//provider().getApp().printMessage(&quot;accept check: ski: &quot; + ski + &quot;, connectionless: &quot; + ski.channel.socket().isConnectionless() + &quot;, listening: &quot; + ski.channel.socket().isListening() + &quot;, hasPendingConn: &quot; + (ski.channel.socket().isConnectionless() ? &quot;nope!&quot; : ((IConnectionSocket)ski.channel.socket()).hasPendingConnections()));\r\n    \t\t\t\tif (!ski.channel.socket().isConnectionless() &amp;&amp; ski.channel.socket().isListening()) {\r\n    \t\t\t\t\tIConnectionSocket cs = (IConnectionSocket)ski.channel.socket();\r\n    \t\t\t\t\tif (cs.hasPendingConnections()) {\r\n    \t\t\t\t\t\tnotify |= markAccept(ski);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn notify;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate boolean handleSelect() {\r\n    \t\tboolean notify = false;\r\n    \r\n    \t\t// get initial status\r\n    \t\tfor (SelectionKey k : keys) {\r\n    \t\t\tnotify |= handleSelect(k);\r\n    \t\t}\r\n    \r\n    \t\treturn notify;\r\n    \t}\r\n    \r\n    \t/* (non-Javadoc)\r\n    \t * @see kokunet.SelectorImpl#doSelect(long)\r\n    \t */\r\n    \t@Override\r\n    \tprotected int doSelect(long timeout) throws IOException {\r\n    \t\tprocessDeregisterQueue();\r\n    \r\n    \t\tlong timestartedms = System.currentTimeMillis();\r\n    \r\n    \t\tsynchronized (selectedKeys) {\r\n    \t\t\tsynchronized (currListener) {\r\n    \t\t\t\twakeup = false;\r\n    \t\t\t\tselectingThread = Thread.currentThread();\r\n    \t\t\t\tselecting = true;\r\n    \t\t\t}\r\n    \t\t\ttry {\r\n    \t\t\t\thandleSelect();\r\n    \r\n    \t\t\t\tif (!selectedKeys.isEmpty() || timeout == 0) {\r\n    \t\t\t\t\treturn selectedKeys.size();\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t//TODO: useless op if we have keys available\r\n    \t\t\t\tfor (SelectionKey key : keys) {\r\n    \t\t\t\t\t((SelectionKeyImpl)key).channel.socket().addListener(currListener);\r\n    \t\t\t\t}\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\twhile (!wakeup &amp;&amp; isOpen() &amp;&amp; selectedKeys.isEmpty()) {\r\n    \t\t\t\t\t\tCountDownLatch latch = null;\r\n    \t\t\t\t\t\tsynchronized (currListener) {\r\n    \t\t\t\t\t\t\tif (wakeup || !isOpen() || !selectedKeys.isEmpty()) {\r\n    \t\t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\tlatch = currListener.newLatch();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\tif (timeout &gt; 0) {\r\n    \t\t\t\t\t\t\t\tlong currtimems = System.currentTimeMillis();\r\n    \t\t\t\t\t\t\t\tlong remainingMS = (timestartedms + timeout) - currtimems;\r\n    \r\n    \t\t\t\t\t\t\t\tif (remainingMS &gt; 0) {\r\n    \t\t\t\t\t\t\t\t\tlatch.await(remainingMS, TimeUnit.MILLISECONDS);\r\n    \t\t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\tlatch.await();\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t} catch (InterruptedException e) {\r\n    \r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\treturn selectedKeys.size();\r\n    \t\t\t\t} finally {\r\n    \t\t\t\t\tfor (SelectionKey key : keys) {\r\n    \t\t\t\t\t\t((SelectionKeyImpl)key).channel.socket().removeListener(currListener);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t} finally {\r\n    \t\t\t\tsynchronized (currListener) {\r\n    \t\t\t\t\tselecting = false;\r\n    \t\t\t\t\tselectingThread = null;\r\n    \t\t\t\t\twakeup = false;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/* (non-Javadoc)\r\n    \t * @see kokunet.SelectorImpl#implRegister(kokunet.SelectionKeyImpl)\r\n    \t */\r\n    \t@Override\r\n    \tprotected void implRegister(SelectionKeyImpl ski) {\r\n    \t\tsynchronized (closeLock) {\r\n                if (closed) throw new ClosedSelectorException();\r\n    \t\t\tsynchronized (channelToKey) {\r\n    \t\t\t\tsynchronized (socketToChannel) {\r\n    \t\t\t\t\tkeys.add(ski);\r\n    \t\t\t\t\tsocketToChannel.put(ski.channel.socket(), ski.channel);\r\n    \t\t\t\t\tchannelToKey.put(ski.channel, ski);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t/* (non-Javadoc)\r\n    \t * @see kokunet.SelectorImpl#implDereg(kokunet.SelectionKeyImpl)\r\n    \t */\r\n    \t@Override\r\n    \tprotected void implDereg(SelectionKeyImpl ski) throws IOException {\r\n    \t\tsynchronized (channelToKey) {\r\n    \t\t\tsynchronized (socketToChannel) {\r\n    \t\t\t\tkeys.remove(ski);\r\n    \t\t\t\tsocketToChannel.remove(ski.channel.socket());\r\n    \t\t\t\tchannelToKey.remove(ski.channel);\r\n    \r\n    \t\t\t\tSelectableChannel selch = ski.channel();\r\n    \r\n    \t\t        if (!selch.isOpen() &amp;&amp; !selch.isRegistered())\r\n    \t\t            ((SelChImpl)selch).kill();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/* (non-Javadoc)\r\n    \t * @see kokunet.SelectorImpl#wakeup()\r\n    \t */\r\n    \t@Override\r\n    \tpublic Selector wakeup() {\r\n    \t\tsynchronized (currListener) {\r\n    \t\t\tif (selecting) {\r\n    \t\t\t\twakeup = true;\r\n    \t\t\t\tselecting = false;\r\n    \t\t\t\tselectingThread.interrupt();\r\n    \t\t\t\tselectingThread = null;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t}\r\n    }\r\n\r\n\r\nCheers,&lt;br&gt;\r\nChris","title":"Resettable CountdownLatch","body":"<p>I need something which is directly equivalent to <code>CountDownLatch</code>, but is resettable (remaining thread-safe!). I can't use classic synchronisation constructs as they simply don't work in this situation (complex locking issues). At the moment, I'm creating many <code>CountDownLatch</code> objects, each replacing the previous one. I believe this is doing in the young generation in the GC (due to the sheer number of objects). You can see the code which uses the latches below (it's part of the <code>java.net</code> mock for a ns-3 network simulator interface).</p>\n\n<p>Some ideas might be to try <code>CyclicBarrier</code> (JDK5+) or <code>Phaser</code> (JDK7)</p>\n\n<p>I can test code and get back to anyone that finds a solution to this problem, since I'm the only one who can insert it into the running system to see what happens :)</p>\n\n<pre><code>/**\n *\n */\npackage kokunet;\n\nimport java.io.IOException;\nimport java.nio.channels.ClosedSelectorException;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.CountDownLatch;\nimport java.util.concurrent.TimeUnit;\nimport kokuks.IConnectionSocket;\nimport kokuks.KKSAddress;\nimport kokuks.KKSSocket;\nimport kokuks.KKSSocketListener;\n\n/**\n * KSelector\n * @version 1.0\n * @author Chris Dennett\n */\npublic class KSelector extends SelectorImpl {\n    // True if this Selector has been closed\n    private volatile boolean closed = false;\n\n    // Lock for close and cleanup\n    final class CloseLock {}\n    private final Object closeLock = new CloseLock();\n\n    private volatile boolean selecting = false;\n    private volatile boolean wakeup = false;\n\n    class SocketListener implements KKSSocketListener {\n        protected volatile CountDownLatch latch = null;\n\n        /**\n         *\n         */\n        public SocketListener() {\n            newLatch();\n        }\n\n        protected synchronized CountDownLatch newLatch() {\n            return this.latch = new CountDownLatch(1);\n        }\n\n        protected synchronized void refreshReady(KKSSocket socket) {\n            if (!selecting) return;\n\n            synchronized (socketToChannel) {\n                SelChImpl ch = socketToChannel.get(socket);\n                if (ch == null) {\n                    System.out.println(\"ks sendCB: channel not found for socket: \" + socket);\n                    return;\n                }\n                synchronized (channelToKey) {\n                    SelectionKeyImpl sk = channelToKey.get(ch);\n                    if (sk != null) {\n                        if (handleSelect(sk)) {\n                            latch.countDown();\n                        }\n                    }\n                }\n            }\n        }\n        @Override\n        public void connectionSucceeded(KKSSocket socket) {\n            refreshReady(socket);\n        }\n        @Override\n        public void connectionFailed(KKSSocket socket) {\n            refreshReady(socket);\n        }\n        @Override\n        public void dataSent(KKSSocket socket, long bytesSent) {\n            refreshReady(socket);\n        }\n        @Override\n        public void sendCB(KKSSocket socket, long bytesAvailable) {\n            refreshReady(socket);\n        }\n        @Override\n        public void onRecv(KKSSocket socket) {\n            refreshReady(socket);\n        }\n        @Override\n        public void newConnectionCreated(KKSSocket socket, KKSSocket newSocket, KKSAddress remoteaddress) {\n            refreshReady(socket);\n        }\n        @Override\n        public void normalClose(KKSSocket socket) {\n            wakeup();\n        }\n        @Override\n        public void errorClose(KKSSocket socket) {\n            wakeup();\n        }\n    }\n\n    protected final Map&lt;KKSSocket, SelChImpl&gt;        socketToChannel = new HashMap&lt;KKSSocket, SelChImpl&gt;();\n    protected final Map&lt;SelChImpl, SelectionKeyImpl&gt; channelToKey    = new HashMap&lt;SelChImpl, SelectionKeyImpl&gt;();\n    protected final SocketListener currListener = new SocketListener();\n    protected Thread selectingThread = null;\n\n    SelChImpl getChannelForSocket(KKSSocket s) {\n        synchronized (socketToChannel) {\n            return socketToChannel.get(s);\n        }\n    }\n\n    SelectionKeyImpl getSelKeyForChannel(KKSSocket s) {\n        synchronized (channelToKey) {\n            return channelToKey.get(s);\n        }\n    }\n\n    protected boolean markRead(SelectionKeyImpl impl) {\n        synchronized (impl) {\n            if (!impl.isValid()) return false;\n            impl.nioReadyOps(impl.readyOps() | SelectionKeyImpl.OP_READ);\n            return selectedKeys.add(impl);\n        }\n    }\n\n    protected boolean markWrite(SelectionKeyImpl impl) {\n        synchronized (impl) {\n            if (!impl.isValid()) return false;\n            impl.nioReadyOps(impl.readyOps() | SelectionKeyImpl.OP_WRITE);\n            return selectedKeys.add(impl);\n        }\n    }\n\n    protected boolean markAccept(SelectionKeyImpl impl) {\n        synchronized (impl) {\n            if (!impl.isValid()) return false;\n            impl.nioReadyOps(impl.readyOps() | SelectionKeyImpl.OP_ACCEPT);\n            return selectedKeys.add(impl);\n        }\n    }\n\n    protected boolean markConnect(SelectionKeyImpl impl) {\n        synchronized (impl) {\n            if (!impl.isValid()) return false;\n            impl.nioReadyOps(impl.readyOps() | SelectionKeyImpl.OP_CONNECT);\n            return selectedKeys.add(impl);\n        }\n    }\n\n    /**\n     * @param provider\n     */\n    protected KSelector(SelectorProvider provider) {\n        super(provider);\n    }\n\n    /* (non-Javadoc)\n     * @see kokunet.SelectorImpl#implClose()\n     */\n    @Override\n    protected void implClose() throws IOException {\n        provider().getApp().printMessage(\"implClose: closed: \" + closed);\n        synchronized (closeLock) {\n            if (closed) return;\n            closed = true;\n            for (SelectionKey sk : keys) {\n                provider().getApp().printMessage(\"dereg1\");\n                deregister((AbstractSelectionKey)sk);\n                provider().getApp().printMessage(\"dereg2\");\n                SelectableChannel selch = sk.channel();\n                if (!selch.isOpen() &amp;&amp; !selch.isRegistered())\n                    ((SelChImpl)selch).kill();\n            }\n            implCloseInterrupt();\n        }\n    }\n\n    protected void implCloseInterrupt() {\n        wakeup();\n    }\n\n    private boolean handleSelect(SelectionKey k) {\n        synchronized (k) {\n            boolean notify = false;\n\n            if (!k.isValid()) {\n                k.cancel();\n                ((SelectionKeyImpl)k).channel.socket().removeListener(currListener);\n                return false;\n            }\n\n            SelectionKeyImpl ski = (SelectionKeyImpl)k;\n\n            if ((ski.interestOps() &amp; SelectionKeyImpl.OP_READ) != 0) {\n                if (ski.channel.socket().getRxAvailable() &gt; 0) {\n                    notify |= markRead(ski);\n                }\n            }\n\n            if ((ski.interestOps() &amp; SelectionKeyImpl.OP_WRITE) != 0) {\n                if (ski.channel.socket().getTxAvailable() &gt; 0) {\n                    notify |= markWrite(ski);\n                }\n            }\n\n            if ((ski.interestOps() &amp; SelectionKeyImpl.OP_CONNECT) != 0) {\n                if (!ski.channel.socket().isConnectionless()) {\n                    IConnectionSocket cs = (IConnectionSocket)ski.channel.socket();\n                    if (!ski.channel.socket().isAccepting() &amp;&amp; !cs.isConnecting() &amp;&amp; !cs.isConnected()) {\n                        notify |= markConnect(ski);\n                    }\n                }\n            }\n\n            if ((ski.interestOps() &amp; SelectionKeyImpl.OP_ACCEPT) != 0) {\n                //provider().getApp().printMessage(\"accept check: ski: \" + ski + \", connectionless: \" + ski.channel.socket().isConnectionless() + \", listening: \" + ski.channel.socket().isListening() + \", hasPendingConn: \" + (ski.channel.socket().isConnectionless() ? \"nope!\" : ((IConnectionSocket)ski.channel.socket()).hasPendingConnections()));\n                if (!ski.channel.socket().isConnectionless() &amp;&amp; ski.channel.socket().isListening()) {\n                    IConnectionSocket cs = (IConnectionSocket)ski.channel.socket();\n                    if (cs.hasPendingConnections()) {\n                        notify |= markAccept(ski);\n                    }\n                }\n            }\n            return notify;\n        }\n    }\n\n    private boolean handleSelect() {\n        boolean notify = false;\n\n        // get initial status\n        for (SelectionKey k : keys) {\n            notify |= handleSelect(k);\n        }\n\n        return notify;\n    }\n\n    /* (non-Javadoc)\n     * @see kokunet.SelectorImpl#doSelect(long)\n     */\n    @Override\n    protected int doSelect(long timeout) throws IOException {\n        processDeregisterQueue();\n\n        long timestartedms = System.currentTimeMillis();\n\n        synchronized (selectedKeys) {\n            synchronized (currListener) {\n                wakeup = false;\n                selectingThread = Thread.currentThread();\n                selecting = true;\n            }\n            try {\n                handleSelect();\n\n                if (!selectedKeys.isEmpty() || timeout == 0) {\n                    return selectedKeys.size();\n                }\n\n                //TODO: useless op if we have keys available\n                for (SelectionKey key : keys) {\n                    ((SelectionKeyImpl)key).channel.socket().addListener(currListener);\n                }\n                try {\n                    while (!wakeup &amp;&amp; isOpen() &amp;&amp; selectedKeys.isEmpty()) {\n                        CountDownLatch latch = null;\n                        synchronized (currListener) {\n                            if (wakeup || !isOpen() || !selectedKeys.isEmpty()) {\n                                break;\n                            }\n                            latch = currListener.newLatch();\n                        }\n                        try {\n                            if (timeout &gt; 0) {\n                                long currtimems = System.currentTimeMillis();\n                                long remainingMS = (timestartedms + timeout) - currtimems;\n\n                                if (remainingMS &gt; 0) {\n                                    latch.await(remainingMS, TimeUnit.MILLISECONDS);\n                                } else {\n                                    break;\n                                }\n                            } else {\n                                latch.await();\n                            }\n                        } catch (InterruptedException e) {\n\n                        }\n                    }\n                    return selectedKeys.size();\n                } finally {\n                    for (SelectionKey key : keys) {\n                        ((SelectionKeyImpl)key).channel.socket().removeListener(currListener);\n                    }\n                }\n            } finally {\n                synchronized (currListener) {\n                    selecting = false;\n                    selectingThread = null;\n                    wakeup = false;\n                }\n            }\n        }\n    }\n\n    /* (non-Javadoc)\n     * @see kokunet.SelectorImpl#implRegister(kokunet.SelectionKeyImpl)\n     */\n    @Override\n    protected void implRegister(SelectionKeyImpl ski) {\n        synchronized (closeLock) {\n            if (closed) throw new ClosedSelectorException();\n            synchronized (channelToKey) {\n                synchronized (socketToChannel) {\n                    keys.add(ski);\n                    socketToChannel.put(ski.channel.socket(), ski.channel);\n                    channelToKey.put(ski.channel, ski);\n                }\n            }\n        }\n\n    }\n\n    /* (non-Javadoc)\n     * @see kokunet.SelectorImpl#implDereg(kokunet.SelectionKeyImpl)\n     */\n    @Override\n    protected void implDereg(SelectionKeyImpl ski) throws IOException {\n        synchronized (channelToKey) {\n            synchronized (socketToChannel) {\n                keys.remove(ski);\n                socketToChannel.remove(ski.channel.socket());\n                channelToKey.remove(ski.channel);\n\n                SelectableChannel selch = ski.channel();\n\n                if (!selch.isOpen() &amp;&amp; !selch.isRegistered())\n                    ((SelChImpl)selch).kill();\n            }\n        }\n    }\n\n    /* (non-Javadoc)\n     * @see kokunet.SelectorImpl#wakeup()\n     */\n    @Override\n    public Selector wakeup() {\n        synchronized (currListener) {\n            if (selecting) {\n                wakeup = true;\n                selecting = false;\n                selectingThread.interrupt();\n                selectingThread = null;\n            }\n        }\n        return this;\n    }\n}\n</code></pre>\n\n<p>Cheers,<br>\nChris</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633595968,"creation_date":1633593384,"answer_id":69477402,"question_id":69477350,"body_markdown":"You can make use of `.isEmpty()` or `.equals(&quot;&quot;)` in conjunction like below\r\n\r\n\r\n    for (int i = 1; i &lt;= noPriorityPageTotal; i++) {\r\n        List&lt;WebElement&gt; allListofNoPriority = driver.findElements(By.xpath(&quot;(//*[@class=&#39;sortable-row&#39;])[&quot; + i + &quot;]//td[3]&quot;));\r\n        for (WebElement element : allListofNoPriority) {\r\n           // logger.info(&quot;The text is &quot;+ element.getText());\r\n        \tif (element.getText().isEmpty() || element.getText().equals(&quot;&quot;)) {\r\n        \t\tSystem.out.println(&quot;Test case should be pass&quot;);\r\n        \t}\r\n        \telse {\r\n        \t\tSystem.out.println(&quot;Test case should be fail.&quot;);\r\n        \t}\r\n        }\r\n    }\r\n\r\nin case you are TestNg as a test automation framework, you can use `assertion` as below :\r\n\r\n    for (int i = 1; i &lt;= noPriorityPageTotal; i++) {\r\n        List&lt;WebElement&gt; allListofNoPriority = driver.findElements(By.xpath(&quot;(//*[@class=&#39;sortable-row&#39;])[&quot; + i + &quot;]//td[3]&quot;));\r\n        for (WebElement element : allListofNoPriority) {\r\n           // logger.info(&quot;The text is &quot;+ element.getText());\r\n        \tif (element.getText().isEmpty() || element.getText().equals(&quot;&quot;)) {\r\n        \t\tSystem.out.println(&quot;Test case should be pass&quot;);\r\n        \t\tlogger.info(&quot;The text is &quot;+ element.getText());\r\n        \t\tAssert.assertTrue(true);\r\n        \t}\r\n        \telse {\r\n        \t\tSystem.out.println(&quot;Test case should be fail.&quot;);\r\n        \t\tlogger.info(&quot;The text is &quot;+ element.getText());\r\n        \t\tAssert.assertTrue(false);\r\n        \t}\r\n        }\r\n    }","title":"I want to pass my test if the element in selenium returns empty text","body":"<p>You can make use of <code>.isEmpty()</code> or <code>.equals(&quot;&quot;)</code> in conjunction like below</p>\n<pre><code>for (int i = 1; i &lt;= noPriorityPageTotal; i++) {\n    List&lt;WebElement&gt; allListofNoPriority = driver.findElements(By.xpath(&quot;(//*[@class='sortable-row'])[&quot; + i + &quot;]//td[3]&quot;));\n    for (WebElement element : allListofNoPriority) {\n       // logger.info(&quot;The text is &quot;+ element.getText());\n        if (element.getText().isEmpty() || element.getText().equals(&quot;&quot;)) {\n            System.out.println(&quot;Test case should be pass&quot;);\n        }\n        else {\n            System.out.println(&quot;Test case should be fail.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>in case you are TestNg as a test automation framework, you can use <code>assertion</code> as below :</p>\n<pre><code>for (int i = 1; i &lt;= noPriorityPageTotal; i++) {\n    List&lt;WebElement&gt; allListofNoPriority = driver.findElements(By.xpath(&quot;(//*[@class='sortable-row'])[&quot; + i + &quot;]//td[3]&quot;));\n    for (WebElement element : allListofNoPriority) {\n       // logger.info(&quot;The text is &quot;+ element.getText());\n        if (element.getText().isEmpty() || element.getText().equals(&quot;&quot;)) {\n            System.out.println(&quot;Test case should be pass&quot;);\n            logger.info(&quot;The text is &quot;+ element.getText());\n            Assert.assertTrue(true);\n        }\n        else {\n            System.out.println(&quot;Test case should be fail.&quot;);\n            logger.info(&quot;The text is &quot;+ element.getText());\n            Assert.assertTrue(false);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633595440,"creation_date":1633595440,"answer_id":69477870,"question_id":69477350,"body_markdown":"You can use `Assertions` to fail the case if string is not empty.\r\n\r\n       for (int i = 1; i &lt;= noPriorityPageTotal; i++) {\r\n    \t\t\tList&lt;WebElement&gt; allListofNoPriority = driver\r\n    \t\t\t\t\t.findElements(By.xpath(&quot;(//*[@class=&#39;sortable-row&#39;])[&quot; + i + &quot;]//td[3]&quot;));\r\n    \t\t\tfor (WebElement element : allListofNoPriority) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tAssertions.assertThat(element.getText()).isEmpty();\r\n    \t\t\t\t} catch (AssertionError e) {\r\n    \t\t\t\t\tlogger.info(&quot;String is not empty. The text is &quot; + element.getText());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}","title":"I want to pass my test if the element in selenium returns empty text","body":"<p>You can use <code>Assertions</code> to fail the case if string is not empty.</p>\n<pre><code>   for (int i = 1; i &lt;= noPriorityPageTotal; i++) {\n            List&lt;WebElement&gt; allListofNoPriority = driver\n                    .findElements(By.xpath(&quot;(//*[@class='sortable-row'])[&quot; + i + &quot;]//td[3]&quot;));\n            for (WebElement element : allListofNoPriority) {\n                try {\n                    Assertions.assertThat(element.getText()).isEmpty();\n                } catch (AssertionError e) {\n                    logger.info(&quot;String is not empty. The text is &quot; + element.getText());\n                }\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":15856199,"reputation":81,"user_id":11440528,"display_name":"Abdurehman Siddiqui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":942,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":69477402,"answer_count":2,"score":-1,"last_activity_date":1633595968,"creation_date":1633593126,"question_id":69477350,"body_markdown":"In below code i want to check when i have applied a &quot;No Priority&quot; filter it should check that whether that priority column have any text in it or not, if it has any text that means it is returning some priority number and the test case should fail.\r\nright now it is only printing the text as empty because i have applied filter but how do i validate that if it returns some text, and then mark it as failed. also a count of every element that returns empty string and another variable to count elements which returns some specific text would be a bonus.\r\n\r\n            for (int i = 1; i &lt;= noPriorityPageTotal; i++) {\r\n                List&lt;WebElement&gt; allListofNoPriority = driver.findElements(By.xpath(&quot;(//*[@class=&#39;sortable-row&#39;])[&quot; + i + &quot;]//td[3]&quot;));\r\n                for (WebElement element : allListofNoPriority) {\r\n                    logger.info(&quot;The text is &quot;+ element.getText());\r\n                }\r\n            }","title":"I want to pass my test if the element in selenium returns empty text","body":"<p>In below code i want to check when i have applied a &quot;No Priority&quot; filter it should check that whether that priority column have any text in it or not, if it has any text that means it is returning some priority number and the test case should fail.\nright now it is only printing the text as empty because i have applied filter but how do i validate that if it returns some text, and then mark it as failed. also a count of every element that returns empty string and another variable to count elements which returns some specific text would be a bonus.</p>\n<pre><code>        for (int i = 1; i &lt;= noPriorityPageTotal; i++) {\n            List&lt;WebElement&gt; allListofNoPriority = driver.findElements(By.xpath(&quot;(//*[@class='sortable-row'])[&quot; + i + &quot;]//td[3]&quot;));\n            for (WebElement element : allListofNoPriority) {\n                logger.info(&quot;The text is &quot;+ element.getText());\n            }\n        }\n</code></pre>\n"},{"tags":["java","google-cloud-platform","http-headers","google-cloud-run"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1633615719,"post_id":69477944,"comment_id":122811708,"body_markdown":"You need to check your OWN token in your OWN header key. I don&#39;t see any other solution :(","body":"You need to check your OWN token in your OWN header key. I don&#39;t see any other solution :("},{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1633624504,"post_id":69477944,"comment_id":122815624,"body_markdown":"Review my answer here: https://stackoverflow.com/a/59297859/8016720 Google IAP supports HTTP **Proxy-Authorization** header: https://cloud.google.com/iap/docs/authentication-howto#authenticating_from_proxy-authorization_header","body":"Review my answer here: <a href=\"https://stackoverflow.com/a/59297859/8016720\">stackoverflow.com/a/59297859/8016720</a> Google IAP supports HTTP <b>Proxy-Authorization</b> header: <a href=\"https://cloud.google.com/iap/docs/authentication-howto#authenticating_from_proxy-authorization_header\" rel=\"nofollow noreferrer\">cloud.google.com/iap/docs/&hellip;</a>"},{"owner":{"account_id":19966216,"reputation":1,"user_id":14632750,"display_name":"pineappleattack"},"score":0,"creation_date":1633633298,"post_id":69477944,"comment_id":122818757,"body_markdown":"@JohnHanley thanks, I tried it with Proxy-Authorization but it doesn&#39;t work as excepted. But I can try it again... may be the custom header is currently the only solution...","body":"@JohnHanley thanks, I tried it with Proxy-Authorization but it doesn&#39;t work as excepted. But I can try it again... may be the custom header is currently the only solution..."},{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1633633708,"post_id":69477944,"comment_id":122818892,"body_markdown":"The header does not work for me either. That is why I linked to my previous answer. I expect that this will work at some point soon otherwise Google would not be updating the SDKs.","body":"The header does not work for me either. That is why I linked to my previous answer. I expect that this will work at some point soon otherwise Google would not be updating the SDKs."}],"owner":{"account_id":19966216,"reputation":1,"user_id":14632750,"display_name":"pineappleattack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633595730,"creation_date":1633595730,"question_id":69477944,"body_markdown":"I want to build a Cloud Run to Cloud Run communication and use this how-to:\r\nhttps://cloud.google.com/run/docs/authenticating/service-to-service\r\nI generate a id token and add them to the Authorization: Bearer ID_TOKEN header. My problem is, that I also need to send a custom JWT Token in the Authorization header. \r\nIs there a way to pass both token in the Authorization header without a custom header? Or has google cloud the option for a alternative header?","title":"GCP Cloud Run service-to-service Authentication using multiple Token","body":"<p>I want to build a Cloud Run to Cloud Run communication and use this how-to:\n<a href=\"https://cloud.google.com/run/docs/authenticating/service-to-service\" rel=\"nofollow noreferrer\">https://cloud.google.com/run/docs/authenticating/service-to-service</a>\nI generate a id token and add them to the Authorization: Bearer ID_TOKEN header. My problem is, that I also need to send a custom JWT Token in the Authorization header.\nIs there a way to pass both token in the Authorization header without a custom header? Or has google cloud the option for a alternative header?</p>\n"},{"tags":["java","loops","set"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1633558644,"post_id":69473253,"comment_id":122795022,"body_markdown":"Sounds more like you want some kind of diff engine/workflow, where you can compare the &quot;database&quot; with the &quot;memory&quot; and figure out the differences and then apply changes as you need","body":"Sounds more like you want some kind of diff engine/workflow, where you can compare the &quot;database&quot; with the &quot;memory&quot; and figure out the differences and then apply changes as you need"}],"answers":[{"tags":[],"owner":{"account_id":20470081,"reputation":17,"user_id":15020736,"display_name":"Varo95"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633595499,"creation_date":1633595499,"answer_id":69477883,"question_id":69473253,"body_markdown":"I already resolve it, thanks any way, i already do this and seems to work:\r\n\r\n```\r\nRoomList temp = load();\r\n                    if (temp.getList().size() &gt; roomList.getList().size()) {\r\n                        for (Room room_xml : temp.getList()) {\r\n                            if (roomList.addRoom(room_xml)) {\r\n                                System.out.println(&quot;Room was loaded on RAM&quot;);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        for (Room room_xml : temp.getList()) {\r\n                            for (Room room_ram : roomList.getList()) {\r\n                                if (room_ram.equals(room_xml)) {\r\n                                    if (room_ram.getMessageList().size() &lt; room_xml.getMessageList().size()) {\r\n                                        room_ram.getMessageList().clear();\r\n                                        room_ram.getMessageList().addAll(room_xml.getMessageList());\r\n                                    }\r\n                                    room_ram.getUserList().clear();\r\n                                    room_ram.getUserList().addAll(room_xml.getUserList());\r\n                                }\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    saveFile(roomList);\r\n```\r\nAnd saving it too when user left the room or join but i need to make some little fixes more hahahaha well now i feel good with myself","title":"How i can update this Setlist of users?","body":"<p>I already resolve it, thanks any way, i already do this and seems to work:</p>\n<pre><code>RoomList temp = load();\n                    if (temp.getList().size() &gt; roomList.getList().size()) {\n                        for (Room room_xml : temp.getList()) {\n                            if (roomList.addRoom(room_xml)) {\n                                System.out.println(&quot;Room was loaded on RAM&quot;);\n                            }\n                        }\n                    } else {\n                        for (Room room_xml : temp.getList()) {\n                            for (Room room_ram : roomList.getList()) {\n                                if (room_ram.equals(room_xml)) {\n                                    if (room_ram.getMessageList().size() &lt; room_xml.getMessageList().size()) {\n                                        room_ram.getMessageList().clear();\n                                        room_ram.getMessageList().addAll(room_xml.getMessageList());\n                                    }\n                                    room_ram.getUserList().clear();\n                                    room_ram.getUserList().addAll(room_xml.getUserList());\n                                }\n                                break;\n                            }\n                        }\n                    }\n                    saveFile(roomList);\n</code></pre>\n<p>And saving it too when user left the room or join but i need to make some little fixes more hahahaha well now i feel good with myself</p>\n"}],"owner":{"account_id":20470081,"reputation":17,"user_id":15020736,"display_name":"Varo95"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1633595499,"creation_date":1633558333,"question_id":69473253,"body_markdown":"I need some help guys. I&#39;m making a chat who read an XML each 10 sec aprox (yeah the database is the XML, congrats my teacher, we can&#39;t change database format xDD)\r\n\r\nSo on, my question now i create the function, replace the messages is easy, if the xml messages are more than RAM one, then i clear the ram and then add all messages again, but i can&#39;t do that to users, i don&#39;t know why but i think equals or something is broken(? i don&#39;t know pls help me my brain is about to break!\r\n\r\n    if (temp.getList().size() &gt; roomList.getList().size()) {\r\n        for (Room room_xml : temp.getList()) {\r\n             if (roomList.addRoom(room_xml)) {\r\n                 System.out.println(&quot;A room was loaded&quot;);\r\n             }\r\n        }\r\n    } else {\r\n        for (Room room_xml : temp.getList()) {\r\n             for (Room room_ram : roomList.getList()) {\r\n                  if (room_ram.equals(room_xml)) {\r\n                      if (room_ram.getMessageList().size() &lt; room_xml.getMessageList().size()) {\r\n                          room_ram.getMessageList().clear();\r\n                          room_ram.getMessageList().addAll(room_xml.getMessageList());\r\n                      }\r\n                      Set&lt;User&gt; us_xml = room_xml.getUserList();\r\n                      for(User u_xml: us_xml){\r\n                          for(User u_ram: room_ram.getUserList()){\r\n                              if(room_ram.getUserList().add(u_xml)){\r\n                                 System.out.println(&quot;User was added(?&quot;);\r\n                              }\r\n                          }\r\n                       }\r\n                       /*for (User u_xml : room_xml.getUserList()) {\r\n                              if(room_ram.getUserList().add(u_xml)){\r\n                                 System.out.println(&quot;User was added(?&quot;);\r\n                              }else{\r\n                                 break;\r\n                              }\r\n                         }*/\r\nI share my proyect on github if u need more info about that : &lt;https://github.com/Varo95/ChaTerra&gt;\r\nThis code is on RoomListDAO.java\r\nPD: I put print but i use javafx xd\r\n\r\nI got another idea, like declaring actual_user on roomdao and check on xml is on the list to add one....but doesn&#39;t seems to work :(","title":"How i can update this Setlist of users?","body":"<p>I need some help guys. I'm making a chat who read an XML each 10 sec aprox (yeah the database is the XML, congrats my teacher, we can't change database format xDD)</p>\n<p>So on, my question now i create the function, replace the messages is easy, if the xml messages are more than RAM one, then i clear the ram and then add all messages again, but i can't do that to users, i don't know why but i think equals or something is broken(? i don't know pls help me my brain is about to break!</p>\n<pre><code>if (temp.getList().size() &gt; roomList.getList().size()) {\n    for (Room room_xml : temp.getList()) {\n         if (roomList.addRoom(room_xml)) {\n             System.out.println(&quot;A room was loaded&quot;);\n         }\n    }\n} else {\n    for (Room room_xml : temp.getList()) {\n         for (Room room_ram : roomList.getList()) {\n              if (room_ram.equals(room_xml)) {\n                  if (room_ram.getMessageList().size() &lt; room_xml.getMessageList().size()) {\n                      room_ram.getMessageList().clear();\n                      room_ram.getMessageList().addAll(room_xml.getMessageList());\n                  }\n                  Set&lt;User&gt; us_xml = room_xml.getUserList();\n                  for(User u_xml: us_xml){\n                      for(User u_ram: room_ram.getUserList()){\n                          if(room_ram.getUserList().add(u_xml)){\n                             System.out.println(&quot;User was added(?&quot;);\n                          }\n                      }\n                   }\n                   /*for (User u_xml : room_xml.getUserList()) {\n                          if(room_ram.getUserList().add(u_xml)){\n                             System.out.println(&quot;User was added(?&quot;);\n                          }else{\n                             break;\n                          }\n                     }*/\n</code></pre>\n<p>I share my proyect on github if u need more info about that : <a href=\"https://github.com/Varo95/ChaTerra\" rel=\"nofollow noreferrer\">https://github.com/Varo95/ChaTerra</a>\nThis code is on RoomListDAO.java\nPD: I put print but i use javafx xd</p>\n<p>I got another idea, like declaring actual_user on roomdao and check on xml is on the list to add one....but doesn't seems to work :(</p>\n"},{"tags":["java","spring-boot","gradle","intellij-idea","microservices"],"answers":[{"tags":[],"owner":{"account_id":393100,"reputation":322,"user_id":754783,"accept_rate":75,"display_name":"Hosein Hamedi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633594886,"creation_date":1633545770,"answer_id":69471105,"question_id":69470544,"body_markdown":" - To remove dependencies from the project, simply go to your\r\n   build.gradle file and remove all the lines containing\r\n   &quot;**implementation**&quot;, &quot;**complie**&quot; or anything similar.\r\n - However if you just want to remove them from cache and redownload\r\n   them simply enter this command in the terminal: \r\n\r\n&gt; **gradle clean build**\r\n\r\n   or in the gradle menu which you can find in the IntelliJ Sidebar\r\n   press &quot;Reload all gradle projects&quot;\r\n - To see the version of the dependencies you can either use\r\n   &quot;Dependencies&quot; new feature of IntelliJ, or find them in the\r\n   build.gradle file.\r\n\r\nmore info [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/gradle","title":"remove and add project dependencies with gradle/intellij","body":"<ul>\n<li>To remove dependencies from the project, simply go to your\nbuild.gradle file and remove all the lines containing\n&quot;<strong>implementation</strong>&quot;, &quot;<strong>complie</strong>&quot; or anything similar.</li>\n<li>However if you just want to remove them from cache and redownload\nthem simply enter this command in the terminal:</li>\n</ul>\n<blockquote>\n<p><strong>gradle clean build</strong></p>\n</blockquote>\n<p>or in the gradle menu which you can find in the IntelliJ Sidebar\npress &quot;Reload all gradle projects&quot;</p>\n<ul>\n<li>To see the version of the dependencies you can either use\n&quot;Dependencies&quot; new feature of IntelliJ, or find them in the\nbuild.gradle file.</li>\n</ul>\n<p>more info <a href=\"https://www.baeldung.com/gradle\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633547262,"creation_date":1633547262,"answer_id":69471392,"question_id":69470544,"body_markdown":"You can Remove the already installed dependencies by using clean command \r\n```\r\ngradle clean build\r\n```\r\nThe clean task is defined by the java plugin and it simply removes the buildDir folder, thus cleaning everything including leftovers from previous builds which are no longer relevant. Not doing so may result in an unclean build which may be broken due to build artifacts produced by previous builds.\r\n\r\nAs an example assume that your build contains several tests that were failed and you decided that these are obsolete thus needs to be removed. Without cleaning the test results (using cleanTest task) or the build entirely (by running the clean task) you&#39;ll get stuck with the failed tests results which will cause your build to fail. Similar side effects can happen also with resources/classes removed from the sources but remained in the build folder that was not cleaned.\r\n\r\nThis will remove the old dependencies and build them back together once again .\r\n\r\n\r\nand about the dependencies , to check Without modules:\r\n```\r\ngradle dependencies\r\n```\r\nFor android :\r\n```\r\n gradle app:dependencies\r\n```\r\nNote: Replace app with the project module name\r\n\r\nHere is a possible solution , Another one would be to create a gradle task inside build.gradle:\r\n```\r\nsubprojects {\r\n    task listAllDependencies(type: DependencyReportTask) {}\r\n}\r\n```\r\nThen call the task with \r\n```\r\ngradle listAllDependencies\r\n```\r\n\r\nand one final simple solution is using  [Project report plugin](https://docs.gradle.org/current/userguide/userguide_single.html#project_reports_plugin)\r\n\r\nAdd this to your build.gradle \r\n```\r\napply plugin: &#39;project-report&#39;\r\n```\r\nAnd Then generate a HTML report using:\r\n```\r\ngradle htmlDependencyReport\r\n```\r\n\r\nAnd here is [IntelliJ IDEA](https://www.jetbrains.com/help/idea/work-with-gradle-dependency-diagram.html#gradle_generate) specific way .\r\n\r\nHope i helped .","title":"remove and add project dependencies with gradle/intellij","body":"<p>You can Remove the already installed dependencies by using clean command</p>\n<pre><code>gradle clean build\n</code></pre>\n<p>The clean task is defined by the java plugin and it simply removes the buildDir folder, thus cleaning everything including leftovers from previous builds which are no longer relevant. Not doing so may result in an unclean build which may be broken due to build artifacts produced by previous builds.</p>\n<p>As an example assume that your build contains several tests that were failed and you decided that these are obsolete thus needs to be removed. Without cleaning the test results (using cleanTest task) or the build entirely (by running the clean task) you'll get stuck with the failed tests results which will cause your build to fail. Similar side effects can happen also with resources/classes removed from the sources but remained in the build folder that was not cleaned.</p>\n<p>This will remove the old dependencies and build them back together once again .</p>\n<p>and about the dependencies , to check Without modules:</p>\n<pre><code>gradle dependencies\n</code></pre>\n<p>For android :</p>\n<pre><code> gradle app:dependencies\n</code></pre>\n<p>Note: Replace app with the project module name</p>\n<p>Here is a possible solution , Another one would be to create a gradle task inside build.gradle:</p>\n<pre><code>subprojects {\n    task listAllDependencies(type: DependencyReportTask) {}\n}\n</code></pre>\n<p>Then call the task with</p>\n<pre><code>gradle listAllDependencies\n</code></pre>\n<p>and one final simple solution is using  <a href=\"https://docs.gradle.org/current/userguide/userguide_single.html#project_reports_plugin\" rel=\"nofollow noreferrer\">Project report plugin</a></p>\n<p>Add this to your build.gradle</p>\n<pre><code>apply plugin: 'project-report'\n</code></pre>\n<p>And Then generate a HTML report using:</p>\n<pre><code>gradle htmlDependencyReport\n</code></pre>\n<p>And here is <a href=\"https://www.jetbrains.com/help/idea/work-with-gradle-dependency-diagram.html#gradle_generate\" rel=\"nofollow noreferrer\">IntelliJ IDEA</a> specific way .</p>\n<p>Hope i helped .</p>\n"}],"owner":{"account_id":2637536,"reputation":1977,"user_id":2281858,"accept_rate":62,"display_name":"user2281858"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69471105,"answer_count":2,"score":2,"last_activity_date":1633594886,"creation_date":1633543059,"question_id":69470544,"body_markdown":"I am a Java newbie here. I am thinking of a way to remove all the project dependencies.\r\nFor example in `nodejs`, we can simply remove the `node_module` folder and then do an `npm install`.\r\n\r\nI am using Gradle and IntelliJ IDEA\r\n\r\nHow can I do the following:\r\n\r\n 1. Remove the dependencies from the project\r\n 2. Re-add the dependency again\r\n 3. Lastly where do I see all the dependencies along with its version number in IntelliJ\r\n\r\n","title":"remove and add project dependencies with gradle/intellij","body":"<p>I am a Java newbie here. I am thinking of a way to remove all the project dependencies.\nFor example in <code>nodejs</code>, we can simply remove the <code>node_module</code> folder and then do an <code>npm install</code>.</p>\n<p>I am using Gradle and IntelliJ IDEA</p>\n<p>How can I do the following:</p>\n<ol>\n<li>Remove the dependencies from the project</li>\n<li>Re-add the dependency again</li>\n<li>Lastly where do I see all the dependencies along with its version number in IntelliJ</li>\n</ol>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":12595970,"reputation":9,"user_id":17094579,"display_name":"xPeter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633594855,"creation_date":1633594855,"answer_id":69477735,"question_id":69477426,"body_markdown":"I see in your code is work correct always add new image when click bro.\r\n\r\nYou should check `id` of image is exist in favorite list or not first. If that `id` exist in favorite list then no need to call `addImage()` method again.\r\n\r\n","title":"i am using sql databse for favorite images problem is that when i click many time on same image it add many times in favorites","body":"<p>I see in your code is work correct always add new image when click bro.</p>\n<p>You should check <code>id</code> of image is exist in favorite list or not first. If that <code>id</code> exist in favorite list then no need to call <code>addImage()</code> method again.</p>\n"}],"owner":{"account_id":21671917,"reputation":7,"user_id":15989432,"display_name":"wisal khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633594855,"creation_date":1633593507,"question_id":69477426,"body_markdown":"here is my code when i am adding images in sql databse ..\r\n\r\n    public long addImage(Images_model model) {\r\n        db = this.getWritableDatabase();\r\n        ContentValues cvImage = new ContentValues();\r\n        cvImage.put(URL, model.getUrl());\r\n        cvImage.put(FAV_ID, model.getImageID());\r\n\r\n        return db.insert(FAVORITE_TB, null, cvImage);\r\n    }\r\n\r\nand here is the code to click on favourite button on images to add in favorite..\r\n\r\n      holder.fvrtButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                try {\r\n                    Images_model model = new Images_model();\r\n                    model.setUrl(image_list.get(position).getUrl());\r\n                    model.setImageID(image_list.get(position).getImageID());\r\n                    DBHelper dbHelper = new DBHelper(context);\r\n                    long result = dbHelper.addImage(model);\r\n                   \r\n\r\n                    if (result &gt; 0) {\r\n                        holder.imageButton.setBackgroundResource(R.drawable.ic_heartfill);\r\n                        Toast.makeText(context, &quot;Save in Favorite&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        holder.imageButton.setBackgroundResource(R.drawable.ic_heart__1_);\r\n                        Toast.makeText(context, &quot;data failed&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } catch (Exception e) {\r\n                    Toast.makeText(context, e.getMessage(), Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        });","title":"i am using sql databse for favorite images problem is that when i click many time on same image it add many times in favorites","body":"<p>here is my code when i am adding images in sql databse ..</p>\n<pre><code>public long addImage(Images_model model) {\n    db = this.getWritableDatabase();\n    ContentValues cvImage = new ContentValues();\n    cvImage.put(URL, model.getUrl());\n    cvImage.put(FAV_ID, model.getImageID());\n\n    return db.insert(FAVORITE_TB, null, cvImage);\n}\n</code></pre>\n<p>and here is the code to click on favourite button on images to add in favorite..</p>\n<pre><code>  holder.fvrtButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            try {\n                Images_model model = new Images_model();\n                model.setUrl(image_list.get(position).getUrl());\n                model.setImageID(image_list.get(position).getImageID());\n                DBHelper dbHelper = new DBHelper(context);\n                long result = dbHelper.addImage(model);\n               \n\n                if (result &gt; 0) {\n                    holder.imageButton.setBackgroundResource(R.drawable.ic_heartfill);\n                    Toast.makeText(context, &quot;Save in Favorite&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    holder.imageButton.setBackgroundResource(R.drawable.ic_heart__1_);\n                    Toast.makeText(context, &quot;data failed&quot;, Toast.LENGTH_SHORT).show();\n                }\n            } catch (Exception e) {\n                Toast.makeText(context, e.getMessage(), Toast.LENGTH_LONG).show();\n            }\n        }\n    });\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633680216,"post_id":69477464,"comment_id":122829148,"body_markdown":"Sure you can, as long as the selected Date is between some specific dates. What have you tried so far to achieve that?","body":"Sure you can, as long as the selected Date is between some specific dates. What have you tried so far to achieve that?"},{"owner":{"account_id":20711711,"reputation":107,"user_id":15208199,"display_name":"Patrick"},"score":0,"creation_date":1633684929,"post_id":69477464,"comment_id":122830827,"body_markdown":"@AlexMamo I&#39;m trying what Mofidul Islam suggested below.  I created two Calendar instances then convert them to a String with a format of &quot;MMMM dd, yyyy&quot;. the first is the current date with 00:00 time and another with also 00:00 time but a day ahead. And in my query .whereGreaterThanOrEqualTo and .whereLessThanOrEqualTo. But I&#39;m receiving nothing from my firestore. But I&#39;m retrieving nothing from my firestore database.","body":"@AlexMamo I&#39;m trying what Mofidul Islam suggested below.  I created two Calendar instances then convert them to a String with a format of &quot;MMMM dd, yyyy&quot;. the first is the current date with 00:00 time and another with also 00:00 time but a day ahead. And in my query .whereGreaterThanOrEqualTo and .whereLessThanOrEqualTo. But I&#39;m receiving nothing from my firestore. But I&#39;m retrieving nothing from my firestore database."},{"owner":{"account_id":20711711,"reputation":107,"user_id":15208199,"display_name":"Patrick"},"score":0,"creation_date":1633685089,"post_id":69477464,"comment_id":122830890,"body_markdown":"This is my query: query = collectionReference.document(Constants.CURRENT_DOC).collection(&quot;timecard&quot;)                         .whereGreaterThanOrEqualTo(&quot;time_in&quot;,dateFrom).whereLessThanOrEqualTo(&quot;time_in&quot;dateTo);","body":"This is my query: query = collectionReference.document(Constants.CURRENT_DOC).collecti&zwnj;&#8203;on(&quot;timecard&quot;)                         .whereGreaterThanOrEqualTo(&quot;time_in&quot;,dateFrom).whereLessThan&zwnj;&#8203;OrEqualTo(&quot;time_in&quot;d&zwnj;&#8203;ateTo);"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1633685968,"post_id":69477464,"comment_id":122831226,"body_markdown":"That&#39;s not gonna work. You need Date objects. Show us your database schema and the elements you want to filter, so I can provide the right query.","body":"That&#39;s not gonna work. You need Date objects. Show us your database schema and the elements you want to filter, so I can provide the right query."}],"answers":[{"tags":[],"owner":{"account_id":6932885,"reputation":448,"user_id":5321847,"display_name":"Mofidul Islam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633594754,"creation_date":1633594754,"answer_id":69477713,"question_id":69477464,"body_markdown":"Let&#39;s assume the selected date is 7 Oct,2021\r\nYou can just make two DateTime range \r\n\r\n - 1.7 Oct 2021 00:00\r\n - 2.7 Oct 2021 23:59\r\n\r\nNow you can query with date range like greater than and less then on timestamp field in firestore","title":"Firestore Query using DatePickerDialog","body":"<p>Let's assume the selected date is 7 Oct,2021\nYou can just make two DateTime range</p>\n<ul>\n<li>1.7 Oct 2021 00:00</li>\n<li>2.7 Oct 2021 23:59</li>\n</ul>\n<p>Now you can query with date range like greater than and less then on timestamp field in firestore</p>\n"}],"owner":{"account_id":20711711,"reputation":107,"user_id":15208199,"display_name":"Patrick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69477713,"answer_count":1,"score":0,"last_activity_date":1633594754,"creation_date":1633593701,"question_id":69477464,"body_markdown":"I&#39;m stuck and need help. What I want to achieve is, to retrieve all the documents from my Firestore collection by their timestamp using a Date Picker Dialog. \r\n\r\nthis is my code for the bottom picker dialog\r\n\r\n            button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Calendar calendar = Calendar.getInstance();\r\n                int YEAR = calendar.get(Calendar.YEAR);\r\n                int MONTH = calendar.get(Calendar.MONTH);\r\n                int DATE = calendar.get(Calendar.DATE);\r\n\r\n                DatePickerDialog datePickerDialog = new DatePickerDialog(context, new DatePickerDialog.OnDateSetListener() {\r\n                    @Override\r\n                    public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {\r\n                        Calendar cal = Calendar.getInstance();\r\n                        cal.set(Calendar.YEAR, year);\r\n                        cal.set(Calendar.MONTH, month);\r\n                        cal.set(Calendar.DATE, dayOfMonth);\r\n\r\n                        CharSequence charSequence = DateFormat.format(&quot;MMM dd, yyyy EEEE&quot;, cal);\r\n                        Log.d(&quot;TAG&quot;, &quot;onDateSet: &quot;+charSequence);\r\n\r\n\r\n                    }\r\n                }, YEAR, MONTH, DATE);\r\n                datePickerDialog.show();\r\n            }\r\n        });\r\n\r\nMy question is since the Firestore timestamp has two parameters which is the Date and time, can I query it with only the date from my time picker dialog?","title":"Firestore Query using DatePickerDialog","body":"<p>I'm stuck and need help. What I want to achieve is, to retrieve all the documents from my Firestore collection by their timestamp using a Date Picker Dialog.</p>\n<p>this is my code for the bottom picker dialog</p>\n<pre><code>        button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Calendar calendar = Calendar.getInstance();\n            int YEAR = calendar.get(Calendar.YEAR);\n            int MONTH = calendar.get(Calendar.MONTH);\n            int DATE = calendar.get(Calendar.DATE);\n\n            DatePickerDialog datePickerDialog = new DatePickerDialog(context, new DatePickerDialog.OnDateSetListener() {\n                @Override\n                public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {\n                    Calendar cal = Calendar.getInstance();\n                    cal.set(Calendar.YEAR, year);\n                    cal.set(Calendar.MONTH, month);\n                    cal.set(Calendar.DATE, dayOfMonth);\n\n                    CharSequence charSequence = DateFormat.format(&quot;MMM dd, yyyy EEEE&quot;, cal);\n                    Log.d(&quot;TAG&quot;, &quot;onDateSet: &quot;+charSequence);\n\n\n                }\n            }, YEAR, MONTH, DATE);\n            datePickerDialog.show();\n        }\n    });\n</code></pre>\n<p>My question is since the Firestore timestamp has two parameters which is the Date and time, can I query it with only the date from my time picker dialog?</p>\n"},{"tags":["java","jenkins","groovy"],"answers":[{"tags":[],"owner":{"account_id":18165126,"reputation":278,"user_id":13215866,"display_name":"Sebastian Westemeyer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633550036,"creation_date":1633550036,"answer_id":69471955,"question_id":69465885,"body_markdown":"Assuming you want to do something with the resulting String object from `getSecret` method. I further assume, that you\r\nhave already put your `secrets.groovy` file in a shared library (identified by the name `test-library` in my example) \r\nand have the correct `@Library` annotation in your build script. \r\n\r\n*Note:* I had to &quot;mock&quot; some of the objects to test my code. So you can basically ignore the first few code snippets if \r\nyou like.\r\n\r\n## Jenkins shared library code\r\n### Mock file for `vars/Region.groovy`\r\n```java\r\nenum Region {\r\n    EU_WEST_1\r\n}\r\n```\r\n\r\n### Mock file for `vars/SecretsManagerClient.groovy`\r\n```java\r\nclass SecretsManagerClient {\r\n    static SecretsManagerClientBuilder builder() {\r\n        new SecretsManagerClientBuilder()\r\n    }\r\n\r\n    def close() {\r\n    }\r\n\r\n    static class SecretsManagerClientBuilder {\r\n        SecretsManagerClientBuilder region(Region region) {\r\n            this\r\n        }\r\n\r\n        SecretsManagerClient build() {\r\n            new SecretsManagerClient()\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n### Code example for `vars/secrets.goovy`\r\n```groovy\r\n// probably some import for SecretsManagerClient and Region\r\n\r\n//public class secrets {\r\n\r\ndef call(String secretName, String secretType) {\r\n    SecretsManagerClient sm = SecretsManagerClient.builder()\r\n            .region(Region.EU_WEST_1)\r\n            .build();\r\n\r\n    try {\r\n        return getSecret(sm, secretName, secretType);\r\n    } finally {\r\n        sm.close();\r\n    }\r\n}\r\n\r\nstatic String getSecret(SecretsManagerClient sm, String secretName, String secretType) {\r\n    &quot;secret&quot;\r\n}\r\n\r\n//}\r\n```\r\n\r\n## Jenkins pipeline build script\r\nI have used a very simple build script calling the build step and echoing the result from `getSecret` method.\r\n\r\n```groovy\r\n// import library named &quot;test-library&quot; in settings (mind the underscore at the end!)\r\n@Library(&#39;test-library&#39;)_\r\n\r\n// run on master node (or any other label you might choose)\r\nnode(&#39;master&#39;) {\r\n  // create a stage\r\n  stage(&#39;Get secret from new step&#39;) {\r\n    // run our custom build step named &quot;secrets&quot;, which will use &quot;call&quot; function to call &quot;getSecret&quot;  \r\n    def theSecret = secrets &quot;name&quot;, &quot;type&quot;\r\n    // print result\r\n    sh &quot;echo ${theSecret}&quot;\r\n  }\r\n}\r\n```\r\n\r\n## Output\r\n```groovy\r\n[Pipeline] Start of Pipeline\r\n[Pipeline] node\r\nRunning on Jenkins in /var/jenkins_home/workspace/Test-Job\r\n[Pipeline] {\r\n[Pipeline] stage\r\n[Pipeline] { (Get secret from new step)\r\n[Pipeline] sh\r\n+ echo secret\r\nsecret\r\n[Pipeline] }\r\n[Pipeline] // stage\r\n[Pipeline] }\r\n[Pipeline] // node\r\n[Pipeline] End of Pipeline\r\n```","title":"How do I convert this groovy class and run it in Jenkins as a library?","body":"<p>Assuming you want to do something with the resulting String object from <code>getSecret</code> method. I further assume, that you\nhave already put your <code>secrets.groovy</code> file in a shared library (identified by the name <code>test-library</code> in my example)\nand have the correct <code>@Library</code> annotation in your build script.</p>\n<p><em>Note:</em> I had to &quot;mock&quot; some of the objects to test my code. So you can basically ignore the first few code snippets if\nyou like.</p>\n<h2>Jenkins shared library code</h2>\n<h3>Mock file for <code>vars/Region.groovy</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>enum Region {\n    EU_WEST_1\n}\n</code></pre>\n<h3>Mock file for <code>vars/SecretsManagerClient.groovy</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>class SecretsManagerClient {\n    static SecretsManagerClientBuilder builder() {\n        new SecretsManagerClientBuilder()\n    }\n\n    def close() {\n    }\n\n    static class SecretsManagerClientBuilder {\n        SecretsManagerClientBuilder region(Region region) {\n            this\n        }\n\n        SecretsManagerClient build() {\n            new SecretsManagerClient()\n        }\n    }\n}\n</code></pre>\n<h3>Code example for <code>vars/secrets.goovy</code></h3>\n<pre><code>// probably some import for SecretsManagerClient and Region\n\n//public class secrets {\n\ndef call(String secretName, String secretType) {\n    SecretsManagerClient sm = SecretsManagerClient.builder()\n            .region(Region.EU_WEST_1)\n            .build();\n\n    try {\n        return getSecret(sm, secretName, secretType);\n    } finally {\n        sm.close();\n    }\n}\n\nstatic String getSecret(SecretsManagerClient sm, String secretName, String secretType) {\n    &quot;secret&quot;\n}\n\n//}\n</code></pre>\n<h2>Jenkins pipeline build script</h2>\n<p>I have used a very simple build script calling the build step and echoing the result from <code>getSecret</code> method.</p>\n<pre><code>// import library named &quot;test-library&quot; in settings (mind the underscore at the end!)\n@Library('test-library')_\n\n// run on master node (or any other label you might choose)\nnode('master') {\n  // create a stage\n  stage('Get secret from new step') {\n    // run our custom build step named &quot;secrets&quot;, which will use &quot;call&quot; function to call &quot;getSecret&quot;  \n    def theSecret = secrets &quot;name&quot;, &quot;type&quot;\n    // print result\n    sh &quot;echo ${theSecret}&quot;\n  }\n}\n</code></pre>\n<h2>Output</h2>\n<pre><code>[Pipeline] Start of Pipeline\n[Pipeline] node\nRunning on Jenkins in /var/jenkins_home/workspace/Test-Job\n[Pipeline] {\n[Pipeline] stage\n[Pipeline] { (Get secret from new step)\n[Pipeline] sh\n+ echo secret\nsecret\n[Pipeline] }\n[Pipeline] // stage\n[Pipeline] }\n[Pipeline] // node\n[Pipeline] End of Pipeline\n</code></pre>\n"}],"owner":{"account_id":15193140,"reputation":621,"user_id":10963322,"display_name":"TheWalkingMalteser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69471955,"answer_count":1,"score":0,"last_activity_date":1633594470,"creation_date":1633523954,"question_id":69465885,"body_markdown":"I have this groovy class that has a main method and some other methods.\r\n```\r\npublic class secrets {\r\n    public static void main(String[] args) {\r\n        String secretName = args[0]; \r\n        String secretType = args[1];  //username, password or b64_authkey\r\n\r\n        SecretsManagerClient sm = SecretsManagerClient.builder()\r\n                .region(Region.EU_WEST_1)\r\n                .build();\r\n\r\n        getSecret(sm, secretName, secretType);\r\n        sm.close();\r\n\r\n    }\r\n    public static String getSecret(SecretsManagerClient sm,String secretName, String secretType){\r\n  .......\r\n\r\n```\r\nWhen trying to run this in Jenkins I get the error:\r\n```\r\ngroovy.lang.MissingMethodException: No signature of method: com.dev.libs.secrets.call() is applicable for argument types: (java.lang.String, java.lang.String,) values: [secret, username]\r\n```\r\nI know I need a ```call``` function, but I&#39;m not sure on how to use it in this context. How can I convert this code?","title":"How do I convert this groovy class and run it in Jenkins as a library?","body":"<p>I have this groovy class that has a main method and some other methods.</p>\n<pre><code>public class secrets {\n    public static void main(String[] args) {\n        String secretName = args[0]; \n        String secretType = args[1];  //username, password or b64_authkey\n\n        SecretsManagerClient sm = SecretsManagerClient.builder()\n                .region(Region.EU_WEST_1)\n                .build();\n\n        getSecret(sm, secretName, secretType);\n        sm.close();\n\n    }\n    public static String getSecret(SecretsManagerClient sm,String secretName, String secretType){\n  .......\n\n</code></pre>\n<p>When trying to run this in Jenkins I get the error:</p>\n<pre><code>groovy.lang.MissingMethodException: No signature of method: com.dev.libs.secrets.call() is applicable for argument types: (java.lang.String, java.lang.String,) values: [secret, username]\n</code></pre>\n<p>I know I need a <code>call</code> function, but I'm not sure on how to use it in this context. How can I convert this code?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1633592535,"post_id":69477196,"comment_id":122801834,"body_markdown":"You know that `continue` in the loop&#39;s fourth row will execute unconditionally and jump to the next iteration, right?","body":"You know that <code>continue</code> in the loop&#39;s fourth row will execute unconditionally and jump to the next iteration, right?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1633592933,"post_id":69477196,"comment_id":122801976,"body_markdown":"@user16320675 indeed: I can&#39;t compile this code.","body":"@user16320675 indeed: I can&#39;t compile this code."},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1633593113,"post_id":69477196,"comment_id":122802061,"body_markdown":"1. You probably want to compare `diceRollOne` and `challenge` instead of `player` and `challenge`.  2. You probably want to subtract points by `player = player -1` instead of setting the exact value each time.  3. You probably want to use loop to avoid writing duplicate codes but you are still writing those duplicate codes within the loop body with even more complicated logic and eventually mess up.","body":"1. You probably want to compare <code>diceRollOne</code> and <code>challenge</code> instead of <code>player</code> and <code>challenge</code>.  2. You probably want to subtract points by <code>player = player -1</code> instead of setting the exact value each time.  3. You probably want to use loop to avoid writing duplicate codes but you are still writing those duplicate codes within the loop body with even more complicated logic and eventually mess up."}],"answers":[{"tags":[],"owner":{"account_id":22634632,"reputation":31,"user_id":16811581,"display_name":"raven 97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633593465,"creation_date":1633593465,"answer_id":69477420,"question_id":69477196,"body_markdown":"You dont need to have a seperate variable to get each input from the scanner.\r\n\r\nYou can get the input each time in the while loop and compare the value to challenge. \r\n\r\nwe will exit the loop only when player or monster becomes zero.\r\nonce outside the loop, you can check who won and print the result accordingly.\r\n\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Task3 {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        task3(10);\r\n\r\n    }\r\n\r\n    public static void task3(int challenge) {\r\n        int player = 3;\r\n        int monster = 3;\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        \r\n        int diceRoll;\r\n\r\n        while (player == 0 || monster == 0) {\r\n\r\n            System.out.println(&quot;Enter your dice roll&quot;);\r\n            diceRoll = sc.nextInt();\r\n\r\n\r\n            if(player &lt; challenge)\r\n                player--;\r\n            else\r\n                monster--;\r\n        }\r\n        if(player &lt; monster)\r\n           System.out.println(&quot;Player wins!&quot;);\r\n        else\r\n           System.out.println(&quot;Monster Wins&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nif you want only numbers between 1 and 20 as the input, you should also add an if condition which checks this after getting the input","title":"Why is this While Loop not executing properly","body":"<p>You dont need to have a seperate variable to get each input from the scanner.</p>\n<p>You can get the input each time in the while loop and compare the value to challenge.</p>\n<p>we will exit the loop only when player or monster becomes zero.\nonce outside the loop, you can check who won and print the result accordingly.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Task3 {\n\n    public static void main(String[] args) {\n\n        task3(10);\n\n    }\n\n    public static void task3(int challenge) {\n        int player = 3;\n        int monster = 3;\n\n        Scanner sc = new Scanner(System.in);\n\n        \n        int diceRoll;\n\n        while (player == 0 || monster == 0) {\n\n            System.out.println(&quot;Enter your dice roll&quot;);\n            diceRoll = sc.nextInt();\n\n\n            if(player &lt; challenge)\n                player--;\n            else\n                monster--;\n        }\n        if(player &lt; monster)\n           System.out.println(&quot;Player wins!&quot;);\n        else\n           System.out.println(&quot;Monster Wins&quot;);\n    }\n}\n\n</code></pre>\n<p>if you want only numbers between 1 and 20 as the input, you should also add an if condition which checks this after getting the input</p>\n"},{"tags":[],"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633594459,"creation_date":1633594087,"answer_id":69477552,"question_id":69477196,"body_markdown":"When you are writing a while-loop, you must first think about the condition of when will the loop terminate / when will the loop continue. In your case, you want the loop to end when either `player` or `monster` become `0`. Therefore the condition for the while-loop to continue running is the opposite, i.e. both of them `&gt; 0`.\r\n\r\nThen think about what do you want to do in each iteration. In your case, the repetitive tasks are\r\n\r\n 1. Read an integer from user input\r\n 2. compare the integer with `challenge`\r\n 3. subtract 1 point from the corresponding variable\r\n   \r\nFinally, after the loop ended, you can use the value of `player` and `monster` to determine the result and print it out.\r\n\r\n----------\r\n\r\n\r\n    import java.util.Scanner; \r\n    \r\n    \r\n    public class Task3 {\r\n        public static void main(String args[]) {\r\n            task3(10); \r\n        }\r\n        \r\n        public static void task3(int challenge)\r\n        {\r\n            int player = 3;\r\n            int monster = 3;\r\n    \r\n            int dice = 0;\r\n            \r\n            Scanner sc = new Scanner(System.in);\r\n            while(player &gt; 0 &amp;&amp; monster &gt; 0)\r\n            {\r\n                System.out.println(&quot;Enter your dice roll&quot;);\r\n                dice = sc.nextInt();\r\n                if(dice &gt; challenge)\r\n                {\r\n                    monster--;\r\n                }\r\n                else\r\n                {\r\n                    player--;\r\n                }\r\n            }\r\n            if(player &gt; monster)\r\n            {\r\n                System.out.println(&quot;Player wins!&quot;);\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;Monster wins!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nP.S. Try to understand the code instead of just copy and paste to your homework :)","title":"Why is this While Loop not executing properly","body":"<p>When you are writing a while-loop, you must first think about the condition of when will the loop terminate / when will the loop continue. In your case, you want the loop to end when either <code>player</code> or <code>monster</code> become <code>0</code>. Therefore the condition for the while-loop to continue running is the opposite, i.e. both of them <code>&gt; 0</code>.</p>\n<p>Then think about what do you want to do in each iteration. In your case, the repetitive tasks are</p>\n<ol>\n<li>Read an integer from user input</li>\n<li>compare the integer with <code>challenge</code></li>\n<li>subtract 1 point from the corresponding variable</li>\n</ol>\n<p>Finally, after the loop ended, you can use the value of <code>player</code> and <code>monster</code> to determine the result and print it out.</p>\n<hr />\n<pre><code>import java.util.Scanner; \n\n\npublic class Task3 {\n    public static void main(String args[]) {\n        task3(10); \n    }\n    \n    public static void task3(int challenge)\n    {\n        int player = 3;\n        int monster = 3;\n\n        int dice = 0;\n        \n        Scanner sc = new Scanner(System.in);\n        while(player &gt; 0 &amp;&amp; monster &gt; 0)\n        {\n            System.out.println(&quot;Enter your dice roll&quot;);\n            dice = sc.nextInt();\n            if(dice &gt; challenge)\n            {\n                monster--;\n            }\n            else\n            {\n                player--;\n            }\n        }\n        if(player &gt; monster)\n        {\n            System.out.println(&quot;Player wins!&quot;);\n        }\n        else\n        {\n            System.out.println(&quot;Monster wins!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>P.S. Try to understand the code instead of just copy and paste to your homework :)</p>\n"}],"owner":{"account_id":22967281,"reputation":1,"user_id":17096175,"display_name":"Sarth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1633594459,"creation_date":1633592458,"question_id":69477196,"body_markdown":"The goal of the game is to use a while loop. In this loop, it will determine who wins the game based on the number entered. The numbers are from 1 to 20. Challenge is the variable set at 10. If &lt;= Challenge, playerOne loses one point. If &gt; challenge, the monster loses a point. Whoever loses 3 points first loses the game. I do not need to have random number generation, I just need inputs via the scanner function.\r\n\r\nI thought variables were necessary for the scanner, which is why I added the Dice variables. They are not used and I am confused if I need them or not to make the scanner work so that the user can make inputs. \r\n\r\nI am also confused on how to subtrack from the player and monster when they get hit. Which is why I set the variables under each block for the amount of points they have. This is wrong but I am stuck as to how to properly display this. \r\n\r\nI was able to get some messages to display, but any number would give me the same result which was -1 for player one. \r\n\r\nEssentially I am stuck on how to write this in code from here. Any help is greatly appreciated. \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Task3 {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            task3(20);\r\n    \r\n        }\r\n    \r\n        public static void task3(int challenge) {\r\n            challenge = 10;\r\n            int player = 3;\r\n            int monster = 3;\r\n    \r\n            Scanner sc = new Scanner(System.in);\r\n    \r\n            System.out.println(&quot;Enter your dice roll&quot;);\r\n            int diceRollOne = sc.nextInt();\r\n    \r\n            while (player &lt;= challenge) {\r\n                System.out.println(&quot;Monster misses&quot;);\r\n                System.out.println(&quot;Enter your dice roll&quot;);\r\n                int diceRollTwo = sc.nextInt();\r\n                continue;\r\n    \r\n                if (player &lt;= challenge) {\r\n                    System.out.println(&quot;-1 for player&quot;);\r\n                    player = 2;\r\n                    System.out.println(&quot;Enter your dice roll&quot;);\r\n                    int diceRollThree = sc.nextInt();\r\n    \r\n                } else if (player &gt; challenge) {\r\n                    System.out.println(&quot;-1 for monster&quot;);\r\n                    monster = 2;\r\n                    System.out.println(&quot;Enter your dice roll&quot;);\r\n                    int diceRollFour = sc.nextInt();\r\n                    continue;\r\n    \r\n                    if (player &lt;= challenge) {\r\n                        System.out.println(&quot;-1 for player&quot;);\r\n                        player = 1;\r\n                        System.out.println(&quot;Enter your dice roll&quot;);\r\n                        int diceRollFive = sc.nextInt();\r\n                        continue;\r\n    \r\n                        if (player &gt; challenge) {\r\n                            System.out.println(&quot;-1 for monster&quot;);\r\n                            monster = 1;\r\n                            System.out.println(&quot;Enter your dice roll&quot;);\r\n                            int diceRollSix = sc.nextInt();\r\n                            continue;\r\n                        } else if (player &lt;= challenge) {\r\n                            System.out.println(&quot;-1 for player&quot;);\r\n                            player = 0;\r\n                            System.out.println(&quot;Monster Wins&quot;);\r\n                            int diceRollSeven = sc.nextInt();\r\n                            continue;\r\n    \r\n                            if (player &gt; challenge) {\r\n                                System.out.println(&quot;-1 for monster&quot;);\r\n                                monster = 0;\r\n                                System.out.println(&quot;Player wins!&quot;);\r\n                                int diceRollEight = sc.nextInt();\r\n    \r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Why is this While Loop not executing properly","body":"<p>The goal of the game is to use a while loop. In this loop, it will determine who wins the game based on the number entered. The numbers are from 1 to 20. Challenge is the variable set at 10. If &lt;= Challenge, playerOne loses one point. If &gt; challenge, the monster loses a point. Whoever loses 3 points first loses the game. I do not need to have random number generation, I just need inputs via the scanner function.</p>\n<p>I thought variables were necessary for the scanner, which is why I added the Dice variables. They are not used and I am confused if I need them or not to make the scanner work so that the user can make inputs.</p>\n<p>I am also confused on how to subtrack from the player and monster when they get hit. Which is why I set the variables under each block for the amount of points they have. This is wrong but I am stuck as to how to properly display this.</p>\n<p>I was able to get some messages to display, but any number would give me the same result which was -1 for player one.</p>\n<p>Essentially I am stuck on how to write this in code from here. Any help is greatly appreciated.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Task3 {\n\n    public static void main(String[] args) {\n\n        task3(20);\n\n    }\n\n    public static void task3(int challenge) {\n        challenge = 10;\n        int player = 3;\n        int monster = 3;\n\n        Scanner sc = new Scanner(System.in);\n\n        System.out.println(&quot;Enter your dice roll&quot;);\n        int diceRollOne = sc.nextInt();\n\n        while (player &lt;= challenge) {\n            System.out.println(&quot;Monster misses&quot;);\n            System.out.println(&quot;Enter your dice roll&quot;);\n            int diceRollTwo = sc.nextInt();\n            continue;\n\n            if (player &lt;= challenge) {\n                System.out.println(&quot;-1 for player&quot;);\n                player = 2;\n                System.out.println(&quot;Enter your dice roll&quot;);\n                int diceRollThree = sc.nextInt();\n\n            } else if (player &gt; challenge) {\n                System.out.println(&quot;-1 for monster&quot;);\n                monster = 2;\n                System.out.println(&quot;Enter your dice roll&quot;);\n                int diceRollFour = sc.nextInt();\n                continue;\n\n                if (player &lt;= challenge) {\n                    System.out.println(&quot;-1 for player&quot;);\n                    player = 1;\n                    System.out.println(&quot;Enter your dice roll&quot;);\n                    int diceRollFive = sc.nextInt();\n                    continue;\n\n                    if (player &gt; challenge) {\n                        System.out.println(&quot;-1 for monster&quot;);\n                        monster = 1;\n                        System.out.println(&quot;Enter your dice roll&quot;);\n                        int diceRollSix = sc.nextInt();\n                        continue;\n                    } else if (player &lt;= challenge) {\n                        System.out.println(&quot;-1 for player&quot;);\n                        player = 0;\n                        System.out.println(&quot;Monster Wins&quot;);\n                        int diceRollSeven = sc.nextInt();\n                        continue;\n\n                        if (player &gt; challenge) {\n                            System.out.println(&quot;-1 for monster&quot;);\n                            monster = 0;\n                            System.out.println(&quot;Player wins!&quot;);\n                            int diceRollEight = sc.nextInt();\n\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","exception","java-8","java-stream","throws"],"comments":[{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":4,"creation_date":1492058705,"post_id":43383475,"comment_id":73829089,"body_markdown":"Either `ResultClassException` is not a subclass of `RuntimeException` or `resultRepository.get(resultName)` throws a checked exception. You can&#39;t throw checked exceptions from within `forEach`&#39;s lambda, as this lambda would not correspond to the `Consumer` functional interface.","body":"Either <code>ResultClassException</code> is not a subclass of <code>RuntimeException</code> or <code>resultRepository.get(resultName)</code> throws a checked exception. You can&#39;t throw checked exceptions from within <code>forEach</code>&#39;s lambda, as this lambda would not correspond to the <code>Consumer</code> functional interface."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1492070143,"post_id":43383475,"comment_id":73834485,"body_markdown":"I don&#39;t see any streams in your code, just a `forEach`. Why not use a regular `for` loop?","body":"I don&#39;t see any streams in your code, just a <code>forEach</code>. Why not use a regular <code>for</code> loop?"},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1583439728,"post_id":43383475,"comment_id":107127399,"body_markdown":"Does this answer your question? [Java 8: Lambda-Streams, Filter by Method with Exception](https://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception\">Java 8: Lambda-Streams, Filter by Method with Exception</a>"}],"answers":[{"tags":[],"owner":{"account_id":369824,"reputation":1540,"user_id":717417,"accept_rate":100,"display_name":"santosh-patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492057966,"creation_date":1492057966,"answer_id":43383558,"question_id":43383475,"body_markdown":"[You can&#39;t handle a checked exception from inside of Streams][1]\r\n\r\nOne workaround can be to throw a `RuntimeException` from `createResult` or write a method to wrap `createResult` which will catch and handle the checked exception.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27644361/how-can-i-throw-checked-exceptions-from-inside-java-8-streams","title":"How to handle Exception in Java 8 Stream?","body":"<p><a href=\"https://stackoverflow.com/questions/27644361/how-can-i-throw-checked-exceptions-from-inside-java-8-streams\">You can't handle a checked exception from inside of Streams</a></p>\n\n<p>One workaround can be to throw a <code>RuntimeException</code> from <code>createResult</code> or write a method to wrap <code>createResult</code> which will catch and handle the checked exception.</p>\n"},{"tags":[],"owner":{"account_id":10676707,"reputation":181,"user_id":7859957,"display_name":"msuper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492058497,"creation_date":1492058497,"answer_id":43383656,"question_id":43383475,"body_markdown":"I wouldn&#39;t suggest using RuntimeException as that would drive you into poor coding practice. Try to handle ResultClassException in the calling method of getResultList(...). ","title":"How to handle Exception in Java 8 Stream?","body":"<p>I wouldn't suggest using RuntimeException as that would drive you into poor coding practice. Try to handle ResultClassException in the calling method of getResultList(...). </p>\n"},{"tags":[],"owner":{"account_id":10419817,"reputation":1301,"user_id":7682767,"accept_rate":71,"display_name":"strash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626361609,"creation_date":1492060375,"answer_id":43383983,"question_id":43383475,"body_markdown":"With the lambda expressions in Java 8 you are representing inner classes. So the exception will be thrown inside your anonymous inner class.\r\ntry to add that where you are adding your the `throw new ResultClassException(&quot;Error&quot;,e)`\r\n\r\n```\r\nThread.getAllStackTraces()\r\n  .keySet()\r\n  .stream()\r\n  .map(Thread::getStackTrace)\r\n  .map(Arrays::asList)\r\n  .forEach(list -&gt; System.out.println(list.stream()\r\n\t\t  .map(i -&gt; i.toString())\r\n\t\t  .collect(Collectors.joining(&quot;\\n\\t&quot;))));\r\n```\t                    \t   \r\n\r\nand see the thread that is calling it. You will see that your exception is out of the scope you expected with the lambdas. You will see that the stream is creating many threads and your exception is not part of the thread you want.\r\n**You can wrap your method like that:**\r\nhttps://stackoverflow.com/questions/23548589/java-8-how-do-i-work-with-exception-throwing-methods-in-streams","title":"How to handle Exception in Java 8 Stream?","body":"<p>With the lambda expressions in Java 8 you are representing inner classes. So the exception will be thrown inside your anonymous inner class.\ntry to add that where you are adding your the <code>throw new ResultClassException(&quot;Error&quot;,e)</code></p>\n<pre><code>Thread.getAllStackTraces()\n  .keySet()\n  .stream()\n  .map(Thread::getStackTrace)\n  .map(Arrays::asList)\n  .forEach(list -&gt; System.out.println(list.stream()\n          .map(i -&gt; i.toString())\n          .collect(Collectors.joining(&quot;\\n\\t&quot;))));\n</code></pre>\n<p>and see the thread that is calling it. You will see that your exception is out of the scope you expected with the lambdas. You will see that the stream is creating many threads and your exception is not part of the thread you want.\n<strong>You can wrap your method like that:</strong>\n<a href=\"https://stackoverflow.com/questions/23548589/java-8-how-do-i-work-with-exception-throwing-methods-in-streams\">Java 8: How do I work with exception throwing methods in streams?</a></p>\n"},{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1492071858,"creation_date":1492071210,"answer_id":43386886,"question_id":43383475,"body_markdown":"You probably have too many responsibilities in your method. You should think about splitting it into a method that only maps and another one that gathers them.\r\n\r\n    private List&lt;Result&gt; getResultList(List&lt;String&gt; names) throws ResultClassException {\r\n      try {\r\n        return names.stream()\r\n            .map(this::getOrCreateResult)\r\n            .collect(collectingAndThen(toList(), Collections::unmodifiableList));\r\n      } catch (RuntimeException e) {\r\n        if (e.getCause() instanceof CustomException) {\r\n          throw new ResultClassException(&quot;Error&quot;, e.getCause());\r\n        }\r\n        throw e;\r\n        // Or use Guava&#39;s propagate\r\n      }\r\n    }\r\n    \r\n    private Result getOrCreateResult(String name) {\r\n      if (!resultRepository.contains(name)) {\r\n        try {\r\n          return createResult(name);\r\n        } catch (CustomException e) {\r\n          throw new RuntimeException(e);\r\n        }\r\n      } else {\r\n        log.info(&quot;Result {} already exists.&quot;, name);\r\n        return resultRepository.get(name);\r\n      }\r\n    }","title":"How to handle Exception in Java 8 Stream?","body":"<p>You probably have too many responsibilities in your method. You should think about splitting it into a method that only maps and another one that gathers them.</p>\n\n<pre><code>private List&lt;Result&gt; getResultList(List&lt;String&gt; names) throws ResultClassException {\n  try {\n    return names.stream()\n        .map(this::getOrCreateResult)\n        .collect(collectingAndThen(toList(), Collections::unmodifiableList));\n  } catch (RuntimeException e) {\n    if (e.getCause() instanceof CustomException) {\n      throw new ResultClassException(\"Error\", e.getCause());\n    }\n    throw e;\n    // Or use Guava's propagate\n  }\n}\n\nprivate Result getOrCreateResult(String name) {\n  if (!resultRepository.contains(name)) {\n    try {\n      return createResult(name);\n    } catch (CustomException e) {\n      throw new RuntimeException(e);\n    }\n  } else {\n    log.info(\"Result {} already exists.\", name);\n    return resultRepository.get(name);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2145831,"reputation":611,"user_id":1903460,"display_name":"Abhinav Atul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633594454,"creation_date":1633594454,"answer_id":69477643,"question_id":43383475,"body_markdown":"A good way to process gracefully if partially processed stream is acceptable(not wrong):\r\n```\r\n       List.of(1,2,3)\r\n       .stream().map( entry-&gt; {\r\n            try {\r\n              return Optional.of(new Object());\r\n            } catch (Exception e) {\r\n              log.error(&quot;error [{}] while transforming entry [{}]&quot;, e.getMessage(), entry, e);\r\n              return Optional.empty();\r\n            }\r\n          }).filter(Optional::isPresent)\r\n       .map(Optional::get)\r\n       .collect(Collectors.toList());\r\n```","title":"How to handle Exception in Java 8 Stream?","body":"<p>A good way to process gracefully if partially processed stream is acceptable(not wrong):</p>\n<pre><code>       List.of(1,2,3)\n       .stream().map( entry-&gt; {\n            try {\n              return Optional.of(new Object());\n            } catch (Exception e) {\n              log.error(&quot;error [{}] while transforming entry [{}]&quot;, e.getMessage(), entry, e);\n              return Optional.empty();\n            }\n          }).filter(Optional::isPresent)\n       .map(Optional::get)\n       .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":4155984,"reputation":1584,"user_id":7336418,"accept_rate":79,"display_name":"user3407267"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26788,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":43386886,"answer_count":5,"score":4,"last_activity_date":1633594454,"creation_date":1492057379,"question_id":43383475,"body_markdown":"I have a method where I am traversing through a List&lt;String&gt; and creating List&lt;Result&gt;. While doing so, I am calling a method(createResult) to will give a Result also throws CustomException which I am wrapping as ResultClassException. But I keep getting an error saying Unhandled Exception.\r\n\r\n \r\nMy Code :\r\n\r\n     private  List&lt;Result&gt; getResultList(List&lt;String&gt; results) throws ResultClassException {\r\n        List&lt;Result&gt; resultList = new ArrayList&lt;&gt;();\r\n            results.forEach(\r\n                    (resultName) -&gt; {\r\n                        if (!resultRepository.contains(resultName)) {\r\n                           try {\r\n                               final Result result = createResult(resultName);\r\n                               resultList.add(result);\r\n                           } catch (CustomException e) {\r\n                               throw new ResultClassException(&quot;Error&quot;,e);\r\n                           }\r\n    \r\n                        } else {\r\n                            resultList.add(resultRepository.get(resultName));\r\n                            log.info(&quot;Result {} already exists.&quot;, resultName);\r\n                        }\r\n                    }\r\n            );\r\n            return  Collections.unmodifiableList(resultList);\r\n        }\r\n\r\n\r\nCan Someone tell what I am doing wrong?","title":"How to handle Exception in Java 8 Stream?","body":"<p>I have a method where I am traversing through a List and creating List. While doing so, I am calling a method(createResult) to will give a Result also throws CustomException which I am wrapping as ResultClassException. But I keep getting an error saying Unhandled Exception.</p>\n\n<p>My Code :</p>\n\n<pre><code> private  List&lt;Result&gt; getResultList(List&lt;String&gt; results) throws ResultClassException {\n    List&lt;Result&gt; resultList = new ArrayList&lt;&gt;();\n        results.forEach(\n                (resultName) -&gt; {\n                    if (!resultRepository.contains(resultName)) {\n                       try {\n                           final Result result = createResult(resultName);\n                           resultList.add(result);\n                       } catch (CustomException e) {\n                           throw new ResultClassException(\"Error\",e);\n                       }\n\n                    } else {\n                        resultList.add(resultRepository.get(resultName));\n                        log.info(\"Result {} already exists.\", resultName);\n                    }\n                }\n        );\n        return  Collections.unmodifiableList(resultList);\n    }\n</code></pre>\n\n<p>Can Someone tell what I am doing wrong?</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1633598156,"post_id":69477526,"comment_id":122804289,"body_markdown":"Aren&#39;t you missing the `@EnableJpaAuditing` annotation?","body":"Aren&#39;t you missing the <code>@EnableJpaAuditing</code> annotation?"},{"owner":{"account_id":1989985,"reputation":12739,"user_id":1784230,"accept_rate":58,"display_name":"s.alem"},"score":0,"creation_date":1633598701,"post_id":69477526,"comment_id":122804534,"body_markdown":"@NikolasCharalambidis no, I have just omitted the configuration part. As I said, it works when I update a direct entity field, but doesn&#39;t work when I update ONLY the field with `@ElementCollection`.","body":"@NikolasCharalambidis no, I have just omitted the configuration part. As I said, it works when I update a direct entity field, but doesn&#39;t work when I update ONLY the field with <code>@ElementCollection</code>."}],"owner":{"account_id":1989985,"reputation":12739,"user_id":1784230,"accept_rate":58,"display_name":"s.alem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1633594439,"creation_date":1633593991,"question_id":69477526,"body_markdown":"I am using `AuditingEntityListener` to update creation and last update date of the entity.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;MY_ENTITY_TABLE&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class MyEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;NAME&quot;)\r\n    private String name;\r\n\r\n    @ElementCollection(fetch = FetchType.EAGER)\r\n    @CollectionTable(name = &quot;MY_ELEMENTS&quot;, joinColumns = @JoinColumn(name = &quot;ENTITY_ID&quot;))\r\n    @Fetch(FetchMode.SELECT)\r\n    @BatchSize(size=100)\r\n    private List&lt;MyElement&gt; elements = new ArrayList&lt;&gt;();\r\n\r\n    @Column(name = &quot;CREATED_AT&quot;, nullable = false)\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\r\n    @CreatedDate\r\n    private LocalDateTime createdAt;\r\n\r\n    @Column(name = &quot;UPDATED_AT&quot;, nullable = false)\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\r\n    @LastModifiedDate\r\n    private LocalDateTime updatedAt;\r\n}\r\n```\r\n\r\nThis works fine and updates `updatedAt` field to correct value:\r\n```java\r\n// Snippet 1\r\nentity.setName(&quot;Entity 1&quot;);\r\nentity.setElements(otherElements);\r\nrepository.save(entity);\r\n```\r\n\r\nHowever, when I update only `elements`, it still updates the `elements` field just fine, but it does not update `updatedAt` field:\r\n```java\r\n// Snippet 2\r\nentity.setElements(otherElements);\r\nrepository.save(entity);\r\n```\r\n---\r\nI have experimented a little with `@PrePersist` and `@PreUpdate` hooks. `Snippet 1` triggers both hooks, while `Snippet 2` triggers neither. It is probably because `MY_ELEMENTS` table holds the relationship reference and there is actually no need to update anything in `MY_ENTITY_TABLE`. So, while, I cannot say that this behaviour is technically wrong, I believe it is logically wrong, at least in this case.\r\n\r\nDo I have to manually update `updatedAt` field, or can I make JPA update it somehow?","title":"JPA Entity listener does not update @LastModifiedDate if only update is to an @ElementCollection field","body":"<p>I am using <code>AuditingEntityListener</code> to update creation and last update date of the entity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;MY_ENTITY_TABLE&quot;)\n@EntityListeners(AuditingEntityListener.class)\npublic class MyEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;NAME&quot;)\n    private String name;\n\n    @ElementCollection(fetch = FetchType.EAGER)\n    @CollectionTable(name = &quot;MY_ELEMENTS&quot;, joinColumns = @JoinColumn(name = &quot;ENTITY_ID&quot;))\n    @Fetch(FetchMode.SELECT)\n    @BatchSize(size=100)\n    private List&lt;MyElement&gt; elements = new ArrayList&lt;&gt;();\n\n    @Column(name = &quot;CREATED_AT&quot;, nullable = false)\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\n    @CreatedDate\n    private LocalDateTime createdAt;\n\n    @Column(name = &quot;UPDATED_AT&quot;, nullable = false)\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\n    @LastModifiedDate\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<p>This works fine and updates <code>updatedAt</code> field to correct value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Snippet 1\nentity.setName(&quot;Entity 1&quot;);\nentity.setElements(otherElements);\nrepository.save(entity);\n</code></pre>\n<p>However, when I update only <code>elements</code>, it still updates the <code>elements</code> field just fine, but it does not update <code>updatedAt</code> field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Snippet 2\nentity.setElements(otherElements);\nrepository.save(entity);\n</code></pre>\n<hr />\n<p>I have experimented a little with <code>@PrePersist</code> and <code>@PreUpdate</code> hooks. <code>Snippet 1</code> triggers both hooks, while <code>Snippet 2</code> triggers neither. It is probably because <code>MY_ELEMENTS</code> table holds the relationship reference and there is actually no need to update anything in <code>MY_ENTITY_TABLE</code>. So, while, I cannot say that this behaviour is technically wrong, I believe it is logically wrong, at least in this case.</p>\n<p>Do I have to manually update <code>updatedAt</code> field, or can I make JPA update it somehow?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"score":0,"creation_date":1401293709,"post_id":23916756,"comment_id":36830952,"body_markdown":"is this how you calling findEvents? only once?","body":"is this how you calling findEvents? only once?"},{"owner":{"account_id":1033633,"reputation":7977,"user_id":1041442,"accept_rate":75,"display_name":"Jilles van Gurp"},"score":0,"creation_date":1401294094,"post_id":23916756,"comment_id":36831180,"body_markdown":"Your code looks correct to me (or at least like it should work). The error is in any case coming from the server. So you probably want to look at how that is configured and who else is connecting to the db. You could try bumping the number of connections in my.cnf.","body":"Your code looks correct to me (or at least like it should work). The error is in any case coming from the server. So you probably want to look at how that is configured and who else is connecting to the db. You could try bumping the number of connections in my.cnf."},{"owner":{"account_id":280280,"reputation":2404,"user_id":575879,"accept_rate":87,"display_name":"chris"},"score":0,"creation_date":1401294335,"post_id":23916756,"comment_id":36831332,"body_markdown":"@SleimanJneidi Yes only calling once. Fails on *first* attempt.","body":"@SleimanJneidi Yes only calling once. Fails on <i>first</i> attempt."},{"owner":{"account_id":280280,"reputation":2404,"user_id":575879,"accept_rate":87,"display_name":"chris"},"score":0,"creation_date":1401294485,"post_id":23916756,"comment_id":36831423,"body_markdown":"@jilles-van-gurp I was thinking that, but its a remote server (not in my control), and I can successfully connect from a SQL Client (Navicat, OSX).","body":"@jilles-van-gurp I was thinking that, but its a remote server (not in my control), and I can successfully connect from a SQL Client (Navicat, OSX)."},{"owner":{"account_id":280280,"reputation":2404,"user_id":575879,"accept_rate":87,"display_name":"chris"},"score":0,"creation_date":1401301268,"post_id":23916756,"comment_id":36835336,"body_markdown":"@JillesvanGurp You&#39;re correct, actually. My SQL Native client was connecting to a different db (I&#39;d put the config in different but mistakenly gave it same name). So I get the same error when connecting with my SQL Client, confirming its the server. If you post as Answer I&#39;ll accept;","body":"@JillesvanGurp You&#39;re correct, actually. My SQL Native client was connecting to a different db (I&#39;d put the config in different but mistakenly gave it same name). So I get the same error when connecting with my SQL Client, confirming its the server. If you post as Answer I&#39;ll accept;"},{"owner":{"account_id":7621,"reputation":9153,"user_id":13285,"display_name":"zmf"},"score":0,"creation_date":1401301488,"post_id":23916756,"comment_id":36835476,"body_markdown":"Show your code where you &quot;close all connections&quot; please","body":"Show your code where you &quot;close all connections&quot; please"},{"owner":{"account_id":280280,"reputation":2404,"user_id":575879,"accept_rate":87,"display_name":"chris"},"score":0,"creation_date":1401301879,"post_id":23916756,"comment_id":36835720,"body_markdown":"@zmf its not related. Even if I closed it incorrectly - or not at all - why would it fail on the first attempt? See my comment above - its the server being maxed out by other clients.","body":"@zmf its not related. Even if I closed it incorrectly - or not at all - why would it fail on the first attempt? See my comment above - its the server being maxed out by other clients."},{"owner":{"account_id":200609,"reputation":2282,"user_id":446552,"accept_rate":78,"display_name":"sherif"},"score":1,"creation_date":1401302193,"post_id":23916756,"comment_id":36835893,"body_markdown":"check the number of connected clients  SHOW STATUS WHERE `variable_name` = &#39;Threads_connected&#39;;","body":"check the number of connected clients  SHOW STATUS WHERE <code>variable_name</code> = &#39;Threads_connected&#39;;"},{"owner":{"account_id":7621,"reputation":9153,"user_id":13285,"display_name":"zmf"},"score":1,"creation_date":1401303395,"post_id":23916756,"comment_id":36836569,"body_markdown":"@chris if previous versions of this program ran and had old connections hanging around it could be contributing to the fact that you can&#39;t get a connection now. log into the db, show processlist; kill connections. try again","body":"@chris if previous versions of this program ran and had old connections hanging around it could be contributing to the fact that you can&#39;t get a connection now. log into the db, show processlist; kill connections. try again"}],"answers":[{"tags":[],"owner":{"account_id":280280,"reputation":2404,"user_id":575879,"accept_rate":87,"display_name":"chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1401373912,"creation_date":1401373912,"answer_id":23935869,"question_id":23916756,"body_markdown":"As pointed out by SleimanJneidi and zmf in the comments, the issue was not with my code at all, but the Server itself; the biggest clue being **failure to connect on first attempt**. \r\n\r\nIn my case, I don&#39;t have direct access to the server, but the following will display current connected clients: \r\n\r\n    SHOW STATUS WHERE variable_name = &#39;Threads_connected&#39;;\r\n\r\n\r\nTo answer my follow up of *&quot;How can I connect to check this if max connections are exceeded&quot;* - **MySQL reserves a connection for the admin**, specifically for this reason. This can be found in [their documention][1]:\r\n\r\n&gt; The number of connections permitted is controlled by the\r\n&gt; max_connections system variable. The default value is 151 to improve\r\n&gt; performance when MySQL is used with the Apache Web server.\r\n&gt; (Previously, the default was 100.) If you need to support more\r\n&gt; connections, you should set a larger value for this variable.\r\n&gt; \r\n&gt; **mysqld actually permits max_connections+1** clients to connect. The\r\n&gt; extra connection is reserved for use by accounts that have the SUPER\r\n&gt; privilege. By granting the SUPER privilege to administrators and not\r\n&gt; to normal users (who should not need it), an administrator can connect\r\n&gt; to the server and use SHOW PROCESSLIST to diagnose problems even if\r\n&gt; the maximum number of unprivileged clients are connected. See Section\r\n&gt; 13.7.5.30, “SHOW PROCESSLIST Syntax”.\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.5/en/too-many-connections.html","title":"&quot;Too many Connections&quot; when obtaining connection to MySQL using JDBC","body":"<p>As pointed out by SleimanJneidi and zmf in the comments, the issue was not with my code at all, but the Server itself; the biggest clue being <strong>failure to connect on first attempt</strong>. </p>\n\n<p>In my case, I don't have direct access to the server, but the following will display current connected clients: </p>\n\n<pre><code>SHOW STATUS WHERE variable_name = 'Threads_connected';\n</code></pre>\n\n<p>To answer my follow up of <em>\"How can I connect to check this if max connections are exceeded\"</em> - <strong>MySQL reserves a connection for the admin</strong>, specifically for this reason. This can be found in <a href=\"http://dev.mysql.com/doc/refman/5.5/en/too-many-connections.html\" rel=\"nofollow\">their documention</a>:</p>\n\n<blockquote>\n  <p>The number of connections permitted is controlled by the\n  max_connections system variable. The default value is 151 to improve\n  performance when MySQL is used with the Apache Web server.\n  (Previously, the default was 100.) If you need to support more\n  connections, you should set a larger value for this variable.</p>\n  \n  <p><strong>mysqld actually permits max_connections+1</strong> clients to connect. The\n  extra connection is reserved for use by accounts that have the SUPER\n  privilege. By granting the SUPER privilege to administrators and not\n  to normal users (who should not need it), an administrator can connect\n  to the server and use SHOW PROCESSLIST to diagnose problems even if\n  the maximum number of unprivileged clients are connected. See Section\n  13.7.5.30, “SHOW PROCESSLIST Syntax”.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":22967634,"reputation":1,"user_id":17096485,"display_name":"Geoffrey Son Of Rohan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633594367,"creation_date":1633594367,"answer_id":69477621,"question_id":23916756,"body_markdown":"u have to put \r\n\r\n\t               \tif(conn != null) {\r\n\t            \t\ttry {\r\n\t            \t\tconn.close();\t\r\n\t            \t\t} catch (SQLException e) {\r\n\t            \t\t\te.printStackTrace();\r\n\t            \t\t}\r\n\t            \t}","title":"&quot;Too many Connections&quot; when obtaining connection to MySQL using JDBC","body":"<p>u have to put</p>\n<pre><code>                if(conn != null) {\n                    try {\n                    conn.close();   \n                    } catch (SQLException e) {\n                        e.printStackTrace();\n                    }\n                }\n</code></pre>\n"}],"owner":{"account_id":280280,"reputation":2404,"user_id":575879,"accept_rate":87,"display_name":"chris"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23935869,"answer_count":2,"score":1,"last_activity_date":1633594367,"creation_date":1401293424,"question_id":23916756,"body_markdown":"\r\nHaving an odd issue attempting to query a MySQL database; I&#39;m getting a &quot;too many connections&quot; error **on my first call to getConnection**. Surely I must be doing something idiotic? For reference, I [know the basics of closing connection](https://stackoverflow.com/questions/23564585/database-poller-mysqlnontransientconnectionexception-too-many-connections/23916358#23916358), and not only am I only making one call, its failing on the very first attempt. So I must be doing something extremely stupid? \r\n\r\nTwo classes, one to call for a query, and the other to execute it: \r\n    import java.sql.*;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            CollectorDb.findEvents();\r\n        }\r\n    }\r\n\r\n    public class CollectorDb {\r\n        private static String username = &quot;foo&quot;;\r\n        private static String password = &quot;bar&quot;;\r\n        private static String connectionString = &quot;jdbc:mysql://awsdb/dbName&quot; +\r\n                &quot;?characterEncoding=UTF-8&quot;;\r\n    \r\n        public static void findEvents() {\r\n            Connection conn = null;\r\n            Statement stmt = null;\r\n            ResultSet rset = null;\r\n    \r\n            try {\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            }\r\n            catch (ClassNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n    \r\n            try {\r\n                // Next line throws Exception\r\n                conn = DriverManager.getConnection(connectionString, username, password);\r\n                // ** NEVER GET HERE **\r\n                // single query, then close all connections in a finally block\r\n                ...\r\n        }\r\n    \r\n    }\r\n\r\n\r\nFirst lines of the stacktrace:  \r\n\r\n    com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Too many connections\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:408)\r\n    ...\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Too many connections\r\n    \tat com.lifesize.CollectorDb.findEvents(CollectorDb.java:64)\r\n    \tat com.lifesize.Main.main(Main.java:13)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\r\n    ...\r\n\r\n\r\nHave truncated the details that I think aren&#39;t relevant - happy to provide more code or full stacktrace, or any other information of course. \r\n\r\n","title":"&quot;Too many Connections&quot; when obtaining connection to MySQL using JDBC","body":"<p>Having an odd issue attempting to query a MySQL database; I'm getting a \"too many connections\" error <strong>on my first call to getConnection</strong>. Surely I must be doing something idiotic? For reference, I <a href=\"https://stackoverflow.com/questions/23564585/database-poller-mysqlnontransientconnectionexception-too-many-connections/23916358#23916358\">know the basics of closing connection</a>, and not only am I only making one call, its failing on the very first attempt. So I must be doing something extremely stupid? </p>\n\n<p>Two classes, one to call for a query, and the other to execute it: \n    import java.sql.*;</p>\n\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n        CollectorDb.findEvents();\n    }\n}\n\npublic class CollectorDb {\n    private static String username = \"foo\";\n    private static String password = \"bar\";\n    private static String connectionString = \"jdbc:mysql://awsdb/dbName\" +\n            \"?characterEncoding=UTF-8\";\n\n    public static void findEvents() {\n        Connection conn = null;\n        Statement stmt = null;\n        ResultSet rset = null;\n\n        try {\n            Class.forName(\"com.mysql.jdbc.Driver\");\n        }\n        catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n\n\n        try {\n            // Next line throws Exception\n            conn = DriverManager.getConnection(connectionString, username, password);\n            // ** NEVER GET HERE **\n            // single query, then close all connections in a finally block\n            ...\n    }\n\n}\n</code></pre>\n\n<p>First lines of the stacktrace:  </p>\n\n<pre><code>com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Too many connections\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:408)\n...\nException in thread \"main\" java.lang.RuntimeException: Too many connections\n    at com.lifesize.CollectorDb.findEvents(CollectorDb.java:64)\n    at com.lifesize.Main.main(Main.java:13)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\n...\n</code></pre>\n\n<p>Have truncated the details that I think aren't relevant - happy to provide more code or full stacktrace, or any other information of course. </p>\n"},{"tags":["java","android","text-to-speech"],"comments":[{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1633574000,"post_id":69350112,"comment_id":122797679,"body_markdown":"You&#39;ll need a TTS engine installed on your device: be sure to install one - here&#39;s one from google: https://play.google.com/store/apps/details?id=com.google.android.tts&amp;hl=en_US&amp;gl=US .","body":"You&#39;ll need a TTS engine installed on your device: be sure to install one - here&#39;s one from google: <a href=\"https://play.google.com/store/apps/details?id=com.google.android.tts&amp;hl=en_US&amp;gl=US\" rel=\"nofollow noreferrer\">play.google.com/store/apps/&hellip;</a> ."},{"owner":{"account_id":4510643,"reputation":589,"user_id":3666866,"accept_rate":33,"display_name":"Diego"},"score":0,"creation_date":1633610859,"post_id":69350112,"comment_id":122809428,"body_markdown":"I did, and I checked that it worked by executing my html5 game in Chrome instead of my app.","body":"I did, and I checked that it worked by executing my html5 game in Chrome instead of my app."},{"owner":{"account_id":4510643,"reputation":589,"user_id":3666866,"accept_rate":33,"display_name":"Diego"},"score":1,"creation_date":1633617017,"post_id":69350112,"comment_id":122812333,"body_markdown":"Actually, there was in deed a problem with the TTS engine. I uninstalled it and reinstalled it and now it works. Some apps must have messed with it.","body":"Actually, there was in deed a problem with the TTS engine. I uninstalled it and reinstalled it and now it works. Some apps must have messed with it."},{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1633617114,"post_id":69350112,"comment_id":122812385,"body_markdown":"Good news.  Also be advised on string compares (your next issue) - don&#39;t use `==` : https://stackoverflow.com/a/513839/2711811","body":"Good news.  Also be advised on string compares (your next issue) - don&#39;t use <code>==</code> : <a href=\"https://stackoverflow.com/a/513839/2711811\">stackoverflow.com/a/513839/2711811</a>"}],"answers":[{"tags":[],"owner":{"account_id":16899495,"reputation":191,"user_id":12221284,"display_name":"moeux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633044381,"creation_date":1633044381,"answer_id":69399770,"question_id":69350112,"body_markdown":"You commented out the @Override annotation of the method `onCreate()` that way it&#39;s just a meaningless method which never gets called.\r\n\r\nEdit: I just saw your class doesn&#39;t extend `Activity`, that way you can&#39;t override the method IIRC. Try refactoring that piece of code into the constructor of your class.","title":"android.speech.tts.TextToSpeech.setLanguage(java.util.Locale)&#39; on a null object reference","body":"<p>You commented out the @Override annotation of the method <code>onCreate()</code> that way it's just a meaningless method which never gets called.</p>\n<p>Edit: I just saw your class doesn't extend <code>Activity</code>, that way you can't override the method IIRC. Try refactoring that piece of code into the constructor of your class.</p>\n"},{"tags":[],"owner":{"account_id":1372922,"reputation":439,"user_id":1307503,"display_name":"Hossein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633112243,"creation_date":1633075377,"answer_id":69402470,"question_id":69350112,"body_markdown":"The txt2speech object never has been initialized. Edit your code like below and then you can create a object of cl_txt2speech class in some activity :\r\n\r\n    public class cl_txt2speech {\r\n    \r\n        TextToSpeech txt2speech;\r\n    \r\n        String txt2speech_current_language = &quot;&quot; ;\r\n        boolean txt2speech_available = false ;\r\n    \r\n        public cl_txt2speech(Context context) {\r\n    \r\n            txt2speech = new TextToSpeech(context.getApplicationContext(), new TextToSpeech.OnInitListener() {\r\n                @Override\r\n                public void onInit(int status) {\r\n                    if (status != TextToSpeech.ERROR) {\r\n                        txt2speech_available = true ;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        void txt2speech_change_language( String lang )\r\n        {\r\n            if( lang==&quot;fr&quot; )\r\n            {\r\n                txt2speech.setLanguage(Locale.FRANCE);\r\n            }\r\n            else if( lang==&quot;en&quot; )\r\n            {\r\n                txt2speech.setLanguage(Locale.UK);\r\n            }\r\n            else if( lang==&quot;es&quot; )\r\n            {\r\n                Locale locSpanish = new Locale(&quot;spa&quot;, &quot;MEX&quot;);\r\n                txt2speech.setLanguage(locSpanish);\r\n            }\r\n            txt2speech_current_language = lang ;\r\n        }\r\n    \r\n        void txt2speech_speak( String lang , String txt )\r\n        {\r\n            if( lang != txt2speech_current_language ){ txt2speech_change_language( lang ); }\r\n            txt2speech.speak(txt, TextToSpeech.QUEUE_FLUSH, null);\r\n        }\r\n    }\r\n\r\nAnd here is how to use :\r\n\r\n    cl_txt2speech txt2speech = new cl_txt2speech(this);\r\n    txt2speech.txt2speech_speak( &quot;fr&quot; , &quot;test, 1 2 3&quot; );\r\n\r\n","title":"android.speech.tts.TextToSpeech.setLanguage(java.util.Locale)&#39; on a null object reference","body":"<p>The txt2speech object never has been initialized. Edit your code like below and then you can create a object of cl_txt2speech class in some activity :</p>\n<pre><code>public class cl_txt2speech {\n\n    TextToSpeech txt2speech;\n\n    String txt2speech_current_language = &quot;&quot; ;\n    boolean txt2speech_available = false ;\n\n    public cl_txt2speech(Context context) {\n\n        txt2speech = new TextToSpeech(context.getApplicationContext(), new TextToSpeech.OnInitListener() {\n            @Override\n            public void onInit(int status) {\n                if (status != TextToSpeech.ERROR) {\n                    txt2speech_available = true ;\n                }\n            }\n        });\n    }\n\n    void txt2speech_change_language( String lang )\n    {\n        if( lang==&quot;fr&quot; )\n        {\n            txt2speech.setLanguage(Locale.FRANCE);\n        }\n        else if( lang==&quot;en&quot; )\n        {\n            txt2speech.setLanguage(Locale.UK);\n        }\n        else if( lang==&quot;es&quot; )\n        {\n            Locale locSpanish = new Locale(&quot;spa&quot;, &quot;MEX&quot;);\n            txt2speech.setLanguage(locSpanish);\n        }\n        txt2speech_current_language = lang ;\n    }\n\n    void txt2speech_speak( String lang , String txt )\n    {\n        if( lang != txt2speech_current_language ){ txt2speech_change_language( lang ); }\n        txt2speech.speak(txt, TextToSpeech.QUEUE_FLUSH, null);\n    }\n}\n</code></pre>\n<p>And here is how to use :</p>\n<pre><code>cl_txt2speech txt2speech = new cl_txt2speech(this);\ntxt2speech.txt2speech_speak( &quot;fr&quot; , &quot;test, 1 2 3&quot; );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7160407,"reputation":449,"user_id":7023751,"display_name":"Vishal Naikawadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633594109,"creation_date":1633594109,"answer_id":69477558,"question_id":69350112,"body_markdown":"Are you missing a `super` call of the `onCreate()`?\r\n\r\nTry adding it and then give it a try. I believe without `super` call your `onCreate()` won&#39;t execute.\r\n\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\nsuper.onCreate(savedInstanceState);\r\n\r\n}\r\n```","title":"android.speech.tts.TextToSpeech.setLanguage(java.util.Locale)&#39; on a null object reference","body":"<p>Are you missing a <code>super</code> call of the <code>onCreate()</code>?</p>\n<p>Try adding it and then give it a try. I believe without <code>super</code> call your <code>onCreate()</code> won't execute.</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\n\n}\n</code></pre>\n"}],"owner":{"account_id":4510643,"reputation":589,"user_id":3666866,"accept_rate":33,"display_name":"Diego"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":956,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1633594109,"creation_date":1632760021,"question_id":69350112,"body_markdown":"My app crashes and in logcat I find the error\r\n\r\n&gt; android.speech.tts.TextToSpeech.setLanguage(java.util.Locale)&#39; on a\r\n&gt; null object reference\r\n\r\nHere is my class :\r\n\r\n    public class cl_txt2speech {\r\n    \r\n        TextToSpeech txt2speech;\r\n        Activity context;\r\n    \r\n        String txt2speech_current_language = &quot;&quot; ;\r\n        boolean txt2speech_available = false ;\r\n    \r\n        //@Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n    \r\n            txt2speech = new TextToSpeech(context.getApplicationContext(), new TextToSpeech.OnInitListener() {\r\n                @Override\r\n                public void onInit(int status) {\r\n                    if (status != TextToSpeech.ERROR) {\r\n                        txt2speech_available = true ;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        void txt2speech_change_language( String lang )\r\n        {\r\n            if( lang==&quot;fr&quot; )\r\n            {\r\n                txt2speech.setLanguage(Locale.FRANCE);\r\n            }\r\n            else if( lang==&quot;en&quot; )\r\n            {\r\n                txt2speech.setLanguage(Locale.UK);\r\n            }\r\n            else if( lang==&quot;es&quot; )\r\n            {\r\n                Locale locSpanish = new Locale(&quot;spa&quot;, &quot;MEX&quot;);\r\n                txt2speech.setLanguage(locSpanish);\r\n            }\r\n            txt2speech_current_language = lang ;\r\n        }\r\n    \r\n        void txt2speech_speak( String lang , String txt )\r\n        {\r\n            if( lang != txt2speech_current_language ){ txt2speech_change_language( lang ); }\r\n            txt2speech.speak(txt, TextToSpeech.QUEUE_FLUSH, null);\r\n        }\r\n    }\r\n\r\nand here is how I use it\r\n\r\n    cl_txt2speech txt2speech = new cl_txt2speech();\r\n    txt2speech.txt2speech_speak( &quot;fr&quot; , &quot;test, 1 2 3&quot; );\r\n\r\nI don&#39;t understand what is the problem, I defined TextToSpeech txt2speech ; at the beginning.\r\n\r\nupdate 1 : I did add some System.out.println() to trace what is happening, and it seems that the code in onCreate is never executed. So the problem must come from how I use my class.\r\n\r\nupdate 2 :\r\n\r\nI ended up moving everything to my fullscreenActivity.java file instead of using a class, to see what happens.\r\n\r\n    public class FullscreenActivity extends AppCompatActivity implements\r\n            TextToSpeech.OnInitListener{\r\n    ...\r\n    public TextToSpeech txt2speech;\r\n    ...\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        ...\r\n        txt2speech = new TextToSpeech(this, this);\r\n        ...\r\n    }\r\n\r\n    @Override\r\n    public void onInit(int status) {\r\n        System.out.println( &quot;--------------- onInit() -------------&quot; );\r\n        if (status != TextToSpeech.ERROR) {\r\n            txt2speech_available = true;\r\n        }\r\n    }\r\n\r\nand onInit is never fired here neither...\r\n\r\nAlso, when calling txt2speech.getDefaultLanguage() I have the error &quot;getDefaultLanguage failed: not bound to TTS engine&quot;\r\n","title":"android.speech.tts.TextToSpeech.setLanguage(java.util.Locale)&#39; on a null object reference","body":"<p>My app crashes and in logcat I find the error</p>\n<blockquote>\n<p>android.speech.tts.TextToSpeech.setLanguage(java.util.Locale)' on a\nnull object reference</p>\n</blockquote>\n<p>Here is my class :</p>\n<pre><code>public class cl_txt2speech {\n\n    TextToSpeech txt2speech;\n    Activity context;\n\n    String txt2speech_current_language = &quot;&quot; ;\n    boolean txt2speech_available = false ;\n\n    //@Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        txt2speech = new TextToSpeech(context.getApplicationContext(), new TextToSpeech.OnInitListener() {\n            @Override\n            public void onInit(int status) {\n                if (status != TextToSpeech.ERROR) {\n                    txt2speech_available = true ;\n                }\n            }\n        });\n    }\n\n    void txt2speech_change_language( String lang )\n    {\n        if( lang==&quot;fr&quot; )\n        {\n            txt2speech.setLanguage(Locale.FRANCE);\n        }\n        else if( lang==&quot;en&quot; )\n        {\n            txt2speech.setLanguage(Locale.UK);\n        }\n        else if( lang==&quot;es&quot; )\n        {\n            Locale locSpanish = new Locale(&quot;spa&quot;, &quot;MEX&quot;);\n            txt2speech.setLanguage(locSpanish);\n        }\n        txt2speech_current_language = lang ;\n    }\n\n    void txt2speech_speak( String lang , String txt )\n    {\n        if( lang != txt2speech_current_language ){ txt2speech_change_language( lang ); }\n        txt2speech.speak(txt, TextToSpeech.QUEUE_FLUSH, null);\n    }\n}\n</code></pre>\n<p>and here is how I use it</p>\n<pre><code>cl_txt2speech txt2speech = new cl_txt2speech();\ntxt2speech.txt2speech_speak( &quot;fr&quot; , &quot;test, 1 2 3&quot; );\n</code></pre>\n<p>I don't understand what is the problem, I defined TextToSpeech txt2speech ; at the beginning.</p>\n<p>update 1 : I did add some System.out.println() to trace what is happening, and it seems that the code in onCreate is never executed. So the problem must come from how I use my class.</p>\n<p>update 2 :</p>\n<p>I ended up moving everything to my fullscreenActivity.java file instead of using a class, to see what happens.</p>\n<pre><code>public class FullscreenActivity extends AppCompatActivity implements\n        TextToSpeech.OnInitListener{\n...\npublic TextToSpeech txt2speech;\n...\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    ...\n    txt2speech = new TextToSpeech(this, this);\n    ...\n}\n\n@Override\npublic void onInit(int status) {\n    System.out.println( &quot;--------------- onInit() -------------&quot; );\n    if (status != TextToSpeech.ERROR) {\n        txt2speech_available = true;\n    }\n}\n</code></pre>\n<p>and onInit is never fired here neither...</p>\n<p>Also, when calling txt2speech.getDefaultLanguage() I have the error &quot;getDefaultLanguage failed: not bound to TTS engine&quot;</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632817233,"post_id":69358021,"comment_id":122589012,"body_markdown":"Fix your dependencies, those errors are generally from mixing jars from different versions of a framework. YOu are using devtools from Spring BOot 2.5.5 where I suspect your spring boot version is lower. Just remove `&lt;version&gt;` from the dependency. Also `spring-mvc` is already part of `spring-boot-starter-web` and `junit` is part of `spring-boot-starter-test` so you should remove those. Also the `javaee-api` jar should be `provided` scope (if you ask me).","body":"Fix your dependencies, those errors are generally from mixing jars from different versions of a framework. YOu are using devtools from Spring BOot 2.5.5 where I suspect your spring boot version is lower. Just remove <code>&lt;version&gt;</code> from the dependency. Also <code>spring-mvc</code> is already part of <code>spring-boot-starter-web</code> and <code>junit</code> is part of <code>spring-boot-starter-test</code> so you should remove those. Also the <code>javaee-api</code> jar should be <code>provided</code> scope (if you ask me)."},{"owner":{"account_id":9023324,"reputation":2669,"user_id":6737245,"display_name":"user630702"},"score":0,"creation_date":1632817396,"post_id":69358021,"comment_id":122589090,"body_markdown":"When I remove it, jenkins reports we need to specify version `[ERROR] &#39;dependencies.dependency.version&#39; for org.springframework.boot:spring-boot-devtools:jar is missing. @ line 34, column 21\n`","body":"When I remove it, jenkins reports we need to specify version <code>[ERROR] &#39;dependencies.dependency.version&#39; for org.springframework.boot:spring-boot-devtools:jar is missing. @ line 34, column 21 </code>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632817500,"post_id":69358021,"comment_id":122589122,"body_markdown":"Which means you aren&#39;t using the Spring Boot parent. If you include it make sure it aligns with the other `spring-boot-starter-*` dependency version, and I doubt it does.","body":"Which means you aren&#39;t using the Spring Boot parent. If you include it make sure it aligns with the other <code>spring-boot-starter-*</code> dependency version, and I doubt it does."}],"answers":[{"tags":[],"owner":{"account_id":9023324,"reputation":2669,"user_id":6737245,"display_name":"user630702"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633594089,"creation_date":1633594089,"answer_id":69477554,"question_id":69358021,"body_markdown":"Resolved it.\r\n\r\nI had to remove the following dependency \r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;     \r\n\r\nAnd include `org.apache.logging` instead.\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.13.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.13.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n","title":"Springboot - NoSuchMethodException: - org.springframework.boot.devtools.logger.DevToolsLogFactory","body":"<p>Resolved it.</p>\n<p>I had to remove the following dependency</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;version&gt;2.5.5&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;     \n</code></pre>\n<p>And include <code>org.apache.logging</code> instead.</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.13.0&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.13.0&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9023324,"reputation":2669,"user_id":6737245,"display_name":"user630702"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69477554,"answer_count":1,"score":0,"last_activity_date":1633594089,"creation_date":1632816641,"question_id":69358021,"body_markdown":"I&#39;m trying to run a test in one of the demo project but I get `java.lang.NoSuchMethodException: org.springframework.boot.devtools.logger.DevToolsLogFactory`. It runs fine within eclipse but doesn&#39;t work in Jenkins. Any suggestion on how to fix this?\r\n\r\nTest class: `BanksMvcControllerTest.java`\r\n\r\n    package com.WebDemo.Controller;\r\n    \r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    import org.springframework.test.context.web.WebAppConfiguration;\r\n    \r\n    import com.webDemo.WebApplication;\r\n    \r\n    import org.springframework.boot.test.SpringApplicationConfiguration;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    \r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = WebApplication.class)\r\n    @WebAppConfiguration\r\n    public class BanksMvcControllerTest {\r\n    \r\n        @Test\r\n        public void contextLoads() {\r\n        }\r\n    }\r\n\r\n\r\nI get the error `Caused by: java.lang.NoSuchMethodException: org.springframework.boot.devtools.logger.DevToolsLogFactory$Listener.&lt;init&gt;()`\r\n\r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n    Running org.springframework.boot.test.context.SpringBootTest\r\n    Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.032 sec &lt;&lt;&lt; FAILURE!\r\n    Running com.WebDemo.Controller.BanksMvcControllerTest\r\n    08:00:47.055 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.WebDemo.Controller.BanksMvcControllerTest]\r\n    08:00:47.056 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.WebDemo.Controller.BanksMvcControllerTest]\r\n    08:00:47.056 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.WebDemo.Controller.BanksMvcControllerTest]\r\n    08:00:47.057 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.WebDemo.Controller.BanksMvcControllerTest]\r\n    08:00:47.058 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.WebDemo.Controller.BanksMvcControllerTest]\r\n    08:00:47.058 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.WebDemo.Controller.BanksMvcControllerTest]\r\n    08:00:47.092 [main] ERROR o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@35fc6dc4] to prepare test instance [com.WebDemo.Controller.BanksMvcControllerTest@16e7dcfd]\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    \tat org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:94) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.test.context.DefaultTestContext.getApplicationContext(DefaultTestContext.java:72) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:170) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:110) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:212) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:200) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:259) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) ~[junit-4.12.jar:4.12]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:261) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:219) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:83) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) ~[junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) ~[junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) ~[junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) ~[junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) ~[junit-4.12.jar:4.12]\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:68) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363) ~[junit-4.12.jar:4.12]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:163) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:62) ~[na:na]\r\n    \tat org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140) ~[surefire-api-2.4.2.jar:2.1]\r\n    \tat org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:127) ~[surefire-api-2.4.2.jar:2.1]\r\n    \tat org.apache.maven.surefire.Surefire.run(Surefire.java:177) ~[surefire-api-2.4.2.jar:2.1]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:338) ~[surefire-booter-2.4.2.jar:na]\r\n    \tat org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:997) ~[surefire-booter-2.4.2.jar:na]\r\n    Caused by: java.lang.IllegalArgumentException: Cannot instantiate interface org.springframework.context.ApplicationListener : org.springframework.boot.devtools.logger.DevToolsLogFactory.Listener\r\n    \tat org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:381) ~[spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:358) ~[spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.initialize(SpringApplication.java:231) ~[spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:206) ~[spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE]\r\n    \tat org.springframework.boot.test.SpringApplicationContextLoader.getSpringApplication(SpringApplicationContextLoader.java:124) ~[spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE]\r\n    \tat org.springframework.boot.test.SpringApplicationContextLoader.loadContext(SpringApplicationContextLoader.java:84) ~[spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE]\r\n    \tat org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:68) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \tat org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:86) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n    \t... 29 common frames omitted\r\n    Caused by: java.lang.NoSuchMethodException: org.springframework.boot.devtools.logger.DevToolsLogFactory$Listener.&lt;init&gt;()\r\n    \tat java.base/java.lang.Class.getConstructor0(Class.java:3349) ~[na:na]\r\n    \tat java.base/java.lang.Class.getConstructor(Class.java:2151) ~[na:na]\r\n    \tat org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:376) ~[spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE]\r\n    \t... 36 common frames omitted\r\n\r\n`pom.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;demo-spring-boot&lt;/artifactId&gt;\r\n            &lt;groupId&gt;demo-spring-boot&lt;/groupId&gt;\r\n    \t    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;relativePath&gt;baseapp/pom.xml&lt;/relativePath&gt;\t\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;artifactId&gt;demo-web&lt;/artifactId&gt;\r\n        &lt;groupId&gt;demo-web&lt;/groupId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n                &lt;artifactId&gt;demo-api&lt;/artifactId&gt;\r\n                &lt;groupId&gt;demo-api&lt;/groupId&gt;\r\n    \t    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.google.inject.extensions&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;guice-jndi&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;        \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.5&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;        \r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n              &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n              &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-jasper-el&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.12&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n                &lt;version&gt;7.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.4.2&lt;/version&gt; \r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;  \r\n        &lt;/build&gt;              \r\n    &lt;/project&gt;\r\n\r\n","title":"Springboot - NoSuchMethodException: - org.springframework.boot.devtools.logger.DevToolsLogFactory","body":"<p>I'm trying to run a test in one of the demo project but I get <code>java.lang.NoSuchMethodException: org.springframework.boot.devtools.logger.DevToolsLogFactory</code>. It runs fine within eclipse but doesn't work in Jenkins. Any suggestion on how to fix this?</p>\n<p>Test class: <code>BanksMvcControllerTest.java</code></p>\n<pre><code>package com.WebDemo.Controller;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.test.context.web.WebAppConfiguration;\n\nimport com.webDemo.WebApplication;\n\nimport org.springframework.boot.test.SpringApplicationConfiguration;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = WebApplication.class)\n@WebAppConfiguration\npublic class BanksMvcControllerTest {\n\n    @Test\n    public void contextLoads() {\n    }\n}\n</code></pre>\n<p>I get the error <code>Caused by: java.lang.NoSuchMethodException: org.springframework.boot.devtools.logger.DevToolsLogFactory$Listener.&lt;init&gt;()</code></p>\n<pre><code>-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning org.springframework.boot.test.context.SpringBootTest\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.032 sec &lt;&lt;&lt; FAILURE!\nRunning com.WebDemo.Controller.BanksMvcControllerTest\n08:00:47.055 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.WebDemo.Controller.BanksMvcControllerTest]\n08:00:47.056 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.WebDemo.Controller.BanksMvcControllerTest]\n08:00:47.056 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.WebDemo.Controller.BanksMvcControllerTest]\n08:00:47.057 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.WebDemo.Controller.BanksMvcControllerTest]\n08:00:47.058 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.WebDemo.Controller.BanksMvcControllerTest]\n08:00:47.058 [main] DEBUG o.s.t.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.WebDemo.Controller.BanksMvcControllerTest]\n08:00:47.092 [main] ERROR o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@35fc6dc4] to prepare test instance [com.WebDemo.Controller.BanksMvcControllerTest@16e7dcfd]\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:94) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.test.context.DefaultTestContext.getApplicationContext(DefaultTestContext.java:72) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:170) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:110) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:212) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:200) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:259) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) ~[junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:261) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:219) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:83) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) ~[junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) ~[junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) ~[junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) ~[junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) ~[junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:68) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363) ~[junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:163) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:62) ~[na:na]\n    at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140) ~[surefire-api-2.4.2.jar:2.1]\n    at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:127) ~[surefire-api-2.4.2.jar:2.1]\n    at org.apache.maven.surefire.Surefire.run(Surefire.java:177) ~[surefire-api-2.4.2.jar:2.1]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:338) ~[surefire-booter-2.4.2.jar:na]\n    at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:997) ~[surefire-booter-2.4.2.jar:na]\nCaused by: java.lang.IllegalArgumentException: Cannot instantiate interface org.springframework.context.ApplicationListener : org.springframework.boot.devtools.logger.DevToolsLogFactory.Listener\n    at org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:381) ~[spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:358) ~[spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.initialize(SpringApplication.java:231) ~[spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:206) ~[spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE]\n    at org.springframework.boot.test.SpringApplicationContextLoader.getSpringApplication(SpringApplicationContextLoader.java:124) ~[spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE]\n    at org.springframework.boot.test.SpringApplicationContextLoader.loadContext(SpringApplicationContextLoader.java:84) ~[spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE]\n    at org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:68) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    at org.springframework.test.context.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:86) ~[spring-test-4.1.6.RELEASE.jar:4.1.6.RELEASE]\n    ... 29 common frames omitted\nCaused by: java.lang.NoSuchMethodException: org.springframework.boot.devtools.logger.DevToolsLogFactory$Listener.&lt;init&gt;()\n    at java.base/java.lang.Class.getConstructor0(Class.java:3349) ~[na:na]\n    at java.base/java.lang.Class.getConstructor(Class.java:2151) ~[na:na]\n    at org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:376) ~[spring-boot-1.2.4.RELEASE.jar:1.2.4.RELEASE]\n    ... 36 common frames omitted\n</code></pre>\n<p><code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;demo-spring-boot&lt;/artifactId&gt;\n        &lt;groupId&gt;demo-spring-boot&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath&gt;baseapp/pom.xml&lt;/relativePath&gt;    \n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;artifactId&gt;demo-web&lt;/artifactId&gt;\n    &lt;groupId&gt;demo-web&lt;/groupId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n    &lt;dependency&gt;\n            &lt;artifactId&gt;demo-api&lt;/artifactId&gt;\n            &lt;groupId&gt;demo-api&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.inject.extensions&lt;/groupId&gt;\n    &lt;artifactId&gt;guice-jndi&lt;/artifactId&gt;\n    &lt;version&gt;4.0&lt;/version&gt;\n&lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;version&gt;2.5.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n          &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n          &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jasper-el&lt;/artifactId&gt;\n            &lt;version&gt;8.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.2&lt;/version&gt; \n            &lt;/plugin&gt;\n        &lt;/plugins&gt;  \n    &lt;/build&gt;              \n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","arrays","char","character","primitive"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633591685,"creation_date":1633590632,"answer_id":69476837,"question_id":69476489,"body_markdown":"&gt; What is the return type of Java built-in array&#39;s access operator when contains primitive type?\r\n\r\nIt is the primitive type; e.g. for an `int[]` it is `int`, for a `char[]` it is `char` and so on.\r\n\r\n-----------------\r\n\r\nHowever, I think you are getting yourself rather confused here.\r\n\r\nAll Java arithmetic operators applied to operands of type `byte`, `char`, `short` or `int` (or their wrapper types) always produce an `int` result.   So, the expression types of `&#39;A&#39; - 1` and `new Character(&#39;A&#39;) - 1` and `xs[0] - 1` are all `int`.\r\n\r\nThat is why you get an errors here:\r\n\r\n     char a = &#39;A&#39;;\r\n     char[] a2 = {&#39;A&#39;};\r\n     char b = a + 1;                  // COMPILATION ERROR\r\n     char c = a2[0] + 1;              // COMPILATION ERROR\r\n     char d = new Character(&#39;A&#39;) + 1; // COMPILATION ERROR\r\n\r\nYou need type casts to make those assignments work.\r\n\r\nSo why **don&#39;t** you get a compilation error with the following one?\r\n\r\n     char x = &#39;A&#39; - 1;\r\n\r\nIn short, because `&#39;A&#39; - 1` is a (compile time) constant expression whose (`int`) value will fit into a `char` without any loss or information.\r\n\r\nThere is a special rule for the assignment operator that says:\r\n\r\n  - IF the LHS type is `byte`, `char` or `short`, AND\r\n  - IF the RHS expression type is `int`, AND\r\n  - IF the RHS expression is a compile time *constant expression*, AND\r\n  - IF the value of the RHS expression is in the range of the LHS type,\r\n  - THEN there is an implicit conversion from `int` to the LHS type.\r\n\r\nThe above is a simplification of the JLS rules ... which include a precise specification of what a *constant expression* is.\r\n\r\nIntuitively, the compiler allows you to leave out the type cast because it &quot;knows&quot; that a type cast would not lose any information.","title":"What is the return type of Java built-in array&#39;s access operator when contains primitive type?","body":"<blockquote>\n<p>What is the return type of Java built-in array's access operator when contains primitive type?</p>\n</blockquote>\n<p>It is the primitive type; e.g. for an <code>int[]</code> it is <code>int</code>, for a <code>char[]</code> it is <code>char</code> and so on.</p>\n<hr />\n<p>However, I think you are getting yourself rather confused here.</p>\n<p>All Java arithmetic operators applied to operands of type <code>byte</code>, <code>char</code>, <code>short</code> or <code>int</code> (or their wrapper types) always produce an <code>int</code> result.   So, the expression types of <code>'A' - 1</code> and <code>new Character('A') - 1</code> and <code>xs[0] - 1</code> are all <code>int</code>.</p>\n<p>That is why you get an errors here:</p>\n<pre><code> char a = 'A';\n char[] a2 = {'A'};\n char b = a + 1;                  // COMPILATION ERROR\n char c = a2[0] + 1;              // COMPILATION ERROR\n char d = new Character('A') + 1; // COMPILATION ERROR\n</code></pre>\n<p>You need type casts to make those assignments work.</p>\n<p>So why <strong>don't</strong> you get a compilation error with the following one?</p>\n<pre><code> char x = 'A' - 1;\n</code></pre>\n<p>In short, because <code>'A' - 1</code> is a (compile time) constant expression whose (<code>int</code>) value will fit into a <code>char</code> without any loss or information.</p>\n<p>There is a special rule for the assignment operator that says:</p>\n<ul>\n<li>IF the LHS type is <code>byte</code>, <code>char</code> or <code>short</code>, AND</li>\n<li>IF the RHS expression type is <code>int</code>, AND</li>\n<li>IF the RHS expression is a compile time <em>constant expression</em>, AND</li>\n<li>IF the value of the RHS expression is in the range of the LHS type,</li>\n<li>THEN there is an implicit conversion from <code>int</code> to the LHS type.</li>\n</ul>\n<p>The above is a simplification of the JLS rules ... which include a precise specification of what a <em>constant expression</em> is.</p>\n<p>Intuitively, the compiler allows you to leave out the type cast because it &quot;knows&quot; that a type cast would not lose any information.</p>\n"},{"tags":[],"owner":{"account_id":374086,"reputation":1174,"user_id":724099,"accept_rate":86,"display_name":"questioner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633593919,"creation_date":1633593919,"answer_id":69477507,"question_id":69476489,"body_markdown":"&gt; When array xs has primitive char values and someone try to accessing that value using [], what is the return type?\r\n\r\nThe type of the element always corresponds to the type of the reference (left hand side).  Auto-boxing occurs if primitives assigned on the right where the type is ``Character[]`` or auto-unboxing if references assigned where type is ``char[]``\r\n\r\nYou could check using ``instanceof Character`` - it will return true to verify it&#39;s a ``Character`` or compile error if it&#39;s a primitive.\r\n\r\n    char[] xs = {&#39;A&#39;};\r\n    System.out.println(xs[0]); \r\n    System.out.println(xs[0] instanceof Character);   // COMPILE ERROR: unexpected type  required: reference  found: char\r\n    \r\n    char[] ys = {new Character(&#39;A&#39;)};\r\n    System.out.println(ys[0]); \r\n    System.out.println(ys[0] instanceof Character);   // COMPILE ERROR: unexpected type  required: reference  found: char\r\n         \r\n    Character[] cs = {&#39;A&#39;};   \r\n    System.out.println(cs[0] instanceof Character);   // true","title":"What is the return type of Java built-in array&#39;s access operator when contains primitive type?","body":"<blockquote>\n<p>When array xs has primitive char values and someone try to accessing that value using [], what is the return type?</p>\n</blockquote>\n<p>The type of the element always corresponds to the type of the reference (left hand side).  Auto-boxing occurs if primitives assigned on the right where the type is <code>Character[]</code> or auto-unboxing if references assigned where type is <code>char[]</code></p>\n<p>You could check using <code>instanceof Character</code> - it will return true to verify it's a <code>Character</code> or compile error if it's a primitive.</p>\n<pre><code>char[] xs = {'A'};\nSystem.out.println(xs[0]); \nSystem.out.println(xs[0] instanceof Character);   // COMPILE ERROR: unexpected type  required: reference  found: char\n\nchar[] ys = {new Character('A')};\nSystem.out.println(ys[0]); \nSystem.out.println(ys[0] instanceof Character);   // COMPILE ERROR: unexpected type  required: reference  found: char\n     \nCharacter[] cs = {'A'};   \nSystem.out.println(cs[0] instanceof Character);   // true\n</code></pre>\n"}],"owner":{"account_id":16045934,"reputation":9,"user_id":11581053,"display_name":"vincent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633593919,"creation_date":1633588879,"question_id":69476489,"body_markdown":"When array `xs` has primitive `char` values and someone try to accessing that value using `[]`, what is the return type?\r\n\r\nIs it primitive `char` or wrapper `Character`?\r\n\r\nI think it&#39;s always `Character` type, when array contains either `char` or `Character`.\r\n\r\nBecause when `char` minus `int`, the type of result is `char`.\r\n\r\n```java\r\nchar x = &#39;A&#39; - 1;\r\n```\r\n\r\nWhen `Character` minus `int`, the type of result is `int`.\r\n\r\n```java\r\nint x = new Character(&#39;A&#39;) - 1;\r\n```\r\n\r\nAnd result type of expression `xs[0] - 1` is always `int`.\r\n\r\n```java\r\nchar[] xs = {&#39;A&#39;};\r\nint x = xs[0] - 1;\r\n\r\n\r\nchar[] xs = {new Character(&#39;A&#39;)};\r\nint x = xs[0] - 1;\r\n```\r\n\r\nAm I right? I cannot find document about result type and conversion of Java array&#39;s operator `[]`.","title":"What is the return type of Java built-in array&#39;s access operator when contains primitive type?","body":"<p>When array <code>xs</code> has primitive <code>char</code> values and someone try to accessing that value using <code>[]</code>, what is the return type?</p>\n<p>Is it primitive <code>char</code> or wrapper <code>Character</code>?</p>\n<p>I think it's always <code>Character</code> type, when array contains either <code>char</code> or <code>Character</code>.</p>\n<p>Because when <code>char</code> minus <code>int</code>, the type of result is <code>char</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char x = 'A' - 1;\n</code></pre>\n<p>When <code>Character</code> minus <code>int</code>, the type of result is <code>int</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int x = new Character('A') - 1;\n</code></pre>\n<p>And result type of expression <code>xs[0] - 1</code> is always <code>int</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[] xs = {'A'};\nint x = xs[0] - 1;\n\n\nchar[] xs = {new Character('A')};\nint x = xs[0] - 1;\n</code></pre>\n<p>Am I right? I cannot find document about result type and conversion of Java array's operator <code>[]</code>.</p>\n"},{"tags":["java","android"],"owner":{"account_id":11938397,"reputation":389,"user_id":8736053,"display_name":"Mycotina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633593908,"creation_date":1633593908,"question_id":69477504,"body_markdown":"We have an android application. Up until now, we have built it in house. But because of the significant increase of business requirements, we are thinking of a possibility to outsource some development to third party to offload some of the work.\r\n\r\nThe challenge is, we don&#39;t want them to hold the entire source code. So ideally, they should only have the code for feature they are working on. \r\n\r\nWe are thinking that they might be able to create a module, and perhaps compile it to an aar library that can be integrated by ourselves at later time.\r\n\r\nBut we then realize that we have a certain class, namely a BaseActivity, which is a superclass of all the Activities we had. The main purpose of this class is to handle common events that might pop up on any screen, and also for routing for activities that should be reachable from every menu (such as home screen), or to handle cases such as when the session is expired; which will redirect the user to login screen wherever he may be at the time.\r\n\r\nWe want to give them this class, as we don&#39;t want everyone to invent their own approach of event and error handling, and routing for every new module, which can break things and cause maintenance headache in the future. But, because it depends on other activities for routing (needed for composing intent), such as LoginActivity, we&#39;ll need to give them the Login class as well, which in turn depends on event more activities, and in the end, essentially we give them everything.\r\n\r\nHow can we decouple this? Is the idea possible at all? One idea that come to mind is to use `Class.forname()` for composing intent rather than using the ClassName.class reference. But I&#39;m not sure if that is the correct approach.\r\n\r\nThanks.","title":"How to Decouple Main App from Modules in Android","body":"<p>We have an android application. Up until now, we have built it in house. But because of the significant increase of business requirements, we are thinking of a possibility to outsource some development to third party to offload some of the work.</p>\n<p>The challenge is, we don't want them to hold the entire source code. So ideally, they should only have the code for feature they are working on.</p>\n<p>We are thinking that they might be able to create a module, and perhaps compile it to an aar library that can be integrated by ourselves at later time.</p>\n<p>But we then realize that we have a certain class, namely a BaseActivity, which is a superclass of all the Activities we had. The main purpose of this class is to handle common events that might pop up on any screen, and also for routing for activities that should be reachable from every menu (such as home screen), or to handle cases such as when the session is expired; which will redirect the user to login screen wherever he may be at the time.</p>\n<p>We want to give them this class, as we don't want everyone to invent their own approach of event and error handling, and routing for every new module, which can break things and cause maintenance headache in the future. But, because it depends on other activities for routing (needed for composing intent), such as LoginActivity, we'll need to give them the Login class as well, which in turn depends on event more activities, and in the end, essentially we give them everything.</p>\n<p>How can we decouple this? Is the idea possible at all? One idea that come to mind is to use <code>Class.forname()</code> for composing intent rather than using the ClassName.class reference. But I'm not sure if that is the correct approach.</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","xml","radio-group"],"answers":[{"tags":[],"owner":{"account_id":244437,"reputation":15249,"user_id":517247,"accept_rate":72,"display_name":"ingsaurabh"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1308748205,"creation_date":1308748205,"answer_id":6440402,"question_id":6440259,"body_markdown":"You can either use OnCheckedChangeListener or can use [getCheckedRadioButtonId()][1]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/widget/RadioGroup.html#getCheckedRadioButtonId%28%29","title":"How to get the selected index of a RadioGroup in Android","body":"<p>You can either use OnCheckedChangeListener or can use <a href=\"http://developer.android.com/reference/android/widget/RadioGroup.html#getCheckedRadioButtonId%28%29\">getCheckedRadioButtonId()</a></p>\n"},{"tags":[],"owner":{"account_id":413067,"reputation":6742,"user_id":786489,"accept_rate":93,"display_name":"Stefan Bossbaly"},"down_vote_count":1,"up_vote_count":57,"is_accepted":false,"score":56,"last_activity_date":1468058369,"creation_date":1308748309,"answer_id":6440425,"question_id":6440259,"body_markdown":"You could have a reference to the radio group and use `getCheckedRadioButtonId ()` to get the checked radio button id. Take a look [here][1]\r\n\r\n    RadioGroup radioGroup = (RadioGroup)findViewById(R.id.radio_group);\r\n\r\nThen when you need to get the selected radio option.\r\n\r\n    int checkedRadioButtonId = radioGroup.getCheckedRadioButtonId();\r\n    if (checkedRadioButtonId == -1) {\r\n        // No item selected\r\n    }\r\n    else{\r\n        if (checkedRadioButtonId == R.id.radio_button1) {\r\n            // Do something with the button\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/widget/RadioGroup.html#getCheckedRadioButtonId%28%29","title":"How to get the selected index of a RadioGroup in Android","body":"<p>You could have a reference to the radio group and use <code>getCheckedRadioButtonId ()</code> to get the checked radio button id. Take a look <a href=\"http://developer.android.com/reference/android/widget/RadioGroup.html#getCheckedRadioButtonId%28%29\" rel=\"noreferrer\">here</a></p>\n\n<pre><code>RadioGroup radioGroup = (RadioGroup)findViewById(R.id.radio_group);\n</code></pre>\n\n<p>Then when you need to get the selected radio option.</p>\n\n<pre><code>int checkedRadioButtonId = radioGroup.getCheckedRadioButtonId();\nif (checkedRadioButtonId == -1) {\n    // No item selected\n}\nelse{\n    if (checkedRadioButtonId == R.id.radio_button1) {\n        // Do something with the button\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16803,"reputation":10043,"user_id":36984,"accept_rate":84,"display_name":"BP."},"down_vote_count":5,"up_vote_count":522,"is_accepted":true,"score":517,"last_activity_date":1539798967,"creation_date":1308751092,"answer_id":6441097,"question_id":6440259,"body_markdown":"You should be able to do something like this:\r\n\r\n    int radioButtonID = radioButtonGroup.getCheckedRadioButtonId();\r\n    View radioButton = radioButtonGroup.findViewById(radioButtonID);\r\n    int idx = radioButtonGroup.indexOfChild(radioButton);\r\n\r\n\r\nIf the `RadioGroup` contains other Views (like a `TextView`) then the `indexOfChild()` method will return wrong index.\r\n\r\nTo get the selected `RadioButton` text on the `RadioGroup`:\r\n\r\n     RadioButton r = (RadioButton) radioButtonGroup.getChildAt(idx);\r\n     String selectedtext = r.getText().toString();\r\n\r\n","title":"How to get the selected index of a RadioGroup in Android","body":"<p>You should be able to do something like this:</p>\n\n<pre><code>int radioButtonID = radioButtonGroup.getCheckedRadioButtonId();\nView radioButton = radioButtonGroup.findViewById(radioButtonID);\nint idx = radioButtonGroup.indexOfChild(radioButton);\n</code></pre>\n\n<p>If the <code>RadioGroup</code> contains other Views (like a <code>TextView</code>) then the <code>indexOfChild()</code> method will return wrong index.</p>\n\n<p>To get the selected <code>RadioButton</code> text on the <code>RadioGroup</code>:</p>\n\n<pre><code> RadioButton r = (RadioButton) radioButtonGroup.getChildAt(idx);\n String selectedtext = r.getText().toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":151659,"reputation":8022,"user_id":365681,"accept_rate":58,"display_name":"source.rar"},"down_vote_count":0,"up_vote_count":117,"is_accepted":false,"score":117,"last_activity_date":1308751585,"creation_date":1308751585,"answer_id":6441225,"question_id":6440259,"body_markdown":"This should work,\r\n\r\n    int index = myRadioGroup.indexOfChild(findViewById(myRadioGroup.getCheckedRadioButtonId()));","title":"How to get the selected index of a RadioGroup in Android","body":"<p>This should work,</p>\n\n<pre><code>int index = myRadioGroup.indexOfChild(findViewById(myRadioGroup.getCheckedRadioButtonId()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":900262,"reputation":720,"user_id":936586,"display_name":"Marco Fantasia"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1349519005,"creation_date":1349519005,"answer_id":12758916,"question_id":6440259,"body_markdown":"You can use:\r\n\r\n    RadioButton rb = (RadioButton) findViewById(rg.getCheckedRadioButtonId());\r\n\r\n","title":"How to get the selected index of a RadioGroup in Android","body":"<p>You can use:</p>\n\n<pre><code>RadioButton rb = (RadioButton) findViewById(rg.getCheckedRadioButtonId());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1715000,"reputation":73,"user_id":1572288,"display_name":"Jhoe-mar Pagao"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1369296822,"creation_date":1369295553,"answer_id":16708451,"question_id":6440259,"body_markdown":"//use to get the id of selected item&lt;br&gt;\r\n\r\n    int selectedID = myRadioGroup.getCheckedRadioButtonId();\r\n\r\n//get the view of the selected item &lt;br&gt;\r\n\r\n    View selectedView = (View)findViewById( selectedID);\r\n\r\n","title":"How to get the selected index of a RadioGroup in Android","body":"<p>//use to get the id of selected item<br></p>\n\n<pre><code>int selectedID = myRadioGroup.getCheckedRadioButtonId();\n</code></pre>\n\n<p>//get the view of the selected item <br></p>\n\n<pre><code>View selectedView = (View)findViewById( selectedID);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3128230,"reputation":1686,"user_id":2646705,"display_name":"Prashant Maheshwari Andro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1419257413,"creation_date":1419257413,"answer_id":27604340,"question_id":6440259,"body_markdown":"     int index_selected = radio_grp.indexOfChild(radio_grp\r\n\t\t\t\t\t.findViewById(radio_grp.getCheckedRadioButtonId()));","title":"How to get the selected index of a RadioGroup in Android","body":"<pre><code> int index_selected = radio_grp.indexOfChild(radio_grp\n                .findViewById(radio_grp.getCheckedRadioButtonId()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3439902,"reputation":1548,"user_id":2882104,"accept_rate":50,"display_name":"Nooh"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1429512553,"creation_date":1429512553,"answer_id":29740991,"question_id":6440259,"body_markdown":"try this\r\n\r\n            RadioGroup  group= (RadioGroup) getView().findViewById(R.id.radioGroup);\r\n            group.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(RadioGroup radioGroup, int i) {\r\n                    View radioButton = radioGroup.findViewById(i);\r\n                    int index = radioGroup.indexOfChild(radioButton);\r\n                }\r\n            });","title":"How to get the selected index of a RadioGroup in Android","body":"<p>try this</p>\n\n<pre><code>        RadioGroup  group= (RadioGroup) getView().findViewById(R.id.radioGroup);\n        group.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(RadioGroup radioGroup, int i) {\n                View radioButton = radioGroup.findViewById(i);\n                int index = radioGroup.indexOfChild(radioButton);\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":375809,"reputation":930,"user_id":726860,"display_name":"Faheem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455621384,"creation_date":1441771685,"answer_id":32470750,"question_id":6440259,"body_markdown":"you can do \r\n\r\n    findViewById\r\n\r\n from the radio group .\r\n\r\nHere it is sample :\r\n\r\n    ((RadioButton)my_radio_group.findViewById(R.id.radiobtn_veg)).setChecked(true);","title":"How to get the selected index of a RadioGroup in Android","body":"<p>you can do </p>\n\n<pre><code>findViewById\n</code></pre>\n\n<p>from the radio group .</p>\n\n<p>Here it is sample :</p>\n\n<pre><code>((RadioButton)my_radio_group.findViewById(R.id.radiobtn_veg)).setChecked(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6018073,"reputation":147,"user_id":4726177,"accept_rate":100,"display_name":"Shinz6"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1477646169,"creation_date":1477646169,"answer_id":40301855,"question_id":6440259,"body_markdown":"It worked perfectly for me in this way:\r\n\r\n        RadioGroup radioGroup = (RadioGroup) findViewById(R.id.radio_group);\r\n        int radioButtonID = radioGroup.getCheckedRadioButtonId();\r\n        RadioButton radioButton = (RadioButton) radioGroup.findViewById(radioButtonID);\r\n        String selectedtext = (String) radioButton.getText();","title":"How to get the selected index of a RadioGroup in Android","body":"<p>It worked perfectly for me in this way:</p>\n\n<pre><code>    RadioGroup radioGroup = (RadioGroup) findViewById(R.id.radio_group);\n    int radioButtonID = radioGroup.getCheckedRadioButtonId();\n    RadioButton radioButton = (RadioButton) radioGroup.findViewById(radioButtonID);\n    String selectedtext = (String) radioButton.getText();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10438683,"reputation":99,"user_id":7696097,"display_name":"ravid rinek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1489528648,"creation_date":1489513110,"answer_id":42792918,"question_id":6440259,"body_markdown":"All you need is to set values first to your RadioButton, for example:\r\n\r\n    RadioButton radioButton = (RadioButton)findViewById(R.id.radioButton);      \r\n    radioButton.setId(1);        //some int value\r\n\r\nand then whenever this spacific radioButton will be chosen you can pull its value by the Id you gave it with\r\n\r\n    RadioGroup radioGroup = (RadioGroup)findViewById(R.id.radioGroup);                     \r\n    int whichIndex = radioGroup.getCheckedRadioButtonId(); //of course the radioButton\r\n                                                           //should be inside the &quot;radioGroup&quot;\r\n                                                           //in the XML\r\nCheers!\r\n\r\n","title":"How to get the selected index of a RadioGroup in Android","body":"<p>All you need is to set values first to your RadioButton, for example:</p>\n\n<pre><code>RadioButton radioButton = (RadioButton)findViewById(R.id.radioButton);      \nradioButton.setId(1);        //some int value\n</code></pre>\n\n<p>and then whenever this spacific radioButton will be chosen you can pull its value by the Id you gave it with</p>\n\n<pre><code>RadioGroup radioGroup = (RadioGroup)findViewById(R.id.radioGroup);                     \nint whichIndex = radioGroup.getCheckedRadioButtonId(); //of course the radioButton\n                                                       //should be inside the \"radioGroup\"\n                                                       //in the XML\n</code></pre>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":10781276,"reputation":21,"user_id":7931711,"display_name":"MADWolfHD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493302501,"creation_date":1493302049,"answer_id":43660211,"question_id":6440259,"body_markdown":"just use this: \r\n\r\n        int index = 2;\r\n        boolean option3Checked = radioGroup.getCheckedRadioButtonId() == radioGroup.getChildAt(2).getId();\r\n","title":"How to get the selected index of a RadioGroup in Android","body":"<p>just use this: </p>\n\n<pre><code>    int index = 2;\n    boolean option3Checked = radioGroup.getCheckedRadioButtonId() == radioGroup.getChildAt(2).getId();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4911774,"reputation":539,"user_id":7011829,"display_name":"Vikash Sharma"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1531326829,"creation_date":1500817048,"answer_id":45265704,"question_id":6440259,"body_markdown":"    radioSexGroup=(RadioGroup)findViewById(R.id.radioGroup);\r\n      \r\n      btnDisplay=(Button)findViewById(R.id.button);\r\n      \r\n      btnDisplay.setOnClickListener(new View.OnClickListener() {\r\n         @Override\r\n         public void onClick(View v) {\r\n            int selectedId=radioSexGroup.getCheckedRadioButtonId();\r\n            radioSexButton=(RadioButton)findViewById(selectedId);\r\n            Toast.makeText(MainActivity.this,radioSexButton.getText(),Toast.LENGTH_SHORT).show();\r\n         }\r\n      });","title":"How to get the selected index of a RadioGroup in Android","body":"<pre><code>radioSexGroup=(RadioGroup)findViewById(R.id.radioGroup);\n\n  btnDisplay=(Button)findViewById(R.id.button);\n\n  btnDisplay.setOnClickListener(new View.OnClickListener() {\n     @Override\n     public void onClick(View v) {\n        int selectedId=radioSexGroup.getCheckedRadioButtonId();\n        radioSexButton=(RadioButton)findViewById(selectedId);\n        Toast.makeText(MainActivity.this,radioSexButton.getText(),Toast.LENGTH_SHORT).show();\n     }\n  });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15609948,"reputation":23,"user_id":11261684,"display_name":"Andrea Gurioli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565730669,"creation_date":1565730669,"answer_id":57485392,"question_id":6440259,"body_markdown":"You can simply \r\n\r\n-declare the radio group and a radio button out of onCreate method\r\n\r\n    private RadioGroup GrupName;\r\n    private RadioButton NameButton;\r\n\r\n-set the view id in the onCreate method\r\n\r\n    GrupName = (RadioGroup) findViewById(R.id.radioGroupid);\r\n\r\n-take the radiobutton id selected using\r\n\r\n    int id = GroupName.getCheckedRadioButtonId();\r\n\r\n-use the id to match the buttonselected view\r\n\r\n    NameButton = (RadioButton) findViewById(id);\r\n\r\n-finally get the value of the radio button\r\n\r\n    String valueExpected = NameButton.getText().toString();\r\n\r\n\r\n--- PS: IF YOU WANT AN INT VALUE, THEN YOU CAN CAST IT\r\n\r\n    int valueExpectedIn = Integer.parseInt(valueExpected);\r\n\r\n","title":"How to get the selected index of a RadioGroup in Android","body":"<p>You can simply </p>\n\n<p>-declare the radio group and a radio button out of onCreate method</p>\n\n<pre><code>private RadioGroup GrupName;\nprivate RadioButton NameButton;\n</code></pre>\n\n<p>-set the view id in the onCreate method</p>\n\n<pre><code>GrupName = (RadioGroup) findViewById(R.id.radioGroupid);\n</code></pre>\n\n<p>-take the radiobutton id selected using</p>\n\n<pre><code>int id = GroupName.getCheckedRadioButtonId();\n</code></pre>\n\n<p>-use the id to match the buttonselected view</p>\n\n<pre><code>NameButton = (RadioButton) findViewById(id);\n</code></pre>\n\n<p>-finally get the value of the radio button</p>\n\n<pre><code>String valueExpected = NameButton.getText().toString();\n</code></pre>\n\n<p>--- PS: IF YOU WANT AN INT VALUE, THEN YOU CAN CAST IT</p>\n\n<pre><code>int valueExpectedIn = Integer.parseInt(valueExpected);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7602691,"reputation":1439,"user_id":5766670,"display_name":"Anand Kumar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1569124464,"creation_date":1569124464,"answer_id":58045896,"question_id":6440259,"body_markdown":"&gt; Kotlin:\r\n\r\n    val selectedIndex = radioButtonGroup?.indexOfChild(\r\n      radioButtonGroup?.findViewById(\r\n        radioButtonGroup.getCheckedRadioButtonId())\r\n    )","title":"How to get the selected index of a RadioGroup in Android","body":"<blockquote>\n  <p>Kotlin:</p>\n</blockquote>\n\n<pre><code>val selectedIndex = radioButtonGroup?.indexOfChild(\n  radioButtonGroup?.findViewById(\n    radioButtonGroup.getCheckedRadioButtonId())\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4020777,"reputation":1301,"user_id":3311219,"display_name":"Tarek360"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583570536,"creation_date":1583570536,"answer_id":60575816,"question_id":6440259,"body_markdown":"Here is a **Kotlin** extension to get the **correct position even if** your group contains a TextView or any non-RadioButton.\r\n \r\n\r\n    fun RadioGroup.getCheckedRadioButtonPosition(): Int {\r\n        val radioButtonId = checkedRadioButtonId\r\n        return children.filter { it is RadioButton }\r\n            .mapIndexed { index: Int, view: View -&gt;\r\n                index to view\r\n            }.firstOrNull {\r\n                it.second.id == radioButtonId\r\n            }?.first ?: -1\r\n    }","title":"How to get the selected index of a RadioGroup in Android","body":"<p>Here is a <strong>Kotlin</strong> extension to get the <strong>correct position even if</strong> your group contains a TextView or any non-RadioButton.</p>\n\n<pre><code>fun RadioGroup.getCheckedRadioButtonPosition(): Int {\n    val radioButtonId = checkedRadioButtonId\n    return children.filter { it is RadioButton }\n        .mapIndexed { index: Int, view: View -&gt;\n            index to view\n        }.firstOrNull {\n            it.second.id == radioButtonId\n        }?.first ?: -1\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6657042,"reputation":1171,"user_id":9150584,"display_name":"Meysam Keshvari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588120719,"creation_date":1588120719,"answer_id":61492327,"question_id":6440259,"body_markdown":"    radioSexGroup = (RadioGroup) findViewById(R.id.radioSex);\r\n\tbtnDisplay = (Button) findViewById(R.id.btnDisplay);\r\n    btnDisplay.setOnClickListener(new OnClickListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t// get selected radio button from radioGroup\r\n\t\t\t\tint selectedId = radioSexGroup.getCheckedRadioButtonId();\r\n\t\t\t\t// find the radiobutton by returned id\r\n\t\t\t\tradioSexButton = (RadioButton) findViewById(selectedId);\r\n    Toast.makeText(MainActivity.this,radioSexButton.getText(),Toast.LENGTH_SHORT).show();\r\n\t\t\t}\r\n\t\t});","title":"How to get the selected index of a RadioGroup in Android","body":"<pre><code>radioSexGroup = (RadioGroup) findViewById(R.id.radioSex);\nbtnDisplay = (Button) findViewById(R.id.btnDisplay);\nbtnDisplay.setOnClickListener(new OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            // get selected radio button from radioGroup\n            int selectedId = radioSexGroup.getCheckedRadioButtonId();\n            // find the radiobutton by returned id\n            radioSexButton = (RadioButton) findViewById(selectedId);\nToast.makeText(MainActivity.this,radioSexButton.getText(),Toast.LENGTH_SHORT).show();\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1096053,"reputation":573,"user_id":1089629,"accept_rate":60,"display_name":"Myles Bennett"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598179845,"creation_date":1598179845,"answer_id":63546080,"question_id":6440259,"body_markdown":"Late to the party, but here is a simplification of @Tarek360&#39;s Kotlin answer that caters for `RadioGroup`s that might contain non-RadioButtons:\r\n\r\n        val RadioGroup.checkedIndex: Int\r\n            get() = children\r\n                .filter { it is RadioButton }\r\n                .indexOfFirst { it.id == checkedRadioButtonId }\r\nIf you&#39;re `RadioFroup` definitely only has `RadioButton`s then this can be a simple as:\r\n\r\n        private val RadioGroup.checkedIndex = \r\n            children.indexOfFirst { it.id == checkedRadioButtonId }\r\nThen you don&#39;t have the overhead of `findViewById`.","title":"How to get the selected index of a RadioGroup in Android","body":"<p>Late to the party, but here is a simplification of @Tarek360's Kotlin answer that caters for <code>RadioGroup</code>s that might contain non-RadioButtons:</p>\n<pre><code>    val RadioGroup.checkedIndex: Int\n        get() = children\n            .filter { it is RadioButton }\n            .indexOfFirst { it.id == checkedRadioButtonId }\n</code></pre>\n<p>If you're <code>RadioFroup</code> definitely only has <code>RadioButton</code>s then this can be a simple as:</p>\n<pre><code>    private val RadioGroup.checkedIndex = \n        children.indexOfFirst { it.id == checkedRadioButtonId }\n</code></pre>\n<p>Then you don't have the overhead of <code>findViewById</code>.</p>\n"},{"tags":[],"owner":{"account_id":4921677,"reputation":81,"user_id":3964099,"display_name":"Burak Senel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633593586,"creation_date":1633593586,"answer_id":69477442,"question_id":6440259,"body_markdown":"You have already assigned an id for each radio button. With a case block you can detect manually the selected radio button or with OnCheckedChangeListener you get it too.\r\n\r\nxml:\r\n\r\n        &lt;RadioGroup\r\n            android:id=&quot;@+id/rd_group_pick_reason&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/ti_titel&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:paddingHorizontal=&quot;16dp&quot;\r\n            &gt;\r\n            &lt;com.google.android.material.radiobutton.MaterialRadioButton\r\n                android:id=&quot;@+id/rd_not_deliverable&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;0.5&quot;\r\n                android:text=&quot;@string/txt_not_deliverable&quot;\r\n                android:checked=&quot;true&quot;\r\n                /&gt;\r\n\r\n            &lt;com.google.android.material.radiobutton.MaterialRadioButton\r\n                android:id=&quot;@+id/rd_after_pack&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;0.5&quot;\r\n                android:text=&quot;@string/txt_after_pack&quot;\r\n                /&gt;\r\n        &lt;/RadioGroup&gt;\r\n\r\njava:\r\n\r\n    final RadioGroup radioGroup = dialogView.findViewById(R.id.rd_group_pick_reason);    \r\n    switch (radioGroup.getCheckedRadioButtonId()) {\r\n        case R.id.rd_not_deliverable:\r\n            // TODO\r\n        break;\r\n        case R.id.rd_after_pack:\r\n            // TODO\r\n        break;\r\n    }\r\n\r\nor\r\n\r\n    radioGroup.setOnCheckedChangeListener((group, checkedId) -&gt; {\r\n        switch (group.getCheckedRadioButtonId()) {\r\n            case R.id.rd_not_deliverable:\r\n                System.out.println(&quot;not deliverable&quot;);\r\n                break;\r\n            case R.id.rd_after_pack:\r\n                System.out.println(&quot;after pack&quot;);\r\n                break;\r\n        }","title":"How to get the selected index of a RadioGroup in Android","body":"<p>You have already assigned an id for each radio button. With a case block you can detect manually the selected radio button or with OnCheckedChangeListener you get it too.</p>\n<p>xml:</p>\n<pre><code>    &lt;RadioGroup\n        android:id=&quot;@+id/rd_group_pick_reason&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/ti_titel&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:paddingHorizontal=&quot;16dp&quot;\n        &gt;\n        &lt;com.google.android.material.radiobutton.MaterialRadioButton\n            android:id=&quot;@+id/rd_not_deliverable&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;0.5&quot;\n            android:text=&quot;@string/txt_not_deliverable&quot;\n            android:checked=&quot;true&quot;\n            /&gt;\n\n        &lt;com.google.android.material.radiobutton.MaterialRadioButton\n            android:id=&quot;@+id/rd_after_pack&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;0.5&quot;\n            android:text=&quot;@string/txt_after_pack&quot;\n            /&gt;\n    &lt;/RadioGroup&gt;\n</code></pre>\n<p>java:</p>\n<pre><code>final RadioGroup radioGroup = dialogView.findViewById(R.id.rd_group_pick_reason);    \nswitch (radioGroup.getCheckedRadioButtonId()) {\n    case R.id.rd_not_deliverable:\n        // TODO\n    break;\n    case R.id.rd_after_pack:\n        // TODO\n    break;\n}\n</code></pre>\n<p>or</p>\n<pre><code>radioGroup.setOnCheckedChangeListener((group, checkedId) -&gt; {\n    switch (group.getCheckedRadioButtonId()) {\n        case R.id.rd_not_deliverable:\n            System.out.println(&quot;not deliverable&quot;);\n            break;\n        case R.id.rd_after_pack:\n            System.out.println(&quot;after pack&quot;);\n            break;\n    }\n</code></pre>\n"}],"owner":{"account_id":2069,"reputation":82839,"user_id":2847,"accept_rate":100,"display_name":"John Boker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245447,"favorite_count":0,"down_vote_count":0,"up_vote_count":236,"accepted_answer_id":6441097,"answer_count":19,"score":236,"last_activity_date":1633593586,"creation_date":1308747521,"question_id":6440259,"body_markdown":"Is there an easy way to get the selected index of a RadioGroup in Android or do I have to use OnCheckedChangeListener to listen for changes and have something that holds the last index selected?\r\n\r\nexample xml:\r\n\r\n    &lt;RadioGroup android:id=&quot;@+id/group1&quot; android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;wrap_content&quot; android:orientation=&quot;vertical&quot;&gt;\r\n        &lt;RadioButton android:id=&quot;@+id/radio1&quot; android:text=&quot;option 1&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; /&gt;\r\n        &lt;RadioButton android:id=&quot;@+id/radio2&quot; android:text=&quot;option 2&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; /&gt;\r\n        &lt;RadioButton android:id=&quot;@+id/radio3&quot; android:text=&quot;option 3&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; /&gt;\r\n        &lt;RadioButton android:id=&quot;@+id/radio4&quot; android:text=&quot;option 4&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; /&gt;\r\n        &lt;RadioButton android:id=&quot;@+id/radio5&quot; android:text=&quot;option 5&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    &lt;/RadioGroup&gt;\r\n\r\nif a user selects `option 3` I want to get the index, 2.","title":"How to get the selected index of a RadioGroup in Android","body":"<p>Is there an easy way to get the selected index of a RadioGroup in Android or do I have to use OnCheckedChangeListener to listen for changes and have something that holds the last index selected?</p>\n\n<p>example xml:</p>\n\n<pre><code>&lt;RadioGroup android:id=\"@+id/group1\" android:layout_width=\"fill_parent\" android:layout_height=\"wrap_content\" android:orientation=\"vertical\"&gt;\n    &lt;RadioButton android:id=\"@+id/radio1\" android:text=\"option 1\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" /&gt;\n    &lt;RadioButton android:id=\"@+id/radio2\" android:text=\"option 2\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" /&gt;\n    &lt;RadioButton android:id=\"@+id/radio3\" android:text=\"option 3\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" /&gt;\n    &lt;RadioButton android:id=\"@+id/radio4\" android:text=\"option 4\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" /&gt;\n    &lt;RadioButton android:id=\"@+id/radio5\" android:text=\"option 5\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" /&gt;\n&lt;/RadioGroup&gt;\n</code></pre>\n\n<p>if a user selects <code>option 3</code> I want to get the index, 2.</p>\n"},{"tags":["java","keycloak","nashorn"],"answers":[{"tags":[],"owner":{"account_id":3081969,"reputation":10354,"user_id":2609980,"accept_rate":94,"display_name":"user2609980"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633593469,"creation_date":1630493716,"answer_id":69012438,"question_id":68352004,"body_markdown":"&gt;Why is the state kept over multiple calls? \r\n\r\nUnknown. Maybe something with Nashorn.\r\n\r\n&gt;[I]s there a way to also aggregate the values for the role attributes?\r\n\r\nTo not keep aggregating value check in the `addToList` function if it is already there (workaround):\r\n\r\n```javascript\r\nfunction addToList(l, values) {\r\n  for each(var v in values) {\r\n    if (!l.contains(v)) {\r\n      l.add(v);\r\n    }\r\n  }\r\n  return l;\r\n}\r\n```\r\nAnd aggregate by keeping some state:\r\n```javascript\r\nvar newClaims = {};\r\nnewClaims = currentClaims;\r\nuser.getRealmRoleMappings().forEach(function(roleModel) {\r\n  roleModel.getAttributes().forEach(function(k, v) {\r\n    var currentValue = newClaims[k];\r\n    if (k in newClaims) {\r\n      if (isMultiValued(currentValue)) {\r\n        v = addToList(currentValue, v);\r\n      }\r\n    }\r\n    newClaims[k] = v;\r\n  }); \r\n});\r\ntoken.setOtherClaims(&quot;new-claims&quot;, newClaims); \r\n```\r\n\r\nThis puts all claims in the `new-claims` field in the JWT.\r\n\r\n//// EDIT:\r\n\r\n\r\nNote: this JavaScript/Java interop in `addToList` has issues (like changing the actual attributes on roles...). Better to use pure JavaScript for concatenating and then convert back to Java:  \r\n\r\n```\r\nfunction toStringArray(arr) {\r\n  return Java.to(arr, &quot;java.lang.String[]&quot;);\r\n}\r\n\r\n\r\nArray.prototype.includes = function(obj) {\r\n  var i = this.length;\r\n  while (i--) {\r\n    if (this[i] === obj) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction addToList(l, values) {\r\n  // Add values to new instance to avoid magical addition to\r\n  // current values in role attributes\r\n  var arr = [];\r\n  for each(var v in l) {\r\n    arr.push(v);\r\n  }\r\n  for each(var v in values) {\r\n    if (!arr.includes(v)) {\r\n      arr.push(v);\r\n    }\r\n  }\r\n  return toStringArray(arr);\r\n}\r\n```","title":"Aggregate attributes of roles in claims using Keycloak Script Mapper","body":"<blockquote>\n<p>Why is the state kept over multiple calls?</p>\n</blockquote>\n<p>Unknown. Maybe something with Nashorn.</p>\n<blockquote>\n<p>[I]s there a way to also aggregate the values for the role attributes?</p>\n</blockquote>\n<p>To not keep aggregating value check in the <code>addToList</code> function if it is already there (workaround):</p>\n<pre class=\"lang-js prettyprint-override\"><code>function addToList(l, values) {\n  for each(var v in values) {\n    if (!l.contains(v)) {\n      l.add(v);\n    }\n  }\n  return l;\n}\n</code></pre>\n<p>And aggregate by keeping some state:</p>\n<pre class=\"lang-js prettyprint-override\"><code>var newClaims = {};\nnewClaims = currentClaims;\nuser.getRealmRoleMappings().forEach(function(roleModel) {\n  roleModel.getAttributes().forEach(function(k, v) {\n    var currentValue = newClaims[k];\n    if (k in newClaims) {\n      if (isMultiValued(currentValue)) {\n        v = addToList(currentValue, v);\n      }\n    }\n    newClaims[k] = v;\n  }); \n});\ntoken.setOtherClaims(&quot;new-claims&quot;, newClaims); \n</code></pre>\n<p>This puts all claims in the <code>new-claims</code> field in the JWT.</p>\n<p>//// EDIT:</p>\n<p>Note: this JavaScript/Java interop in <code>addToList</code> has issues (like changing the actual attributes on roles...). Better to use pure JavaScript for concatenating and then convert back to Java:</p>\n<pre><code>function toStringArray(arr) {\n  return Java.to(arr, &quot;java.lang.String[]&quot;);\n}\n\n\nArray.prototype.includes = function(obj) {\n  var i = this.length;\n  while (i--) {\n    if (this[i] === obj) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction addToList(l, values) {\n  // Add values to new instance to avoid magical addition to\n  // current values in role attributes\n  var arr = [];\n  for each(var v in l) {\n    arr.push(v);\n  }\n  for each(var v in values) {\n    if (!arr.includes(v)) {\n      arr.push(v);\n    }\n  }\n  return toStringArray(arr);\n}\n</code></pre>\n"}],"owner":{"account_id":3081969,"reputation":10354,"user_id":2609980,"accept_rate":94,"display_name":"user2609980"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3433,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69012438,"answer_count":1,"score":3,"last_activity_date":1633593469,"creation_date":1626112840,"question_id":68352004,"body_markdown":"We have a Keycloak Script Mapper to add attributes of roles to the ID token. The goal is to aggregate the values available in attributes for the roles. The mapper looks like this:\r\n\r\n```\r\n/**\r\n * Merge with concatenation for the values of attributes obtained\r\n * from the token with the attributes obtained from the roles. If for\r\n * example a group and a role have the same attribute key, the values\r\n * for that key from the group and role will be concatenated.\r\n *\r\n * Known limitations:\r\n * When only roles have a certain attribute, and not a group, the \r\n * mapper only uses the first role it can find. Bug was difficult to\r\n * fix because state in the variable currentClaims seems to be\r\n * persisted over multiple calls.\r\n * Workaround: Also add this specific attribute to a group with a\r\n * dummy value.\r\n * \r\n * NOTE: there is no role attribute mapper out-of-the-box in \r\n * Keycloak.\r\n * \r\n * Available variables in script: \r\n * user - the current user\r\n * realm - the current realm\r\n * token - the current token\r\n * userSession - the current userSession\r\n * keycloakSession - the current keycloakSession\r\n * \r\n * Documentation on available variables:\r\n * https://stackoverflow.com/a/52984849\r\n */\r\n \r\nvar currentClaims = {};\r\ntoken.getOtherClaims().forEach(function(k, v) {\r\n  currentClaims[k] = v;\r\n});\r\n\r\nfunction isMultiValued(v) {\r\n  // From experience, multivalued attribute values are sometimes \r\n  // Arrays and sometimes Objects. Thus look for negative case:\r\n  // anything other than a string is multivalued.\r\n  return !(typeof v === &#39;string&#39; || v instanceof String);\r\n}\r\n\r\nfunction addToList(l, values) {\r\n  for each(var v in values) {\r\n    l.add(v);\r\n  }\r\n  return l;\r\n}\r\n\r\nfunction toStringArray(arr) {\r\n  return Java.to(arr, &quot;java.lang.String[]&quot;);\r\n}\r\n\r\nuser.getRealmRoleMappings().forEach(function(roleModel) {\r\n  roleModel.getAttributes().forEach(function(k, v) {\r\n    var currentValue = currentClaims[k];\r\n    if (k in currentClaims) {\r\n      if (!isMultiValued(currentValue)) {\r\n        v = toStringArray([currentValue].concat(v));\r\n      } else {\r\n        v = addToList(currentValue, v);\r\n      }\r\n    }\r\n    currentClaims[k] = v; // &lt;= to also aggregate over roles!\r\n    token.setOtherClaims(k, v); \r\n  }); \r\n});\r\n\r\n```\r\n\r\nThe part with `currentClaims[k] = v` I added to aggregate values available in roles, so that also if two roles contain the same attribute their values are aggregated.\r\n\r\nE.g., if we have a user has the roles a and b with respectively attribute foo with value 1 and 2, we expect that the ID token contains a claim for foo with the values 1 and 2.\r\n\r\n```\r\nuser:\r\n  role a foo -&gt; 1\r\n  role b foo -&gt; 2\r\nexpected ID token:\r\n  foo -&gt; [1, 2]\r\n```\r\n\r\nBut with the current code the `currentClaims` variable seems to hold state over multiple calls to the function. Every time the ID token is inspected more values for `2` are added into the token, leading to a foo claim like `[1, 2, 2, ..., 2]` with more and more `2`s added every time the token is retrieved. I tried wrapping the whole call in a function so that possibly state was discarded between calls, but to no avail. This is the result:\r\n\r\n![aggregation][1]\r\n\r\nWhy is the state kept over multiple calls? And is there a way to also aggregate the values for the role attributes?\r\n\r\n  [1]: https://i.stack.imgur.com/ThoXm.gif","title":"Aggregate attributes of roles in claims using Keycloak Script Mapper","body":"<p>We have a Keycloak Script Mapper to add attributes of roles to the ID token. The goal is to aggregate the values available in attributes for the roles. The mapper looks like this:</p>\n<pre><code>/**\n * Merge with concatenation for the values of attributes obtained\n * from the token with the attributes obtained from the roles. If for\n * example a group and a role have the same attribute key, the values\n * for that key from the group and role will be concatenated.\n *\n * Known limitations:\n * When only roles have a certain attribute, and not a group, the \n * mapper only uses the first role it can find. Bug was difficult to\n * fix because state in the variable currentClaims seems to be\n * persisted over multiple calls.\n * Workaround: Also add this specific attribute to a group with a\n * dummy value.\n * \n * NOTE: there is no role attribute mapper out-of-the-box in \n * Keycloak.\n * \n * Available variables in script: \n * user - the current user\n * realm - the current realm\n * token - the current token\n * userSession - the current userSession\n * keycloakSession - the current keycloakSession\n * \n * Documentation on available variables:\n * https://stackoverflow.com/a/52984849\n */\n \nvar currentClaims = {};\ntoken.getOtherClaims().forEach(function(k, v) {\n  currentClaims[k] = v;\n});\n\nfunction isMultiValued(v) {\n  // From experience, multivalued attribute values are sometimes \n  // Arrays and sometimes Objects. Thus look for negative case:\n  // anything other than a string is multivalued.\n  return !(typeof v === 'string' || v instanceof String);\n}\n\nfunction addToList(l, values) {\n  for each(var v in values) {\n    l.add(v);\n  }\n  return l;\n}\n\nfunction toStringArray(arr) {\n  return Java.to(arr, &quot;java.lang.String[]&quot;);\n}\n\nuser.getRealmRoleMappings().forEach(function(roleModel) {\n  roleModel.getAttributes().forEach(function(k, v) {\n    var currentValue = currentClaims[k];\n    if (k in currentClaims) {\n      if (!isMultiValued(currentValue)) {\n        v = toStringArray([currentValue].concat(v));\n      } else {\n        v = addToList(currentValue, v);\n      }\n    }\n    currentClaims[k] = v; // &lt;= to also aggregate over roles!\n    token.setOtherClaims(k, v); \n  }); \n});\n\n</code></pre>\n<p>The part with <code>currentClaims[k] = v</code> I added to aggregate values available in roles, so that also if two roles contain the same attribute their values are aggregated.</p>\n<p>E.g., if we have a user has the roles a and b with respectively attribute foo with value 1 and 2, we expect that the ID token contains a claim for foo with the values 1 and 2.</p>\n<pre><code>user:\n  role a foo -&gt; 1\n  role b foo -&gt; 2\nexpected ID token:\n  foo -&gt; [1, 2]\n</code></pre>\n<p>But with the current code the <code>currentClaims</code> variable seems to hold state over multiple calls to the function. Every time the ID token is inspected more values for <code>2</code> are added into the token, leading to a foo claim like <code>[1, 2, 2, ..., 2]</code> with more and more <code>2</code>s added every time the token is retrieved. I tried wrapping the whole call in a function so that possibly state was discarded between calls, but to no avail. This is the result:</p>\n<p><img src=\"https://i.stack.imgur.com/ThoXm.gif\" alt=\"aggregation\" /></p>\n<p>Why is the state kept over multiple calls? And is there a way to also aggregate the values for the role attributes?</p>\n"},{"tags":["java","json","xml","ant"],"answers":[{"tags":[],"owner":{"account_id":13429504,"reputation":649,"user_id":10869719,"display_name":"I try so hard but I cry harder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633593365,"creation_date":1633593365,"answer_id":69477397,"question_id":69399693,"body_markdown":"    &lt;project name=&quot;RayTracer&quot; default=&quot;dist&quot;&gt;\r\n        &lt;property file=&quot;build.properties&quot;/&gt;\r\n        &lt;property file=&quot;${user.home}/build.properties&quot;/&gt;\r\n        &lt;property name=&quot;prop1&quot; value=&quot;Property 1 from Buildfile&quot;/&gt;// in case you want to set default system properties\r\n        &lt;property name=&quot;prop2&quot; value=&quot;Property 2 from Buildfile&quot;/&gt;\r\n\r\n    &lt;path id=&quot;run.classpath&quot;&gt;\r\n        &lt;fileset dir=&quot;${dist.dir}&quot;&gt;\r\n            &lt;include name=&quot;${project.name}.jar&quot;/&gt;\r\n        &lt;/fileset&gt;\r\n    &lt;/path&gt;\r\n\r\n    &lt;target name=&quot;compile&quot;&gt;\r\n        &lt;mkdir dir=&quot;${build.dir}&quot;/&gt;\r\n        &lt;mkdir dir=&quot;${build.dir}/assets&quot;/&gt;\r\n        &lt;javac srcdir=&quot;${src.dir}/nhl&quot;\r\n               destdir=&quot;${build.dir}&quot;\r\n               debug=&quot;${compile.debug}&quot;\r\n               deprecation=&quot;${compile.deprecation}&quot;\r\n               optimize=&quot;${compile.optimize}&quot;\r\n               includeantruntime=&quot;false&quot;&gt;\r\n                &lt;classpath&gt;// compile all JAR files in the src/libs/JSON directory\r\n                    &lt;fileset dir=&quot;${src.dir}/libs/JSON&quot;&gt;\r\n                        &lt;include name=&quot;**/*.jar&quot; /&gt;\r\n                    &lt;/fileset&gt;\r\n                &lt;/classpath&gt;\r\n        &lt;/javac&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;dist&quot; depends=&quot;compile&quot;&gt;\r\n        &lt;mkdir dir=&quot;${dist.dir}&quot;/&gt;\r\n        &lt;jar jarfile=&quot;${dist.dir}/${project.name}.jar&quot;\r\n             basedir=&quot;${build.dir}&quot;\r\n             manifest=&quot;${src.dir}/Manifest.mf&quot;&gt;\r\n             &lt;zipgroupfileset dir=&quot;${src.dir}/libs/JSON&quot; includes=&quot;**/*.jar&quot;/&gt;// use the file\r\n        &lt;/jar&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;build&quot; depends=&quot;dist&quot;&gt;\r\n        &lt;java jar=&quot;${dist.dir}/${project.name}.jar&quot; fork=&quot;true&quot;&gt;\r\n            &lt;!-- &lt;sysproperty key=&quot;prop1&quot; value=&quot;${prop1}&quot;/&gt; --&gt; //set system property when providing argument\r\n            &lt;arg value=&quot;${arg0}&quot;/&gt; // provide arguments without using system properties\r\n            &lt;arg value=&quot;${arg1}&quot;/&gt;\r\n        &lt;/java&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;clean&quot;&gt;\r\n        &lt;delete dir=&quot;${bin.dir}&quot;/&gt;\r\n        &lt;delete dir=&quot;${build.dir}&quot;/&gt;\r\n        &lt;delete dir=&quot;${dist.dir}&quot;/&gt;\r\n        &lt;delete file=&quot;output.bmp&quot;/&gt;\r\n    &lt;/target&gt;\r\n&lt;/project&gt;","title":"Ant fails to build org.json, org.json does work","body":"<pre><code>&lt;project name=&quot;RayTracer&quot; default=&quot;dist&quot;&gt;\n    &lt;property file=&quot;build.properties&quot;/&gt;\n    &lt;property file=&quot;${user.home}/build.properties&quot;/&gt;\n    &lt;property name=&quot;prop1&quot; value=&quot;Property 1 from Buildfile&quot;/&gt;// in case you want to set default system properties\n    &lt;property name=&quot;prop2&quot; value=&quot;Property 2 from Buildfile&quot;/&gt;\n\n&lt;path id=&quot;run.classpath&quot;&gt;\n    &lt;fileset dir=&quot;${dist.dir}&quot;&gt;\n        &lt;include name=&quot;${project.name}.jar&quot;/&gt;\n    &lt;/fileset&gt;\n&lt;/path&gt;\n\n&lt;target name=&quot;compile&quot;&gt;\n    &lt;mkdir dir=&quot;${build.dir}&quot;/&gt;\n    &lt;mkdir dir=&quot;${build.dir}/assets&quot;/&gt;\n    &lt;javac srcdir=&quot;${src.dir}/nhl&quot;\n           destdir=&quot;${build.dir}&quot;\n           debug=&quot;${compile.debug}&quot;\n           deprecation=&quot;${compile.deprecation}&quot;\n           optimize=&quot;${compile.optimize}&quot;\n           includeantruntime=&quot;false&quot;&gt;\n            &lt;classpath&gt;// compile all JAR files in the src/libs/JSON directory\n                &lt;fileset dir=&quot;${src.dir}/libs/JSON&quot;&gt;\n                    &lt;include name=&quot;**/*.jar&quot; /&gt;\n                &lt;/fileset&gt;\n            &lt;/classpath&gt;\n    &lt;/javac&gt;\n&lt;/target&gt;\n\n&lt;target name=&quot;dist&quot; depends=&quot;compile&quot;&gt;\n    &lt;mkdir dir=&quot;${dist.dir}&quot;/&gt;\n    &lt;jar jarfile=&quot;${dist.dir}/${project.name}.jar&quot;\n         basedir=&quot;${build.dir}&quot;\n         manifest=&quot;${src.dir}/Manifest.mf&quot;&gt;\n         &lt;zipgroupfileset dir=&quot;${src.dir}/libs/JSON&quot; includes=&quot;**/*.jar&quot;/&gt;// use the file\n    &lt;/jar&gt;\n&lt;/target&gt;\n\n&lt;target name=&quot;build&quot; depends=&quot;dist&quot;&gt;\n    &lt;java jar=&quot;${dist.dir}/${project.name}.jar&quot; fork=&quot;true&quot;&gt;\n        &lt;!-- &lt;sysproperty key=&quot;prop1&quot; value=&quot;${prop1}&quot;/&gt; --&gt; //set system property when providing argument\n        &lt;arg value=&quot;${arg0}&quot;/&gt; // provide arguments without using system properties\n        &lt;arg value=&quot;${arg1}&quot;/&gt;\n    &lt;/java&gt;\n&lt;/target&gt;\n\n&lt;target name=&quot;clean&quot;&gt;\n    &lt;delete dir=&quot;${bin.dir}&quot;/&gt;\n    &lt;delete dir=&quot;${build.dir}&quot;/&gt;\n    &lt;delete dir=&quot;${dist.dir}&quot;/&gt;\n    &lt;delete file=&quot;output.bmp&quot;/&gt;\n&lt;/target&gt;\n</code></pre>\n\n"}],"owner":{"account_id":13429504,"reputation":649,"user_id":10869719,"display_name":"I try so hard but I cry harder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69477397,"answer_count":1,"score":1,"last_activity_date":1633593365,"creation_date":1633043689,"question_id":69399693,"body_markdown":"I have tested whether `org.json` was correctly installed through a very basic project (literally one class and that was it), so I know the problem must be when I am trying to build my project with `ant`.\r\n\r\nI could only find one question which was identical to my problem, but it did not solve it.\r\n\r\nThis is how I installed `org.json` https://www.tutorialspoint.com/org_json/org_json_environment.htm \r\n\r\nHow my `build.xml` looks like:\r\n\r\n    &lt;project name=&quot;Tracer&quot; default=&quot;dist&quot;&gt;\r\n        &lt;property file=&quot;build.properties&quot;/&gt;\r\n        &lt;property file=&quot;${user.home}/build.properties&quot;/&gt;\r\n    \r\n        &lt;path id=&quot;run.classpath&quot;&gt;\r\n            &lt;fileset dir=&quot;${dist.dir}&quot;&gt;\r\n                &lt;include name=&quot;${project.name}.jar&quot;/&gt;\r\n            &lt;/fileset&gt;\r\n        &lt;/path&gt;\r\n    \r\n        &lt;target name=&quot;compile&quot;&gt;\r\n            &lt;mkdir dir=&quot;${build.dir}&quot;/&gt;\r\n            &lt;mkdir dir=&quot;${build.dir}/assets&quot;/&gt;\r\n            &lt;javac srcdir=&quot;${src.dir}/nhl&quot;\r\n                   destdir=&quot;${build.dir}&quot;\r\n                   debug=&quot;${compile.debug}&quot;\r\n                   deprecation=&quot;${compile.deprecation}&quot;\r\n                   optimize=&quot;${compile.optimize}&quot;&gt;\r\n                &lt;classpath&gt;\r\n                    &lt;pathelement path=&quot;C:/JSON/json-20210307.jar&quot;/&gt;&lt;!-- tried an absolute path to my jar --&gt;\r\n                &lt;/classpath&gt;\r\n            &lt;/javac&gt;\r\n    \r\n        &lt;/target&gt;\r\n    \r\n        &lt;target name=&quot;dist&quot; depends=&quot;compile&quot;&gt;\r\n            &lt;mkdir dir=&quot;${dist.dir}&quot;/&gt;\r\n            &lt;jar jarfile=&quot;${dist.dir}/${project.name}.jar&quot;\r\n                 basedir=&quot;${build.dir}&quot;\r\n                 manifest=&quot;${src.dir}/Manifest.mf&quot;/&gt;\r\n        &lt;/target&gt;\r\n    \r\n        &lt;target name=&quot;build&quot; depends=&quot;dist&quot;&gt;\r\n            &lt;java jar=&quot;${dist.dir}/${project.name}.jar&quot; fork=&quot;true&quot;&gt;\r\n            &lt;/java&gt;\r\n        &lt;/target&gt;\r\n    \r\n        &lt;target name=&quot;clean&quot;&gt;\r\n            &lt;delete dir=&quot;${build.dir}&quot;/&gt;\r\n            &lt;delete dir=&quot;${dist.dir}&quot;/&gt;\r\n        &lt;/target&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nThe error I get:\r\n\r\n     [java] Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/json/JSONTokener\r\n     [java]     at (...).main(Unknown Source)\r\n     [java] Caused by: java.lang.ClassNotFoundException: org.json.JSONTokener\r\n     [java]     at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\r\n     [java]     at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\r\n     [java]     at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n\r\n\r\nI am using `git-bash` when using `ant` if that matters.\r\n\r\nI have also done the `reference libraries` part.","title":"Ant fails to build org.json, org.json does work","body":"<p>I have tested whether <code>org.json</code> was correctly installed through a very basic project (literally one class and that was it), so I know the problem must be when I am trying to build my project with <code>ant</code>.</p>\n<p>I could only find one question which was identical to my problem, but it did not solve it.</p>\n<p>This is how I installed <code>org.json</code> <a href=\"https://www.tutorialspoint.com/org_json/org_json_environment.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/org_json/org_json_environment.htm</a></p>\n<p>How my <code>build.xml</code> looks like:</p>\n<pre><code>&lt;project name=&quot;Tracer&quot; default=&quot;dist&quot;&gt;\n    &lt;property file=&quot;build.properties&quot;/&gt;\n    &lt;property file=&quot;${user.home}/build.properties&quot;/&gt;\n\n    &lt;path id=&quot;run.classpath&quot;&gt;\n        &lt;fileset dir=&quot;${dist.dir}&quot;&gt;\n            &lt;include name=&quot;${project.name}.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/path&gt;\n\n    &lt;target name=&quot;compile&quot;&gt;\n        &lt;mkdir dir=&quot;${build.dir}&quot;/&gt;\n        &lt;mkdir dir=&quot;${build.dir}/assets&quot;/&gt;\n        &lt;javac srcdir=&quot;${src.dir}/nhl&quot;\n               destdir=&quot;${build.dir}&quot;\n               debug=&quot;${compile.debug}&quot;\n               deprecation=&quot;${compile.deprecation}&quot;\n               optimize=&quot;${compile.optimize}&quot;&gt;\n            &lt;classpath&gt;\n                &lt;pathelement path=&quot;C:/JSON/json-20210307.jar&quot;/&gt;&lt;!-- tried an absolute path to my jar --&gt;\n            &lt;/classpath&gt;\n        &lt;/javac&gt;\n\n    &lt;/target&gt;\n\n    &lt;target name=&quot;dist&quot; depends=&quot;compile&quot;&gt;\n        &lt;mkdir dir=&quot;${dist.dir}&quot;/&gt;\n        &lt;jar jarfile=&quot;${dist.dir}/${project.name}.jar&quot;\n             basedir=&quot;${build.dir}&quot;\n             manifest=&quot;${src.dir}/Manifest.mf&quot;/&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;build&quot; depends=&quot;dist&quot;&gt;\n        &lt;java jar=&quot;${dist.dir}/${project.name}.jar&quot; fork=&quot;true&quot;&gt;\n        &lt;/java&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;clean&quot;&gt;\n        &lt;delete dir=&quot;${build.dir}&quot;/&gt;\n        &lt;delete dir=&quot;${dist.dir}&quot;/&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The error I get:</p>\n<pre><code> [java] Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/json/JSONTokener\n [java]     at (...).main(Unknown Source)\n [java] Caused by: java.lang.ClassNotFoundException: org.json.JSONTokener\n [java]     at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\n [java]     at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\n [java]     at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n</code></pre>\n<p>I am using <code>git-bash</code> when using <code>ant</code> if that matters.</p>\n<p>I have also done the <code>reference libraries</code> part.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1633444131,"post_id":69452047,"comment_id":122758048,"body_markdown":"It seem odd when i first read IBanTest class, IBanTest seem the test class, but it don&#39;t use @Test annotation and use main(...) instead ... Furthermore, System.out.println often use for debug purpose that&#39;s why few tool can warn about it.","body":"It seem odd when i first read IBanTest class, IBanTest seem the test class, but it don&#39;t use @Test annotation and use main(...) instead ... Furthermore, System.out.println often use for debug purpose that&#39;s why few tool can warn about it."},{"owner":{"account_id":9023324,"reputation":2669,"user_id":6737245,"display_name":"user630702"},"score":0,"creation_date":1633444214,"post_id":69452047,"comment_id":122758079,"body_markdown":"what about the other java files? it doesn&#39;t have a System.out.println","body":"what about the other java files? it doesn&#39;t have a System.out.println"},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1633444347,"post_id":69452047,"comment_id":122758145,"body_markdown":"I am not sure because i can&#39;t see the full code of 2 class. But you can try to change IBanTest and check if number errors is reduced.","body":"I am not sure because i can&#39;t see the full code of 2 class. But you can try to change IBanTest and check if number errors is reduced."}],"owner":{"account_id":9023324,"reputation":2669,"user_id":6737245,"display_name":"user630702"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1976,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633593275,"creation_date":1633443148,"question_id":69452047,"body_markdown":"How can I fix the error `J2EE Bad Practices: Leftover Debug Code`? It is pointing to `public  static void main`. How can I avoid the error? I&#39;m about to test everything without the main method and don&#39;t know if everything works without the main method.\r\n\r\n    &quot;J2EE Bad Practices: Leftover Debug Code&quot; =&gt; 3 Issues\r\n    ​demo-api/src/main/java/com/apiDemo/ApiApplication.java:23 (Structural)\r\n    ​demo-web/src/main/java/com/webDemo/WebApplication.java:22 (Structural)\r\n    ​demo-web/src/main/java/demo/selenium/IBanTest.java:20 (Structural)\r\n\r\ncode:\r\n\r\n    package demo.selenium;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    \r\n    import junit.framework.Assert;\r\n    \r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.BeforeClass;\r\n    import org.junit.Test;\r\n    \r\n    \r\n    \r\n    public class IBanTest {\r\n    \tpublic  static void main(String args[]) {\r\n    \t\tSystem.out.println(&quot;iBan Selenium Testing&quot;);\r\n    \t\tsetup();\r\n    \t\tIBanUpdateTest();\r\n    \t\tIBanDeleteTest();\r\n    \t\tIBanCreateTest();\r\n    \t\tteardown();\r\n    \t}\r\n    \t\r\n  \r\nSimilarly ApiApplication.java  has this:\r\n\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tSpringApplication.run(ApiApplication.class, args);\r\n\t}\r\n\r\nAnd WebApplication.java has this:\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tSpringApplication.run(WebApplication.class, args);\r\n\t}\r\n\r\nUpdate:\r\n\r\nI tested by removing the main methods from `ApiApplication.java` and `WebApplication.java` and the application is still working when packing from parent project. But doesn&#39;t work directly from child maven project. The errors disappeared after removing though.\r\n\r\nI could remove IBanTest main method since the class file can&#39;t be used without the main method.\r\n\r\nBut it would be nice to include the main class and get rid of the errors somehow. Any suggestion would be nice.","title":"SpringBoot - J2EE Bad Practices: Leftover Debug Code","body":"<p>How can I fix the error <code>J2EE Bad Practices: Leftover Debug Code</code>? It is pointing to <code>public  static void main</code>. How can I avoid the error? I'm about to test everything without the main method and don't know if everything works without the main method.</p>\n<pre><code>&quot;J2EE Bad Practices: Leftover Debug Code&quot; =&gt; 3 Issues\n​demo-api/src/main/java/com/apiDemo/ApiApplication.java:23 (Structural)\n​demo-web/src/main/java/com/webDemo/WebApplication.java:22 (Structural)\n​demo-web/src/main/java/demo/selenium/IBanTest.java:20 (Structural)\n</code></pre>\n<p>code:</p>\n<pre><code>package demo.selenium;\n\nimport java.io.IOException;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\nimport junit.framework.Assert;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.BeforeClass;\nimport org.junit.Test;\n\n\n\npublic class IBanTest {\n    public  static void main(String args[]) {\n        System.out.println(&quot;iBan Selenium Testing&quot;);\n        setup();\n        IBanUpdateTest();\n        IBanDeleteTest();\n        IBanCreateTest();\n        teardown();\n    }\n    \n</code></pre>\n<p>Similarly ApiApplication.java  has this:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    SpringApplication.run(ApiApplication.class, args);\n}\n</code></pre>\n<p>And WebApplication.java has this:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    SpringApplication.run(WebApplication.class, args);\n}\n</code></pre>\n<p>Update:</p>\n<p>I tested by removing the main methods from <code>ApiApplication.java</code> and <code>WebApplication.java</code> and the application is still working when packing from parent project. But doesn't work directly from child maven project. The errors disappeared after removing though.</p>\n<p>I could remove IBanTest main method since the class file can't be used without the main method.</p>\n<p>But it would be nice to include the main class and get rid of the errors somehow. Any suggestion would be nice.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"owner":{"account_id":22018839,"reputation":31,"user_id":16287940,"display_name":"Software Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":726,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1633593241,"creation_date":1633592867,"question_id":69477297,"body_markdown":"I am running a Kafka consumer jar file on a Linux system. I am not running the application as a service and also my PC is not running for 24 hours. Whenever i start the Kafka consumer, i am receiving previous messages from Kafka Broker (AUTO_OFFSET_RESET_CONFIG -&gt; &quot;latest&quot;). But some time later i get a &quot;Kafka-coordinator-heartbeat-thread, sending LeaveGroup request to coordinator &quot; exception.\r\n\r\nIt says &quot;due to consumer poll timeout has expired. This means the time between subsequent calls to poll() was longer than the configured max.poll.interval.ms, which typically implies that the poll loop is spending too much time processing messages. \r\nYou can address this either by increasing max.poll.interval.ms or by reducing the maximum size of batches returned in poll() with max.poll.records.&quot;\r\n\r\nI have also increased the &quot;max.poll.interval.ms&quot; to 300000 ms (5 mins), &quot;max.poll.records&quot; to 500, &quot;session.timeout.ms&quot; to 10000 ms &quot;heartbeat.interval.ms&quot; to 3000 ms but still i am getting the same error.\r\n\r\nIf i run the Kafka consumer multiple times to receive all the messages from Kafka broker, which were sent by the Kafka producer when the Kafka consumer was offline, then it works normally. But if i run the Kafka consumer before receiving all previous messages from the broker then i get the same exception.\r\n\r\nCan somebody please provide me some suggestions and recommendations for this problem? \r\nAny help would be really appreciated. Thank you\r\n\r\nBest Regards,\r\n\r\n\r\n","title":"How to solve &quot;kafka-coordinator-heartbeat-thread&quot; exception when a kafka consumer is re-started again after some time?","body":"<p>I am running a Kafka consumer jar file on a Linux system. I am not running the application as a service and also my PC is not running for 24 hours. Whenever i start the Kafka consumer, i am receiving previous messages from Kafka Broker (AUTO_OFFSET_RESET_CONFIG -&gt; &quot;latest&quot;). But some time later i get a &quot;Kafka-coordinator-heartbeat-thread, sending LeaveGroup request to coordinator &quot; exception.</p>\n<p>It says &quot;due to consumer poll timeout has expired. This means the time between subsequent calls to poll() was longer than the configured max.poll.interval.ms, which typically implies that the poll loop is spending too much time processing messages.\nYou can address this either by increasing max.poll.interval.ms or by reducing the maximum size of batches returned in poll() with max.poll.records.&quot;</p>\n<p>I have also increased the &quot;max.poll.interval.ms&quot; to 300000 ms (5 mins), &quot;max.poll.records&quot; to 500, &quot;session.timeout.ms&quot; to 10000 ms &quot;heartbeat.interval.ms&quot; to 3000 ms but still i am getting the same error.</p>\n<p>If i run the Kafka consumer multiple times to receive all the messages from Kafka broker, which were sent by the Kafka producer when the Kafka consumer was offline, then it works normally. But if i run the Kafka consumer before receiving all previous messages from the broker then i get the same exception.</p>\n<p>Can somebody please provide me some suggestions and recommendations for this problem?\nAny help would be really appreciated. Thank you</p>\n<p>Best Regards,</p>\n"},{"tags":["java","web-applications","tomcat8","tuckey-urlrewrite-filter"],"answers":[{"tags":[],"owner":{"account_id":15895874,"reputation":492,"user_id":11469682,"display_name":"Manonandan S K"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633593221,"creation_date":1610947202,"answer_id":65769193,"question_id":65285769,"body_markdown":"It is just an alternative What I have tried.\\\r\nThis will help if you use same thing multiple times in the same file.\r\n```\r\n[&lt;!ENTITY exampleurl &quot;127.0.0.1&quot;&gt;]\r\n````\r\nAdd the above line to DOCTYPE line like this.\r\n```\r\n&lt;!DOCTYPE urlrewrite PUBLIC &quot;-//tuckey.org//DTD UrlRewrite 4.0//EN&quot; &quot;http://www.tuckey.org/res/dtds/urlrewrite4.0.dtd&quot; [&lt;!ENTITY exampleurl &quot;127.0.0.1&quot;&gt;]&gt;\r\n```\r\n\r\nUse &amp;exampleurl; like below:\r\n```\r\n&lt;rule&gt;\r\n    &lt;from&gt;/http&lt;/from&gt;\r\n    &lt;to redirect=&quot;true&quot;&gt;&amp;exampleurl;&lt;/to&gt;\r\n&lt;/rule&gt;\r\n```\r\n ","title":"How to use environment variable in urlrewrite.xml of tomcat rewrite file","body":"<p>It is just an alternative What I have tried.<br />\nThis will help if you use same thing multiple times in the same file.</p>\n<pre><code>[&lt;!ENTITY exampleurl &quot;127.0.0.1&quot;&gt;]\n</code></pre>\n<p>Add the above line to DOCTYPE line like this.</p>\n<pre><code>&lt;!DOCTYPE urlrewrite PUBLIC &quot;-//tuckey.org//DTD UrlRewrite 4.0//EN&quot; &quot;http://www.tuckey.org/res/dtds/urlrewrite4.0.dtd&quot; [&lt;!ENTITY exampleurl &quot;127.0.0.1&quot;&gt;]&gt;\n</code></pre>\n<p>Use &amp;exampleurl; like below:</p>\n<pre><code>&lt;rule&gt;\n    &lt;from&gt;/http&lt;/from&gt;\n    &lt;to redirect=&quot;true&quot;&gt;&amp;exampleurl;&lt;/to&gt;\n&lt;/rule&gt;\n</code></pre>\n"}],"owner":{"account_id":11700075,"reputation":353,"user_id":8565497,"accept_rate":9,"display_name":"africandrogba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1633593221,"creation_date":1607934500,"question_id":65285769,"body_markdown":"I have a urlrewrite.xml which I want to use to redirect an url\r\n\r\n        &lt;rule&gt;\r\n    \t\t&lt;from&gt;/http&lt;/from&gt;\r\n    \t\t&lt;to redirect=&quot;true&quot;&gt;https://www.example.com&lt;/to&gt;\r\n    \t&lt;/rule&gt;\r\n\r\nI want the example.com to be coming from a java system variable which I have set at startup, however it didnt work. This is the code I modified to use the java system variable &#39;exampleurl&#39;\r\n\r\n        &lt;rule&gt;\r\n    \t\t&lt;from&gt;/http&lt;/from&gt;\r\n    \t\t&lt;to redirect=&quot;true&quot;&gt;${exampleurl}&lt;/to&gt;\r\n    \t&lt;/rule&gt;","title":"How to use environment variable in urlrewrite.xml of tomcat rewrite file","body":"<p>I have a urlrewrite.xml which I want to use to redirect an url</p>\n<pre><code>    &lt;rule&gt;\n        &lt;from&gt;/http&lt;/from&gt;\n        &lt;to redirect=&quot;true&quot;&gt;https://www.example.com&lt;/to&gt;\n    &lt;/rule&gt;\n</code></pre>\n<p>I want the example.com to be coming from a java system variable which I have set at startup, however it didnt work. This is the code I modified to use the java system variable 'exampleurl'</p>\n<pre><code>    &lt;rule&gt;\n        &lt;from&gt;/http&lt;/from&gt;\n        &lt;to redirect=&quot;true&quot;&gt;${exampleurl}&lt;/to&gt;\n    &lt;/rule&gt;\n</code></pre>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1633500629,"post_id":69459323,"comment_id":122772553,"body_markdown":"After every change in dependencies or jars clean and rebuild project.","body":"After every change in dependencies or jars clean and rebuild project."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1633501621,"post_id":69459323,"comment_id":122772846,"body_markdown":"That is Linux syntax.  Are you on windows?","body":"That is Linux syntax.  Are you on windows?"}],"answers":[{"tags":[],"owner":{"account_id":9023324,"reputation":2669,"user_id":6737245,"display_name":"user630702"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633592966,"creation_date":1633592966,"answer_id":69477322,"question_id":69459323,"body_markdown":"Figured it out.\r\n\r\nI also had to include `log4j2-2.3.jar`. \r\n\r\n    log4j-core-2.14.1.jar\r\n    log4j2-2.3.jar\r\n    log4j-api-2.14.1.jar\r\n\r\nCLASSPATH for example would be like:\r\n\r\n    CLASSPATH = &quot;.:/home/user/:selenium-chrome-driver-3.12.0.jar:selenium-server-standalone-3.13.0.jar:guava-13.0.1.jar:junit4.jar:log4j-core-2.14.1.jar:log4j2-2.3.jar:log4j-api-2.14.1.jar&quot;\r\n\r\nAnd run the program in directory target/classes/:\r\n\r\n    java demo.selenium.IBanTest","title":"java.lang.NoClassDefFoundError - Log4j doesn&#39;t work even with jar files","body":"<p>Figured it out.</p>\n<p>I also had to include <code>log4j2-2.3.jar</code>.</p>\n<pre><code>log4j-core-2.14.1.jar\nlog4j2-2.3.jar\nlog4j-api-2.14.1.jar\n</code></pre>\n<p>CLASSPATH for example would be like:</p>\n<pre><code>CLASSPATH = &quot;.:/home/user/:selenium-chrome-driver-3.12.0.jar:selenium-server-standalone-3.13.0.jar:guava-13.0.1.jar:junit4.jar:log4j-core-2.14.1.jar:log4j2-2.3.jar:log4j-api-2.14.1.jar&quot;\n</code></pre>\n<p>And run the program in directory target/classes/:</p>\n<pre><code>java demo.selenium.IBanTest\n</code></pre>\n"}],"owner":{"account_id":9023324,"reputation":2669,"user_id":6737245,"display_name":"user630702"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633592966,"creation_date":1633489101,"question_id":69459323,"body_markdown":"I&#39;ve added `log4j-api-2.13.0.jar:log4j-core-2.13.0.jar` to CLASSPATH but still I get the following error. Any idea how to resolve the error?\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager\r\n            at demo.selenium.IBanTest.&lt;clinit&gt;(IBanTest.java:22)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager\r\n            at java.net.URLClassLoader.findClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            ... 1 more\r\n\r\nENV:\r\n\r\n    CLASSPATH=&quot;.:selenium-chrome-driver-3.12.0.jar:selenium-server-standalone-3.13.0.jar:guava-13.0.1.jar:junit4.jar:log4j-api-2.13.0.jar:log4j-core-2.13.0.jar&quot;\r\n    \r\nBASH:\r\n    \r\n    java demo.selenium.IBanTest\r\n\r\n","title":"java.lang.NoClassDefFoundError - Log4j doesn&#39;t work even with jar files","body":"<p>I've added <code>log4j-api-2.13.0.jar:log4j-core-2.13.0.jar</code> to CLASSPATH but still I get the following error. Any idea how to resolve the error?</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager\n        at demo.selenium.IBanTest.&lt;clinit&gt;(IBanTest.java:22)\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 1 more\n</code></pre>\n<p>ENV:</p>\n<pre><code>CLASSPATH=&quot;.:selenium-chrome-driver-3.12.0.jar:selenium-server-standalone-3.13.0.jar:guava-13.0.1.jar:junit4.jar:log4j-api-2.13.0.jar:log4j-core-2.13.0.jar&quot;\n</code></pre>\n<p>BASH:</p>\n<pre><code>java demo.selenium.IBanTest\n</code></pre>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":1088907,"reputation":1550,"user_id":1083981,"display_name":"nurisezgin"},"score":0,"creation_date":1633550332,"post_id":69470430,"comment_id":122792682,"body_markdown":"Hi Joshua, it might be a little problem on somewhere. I tried your code snippet and sample data and it works fine. Maybe you can check &#39;Gson&#39; version, I used 2.8.8.","body":"Hi Joshua, it might be a little problem on somewhere. I tried your code snippet and sample data and it works fine. Maybe you can check &#39;Gson&#39; version, I used 2.8.8."},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1633591174,"post_id":69470430,"comment_id":122801355,"body_markdown":"I added a screenshot of the empty SpecCifInfo objct,still empty in the logs even if i changed to 2.8.8 :/","body":"I added a screenshot of the empty SpecCifInfo objct,still empty in the logs even if i changed to 2.8.8 :/"},{"owner":{"account_id":1060282,"reputation":1236,"user_id":3452058,"display_name":"Janos Vinceller"},"score":0,"creation_date":1633593250,"post_id":69470430,"comment_id":122802120,"body_markdown":"My first thought is: those card numbers cannot be valid json. Those must be quoted.","body":"My first thought is: those card numbers cannot be valid json. Those must be quoted."}],"answers":[{"tags":[],"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1633592922,"creation_date":1633592239,"answer_id":69477147,"question_id":69470430,"body_markdown":"Those annotations are for the Jackson library, and you are manually using Gson. You should either keep them and just let Spring handle the deserialization for you by specifying a `List&lt;SpecCifInfo&gt;` parameter in the controller method, or you should use GSON&#39;s `@SerializedName` annotation. Either way will work.","title":"Converting JSON Array to Java Array always throws empty values","body":"<p>Those annotations are for the Jackson library, and you are manually using Gson. You should either keep them and just let Spring handle the deserialization for you by specifying a <code>List&lt;SpecCifInfo&gt;</code> parameter in the controller method, or you should use GSON's <code>@SerializedName</code> annotation. Either way will work.</p>\n"}],"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69477147,"answer_count":1,"score":-1,"last_activity_date":1633592922,"creation_date":1633542458,"question_id":69470430,"body_markdown":"So I have this variable specCifDetailsReturn which contains the ff. payload\r\n\r\n    [\r\n    {&quot;ax21:cHType&quot;:&quot;S&quot;,\r\n    &quot;ax21:cardNumber&quot;:4***********7126,&quot;ax21:returnCde&quot;:&quot;00&quot;,\r\n    &quot;ax21:cancelCode&quot;:&quot;&quot;,\r\n    &quot;ax21:vipCode&quot;:&quot;&quot;,\r\n    &quot;ax21:custrNbr&quot;:&quot;0*****3426&quot;},\r\n    \r\n    {&quot;ax21:cHType&quot;:&quot;S&quot;,\r\n    &quot;ax21:cardNumber&quot;:4***********3038,&quot;ax21:returnCde&quot;:&quot;00&quot;,\r\n    &quot;ax21:cancelCode&quot;:&quot;H&quot;,\r\n    &quot;ax21:vipCode&quot;:&quot;&quot;,\r\n    &quot;ax21:custrNbr&quot;:&quot;0*****3426&quot;}\r\n    ]\r\n\r\nAnd the ff. Model Class to extract the params I need from the Array\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\r\n    public final class SpecCifInfo {\r\n    \r\n        @JsonAlias(&quot;ax21:cHType&quot;)\r\n        private String cHType;\r\n    \r\n        @JsonAlias(&quot;ax21:cardNumber&quot;)\r\n        private String cardNumber;\r\n    \r\n    }\r\n\r\n\r\nI am trying to convert it to a Java ArrayList so that I could loop into it and find a card number. But for some reason it always throws a null value on the log even though the specCifDetailsReturn variable has a value. Below is the snippet of my code.\r\n\r\n    Gson gson = new Gson();\r\n    Type type = new TypeToken&lt;List&lt;SpecCifInfo&gt;&gt;(){}.getType();\r\n    ArrayList&lt;SpecCifInfo&gt; specDetails = gson.fromJson(specCifDetailsReturn.toString(),type);\r\n\r\n    for (SpecCifInfo specInfo : specDetails){\r\n         LOGGER.debug(&quot;Spec CIF Details&quot;, specInfo.getCHType() + &quot;-&quot; + specInfo.getCardNumber());\r\n                }\r\n\r\nSample Output of the SpecCifInfo Object that has null values\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wKE8j.png","title":"Converting JSON Array to Java Array always throws empty values","body":"<p>So I have this variable specCifDetailsReturn which contains the ff. payload</p>\n<pre><code>[\n{&quot;ax21:cHType&quot;:&quot;S&quot;,\n&quot;ax21:cardNumber&quot;:4***********7126,&quot;ax21:returnCde&quot;:&quot;00&quot;,\n&quot;ax21:cancelCode&quot;:&quot;&quot;,\n&quot;ax21:vipCode&quot;:&quot;&quot;,\n&quot;ax21:custrNbr&quot;:&quot;0*****3426&quot;},\n\n{&quot;ax21:cHType&quot;:&quot;S&quot;,\n&quot;ax21:cardNumber&quot;:4***********3038,&quot;ax21:returnCde&quot;:&quot;00&quot;,\n&quot;ax21:cancelCode&quot;:&quot;H&quot;,\n&quot;ax21:vipCode&quot;:&quot;&quot;,\n&quot;ax21:custrNbr&quot;:&quot;0*****3426&quot;}\n]\n</code></pre>\n<p>And the ff. Model Class to extract the params I need from the Array</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\npublic final class SpecCifInfo {\n\n    @JsonAlias(&quot;ax21:cHType&quot;)\n    private String cHType;\n\n    @JsonAlias(&quot;ax21:cardNumber&quot;)\n    private String cardNumber;\n\n}\n</code></pre>\n<p>I am trying to convert it to a Java ArrayList so that I could loop into it and find a card number. But for some reason it always throws a null value on the log even though the specCifDetailsReturn variable has a value. Below is the snippet of my code.</p>\n<pre><code>Gson gson = new Gson();\nType type = new TypeToken&lt;List&lt;SpecCifInfo&gt;&gt;(){}.getType();\nArrayList&lt;SpecCifInfo&gt; specDetails = gson.fromJson(specCifDetailsReturn.toString(),type);\n\nfor (SpecCifInfo specInfo : specDetails){\n     LOGGER.debug(&quot;Spec CIF Details&quot;, specInfo.getCHType() + &quot;-&quot; + specInfo.getCardNumber());\n            }\n</code></pre>\n<p>Sample Output of the SpecCifInfo Object that has null values\n<a href=\"https://i.stack.imgur.com/wKE8j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wKE8j.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":399349,"reputation":4195,"user_id":764624,"display_name":"Ivan Wooll"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633591716,"creation_date":1633591716,"answer_id":69477054,"question_id":69476921,"body_markdown":"I see a few problems here\r\n\r\n1. the `GalleryActivity` class does not extend `AppCompatActivity` (or any other class)\r\n\r\n2. the `GalleryActivity` function should a) start with a lowercase letter and b) belongs in the `ProfileActivity` class\r\n\r\n3. the onActivityResult callback also belongs in the `ProfileActivity` class\r\n\r\nThese points are based on assumptions I&#39;ve made about your intentions given the info you&#39;ve provided","title":"Android Studio: move a activity to separate java class","body":"<p>I see a few problems here</p>\n<ol>\n<li><p>the <code>GalleryActivity</code> class does not extend <code>AppCompatActivity</code> (or any other class)</p>\n</li>\n<li><p>the <code>GalleryActivity</code> function should a) start with a lowercase letter and b) belongs in the <code>ProfileActivity</code> class</p>\n</li>\n<li><p>the onActivityResult callback also belongs in the <code>ProfileActivity</code> class</p>\n</li>\n</ol>\n<p>These points are based on assumptions I've made about your intentions given the info you've provided</p>\n"}],"owner":{"account_id":20957153,"reputation":197,"user_id":15605043,"display_name":"chen abien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1633592908,"creation_date":1633591049,"question_id":69476921,"body_markdown":"my original code is provide as below:\r\n\r\n    public class ProfileActivity extends AppCompatActivity {\r\n    ImageView imageView;\r\n    private static final int PICK_IMAGE = 100;\r\n    Uri imageUri;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_profile);\r\n\r\n        final ImageView exampleImage = (ImageView) this.findViewById(R.id.exampleImageView);\r\n        exampleImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // [TODO] Implement application behavior when the user clicks the profile picture\r\n                //Toast.makeText(ProfileActivity.this, &quot;Button Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                GalleryActivity();\r\n            }\r\n        });\r\n    }\r\n    private void GalleryActivity(){\r\n        Intent gallery = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.INTERNAL_CONTENT_URI);\r\n        startActivityForResult(gallery, PICK_IMAGE);\r\n    }\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data){\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(resultCode == RESULT_OK &amp;&amp; requestCode == PICK_IMAGE) {\r\n            imageUri = data.getData();\r\n            imageView.setImageURI(imageUri);\r\n        }\r\n\r\n    }\r\n....................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................\r\nI want to move the GallertyActivity to another separate class.\r\nI did it by copying some parts to the new class. but it show some error, what did I do wrong?\r\n\r\n    import android.content.Intent;\r\n    import android.net.Uri;\r\n    import android.provider.MediaStore;\r\n    import android.widget.ImageView;\r\n\r\n    public class GalleryActivity {\r\n    ImageView imageView;\r\n    private static final int PICK_IMAGE = 100;\r\n    Uri imageUri;\r\n\r\n    private void GalleryActivity(){\r\n        Intent gallery = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.INTERNAL_CONTENT_URI);\r\n        startActivityForResult(gallery, PICK_IMAGE);\r\n    }\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data){\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(resultCode == RESULT_OK &amp;&amp; requestCode == PICK_IMAGE) {\r\n            imageUri = data.getData();\r\n            imageView.setImageURI(imageUri);\r\n        }\r\n\r\n    }\r\n    \r\n    }\r\n\r\nerror message:\r\n    \r\n    error: cannot find symbol\r\n            startActivityForResult(gallery, PICK_IMAGE);\r\n            ^\r\n      symbol:   method startActivityForResult(Intent,int)\r\n      location: class GalleryActivity\r\n\r\n","title":"Android Studio: move a activity to separate java class","body":"<p>my original code is provide as below:</p>\n<pre><code>public class ProfileActivity extends AppCompatActivity {\nImageView imageView;\nprivate static final int PICK_IMAGE = 100;\nUri imageUri;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_profile);\n\n    final ImageView exampleImage = (ImageView) this.findViewById(R.id.exampleImageView);\n    exampleImage.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            // [TODO] Implement application behavior when the user clicks the profile picture\n            //Toast.makeText(ProfileActivity.this, &quot;Button Clicked&quot;, Toast.LENGTH_SHORT).show();\n            GalleryActivity();\n        }\n    });\n}\nprivate void GalleryActivity(){\n    Intent gallery = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.INTERNAL_CONTENT_URI);\n    startActivityForResult(gallery, PICK_IMAGE);\n}\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data){\n    super.onActivityResult(requestCode, resultCode, data);\n    if(resultCode == RESULT_OK &amp;&amp; requestCode == PICK_IMAGE) {\n        imageUri = data.getData();\n        imageView.setImageURI(imageUri);\n    }\n\n}\n</code></pre>\n<p>....................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................\nI want to move the GallertyActivity to another separate class.\nI did it by copying some parts to the new class. but it show some error, what did I do wrong?</p>\n<pre><code>import android.content.Intent;\nimport android.net.Uri;\nimport android.provider.MediaStore;\nimport android.widget.ImageView;\n\npublic class GalleryActivity {\nImageView imageView;\nprivate static final int PICK_IMAGE = 100;\nUri imageUri;\n\nprivate void GalleryActivity(){\n    Intent gallery = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.INTERNAL_CONTENT_URI);\n    startActivityForResult(gallery, PICK_IMAGE);\n}\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data){\n    super.onActivityResult(requestCode, resultCode, data);\n    if(resultCode == RESULT_OK &amp;&amp; requestCode == PICK_IMAGE) {\n        imageUri = data.getData();\n        imageView.setImageURI(imageUri);\n    }\n\n}\n\n}\n</code></pre>\n<p>error message:</p>\n<pre><code>error: cannot find symbol\n        startActivityForResult(gallery, PICK_IMAGE);\n        ^\n  symbol:   method startActivityForResult(Intent,int)\n  location: class GalleryActivity\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","matcher"],"answers":[{"tags":[],"owner":{"account_id":12583803,"reputation":47,"user_id":9153532,"display_name":"philgsk"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1633529244,"creation_date":1633529244,"answer_id":69467307,"question_id":69465553,"body_markdown":"You can configure it in the method configure(HttpSecurity http) by simply adding\r\n\r\n    http.authorizeRequests().antMatchers(&quot;/login&quot;).permitAll();\r\n    http.authorizeRequests().antMatchers(&quot;/logout&quot;).permitAll();","title":"SecurityConfiguration / RequestMatcher issue with several AntPathRequestMatcher","body":"<p>You can configure it in the method configure(HttpSecurity http) by simply adding</p>\n<pre><code>http.authorizeRequests().antMatchers(&quot;/login&quot;).permitAll();\nhttp.authorizeRequests().antMatchers(&quot;/logout&quot;).permitAll();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10137765,"reputation":166,"user_id":7488558,"accept_rate":80,"display_name":"Voljega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633592768,"creation_date":1633592768,"answer_id":69477270,"question_id":69465553,"body_markdown":"So I found how to make it work, there seems to have been two/three issues :  \r\n- I had removed `.csrf().disable()` because it didn&#39;t seem to be good practice but actually this was causing some issues  \r\n- order of the statements in the `configure(HttpSecurity http)` function is important, putting the `logout()` at the very end was apparently problematic  \r\n- removed some uneeded code, which might or might have not contributed to the issue.  \r\n\r\nIn the end here is my working `SecurityConfiguration`:  \r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n@AllArgsConstructor\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    private static final RequestMatcher PROTECTED_URLS = new OrRequestMatcher(\r\n            new AntPathRequestMatcher(&quot;/api/**&quot;),\r\n            new AntPathRequestMatcher(&quot;/logout/**&quot;)\r\n    );\r\n\r\n    AuthenticationProvider provider;\r\n\r\n    @Override\r\n    protected void configure(final AuthenticationManagerBuilder auth) {\r\n        auth.authenticationProvider(provider);\r\n    }\r\n\r\n    @Override\r\n    public void configure(final WebSecurity webSecurity) {\r\n        webSecurity.ignoring().antMatchers(&quot;/login/**&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http.sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .csrf().disable()\r\n                .logout().disable()\r\n                .exceptionHandling()\r\n                .and()\r\n                .authenticationProvider(provider)\r\n                .addFilterBefore(authenticationFilter(), AnonymousAuthenticationFilter.class)\r\n                .authorizeRequests()\r\n                .requestMatchers(PROTECTED_URLS)\r\n                .authenticated()\r\n                .and();\r\n    }\r\n\r\n    @Bean\r\n    AuthenticationFilter authenticationFilter() throws Exception {\r\n        final AuthenticationFilter filter = new AuthenticationFilter(PROTECTED_URLS);\r\n        filter.setAuthenticationManager(authenticationManager());\r\n        return filter;\r\n    }\r\n}\r\n```","title":"SecurityConfiguration / RequestMatcher issue with several AntPathRequestMatcher","body":"<p>So I found how to make it work, there seems to have been two/three issues :</p>\n<ul>\n<li>I had removed <code>.csrf().disable()</code> because it didn't seem to be good practice but actually this was causing some issues</li>\n<li>order of the statements in the <code>configure(HttpSecurity http)</code> function is important, putting the <code>logout()</code> at the very end was apparently problematic</li>\n<li>removed some uneeded code, which might or might have not contributed to the issue.</li>\n</ul>\n<p>In the end here is my working <code>SecurityConfiguration</code>:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@AllArgsConstructor\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    private static final RequestMatcher PROTECTED_URLS = new OrRequestMatcher(\n            new AntPathRequestMatcher(&quot;/api/**&quot;),\n            new AntPathRequestMatcher(&quot;/logout/**&quot;)\n    );\n\n    AuthenticationProvider provider;\n\n    @Override\n    protected void configure(final AuthenticationManagerBuilder auth) {\n        auth.authenticationProvider(provider);\n    }\n\n    @Override\n    public void configure(final WebSecurity webSecurity) {\n        webSecurity.ignoring().antMatchers(&quot;/login/**&quot;);\n    }\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .csrf().disable()\n                .logout().disable()\n                .exceptionHandling()\n                .and()\n                .authenticationProvider(provider)\n                .addFilterBefore(authenticationFilter(), AnonymousAuthenticationFilter.class)\n                .authorizeRequests()\n                .requestMatchers(PROTECTED_URLS)\n                .authenticated()\n                .and();\n    }\n\n    @Bean\n    AuthenticationFilter authenticationFilter() throws Exception {\n        final AuthenticationFilter filter = new AuthenticationFilter(PROTECTED_URLS);\n        filter.setAuthenticationManager(authenticationManager());\n        return filter;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10137765,"reputation":166,"user_id":7488558,"accept_rate":80,"display_name":"Voljega"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69477270,"answer_count":2,"score":1,"last_activity_date":1633592768,"creation_date":1633522529,"question_id":69465553,"body_markdown":"I just added token authentication to my spring boot API and it&#39;s working well, with only one issue.\r\n\r\nI want to use the `/login` endpoint (with login and password) to get a token, which be then passed in the header to all  services requiring authentication, namely `logout` and everything on the `/api/**` routes.\r\n\r\nMy issue is that I have to leave `/login` unprotected but not the `logout` one however I can&#39;t remove the line marked `// TODO Why can&#39;t I remove this` in the following code or I get a 403 error (Forbidden) when accessing `/logout` with or without token\r\n\r\nAnd I don&#39;t get why, I think it&#39;s related maybe to my RequestMacther :\r\n```\r\nprivate static final RequestMatcher PROTECTED_URLS = new OrRequestMatcher(\r\n            new AntPathRequestMatcher(&quot;/api/**&quot;),\r\n            new AntPathRequestMatcher(&quot;/logout/**&quot;)\r\n    );\r\n```\r\n\r\nHowever the `/logout` does indeed requires authentication with token, so maybe it&#39;s not that.\r\n\r\nTLDR everything is working well with this code but I&#39;d like to remove the line after `// TODO Why can&#39;t I remove this` but I get a 403 on `/logout` if I do remove it\r\n\r\nAny help appreciated.\r\n\r\nMy SecurityConfiguration :\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n@AllArgsConstructor\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    private static final RequestMatcher PROTECTED_URLS = new OrRequestMatcher(\r\n            new AntPathRequestMatcher(&quot;/api/**&quot;),\r\n            new AntPathRequestMatcher(&quot;/logout/**&quot;)\r\n    );\r\n\r\n    AuthenticationProvider provider;\r\n\r\n    @Override\r\n    protected void configure(final AuthenticationManagerBuilder auth) {\r\n        auth.authenticationProvider(provider);\r\n    }\r\n\r\n    @Override\r\n    public void configure(final WebSecurity webSecurity) {\r\n        webSecurity.ignoring().antMatchers(&quot;/login/**&quot;);\r\n        // TODO Why can&#39;t I remove this\r\n        webSecurity.ignoring().antMatchers(&quot;/logout/**&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http.sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .exceptionHandling()\r\n                .and()\r\n                .authenticationProvider(provider)\r\n                .addFilterBefore(authenticationFilter(), AnonymousAuthenticationFilter.class)\r\n                .authorizeRequests()\r\n                .requestMatchers(PROTECTED_URLS)\r\n                .authenticated()\r\n                .and()\r\n                .formLogin().disable()\r\n                .httpBasic().disable()\r\n                .logout().disable();\r\n    }\r\n\r\n    @Bean\r\n    AuthenticationFilter authenticationFilter() throws Exception {\r\n        final AuthenticationFilter filter = new AuthenticationFilter(PROTECTED_URLS);\r\n        filter.setAuthenticationManager(authenticationManager());\r\n        return filter;\r\n    }\r\n\r\n    @Bean\r\n    AuthenticationEntryPoint forbiddenEntryPoint() {\r\n        return new HttpStatusEntryPoint(HttpStatus.FORBIDDEN);\r\n    }\r\n}\r\n```","title":"SecurityConfiguration / RequestMatcher issue with several AntPathRequestMatcher","body":"<p>I just added token authentication to my spring boot API and it's working well, with only one issue.</p>\n<p>I want to use the <code>/login</code> endpoint (with login and password) to get a token, which be then passed in the header to all  services requiring authentication, namely <code>logout</code> and everything on the <code>/api/**</code> routes.</p>\n<p>My issue is that I have to leave <code>/login</code> unprotected but not the <code>logout</code> one however I can't remove the line marked <code>// TODO Why can't I remove this</code> in the following code or I get a 403 error (Forbidden) when accessing <code>/logout</code> with or without token</p>\n<p>And I don't get why, I think it's related maybe to my RequestMacther :</p>\n<pre><code>private static final RequestMatcher PROTECTED_URLS = new OrRequestMatcher(\n            new AntPathRequestMatcher(&quot;/api/**&quot;),\n            new AntPathRequestMatcher(&quot;/logout/**&quot;)\n    );\n</code></pre>\n<p>However the <code>/logout</code> does indeed requires authentication with token, so maybe it's not that.</p>\n<p>TLDR everything is working well with this code but I'd like to remove the line after <code>// TODO Why can't I remove this</code> but I get a 403 on <code>/logout</code> if I do remove it</p>\n<p>Any help appreciated.</p>\n<p>My SecurityConfiguration :</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@AllArgsConstructor\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    private static final RequestMatcher PROTECTED_URLS = new OrRequestMatcher(\n            new AntPathRequestMatcher(&quot;/api/**&quot;),\n            new AntPathRequestMatcher(&quot;/logout/**&quot;)\n    );\n\n    AuthenticationProvider provider;\n\n    @Override\n    protected void configure(final AuthenticationManagerBuilder auth) {\n        auth.authenticationProvider(provider);\n    }\n\n    @Override\n    public void configure(final WebSecurity webSecurity) {\n        webSecurity.ignoring().antMatchers(&quot;/login/**&quot;);\n        // TODO Why can't I remove this\n        webSecurity.ignoring().antMatchers(&quot;/logout/**&quot;);\n    }\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .exceptionHandling()\n                .and()\n                .authenticationProvider(provider)\n                .addFilterBefore(authenticationFilter(), AnonymousAuthenticationFilter.class)\n                .authorizeRequests()\n                .requestMatchers(PROTECTED_URLS)\n                .authenticated()\n                .and()\n                .formLogin().disable()\n                .httpBasic().disable()\n                .logout().disable();\n    }\n\n    @Bean\n    AuthenticationFilter authenticationFilter() throws Exception {\n        final AuthenticationFilter filter = new AuthenticationFilter(PROTECTED_URLS);\n        filter.setAuthenticationManager(authenticationManager());\n        return filter;\n    }\n\n    @Bean\n    AuthenticationEntryPoint forbiddenEntryPoint() {\n        return new HttpStatusEntryPoint(HttpStatus.FORBIDDEN);\n    }\n}\n</code></pre>\n"},{"tags":["java","serialization","jackson","deserialization"],"owner":{"account_id":10837079,"reputation":161,"user_id":7969717,"display_name":"Alfarhan Zahedi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1633592741,"creation_date":1633592741,"question_id":69477263,"body_markdown":"I have a use-case where I would like to serialize an `Object` to an instance of `Map&lt;String, Object&gt;`. I would also like to store type information so as to support polymorphic deserialization.\r\n\r\nI can think of the following way to achieve it using Jackson - \r\n\r\n```\r\nobjectMapper.readValue(\r\n    typedObjectMapper.writeValueAsString(object), new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {}\r\n)\r\n```\r\n\r\nThe above code is working correctly. Is there a better way to do so?\r\n\r\nIf I am using `objectMapper.convertValue(object, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {})`, I am loosing the type information.\r\n\r\n`convertValue` internally does the same things as my first code sample (as per the Javadocs), but its optimized.\r\n\r\nIf there are no other options, what is the overhead of the first approach?\r\n\r\nThank you!","title":"Serialize POJO To Typed Map","body":"<p>I have a use-case where I would like to serialize an <code>Object</code> to an instance of <code>Map&lt;String, Object&gt;</code>. I would also like to store type information so as to support polymorphic deserialization.</p>\n<p>I can think of the following way to achieve it using Jackson -</p>\n<pre><code>objectMapper.readValue(\n    typedObjectMapper.writeValueAsString(object), new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {}\n)\n</code></pre>\n<p>The above code is working correctly. Is there a better way to do so?</p>\n<p>If I am using <code>objectMapper.convertValue(object, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {})</code>, I am loosing the type information.</p>\n<p><code>convertValue</code> internally does the same things as my first code sample (as per the Javadocs), but its optimized.</p>\n<p>If there are no other options, what is the overhead of the first approach?</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring","spring-boot","log4j"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1633579500,"post_id":69460216,"comment_id":122798547,"body_markdown":"You have a typo: the `-DDlog4j.configurationFile=file:log4j2.Properties` command line argument should be `-Dlog4j.configurationFile=file:///absolute/path/to/log4j2.Properties`.","body":"You have a typo: the <code>-DDlog4j.configurationFile=file:log4j2.Properties</code> command line argument should be <code>-Dlog4j.configurationFile=file:&#47;&#47;&#47;absolute&#47;path&#47;to&#47;log4j2.Pr&zwnj;&#8203;operties</code>."}],"answers":[{"tags":[],"owner":{"account_id":9023324,"reputation":2669,"user_id":6737245,"display_name":"user630702"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633592740,"creation_date":1633592740,"answer_id":69477262,"question_id":69460216,"body_markdown":"Figured it out. After looking at the debug trace, it was looking for `log4j2-test.properties` instead of `log4j2.properties`. So I renamed the file as `log4j2-test.properties` and it starte dworking.\r\n\r\nSet Environment variable:\r\n\r\n    CLASSPATH = &quot;.:/home/user/:selenium-chrome-driver-3.12.0.jar:selenium-server-standalone-3.13.0.jar:guava-13.0.1.jar:junit4.jar:log4j-core-2.14.1.jar:log4j2-2.3.jar:log4j-api-2.14.1.jar&quot;\r\n\r\nRename file to `log4j2-test.properties` and run java program as:\r\n\r\n    sh &#39;java -Dlog4j.configurationFile=file:log4j2-test.properties demo.selenium.IBanTest &#39;\r\n","title":"Log4j not logging to console","body":"<p>Figured it out. After looking at the debug trace, it was looking for <code>log4j2-test.properties</code> instead of <code>log4j2.properties</code>. So I renamed the file as <code>log4j2-test.properties</code> and it starte dworking.</p>\n<p>Set Environment variable:</p>\n<pre><code>CLASSPATH = &quot;.:/home/user/:selenium-chrome-driver-3.12.0.jar:selenium-server-standalone-3.13.0.jar:guava-13.0.1.jar:junit4.jar:log4j-core-2.14.1.jar:log4j2-2.3.jar:log4j-api-2.14.1.jar&quot;\n</code></pre>\n<p>Rename file to <code>log4j2-test.properties</code> and run java program as:</p>\n<pre><code>sh 'java -Dlog4j.configurationFile=file:log4j2-test.properties demo.selenium.IBanTest '\n</code></pre>\n"}],"owner":{"account_id":9023324,"reputation":2669,"user_id":6737245,"display_name":"user630702"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1727,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633592740,"creation_date":1633497757,"question_id":69460216,"body_markdown":"I&#39;m trying to run a class file from command line which was compiled with log4j2 but it doesn&#39;t print anything on console. Any idea what&#39;s wrong?\r\n\r\n    java -Dlog4j2.debug=true -DDlog4j.configurationFile=file:log4j2.Properties demo.selenium.IBanTest\r\n\r\nI&#39;m expecting `logger.debug` messages to be displayed on the console.\r\n\r\n    public static void IBanUpdateTest(){\r\n            driver.get(&quot;http://google.com/demo-web-1.0-SNAPSHOT&quot;); //define the url\r\n            String pageTitle = driver.getTitle();       //get the title of the webpage\r\n            Assert.assertEquals(&quot;iBAN Register Form&quot;, pageTitle);    //verify the title of the webpage\r\n            logger.debug(&quot;The title of this page is: {}&quot;, pageTitle);\r\n            driver.findElement(By.id(&quot;0iban&quot;)).clear();//clear the input field before entering any value\r\n            driver.findElement(By.id(&quot;0iban&quot;)).sendKeys(&quot;5464564654&quot;);//enter the IBan Value\r\n            driver.findElement(By.id(&quot;0businessIdentifierCode&quot;)).clear();\r\n            driver.findElement(By.id(&quot;0businessIdentifierCode&quot;)).sendKeys(&quot;54645646548546465&quot;); //enter the BIC value\r\n            driver.findElement(By.id(&quot;0updateRow&quot;)).click();      //click Update button\r\n            logger.debug(&quot;Updated the row successfully&quot;);\r\n    }\r\n\r\n`-Dlog4j2.debug=true output:`\r\n\r\n    DEBUG StatusLogger Using ShutdownCallbackRegistry class org.apache.logging.log4j.core.util.DefaultShutdownCallbackRegistry\r\n    DEBUG StatusLogger Unable to access Context Data Providers org.apache.logging.log4j.core.util.ContextDataProvider: Provider com.newrelic.logging.log4j2.NewRelicContextDataProvider could not be instantiated\r\n    INFO StatusLogger Log4j appears to be running in a Servlet environment, but there&#39;s no log4j-web module available. If you want better web container support, please add the log4j-web JAR to your web archive or server lib directory.\r\n    INFO StatusLogger Log4j appears to be running in a Servlet environment, but there&#39;s no log4j-web module available. If you want better web container support, please add the log4j-web JAR to your web archive or server lib directory.\r\n    DEBUG StatusLogger Took 1.065501 seconds to load 217 plugins from sun.misc.Launcher$AppClassLoader@75b84c92\r\n    DEBUG StatusLogger PluginManager &#39;Converter&#39; found 44 plugins\r\n    DEBUG StatusLogger Starting OutputStreamManager SYSTEM_OUT.false.false-1\r\n    DEBUG StatusLogger Starting LoggerContext[name=75b84c92, org.apache.logging.log4j.core.LoggerContext@627551fb]...\r\n    DEBUG StatusLogger Reconfiguration started for context[name=75b84c92] at URI null (org.apache.logging.log4j.core.LoggerContext@627551fb) with optional ClassLoader: null\r\n    DEBUG StatusLogger Initializing Thread Context Data Service Providers\r\n    DEBUG StatusLogger Thread Context Data Service Provider initialization complete\r\n    INFO StatusLogger Log4j appears to be running in a Servlet environment, but there&#39;s no log4j-web module available. If you want better web container support, please add the log4j-web JAR to your web archive or server lib directory.\r\n    DEBUG StatusLogger PluginManager &#39;ConfigurationFactory&#39; found 4 plugins\r\n    INFO StatusLogger Log4j appears to be running in a Servlet environment, but there&#39;s no log4j-web module available. If you want better web container support, please add the log4j-web JAR to your web archive or server lib directory.\r\n    INFO StatusLogger Log4j appears to be running in a Servlet environment, but there&#39;s no log4j-web module available. If you want better web container support, please add the log4j-web JAR to your web archive or server lib directory.\r\n    DEBUG StatusLogger Missing dependencies for Yaml support, ConfigurationFactory org.apache.logging.log4j.core.config.yaml.YamlConfigurationFactory is inactive\r\n    INFO StatusLogger Log4j appears to be running in a Servlet environment, but there&#39;s no log4j-web module available. If you want better web container support, please add the log4j-web JAR to your web archive or server lib directory.\r\n    DEBUG StatusLogger Missing dependencies for Json support, ConfigurationFactory org.apache.logging.log4j.core.config.json.JsonConfigurationFactory is inactive\r\n    INFO StatusLogger Log4j appears to be running in a Servlet environment, but there&#39;s no log4j-web module available. If you want better web container support, please add the log4j-web JAR to your web archive or server lib directory.\r\n    DEBUG StatusLogger Using configurationFactory org.apache.logging.log4j.core.config.ConfigurationFactory$Factory@3b084709\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.properties] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.properties] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.properties] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.properties] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.yml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.yml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.yml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.yml] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.yaml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.yaml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.yaml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.yaml] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.json] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.json] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.json] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.json] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.jsn] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.jsn] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.jsn] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.jsn] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.xml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.xml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.xml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test75b84c92.xml] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j2-test.properties] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2-test.properties] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test.properties] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test.properties] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j2-test.yml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2-test.yml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test.yml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test.yml] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j2-test.yaml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2-test.yaml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test.yaml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test.yaml] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j2-test.json] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2-test.json] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test.json] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test.json] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j2-test.jsn] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2-test.jsn] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test.jsn] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test.jsn] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j2-test.xml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2-test.xml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test.xml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2-test.xml] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.properties] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.properties] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.properties] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.properties] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.yml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.yml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.yml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.yml] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.yaml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.yaml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.yaml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.yaml] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.json] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.json] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.json] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.json] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.jsn] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.jsn] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.jsn] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.jsn] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.xml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.xml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.xml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j275b84c92.xml] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j2.properties] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2.properties] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2.properties] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2.properties] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j2.yml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2.yml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2.yml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2.yml] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j2.yaml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2.yaml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2.yaml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2.yaml] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j2.json] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2.json] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2.json] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2.json] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j2.jsn] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2.jsn] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2.jsn] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2.jsn] using ClassLoader.getSystemResource().\r\n    TRACE StatusLogger Trying to find [log4j2.xml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\r\n    TRACE StatusLogger Trying to find [log4j2.xml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2.xml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\r\n    TRACE StatusLogger Trying to find [log4j2.xml] using ClassLoader.getSystemResource().\r\n    WARN StatusLogger No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property &#39;log4j2.debug&#39; to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2\r\n    INFO StatusLogger Log4j appears to be running in a Servlet environment, but there&#39;s no log4j-web module available. If you want better web container support, please add the log4j-web JAR to your web archive or server lib directory.\r\n    DEBUG StatusLogger PluginManager &#39;Converter&#39; found 44 plugins\r\n    DEBUG StatusLogger Starting OutputStreamManager SYSTEM_OUT.false.false-2\r\n    DEBUG StatusLogger Apache Log4j Core 2.14.1 initializing configuration org.apache.logging.log4j.core.config.DefaultConfiguration@3224f60b\r\n    DEBUG StatusLogger Installed 1 script engine\r\n    DEBUG StatusLogger Oracle Nashorn version: 1.8.0_292, language: ECMAScript, threading: Not Thread Safe, compile: true, names: [nashorn, Nashorn, js, JS, JavaScript, javascript, ECMAScript, ecmascript], factory class: jdk.nashorn.api.scripting.NashornScriptEngineFactory\r\n    DEBUG StatusLogger PluginManager &#39;Core&#39; found 123 plugins\r\n    DEBUG StatusLogger PluginManager &#39;Level&#39; found 0 plugins\r\n    DEBUG StatusLogger Configuration org.apache.logging.log4j.core.config.DefaultConfiguration@3224f60b initialized\r\n    DEBUG StatusLogger Starting configuration org.apache.logging.log4j.core.config.DefaultConfiguration@3224f60b\r\n    DEBUG StatusLogger Started configuration org.apache.logging.log4j.core.config.DefaultConfiguration@3224f60b OK.\r\n    TRACE StatusLogger Stopping org.apache.logging.log4j.core.config.DefaultConfiguration@8807e25...\r\n    TRACE StatusLogger DefaultConfiguration notified 1 ReliabilityStrategies that config will be stopped.\r\n    TRACE StatusLogger DefaultConfiguration stopping root LoggerConfig.\r\n    TRACE StatusLogger DefaultConfiguration notifying ReliabilityStrategies that appenders will be stopped.\r\n    TRACE StatusLogger DefaultConfiguration stopping remaining Appenders.\r\n    DEBUG StatusLogger Shutting down OutputStreamManager SYSTEM_OUT.false.false-1\r\n    DEBUG StatusLogger OutputStream closed\r\n    DEBUG StatusLogger Shut down OutputStreamManager SYSTEM_OUT.false.false-1, all resources released: true\r\n    DEBUG StatusLogger Appender DefaultConsole-1 stopped with status true\r\n    TRACE StatusLogger DefaultConfiguration stopped 1 remaining Appenders.\r\n    TRACE StatusLogger DefaultConfiguration cleaning Appenders from 1 LoggerConfigs.\r\n    DEBUG StatusLogger Stopped org.apache.logging.log4j.core.config.DefaultConfiguration@8807e25 OK\r\n    TRACE StatusLogger Reregistering MBeans after reconfigure. Selector=org.apache.logging.log4j.core.selector.ClassLoaderContextSelector@79e2c065\r\n    TRACE StatusLogger Reregistering context (1/1): &#39;75b84c92&#39; org.apache.logging.log4j.core.LoggerContext@627551fb\r\n    TRACE StatusLogger Unregistering but no MBeans found matching &#39;org.apache.logging.log4j2:type=75b84c92&#39;\r\n    TRACE StatusLogger Unregistering but no MBeans found matching &#39;org.apache.logging.log4j2:type=75b84c92,component=StatusLogger&#39;\r\n    TRACE StatusLogger Unregistering but no MBeans found matching &#39;org.apache.logging.log4j2:type=75b84c92,component=ContextSelector&#39;\r\n    TRACE StatusLogger Unregistering but no MBeans found matching &#39;org.apache.logging.log4j2:type=75b84c92,component=Loggers,name=*&#39;\r\n    TRACE StatusLogger Unregistering but no MBeans found matching &#39;org.apache.logging.log4j2:type=75b84c92,component=Appenders,name=*&#39;\r\n    TRACE StatusLogger Unregistering but no MBeans found matching &#39;org.apache.logging.log4j2:type=75b84c92,component=AsyncAppenders,name=*&#39;\r\n    TRACE StatusLogger Unregistering but no MBeans found matching &#39;org.apache.logging.log4j2:type=75b84c92,component=AsyncLoggerRingBuffer&#39;\r\n    TRACE StatusLogger Unregistering but no MBeans found matching &#39;org.apache.logging.log4j2:type=75b84c92,component=Loggers,name=*,subtype=RingBuffer&#39;\r\n    DEBUG StatusLogger Registering MBean org.apache.logging.log4j2:type=75b84c92\r\n    DEBUG StatusLogger Registering MBean org.apache.logging.log4j2:type=75b84c92,component=StatusLogger\r\n    DEBUG StatusLogger Registering MBean org.apache.logging.log4j2:type=75b84c92,component=ContextSelector\r\n    DEBUG StatusLogger Registering MBean org.apache.logging.log4j2:type=75b84c92,component=Appenders,name=DefaultConsole-2\r\n    TRACE StatusLogger Using default SystemClock for timestamps.\r\n    DEBUG StatusLogger org.apache.logging.log4j.core.util.SystemClock does not support precise timestamps.\r\n    TRACE StatusLogger Using DummyNanoClock for nanosecond timestamps.\r\n    DEBUG StatusLogger Reconfiguration complete for context[name=75b84c92] at URI NULL_SOURCE (org.apache.logging.log4j.core.LoggerContext@627551fb) with optional ClassLoader: null\r\n    DEBUG StatusLogger Shutdown hook enabled. Registering a new one.\r\n    DEBUG StatusLogger LoggerContext[name=75b84c92, org.apache.logging.log4j.core.LoggerContext@627551fb]\r\n\r\n started OK.","title":"Log4j not logging to console","body":"<p>I'm trying to run a class file from command line which was compiled with log4j2 but it doesn't print anything on console. Any idea what's wrong?</p>\n<pre><code>java -Dlog4j2.debug=true -DDlog4j.configurationFile=file:log4j2.Properties demo.selenium.IBanTest\n</code></pre>\n<p>I'm expecting <code>logger.debug</code> messages to be displayed on the console.</p>\n<pre><code>public static void IBanUpdateTest(){\n        driver.get(&quot;http://google.com/demo-web-1.0-SNAPSHOT&quot;); //define the url\n        String pageTitle = driver.getTitle();       //get the title of the webpage\n        Assert.assertEquals(&quot;iBAN Register Form&quot;, pageTitle);    //verify the title of the webpage\n        logger.debug(&quot;The title of this page is: {}&quot;, pageTitle);\n        driver.findElement(By.id(&quot;0iban&quot;)).clear();//clear the input field before entering any value\n        driver.findElement(By.id(&quot;0iban&quot;)).sendKeys(&quot;5464564654&quot;);//enter the IBan Value\n        driver.findElement(By.id(&quot;0businessIdentifierCode&quot;)).clear();\n        driver.findElement(By.id(&quot;0businessIdentifierCode&quot;)).sendKeys(&quot;54645646548546465&quot;); //enter the BIC value\n        driver.findElement(By.id(&quot;0updateRow&quot;)).click();      //click Update button\n        logger.debug(&quot;Updated the row successfully&quot;);\n}\n</code></pre>\n<p><code>-Dlog4j2.debug=true output:</code></p>\n<pre><code>DEBUG StatusLogger Using ShutdownCallbackRegistry class org.apache.logging.log4j.core.util.DefaultShutdownCallbackRegistry\nDEBUG StatusLogger Unable to access Context Data Providers org.apache.logging.log4j.core.util.ContextDataProvider: Provider com.newrelic.logging.log4j2.NewRelicContextDataProvider could not be instantiated\nINFO StatusLogger Log4j appears to be running in a Servlet environment, but there's no log4j-web module available. If you want better web container support, please add the log4j-web JAR to your web archive or server lib directory.\nINFO StatusLogger Log4j appears to be running in a Servlet environment, but there's no log4j-web module available. If you want better web container support, please add the log4j-web JAR to your web archive or server lib directory.\nDEBUG StatusLogger Took 1.065501 seconds to load 217 plugins from sun.misc.Launcher$AppClassLoader@75b84c92\nDEBUG StatusLogger PluginManager 'Converter' found 44 plugins\nDEBUG StatusLogger Starting OutputStreamManager SYSTEM_OUT.false.false-1\nDEBUG StatusLogger Starting LoggerContext[name=75b84c92, org.apache.logging.log4j.core.LoggerContext@627551fb]...\nDEBUG StatusLogger Reconfiguration started for context[name=75b84c92] at URI null (org.apache.logging.log4j.core.LoggerContext@627551fb) with optional ClassLoader: null\nDEBUG StatusLogger Initializing Thread Context Data Service Providers\nDEBUG StatusLogger Thread Context Data Service Provider initialization complete\nINFO StatusLogger Log4j appears to be running in a Servlet environment, but there's no log4j-web module available. If you want better web container support, please add the log4j-web JAR to your web archive or server lib directory.\nDEBUG StatusLogger PluginManager 'ConfigurationFactory' found 4 plugins\nINFO StatusLogger Log4j appears to be running in a Servlet environment, but there's no log4j-web module available. If you want better web container support, please add the log4j-web JAR to your web archive or server lib directory.\nINFO StatusLogger Log4j appears to be running in a Servlet environment, but there's no log4j-web module available. If you want better web container support, please add the log4j-web JAR to your web archive or server lib directory.\nDEBUG StatusLogger Missing dependencies for Yaml support, ConfigurationFactory org.apache.logging.log4j.core.config.yaml.YamlConfigurationFactory is inactive\nINFO StatusLogger Log4j appears to be running in a Servlet environment, but there's no log4j-web module available. If you want better web container support, please add the log4j-web JAR to your web archive or server lib directory.\nDEBUG StatusLogger Missing dependencies for Json support, ConfigurationFactory org.apache.logging.log4j.core.config.json.JsonConfigurationFactory is inactive\nINFO StatusLogger Log4j appears to be running in a Servlet environment, but there's no log4j-web module available. If you want better web container support, please add the log4j-web JAR to your web archive or server lib directory.\nDEBUG StatusLogger Using configurationFactory org.apache.logging.log4j.core.config.ConfigurationFactory$Factory@3b084709\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.properties] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.properties] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.properties] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.properties] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.yml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.yml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.yml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.yml] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.yaml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.yaml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.yaml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.yaml] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.json] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.json] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.json] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.json] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.jsn] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.jsn] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.jsn] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.jsn] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.xml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.xml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.xml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test75b84c92.xml] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j2-test.properties] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2-test.properties] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test.properties] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test.properties] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j2-test.yml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2-test.yml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test.yml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test.yml] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j2-test.yaml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2-test.yaml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test.yaml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test.yaml] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j2-test.json] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2-test.json] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test.json] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test.json] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j2-test.jsn] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2-test.jsn] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test.jsn] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test.jsn] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j2-test.xml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2-test.xml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test.xml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2-test.xml] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j275b84c92.properties] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j275b84c92.properties] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j275b84c92.properties] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j275b84c92.properties] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j275b84c92.yml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j275b84c92.yml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j275b84c92.yml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j275b84c92.yml] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j275b84c92.yaml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j275b84c92.yaml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j275b84c92.yaml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j275b84c92.yaml] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j275b84c92.json] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j275b84c92.json] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j275b84c92.json] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j275b84c92.json] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j275b84c92.jsn] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j275b84c92.jsn] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j275b84c92.jsn] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j275b84c92.jsn] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j275b84c92.xml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j275b84c92.xml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j275b84c92.xml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j275b84c92.xml] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j2.properties] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2.properties] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2.properties] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2.properties] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j2.yml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2.yml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2.yml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2.yml] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j2.yaml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2.yaml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2.yaml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2.yaml] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j2.json] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2.json] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2.json] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2.json] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j2.jsn] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2.jsn] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2.jsn] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2.jsn] using ClassLoader.getSystemResource().\nTRACE StatusLogger Trying to find [log4j2.xml] using context class loader sun.misc.Launcher$AppClassLoader@75b84c92.\nTRACE StatusLogger Trying to find [log4j2.xml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2.xml] using sun.misc.Launcher$AppClassLoader@75b84c92 class loader.\nTRACE StatusLogger Trying to find [log4j2.xml] using ClassLoader.getSystemResource().\nWARN StatusLogger No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2\nINFO StatusLogger Log4j appears to be running in a Servlet environment, but there's no log4j-web module available. If you want better web container support, please add the log4j-web JAR to your web archive or server lib directory.\nDEBUG StatusLogger PluginManager 'Converter' found 44 plugins\nDEBUG StatusLogger Starting OutputStreamManager SYSTEM_OUT.false.false-2\nDEBUG StatusLogger Apache Log4j Core 2.14.1 initializing configuration org.apache.logging.log4j.core.config.DefaultConfiguration@3224f60b\nDEBUG StatusLogger Installed 1 script engine\nDEBUG StatusLogger Oracle Nashorn version: 1.8.0_292, language: ECMAScript, threading: Not Thread Safe, compile: true, names: [nashorn, Nashorn, js, JS, JavaScript, javascript, ECMAScript, ecmascript], factory class: jdk.nashorn.api.scripting.NashornScriptEngineFactory\nDEBUG StatusLogger PluginManager 'Core' found 123 plugins\nDEBUG StatusLogger PluginManager 'Level' found 0 plugins\nDEBUG StatusLogger Configuration org.apache.logging.log4j.core.config.DefaultConfiguration@3224f60b initialized\nDEBUG StatusLogger Starting configuration org.apache.logging.log4j.core.config.DefaultConfiguration@3224f60b\nDEBUG StatusLogger Started configuration org.apache.logging.log4j.core.config.DefaultConfiguration@3224f60b OK.\nTRACE StatusLogger Stopping org.apache.logging.log4j.core.config.DefaultConfiguration@8807e25...\nTRACE StatusLogger DefaultConfiguration notified 1 ReliabilityStrategies that config will be stopped.\nTRACE StatusLogger DefaultConfiguration stopping root LoggerConfig.\nTRACE StatusLogger DefaultConfiguration notifying ReliabilityStrategies that appenders will be stopped.\nTRACE StatusLogger DefaultConfiguration stopping remaining Appenders.\nDEBUG StatusLogger Shutting down OutputStreamManager SYSTEM_OUT.false.false-1\nDEBUG StatusLogger OutputStream closed\nDEBUG StatusLogger Shut down OutputStreamManager SYSTEM_OUT.false.false-1, all resources released: true\nDEBUG StatusLogger Appender DefaultConsole-1 stopped with status true\nTRACE StatusLogger DefaultConfiguration stopped 1 remaining Appenders.\nTRACE StatusLogger DefaultConfiguration cleaning Appenders from 1 LoggerConfigs.\nDEBUG StatusLogger Stopped org.apache.logging.log4j.core.config.DefaultConfiguration@8807e25 OK\nTRACE StatusLogger Reregistering MBeans after reconfigure. Selector=org.apache.logging.log4j.core.selector.ClassLoaderContextSelector@79e2c065\nTRACE StatusLogger Reregistering context (1/1): '75b84c92' org.apache.logging.log4j.core.LoggerContext@627551fb\nTRACE StatusLogger Unregistering but no MBeans found matching 'org.apache.logging.log4j2:type=75b84c92'\nTRACE StatusLogger Unregistering but no MBeans found matching 'org.apache.logging.log4j2:type=75b84c92,component=StatusLogger'\nTRACE StatusLogger Unregistering but no MBeans found matching 'org.apache.logging.log4j2:type=75b84c92,component=ContextSelector'\nTRACE StatusLogger Unregistering but no MBeans found matching 'org.apache.logging.log4j2:type=75b84c92,component=Loggers,name=*'\nTRACE StatusLogger Unregistering but no MBeans found matching 'org.apache.logging.log4j2:type=75b84c92,component=Appenders,name=*'\nTRACE StatusLogger Unregistering but no MBeans found matching 'org.apache.logging.log4j2:type=75b84c92,component=AsyncAppenders,name=*'\nTRACE StatusLogger Unregistering but no MBeans found matching 'org.apache.logging.log4j2:type=75b84c92,component=AsyncLoggerRingBuffer'\nTRACE StatusLogger Unregistering but no MBeans found matching 'org.apache.logging.log4j2:type=75b84c92,component=Loggers,name=*,subtype=RingBuffer'\nDEBUG StatusLogger Registering MBean org.apache.logging.log4j2:type=75b84c92\nDEBUG StatusLogger Registering MBean org.apache.logging.log4j2:type=75b84c92,component=StatusLogger\nDEBUG StatusLogger Registering MBean org.apache.logging.log4j2:type=75b84c92,component=ContextSelector\nDEBUG StatusLogger Registering MBean org.apache.logging.log4j2:type=75b84c92,component=Appenders,name=DefaultConsole-2\nTRACE StatusLogger Using default SystemClock for timestamps.\nDEBUG StatusLogger org.apache.logging.log4j.core.util.SystemClock does not support precise timestamps.\nTRACE StatusLogger Using DummyNanoClock for nanosecond timestamps.\nDEBUG StatusLogger Reconfiguration complete for context[name=75b84c92] at URI NULL_SOURCE (org.apache.logging.log4j.core.LoggerContext@627551fb) with optional ClassLoader: null\nDEBUG StatusLogger Shutdown hook enabled. Registering a new one.\nDEBUG StatusLogger LoggerContext[name=75b84c92, org.apache.logging.log4j.core.LoggerContext@627551fb]\n</code></pre>\n<p>started OK.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1633588917,"post_id":69476455,"comment_id":122800605,"body_markdown":"Android 11 puts limitations on grabbing files that are not owned by your app.","body":"Android 11 puts limitations on grabbing files that are not owned by your app."},{"owner":{"account_id":1077781,"reputation":963,"user_id":1075551,"accept_rate":29,"display_name":"DCuser"},"score":0,"creation_date":1633589774,"post_id":69476455,"comment_id":122800875,"body_markdown":"Is there any way to get around it?","body":"Is there any way to get around it?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633589881,"post_id":69476455,"comment_id":122800910,"body_markdown":"Yes with for instance  .MANAGE_EXTERNAL_STORAGE.","body":"Yes with for instance  .MANAGE_EXTERNAL_STORAGE."},{"owner":{"account_id":1077781,"reputation":963,"user_id":1075551,"accept_rate":29,"display_name":"DCuser"},"score":0,"creation_date":1633590028,"post_id":69476455,"comment_id":122800964,"body_markdown":"Can you explain a bit more what you mean by &quot; with for instance .MANAGE_EXTERNAL_STORAGE&quot;","body":"Can you explain a bit more what you mean by &quot; with for instance .MANAGE_EXTERNAL_STORAGE&quot;"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633590973,"post_id":69476455,"comment_id":122801276,"body_markdown":"That will give you all files access.","body":"That will give you all files access."}],"answers":[{"tags":[],"owner":{"account_id":1077781,"reputation":963,"user_id":1075551,"accept_rate":29,"display_name":"DCuser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633592719,"creation_date":1633592719,"answer_id":69477257,"question_id":69476455,"body_markdown":"I have implemented the answer from this post and now I can get access to all files.\r\n\r\nhttps://stackoverflow.com/questions/62782648/android-11-scoped-storage-permissions\r\n\r\nI understand that the answer provided here is most likely not accepted in the PlayStore but for me that is ok.\r\n\r\n","title":"List of files incomplete when using File.listfiles() on Android 11","body":"<p>I have implemented the answer from this post and now I can get access to all files.</p>\n<p><a href=\"https://stackoverflow.com/questions/62782648/android-11-scoped-storage-permissions\">Android 11 Scoped storage permissions</a></p>\n<p>I understand that the answer provided here is most likely not accepted in the PlayStore but for me that is ok.</p>\n"}],"owner":{"account_id":1077781,"reputation":963,"user_id":1075551,"accept_rate":29,"display_name":"DCuser"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633592719,"creation_date":1633588668,"question_id":69476455,"body_markdown":"I have an app running on Android 11 where I am trying to list the contents of the Download directory.\r\n\r\nAt first try I was getting just the folder names. Then I added \r\n\r\n    requestPermissions( EXTERNAL_PERMS, EXTERNAL_REQUEST);\r\n\r\nNow I am getting .mp3, and .jpg files listed but not other like .pdf\r\n\r\nAny idea how to fix this?\r\n\r\nI have been reading and trying all the permission requests.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nAnd the code for gettting the files:\r\n\r\n    requestPermissions(EXTERNAL_PERMS, EXTERNAL_REQUEST);\r\n    File path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\r\n    File files[] = path.listFiles();\r\n\r\nThank you","title":"List of files incomplete when using File.listfiles() on Android 11","body":"<p>I have an app running on Android 11 where I am trying to list the contents of the Download directory.</p>\n<p>At first try I was getting just the folder names. Then I added</p>\n<pre><code>requestPermissions( EXTERNAL_PERMS, EXTERNAL_REQUEST);\n</code></pre>\n<p>Now I am getting .mp3, and .jpg files listed but not other like .pdf</p>\n<p>Any idea how to fix this?</p>\n<p>I have been reading and trying all the permission requests.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>And the code for gettting the files:</p>\n<pre><code>requestPermissions(EXTERNAL_PERMS, EXTERNAL_REQUEST);\nFile path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\nFile files[] = path.listFiles();\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1599107,"reputation":174,"user_id":1480538,"display_name":"avd"},"score":0,"creation_date":1633575229,"post_id":69474842,"comment_id":122797856,"body_markdown":"It will be good to have more context as it seems to be a design problem. You should avoid loading the same type in another class loader.","body":"It will be good to have more context as it seems to be a design problem. You should avoid loading the same type in another class loader."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633575643,"post_id":69474842,"comment_id":122797918,"body_markdown":"Instead of citing `Foo.class` literally, load the class from your classloader.","body":"Instead of citing <code>Foo.class</code> literally, load the class from your classloader."},{"owner":{"account_id":22667903,"reputation":19,"user_id":16839990,"display_name":"kmxnqa17806"},"score":0,"creation_date":1633585551,"post_id":69474842,"comment_id":122799671,"body_markdown":"@user207421 `customFooClass` is loaded by my class loader in `getMethod(&quot;from&quot;, customFooClass)`","body":"@user207421 <code>customFooClass</code> is loaded by my class loader in <code>getMethod(&quot;from&quot;, customFooClass)</code>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633589817,"post_id":69474842,"comment_id":122800887,"body_markdown":"But you have `Foo.class` where you fetch the method at `Main.class.getMethod(&quot;from&quot;, Foo.class)`.","body":"But you have <code>Foo.class</code> where you fetch the method at <code>Main.class.getMethod(&quot;from&quot;, Foo.class)</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1633608961,"post_id":69474842,"comment_id":122808511,"body_markdown":"You may find [the documentation of ObjectInputStream.resolveClass](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ObjectInputStream.html#resolveClass(java.io.ObjectStreamClass)) informative.","body":"You may find <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ObjectInputStream.html#resolveClass(java.io.ObjectStreamClass)\" rel=\"nofollow noreferrer\">the documentation of ObjectInputStream.resolveClass</a> informative."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633647398,"post_id":69474842,"comment_id":122822743,"body_markdown":"@VGR How would that inform a question  that isn&#39;t about `ObjectInputStream`?","body":"@VGR How would that inform a question  that isn&#39;t about <code>ObjectInputStream</code>?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1633697100,"post_id":69474842,"comment_id":122835428,"body_markdown":"@user207421 It&#39;s about which class is loaded when deserializing from an ObjectInputStream, is it not?","body":"@user207421 It&#39;s about which class is loaded when deserializing from an ObjectInputStream, is it not?"}],"owner":{"account_id":22667903,"reputation":19,"user_id":16839990,"display_name":"kmxnqa17806"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633592302,"creation_date":1633574625,"question_id":69474842,"body_markdown":"Two Classes with the same name but loaded by different class loaders will be considered different. Then a method uses such a type of parameter, can only the instance loaded by the class loader A be used by this method, but the instance loaded by the class loader B can&#39;t?\r\n\r\nThe following is my simple attempt\r\n\r\n```java\r\n// src/main/java/com/example/Main.java\r\n// src/main/java/com/example/classloader/Foo.java\r\n\r\npublic class Main {\r\n  public static void main(final String[] args)\r\n      throws ClassNotFoundException, InstantiationException, IllegalAccessException, IOException,\r\n          NoSuchMethodException, InvocationTargetException {\r\n    final String path = Main.class.getClassLoader().getResource(&quot;&quot;).getPath();\r\n    final CustomerClassLoader customerClassLoader = new CustomerClassLoader(path);\r\n\r\n    final Class&lt;?&gt; customFooClass = customerClassLoader.loadClass(&quot;com.example.classloader.Foo&quot;);\r\n    final Object foo1 = customFooClass.newInstance();\r\n\r\n    try (final ByteArrayOutputStream memory = new ByteArrayOutputStream()) {\r\n      try (final ObjectOutputStream de = new ObjectOutputStream(memory)) {\r\n        de.writeObject(foo1);\r\n      }\r\n      try (final ByteArrayInputStream in = new ByteArrayInputStream(memory.toByteArray())) {\r\n        try (final ObjectInputStream se = new ObjectInputStream(in)) {\r\n          final Foo foo2 = ((Foo) se.readObject());\r\n          Main.class.getMethod(&quot;from&quot;, Foo.class).invoke(new Main(), foo2);\r\n\r\n          final Class&lt;?&gt; customMainClass = customerClassLoader.loadClass(&quot;com.example.Main&quot;);\r\n          customMainClass\r\n              .getMethod(&quot;from&quot;, customFooClass)\r\n              .invoke(customMainClass.newInstance(), foo1);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public void from(final Foo foo) {\r\n    System.out.println(foo.getClass().getClassLoader());\r\n  }\r\n}\r\n\r\n\r\n/**\r\npackage com.example.classloader;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class CustomerClassLoader extends ClassLoader {\r\n\r\n  private final String rootDirPath;\r\n\r\n  public CustomerClassLoader(String rootDirPath) {\r\n    this.rootDirPath = rootDirPath;\r\n  }\r\n\r\n  @Override\r\n  public Class&lt;?&gt; loadClass(String name) throws ClassNotFoundException {\r\n    if (name.toLowerCase().contains(&quot;foo&quot;)) {\r\n      return this.findClass(name);\r\n    }\r\n    return super.loadClass(name);\r\n  }\r\n\r\n  @Override\r\n  protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\r\n    File javaFile = new File(rootDirPath + name.replace(&#39;.&#39;, File.separatorChar) + &quot;.class&quot;);\r\n    if (javaFile != null &amp;&amp; javaFile.exists()) {\r\n      System.out.println(javaFile);\r\n      try {\r\n        byte[] javaClassBytes = FileUtils.readFileToByteArray(javaFile);\r\n        return defineClass(name, javaClassBytes, 0, javaClassBytes.length);\r\n      } catch (IOException e) {\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n    throw new ClassNotFoundException(javaFile.getPath());\r\n  }\r\n}\r\n**/\r\n```\r\n\r\nthere will be an error on `.getMethod(&quot;from&quot;, customFooClass)`\r\n```\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodException: com.example.Main.from(com.example.classloader.Foo)\r\n```\r\n\r\nWhat should I do to make `Main#from(Foo)` receive the Foo instance generated by `CustomerClassLoader`?\r\n\r\nThanks a lot.\r\n\r\n---------\r\n\r\nThanks to @user207421, after correcting `nameToLowerCase.contains(&quot;foo&quot;)` to `nameToLowerCase.contains(&quot;foo&quot;) || nameToLowerCase.contains(&quot;main&quot;)`,\r\n\r\n```\r\n          customMainClass\r\n              .getMethod(&quot;from&quot;, customFooClass)\r\n              .invoke(customMainClass.newInstance(), foo1);\r\n```\r\nworks well.\r\n\r\nSo I guess that the parameter type&#39;s classloader must be the same as its class&#39;s class loader.","title":"Does a type of a parameter of a method contain the information of its class loader?","body":"<p>Two Classes with the same name but loaded by different class loaders will be considered different. Then a method uses such a type of parameter, can only the instance loaded by the class loader A be used by this method, but the instance loaded by the class loader B can't?</p>\n<p>The following is my simple attempt</p>\n<pre class=\"lang-java prettyprint-override\"><code>// src/main/java/com/example/Main.java\n// src/main/java/com/example/classloader/Foo.java\n\npublic class Main {\n  public static void main(final String[] args)\n      throws ClassNotFoundException, InstantiationException, IllegalAccessException, IOException,\n          NoSuchMethodException, InvocationTargetException {\n    final String path = Main.class.getClassLoader().getResource(&quot;&quot;).getPath();\n    final CustomerClassLoader customerClassLoader = new CustomerClassLoader(path);\n\n    final Class&lt;?&gt; customFooClass = customerClassLoader.loadClass(&quot;com.example.classloader.Foo&quot;);\n    final Object foo1 = customFooClass.newInstance();\n\n    try (final ByteArrayOutputStream memory = new ByteArrayOutputStream()) {\n      try (final ObjectOutputStream de = new ObjectOutputStream(memory)) {\n        de.writeObject(foo1);\n      }\n      try (final ByteArrayInputStream in = new ByteArrayInputStream(memory.toByteArray())) {\n        try (final ObjectInputStream se = new ObjectInputStream(in)) {\n          final Foo foo2 = ((Foo) se.readObject());\n          Main.class.getMethod(&quot;from&quot;, Foo.class).invoke(new Main(), foo2);\n\n          final Class&lt;?&gt; customMainClass = customerClassLoader.loadClass(&quot;com.example.Main&quot;);\n          customMainClass\n              .getMethod(&quot;from&quot;, customFooClass)\n              .invoke(customMainClass.newInstance(), foo1);\n        }\n      }\n    }\n  }\n\n  public void from(final Foo foo) {\n    System.out.println(foo.getClass().getClassLoader());\n  }\n}\n\n\n/**\npackage com.example.classloader;\n\nimport org.apache.commons.io.FileUtils;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class CustomerClassLoader extends ClassLoader {\n\n  private final String rootDirPath;\n\n  public CustomerClassLoader(String rootDirPath) {\n    this.rootDirPath = rootDirPath;\n  }\n\n  @Override\n  public Class&lt;?&gt; loadClass(String name) throws ClassNotFoundException {\n    if (name.toLowerCase().contains(&quot;foo&quot;)) {\n      return this.findClass(name);\n    }\n    return super.loadClass(name);\n  }\n\n  @Override\n  protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\n    File javaFile = new File(rootDirPath + name.replace('.', File.separatorChar) + &quot;.class&quot;);\n    if (javaFile != null &amp;&amp; javaFile.exists()) {\n      System.out.println(javaFile);\n      try {\n        byte[] javaClassBytes = FileUtils.readFileToByteArray(javaFile);\n        return defineClass(name, javaClassBytes, 0, javaClassBytes.length);\n      } catch (IOException e) {\n        e.printStackTrace();\n      }\n    }\n    throw new ClassNotFoundException(javaFile.getPath());\n  }\n}\n**/\n</code></pre>\n<p>there will be an error on <code>.getMethod(&quot;from&quot;, customFooClass)</code></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodException: com.example.Main.from(com.example.classloader.Foo)\n</code></pre>\n<p>What should I do to make <code>Main#from(Foo)</code> receive the Foo instance generated by <code>CustomerClassLoader</code>?</p>\n<p>Thanks a lot.</p>\n<hr />\n<p>Thanks to @user207421, after correcting <code>nameToLowerCase.contains(&quot;foo&quot;)</code> to <code>nameToLowerCase.contains(&quot;foo&quot;) || nameToLowerCase.contains(&quot;main&quot;)</code>,</p>\n<pre><code>          customMainClass\n              .getMethod(&quot;from&quot;, customFooClass)\n              .invoke(customMainClass.newInstance(), foo1);\n</code></pre>\n<p>works well.</p>\n<p>So I guess that the parameter type's classloader must be the same as its class's class loader.</p>\n"},{"tags":["java","android","google-maps","android-intent","android-studio"],"comments":[{"owner":{"account_id":1833849,"reputation":4911,"user_id":1664604,"accept_rate":67,"display_name":"Nithinlal"},"score":0,"creation_date":1441883351,"post_id":32500069,"comment_id":52859742,"body_markdown":"change this line  android:name=&quot;com.rioma.mapaclientescercanos.ActivityMaps&quot; to  android:name=&quot;.ActivityMaps&quot;","body":"change this line  android:name=&quot;com.rioma.mapaclientescercanos.ActivityMaps&quot; to  android:name=&quot;.ActivityMaps&quot;"},{"owner":{"account_id":1833849,"reputation":4911,"user_id":1664604,"accept_rate":67,"display_name":"Nithinlal"},"score":0,"creation_date":1441883483,"post_id":32500069,"comment_id":52859825,"body_markdown":"Aslo the manifest file package name is \n    package=&quot;com.rioma.mapaclientescercanos&quot; &gt;","body":"Aslo the manifest file package name is      package=&quot;com.rioma.mapaclientescercanos&quot; &gt;"},{"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"score":0,"creation_date":1441885749,"post_id":32500069,"comment_id":52861476,"body_markdown":"*I need this application not to appear in the Application Drawer* what is the application drawer?","body":"<i>I need this application not to appear in the Application Drawer</i> what is the application drawer?"},{"owner":{"account_id":5999291,"reputation":31,"user_id":4713092,"display_name":"ri0s425"},"score":0,"creation_date":1441890562,"post_id":32500069,"comment_id":52864811,"body_markdown":"@TimCastelijns the Application Drawer is the menu where all the apps installed are displayed","body":"@TimCastelijns the Application Drawer is the menu where all the apps installed are displayed"},{"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"score":0,"creation_date":1441890606,"post_id":32500069,"comment_id":52864854,"body_markdown":"How would you open the app if it&#39;s not in the menu?","body":"How would you open the app if it&#39;s not in the menu?"},{"owner":{"account_id":5999291,"reputation":31,"user_id":4713092,"display_name":"ri0s425"},"score":0,"creation_date":1441890806,"post_id":32500069,"comment_id":52864998,"body_markdown":"@TimCastelijns my aim is to open it from another app, via Intent, so there would be no problem in hiding it","body":"@TimCastelijns my aim is to open it from another app, via Intent, so there would be no problem in hiding it"},{"owner":{"account_id":11981388,"reputation":1006,"user_id":8767186,"display_name":"Shahab Rahnama"},"score":1,"creation_date":1544737010,"post_id":32500069,"comment_id":94392698,"body_markdown":"I had this problem too and I solved this by used [this solution](https://stackoverflow.com/a/36372901/8767186)","body":"I had this problem too and I solved this by used <a href=\"https://stackoverflow.com/a/36372901/8767186\">this solution</a>"},{"owner":{"account_id":11981388,"reputation":1006,"user_id":8767186,"display_name":"Shahab Rahnama"},"score":0,"creation_date":1544737610,"post_id":32500069,"comment_id":94392967,"body_markdown":"I had this problem too and I solved this by used [this solution](https://stackoverflow.com/a/36372901/8767186)","body":"I had this problem too and I solved this by used <a href=\"https://stackoverflow.com/a/36372901/8767186\">this solution</a>"}],"answers":[{"tags":[],"owner":{"account_id":5804898,"reputation":6563,"user_id":4577854,"display_name":"xiaomi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441896073,"creation_date":1441883159,"answer_id":32500174,"question_id":32500069,"body_markdown":"Into your gradle file, you have to keep the same SDK level, build tool and support/appcompat library to avoid strange behavior. As you are using the Build tool 22, try to change `compileSdkVersion` 21 to 22 and also the support-v4.\r\n\r\n**note**\r\nAppcompat-v7 include support-v4, so you don&#39;t need to add it.","title":"Android Activity class does not exist","body":"<p>Into your gradle file, you have to keep the same SDK level, build tool and support/appcompat library to avoid strange behavior. As you are using the Build tool 22, try to change <code>compileSdkVersion</code> 21 to 22 and also the support-v4.</p>\n\n<p><strong>note</strong>\nAppcompat-v7 include support-v4, so you don't need to add it.</p>\n"},{"tags":[],"owner":{"account_id":1833849,"reputation":4911,"user_id":1664604,"accept_rate":67,"display_name":"Nithinlal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441883531,"creation_date":1441883531,"answer_id":32500317,"question_id":32500069,"body_markdown":"\t\r\nAndroidManifest.xml file change this line `android:name=&quot;com.rioma.mapaclientescercanos.ActivityMaps&quot;` to `android:name=&quot;.ActivityMaps&quot;`","title":"Android Activity class does not exist","body":"<p>AndroidManifest.xml file change this line <code>android:name=\"com.rioma.mapaclientescercanos.ActivityMaps\"</code> to <code>android:name=\".ActivityMaps\"</code></p>\n"},{"tags":[],"owner":{"account_id":5999291,"reputation":31,"user_id":4713092,"display_name":"ri0s425"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441964474,"creation_date":1441964474,"answer_id":32520359,"question_id":32500069,"body_markdown":"Finally I got a way to hide the app icon without it throwing any error.\r\nIn my manifest I just simply removed the category line of my main activity:\r\n\r\n    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n\r\nLike this:\r\n\r\n    &lt;activity\r\n            android:name=&quot;.ActivityMaps&quot;\r\n            android:label=&quot;@string/app_name&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\nThis way, I can launch this app via intent from another one, adding these lines of code:\r\n\r\n    ComponentName lComponentName= new ComponentName(&quot;com.rioma.mapaclientescercanos&quot;, &quot;com.rioma.mapaclientescercanos.ActivityMaps&quot;);\r\n                        Intent launchIntent = new Intent(Intent.ACTION_MAIN);\r\n                        launchIntent.setComponent(lComponentName);\r\n                        launchIntent.addCategory(Intent.CATEGORY_LAUNCHER);\r\n\r\nWorks perfectly like this. \r\nThanks anyway for the replies.\r\n","title":"Android Activity class does not exist","body":"<p>Finally I got a way to hide the app icon without it throwing any error.\nIn my manifest I just simply removed the category line of my main activity:</p>\n\n<pre><code>&lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n</code></pre>\n\n<p>Like this:</p>\n\n<pre><code>&lt;activity\n        android:name=\".ActivityMaps\"\n        android:label=\"@string/app_name\" &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<p>This way, I can launch this app via intent from another one, adding these lines of code:</p>\n\n<pre><code>ComponentName lComponentName= new ComponentName(\"com.rioma.mapaclientescercanos\", \"com.rioma.mapaclientescercanos.ActivityMaps\");\n                    Intent launchIntent = new Intent(Intent.ACTION_MAIN);\n                    launchIntent.setComponent(lComponentName);\n                    launchIntent.addCategory(Intent.CATEGORY_LAUNCHER);\n</code></pre>\n\n<p>Works perfectly like this. \nThanks anyway for the replies.</p>\n"}],"owner":{"account_id":5999291,"reputation":31,"user_id":4713092,"display_name":"ri0s425"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2240,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1633591898,"creation_date":1441882860,"question_id":32500069,"body_markdown":"I&#39;m getting an error with Android Studio that&#39;s getting me really mad. I have an application with a Google Map that displays markers. It all was working well, but then I added a Custom Marker View so that the info displays in a better way, it started to give me this error when I reinstalled the app on my device:\r\n\r\n`Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] cmp=com.rioma.mapaclientescercanos/.ActivityMaps }\r\nError type 3\r\nError: Activity class {com.rioma.mapaclientescercanos/com.rioma.mapaclientescercanos.ActivityMaps} does not exist.`\r\n\r\nThe thing is that the app is installed correctly, but it seems it does not find the main activity to run it. I also have another app from which I&#39;m trying to launch this one via Intent and was working before, but now it isn&#39;t.\r\nI have checked everything that has to do with packages names, application id, tried renaming the package, copying the project to another new one, but it just won&#39;t work at all. The first time I install the app it launches correctly, but the second time I do it the error comes up. Even trying to launch it from the other app the first time it won&#39;t work. Removing the Custom Marker View doesn&#39;t help.\r\nI have tried some solutions posted here, like [this one][1], and [this other][2], but none work. Also tried changing compileSdk, targetSdk and buildTools version without result.\r\n\r\nPosting my manifest and gradle.build:\r\n\r\n**AndroidManifest.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.rioma.mapaclientescercanos&quot; &gt;\r\n\r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@style/AppTheme&quot; &gt;\r\n        &lt;activity\r\n            android:name=&quot;com.rioma.mapaclientescercanos.ActivityMaps&quot;\r\n            android:label=&quot;asd&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        \r\n\r\n    &lt;/application&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.providers.gsf.permission.READ_GSERVICES&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-feature android:glEsVersion=&quot;0x00020000&quot;\r\n        android:required=&quot;true&quot;/&gt;\r\n&lt;/manifest&gt;\r\n\r\n**Gradle.build:**\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n        compileSdkVersion 21\r\n        buildToolsVersion &quot;22.0.1&quot;\r\n        defaultConfig {\r\n            applicationId &#39;com.rioma.mapaclientescercanos&#39;\r\n            minSdkVersion 15\r\n            targetSdkVersion 22\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        productFlavors {\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        compile &#39;com.android.support:appcompat-v7:22.0.0&#39;\r\n        compile &#39;com.android.support:support-v4:23.0.0&#39;\r\n        compile &#39;com.google.android.gms:play-services:7.8.0&#39;\r\n        compile &#39;com.google.maps:google-maps-services:0.1.7&#39;\r\n        compile files(&#39;libs/jtds-1.2.8.jar&#39;)\r\n    }\r\n\r\nHope you can help me, as I need this for work.\r\n\r\n**EDIT:**\r\n\r\nOkey, I have found that the problem has something to do with this code: \r\n\r\n    PackageManager p = getPackageManager();\r\n        ComponentName componentName = new ComponentName(this, ActivityMaps.class);\r\n        p.setComponentEnabledSetting(componentName, PackageManager.COMPONENT_ENABLED_STATE_DISABLED, PackageManager.DONT_KILL_APP );\r\n\r\nI need this application not to appear in the Application Drawer, so i added this code. When I reinstall without this code, it works well, but in the moment I add it the error comes out. I&#39;ll be checking if there&#39;s another method of hiding the app icon in the drawer. It might has something to do with this specific code, could hide package name or something.\r\n\r\n  [1]: https://stackoverflow.com/questions/20915266/error-type-3-error-activity-class-does-not-exist\r\n  [2]: https://stackoverflow.com/questions/8180185/package-rename-and-error-activity-class-does-not-exist","title":"Android Activity class does not exist","body":"<p>I'm getting an error with Android Studio that's getting me really mad. I have an application with a Google Map that displays markers. It all was working well, but then I added a Custom Marker View so that the info displays in a better way, it started to give me this error when I reinstalled the app on my device:</p>\n<p><code>Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] cmp=com.rioma.mapaclientescercanos/.ActivityMaps } Error type 3 Error: Activity class {com.rioma.mapaclientescercanos/com.rioma.mapaclientescercanos.ActivityMaps} does not exist.</code></p>\n<p>The thing is that the app is installed correctly, but it seems it does not find the main activity to run it. I also have another app from which I'm trying to launch this one via Intent and was working before, but now it isn't.\nI have checked everything that has to do with packages names, application id, tried renaming the package, copying the project to another new one, but it just won't work at all. The first time I install the app it launches correctly, but the second time I do it the error comes up. Even trying to launch it from the other app the first time it won't work. Removing the Custom Marker View doesn't help.\nI have tried some solutions posted here, like <a href=\"https://stackoverflow.com/questions/20915266/error-type-3-error-activity-class-does-not-exist\">this one</a>, and <a href=\"https://stackoverflow.com/questions/8180185/package-rename-and-error-activity-class-does-not-exist\">this other</a>, but none work. Also tried changing compileSdk, targetSdk and buildTools version without result.</p>\n<p>Posting my manifest and gradle.build:</p>\n<p><strong>AndroidManifest.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n</code></pre>\n<p></p>\n<pre><code>&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:theme=&quot;@style/AppTheme&quot; &gt;\n    &lt;activity\n        android:name=&quot;com.rioma.mapaclientescercanos.ActivityMaps&quot;\n        android:label=&quot;asd&quot; &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    \n\n&lt;/application&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;com.google.android.providers.gsf.permission.READ_GSERVICES&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n&lt;uses-feature android:glEsVersion=&quot;0x00020000&quot;\n    android:required=&quot;true&quot;/&gt;\n</code></pre>\n\n<p><strong>Gradle.build:</strong></p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 21\n    buildToolsVersion &quot;22.0.1&quot;\n    defaultConfig {\n        applicationId 'com.rioma.mapaclientescercanos'\n        minSdkVersion 15\n        targetSdkVersion 22\n        versionCode 1\n        versionName &quot;1.0&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    productFlavors {\n    }\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    compile 'com.android.support:appcompat-v7:22.0.0'\n    compile 'com.android.support:support-v4:23.0.0'\n    compile 'com.google.android.gms:play-services:7.8.0'\n    compile 'com.google.maps:google-maps-services:0.1.7'\n    compile files('libs/jtds-1.2.8.jar')\n}\n</code></pre>\n<p>Hope you can help me, as I need this for work.</p>\n<p><strong>EDIT:</strong></p>\n<p>Okey, I have found that the problem has something to do with this code:</p>\n<pre><code>PackageManager p = getPackageManager();\n    ComponentName componentName = new ComponentName(this, ActivityMaps.class);\n    p.setComponentEnabledSetting(componentName, PackageManager.COMPONENT_ENABLED_STATE_DISABLED, PackageManager.DONT_KILL_APP );\n</code></pre>\n<p>I need this application not to appear in the Application Drawer, so i added this code. When I reinstall without this code, it works well, but in the moment I add it the error comes out. I'll be checking if there's another method of hiding the app icon in the drawer. It might has something to do with this specific code, could hide package name or something.</p>\n"},{"tags":["java","sql","sql-server","flyway"],"comments":[{"owner":{"account_id":401412,"reputation":548,"user_id":767949,"accept_rate":20,"display_name":"null"},"score":0,"creation_date":1633592516,"post_id":69477074,"comment_id":122801827,"body_markdown":"I believe flyway should work as long as the datasource is valid and connected.","body":"I believe flyway should work as long as the datasource is valid and connected."},{"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"score":0,"creation_date":1633595980,"post_id":69477074,"comment_id":122803267,"body_markdown":"But the data source needs kerberos auth in SQL Server so how to enable that when setting up Data source for flyway","body":"But the data source needs kerberos auth in SQL Server so how to enable that when setting up Data source for flyway"}],"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633591807,"creation_date":1633591807,"question_id":69477074,"body_markdown":"I have a use case where need to integrate Flyway within application and execute the DDL scripts during application start up which is a normal flyway work of executing the scripts on basis of seeing diff in **schema_version** table. \r\n**The DB used is MSSQL server**\r\n\r\nThe problem here is when defining the FluentConfiguration and using it in creating Flyway Bean\r\n\r\n```\r\n@Bean\r\n    public FluentConfiguration flywayBaseConfiguration() {\r\n        FluentConfiguration configuration = new FluentConfiguration();\r\n        configuration.baselineOnMigrate(true);\r\n        configuration.locations(&quot;classpath:com/schemafiles/db_release/DBSQLSERVER&quot;);\r\n        configuration.table(&quot;schema_version&quot;);\r\n        configuration.sqlMigrationPrefix(&quot;&quot;);\r\n        configuration.sqlMigrationSeparator(&quot;UTC-&quot;);\r\n        configuration.dataSource(String.format(&quot;jdbc:jtds:sqlserver:/DBDEVSERVER/TestDB&quot;, confManager.getOrThrow(DB_URL))\r\n                , confManager.getOrThrow(&quot;db.username&quot;));\r\n        return configuration;\r\n    }\r\n\r\n    @Bean\r\n    public Flyway flyway(FluentConfiguration fluentConfiguration) {\r\n        Flyway flyway = new Flyway(fluentConfiguration);\r\n        flyway.migrate();\r\n        return flyway;\r\n    }\r\n```\r\n\r\nThis fluent config defined above will be used for connecting flyway to DB.\r\n\r\nNow if i see the data source connection for the application connecting to prod DB its as follows\r\n\r\n```\r\n&lt;bean id=&quot;prodDataSource&quot;\r\n          class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        &lt;property name=&quot;connectionProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;appName&quot;&gt;${app.name}&lt;/prop&gt;\r\n                &lt;prop key=&quot;useKerberos&quot;&gt;true&lt;/prop&gt;\r\n                &lt;prop key=&quot;loginTimeout&quot;&gt;${db.login.timeout}&lt;/prop&gt;\r\n                &lt;prop key=&quot;socketTimeout&quot;&gt;${db.socket.timeout}&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;net.sourceforge.jtds.jdbc.Driver&quot;/&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:jtds:sqlserver://DBDEVSERVER/TestDB&quot;/&gt;\r\n    &lt;/bean&gt;\r\n```\r\n\r\nThis is using **Kerberos auth in connecting to DB** . We are only providing the user name and rest everything is governed by kerberos security realm.\r\n\r\n***The question is does Flyway Fluent Configuration support something related to Kerberos auth in order to be able to execute the DDL scripts without providing the password ??..***","title":"Flyway executing SQL DDL scripts using Kerberos auth","body":"<p>I have a use case where need to integrate Flyway within application and execute the DDL scripts during application start up which is a normal flyway work of executing the scripts on basis of seeing diff in <strong>schema_version</strong> table.\n<strong>The DB used is MSSQL server</strong></p>\n<p>The problem here is when defining the FluentConfiguration and using it in creating Flyway Bean</p>\n<pre><code>@Bean\n    public FluentConfiguration flywayBaseConfiguration() {\n        FluentConfiguration configuration = new FluentConfiguration();\n        configuration.baselineOnMigrate(true);\n        configuration.locations(&quot;classpath:com/schemafiles/db_release/DBSQLSERVER&quot;);\n        configuration.table(&quot;schema_version&quot;);\n        configuration.sqlMigrationPrefix(&quot;&quot;);\n        configuration.sqlMigrationSeparator(&quot;UTC-&quot;);\n        configuration.dataSource(String.format(&quot;jdbc:jtds:sqlserver:/DBDEVSERVER/TestDB&quot;, confManager.getOrThrow(DB_URL))\n                , confManager.getOrThrow(&quot;db.username&quot;));\n        return configuration;\n    }\n\n    @Bean\n    public Flyway flyway(FluentConfiguration fluentConfiguration) {\n        Flyway flyway = new Flyway(fluentConfiguration);\n        flyway.migrate();\n        return flyway;\n    }\n</code></pre>\n<p>This fluent config defined above will be used for connecting flyway to DB.</p>\n<p>Now if i see the data source connection for the application connecting to prod DB its as follows</p>\n<pre><code>&lt;bean id=&quot;prodDataSource&quot;\n          class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n        &lt;property name=&quot;connectionProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;appName&quot;&gt;${app.name}&lt;/prop&gt;\n                &lt;prop key=&quot;useKerberos&quot;&gt;true&lt;/prop&gt;\n                &lt;prop key=&quot;loginTimeout&quot;&gt;${db.login.timeout}&lt;/prop&gt;\n                &lt;prop key=&quot;socketTimeout&quot;&gt;${db.socket.timeout}&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;net.sourceforge.jtds.jdbc.Driver&quot;/&gt;\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:jtds:sqlserver://DBDEVSERVER/TestDB&quot;/&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>This is using <strong>Kerberos auth in connecting to DB</strong> . We are only providing the user name and rest everything is governed by kerberos security realm.</p>\n<p><em><strong>The question is does Flyway Fluent Configuration support something related to Kerberos auth in order to be able to execute the DDL scripts without providing the password ??..</strong></em></p>\n"},{"tags":["java","spring","spring-batch","spring-cloud-dataflow"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633591280,"creation_date":1633591280,"answer_id":69476962,"question_id":69464428,"body_markdown":"The code you shared is incorrect. You are creating a bean named `run` of type `JobExecution`. This means the batch job will be executed when Spring configures the application context. That&#39;s not the right time to start a batch job. A bean definition method should contain the bean definition, for example a job definition, but not execute it.\r\n\r\nDatabase configuration should be independent from the job itself. If you have a bean of type `DataSource` that cannot be created due to incorrect properties, then the Spring application context will fail at that point before even loading/running the job.\r\n\r\n","title":"Spring Cloud Data Flow handling datasource errors","body":"<p>The code you shared is incorrect. You are creating a bean named <code>run</code> of type <code>JobExecution</code>. This means the batch job will be executed when Spring configures the application context. That's not the right time to start a batch job. A bean definition method should contain the bean definition, for example a job definition, but not execute it.</p>\n<p>Database configuration should be independent from the job itself. If you have a bean of type <code>DataSource</code> that cannot be created due to incorrect properties, then the Spring application context will fail at that point before even loading/running the job.</p>\n"}],"owner":{"account_id":11016286,"reputation":1993,"user_id":8092044,"accept_rate":80,"display_name":"Tomas Lukac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633591280,"creation_date":1633517836,"question_id":69464428,"body_markdown":"I have a SpringBatch job implemented and trying to run it on Spring Cloud Data Flow.\r\n\r\n\r\nWhen the properties are set properly, job runs smoothly.\r\n\r\nBut when the datasource properties are incorrect, the job will fail, but **without EXIT STATUS**. I am guessing it is because the job launcher has not yet started.\r\n\r\nHow should I properly handle this job and return a FAILED status to SCDF so that the flow continues ?\r\n\r\nI am running a job with a jobLauncher in a custom Bean\r\n```java\r\n@Value(&quot;${jobName}&quot;)\r\nString jobName;\r\n\r\n@Bean\r\npublic JobExecution run(JobLauncher jobLauncher) {\r\n  JobExecution jobExecution = null;\r\n  Job job;\r\n  try {\r\n    JobParameters jobParameters = new JobParametersBuilder().addLong(&quot;time&quot;, System.currentTimeMillis()).toJobParameters();\r\n    job = BeanFactoryAnnotationUtils.qualifiedBeanOfType(ctx.getAutowireCapableBeanFactory(), Job.class, jobName);\r\n    jobExecution = jobLauncher.run(job, jobParameters);\r\n    log.info(&quot;Exit Status : &quot; + jobExecution.getStatus());\r\n  } catch (Exception e) {\r\n    e.printStackTrace();\r\n  }\r\n    return jobExecution;\r\n}\r\n```\r\n\r\nIt doesn&#39;t even get executed, because JPA datasource fails before it even has the chance. \r\n\r\nHow to properly handle this ?","title":"Spring Cloud Data Flow handling datasource errors","body":"<p>I have a SpringBatch job implemented and trying to run it on Spring Cloud Data Flow.</p>\n<p>When the properties are set properly, job runs smoothly.</p>\n<p>But when the datasource properties are incorrect, the job will fail, but <strong>without EXIT STATUS</strong>. I am guessing it is because the job launcher has not yet started.</p>\n<p>How should I properly handle this job and return a FAILED status to SCDF so that the flow continues ?</p>\n<p>I am running a job with a jobLauncher in a custom Bean</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${jobName}&quot;)\nString jobName;\n\n@Bean\npublic JobExecution run(JobLauncher jobLauncher) {\n  JobExecution jobExecution = null;\n  Job job;\n  try {\n    JobParameters jobParameters = new JobParametersBuilder().addLong(&quot;time&quot;, System.currentTimeMillis()).toJobParameters();\n    job = BeanFactoryAnnotationUtils.qualifiedBeanOfType(ctx.getAutowireCapableBeanFactory(), Job.class, jobName);\n    jobExecution = jobLauncher.run(job, jobParameters);\n    log.info(&quot;Exit Status : &quot; + jobExecution.getStatus());\n  } catch (Exception e) {\n    e.printStackTrace();\n  }\n    return jobExecution;\n}\n</code></pre>\n<p>It doesn't even get executed, because JPA datasource fails before it even has the chance.</p>\n<p>How to properly handle this ?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":16355149,"reputation":1659,"user_id":11812518,"display_name":"Petar Bivolarski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633591079,"creation_date":1633591079,"answer_id":69476926,"question_id":69476775,"body_markdown":"You should listen for an event before the `ApplicationReadyEvent`, because it is the final one, marking that the application is ready to serve requests.\r\n\r\nFor example, you can listen to `ApplicationStartingEvent`. See a list of the available ApplicationEvents [here][1].\r\n\r\n\r\n  [1]: https://www.javapedia.net/Spring-Boot/2927","title":"Trigger ApplicationListener before WebServer starts","body":"<p>You should listen for an event before the <code>ApplicationReadyEvent</code>, because it is the final one, marking that the application is ready to serve requests.</p>\n<p>For example, you can listen to <code>ApplicationStartingEvent</code>. See a list of the available ApplicationEvents <a href=\"https://www.javapedia.net/Spring-Boot/2927\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":108618,"reputation":506,"user_id":288200,"accept_rate":80,"display_name":"Kamil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633591079,"creation_date":1633590309,"question_id":69476775,"body_markdown":"I have a short lived process to read a simple file from a classpath into a memory, I chose `ApplicationListener&lt;ApplicationReadyEvent&gt;` to let spring trigger a task:\r\n\r\n```\r\n@Component\r\n@Priority(1)\r\nclass MyLoader implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\r\n\r\n  @Override\r\n  public void onApplicationEvent(ApplicationReadyEvent event) {\r\n    doStuff();\r\n  }\r\n\r\n}\r\n```\r\n\r\nI realised not that few HTTP requests that I offer in this app depend on that data in memory. How can I force `MyLoader` class to execute before Web Server is ready to serve request? I have no idea how to define that dependency?","title":"Trigger ApplicationListener before WebServer starts","body":"<p>I have a short lived process to read a simple file from a classpath into a memory, I chose <code>ApplicationListener&lt;ApplicationReadyEvent&gt;</code> to let spring trigger a task:</p>\n<pre><code>@Component\n@Priority(1)\nclass MyLoader implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\n\n  @Override\n  public void onApplicationEvent(ApplicationReadyEvent event) {\n    doStuff();\n  }\n\n}\n</code></pre>\n<p>I realised not that few HTTP requests that I offer in this app depend on that data in memory. How can I force <code>MyLoader</code> class to execute before Web Server is ready to serve request? I have no idea how to define that dependency?</p>\n"},{"tags":["java","aes-gcm"],"answers":[{"tags":[],"owner":{"account_id":10269682,"reputation":1,"user_id":7578474,"display_name":"Pratyusha Vemulapalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633590956,"creation_date":1633590956,"answer_id":69476902,"question_id":69415547,"body_markdown":"I could finally resolve the above mentioned issue. There is absolutely no issue with the code provided. However, I was facing the issue because of the BouncyCastle jar not registered as Service Provider. \r\nUpdated the **java.security** file under \r\n\r\n**&gt;$JAVAHOME/lib/security/java.security**\r\n\r\nAdd the below line if the provided is not added\r\n&gt;security.provider.&lt;#&gt;=org.bouncycastle.jce.provider.BouncyCastleProvider\r\n\r\n**Follow the link for details** : \r\n\r\nhttps://makeinjava.com/install-bouncy-castle-provider-configuring-java-runtime-example/","title":"No Such Algorithm : AES/GCM/NoPadding","body":"<p>I could finally resolve the above mentioned issue. There is absolutely no issue with the code provided. However, I was facing the issue because of the BouncyCastle jar not registered as Service Provider.\nUpdated the <strong>java.security</strong> file under</p>\n<p><strong>&gt;$JAVAHOME/lib/security/java.security</strong></p>\n<p>Add the below line if the provided is not added</p>\n<blockquote>\n<p>security.provider.&lt;#&gt;=org.bouncycastle.jce.provider.BouncyCastleProvider</p>\n</blockquote>\n<p><strong>Follow the link for details</strong> :</p>\n<p><a href=\"https://makeinjava.com/install-bouncy-castle-provider-configuring-java-runtime-example/\" rel=\"nofollow noreferrer\">https://makeinjava.com/install-bouncy-castle-provider-configuring-java-runtime-example/</a></p>\n"}],"owner":{"account_id":10269682,"reputation":1,"user_id":7578474,"display_name":"Pratyusha Vemulapalli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2600,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69476902,"answer_count":1,"score":-1,"last_activity_date":1633590956,"creation_date":1633166200,"question_id":69415547,"body_markdown":"I&#39;m trying to use AES/GCM/NoPadding within the Java code for decryption. Below is the code\r\n\r\n    public static byte[] decryptRes(final byte[] sessionKey, final String symetricKeyAlg,\r\n    \t\tfinal String pkiProvider, final String encXML, final String msgRefNo)\r\n    \t\tthrows NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException,\r\n    \t\tBadPaddingException, NoSuchProviderException, InvalidAlgorithmParameterException {\r\n    \tSecurity.addProvider(new BouncyCastleProvider());\r\n    \tfinal StringBuilder strBuilder = new StringBuilder(msgRefNo);\r\n    \tstrBuilder.append(&quot;0000&quot;);\r\n    \tfinal SecretKeySpec symmKeySpec = new SecretKeySpec(sessionKey, &quot;AES&quot;);\r\n    \tfinal Cipher symmCipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;, &quot;BC&quot;);\r\n    \tsymmCipher.init(2, symmKeySpec, new IvParameterSpec(strBuilder.toString().getBytes()));\r\n    \tfinal byte[] xmlData = symmCipher.doFinal(base64Decode(encXML));\r\n    \treturn xmlData;\r\n    }\r\n\r\nNow, when this code is invoked, it throws \r\n\r\n&gt; Exception : java.security.NoSuchAlgorithmException: No such algorithm: AES/GCM/NoPadding\r\n\r\nand not \r\n&gt; NoSuchProviderException.\r\n\r\nThe necessary providers is already added but I still get the above mentioned exception.\r\n\r\n&gt;Java version 7 being used.\r\n\r\nJars Used : \r\n\r\n 1. &gt;bcprov-jdk15to18-169.jar\r\n 2. &gt;bcprov-ext-jdk15to18-169.jar\r\n\r\nThe above jars are available in the application lib folder.\r\n","title":"No Such Algorithm : AES/GCM/NoPadding","body":"<p>I'm trying to use AES/GCM/NoPadding within the Java code for decryption. Below is the code</p>\n<pre><code>public static byte[] decryptRes(final byte[] sessionKey, final String symetricKeyAlg,\n        final String pkiProvider, final String encXML, final String msgRefNo)\n        throws NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException,\n        BadPaddingException, NoSuchProviderException, InvalidAlgorithmParameterException {\n    Security.addProvider(new BouncyCastleProvider());\n    final StringBuilder strBuilder = new StringBuilder(msgRefNo);\n    strBuilder.append(&quot;0000&quot;);\n    final SecretKeySpec symmKeySpec = new SecretKeySpec(sessionKey, &quot;AES&quot;);\n    final Cipher symmCipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;, &quot;BC&quot;);\n    symmCipher.init(2, symmKeySpec, new IvParameterSpec(strBuilder.toString().getBytes()));\n    final byte[] xmlData = symmCipher.doFinal(base64Decode(encXML));\n    return xmlData;\n}\n</code></pre>\n<p>Now, when this code is invoked, it throws</p>\n<blockquote>\n<p>Exception : java.security.NoSuchAlgorithmException: No such algorithm: AES/GCM/NoPadding</p>\n</blockquote>\n<p>and not</p>\n<blockquote>\n<p>NoSuchProviderException.</p>\n</blockquote>\n<p>The necessary providers is already added but I still get the above mentioned exception.</p>\n<blockquote>\n<p>Java version 7 being used.</p>\n</blockquote>\n<p>Jars Used :</p>\n<ol>\n<li>\n<blockquote>\n<p>bcprov-jdk15to18-169.jar</p>\n</blockquote>\n</li>\n<li>\n<blockquote>\n<p>bcprov-ext-jdk15to18-169.jar</p>\n</blockquote>\n</li>\n</ol>\n<p>The above jars are available in the application lib folder.</p>\n"},{"tags":["java","apache-spark","pyspark","slf4j"],"comments":[{"owner":{"account_id":18118167,"reputation":88,"user_id":13174582,"display_name":"Surya"},"score":0,"creation_date":1650389679,"post_id":69445457,"comment_id":127101950,"body_markdown":"How to did you manage to list the jars on driver and executor pods?","body":"How to did you manage to list the jars on driver and executor pods?"}],"answers":[{"tags":[],"owner":{"account_id":11129825,"reputation":41,"user_id":8170120,"display_name":"Marc Reyes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633590857,"creation_date":1633590857,"answer_id":69476879,"question_id":69445457,"body_markdown":"Was able to make it work. Built the executor pods from Spark&#39;s build tool and added new packages on top of that. Also ensured jars exist in the driver pod (Jupyter Notebook) and executor pods. ","title":"java.lang.NoSuchMethodError: &#39;java.lang.String org.slf4j.helpers.Util.safeGetSystemProperty(java.lang.String)&#39;","body":"<p>Was able to make it work. Built the executor pods from Spark's build tool and added new packages on top of that. Also ensured jars exist in the driver pod (Jupyter Notebook) and executor pods.</p>\n"}],"owner":{"account_id":11129825,"reputation":41,"user_id":8170120,"display_name":"Marc Reyes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69476879,"answer_count":1,"score":0,"last_activity_date":1633590857,"creation_date":1633413142,"question_id":69445457,"body_markdown":"Getting an issue when starting Spark on Kubernetes in client mode using JupyterHub.\r\n\r\n```\r\n21/10/05 03:54:33 ERROR SparkUncaughtExceptionHandler: Uncaught exception in thread Thread[Executor task launch worker-0,5,main]\r\njava.lang.NoSuchMethodError: &#39;java.lang.String org.slf4j.helpers.Util.safeGetSystemProperty(java.lang.String)&#39;\r\n\tat org.slf4j.impl.VersionUtil.getJavaMajorVersion(VersionUtil.java:11)\r\n\tat org.slf4j.impl.Log4jMDCAdapter.&lt;clinit&gt;(Log4jMDCAdapter.java:37)\r\n\tat org.slf4j.impl.StaticMDCBinder.getMDCA(StaticMDCBinder.java:59)\r\n\tat org.slf4j.MDC.&lt;clinit&gt;(MDC.java:74)\r\n\tat org.apache.spark.executor.Executor.org$apache$spark$executor$Executor$$setMDCForTask(Executor.scala:740)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:432)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.base/java.lang.Thread.run(Unknown Source)\r\n21/10/05 03:54:33 INFO MemoryStore: MemoryStore cleared\r\n21/10/05 03:54:33 INFO BlockManager: BlockManager stopped\r\n21/10/05 03:54:33 INFO ShutdownHookManager: Shutdown hook called\r\n```\r\n\r\nI&#39;ve also confirmed that the slf4j versions and jars are the same in the driver and executor as some articles suggest that it could be a package version mismatch. \r\n\r\nJars installed are\r\n```\r\njcl-over-slf4j-1.7.30.jar\r\njul-to-slf4j-1.7.30.jar\r\nslf4j-api-1.7.30.jar\r\nslf4j-log4j12-1.7.30.jar\r\n```\r\nin both executor and driver pods. Would you know if there&#39;s something I missed? Thank you. ","title":"java.lang.NoSuchMethodError: &#39;java.lang.String org.slf4j.helpers.Util.safeGetSystemProperty(java.lang.String)&#39;","body":"<p>Getting an issue when starting Spark on Kubernetes in client mode using JupyterHub.</p>\n<pre><code>21/10/05 03:54:33 ERROR SparkUncaughtExceptionHandler: Uncaught exception in thread Thread[Executor task launch worker-0,5,main]\njava.lang.NoSuchMethodError: 'java.lang.String org.slf4j.helpers.Util.safeGetSystemProperty(java.lang.String)'\n    at org.slf4j.impl.VersionUtil.getJavaMajorVersion(VersionUtil.java:11)\n    at org.slf4j.impl.Log4jMDCAdapter.&lt;clinit&gt;(Log4jMDCAdapter.java:37)\n    at org.slf4j.impl.StaticMDCBinder.getMDCA(StaticMDCBinder.java:59)\n    at org.slf4j.MDC.&lt;clinit&gt;(MDC.java:74)\n    at org.apache.spark.executor.Executor.org$apache$spark$executor$Executor$$setMDCForTask(Executor.scala:740)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:432)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\n21/10/05 03:54:33 INFO MemoryStore: MemoryStore cleared\n21/10/05 03:54:33 INFO BlockManager: BlockManager stopped\n21/10/05 03:54:33 INFO ShutdownHookManager: Shutdown hook called\n</code></pre>\n<p>I've also confirmed that the slf4j versions and jars are the same in the driver and executor as some articles suggest that it could be a package version mismatch.</p>\n<p>Jars installed are</p>\n<pre><code>jcl-over-slf4j-1.7.30.jar\njul-to-slf4j-1.7.30.jar\nslf4j-api-1.7.30.jar\nslf4j-log4j12-1.7.30.jar\n</code></pre>\n<p>in both executor and driver pods. Would you know if there's something I missed? Thank you.</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":143980,"reputation":14984,"user_id":352708,"accept_rate":73,"display_name":"Slava Semushin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1633590422,"creation_date":1450458505,"answer_id":34360591,"question_id":34001087,"body_markdown":"The short answer: declare members of your backing object as `String`.\r\n\r\nThe long answer: `typeMismatch` error occurs during binding and **before** validation. All user&#39;s data represented as `String` values (because this is what [ServletRequest.getParameter()][1] returns) and Spring tries to convert `String` value to the type of the field in your backing object. In your example, Spring will try to convert value of parameter `aNumber` to `int`. When you left field empty, then Spring tried to convert empty string to the `int` and of course it complains about mismatching types.\r\n\r\n(This answer is still incomplete, because there is also different converters that Spring also tries to use, but I believe that you got the picture.)\r\n\r\n[1]: http://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getParameter%28java.lang.String%29","title":"How to Disable Spring&#39;s &quot;typeMismatch&quot; Exception? - Spring MVC","body":"<p>The short answer: declare members of your backing object as <code>String</code>.</p>\n<p>The long answer: <code>typeMismatch</code> error occurs during binding and <strong>before</strong> validation. All user's data represented as <code>String</code> values (because this is what <a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getParameter%28java.lang.String%29\" rel=\"nofollow noreferrer\">ServletRequest.getParameter()</a> returns) and Spring tries to convert <code>String</code> value to the type of the field in your backing object. In your example, Spring will try to convert value of parameter <code>aNumber</code> to <code>int</code>. When you left field empty, then Spring tried to convert empty string to the <code>int</code> and of course it complains about mismatching types.</p>\n<p>(This answer is still incomplete, because there is also different converters that Spring also tries to use, but I believe that you got the picture.)</p>\n"}],"owner":{"account_id":7385359,"reputation":1603,"user_id":5620549,"accept_rate":78,"display_name":"Redtama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5592,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34360591,"answer_count":1,"score":3,"last_activity_date":1633590422,"creation_date":1448894218,"question_id":34001087,"body_markdown":"Basically I want to be able stop Spring from checking if my fields contain bad data, and instead let me handle all the validation and exceptions manually.\r\n\r\nSuppose I have a class:\r\n\r\n    public class MyClass {\r\n\r\n        int aNumber;\r\n    }\r\n\r\nand a Controller: \r\n\r\n    @Controller\r\n    public class MyController {\r\n\r\n        @Autowired\r\n        private MyValidator validator;\r\n\r\n        public MyClass() {}\r\n\r\n        @InitBinder\r\n        public void initBinder(WebDataBinder binder) {\r\n            binder.setValidator(validator);\r\n        }\r\n\r\n        @RequestMapping(value=&quot;/postsomething&quot;, method=RequestMethod.POST)\r\n        public ModelAndView onPost(@ModelAttribute(&quot;myObject&quot;) MyClass myObject, BindingResult result) {\r\n\r\n        validator.validate(myObject, result);\r\n        \r\n        if (result.hasErrors()) {\r\n            return &quot;postsomething&quot;;\r\n        }\r\n\r\n        return &quot;redirect:success&quot;;\r\n    }\r\n\r\nAnd finally a Validator:\r\n\r\n    public class MyValidator implements Validator {\r\n        \r\n        @Override\r\n        public void validate(Object target, Errors errors) {\r\n            \r\n            MyClass myObject = (MyClass) target;\r\n\r\n            if (someCondition) {\r\n                ValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;aNumber&quot;, &quot;error.myclass.anumber.null&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThe point is that I only want an error message to be displayed once from MY validator if `someCondition` is true. But if I leave my port field in my form empty then it also displays Spring&#39;s error message for typeMismatch no matter what.\r\n\r\nCan I disable the typeMismatch error, or should I go about all of this some other way?","title":"How to Disable Spring&#39;s &quot;typeMismatch&quot; Exception? - Spring MVC","body":"<p>Basically I want to be able stop Spring from checking if my fields contain bad data, and instead let me handle all the validation and exceptions manually.</p>\n\n<p>Suppose I have a class:</p>\n\n<pre><code>public class MyClass {\n\n    int aNumber;\n}\n</code></pre>\n\n<p>and a Controller: </p>\n\n<pre><code>@Controller\npublic class MyController {\n\n    @Autowired\n    private MyValidator validator;\n\n    public MyClass() {}\n\n    @InitBinder\n    public void initBinder(WebDataBinder binder) {\n        binder.setValidator(validator);\n    }\n\n    @RequestMapping(value=\"/postsomething\", method=RequestMethod.POST)\n    public ModelAndView onPost(@ModelAttribute(\"myObject\") MyClass myObject, BindingResult result) {\n\n    validator.validate(myObject, result);\n\n    if (result.hasErrors()) {\n        return \"postsomething\";\n    }\n\n    return \"redirect:success\";\n}\n</code></pre>\n\n<p>And finally a Validator:</p>\n\n<pre><code>public class MyValidator implements Validator {\n\n    @Override\n    public void validate(Object target, Errors errors) {\n\n        MyClass myObject = (MyClass) target;\n\n        if (someCondition) {\n            ValidationUtils.rejectIfEmptyOrWhitespace(errors, \"aNumber\", \"error.myclass.anumber.null\");\n        }\n    }\n}\n</code></pre>\n\n<p>The point is that I only want an error message to be displayed once from MY validator if <code>someCondition</code> is true. But if I leave my port field in my form empty then it also displays Spring's error message for typeMismatch no matter what.</p>\n\n<p>Can I disable the typeMismatch error, or should I go about all of this some other way?</p>\n"},{"tags":["java","python","rest","machine-learning","scikit-learn"],"comments":[{"owner":{"account_id":3243989,"reputation":444,"user_id":2736155,"accept_rate":100,"display_name":"racknuf"},"score":0,"creation_date":1521406563,"post_id":42080598,"comment_id":85705570,"body_markdown":"The Skymind Intelligence Layer includes a machine learning model server with a REST API. https://docs.skymind.ai/v1.0.3/reference","body":"The Skymind Intelligence Layer includes a machine learning model server with a REST API. <a href=\"https://docs.skymind.ai/v1.0.3/reference\" rel=\"nofollow noreferrer\">docs.skymind.ai/v1.0.3/reference</a>"},{"owner":{"account_id":9301616,"reputation":636,"user_id":6906901,"display_name":"sagar1025"},"score":0,"creation_date":1577672141,"post_id":42080598,"comment_id":105220924,"body_markdown":"If you don&#39;t mind using Amazon Web Services, I would recommend Chalice. It&#39;s a framework for creating Lambda functions. It&#39;s very easy to learn and you won&#39;t have to worry about the infrastructure. If you have stored your ML model in a file, you can transfer it to a Bucket, so when the Lambda function is invoked, you can pull the model file and process the request.\nhttps://github.com/aws/chalice","body":"If you don&#39;t mind using Amazon Web Services, I would recommend Chalice. It&#39;s a framework for creating Lambda functions. It&#39;s very easy to learn and you won&#39;t have to worry about the infrastructure. If you have stored your ML model in a file, you can transfer it to a Bucket, so when the Lambda function is invoked, you can pull the model file and process the request. <a href=\"https://github.com/aws/chalice\" rel=\"nofollow noreferrer\">github.com/aws/chalice</a>"},{"owner":{"account_id":35415,"reputation":5837,"user_id":100288,"accept_rate":100,"display_name":"JerSchneid"},"score":0,"creation_date":1616607985,"post_id":42080598,"comment_id":118058508,"body_markdown":"If you&#39;re looking for an easy way to build a custom machine learning API without even having to worry about the backend, you could check out https://www.nyckel.com","body":"If you&#39;re looking for an easy way to build a custom machine learning API without even having to worry about the backend, you could check out <a href=\"https://www.nyckel.com\" rel=\"nofollow noreferrer\">nyckel.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":5453731,"reputation":3376,"user_id":6471140,"accept_rate":57,"display_name":"Luis Leal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486436403,"creation_date":1486436403,"answer_id":42080930,"question_id":42080598,"body_markdown":"From what ive done in the past i  suggest 2 options(maybe theres more but this are the ones that i have implemented)\r\n\r\n 1. If you have access and budget to cloud services, Azure ML its excelent choice, greate ML framework and environment, and to create your rest API you just need like 2 clicks to expose it ,and  then consume it using JSON from any language.\r\n 2. Use scikit-learn and code your REST API in python , but can be consumed from any language, this option is not as easy and user friendly as Azure ML because you will have to code everything by hand and play with the model persistence functions of scikit, but once exposed, you can use it in java(or anything else) . I used this as a reference : https://loads.pickle.me.uk/2016/04/04/deploying-a-scikit-learn-classifier-to-production/\r\n 3. Spark MLlib: i havent tried this option, but i asked myself a question here in stack overflow and got some interesting answers: https://stackoverflow.com/questions/40533582/how-to-serve-spark-mllib-model","title":"What is the best way to build and expose a Machine Learning model REST api?","body":"<p>From what ive done in the past i  suggest 2 options(maybe theres more but this are the ones that i have implemented)</p>\n\n<ol>\n<li>If you have access and budget to cloud services, Azure ML its excelent choice, greate ML framework and environment, and to create your rest API you just need like 2 clicks to expose it ,and  then consume it using JSON from any language.</li>\n<li>Use scikit-learn and code your REST API in python , but can be consumed from any language, this option is not as easy and user friendly as Azure ML because you will have to code everything by hand and play with the model persistence functions of scikit, but once exposed, you can use it in java(or anything else) . I used this as a reference : <a href=\"https://loads.pickle.me.uk/2016/04/04/deploying-a-scikit-learn-classifier-to-production/\" rel=\"nofollow noreferrer\">https://loads.pickle.me.uk/2016/04/04/deploying-a-scikit-learn-classifier-to-production/</a></li>\n<li>Spark MLlib: i havent tried this option, but i asked myself a question here in stack overflow and got some interesting answers: <a href=\"https://stackoverflow.com/questions/40533582/how-to-serve-spark-mllib-model\">How to serve a Spark MLlib model?</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10210494,"reputation":1,"user_id":7537782,"display_name":"YJ.Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486609614,"creation_date":1486609614,"answer_id":42127532,"question_id":42080598,"body_markdown":"Well it depends the situation you use python for ML.\r\nFor classification models like randomforest,use your train dataset to built tree structures and export as nested dict.Whatever the language you uesd,transform the model object to a kind of data structure then you can ues it anywhere.\r\n\r\nBUT if your situation is a large scale,real-timeing,distributional datesets,far as I know,maybe the best way is to deploy the whole ML process on severs.","title":"What is the best way to build and expose a Machine Learning model REST api?","body":"<p>Well it depends the situation you use python for ML.\nFor classification models like randomforest,use your train dataset to built tree structures and export as nested dict.Whatever the language you uesd,transform the model object to a kind of data structure then you can ues it anywhere.</p>\n\n<p>BUT if your situation is a large scale,real-timeing,distributional datesets,far as I know,maybe the best way is to deploy the whole ML process on severs.</p>\n"},{"tags":[],"owner":{"account_id":9945458,"reputation":59,"user_id":7360358,"display_name":"Ramesh Gowda"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1496072866,"creation_date":1496072866,"answer_id":44246335,"question_id":42080598,"body_markdown":"As others mentioned,\r\n\r\n1. using AzureML is easy solution to deploy ML model as web service/ rest service. However, you need to build the model in Azure platform using graphical interface (drag and drop, configure). People may not like this approach if they have used python -sklearn code build a model. Though, AzureML has option to include R and python script, i did not like it much.\r\n\r\n2. Another option is to store the python ML model as .pkl file and using Flask / DJango rest framework, deploy the model. client apps can consume the rest service. Here is an excellent tutorial on youtube.\r\nhttps://www.youtube.com/watch?v=s-i6nzXQF3g\r\n","title":"What is the best way to build and expose a Machine Learning model REST api?","body":"<p>As others mentioned,</p>\n\n<ol>\n<li><p>using AzureML is easy solution to deploy ML model as web service/ rest service. However, you need to build the model in Azure platform using graphical interface (drag and drop, configure). People may not like this approach if they have used python -sklearn code build a model. Though, AzureML has option to include R and python script, i did not like it much.</p></li>\n<li><p>Another option is to store the python ML model as .pkl file and using Flask / DJango rest framework, deploy the model. client apps can consume the rest service. Here is an excellent tutorial on youtube.\n<a href=\"https://www.youtube.com/watch?v=s-i6nzXQF3g\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=s-i6nzXQF3g</a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12072766,"reputation":16,"user_id":8827516,"display_name":"Travis Walsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508873554,"creation_date":1508873554,"answer_id":46918647,"question_id":42080598,"body_markdown":"I&#39;m using Node.js as my rest service and I just call out to the system to interact with my python that holds the stored model.  You could always do that if you are more comfortable writing your services in JAVA, just make a call to Runtime exec or use ProcessBuilder to call the python script and get the reply back.   ","title":"What is the best way to build and expose a Machine Learning model REST api?","body":"<p>I'm using Node.js as my rest service and I just call out to the system to interact with my python that holds the stored model.  You could always do that if you are more comfortable writing your services in JAVA, just make a call to Runtime exec or use ProcessBuilder to call the python script and get the reply back.   </p>\n"},{"tags":[],"owner":{"account_id":6429889,"reputation":181,"user_id":4983532,"display_name":"erikW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627342919,"creation_date":1627342919,"answer_id":68537391,"question_id":42080598,"body_markdown":"By far, the fastest way to get your sklearn model into an API is [FlashAI.io][1] , the service was made for this purpose specifically – I came into this when I was facing the same dilemma recently as I had trained a Scikit-learn model on my local PC using Python, and I wanted to quickly expose it in an API that could be called via an HTTP POST request. \r\n\r\nThere are other options that were mentioned, all of which require some learning curve, cost in time and effort to simply expose your model. FlashAI lets you expose your model within a couple minutes. Just save your .pkl file and upload it. Your model gets assigned a unique model ID and you just use that to make API requests without any limit. Done and done :)\r\n\r\n\r\n  [1]: https://flashai.io","title":"What is the best way to build and expose a Machine Learning model REST api?","body":"<p>By far, the fastest way to get your sklearn model into an API is <a href=\"https://flashai.io\" rel=\"nofollow noreferrer\">FlashAI.io</a> , the service was made for this purpose specifically – I came into this when I was facing the same dilemma recently as I had trained a Scikit-learn model on my local PC using Python, and I wanted to quickly expose it in an API that could be called via an HTTP POST request.</p>\n<p>There are other options that were mentioned, all of which require some learning curve, cost in time and effort to simply expose your model. FlashAI lets you expose your model within a couple minutes. Just save your .pkl file and upload it. Your model gets assigned a unique model ID and you just use that to make API requests without any limit. Done and done :)</p>\n"},{"tags":[],"owner":{"account_id":4157048,"reputation":1659,"user_id":3553550,"accept_rate":32,"display_name":"Martin Wunderlich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633590400,"creation_date":1633590400,"answer_id":69476803,"question_id":42080598,"body_markdown":"I have been experimenting with this same task and would like to add another option, not using a REST API: The format of the Apache Spark models is compatible in both the Python and Jave implementations of the framework. So, you could train and build your model in Python (using PySpark), export, and import on the Java side for serving/predictions. This works well. \r\n\r\nThere are, however, some downsides to this approach: \r\n - Spark has two separate ML packages (ML and MLLib) for different data formats (RDD and dataframes)\r\n - The algorithms for training models in each of these packages are not the same (no model parity)\r\n - The models and training classes don&#39;t have uniform interfaces. So, you have to be aware of what the expected format is and might have to transform your data accordingly for both training and inference. \r\n - Pre-processing for both training and inference has to be the same, so you either need to do this on the Python side for both stages or somehow replicate the pre-processing on the Java side. \r\n\r\nSo, if you don&#39;t mind the downsides of a Rest API solution (availability, network latency), then this might be the preferable solution. ","title":"What is the best way to build and expose a Machine Learning model REST api?","body":"<p>I have been experimenting with this same task and would like to add another option, not using a REST API: The format of the Apache Spark models is compatible in both the Python and Jave implementations of the framework. So, you could train and build your model in Python (using PySpark), export, and import on the Java side for serving/predictions. This works well.</p>\n<p>There are, however, some downsides to this approach:</p>\n<ul>\n<li>Spark has two separate ML packages (ML and MLLib) for different data formats (RDD and dataframes)</li>\n<li>The algorithms for training models in each of these packages are not the same (no model parity)</li>\n<li>The models and training classes don't have uniform interfaces. So, you have to be aware of what the expected format is and might have to transform your data accordingly for both training and inference.</li>\n<li>Pre-processing for both training and inference has to be the same, so you either need to do this on the Python side for both stages or somehow replicate the pre-processing on the Java side.</li>\n</ul>\n<p>So, if you don't mind the downsides of a Rest API solution (availability, network latency), then this might be the preferable solution.</p>\n"}],"owner":{"account_id":2490809,"reputation":1549,"user_id":2168281,"accept_rate":75,"display_name":"harshlal028"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6578,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":6,"score":5,"last_activity_date":1633590400,"creation_date":1486433951,"question_id":42080598,"body_markdown":"I have been working on designing REST api using springframework and deploying them on web servers like Tomcat. I have also worked on building Machine Learning model and use the model to make prediction using sklearn in Python.\r\nNow I have a use case where in ***I want to expose a REST api which builds Machine Learning Model, and another REST api which makes the prediction***. What architecture should help me to achieve the same. (An example of the same maybe a Amazon Machine Learning. They have exposed REST api for generating model and making prediction)\r\n\r\n*I searched round the internet and found following ways:*\r\n\r\n 1. Write the whole thing in Java - ML model + REST api\r\n 2. Write the whole thing in Python - ML model + REST api\r\n\r\nBut playing around with Machine Learning, its models and predictions is really easier and more supported in python with libraries like sklearn, rather than Java. I would really like to ***use python for Machine Learning part***.\r\n\r\nI was thinking about and approach wherein I write REST api using JAVA but use sub-process to make python ML calls. Will that work?\r\n\r\nCan someone help me regarding the ***probable architectural approaches*** that I can take. Also please suggest the most feasible solution.\r\n\r\nThanks in advance.\r\n","title":"What is the best way to build and expose a Machine Learning model REST api?","body":"<p>I have been working on designing REST api using springframework and deploying them on web servers like Tomcat. I have also worked on building Machine Learning model and use the model to make prediction using sklearn in Python.\nNow I have a use case where in <strong><em>I want to expose a REST api which builds Machine Learning Model, and another REST api which makes the prediction</em></strong>. What architecture should help me to achieve the same. (An example of the same maybe a Amazon Machine Learning. They have exposed REST api for generating model and making prediction)</p>\n\n<p><em>I searched round the internet and found following ways:</em></p>\n\n<ol>\n<li>Write the whole thing in Java - ML model + REST api</li>\n<li>Write the whole thing in Python - ML model + REST api</li>\n</ol>\n\n<p>But playing around with Machine Learning, its models and predictions is really easier and more supported in python with libraries like sklearn, rather than Java. I would really like to <strong><em>use python for Machine Learning part</em></strong>.</p>\n\n<p>I was thinking about and approach wherein I write REST api using JAVA but use sub-process to make python ML calls. Will that work?</p>\n\n<p>Can someone help me regarding the <strong><em>probable architectural approaches</em></strong> that I can take. Also please suggest the most feasible solution.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","yocto","inetaddress"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1633519791,"post_id":69464174,"comment_id":122779933,"body_markdown":"so `/etc/hosts` should rather be: `127.0.0.1  myapp localhost.localdomain localhost` ... `::1     myapp localhost` (!) ... (https://en.wikipedia.org/wiki/Hosts_(file))","body":"so <code>&#47;etc&#47;hosts</code> should rather be: <code>127.0.0.1  myapp localhost.localdomain localhost</code> ... <code>::1     myapp localhost</code> (!) ... (<a href=\"https://en.wikipedia.org/wiki/Hosts_(file)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Hosts_(file)</a>)"}],"owner":{"account_id":1754849,"reputation":663,"user_id":1603131,"accept_rate":43,"display_name":"Sorin Penteleiciuc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1633590646,"answer_count":0,"score":1,"last_activity_date":1633590389,"creation_date":1633516665,"question_id":69464174,"body_markdown":"I have a Spring Boot application running on a Yocto Linux that must work also without external internet connection from the network router. The Spring app is accessible within the LAN from other devices.\r\nWhen the router internet cable is unplugged, the app starts 3 minutes slower as with internet.\r\n\r\n**spring boot log:**\r\n```\r\n[main] WARN o.s.boot.StartupInfoLogger-InetAddress.getLocalHost().getHostName() \r\ntook 20020 milliseconds to respond. Please verify your network configuration.\r\n```\r\n\r\n\r\n**cat /etc/hostname**\r\n```\r\nmyapp\r\n```\r\n\r\n\r\n**cat /etc/os-release**\r\n```\r\nID=&quot;myapp&quot;\r\nNAME=&quot;myapp&quot;\r\nVERSION=&quot;4.14-sumo (sumo)&quot;\r\nVERSION_ID=&quot;4.14-sumo&quot;\r\nPRETTY_NAME=&quot;myapp 4.14-sumo (sumo)&quot;\r\n```\r\n\r\n**cat /etc/hosts**\r\n\r\n```\r\n127.0.0.1\tlocalhost.localdomain\t\tlocalhost\r\n\r\n# The following lines are desirable for IPv6 capable hosts\r\n::1     localhost ip6-localhost ip6-loopback\r\nfe00::0 ip6-localnet\r\nff00::0 ip6-mcastprefix\r\nff02::1 ip6-allnodes\r\nff02::2 ip6-allrouters\r\n127.0.0.1 myapp\r\n```\r\n\r\n","title":"Spring boot app starts slow without internet connection on Yocto Linux","body":"<p>I have a Spring Boot application running on a Yocto Linux that must work also without external internet connection from the network router. The Spring app is accessible within the LAN from other devices.\nWhen the router internet cable is unplugged, the app starts 3 minutes slower as with internet.</p>\n<p><strong>spring boot log:</strong></p>\n<pre><code>[main] WARN o.s.boot.StartupInfoLogger-InetAddress.getLocalHost().getHostName() \ntook 20020 milliseconds to respond. Please verify your network configuration.\n</code></pre>\n<p><strong>cat /etc/hostname</strong></p>\n<pre><code>myapp\n</code></pre>\n<p><strong>cat /etc/os-release</strong></p>\n<pre><code>ID=&quot;myapp&quot;\nNAME=&quot;myapp&quot;\nVERSION=&quot;4.14-sumo (sumo)&quot;\nVERSION_ID=&quot;4.14-sumo&quot;\nPRETTY_NAME=&quot;myapp 4.14-sumo (sumo)&quot;\n</code></pre>\n<p><strong>cat /etc/hosts</strong></p>\n<pre><code>127.0.0.1   localhost.localdomain       localhost\n\n# The following lines are desirable for IPv6 capable hosts\n::1     localhost ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n127.0.0.1 myapp\n</code></pre>\n"},{"tags":["java","linux","docker","tomcat"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1633541846,"post_id":69467018,"comment_id":122789624,"body_markdown":"You should add the whole error message to your question. This seems to be a JAXB problem (which was removed in Java 11). Are you sure you are not using Java 8 on Mac and Windows?","body":"You should add the whole error message to your question. This seems to be a JAXB problem (which was removed in Java 11). Are you sure you are not using Java 8 on Mac and Windows?"},{"owner":{"account_id":975457,"reputation":257,"user_id":996852,"display_name":"baal"},"score":0,"creation_date":1633589406,"post_id":69467018,"comment_id":122800754,"body_markdown":"Thank you for your input. I&#39;ve updated the logs to show that the docker image is build with tomcat 8.5 and a JVM Version 11. And how could the version be different on different machines if it is declared in the docker file with *tomcat:8.5-jre11-openjdk-slim*?","body":"Thank you for your input. I&#39;ve updated the logs to show that the docker image is build with tomcat 8.5 and a JVM Version 11. And how could the version be different on different machines if it is declared in the docker file with <i>tomcat:8.5-jre11-openjdk-slim</i>?"}],"owner":{"account_id":975457,"reputation":257,"user_id":996852,"display_name":"baal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633589548,"creation_date":1633528190,"question_id":69467018,"body_markdown":"I have a simple tomcat based docker image which builds and runs without any problems on Mac and Windows machines but fails on Linux Machines when the .war file is deployed.\r\n\r\nThe docker image:\r\n```\r\nFROM tomcat:8.5-jre11-openjdk-slim\r\n\r\nENV JAVA_OPTS=&quot;-Xmx10G -Djavax.servlet.request.encoding=UTF-8 -Dfile.encoding=UTF-8 --add-opens=java.base/jdk.internal.loader=ALL-UNNAMED&quot;\r\n\r\nCOPY webapp.war /usr/local/tomcat/webapps/\r\n```\r\nThe corresponding docker-compose file:\r\n```\r\nversion: &quot;3&quot;\r\nservices: \r\n    webapp:\r\n        container_name: mytool\r\n        build: webapp\r\n        ports: \r\n            - &quot;8080:8080&quot;\r\n```\r\n\r\nThe webapp.war is recommended to be used with tomcat 8 and jre 11.\r\n\r\nThe severe error in logs:\r\n```\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/8.5.71\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Sep 9 2021 18:43:14 UTC\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 8.5.71.0\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            5.4.109+\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/local/openjdk-11\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           11.0.12+7\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /usr/local/tomcat\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /usr/local/tomcat\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/usr/local/tomcat/conf/logging.properties\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xmx10G\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djavax.servlet.request.encoding=UTF-8\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dfile.encoding=UTF-8\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/jdk.internal.loader=ALL-UNNAMED\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/usr/local/tomcat\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/usr/local/tomcat\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/usr/local/tomcat/temp\r\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library [1.2.31] using APR version [1.7.0].\r\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [{4}].\r\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\r\nINFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]\r\nINFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\nINFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\nINFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 1523 ms\r\nINFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\nINFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/8.5.71]\r\nINFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/usr/local/tomcat/webapps/webapp.war]\r\nINFO [localhost-startStop-1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\nINFO [localhost-startStop-1] org.springframework.web.context.ContextLoader.initWebApplicationContext Root WebApplicationContext: initialization started\r\nINFO [localhost-startStop-1] org.springframework.web.context.support.XmlWebApplicationContext.prepareRefresh Refreshing Root WebApplicationContext: startup date [Tue Oct 05 11:45:02 UTC 2021]; root of context hierarchy\r\nINFO [localhost-startStop-1] org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions Loading XML bean definitions from ServletContext resource [/WEB-INF/web-application-config.xml]\r\nINFO [localhost-startStop-1] org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions Loading XML bean definitions from ServletContext resource [/WEB-INF/webmvc-config.xml]\r\n```\r\n\r\n```\r\nSEVERE [localhost-startStop-1] org.springframework.web.context.ContextLoader.initWebApplicationContext \r\nContext initialization failed\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: \r\nError creating bean with name &#39;...&#39;: Unsatisfied dependency expressed through field &#39;...&#39;; \r\n...\r\ndoesnt contain ObjectFactory.class or jaxb.index\r\n```\r\n\r\nand this only occurs on Linux machines (tested with debian and ubuntu).\r\nAny hints?","title":"Tomcat webapp deployment in docker image fails only on linux machines","body":"<p>I have a simple tomcat based docker image which builds and runs without any problems on Mac and Windows machines but fails on Linux Machines when the .war file is deployed.</p>\n<p>The docker image:</p>\n<pre><code>FROM tomcat:8.5-jre11-openjdk-slim\n\nENV JAVA_OPTS=&quot;-Xmx10G -Djavax.servlet.request.encoding=UTF-8 -Dfile.encoding=UTF-8 --add-opens=java.base/jdk.internal.loader=ALL-UNNAMED&quot;\n\nCOPY webapp.war /usr/local/tomcat/webapps/\n</code></pre>\n<p>The corresponding docker-compose file:</p>\n<pre><code>version: &quot;3&quot;\nservices: \n    webapp:\n        container_name: mytool\n        build: webapp\n        ports: \n            - &quot;8080:8080&quot;\n</code></pre>\n<p>The webapp.war is recommended to be used with tomcat 8 and jre 11.</p>\n<p>The severe error in logs:</p>\n<pre><code>INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/8.5.71\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Sep 9 2021 18:43:14 UTC\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 8.5.71.0\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            5.4.109+\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/local/openjdk-11\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           11.0.12+7\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /usr/local/tomcat\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /usr/local/tomcat\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/usr/local/tomcat/conf/logging.properties\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xmx10G\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djavax.servlet.request.encoding=UTF-8\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dfile.encoding=UTF-8\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/jdk.internal.loader=ALL-UNNAMED\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/usr/local/tomcat\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/usr/local/tomcat\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/usr/local/tomcat/temp\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library [1.2.31] using APR version [1.7.0].\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [{4}].\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\nINFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]\nINFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\nINFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\nINFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 1523 ms\nINFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\nINFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/8.5.71]\nINFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/usr/local/tomcat/webapps/webapp.war]\nINFO [localhost-startStop-1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nINFO [localhost-startStop-1] org.springframework.web.context.ContextLoader.initWebApplicationContext Root WebApplicationContext: initialization started\nINFO [localhost-startStop-1] org.springframework.web.context.support.XmlWebApplicationContext.prepareRefresh Refreshing Root WebApplicationContext: startup date [Tue Oct 05 11:45:02 UTC 2021]; root of context hierarchy\nINFO [localhost-startStop-1] org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions Loading XML bean definitions from ServletContext resource [/WEB-INF/web-application-config.xml]\nINFO [localhost-startStop-1] org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions Loading XML bean definitions from ServletContext resource [/WEB-INF/webmvc-config.xml]\n</code></pre>\n<pre><code>SEVERE [localhost-startStop-1] org.springframework.web.context.ContextLoader.initWebApplicationContext \nContext initialization failed\norg.springframework.beans.factory.UnsatisfiedDependencyException: \nError creating bean with name '...': Unsatisfied dependency expressed through field '...'; \n...\ndoesnt contain ObjectFactory.class or jaxb.index\n</code></pre>\n<p>and this only occurs on Linux machines (tested with debian and ubuntu).\nAny hints?</p>\n"},{"tags":["java","c#","algorithm","chess"],"comments":[{"owner":{"account_id":5555455,"reputation":2920,"user_id":4406995,"accept_rate":100,"display_name":"Hayden"},"score":0,"creation_date":1633566984,"post_id":69474032,"comment_id":122796647,"body_markdown":"If I understand the question correctly, you want to convert the matrix above to FEN or Algebraic Notation? If that&#39;s the case, then it&#39;s impossible to convert the matrix to Algebraic.","body":"If I understand the question correctly, you want to convert the matrix above to FEN or Algebraic Notation? If that&#39;s the case, then it&#39;s impossible to convert the matrix to Algebraic."},{"owner":{"account_id":6070507,"reputation":6906,"user_id":4739488,"display_name":"Flydog57"},"score":0,"creation_date":1633567019,"post_id":69474032,"comment_id":122796656,"body_markdown":"You might want to explain (or give a link that explains) what _algebraic chess notation_ is.  Generally, when I think _mapping_, I think `Dictionary&lt;TKey, TValue&gt;`, but I don&#39;t know enough about the problem domain to help here (I don&#39;t think)","body":"You might want to explain (or give a link that explains) what <i>algebraic chess notation</i> is.  Generally, when I think <i>mapping</i>, I think <code>Dictionary&lt;TKey, TValue&gt;</code>, but I don&#39;t know enough about the problem domain to help here (I don&#39;t think)"},{"owner":{"account_id":13923517,"reputation":569,"user_id":10053379,"display_name":"Patola"},"score":1,"creation_date":1633567566,"post_id":69474032,"comment_id":122796721,"body_markdown":"thanks for the response, @Hayden, I am looking to convert other direction (Algebraic  to FEN). I have also added more info about notations.","body":"thanks for the response, @Hayden, I am looking to convert other direction (Algebraic  to FEN). I have also added more info about notations."},{"owner":{"account_id":14110015,"reputation":152,"user_id":10193118,"display_name":"kw1jybo"},"score":0,"creation_date":1633577496,"post_id":69474032,"comment_id":122798214,"body_markdown":"I don&#39;t understand what you are trying to do.  Algebraic notation is used to describe moves in a game, while FEN is used to describe a position in the game.  The two do not server the same function.","body":"I don&#39;t understand what you are trying to do.  Algebraic notation is used to describe moves in a game, while FEN is used to describe a position in the game.  The two do not server the same function."},{"owner":{"account_id":13923517,"reputation":569,"user_id":10053379,"display_name":"Patola"},"score":1,"creation_date":1633587316,"post_id":69474032,"comment_id":122800099,"body_markdown":"@kw1jybo, once you execute the move order on  Algebraic notation, it will place the pieces on the board in a certain way (which can be described with FEN). That is what I am looking for, all piece positions on the board after executing  Algebraic notation.\nexample \nhttps://www.dcode.fr/chess-notation","body":"@kw1jybo, once you execute the move order on  Algebraic notation, it will place the pieces on the board in a certain way (which can be described with FEN). That is what I am looking for, all piece positions on the board after executing  Algebraic notation. example  <a href=\"https://www.dcode.fr/chess-notation\" rel=\"nofollow noreferrer\">dcode.fr/chess-notation</a>"},{"owner":{"account_id":2258335,"reputation":7818,"user_id":3403834,"display_name":"user58697"},"score":0,"creation_date":1633645201,"post_id":69474032,"comment_id":122822302,"body_markdown":"What exactly is challenging about algebraic notation? BTW, you _should care about the move order, otherwise you can&#39;t reliable determine the castling rights, and the possibility of en passant. So, just play the moves.","body":"What exactly is challenging about algebraic notation? BTW, you _should care about the move order, otherwise you can&#39;t reliable determine the castling rights, and the possibility of en passant. So, just play the moves."},{"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1633653309,"post_id":69474032,"comment_id":122823619,"body_markdown":"There is no shortcut.  You have to program an engine that can list possible moves, and match which possible move matches the one you do next, then can figure out what happened, and output the new board state.  For example your Nf6 could be written as Nf6, Ngf6, N8f6 or Nf8f6. (A game which requires the last would be seriously weird.) It needs to know the full rules of chess to do that.","body":"There is no shortcut.  You have to program an engine that can list possible moves, and match which possible move matches the one you do next, then can figure out what happened, and output the new board state.  For example your Nf6 could be written as Nf6, Ngf6, N8f6 or Nf8f6. (A game which requires the last would be seriously weird.) It needs to know the full rules of chess to do that."},{"owner":{"account_id":13923517,"reputation":569,"user_id":10053379,"display_name":"Patola"},"score":0,"creation_date":1633656494,"post_id":69474032,"comment_id":122824066,"body_markdown":"thanks for the responses. I was able to find a solution using an existing lib. https://github.com/NoNamePro0/Chess.Core","body":"thanks for the responses. I was able to find a solution using an existing lib. <a href=\"https://github.com/NoNamePro0/Chess.Core\" rel=\"nofollow noreferrer\">github.com/NoNamePro0/Chess.Core</a>"}],"owner":{"account_id":13923517,"reputation":569,"user_id":10053379,"display_name":"Patola"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633589449,"creation_date":1633566148,"question_id":69474032,"body_markdown":"I am looking for an algorithm I can use to convert the algebraic chess notations to a matrix format or FEN notation that can be programmed in C#? \r\n\r\n\r\nSample algebraic notation ([info][1]) input\r\n\r\n    1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. cxd5 Nxd5 5. e4 Nxc3 6. bxc3 Bg7 7. Be3 c5 8. Rc1 O-O 9. Qd2 e5 10. d5 Qd6 11. f3 f5 12. Qc2 Nd7 13. Nh3 f4 14. Bd2 Nb6 15. Nf2 c4 16. Be2 Bd7 17. O-O Qc7 18. Rb1 Nc8 19. a4 Rf6 20. Rb4 Nd6 21. Rfb1 g5 22. Qa2 Rc8 23. a5 h5 24. h3 Rg6 25. Kf1 Bf6 26. Bd1 Bd8 27. Ra1 Rb8 28. Be1 b5 29. axb6 axb6 30. Qb1 Qb7 31. Rb2 b5 32. Rba2 Bb6 33. Ra6 Kf7 34. R1a2 Rgg8 35. Qa1 Qc7 36. Be2 Bc8 37. Ra8 Rxa8 38. Rxa8 Qc5 39. Qa3 Bd7 40. Qxc5 Bxc5 41. Ra6 Ke7 42. Nd1 Rb8 43. Bf2 Bxf2 44. Kxf2 g4 45. h4 b4 46. cxb4 Rxb4 47. Ke1 g3 48. Ra8 Bc8 49. Kd2 Rb6 50. Kc2 Rb7 51. Nb2 Rc7 52. Ra4 Bd7 53. Rb4 Ra7 54. Nxc4 Nxc4 55. Bxc4 Ra1 56. Rb6 Rg1 57. Rh6 Rxg2+ 58. Kc3 Rf2 59. d6+ Kf8 60. Rg6 Rxf3+ 61. Kb4\r\n\r\noutput should be \r\nFEN\r\n\r\n    5k2/3b4/3P2R1/4p2p/1KB1Pp1P/5rp1/8/8 b - - 1 61\r\n\r\nOr \r\n\r\n    --\t--\t--\t--\t--\tbK\t--\t--\r\n    --\t--\t--\tbB\t--\t--\t--\t--\r\n    --\t--\t--\twp\t--\t--\twR\t--\r\n    --\t--\t--\t--\tbp\t--\t--\tbp\r\n    --\twK\twB\t--\twp\tbp\t--\twp\r\n    --\t--\t--\t--\t--\tbR\tbp\t--\r\n    --\t--\t--\t--\t--\t--\t--\t--\r\n    --\t--\t--\t--\t--\t--\t--\t--\r\n\r\nAt the moment I can convert FEN to above board notation, but algebraic notation is far more challenging. I am only after final board structure, I don&#39;t care about move order.\r\n\r\n\r\n  [1]: https://www.chess.com/article/view/chess-notation#algebraic-notation","title":"Algorithm to convert algebraic chess notations to a board layout or FEN notation","body":"<p>I am looking for an algorithm I can use to convert the algebraic chess notations to a matrix format or FEN notation that can be programmed in C#?</p>\n<p>Sample algebraic notation (<a href=\"https://www.chess.com/article/view/chess-notation#algebraic-notation\" rel=\"nofollow noreferrer\">info</a>) input</p>\n<pre><code>1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. cxd5 Nxd5 5. e4 Nxc3 6. bxc3 Bg7 7. Be3 c5 8. Rc1 O-O 9. Qd2 e5 10. d5 Qd6 11. f3 f5 12. Qc2 Nd7 13. Nh3 f4 14. Bd2 Nb6 15. Nf2 c4 16. Be2 Bd7 17. O-O Qc7 18. Rb1 Nc8 19. a4 Rf6 20. Rb4 Nd6 21. Rfb1 g5 22. Qa2 Rc8 23. a5 h5 24. h3 Rg6 25. Kf1 Bf6 26. Bd1 Bd8 27. Ra1 Rb8 28. Be1 b5 29. axb6 axb6 30. Qb1 Qb7 31. Rb2 b5 32. Rba2 Bb6 33. Ra6 Kf7 34. R1a2 Rgg8 35. Qa1 Qc7 36. Be2 Bc8 37. Ra8 Rxa8 38. Rxa8 Qc5 39. Qa3 Bd7 40. Qxc5 Bxc5 41. Ra6 Ke7 42. Nd1 Rb8 43. Bf2 Bxf2 44. Kxf2 g4 45. h4 b4 46. cxb4 Rxb4 47. Ke1 g3 48. Ra8 Bc8 49. Kd2 Rb6 50. Kc2 Rb7 51. Nb2 Rc7 52. Ra4 Bd7 53. Rb4 Ra7 54. Nxc4 Nxc4 55. Bxc4 Ra1 56. Rb6 Rg1 57. Rh6 Rxg2+ 58. Kc3 Rf2 59. d6+ Kf8 60. Rg6 Rxf3+ 61. Kb4\n</code></pre>\n<p>output should be\nFEN</p>\n<pre><code>5k2/3b4/3P2R1/4p2p/1KB1Pp1P/5rp1/8/8 b - - 1 61\n</code></pre>\n<p>Or</p>\n<pre><code>--  --  --  --  --  bK  --  --\n--  --  --  bB  --  --  --  --\n--  --  --  wp  --  --  wR  --\n--  --  --  --  bp  --  --  bp\n--  wK  wB  --  wp  bp  --  wp\n--  --  --  --  --  bR  bp  --\n--  --  --  --  --  --  --  --\n--  --  --  --  --  --  --  --\n</code></pre>\n<p>At the moment I can convert FEN to above board notation, but algebraic notation is far more challenging. I am only after final board structure, I don't care about move order.</p>\n"},{"tags":["java","cron","quartz-scheduler"],"comments":[{"owner":{"account_id":20967474,"reputation":873,"user_id":15405352,"display_name":"Anil Parshi"},"score":0,"creation_date":1633587411,"post_id":69476212,"comment_id":122800135,"body_markdown":"Is it for the last day of the month or 28th in FEB and 30 in all other?","body":"Is it for the last day of the month or 28th in FEB and 30 in all other?"},{"owner":{"account_id":22795094,"reputation":25,"user_id":16948779,"display_name":"Leah"},"score":0,"creation_date":1633587726,"post_id":69476212,"comment_id":122800234,"body_markdown":"28th in FEB and 30 in all other","body":"28th in FEB and 30 in all other"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1633593200,"post_id":69476212,"comment_id":122802106,"body_markdown":"I&#39;m not sure this is possible with one expression since  you&#39;d need to use an &quot;xor&quot; construct. You could try 2 expressions: 1 for  the last day of Feb (using `L`) and one for 30th of every month except Feb.","body":"I&#39;m not sure this is possible with one expression since  you&#39;d need to use an &quot;xor&quot; construct. You could try 2 expressions: 1 for  the last day of Feb (using <code>L</code>) and one for 30th of every month except Feb."}],"answers":[{"tags":[],"owner":{"account_id":20967474,"reputation":873,"user_id":15405352,"display_name":"Anil Parshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633589113,"creation_date":1633588582,"answer_id":69476443,"question_id":69476212,"body_markdown":"My approach for this would be,&lt;br&gt;\r\nRunning a CRON for the 3 days of every month starting from 28.&lt;br&gt;\r\nwhich are 28,29,30 (29 for Leap year if needed)&lt;br&gt;\r\nand put a condition in the program to find out if the month is February and perform the actions accordingly,\r\n\r\nCron Expression for that would be,\r\n\r\n    00 00 28,29,30 * * \r\n\r\nHere is the logic:\r\n    \r\n     if the month is Feb {\r\n           check if Date is last date of the month\r\n           {\r\n              ​perform required action\r\n           }        \r\n     }\r\n     else if the date is 30th of month\r\n     {\r\n         perform required action\r\n     }\r\n\r\nHope this helps, Since I don&#39;t work with Java I have given just the logic\r\n","title":"Quartz cron - running on previous date in case day does not exist","body":"<p>My approach for this would be,<br>\nRunning a CRON for the 3 days of every month starting from 28.<br>\nwhich are 28,29,30 (29 for Leap year if needed)<br>\nand put a condition in the program to find out if the month is February and perform the actions accordingly,</p>\n<p>Cron Expression for that would be,</p>\n<pre><code>00 00 28,29,30 * * \n</code></pre>\n<p>Here is the logic:</p>\n<pre><code> if the month is Feb {\n       check if Date is last date of the month\n       {\n          ​perform required action\n       }        \n }\n else if the date is 30th of month\n {\n     perform required action\n }\n</code></pre>\n<p>Hope this helps, Since I don't work with Java I have given just the logic</p>\n"}],"owner":{"account_id":22795094,"reputation":25,"user_id":16948779,"display_name":"Leah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69476443,"answer_count":1,"score":0,"last_activity_date":1633589113,"creation_date":1633587087,"question_id":69476212,"body_markdown":"I&#39;m trying to write a cron expression for quartz scheduler. \r\n\r\nThe requirement is that in case the day of month does not exists (like 30)- the job will run at the closest day instead.\r\n\r\nFor example: on February it will run on 28 but on November- on 30.\r\n\r\nI saw the answer here: [quartz-cron-what-if-the-day-of-month-does-not-exist][1] but is there any better way to perform it?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8560721/quartz-cron-what-if-the-day-of-month-does-not-exist","title":"Quartz cron - running on previous date in case day does not exist","body":"<p>I'm trying to write a cron expression for quartz scheduler.</p>\n<p>The requirement is that in case the day of month does not exists (like 30)- the job will run at the closest day instead.</p>\n<p>For example: on February it will run on 28 but on November- on 30.</p>\n<p>I saw the answer here: <a href=\"https://stackoverflow.com/questions/8560721/quartz-cron-what-if-the-day-of-month-does-not-exist\">quartz-cron-what-if-the-day-of-month-does-not-exist</a> but is there any better way to perform it?</p>\n"},{"tags":["java","io"],"answers":[{"tags":[],"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1633589014,"creation_date":1350845274,"answer_id":13000978,"question_id":13000937,"body_markdown":"For input, try below:\r\n\r\n         InputStreamReader isReader = \r\n                          new InputStreamReader(\r\n                              this.getClass().getResourceAsStream(templateName));\r\n          BufferedReader br = new BufferedReader(isReader);     \r\n\r\nor \r\n\r\n         InputStreamReader isReader = \r\n                          new InputStreamReader(\r\n                              &lt;youclassName&gt;.class.getResourceAsStream(templateName));\r\n          BufferedReader br = new BufferedReader(isReader);   \r\n\r\n\r\nFor output, try below:\r\n\r\n          PrintWriter writer = \r\n                   new PrintWriter(\r\n                         new File(this.getClass().getResource(templateName).getPath()));\r\n ","title":"Read and Write to Java file via Resource","body":"<p>For input, try below:</p>\n<pre><code>     InputStreamReader isReader = \n                      new InputStreamReader(\n                          this.getClass().getResourceAsStream(templateName));\n      BufferedReader br = new BufferedReader(isReader);     \n</code></pre>\n<p>or</p>\n<pre><code>     InputStreamReader isReader = \n                      new InputStreamReader(\n                          &lt;youclassName&gt;.class.getResourceAsStream(templateName));\n      BufferedReader br = new BufferedReader(isReader);   \n</code></pre>\n<p>For output, try below:</p>\n<pre><code>      PrintWriter writer = \n               new PrintWriter(\n                     new File(this.getClass().getResource(templateName).getPath()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078468,"reputation":2637,"user_id":1851138,"accept_rate":75,"display_name":"chaiyachaiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417012739,"creation_date":1417012739,"answer_id":27151858,"question_id":13000937,"body_markdown":"More simply, \r\n\r\n     try (BufferedReader bufferedReader = Files.newBufferedReader(Paths.get(Resources.getResource(&quot;path&quot;).toURI()))) {\r\n            //bufferedReader...\r\n        }\r\n        try (BufferedWriter bufferedWriter = Files.newBufferedWriter(Paths.get(Resources.getResource(&quot;path&quot;).toURI()))) {\r\n            //bufferedWriter...\r\n        }\r\n\r\nNote that the path is relative to the resources folder. ","title":"Read and Write to Java file via Resource","body":"<p>More simply, </p>\n\n<pre><code> try (BufferedReader bufferedReader = Files.newBufferedReader(Paths.get(Resources.getResource(\"path\").toURI()))) {\n        //bufferedReader...\n    }\n    try (BufferedWriter bufferedWriter = Files.newBufferedWriter(Paths.get(Resources.getResource(\"path\").toURI()))) {\n        //bufferedWriter...\n    }\n</code></pre>\n\n<p>Note that the path is relative to the resources folder. </p>\n"},{"tags":[],"owner":{"account_id":6537188,"reputation":2325,"user_id":5303558,"display_name":"Dmytro Melnychuk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1475818439,"creation_date":1475818439,"answer_id":39910111,"question_id":13000937,"body_markdown":"All solution above show how you can receive access to your resources in **build folder**. It means that resources have been moved to build directory with **.class** files.  \r\nIf you need to write some files into resources for saving them after terminated program, then you will have to describe path starting with root project: \r\n\r\n&gt; ./src/main/resources/foo.ext\r\n\r\nThis solving generally not recommended but may be necessary in other cases.","title":"Read and Write to Java file via Resource","body":"<p>All solution above show how you can receive access to your resources in <strong>build folder</strong>. It means that resources have been moved to build directory with <strong>.class</strong> files.<br>\nIf you need to write some files into resources for saving them after terminated program, then you will have to describe path starting with root project: </p>\n\n<blockquote>\n  <p>./src/main/resources/foo.ext</p>\n</blockquote>\n\n<p>This solving generally not recommended but may be necessary in other cases.</p>\n"}],"owner":{"account_id":179422,"reputation":28517,"user_id":412082,"accept_rate":97,"display_name":"CodeGuy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55647,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":13000978,"answer_count":3,"score":25,"last_activity_date":1633589014,"creation_date":1350844988,"question_id":13000937,"body_markdown":"I&#39;m trying to read and write to a file but I&#39;d like to access that file via Resource.\r\n\r\nThis is what I do\r\n\r\n    File f = new File(ClassLoader.getSystemResource(&quot;/blah/blah/Properties.prop&quot;).toURI());\r\n    BufferedReader br = new BufferedReader(new FileReader(f));\r\n    String line = br.readLine();\r\n\r\n    PrintWriter p = new PrintWriter(new File(ClassLoader.getSystemResource(&quot;/blah/blah/Properties.prop&quot;).toURI()));\r\n\r\n\r\nbut neither seems correct. What is the correct way to do this?\r\n","title":"Read and Write to Java file via Resource","body":"<p>I'm trying to read and write to a file but I'd like to access that file via Resource.</p>\n\n<p>This is what I do</p>\n\n<pre><code>File f = new File(ClassLoader.getSystemResource(\"/blah/blah/Properties.prop\").toURI());\nBufferedReader br = new BufferedReader(new FileReader(f));\nString line = br.readLine();\n\nPrintWriter p = new PrintWriter(new File(ClassLoader.getSystemResource(\"/blah/blah/Properties.prop\").toURI()));\n</code></pre>\n\n<p>but neither seems correct. What is the correct way to do this?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1633526819,"post_id":69462912,"comment_id":122783091,"body_markdown":"This should not be the case. `mvn verify` should work.","body":"This should not be the case. <code>mvn verify</code> should work."},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":0,"creation_date":1633542284,"post_id":69462912,"comment_id":122789788,"body_markdown":"What version of Maven, and are plugin versions reasonably current?","body":"What version of Maven, and are plugin versions reasonably current?"},{"owner":{"account_id":2700381,"reputation":1167,"user_id":2331225,"accept_rate":75,"display_name":"Dhaval D"},"score":0,"creation_date":1633588965,"post_id":69462912,"comment_id":122800618,"body_markdown":"Edited question to mention maven version","body":"Edited question to mention maven version"}],"owner":{"account_id":2700381,"reputation":1167,"user_id":2331225,"accept_rate":75,"display_name":"Dhaval D"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1633588933,"creation_date":1633511654,"question_id":69462912,"body_markdown":"Short version:\r\nDoes `mvn compile` and `mvn verify` compile the code in the same way?\r\n\r\nProblem:\r\n\r\nI have a multimodule project. And using Maven v3.6.\r\n\r\nPOM looks like this:\r\n\r\n```\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;common&lt;/module&gt;\r\n\t\t&lt;module&gt;server&lt;/module&gt;\r\n\t\t&lt;module&gt;plugins&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n\r\n```\r\n\r\nA class in server module got modified where a new method got added.\r\nA class in plugins module is calling that method.\r\n\r\nBuild is successful with following maven commands:\r\n\r\n```\r\nmvn clean\r\nmvn compile\r\nmvn -DskipTests verify\r\n\r\n```\r\n\r\nbut compilation of `plugin` module fails when we run:\r\n\r\n```\r\n\r\nmvn clean\r\nmvn -DskipTests verify\r\n\r\n```\r\nwith an error that complains about not finding new method in `server` module class:\r\n\r\n```\r\nerror: cannot find symbol\r\n\r\n```\r\n\r\nSo, why is this difference in behaviour. As per [this documentation](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#usual-command-line-calls) `verify` should first call `compile`. So effectively the same thing as first version of commands.\r\n\r\n**Notes:**\r\n\r\n - Also fails `mvn -DskipTests compile verify`\r\n - Successfully builds : `mvn -DskipTests install`\r\n\r\nI do not want to resort to `mvn install` as advice against over [here](https://andresalmiray.com/maven-verify-or-clean-install/)\r\n\r\nRegards","title":"Why is there a difference in Java code compilation: mvn verify vs mvn compile","body":"<p>Short version:\nDoes <code>mvn compile</code> and <code>mvn verify</code> compile the code in the same way?</p>\n<p>Problem:</p>\n<p>I have a multimodule project. And using Maven v3.6.</p>\n<p>POM looks like this:</p>\n<pre><code>    &lt;modules&gt;\n        &lt;module&gt;common&lt;/module&gt;\n        &lt;module&gt;server&lt;/module&gt;\n        &lt;module&gt;plugins&lt;/module&gt;\n    &lt;/modules&gt;\n\n</code></pre>\n<p>A class in server module got modified where a new method got added.\nA class in plugins module is calling that method.</p>\n<p>Build is successful with following maven commands:</p>\n<pre><code>mvn clean\nmvn compile\nmvn -DskipTests verify\n\n</code></pre>\n<p>but compilation of <code>plugin</code> module fails when we run:</p>\n<pre><code>\nmvn clean\nmvn -DskipTests verify\n\n</code></pre>\n<p>with an error that complains about not finding new method in <code>server</code> module class:</p>\n<pre><code>error: cannot find symbol\n\n</code></pre>\n<p>So, why is this difference in behaviour. As per <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#usual-command-line-calls\" rel=\"nofollow noreferrer\">this documentation</a> <code>verify</code> should first call <code>compile</code>. So effectively the same thing as first version of commands.</p>\n<p><strong>Notes:</strong></p>\n<ul>\n<li>Also fails <code>mvn -DskipTests compile verify</code></li>\n<li>Successfully builds : <code>mvn -DskipTests install</code></li>\n</ul>\n<p>I do not want to resort to <code>mvn install</code> as advice against over <a href=\"https://andresalmiray.com/maven-verify-or-clean-install/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Regards</p>\n"},{"tags":["java","cron","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":1111512,"reputation":99,"user_id":1101901,"display_name":"Ramakanth77"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1324295037,"creation_date":1324295037,"answer_id":8560814,"question_id":8560721,"body_markdown":"L (&quot;last&quot;) - has different meaning in each of the two fields in which it is allowed. For example, the value &quot;L&quot; in the day-of-month field means &quot;the last day of the month&quot; - day 31 for January, day 28 for February on non-leap years. If used in the day-of-week field by itself, it simply means &quot;7&quot; or &quot;SAT&quot;. But if used in the day-of-week field after another value, it means &quot;the last xxx day of the month&quot; - for example &quot;6L&quot; means &quot;the last friday of the month&quot;. When using the &#39;L&#39; option, it is important not to specify lists, or ranges of values, as you&#39;ll get confusing results.\r\n\r\nYou can use this to specify instead of specifying 30 in your corn job directly.\r\n\r\nhttp://www.quartz-scheduler.org/documentation/quartz-1.x/tutorials/crontrigger\r\n\r\nCheck for Special characters.\r\n\r\nThanks.","title":"Quartz cron - what if the day of month does not exist?","body":"<p>L (\"last\") - has different meaning in each of the two fields in which it is allowed. For example, the value \"L\" in the day-of-month field means \"the last day of the month\" - day 31 for January, day 28 for February on non-leap years. If used in the day-of-week field by itself, it simply means \"7\" or \"SAT\". But if used in the day-of-week field after another value, it means \"the last xxx day of the month\" - for example \"6L\" means \"the last friday of the month\". When using the 'L' option, it is important not to specify lists, or ranges of values, as you'll get confusing results.</p>\n\n<p>You can use this to specify instead of specifying 30 in your corn job directly.</p>\n\n<p><a href=\"http://www.quartz-scheduler.org/documentation/quartz-1.x/tutorials/crontrigger\" rel=\"noreferrer\">http://www.quartz-scheduler.org/documentation/quartz-1.x/tutorials/crontrigger</a></p>\n\n<p>Check for Special characters.</p>\n\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":4810247,"reputation":2473,"user_id":3883957,"accept_rate":78,"display_name":"yishaiz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413118036,"creation_date":1413115239,"answer_id":26324896,"question_id":8560721,"body_markdown":"It won&#39;t run. If you want it to run in the 28th in case of February, you have to create multiple CronExpressions for each case of days in month, and a trigger for each one, and then add all the triggers to your required Job. \r\n\r\nThis is what I have done:\r\n\r\nCronExpressions creation:\r\n\r\n    public static List&lt;CronExpression&gt; getCronExpressionList(int seconds, int minutes,\r\n                int hours, int dayInMonth, Month month,\r\n    \t\t\tDayOfWeek dayOfWeek) {\r\n        final String monthsWith30Days = Month.APR + &quot;,&quot; + Month.JUN + &quot;,&quot;\r\n        \t\t\t\t+ Month.SEP + &quot;,&quot; + Month.NOV;\r\n        List&lt;CronExpression&gt; crons = new LinkedList&lt;CronExpression&gt;();\r\n        \r\n        String timeString = String.format((&quot;%s %s %s &quot;), seconds, minutes,\r\n        \t\t\t\thours, 0, 0, 0);\r\n        String dateString = &quot;%s %s %s&quot;;\r\n        String cron = null;\r\n        \r\n        cron = timeString + String.format(dateString, dayInMonth, &quot;*&quot;, &quot;?&quot;);\r\n        crons.add(new CronExpression(cron));\r\n        if (dayInMonth &gt; 28) {\r\n        \tString febCron = timeString + getFebruarLastDayDateString(dateString);\r\n        \tcrons.add(new CronExpression(febCron));\r\n        \tif (dayInMonth == 31) {\r\n        \t\tString monthsWithThirtyDaysCron = timeString + String.format(dateString,\r\n        \t\t\t\t&quot;L&quot;, monthsWith30Days, &quot;?&quot;);\r\n        \t\tcrons.add(new CronExpression(monthsWithThirtyDaysCron));\r\n        \t}\r\n        }\r\n        return crons;\r\n    }\r\n\r\n    private static String getFebruarLastDayDateString(String initialCron) \r\n                   throws ParseException {\r\n        return String.format(initialCron, &quot;L&quot;, Month.FEB, &quot;?&quot;);\r\n    }\r\n\r\nTrigger creation:\r\n\r\n   \r\n\r\n            Set&lt;CronTrigger&gt; triggers = new HashSet&lt;&gt;();\r\n    \r\n    \t\tint i = 1;\r\n    \t\tfor (CronExpression cronEx : cronsList) {\r\n    \t\t\tCronTrigger trigger = newTrigger()\r\n    \t\t\t\t    .withIdentity(&quot;trigger&quot; + i, groupName)\r\n    \t\t\t\t    .withSchedule(cronSchedule(cronEx))\r\n    \t\t\t\t    .build();\r\n    \t\t\t\ttriggers.add(trigger);\r\n    \t\t\t\ti++;\r\n    \t\t}","title":"Quartz cron - what if the day of month does not exist?","body":"<p>It won't run. If you want it to run in the 28th in case of February, you have to create multiple CronExpressions for each case of days in month, and a trigger for each one, and then add all the triggers to your required Job. </p>\n\n<p>This is what I have done:</p>\n\n<p>CronExpressions creation:</p>\n\n<pre><code>public static List&lt;CronExpression&gt; getCronExpressionList(int seconds, int minutes,\n            int hours, int dayInMonth, Month month,\n            DayOfWeek dayOfWeek) {\n    final String monthsWith30Days = Month.APR + \",\" + Month.JUN + \",\"\n                    + Month.SEP + \",\" + Month.NOV;\n    List&lt;CronExpression&gt; crons = new LinkedList&lt;CronExpression&gt;();\n\n    String timeString = String.format((\"%s %s %s \"), seconds, minutes,\n                    hours, 0, 0, 0);\n    String dateString = \"%s %s %s\";\n    String cron = null;\n\n    cron = timeString + String.format(dateString, dayInMonth, \"*\", \"?\");\n    crons.add(new CronExpression(cron));\n    if (dayInMonth &gt; 28) {\n        String febCron = timeString + getFebruarLastDayDateString(dateString);\n        crons.add(new CronExpression(febCron));\n        if (dayInMonth == 31) {\n            String monthsWithThirtyDaysCron = timeString + String.format(dateString,\n                    \"L\", monthsWith30Days, \"?\");\n            crons.add(new CronExpression(monthsWithThirtyDaysCron));\n        }\n    }\n    return crons;\n}\n\nprivate static String getFebruarLastDayDateString(String initialCron) \n               throws ParseException {\n    return String.format(initialCron, \"L\", Month.FEB, \"?\");\n}\n</code></pre>\n\n<p>Trigger creation:</p>\n\n<pre><code>        Set&lt;CronTrigger&gt; triggers = new HashSet&lt;&gt;();\n\n        int i = 1;\n        for (CronExpression cronEx : cronsList) {\n            CronTrigger trigger = newTrigger()\n                    .withIdentity(\"trigger\" + i, groupName)\n                    .withSchedule(cronSchedule(cronEx))\n                    .build();\n                triggers.add(trigger);\n                i++;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3109201,"reputation":113,"user_id":2631346,"accept_rate":25,"display_name":"alexadr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414412849,"creation_date":1414311750,"answer_id":26571139,"question_id":8560721,"body_markdown":"check simple code\r\n\r\n    public class TestCronTrigger {\r\n\r\n        private static final SimpleDateFormat DATE_FORMAT = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\r\n        public static void main(String[] args) throws Exception {\r\n\r\n            String dateStr = &quot;2015-02-10&quot;;\r\n            String cron = &quot;0 0 0 31 * ?&quot;;\r\n            Date nextFireTime = getNextFireTimeFromDateForCron(DATE_FORMAT.parse(dateStr), cron);\r\n            System.out.println(String.format(&quot;For cron &#39;%s&#39; next fire time after &#39;%s&#39; will be &#39;%s&#39;&quot;, cron, dateStr, DATE_FORMAT.format(nextFireTime)));\r\n\r\n            dateStr = &quot;2015-02-10&quot;;\r\n            cron = &quot;0 0 0 30 * ?&quot;;\r\n            nextFireTime = getNextFireTimeFromDateForCron(DATE_FORMAT.parse(dateStr), cron);\r\n            System.out.println(String.format(&quot;For cron &#39;%s&#39; next fire time after &#39;%s&#39; will be &#39;%s&#39;&quot;, cron, dateStr, DATE_FORMAT.format(nextFireTime)));\r\n\r\n            dateStr = &quot;2015-02-10&quot;;\r\n            cron = &quot;0 0 0 28 * ?&quot;;\r\n            nextFireTime = getNextFireTimeFromDateForCron(DATE_FORMAT.parse(dateStr), cron);\r\n            System.out.println(String.format(&quot;For cron &#39;%s&#39; next fire time after &#39;%s&#39; will be &#39;%s&#39;&quot;, cron, dateStr, DATE_FORMAT.format(nextFireTime)));\r\n\r\n            dateStr = &quot;2015-03-10&quot;;\r\n            cron = &quot;0 0 0 31 * ?&quot;;\r\n            nextFireTime = getNextFireTimeFromDateForCron(DATE_FORMAT.parse(dateStr), cron);\r\n            System.out.println(String.format(&quot;For cron &#39;%s&#39; next fire time after &#39;%s&#39; will be &#39;%s&#39;&quot;, cron, dateStr, DATE_FORMAT.format(nextFireTime)));\r\n\r\n        }\r\n\r\n        static Date getNextFireTimeFromDateForCron(Date from, String cron) throws ParseException {\r\n            CronTriggerImpl cronTrigger = new CronTriggerImpl();\r\n            cronTrigger.setCronExpression(cron);\r\n            cronTrigger.setStartTime(from);\r\n            return cronTrigger.computeFirstFireTime(null);\r\n        }\r\n    }\r\n\r\nFor this code the output will be:\r\n\r\n    For cron &#39;0 0 0 31 * ?&#39; next fire time after &#39;2015-02-10&#39; will be &#39;2015-03-31&#39;\r\n    For cron &#39;0 0 0 30 * ?&#39; next fire time after &#39;2015-02-10&#39; will be &#39;2015-03-30&#39;\r\n    For cron &#39;0 0 0 28 * ?&#39; next fire time after &#39;2015-02-10&#39; will be &#39;2015-02-28&#39;\r\n    For cron &#39;0 0 0 31 * ?&#39; next fire time after &#39;2015-03-10&#39; will be &#39;2015-03-31&#39;\r\n\r\n\r\nplaying with arguments you can find answers\r\n","title":"Quartz cron - what if the day of month does not exist?","body":"<p>check simple code</p>\n\n<pre><code>public class TestCronTrigger {\n\n    private static final SimpleDateFormat DATE_FORMAT = new SimpleDateFormat(\"yyyy-MM-dd\");\n\n    public static void main(String[] args) throws Exception {\n\n        String dateStr = \"2015-02-10\";\n        String cron = \"0 0 0 31 * ?\";\n        Date nextFireTime = getNextFireTimeFromDateForCron(DATE_FORMAT.parse(dateStr), cron);\n        System.out.println(String.format(\"For cron '%s' next fire time after '%s' will be '%s'\", cron, dateStr, DATE_FORMAT.format(nextFireTime)));\n\n        dateStr = \"2015-02-10\";\n        cron = \"0 0 0 30 * ?\";\n        nextFireTime = getNextFireTimeFromDateForCron(DATE_FORMAT.parse(dateStr), cron);\n        System.out.println(String.format(\"For cron '%s' next fire time after '%s' will be '%s'\", cron, dateStr, DATE_FORMAT.format(nextFireTime)));\n\n        dateStr = \"2015-02-10\";\n        cron = \"0 0 0 28 * ?\";\n        nextFireTime = getNextFireTimeFromDateForCron(DATE_FORMAT.parse(dateStr), cron);\n        System.out.println(String.format(\"For cron '%s' next fire time after '%s' will be '%s'\", cron, dateStr, DATE_FORMAT.format(nextFireTime)));\n\n        dateStr = \"2015-03-10\";\n        cron = \"0 0 0 31 * ?\";\n        nextFireTime = getNextFireTimeFromDateForCron(DATE_FORMAT.parse(dateStr), cron);\n        System.out.println(String.format(\"For cron '%s' next fire time after '%s' will be '%s'\", cron, dateStr, DATE_FORMAT.format(nextFireTime)));\n\n    }\n\n    static Date getNextFireTimeFromDateForCron(Date from, String cron) throws ParseException {\n        CronTriggerImpl cronTrigger = new CronTriggerImpl();\n        cronTrigger.setCronExpression(cron);\n        cronTrigger.setStartTime(from);\n        return cronTrigger.computeFirstFireTime(null);\n    }\n}\n</code></pre>\n\n<p>For this code the output will be:</p>\n\n<pre><code>For cron '0 0 0 31 * ?' next fire time after '2015-02-10' will be '2015-03-31'\nFor cron '0 0 0 30 * ?' next fire time after '2015-02-10' will be '2015-03-30'\nFor cron '0 0 0 28 * ?' next fire time after '2015-02-10' will be '2015-02-28'\nFor cron '0 0 0 31 * ?' next fire time after '2015-03-10' will be '2015-03-31'\n</code></pre>\n\n<p>playing with arguments you can find answers</p>\n"},{"tags":[],"owner":{"account_id":12059579,"reputation":1,"user_id":8819091,"display_name":"Rasheed Ahamad Md"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560518848,"creation_date":1560518384,"answer_id":56599068,"question_id":8560721,"body_markdown":"The below code calculates the next fire date for the last day of every month\r\n\r\n    static Date getNextFireTimeFromDateForCron() throws ParseException {\r\n        CronTriggerImpl cronTrigger = new CronTriggerImpl();\r\n        cronTrigger.setCronExpression(&quot;0 15 15 L * ?&quot;);\r\n        cronTrigger.setStartTime(new Date());\r\n        return cronTrigger.computeFirstFireTime(null);\r\n    }","title":"Quartz cron - what if the day of month does not exist?","body":"<p>The below code calculates the next fire date for the last day of every month</p>\n\n<pre><code>static Date getNextFireTimeFromDateForCron() throws ParseException {\n    CronTriggerImpl cronTrigger = new CronTriggerImpl();\n    cronTrigger.setCronExpression(\"0 15 15 L * ?\");\n    cronTrigger.setStartTime(new Date());\n    return cronTrigger.computeFirstFireTime(null);\n}\n</code></pre>\n"}],"owner":{"account_id":481401,"reputation":15020,"user_id":895215,"accept_rate":64,"display_name":"dcernahoschi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4363,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":4,"score":6,"last_activity_date":1633588894,"creation_date":1324294563,"question_id":8560721,"body_markdown":"I&#39;m trying to write a simple cron expression for quartz scheduler. I want the job to run every month on day 30 at 3am.\r\n    \r\n    0 0 3 30 JAN-DEC ? *\r\n\r\nI wonder what happens for the month of February? Will the job run or not run?\r\n\r\nI&#39;m not looking for a last day of month solution, I need the user to select the day of month when the job will run (ideally once for all months).","title":"Quartz cron - what if the day of month does not exist?","body":"<p>I'm trying to write a simple cron expression for quartz scheduler. I want the job to run every month on day 30 at 3am.</p>\n\n<pre><code>0 0 3 30 JAN-DEC ? *\n</code></pre>\n\n<p>I wonder what happens for the month of February? Will the job run or not run?</p>\n\n<p>I'm not looking for a last day of month solution, I need the user to select the day of month when the job will run (ideally once for all months).</p>\n"},{"tags":["javascript","java","jquery","node.js","reactjs"],"answers":[{"tags":[],"owner":{"account_id":7888965,"reputation":755,"user_id":5959880,"display_name":"Nizar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633588851,"creation_date":1633588851,"answer_id":69476485,"question_id":69476244,"body_markdown":"Well cells don&#39;t take a fontSize prop. Thats why its not working for you.\r\nBut you can use `styled-components` to adjust the styling of the table. Check out the example below.\r\n\r\n    import React from &#39;react&#39;;\r\n    \r\n    import styled from &#39;styled-components&#39;;\r\n    \r\n    import DynamicTable from &#39;@atlaskit/dynamic-table&#39;;\r\n    \r\n    import { caption, head, rows } from &#39;./design-system/dynamic-table/examples/content/sample-data&#39;;\r\n    \r\n    const Wrapper = styled.div`\r\n      min-width: 600px;\r\n      td{font-size:30px}\r\n    `;\r\n    \r\n    // eslint-disable-next-line import/no-anonymous-default-export\r\n    export default class extends React.Component&lt;{}, {}&gt; {\r\n      render() {\r\n        return (\r\n          &lt;Wrapper&gt;\r\n            &lt;DynamicTable\r\n              caption={caption}\r\n              head={head}\r\n              rows={rows}\r\n              rowsPerPage={5}\r\n              defaultPage={1}\r\n              isFixedSize\r\n              defaultSortKey=&quot;term&quot;\r\n              defaultSortOrder=&quot;ASC&quot;\r\n              onSort={() =&gt; console.log(&#39;onSort&#39;)}\r\n              onSetPage={() =&gt; console.log(&#39;onSetPage&#39;)}\r\n            /&gt;\r\n          &lt;/Wrapper&gt;\r\n        );\r\n      }\r\n    }\r\n\r\nThe styled div `Wrapper` has taken a width attribute, but we can also nest styling attributes for elements inside of `Wrapper`. I&#39;ve added `font-size` styling for the `td` tags.\r\n\r\nCheck out the code on [CodeSandbox][1], add the `td{font-size:30px}` where I added it to see its effects. You can style whatever you want within the `Wrapper`, just make sure to add the correct classes / tags / id&#39;s.\r\n\r\nAnd check out the props that cells can actually take:\r\n\r\n[![enter image description here][2]][2]\r\n   \r\nSource of image: [@atlaskit/dynamic-table docs][3]\r\n\r\n\r\n  [1]: https://codesandbox.io/s/pw122?module=/example.tsx&amp;file=/example.tsx:0-828\r\n  [2]: https://i.stack.imgur.com/p0Sd3.png\r\n  [3]: https://atlaskit.atlassian.com/packages/design-system/dynamic-table","title":"Change font size of dynamic table header using react","body":"<p>Well cells don't take a fontSize prop. Thats why its not working for you.\nBut you can use <code>styled-components</code> to adjust the styling of the table. Check out the example below.</p>\n<pre><code>import React from 'react';\n\nimport styled from 'styled-components';\n\nimport DynamicTable from '@atlaskit/dynamic-table';\n\nimport { caption, head, rows } from './design-system/dynamic-table/examples/content/sample-data';\n\nconst Wrapper = styled.div`\n  min-width: 600px;\n  td{font-size:30px}\n`;\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default class extends React.Component&lt;{}, {}&gt; {\n  render() {\n    return (\n      &lt;Wrapper&gt;\n        &lt;DynamicTable\n          caption={caption}\n          head={head}\n          rows={rows}\n          rowsPerPage={5}\n          defaultPage={1}\n          isFixedSize\n          defaultSortKey=&quot;term&quot;\n          defaultSortOrder=&quot;ASC&quot;\n          onSort={() =&gt; console.log('onSort')}\n          onSetPage={() =&gt; console.log('onSetPage')}\n        /&gt;\n      &lt;/Wrapper&gt;\n    );\n  }\n}\n</code></pre>\n<p>The styled div <code>Wrapper</code> has taken a width attribute, but we can also nest styling attributes for elements inside of <code>Wrapper</code>. I've added <code>font-size</code> styling for the <code>td</code> tags.</p>\n<p>Check out the code on <a href=\"https://codesandbox.io/s/pw122?module=/example.tsx&amp;file=/example.tsx:0-828\" rel=\"nofollow noreferrer\">CodeSandbox</a>, add the <code>td{font-size:30px}</code> where I added it to see its effects. You can style whatever you want within the <code>Wrapper</code>, just make sure to add the correct classes / tags / id's.</p>\n<p>And check out the props that cells can actually take:</p>\n<p><a href=\"https://i.stack.imgur.com/p0Sd3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p0Sd3.png\" alt=\"enter image description here\" /></a></p>\n<p>Source of image: <a href=\"https://atlaskit.atlassian.com/packages/design-system/dynamic-table\" rel=\"nofollow noreferrer\">@atlaskit/dynamic-table docs</a></p>\n"}],"owner":{"account_id":17888121,"reputation":13,"user_id":12995281,"display_name":"Youssef Bouchara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1411,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69476485,"answer_count":1,"score":-1,"last_activity_date":1633588851,"creation_date":1633587303,"question_id":69476244,"body_markdown":"[![this is the output][1]][1]\r\n\r\nIm&#39; working on a project where we are creating a UI and i&#39;m trying to change the font size of my table&#39;s cells using react but whatever i do it doesn&#39;t seem to work... i tried using &quot;fontSize: 30,&quot; and also fontSize: &quot;30pt&quot;, but nothing seems to work\r\n```\r\n\r\nimport React, {Component} from &quot;react&quot;;\r\nimport DynamicTable from &#39;@atlaskit/dynamic-table&#39;;\r\n\r\nexport const caption = &#39;List of Addon Version&#39;;\r\n\r\nexport const createHead = (withWidth) =&gt; {\r\n\treturn {\r\n\t  cells: [\r\n\t\t{\r\n            \r\n          key: &#39;pluginName&#39;,\r\n          content: &#39;Plugin Name&#39;,\r\n          shouldTruncate: true,\r\n          isSortable: true,\r\n          fontSize: 30,\r\n          width: withWidth ? 25 : undefined,\r\n             \r\n\t\t},\r\n\t\t\r\n\t\t{\r\n      key: &#39;pluginVersion&#39;,\r\n\t\t  content: &#39;Plugin Version&#39;,\r\n\t\t  shouldTruncate: true,\r\n\t\t  isSortable: true,\r\n\t\t  width: withWidth ? 25 : undefined,\r\n      fontSize: 30,\r\n\t\t},\r\n\t\t{\r\n\t\t  key: &#39;jiraVersion&#39;,\r\n\t\t  content: &#39;Jira Version Group&#39;,\r\n\t\t  shouldTruncate: true,\r\n      width: withWidth ? 25 : undefined,\r\n      isSortable: true,\r\n      fontSize: 30,\r\n\t\t},\r\n        {\r\n     key: &#39;pluginKey&#39;,\r\n     content: &#39;Plugin Key&#39;,\r\n     shouldTruncate: true,\r\n     width: withWidth ? 25 : undefined,\r\n     fontSize: 30,\r\n        },\r\n\t  ],\r\n  };\r\n};\r\n```\r\ni would appreciate any ideas\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OJOlj.png","title":"Change font size of dynamic table header using react","body":"<p><a href=\"https://i.stack.imgur.com/OJOlj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OJOlj.png\" alt=\"this is the output\" /></a></p>\n<p>Im' working on a project where we are creating a UI and i'm trying to change the font size of my table's cells using react but whatever i do it doesn't seem to work... i tried using &quot;fontSize: 30,&quot; and also fontSize: &quot;30pt&quot;, but nothing seems to work</p>\n<pre><code>\nimport React, {Component} from &quot;react&quot;;\nimport DynamicTable from '@atlaskit/dynamic-table';\n\nexport const caption = 'List of Addon Version';\n\nexport const createHead = (withWidth) =&gt; {\n    return {\n      cells: [\n        {\n            \n          key: 'pluginName',\n          content: 'Plugin Name',\n          shouldTruncate: true,\n          isSortable: true,\n          fontSize: 30,\n          width: withWidth ? 25 : undefined,\n             \n        },\n        \n        {\n      key: 'pluginVersion',\n          content: 'Plugin Version',\n          shouldTruncate: true,\n          isSortable: true,\n          width: withWidth ? 25 : undefined,\n      fontSize: 30,\n        },\n        {\n          key: 'jiraVersion',\n          content: 'Jira Version Group',\n          shouldTruncate: true,\n      width: withWidth ? 25 : undefined,\n      isSortable: true,\n      fontSize: 30,\n        },\n        {\n     key: 'pluginKey',\n     content: 'Plugin Key',\n     shouldTruncate: true,\n     width: withWidth ? 25 : undefined,\n     fontSize: 30,\n        },\n      ],\n  };\n};\n</code></pre>\n<p>i would appreciate any ideas</p>\n"},{"tags":["java","c++","c","java-native-interface","jniwrapper"],"comments":[{"owner":{"account_id":14709065,"reputation":9457,"user_id":10622916,"display_name":"Bodo"},"score":3,"creation_date":1633519364,"post_id":69464342,"comment_id":122779740,"body_markdown":"Please [edit] your question and add some background information about what you want to achieve and a [mre]. What do you want to do with the pointer that was converted/mapped to an `uint64_t`? What exactly means &quot;none of those works out&quot;? Do you get an error message? Or an unexpected result? Your question might be an [XY problem](https://meta.stackexchange.com/a/66378)","body":"Please <a href=\"https://stackoverflow.com/posts/69464342/edit\">edit</a> your question and add some background information about what you want to achieve and a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. What do you want to do with the pointer that was converted/mapped to an <code>uint64_t</code>? What exactly means &quot;none of those works out&quot;? Do you get an error message? Or an unexpected result? Your question might be an <a href=\"https://meta.stackexchange.com/a/66378\">XY problem</a>"},{"owner":{"account_id":10275035,"reputation":100058,"user_id":7582247,"display_name":"Ted Lyngmo"},"score":3,"creation_date":1633520031,"post_id":69464342,"comment_id":122780040,"body_markdown":"That&#39;s not how a function pointer looks in C++. Not in C either.","body":"That&#39;s not how a function pointer looks in C++. Not in C either."}],"answers":[{"tags":[],"owner":{"account_id":13602926,"reputation":42,"user_id":15443986,"display_name":"S.Murtadha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633588777,"creation_date":1633588303,"answer_id":69476398,"question_id":69464342,"body_markdown":"A proper callback function will be:\r\n```\r\n[returnType] (*[nameOftheFunctionPtr])([parameters...]);\r\n```\r\n\r\nExample:\r\n\r\n```C\r\n\r\ntypedef uint8_t (*dataReader_t)(uint8_t* const buffer, uint8_t length);\r\n\r\n\r\ntypedef struct random_struct { \r\n\r\n    dataReader_t callback;  //!&lt; A function pointer to the callback\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nAnd you can have the following function which will be assigned to the callback:\r\n```C\r\nuint8_t ucReadFromBuffer(uint8_t* const buffer, uint8_t length){\r\n\r\n// do stuff ...\r\n// return uint8_t variable\r\n\r\n}\r\n```\r\n\r\nThen you can assign it in your code:\r\n```C\r\nrandom_struct myStruct = {.callback = ucReadFromBuffer};\r\n\r\n// and if you want to call it\r\nmyStruct.callback(someBuffer, length);\r\n// similar to\r\nucReadFromBuffer(someBuffer, length);\r\n```","title":"Mapping pointer to UInt64","body":"<p>A proper callback function will be:</p>\n<pre><code>[returnType] (*[nameOftheFunctionPtr])([parameters...]);\n</code></pre>\n<p>Example:</p>\n<pre><code>\ntypedef uint8_t (*dataReader_t)(uint8_t* const buffer, uint8_t length);\n\n\ntypedef struct random_struct { \n\n    dataReader_t callback;  //!&lt; A function pointer to the callback\n\n}\n\n\n</code></pre>\n<p>And you can have the following function which will be assigned to the callback:</p>\n<pre><code>uint8_t ucReadFromBuffer(uint8_t* const buffer, uint8_t length){\n\n// do stuff ...\n// return uint8_t variable\n\n}\n</code></pre>\n<p>Then you can assign it in your code:</p>\n<pre><code>random_struct myStruct = {.callback = ucReadFromBuffer};\n\n// and if you want to call it\nmyStruct.callback(someBuffer, length);\n// similar to\nucReadFromBuffer(someBuffer, length);\n</code></pre>\n"}],"owner":{"account_id":22756053,"reputation":11,"user_id":16915498,"display_name":"Jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633588777,"creation_date":1633517448,"question_id":69464342,"body_markdown":"We are using jniwrapper to communicate from JAVA with a 3rd party DLL.\r\nAnd the DLL wants us to pass the pointer to a callback function, as an uint64_t.\r\n\r\n\r\n\r\n    typedef struct random_struct { \r\n    ...\r\n    uint64_t callback;  //!&lt; A function pointer to the callback\r\n    ..\r\n    }\r\n\r\n\r\nSo from the [jniwrapper][1] I have tried using Void, Pointer etc to map from Java, but none of those works out. The DLL complains that the callback set up is invalid. So my question is how do I communicate the callback as an uint64_t.\r\nHas anyone used Jniwrapper for a requirement like this?\r\nThanks\r\n\r\n\r\n  [1]: https://www.teamdev.com/jniwrapper","title":"Mapping pointer to UInt64","body":"<p>We are using jniwrapper to communicate from JAVA with a 3rd party DLL.\nAnd the DLL wants us to pass the pointer to a callback function, as an uint64_t.</p>\n<pre><code>typedef struct random_struct { \n...\nuint64_t callback;  //!&lt; A function pointer to the callback\n..\n}\n</code></pre>\n<p>So from the <a href=\"https://www.teamdev.com/jniwrapper\" rel=\"nofollow noreferrer\">jniwrapper</a> I have tried using Void, Pointer etc to map from Java, but none of those works out. The DLL complains that the callback set up is invalid. So my question is how do I communicate the callback as an uint64_t.\nHas anyone used Jniwrapper for a requirement like this?\nThanks</p>\n"},{"tags":["java","spring","hibernate","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1496231412,"post_id":44283907,"comment_id":75574496,"body_markdown":"maybe the DB user of your application does not have access to that sequence.","body":"maybe the DB user of your application does not have access to that sequence."},{"owner":{"account_id":6552130,"reputation":896,"user_id":5066169,"accept_rate":80,"display_name":"Dharmvir Tiwari"},"score":0,"creation_date":1496232464,"post_id":44283907,"comment_id":75575357,"body_markdown":"@Patrick am executing the command in sql developer with the same user","body":"@Patrick am executing the command in sql developer with the same user"},{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":1,"creation_date":1496232966,"post_id":44283907,"comment_id":75575731,"body_markdown":"I just can guess. Guess 1: You set `spring.jpa.hibernate.use-new-id-generator-mappings=true` to true. But you dont use the new one. What happens if you delete this property? Guess 2: Set your Schemaname also to your entity on class level. Guess 3: Use `sequenceName \n = COL_SQE` also for `name` and `generator`.","body":"I just can guess. Guess 1: You set <code>spring.jpa.hibernate.use-new-id-generator-mappings=true</code> to true. But you dont use the new one. What happens if you delete this property? Guess 2: Set your Schemaname also to your entity on class level. Guess 3: Use <code>sequenceName   = COL_SQE</code> also for <code>name</code> and <code>generator</code>."}],"answers":[{"tags":[],"owner":{"display_name":"user8323585"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1500361744,"creation_date":1500361744,"answer_id":45159893,"question_id":44283907,"body_markdown":"Kindly check if the user which you are using has the read/write privilege ","title":"ORA-02289: sequence does not exist - when using Spring Data JPA with Spring boot","body":"<p>Kindly check if the user which you are using has the read/write privilege </p>\n"},{"tags":[],"owner":{"display_name":"user8655053"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514662898,"creation_date":1514662898,"answer_id":48037273,"question_id":44283907,"body_markdown":"check for read/write privileges and also check the logs from database and verify if the sequence got executed","title":"ORA-02289: sequence does not exist - when using Spring Data JPA with Spring boot","body":"<p>check for read/write privileges and also check the logs from database and verify if the sequence got executed</p>\n"},{"tags":[],"owner":{"account_id":8133754,"reputation":662,"user_id":6126100,"display_name":"tn2000"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1561362939,"creation_date":1561361075,"answer_id":56731649,"question_id":44283907,"body_markdown":"When you use Oracle database, you need to create the sequence manually.\r\nUse this code in your database connection:\r\n\r\n    create sequence YOUR_SEQUENCE_TABLE_NAME start with YOUR_START_VALUE;\r\n\r\n","title":"ORA-02289: sequence does not exist - when using Spring Data JPA with Spring boot","body":"<p>When you use Oracle database, you need to create the sequence manually.\nUse this code in your database connection:</p>\n\n<pre><code>create sequence YOUR_SEQUENCE_TABLE_NAME start with YOUR_START_VALUE;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16482688,"reputation":51,"user_id":11909008,"display_name":"Guram Kankava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633588665,"creation_date":1633546210,"answer_id":69471195,"question_id":44283907,"body_markdown":"even though had schema explicitly included, prefixed to sequence name fixed issue\r\n\r\n```\r\n@SequenceGenerator(schema = &quot;schemaname&quot;, sequenceName = &quot;schemaname.sequencename&quot;)\r\n```","title":"ORA-02289: sequence does not exist - when using Spring Data JPA with Spring boot","body":"<p>even though had schema explicitly included, prefixed to sequence name fixed issue</p>\n<pre><code>@SequenceGenerator(schema = &quot;schemaname&quot;, sequenceName = &quot;schemaname.sequencename&quot;)\n</code></pre>\n"}],"owner":{"account_id":6552130,"reputation":896,"user_id":5066169,"accept_rate":80,"display_name":"Dharmvir Tiwari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14575,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":45159893,"answer_count":4,"score":6,"last_activity_date":1633588665,"creation_date":1496231144,"question_id":44283907,"body_markdown":"   Database being used is Oracle 11g\r\n\r\n     Hibernate: select schemaname.col_sqe.nextval from dual\r\n    17:06:58.603 [WARN ] -org.hibernate.engine.jdbc.spi.SqlExceptionHelper:SQL Error: 2289, SQLState: 42000\r\n    17:06:58.618 [ERROR] -org.hibernate.engine.jdbc.spi.SqlExceptionHelper:ORA-02289: sequence does not exist\r\nThe sequence is present in the specified schema in the database and the same query returns proper value when executed via sql developer.\r\n\r\nThe Auto generation configuration is as follow:\r\n\t\r\n\r\n    @Id\r\n    \t@SequenceGenerator(name = &quot;COL_GEN&quot;, sequenceName = &quot;COL_SQE&quot;,schema=&quot;SCHEMANAME&quot;)\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;COL_GEN&quot;)\r\n    \t@Column(name = &quot;COL_ID&quot;)\r\n\r\nSpring JPA configuration is as follow:\r\n\r\n    spring.jpa.database-platform=org.hibernate.dialect.Oracle10gDialect\r\n    spring.jpa.hibernate.use-new-id-generator-mappings=true\r\n    spring.jpa.show-sql=true","title":"ORA-02289: sequence does not exist - when using Spring Data JPA with Spring boot","body":"<p>Database being used is Oracle 11g</p>\n\n<pre><code> Hibernate: select schemaname.col_sqe.nextval from dual\n17:06:58.603 [WARN ] -org.hibernate.engine.jdbc.spi.SqlExceptionHelper:SQL Error: 2289, SQLState: 42000\n17:06:58.618 [ERROR] -org.hibernate.engine.jdbc.spi.SqlExceptionHelper:ORA-02289: sequence does not exist\n</code></pre>\n\n<p>The sequence is present in the specified schema in the database and the same query returns proper value when executed via sql developer.</p>\n\n<p>The Auto generation configuration is as follow:</p>\n\n<pre><code>@Id\n    @SequenceGenerator(name = \"COL_GEN\", sequenceName = \"COL_SQE\",schema=\"SCHEMANAME\")\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"COL_GEN\")\n    @Column(name = \"COL_ID\")\n</code></pre>\n\n<p>Spring JPA configuration is as follow:</p>\n\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.Oracle10gDialect\nspring.jpa.hibernate.use-new-id-generator-mappings=true\nspring.jpa.show-sql=true\n</code></pre>\n"},{"tags":["java","arrays","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":9198196,"reputation":478,"user_id":6836207,"display_name":"Shubham Bansal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633580130,"creation_date":1633580130,"answer_id":69475379,"question_id":69474418,"body_markdown":"Because in your changeCapacity function you are not updating the capacity field with the newCapacity being passed.\r\n\r\n    public void changeCapacity(int newCapacity) {\r\n            bag = Arrays.copyOfRange(bag, 0, newCapacity);\r\n            capacity = newCapacity;\r\n        }\r\n\r\nJust replace your changeCapacity function with above code and it should work fine. ","title":"How can I copy the elements on an array into another array with a different size?","body":"<p>Because in your changeCapacity function you are not updating the capacity field with the newCapacity being passed.</p>\n<pre><code>public void changeCapacity(int newCapacity) {\n        bag = Arrays.copyOfRange(bag, 0, newCapacity);\n        capacity = newCapacity;\n    }\n</code></pre>\n<p>Just replace your changeCapacity function with above code and it should work fine.</p>\n"}],"owner":{"display_name":"user16854661"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69475379,"answer_count":1,"score":0,"last_activity_date":1633588526,"creation_date":1633570446,"question_id":69474418,"body_markdown":"I&#39;m working on a project with arrays. I&#39;m using a method that adds values to an array of size 20. I&#39;m supposed to be able to change the size of the array while also transferring values from the previous array into the new array. I used Array.copyOfRange which should work but for some reason when I run the code and try changing the size of the array. I get an Error Message that says Index out of bounds. Could someone help me figure out why it would say that when this should work?\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Arrays;\r\n\r\npublic class IntBag2 {\r\n\tprivate static final int INITIAL_SIZE = 20;\r\n\tprivate static int[] bag;\r\n\tprivate int capacity;\r\n\r\n\tpublic IntBag2() {\r\n\t\tbag = new int[INITIAL_SIZE];\r\n\t}\r\n\r\n\tpublic IntBag2(int capacity) {\r\n\t\tbag = new int[capacity];\r\n\t}\r\n\r\n\tpublic boolean add(int item) {\r\n\t\tif (capacity == bag.length)\r\n\t\t\treturn false;\r\n\r\n\t\tbag[capacity++] = item;\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic void changeCapacity(int newCapacity) {\r\n\t\tbag = Arrays.copyOfRange(bag, 0, newCapacity);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\tString result = &quot;Bag: &quot;;\r\n\t\tfor (int i = 0; i &lt; capacity; i++)\r\n\t\t\tresult += bag[i] + &quot; &quot;;\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tIntBag2 intBag = new IntBag2();\r\n\t\tboolean done = false;\r\n\r\n\t\twhile (!done) {\r\n\t\t\tSystem.out.println(&quot;1. Add an Item to the Array&quot;);\r\n\t\t\tSystem.out.println(&quot;2. Change Length of Array&quot;);\r\n\t\t\tSystem.out.println(&quot;3. toString&quot;);\r\n\t\t\tswitch (input.nextInt()) {\r\n\t\t\tcase 1:\r\n\t\t\t\tSystem.out.println(&quot;Add an Item to the Array&quot;);\r\n\t\t\t\tintBag.add(input.nextInt());\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tSystem.out.println(&quot;Change Length of Array&quot;);\r\n\t\t\t\tintBag.changeCapacity(input.nextInt());\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tSystem.out.println(&quot;toString&quot;);\r\n\t\t\t\tSystem.out.println(intBag.toString());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tinput.close();\r\n\t}\r\n\r\n}\r\n","title":"How can I copy the elements on an array into another array with a different size?","body":"<p>I'm working on a project with arrays. I'm using a method that adds values to an array of size 20. I'm supposed to be able to change the size of the array while also transferring values from the previous array into the new array. I used Array.copyOfRange which should work but for some reason when I run the code and try changing the size of the array. I get an Error Message that says Index out of bounds. Could someone help me figure out why it would say that when this should work?</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\n\npublic class IntBag2 {\n    private static final int INITIAL_SIZE = 20;\n    private static int[] bag;\n    private int capacity;\n\n    public IntBag2() {\n        bag = new int[INITIAL_SIZE];\n    }\n\n    public IntBag2(int capacity) {\n        bag = new int[capacity];\n    }\n\n    public boolean add(int item) {\n        if (capacity == bag.length)\n            return false;\n\n        bag[capacity++] = item;\n\n        return true;\n    }\n\n    public void changeCapacity(int newCapacity) {\n        bag = Arrays.copyOfRange(bag, 0, newCapacity);\n    }\n\n    @Override\n    public String toString() {\n        String result = &quot;Bag: &quot;;\n        for (int i = 0; i &lt; capacity; i++)\n            result += bag[i] + &quot; &quot;;\n        return result;\n    }\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        IntBag2 intBag = new IntBag2();\n        boolean done = false;\n\n        while (!done) {\n            System.out.println(&quot;1. Add an Item to the Array&quot;);\n            System.out.println(&quot;2. Change Length of Array&quot;);\n            System.out.println(&quot;3. toString&quot;);\n            switch (input.nextInt()) {\n            case 1:\n                System.out.println(&quot;Add an Item to the Array&quot;);\n                intBag.add(input.nextInt());\n                break;\n            case 2:\n                System.out.println(&quot;Change Length of Array&quot;);\n                intBag.changeCapacity(input.nextInt());\n                break;\n            case 3:\n                System.out.println(&quot;toString&quot;);\n                System.out.println(intBag.toString());\n                break;\n            }\n        }\n        input.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":7,"creation_date":1633533972,"post_id":69468473,"comment_id":122786387,"body_markdown":"Please explain the logic of how `5.99` becomes `599`.","body":"Please explain the logic of how <code>5.99</code> becomes <code>599</code>."},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":1,"creation_date":1633533985,"post_id":69468473,"comment_id":122786395,"body_markdown":"What do you mean? the value of the big decimal is not 599, it is 5.99","body":"What do you mean? the value of the big decimal is not 599, it is 5.99"},{"owner":{"account_id":9111473,"reputation":342,"user_id":6780048,"accept_rate":100,"display_name":"Abhishek Yadav"},"score":1,"creation_date":1633533990,"post_id":69468473,"comment_id":122786403,"body_markdown":"So do you want multiply the value in the string by 100 for the final value?","body":"So do you want multiply the value in the string by 100 for the final value?"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1633534432,"post_id":69468473,"comment_id":122786602,"body_markdown":"Call toString() then replace the periods with blanks?","body":"Call toString() then replace the periods with blanks?"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1633587401,"creation_date":1633537127,"answer_id":69469245,"question_id":69468473,"body_markdown":"This is straightforward: it&#39;s just [`bigDecimal.unscaledValue()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html#unscaledValue()) to get the significant digits of the BigDecimal without a decimal point or a raise to a power of ten.","title":"Get value of BigDecimal created from string","body":"<p>This is straightforward: it's just <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html#unscaledValue()\" rel=\"nofollow noreferrer\"><code>bigDecimal.unscaledValue()</code></a> to get the significant digits of the BigDecimal without a decimal point or a raise to a power of ten.</p>\n"}],"owner":{"account_id":6945508,"reputation":1443,"user_id":5330107,"display_name":"Victor Cui"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1633538167,"accepted_answer_id":69469245,"answer_count":1,"score":-2,"last_activity_date":1633587401,"creation_date":1633533842,"question_id":69468473,"body_markdown":"I have created a BigDecimal with a scale of 2 like\r\n```java\r\nBigDecimal decimal = new BigDecimal(&quot;5.99&quot;);\r\n```\r\n\r\nHow can I extract the value of the bigdecimal to get 599?","title":"Get value of BigDecimal created from string","body":"<p>I have created a BigDecimal with a scale of 2 like</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigDecimal decimal = new BigDecimal(&quot;5.99&quot;);\n</code></pre>\n<p>How can I extract the value of the bigdecimal to get 599?</p>\n"},{"tags":["java","apache-beam","stream-processing","apache-samza"],"comments":[{"owner":{"account_id":172794,"reputation":7472,"user_id":401059,"display_name":"Caesar"},"score":0,"creation_date":1633652785,"post_id":62852415,"comment_id":122823532,"body_markdown":"I was facing the same problem, but it disappeared when I switched from Java 11 to 1.8. (Might want to re-check you&#39;re actually running on 1.8.) I&#39;m really curious to know what&#39;s causing this for you.","body":"I was facing the same problem, but it disappeared when I switched from Java 11 to 1.8. (Might want to re-check you&#39;re actually running on 1.8.) I&#39;m really curious to know what&#39;s causing this for you."}],"answers":[{"tags":[],"owner":{"account_id":14634345,"reputation":21,"user_id":10569052,"display_name":"Yang Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594772884,"creation_date":1594772884,"answer_id":62905843,"question_id":62852415,"body_markdown":"may you paste the build.gradle and modified wordcount.java using Samza runner here, so that we can have an investigation on whether it is incompatibility issue or configuration issue. Thanks for having a try over Samza runner!","title":"org.apache.beam.sdk.util.UserCodeException while executing Beam Pipeline using the Samza Runner","body":"<p>may you paste the build.gradle and modified wordcount.java using Samza runner here, so that we can have an investigation on whether it is incompatibility issue or configuration issue. Thanks for having a try over Samza runner!</p>\n"}],"owner":{"account_id":19055526,"reputation":41,"user_id":13912787,"display_name":"Robert156"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1633587345,"creation_date":1594488457,"question_id":62852415,"body_markdown":"I am trying to run the Wordcount Demo from [here](https://colab.research.google.com/github/apache/beam/blob/master/examples/notebooks/get-started/try-apache-beam-java.ipynb#scrollTo=LrRFNZHD8dtu) with the Samza Runner. This is my build.gradle \r\n``` \r\nplugins {\r\n  id &#39;eclipse&#39;\r\n  id &#39;java&#39;\r\n  id &#39;application&#39;\r\n\r\n  // &#39;shadow&#39; allows us to embed all the dependencies into a fat jar.\r\n  id &#39;com.github.johnrengelman.shadow&#39; version &#39;4.0.3&#39;\r\n}\r\n\r\nmainClassName = &#39;samples.quickstart.WordCount&#39;\r\n\r\nmaven {\r\n        url = uri(&#39;http://packages.confluent.io/maven/&#39;)\r\n    }\r\n  mavenCentral()\r\n}\r\n\r\nsourceCompatibility = 1.8\r\ntargetCompatibility = 1.8\r\n\r\next.apacheBeamVersion = &#39;2.22.0&#39;\r\n\r\ndependencies {\r\n  shadow &quot;org.apache.beam:beam-sdks-java-core:$apacheBeamVersion&quot;\r\n\t\r\n  runtime &quot;org.apache.beam:beam-runners-direct-java:$apacheBeamVersion&quot;\r\n  runtime &quot;org.slf4j:slf4j-api:1.+&quot;\r\n  runtime &quot;org.slf4j:slf4j-jdk14:1.+&quot;\r\n  compile group: &#39;org.apache.beam&#39;, name: &#39;beam-runners-samza&#39;, version: &#39;2.22.0&#39;\r\ncompile group: &#39;org.apache.samza&#39;, name: &#39;samza-api&#39;, version: &#39;1.4.0&#39;\r\n  compile group: &#39;org.apache.samza&#39;, name: &#39;samza-core_2.11&#39;, version: &#39;1.4.0&#39;\r\n  compile group: &#39;org.apache.samza&#39;, name: &#39;samza-kafka_2.11&#39;, version: &#39;1.4.0&#39;\r\n  compile group: &#39;org.apache.samza&#39;, name: &#39;samza-kv_2.11&#39;, version: &#39;1.4.0&#39;\r\n  compile group: &#39;org.apache.samza&#39;, name: &#39;samza-kv-rocksdb_2.11&#39;, version: &#39;1.4.0&#39;\r\n  testCompile &quot;junit:junit:4.+&quot;\r\n}\r\nshadowJar {\r\n  zip64 true\r\n  baseName = &#39;WordCount&#39;  // Name of the fat jar file.\r\n  classifier = null       // Set to null, otherwise &#39;shadow&#39; appends a &#39;-all&#39; to the jar file name.\r\n  manifest {\r\n    attributes(&#39;Main-Class&#39;: mainClassName)  // Specify where the main class resides.\r\n  }\r\n} \r\n``` \r\nMy wordcount.java is as follows.\r\n```\r\npackage samples.quickstart;\r\n\r\nimport org.apache.beam.runners.samza.SamzaRunner;\r\n//import org.apache.beam.sdk.io.kafka.KafkaIO;\r\nimport org.apache.beam.sdk.Pipeline;\r\nimport org.apache.beam.sdk.io.TextIO;\r\nimport org.apache.beam.sdk.options.PipelineOptions;\r\nimport org.apache.beam.sdk.options.PipelineOptionsFactory;\r\nimport org.apache.beam.sdk.transforms.Count;\r\nimport org.apache.beam.sdk.transforms.Filter;\r\nimport org.apache.beam.sdk.transforms.FlatMapElements;\r\nimport org.apache.beam.sdk.transforms.MapElements;\r\nimport org.apache.beam.sdk.values.KV;\r\nimport org.apache.beam.sdk.values.TypeDescriptors;\r\nimport java.util.Arrays;\r\n\r\npublic class WordCount {\r\n\t\r\n\tprivate static final String jobName = &quot;beamtest&quot;;\r\n\t\r\n  public static void main(String[] args) {\r\n    String inputsDir = &quot;data/*&quot;;\r\n    String outputsPrefix = &quot;outputs/part&quot;;\r\n\r\n    PipelineOptions options = PipelineOptionsFactory.fromArgs(args).create();\r\n    options.setRunner(SamzaRunner.class);\r\n\r\n    Pipeline pipeline = Pipeline.create(options);\r\n    \r\n    pipeline\r\n        .apply(&quot;Read lines&quot;, TextIO.read().from(inputsDir))\r\n        .apply(&quot;Find words&quot;, FlatMapElements.into(TypeDescriptors.strings())\r\n            .via((String line) -&gt; Arrays.asList(line.split(&quot;[^\\\\p{L}]+&quot;))))\r\n        .apply(&quot;Filter empty words&quot;, Filter.by((String word) -&gt; !word.isEmpty()))\r\n        .apply(&quot;Count words&quot;, Count.perElement())\r\n        .apply(&quot;Write results&quot;, MapElements.into(TypeDescriptors.strings())\r\n            .via((KV&lt;String, Long&gt; wordCount) -&gt;\r\n                  wordCount.getKey() + &quot;: &quot; + wordCount.getValue()))\r\n        .apply(TextIO.write().to(outputsPrefix));\r\n    pipeline.run().waitUntilFinish();\r\n  }\r\n} \r\n\r\n\r\n```\r\nI am using Beam Version 2.22.0. I tried the following Combinations. Samza 1.4 with Beam 2.22, Samza 1.0 with Beam 2.11 and Beam 2.22 and Samza 0.14.1 with Beam 2.11.0.\r\nHowever while executing i get the following error:\r\n```\r\njava.lang.IncompatibleClassChangeError: Method &#39;void org.apache.samza.storage.kv.KeyValueStore.deleteAll(java.util.List)&#39; must be InterfaceMethodref constant\r\n```\r\nI am using Java 1.8. Does anybody have an Idea what causes this Problem?","title":"org.apache.beam.sdk.util.UserCodeException while executing Beam Pipeline using the Samza Runner","body":"<p>I am trying to run the Wordcount Demo from <a href=\"https://colab.research.google.com/github/apache/beam/blob/master/examples/notebooks/get-started/try-apache-beam-java.ipynb#scrollTo=LrRFNZHD8dtu\" rel=\"nofollow noreferrer\">here</a> with the Samza Runner. This is my build.gradle</p>\n<pre><code>plugins {\n  id 'eclipse'\n  id 'java'\n  id 'application'\n\n  // 'shadow' allows us to embed all the dependencies into a fat jar.\n  id 'com.github.johnrengelman.shadow' version '4.0.3'\n}\n\nmainClassName = 'samples.quickstart.WordCount'\n\nmaven {\n        url = uri('http://packages.confluent.io/maven/')\n    }\n  mavenCentral()\n}\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\next.apacheBeamVersion = '2.22.0'\n\ndependencies {\n  shadow &quot;org.apache.beam:beam-sdks-java-core:$apacheBeamVersion&quot;\n    \n  runtime &quot;org.apache.beam:beam-runners-direct-java:$apacheBeamVersion&quot;\n  runtime &quot;org.slf4j:slf4j-api:1.+&quot;\n  runtime &quot;org.slf4j:slf4j-jdk14:1.+&quot;\n  compile group: 'org.apache.beam', name: 'beam-runners-samza', version: '2.22.0'\ncompile group: 'org.apache.samza', name: 'samza-api', version: '1.4.0'\n  compile group: 'org.apache.samza', name: 'samza-core_2.11', version: '1.4.0'\n  compile group: 'org.apache.samza', name: 'samza-kafka_2.11', version: '1.4.0'\n  compile group: 'org.apache.samza', name: 'samza-kv_2.11', version: '1.4.0'\n  compile group: 'org.apache.samza', name: 'samza-kv-rocksdb_2.11', version: '1.4.0'\n  testCompile &quot;junit:junit:4.+&quot;\n}\nshadowJar {\n  zip64 true\n  baseName = 'WordCount'  // Name of the fat jar file.\n  classifier = null       // Set to null, otherwise 'shadow' appends a '-all' to the jar file name.\n  manifest {\n    attributes('Main-Class': mainClassName)  // Specify where the main class resides.\n  }\n} \n</code></pre>\n<p>My wordcount.java is as follows.</p>\n<pre><code>package samples.quickstart;\n\nimport org.apache.beam.runners.samza.SamzaRunner;\n//import org.apache.beam.sdk.io.kafka.KafkaIO;\nimport org.apache.beam.sdk.Pipeline;\nimport org.apache.beam.sdk.io.TextIO;\nimport org.apache.beam.sdk.options.PipelineOptions;\nimport org.apache.beam.sdk.options.PipelineOptionsFactory;\nimport org.apache.beam.sdk.transforms.Count;\nimport org.apache.beam.sdk.transforms.Filter;\nimport org.apache.beam.sdk.transforms.FlatMapElements;\nimport org.apache.beam.sdk.transforms.MapElements;\nimport org.apache.beam.sdk.values.KV;\nimport org.apache.beam.sdk.values.TypeDescriptors;\nimport java.util.Arrays;\n\npublic class WordCount {\n    \n    private static final String jobName = &quot;beamtest&quot;;\n    \n  public static void main(String[] args) {\n    String inputsDir = &quot;data/*&quot;;\n    String outputsPrefix = &quot;outputs/part&quot;;\n\n    PipelineOptions options = PipelineOptionsFactory.fromArgs(args).create();\n    options.setRunner(SamzaRunner.class);\n\n    Pipeline pipeline = Pipeline.create(options);\n    \n    pipeline\n        .apply(&quot;Read lines&quot;, TextIO.read().from(inputsDir))\n        .apply(&quot;Find words&quot;, FlatMapElements.into(TypeDescriptors.strings())\n            .via((String line) -&gt; Arrays.asList(line.split(&quot;[^\\\\p{L}]+&quot;))))\n        .apply(&quot;Filter empty words&quot;, Filter.by((String word) -&gt; !word.isEmpty()))\n        .apply(&quot;Count words&quot;, Count.perElement())\n        .apply(&quot;Write results&quot;, MapElements.into(TypeDescriptors.strings())\n            .via((KV&lt;String, Long&gt; wordCount) -&gt;\n                  wordCount.getKey() + &quot;: &quot; + wordCount.getValue()))\n        .apply(TextIO.write().to(outputsPrefix));\n    pipeline.run().waitUntilFinish();\n  }\n} \n\n\n</code></pre>\n<p>I am using Beam Version 2.22.0. I tried the following Combinations. Samza 1.4 with Beam 2.22, Samza 1.0 with Beam 2.11 and Beam 2.22 and Samza 0.14.1 with Beam 2.11.0.\nHowever while executing i get the following error:</p>\n<pre><code>java.lang.IncompatibleClassChangeError: Method 'void org.apache.samza.storage.kv.KeyValueStore.deleteAll(java.util.List)' must be InterfaceMethodref constant\n</code></pre>\n<p>I am using Java 1.8. Does anybody have an Idea what causes this Problem?</p>\n"},{"tags":["java","certificate","private-key"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1627480427,"post_id":68561187,"comment_id":121167979,"body_markdown":"A &#39;certificate&#39; is generally a wrapper around a public key. How are you going to generate a public key from a private key of some sort?","body":"A &#39;certificate&#39; is generally a wrapper around a public key. How are you going to generate a public key from a private key of some sort?"},{"owner":{"account_id":22324174,"reputation":21,"user_id":16546401,"display_name":"Vipul Raval"},"score":0,"creation_date":1627480595,"post_id":68561187,"comment_id":121168061,"body_markdown":"localX509Certificate.getPublicKey() using this the verification is done.","body":"localX509Certificate.getPublicKey() using this the verification is done."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":4,"creation_date":1627481959,"post_id":68561187,"comment_id":121168742,"body_markdown":"You have a pkcs8 private key. You want an X.509 certificate. Those are two very different things with no natural &quot;conversion&quot; from one to the other. You could 1) extract the public key from your private key(I checked, it contains the necessary fields), and 2) create a self-signed X.509 certificate from the public and private keys. The public key is contained in the certificate and the private is used to sign it.","body":"You have a pkcs8 private key. You want an X.509 certificate. Those are two very different things with no natural &quot;conversion&quot; from one to the other. You could 1) extract the public key from your private key(I checked, it contains the necessary fields), and 2) create a self-signed X.509 certificate from the public and private keys. The public key is contained in the certificate and the private is used to sign it."}],"answers":[{"tags":[],"owner":{"account_id":22962221,"reputation":1,"user_id":17091880,"display_name":"ravi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633587155,"creation_date":1633542809,"answer_id":69470495,"question_id":68561187,"body_markdown":"I got the same error. as per generateCertificate &quot;In the case of a certificate factory for X.509 certificates, the certificate provided in inStream must be DER-encoded andmay be supplied in binary or printable (Base64) encoding. If thecertificate is provided in Base64 encoding, it must be bounded at the beginning by `-----BEGIN CERTIFICATE-----`, and must be bounded at the end by `-----END CERTIFICATE-----`.&quot;\r\n\r\nI added `-----BEGIN CERTIFICATE-----` and `-----END CERTIFICATE-----`, then it fixed the exception","title":"Create x509 Certificate from String private key","body":"<p>I got the same error. as per generateCertificate &quot;In the case of a certificate factory for X.509 certificates, the certificate provided in inStream must be DER-encoded andmay be supplied in binary or printable (Base64) encoding. If thecertificate is provided in Base64 encoding, it must be bounded at the beginning by <code>-----BEGIN CERTIFICATE-----</code>, and must be bounded at the end by <code>-----END CERTIFICATE-----</code>.&quot;</p>\n<p>I added <code>-----BEGIN CERTIFICATE-----</code> and <code>-----END CERTIFICATE-----</code>, then it fixed the exception</p>\n"}],"owner":{"account_id":22324174,"reputation":21,"user_id":16546401,"display_name":"Vipul Raval"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2386,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1633587155,"creation_date":1627478310,"question_id":68561187,"body_markdown":"I have private key in string format as below\r\n\r\n    MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAKPOLV6ZLKtPVkgu9sAaD7DiA7I+\r\n    V3nmABhVZtOLo/HyqC/Fi2JWQahFJiWVowwhNPZwEw8vUSmFbBN6EUNzElCO202F32qFIr/P2BVS\r\n    qZlp4zziCrZgHeB+ZXaRceb0FV5RNI03slaiAUYQTKjbUzegP5j4+6hnv9Hc+xze1vNNAgMBAAEC\r\n    gYBmV4C9I9JmzdDIlJ8R8rZu+yb4DD83J95TVbhC33H0znkKL9AgBmhLK7jjrpQKFg0zE161FAkP\r\n    eg7GNHPowlJkA5fswWY0UefJOcQytJIm6WFBl78pq5sMGT9fjTSbJur4JSlfvY0G3RpxNN+a9eAr\r\n    6zBXDXbP7ufoaU9bug80OQJBAO6wyggPmDnRRAZYt3jl4oSMRGFH5pKQl+diYi/sa3NMOlT+g0H9\r\n    6r5CnUoRo4MS9oAUebSi9W8j41Z9I8ZZfdcCQQCvrytXLhr+TcZz8mcpWU5pvxZ0+iv6ybGMhjT5\r\n    2PVvaqBqFtKVx5m0WGwiBPQUXudWIqFWcOYNh53XFWSvost7AkEAmd3fLtkWsVbEOi8gfs/6eKWP\r\n    QwK9kQei1KboUqpeDeI6zCWRaY4Mr/9zM5cxR8KGosQQPLC79Jw25b8fu7Je2wJARqAawj9MprLJ\r\n    ds8Z3auDNEuXUYtIptbyQ1WoclBfylyJBF0MZx4IklGBluN6472LLjtZtJBKS2Ibd92nzluZhQJB\r\n    AJoysIMfMWAUBji4D77n7yMdodq0L3j1b8zZdeFEu3d7/TK/h47b75F8mdr+C+7IN/9jrUbTBKNx\r\n    0cSFX0uOcao=\r\n\r\nnow i want to convert it into x509 certificate, i am using below code.\r\n\r\n    localByteArrayInputStream = new ByteArrayInputStream(\r\n    \t\t\t\tparamString.getBytes());\r\n    \t\tCertificateFactory localCertificateFactory = CertificateFactory\r\n    \t\t\t\t.getInstance(&quot;X.509&quot;);\r\n    \t\tX509Certificate localX509Certificate = (X509Certificate) localCertificateFactory\r\n    \t\t\t\t.generateCertificate(localByteArrayInputStream);\r\n    \t\tlocalByteArrayInputStream.close();\r\n    localByteArrayInputStream = new ByteArrayInputStream(\r\n    \t\t\t\tparamString.getBytes());\r\n    \t\tCertificateFactory localCertificateFactory = CertificateFactory\r\n    \t\t\t\t.getInstance(&quot;X.509&quot;);\r\n    \t\tX509Certificate localX509Certificate = (X509Certificate) localCertificateFactory\r\n    \t\t\t\t.generateCertificate(localByteArrayInputStream);\r\n    \t\tlocalByteArrayInputStream.close();\r\n    \r\n     (X509Certificate)localCertificateFactory.generateCertificate(localByteArrayInputStream);\r\n          localByteArrayInputStream.close();\r\n\r\nI have tried many ways but could not understand how to do it. in this scenario i am getting below error.\r\n\r\n    java.security.cert.CertificateException: Could not parse certificate: java.io.IOException: Empty input\r\n    \tat sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:104)\r\n    \tat java.security.cert.CertificateFactory.generateCertificate(CertificateFactory.java:339)\r\n\r\n","title":"Create x509 Certificate from String private key","body":"<p>I have private key in string format as below</p>\n<pre><code>MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAKPOLV6ZLKtPVkgu9sAaD7DiA7I+\nV3nmABhVZtOLo/HyqC/Fi2JWQahFJiWVowwhNPZwEw8vUSmFbBN6EUNzElCO202F32qFIr/P2BVS\nqZlp4zziCrZgHeB+ZXaRceb0FV5RNI03slaiAUYQTKjbUzegP5j4+6hnv9Hc+xze1vNNAgMBAAEC\ngYBmV4C9I9JmzdDIlJ8R8rZu+yb4DD83J95TVbhC33H0znkKL9AgBmhLK7jjrpQKFg0zE161FAkP\neg7GNHPowlJkA5fswWY0UefJOcQytJIm6WFBl78pq5sMGT9fjTSbJur4JSlfvY0G3RpxNN+a9eAr\n6zBXDXbP7ufoaU9bug80OQJBAO6wyggPmDnRRAZYt3jl4oSMRGFH5pKQl+diYi/sa3NMOlT+g0H9\n6r5CnUoRo4MS9oAUebSi9W8j41Z9I8ZZfdcCQQCvrytXLhr+TcZz8mcpWU5pvxZ0+iv6ybGMhjT5\n2PVvaqBqFtKVx5m0WGwiBPQUXudWIqFWcOYNh53XFWSvost7AkEAmd3fLtkWsVbEOi8gfs/6eKWP\nQwK9kQei1KboUqpeDeI6zCWRaY4Mr/9zM5cxR8KGosQQPLC79Jw25b8fu7Je2wJARqAawj9MprLJ\nds8Z3auDNEuXUYtIptbyQ1WoclBfylyJBF0MZx4IklGBluN6472LLjtZtJBKS2Ibd92nzluZhQJB\nAJoysIMfMWAUBji4D77n7yMdodq0L3j1b8zZdeFEu3d7/TK/h47b75F8mdr+C+7IN/9jrUbTBKNx\n0cSFX0uOcao=\n</code></pre>\n<p>now i want to convert it into x509 certificate, i am using below code.</p>\n<pre><code>localByteArrayInputStream = new ByteArrayInputStream(\n                paramString.getBytes());\n        CertificateFactory localCertificateFactory = CertificateFactory\n                .getInstance(&quot;X.509&quot;);\n        X509Certificate localX509Certificate = (X509Certificate) localCertificateFactory\n                .generateCertificate(localByteArrayInputStream);\n        localByteArrayInputStream.close();\nlocalByteArrayInputStream = new ByteArrayInputStream(\n                paramString.getBytes());\n        CertificateFactory localCertificateFactory = CertificateFactory\n                .getInstance(&quot;X.509&quot;);\n        X509Certificate localX509Certificate = (X509Certificate) localCertificateFactory\n                .generateCertificate(localByteArrayInputStream);\n        localByteArrayInputStream.close();\n\n (X509Certificate)localCertificateFactory.generateCertificate(localByteArrayInputStream);\n      localByteArrayInputStream.close();\n</code></pre>\n<p>I have tried many ways but could not understand how to do it. in this scenario i am getting below error.</p>\n<pre><code>java.security.cert.CertificateException: Could not parse certificate: java.io.IOException: Empty input\n    at sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:104)\n    at java.security.cert.CertificateFactory.generateCertificate(CertificateFactory.java:339)\n</code></pre>\n"},{"tags":["java","design-patterns","polymorphism","strategy-pattern"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":6,"creation_date":1437735945,"post_id":31608902,"comment_id":51167506,"body_markdown":"It&#39;s apples and oranges since you can&#39;t have a Strategy Pattern *without* polymorphism as the interface must be implemented, and so your question is confusing to me.","body":"It&#39;s apples and oranges since you can&#39;t have a Strategy Pattern <i>without</i> polymorphism as the interface must be implemented, and so your question is confusing to me."},{"owner":{"account_id":6082229,"reputation":524,"user_id":4747617,"display_name":"Joshua Byer"},"score":2,"creation_date":1437782271,"post_id":31608902,"comment_id":51191883,"body_markdown":"I think he just wants an example in which the strategy pattern is more useful than polymorphism, this happens when you want to reuse different strategies for multiple object. Otherwise it really doesn&#39;t make sense and you should use polymorphism.","body":"I think he just wants an example in which the strategy pattern is more useful than polymorphism, this happens when you want to reuse different strategies for multiple object. Otherwise it really doesn&#39;t make sense and you should use polymorphism."},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":1,"creation_date":1488088845,"post_id":31608902,"comment_id":72072266,"body_markdown":"Related [What pattern does Collections.sort with a Comparator use](http://stackoverflow.com/questions/42442013/whats-design-pattern-does-collections-sort-with-a-comparator-use/42442744#42442744)","body":"Related <a href=\"http://stackoverflow.com/questions/42442013/whats-design-pattern-does-collections-sort-with-a-comparator-use/42442744#42442744\">What pattern does Collections.sort with a Comparator use</a>"}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1437736667,"creation_date":1437736667,"answer_id":31609189,"question_id":31608902,"body_markdown":"If you are establishing an analogy where:\r\n\r\n- in one case you have several overridable methods;\r\n- in the other case you have a Strategy interface with several implementations,\r\n\r\nthen the difference is the degree of coupling, which is very strong in the first case, whereas in the second case any foreign code can participate in your class&#39;s logic by contributing its Strategy implementation.","title":"Polymorphism vs Strategy pattern","body":"<p>If you are establishing an analogy where:</p>\n\n<ul>\n<li>in one case you have several overridable methods;</li>\n<li>in the other case you have a Strategy interface with several implementations,</li>\n</ul>\n\n<p>then the difference is the degree of coupling, which is very strong in the first case, whereas in the second case any foreign code can participate in your class's logic by contributing its Strategy implementation.</p>\n"},{"tags":[],"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1438104454,"creation_date":1437736759,"answer_id":31609220,"question_id":31608902,"body_markdown":"&gt; I&#39;m confused that whatever is achieved via Strategy Pattern is basically possible by polymorphism.\r\n\r\nYou can&#39;t drive a car without a steering wheel. That does not mean that a steering wheel is a car. Similarly, the Strategy pattern relies on polymorphism but that does not mean that they are the same thing.\r\n\r\nThe purpose of the Strategy pattern is to promote the use of composition (has-a) over inheritance (is-a). Instead of your class inheriting behavior from a super class, you define the behavior in a separate class and your class has-a reference to it. \r\n\r\nAs far as an example goes, take a look at [this][1] answer that does a good job.\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/203210/is-context-inheritance-as-shown-by-head-first-design-patterns-duck-example-ir","title":"Polymorphism vs Strategy pattern","body":"<blockquote>\n  <p>I'm confused that whatever is achieved via Strategy Pattern is basically possible by polymorphism.</p>\n</blockquote>\n\n<p>You can't drive a car without a steering wheel. That does not mean that a steering wheel is a car. Similarly, the Strategy pattern relies on polymorphism but that does not mean that they are the same thing.</p>\n\n<p>The purpose of the Strategy pattern is to promote the use of composition (has-a) over inheritance (is-a). Instead of your class inheriting behavior from a super class, you define the behavior in a separate class and your class has-a reference to it. </p>\n\n<p>As far as an example goes, take a look at <a href=\"https://softwareengineering.stackexchange.com/questions/203210/is-context-inheritance-as-shown-by-head-first-design-patterns-duck-example-ir\">this</a> answer that does a good job.</p>\n"},{"tags":[],"owner":{"account_id":6082229,"reputation":524,"user_id":4747617,"display_name":"Joshua Byer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437782154,"creation_date":1437782154,"answer_id":31621429,"question_id":31608902,"body_markdown":"Consider this \r\n\r\nwe have animals and a strategy pattern object to describe how they move...\r\nfor instance \r\n\r\nfly/swim/walk\r\n\r\nGiven the large number of animals that use any of these methods (ie thousands of different animals fly), we need to use the same code for many different animals. That code should only exist in one place, so that it is easily changed and doesn&#39;t take up any unneeded space. \r\n\r\nIn this example, a straightforward polymorphism approach will result in massive code duplication. A more complex approach which places a intermediate class between animal and say robin fail to take in to consideration that how a animal moves is not really what defines it. Furthermore, it is possible that a animal has other strategy objects and they cannot all be made polymorphic through intermediate classes.\r\n","title":"Polymorphism vs Strategy pattern","body":"<p>Consider this </p>\n\n<p>we have animals and a strategy pattern object to describe how they move...\nfor instance </p>\n\n<p>fly/swim/walk</p>\n\n<p>Given the large number of animals that use any of these methods (ie thousands of different animals fly), we need to use the same code for many different animals. That code should only exist in one place, so that it is easily changed and doesn't take up any unneeded space. </p>\n\n<p>In this example, a straightforward polymorphism approach will result in massive code duplication. A more complex approach which places a intermediate class between animal and say robin fail to take in to consideration that how a animal moves is not really what defines it. Furthermore, it is possible that a animal has other strategy objects and they cannot all be made polymorphic through intermediate classes.</p>\n"},{"tags":[],"owner":{"account_id":1645331,"reputation":1641,"user_id":1516973,"accept_rate":60,"display_name":"rolgalan"},"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1440530828,"creation_date":1438039173,"answer_id":31664940,"question_id":31608902,"body_markdown":"For me, the link from **[CKing][1]** post and the example in Wikipedia are clear enough, but I&#39;ll try to give you a new example. As they said, Strategy Pattern is mostly **a way to change the behaviour of an algorithm at runtime**. Of course you can achieve this in many different ways (such as holding a value and using switch-case, but it wouldn&#39;t be as nice as Strategy Pattern).\r\n\r\nLet&#39;s say you&#39;re developing a turn-based strategy game with two kind of **Units**: **Infantry** and **Tank** (subclasses of Unit). Your terrain could be **Plains**, **Railroad** or **Forests**.\r\n\r\n\r\n\tclass Unit{\r\n        MovementStrategy ms;      \r\n        final int baseMovement;\r\n        int x,y;\r\n\r\n        public Unit(int baseMovement){\r\n            this.baseMovement = baseMovement;\r\n        }\r\n\r\n        abstract void fire();\r\n    \r\n        void moveForward(){\r\n            x = x + ms.getHexagonsToMove(baseMovement);\r\n        }\r\n    \r\n        void setMovementStrategy(MovementStrategy ms){\r\n            this.ms = ms;\r\n        }\r\n    }\r\n\r\nAny Unit subclass must implement *fire()* method because **it&#39;s going to be completely different for them** (Tank shots heavy long-distance round and Infantry shot several short distance light bullets). In this example we use normal polymorphism/inheritance since *fire()* method will be really different for any unit, and **it won&#39;t change during the game**.\r\n\r\n\tclass Infantry extends Unit{\r\n\t\tpublic Infantry(){\r\n\t\t\tsuper(2);\r\n\t\t}\r\n\t\t\r\n\t\tvoid fire(){\r\n\t\t\t//whatever\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass Tank extends Unit{\r\n\t\tpublic Tank(){\r\n\t\t\tsuper(5);\r\n\t\t}\r\n\t\t\r\n\t\tvoid fire(){\r\n\t\t\t//whatever\r\n\t\t}\r\n\t}\r\n\r\nUnits also are able to move, and have a field *baseMovement* that holds the number of hexagons it can walk. We&#39;re developing a strategy game, not a real world simulation, so we don&#39;t care how they move, we just want to add a value to their coordinates (in my example I only use X coordinate in order to get a simpler code). If all the terrain was the same, we wouldn&#39;t need any Strategy object... but **we need to change the behaviour of move() method at runtime!**\r\n\r\nSo, we implement a different **MovementStrategy** class for each of our kinds of Terrain, and we program our game to trigger a *setMovementStrategy()* to any unit that move on each hexagon. And we don&#39;t even need to write anything else in our Unit subclasses.\r\n\t\r\n    interface MovementStrategy{\r\n\t\tpublic int getHexagonsToMove(int base);\r\n\t}\r\n\t\r\n\tclass PlainMovementStrategy implements MovementStrategy{\r\n\t\tpublic int getHexagonsToMove(int base){\r\n\t\t\treturn base;\r\n\t\t}\r\n\t}\r\n\r\n\tclass RailroadMovementStrategy implements MovementStrategy{\r\n\t\tpublic int getHexagonsToMove(int base){\r\n\t\t\treturn base*3;\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass ForestMovementStrategy implements MovementStrategy{\r\n\t\tpublic int getHexagonsToMove(int base){\r\n\t\t\treturn (int)(base/2);\r\n\t\t}\r\n\t}\t\r\n\t\t\r\nNow, when any **Unit** move inside a **Forest**, we call\r\n\r\n    unit.setMovementStrategy(new ForestMovementStrategy());\r\n\r\nAnd as soon it goes to a **Plain**, we do:\r\n\r\n    unit.setMovementStrategy(new PlainMovementStrategy());\r\n\r\nNow we&#39;re able to change how far away our units move depending on the Terrain, and we don&#39;t need to rewrite in any of the subclasses.\r\n\r\nI hope this helps you a better understanding of the difference.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/810077/cking","title":"Polymorphism vs Strategy pattern","body":"<p>For me, the link from <strong><a href=\"https://stackoverflow.com/users/810077/cking\">CKing</a></strong> post and the example in Wikipedia are clear enough, but I'll try to give you a new example. As they said, Strategy Pattern is mostly <strong>a way to change the behaviour of an algorithm at runtime</strong>. Of course you can achieve this in many different ways (such as holding a value and using switch-case, but it wouldn't be as nice as Strategy Pattern).</p>\n\n<p>Let's say you're developing a turn-based strategy game with two kind of <strong>Units</strong>: <strong>Infantry</strong> and <strong>Tank</strong> (subclasses of Unit). Your terrain could be <strong>Plains</strong>, <strong>Railroad</strong> or <strong>Forests</strong>.</p>\n\n<pre><code>class Unit{\n    MovementStrategy ms;      \n    final int baseMovement;\n    int x,y;\n\n    public Unit(int baseMovement){\n        this.baseMovement = baseMovement;\n    }\n\n    abstract void fire();\n\n    void moveForward(){\n        x = x + ms.getHexagonsToMove(baseMovement);\n    }\n\n    void setMovementStrategy(MovementStrategy ms){\n        this.ms = ms;\n    }\n}\n</code></pre>\n\n<p>Any Unit subclass must implement <em>fire()</em> method because <strong>it's going to be completely different for them</strong> (Tank shots heavy long-distance round and Infantry shot several short distance light bullets). In this example we use normal polymorphism/inheritance since <em>fire()</em> method will be really different for any unit, and <strong>it won't change during the game</strong>.</p>\n\n<pre><code>class Infantry extends Unit{\n    public Infantry(){\n        super(2);\n    }\n\n    void fire(){\n        //whatever\n    }\n}\n\nclass Tank extends Unit{\n    public Tank(){\n        super(5);\n    }\n\n    void fire(){\n        //whatever\n    }\n}\n</code></pre>\n\n<p>Units also are able to move, and have a field <em>baseMovement</em> that holds the number of hexagons it can walk. We're developing a strategy game, not a real world simulation, so we don't care how they move, we just want to add a value to their coordinates (in my example I only use X coordinate in order to get a simpler code). If all the terrain was the same, we wouldn't need any Strategy object... but <strong>we need to change the behaviour of move() method at runtime!</strong></p>\n\n<p>So, we implement a different <strong>MovementStrategy</strong> class for each of our kinds of Terrain, and we program our game to trigger a <em>setMovementStrategy()</em> to any unit that move on each hexagon. And we don't even need to write anything else in our Unit subclasses.</p>\n\n<pre><code>interface MovementStrategy{\n    public int getHexagonsToMove(int base);\n}\n\nclass PlainMovementStrategy implements MovementStrategy{\n    public int getHexagonsToMove(int base){\n        return base;\n    }\n}\n\nclass RailroadMovementStrategy implements MovementStrategy{\n    public int getHexagonsToMove(int base){\n        return base*3;\n    }\n}\n\nclass ForestMovementStrategy implements MovementStrategy{\n    public int getHexagonsToMove(int base){\n        return (int)(base/2);\n    }\n}   \n</code></pre>\n\n<p>Now, when any <strong>Unit</strong> move inside a <strong>Forest</strong>, we call</p>\n\n<pre><code>unit.setMovementStrategy(new ForestMovementStrategy());\n</code></pre>\n\n<p>And as soon it goes to a <strong>Plain</strong>, we do:</p>\n\n<pre><code>unit.setMovementStrategy(new PlainMovementStrategy());\n</code></pre>\n\n<p>Now we're able to change how far away our units move depending on the Terrain, and we don't need to rewrite in any of the subclasses.</p>\n\n<p>I hope this helps you a better understanding of the difference.</p>\n"},{"tags":[],"owner":{"account_id":6695933,"reputation":195,"user_id":5163953,"display_name":"Herman Wil&#233;n"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1438075232,"creation_date":1438075232,"answer_id":31672202,"question_id":31608902,"body_markdown":"First of all. Polymorphism can mean two different things. Most commonly polymorphism refers to a polymorphic type. However, you are asking for the pattern.\r\n\r\nPolymorphic code can change itself each time it runs while the function of the code stays the same. An easy example is to do 1+3=4 instead of 5-1=4. Both achieves the same result using different code. This is useful for code that does not want to be recognized i.e computer viruses or cryptographic code.    \r\n\r\nStrategy pattern on the other hand uses a family of algorithms that can be interchanged. This might be used when translating text. First some code determines the language. if the language is swedish or spanish the text will be processed by, different functions of the same family, translateSwedish() or translateSpanish(). \r\n\r\nTo round things up. Polymorphic code uses different code that achieves the same result. While Strategy uses different code to achieve better results.","title":"Polymorphism vs Strategy pattern","body":"<p>First of all. Polymorphism can mean two different things. Most commonly polymorphism refers to a polymorphic type. However, you are asking for the pattern.</p>\n\n<p>Polymorphic code can change itself each time it runs while the function of the code stays the same. An easy example is to do 1+3=4 instead of 5-1=4. Both achieves the same result using different code. This is useful for code that does not want to be recognized i.e computer viruses or cryptographic code.    </p>\n\n<p>Strategy pattern on the other hand uses a family of algorithms that can be interchanged. This might be used when translating text. First some code determines the language. if the language is swedish or spanish the text will be processed by, different functions of the same family, translateSwedish() or translateSpanish(). </p>\n\n<p>To round things up. Polymorphic code uses different code that achieves the same result. While Strategy uses different code to achieve better results.</p>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71911,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1633586857,"creation_date":1438088143,"answer_id":31676977,"question_id":31608902,"body_markdown":"\r\n- Basic difference : **Polymorphism** is programming language concept, and **Strategy pattern** is one of [behavioral design pattern of GoF][1].\r\n\r\n- **Polymorphism** is the provision of a single interface for several different underlying data types.     \r\n  - **Example:** The steering wheel(i.e., the interface) is same no matter what type of actual steering mechanism is used. That is, the steering wheel works the same whether your car has manual steering, power steering, or rack-and-pinion steering. Therefore once you know how to operate the steering wheel, you can drive any type of car.\r\n\r\n\r\n  - In programming, **Polymorphism** implemented in two ways: \r\n     - Early-Binding/Static/Compile-Time Polymorphism (ex: function overloading) \r\n     - Late-Binding/Dynamic/Run-Time Polymorphism (ex: function overriding)\r\n\r\n- A **[Strategy pattern][3]** defines a set of algorithms that can be used interchangeably. \r\n  - The Strategy pattern is a dynamic pattern (How do you want run a behavior in software?).\r\n  - Example of core java: `java.util.Comparator#compare()`, executed by among others `Collections#sort()`.\r\n\r\n  - **Modes of transportation** is analogous to **strategy design pattern**. We use car, bike, bus, local train and so on.. different strategies to go office day by day. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Design_Patterns#Behavioral\r\n  [2]: https://stackoverflow.com/a/846108/1697099\r\n  [3]: https://sourcemaking.com/design_patterns/strategy","title":"Polymorphism vs Strategy pattern","body":"<ul>\n<li><p>Basic difference : <strong>Polymorphism</strong> is programming language concept, and <strong>Strategy pattern</strong> is one of <a href=\"https://en.wikipedia.org/wiki/Design_Patterns#Behavioral\" rel=\"nofollow noreferrer\">behavioral design pattern of GoF</a>.</p>\n</li>\n<li><p><strong>Polymorphism</strong> is the provision of a single interface for several different underlying data types.</p>\n<ul>\n<li><p><strong>Example:</strong> The steering wheel(i.e., the interface) is same no matter what type of actual steering mechanism is used. That is, the steering wheel works the same whether your car has manual steering, power steering, or rack-and-pinion steering. Therefore once you know how to operate the steering wheel, you can drive any type of car.</p>\n</li>\n<li><p>In programming, <strong>Polymorphism</strong> implemented in two ways:</p>\n<ul>\n<li>Early-Binding/Static/Compile-Time Polymorphism (ex: function overloading)</li>\n<li>Late-Binding/Dynamic/Run-Time Polymorphism (ex: function overriding)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>A <strong><a href=\"https://sourcemaking.com/design_patterns/strategy\" rel=\"nofollow noreferrer\">Strategy pattern</a></strong> defines a set of algorithms that can be used interchangeably.</p>\n<ul>\n<li><p>The Strategy pattern is a dynamic pattern (How do you want run a behavior in software?).</p>\n</li>\n<li><p>Example of core java: <code>java.util.Comparator#compare()</code>, executed by among others <code>Collections#sort()</code>.</p>\n</li>\n<li><p><strong>Modes of transportation</strong> is analogous to <strong>strategy design pattern</strong>. We use car, bike, bus, local train and so on.. different strategies to go office day by day.</p>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1539691157,"creation_date":1438356016,"answer_id":31749736,"question_id":31608902,"body_markdown":"&gt; **Q:** What is the difference between the Strategy pattern and Polymorphism\r\n&gt; in Java?\r\n\r\nThe questions is certainly confusing since initially there seems not to be any  relation between these two ideas.\r\n\r\nPolymorphism is a much broader concept in programming and yes the strategy pattern in Java uses a form of polymorphism catalogued as [inclusion polymorphism](https://en.wikipedia.org/wiki/Polymorphism_%28computer_science%29#Subtyping) to accomplish its intent, but this is by no means the only type of polymorphism that exists, neither it is the only way to implement the strategy pattern as I will demonstrate soon.\r\n\r\nAlso polymorphism is not something that only exists in Java or in object-oriented programming languages. Different forms of polymorphism exist in all the programming paradigms and not in all languages you are forced to use polymorphism to implement a strategy pattern (e.g. functional languages).\r\n\r\nFor further discussion on this topic please read [this other answer](https://stackoverflow.com/a/11732581/697630) where we have discussed whether polymorphism is possible without inheritance and I provide interesting references and examples to other types of polymorphism like parametric and ad-hoc polymorphism.\r\n\r\nIdeally this will reveal to you that polymorphism is a bigger concept that goes beyond the boundaries of object-oriented programming and even beyond inheritance and subtyping.    \r\n\r\n&gt; **Q:** I&#39;m confused that whatever is achieved via Strategy Pattern is\r\n&gt; basically possible by polymorphism. Correct me if I&#39;m wrong in this\r\n&gt; regard.\r\n\r\nFrom my point of view the relations between these two concepts are: that the strategy pattern leverages the power of polymorphism available in languages like Java to implement its intent, and that polymorphism can be considered in itself a pattern.\r\n\r\nFor instance, consider this quote from the GoF book:\r\n\r\n&gt; If we assumed procedural languages, we might have included design\r\n&gt; patterns called &#39;inheritance&#39;, &#39;encapsulation&#39; and &#39;polymorphism&#39;.\r\n\r\nIt is just that we rarely think of polymorphism as a pattern, first because it implies many things and because it is implemented differently in different languages and also because it typically presents as some form of language feature.\r\n\r\nIn his book Elemental Design Patterns, Jason Mc C. Smith comments on the GoF quote above saying:\r\n\r\n&gt; Pattern are language-independent concepts; they take form and become\r\n&gt; concrete solutions when you implement them within a particular\r\n&gt; language with a given set of language features and constructs [...]\r\n&gt; This means that it is a bit strange to talk about &quot;Java design\r\n&gt; pattern&quot;, &quot;C++ design patterns&quot;, &quot;Websphere design pattern&quot; and so on,\r\n&gt; even though we all do it. It&#39;s a mildly lazy form of shorthand for\r\n&gt; what we really mean, or should mean: design patterns as implemented in\r\n&gt; Java, C++, WebSphere and so on, regardless of language or API.\r\n\r\nSo, as you can see, you are thinking in the Strategy pattern from the perspective of the Java implementation, but in other language paradigms such pattern may have been implemented in different ways, probably without using inheritance at all, for example, in pure functional programming languages this is most certainly implemented using [high order functions](https://en.wikipedia.org/wiki/Higher-order_function) and [function composition](https://en.wikipedia.org/wiki/Function_composition_(computer_science)).\r\n\r\nAs such, this would be an strategy pattern implementation without resorting to *inclusion polymorphism* at all. In a function composition strategy we may still be using other forms of polymorphism (e.g. parametric), but that is not a requirement for the strategy pattern \r\n\r\n&gt; Q: Please, also provide me example to eradicate my confusion.\r\n\r\nAs discussed above, in Java we are probably forced to use inclusion polymorphism to implement a Strategy pattern, but as explained above as well, patterns are not something that belong to a specific language, so if we think of the strategy pattern as a concept living outside any language boundaries then you will easily see other languages implement this in different ways.\r\n\r\nIn some hypothetical functional language I may have a function that reads some data from a file, maybe the file is encrypted and you need to provide a decryption strategy:\r\n\r\n    function readFile(path: String, decrypt: string -&gt; string) {\r\n        return decrypt(loadFromDisk(path));\r\n    }\r\n\r\nAnd that `decrypt` argument is a function that serves the purpose of a strategy pattern, it encapsulates an interchangeable algorithm.\r\n\r\nNow you can do\r\n\r\n    readFile(&quot;customers.txt&quot;, aes)\r\n    readFile(&quot;finance.txt&quot;, blowfish)\r\n\r\nWhere `aes` and `blowfish` are decryption function strategies.\r\n\r\nThere are dozens of languages that work like this, SML, Haskell, JavaScript, etc.","title":"Polymorphism vs Strategy pattern","body":"<blockquote>\n  <p><strong>Q:</strong> What is the difference between the Strategy pattern and Polymorphism\n  in Java?</p>\n</blockquote>\n\n<p>The questions is certainly confusing since initially there seems not to be any  relation between these two ideas.</p>\n\n<p>Polymorphism is a much broader concept in programming and yes the strategy pattern in Java uses a form of polymorphism catalogued as <a href=\"https://en.wikipedia.org/wiki/Polymorphism_%28computer_science%29#Subtyping\" rel=\"nofollow noreferrer\">inclusion polymorphism</a> to accomplish its intent, but this is by no means the only type of polymorphism that exists, neither it is the only way to implement the strategy pattern as I will demonstrate soon.</p>\n\n<p>Also polymorphism is not something that only exists in Java or in object-oriented programming languages. Different forms of polymorphism exist in all the programming paradigms and not in all languages you are forced to use polymorphism to implement a strategy pattern (e.g. functional languages).</p>\n\n<p>For further discussion on this topic please read <a href=\"https://stackoverflow.com/a/11732581/697630\">this other answer</a> where we have discussed whether polymorphism is possible without inheritance and I provide interesting references and examples to other types of polymorphism like parametric and ad-hoc polymorphism.</p>\n\n<p>Ideally this will reveal to you that polymorphism is a bigger concept that goes beyond the boundaries of object-oriented programming and even beyond inheritance and subtyping.    </p>\n\n<blockquote>\n  <p><strong>Q:</strong> I'm confused that whatever is achieved via Strategy Pattern is\n  basically possible by polymorphism. Correct me if I'm wrong in this\n  regard.</p>\n</blockquote>\n\n<p>From my point of view the relations between these two concepts are: that the strategy pattern leverages the power of polymorphism available in languages like Java to implement its intent, and that polymorphism can be considered in itself a pattern.</p>\n\n<p>For instance, consider this quote from the GoF book:</p>\n\n<blockquote>\n  <p>If we assumed procedural languages, we might have included design\n  patterns called 'inheritance', 'encapsulation' and 'polymorphism'.</p>\n</blockquote>\n\n<p>It is just that we rarely think of polymorphism as a pattern, first because it implies many things and because it is implemented differently in different languages and also because it typically presents as some form of language feature.</p>\n\n<p>In his book Elemental Design Patterns, Jason Mc C. Smith comments on the GoF quote above saying:</p>\n\n<blockquote>\n  <p>Pattern are language-independent concepts; they take form and become\n  concrete solutions when you implement them within a particular\n  language with a given set of language features and constructs [...]\n  This means that it is a bit strange to talk about \"Java design\n  pattern\", \"C++ design patterns\", \"Websphere design pattern\" and so on,\n  even though we all do it. It's a mildly lazy form of shorthand for\n  what we really mean, or should mean: design patterns as implemented in\n  Java, C++, WebSphere and so on, regardless of language or API.</p>\n</blockquote>\n\n<p>So, as you can see, you are thinking in the Strategy pattern from the perspective of the Java implementation, but in other language paradigms such pattern may have been implemented in different ways, probably without using inheritance at all, for example, in pure functional programming languages this is most certainly implemented using <a href=\"https://en.wikipedia.org/wiki/Higher-order_function\" rel=\"nofollow noreferrer\">high order functions</a> and <a href=\"https://en.wikipedia.org/wiki/Function_composition_(computer_science)\" rel=\"nofollow noreferrer\">function composition</a>.</p>\n\n<p>As such, this would be an strategy pattern implementation without resorting to <em>inclusion polymorphism</em> at all. In a function composition strategy we may still be using other forms of polymorphism (e.g. parametric), but that is not a requirement for the strategy pattern </p>\n\n<blockquote>\n  <p>Q: Please, also provide me example to eradicate my confusion.</p>\n</blockquote>\n\n<p>As discussed above, in Java we are probably forced to use inclusion polymorphism to implement a Strategy pattern, but as explained above as well, patterns are not something that belong to a specific language, so if we think of the strategy pattern as a concept living outside any language boundaries then you will easily see other languages implement this in different ways.</p>\n\n<p>In some hypothetical functional language I may have a function that reads some data from a file, maybe the file is encrypted and you need to provide a decryption strategy:</p>\n\n<pre><code>function readFile(path: String, decrypt: string -&gt; string) {\n    return decrypt(loadFromDisk(path));\n}\n</code></pre>\n\n<p>And that <code>decrypt</code> argument is a function that serves the purpose of a strategy pattern, it encapsulates an interchangeable algorithm.</p>\n\n<p>Now you can do</p>\n\n<pre><code>readFile(\"customers.txt\", aes)\nreadFile(\"finance.txt\", blowfish)\n</code></pre>\n\n<p>Where <code>aes</code> and <code>blowfish</code> are decryption function strategies.</p>\n\n<p>There are dozens of languages that work like this, SML, Haskell, JavaScript, etc.</p>\n"},{"tags":[],"owner":{"account_id":2718863,"reputation":154,"user_id":2345592,"display_name":"Omar Ayala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1442531577,"creation_date":1442531577,"answer_id":32641396,"question_id":31608902,"body_markdown":"One definition for Polymorphism is the provision of a single interface to entities of different types.\r\n\r\nWith that in mind say you have a “bird” interface and all of your bird classes must implement “laysEggs()” method, well no biggie that works. And as you keep coding your “bird paradise program” you now add the “fly()” and realize that overloading and overriding for penguin and kiwi is unnecessary as in real life they can&#39;t fly, yet you must still implement that method. This can become tedious and pointless as you are faced with Ostrich and others that can&#39;t fly. And even worst off when adding the method “swim()” because even fewer birds can swim. As you may already know, the strategy pattern solves this problem.\r\n\r\nIn lame-man’s terms you can think of Polymorphism as a conglomerate of practices, while the Strategy Pattern is the best practice for a specific case. Example: the Strategy Pattern is to be used when an algorithm&#39;s behavior needs to be selected at Runtime (via interchangeable algorithms). And although it is sort of true that whatever is achieved via Strategy Pattern is basically possible by polymorphism, without knowledge of the Strategy Pattern this would leave you with the “reinvent the wheel” problem to solve this specific problem. In conclusion, they are very different even if one is based on the other.\r\nI&#39;ll leave you to see “Ender Muab&#39;Dib” code as it is well explained if you still want a code example from me just ask, cheers and hope I helped.","title":"Polymorphism vs Strategy pattern","body":"<p>One definition for Polymorphism is the provision of a single interface to entities of different types.</p>\n\n<p>With that in mind say you have a “bird” interface and all of your bird classes must implement “laysEggs()” method, well no biggie that works. And as you keep coding your “bird paradise program” you now add the “fly()” and realize that overloading and overriding for penguin and kiwi is unnecessary as in real life they can't fly, yet you must still implement that method. This can become tedious and pointless as you are faced with Ostrich and others that can't fly. And even worst off when adding the method “swim()” because even fewer birds can swim. As you may already know, the strategy pattern solves this problem.</p>\n\n<p>In lame-man’s terms you can think of Polymorphism as a conglomerate of practices, while the Strategy Pattern is the best practice for a specific case. Example: the Strategy Pattern is to be used when an algorithm's behavior needs to be selected at Runtime (via interchangeable algorithms). And although it is sort of true that whatever is achieved via Strategy Pattern is basically possible by polymorphism, without knowledge of the Strategy Pattern this would leave you with the “reinvent the wheel” problem to solve this specific problem. In conclusion, they are very different even if one is based on the other.\nI'll leave you to see “Ender Muab'Dib” code as it is well explained if you still want a code example from me just ask, cheers and hope I helped.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1506278617,"creation_date":1465293350,"answer_id":37676102,"question_id":31608902,"body_markdown":"*Polymorphism is a principle and Strategy is a design pattern*\r\n\r\nFrom oracle documentation [page][1]\r\n\r\n&gt; The dictionary definition of polymorphism refers to a principle in biology in which an organism or species can have many different forms or stages. This principle can also be applied to object-oriented programming and languages like the Java language. Subclasses of a class can define their own unique behaviors and yet share some of the same functionality of the parent class.\r\n\r\nPolymorphism can be achieved in compile time ( method overloading)  and run time (method overriding).\r\n\r\n[Strategy_pattern][2] \r\n\r\n1. Defines a family of algorithms,\r\n2. Encapsulates each algorithm, and\r\n3. Makes the algorithms interchangeable within that family.\r\n\r\nStrategy can use run-time polymorphism principle to achieve the desired functionality.  \r\n\r\nStrategy pattern had one more component called Context in it&#39;s URL diagram.\r\nRefer to below SE posts:\r\n\r\nhttps://stackoverflow.com/questions/370258/real-world-example-of-the-strategy-pattern/35180265#35180265\r\n\r\nhttps://stackoverflow.com/questions/2010647/does-this-java-strategy-pattern-have-a-redundant-context-class/37613980#37613980\r\n\r\nFew more useful articles:\r\n\r\n[strategy][3] by sourcemaking\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html\r\n  [2]: https://en.wikipedia.org/wiki/Strategy_pattern\r\n  [3]: https://sourcemaking.com/design_patterns/strategy","title":"Polymorphism vs Strategy pattern","body":"<p><em>Polymorphism is a principle and Strategy is a design pattern</em></p>\n\n<p>From oracle documentation <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html\" rel=\"nofollow noreferrer\">page</a></p>\n\n<blockquote>\n  <p>The dictionary definition of polymorphism refers to a principle in biology in which an organism or species can have many different forms or stages. This principle can also be applied to object-oriented programming and languages like the Java language. Subclasses of a class can define their own unique behaviors and yet share some of the same functionality of the parent class.</p>\n</blockquote>\n\n<p>Polymorphism can be achieved in compile time ( method overloading)  and run time (method overriding).</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow noreferrer\">Strategy_pattern</a> </p>\n\n<ol>\n<li>Defines a family of algorithms,</li>\n<li>Encapsulates each algorithm, and</li>\n<li>Makes the algorithms interchangeable within that family.</li>\n</ol>\n\n<p>Strategy can use run-time polymorphism principle to achieve the desired functionality.  </p>\n\n<p>Strategy pattern had one more component called Context in it's URL diagram.\nRefer to below SE posts:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/370258/real-world-example-of-the-strategy-pattern/35180265#35180265\">Real World Example of the Strategy Pattern</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/2010647/does-this-java-strategy-pattern-have-a-redundant-context-class/37613980#37613980\">Does this Java Strategy pattern have a redundant Context class?</a></p>\n\n<p>Few more useful articles:</p>\n\n<p><a href=\"https://sourcemaking.com/design_patterns/strategy\" rel=\"nofollow noreferrer\">strategy</a> by sourcemaking</p>\n"},{"tags":[],"owner":{"account_id":120604,"reputation":116,"user_id":313136,"display_name":"Ahmad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605421050,"creation_date":1605421050,"answer_id":64841711,"question_id":31608902,"body_markdown":"Here is the concise response:\r\n\r\n 1. Polymorphism is one of the fundamental characteristics of\r\n    object-oriented programming. \r\n 2. Strategy pattern is a language-independent pattern that can be implemented by all\r\n    programming languages paradigms, such as imperative, functional, and\r\n    object-oriented.\r\n\r\nTherefore, if you are going to implement Strategy pattern by using Java, that is OOP, then you just need to use polymorphism. \r\n\r\nIn other words, Strategy pattern is one of many forms of polymorphism.","title":"Polymorphism vs Strategy pattern","body":"<p>Here is the concise response:</p>\n<ol>\n<li>Polymorphism is one of the fundamental characteristics of\nobject-oriented programming.</li>\n<li>Strategy pattern is a language-independent pattern that can be implemented by all\nprogramming languages paradigms, such as imperative, functional, and\nobject-oriented.</li>\n</ol>\n<p>Therefore, if you are going to implement Strategy pattern by using Java, that is OOP, then you just need to use polymorphism.</p>\n<p>In other words, Strategy pattern is one of many forms of polymorphism.</p>\n"}],"owner":{"account_id":3299690,"reputation":4078,"user_id":2776146,"accept_rate":91,"display_name":"TryinHard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17694,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":31664940,"answer_count":10,"score":63,"last_activity_date":1633586857,"creation_date":1437735744,"question_id":31608902,"body_markdown":"What is the difference between the `Strategy` pattern and `Polymorphism` in Java?\r\n\r\nI&#39;m confused that whatever is  achieved via Strategy Pattern is basically possible by polymorphism. Correct me if I&#39;m wrong in this regard.\r\n\r\nPlease, also provide me example to eradicate my confusion.\r\n","title":"Polymorphism vs Strategy pattern","body":"<p>What is the difference between the <code>Strategy</code> pattern and <code>Polymorphism</code> in Java?</p>\n\n<p>I'm confused that whatever is  achieved via Strategy Pattern is basically possible by polymorphism. Correct me if I'm wrong in this regard.</p>\n\n<p>Please, also provide me example to eradicate my confusion.</p>\n"},{"tags":["java","loops","swing","random","jframe"],"answers":[{"tags":[],"owner":{"account_id":2174552,"reputation":140,"user_id":1925570,"display_name":"Basileus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1594221442,"creation_date":1594221442,"answer_id":62798104,"question_id":62797834,"body_markdown":"Once the user finds the right number, all you need to do is to set a new value to your random number (Zahl) if the user wishes to continue:\r\n\r\n    if (dialogResult == 0) {\r\n       Zahl.set(r.nextInt(100 - 0 + 1));\r\n    }\r\n\r\nNote that it&#39;s inside a lambda function, so an option is to switch the int variable to an AtomicInteger. This way you can update it.\r\n\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    import javax.swing.*;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    import java.awt.event.ActionEvent;\r\n    import java.util.Random;\r\n        \r\n        public class Zahlenraten{\r\n            static int i = 0;\r\n            //static boolean w = true;\r\n            //static boolean s = true;\r\n            static int wert;\r\n           // static int Zahl1;\r\n            public static void main(String[] args) {\r\n                \r\n                JFrame f = new JFrame(&quot;Zahlenraten&quot;);\r\n                f.setSize(500,500);\r\n                //f.setLayout(null);\r\n                \r\n                JTextField t = new JTextField(&quot;&quot;);\r\n                t.setBounds(95,10,150,30);\r\n                f.addWindowFocusListener(new WindowAdapter() {\r\n                 \r\n                    public void windowGainedFocus(WindowEvent e) {\r\n                        t.requestFocusInWindow();\r\n                    }\r\n                });\r\n                \r\n                \r\n                JButton e = new JButton(&quot;Exit&quot;);\r\n                e.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                    System.exit(0);\r\n                    }\r\n                });\r\n                e.setBounds(300, 100, 100, 30);\r\n                \r\n                JLabel txt = new JLabel(&quot;Zahl eingeben:&quot;);\r\n                txt.setBounds(10,10,150,30);\r\n                \r\n                Random r = new Random();\r\n                AtomicInteger Zahl = new AtomicInteger(r.nextInt(100 - 0 + 1));\r\n                \r\n                JButton b = new JButton(&quot;Pr&#252;fen&quot;);\r\n                f.getRootPane().setDefaultButton(b);//Enter Key = button b\r\n                b.addActionListener(evt -&gt; {//statt evt k&#246;nnte man nat&#252;rlich auch actionPerformed... nehmen. \r\n    \r\n                    i++;\r\n                    \r\n                   /* while(w) {*/\r\n                        \r\n                    \r\n                   /* while(s) {*///Problem: wert wird endlos getestet, M&#246;glichkeit: Fehler bei Eingabe von String trien und catchen aber wie ??\r\n                        String str = t.getText();\r\n                        wert = Integer.parseInt(str);\r\n                        t.setText(&quot;&quot;);\r\n                    \r\n                    if(wert &gt; Zahl.get()) {\r\n                        System.out.println(&quot;Der gesuchte Wert ist kleiner.&quot;);\r\n                    }\r\n                    if(wert &lt; Zahl.get()) {\r\n                        System.out.println(&quot;Der gesuchte Wert ist gr&#246;&#223;er.&quot;);\r\n                    }\r\n                    if(wert == Zahl.get()) {\r\n                        System.out.println(&quot;Der gesuchte Wert wurde gefunden! Du hast &quot;+i+&quot; Versuche gebraucht.&quot;);\r\n                        int dialogResult = JOptionPane.showConfirmDialog(null, &quot;Wollen Sie eine neue Runde starten?&quot;, &quot;Frage&quot;, JOptionPane.YES_NO_OPTION);\r\n                        if (dialogResult == 0) {\r\n                          Zahl.set(r.nextInt(100 - 0 + 1));\r\n                        }else {\r\n                            //w = false;\r\n                            System.exit(0);\r\n                        }\r\n                        //s = false;\r\n                    }\r\n                    \r\n                   // }\r\n                      \r\n                     \r\n              //  }\r\n               });\r\n                \r\n                \r\n                \r\n                \r\n                b.setBounds(10,100,100,30);\r\n                \r\n                JPanel p = new JPanel();\r\n                p.setLayout(null);\r\n                p.add(b);\r\n                p.add(e);\r\n                p.add(t);\r\n                p.add(txt);\r\n                f.add(p);\r\n                f.setVisible(true);\r\n                \r\n            }\r\n        }","title":"How I can make my program generate a new random number?","body":"<p>Once the user finds the right number, all you need to do is to set a new value to your random number (Zahl) if the user wishes to continue:</p>\n<pre><code>if (dialogResult == 0) {\n   Zahl.set(r.nextInt(100 - 0 + 1));\n}\n</code></pre>\n<p>Note that it's inside a lambda function, so an option is to switch the int variable to an AtomicInteger. This way you can update it.</p>\n<pre><code>import java.util.concurrent.atomic.AtomicInteger;\nimport javax.swing.*;\nimport java.awt.event.ActionListener;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport java.awt.event.ActionEvent;\nimport java.util.Random;\n    \n    public class Zahlenraten{\n        static int i = 0;\n        //static boolean w = true;\n        //static boolean s = true;\n        static int wert;\n       // static int Zahl1;\n        public static void main(String[] args) {\n            \n            JFrame f = new JFrame(&quot;Zahlenraten&quot;);\n            f.setSize(500,500);\n            //f.setLayout(null);\n            \n            JTextField t = new JTextField(&quot;&quot;);\n            t.setBounds(95,10,150,30);\n            f.addWindowFocusListener(new WindowAdapter() {\n             \n                public void windowGainedFocus(WindowEvent e) {\n                    t.requestFocusInWindow();\n                }\n            });\n            \n            \n            JButton e = new JButton(&quot;Exit&quot;);\n            e.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                System.exit(0);\n                }\n            });\n            e.setBounds(300, 100, 100, 30);\n            \n            JLabel txt = new JLabel(&quot;Zahl eingeben:&quot;);\n            txt.setBounds(10,10,150,30);\n            \n            Random r = new Random();\n            AtomicInteger Zahl = new AtomicInteger(r.nextInt(100 - 0 + 1));\n            \n            JButton b = new JButton(&quot;Prüfen&quot;);\n            f.getRootPane().setDefaultButton(b);//Enter Key = button b\n            b.addActionListener(evt -&gt; {//statt evt könnte man natürlich auch actionPerformed... nehmen. \n\n                i++;\n                \n               /* while(w) {*/\n                    \n                \n               /* while(s) {*///Problem: wert wird endlos getestet, Möglichkeit: Fehler bei Eingabe von String trien und catchen aber wie ??\n                    String str = t.getText();\n                    wert = Integer.parseInt(str);\n                    t.setText(&quot;&quot;);\n                \n                if(wert &gt; Zahl.get()) {\n                    System.out.println(&quot;Der gesuchte Wert ist kleiner.&quot;);\n                }\n                if(wert &lt; Zahl.get()) {\n                    System.out.println(&quot;Der gesuchte Wert ist größer.&quot;);\n                }\n                if(wert == Zahl.get()) {\n                    System.out.println(&quot;Der gesuchte Wert wurde gefunden! Du hast &quot;+i+&quot; Versuche gebraucht.&quot;);\n                    int dialogResult = JOptionPane.showConfirmDialog(null, &quot;Wollen Sie eine neue Runde starten?&quot;, &quot;Frage&quot;, JOptionPane.YES_NO_OPTION);\n                    if (dialogResult == 0) {\n                      Zahl.set(r.nextInt(100 - 0 + 1));\n                    }else {\n                        //w = false;\n                        System.exit(0);\n                    }\n                    //s = false;\n                }\n                \n               // }\n                  \n                 \n          //  }\n           });\n            \n            \n            \n            \n            b.setBounds(10,100,100,30);\n            \n            JPanel p = new JPanel();\n            p.setLayout(null);\n            p.add(b);\n            p.add(e);\n            p.add(t);\n            p.add(txt);\n            f.add(p);\n            f.setVisible(true);\n            \n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":18683361,"reputation":29,"user_id":13619435,"display_name":"aren pi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62798104,"answer_count":1,"score":0,"last_activity_date":1633586789,"creation_date":1594220644,"question_id":62797834,"body_markdown":"So I tried closing the window and reopening it afterwards so the whole program would start from the beginning. That didn&#39;t work. Neither does Revalidating the frame (f.revalidate(), f.repaint()).. \r\nI&#39;ve tried looping the if-functions with a while loop, setting the boolean to false when the number has been guessed. But that just resulted in an endless loop of testing if the number is correct, because the loop is activated as the button is clicked.\r\n\r\n\r\n    import javax.swing.*;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    import java.awt.event.ActionEvent;\r\n    import java.util.Random;\r\n        \r\n        public class Zahlenraten{\r\n            static int i = 0;\r\n            //static boolean w = true;\r\n            //static boolean s = true;\r\n            static int wert;\r\n           // static int Zahl1;\r\n            public static void main(String[] args) {\r\n                \r\n                JFrame f = new JFrame(&quot;Zahlenraten&quot;);\r\n                f.setSize(500,500);\r\n                //f.setLayout(null);\r\n                \r\n                JTextField t = new JTextField(&quot;&quot;);\r\n                t.setBounds(95,10,150,30);\r\n                f.addWindowFocusListener(new WindowAdapter() {\r\n                 \r\n                    public void windowGainedFocus(WindowEvent e) {\r\n                        t.requestFocusInWindow();\r\n                    }\r\n                });\r\n                \r\n                \r\n                JButton e = new JButton(&quot;Exit&quot;);\r\n                e.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                    System.exit(0);\r\n                    }\r\n                });\r\n                e.setBounds(300, 100, 100, 30);\r\n                \r\n                JLabel txt = new JLabel(&quot;Zahl eingeben:&quot;);\r\n                txt.setBounds(10,10,150,30);\r\n                \r\n                Random r = new Random();\r\n                int Zahl = r.nextInt(100-0+1);\r\n                \r\n                JButton b = new JButton(&quot;Pr&#252;fen&quot;);\r\n                f.getRootPane().setDefaultButton(b);//Enter Key = button b\r\n                b.addActionListener(evt -&gt; {//statt evt k&#246;nnte man nat&#252;rlich auch actionPerformed... nehmen. \r\n    \r\n                    i++;\r\n                    \r\n                   /* while(w) {*/\r\n                        \r\n                    \r\n                   /* while(s) {*///Problem: wert wird endlos getestet, M&#246;glichkeit: Fehler bei Eingabe von String trien und catchen aber wie ??\r\n                    \tString str = t.getText();\r\n                        wert = Integer.parseInt(str);\r\n                        t.setText(&quot;&quot;);\r\n                   \t\r\n                    if(wert &gt; Zahl) {\r\n                        System.out.println(&quot;Der gesuchte Wert ist kleiner.&quot;);\r\n                    }\r\n                    if(wert &lt; Zahl) {\r\n                        System.out.println(&quot;Der gesuchte Wert ist gr&#246;&#223;er.&quot;);\r\n                    }\r\n                    if(wert == Zahl) {\r\n                        System.out.println(&quot;Der gesuchte Wert wurde gefunden! Du hast &quot;+i+&quot; Versuche gebraucht.&quot;);\r\n                        int dialogResult = JOptionPane.showConfirmDialog(null, &quot;Wollen Sie eine neue Runde starten?&quot;, &quot;Frage&quot;, JOptionPane.YES_NO_OPTION);\r\n                        if (dialogResult == 0) {\r\n                        \t\r\n                        }else {\r\n                        \t//w = false;\r\n                        \tSystem.exit(0);\r\n                        }\r\n                        //s = false;\r\n                    }\r\n                    \r\n                   // }\r\n                      \r\n                     \r\n              //  }\r\n               });\r\n                \r\n                \r\n                \r\n                \r\n                b.setBounds(10,100,100,30);\r\n                \r\n                JPanel p = new JPanel();\r\n                p.setLayout(null);\r\n                p.add(b);\r\n                p.add(e);\r\n                p.add(t);\r\n                p.add(txt);\r\n                f.add(p);\r\n                f.setVisible(true);\r\n                \r\n            }\r\n        }\r\n\r\nThanks in advance!\r\n\r\n","title":"How I can make my program generate a new random number?","body":"<p>So I tried closing the window and reopening it afterwards so the whole program would start from the beginning. That didn't work. Neither does Revalidating the frame (f.revalidate(), f.repaint())..\nI've tried looping the if-functions with a while loop, setting the boolean to false when the number has been guessed. But that just resulted in an endless loop of testing if the number is correct, because the loop is activated as the button is clicked.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.ActionListener;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport java.awt.event.ActionEvent;\nimport java.util.Random;\n    \n    public class Zahlenraten{\n        static int i = 0;\n        //static boolean w = true;\n        //static boolean s = true;\n        static int wert;\n       // static int Zahl1;\n        public static void main(String[] args) {\n            \n            JFrame f = new JFrame(&quot;Zahlenraten&quot;);\n            f.setSize(500,500);\n            //f.setLayout(null);\n            \n            JTextField t = new JTextField(&quot;&quot;);\n            t.setBounds(95,10,150,30);\n            f.addWindowFocusListener(new WindowAdapter() {\n             \n                public void windowGainedFocus(WindowEvent e) {\n                    t.requestFocusInWindow();\n                }\n            });\n            \n            \n            JButton e = new JButton(&quot;Exit&quot;);\n            e.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                System.exit(0);\n                }\n            });\n            e.setBounds(300, 100, 100, 30);\n            \n            JLabel txt = new JLabel(&quot;Zahl eingeben:&quot;);\n            txt.setBounds(10,10,150,30);\n            \n            Random r = new Random();\n            int Zahl = r.nextInt(100-0+1);\n            \n            JButton b = new JButton(&quot;Prüfen&quot;);\n            f.getRootPane().setDefaultButton(b);//Enter Key = button b\n            b.addActionListener(evt -&gt; {//statt evt könnte man natürlich auch actionPerformed... nehmen. \n\n                i++;\n                \n               /* while(w) {*/\n                    \n                \n               /* while(s) {*///Problem: wert wird endlos getestet, Möglichkeit: Fehler bei Eingabe von String trien und catchen aber wie ??\n                    String str = t.getText();\n                    wert = Integer.parseInt(str);\n                    t.setText(&quot;&quot;);\n                \n                if(wert &gt; Zahl) {\n                    System.out.println(&quot;Der gesuchte Wert ist kleiner.&quot;);\n                }\n                if(wert &lt; Zahl) {\n                    System.out.println(&quot;Der gesuchte Wert ist größer.&quot;);\n                }\n                if(wert == Zahl) {\n                    System.out.println(&quot;Der gesuchte Wert wurde gefunden! Du hast &quot;+i+&quot; Versuche gebraucht.&quot;);\n                    int dialogResult = JOptionPane.showConfirmDialog(null, &quot;Wollen Sie eine neue Runde starten?&quot;, &quot;Frage&quot;, JOptionPane.YES_NO_OPTION);\n                    if (dialogResult == 0) {\n                        \n                    }else {\n                        //w = false;\n                        System.exit(0);\n                    }\n                    //s = false;\n                }\n                \n               // }\n                  \n                 \n          //  }\n           });\n            \n            \n            \n            \n            b.setBounds(10,100,100,30);\n            \n            JPanel p = new JPanel();\n            p.setLayout(null);\n            p.add(b);\n            p.add(e);\n            p.add(t);\n            p.add(txt);\n            f.add(p);\n            f.setVisible(true);\n            \n        }\n    }\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","android-room","android-proguard"],"answers":[{"tags":[],"owner":{"account_id":1771660,"reputation":8667,"user_id":1616317,"display_name":"karan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1544424955,"creation_date":1544424955,"answer_id":53700820,"question_id":53700773,"body_markdown":"Add below lines for `keep` section in your proguard file.\r\n\r\n    -dontwarn android.arch.util.paging.CountedDataSource\r\n    -dontwarn android.arch.persistence.room.paging.LimitOffsetDataSource","title":"How to set proguard rule for Room library on Android","body":"<p>Add below lines for <code>keep</code> section in your proguard file.</p>\n\n<pre><code>-dontwarn android.arch.util.paging.CountedDataSource\n-dontwarn android.arch.persistence.room.paging.LimitOffsetDataSource\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10251764,"reputation":278,"user_id":7579747,"display_name":"Виталий Робиновский"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1617707457,"creation_date":1571855378,"answer_id":58529027,"question_id":53700773,"body_markdown":"\r\nIf you use androidx\r\n\r\n    -keep class * extends androidx.room.RoomDatabase\r\n    -keep @androidx.room.Entity class *\r\n    -dontwarn androidx.room.paging.**","title":"How to set proguard rule for Room library on Android","body":"<p>If you use androidx</p>\n<pre><code>-keep class * extends androidx.room.RoomDatabase\n-keep @androidx.room.Entity class *\n-dontwarn androidx.room.paging.**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14507747,"reputation":605,"user_id":10479081,"display_name":"Shogun Nassar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633586690,"creation_date":1633586690,"answer_id":69476165,"question_id":53700773,"body_markdown":"You need to add this line in the proguard file\r\n\r\n    -keepclassmembers,allowobfuscation class * {\r\n    @com.google.gson.annotations.SerializedName &lt;fields&gt;;\r\n    }\r\n\r\nAnd your model entity should look like this add SerializedName(&quot;key&quot;) \r\n\r\n    @Entity\r\n    data class ListElement(\r\n\r\n    @NonNull\r\n    @PrimaryKey\r\n    @SerializedName(&quot;id&quot;)\r\n    @Expose\r\n    val id: Int,\r\n\r\n    @SerializedName(&quot;userId&quot;)\r\n    @Expose\r\n    val userId: Int,\r\n\r\n    @SerializedName(&quot;title&quot;)\r\n    @Expose\r\n    val title: String,\r\n\r\n    @SerializedName(&quot;completed&quot;)\r\n    @Expose\r\n    val completed: Boolean\r\n)","title":"How to set proguard rule for Room library on Android","body":"<p>You need to add this line in the proguard file</p>\n<pre><code>-keepclassmembers,allowobfuscation class * {\n@com.google.gson.annotations.SerializedName &lt;fields&gt;;\n}\n</code></pre>\n<p>And your model entity should look like this add SerializedName(&quot;key&quot;)</p>\n<pre><code>@Entity\ndata class ListElement(\n\n@NonNull\n@PrimaryKey\n@SerializedName(&quot;id&quot;)\n@Expose\nval id: Int,\n\n@SerializedName(&quot;userId&quot;)\n@Expose\nval userId: Int,\n\n@SerializedName(&quot;title&quot;)\n@Expose\nval title: String,\n\n@SerializedName(&quot;completed&quot;)\n@Expose\nval completed: Boolean\n</code></pre>\n<p>)</p>\n"}],"owner":{"account_id":14773886,"reputation":259,"user_id":10669458,"display_name":"Dr. Jake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12913,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":53700820,"answer_count":3,"score":10,"last_activity_date":1633586690,"creation_date":1544424776,"question_id":53700773,"body_markdown":"In my application i want use `Room` library for use **database**, and for finally for **generate APK** i enable **minify** option (**proguard**) in `Build.Gradle` .&lt;br&gt;\r\n\r\n**I use below version of Room library :** \r\n\r\n    implementation &quot;android.arch.persistence.room:runtime:1.1.1&quot;\r\n    annotationProcessor &quot;android.arch.persistence.room:compiler:1.1.1&quot;\r\n\r\n**I write below codes in proguard-rules :** \r\n\r\n    -dontwarn class android.arch.persistence.room.paging.LimitOffsetDataSource\r\n    -dontwarn interface android.arch.persistence.room.paging.LimitOffsetDataSource\r\n    -dontwarn class android.arch.util.paging.CountedDataSource\r\n    -dontwarn interface android.arch.util.paging.CountedDataSource\r\n\r\n**But when generate APK show me below error in `Build` tab :** \r\n\r\n    Unknown option &#39;android.arch.persistence.room.paging.LimitOffsetDataSource&#39; in line 39 of file &#39;/Volumes/M/Test Projects/MyApp/app/proguard-rules.pro&#39;\r\n\r\n**Show me error for this line :** \r\n\r\n    -dontwarn class android.arch.persistence.room.paging.LimitOffsetDataSource\r\n\r\nHow can fix this issue?\r\n","title":"How to set proguard rule for Room library on Android","body":"<p>In my application i want use <code>Room</code> library for use <strong>database</strong>, and for finally for <strong>generate APK</strong> i enable <strong>minify</strong> option (<strong>proguard</strong>) in <code>Build.Gradle</code> .<br></p>\n\n<p><strong>I use below version of Room library :</strong> </p>\n\n<pre><code>implementation \"android.arch.persistence.room:runtime:1.1.1\"\nannotationProcessor \"android.arch.persistence.room:compiler:1.1.1\"\n</code></pre>\n\n<p><strong>I write below codes in proguard-rules :</strong> </p>\n\n<pre><code>-dontwarn class android.arch.persistence.room.paging.LimitOffsetDataSource\n-dontwarn interface android.arch.persistence.room.paging.LimitOffsetDataSource\n-dontwarn class android.arch.util.paging.CountedDataSource\n-dontwarn interface android.arch.util.paging.CountedDataSource\n</code></pre>\n\n<p><strong>But when generate APK show me below error in <code>Build</code> tab :</strong> </p>\n\n<pre><code>Unknown option 'android.arch.persistence.room.paging.LimitOffsetDataSource' in line 39 of file '/Volumes/M/Test Projects/MyApp/app/proguard-rules.pro'\n</code></pre>\n\n<p><strong>Show me error for this line :</strong> </p>\n\n<pre><code>-dontwarn class android.arch.persistence.room.paging.LimitOffsetDataSource\n</code></pre>\n\n<p>How can fix this issue?</p>\n"},{"tags":["java","maven","jenkins"],"comments":[{"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"score":0,"creation_date":1633565566,"post_id":69473552,"comment_id":122796370,"body_markdown":"Is &quot;locally&quot; a WIN PC and &quot;in Jenkins&quot; a linux box (`/var/root/.jenkins`)  ? Linux does not handle spaces well: &quot;`.../Jaydip/GitHub/BackUp Projects/bse-integration-salesforce-TestNG/`&quot;. Also not clear why it says: &quot;Building in workspace `/var/root/.jenkins/workspace/LocalProject`&quot; but attempting to read the POM from: &quot;`/Users/jaydippatel/Documents/Jaydip/`&quot;; I&#39;d expect your source to be inside the the workspace folder.","body":"Is &quot;locally&quot; a WIN PC and &quot;in Jenkins&quot; a linux box (<code>&#47;var&#47;root&#47;.jenkins</code>)  ? Linux does not handle spaces well: &quot;<code>...&#47;Jaydip&#47;GitHub&#47;BackUp Projects&#47;bse-integration-salesforce-TestNG&#47;</code>&quot;. Also not clear why it says: &quot;Building in workspace <code>&#47;var&#47;root&#47;.jenkins&#47;workspace&#47;LocalProject</code>&quot; but attempting to read the POM from: &quot;<code>&#47;Users&#47;jaydippatel&#47;Documents&#47;Jaydip&#47;</code>&quot;; I&#39;d expect your source to be inside the the workspace folder."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1633587541,"post_id":69473552,"comment_id":122800182,"body_markdown":"Judging from the error you are on linux, does the file have the correct permissions so that it is actually readable by the process that Jenkins runs with?","body":"Judging from the error you are on linux, does the file have the correct permissions so that it is actually readable by the process that Jenkins runs with?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1633592629,"post_id":69473552,"comment_id":122801860,"body_markdown":"The issue looks like `(Operation not permitted) @` ....","body":"The issue looks like <code>(Operation not permitted) @</code> ...."},{"owner":{"account_id":22374272,"reputation":1,"user_id":16588810,"display_name":"Jay"},"score":0,"creation_date":1633626986,"post_id":69473552,"comment_id":122816569,"body_markdown":"@Ian W Yes, I am on macOS. also my workspace is still in local file system and I have provided path for pom.xml as /Users/jaydippatel/Documents/Jaydip/GitHub/BackUp Projects/bse-integration-salesforce-TestNG/pom.xml thats why its trying to read it from users directory.","body":"@Ian W Yes, I am on macOS. also my workspace is still in local file system and I have provided path for pom.xml as /Users/jaydippatel/Documents/Jaydip/GitHub/BackUp Projects/bse-integration-salesforce-TestNG/pom.xml thats why its trying to read it from users directory."},{"owner":{"account_id":22374272,"reputation":1,"user_id":16588810,"display_name":"Jay"},"score":0,"creation_date":1633627072,"post_id":69473552,"comment_id":122816602,"body_markdown":"@M. Deinum: Yes I checked the file permissions and all users on machine has read/write access if thats what you were asking.","body":"@M. Deinum: Yes I checked the file permissions and all users on machine has read/write access if thats what you were asking."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1633627830,"post_id":69473552,"comment_id":122816872,"body_markdown":"Why isn&#39;t Jenkins just running maven from the root of your project? I assume the file system on your mac isn&#39;t the same as Jenkins so why should jenkins be able to access in that specific location?","body":"Why isn&#39;t Jenkins just running maven from the root of your project? I assume the file system on your mac isn&#39;t the same as Jenkins so why should jenkins be able to access in that specific location?"},{"owner":{"account_id":22374272,"reputation":1,"user_id":16588810,"display_name":"Jay"},"score":0,"creation_date":1633714957,"post_id":69473552,"comment_id":122842498,"body_markdown":"@M. Deinum - I am not following 100% what you are pointing out. but I am trying this for first time on Mac machine so guide me about what you mean and what could I try.","body":"@M. Deinum - I am not following 100% what you are pointing out. but I am trying this for first time on Mac machine so guide me about what you mean and what could I try."},{"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"score":1,"creation_date":1633926909,"post_id":69473552,"comment_id":122880687,"body_markdown":"Most Jenkins users locate their source and pom.xml in a repo, clone the repo into workspace as part of the job and run within the context of the workspace.","body":"Most Jenkins users locate their source and pom.xml in a repo, clone the repo into workspace as part of the job and run within the context of the workspace."}],"owner":{"account_id":22374272,"reputation":1,"user_id":16588810,"display_name":"Jay"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633586574,"creation_date":1633560968,"question_id":69473552,"body_markdown":"Below is my POM.xml and it works well locally. but when I run it from Jenkins I see below error.\r\n\r\n    Running as SYSTEM\r\n    Building in workspace /var/root/.jenkins/workspace/LocalProject\r\n    Parsing POMs\r\n    ERROR: Failed to parse POMs\r\n    org.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs:\r\n    [FATAL] Non-readable POM /Users/jaydippatel/Documents/Jaydip/GitHub/BackUp Projects/bse-integration-salesforce-TestNG/pom.xml: /Users/jaydippatel/Documents/Jaydip/GitHub/BackUp Projects/bse-integration-salesforce-TestNG/pom.xml (Operation not permitted) @ \r\n    \r\n    \tat org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:397)\r\n    \tat hudson.maven.MavenEmbedder.buildProjects(MavenEmbedder.java:370)\r\n    \tat hudson.maven.MavenEmbedder.readProjects(MavenEmbedder.java:340)\r\n    \tat hudson.maven.MavenModuleSetBuild$PomParser.invoke(MavenModuleSetBuild.java:1330)\r\n    \tat hudson.maven.MavenModuleSetBuild$PomParser.invoke(MavenModuleSetBuild.java:1124)\r\n    \tat hudson.FilePath.act(FilePath.java:1173)\r\n    \tat hudson.FilePath.act(FilePath.java:1156)\r\n    \tat hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.parsePoms(MavenModuleSetBuild.java:985)\r\n    \tat hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.doRun(MavenModuleSetBuild.java:689)\r\n    \tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:516)\r\n    \tat hudson.model.Run.execute(Run.java:1889)\r\n    \tat hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:543)\r\n    \tat hudson.model.ResourceController.execute(ResourceController.java:100)\r\n    \tat hudson.model.Executor.run(Executor.java:433)\r\n    Finished: FAILURE\r\n\r\nBuild advance settings are set as below:\r\nMaven Validation level: DEFAULT\r\nSettings File: Use Default maven settings\r\nGlobal Settings file: User default maven global settings\r\n\r\nPOM.xml is as below.\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;lyft&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;homepage&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\r\n\r\n\t&lt;name&gt;homepage&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n\t\t&lt;cucumber.version&gt;6.10.2&lt;/cucumber.version&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;lombok.version&gt;1.18.18&lt;/lombok.version&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;xml-path&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;20210307&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.13&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.141.59&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\t\r\n\t\t&lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;6.9.10&lt;/version&gt;\r\n\t\t    &lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;6.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; --&gt;\r\n\t\t&lt;!-- &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;6.9.1&lt;/version&gt;\r\n\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.8.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt; --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.konghq&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.11.09&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;extentreports-cucumber6-adapter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.4&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\r\n\t\t&lt;plugins&gt;\r\n\r\n\t     &lt;plugin&gt;\r\n\t        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t        &lt;version&gt;3.8.1&lt;/version&gt;\r\n\t        &lt;configuration&gt;\r\n\t\t\t\t&lt;!-- &lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t&lt;target&gt;1.8&lt;/target&gt; --&gt;\r\n\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n                &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;fork&gt;true&lt;/fork&gt;\r\n                &lt;compilerArgs&gt;\r\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\r\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\r\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\r\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\r\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\r\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\r\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\r\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\r\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\r\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;/compilerArgs&gt;\r\n                &lt;annotationProcessorPaths&gt;\r\n                    &lt;path&gt;\r\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                    &lt;/path&gt;\r\n                &lt;/annotationProcessorPaths&gt;\r\n\t        &lt;/configuration&gt;\r\n\t      &lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;!-- &lt;parallel&gt;methods&lt;/parallel&gt; --&gt;\r\n\t\t\t\t\t&lt;suiteXmlFiles&gt;testng.xml&lt;/suiteXmlFiles&gt;\r\n\t\t\t\t\t&lt;!-- &lt;useUnlimitedThread&gt;true&lt;/useUnlimitedThread&gt;\r\n\t\t\t\t\t&lt;perCoreThreadCount&gt;false&lt;/perCoreThreadCount&gt; --&gt;\r\n\t\t\t\t\t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;5.5.4&lt;/version&gt;\r\n\t\t\t    &lt;executions&gt;\r\n\t\t\t    \t&lt;execution&gt;\r\n\t\t\t    \t\t&lt;id&gt;execution&lt;/id&gt;\r\n\t\t\t    \t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t    \t\t&lt;goals&gt;\r\n\t\t\t    \t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t    \t\t&lt;/goals&gt;\r\n\t\t\t    \t\t&lt;configuration&gt;\r\n\t\t\t    \t\t\t&lt;projectName&gt;Salesforce&lt;/projectName&gt;\r\n\t\t\t    \t\t\t&lt;cucumberOutput&gt;target/cucumber-reports/CucumberReport.json&lt;/cucumberOutput&gt;\r\n\t\t\t    \t\t\t&lt;buildNumber&gt;1&lt;/buildNumber&gt;\r\n\t\t\t    \t\t\t&lt;prallelTesting&gt;false&lt;/prallelTesting&gt;\r\n\t\t\t    \t\t&lt;/configuration&gt;\r\n\t\t\t    \t&lt;/execution&gt;\r\n\t\t\t    &lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;classpathPrefix&gt;.&lt;/classpathPrefix&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;mainClass&gt;test.TestRunner&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t\t\t\t&lt;manifestEntries&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;Class-Path&gt;.&lt;/Class-Path&gt;\r\n\t\t\t\t\t\t\t\t&lt;/manifestEntries&gt;\r\n\t\t\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"JENKINS: parsing POM error for Maven project: FATAL Non-Readable POM","body":"<p>Below is my POM.xml and it works well locally. but when I run it from Jenkins I see below error.</p>\n<pre><code>Running as SYSTEM\nBuilding in workspace /var/root/.jenkins/workspace/LocalProject\nParsing POMs\nERROR: Failed to parse POMs\norg.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs:\n[FATAL] Non-readable POM /Users/jaydippatel/Documents/Jaydip/GitHub/BackUp Projects/bse-integration-salesforce-TestNG/pom.xml: /Users/jaydippatel/Documents/Jaydip/GitHub/BackUp Projects/bse-integration-salesforce-TestNG/pom.xml (Operation not permitted) @ \n\n    at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:397)\n    at hudson.maven.MavenEmbedder.buildProjects(MavenEmbedder.java:370)\n    at hudson.maven.MavenEmbedder.readProjects(MavenEmbedder.java:340)\n    at hudson.maven.MavenModuleSetBuild$PomParser.invoke(MavenModuleSetBuild.java:1330)\n    at hudson.maven.MavenModuleSetBuild$PomParser.invoke(MavenModuleSetBuild.java:1124)\n    at hudson.FilePath.act(FilePath.java:1173)\n    at hudson.FilePath.act(FilePath.java:1156)\n    at hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.parsePoms(MavenModuleSetBuild.java:985)\n    at hudson.maven.MavenModuleSetBuild$MavenModuleSetBuildExecution.doRun(MavenModuleSetBuild.java:689)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:516)\n    at hudson.model.Run.execute(Run.java:1889)\n    at hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:543)\n    at hudson.model.ResourceController.execute(ResourceController.java:100)\n    at hudson.model.Executor.run(Executor.java:433)\nFinished: FAILURE\n</code></pre>\n<p>Build advance settings are set as below:\nMaven Validation level: DEFAULT\nSettings File: Use Default maven settings\nGlobal Settings file: User default maven global settings</p>\n<p>POM.xml is as below.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;lyft&lt;/groupId&gt;\n    &lt;artifactId&gt;homepage&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n\n\n    &lt;name&gt;homepage&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n        &lt;cucumber.version&gt;6.10.2&lt;/cucumber.version&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;lombok.version&gt;1.18.18&lt;/lombok.version&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;version&gt;4.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n        &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\n        &lt;version&gt;4.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n        &lt;artifactId&gt;xml-path&lt;/artifactId&gt;\n        &lt;version&gt;4.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20210307&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.141.59&lt;/version&gt;\n        &lt;/dependency&gt;   \n        &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;6.9.10&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n            &lt;version&gt;6.9.1&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;6.9.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n            &lt;version&gt;6.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.konghq&lt;/groupId&gt;\n            &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\n            &lt;version&gt;3.11.09&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports-cucumber6-adapter&lt;/artifactId&gt;\n            &lt;version&gt;2.8.4&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                    &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                    &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                    &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n    \n        &lt;plugins&gt;\n\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;!-- &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt; --&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;fork&gt;true&lt;/fork&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!-- &lt;parallel&gt;methods&lt;/parallel&gt; --&gt;\n                    &lt;suiteXmlFiles&gt;testng.xml&lt;/suiteXmlFiles&gt;\n                    &lt;!-- &lt;useUnlimitedThread&gt;true&lt;/useUnlimitedThread&gt;\n                    &lt;perCoreThreadCount&gt;false&lt;/perCoreThreadCount&gt; --&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n                &lt;version&gt;5.5.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;execution&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;projectName&gt;Salesforce&lt;/projectName&gt;\n                            &lt;cucumberOutput&gt;target/cucumber-reports/CucumberReport.json&lt;/cucumberOutput&gt;\n                            &lt;buildNumber&gt;1&lt;/buildNumber&gt;\n                            &lt;prallelTesting&gt;false&lt;/prallelTesting&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;archive&gt;\n                                &lt;manifest&gt;\n                                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                                    &lt;classpathPrefix&gt;.&lt;/classpathPrefix&gt;\n                                    &lt;mainClass&gt;test.TestRunner&lt;/mainClass&gt;\n                                &lt;/manifest&gt;\n                                &lt;manifestEntries&gt;\n                                    &lt;Class-Path&gt;.&lt;/Class-Path&gt;\n                                &lt;/manifestEntries&gt;\n                            &lt;/archive&gt;\n                            &lt;descriptorRefs&gt;\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                            &lt;/descriptorRefs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","swing","jframe","jpanel"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1593603732,"post_id":62675912,"comment_id":110837685,"body_markdown":"I don&#39;t exactly get what you mean by &quot;from the panel&quot;. Can you specify that a bit more?","body":"I don&#39;t exactly get what you mean by &quot;from the panel&quot;. Can you specify that a bit more?"},{"owner":{"account_id":17112953,"reputation":13,"user_id":12383255,"display_name":"Nemora"},"score":0,"creation_date":1593604423,"post_id":62675912,"comment_id":110838008,"body_markdown":"I am writing a method in Testpanel which needs to call a method from obj. (in my case: obj is a JChannel and I create a Message in a method in Testpanel, but can&#39;t find a way to call the send method of the JChannel)","body":"I am writing a method in Testpanel which needs to call a method from obj. (in my case: obj is a JChannel and I create a Message in a method in Testpanel, but can&#39;t find a way to call the send method of the JChannel)"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1593605313,"post_id":62675912,"comment_id":110838469,"body_markdown":"I see. I don&#39;t think what you mean is possible, because neither the `frame` nor the `panel` have a reference to `obj`. What is stopping you from passing the reference to `obj` to the `panel` via constructor or setter for example?","body":"I see. I don&#39;t think what you mean is possible, because neither the <code>frame</code> nor the <code>panel</code> have a reference to <code>obj</code>. What is stopping you from passing the reference to <code>obj</code> to the <code>panel</code> via constructor or setter for example?"},{"owner":{"account_id":17112953,"reputation":13,"user_id":12383255,"display_name":"Nemora"},"score":0,"creation_date":1593605679,"post_id":62675912,"comment_id":110838645,"body_markdown":"The task is to modify the code so the drawings synchronize. It&#39;s never specified what exactly we are allowed to edit, so I try to only add things where we are specifically told to do so and not to touch any of the existing stuff. ^^ But I think I will pass &quot;this&quot; in the constructor of the panel so I have access to everything. Thank you for your help :)","body":"The task is to modify the code so the drawings synchronize. It&#39;s never specified what exactly we are allowed to edit, so I try to only add things where we are specifically told to do so and not to touch any of the existing stuff. ^^ But I think I will pass &quot;this&quot; in the constructor of the panel so I have access to everything. Thank you for your help :)"}],"answers":[{"tags":[],"owner":{"account_id":17112953,"reputation":13,"user_id":12383255,"display_name":"Nemora"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1598944911,"creation_date":1598944911,"answer_id":63683113,"question_id":62675912,"body_markdown":"No; Not without passing the reference to object to the panel.\r\n","title":"Can I acces variables and/or methods of the class a JFrame was created in from the panel?","body":"<p>No; Not without passing the reference to object to the panel.</p>\n"}],"owner":{"account_id":17112953,"reputation":13,"user_id":12383255,"display_name":"Nemora"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63683113,"answer_count":1,"score":0,"last_activity_date":1633585949,"creation_date":1593603182,"question_id":62675912,"body_markdown":"shortened code:\r\n\r\n    public class Test{\r\n      private JFrame frame;\r\n      private TestPanel panel;\r\n      \r\n      Object obj;\r\n     \r\n      public static void main(String args[]) {\r\n        Test test = new Test();\r\n      }\r\n    \r\n      public Test() {\r\n        try {\r\n          // Setup GUI\r\n          frame = new JFrame(&quot;Test&quot;);\r\n          panel = new TestPanel();\r\n          frame.add(panel);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nIs it possible to directly access obj from panel?\r\nIf yes: How?\r\n\r\nThank you in advance for your help. :)\r\n","title":"Can I acces variables and/or methods of the class a JFrame was created in from the panel?","body":"<p>shortened code:</p>\n<pre><code>public class Test{\n  private JFrame frame;\n  private TestPanel panel;\n  \n  Object obj;\n \n  public static void main(String args[]) {\n    Test test = new Test();\n  }\n\n  public Test() {\n    try {\n      // Setup GUI\n      frame = new JFrame(&quot;Test&quot;);\n      panel = new TestPanel();\n      frame.add(panel);\n    }\n  }\n}\n</code></pre>\n<p>Is it possible to directly access obj from panel?\nIf yes: How?</p>\n<p>Thank you in advance for your help. :)</p>\n"},{"tags":["java","design-patterns","flyweight-pattern"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1633554498,"post_id":69472611,"comment_id":122793969,"body_markdown":"Your phrase in bold is false.","body":"Your phrase in bold is false."},{"owner":{"account_id":22963426,"reputation":21,"user_id":17092902,"display_name":"Eric Kim"},"score":0,"creation_date":1633559961,"post_id":69472611,"comment_id":122795303,"body_markdown":"@Tenfour04 I solve the problem! I tried to use static function in non-static inner class. So I made other java file.","body":"@Tenfour04 I solve the problem! I tried to use static function in non-static inner class. So I made other java file."}],"answers":[{"tags":[],"owner":{"account_id":10428320,"reputation":11,"user_id":7688888,"display_name":"koldou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633582813,"creation_date":1633560863,"answer_id":69473536,"question_id":69472611,"body_markdown":"As they have mentioned above, the example you provide is not a Flyweight pattern. This pattern is helpful to reduce the memory amount used by an application. In the following example, we have a music app that will contain song and playlists.\r\n\r\nEach song has an Id, the song name and the size.\r\n\r\n```java\r\npublic class Song {\r\n    Long id;\r\n    String name;\r\n    byte[] audioSize;\r\n\r\n    public Song(Long id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n        audioSize = new byte[1000000];\r\n    }\r\n}\r\n```\r\nA playlist contains a list of songs and the playlist name.\r\n```java\r\npublic class PlayList {\r\n\r\n    private List&lt;Song&gt; songs;\r\n    private String name;\r\n\r\n    public PlayList(String name) {\r\n        this.songs = new ArrayList&lt;&gt;();\r\n        this.name = name;\r\n    }\r\n\r\n    public void addSong(Song song){\r\n        this.songs.add(song);\r\n    }\r\n}\r\n```\r\nTo see the behaviour of the application, I have created a Main class with 1000 songs and 300000 playlists with 80 songs per playlist. When the application starts, it will prompt the available memory and just before end will prompt the memory used. If you run this code, it will crash due to memory limitation.\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n\r\n    private static final String[] songNames = new String[1000];\r\n    private static final String[] playListNames = new String[300000];\r\n    private static final List&lt;PlayList&gt; playLists = new ArrayList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Runtime runtime = Runtime.getRuntime();\r\n        System.out.println(&quot;Available memory: &quot; + (runtime.maxMemory() / 1024 / 1024));\r\n\r\n        initArrays();\r\n        createRandomPlayLists();\r\n        System.out.println(&quot;Created playlists: &quot; + playLists.size());\r\n\r\n        long usedMemory = runtime.totalMemory() - runtime.freeMemory();\r\n        System.out.println(&quot;Used memory : &quot; + usedMemory / 1024 / 1024);\r\n    }\r\n\r\n    private static void createRandomPlayLists() {\r\n        Random random = new Random();\r\n        long id = 0L;\r\n        for (int i = 0; i &lt; playListNames.length; i++) {\r\n            PlayList playList = new PlayList(playListNames[i]);\r\n            for (int j = 0; j &lt; 80; j++) {\r\n                Song song = new Song(++id, songNames[random.nextInt(songNames.length)]);\r\n                playList.addSong(song);\r\n            }\r\n            playLists.add(playList);\r\n        }\r\n    }\r\n\r\n    private static void initArrays() {\r\n        for (int i = 0; i &lt; songNames.length; i++) {\r\n            songNames[i] = &quot;Song &quot; + i;\r\n        }\r\n        for (int i = 0; i &lt; playListNames.length; i++) {\r\n            playListNames[i] = &quot;PlayList &quot; + i;\r\n        }\r\n    }\r\n}\r\n```\r\nTo avoid this memory limitation, we can use the flightweight pattern. To implement this pattern we can add a Map to store the songs added to a playlist. If a song was never added to a playlist it will be added to the map. At the end of the execution, the total memory used for the application should be arround 2.6 GB\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n\r\n    private static final String[] songNames = new String[1000];\r\n    private static final String[] playListNames = new String[300000];\r\n    private static final List&lt;PlayList&gt; playLists = new ArrayList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Runtime runtime = Runtime.getRuntime();\r\n        System.out.println(&quot;Available memory: &quot; + (runtime.maxMemory() / 1024 / 1024));\r\n\r\n        initArrays();\r\n        createRandomPlayLists();\r\n        System.out.println(&quot;Created playlists: &quot; + playLists.size());\r\n\r\n        long usedMemory = runtime.totalMemory() - runtime.freeMemory();\r\n        System.out.println(&quot;Used memory : &quot; + usedMemory / 1024 / 1024);\r\n    }\r\n\r\n    private static void createRandomPlayLists() {\r\n        Random random = new Random();\r\n        long id = 0L;\r\n        Map&lt;String, Song&gt; loadedSongs = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; playListNames.length; i++) {\r\n            PlayList playList = new PlayList(playListNames[i]);\r\n            for (int j = 0; j &lt; 80; j++) {\r\n\r\n                String songName = songNames[random.nextInt(songNames.length)];\r\n                if (loadedSongs.containsKey(songName)) {\r\n                    playList.addSong(loadedSongs.get(songName));\r\n                } else {\r\n                    //Create the song in memory\r\n                    Song song = new Song(++id, songName);\r\n                    //Add the song to the map. This will make the song available the next time it is needed\r\n                    loadedSongs.put(songName, song);\r\n                    playList.addSong(song);\r\n                }\r\n            }\r\n            playLists.add(playList);\r\n        }\r\n    }\r\n\r\n    private static void initArrays() {\r\n        for (int i = 0; i &lt; songNames.length; i++) {\r\n            songNames[i] = &quot;Song &quot; + i;\r\n        }\r\n        for (int i = 0; i &lt; playListNames.length; i++) {\r\n            playListNames[i] = &quot;PlayList &quot; + i;\r\n        }\r\n    }\r\n}\r\n```\r\nI will add an implementation using SongFactory class that will allow to enable or disable the Flyweight functionallity with a boolean\r\n```java\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class SongFactory {\r\n\r\n    private static final Map&lt;String, Song&gt; loadedSongs = new HashMap&lt;&gt;();\r\n    public static boolean flyweightEnabled = true;\r\n    private static Long id = 0L;\r\n\r\n    public static Song newSong(String songName) {\r\n        if (flyweightEnabled) {\r\n            //If the song is in memory, we return it\r\n            if (loadedSongs.containsKey(songName)) {\r\n                return loadedSongs.get(songName);\r\n            } else {\r\n                //Create the song in memory\r\n                Song song = new Song(++id, songName);\r\n                //Add the song to the map. This will make the song available the next time it is needed\r\n                loadedSongs.put(songName, song);\r\n                return song;\r\n            }\r\n        } else {\r\n            Song song = new Song(++id, songName);\r\n            return song;\r\n        }\r\n    }\r\n}\r\n```\r\n```java\r\n\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n\r\n    private static final String[] songNames = new String[1000];\r\n    private static final String[] playListNames = new String[300000];\r\n    private static final List&lt;PlayList&gt; playLists = new ArrayList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Runtime runtime = Runtime.getRuntime();\r\n        System.out.println(&quot;Available memory: &quot; + (runtime.maxMemory() / 1024 / 1024));\r\n\r\n        initArrays();\r\n        createRandomPlayLists();\r\n        System.out.println(&quot;Created playlists: &quot; + playLists.size());\r\n\r\n        long usedMemory = runtime.totalMemory() - runtime.freeMemory();\r\n        System.out.println(&quot;Used memory : &quot; + usedMemory / 1024 / 1024);\r\n    }\r\n\r\n    private static void createRandomPlayLists() {\r\n        Random random = new Random();\r\n        for (int i = 0; i &lt; playListNames.length; i++) {\r\n            PlayList playList = new PlayList(playListNames[i]);\r\n            for (int j = 0; j &lt; 80; j++) {\r\n                Song song = SongFactory.newSong(songNames[random.nextInt(songNames.length)]);\r\n                playList.addSong(song);\r\n            }\r\n            playLists.add(playList);\r\n        }\r\n    }\r\n\r\n    private static void initArrays() {\r\n        for (int i = 0; i &lt; songNames.length; i++) {\r\n            songNames[i] = &quot;Song &quot; + i;\r\n        }\r\n        for (int i = 0; i &lt; playListNames.length; i++) {\r\n            playListNames[i] = &quot;PlayList &quot; + i;\r\n        }\r\n    }\r\n}\r\n```\r\nI hope this will help you to understand better the Flyweight pattern","title":"How can I design Flyweight pattern?","body":"<p>As they have mentioned above, the example you provide is not a Flyweight pattern. This pattern is helpful to reduce the memory amount used by an application. In the following example, we have a music app that will contain song and playlists.</p>\n<p>Each song has an Id, the song name and the size.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Song {\n    Long id;\n    String name;\n    byte[] audioSize;\n\n    public Song(Long id, String name) {\n        this.id = id;\n        this.name = name;\n        audioSize = new byte[1000000];\n    }\n}\n</code></pre>\n<p>A playlist contains a list of songs and the playlist name.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PlayList {\n\n    private List&lt;Song&gt; songs;\n    private String name;\n\n    public PlayList(String name) {\n        this.songs = new ArrayList&lt;&gt;();\n        this.name = name;\n    }\n\n    public void addSong(Song song){\n        this.songs.add(song);\n    }\n}\n</code></pre>\n<p>To see the behaviour of the application, I have created a Main class with 1000 songs and 300000 playlists with 80 songs per playlist. When the application starts, it will prompt the available memory and just before end will prompt the memory used. If you run this code, it will crash due to memory limitation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Main {\n\n    private static final String[] songNames = new String[1000];\n    private static final String[] playListNames = new String[300000];\n    private static final List&lt;PlayList&gt; playLists = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n\n        Runtime runtime = Runtime.getRuntime();\n        System.out.println(&quot;Available memory: &quot; + (runtime.maxMemory() / 1024 / 1024));\n\n        initArrays();\n        createRandomPlayLists();\n        System.out.println(&quot;Created playlists: &quot; + playLists.size());\n\n        long usedMemory = runtime.totalMemory() - runtime.freeMemory();\n        System.out.println(&quot;Used memory : &quot; + usedMemory / 1024 / 1024);\n    }\n\n    private static void createRandomPlayLists() {\n        Random random = new Random();\n        long id = 0L;\n        for (int i = 0; i &lt; playListNames.length; i++) {\n            PlayList playList = new PlayList(playListNames[i]);\n            for (int j = 0; j &lt; 80; j++) {\n                Song song = new Song(++id, songNames[random.nextInt(songNames.length)]);\n                playList.addSong(song);\n            }\n            playLists.add(playList);\n        }\n    }\n\n    private static void initArrays() {\n        for (int i = 0; i &lt; songNames.length; i++) {\n            songNames[i] = &quot;Song &quot; + i;\n        }\n        for (int i = 0; i &lt; playListNames.length; i++) {\n            playListNames[i] = &quot;PlayList &quot; + i;\n        }\n    }\n}\n</code></pre>\n<p>To avoid this memory limitation, we can use the flightweight pattern. To implement this pattern we can add a Map to store the songs added to a playlist. If a song was never added to a playlist it will be added to the map. At the end of the execution, the total memory used for the application should be arround 2.6 GB</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Main {\n\n    private static final String[] songNames = new String[1000];\n    private static final String[] playListNames = new String[300000];\n    private static final List&lt;PlayList&gt; playLists = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n\n        Runtime runtime = Runtime.getRuntime();\n        System.out.println(&quot;Available memory: &quot; + (runtime.maxMemory() / 1024 / 1024));\n\n        initArrays();\n        createRandomPlayLists();\n        System.out.println(&quot;Created playlists: &quot; + playLists.size());\n\n        long usedMemory = runtime.totalMemory() - runtime.freeMemory();\n        System.out.println(&quot;Used memory : &quot; + usedMemory / 1024 / 1024);\n    }\n\n    private static void createRandomPlayLists() {\n        Random random = new Random();\n        long id = 0L;\n        Map&lt;String, Song&gt; loadedSongs = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; playListNames.length; i++) {\n            PlayList playList = new PlayList(playListNames[i]);\n            for (int j = 0; j &lt; 80; j++) {\n\n                String songName = songNames[random.nextInt(songNames.length)];\n                if (loadedSongs.containsKey(songName)) {\n                    playList.addSong(loadedSongs.get(songName));\n                } else {\n                    //Create the song in memory\n                    Song song = new Song(++id, songName);\n                    //Add the song to the map. This will make the song available the next time it is needed\n                    loadedSongs.put(songName, song);\n                    playList.addSong(song);\n                }\n            }\n            playLists.add(playList);\n        }\n    }\n\n    private static void initArrays() {\n        for (int i = 0; i &lt; songNames.length; i++) {\n            songNames[i] = &quot;Song &quot; + i;\n        }\n        for (int i = 0; i &lt; playListNames.length; i++) {\n            playListNames[i] = &quot;PlayList &quot; + i;\n        }\n    }\n}\n</code></pre>\n<p>I will add an implementation using SongFactory class that will allow to enable or disable the Flyweight functionallity with a boolean</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class SongFactory {\n\n    private static final Map&lt;String, Song&gt; loadedSongs = new HashMap&lt;&gt;();\n    public static boolean flyweightEnabled = true;\n    private static Long id = 0L;\n\n    public static Song newSong(String songName) {\n        if (flyweightEnabled) {\n            //If the song is in memory, we return it\n            if (loadedSongs.containsKey(songName)) {\n                return loadedSongs.get(songName);\n            } else {\n                //Create the song in memory\n                Song song = new Song(++id, songName);\n                //Add the song to the map. This will make the song available the next time it is needed\n                loadedSongs.put(songName, song);\n                return song;\n            }\n        } else {\n            Song song = new Song(++id, songName);\n            return song;\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.*;\n\npublic class Main {\n\n    private static final String[] songNames = new String[1000];\n    private static final String[] playListNames = new String[300000];\n    private static final List&lt;PlayList&gt; playLists = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n\n        Runtime runtime = Runtime.getRuntime();\n        System.out.println(&quot;Available memory: &quot; + (runtime.maxMemory() / 1024 / 1024));\n\n        initArrays();\n        createRandomPlayLists();\n        System.out.println(&quot;Created playlists: &quot; + playLists.size());\n\n        long usedMemory = runtime.totalMemory() - runtime.freeMemory();\n        System.out.println(&quot;Used memory : &quot; + usedMemory / 1024 / 1024);\n    }\n\n    private static void createRandomPlayLists() {\n        Random random = new Random();\n        for (int i = 0; i &lt; playListNames.length; i++) {\n            PlayList playList = new PlayList(playListNames[i]);\n            for (int j = 0; j &lt; 80; j++) {\n                Song song = SongFactory.newSong(songNames[random.nextInt(songNames.length)]);\n                playList.addSong(song);\n            }\n            playLists.add(playList);\n        }\n    }\n\n    private static void initArrays() {\n        for (int i = 0; i &lt; songNames.length; i++) {\n            songNames[i] = &quot;Song &quot; + i;\n        }\n        for (int i = 0; i &lt; playListNames.length; i++) {\n            playListNames[i] = &quot;PlayList &quot; + i;\n        }\n    }\n}\n</code></pre>\n<p>I hope this will help you to understand better the Flyweight pattern</p>\n"},{"tags":[],"owner":{"account_id":1425811,"reputation":10732,"user_id":1349366,"display_name":"Aivean"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633585831,"creation_date":1633565588,"answer_id":69473981,"question_id":69472611,"body_markdown":"I assume you&#39;ve already read the [wiki article](https://en.wikipedia.org/wiki/Flyweight_pattern), so I&#39;ll try to give a brief and, hopefully, simple intuition into the flyweight pattern.\r\n\r\nThe key concept that makes flyweight a &quot;pattern&quot; is the separation of the object state into &quot;intrinsic&quot; and &quot;extrinsic&quot; parts.\r\n\r\nBoth of these are part of the conceptual &quot;state&quot; of the object, the difference is in how they are represented in the code.\r\n\r\n&quot;Intrinsic&quot; state is just your regular fields and properties, while &quot;extrinsic&quot; part of the object **is stored externally to the object** (doesn&#39;t matter where) and **passed to the object with each method call**.\r\n\r\n---\r\n\r\nConsider an artificial example of `PlanetSurfaceGravityForceFormula`. It calculates the force of gravity on the surface of the planet for an object of the given mass.\r\n\r\nThe formula for the gravity is following:\r\n[![newtons law of gravity][1]][1]\r\n\r\n\r\nHere, `G`, `m₁` and `r&#178;` are properties of the planet, while `m₂` is the property of the object on the surface of the planet.\r\n\r\n\r\nOne way to design the `PlanetSurfaceGravityForceFormula` is to have it contain all the state necessary for the calculation:\r\n\r\n\r\n```java\r\nclass PlanetSurfaceGravityForceFormula {\r\n  double G, r, m1, m2;\r\n  public double calculateForce() {...}\r\n}\r\n```\r\n\r\nIn this case, when you need to calculate force, you&#39;ll need to create new instance of `PlanetSurfaceGravityForceFormula` with all the relevant constants and call the `calculateForce` method. \r\n\r\nWhich is fine, unless you know beforehand that you need to perform the calculation on the limited fixed number of the planets, and only `m₂` is expected to change with each call.\r\n\r\n\r\nSo your new design for the `PlanetSurfaceGravityForceFormula` is this:\r\n\r\n```java\r\nclass PlanetSurfaceGravityForceFormula {\r\n  double G, r, m1;\r\n  public double calculateForce(double m2) {...}\r\n}\r\n```\r\n\r\nSee what happened here? `m₂` was a part of the intrinsic state before, but now it becomes the extrinsic state, as it&#39;s passed from outside for each method call.\r\n\r\nThis design has several advantages over the previous one:\r\n1. It&#39;s possible to reuse the same instance of `PlanetSurfaceGravityForceFormula` for different values of `m2`\r\n2. If the planets are fixed and known in advance, it&#39;s possible to create static constants of the `PlanetSurfaceGravityForceFormula` for each such planet and use them for calculation\r\n3. If the planets are known to be limited, but not known in advance, it&#39;s possible to create some kind of `PlanetSurfaceGravityForceFormulaFactory` that returns cached instances of the `PlanetSurfaceGravityForceFormula`.\r\n\r\n\r\n---\r\n\r\nHopefully this helps to understand the difference between &quot;intrinsic&quot; and &quot;extrinsic&quot; state of the object. \r\n\r\nOne thing that I&#39;d like to emphasize is that in real life you seldom need to &quot;force&quot; parts of the intrinsic state to become &quot;extrinsic&quot;. Usually just following the common sense will yield the best design.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KOrzQ.png\r\n\r\n----\r\n\r\n**UPD** Regarding:\r\n&gt; I learn that Static field or function can only use in Static class. However, in this example, static Hashmap and function is declared in non-static class ShapeFactory.\r\n\r\n`static` keyword in java, frankly, confusing (though less confusing than in C++), as it has different semantics in different context.\r\n\r\n\r\nInstances of a nested class in java by default retain the reference to the parent class instance, making nested class `static` removes this reference, making the nested class behave as the regular top-level class.\r\n\r\nMethods, marked as `static` can be called from both static and non-static methods, but they have access only to the static fields and methods.\r\n\r\nFinally `static` fields of the class are &quot;singletons&quot;, they are like &quot;global variables&quot;, shared throughout your code, even when accessed from different instances of a class. They can be accessed from both regular and static methods.\r\n\r\nSo, to answer your question:\r\n&gt; in this example, static Hashmap and function is declared in non-static class ShapeFactory\r\n\r\nIs not strictly true, as `ShapeFactory` is the top-level class and it behaves the same way as the static nested classes. From what I can tell, your &quot;abstract factory&quot; implementation is correct, &lt;strike&gt;although it&#39;s not a flyweight&lt;/strike&gt; and it technically is a flyweight, where `ShapeType` is an intrinsic state and `Graphics g, int x, int y, int width, int height, Color color` is extrinsic state of the `Shape`.","title":"How can I design Flyweight pattern?","body":"<p>I assume you've already read the <a href=\"https://en.wikipedia.org/wiki/Flyweight_pattern\" rel=\"nofollow noreferrer\">wiki article</a>, so I'll try to give a brief and, hopefully, simple intuition into the flyweight pattern.</p>\n<p>The key concept that makes flyweight a &quot;pattern&quot; is the separation of the object state into &quot;intrinsic&quot; and &quot;extrinsic&quot; parts.</p>\n<p>Both of these are part of the conceptual &quot;state&quot; of the object, the difference is in how they are represented in the code.</p>\n<p>&quot;Intrinsic&quot; state is just your regular fields and properties, while &quot;extrinsic&quot; part of the object <strong>is stored externally to the object</strong> (doesn't matter where) and <strong>passed to the object with each method call</strong>.</p>\n<hr />\n<p>Consider an artificial example of <code>PlanetSurfaceGravityForceFormula</code>. It calculates the force of gravity on the surface of the planet for an object of the given mass.</p>\n<p>The formula for the gravity is following:\n<a href=\"https://i.stack.imgur.com/KOrzQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KOrzQ.png\" alt=\"newtons law of gravity\" /></a></p>\n<p>Here, <code>G</code>, <code>m₁</code> and <code>r²</code> are properties of the planet, while <code>m₂</code> is the property of the object on the surface of the planet.</p>\n<p>One way to design the <code>PlanetSurfaceGravityForceFormula</code> is to have it contain all the state necessary for the calculation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class PlanetSurfaceGravityForceFormula {\n  double G, r, m1, m2;\n  public double calculateForce() {...}\n}\n</code></pre>\n<p>In this case, when you need to calculate force, you'll need to create new instance of <code>PlanetSurfaceGravityForceFormula</code> with all the relevant constants and call the <code>calculateForce</code> method.</p>\n<p>Which is fine, unless you know beforehand that you need to perform the calculation on the limited fixed number of the planets, and only <code>m₂</code> is expected to change with each call.</p>\n<p>So your new design for the <code>PlanetSurfaceGravityForceFormula</code> is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class PlanetSurfaceGravityForceFormula {\n  double G, r, m1;\n  public double calculateForce(double m2) {...}\n}\n</code></pre>\n<p>See what happened here? <code>m₂</code> was a part of the intrinsic state before, but now it becomes the extrinsic state, as it's passed from outside for each method call.</p>\n<p>This design has several advantages over the previous one:</p>\n<ol>\n<li>It's possible to reuse the same instance of <code>PlanetSurfaceGravityForceFormula</code> for different values of <code>m2</code></li>\n<li>If the planets are fixed and known in advance, it's possible to create static constants of the <code>PlanetSurfaceGravityForceFormula</code> for each such planet and use them for calculation</li>\n<li>If the planets are known to be limited, but not known in advance, it's possible to create some kind of <code>PlanetSurfaceGravityForceFormulaFactory</code> that returns cached instances of the <code>PlanetSurfaceGravityForceFormula</code>.</li>\n</ol>\n<hr />\n<p>Hopefully this helps to understand the difference between &quot;intrinsic&quot; and &quot;extrinsic&quot; state of the object.</p>\n<p>One thing that I'd like to emphasize is that in real life you seldom need to &quot;force&quot; parts of the intrinsic state to become &quot;extrinsic&quot;. Usually just following the common sense will yield the best design.</p>\n<hr />\n<p><strong>UPD</strong> Regarding:</p>\n<blockquote>\n<p>I learn that Static field or function can only use in Static class. However, in this example, static Hashmap and function is declared in non-static class ShapeFactory.</p>\n</blockquote>\n<p><code>static</code> keyword in java, frankly, confusing (though less confusing than in C++), as it has different semantics in different context.</p>\n<p>Instances of a nested class in java by default retain the reference to the parent class instance, making nested class <code>static</code> removes this reference, making the nested class behave as the regular top-level class.</p>\n<p>Methods, marked as <code>static</code> can be called from both static and non-static methods, but they have access only to the static fields and methods.</p>\n<p>Finally <code>static</code> fields of the class are &quot;singletons&quot;, they are like &quot;global variables&quot;, shared throughout your code, even when accessed from different instances of a class. They can be accessed from both regular and static methods.</p>\n<p>So, to answer your question:</p>\n<blockquote>\n<p>in this example, static Hashmap and function is declared in non-static class ShapeFactory</p>\n</blockquote>\n<p>Is not strictly true, as <code>ShapeFactory</code> is the top-level class and it behaves the same way as the static nested classes. From what I can tell, your &quot;abstract factory&quot; implementation is correct, <strike>although it's not a flyweight</strike> and it technically is a flyweight, where <code>ShapeType</code> is an intrinsic state and <code>Graphics g, int x, int y, int width, int height, Color color</code> is extrinsic state of the <code>Shape</code>.</p>\n"}],"owner":{"account_id":22963426,"reputation":21,"user_id":17092902,"display_name":"Eric Kim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1633585831,"creation_date":1633554127,"question_id":69472611,"body_markdown":"Now I&#39;m studying about Flyweight design pattern.\r\nI tried to find some examples through google, and this is what I found.\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\n\r\npublic interface Shape {\r\n\r\n    public void draw(Graphics g, int x, int y, int width, int height, Color color);\r\n}\r\n```\r\nThis is interface Shape.\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\n\r\npublic class Line implements Shape {...}\r\npublic class Oval implements Shape {...}\r\n```\r\nThese two class implements Shape interface.\r\n```\r\nimport java.util.HashMap;\r\n\r\npublic class ShapeFactory {\r\n\r\n    private static final HashMap&lt;ShapeType, Shape&gt; shapes = new HashMap&lt;ShapeType, Shape&gt;();\r\n\r\n    public static Shape getShape(ShapeType type) {\r\n        Shape shapeImpl = shapes.get(type);\r\n\r\n        if (shapeImpl == null) {\r\n            if (type.equals(ShapeType.OVAL_FILL)) {\r\n                shapeImpl = new Oval(true);\r\n            } else if (type.equals(ShapeType.OVAL_NOFILL)) {\r\n                shapeImpl = new Oval(false);\r\n            } else if (type.equals(ShapeType.LINE)) {\r\n                shapeImpl = new Line();\r\n            }\r\n            shapes.put(type, shapeImpl);\r\n        }\r\n        return shapeImpl;\r\n    }\r\n\t\r\n    public static enum ShapeType {\r\n        OVAL_FILL, OVAL_NOFILL, LINE;\r\n    }\r\n}\r\n```\r\nThrough this Factory class, Oval or Line class is made by the type.\r\nI understand it but I have one question about it.\r\nI learn that **Static field or function can only use in Static class.**\r\nHowever, in this example, static Hashmap and function is declared in non-static class ShapeFactory.\r\nI found other examples in google, but every examples are similar to this.\r\nI tried to do my own Flyweight model, but it does not work.\r\nCan anyone explain about this?","title":"How can I design Flyweight pattern?","body":"<p>Now I'm studying about Flyweight design pattern.\nI tried to find some examples through google, and this is what I found.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\n\npublic interface Shape {\n\n    public void draw(Graphics g, int x, int y, int width, int height, Color color);\n}\n</code></pre>\n<p>This is interface Shape.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\n\npublic class Line implements Shape {...}\npublic class Oval implements Shape {...}\n</code></pre>\n<p>These two class implements Shape interface.</p>\n<pre><code>import java.util.HashMap;\n\npublic class ShapeFactory {\n\n    private static final HashMap&lt;ShapeType, Shape&gt; shapes = new HashMap&lt;ShapeType, Shape&gt;();\n\n    public static Shape getShape(ShapeType type) {\n        Shape shapeImpl = shapes.get(type);\n\n        if (shapeImpl == null) {\n            if (type.equals(ShapeType.OVAL_FILL)) {\n                shapeImpl = new Oval(true);\n            } else if (type.equals(ShapeType.OVAL_NOFILL)) {\n                shapeImpl = new Oval(false);\n            } else if (type.equals(ShapeType.LINE)) {\n                shapeImpl = new Line();\n            }\n            shapes.put(type, shapeImpl);\n        }\n        return shapeImpl;\n    }\n    \n    public static enum ShapeType {\n        OVAL_FILL, OVAL_NOFILL, LINE;\n    }\n}\n</code></pre>\n<p>Through this Factory class, Oval or Line class is made by the type.\nI understand it but I have one question about it.\nI learn that <strong>Static field or function can only use in Static class.</strong>\nHowever, in this example, static Hashmap and function is declared in non-static class ShapeFactory.\nI found other examples in google, but every examples are similar to this.\nI tried to do my own Flyweight model, but it does not work.\nCan anyone explain about this?</p>\n"},{"tags":["java","spring","maven","web","spring-framework-beans"],"owner":{"account_id":15770703,"reputation":135,"user_id":12100307,"display_name":"Denisa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633585826,"creation_date":1633525752,"question_id":69466344,"body_markdown":" when I  run the project on tomcat server and open browser **http://localhost:8080/SpringMVCDemo1/**  the page given below appears main-page.jsp is in webapp/WEB-INF/view/ folder). Tomcat works fine.\r\nIf main-page.jsp is in /webapp/folder, the page works fine.\r\n\r\nWhat can be the reason of this and how can this be solved?\r\n\r\n \r\nWhat I have done so far is \r\nclean Tomcat work directory-&gt;clean-&gt;clean project-&gt;update maven dependencies\r\n\r\nPAGE:\r\n\r\n    **HTTP Status 404 – Not Found**\r\n    \r\n    \r\n    Type Status Report\r\n    \r\n    Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\r\n    \r\n    \r\n    Apache Tomcat/10.0.10\r\n\r\n\r\n\r\n\r\n**HomeController.java**\r\n\r\n  \r\n\r\n      @Controller\r\n        public class HomeController {\r\n        \t\r\n        \t@RequestMapping(&quot;/&quot;)                  \r\n        \tpublic String showHomePage() {\r\n        \t\treturn &quot;main-page&quot;;\r\n        \t}\r\n        }\r\n\r\n**web.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;\r\n    \tversion=&quot;2.4&quot;&gt;\r\n    \r\n    \t&lt;display-name&gt;spring-mvc-crud-demo&lt;/display-name&gt;\r\n    \r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;/WEB-INF/spring-mvc-crud-demo-servlet.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\n**spring-mvc-crud-demo-servlet.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txsi:schemaLocation=&quot;\r\n    \t\thttp://www.springframework.org/schema/beans\r\n    \t\thttp://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context\r\n    \t\thttp://www.springframework.org/schema/context/spring-context.xsd\r\n    \t\thttp://www.springframework.org/schema/mvc\r\n    \t\thttp://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n    \t\thttp://www.springframework.org/schema/tx \r\n    \t\thttp://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;\r\n    \r\n    \t&lt;!-- Add support for component scanning --&gt;\r\n    \t&lt;context:component-scan base-package=&quot;com.denisa.springmvcdemo&quot; /&gt;\r\n    \r\n    \t&lt;!-- Add support for conversion, formatting and validation support --&gt;\r\n    \t&lt;mvc:annotation-driven/&gt;\r\n    \r\n    \t&lt;!-- Define Spring MVC view resolver --&gt;\r\n    \t&lt;bean\r\n    \t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot; /&gt;\r\n    \t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\n**main-page.jsp**\r\n\r\n   \r\n\r\n     &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n        \tpageEncoding=&quot;UTF-8&quot;%&gt;\r\n        &lt;!DOCTYPE html&gt;\r\n        &lt;html&gt;\r\n        &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; charset=&quot;text/html; charset=UTF-8&quot;&gt;\r\n        &lt;title&gt;Insert title here&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n        \t&lt;h1&gt;Welcome...&lt;/h1&gt;\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;\r\n    \r\n**pom.xml**\r\n    \r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        \t    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        \t    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n        https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        \t    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \t    &lt;groupId&gt;com.derya.springmvc&lt;/groupId&gt;\r\n        \t    &lt;artifactId&gt;SpringMVCDemo1&lt;/artifactId&gt;\r\n        \t    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        \t    &lt;packaging&gt;war&lt;/packaging&gt;\r\n        \t    &lt;build&gt;\r\n        \t\t    &lt;plugins&gt;\r\n        \t\t\t    &lt;plugin&gt;\r\n        \t\t\t\t    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        \t\t\t\t    &lt;version&gt;3.2.3&lt;/version&gt;\r\n        \t\t\t    &lt;/plugin&gt;\r\n        \t\t\t    &lt;plugin&gt;\r\n        \t\t\t\t    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        \t\t\t\t    &lt;version&gt;3.8.1&lt;/version&gt;\r\n        \t\t\t\t    &lt;configuration&gt;\r\n        \t\t\t\t\t    &lt;release&gt;11&lt;/release&gt;\r\n        \t\t\t\t    &lt;/configuration&gt;\r\n        \t\t\t    &lt;/plugin&gt;\r\n        \t\t    &lt;/plugins&gt;\r\n        \t    &lt;/build&gt;\r\n        \t    &lt;dependencies&gt;\r\n        \t\t    &lt;dependency&gt;\r\n        \t\t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t\t\t    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        \t\t\t    &lt;version&gt;5.0.2.RELEASE&lt;/version&gt;\r\n        \t\t    &lt;/dependency&gt;\r\n        \t\t    &lt;dependency&gt;\r\n        \t\t\t    &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n        \t\t\t    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        \t\t\t    &lt;version&gt;1.2&lt;/version&gt;\r\n        \t\t    &lt;/dependency&gt;\r\n        \t    &lt;/dependencies&gt;\r\n            &lt;/project&gt;\r\n\r\n\r\n\r\n","title":"404: The origin server did not find a current representation for the target resource or is not willing to disclose that one exists","body":"<p>when I  run the project on tomcat server and open browser <strong>http://localhost:8080/SpringMVCDemo1/</strong>  the page given below appears main-page.jsp is in webapp/WEB-INF/view/ folder). Tomcat works fine.\nIf main-page.jsp is in /webapp/folder, the page works fine.</p>\n<p>What can be the reason of this and how can this be solved?</p>\n<p>What I have done so far is\nclean Tomcat work directory-&gt;clean-&gt;clean project-&gt;update maven dependencies</p>\n<p>PAGE:</p>\n<pre><code>**HTTP Status 404 – Not Found**\n\n\nType Status Report\n\nDescription The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\n\n\nApache Tomcat/10.0.10\n</code></pre>\n<p><strong>HomeController.java</strong></p>\n<pre><code>  @Controller\n    public class HomeController {\n        \n        @RequestMapping(&quot;/&quot;)                  \n        public String showHomePage() {\n            return &quot;main-page&quot;;\n        }\n    }\n</code></pre>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;\n    version=&quot;2.4&quot;&gt;\n\n    &lt;display-name&gt;spring-mvc-crud-demo&lt;/display-name&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring-mvc-crud-demo-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>spring-mvc-crud-demo-servlet.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/tx \n        http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;\n\n    &lt;!-- Add support for component scanning --&gt;\n    &lt;context:component-scan base-package=&quot;com.denisa.springmvcdemo&quot; /&gt;\n\n    &lt;!-- Add support for conversion, formatting and validation support --&gt;\n    &lt;mvc:annotation-driven/&gt;\n\n    &lt;!-- Define Spring MVC view resolver --&gt;\n    &lt;bean\n        class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot; /&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p><strong>main-page.jsp</strong></p>\n<pre><code> &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n        pageEncoding=&quot;UTF-8&quot;%&gt;\n    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; charset=&quot;text/html; charset=UTF-8&quot;&gt;\n    &lt;title&gt;Insert title here&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Welcome...&lt;/h1&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n            xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n    https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n            &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n            &lt;groupId&gt;com.derya.springmvc&lt;/groupId&gt;\n            &lt;artifactId&gt;SpringMVCDemo1&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n            &lt;packaging&gt;war&lt;/packaging&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.2.3&lt;/version&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.8.1&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;release&gt;11&lt;/release&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n                    &lt;version&gt;5.0.2.RELEASE&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;jstl&lt;/groupId&gt;\n                    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n                    &lt;version&gt;1.2&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/project&gt;\n</code></pre>\n"},{"tags":["java","swing","jframe","graphics2d","java-2d"],"comments":[{"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"score":0,"creation_date":1595249324,"post_id":62995711,"comment_id":111400065,"body_markdown":"How are you trying to draw it? Do you have any code to show? Why would the coordinates be negative?","body":"How are you trying to draw it? Do you have any code to show? Why would the coordinates be negative?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1595253819,"post_id":62995711,"comment_id":111402562,"body_markdown":"Don&#39;t post code in a comment. Update you question with the code so it is readable. You haven&#39;t answered the question as to why the coordinates would be negative. Negative values imply that you don&#39;t want the polygon to be visible. One solution would be to iterate through the array to find the largest negative value. Then you get the absolute value of that number and add the value to all coordinates to make all the coordinates positive. Then you draw the polygon. You could then use the Graphcis.translate to shift the polygon if required. Post an [mre] if you need more help.","body":"Don&#39;t post code in a comment. Update you question with the code so it is readable. You haven&#39;t answered the question as to why the coordinates would be negative. Negative values imply that you don&#39;t want the polygon to be visible. One solution would be to iterate through the array to find the largest negative value. Then you get the absolute value of that number and add the value to all coordinates to make all the coordinates positive. Then you draw the polygon. You could then use the Graphcis.translate to shift the polygon if required. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you need more help."},{"owner":{"account_id":302854,"reputation":4422,"user_id":611446,"accept_rate":82,"display_name":"Sasikumar Murugesan"},"score":0,"creation_date":1595254590,"post_id":62995711,"comment_id":111402999,"body_markdown":"Highlighted example section","body":"Highlighted example section"},{"owner":{"account_id":4766813,"reputation":126,"user_id":3852737,"display_name":"Yogesh"},"score":0,"creation_date":1595339568,"post_id":62995711,"comment_id":111436053,"body_markdown":"I have added all necessary details which required for this question. In the given question i have added sample inputs and the issue which i am facing. Kindly reopen it so that i can get the answer for the same","body":"I have added all necessary details which required for this question. In the given question i have added sample inputs and the issue which i am facing. Kindly reopen it so that i can get the answer for the same"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1595256664,"creation_date":1595256664,"answer_id":62998059,"question_id":62995711,"body_markdown":"Let&#39;s say your drawing panel (JPanel) is 400 x 400 pixels.\r\n\r\nLet&#39;s take your polyline.  I&#39;m assuming these are x, y coordinates.\r\n\r\n     125, 66\r\n     126, 62\r\n    -128, 59\r\n    -127, 55\r\n    -125, 51\r\n    -124, 47\r\n    -122, 43\r\n    -121, 40\r\n    -119, 38\r\n    -118, 36\r\n\r\nThe y coordinates range from 36 to 66.  These coordinates fit easily in the 0 to 399 range of our drawing panel.\r\n\r\nThe x coordinates range from -128 to 126.  These coordinates don&#39;t fit in the 0 to 399 range of our drawing panel.\r\n\r\nThe absolute difference between the minimum and the maximum x value is 254.  254 is less than the 400 pixels we have to work with.\r\n\r\nTherefore, by adding 128 to each x coordinate, we can translate the polyline into something that can be drawn on our 400 x 400 drawing panel.\r\n","title":"How to draw polyline with negative coordinates in java","body":"<p>Let's say your drawing panel (JPanel) is 400 x 400 pixels.</p>\n<p>Let's take your polyline.  I'm assuming these are x, y coordinates.</p>\n<pre><code> 125, 66\n 126, 62\n-128, 59\n-127, 55\n-125, 51\n-124, 47\n-122, 43\n-121, 40\n-119, 38\n-118, 36\n</code></pre>\n<p>The y coordinates range from 36 to 66.  These coordinates fit easily in the 0 to 399 range of our drawing panel.</p>\n<p>The x coordinates range from -128 to 126.  These coordinates don't fit in the 0 to 399 range of our drawing panel.</p>\n<p>The absolute difference between the minimum and the maximum x value is 254.  254 is less than the 400 pixels we have to work with.</p>\n<p>Therefore, by adding 128 to each x coordinate, we can translate the polyline into something that can be drawn on our 400 x 400 drawing panel.</p>\n"}],"owner":{"account_id":4766813,"reputation":126,"user_id":3852737,"display_name":"Yogesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1595266446,"accepted_answer_id":62998059,"answer_count":1,"score":0,"last_activity_date":1633585799,"creation_date":1595249210,"question_id":62995711,"body_markdown":"I want to draw polyline with positive and negative coordinates.&lt;br/&gt;\r\n&gt;e.g. &lt;br/&gt;\r\n125,66&lt;br/&gt;\r\n126,62&lt;br/&gt;\r\n-128,59&lt;br/&gt;\r\n-127,55&lt;br/&gt;\r\n-125,51&lt;br/&gt;\r\n-124,47&lt;br/&gt;\r\n-122,43&lt;br/&gt;\r\n-121,40&lt;br/&gt;\r\n-119,38&lt;br/&gt;\r\n-118,36&lt;br/&gt;\r\nThese are the sample coordinate to draw the polyline in Jframe.  \r\nAfter drawing the polyline it will show the line for positive coordinates only. \r\n&lt;br/&gt;\r\n\r\n\tint j =0;\r\n\tSystem.out.println(imageByteArray.length);\r\n\tint[] x = new int [imageByteArray.length/2];\r\n\tint[] y = new int [imageByteArray.length/2];\r\n\tfor (int i = 0; i &lt;= imageByteArray.length-1;) \r\n\t{\r\n\t\tSystem.out.println(imageByteArray[i] +&quot;,&quot;+imageByteArray[i+1]);\r\n\t\tint s1 = imageByteArray[i];\r\n\t\tint s2 = imageByteArray[i+1];\r\n\t\t\r\n\t\tj++;\r\n\t\ti = i+2;\r\n\t\t\r\n\t}\r\n\t\r\n\tgp.drawPolyline( x, y, j );\r\nPlease help me to understand how we can draw polyline with such coordinates using java technology.\r\n","title":"How to draw polyline with negative coordinates in java","body":"<p>I want to draw polyline with positive and negative coordinates.<br/></p>\n<blockquote>\n<p>e.g. <br/>\n125,66<br/>\n126,62<br/>\n-128,59<br/>\n-127,55<br/>\n-125,51<br/>\n-124,47<br/>\n-122,43<br/>\n-121,40<br/>\n-119,38<br/>\n-118,36<br/>\nThese are the sample coordinate to draw the polyline in Jframe.<br />\nAfter drawing the polyline it will show the line for positive coordinates only.\n<br/></p>\n</blockquote>\n<pre><code>int j =0;\nSystem.out.println(imageByteArray.length);\nint[] x = new int [imageByteArray.length/2];\nint[] y = new int [imageByteArray.length/2];\nfor (int i = 0; i &lt;= imageByteArray.length-1;) \n{\n    System.out.println(imageByteArray[i] +&quot;,&quot;+imageByteArray[i+1]);\n    int s1 = imageByteArray[i];\n    int s2 = imageByteArray[i+1];\n    \n    j++;\n    i = i+2;\n    \n}\n\ngp.drawPolyline( x, y, j );\n</code></pre>\n<p>Please help me to understand how we can draw polyline with such coordinates using java technology.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1633583592,"post_id":69475759,"comment_id":122799232,"body_markdown":"Please format your code correctly and make it a runnable example.","body":"Please format your code correctly and make it a runnable example."},{"owner":{"account_id":3508628,"reputation":501,"user_id":2933553,"accept_rate":50,"display_name":"SaleemKhair"},"score":0,"creation_date":1633584526,"post_id":69475759,"comment_id":122799421,"body_markdown":"An easier trick to do this is using subtraction, `teamOneQuarterOne - teamTwoQuarterOne` if the result is positive then team1 wins, if negative team2 wins, if zero then they are both equal. you can play around with booleans to check perfect quarter by adding either 1 or 0 to both values `teamOnePerfectQuarter += teamTowQuarterOne == 0 ? 1 : 0;` and `teamTowPerfectQuarter += teamOneQuarterOne == 0 ? 1 : 0;`","body":"An easier trick to do this is using subtraction, <code>teamOneQuarterOne - teamTwoQuarterOne</code> if the result is positive then team1 wins, if negative team2 wins, if zero then they are both equal. you can play around with booleans to check perfect quarter by adding either 1 or 0 to both values <code>teamOnePerfectQuarter += teamTowQuarterOne == 0 ? 1 : 0;</code> and <code>teamTowPerfectQuarter += teamOneQuarterOne == 0 ? 1 : 0;</code>"}],"answers":[{"tags":[],"owner":{"account_id":14452647,"reputation":89,"user_id":10439676,"display_name":"dkotenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633585415,"creation_date":1633583920,"answer_id":69475807,"question_id":69475759,"body_markdown":"Try to divide &quot;comparing&quot; conditions and &quot;check perfect&quot; conditions in two separate if-else branches\r\n\r\n    class Example {\r\n      public void main(String[] args) {\r\n        if (teamOneQuarterOne &gt; teamTwoQuarterOne) {\r\n          teamOneStats += &quot;W-&quot;;\r\n          teamTwoStats += &quot;L-&quot;;\r\n        } else if (teamOneQuarterOne &lt; teamTwoQuarterOne) {\r\n          teamOneStats += &quot;L-&quot;;\r\n          teamTwoStats += &quot;W-&quot;;\r\n        } else {\r\n          teamOneStats += &quot;T-&quot;;\r\n          teamTwoStats += &quot;T-&quot;;\r\n        }\r\n    \r\n        if (teamOneQuarterOne == 0 &amp;&amp; teamTwoQuarterOne &gt; 0) {\r\n          teamTwoPerfectQuarter++;\r\n        } else if (teamTwoQuarterOne == 0 &amp;&amp; teamOneQuarterOne &gt; 0) {\r\n          teamOnePerfectQuarter++;\r\n        }\r\n        System.out.println(teamOne + &quot; Perfect Quarters: &quot; + teamOnePerfectQuarter);\r\n        System.out.println(teamTwo + &quot; Perfect Quarters: &quot; + teamTwoPerfectQuarter);\r\n      }\r\n    }\r\n\r\n","title":"if statement not working to add 1 based on a condition","body":"<p>Try to divide &quot;comparing&quot; conditions and &quot;check perfect&quot; conditions in two separate if-else branches</p>\n<pre><code>class Example {\n  public void main(String[] args) {\n    if (teamOneQuarterOne &gt; teamTwoQuarterOne) {\n      teamOneStats += &quot;W-&quot;;\n      teamTwoStats += &quot;L-&quot;;\n    } else if (teamOneQuarterOne &lt; teamTwoQuarterOne) {\n      teamOneStats += &quot;L-&quot;;\n      teamTwoStats += &quot;W-&quot;;\n    } else {\n      teamOneStats += &quot;T-&quot;;\n      teamTwoStats += &quot;T-&quot;;\n    }\n\n    if (teamOneQuarterOne == 0 &amp;&amp; teamTwoQuarterOne &gt; 0) {\n      teamTwoPerfectQuarter++;\n    } else if (teamTwoQuarterOne == 0 &amp;&amp; teamOneQuarterOne &gt; 0) {\n      teamOnePerfectQuarter++;\n    }\n    System.out.println(teamOne + &quot; Perfect Quarters: &quot; + teamOnePerfectQuarter);\n    System.out.println(teamTwo + &quot; Perfect Quarters: &quot; + teamTwoPerfectQuarter);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633585357,"creation_date":1633585357,"answer_id":69475974,"question_id":69475759,"body_markdown":"It seems that you expect these lines to increase the perfect count.\r\n\r\n````java\r\nif (teamOneQuarterOne == 0 &amp;&amp; teamTwoQuarterOne &gt; 0) {\r\n             teamTwoPerfectQuarter++;        }\r\n````\r\n\r\nBut these lines are only relevant if the enveloping condition is true\r\n\r\n````java\r\nif (teamOneQuarterOne &gt; teamTwoQuarterOne)\r\n````\r\n\r\nBut both cannot be true together at the same time.\r\n\r\nIt seems that you have misplaced those lines, I&#39;d expect them in here:\r\n\r\n````java\r\nif (teamOneQuarterOne &lt; teamTwoQuarterOne) {\r\n         teamOneStats += &quot;L-&quot;;\r\n         teamTwoStats += &quot;W-&quot;;\r\n         /* here */\r\n     }\r\n````","title":"if statement not working to add 1 based on a condition","body":"<p>It seems that you expect these lines to increase the perfect count.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (teamOneQuarterOne == 0 &amp;&amp; teamTwoQuarterOne &gt; 0) {\n             teamTwoPerfectQuarter++;        }\n</code></pre>\n<p>But these lines are only relevant if the enveloping condition is true</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (teamOneQuarterOne &gt; teamTwoQuarterOne)\n</code></pre>\n<p>But both cannot be true together at the same time.</p>\n<p>It seems that you have misplaced those lines, I'd expect them in here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (teamOneQuarterOne &lt; teamTwoQuarterOne) {\n         teamOneStats += &quot;L-&quot;;\n         teamTwoStats += &quot;W-&quot;;\n         /* here */\n     }\n</code></pre>\n"}],"owner":{"account_id":22755247,"reputation":27,"user_id":16914801,"display_name":"G90"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":69475807,"answer_count":2,"score":-2,"last_activity_date":1633585667,"creation_date":1633583443,"question_id":69475759,"body_markdown":"   \r\nThis code determines the wins and losses of each quarter but I am having trouble with the PerfectQuarter. A PerfectQuarter is described as when one team has 0 points in a quarter but the other team scores.  \r\nEverything runs fine but when I enter scores for each quarter and put  00-01 for quarter one, the print statement at the end of my program prints   \r\n&gt; PerfectQuarters: 0  \r\n\r\nfor both teams, although Team 2 should have a perfect quarter of 1 since in QuarterOne they scored once and Team 1 scored 0 points.\r\n\r\n\r\n   ``` \r\n            if (teamOneQuarterOne &gt; teamTwoQuarterOne) {\r\n            teamOneStats += &quot;W-&quot;;\r\n            teamTwoStats += &quot;L-&quot;;\r\n\r\n            if (teamOneQuarterOne == 0 &amp;&amp; teamTwoQuarterOne &gt; 0) {\r\n                teamTwoPerfectQuarter++;        }\r\n        } else if (teamTwoQuarterOne &lt; teamOneQuarterOne) {\r\n            teamOneStats += &quot;L-&quot;;\r\n            teamTwoStats += &quot;W-&quot;;\r\n\r\n            if (teamTwoQuarterOne == 0 &amp;&amp; teamOneQuarterOne &gt; 0) {\r\n                teamOnePerfectQuarter++;   }\r\n        } else if (teamOneQuarterOne &lt; teamTwoQuarterOne) {\r\n            teamOneStats += &quot;L-&quot;;\r\n            teamTwoStats += &quot;W-&quot;;\r\n\r\n        } else {\r\n            teamOneStats += &quot;T-&quot;;\r\n            teamTwoStats += &quot;T-&quot;;        }\r\n\r\nSystem.out.println(teamOne + &quot; Perfect Quarters: &quot; + teamOnePerfectQuarter);\r\n        System.out.println(teamTwo  + &quot; Perfect Quarters: &quot; +  teamTwoPerfectQuarter);\r\n\r\n```","title":"if statement not working to add 1 based on a condition","body":"<p>This code determines the wins and losses of each quarter but I am having trouble with the PerfectQuarter. A PerfectQuarter is described as when one team has 0 points in a quarter but the other team scores.<br />\nEverything runs fine but when I enter scores for each quarter and put  00-01 for quarter one, the print statement at the end of my program prints</p>\n<blockquote>\n<p>PerfectQuarters: 0</p>\n</blockquote>\n<p>for both teams, although Team 2 should have a perfect quarter of 1 since in QuarterOne they scored once and Team 1 scored 0 points.</p>\n<pre><code>         if (teamOneQuarterOne &gt; teamTwoQuarterOne) {\n         teamOneStats += &quot;W-&quot;;\n         teamTwoStats += &quot;L-&quot;;\n\n         if (teamOneQuarterOne == 0 &amp;&amp; teamTwoQuarterOne &gt; 0) {\n             teamTwoPerfectQuarter++;        }\n     } else if (teamTwoQuarterOne &lt; teamOneQuarterOne) {\n         teamOneStats += &quot;L-&quot;;\n         teamTwoStats += &quot;W-&quot;;\n\n         if (teamTwoQuarterOne == 0 &amp;&amp; teamOneQuarterOne &gt; 0) {\n             teamOnePerfectQuarter++;   }\n     } else if (teamOneQuarterOne &lt; teamTwoQuarterOne) {\n         teamOneStats += &quot;L-&quot;;\n         teamTwoStats += &quot;W-&quot;;\n\n     } else {\n         teamOneStats += &quot;T-&quot;;\n         teamTwoStats += &quot;T-&quot;;        }\n\nSystem.out.println(teamOne + &quot; Perfect Quarters: &quot; + teamOnePerfectQuarter);\n     System.out.println(teamTwo  + &quot; Perfect Quarters: &quot; +  teamTwoPerfectQuarter);\n\n</code></pre>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1629257993,"post_id":68826265,"comment_id":121636265,"body_markdown":"Edit your code. Don&#39;t post an update in the comments.","body":"Edit your code. Don&#39;t post an update in the comments."}],"answers":[{"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629258621,"creation_date":1629258621,"answer_id":68826343,"question_id":68826265,"body_markdown":"Since you are checking if the password or username are empty, the final else statement will execute when the user and password are **not empty**.\r\n\r\n```\r\nelse {\r\n       JOptionPane.showMessageDialog(null, &quot;Incorrect account or password or user type&quot;);\r\n}  \r\n```\r\n\r\nRemove this else statement and your code will work as expected.  \r\n\r\nThis is because you already covered the situations where one or both of the fields are empty. That means the final else lacking an if will execute when they aren&#39;t empty.","title":"Why it will still appear &quot;Incorrect account or password or user type&quot; after I login successful？","body":"<p>Since you are checking if the password or username are empty, the final else statement will execute when the user and password are <strong>not empty</strong>.</p>\n<pre><code>else {\n       JOptionPane.showMessageDialog(null, &quot;Incorrect account or password or user type&quot;);\n}  \n</code></pre>\n<p>Remove this else statement and your code will work as expected.</p>\n<p>This is because you already covered the situations where one or both of the fields are empty. That means the final else lacking an if will execute when they aren't empty.</p>\n"},{"tags":[],"owner":{"account_id":22495796,"reputation":16,"user_id":16692799,"display_name":"Ethan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1629258874,"creation_date":1629258874,"answer_id":68826366,"question_id":68826265,"body_markdown":"it seems an incorrect logic. try return in every situation.","title":"Why it will still appear &quot;Incorrect account or password or user type&quot; after I login successful？","body":"<p>it seems an incorrect logic. try return in every situation.</p>\n"}],"owner":{"account_id":21793812,"reputation":23,"user_id":16093657,"display_name":"Anna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1629390825,"accepted_answer_id":68826366,"answer_count":2,"score":-1,"last_activity_date":1633585661,"creation_date":1629257824,"question_id":68826265,"body_markdown":"I&#39;ve tried but just can&#39;t figure out why, thanks for helping if there is any solution for this `JFrame`.\r\n```\t\r\nif (userInfo != null ) {\t\r\n\tJOptionPane.showMessageDialog(null, &quot;LoginSuccessful&quot;);\r\n\tdispose();\t\t\t\t\t\r\n\tnew ChooseRoomFrame(userInfo,UserRoomDetails,UserDao).setVisible(true);\r\n} \t\t\t\t\t\r\nif(Staff != null &amp; rdbtnStaff.isSelected()){\r\n\tJOptionPane.showMessageDialog(null, &quot;Login Successful&quot;);\r\n\tdispose();\r\n\tnew StaffFrame(userInfo, UserRoomDetails,UserDao).setVisible(true);\t\t\t\t\t\r\n}\t\t\r\nif(user.isEmpty() &amp; pwd.isEmpty()){\r\n    JOptionPane.showMessageDialog(null,&quot;Please insert Username and Password&quot;);\r\n}\t\t\t\t\r\nelse if(user.isEmpty()){\r\n    JOptionPane.showMessageDialog(null,&quot;Please insert Username&quot;);\r\n}\r\nelse if (pwd.isEmpty()){\r\n    JOptionPane.showMessageDialog(null,&quot;Please insert Password&quot;);\r\n}\t\r\nelse {\r\n\tJOptionPane.showMessageDialog(null, &quot;Incorrect account or password or user type&quot;);\r\n}\r\n```\t\t\t\t\t","title":"Why it will still appear &quot;Incorrect account or password or user type&quot; after I login successful？","body":"<p>I've tried but just can't figure out why, thanks for helping if there is any solution for this <code>JFrame</code>.</p>\n<pre><code>if (userInfo != null ) {    \n    JOptionPane.showMessageDialog(null, &quot;LoginSuccessful&quot;);\n    dispose();                  \n    new ChooseRoomFrame(userInfo,UserRoomDetails,UserDao).setVisible(true);\n}                   \nif(Staff != null &amp; rdbtnStaff.isSelected()){\n    JOptionPane.showMessageDialog(null, &quot;Login Successful&quot;);\n    dispose();\n    new StaffFrame(userInfo, UserRoomDetails,UserDao).setVisible(true);                 \n}       \nif(user.isEmpty() &amp; pwd.isEmpty()){\n    JOptionPane.showMessageDialog(null,&quot;Please insert Username and Password&quot;);\n}               \nelse if(user.isEmpty()){\n    JOptionPane.showMessageDialog(null,&quot;Please insert Username&quot;);\n}\nelse if (pwd.isEmpty()){\n    JOptionPane.showMessageDialog(null,&quot;Please insert Password&quot;);\n}   \nelse {\n    JOptionPane.showMessageDialog(null, &quot;Incorrect account or password or user type&quot;);\n}\n</code></pre>\n"},{"tags":["java","twitter4j"],"answers":[{"tags":[],"owner":{"account_id":19869742,"reputation":97,"user_id":14556192,"display_name":"Ethan James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1629477668,"creation_date":1629477668,"answer_id":68865494,"question_id":68863795,"body_markdown":"Solved it, `String APISecret = new String(pfASecret.getPassword());` should have been `String APISecret = new String(pfSecret.getPassword());` it was putting the access token as the API token.","title":"Incorrect twitter API credentials with Twitter4j","body":"<p>Solved it, <code>String APISecret = new String(pfASecret.getPassword());</code> should have been <code>String APISecret = new String(pfSecret.getPassword());</code> it was putting the access token as the API token.</p>\n"}],"owner":{"account_id":19869742,"reputation":97,"user_id":14556192,"display_name":"Ethan James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68865494,"answer_count":1,"score":0,"last_activity_date":1633585457,"creation_date":1629469273,"question_id":68863795,"body_markdown":"I am trying to create a simple twitter desktop app with Java and Twitter4j, however after clicking the send tweet button, I am greeted with an unable to authenticate message, I&#39;m fairly certain my credentials are correct, so is there a possibility that the credentials are not being read correctly from the password fields? If so, how might I fix it?\r\n\r\n```\r\n\r\npackage company.fourleafclover.TwitterClient;\r\n\r\n\r\nimport twitter4j.Twitter;\r\nimport twitter4j.TwitterException;\r\nimport twitter4j.TwitterFactory;\r\nimport twitter4j.auth.AccessToken;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Started!&quot;);\r\n\r\n\r\n        final JFrame frame = new JFrame(&quot;Twitter Client&quot;);\r\n\r\n        JLabel lblKey = new JLabel(&quot;API Key:&quot;);\r\n        final JPasswordField pfKey = new JPasswordField(20);\r\n        lblKey.setLabelFor(pfKey);\r\n\r\n        JLabel lblSecret = new JLabel(&quot;API Secret:&quot;);\r\n        final JPasswordField pfSecret = new JPasswordField(20);\r\n        lblSecret.setLabelFor(pfSecret);\r\n\r\n        JLabel lblToken = new JLabel(&quot;Access Token:&quot;);\r\n        final JPasswordField pfToken = new JPasswordField(20);\r\n        lblToken.setLabelFor(pfToken);\r\n\r\n        JLabel lblASecret = new JLabel(&quot;Access Secret:&quot;);\r\n        final JPasswordField pfASecret = new JPasswordField(20);\r\n        lblASecret.setLabelFor(pfASecret);\r\n\r\n        JLabel lblmsg = new JLabel(&quot;Message:&quot;);\r\n        JTextField tfmsg = new JTextField(20);\r\n        lblmsg.setLabelFor(tfmsg);\r\n\r\n        JButton btnGet = new JButton(&quot;Send tweet&quot;);\r\n\r\n        btnGet.addActionListener(\r\n                new ActionListener() {\r\n\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        String APIKey = new String(pfKey.getPassword());\r\n                        String APISecret = new String(pfASecret.getPassword());\r\n                        String AccessToken = new String(pfToken.getPassword());\r\n                        String AccessSecret = new String(pfASecret.getPassword());\r\n                        String Msg = new String(tfmsg.getText());\r\n\r\n\r\n                        try {\r\n                            Twitter twitter = new TwitterFactory().getInstance();\r\n\r\n                            twitter.setOAuthConsumer(APIKey, APISecret);\r\n                            AccessToken accessToken = new AccessToken(AccessToken,\r\n                                    AccessSecret);\r\n\r\n                            twitter.setOAuthAccessToken(accessToken);\r\n\r\n                            twitter.updateStatus(Msg);\r\n\r\n                            System.out.println(&quot;Successfully updated the status in Twitter.&quot;);\r\n                        } catch (TwitterException te) {\r\n                            te.printStackTrace();\r\n                        }\r\n\r\n\r\n\r\n                        JOptionPane.showMessageDialog(frame,\r\n                                &quot;Tweet sent!&quot;);\r\n                    }\r\n                });\r\n\r\n        JButton btnLogin = new JButton(&quot;Login&quot;);\r\n\r\n        JPanel panel = new JPanel();\r\n        panel.setLayout(new SpringLayout());\r\n\r\n        panel.add(lblKey);//API Key\r\n        panel.add(pfKey);//Api Key\r\n        panel.add(lblSecret);//Access Secret\r\n        panel.add(pfSecret);\r\n        panel.add(lblToken);//API Token\r\n        panel.add(pfToken);//API Token\r\n        panel.add(lblASecret);\r\n        panel.add(pfASecret);\r\n        panel.add(lblmsg);\r\n        panel.add(tfmsg);\r\n        panel.add(btnLogin);\r\n        panel.add(btnGet);\r\n\r\n        jtextfielddemo.SpringUtilities.makeCompactGrid(panel,\r\n                6, 2, //rows, cols\r\n                6, 6, //initX, initY\r\n                6, 6); //xPad, yPad\r\n\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(400, 200);\r\n        frame.getContentPane().add(panel);\r\n        frame.setVisible(true);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n```","title":"Incorrect twitter API credentials with Twitter4j","body":"<p>I am trying to create a simple twitter desktop app with Java and Twitter4j, however after clicking the send tweet button, I am greeted with an unable to authenticate message, I'm fairly certain my credentials are correct, so is there a possibility that the credentials are not being read correctly from the password fields? If so, how might I fix it?</p>\n<pre><code>\npackage company.fourleafclover.TwitterClient;\n\n\nimport twitter4j.Twitter;\nimport twitter4j.TwitterException;\nimport twitter4j.TwitterFactory;\nimport twitter4j.auth.AccessToken;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Started!&quot;);\n\n\n        final JFrame frame = new JFrame(&quot;Twitter Client&quot;);\n\n        JLabel lblKey = new JLabel(&quot;API Key:&quot;);\n        final JPasswordField pfKey = new JPasswordField(20);\n        lblKey.setLabelFor(pfKey);\n\n        JLabel lblSecret = new JLabel(&quot;API Secret:&quot;);\n        final JPasswordField pfSecret = new JPasswordField(20);\n        lblSecret.setLabelFor(pfSecret);\n\n        JLabel lblToken = new JLabel(&quot;Access Token:&quot;);\n        final JPasswordField pfToken = new JPasswordField(20);\n        lblToken.setLabelFor(pfToken);\n\n        JLabel lblASecret = new JLabel(&quot;Access Secret:&quot;);\n        final JPasswordField pfASecret = new JPasswordField(20);\n        lblASecret.setLabelFor(pfASecret);\n\n        JLabel lblmsg = new JLabel(&quot;Message:&quot;);\n        JTextField tfmsg = new JTextField(20);\n        lblmsg.setLabelFor(tfmsg);\n\n        JButton btnGet = new JButton(&quot;Send tweet&quot;);\n\n        btnGet.addActionListener(\n                new ActionListener() {\n\n                    public void actionPerformed(ActionEvent e) {\n                        String APIKey = new String(pfKey.getPassword());\n                        String APISecret = new String(pfASecret.getPassword());\n                        String AccessToken = new String(pfToken.getPassword());\n                        String AccessSecret = new String(pfASecret.getPassword());\n                        String Msg = new String(tfmsg.getText());\n\n\n                        try {\n                            Twitter twitter = new TwitterFactory().getInstance();\n\n                            twitter.setOAuthConsumer(APIKey, APISecret);\n                            AccessToken accessToken = new AccessToken(AccessToken,\n                                    AccessSecret);\n\n                            twitter.setOAuthAccessToken(accessToken);\n\n                            twitter.updateStatus(Msg);\n\n                            System.out.println(&quot;Successfully updated the status in Twitter.&quot;);\n                        } catch (TwitterException te) {\n                            te.printStackTrace();\n                        }\n\n\n\n                        JOptionPane.showMessageDialog(frame,\n                                &quot;Tweet sent!&quot;);\n                    }\n                });\n\n        JButton btnLogin = new JButton(&quot;Login&quot;);\n\n        JPanel panel = new JPanel();\n        panel.setLayout(new SpringLayout());\n\n        panel.add(lblKey);//API Key\n        panel.add(pfKey);//Api Key\n        panel.add(lblSecret);//Access Secret\n        panel.add(pfSecret);\n        panel.add(lblToken);//API Token\n        panel.add(pfToken);//API Token\n        panel.add(lblASecret);\n        panel.add(pfASecret);\n        panel.add(lblmsg);\n        panel.add(tfmsg);\n        panel.add(btnLogin);\n        panel.add(btnGet);\n\n        jtextfielddemo.SpringUtilities.makeCompactGrid(panel,\n                6, 2, //rows, cols\n                6, 6, //initX, initY\n                6, 6); //xPad, yPad\n\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(400, 200);\n        frame.getContentPane().add(panel);\n        frame.setVisible(true);\n\n\n\n\n\n\n\n\n\n    }\n\n}\n\n\n\n\n</code></pre>\n"},{"tags":["java","excel","apache-poi","excel-charts"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633585111,"creation_date":1633513604,"answer_id":69463389,"question_id":69460798,"body_markdown":"A chart legend entry cannot be removed. It only can be marked deleted, so it will not be shown.\r\n\r\n[XDDFLegendEntry](http://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFLegendEntry.html) provides method `setDelete` to do so. But the problem is how to get the `XDDFLegendEntry`.  \r\n\r\n`XDDFChart.getOrAddLegend` only adds an empty legend marker which uses defaults for showing the legend. There are no legend entries by default as those only are needed to set special properties which are not default. So we would need someting like `XDDFChartLegend.getOrAddLegendEntry` to get or add a legend entry. This does not exist until now.\r\n\r\nFollowing method gets or adds a legend entry to a given `XDDFChartLegend` for a given index.\r\n\r\n     XDDFLegendEntry getOrAddLegendEntry(XDDFChartLegend legend, long index) {\r\n      XDDFLegendEntry legendEntry = null;\r\n      for (XDDFLegendEntry storedLegendEntry : legend.getEntries()) {\r\n       if (storedLegendEntry.getIndex() == index) {\r\n        legendEntry = storedLegendEntry;\r\n    \tbreak;\r\n       }   \r\n      }\r\n      if (legendEntry == null) {\r\n       legendEntry = legend.addEntry();\r\n       legendEntry.setIndex(index);\t\r\n      }\r\n      return legendEntry;\r\n     } \r\n\r\nNote, I do not use [XDDFChartLegend.getEntry](http://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartLegend.html#getEntry-int-) as this returns the entry at **position** `index` rather than the entry having the index `index`. But we need the entry having the index `index`. So I loop over all entries and do check whether there is one having the index already.\r\n\r\nUsage to mark legend entry as deleted could be as so:\r\n\r\n    ...\r\n       XDDFChartLegend legend = chart.getOrAddLegend();\r\n       //...\r\n       XDDFLegendEntry legendEntry = getOrAddLegendEntry(legend, 4);\r\n       legendEntry.setDelete(true);\r\n    ...\r\n\r\n\r\n","title":"remove specific legend apache poi excel graph XDDFChartLegend","body":"<p>A chart legend entry cannot be removed. It only can be marked deleted, so it will not be shown.</p>\n<p><a href=\"http://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFLegendEntry.html\" rel=\"nofollow noreferrer\">XDDFLegendEntry</a> provides method <code>setDelete</code> to do so. But the problem is how to get the <code>XDDFLegendEntry</code>.</p>\n<p><code>XDDFChart.getOrAddLegend</code> only adds an empty legend marker which uses defaults for showing the legend. There are no legend entries by default as those only are needed to set special properties which are not default. So we would need someting like <code>XDDFChartLegend.getOrAddLegendEntry</code> to get or add a legend entry. This does not exist until now.</p>\n<p>Following method gets or adds a legend entry to a given <code>XDDFChartLegend</code> for a given index.</p>\n<pre><code> XDDFLegendEntry getOrAddLegendEntry(XDDFChartLegend legend, long index) {\n  XDDFLegendEntry legendEntry = null;\n  for (XDDFLegendEntry storedLegendEntry : legend.getEntries()) {\n   if (storedLegendEntry.getIndex() == index) {\n    legendEntry = storedLegendEntry;\n    break;\n   }   \n  }\n  if (legendEntry == null) {\n   legendEntry = legend.addEntry();\n   legendEntry.setIndex(index); \n  }\n  return legendEntry;\n } \n</code></pre>\n<p>Note, I do not use <a href=\"http://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartLegend.html#getEntry-int-\" rel=\"nofollow noreferrer\">XDDFChartLegend.getEntry</a> as this returns the entry at <strong>position</strong> <code>index</code> rather than the entry having the index <code>index</code>. But we need the entry having the index <code>index</code>. So I loop over all entries and do check whether there is one having the index already.</p>\n<p>Usage to mark legend entry as deleted could be as so:</p>\n<pre><code>...\n   XDDFChartLegend legend = chart.getOrAddLegend();\n   //...\n   XDDFLegendEntry legendEntry = getOrAddLegendEntry(legend, 4);\n   legendEntry.setDelete(true);\n...\n</code></pre>\n"}],"owner":{"account_id":4306986,"reputation":84,"user_id":3519122,"accept_rate":0,"display_name":"Kannan Sundararaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69463389,"answer_count":1,"score":-1,"last_activity_date":1633585111,"creation_date":1633501580,"question_id":69460798,"body_markdown":"i am using apache poi 5.0.0 version\r\ni have generated a graph in excel using the data and i am able to see the legends in the bottom of the graph. There are six legends shown. Now i want to remove two specific legends without removing them from the graph.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KbimK.png\r\n\r\nThere seems to be no functions available in XDDFChartLegend which really works. say for example\r\n\r\n    XDDFChartLegend  legend = chart.getOrAddLegend();\r\n    legend.getEntries().remove(4);\r\n\r\ndoesnt work\r\n\r\nAny help would be appreciated.\r\n","title":"remove specific legend apache poi excel graph XDDFChartLegend","body":"<p>i am using apache poi 5.0.0 version\ni have generated a graph in excel using the data and i am able to see the legends in the bottom of the graph. There are six legends shown. Now i want to remove two specific legends without removing them from the graph.</p>\n<p><a href=\"https://i.stack.imgur.com/KbimK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KbimK.png\" alt=\"enter image description here\" /></a></p>\n<p>There seems to be no functions available in XDDFChartLegend which really works. say for example</p>\n<pre><code>XDDFChartLegend  legend = chart.getOrAddLegend();\nlegend.getEntries().remove(4);\n</code></pre>\n<p>doesnt work</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","arrays","for-loop","pseudocode"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1633556687,"post_id":69472849,"comment_id":122794580,"body_markdown":"IMHO the `if` condition is correct: `size` is the number of occupied places in the array and `maxsize` is size of the array (the total number of places). As long as `size` is less than `maxsize` you don&#39;t need to create a bigger array to store a new value (since there is still room left).","body":"IMHO the <code>if</code> condition is correct: <code>size</code> is the number of occupied places in the array and <code>maxsize</code> is size of the array (the total number of places). As long as <code>size</code> is less than <code>maxsize</code> you don&#39;t need to create a bigger array to store a new value (since there is still room left)."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1633556776,"post_id":69472849,"comment_id":122794603,"body_markdown":"Also, within the `for` loop it doesn&#39;t matter whether you write `i &lt;= size` or `i &lt;= maxsize` because this loop is only executed when `size == maxsize`.","body":"Also, within the <code>for</code> loop it doesn&#39;t matter whether you write <code>i &lt;= size</code> or <code>i &lt;= maxsize</code> because this loop is only executed when <code>size == maxsize</code>."},{"owner":{"account_id":22960637,"reputation":1,"user_id":17090565,"display_name":"compsci9298233"},"score":0,"creation_date":1633557504,"post_id":69472849,"comment_id":122794784,"body_markdown":"Out of these options, which one is correct? |Line 1 should read: private int size = 16;|\n\nLine 7 should read: if (size &gt; maxsize)|\n\nLine 10 should read: for (i = 0 ; i &lt;= maxsize ; i++)|\n\nLine 13 should come before line 10|\n\nLine 15 should read: arr[++size] = val;|","body":"Out of these options, which one is correct? |Line 1 should read: private int size = 16;|  Line 7 should read: if (size &gt; maxsize)|  Line 10 should read: for (i = 0 ; i &lt;= maxsize ; i++)|  Line 13 should come before line 10|  Line 15 should read: arr[++size] = val;|"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1633585160,"post_id":69472849,"comment_id":122799568,"body_markdown":"I&#39;ve edited the code the match the formatting of the original and added your comment to the question.","body":"I&#39;ve edited the code the match the formatting of the original and added your comment to the question."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1633617680,"post_id":69472849,"comment_id":122812642,"body_markdown":"Does this answer your question? [Copying elements from arrays](https://stackoverflow.com/questions/69481709/copying-elements-from-arrays)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69481709/copying-elements-from-arrays\">Copying elements from arrays</a>"}],"answers":[{"tags":[],"owner":{"account_id":6712727,"reputation":640,"user_id":5175581,"display_name":"Ewan Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633558347,"creation_date":1633556702,"answer_id":69473024,"question_id":69472849,"body_markdown":"There is certainly more than one bug/issue in this code. Here are some I found\r\n\r\n - The for loop uses the variable `i` without declaring it\r\n - `size = 0` so the code inside the for loop never actually runs\r\n - `newArr` has all of its elements set equal to the elements in `arr`, and then you go and assign `arr` to `newArr`! This means that the `newArr` variable will point to the same array as the `arr` variable, meaning they are no longer duplicates but rather the exact same piece of data\r\n - Your function takes in `list` but doesn&#39;t use it. This is clearly an issue if the function&#39;s intention was to append the `val` to `list`\r\n - Your function and maxsize constant should be static unless these are fields inside of an object and intend to be used as such\r\n\r\nI&#39;ve gone ahead and fixed your code: [(Try it here)][1]\r\n\r\n    public static void main(String args[]) {\r\n        int[] myInts = new int[]{1, 2, 4};\r\n        for(int i = 0; i &lt; myInts.length; i++){\r\n            System.out.print(myInts[i]+ &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n        myInts = append(5, myInts);\r\n        for(int i = 0; i &lt; myInts.length; i++){\r\n            System.out.print(myInts[i]+ &quot; &quot;);\r\n        }\r\n    }\r\n    private static int maxsize = 16;\r\n    public static int[] append(int val, int[] list){\r\n        int size = list.length;\r\n        if(size &lt; maxsize){\r\n            int[] newArr = new int[size+1];\r\n            for (int i = 0; i &lt; size ; i++){\r\n                newArr[i] = list[i];\r\n            }\r\n            newArr[size] = val;\r\n            return newArr;\r\n        }\r\n        return list;\r\n    }\r\n\r\n\r\n  [1]: http://jdoodle.com/ia/hK8","title":"Coding a loop inside of an Array in pseudocode","body":"<p>There is certainly more than one bug/issue in this code. Here are some I found</p>\n<ul>\n<li>The for loop uses the variable <code>i</code> without declaring it</li>\n<li><code>size = 0</code> so the code inside the for loop never actually runs</li>\n<li><code>newArr</code> has all of its elements set equal to the elements in <code>arr</code>, and then you go and assign <code>arr</code> to <code>newArr</code>! This means that the <code>newArr</code> variable will point to the same array as the <code>arr</code> variable, meaning they are no longer duplicates but rather the exact same piece of data</li>\n<li>Your function takes in <code>list</code> but doesn't use it. This is clearly an issue if the function's intention was to append the <code>val</code> to <code>list</code></li>\n<li>Your function and maxsize constant should be static unless these are fields inside of an object and intend to be used as such</li>\n</ul>\n<p>I've gone ahead and fixed your code: <a href=\"http://jdoodle.com/ia/hK8\" rel=\"nofollow noreferrer\">(Try it here)</a></p>\n<pre><code>public static void main(String args[]) {\n    int[] myInts = new int[]{1, 2, 4};\n    for(int i = 0; i &lt; myInts.length; i++){\n        System.out.print(myInts[i]+ &quot; &quot;);\n    }\n    System.out.println();\n    myInts = append(5, myInts);\n    for(int i = 0; i &lt; myInts.length; i++){\n        System.out.print(myInts[i]+ &quot; &quot;);\n    }\n}\nprivate static int maxsize = 16;\npublic static int[] append(int val, int[] list){\n    int size = list.length;\n    if(size &lt; maxsize){\n        int[] newArr = new int[size+1];\n        for (int i = 0; i &lt; size ; i++){\n            newArr[i] = list[i];\n        }\n        newArr[size] = val;\n        return newArr;\n    }\n    return list;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9232561,"reputation":531,"user_id":6858195,"display_name":"Benjamin Berman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633572090,"creation_date":1633572090,"answer_id":69474592,"question_id":69472849,"body_markdown":"There’s just an off-by-one error.  The code is trying to copy size+1 elements from the old array into the new, but the old array only has size elements.","title":"Coding a loop inside of an Array in pseudocode","body":"<p>There’s just an off-by-one error.  The code is trying to copy size+1 elements from the old array into the new, but the old array only has size elements.</p>\n"}],"owner":{"account_id":22960637,"reputation":1,"user_id":17090565,"display_name":"compsci9298233"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1633584853,"creation_date":1633555515,"question_id":69472849,"body_markdown":"I&#39;m new to computer science. I&#39;ve been told there is only 1 bug in the following Java type pseudo-code but i&#39;m unable to figure it out. Isn&#39;t there more then 1? First the if statement means it won&#39;t loop as size doesn&#39;t equal max size, but i think the loop is also incorrect as rather then i&lt;=size shouldn&#39;t it be i&lt;=maxsize? \r\n\r\n    private int size = 0;\r\n    private int maxsize = 16;\r\n    private int[] arr = new int[maxsize];\r\n\r\n    public void append(val, list)\r\n    {\r\n        if (size == maxsize)\r\n        {\r\n            int[] newArr = new int[maxsize * 2];\r\n            for (i = 0; i &lt;= size ; i++)\r\n                newArr[i] = arr[i];\r\n            arr = newArr;\r\n            maxsize = maxsize*2;\r\n        }\r\n        arr[size++] = val;\r\n    }\r\n\r\nOut of these options, which one is correct? \r\n* Line 1 should read: `private int size = 16;`\r\n* Line 7 should read: `if (size &gt; maxsize)`\r\n* Line 10 should read: `for (i = 0 ; i &lt;= maxsize ; i++)`\r\n* Line 13 should come before line 10\r\n* Line 15 should read: `arr[++size] = val;`\r\n","title":"Coding a loop inside of an Array in pseudocode","body":"<p>I'm new to computer science. I've been told there is only 1 bug in the following Java type pseudo-code but i'm unable to figure it out. Isn't there more then 1? First the if statement means it won't loop as size doesn't equal max size, but i think the loop is also incorrect as rather then i&lt;=size shouldn't it be i&lt;=maxsize?</p>\n<pre><code>private int size = 0;\nprivate int maxsize = 16;\nprivate int[] arr = new int[maxsize];\n\npublic void append(val, list)\n{\n    if (size == maxsize)\n    {\n        int[] newArr = new int[maxsize * 2];\n        for (i = 0; i &lt;= size ; i++)\n            newArr[i] = arr[i];\n        arr = newArr;\n        maxsize = maxsize*2;\n    }\n    arr[size++] = val;\n}\n</code></pre>\n<p>Out of these options, which one is correct?</p>\n<ul>\n<li>Line 1 should read: <code>private int size = 16;</code></li>\n<li>Line 7 should read: <code>if (size &gt; maxsize)</code></li>\n<li>Line 10 should read: <code>for (i = 0 ; i &lt;= maxsize ; i++)</code></li>\n<li>Line 13 should come before line 10</li>\n<li>Line 15 should read: <code>arr[++size] = val;</code></li>\n</ul>\n"},{"tags":["java","smooks"],"comments":[{"owner":{"account_id":451283,"reputation":489,"user_id":847102,"accept_rate":75,"display_name":"Claude"},"score":0,"creation_date":1633330060,"post_id":69405625,"comment_id":122720793,"body_markdown":"Post the error stack trace.","body":"Post the error stack trace."},{"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"score":1,"creation_date":1633417582,"post_id":69405625,"comment_id":122746979,"body_markdown":"I edit my question","body":"I edit my question"}],"answers":[{"tags":[],"owner":{"account_id":451283,"reputation":489,"user_id":847102,"accept_rate":75,"display_name":"Claude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633584775,"creation_date":1633584775,"answer_id":69475906,"question_id":69405625,"body_markdown":"Smooks is attempting to load classes from the JARs within its classpath. It cannot unpack a JAR which leads to the error you&#39;re seeing. Perhaps the archive is corrupt? Unfortunately the error message doesn&#39;t indicate which archive but you can easily find out by stepping into the code.","title":"Get &quot;error in opening zip file&quot; on new Smooks()","body":"<p>Smooks is attempting to load classes from the JARs within its classpath. It cannot unpack a JAR which leads to the error you're seeing. Perhaps the archive is corrupt? Unfortunately the error message doesn't indicate which archive but you can easily find out by stepping into the code.</p>\n"}],"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69475906,"answer_count":1,"score":0,"last_activity_date":1633584775,"creation_date":1633089927,"question_id":69405625,"body_markdown":"I get an error when I try to generate a new Smooks instance:\r\n\r\n    Smooks smooks = new Smooks(&quot;conf/smooks-config.xml&quot;);\r\n\r\nthe smooks-config.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;smooks-resource-list xmlns=&quot;https://www.smooks.org/xsd/smooks-2.0.xsd&quot;\r\n                          xmlns:edifact=&quot;https://www.smooks.org/xsd/smooks/edifact-2.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;edifact:parser schemaURI=&quot;/d03b/EDIFACT-Messages.dfdl.xsd&quot;/&gt;\r\n    \t&lt;edifact:unparser schemaURI=&quot;/d03b/EDIFACT-Messages.dfdl.xsd&quot; unparseOnElement=&quot;/Interchange&quot;/&gt;\r\n    &lt;/smooks-resource-list&gt;\r\n\r\nWhy? What I do wrong? I use Smooks-2.0.0-M3\r\n\r\nHere is the Stacktrace:\r\n\r\n    org.smooks.api.SmooksException: error in opening zip file\r\n    \tat org.smooks.engine.DefaultApplicationContext.&lt;init&gt;(DefaultApplicationContext.java:93)\r\n    \tat org.smooks.engine.DefaultApplicationContextBuilder.build(DefaultApplicationContextBuilder.java:90)\r\n    \tat org.smooks.Smooks.&lt;init&gt;(Smooks.java:152)\r\n    \tat org.smooks.Smooks.&lt;init&gt;(Smooks.java:182)\r\n    \tat de.edi.ProcessorSmooksInit.process(ProcessorSmooksInit.java:23)\r\n    \tat org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)\r\n    \tat org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:77)\r\n    \tat org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:163)\r\n    \tat org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:468)\r\n    \tat org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:109)\r\n    \tat org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:344)\r\n    \tat org.apache.camel.processor.DeadLetterChannel.process(DeadLetterChannel.java:68)\r\n    \tat org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:172)\r\n    \tat org.apache.camel.processor.Pipeline.process(Pipeline.java:121)\r\n    \tat org.apache.camel.processor.Pipeline.process(Pipeline.java:83)\r\n    \tat org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:468)\r\n    \tat org.apache.camel.spring.spi.TransactionErrorHandler.processByErrorHandler(TransactionErrorHandler.java:220)\r\n    \tat org.apache.camel.spring.spi.TransactionErrorHandler.process(TransactionErrorHandler.java:101)\r\n    \tat org.apache.camel.spring.spi.TransactionErrorHandler.process(TransactionErrorHandler.java:114)\r\n    \tat org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:77)\r\n    \tat org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:163)\r\n    \tat org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:468)\r\n    \tat org.apache.camel.spring.spi.TransactionErrorHandler.processByErrorHandler(TransactionErrorHandler.java:220)\r\n    \tat org.apache.camel.spring.spi.TransactionErrorHandler$1.doInTransactionWithoutResult(TransactionErrorHandler.java:183)\r\n    \tat org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:34)\r\n    \tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133)\r\n    \tat org.apache.camel.spring.spi.TransactionErrorHandler.doInTransactionTemplate(TransactionErrorHandler.java:176)\r\n    \tat org.apache.camel.spring.spi.TransactionErrorHandler.processInTransaction(TransactionErrorHandler.java:136)\r\n    \tat org.apache.camel.spring.spi.TransactionErrorHandler.process(TransactionErrorHandler.java:105)\r\n    \tat org.apache.camel.spring.spi.TransactionErrorHandler.process(TransactionErrorHandler.java:114)\r\n    \tat org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:197)\r\n    \tat org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:197)\r\n    \tat org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:454)\r\n    \tat org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:226)\r\n    \tat org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:190)\r\n    \tat org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:175)\r\n    \tat org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:102)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.util.zip.ZipException: error in opening zip file\r\n    \tat java.util.zip.ZipFile.open(Native Method)\r\n    \tat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\r\n    \tat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\r\n    \tat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:169)\r\n    \tat org.smooks.classpath.Scanner.handleArchive(Scanner.java:121)\r\n    \tat org.smooks.classpath.Scanner.scanClasspath(Scanner.java:104)\r\n    \tat org.smooks.engine.DefaultApplicationContext.&lt;init&gt;(DefaultApplicationContext.java:91)\r\n    \t... 43 more\r\n\r\nBut I don&#39;t use a Zip-File on any Parts. I use smooks in a Apache Camel processor, but I don&#39;t think that this have any impact.","title":"Get &quot;error in opening zip file&quot; on new Smooks()","body":"<p>I get an error when I try to generate a new Smooks instance:</p>\n<pre><code>Smooks smooks = new Smooks(&quot;conf/smooks-config.xml&quot;);\n</code></pre>\n<p>the smooks-config.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;smooks-resource-list xmlns=&quot;https://www.smooks.org/xsd/smooks-2.0.xsd&quot;\n                      xmlns:edifact=&quot;https://www.smooks.org/xsd/smooks/edifact-2.0.xsd&quot;&gt;\n\n    &lt;edifact:parser schemaURI=&quot;/d03b/EDIFACT-Messages.dfdl.xsd&quot;/&gt;\n    &lt;edifact:unparser schemaURI=&quot;/d03b/EDIFACT-Messages.dfdl.xsd&quot; unparseOnElement=&quot;/Interchange&quot;/&gt;\n&lt;/smooks-resource-list&gt;\n</code></pre>\n<p>Why? What I do wrong? I use Smooks-2.0.0-M3</p>\n<p>Here is the Stacktrace:</p>\n<pre><code>org.smooks.api.SmooksException: error in opening zip file\n    at org.smooks.engine.DefaultApplicationContext.&lt;init&gt;(DefaultApplicationContext.java:93)\n    at org.smooks.engine.DefaultApplicationContextBuilder.build(DefaultApplicationContextBuilder.java:90)\n    at org.smooks.Smooks.&lt;init&gt;(Smooks.java:152)\n    at org.smooks.Smooks.&lt;init&gt;(Smooks.java:182)\n    at de.edi.ProcessorSmooksInit.process(ProcessorSmooksInit.java:23)\n    at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)\n    at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:77)\n    at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:163)\n    at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:468)\n    at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:109)\n    at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:344)\n    at org.apache.camel.processor.DeadLetterChannel.process(DeadLetterChannel.java:68)\n    at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:172)\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:121)\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:83)\n    at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:468)\n    at org.apache.camel.spring.spi.TransactionErrorHandler.processByErrorHandler(TransactionErrorHandler.java:220)\n    at org.apache.camel.spring.spi.TransactionErrorHandler.process(TransactionErrorHandler.java:101)\n    at org.apache.camel.spring.spi.TransactionErrorHandler.process(TransactionErrorHandler.java:114)\n    at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:77)\n    at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:163)\n    at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:468)\n    at org.apache.camel.spring.spi.TransactionErrorHandler.processByErrorHandler(TransactionErrorHandler.java:220)\n    at org.apache.camel.spring.spi.TransactionErrorHandler$1.doInTransactionWithoutResult(TransactionErrorHandler.java:183)\n    at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:34)\n    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133)\n    at org.apache.camel.spring.spi.TransactionErrorHandler.doInTransactionTemplate(TransactionErrorHandler.java:176)\n    at org.apache.camel.spring.spi.TransactionErrorHandler.processInTransaction(TransactionErrorHandler.java:136)\n    at org.apache.camel.spring.spi.TransactionErrorHandler.process(TransactionErrorHandler.java:105)\n    at org.apache.camel.spring.spi.TransactionErrorHandler.process(TransactionErrorHandler.java:114)\n    at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:197)\n    at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:197)\n    at org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:454)\n    at org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:226)\n    at org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:190)\n    at org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:175)\n    at org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:102)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.util.zip.ZipException: error in opening zip file\n    at java.util.zip.ZipFile.open(Native Method)\n    at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\n    at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\n    at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:169)\n    at org.smooks.classpath.Scanner.handleArchive(Scanner.java:121)\n    at org.smooks.classpath.Scanner.scanClasspath(Scanner.java:104)\n    at org.smooks.engine.DefaultApplicationContext.&lt;init&gt;(DefaultApplicationContext.java:91)\n    ... 43 more\n</code></pre>\n<p>But I don't use a Zip-File on any Parts. I use smooks in a Apache Camel processor, but I don't think that this have any impact.</p>\n"},{"tags":["java","swing","graphics","jframe","jpanel"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1631162943,"creation_date":1631162943,"answer_id":69112380,"question_id":69112302,"body_markdown":"# Background, TL;DR\r\n\r\nSwing is single threaded and not thread safe.  So using things like `Thread.sleep` or loops will not work.\r\n\r\nIn most cases, the best solution is to make use of a Swing `Timer`, see [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for more details.\r\n\r\nA `Timer` is a great way to introduce a callback to occur at some point in the future and they can be used to run once or infinitely (until you stop it).\r\n\r\nIf you need to wait for some operation to complete, it becomes a little more complicated.  In those cases, you should consider making use of [Worker Threads and SwingWorker](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html), which makes it easier to execute functionality off the Event Dispatching Thread (see [The Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html) for more details), but provides functionality to re-sync information back to the EDT.\r\n\r\n# Swing `Timer` Example\r\n\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private JLabel label;\r\n            private Timer timer;\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                label = new JLabel(&quot;Please wait&quot;);\r\n                add(label);\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                // This is all just so we can allow the UI to stablise\r\n                // on the screen\r\n                EventQueue.invokeLater(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        startWaiting();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            protected void startWaiting() {\r\n                if (timer != null &amp;&amp; timer.isRunning()) {\r\n                    return;\r\n                }\r\n                timer = new Timer(10000, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        timer = null;\r\n                        label.setText(&quot;Thanks for waiting&quot;);\r\n                    }\r\n                });\r\n                timer.setRepeats(false);\r\n                timer.start();\r\n            }\r\n\r\n        }\r\n    }\r\n","title":"How to disable the system for a few seconds in java JPanel","body":"<h1>Background, TL;DR</h1>\n<p>Swing is single threaded and not thread safe.  So using things like <code>Thread.sleep</code> or loops will not work.</p>\n<p>In most cases, the best solution is to make use of a Swing <code>Timer</code>, see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> for more details.</p>\n<p>A <code>Timer</code> is a great way to introduce a callback to occur at some point in the future and they can be used to run once or infinitely (until you stop it).</p>\n<p>If you need to wait for some operation to complete, it becomes a little more complicated.  In those cases, you should consider making use of <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">Worker Threads and SwingWorker</a>, which makes it easier to execute functionality off the Event Dispatching Thread (see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">The Event Dispatch Thread</a> for more details), but provides functionality to re-sync information back to the EDT.</p>\n<h1>Swing <code>Timer</code> Example</h1>\n<pre><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n\n    public class TestPane extends JPanel {\n\n        private JLabel label;\n        private Timer timer;\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            label = new JLabel(&quot;Please wait&quot;);\n            add(label);\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            // This is all just so we can allow the UI to stablise\n            // on the screen\n            EventQueue.invokeLater(new Runnable() {\n                @Override\n                public void run() {\n                    startWaiting();\n                }\n            });\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        protected void startWaiting() {\n            if (timer != null &amp;&amp; timer.isRunning()) {\n                return;\n            }\n            timer = new Timer(10000, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    timer = null;\n                    label.setText(&quot;Thanks for waiting&quot;);\n                }\n            });\n            timer.setRepeats(false);\n            timer.start();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22294235,"reputation":29,"user_id":16520526,"display_name":"יויו שמוחה"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69112380,"answer_count":1,"score":0,"last_activity_date":1633584593,"creation_date":1631162329,"question_id":69112302,"body_markdown":"I am new in graphics and I try to disable the code for a few seconds (**without the `sleep()` method**)\r\n\r\n\r\n\r\n\r\n    public class MainClass\r\n    { \r\n        public static void main(String args[]) \r\n        { \r\n        \tJPanel p = new JPanel();\r\n        \tJFrame f = new JFrame(&quot;wait&quot;);\r\n        \tf.setSize(600,600);\r\n        \tf.setVisible(true);\r\n            JLabel l = new JLabel(&quot;GET READY&quot;);\r\n            p.add(l);\r\n            l.setBounds(0,0,200,200);\r\n            \r\n            // wait here\r\n            \r\n            for(int i = 0;i&lt;2;i++) {\r\n            \tl.setText(String.valueOf(i));\r\n                // wait here again:)\r\n            \tf.repaint();\r\n            }\r\n           \r\n        \tf.add(p);\r\n        } \r\n    } ","title":"How to disable the system for a few seconds in java JPanel","body":"<p>I am new in graphics and I try to disable the code for a few seconds (<strong>without the <code>sleep()</code> method</strong>)</p>\n<pre><code>public class MainClass\n{ \n    public static void main(String args[]) \n    { \n        JPanel p = new JPanel();\n        JFrame f = new JFrame(&quot;wait&quot;);\n        f.setSize(600,600);\n        f.setVisible(true);\n        JLabel l = new JLabel(&quot;GET READY&quot;);\n        p.add(l);\n        l.setBounds(0,0,200,200);\n        \n        // wait here\n        \n        for(int i = 0;i&lt;2;i++) {\n            l.setText(String.valueOf(i));\n            // wait here again:)\n            f.repaint();\n        }\n       \n        f.add(p);\n    } \n} \n</code></pre>\n"},{"tags":["java","swing","events","jframe","jbutton"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1631543036,"post_id":69164252,"comment_id":122243550,"body_markdown":"Simply trying to copy, paste and merge other peoples code is one thing. But understanding what the code does and why is more important. You should understand the basics. For example, check out [How to use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html).","body":"Simply trying to copy, paste and merge other peoples code is one thing. But understanding what the code does and why is more important. You should understand the basics. For example, check out <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to use Swing Timers</a>."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1631543089,"post_id":69164252,"comment_id":122243577,"body_markdown":"[Here](https://stackoverflow.com/a/33488613/11441011) is a runnable example for a Swing Stopwatch. Which is basically what you want.","body":"<a href=\"https://stackoverflow.com/a/33488613/11441011\">Here</a> is a runnable example for a Swing Stopwatch. Which is basically what you want."},{"owner":{"account_id":22643061,"reputation":134,"user_id":16818831,"display_name":"CiY3"},"score":0,"creation_date":1631543141,"post_id":69164252,"comment_id":122243596,"body_markdown":"Oh no I do understand them, but I can&#39;t figure out the error messages I&#39;ve been getting.","body":"Oh no I do understand them, but I can&#39;t figure out the error messages I&#39;ve been getting."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1631543178,"post_id":69164252,"comment_id":122243614,"body_markdown":"Then you should have posted a specific question about the error message(s) you are getting. Currently, your &quot;question&quot; is: &quot;_I&#39;ve tried to merge the two but I can&#39;t figure out why. Can someone tell me what I should do?_&quot;","body":"Then you should have posted a specific question about the error message(s) you are getting. Currently, your &quot;question&quot; is: &quot;<i>I&#39;ve tried to merge the two but I can&#39;t figure out why. Can someone tell me what I should do?</i>&quot;"}],"answers":[{"tags":[],"owner":{"account_id":16442015,"reputation":580,"user_id":11877995,"display_name":"RAVN Mateus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631542922,"creation_date":1631542922,"answer_id":69164365,"question_id":69164252,"body_markdown":"Create a variable `java.util.Timer timer` and initialize it with it&#39;s default constructor. Then change the actionPerformed code to \r\n```\r\n@Override\r\npublic void actionPerformed(ActionEvent e) {\r\n    timer.scheduleAtFixedRate(new TimerTask() {\r\n        @Override\r\n        public void run() {\r\n            // Something, that should be executed every interval\r\n        }\r\n    }, 0, intervalInMilliseconds);\r\n}\r\n```\r\nYou might want to add a possibility to cancel the timer (`timer.cancel()`) though.","title":"How do I implement a JFrame button to begin a timer?","body":"<p>Create a variable <code>java.util.Timer timer</code> and initialize it with it's default constructor. Then change the actionPerformed code to</p>\n<pre><code>@Override\npublic void actionPerformed(ActionEvent e) {\n    timer.scheduleAtFixedRate(new TimerTask() {\n        @Override\n        public void run() {\n            // Something, that should be executed every interval\n        }\n    }, 0, intervalInMilliseconds);\n}\n</code></pre>\n<p>You might want to add a possibility to cancel the timer (<code>timer.cancel()</code>) though.</p>\n"}],"owner":{"account_id":22643061,"reputation":134,"user_id":16818831,"display_name":"CiY3"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633584522,"creation_date":1631542518,"question_id":69164252,"body_markdown":"I have a simple program that just tells you how long since the program has started running. Here is the code (that works just as intended!)\r\n```\r\nimport java.awt.Graphics;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.Color;\r\nimport java.awt.FlowLayout;\r\nimport javax.swing.*;\r\n\r\n\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class Program extends JFrame {\r\n\tJFrame frame;\r\n\tJButton button;\r\n\r\n\tpublic Program() {\r\n         \r\n        frame.setLayout(new FlowLayout());\r\n        frame.add(button);\r\n        frame.setVisible(true);\r\n\t\t\r\n        button = new JButton(&quot;Click Me!&quot;);\r\n        button.addActionListener((ActionListener) this);\r\n        \r\n\t\tsetTitle(&quot;Hello&quot;);\r\n\t\tsetSize(1200,800);\r\n\t\tsetVisible(true);\r\n\t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t}\r\n\r\n\tpublic void frame(Graphics g) throws InterruptedException{\r\n\t\tint decaseconds = 0;\t\t\r\n\t\tint seconds = 0;\r\n\t\tint minutes = 0;\r\n\t\tint hours = 0;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; 2; i++) {\r\n\t\t\ti--;\r\n\t\t\tdecaseconds += 1;\r\n\t\t\tif(decaseconds == 100) {\r\n\t\t\t\tdecaseconds -= 100;\r\n\t\t\t\tseconds++;\r\n\t\t\t}\r\n\t\t\tif(seconds == 60) {\r\n\t\t\t\tseconds -= 60;\r\n\t\t\t\tminutes++;\r\n\t\t\t}\r\n\t\t\tif(minutes == 60) {\r\n\t\t\t\tminutes -= 60;\r\n\t\t\t\thours++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(hours + &quot; hours : &quot; + minutes + &quot; minutes : &quot; + seconds + &quot; seconds : &quot; + decaseconds + &quot; decaseconds &quot;);\r\n\t\t\t\r\n\t\t\tg.setColor(Color.white);\r\n\t\t    g.fillRect(0, 0, 1200, 800);\r\n\t\t    g.setColor(Color.blue);\r\n\t\t    g.drawString(hours + &quot; hours : &quot; + minutes + &quot; minutes : &quot; + seconds + &quot; seconds : &quot; + decaseconds + &quot; decaseconds&quot;, 100, 100);\r\n\t\t    Thread.sleep(10);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n        System.out.println(&quot;You have clicked the button&quot;);\r\n    }\r\n\t\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tProgram p  = new Program();\r\n\t\tfor(int i = 0; i &lt; 1000; i++) {\r\n\t\t\tp.frame(p.getGraphics());\r\n\t\t\tThread.sleep(1);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nI wanted to put a button in the program, where you click the button to start the timer. So I read a tutorial and found this:\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\nclass ActionEventDemo implements ActionListener {\r\n    JFrame frame=new JFrame();\r\n    JButton button=new JButton(&quot;Click Me&quot;);\r\n\r\n    ActionEventDemo(){\r\n        prepareGUI();\r\n        buttonProperties();\r\n    }\r\n\r\n    public void prepareGUI(){\r\n        frame.setTitle(&quot;My Window&quot;);\r\n        frame.getContentPane().setLayout(null);\r\n        frame.setVisible(true);\r\n        frame.setBounds(200,200,400,400);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    }\r\n    public void buttonProperties(){\r\n        button.setBounds(130,200,100,40);\r\n        frame.add(button);\r\n        button.addActionListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        //Changing Background Color\r\n        frame.getContentPane().setBackground(Color.pink);\r\n\r\n    }\r\n}\r\n\r\npublic class MainClass {\r\n    public static void main(String[] args)\r\n    {\r\n        new ActionEventDemo();\r\n    }\r\n}\r\n```\r\nI&#39;ve tried to merge the two but I can&#39;t figure out why. Can someone tell me what I should do? Reminder: I want the program to start counting (like the first example) once I press the button.\r\n\r\nThanks!\r\n","title":"How do I implement a JFrame button to begin a timer?","body":"<p>I have a simple program that just tells you how long since the program has started running. Here is the code (that works just as intended!)</p>\n<pre><code>import java.awt.Graphics;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.Color;\nimport java.awt.FlowLayout;\nimport javax.swing.*;\n\n\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class Program extends JFrame {\n    JFrame frame;\n    JButton button;\n\n    public Program() {\n         \n        frame.setLayout(new FlowLayout());\n        frame.add(button);\n        frame.setVisible(true);\n        \n        button = new JButton(&quot;Click Me!&quot;);\n        button.addActionListener((ActionListener) this);\n        \n        setTitle(&quot;Hello&quot;);\n        setSize(1200,800);\n        setVisible(true);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n    }\n\n    public void frame(Graphics g) throws InterruptedException{\n        int decaseconds = 0;        \n        int seconds = 0;\n        int minutes = 0;\n        int hours = 0;\n        \n        for(int i = 0; i &lt; 2; i++) {\n            i--;\n            decaseconds += 1;\n            if(decaseconds == 100) {\n                decaseconds -= 100;\n                seconds++;\n            }\n            if(seconds == 60) {\n                seconds -= 60;\n                minutes++;\n            }\n            if(minutes == 60) {\n                minutes -= 60;\n                hours++;\n            }\n            \n            System.out.println(hours + &quot; hours : &quot; + minutes + &quot; minutes : &quot; + seconds + &quot; seconds : &quot; + decaseconds + &quot; decaseconds &quot;);\n            \n            g.setColor(Color.white);\n            g.fillRect(0, 0, 1200, 800);\n            g.setColor(Color.blue);\n            g.drawString(hours + &quot; hours : &quot; + minutes + &quot; minutes : &quot; + seconds + &quot; seconds : &quot; + decaseconds + &quot; decaseconds&quot;, 100, 100);\n            Thread.sleep(10);\n        }\n    }\n    \n    public void actionPerformed(ActionEvent e) {\n        System.out.println(&quot;You have clicked the button&quot;);\n    }\n    \n    public static void main(String[] args) throws InterruptedException {\n        Program p  = new Program();\n        for(int i = 0; i &lt; 1000; i++) {\n            p.frame(p.getGraphics());\n            Thread.sleep(1);\n        }\n    }\n}\n</code></pre>\n<p>I wanted to put a button in the program, where you click the button to start the timer. So I read a tutorial and found this:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\nclass ActionEventDemo implements ActionListener {\n    JFrame frame=new JFrame();\n    JButton button=new JButton(&quot;Click Me&quot;);\n\n    ActionEventDemo(){\n        prepareGUI();\n        buttonProperties();\n    }\n\n    public void prepareGUI(){\n        frame.setTitle(&quot;My Window&quot;);\n        frame.getContentPane().setLayout(null);\n        frame.setVisible(true);\n        frame.setBounds(200,200,400,400);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n    public void buttonProperties(){\n        button.setBounds(130,200,100,40);\n        frame.add(button);\n        button.addActionListener(this);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        //Changing Background Color\n        frame.getContentPane().setBackground(Color.pink);\n\n    }\n}\n\npublic class MainClass {\n    public static void main(String[] args)\n    {\n        new ActionEventDemo();\n    }\n}\n</code></pre>\n<p>I've tried to merge the two but I can't figure out why. Can someone tell me what I should do? Reminder: I want the program to start counting (like the first example) once I press the button.</p>\n<p>Thanks!</p>\n"},{"tags":["java","swing","jframe","jpanel","graphics2d"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1633343119,"post_id":69434338,"comment_id":122725506,"body_markdown":"You should be overriding `Pintar.paintComponent` (see Javadocs for `JPanel` [or superclass])","body":"You should be overriding <code>Pintar.paintComponent</code> (see Javadocs for <code>JPanel</code> [or superclass])"}],"answers":[{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633343168,"creation_date":1633343168,"answer_id":69434434,"question_id":69434338,"body_markdown":"Your `pintar` method should not attempt to draw things.\r\n\r\nUse the dedicated `paintComponent` method instead :\r\n\r\n    @Override\r\n    public void paintComponent(final Graphics g) {\r\n\r\n        super.paintComponent(g);\r\n\r\n        if (gameover == true) {\r\n\r\n            g.setColor(Color.BLACK);\r\n\r\n        } else {\r\n            g.setColor(Color.WHITE);\r\n\r\n        }\r\n\r\n        g.fillRect(0, 0, ancho, alto);\r\n\r\n    }","title":"Graphics do not appear on my JFrame, instead it appears Blank","body":"<p>Your <code>pintar</code> method should not attempt to draw things.</p>\n<p>Use the dedicated <code>paintComponent</code> method instead :</p>\n<pre><code>@Override\npublic void paintComponent(final Graphics g) {\n\n    super.paintComponent(g);\n\n    if (gameover == true) {\n\n        g.setColor(Color.BLACK);\n\n    } else {\n        g.setColor(Color.WHITE);\n\n    }\n\n    g.fillRect(0, 0, ancho, alto);\n\n}\n</code></pre>\n"}],"owner":{"account_id":22936744,"reputation":1,"user_id":17070117,"display_name":"Jes&#250;s Carrasquer"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633343435,"answer_count":1,"score":0,"last_activity_date":1633584233,"creation_date":1633342682,"question_id":69434338,"body_markdown":"I am trying to make a simple pong game in order to learn Java&#39;s `JFrame`, `JPanel` etc. I&#39;ve seen people with similar problems but no solution seems to work, when I run the code all I see is an empty screen, at this point not even a simple conditional seems to work. Adding code here:\r\n\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\npublic class Pong extends JFrame {\r\n\r\n        int ancho = 800;\r\n        int alto = 800;\r\n        Point barra1 = new Point((int) (ancho*0.05), (int) alto/2);\r\n        Point barra2 = new Point((int) (ancho*0.95), (int) alto/2);\r\n        boolean gameover = true;\r\n        Pintar pintar;\r\n    \r\n    public Pong(){\r\n         setTitle(&quot;Pong&quot;);\r\n         Pintar elementos = new Pintar();\r\n         this.getContentPane().add(elementos);\r\n         setSize(ancho,alto);\r\n         this.setBackground(null);\r\n         this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n         JFrame.setDefaultLookAndFeelDecorated(false);\r\n         setUndecorated(true);\r\n         this.setLocationRelativeTo(null);\r\n         setVisible(true);\r\n    }\r\n\r\n    public class Pintar extends JPanel{\r\n    \r\n        public void pintar(Graphics g){\r\n            super.paintComponent(g);\r\n             if(gameover == true){\r\n                 g.setColor(Color.BLACK);\r\n             }\r\n             else{\r\n                 g.setColor(Color.WHITE);\r\n             }\r\n             g.fillRect(0, 0, ancho, alto);\r\n         }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Pong pantalla1 = new Pong();\r\n    }\r\n}\r\n```\r\nAnything I try seems to have no result, the painting settings are really simple now, if game over is false, it will paint a white square over the whole screen, otherwise, it will paint it black.\r\n\r\nSo I think the problem is on these graphics getting into the frame.","title":"Graphics do not appear on my JFrame, instead it appears Blank","body":"<p>I am trying to make a simple pong game in order to learn Java's <code>JFrame</code>, <code>JPanel</code> etc. I've seen people with similar problems but no solution seems to work, when I run the code all I see is an empty screen, at this point not even a simple conditional seems to work. Adding code here:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class Pong extends JFrame {\n\n        int ancho = 800;\n        int alto = 800;\n        Point barra1 = new Point((int) (ancho*0.05), (int) alto/2);\n        Point barra2 = new Point((int) (ancho*0.95), (int) alto/2);\n        boolean gameover = true;\n        Pintar pintar;\n    \n    public Pong(){\n         setTitle(&quot;Pong&quot;);\n         Pintar elementos = new Pintar();\n         this.getContentPane().add(elementos);\n         setSize(ancho,alto);\n         this.setBackground(null);\n         this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n         JFrame.setDefaultLookAndFeelDecorated(false);\n         setUndecorated(true);\n         this.setLocationRelativeTo(null);\n         setVisible(true);\n    }\n\n    public class Pintar extends JPanel{\n    \n        public void pintar(Graphics g){\n            super.paintComponent(g);\n             if(gameover == true){\n                 g.setColor(Color.BLACK);\n             }\n             else{\n                 g.setColor(Color.WHITE);\n             }\n             g.fillRect(0, 0, ancho, alto);\n         }\n    }\n\n    public static void main(String[] args) {\n        Pong pantalla1 = new Pong();\n    }\n}\n</code></pre>\n<p>Anything I try seems to have no result, the painting settings are really simple now, if game over is false, it will paint a white square over the whole screen, otherwise, it will paint it black.</p>\n<p>So I think the problem is on these graphics getting into the frame.</p>\n"},{"tags":["java","html","jsp"],"comments":[{"owner":{"account_id":22266993,"reputation":897,"user_id":16497617,"display_name":"Maneesha Indrachapa"},"score":0,"creation_date":1633584755,"post_id":69475840,"comment_id":122799469,"body_markdown":"try with `value=&quot;&lt;%=property.getId()%&gt;` with no spaces between `%=` and `property.getId()`","body":"try with <code>value=&quot;&lt;%=property.getId()%&gt;</code> with no spaces between <code>%=</code> and <code>property.getId()</code>"},{"owner":{"account_id":16384091,"reputation":1,"user_id":11834399,"display_name":"Raman"},"score":0,"creation_date":1633589283,"post_id":69475840,"comment_id":122800718,"body_markdown":"It is still showing the same error","body":"It is still showing the same error"},{"owner":{"account_id":13786744,"reputation":171,"user_id":9950435,"display_name":"naveen4181"},"score":0,"creation_date":1633591834,"post_id":69475840,"comment_id":122801593,"body_markdown":"Make sure that datatype of getId() is Integer in pojo.","body":"Make sure that datatype of getId() is Integer in pojo."}],"owner":{"account_id":16384091,"reputation":1,"user_id":11834399,"display_name":"Raman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633584168,"creation_date":1633584168,"question_id":69475840,"body_markdown":"Id: &lt;input type=&quot;number&quot; name=&quot;Id&quot; value=&quot;&lt;%= property.getId()%&gt;\r\n\r\nGetting the error when I try this code for integer values... I tried parsing so that&#39;s not the problem\r\n","title":"Bad value &quot; &quot; for attribute &quot;value&quot; expected digit saw &quot; &quot;, getting this error","body":"<p>Id: &lt;input type=&quot;number&quot; name=&quot;Id&quot; value=&quot;&lt;%= property.getId()%&gt;</p>\n<p>Getting the error when I try this code for integer values... I tried parsing so that's not the problem</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1633582130,"post_id":69475544,"comment_id":122798999,"body_markdown":"What do you expect `this.values.add(date, count, correct)` to do?","body":"What do you expect <code>this.values.add(date, count, correct)</code> to do?"},{"owner":{"account_id":22460392,"reputation":31,"user_id":16662688,"display_name":"Matt Beagle"},"score":0,"creation_date":1633582451,"post_id":69475544,"comment_id":122799054,"body_markdown":"i expect for those values to be entered into the first index of the ArrayList","body":"i expect for those values to be entered into the first index of the ArrayList"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1633583110,"post_id":69475544,"comment_id":122799144,"body_markdown":"That isn&#39;t how ArrayLists work. Each item in an ArrayList is a reference to a single object. You need to create a `LogData` class which contains a Date, int and boolean, and then create an instance of that class in your `setValue` method, and add it to the ArrayList (which you would declare as `ArrayList&lt;LogData&gt;`. There is no need to make UserInfo generic.","body":"That isn&#39;t how ArrayLists work. Each item in an ArrayList is a reference to a single object. You need to create a <code>LogData</code> class which contains a Date, int and boolean, and then create an instance of that class in your <code>setValue</code> method, and add it to the ArrayList (which you would declare as <code>ArrayList&lt;LogData&gt;</code>. There is no need to make UserInfo generic."}],"answers":[{"tags":[],"owner":{"account_id":3141418,"reputation":2593,"user_id":2656813,"accept_rate":91,"display_name":"Aelphaeis"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633582608,"creation_date":1633582608,"answer_id":69475671,"question_id":69475544,"body_markdown":"First thing we need to note is that your class `UserInfo` is a [generic class][1]\r\n\r\nThe second thing is that the `ArrayList&lt;T&gt;` is also a generic class; however, the generic type specified is whatever type is specified as the same as the type specified in for `UserInfo` \r\n\r\nSo if we do `UserInfo&lt;String&gt; info = new UserInfo&lt;String&gt;();` the `ArrayList&lt;T&gt;` would effectively be `ArrayList&lt;String&gt;`.\r\n\r\nIn order to resolve your problem you should make your `UserInfo` something like\r\n\r\n```java\r\nimport java.util.Date;\r\nimport java.util.ArrayList;\r\n\r\npublic class UserInfo {\r\n    private ArrayList&lt;Date&gt; values;\r\n\r\n    public UserInfo(){\r\n        this.values = new ArrayList&lt;Date&gt;();\r\n    }\r\n\r\n    public void setValue(Date date, int count, boolean correct){\r\n        this.values.add(date, count, correct);\r\n    }\r\n}\r\n```\r\nAlthough you didn&#39;t ask about this, the I&#39;m fairly certain that ArrayList does not have an [overload for add][2] that takes 3 arguments.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/types.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#add(int,%20E)","title":"Is there a way to implement generics to have an ArrayList take in a boolean?","body":"<p>First thing we need to note is that your class <code>UserInfo</code> is a <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">generic class</a></p>\n<p>The second thing is that the <code>ArrayList&lt;T&gt;</code> is also a generic class; however, the generic type specified is whatever type is specified as the same as the type specified in for <code>UserInfo</code></p>\n<p>So if we do <code>UserInfo&lt;String&gt; info = new UserInfo&lt;String&gt;();</code> the <code>ArrayList&lt;T&gt;</code> would effectively be <code>ArrayList&lt;String&gt;</code>.</p>\n<p>In order to resolve your problem you should make your <code>UserInfo</code> something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Date;\nimport java.util.ArrayList;\n\npublic class UserInfo {\n    private ArrayList&lt;Date&gt; values;\n\n    public UserInfo(){\n        this.values = new ArrayList&lt;Date&gt;();\n    }\n\n    public void setValue(Date date, int count, boolean correct){\n        this.values.add(date, count, correct);\n    }\n}\n</code></pre>\n<p>Although you didn't ask about this, the I'm fairly certain that ArrayList does not have an <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#add(int,%20E)\" rel=\"nofollow noreferrer\">overload for add</a> that takes 3 arguments.</p>\n"},{"tags":[],"owner":{"account_id":22826593,"reputation":39,"user_id":16975766,"display_name":"Zsolt Toth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633582938,"creation_date":1633582938,"answer_id":69475701,"question_id":69475544,"body_markdown":"You cannot add Data the the List of T generic type. There is a problem in the setValue method. \r\n\r\n\r\n```java\r\npublic class UserInfo&lt;T&gt;\r\n{\r\n    private ArrayList&lt;T&gt; values;\r\n\r\n    public UserInfo(){\r\n        this.values = new ArrayList&lt;T&gt;();\r\n    }\r\n\r\n    public void setValue(T value)\r\n    {\r\n        this.values.add(value);\r\n\r\n    }\r\n}\r\n```\r\n\r\nMoreover, is it really necessary to use generics in the UserInfo class? If you want to store the date, count and correct values you should create a class for it. \r\n\r\nIn addition, I would get the depdendencies of the ATM object (lcd,...) in a Constructor and only initailize them in the init method. It facilitate the testing of your code. \r\n\r\n```java\r\nclass ATM{\r\n\r\n    private LCD lcd;\r\n    private CardReader cardReader;\r\n    private Keypad keypad;\r\n    private CashDispenser cashDispenser;\r\n\r\n    public ATM(LCD lcd, CardReader cardReader, Keypad keypad, CashDispenser cashDispenser){\r\n        this.lcd = lcd;\r\n        this.cardReader = cardReader;\r\n        this.keypad = keypad;\r\n        this.cashDispenser = cashDispenser;\r\n        }\r\n\r\n    public void init(){\r\n        System.out.println(&quot;ATM.init()&quot;);\r\n        lcd.init();\r\n        cardReader.init();\r\n        cashDispenser.init();\r\n    }\r\n```","title":"Is there a way to implement generics to have an ArrayList take in a boolean?","body":"<p>You cannot add Data the the List of T generic type. There is a problem in the setValue method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserInfo&lt;T&gt;\n{\n    private ArrayList&lt;T&gt; values;\n\n    public UserInfo(){\n        this.values = new ArrayList&lt;T&gt;();\n    }\n\n    public void setValue(T value)\n    {\n        this.values.add(value);\n\n    }\n}\n</code></pre>\n<p>Moreover, is it really necessary to use generics in the UserInfo class? If you want to store the date, count and correct values you should create a class for it.</p>\n<p>In addition, I would get the depdendencies of the ATM object (lcd,...) in a Constructor and only initailize them in the init method. It facilitate the testing of your code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ATM{\n\n    private LCD lcd;\n    private CardReader cardReader;\n    private Keypad keypad;\n    private CashDispenser cashDispenser;\n\n    public ATM(LCD lcd, CardReader cardReader, Keypad keypad, CashDispenser cashDispenser){\n        this.lcd = lcd;\n        this.cardReader = cardReader;\n        this.keypad = keypad;\n        this.cashDispenser = cashDispenser;\n        }\n\n    public void init(){\n        System.out.println(&quot;ATM.init()&quot;);\n        lcd.init();\n        cardReader.init();\n        cashDispenser.init();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7254391,"reputation":835,"user_id":5533591,"accept_rate":100,"display_name":"ChristophE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633583400,"creation_date":1633583400,"answer_id":69475755,"question_id":69475544,"body_markdown":"I guess what you really would like to do is use UserInfo as a class to hold your data and save that data in a generic Java List.\r\n\r\nSo define UserInfo like this:\r\n\r\n    public class UserInfo {\r\n    \r\n      private final Date date;\r\n      private final int count;\r\n      private final boolean correct;\r\n    \r\n      public UserInfo(Date date, int count, boolean correct) {\r\n        this.date = date;\r\n        this.count = count;\r\n        this.correct = correct;\r\n      }\r\n    \r\n      public Date getDate() {\r\n        return date;\r\n      }\r\n    \r\n      public int getCount() {\r\n        return count;\r\n      }\r\n    \r\n      public boolean isCorrect() {\r\n        return correct;\r\n      }\r\n    }\r\n\r\nAnd then you can use the normal List.add like this:\r\n\r\n    List&lt;UserInfo&gt; userInfo = new ArrayList&lt;&gt;();\r\n    userInfo.add(new UserInfo(someDate, 1, true));","title":"Is there a way to implement generics to have an ArrayList take in a boolean?","body":"<p>I guess what you really would like to do is use UserInfo as a class to hold your data and save that data in a generic Java List.</p>\n<p>So define UserInfo like this:</p>\n<pre><code>public class UserInfo {\n\n  private final Date date;\n  private final int count;\n  private final boolean correct;\n\n  public UserInfo(Date date, int count, boolean correct) {\n    this.date = date;\n    this.count = count;\n    this.correct = correct;\n  }\n\n  public Date getDate() {\n    return date;\n  }\n\n  public int getCount() {\n    return count;\n  }\n\n  public boolean isCorrect() {\n    return correct;\n  }\n}\n</code></pre>\n<p>And then you can use the normal List.add like this:</p>\n<pre><code>List&lt;UserInfo&gt; userInfo = new ArrayList&lt;&gt;();\nuserInfo.add(new UserInfo(someDate, 1, true));\n</code></pre>\n"}],"owner":{"account_id":22460392,"reputation":31,"user_id":16662688,"display_name":"Matt Beagle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1633583400,"creation_date":1633581446,"question_id":69475544,"body_markdown":"I have the following code, but the ArrayList is not taking in &#39;Date&#39; type. The only thing I can think of is to incorporate generics. However, I am running into problems incorporating it into the arraylist. I did some search online and have not been able to find a good source for it.\r\n\r\n\r\nMain:\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            while(true)\r\n            {\r\n                ATM atm = new ATM();\r\n                atm.init();\r\n                atm.run();\r\n            }\r\n        }\r\n    }\r\n\r\nclass:\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    class ATM{\r\n    \r\n        private LCD lcd;\r\n        private CardReader cardReader;\r\n        private Keypad keypad;\r\n        private CashDispenser cashDispenser;\r\n    \r\n        public void init(){\r\n    \r\n            System.out.println(&quot;ATM.init()&quot;);\r\n    \r\n    \r\n            lcd = new LCD();\r\n            lcd.init();\r\n    \r\n            cardReader = new CardReader();\r\n            cardReader.init();\r\n    \r\n    \r\n    \r\n            cashDispenser = new CashDispenser();\r\n            cashDispenser.init();\r\n        }\r\n    \r\n        public void run(){\r\n            int count = 0;\r\n            boolean correct;\r\n            int tries = 0;\r\n            System.out.println(&quot;ATM.run()&quot;);\r\n    \r\n            System.out.println(&quot;Please select a four digit pin&quot;);\r\n            Scanner pin = new Scanner(System.in);\r\n            int pins = pin.nextInt();\r\n            int pins2 = pins;\r\n    \r\n            keypad = new Keypad();\r\n            while(pins != pins2 &amp;&amp; tries &lt;= 4)\r\n            {\r\n                pins2 = keypad.init();\r\n                count++;\r\n                tries++;\r\n    \r\n            }\r\n    \r\n            if(pins == pins2)\r\n            {\r\n                correct = false;\r\n            }\r\n            else\r\n            {\r\n                correct = true;\r\n            }\r\n    \r\n    \r\n            String BANK_NAME = &quot;NewCo&quot;;\r\n    \r\n            System.out.println(&quot;ATM Version 0.1.0&quot;);\r\n            System.out.println(&quot;Copyright (C) 2020&quot; + BANK_NAME);\r\n            System.out.println(&quot;Code by Julian Blanco&quot;);\r\n    \r\n            User user = new User(lcd, cardReader,keypad, cashDispenser, count, correct);\r\n            while(true){\r\n                user.io();\r\n            }\r\n        }\r\n    }\r\n\r\nclass:\r\n\r\n    import java.util.Date;\r\n    import java.util.ArrayList;\r\n    \r\n    public class UserInfo&lt;T&gt;\r\n    {\r\n        private ArrayList&lt;T&gt; values;\r\n    \r\n        public UserInfo(){\r\n            this.values = new ArrayList&lt;T&gt;();\r\n        }\r\n    \r\n        public void setValue(Date date,int count, boolean correct)\r\n        {\r\n            this.values.add(date, count, correct);\r\n    \r\n        }\r\n    }\r\n\r\nClass:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    \r\n    \r\n    public class Logger\r\n    {\r\n        ArrayList&lt;UserInfo&gt; obj = new ArrayList&lt;UserInfo&gt;();\r\n    \r\n        public Logger(Date date, int count, boolean correct){\r\n            obj.get(0).setValue(date,count, correct);\r\n        }\r\n    \r\n    }\r\n\r\nError:\r\n\r\n    java: incompatible types: java.util.Date cannot be converted to T\r\n\r\n","title":"Is there a way to implement generics to have an ArrayList take in a boolean?","body":"<p>I have the following code, but the ArrayList is not taking in 'Date' type. The only thing I can think of is to incorporate generics. However, I am running into problems incorporating it into the arraylist. I did some search online and have not been able to find a good source for it.</p>\n<p>Main:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n        while(true)\n        {\n            ATM atm = new ATM();\n            atm.init();\n            atm.run();\n        }\n    }\n}\n</code></pre>\n<p>class:</p>\n<pre><code>import java.util.Scanner;\n\nclass ATM{\n\n    private LCD lcd;\n    private CardReader cardReader;\n    private Keypad keypad;\n    private CashDispenser cashDispenser;\n\n    public void init(){\n\n        System.out.println(&quot;ATM.init()&quot;);\n\n\n        lcd = new LCD();\n        lcd.init();\n\n        cardReader = new CardReader();\n        cardReader.init();\n\n\n\n        cashDispenser = new CashDispenser();\n        cashDispenser.init();\n    }\n\n    public void run(){\n        int count = 0;\n        boolean correct;\n        int tries = 0;\n        System.out.println(&quot;ATM.run()&quot;);\n\n        System.out.println(&quot;Please select a four digit pin&quot;);\n        Scanner pin = new Scanner(System.in);\n        int pins = pin.nextInt();\n        int pins2 = pins;\n\n        keypad = new Keypad();\n        while(pins != pins2 &amp;&amp; tries &lt;= 4)\n        {\n            pins2 = keypad.init();\n            count++;\n            tries++;\n\n        }\n\n        if(pins == pins2)\n        {\n            correct = false;\n        }\n        else\n        {\n            correct = true;\n        }\n\n\n        String BANK_NAME = &quot;NewCo&quot;;\n\n        System.out.println(&quot;ATM Version 0.1.0&quot;);\n        System.out.println(&quot;Copyright (C) 2020&quot; + BANK_NAME);\n        System.out.println(&quot;Code by Julian Blanco&quot;);\n\n        User user = new User(lcd, cardReader,keypad, cashDispenser, count, correct);\n        while(true){\n            user.io();\n        }\n    }\n}\n</code></pre>\n<p>class:</p>\n<pre><code>import java.util.Date;\nimport java.util.ArrayList;\n\npublic class UserInfo&lt;T&gt;\n{\n    private ArrayList&lt;T&gt; values;\n\n    public UserInfo(){\n        this.values = new ArrayList&lt;T&gt;();\n    }\n\n    public void setValue(Date date,int count, boolean correct)\n    {\n        this.values.add(date, count, correct);\n\n    }\n}\n</code></pre>\n<p>Class:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Date;\n\n\npublic class Logger\n{\n    ArrayList&lt;UserInfo&gt; obj = new ArrayList&lt;UserInfo&gt;();\n\n    public Logger(Date date, int count, boolean correct){\n        obj.get(0).setValue(date,count, correct);\n    }\n\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>java: incompatible types: java.util.Date cannot be converted to T\n</code></pre>\n"},{"tags":["java","android","cordova","gradle","daemon"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633582435,"creation_date":1633582435,"answer_id":69475653,"question_id":69475545,"body_markdown":"Increase the memory allowed-  the flag -Xmx2048m.  You&#39;re allowing 2048 MB, it&#39;s trying to allocate 2090-ish mb.  I&#39;d double it to 4096 at least.","title":"Unable to start the daemon process...Could not reserve enough space for 2097152KB object heap","body":"<p>Increase the memory allowed-  the flag -Xmx2048m.  You're allowing 2048 MB, it's trying to allocate 2090-ish mb.  I'd double it to 4096 at least.</p>\n"}],"owner":{"account_id":14081618,"reputation":354,"user_id":10172531,"display_name":"Rushwin Jamdas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633582435,"creation_date":1633581455,"question_id":69475545,"body_markdown":"I keep getting the following error when trying to build my ionic app:\r\n```\r\n* What went wrong:\r\nUnable to start the daemon process.\r\nThis problem might be caused by incorrect configuration of the daemon.\r\nFor example, an unrecognized jvm option is used.\r\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.9.1/userguide/gradle_daemon.html\r\nProcess command line: C:\\Program Files (x86)\\Java\\jdk1.8.0_301\\bin\\java.exe -Xmx2048m -Dfile.encoding=windows-1252 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Gradle\\gradle-6.9.1\\lib\\gradle-launc\r\nher-6.9.1.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.9.1\r\nPlease read the following process output to find out more:\r\n-----------------------\r\nError occurred during initialization of VM\r\nCould not reserve enough space for 2097152KB object heap\r\n\r\n```\r\n\r\nI have tried many of the solutions I&#39;ve seen online, like creating a _JAVA_OPTIONS environment variable and trying to increase the org.gradle.jvmargs value, but I keep getting the same error and don&#39;t know what to do. Any ideas?","title":"Unable to start the daemon process...Could not reserve enough space for 2097152KB object heap","body":"<p>I keep getting the following error when trying to build my ionic app:</p>\n<pre><code>* What went wrong:\nUnable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.9.1/userguide/gradle_daemon.html\nProcess command line: C:\\Program Files (x86)\\Java\\jdk1.8.0_301\\bin\\java.exe -Xmx2048m -Dfile.encoding=windows-1252 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Gradle\\gradle-6.9.1\\lib\\gradle-launc\nher-6.9.1.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.9.1\nPlease read the following process output to find out more:\n-----------------------\nError occurred during initialization of VM\nCould not reserve enough space for 2097152KB object heap\n\n</code></pre>\n<p>I have tried many of the solutions I've seen online, like creating a _JAVA_OPTIONS environment variable and trying to increase the org.gradle.jvmargs value, but I keep getting the same error and don't know what to do. Any ideas?</p>\n"},{"tags":["java","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":9734383,"reputation":607,"user_id":7218156,"accept_rate":50,"display_name":"Bromox"},"score":0,"creation_date":1633547916,"post_id":69471396,"comment_id":122791804,"body_markdown":"Value does not look to be a valid JSON object. I would expect : instead of  =. Can you show your getTitle() method?","body":"Value does not look to be a valid JSON object. I would expect : instead of  =. Can you show your getTitle() method?"},{"owner":{"display_name":"user16469617"},"score":0,"creation_date":1633548292,"post_id":69471396,"comment_id":122791937,"body_markdown":"@Bromox it&#39;s just a class named &quot;movie&quot; with 3 attributes one of them being title, with a method getTitle which returns title. That&#39;s about it not really worth adding it here I guess","body":"@Bromox it&#39;s just a class named &quot;movie&quot; with 3 attributes one of them being title, with a method getTitle which returns title. That&#39;s about it not really worth adding it here I guess"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1633549660,"post_id":69471396,"comment_id":122792457,"body_markdown":"Can you edit your question to show the `Filme` class? My first guess is that there&#39;s some mistake in the mapping of the properties.","body":"Can you edit your question to show the <code>Filme</code> class? My first guess is that there&#39;s some mistake in the mapping of the properties."},{"owner":{"display_name":"user16469617"},"score":0,"creation_date":1633550233,"post_id":69471396,"comment_id":122792647,"body_markdown":"@FrankvanPuffelen I just added it","body":"@FrankvanPuffelen I just added it"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633591116,"post_id":69471396,"comment_id":122801335,"body_markdown":"If you understand Kotlin, I think this [repo](https://github.com/alexmamo/FireApp/tree/master/app/src/main/java/ro/alexmamo/firebase/main/profile/movies) might help.","body":"If you understand Kotlin, I think this <a href=\"https://github.com/alexmamo/FireApp/tree/master/app/src/main/java/ro/alexmamo/firebase/main/profile/movies\" rel=\"nofollow noreferrer\">repo</a> might help."}],"answers":[{"tags":[],"owner":{"account_id":19521978,"reputation":332,"user_id":15455285,"display_name":"Spectator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633550816,"creation_date":1633550816,"answer_id":69472090,"question_id":69471396,"body_markdown":"try to add this simple if\r\n```java\r\ndatabase.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(DataSnapshot dataSnapshot) {\r\n\r\n\r\n\r\n            for (DataSnapshot keyNode : dataSnapshot.getChildren())\r\n            {\r\n\r\n                if(keyNode.getKey().equals(&quot;Titulo&quot;)){\r\n                    Filme nfilme = keyNode.getValue();\r\n                    //do what you want\r\n                }\r\n            }\r\n```\r\nif thats not gonna work then, try to add another snapshot\r\n\r\n\r\n```java\r\ndatabase.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(DataSnapshot dataSnapshot) {\r\n\r\n\r\n\r\n            for (DataSnapshot keyNode : dataSnapshot.getChildren())\r\n            {\r\n                for(DataSnapshot child2 : keyNode.getChildren()){\r\n\r\n                    if(keyNode.getKey().equals(&quot;Titulo&quot;)){\r\n                        Filme nfilme = keyNode.getValue();\r\n                        //do what you want\r\n                    }\r\n                }\r\n            }\r\n```\r\ndon&#39;t forget to use ```toString()``` method","title":"Cannot extract data from firebase snapshot","body":"<p>try to add this simple if</p>\n<pre class=\"lang-java prettyprint-override\"><code>database.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n\n\n\n            for (DataSnapshot keyNode : dataSnapshot.getChildren())\n            {\n\n                if(keyNode.getKey().equals(&quot;Titulo&quot;)){\n                    Filme nfilme = keyNode.getValue();\n                    //do what you want\n                }\n            }\n</code></pre>\n<p>if thats not gonna work then, try to add another snapshot</p>\n<pre class=\"lang-java prettyprint-override\"><code>database.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n\n\n\n            for (DataSnapshot keyNode : dataSnapshot.getChildren())\n            {\n                for(DataSnapshot child2 : keyNode.getChildren()){\n\n                    if(keyNode.getKey().equals(&quot;Titulo&quot;)){\n                        Filme nfilme = keyNode.getValue();\n                        //do what you want\n                    }\n                }\n            }\n</code></pre>\n<p>don't forget to use <code>toString()</code> method</p>\n"},{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633553375,"creation_date":1633553375,"answer_id":69472502,"question_id":69471396,"body_markdown":"Firebase uses JavaBean property naming conventions for its JSON to Java conversions (and vice versa). \r\n\r\nThis means that (for example) ` public String getTituloFilme()` in your code, maps to a property `tituloFilme` in the JSON. That mismatches on two fronts with your actual database:\r\n\r\n1. There is no `Filme` suffix in your database.\r\n2. The property in the database is `Titulo`, while the Java class expects `titulo`.\r\n\r\nThe easiest way to fix this is to specify type annotations in your Java class to explicitly map to specific JSON properties:\r\n```\r\npublic class Filme {\r\n    private String tituloFilme;\r\n    private String genero;\r\n    private String ano;\r\n\r\n    public Filme(){ }\r\n\r\n    public Filme(String tituloFilme, String genero, String ano){\r\n        this.tituloFilme = tituloFilme;\r\n        this.genero = genero;\r\n        this.ano = ano;\r\n    }\r\n    @PropertyName(&quot;Titulo&quot;)\r\n    public String getTituloFilme() {\r\n        return tituloFilme;\r\n    }\r\n\r\n    @PropertyName(&quot;Titulo&quot;)\r\n    public void setTituloFilme(String tituloFilme) {\r\n        this.tituloFilme = tituloFilme;\r\n    }\r\n\r\n    @PropertyName(&quot;Genero&quot;)\r\n    public String getGenero() {\r\n        return genero;\r\n    }\r\n\r\n    @PropertyName(&quot;Genero&quot;)\r\n    public void setGenero(String genero) {\r\n        this.genero = genero;\r\n    }\r\n\r\n    @PropertyName(&quot;Ano&quot;)\r\n    public String getAno() {\r\n        return ano;\r\n    }\r\n\r\n    @PropertyName(&quot;Ano&quot;)\r\n    public void setAno(String ano) {\r\n        this.ano = ano;\r\n    }\r\n}\r\n```","title":"Cannot extract data from firebase snapshot","body":"<p>Firebase uses JavaBean property naming conventions for its JSON to Java conversions (and vice versa).</p>\n<p>This means that (for example) <code> public String getTituloFilme()</code> in your code, maps to a property <code>tituloFilme</code> in the JSON. That mismatches on two fronts with your actual database:</p>\n<ol>\n<li>There is no <code>Filme</code> suffix in your database.</li>\n<li>The property in the database is <code>Titulo</code>, while the Java class expects <code>titulo</code>.</li>\n</ol>\n<p>The easiest way to fix this is to specify type annotations in your Java class to explicitly map to specific JSON properties:</p>\n<pre><code>public class Filme {\n    private String tituloFilme;\n    private String genero;\n    private String ano;\n\n    public Filme(){ }\n\n    public Filme(String tituloFilme, String genero, String ano){\n        this.tituloFilme = tituloFilme;\n        this.genero = genero;\n        this.ano = ano;\n    }\n    @PropertyName(&quot;Titulo&quot;)\n    public String getTituloFilme() {\n        return tituloFilme;\n    }\n\n    @PropertyName(&quot;Titulo&quot;)\n    public void setTituloFilme(String tituloFilme) {\n        this.tituloFilme = tituloFilme;\n    }\n\n    @PropertyName(&quot;Genero&quot;)\n    public String getGenero() {\n        return genero;\n    }\n\n    @PropertyName(&quot;Genero&quot;)\n    public void setGenero(String genero) {\n        this.genero = genero;\n    }\n\n    @PropertyName(&quot;Ano&quot;)\n    public String getAno() {\n        return ano;\n    }\n\n    @PropertyName(&quot;Ano&quot;)\n    public void setAno(String ano) {\n        this.ano = ano;\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user16469617"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69472502,"answer_count":2,"score":0,"last_activity_date":1633581465,"creation_date":1633547283,"question_id":69471396,"body_markdown":"I have a very basic firebase database filled with movies. It&#39;s basically the movie title, its year and genre as shown below\r\n\r\n![db][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3993b.png\r\n\r\n\r\nI also have a class for these 3 attributes of each key. \r\nAll I want to do is take the data from the firebase snapshot and put it inside my object.\r\n\r\nWhat I did was:\r\n\r\n 1. Initialize the database for the child &quot;Filme&quot;:\r\n\r\n        DatabaseReference database = FirebaseDatabase.getInstance().getReference().child(&quot;Filme&quot;);\r\n\r\n 2. Then I added an ValueEvent Listener:\r\n\r\n \r\n\r\n        database.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n    \r\n                    \r\n    \r\n                    for (DataSnapshot keyNode : dataSnapshot.getChildren())\r\n                    {\r\n                        \r\n                        \r\n                        Filme nfilme = keyNode.getValue(Filme.class);\r\n                        String s = nfilme.getTituloFilme(); // get title\r\n                        \r\n                    }\r\n\r\nThe debugger shows the line:\r\n\r\n    DataSnapshot { key = 001, value = {Genero=Drama, Titulo=Titanic, Ano=2000} }\r\n\r\nWhich shows that it was able to extract the data, however when I call the getTitle() method it returns null, why is this happening?\r\n\r\nEDIT: class added\r\n\r\n\r\n    public class Filme {\r\n        private String tituloFilme;\r\n        private String genero;\r\n        private String ano;\r\n    \r\n        public Filme(){\r\n    \r\n        }\r\n    \r\n        public Filme(String tituloFilme, String genero, String ano){\r\n            this.tituloFilme = tituloFilme;\r\n            this.genero = genero;\r\n            this.ano = ano;\r\n        }\r\n        public String getTituloFilme() {\r\n            return tituloFilme;\r\n        }\r\n    \r\n        public void setTituloFilme(String tituloFilme) {\r\n            this.tituloFilme = tituloFilme;\r\n        }\r\n    \r\n        public String getGenero() {\r\n            return genero;\r\n        }\r\n    \r\n        public void setGenero(String genero) {\r\n            this.genero = genero;\r\n        }\r\n    \r\n        public String getAno() {\r\n            return ano;\r\n        }\r\n    \r\n        public void setAno(String ano) {\r\n            this.ano = ano;\r\n        }\r\n    }\r\n\r\nPlus, if I use:\r\n\r\n    database.child(&quot;001&quot;).child(&quot;Titulo&quot;).setValue(&quot;TTITANIC&quot;);\r\n\r\nIt does change the title from Titanic, to TTITANIC, so I don&#39;t think it has something to do with  the JSON file\r\n\r\n\r\n\r\n","title":"Cannot extract data from firebase snapshot","body":"<p>I have a very basic firebase database filled with movies. It's basically the movie title, its year and genre as shown below</p>\n<p><img src=\"https://i.stack.imgur.com/3993b.png\" alt=\"db\" /></p>\n<p>I also have a class for these 3 attributes of each key.\nAll I want to do is take the data from the firebase snapshot and put it inside my object.</p>\n<p>What I did was:</p>\n<ol>\n<li><p>Initialize the database for the child &quot;Filme&quot;:</p>\n<pre><code>DatabaseReference database = FirebaseDatabase.getInstance().getReference().child(&quot;Filme&quot;);\n</code></pre>\n</li>\n<li><p>Then I added an ValueEvent Listener:</p>\n<pre><code>database.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n\n\n\n            for (DataSnapshot keyNode : dataSnapshot.getChildren())\n            {\n\n\n                Filme nfilme = keyNode.getValue(Filme.class);\n                String s = nfilme.getTituloFilme(); // get title\n\n            }\n</code></pre>\n</li>\n</ol>\n<p>The debugger shows the line:</p>\n<pre><code>DataSnapshot { key = 001, value = {Genero=Drama, Titulo=Titanic, Ano=2000} }\n</code></pre>\n<p>Which shows that it was able to extract the data, however when I call the getTitle() method it returns null, why is this happening?</p>\n<p>EDIT: class added</p>\n<pre><code>public class Filme {\n    private String tituloFilme;\n    private String genero;\n    private String ano;\n\n    public Filme(){\n\n    }\n\n    public Filme(String tituloFilme, String genero, String ano){\n        this.tituloFilme = tituloFilme;\n        this.genero = genero;\n        this.ano = ano;\n    }\n    public String getTituloFilme() {\n        return tituloFilme;\n    }\n\n    public void setTituloFilme(String tituloFilme) {\n        this.tituloFilme = tituloFilme;\n    }\n\n    public String getGenero() {\n        return genero;\n    }\n\n    public void setGenero(String genero) {\n        this.genero = genero;\n    }\n\n    public String getAno() {\n        return ano;\n    }\n\n    public void setAno(String ano) {\n        this.ano = ano;\n    }\n}\n</code></pre>\n<p>Plus, if I use:</p>\n<pre><code>database.child(&quot;001&quot;).child(&quot;Titulo&quot;).setValue(&quot;TTITANIC&quot;);\n</code></pre>\n<p>It does change the title from Titanic, to TTITANIC, so I don't think it has something to do with  the JSON file</p>\n"},{"tags":["java","java-8","drools","jit","mvel"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1633635214,"post_id":69475505,"comment_id":122819425,"body_markdown":"Are you _actually_ using mvel, or is it just something you&#39;ve always used so you&#39;ve continued on with the mvel library instead of switching to the executable models? Because it might be worth checking to see if you swap over since it&#39;s the &quot;new and improved&quot; way that likely will get its long-term support.","body":"Are you <i>actually</i> using mvel, or is it just something you&#39;ve always used so you&#39;ve continued on with the mvel library instead of switching to the executable models? Because it might be worth checking to see if you swap over since it&#39;s the &quot;new and improved&quot; way that likely will get its long-term support."},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1633941846,"post_id":69475505,"comment_id":122884886,"body_markdown":"Do you have any crash exceptions or a stack trace?","body":"Do you have any crash exceptions or a stack trace?"}],"owner":{"account_id":5637445,"reputation":1,"user_id":4462511,"display_name":"javalearner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633581171,"creation_date":1633581171,"question_id":69475505,"body_markdown":"We are using drools for one of the requirements and we are encountering jvm crash issue intermittently during the development. Drool version is 7.49, and java version is 1.8\r\n\r\nWe came across two different solutions-\r\n\r\n1) We were running code during development on intellij and this issue was fixed after disabling launch optimization setting of IDE\r\n2) It also got fixed after disabling JIT for mvel (-Ddrools.jittingThreshold=-1)\r\n\r\nI would like to understand if 2nd approach of disabling JIT is advisable and what kind of behavior we can expect if we disable it.","title":"Disabling JIT in Drools due to JVM crash","body":"<p>We are using drools for one of the requirements and we are encountering jvm crash issue intermittently during the development. Drool version is 7.49, and java version is 1.8</p>\n<p>We came across two different solutions-</p>\n<ol>\n<li>We were running code during development on intellij and this issue was fixed after disabling launch optimization setting of IDE</li>\n<li>It also got fixed after disabling JIT for mvel (-Ddrools.jittingThreshold=-1)</li>\n</ol>\n<p>I would like to understand if 2nd approach of disabling JIT is advisable and what kind of behavior we can expect if we disable it.</p>\n"},{"tags":["java","maven","maven-plugin","maven-release-plugin"],"comments":[{"owner":{"account_id":4260261,"reputation":83,"user_id":3484800,"display_name":"Yellrag"},"score":0,"creation_date":1699023913,"post_id":63608165,"comment_id":136482674,"body_markdown":"Hi! Have you since figured out a way to use your custom policy?","body":"Hi! Have you since figured out a way to use your custom policy?"},{"owner":{"account_id":5809031,"reputation":873,"user_id":6259216,"accept_rate":50,"display_name":"johnlinp"},"score":1,"creation_date":1699114258,"post_id":63608165,"comment_id":136491865,"body_markdown":"unfortunately, no.","body":"unfortunately, no."}],"answers":[{"tags":[],"owner":{"account_id":96269,"reputation":2290,"user_id":261734,"display_name":"Olivier Lamy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633580979,"creation_date":1633580979,"answer_id":69475484,"question_id":63608165,"body_markdown":"You can use `SemVerVersionPolicy` as well ","title":"How do I use &quot;projectVersionPolicyId&quot; in Maven Release Plugin?","body":"<p>You can use <code>SemVerVersionPolicy</code> as well</p>\n"}],"owner":{"account_id":5809031,"reputation":873,"user_id":6259216,"accept_rate":50,"display_name":"johnlinp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":915,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":1,"score":6,"last_activity_date":1633580979,"creation_date":1598494481,"question_id":63608165,"body_markdown":"There is a parameter `projectVersionPolicyId` in many mojos of Maven Release Plugin, e.g. http://maven.apache.org/maven-release/maven-release-plugin/prepare-mojo.html#projectVersionPolicyId. However, it seems that they provided no examples of how I can use it.\r\n\r\nWhen I try:\r\n\r\n```none\r\n$ mvn --batch-mode release:prepare -DprojectVersionPolicyId=foo\r\n```\r\n\r\nIt shows an error:\r\n\r\n```none\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:3.0.0-M1:prepare (default-cli) on project maven-release-test: Policy &#39;foo&#39; is unknown, available: [default] -&gt; [Help 1]\r\n```\r\n\r\nIt looks like that there only 1 available policy (which is `default`). Is there any way to add more possible policies?","title":"How do I use &quot;projectVersionPolicyId&quot; in Maven Release Plugin?","body":"<p>There is a parameter <code>projectVersionPolicyId</code> in many mojos of Maven Release Plugin, e.g. <a href=\"http://maven.apache.org/maven-release/maven-release-plugin/prepare-mojo.html#projectVersionPolicyId\" rel=\"noreferrer\">http://maven.apache.org/maven-release/maven-release-plugin/prepare-mojo.html#projectVersionPolicyId</a>. However, it seems that they provided no examples of how I can use it.</p>\n<p>When I try:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ mvn --batch-mode release:prepare -DprojectVersionPolicyId=foo\n</code></pre>\n<p>It shows an error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:3.0.0-M1:prepare (default-cli) on project maven-release-test: Policy 'foo' is unknown, available: [default] -&gt; [Help 1]\n</code></pre>\n<p>It looks like that there only 1 available policy (which is <code>default</code>). Is there any way to add more possible policies?</p>\n"},{"tags":["java","quarkus","azure-iot-edge"],"comments":[{"owner":{"account_id":5242831,"reputation":454,"user_id":4189419,"display_name":"Jay Ghiya"},"score":1,"creation_date":1633580597,"post_id":69469435,"comment_id":122798718,"body_markdown":"Please add relevant dependencies from pom causing this.","body":"Please add relevant dependencies from pom causing this."},{"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"score":0,"creation_date":1633590786,"post_id":69469435,"comment_id":122801199,"body_markdown":"Native compilation has some hidden magic and not all libraries are compatible specially if they use reflection. I think that the main issue that you are facing is with graal vm, have you checked if you library has some issues with graalvm?","body":"Native compilation has some hidden magic and not all libraries are compatible specially if they use reflection. I think that the main issue that you are facing is with graal vm, have you checked if you library has some issues with graalvm?"},{"owner":{"account_id":5242831,"reputation":454,"user_id":4189419,"display_name":"Jay Ghiya"},"score":0,"creation_date":1633635208,"post_id":69469435,"comment_id":122819420,"body_markdown":"Yes so if the application uses reflection then it has to be registered beforehand otherwise it won&#39;t be able to find it during runtime. But which is the class here is what we should look at. And to answer your questions these all libs that microsft azure provides does not have native graalvm support and we shud probably raise a pr with them.","body":"Yes so if the application uses reflection then it has to be registered beforehand otherwise it won&#39;t be able to find it during runtime. But which is the class here is what we should look at. And to answer your questions these all libs that microsft azure provides does not have native graalvm support and we shud probably raise a pr with them."}],"owner":{"account_id":14414391,"reputation":1,"user_id":10412227,"display_name":"Prashant Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633580964,"creation_date":1633537900,"question_id":69469435,"body_markdown":"I am trying to create an Azure module client using a native binary ?\r\n\r\n(I tried Quarkus and couldn&#39;t get it working with native binary, but it worked with JVM.)\r\n\r\nI got stuck with the following stacktrace:\r\n```\r\n2021-10-06T23:05:27.304627ZCaused by: java.lang.RuntimeException: Could not load platform constants for ProtocolFamily\r\n2021-10-06T23:05:27.304636Z at jnr.constants.platform.ConstantResolver.getConstants(ConstantResolver.java:227)\r\n2021-10-06T23:05:27.304644Z at jnr.constants.platform.ConstantResolver.lookupAndCacheConstant(ConstantResolver.java:128)\r\n2021-10-06T23:05:27.304651Z at jnr.constants.platform.ConstantResolver.getConstant(ConstantResolver.java:116)\r\n2021-10-06T23:05:27.304676Z at jnr.constants.platform.ConstantResolver.longValue(ConstantResolver.java:179)\r\n2021-10-06T23:05:27.304684Z at jnr.constants.platform.ProtocolFamily.intValue(ProtocolFamily.java:48)\r\n2021-10-06T23:05:27.304691Z at jnr.unixsocket.SockAddrUnix.setFamily(SockAddrUnix.java:55)\r\n2021-10-06T23:05:27.304699Z at jnr.unixsocket.UnixSocketAddress.&lt;init&gt;(UnixSocketAddress.java:48)\r\n2021-10-06T23:05:27.304733Z at com.microsoft.azure.sdk.iot.device.hsm.HttpsHsmClient.sendHttpRequestUsingUnixSocket.connect(HttpsHsmClient.java:238)\r\n\r\n\r\npom dependencies\r\n\r\npom dependencies\r\n\r\n&lt;quarkus.platform.version&gt;2.2.2.Final&lt;/quarkus.platform.version&gt;\r\n\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;com.microsoft.azure.sdk.iot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;iot-device-client&lt;/artifactId&gt;\r\n      &lt;version&gt;1.21.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```","title":"Quarkus native binary (Graavlvm) incompatible","body":"<p>I am trying to create an Azure module client using a native binary ?</p>\n<p>(I tried Quarkus and couldn't get it working with native binary, but it worked with JVM.)</p>\n<p>I got stuck with the following stacktrace:</p>\n<pre><code>2021-10-06T23:05:27.304627ZCaused by: java.lang.RuntimeException: Could not load platform constants for ProtocolFamily\n2021-10-06T23:05:27.304636Z at jnr.constants.platform.ConstantResolver.getConstants(ConstantResolver.java:227)\n2021-10-06T23:05:27.304644Z at jnr.constants.platform.ConstantResolver.lookupAndCacheConstant(ConstantResolver.java:128)\n2021-10-06T23:05:27.304651Z at jnr.constants.platform.ConstantResolver.getConstant(ConstantResolver.java:116)\n2021-10-06T23:05:27.304676Z at jnr.constants.platform.ConstantResolver.longValue(ConstantResolver.java:179)\n2021-10-06T23:05:27.304684Z at jnr.constants.platform.ProtocolFamily.intValue(ProtocolFamily.java:48)\n2021-10-06T23:05:27.304691Z at jnr.unixsocket.SockAddrUnix.setFamily(SockAddrUnix.java:55)\n2021-10-06T23:05:27.304699Z at jnr.unixsocket.UnixSocketAddress.&lt;init&gt;(UnixSocketAddress.java:48)\n2021-10-06T23:05:27.304733Z at com.microsoft.azure.sdk.iot.device.hsm.HttpsHsmClient.sendHttpRequestUsingUnixSocket.connect(HttpsHsmClient.java:238)\n\n\npom dependencies\n\npom dependencies\n\n&lt;quarkus.platform.version&gt;2.2.2.Final&lt;/quarkus.platform.version&gt;\n\n&lt;dependency&gt;\n      &lt;groupId&gt;com.microsoft.azure.sdk.iot&lt;/groupId&gt;\n      &lt;artifactId&gt;iot-device-client&lt;/artifactId&gt;\n      &lt;version&gt;1.21.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n"},{"tags":["java","json","spring-boot","tree","json-deserialization"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1469972240,"post_id":38684067,"comment_id":64748261,"body_markdown":"Can you please show the stacktrace?","body":"Can you please show the stacktrace?"},{"owner":{"account_id":6598574,"reputation":5686,"user_id":5097551,"accept_rate":62,"display_name":"Kery Hu"},"score":0,"creation_date":1469972494,"post_id":38684067,"comment_id":64748330,"body_markdown":"@cricket_007 this is the error details : https://github.com/shell-software/tree/issues/2 ,thanks .","body":"@cricket_007 this is the error details : <a href=\"https://github.com/shell-software/tree/issues/2\" rel=\"nofollow noreferrer\">github.com/shell-software/tree/issues/2</a> ,thanks ."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1469973026,"post_id":38684067,"comment_id":64748474,"body_markdown":"Okay 1) Your questions here should be self-contained, preferably a [mcve] 2) what is line 40 of the department parser class?","body":"Okay 1) Your questions here should be self-contained, preferably a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> 2) what is line 40 of the department parser class?"},{"owner":{"account_id":6598574,"reputation":5686,"user_id":5097551,"accept_rate":62,"display_name":"Kery Hu"},"score":0,"creation_date":1469974251,"post_id":38684067,"comment_id":64748807,"body_markdown":"@cricket_007  thanks . I have resoled it just now  .","body":"@cricket_007  thanks . I have resoled it just now  ."},{"owner":{"account_id":1733050,"reputation":2906,"user_id":1586231,"accept_rate":96,"display_name":"Max von Hippel"},"score":1,"creation_date":1588546074,"post_id":38684067,"comment_id":108933006,"body_markdown":"@KeryHu I am 4 years late to the party here, but if you resolve the issue yourself, you should post your resolution as an answer to your own question.","body":"@KeryHu I am 4 years late to the party here, but if you resolve the issue yourself, you should post your resolution as an answer to your own question."},{"owner":{"account_id":4990268,"reputation":372,"user_id":4012708,"display_name":"Heath Mitchell"},"score":0,"creation_date":1608568173,"post_id":38684067,"comment_id":115617273,"body_markdown":"Exactly, I&#39;m trying to solve this too and you didn&#39;t post the answer...","body":"Exactly, I&#39;m trying to solve this too and you didn&#39;t post the answer..."}],"answers":[{"tags":[],"owner":{"account_id":899108,"reputation":1915,"user_id":935715,"display_name":"Steve Mitchell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633579349,"creation_date":1633579349,"answer_id":69475294,"question_id":38684067,"body_markdown":"The error indicates that `jp.getCodec()` returns `null`.  Something like this worked for me.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleModule module = new SimpleModule();\r\n    module.addDeserializer(TreeNode.class, new DepartmentDeserializer());\r\n    mapper.registerModule(module);\r\n    \r\n    JsonFactory jsonFactory = new JsonFactory(mapper);\r\n    JsonParser jsonParser = jsonFactory.createParser(json);\r\n    \r\n    TreeNode&lt;Department&gt; n=mapper.readValue(jsonParser, TreeNode.class);\r\n    System.out.println(n);\r\n\r\n","title":"Why JsonParser is returning null?","body":"<p>The error indicates that <code>jp.getCodec()</code> returns <code>null</code>.  Something like this worked for me.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule module = new SimpleModule();\nmodule.addDeserializer(TreeNode.class, new DepartmentDeserializer());\nmapper.registerModule(module);\n\nJsonFactory jsonFactory = new JsonFactory(mapper);\nJsonParser jsonParser = jsonFactory.createParser(json);\n\nTreeNode&lt;Department&gt; n=mapper.readValue(jsonParser, TreeNode.class);\nSystem.out.println(n);\n</code></pre>\n"}],"owner":{"account_id":6598574,"reputation":5686,"user_id":5097551,"accept_rate":62,"display_name":"Kery Hu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1214,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1633579349,"creation_date":1469968910,"question_id":38684067,"body_markdown":"I have a custom `JSON Deserializer`, but it is giving some errors (the `TreeNode&lt;Department&gt;` is a Java tree structure class).\r\n  \r\n\r\n    public TreeNode&lt;Department&gt; deserialize(JsonParser jp, DeserializationContext ctxt)\r\n          throws IOException, JsonProcessingException {\r\n       \r\n        return parseDepartment(jp);\r\n      }\r\n    \r\n    \r\n     private TreeNode&lt;Department&gt; parseDepartment(JsonParser jp) throws JsonProcessingException, IOException{\r\n        JsonNode node=jp.getCodec().readTree(jp);\r\n        if(node.has(&quot;name&quot;)){\r\n          String name=node.get(&quot;name&quot;).asText();\r\n          \r\n          TreeNode&lt;Department&gt; n1 = new LinkedMultiTreeNode&lt;Department&gt;(new Department(name));\r\n          \r\n          if(node.has(&quot;department&quot;)&amp;&amp;node.get(&quot;department&quot;).isArray()){\r\n            ArrayNode departments=(ArrayNode)node.get(&quot;department&quot;);\r\n            \r\n              Collection&lt;TreeNode&lt;Department&gt;&gt; backNodes=parseDepartments(jp,departments);\r\n              if(backNodes!=null){\r\n                backNodes.forEach(e-&gt;{\r\n                  n1.add(e);\r\n                });\r\n              }\r\n             \r\n          }\r\n          \r\n          return n1;\r\n          \r\n        }\r\n        else{\r\n          return null;\r\n        }\r\n        \r\n      }\r\n\r\n\r\nand another private method:\r\n\r\n    private Collection&lt;TreeNode&lt;Department&gt;&gt; parseDepartments(JsonParser jp,ArrayNode arrayNode) throws JsonProcessingException, IOException{\r\n        Collection&lt;TreeNode&lt;Department&gt;&gt; a=new HashSet&lt;&gt;();\r\n        JsonNode node=jp.getCodec().readTree(jp);\r\n    \r\n        // why here &quot;node&quot; is null?\r\n    \r\n        if(arrayNode==null) return null;\r\n        arrayNode.forEach(e-&gt;{\r\n          try {\r\n            log.info(e.toString());\r\n            TreeNode&lt;Department&gt; m=parseDepartment(jp);\r\n            if(m!=null){\r\n              a.add (m);\r\n              log.info(a.toString());\r\n            }\r\n    \r\n          } catch (Exception e1) {\r\n            // TODO Auto-generated catch block\r\n            e1.printStackTrace();\r\n          }\r\n        }\r\n    \r\n        );\r\n        return a;\r\n      }\r\n\r\nand when I run `test`:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleModule module = new SimpleModule();\r\n    module.addDeserializer(TreeNode.class, new DepartmentDeserializer());\r\n    mapper.registerModule(module);\r\n\r\n    TreeNode&lt;Department&gt; n=mapper.readValue(json, TreeNode.class);\r\n    System.out.println(n);\r\n\r\nthe error is : \r\n\r\n&gt; java.lang.NullPointerException  --jp.getCodec().readTree(jp)\r\n\r\n","title":"Why JsonParser is returning null?","body":"<p>I have a custom <code>JSON Deserializer</code>, but it is giving some errors (the <code>TreeNode&lt;Department&gt;</code> is a Java tree structure class).</p>\n\n<pre><code>public TreeNode&lt;Department&gt; deserialize(JsonParser jp, DeserializationContext ctxt)\n      throws IOException, JsonProcessingException {\n\n    return parseDepartment(jp);\n  }\n\n\n private TreeNode&lt;Department&gt; parseDepartment(JsonParser jp) throws JsonProcessingException, IOException{\n    JsonNode node=jp.getCodec().readTree(jp);\n    if(node.has(\"name\")){\n      String name=node.get(\"name\").asText();\n\n      TreeNode&lt;Department&gt; n1 = new LinkedMultiTreeNode&lt;Department&gt;(new Department(name));\n\n      if(node.has(\"department\")&amp;&amp;node.get(\"department\").isArray()){\n        ArrayNode departments=(ArrayNode)node.get(\"department\");\n\n          Collection&lt;TreeNode&lt;Department&gt;&gt; backNodes=parseDepartments(jp,departments);\n          if(backNodes!=null){\n            backNodes.forEach(e-&gt;{\n              n1.add(e);\n            });\n          }\n\n      }\n\n      return n1;\n\n    }\n    else{\n      return null;\n    }\n\n  }\n</code></pre>\n\n<p>and another private method:</p>\n\n<pre><code>private Collection&lt;TreeNode&lt;Department&gt;&gt; parseDepartments(JsonParser jp,ArrayNode arrayNode) throws JsonProcessingException, IOException{\n    Collection&lt;TreeNode&lt;Department&gt;&gt; a=new HashSet&lt;&gt;();\n    JsonNode node=jp.getCodec().readTree(jp);\n\n    // why here \"node\" is null?\n\n    if(arrayNode==null) return null;\n    arrayNode.forEach(e-&gt;{\n      try {\n        log.info(e.toString());\n        TreeNode&lt;Department&gt; m=parseDepartment(jp);\n        if(m!=null){\n          a.add (m);\n          log.info(a.toString());\n        }\n\n      } catch (Exception e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n      }\n    }\n\n    );\n    return a;\n  }\n</code></pre>\n\n<p>and when I run <code>test</code>:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule module = new SimpleModule();\nmodule.addDeserializer(TreeNode.class, new DepartmentDeserializer());\nmapper.registerModule(module);\n\nTreeNode&lt;Department&gt; n=mapper.readValue(json, TreeNode.class);\nSystem.out.println(n);\n</code></pre>\n\n<p>the error is : </p>\n\n<blockquote>\n  <p>java.lang.NullPointerException  --jp.getCodec().readTree(jp)</p>\n</blockquote>\n"},{"tags":["java","maven","testng"],"comments":[{"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"score":0,"creation_date":1545297614,"post_id":53864731,"comment_id":94578618,"body_markdown":"Quite similar to https://stackoverflow.com/questions/16465695/how-to-run-testng-tests-from-main-in-an-executable-jar","body":"Quite similar to <a href=\"https://stackoverflow.com/questions/16465695/how-to-run-testng-tests-from-main-in-an-executable-jar\" title=\"how to run testng tests from main in an executable jar\">stackoverflow.com/questions/16465695/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7516930,"reputation":1573,"user_id":5710036,"accept_rate":38,"display_name":"Chintamani Manjare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545296441,"creation_date":1545296441,"answer_id":53865352,"question_id":53864731,"body_markdown":"You can&#39;t execute java files from below main folder using testNG xml file.\r\n &gt; src/main/java\r\n\r\nYou should include all your test files in \r\n\r\n&gt; src/test/java\r\n\r\nThen you can give the class name in testNG.xml file which is present in test folder. Then you would not get above error.","title":"org.testng.TestNGException Cannot find class in classpath","body":"<p>You can't execute java files from below main folder using testNG xml file.</p>\n\n<blockquote>\n  <p>src/main/java</p>\n</blockquote>\n\n<p>You should include all your test files in </p>\n\n<blockquote>\n  <p>src/test/java</p>\n</blockquote>\n\n<p>Then you can give the class name in testNG.xml file which is present in test folder. Then you would not get above error.</p>\n"},{"tags":[],"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545306040,"creation_date":1545306040,"answer_id":53867973,"question_id":53864731,"body_markdown":"\r\n1) Steps to trace issues:\r\n\r\nCreate demo Test with following syntax and check execution:\r\n\r\n    class demo{    \r\n      @Test\r\n      public void testDemo(){\r\n      System.out.println(&quot;Hello World&quot;);\r\n      }     \r\n    }\r\n\r\nIf this has been work successfully, You have problem in your Test build structure. ","title":"org.testng.TestNGException Cannot find class in classpath","body":"<p>1) Steps to trace issues:</p>\n\n<p>Create demo Test with following syntax and check execution:</p>\n\n<pre><code>class demo{    \n  @Test\n  public void testDemo(){\n  System.out.println(\"Hello World\");\n  }     \n}\n</code></pre>\n\n<p>If this has been work successfully, You have problem in your Test build structure. </p>\n"}],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633579182,"creation_date":1545293754,"question_id":53864731,"body_markdown":"I have a maven project where the following classes are present:\r\n\r\n`src/main/java/App.java`\r\n\r\n`src/test/java/AppTest.java`\r\n\r\nThe `testng.xml` is under the project root. I want to trigger tests from the `App.java` main method using the `testng.xml`:\r\n\r\n    public static void main(String[] args) {\r\n            TestNG testng = new TestNG();\r\n            List&lt;String&gt; suites = Lists.newArrayList();\r\n            suites.add(&quot;testng.xml&quot;);\r\n            testng.setTestSuites(suites);\r\n            testng.run();\r\n        }\r\n\r\nMaven project is built still I am getting errors:\r\n```\r\nException in thread &quot;main&quot; org.testng.TestNGException: Cannot find class in classpath.\r\n```","title":"org.testng.TestNGException Cannot find class in classpath","body":"<p>I have a maven project where the following classes are present:</p>\n<p><code>src/main/java/App.java</code></p>\n<p><code>src/test/java/AppTest.java</code></p>\n<p>The <code>testng.xml</code> is under the project root. I want to trigger tests from the <code>App.java</code> main method using the <code>testng.xml</code>:</p>\n<pre><code>public static void main(String[] args) {\n        TestNG testng = new TestNG();\n        List&lt;String&gt; suites = Lists.newArrayList();\n        suites.add(&quot;testng.xml&quot;);\n        testng.setTestSuites(suites);\n        testng.run();\n    }\n</code></pre>\n<p>Maven project is built still I am getting errors:</p>\n<pre><code>Exception in thread &quot;main&quot; org.testng.TestNGException: Cannot find class in classpath.\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1633574812,"post_id":69474224,"comment_id":122797795,"body_markdown":"Please give a console log of amount and noteBucket.GetDemon() in foreach. Your code need to refactor because it do too many thing in one function ...","body":"Please give a console log of amount and noteBucket.GetDemon() in foreach. Your code need to refactor because it do too many thing in one function ..."}],"answers":[{"tags":[],"owner":{"account_id":8236259,"reputation":97,"user_id":6195349,"accept_rate":60,"display_name":"Dean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633578499,"creation_date":1633578499,"answer_id":69475220,"question_id":69474224,"body_markdown":"Fixed it using the basic implementation, should be this \r\n\r\n    import java.util.ArrayList;\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          ArrayList&lt;INoteBucket&gt; NoteBuckets = new ArrayList&lt;INoteBucket&gt;();\r\n          //Add Notes\r\n          NoteBuckets.add(new NoteBucket(50,2));\r\n          NoteBuckets.add(new NoteBucket(20,15));\r\n          NoteBuckets.add(new NoteBucket(10,20));\r\n          NoteBuckets.add(new NoteBucket(5,10));\r\n          int remainder = 0;\r\n          int RequestAmount = 200;\r\n    \r\n          while(RequestAmount &gt; 0)\r\n          {\r\n            for(INoteBucket noteBucket : NoteBuckets)\r\n            {\r\n                int counter = 0;\r\n                while(remainder &gt;= 0 &amp;&amp; noteBucket.CheckTakeNote()){\r\n                    remainder = RequestAmount - noteBucket.GetDemon();\r\n                    noteBucket.TakeNotes(1);\r\n                    counter += 1;\r\n                    RequestAmount = remainder;\r\n                    if(RequestAmount == 0)\r\n                        break;\r\n                }\r\n                System.out.println(&quot;Note: &quot; + noteBucket.GetDemon() + &quot; Count: &quot; + counter);\r\n                if(RequestAmount == 0)\r\n                        break;\r\n            }\r\n          }\r\n        }\r\n    }\r\n              \r\n     \r\n      \r\n    interface INoteBucket\r\n    {\r\n        public int GetDemon();\r\n        public int GetNotes();\r\n        public boolean TakeNotes(int qtyofnotes);\r\n        public boolean CheckTakeNote();\r\n    }\r\n    class NoteBucket implements INoteBucket\r\n    {\r\n        private int Denominator;\r\n        private int AmountOfNotes;\r\n       \r\n        public NoteBucket(int denom, int notes){\r\n            this.Denominator = denom;\r\n            this.AmountOfNotes = notes;\r\n        }\r\n        \r\n        public boolean CheckTakeNote(){\r\n            if(this.AmountOfNotes &gt; 0)\r\n                return true;\r\n                \r\n            return false;\r\n            \r\n        }\r\n        \r\n        public int GetDemon(){\r\n            return this.Denominator;\r\n        }\r\n        \r\n        public int GetNotes(){\r\n            return this.AmountOfNotes;\r\n        }\r\n        \r\n        public boolean TakeNotes(int qtyofnotes){\r\n            if (this.AmountOfNotes &gt;= qtyofnotes)\r\n            {\r\n                this.AmountOfNotes -= qtyofnotes;\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n        \r\n    }\r\n\r\n","title":"ATM machine - dispense limited amount of notes, not dispensing correctly","body":"<p>Fixed it using the basic implementation, should be this</p>\n<pre><code>import java.util.ArrayList;\nimport java.lang.*;\nimport java.io.*;\npublic class MyClass {\n    public static void main(String args[]) {\n      ArrayList&lt;INoteBucket&gt; NoteBuckets = new ArrayList&lt;INoteBucket&gt;();\n      //Add Notes\n      NoteBuckets.add(new NoteBucket(50,2));\n      NoteBuckets.add(new NoteBucket(20,15));\n      NoteBuckets.add(new NoteBucket(10,20));\n      NoteBuckets.add(new NoteBucket(5,10));\n      int remainder = 0;\n      int RequestAmount = 200;\n\n      while(RequestAmount &gt; 0)\n      {\n        for(INoteBucket noteBucket : NoteBuckets)\n        {\n            int counter = 0;\n            while(remainder &gt;= 0 &amp;&amp; noteBucket.CheckTakeNote()){\n                remainder = RequestAmount - noteBucket.GetDemon();\n                noteBucket.TakeNotes(1);\n                counter += 1;\n                RequestAmount = remainder;\n                if(RequestAmount == 0)\n                    break;\n            }\n            System.out.println(&quot;Note: &quot; + noteBucket.GetDemon() + &quot; Count: &quot; + counter);\n            if(RequestAmount == 0)\n                    break;\n        }\n      }\n    }\n}\n          \n \n  \ninterface INoteBucket\n{\n    public int GetDemon();\n    public int GetNotes();\n    public boolean TakeNotes(int qtyofnotes);\n    public boolean CheckTakeNote();\n}\nclass NoteBucket implements INoteBucket\n{\n    private int Denominator;\n    private int AmountOfNotes;\n   \n    public NoteBucket(int denom, int notes){\n        this.Denominator = denom;\n        this.AmountOfNotes = notes;\n    }\n    \n    public boolean CheckTakeNote(){\n        if(this.AmountOfNotes &gt; 0)\n            return true;\n            \n        return false;\n        \n    }\n    \n    public int GetDemon(){\n        return this.Denominator;\n    }\n    \n    public int GetNotes(){\n        return this.AmountOfNotes;\n    }\n    \n    public boolean TakeNotes(int qtyofnotes){\n        if (this.AmountOfNotes &gt;= qtyofnotes)\n        {\n            this.AmountOfNotes -= qtyofnotes;\n            return true;\n        }\n        return false;\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":8236259,"reputation":97,"user_id":6195349,"accept_rate":60,"display_name":"Dean"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633578499,"creation_date":1633568328,"question_id":69474224,"body_markdown":"I&#39;m working on a spring application, ATM machine essentially, basic functionality, trying to withdraw notes from the ATM which should dispense the minimum number of notes per withdrawal. The ATM has a limited amount of notes per denomination also, I&#39;m using a mysql backend for the accounts and teller stuff such as notes total amount of cash etc, created an INoteBucket Interface\r\n\r\n    interface INoteBucket\r\n    {\r\n        public int GetDemon();\r\n        public boolean TakeNotes(int qtyofnotes);\r\n        public boolean CheckTakeNote();\r\n    }\r\n    class NoteBucket implements INoteBucket\r\n    {\r\n        private int Denominator;\r\n        private int AmountOfNotes;\r\n\r\n   \r\n    public NoteBucket(int denom, int notes){\r\n        this.Denominator = denom;\r\n        this.AmountOfNotes = notes;\r\n    }\r\n    \r\n    public boolean CheckTakeNote(){\r\n        if(this.AmountOfNotes &gt; 0)\r\n            return true;\r\n            \r\n        return false;\r\n        \r\n    }\r\n    \r\n    public int GetDemon(){\r\n        return this.Denominator;\r\n    }\r\n    \r\n    public boolean TakeNotes(int qtyofnotes){\r\n        if (this.AmountOfNotes &gt;= qtyofnotes)\r\n        {\r\n            this.AmountOfNotes -= qtyofnotes;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    }\r\n\r\nI also have a &quot;dispense&quot; function (maybe a poor name) that&#39;s meant to implement the interface (which it does), but when I &quot;withdraw&quot; money, the function seems to let me withdraw over the amount of notes I actually have, i.e, if I have 2 50s, 10 20s, 10 10s and 5 5s stored in the ATM machine and try to withdraw 200 the result is 4 50s were withdrawn from the ATM with the backend value in the database being stored -2 50s, don&#39;t know why? looks correct?\r\n\r\n    public String dispense(@RequestBody Teller teller, @PathVariable Double amount) {\r\n    \tString notes = &quot;&quot;;\r\n    \tArrayList&lt;INoteBucket&gt; NoteBuckets = new ArrayList&lt;INoteBucket&gt;();\r\n        NoteBuckets.add(new NoteBucket(50,teller.getFifty()));\r\n        NoteBuckets.add(new NoteBucket(20,teller.getTwenty()));\r\n        NoteBuckets.add(new NoteBucket(10,teller.getTen()));\r\n        NoteBuckets.add(new NoteBucket(5,teller.getFive()));\r\n    \r\n        while(amount &gt; 0)\r\n        {\r\n          for(INoteBucket noteBucket : NoteBuckets)\r\n          {\r\n              if(amount &gt;= noteBucket.GetDemon() &amp;&amp; noteBucket.CheckTakeNote())\r\n              {\r\n                 //We know that the remaining request amount is greater than the current denominator &amp;&amp; we&#39;re allowed to take a note\r\n                  double remainder = amount % noteBucket.GetDemon();\r\n                  if(remainder &lt; amount)\r\n                  {\r\n                \t  notes += &quot;Amount of: &quot; + Integer.toString(noteBucket.GetDemon()) + &quot; : &quot; + Double.toString((amount - remainder) / noteBucket.GetDemon()) + &quot;\\n&quot;;\r\n                \t  \r\n                \t  if(noteBucket.GetDemon() == 50) {\r\n                \t\t  int updatefifty = (int) (teller.getFifty() - ((amount - remainder) / noteBucket.GetDemon()));\r\n                \t\t  teller.setFifty(updatefifty);\r\n                \t\t  tellerService.updateTeller(teller);\r\n                \t  }\r\n                \t  \r\n                \t  if(noteBucket.GetDemon() == 20) {\r\n                \t\t  int updatetwenty = (int) (teller.getTwenty() - ((amount - remainder) / noteBucket.GetDemon()));\r\n                \t\t  teller.setTwenty(updatetwenty);\r\n                \t\t  tellerService.updateTeller(teller);\r\n                \t  }\r\n                \t  \r\n                \t  if(noteBucket.GetDemon() == 10) {\r\n                \t\t  int updateten = (int) (teller.getTen() - ((amount - remainder) / noteBucket.GetDemon()));\r\n                \t\t  teller.setTen(updateten);\r\n                \t\t  tellerService.updateTeller(teller);\r\n                \t  }\r\n                \t  \r\n                \t  if(noteBucket.GetDemon() == 5) {\r\n                \t\t  int updatefive = (int) (teller.getFive() - ((amount - remainder) / noteBucket.GetDemon()));\r\n                \t\t  teller.setFive(updatefive);\r\n                \t\t  tellerService.updateTeller(teller);\r\n                \t  }\r\n                \t  \r\n                      amount = remainder;\r\n                  }\r\n                  \r\n              }\r\n              \r\n          }\r\n            \r\n        }\r\n        return notes;\r\n    }\r\n\r\nHere is a simplified basic java application with the same implementation which has the same issue\r\n\r\n    import java.util.ArrayList;\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          ArrayList&lt;INoteBucket&gt; NoteBuckets = new ArrayList&lt;INoteBucket&gt;();\r\n          //Add Notes\r\n          NoteBuckets.add(new NoteBucket(50,2));\r\n          NoteBuckets.add(new NoteBucket(20,15));\r\n          NoteBuckets.add(new NoteBucket(10,20));\r\n          NoteBuckets.add(new NoteBucket(5,10));\r\n          \r\n          int RequestAmount = 200;\r\n          \r\n          while(RequestAmount &gt;= 0)\r\n          {\r\n            for(INoteBucket noteBucket : NoteBuckets)\r\n            {\r\n                if(RequestAmount &gt;= noteBucket.GetDemon() &amp;&amp; noteBucket.CheckTakeNote())\r\n                {\r\n                   //We know that the remaining request amount is greater than the current demoninator &amp;&amp; we&#39;re allowed to take a note\r\n                    int remainder = RequestAmount % noteBucket.GetDemon();\r\n                    if(remainder &lt; RequestAmount)\r\n                    {\r\n                        System.out.println(&quot;Amount of: &quot; + Integer.toString(noteBucket.GetDemon()) + &quot; : &quot; + Integer.toString((RequestAmount - remainder) / noteBucket.GetDemon()));\r\n                        RequestAmount = remainder;\r\n                    }\r\n                    \r\n                }\r\n                \r\n            }\r\n              \r\n          }\r\n         \r\n        }\r\n    }\r\n    \r\n    interface INoteBucket\r\n    {\r\n        public int GetDemon();\r\n        public boolean TakeNotes(int qtyofnotes);\r\n        public boolean CheckTakeNote();\r\n    }\r\n    class NoteBucket implements INoteBucket\r\n    {\r\n        private int Denominator;\r\n        private int AmountOfNotes;\r\n       \r\n        public NoteBucket(int denom, int notes){\r\n            this.Denominator = denom;\r\n            this.AmountOfNotes = notes;\r\n        }\r\n        \r\n        public boolean CheckTakeNote(){\r\n            if(this.AmountOfNotes &gt; 0)\r\n                return true;\r\n                \r\n            return false;\r\n            \r\n        }\r\n        \r\n        public int GetDemon(){\r\n            return this.Denominator;\r\n        }\r\n        \r\n        public boolean TakeNotes(int qtyofnotes){\r\n            if (this.AmountOfNotes &gt;= qtyofnotes)\r\n            {\r\n                this.AmountOfNotes -= qtyofnotes;\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n        \r\n    }\r\n\r\n","title":"ATM machine - dispense limited amount of notes, not dispensing correctly","body":"<p>I'm working on a spring application, ATM machine essentially, basic functionality, trying to withdraw notes from the ATM which should dispense the minimum number of notes per withdrawal. The ATM has a limited amount of notes per denomination also, I'm using a mysql backend for the accounts and teller stuff such as notes total amount of cash etc, created an INoteBucket Interface</p>\n<pre><code>interface INoteBucket\n{\n    public int GetDemon();\n    public boolean TakeNotes(int qtyofnotes);\n    public boolean CheckTakeNote();\n}\nclass NoteBucket implements INoteBucket\n{\n    private int Denominator;\n    private int AmountOfNotes;\n\n\npublic NoteBucket(int denom, int notes){\n    this.Denominator = denom;\n    this.AmountOfNotes = notes;\n}\n\npublic boolean CheckTakeNote(){\n    if(this.AmountOfNotes &gt; 0)\n        return true;\n        \n    return false;\n    \n}\n\npublic int GetDemon(){\n    return this.Denominator;\n}\n\npublic boolean TakeNotes(int qtyofnotes){\n    if (this.AmountOfNotes &gt;= qtyofnotes)\n    {\n        this.AmountOfNotes -= qtyofnotes;\n        return true;\n    }\n    return false;\n}\n}\n</code></pre>\n<p>I also have a &quot;dispense&quot; function (maybe a poor name) that's meant to implement the interface (which it does), but when I &quot;withdraw&quot; money, the function seems to let me withdraw over the amount of notes I actually have, i.e, if I have 2 50s, 10 20s, 10 10s and 5 5s stored in the ATM machine and try to withdraw 200 the result is 4 50s were withdrawn from the ATM with the backend value in the database being stored -2 50s, don't know why? looks correct?</p>\n<pre><code>public String dispense(@RequestBody Teller teller, @PathVariable Double amount) {\n    String notes = &quot;&quot;;\n    ArrayList&lt;INoteBucket&gt; NoteBuckets = new ArrayList&lt;INoteBucket&gt;();\n    NoteBuckets.add(new NoteBucket(50,teller.getFifty()));\n    NoteBuckets.add(new NoteBucket(20,teller.getTwenty()));\n    NoteBuckets.add(new NoteBucket(10,teller.getTen()));\n    NoteBuckets.add(new NoteBucket(5,teller.getFive()));\n\n    while(amount &gt; 0)\n    {\n      for(INoteBucket noteBucket : NoteBuckets)\n      {\n          if(amount &gt;= noteBucket.GetDemon() &amp;&amp; noteBucket.CheckTakeNote())\n          {\n             //We know that the remaining request amount is greater than the current denominator &amp;&amp; we're allowed to take a note\n              double remainder = amount % noteBucket.GetDemon();\n              if(remainder &lt; amount)\n              {\n                  notes += &quot;Amount of: &quot; + Integer.toString(noteBucket.GetDemon()) + &quot; : &quot; + Double.toString((amount - remainder) / noteBucket.GetDemon()) + &quot;\\n&quot;;\n                  \n                  if(noteBucket.GetDemon() == 50) {\n                      int updatefifty = (int) (teller.getFifty() - ((amount - remainder) / noteBucket.GetDemon()));\n                      teller.setFifty(updatefifty);\n                      tellerService.updateTeller(teller);\n                  }\n                  \n                  if(noteBucket.GetDemon() == 20) {\n                      int updatetwenty = (int) (teller.getTwenty() - ((amount - remainder) / noteBucket.GetDemon()));\n                      teller.setTwenty(updatetwenty);\n                      tellerService.updateTeller(teller);\n                  }\n                  \n                  if(noteBucket.GetDemon() == 10) {\n                      int updateten = (int) (teller.getTen() - ((amount - remainder) / noteBucket.GetDemon()));\n                      teller.setTen(updateten);\n                      tellerService.updateTeller(teller);\n                  }\n                  \n                  if(noteBucket.GetDemon() == 5) {\n                      int updatefive = (int) (teller.getFive() - ((amount - remainder) / noteBucket.GetDemon()));\n                      teller.setFive(updatefive);\n                      tellerService.updateTeller(teller);\n                  }\n                  \n                  amount = remainder;\n              }\n              \n          }\n          \n      }\n        \n    }\n    return notes;\n}\n</code></pre>\n<p>Here is a simplified basic java application with the same implementation which has the same issue</p>\n<pre><code>import java.util.ArrayList;\nimport java.lang.*;\nimport java.io.*;\npublic class MyClass {\n    public static void main(String args[]) {\n      ArrayList&lt;INoteBucket&gt; NoteBuckets = new ArrayList&lt;INoteBucket&gt;();\n      //Add Notes\n      NoteBuckets.add(new NoteBucket(50,2));\n      NoteBuckets.add(new NoteBucket(20,15));\n      NoteBuckets.add(new NoteBucket(10,20));\n      NoteBuckets.add(new NoteBucket(5,10));\n      \n      int RequestAmount = 200;\n      \n      while(RequestAmount &gt;= 0)\n      {\n        for(INoteBucket noteBucket : NoteBuckets)\n        {\n            if(RequestAmount &gt;= noteBucket.GetDemon() &amp;&amp; noteBucket.CheckTakeNote())\n            {\n               //We know that the remaining request amount is greater than the current demoninator &amp;&amp; we're allowed to take a note\n                int remainder = RequestAmount % noteBucket.GetDemon();\n                if(remainder &lt; RequestAmount)\n                {\n                    System.out.println(&quot;Amount of: &quot; + Integer.toString(noteBucket.GetDemon()) + &quot; : &quot; + Integer.toString((RequestAmount - remainder) / noteBucket.GetDemon()));\n                    RequestAmount = remainder;\n                }\n                \n            }\n            \n        }\n          \n      }\n     \n    }\n}\n\ninterface INoteBucket\n{\n    public int GetDemon();\n    public boolean TakeNotes(int qtyofnotes);\n    public boolean CheckTakeNote();\n}\nclass NoteBucket implements INoteBucket\n{\n    private int Denominator;\n    private int AmountOfNotes;\n   \n    public NoteBucket(int denom, int notes){\n        this.Denominator = denom;\n        this.AmountOfNotes = notes;\n    }\n    \n    public boolean CheckTakeNote(){\n        if(this.AmountOfNotes &gt; 0)\n            return true;\n            \n        return false;\n        \n    }\n    \n    public int GetDemon(){\n        return this.Denominator;\n    }\n    \n    public boolean TakeNotes(int qtyofnotes){\n        if (this.AmountOfNotes &gt;= qtyofnotes)\n        {\n            this.AmountOfNotes -= qtyofnotes;\n            return true;\n        }\n        return false;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","priority-queue"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1633939917,"post_id":69474251,"comment_id":122884166,"body_markdown":"StackOverflow is not a service for writing code. Please share the code you have tried and what&#39;s not working","body":"StackOverflow is not a service for writing code. Please share the code you have tried and what&#39;s not working"}],"answers":[{"tags":[],"owner":{"account_id":12595970,"reputation":9,"user_id":17094579,"display_name":"xPeter"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633577935,"creation_date":1633577935,"answer_id":69475146,"question_id":69474251,"body_markdown":"You need to override method `compareTo` in object class you add to priority queue:\r\nThis is Employee class with two fields is id and salary. \r\nI&#39;m use id as key and salary as value. Then i will sort it by value (salary)\r\n\r\n    @Override\r\n    public int compareTo(Employee employee) {\r\n        if(this.getSalary() &gt; employee.getSalary()) {\r\n            return 1;\r\n        } else if (this.getSalary() &lt; employee.getSalary()) {\r\n            return -1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }","title":"How to sort based on values of a key-value pair using a Priority-Queue","body":"<p>You need to override method <code>compareTo</code> in object class you add to priority queue:\nThis is Employee class with two fields is id and salary.\nI'm use id as key and salary as value. Then i will sort it by value (salary)</p>\n<pre><code>@Override\npublic int compareTo(Employee employee) {\n    if(this.getSalary() &gt; employee.getSalary()) {\n        return 1;\n    } else if (this.getSalary() &lt; employee.getSalary()) {\n        return -1;\n    } else {\n        return 0;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16544231,"reputation":1,"user_id":11954197,"display_name":"Ankit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633577935,"creation_date":1633568656,"question_id":69474251,"body_markdown":"I have a map of values based on key-value pairs.\r\ne.g\r\n[{1,2},{2,5},{3,4},{4,1}]\r\n\r\nHow can I sort them on the basis of the values using a priority queue?\r\n\r\nRequired output:\r\n[{4,1}-&gt;{1,2}-&gt;{3,4}-&gt;{2,5}]","title":"How to sort based on values of a key-value pair using a Priority-Queue","body":"<p>I have a map of values based on key-value pairs.\ne.g\n[{1,2},{2,5},{3,4},{4,1}]</p>\n<p>How can I sort them on the basis of the values using a priority queue?</p>\n<p>Required output:\n[{4,1}-&gt;{1,2}-&gt;{3,4}-&gt;{2,5}]</p>\n"},{"tags":["java","java-11"],"answers":[{"tags":[],"owner":{"account_id":5028064,"reputation":330,"user_id":4039231,"display_name":"Vallabh Vaidya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633577269,"creation_date":1633573220,"answer_id":69474710,"question_id":69474102,"body_markdown":"Is it because ABCException is missing from throws? Will you please try below method signature and run the sonarqube?\r\n````\r\npublic Element createDomElement(String xmlRequest) throws ParserConfigurationException, ABCException, SAXException, IOException {}\r\n````\r\nEdit 1 &lt;br&gt;\r\n Approaches to solve this issue\r\n\r\n 1. Throw only ABCException from createDomElement() method. Handle rest exceptions in createDomElement() itself. Not sure if its recommended one.\r\n````\r\npublic Element createDomElement(String xmlRequest) throws ABCException {\r\n        DocumentBuilder documentBuilder;\r\n        Document document = null;\r\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newDefaultInstance();\r\n        try {\r\n\t\t\tdbf.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n\t\t} catch (ParserConfigurationException e) {\r\n\t\t\tthrow new ABCException(null, &quot;Parser Error&quot;, &quot;Error processing request&quot;, null,\r\n\t\t\t\t\t&quot;Parser Error : &quot; + e.getMessage());\r\n\t\t}\r\n//todo remaining part of method\r\n}\r\n````\r\n 2. Refactor code and divide createDomElement() method to follow Single Responsibility. This approach looks better than first one. Check this answer https://softwareengineering.stackexchange.com/a/264068","title":"Sonarqube critical issue &quot;Define and throw a dedicated exception instead of using a generic one&quot;","body":"<p>Is it because ABCException is missing from throws? Will you please try below method signature and run the sonarqube?</p>\n<pre><code>public Element createDomElement(String xmlRequest) throws ParserConfigurationException, ABCException, SAXException, IOException {}\n</code></pre>\n<p>Edit 1 <br>\nApproaches to solve this issue</p>\n<ol>\n<li>Throw only ABCException from createDomElement() method. Handle rest exceptions in createDomElement() itself. Not sure if its recommended one.</li>\n</ol>\n<pre><code>public Element createDomElement(String xmlRequest) throws ABCException {\n        DocumentBuilder documentBuilder;\n        Document document = null;\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newDefaultInstance();\n        try {\n            dbf.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\n        } catch (ParserConfigurationException e) {\n            throw new ABCException(null, &quot;Parser Error&quot;, &quot;Error processing request&quot;, null,\n                    &quot;Parser Error : &quot; + e.getMessage());\n        }\n//todo remaining part of method\n}\n</code></pre>\n<ol start=\"2\">\n<li>Refactor code and divide createDomElement() method to follow Single Responsibility. This approach looks better than first one. Check this answer <a href=\"https://softwareengineering.stackexchange.com/a/264068\">https://softwareengineering.stackexchange.com/a/264068</a></li>\n</ol>\n"}],"owner":{"account_id":4872472,"reputation":65,"user_id":3928500,"display_name":"Pallavi Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633577269,"creation_date":1633566861,"question_id":69474102,"body_markdown":"Hi I have a below method getting one critical sonar issue(Define and throw a dedicated exception instead of using a generic one)\r\n\r\nwhen I remove &quot;Exception&quot; and mention dedicated exception(IOException, SAXException, ParserConfigurationException). At that time sonar raising a major issue &quot;use generic one&quot;. \r\n\r\n    public Element createDomElement(String xmlRequest) throws Exception {\r\n    \t\tDocumentBuilder documentBuilder;\r\n    \t\tDocument document = null;\r\n    \t\tDocumentBuilderFactory dbf = DocumentBuilderFactory.newDefaultInstance();\r\n    \t\tdbf.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n    \t\tdbf.setNamespaceAware(true);\r\n    \t\tdocumentBuilder = dbf.newDocumentBuilder();\r\n    \r\n    \t\tif (documentBuilder == null) {\r\n    \t\t\tthrow new ABCException(null, &quot;unexpected_error&quot;, &quot;Error processing request&quot;, null,\r\n    \t\t\t\t\tINTERNAL_SERVER_ERROR);\r\n    \t\t}\r\n    \r\n    \t\tsynchronized (this) {\r\n    \t\t\tdocument = documentBuilder.parse(new ByteArrayInputStream(xmlRequest.getBytes(UTF_8)));\r\n    \t\t}\r\n    \t\tdocument.getDocumentElement().normalize();\r\n    \t\treturn document.getDocumentElement();\r\n    \t}\r\n\t\r\n\r\nNot sure how I can resolve could you please someone help me with this.","title":"Sonarqube critical issue &quot;Define and throw a dedicated exception instead of using a generic one&quot;","body":"<p>Hi I have a below method getting one critical sonar issue(Define and throw a dedicated exception instead of using a generic one)</p>\n<p>when I remove &quot;Exception&quot; and mention dedicated exception(IOException, SAXException, ParserConfigurationException). At that time sonar raising a major issue &quot;use generic one&quot;.</p>\n<pre><code>public Element createDomElement(String xmlRequest) throws Exception {\n        DocumentBuilder documentBuilder;\n        Document document = null;\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newDefaultInstance();\n        dbf.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\n        dbf.setNamespaceAware(true);\n        documentBuilder = dbf.newDocumentBuilder();\n\n        if (documentBuilder == null) {\n            throw new ABCException(null, &quot;unexpected_error&quot;, &quot;Error processing request&quot;, null,\n                    INTERNAL_SERVER_ERROR);\n        }\n\n        synchronized (this) {\n            document = documentBuilder.parse(new ByteArrayInputStream(xmlRequest.getBytes(UTF_8)));\n        }\n        document.getDocumentElement().normalize();\n        return document.getDocumentElement();\n    }\n</code></pre>\n<p>Not sure how I can resolve could you please someone help me with this.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","rdd"],"comments":[{"owner":{"account_id":6734594,"reputation":36672,"user_id":5189811,"display_name":"Oluwafemi Sule"},"score":1,"creation_date":1633446884,"post_id":69451963,"comment_id":122759334,"body_markdown":"What package is PersisterBuilder from?","body":"What package is PersisterBuilder from?"},{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":0,"creation_date":1633462383,"post_id":69451963,"comment_id":122765151,"body_markdown":"PersisterBuilder seems to be your own code, right? maybe you can show the code here...","body":"PersisterBuilder seems to be your own code, right? maybe you can show the code here..."},{"owner":{"account_id":10224720,"reputation":312,"user_id":9552269,"display_name":"Anupam"},"score":0,"creation_date":1633487483,"post_id":69451963,"comment_id":122770363,"body_markdown":"@OluwafemiSule I have updated question :Do you suggest to increase the partition by adding date filed to it ?\nWill it help distribute load ?","body":"@OluwafemiSule I have updated question :Do you suggest to increase the partition by adding date filed to it ? Will it help distribute load ?"},{"owner":{"account_id":10224720,"reputation":312,"user_id":9552269,"display_name":"Anupam"},"score":0,"creation_date":1633487494,"post_id":69451963,"comment_id":122770368,"body_markdown":"@jgp  I have updated question :Do you suggest to increase the partition by adding date filed to it ?\nWill it help distribute load ?","body":"@jgp  I have updated question :Do you suggest to increase the partition by adding date filed to it ? Will it help distribute load ?"},{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":0,"creation_date":1633515173,"post_id":69451963,"comment_id":122778024,"body_markdown":"You seem to be using a rather old version of Spark like 1.6 maybe? It should not affect us that much, but we never know. Can you output the number of partition before you write? Maybe they are not balanced (as in equal in size)?","body":"You seem to be using a rather old version of Spark like 1.6 maybe? It should not affect us that much, but we never know. Can you output the number of partition before you write? Maybe they are not balanced (as in equal in size)?"},{"owner":{"account_id":10224720,"reputation":312,"user_id":9552269,"display_name":"Anupam"},"score":0,"creation_date":1633517878,"post_id":69451963,"comment_id":122779159,"body_markdown":"@jgp That&#39;s true but when i have used date in partition i see job is progressing but getting `Your socket connection to the server was not read from or written to within the timeout period. Idle connections will be closed` error and job failed","body":"@jgp That&#39;s true but when i have used date in partition i see job is progressing but getting <code>Your socket connection to the server was not read from or written to within the timeout period. Idle connections will be closed</code> error and job failed"}],"owner":{"account_id":10224720,"reputation":312,"user_id":9552269,"display_name":"Anupam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633576826,"creation_date":1633442770,"question_id":69451963,"body_markdown":"this is how currently we are persisting RDD to S3 \r\n\r\n      private void saveResult(Config jobConfiguration, SparkContext sparkContext, JavaRDD&lt;Row&gt; rowJavaRDD) {\r\n        final Persister persister = new PersisterBuilder()\r\n          .withRdd(rowJavaRDD)\r\n          .withSparkContext(sparkContext)\r\n          .withAwsCredentialsFile(jobConfiguration.awsCredentialsFile)\r\n          .withCacheEnabled(jobConfiguration.cacheDataBeforeSave)\r\n          .withJsonOutput(jobConfiguration.saveAsJson)\r\n          .withSaveMode(jobConfiguration.saveMode)\r\n          .buildForOutputPath(jobConfiguration.outputPath);\r\n        persister.save(jobConfiguration.outputPath);\r\n        persister.clean();\r\n      }\r\nI have 1000 tasks and 984 tasks finishes very quickly within 20 minutes but last 16 takes forever to complete or  never completes.\r\n\r\nto be very specific this is how we write to S3 \r\n\r\n\r\n       dataFrameWriter.option(&quot;header&quot;, &quot;true&quot;)\r\n          .partitionBy(&quot;year&quot;, &quot;month&quot;,&quot;submitDate&quot;);\r\n\r\nSo it creates folder with Year and then Month and for every date .\r\nI am running job between 1st Sept to 18 Sept and that&#39;s why last 16 Tasks takes very long time.\r\nInside 1St Sept folder i see many files created that&#39;s good but i can not other folders created for 2nd Sept or others .\r\nIs there any way i can improve this ?\r\n\r\nShuffle Read: 1258.5 GB / 61804285 \r\n\r\n\r\nHow can we improve the task so that writing into S3 will be faster?\r\n\r\nUpdate :\r\nThis is how we save partition \r\nDo you suggest to increase the partition by adding date filed to it ?\r\nWill it help distribute load ?\r\n\r\n        final StructType schema = DataTypes.createStructType(fields);\r\n    \r\n        DataFrame dataFrame = SQLContext.getOrCreate(sparkContext)\r\n          .createDataFrame(rdd, schema);\r\n    \r\n        if(cacheDataBeforeSave)\r\n          dataFrame = dataFrame.persist();\r\n    \r\n        DataFrameWriter dataFrameWriter = dataFrame\r\n          .write();\r\n    \r\n        if(saveMode == Config.SAVEMODE.OVERWRITE) {\r\n          System.out.printf(&quot;Overwriting data in &#39;%s&#39;%n&quot;, path);\r\n          dataFrameWriter = dataFrameWriter.mode(SaveMode.Overwrite);\r\n        }else {\r\n          System.out.printf(&quot;Appending data to &#39;%s&#39;%n&quot;, path);\r\n          dataFrameWriter = dataFrameWriter.mode(SaveMode.Append);\r\n        }\r\n    \r\n        dataFrameWriter.option(&quot;header&quot;, &quot;true&quot;)\r\n          .partitionBy(&quot;year&quot;, &quot;month&quot;,,&quot;submitDate&quot;);\r\n    \r\n        if(saveAsJson)\r\n          dataFrameWriter.json(path);\r\n        else\r\n          dataFrameWriter.parquet(path);\r\n      }\r\n    \r\n      @Override\r\n      public void clean() {\r\n        persisterHelper.clean();\r\n      }\r\n    }\r\n\r\n","title":"Last partition taking very long time to save into S3 bucket spark RDD","body":"<p>this is how currently we are persisting RDD to S3</p>\n<pre><code>  private void saveResult(Config jobConfiguration, SparkContext sparkContext, JavaRDD&lt;Row&gt; rowJavaRDD) {\n    final Persister persister = new PersisterBuilder()\n      .withRdd(rowJavaRDD)\n      .withSparkContext(sparkContext)\n      .withAwsCredentialsFile(jobConfiguration.awsCredentialsFile)\n      .withCacheEnabled(jobConfiguration.cacheDataBeforeSave)\n      .withJsonOutput(jobConfiguration.saveAsJson)\n      .withSaveMode(jobConfiguration.saveMode)\n      .buildForOutputPath(jobConfiguration.outputPath);\n    persister.save(jobConfiguration.outputPath);\n    persister.clean();\n  }\n</code></pre>\n<p>I have 1000 tasks and 984 tasks finishes very quickly within 20 minutes but last 16 takes forever to complete or  never completes.</p>\n<p>to be very specific this is how we write to S3</p>\n<pre><code>   dataFrameWriter.option(&quot;header&quot;, &quot;true&quot;)\n      .partitionBy(&quot;year&quot;, &quot;month&quot;,&quot;submitDate&quot;);\n</code></pre>\n<p>So it creates folder with Year and then Month and for every date .\nI am running job between 1st Sept to 18 Sept and that's why last 16 Tasks takes very long time.\nInside 1St Sept folder i see many files created that's good but i can not other folders created for 2nd Sept or others .\nIs there any way i can improve this ?</p>\n<p>Shuffle Read: 1258.5 GB / 61804285</p>\n<p>How can we improve the task so that writing into S3 will be faster?</p>\n<p>Update :\nThis is how we save partition\nDo you suggest to increase the partition by adding date filed to it ?\nWill it help distribute load ?</p>\n<pre><code>    final StructType schema = DataTypes.createStructType(fields);\n\n    DataFrame dataFrame = SQLContext.getOrCreate(sparkContext)\n      .createDataFrame(rdd, schema);\n\n    if(cacheDataBeforeSave)\n      dataFrame = dataFrame.persist();\n\n    DataFrameWriter dataFrameWriter = dataFrame\n      .write();\n\n    if(saveMode == Config.SAVEMODE.OVERWRITE) {\n      System.out.printf(&quot;Overwriting data in '%s'%n&quot;, path);\n      dataFrameWriter = dataFrameWriter.mode(SaveMode.Overwrite);\n    }else {\n      System.out.printf(&quot;Appending data to '%s'%n&quot;, path);\n      dataFrameWriter = dataFrameWriter.mode(SaveMode.Append);\n    }\n\n    dataFrameWriter.option(&quot;header&quot;, &quot;true&quot;)\n      .partitionBy(&quot;year&quot;, &quot;month&quot;,,&quot;submitDate&quot;);\n\n    if(saveAsJson)\n      dataFrameWriter.json(path);\n    else\n      dataFrameWriter.parquet(path);\n  }\n\n  @Override\n  public void clean() {\n    persisterHelper.clean();\n  }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":1,"creation_date":1633576004,"post_id":69474945,"comment_id":122797979,"body_markdown":"Is this all you need `System.out.println(&quot;&quot;)`? Just an extra blank line?","body":"Is this all you need <code>System.out.println(&quot;&quot;)</code>? Just an extra blank line?"}],"answers":[{"tags":[],"owner":{"account_id":12595970,"reputation":9,"user_id":17094579,"display_name":"xPeter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633576371,"creation_date":1633576371,"answer_id":69474995,"question_id":69474945,"body_markdown":"Use this: `System.out.println()` will add extra blank line to console.","title":"System.out.println(&quot;help&quot; + help);","body":"<p>Use this: <code>System.out.println()</code> will add extra blank line to console.</p>\n"}],"owner":{"account_id":22820504,"reputation":1,"user_id":16970438,"display_name":"JavaDotExE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633576371,"creation_date":1633575785,"question_id":69474945,"body_markdown":"Can I print all strings in a different paragraph? \r\nFor example:\r\n\r\n    System.out.print(&quot;name&quot;);\r\n    name= SC.nextLine();\r\n    System.out.print(&quot;age&quot;);\r\n    age= SC.nextLine();\r\n    System.out.println(&quot;Name: &quot; + name);\r\n    System.out.println(&quot;Age: &quot; + age);\r\n\r\nAnd then, when I run them, this will show up:\r\n\r\n```\r\nName: (Type Name)\r\nAge: (Type Age)\r\n\r\nName: JavaDotExE\r\nAge: 20\r\n```\r\n\r\nIs it possible?\r\n","title":"System.out.println(&quot;help&quot; + help);","body":"<p>Can I print all strings in a different paragraph?\nFor example:</p>\n<pre><code>System.out.print(&quot;name&quot;);\nname= SC.nextLine();\nSystem.out.print(&quot;age&quot;);\nage= SC.nextLine();\nSystem.out.println(&quot;Name: &quot; + name);\nSystem.out.println(&quot;Age: &quot; + age);\n</code></pre>\n<p>And then, when I run them, this will show up:</p>\n<pre><code>Name: (Type Name)\nAge: (Type Age)\n\nName: JavaDotExE\nAge: 20\n</code></pre>\n<p>Is it possible?</p>\n"},{"tags":["java","mysql","hibernate","jpa","eclipselink"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1608866148,"post_id":65444874,"comment_id":115704087,"body_markdown":"The `SaleDetails` is used as its own `@IdClass`. The `@IdClass` should be a separate class. I cannot find the relevant paprt of the spec, but I would imagine that JPA needs some means to access the fields in the `IdClass`. Not sure if `private` fields are accessible in this case.","body":"The <code>SaleDetails</code> is used as its own <code>@IdClass</code>. The <code>@IdClass</code> should be a separate class. I cannot find the relevant paprt of the spec, but I would imagine that JPA needs some means to access the fields in the <code>IdClass</code>. Not sure if <code>private</code> fields are accessible in this case."}],"answers":[{"tags":[],"owner":{"account_id":13722686,"reputation":71,"user_id":9902221,"display_name":"quietor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1608866546,"creation_date":1608866168,"answer_id":65444972,"question_id":65444874,"body_markdown":"Idclass value should not be the same class of Entity &#39;SaleDetails&#39;\r\n```\r\n    @Entity\r\n    @IdClass(PK.class)\r\n    public static class SystemUser{\r\n        @Id\r\n        private String subsystem;\r\n\r\n        @Id\r\n        private String username;\r\n\r\n        public PK getId(){\r\n            return new PK(subsystem, username);\r\n        }\r\n\r\n        public void setId(PK id){\r\n            this.subsystem = id.subsystem;\r\n            this.username = id.username;\r\n        }\r\n    }\r\n\r\n    public static class PK implements Serializable {\r\n\r\n        private String subsystem;\r\n\r\n        private String username;\r\n\r\n        public PK(String subsystem, String username) {\r\n            this.subsystem = subsystem;\r\n            this.username = username;\r\n        }\r\n    }\r\n```","title":"JPA eclipse two foreign keys @IdClass implementation errors","body":"<p>Idclass value should not be the same class of Entity 'SaleDetails'</p>\n<pre><code>    @Entity\n    @IdClass(PK.class)\n    public static class SystemUser{\n        @Id\n        private String subsystem;\n\n        @Id\n        private String username;\n\n        public PK getId(){\n            return new PK(subsystem, username);\n        }\n\n        public void setId(PK id){\n            this.subsystem = id.subsystem;\n            this.username = id.username;\n        }\n    }\n\n    public static class PK implements Serializable {\n\n        private String subsystem;\n\n        private String username;\n\n        public PK(String subsystem, String username) {\n            this.subsystem = subsystem;\n            this.username = username;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1707584,"reputation":3186,"user_id":1566345,"display_name":"Brian Vosburgh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633575470,"creation_date":1608946758,"answer_id":65453062,"question_id":65444874,"body_markdown":"You can used &quot;derived identities&quot;; and this is the way to map the relationships using an `@EmbeddedId`:\r\n``` java\r\n@Embeddable\r\npublic class SaleDetailId {\r\n    @Column(name = &quot;product_id&quot;)\r\n    String productId;  // corresponds to PK type of Product\r\n\r\n    @Column(name = &quot;sale_id&quot;)\r\n    int saleId; // corresponds to PK type of Sale \r\n}\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;sale_details&quot;)\r\npublic class SaleDetail {\r\n    @EmbeddedId\r\n    SaleDetailId id;\r\n\r\n    // id attribute mapped by join column default \r\n    @MapsId(&quot;saleId&quot;) // maps saleId attribute of embedded id \r\n    @ManyToOne\r\n    private Sale sale;\r\n\r\n    // id attribute mapped by join column default \r\n    @MapsId(&quot;productId&quot;) // maps productId attribute of embedded id \r\n    @ManyToOne\r\n    private Product product;\r\n\r\n    @Column(name = &quot;quantity_sold&quot;)\r\n    private int quantitySold;\r\n    \r\n    public SaleDetails(Sale sale, Product product, int quantity_sold){\r\n        this.sale = sale;\r\n        this.product = product;\r\n        this.quantity_sold = quantity_sold;\r\n    }\r\n    // ...\r\n}\r\n```\r\n\r\nTo map the relationships using an `@IdClass`:\r\n``` java\r\npublic class SaleDetailId {\r\n    int sale; // matches name of @Id attribute and type of Sale PK \r\n    String product;  // matches name of @Id attribute and type of Product PK\r\n}\r\n\r\n\r\n@Entity\r\n@IdClass(SaleDetailId.class)\r\n@Table(name = &quot;sale_details&quot;)\r\npublic class SaleDetail {\r\n\r\n    // id attribute mapped by join column default \r\n    @Id\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;sale_id&quot;)\r\n    private Sale sale;\r\n\r\n    // id attribute mapped by join column default \r\n    @Id\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;product_id&quot;)\r\n    private Product product;\r\n\r\n    @Column(name = &quot;quantity_sold&quot;)\r\n    private int quantitySold;\r\n    \r\n    public SaleDetails(Sale sale, Product product, int quantity_sold){\r\n        this.sale = sale;\r\n        this.product = product;\r\n        this.quantity_sold = quantity_sold;\r\n    }\r\n    // ...\r\n}\r\n```\r\n\r\nDerived identities are discussed (with examples) in the [JPA 2.2 spec][1] in section 2.4.1.\r\n\r\n  [1]: https://github.com/javaee/jpa-spec/blob/master/jsr338-MR/JavaPersistence.pdf\r\n","title":"JPA eclipse two foreign keys @IdClass implementation errors","body":"<p>You can used &quot;derived identities&quot;; and this is the way to map the relationships using an <code>@EmbeddedId</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic class SaleDetailId {\n    @Column(name = &quot;product_id&quot;)\n    String productId;  // corresponds to PK type of Product\n\n    @Column(name = &quot;sale_id&quot;)\n    int saleId; // corresponds to PK type of Sale \n}\n\n\n@Entity\n@Table(name = &quot;sale_details&quot;)\npublic class SaleDetail {\n    @EmbeddedId\n    SaleDetailId id;\n\n    // id attribute mapped by join column default \n    @MapsId(&quot;saleId&quot;) // maps saleId attribute of embedded id \n    @ManyToOne\n    private Sale sale;\n\n    // id attribute mapped by join column default \n    @MapsId(&quot;productId&quot;) // maps productId attribute of embedded id \n    @ManyToOne\n    private Product product;\n\n    @Column(name = &quot;quantity_sold&quot;)\n    private int quantitySold;\n    \n    public SaleDetails(Sale sale, Product product, int quantity_sold){\n        this.sale = sale;\n        this.product = product;\n        this.quantity_sold = quantity_sold;\n    }\n    // ...\n}\n</code></pre>\n<p>To map the relationships using an <code>@IdClass</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SaleDetailId {\n    int sale; // matches name of @Id attribute and type of Sale PK \n    String product;  // matches name of @Id attribute and type of Product PK\n}\n\n\n@Entity\n@IdClass(SaleDetailId.class)\n@Table(name = &quot;sale_details&quot;)\npublic class SaleDetail {\n\n    // id attribute mapped by join column default \n    @Id\n    @ManyToOne\n    @JoinColumn(name = &quot;sale_id&quot;)\n    private Sale sale;\n\n    // id attribute mapped by join column default \n    @Id\n    @ManyToOne\n    @JoinColumn(name = &quot;product_id&quot;)\n    private Product product;\n\n    @Column(name = &quot;quantity_sold&quot;)\n    private int quantitySold;\n    \n    public SaleDetails(Sale sale, Product product, int quantity_sold){\n        this.sale = sale;\n        this.product = product;\n        this.quantity_sold = quantity_sold;\n    }\n    // ...\n}\n</code></pre>\n<p>Derived identities are discussed (with examples) in the <a href=\"https://github.com/javaee/jpa-spec/blob/master/jsr338-MR/JavaPersistence.pdf\" rel=\"nofollow noreferrer\">JPA 2.2 spec</a> in section 2.4.1.</p>\n"}],"owner":{"account_id":12257637,"reputation":587,"user_id":15040818,"display_name":"Oirampok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1050,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65444972,"answer_count":2,"score":1,"last_activity_date":1633575470,"creation_date":1608865061,"question_id":65444874,"body_markdown":"I&#39;m very new to Java EE and JPA/Eclipselink, so please bear with me. I&#39;m trying to create a `@Id` for a table with no primary key and two composite keys, I tried to apply from a solution I read here by using `@IdClass` to mark the two foreign keys as a composite key, but I get this error when compiling and deploying the server. \r\n\r\nException Description: Invalid composite primary key specification. The names of the primary key fields or properties in the primary key class [com.owl.server.objects.SaleDetails] and those of the entity bean class [class com.owl.server.objects.SaleDetails] must correspond and their types must be the same. Also, ensure that you have specified ID elements for the corresponding attributes in XML and/or an @Id on the corresponding fields or properties of the entity class.. Please see server.log for more details.\r\n\r\nMust I change the field types to be the same? Or is there another way? \r\n\r\nProducts table and corresponding Entity\r\n\r\n[![Products table][1]][1]\r\n\r\n``` java\r\n@Entity\r\n@Table(name=&quot;products&quot;)\r\npublic class Product implements Serializable {\r\n    \r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n   @Column(name = &quot;product_id&quot;, nullable = false)\r\n   private String product_id;\r\n   \r\n   // ...\r\n}\r\n```\r\nSales Table and corresponding Entity\r\n\r\n[![Sales table][2]][2]\r\n\r\n``` java\r\n@Entity\r\n@Table(name=&quot;Sales&quot;)\r\npublic class Sale implements Serializable{\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;sale_id&quot;, nullable = false)\r\n    private int sale_id;\r\n\r\n    // ...\r\n}\r\n```\r\nSale_details Table and Entity (Causes Errors)\r\n\r\n[![Sale_details table][3]][3]\r\n\r\n``` java\r\npublic class SaleDetails implements Serializable {\r\n\r\n    private int saleid_fk;\r\n    private String productid_fk;\r\n    private int quantity_sold;\r\n    private String prescription;\r\n    \r\n    public SaleDetails() {\r\n    }\r\n    \r\n    public SaleDetails(int saleid_fk, String productid_fk, int quantity_sold){\r\n        this.saleid_fk = saleid_fk;\r\n        this.productid_fk = productid_fk;\r\n        this.quantity_sold = quantity_sold;\r\n    }\r\n}\r\n```\r\nSale_details entity class\r\n\r\n``` java\r\n@Entity\r\n@IdClass(SaleDetails.class)\r\n@Table(name = &quot;sale_Details&quot;)\r\npublic class Sale_details {\r\n    \r\n   @Id\r\n   private int saleid_fk;\r\n    \r\n   @Id\r\n   private String productid_fk;\r\n}\r\n```\r\nHere is the full stack trace error:\r\n\r\n```\r\n[2020-12-24 11:43:50,553] Artifact server:war exploded: java.io.IOException: com.sun.enterprise.admin.remote.RemoteFailureException: Error occurred during deployment: Exception while preparing the app : Exception [EclipseLink-28018] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.EntityManagerSetupException\r\nException Description: Predeployment of PersistenceUnit [owlJPA] failed.\r\nInternal Exception: Exception [EclipseLink-7150] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.ValidationException\r\nException Description: Invalid composite primary key specification. The names of the primary key fields or properties in the primary key class [com.owl.server.objects.SaleDetails] and those of the entity bean class [class com.owl.server.objects.Sale_details] must correspond and their types must be the same. Also, ensure that you have specified ID elements for the corresponding attributes in XML and/or an @Id on the corresponding fields or properties of the entity class.. Please see server.log for more details.\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bmu96.png\r\n  [2]: https://i.stack.imgur.com/5RPFK.png\r\n  [3]: https://i.stack.imgur.com/LioUp.png\r\n","title":"JPA eclipse two foreign keys @IdClass implementation errors","body":"<p>I'm very new to Java EE and JPA/Eclipselink, so please bear with me. I'm trying to create a <code>@Id</code> for a table with no primary key and two composite keys, I tried to apply from a solution I read here by using <code>@IdClass</code> to mark the two foreign keys as a composite key, but I get this error when compiling and deploying the server.</p>\n<p>Exception Description: Invalid composite primary key specification. The names of the primary key fields or properties in the primary key class [com.owl.server.objects.SaleDetails] and those of the entity bean class [class com.owl.server.objects.SaleDetails] must correspond and their types must be the same. Also, ensure that you have specified ID elements for the corresponding attributes in XML and/or an @Id on the corresponding fields or properties of the entity class.. Please see server.log for more details.</p>\n<p>Must I change the field types to be the same? Or is there another way?</p>\n<p>Products table and corresponding Entity</p>\n<p><a href=\"https://i.stack.imgur.com/bmu96.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bmu96.png\" alt=\"Products table\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;products&quot;)\npublic class Product implements Serializable {\n    \n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   @Column(name = &quot;product_id&quot;, nullable = false)\n   private String product_id;\n   \n   // ...\n}\n</code></pre>\n<p>Sales Table and corresponding Entity</p>\n<p><a href=\"https://i.stack.imgur.com/5RPFK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5RPFK.png\" alt=\"Sales table\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;Sales&quot;)\npublic class Sale implements Serializable{\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;sale_id&quot;, nullable = false)\n    private int sale_id;\n\n    // ...\n}\n</code></pre>\n<p>Sale_details Table and Entity (Causes Errors)</p>\n<p><a href=\"https://i.stack.imgur.com/LioUp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LioUp.png\" alt=\"Sale_details table\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SaleDetails implements Serializable {\n\n    private int saleid_fk;\n    private String productid_fk;\n    private int quantity_sold;\n    private String prescription;\n    \n    public SaleDetails() {\n    }\n    \n    public SaleDetails(int saleid_fk, String productid_fk, int quantity_sold){\n        this.saleid_fk = saleid_fk;\n        this.productid_fk = productid_fk;\n        this.quantity_sold = quantity_sold;\n    }\n}\n</code></pre>\n<p>Sale_details entity class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@IdClass(SaleDetails.class)\n@Table(name = &quot;sale_Details&quot;)\npublic class Sale_details {\n    \n   @Id\n   private int saleid_fk;\n    \n   @Id\n   private String productid_fk;\n}\n</code></pre>\n<p>Here is the full stack trace error:</p>\n<pre><code>[2020-12-24 11:43:50,553] Artifact server:war exploded: java.io.IOException: com.sun.enterprise.admin.remote.RemoteFailureException: Error occurred during deployment: Exception while preparing the app : Exception [EclipseLink-28018] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.EntityManagerSetupException\nException Description: Predeployment of PersistenceUnit [owlJPA] failed.\nInternal Exception: Exception [EclipseLink-7150] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.ValidationException\nException Description: Invalid composite primary key specification. The names of the primary key fields or properties in the primary key class [com.owl.server.objects.SaleDetails] and those of the entity bean class [class com.owl.server.objects.Sale_details] must correspond and their types must be the same. Also, ensure that you have specified ID elements for the corresponding attributes in XML and/or an @Id on the corresponding fields or properties of the entity class.. Please see server.log for more details.\n</code></pre>\n"},{"tags":["java","json","dependencies"],"comments":[{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1633572504,"post_id":69474610,"comment_id":122797446,"body_markdown":"What is `mssgErreurResult()`?","body":"What is <code>mssgErreurResult()</code>?"},{"owner":{"account_id":20661333,"reputation":13,"user_id":15169239,"display_name":"Oussama EL-FIGHA"},"score":0,"creation_date":1633572836,"post_id":69474610,"comment_id":122797499,"body_markdown":"@LHCHIN `mssgErreurResult()` is a method that return an Arraylist that contains all my error messages. Just imagine that `Errors ...` in the JsonFile is the return of that method","body":"@LHCHIN <code>mssgErreurResult()</code> is a method that return an Arraylist that contains all my error messages. Just imagine that <code>Errors ...</code> in the JsonFile is the return of that method"}],"answers":[{"tags":[],"owner":{"account_id":22873466,"reputation":5410,"user_id":17016144,"display_name":"ProDec"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633574321,"creation_date":1633574321,"answer_id":69474812,"question_id":69474610,"body_markdown":"It is added with extra [ ... ] by org.codehaus.jettison.json.JSONArray messagesErreur, try to remove it and use the following instead\r\n\r\n    completOrNot.put(&quot;erreurs&quot;, mssgErreurResult());\r\n\r\n","title":"How can i remove redundant brackets from my output JSONFILE?","body":"<p>It is added with extra [ ... ] by org.codehaus.jettison.json.JSONArray messagesErreur, try to remove it and use the following instead</p>\n<pre><code>completOrNot.put(&quot;erreurs&quot;, mssgErreurResult());\n</code></pre>\n"}],"owner":{"account_id":20661333,"reputation":13,"user_id":15169239,"display_name":"Oussama EL-FIGHA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1633574321,"creation_date":1633572223,"question_id":69474610,"body_markdown":"I am using a maeven dependecie that maintain the order of key values of java, but the prblem is that display a double bracket when i m usin a jsonArray. Can someone tell me where my mistake is.\r\n\r\n`mssgErreurResult()` is a method that return an Arraylist that contains all my error messages. Just imagine that `Errors ...` in the JsonFile is the return of that method\r\n\r\nWhat i get :\r\n```\r\n{\r\n  &quot;complet&quot;: false,\r\n  &quot;erreurs&quot;: [\r\n    [\r\n   &quot;Errors ...&quot;\r\n    ]\r\n  ]\r\n}\r\n```\r\nWhat i want:\r\n```\r\n{\r\n  &quot;complet&quot;: false,\r\n  &quot;erreurs&quot;:[\r\n   &quot;Errors ...&quot;\r\n    ]\r\n}\r\n```\r\nThe method i used:\r\n```\r\npublic void ecrireFichierJSon(String fichierSortie) throws\r\n            FichierJsonInvalideException, org.codehaus.jettison.json.JSONException {\r\n\r\n        org.codehaus.jettison.json.JSONObject completOrNot = new org.codehaus.jettison.json.JSONObject();\r\n        completOrNot.put(&quot;complet&quot;, mssgErreurResult().size() &lt;= 0);\r\n        org.codehaus.jettison.json.JSONArray messagesErreur = new org.codehaus.jettison.json.JSONArray();\r\n        messagesErreur.put(mssgErreurResult());\r\n        completOrNot.put(&quot;erreurs&quot;, messagesErreur);\r\n\r\n        try {\r\n            Files.write(Paths.get(fichierSortie), completOrNot.toString().getBytes());\r\n        } catch (IOException e) {\r\n            throw new FichierJsonInvalideException(e.toString());\r\n        }\r\n    }\r\n```\r\n","title":"How can i remove redundant brackets from my output JSONFILE?","body":"<p>I am using a maeven dependecie that maintain the order of key values of java, but the prblem is that display a double bracket when i m usin a jsonArray. Can someone tell me where my mistake is.</p>\n<p><code>mssgErreurResult()</code> is a method that return an Arraylist that contains all my error messages. Just imagine that <code>Errors ...</code> in the JsonFile is the return of that method</p>\n<p>What i get :</p>\n<pre><code>{\n  &quot;complet&quot;: false,\n  &quot;erreurs&quot;: [\n    [\n   &quot;Errors ...&quot;\n    ]\n  ]\n}\n</code></pre>\n<p>What i want:</p>\n<pre><code>{\n  &quot;complet&quot;: false,\n  &quot;erreurs&quot;:[\n   &quot;Errors ...&quot;\n    ]\n}\n</code></pre>\n<p>The method i used:</p>\n<pre><code>public void ecrireFichierJSon(String fichierSortie) throws\n            FichierJsonInvalideException, org.codehaus.jettison.json.JSONException {\n\n        org.codehaus.jettison.json.JSONObject completOrNot = new org.codehaus.jettison.json.JSONObject();\n        completOrNot.put(&quot;complet&quot;, mssgErreurResult().size() &lt;= 0);\n        org.codehaus.jettison.json.JSONArray messagesErreur = new org.codehaus.jettison.json.JSONArray();\n        messagesErreur.put(mssgErreurResult());\n        completOrNot.put(&quot;erreurs&quot;, messagesErreur);\n\n        try {\n            Files.write(Paths.get(fichierSortie), completOrNot.toString().getBytes());\n        } catch (IOException e) {\n            throw new FichierJsonInvalideException(e.toString());\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","model-view-controller","thymeleaf"],"comments":[{"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"score":0,"creation_date":1633579844,"post_id":69474585,"comment_id":122798591,"body_markdown":"The HTML standard never sends unchecked inputs through the POST. This is why Thymeleaf adds hidden fields with an underscore, so Spring knows what to do with them. Use `List&lt;Boolean&gt; poi;` to receive a list of fields, it works both directions.","body":"The HTML standard never sends unchecked inputs through the POST. This is why Thymeleaf adds hidden fields with an underscore, so Spring knows what to do with them. Use <code>List&lt;Boolean&gt; poi;</code> to receive a list of fields, it works both directions."}],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633574172,"creation_date":1633573811,"answer_id":69474769,"question_id":69474585,"body_markdown":"In case you use multiple parameters in url.\r\n\r\nYou can inject HttpServerletRequest instead of specifying full parameters.\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n        public String save(HttpServletRequest req)\r\n            \r\n        }\r\n\r\nWith getParameterNames or getParameterMap method, it can help you to iterate the list of parameters. getParameter method can help to retrieve the value of specific param name.\r\n\r\nPlease refer to spec:\r\n\r\nhttps://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getParameterNames()\r\n\r\nThe second way, use DTO in your method, spring will auto bind its properties.\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n    public String save(YourObject obj)\r\n                \r\n            }\r\nMake sure the attribute name in YourObject match with parameter name, spring will use getter/setter to apply the value.\r\n\r\nYou can refer at:\r\n\r\nhttps://stackoverflow.com/questions/16942193/spring-mvc-complex-object-as-get-requestparam\r\n","title":"How can I get the values ​of 1-20 checkboxes from the controller?","body":"<p>In case you use multiple parameters in url.</p>\n<p>You can inject HttpServerletRequest instead of specifying full parameters.</p>\n<pre><code>@PostMapping(&quot;/add&quot;)\n    public String save(HttpServletRequest req)\n        \n    }\n</code></pre>\n<p>With getParameterNames or getParameterMap method, it can help you to iterate the list of parameters. getParameter method can help to retrieve the value of specific param name.</p>\n<p>Please refer to spec:</p>\n<p><a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getParameterNames()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getParameterNames()</a></p>\n<p>The second way, use DTO in your method, spring will auto bind its properties.</p>\n<pre><code>@PostMapping(&quot;/add&quot;)\npublic String save(YourObject obj)\n            \n        }\n</code></pre>\n<p>Make sure the attribute name in YourObject match with parameter name, spring will use getter/setter to apply the value.</p>\n<p>You can refer at:</p>\n<p><a href=\"https://stackoverflow.com/questions/16942193/spring-mvc-complex-object-as-get-requestparam\">Spring MVC: Complex object as GET @RequestParam</a></p>\n"}],"owner":{"account_id":22667261,"reputation":111,"user_id":16839433,"display_name":"ringhiosi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633574172,"creation_date":1633571988,"question_id":69474585,"body_markdown":"How can I get the values ​​of 1-20 checkboxes from the controller?\r\n```\r\n        &lt;div&gt;\r\n            &lt;ul&gt;\r\n                &lt;li th:each=&quot;poi : ${poiList}&quot;&gt;\r\n                    &lt;label th:for=&quot;${poi.modelName}&quot; th:text=&quot;${poi.modelName}&quot;&gt;modelName&lt;/label&gt;\r\n\r\n                    &lt;input type=&quot;checkbox&quot; th:id=&quot;${poi.modelName}&quot;\r\n                           th:name=&quot;${poi.modelName}&quot; th:checked=&quot;false&quot;/&gt;\r\n                &lt;/li&gt;\r\n            &lt;/ul&gt;\r\n        &lt;/div&gt;\r\n```\r\nAs above, there are 20 checkboxes in the form tag.\r\n\r\nWhen the send button is pressed, only the checked poi among poi1~poi20 is sent as `poi6=on&amp;poi15=on`.\r\nHow should I get the value from the controller at this time?\r\n\r\n```\r\n@PostMapping(&quot;/add&quot;)\r\n    public String save(\r\n            @RequestParam String poi1,\r\n            @RequestParam String poi2\r\n            ...){\r\n// modelName=%EB%8F%84%EB%A9%B41&amp;poi6=on&amp;poi15=on\r\n        if( poi == null)\r\n        ...\r\n        \r\n    }\r\n```\r\n\r\nI wonder if there is a better way than this way.","title":"How can I get the values ​of 1-20 checkboxes from the controller?","body":"<p>How can I get the values ​​of 1-20 checkboxes from the controller?</p>\n<pre><code>        &lt;div&gt;\n            &lt;ul&gt;\n                &lt;li th:each=&quot;poi : ${poiList}&quot;&gt;\n                    &lt;label th:for=&quot;${poi.modelName}&quot; th:text=&quot;${poi.modelName}&quot;&gt;modelName&lt;/label&gt;\n\n                    &lt;input type=&quot;checkbox&quot; th:id=&quot;${poi.modelName}&quot;\n                           th:name=&quot;${poi.modelName}&quot; th:checked=&quot;false&quot;/&gt;\n                &lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n</code></pre>\n<p>As above, there are 20 checkboxes in the form tag.</p>\n<p>When the send button is pressed, only the checked poi among poi1~poi20 is sent as <code>poi6=on&amp;poi15=on</code>.\nHow should I get the value from the controller at this time?</p>\n<pre><code>@PostMapping(&quot;/add&quot;)\n    public String save(\n            @RequestParam String poi1,\n            @RequestParam String poi2\n            ...){\n// modelName=%EB%8F%84%EB%A9%B41&amp;poi6=on&amp;poi15=on\n        if( poi == null)\n        ...\n        \n    }\n</code></pre>\n<p>I wonder if there is a better way than this way.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8027,"page":1965,"page_size":100}
