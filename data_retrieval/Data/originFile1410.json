{"items":[{"tags":["java","image-processing","sobel"],"comments":[{"owner":{"account_id":9897892,"reputation":57148,"user_id":7328782,"accept_rate":86,"display_name":"Cris Luengo"},"score":0,"creation_date":1649815028,"post_id":71850568,"comment_id":126969282,"body_markdown":"Well, maybe threshold at a higher level?","body":"Well, maybe threshold at a higher level?"},{"owner":{"account_id":3933264,"reputation":103331,"user_id":3250829,"display_name":"rayryeng"},"score":0,"creation_date":1649862844,"post_id":71850568,"comment_id":126984521,"body_markdown":"What are `grayscale` and `threshold` doing exactly? `tmp` is assigned the output of a supposed grayscale operation, but you&#39;re treating the image as if it has RGB channels. Can you show us this code too?","body":"What are <code>grayscale</code> and <code>threshold</code> doing exactly? <code>tmp</code> is assigned the output of a supposed grayscale operation, but you&#39;re treating the image as if it has RGB channels. Can you show us this code too?"},{"owner":{"account_id":24919571,"reputation":1,"user_id":18788011,"display_name":"Lucas Paties"},"score":0,"creation_date":1649973164,"post_id":71850568,"comment_id":127015655,"body_markdown":"@rayryeng sure, but these aint the problem, the results are weird even if I don&#39;t turn it to greyscale.","body":"@rayryeng sure, but these aint the problem, the results are weird even if I don&#39;t turn it to greyscale."},{"owner":{"account_id":9897892,"reputation":57148,"user_id":7328782,"accept_rate":86,"display_name":"Cris Luengo"},"score":0,"creation_date":1649974329,"post_id":71850568,"comment_id":127015884,"body_markdown":"Oh, you read from `tmp` **and** you write to `tmp`? That cannot work. Read from `img`. /// Why do you clone `img` into `original`? You use neither in your code!","body":"Oh, you read from <code>tmp</code> <b>and</b> you write to <code>tmp</code>? That cannot work. Read from <code>img</code>. /// Why do you clone <code>img</code> into <code>original</code>? You use neither in your code!"}],"answers":[{"tags":[],"owner":{"account_id":3933264,"reputation":103331,"user_id":3250829,"display_name":"rayryeng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650636760,"creation_date":1650636760,"answer_id":71970177,"question_id":71850568,"body_markdown":"I don&#39;t see any issues. Your threshold may be too low. The largest value to be expected is `sqrt((5 * 255) ^ 2) = 1275` for a single channel. Assuming that we&#39;re right at an edge (horizontal or vertical) between intensities 0 and 255, the weights of 1, 2 and 1 when all added together will be `(5 * 255)` and so the dynamic range of expected values can be high. 100 is probably too low. You should play around with this threshold and make it higher. ","title":"Sobel edge implementation issue","body":"<p>I don't see any issues. Your threshold may be too low. The largest value to be expected is <code>sqrt((5 * 255) ^ 2) = 1275</code> for a single channel. Assuming that we're right at an edge (horizontal or vertical) between intensities 0 and 255, the weights of 1, 2 and 1 when all added together will be <code>(5 * 255)</code> and so the dynamic range of expected values can be high. 100 is probably too low. You should play around with this threshold and make it higher.</p>\n"}],"owner":{"account_id":24919571,"reputation":1,"user_id":18788011,"display_name":"Lucas Paties"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650636760,"creation_date":1649810365,"question_id":71850568,"body_markdown":"For a class I have to implement the sobel edge detector in java, and do I did. But something isnt right, and after 3 hours trying to figure it out I still havent.\r\n\r\n\r\n```\r\npublic static Color[][] sobelBorder (Color[][] img) {\r\n        Color[][] original = ImageUtils.cloneArray(img);\r\n        Color[][] tmp = grayscale(original);\r\n\r\n\r\n        int[][] kernel1 = {\r\n                {1,0,-1},\r\n                {2,0,-2},\r\n                {1,0,-1}\r\n        };\r\n\r\n        int[][] kernel2 = {\r\n                {1,2,1},\r\n                {0,0,0},\r\n                {-1,-2,-1}\r\n        };\r\n\r\n        for( int i = 1; i &lt; tmp.length -1; i++) {\r\n            for( int j = 1; j &lt; tmp[0].length -1; j++) {\r\n\r\n                int r1 = 0;\r\n                int r2 = 0;\r\n\r\n                int g1 = 0;\r\n                int g2 = 0;\r\n\r\n                int b1 = 0;\r\n                int b2 = 0;\r\n\r\n                for( int x = 0; x &lt; 3; x++) {\r\n                    for( int y = 0; y &lt; 3; y++) {\r\n\r\n                        int aR = (tmp[i + (x - 1)][j + (y - 1)].getRed());\r\n                        int aG = (tmp[i + (x - 1)][j + (y - 1)].getGreen());\r\n                        int aB = (tmp[i + (x - 1)][j + (y - 1)].getBlue());\r\n\r\n                        r1 = r1 + (aR * kernel1[x][y]);\r\n                        r2 = r2 + (aR * kernel2[x][y]);\r\n\r\n                        g1 = g1 + (aG * kernel1[x][y]);\r\n                        g2 = g2 + (aG * kernel2[x][y]);\r\n\r\n                        b1 = b1 + (aB * kernel1[x][y]);\r\n                        b2 = b2 + (aB * kernel2[x][y]);\r\n\r\n                    }\r\n                }\r\n\r\n                int finalR = (int) Math.sqrt((r1 * r1) + (r2 * r2));\r\n                int finalG = (int) Math.sqrt((g1 * g1) + (g2 * g2));\r\n                int finalB = (int) Math.sqrt((b1 * b1) + (b2 * b2));\r\n\r\n                finalR = threshold(finalR, 100);\r\n                finalG = threshold(finalG, 100);\r\n                finalB = threshold(finalB, 100);\r\n\r\n                tmp[i][j] = new Color(finalR, finalG, finalB);\r\n            }\r\n        }\r\n\r\n        return tmp;\r\n    }\r\n```\r\nThe final RBG values are coming way to high, and the result always come mostly white.\r\n\r\nWhat I am doing wrong?\r\n\r\n***Edit:**\r\n**Here are the threshold and greyscale funcs:**\r\n```\r\npublic static Color[][]grayscale(Color[][] img) {\r\n        Color[][] tmp = ImageUtils.cloneArray(img);\r\n\r\n        for( int i = 0; i &lt; tmp.length; i++)\r\n        {\r\n            for( int j = 0; j&lt; tmp[i].length;j++) {\r\n\r\n                Color pixel = tmp[i][j];\r\n                int r = pixel.getRed();\r\n                int g = pixel.getGreen();\r\n                int b = pixel.getBlue();\r\n\r\n                int grayNum = (r + g + b)/3;\r\n                tmp[i][j] = new Color (grayNum, grayNum, grayNum);\r\n            }\r\n        }\r\n        return tmp;\r\n    }\r\n\r\n    public static int threshold (int pixel, int threshold) {\r\n        if(pixel &gt; threshold){\r\n            return 255;\r\n        }else return 0;\r\n\r\n    }\r\n```","title":"Sobel edge implementation issue","body":"<p>For a class I have to implement the sobel edge detector in java, and do I did. But something isnt right, and after 3 hours trying to figure it out I still havent.</p>\n<pre><code>public static Color[][] sobelBorder (Color[][] img) {\n        Color[][] original = ImageUtils.cloneArray(img);\n        Color[][] tmp = grayscale(original);\n\n\n        int[][] kernel1 = {\n                {1,0,-1},\n                {2,0,-2},\n                {1,0,-1}\n        };\n\n        int[][] kernel2 = {\n                {1,2,1},\n                {0,0,0},\n                {-1,-2,-1}\n        };\n\n        for( int i = 1; i &lt; tmp.length -1; i++) {\n            for( int j = 1; j &lt; tmp[0].length -1; j++) {\n\n                int r1 = 0;\n                int r2 = 0;\n\n                int g1 = 0;\n                int g2 = 0;\n\n                int b1 = 0;\n                int b2 = 0;\n\n                for( int x = 0; x &lt; 3; x++) {\n                    for( int y = 0; y &lt; 3; y++) {\n\n                        int aR = (tmp[i + (x - 1)][j + (y - 1)].getRed());\n                        int aG = (tmp[i + (x - 1)][j + (y - 1)].getGreen());\n                        int aB = (tmp[i + (x - 1)][j + (y - 1)].getBlue());\n\n                        r1 = r1 + (aR * kernel1[x][y]);\n                        r2 = r2 + (aR * kernel2[x][y]);\n\n                        g1 = g1 + (aG * kernel1[x][y]);\n                        g2 = g2 + (aG * kernel2[x][y]);\n\n                        b1 = b1 + (aB * kernel1[x][y]);\n                        b2 = b2 + (aB * kernel2[x][y]);\n\n                    }\n                }\n\n                int finalR = (int) Math.sqrt((r1 * r1) + (r2 * r2));\n                int finalG = (int) Math.sqrt((g1 * g1) + (g2 * g2));\n                int finalB = (int) Math.sqrt((b1 * b1) + (b2 * b2));\n\n                finalR = threshold(finalR, 100);\n                finalG = threshold(finalG, 100);\n                finalB = threshold(finalB, 100);\n\n                tmp[i][j] = new Color(finalR, finalG, finalB);\n            }\n        }\n\n        return tmp;\n    }\n</code></pre>\n<p>The final RBG values are coming way to high, and the result always come mostly white.</p>\n<p>What I am doing wrong?</p>\n<p>*<strong>Edit:</strong>\n<strong>Here are the threshold and greyscale funcs:</strong></p>\n<pre><code>public static Color[][]grayscale(Color[][] img) {\n        Color[][] tmp = ImageUtils.cloneArray(img);\n\n        for( int i = 0; i &lt; tmp.length; i++)\n        {\n            for( int j = 0; j&lt; tmp[i].length;j++) {\n\n                Color pixel = tmp[i][j];\n                int r = pixel.getRed();\n                int g = pixel.getGreen();\n                int b = pixel.getBlue();\n\n                int grayNum = (r + g + b)/3;\n                tmp[i][j] = new Color (grayNum, grayNum, grayNum);\n            }\n        }\n        return tmp;\n    }\n\n    public static int threshold (int pixel, int threshold) {\n        if(pixel &gt; threshold){\n            return 255;\n        }else return 0;\n\n    }\n</code></pre>\n"},{"tags":["java","ignite"],"comments":[{"owner":{"account_id":3965245,"reputation":4105,"user_id":3271406,"accept_rate":25,"display_name":"lu_ko"},"score":0,"creation_date":1623666443,"post_id":53511785,"comment_id":120134638,"body_markdown":"Does this answer your question? [Apache Ignite: How to get all items from named cached](https://stackoverflow.com/questions/42296027/apache-ignite-how-to-get-all-items-from-named-cached)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/42296027/apache-ignite-how-to-get-all-items-from-named-cached\">Apache Ignite: How to get all items from named cached</a>"}],"answers":[{"tags":[],"owner":{"account_id":11294182,"reputation":275,"user_id":8282171,"accept_rate":30,"display_name":"Rhishi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1594814394,"creation_date":1543383751,"answer_id":53512850,"question_id":53511785,"body_markdown":"By using **Iterator** you can get all values and key from cache. below are the sample code to retrieve all values from cache.\r\n```JAVA\r\nIterator&lt;Entry&lt;Integer, BinaryObject&gt;&gt; itr = cache.iterator();\t\t\t      \r\nwhile(itr.hasNext()) {\r\n    BinaryObject object = itr.next().getValue();\r\n    System.out.println(object);\r\n}\r\n```","title":"Apache Ignite - get all from cache","body":"<p>By using <strong>Iterator</strong> you can get all values and key from cache. below are the sample code to retrieve all values from cache.</p>\n<pre><code>Iterator&lt;Entry&lt;Integer, BinaryObject&gt;&gt; itr = cache.iterator();                \nwhile(itr.hasNext()) {\n    BinaryObject object = itr.next().getValue();\n    System.out.println(object);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6790700,"reputation":833,"user_id":5227954,"display_name":"Amrith Raj Herle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594806289,"creation_date":1594805192,"answer_id":62911711,"question_id":53511785,"body_markdown":"The following may help you to iterate over all the records in the cache.\r\n\r\n    import javax.cache.Cache.Entry;\r\n\r\n    import org.apache.ignite.Ignite;\r\n    import org.apache.ignite.IgniteCache;\r\n    import org.apache.ignite.Ignition;\r\n    import org.apache.ignite.binary.BinaryObject;\r\n\r\n    public class App5BinaryObject {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tIgnition.setClientMode(true);\r\n\r\n\t\ttry (Ignite client = Ignition\r\n\t\t\t\t.start(&quot;/Users/amritharajherle/git_new/ignite-learning-by-examples/complete/cfg/ignite-config.xml&quot;)) {\r\n\r\n\t\t\tIgniteCache&lt;BinaryObject, BinaryObject&gt; cities = client.cache(&quot;City&quot;).withKeepBinary();\r\n\t\t\tint count = 0;\r\n\t\t\tfor (Entry&lt;BinaryObject, BinaryObject&gt; entry : cities) {\r\n\t\t\t\tcount++;\r\n\t\t\t\tBinaryObject key = entry.getKey();\r\n\t\t\t\tBinaryObject value = entry.getValue();\r\n\r\n\t\t\t\tSystem.out.println(&quot;CountyCode=&quot; + key.field(&quot;COUNTRYCODE&quot;) + &quot;, DISTRICT = &quot; + value.field(&quot;DISTRICT&quot;)\r\n\t\t\t\t\t\t+ &quot;, POPULATION = &quot; + value.field(&quot;POPULATION&quot;) + &quot;, NAME = &quot; + value.field(&quot;NAME&quot;));\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;total cities count = &quot; + count);\r\n\r\n\t\t}\r\n\r\n\t  }\r\n\r\n    }","title":"Apache Ignite - get all from cache","body":"<p>The following may help you to iterate over all the records in the cache.</p>\n<pre><code>import javax.cache.Cache.Entry;\n\nimport org.apache.ignite.Ignite;\nimport org.apache.ignite.IgniteCache;\nimport org.apache.ignite.Ignition;\nimport org.apache.ignite.binary.BinaryObject;\n\npublic class App5BinaryObject {\n\npublic static void main(String[] args) {\n    Ignition.setClientMode(true);\n\n    try (Ignite client = Ignition\n            .start(&quot;/Users/amritharajherle/git_new/ignite-learning-by-examples/complete/cfg/ignite-config.xml&quot;)) {\n\n        IgniteCache&lt;BinaryObject, BinaryObject&gt; cities = client.cache(&quot;City&quot;).withKeepBinary();\n        int count = 0;\n        for (Entry&lt;BinaryObject, BinaryObject&gt; entry : cities) {\n            count++;\n            BinaryObject key = entry.getKey();\n            BinaryObject value = entry.getValue();\n\n            System.out.println(&quot;CountyCode=&quot; + key.field(&quot;COUNTRYCODE&quot;) + &quot;, DISTRICT = &quot; + value.field(&quot;DISTRICT&quot;)\n                    + &quot;, POPULATION = &quot; + value.field(&quot;POPULATION&quot;) + &quot;, NAME = &quot; + value.field(&quot;NAME&quot;));\n        }\n        System.out.println(&quot;total cities count = &quot; + count);\n\n    }\n\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2938635,"reputation":1860,"user_id":2517035,"display_name":"Rajeev Rathor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650636693,"creation_date":1650636693,"answer_id":71970163,"question_id":53511785,"body_markdown":"Using Ignite Rest API we can fetch certain Number of records[Size]. I strive a lot and finally found API.\r\n\r\n**http://&lt;Server_IP&gt;:8080/ignite?cmd=qryscanexe&amp;pageSize=10&amp;cacheName=&lt;CacheName&gt;**\r\n\r\nAdd Auth Header As per Ignite Cluster User.\r\n","title":"Apache Ignite - get all from cache","body":"<p>Using Ignite Rest API we can fetch certain Number of records[Size]. I strive a lot and finally found API.</p>\n<p><strong>http://&lt;Server_IP&gt;:8080/ignite?cmd=qryscanexe&amp;pageSize=10&amp;cacheName=</strong></p>\n<p>Add Auth Header As per Ignite Cluster User.</p>\n"}],"owner":{"account_id":97808,"reputation":4702,"user_id":265119,"accept_rate":31,"display_name":"Magick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4586,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53512850,"answer_count":3,"score":2,"last_activity_date":1650636693,"creation_date":1543376573,"question_id":53511785,"body_markdown":"I&#39;m trying to get all items from a Apache Ignite cache.\r\n\r\nCurrently I can get an individual item using\r\n``` JAVA\r\nClientCache&lt;Integer, BinaryObject&gt; cache = igniteClient.cache(&quot;myCache&quot;).withKeepBinary();\r\n\r\nBinaryObject temp = cache.get(1);\r\n```\r\n\r\nTo get all keys, Ive tried the following:\r\n``` JAVA\r\ntry(QueryCursor&lt;Entry&lt;Integer,BinaryObject&gt;&gt; cursor = cache.query(new ScanQuery&lt;Integer, BinaryObject&gt;(null))) {\r\n    for (Object p : cursor)\r\n    \tSystem.out.println(p.toString());\r\n}\r\n```\r\nThis returns a list of `org.apache.ignite.internal.client.thin.ClientCacheEntry` which is internal, and I cannot call `getValue`.\r\n\r\nHow can I get all items for this cache?","title":"Apache Ignite - get all from cache","body":"<p>I'm trying to get all items from a Apache Ignite cache.</p>\n<p>Currently I can get an individual item using</p>\n<pre><code>ClientCache&lt;Integer, BinaryObject&gt; cache = igniteClient.cache(&quot;myCache&quot;).withKeepBinary();\n\nBinaryObject temp = cache.get(1);\n</code></pre>\n<p>To get all keys, Ive tried the following:</p>\n<pre><code>try(QueryCursor&lt;Entry&lt;Integer,BinaryObject&gt;&gt; cursor = cache.query(new ScanQuery&lt;Integer, BinaryObject&gt;(null))) {\n    for (Object p : cursor)\n        System.out.println(p.toString());\n}\n</code></pre>\n<p>This returns a list of <code>org.apache.ignite.internal.client.thin.ClientCacheEntry</code> which is internal, and I cannot call <code>getValue</code>.</p>\n<p>How can I get all items for this cache?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":3,"creation_date":1402249655,"post_id":24108998,"comment_id":37191072,"body_markdown":"Be more specific.  *What* about it isn&#39;t working?","body":"Be more specific.  <i>What</i> about it isn&#39;t working?"},{"owner":{"account_id":1098379,"reputation":14720,"user_id":1091466,"accept_rate":78,"display_name":"Marco Acierno"},"score":0,"creation_date":1402249827,"post_id":24108998,"comment_id":37191134,"body_markdown":"MyPhoneStateListener is a custom class?","body":"MyPhoneStateListener is a custom class?"},{"owner":{"account_id":3682104,"reputation":53,"user_id":3066835,"display_name":"nuhin"},"score":0,"creation_date":1402250151,"post_id":24108998,"comment_id":37191224,"body_markdown":"if (isPhoneCalling) {\n\n                Handler handler = new Handler();\n                handler.postDelayed(new Runnable() {\n@Override\n public void run() {\n String[] projection = new String[]{Calls.NUMBER};\n Cursor cur = getContentResolver().query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +&quot; desc&quot;);\n                }\n}\n       \nhere &quot;Cursor cur = getContentResolver()\n         .query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +&quot; desc&quot;);&quot; line shows error &amp; that is &quot;The method getContentResolver() is undefined for the type new Runnable(){}&quot;","body":"if (isPhoneCalling) {                  Handler handler = new Handler();                 handler.postDelayed(new Runnable() { @Override  public void run() {  String[] projection = new String[]{Calls.NUMBER};  Cursor cur = getContentResolver().query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +&quot; desc&quot;);                 } }         here &quot;Cursor cur = getContentResolver()          .query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +&quot; desc&quot;);&quot; line shows error &amp; that is &quot;The method getContentResolver() is undefined for the type new Runnable(){}&quot;"},{"owner":{"account_id":3682104,"reputation":53,"user_id":3066835,"display_name":"nuhin"},"score":0,"creation_date":1402250324,"post_id":24108998,"comment_id":37191275,"body_markdown":"yes this is custom class.  Marco Acierno","body":"yes this is custom class.  Marco Acierno"}],"answers":[{"tags":[],"owner":{"account_id":1098379,"reputation":14720,"user_id":1091466,"accept_rate":78,"display_name":"Marco Acierno"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1402250758,"creation_date":1402250343,"answer_id":24109131,"question_id":24108998,"body_markdown":"To use `getContentResolver` inside another class which doesn&#39;t extends `Activity`/`Service` you should have a [`Context`][1] object.\r\n\r\nInside your `MyPhoneStateListener` class, in your constructor ask for a `Context` and save it, then when you need the `content resolver` use `context.getContentResolver()`\r\n\r\nExample:\r\n\r\n    public class MyPhoneStateListener {\r\n     private Context context;\r\n     public MyPhoneStateListener(Context context) {\r\n       this.context = context;\r\n     }\r\n \r\n     public void someMethod() {\r\n        Cursor cur = context.getContentResolver()\r\n         .query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +&quot; desc&quot;);\r\n     }\r\n    }\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/content/Context.html","title":"getContentResolver() is not working","body":"<p>To use <code>getContentResolver</code> inside another class which doesn't extends <code>Activity</code>/<code>Service</code> you should have a <a href=\"http://developer.android.com/reference/android/content/Context.html\" rel=\"nofollow\"><code>Context</code></a> object.</p>\n\n<p>Inside your <code>MyPhoneStateListener</code> class, in your constructor ask for a <code>Context</code> and save it, then when you need the <code>content resolver</code> use <code>context.getContentResolver()</code></p>\n\n<p>Example:</p>\n\n<pre><code>public class MyPhoneStateListener {\n private Context context;\n public MyPhoneStateListener(Context context) {\n   this.context = context;\n }\n\n public void someMethod() {\n    Cursor cur = context.getContentResolver()\n     .query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +\" desc\");\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23207769,"reputation":1,"user_id":18612049,"display_name":"Andrea Gomez De Pablo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650636427,"creation_date":1650636427,"answer_id":71970106,"question_id":24108998,"body_markdown":"Cursor cur = this.getActivity().getContentResolver()\r\n         .query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +&quot; desc&quot;);","title":"getContentResolver() is not working","body":"<p>Cursor cur = this.getActivity().getContentResolver()\n.query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +&quot; desc&quot;);</p>\n"}],"owner":{"account_id":3682104,"reputation":53,"user_id":3066835,"display_name":"nuhin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5492,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":24109131,"answer_count":2,"score":1,"last_activity_date":1650636427,"creation_date":1402249538,"question_id":24108998,"body_markdown":"I have a class name `MyPhoneStateListener`. Here, I want to use `getContentResolver`, but there is some problem in the class. It&#39;s not my main activity.\r\n\r\n    Cursor cur = getContentResolver()\r\n             .query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +&quot; desc&quot;);\r\n","title":"getContentResolver() is not working","body":"<p>I have a class name <code>MyPhoneStateListener</code>. Here, I want to use <code>getContentResolver</code>, but there is some problem in the class. It's not my main activity.</p>\n\n<pre><code>Cursor cur = getContentResolver()\n         .query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +\" desc\");\n</code></pre>\n"},{"tags":["java","memory-leaks","java-8","okhttp"],"answers":[{"tags":[],"owner":{"account_id":16048766,"reputation":1,"user_id":11583249,"display_name":"iFlyinq"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1559307498,"creation_date":1559307498,"answer_id":56395576,"question_id":56395158,"body_markdown":"You didn&#39;t close the connection, use response.close(); \r\n\r\n```Java\r\n            final OkHttpClient client = new OkHttpClient().newBuilder()\r\n                    .connectTimeout(5, TimeUnit.SECONDS)\r\n                    .writeTimeout(5, TimeUnit.SECONDS)\r\n                    .build();\r\n\r\n            Request request = new Request.Builder()\r\n                    .url(&quot;https://api.ipify.org&quot;)\r\n                    .addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.137 Mobile Safari/537.36&quot;)\r\n                    .build();\r\n\r\n            try (Response response = client.newCall(request).execute()) {\r\n                ResponseBody reponseBody = response.body();\r\n                assert reponseBody != null;\r\n\r\n                String ip = reponseBody.string();\r\n                System.out.println(ip);\r\n                response.close();\r\n                reponseBody.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }```","title":"Getting memory leaks with okhttp","body":"<p>You didn't close the connection, use response.close(); </p>\n\n<pre><code>            final OkHttpClient client = new OkHttpClient().newBuilder()\n                    .connectTimeout(5, TimeUnit.SECONDS)\n                    .writeTimeout(5, TimeUnit.SECONDS)\n                    .build();\n\n            Request request = new Request.Builder()\n                    .url(\"https://api.ipify.org\")\n                    .addHeader(\"User-Agent\", \"Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.137 Mobile Safari/537.36\")\n                    .build();\n\n            try (Response response = client.newCall(request).execute()) {\n                ResponseBody reponseBody = response.body();\n                assert reponseBody != null;\n\n                String ip = reponseBody.string();\n                System.out.println(ip);\n                response.close();\n                reponseBody.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }```\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2737829,"reputation":1,"user_id":2360084,"display_name":"jsaludas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650636403,"creation_date":1650353196,"answer_id":71921097,"question_id":56395158,"body_markdown":"It&#39;s an old question, but perhaps it can help someone. You can put the `ResponseBody` inside try-with-resources.\r\n\r\n```\r\n    final OkHttpClient client = new OkHttpClient().newBuilder()\r\n            .connectTimeout(5, TimeUnit.SECONDS)\r\n            .writeTimeout(5, TimeUnit.SECONDS)\r\n            .build();\r\n    \r\n    Request request = new Request.Builder()\r\n            .url(&quot;https://api.ipify.org?format=json&quot;)\r\n            .addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.137 Mobile Safari/537.36&quot;)\r\n            .build();\r\n    \r\n    try (Response response = client.newCall(request).execute();\r\n        ResponseBody s = response.body()) {\r\n        System.out.println(s);\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n```","title":"Getting memory leaks with okhttp","body":"<p>It's an old question, but perhaps it can help someone. You can put the <code>ResponseBody</code> inside try-with-resources.</p>\n<pre><code>    final OkHttpClient client = new OkHttpClient().newBuilder()\n            .connectTimeout(5, TimeUnit.SECONDS)\n            .writeTimeout(5, TimeUnit.SECONDS)\n            .build();\n    \n    Request request = new Request.Builder()\n            .url(&quot;https://api.ipify.org?format=json&quot;)\n            .addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.137 Mobile Safari/537.36&quot;)\n            .build();\n    \n    try (Response response = client.newCall(request).execute();\n        ResponseBody s = response.body()) {\n        System.out.println(s);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5850578,"reputation":1170,"user_id":4609353,"display_name":"Oleg Ushakov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650583674,"creation_date":1650583674,"answer_id":71961870,"question_id":56395158,"body_markdown":"**TL;DR** I think you had the problem because you were creating a new instance OkHttp for every new request. \r\n\r\nOkHttp performs best when you create a single OkHttpClient instance and reuse it for all of your HTTP calls. This is because each client holds its own connection pool and thread pools. Reusing connections and threads reduces latency and saves memory. Conversely, creating a client for each request wastes resources on idle pools.\r\n\r\nThe shutdown isn’t necessary too. The threads and connections that are held will be released automatically if they remain idle. But if you are writing an application that needs to aggressively release unused resources you may do so.\r\n\r\nSo you can change your code e.g. in a next syncronious way:\r\n    \r\n    private final OkHttpClient client = new OkHttpClient().newBuilder()\r\n        .connectTimeout(5, TimeUnit.SECONDS)\r\n        .writeTimeout(5, TimeUnit.SECONDS)\r\n        .build();\r\n\r\n    public void run() throws Exception {\r\n      Request request = new Request.Builder()\r\n            .url(&quot;https://api.ipify.org?format=json&quot;)\r\n            .addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.137 Mobile Safari/537.36&quot;)\r\n            .build();\r\n    \r\n      try (Response response = client.newCall(request).execute()) {\r\n        if (!response.isSuccessful()) {\r\n          throw new IOException(&quot;Unexpected code &quot; + response);\r\n        }\r\n        System.out.println(response.body().string());\r\n      }\r\n\r\n    }","title":"Getting memory leaks with okhttp","body":"<p><strong>TL;DR</strong> I think you had the problem because you were creating a new instance OkHttp for every new request.</p>\n<p>OkHttp performs best when you create a single OkHttpClient instance and reuse it for all of your HTTP calls. This is because each client holds its own connection pool and thread pools. Reusing connections and threads reduces latency and saves memory. Conversely, creating a client for each request wastes resources on idle pools.</p>\n<p>The shutdown isn’t necessary too. The threads and connections that are held will be released automatically if they remain idle. But if you are writing an application that needs to aggressively release unused resources you may do so.</p>\n<p>So you can change your code e.g. in a next syncronious way:</p>\n<pre><code>private final OkHttpClient client = new OkHttpClient().newBuilder()\n    .connectTimeout(5, TimeUnit.SECONDS)\n    .writeTimeout(5, TimeUnit.SECONDS)\n    .build();\n\npublic void run() throws Exception {\n  Request request = new Request.Builder()\n        .url(&quot;https://api.ipify.org?format=json&quot;)\n        .addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.137 Mobile Safari/537.36&quot;)\n        .build();\n\n  try (Response response = client.newCall(request).execute()) {\n    if (!response.isSuccessful()) {\n      throw new IOException(&quot;Unexpected code &quot; + response);\n    }\n    System.out.println(response.body().string());\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":16048549,"reputation":11,"user_id":11583087,"display_name":"WolfyCodes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3743,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1650636403,"creation_date":1559305682,"question_id":56395158,"body_markdown":"When I make a get request to an API, over and over again I see that every request the memory goes up and up until 1gb of ram usage.\r\n\r\n\r\n\r\nclosing the response\r\nand autoclosable\r\n\r\n    final OkHttpClient client = new OkHttpClient().newBuilder()\r\n            .connectTimeout(5, TimeUnit.SECONDS)\r\n            .writeTimeout(5, TimeUnit.SECONDS)\r\n            .build();\r\n\r\n    Request request = new Request.Builder()\r\n            .url(&quot;https://api.ipify.org?format=json&quot;)\r\n            .addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.137 Mobile Safari/537.36&quot;)\r\n            .build();\r\n\r\n    try (Response response = client.newCall(request).execute()) {\r\n        ResponseBody s = response.body();\r\n        assert s != null;\r\n        System.out.println(s.toString());\r\n        s.close();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n","title":"Getting memory leaks with okhttp","body":"<p>When I make a get request to an API, over and over again I see that every request the memory goes up and up until 1gb of ram usage.</p>\n\n<p>closing the response\nand autoclosable</p>\n\n<pre><code>final OkHttpClient client = new OkHttpClient().newBuilder()\n        .connectTimeout(5, TimeUnit.SECONDS)\n        .writeTimeout(5, TimeUnit.SECONDS)\n        .build();\n\nRequest request = new Request.Builder()\n        .url(\"https://api.ipify.org?format=json\")\n        .addHeader(\"User-Agent\", \"Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.137 Mobile Safari/537.36\")\n        .build();\n\ntry (Response response = client.newCall(request).execute()) {\n    ResponseBody s = response.body();\n    assert s != null;\n    System.out.println(s.toString());\n    s.close();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","object","subclass"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1650611707,"post_id":71964757,"comment_id":127164127,"body_markdown":"if you initialize it when declaring it, when you create a new `ODrawPanel`, it will create a new `ODrawPanel` as an attribute, that will itself create a new `ODrawPanel`, that will also create a new `ODrawPanel`, etc. leading to a stackoverflow","body":"if you initialize it when declaring it, when you create a new <code>ODrawPanel</code>, it will create a new <code>ODrawPanel</code> as an attribute, that will itself create a new <code>ODrawPanel</code>, that will also create a new <code>ODrawPanel</code>, etc. leading to a stackoverflow"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1650612662,"post_id":71964757,"comment_id":127164442,"body_markdown":"&quot;in that case I cannot use it in the other methods&quot; - normally you&#39;d just use `this` within the other instance methods. It&#39;s not really clear to me what you&#39;re trying to do...","body":"&quot;in that case I cannot use it in the other methods&quot; - normally you&#39;d just use <code>this</code> within the other instance methods. It&#39;s not really clear to me what you&#39;re trying to do..."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1650613157,"post_id":71964757,"comment_id":127164575,"body_markdown":"side note: [Why is it frowned upon to use a null layout in Swing?](https://stackoverflow.com/questions/6592468/why-is-it-frowned-upon-to-use-a-null-layout-in-swing)","body":"side note: <a href=\"https://stackoverflow.com/questions/6592468/why-is-it-frowned-upon-to-use-a-null-layout-in-swing\">Why is it frowned upon to use a null layout in Swing?</a>"},{"owner":{"account_id":25048022,"reputation":15,"user_id":18904244,"display_name":"Ozgur"},"score":0,"creation_date":1650634000,"post_id":71964757,"comment_id":127172000,"body_markdown":"@JonSkeet. I want to create an object of ODrawPanel within the class ODrawPanel itself in the fields area like a global variable and then use this object in any method of ODrawPanel subclass. I am a beginner Java programmer, so please excuse me if I am asking for strange functionalities.","body":"@JonSkeet. I want to create an object of ODrawPanel within the class ODrawPanel itself in the fields area like a global variable and then use this object in any method of ODrawPanel subclass. I am a beginner Java programmer, so please excuse me if I am asking for strange functionalities."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1650634955,"post_id":71964757,"comment_id":127172331,"body_markdown":"&quot;like a global variable&quot; suggests it should be a static field, which would avoid the stack overflow... but I would suggest reorganizing your code to avoid needing that at all.","body":"&quot;like a global variable&quot; suggests it should be a static field, which would avoid the stack overflow... but I would suggest reorganizing your code to avoid needing that at all."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650612452,"creation_date":1650612452,"answer_id":71964936,"question_id":71964757,"body_markdown":"I would create different classes for the main(), the JFrame, the JPanel. \r\n\r\nIn Main:\r\nnew JFrame();\r\n\r\nIn JFrame:\r\nadd(new JPanel());\r\n... \r\n\r\nIn JPanel:\r\nDo not create JPanels here.\r\n...","title":"In Java can we create an object of a subclass in the subclass itself and outside the methods of the subclass?","body":"<p>I would create different classes for the main(), the JFrame, the JPanel.</p>\n<p>In Main:\nnew JFrame();</p>\n<p>In JFrame:\nadd(new JPanel());\n...</p>\n<p>In JPanel:\nDo not create JPanels here.\n...</p>\n"},{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650613279,"creation_date":1650613279,"answer_id":71965106,"question_id":71964757,"body_markdown":"You may declare a `JPanel` supplier with lazy initialization as a field of the class: \r\n\r\n    private Point p1 = new Point(100, 300);\r\n    private Point p2 = new Point(380, 300);\r\n    private final Supplier&lt;JPanel&gt; panelSupplier = new Supplier&lt;&gt;() {\r\n\r\n        private JPanel panel;\r\n\r\n        @Override\r\n        public JPanel get() {\r\n            if (panel == null) {\r\n                panel = new ODrawPanel();\r\n            }\r\n            return panel;\r\n        }\r\n    };\r\n\r\n... and then use it all over the class by `.get()`ting the value from the supplier (the first time you use it, the `ODrawPanel` will be created but it won&#39;t cause an overflow since you&#39;re not recursively initializing it: \r\n\r\n    public void display() {\r\n        JPanel panel = panelSupplier.get(); //the first time you call get() it will create the panel, the next times it will reuse it\r\n        JFrame f = new JFrame();\r\n\r\n        panel.setBounds(40, 40, 400, 400);\r\n        //...rest of the code\r\n","title":"In Java can we create an object of a subclass in the subclass itself and outside the methods of the subclass?","body":"<p>You may declare a <code>JPanel</code> supplier with lazy initialization as a field of the class:</p>\n<pre><code>private Point p1 = new Point(100, 300);\nprivate Point p2 = new Point(380, 300);\nprivate final Supplier&lt;JPanel&gt; panelSupplier = new Supplier&lt;&gt;() {\n\n    private JPanel panel;\n\n    @Override\n    public JPanel get() {\n        if (panel == null) {\n            panel = new ODrawPanel();\n        }\n        return panel;\n    }\n};\n</code></pre>\n<p>... and then use it all over the class by <code>.get()</code>ting the value from the supplier (the first time you use it, the <code>ODrawPanel</code> will be created but it won't cause an overflow since you're not recursively initializing it:</p>\n<pre><code>public void display() {\n    JPanel panel = panelSupplier.get(); //the first time you call get() it will create the panel, the next times it will reuse it\n    JFrame f = new JFrame();\n\n    panel.setBounds(40, 40, 400, 400);\n    //...rest of the code\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25048022,"reputation":15,"user_id":18904244,"display_name":"Ozgur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650636192,"creation_date":1650636192,"answer_id":71970048,"question_id":71964757,"body_markdown":"Matteo, thank you for the code. When I tried it, I got the following compiler error for the line:\r\n\r\n```\r\nprivate final Supplier&lt;JPanel&gt; panelSupplier = new Supplier&lt;&gt;()\r\n{\r\n   // some code here.\r\n};\r\n```\r\n\r\n```\r\n&quot;cannot infer type arguments for Supplier&lt;T&gt;\r\n  reason: &#39;&lt;&gt;&#39; with anonymous inner classes is not supported in -source 8\r\n    (use -source 9 or higher to enable &#39;&lt;&gt;&#39; with anonymous inner classes)\r\n  where T is a type-variable:\r\n    T extends Object declared in interface Supplier&quot;\r\n```\r\n\r\nAfter changing the code to:\r\n\r\n```\r\nprivate final Supplier&lt;JPanel&gt; panelSupplier = new Supplier&lt;JPanel&gt;()\r\n{\r\n  // some code here.\r\n}\r\n```\r\n\r\nI did not receive an error. It works, for example, in a method like:\r\n\r\n``` \r\npublic void Test()\r\n{\r\n  JPanel panel = panelSupplier.get();\r\n  panel.setBackground(Color.RED);\r\n}\r\n```\r\n\r\nBut it has no effect in the method:\r\n\r\n``` \r\nprotected void paintComponent(Graphics g) \r\n{\r\n   super.paintComponent(g);\r\n   g.setColor(Color.BLUE);       \r\n   g.drawLine(p1.x, p1.y, p2.x, p2.y);\r\n            \r\n   JPanel panel = panelSupplier.get();\r\n   panel.setBackground(Color.CYAN); \r\n}\r\n```    ","title":"In Java can we create an object of a subclass in the subclass itself and outside the methods of the subclass?","body":"<p>Matteo, thank you for the code. When I tried it, I got the following compiler error for the line:</p>\n<pre><code>private final Supplier&lt;JPanel&gt; panelSupplier = new Supplier&lt;&gt;()\n{\n   // some code here.\n};\n</code></pre>\n<pre><code>&quot;cannot infer type arguments for Supplier&lt;T&gt;\n  reason: '&lt;&gt;' with anonymous inner classes is not supported in -source 8\n    (use -source 9 or higher to enable '&lt;&gt;' with anonymous inner classes)\n  where T is a type-variable:\n    T extends Object declared in interface Supplier&quot;\n</code></pre>\n<p>After changing the code to:</p>\n<pre><code>private final Supplier&lt;JPanel&gt; panelSupplier = new Supplier&lt;JPanel&gt;()\n{\n  // some code here.\n}\n</code></pre>\n<p>I did not receive an error. It works, for example, in a method like:</p>\n<pre><code>public void Test()\n{\n  JPanel panel = panelSupplier.get();\n  panel.setBackground(Color.RED);\n}\n</code></pre>\n<p>But it has no effect in the method:</p>\n<pre><code>protected void paintComponent(Graphics g) \n{\n   super.paintComponent(g);\n   g.setColor(Color.BLUE);       \n   g.drawLine(p1.x, p1.y, p2.x, p2.y);\n            \n   JPanel panel = panelSupplier.get();\n   panel.setBackground(Color.CYAN); \n}\n</code></pre>\n"}],"owner":{"account_id":25048022,"reputation":15,"user_id":18904244,"display_name":"Ozgur"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71965106,"answer_count":3,"score":0,"last_activity_date":1650636192,"creation_date":1650611448,"question_id":71964757,"body_markdown":"I need to create an object of a subclass in the subclass itself but outside of all the methods of the subclass.\r\n\r\nIn the code below, I want to create an object of ODrawPanel at the specified location (commented part in the code) but when I do this, I get a StackOverflowError. However, I can create the object ODrawPanel inside the display() method with no problem but in that case I cannot use it in the other methods. I need to do some drawing on the panel and the panel must be available anywhere in the code.\r\n\r\nHow can I make the panel object available anywhere in the code?\r\n\r\nThanks for helping.\r\n\r\n```\r\npackage odrawpanel;\r\n\r\nimport java.awt.*; \r\nimport javax.swing.*; \r\nimport java.awt.event.ComponentEvent;\r\nimport java.awt.event.ComponentAdapter;\r\n\r\npublic class ODrawPanel extends JPanel\r\n{ \r\n    \r\n        private Point p1 = new Point(100, 300);\r\n        private Point p2 = new Point(380, 300);\r\n\r\n        // Either\r\n        // JPanel panel = new ODrawPanel();     I want to create the object of the subclass here.\r\n        // or\r\n        // ODrawPanel panel = new ODrawPanel();\r\n\r\n        @Override\r\n        protected void paintComponent(Graphics g) \r\n        {\r\n            super.paintComponent(g);\r\n            g.setColor(Color.BLUE);       \r\n            g.drawLine(p1.x, p1.y, p2.x, p2.y);\r\n                        \r\n        }\r\n         \r\n        public void display() \r\n        {   \r\n            JPanel panel = new ODrawPanel(); \r\n            JFrame f = new JFrame();\r\n \r\n            panel.setBounds(40, 40, 400, 400);    \r\n            panel.setBackground(Color.white); \r\n            \r\n            f.add(panel);  \r\n            f.setSize(800,600);    \r\n            f.setLayout(null);    \r\n            f.setLocationRelativeTo(null);\r\n            f.setVisible(true); \r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n            f.addComponentListener(new ComponentAdapter() \r\n            {           \r\n                @Override\r\n                public void componentResized(ComponentEvent e) \r\n                {\r\n                  panel.setSize(f.getWidth()-100,f.getHeight()-100);                                 \r\n                }\r\n        \r\n            });\r\n         \r\n        }\r\n        \r\n        public static void main(String args[])  \r\n        {          \r\n                EventQueue.invokeLater(new Runnable() \r\n                  {\r\n                      @Override\r\n                      public void run() \r\n                      {\r\n                         new ODrawPanel().display();                        \r\n                      }\r\n                  });  \r\n        }\r\n        \r\n}  \r\n\r\n\r\n\r\n```\r\n\r\n  ","title":"In Java can we create an object of a subclass in the subclass itself and outside the methods of the subclass?","body":"<p>I need to create an object of a subclass in the subclass itself but outside of all the methods of the subclass.</p>\n<p>In the code below, I want to create an object of ODrawPanel at the specified location (commented part in the code) but when I do this, I get a StackOverflowError. However, I can create the object ODrawPanel inside the display() method with no problem but in that case I cannot use it in the other methods. I need to do some drawing on the panel and the panel must be available anywhere in the code.</p>\n<p>How can I make the panel object available anywhere in the code?</p>\n<p>Thanks for helping.</p>\n<pre><code>package odrawpanel;\n\nimport java.awt.*; \nimport javax.swing.*; \nimport java.awt.event.ComponentEvent;\nimport java.awt.event.ComponentAdapter;\n\npublic class ODrawPanel extends JPanel\n{ \n    \n        private Point p1 = new Point(100, 300);\n        private Point p2 = new Point(380, 300);\n\n        // Either\n        // JPanel panel = new ODrawPanel();     I want to create the object of the subclass here.\n        // or\n        // ODrawPanel panel = new ODrawPanel();\n\n        @Override\n        protected void paintComponent(Graphics g) \n        {\n            super.paintComponent(g);\n            g.setColor(Color.BLUE);       \n            g.drawLine(p1.x, p1.y, p2.x, p2.y);\n                        \n        }\n         \n        public void display() \n        {   \n            JPanel panel = new ODrawPanel(); \n            JFrame f = new JFrame();\n \n            panel.setBounds(40, 40, 400, 400);    \n            panel.setBackground(Color.white); \n            \n            f.add(panel);  \n            f.setSize(800,600);    \n            f.setLayout(null);    \n            f.setLocationRelativeTo(null);\n            f.setVisible(true); \n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n            f.addComponentListener(new ComponentAdapter() \n            {           \n                @Override\n                public void componentResized(ComponentEvent e) \n                {\n                  panel.setSize(f.getWidth()-100,f.getHeight()-100);                                 \n                }\n        \n            });\n         \n        }\n        \n        public static void main(String args[])  \n        {          \n                EventQueue.invokeLater(new Runnable() \n                  {\n                      @Override\n                      public void run() \n                      {\n                         new ODrawPanel().display();                        \n                      }\n                  });  \n        }\n        \n}  \n\n\n\n</code></pre>\n"},{"tags":["java","spring","activiti"],"answers":[{"tags":[],"owner":{"account_id":1416182,"reputation":168,"user_id":1341814,"display_name":"3omar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650636129,"creation_date":1650636129,"answer_id":71970031,"question_id":69039204,"body_markdown":"You can use DelegateTask to set task name dynamically, with method: [setName][1]\r\n\r\nexample:\r\n\r\n```java\r\n    @Component(&quot;CustomTaskListener&quot;)\r\n    public class CustomTaskListener implements TaskListener {\r\n    \r\n        @Override\r\n        public void notify(DelegateTask task) {\r\n                        \r\n            task.setName(&quot;newTaskName&quot;);\r\n        }\r\n    }\r\n```\r\n\r\n  [1]: https://www.activiti.org/javadocs/org/activiti/engine/delegate/DelegateTask.html#setName-java.lang.String-\r\n","title":"How to set activiti task name dynamically?","body":"<p>You can use DelegateTask to set task name dynamically, with method: <a href=\"https://www.activiti.org/javadocs/org/activiti/engine/delegate/DelegateTask.html#setName-java.lang.String-\" rel=\"nofollow noreferrer\">setName</a></p>\n<p>example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Component(&quot;CustomTaskListener&quot;)\n    public class CustomTaskListener implements TaskListener {\n    \n        @Override\n        public void notify(DelegateTask task) {\n                        \n            task.setName(&quot;newTaskName&quot;);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":20578656,"reputation":13,"user_id":15105296,"display_name":"Kelvin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650636129,"creation_date":1630640343,"question_id":69039204,"body_markdown":"I need to set task name dynamically for activiti 7, just like below snippt code:\r\n```\r\n  &lt;userTask id=&#39;theTask&#39; name=&#39;${taskNameDynamically}&#39; &gt;\r\n    ...\r\n  &lt;/userTask&gt;\r\n```\r\nI&#39;ve search for this problem, but still cannot find any workaround yet","title":"How to set activiti task name dynamically?","body":"<p>I need to set task name dynamically for activiti 7, just like below snippt code:</p>\n<pre><code>  &lt;userTask id='theTask' name='${taskNameDynamically}' &gt;\n    ...\n  &lt;/userTask&gt;\n</code></pre>\n<p>I've search for this problem, but still cannot find any workaround yet</p>\n"},{"tags":["java","vaadin","vaadin-flow","vaadin-grid"],"answers":[{"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650635506,"creation_date":1650086987,"answer_id":71891362,"question_id":71887623,"body_markdown":"You&#39;d need a comparator that always first orders based on the category (folder vs item in your case) and then order by the actual column value to resolve ties. To make things slightly more complicated, the same comparator is used regardless of whether the sort order is ascending or descending. You would need to compensate for this by making the category comparison order compensate for the sort order of the column to ensure that reverse ordering wouldn&#39;t put the folders last.\r\n\r\nI implemented a simple proof of concept for this idea below, but you might need to make some tweaks to the concept in case you could have null values there or if you need to support sorting on multiple columns at the same time.\r\n\r\n```\r\n@Route\r\npublic class View1 extends VerticalLayout {\r\n    record Item(String category, String name) { }\r\n\r\n    public View1() {\r\n        Grid&lt;Item&gt; grid = new Grid&lt;Item&gt;();\r\n        grid.addColumn(Item::category).setHeader(&quot;Category&quot;);\r\n        grid.addColumn(Item::name).setHeader(&quot;Name&quot;).setSortable(true).setComparator((a, b) -&gt; {\r\n            int categoryOrder = a.category.compareTo(b.category);\r\n            if (categoryOrder == 0) {\r\n                return a.name.compareTo(b.name);\r\n            }\r\n            return grid.getSortOrder().get(0).getDirection() == SortDirection.ASCENDING ? categoryOrder\r\n                    : -categoryOrder;\r\n        });\r\n        grid.setItems(new Item(&quot;a&quot;, &quot;a&quot;), new Item(&quot;a&quot;, &quot;c&quot;), new Item(&quot;a&quot;, &quot;b&quot;), new Item(&quot;b&quot;, &quot;a&quot;),\r\n                new Item(&quot;b&quot;, &quot;c&quot;), new Item(&quot;b&quot;, &quot;b&quot;));\r\n\r\n        add(grid);\r\n    }\r\n}\r\n```\r\n","title":"Vaadin Grid - specific rows always on top","body":"<p>You'd need a comparator that always first orders based on the category (folder vs item in your case) and then order by the actual column value to resolve ties. To make things slightly more complicated, the same comparator is used regardless of whether the sort order is ascending or descending. You would need to compensate for this by making the category comparison order compensate for the sort order of the column to ensure that reverse ordering wouldn't put the folders last.</p>\n<p>I implemented a simple proof of concept for this idea below, but you might need to make some tweaks to the concept in case you could have null values there or if you need to support sorting on multiple columns at the same time.</p>\n<pre><code>@Route\npublic class View1 extends VerticalLayout {\n    record Item(String category, String name) { }\n\n    public View1() {\n        Grid&lt;Item&gt; grid = new Grid&lt;Item&gt;();\n        grid.addColumn(Item::category).setHeader(&quot;Category&quot;);\n        grid.addColumn(Item::name).setHeader(&quot;Name&quot;).setSortable(true).setComparator((a, b) -&gt; {\n            int categoryOrder = a.category.compareTo(b.category);\n            if (categoryOrder == 0) {\n                return a.name.compareTo(b.name);\n            }\n            return grid.getSortOrder().get(0).getDirection() == SortDirection.ASCENDING ? categoryOrder\n                    : -categoryOrder;\n        });\n        grid.setItems(new Item(&quot;a&quot;, &quot;a&quot;), new Item(&quot;a&quot;, &quot;c&quot;), new Item(&quot;a&quot;, &quot;b&quot;), new Item(&quot;b&quot;, &quot;a&quot;),\n                new Item(&quot;b&quot;, &quot;c&quot;), new Item(&quot;b&quot;, &quot;b&quot;));\n\n        add(grid);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15805840,"reputation":131,"user_id":11404383,"display_name":"Marcus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71891362,"answer_count":1,"score":0,"last_activity_date":1650635506,"creation_date":1650047266,"question_id":71887623,"body_markdown":"I have two classes, one named &quot;Folder&quot; and the second one &quot;Item&quot;. I&#39;m using an interface to show folders and items together in one Vaadin Grid. I wrote a custom comparator to have folders and items sorted correctly (folders on top). But the problem is that users are able to change the sort order and then the folders are on bottom. \r\nMy question is how to have folders always on top? Is it possible to detect the selected order in the comparator?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\ngrid.addColumn(e -&gt; e.getName())\r\n        .setHeader(&quot;Name&quot;)\r\n        .setSortable(true)\r\n        .setComparator((item1, item2) -&gt; {\r\n            if (item1 instanceof Folder &amp;&amp; item2 instanceof Item) {\r\n                return -1;\r\n            } else if (item1 instanceof Item &amp;&amp; item2 instanceof Folder) {\r\n                return 1;\r\n            } else {\r\n                return item1.getName().compareTo(item2.getName());\r\n            }\r\n        })\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9n5If.png","title":"Vaadin Grid - specific rows always on top","body":"<p>I have two classes, one named &quot;Folder&quot; and the second one &quot;Item&quot;. I'm using an interface to show folders and items together in one Vaadin Grid. I wrote a custom comparator to have folders and items sorted correctly (folders on top). But the problem is that users are able to change the sort order and then the folders are on bottom.\nMy question is how to have folders always on top? Is it possible to detect the selected order in the comparator?</p>\n<p><a href=\"https://i.stack.imgur.com/9n5If.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9n5If.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>grid.addColumn(e -&gt; e.getName())\n        .setHeader(&quot;Name&quot;)\n        .setSortable(true)\n        .setComparator((item1, item2) -&gt; {\n            if (item1 instanceof Folder &amp;&amp; item2 instanceof Item) {\n                return -1;\n            } else if (item1 instanceof Item &amp;&amp; item2 instanceof Folder) {\n                return 1;\n            } else {\n                return item1.getName().compareTo(item2.getName());\n            }\n        })\n</code></pre>\n"},{"tags":["java","cmd","process","system-properties"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1650634865,"post_id":71969609,"comment_id":127172294,"body_markdown":"*a high amount of the system properties* Those can be placed in a properties file and read by the app","body":"<i>a high amount of the system properties</i> Those can be placed in a properties file and read by the app"},{"owner":{"account_id":15576867,"reputation":69,"user_id":11237764,"display_name":"aslanj"},"score":0,"creation_date":1650640686,"post_id":71969609,"comment_id":127174669,"body_markdown":"How can I fill for example this String: &quot;-DpropKey1=value&quot; without constructing it with the StringBuilder? I mean System.getProperty(&quot;propKey1&quot;) only returns value, but I still need &quot;-D&quot; and the key &quot;propkey1=&quot; in the string.","body":"How can I fill for example this String: &quot;-DpropKey1=value&quot; without constructing it with the StringBuilder? I mean System.getProperty(&quot;propKey1&quot;) only returns value, but I still need &quot;-D&quot; and the key &quot;propkey1=&quot; in the string."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650635066,"creation_date":1650634760,"answer_id":71969702,"question_id":71969609,"body_markdown":"**Try this:**\r\n\r\n    String[] params=... \r\n\r\n    new ProcessBuilder(params).start()\r\n\r\n \r\n\r\nParams is an array of parameters as String. \r\n\r\n\r\n\r\n**Old:**\r\n\r\nWrite a method, which does the trick. As argument it could get a Map&lt;String, String&gt;.\r\n\r\nThe key of an entry is the parameter name, and the value of an entry is the parameter value.\r\n\r\nThe method builds the String in a loop, which is iterating over the entry set of the map.\r\n\r\nSorry, I read false! This will not work this way with processbuilder! \r\n","title":"Run a jar file out of java programm with many system properties","body":"<p><strong>Try this:</strong></p>\n<pre><code>String[] params=... \n\nnew ProcessBuilder(params).start()\n</code></pre>\n<p>Params is an array of parameters as String.</p>\n<p><strong>Old:</strong></p>\n<p>Write a method, which does the trick. As argument it could get a Map&lt;String, String&gt;.</p>\n<p>The key of an entry is the parameter name, and the value of an entry is the parameter value.</p>\n<p>The method builds the String in a loop, which is iterating over the entry set of the map.</p>\n<p>Sorry, I read false! This will not work this way with processbuilder!</p>\n"}],"owner":{"account_id":15576867,"reputation":69,"user_id":11237764,"display_name":"aslanj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650635066,"creation_date":1650634368,"question_id":71969609,"body_markdown":"I want to start a .jar File out of my java program using the Process Builder like this:\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;,  &quot;-Xdebug&quot;, &quot;-DpropKey1=value&quot;, &quot;-DpropKey2=value&quot;, &quot;MyJar.jar&quot;);\r\n    Process p = pb.start();\r\n    \r\nI am looking for a smart way to pass a high amount of the system properties my java program is using to the ProcessBuilder. Right at this moment I am doing it like this:\r\n\r\n    StringBuilder d1 = new StringBuilder(100);\r\n    d1.append(&quot;-DpropKey1=&quot;);\r\n    d1.append(System.getProperty(&quot;propKey1&quot;));\r\n    String d1Str = d1.toString();\r\n    \r\n    StringBuilder d2 = new StringBuilder(100);\r\n    d2.append(&quot;-DpropKey2=&quot;);\r\n    d2.append(System.getProperty(&quot;propKey2&quot;));\r\n    String d2Str = d2.toString();\r\n    \r\n    ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;,  &quot;-Xdebug&quot;, d1Str, d2Str, &quot;MyJar.jar&quot;);\r\n    Process p = pb.start();\r\n\r\n\r\nBut this way doesn&#39;t seem very smart to me. It&#39;s just I have a lot of system properties I want to pass out of the java programm (more than 10). It doesn&#39;t feel right to use a StringBuilder for every system property I want to pass. ","title":"Run a jar file out of java programm with many system properties","body":"<p>I want to start a .jar File out of my java program using the Process Builder like this:</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;,  &quot;-Xdebug&quot;, &quot;-DpropKey1=value&quot;, &quot;-DpropKey2=value&quot;, &quot;MyJar.jar&quot;);\nProcess p = pb.start();\n</code></pre>\n<p>I am looking for a smart way to pass a high amount of the system properties my java program is using to the ProcessBuilder. Right at this moment I am doing it like this:</p>\n<pre><code>StringBuilder d1 = new StringBuilder(100);\nd1.append(&quot;-DpropKey1=&quot;);\nd1.append(System.getProperty(&quot;propKey1&quot;));\nString d1Str = d1.toString();\n\nStringBuilder d2 = new StringBuilder(100);\nd2.append(&quot;-DpropKey2=&quot;);\nd2.append(System.getProperty(&quot;propKey2&quot;));\nString d2Str = d2.toString();\n\nProcessBuilder pb = new ProcessBuilder(&quot;java&quot;,  &quot;-Xdebug&quot;, d1Str, d2Str, &quot;MyJar.jar&quot;);\nProcess p = pb.start();\n</code></pre>\n<p>But this way doesn't seem very smart to me. It's just I have a lot of system properties I want to pass out of the java programm (more than 10). It doesn't feel right to use a StringBuilder for every system property I want to pass.</p>\n"},{"tags":["java","java-native-interface","version","migrating"],"answers":[{"tags":[],"owner":{"account_id":25003476,"reputation":31,"user_id":18863663,"display_name":"bencomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650634684,"creation_date":1650634684,"answer_id":71969683,"question_id":71925069,"body_markdown":"Well i found my own answer. In java 11, theres no jre directory inside the /usr/lib/jvm/java-{integer}openjdk-amd64/ directory. So, my relatives path were wrong.","title":"Can any on help me to fin find my javac and jni.h in java 11?","body":"<p>Well i found my own answer. In java 11, theres no jre directory inside the /usr/lib/jvm/java-{integer}openjdk-amd64/ directory. So, my relatives path were wrong.</p>\n"}],"owner":{"account_id":25003476,"reputation":31,"user_id":18863663,"display_name":"bencomo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650634684,"creation_date":1650371779,"question_id":71925069,"body_markdown":"Im working on the new release of a software who moves from java 8 to java 11. I have installed both javas. In my .bashrc file i have the following lines for when im working with java 8:\r\n\r\n - export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/\r\n - export PATH=$JAVA_HOME/bin:$PATH\r\n - export LD_LIBRARY_PATH=$JAVA_HOME/jre/lib:$JAVA_HOME/jre/lib/amd64:$JAVA_HOME/jre/lib/amd64/server:$LD_LIBRARY_PATH\r\n\r\nwhen im working with java 11:\r\n\r\n - export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/\r\n - export PATH=$JAVA_HOME/bin:$PATH\r\n - export LD_LIBRARY_PATH=$JAVA_HOME/:$JAVA_HOME/lib:$JAVA_HOME/lib/server:$LD_LIBRARY_PATH\r\n\r\n\r\nAnd I after comment or un-comment those lines (when changing between javas)\r\nI use:\r\n\r\n - sudo update-alternatives --config java\r\nTo change java default\r\n\r\nBut i can&#39;t use \r\n - sudo update-alternatives --config javac\r\nbecause I dont know where is javac \r\n\r\nAll of these is just the debugging of finding where is my JNI_VERSION_10, because in the software in which im working, when running the following line\r\n\r\n - vm_args.version = JNI_VERSION_10;\r\nit returns me\r\n&gt;&gt;invoke.c:163:20: error: &#39;JNI_VERSION_10&#39; undeclared (first use in this function); did you mean &#39;JNI_VERSION_1_6&#39;?\r\n  163 |  vm_args.version = JNI_VERSION_10;\r\n      |                    ^~~~~~~~~~~~~~\r\n      |                    JNI_VERSION_1_6\r\n\r\n\r\nThanks for any help!!!!\r\n\r\n","title":"Can any on help me to fin find my javac and jni.h in java 11?","body":"<p>Im working on the new release of a software who moves from java 8 to java 11. I have installed both javas. In my .bashrc file i have the following lines for when im working with java 8:</p>\n<ul>\n<li>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/</li>\n<li>export PATH=$JAVA_HOME/bin:$PATH</li>\n<li>export LD_LIBRARY_PATH=$JAVA_HOME/jre/lib:$JAVA_HOME/jre/lib/amd64:$JAVA_HOME/jre/lib/amd64/server:$LD_LIBRARY_PATH</li>\n</ul>\n<p>when im working with java 11:</p>\n<ul>\n<li>export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/</li>\n<li>export PATH=$JAVA_HOME/bin:$PATH</li>\n<li>export LD_LIBRARY_PATH=$JAVA_HOME/:$JAVA_HOME/lib:$JAVA_HOME/lib/server:$LD_LIBRARY_PATH</li>\n</ul>\n<p>And I after comment or un-comment those lines (when changing between javas)\nI use:</p>\n<ul>\n<li>sudo update-alternatives --config java\nTo change java default</li>\n</ul>\n<p>But i can't use</p>\n<ul>\n<li>sudo update-alternatives --config javac\nbecause I dont know where is javac</li>\n</ul>\n<p>All of these is just the debugging of finding where is my JNI_VERSION_10, because in the software in which im working, when running the following line</p>\n<ul>\n<li>vm_args.version = JNI_VERSION_10;\nit returns me</li>\n</ul>\n<blockquote>\n<blockquote>\n<p>invoke.c:163:20: error: 'JNI_VERSION_10' undeclared (first use in this function); did you mean 'JNI_VERSION_1_6'?\n163 |  vm_args.version = JNI_VERSION_10;\n|                    ^~~~~~~~~~~~~~\n|                    JNI_VERSION_1_6</p>\n</blockquote>\n</blockquote>\n<p>Thanks for any help!!!!</p>\n"},{"tags":["java","spring","spring-boot","validation","dto"],"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650634616,"creation_date":1650634080,"question_id":71969544,"body_markdown":"I get this error when trying to do HTTP request using DTO.\r\n\r\nSimple example of DTO:\r\n```\r\n    private String id;\r\n\r\n    @NotBlank\r\n    @EnumConstraint(message = &quot;Invalid type for DTO&quot;, enumClazz = TypeEnum.class)\r\n    private String type;\r\n\r\n    @NotBlank\r\n    @Size(min = 1, max = 255)\r\n    private String name;\r\n```\r\nFollowing example works if I use DTO using locally created Java class and just import it.\r\nBut I use dependency of another repository with DTOs that has javax.validation.\r\n@EnumConstraint and @Size validations work correctly.\r\nBut @NotBlank validation throws unexpected error:\r\n```\r\nHV000028: Unexpected exception during isValid call\r\n```\r\n I thought it&#39;s a problem of @NotBlank annotation, so I&#39;ve created custom validator with same logic - didn&#39;t help. Using another similar annotation @NotEmpty - also didn&#39;t fix the problem.\r\n I also tried to follow some topics by adding:\r\n  1. `spring.jpa.properties.javax.persistence.validation.mode=none`\r\n  2. adding @Bean to @Configuration - LocalValidatorFactoryBean.\r\nNothing helped for me.\r\n\r\n\r\nHow could I fix this problem?\r\n ","title":"How to fix HV000028: Unexpected exception during isValid call?","body":"<p>I get this error when trying to do HTTP request using DTO.</p>\n<p>Simple example of DTO:</p>\n<pre><code>    private String id;\n\n    @NotBlank\n    @EnumConstraint(message = &quot;Invalid type for DTO&quot;, enumClazz = TypeEnum.class)\n    private String type;\n\n    @NotBlank\n    @Size(min = 1, max = 255)\n    private String name;\n</code></pre>\n<p>Following example works if I use DTO using locally created Java class and just import it.\nBut I use dependency of another repository with DTOs that has javax.validation.\n@EnumConstraint and @Size validations work correctly.\nBut @NotBlank validation throws unexpected error:</p>\n<pre><code>HV000028: Unexpected exception during isValid call\n</code></pre>\n<p>I thought it's a problem of @NotBlank annotation, so I've created custom validator with same logic - didn't help. Using another similar annotation @NotEmpty - also didn't fix the problem.\nI also tried to follow some topics by adding:</p>\n<ol>\n<li><code>spring.jpa.properties.javax.persistence.validation.mode=none</code></li>\n<li>adding @Bean to @Configuration - LocalValidatorFactoryBean.\nNothing helped for me.</li>\n</ol>\n<p>How could I fix this problem?</p>\n"},{"tags":["java","polymorphism","overriding","super"],"answers":[{"tags":[],"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650634548,"creation_date":1650598507,"answer_id":71963198,"question_id":71962950,"body_markdown":"So I don&#39;t think that will compile: `public class Sample Code {` as an example.  \r\n\r\n&gt; Does it follow Polymorphism\r\n\r\nIt sorta demonstrates it, but it doesn&#39;t look like a clear application of the principle.\r\n\r\nWhat&#39;s a Zayn, and why is a Song a Zayn and a Lyric is a Zayn?\r\n\r\nPolymorphism is to represent a hierarchical typing of your objects.  E.g. you could have `Animal` as base class, with `Mammal` and `Reptile` extending.  This can be further extrapolated to have `Dog` and `Cat` extend from `Mammal`, while `Lizard` and `Snake` extend from `Reptile`.\r\n\r\nBear in mind that if class `Foo` extends class `Bar` then any instance of `Foo` is also a `Bar`. This is sometimes called a &quot;is-a&quot; relationship, because in this scenario, a `Foo` is a `Bar`.","title":"Does my code follows the principle of Polymorphism?","body":"<p>So I don't think that will compile: <code>public class Sample Code {</code> as an example.</p>\n<blockquote>\n<p>Does it follow Polymorphism</p>\n</blockquote>\n<p>It sorta demonstrates it, but it doesn't look like a clear application of the principle.</p>\n<p>What's a Zayn, and why is a Song a Zayn and a Lyric is a Zayn?</p>\n<p>Polymorphism is to represent a hierarchical typing of your objects.  E.g. you could have <code>Animal</code> as base class, with <code>Mammal</code> and <code>Reptile</code> extending.  This can be further extrapolated to have <code>Dog</code> and <code>Cat</code> extend from <code>Mammal</code>, while <code>Lizard</code> and <code>Snake</code> extend from <code>Reptile</code>.</p>\n<p>Bear in mind that if class <code>Foo</code> extends class <code>Bar</code> then any instance of <code>Foo</code> is also a <code>Bar</code>. This is sometimes called a &quot;is-a&quot; relationship, because in this scenario, a <code>Foo</code> is a <code>Bar</code>.</p>\n"}],"owner":{"account_id":25045818,"reputation":1,"user_id":18902237,"display_name":"orangecola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650634548,"creation_date":1650595924,"question_id":71962950,"body_markdown":"I&#39;m a newbie to Java and I attempt to achieve Polymorphism with the requirements of using the following:\r\n\r\n - super keyword\r\n - overriding\r\n - having more than two classes\r\n - getting the user&#39;s input\r\n - using do-while\r\n - creating objects\r\n\r\nIt doesn&#39;t have any errors but I doubt if it still makes any sense.\r\nDoes it follow Polymorphism still? If not, How can I improve it? \r\n\r\nHere is my code:\r\n\r\n```import java.util.Scanner;\r\n\r\npublic class Sample Code {\r\n\tpublic static void main(String[] args) {\r\n\t\t//declare variables\r\n\t\tString name, fSong;\r\n\t\tint aNum;\r\n\t\t\r\n\t\tfSong = &quot; &quot;;\r\n\t\t\r\n\t    Zayn a1 = new Zayn();\r\n\t\ta1.makeMusic();\r\n\t\r\n\t\tSongs a2 = new Songs();\r\n\t\ta2.setName(&quot;Zayn&quot;);\r\n\t\ta2.displayName();\r\n\t\ta2.makeMusic();\r\n\t\t\r\n\t\tLyrics a3 = new Lyrics();\r\n\t\ta2.displayName();\r\n\t\ta3.makeMusic();\r\n\r\n\t\t//get values\r\n\t\tScanner in = new Scanner (System.in);\r\n\t\t\r\n\t\tdo{\r\n\t\t\tSystem.out.print(&quot;Enter Your Name (2-20 characters): &quot;);\r\n\t\t\tname = in.nextLine();\r\n\t\t}while(name.length() &lt; 2 || name.length() &gt; 20);\r\n\r\n\t\tSystem.out.print(&quot;\\nCHOOSE YOUR FAVORITE SONG :\\n\\n&quot;);\r\n\r\n\t\tSystem.out.print(&quot;[1] Pillowtalk \\n&quot;);\r\n\t\tSystem.out.print(&quot;[2] Dusk Till Dawn\\n&quot;);\r\n\t\t\r\n\t\tdo{\r\n\t\t\tSystem.out.print(&quot;\\nEnter Your Choice (1-2): &quot;);\r\n\t\t\taNum = in.nextInt();\r\n\t\t}while(aNum &lt; 1 || aNum &gt; 2);\r\n\t\t\r\n\t\t//determine aNum\r\n\t   \tif(aNum == 1) {\r\n\t   \t    fSong = &quot;Pillowtalk&quot;;\r\n\t   \t}else if(aNum == 2){\r\n\t   \t\tfSong = &quot;Dusk Till Dawn&quot;;\r\n\t   \t}\r\n\t    //Display output\r\n\t    System.out.print(&quot;\\n[OUTPUT]\\n\\n&quot;);\r\n\t    \r\n\t    System.out.printf(&quot;Your Name: %s\\n&quot;, name);\r\n\t    System.out.printf(&quot;Your Favorite song of Zayn is: %s.\\n&quot;, fSong);\r\n\t    \r\n\t}\r\n}\r\n\r\nclass Zayn{\r\n\tString name;\r\n\t\r\n\tZayn(){\r\n\t\tthis.name = this.name;\r\n\t\t\r\n\t}\r\n\t\r\n\tvoid makeMusic(){\r\n\t\tSystem.out.println(&quot;Zayn makes music&quot;);\r\n\t\t\r\n    }\r\n}\r\n\r\n//superclass\r\nclass Songs extends Zayn{\r\n    Songs(){\r\n        super();\r\n    }\r\n    \r\n    void makeMusic(){\r\n        System.out.println(&quot;Pillowtalk Lyrics: Pillowtalk, my enemy, my ally\\n&quot;);\r\n        \r\n    }\r\n    \r\n\t\r\n\tpublic void setName (String newName){\r\n\t\tthis.name = newName;\r\n\t}\r\n\t\t\r\n    \r\n    void displayName(){\r\n    \tSystem.out.println(&quot;\\nName of Artist: &quot; + this.name);\r\n    }\r\n}\r\nclass Lyrics extends Zayn{\r\n    @Override\r\n    void makeMusic(){\r\n        System.out.println(&quot;Dusk Till Down Lyrics: I&#39;ll be with you from dusk till dawn\\n&quot;);\r\n\t\t\r\n\t}\r\n}\r\n\r\n","title":"Does my code follows the principle of Polymorphism?","body":"<p>I'm a newbie to Java and I attempt to achieve Polymorphism with the requirements of using the following:</p>\n<ul>\n<li>super keyword</li>\n<li>overriding</li>\n<li>having more than two classes</li>\n<li>getting the user's input</li>\n<li>using do-while</li>\n<li>creating objects</li>\n</ul>\n<p>It doesn't have any errors but I doubt if it still makes any sense.\nDoes it follow Polymorphism still? If not, How can I improve it?</p>\n<p>Here is my code:</p>\n<pre><code>\npublic class Sample Code {\n    public static void main(String[] args) {\n        //declare variables\n        String name, fSong;\n        int aNum;\n        \n        fSong = &quot; &quot;;\n        \n        Zayn a1 = new Zayn();\n        a1.makeMusic();\n    \n        Songs a2 = new Songs();\n        a2.setName(&quot;Zayn&quot;);\n        a2.displayName();\n        a2.makeMusic();\n        \n        Lyrics a3 = new Lyrics();\n        a2.displayName();\n        a3.makeMusic();\n\n        //get values\n        Scanner in = new Scanner (System.in);\n        \n        do{\n            System.out.print(&quot;Enter Your Name (2-20 characters): &quot;);\n            name = in.nextLine();\n        }while(name.length() &lt; 2 || name.length() &gt; 20);\n\n        System.out.print(&quot;\\nCHOOSE YOUR FAVORITE SONG :\\n\\n&quot;);\n\n        System.out.print(&quot;[1] Pillowtalk \\n&quot;);\n        System.out.print(&quot;[2] Dusk Till Dawn\\n&quot;);\n        \n        do{\n            System.out.print(&quot;\\nEnter Your Choice (1-2): &quot;);\n            aNum = in.nextInt();\n        }while(aNum &lt; 1 || aNum &gt; 2);\n        \n        //determine aNum\n        if(aNum == 1) {\n            fSong = &quot;Pillowtalk&quot;;\n        }else if(aNum == 2){\n            fSong = &quot;Dusk Till Dawn&quot;;\n        }\n        //Display output\n        System.out.print(&quot;\\n[OUTPUT]\\n\\n&quot;);\n        \n        System.out.printf(&quot;Your Name: %s\\n&quot;, name);\n        System.out.printf(&quot;Your Favorite song of Zayn is: %s.\\n&quot;, fSong);\n        \n    }\n}\n\nclass Zayn{\n    String name;\n    \n    Zayn(){\n        this.name = this.name;\n        \n    }\n    \n    void makeMusic(){\n        System.out.println(&quot;Zayn makes music&quot;);\n        \n    }\n}\n\n//superclass\nclass Songs extends Zayn{\n    Songs(){\n        super();\n    }\n    \n    void makeMusic(){\n        System.out.println(&quot;Pillowtalk Lyrics: Pillowtalk, my enemy, my ally\\n&quot;);\n        \n    }\n    \n    \n    public void setName (String newName){\n        this.name = newName;\n    }\n        \n    \n    void displayName(){\n        System.out.println(&quot;\\nName of Artist: &quot; + this.name);\n    }\n}\nclass Lyrics extends Zayn{\n    @Override\n    void makeMusic(){\n        System.out.println(&quot;Dusk Till Down Lyrics: I'll be with you from dusk till dawn\\n&quot;);\n        \n    }\n}\n\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":5,"creation_date":1650573591,"post_id":71959933,"comment_id":127157289,"body_markdown":"I suggest that you use lambda&#39;s like [this example](https://stackoverflow.com/questions/70175587/how-do-you-use-a-javafx-tableview-with-java-records).  With a lambda you get compile time type checking and identifier matching, rather than runtime failures for type and name mismatches with PropertyValueFactory.","body":"I suggest that you use lambda&#39;s like <a href=\"https://stackoverflow.com/questions/70175587/how-do-you-use-a-javafx-tableview-with-java-records\">this example</a>.  With a lambda you get compile time type checking and identifier matching, rather than runtime failures for type and name mismatches with PropertyValueFactory."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1650578724,"post_id":71959933,"comment_id":127158588,"body_markdown":"[mcve] please..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.."},{"owner":{"account_id":13057959,"reputation":109,"user_id":9855365,"display_name":"b0dan"},"score":0,"creation_date":1650908633,"post_id":71959933,"comment_id":127230038,"body_markdown":"@jewelsea - That did the trick. Thanks!","body":"@jewelsea - That did the trick. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650634408,"creation_date":1650570338,"answer_id":71960122,"question_id":71959933,"body_markdown":"you have \r\n\r\n    TableColumn&lt;Product, Long&gt; prIDColumn = new TableColumn&lt;Product, Long&gt;(&quot;PrID&quot;);\r\n        prIDColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, Long&gt;(&quot;productID&quot;));\r\n\r\nbut `productID`  is an `int`  not a `long` in product class\r\n\r\nthen \r\n\r\n    TableColumn&lt;Product, Integer&gt; prIDColumn = new TableColumn&lt;Product,Integer&gt;(&quot;PrID&quot;);\r\n            prIDColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;productID&quot;));\r\n\r\nOr change `productID`  from `int` to `long` in Product class\r\n\r\nits better you to use `StringProperty` or `IntegerProperty` rather than `int` or `String` in your model  for work with `TableView`\r\n        ","title":"TableView Not Being Populated","body":"<p>you have</p>\n<pre><code>TableColumn&lt;Product, Long&gt; prIDColumn = new TableColumn&lt;Product, Long&gt;(&quot;PrID&quot;);\n    prIDColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, Long&gt;(&quot;productID&quot;));\n</code></pre>\n<p>but <code>productID</code>  is an <code>int</code>  not a <code>long</code> in product class</p>\n<p>then</p>\n<pre><code>TableColumn&lt;Product, Integer&gt; prIDColumn = new TableColumn&lt;Product,Integer&gt;(&quot;PrID&quot;);\n        prIDColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;productID&quot;));\n</code></pre>\n<p>Or change <code>productID</code>  from <code>int</code> to <code>long</code> in Product class</p>\n<p>its better you to use <code>StringProperty</code> or <code>IntegerProperty</code> rather than <code>int</code> or <code>String</code> in your model  for work with <code>TableView</code></p>\n"}],"owner":{"account_id":13057959,"reputation":109,"user_id":9855365,"display_name":"b0dan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1650909866,"answer_count":1,"score":0,"last_activity_date":1650634408,"creation_date":1650569178,"question_id":71959933,"body_markdown":"Does anyone have any idea why the table is not getting populated with the products?\r\n\r\n`MainController` class:\r\n```java\r\n//imports\r\n\r\nPublic class MainController implements Initializable {\r\n\t@FXML\r\n\tprivate TableView&lt;Product&gt; table;\r\n\r\n\t@Override\r\n\tpublic void initialize(URL arg0, ResourceBundle arg1) {\r\n\t\tTableColumn&lt;Product, Long&gt; prIDColumn = new TableColumn&lt;Product, Long&gt;(&quot;PrID&quot;);\r\n\t\tprIDColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, Long&gt;(&quot;productID&quot;));\r\n\r\n\t\tTableColumn&lt;Product, String&gt; productColumn = new TableColumn&lt;Product, String&gt;(&quot;Product&quot;);\r\n\t\tproductColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\r\n\r\n\t\tTableColumn&lt;Product, Integer&gt; quantityColumn = new TableColumn&lt;Product, Integer&gt;(&quot;Quantity&quot;);\r\n\t\tquantityColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;productQuantity&quot;));\r\n\r\n\t\tTableColumn&lt;Product, Integer&gt; taxColumn = new TableColumn&lt;Product, Integer&gt;(&quot;Tax%&quot;);\r\n\t\ttaxColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;taxPercentage&quot;));\r\n\r\n\t\tTableColumn&lt;Product, Integer&gt; priceColumn = new TableColumn&lt;Product, Integer&gt;(&quot;Price&quot;);\r\n\t\tpriceColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;totalPrice&quot;));\r\n\r\n\t\ttable.getColumns().add(prIDColumn);\r\n\t\ttable.getColumns().add(productColumn);\r\n\t\ttable.getColumns().add(quantityColumn);\r\n\t\ttable.getColumns().add(taxColumn);\r\n\t\ttable.getColumns().add(priceColumn);\r\n\r\n\t\ttable.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY);\r\n\t}\r\n\r\n    //other unrelated code\r\n\r\n    public void addProducts(ActionEvent event) {  //Linked with the &quot;Add Product&quot; button.\r\n\t\ttry {\r\n\t\t\ttable.getItems().add(new Product(1234, &quot;Mayo&quot;, 1, 5, 100));\r\n\t\t\ttable.getItems().add(new Product(2345, &quot;Ketchup&quot;, 2, 3, 90));\r\n\t\t} catch(Exception e) {\r\n\t\t\tSystem.err.println(e);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n`Product` class:\r\n```java\r\npublic class Product {\r\n\tprivate int productID;\r\n\tprivate String productName;\r\n\tprivate int productQuantity;\r\n\tprivate int taxPercentage;\r\n\tprivate int totalPrice;\r\n\r\n\tpublic Product(int productID, String productName, int productQuantity, int taxPercentage, int totalPrice) {\r\n\t\tthis.productID = productID;\r\n\t\tthis.productName = productName;\r\n\t\tthis.productQuantity = productQuantity;\r\n\t\tthis.taxPercentage = taxPercentage;\r\n\t\tthis.totalPrice = totalPrice;\r\n\t}\r\n\r\n\tpublic int getProductID() {\r\n\t\treturn productID;\r\n\t}\r\n\tpublic String getProductName() {\r\n\t\treturn productName;\r\n\t}\r\n\tpublic int getProductQuantity() {\r\n\t\treturn productQuantity;\r\n\t}\r\n\tpublic int getTaxPercentage() {\r\n\t\treturn taxPercentage;\r\n\t}\r\n\tpublic int getTotalPrice() {\r\n\t\treturn totalPrice;\r\n\t}\r\n\r\n\tpublic void setProductID(int productID) {\r\n\t\tthis.productID = productID;\r\n\t}\r\n\tpublic void setProductName(String productName) {\r\n\t\tthis.productName = productName;\r\n\t}\r\n\tpublic void setProductQuantity(int productQuantity) {\r\n\t\tthis.productQuantity = productQuantity;\r\n\t}\r\n\tpublic void setTaxPercentage(int taxPercentage) {\r\n\t\tthis.taxPercentage = taxPercentage;\r\n\t}\r\n\tpublic void setTotalPrice(int totalPrice) {\r\n\t\tthis.totalPrice = totalPrice;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n`MainScene` FXML file:\r\n[![scenebuilder][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X2gwD.png\r\n\r\nThanks in advance.","title":"TableView Not Being Populated","body":"<p>Does anyone have any idea why the table is not getting populated with the products?</p>\n<p><code>MainController</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//imports\n\nPublic class MainController implements Initializable {\n    @FXML\n    private TableView&lt;Product&gt; table;\n\n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n        TableColumn&lt;Product, Long&gt; prIDColumn = new TableColumn&lt;Product, Long&gt;(&quot;PrID&quot;);\n        prIDColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, Long&gt;(&quot;productID&quot;));\n\n        TableColumn&lt;Product, String&gt; productColumn = new TableColumn&lt;Product, String&gt;(&quot;Product&quot;);\n        productColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\n\n        TableColumn&lt;Product, Integer&gt; quantityColumn = new TableColumn&lt;Product, Integer&gt;(&quot;Quantity&quot;);\n        quantityColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;productQuantity&quot;));\n\n        TableColumn&lt;Product, Integer&gt; taxColumn = new TableColumn&lt;Product, Integer&gt;(&quot;Tax%&quot;);\n        taxColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;taxPercentage&quot;));\n\n        TableColumn&lt;Product, Integer&gt; priceColumn = new TableColumn&lt;Product, Integer&gt;(&quot;Price&quot;);\n        priceColumn.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;totalPrice&quot;));\n\n        table.getColumns().add(prIDColumn);\n        table.getColumns().add(productColumn);\n        table.getColumns().add(quantityColumn);\n        table.getColumns().add(taxColumn);\n        table.getColumns().add(priceColumn);\n\n        table.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY);\n    }\n\n    //other unrelated code\n\n    public void addProducts(ActionEvent event) {  //Linked with the &quot;Add Product&quot; button.\n        try {\n            table.getItems().add(new Product(1234, &quot;Mayo&quot;, 1, 5, 100));\n            table.getItems().add(new Product(2345, &quot;Ketchup&quot;, 2, 3, 90));\n        } catch(Exception e) {\n            System.err.println(e);\n        }\n    }\n}\n</code></pre>\n<p><code>Product</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Product {\n    private int productID;\n    private String productName;\n    private int productQuantity;\n    private int taxPercentage;\n    private int totalPrice;\n\n    public Product(int productID, String productName, int productQuantity, int taxPercentage, int totalPrice) {\n        this.productID = productID;\n        this.productName = productName;\n        this.productQuantity = productQuantity;\n        this.taxPercentage = taxPercentage;\n        this.totalPrice = totalPrice;\n    }\n\n    public int getProductID() {\n        return productID;\n    }\n    public String getProductName() {\n        return productName;\n    }\n    public int getProductQuantity() {\n        return productQuantity;\n    }\n    public int getTaxPercentage() {\n        return taxPercentage;\n    }\n    public int getTotalPrice() {\n        return totalPrice;\n    }\n\n    public void setProductID(int productID) {\n        this.productID = productID;\n    }\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n    public void setProductQuantity(int productQuantity) {\n        this.productQuantity = productQuantity;\n    }\n    public void setTaxPercentage(int taxPercentage) {\n        this.taxPercentage = taxPercentage;\n    }\n    public void setTotalPrice(int totalPrice) {\n        this.totalPrice = totalPrice;\n    }\n}\n\n</code></pre>\n<p><code>MainScene</code> FXML file:\n<a href=\"https://i.stack.imgur.com/X2gwD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X2gwD.png\" alt=\"scenebuilder\" /></a></p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","firebase","push-notification","fragment"],"answers":[{"tags":[],"owner":{"account_id":4571218,"reputation":12646,"user_id":3710865,"accept_rate":54,"display_name":"sasikumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650625650,"creation_date":1650625650,"answer_id":71967774,"question_id":71967698,"body_markdown":"There is no direct way to open fragment from notifications.\r\nIn the notification pending intent add putextras and get it in activity and navigate corresponding fragment\r\n\r\n \r\n\r\n    notificationIntent.putExtra(&quot;redirect&quot;, &quot;homefragment&quot;);\r\n\r\n\r\n\r\n In your activity \r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n          String value= intent.getExtras().get(&quot;redirect&quot;).toString();\r\n          if(value==&quot;homefragment&quot;)\r\n           {\r\n                  // redirect your fragment\r\n           }","title":"How to open fragment from the click of the notification?","body":"<p>There is no direct way to open fragment from notifications.\nIn the notification pending intent add putextras and get it in activity and navigate corresponding fragment</p>\n<pre><code>notificationIntent.putExtra(&quot;redirect&quot;, &quot;homefragment&quot;);\n</code></pre>\n<p>In your activity</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n      String value= intent.getExtras().get(&quot;redirect&quot;).toString();\n      if(value==&quot;homefragment&quot;)\n       {\n              // redirect your fragment\n       }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17054992,"reputation":156,"user_id":12339760,"display_name":"Hamza Mehboob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650628067,"creation_date":1650628067,"answer_id":71968238,"question_id":71967698,"body_markdown":"You can do that using **Explicit Deep Links** in Navigation Architecture.\r\n\r\nYou can check this article to proceed with it:\r\n[Navigating with Deep Links][1]\r\n\r\n\r\nYou should also check [Developer Docs][2]. They provide in-depth description of what&#39;s going on internally\r\n\r\n\r\n  [1]: https://medium.com/androiddevelopers/navigating-with-deep-links-910a4a6588c\r\n  [2]: https://developer.android.com/guide/navigation/navigation-deep-link","title":"How to open fragment from the click of the notification?","body":"<p>You can do that using <strong>Explicit Deep Links</strong> in Navigation Architecture.</p>\n<p>You can check this article to proceed with it:\n<a href=\"https://medium.com/androiddevelopers/navigating-with-deep-links-910a4a6588c\" rel=\"nofollow noreferrer\">Navigating with Deep Links</a></p>\n<p>You should also check <a href=\"https://developer.android.com/guide/navigation/navigation-deep-link\" rel=\"nofollow noreferrer\">Developer Docs</a>. They provide in-depth description of what's going on internally</p>\n"},{"tags":[],"owner":{"account_id":17782422,"reputation":357,"user_id":12913325,"display_name":"Jay_Panchal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650634000,"creation_date":1650634000,"answer_id":71969526,"question_id":71967698,"body_markdown":"When user tries to open notification and tries to open the fragment he want to load the data i tried this way and it performed well.. even when app was closed and even when the app is running it is working.\r\n\r\n**MainActivity**\r\n\r\n&gt; in on create\r\n\r\n   \r\n\r\n          Intent intent = getIntent();\r\n                           if(intent !=null&amp;&amp;intent.getExtras()!=null)\r\n                           {\r\n                                id = intent.getExtras().get(&quot;id&quot;).toString();\r\n                                type = intent.getExtras().get(&quot;type&quot;).toString();\r\n    //here i check if data is not null then i proceed to pass the data to the fragment using nav controller i defined earlier. \r\n                                bundle.putString(&quot;lessonId&quot;, id);\r\n                                bundle.putString(&quot;type&quot;, type);\r\n                                bundle.putLong(&quot;lastPosition&quot;, Math.round(lastPosition));\r\n                                navController.navigate(R.id.player, bundle);\r\n                            }\r\n\r\n&gt; this works when I try to click the notification when the app is open,\r\n&gt; but when the app is not open it doesn&#39;t fetch the data from intent\r\n&gt; because it isn&#39;t the starter app.\r\n\r\nso i did the same process in splash activity and got the data from notification from that and i passed that data into main activity from where the fragment is being called.\r\n\r\n\r\n\r\n Thank you so much guys for quick support..!!\r\n\r\n","title":"How to open fragment from the click of the notification?","body":"<p>When user tries to open notification and tries to open the fragment he want to load the data i tried this way and it performed well.. even when app was closed and even when the app is running it is working.</p>\n<p><strong>MainActivity</strong></p>\n<blockquote>\n<p>in on create</p>\n</blockquote>\n<pre><code>      Intent intent = getIntent();\n                       if(intent !=null&amp;&amp;intent.getExtras()!=null)\n                       {\n                            id = intent.getExtras().get(&quot;id&quot;).toString();\n                            type = intent.getExtras().get(&quot;type&quot;).toString();\n//here i check if data is not null then i proceed to pass the data to the fragment using nav controller i defined earlier. \n                            bundle.putString(&quot;lessonId&quot;, id);\n                            bundle.putString(&quot;type&quot;, type);\n                            bundle.putLong(&quot;lastPosition&quot;, Math.round(lastPosition));\n                            navController.navigate(R.id.player, bundle);\n                        }\n</code></pre>\n<blockquote>\n<p>this works when I try to click the notification when the app is open,\nbut when the app is not open it doesn't fetch the data from intent\nbecause it isn't the starter app.</p>\n</blockquote>\n<p>so i did the same process in splash activity and got the data from notification from that and i passed that data into main activity from where the fragment is being called.</p>\n<p>Thank you so much guys for quick support..!!</p>\n"}],"owner":{"account_id":17782422,"reputation":357,"user_id":12913325,"display_name":"Jay_Panchal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1902,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71969526,"answer_count":3,"score":1,"last_activity_date":1650634000,"creation_date":1650625300,"question_id":71967698,"body_markdown":"This is my onMessageReceived method. I am getting data from notification i want to open fragment when i click on this notification and get the data from this.\r\n\r\n      @Override\r\n        public void onMessageReceived(RemoteMessage remoteMessage) {\r\n            super.onMessageReceived(remoteMessage);\r\n    \r\n            Log.d(&quot;Firebase Push Received&quot;, &quot;Frommm: &quot; + remoteMessage.getFrom());\r\n            Log.d(&quot;Firebase Push Received&quot;, &quot;Notification &quot; +\r\n                    &quot; Data: &quot; + remoteMessage.getData());\r\n    \r\n    \r\n            // TODO(developer): Handle FCM messages here.\r\n            Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\r\n    \r\n            // AGREGO EN EL PAYLOAD LA VARIABLE DATA PARA QUE APAREZCA EN EL FOREGROUND, SINO LEE LA VAR NOTIFICATION DEL PAYLOAD\r\n            // Check if message contains a data payload.\r\n            if (remoteMessage.getData().size() &gt; 0) {\r\n                String type = remoteMessage.getData().get(&quot;type&quot;);\r\n                String title = remoteMessage.getData().get(&quot;title&quot;);\r\n                String message = remoteMessage.getData().get(&quot;body&quot;);\r\n                String id = remoteMessage.getData().get(&quot;id&quot;);\r\n                Log.d(TAG, &quot;type&quot; + type);\r\n                Log.d(TAG, &quot;id&quot; + id);\r\n    \r\n    \r\n                Log.d(TAG, &quot;notidata&quot; + remoteMessage.getData());\r\n    \r\n                boolean flag = false;\r\n                Intent notificationIntent;\r\n                /*SharedPreferences notificationStatus = getApplicationContext().getSharedPreferences(Constants.NotificationStatus, MODE_PRIVATE);\r\n                String status = notificationStatus.getString(&quot;status&quot;, &quot;&quot;);\r\n    \r\n                if (status.equals(&quot;true&quot;)) {\r\n                    flag = true;\r\n                    notificationIntent = new Intent(this.getApplicationContext(), MainActivity.class);\r\n                    notificationIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n    \r\n                } else {\r\n                    notificationIntent = new Intent(this.getApplicationContext(), StarterActivity.class);\r\n                }\r\n                if (flag) {\r\n                    notificationIntent.addCategory((Intent.CATEGORY_LAUNCHER));\r\n                    notificationIntent.setAction(Intent.ACTION_MAIN);\r\n                }*/\r\n                notificationIntent = new Intent(this.getApplicationContext(), MainActivity.class);\r\n    \r\n                notificationIntent.putExtra(&quot;id&quot;, id);\r\n                notificationIntent.putExtra(&quot;type&quot;, type);\r\n                notificationIntent.putExtra(&quot;isfrom&quot;, &quot;notification&quot;);\r\n                notificationIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK\r\n                        | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                Bundle bundle = new Bundle();\r\n                bundle.putString(&quot;lessonId&quot;, id);\r\n                bundle.putString(&quot;type1&quot;, type);\r\n                bundle.putString(&quot;isfrom&quot;, &quot;notification&quot;);\r\n    \r\n                /*PendingIntent contentIntent = new NavDeepLinkBuilder(getApplicationContext())\r\n                        .setGraph(R.navigation.nav_home)\r\n                        .setDestination(R.id.playerController)\r\n                        .setArguments(bundle)\r\n                        .createPendingIntent();*/\r\n                PendingIntent contentIntent = PendingIntent.getActivity(this.getApplicationContext(), 0, notificationIntent, PendingIntent.FLAG_ONE_SHOT);\r\n    \r\n                Notification notification = new NotificationCompat.Builder(this, getResources().getString(R.string.default_notification_channel_id))\r\n                        .setContentTitle(title)\r\n                        .setContentText(message)\r\n                        .setSmallIcon(R.drawable.headblack)\r\n                        .setDefaults(Notification.DEFAULT_SOUND)\r\n                        .setContentIntent(contentIntent)\r\n                        .build();\r\n    \r\n                NotificationManagerCompat manager = NotificationManagerCompat.from(getApplicationContext());\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                    NotificationChannel channel = new NotificationChannel(getResources().getString(R.string.default_notification_channel_id), getResources().getString(R.string.channel_name), NotificationManager.IMPORTANCE_HIGH);\r\n                    manager.createNotificationChannel(channel);\r\n                }\r\n                manager.notify(R.string.default_notification_channel_id, notification);\r\n    \r\n            }\r\n    \r\n            // Check if message contains a notification payload.\r\n            if (remoteMessage.getNotification() != null) {\r\n                Log.d(TAG, &quot;MessageNotificationBody: &quot; + remoteMessage.getNotification().getBody());\r\n            }\r\n    \r\n            // Also if you intend on generating your own notifications as a result of a received FCM\r\n            // message, here is where that should be initiated. See sendNotification method below.\r\n        }\r\n\r\n\r\nThis is my main activity..\r\n\r\n\r\n            public class MainActivity extends AppCompatActivity {\r\n        \r\n          @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n        \r\n                    if (!isTaskRoot() &amp;&amp; getIntent().hasCategory(Intent.CATEGORY_LAUNCHER)\r\n                        &amp;&amp; getIntent().getAction() != null\r\n                        &amp;&amp; getIntent().getAction().equals(Intent.ACTION_MAIN)\r\n                ) {\r\n                    finish();\r\n                    processIntent(getIntent());\r\n                    return;\r\n                }\r\n        \r\n                SharedPreferences notificationStatus = getApplicationContext().getSharedPreferences(Constants.NotificationStatus, MODE_PRIVATE);\r\n                SharedPreferences.Editor edit = notificationStatus.edit();\r\n                edit.putString(&quot;status&quot;, &quot;true&quot;);\r\n                edit.apply();\r\n                progressBar = findViewById(R.id.spin_kit);\r\n                progressBarHolder = findViewById(R.id.progressBarHolder);\r\n                mAuth = FirebaseAuth.getInstance();\r\n                mDatabase = FirebaseDatabase.getInstance().getReference();\r\n        \r\n                final FirebaseUser user = mAuth.getCurrentUser();\r\n                ActionBar actionBar = getSupportActionBar();\r\n                actionBar.hide();\r\n                navView = findViewById(R.id.nav_view);\r\n                navView.setLabelVisibilityMode(LabelVisibilityMode.LABEL_VISIBILITY_LABELED);\r\n        \r\n                AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\r\n                        R.id.navigation_home, R.id.navigation_lessons, R.id.navigation_prematch, R.id.navigation_journals, R.id.navigation_move)\r\n                        .build();\r\n        \r\n                navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n                NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\r\n                NavigationUI.setupWithNavController(navView, navController);\r\n        \r\n            }\r\n        \r\n    \r\n    \r\n        @Override\r\n        protected void onNewIntent(Intent intent) {\r\n            super.onNewIntent(intent);\r\n            processIntent(intent);\r\n        }\r\n        \r\n    \r\n    \r\n    private void processIntent(Intent intent) {\r\n    \r\n            if (intent != null &amp;&amp; intent.getExtras() != null) {\r\n                mAuth = FirebaseAuth.getInstance();\r\n                mDatabase = FirebaseDatabase.getInstance().getReference();\r\n    \r\n                final FirebaseUser user = mAuth.getCurrentUser();\r\n                //   checkStatus();\r\n                Bundle bundle = new Bundle();\r\n                id = intent.getExtras().get(&quot;id&quot;).toString();\r\n    \r\n                type = intent.getExtras().get(&quot;type&quot;).toString();\r\n    }\r\n            }\r\n\r\n\r\n\r\n**From process intent i want to open my fragment using navcontroller but it open the mainactivity and load the home fragment instead the the playerfragment that i want to implement on click of the notification.**\r\n\r\n\r\nThe player fragment is  in the nav graph of the main activity.\r\n \r\nMost of the stack overflow answers contain the navdeeplink that doesnt work here it openes the main activity and load the data of the main activity instead the destination.\r\n\r\n&gt; Anyone how to open a fragment when user click on the notification when activity is running and when activity is in the background ?\r\n\r\n\r\n\r\n","title":"How to open fragment from the click of the notification?","body":"<p>This is my onMessageReceived method. I am getting data from notification i want to open fragment when i click on this notification and get the data from this.</p>\n<pre><code>  @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        super.onMessageReceived(remoteMessage);\n\n        Log.d(&quot;Firebase Push Received&quot;, &quot;Frommm: &quot; + remoteMessage.getFrom());\n        Log.d(&quot;Firebase Push Received&quot;, &quot;Notification &quot; +\n                &quot; Data: &quot; + remoteMessage.getData());\n\n\n        // TODO(developer): Handle FCM messages here.\n        Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\n\n        // AGREGO EN EL PAYLOAD LA VARIABLE DATA PARA QUE APAREZCA EN EL FOREGROUND, SINO LEE LA VAR NOTIFICATION DEL PAYLOAD\n        // Check if message contains a data payload.\n        if (remoteMessage.getData().size() &gt; 0) {\n            String type = remoteMessage.getData().get(&quot;type&quot;);\n            String title = remoteMessage.getData().get(&quot;title&quot;);\n            String message = remoteMessage.getData().get(&quot;body&quot;);\n            String id = remoteMessage.getData().get(&quot;id&quot;);\n            Log.d(TAG, &quot;type&quot; + type);\n            Log.d(TAG, &quot;id&quot; + id);\n\n\n            Log.d(TAG, &quot;notidata&quot; + remoteMessage.getData());\n\n            boolean flag = false;\n            Intent notificationIntent;\n            /*SharedPreferences notificationStatus = getApplicationContext().getSharedPreferences(Constants.NotificationStatus, MODE_PRIVATE);\n            String status = notificationStatus.getString(&quot;status&quot;, &quot;&quot;);\n\n            if (status.equals(&quot;true&quot;)) {\n                flag = true;\n                notificationIntent = new Intent(this.getApplicationContext(), MainActivity.class);\n                notificationIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n\n            } else {\n                notificationIntent = new Intent(this.getApplicationContext(), StarterActivity.class);\n            }\n            if (flag) {\n                notificationIntent.addCategory((Intent.CATEGORY_LAUNCHER));\n                notificationIntent.setAction(Intent.ACTION_MAIN);\n            }*/\n            notificationIntent = new Intent(this.getApplicationContext(), MainActivity.class);\n\n            notificationIntent.putExtra(&quot;id&quot;, id);\n            notificationIntent.putExtra(&quot;type&quot;, type);\n            notificationIntent.putExtra(&quot;isfrom&quot;, &quot;notification&quot;);\n            notificationIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK\n                    | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n            Bundle bundle = new Bundle();\n            bundle.putString(&quot;lessonId&quot;, id);\n            bundle.putString(&quot;type1&quot;, type);\n            bundle.putString(&quot;isfrom&quot;, &quot;notification&quot;);\n\n            /*PendingIntent contentIntent = new NavDeepLinkBuilder(getApplicationContext())\n                    .setGraph(R.navigation.nav_home)\n                    .setDestination(R.id.playerController)\n                    .setArguments(bundle)\n                    .createPendingIntent();*/\n            PendingIntent contentIntent = PendingIntent.getActivity(this.getApplicationContext(), 0, notificationIntent, PendingIntent.FLAG_ONE_SHOT);\n\n            Notification notification = new NotificationCompat.Builder(this, getResources().getString(R.string.default_notification_channel_id))\n                    .setContentTitle(title)\n                    .setContentText(message)\n                    .setSmallIcon(R.drawable.headblack)\n                    .setDefaults(Notification.DEFAULT_SOUND)\n                    .setContentIntent(contentIntent)\n                    .build();\n\n            NotificationManagerCompat manager = NotificationManagerCompat.from(getApplicationContext());\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                NotificationChannel channel = new NotificationChannel(getResources().getString(R.string.default_notification_channel_id), getResources().getString(R.string.channel_name), NotificationManager.IMPORTANCE_HIGH);\n                manager.createNotificationChannel(channel);\n            }\n            manager.notify(R.string.default_notification_channel_id, notification);\n\n        }\n\n        // Check if message contains a notification payload.\n        if (remoteMessage.getNotification() != null) {\n            Log.d(TAG, &quot;MessageNotificationBody: &quot; + remoteMessage.getNotification().getBody());\n        }\n\n        // Also if you intend on generating your own notifications as a result of a received FCM\n        // message, here is where that should be initiated. See sendNotification method below.\n    }\n</code></pre>\n<p>This is my main activity..</p>\n<pre><code>        public class MainActivity extends AppCompatActivity {\n    \n      @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n    \n                if (!isTaskRoot() &amp;&amp; getIntent().hasCategory(Intent.CATEGORY_LAUNCHER)\n                    &amp;&amp; getIntent().getAction() != null\n                    &amp;&amp; getIntent().getAction().equals(Intent.ACTION_MAIN)\n            ) {\n                finish();\n                processIntent(getIntent());\n                return;\n            }\n    \n            SharedPreferences notificationStatus = getApplicationContext().getSharedPreferences(Constants.NotificationStatus, MODE_PRIVATE);\n            SharedPreferences.Editor edit = notificationStatus.edit();\n            edit.putString(&quot;status&quot;, &quot;true&quot;);\n            edit.apply();\n            progressBar = findViewById(R.id.spin_kit);\n            progressBarHolder = findViewById(R.id.progressBarHolder);\n            mAuth = FirebaseAuth.getInstance();\n            mDatabase = FirebaseDatabase.getInstance().getReference();\n    \n            final FirebaseUser user = mAuth.getCurrentUser();\n            ActionBar actionBar = getSupportActionBar();\n            actionBar.hide();\n            navView = findViewById(R.id.nav_view);\n            navView.setLabelVisibilityMode(LabelVisibilityMode.LABEL_VISIBILITY_LABELED);\n    \n            AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\n                    R.id.navigation_home, R.id.navigation_lessons, R.id.navigation_prematch, R.id.navigation_journals, R.id.navigation_move)\n                    .build();\n    \n            navController = Navigation.findNavController(this, R.id.nav_host_fragment);\n            NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n            NavigationUI.setupWithNavController(navView, navController);\n    \n        }\n    \n\n\n    @Override\n    protected void onNewIntent(Intent intent) {\n        super.onNewIntent(intent);\n        processIntent(intent);\n    }\n    \n\n\nprivate void processIntent(Intent intent) {\n\n        if (intent != null &amp;&amp; intent.getExtras() != null) {\n            mAuth = FirebaseAuth.getInstance();\n            mDatabase = FirebaseDatabase.getInstance().getReference();\n\n            final FirebaseUser user = mAuth.getCurrentUser();\n            //   checkStatus();\n            Bundle bundle = new Bundle();\n            id = intent.getExtras().get(&quot;id&quot;).toString();\n\n            type = intent.getExtras().get(&quot;type&quot;).toString();\n}\n        }\n</code></pre>\n<p><strong>From process intent i want to open my fragment using navcontroller but it open the mainactivity and load the home fragment instead the the playerfragment that i want to implement on click of the notification.</strong></p>\n<p>The player fragment is  in the nav graph of the main activity.</p>\n<p>Most of the stack overflow answers contain the navdeeplink that doesnt work here it openes the main activity and load the data of the main activity instead the destination.</p>\n<blockquote>\n<p>Anyone how to open a fragment when user click on the notification when activity is running and when activity is in the background ?</p>\n</blockquote>\n"},{"tags":["java","multithreading","testing"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1650633616,"post_id":71969022,"comment_id":127171856,"body_markdown":"Are you asking how to get the `result`s? Have you considered submitting [`Callable&lt;MvcResult&gt;`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html) tasks to a [`ThreadPoolExecutor`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html), and then awaiting the [`Future&lt;MvcResult&gt;`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html) objects that are returned?","body":"Are you asking how to get the <code>result</code>s? Have you considered submitting <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\"><code>Callable&lt;MvcResult&gt;</code></a> tasks to a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\"><code>ThreadPoolExecutor</code></a>, and then awaiting the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\"><code>Future&lt;MvcResult&gt;</code></a> objects that are returned?"}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650633748,"creation_date":1650633748,"answer_id":71969481,"question_id":71969022,"body_markdown":"You can approach with `CompletableFuture` like:\r\n\r\n```java\r\n{\r\n\r\n    CompletableFuture&lt;MvcResult&gt;[] results = new CompletableFuture[10];\r\n    for(int i = 0; i &lt; 10; i++){\r\n        results[i] = CompletableFuture.supplyAsync(() -&gt;\r\n                mvc.perform(post(&quot;/parking/exit&quot;)\r\n                                    .contentType(&quot;application/json&quot;)\r\n                                    .content(objectMapper.writeValueAsString(carAtGateRequestMode)))\r\n                            .andDo(print())\r\n                            .andReturn()\r\n        );\r\n    }\r\n    CompletableFuture.allOf(results);\r\n    for(int i = 0; i &lt; 10; i++){\r\n        MvcResult result = results[i].get();\r\n        // test\r\n    }\r\n}\r\n```","title":"How to get something from running Thread","body":"<p>You can approach with <code>CompletableFuture</code> like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>{\n\n    CompletableFuture&lt;MvcResult&gt;[] results = new CompletableFuture[10];\n    for(int i = 0; i &lt; 10; i++){\n        results[i] = CompletableFuture.supplyAsync(() -&gt;\n                mvc.perform(post(&quot;/parking/exit&quot;)\n                                    .contentType(&quot;application/json&quot;)\n                                    .content(objectMapper.writeValueAsString(carAtGateRequestMode)))\n                            .andDo(print())\n                            .andReturn()\n        );\n    }\n    CompletableFuture.allOf(results);\n    for(int i = 0; i &lt; 10; i++){\n        MvcResult result = results[i].get();\n        // test\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23897722,"reputation":221,"user_id":17896393,"display_name":"Lulex97"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650633748,"creation_date":1650631831,"question_id":71969022,"body_markdown":"I am trying to write some test of my application. I have small parking service and want to do integration test for car entry to the parking and check if any race condition is possible. I checked it by jmeter and app is ok, everything works, race condition is absent but I have to write &quot;classic&quot; test for this. I prepared something like this:\r\n\r\n    @Test\r\n    @Sql(scripts = {&quot;/parking-data.sql&quot;, &quot;/cars-data.sql&quot;})\r\n    void testForRaceConditionWhen2CarsWantToParkAtTheSameTime() throws Exception {\r\n        //given\r\n        CarAtParkingGateRequest carAtGateRequestMode = new CarAtParkingGateRequest(&quot;000000000000000000000000000000000001&quot;,\r\n                &quot;000000000000000000000000000000000003&quot;);\r\n\r\n        //when\r\n        for (int i = 0; i &lt; 10; i++) {\r\n\r\n            Thread x = new Thread(() -&gt; {\r\n                try {\r\n                    MvcResult result = mvc.perform(post(&quot;/parking/exit&quot;)\r\n                                    .contentType(&quot;application/json&quot;)\r\n                                    .content(objectMapper.writeValueAsString(carAtGateRequestMode)))\r\n                            .andDo(print())\r\n                            .andReturn();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            x.start();\r\n        }\r\n\r\n        //then\r\n    }\r\n\r\nIt is of course passes but, how can I for example get response status from every thread.\r\nI was thinking about `List&lt;Integer&gt; expectedStatus = List.of(200,400,400...)` and in other list put that statuses from every thread and next comapre them.","title":"How to get something from running Thread","body":"<p>I am trying to write some test of my application. I have small parking service and want to do integration test for car entry to the parking and check if any race condition is possible. I checked it by jmeter and app is ok, everything works, race condition is absent but I have to write &quot;classic&quot; test for this. I prepared something like this:</p>\n<pre><code>@Test\n@Sql(scripts = {&quot;/parking-data.sql&quot;, &quot;/cars-data.sql&quot;})\nvoid testForRaceConditionWhen2CarsWantToParkAtTheSameTime() throws Exception {\n    //given\n    CarAtParkingGateRequest carAtGateRequestMode = new CarAtParkingGateRequest(&quot;000000000000000000000000000000000001&quot;,\n            &quot;000000000000000000000000000000000003&quot;);\n\n    //when\n    for (int i = 0; i &lt; 10; i++) {\n\n        Thread x = new Thread(() -&gt; {\n            try {\n                MvcResult result = mvc.perform(post(&quot;/parking/exit&quot;)\n                                .contentType(&quot;application/json&quot;)\n                                .content(objectMapper.writeValueAsString(carAtGateRequestMode)))\n                        .andDo(print())\n                        .andReturn();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n        x.start();\n    }\n\n    //then\n}\n</code></pre>\n<p>It is of course passes but, how can I for example get response status from every thread.\nI was thinking about <code>List&lt;Integer&gt; expectedStatus = List.of(200,400,400...)</code> and in other list put that statuses from every thread and next comapre them.</p>\n"},{"tags":["java","android","flutter","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":12647771,"reputation":1215,"user_id":9192954,"display_name":"Guillem Puche"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650633553,"creation_date":1650631423,"answer_id":71968935,"question_id":71968934,"body_markdown":"The problem disappears when I change the settings of the ProtonVPN to a less secure configuration. There&#39;s a feature that is [Kill Switch](https://protonvpn.com/support/what-is-kill-switch/ that *protects your IP address in case you unexpectedly lose the connection to a ProtonVPN server.* [...] *This means that even though you can’t use the Internet until ProtonVPN reconnects, your IP address and DNS queries are safe from being exposed.*","title":"Problem with &quot;Could not connect to the Gradle daemon&quot; and IP address when running a Flutter app","body":"<p>The problem disappears when I change the settings of the ProtonVPN to a less secure configuration. There's a feature that is [Kill Switch](<a href=\"https://protonvpn.com/support/what-is-kill-switch/\" rel=\"nofollow noreferrer\">https://protonvpn.com/support/what-is-kill-switch/</a> that <em>protects your IP address in case you unexpectedly lose the connection to a ProtonVPN server.</em> [...] <em>This means that even though you can’t use the Internet until ProtonVPN reconnects, your IP address and DNS queries are safe from being exposed.</em></p>\n"}],"owner":{"account_id":12647771,"reputation":1215,"user_id":9192954,"display_name":"Guillem Puche"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":928,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1650633553,"creation_date":1650631423,"question_id":71968934,"body_markdown":"I&#39;m trying to launch the Flutter app (Flutter&#39;s version 2.10.3) on a Mac M1.\r\n\r\nI made the next updates to the file `android/app/build.gradle`:\r\n\r\nSome of my Android settings:\r\n\r\n- `compileSdkVersion` from 28 to 32\r\n- `targetSdkVersion` from 28 to 32\r\n- `android/build.gradle`: `ext.kotlin_version = &#39;1.5.31&#39;`\r\n- `android/gradle/wrapper/gradle-wrapper.properties`: `distributionUrl=https\\://services.gradle.org/distributions/gradle-6.9-all.zip`\r\n\r\nI runned the app on an emulator API 32 (Android 12L), but the Gradle throwed an exception.\r\n\r\nThe log:\r\n```\r\n...\r\nLaunching lib/main.dart on sdk gphone64 arm64 in debug mode...\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not connect to the Gradle daemon.\r\nDaemon uid: fd2e13e6-2566-45f5-8766-4fedc7775cb0 with diagnostics:\r\nDaemon pid: 11467\r\n  log file: /Users/&lt;username&gt;/.gradle/daemon/6.9/daemon-11467.out.log\r\n----- Last  20 lines from daemon log file - daemon-11467.out.log -----\r\n2022-04-22T14:07:40.973+0200 [DEBUG] [org.gradle.internal.remote.internal.inet.InetAddresses] Adding remote address /fe80:0:0:0:4a:4965:170f:6161%en0\r\n2022-04-22T14:07:40.973+0200 [DEBUG] [org.gradle.internal.remote.internal.inet.InetAddresses] Adding remote address /192.168.1.251\r\n2022-04-22T14:07:40.973+0200 [DEBUG] [org.gradle.internal.remote.internal.inet.InetAddresses] Adding IP addresses for network interface lo0\r\n2022-04-22T14:07:40.974+0200 [DEBUG] [org.gradle.internal.remote.internal.inet.InetAddresses] Is this a loopback interface? true\r\n2022-04-22T14:07:40.974+0200 [DEBUG] [org.gradle.internal.remote.internal.inet.InetAddresses] Ignoring remote address on loopback interface /fe80:0:0:0:0:0:0:1%lo0\r\n2022-04-22T14:07:40.974+0200 [DEBUG] [org.gradle.internal.remote.internal.inet.InetAddresses] Adding loopback address /0:0:0:0:0:0:0:1%lo0\r\n2022-04-22T14:07:40.974+0200 [DEBUG] [org.gradle.internal.remote.internal.inet.InetAddresses] Adding loopback address /127.0.0.1\r\n2022-04-22T14:07:40.976+0200 [DEBUG] [org.gradle.internal.remote.internal.inet.TcpIncomingConnector] Listening on [bf4f42c3-7339-4aa4-8277-33e3ae19a1aa port:55627, addresses:[localhost/127.0.0.1]].\r\n2022-04-22T14:07:40.982+0200 [DEBUG] [org.gradle.launcher.daemon.server.Daemon] Daemon starting at: Fri Apr 22 14:07:40 CEST 2022, with address: [bf4f42c3-7339-4aa4-8277-33e3ae19a1aa port:55627, addresses:[localhost/127.0.0.1]]\r\n2022-04-22T14:07:40.982+0200 [INFO] [org.gradle.launcher.daemon.server.DaemonRegistryUpdater] Advertising the daemon address to the clients: [bf4f42c3-7339-4aa4-8277-33e3ae19a1aa port:55627, addresses:[localhost/127.0.0.1]]\r\n2022-04-22T14:07:40.982+0200 [DEBUG] [org.gradle.launcher.daemon.server.DaemonRegistryUpdater] Advertised daemon context: DefaultDaemonContext[uid=fd2e13e6-2566-45f5-8766-4fedc7775cb0,javaHome=/Applications/Android Studio.app/Contents/jre/Contents/Home,daemonRegistryDir=/Users/&lt;username&gt;/.gradle/daemon,pid=11467,idleTimeout=10800000,priority=NORMAL,daemonOpts=--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.base/java.lang=ALL-UNNAMED,--add-opens,java.base/java.lang.invoke=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,-Xmx1536M,-Dfile.encoding=UTF-8,-Duser.country=NL,-Duser.language=ca,-Duser.variant]\r\n2022-04-22T14:07:40.983+0200 [DEBUG] [org.gradle.launcher.daemon.registry.PersistentDaemonRegistry] Storing daemon address: [bf4f42c3-7339-4aa4-8277-33e3ae19a1aa port:55627, addresses:[localhost/127.0.0.1]], context: DefaultDaemonContext[uid=fd2e13e6-2566-45f5-8766-4fedc7775cb0,javaHome=/Applications/Android Studio.app/Contents/jre/Contents/Home,daemonRegistryDir=/Users/&lt;username&gt;/.gradle/daemon,pid=11467,idleTimeout=10800000,priority=NORMAL,daemonOpts=--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.base/java.lang=ALL-UNNAMED,--add-opens,java.base/java.lang.invoke=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,-Xmx1536M,-Dfile.encoding=UTF-8,-Duser.country=NL,-Duser.language=ca,-Duser.variant]\r\n2022-04-22T14:07:40.987+0200 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Waiting to acquire exclusive lock on daemon addresses registry.\r\n2022-04-22T14:07:40.988+0200 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Lock acquired on daemon addresses registry.\r\n2022-04-22T14:07:40.993+0200 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Releasing lock on daemon addresses registry.\r\n2022-04-22T14:07:40.993+0200 [LIFECYCLE] [org.gradle.launcher.daemon.server.Daemon] Daemon server started.\r\n2022-04-22T14:07:40.994+0200 [DEBUG] [org.gradle.launcher.daemon.bootstrap.DaemonStartupCommunication] Completed writing the daemon greeting. Closing streams...\r\n2022-04-22T14:07:40.996+0200 [DEBUG] [org.gradle.launcher.daemon.server.Daemon] stopOnExpiration() called on daemon\r\n2022-04-22T14:07:40.996+0200 [DEBUG] [org.gradle.launcher.daemon.server.Daemon] awaitExpiration() called on daemon\r\n2022-04-22T14:07:40.996+0200 [DEBUG] [org.gradle.launcher.daemon.server.DaemonStateCoordinator] daemon is running. Sleeping until state changes.\r\n----- End of the daemon log -----\r\n\r\n...\r\n```","title":"Problem with &quot;Could not connect to the Gradle daemon&quot; and IP address when running a Flutter app","body":"<p>I'm trying to launch the Flutter app (Flutter's version 2.10.3) on a Mac M1.</p>\n<p>I made the next updates to the file <code>android/app/build.gradle</code>:</p>\n<p>Some of my Android settings:</p>\n<ul>\n<li><code>compileSdkVersion</code> from 28 to 32</li>\n<li><code>targetSdkVersion</code> from 28 to 32</li>\n<li><code>android/build.gradle</code>: <code>ext.kotlin_version = '1.5.31'</code></li>\n<li><code>android/gradle/wrapper/gradle-wrapper.properties</code>: <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.9-all.zip</code></li>\n</ul>\n<p>I runned the app on an emulator API 32 (Android 12L), but the Gradle throwed an exception.</p>\n<p>The log:</p>\n<pre><code>...\nLaunching lib/main.dart on sdk gphone64 arm64 in debug mode...\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not connect to the Gradle daemon.\nDaemon uid: fd2e13e6-2566-45f5-8766-4fedc7775cb0 with diagnostics:\nDaemon pid: 11467\n  log file: /Users/&lt;username&gt;/.gradle/daemon/6.9/daemon-11467.out.log\n----- Last  20 lines from daemon log file - daemon-11467.out.log -----\n2022-04-22T14:07:40.973+0200 [DEBUG] [org.gradle.internal.remote.internal.inet.InetAddresses] Adding remote address /fe80:0:0:0:4a:4965:170f:6161%en0\n2022-04-22T14:07:40.973+0200 [DEBUG] [org.gradle.internal.remote.internal.inet.InetAddresses] Adding remote address /192.168.1.251\n2022-04-22T14:07:40.973+0200 [DEBUG] [org.gradle.internal.remote.internal.inet.InetAddresses] Adding IP addresses for network interface lo0\n2022-04-22T14:07:40.974+0200 [DEBUG] [org.gradle.internal.remote.internal.inet.InetAddresses] Is this a loopback interface? true\n2022-04-22T14:07:40.974+0200 [DEBUG] [org.gradle.internal.remote.internal.inet.InetAddresses] Ignoring remote address on loopback interface /fe80:0:0:0:0:0:0:1%lo0\n2022-04-22T14:07:40.974+0200 [DEBUG] [org.gradle.internal.remote.internal.inet.InetAddresses] Adding loopback address /0:0:0:0:0:0:0:1%lo0\n2022-04-22T14:07:40.974+0200 [DEBUG] [org.gradle.internal.remote.internal.inet.InetAddresses] Adding loopback address /127.0.0.1\n2022-04-22T14:07:40.976+0200 [DEBUG] [org.gradle.internal.remote.internal.inet.TcpIncomingConnector] Listening on [bf4f42c3-7339-4aa4-8277-33e3ae19a1aa port:55627, addresses:[localhost/127.0.0.1]].\n2022-04-22T14:07:40.982+0200 [DEBUG] [org.gradle.launcher.daemon.server.Daemon] Daemon starting at: Fri Apr 22 14:07:40 CEST 2022, with address: [bf4f42c3-7339-4aa4-8277-33e3ae19a1aa port:55627, addresses:[localhost/127.0.0.1]]\n2022-04-22T14:07:40.982+0200 [INFO] [org.gradle.launcher.daemon.server.DaemonRegistryUpdater] Advertising the daemon address to the clients: [bf4f42c3-7339-4aa4-8277-33e3ae19a1aa port:55627, addresses:[localhost/127.0.0.1]]\n2022-04-22T14:07:40.982+0200 [DEBUG] [org.gradle.launcher.daemon.server.DaemonRegistryUpdater] Advertised daemon context: DefaultDaemonContext[uid=fd2e13e6-2566-45f5-8766-4fedc7775cb0,javaHome=/Applications/Android Studio.app/Contents/jre/Contents/Home,daemonRegistryDir=/Users/&lt;username&gt;/.gradle/daemon,pid=11467,idleTimeout=10800000,priority=NORMAL,daemonOpts=--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.base/java.lang=ALL-UNNAMED,--add-opens,java.base/java.lang.invoke=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,-Xmx1536M,-Dfile.encoding=UTF-8,-Duser.country=NL,-Duser.language=ca,-Duser.variant]\n2022-04-22T14:07:40.983+0200 [DEBUG] [org.gradle.launcher.daemon.registry.PersistentDaemonRegistry] Storing daemon address: [bf4f42c3-7339-4aa4-8277-33e3ae19a1aa port:55627, addresses:[localhost/127.0.0.1]], context: DefaultDaemonContext[uid=fd2e13e6-2566-45f5-8766-4fedc7775cb0,javaHome=/Applications/Android Studio.app/Contents/jre/Contents/Home,daemonRegistryDir=/Users/&lt;username&gt;/.gradle/daemon,pid=11467,idleTimeout=10800000,priority=NORMAL,daemonOpts=--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.base/java.lang=ALL-UNNAMED,--add-opens,java.base/java.lang.invoke=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,-Xmx1536M,-Dfile.encoding=UTF-8,-Duser.country=NL,-Duser.language=ca,-Duser.variant]\n2022-04-22T14:07:40.987+0200 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Waiting to acquire exclusive lock on daemon addresses registry.\n2022-04-22T14:07:40.988+0200 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Lock acquired on daemon addresses registry.\n2022-04-22T14:07:40.993+0200 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Releasing lock on daemon addresses registry.\n2022-04-22T14:07:40.993+0200 [LIFECYCLE] [org.gradle.launcher.daemon.server.Daemon] Daemon server started.\n2022-04-22T14:07:40.994+0200 [DEBUG] [org.gradle.launcher.daemon.bootstrap.DaemonStartupCommunication] Completed writing the daemon greeting. Closing streams...\n2022-04-22T14:07:40.996+0200 [DEBUG] [org.gradle.launcher.daemon.server.Daemon] stopOnExpiration() called on daemon\n2022-04-22T14:07:40.996+0200 [DEBUG] [org.gradle.launcher.daemon.server.Daemon] awaitExpiration() called on daemon\n2022-04-22T14:07:40.996+0200 [DEBUG] [org.gradle.launcher.daemon.server.DaemonStateCoordinator] daemon is running. Sleeping until state changes.\n----- End of the daemon log -----\n\n...\n</code></pre>\n"},{"tags":["java","eclipse","workspace"],"comments":[{"owner":{"account_id":1210041,"reputation":2854,"user_id":1178781,"accept_rate":82,"display_name":"justderb"},"score":0,"creation_date":1343708992,"post_id":11733089,"comment_id":15570654,"body_markdown":"Have you tried removing the folder `counter_src`, then creating the project (which will create the directory), then importing the source files?","body":"Have you tried removing the folder <code>counter_src</code>, then creating the project (which will create the directory), then importing the source files?"},{"owner":{"account_id":207361,"reputation":23998,"user_id":457172,"accept_rate":85,"display_name":"Martin"},"score":1,"creation_date":1343710300,"post_id":11733089,"comment_id":15570891,"body_markdown":"Hi justderb! Yep sure enough if i remove counter_src it works. It seems that if the directory exists and i uncheck the &quot;use default location&quot; then i get a problem. If the directory exists and i name project counter_srv, hence i don&#39;t need to uncheck &quot;use default locatioN&quot; it also works.... Is this a bug?","body":"Hi justderb! Yep sure enough if i remove counter_src it works. It seems that if the directory exists and i uncheck the &quot;use default location&quot; then i get a problem. If the directory exists and i name project counter_srv, hence i don&#39;t need to uncheck &quot;use default locatioN&quot; it also works.... Is this a bug?"},{"owner":{"account_id":1210041,"reputation":2854,"user_id":1178781,"accept_rate":82,"display_name":"justderb"},"score":0,"creation_date":1343710470,"post_id":11733089,"comment_id":15570924,"body_markdown":"So has this solved your problem?? Also, it might be... but I haven&#39;t looked too much into it :)","body":"So has this solved your problem?? Also, it might be... but I haven&#39;t looked too much into it :)"},{"owner":{"account_id":69533,"reputation":32924,"user_id":202229,"accept_rate":74,"display_name":"smci"},"score":2,"creation_date":1512428951,"post_id":11733089,"comment_id":82245662,"body_markdown":"Martin: a useability bug, yes. Eclipse&#39;s UX is terrible, especially with its Java-centric assumptions (for us Python users) that Building is some opaque sacred operation that is necessary, and causes projects to have to live in separate directories, which must be created from scratch. A warning dialog *&quot;Project directory already exists. Create anyway?&quot;* followed by Doing the Right Thing would be more user-friendly behavior by Eclipse instead of failing and requiring user to use a non-obvious separate command...","body":"Martin: a useability bug, yes. Eclipse&#39;s UX is terrible, especially with its Java-centric assumptions (for us Python users) that Building is some opaque sacred operation that is necessary, and causes projects to have to live in separate directories, which must be created from scratch. A warning dialog <i>&quot;Project directory already exists. Create anyway?&quot;</i> followed by Doing the Right Thing would be more user-friendly behavior by Eclipse instead of failing and requiring user to use a non-obvious separate command..."}],"answers":[{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1570484895,"creation_date":1343709046,"answer_id":11733123,"question_id":11733089,"body_markdown":"Your have dropped the Project in your workspace, and then trying to import it, that&#39;s the problem.\r\n\r\nThis has two solutions:\r\n\r\n**1.** More your project folder outside your workspace in some other location and then try.\r\n\r\n**2.** Go to `File ---&gt; new Project ---&gt; Select the existing project radio button ---&gt; browse to the project folder in your workspace ---&gt; finish`\r\n\r\nEdited\r\n---\r\n\r\nAssume D:\\MyDirectory\\MyWorkSpace        - Path of your WorkSpace\r\n\r\nDrop your project which you want to import in Eclipse in MyDirectory folder Not in MyWorkSpace, and try.","title":"Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project","body":"<p>Your have dropped the Project in your workspace, and then trying to import it, that's the problem.</p>\n\n<p>This has two solutions:</p>\n\n<p><strong>1.</strong> More your project folder outside your workspace in some other location and then try.</p>\n\n<p><strong>2.</strong> Go to <code>File ---&gt; new Project ---&gt; Select the existing project radio button ---&gt; browse to the project folder in your workspace ---&gt; finish</code></p>\n\n<h2>Edited</h2>\n\n<p>Assume D:\\MyDirectory\\MyWorkSpace        - Path of your WorkSpace</p>\n\n<p>Drop your project which you want to import in Eclipse in MyDirectory folder Not in MyWorkSpace, and try.</p>\n"},{"tags":[],"owner":{"account_id":1210041,"reputation":2854,"user_id":1178781,"accept_rate":82,"display_name":"justderb"},"down_vote_count":0,"up_vote_count":94,"is_accepted":true,"score":94,"last_activity_date":1537407223,"creation_date":1343710794,"answer_id":11733371,"question_id":11733089,"body_markdown":"Eclipse is erroring because if you try and create a project on a directory that exists, Eclipse doesn&#39;t know if it&#39;s an actual project or not - so it errors, saving you from losing work!\r\n\r\nSo you have two solutions:\r\n\r\n 1. Move the folder `counter_src` somewhere else, then create the project (which will create the directory), then import the source files back into the newly created `counter_src`.\r\n\r\n 2. Right-click on the project explorer and import an existing project, select `C:\\Users\\Martin\\Java\\Counter\\` as your root directory.  If Eclipse sees a project, you will be able to import it.","title":"Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project","body":"<p>Eclipse is erroring because if you try and create a project on a directory that exists, Eclipse doesn't know if it's an actual project or not - so it errors, saving you from losing work!</p>\n\n<p>So you have two solutions:</p>\n\n<ol>\n<li><p>Move the folder <code>counter_src</code> somewhere else, then create the project (which will create the directory), then import the source files back into the newly created <code>counter_src</code>.</p></li>\n<li><p>Right-click on the project explorer and import an existing project, select <code>C:\\Users\\Martin\\Java\\Counter\\</code> as your root directory.  If Eclipse sees a project, you will be able to import it.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":358624,"reputation":2046,"user_id":699513,"accept_rate":80,"display_name":"Eagle"},"down_vote_count":0,"up_vote_count":92,"is_accepted":false,"score":92,"last_activity_date":1365796694,"creation_date":1361729125,"answer_id":15054785,"question_id":11733089,"body_markdown":"So, I was having the same issue, but trying to **import Android code** via the &quot;Import...&quot; menu. When neither of the above two solutions worked on Eclipse Juno:\r\n\r\n- Eclipse -&gt; File -&gt; Import -&gt; General -&gt; Existing Project Into Workspace\r\n(NOTE: **NOT &#39;EXISTING ANDROID PROJECT&#39;**)\r\n\r\n- (Projects should import correctly, but should have errors. We must now attach the SDK to the project)\r\n\r\n- Right-Click on the project, Properties-&gt;Android-&gt;**Project Build Target**\r\n  Choose the appropriate build target (in doubt, use 4.0.3 in the project is newish, and use 2.2 if the project is oldish)\r\n\r\n- Click OK\r\n\r\nOnce the project rebuilds, everything should be back in order.\r\n\r\n(This was written when Eclipse Indigo was in vogue, and there may be changes as Google updates their tools to cover corner cases.)","title":"Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project","body":"<p>So, I was having the same issue, but trying to <strong>import Android code</strong> via the \"Import...\" menu. When neither of the above two solutions worked on Eclipse Juno:</p>\n\n<ul>\n<li><p>Eclipse -> File -> Import -> General -> Existing Project Into Workspace\n(NOTE: <strong>NOT 'EXISTING ANDROID PROJECT'</strong>)</p></li>\n<li><p>(Projects should import correctly, but should have errors. We must now attach the SDK to the project)</p></li>\n<li><p>Right-Click on the project, Properties->Android-><strong>Project Build Target</strong>\nChoose the appropriate build target (in doubt, use 4.0.3 in the project is newish, and use 2.2 if the project is oldish)</p></li>\n<li><p>Click OK</p></li>\n</ul>\n\n<p>Once the project rebuilds, everything should be back in order.</p>\n\n<p>(This was written when Eclipse Indigo was in vogue, and there may be changes as Google updates their tools to cover corner cases.)</p>\n"},{"tags":[],"owner":{"account_id":33814,"reputation":3282,"user_id":95008,"accept_rate":60,"display_name":"Spiralis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362370755,"creation_date":1362370755,"answer_id":15194489,"question_id":11733089,"body_markdown":"FWIW:\r\n\r\nNeither of the other suggestions worked for me. I had previously created a project with the same name which I then deleted. I recreated the base source-files (using PhoneGap) - which doesn&#39;t create the &quot;eclipse&quot;-project. I then tried to create an Android project using existing source files, but it failed with the same error message as the original question implies. \r\n\r\nThe solution for me was to move the source-folder and files out of the workspace, and use the same option, but this time check the option for copying the files into the workspace in the wizard.","title":"Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project","body":"<p>FWIW:</p>\n\n<p>Neither of the other suggestions worked for me. I had previously created a project with the same name which I then deleted. I recreated the base source-files (using PhoneGap) - which doesn't create the \"eclipse\"-project. I then tried to create an Android project using existing source files, but it failed with the same error message as the original question implies. </p>\n\n<p>The solution for me was to move the source-folder and files out of the workspace, and use the same option, but this time check the option for copying the files into the workspace in the wizard.</p>\n"},{"tags":[],"owner":{"account_id":1171710,"reputation":4598,"user_id":1148755,"accept_rate":67,"display_name":"deepwinter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1370992335,"creation_date":1370992335,"answer_id":17055338,"question_id":11733089,"body_markdown":"In my case clicking the checkbox for &#39;import project into workspace&#39; fixed the error, even though the project was already in the workspace folder and didn&#39;t actually get moved their by eclipse.","title":"Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project","body":"<p>In my case clicking the checkbox for 'import project into workspace' fixed the error, even though the project was already in the workspace folder and didn't actually get moved their by eclipse.</p>\n"},{"tags":[],"owner":{"account_id":2187756,"reputation":4096,"user_id":1935744,"display_name":"AWADI"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1373009205,"creation_date":1373009205,"answer_id":17483340,"question_id":11733089,"body_markdown":"simply &quot;CUT&quot; project folder and move it out of workspace directory and do the following\r\n\r\n    file=&gt;import=&gt;(select new directory)=&gt; mark (copy to my workspace) checkbox \r\n\r\nand you done !","title":"Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project","body":"<p>simply \"CUT\" project folder and move it out of workspace directory and do the following</p>\n\n<pre><code>file=&gt;import=&gt;(select new directory)=&gt; mark (copy to my workspace) checkbox \n</code></pre>\n\n<p>and you done !</p>\n"},{"tags":[],"owner":{"account_id":221181,"reputation":1082,"user_id":479020,"accept_rate":90,"display_name":"Anuj Mehta"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1378124649,"creation_date":1378124649,"answer_id":18573222,"question_id":11733089,"body_markdown":"In my case checking the check-box \r\n\r\n&gt; **&quot;Copy project into workspace&quot;**\r\n\r\n did the trick.","title":"Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project","body":"<p>In my case checking the check-box </p>\n\n<blockquote>\n  <p><strong>\"Copy project into workspace\"</strong></p>\n</blockquote>\n\n<p>did the trick.</p>\n"},{"tags":[],"owner":{"account_id":331891,"reputation":19,"user_id":2324327,"display_name":"jlcfly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381763404,"creation_date":1381763404,"answer_id":19363383,"question_id":11733089,"body_markdown":"I know this is older, but wanted to contribute another possibly solution.\r\n\r\nIf you want to keep the project location, as I did, I found that copying the .project file from another project into the project&#39;s directory, then editing the .project file to name it properly, then choosing the Import Existing Projects into Workspace option worked for me.\r\n\r\nIn Windows, I used a file monitor to see what Eclipse was doing, and it was simply erroring out for some unknown reason when trying to create the .project file. So, I did that manually and it worked for me.","title":"Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project","body":"<p>I know this is older, but wanted to contribute another possibly solution.</p>\n\n<p>If you want to keep the project location, as I did, I found that copying the .project file from another project into the project's directory, then editing the .project file to name it properly, then choosing the Import Existing Projects into Workspace option worked for me.</p>\n\n<p>In Windows, I used a file monitor to see what Eclipse was doing, and it was simply erroring out for some unknown reason when trying to create the .project file. So, I did that manually and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390539779,"creation_date":1390539779,"answer_id":21324854,"question_id":11733089,"body_markdown":"**Go to the actual FILE menu and create a new general project.**\r\n\r\nIf the project type isn&#39;t recognized, preventing one of these import methods from working, then try this.  Once you add the generic project, you can then add support for whatever language you require.","title":"Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project","body":"<p><strong>Go to the actual FILE menu and create a new general project.</strong></p>\n\n<p>If the project type isn't recognized, preventing one of these import methods from working, then try this.  Once you add the generic project, you can then add support for whatever language you require.</p>\n"},{"tags":[],"owner":{"account_id":1469094,"reputation":11033,"user_id":1381093,"accept_rate":52,"display_name":"JackDev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1395122698,"creation_date":1395122698,"answer_id":22471551,"question_id":11733089,"body_markdown":"This too took me sometime to figure out.\r\n\r\n**Solution:**\r\n\r\nTo create a new **Maven Project** under the existing workspace, just have the &quot;**Use default Workspace location**&quot; ticked (**Ignore what is in the grayed out location text input**).\r\n\r\nThe name of the project will be determined by you **Artifact Id** in step 2 of the creation wizard.\r\n\r\n**Reasoning:**\r\n\r\nIt was so confusing because in my case, because when I selected to create a new Maven Project: the default workspace loaction is ticked and directly proceeding it is the grayed out &quot;Location&quot; text input had the workspace location + the existing project I was looking at before choose to create a new Maven Project. (ie: Location = &#39;[workspace path]/last looked at project&#39;)\r\n\r\nSo I unticked the default workspace location box and entered in &#39;[workspace path]/new project&#39;, which didn&#39;t work because eclipse expects the [workspace path] to be different compared to the default path. (Otherwise we would of selected the default workspace check box). \r\n\r\n\r\n","title":"Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project","body":"<p>This too took me sometime to figure out.</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>To create a new <strong>Maven Project</strong> under the existing workspace, just have the \"<strong>Use default Workspace location</strong>\" ticked (<strong>Ignore what is in the grayed out location text input</strong>).</p>\n\n<p>The name of the project will be determined by you <strong>Artifact Id</strong> in step 2 of the creation wizard.</p>\n\n<p><strong>Reasoning:</strong></p>\n\n<p>It was so confusing because in my case, because when I selected to create a new Maven Project: the default workspace loaction is ticked and directly proceeding it is the grayed out \"Location\" text input had the workspace location + the existing project I was looking at before choose to create a new Maven Project. (ie: Location = '[workspace path]/last looked at project')</p>\n\n<p>So I unticked the default workspace location box and entered in '[workspace path]/new project', which didn't work because eclipse expects the [workspace path] to be different compared to the default path. (Otherwise we would of selected the default workspace check box). </p>\n"},{"tags":[],"owner":{"account_id":7531567,"reputation":2637,"user_id":5719544,"display_name":"gomisha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524233504,"creation_date":1524233504,"answer_id":49943640,"question_id":11733089,"body_markdown":"I got this error when trying to create a new Eclipse project inside a newly cloned Git repo folder. \r\n\r\nThis worked for me:\r\n\r\n1) clone the Git repo (in my case it was to a subfolder of the Eclipse default workspace)\r\n\r\n2) create the new Eclipse project in the default workspace (one level above the cloned Git repo folder)\r\n\r\n3) export the new Eclipse project from the default workspace to the cloned repo directory: \r\n\r\n    a) right click on project --&gt; Export --&gt; General --&gt; File System\r\n    b) select the new Eclipse project\r\n    c) set the destination directory to export to (as the Git repo folder)\r\n\r\n4) remove the Eclipse project form the workspace (because it&#39;s still the one that uses the default workspace)\r\n\r\n    right click on project and select &quot;Delete&quot;\r\n\r\n\r\n5) open the exported Eclipse project from inside the Git repo directory\r\n\r\n    a) File --&gt; Open Project from File System or Archive\r\n    b) set the &quot;Import source&quot; folder as the Git repo folder\r\n    c) check the project to import (that you just exported there)\r\n\r\n","title":"Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project","body":"<p>I got this error when trying to create a new Eclipse project inside a newly cloned Git repo folder. </p>\n\n<p>This worked for me:</p>\n\n<p>1) clone the Git repo (in my case it was to a subfolder of the Eclipse default workspace)</p>\n\n<p>2) create the new Eclipse project in the default workspace (one level above the cloned Git repo folder)</p>\n\n<p>3) export the new Eclipse project from the default workspace to the cloned repo directory: </p>\n\n<pre><code>a) right click on project --&gt; Export --&gt; General --&gt; File System\nb) select the new Eclipse project\nc) set the destination directory to export to (as the Git repo folder)\n</code></pre>\n\n<p>4) remove the Eclipse project form the workspace (because it's still the one that uses the default workspace)</p>\n\n<pre><code>right click on project and select \"Delete\"\n</code></pre>\n\n<p>5) open the exported Eclipse project from inside the Git repo directory</p>\n\n<pre><code>a) File --&gt; Open Project from File System or Archive\nb) set the \"Import source\" folder as the Git repo folder\nc) check the project to import (that you just exported there)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650632994,"creation_date":1650632994,"answer_id":71969309,"question_id":11733089,"body_markdown":"&lt;sub&gt;&lt;sup&gt;this may not solve OP&#39;s question, but its relavent&lt;/sub&gt;&lt;/sup&gt;\r\n\r\n***Given::***\r\n \r\nLets say you have an existing project in Eclipse, \r\n\r\ncall `ProjectA`, in path `G:\\wsp\\eclipse\\ProjectA`\r\n\r\n***Problem::***\r\n\r\nYou want to **rename the folder name** `G:\\wsp\\eclipse\\ProjectA` of the project to be `G:\\wsp\\eclipse\\FolderB`; \r\n\r\nwhile keeping the project name `ProjectA` as it was. \r\n\r\n- if you directly modify the folder name &amp;&amp; delete &amp; re-import that project back into Eclipse; \r\n  \r\n  then you probably get some buggy behavior (-- you cant find the project / import that project properly). \r\n\r\n- if you press `alt shift v` -- move (refactor) the project; \r\n  \r\n  then you get the **error `overlaps the location of another project`**.\r\n\r\n***Solution::***\r\n1. `F2` &gt; **rename the project** to be `FolderB`\r\n\r\n2. `alt shift v` &gt; move **(refactor) the project to path** `G:\\wsp\\eclipse\\FolderB` \r\n  \r\n   - [here, the error of `overlap` will **not** present if you have those 2 names to be the **same**]\r\n     \r\n     (and now, you *successfully renamed the folder name*.)\r\n\r\n3. `F2` &gt; rename the project back to be `ProjectA`","title":"Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project","body":"<p><sub><sup>this may not solve OP's question, but its relavent</sub></sup></p>\n<p><em><strong>Given::</strong></em></p>\n<p>Lets say you have an existing project in Eclipse,</p>\n<p>call <code>ProjectA</code>, in path <code>G:\\wsp\\eclipse\\ProjectA</code></p>\n<p><em><strong>Problem::</strong></em></p>\n<p>You want to <strong>rename the folder name</strong> <code>G:\\wsp\\eclipse\\ProjectA</code> of the project to be <code>G:\\wsp\\eclipse\\FolderB</code>;</p>\n<p>while keeping the project name <code>ProjectA</code> as it was.</p>\n<ul>\n<li><p>if you directly modify the folder name &amp;&amp; delete &amp; re-import that project back into Eclipse;</p>\n<p>then you probably get some buggy behavior (-- you cant find the project / import that project properly).</p>\n</li>\n<li><p>if you press <code>alt shift v</code> -- move (refactor) the project;</p>\n<p>then you get the <strong>error <code>overlaps the location of another project</code></strong>.</p>\n</li>\n</ul>\n<p><em><strong>Solution::</strong></em></p>\n<ol>\n<li><p><code>F2</code> &gt; <strong>rename the project</strong> to be <code>FolderB</code></p>\n</li>\n<li><p><code>alt shift v</code> &gt; move <strong>(refactor) the project to path</strong> <code>G:\\wsp\\eclipse\\FolderB</code></p>\n<ul>\n<li><p>[here, the error of <code>overlap</code> will <strong>not</strong> present if you have those 2 names to be the <strong>same</strong>]</p>\n<p>(and now, you <em>successfully renamed the folder name</em>.)</p>\n</li>\n</ul>\n</li>\n<li><p><code>F2</code> &gt; rename the project back to be <code>ProjectA</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":207361,"reputation":23998,"user_id":457172,"accept_rate":85,"display_name":"Martin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125159,"favorite_count":0,"down_vote_count":0,"up_vote_count":115,"accepted_answer_id":11733371,"answer_count":12,"score":115,"last_activity_date":1650632994,"creation_date":1343708774,"question_id":11733089,"body_markdown":"I keep getting an error message in Eclipse when creating a new project.\r\n\r\nI have created a workspace at the level\r\n\r\n&gt; C:\\Users\\Martin\\Java\\Counter\r\n\r\nInside Counter there are no files but there is a directory called counter_src which contains source files for the project Counter\r\n\r\nSo in Eclipse I do, New Java Project, and then uncheck default location and choose the directory \r\n\r\ncounter_src  (which is one level down from Counter)\r\n\r\nbut it now displays\r\n\r\n\r\n&gt;  C:\\Users\\Martin\\Java\\Counter\\counter_src overlaps the location of\r\n&gt; another project: &#39;counter_src&#39;\r\n\r\nNow if I create my workspace at \r\n\r\n&gt; C:\\Users\\Martin\\Java\\\r\n\r\nwhich means my counter_src is actually 2 levels down then it allows me, but the problem is that the directory Java contains lots of projects so I wanted to create the workspace in Counter (which has no files) which has subdirectory of counter_src where my source files are.\r\n\r\nAlso tested creating directory in C:\\Users\\Martin\\Java\\ and it appears to work also but I didn&#39;t want to create another subdirectory in &quot;C:\\Users\\Martin\\Java\\&quot; just to store my workspace for 1 project.\r\n","title":"Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project","body":"<p>I keep getting an error message in Eclipse when creating a new project.</p>\n\n<p>I have created a workspace at the level</p>\n\n<blockquote>\n  <p>C:\\Users\\Martin\\Java\\Counter</p>\n</blockquote>\n\n<p>Inside Counter there are no files but there is a directory called counter_src which contains source files for the project Counter</p>\n\n<p>So in Eclipse I do, New Java Project, and then uncheck default location and choose the directory </p>\n\n<p>counter_src  (which is one level down from Counter)</p>\n\n<p>but it now displays</p>\n\n<blockquote>\n  <p>C:\\Users\\Martin\\Java\\Counter\\counter_src overlaps the location of\n  another project: 'counter_src'</p>\n</blockquote>\n\n<p>Now if I create my workspace at </p>\n\n<blockquote>\n  <p>C:\\Users\\Martin\\Java\\</p>\n</blockquote>\n\n<p>which means my counter_src is actually 2 levels down then it allows me, but the problem is that the directory Java contains lots of projects so I wanted to create the workspace in Counter (which has no files) which has subdirectory of counter_src where my source files are.</p>\n\n<p>Also tested creating directory in C:\\Users\\Martin\\Java\\ and it appears to work also but I didn't want to create another subdirectory in \"C:\\Users\\Martin\\Java\\\" just to store my workspace for 1 project.</p>\n"},{"tags":["java","encoding"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1650634725,"post_id":71969293,"comment_id":127172256,"body_markdown":"The font your console use must support these characters, that it obviously does not. Change the font for it!","body":"The font your console use must support these characters, that it obviously does not. Change the font for it!"},{"owner":{"account_id":25035987,"reputation":1,"user_id":18893367,"display_name":"Raman Galkin"},"score":0,"creation_date":1650638920,"post_id":71969293,"comment_id":127173956,"body_markdown":"I&#39;ve been trying, but it doesn&#39;t work too","body":"I&#39;ve been trying, but it doesn&#39;t work too"},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":1,"creation_date":1650639794,"post_id":71969293,"comment_id":127174271,"body_markdown":"Does &quot;to the console&quot; mean the console sub-window of the IntelliJ IDEA IDE? Or the Windows terminal? Or what exactly? Make sure that the component that serves as &quot;the console&quot; accepts UTF-8, uses a font that contains glyphs for the chess symbols, and make sure that in your program, System.out uses UTF-8 encoding.","body":"Does &quot;to the console&quot; mean the console sub-window of the IntelliJ IDEA IDE? Or the Windows terminal? Or what exactly? Make sure that the component that serves as &quot;the console&quot; accepts UTF-8, uses a font that contains glyphs for the chess symbols, and make sure that in your program, System.out uses UTF-8 encoding."}],"owner":{"account_id":25035987,"reputation":1,"user_id":18893367,"display_name":"Raman Galkin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650632904,"creation_date":1650632904,"question_id":71969293,"body_markdown":"I&#39;m trying to implement a training task and output chess pieces to the console, but no matter how I change the encoding, the console still shows question marks instead of a chess piece. I will be grateful for your help! i&#39;m using Intelij Idea \r\n\r\n    public class Chess {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;♝&quot;);\r\n        }\r\n    }\r\n\r\n\r\nand in console i see : ? insread of ♝\r\n\r\nIm trying UTF - 8, and many others Encodings, but nothig does work. I&#39;m om 8.1 windows","title":"Output to the console Intelij Idea chess pieces in java","body":"<p>I'm trying to implement a training task and output chess pieces to the console, but no matter how I change the encoding, the console still shows question marks instead of a chess piece. I will be grateful for your help! i'm using Intelij Idea</p>\n<pre><code>public class Chess {\n    public static void main(String[] args) {\n        System.out.println(&quot;♝&quot;);\n    }\n}\n</code></pre>\n<p>and in console i see : ? insread of ♝</p>\n<p>Im trying UTF - 8, and many others Encodings, but nothig does work. I'm om 8.1 windows</p>\n"},{"tags":["java","escpos"],"owner":{"account_id":2142244,"reputation":2287,"user_id":1900620,"accept_rate":41,"display_name":"Thiago Say&#227;o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650632667,"creation_date":1561664032,"question_id":56797569,"body_markdown":"I am using this sample for printing images (with the correct 8 bits shift):\r\n\r\nhttps://stackoverflow.com/questions/26269019/print-bitmap-full-page-width-in-thermal-dot-printer-using-esc-pos-in-java\r\n\r\nWhen I set the font to 9x17 instead of 12x24 the image gets printed with stripes:\r\n\r\n[![ESC POS printed images][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bpy8s.png\r\n\r\nThe left image is with default font (12x24) and the right image is with alternative smaller/condensed font.\r\n\r\nI am using the page mode to print image on the left and text on the right. Seems that I cannot set one font for each side, so that&#39;s why I need the condensed font.\r\n\r\nI set it with:\r\n    \r\n    private static final byte[] CONDENSED_ON = {ESC, 0x4D, 0x01};\r\n\r\nAny hints on how I could get rid of the stripes?\r\n\r\nTried to set line height to 17, no success.\r\n\r\nFull code:\r\n\r\n    public EscPosPrinter imprimeImagem(BufferedImage image) throws IOException {\r\n        BitSet imageBits = getBitsImageData(image);\r\n    \r\n        int lsb = (image.getWidth() &amp; 0xFF);\r\n        int msb = ((image.getWidth() &gt;&gt; 8) &amp; 0xFF);\r\n    \r\n        setLineSize(24);\r\n    \r\n        byte[] modoImagem = {ESC, 0x2A, (byte) 33, (byte) lsb, (byte) msb}; //33 = 24 pontos densidade dupla\r\n    \r\n        int offset = 0;\r\n        while(offset &lt; image.getHeight()) {\r\n            envia(modoImagem);\r\n    \r\n            int imageDataLineIndex = 0;\r\n            byte[] imageDataLine = new byte[3 * image.getWidth()];\r\n    \r\n            for(int x = 0; x &lt; image.getWidth(); ++x) {\r\n                // Remember, 24 dots = 24 bits = 3 bytes.\r\n                // The &#39;k&#39; variable keeps track of which of those\r\n                // three bytes that we&#39;re currently scribbling into.\r\n                for(int k = 0; k &lt; 3; ++k) {\r\n                    byte slice = 0;\r\n    \r\n                    // A byte is 8 bits. The &#39;b&#39; variable keeps track\r\n                    // of which bit in the byte we&#39;re recording.\r\n                    for(int b = 0; b &lt; 8; ++b) {\r\n                        // Calculate the y position that we&#39;re currently\r\n                        // trying to draw. We take our offset, divide it\r\n                        // by 8 so we&#39;re talking about the y offset in\r\n                        // terms of bytes, add our current &#39;k&#39; byte\r\n                        // offset to that, multiple by 8 to get it in terms\r\n                        // of bits again, and add our bit offset to it.\r\n                        int y = (((offset / 8) + k) * 8) + b;\r\n    \r\n                        // Calculate the location of the pixel we want in the bit array.\r\n                        // It&#39;ll be at (y * width) + x.\r\n                        int i = (y * image.getWidth()) + x;\r\n    \r\n                        // If the image (or this stripe of the image)\r\n                        // is shorter than 24 dots, pad with zero.\r\n                        boolean v = false;\r\n                        if(i &lt; imageBits.length()) {\r\n                            v = imageBits.get(i);\r\n                        }\r\n                        // Finally, store our bit in the byte that we&#39;re currently\r\n                        // scribbling to. Our current &#39;b&#39; is actually the exact\r\n                        // opposite of where we want it to be in the byte, so\r\n                        // subtract it from 7, shift our bit into place in a temp\r\n                        // byte, and OR it with the target byte to get it into there.\r\n                        slice |= (byte) ((v ? 1 : 0) &lt;&lt; (7 - b));\r\n                    }\r\n                    imageDataLine[imageDataLineIndex + k] = slice;\r\n                }\r\n                imageDataLineIndex += 3;\r\n            }\r\n    \r\n            offset += 24;\r\n    \r\n            send(imageDataLine);\r\n            send(LF);\r\n        }\r\n        resetLineSize();\r\n    \r\n        return this;\r\n    }","title":"ESC / POS - How to print images with secondary font?","body":"<p>I am using this sample for printing images (with the correct 8 bits shift):</p>\n\n<p><a href=\"https://stackoverflow.com/questions/26269019/print-bitmap-full-page-width-in-thermal-dot-printer-using-esc-pos-in-java\">Print bitmap full page width in thermal dot printer using ESC/POS in java</a></p>\n\n<p>When I set the font to 9x17 instead of 12x24 the image gets printed with stripes:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bpy8s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bpy8s.png\" alt=\"ESC POS printed images\"></a></p>\n\n<p>The left image is with default font (12x24) and the right image is with alternative smaller/condensed font.</p>\n\n<p>I am using the page mode to print image on the left and text on the right. Seems that I cannot set one font for each side, so that's why I need the condensed font.</p>\n\n<p>I set it with:</p>\n\n<pre><code>private static final byte[] CONDENSED_ON = {ESC, 0x4D, 0x01};\n</code></pre>\n\n<p>Any hints on how I could get rid of the stripes?</p>\n\n<p>Tried to set line height to 17, no success.</p>\n\n<p>Full code:</p>\n\n<pre><code>public EscPosPrinter imprimeImagem(BufferedImage image) throws IOException {\n    BitSet imageBits = getBitsImageData(image);\n\n    int lsb = (image.getWidth() &amp; 0xFF);\n    int msb = ((image.getWidth() &gt;&gt; 8) &amp; 0xFF);\n\n    setLineSize(24);\n\n    byte[] modoImagem = {ESC, 0x2A, (byte) 33, (byte) lsb, (byte) msb}; //33 = 24 pontos densidade dupla\n\n    int offset = 0;\n    while(offset &lt; image.getHeight()) {\n        envia(modoImagem);\n\n        int imageDataLineIndex = 0;\n        byte[] imageDataLine = new byte[3 * image.getWidth()];\n\n        for(int x = 0; x &lt; image.getWidth(); ++x) {\n            // Remember, 24 dots = 24 bits = 3 bytes.\n            // The 'k' variable keeps track of which of those\n            // three bytes that we're currently scribbling into.\n            for(int k = 0; k &lt; 3; ++k) {\n                byte slice = 0;\n\n                // A byte is 8 bits. The 'b' variable keeps track\n                // of which bit in the byte we're recording.\n                for(int b = 0; b &lt; 8; ++b) {\n                    // Calculate the y position that we're currently\n                    // trying to draw. We take our offset, divide it\n                    // by 8 so we're talking about the y offset in\n                    // terms of bytes, add our current 'k' byte\n                    // offset to that, multiple by 8 to get it in terms\n                    // of bits again, and add our bit offset to it.\n                    int y = (((offset / 8) + k) * 8) + b;\n\n                    // Calculate the location of the pixel we want in the bit array.\n                    // It'll be at (y * width) + x.\n                    int i = (y * image.getWidth()) + x;\n\n                    // If the image (or this stripe of the image)\n                    // is shorter than 24 dots, pad with zero.\n                    boolean v = false;\n                    if(i &lt; imageBits.length()) {\n                        v = imageBits.get(i);\n                    }\n                    // Finally, store our bit in the byte that we're currently\n                    // scribbling to. Our current 'b' is actually the exact\n                    // opposite of where we want it to be in the byte, so\n                    // subtract it from 7, shift our bit into place in a temp\n                    // byte, and OR it with the target byte to get it into there.\n                    slice |= (byte) ((v ? 1 : 0) &lt;&lt; (7 - b));\n                }\n                imageDataLine[imageDataLineIndex + k] = slice;\n            }\n            imageDataLineIndex += 3;\n        }\n\n        offset += 24;\n\n        send(imageDataLine);\n        send(LF);\n    }\n    resetLineSize();\n\n    return this;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1650635827,"post_id":71969126,"comment_id":127172746,"body_markdown":"What is that `Client` type you are using?","body":"What is that <code>Client</code> type you are using?"}],"answers":[{"tags":[],"owner":{"account_id":4008871,"reputation":163,"user_id":3302843,"display_name":"cloooze"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1650632622,"creation_date":1650632622,"answer_id":71969223,"question_id":71969126,"body_markdown":"How about building your target URL as follows:\r\n\r\n    String clientURL=  String.format(&quot;/api/employees/v1/%s/employee/%s&quot;, id, status);","title":"Consume REST API with parameters in another REST API","body":"<p>How about building your target URL as follows:</p>\n<pre><code>String clientURL=  String.format(&quot;/api/employees/v1/%s/employee/%s&quot;, id, status);\n</code></pre>\n"}],"owner":{"account_id":1217091,"reputation":49,"user_id":18665270,"display_name":"user18665270"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1147,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1650632622,"creation_date":1650632198,"question_id":71969126,"body_markdown":"    @GetMapping(path = &quot;/api/v1/{id}/{status}&quot;)  *** Line -1 \r\n    public String getEmployeeStatus(@PathVariable(value = &quot;id&quot;) String id,\r\n    \t\t\t@PathVariable(value = &quot;status&quot;) String status)\r\n    {\r\n       // here i want to call other REST API. But i want to pass path variables like {id} and {status} to the consuming API/Client URL.\r\n            String clientURL=  &quot;/api/employees/v1/{id}/employee/{status}&quot;\r\n            String name = &quot;abc&quot;;\r\n    \t\tString password = &quot;bac&quot;;\r\n    \t\tString authString = name + &quot;:&quot; + password;\r\n    \t\tString authStringEnc = new String(Base64.getEncoder().encode(authString.getBytes()));\r\n    \t\tString authorizationHeader = &quot;Basic &quot; + authStringEnc;\r\n    \t\tClient restClient = Client.create();\r\n            WebResource webResource = restClient.resource(clientURL);  *** line 14\r\n\r\n    \t\tClientResponse resp = webResource.accept(&quot;application/json&quot;).header(&quot;Authorization&quot;, &quot;Basic &quot; + authStringEnc).get(ClientResponse.class);\r\n    \r\n    }\r\n\r\n@line -14, i want to pass {id}, {status} to the client URL from my GET API(line 1). i dont know how to pass these values to the consuming api.\r\n\r\nhow to add even if i get clientURL from properties file.\r\n","title":"Consume REST API with parameters in another REST API","body":"<pre><code>@GetMapping(path = &quot;/api/v1/{id}/{status}&quot;)  *** Line -1 \npublic String getEmployeeStatus(@PathVariable(value = &quot;id&quot;) String id,\n            @PathVariable(value = &quot;status&quot;) String status)\n{\n   // here i want to call other REST API. But i want to pass path variables like {id} and {status} to the consuming API/Client URL.\n        String clientURL=  &quot;/api/employees/v1/{id}/employee/{status}&quot;\n        String name = &quot;abc&quot;;\n        String password = &quot;bac&quot;;\n        String authString = name + &quot;:&quot; + password;\n        String authStringEnc = new String(Base64.getEncoder().encode(authString.getBytes()));\n        String authorizationHeader = &quot;Basic &quot; + authStringEnc;\n        Client restClient = Client.create();\n        WebResource webResource = restClient.resource(clientURL);  *** line 14\n\n        ClientResponse resp = webResource.accept(&quot;application/json&quot;).header(&quot;Authorization&quot;, &quot;Basic &quot; + authStringEnc).get(ClientResponse.class);\n\n}\n</code></pre>\n<p>@line -14, i want to pass {id}, {status} to the client URL from my GET API(line 1). i dont know how to pass these values to the consuming api.</p>\n<p>how to add even if i get clientURL from properties file.</p>\n"},{"tags":["java","java-8","rx-java","project-reactor","completable-future"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1530082039,"post_id":49203360,"comment_id":89102899,"body_markdown":"&quot;_which in turn will add overhead on the first traversal_&quot; - negligible, ignore this.","body":"&quot;<i>which in turn will add overhead on the first traversal</i>&quot; - negligible, ignore this."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1530082131,"post_id":49203360,"comment_id":89102942,"body_markdown":"`Flux` is an async reactive pipeline. `List` is, well a `List`. What do you **need**? You are comparing apples to oranges.","body":"<code>Flux</code> is an async reactive pipeline. <code>List</code> is, well a <code>List</code>. What do you <b>need</b>? You are comparing apples to oranges."},{"owner":{"account_id":1161310,"reputation":8921,"user_id":1140754,"accept_rate":70,"display_name":"Miguel Gamboa"},"score":1,"creation_date":1530093720,"post_id":49203360,"comment_id":89109704,"body_markdown":"@BoristheSpider I am not comparing `List` to `Flux`.  I am comparing a `CF&lt;List&gt;` to `Flux`.","body":"@BoristheSpider I am not comparing <code>List</code> to <code>Flux</code>.  I am comparing a <code>CF&lt;List&gt;</code> to <code>Flux</code>."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1530094041,"post_id":49203360,"comment_id":89109952,"body_markdown":"That&#39;s a `Mono&lt;List&lt;T&gt;&gt;` not a `Flux&lt;T&gt;`. It should be obvious that the two are different.","body":"That&#39;s a <code>Mono&lt;List&lt;T&gt;&gt;</code> not a <code>Flux&lt;T&gt;</code>. It should be obvious that the two are different."},{"owner":{"account_id":1161310,"reputation":8921,"user_id":1140754,"accept_rate":70,"display_name":"Miguel Gamboa"},"score":0,"creation_date":1530098577,"post_id":49203360,"comment_id":89112854,"body_markdown":"`Mono&lt;List&lt;T&gt;&gt;` is the same as `CF&lt;List&lt;T&gt;&gt;`. NO advantage in converting from `CF&lt;List&lt;T&gt;&gt;` to `Mono&lt;List&lt;T&gt;&gt;`.","body":"<code>Mono&lt;List&lt;T&gt;&gt;</code> is the same as <code>CF&lt;List&lt;T&gt;&gt;</code>. NO advantage in converting from <code>CF&lt;List&lt;T&gt;&gt;</code> to <code>Mono&lt;List&lt;T&gt;&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":3197637,"reputation":1437,"user_id":2700478,"accept_rate":29,"display_name":"St&#233;phane Appercel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1521103855,"creation_date":1520870456,"answer_id":49239587,"question_id":49203360,"body_markdown":"Once you have downloaded the league table, and the team names are extracted from this table, I&#39;m not sure you need a back-pressure ready stream to iterate over these items. A conversion of the stream to a standard list (or array) should be good enough, and should probably have better performance, no?\r\n\r\nFor instance:\r\n\r\n    String[] teamNames = teams.join().toArray(String[]::new);","title":"Is it correct to convert a CompletableFuture&lt;Stream&lt;T&gt;&gt; to a Publisher&lt;T&gt;?","body":"<p>Once you have downloaded the league table, and the team names are extracted from this table, I'm not sure you need a back-pressure ready stream to iterate over these items. A conversion of the stream to a standard list (or array) should be good enough, and should probably have better performance, no?</p>\n\n<p>For instance:</p>\n\n<pre><code>String[] teamNames = teams.join().toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2596927,"reputation":6361,"user_id":2250391,"accept_rate":38,"display_name":"youhans"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1650632428,"creation_date":1530081730,"answer_id":51056128,"question_id":49203360,"body_markdown":"        CompletableFuture&lt;Stream&lt;String&gt;&gt; teams = ...;\r\n        Flux&lt;String&gt; teamsFlux = Mono.fromFuture(teams).flatMapMany(stream -&gt; Flux.fromStream(stream));\r\n\r\n`Flux.fromStream(teams::join)` is a code smell because it&#39;s blocking the current thread to fetch the result from the `CompletableFuture` which is running on another thread.","title":"Is it correct to convert a CompletableFuture&lt;Stream&lt;T&gt;&gt; to a Publisher&lt;T&gt;?","body":"<pre><code>    CompletableFuture&lt;Stream&lt;String&gt;&gt; teams = ...;\n    Flux&lt;String&gt; teamsFlux = Mono.fromFuture(teams).flatMapMany(stream -&gt; Flux.fromStream(stream));\n</code></pre>\n<p><code>Flux.fromStream(teams::join)</code> is a code smell because it's blocking the current thread to fetch the result from the <code>CompletableFuture</code> which is running on another thread.</p>\n"}],"owner":{"account_id":1161310,"reputation":8921,"user_id":1140754,"accept_rate":70,"display_name":"Miguel Gamboa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10497,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":51056128,"answer_count":2,"score":25,"last_activity_date":1650632428,"creation_date":1520635941,"question_id":49203360,"body_markdown":"To allow multiple iterations on the resulting stream from a `CompletableFuture&lt;Stream&lt;String&gt;&gt;` I am considering one of the following approaches:\r\n\r\n   1. Convert the resulting future to `CompletableFuture&lt;List&lt;String&gt;&gt;` through: `teams.thenApply(st -&gt; st.collect(toList()))`\r\n\r\n   2. Convert the resulting future to `Flux&lt;String&gt;` with cache: `Flux.fromStream(teams::join).cache();`\r\n\r\n`Flux&lt;T&gt;` is the implementation of `Publisher&lt;T&gt;` in project reactor.\r\n\r\n**Use case:**\r\n\r\nI would like to get a sequence with the premier league teams names (e.g. `Stream&lt;String&gt;`) from a data source which provides a `League` object with a `Standing[]` (based on football-data RESTful API, e.g. http://api.football-data.org/v1/soccerseasons/445/leagueTable). Using `AsyncHttpClient` and `Gson` we have:\r\n\r\n    CompletableFuture&lt;Stream&lt;String&gt;&gt; teams = asyncHttpClient\r\n        .prepareGet(&quot;http://api.football-data.org/v1/soccerseasons/445/leagueTable&quot;)\r\n        .execute()\r\n        .toCompletableFuture()\r\n        .thenApply(Response::getResponseBody)\r\n        .thenApply(body -&gt; gson.fromJson(body, League.class));\r\n        .thenApply(l -&gt; stream(l.standings).map(s -&gt; s.teamName));\r\n\r\nTo re-use the resulting stream I have two options:\r\n\r\n    1. CompletableFuture&lt;List&lt;String&gt;&gt; res = teams.thenApply(st -&gt; st.collect(toList()))\r\n\r\n    2. Flux&lt;String&gt; res = Flux.fromStream(teams::join).cache()\r\n\r\n`Flux&lt;T&gt;` is less verbose and provides all that I need. Yet, is it correct to use it in this scenario?\r\n\r\nOr should I use `CompletableFuture&lt;List&lt;String&gt;&gt;` instead? Or is there any other better alternative?\r\n\r\n\r\n**UPDATED with some thoughts (2018-03-16)**: \r\n\r\n`CompletableFuture&lt;List&lt;String&gt;&gt;`:\r\n\r\n* [PROS] The `List&lt;String&gt;` will be collected in a continuation and when we need to proceed with the result of the future, maybe it is already completed.\r\n* [CONS] Declaration verbosity.\r\n* [CONS] If we just want to use it once, then we did not need to collect those items in a `List&lt;T&gt;`.\r\n\r\n`Flux&lt;String&gt;`:\r\n\r\n* [PROS] Declaration conciseness\r\n* [PROS] If we just want to use it once, then we can omit `.cache()` and forward it to the next layer, which can take advantage of the reactive API, e.g. web flux reactive controller, e.g. `@GetMapping(produces =MediaType.TEXT_EVENT_STREAM)   public Flux&lt;String&gt; getTeams() {…}`\r\n* [CONS] If we want to reuse that `Flux&lt;T&gt;` we have to wrap it in a cacheable `Flux&lt;T&gt;` (`….cache()`) which in turn will  add overhead on the first traversal, because it has to store the resulting items in an internal cache.\r\n\r\n","title":"Is it correct to convert a CompletableFuture&lt;Stream&lt;T&gt;&gt; to a Publisher&lt;T&gt;?","body":"<p>To allow multiple iterations on the resulting stream from a <code>CompletableFuture&lt;Stream&lt;String&gt;&gt;</code> I am considering one of the following approaches:</p>\n\n<ol>\n<li><p>Convert the resulting future to <code>CompletableFuture&lt;List&lt;String&gt;&gt;</code> through: <code>teams.thenApply(st -&gt; st.collect(toList()))</code></p></li>\n<li><p>Convert the resulting future to <code>Flux&lt;String&gt;</code> with cache: <code>Flux.fromStream(teams::join).cache();</code></p></li>\n</ol>\n\n<p><code>Flux&lt;T&gt;</code> is the implementation of <code>Publisher&lt;T&gt;</code> in project reactor.</p>\n\n<p><strong>Use case:</strong></p>\n\n<p>I would like to get a sequence with the premier league teams names (e.g. <code>Stream&lt;String&gt;</code>) from a data source which provides a <code>League</code> object with a <code>Standing[]</code> (based on football-data RESTful API, e.g. <a href=\"http://api.football-data.org/v1/soccerseasons/445/leagueTable\" rel=\"noreferrer\">http://api.football-data.org/v1/soccerseasons/445/leagueTable</a>). Using <code>AsyncHttpClient</code> and <code>Gson</code> we have:</p>\n\n<pre><code>CompletableFuture&lt;Stream&lt;String&gt;&gt; teams = asyncHttpClient\n    .prepareGet(\"http://api.football-data.org/v1/soccerseasons/445/leagueTable\")\n    .execute()\n    .toCompletableFuture()\n    .thenApply(Response::getResponseBody)\n    .thenApply(body -&gt; gson.fromJson(body, League.class));\n    .thenApply(l -&gt; stream(l.standings).map(s -&gt; s.teamName));\n</code></pre>\n\n<p>To re-use the resulting stream I have two options:</p>\n\n<pre><code>1. CompletableFuture&lt;List&lt;String&gt;&gt; res = teams.thenApply(st -&gt; st.collect(toList()))\n\n2. Flux&lt;String&gt; res = Flux.fromStream(teams::join).cache()\n</code></pre>\n\n<p><code>Flux&lt;T&gt;</code> is less verbose and provides all that I need. Yet, is it correct to use it in this scenario?</p>\n\n<p>Or should I use <code>CompletableFuture&lt;List&lt;String&gt;&gt;</code> instead? Or is there any other better alternative?</p>\n\n<p><strong>UPDATED with some thoughts (2018-03-16)</strong>: </p>\n\n<p><code>CompletableFuture&lt;List&lt;String&gt;&gt;</code>:</p>\n\n<ul>\n<li>[PROS] The <code>List&lt;String&gt;</code> will be collected in a continuation and when we need to proceed with the result of the future, maybe it is already completed.</li>\n<li>[CONS] Declaration verbosity.</li>\n<li>[CONS] If we just want to use it once, then we did not need to collect those items in a <code>List&lt;T&gt;</code>.</li>\n</ul>\n\n<p><code>Flux&lt;String&gt;</code>:</p>\n\n<ul>\n<li>[PROS] Declaration conciseness</li>\n<li>[PROS] If we just want to use it once, then we can omit <code>.cache()</code> and forward it to the next layer, which can take advantage of the reactive API, e.g. web flux reactive controller, e.g. <code>@GetMapping(produces =MediaType.TEXT_EVENT_STREAM)   public Flux&lt;String&gt; getTeams() {…}</code></li>\n<li>[CONS] If we want to reuse that <code>Flux&lt;T&gt;</code> we have to wrap it in a cacheable <code>Flux&lt;T&gt;</code> (<code>….cache()</code>) which in turn will  add overhead on the first traversal, because it has to store the resulting items in an internal cache.</li>\n</ul>\n"},{"tags":["java","retrofit","okhttp"],"comments":[{"owner":{"account_id":192994,"reputation":2329,"user_id":434452,"display_name":"Hassan Ibraheem"},"score":0,"creation_date":1397723755,"post_id":23103174,"comment_id":35359509,"body_markdown":"Regarding the second part, Retrofit will use OkHttp if it&#39;s available your classpath. Check `defaultClient()` in [Platform.java](https://github.com/square/retrofit/blob/449cfaa4b91ed28ce6928a400272d5b4542d13b7/retrofit/src/main/java/retrofit/Platform.java#L120) for more details.","body":"Regarding the second part, Retrofit will use OkHttp if it&#39;s available your classpath. Check <code>defaultClient()</code> in <a href=\"https://github.com/square/retrofit/blob/449cfaa4b91ed28ce6928a400272d5b4542d13b7/retrofit/src/main/java/retrofit/Platform.java#L120\" rel=\"nofollow noreferrer\">Platform.java</a> for more details."},{"owner":{"account_id":6429364,"reputation":1512,"user_id":4983201,"display_name":"afruzan"},"score":0,"creation_date":1472021518,"post_id":23103174,"comment_id":65579040,"body_markdown":"see: [How to setup Retrofit2 with a custom SSL sertificate] (https://adiyatmubarak.wordpress.com/tag/add-ssl-certificate-in-retrofit-2/)","body":"see: [How to setup Retrofit2 with a custom SSL sertificate] (<a href=\"https://adiyatmubarak.wordpress.com/tag/add-ssl-certificate-in-retrofit-2/\" rel=\"nofollow noreferrer\">adiyatmubarak.wordpress.com/tag/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":4560330,"reputation":1026,"user_id":3702863,"display_name":"Andrey Makarov"},"down_vote_count":0,"up_vote_count":101,"is_accepted":true,"score":101,"last_activity_date":1616433005,"creation_date":1403678218,"answer_id":24401795,"question_id":23103174,"body_markdown":"Yes, It does.\r\n\r\nRetrofit allows you to set your custom HTTP client, that is configured to your needs.\r\n\r\nAs for self-signed SSL certs there is a discussion [here](https://github.com/square/retrofit/issues/265). The link contains code samples to add self-signed SSL to Android&#39;s `DefaultHttpClient` and to load this client to Retrofit.\r\n\r\nIf you need `OkHttpClient` to accept self signed SSL, you need to pass it custom `javax.net.ssl.SSLSocketFactory` instance via `setSslSocketFactory(SSLSocketFactory sslSocketFactory)` method.\r\n\r\nThe easiest method to get a socket factory is to get one from `javax.net.ssl.SSLContext` as discussed [here](https://stackoverflow.com/questions/9921548/sslsocketfactory-in-java).\r\n\r\nHere is a sample for configuring OkHttpClient:\r\n&lt;!-- language: Java --&gt;\r\n\r\n    OkHttpClient client = new OkHttpClient();\r\n    KeyStore keyStore = readKeyStore(); //your method to obtain KeyStore\r\n    SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n    TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n    trustManagerFactory.init(keyStore);\r\n    KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n    keyManagerFactory.init(keyStore, &quot;keystore_pass&quot;.toCharArray());\r\n    sslContext.init(keyManagerFactory.getKeyManagers(),trustManagerFactory.getTrustManagers(), new SecureRandom());\r\n    client.setSslSocketFactory(sslContext.getSocketFactory());\r\n\r\n--------------------------\r\n### Updated code for okhttp3 (using builder):\r\n&lt;!-- language: Java --&gt;\r\n\r\n        OkHttpClient client = new OkHttpClient.Builder()\r\n                .sslSocketFactory(sslContext.getSocketFactory())\r\n                .build();\r\n\r\n--------------------------\r\n\r\nthe `client` here is now configured to use certificates from your `KeyStore`. However it will only trust the certificates in your `KeyStore` and will not trust anything else, even if your system trust them by default. (If you have only self signed certs in your `KeyStore`  and try to connect to Google main page via HTTPS you will get `SSLHandshakeException`).\r\n\r\nYou can obtain `KeyStore` instance from file as seen in [docs](http://docs.oracle.com/javase/7/docs/api/java/security/KeyStore.html):\r\n&lt;!-- language: Java --&gt;\r\n\r\n    KeyStore readKeyStore() {\r\n        KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n\r\n        // get user password and file input stream\r\n        char[] password = getPassword();\r\n\r\n        java.io.FileInputStream fis = null;\r\n        try {\r\n            fis = new java.io.FileInputStream(&quot;keyStoreName&quot;);\r\n            ks.load(fis, password);\r\n        } finally {\r\n            if (fis != null) {\r\n                fis.close();\r\n            }\r\n        }\r\n        return ks;\r\n    }\r\nIf you are on android you can put it in `res/raw` folder and get it from a `Context` instance using\r\n&lt;!-- language: Java --&gt;\r\n    \r\n    fis = context.getResources().openRawResource(R.raw.your_keystore_filename);\r\n\r\nThere are several discussions on how to create your keystore. For example [here](https://stackoverflow.com/questions/4065379/how-to-create-a-bks-bouncycastle-format-java-keystore-that-contains-a-client-c)","title":"Does OkHttp support accepting self-signed SSL certs?","body":"<p>Yes, It does.</p>\n<p>Retrofit allows you to set your custom HTTP client, that is configured to your needs.</p>\n<p>As for self-signed SSL certs there is a discussion <a href=\"https://github.com/square/retrofit/issues/265\" rel=\"noreferrer\">here</a>. The link contains code samples to add self-signed SSL to Android's <code>DefaultHttpClient</code> and to load this client to Retrofit.</p>\n<p>If you need <code>OkHttpClient</code> to accept self signed SSL, you need to pass it custom <code>javax.net.ssl.SSLSocketFactory</code> instance via <code>setSslSocketFactory(SSLSocketFactory sslSocketFactory)</code> method.</p>\n<p>The easiest method to get a socket factory is to get one from <code>javax.net.ssl.SSLContext</code> as discussed <a href=\"https://stackoverflow.com/questions/9921548/sslsocketfactory-in-java\">here</a>.</p>\n<p>Here is a sample for configuring OkHttpClient:</p>\n<pre><code>OkHttpClient client = new OkHttpClient();\nKeyStore keyStore = readKeyStore(); //your method to obtain KeyStore\nSSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\nTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\ntrustManagerFactory.init(keyStore);\nKeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\nkeyManagerFactory.init(keyStore, &quot;keystore_pass&quot;.toCharArray());\nsslContext.init(keyManagerFactory.getKeyManagers(),trustManagerFactory.getTrustManagers(), new SecureRandom());\nclient.setSslSocketFactory(sslContext.getSocketFactory());\n</code></pre>\n<hr />\n<h3>Updated code for okhttp3 (using builder):</h3>\n<pre><code>    OkHttpClient client = new OkHttpClient.Builder()\n            .sslSocketFactory(sslContext.getSocketFactory())\n            .build();\n</code></pre>\n<hr />\n<p>the <code>client</code> here is now configured to use certificates from your <code>KeyStore</code>. However it will only trust the certificates in your <code>KeyStore</code> and will not trust anything else, even if your system trust them by default. (If you have only self signed certs in your <code>KeyStore</code>  and try to connect to Google main page via HTTPS you will get <code>SSLHandshakeException</code>).</p>\n<p>You can obtain <code>KeyStore</code> instance from file as seen in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/KeyStore.html\" rel=\"noreferrer\">docs</a>:</p>\n<pre><code>KeyStore readKeyStore() {\n    KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n\n    // get user password and file input stream\n    char[] password = getPassword();\n\n    java.io.FileInputStream fis = null;\n    try {\n        fis = new java.io.FileInputStream(&quot;keyStoreName&quot;);\n        ks.load(fis, password);\n    } finally {\n        if (fis != null) {\n            fis.close();\n        }\n    }\n    return ks;\n}\n</code></pre>\n<p>If you are on android you can put it in <code>res/raw</code> folder and get it from a <code>Context</code> instance using</p>\n<pre><code>fis = context.getResources().openRawResource(R.raw.your_keystore_filename);\n</code></pre>\n<p>There are several discussions on how to create your keystore. For example <a href=\"https://stackoverflow.com/questions/4065379/how-to-create-a-bks-bouncycastle-format-java-keystore-that-contains-a-client-c\">here</a></p>\n"},{"tags":[],"owner":{"account_id":5900259,"reputation":530,"user_id":4644021,"display_name":"Bruno Carrier"},"down_vote_count":7,"up_vote_count":3,"is_accepted":false,"score":-4,"last_activity_date":1456298773,"creation_date":1454301074,"answer_id":35123018,"question_id":23103174,"body_markdown":"The following piece of code allows you to create an OkHttp client that can be used with Retrofit.  Mailmustdie&#39;s answer is &quot;better&quot; in the sense that it is more secure, but the code snippet below is faster to implement\r\n\r\n\r\n    import com.squareup.okhttp.Headers;\r\n    import com.squareup.okhttp.MediaType;\r\n    import com.squareup.okhttp.OkHttpClient;\r\n    import com.squareup.okhttp.RequestBody;\r\n    import com.squareup.okhttp.ResponseBody;\r\n\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.TimeUnit;\r\n\r\n    import okio.BufferedSink;\r\n    import retrofit.client.Header;\r\n    import retrofit.client.OkClient;\r\n    import retrofit.client.Request;\r\n    import retrofit.client.Response;\r\n    import retrofit.mime.TypedInput;\r\n    import retrofit.mime.TypedOutput;\r\n\r\n    import java.security.SecureRandom;\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.X509Certificate;\r\n\r\n    import javax.net.ssl.HostnameVerifier;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.SSLSession;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.X509TrustManager;\r\n\r\n    public class TrustingOkClient extends OkClient {\r\n\r\n    static final int CONNECT_TIMEOUT_MILLIS = 15 * 1000; // 15s\r\n    static final int READ_TIMEOUT_MILLIS = 20 * 1000; // 20s\r\n\r\n    private static OkHttpClient generateDefaultOkHttp() {\r\n        OkHttpClient client = new OkHttpClient();\r\n        client.setConnectTimeout(CONNECT_TIMEOUT_MILLIS, TimeUnit.MILLISECONDS);\r\n        client.setReadTimeout(READ_TIMEOUT_MILLIS, TimeUnit.MILLISECONDS);\r\n\r\n\r\n\r\n        final TrustManager[] certs = new TrustManager[]{new X509TrustManager() {\r\n\r\n            @Override\r\n            public X509Certificate[] getAcceptedIssuers() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public void checkServerTrusted(final X509Certificate[] chain,\r\n                                           final String authType) throws CertificateException {\r\n            }\r\n\r\n            @Override\r\n            public void checkClientTrusted(final X509Certificate[] chain,\r\n                                           final String authType) throws CertificateException {\r\n            }\r\n        }};\r\n\r\n        SSLContext ctx = null;\r\n        try {\r\n            ctx = SSLContext.getInstance(&quot;TLS&quot;);\r\n            ctx.init(null, certs, new SecureRandom());\r\n        } catch (final java.security.GeneralSecurityException ex) {\r\n        }\r\n\r\n        try {\r\n            final HostnameVerifier hostnameVerifier = new HostnameVerifier() {\r\n                @Override\r\n                public boolean verify(final String hostname,\r\n                                      final SSLSession session) {\r\n                    return true;\r\n                }\r\n            };\r\n            client.setHostnameVerifier(hostnameVerifier);\r\n            client.setSslSocketFactory(ctx.getSocketFactory());\r\n        } catch (final Exception e) {\r\n        }\r\n        return client;\r\n    }\r\n\r\n    private final OkHttpClient client;\r\n\r\n    public TrustingOkClient() {\r\n        this(generateDefaultOkHttp());\r\n    }\r\n\r\n    public TrustingOkClient(OkHttpClient client) {\r\n        if (client == null) throw new NullPointerException(&quot;client == null&quot;);\r\n        this.client = client;\r\n    }\r\n\r\n    @Override public Response execute(Request request) throws IOException {\r\n        return parseResponse(client.newCall(createRequest(request)).execute());\r\n    }\r\n\r\n    static com.squareup.okhttp.Request createRequest(Request request) {\r\n        com.squareup.okhttp.Request.Builder builder = new com.squareup.okhttp.Request.Builder()\r\n                .url(request.getUrl())\r\n                .method(request.getMethod(), createRequestBody(request.getBody()));\r\n\r\n        List&lt;Header&gt; headers = request.getHeaders();\r\n        for (int i = 0, size = headers.size(); i &lt; size; i++) {\r\n            Header header = headers.get(i);\r\n            String value = header.getValue();\r\n            if (value == null) value = &quot;&quot;;\r\n            builder.addHeader(header.getName(), value);\r\n        }\r\n\r\n        return builder.build();\r\n    }\r\n\r\n    static Response parseResponse(com.squareup.okhttp.Response response) {\r\n        return new Response(response.request().urlString(), response.code(), response.message(),\r\n                createHeaders(response.headers()), createResponseBody(response.body()));\r\n    }\r\n\r\n    private static RequestBody createRequestBody(final TypedOutput body) {\r\n        if (body == null) {\r\n            return null;\r\n        }\r\n        final MediaType mediaType = MediaType.parse(body.mimeType());\r\n        return new RequestBody() {\r\n            @Override public MediaType contentType() {\r\n                return mediaType;\r\n            }\r\n\r\n            @Override public void writeTo(BufferedSink sink) throws IOException {\r\n                body.writeTo(sink.outputStream());\r\n            }\r\n\r\n            @Override public long contentLength() {\r\n                return body.length();\r\n            }\r\n        };\r\n    }\r\n\r\n    private static TypedInput createResponseBody(final ResponseBody body) {\r\n        try {\r\n            if (body.contentLength() == 0) {\r\n                return null;\r\n            }\r\n            return new TypedInput() {\r\n                @Override public String mimeType() {\r\n                    MediaType mediaType = body.contentType();\r\n                    return mediaType == null ? null : mediaType.toString();\r\n                }\r\n\r\n                @Override public long length() {\r\n                    try {\r\n                        return body.contentLength();\r\n                    } catch (Exception exception) {\r\n                        System.out.println(exception.toString());\r\n                    }\r\n                    throw new Error(&quot;createResponseBody has invalid length for its response&quot;);\r\n                }\r\n\r\n                @Override public InputStream in() throws IOException {\r\n                    return body.byteStream();\r\n                }\r\n            };\r\n        } catch (Exception exception) {\r\n            System.out.println(exception.toString());\r\n        }\r\n        throw new Error(&quot;createResponseBody has invalid content length for its response&quot;);\r\n    }\r\n\r\n    private static List&lt;Header&gt; createHeaders(Headers headers) {\r\n        int size = headers.size();\r\n        List&lt;Header&gt; headerList = new ArrayList&lt;Header&gt;(size);\r\n        for (int i = 0; i &lt; size; i++) {\r\n            headerList.add(new Header(headers.name(i), headers.value(i)));\r\n        }\r\n        return headerList;\r\n    }\r\n\r\n    }\r\n","title":"Does OkHttp support accepting self-signed SSL certs?","body":"<p>The following piece of code allows you to create an OkHttp client that can be used with Retrofit.  Mailmustdie's answer is \"better\" in the sense that it is more secure, but the code snippet below is faster to implement</p>\n\n<pre><code>import com.squareup.okhttp.Headers;\nimport com.squareup.okhttp.MediaType;\nimport com.squareup.okhttp.OkHttpClient;\nimport com.squareup.okhttp.RequestBody;\nimport com.squareup.okhttp.ResponseBody;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\n\nimport okio.BufferedSink;\nimport retrofit.client.Header;\nimport retrofit.client.OkClient;\nimport retrofit.client.Request;\nimport retrofit.client.Response;\nimport retrofit.mime.TypedInput;\nimport retrofit.mime.TypedOutput;\n\nimport java.security.SecureRandom;\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\n\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\n\npublic class TrustingOkClient extends OkClient {\n\nstatic final int CONNECT_TIMEOUT_MILLIS = 15 * 1000; // 15s\nstatic final int READ_TIMEOUT_MILLIS = 20 * 1000; // 20s\n\nprivate static OkHttpClient generateDefaultOkHttp() {\n    OkHttpClient client = new OkHttpClient();\n    client.setConnectTimeout(CONNECT_TIMEOUT_MILLIS, TimeUnit.MILLISECONDS);\n    client.setReadTimeout(READ_TIMEOUT_MILLIS, TimeUnit.MILLISECONDS);\n\n\n\n    final TrustManager[] certs = new TrustManager[]{new X509TrustManager() {\n\n        @Override\n        public X509Certificate[] getAcceptedIssuers() {\n            return null;\n        }\n\n        @Override\n        public void checkServerTrusted(final X509Certificate[] chain,\n                                       final String authType) throws CertificateException {\n        }\n\n        @Override\n        public void checkClientTrusted(final X509Certificate[] chain,\n                                       final String authType) throws CertificateException {\n        }\n    }};\n\n    SSLContext ctx = null;\n    try {\n        ctx = SSLContext.getInstance(\"TLS\");\n        ctx.init(null, certs, new SecureRandom());\n    } catch (final java.security.GeneralSecurityException ex) {\n    }\n\n    try {\n        final HostnameVerifier hostnameVerifier = new HostnameVerifier() {\n            @Override\n            public boolean verify(final String hostname,\n                                  final SSLSession session) {\n                return true;\n            }\n        };\n        client.setHostnameVerifier(hostnameVerifier);\n        client.setSslSocketFactory(ctx.getSocketFactory());\n    } catch (final Exception e) {\n    }\n    return client;\n}\n\nprivate final OkHttpClient client;\n\npublic TrustingOkClient() {\n    this(generateDefaultOkHttp());\n}\n\npublic TrustingOkClient(OkHttpClient client) {\n    if (client == null) throw new NullPointerException(\"client == null\");\n    this.client = client;\n}\n\n@Override public Response execute(Request request) throws IOException {\n    return parseResponse(client.newCall(createRequest(request)).execute());\n}\n\nstatic com.squareup.okhttp.Request createRequest(Request request) {\n    com.squareup.okhttp.Request.Builder builder = new com.squareup.okhttp.Request.Builder()\n            .url(request.getUrl())\n            .method(request.getMethod(), createRequestBody(request.getBody()));\n\n    List&lt;Header&gt; headers = request.getHeaders();\n    for (int i = 0, size = headers.size(); i &lt; size; i++) {\n        Header header = headers.get(i);\n        String value = header.getValue();\n        if (value == null) value = \"\";\n        builder.addHeader(header.getName(), value);\n    }\n\n    return builder.build();\n}\n\nstatic Response parseResponse(com.squareup.okhttp.Response response) {\n    return new Response(response.request().urlString(), response.code(), response.message(),\n            createHeaders(response.headers()), createResponseBody(response.body()));\n}\n\nprivate static RequestBody createRequestBody(final TypedOutput body) {\n    if (body == null) {\n        return null;\n    }\n    final MediaType mediaType = MediaType.parse(body.mimeType());\n    return new RequestBody() {\n        @Override public MediaType contentType() {\n            return mediaType;\n        }\n\n        @Override public void writeTo(BufferedSink sink) throws IOException {\n            body.writeTo(sink.outputStream());\n        }\n\n        @Override public long contentLength() {\n            return body.length();\n        }\n    };\n}\n\nprivate static TypedInput createResponseBody(final ResponseBody body) {\n    try {\n        if (body.contentLength() == 0) {\n            return null;\n        }\n        return new TypedInput() {\n            @Override public String mimeType() {\n                MediaType mediaType = body.contentType();\n                return mediaType == null ? null : mediaType.toString();\n            }\n\n            @Override public long length() {\n                try {\n                    return body.contentLength();\n                } catch (Exception exception) {\n                    System.out.println(exception.toString());\n                }\n                throw new Error(\"createResponseBody has invalid length for its response\");\n            }\n\n            @Override public InputStream in() throws IOException {\n                return body.byteStream();\n            }\n        };\n    } catch (Exception exception) {\n        System.out.println(exception.toString());\n    }\n    throw new Error(\"createResponseBody has invalid content length for its response\");\n}\n\nprivate static List&lt;Header&gt; createHeaders(Headers headers) {\n    int size = headers.size();\n    List&lt;Header&gt; headerList = new ArrayList&lt;Header&gt;(size);\n    for (int i = 0; i &lt; size; i++) {\n        headerList.add(new Header(headers.name(i), headers.value(i)));\n    }\n    return headerList;\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":185183,"reputation":952,"user_id":421733,"display_name":"Gugelhupf"},"down_vote_count":14,"up_vote_count":26,"is_accepted":false,"score":12,"last_activity_date":1464074724,"creation_date":1464074724,"answer_id":37406961,"question_id":23103174,"body_markdown":"For okhttp3.OkHttpClient Version com.squareup.okhttp3:okhttp:3.2.0 you have to use the code below :\r\n\r\n    import okhttp3.Call;\r\n    import okhttp3.Cookie;\r\n    import okhttp3.CookieJar;\r\n    import okhttp3.Headers;\r\n    import okhttp3.HttpUrl;\r\n    import okhttp3.MediaType;\r\n    import okhttp3.OkHttpClient;\r\n    import okhttp3.Request;\r\n    import okhttp3.RequestBody;\r\n    import okhttp3.Response;\r\n    import okhttp3.ResponseBody;\r\n    \r\n    ......\r\n\r\n    OkHttpClient.Builder clientBuilder = client.newBuilder().readTimeout(LOGIN_TIMEOUT_SEC, TimeUnit.SECONDS);\r\n\r\n                boolean allowUntrusted = true;\r\n\r\n                if (  allowUntrusted) {\r\n                    Log.w(TAG,&quot;**** Allow untrusted SSL connection ****&quot;);\r\n                    final TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\r\n                        @Override\r\n                        public X509Certificate[] getAcceptedIssuers() {\r\n                            X509Certificate[] cArrr = new X509Certificate[0];\r\n                            return cArrr;\r\n                        }\r\n\r\n                        @Override\r\n                        public void checkServerTrusted(final X509Certificate[] chain,\r\n                                                       final String authType) throws CertificateException {\r\n                        }\r\n\r\n                        @Override\r\n                        public void checkClientTrusted(final X509Certificate[] chain,\r\n                                                       final String authType) throws CertificateException {\r\n                        }\r\n                    }};\r\n\r\n                    SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n\r\n                    sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\r\n                    clientBuilder.sslSocketFactory(sslContext.getSocketFactory());\r\n\r\n                    HostnameVerifier hostnameVerifier = new HostnameVerifier() {\r\n                        @Override\r\n                        public boolean verify(String hostname, SSLSession session) {\r\n                            Log.d(TAG, &quot;Trust Host :&quot; + hostname);\r\n                            return true;\r\n                        }\r\n                    };\r\n                    clientBuilder.hostnameVerifier( hostnameVerifier);\r\n                }\r\n\r\n                final Call call = clientBuilder.build().newCall(request);","title":"Does OkHttp support accepting self-signed SSL certs?","body":"<p>For okhttp3.OkHttpClient Version com.squareup.okhttp3:okhttp:3.2.0 you have to use the code below :</p>\n\n<pre><code>import okhttp3.Call;\nimport okhttp3.Cookie;\nimport okhttp3.CookieJar;\nimport okhttp3.Headers;\nimport okhttp3.HttpUrl;\nimport okhttp3.MediaType;\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.RequestBody;\nimport okhttp3.Response;\nimport okhttp3.ResponseBody;\n\n......\n\nOkHttpClient.Builder clientBuilder = client.newBuilder().readTimeout(LOGIN_TIMEOUT_SEC, TimeUnit.SECONDS);\n\n            boolean allowUntrusted = true;\n\n            if (  allowUntrusted) {\n                Log.w(TAG,\"**** Allow untrusted SSL connection ****\");\n                final TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\n                    @Override\n                    public X509Certificate[] getAcceptedIssuers() {\n                        X509Certificate[] cArrr = new X509Certificate[0];\n                        return cArrr;\n                    }\n\n                    @Override\n                    public void checkServerTrusted(final X509Certificate[] chain,\n                                                   final String authType) throws CertificateException {\n                    }\n\n                    @Override\n                    public void checkClientTrusted(final X509Certificate[] chain,\n                                                   final String authType) throws CertificateException {\n                    }\n                }};\n\n                SSLContext sslContext = SSLContext.getInstance(\"SSL\");\n\n                sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\n                clientBuilder.sslSocketFactory(sslContext.getSocketFactory());\n\n                HostnameVerifier hostnameVerifier = new HostnameVerifier() {\n                    @Override\n                    public boolean verify(String hostname, SSLSession session) {\n                        Log.d(TAG, \"Trust Host :\" + hostname);\n                        return true;\n                    }\n                };\n                clientBuilder.hostnameVerifier( hostnameVerifier);\n            }\n\n            final Call call = clientBuilder.build().newCall(request);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1521155633,"creation_date":1493794470,"answer_id":43753120,"question_id":23103174,"body_markdown":"Two methods from our app to get **OkHttpClient 3.0** instance that recognizes your self-signed certificates from your keystore (uses prepared pkcs12 certificate file in your Android project *&quot;raw&quot;* resources folder):\r\n\r\n    \r\n    private static OkHttpClient getSSLClient(Context context) throws\r\n                                  NoSuchAlgorithmException,\r\n                                  KeyStoreException,\r\n                                  KeyManagementException,\r\n                                  CertificateException,\r\n                                  IOException {\r\n\r\n      OkHttpClient client;\r\n      SSLContext sslContext;\r\n      SSLSocketFactory sslSocketFactory;\r\n      TrustManager[] trustManagers;\r\n      TrustManagerFactory trustManagerFactory;\r\n      X509TrustManager trustManager;\r\n\r\n      trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n      trustManagerFactory.init(readKeyStore(context));\r\n      trustManagers = trustManagerFactory.getTrustManagers();\r\n\r\n      if (trustManagers.length != 1 || !(trustManagers[0] instanceof X509TrustManager)) {\r\n        throw new IllegalStateException(&quot;Unexpected default trust managers:&quot; + Arrays.toString(trustManagers));\r\n      }\r\n\r\n      trustManager = (X509TrustManager) trustManagers[0];\r\n\r\n      sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n\r\n      sslContext.init(null, new TrustManager[]{trustManager}, null);\r\n\r\n      sslSocketFactory = sslContext.getSocketFactory();\r\n\r\n      client = new OkHttpClient.Builder()\r\n          .sslSocketFactory(sslSocketFactory, trustManager)\r\n          .build();\r\n      return client;\r\n    }\r\n\r\n    /**\r\n     * Get keys store. Key file should be encrypted with pkcs12 standard. It    can be done with standalone encrypting java applications like &quot;keytool&quot;. File password is also required.\r\n     *\r\n     * @param context Activity or some other context.\r\n     * @return Keys store.\r\n     * @throws KeyStoreException\r\n     * @throws CertificateException\r\n     * @throws NoSuchAlgorithmException\r\n     * @throws IOException\r\n    */\r\n    private static KeyStore readKeyStore(Context context) throws\r\n                              KeyStoreException,\r\n                              CertificateException,\r\n                              NoSuchAlgorithmException,\r\n                              IOException {\r\n      KeyStore keyStore;\r\n      char[] PASSWORD = &quot;12345678&quot;.toCharArray();\r\n      ArrayList&lt;InputStream&gt; certificates;\r\n      int certificateIndex;\r\n      InputStream certificate;\r\n\r\n      certificates = new ArrayList&lt;&gt;();\r\n      certificates.add(context.getResources().openRawResource(R.raw.ssl_pkcs12));\r\n\r\n    keyStore = KeyStore.getInstance(&quot;pkcs12&quot;);\r\n\r\n    for (Certificate certificate : certificates) {\r\n        try {\r\n          keyStore.load(certificate, PASSWORD);\r\n        } finally {\r\n          if (certificate != null) {\r\n            certificate.close();\r\n          }\r\n        }\r\n      }\r\n      return keyStore;\r\n    }","title":"Does OkHttp support accepting self-signed SSL certs?","body":"<p>Two methods from our app to get <strong>OkHttpClient 3.0</strong> instance that recognizes your self-signed certificates from your keystore (uses prepared pkcs12 certificate file in your Android project <em>\"raw\"</em> resources folder):</p>\n\n<pre><code>private static OkHttpClient getSSLClient(Context context) throws\n                              NoSuchAlgorithmException,\n                              KeyStoreException,\n                              KeyManagementException,\n                              CertificateException,\n                              IOException {\n\n  OkHttpClient client;\n  SSLContext sslContext;\n  SSLSocketFactory sslSocketFactory;\n  TrustManager[] trustManagers;\n  TrustManagerFactory trustManagerFactory;\n  X509TrustManager trustManager;\n\n  trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n  trustManagerFactory.init(readKeyStore(context));\n  trustManagers = trustManagerFactory.getTrustManagers();\n\n  if (trustManagers.length != 1 || !(trustManagers[0] instanceof X509TrustManager)) {\n    throw new IllegalStateException(\"Unexpected default trust managers:\" + Arrays.toString(trustManagers));\n  }\n\n  trustManager = (X509TrustManager) trustManagers[0];\n\n  sslContext = SSLContext.getInstance(\"TLS\");\n\n  sslContext.init(null, new TrustManager[]{trustManager}, null);\n\n  sslSocketFactory = sslContext.getSocketFactory();\n\n  client = new OkHttpClient.Builder()\n      .sslSocketFactory(sslSocketFactory, trustManager)\n      .build();\n  return client;\n}\n\n/**\n * Get keys store. Key file should be encrypted with pkcs12 standard. It    can be done with standalone encrypting java applications like \"keytool\". File password is also required.\n *\n * @param context Activity or some other context.\n * @return Keys store.\n * @throws KeyStoreException\n * @throws CertificateException\n * @throws NoSuchAlgorithmException\n * @throws IOException\n*/\nprivate static KeyStore readKeyStore(Context context) throws\n                          KeyStoreException,\n                          CertificateException,\n                          NoSuchAlgorithmException,\n                          IOException {\n  KeyStore keyStore;\n  char[] PASSWORD = \"12345678\".toCharArray();\n  ArrayList&lt;InputStream&gt; certificates;\n  int certificateIndex;\n  InputStream certificate;\n\n  certificates = new ArrayList&lt;&gt;();\n  certificates.add(context.getResources().openRawResource(R.raw.ssl_pkcs12));\n\nkeyStore = KeyStore.getInstance(\"pkcs12\");\n\nfor (Certificate certificate : certificates) {\n    try {\n      keyStore.load(certificate, PASSWORD);\n    } finally {\n      if (certificate != null) {\n        certificate.close();\n      }\n    }\n  }\n  return keyStore;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":34640,"reputation":20249,"user_id":97964,"accept_rate":88,"display_name":"jocull"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530033022,"creation_date":1530033022,"answer_id":51048227,"question_id":23103174,"body_markdown":"Against Retrofit 1.9 I was able to accept any certificate with the following strategy: use at your own risk! Accepting any certificate is dangerous and you should understand the consequences. Some relevant parts come from `org.apache.http.ssl`, so you may require some imports here.\r\n\r\n    // ...\r\n    \r\n        Client httpClient = getHttpClient();\r\n    \r\n        RestAdapter adapter = new RestAdapter.Builder()\r\n            .setClient(httpClient)\r\n            // ... the rest of your builder setup\r\n            .build();\r\n    \r\n    // ...\r\n    \r\n    private Client getHttpClient() {\r\n        try {\r\n            // Allow self-signed (and actually any) SSL certificate to be trusted in this context\r\n            TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\n    \r\n            SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\r\n                .loadTrustMaterial(null, acceptingTrustStrategy)\r\n                .build();\r\n    \r\n            sslContext.getSocketFactory();\r\n    \r\n            SSLSocketFactory sf = sslContext.getSocketFactory();\r\n    \r\n            OkHttpClient client = new OkHttpClient();\r\n            client.setSslSocketFactory(sf);\r\n    \r\n            return new OkClient(client);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Failed to create new HTTP client&quot;, e);\r\n        }\r\n    }\r\n\r\n","title":"Does OkHttp support accepting self-signed SSL certs?","body":"<p>Against Retrofit 1.9 I was able to accept any certificate with the following strategy: use at your own risk! Accepting any certificate is dangerous and you should understand the consequences. Some relevant parts come from <code>org.apache.http.ssl</code>, so you may require some imports here.</p>\n\n<pre><code>// ...\n\n    Client httpClient = getHttpClient();\n\n    RestAdapter adapter = new RestAdapter.Builder()\n        .setClient(httpClient)\n        // ... the rest of your builder setup\n        .build();\n\n// ...\n\nprivate Client getHttpClient() {\n    try {\n        // Allow self-signed (and actually any) SSL certificate to be trusted in this context\n        TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\n\n        SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\n            .loadTrustMaterial(null, acceptingTrustStrategy)\n            .build();\n\n        sslContext.getSocketFactory();\n\n        SSLSocketFactory sf = sslContext.getSocketFactory();\n\n        OkHttpClient client = new OkHttpClient();\n        client.setSslSocketFactory(sf);\n\n        return new OkClient(client);\n    } catch (Exception e) {\n        throw new RuntimeException(\"Failed to create new HTTP client\", e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5063081,"reputation":1381,"user_id":4064011,"display_name":"Domenico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547201322,"creation_date":1547200971,"answer_id":54144227,"question_id":23103174,"body_markdown":"I know that this post is quite old, bui i want to share the solution that worked for me with the latest update of OkHttp, the `3.12.1` version in the time i&#39;m writing.\r\n\r\nFirst of all you need to obtain the KeyStore object that will be then added to the TrustManager:\r\n\r\n    /**\r\n     *  @param context The Android context to be used for retrieving the keystore from raw resource\r\n     * @return the KeyStore read or null on error\r\n     */\r\n    private static KeyStore readKeyStore(Context context) {\r\n\r\n        char[] password = &quot;keystore_password&quot;.toCharArray();\r\n\r\n        // for non-android usage:\r\n        // try(FileInputStream is = new FileInputStream(keystoreName)) {\r\n\r\n        try(InputStream is = context.getResources().openRawResource(R.raw.keystore)) {\r\n            KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            ks.load(is, password);\r\n            return ks;\r\n        } catch (CertificateException e) {\r\n            e.printStackTrace();\r\n        } catch (NoSuchAlgorithmException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (KeyStoreException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\nNow you can get the builded `OkHttpClient` with the self-signed certificate in your keystore:\r\n\r\n    /**\r\n     * @param context The Android context used to obtain the KeyStore\r\n     * @return the builded OkHttpClient or null on error\r\n     */\r\n    public static OkHttpClient getOkHttpClient(Context context) {\r\n\r\n        try {\r\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory\r\n                    .getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n\r\n            trustManagerFactory.init(readKeyStore(context));\r\n\r\n            X509TrustManager trustManager = (X509TrustManager) trustManagerFactory.getTrustManagers()[0];\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslContext.init(null, new TrustManager[]{trustManager}, null);\r\n\r\n            return new OkHttpClient.Builder()\r\n                    .hostnameVerifier((hostname, session) -&gt; {\r\n                        HostnameVerifier hv = HttpsURLConnection.getDefaultHostnameVerifier();\r\n                        /* Never return true without verifying the hostname, otherwise you will be vulnerable\r\n                        to man in the middle attacks. */\r\n                        return  hv.verify(&quot;your_hostname_here&quot;, session);\r\n                    })\r\n                    .sslSocketFactory(sslContext.getSocketFactory(), trustManager)\r\n                    .build();\r\n\r\n        } catch (NoSuchAlgorithmException e) {\r\n            e.printStackTrace();\r\n        } catch (KeyStoreException e) {\r\n            e.printStackTrace();\r\n        } catch (KeyManagementException e) {\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\nRemember that **it is highly discouraged** to return always true in the `hostnameVerifier` to avoid risk of man in the middle attacks.","title":"Does OkHttp support accepting self-signed SSL certs?","body":"<p>I know that this post is quite old, bui i want to share the solution that worked for me with the latest update of OkHttp, the <code>3.12.1</code> version in the time i'm writing.</p>\n\n<p>First of all you need to obtain the KeyStore object that will be then added to the TrustManager:</p>\n\n<pre><code>/**\n *  @param context The Android context to be used for retrieving the keystore from raw resource\n * @return the KeyStore read or null on error\n */\nprivate static KeyStore readKeyStore(Context context) {\n\n    char[] password = \"keystore_password\".toCharArray();\n\n    // for non-android usage:\n    // try(FileInputStream is = new FileInputStream(keystoreName)) {\n\n    try(InputStream is = context.getResources().openRawResource(R.raw.keystore)) {\n        KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n        ks.load(is, password);\n        return ks;\n    } catch (CertificateException e) {\n        e.printStackTrace();\n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (KeyStoreException e) {\n        e.printStackTrace();\n    }\n\n    return null;\n}\n</code></pre>\n\n<p>Now you can get the builded <code>OkHttpClient</code> with the self-signed certificate in your keystore:</p>\n\n<pre><code>/**\n * @param context The Android context used to obtain the KeyStore\n * @return the builded OkHttpClient or null on error\n */\npublic static OkHttpClient getOkHttpClient(Context context) {\n\n    try {\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory\n                .getInstance(TrustManagerFactory.getDefaultAlgorithm());\n\n        trustManagerFactory.init(readKeyStore(context));\n\n        X509TrustManager trustManager = (X509TrustManager) trustManagerFactory.getTrustManagers()[0];\n        SSLContext sslContext = SSLContext.getInstance(\"TLS\");\n        sslContext.init(null, new TrustManager[]{trustManager}, null);\n\n        return new OkHttpClient.Builder()\n                .hostnameVerifier((hostname, session) -&gt; {\n                    HostnameVerifier hv = HttpsURLConnection.getDefaultHostnameVerifier();\n                    /* Never return true without verifying the hostname, otherwise you will be vulnerable\n                    to man in the middle attacks. */\n                    return  hv.verify(\"your_hostname_here\", session);\n                })\n                .sslSocketFactory(sslContext.getSocketFactory(), trustManager)\n                .build();\n\n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n    } catch (KeyStoreException e) {\n        e.printStackTrace();\n    } catch (KeyManagementException e) {\n        e.printStackTrace();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return null;\n}\n</code></pre>\n\n<p>Remember that <strong>it is highly discouraged</strong> to return always true in the <code>hostnameVerifier</code> to avoid risk of man in the middle attacks.</p>\n"},{"tags":[],"owner":{"account_id":5387895,"reputation":5212,"user_id":4291264,"accept_rate":88,"display_name":"Manuel Schmitzberger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1575871360,"creation_date":1554301344,"answer_id":55497451,"question_id":23103174,"body_markdown":"I had the same problem and I fixed it with the **okhttp** client as follow:\r\n\r\n1.) Add the `certificate` file to `src/main/res/raw/`, which includes this content:\r\n\r\n    -----BEGIN CERTIFICATE-----\r\n    ...=\r\n    -----END CERTIFICATE-----\r\n\r\n\r\n2.) Instanciate the okHttpClient:\r\n\r\n    OkHttpClient client = new OkHttpClient.Builder()\r\n    \t\t\t\t.sslSocketFactory(getSslContext(context).getSocketFactory())\r\n    \t\t\t\t.build();\r\n\r\n\r\n3.) Here is the used `getSslContext(Context context)` method:\r\n\r\n    SSLContext getSslContext(Context context) throws Exception {\r\n\t\tKeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType()); // &quot;BKS&quot;\r\n\t\tks.load(null, null);\r\n\r\n\t\tInputStream is = context.getResources().openRawResource(R.raw.certificate);\r\n\t\tString certificate = Converter.convertStreamToString(is);\r\n\r\n\t\t// generate input stream for certificate factory\r\n\t\tInputStream stream = IOUtils.toInputStream(certificate);\r\n\r\n\t\t// CertificateFactory\r\n\t\tCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\t\t// certificate\r\n\t\tCertificate ca;\r\n\t\ttry {\r\n\t\t\tca = cf.generateCertificate(stream);\r\n\t\t} finally {\r\n\t\t\tis.close();\r\n\t\t}\r\n\r\n\t\tks.setCertificateEntry(&quot;my-ca&quot;, ca);\r\n\r\n\t\t// TrustManagerFactory\r\n\t\tString algorithm = TrustManagerFactory.getDefaultAlgorithm();\r\n\t\tTrustManagerFactory tmf = TrustManagerFactory.getInstance(algorithm);\r\n\t\t// Create a TrustManager that trusts the CAs in our KeyStore\r\n\t\ttmf.init(ks);\r\n\r\n\t\t// Create a SSLContext with the certificate that uses tmf (TrustManager)\r\n\t\tsslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t\tsslContext.init(null, tmf.getTrustManagers(), new SecureRandom());\r\n\r\n\t\treturn sslContext;\r\n\t}\r\n\r\n&gt; If there is the need to add multiple certificates to the SslContext, [here][1] is the solution.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/35434042/4291264","title":"Does OkHttp support accepting self-signed SSL certs?","body":"<p>I had the same problem and I fixed it with the <strong>okhttp</strong> client as follow:</p>\n\n<p>1.) Add the <code>certificate</code> file to <code>src/main/res/raw/</code>, which includes this content:</p>\n\n<pre><code>-----BEGIN CERTIFICATE-----\n...=\n-----END CERTIFICATE-----\n</code></pre>\n\n<p>2.) Instanciate the okHttpClient:</p>\n\n<pre><code>OkHttpClient client = new OkHttpClient.Builder()\n                .sslSocketFactory(getSslContext(context).getSocketFactory())\n                .build();\n</code></pre>\n\n<p>3.) Here is the used <code>getSslContext(Context context)</code> method:</p>\n\n<pre><code>SSLContext getSslContext(Context context) throws Exception {\n    KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType()); // \"BKS\"\n    ks.load(null, null);\n\n    InputStream is = context.getResources().openRawResource(R.raw.certificate);\n    String certificate = Converter.convertStreamToString(is);\n\n    // generate input stream for certificate factory\n    InputStream stream = IOUtils.toInputStream(certificate);\n\n    // CertificateFactory\n    CertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\n    // certificate\n    Certificate ca;\n    try {\n        ca = cf.generateCertificate(stream);\n    } finally {\n        is.close();\n    }\n\n    ks.setCertificateEntry(\"my-ca\", ca);\n\n    // TrustManagerFactory\n    String algorithm = TrustManagerFactory.getDefaultAlgorithm();\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(algorithm);\n    // Create a TrustManager that trusts the CAs in our KeyStore\n    tmf.init(ks);\n\n    // Create a SSLContext with the certificate that uses tmf (TrustManager)\n    sslContext = SSLContext.getInstance(\"TLS\");\n    sslContext.init(null, tmf.getTrustManagers(), new SecureRandom());\n\n    return sslContext;\n}\n</code></pre>\n\n<blockquote>\n  <p>If there is the need to add multiple certificates to the SslContext, <a href=\"https://stackoverflow.com/a/35434042/4291264\">here</a> is the solution.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":39584,"reputation":3144,"user_id":114265,"accept_rate":58,"display_name":"Brian S"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1581018655,"creation_date":1581018655,"answer_id":60102517,"question_id":23103174,"body_markdown":"Another thing to note, if you pre-install the CA on the device, you can make regular https calls with OKHttp, and no special ssl hoops. The key is to add the network security configs to your manifest.\r\n\r\nThe key for me to know to do this was that I was getting the following exception.\r\n\r\n&quot;**Trust anchor for certification path not found.**&quot;\r\n\r\nHere is a good article from Google about how to configure it.\r\nhttps://developer.android.com/training/articles/security-config\r\n\r\nHere is an example of my network_security_config.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;base-config cleartextTrafficPermitted=&quot;false&quot;&gt;\r\n            &lt;trust-anchors&gt;\r\n                &lt;certificates src=&quot;user&quot;/&gt;\r\n                &lt;certificates src=&quot;system&quot;/&gt;\r\n            &lt;/trust-anchors&gt;\r\n        &lt;/base-config&gt;\r\n    &lt;/network-security-config&gt;\r\n\r\n","title":"Does OkHttp support accepting self-signed SSL certs?","body":"<p>Another thing to note, if you pre-install the CA on the device, you can make regular https calls with OKHttp, and no special ssl hoops. The key is to add the network security configs to your manifest.</p>\n\n<p>The key for me to know to do this was that I was getting the following exception.</p>\n\n<p>\"<strong>Trust anchor for certification path not found.</strong>\"</p>\n\n<p>Here is a good article from Google about how to configure it.\n<a href=\"https://developer.android.com/training/articles/security-config\" rel=\"noreferrer\">https://developer.android.com/training/articles/security-config</a></p>\n\n<p>Here is an example of my network_security_config.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;network-security-config&gt;\n    &lt;base-config cleartextTrafficPermitted=\"false\"&gt;\n        &lt;trust-anchors&gt;\n            &lt;certificates src=\"user\"/&gt;\n            &lt;certificates src=\"system\"/&gt;\n        &lt;/trust-anchors&gt;\n    &lt;/base-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617303760,"creation_date":1617303760,"answer_id":66910175,"question_id":23103174,"body_markdown":"I find answer from :\r\n\r\nhttps://github.com/square/okhttp/blob/master/samples/guide/src/main/java/okhttp3/recipes/CustomTrust.java\r\n\r\nIt uses `HandshakeCertificates` to add certificates. \r\n\r\n     HandshakeCertificates certificates = new HandshakeCertificates.Builder()\r\n            .addTrustedCertificate(letsEncryptCertificateAuthority)\r\n            .addTrustedCertificate(entrustRootCertificateAuthority)\r\n            .addTrustedCertificate(comodoRsaCertificationAuthority)\r\n            // Uncomment if standard certificates are also required.\r\n            //.addPlatformTrustedCertificates()\r\n            .build();\r\n    \r\n        client = new OkHttpClient.Builder()\r\n                .sslSocketFactory(certificates.sslSocketFactory(), certificates.trustManager())\r\n                .build();\r\n \r\nIf you have trust certificates in store, you can use it as below:\r\n\r\n    .......\r\n    List&lt;X509Certificate&gt; certificates = getCertificatesFromTrustStore();\r\n            \r\n    Builder certificateBuilder =  new HandshakeCertificates.Builder();        \r\n    for (X509Certificate x509Certificate : certificates) {\r\n       \tcertificateBuilder.addTrustedCertificate(x509Certificate);\r\n    }\r\n    HandshakeCertificates handshakeCertificates =  certificateBuilder.build();\r\n    .......\r\n    //To get certificates from a keystore\r\n    private List&lt;X509Certificate&gt; getCertificatesFromTrustStore() throws Exception {\r\n    \t\tKeyStore truststore = KeyStore.getInstance(&quot;JKS&quot;);\r\n            truststore.load(new FileInputStream(&quot;d:\\certs.jsk&quot;), &quot;mypassword&quot;.toCharArray());\r\n            \r\n            PKIXParameters params = new PKIXParameters(truststore);\r\n            Set&lt;TrustAnchor&gt; trustAnchors = params.getTrustAnchors();\r\n            LOG.debug(&quot;{} certificates found in {} which will be used&quot;, trustAnchors.size(), trustStorePath);\r\n            \r\n            List&lt;X509Certificate&gt; certificates = trustAnchors.stream()\r\n            \t      .map(TrustAnchor::getTrustedCert)\r\n            \t      .collect(Collectors.toList());\r\n    \t\treturn certificates;\r\n    \t}","title":"Does OkHttp support accepting self-signed SSL certs?","body":"<p>I find answer from :</p>\n<p><a href=\"https://github.com/square/okhttp/blob/master/samples/guide/src/main/java/okhttp3/recipes/CustomTrust.java\" rel=\"nofollow noreferrer\">https://github.com/square/okhttp/blob/master/samples/guide/src/main/java/okhttp3/recipes/CustomTrust.java</a></p>\n<p>It uses <code>HandshakeCertificates</code> to add certificates.</p>\n<pre><code> HandshakeCertificates certificates = new HandshakeCertificates.Builder()\n        .addTrustedCertificate(letsEncryptCertificateAuthority)\n        .addTrustedCertificate(entrustRootCertificateAuthority)\n        .addTrustedCertificate(comodoRsaCertificationAuthority)\n        // Uncomment if standard certificates are also required.\n        //.addPlatformTrustedCertificates()\n        .build();\n\n    client = new OkHttpClient.Builder()\n            .sslSocketFactory(certificates.sslSocketFactory(), certificates.trustManager())\n            .build();\n</code></pre>\n<p>If you have trust certificates in store, you can use it as below:</p>\n<pre><code>.......\nList&lt;X509Certificate&gt; certificates = getCertificatesFromTrustStore();\n        \nBuilder certificateBuilder =  new HandshakeCertificates.Builder();        \nfor (X509Certificate x509Certificate : certificates) {\n    certificateBuilder.addTrustedCertificate(x509Certificate);\n}\nHandshakeCertificates handshakeCertificates =  certificateBuilder.build();\n.......\n//To get certificates from a keystore\nprivate List&lt;X509Certificate&gt; getCertificatesFromTrustStore() throws Exception {\n        KeyStore truststore = KeyStore.getInstance(&quot;JKS&quot;);\n        truststore.load(new FileInputStream(&quot;d:\\certs.jsk&quot;), &quot;mypassword&quot;.toCharArray());\n        \n        PKIXParameters params = new PKIXParameters(truststore);\n        Set&lt;TrustAnchor&gt; trustAnchors = params.getTrustAnchors();\n        LOG.debug(&quot;{} certificates found in {} which will be used&quot;, trustAnchors.size(), trustStorePath);\n        \n        List&lt;X509Certificate&gt; certificates = trustAnchors.stream()\n                  .map(TrustAnchor::getTrustedCert)\n                  .collect(Collectors.toList());\n        return certificates;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5627212,"reputation":342,"user_id":4455263,"accept_rate":75,"display_name":"Oleksandr Nos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650632225,"creation_date":1650632225,"answer_id":71969132,"question_id":23103174,"body_markdown":"If you need to provide your own certificate, you can pass it like this:\r\n\r\nManifest:\r\n\r\n    &lt;application android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n                        ... &gt;\r\n\r\nres/xml/network_security_config.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;network-security-config&gt;\r\n    &lt;base-config cleartextTrafficPermitted=&quot;false&quot;&gt;\r\n        &lt;trust-anchors&gt;\r\n            &lt;certificates src=&quot;@raw/your_PEM_formatted_cert&quot; /&gt;\r\n            &lt;certificates src=&quot;user&quot; /&gt;\r\n            &lt;certificates src=&quot;system&quot; /&gt;\r\n        &lt;/trust-anchors&gt;\r\n    &lt;/base-config&gt;\r\n\r\n&lt;/network-security-config&gt;","title":"Does OkHttp support accepting self-signed SSL certs?","body":"<p>If you need to provide your own certificate, you can pass it like this:</p>\n<p>Manifest:</p>\n<pre><code>&lt;application android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n                    ... &gt;\n</code></pre>\n<p>res/xml/network_security_config.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;network-security-config&gt;\n&lt;base-config cleartextTrafficPermitted=&quot;false&quot;&gt;\n    &lt;trust-anchors&gt;\n        &lt;certificates src=&quot;@raw/your_PEM_formatted_cert&quot; /&gt;\n        &lt;certificates src=&quot;user&quot; /&gt;\n        &lt;certificates src=&quot;system&quot; /&gt;\n    &lt;/trust-anchors&gt;\n&lt;/base-config&gt;\n</code></pre>\n\n"}],"owner":{"account_id":352570,"reputation":16022,"user_id":689723,"accept_rate":71,"display_name":"cesards"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114118,"favorite_count":0,"down_vote_count":1,"up_vote_count":89,"accepted_answer_id":24401795,"answer_count":10,"score":88,"last_activity_date":1650632225,"creation_date":1397634555,"question_id":23103174,"body_markdown":"I&#39;m working for a customer who has a server with self-signed SSL cert.\r\n\r\nI&#39;m using Retrofit + CustomClient using wrapped OkHttp client:\r\n\r\n    RestAdapter restAdapter = new RestAdapter.Builder().setEndpoint(Config.BASE_URL + Config.API_VERSION)\r\n        .setClient(new CustomClient(new OkClient(), context))\r\n        .build();\r\n\r\nDoes OkHttp support calling Self-Signed SSL cert server by default?\r\n\r\nBy the way. Which client is using Retrofit by default? I thought it was OkHttp but when I researched a bit more I realized I needed to import OkHttp dependencies","title":"Does OkHttp support accepting self-signed SSL certs?","body":"<p>I'm working for a customer who has a server with self-signed SSL cert.</p>\n\n<p>I'm using Retrofit + CustomClient using wrapped OkHttp client:</p>\n\n<pre><code>RestAdapter restAdapter = new RestAdapter.Builder().setEndpoint(Config.BASE_URL + Config.API_VERSION)\n    .setClient(new CustomClient(new OkClient(), context))\n    .build();\n</code></pre>\n\n<p>Does OkHttp support calling Self-Signed SSL cert server by default?</p>\n\n<p>By the way. Which client is using Retrofit by default? I thought it was OkHttp but when I researched a bit more I realized I needed to import OkHttp dependencies</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":2599053,"reputation":2163,"user_id":2251990,"accept_rate":15,"display_name":"Adarsh Nanu"},"score":0,"creation_date":1650635843,"post_id":71969095,"comment_id":127172753,"body_markdown":"Update : I saw the line in debug &quot;java -cp C:\\javalibs\\apache-log4j-2.17.2-bin\\log4j-api-2.17.2.jar;C:\\javalibs\\apache-log4j-2.17.2-bin\\log4j-core-2.17.2.jar;. TestLog4J&quot;, and changed the logging level in application from debug to error, now i can see stdout appender is working, but file write still isn&#39;t, and also i don&#39;t get why the default logger was not taken even though available.","body":"Update : I saw the line in debug &quot;java -cp C:\\javalibs\\apache-log4j-2.17.2-bin\\log4j-api-2.17.2.jar;C:\\&zwnj;&#8203;javalibs\\apache-log4&zwnj;&#8203;j-2.17.2-bin\\log4j-c&zwnj;&#8203;ore-2.17.2.jar;. TestLog4J&quot;, and changed the logging level in application from debug to error, now i can see stdout appender is working, but file write still isn&#39;t, and also i don&#39;t get why the default logger was not taken even though available."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1650639066,"post_id":71969095,"comment_id":127174019,"body_markdown":"Your `log42.properties` file is not in the proper format: you are using the configuration format from Log4j 1.x. Either convert the configuration file to a Log4j2 format (XML is much simpler than the properties format) or use the [Log4j 1.x bridge](https://logging.apache.org/log4j/2.x/manual/migration.html).","body":"Your <code>log42.properties</code> file is not in the proper format: you are using the configuration format from Log4j 1.x. Either convert the configuration file to a Log4j2 format (XML is much simpler than the properties format) or use the <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">Log4j 1.x bridge</a>."},{"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"score":0,"creation_date":1650639908,"post_id":71969095,"comment_id":127174308,"body_markdown":"Your classpath does not contain the log4j configuration properties file, but it must in order for it to be scanned. Check the [doc](https://logging.apache.org/log4j/2.x/manual/configuration.html)","body":"Your classpath does not contain the log4j configuration properties file, but it must in order for it to be scanned. Check the <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">doc</a>"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":2,"creation_date":1650642648,"post_id":71969095,"comment_id":127175382,"body_markdown":"In both cases (wrong log4j filename or file not on classpath), would Log4j2 not emit a warning that no log is written because it is not configured? Log4j1 actually did...","body":"In both cases (wrong log4j filename or file not on classpath), would Log4j2 not emit a warning that no log is written because it is not configured? Log4j1 actually did..."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1650657777,"post_id":71969095,"comment_id":127180020,"body_markdown":"@HiranChaudhuri: there are nice warning messages at the `WARN` level, but since the status logger loggs only `ERROR`s by default, they are not printed. You should probably report it.","body":"@HiranChaudhuri: there are nice warning messages at the <code>WARN</code> level, but since the status logger loggs only <code>ERROR</code>s by default, they are not printed. You should probably report it."},{"owner":{"account_id":2599053,"reputation":2163,"user_id":2251990,"accept_rate":15,"display_name":"Adarsh Nanu"},"score":0,"creation_date":1650700724,"post_id":71969095,"comment_id":127186068,"body_markdown":"@PiotrP.Karwasz thanks, that was the reason. now  I am able to write to file, and also I changed to XML","body":"@PiotrP.Karwasz thanks, that was the reason. now  I am able to write to file, and also I changed to XML"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1650744541,"post_id":71969095,"comment_id":127195411,"body_markdown":"@PiotrP.Karwasz This does not make sense. I was referring to warnings if log4j is not configured. In that case it cannot be configured to just emit ERRORs. Or are you saying that the behaviour has changed for log4j2?","body":"@PiotrP.Karwasz This does not make sense. I was referring to warnings if log4j is not configured. In that case it cannot be configured to just emit ERRORs. Or are you saying that the behaviour has changed for log4j2?"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1650746667,"post_id":71969095,"comment_id":127195814,"body_markdown":"@HiranChaudhuri: No, it does not make sense and it is clearly a minor bug. I have opened [LOG4J2-3486](https://issues.apache.org/jira/browse/LOG4J2-3486) for this issue.","body":"@HiranChaudhuri: No, it does not make sense and it is clearly a minor bug. I have opened <a href=\"https://issues.apache.org/jira/browse/LOG4J2-3486\" rel=\"nofollow noreferrer\">LOG4J2-3486</a> for this issue."}],"owner":{"account_id":2599053,"reputation":2163,"user_id":2251990,"accept_rate":15,"display_name":"Adarsh Nanu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1098,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650632102,"creation_date":1650632102,"question_id":71969095,"body_markdown":"can someone tell me what I am doing silly here ? I cant get this hi to a file.\r\n\r\n    import org.apache.logging.log4j.*;\r\n    public class TestLog4J {\r\n        public static final Logger LOGFILE = LogManager.getLogger();\r\n        public static void main(String[] args) {\r\n            LOGFILE.debug(&quot;hi&quot;);\r\n        }\r\n    }\r\n\r\nlog4j2.preperties file\r\n\r\n    log4j.rootLogger=DEBUG, LOGFILE, stdout\r\n    log4j.appender.LOGFILE=org.apache.log4j.FileAppender\r\n    log4j.appender.LOGFILE.File=C:\\log.out\r\n    log4j.appender.LOGFILE.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.LOGFILE.layout.conversionPattern=%m%n\r\n    \r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n\r\nI am running like below,\r\n\r\n    java -cp C:\\javalibs\\apache-log4j-2.17.2-bin\\log4j-api-2.17.2.jar;C:\\javalibs\\apache-log4j-2.17.2-bin\\log4j-core-2.17.2.jar;. TestLog4J\r\n\r\nBut I don&#39;t see the file created at location on written to. Thanks in advance.","title":"log4j 2 not creating or logging to file","body":"<p>can someone tell me what I am doing silly here ? I cant get this hi to a file.</p>\n<pre><code>import org.apache.logging.log4j.*;\npublic class TestLog4J {\n    public static final Logger LOGFILE = LogManager.getLogger();\n    public static void main(String[] args) {\n        LOGFILE.debug(&quot;hi&quot;);\n    }\n}\n</code></pre>\n<p>log4j2.preperties file</p>\n<pre><code>log4j.rootLogger=DEBUG, LOGFILE, stdout\nlog4j.appender.LOGFILE=org.apache.log4j.FileAppender\nlog4j.appender.LOGFILE.File=C:\\log.out\nlog4j.appender.LOGFILE.layout=org.apache.log4j.PatternLayout\nlog4j.appender.LOGFILE.layout.conversionPattern=%m%n\n\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n</code></pre>\n<p>I am running like below,</p>\n<pre><code>java -cp C:\\javalibs\\apache-log4j-2.17.2-bin\\log4j-api-2.17.2.jar;C:\\javalibs\\apache-log4j-2.17.2-bin\\log4j-core-2.17.2.jar;. TestLog4J\n</code></pre>\n<p>But I don't see the file created at location on written to. Thanks in advance.</p>\n"},{"tags":["java","android","memory","android-assets"],"comments":[{"owner":{"account_id":2214742,"reputation":701,"user_id":1955673,"accept_rate":73,"display_name":"VILLAIN bryan"},"score":0,"creation_date":1502182298,"post_id":45563072,"comment_id":78086239,"body_markdown":"If the file to be loaded is in /assets wouldn&#39;t the path be &quot;assets/sowpods.txt&quot;?","body":"If the file to be loaded is in /assets wouldn&#39;t the path be &quot;assets/sowpods.txt&quot;?"},{"owner":{"account_id":7224783,"reputation":6715,"user_id":5513788,"accept_rate":82,"display_name":"Code Poet"},"score":0,"creation_date":1502183275,"post_id":45563072,"comment_id":78086970,"body_markdown":"Unfortunately not, it can&#39;t be accessed in this way. But thanks all the same.","body":"Unfortunately not, it can&#39;t be accessed in this way. But thanks all the same."}],"answers":[{"tags":[],"owner":{"account_id":11373023,"reputation":4495,"user_id":8338100,"display_name":"jurez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1502182790,"creation_date":1502182183,"answer_id":45563654,"question_id":45563072,"body_markdown":"Using a memory mapped file is a bad idea here. You are essentially wasting OS resources, and it won&#39;t get you the best speed anyway.\r\n\r\nIf you are only performing searches once in a while, you want to keep it simple and do not want to keep file in memory between searches, go with BufferedInputStream. Give it a buffer of, say 10 kB, it should perform quite fast and most likely you will saturate disk.\r\n\r\nIf you are performing a lot of searches, try to keep the contents in memory between searches. Use a HashSet&lt;String&gt; or TreeSet&lt;String&gt;. If you are using HashSet, give it enough buckets to start with.\r\n\r\nIf none of this suits you (i.e. you are low on memory, you have millions of words and still want fast searches), convert the words to some SQL database, put the data in a table and index it. This is really what databases excel at. You should have no trouble finding a database that fits your purpose.\r\n\r\nApparently, 300k words is not a lot, and it should fit in memory easily, somewhere around 10 MB. Depending on your usage scenario, you might also want to look at [Bloom filter][1].\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Bloom_filter","title":"Memory Mapped File location","body":"<p>Using a memory mapped file is a bad idea here. You are essentially wasting OS resources, and it won't get you the best speed anyway.</p>\n\n<p>If you are only performing searches once in a while, you want to keep it simple and do not want to keep file in memory between searches, go with BufferedInputStream. Give it a buffer of, say 10 kB, it should perform quite fast and most likely you will saturate disk.</p>\n\n<p>If you are performing a lot of searches, try to keep the contents in memory between searches. Use a HashSet or TreeSet. If you are using HashSet, give it enough buckets to start with.</p>\n\n<p>If none of this suits you (i.e. you are low on memory, you have millions of words and still want fast searches), convert the words to some SQL database, put the data in a table and index it. This is really what databases excel at. You should have no trouble finding a database that fits your purpose.</p>\n\n<p>Apparently, 300k words is not a lot, and it should fit in memory easily, somewhere around 10 MB. Depending on your usage scenario, you might also want to look at <a href=\"https://en.wikipedia.org/wiki/Bloom_filter\" rel=\"nofollow noreferrer\">Bloom filter</a>.</p>\n"},{"tags":[],"owner":{"account_id":14096472,"reputation":882,"user_id":10183099,"display_name":"zeitgeist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650632056,"creation_date":1650632056,"answer_id":71969079,"question_id":45563072,"body_markdown":"This is an example.\r\n\r\n```\r\n  /** Memory-map the model file in Assets. */\r\n  private MappedByteBuffer loadModelFile(Activity activity) throws IOException {\r\n    AssetFileDescriptor fileDescriptor = activity.getAssets().openFd(getModelPath());\r\n    FileInputStream inputStream = new FileInputStream(fileDescriptor.getFileDescriptor());\r\n    FileChannel fileChannel = inputStream.getChannel();\r\n    long startOffset = fileDescriptor.getStartOffset();\r\n    long declaredLength = fileDescriptor.getDeclaredLength();\r\n    return fileChannel.map(FileChannel.MapMode.READ_ONLY, startOffset, declaredLength);\r\n  }\r\n```\r\n\r\n```\r\n  @Override\r\n  protected String getModelPath() {\r\n    // you can download this file from\r\n    // see build.gradle for where to obtain this file. It should be auto\r\n    // downloaded into assets.\r\n    return &quot;mobilenet_v1_1.0_224.tflite&quot;;\r\n  }\r\n```\r\n`mobilenet_v1_1.0_224.tflite` file is pasted in Assets.\r\n","title":"Memory Mapped File location","body":"<p>This is an example.</p>\n<pre><code>  /** Memory-map the model file in Assets. */\n  private MappedByteBuffer loadModelFile(Activity activity) throws IOException {\n    AssetFileDescriptor fileDescriptor = activity.getAssets().openFd(getModelPath());\n    FileInputStream inputStream = new FileInputStream(fileDescriptor.getFileDescriptor());\n    FileChannel fileChannel = inputStream.getChannel();\n    long startOffset = fileDescriptor.getStartOffset();\n    long declaredLength = fileDescriptor.getDeclaredLength();\n    return fileChannel.map(FileChannel.MapMode.READ_ONLY, startOffset, declaredLength);\n  }\n</code></pre>\n<pre><code>  @Override\n  protected String getModelPath() {\n    // you can download this file from\n    // see build.gradle for where to obtain this file. It should be auto\n    // downloaded into assets.\n    return &quot;mobilenet_v1_1.0_224.tflite&quot;;\n  }\n</code></pre>\n<p><code>mobilenet_v1_1.0_224.tflite</code> file is pasted in Assets.</p>\n"}],"owner":{"account_id":7224783,"reputation":6715,"user_id":5513788,"accept_rate":82,"display_name":"Code Poet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45563654,"answer_count":2,"score":1,"last_activity_date":1650632056,"creation_date":1502180632,"question_id":45563072,"body_markdown":"I am trying to search a list of 268 000 words. The idea is to check whether a word that the user inputs exists in that list. I have accomplished this using a simple I/O stream, but the search takes about 5 seconds, which is too long. My file is currently located in Assets. I have looked for more efficient ways to search my file, and I came across Memory Mapped Buffer. However, it is not clear to me where I should store my file in the following example:\r\n\r\n        import java.io.File;\r\n        import java.io.IOException;\r\n        import java.io.RandomAccessFile;\r\n        import java.nio.MappedByteBuffer;\r\n        import java.nio.channels.FileChannel;\r\n        \r\n        public class ReadFiles {\r\n            private static String largeFile = &quot;sowpods.txt&quot;;\r\n        \r\n            public static void read() throws IOException {\r\n                File file = new File(largeFile);\r\n                FileChannel fileChannel = new \r\n                RandomAccessFile(file,&quot;r&quot;).getChannel();\r\n                MappedByteBuffer buffer = fileChannel.map(\r\n                FileChannel.MapMode.READ_ONLY, 0, fileChannel.size());\r\n                System.out.println(buffer.isLoaded());\r\n                System.out.println(buffer.capacity());\r\n            }\r\n        }\r\n\r\nIf I leave it in assets, how can I read from it? At the moment, I am getting a &quot;sowpods.txt: open failed: ENOENT (No such file or directory)&quot; error message. Thanks for any tips!","title":"Memory Mapped File location","body":"<p>I am trying to search a list of 268 000 words. The idea is to check whether a word that the user inputs exists in that list. I have accomplished this using a simple I/O stream, but the search takes about 5 seconds, which is too long. My file is currently located in Assets. I have looked for more efficient ways to search my file, and I came across Memory Mapped Buffer. However, it is not clear to me where I should store my file in the following example:</p>\n\n<pre><code>    import java.io.File;\n    import java.io.IOException;\n    import java.io.RandomAccessFile;\n    import java.nio.MappedByteBuffer;\n    import java.nio.channels.FileChannel;\n\n    public class ReadFiles {\n        private static String largeFile = \"sowpods.txt\";\n\n        public static void read() throws IOException {\n            File file = new File(largeFile);\n            FileChannel fileChannel = new \n            RandomAccessFile(file,\"r\").getChannel();\n            MappedByteBuffer buffer = fileChannel.map(\n            FileChannel.MapMode.READ_ONLY, 0, fileChannel.size());\n            System.out.println(buffer.isLoaded());\n            System.out.println(buffer.capacity());\n        }\n    }\n</code></pre>\n\n<p>If I leave it in assets, how can I read from it? At the moment, I am getting a \"sowpods.txt: open failed: ENOENT (No such file or directory)\" error message. Thanks for any tips!</p>\n"},{"tags":["java","operators"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1650618382,"post_id":71965850,"comment_id":127166405,"body_markdown":"shortcut for `(var file) -&gt; { return  file.isFile(); }` || [JLS 15.27.1. Lambda Parameters](https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.27.1-120): &quot;*If a lambda expression has exactly one formal parameter, and the parameter is specified by an identifier instead of a parameter specifier, then the parentheses around the identifier may be elided.*&quot; and [JLS 15.27.2. Lambda Body](https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.27.2-100): &quot;*A lambda body is either a single expression or a block (&#167;14.2).*&quot;","body":"shortcut for <code>(var file) -&gt; { return  file.isFile(); }</code> || <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.27.1-120\" rel=\"nofollow noreferrer\">JLS 15.27.1. Lambda Parameters</a>: &quot;<i>If a lambda expression has exactly one formal parameter, and the parameter is specified by an identifier instead of a parameter specifier, then the parentheses around the identifier may be elided.</i>&quot; and <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.27.2-100\" rel=\"nofollow noreferrer\">JLS 15.27.2. Lambda Body</a>: &quot;<i>A lambda body is either a single expression or a block (&#167;14.2).</i>&quot;"}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1650617162,"creation_date":1650617162,"answer_id":71965897,"question_id":71965850,"body_markdown":"`()` is not required when you have a single argument and `{}` is not required when your lambda body is a single expression.\r\n\r\nSee [the Java tutorial](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#syntax) for further information and the [Java Specification](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.27) for a more formal description of the syntax.","title":"Java -&gt; operator","body":"<p><code>()</code> is not required when you have a single argument and <code>{}</code> is not required when your lambda body is a single expression.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#syntax\" rel=\"nofollow noreferrer\">the Java tutorial</a> for further information and the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.27\" rel=\"nofollow noreferrer\">Java Specification</a> for a more formal description of the syntax.</p>\n"},{"tags":[],"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650631599,"creation_date":1650619940,"answer_id":71966523,"question_id":71965850,"body_markdown":"As Federico answered, for the *single arguments* you do not need `()` and for *the statements only return a value* and do not do anything else, you do not need `{}`.\r\n\r\nThe addition I want to make to his contribution:\r\n\r\nThe code you put means, there is a function, that takes file as a parameter. Then, returns its `.isFile()`.\r\n\r\nIn other words, you can also reach the same aim by defining a method:\r\n\r\n    &lt;private/protected/public&gt; boolean myLovelyMethod(File file){\r\n        return file.isFile();\r\n    }\r\n\r\nLambda function just makes it a little bit shorter. If you are not going to re-use the method, may be better to use lambda.","title":"Java -&gt; operator","body":"<p>As Federico answered, for the <em>single arguments</em> you do not need <code>()</code> and for <em>the statements only return a value</em> and do not do anything else, you do not need <code>{}</code>.</p>\n<p>The addition I want to make to his contribution:</p>\n<p>The code you put means, there is a function, that takes file as a parameter. Then, returns its <code>.isFile()</code>.</p>\n<p>In other words, you can also reach the same aim by defining a method:</p>\n<pre><code>&lt;private/protected/public&gt; boolean myLovelyMethod(File file){\n    return file.isFile();\n}\n</code></pre>\n<p>Lambda function just makes it a little bit shorter. If you are not going to re-use the method, may be better to use lambda.</p>\n"}],"owner":{"account_id":20059989,"reputation":153,"user_id":14769633,"display_name":"Math4me"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":71965897,"answer_count":2,"score":-1,"last_activity_date":1650631599,"creation_date":1650616952,"question_id":71965850,"body_markdown":"I know that `-&gt;` is used for lambda expressions with the syntax `()-&gt;{}`.\r\n\r\nBut I saw this code: `file -&gt; file.isFile()` - with no `()` and `{}`. What does it do?\r\n\r\n","title":"Java -&gt; operator","body":"<p>I know that <code>-&gt;</code> is used for lambda expressions with the syntax <code>()-&gt;{}</code>.</p>\n<p>But I saw this code: <code>file -&gt; file.isFile()</code> - with no <code>()</code> and <code>{}</code>. What does it do?</p>\n"},{"tags":["java","ffmpeg"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1650598288,"post_id":71963165,"comment_id":127161455,"body_markdown":"Is the res folder packaged inside the jar, or is it located in the same file as the jar? If it&#39;s inside the jar, then you need to load it as a resource, not `new FFMpeg(&quot;ffmpeg.exe&quot;);` which will attempt to lad the file from the working directory (same folder as the jar).","body":"Is the res folder packaged inside the jar, or is it located in the same file as the jar? If it&#39;s inside the jar, then you need to load it as a resource, not <code>new FFMpeg(&quot;ffmpeg.exe&quot;);</code> which will attempt to lad the file from the working directory (same folder as the jar)."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1650598376,"post_id":71963165,"comment_id":127161464,"body_markdown":"Does this answer your question? [Get a resource using getResource()](https://stackoverflow.com/questions/2593154/get-a-resource-using-getresource)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2593154/get-a-resource-using-getresource\">Get a resource using getResource()</a>"},{"owner":{"account_id":24993247,"reputation":3,"user_id":18854209,"display_name":"john pear"},"score":0,"creation_date":1650599890,"post_id":71963165,"comment_id":127161690,"body_markdown":"https://prnt.sc/6ms_rJqUv1tu the folder isn&#39;t there but all the files are. I tried changing the constructor to just `this.ffmepgEXE = getClass().getResource(&quot;/ffmpeg.exe&quot;).getPath();` but it&#39;s giving me the `The system cannot find the file specified` error when I try to use it","body":"<a href=\"https://prnt.sc/6ms_rJqUv1tu\" rel=\"nofollow noreferrer\">prnt.sc/6ms_rJqUv1tu</a> the folder isn&#39;t there but all the files are. I tried changing the constructor to just <code>this.ffmepgEXE = getClass().getResource(&quot;&#47;ffmpeg.exe&quot;).getPath();</code> but it&#39;s giving me the <code>The system cannot find the file specified</code> error when I try to use it"}],"answers":[{"tags":[],"owner":{"account_id":8662850,"reputation":380,"user_id":6484502,"display_name":"Huka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650631520,"creation_date":1650598468,"answer_id":71963194,"question_id":71963165,"body_markdown":"The quick fix is you have to put `ffmpeg.exe` in the same folder with your `.jar` file.\r\n\r\nIf you want to read file from `resources` folder, you have to change this code:\r\n\r\n```java\r\nURL resource = Test.class.getResource(&quot;ffmpeg.exe&quot;);\r\nString filepath = Paths.get(resource.toURI()).toFile().getAbsolutePath(); \r\nFFMpeg ffmpeg = new FFMpeg(filepath);\r\n```","title":"Java JAR file runs on local machine but missing file on others","body":"<p>The quick fix is you have to put <code>ffmpeg.exe</code> in the same folder with your <code>.jar</code> file.</p>\n<p>If you want to read file from <code>resources</code> folder, you have to change this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL resource = Test.class.getResource(&quot;ffmpeg.exe&quot;);\nString filepath = Paths.get(resource.toURI()).toFile().getAbsolutePath(); \nFFMpeg ffmpeg = new FFMpeg(filepath);\n</code></pre>\n"}],"owner":{"account_id":24993247,"reputation":3,"user_id":18854209,"display_name":"john pear"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650631520,"creation_date":1650598142,"question_id":71963165,"body_markdown":"The JAR file consists of the ffmpeg.exe file and it can run normally on my machine without any problems. However, if I try to run it on another computer it would tell me that `java.io.IOException: Cannot run program &quot;ffmpeg.exe&quot;: CreateProcess error=2,The system cannot find the file specified` from the stacktrace. The way I imported it was\r\n\r\n```\r\nFFMpeg ffmpeg = new FFMpeg(&quot;ffmpeg.exe&quot;);  //in res folder\r\n\r\n...\r\n//ffmpeg class\r\npublic FFMPEG(String ffmepgEXE) {\r\n\tthis.ffmepgEXE = ffmepgEXE;\r\n}\r\n```\r\n","title":"Java JAR file runs on local machine but missing file on others","body":"<p>The JAR file consists of the ffmpeg.exe file and it can run normally on my machine without any problems. However, if I try to run it on another computer it would tell me that <code>java.io.IOException: Cannot run program &quot;ffmpeg.exe&quot;: CreateProcess error=2,The system cannot find the file specified</code> from the stacktrace. The way I imported it was</p>\n<pre><code>FFMpeg ffmpeg = new FFMpeg(&quot;ffmpeg.exe&quot;);  //in res folder\n\n...\n//ffmpeg class\npublic FFMPEG(String ffmepgEXE) {\n    this.ffmepgEXE = ffmepgEXE;\n}\n</code></pre>\n"},{"tags":["java","spring","postgresql","spring-boot","jdbctemplate"],"comments":[{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":1,"creation_date":1650627743,"post_id":71968082,"comment_id":127169618,"body_markdown":"Probably. But why do you care? Primary keys are supposed to be opaque unique identifiers with no &quot;meaning&quot;. Attributing any meaning to the values is unwise.","body":"Probably. But why do you care? Primary keys are supposed to be opaque unique identifiers with no &quot;meaning&quot;. Attributing any meaning to the values is unwise."},{"owner":{"account_id":7276986,"reputation":67,"user_id":5548094,"display_name":"Olof H"},"score":0,"creation_date":1650627981,"post_id":71968082,"comment_id":127169684,"body_markdown":"The reason is that I need to make a second batchUpdate, to another table, that has a FK to the &quot;employee&quot;-table. \n\nCREATE TABLE employee_info (\n  id INT PRIMARY KEY GENERATED BY DEFAULT,\n employee_id INT REFERENCES employee(id),\n ...some more columns\n);\n`\nIf the ids are generated by the order of my list, I can easily figure out which PK belongs to which employee, and make the insert into the employee_info table.","body":"The reason is that I need to make a second batchUpdate, to another table, that has a FK to the &quot;employee&quot;-table.   CREATE TABLE employee_info (   id INT PRIMARY KEY GENERATED BY DEFAULT,  employee_id INT REFERENCES employee(id),  ...some more columns ); ` If the ids are generated by the order of my list, I can easily figure out which PK belongs to which employee, and make the insert into the employee_info table."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1650629260,"post_id":71968082,"comment_id":127170197,"body_markdown":"But if the tables are empty and you&#39;re generating the IDs `BY DEFAULT` (and not `ALWAYS`), you could also assign them yourself?","body":"But if the tables are empty and you&#39;re generating the IDs <code>BY DEFAULT</code> (and not <code>ALWAYS</code>), you could also assign them yourself?"},{"owner":{"account_id":7276986,"reputation":67,"user_id":5548094,"display_name":"Olof H"},"score":0,"creation_date":1650630001,"post_id":71968082,"comment_id":127170479,"body_markdown":"@Kayaman I updated the question. The tables are not always empty but I will always have a unique employee_group that is distinct for that batch of employees. By querying &quot;select id from employees where employee_group = ? order by id asc&quot; I can get the IDs for that batch.\n\nI could set the IDs myself but that would require me to get the max ID before the inserts, which in theory should be fine since its within a transaction but I would rather do it some other way if possible.","body":"@Kayaman I updated the question. The tables are not always empty but I will always have a unique employee_group that is distinct for that batch of employees. By querying &quot;select id from employees where employee_group = ? order by id asc&quot; I can get the IDs for that batch.  I could set the IDs myself but that would require me to get the max ID before the inserts, which in theory should be fine since its within a transaction but I would rather do it some other way if possible."},{"owner":{"account_id":4166159,"reputation":951,"user_id":3415090,"display_name":"mohammedkhan"},"score":0,"creation_date":1652460207,"post_id":71968082,"comment_id":127619888,"body_markdown":"It sounds risky to presume what your id&#39;s are going to be. I think you would be better off (and safer) to update your `Employee` objects with the id set in the update and then insert your data into `employee_info`.","body":"It sounds risky to presume what your id&#39;s are going to be. I think you would be better off (and safer) to update your <code>Employee</code> objects with the id set in the update and then insert your data into <code>employee_info</code>."},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1695094904,"post_id":71968082,"comment_id":135974722,"body_markdown":"@OlofH Did you solve it?","body":"@OlofH Did you solve it?"}],"owner":{"account_id":7276986,"reputation":67,"user_id":5548094,"display_name":"Olof H"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":565,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650630834,"creation_date":1650627315,"question_id":71968082,"body_markdown":"I have a class of Employees\r\n```java\r\npublic class Employee {\r\n  int id;\r\n  String name;\r\n}\r\n```\r\nAnd a corresponding table in postgres with autogenerated PK.\r\n```sql\r\nCREATE TABLE employee (\r\n id INT GENERATED BY DEFAULT AS PRIMARY KEY,\r\n name VARCHAR,\r\n employee_group INT\r\n);\r\n```\r\n\r\nI want to use Springs `jdbcTemplate.batchUpdate()` to insert many employees.\r\n```java\r\nList&lt;Employee&gt; employees = List.of(new Employee(&quot;Carlos&quot;), new Employee(&quot;Jane&quot;), ...);\r\nString sql = &quot;insert into employee (name, employee_group) values (?, ?)&quot;;\r\nint batchSize = 100;\r\n\r\njdbcTemplate.batchUpdate(sql, employees, batchSize, (ps, employee) -&gt; {\r\n  ps.setString(1, employee.getName());\r\n  ps.setInt(2, 1);\r\n}); \r\n```\r\n\r\nAssuming that this table is brand new, and that generated ids start from 1, does batchUpdate (or postgres?) guarantee that inserted rows will get keys following the order of the given list?\r\nI.e, will the resulting table look like this?:\r\n```\r\nid | name  | employee_group\r\n1    Carlos     1\r\n2    Jane       1\r\n...\r\n```\r\n\r\nThe reason for my question is that I have a second table\r\n```\r\nCREATE TABLE employee_info (\r\n employee_id REFERENCES employee(id),\r\n phone VARCHAR\r\n ...\r\n);\r\n```\r\nAfter I have batch-inserted the employees, I need to batch insert employee-info. For that I need the generated primary keys. If these are generated in the order of my list I know which ID belongs to which employee, by finding all ids with the given employee_group. Unfortunately jdbcTemplate.batchUpdate does not have a way of returning generated keys as far as I can find which would be the optimal solution. ","title":"Does jdbcTemplate.batchUpdate() insert rows in same order as given list?","body":"<p>I have a class of Employees</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Employee {\n  int id;\n  String name;\n}\n</code></pre>\n<p>And a corresponding table in postgres with autogenerated PK.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE employee (\n id INT GENERATED BY DEFAULT AS PRIMARY KEY,\n name VARCHAR,\n employee_group INT\n);\n</code></pre>\n<p>I want to use Springs <code>jdbcTemplate.batchUpdate()</code> to insert many employees.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Employee&gt; employees = List.of(new Employee(&quot;Carlos&quot;), new Employee(&quot;Jane&quot;), ...);\nString sql = &quot;insert into employee (name, employee_group) values (?, ?)&quot;;\nint batchSize = 100;\n\njdbcTemplate.batchUpdate(sql, employees, batchSize, (ps, employee) -&gt; {\n  ps.setString(1, employee.getName());\n  ps.setInt(2, 1);\n}); \n</code></pre>\n<p>Assuming that this table is brand new, and that generated ids start from 1, does batchUpdate (or postgres?) guarantee that inserted rows will get keys following the order of the given list?\nI.e, will the resulting table look like this?:</p>\n<pre><code>id | name  | employee_group\n1    Carlos     1\n2    Jane       1\n...\n</code></pre>\n<p>The reason for my question is that I have a second table</p>\n<pre><code>CREATE TABLE employee_info (\n employee_id REFERENCES employee(id),\n phone VARCHAR\n ...\n);\n</code></pre>\n<p>After I have batch-inserted the employees, I need to batch insert employee-info. For that I need the generated primary keys. If these are generated in the order of my list I know which ID belongs to which employee, by finding all ids with the given employee_group. Unfortunately jdbcTemplate.batchUpdate does not have a way of returning generated keys as far as I can find which would be the optimal solution.</p>\n"},{"tags":["java","excel","csv","parsing","multiple-columns"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1650630559,"post_id":71968602,"comment_id":127170670,"body_markdown":"Parsing an excel and parsing a CSV are different, what file type is it _actually_.  Also what have you tried to do?","body":"Parsing an excel and parsing a CSV are different, what file type is it <i>actually</i>.  Also what have you tried to do?"},{"owner":{"account_id":25051032,"reputation":1,"user_id":18906948,"display_name":"citizen"},"score":0,"creation_date":1650631069,"post_id":71968602,"comment_id":127170877,"body_markdown":"@Nexevis for replying, https://i.stack.imgur.com/YGsw6.png if you check this image u will get an idea on what I am trying to do\nI am trying to read a excel/csv file and map the data/values of the file to the object and return it as list of objects(list Owner objects)\n\n-&gt;The actual issue is the below rows is empty but with only vehicle number and price how can I parse that in such way(the logic) that I can add all the vehicle to one owner were the Owner name is empty","body":"@Nexevis for replying, <a href=\"https://i.stack.imgur.com/YGsw6.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/YGsw6.png</a> if you check this image u will get an idea on what I am trying to do I am trying to read a excel/csv file and map the data/values of the file to the object and return it as list of objects(list Owner objects)  -&gt;The actual issue is the below rows is empty but with only vehicle number and price how can I parse that in such way(the logic) that I can add all the vehicle to one owner were the Owner name is empty"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650631336,"post_id":71968602,"comment_id":127170973,"body_markdown":"Check for the presence of `Owner` name. If true, create `Owner` instance and add it to collection, then add `Vehicle` from same line to the `Owners`&#39;s `Vehicle` collection. If false, add new `Vehicle` to current `Owners`&#39;s `Vehicle` collection","body":"Check for the presence of <code>Owner</code> name. If true, create <code>Owner</code> instance and add it to collection, then add <code>Vehicle</code> from same line to the <code>Owners</code>&#39;s <code>Vehicle</code> collection. If false, add new <code>Vehicle</code> to current <code>Owners</code>&#39;s <code>Vehicle</code> collection"},{"owner":{"account_id":25051032,"reputation":1,"user_id":18906948,"display_name":"citizen"},"score":0,"creation_date":1650631538,"post_id":71968602,"comment_id":127171035,"body_markdown":"@g00se, how would you code this for csv and excel","body":"@g00se, how would you code this for csv and excel"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1650631994,"post_id":71968602,"comment_id":127171195,"body_markdown":"I&#39;d let you do it","body":"I&#39;d let you do it"},{"owner":{"account_id":12728112,"reputation":47843,"user_id":9245853,"display_name":"BigBen"},"score":0,"creation_date":1650633288,"post_id":71968602,"comment_id":127171728,"body_markdown":"Please note that Excel is not CSV, and please don&#39;t conflate / confuse the two. What is the file extension?","body":"Please note that Excel is not CSV, and please don&#39;t conflate / confuse the two. What is the file extension?"},{"owner":{"account_id":25051032,"reputation":1,"user_id":18906948,"display_name":"citizen"},"score":0,"creation_date":1650633615,"post_id":71968602,"comment_id":127171853,"body_markdown":"@BigBen the input can be any of the file but the based on the file type the parsing takes place","body":"@BigBen the input can be any of the file but the based on the file type the parsing takes place"},{"owner":{"account_id":25051032,"reputation":1,"user_id":18906948,"display_name":"citizen"},"score":0,"creation_date":1650633625,"post_id":71968602,"comment_id":127171858,"body_markdown":"@g00se okay, thank you","body":"@g00se okay, thank you"}],"owner":{"account_id":25051032,"reputation":1,"user_id":18906948,"display_name":"citizen"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650630715,"creation_date":1650629807,"question_id":71968602,"body_markdown":"  [1]: https://i.stack.imgur.com/YGsw6.png\r\nNow from the above image , I want to parse the data from csv/excel to the a *List&lt;Owner&gt; owners*. Can someone help me on how to do that?\r\n\r\n    class Owner{\r\n           String name;\r\n           String address;\r\n           List&lt;Vehicle&gt; vehicle;\r\n    }\r\n    class Vehicle{\r\n           String number;\r\n           double price;\r\n    }\r\n\r\nI am aware I can use a Apache POI for parsing a Excel and Apache Commons for parsing a CSV. My major confusion is how to go ahead and read the file :\r\nEg: From seeing the image/file I can know that Kumar has four Vehicles but how to translate that to code :([enter image description here][1]\r\n\r\nInput:\r\nName , Address , Vehicle , Price\r\nKumar, Bangalore,KA01AA1234,900300,\r\n     ,          ,KA01AA1235,700300,\r\n     ,          ,KA01AA1236,560300,\r\n     ,          ,KA01AA1237,770300,\r\nSuresh, Mangalore, KA20AA1234,900300,\r\n     ,          ,KA20AA1235,700300,\r\n     ,          ,KA20AA1236,560300,\r\nRamesh, Hosur, TN44AA1234,900300,\r\n     ,          ,TN44AA1235,700300,\r\nthe input may not be very clear please click [1]: https://i.stack.imgur.com/YGsw6.png for better input view\r\n\r\n\r\n","title":"Parsing a CSV file with mutiple rows for one column and it is dynamic","body":"<p>Now from the above image , I want to parse the data from csv/excel to the a <em>List owners</em>. Can someone help me on how to do that?</p>\n<pre><code>class Owner{\n       String name;\n       String address;\n       List&lt;Vehicle&gt; vehicle;\n}\nclass Vehicle{\n       String number;\n       double price;\n}\n</code></pre>\n<p>I am aware I can use a Apache POI for parsing a Excel and Apache Commons for parsing a CSV. My major confusion is how to go ahead and read the file :\nEg: From seeing the image/file I can know that Kumar has four Vehicles but how to translate that to code :(<a href=\"https://i.stack.imgur.com/YGsw6.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Input:\nName , Address , Vehicle , Price\nKumar, Bangalore,KA01AA1234,900300,\n,          ,KA01AA1235,700300,\n,          ,KA01AA1236,560300,\n,          ,KA01AA1237,770300,\nSuresh, Mangalore, KA20AA1234,900300,\n,          ,KA20AA1235,700300,\n,          ,KA20AA1236,560300,\nRamesh, Hosur, TN44AA1234,900300,\n,          ,TN44AA1235,700300,\nthe input may not be very clear please click <a href=\"https://i.stack.imgur.com/YGsw6.png\" rel=\"nofollow noreferrer\">1</a>: <a href=\"https://i.stack.imgur.com/YGsw6.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/YGsw6.png</a> for better input view</p>\n"},{"tags":["java","spring","mapping","dto","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":25050705,"reputation":21,"user_id":18906658,"display_name":"BTRco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650630713,"creation_date":1650630713,"answer_id":71968795,"question_id":71967580,"body_markdown":"Looks like found an answer how to do it:\r\n```\r\nConverter&lt;Game, Boolean&gt; notNullFieldToBoolean = c -&gt; c.getSource() != null;\r\n...\r\nmapper.using(notNullFieldToBoolean).map(Game::getBaseOn, GameDto::setBaseOnCheckBox);\r\n...","title":"How can I map with modelmapper some conditions?","body":"<p>Looks like found an answer how to do it:</p>\n<pre><code>Converter&lt;Game, Boolean&gt; notNullFieldToBoolean = c -&gt; c.getSource() != null;\n...\nmapper.using(notNullFieldToBoolean).map(Game::getBaseOn, GameDto::setBaseOnCheckBox);\n...\n</code></pre>\n"}],"owner":{"account_id":25050705,"reputation":21,"user_id":18906658,"display_name":"BTRco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650630713,"creation_date":1650624724,"question_id":71967580,"body_markdown":"I have some ```Game``` entity that I want to map in ```GameDto```. In ```Game``` I have another ```Game``` field ```basedOn```. In ```GameDto``` I have ```basedOnName```, ```basedOnId``` and ```basedOnCheckBox``` fields. \r\n\r\nCan I somehow map ```basedOnCheckBox``` to true in case of ```Game``` has ```basedOn != null``` or in GameDto ```basedOnName/Id != null```?\r\n\r\nNow my code for this operation:\r\n\r\n```\r\nif(gameDto.getBaseOnName() != null) {\r\n      gameDto.setBaseOnCheckBox(true);\r\n  }\r\n```\r\n\r\nI&#39;m usind ```modelMapper v.3.1.0```","title":"How can I map with modelmapper some conditions?","body":"<p>I have some <code>Game</code> entity that I want to map in <code>GameDto</code>. In <code>Game</code> I have another <code>Game</code> field <code>basedOn</code>. In <code>GameDto</code> I have <code>basedOnName</code>, <code>basedOnId</code> and <code>basedOnCheckBox</code> fields.</p>\n<p>Can I somehow map <code>basedOnCheckBox</code> to true in case of <code>Game</code> has <code>basedOn != null</code> or in GameDto <code>basedOnName/Id != null</code>?</p>\n<p>Now my code for this operation:</p>\n<pre><code>if(gameDto.getBaseOnName() != null) {\n      gameDto.setBaseOnCheckBox(true);\n  }\n</code></pre>\n<p>I'm usind <code>modelMapper v.3.1.0</code></p>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver"],"owner":{"account_id":11902885,"reputation":373,"user_id":8710332,"display_name":"Panossa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650630696,"creation_date":1650630696,"question_id":71968794,"body_markdown":"so I&#39;m trying to create a custom webdriver (as in (down)load the normal driver but use custom profile settings) to get it to open any tab with a popped-out DevTools window (set to &quot;Console&quot;).\r\n\r\nI figured I could do that by setting up such a preference file by just interacting with my own installed Chrome version and copying my preferences to another folder, then let the Selenium WebDriver load its preferences from that folder.\r\n\r\nBut when I tried starting the WebDriver using this:\r\n\r\n```\r\noptions.addArguments(&quot;--profile-directory=\\&quot;Default\\&quot;&quot;);\r\noptions.addArguments(&quot;--user-data-dir=./temp-selenium&quot;);\r\n```\r\n\r\n... it always shows an error (in german, roughly translated to):\r\n\r\n`Google Chrome can&#39;t read or write in the following directory: ./temp-selenium`\r\n\r\nRemoving the second line completely just starts a Chome window with a user profile selection prompt. Setting up a file path to something like AppData doesn&#39;t work because then I get the following error:\r\n\r\n`Could not remove old devtools port file. Perhaps the given user-data-dir at &quot;myFilePath\\User Data&quot; is still attached to a running Chrome ...`\r\n\r\nBy the way, why I&#39;m doing this: I just want to SEE the console logs while testing stuff. Can&#39;t imagine it&#39;s actually THIS difficult to get to it. My tests are way too fast to manually open the console in time and I need to find a bug that happens every 100 tries. Opening the console 100 times is just way too tedious.\r\n\r\nAnyone have an idea?","title":"Selenium ChromeDriver use custom profile folder - permission error","body":"<p>so I'm trying to create a custom webdriver (as in (down)load the normal driver but use custom profile settings) to get it to open any tab with a popped-out DevTools window (set to &quot;Console&quot;).</p>\n<p>I figured I could do that by setting up such a preference file by just interacting with my own installed Chrome version and copying my preferences to another folder, then let the Selenium WebDriver load its preferences from that folder.</p>\n<p>But when I tried starting the WebDriver using this:</p>\n<pre><code>options.addArguments(&quot;--profile-directory=\\&quot;Default\\&quot;&quot;);\noptions.addArguments(&quot;--user-data-dir=./temp-selenium&quot;);\n</code></pre>\n<p>... it always shows an error (in german, roughly translated to):</p>\n<p><code>Google Chrome can't read or write in the following directory: ./temp-selenium</code></p>\n<p>Removing the second line completely just starts a Chome window with a user profile selection prompt. Setting up a file path to something like AppData doesn't work because then I get the following error:</p>\n<p><code>Could not remove old devtools port file. Perhaps the given user-data-dir at &quot;myFilePath\\User Data&quot; is still attached to a running Chrome ...</code></p>\n<p>By the way, why I'm doing this: I just want to SEE the console logs while testing stuff. Can't imagine it's actually THIS difficult to get to it. My tests are way too fast to manually open the console in time and I need to find a bug that happens every 100 tries. Opening the console 100 times is just way too tedious.</p>\n<p>Anyone have an idea?</p>\n"},{"tags":["java","maven","quarkus","kogito","jandex"],"answers":[{"tags":[],"owner":{"account_id":10816166,"reputation":156,"user_id":7955025,"display_name":"Cristiano Nicolai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645691453,"creation_date":1645691453,"answer_id":71249111,"question_id":71218961,"body_markdown":"support for `java.time.LocalDateTime` has been added to Kogito recently and will be available in the next release, 1.18.0.Final, see https://issues.redhat.com/browse/KOGITO-6756","title":"Quarkus + Kogito build error: java.lang.IllegalStateException: Cannot find class info in jandex index for java.time.LocalDateTime","body":"<p>support for <code>java.time.LocalDateTime</code> has been added to Kogito recently and will be available in the next release, 1.18.0.Final, see <a href=\"https://issues.redhat.com/browse/KOGITO-6756\" rel=\"nofollow noreferrer\">https://issues.redhat.com/browse/KOGITO-6756</a></p>\n"}],"owner":{"account_id":974191,"reputation":1155,"user_id":996017,"accept_rate":64,"display_name":"Matei Florescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71249111,"answer_count":1,"score":0,"last_activity_date":1650630218,"creation_date":1645522892,"question_id":71218961,"body_markdown":"I have a multi-module Maven project that uses Quarkus and Kogito, with MongoDb persistence. \r\nThe module with the Kogito process definition is using beans from another module. \r\nOne of the beans has a property of type ```java.time.LocalDateTime```. \r\n\r\n    public class SomeBean {\r\n        ...\r\n        private LocalDateTime changeDatetime;\r\n    \r\n        public SomeBean() {\r\n        }\r\n    \r\n        ...\r\n        public LocalDateTime getChangeDatetime() {\r\n            return changeDatetime;\r\n        }\r\n    \r\n        public void setChangeDatetime(LocalDateTime changeDatetime) {\r\n            this.changeDatetime = changeDatetime;\r\n        }\r\n    }\r\n\r\nWhen running a ```@QuarkusTest``` for a process, I get the following error: \r\n\r\n    io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n            [error]: Build step org.kie.kogito.quarkus.processes.deployment.ProcessesAssetsProcessor#postGenerationProcessing threw an exception: java.lang.RuntimeException: Error while generating proto for model class com.example.PrcessInputBean Cannot find class info in jandex index for java.time.LocalDateTime\r\n            at org.kie.kogito.codegen.process.persistence.proto.AbstractProtoGenerator.generate(AbstractProtoGenerator.java:143)\r\n            at org.kie.kogito.codegen.process.persistence.proto.AbstractProtoGenerator.protoOfDataClasses(AbstractProtoGenerator.java:52)\r\n            at org.kie.kogito.codegen.process.persistence.PersistenceGenerator.generateProtoMarshaller(PersistenceGenerator.java:278)\r\n            at org.kie.kogito.codegen.process.persistence.PersistenceGenerator.internalGenerate(PersistenceGenerator.java:179)\r\n            at org.kie.kogito.codegen.core.AbstractGenerator.generate(AbstractGenerator.java:69)\r\n           ...\r\n    Caused by: java.lang.IllegalStateException: Cannot find class info in jandex index for java.time.LocalDateTime\r\n            at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:159)\r\n            at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:51)\r\n            at org.kie.kogito.codegen.process.persistence.proto.AbstractProtoGenerator.internalGenerate(AbstractProtoGenerator.java:167)\r\n            at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:163)\r\n            at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:51)\r\n            at org.kie.kogito.codegen.process.persistence.proto.AbstractProtoGenerator.internalGenerate(AbstractProtoGenerator.java:167)\r\n            at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:163)\r\n            at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:51)\r\n            at org.kie.kogito.codegen.process.persistence.proto.AbstractProtoGenerator.internalGenerate(AbstractProtoGenerator.java:167)\r\n            at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:163)\r\n            at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:51)\r\n            at org.kie.kogito.codegen.process.persistence.proto.AbstractProtoGenerator.internalGenerate(AbstractProtoGenerator.java:167)\r\n            at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:163)\r\n            at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:51)\r\n            at org.kie.kogito.codegen.process.persistence.proto.AbstractProtoGenerator.internalGenerate(AbstractProtoGenerator.java:167)\r\n            at org.kie.kogito.codegen.process.persistence.proto.AbstractProtoGenerator.generate(AbstractProtoGenerator.java:136)\r\n            ... 18 more\r\n\r\nI tried solutions from: https://stackoverflow.com/questions/55513502/how-to-create-a-jandex-index-in-quarkus-for-classes-in-a-external-module\r\nbut it does not work. \r\n\r\nI noticed that if I remove the ```java.time.LocalDateTime``` property from the bean, the test is running fine. \r\nHow can I configure Jandex to index ```java.time.LocalDateTime``` and get rid of this error? ","title":"Quarkus + Kogito build error: java.lang.IllegalStateException: Cannot find class info in jandex index for java.time.LocalDateTime","body":"<p>I have a multi-module Maven project that uses Quarkus and Kogito, with MongoDb persistence.\nThe module with the Kogito process definition is using beans from another module.\nOne of the beans has a property of type <code>java.time.LocalDateTime</code>.</p>\n<pre><code>public class SomeBean {\n    ...\n    private LocalDateTime changeDatetime;\n\n    public SomeBean() {\n    }\n\n    ...\n    public LocalDateTime getChangeDatetime() {\n        return changeDatetime;\n    }\n\n    public void setChangeDatetime(LocalDateTime changeDatetime) {\n        this.changeDatetime = changeDatetime;\n    }\n}\n</code></pre>\n<p>When running a <code>@QuarkusTest</code> for a process, I get the following error:</p>\n<pre><code>io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n        [error]: Build step org.kie.kogito.quarkus.processes.deployment.ProcessesAssetsProcessor#postGenerationProcessing threw an exception: java.lang.RuntimeException: Error while generating proto for model class com.example.PrcessInputBean Cannot find class info in jandex index for java.time.LocalDateTime\n        at org.kie.kogito.codegen.process.persistence.proto.AbstractProtoGenerator.generate(AbstractProtoGenerator.java:143)\n        at org.kie.kogito.codegen.process.persistence.proto.AbstractProtoGenerator.protoOfDataClasses(AbstractProtoGenerator.java:52)\n        at org.kie.kogito.codegen.process.persistence.PersistenceGenerator.generateProtoMarshaller(PersistenceGenerator.java:278)\n        at org.kie.kogito.codegen.process.persistence.PersistenceGenerator.internalGenerate(PersistenceGenerator.java:179)\n        at org.kie.kogito.codegen.core.AbstractGenerator.generate(AbstractGenerator.java:69)\n       ...\nCaused by: java.lang.IllegalStateException: Cannot find class info in jandex index for java.time.LocalDateTime\n        at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:159)\n        at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:51)\n        at org.kie.kogito.codegen.process.persistence.proto.AbstractProtoGenerator.internalGenerate(AbstractProtoGenerator.java:167)\n        at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:163)\n        at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:51)\n        at org.kie.kogito.codegen.process.persistence.proto.AbstractProtoGenerator.internalGenerate(AbstractProtoGenerator.java:167)\n        at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:163)\n        at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:51)\n        at org.kie.kogito.codegen.process.persistence.proto.AbstractProtoGenerator.internalGenerate(AbstractProtoGenerator.java:167)\n        at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:163)\n        at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:51)\n        at org.kie.kogito.codegen.process.persistence.proto.AbstractProtoGenerator.internalGenerate(AbstractProtoGenerator.java:167)\n        at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:163)\n        at org.kie.kogito.quarkus.processes.deployment.JandexProtoGenerator.messageFromClass(JandexProtoGenerator.java:51)\n        at org.kie.kogito.codegen.process.persistence.proto.AbstractProtoGenerator.internalGenerate(AbstractProtoGenerator.java:167)\n        at org.kie.kogito.codegen.process.persistence.proto.AbstractProtoGenerator.generate(AbstractProtoGenerator.java:136)\n        ... 18 more\n</code></pre>\n<p>I tried solutions from: <a href=\"https://stackoverflow.com/questions/55513502/how-to-create-a-jandex-index-in-quarkus-for-classes-in-a-external-module\">How to create a Jandex index in Quarkus for classes in a external module</a>\nbut it does not work.</p>\n<p>I noticed that if I remove the <code>java.time.LocalDateTime</code> property from the bean, the test is running fine.\nHow can I configure Jandex to index <code>java.time.LocalDateTime</code> and get rid of this error?</p>\n"},{"tags":["java","android","rfid"],"comments":[{"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"score":0,"creation_date":1650687508,"post_id":71968658,"comment_id":127184423,"body_markdown":"does AsyncSocketState object have some variables in the documentation? what string is the GetPower function call returning?","body":"does AsyncSocketState object have some variables in the documentation? what string is the GetPower function call returning?"},{"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"score":0,"creation_date":1650687582,"post_id":71968658,"comment_id":127184428,"body_markdown":"It seems to me like there is a ```Reader``` object with functions ```readpower()``` and ```writepower()```","body":"It seems to me like there is a <code>Reader</code> object with functions <code>readpower()</code> and <code>writepower()</code>"},{"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"score":0,"creation_date":1650688728,"post_id":71968658,"comment_id":127184529,"body_markdown":"essentially the last 2 lines for get reader power doc is telling us that readpower and writepower will return a string value between 5 and 30 units of power. the set and get power functions seem to be changing something within the AsynSocketState object which the docs refer to as the &#39;communication handle&#39;. Perhaps we could get the reader instance from a method within AsynSocketState. In both functions we can see that ```msgbody``` is being passed to ```PackSelector``` which is making use of it in some way. perhaps the result[n] is referring to indices in the ```msgbody``` array","body":"essentially the last 2 lines for get reader power doc is telling us that readpower and writepower will return a string value between 5 and 30 units of power. the set and get power functions seem to be changing something within the AsynSocketState object which the docs refer to as the &#39;communication handle&#39;. Perhaps we could get the reader instance from a method within AsynSocketState. In both functions we can see that <code>msgbody</code> is being passed to <code>PackSelector</code> which is making use of it in some way. perhaps the result[n] is referring to indices in the <code>msgbody</code> array"},{"owner":{"account_id":11644777,"reputation":1245,"user_id":8528047,"display_name":"Pemba Tamang"},"score":0,"creation_date":1650711683,"post_id":71968658,"comment_id":127188037,"body_markdown":"hey man I have been reassigned, thanks for your reply I will get back to you when I am done with my present work. Thanks again","body":"hey man I have been reassigned, thanks for your reply I will get back to you when I am done with my present work. Thanks again"}],"owner":{"account_id":11644777,"reputation":1245,"user_id":8528047,"display_name":"Pemba Tamang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650630084,"creation_date":1650630084,"question_id":71968658,"body_markdown":"I am working with a RFID device which is completely unmarked and the sdk was sent seperately with no make and model and no sdk online.\r\n\r\nI am trying to set the device power to max and get the power of the reader.\r\n\r\nAccording to the docs :\r\n\r\nThe code for setting power :\r\n\r\n      public String SetPower(AsyncSocketState state, byte readpower, byte writepower) {\r\n            byte type = 0;\r\n            byte[] msgbody = new byte[]{0, readpower, writepower};\r\n            byte[] command = this.cmd.PackSelector(msgbody, type);\r\n            return !this.Send(state, command) ? &quot;-4&quot; : &quot;0&quot;;\r\n        }\r\n\r\nFor getting power:\r\n\r\n       public String GetPower(AsyncSocketState state) {\r\n            Respond.Power = &quot;&quot;;\r\n            byte type = 12;\r\n            byte[] msgbody = new byte[0];\r\n            byte[] command = this.cmd.PackSelector(msgbody, type);\r\n            return !this.Send(state, command) ? &quot;-4&quot; : &quot;0&quot;;\r\n        }\r\n\r\nthis is from the documentation:\r\n\r\n**4.3.6 Get reader power**\r\n\r\n    public string GetPower(AsynSocketState state);\r\n    Parameters:\r\n    state: Communication handle.\r\n    * return value:\r\n    Success returns &quot;0&quot;, failure returns &quot;-4&quot;\r\n    Value:\r\n        Loop:Open loop/closed loop &quot;0&quot; open loop &quot;1&quot; closed loop        result[3]\t\r\n    readpower:Reader read power, return value &quot;5~30&quot;              result[4]\r\n    writepower:Write power of reader, return value &quot;5~30&quot;           result[5]\r\n\r\n\r\n\r\nsetting the power is quite straight forward and the max power according to the docs is 30 which I set and I get 0 in return which is returned on success.\r\n\r\nThe code to get power is also returning only a string and is also returning 0 but according to the docs there are more values in somewhere labeled as result[3] result[4] and so on.\r\n\r\nWhat do these &#39;result&#39; values mean how do I get those values\r\n\r\n","title":"Cannot understand SDK documentation for a RFID desktop reader","body":"<p>I am working with a RFID device which is completely unmarked and the sdk was sent seperately with no make and model and no sdk online.</p>\n<p>I am trying to set the device power to max and get the power of the reader.</p>\n<p>According to the docs :</p>\n<p>The code for setting power :</p>\n<pre><code>  public String SetPower(AsyncSocketState state, byte readpower, byte writepower) {\n        byte type = 0;\n        byte[] msgbody = new byte[]{0, readpower, writepower};\n        byte[] command = this.cmd.PackSelector(msgbody, type);\n        return !this.Send(state, command) ? &quot;-4&quot; : &quot;0&quot;;\n    }\n</code></pre>\n<p>For getting power:</p>\n<pre><code>   public String GetPower(AsyncSocketState state) {\n        Respond.Power = &quot;&quot;;\n        byte type = 12;\n        byte[] msgbody = new byte[0];\n        byte[] command = this.cmd.PackSelector(msgbody, type);\n        return !this.Send(state, command) ? &quot;-4&quot; : &quot;0&quot;;\n    }\n</code></pre>\n<p>this is from the documentation:</p>\n<p><strong>4.3.6 Get reader power</strong></p>\n<pre><code>public string GetPower(AsynSocketState state);\nParameters:\nstate: Communication handle.\n* return value:\nSuccess returns &quot;0&quot;, failure returns &quot;-4&quot;\nValue:\n    Loop:Open loop/closed loop &quot;0&quot; open loop &quot;1&quot; closed loop        result[3]   \nreadpower:Reader read power, return value &quot;5~30&quot;              result[4]\nwritepower:Write power of reader, return value &quot;5~30&quot;           result[5]\n</code></pre>\n<p>setting the power is quite straight forward and the max power according to the docs is 30 which I set and I get 0 in return which is returned on success.</p>\n<p>The code to get power is also returning only a string and is also returning 0 but according to the docs there are more values in somewhere labeled as result[3] result[4] and so on.</p>\n<p>What do these 'result' values mean how do I get those values</p>\n"},{"tags":["java","spring","spring-integration"],"comments":[{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":0,"creation_date":1650621803,"post_id":71966148,"comment_id":127167618,"body_markdown":"Did you try to get a heap dump of process and check what objects are loaded?","body":"Did you try to get a heap dump of process and check what objects are loaded?"},{"owner":{"account_id":10036927,"reputation":28,"user_id":7421178,"display_name":"Brahim B."},"score":0,"creation_date":1650629542,"post_id":71966148,"comment_id":127170313,"body_markdown":"yes. I can see byte[], (22%), java.lang.Object[] (11%), int[](10%), java.util.TreeMap$Entry(7%), java.lang.reflect.Method(4%)\nI have updated the post with a screenshot","body":"yes. I can see byte[], (22%), java.lang.Object[] (11%), int[](10%), java.util.TreeMap$Entry(7%), java.lang.reflect.Method(4%) I have updated the post with a screenshot"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1650636342,"post_id":71966148,"comment_id":127172927,"body_markdown":"Your screenshot looks normal: some growing then GC. We probably need more information about heap dump.","body":"Your screenshot looks normal: some growing then GC. We probably need more information about heap dump."},{"owner":{"account_id":10036927,"reputation":28,"user_id":7421178,"display_name":"Brahim B."},"score":0,"creation_date":1650641377,"post_id":71966148,"comment_id":127174927,"body_markdown":"The memory is increasing by more than 150 MB before GC. It should be stable at a certain point of time","body":"The memory is increasing by more than 150 MB before GC. It should be stable at a certain point of time"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1650679124,"post_id":71966148,"comment_id":127183609,"body_markdown":"Ok. Any heap dumps pointing to Spring Integration components? Those TreeMap$Entry are so generic that it does not lead us to a specific point in the framework…","body":"Ok. Any heap dumps pointing to Spring Integration components? Those TreeMap$Entry are so generic that it does not lead us to a specific point in the framework…"}],"owner":{"account_id":10036927,"reputation":28,"user_id":7421178,"display_name":"Brahim B."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650629925,"creation_date":1650618311,"question_id":71966148,"body_markdown":"I have two integration flows that get files from two different directories.\r\n\r\n```java\r\n    @Bean\r\n    public IntegrationFlow processBridgeFlow() {\r\n        return IntegrationFlows\r\n                .from(messageWaitingDirectory(), c -&gt; c\r\n                        .id(&quot;processFileRetry&quot;)\r\n                        .autoStartup(false)\r\n                        .poller(Pollers.fixedDelay(1000)))\r\n                .handle(inDirectory) //FileWritingMessageHandler\r\n                .get();\r\n    }\r\n\r\n   @Bean\r\n    public IntegrationFlow processMessage() {\r\n        return IntegrationFlows\r\n                .from(messageInDirectory(), c -&gt; c\r\n                        .id(&quot;processFile&quot;)\r\n                        .autoStartup(false)\r\n                        .poller(Pollers.fixedDelay(1000))\r\n                        .advice((CustomAdvice) ctx.getBean(&quot;createLogAdvice&quot;, TYPE_NAME))\r\n                        .errorChannel(errorMessageChannel())))\r\n                .publishSubscribeChannel(s -&gt; s\r\n                        .subscribe(f -&gt; f.handle(SERVICE_NAME, &quot;init&quot;))\r\n                        .subscribe(f -&gt; f.handle(SERVICE_NAME, &quot;processMessage&quot;))\r\n                        .subscribe(f -&gt; f.handle(SERVICE_NAME, &quot;end&quot;))\r\n                        .subscribe(f -&gt; f.handle(destinationDirectory))) //FileWritingMessageHandler\r\n                .get();\r\n    }\r\n\r\n  @Bean\r\n    public MessageSource&lt;File&gt; messageWaitingDirectory() {\r\n        FileReadingMessageSource sourceReader = new FileReadingMessageSource();\r\n        sourceReader.setDirectory(new File(messagesProperties.getWaitingDirectory()));\r\n        sourceReader.setFilter(new RegexPatternFileListFilter(MESSAGE_FILE_PATTERN));\r\n\r\n        return sourceReader;\r\n    }\r\n    \r\n   @Bean\r\n    public MessageSource&lt;File&gt; messageInDirectory() {\r\n        FileReadingMessageSource sourceReader = new FileReadingMessageSource();\r\n        sourceReader.setDirectory(new File(messagesProperties.getInDirectory()));\r\n        sourceReader.setFilter(new RegexPatternFileListFilter(MESSAGE_FILE_PATTERN));\r\n        sourceReader.setAutoCreateDirectory(false);\r\n\r\n        return sourceReader;\r\n    }\r\n\r\n```\r\n\r\nThe visualVM reports shows that the memory consumption keep growing even if there is no file to consume.\r\nHere are screnshots on a few minutes without any file to consume  : [visualVM report][1]\r\n[VisualVM report object][2]\r\n\r\nHow can I fix that ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BKFu8.png\r\n  [2]: https://i.stack.imgur.com/2ZEw7.png","title":"IntegrationFlow memory leak","body":"<p>I have two integration flows that get files from two different directories.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public IntegrationFlow processBridgeFlow() {\n        return IntegrationFlows\n                .from(messageWaitingDirectory(), c -&gt; c\n                        .id(&quot;processFileRetry&quot;)\n                        .autoStartup(false)\n                        .poller(Pollers.fixedDelay(1000)))\n                .handle(inDirectory) //FileWritingMessageHandler\n                .get();\n    }\n\n   @Bean\n    public IntegrationFlow processMessage() {\n        return IntegrationFlows\n                .from(messageInDirectory(), c -&gt; c\n                        .id(&quot;processFile&quot;)\n                        .autoStartup(false)\n                        .poller(Pollers.fixedDelay(1000))\n                        .advice((CustomAdvice) ctx.getBean(&quot;createLogAdvice&quot;, TYPE_NAME))\n                        .errorChannel(errorMessageChannel())))\n                .publishSubscribeChannel(s -&gt; s\n                        .subscribe(f -&gt; f.handle(SERVICE_NAME, &quot;init&quot;))\n                        .subscribe(f -&gt; f.handle(SERVICE_NAME, &quot;processMessage&quot;))\n                        .subscribe(f -&gt; f.handle(SERVICE_NAME, &quot;end&quot;))\n                        .subscribe(f -&gt; f.handle(destinationDirectory))) //FileWritingMessageHandler\n                .get();\n    }\n\n  @Bean\n    public MessageSource&lt;File&gt; messageWaitingDirectory() {\n        FileReadingMessageSource sourceReader = new FileReadingMessageSource();\n        sourceReader.setDirectory(new File(messagesProperties.getWaitingDirectory()));\n        sourceReader.setFilter(new RegexPatternFileListFilter(MESSAGE_FILE_PATTERN));\n\n        return sourceReader;\n    }\n    \n   @Bean\n    public MessageSource&lt;File&gt; messageInDirectory() {\n        FileReadingMessageSource sourceReader = new FileReadingMessageSource();\n        sourceReader.setDirectory(new File(messagesProperties.getInDirectory()));\n        sourceReader.setFilter(new RegexPatternFileListFilter(MESSAGE_FILE_PATTERN));\n        sourceReader.setAutoCreateDirectory(false);\n\n        return sourceReader;\n    }\n\n</code></pre>\n<p>The visualVM reports shows that the memory consumption keep growing even if there is no file to consume.\nHere are screnshots on a few minutes without any file to consume  : <a href=\"https://i.stack.imgur.com/BKFu8.png\" rel=\"nofollow noreferrer\">visualVM report</a>\n<a href=\"https://i.stack.imgur.com/2ZEw7.png\" rel=\"nofollow noreferrer\">VisualVM report object</a></p>\n<p>How can I fix that ?</p>\n"},{"tags":["java","junit5","testcase"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1650609370,"post_id":71963546,"comment_id":127163367,"body_markdown":"Please: when English isnt your first language, then go: super simple sentences ... subject verb object. You want other people to spend their time to help you with your request, so you please take the time to write down human comprehensible input. That starts with: use punctuation. Dont just push all your thoughts into a single paragraph without any , or . or ! or ? or whatever.","body":"Please: when English isnt your first language, then go: super simple sentences ... subject verb object. You want other people to spend their time to help you with your request, so you please take the time to write down human comprehensible input. That starts with: use punctuation. Dont just push all your thoughts into a single paragraph without any , or . or ! or ? or whatever."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1650609410,"post_id":71963546,"comment_id":127163388,"body_markdown":"Also note: please ask ONE question per question, so consider to put the very different question in the last paragraph into a distinct own question.","body":"Also note: please ask ONE question per question, so consider to put the very different question in the last paragraph into a distinct own question."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1650630019,"post_id":71963546,"comment_id":127170485,"body_markdown":"_&quot;isolated test cases are dependent on test cases that are in running parallel.&quot;_ 1) then they are **not** isolated test cases, and 2) never write tests that depend on the results of other tests. Use explicit test setup code to bring the world in a state expected by your test.","body":"<i>&quot;isolated test cases are dependent on test cases that are in running parallel.&quot;</i> 1) then they are <b>not</b> isolated test cases, and 2) never write tests that depend on the results of other tests. Use explicit test setup code to bring the world in a state expected by your test."}],"owner":{"account_id":6002942,"reputation":13,"user_id":4715648,"display_name":"chaitas shah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":930,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650629878,"creation_date":1650602388,"question_id":71963546,"body_markdown":"In my product we have certain test cases that should be run in parallel and also certain test cases that should run in isolation mode I have been using this in junit-platform.properties\r\n\r\n    junit.jupiter.execution.parallel.enabled = true\r\n    junit.jupiter.execution.parallel.mode.default = same_thread\r\n    junit.jupiter.execution.parallel.mode.classes.default = concurrent\r\n    junit.jupiter.testclass.order.default = org.junit.jupiter.api.ClassOrderer$OrderAnnotation\r\n\r\nNow I have provided order number for test cases class to be executed but what I want is isolated test cases to be executed after all parallel test cases have completed execution as isolated test cases are dependent on test cases that are in running parallel.\r\n\r\nAs of now when test cases are getting executed what is happening test class order is not maintained any order test cases are running either parallel or isolated,is there anyway how it can be done it will be of great help..  \r\n\r\nThis is how I have defined in test case as follows for isolated(There are multiple classes with different scenarios):\r\n\r\n    @Order(12)\r\n    @ExtendWith(VertxExtension.class)\r\n    @TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\n    @EnabledIfSystemProperty(named=&quot;system.boot.sequence&quot;, matches = &quot;DEFAULT&quot;)\r\n    @Isolated\r\n    class UserModuleTest\r\n    {\r\n        private static final long CURRENT_TIME_MILLIS = System.currentTimeMillis();\r\n    \r\n        private static String refreshToken = null;\r\n    \r\n        private static String accessToken = null;\r\n    \r\n        private static final String EXPIRY_DAYS = &quot;password.policy.password.expiry.days&quot;;\r\n    \r\n        private static final JsonObject ids =  new JsonObject();\r\n    \r\n        @Test\r\n        @Order(1)\r\n        void testGetAllUsers(VertxTestContext testContext)\r\n        {\r\n            APITestUtil.get(USER_API_ENDPOINT, testContext.succeeding(response -&gt; testContext.verify(() -&gt;\r\n            {\r\n                APITestUtil.assertGETAllRequestTestResult(response,UserConfigStore.getStore(), null);\r\n    \r\n                testContext.completeNow();\r\n    \r\n            })));\r\n        }\r\n        @Test\r\n        @Order(2)\r\n        void testCreateGroup(VertxTestContext testContext)\r\n        {\r\n            var context = new JsonObject()\r\n                    .put(FIELD_GROUP_NAME,&quot;grouptest&quot;).put(FIELD_PARENT_GROUP, 0)\r\n                    .put(GROUP_CONTEXT, new JsonObject().put(GROUP_AUTO_ASSIGN, NO));\r\n    \r\n            APITestUtil.post(GROUP_API_ENDPOINT,context ,\r\n                    testContext.succeeding(response-&gt;\r\n                            testContext.verify(() -&gt;\r\n                            {\r\n                                APITestUtil.assertCreateEntityTestResult(GroupConfigStore.getStore() , context, response.bodyAsJsonObject(), String.format(InfoMessageConstants.ENTITY_CREATED,APIConstants.Entity.GROUP.getName()), null);\r\n    \r\n                                ids.put(&quot;group&quot;,response.bodyAsJsonObject().getLong(ID));\r\n    \r\n                                testContext.completeNow();\r\n                            })));\r\n        }\r\n    \r\n        @Test\r\n        @Order(3)\r\n        void testCreateChildGroup(VertxTestContext testContext)\r\n        {\r\n            var context = new JsonObject().put(FIELD_GROUP_NAME, &quot;groupChild&quot;).put(FIELD_PARENT_GROUP, ids.getLong(&quot;group&quot;))\r\n                    .put(GROUP_CONTEXT, new JsonObject().put(GROUP_AUTO_ASSIGN, NO));\r\n    \r\n            APITestUtil.post(GROUP_API_ENDPOINT,context,\r\n                    testContext.succeeding(response -&gt;\r\n                            testContext.verify(() -&gt;\r\n                            {\r\n                                APITestUtil.assertCreateEntityTestResult(GroupConfigStore.getStore() , context, response.bodyAsJsonObject(), String.format(InfoMessageConstants.ENTITY_CREATED, Entity.GROUP.getName()), null);\r\n    \r\n                                ids.put(&quot;child.group&quot;,response.bodyAsJsonObject().getLong(ID));\r\n    \r\n                                testContext.completeNow();\r\n                            })));\r\n        }\r\n    \r\n    }\r\n\r\nThis is how I have defined in test case as follows for non-isolated means which I want to run parallel(There are multiple classes with different scenarios):\r\n\r\n    @Order(2)\r\n    @ExtendWith(VertxExtension.class)\r\n    @TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\n    @Timeout(90 * 1000)\r\n    @EnabledIfSystemProperty(named=&quot;system.boot.sequence&quot;, matches = &quot;DEFAULT&quot;)\r\n    class BDiscoveryTest\r\n    {\r\n        private static final Logger logger = new Logger(BDiscoveryTest.class, &quot;discovery-test&quot;,&quot;Discovery Test&quot;);\r\n    \r\n        private static final JsonObject LINUX_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;linux.discovery.parameters&quot;);\r\n    \r\n        private static final JsonObject LINUX_CREDENTIAL_CONTEXT = TestConstants.getJsonObject(&quot;testLinuxDiscovery&quot;);\r\n    \r\n        private static final JsonObject WINDOWS_CREDENTIAL_CONTEXT = TestConstants.getJsonObject(&quot;testWindowsDiscovery&quot;);\r\n    \r\n        private static final JsonObject WINDOWS_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;windows.discovery.parameters&quot;);\r\n    \r\n        private static final JsonObject NETWORK_CREDENTIAL_CONTEXT = TestConstants.getJsonObject(&quot;testSNMPv1Discovery&quot;);\r\n    \r\n        private static final JsonObject NETWORK_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;snmp.discovery.v1.parameters&quot;);\r\n    \r\n        private static final JsonObject ESXI_CREDENTIAL_CONTEXT = TestConstants.getJsonObject(&quot;testESXiDiscovery&quot;);\r\n    \r\n        private static final JsonObject ESXI_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;esxi.discovery.parameters&quot;);\r\n    \r\n        private static final JsonObject HYPERV_CREDENTIAL_CONTEXT = TestConstants.getJsonObject(&quot;testHyperVDiscovery&quot;);\r\n    \r\n        private static final JsonObject HYPERV_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;hyperv.discover.parameters&quot;);\r\n    \r\n        private static final JsonObject HYPERV_CLUSTER_CREDENTIAL_CONTEXT = TestConstants.getJsonObject(&quot;testHyperVClusterDiscovery&quot;);\r\n    \r\n        private static final JsonObject HYPERV_CLUSTER_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;hyperv.cluster.discover.parameters&quot;);\r\n    \r\n        private static final JsonObject CITRIX_CREDENTIAL_CONTEXT = TestConstants.getJsonObject(&quot;testCitrixDiscovery&quot;);\r\n    \r\n        private static final JsonObject CITRIX_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;citrix.discovery.parameters&quot;);\r\n    \r\n        private static final JsonObject CITRIX_CLUSTER_CREDENTIAL_CONTEXT = TestConstants.getJsonObject(&quot;testCitrixClusterDiscovery&quot;);\r\n    \r\n        private static final JsonObject CITRIX_CLUSTER_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;citrix.cluster.discovery.parameters&quot;);\r\n    \r\n        private static final JsonObject PING_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;testPingServiceCheckDiscoveryWithValidIP&quot;);\r\n    \r\n        private static final JsonObject PORT_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;testPortServiceCheckDiscoveryWithValidIP&quot;);\r\n    \r\n        private static MessageConsumer&lt;JsonObject&gt; messageConsumer;\r\n    \r\n        private static MessageConsumer&lt;JsonObject&gt; discoveryStatusMessageHandler;\r\n    \r\n        private static Set&lt;String&gt; targets = new HashSet&lt;&gt;();\r\n    \r\n        private static ConcurrentMap&lt;String, java.lang.Object&gt; discoveryContext = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n       \r\n        @BeforeEach\r\n        void unregisterMessageHandler()\r\n        {\r\n            discoveryContext = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n            targets.clear();\r\n        }\r\n    \r\n        @AfterAll\r\n        static void cleanUp(VertxTestContext testContext)\r\n        {\r\n            TestUtil.complete(testContext, messageConsumer, false);\r\n        }\r\n    \r\n        @Test\r\n        @Order(1)\r\n        void testLinuxRangeDiscovery(VertxTestContext testContext)\r\n        {\r\n            var discoveryName = &quot;Linux IPRange&quot;;\r\n    \r\n            var range = TestConstants.getStringValue(TestConstants.LINUX_TARGET_RANGE);\r\n    \r\n            setIPRangeDiscoveryTargets(testContext,range);\r\n    \r\n            testDiscovery(testContext, LINUX_CREDENTIAL_CONTEXT.put(CredentialProfile.CREDENTIAL_PROFILE_NAME, &quot;Linux/Unix-Test-&quot;+System.currentTimeMillis()),\r\n                    LINUX_DISCOVERY_PARAMETERS.copy().put(DISCOVERY_TYPE,DISCOVERY_TYPE_IP_ADDRESS_RANGE).put(Discovery.DISCOVERY_TARGET,range).put(Discovery.DISCOVERY_NAME, discoveryName),\r\n                    discoveryName+&quot;: Discovery Job&quot;,60*1000);\r\n        }\r\n    \r\n        @Test\r\n        @Order(2)\r\n        void testLinuxCIDRDiscovery(VertxTestContext testContext)\r\n        {\r\n            var discoveryName = &quot;Linux CIDR&quot;;\r\n    \r\n            var cidr = TestConstants.getStringValue(TestConstants.LINUX_TARGET_CIDR);\r\n    \r\n            setCIDRDiscoveryTargets(testContext, cidr);\r\n    \r\n            testDiscovery(testContext, LINUX_CREDENTIAL_CONTEXT.put(CredentialProfile.CREDENTIAL_PROFILE_NAME, &quot;Linux/Unix-Test-&quot;+System.currentTimeMillis()),\r\n                    LINUX_DISCOVERY_PARAMETERS.copy().put(DISCOVERY_TYPE,DISCOVERY_TYPE_CIDR).put(Discovery.DISCOVERY_TARGET,cidr).put(Discovery.DISCOVERY_NAME, discoveryName),\r\n                    discoveryName+&quot;: Discovery Job&quot;,60*1000);\r\n        }\r\n    \r\n        @Test\r\n        @Order(3)\r\n        void testLinuxCSVDiscovery(VertxTestContext testContext)\r\n        {\r\n            var discoveryName = &quot;Linux CSV&quot;;\r\n    \r\n            var csv = TestConstants.getStringValue(TestConstants.LINUX_TARGET_CSV);\r\n    \r\n            testDiscovery(testContext, LINUX_CREDENTIAL_CONTEXT.put(CredentialProfile.CREDENTIAL_PROFILE_NAME, &quot;Linux/Unix-Test-&quot;+System.currentTimeMillis()),\r\n                    LINUX_DISCOVERY_PARAMETERS.copy().put(DISCOVERY_TYPE,DISCOVERY_TYPE_CSV).put(Discovery.DISCOVERY_TARGET,csv).put(Discovery.DISCOVERY_NAME, discoveryName),\r\n                    discoveryName+&quot;: Discovery Job&quot;,60*1000);\r\n        }\r\n\r\n","title":"Junit5 test cases parallel with some test cases isolated required with class order to be maintained","body":"<p>In my product we have certain test cases that should be run in parallel and also certain test cases that should run in isolation mode I have been using this in junit-platform.properties</p>\n<pre><code>junit.jupiter.execution.parallel.enabled = true\njunit.jupiter.execution.parallel.mode.default = same_thread\njunit.jupiter.execution.parallel.mode.classes.default = concurrent\njunit.jupiter.testclass.order.default = org.junit.jupiter.api.ClassOrderer$OrderAnnotation\n</code></pre>\n<p>Now I have provided order number for test cases class to be executed but what I want is isolated test cases to be executed after all parallel test cases have completed execution as isolated test cases are dependent on test cases that are in running parallel.</p>\n<p>As of now when test cases are getting executed what is happening test class order is not maintained any order test cases are running either parallel or isolated,is there anyway how it can be done it will be of great help..</p>\n<p>This is how I have defined in test case as follows for isolated(There are multiple classes with different scenarios):</p>\n<pre><code>@Order(12)\n@ExtendWith(VertxExtension.class)\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\n@EnabledIfSystemProperty(named=&quot;system.boot.sequence&quot;, matches = &quot;DEFAULT&quot;)\n@Isolated\nclass UserModuleTest\n{\n    private static final long CURRENT_TIME_MILLIS = System.currentTimeMillis();\n\n    private static String refreshToken = null;\n\n    private static String accessToken = null;\n\n    private static final String EXPIRY_DAYS = &quot;password.policy.password.expiry.days&quot;;\n\n    private static final JsonObject ids =  new JsonObject();\n\n    @Test\n    @Order(1)\n    void testGetAllUsers(VertxTestContext testContext)\n    {\n        APITestUtil.get(USER_API_ENDPOINT, testContext.succeeding(response -&gt; testContext.verify(() -&gt;\n        {\n            APITestUtil.assertGETAllRequestTestResult(response,UserConfigStore.getStore(), null);\n\n            testContext.completeNow();\n\n        })));\n    }\n    @Test\n    @Order(2)\n    void testCreateGroup(VertxTestContext testContext)\n    {\n        var context = new JsonObject()\n                .put(FIELD_GROUP_NAME,&quot;grouptest&quot;).put(FIELD_PARENT_GROUP, 0)\n                .put(GROUP_CONTEXT, new JsonObject().put(GROUP_AUTO_ASSIGN, NO));\n\n        APITestUtil.post(GROUP_API_ENDPOINT,context ,\n                testContext.succeeding(response-&gt;\n                        testContext.verify(() -&gt;\n                        {\n                            APITestUtil.assertCreateEntityTestResult(GroupConfigStore.getStore() , context, response.bodyAsJsonObject(), String.format(InfoMessageConstants.ENTITY_CREATED,APIConstants.Entity.GROUP.getName()), null);\n\n                            ids.put(&quot;group&quot;,response.bodyAsJsonObject().getLong(ID));\n\n                            testContext.completeNow();\n                        })));\n    }\n\n    @Test\n    @Order(3)\n    void testCreateChildGroup(VertxTestContext testContext)\n    {\n        var context = new JsonObject().put(FIELD_GROUP_NAME, &quot;groupChild&quot;).put(FIELD_PARENT_GROUP, ids.getLong(&quot;group&quot;))\n                .put(GROUP_CONTEXT, new JsonObject().put(GROUP_AUTO_ASSIGN, NO));\n\n        APITestUtil.post(GROUP_API_ENDPOINT,context,\n                testContext.succeeding(response -&gt;\n                        testContext.verify(() -&gt;\n                        {\n                            APITestUtil.assertCreateEntityTestResult(GroupConfigStore.getStore() , context, response.bodyAsJsonObject(), String.format(InfoMessageConstants.ENTITY_CREATED, Entity.GROUP.getName()), null);\n\n                            ids.put(&quot;child.group&quot;,response.bodyAsJsonObject().getLong(ID));\n\n                            testContext.completeNow();\n                        })));\n    }\n\n}\n</code></pre>\n<p>This is how I have defined in test case as follows for non-isolated means which I want to run parallel(There are multiple classes with different scenarios):</p>\n<pre><code>@Order(2)\n@ExtendWith(VertxExtension.class)\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\n@Timeout(90 * 1000)\n@EnabledIfSystemProperty(named=&quot;system.boot.sequence&quot;, matches = &quot;DEFAULT&quot;)\nclass BDiscoveryTest\n{\n    private static final Logger logger = new Logger(BDiscoveryTest.class, &quot;discovery-test&quot;,&quot;Discovery Test&quot;);\n\n    private static final JsonObject LINUX_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;linux.discovery.parameters&quot;);\n\n    private static final JsonObject LINUX_CREDENTIAL_CONTEXT = TestConstants.getJsonObject(&quot;testLinuxDiscovery&quot;);\n\n    private static final JsonObject WINDOWS_CREDENTIAL_CONTEXT = TestConstants.getJsonObject(&quot;testWindowsDiscovery&quot;);\n\n    private static final JsonObject WINDOWS_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;windows.discovery.parameters&quot;);\n\n    private static final JsonObject NETWORK_CREDENTIAL_CONTEXT = TestConstants.getJsonObject(&quot;testSNMPv1Discovery&quot;);\n\n    private static final JsonObject NETWORK_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;snmp.discovery.v1.parameters&quot;);\n\n    private static final JsonObject ESXI_CREDENTIAL_CONTEXT = TestConstants.getJsonObject(&quot;testESXiDiscovery&quot;);\n\n    private static final JsonObject ESXI_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;esxi.discovery.parameters&quot;);\n\n    private static final JsonObject HYPERV_CREDENTIAL_CONTEXT = TestConstants.getJsonObject(&quot;testHyperVDiscovery&quot;);\n\n    private static final JsonObject HYPERV_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;hyperv.discover.parameters&quot;);\n\n    private static final JsonObject HYPERV_CLUSTER_CREDENTIAL_CONTEXT = TestConstants.getJsonObject(&quot;testHyperVClusterDiscovery&quot;);\n\n    private static final JsonObject HYPERV_CLUSTER_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;hyperv.cluster.discover.parameters&quot;);\n\n    private static final JsonObject CITRIX_CREDENTIAL_CONTEXT = TestConstants.getJsonObject(&quot;testCitrixDiscovery&quot;);\n\n    private static final JsonObject CITRIX_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;citrix.discovery.parameters&quot;);\n\n    private static final JsonObject CITRIX_CLUSTER_CREDENTIAL_CONTEXT = TestConstants.getJsonObject(&quot;testCitrixClusterDiscovery&quot;);\n\n    private static final JsonObject CITRIX_CLUSTER_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;citrix.cluster.discovery.parameters&quot;);\n\n    private static final JsonObject PING_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;testPingServiceCheckDiscoveryWithValidIP&quot;);\n\n    private static final JsonObject PORT_DISCOVERY_PARAMETERS = TestConstants.getJsonObject(&quot;testPortServiceCheckDiscoveryWithValidIP&quot;);\n\n    private static MessageConsumer&lt;JsonObject&gt; messageConsumer;\n\n    private static MessageConsumer&lt;JsonObject&gt; discoveryStatusMessageHandler;\n\n    private static Set&lt;String&gt; targets = new HashSet&lt;&gt;();\n\n    private static ConcurrentMap&lt;String, java.lang.Object&gt; discoveryContext = new ConcurrentHashMap&lt;&gt;();\n\n   \n    @BeforeEach\n    void unregisterMessageHandler()\n    {\n        discoveryContext = new ConcurrentHashMap&lt;&gt;();\n\n        targets.clear();\n    }\n\n    @AfterAll\n    static void cleanUp(VertxTestContext testContext)\n    {\n        TestUtil.complete(testContext, messageConsumer, false);\n    }\n\n    @Test\n    @Order(1)\n    void testLinuxRangeDiscovery(VertxTestContext testContext)\n    {\n        var discoveryName = &quot;Linux IPRange&quot;;\n\n        var range = TestConstants.getStringValue(TestConstants.LINUX_TARGET_RANGE);\n\n        setIPRangeDiscoveryTargets(testContext,range);\n\n        testDiscovery(testContext, LINUX_CREDENTIAL_CONTEXT.put(CredentialProfile.CREDENTIAL_PROFILE_NAME, &quot;Linux/Unix-Test-&quot;+System.currentTimeMillis()),\n                LINUX_DISCOVERY_PARAMETERS.copy().put(DISCOVERY_TYPE,DISCOVERY_TYPE_IP_ADDRESS_RANGE).put(Discovery.DISCOVERY_TARGET,range).put(Discovery.DISCOVERY_NAME, discoveryName),\n                discoveryName+&quot;: Discovery Job&quot;,60*1000);\n    }\n\n    @Test\n    @Order(2)\n    void testLinuxCIDRDiscovery(VertxTestContext testContext)\n    {\n        var discoveryName = &quot;Linux CIDR&quot;;\n\n        var cidr = TestConstants.getStringValue(TestConstants.LINUX_TARGET_CIDR);\n\n        setCIDRDiscoveryTargets(testContext, cidr);\n\n        testDiscovery(testContext, LINUX_CREDENTIAL_CONTEXT.put(CredentialProfile.CREDENTIAL_PROFILE_NAME, &quot;Linux/Unix-Test-&quot;+System.currentTimeMillis()),\n                LINUX_DISCOVERY_PARAMETERS.copy().put(DISCOVERY_TYPE,DISCOVERY_TYPE_CIDR).put(Discovery.DISCOVERY_TARGET,cidr).put(Discovery.DISCOVERY_NAME, discoveryName),\n                discoveryName+&quot;: Discovery Job&quot;,60*1000);\n    }\n\n    @Test\n    @Order(3)\n    void testLinuxCSVDiscovery(VertxTestContext testContext)\n    {\n        var discoveryName = &quot;Linux CSV&quot;;\n\n        var csv = TestConstants.getStringValue(TestConstants.LINUX_TARGET_CSV);\n\n        testDiscovery(testContext, LINUX_CREDENTIAL_CONTEXT.put(CredentialProfile.CREDENTIAL_PROFILE_NAME, &quot;Linux/Unix-Test-&quot;+System.currentTimeMillis()),\n                LINUX_DISCOVERY_PARAMETERS.copy().put(DISCOVERY_TYPE,DISCOVERY_TYPE_CSV).put(Discovery.DISCOVERY_TARGET,csv).put(Discovery.DISCOVERY_NAME, discoveryName),\n                discoveryName+&quot;: Discovery Job&quot;,60*1000);\n    }\n</code></pre>\n"},{"tags":["java","java-8","keystore","keytool"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650543147,"post_id":71954022,"comment_id":127145895,"body_markdown":"Not sure if `-sigalg`has any bearing on this - perhaps it could. http://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/CryptoSpec.html#AppA","body":"Not sure if <code>-sigalg</code>has any bearing on this - perhaps it could. <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/CryptoSpec.html#AppA\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/security/cryp&zwnj;&#8203;to/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650629732,"creation_date":1650629402,"answer_id":71968527,"question_id":71954022,"body_markdown":"You need to keep separate the algorithm a key is for and the way it is protected.\r\n\r\nA Java keystore (depending on type, including JCEKS and PKCS12 but not JKS) can [contain three kinds of entries](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/KeyStore.html). A SecretKeyEntry in general contains a secret _key_ which is typically valid for a particular cipher algorithm, identified in the `SecretKey` object within the entry. But for _password-based_ algorithms, the &#39;key&#39; object is actually a generic &#39;PBEKey&#39; which contains a password and AFAICT can be used for any PBE algorithm. It appears the &#39;algorithm&#39; for such keys is actually stored as PBEwithMD5andDES, I suspect because that&#39;s the only scheme from original PKCS5 (i.e. PBES1) Java implements. However, _my_ Oracle 8u212 keytool says more generically `Generated PBE secret key` in this case, not `PBEwithMD5andDES` as you show.\r\n\r\nThe stored secret key (and stored private key also) can be and normally is &#39;protected&#39; _in the keystore_ by being encrypted with a password-based encryption algorithm; this &#39;protection&#39; algorithm is different from and in general not related to the algorithm(s) that the key or password will be used with after retrieval.\r\n\r\n`keytool -importpass -keyalg PBEWithHmacSHA256AndAES_128` attempts to specify the algorithm the key-really-password is nominally to be _used with_ when retrieved, but not how it is protected, which for PKCS12 in most older versions including **yours is actually PBE-SHA1-TripleDES** (the same as for privatekeys) -- you can see this, with a little work, using OpenSSL. And in _my_ 8u212 `keytool` specifying `-keyalg` _fails_ for PKCS12 with an exception claiming it can&#39;t protect because there are no parameters for that algorithm (although I think the problem is serializing, not actually encrypting) much as you say your code does for PKCS12, but Java does have these parameters -- although in a different provider (SunJCE vs SunJSSE) which might be messing it up somehow; as you say JCEKS is in SunJCE.\r\nSimilarly your code generates a key _to be used with_ that algorithm, but protected the default way. To change the _protection_ you need to specify it in `PasswordProtection`, as stated in the page you link; see https://stackoverflow.com/a/47389384/ (by the same author) for an example.\r\n\r\n_Recent_ versions of Java -- 8u301 and 11.0.12 up -- have a new feature to configure the protection algorithms for PKCS12 with security properties in the `java.security` file which is in `JRE/lib/security` for 8 down or `JRE/conf/security` for 9 up. This applies to both code you write if not overridden as above, and to keytool (which can&#39;t override). However, those versions (except for 12 through 16, which are now EOL) also now default to PBEwithHmacSHA256andAES_256 which is already better than you asked for, so **you probably don&#39;t need to change anything -- just use 8u301 up**. \r\n\r\nNote JCEKS uses a Sun-defined PBE-MD5-TripleDES similar to, but not, PBES1, while JKS doesn&#39;t support secretkey entries but for privatekey entries uses a deliberately weak (ITAR-friendly back in the 1990s) Sun-custom algorithm; these cannot be changed.\r\n","title":"Using java keytool to encrypt imported paswords with PBEWithHmacSHA256AndAES_128","body":"<p>You need to keep separate the algorithm a key is for and the way it is protected.</p>\n<p>A Java keystore (depending on type, including JCEKS and PKCS12 but not JKS) can <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/KeyStore.html\" rel=\"nofollow noreferrer\">contain three kinds of entries</a>. A SecretKeyEntry in general contains a secret <em>key</em> which is typically valid for a particular cipher algorithm, identified in the <code>SecretKey</code> object within the entry. But for <em>password-based</em> algorithms, the 'key' object is actually a generic 'PBEKey' which contains a password and AFAICT can be used for any PBE algorithm. It appears the 'algorithm' for such keys is actually stored as PBEwithMD5andDES, I suspect because that's the only scheme from original PKCS5 (i.e. PBES1) Java implements. However, <em>my</em> Oracle 8u212 keytool says more generically <code>Generated PBE secret key</code> in this case, not <code>PBEwithMD5andDES</code> as you show.</p>\n<p>The stored secret key (and stored private key also) can be and normally is 'protected' <em>in the keystore</em> by being encrypted with a password-based encryption algorithm; this 'protection' algorithm is different from and in general not related to the algorithm(s) that the key or password will be used with after retrieval.</p>\n<p><code>keytool -importpass -keyalg PBEWithHmacSHA256AndAES_128</code> attempts to specify the algorithm the key-really-password is nominally to be <em>used with</em> when retrieved, but not how it is protected, which for PKCS12 in most older versions including <strong>yours is actually PBE-SHA1-TripleDES</strong> (the same as for privatekeys) -- you can see this, with a little work, using OpenSSL. And in <em>my</em> 8u212 <code>keytool</code> specifying <code>-keyalg</code> <em>fails</em> for PKCS12 with an exception claiming it can't protect because there are no parameters for that algorithm (although I think the problem is serializing, not actually encrypting) much as you say your code does for PKCS12, but Java does have these parameters -- although in a different provider (SunJCE vs SunJSSE) which might be messing it up somehow; as you say JCEKS is in SunJCE.\nSimilarly your code generates a key <em>to be used with</em> that algorithm, but protected the default way. To change the <em>protection</em> you need to specify it in <code>PasswordProtection</code>, as stated in the page you link; see <a href=\"https://stackoverflow.com/a/47389384/\">https://stackoverflow.com/a/47389384/</a> (by the same author) for an example.</p>\n<p><em>Recent</em> versions of Java -- 8u301 and 11.0.12 up -- have a new feature to configure the protection algorithms for PKCS12 with security properties in the <code>java.security</code> file which is in <code>JRE/lib/security</code> for 8 down or <code>JRE/conf/security</code> for 9 up. This applies to both code you write if not overridden as above, and to keytool (which can't override). However, those versions (except for 12 through 16, which are now EOL) also now default to PBEwithHmacSHA256andAES_256 which is already better than you asked for, so <strong>you probably don't need to change anything -- just use 8u301 up</strong>.</p>\n<p>Note JCEKS uses a Sun-defined PBE-MD5-TripleDES similar to, but not, PBES1, while JKS doesn't support secretkey entries but for privatekey entries uses a deliberately weak (ITAR-friendly back in the 1990s) Sun-custom algorithm; these cannot be changed.</p>\n"}],"owner":{"account_id":15576463,"reputation":71,"user_id":11237453,"display_name":"ijm3"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650629732,"creation_date":1650542080,"question_id":71954022,"body_markdown":"I am looking to store sensitive passwords in a java keystore using java keytool&#39;s importpass. I am using Oracle java version 1.8.0_212, and cannot upgrade from java 8 at the moment. \r\n\r\nI have created a PKCS12 keystore with the following command:\r\n\r\n`keytool -keystore test-keystore.p12 -genkey -storetype PKCS12 -alias test`\r\n\r\nI then imported a password into the keystore using:\r\n\r\n`keytool -importpass -storetype pkcs12 -alias protectedPass -keystore test-keystore.p12`\r\n\r\nThis worked, but this uses the encryption algorithm &quot;PBEWithMD5AndDES&quot; by default, which isn&#39;t particularly secure. I am now trying to use &quot;PBEWithHmacSHA256AndAES_128&quot; from the Java Security Standard Algorithm Names doc but having issues getting this to work.\r\n\r\nI&#39;ve tried specifying the keyalg like this:\r\n\r\n`keytool -importpass -keyalg PBEWithHmacSHA256AndAES_128 -storetype pkcs12 -alias protectedPass -keystore test-keystore.p12 -v`\r\n\r\nand while this doesn&#39;t cause an error, it doesn&#39;t seem to actually affect the output. The secret is key still generated with PBEWithMD5AndDES:\r\n\r\n```\r\nD:\\temp&gt;keytool -importpass -keyalg PBEWithHmacSHA256AndAES_128 -storetype pkcs12 -alias protectedPass -keystore test-keystore.p12 -v\r\nEnter keystore password:\r\nEnter the password to be stored:\r\nRe-enter password:\r\nGenerated PBEWithMD5AndDES secret key\r\n[Storing test-keystore.p12]\r\n```\r\n\r\nI can see examples, such as in [Java Keystores the Gory Details][1], of people using KeyStore.PasswordProtection to use algorithms like this, but I wanted to use the keytool if possible.\r\n\r\nAm I missing something key here or trying to do something silly?\r\n\r\n\r\n**EDIT:**\r\n\r\nTried to do something similar programmatically to figure out what I&#39;m doing wrong and had no luck using PKCS12 keystores with this algorithm. However, jceks seems to work. I think this is to do with it using the SunJCE provider instead. Is there some parameter I am missing to get this algorithm working with pcks12? Or is there some other approach I could take?\r\n\r\nI have provided some simple demo code below. If you swap &quot;JCEKS&quot; for &quot;PKCS12&quot; it will throw `java.security.NoSuchAlgorithmException: unrecognized algorithm name: PBEWithHmacSHA256AndAES_128`.\r\n\r\n**Demo Code:**\r\n```java\r\nstatic void encrypt() throws Exception {\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;JCEKS&quot;);\r\n    keyStore.load(null, &quot;changeit&quot;.toCharArray());\r\n    KeyStore.PasswordProtection keyStorePP = new KeyStore.PasswordProtection(&quot;changeit&quot;.toCharArray());\r\n\r\n    SecretKeyFactory pbeKeyFactory = SecretKeyFactory.getInstance(&quot;PBEWithHmacSHA256AndAES_128&quot;);\r\n    SecretKey pbeKey = pbeKeyFactory.generateSecret(new PBEKeySpec(&quot;testpassword&quot;.toCharArray()));\r\n\r\n    keyStore.setEntry(SECRET_KEY_ALIAS, new KeyStore.SecretKeyEntry(\r\n            pbeKey), keyStorePP);\r\n\r\n    FileOutputStream outputStream = new FileOutputStream(FILE_PATH);\r\n    keyStore.store(outputStream, &quot;changeit&quot;.toCharArray());\r\n}\r\n\r\nstatic void decrypt() throws Exception {\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;JCEKS&quot;);\r\n    FileInputStream fileInputStream = new FileInputStream(FILE_PATH);\r\n    keyStore.load(fileInputStream, &quot;changeit&quot;.toCharArray());\r\n\r\n    KeyStore.PasswordProtection keyStorePP = new KeyStore.PasswordProtection(&quot;changeit&quot;.toCharArray());\r\n\r\n    KeyStore.SecretKeyEntry ske =\r\n            (KeyStore.SecretKeyEntry)keyStore.getEntry(SECRET_KEY_ALIAS, keyStorePP);\r\n\r\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBEWithHmacSHA256AndAES_128&quot;);\r\n    PBEKeySpec keySpec = (PBEKeySpec)factory.getKeySpec(\r\n            ske.getSecretKey(),\r\n            PBEKeySpec.class);\r\n\r\n    System.out.println(new String(keySpec.getPassword()));\r\n}\r\n```\r\n\r\n  [1]: https://neilmadden.blog/2017/11/17/java-keystores-the-gory-details/","title":"Using java keytool to encrypt imported paswords with PBEWithHmacSHA256AndAES_128","body":"<p>I am looking to store sensitive passwords in a java keystore using java keytool's importpass. I am using Oracle java version 1.8.0_212, and cannot upgrade from java 8 at the moment.</p>\n<p>I have created a PKCS12 keystore with the following command:</p>\n<p><code>keytool -keystore test-keystore.p12 -genkey -storetype PKCS12 -alias test</code></p>\n<p>I then imported a password into the keystore using:</p>\n<p><code>keytool -importpass -storetype pkcs12 -alias protectedPass -keystore test-keystore.p12</code></p>\n<p>This worked, but this uses the encryption algorithm &quot;PBEWithMD5AndDES&quot; by default, which isn't particularly secure. I am now trying to use &quot;PBEWithHmacSHA256AndAES_128&quot; from the Java Security Standard Algorithm Names doc but having issues getting this to work.</p>\n<p>I've tried specifying the keyalg like this:</p>\n<p><code>keytool -importpass -keyalg PBEWithHmacSHA256AndAES_128 -storetype pkcs12 -alias protectedPass -keystore test-keystore.p12 -v</code></p>\n<p>and while this doesn't cause an error, it doesn't seem to actually affect the output. The secret is key still generated with PBEWithMD5AndDES:</p>\n<pre><code>D:\\temp&gt;keytool -importpass -keyalg PBEWithHmacSHA256AndAES_128 -storetype pkcs12 -alias protectedPass -keystore test-keystore.p12 -v\nEnter keystore password:\nEnter the password to be stored:\nRe-enter password:\nGenerated PBEWithMD5AndDES secret key\n[Storing test-keystore.p12]\n</code></pre>\n<p>I can see examples, such as in <a href=\"https://neilmadden.blog/2017/11/17/java-keystores-the-gory-details/\" rel=\"nofollow noreferrer\">Java Keystores the Gory Details</a>, of people using KeyStore.PasswordProtection to use algorithms like this, but I wanted to use the keytool if possible.</p>\n<p>Am I missing something key here or trying to do something silly?</p>\n<p><strong>EDIT:</strong></p>\n<p>Tried to do something similar programmatically to figure out what I'm doing wrong and had no luck using PKCS12 keystores with this algorithm. However, jceks seems to work. I think this is to do with it using the SunJCE provider instead. Is there some parameter I am missing to get this algorithm working with pcks12? Or is there some other approach I could take?</p>\n<p>I have provided some simple demo code below. If you swap &quot;JCEKS&quot; for &quot;PKCS12&quot; it will throw <code>java.security.NoSuchAlgorithmException: unrecognized algorithm name: PBEWithHmacSHA256AndAES_128</code>.</p>\n<p><strong>Demo Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>static void encrypt() throws Exception {\n    KeyStore keyStore = KeyStore.getInstance(&quot;JCEKS&quot;);\n    keyStore.load(null, &quot;changeit&quot;.toCharArray());\n    KeyStore.PasswordProtection keyStorePP = new KeyStore.PasswordProtection(&quot;changeit&quot;.toCharArray());\n\n    SecretKeyFactory pbeKeyFactory = SecretKeyFactory.getInstance(&quot;PBEWithHmacSHA256AndAES_128&quot;);\n    SecretKey pbeKey = pbeKeyFactory.generateSecret(new PBEKeySpec(&quot;testpassword&quot;.toCharArray()));\n\n    keyStore.setEntry(SECRET_KEY_ALIAS, new KeyStore.SecretKeyEntry(\n            pbeKey), keyStorePP);\n\n    FileOutputStream outputStream = new FileOutputStream(FILE_PATH);\n    keyStore.store(outputStream, &quot;changeit&quot;.toCharArray());\n}\n\nstatic void decrypt() throws Exception {\n    KeyStore keyStore = KeyStore.getInstance(&quot;JCEKS&quot;);\n    FileInputStream fileInputStream = new FileInputStream(FILE_PATH);\n    keyStore.load(fileInputStream, &quot;changeit&quot;.toCharArray());\n\n    KeyStore.PasswordProtection keyStorePP = new KeyStore.PasswordProtection(&quot;changeit&quot;.toCharArray());\n\n    KeyStore.SecretKeyEntry ske =\n            (KeyStore.SecretKeyEntry)keyStore.getEntry(SECRET_KEY_ALIAS, keyStorePP);\n\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBEWithHmacSHA256AndAES_128&quot;);\n    PBEKeySpec keySpec = (PBEKeySpec)factory.getKeySpec(\n            ske.getSecretKey(),\n            PBEKeySpec.class);\n\n    System.out.println(new String(keySpec.getPassword()));\n}\n</code></pre>\n"},{"tags":["java","import"],"comments":[{"owner":{"account_id":14478562,"reputation":178,"user_id":10458514,"display_name":"Scryper"},"score":0,"creation_date":1650625611,"post_id":71967720,"comment_id":127168970,"body_markdown":"Hi, what&#39;s written when you hover the red line on the import ?","body":"Hi, what&#39;s written when you hover the red line on the import ?"},{"owner":{"account_id":25050816,"reputation":1,"user_id":18906761,"display_name":"user18906761"},"score":0,"creation_date":1650633729,"post_id":71967720,"comment_id":127171903,"body_markdown":"The import org.apache cannot be resolved","body":"The import org.apache cannot be resolved"},{"owner":{"account_id":14478562,"reputation":178,"user_id":10458514,"display_name":"Scryper"},"score":0,"creation_date":1650635882,"post_id":71967720,"comment_id":127172766,"body_markdown":"It means that this package is not in the project. If it is an external jar do : ```Properties &gt; Java Build Path &gt; Libraries &gt; Add external JARs```. If it&#39;s not, and depending on the type of project (Maven for exemple) check your dependencies to see if the packages have been installed.","body":"It means that this package is not in the project. If it is an external jar do : <code>Properties &gt; Java Build Path &gt; Libraries &gt; Add external JARs</code>. If it&#39;s not, and depending on the type of project (Maven for exemple) check your dependencies to see if the packages have been installed."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650629569,"creation_date":1650629569,"answer_id":71968560,"question_id":71967720,"body_markdown":"myData.json must be in double quotes.","title":"Why there is still error after i import the org.apache.commons.io.IOUtils? How to resolve them and how to add the import properly?","body":"<p>myData.json must be in double quotes.</p>\n"}],"owner":{"account_id":25050816,"reputation":1,"user_id":18906761,"display_name":"user18906761"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650629569,"creation_date":1650625408,"question_id":71967720,"body_markdown":"[After i import it stills remain error? Where should I download the the import? How to import?][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q8zb2.jpg\r\n\r\n    import java.util.Scanner;\r\n    import java.util.*;\r\n    import java.io.*; \r\n    import java.lang.*; \r\n    import java.util.Scanner; \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import org.apache.commons.io.IOUtils;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n\r\n    public class Activity {\r\n    public static void main1(String[] args) {\r\n    \r\n        try {\r\n          InputStream is = ReadJsonClass.class.getResourceAsStream(myData.json ); \r\n          String text = IOUtils.toString(is, &quot;UTF-8&quot;) ;\r\n          JSONObject myJsonObject = new JSONObject(text);\r\n          System.out.println(myJsonObject);\r\n        } catch (IOException | JSONException e) {\r\n            System.out.println(&quot;Try you have never caught before&quot;);\r\n        }\r\n    } ","title":"Why there is still error after i import the org.apache.commons.io.IOUtils? How to resolve them and how to add the import properly?","body":"<p><a href=\"https://i.stack.imgur.com/q8zb2.jpg\" rel=\"nofollow noreferrer\">After i import it stills remain error? Where should I download the the import? How to import?</a></p>\n<pre><code>import java.util.Scanner;\nimport java.util.*;\nimport java.io.*; \nimport java.lang.*; \nimport java.util.Scanner; \nimport java.io.IOException;\nimport java.io.InputStream;\nimport org.apache.commons.io.IOUtils;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\npublic class Activity {\npublic static void main1(String[] args) {\n\n    try {\n      InputStream is = ReadJsonClass.class.getResourceAsStream(myData.json ); \n      String text = IOUtils.toString(is, &quot;UTF-8&quot;) ;\n      JSONObject myJsonObject = new JSONObject(text);\n      System.out.println(myJsonObject);\n    } catch (IOException | JSONException e) {\n        System.out.println(&quot;Try you have never caught before&quot;);\n    }\n} \n</code></pre>\n"},{"tags":["java","function","java-8","bijection"],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650582999,"creation_date":1650582572,"answer_id":71961774,"question_id":71961296,"body_markdown":"Try this.\r\n\r\n    public static &lt;T&gt; Set&lt;Function&lt;T, T&gt;&gt; bijectionsOf(Set&lt;T&gt; set) {\r\n        ArrayList&lt;T&gt; domain = new ArrayList&lt;&gt;(set);\r\n        return permutations(domain, new ArrayList&lt;&gt;(), set.size(), 0)\r\n            .stream()\r\n            .map(list -&gt; (Function&lt;T, T&gt;) t -&gt; list.get(domain.indexOf(t)))\r\n            .collect(Collectors.toSet());\r\n    }\r\n\r\noutput:\r\n\r\n    1 --&gt; 1; 2 --&gt; 3; 3 --&gt; 2;\r\n    1 --&gt; 3; 2 --&gt; 2; 3 --&gt; 1;\r\n    1 --&gt; 2; 2 --&gt; 1; 3 --&gt; 3;\r\n    1 --&gt; 3; 2 --&gt; 1; 3 --&gt; 2;\r\n    1 --&gt; 1; 2 --&gt; 2; 3 --&gt; 3;\r\n    1 --&gt; 2; 2 --&gt; 3; 3 --&gt; 1;\r\n\r\n","title":"Set of functions using Function interface","body":"<p>Try this.</p>\n<pre><code>public static &lt;T&gt; Set&lt;Function&lt;T, T&gt;&gt; bijectionsOf(Set&lt;T&gt; set) {\n    ArrayList&lt;T&gt; domain = new ArrayList&lt;&gt;(set);\n    return permutations(domain, new ArrayList&lt;&gt;(), set.size(), 0)\n        .stream()\n        .map(list -&gt; (Function&lt;T, T&gt;) t -&gt; list.get(domain.indexOf(t)))\n        .collect(Collectors.toSet());\n}\n</code></pre>\n<p>output:</p>\n<pre><code>1 --&gt; 1; 2 --&gt; 3; 3 --&gt; 2;\n1 --&gt; 3; 2 --&gt; 2; 3 --&gt; 1;\n1 --&gt; 2; 2 --&gt; 1; 3 --&gt; 3;\n1 --&gt; 3; 2 --&gt; 1; 3 --&gt; 2;\n1 --&gt; 1; 2 --&gt; 2; 3 --&gt; 3;\n1 --&gt; 2; 2 --&gt; 3; 3 --&gt; 1;\n</code></pre>\n"}],"owner":{"account_id":12826751,"reputation":23,"user_id":9279486,"display_name":"Anurag Singla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1650631264,"answer_count":1,"score":0,"last_activity_date":1650629491,"creation_date":1650578009,"question_id":71961296,"body_markdown":"Let there be a set A = {1,2,3}. The goal is to compute all bijections on AxA. It should be of type Set&lt;Function&lt;T,T&gt;&gt; so that in the driver code, we can use the &quot;apply&quot; function.\r\n\r\nI have tried a lot and have also figured out that the bijections will be the permutations of set A and have also computed that, but I&#39;m unable to write code to create a Set of Functions(Mappings) for this.\r\n\r\nIt&#39;s a homework assignment, so any hint would be appreciated. Also, we have to use Java 8 functional programming features.","title":"Set of functions using Function interface","body":"<p>Let there be a set A = {1,2,3}. The goal is to compute all bijections on AxA. It should be of type Set&lt;Function&lt;T,T&gt;&gt; so that in the driver code, we can use the &quot;apply&quot; function.</p>\n<p>I have tried a lot and have also figured out that the bijections will be the permutations of set A and have also computed that, but I'm unable to write code to create a Set of Functions(Mappings) for this.</p>\n<p>It's a homework assignment, so any hint would be appreciated. Also, we have to use Java 8 functional programming features.</p>\n"},{"tags":["java","data-structures","hashmap","compare"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1650369110,"post_id":71924229,"comment_id":127093743,"body_markdown":"Please share what did you try so far.","body":"Please share what did you try so far."}],"answers":[{"tags":[],"owner":{"account_id":11113839,"reputation":1926,"user_id":8158692,"display_name":"Baptiste Beauvais"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650379877,"creation_date":1650379877,"answer_id":71926992,"question_id":71924229,"body_markdown":"Simply reverse the `Map`, use your values as grouping key for the original keys where the value repeat. \r\n```java\r\nMap&lt;KeysClass, List&lt;ValuesClass&gt;&gt; original = ....\r\nMap&lt;ValuesClass, List&lt;KeysClass&gt;&gt; keysGroupedPerValue = new HashMap&lt;&gt;();\r\n\r\nfor(Entry&lt;KeysClass, List&lt;ValuesClass&gt; entry : original) {\r\n   for(ValuesClass value : entry.getValue()) {\r\n      List&lt;KeysClass&gt; keysHavingValue = keysGroupedPerValue.computeIfAbsent(value, val -&gt; new ArrayList&lt;&gt;());\r\n      keysHavingValues.add(entry.getKey());\r\n   }\r\n}\r\n```\r\nThere are also more elegant solutions using the `Stream` and `Collector` APIs.","title":"Compare HashMap Values structured as List","body":"<p>Simply reverse the <code>Map</code>, use your values as grouping key for the original keys where the value repeat.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;KeysClass, List&lt;ValuesClass&gt;&gt; original = ....\nMap&lt;ValuesClass, List&lt;KeysClass&gt;&gt; keysGroupedPerValue = new HashMap&lt;&gt;();\n\nfor(Entry&lt;KeysClass, List&lt;ValuesClass&gt; entry : original) {\n   for(ValuesClass value : entry.getValue()) {\n      List&lt;KeysClass&gt; keysHavingValue = keysGroupedPerValue.computeIfAbsent(value, val -&gt; new ArrayList&lt;&gt;());\n      keysHavingValues.add(entry.getKey());\n   }\n}\n</code></pre>\n<p>There are also more elegant solutions using the <code>Stream</code> and <code>Collector</code> APIs.</p>\n"}],"owner":{"account_id":14910975,"reputation":11,"user_id":10766476,"display_name":"Mel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650629467,"answer_count":1,"score":0,"last_activity_date":1650629459,"creation_date":1650367789,"question_id":71924229,"body_markdown":"I have a HashMap structured like \r\n\r\n    {a=[test], b=[test, test2]}\r\n\r\nI want to compare entry values (test, test2) with each other and if any entry has same value with another one, I need to return their keys and the equal value. I want to do this in Java.","title":"Compare HashMap Values structured as List","body":"<p>I have a HashMap structured like</p>\n<pre><code>{a=[test], b=[test, test2]}\n</code></pre>\n<p>I want to compare entry values (test, test2) with each other and if any entry has same value with another one, I need to return their keys and the equal value. I want to do this in Java.</p>\n"},{"tags":["java","xml","parsing","jpa","path"],"comments":[{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":0,"creation_date":1650528939,"post_id":71950986,"comment_id":127140412,"body_markdown":"Does this answer your question? [Watching a Directory for Changes in Java](https://stackoverflow.com/questions/23452527/watching-a-directory-for-changes-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23452527/watching-a-directory-for-changes-in-java\">Watching a Directory for Changes in Java</a>"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1650528980,"post_id":71950986,"comment_id":127140423,"body_markdown":"It sounds like what you&#39;re *actually* asking is &quot;How do I get the files in a directory?&quot; `File.listFiles()` would be one starting point - there may be more modern Path-based approaches too.","body":"It sounds like what you&#39;re <i>actually</i> asking is &quot;How do I get the files in a directory?&quot; <code>File.listFiles()</code> would be one starting point - there may be more modern Path-based approaches too."},{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":0,"creation_date":1650529337,"post_id":71950986,"comment_id":127140569,"body_markdown":"@YannickMussche You can do listFIles and then iterate over it - search for file/s with .xml extension/s.","body":"@YannickMussche You can do listFIles and then iterate over it - search for file/s with .xml extension/s."},{"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"score":0,"creation_date":1650529448,"post_id":71950986,"comment_id":127140617,"body_markdown":"@KenY-N, I have studied the link you posted. I do not think it answers my question. Because it explains:       // We obtain the file system of the Path,  but I know the file system of the path, I do not know the name of the file that has to be parsed in that directory. Or does this path also include the name of the xml file?","body":"@KenY-N, I have studied the link you posted. I do not think it answers my question. Because it explains:       // We obtain the file system of the Path,  but I know the file system of the path, I do not know the name of the file that has to be parsed in that directory. Or does this path also include the name of the xml file?"},{"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"score":0,"creation_date":1650529761,"post_id":71950986,"comment_id":127140742,"body_markdown":"@Wortig, I think this might be it. To be clear, this method only makes a list of the filenames in the directory. It does not already the xml data ? I still have to use the code above to then read the xml files, of which i acquired the names?","body":"@Wortig, I think this might be it. To be clear, this method only makes a list of the filenames in the directory. It does not already the xml data ? I still have to use the code above to then read the xml files, of which i acquired the names?"},{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":0,"creation_date":1650530335,"post_id":71950986,"comment_id":127140975,"body_markdown":"AFAIK, the `Path` here means the file plus (relative, it seems) path , not the path alone.","body":"AFAIK, the <code>Path</code> here means the file plus (relative, it seems) path , not the path alone."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650529130,"creation_date":1650529130,"answer_id":71951080,"question_id":71950986,"body_markdown":"If you know the directory where the files end up, you can list it&#39;s content like so:\r\n\r\n    File dir = new File(&quot;/your/path&quot;);\r\n    System.out.println(dir.listFiles());\r\n\r\nThat should give you an idea of what is available for parsing.\r\nSee also https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html#listFiles()","title":"How to parse XML files without knowledge of filename","body":"<p>If you know the directory where the files end up, you can list it's content like so:</p>\n<pre><code>File dir = new File(&quot;/your/path&quot;);\nSystem.out.println(dir.listFiles());\n</code></pre>\n<p>That should give you an idea of what is available for parsing.\nSee also <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html#listFiles()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html#listFiles()</a></p>\n"},{"tags":[],"owner":{"account_id":9793863,"reputation":181,"user_id":7257604,"display_name":"office.aizaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650531660,"creation_date":1650531660,"answer_id":71951685,"question_id":71950986,"body_markdown":"Well a naive approach would be that you get the directly listing. \r\n1. Take the first file\r\n2. Look into the database if the file has already been processed\r\n3. If the filename does not exist, process it.\r\n4. After processing, add the filename and timestamp into the DB.\r\n5. Do the same for the next file.\r\n\r\nIf you are using Java 8, the following code can help you get the information from a directory.\r\n\r\n```\r\n  try (Stream&lt;Path&gt; walk = Files.walk(Paths.get(&quot;C:\\\\test&quot;))) {\r\n      result = walk\r\n              .filter(p -&gt; !Files.isDirectory(p))   // not a directory\r\n              .map(p -&gt; p.toString().toLowerCase()) // convert path to string\r\n              .filter(f -&gt; f.endsWith(&quot;png&quot;))       // check end with\r\n              .collect(Collectors.toList());        // collect all matched to a List\r\n  }\r\n```\r\n\r\nLook at the following link for complete example:\r\nhttps://mkyong.com/java/how-to-find-files-with-certain-extension-only/\r\n\r\nI mean you will find a lot of tutorials on how you can get the list of the filenames, you can adjust it accordingly, if you are interested only in XML files.\r\n\r\n","title":"How to parse XML files without knowledge of filename","body":"<p>Well a naive approach would be that you get the directly listing.</p>\n<ol>\n<li>Take the first file</li>\n<li>Look into the database if the file has already been processed</li>\n<li>If the filename does not exist, process it.</li>\n<li>After processing, add the filename and timestamp into the DB.</li>\n<li>Do the same for the next file.</li>\n</ol>\n<p>If you are using Java 8, the following code can help you get the information from a directory.</p>\n<pre><code>  try (Stream&lt;Path&gt; walk = Files.walk(Paths.get(&quot;C:\\\\test&quot;))) {\n      result = walk\n              .filter(p -&gt; !Files.isDirectory(p))   // not a directory\n              .map(p -&gt; p.toString().toLowerCase()) // convert path to string\n              .filter(f -&gt; f.endsWith(&quot;png&quot;))       // check end with\n              .collect(Collectors.toList());        // collect all matched to a List\n  }\n</code></pre>\n<p>Look at the following link for complete example:\n<a href=\"https://mkyong.com/java/how-to-find-files-with-certain-extension-only/\" rel=\"nofollow noreferrer\">https://mkyong.com/java/how-to-find-files-with-certain-extension-only/</a></p>\n<p>I mean you will find a lot of tutorials on how you can get the list of the filenames, you can adjust it accordingly, if you are interested only in XML files.</p>\n"}],"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71951080,"answer_count":2,"score":0,"last_activity_date":1650629296,"creation_date":1650528682,"question_id":71950986,"body_markdown":"I have a directory in which I receive orders as XML file. I want to parse this file and then do some things with it. I can set a scheduled job to check this directory every * seconds. I want to use this to parse the file:\r\n\r\n``` \r\nDocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\nDocument doc = builder.parse(new File(&quot;src/test/resources/example_jdom.xml&quot;));\r\ndoc.getDocumentElement().normalize(); \r\n```\r\n\r\nThe problem is, I do not know the filename. I know the location where the XML file is going to appear, but I do not know how that file is going to be named. \r\n\r\nHow do solve this when I set my path?\r\nSince I can run my scheduled job every millisecond if I want, the chances that 2 files appear at the exact same time is negligible.\r\n\r\n","title":"How to parse XML files without knowledge of filename","body":"<p>I have a directory in which I receive orders as XML file. I want to parse this file and then do some things with it. I can set a scheduled job to check this directory every * seconds. I want to use this to parse the file:</p>\n<pre><code>DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\nDocument doc = builder.parse(new File(&quot;src/test/resources/example_jdom.xml&quot;));\ndoc.getDocumentElement().normalize(); \n</code></pre>\n<p>The problem is, I do not know the filename. I know the location where the XML file is going to appear, but I do not know how that file is going to be named.</p>\n<p>How do solve this when I set my path?\nSince I can run my scheduled job every millisecond if I want, the chances that 2 files appear at the exact same time is negligible.</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650629255,"creation_date":1650629255,"answer_id":71968496,"question_id":71968299,"body_markdown":"You can create query like below:\r\n\r\n```java\r\nSearchRequest searchRequest = new SearchRequest(&quot;userdoc&quot;);\r\nSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\nBoolQueryBuilder queryBuilder = QueryBuilders.boolQuery()\r\n\t\t\t\t.mustNot(QueryBuilders.nestedQuery(&quot;myField&quot;, QueryBuilders.existsQuery(&quot;myField.id&quot;),ScoreMode.None));\r\nsearchSourceBuilder.query(queryBuilder);\r\nsearchRequest.source(searchSourceBuilder);\r\nSearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\r\n```","title":"How to build nested query in Elasticsearch to Java","body":"<p>You can create query like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SearchRequest searchRequest = new SearchRequest(&quot;userdoc&quot;);\nSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\nBoolQueryBuilder queryBuilder = QueryBuilders.boolQuery()\n                .mustNot(QueryBuilders.nestedQuery(&quot;myField&quot;, QueryBuilders.existsQuery(&quot;myField.id&quot;),ScoreMode.None));\nsearchSourceBuilder.query(queryBuilder);\nsearchRequest.source(searchSourceBuilder);\nSearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\n</code></pre>\n"}],"owner":{"account_id":22540849,"reputation":43,"user_id":16731421,"display_name":"Tina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651228243,"accepted_answer_id":71968496,"answer_count":1,"score":0,"last_activity_date":1650629255,"creation_date":1650628320,"question_id":71968299,"body_markdown":"How can I build this elasticsearch query on Java.This is my query\r\n    \r\n    {\r\n    \t&quot;query&quot;: {\r\n    \t\t&quot;bool&quot;: {\r\n    \t\t\t&quot;must_not&quot;: {\r\n    \t\t\t\t&quot;nested&quot;: {\r\n    \t\t\t\t\t&quot;path&quot;: &quot;myField&quot;,\r\n    \t\t\t\t\t&quot;query&quot;: {\r\n    \t\t\t\t\t\t&quot;exists&quot;: {\r\n    \t\t\t\t\t\t    &quot;field&quot;: &quot;myField.id&quot;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\nMy mapping like this:\r\n\r\n    &quot;myField&quot;: {\r\n       &quot;type&quot;: &quot;nested&quot;,\r\n       &quot;properties&quot;: {\r\n          &quot;id&quot;: {\r\n             &quot;type&quot;: &quot;text&quot;,\r\n             &quot;fields&quot;: {\r\n                &quot;keyword&quot;: {\r\n    \t\t\t   &quot;type&quot;: &quot;keyword&quot;,\r\n    \t\t\t   &quot;ignore_above&quot;: 256\r\n                }\r\n             }\r\n          }\r\n       }\r\n    }\r\n\r\nI trust recently work with elastic. So hope you guys help me","title":"How to build nested query in Elasticsearch to Java","body":"<p>How can I build this elasticsearch query on Java.This is my query</p>\n<pre><code>{\n    &quot;query&quot;: {\n        &quot;bool&quot;: {\n            &quot;must_not&quot;: {\n                &quot;nested&quot;: {\n                    &quot;path&quot;: &quot;myField&quot;,\n                    &quot;query&quot;: {\n                        &quot;exists&quot;: {\n                            &quot;field&quot;: &quot;myField.id&quot;\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>My mapping like this:</p>\n<pre><code>&quot;myField&quot;: {\n   &quot;type&quot;: &quot;nested&quot;,\n   &quot;properties&quot;: {\n      &quot;id&quot;: {\n         &quot;type&quot;: &quot;text&quot;,\n         &quot;fields&quot;: {\n            &quot;keyword&quot;: {\n               &quot;type&quot;: &quot;keyword&quot;,\n               &quot;ignore_above&quot;: 256\n            }\n         }\n      }\n   }\n}\n</code></pre>\n<p>I trust recently work with elastic. So hope you guys help me</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":300897,"reputation":7589,"user_id":608312,"accept_rate":91,"display_name":"Jake Lee"},"score":0,"creation_date":1641157143,"post_id":70543275,"comment_id":124730180,"body_markdown":"[This](https://stackoverflow.com/a/68841906/608312) probably fixes it. If not, there&#39;s a [few other suggestions on the GitHub issue](https://github.com/react-native-video/react-native-video/issues/2454).","body":"<a href=\"https://stackoverflow.com/a/68841906/608312\">This</a> probably fixes it. If not, there&#39;s a <a href=\"https://github.com/react-native-video/react-native-video/issues/2454\" rel=\"nofollow noreferrer\">few other suggestions on the GitHub issue</a>."}],"owner":{"account_id":23793411,"reputation":9,"user_id":17804605,"display_name":"I_am_a_begineer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3566,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1650629129,"creation_date":1640961362,"question_id":70543275,"body_markdown":"Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:app:mergeDebugNativeLibs&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Could not find com.yqritc:android-scalablevideoview:1.0.4.\r\n     Searched in the following locations:\r\n       - https://dl.google.com/dl/android/maven2/com/yqritc/android-scalablevideoview/1.0.4/android-scalablevideoview-1.0.4.pom\r\n       - https://repo.maven.apache.org/maven2/com/yqritc/android-scalablevideoview/1.0.4/android-scalablevideoview-1.0.4.pom\r\n       - https://github.com/jitsi/jitsi-maven-repository/raw/master/releases/com/yqritc/android-scalablevideoview/1.0.4/android-scalablevideoview-1.0.4.pom\r\n     Required by:\r\n         project :app &gt; org.jitsi.react:jitsi-meet-sdk:3.10.2 &gt; com.facebook.react:react-native-video:5.1.1-jitsi-8711917\r\n\r\n\r\n\r\n\r\nPlease help me!!\r\nThanks in advance!!","title":"Execution failed for task &#39;:app:checkDebugDuplicateClasses &#39;","body":"<h2>Task failed with an exception.</h2>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:mergeDebugNativeLibs'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\nCould not find com.yqritc:android-scalablevideoview:1.0.4.\nSearched in the following locations:\n- <a href=\"https://dl.google.com/dl/android/maven2/com/yqritc/android-scalablevideoview/1.0.4/android-scalablevideoview-1.0.4.pom\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/com/yqritc/android-scalablevideoview/1.0.4/android-scalablevideoview-1.0.4.pom</a>\n- <a href=\"https://repo.maven.apache.org/maven2/com/yqritc/android-scalablevideoview/1.0.4/android-scalablevideoview-1.0.4.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/com/yqritc/android-scalablevideoview/1.0.4/android-scalablevideoview-1.0.4.pom</a>\n- <a href=\"https://github.com/jitsi/jitsi-maven-repository/raw/master/releases/com/yqritc/android-scalablevideoview/1.0.4/android-scalablevideoview-1.0.4.pom\" rel=\"nofollow noreferrer\">https://github.com/jitsi/jitsi-maven-repository/raw/master/releases/com/yqritc/android-scalablevideoview/1.0.4/android-scalablevideoview-1.0.4.pom</a>\nRequired by:\nproject :app &gt; org.jitsi.react:jitsi-meet-sdk:3.10.2 &gt; com.facebook.react:react-native-video:5.1.1-jitsi-8711917</p>\n</blockquote>\n<p>Please help me!!\nThanks in advance!!</p>\n"},{"tags":["java","ssl","jetty"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650628952,"creation_date":1650572906,"answer_id":71960533,"question_id":71941271,"body_markdown":"Jetty&#39;s `HttpClient` uses the Java `SSLEngine` to initiate TLS connections and will use SNI by default.\r\n\r\nJust use one of the `HttpClient.newRequest()` methods to create a Request with either an absolute URI (that includes the authority, hostname, port) or the `newRequest()` methods that take a hostname / port pair.\r\n\r\nNote that the Java SSLEngine will follow the TLS/SNI spec and *will not send SNI* if the destination host is `localhost` or an IP Address (you must use a hostname, always, with SNI)","title":"how to add &#39;host_name&#39; extension for SNI in java (using jetty)","body":"<p>Jetty's <code>HttpClient</code> uses the Java <code>SSLEngine</code> to initiate TLS connections and will use SNI by default.</p>\n<p>Just use one of the <code>HttpClient.newRequest()</code> methods to create a Request with either an absolute URI (that includes the authority, hostname, port) or the <code>newRequest()</code> methods that take a hostname / port pair.</p>\n<p>Note that the Java SSLEngine will follow the TLS/SNI spec and <em>will not send SNI</em> if the destination host is <code>localhost</code> or an IP Address (you must use a hostname, always, with SNI)</p>\n"}],"owner":{"account_id":25021989,"reputation":11,"user_id":18880593,"display_name":"Giovanni Longobardi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650628952,"creation_date":1650464081,"question_id":71941271,"body_markdown":"i am trying in every way to add the SNI to my client (jetty 11.0.9). The server requires me to send host_name, but there is no way with jetty. can anyone do it?","title":"how to add &#39;host_name&#39; extension for SNI in java (using jetty)","body":"<p>i am trying in every way to add the SNI to my client (jetty 11.0.9). The server requires me to send host_name, but there is no way with jetty. can anyone do it?</p>\n"},{"tags":["java","arrays","string","loops"],"comments":[{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":1,"creation_date":1650470706,"post_id":71942778,"comment_id":127126038,"body_markdown":"See this [link](https://stackoverflow.com/questions/26539083/randomize-the-letters-in-the-middle-of-the-word-while-keeping-the-first-and-las)","body":"See this <a href=\"https://stackoverflow.com/questions/26539083/randomize-the-letters-in-the-middle-of-the-word-while-keeping-the-first-and-las\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":6155088,"reputation":226,"user_id":4798347,"display_name":"Zephyr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650472151,"creation_date":1650472151,"answer_id":71943170,"question_id":71942778,"body_markdown":"You could make use of some nifty functionality in Java&#39;s collection framework:\r\n\r\n    public static void main(String[] args) {\r\n        String str = &quot;String test out&quot;;\r\n\r\n        for (String word : str.split(&quot;\\\\s&quot;)) {\r\n            List&lt;Character&gt; chars = word.chars()\r\n                    .mapToObj(e -&gt; (char) e)\r\n                    .collect(Collectors.toList());\r\n\r\n            // shuffle the letters in the word, except for the first one and last one\r\n            Collections.shuffle(chars.subList(1, chars.size() - 1));\r\n\r\n            String shuffledWord = chars.stream()\r\n                    .map(String::valueOf)\r\n                    .collect(Collectors.joining());\r\n\r\n            System.out.println(shuffledWord);\r\n        }\r\n\r\n    }\r\n","title":"Randomise each element of String from inside?","body":"<p>You could make use of some nifty functionality in Java's collection framework:</p>\n<pre><code>public static void main(String[] args) {\n    String str = &quot;String test out&quot;;\n\n    for (String word : str.split(&quot;\\\\s&quot;)) {\n        List&lt;Character&gt; chars = word.chars()\n                .mapToObj(e -&gt; (char) e)\n                .collect(Collectors.toList());\n\n        // shuffle the letters in the word, except for the first one and last one\n        Collections.shuffle(chars.subList(1, chars.size() - 1));\n\n        String shuffledWord = chars.stream()\n                .map(String::valueOf)\n                .collect(Collectors.joining());\n\n        System.out.println(shuffledWord);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1528686,"reputation":12048,"user_id":1426469,"accept_rate":12,"display_name":"Leo Aso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650473813,"creation_date":1650473813,"answer_id":71943513,"question_id":71942778,"body_markdown":"Here is a really efficient way to do it. Instead of splitting, changing strings and merging them back together, create a single StringBuilder and use a Pattern to go through each word, scramble them and then return the string.\r\n\r\n    /** This pattern matches a word, and group 1 excludes the first and last letter. */\r\n    static final Pattern WORD = Pattern.compile(&quot;\\\\b\\\\w(\\\\w{2,})\\\\w\\\\b&quot;);\r\n    \r\n    public String scrambleWords(String input) {\r\n        Random random = new Random();\r\n        StringBuilder s = new StringBuilder(input);\r\n        Matcher m = WORD.matcher(input);\r\n        \r\n        while (m.find()) {\r\n            int start = m.start(1);\r\n            int end = m.end(1);\r\n            for (int i = start; i + 1 &lt; end; i++) {\r\n                int j = random.nextInt(i + 1, end);\r\n                char c1 = s.charAt(i);\r\n                char c2 = s.charAt(j);\r\n                s.setCharAt(i, c2);\r\n                s.setCharAt(j, c1);\r\n            }\r\n        }\r\n        \r\n        return s.toString();\r\n    }","title":"Randomise each element of String from inside?","body":"<p>Here is a really efficient way to do it. Instead of splitting, changing strings and merging them back together, create a single StringBuilder and use a Pattern to go through each word, scramble them and then return the string.</p>\n<pre><code>/** This pattern matches a word, and group 1 excludes the first and last letter. */\nstatic final Pattern WORD = Pattern.compile(&quot;\\\\b\\\\w(\\\\w{2,})\\\\w\\\\b&quot;);\n\npublic String scrambleWords(String input) {\n    Random random = new Random();\n    StringBuilder s = new StringBuilder(input);\n    Matcher m = WORD.matcher(input);\n    \n    while (m.find()) {\n        int start = m.start(1);\n        int end = m.end(1);\n        for (int i = start; i + 1 &lt; end; i++) {\n            int j = random.nextInt(i + 1, end);\n            char c1 = s.charAt(i);\n            char c2 = s.charAt(j);\n            s.setCharAt(i, c2);\n            s.setCharAt(j, c1);\n        }\n    }\n    \n    return s.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":25023287,"reputation":1,"user_id":18881760,"display_name":"skewffffff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650628928,"answer_count":2,"score":0,"last_activity_date":1650628918,"creation_date":1650470333,"question_id":71942778,"body_markdown":"I am trying to change the place of characters in a string. The first and last have to stay like they are.\r\n\r\nFor example:\r\n```\r\nString str = &quot;String test print out&quot;;\r\n```\r\nThe output should be for example:\r\n```\r\nSirntg tset pirnt out\r\n```\r\nThe first and last character of each word have to stay the rest have to change randomly:\r\nHere is the code I already did, I tried to split the element of the string in an array and split them, but it&#39;s not working:\r\n```java\r\nimport java.util.*;\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\tString str = &quot;String test out&quot;;\r\n\t\tString[] words = str.split(&quot;\\\\s&quot;);\r\n        Random rnd = new Random();\r\n\t    ArrayList&lt;Integer&gt; digitList = new ArrayList&lt;Integer&gt;();\r\n\t   \r\n\t   for(int j = 0;0&lt;=words[].length();j++){\r\n\t        int lst = words[j].length();\r\n            char first = words[j].charAt(0);\r\n            char last = words[j].charAt(words[j].length() - 1);\r\n            \r\n\t        for(int i =1, random = 0; i &lt; words[j].length()-1; i++){\r\n\t            do{\r\n\t                random = rnd.nextInt(words[j].length()-2)+1;\r\n\t            }while(digitList.contains(random));\r\n\t        \r\n\t            digitList.add(random);\r\n\t            System.out.print(words[j].charAt(random));\r\n\t        }\r\n\t    \r\n\t    }       \r\n\r\n\t}\r\n}\r\n```\r\n\r\n","title":"Randomise each element of String from inside?","body":"<p>I am trying to change the place of characters in a string. The first and last have to stay like they are.</p>\n<p>For example:</p>\n<pre><code>String str = &quot;String test print out&quot;;\n</code></pre>\n<p>The output should be for example:</p>\n<pre><code>Sirntg tset pirnt out\n</code></pre>\n<p>The first and last character of each word have to stay the rest have to change randomly:\nHere is the code I already did, I tried to split the element of the string in an array and split them, but it's not working:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\npublic class Main\n{\n    public static void main(String[] args) {\n        String str = &quot;String test out&quot;;\n        String[] words = str.split(&quot;\\\\s&quot;);\n        Random rnd = new Random();\n        ArrayList&lt;Integer&gt; digitList = new ArrayList&lt;Integer&gt;();\n       \n       for(int j = 0;0&lt;=words[].length();j++){\n            int lst = words[j].length();\n            char first = words[j].charAt(0);\n            char last = words[j].charAt(words[j].length() - 1);\n            \n            for(int i =1, random = 0; i &lt; words[j].length()-1; i++){\n                do{\n                    random = rnd.nextInt(words[j].length()-2)+1;\n                }while(digitList.contains(random));\n            \n                digitList.add(random);\n                System.out.print(words[j].charAt(random));\n            }\n        \n        }       \n\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","object"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1581227446,"post_id":60133831,"comment_id":106356590,"body_markdown":"No, you should switch the return type to Character[] or Object[] or manually copy the array.","body":"No, you should switch the return type to Character[] or Object[] or manually copy the array."},{"owner":{"account_id":3596675,"reputation":3616,"user_id":3001150,"accept_rate":57,"display_name":"Raildex"},"score":0,"creation_date":1581229992,"post_id":60133831,"comment_id":106356943,"body_markdown":"you can try this:\n```String stringArray[] = Arrays.stream(objArray).toArray(String[]::new);```","body":"you can try this: <code>String stringArray[] = Arrays.stream(objArray).toArray(String[]::new);</code>"}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1581227899,"creation_date":1581227899,"answer_id":60133904,"question_id":60133831,"body_markdown":"Well, if you have to it&#39;s easy to program:\r\n\r\n    Character[] refArray = (Character[]) st.toArray();\r\n    char[] charArray = new char[refArray.length];\r\n    for (int i = 0; i &lt; refArray.length; i++) {\r\n\t\tcharArray[i] = refArray[i];\r\n\t}\r\n    return charArray;\r\n\r\nNote that a more specified collection should probably be preferred, possibly something build around a `StringBuilder` or something similar (if you have many characters). It&#39;s rather wasteful to use a reference per character, after all (but yeah, computers nowadays).","title":"Is there a way to convert an Object[] array to char[] array?","body":"<p>Well, if you have to it's easy to program:</p>\n\n<pre><code>Character[] refArray = (Character[]) st.toArray();\nchar[] charArray = new char[refArray.length];\nfor (int i = 0; i &lt; refArray.length; i++) {\n    charArray[i] = refArray[i];\n}\nreturn charArray;\n</code></pre>\n\n<p>Note that a more specified collection should probably be preferred, possibly something build around a <code>StringBuilder</code> or something similar (if you have many characters). It's rather wasteful to use a reference per character, after all (but yeah, computers nowadays).</p>\n"},{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581228520,"creation_date":1581228520,"answer_id":60133960,"question_id":60133831,"body_markdown":"If you work with `Character` only you can use the [toArray](https://docs.oracle.com/javase/7/docs/api/java/util/Vector.html#toArray(T[])) `&lt;T&gt; T[] toArray(T[] a)` override\r\n\r\n&gt; Returns an array containing all of the elements in this Vector in the\r\n&gt; correct order; the runtime type of the returned array is that of the\r\n&gt; specified array.\r\n\r\n    Character[] make(String s){\r\n        Stack&lt;Character&gt; st = new Stack&lt;Character&gt;();\r\n        //...\r\n        return st.toArray(new Character[st.size()]);\r\n    }\r\n\r\n    public boolean backspaceCompare(String S, String T) {\r\n        Character[] ch1 = make(S);\r\n        Character[] ch2 = make(T);\r\n        //...\r\n    }","title":"Is there a way to convert an Object[] array to char[] array?","body":"<p>If you work with <code>Character</code> only you can use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Vector.html#toArray(T[])\" rel=\"nofollow noreferrer\">toArray</a> <code>&lt;T&gt; T[] toArray(T[] a)</code> override</p>\n\n<blockquote>\n  <p>Returns an array containing all of the elements in this Vector in the\n  correct order; the runtime type of the returned array is that of the\n  specified array.</p>\n</blockquote>\n\n<pre><code>Character[] make(String s){\n    Stack&lt;Character&gt; st = new Stack&lt;Character&gt;();\n    //...\n    return st.toArray(new Character[st.size()]);\n}\n\npublic boolean backspaceCompare(String S, String T) {\n    Character[] ch1 = make(S);\n    Character[] ch2 = make(T);\n    //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650628790,"creation_date":1650628790,"answer_id":71968404,"question_id":60133831,"body_markdown":"Using the following `Stream` API code should work, while collecting with `StringBuilder` also accepts `Object` elements:\r\n\r\n    char[] chars = Stream.of(st.toArray())\r\n      .collect(StringBuilder::new, StringBuilder::append, StringBuilder::append)\r\n      .toString()\r\n      .toCharArray();\r\n\r\nYou might want to convert your source array into a `Character[]` array first, depending on your use case:\r\n\r\n    st.toArray(Character[]::new);\r\n\r\nThe `Stream` conversion via `StringBuilder` above should work with both source arrays.","title":"Is there a way to convert an Object[] array to char[] array?","body":"<p>Using the following <code>Stream</code> API code should work, while collecting with <code>StringBuilder</code> also accepts <code>Object</code> elements:</p>\n<pre><code>char[] chars = Stream.of(st.toArray())\n  .collect(StringBuilder::new, StringBuilder::append, StringBuilder::append)\n  .toString()\n  .toCharArray();\n</code></pre>\n<p>You might want to convert your source array into a <code>Character[]</code> array first, depending on your use case:</p>\n<pre><code>st.toArray(Character[]::new);\n</code></pre>\n<p>The <code>Stream</code> conversion via <code>StringBuilder</code> above should work with both source arrays.</p>\n"}],"owner":{"account_id":16421025,"reputation":41,"user_id":11862212,"display_name":"Omnicacorp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60133904,"answer_count":3,"score":1,"last_activity_date":1650628790,"creation_date":1581227214,"question_id":60133831,"body_markdown":"    class Solution {\r\n        char[] make(String s){\r\n            Stack&lt;Character&gt; st= new Stack&lt;Character&gt;();\r\n            for(char c:s.toCharArray()){\r\n                if(c!=&#39;#&#39;){\r\n                    st.push(c);\r\n                }\r\n                else if(!st.isEmpty()){\r\n                    st.pop();\r\n                }\r\n            }\r\n            return (char [])(st.toArray());\r\n        }\r\n        public boolean backspaceCompare(String S, String T) {\r\n            char[] ch1=make(S);\r\n            char[] ch2=make(T);\r\n            int i,j;\r\n            if(ch1.length!=ch2.length)\r\n                return false;\r\n            else{\r\n                for(i=0;i&lt;ch1.length;i++){\r\n                    if(ch1[i]!=ch2[i]){\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n\r\nthe above piece of code gives an error:\r\n incompatible types: Object[] cannot be converted to char[]\r\n        return (char [])(st.toArray());\r\n\r\ni tried to typecast using Character[] but that cannot be converted to char[] apparantely\r\n\r\nis there any mthod in java to convert an Object[] containing characters only into a character array i.e char[] so that i can return a char[] from the make function","title":"Is there a way to convert an Object[] array to char[] array?","body":"<pre><code>class Solution {\n    char[] make(String s){\n        Stack&lt;Character&gt; st= new Stack&lt;Character&gt;();\n        for(char c:s.toCharArray()){\n            if(c!='#'){\n                st.push(c);\n            }\n            else if(!st.isEmpty()){\n                st.pop();\n            }\n        }\n        return (char [])(st.toArray());\n    }\n    public boolean backspaceCompare(String S, String T) {\n        char[] ch1=make(S);\n        char[] ch2=make(T);\n        int i,j;\n        if(ch1.length!=ch2.length)\n            return false;\n        else{\n            for(i=0;i&lt;ch1.length;i++){\n                if(ch1[i]!=ch2[i]){\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n\n<p>the above piece of code gives an error:\n incompatible types: Object[] cannot be converted to char[]\n        return (char [])(st.toArray());</p>\n\n<p>i tried to typecast using Character[] but that cannot be converted to char[] apparantely</p>\n\n<p>is there any mthod in java to convert an Object[] containing characters only into a character array i.e char[] so that i can return a char[] from the make function</p>\n"},{"tags":["java","spring-boot","rest","swagger-ui","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":18232359,"reputation":361,"user_id":13271043,"display_name":"Ayush v"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603798378,"creation_date":1603466695,"answer_id":64502911,"question_id":64501089,"body_markdown":"use @ApiModelProperty annotation in your dto class.\r\n\r\nExample - \r\n\r\n    Public class Student{\r\n       @ApiModelProperty(value = &quot;name&quot;, name = &quot;name&quot;, dataType = &quot;String&quot; example = &quot;Rube&quot;)\r\n      String name;\r\n       @ApiModelProperty(value = &quot;birthDate&quot;, name = &quot;birthDate&quot;, dataType = &quot;birthDate&quot; example = &quot;12/12/1995&quot;)\r\n      String birthDate;\r\n     ........................\r\n    }\r\n\r\n    //should work with following dependencies \r\n         &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.2&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"How to Customise example value of request body and execute it on swagger-ui with springdoc-open-api","body":"<p>use @ApiModelProperty annotation in your dto class.</p>\n<p>Example -</p>\n<pre><code>Public class Student{\n   @ApiModelProperty(value = &quot;name&quot;, name = &quot;name&quot;, dataType = &quot;String&quot; example = &quot;Rube&quot;)\n  String name;\n   @ApiModelProperty(value = &quot;birthDate&quot;, name = &quot;birthDate&quot;, dataType = &quot;birthDate&quot; example = &quot;12/12/1995&quot;)\n  String birthDate;\n ........................\n}\n\n//should work with following dependencies \n     &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15608701,"reputation":171,"user_id":11260746,"display_name":"Rubeena"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1606388182,"creation_date":1606388182,"answer_id":65020657,"question_id":64501089,"body_markdown":"Using @Schema annotation, I can provide the value in example request\r\n\r\n    Public class Student{\r\n    @Schema(example= &quot;XXX&quot;, description = &quot;Name of student&quot;)\r\n     String name;\r\n   @Schema(example= &quot;10-10-2020&quot;, description = &quot;Birth date of student&quot;)\r\n     String birthDate;\r\n......\r\n   }","title":"How to Customise example value of request body and execute it on swagger-ui with springdoc-open-api","body":"<p>Using @Schema annotation, I can provide the value in example request</p>\n<pre><code>Public class Student{\n@Schema(example= &quot;XXX&quot;, description = &quot;Name of student&quot;)\n String name;\n</code></pre>\n<p>@Schema(example= &quot;10-10-2020&quot;, description = &quot;Birth date of student&quot;)\nString birthDate;\n......\n}</p>\n"}],"owner":{"account_id":15608701,"reputation":171,"user_id":11260746,"display_name":"Rubeena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12881,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1650628746,"creation_date":1603460231,"question_id":64501089,"body_markdown":"I have created rest webservice using springboot \r\nand added springdoc-open-api for ducumentation of webservice,\r\nNow i have 2 question \r\n\r\n1-how to add custom test value into request which displying on swagger-ui document page?\r\n\r\n2-how to execute the request on click  of TRY IT OUT button on swagger-ui document page?\r\n\r\nPlease refer below code snippet for rest webservice:\r\n\r\n    @PostMapping(value=&quot;/result&quot;, consumes={ &quot;application/json&quot;},produces={ &quot;application/json&quot; } )\r\n\t@Parameter(description  = &quot;Student object need to calculate the score&quot; ,name=&quot;InputObject&quot;, required = true )\r\n    public ResponseEntity&lt;Result&gt; displayResult(@Valid  @RequestBody Student request);\r\n\r\n\tPublic class Student{\r\n\t  String name;\r\n\t  String birthDate;\r\n\t  String motherName;\r\n\t  int rollNo;\r\n\t  int seatNo;\r\n\t}\r\n\t\r\n\tPublic class Result{\r\n\t  int marks;\r\n\t  String grade;\r\n\t  double percentage;\r\n\t}\r\n\t\r\n\tI have tried to add value of request using @Schema(name = &quot;name&quot;, example= &quot;Rubeena&quot;, description = &quot;Name of student&quot;), is it right way to add the value in example request ?\r\n\tEven after adding this schema when i click on TRY IT OUT button i dont get the outcome.\r\n\t\r\n\tIs there any way to solve this problem?","title":"How to Customise example value of request body and execute it on swagger-ui with springdoc-open-api","body":"<p>I have created rest webservice using springboot\nand added springdoc-open-api for ducumentation of webservice,\nNow i have 2 question</p>\n<p>1-how to add custom test value into request which displying on swagger-ui document page?</p>\n<p>2-how to execute the request on click  of TRY IT OUT button on swagger-ui document page?</p>\n<p>Please refer below code snippet for rest webservice:</p>\n<pre><code>@PostMapping(value=&quot;/result&quot;, consumes={ &quot;application/json&quot;},produces={ &quot;application/json&quot; } )\n@Parameter(description  = &quot;Student object need to calculate the score&quot; ,name=&quot;InputObject&quot;, required = true )\npublic ResponseEntity&lt;Result&gt; displayResult(@Valid  @RequestBody Student request);\n\nPublic class Student{\n  String name;\n  String birthDate;\n  String motherName;\n  int rollNo;\n  int seatNo;\n}\n\nPublic class Result{\n  int marks;\n  String grade;\n  double percentage;\n}\n\nI have tried to add value of request using @Schema(name = &quot;name&quot;, example= &quot;Rubeena&quot;, description = &quot;Name of student&quot;), is it right way to add the value in example request ?\nEven after adding this schema when i click on TRY IT OUT button i dont get the outcome.\n\nIs there any way to solve this problem?\n</code></pre>\n"},{"tags":["java","annotations","swagger","openapi","quarkus"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1650630094,"post_id":71968382,"comment_id":127170520,"body_markdown":"Something like this is impossible with Java annotations. An annotation member has a predefined type and its value must conform to that type. That holds even for nested annotations or arrays of nested annotations. The `examples` member of `@Content` is of type `ExampleObject[]`, so you can&#39;t put any other annotation there.","body":"Something like this is impossible with Java annotations. An annotation member has a predefined type and its value must conform to that type. That holds even for nested annotations or arrays of nested annotations. The <code>examples</code> member of <code>@Content</code> is of type <code>ExampleObject[]</code>, so you can&#39;t put any other annotation there."},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1650633187,"post_id":71968382,"comment_id":127171681,"body_markdown":"@Ladicek Thanks a lot for your response. Is there a way I can replace the whole `@RequestBody`? so I will create the `CustomAnnotation` which consists of the elements from `@RequestBody` and replace the `@RequestBody` with `CustomAnnotation`. Is this possible?","body":"@Ladicek Thanks a lot for your response. Is there a way I can replace the whole <code>@RequestBody</code>? so I will create the <code>CustomAnnotation</code> which consists of the elements from <code>@RequestBody</code> and replace the <code>@RequestBody</code> with <code>CustomAnnotation</code>. Is this possible?"},{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1650665669,"post_id":71968382,"comment_id":127181963,"body_markdown":"That would theoretically be possible, but I have no idea whether it is actually supported.","body":"That would theoretically be possible, but I have no idea whether it is actually supported."}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650628703,"creation_date":1650628703,"question_id":71968382,"body_markdown":"I have a RestControllerResource class within which I am adding multiple `@ExampleObject` annotations. I would like to create another custom annotation and add all the `@ExampleObject` to this `CustomAnnotation` so finally my `RestControllerResource` can have only one annotation which is `CustomAnnotation`.\r\n\r\nI tried looking into many things but could not find the right solution or some information. Can someone please specify if it&#39;s possible to create a single annotation `CustomAnnotation` from multiple `@ExampleObject`?\r\n\r\nFollowing is the current code I have with multiple `@ExampleObject`:\r\n```\r\nimport org.eclipse.microprofile.openapi.annotations.media.Content;\r\nimport org.eclipse.microprofile.openapi.annotations.media.ExampleObject;\r\nimport org.eclipse.microprofile.openapi.annotations.parameters.RequestBody;\r\n\r\nimport javax.ws.rs.Consumes;\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.MediaType;\r\nimport java.util.Map;\r\n\r\n@Path(&quot;/api&quot;)\r\npublic class RestControllerResponse {\r\n\r\n    @Path(&quot;/generate&quot;)\r\n    @POST\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @RequestBody(\r\n            content = @Content(\r\n                    examples = {\r\n                            @ExampleObject(name = &quot;Example1&quot;, ref = &quot;Example1.json&quot;),\r\n                            @ExampleObject(name = &quot;Example2&quot;, ref = &quot;Example2.json&quot;)\r\n                    }))\r\n    public String generator(final Map&lt;String, Object&gt; input) throws Exception {\r\n        return &quot;Hello From Generator Method&quot;;\r\n    }\r\n}\r\n```\r\n\r\nI am looking for something like this:\r\n```\r\n @RequestBody(\r\n            content = @Content(\r\n                    examples = {\r\n                            @CustomAnnotation()\r\n                    }))\r\n```\r\n\r\nFollowing is my `CustomAnnotation`:\r\n```\r\n@Target({})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Inherited\r\npublic @interface CustomAnnotation {\r\n}\r\n```\r\n\r\nFollowing is the @ExampleObject:\r\n```\r\npackage org.eclipse.microprofile.openapi.annotations.media;\r\n\r\nimport java.lang.annotation.Inherited;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n/**\r\n * This object illustrates an example of a particular content\r\n * \r\n * @see &lt;a href= &quot;https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#exampleObject&quot;&gt;OpenAPI Specification Example Object&lt;/a&gt;\r\n **/\r\n@Target({})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Inherited\r\npublic @interface ExampleObject {\r\n    /**\r\n     * A unique name to identify this particular example in a map.\r\n     * &lt;p&gt;\r\n     * The name is REQUIRED when the example is defined within {@link org.eclipse.microprofile.openapi.annotations.Components}. The \r\n     * name will be used as the key to add this example to the &#39;examples&#39; map for reuse.\r\n     * &lt;/p&gt;\r\n     * \r\n     * @return the name of this example\r\n     **/\r\n    String name() default &quot;&quot;;\r\n\r\n    /**\r\n     * A brief summary of the purpose or context of the example\r\n     * \r\n     * @return a summary of this example\r\n     **/\r\n    String summary() default &quot;&quot;;\r\n\r\n    /**\r\n     * Long description for the example. \r\n     * CommonMark syntax MAY be used for rich text representation.\r\n     * \r\n     * @return a description of this example\r\n     **/\r\n    String description() default &quot;&quot;;\r\n\r\n    /**\r\n     * A string representation of the example. \r\n     * &lt;p&gt;\r\n     * This is mutually exclusive with the externalValue property, and ignored if the externalValue property is specified. \r\n     * &lt;/p&gt;\r\n     * If the media type associated with the example allows parsing into an object, it may be converted from a string.\r\n     * @return the value of the example\r\n     **/\r\n    String value() default &quot;&quot;;\r\n\r\n    /**\r\n     * A URL to point to an external document to be used as an example.\r\n     * This provides the capability to reference examples that cannot easily be included in JSON or YAML documents.\r\n     * &lt;p&gt; \r\n     * This is mutually exclusive with the value property.\r\n     * &lt;/p&gt;\r\n     * @return an external URL of the example\r\n     **/\r\n    String externalValue() default &quot;&quot;;\r\n\r\n    /**\r\n     * Reference value to an Example object.\r\n     * &lt;p&gt;\r\n     * This property provides a reference to an object defined elsewhere. This property and\r\n     * all other properties are mutually exclusive. If other properties are defined in addition\r\n     * to the ref property then the result is undefined.\r\n     *\r\n     * @return reference to an example\r\n     **/\r\n    String ref() default &quot;&quot;;\r\n\r\n}\r\n```","title":"How to merge multiple annotations into single one?","body":"<p>I have a RestControllerResource class within which I am adding multiple <code>@ExampleObject</code> annotations. I would like to create another custom annotation and add all the <code>@ExampleObject</code> to this <code>CustomAnnotation</code> so finally my <code>RestControllerResource</code> can have only one annotation which is <code>CustomAnnotation</code>.</p>\n<p>I tried looking into many things but could not find the right solution or some information. Can someone please specify if it's possible to create a single annotation <code>CustomAnnotation</code> from multiple <code>@ExampleObject</code>?</p>\n<p>Following is the current code I have with multiple <code>@ExampleObject</code>:</p>\n<pre><code>import org.eclipse.microprofile.openapi.annotations.media.Content;\nimport org.eclipse.microprofile.openapi.annotations.media.ExampleObject;\nimport org.eclipse.microprofile.openapi.annotations.parameters.RequestBody;\n\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport java.util.Map;\n\n@Path(&quot;/api&quot;)\npublic class RestControllerResponse {\n\n    @Path(&quot;/generate&quot;)\n    @POST\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    @RequestBody(\n            content = @Content(\n                    examples = {\n                            @ExampleObject(name = &quot;Example1&quot;, ref = &quot;Example1.json&quot;),\n                            @ExampleObject(name = &quot;Example2&quot;, ref = &quot;Example2.json&quot;)\n                    }))\n    public String generator(final Map&lt;String, Object&gt; input) throws Exception {\n        return &quot;Hello From Generator Method&quot;;\n    }\n}\n</code></pre>\n<p>I am looking for something like this:</p>\n<pre><code> @RequestBody(\n            content = @Content(\n                    examples = {\n                            @CustomAnnotation()\n                    }))\n</code></pre>\n<p>Following is my <code>CustomAnnotation</code>:</p>\n<pre><code>@Target({})\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\npublic @interface CustomAnnotation {\n}\n</code></pre>\n<p>Following is the @ExampleObject:</p>\n<pre><code>package org.eclipse.microprofile.openapi.annotations.media;\n\nimport java.lang.annotation.Inherited;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n/**\n * This object illustrates an example of a particular content\n * \n * @see &lt;a href= &quot;https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#exampleObject&quot;&gt;OpenAPI Specification Example Object&lt;/a&gt;\n **/\n@Target({})\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\npublic @interface ExampleObject {\n    /**\n     * A unique name to identify this particular example in a map.\n     * &lt;p&gt;\n     * The name is REQUIRED when the example is defined within {@link org.eclipse.microprofile.openapi.annotations.Components}. The \n     * name will be used as the key to add this example to the 'examples' map for reuse.\n     * &lt;/p&gt;\n     * \n     * @return the name of this example\n     **/\n    String name() default &quot;&quot;;\n\n    /**\n     * A brief summary of the purpose or context of the example\n     * \n     * @return a summary of this example\n     **/\n    String summary() default &quot;&quot;;\n\n    /**\n     * Long description for the example. \n     * CommonMark syntax MAY be used for rich text representation.\n     * \n     * @return a description of this example\n     **/\n    String description() default &quot;&quot;;\n\n    /**\n     * A string representation of the example. \n     * &lt;p&gt;\n     * This is mutually exclusive with the externalValue property, and ignored if the externalValue property is specified. \n     * &lt;/p&gt;\n     * If the media type associated with the example allows parsing into an object, it may be converted from a string.\n     * @return the value of the example\n     **/\n    String value() default &quot;&quot;;\n\n    /**\n     * A URL to point to an external document to be used as an example.\n     * This provides the capability to reference examples that cannot easily be included in JSON or YAML documents.\n     * &lt;p&gt; \n     * This is mutually exclusive with the value property.\n     * &lt;/p&gt;\n     * @return an external URL of the example\n     **/\n    String externalValue() default &quot;&quot;;\n\n    /**\n     * Reference value to an Example object.\n     * &lt;p&gt;\n     * This property provides a reference to an object defined elsewhere. This property and\n     * all other properties are mutually exclusive. If other properties are defined in addition\n     * to the ref property then the result is undefined.\n     *\n     * @return reference to an example\n     **/\n    String ref() default &quot;&quot;;\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","testing","mockmvc"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1650572592,"post_id":71960406,"comment_id":127156995,"body_markdown":"Does this answer your question? [Spring boot @MockMvcTest MockHttpServletResponse always returns empty body](https://stackoverflow.com/questions/62560356/spring-boot-mockmvctest-mockhttpservletresponse-always-returns-empty-body)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62560356/spring-boot-mockmvctest-mockhttpservletresponse-always-returns-empty-body\">Spring boot @MockMvcTest MockHttpServletResponse always returns empty body</a>"},{"owner":{"account_id":21382966,"reputation":219,"user_id":15748566,"display_name":"devo9191"},"score":0,"creation_date":1650572923,"post_id":71960406,"comment_id":127157082,"body_markdown":"@Lesiak Yes, thanks, but also how do I not do that then? I mean I understand its checking that the DTO is the DTO in the service call which its not, but if I try calling:            when(leagueService.addLeagueFromJSON(json)).thenReturn(&quot;Success.&quot;);   it won&#39;t work/.","body":"@Lesiak Yes, thanks, but also how do I not do that then? I mean I understand its checking that the DTO is the DTO in the service call which its not, but if I try calling:            when(leagueService.addLeagueFromJSON(json)).thenReturn(&quot;Succ&zwnj;&#8203;ess.&quot;);   it won&#39;t work/."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1650573036,"post_id":71960406,"comment_id":127157114,"body_markdown":"If you are into lombok, you can add `@EqualsAndHashCode` to your `LeagueDTO`","body":"If you are into lombok, you can add <code>@EqualsAndHashCode</code> to your <code>LeagueDTO</code>"},{"owner":{"account_id":21382966,"reputation":219,"user_id":15748566,"display_name":"devo9191"},"score":0,"creation_date":1650573131,"post_id":71960406,"comment_id":127157141,"body_markdown":"@Lesiak Not to worry, I added when(leagueService.addLeagueFromJSON(any())).thenReturn(&quot;Success.&quot;); That&#39;s not bad practice right? Thanks for your help","body":"@Lesiak Not to worry, I added when(leagueService.addLeagueFromJSON(any())).thenReturn(&quot;Suc&zwnj;&#8203;cess.&quot;); That&#39;s not bad practice right? Thanks for your help"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1650573435,"post_id":71960406,"comment_id":127157242,"body_markdown":"I would probably pick add equals, as a second option `any(LeagueDTO.class)` and `any()` as a third one, but I would not flag any of them in a code review.","body":"I would probably pick add equals, as a second option <code>any(LeagueDTO.class)</code> and <code>any()</code> as a third one, but I would not flag any of them in a code review."},{"owner":{"account_id":21382966,"reputation":219,"user_id":15748566,"display_name":"devo9191"},"score":0,"creation_date":1650574678,"post_id":71960406,"comment_id":127157628,"body_markdown":"@Lesiak Thanks!","body":"@Lesiak Thanks!"}],"owner":{"account_id":21382966,"reputation":219,"user_id":15748566,"display_name":"devo9191"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650628685,"creation_date":1650572032,"question_id":71960406,"body_markdown":"I am trying to test the controller for creating a new league method, but it just returns null, and when I put a system.out.println in the service impl method, it doesn&#39;t print anything.\r\n\r\nI have tried this with both LeagueService and LeagueServiceImpl, but neither works. It seems to me as if the league service is not being called.\r\n\r\nLeagueControllerTest:\r\n\r\n    @AutoConfigureMockMvc\r\n    @WebMvcTest(controllers = LeaguesController.class)\r\n    public class LeagueControllerTests {\r\n    \r\n    \r\n        @Autowired\r\n        MockMvc mockMvc;\r\n    \r\n        @Autowired\r\n        private ObjectMapper objectMapper;\r\n    \r\n        @MockBean\r\n        LeagueServiceImpl leagueService;\r\n    \r\n    \r\n        @Test\r\n        public void addLeague() throws Exception {\r\n            LeagueDTO leagueDTO = new LeagueDTO(&quot;The magnificent 7&quot;, LeagueType.BRONZE.leagueType(),7);\r\n            String json = objectMapper.writeValueAsString(leagueDTO);\r\n    \r\n            System.out.println(leagueService.addLeagueFromJSON(leagueDTO));\r\n    \r\n            when(leagueService.addLeagueFromJSON(leagueDTO)).thenReturn(&quot;Success.&quot;);\r\n    \r\n            MvcResult mvcRes = mockMvc.perform(post(&quot;/leagues/add&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .content(json))\r\n                    .andExpect(status().isOk())\r\n                    .andReturn();\r\n    \r\n            assertEquals(&quot;{\\&quot;response\\&quot;:\\&quot;Success\\&quot;}&quot;, mvcRes.getResponse().getContentAsString());\r\n        }\r\n\r\nLeagueController:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/leagues&quot;)\r\n    public class LeaguesController {\r\n    \r\n    \r\n        private final LeagueService leagueService;\r\n    \r\n        public LeaguesController(LeagueService leagueService) {\r\n            this.leagueService = leagueService;\r\n        }\r\n    \r\n        @PostMapping(value = &quot;/add&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;)\r\n        ResponseEntity&lt;?&gt; addLeague(@RequestBody final LeagueDTO leagueDTO) {\r\n            String response = leagueService.addLeagueFromJSON(leagueDTO);\r\n            System.out.println(&quot;MSG IN CONTROLLER: &quot; + response);\r\n            return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\r\n        }\r\n    }\r\n\r\nLeagueDTO:\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class LeagueDTO {\r\n    \r\n        private String leagueName;\r\n    \r\n        private String leagueType;\r\n    \r\n        private Integer playerLimit;\r\n    \r\n    }\r\n\r\nLeague:\r\n\r\n    @Entity\r\n    @Setter\r\n    @Getter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;leagues&quot;)\r\n    public class League {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;leagueid&quot;, unique = true)\r\n        private Long leagueID;\r\n    \r\n        @Column(name = &quot;leaguename&quot;)\r\n        private String leagueName;\r\n    \r\n        @Column(name = &quot;leaguetype&quot;)\r\n        private String leagueType;\r\n    \r\n        @Column(name = &quot;playerlimit&quot;)\r\n        private Integer playerLimit;\r\n    \r\n        @Column(name = &quot;gamesToPlay&quot;)\r\n        private Integer gamesToPlay;\r\n    \r\n        @Column(name = &quot;playedGames&quot;)\r\n        private Integer playedGames;\r\n    \r\n        @Column(name = &quot;firstplaceuserid&quot;)\r\n        private Long firstPlaceUserID;\r\n    }\r\nLeagueServiceImpl:\r\n\r\n    @Override\r\n        public String addLeagueFromJSON(LeagueDTO leagueDTO) {\r\n            Integer playerLimit = leagueDTO.getPlayerLimit();\r\n            String leagueName = leagueDTO.getLeagueName();\r\n    \r\n            if (leagueName != null &amp;&amp; playerLimit != null &amp;&amp; playerLimit &gt; 4) {\r\n                League league = new League(leagueName, leagueDTO.getLeagueType(), playerLimit);\r\n                leagueRepository.save(league);\r\n                return &quot;Successfully created league.&quot;;\r\n            }\r\n            return &quot;Failed to create league.&quot;;\r\n        }\r\n\r\nLeague Service:\r\n\r\n    public interface LeagueService {\r\n    \r\n    \r\n        String addLeagueFromJSON(LeagueDTO leagueDTO);\r\n    \r\n    \r\n    }\r\n\r\nOutput from test:\r\n\r\n    null\r\n    MSG IN CONTROLLER: null\r\n\r\n    expected: &lt;{&quot;response&quot;:&quot;Success&quot;}&gt; but was: &lt;&gt;\r\n    Expected :{&quot;response&quot;:&quot;Success&quot;}\r\n    Actual   :\r\n\r\nThis works in Postman and says &quot;Success&quot; or &quot;Failure&quot; and I can see the changes in DB.\r\n\r\n","title":"MockMVC - Service method does not appeared to be called, works in postman, responding with null for test","body":"<p>I am trying to test the controller for creating a new league method, but it just returns null, and when I put a system.out.println in the service impl method, it doesn't print anything.</p>\n<p>I have tried this with both LeagueService and LeagueServiceImpl, but neither works. It seems to me as if the league service is not being called.</p>\n<p>LeagueControllerTest:</p>\n<pre><code>@AutoConfigureMockMvc\n@WebMvcTest(controllers = LeaguesController.class)\npublic class LeagueControllerTests {\n\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @MockBean\n    LeagueServiceImpl leagueService;\n\n\n    @Test\n    public void addLeague() throws Exception {\n        LeagueDTO leagueDTO = new LeagueDTO(&quot;The magnificent 7&quot;, LeagueType.BRONZE.leagueType(),7);\n        String json = objectMapper.writeValueAsString(leagueDTO);\n\n        System.out.println(leagueService.addLeagueFromJSON(leagueDTO));\n\n        when(leagueService.addLeagueFromJSON(leagueDTO)).thenReturn(&quot;Success.&quot;);\n\n        MvcResult mvcRes = mockMvc.perform(post(&quot;/leagues/add&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .accept(MediaType.APPLICATION_JSON)\n                .content(json))\n                .andExpect(status().isOk())\n                .andReturn();\n\n        assertEquals(&quot;{\\&quot;response\\&quot;:\\&quot;Success\\&quot;}&quot;, mvcRes.getResponse().getContentAsString());\n    }\n</code></pre>\n<p>LeagueController:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/leagues&quot;)\npublic class LeaguesController {\n\n\n    private final LeagueService leagueService;\n\n    public LeaguesController(LeagueService leagueService) {\n        this.leagueService = leagueService;\n    }\n\n    @PostMapping(value = &quot;/add&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;)\n    ResponseEntity&lt;?&gt; addLeague(@RequestBody final LeagueDTO leagueDTO) {\n        String response = leagueService.addLeagueFromJSON(leagueDTO);\n        System.out.println(&quot;MSG IN CONTROLLER: &quot; + response);\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>LeagueDTO:</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class LeagueDTO {\n\n    private String leagueName;\n\n    private String leagueType;\n\n    private Integer playerLimit;\n\n}\n</code></pre>\n<p>League:</p>\n<pre><code>@Entity\n@Setter\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;leagues&quot;)\npublic class League {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;leagueid&quot;, unique = true)\n    private Long leagueID;\n\n    @Column(name = &quot;leaguename&quot;)\n    private String leagueName;\n\n    @Column(name = &quot;leaguetype&quot;)\n    private String leagueType;\n\n    @Column(name = &quot;playerlimit&quot;)\n    private Integer playerLimit;\n\n    @Column(name = &quot;gamesToPlay&quot;)\n    private Integer gamesToPlay;\n\n    @Column(name = &quot;playedGames&quot;)\n    private Integer playedGames;\n\n    @Column(name = &quot;firstplaceuserid&quot;)\n    private Long firstPlaceUserID;\n}\n</code></pre>\n<p>LeagueServiceImpl:</p>\n<pre><code>@Override\n    public String addLeagueFromJSON(LeagueDTO leagueDTO) {\n        Integer playerLimit = leagueDTO.getPlayerLimit();\n        String leagueName = leagueDTO.getLeagueName();\n\n        if (leagueName != null &amp;&amp; playerLimit != null &amp;&amp; playerLimit &gt; 4) {\n            League league = new League(leagueName, leagueDTO.getLeagueType(), playerLimit);\n            leagueRepository.save(league);\n            return &quot;Successfully created league.&quot;;\n        }\n        return &quot;Failed to create league.&quot;;\n    }\n</code></pre>\n<p>League Service:</p>\n<pre><code>public interface LeagueService {\n\n\n    String addLeagueFromJSON(LeagueDTO leagueDTO);\n\n\n}\n</code></pre>\n<p>Output from test:</p>\n<pre><code>null\nMSG IN CONTROLLER: null\n\nexpected: &lt;{&quot;response&quot;:&quot;Success&quot;}&gt; but was: &lt;&gt;\nExpected :{&quot;response&quot;:&quot;Success&quot;}\nActual   :\n</code></pre>\n<p>This works in Postman and says &quot;Success&quot; or &quot;Failure&quot; and I can see the changes in DB.</p>\n"},{"tags":["java","java.util.concurrent"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1557387306,"creation_date":1557386905,"answer_id":56054261,"question_id":56054176,"body_markdown":"It is executed, you just aren&#39;t waiting for the result.\n\nThe Javadoc of [`CompleteableFuture.runAsync()`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#runAsync-java.lang.Runnable-) says:\n\n&gt; Returns a new CompletableFuture that is asynchronously completed by a task running in the&#160;`ForkJoinPool.commonPool()`&#160;after it runs the given action.\n\nThe Javadoc of [`ForkJoinPool.commonPool()`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html#commonPool--) says:\n\n&gt; Any program that relies on asynchronous task processing to complete before program termination should invoke&#160;`commonPool().awaitQuiescence()`, before exit.\n\nSo, invoke that.","title":"Why CompletableFuture.runAsync is not executed?","body":"<p>It is executed, you just aren't waiting for the result.</p>\n\n<p>The Javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#runAsync-java.lang.Runnable-\" rel=\"nofollow noreferrer\"><code>CompleteableFuture.runAsync()</code></a> says:</p>\n\n<blockquote>\n  <p>Returns a new CompletableFuture that is asynchronously completed by a task running in the <code>ForkJoinPool.commonPool()</code> after it runs the given action.</p>\n</blockquote>\n\n<p>The Javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html#commonPool--\" rel=\"nofollow noreferrer\"><code>ForkJoinPool.commonPool()</code></a> says:</p>\n\n<blockquote>\n  <p>Any program that relies on asynchronous task processing to complete before program termination should invoke <code>commonPool().awaitQuiescence()</code>, before exit.</p>\n</blockquote>\n\n<p>So, invoke that.</p>\n"}],"owner":{"account_id":15197258,"reputation":11,"user_id":10966229,"display_name":"Mew151"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3943,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1650628596,"answer_count":1,"score":0,"last_activity_date":1650628571,"creation_date":1557386582,"question_id":56054176,"body_markdown":"I consider that main thread must end after sub thread. However, below code shows the process finished before print the &quot;async end&quot;. What is the reason? Can anybody explain?\r\n\r\n```\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        CompletableFuture.runAsync(() -&gt; {\r\n            try {\r\n                System.out.println(&quot;async start&quot;);\r\n                Thread.sleep(3000);\r\n                System.out.println(&quot;async end&quot;);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n\r\n        System.out.println(&quot;main end&quot;);\r\n    }\r\n}\r\n```","title":"Why CompletableFuture.runAsync is not executed?","body":"<p>I consider that main thread must end after sub thread. However, below code shows the process finished before print the &quot;async end&quot;. What is the reason? Can anybody explain?</p>\n<pre><code>import java.util.concurrent.CompletableFuture;\n\npublic class Test {\n    public static void main(String[] args) {\n        CompletableFuture.runAsync(() -&gt; {\n            try {\n                System.out.println(&quot;async start&quot;);\n                Thread.sleep(3000);\n                System.out.println(&quot;async end&quot;);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n\n        System.out.println(&quot;main end&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":19851508,"reputation":1,"user_id":14541910,"display_name":"PAWAN DEY"},"score":0,"creation_date":1603973449,"post_id":64589863,"comment_id":114208412,"body_markdown":"## Response in Advanced RestClient: (in XML format)\n&lt;PidData&gt;&lt;Resp errCode=&quot;720&quot; errInfo=&quot;Device not ready&quot; fCount=&quot;&quot; fType=&quot;&quot; iCount=&quot;&quot; pCount=&quot;&quot; nmPoints=&quot;&quot; qScore=&quot;&quot;/&gt;&lt;DeviceInfo dpId=&quot;&quot; rdsId=&quot;&quot; rdsVer=&quot;&quot; dc=&quot;&quot; mi=&quot;&quot; mc=&quot;&quot; /&gt;\n&lt;Skey ci=&quot;&quot;&gt;&lt;/Skey&gt;&lt;Hmac&gt;&lt;/Hmac&gt;&lt;Data type=&quot;&quot;&gt;&lt;/Data&gt;&lt;/PidData&gt;","body":"## Response in Advanced RestClient: (in XML format) &lt;PidData&gt;&lt;Resp errCode=&quot;720&quot; errInfo=&quot;Device not ready&quot; fCount=&quot;&quot; fType=&quot;&quot; iCount=&quot;&quot; pCount=&quot;&quot; nmPoints=&quot;&quot; qScore=&quot;&quot;/&gt;&lt;DeviceInfo dpId=&quot;&quot; rdsId=&quot;&quot; rdsVer=&quot;&quot; dc=&quot;&quot; mi=&quot;&quot; mc=&quot;&quot; /&gt; &lt;Skey ci=&quot;&quot;&gt;&lt;/Skey&gt;&lt;Hmac&gt;&lt;/Hmac&gt;&lt;Data type=&quot;&quot;&gt;&lt;/Data&gt;&lt;/PidData&gt;"}],"answers":[{"tags":[],"owner":{"account_id":1580556,"reputation":59,"user_id":1466027,"display_name":"Uma Shankar Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646305416,"creation_date":1646305416,"answer_id":71336053,"question_id":64589863,"body_markdown":"All Capture Ports you will get on 11100\r\nScan All Ports from 11100 to 11105\r\non the port when you get reply as device is ready consider this is my port\r\nit can be any device\r\n","title":"Unable to Capture Fingerprint using morpho fingerprint scanner device in android application","body":"<p>All Capture Ports you will get on 11100\nScan All Ports from 11100 to 11105\non the port when you get reply as device is ready consider this is my port\nit can be any device</p>\n"},{"tags":[],"owner":{"account_id":17505058,"reputation":28,"user_id":12694476,"display_name":"Web Developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650628221,"creation_date":1650628221,"answer_id":71968277,"question_id":64589863,"body_markdown":"Please try this, it&#39;s working fine for me.\r\n\r\n    String pidOpt=&#39;&lt;PidOptions ver=\\&quot;1.0\\&quot;&gt;&#39;+&#39;&lt;Opts fCount=\\&quot;1\\&quot; fType=\\&quot;0\\&quot; iCount=\\&quot;0\\&quot; iType=\\&quot;0\\&quot; pCount=\\&quot;0\\&quot; pType=\\&quot;0\\&quot; format=\\&quot;0\\&quot; pidVer=\\&quot;2.0\\&quot; timeout=\\&quot;10000\\&quot; otp=\\&quot;\\&quot; wadh=\\&quot;\\&quot; posh=\\&quot;UNKNOWN\\&quot; env=\\&quot;PP\\&quot;/&gt;&#39;+&#39;&lt;/PidOptions&gt;&#39;;","title":"Unable to Capture Fingerprint using morpho fingerprint scanner device in android application","body":"<p>Please try this, it's working fine for me.</p>\n<pre><code>String pidOpt='&lt;PidOptions ver=\\&quot;1.0\\&quot;&gt;'+'&lt;Opts fCount=\\&quot;1\\&quot; fType=\\&quot;0\\&quot; iCount=\\&quot;0\\&quot; iType=\\&quot;0\\&quot; pCount=\\&quot;0\\&quot; pType=\\&quot;0\\&quot; format=\\&quot;0\\&quot; pidVer=\\&quot;2.0\\&quot; timeout=\\&quot;10000\\&quot; otp=\\&quot;\\&quot; wadh=\\&quot;\\&quot; posh=\\&quot;UNKNOWN\\&quot; env=\\&quot;PP\\&quot;/&gt;'+'&lt;/PidOptions&gt;';\n</code></pre>\n"}],"owner":{"account_id":19851508,"reputation":1,"user_id":14541910,"display_name":"PAWAN DEY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650628221,"creation_date":1603969499,"question_id":64589863,"body_markdown":"\r\n## Device detail:\r\nMorpho fingerprint scanner device\r\n\r\n## Method ##\r\nType : CAPTURE\r\n\r\n## URL : http://127.0.0.1:11100/capture\r\n\r\n## Headers ##\r\ncontent-type : \ttext/xml\r\nAccept : text/xml\r\n\r\n\r\n## Body ##\r\n&lt;PidOptions ver=&quot;1.0&quot;&gt;&lt;Opts fCount=&quot;1&quot; fType=&quot;0&quot; iCount=&quot;&quot; iType=&quot;&quot; pCount=&quot;&quot; pType=&quot;&quot; format=&quot;1&quot; pidVer=&quot;2.0&quot; timeout=&quot;10000&quot; otp=&quot;&quot; wadh=&quot;$WADH&quot; posh=&quot;&quot;/&gt;&lt;/PidOptions&gt;\r\n\r\n\r\n## Response in Advanced RestClient:\r\n&lt;PidData&gt;&lt;Resp errCode=&quot;720&quot; errInfo=&quot;Device not ready&quot; fCount=&quot;&quot; fType=&quot;&quot; iCount=&quot;&quot; pCount=&quot;&quot; nmPoints=&quot;&quot; qScore=&quot;&quot;/&gt;&lt;DeviceInfo dpId=&quot;&quot; rdsId=&quot;&quot; rdsVer=&quot;&quot; dc=&quot;&quot; mi=&quot;&quot; mc=&quot;&quot; /&gt;\r\n&lt;Skey ci=&quot;&quot;&gt;&lt;/Skey&gt;&lt;Hmac&gt;&lt;/Hmac&gt;&lt;Data type=&quot;&quot;&gt;&lt;/Data&gt;&lt;/PidData&gt;\r\n\r\n\r\n## ISSUE\r\nWhen I am using this above API request in Advanced RestClient then I am getting the response shown above but when trying to achieve this by using OkHttpClient library in the android application but getting the following error:\r\n\r\n\r\n## Here is the code spinnet using OkHttpClient:\r\n\r\n    private void captureRdRequest(final String pidOpt, final String reqUrl) {\r\n\r\n \t\tString pidOpt = &quot;&lt;PidOptions ver=\\&quot;1.0\\&quot;&gt;&lt;Opts fCount=\\&quot;1\\&quot; fType=\\&quot;0\\&quot; iCount=\\&quot;\\&quot; iType=\\&quot;\\&quot; pCount=\\&quot;\\&quot; pType=\\&quot;\\&quot; format=\\&quot;1\\&quot; pidVer=\\&quot;2.0\\&quot; timeout=\\&quot;10000\\&quot; otp=\\&quot;\\&quot; wadh=\\&quot;$WADH\\&quot; posh=\\&quot;\\&quot;/&gt;&lt;/PidOptions&gt;&quot;;\r\n    \tString url = &quot;http://127.0.0.1:42200/capture&quot;;\r\n\r\n        Thread thread = new Thread(new Runnable() {\r\n\r\n            @Override\r\n            public void run() {\r\n                try  {\r\n\r\n                    OkHttpClient client = new OkHttpClient().newBuilder()\r\n                            .build();\r\n                    MediaType mediaType = MediaType.parse(&quot;text/xml&quot;);\r\n                    RequestBody body = RequestBody.create(mediaType, pidOpt);\r\n                    okhttp3.Request request = new okhttp3.Request.Builder()\r\n                            .url(url)\r\n                            .method(&quot;CAPTURE&quot;, body)\r\n                            .addHeader(&quot;Content-Type&quot;, &quot;text/xml&quot;)\r\n                            .addHeader(&quot;Accept&quot;, &quot;text/xml&quot;)\r\n                            .build();\r\n                    okhttp3.Response response = client.newCall(request).execute();\r\n                    Log.d(&quot;sdf&quot;, response.toString());\r\n\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n\r\n        thread.start();\r\n\r\n    }\r\n\r\n\r\n## Error Deatil message :\r\n\r\n    failed to connect to /127.0.0.1 (port 42200) from /127.0.0.1 (port 42104) after 10000ms: isConnected failed: ECONNREFUSED (Connection refused)\r\n\r\n\r\n## REQUIRED SOLUTION:\r\nPlease help me with how to capture the fingerprint for the client app ??\r\n\r\n","title":"Unable to Capture Fingerprint using morpho fingerprint scanner device in android application","body":"<h2>Device detail:</h2>\n<p>Morpho fingerprint scanner device</p>\n<h2>Method</h2>\n<p>Type : CAPTURE</p>\n<h2>URL : <a href=\"http://127.0.0.1:11100/capture\" rel=\"nofollow noreferrer\">http://127.0.0.1:11100/capture</a></h2>\n<h2>Headers</h2>\n<p>content-type :  text/xml\nAccept : text/xml</p>\n<h2>Body</h2>\n<p></p>\n<h2>Response in Advanced RestClient:</h2>\n<p>\n</p>\n<h2>ISSUE</h2>\n<p>When I am using this above API request in Advanced RestClient then I am getting the response shown above but when trying to achieve this by using OkHttpClient library in the android application but getting the following error:</p>\n<h2>Here is the code spinnet using OkHttpClient:</h2>\n<pre><code>private void captureRdRequest(final String pidOpt, final String reqUrl) {\n\n    String pidOpt = &quot;&lt;PidOptions ver=\\&quot;1.0\\&quot;&gt;&lt;Opts fCount=\\&quot;1\\&quot; fType=\\&quot;0\\&quot; iCount=\\&quot;\\&quot; iType=\\&quot;\\&quot; pCount=\\&quot;\\&quot; pType=\\&quot;\\&quot; format=\\&quot;1\\&quot; pidVer=\\&quot;2.0\\&quot; timeout=\\&quot;10000\\&quot; otp=\\&quot;\\&quot; wadh=\\&quot;$WADH\\&quot; posh=\\&quot;\\&quot;/&gt;&lt;/PidOptions&gt;&quot;;\n    String url = &quot;http://127.0.0.1:42200/capture&quot;;\n\n    Thread thread = new Thread(new Runnable() {\n\n        @Override\n        public void run() {\n            try  {\n\n                OkHttpClient client = new OkHttpClient().newBuilder()\n                        .build();\n                MediaType mediaType = MediaType.parse(&quot;text/xml&quot;);\n                RequestBody body = RequestBody.create(mediaType, pidOpt);\n                okhttp3.Request request = new okhttp3.Request.Builder()\n                        .url(url)\n                        .method(&quot;CAPTURE&quot;, body)\n                        .addHeader(&quot;Content-Type&quot;, &quot;text/xml&quot;)\n                        .addHeader(&quot;Accept&quot;, &quot;text/xml&quot;)\n                        .build();\n                okhttp3.Response response = client.newCall(request).execute();\n                Log.d(&quot;sdf&quot;, response.toString());\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    });\n\n    thread.start();\n\n}\n</code></pre>\n<h2>Error Deatil message :</h2>\n<pre><code>failed to connect to /127.0.0.1 (port 42200) from /127.0.0.1 (port 42104) after 10000ms: isConnected failed: ECONNREFUSED (Connection refused)\n</code></pre>\n<h2>REQUIRED SOLUTION:</h2>\n<p>Please help me with how to capture the fingerprint for the client app ??</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3447749,"reputation":787,"user_id":2888115,"display_name":"gmeiner.m"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1541516182,"creation_date":1541516182,"answer_id":53174406,"question_id":53173855,"body_markdown":"Yes it is definitely a good idea to cache the template byte array if you need it frequently. But be aware that this will increase your memory usage by the size of the file. \r\n\r\nUsing spring&#39;s *ByteArrayResource* can be a good approach for this, depending on what you are using for processing the template. *ByteArrayResource*&#39;s *getInputStream()* method will always give you a fresh *ByteArrayInputStream*\r\n\r\nYou can provide a ByteArrayResource bean with the content like this:\r\n\r\n    @Bean\r\n    public ByteArrayResource infomailTemplate(@Value(&quot;classpath:infomail-template.html&quot;) Resource template) throws IOException {\r\n        byte[] templateContent = org.springframework.util.FileCopyUtils.copyToByteArray(template.getFile());\r\n        return new ByteArrayResource(templateContent);\r\n    }\r\n\r\nand then simply *autowire* it then everywhere you like, like this:\r\n\r\n    @Autowired \r\n    private ByteArrayResource infomailTemplate\r\n\r\n","title":"ByteArrayResource usage","body":"<p>Yes it is definitely a good idea to cache the template byte array if you need it frequently. But be aware that this will increase your memory usage by the size of the file. </p>\n\n<p>Using spring's <em>ByteArrayResource</em> can be a good approach for this, depending on what you are using for processing the template. <em>ByteArrayResource</em>'s <em>getInputStream()</em> method will always give you a fresh <em>ByteArrayInputStream</em></p>\n\n<p>You can provide a ByteArrayResource bean with the content like this:</p>\n\n<pre><code>@Bean\npublic ByteArrayResource infomailTemplate(@Value(\"classpath:infomail-template.html\") Resource template) throws IOException {\n    byte[] templateContent = org.springframework.util.FileCopyUtils.copyToByteArray(template.getFile());\n    return new ByteArrayResource(templateContent);\n}\n</code></pre>\n\n<p>and then simply <em>autowire</em> it then everywhere you like, like this:</p>\n\n<pre><code>@Autowired \nprivate ByteArrayResource infomailTemplate\n</code></pre>\n"}],"owner":{"account_id":7679634,"reputation":1304,"user_id":5819264,"accept_rate":34,"display_name":"springbootlearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22161,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":53174406,"answer_count":1,"score":10,"last_activity_date":1650627983,"creation_date":1541514240,"question_id":53173855,"body_markdown":"I have a template pdf which is stored in either in physical path or in application classpath. I have to read this template and fill its fields for each request based on user input for every request. I want to convert this file into byte and store this in Configuration bean during application startup instead reading template file every time. For this can I use ByteArrayResource in Spring or another better approach.\r\n\r\nMy goal is not to read template file every time.\r\n\r\n","title":"ByteArrayResource usage","body":"<p>I have a template pdf which is stored in either in physical path or in application classpath. I have to read this template and fill its fields for each request based on user input for every request. I want to convert this file into byte and store this in Configuration bean during application startup instead reading template file every time. For this can I use ByteArrayResource in Spring or another better approach.</p>\n\n<p>My goal is not to read template file every time.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1650614941,"post_id":71965408,"comment_id":127165193,"body_markdown":"`a.getAccountBalance()` returns a value. You cannot assign a value to another value.","body":"<code>a.getAccountBalance()</code> returns a value. You cannot assign a value to another value."},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":1,"creation_date":1650615159,"post_id":71965408,"comment_id":127165278,"body_markdown":"You would probably need a `setAccountBalance()` method too, and write `a.setAccountBalance(a.getAccountBalance()-amount);`. But in fact you may be expected to check that the balance doesn&#39;t go into negative.","body":"You would probably need a <code>setAccountBalance()</code> method too, and write <code>a.setAccountBalance(a.getAccountBalance()-amount);</code>. But in fact you may be expected to check that the balance doesn&#39;t go into negative."}],"answers":[{"tags":[],"owner":{"account_id":14221720,"reputation":59,"user_id":10273786,"display_name":"MLem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650615314,"creation_date":1650615314,"answer_id":71965510,"question_id":71965408,"body_markdown":"Picked up from this :\r\n\r\nhttps://stackoverflow.com/questions/16482488/required-variable-found-value\r\n\r\n=&gt; in your case `a.getAccountBalance()` returns a value, not a variable.\r\nYou are currently trying to assign a value to a value... For getting the var, you are using a getter, for setting it, use a setter...\r\nI&#39;ll let you find the rest of it ;)","title":"Why am I getting this error unexpected type required: variable, found: value in my method?","body":"<p>Picked up from this :</p>\n<p><a href=\"https://stackoverflow.com/questions/16482488/required-variable-found-value\">Required: Variable Found: Value</a></p>\n<p>=&gt; in your case <code>a.getAccountBalance()</code> returns a value, not a variable.\nYou are currently trying to assign a value to a value... For getting the var, you are using a getter, for setting it, use a setter...\nI'll let you find the rest of it ;)</p>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650627849,"creation_date":1650627849,"answer_id":71968186,"question_id":71965408,"body_markdown":"You are trying to assign a value to another value.  This is akin to saying `7 = 1 + 2`.  That&#39;s not going to work. Instead, do the calculation and then assign that via a setter.\r\n\r\n    public static boolean withdrawFromAccount(double amount, Account account) {\r\n      account.setAccountBalance(account.getAccountBalance() - amount);\r\n    }\r\n\r\nAlso, consider who is responsible for error checking.  Do you need to validate sufficient funds?  What about negative inputs?","title":"Why am I getting this error unexpected type required: variable, found: value in my method?","body":"<p>You are trying to assign a value to another value.  This is akin to saying <code>7 = 1 + 2</code>.  That's not going to work. Instead, do the calculation and then assign that via a setter.</p>\n<pre><code>public static boolean withdrawFromAccount(double amount, Account account) {\n  account.setAccountBalance(account.getAccountBalance() - amount);\n}\n</code></pre>\n<p>Also, consider who is responsible for error checking.  Do you need to validate sufficient funds?  What about negative inputs?</p>\n"}],"owner":{"display_name":"user18904944"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650627849,"creation_date":1650614800,"question_id":71965408,"body_markdown":"I am trying to update my account balance. I have a getAccountBalance accessor in my Account class in the same file as my main method, my main method has the Account object created. The only information that is important is below, the rest isn&#39;t necessary. It&#39;s a school assignment. I have to use a withdraw method separate from the Account class, otherwise I would of easily just create a withdraw method in the Account class.\r\n```\r\n    public static void withdrawFromAccount(double amount ,Account a){\r\n      a.getAccountBalance()-=amount; // unexpected error type required: variable found: value\r\n    }\r\n```","title":"Why am I getting this error unexpected type required: variable, found: value in my method?","body":"<p>I am trying to update my account balance. I have a getAccountBalance accessor in my Account class in the same file as my main method, my main method has the Account object created. The only information that is important is below, the rest isn't necessary. It's a school assignment. I have to use a withdraw method separate from the Account class, otherwise I would of easily just create a withdraw method in the Account class.</p>\n<pre><code>    public static void withdrawFromAccount(double amount ,Account a){\n      a.getAccountBalance()-=amount; // unexpected error type required: variable found: value\n    }\n</code></pre>\n"},{"tags":["java","xslt","xsl-fo"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":2,"creation_date":1650629258,"post_id":71968039,"comment_id":127170196,"body_markdown":"XSLT 3 can process JSON, there are two ways, to use `json-to-xml` to convert the JSON to XML and then process the XML with template rules, or you can also treat JSON as XDM maps/arrays and process these with template rules. Anyway, the rest is normal XSLT processing and creating XSL-FO is a question of knowing and using the XSL-FO elements.","body":"XSLT 3 can process JSON, there are two ways, to use <code>json-to-xml</code> to convert the JSON to XML and then process the XML with template rules, or you can also treat JSON as XDM maps/arrays and process these with template rules. Anyway, the rest is normal XSLT processing and creating XSL-FO is a question of knowing and using the XSL-FO elements."},{"owner":{"account_id":25051242,"reputation":9,"user_id":18907128,"display_name":"hmerkute"},"score":0,"creation_date":1650874009,"post_id":71968039,"comment_id":127217360,"body_markdown":"i want to create xsl fo file which should have xsl fo tags which can be used further to generate the pdf","body":"i want to create xsl fo file which should have xsl fo tags which can be used further to generate the pdf"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1650882295,"post_id":71968039,"comment_id":127220191,"body_markdown":"Well, what have you tried, where did you get stuck?","body":"Well, what have you tried, where did you get stuck?"}],"owner":{"account_id":25051242,"reputation":9,"user_id":18907128,"display_name":"hmerkute"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1650627577,"creation_date":1650627062,"question_id":71968039,"body_markdown":"I have a JSON which has text and inline styling such as Bold,italics . i have to apply this styling to the text mentioned in json and create an XSL FO file which will be used afterwards to generate a PDF out of it.\r\n\r\nJSON : \r\n\r\n   [input Json][1]\r\n\r\nOutput expected :\r\n\r\n![Output][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nOVgH.png\r\n  [2]: https://i.stack.imgur.com/Wbym0.png","title":"Json to XSL FO creation using Java","body":"<p>I have a JSON which has text and inline styling such as Bold,italics . i have to apply this styling to the text mentioned in json and create an XSL FO file which will be used afterwards to generate a PDF out of it.</p>\n<p>JSON :</p>\n<p><a href=\"https://i.stack.imgur.com/nOVgH.png\" rel=\"nofollow noreferrer\">input Json</a></p>\n<p>Output expected :</p>\n<p><img src=\"https://i.stack.imgur.com/Wbym0.png\" alt=\"Output\" /></p>\n"},{"tags":["java","mongodb","spring-boot","spring-mongodb","spring-mongo"],"owner":{"account_id":17280114,"reputation":123,"user_id":12722349,"display_name":"Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1650627383,"creation_date":1650618991,"question_id":71966302,"body_markdown":"I want to establish connection with mongodb through app.properties files in Spring boot.\r\nCurrently, I am establishing connection through Uri variable declared in the  class file itself.\r\n\r\n    private static String uri =&quot;mongodb://localhost:27017/?readPreference=primary&amp;appname=MongoDB%20Compass&amp;directConnection=true&amp;ssl=false&quot;;\r\n    \r\n    private static String database = &quot;xyz&quot;;\r\n\r\n\r\n\r\nWhen I am trying to configure it in app.properties files like this\r\n\r\n    spring.data.mongodb.uri= mongodb://localhost:27017/?readPreference=primary&amp;appname=MongoDB%20Compass&amp;directConnection=true&amp;ssl=false\r\n    spring.data.mongodb.database = xyz\r\n\r\n\r\nIt is not connecting and I am getting this error\r\n\r\n    Cannot invoke &quot;String.startsWith(String)&quot; because &quot;connectionString&quot; is null","title":"Not able to establish connection between mongodb and Springboot through app.properties file","body":"<p>I want to establish connection with mongodb through app.properties files in Spring boot.\nCurrently, I am establishing connection through Uri variable declared in the  class file itself.</p>\n<pre><code>private static String uri =&quot;mongodb://localhost:27017/?readPreference=primary&amp;appname=MongoDB%20Compass&amp;directConnection=true&amp;ssl=false&quot;;\n\nprivate static String database = &quot;xyz&quot;;\n</code></pre>\n<p>When I am trying to configure it in app.properties files like this</p>\n<pre><code>spring.data.mongodb.uri= mongodb://localhost:27017/?readPreference=primary&amp;appname=MongoDB%20Compass&amp;directConnection=true&amp;ssl=false\nspring.data.mongodb.database = xyz\n</code></pre>\n<p>It is not connecting and I am getting this error</p>\n<pre><code>Cannot invoke &quot;String.startsWith(String)&quot; because &quot;connectionString&quot; is null\n</code></pre>\n"},{"tags":["java","inheritance","interface"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1650620569,"post_id":71966644,"comment_id":127167220,"body_markdown":"Why is it a contradiction? Do you understand what &quot;as if&quot; means?","body":"Why is it a contradiction? Do you understand what &quot;as if&quot; means?"},{"owner":{"account_id":2838423,"reputation":4567,"user_id":2438518,"accept_rate":53,"display_name":"mrbela"},"score":0,"creation_date":1650620653,"post_id":71966644,"comment_id":127167253,"body_markdown":"I understand it.. But then you could write something like &quot;any class that implements the interface has direct access to the constant because it inherits them&quot;... Why the usage of &quot;as if&quot;?","body":"I understand it.. But then you could write something like &quot;any class that implements the interface has direct access to the constant because it inherits them&quot;... Why the usage of &quot;as if&quot;?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1650621821,"post_id":71966644,"comment_id":127167625,"body_markdown":"There are more differences: Create a class in another package and try to access the constant, which is not declared public. The &#39;as if&#39; comes into play since you could implement several interfaces and thus get multiple NUMBER constants. What now?","body":"There are more differences: Create a class in another package and try to access the constant, which is not declared public. The &#39;as if&#39; comes into play since you could implement several interfaces and thus get multiple NUMBER constants. What now?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1650622314,"post_id":71966644,"comment_id":127167779,"body_markdown":"No it isn&#39;t a contradiction. Unclear what you&#39;re asking.","body":"No it isn&#39;t a contradiction. Unclear what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1650627382,"creation_date":1650627382,"answer_id":71968093,"question_id":71966644,"body_markdown":"It all boils down to the question how you define the term &quot;inheritance&quot;.\r\n\r\n- An instance of a class can be called not only with its own methods, but also with all methods declared in any of its superclasses. Would you like to call that &quot;inheritance&quot;? The Java community does so.\r\n\r\n- An instance of a class does not only have the fields that it declared itself, but also all fields declared in any of its superclasses. Would you like to call that &quot;inheritance&quot;? The Java community does so.\r\n\r\n- A subclass implicitly has all the characteristics of its superclass, e.g. which interfaces it implements. Would you like to call that &quot;inheritance&quot;? The Java community does so.\r\n\r\n- A class implementing an interface will have all the methods declared in the interface. Would you like to call that &quot;inheritance&quot;? The Java community calls this &quot;implementing an interface&quot;, not &quot;inheritance&quot;. [I&#39;m a bit surprised that the Oracle book seems to use the term &quot;inheritance&quot; here as well.]\r\n\r\n- In a class implementing an interface, you can access constants declared in the interface by their simple name, without the need to prefix the constant with the interface name. Would you like to call that &quot;inheritance&quot;? The Java community does not, it&#39;s just a shorthand notation.\r\n\r\n- When importing a package like `import java.awt.*`, you can then access classes by their simple name, without the need to prefix them with their package name. Would you like to call that &quot;inheritance&quot;? The Java community does not, it&#39;s just a shorthand notation.\r\n\r\nOf course, you can call any of these (and many more) language features by any name you like, but don&#39;t be surprised if it causes misunderstandings.","title":"Does in Java an implementing class inherits the interface constants or not?","body":"<p>It all boils down to the question how you define the term &quot;inheritance&quot;.</p>\n<ul>\n<li><p>An instance of a class can be called not only with its own methods, but also with all methods declared in any of its superclasses. Would you like to call that &quot;inheritance&quot;? The Java community does so.</p>\n</li>\n<li><p>An instance of a class does not only have the fields that it declared itself, but also all fields declared in any of its superclasses. Would you like to call that &quot;inheritance&quot;? The Java community does so.</p>\n</li>\n<li><p>A subclass implicitly has all the characteristics of its superclass, e.g. which interfaces it implements. Would you like to call that &quot;inheritance&quot;? The Java community does so.</p>\n</li>\n<li><p>A class implementing an interface will have all the methods declared in the interface. Would you like to call that &quot;inheritance&quot;? The Java community calls this &quot;implementing an interface&quot;, not &quot;inheritance&quot;. [I'm a bit surprised that the Oracle book seems to use the term &quot;inheritance&quot; here as well.]</p>\n</li>\n<li><p>In a class implementing an interface, you can access constants declared in the interface by their simple name, without the need to prefix the constant with the interface name. Would you like to call that &quot;inheritance&quot;? The Java community does not, it's just a shorthand notation.</p>\n</li>\n<li><p>When importing a package like <code>import java.awt.*</code>, you can then access classes by their simple name, without the need to prefix them with their package name. Would you like to call that &quot;inheritance&quot;? The Java community does not, it's just a shorthand notation.</p>\n</li>\n</ul>\n<p>Of course, you can call any of these (and many more) language features by any name you like, but don't be surprised if it causes misunderstandings.</p>\n"}],"owner":{"account_id":2838423,"reputation":4567,"user_id":2438518,"accept_rate":53,"display_name":"mrbela"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1650629747,"accepted_answer_id":71968093,"answer_count":1,"score":-2,"last_activity_date":1650627382,"creation_date":1650620512,"question_id":71966644,"body_markdown":"I am asking myself, if an interface in Java inherits its constants or not?!\r\n\r\n\r\nI am just reading the &quot;OCP Java SE Programmer II Exam Guide&quot; (Oracle Press, ISBN: 978-1-260-11738-7) and they are writing:\r\n\r\n1) &quot;**you can create inheritance** relationships in Java by extending a class or **by implementing an interface**&quot; (page 76)\r\n2) &quot;any class that implements the interface has direct access to the constants, **just as if the class had inherited them**&quot; (page 12)\r\n\r\nIsn&#39;t it a contradiction?\r\n\r\nExample:\r\n\r\n    public interface InterfaceA2 {\r\n    \r\n    \tint NUMBER = 100;\r\n    }\r\n    \r\n    class A2 {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t// System.out.println(NUMBER);\t// compiler error\r\n    \t\tSystem.out.println(InterfaceA2.NUMBER);\r\n    \t}\r\n    }\r\n    \r\n    class B2 implements InterfaceA2 {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(NUMBER); // &lt;------------------ looks like inheritance?!\r\n    \t\tSystem.out.println(InterfaceA2.NUMBER);\r\n    \t}\r\n    }","title":"Does in Java an implementing class inherits the interface constants or not?","body":"<p>I am asking myself, if an interface in Java inherits its constants or not?!</p>\n<p>I am just reading the &quot;OCP Java SE Programmer II Exam Guide&quot; (Oracle Press, ISBN: 978-1-260-11738-7) and they are writing:</p>\n<ol>\n<li>&quot;<strong>you can create inheritance</strong> relationships in Java by extending a class or <strong>by implementing an interface</strong>&quot; (page 76)</li>\n<li>&quot;any class that implements the interface has direct access to the constants, <strong>just as if the class had inherited them</strong>&quot; (page 12)</li>\n</ol>\n<p>Isn't it a contradiction?</p>\n<p>Example:</p>\n<pre><code>public interface InterfaceA2 {\n\n    int NUMBER = 100;\n}\n\nclass A2 {\n    \n    public static void main(String[] args) {\n        \n        // System.out.println(NUMBER);  // compiler error\n        System.out.println(InterfaceA2.NUMBER);\n    }\n}\n\nclass B2 implements InterfaceA2 {\n    \n    public static void main(String[] args) {\n        System.out.println(NUMBER); // &lt;------------------ looks like inheritance?!\n        System.out.println(InterfaceA2.NUMBER);\n    }\n}\n</code></pre>\n"},{"tags":["java","sql"],"answers":[{"tags":[],"owner":{"account_id":17470371,"reputation":310,"user_id":12666301,"display_name":"karim farhouti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650627192,"creation_date":1650627192,"answer_id":71968066,"question_id":71956431,"body_markdown":"Try to commit the transaction manually through the Connection object ,hope it helps.","title":"SQL executeUpdate() seems to commit data, but that is not the case. How can I find my error?","body":"<p>Try to commit the transaction manually through the Connection object ,hope it helps.</p>\n"}],"owner":{"account_id":24058409,"reputation":33,"user_id":18035952,"display_name":"Phaeron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71968066,"answer_count":1,"score":0,"last_activity_date":1650627192,"creation_date":1650552243,"question_id":71956431,"body_markdown":"I curently work on few SQL queries (MSSQL 2O14), but only &quot;SELECT&quot; query works with executeQuery().\r\nI had use execute() and executeUpdate() on &quot;INSERT INTO&quot; and &quot;UPDATE&quot; queries, but whereas it looks like working, no way.\r\n\r\nFYI, in &quot;UPDATE_PREVIOUS_H_LOT_STATUT,\r\nint count= p.executeUpdate(); return 1. If h_lot_number is an unknown lot number, count = 0.\r\nSo, if I use wrong data in input, my query isn&#39;t executed(Until here, I agree) but when I use the expected data, the query is executed but there is no change in my DB.\r\nHow can I find where my error is ?\r\n\r\nUPDATE Function :\r\n````\r\npublic static boolean UPDATE_PREVIOUS_H_LOT_STATUT(String h_lot_number_old) {\r\n        try {\r\n            setUpConnexion(&quot;mainDB&quot;);\r\n            String baseQuery = &quot;UPDATE valve_assembly_h SET statut = &#39;Expir&#233;&#39; WHERE h_lot_number = &#39;&quot; + h_lot_number_old + &quot;&#39;&quot;;\r\n             //PreparedStatement p = newTransact(&quot;UPDATE valve_assembly_h SET statut = &#39;Expir&#233;&#39; WHERE h_lot_number = &#39;&quot; + h_lot_number_old + &quot;&#39;&quot;, &quot;mainDB&quot;);\r\n            PreparedStatement toReturn = (PreparedStatement) mainCon.prepareStatement(baseQuery);\r\n            int count = toReturn.executeUpdate();\r\n            if (count &gt; 0) {\r\n                Log.d(&quot;Sucess : &quot;, &quot;Previous h_lot updated.&quot;);\r\n                closeCons();\r\n                return true;\r\n            } else {\r\n                Log.e(&quot;Error : &quot;, &quot;No lot found with this number.&quot;);\r\n                closeCons();\r\n                return false;\r\n            }\r\n        } catch (SQLException e) {\r\n            error = e.getMessage();\r\n            Log.e(&quot;Error :&quot;, error);\r\n            closeCons();\r\n            return false;\r\n        }\r\n\r\n    }\r\n````\r\n\r\nLOAD PREVIOUS NUMBER FUNCTION (works perfectly)\r\n````\r\npublic static String LOAD_PREVIOUS_H_LOT_NUMBER(String machineNumber) {\r\n        String s = &quot;&quot;;\r\n        try {\r\n            setUpConnexion(&quot;mainDB&quot;);\r\n            ResultSet RS = executeQuery(&quot;SELECT h_lot_number FROM valve_assembly_h WHERE machine_number = &#39;&quot; + machineNumber + &quot;&#39; AND statut = &#39;Actif&#39;&quot;, &quot;mainDB&quot;);\r\n            while (RS.next()) {\r\n                s = RS.getString(1);\r\n                Log.d(&quot;Success : &quot;, &quot;Lot number : &quot; + s);\r\n            }\r\n            closeResultSet(RS);\r\n        } catch (Exception e) {\r\n            error = e.getMessage();\r\n            Log.e(&quot;Error :&quot;, error);\r\n            s = error;\r\n        }\r\n        closeCons();\r\n        return s;\r\n    }\r\n````\r\n\r\nSet up connection function : (works perfectly)\r\n````\r\npublic static boolean setUpConnexion(String DBNAME) {\r\n        StrictMode.ThreadPolicy policy;\r\n        policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n        String connectURL;\r\n        try {\r\n    CONNECTION MS SQL SERVER\r\n}\r\n            return true;\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;SQL ERROR: &quot; + e.getMessage());\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n````\r\n","title":"SQL executeUpdate() seems to commit data, but that is not the case. How can I find my error?","body":"<p>I curently work on few SQL queries (MSSQL 2O14), but only &quot;SELECT&quot; query works with executeQuery().\nI had use execute() and executeUpdate() on &quot;INSERT INTO&quot; and &quot;UPDATE&quot; queries, but whereas it looks like working, no way.</p>\n<p>FYI, in &quot;UPDATE_PREVIOUS_H_LOT_STATUT,\nint count= p.executeUpdate(); return 1. If h_lot_number is an unknown lot number, count = 0.\nSo, if I use wrong data in input, my query isn't executed(Until here, I agree) but when I use the expected data, the query is executed but there is no change in my DB.\nHow can I find where my error is ?</p>\n<p>UPDATE Function :</p>\n<pre><code>public static boolean UPDATE_PREVIOUS_H_LOT_STATUT(String h_lot_number_old) {\n        try {\n            setUpConnexion(&quot;mainDB&quot;);\n            String baseQuery = &quot;UPDATE valve_assembly_h SET statut = 'Expiré' WHERE h_lot_number = '&quot; + h_lot_number_old + &quot;'&quot;;\n             //PreparedStatement p = newTransact(&quot;UPDATE valve_assembly_h SET statut = 'Expiré' WHERE h_lot_number = '&quot; + h_lot_number_old + &quot;'&quot;, &quot;mainDB&quot;);\n            PreparedStatement toReturn = (PreparedStatement) mainCon.prepareStatement(baseQuery);\n            int count = toReturn.executeUpdate();\n            if (count &gt; 0) {\n                Log.d(&quot;Sucess : &quot;, &quot;Previous h_lot updated.&quot;);\n                closeCons();\n                return true;\n            } else {\n                Log.e(&quot;Error : &quot;, &quot;No lot found with this number.&quot;);\n                closeCons();\n                return false;\n            }\n        } catch (SQLException e) {\n            error = e.getMessage();\n            Log.e(&quot;Error :&quot;, error);\n            closeCons();\n            return false;\n        }\n\n    }\n</code></pre>\n<p>LOAD PREVIOUS NUMBER FUNCTION (works perfectly)</p>\n<pre><code>public static String LOAD_PREVIOUS_H_LOT_NUMBER(String machineNumber) {\n        String s = &quot;&quot;;\n        try {\n            setUpConnexion(&quot;mainDB&quot;);\n            ResultSet RS = executeQuery(&quot;SELECT h_lot_number FROM valve_assembly_h WHERE machine_number = '&quot; + machineNumber + &quot;' AND statut = 'Actif'&quot;, &quot;mainDB&quot;);\n            while (RS.next()) {\n                s = RS.getString(1);\n                Log.d(&quot;Success : &quot;, &quot;Lot number : &quot; + s);\n            }\n            closeResultSet(RS);\n        } catch (Exception e) {\n            error = e.getMessage();\n            Log.e(&quot;Error :&quot;, error);\n            s = error;\n        }\n        closeCons();\n        return s;\n    }\n</code></pre>\n<p>Set up connection function : (works perfectly)</p>\n<pre><code>public static boolean setUpConnexion(String DBNAME) {\n        StrictMode.ThreadPolicy policy;\n        policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n        StrictMode.setThreadPolicy(policy);\n        String connectURL;\n        try {\n    CONNECTION MS SQL SERVER\n}\n            return true;\n        } catch (Exception e) {\n            System.out.println(&quot;SQL ERROR: &quot; + e.getMessage());\n            e.printStackTrace();\n            return false;\n        }\n    }\n</code></pre>\n"},{"tags":["java","arrays","character"],"comments":[{"owner":{"account_id":11052106,"reputation":3581,"user_id":8116173,"display_name":"Przemysław Moskal"},"score":0,"creation_date":1510757678,"post_id":47310498,"comment_id":81571492,"body_markdown":"What about unboxing?","body":"What about unboxing?"},{"owner":{"account_id":10612893,"reputation":142,"user_id":7816262,"accept_rate":57,"display_name":"leedwon"},"score":0,"creation_date":1510758303,"post_id":47310498,"comment_id":81571967,"body_markdown":"It surely would work but in that case I would have to create new Char array and just fill it with data from Character array and I&#39;m looking for some ready method that will make that for me","body":"It surely would work but in that case I would have to create new Char array and just fill it with data from Character array and I&#39;m looking for some ready method that will make that for me"},{"owner":{"account_id":11052106,"reputation":3581,"user_id":8116173,"display_name":"Przemysław Moskal"},"score":0,"creation_date":1510760666,"post_id":47310498,"comment_id":81573886,"body_markdown":"Ok, thanks for pointing it out.","body":"Ok, thanks for pointing it out."}],"answers":[{"tags":[],"owner":{"account_id":2450046,"reputation":273,"user_id":2136565,"display_name":"pejas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510758231,"creation_date":1510758231,"answer_id":47310720,"question_id":47310498,"body_markdown":"There is method in Apache Commons Lang which does exactly what you need:\r\nhttp://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ArrayUtils.html#toPrimitive-java.lang.Character:A-\r\n\r\n    public static char[] ArrayUtils.toPrimitive(Character[] array)\r\n\r\n ","title":"Copying Character array into char array","body":"<p>There is method in Apache Commons Lang which does exactly what you need:\n<a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ArrayUtils.html#toPrimitive-java.lang.Character:A-\" rel=\"nofollow noreferrer\">http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ArrayUtils.html#toPrimitive-java.lang.Character:A-</a></p>\n\n<pre><code>public static char[] ArrayUtils.toPrimitive(Character[] array)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510758387,"creation_date":1510758387,"answer_id":47310782,"question_id":47310498,"body_markdown":"Technical not possible, but you might do with a lazy kind of unboxing Character to char. For instance using a Stream. (Which at the moment might even be additional overhead.)\r\n\r\nIf the Character array stems from a Collection, a List, then you just might take measures at the source. Though all will not be fast. But an array of Character is not sophisticated, like wrapping every coin in its own piece of paper.\r\n","title":"Copying Character array into char array","body":"<p>Technical not possible, but you might do with a lazy kind of unboxing Character to char. For instance using a Stream. (Which at the moment might even be additional overhead.)</p>\n\n<p>If the Character array stems from a Collection, a List, then you just might take measures at the source. Though all will not be fast. But an array of Character is not sophisticated, like wrapping every coin in its own piece of paper.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510759626,"creation_date":1510759626,"answer_id":47311228,"question_id":47310498,"body_markdown":"\t\tchar[] myCharArray = Arrays.stream(myCharacterArray)\r\n\t\t\t\t.map(ch -&gt; ch.toString())\r\n\t\t\t\t.collect(Collectors.joining())\r\n\t\t\t\t.toCharArray();\r\n\r\nIt was fast to write. Whether it will execute fast? Unless you have a very big array or do this conversion often, you shouldn‘t need to care.","title":"Copying Character array into char array","body":"<pre><code>    char[] myCharArray = Arrays.stream(myCharacterArray)\n            .map(ch -&gt; ch.toString())\n            .collect(Collectors.joining())\n            .toCharArray();\n</code></pre>\n\n<p>It was fast to write. Whether it will execute fast? Unless you have a very big array or do this conversion often, you shouldn‘t need to care.</p>\n"},{"tags":[],"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650627061,"creation_date":1650627061,"answer_id":71968038,"question_id":47310498,"body_markdown":"Given a `Character[]` array \r\n    \r\n    Character[] asciiChars = Stream.iterate(32, i -&gt; i += 1)\r\n                             .map(i -&gt; Character.valueOf((char)i.intValue()))\r\n                             .limit(95)\r\n                             .toArray(Character[]::new);\r\nA similar `Stream`-based solution to the example above, saving one mapping step, would be:\r\n\r\n    char[] chars = Stream.of(asciiChars)\r\n                   .collect(StringBuilder::new, StringBuilder::append, StringBuilder::append)\r\n                   .toString()\r\n                   .toCharArray();","title":"Copying Character array into char array","body":"<p>Given a <code>Character[]</code> array</p>\n<pre><code>Character[] asciiChars = Stream.iterate(32, i -&gt; i += 1)\n                         .map(i -&gt; Character.valueOf((char)i.intValue()))\n                         .limit(95)\n                         .toArray(Character[]::new);\n</code></pre>\n<p>A similar <code>Stream</code>-based solution to the example above, saving one mapping step, would be:</p>\n<pre><code>char[] chars = Stream.of(asciiChars)\n               .collect(StringBuilder::new, StringBuilder::append, StringBuilder::append)\n               .toString()\n               .toCharArray();\n</code></pre>\n"}],"owner":{"account_id":10612893,"reputation":142,"user_id":7816262,"accept_rate":57,"display_name":"leedwon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1650627061,"creation_date":1510757575,"question_id":47310498,"body_markdown":"Hi I want to fast copy array of *Characters* to array of *chars* I can write a method that copies *Character* array into *char* array, by converting every *Charater* in array to *char* but is there any ready method which is faster just as *Arrays.copyOf* for two arrays of same type?","title":"Copying Character array into char array","body":"<p>Hi I want to fast copy array of <em>Characters</em> to array of <em>chars</em> I can write a method that copies <em>Character</em> array into <em>char</em> array, by converting every <em>Charater</em> in array to <em>char</em> but is there any ready method which is faster just as <em>Arrays.copyOf</em> for two arrays of same type?</p>\n"},{"tags":["java","audio","foreach","audioformat"],"comments":[{"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"score":1,"creation_date":1650602781,"post_id":71962955,"comment_id":127162105,"body_markdown":"I think this is what you are looking for but I&#39;m not sure there is a guarantee that the format will play just because it is listed - only real playing is the guarantee: it will play if it will play!!   https://stackoverflow.com/questions/68790117/getting-supported-audioformat-list-from-audiosystem/68796288#68796288","body":"I think this is what you are looking for but I&#39;m not sure there is a guarantee that the format will play just because it is listed - only real playing is the guarantee: it will play if it will play!!   <a href=\"https://stackoverflow.com/questions/68790117/getting-supported-audioformat-list-from-audiosystem/68796288#68796288\" title=\"getting supported audioformat list from audiosystem\">stackoverflow.com/questions/68790117/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650619668,"creation_date":1650619668,"answer_id":71966448,"question_id":71962955,"body_markdown":"According to this document frpm the Java 8 days, [Java Sound Technology][1], Java supports a max of 16-bit encoding, and a highest sample rate of 48 kHz.\r\n\r\nIDK if there&#39;s been any advancement since then. There must be a specification for Java 17, for example, where the specs are listed.\r\n\r\nAs far as querying the system for supported file types, there is a mention of in the tutorial [Using File and Format Converters][2], in the last section: *Learning What Conversions Are Available*.\r\n\r\n&gt; A related `AudioSystem` method, `getAudioFileTypes(AudioInputStream)`,\r\n&gt; returns the complete list of supported file types for the given\r\n&gt; stream, as an array of `AudioFileFormat.Type` instances.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/sound/index.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/sound/converters.html","title":"How can I get an array of all valid system AudioFormat objects in Java","body":"<p>According to this document frpm the Java 8 days, <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/sound/index.html\" rel=\"nofollow noreferrer\">Java Sound Technology</a>, Java supports a max of 16-bit encoding, and a highest sample rate of 48 kHz.</p>\n<p>IDK if there's been any advancement since then. There must be a specification for Java 17, for example, where the specs are listed.</p>\n<p>As far as querying the system for supported file types, there is a mention of in the tutorial <a href=\"https://docs.oracle.com/javase/tutorial/sound/converters.html\" rel=\"nofollow noreferrer\">Using File and Format Converters</a>, in the last section: <em>Learning What Conversions Are Available</em>.</p>\n<blockquote>\n<p>A related <code>AudioSystem</code> method, <code>getAudioFileTypes(AudioInputStream)</code>,\nreturns the complete list of supported file types for the given\nstream, as an array of <code>AudioFileFormat.Type</code> instances.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7957452,"reputation":69,"user_id":12556809,"display_name":"Edward Eddy67716"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650626444,"creation_date":1650626444,"answer_id":71967921,"question_id":71962955,"body_markdown":"Thanks to @gpasch I found my answer from his link. Although I think you only need to read one instance of the Line.Info[] array because it seems to print out three groups that are exactly the same.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        \r\n        Line.Info desired = new Line.Info(SourceDataLine.class);\r\n        Line.Info[] infos = AudioSystem.getSourceLineInfo(desired);\r\n\r\n        for (Line.Info info : infos) {\r\n            if (info instanceof DataLine.Info) {\r\n                AudioFormat[] forms = ((DataLine.Info) info).getFormats();\r\n\r\n                for (AudioFormat format : forms) {\r\n                    System.out.println(format);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n```","title":"How can I get an array of all valid system AudioFormat objects in Java","body":"<p>Thanks to @gpasch I found my answer from his link. Although I think you only need to read one instance of the Line.Info[] array because it seems to print out three groups that are exactly the same.</p>\n<pre><code>public static void main(String[] args) {\n        \n        Line.Info desired = new Line.Info(SourceDataLine.class);\n        Line.Info[] infos = AudioSystem.getSourceLineInfo(desired);\n\n        for (Line.Info info : infos) {\n            if (info instanceof DataLine.Info) {\n                AudioFormat[] forms = ((DataLine.Info) info).getFormats();\n\n                for (AudioFormat format : forms) {\n                    System.out.println(format);\n                }\n            }\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":7957452,"reputation":69,"user_id":12556809,"display_name":"Edward Eddy67716"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650626444,"creation_date":1650595948,"question_id":71962955,"body_markdown":"I am creating an object that can play synthesised audio in Java but I need to be able to set it to the AudioFormat with the Operating system&#39;s highest possible audio bitrate it can play.\r\n\r\n(Synth generates 64-bit float audio and can bit-crush it to 32-bit float or PCM, 24-bit, 16-bit and 8-bit PCM audio.)\r\n\r\nI will need to filter all the Operating system&#39;s valid AudioFormats and pick the format with the highest bitrate the system can use.\r\n\r\nHow can I get the approtriate array of all the AudioFormats that the system can play without error?\r\n\r\n```\r\npublic class AudioSettings {\r\n    \r\n    // instance variables\r\n    private int sampleRate;\r\n    private AudioFormat audioFormat;\r\n    private SourceDataLine sourceDataLine;\r\n    \r\n    public AudioSettings(int sampleRate) {\r\n        \r\n        this.sampleRate = sampleRate;\r\n        \r\n        // get highest possible quality bitrate for system\r\n        int highestBitRate = 16;\r\n        \r\n        AudioFormat currentFormat = new AudioFormat(new Encoding(&quot;PCM_SIGNED&quot;), (float) sampleRate, highestBitRate,\r\n                2, highestBitRate / 8 * 2, sampleRate, true);\r\n        \r\n        for (AudioFormat format : /* What goes here? */) {\r\n\r\n            if (format.getSampleSizeInBits() &gt; highestBitRate \r\n                    &amp;&amp; format.isBigEndian()\r\n                    &amp;&amp; format.getChannels() == 2) {\r\n                currentFormat = format;\r\n                highestBitRate = format.getSampleSizeInBits();\r\n            }\r\n        }\r\n        \r\n        audioFormat = currentFormat;\r\n    }\r\n    \r\n}\r\n```","title":"How can I get an array of all valid system AudioFormat objects in Java","body":"<p>I am creating an object that can play synthesised audio in Java but I need to be able to set it to the AudioFormat with the Operating system's highest possible audio bitrate it can play.</p>\n<p>(Synth generates 64-bit float audio and can bit-crush it to 32-bit float or PCM, 24-bit, 16-bit and 8-bit PCM audio.)</p>\n<p>I will need to filter all the Operating system's valid AudioFormats and pick the format with the highest bitrate the system can use.</p>\n<p>How can I get the approtriate array of all the AudioFormats that the system can play without error?</p>\n<pre><code>public class AudioSettings {\n    \n    // instance variables\n    private int sampleRate;\n    private AudioFormat audioFormat;\n    private SourceDataLine sourceDataLine;\n    \n    public AudioSettings(int sampleRate) {\n        \n        this.sampleRate = sampleRate;\n        \n        // get highest possible quality bitrate for system\n        int highestBitRate = 16;\n        \n        AudioFormat currentFormat = new AudioFormat(new Encoding(&quot;PCM_SIGNED&quot;), (float) sampleRate, highestBitRate,\n                2, highestBitRate / 8 * 2, sampleRate, true);\n        \n        for (AudioFormat format : /* What goes here? */) {\n\n            if (format.getSampleSizeInBits() &gt; highestBitRate \n                    &amp;&amp; format.isBigEndian()\n                    &amp;&amp; format.getChannels() == 2) {\n                currentFormat = format;\n                highestBitRate = format.getSampleSizeInBits();\n            }\n        }\n        \n        audioFormat = currentFormat;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":24726432,"reputation":98,"user_id":18614867,"display_name":"James S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650626138,"creation_date":1650626138,"answer_id":71967872,"question_id":71967485,"body_markdown":"Remove the spring-beans dependency. ","title":"Error With ConfigurationPropertiesBinder java spring when trying to start application context","body":"<p>Remove the spring-beans dependency.</p>\n"}],"owner":{"account_id":1714833,"reputation":21,"user_id":1572151,"display_name":"user1572151"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71967872,"answer_count":1,"score":0,"last_activity_date":1650626138,"creation_date":1650624315,"question_id":71967485,"body_markdown":"I have a simple application it fails to load with the below error\r\n\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.springframework.boot.context.properties.ConfigurationPropertiesBinder.register(ConfigurationPropertiesBinder.java:202)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;org.springframework.beans.factory.support.BeanDefinitionBuilder org.springframework.beans.factory.support.BeanDefinitionBuilder.rootBeanDefinition(java.lang.Class, java.util.function.Supplier)&#39;\r\n\r\nThe calling method&#39;s class, org.springframework.boot.context.properties.ConfigurationPropertiesBinder, was loaded from the following location:\r\n\r\n    jar:file:/C:/Users/Kedem/.m2/repository/org/springframework/boot/spring-boot/2.6.6/spring-boot-2.6.6.jar!/org/springframework/boot/context/properties/ConfigurationPropertiesBinder.class\r\n\r\nThe called method&#39;s class, org.springframework.beans.factory.support.BeanDefinitionBuilder, is available from the following locations:\r\n\r\n    jar:file:/C:/Users/Kedem/.m2/repository/org/springframework/spring-beans/5.3.1/spring-beans-5.3.1.jar!/org/springframework/beans/factory/support/BeanDefinitionBuilder.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    org.springframework.beans.factory.support.BeanDefinitionBuilder: file:/C:/Users/Kedem/.m2/repository/org/springframework/spring-beans/5.3.1/spring-beans-5.3.1.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes `org.springframework.boot.context.properties.ConfigurationPropertiesBinder and org.springframework.beans.factory.support.BeanDefinitionBuilder`\r\n\r\n\r\n\r\n\r\nthis is my pom file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;test1&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.6&lt;/version&gt;\r\n            &lt;relativePath/&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.telegram&lt;/groupId&gt;\r\n                &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\r\n                &lt;version&gt;6.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nthis is my main class\r\n\r\npackage com.test1.api;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = &quot;com.test1&quot;)\r\n    public class MainClass {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MainClass.class, args);\r\n        }\r\n    }\r\n\r\n\r\n\r\nthis is my application.properties\r\n\r\n    bot.username=12345\r\n    bot.token=abcdsadsadsasa\r\n\r\nSome service class\r\n\r\n    package com.test1.api;\r\n    \r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.telegram.telegrambots.meta.TelegramBotsApi;\r\n    import org.telegram.telegrambots.meta.exceptions.TelegramApiException;\r\n    import org.telegram.telegrambots.updatesreceivers.DefaultBotSession;\r\n    \r\n        @Service\r\n        public class Test1Api {\r\n        \r\n        \r\n            @Autowired\r\n            public Test1Api(@Value(&quot;${bot.username:12345}&quot;) String botUserName, @Value(&quot;${bot.token:dsadsadsadsa&quot;) String botToken) {\r\n                try {\r\n                    TelegramBotsApi telegramBotsApi = new TelegramBotsApi(DefaultBotSession.class);\r\n                    telegramBotsApi.registerBot(new Nadlan1Bot(botUserName, botToken));\r\n                } catch (TelegramApiException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n","title":"Error With ConfigurationPropertiesBinder java spring when trying to start application context","body":"<p>I have a simple application it fails to load with the below error</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>An attempt was made to call a method that does not exist. The attempt was made from the following location:</p>\n<pre><code>org.springframework.boot.context.properties.ConfigurationPropertiesBinder.register(ConfigurationPropertiesBinder.java:202)\n</code></pre>\n<p>The following method did not exist:</p>\n<pre><code>'org.springframework.beans.factory.support.BeanDefinitionBuilder org.springframework.beans.factory.support.BeanDefinitionBuilder.rootBeanDefinition(java.lang.Class, java.util.function.Supplier)'\n</code></pre>\n<p>The calling method's class, org.springframework.boot.context.properties.ConfigurationPropertiesBinder, was loaded from the following location:</p>\n<pre><code>jar:file:/C:/Users/Kedem/.m2/repository/org/springframework/boot/spring-boot/2.6.6/spring-boot-2.6.6.jar!/org/springframework/boot/context/properties/ConfigurationPropertiesBinder.class\n</code></pre>\n<p>The called method's class, org.springframework.beans.factory.support.BeanDefinitionBuilder, is available from the following locations:</p>\n<pre><code>jar:file:/C:/Users/Kedem/.m2/repository/org/springframework/spring-beans/5.3.1/spring-beans-5.3.1.jar!/org/springframework/beans/factory/support/BeanDefinitionBuilder.class\n</code></pre>\n<p>The called method's class hierarchy was loaded from the following locations:</p>\n<pre><code>org.springframework.beans.factory.support.BeanDefinitionBuilder: file:/C:/Users/Kedem/.m2/repository/org/springframework/spring-beans/5.3.1/spring-beans-5.3.1.jar\n</code></pre>\n<p>Action:</p>\n<p>Correct the classpath of your application so that it contains compatible versions of the classes <code>org.springframework.boot.context.properties.ConfigurationPropertiesBinder and org.springframework.beans.factory.support.BeanDefinitionBuilder</code></p>\n<p>this is my pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;test1&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.telegram&lt;/groupId&gt;\n            &lt;artifactId&gt;telegrambots&lt;/artifactId&gt;\n            &lt;version&gt;6.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>this is my main class</p>\n<p>package com.test1.api;</p>\n<p>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.ComponentScan;</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = &quot;com.test1&quot;)\npublic class MainClass {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MainClass.class, args);\n    }\n}\n</code></pre>\n<p>this is my application.properties</p>\n<pre><code>bot.username=12345\nbot.token=abcdsadsadsasa\n</code></pre>\n<p>Some service class</p>\n<pre><code>package com.test1.api;\n\nimport org.springframework.stereotype.Service;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.telegram.telegrambots.meta.TelegramBotsApi;\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiException;\nimport org.telegram.telegrambots.updatesreceivers.DefaultBotSession;\n\n    @Service\n    public class Test1Api {\n    \n    \n        @Autowired\n        public Test1Api(@Value(&quot;${bot.username:12345}&quot;) String botUserName, @Value(&quot;${bot.token:dsadsadsadsa&quot;) String botToken) {\n            try {\n                TelegramBotsApi telegramBotsApi = new TelegramBotsApi(DefaultBotSession.class);\n                telegramBotsApi.registerBot(new Nadlan1Bot(botUserName, botToken));\n            } catch (TelegramApiException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650622161,"post_id":71965748,"comment_id":127167729,"body_markdown":"You can try my answer over [here](https://stackoverflow.com/a/71560198/17133283)","body":"You can try my answer over <a href=\"https://stackoverflow.com/a/71560198/17133283\">here</a>"},{"owner":{"account_id":5441953,"reputation":683,"user_id":4329781,"accept_rate":57,"display_name":"StuartDTO"},"score":0,"creation_date":1650626094,"post_id":71965748,"comment_id":127169109,"body_markdown":"@Sambhav.K but it works with horizontal scrollview? Can you provide an example so I can test it?","body":"@Sambhav.K but it works with horizontal scrollview? Can you provide an example so I can test it?"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650626214,"post_id":71965748,"comment_id":127169148,"body_markdown":"You can try to use width as a param wherever I have used height. That will do the task","body":"You can try to use width as a param wherever I have used height. That will do the task"}],"owner":{"account_id":5441953,"reputation":683,"user_id":4329781,"accept_rate":57,"display_name":"StuartDTO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650625973,"creation_date":1650616521,"question_id":71965748,"body_markdown":"I&#39;m wondering if it&#39;s possible to get the pixels of an item of a recyclerView, let&#39;s say I have an horizontal recyclerView and all the items are the same size (from now), I&#39;d like to know if it&#39;s possible to get the pixels of each item and detect the % in pixels of visibility of every item.\r\n\r\nTo have if it&#39;s visible I&#39;m using this : \r\n\r\n```\r\nprivate boolean isViewVisible(View view, NestedScrollView scrollView) {\r\n    Rect scrollBounds = new Rect();\r\n    scrollView.getDrawingRect(scrollBounds);\r\n    float top = view.getY();\r\n    float bottom = top + view.getHeight();\r\n    return scrollBounds.top &lt; top &amp;&amp; scrollBounds.bottom &gt; bottom;\r\n}\r\n\r\n```","title":"Get pixels of a recyclerView item","body":"<p>I'm wondering if it's possible to get the pixels of an item of a recyclerView, let's say I have an horizontal recyclerView and all the items are the same size (from now), I'd like to know if it's possible to get the pixels of each item and detect the % in pixels of visibility of every item.</p>\n<p>To have if it's visible I'm using this :</p>\n<pre><code>private boolean isViewVisible(View view, NestedScrollView scrollView) {\n    Rect scrollBounds = new Rect();\n    scrollView.getDrawingRect(scrollBounds);\n    float top = view.getY();\n    float bottom = top + view.getHeight();\n    return scrollBounds.top &lt; top &amp;&amp; scrollBounds.bottom &gt; bottom;\n}\n\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":4294934,"reputation":538,"user_id":3510245,"accept_rate":75,"display_name":"Krzysztof Borowy"},"score":1,"creation_date":1593503017,"post_id":62652452,"comment_id":110796413,"body_markdown":"`data class model_for_single_row (val mId:String,val mTitle:String,val mDesc:String)`\nWill create a class with getters (and setters, if `var` used) for params you provided. If you want to omit one or more of them, you can do so by making them nullable (and maybe provide a default value)\n\n`data class MyClass(val name: String, val age: Int = null)`\nthen, usage would be `val user = MyClass(&quot;Jerry&quot;)`","body":"<code>data class model_for_single_row (val mId:String,val mTitle:String,val mDesc:String)</code> Will create a class with getters (and setters, if <code>var</code> used) for params you provided. If you want to omit one or more of them, you can do so by making them nullable (and maybe provide a default value)  <code>data class MyClass(val name: String, val age: Int = null)</code> then, usage would be <code>val user = MyClass(&quot;Jerry&quot;)</code>"},{"owner":{"account_id":3510468,"reputation":1554,"user_id":2934910,"display_name":"darwin"},"score":1,"creation_date":1593503078,"post_id":62652452,"comment_id":110796453,"body_markdown":"check this link https://stackoverflow.com/questions/37873995/how-to-create-empty-constructor-for-data-class-in-kotlin-android","body":"check this link <a href=\"https://stackoverflow.com/questions/37873995/how-to-create-empty-constructor-for-data-class-in-kotlin-android\" title=\"how to create empty constructor for data class in kotlin android\">stackoverflow.com/questions/37873995/&hellip;</a>"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1593503106,"post_id":62652452,"comment_id":110796469,"body_markdown":"I think an empty / default constructor for a `data class` in Kotlin is somehow pointless... This kind of class is simply not meant to be initialized without initializing one or more of its attributes. But it may be possible, read about [Secondary Constructors](https://kotlinlang.org/docs/reference/classes.html), please.","body":"I think an empty / default constructor for a <code>data class</code> in Kotlin is somehow pointless... This kind of class is simply not meant to be initialized without initializing one or more of its attributes. But it may be possible, read about <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">Secondary Constructors</a>, please."}],"answers":[{"tags":[],"owner":{"account_id":9909147,"reputation":7615,"user_id":11377112,"display_name":"Animesh Sahu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1593503027,"creation_date":1593503027,"answer_id":62652579,"question_id":62652452,"body_markdown":"Default value of String in java is `null`, which isn&#39;t the case in Kotlin.\r\n\r\nYou can make fields nullable and attach their defualt values to null:\r\n\r\n```kotlin\r\ndata class model_for_single_row(\r\n    val mId: String? = null,\r\n    val mTitle: String? = null,\r\n    val mDesc: String? = null\r\n)\r\n```\r\n\r\nYou can call it like:\r\n```kotlin\r\nmodel_for_single_row()\r\nmodel_for_single_row(&quot;id&quot;)\r\nmodel_for_single_row(&quot;id&quot;, &quot;title&quot;)\r\nmodel_for_single_row(&quot;id&quot;, &quot;title&quot;, &quot;desc&quot;)\r\nmodel_for_single_row(mTitle = &quot;title&quot;)\r\n```\r\n\r\nParameters not supplied will be null here.","title":"Add 2 or more constructors in kotlin","body":"<p>Default value of String in java is <code>null</code>, which isn't the case in Kotlin.</p>\n<p>You can make fields nullable and attach their defualt values to null:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class model_for_single_row(\n    val mId: String? = null,\n    val mTitle: String? = null,\n    val mDesc: String? = null\n)\n</code></pre>\n<p>You can call it like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>model_for_single_row()\nmodel_for_single_row(&quot;id&quot;)\nmodel_for_single_row(&quot;id&quot;, &quot;title&quot;)\nmodel_for_single_row(&quot;id&quot;, &quot;title&quot;, &quot;desc&quot;)\nmodel_for_single_row(mTitle = &quot;title&quot;)\n</code></pre>\n<p>Parameters not supplied will be null here.</p>\n"},{"tags":[],"owner":{"account_id":7657509,"reputation":557,"user_id":5803811,"display_name":"android_dev71"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650625725,"creation_date":1650625725,"answer_id":71967790,"question_id":62652452,"body_markdown":"Hope it could be useful, the this keyword is used concerning constructors inside a class :\r\n\r\n1 - to delegate from a secondary constructor to the primary constructor, like this : \r\n\r\n    class Car(val id: String, val type: String) {\r\n        constructor(id: String): this(id, &quot;unknown&quot;)\r\n    }\r\n\r\n2 - to delegate from a secondary constructor to another secondary constructor where no primary constructor is present; so here in this example there is a child class with more than one secondary constructor derived from a parent class with more than one secondary constructor and no primary constructor as well:\r\n\r\n    fun main(args: Array&lt;String&gt;) {\r\n    \r\n        val p1 = AuthLog(&quot;Bad Password&quot;)\r\n    }\r\n    \r\n    open class Log {\r\n        var data: String = &quot;&quot;\r\n        var numberOfData = 0\r\n        constructor(_data: String) {\r\n    \r\n        }\r\n        constructor(_data: String, _numberOfData: Int) {\r\n            data = _data\r\n            numberOfData = _numberOfData\r\n            println(&quot;$data: $numberOfData times&quot;)\r\n        }\r\n    }\r\n    \r\n    class AuthLog: Log {\r\n        constructor(_data: String): this(&quot;From AuthLog -&gt; + $_data&quot;, 10) {\r\n        }\r\n    \r\n        constructor(_data: String, _numberOfData: Int): super(_data, _numberOfData) {\r\n        }\r\n    } \r\n\r\n","title":"Add 2 or more constructors in kotlin","body":"<p>Hope it could be useful, the this keyword is used concerning constructors inside a class :</p>\n<p>1 - to delegate from a secondary constructor to the primary constructor, like this :</p>\n<pre><code>class Car(val id: String, val type: String) {\n    constructor(id: String): this(id, &quot;unknown&quot;)\n}\n</code></pre>\n<p>2 - to delegate from a secondary constructor to another secondary constructor where no primary constructor is present; so here in this example there is a child class with more than one secondary constructor derived from a parent class with more than one secondary constructor and no primary constructor as well:</p>\n<pre><code>fun main(args: Array&lt;String&gt;) {\n\n    val p1 = AuthLog(&quot;Bad Password&quot;)\n}\n\nopen class Log {\n    var data: String = &quot;&quot;\n    var numberOfData = 0\n    constructor(_data: String) {\n\n    }\n    constructor(_data: String, _numberOfData: Int) {\n        data = _data\n        numberOfData = _numberOfData\n        println(&quot;$data: $numberOfData times&quot;)\n    }\n}\n\nclass AuthLog: Log {\n    constructor(_data: String): this(&quot;From AuthLog -&gt; + $_data&quot;, 10) {\n    }\n\n    constructor(_data: String, _numberOfData: Int): super(_data, _numberOfData) {\n    }\n} \n</code></pre>\n"}],"owner":{"account_id":11187748,"reputation":572,"user_id":8209407,"display_name":"Prabhat kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":62652579,"answer_count":2,"score":5,"last_activity_date":1650625725,"creation_date":1593502537,"question_id":62652452,"body_markdown":"how to add 2 or more constructors ?? i know the use of data class in kotlin, but i am not getting what exactly this keyword is in kotlin and why we have to put anything inside this?\r\n\r\n    public class Model {\r\n        public String mId, mTitle, mDesc;\r\n    \r\n        public Model() {\r\n    \r\n        }\r\n    \r\n        public Model(String mId, String mTitle, String mDesc) {\r\n            this.mId = mId;\r\n            this.mTitle = mTitle;\r\n            this.mDesc = mDesc;\r\n        }\r\n    \r\n        public String getmId() {\r\n            return mId;\r\n        }\r\n    \r\n        public void setmId(String mId) {\r\n            this.mId = mId;\r\n        }\r\n    \r\n        public String getmTitle() {\r\n            return mTitle;\r\n        }\r\n    \r\n        public void setmTitle(String mTitle) {\r\n            this.mTitle = mTitle;\r\n        }\r\n    \r\n        public String getmDesc() {\r\n            return mDesc;\r\n        }\r\n    \r\n        public void setmDesc(String mDesc) {\r\n            this.mDesc = mDesc;\r\n        }\r\n    }\r\n\r\nI know kotlin but not that much.\r\n\r\nhow i changed \r\n\r\n    data class model_for_single_row (val mId:String,val mTitle:String,val mDesc:String){\r\n        constructor():this()\r\n    } \r\n\r\nit gives me error to put something inside this. why we use this here and why we should put, and what we should put?\r\n\r\n","title":"Add 2 or more constructors in kotlin","body":"<p>how to add 2 or more constructors ?? i know the use of data class in kotlin, but i am not getting what exactly this keyword is in kotlin and why we have to put anything inside this?</p>\n<pre><code>public class Model {\n    public String mId, mTitle, mDesc;\n\n    public Model() {\n\n    }\n\n    public Model(String mId, String mTitle, String mDesc) {\n        this.mId = mId;\n        this.mTitle = mTitle;\n        this.mDesc = mDesc;\n    }\n\n    public String getmId() {\n        return mId;\n    }\n\n    public void setmId(String mId) {\n        this.mId = mId;\n    }\n\n    public String getmTitle() {\n        return mTitle;\n    }\n\n    public void setmTitle(String mTitle) {\n        this.mTitle = mTitle;\n    }\n\n    public String getmDesc() {\n        return mDesc;\n    }\n\n    public void setmDesc(String mDesc) {\n        this.mDesc = mDesc;\n    }\n}\n</code></pre>\n<p>I know kotlin but not that much.</p>\n<p>how i changed</p>\n<pre><code>data class model_for_single_row (val mId:String,val mTitle:String,val mDesc:String){\n    constructor():this()\n} \n</code></pre>\n<p>it gives me error to put something inside this. why we use this here and why we should put, and what we should put?</p>\n"},{"tags":["java","json","spring-boot","hashmap","type-conversion"],"comments":[{"owner":{"account_id":17426804,"reputation":296,"user_id":12631570,"display_name":"Grismak"},"score":0,"creation_date":1650621499,"post_id":71966723,"comment_id":127167526,"body_markdown":"https://stackoverflow.com/questions/21544973/convert-jsonobject-to-map here the question was already solved","body":"<a href=\"https://stackoverflow.com/questions/21544973/convert-jsonobject-to-map\" title=\"convert jsonobject to map\">stackoverflow.com/questions/21544973/convert-jsonobject-to-m&zwnj;&#8203;ap</a> here the question was already solved"},{"owner":{"account_id":24525702,"reputation":49,"user_id":18438174,"display_name":"newlearner"},"score":0,"creation_date":1650622010,"post_id":71966723,"comment_id":127167693,"body_markdown":"thanks I don&#39;t know how I missed that my bad!","body":"thanks I don&#39;t know how I missed that my bad!"}],"answers":[{"tags":[],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650625717,"creation_date":1650622444,"answer_id":71967104,"question_id":71966723,"body_markdown":"You can use this code snippet:\r\n\r\n    String columnFilterJson = &quot;{\\&quot;firstName\\&quot;:{\\&quot;filterType\\&quot;:\\&quot;text\\&quot;,\\&quot;type\\&quot;:\\&quot;contains\\&quot;,\\&quot;filter\\&quot;:\\&quot;emma\\&quot;}}&quot;;\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    HashMap&lt;String, ColumnFilter&gt; columnFilterMap = objectMapper.readValue(columnFilterJson, new TypeReference&lt;HashMap&lt;String, ColumnFilter&gt;&gt;() {});\r\n\r\n\r\n\r\nThen with considering your `ColumnFilter` class has `toString()` method you can check result:\r\n\r\n    for (Map.Entry&lt;String, ColumnFilter&gt; entry: columnFilterMap.entrySet()) {\r\n        String key = entry.getKey();\r\n        ColumnFilter value = entry.getValue();\r\n        System.out.println(key);\r\n        System.out.println(value);\r\n    }","title":"How to convert JSONObject to Map in Java","body":"<p>You can use this code snippet:</p>\n<pre><code>String columnFilterJson = &quot;{\\&quot;firstName\\&quot;:{\\&quot;filterType\\&quot;:\\&quot;text\\&quot;,\\&quot;type\\&quot;:\\&quot;contains\\&quot;,\\&quot;filter\\&quot;:\\&quot;emma\\&quot;}}&quot;;\nObjectMapper objectMapper = new ObjectMapper();\nHashMap&lt;String, ColumnFilter&gt; columnFilterMap = objectMapper.readValue(columnFilterJson, new TypeReference&lt;HashMap&lt;String, ColumnFilter&gt;&gt;() {});\n</code></pre>\n<p>Then with considering your <code>ColumnFilter</code> class has <code>toString()</code> method you can check result:</p>\n<pre><code>for (Map.Entry&lt;String, ColumnFilter&gt; entry: columnFilterMap.entrySet()) {\n    String key = entry.getKey();\n    ColumnFilter value = entry.getValue();\n    System.out.println(key);\n    System.out.println(value);\n}\n</code></pre>\n"}],"owner":{"account_id":24525702,"reputation":49,"user_id":18438174,"display_name":"newlearner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1294,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71967104,"answer_count":1,"score":1,"last_activity_date":1650625717,"creation_date":1650620807,"question_id":71966723,"body_markdown":"I get a `JSONObject` from the client and I want to convert it to a `Map` in Java Spring-Boot. Does anyone know a good approach with my data structure?\r\n\r\nJson Object: \r\n```\r\nFilterObject: {\r\n               &quot;firstName&quot;:\r\n                 {&quot;filterType&quot;:&quot;text&quot;,&quot;type&quot;:&quot;contains&quot;,&quot;filter&quot;:&quot;emma&quot;},...\r\n               }\r\n```\r\nMap to:\r\n```\r\nMap&lt;String, ColumnFilter&gt; filterMap;\r\n```\r\n\r\n```\r\npublic class ColumnFilter {\r\n    private String filterType;\r\n    private String type;\r\n    private String filter;\r\n}\r\n```","title":"How to convert JSONObject to Map in Java","body":"<p>I get a <code>JSONObject</code> from the client and I want to convert it to a <code>Map</code> in Java Spring-Boot. Does anyone know a good approach with my data structure?</p>\n<p>Json Object:</p>\n<pre><code>FilterObject: {\n               &quot;firstName&quot;:\n                 {&quot;filterType&quot;:&quot;text&quot;,&quot;type&quot;:&quot;contains&quot;,&quot;filter&quot;:&quot;emma&quot;},...\n               }\n</code></pre>\n<p>Map to:</p>\n<pre><code>Map&lt;String, ColumnFilter&gt; filterMap;\n</code></pre>\n<pre><code>public class ColumnFilter {\n    private String filterType;\n    private String type;\n    private String filter;\n}\n</code></pre>\n"},{"tags":["java","arrays","class","oop"],"comments":[{"owner":{"account_id":6350313,"reputation":1134,"user_id":5594167,"display_name":"Mr. Brickowski"},"score":1,"creation_date":1650622267,"post_id":71966867,"comment_id":127167761,"body_markdown":"Could you also provide the input, expected output and your actual output?","body":"Could you also provide the input, expected output and your actual output?"},{"owner":{"account_id":24296329,"reputation":45,"user_id":18240493,"display_name":"Saleh M"},"score":0,"creation_date":1650623459,"post_id":71966867,"comment_id":127168196,"body_markdown":"I added the actual and expected ones in the question, please check","body":"I added the actual and expected ones in the question, please check"}],"answers":[{"tags":[],"owner":{"account_id":6269879,"reputation":168,"user_id":4874430,"display_name":"Isma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650625263,"creation_date":1650622948,"answer_id":71967195,"question_id":71966867,"body_markdown":"I&#39;ve debugged your code and you are not saving the &quot;Recipe.number&quot;. You should add recNo variable when you are creating the Recipe in this line:\r\n\r\n            r = new Recipe(name, recNo, instr, ingrNum, ingred, insNum);\r\n\r\nAnd change the Recipe class, adding:\r\n\r\n       public Recipe(String name, int number, String[] instructions, int numberOfInstructions, String[] ingredients, int numberOfIngredients) {\r\n        this.name = name;\r\n        this.number = number;\r\n        this.instructions = instructions;\r\n        this.numberOfInstructions = numberOfInstructions;\r\n        this.ingredients = ingredients;\r\n        this.numberOfIngredients = numberOfIngredients;\r\n       }\r\n\r\nI hope this help you.\r\n\r\nEdited:\r\nI&#39;d recommend you to change your message &quot;Enter name of recipe to be removed:&quot; by &quot;Enter number of recipe to be removed:&quot;","title":"Why some of the functions of array objects are not working when selecting them from the menu?","body":"<p>I've debugged your code and you are not saving the &quot;Recipe.number&quot;. You should add recNo variable when you are creating the Recipe in this line:</p>\n<pre><code>        r = new Recipe(name, recNo, instr, ingrNum, ingred, insNum);\n</code></pre>\n<p>And change the Recipe class, adding:</p>\n<pre><code>   public Recipe(String name, int number, String[] instructions, int numberOfInstructions, String[] ingredients, int numberOfIngredients) {\n    this.name = name;\n    this.number = number;\n    this.instructions = instructions;\n    this.numberOfInstructions = numberOfInstructions;\n    this.ingredients = ingredients;\n    this.numberOfIngredients = numberOfIngredients;\n   }\n</code></pre>\n<p>I hope this help you.</p>\n<p>Edited:\nI'd recommend you to change your message &quot;Enter name of recipe to be removed:&quot; by &quot;Enter number of recipe to be removed:&quot;</p>\n"}],"owner":{"account_id":24296329,"reputation":45,"user_id":18240493,"display_name":"Saleh M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71967195,"answer_count":1,"score":0,"last_activity_date":1650625263,"creation_date":1650621390,"question_id":71966867,"body_markdown":"I created this program in Java programming to get all recipes details inputs from user and then user can choose to insert, find, remove or display recipes details by selecting a choice from the  menu. However, options 2,3,4 seems that they don&#39;t work properly and I&#39;ve been trying to modify and run but still not working well. How to correct the code so that these menu options can work properly. \r\n\r\nThis is my code\r\n\r\n    import java.util.Scanner;\r\n    \r\n    class Recipe{\r\n        \r\n       String name;\r\n       int number;\r\n       String[] instructions;\r\n       int numberOfInstructions;\r\n       String[] ingredients;\r\n       int numberOfIngredients;\r\n    \r\n    \r\n       public Recipe(String name, String[] instructions, int numberOfInstructions, String[] ingredients, int numberOfIngredients) {\r\n            this.name = name;\r\n            this.instructions = instructions;\r\n            this.numberOfInstructions = numberOfInstructions;\r\n            this.ingredients = ingredients;\r\n            this.numberOfIngredients = numberOfIngredients;\r\n       }\r\n       \r\n        public Recipe() {\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String[] getInstructions() {\r\n            return instructions;\r\n        }\r\n    \r\n        public void setInstructions(String[] instructions) {\r\n            this.instructions = instructions;\r\n        }\r\n    \r\n        public int getNumberOfInstructions() {\r\n            return numberOfInstructions;\r\n        }\r\n    \r\n        public void setNumberOfInstructions(int numberOfInstructions) {\r\n            this.numberOfInstructions = numberOfInstructions;\r\n        }\r\n    \r\n        public String[] getIngredients() {\r\n            return ingredients;\r\n        }\r\n    \r\n        public void setIngredients(String[] ingredients) {\r\n            this.ingredients = ingredients;\r\n        }\r\n    \r\n        public int getNumberOfIngredients() {\r\n            return numberOfIngredients;\r\n        }\r\n    \r\n        public void setNumberOfIngredients(int numberOfIngredients) {\r\n            this.numberOfIngredients = numberOfIngredients;\r\n        }\r\n    }\r\n    \r\n    public class Cookbook {\r\n        \r\n        Recipe listOfRecipes[];\r\n        int numberOfRecipes;\r\n    \r\n        public Cookbook() {\r\n          this(new Recipe [0], 0);\r\n        }\r\n        \r\n        public Cookbook(Recipe[] listOfRecipes, int numberOfRecipes) {\r\n            this.listOfRecipes = listOfRecipes;\r\n            this.numberOfRecipes = numberOfRecipes;\r\n        }\r\n    \r\n        public Recipe[] getListOfRecipes() {\r\n            return listOfRecipes;\r\n        }\r\n    \r\n        public void setListOfRecipes(Recipe[] listOfRecipes) {\r\n            this.listOfRecipes = listOfRecipes;\r\n        }\r\n    \r\n        public int getNumberOfRecipes() {\r\n            return numberOfRecipes;\r\n        }\r\n    \r\n        public void setNumberOfRecipes(int numberOfRecipes) {\r\n            this.numberOfRecipes = numberOfRecipes;\r\n        }\r\n      \r\n        public void addRecipe(Recipe recipe){\r\n            Recipe newList[] = new Recipe[this.listOfRecipes.length + 1];\r\n        \r\n            for (int i = 0; i &lt; newList.length - 1; i++)\r\n            {\r\n                newList[i] = this.listOfRecipes[i];\r\n            }\r\n      \r\n            newList[newList.length - 1] = recipe;\r\n          \r\n            this.listOfRecipes = newList;\r\n        }    \r\n              \r\n        public Recipe findRecipe(int recipeNo){\r\n            for (int i = 0; i &lt; this.listOfRecipes.length; i++)\r\n            {\r\n                if(this.listOfRecipes[i].number == recipeNo)\r\n                {\r\n                    System.out.println(this.listOfRecipes[i]);\r\n                    return this.listOfRecipes[i];\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Recipe not found!&quot;);\r\n                }\r\n            }\r\n            \r\n            return null;\r\n        }\r\n        \r\n        public void removeRecipe(int recipeNo){\r\n            Recipe newList[] = new Recipe[this.listOfRecipes.length];\r\n          \r\n            for (int i = 0; i &lt; newList.length; i++)\r\n            {\r\n                if(this.listOfRecipes[i].number == recipeNo)\r\n                {\r\n                    listOfRecipes[i] = listOfRecipes[this.listOfRecipes.length-1];\r\n                    listOfRecipes[this.listOfRecipes.length-1] = null;\r\n                }\r\n                newList[i] = this.listOfRecipes[i];\r\n            }\r\n            this.listOfRecipes = newList;\r\n            System.out.println(&quot;Recipe removal successful!&quot;);\r\n    \r\n        }   \r\n        \r\n        public void display(Recipe recipe){\r\n            //Recipe newList[] = new Recipe[this.listOfRecipes.length];\r\n            System.out.println(&quot;List of recipes: &quot;);\r\n            for (int i = 0; i &lt; this.listOfRecipes.length; i++)\r\n            {\r\n                System.out.println(this.listOfRecipes[i].name);\r\n            }\r\n        }\r\n    }\r\n    \r\n    class Testmain{\r\n        public static void main(String[] args) {\r\n          int i, choose, insNum, ingrNum;\r\n          String name, sName, delName;\r\n          String[] ingred;\r\n          String[] instr;\r\n          Scanner ip = new Scanner(System.in);\r\n          Cookbook c = new Cookbook();\r\n          Recipe r = null;\r\n          int n, nn, recNo, recNoo;\r\n          \r\n          do{\r\n            System.out.println(&quot; &quot;);\r\n            System.out.println(&quot;***MENU***&quot;);\r\n            System.out.println(&quot;1. Add Recipe&quot;);\r\n            System.out.println(&quot;2. Find Recipe&quot;);\r\n            System.out.println(&quot;3. Remove Recipe&quot;);\r\n            System.out.println(&quot;4. Display Recipe&quot;);\r\n            System.out.print(&quot;Enter your choice: &quot;);\r\n            choose = ip.nextInt();\r\n            System.out.println();\r\n    \r\n            if(choose == 1) {\r\n              System.out.print(&quot;How many recipes would you like to add?: &quot;);  \r\n              n = ip.nextInt();\r\n    \r\n              for (int j=0; j&lt;n; j++){\r\n    \r\n                  \r\n              System.out.print(&quot;\\nEnter number of recipe: &quot;);\r\n              recNo = ip.nextInt();\r\n              System.out.print(&quot;Enter recipe name: &quot;);\r\n              ip.nextLine();\r\n              name = ip.nextLine();\r\n              System.out.print(&quot;Enter number of ingredients: &quot;);\r\n              ingrNum = ip.nextInt();\r\n              ingred = new String[ingrNum];\r\n              \r\n              for(i=0; i&lt;ingrNum; i++) {\r\n                System.out.print(&quot;Ingredient &quot; + (i+1) + &quot;: &quot;);\r\n                ingred[i] = ip.next();\r\n              }\r\n              \r\n              System.out.print(&quot;Enter number of instructions: &quot;);\r\n              insNum = ip.nextInt();\r\n              instr = new String[insNum];\r\n              \r\n              for(i=0; i&lt;insNum; i++) {\r\n                System.out.print(&quot;Instruction &quot; + (i+1) + &quot;: &quot;);\r\n                ip.nextLine();\r\n                instr[i] = ip.next();\r\n              }\r\n              \r\n              r = new Recipe(name, instr, ingrNum, ingred,insNum);\r\n              c.addRecipe(r);\r\n                }\r\n            } else if(choose == 2) {\r\n    \r\n              System.out.println(&quot;Enter number of recipe you want to find: &quot;);\r\n              recNo = ip.nextInt();\r\n              c.findRecipe(recNo);\r\n            \r\n            } else if(choose == 3) {\r\n    \r\n              System.out.println(&quot;Enter name of recipe to be removed: &quot;);\r\n              ip.nextLine();\r\n              recNoo = ip.nextInt();\r\n              c.removeRecipe(recNoo);\r\n            \r\n            } \r\n            else if(choose == 4) {\r\n                c.display(r);\r\n            }\r\n            \r\n            else {\r\n            \r\n              System.out.println(&quot;Invalid entry!&quot;);\r\n            \r\n            }\r\n            System.out.println(&quot; &quot;);\r\n            System.out.println(&quot;Would you like to continue?&quot;);\r\n            System.out.println(&quot;1. Yes&quot;);\r\n            System.out.println(&quot;2. No&quot;);\r\n            System.out.print(&quot;Your choice: &quot;);\r\n            nn = ip.nextInt();\r\n           } while (nn != 2);\r\n    \r\n            System.out.println(&quot;Program has ended.&quot;);\r\n          \r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nExpected Input/Output:\r\n    \r\n    ***MENU***\r\n    1. Add Recipe\r\n    2. Find Recipe\r\n    3. Remove Recipe\r\n    4. Display Recipe\r\n    Enter your choice: 1\r\n    \r\n    How many recipes would you like to add?: 2\r\n    \r\n    Enter number of recipe: 1\r\n    Enter recipe name: r\r\n    Enter number of ingredients: 1\r\n    Ingredient 1: i1\r\n    Enter number of instructions: 2\r\n    Instruction 1: n1\r\n    Instruction 2: n2\r\n    \r\n    Enter number of recipe: 2\r\n    Enter recipe name: r2\r\n    Enter number of ingredients: 1\r\n    Ingredient 1: i1\r\n    Enter number of instructions: 1\r\n    Instruction 1: n1\r\n     \r\n    Would you like to continue?\r\n    1. Yes\r\n    2. No\r\n    Your choice: 1\r\n     \r\n    ***MENU***\r\n    1. Add Recipe\r\n    2. Find Recipe\r\n    3. Remove Recipe\r\n    4. Display Recipe\r\n    Enter your choice: 2\r\n    \r\n    Enter number of recipe you want to find: \r\n    1\r\n    r\r\n     \r\n    Would you like to continue?\r\n    1. Yes\r\n    2. No\r\n    Your choice: 1\r\n     \r\n    ***MENU***\r\n    1. Add Recipe\r\n    2. Find Recipe\r\n    3. Remove Recipe\r\n    4. Display Recipe\r\n    Enter your choice: 4\r\n    \r\n    List of recipes: \r\n    r\r\n    r2\r\n     \r\n    Would you like to continue?\r\n    1. Yes\r\n    2. No\r\n    Your choice: 1\r\n     \r\n    ***MENU***\r\n    1. Add Recipe\r\n    2. Find Recipe\r\n    3. Remove Recipe\r\n    4. Display Recipe\r\n    Enter your choice: 3\r\n    \r\n    Enter name of recipe to be removed: \r\n    1\r\n    Recipe removed successfully!\r\n     \r\n    Would you like to continue?\r\n    1. Yes\r\n    2. No\r\n    Your choice: 1\r\n     \r\n    ***MENU***\r\n    1. Add Recipe\r\n    2. Find Recipe\r\n    3. Remove Recipe\r\n    4. Display Recipe\r\n    Enter your choice: 4\r\n    \r\n    List of recipes: \r\n    r2\r\n     \r\n    Would you like to continue?\r\n    1. Yes\r\n    2. No\r\n    Your choice: 2\r\n    Program has ended.\r\n\r\n\r\nActual Input/Output:\r\n\r\n    ***MENU***\r\n    1. Add Recipe\r\n    2. Find Recipe\r\n    3. Remove Recipe\r\n    4. Display Recipe\r\n    Enter your choice: 1\r\n    \r\n    How many recipes would you like to add?: 2\r\n    \r\n    Enter number of recipe: 1\r\n    Enter recipe name: r\r\n    Enter number of ingredients: 1\r\n    Ingredient 1: i1\r\n    Enter number of instructions: 2\r\n    Instruction 1: n1\r\n    Instruction 2: n2\r\n    \r\n    Enter number of recipe: 2\r\n    Enter recipe name: r2\r\n    Enter number of ingredients: 1\r\n    Ingredient 1: i1\r\n    Enter number of instructions: 1\r\n    Instruction 1: n1\r\n     \r\n    Would you like to continue?\r\n    1. Yes\r\n    2. No\r\n    Your choice: 1\r\n     \r\n    ***MENU***\r\n    1. Add Recipe\r\n    2. Find Recipe\r\n    3. Remove Recipe\r\n    4. Display Recipe\r\n    Enter your choice: 2\r\n    \r\n    Enter number of recipe you want to find: \r\n    1\r\n    Recipe not found!\r\n    Recipe not found!\r\n     \r\n    Would you like to continue?\r\n    1. Yes\r\n    2. No\r\n    Your choice: 1\r\n     \r\n    ***MENU***\r\n    1. Add Recipe\r\n    2. Find Recipe\r\n    3. Remove Recipe\r\n    4. Display Recipe\r\n    Enter your choice: 4\r\n    \r\n    List of recipes: \r\n    r\r\n    r2\r\n     \r\n    Would you like to continue?\r\n    1. Yes\r\n    2. No\r\n    Your choice: 1\r\n     \r\n    ***MENU***\r\n    1. Add Recipe\r\n    2. Find Recipe\r\n    3. Remove Recipe\r\n    4. Display Recipe\r\n    Enter your choice: 3\r\n    \r\n    Enter name of recipe to be removed: \r\n    1\r\n    Recipe removed successfully!\r\n     \r\n    Would you like to continue?\r\n    1. Yes\r\n    2. No\r\n    Your choice: 1\r\n     \r\n    ***MENU***\r\n    1. Add Recipe\r\n    2. Find Recipe\r\n    3. Remove Recipe\r\n    4. Display Recipe\r\n    Enter your choice: 4\r\n    \r\n    List of recipes: \r\n    r\r\n    r2\r\n     \r\n    Would you like to continue?\r\n    1. Yes\r\n    2. No\r\n    Your choice: 2\r\n    Program has ended.\r\n\r\n","title":"Why some of the functions of array objects are not working when selecting them from the menu?","body":"<p>I created this program in Java programming to get all recipes details inputs from user and then user can choose to insert, find, remove or display recipes details by selecting a choice from the  menu. However, options 2,3,4 seems that they don't work properly and I've been trying to modify and run but still not working well. How to correct the code so that these menu options can work properly.</p>\n<p>This is my code</p>\n<pre><code>import java.util.Scanner;\n\nclass Recipe{\n    \n   String name;\n   int number;\n   String[] instructions;\n   int numberOfInstructions;\n   String[] ingredients;\n   int numberOfIngredients;\n\n\n   public Recipe(String name, String[] instructions, int numberOfInstructions, String[] ingredients, int numberOfIngredients) {\n        this.name = name;\n        this.instructions = instructions;\n        this.numberOfInstructions = numberOfInstructions;\n        this.ingredients = ingredients;\n        this.numberOfIngredients = numberOfIngredients;\n   }\n   \n    public Recipe() {\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String[] getInstructions() {\n        return instructions;\n    }\n\n    public void setInstructions(String[] instructions) {\n        this.instructions = instructions;\n    }\n\n    public int getNumberOfInstructions() {\n        return numberOfInstructions;\n    }\n\n    public void setNumberOfInstructions(int numberOfInstructions) {\n        this.numberOfInstructions = numberOfInstructions;\n    }\n\n    public String[] getIngredients() {\n        return ingredients;\n    }\n\n    public void setIngredients(String[] ingredients) {\n        this.ingredients = ingredients;\n    }\n\n    public int getNumberOfIngredients() {\n        return numberOfIngredients;\n    }\n\n    public void setNumberOfIngredients(int numberOfIngredients) {\n        this.numberOfIngredients = numberOfIngredients;\n    }\n}\n\npublic class Cookbook {\n    \n    Recipe listOfRecipes[];\n    int numberOfRecipes;\n\n    public Cookbook() {\n      this(new Recipe [0], 0);\n    }\n    \n    public Cookbook(Recipe[] listOfRecipes, int numberOfRecipes) {\n        this.listOfRecipes = listOfRecipes;\n        this.numberOfRecipes = numberOfRecipes;\n    }\n\n    public Recipe[] getListOfRecipes() {\n        return listOfRecipes;\n    }\n\n    public void setListOfRecipes(Recipe[] listOfRecipes) {\n        this.listOfRecipes = listOfRecipes;\n    }\n\n    public int getNumberOfRecipes() {\n        return numberOfRecipes;\n    }\n\n    public void setNumberOfRecipes(int numberOfRecipes) {\n        this.numberOfRecipes = numberOfRecipes;\n    }\n  \n    public void addRecipe(Recipe recipe){\n        Recipe newList[] = new Recipe[this.listOfRecipes.length + 1];\n    \n        for (int i = 0; i &lt; newList.length - 1; i++)\n        {\n            newList[i] = this.listOfRecipes[i];\n        }\n  \n        newList[newList.length - 1] = recipe;\n      \n        this.listOfRecipes = newList;\n    }    \n          \n    public Recipe findRecipe(int recipeNo){\n        for (int i = 0; i &lt; this.listOfRecipes.length; i++)\n        {\n            if(this.listOfRecipes[i].number == recipeNo)\n            {\n                System.out.println(this.listOfRecipes[i]);\n                return this.listOfRecipes[i];\n            }\n            else {\n                System.out.println(&quot;Recipe not found!&quot;);\n            }\n        }\n        \n        return null;\n    }\n    \n    public void removeRecipe(int recipeNo){\n        Recipe newList[] = new Recipe[this.listOfRecipes.length];\n      \n        for (int i = 0; i &lt; newList.length; i++)\n        {\n            if(this.listOfRecipes[i].number == recipeNo)\n            {\n                listOfRecipes[i] = listOfRecipes[this.listOfRecipes.length-1];\n                listOfRecipes[this.listOfRecipes.length-1] = null;\n            }\n            newList[i] = this.listOfRecipes[i];\n        }\n        this.listOfRecipes = newList;\n        System.out.println(&quot;Recipe removal successful!&quot;);\n\n    }   \n    \n    public void display(Recipe recipe){\n        //Recipe newList[] = new Recipe[this.listOfRecipes.length];\n        System.out.println(&quot;List of recipes: &quot;);\n        for (int i = 0; i &lt; this.listOfRecipes.length; i++)\n        {\n            System.out.println(this.listOfRecipes[i].name);\n        }\n    }\n}\n\nclass Testmain{\n    public static void main(String[] args) {\n      int i, choose, insNum, ingrNum;\n      String name, sName, delName;\n      String[] ingred;\n      String[] instr;\n      Scanner ip = new Scanner(System.in);\n      Cookbook c = new Cookbook();\n      Recipe r = null;\n      int n, nn, recNo, recNoo;\n      \n      do{\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;***MENU***&quot;);\n        System.out.println(&quot;1. Add Recipe&quot;);\n        System.out.println(&quot;2. Find Recipe&quot;);\n        System.out.println(&quot;3. Remove Recipe&quot;);\n        System.out.println(&quot;4. Display Recipe&quot;);\n        System.out.print(&quot;Enter your choice: &quot;);\n        choose = ip.nextInt();\n        System.out.println();\n\n        if(choose == 1) {\n          System.out.print(&quot;How many recipes would you like to add?: &quot;);  \n          n = ip.nextInt();\n\n          for (int j=0; j&lt;n; j++){\n\n              \n          System.out.print(&quot;\\nEnter number of recipe: &quot;);\n          recNo = ip.nextInt();\n          System.out.print(&quot;Enter recipe name: &quot;);\n          ip.nextLine();\n          name = ip.nextLine();\n          System.out.print(&quot;Enter number of ingredients: &quot;);\n          ingrNum = ip.nextInt();\n          ingred = new String[ingrNum];\n          \n          for(i=0; i&lt;ingrNum; i++) {\n            System.out.print(&quot;Ingredient &quot; + (i+1) + &quot;: &quot;);\n            ingred[i] = ip.next();\n          }\n          \n          System.out.print(&quot;Enter number of instructions: &quot;);\n          insNum = ip.nextInt();\n          instr = new String[insNum];\n          \n          for(i=0; i&lt;insNum; i++) {\n            System.out.print(&quot;Instruction &quot; + (i+1) + &quot;: &quot;);\n            ip.nextLine();\n            instr[i] = ip.next();\n          }\n          \n          r = new Recipe(name, instr, ingrNum, ingred,insNum);\n          c.addRecipe(r);\n            }\n        } else if(choose == 2) {\n\n          System.out.println(&quot;Enter number of recipe you want to find: &quot;);\n          recNo = ip.nextInt();\n          c.findRecipe(recNo);\n        \n        } else if(choose == 3) {\n\n          System.out.println(&quot;Enter name of recipe to be removed: &quot;);\n          ip.nextLine();\n          recNoo = ip.nextInt();\n          c.removeRecipe(recNoo);\n        \n        } \n        else if(choose == 4) {\n            c.display(r);\n        }\n        \n        else {\n        \n          System.out.println(&quot;Invalid entry!&quot;);\n        \n        }\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;Would you like to continue?&quot;);\n        System.out.println(&quot;1. Yes&quot;);\n        System.out.println(&quot;2. No&quot;);\n        System.out.print(&quot;Your choice: &quot;);\n        nn = ip.nextInt();\n       } while (nn != 2);\n\n        System.out.println(&quot;Program has ended.&quot;);\n      \n  }\n}\n</code></pre>\n<p>Expected Input/Output:</p>\n<pre><code>***MENU***\n1. Add Recipe\n2. Find Recipe\n3. Remove Recipe\n4. Display Recipe\nEnter your choice: 1\n\nHow many recipes would you like to add?: 2\n\nEnter number of recipe: 1\nEnter recipe name: r\nEnter number of ingredients: 1\nIngredient 1: i1\nEnter number of instructions: 2\nInstruction 1: n1\nInstruction 2: n2\n\nEnter number of recipe: 2\nEnter recipe name: r2\nEnter number of ingredients: 1\nIngredient 1: i1\nEnter number of instructions: 1\nInstruction 1: n1\n \nWould you like to continue?\n1. Yes\n2. No\nYour choice: 1\n \n***MENU***\n1. Add Recipe\n2. Find Recipe\n3. Remove Recipe\n4. Display Recipe\nEnter your choice: 2\n\nEnter number of recipe you want to find: \n1\nr\n \nWould you like to continue?\n1. Yes\n2. No\nYour choice: 1\n \n***MENU***\n1. Add Recipe\n2. Find Recipe\n3. Remove Recipe\n4. Display Recipe\nEnter your choice: 4\n\nList of recipes: \nr\nr2\n \nWould you like to continue?\n1. Yes\n2. No\nYour choice: 1\n \n***MENU***\n1. Add Recipe\n2. Find Recipe\n3. Remove Recipe\n4. Display Recipe\nEnter your choice: 3\n\nEnter name of recipe to be removed: \n1\nRecipe removed successfully!\n \nWould you like to continue?\n1. Yes\n2. No\nYour choice: 1\n \n***MENU***\n1. Add Recipe\n2. Find Recipe\n3. Remove Recipe\n4. Display Recipe\nEnter your choice: 4\n\nList of recipes: \nr2\n \nWould you like to continue?\n1. Yes\n2. No\nYour choice: 2\nProgram has ended.\n</code></pre>\n<p>Actual Input/Output:</p>\n<pre><code>***MENU***\n1. Add Recipe\n2. Find Recipe\n3. Remove Recipe\n4. Display Recipe\nEnter your choice: 1\n\nHow many recipes would you like to add?: 2\n\nEnter number of recipe: 1\nEnter recipe name: r\nEnter number of ingredients: 1\nIngredient 1: i1\nEnter number of instructions: 2\nInstruction 1: n1\nInstruction 2: n2\n\nEnter number of recipe: 2\nEnter recipe name: r2\nEnter number of ingredients: 1\nIngredient 1: i1\nEnter number of instructions: 1\nInstruction 1: n1\n \nWould you like to continue?\n1. Yes\n2. No\nYour choice: 1\n \n***MENU***\n1. Add Recipe\n2. Find Recipe\n3. Remove Recipe\n4. Display Recipe\nEnter your choice: 2\n\nEnter number of recipe you want to find: \n1\nRecipe not found!\nRecipe not found!\n \nWould you like to continue?\n1. Yes\n2. No\nYour choice: 1\n \n***MENU***\n1. Add Recipe\n2. Find Recipe\n3. Remove Recipe\n4. Display Recipe\nEnter your choice: 4\n\nList of recipes: \nr\nr2\n \nWould you like to continue?\n1. Yes\n2. No\nYour choice: 1\n \n***MENU***\n1. Add Recipe\n2. Find Recipe\n3. Remove Recipe\n4. Display Recipe\nEnter your choice: 3\n\nEnter name of recipe to be removed: \n1\nRecipe removed successfully!\n \nWould you like to continue?\n1. Yes\n2. No\nYour choice: 1\n \n***MENU***\n1. Add Recipe\n2. Find Recipe\n3. Remove Recipe\n4. Display Recipe\nEnter your choice: 4\n\nList of recipes: \nr\nr2\n \nWould you like to continue?\n1. Yes\n2. No\nYour choice: 2\nProgram has ended.\n</code></pre>\n"},{"tags":["java","excel","maven","apache-poi"],"comments":[{"owner":{"account_id":21873580,"reputation":41,"user_id":16162798,"display_name":"jokunimi Jakonimi"},"score":0,"creation_date":1623152838,"post_id":67884617,"comment_id":119990904,"body_markdown":"Bizarre it works in ide with .xlsx but in jar it only works with .xsl???","body":"Bizarre it works in ide with .xlsx but in jar it only works with .xsl???"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1623166075,"post_id":67884617,"comment_id":119997807,"body_markdown":"Make sure you include all the resources and service files from the Apache POI jars when you build the fat jar?","body":"Make sure you include all the resources and service files from the Apache POI jars when you build the fat jar?"},{"owner":{"account_id":321098,"reputation":3598,"user_id":639722,"accept_rate":46,"display_name":"Patrick"},"score":0,"creation_date":1624870333,"post_id":67884617,"comment_id":120465568,"body_markdown":"Did you finally find a solution?","body":"Did you finally find a solution?"},{"owner":{"account_id":21873580,"reputation":41,"user_id":16162798,"display_name":"jokunimi Jakonimi"},"score":0,"creation_date":1624948972,"post_id":67884617,"comment_id":120489434,"body_markdown":"Nope, I haven&#39;t found a solution. I don&#39;t know much about maven syntax but I think mine should include everything but It doesn&#39;t work, possibly there is some apache poi dependency that should be added or somehow my pom excludes some dependency but yea I don&#39;t know. I&#39;m just using xls files for now since they work but if someone finds a solution I would be glad.","body":"Nope, I haven&#39;t found a solution. I don&#39;t know much about maven syntax but I think mine should include everything but It doesn&#39;t work, possibly there is some apache poi dependency that should be added or somehow my pom excludes some dependency but yea I don&#39;t know. I&#39;m just using xls files for now since they work but if someone finds a solution I would be glad."}],"answers":[{"tags":[],"owner":{"account_id":4877821,"reputation":3416,"user_id":3932396,"accept_rate":78,"display_name":"Ankur Mahajan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625652318,"creation_date":1625652318,"answer_id":68283933,"question_id":67884617,"body_markdown":"You can use the `dependency-plugin` to generate all dependencies in a separate directory before the package phase and then include that in the classpath of the manifest by `maven-jar-plugin`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                    &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n                    &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n                    &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                    &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                    &lt;mainClass&gt;theMainClass_ChangeMe_withPackage&lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAlternatively use `${project.build.directory}/classes/lib` as output directory to integrate all jar files into the main jar, but then you will need to add custom classloading code to load the jars. I hope this will help as `maven-assembly` plugin is not working with this scanerio.","title":"Apache poi excel writer works in ide but not in fat jar? java.io.IOException: Your InputStream was neither an OLE2 stream, nor an OOXML str","body":"<p>You can use the <code>dependency-plugin</code> to generate all dependencies in a separate directory before the package phase and then include that in the classpath of the manifest by <code>maven-jar-plugin</code>:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;copy-dependencies&lt;/id&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n                &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n                &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                &lt;mainClass&gt;theMainClass_ChangeMe_withPackage&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Alternatively use <code>${project.build.directory}/classes/lib</code> as output directory to integrate all jar files into the main jar, but then you will need to add custom classloading code to load the jars. I hope this will help as <code>maven-assembly</code> plugin is not working with this scanerio.</p>\n"},{"tags":[],"owner":{"account_id":22209058,"reputation":31,"user_id":16448559,"display_name":"xavier-b"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1626277779,"creation_date":1626277779,"answer_id":68381272,"question_id":67884617,"body_markdown":"Here is a solution.\r\nService loader use files in `META-INF/services` for know available providers.\r\nWhen you build your fat jar, providers file from `org.apache.poi:poi` and `org.apache.poi:poi-ooxml` are not merged and only one is in your fat-jar.\r\nA simple solution is to add a built-in transformer in `maven-shade-plugin` which do the merges:\r\n\r\n```xml\r\n&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n```\r\n\r\n","title":"Apache poi excel writer works in ide but not in fat jar? java.io.IOException: Your InputStream was neither an OLE2 stream, nor an OOXML str","body":"<p>Here is a solution.\nService loader use files in <code>META-INF/services</code> for know available providers.\nWhen you build your fat jar, providers file from <code>org.apache.poi:poi</code> and <code>org.apache.poi:poi-ooxml</code> are not merged and only one is in your fat-jar.\nA simple solution is to add a built-in transformer in <code>maven-shade-plugin</code> which do the merges:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1516975,"reputation":161,"user_id":1417758,"display_name":"wxm146"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628642488,"creation_date":1628642488,"answer_id":68734775,"question_id":67884617,"body_markdown":"I had the exact same problem.  my Java program could read xlsx files in IDE to import data, but the Jar errored out.  from my limited Java knowledge, it seems a class used to read big size Excel file is not packaged by Maven. The simple addition to POM to add the transformer solved the problem.  \r\n\r\n    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt; ","title":"Apache poi excel writer works in ide but not in fat jar? java.io.IOException: Your InputStream was neither an OLE2 stream, nor an OOXML str","body":"<p>I had the exact same problem.  my Java program could read xlsx files in IDE to import data, but the Jar errored out.  from my limited Java knowledge, it seems a class used to read big size Excel file is not packaged by Maven. The simple addition to POM to add the transformer solved the problem.</p>\n<pre><code>&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10163628,"reputation":463,"user_id":8623184,"display_name":"Umy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650625244,"creation_date":1650624422,"answer_id":71967506,"question_id":67884617,"body_markdown":"UPD. Add this code to main function of your programm.\r\nSolution from: https://github.com/Mararsh/MyBox/issues/1101\r\n\r\n    WorkbookFactory.addProvider(new HSSFWorkbookFactory());\r\n    WorkbookFactory.addProvider(new XSSFWorkbookFactory());\r\n\r\nOld post (don&#39;t read):\r\n\r\nI could not solve this problem on POI 5.0.0 and above, the only working solution is to use the 4.1.2 dependencies. \r\n\r\n\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nThe solution from @Ankur Mahajan, unfortunately, also doesn&#39;t work for some OLE2 files.","title":"Apache poi excel writer works in ide but not in fat jar? java.io.IOException: Your InputStream was neither an OLE2 stream, nor an OOXML str","body":"<p>UPD. Add this code to main function of your programm.\nSolution from: <a href=\"https://github.com/Mararsh/MyBox/issues/1101\" rel=\"nofollow noreferrer\">https://github.com/Mararsh/MyBox/issues/1101</a></p>\n<pre><code>WorkbookFactory.addProvider(new HSSFWorkbookFactory());\nWorkbookFactory.addProvider(new XSSFWorkbookFactory());\n</code></pre>\n<p>Old post (don't read):</p>\n<p>I could not solve this problem on POI 5.0.0 and above, the only working solution is to use the 4.1.2 dependencies.</p>\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The solution from @Ankur Mahajan, unfortunately, also doesn't work for some OLE2 files.</p>\n"}],"owner":{"account_id":21873580,"reputation":41,"user_id":16162798,"display_name":"jokunimi Jakonimi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2473,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1650625244,"creation_date":1623143101,"question_id":67884617,"body_markdown":"The code works perfectly fine in IDE but not in normal `.jar` or in `fat .jar`? The program works perfectly fine otherwise. Also `non-fat .jar` doesn&#39;t work either.\r\n\r\nThe error is:\r\n```\r\nJun 08, 2021 11:43:14 AM DataManagers.ExcelWriter$WriterThread run\r\nSEVERE: null\r\njava.io.IOException: Your InputStream was neither an OLE2 stream, nor an OOXML stream or you haven&#39;t provide the poi-ooxml*.jar in the classpath/modulepath - FileMagic: OOXML, having providers: [org.apache.poi.hssf.usermodel.HSSFWorkbookFactory@405294c8]\r\n        at org.apache.poi.ss.usermodel.WorkbookFactory.wp(WorkbookFactory.java:300)\r\n        at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:199)\r\n        at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:163)\r\n        at DataManagers.ExcelWriter$WriterThread.run(ExcelWriter.java:61)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:835)\r\n```\r\nand this error repeats 3 times.\r\n\r\n\r\nAnd my `maven pom` is:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;Implementation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Implementation&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n    \r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    \r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n    \r\n                &lt;version&gt;11.0.2&lt;/version&gt;\r\n    \r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.mmarquee&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ui-automation&lt;/artifactId&gt;\r\n                &lt;version&gt;0.4.3&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;  \r\n            \r\n           \r\n    \r\n            &lt;dependency&gt; &lt;!-- Excel --&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;   &lt;!-- End of excel --&gt;\r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.github.cdimascio&lt;/groupId&gt;\r\n                &lt;artifactId&gt;java-dotenv&lt;/artifactId&gt;\r\n                &lt;version&gt;5.1.1&lt;/version&gt;    \r\n            &lt;/dependency&gt;   \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;3.15.1\r\n                &lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sf.saxon&lt;/groupId&gt;\r\n                &lt;artifactId&gt;saxon-dom&lt;/artifactId&gt;\r\n                &lt;version&gt;8.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.12&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n                &lt;version&gt;13&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;!-- get all project dependencies --&gt;\r\n                        &lt;descriptorRefs&gt;\r\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                        &lt;/descriptorRefs&gt;\r\n                        &lt;!-- MainClass in mainfest make a executable jar --&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;mainClass&gt;UserInterface.Main&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n    \r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;make-assembly&lt;/id&gt;\r\n                            &lt;!-- bind to the packaging phase --&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;single&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.8.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;**/UserInterface/*&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.10.3&lt;/version&gt;\r\n                &lt;/plugin&gt;  \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.17&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                 \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jxr-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                    \r\n                &lt;!--            &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;nonFilteredFileExtensions&gt;\r\n                            &lt;nonFilteredFileExtension&gt;xls&lt;/nonFilteredFileExtension&gt;\r\n                            &lt;nonFilteredFileExtension&gt;xls&lt;/nonFilteredFileExtension&gt;\r\n                        &lt;/nonFilteredFileExtensions&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;--&gt;\r\n    \r\n                \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.0.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;UserInterface.Main&lt;/mainClass&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;       \r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;transformers&gt;\r\n                                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                        &lt;mainClass&gt;UserInterface.Main&lt;/mainClass&gt;\r\n                                    &lt;/transformer&gt;\r\n                                &lt;/transformers&gt;\r\n                                &lt;filters&gt;\r\n                                    &lt;filter&gt;\r\n                                        &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                        &lt;excludes&gt;\r\n                                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                        &lt;/excludes&gt;\r\n                                    &lt;/filter&gt;\r\n                                &lt;/filters&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;     \r\n            &lt;/plugins&gt;   \r\n        &lt;/build&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        &lt;name&gt;Implementation&lt;/name&gt;\r\n    &lt;/project&gt;\r\n\r\nsome sample of the code which writes:\r\n                \r\n\r\n                   \r\n\r\n \r\n\r\n \r\n    FileInputStream f = new FileInputStream(file);\r\n    wb = WorkbookFactory.create(f);\r\n    s = wb.getSheet(&quot;Sheet1&quot;);\r\n    initialiseExcel();\r\n    f.close();\r\n    FileOutputStream fOut = new FileOutputStream(file);\r\n    initialiseExcel();\r\n    Row row = s.createRow(0);\r\n    Cell cell = row.createCell(1);\r\n    cell.setCellValue(&quot;Pvm&quot;);    wb.write(fOut);\r\n    fOut.close();\r\n    ...\r\n\r\n\r\nI have searched for fixes but everyone seems to be saying fat jar fixes it but i&#39;m running the fat jar and the problem still comes up and I don&#39;t really have any clue what to do?\r\n\r\nThanks a lot for anyone who cares to help.","title":"Apache poi excel writer works in ide but not in fat jar? java.io.IOException: Your InputStream was neither an OLE2 stream, nor an OOXML str","body":"<p>The code works perfectly fine in IDE but not in normal <code>.jar</code> or in <code>fat .jar</code>? The program works perfectly fine otherwise. Also <code>non-fat .jar</code> doesn't work either.</p>\n<p>The error is:</p>\n<pre><code>Jun 08, 2021 11:43:14 AM DataManagers.ExcelWriter$WriterThread run\nSEVERE: null\njava.io.IOException: Your InputStream was neither an OLE2 stream, nor an OOXML stream or you haven't provide the poi-ooxml*.jar in the classpath/modulepath - FileMagic: OOXML, having providers: [org.apache.poi.hssf.usermodel.HSSFWorkbookFactory@405294c8]\n        at org.apache.poi.ss.usermodel.WorkbookFactory.wp(WorkbookFactory.java:300)\n        at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:199)\n        at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:163)\n        at DataManagers.ExcelWriter$WriterThread.run(ExcelWriter.java:61)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:835)\n</code></pre>\n<p>and this error repeats 3 times.</p>\n<p>And my <code>maven pom</code> is:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;Implementation&lt;/groupId&gt;\n    &lt;artifactId&gt;Implementation&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n\n            &lt;version&gt;11.0.2&lt;/version&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.mmarquee&lt;/groupId&gt;\n            &lt;artifactId&gt;ui-automation&lt;/artifactId&gt;\n            &lt;version&gt;0.4.3&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;  \n        \n       \n\n        &lt;dependency&gt; &lt;!-- Excel --&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;   &lt;!-- End of excel --&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.cdimascio&lt;/groupId&gt;\n            &lt;artifactId&gt;java-dotenv&lt;/artifactId&gt;\n            &lt;version&gt;5.1.1&lt;/version&gt;    \n        &lt;/dependency&gt;   \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.15.1\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.saxon&lt;/groupId&gt;\n            &lt;artifactId&gt;saxon-dom&lt;/artifactId&gt;\n            &lt;version&gt;8.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!-- get all project dependencies --&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;!-- MainClass in mainfest make a executable jar --&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;UserInterface.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;!-- bind to the packaging phase --&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/UserInterface/*&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.10.3&lt;/version&gt;\n            &lt;/plugin&gt;  \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.17&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n             \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jxr-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;\n            &lt;/plugin&gt;\n                \n            &lt;!--            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;nonFilteredFileExtensions&gt;\n                        &lt;nonFilteredFileExtension&gt;xls&lt;/nonFilteredFileExtension&gt;\n                        &lt;nonFilteredFileExtension&gt;xls&lt;/nonFilteredFileExtension&gt;\n                    &lt;/nonFilteredFileExtensions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;--&gt;\n\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;UserInterface.Main&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;       \n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;UserInterface.Main&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;     \n        &lt;/plugins&gt;   \n    &lt;/build&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;name&gt;Implementation&lt;/name&gt;\n&lt;/project&gt;\n</code></pre>\n<p>some sample of the code which writes:</p>\n<pre><code>FileInputStream f = new FileInputStream(file);\nwb = WorkbookFactory.create(f);\ns = wb.getSheet(&quot;Sheet1&quot;);\ninitialiseExcel();\nf.close();\nFileOutputStream fOut = new FileOutputStream(file);\ninitialiseExcel();\nRow row = s.createRow(0);\nCell cell = row.createCell(1);\ncell.setCellValue(&quot;Pvm&quot;);    wb.write(fOut);\nfOut.close();\n...\n</code></pre>\n<p>I have searched for fixes but everyone seems to be saying fat jar fixes it but i'm running the fat jar and the problem still comes up and I don't really have any clue what to do?</p>\n<p>Thanks a lot for anyone who cares to help.</p>\n"},{"tags":["java","spring-boot","redis","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":25050471,"reputation":11,"user_id":18906444,"display_name":"anniig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650624869,"creation_date":1650624869,"answer_id":71967613,"question_id":61839726,"body_markdown":"Spring Data Redis does currently (version 2.6.4 at the time of writing) not support Between queries. A list of supported keywords can be found in the [documentation][1].\r\n\r\nTo query the data in a range you could use a [sorted set][2] with the zrangebyscore command, where the createdAt would be your score. To make the createdAt dates sortable and working with a sorted set, you should use the UNIX timestamp.\r\n\r\nHere are the code snippets to add an entry to a sorted set and search for entries between two values:\r\n\r\n\r\n    // add a transaction entry to a sorted set which contains the id and the createdAt time\r\n    redisTemplate.opsForZSet().add(&quot;TransactionCreationList&quot;, id, createdAt));\r\n    // search for transactions between a time range\r\n    redisTemplate.opsForZSet().rangeByScoreWithScores(&quot;TransactionCreationList&quot;, startDate, endDate);\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/redis/docs/current/reference/html/#redis.repositories.queries\r\n  [2]: https://redis.io/docs/manual/data-types/#sorted-sets","title":"BETWEEN (2): [IsBetween, Between] is not supported for Redis query derivation","body":"<p>Spring Data Redis does currently (version 2.6.4 at the time of writing) not support Between queries. A list of supported keywords can be found in the <a href=\"https://docs.spring.io/spring-data/redis/docs/current/reference/html/#redis.repositories.queries\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>To query the data in a range you could use a <a href=\"https://redis.io/docs/manual/data-types/#sorted-sets\" rel=\"nofollow noreferrer\">sorted set</a> with the zrangebyscore command, where the createdAt would be your score. To make the createdAt dates sortable and working with a sorted set, you should use the UNIX timestamp.</p>\n<p>Here are the code snippets to add an entry to a sorted set and search for entries between two values:</p>\n<pre><code>// add a transaction entry to a sorted set which contains the id and the createdAt time\nredisTemplate.opsForZSet().add(&quot;TransactionCreationList&quot;, id, createdAt));\n// search for transactions between a time range\nredisTemplate.opsForZSet().rangeByScoreWithScores(&quot;TransactionCreationList&quot;, startDate, endDate);\n</code></pre>\n"}],"owner":{"account_id":4824924,"reputation":11,"user_id":3894613,"display_name":"Raghu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":888,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650624869,"creation_date":1589645188,"question_id":61839726,"body_markdown":"I&#39;m a beginner at spring data redis and I&#39;m currently using Redis database as part of my application. And I am trying to query for records between two dates.\r\n\r\nHere is my Repository class.\r\n\r\n``` java\r\npublic interface TransactionStatsRepository extends CrudRepository&lt;TransactionStats, String&gt; {\r\n    List&lt;TransactionStats&gt; findByCreatedAtBetween(Date startDate, Date endDate);\r\n}\r\n```\r\nI&#39;ve indexed the `createdAt` field in my Entity class.\r\n\r\n``` java\r\n@RedisHash(&quot;TRANSACTION&quot;)\r\npublic class TransactionStats implements Serializable {\r\n\r\n    @Id\r\n    private String id;\r\n\r\n    @Indexed\r\n    private String status;\r\n\r\n    @Indexed\r\n    private Date createdAt;\r\n\r\n//Getters and Setters\r\n```\r\nThe data insertion is being done in a typical CrudRepository way using the `save()` method.\r\n\r\n``` java\r\n    public void addNewTransaction(String status, String createdAt) throws ParseException {\r\n        TransactionStats stats = new TransactionStats();\r\n        stats.setStatus(status);\r\n        stats.setCreatedAt(getStringToDate(createdAt));\r\n        transactionStatsRepository.save(stats);\r\n    }\r\n\r\n    private Date getStringToDate(String dateString) throws ParseException {\r\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        formatter.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot; + timeZoneOffset));\r\n        return formatter.parse(dateString);\r\n    }\r\n\r\n```\r\nHere is the service class method accessing the repo method\r\n```\r\npublic List&lt;TransactionStatsDTO&gt; getForDuration(String startDuration, String endDuration) throws ParseException {\r\n        Date startDate = getStringToDate(startDuration);\r\n        Date endDate = getStringToDate(endDuration);\r\n        List&lt;TransactionStatsDTO&gt; transactionStatsDTOs = new ArrayList&lt;&gt;();\r\n        transactionStatsRepository.findByCreatedAtBetween(startDate, endDate)\r\n                .forEach(transactionStats -&gt; transactionStatsDTOs.add(mapper.map(transactionStats, TransactionStatsDTO.class)));\r\n        return transactionStatsDTOs;\r\n    }\r\n```\r\nBut the repo method `findByCreatedAtBetween`when accessed is throwing the following exception.\r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: BETWEEN (2): [IsBetween, Between] is not supported for Redis query derivation!\r\n\tat org.springframework.data.redis.repository.query.RedisQueryCreator.from(RedisQueryCreator.java:73) ~[spring-data-redis-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.data.redis.repository.query.RedisQueryCreator.create(RedisQueryCreator.java:53) ~[spring-data-redis-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.data.redis.repository.query.RedisQueryCreator.create(RedisQueryCreator.java:41) ~[spring-data-redis-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.data.repository.query.parser.AbstractQueryCreator.createCriteria(AbstractQueryCreator.java:119) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:95) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:81) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.data.keyvalue.repository.query.KeyValuePartTreeQuery.createQuery(KeyValuePartTreeQuery.java:212) ~[spring-data-keyvalue-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.data.keyvalue.repository.query.KeyValuePartTreeQuery.prepareQuery(KeyValuePartTreeQuery.java:149) ~[spring-data-keyvalue-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.data.keyvalue.repository.query.KeyValuePartTreeQuery.execute(KeyValuePartTreeQuery.java:107) ~[spring-data-keyvalue-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:618) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat com.sun.proxy.$Proxy122.findByCreatedAtBetween(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\t... 92 common frames omitted\r\n```\r\n\r\nSince Redis doesn&#39;t allow querying data in range as I&#39;ve done, is there a way to retrieve the data in a date range?","title":"BETWEEN (2): [IsBetween, Between] is not supported for Redis query derivation","body":"<p>I'm a beginner at spring data redis and I'm currently using Redis database as part of my application. And I am trying to query for records between two dates.</p>\n\n<p>Here is my Repository class.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface TransactionStatsRepository extends CrudRepository&lt;TransactionStats, String&gt; {\n    List&lt;TransactionStats&gt; findByCreatedAtBetween(Date startDate, Date endDate);\n}\n</code></pre>\n\n<p>I've indexed the <code>createdAt</code> field in my Entity class.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RedisHash(\"TRANSACTION\")\npublic class TransactionStats implements Serializable {\n\n    @Id\n    private String id;\n\n    @Indexed\n    private String status;\n\n    @Indexed\n    private Date createdAt;\n\n//Getters and Setters\n</code></pre>\n\n<p>The data insertion is being done in a typical CrudRepository way using the <code>save()</code> method.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public void addNewTransaction(String status, String createdAt) throws ParseException {\n        TransactionStats stats = new TransactionStats();\n        stats.setStatus(status);\n        stats.setCreatedAt(getStringToDate(createdAt));\n        transactionStatsRepository.save(stats);\n    }\n\n    private Date getStringToDate(String dateString) throws ParseException {\n        SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n        formatter.setTimeZone(TimeZone.getTimeZone(\"GMT\" + timeZoneOffset));\n        return formatter.parse(dateString);\n    }\n\n</code></pre>\n\n<p>Here is the service class method accessing the repo method</p>\n\n<pre><code>public List&lt;TransactionStatsDTO&gt; getForDuration(String startDuration, String endDuration) throws ParseException {\n        Date startDate = getStringToDate(startDuration);\n        Date endDate = getStringToDate(endDuration);\n        List&lt;TransactionStatsDTO&gt; transactionStatsDTOs = new ArrayList&lt;&gt;();\n        transactionStatsRepository.findByCreatedAtBetween(startDate, endDate)\n                .forEach(transactionStats -&gt; transactionStatsDTOs.add(mapper.map(transactionStats, TransactionStatsDTO.class)));\n        return transactionStatsDTOs;\n    }\n</code></pre>\n\n<p>But the repo method <code>findByCreatedAtBetween</code>when accessed is throwing the following exception.</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: BETWEEN (2): [IsBetween, Between] is not supported for Redis query derivation!\n    at org.springframework.data.redis.repository.query.RedisQueryCreator.from(RedisQueryCreator.java:73) ~[spring-data-redis-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.data.redis.repository.query.RedisQueryCreator.create(RedisQueryCreator.java:53) ~[spring-data-redis-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.data.redis.repository.query.RedisQueryCreator.create(RedisQueryCreator.java:41) ~[spring-data-redis-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.data.repository.query.parser.AbstractQueryCreator.createCriteria(AbstractQueryCreator.java:119) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:95) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:81) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.data.keyvalue.repository.query.KeyValuePartTreeQuery.createQuery(KeyValuePartTreeQuery.java:212) ~[spring-data-keyvalue-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.data.keyvalue.repository.query.KeyValuePartTreeQuery.prepareQuery(KeyValuePartTreeQuery.java:149) ~[spring-data-keyvalue-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.data.keyvalue.repository.query.KeyValuePartTreeQuery.execute(KeyValuePartTreeQuery.java:107) ~[spring-data-keyvalue-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:618) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at com.sun.proxy.$Proxy122.findByCreatedAtBetween(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    ... 92 common frames omitted\n</code></pre>\n\n<p>Since Redis doesn't allow querying data in range as I've done, is there a way to retrieve the data in a date range?</p>\n"},{"tags":["java","spring","ant","nosuchmethoderror"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1468862926,"post_id":38442676,"comment_id":64290884,"body_markdown":"It sounds like a Java version mismatch","body":"It sounds like a Java version mismatch"},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1468863260,"post_id":38442676,"comment_id":64291055,"body_markdown":"@paulsm4 - my `${ant.java.version}` and `${java.version}` show up as `1.7` and `1.7.0_80`. My `$JAVA_HOME` shows up as `/usr/lib/jvm/java-7-oracle` - what other places do I need to check for Java versions?","body":"@paulsm4 - my <code>${ant.java.version}</code> and <code>${java.version}</code> show up as <code>1.7</code> and <code>1.7.0_80</code>. My <code>$JAVA_HOME</code> shows up as <code>&#47;usr&#47;lib&#47;jvm&#47;java-7-oracle</code> - what other places do I need to check for Java versions?"},{"owner":{"account_id":6497318,"reputation":76,"user_id":5029493,"display_name":"Niku Hysa"},"score":0,"creation_date":1468863905,"post_id":38442676,"comment_id":64291378,"body_markdown":"Have you tried clean and building your project?","body":"Have you tried clean and building your project?"},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1468864148,"post_id":38442676,"comment_id":64291498,"body_markdown":"@NikuHysa - yes...everytime I run the tests I clean and build","body":"@NikuHysa - yes...everytime I run the tests I clean and build"},{"owner":{"account_id":7677535,"reputation":10742,"user_id":5817888,"accept_rate":33,"display_name":"J&#233;r&#233;mie B"},"score":0,"creation_date":1468864679,"post_id":38442676,"comment_id":64291792,"body_markdown":"do you manage your dependencies &quot;by hand&quot; ? do you use v4.3 of spring-core.jar ?","body":"do you manage your dependencies &quot;by hand&quot; ? do you use v4.3 of spring-core.jar ?"},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1468870325,"post_id":38442676,"comment_id":64294562,"body_markdown":"@J&#233;r&#233;mieB - my dependencies (jars) are in &quot;lib&quot; folders.  I&#39;m using 4.3.1 of spring-core","body":"@J&#233;r&#233;mieB - my dependencies (jars) are in &quot;lib&quot; folders.  I&#39;m using 4.3.1 of spring-core"},{"owner":{"account_id":1081097,"reputation":6921,"user_id":1078068,"display_name":"Chad Nouis"},"score":0,"creation_date":1468872150,"post_id":38442676,"comment_id":64295396,"body_markdown":"Please post the part of the Ant script that launches TestNG.","body":"Please post the part of the Ant script that launches TestNG."},{"owner":{"account_id":4381097,"reputation":3399,"user_id":3572733,"accept_rate":46,"display_name":"Bhagwati Malav"},"score":0,"creation_date":1545626188,"post_id":38442676,"comment_id":94662896,"body_markdown":"@ZackMacomber Hi i am gettting same error for spring version 5.0.8. Could you please suggest something to fix it ?","body":"@ZackMacomber Hi i am gettting same error for spring version 5.0.8. Could you please suggest something to fix it ?"},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1545653416,"post_id":38442676,"comment_id":94669965,"body_markdown":"@BhagwatiMalav See my answer below, in particular the 2nd paragraph","body":"@BhagwatiMalav See my answer below, in particular the 2nd paragraph"},{"owner":{"account_id":4381097,"reputation":3399,"user_id":3572733,"accept_rate":46,"display_name":"Bhagwati Malav"},"score":1,"creation_date":1545971209,"post_id":38442676,"comment_id":94745649,"body_markdown":"@ZackMacomber Thanks for your response. getCharSet() got changed to getCharset() in spring-web 5.0.8. That&#39;s why I was getting this error.","body":"@ZackMacomber Thanks for your response. getCharSet() got changed to getCharset() in spring-web 5.0.8. That&#39;s why I was getting this error."}],"answers":[{"tags":[],"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1558037734,"creation_date":1468874097,"answer_id":38445582,"question_id":38442676,"body_markdown":"`org.springframework.http.MediaType.getCharset()` was introduced since 4.3 if java did not find it that mean that you have a spring-core version below 4.3.1 in your classpath which get loaded and used.&lt;br&gt;\r\n\r\n","title":"java.lang.NoSuchMethodError: org.springframework.http.MediaType.getCharset()Ljava/nio/charset/Charset","body":"<p><code>org.springframework.http.MediaType.getCharset()</code> was introduced since 4.3 if java did not find it that mean that you have a spring-core version below 4.3.1 in your classpath which get loaded and used.<br></p>\n"},{"tags":[],"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1468874988,"creation_date":1468874988,"answer_id":38445758,"question_id":38442676,"body_markdown":"Unbelievable...foiled by class loading issues once again...an uber jar named `activemq-minimal-5.13.3.jar` had references to `spring` jars in it that was causing the conflict.  `activemq-minimal-5.13.3.jar` comes before `spring` alphabetically so the classes in that `activemq` jar were being loaded/used over the `spring` jars.  Updated my ant build to load the `spring` classes first and now I&#39;m all set.\r\n\r\nThe way I found out is I put all of my 3rd party libs together in a &quot;Test&quot; project and added/deleted jars (with somewhat of an inclination where the problem was) until I was able to pinpoint where the class loading issue was.","title":"java.lang.NoSuchMethodError: org.springframework.http.MediaType.getCharset()Ljava/nio/charset/Charset","body":"<p>Unbelievable...foiled by class loading issues once again...an uber jar named <code>activemq-minimal-5.13.3.jar</code> had references to <code>spring</code> jars in it that was causing the conflict.  <code>activemq-minimal-5.13.3.jar</code> comes before <code>spring</code> alphabetically so the classes in that <code>activemq</code> jar were being loaded/used over the <code>spring</code> jars.  Updated my ant build to load the <code>spring</code> classes first and now I'm all set.</p>\n\n<p>The way I found out is I put all of my 3rd party libs together in a \"Test\" project and added/deleted jars (with somewhat of an inclination where the problem was) until I was able to pinpoint where the class loading issue was.</p>\n"},{"tags":[],"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558459643,"creation_date":1558459643,"answer_id":56243545,"question_id":38442676,"body_markdown":"In spring latest version they have modified   \r\n\r\n&gt; org.springframework.http;\r\n\r\n\tMediaType contentType = headers.getContentType();\r\n \r\n **Old :**\r\n\r\n          contentType.getCharSet()\r\n\r\n**New :**\r\n\r\n         contentType.getCharset()\r\n","title":"java.lang.NoSuchMethodError: org.springframework.http.MediaType.getCharset()Ljava/nio/charset/Charset","body":"<p>In spring latest version they have modified   </p>\n\n<blockquote>\n  <p>org.springframework.http;</p>\n</blockquote>\n\n<pre><code>MediaType contentType = headers.getContentType();\n</code></pre>\n\n<p><strong>Old :</strong></p>\n\n<pre><code>      contentType.getCharSet()\n</code></pre>\n\n<p><strong>New :</strong></p>\n\n<pre><code>     contentType.getCharset()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":935453,"reputation":49,"user_id":964446,"display_name":"SadanandM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650624188,"creation_date":1650624188,"answer_id":71967456,"question_id":38442676,"body_markdown":"In my case, the culprit was spring-web-4.2.2.RELEASE, upgrading it to &gt;4.2 fixed it for me","title":"java.lang.NoSuchMethodError: org.springframework.http.MediaType.getCharset()Ljava/nio/charset/Charset","body":"<p>In my case, the culprit was spring-web-4.2.2.RELEASE, upgrading it to &gt;4.2 fixed it for me</p>\n"}],"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18948,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":38445758,"answer_count":4,"score":11,"last_activity_date":1650624188,"creation_date":1468862861,"question_id":38442676,"body_markdown":"When I attempt to run my `TestNG` tests via `ant` I am getting `java.lang.NoSuchMethodError: org.springframework.http.MediaType.getCharset()Ljava/nio/charset/Charset` (see below for full exception)\r\n\r\nI have no trouble compiling or running my web application but can&#39;t run tests via ant.  I&#39;m fairly certain this is a class loading issue but not sure what order class loading should be done at runtime.  I&#39;m using Spring 4.3.1 and Spring Security 4.1.1.\r\n\r\nIs there a particular order to load my jars such that the &quot;correct&quot; version of `org.springframework.http.MediaType` is used?\r\n\r\n    [testng] org.testng.TestNGException: \r\n       [testng] An error occurred while instantiating class com.avada.rest.api.GroupsIntTest: org.springframework.http.MediaType.getCharset()Ljava/nio/charset/Charset;\r\n       [testng]     at org.testng.internal.ClassHelper.createInstance1(ClassHelper.java:388)\r\n       [testng]     at org.testng.internal.ClassHelper.createInstance(ClassHelper.java:290)\r\n       [testng]     at org.testng.internal.ClassImpl.getDefaultInstance(ClassImpl.java:125)\r\n       [testng]     at org.testng.internal.ClassImpl.getInstances(ClassImpl.java:191)\r\n       [testng]     at org.testng.TestClass.getInstances(TestClass.java:104)\r\n       [testng]     at org.testng.TestClass.initTestClassesAndInstances(TestClass.java:90)\r\n       [testng]     at org.testng.TestClass.init(TestClass.java:82)\r\n       [testng]     at org.testng.TestClass.&lt;init&gt;(TestClass.java:45)\r\n       [testng]     at org.testng.TestRunner.initMethods(TestRunner.java:409)\r\n       [testng]     at org.testng.TestRunner.init(TestRunner.java:247)\r\n       [testng]     at org.testng.TestRunner.init(TestRunner.java:217)\r\n       [testng]     at org.testng.TestRunner.&lt;init&gt;(TestRunner.java:161)\r\n       [testng]     at org.testng.SuiteRunner$DefaultTestRunnerFactory.newTestRunner(SuiteRunner.java:555)\r\n       [testng]     at org.testng.SuiteRunner.init(SuiteRunner.java:168)\r\n       [testng]     at org.testng.SuiteRunner.&lt;init&gt;(SuiteRunner.java:117)\r\n       [testng]     at org.testng.TestNG.createSuiteRunner(TestNG.java:1359)\r\n       [testng]     at org.testng.TestNG.createSuiteRunners(TestNG.java:1346)\r\n       [testng]     at org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\r\n       [testng]     at org.testng.TestNG.runSuites(TestNG.java:1124)\r\n       [testng]     at org.testng.TestNG.run(TestNG.java:1096)\r\n       [testng]     at org.testng.TestNG.privateMain(TestNG.java:1425)\r\n       [testng]     at org.testng.TestNG.main(TestNG.java:1394)\r\n       [testng] Caused by: java.lang.NoSuchMethodError: org.springframework.http.MediaType.getCharset()Ljava/nio/charset/Charset;\r\n       [testng]     at org.springframework.web.client.RestTemplate$AcceptHeaderRequestCallback.getSupportedMediaTypes(RestTemplate.java:757)\r\n       [testng]     at org.springframework.web.client.RestTemplate$AcceptHeaderRequestCallback.doWithRequest(RestTemplate.java:733)\r\n       [testng]     at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:617)\r\n       [testng]     at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:580)\r\n       [testng]     at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:287)\r\n       [testng]     at com.avada.rest.api.ApiTestClient.getAll(ApiTestClient.java:81)\r\n       [testng]     at com.avada.rest.api.GroupsIntTest.&lt;clinit&gt;(GroupsIntTest.java:17)\r\n       [testng]     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n       [testng]     at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n       [testng]     at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n       [testng]     at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n       [testng]     at org.testng.internal.ObjectFactoryImpl.newInstance(ObjectFactoryImpl.java:29)\r\n       [testng]     at org.testng.internal.ClassHelper.createInstance1(ClassHelper.java:377)\r\n       [testng]     ... 21 more\r\n       [testng] The tests failed.\r\n\r\n","title":"java.lang.NoSuchMethodError: org.springframework.http.MediaType.getCharset()Ljava/nio/charset/Charset","body":"<p>When I attempt to run my <code>TestNG</code> tests via <code>ant</code> I am getting <code>java.lang.NoSuchMethodError: org.springframework.http.MediaType.getCharset()Ljava/nio/charset/Charset</code> (see below for full exception)</p>\n\n<p>I have no trouble compiling or running my web application but can't run tests via ant.  I'm fairly certain this is a class loading issue but not sure what order class loading should be done at runtime.  I'm using Spring 4.3.1 and Spring Security 4.1.1.</p>\n\n<p>Is there a particular order to load my jars such that the \"correct\" version of <code>org.springframework.http.MediaType</code> is used?</p>\n\n<pre><code>[testng] org.testng.TestNGException: \n   [testng] An error occurred while instantiating class com.avada.rest.api.GroupsIntTest: org.springframework.http.MediaType.getCharset()Ljava/nio/charset/Charset;\n   [testng]     at org.testng.internal.ClassHelper.createInstance1(ClassHelper.java:388)\n   [testng]     at org.testng.internal.ClassHelper.createInstance(ClassHelper.java:290)\n   [testng]     at org.testng.internal.ClassImpl.getDefaultInstance(ClassImpl.java:125)\n   [testng]     at org.testng.internal.ClassImpl.getInstances(ClassImpl.java:191)\n   [testng]     at org.testng.TestClass.getInstances(TestClass.java:104)\n   [testng]     at org.testng.TestClass.initTestClassesAndInstances(TestClass.java:90)\n   [testng]     at org.testng.TestClass.init(TestClass.java:82)\n   [testng]     at org.testng.TestClass.&lt;init&gt;(TestClass.java:45)\n   [testng]     at org.testng.TestRunner.initMethods(TestRunner.java:409)\n   [testng]     at org.testng.TestRunner.init(TestRunner.java:247)\n   [testng]     at org.testng.TestRunner.init(TestRunner.java:217)\n   [testng]     at org.testng.TestRunner.&lt;init&gt;(TestRunner.java:161)\n   [testng]     at org.testng.SuiteRunner$DefaultTestRunnerFactory.newTestRunner(SuiteRunner.java:555)\n   [testng]     at org.testng.SuiteRunner.init(SuiteRunner.java:168)\n   [testng]     at org.testng.SuiteRunner.&lt;init&gt;(SuiteRunner.java:117)\n   [testng]     at org.testng.TestNG.createSuiteRunner(TestNG.java:1359)\n   [testng]     at org.testng.TestNG.createSuiteRunners(TestNG.java:1346)\n   [testng]     at org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\n   [testng]     at org.testng.TestNG.runSuites(TestNG.java:1124)\n   [testng]     at org.testng.TestNG.run(TestNG.java:1096)\n   [testng]     at org.testng.TestNG.privateMain(TestNG.java:1425)\n   [testng]     at org.testng.TestNG.main(TestNG.java:1394)\n   [testng] Caused by: java.lang.NoSuchMethodError: org.springframework.http.MediaType.getCharset()Ljava/nio/charset/Charset;\n   [testng]     at org.springframework.web.client.RestTemplate$AcceptHeaderRequestCallback.getSupportedMediaTypes(RestTemplate.java:757)\n   [testng]     at org.springframework.web.client.RestTemplate$AcceptHeaderRequestCallback.doWithRequest(RestTemplate.java:733)\n   [testng]     at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:617)\n   [testng]     at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:580)\n   [testng]     at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:287)\n   [testng]     at com.avada.rest.api.ApiTestClient.getAll(ApiTestClient.java:81)\n   [testng]     at com.avada.rest.api.GroupsIntTest.&lt;clinit&gt;(GroupsIntTest.java:17)\n   [testng]     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n   [testng]     at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n   [testng]     at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n   [testng]     at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\n   [testng]     at org.testng.internal.ObjectFactoryImpl.newInstance(ObjectFactoryImpl.java:29)\n   [testng]     at org.testng.internal.ClassHelper.createInstance1(ClassHelper.java:377)\n   [testng]     ... 21 more\n   [testng] The tests failed.\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":3737258,"reputation":5761,"user_id":3107926,"accept_rate":95,"display_name":"Oscar Franco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650623622,"creation_date":1650623622,"answer_id":71967335,"question_id":71967017,"body_markdown":"Found one way to make it work that is simple enough, using a Mutex.\r\n\r\nEach call to the parent Java creates a mutex (I also added one field to the `WalletCoreAuthenticationCallback` object to hold the response). Then I release the mutex on inside the calls, and just check for the stored response.\r\n\r\n```java\r\n    final Semaphore mutex = new Semaphore(0);\r\n    // This object now internally saves the response of the authentication callback\r\n    WalletCoreAuthenticationCallback authenticationCallback = new WalletCoreAuthenticationCallback(mutex);\r\n\r\n    act.runOnUiThread(new Runnable() {\r\n      @Override\r\n      public void run() {\r\n        Executor executor = ContextCompat.getMainExecutor(reactContext);\r\n        BiometricPrompt.PromptInfo info = BiometricUtils.createBiometricPromptInfo(&quot;ROPO&quot;, &quot;ROPO&quot;, &quot;ROPO&quot;);\r\n        BiometricPrompt prompt = new BiometricPrompt((FragmentActivity) act, executor, authenticationCallback);\r\n        prompt.authenticate(info);\r\n      }\r\n    });\r\n\r\n    try {\r\n      mutex.acquire();\r\n    } catch (InterruptedException e) {\r\n      Log.e(Constants.TAG, &quot;INterruped mutex exception&quot;);\r\n    }\r\n\r\n    if(!authenticationCallback.isAuthenticated) {\r\n      return null;\r\n    }\r\n\r\n```\r\n\r\nThis however has one side-effect, basically locking the calling thread, I&#39;m calling this from a React Native application, which basically means it freezes the app. However since Auth is such a vital step, it&#39;s ok to freeze the app since the user cannot continue without authentication anyways.\r\n\r\nIf anybody has a more elegant solution, happy to check it out.","title":"how to run biometric prompt on UI thread and merge back to original thread?","body":"<p>Found one way to make it work that is simple enough, using a Mutex.</p>\n<p>Each call to the parent Java creates a mutex (I also added one field to the <code>WalletCoreAuthenticationCallback</code> object to hold the response). Then I release the mutex on inside the calls, and just check for the stored response.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    final Semaphore mutex = new Semaphore(0);\n    // This object now internally saves the response of the authentication callback\n    WalletCoreAuthenticationCallback authenticationCallback = new WalletCoreAuthenticationCallback(mutex);\n\n    act.runOnUiThread(new Runnable() {\n      @Override\n      public void run() {\n        Executor executor = ContextCompat.getMainExecutor(reactContext);\n        BiometricPrompt.PromptInfo info = BiometricUtils.createBiometricPromptInfo(&quot;ROPO&quot;, &quot;ROPO&quot;, &quot;ROPO&quot;);\n        BiometricPrompt prompt = new BiometricPrompt((FragmentActivity) act, executor, authenticationCallback);\n        prompt.authenticate(info);\n      }\n    });\n\n    try {\n      mutex.acquire();\n    } catch (InterruptedException e) {\n      Log.e(Constants.TAG, &quot;INterruped mutex exception&quot;);\n    }\n\n    if(!authenticationCallback.isAuthenticated) {\n      return null;\n    }\n\n</code></pre>\n<p>This however has one side-effect, basically locking the calling thread, I'm calling this from a React Native application, which basically means it freezes the app. However since Auth is such a vital step, it's ok to freeze the app since the user cannot continue without authentication anyways.</p>\n<p>If anybody has a more elegant solution, happy to check it out.</p>\n"}],"owner":{"account_id":3737258,"reputation":5761,"user_id":3107926,"accept_rate":95,"display_name":"Oscar Franco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71967335,"answer_count":1,"score":1,"last_activity_date":1650623622,"creation_date":1650622012,"question_id":71967017,"body_markdown":"I&#39;m trying to use biometric authentication. However my setup is complex, basically I&#39;m trying to keep the function sync because it is invoked from C++:\r\n\r\nUser interaction -&gt; C++ function -&gt; Java JNI function -&gt; Biometric Authenticate &lt;- needs to go back\r\n\r\nSkipping the C++ code, it calls via JNI the following function:\r\n\r\n```java\r\npublic String getSeed() throws ExecutionException, InterruptedException {\r\n    Context reactContext = this.getReactApplicationContext();\r\n    Activity act = this.getCurrentActivity();\r\n\r\n    act.runOnUiThread(new Runnable() {\r\n      @Override\r\n      public void run() {\r\n        Executor executor = ContextCompat.getMainExecutor(reactContext);\r\n        BiometricPrompt.AuthenticationCallback authenticationCallback = new WalletCoreAuthenticationCallback();\r\n        BiometricPrompt.PromptInfo info = BiometricUtils.createBiometricPromptInfo(&quot;ROPO&quot;, &quot;ROPO&quot;, &quot;ROPO&quot;);\r\n        BiometricPrompt prompt = new BiometricPrompt((FragmentActivity) act, executor, authenticationCallback);\r\n        prompt.authenticate(info);\r\n      }\r\n    });\r\n\r\n    // Here I need a Handler.merge or something similar to pause the execution while the user authenticates and then I retrieve the answer.\r\n\r\n    try {\r\n        return keyStore.getPlainText(getReactApplicationContext(), SEED_KEY);\r\n    } catch (FileNotFoundException fnfe) {\r\n        Log.w(Constants.TAG, &quot;Could not get seed (file not found)&quot;);\r\n        return null;\r\n    } catch (Exception e) {\r\n        Log.w(Constants.TAG, &quot;Could not get seed&quot;);\r\n        return null;\r\n    }\r\n  }\r\n```\r\n\r\nThe idea is: if the user fails to authenticate I do not fetch the sensitive information (keyStore.getPlainText).\r\n\r\nThe problem however lies in the fact that the BiometricPrompt needs to be called from the main (UI) thread. I&#39;m an Android noob, so far that was the best I could come up with, it in effect prompts the user for authentication, but I do not know how to pause/join the main java function call, until the user has authenticated.\r\n\r\nIs this even possible? ","title":"how to run biometric prompt on UI thread and merge back to original thread?","body":"<p>I'm trying to use biometric authentication. However my setup is complex, basically I'm trying to keep the function sync because it is invoked from C++:</p>\n<p>User interaction -&gt; C++ function -&gt; Java JNI function -&gt; Biometric Authenticate &lt;- needs to go back</p>\n<p>Skipping the C++ code, it calls via JNI the following function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getSeed() throws ExecutionException, InterruptedException {\n    Context reactContext = this.getReactApplicationContext();\n    Activity act = this.getCurrentActivity();\n\n    act.runOnUiThread(new Runnable() {\n      @Override\n      public void run() {\n        Executor executor = ContextCompat.getMainExecutor(reactContext);\n        BiometricPrompt.AuthenticationCallback authenticationCallback = new WalletCoreAuthenticationCallback();\n        BiometricPrompt.PromptInfo info = BiometricUtils.createBiometricPromptInfo(&quot;ROPO&quot;, &quot;ROPO&quot;, &quot;ROPO&quot;);\n        BiometricPrompt prompt = new BiometricPrompt((FragmentActivity) act, executor, authenticationCallback);\n        prompt.authenticate(info);\n      }\n    });\n\n    // Here I need a Handler.merge or something similar to pause the execution while the user authenticates and then I retrieve the answer.\n\n    try {\n        return keyStore.getPlainText(getReactApplicationContext(), SEED_KEY);\n    } catch (FileNotFoundException fnfe) {\n        Log.w(Constants.TAG, &quot;Could not get seed (file not found)&quot;);\n        return null;\n    } catch (Exception e) {\n        Log.w(Constants.TAG, &quot;Could not get seed&quot;);\n        return null;\n    }\n  }\n</code></pre>\n<p>The idea is: if the user fails to authenticate I do not fetch the sensitive information (keyStore.getPlainText).</p>\n<p>The problem however lies in the fact that the BiometricPrompt needs to be called from the main (UI) thread. I'm an Android noob, so far that was the best I could come up with, it in effect prompts the user for authentication, but I do not know how to pause/join the main java function call, until the user has authenticated.</p>\n<p>Is this even possible?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka","spring-kafka-test"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1565715392,"creation_date":1565715392,"answer_id":57482246,"question_id":57481979,"body_markdown":"You need to tell the broker to pre-create the topics...\r\n\r\n```java\r\n@SpringBootTest\r\n@EmbeddedKafka(topics = &quot;foo&quot;, partitions = 3)\r\nclass So57481979ApplicationTests {\r\n\r\n\t@Test\r\n\tvoid testPartitions(@Autowired KafkaAdmin admin) throws InterruptedException, ExecutionException {\r\n\t\tAdminClient client = AdminClient.create(admin.getConfig());\r\n\t\tMap&lt;String, TopicDescription&gt; map = client.describeTopics(Collections.singletonList(&quot;foo&quot;)).all().get();\r\n\t\tSystem.out.println(map.values().iterator().next().partitions().size());\r\n\t}\r\n\r\n}\r\n```\r\n\r\nOr set the `num.partitions` broker property if you want the broker to auto-create the topics for you on first use.\r\n\r\nWe should probably automatically do that, based on the partitions property.","title":"Embedded Kafka starting with wrong number of partitions","body":"<p>You need to tell the broker to pre-create the topics...</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@EmbeddedKafka(topics = \"foo\", partitions = 3)\nclass So57481979ApplicationTests {\n\n    @Test\n    void testPartitions(@Autowired KafkaAdmin admin) throws InterruptedException, ExecutionException {\n        AdminClient client = AdminClient.create(admin.getConfig());\n        Map&lt;String, TopicDescription&gt; map = client.describeTopics(Collections.singletonList(\"foo\")).all().get();\n        System.out.println(map.values().iterator().next().partitions().size());\n    }\n\n}\n</code></pre>\n\n<p>Or set the <code>num.partitions</code> broker property if you want the broker to auto-create the topics for you on first use.</p>\n\n<p>We should probably automatically do that, based on the partitions property.</p>\n"},{"tags":[],"owner":{"account_id":14669643,"reputation":91,"user_id":10594456,"display_name":"FrankGod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650623555,"creation_date":1650623555,"answer_id":71967322,"question_id":57481979,"body_markdown":"I found `bootstrapServersProperty` is important in `@EmbeddedKafka`, which is used to populate the property in the `application-test.yml`, which then can be used to create consumers/listener containers.","title":"Embedded Kafka starting with wrong number of partitions","body":"<p>I found <code>bootstrapServersProperty</code> is important in <code>@EmbeddedKafka</code>, which is used to populate the property in the <code>application-test.yml</code>, which then can be used to create consumers/listener containers.</p>\n"}],"owner":{"account_id":5006112,"reputation":881,"user_id":4023726,"accept_rate":92,"display_name":"James Hutchinson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57482246,"answer_count":2,"score":1,"last_activity_date":1650623555,"creation_date":1565714137,"question_id":57481979,"body_markdown":"I have started an instance of EmbeddedKafka in a JUnit test. I can read the records that I have pushed to my stream correctly in my application, but one thing I have noticed is that I only have one partition per topic. Can anyone explain why?\r\n\r\nIn my application I have the following:\r\n\r\n    List&lt;PartitionInfo&gt; partitionInfos = consumer.partitionsFor(topic);\r\n\r\nThis returns a list with one item. When running against local Kafka with 3 partitions, it returns a list with 3 items as expected.\r\n\r\nAnd my test looks like:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @EmbeddedKafka(partitions = 3)\r\n    @ActiveProfiles(&quot;inmemory&quot;)\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\n    @TestPropertySource(\r\n                    locations = &quot;classpath:application-test.properties&quot;,\r\n                    properties = {&quot;app.onlyMonitorIfDataUpdated=true&quot;})\r\n    public class MonitorRestKafkaIntegrationTest {\r\n            \r\n        @Autowired\r\n        private EmbeddedKafkaBroker embeddedKafkaBroker;\r\n            \r\n        @Value(&quot;${spring.embedded.kafka.brokers}&quot;)\r\n        private String embeddedBrokers;\r\n        \r\n        @Autowired\r\n        private WebApplicationContext wac;\r\n        \r\n        @Autowired\r\n        private JsonUtility jsonUtility;\r\n        \r\n        private MockMvc mockMvc;\r\n        \r\n        @Before\r\n        public void setup() {\r\n                mockMvc = webAppContextSetup(wac).build();\r\n                UserGroupInformation.setLoginUser(UserGroupInformation.createRemoteUser(&quot;dummyUser&quot;));\r\n        }\r\n        \r\n            private ResultActions interactiveMonitoringREST(String eggID, String monitoringParams) throws Exception {\r\n                return mockMvc.perform(post(String.format(&quot;/eggs/%s/interactive&quot;, eggID)).contentType(MediaType.APPLICATION_JSON_VALUE).content(monitoringParams));\r\n            }\r\n        \r\n            @Test\r\n            @WithMockUser(&quot;super_user&quot;)\r\n            public void testEmbeddedKafka() throws Exception {\r\n                Producer&lt;String, String&gt; producer = getKafkaProducer();\r\n                sendRecords(producer, 3);\r\n        \r\n                updateConn();\r\n        \r\n                interactiveMonitoringREST(EGG_KAFKA, monitoringParams)\r\n                        .andExpect(status().isOk())\r\n                        .andDo(print())\r\n                        .andExpect(jsonPath(&quot;$.taskResults[0].resultDetails.numberOfRecordsProcessed&quot;).value(3))\r\n                        .andExpect(jsonPath(&quot;$.taskResults[0].resultDetails.numberOfRecordsSkipped&quot;).value(0));\r\n            }\r\n        \r\n            private void sendRecords(Producer&lt;String, String&gt; producer, int records) {\r\n                for (int i = 0; i &lt; records; i++) {\r\n                    String val = &quot;{\\&quot;auto_age\\&quot;:&quot; + String.valueOf(i + 10) + &quot;}&quot;;\r\n                    producer.send(new ProducerRecord&lt;&gt;(testTopic, String.valueOf(i), val));\r\n                }\r\n                producer.flush();\r\n            }\r\n        \r\n            private Producer&lt;String, String&gt; getKafkaProducer() {\r\n                Map&lt;String, Object&gt; prodConfigs = new HashMap&lt;&gt;(KafkaTestUtils.producerProps(embeddedKafkaBroker));\r\n                return new DefaultKafkaProducerFactory&lt;&gt;(prodConfigs, new StringSerializer(), new StringSerializer()).createProducer();\r\n            }\r\n        \r\n            private void updateConn() throws Exception {\r\n                String conn = getConnectionREST(CONN_KAFKA).andReturn().getResponse().getContentAsString();\r\n                ConnectionDetail connectionDetail = jsonUtility.fromJson(conn, ConnectionDetail.class);\r\n                connectionDetail.getDetails().put(ConnectionDetailConstants.CONNECTION_SERVER, embeddedBrokers);\r\n                String updatedConn = jsonUtility.toJson(connectionDetail);\r\n                updateConnectionREST(CONN_KAFKA, updatedConn).andExpect(status().isOk());\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n","title":"Embedded Kafka starting with wrong number of partitions","body":"<p>I have started an instance of EmbeddedKafka in a JUnit test. I can read the records that I have pushed to my stream correctly in my application, but one thing I have noticed is that I only have one partition per topic. Can anyone explain why?</p>\n\n<p>In my application I have the following:</p>\n\n<pre><code>List&lt;PartitionInfo&gt; partitionInfos = consumer.partitionsFor(topic);\n</code></pre>\n\n<p>This returns a list with one item. When running against local Kafka with 3 partitions, it returns a list with 3 items as expected.</p>\n\n<p>And my test looks like:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@EmbeddedKafka(partitions = 3)\n@ActiveProfiles(\"inmemory\")\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\n@TestPropertySource(\n                locations = \"classpath:application-test.properties\",\n                properties = {\"app.onlyMonitorIfDataUpdated=true\"})\npublic class MonitorRestKafkaIntegrationTest {\n\n    @Autowired\n    private EmbeddedKafkaBroker embeddedKafkaBroker;\n\n    @Value(\"${spring.embedded.kafka.brokers}\")\n    private String embeddedBrokers;\n\n    @Autowired\n    private WebApplicationContext wac;\n\n    @Autowired\n    private JsonUtility jsonUtility;\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void setup() {\n            mockMvc = webAppContextSetup(wac).build();\n            UserGroupInformation.setLoginUser(UserGroupInformation.createRemoteUser(\"dummyUser\"));\n    }\n\n        private ResultActions interactiveMonitoringREST(String eggID, String monitoringParams) throws Exception {\n            return mockMvc.perform(post(String.format(\"/eggs/%s/interactive\", eggID)).contentType(MediaType.APPLICATION_JSON_VALUE).content(monitoringParams));\n        }\n\n        @Test\n        @WithMockUser(\"super_user\")\n        public void testEmbeddedKafka() throws Exception {\n            Producer&lt;String, String&gt; producer = getKafkaProducer();\n            sendRecords(producer, 3);\n\n            updateConn();\n\n            interactiveMonitoringREST(EGG_KAFKA, monitoringParams)\n                    .andExpect(status().isOk())\n                    .andDo(print())\n                    .andExpect(jsonPath(\"$.taskResults[0].resultDetails.numberOfRecordsProcessed\").value(3))\n                    .andExpect(jsonPath(\"$.taskResults[0].resultDetails.numberOfRecordsSkipped\").value(0));\n        }\n\n        private void sendRecords(Producer&lt;String, String&gt; producer, int records) {\n            for (int i = 0; i &lt; records; i++) {\n                String val = \"{\\\"auto_age\\\":\" + String.valueOf(i + 10) + \"}\";\n                producer.send(new ProducerRecord&lt;&gt;(testTopic, String.valueOf(i), val));\n            }\n            producer.flush();\n        }\n\n        private Producer&lt;String, String&gt; getKafkaProducer() {\n            Map&lt;String, Object&gt; prodConfigs = new HashMap&lt;&gt;(KafkaTestUtils.producerProps(embeddedKafkaBroker));\n            return new DefaultKafkaProducerFactory&lt;&gt;(prodConfigs, new StringSerializer(), new StringSerializer()).createProducer();\n        }\n\n        private void updateConn() throws Exception {\n            String conn = getConnectionREST(CONN_KAFKA).andReturn().getResponse().getContentAsString();\n            ConnectionDetail connectionDetail = jsonUtility.fromJson(conn, ConnectionDetail.class);\n            connectionDetail.getDetails().put(ConnectionDetailConstants.CONNECTION_SERVER, embeddedBrokers);\n            String updatedConn = jsonUtility.toJson(connectionDetail);\n            updateConnectionREST(CONN_KAFKA, updatedConn).andExpect(status().isOk());\n        }\n    }\n</code></pre>\n"},{"tags":["java","tomcat","ssl","docker","keystore"],"comments":[{"owner":{"account_id":1883209,"reputation":20919,"user_id":1702943,"accept_rate":86,"display_name":"Rao"},"score":0,"creation_date":1508904351,"post_id":46923699,"comment_id":80794546,"body_markdown":"What steps have you followed to import certs?","body":"What steps have you followed to import certs?"},{"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"score":0,"creation_date":1508914308,"post_id":46923699,"comment_id":80798263,"body_markdown":"From what you described you need to add the certs to truststore (don&#39;t confuse with keystore). There are different ways of doing that depending on the technologies you use to make a call. For instance, for spring boot it might be like this https://stackoverflow.com/a/43235569/2065796\nYou can also update the jvm inside the container with the trusted certs, etc.\nProvide more details on how you make a call so we&#39;ll be able to help you.","body":"From what you described you need to add the certs to truststore (don&#39;t confuse with keystore). There are different ways of doing that depending on the technologies you use to make a call. For instance, for spring boot it might be like this <a href=\"https://stackoverflow.com/a/43235569/2065796\">stackoverflow.com/a/43235569/2065796</a> You can also update the jvm inside the container with the trusted certs, etc. Provide more details on how you make a call so we&#39;ll be able to help you."},{"owner":{"account_id":8480374,"reputation":2454,"user_id":6360244,"display_name":"samprog"},"score":0,"creation_date":1508922616,"post_id":46923699,"comment_id":80803414,"body_markdown":"Unrelated comment to your problem, but instead of `RUN cd /usr/local/tomcat/webapps` you can/should use `WORKDIR /usr/local/tomcat/webapps` to keep it more lightweight and best practice friendly :)","body":"Unrelated comment to your problem, but instead of <code>RUN cd &#47;usr&#47;local&#47;tomcat&#47;webapps</code> you can/should use <code>WORKDIR &#47;usr&#47;local&#47;tomcat&#47;webapps</code> to keep it more lightweight and best practice friendly :)"},{"owner":{"account_id":2887055,"reputation":241,"user_id":2476653,"display_name":"Gagan Singh"},"score":0,"creation_date":1509032284,"post_id":46923699,"comment_id":80864232,"body_markdown":"@Rao, I&#39;ve tried the following: \n\nFROM registry.access.redhat.com/rhel7.1\nENV JAVA_HOME=/usr/lib/jvm/jre\nCOPY ./certs/My_Root_CA.cer /etc/ssl/certs/\nCOPY ./certs/My_Issuing_CA.cer /etc/ssl/certs/\nRUN $JAVA_HOME/bin/keytool -storepasswd -new mysecretpassword -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit  ...","body":"@Rao, I&#39;ve tried the following:   FROM registry.access.redhat.com/rhel7.1 ENV JAVA_HOME=/usr/lib/jvm/jre COPY ./certs/My_Root_CA.cer /etc/ssl/certs/ COPY ./certs/My_Issuing_CA.cer /etc/ssl/certs/ RUN $JAVA_HOME/bin/keytool -storepasswd -new mysecretpassword -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit  ..."},{"owner":{"account_id":2887055,"reputation":241,"user_id":2476653,"display_name":"Gagan Singh"},"score":0,"creation_date":1509032550,"post_id":46923699,"comment_id":80864402,"body_markdown":"@Rao, also tried the following: ADD your_ca_root.crt /usr/local/share/ca-certificates/foo.crt\nRUN update-ca-certificates\n\nSteps provided at the following locations:\n\nhttps://docs.docker.com/engine/security/https/#create-a-ca-server-and-client-keys-with-openssl\nhttps://docs.docker.com/engine/security/https/#secure-by-default","body":"@Rao, also tried the following: ADD your_ca_root.crt /usr/local/share/ca-certificates/foo.crt RUN update-ca-certificates  Steps provided at the following locations:  <a href=\"https://docs.docker.com/engine/security/https/#create-a-ca-server-and-client-keys-with-openssl\" rel=\"nofollow noreferrer\">docs.docker.com/engine/security/https/&hellip;</a> <a href=\"https://docs.docker.com/engine/security/https/#secure-by-default\" rel=\"nofollow noreferrer\">docs.docker.com/engine/security/https/#secure-by-default</a>"},{"owner":{"account_id":2887055,"reputation":241,"user_id":2476653,"display_name":"Gagan Singh"},"score":0,"creation_date":1509032821,"post_id":46923699,"comment_id":80864557,"body_markdown":"@Oleksandr, Can you please point me to adding trusted certs to jvm option...i&#39;m making all these calls through the respective web-service urls - both my web-service as well as the internal web-services that it calls...pls let me know if you&#39;re looking for any specific information about how i&#39;m making the calls.","body":"@Oleksandr, Can you please point me to adding trusted certs to jvm option...i&#39;m making all these calls through the respective web-service urls - both my web-service as well as the internal web-services that it calls...pls let me know if you&#39;re looking for any specific information about how i&#39;m making the calls."},{"owner":{"account_id":2887055,"reputation":241,"user_id":2476653,"display_name":"Gagan Singh"},"score":0,"creation_date":1509036406,"post_id":46923699,"comment_id":80866753,"body_markdown":"I also added the Base64 certs to the file /usr/ssl/certs/ca-bundle.crt; I also tried: COPY certs/xyz.cer /usr/ssl/certs/xyz.cer\nRUN update-ca-certificates","body":"I also added the Base64 certs to the file /usr/ssl/certs/ca-bundle.crt; I also tried: COPY certs/xyz.cer /usr/ssl/certs/xyz.cer RUN update-ca-certificates"},{"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"score":0,"creation_date":1509038504,"post_id":46923699,"comment_id":80867927,"body_markdown":"@GaganSingh I added it as an answer","body":"@GaganSingh I added it as an answer"}],"answers":[{"tags":[],"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1564152551,"creation_date":1509038454,"answer_id":46960270,"question_id":46923699,"body_markdown":"You can try importing the certificate into jvm trusted store inside docker.\r\n\r\n&gt; I&#39;ve the certs for the remote hosts.\r\n\r\nYou can use these certificates but in fact you don&#39;t need them, you only need the root certificate of the authority that issued the certificates. You can download it from the internet.\r\n\r\nUsually they are given in `pem` format, but you&#39;ll need `der` for jvm. \r\n\r\nFirst you need to convert the certificate:\r\n\r\n    openssl x509 -in ca.pem -inform pem -out ca.der -outform der\r\n\r\nThen install it into jvm keystore:\r\n\r\n    keytool -importcert -alias startssl -keystore \\\r\n        $JAVA_HOME/lib/security/cacerts -storepass changeit -file ca.der \r\nThis command asks if you really want to add the certificate, you shoudl type &quot;yes&quot;.\r\n\r\n**And all together in a `Dockerfile`:**\r\n\r\n\tFROM tomcat:8.0.47-jre7\r\n\r\n\tCOPY ca.pem ca.pem\r\n\r\n\tRUN openssl x509 -in ca.pem -inform pem -out ca.der -outform der\r\n\r\n\tRUN echo yes | keytool -importcert -alias startssl -keystore \\\r\n\t    /docker-java-home/jre/lib/security/cacerts -storepass changeit -file ca.der \r\n\r\n\tCOPY test.war /usr/local/tomcat/webapps/test.war\r\n    \r\n    WORKDIR /usr/local/tomcat/webapps\r\n\r\nNote: if you already have certificate in `der` format you don&#39;t need `openssl` call, just copy the certificate directly. \r\n\r\nTo verify that the certificate is really applied you can run the container, ssh into it \r\n\r\n    $ docker exec -it &lt;CONTAINER-ID&gt; bash\r\n\r\nand check the keystore:\r\n\r\n    $ keytool -keystore &quot;/docker-java-home/jre/lib/security/cacerts&quot; -storepass changeit -list | grep &lt;NAME-OF-YOUR-CERT-AUTHORITY&gt;","title":"How to add SSL certificates to Tomcat in Docker container?","body":"<p>You can try importing the certificate into jvm trusted store inside docker.</p>\n\n<blockquote>\n  <p>I've the certs for the remote hosts.</p>\n</blockquote>\n\n<p>You can use these certificates but in fact you don't need them, you only need the root certificate of the authority that issued the certificates. You can download it from the internet.</p>\n\n<p>Usually they are given in <code>pem</code> format, but you'll need <code>der</code> for jvm. </p>\n\n<p>First you need to convert the certificate:</p>\n\n<pre><code>openssl x509 -in ca.pem -inform pem -out ca.der -outform der\n</code></pre>\n\n<p>Then install it into jvm keystore:</p>\n\n<pre><code>keytool -importcert -alias startssl -keystore \\\n    $JAVA_HOME/lib/security/cacerts -storepass changeit -file ca.der \n</code></pre>\n\n<p>This command asks if you really want to add the certificate, you shoudl type \"yes\".</p>\n\n<p><strong>And all together in a <code>Dockerfile</code>:</strong></p>\n\n<pre><code>FROM tomcat:8.0.47-jre7\n\nCOPY ca.pem ca.pem\n\nRUN openssl x509 -in ca.pem -inform pem -out ca.der -outform der\n\nRUN echo yes | keytool -importcert -alias startssl -keystore \\\n    /docker-java-home/jre/lib/security/cacerts -storepass changeit -file ca.der \n\nCOPY test.war /usr/local/tomcat/webapps/test.war\n\nWORKDIR /usr/local/tomcat/webapps\n</code></pre>\n\n<p>Note: if you already have certificate in <code>der</code> format you don't need <code>openssl</code> call, just copy the certificate directly. </p>\n\n<p>To verify that the certificate is really applied you can run the container, ssh into it </p>\n\n<pre><code>$ docker exec -it &lt;CONTAINER-ID&gt; bash\n</code></pre>\n\n<p>and check the keystore:</p>\n\n<pre><code>$ keytool -keystore \"/docker-java-home/jre/lib/security/cacerts\" -storepass changeit -list | grep &lt;NAME-OF-YOUR-CERT-AUTHORITY&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121986,"reputation":362,"user_id":315486,"display_name":"Tom Donohue"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1510092186,"creation_date":1510092186,"answer_id":47168184,"question_id":46923699,"body_markdown":"[For Java apps in RHEL/Centos images, you can use `update-ca-trust`][1], which will update your trust stores for you, from files you place into `/etc/pki/ca-trust`. It also accepts `.pem` files directly:\r\n\r\n    FROM ...\r\n\r\n    USER root\r\n    COPY yourcertificate.pem /etc/pki/ca-trust/source/anchors/yourcertificate.pem\r\n    RUN update-ca-trust\r\n\r\nThis will update `/etc/pki/java/cacerts` for you automatically, so that Java will trust the new certificate.\r\n\r\nOr, if your cert is hosted on a web server, then you can use `curl` to download it instead of copying the file - for example:\r\n\r\n    RUN curl -k https://badssl.com/certs/ca-untrusted-root.crt -o /etc/pki/ca-trust/source/anchors/ca-untrusted-root.crt &amp;&amp; \\\r\n        update-ca-trust\r\n\r\n\r\n  [1]: https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/security_guide/sec-shared-system-certificates","title":"How to add SSL certificates to Tomcat in Docker container?","body":"<p><a href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/security_guide/sec-shared-system-certificates\" rel=\"noreferrer\">For Java apps in RHEL/Centos images, you can use <code>update-ca-trust</code></a>, which will update your trust stores for you, from files you place into <code>/etc/pki/ca-trust</code>. It also accepts <code>.pem</code> files directly:</p>\n\n<pre><code>FROM ...\n\nUSER root\nCOPY yourcertificate.pem /etc/pki/ca-trust/source/anchors/yourcertificate.pem\nRUN update-ca-trust\n</code></pre>\n\n<p>This will update <code>/etc/pki/java/cacerts</code> for you automatically, so that Java will trust the new certificate.</p>\n\n<p>Or, if your cert is hosted on a web server, then you can use <code>curl</code> to download it instead of copying the file - for example:</p>\n\n<pre><code>RUN curl -k https://badssl.com/certs/ca-untrusted-root.crt -o /etc/pki/ca-trust/source/anchors/ca-untrusted-root.crt &amp;&amp; \\\n    update-ca-trust\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2348323,"reputation":13158,"user_id":2057902,"accept_rate":80,"display_name":"Sireesh Yarlagadda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585310735,"creation_date":1553622196,"answer_id":55363304,"question_id":46923699,"body_markdown":" =&gt; Use `classpath:/some/location/cerkey.jks` in case of Docker location, to refer the docker instance.\r\n\r\n=&gt; Use `file:/some/location/cerkey.jks` in case of host location, where the docker is running.\r\n\r\n\r\n*Hint: Value of server.ssl.key-store*","title":"How to add SSL certificates to Tomcat in Docker container?","body":"<p>=> Use <code>classpath:/some/location/cerkey.jks</code> in case of Docker location, to refer the docker instance.</p>\n\n<p>=> Use <code>file:/some/location/cerkey.jks</code> in case of host location, where the docker is running.</p>\n\n<p><em>Hint: Value of server.ssl.key-store</em></p>\n"},{"tags":[],"owner":{"account_id":447212,"reputation":3321,"user_id":840714,"accept_rate":62,"display_name":"Druckles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650623520,"creation_date":1650623520,"answer_id":71967317,"question_id":46923699,"body_markdown":"Building on [Sasha Shpota&#39;s answer](https://stackoverflow.com/a/46960270/840714), we can do the same using Docker Compose (without needing to create a new image):\r\n\r\n```yml\r\nservice:\r\n  image: tomcat:9.0.62-jdk17\r\n  volumes:\r\n    - ./myapp.war:/usr/local/tomcat/webapps/myapp.war\r\n    - /path/to/public.pem:/tmp/public.pem\r\n  command: bash -c &quot;keytool -importcert -alias startssl -keystore /usr/local/openjdk-17/lib/security/cacerts -storepass changeit -file /tmp/public.pem -noprompt &amp;&amp; catalina.sh run&quot;\r\n```\r\n\r\nThe disadvantage is that one has to add the certificate every time the container is recreated. On the other hand, the certificate can be changed without having to rebuild the image. Useful for development.","title":"How to add SSL certificates to Tomcat in Docker container?","body":"<p>Building on <a href=\"https://stackoverflow.com/a/46960270/840714\">Sasha Shpota's answer</a>, we can do the same using Docker Compose (without needing to create a new image):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>service:\n  image: tomcat:9.0.62-jdk17\n  volumes:\n    - ./myapp.war:/usr/local/tomcat/webapps/myapp.war\n    - /path/to/public.pem:/tmp/public.pem\n  command: bash -c &quot;keytool -importcert -alias startssl -keystore /usr/local/openjdk-17/lib/security/cacerts -storepass changeit -file /tmp/public.pem -noprompt &amp;&amp; catalina.sh run&quot;\n</code></pre>\n<p>The disadvantage is that one has to add the certificate every time the container is recreated. On the other hand, the certificate can be changed without having to rebuild the image. Useful for development.</p>\n"}],"owner":{"account_id":2887055,"reputation":241,"user_id":2476653,"display_name":"Gagan Singh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45259,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":4,"score":19,"last_activity_date":1650623520,"creation_date":1508903629,"question_id":46923699,"body_markdown":"I&#39;m new to Docker and trying to learn it. I&#39;m using Docker Quickstart Terminal on Windows 7.\r\nI&#39;ve a simple requirement where I&#39;m using Tomcat in a Docker container. My DockerFile is as following:\r\n\r\n\tFROM tomcat:8.0.47-jre7\r\n\tRUN cd /usr/local/tomcat/webapps\r\n\tCOPY test.war /usr/local/tomcat/webapps/test.war\r\n\r\nThen I issue simple build and run commands in the Docker console.\r\n\r\ntest.war is a Java web-service. This web-service internally calls other web-services on remote hosts using HTTPS.\r\nI&#39;ve the certs for the remote hosts.\r\n\r\nI tried several ways available on the internet to import or copy those certs to different locations as mentioned on different forums/blogs, but in vain. Whenever I use HTTPS to call the external web-service from test.war, it gives me SSL Handshake error.\r\n\r\nI also have a Java keystore. I tried to use Java also in my Docker file and tried to use the keystore, but again, in vain.\r\n\r\nWhen I use the same test.war on the tomcat installed directly on my machine, it works absolutely fine.\r\n\r\nCan someone help me by providing the steps to be able to import/use SSL certs/keystore in this scenario. Also, how can I import more than one certs?","title":"How to add SSL certificates to Tomcat in Docker container?","body":"<p>I'm new to Docker and trying to learn it. I'm using Docker Quickstart Terminal on Windows 7.\nI've a simple requirement where I'm using Tomcat in a Docker container. My DockerFile is as following:</p>\n\n<pre><code>FROM tomcat:8.0.47-jre7\nRUN cd /usr/local/tomcat/webapps\nCOPY test.war /usr/local/tomcat/webapps/test.war\n</code></pre>\n\n<p>Then I issue simple build and run commands in the Docker console.</p>\n\n<p>test.war is a Java web-service. This web-service internally calls other web-services on remote hosts using HTTPS.\nI've the certs for the remote hosts.</p>\n\n<p>I tried several ways available on the internet to import or copy those certs to different locations as mentioned on different forums/blogs, but in vain. Whenever I use HTTPS to call the external web-service from test.war, it gives me SSL Handshake error.</p>\n\n<p>I also have a Java keystore. I tried to use Java also in my Docker file and tried to use the keystore, but again, in vain.</p>\n\n<p>When I use the same test.war on the tomcat installed directly on my machine, it works absolutely fine.</p>\n\n<p>Can someone help me by providing the steps to be able to import/use SSL certs/keystore in this scenario. Also, how can I import more than one certs?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1650589921,"post_id":71962369,"comment_id":127160320,"body_markdown":"*&quot;Any ideas would be appreciated&quot;* - [Arrays](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html)","body":"<i>&quot;Any ideas would be appreciated&quot;</i> - <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">Arrays</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1650590334,"post_id":71962369,"comment_id":127160368,"body_markdown":"I&#39;d be more conscious of who is responsible for what. For example, is it really the `Square`&#39;s responsibility to update the state of the game?  Maybe it should be delegate that another party, ie when clicked, it would notify some kind of observer/delegate that the square was clicked and then that delegate would deal with the logic of updating the state - this all falls into the concept of model-view-controller and &quot;single responsibility principle&quot;","body":"I&#39;d be more conscious of who is responsible for what. For example, is it really the <code>Square</code>&#39;s responsibility to update the state of the game?  Maybe it should be delegate that another party, ie when clicked, it would notify some kind of observer/delegate that the square was clicked and then that delegate would deal with the logic of updating the state - this all falls into the concept of model-view-controller and &quot;single responsibility principle&quot;"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1650590420,"post_id":71962369,"comment_id":127160386,"body_markdown":"`extends JFrame`, but then you create another instance of `JFrame` - the code is already confusing, this is just making it worse","body":"<code>extends JFrame</code>, but then you create another instance of <code>JFrame</code> - the code is already confusing, this is just making it worse"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1650590802,"post_id":71962369,"comment_id":127160450,"body_markdown":"The last move isn&#39;t getting printing because `live` is now `false`.  Also, the `Square` should be painting it&#39;s OWN state, not the state based on the current game.  The fact that it&#39;s x or o&#39;s turn should be irrelevant to it","body":"The last move isn&#39;t getting printing because <code>live</code> is now <code>false</code>.  Also, the <code>Square</code> should be painting it&#39;s OWN state, not the state based on the current game.  The fact that it&#39;s x or o&#39;s turn should be irrelevant to it"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650623480,"creation_date":1650592571,"answer_id":71962641,"question_id":71962369,"body_markdown":"You, really, really, need to take a look at things like:\r\n\r\n* [Arrays](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html)\r\n* [Model-View-Controller](https://www.tutorialspoint.com/design_pattern/mvc_pattern.htm) - I mean, seriously, there is a LOT of information about this available on line, just do some searching\r\n* [Single Responsibility Principle](https://www.oodesign.com/single-responsibility-principle.html)\r\n\r\nThe last move isn&#39;t getting painted because `live` is now `false`. Because `Square` is relying on this (and other) external state, it doesn&#39;t update.  This really is just bad design.  `Square` should be self contained and independent of anything else, then `paintComponent` would simply paint that state - it doesn&#39;t care who&#39;s go it is, does it represent it a empty cell, X or 0 - that&#39;s all it cares about.\r\n\r\nHaving said that, you should probably also take a look at:\r\n\r\n* [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html)\r\n* [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html)\r\n\r\nFor instance, `repaint` doesn&#39;t repaint the component immediately, this is a request to the paint manager to schedule an update for this component on the next paint pass, which won&#39;t occur (at the very least) until (in this case), the `mouseClicked` method exists.  This is why `paintComponent` is effected by the state change of `live`.\r\n\r\nWhen you click &quot;New&quot;, you need to completely re-set that state, this includes setting up who&#39;s turn it is (in this case `x`s - because this confused the &#128169; out of me and makes your code read backwards, it&#39;s &quot;x&quot;&#39;s turn but you&#39;re updating the state of &quot;o&quot; &#128528;), reseting all the `states` back to `e` and forcing the cells to repaint...\r\n\r\n    if (e.getSource() == newgame) {\r\n        live = true;\r\n        xturn = true;\r\n        for (int index = 0; index &lt; 9; index++) {\r\n            this.states.put(index + 1, &#39;e&#39;);\r\n        }\r\n        this.turn.setText(&quot;X&#39;s Turn&quot;);\r\n        s1.repaint();\r\n        s2.repaint();\r\n        s3.repaint();\r\n        s4.repaint();\r\n        s5.repaint();\r\n        s6.repaint();\r\n        s7.repaint();\r\n        s8.repaint();\r\n        s9.repaint();\r\n    }\r\n\r\nRemember where I said, learn about arrays ... this is why.\r\n\r\n# Runnable example...\r\n\r\n\r\n    import java.awt.BasicStroke;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Shape;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.geom.Ellipse2D;\r\n    import java.awt.geom.Line2D;\r\n    import java.util.HashMap;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingConstants;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TicTacToe());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TicTacToe extends JPanel implements ActionListener {\r\n            JPanel northpanel = new JPanel();\r\n            JPanel centerpanel = new JPanel();\r\n            JPanel eastborder = new JPanel();\r\n            JPanel westborder = new JPanel();\r\n            JPanel southborder = new JPanel();\r\n            JButton newgame = new JButton();\r\n            JLabel turn = new JLabel();\r\n            JLabel score = new JLabel();\r\n            boolean xturn;\r\n            boolean live = false;\r\n            // Arrays, you must learn arrays\r\n            Square s1 = new Square();\r\n            Square s2 = new Square();\r\n            Square s3 = new Square();\r\n            Square s4 = new Square();\r\n            Square s5 = new Square();\r\n            Square s6 = new Square();\r\n            Square s7 = new Square();\r\n            Square s8 = new Square();\r\n            Square s9 = new Square();\r\n            HashMap&lt;Square, Integer&gt; indices = new HashMap&lt;&gt;();\r\n            HashMap&lt;Integer, Character&gt; states = new HashMap&lt;&gt;();\r\n            JLabel xwins = new JLabel();\r\n            JLabel owins = new JLabel();\r\n            JLabel draws = new JLabel();\r\n            int oScore = 0;\r\n            int xScore = 0;\r\n            int drawScore = 0;\r\n\r\n            public TicTacToe() {\r\n                this.setLayout(new BorderLayout());\r\n                this.add(northpanel, BorderLayout.NORTH);\r\n                this.add(centerpanel, BorderLayout.CENTER);\r\n                this.add(eastborder, BorderLayout.EAST);\r\n                this.add(westborder, BorderLayout.WEST);\r\n                this.add(southborder, BorderLayout.SOUTH);\r\n\r\n                this.northpanel.setBackground(Color.DARK_GRAY);\r\n                this.northpanel.setVisible(true);\r\n                this.northpanel.setPreferredSize(new Dimension(100, 50));\r\n                this.northpanel.setLayout(new GridLayout(1, 3));\r\n                this.northpanel.add(newgame);\r\n                this.northpanel.add(turn);\r\n                this.northpanel.add(score);\r\n\r\n                this.centerpanel.setBackground(Color.BLUE);\r\n                this.centerpanel.setVisible(true);\r\n                this.centerpanel.setLayout(new GridLayout(3, 3));\r\n\r\n                this.eastborder.setVisible(true);\r\n                this.eastborder.setBackground(Color.BLACK);\r\n                this.eastborder.setPreferredSize(new Dimension(1, 100));\r\n\r\n                this.westborder.setVisible(true);\r\n                this.westborder.setBackground(Color.BLACK);\r\n                this.westborder.setPreferredSize(new Dimension(1, 100));\r\n\r\n                this.southborder.setVisible(true);\r\n                this.southborder.setBackground(Color.BLACK);\r\n                this.southborder.setPreferredSize(new Dimension(100, 1));\r\n\r\n                this.newgame.addActionListener(this);\r\n                this.newgame.setVisible(true);\r\n                this.newgame.setText(&quot;New Game&quot;);\r\n                this.newgame.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 20));\r\n                this.newgame.setForeground(Color.WHITE);\r\n                this.newgame.setFocusable(false);\r\n                this.newgame.setBackground(Color.DARK_GRAY);\r\n                this.newgame.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n                this.newgame.setHorizontalAlignment(SwingConstants.CENTER);\r\n\r\n                this.turn.setVisible(true);\r\n                this.turn.setOpaque(true);\r\n                this.turn.setBackground(Color.DARK_GRAY);\r\n                this.turn.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n                this.turn.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 20));\r\n                this.turn.setForeground(Color.WHITE);\r\n                this.turn.setHorizontalAlignment(SwingConstants.CENTER);\r\n\r\n                this.score.setVisible(true);\r\n                this.score.setOpaque(true);\r\n                this.score.setBackground(Color.DARK_GRAY);\r\n                this.score.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n                this.score.setLayout(new GridLayout(3, 1));\r\n                this.score.add(xwins);\r\n                this.score.add(owins);\r\n                this.score.add(draws);\r\n\r\n                this.xwins.setHorizontalAlignment(SwingConstants.CENTER);\r\n                this.xwins.setBackground(Color.DARK_GRAY);\r\n                this.xwins.setForeground(Color.WHITE);\r\n                this.xwins.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 14));\r\n                this.xwins.setVisible(true);\r\n                this.xwins.setOpaque(true);\r\n                this.xwins.setText(&quot;X: &quot; + xScore);\r\n\r\n                this.owins.setHorizontalAlignment(SwingConstants.CENTER);\r\n                this.owins.setBackground(Color.DARK_GRAY);\r\n                this.owins.setForeground(Color.WHITE);\r\n                this.owins.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 14));\r\n                this.owins.setVisible(true);\r\n                this.owins.setOpaque(true);\r\n                this.owins.setText(&quot;O: &quot; + oScore);\r\n\r\n                this.draws.setHorizontalAlignment(SwingConstants.CENTER);\r\n                this.draws.setBackground(Color.DARK_GRAY);\r\n                this.draws.setForeground(Color.WHITE);\r\n                this.draws.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 14));\r\n                this.draws.setVisible(true);\r\n                this.draws.setOpaque(true);\r\n                this.draws.setText(&quot;D: &quot; + drawScore);\r\n\r\n                // Okay, this is kind of werid (to me)\r\n                // Alot of this could be maintained by the Square itself (ie\r\n                // I represented cell X and my value is Y)\r\n                // Then you&#39;d just use some kind of model and observer patterns\r\n                // to interactor between the model and the views\r\n                this.indices.put(s1, 1);\r\n                this.indices.put(s2, 2);\r\n                this.indices.put(s3, 3);\r\n                this.indices.put(s4, 4);\r\n                this.indices.put(s5, 5);\r\n                this.indices.put(s6, 6);\r\n                this.indices.put(s7, 7);\r\n                this.indices.put(s8, 8);\r\n                this.indices.put(s9, 9);\r\n                // Oh, and you could probaly do this with a single ArrayList, if\r\n                // Square was maintaining it&#39;s own state :/\r\n                this.states.put(1, &#39;e&#39;);\r\n                this.states.put(2, &#39;e&#39;);\r\n                this.states.put(3, &#39;e&#39;);\r\n                this.states.put(4, &#39;e&#39;);\r\n                this.states.put(5, &#39;e&#39;);\r\n                this.states.put(6, &#39;e&#39;);\r\n                this.states.put(7, &#39;e&#39;);\r\n                this.states.put(8, &#39;e&#39;);\r\n                this.states.put(9, &#39;e&#39;);\r\n\r\n            }\r\n\r\n            public void winCheck() {\r\n                // Okay, take a look at https://stackoverflow.com/questions/32770321/connect-4-check-for-a-win-algorithm/32771401#32771401\r\n                // it&#39;s related to connect four, but realstically, it can be easily adapted to tic-tac-toe\r\n                boolean row1 = states.get(1).equals(states.get(2)) &amp;&amp; states.get(2).equals(states.get(3)) &amp;&amp; !states.get(1).equals(&#39;e&#39;);\r\n                boolean row2 = states.get(4).equals(states.get(5)) &amp;&amp; states.get(5).equals(states.get(6)) &amp;&amp; !states.get(4).equals(&#39;e&#39;);\r\n                boolean row3 = states.get(7).equals(states.get(8)) &amp;&amp; states.get(8).equals(states.get(9)) &amp;&amp; !states.get(7).equals(&#39;e&#39;);\r\n                boolean column1 = states.get(1).equals(states.get(4)) &amp;&amp; states.get(4).equals(states.get(7)) &amp;&amp; !states.get(1).equals(&#39;e&#39;);\r\n                boolean column2 = states.get(2).equals(states.get(5)) &amp;&amp; states.get(5).equals(states.get(8)) &amp;&amp; !states.get(2).equals(&#39;e&#39;);\r\n                boolean column3 = states.get(3).equals(states.get(6)) &amp;&amp; states.get(6).equals(states.get(9)) &amp;&amp; !states.get(3).equals(&#39;e&#39;);\r\n                boolean diagonal1 = states.get(1).equals(states.get(5)) &amp;&amp; states.get(5).equals(states.get(9)) &amp;&amp; !states.get(1).equals(&#39;e&#39;);\r\n                boolean diagonal2 = states.get(7).equals(states.get(5)) &amp;&amp; states.get(5).equals(states.get(3)) &amp;&amp; !states.get(7).equals(&#39;e&#39;);\r\n                boolean full = !states.get(1).equals(&#39;e&#39;) &amp;&amp; !states.get(2).equals(&#39;e&#39;) &amp;&amp; !states.get(3).equals(&#39;e&#39;) &amp;&amp; !states.get(4).equals(&#39;e&#39;) &amp;&amp; !states.get(5).equals(&#39;e&#39;) &amp;&amp; !states.get(6).equals(&#39;e&#39;) &amp;&amp; !states.get(7).equals(&#39;e&#39;) &amp;&amp; !states.get(8).equals(&#39;e&#39;) &amp;&amp; !states.get(9).equals(&#39;e&#39;);\r\n                boolean win = row1 || row2 || row3 || column1 || column2 || column3 || diagonal1 || diagonal2;\r\n\r\n                if (live) {\r\n                    if (row1) {\r\n                        if (states.get(1).equals(&#39;x&#39;)) {\r\n                            this.xWin();\r\n                            return;\r\n                        }\r\n                        if (states.get(1).equals(&#39;o&#39;)) {\r\n                            this.oWin();\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (row2) {\r\n                        if (states.get(4).equals(&#39;x&#39;)) {\r\n                            this.xWin();\r\n                            return;\r\n                        }\r\n                        if (states.get(4).equals(&#39;o&#39;)) {\r\n                            this.oWin();\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (row3) {\r\n                        if (states.get(7).equals(&#39;x&#39;)) {\r\n                            this.xWin();\r\n                            return;\r\n                        }\r\n                        if (states.get(7).equals(&#39;o&#39;)) {\r\n                            this.oWin();\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (column1) {\r\n                        if (states.get(1).equals(&#39;x&#39;)) {\r\n                            this.xWin();\r\n                            return;\r\n                        }\r\n                        if (states.get(1).equals(&#39;o&#39;)) {\r\n                            this.oWin();\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (column2) {\r\n                        if (states.get(2).equals(&#39;x&#39;)) {\r\n                            this.xWin();\r\n                            return;\r\n                        }\r\n                        if (states.get(2).equals(&#39;o&#39;)) {\r\n                            this.oWin();\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (column3) {\r\n                        if (states.get(3).equals(&#39;x&#39;)) {\r\n                            this.xWin();\r\n                            return;\r\n                        }\r\n                        if (states.get(3).equals(&#39;o&#39;)) {\r\n                            this.oWin();\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (diagonal1) {\r\n                        if (states.get(1).equals(&#39;x&#39;)) {\r\n                            this.xWin();\r\n                            return;\r\n                        }\r\n                        if (states.get(1).equals(&#39;o&#39;)) {\r\n                            this.oWin();\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (diagonal2) {\r\n                        if (states.get(7).equals(&#39;x&#39;)) {\r\n                            this.xWin();\r\n                            return;\r\n                        }\r\n                        if (states.get(7).equals(&#39;o&#39;)) {\r\n                            this.oWin();\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (full &amp;&amp; !win) {\r\n                        drawScore++;\r\n                        this.xwins.setText(&quot;X: &quot; + xScore);\r\n                        this.owins.setText(&quot;O: &quot; + oScore);\r\n                        this.draws.setText(&quot;D: &quot; + drawScore);\r\n                        live = false;\r\n                    }\r\n                }\r\n            }\r\n\r\n            public void xWin() {\r\n                xScore++;\r\n                this.xwins.setText(&quot;X: &quot; + xScore);\r\n                this.owins.setText(&quot;O: &quot; + oScore);\r\n                this.draws.setText(&quot;D: &quot; + drawScore);\r\n                live = false;\r\n                JOptionPane.showMessageDialog(this, &quot;O wins&quot;, &quot;Winner, winner, chicken dinner&quot;, JOptionPane.PLAIN_MESSAGE);\r\n            }\r\n\r\n            public void oWin() {\r\n                oScore++;\r\n                this.xwins.setText(&quot;X: &quot; + xScore);\r\n                this.owins.setText(&quot;O: &quot; + oScore);\r\n                this.draws.setText(&quot;D: &quot; + drawScore);\r\n                live = false;\r\n                JOptionPane.showMessageDialog(this, &quot;X wins&quot;, &quot;Winner, winner, chicken dinner&quot;, JOptionPane.PLAIN_MESSAGE);\r\n            }\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (e.getSource() == newgame) {\r\n                    live = true;\r\n                    xturn = true;\r\n                    for (int index = 0; index &lt; 9; index++) {\r\n                        this.states.put(index + 1, &#39;e&#39;);\r\n                    }\r\n                    this.turn.setText(&quot;X&#39;s Turn&quot;);\r\n                    s1.repaint();\r\n                    s2.repaint();\r\n                    s3.repaint();\r\n                    s4.repaint();\r\n                    s5.repaint();\r\n                    s6.repaint();\r\n                    s7.repaint();\r\n                    s8.repaint();\r\n                    s9.repaint();\r\n                }\r\n            }\r\n\r\n            class Square extends JPanel implements MouseListener {\r\n                Square() {\r\n                    centerpanel.add(this);\r\n                    this.addMouseListener(this);\r\n                    this.setBackground(Color.BLUE);\r\n                    this.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n                    this.setVisible(true);\r\n                }\r\n\r\n                @Override\r\n                public void paintComponent(Graphics g) {\r\n                    super.paintComponent(g);\r\n                    ((Graphics2D) g).setPaint(Color.RED);\r\n                    ((Graphics2D) g).setStroke(new BasicStroke(5));\r\n\r\n                    if (&#39;o&#39; == states.get(indices.get(this))) {\r\n                        double radius = Math.min(getWidth(), getHeight()) / 2.0;\r\n                        double x = (getWidth() / 2) - radius;\r\n                        double y = (getHeight() / 2) - radius;\r\n                        Shape o = new Ellipse2D.Double(x, y, radius, radius);\r\n                        ((Graphics2D) g).draw(o);\r\n                    } else if (&#39;x&#39; == states.get(indices.get(this))) {\r\n                        Shape x1 = new Line2D.Double(0, 0, this.getWidth(), this.getHeight());\r\n                        Shape x2 = new Line2D.Double(0, this.getHeight(), this.getWidth(), 0);\r\n                        ((Graphics2D) g).draw(x1);\r\n                        ((Graphics2D) g).draw(x2);\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void mouseClicked(MouseEvent e) {\r\n                    if (live &amp;&amp; states.get(indices.get(this)).equals(&#39;e&#39;)) {\r\n                        if (xturn) {\r\n                            turn.setText(&quot;X&#39;s Turn&quot;);\r\n                            states.replace(indices.get(this), &#39;x&#39;);\r\n                        } else {\r\n                            turn.setText(&quot;O&#39;s Turn&quot;);\r\n                            states.replace(indices.get(this), &#39;o&#39;);\r\n                        }\r\n                        repaint();\r\n                        winCheck();\r\n                        xturn = !xturn;\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void mousePressed(MouseEvent e) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void mouseReleased(MouseEvent e) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void mouseEntered(MouseEvent e) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void mouseExited(MouseEvent e) {\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"TicTacToe game won&#39;t paint winning move and board won&#39;t reset after new game is started?","body":"<p>You, really, really, need to take a look at things like:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">Arrays</a></li>\n<li><a href=\"https://www.tutorialspoint.com/design_pattern/mvc_pattern.htm\" rel=\"nofollow noreferrer\">Model-View-Controller</a> - I mean, seriously, there is a LOT of information about this available on line, just do some searching</li>\n<li><a href=\"https://www.oodesign.com/single-responsibility-principle.html\" rel=\"nofollow noreferrer\">Single Responsibility Principle</a></li>\n</ul>\n<p>The last move isn't getting painted because <code>live</code> is now <code>false</code>. Because <code>Square</code> is relying on this (and other) external state, it doesn't update.  This really is just bad design.  <code>Square</code> should be self contained and independent of anything else, then <code>paintComponent</code> would simply paint that state - it doesn't care who's go it is, does it represent it a empty cell, X or 0 - that's all it cares about.</p>\n<p>Having said that, you should probably also take a look at:</p>\n<ul>\n<li><a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a></li>\n</ul>\n<p>For instance, <code>repaint</code> doesn't repaint the component immediately, this is a request to the paint manager to schedule an update for this component on the next paint pass, which won't occur (at the very least) until (in this case), the <code>mouseClicked</code> method exists.  This is why <code>paintComponent</code> is effected by the state change of <code>live</code>.</p>\n<p>When you click &quot;New&quot;, you need to completely re-set that state, this includes setting up who's turn it is (in this case <code>x</code>s - because this confused the 💩 out of me and makes your code read backwards, it's &quot;x&quot;'s turn but you're updating the state of &quot;o&quot; 😐), reseting all the <code>states</code> back to <code>e</code> and forcing the cells to repaint...</p>\n<pre><code>if (e.getSource() == newgame) {\n    live = true;\n    xturn = true;\n    for (int index = 0; index &lt; 9; index++) {\n        this.states.put(index + 1, 'e');\n    }\n    this.turn.setText(&quot;X's Turn&quot;);\n    s1.repaint();\n    s2.repaint();\n    s3.repaint();\n    s4.repaint();\n    s5.repaint();\n    s6.repaint();\n    s7.repaint();\n    s8.repaint();\n    s9.repaint();\n}\n</code></pre>\n<p>Remember where I said, learn about arrays ... this is why.</p>\n<h1>Runnable example...</h1>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridLayout;\nimport java.awt.Shape;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.geom.Line2D;\nimport java.util.HashMap;\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.SwingConstants;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TicTacToe());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TicTacToe extends JPanel implements ActionListener {\n        JPanel northpanel = new JPanel();\n        JPanel centerpanel = new JPanel();\n        JPanel eastborder = new JPanel();\n        JPanel westborder = new JPanel();\n        JPanel southborder = new JPanel();\n        JButton newgame = new JButton();\n        JLabel turn = new JLabel();\n        JLabel score = new JLabel();\n        boolean xturn;\n        boolean live = false;\n        // Arrays, you must learn arrays\n        Square s1 = new Square();\n        Square s2 = new Square();\n        Square s3 = new Square();\n        Square s4 = new Square();\n        Square s5 = new Square();\n        Square s6 = new Square();\n        Square s7 = new Square();\n        Square s8 = new Square();\n        Square s9 = new Square();\n        HashMap&lt;Square, Integer&gt; indices = new HashMap&lt;&gt;();\n        HashMap&lt;Integer, Character&gt; states = new HashMap&lt;&gt;();\n        JLabel xwins = new JLabel();\n        JLabel owins = new JLabel();\n        JLabel draws = new JLabel();\n        int oScore = 0;\n        int xScore = 0;\n        int drawScore = 0;\n\n        public TicTacToe() {\n            this.setLayout(new BorderLayout());\n            this.add(northpanel, BorderLayout.NORTH);\n            this.add(centerpanel, BorderLayout.CENTER);\n            this.add(eastborder, BorderLayout.EAST);\n            this.add(westborder, BorderLayout.WEST);\n            this.add(southborder, BorderLayout.SOUTH);\n\n            this.northpanel.setBackground(Color.DARK_GRAY);\n            this.northpanel.setVisible(true);\n            this.northpanel.setPreferredSize(new Dimension(100, 50));\n            this.northpanel.setLayout(new GridLayout(1, 3));\n            this.northpanel.add(newgame);\n            this.northpanel.add(turn);\n            this.northpanel.add(score);\n\n            this.centerpanel.setBackground(Color.BLUE);\n            this.centerpanel.setVisible(true);\n            this.centerpanel.setLayout(new GridLayout(3, 3));\n\n            this.eastborder.setVisible(true);\n            this.eastborder.setBackground(Color.BLACK);\n            this.eastborder.setPreferredSize(new Dimension(1, 100));\n\n            this.westborder.setVisible(true);\n            this.westborder.setBackground(Color.BLACK);\n            this.westborder.setPreferredSize(new Dimension(1, 100));\n\n            this.southborder.setVisible(true);\n            this.southborder.setBackground(Color.BLACK);\n            this.southborder.setPreferredSize(new Dimension(100, 1));\n\n            this.newgame.addActionListener(this);\n            this.newgame.setVisible(true);\n            this.newgame.setText(&quot;New Game&quot;);\n            this.newgame.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 20));\n            this.newgame.setForeground(Color.WHITE);\n            this.newgame.setFocusable(false);\n            this.newgame.setBackground(Color.DARK_GRAY);\n            this.newgame.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n            this.newgame.setHorizontalAlignment(SwingConstants.CENTER);\n\n            this.turn.setVisible(true);\n            this.turn.setOpaque(true);\n            this.turn.setBackground(Color.DARK_GRAY);\n            this.turn.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n            this.turn.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 20));\n            this.turn.setForeground(Color.WHITE);\n            this.turn.setHorizontalAlignment(SwingConstants.CENTER);\n\n            this.score.setVisible(true);\n            this.score.setOpaque(true);\n            this.score.setBackground(Color.DARK_GRAY);\n            this.score.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n            this.score.setLayout(new GridLayout(3, 1));\n            this.score.add(xwins);\n            this.score.add(owins);\n            this.score.add(draws);\n\n            this.xwins.setHorizontalAlignment(SwingConstants.CENTER);\n            this.xwins.setBackground(Color.DARK_GRAY);\n            this.xwins.setForeground(Color.WHITE);\n            this.xwins.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 14));\n            this.xwins.setVisible(true);\n            this.xwins.setOpaque(true);\n            this.xwins.setText(&quot;X: &quot; + xScore);\n\n            this.owins.setHorizontalAlignment(SwingConstants.CENTER);\n            this.owins.setBackground(Color.DARK_GRAY);\n            this.owins.setForeground(Color.WHITE);\n            this.owins.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 14));\n            this.owins.setVisible(true);\n            this.owins.setOpaque(true);\n            this.owins.setText(&quot;O: &quot; + oScore);\n\n            this.draws.setHorizontalAlignment(SwingConstants.CENTER);\n            this.draws.setBackground(Color.DARK_GRAY);\n            this.draws.setForeground(Color.WHITE);\n            this.draws.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 14));\n            this.draws.setVisible(true);\n            this.draws.setOpaque(true);\n            this.draws.setText(&quot;D: &quot; + drawScore);\n\n            // Okay, this is kind of werid (to me)\n            // Alot of this could be maintained by the Square itself (ie\n            // I represented cell X and my value is Y)\n            // Then you'd just use some kind of model and observer patterns\n            // to interactor between the model and the views\n            this.indices.put(s1, 1);\n            this.indices.put(s2, 2);\n            this.indices.put(s3, 3);\n            this.indices.put(s4, 4);\n            this.indices.put(s5, 5);\n            this.indices.put(s6, 6);\n            this.indices.put(s7, 7);\n            this.indices.put(s8, 8);\n            this.indices.put(s9, 9);\n            // Oh, and you could probaly do this with a single ArrayList, if\n            // Square was maintaining it's own state :/\n            this.states.put(1, 'e');\n            this.states.put(2, 'e');\n            this.states.put(3, 'e');\n            this.states.put(4, 'e');\n            this.states.put(5, 'e');\n            this.states.put(6, 'e');\n            this.states.put(7, 'e');\n            this.states.put(8, 'e');\n            this.states.put(9, 'e');\n\n        }\n\n        public void winCheck() {\n            // Okay, take a look at https://stackoverflow.com/questions/32770321/connect-4-check-for-a-win-algorithm/32771401#32771401\n            // it's related to connect four, but realstically, it can be easily adapted to tic-tac-toe\n            boolean row1 = states.get(1).equals(states.get(2)) &amp;&amp; states.get(2).equals(states.get(3)) &amp;&amp; !states.get(1).equals('e');\n            boolean row2 = states.get(4).equals(states.get(5)) &amp;&amp; states.get(5).equals(states.get(6)) &amp;&amp; !states.get(4).equals('e');\n            boolean row3 = states.get(7).equals(states.get(8)) &amp;&amp; states.get(8).equals(states.get(9)) &amp;&amp; !states.get(7).equals('e');\n            boolean column1 = states.get(1).equals(states.get(4)) &amp;&amp; states.get(4).equals(states.get(7)) &amp;&amp; !states.get(1).equals('e');\n            boolean column2 = states.get(2).equals(states.get(5)) &amp;&amp; states.get(5).equals(states.get(8)) &amp;&amp; !states.get(2).equals('e');\n            boolean column3 = states.get(3).equals(states.get(6)) &amp;&amp; states.get(6).equals(states.get(9)) &amp;&amp; !states.get(3).equals('e');\n            boolean diagonal1 = states.get(1).equals(states.get(5)) &amp;&amp; states.get(5).equals(states.get(9)) &amp;&amp; !states.get(1).equals('e');\n            boolean diagonal2 = states.get(7).equals(states.get(5)) &amp;&amp; states.get(5).equals(states.get(3)) &amp;&amp; !states.get(7).equals('e');\n            boolean full = !states.get(1).equals('e') &amp;&amp; !states.get(2).equals('e') &amp;&amp; !states.get(3).equals('e') &amp;&amp; !states.get(4).equals('e') &amp;&amp; !states.get(5).equals('e') &amp;&amp; !states.get(6).equals('e') &amp;&amp; !states.get(7).equals('e') &amp;&amp; !states.get(8).equals('e') &amp;&amp; !states.get(9).equals('e');\n            boolean win = row1 || row2 || row3 || column1 || column2 || column3 || diagonal1 || diagonal2;\n\n            if (live) {\n                if (row1) {\n                    if (states.get(1).equals('x')) {\n                        this.xWin();\n                        return;\n                    }\n                    if (states.get(1).equals('o')) {\n                        this.oWin();\n                        return;\n                    }\n                }\n                if (row2) {\n                    if (states.get(4).equals('x')) {\n                        this.xWin();\n                        return;\n                    }\n                    if (states.get(4).equals('o')) {\n                        this.oWin();\n                        return;\n                    }\n                }\n                if (row3) {\n                    if (states.get(7).equals('x')) {\n                        this.xWin();\n                        return;\n                    }\n                    if (states.get(7).equals('o')) {\n                        this.oWin();\n                        return;\n                    }\n                }\n                if (column1) {\n                    if (states.get(1).equals('x')) {\n                        this.xWin();\n                        return;\n                    }\n                    if (states.get(1).equals('o')) {\n                        this.oWin();\n                        return;\n                    }\n                }\n                if (column2) {\n                    if (states.get(2).equals('x')) {\n                        this.xWin();\n                        return;\n                    }\n                    if (states.get(2).equals('o')) {\n                        this.oWin();\n                        return;\n                    }\n                }\n                if (column3) {\n                    if (states.get(3).equals('x')) {\n                        this.xWin();\n                        return;\n                    }\n                    if (states.get(3).equals('o')) {\n                        this.oWin();\n                        return;\n                    }\n                }\n                if (diagonal1) {\n                    if (states.get(1).equals('x')) {\n                        this.xWin();\n                        return;\n                    }\n                    if (states.get(1).equals('o')) {\n                        this.oWin();\n                        return;\n                    }\n                }\n                if (diagonal2) {\n                    if (states.get(7).equals('x')) {\n                        this.xWin();\n                        return;\n                    }\n                    if (states.get(7).equals('o')) {\n                        this.oWin();\n                        return;\n                    }\n                }\n                if (full &amp;&amp; !win) {\n                    drawScore++;\n                    this.xwins.setText(&quot;X: &quot; + xScore);\n                    this.owins.setText(&quot;O: &quot; + oScore);\n                    this.draws.setText(&quot;D: &quot; + drawScore);\n                    live = false;\n                }\n            }\n        }\n\n        public void xWin() {\n            xScore++;\n            this.xwins.setText(&quot;X: &quot; + xScore);\n            this.owins.setText(&quot;O: &quot; + oScore);\n            this.draws.setText(&quot;D: &quot; + drawScore);\n            live = false;\n            JOptionPane.showMessageDialog(this, &quot;O wins&quot;, &quot;Winner, winner, chicken dinner&quot;, JOptionPane.PLAIN_MESSAGE);\n        }\n\n        public void oWin() {\n            oScore++;\n            this.xwins.setText(&quot;X: &quot; + xScore);\n            this.owins.setText(&quot;O: &quot; + oScore);\n            this.draws.setText(&quot;D: &quot; + drawScore);\n            live = false;\n            JOptionPane.showMessageDialog(this, &quot;X wins&quot;, &quot;Winner, winner, chicken dinner&quot;, JOptionPane.PLAIN_MESSAGE);\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if (e.getSource() == newgame) {\n                live = true;\n                xturn = true;\n                for (int index = 0; index &lt; 9; index++) {\n                    this.states.put(index + 1, 'e');\n                }\n                this.turn.setText(&quot;X's Turn&quot;);\n                s1.repaint();\n                s2.repaint();\n                s3.repaint();\n                s4.repaint();\n                s5.repaint();\n                s6.repaint();\n                s7.repaint();\n                s8.repaint();\n                s9.repaint();\n            }\n        }\n\n        class Square extends JPanel implements MouseListener {\n            Square() {\n                centerpanel.add(this);\n                this.addMouseListener(this);\n                this.setBackground(Color.BLUE);\n                this.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n                this.setVisible(true);\n            }\n\n            @Override\n            public void paintComponent(Graphics g) {\n                super.paintComponent(g);\n                ((Graphics2D) g).setPaint(Color.RED);\n                ((Graphics2D) g).setStroke(new BasicStroke(5));\n\n                if ('o' == states.get(indices.get(this))) {\n                    double radius = Math.min(getWidth(), getHeight()) / 2.0;\n                    double x = (getWidth() / 2) - radius;\n                    double y = (getHeight() / 2) - radius;\n                    Shape o = new Ellipse2D.Double(x, y, radius, radius);\n                    ((Graphics2D) g).draw(o);\n                } else if ('x' == states.get(indices.get(this))) {\n                    Shape x1 = new Line2D.Double(0, 0, this.getWidth(), this.getHeight());\n                    Shape x2 = new Line2D.Double(0, this.getHeight(), this.getWidth(), 0);\n                    ((Graphics2D) g).draw(x1);\n                    ((Graphics2D) g).draw(x2);\n                }\n            }\n\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                if (live &amp;&amp; states.get(indices.get(this)).equals('e')) {\n                    if (xturn) {\n                        turn.setText(&quot;X's Turn&quot;);\n                        states.replace(indices.get(this), 'x');\n                    } else {\n                        turn.setText(&quot;O's Turn&quot;);\n                        states.replace(indices.get(this), 'o');\n                    }\n                    repaint();\n                    winCheck();\n                    xturn = !xturn;\n                }\n            }\n\n            @Override\n            public void mousePressed(MouseEvent e) {\n\n            }\n\n            @Override\n            public void mouseReleased(MouseEvent e) {\n\n            }\n\n            @Override\n            public void mouseEntered(MouseEvent e) {\n\n            }\n\n            @Override\n            public void mouseExited(MouseEvent e) {\n\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24185874,"reputation":21,"user_id":18145777,"display_name":"bigboner69"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650623480,"creation_date":1650589377,"question_id":71962369,"body_markdown":"I&#39;m working on making a tic tac toe game in Java, and when you place a winning move the winning move won&#39;t actually get painted. Also, when you try to play another round, the new game button won&#39;t reset the board and clear all the previously painted x&#39;s and o&#39;s. Any ideas would be appreciated, as I&#39;ve been working on just trying to finish this for hours, and I haven&#39;t gotten anywhere.\r\n```\r\npackage com.company;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.awt.geom.Ellipse2D;\r\nimport java.awt.geom.Line2D;\r\nimport java.util.HashMap;\r\n\r\npublic class TTTGame {\r\n    public static void main(String[] args) {\r\n        new TicTacToe();\r\n    }\r\n}\r\n\r\nclass TicTacToe extends JFrame implements ActionListener {\r\n    JFrame frame = new JFrame();\r\n    JPanel northpanel = new JPanel();\r\n    JPanel centerpanel = new JPanel();\r\n    JPanel eastborder = new JPanel();\r\n    JPanel westborder = new JPanel();\r\n    JPanel southborder = new JPanel();\r\n    JButton newgame = new JButton();\r\n    JLabel turn = new JLabel();\r\n    JLabel score = new JLabel();\r\n    boolean xturn;\r\n    boolean live = false;\r\n    Square s1 = new Square();\r\n    Square s2 = new Square();\r\n    Square s3 = new Square();\r\n    Square s4 = new Square();\r\n    Square s5 = new Square();\r\n    Square s6 = new Square();\r\n    Square s7 = new Square();\r\n    Square s8 = new Square();\r\n    Square s9 = new Square();\r\n    HashMap&lt;Square,Integer&gt; indices = new HashMap&lt;&gt;();\r\n    HashMap&lt;Integer,Character&gt; states = new HashMap&lt;&gt;();\r\n    JLabel xwins = new JLabel();\r\n    JLabel owins = new JLabel();\r\n    JLabel draws = new JLabel();\r\n    int oScore = 0;\r\n    int xScore = 0;\r\n    int drawScore = 0;\r\n\r\n    public TicTacToe() {\r\n\r\n        this.frame.setLayout(new BorderLayout());\r\n        this.frame.add(northpanel, BorderLayout.NORTH);\r\n        this.frame.add(centerpanel, BorderLayout.CENTER);\r\n        this.frame.add(eastborder, BorderLayout.EAST);\r\n        this.frame.add(westborder, BorderLayout.WEST);\r\n        this.frame.add(southborder, BorderLayout.SOUTH);\r\n        this.frame.setVisible(true);\r\n        this.frame.setSize(500, 500);\r\n        this.frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.frame.setLocationRelativeTo(null);\r\n        this.frame.setTitle(&quot;TicTacToe&quot;);\r\n\r\n        this.northpanel.setBackground(Color.DARK_GRAY);\r\n        this.northpanel.setVisible(true);\r\n        this.northpanel.setPreferredSize(new Dimension(100, 50));\r\n        this.northpanel.setLayout(new GridLayout(1,3));\r\n        this.northpanel.add(newgame);\r\n        this.northpanel.add(turn);\r\n        this.northpanel.add(score);\r\n\r\n        this.centerpanel.setBackground(Color.BLUE);\r\n        this.centerpanel.setVisible(true);\r\n        this.centerpanel.setLayout(new GridLayout(3,3));\r\n\r\n        this.eastborder.setVisible(true);\r\n        this.eastborder.setBackground(Color.BLACK);\r\n        this.eastborder.setPreferredSize(new Dimension(1,100));\r\n\r\n        this.westborder.setVisible(true);\r\n        this.westborder.setBackground(Color.BLACK);\r\n        this.westborder.setPreferredSize(new Dimension(1,100));\r\n\r\n        this.southborder.setVisible(true);\r\n        this.southborder.setBackground(Color.BLACK);\r\n        this.southborder.setPreferredSize(new Dimension(100,1));\r\n\r\n        this.newgame.addActionListener(this);\r\n        this.newgame.setVisible(true);\r\n        this.newgame.setText(&quot;New Game&quot;);\r\n        this.newgame.setFont(new Font(&quot;Times New Roman&quot;,Font.ITALIC,20));\r\n        this.newgame.setForeground(Color.WHITE);\r\n        this.newgame.setFocusable(false);\r\n        this.newgame.setBackground(Color.DARK_GRAY);\r\n        this.newgame.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n        this.newgame.setHorizontalAlignment(SwingConstants.CENTER);\r\n\r\n        this.turn.setVisible(true);\r\n        this.turn.setOpaque(true);\r\n        this.turn.setBackground(Color.DARK_GRAY);\r\n        this.turn.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n        this.turn.setFont(new Font(&quot;Times New Roman&quot;,Font.ITALIC,20));\r\n        this.turn.setForeground(Color.WHITE);\r\n        this.turn.setHorizontalAlignment(SwingConstants.CENTER);\r\n\r\n        this.score.setVisible(true);\r\n        this.score.setOpaque(true);\r\n        this.score.setBackground(Color.DARK_GRAY);\r\n        this.score.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n        this.score.setLayout(new GridLayout(3,1));\r\n        this.score.add(xwins);\r\n        this.score.add(owins);\r\n        this.score.add(draws);\r\n\r\n        this.xwins.setHorizontalAlignment(SwingConstants.CENTER);\r\n        this.xwins.setBackground(Color.DARK_GRAY);\r\n        this.xwins.setForeground(Color.WHITE);\r\n        this.xwins.setFont(new Font(&quot;Times New Roman&quot;,Font.ITALIC,14));\r\n        this.xwins.setVisible(true);\r\n        this.xwins.setOpaque(true);\r\n        this.xwins.setText(&quot;X: &quot; + xScore);\r\n\r\n        this.owins.setHorizontalAlignment(SwingConstants.CENTER);\r\n        this.owins.setBackground(Color.DARK_GRAY);\r\n        this.owins.setForeground(Color.WHITE);\r\n        this.owins.setFont(new Font(&quot;Times New Roman&quot;,Font.ITALIC,14));\r\n        this.owins.setVisible(true);\r\n        this.owins.setOpaque(true);\r\n        this.owins.setText(&quot;O: &quot; + oScore);\r\n\r\n        this.draws.setHorizontalAlignment(SwingConstants.CENTER);\r\n        this.draws.setBackground(Color.DARK_GRAY);\r\n        this.draws.setForeground(Color.WHITE);\r\n        this.draws.setFont(new Font(&quot;Times New Roman&quot;,Font.ITALIC,14));\r\n        this.draws.setVisible(true);\r\n        this.draws.setOpaque(true);\r\n        this.draws.setText(&quot;D: &quot; + drawScore);\r\n\r\n        this.indices.put(s1,1);\r\n        this.indices.put(s2,2);\r\n        this.indices.put(s3,3);\r\n        this.indices.put(s4,4);\r\n        this.indices.put(s5,5);\r\n        this.indices.put(s6,6);\r\n        this.indices.put(s7,7);\r\n        this.indices.put(s8,8);\r\n        this.indices.put(s9,9);\r\n\r\n        this.states.put(1,&#39;e&#39;);\r\n        this.states.put(2,&#39;e&#39;);\r\n        this.states.put(3,&#39;e&#39;);\r\n        this.states.put(4,&#39;e&#39;);\r\n        this.states.put(5,&#39;e&#39;);\r\n        this.states.put(6,&#39;e&#39;);\r\n        this.states.put(7,&#39;e&#39;);\r\n        this.states.put(8,&#39;e&#39;);\r\n        this.states.put(9,&#39;e&#39;);\r\n\r\n    }\r\n    public void winCheck() {\r\n        boolean row1 = states.get(1).equals(states.get(2)) &amp;&amp; states.get(2).equals(states.get(3)) &amp;&amp; !states.get(1).equals(&#39;e&#39;);\r\n        boolean row2 = states.get(4).equals(states.get(5)) &amp;&amp; states.get(5).equals(states.get(6)) &amp;&amp; !states.get(4).equals(&#39;e&#39;);\r\n        boolean row3 = states.get(7).equals(states.get(8)) &amp;&amp; states.get(8).equals(states.get(9)) &amp;&amp; !states.get(7).equals(&#39;e&#39;);\r\n        boolean column1 = states.get(1).equals(states.get(4)) &amp;&amp; states.get(4).equals(states.get(7)) &amp;&amp; !states.get(1).equals(&#39;e&#39;);\r\n        boolean column2 = states.get(2).equals(states.get(5)) &amp;&amp; states.get(5).equals(states.get(8)) &amp;&amp; !states.get(2).equals(&#39;e&#39;);\r\n        boolean column3 = states.get(3).equals(states.get(6)) &amp;&amp; states.get(6).equals(states.get(9)) &amp;&amp; !states.get(3).equals(&#39;e&#39;);\r\n        boolean diagonal1 = states.get(1).equals(states.get(5)) &amp;&amp; states.get(5).equals(states.get(9)) &amp;&amp; !states.get(1).equals(&#39;e&#39;);\r\n        boolean diagonal2 = states.get(7).equals(states.get(5)) &amp;&amp; states.get(5).equals(states.get(3)) &amp;&amp; !states.get(7).equals(&#39;e&#39;);\r\n        boolean full = !states.get(1).equals(&#39;e&#39;) &amp;&amp; !states.get(2).equals(&#39;e&#39;) &amp;&amp; !states.get(3).equals(&#39;e&#39;) &amp;&amp; !states.get(4).equals(&#39;e&#39;) &amp;&amp; !states.get(5).equals(&#39;e&#39;) &amp;&amp; !states.get(6).equals(&#39;e&#39;) &amp;&amp; !states.get(7).equals(&#39;e&#39;) &amp;&amp; !states.get(8).equals(&#39;e&#39;) &amp;&amp; !states.get(9).equals(&#39;e&#39;);\r\n        boolean win = row1 || row2 || row3 || column1 || column2 || column3 ||diagonal1 || diagonal2;\r\n\r\n        if (live) {\r\n            if (row1) {\r\n                if (states.get(1).equals(&#39;x&#39;)) {\r\n                    this.xWin();\r\n                    return;\r\n                }\r\n                if (states.get(1).equals(&#39;o&#39;)) {\r\n                    this.oWin();\r\n                    return;\r\n                }\r\n            }\r\n            if (row2) {\r\n                if (states.get(4).equals(&#39;x&#39;)) {\r\n                    this.xWin();\r\n                    return;\r\n                }\r\n                if (states.get(4).equals(&#39;o&#39;)) {\r\n                    this.oWin();\r\n                    return;\r\n                }\r\n            }\r\n            if (row3) {\r\n                if (states.get(7).equals(&#39;x&#39;)) {\r\n                    this.xWin();\r\n                    return;\r\n                }\r\n                if (states.get(7).equals(&#39;o&#39;)) {\r\n                    this.oWin();\r\n                    return;\r\n                }\r\n            }\r\n            if (column1) {\r\n                if (states.get(1).equals(&#39;x&#39;)) {\r\n                    this.xWin();\r\n                    return;\r\n                }\r\n                if (states.get(1).equals(&#39;o&#39;)) {\r\n                    this.oWin();\r\n                    return;\r\n                }\r\n            }\r\n            if (column2) {\r\n                if (states.get(2).equals(&#39;x&#39;)) {\r\n                    this.xWin();\r\n                    return;\r\n                }\r\n                if (states.get(2).equals(&#39;o&#39;)) {\r\n                    this.oWin();\r\n                    return;\r\n                }\r\n            }\r\n            if (column3) {\r\n                if (states.get(3).equals(&#39;x&#39;)) {\r\n                    this.xWin();\r\n                    return;\r\n                }\r\n                if (states.get(3).equals(&#39;o&#39;)) {\r\n                    this.oWin();\r\n                    return;\r\n                }\r\n            }\r\n            if (diagonal1) {\r\n                if (states.get(1).equals(&#39;x&#39;)) {\r\n                    this.xWin();\r\n                    return;\r\n                }\r\n                if (states.get(1).equals(&#39;o&#39;)) {\r\n                    this.oWin();\r\n                    return;\r\n                }\r\n            }\r\n            if (diagonal2) {\r\n                if (states.get(7).equals(&#39;x&#39;)) {\r\n                    this.xWin();\r\n                    return;\r\n                }\r\n                if (states.get(7).equals(&#39;o&#39;)) {\r\n                    this.oWin();\r\n                    return;\r\n                }\r\n            }\r\n            if (full &amp;&amp; !win) {\r\n                drawScore++;\r\n                this.xwins.setText(&quot;X: &quot; + xScore);\r\n                this.owins.setText(&quot;O: &quot; + oScore);\r\n                this.draws.setText(&quot;D: &quot; + drawScore);\r\n                live = false;\r\n            }\r\n        }\r\n    }\r\n    public void xWin() {\r\n        oScore++;\r\n        this.xwins.setText(&quot;X: &quot; + xScore);\r\n        this.owins.setText(&quot;O: &quot; + oScore);\r\n        this.draws.setText(&quot;D: &quot; + drawScore);\r\n        live = false;\r\n    }\r\n    public void oWin() {\r\n        xScore++;\r\n        this.xwins.setText(&quot;X: &quot; + xScore);\r\n        this.owins.setText(&quot;O: &quot; + oScore);\r\n        this.draws.setText(&quot;D: &quot; + drawScore);\r\n        live = false;\r\n    }\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == newgame) {\r\n            live = true;\r\n            this.turn.setText(&quot;X&#39;s Turn&quot;);\r\n        }\r\n    }\r\n    class Square extends JPanel implements MouseListener {\r\n        Square() {\r\n            centerpanel.add(this);\r\n            this.addMouseListener(this);\r\n            this.setBackground(Color.BLUE);\r\n            this.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n            this.setVisible(true);\r\n        }\r\n\r\n        @Override\r\n        public void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            ((Graphics2D) g).setPaint(Color.RED);\r\n            ((Graphics2D) g).setStroke(new BasicStroke(5));\r\n            if (live) {\r\n                if (xturn) {\r\n                    Shape x1 = new Line2D.Double(0, 0, this.getWidth(), this.getHeight());\r\n                    Shape x2 = new Line2D.Double(0, this.getHeight(), this.getWidth(), 0);\r\n                    ((Graphics2D) g).draw(x1);\r\n                    ((Graphics2D) g).draw(x2);\r\n                } else {\r\n                    Shape o = new Ellipse2D.Double(0, 0, Math.min(this.getWidth(), this.getHeight()), Math.min(this.getWidth(), this.getHeight()));\r\n                    ((Graphics2D) g).draw(o);\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            if (live &amp;&amp; states.get(indices.get(this)).equals(&#39;e&#39;)) {\r\n                if (xturn) {\r\n                    turn.setText(&quot;X&#39;s Turn&quot;);\r\n                    states.replace(indices.get(this),&#39;x&#39;);\r\n                } else {\r\n                    turn.setText(&quot;O&#39;s Turn&quot;);\r\n                    states.replace(indices.get(this),&#39;o&#39;);\r\n                }\r\n                repaint();\r\n                winCheck();\r\n                xturn = !xturn;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void mouseExited(MouseEvent e) {\r\n\r\n        }\r\n    }\r\n}\r\n```","title":"TicTacToe game won&#39;t paint winning move and board won&#39;t reset after new game is started?","body":"<p>I'm working on making a tic tac toe game in Java, and when you place a winning move the winning move won't actually get painted. Also, when you try to play another round, the new game button won't reset the board and clear all the previously painted x's and o's. Any ideas would be appreciated, as I've been working on just trying to finish this for hours, and I haven't gotten anywhere.</p>\n<pre><code>package com.company;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.geom.Line2D;\nimport java.util.HashMap;\n\npublic class TTTGame {\n    public static void main(String[] args) {\n        new TicTacToe();\n    }\n}\n\nclass TicTacToe extends JFrame implements ActionListener {\n    JFrame frame = new JFrame();\n    JPanel northpanel = new JPanel();\n    JPanel centerpanel = new JPanel();\n    JPanel eastborder = new JPanel();\n    JPanel westborder = new JPanel();\n    JPanel southborder = new JPanel();\n    JButton newgame = new JButton();\n    JLabel turn = new JLabel();\n    JLabel score = new JLabel();\n    boolean xturn;\n    boolean live = false;\n    Square s1 = new Square();\n    Square s2 = new Square();\n    Square s3 = new Square();\n    Square s4 = new Square();\n    Square s5 = new Square();\n    Square s6 = new Square();\n    Square s7 = new Square();\n    Square s8 = new Square();\n    Square s9 = new Square();\n    HashMap&lt;Square,Integer&gt; indices = new HashMap&lt;&gt;();\n    HashMap&lt;Integer,Character&gt; states = new HashMap&lt;&gt;();\n    JLabel xwins = new JLabel();\n    JLabel owins = new JLabel();\n    JLabel draws = new JLabel();\n    int oScore = 0;\n    int xScore = 0;\n    int drawScore = 0;\n\n    public TicTacToe() {\n\n        this.frame.setLayout(new BorderLayout());\n        this.frame.add(northpanel, BorderLayout.NORTH);\n        this.frame.add(centerpanel, BorderLayout.CENTER);\n        this.frame.add(eastborder, BorderLayout.EAST);\n        this.frame.add(westborder, BorderLayout.WEST);\n        this.frame.add(southborder, BorderLayout.SOUTH);\n        this.frame.setVisible(true);\n        this.frame.setSize(500, 500);\n        this.frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.frame.setLocationRelativeTo(null);\n        this.frame.setTitle(&quot;TicTacToe&quot;);\n\n        this.northpanel.setBackground(Color.DARK_GRAY);\n        this.northpanel.setVisible(true);\n        this.northpanel.setPreferredSize(new Dimension(100, 50));\n        this.northpanel.setLayout(new GridLayout(1,3));\n        this.northpanel.add(newgame);\n        this.northpanel.add(turn);\n        this.northpanel.add(score);\n\n        this.centerpanel.setBackground(Color.BLUE);\n        this.centerpanel.setVisible(true);\n        this.centerpanel.setLayout(new GridLayout(3,3));\n\n        this.eastborder.setVisible(true);\n        this.eastborder.setBackground(Color.BLACK);\n        this.eastborder.setPreferredSize(new Dimension(1,100));\n\n        this.westborder.setVisible(true);\n        this.westborder.setBackground(Color.BLACK);\n        this.westborder.setPreferredSize(new Dimension(1,100));\n\n        this.southborder.setVisible(true);\n        this.southborder.setBackground(Color.BLACK);\n        this.southborder.setPreferredSize(new Dimension(100,1));\n\n        this.newgame.addActionListener(this);\n        this.newgame.setVisible(true);\n        this.newgame.setText(&quot;New Game&quot;);\n        this.newgame.setFont(new Font(&quot;Times New Roman&quot;,Font.ITALIC,20));\n        this.newgame.setForeground(Color.WHITE);\n        this.newgame.setFocusable(false);\n        this.newgame.setBackground(Color.DARK_GRAY);\n        this.newgame.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n        this.newgame.setHorizontalAlignment(SwingConstants.CENTER);\n\n        this.turn.setVisible(true);\n        this.turn.setOpaque(true);\n        this.turn.setBackground(Color.DARK_GRAY);\n        this.turn.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n        this.turn.setFont(new Font(&quot;Times New Roman&quot;,Font.ITALIC,20));\n        this.turn.setForeground(Color.WHITE);\n        this.turn.setHorizontalAlignment(SwingConstants.CENTER);\n\n        this.score.setVisible(true);\n        this.score.setOpaque(true);\n        this.score.setBackground(Color.DARK_GRAY);\n        this.score.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n        this.score.setLayout(new GridLayout(3,1));\n        this.score.add(xwins);\n        this.score.add(owins);\n        this.score.add(draws);\n\n        this.xwins.setHorizontalAlignment(SwingConstants.CENTER);\n        this.xwins.setBackground(Color.DARK_GRAY);\n        this.xwins.setForeground(Color.WHITE);\n        this.xwins.setFont(new Font(&quot;Times New Roman&quot;,Font.ITALIC,14));\n        this.xwins.setVisible(true);\n        this.xwins.setOpaque(true);\n        this.xwins.setText(&quot;X: &quot; + xScore);\n\n        this.owins.setHorizontalAlignment(SwingConstants.CENTER);\n        this.owins.setBackground(Color.DARK_GRAY);\n        this.owins.setForeground(Color.WHITE);\n        this.owins.setFont(new Font(&quot;Times New Roman&quot;,Font.ITALIC,14));\n        this.owins.setVisible(true);\n        this.owins.setOpaque(true);\n        this.owins.setText(&quot;O: &quot; + oScore);\n\n        this.draws.setHorizontalAlignment(SwingConstants.CENTER);\n        this.draws.setBackground(Color.DARK_GRAY);\n        this.draws.setForeground(Color.WHITE);\n        this.draws.setFont(new Font(&quot;Times New Roman&quot;,Font.ITALIC,14));\n        this.draws.setVisible(true);\n        this.draws.setOpaque(true);\n        this.draws.setText(&quot;D: &quot; + drawScore);\n\n        this.indices.put(s1,1);\n        this.indices.put(s2,2);\n        this.indices.put(s3,3);\n        this.indices.put(s4,4);\n        this.indices.put(s5,5);\n        this.indices.put(s6,6);\n        this.indices.put(s7,7);\n        this.indices.put(s8,8);\n        this.indices.put(s9,9);\n\n        this.states.put(1,'e');\n        this.states.put(2,'e');\n        this.states.put(3,'e');\n        this.states.put(4,'e');\n        this.states.put(5,'e');\n        this.states.put(6,'e');\n        this.states.put(7,'e');\n        this.states.put(8,'e');\n        this.states.put(9,'e');\n\n    }\n    public void winCheck() {\n        boolean row1 = states.get(1).equals(states.get(2)) &amp;&amp; states.get(2).equals(states.get(3)) &amp;&amp; !states.get(1).equals('e');\n        boolean row2 = states.get(4).equals(states.get(5)) &amp;&amp; states.get(5).equals(states.get(6)) &amp;&amp; !states.get(4).equals('e');\n        boolean row3 = states.get(7).equals(states.get(8)) &amp;&amp; states.get(8).equals(states.get(9)) &amp;&amp; !states.get(7).equals('e');\n        boolean column1 = states.get(1).equals(states.get(4)) &amp;&amp; states.get(4).equals(states.get(7)) &amp;&amp; !states.get(1).equals('e');\n        boolean column2 = states.get(2).equals(states.get(5)) &amp;&amp; states.get(5).equals(states.get(8)) &amp;&amp; !states.get(2).equals('e');\n        boolean column3 = states.get(3).equals(states.get(6)) &amp;&amp; states.get(6).equals(states.get(9)) &amp;&amp; !states.get(3).equals('e');\n        boolean diagonal1 = states.get(1).equals(states.get(5)) &amp;&amp; states.get(5).equals(states.get(9)) &amp;&amp; !states.get(1).equals('e');\n        boolean diagonal2 = states.get(7).equals(states.get(5)) &amp;&amp; states.get(5).equals(states.get(3)) &amp;&amp; !states.get(7).equals('e');\n        boolean full = !states.get(1).equals('e') &amp;&amp; !states.get(2).equals('e') &amp;&amp; !states.get(3).equals('e') &amp;&amp; !states.get(4).equals('e') &amp;&amp; !states.get(5).equals('e') &amp;&amp; !states.get(6).equals('e') &amp;&amp; !states.get(7).equals('e') &amp;&amp; !states.get(8).equals('e') &amp;&amp; !states.get(9).equals('e');\n        boolean win = row1 || row2 || row3 || column1 || column2 || column3 ||diagonal1 || diagonal2;\n\n        if (live) {\n            if (row1) {\n                if (states.get(1).equals('x')) {\n                    this.xWin();\n                    return;\n                }\n                if (states.get(1).equals('o')) {\n                    this.oWin();\n                    return;\n                }\n            }\n            if (row2) {\n                if (states.get(4).equals('x')) {\n                    this.xWin();\n                    return;\n                }\n                if (states.get(4).equals('o')) {\n                    this.oWin();\n                    return;\n                }\n            }\n            if (row3) {\n                if (states.get(7).equals('x')) {\n                    this.xWin();\n                    return;\n                }\n                if (states.get(7).equals('o')) {\n                    this.oWin();\n                    return;\n                }\n            }\n            if (column1) {\n                if (states.get(1).equals('x')) {\n                    this.xWin();\n                    return;\n                }\n                if (states.get(1).equals('o')) {\n                    this.oWin();\n                    return;\n                }\n            }\n            if (column2) {\n                if (states.get(2).equals('x')) {\n                    this.xWin();\n                    return;\n                }\n                if (states.get(2).equals('o')) {\n                    this.oWin();\n                    return;\n                }\n            }\n            if (column3) {\n                if (states.get(3).equals('x')) {\n                    this.xWin();\n                    return;\n                }\n                if (states.get(3).equals('o')) {\n                    this.oWin();\n                    return;\n                }\n            }\n            if (diagonal1) {\n                if (states.get(1).equals('x')) {\n                    this.xWin();\n                    return;\n                }\n                if (states.get(1).equals('o')) {\n                    this.oWin();\n                    return;\n                }\n            }\n            if (diagonal2) {\n                if (states.get(7).equals('x')) {\n                    this.xWin();\n                    return;\n                }\n                if (states.get(7).equals('o')) {\n                    this.oWin();\n                    return;\n                }\n            }\n            if (full &amp;&amp; !win) {\n                drawScore++;\n                this.xwins.setText(&quot;X: &quot; + xScore);\n                this.owins.setText(&quot;O: &quot; + oScore);\n                this.draws.setText(&quot;D: &quot; + drawScore);\n                live = false;\n            }\n        }\n    }\n    public void xWin() {\n        oScore++;\n        this.xwins.setText(&quot;X: &quot; + xScore);\n        this.owins.setText(&quot;O: &quot; + oScore);\n        this.draws.setText(&quot;D: &quot; + drawScore);\n        live = false;\n    }\n    public void oWin() {\n        xScore++;\n        this.xwins.setText(&quot;X: &quot; + xScore);\n        this.owins.setText(&quot;O: &quot; + oScore);\n        this.draws.setText(&quot;D: &quot; + drawScore);\n        live = false;\n    }\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == newgame) {\n            live = true;\n            this.turn.setText(&quot;X's Turn&quot;);\n        }\n    }\n    class Square extends JPanel implements MouseListener {\n        Square() {\n            centerpanel.add(this);\n            this.addMouseListener(this);\n            this.setBackground(Color.BLUE);\n            this.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n            this.setVisible(true);\n        }\n\n        @Override\n        public void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            ((Graphics2D) g).setPaint(Color.RED);\n            ((Graphics2D) g).setStroke(new BasicStroke(5));\n            if (live) {\n                if (xturn) {\n                    Shape x1 = new Line2D.Double(0, 0, this.getWidth(), this.getHeight());\n                    Shape x2 = new Line2D.Double(0, this.getHeight(), this.getWidth(), 0);\n                    ((Graphics2D) g).draw(x1);\n                    ((Graphics2D) g).draw(x2);\n                } else {\n                    Shape o = new Ellipse2D.Double(0, 0, Math.min(this.getWidth(), this.getHeight()), Math.min(this.getWidth(), this.getHeight()));\n                    ((Graphics2D) g).draw(o);\n                }\n            }\n        }\n\n        @Override\n        public void mouseClicked(MouseEvent e) {\n            if (live &amp;&amp; states.get(indices.get(this)).equals('e')) {\n                if (xturn) {\n                    turn.setText(&quot;X's Turn&quot;);\n                    states.replace(indices.get(this),'x');\n                } else {\n                    turn.setText(&quot;O's Turn&quot;);\n                    states.replace(indices.get(this),'o');\n                }\n                repaint();\n                winCheck();\n                xturn = !xturn;\n            }\n        }\n\n        @Override\n        public void mousePressed(MouseEvent e) {\n\n        }\n\n        @Override\n        public void mouseReleased(MouseEvent e) {\n\n        }\n\n        @Override\n        public void mouseEntered(MouseEvent e) {\n\n        }\n\n        @Override\n        public void mouseExited(MouseEvent e) {\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5254099,"reputation":1061,"user_id":4197431,"display_name":"Ralf Renz"},"score":0,"creation_date":1650606414,"post_id":71963897,"comment_id":127162725,"body_markdown":"Why regex? Why not simply use String.substring() and concat the unmasked and masked parts?","body":"Why regex? Why not simply use String.substring() and concat the unmasked and masked parts?"},{"owner":{"account_id":22507442,"reputation":1,"user_id":16702828,"display_name":"sam"},"score":0,"creation_date":1650606829,"post_id":71963897,"comment_id":127162799,"body_markdown":"@RalfRenz thank you so much for your response, but I need to do this in a single step itself","body":"@RalfRenz thank you so much for your response, but I need to do this in a single step itself"},{"owner":{"account_id":22507442,"reputation":1,"user_id":16702828,"display_name":"sam"},"score":0,"creation_date":1650607648,"post_id":71963897,"comment_id":127162979,"body_markdown":"@user16320675 # I am just used to show the characters that I need to mask ,  can use * also.   Like AB***1*23*","body":"@user16320675 # I am just used to show the characters that I need to mask ,  can use * also.   Like AB***1*23*"},{"owner":{"account_id":22507442,"reputation":1,"user_id":16702828,"display_name":"sam"},"score":0,"creation_date":1650608308,"post_id":71963897,"comment_id":127163129,"body_markdown":"@user16320675 added input and output , sorry for the inconvenience","body":"@user16320675 added input and output , sorry for the inconvenience"},{"owner":{"account_id":22507442,"reputation":1,"user_id":16702828,"display_name":"sam"},"score":0,"creation_date":1650609400,"post_id":71963897,"comment_id":127163379,"body_markdown":"@JamesZ Edited my question, Thanks","body":"@JamesZ Edited my question, Thanks"}],"answers":[{"tags":[],"owner":{"account_id":5254099,"reputation":1061,"user_id":4197431,"display_name":"Ralf Renz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650607887,"creation_date":1650607887,"answer_id":71964142,"question_id":71963897,"body_markdown":"I think you want something like this:\r\n\r\n    &quot;1234567890&quot;.replaceAll(&quot;(.{2})(.{3})(.{1})(.{1})(.{2})(.{1})&quot;, &quot;$1###$3#$5#&quot;)","title":"Regex to mask PAN number in java","body":"<p>I think you want something like this:</p>\n<pre><code>&quot;1234567890&quot;.replaceAll(&quot;(.{2})(.{3})(.{1})(.{1})(.{2})(.{1})&quot;, &quot;$1###$3#$5#&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650623060,"creation_date":1650623060,"answer_id":71967218,"question_id":71963897,"body_markdown":"This is obviously not what you&#39;re looking for but I&#39;m going to throw it out there anyways. \r\n\r\nIn my opinion, RegEx for this sort of thing is far too specific for one type of string. For every different type of string to be masked in a different format you will need a different Regular Expression. It&#39;s just not flexible enough for different types of strings where each requires a different masking format. What I&#39;m trying to say is, I think it&#39;s just easier to pass the string into a method along with the masking format you want and the desired masked string is returned, for example:\r\n\r\n    String pan = &quot;ABCDE1234F&quot;;\r\n    String newPAN = maskString(pan, 0, &quot;??###?#??#&quot;);\r\n    System.out.println(newPAN);\r\n\r\n    // Displays in Console:  AB###1#34#\r\n\r\nOr perhaps something like:\r\n\r\n    String pan = &quot;Account Number: ABCDE1234F&quot;;\r\n    String newPAN = maskString(pan, 16, &quot;??###?#??#&quot;);\r\n    System.out.println(newPAN);\r\n\r\n    // Displays in Console:  Account Number: AB###1#34#\r\n\r\nOr perhaps something like:\r\n\r\n    String pan = &quot;Account Number: ABCDE1234F (Listed).&quot;;\r\n    String newPAN = maskString(pan, pan.indexOf(&quot;ABC&quot;), &quot;??###?#??#&quot;);\r\n    System.out.println(newPAN);\r\n\r\n    // Displays in Console:  Account Number: AB###1#34# (Listed).\r\n\r\n**The method below does this:**\r\n\r\n    /**\r\n     * This method allows you to mask a string in whichever format you like by\r\n     * simply supplying a format string.&lt;br&gt;&lt;br&gt;\r\n     * &lt;p&gt;\r\n     * Once the input string is masked, it can not be Unmasked. Your code will\r\n     * need to keep track of what the original string was if this is a\r\n     * requirement.&lt;br&gt;&lt;br&gt;\r\n     *\r\n     * \r\n     * @param inputString (string) The string to mask.&lt;br&gt;\r\n     * \r\n     * @param startIndex  (int) Normally you would most likely use this method&lt;pre&gt;\r\n     *            on a single string entity and therefore the Start\r\n     *            Index would be 0, at the first character of the\r\n     *            string. This however may not always be the case. There\r\n     *            can be times when you want to mask a substring within\r\n     *            the supplied input string located at a specific index.\r\n     *            You can supply that specific index value here.&lt;/pre&gt;\r\n     *\r\n     * @param maskFormat  (Optional - String) Default (if nothing is supplied)&lt;pre&gt;\r\n     *            is to mask all characters in string as Asterisks (*).\r\n     *            The question mark character (?) is used within the\r\n     *            format string to indicate that an original string\r\n     *            character is to take that character position. Any other\r\n     *            characters are considered mask characters, for example, \r\n     *            if we have a phone number string like:\r\n     * \r\n     *                        &lt;b&gt;&quot;624-344-1212&quot;&lt;/b&gt;\r\n     * \r\n     *            and we want to mask all numbers with asterisks (*) but keep \r\n     *            the dashes as they are then we would use a format string that \r\n     *            looks like this: \r\n     * \r\n     *                         &lt;b&gt;&quot;***?***?****&quot;&lt;/b&gt;\r\n     * \r\n     *            The returned string would contain: \r\n     *  \r\n     *                         &lt;b&gt;&quot;***-***-****&quot;&lt;/b&gt;\r\n     * \r\n     *            Since the Question mark character has special meaning within \r\n     *            this method&#39;s format string, you would need to escape (\\) that \r\n     *            character if you wanted to use it as a mask character, for \r\n     *            example:\r\n     * \r\n     *                     &lt;b&gt;&quot;\\\\?\\\\?\\\\??\\\\?\\\\?\\\\??\\\\?\\\\?\\\\?\\\\?&quot;&lt;/b&gt;\r\n     * \r\n     *            will tell this method to return the following string:\r\n     * \r\n     *                           &lt;b&gt;&quot;???-???-????&quot;&lt;/b&gt;&lt;/pre&gt;\r\n     *\r\n     * @return (String) The masked String.\r\n     * \r\n     */\r\n    public static String maskString(String inputString, int startIndex, String... maskFormat) {\r\n        String startString = &quot;&quot;;\r\n        if (startIndex &gt; 0) {\r\n            startString = inputString.substring(0, startIndex);\r\n            inputString = inputString.substring(startIndex);\r\n        }\r\n\r\n        String maskFmt = inputString.replaceAll(&quot;.*&quot;, &quot;*&quot;);\r\n        if (maskFormat.length &gt; 0) {\r\n            if (!maskFormat[0].isEmpty()) {\r\n                /* ASCII 22 is used to replace escaped Question marks so \r\n                   that the regular Question marks can be processed properly. */\r\n                maskFormat[0] = maskFormat[0].replace(&quot;\\\\?&quot;, Character.toString((char) 22));\r\n                maskFmt = maskFormat[0];\r\n            }\r\n        }\r\n        if (inputString.length() &gt; maskFmt.length()) {\r\n            for (int i = maskFmt.length(); i &lt; inputString.length(); i++) {\r\n                maskFmt += &quot;?&quot;;\r\n            }\r\n        }\r\n        else if (inputString.length() &lt; maskFmt.length()) {\r\n            maskFmt = maskFmt.substring(0, maskFmt.length()\r\n                    - (maskFmt.length() - inputString.length()));\r\n        }\r\n\r\n        String maskedString = &quot;&quot;;\r\n        for (int i = 0; i &lt; maskFmt.length(); i++) {\r\n            maskedString += maskFmt.substring(i, i + 1).equals(&quot;?&quot;)\r\n                    ? inputString.substring(i, i + 1) : maskFmt.substring(i, i + 1);\r\n        }\r\n        if (!startString.isEmpty()) {\r\n            maskedString = startString + maskedString;\r\n        }\r\n        /* Return the masked String but first convert any ASCII 22 (which \r\n           would be escaped Question marks if any) characters to Question \r\n           mark characters. */\r\n        return maskedString.replace(Character.toString((char) 22), &quot;?&quot;);\r\n    }\r\n","title":"Regex to mask PAN number in java","body":"<p>This is obviously not what you're looking for but I'm going to throw it out there anyways.</p>\n<p>In my opinion, RegEx for this sort of thing is far too specific for one type of string. For every different type of string to be masked in a different format you will need a different Regular Expression. It's just not flexible enough for different types of strings where each requires a different masking format. What I'm trying to say is, I think it's just easier to pass the string into a method along with the masking format you want and the desired masked string is returned, for example:</p>\n<pre><code>String pan = &quot;ABCDE1234F&quot;;\nString newPAN = maskString(pan, 0, &quot;??###?#??#&quot;);\nSystem.out.println(newPAN);\n\n// Displays in Console:  AB###1#34#\n</code></pre>\n<p>Or perhaps something like:</p>\n<pre><code>String pan = &quot;Account Number: ABCDE1234F&quot;;\nString newPAN = maskString(pan, 16, &quot;??###?#??#&quot;);\nSystem.out.println(newPAN);\n\n// Displays in Console:  Account Number: AB###1#34#\n</code></pre>\n<p>Or perhaps something like:</p>\n<pre><code>String pan = &quot;Account Number: ABCDE1234F (Listed).&quot;;\nString newPAN = maskString(pan, pan.indexOf(&quot;ABC&quot;), &quot;??###?#??#&quot;);\nSystem.out.println(newPAN);\n\n// Displays in Console:  Account Number: AB###1#34# (Listed).\n</code></pre>\n<p><strong>The method below does this:</strong></p>\n<pre><code>/**\n * This method allows you to mask a string in whichever format you like by\n * simply supplying a format string.&lt;br&gt;&lt;br&gt;\n * &lt;p&gt;\n * Once the input string is masked, it can not be Unmasked. Your code will\n * need to keep track of what the original string was if this is a\n * requirement.&lt;br&gt;&lt;br&gt;\n *\n * \n * @param inputString (string) The string to mask.&lt;br&gt;\n * \n * @param startIndex  (int) Normally you would most likely use this method&lt;pre&gt;\n *            on a single string entity and therefore the Start\n *            Index would be 0, at the first character of the\n *            string. This however may not always be the case. There\n *            can be times when you want to mask a substring within\n *            the supplied input string located at a specific index.\n *            You can supply that specific index value here.&lt;/pre&gt;\n *\n * @param maskFormat  (Optional - String) Default (if nothing is supplied)&lt;pre&gt;\n *            is to mask all characters in string as Asterisks (*).\n *            The question mark character (?) is used within the\n *            format string to indicate that an original string\n *            character is to take that character position. Any other\n *            characters are considered mask characters, for example, \n *            if we have a phone number string like:\n * \n *                        &lt;b&gt;&quot;624-344-1212&quot;&lt;/b&gt;\n * \n *            and we want to mask all numbers with asterisks (*) but keep \n *            the dashes as they are then we would use a format string that \n *            looks like this: \n * \n *                         &lt;b&gt;&quot;***?***?****&quot;&lt;/b&gt;\n * \n *            The returned string would contain: \n *  \n *                         &lt;b&gt;&quot;***-***-****&quot;&lt;/b&gt;\n * \n *            Since the Question mark character has special meaning within \n *            this method's format string, you would need to escape (\\) that \n *            character if you wanted to use it as a mask character, for \n *            example:\n * \n *                     &lt;b&gt;&quot;\\\\?\\\\?\\\\??\\\\?\\\\?\\\\??\\\\?\\\\?\\\\?\\\\?&quot;&lt;/b&gt;\n * \n *            will tell this method to return the following string:\n * \n *                           &lt;b&gt;&quot;???-???-????&quot;&lt;/b&gt;&lt;/pre&gt;\n *\n * @return (String) The masked String.\n * \n */\npublic static String maskString(String inputString, int startIndex, String... maskFormat) {\n    String startString = &quot;&quot;;\n    if (startIndex &gt; 0) {\n        startString = inputString.substring(0, startIndex);\n        inputString = inputString.substring(startIndex);\n    }\n\n    String maskFmt = inputString.replaceAll(&quot;.*&quot;, &quot;*&quot;);\n    if (maskFormat.length &gt; 0) {\n        if (!maskFormat[0].isEmpty()) {\n            /* ASCII 22 is used to replace escaped Question marks so \n               that the regular Question marks can be processed properly. */\n            maskFormat[0] = maskFormat[0].replace(&quot;\\\\?&quot;, Character.toString((char) 22));\n            maskFmt = maskFormat[0];\n        }\n    }\n    if (inputString.length() &gt; maskFmt.length()) {\n        for (int i = maskFmt.length(); i &lt; inputString.length(); i++) {\n            maskFmt += &quot;?&quot;;\n        }\n    }\n    else if (inputString.length() &lt; maskFmt.length()) {\n        maskFmt = maskFmt.substring(0, maskFmt.length()\n                - (maskFmt.length() - inputString.length()));\n    }\n\n    String maskedString = &quot;&quot;;\n    for (int i = 0; i &lt; maskFmt.length(); i++) {\n        maskedString += maskFmt.substring(i, i + 1).equals(&quot;?&quot;)\n                ? inputString.substring(i, i + 1) : maskFmt.substring(i, i + 1);\n    }\n    if (!startString.isEmpty()) {\n        maskedString = startString + maskedString;\n    }\n    /* Return the masked String but first convert any ASCII 22 (which \n       would be escaped Question marks if any) characters to Question \n       mark characters. */\n    return maskedString.replace(Character.toString((char) 22), &quot;?&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":22507442,"reputation":1,"user_id":16702828,"display_name":"sam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71964142,"answer_count":2,"score":-2,"last_activity_date":1650623060,"creation_date":1650605999,"question_id":71963897,"body_markdown":"I need to mask PAN (Permanent account number).\r\n\r\nIts first 5 characters represent the alphabetic series running from AAA to ZZZ. Next 4 characters are sequential numbers running from 0001 to 9999.  Tenth character is an alphabetic.\r\n\r\n  eg: ABCDE1234F \r\n\r\nNeed to mast 3,4,5,7,10 th character&#39;s with # eg: \r\nAB###1#23# using regex.\r\n\r\n\r\n","title":"Regex to mask PAN number in java","body":"<p>I need to mask PAN (Permanent account number).</p>\n<p>Its first 5 characters represent the alphabetic series running from AAA to ZZZ. Next 4 characters are sequential numbers running from 0001 to 9999.  Tenth character is an alphabetic.</p>\n<p>eg: ABCDE1234F</p>\n<p>Need to mast 3,4,5,7,10 th character's with # eg:\nAB###1#23# using regex.</p>\n"},{"tags":["java","eclipse","maven","ant"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1650614772,"post_id":71964770,"comment_id":127165129,"body_markdown":"I would not add targets as profiles in Maven. This is not how profiles are meant to be used. First you need to figure out what these Ant targets are for, so if they test, compile or what else. Then you can find an appropriate phase for them in the Maven lifecycle. Furthermore, from experience I can say that most Ant targets will be replaceable by Maven plugins.","body":"I would not add targets as profiles in Maven. This is not how profiles are meant to be used. First you need to figure out what these Ant targets are for, so if they test, compile or what else. Then you can find an appropriate phase for them in the Maven lifecycle. Furthermore, from experience I can say that most Ant targets will be replaceable by Maven plugins."},{"owner":{"account_id":24372704,"reputation":7,"user_id":18305426,"display_name":"IFaceErrors"},"score":0,"creation_date":1650621149,"post_id":71964770,"comment_id":127167404,"body_markdown":"J Fabian Meier - most are compile and prepare-package phases where the OutTargets run .SQL files I believe. It&#39;s a multi module project and recursively run them all at once. That&#39;s where the property thing comes up","body":"J Fabian Meier - most are compile and prepare-package phases where the OutTargets run .SQL files I believe. It&#39;s a multi module project and recursively run them all at once. That&#39;s where the property thing comes up"}],"answers":[{"tags":[],"owner":{"account_id":3938776,"reputation":58,"user_id":3254120,"display_name":"jalbertoa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650615959,"creation_date":1650615959,"answer_id":71965632,"question_id":71964770,"body_markdown":"I don&#39;t think what you&#39;re trying to do is a good approach, but if it&#39;s urgent...have you considered using different settings-[X].xml, with the same profile defined differently and launch maven pointing to them?","title":"How to run same Maven profile with different parameters","body":"<p>I don't think what you're trying to do is a good approach, but if it's urgent...have you considered using different settings-[X].xml, with the same profile defined differently and launch maven pointing to them?</p>\n"}],"owner":{"account_id":24372704,"reputation":7,"user_id":18305426,"display_name":"IFaceErrors"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650622921,"creation_date":1650611546,"question_id":71964770,"body_markdown":"Work currently uses ANT and need to migrate to MAVEN. As stated above , I need to run same profile but with different parameters each time.\r\n\r\nPresent Ant Code Example :\r\n\r\n    &lt;target name = SomeTarget&gt;\r\n    &lt;var name = &quot;PROP&quot; value=&quot;123&quot;&gt;\r\n    &lt;antcall target = &quot;OutTarget1&quot;&gt;\r\n    &lt;var name = &quot;PROP&quot; value=&quot;145&quot;&gt;\r\n    &lt;antcall target = &quot;OutTarget1&quot;&gt;\r\n    &lt;/target&gt;\r\n    \r\n    &lt;target name =&quot;OutTarget1&quot;&gt;\r\n    &lt;!-- some java code --&gt;\r\n    &lt;!-- run .SQL files --&gt;\r\n    &lt;!-- some java code on that again --&gt;\r\n    &lt;\\target&gt;\r\n\r\nDoesn&#39;t seem like even with maven antrun plugin antcall is supported. \r\n\r\nWork requires I create all targets as profiles in pom.xml. Now I can simply repeat the &quot;OutTarget1&quot; code in execution part of a profile for each time there is a new property. But that makes it quite hard to debug. And there&#39;s a ton of a t targets calling other targets. \r\n\r\nIf it was just one antcall , I add the parameter in launch configuration. I have no idea how to achieve this when it&#39;s same parameter but different values each time.\r\n\r\nP.S. Added what OutTarget does. It&#39;s basically the same process  but with diff values each time.","title":"How to run same Maven profile with different parameters","body":"<p>Work currently uses ANT and need to migrate to MAVEN. As stated above , I need to run same profile but with different parameters each time.</p>\n<p>Present Ant Code Example :</p>\n<pre><code>&lt;target name = SomeTarget&gt;\n&lt;var name = &quot;PROP&quot; value=&quot;123&quot;&gt;\n&lt;antcall target = &quot;OutTarget1&quot;&gt;\n&lt;var name = &quot;PROP&quot; value=&quot;145&quot;&gt;\n&lt;antcall target = &quot;OutTarget1&quot;&gt;\n&lt;/target&gt;\n\n&lt;target name =&quot;OutTarget1&quot;&gt;\n&lt;!-- some java code --&gt;\n&lt;!-- run .SQL files --&gt;\n&lt;!-- some java code on that again --&gt;\n&lt;\\target&gt;\n</code></pre>\n<p>Doesn't seem like even with maven antrun plugin antcall is supported.</p>\n<p>Work requires I create all targets as profiles in pom.xml. Now I can simply repeat the &quot;OutTarget1&quot; code in execution part of a profile for each time there is a new property. But that makes it quite hard to debug. And there's a ton of a t targets calling other targets.</p>\n<p>If it was just one antcall , I add the parameter in launch configuration. I have no idea how to achieve this when it's same parameter but different values each time.</p>\n<p>P.S. Added what OutTarget does. It's basically the same process  but with diff values each time.</p>\n"},{"tags":["java","arrays","function"],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650622776,"creation_date":1650619255,"answer_id":71966365,"question_id":71966183,"body_markdown":"A 2d array is an array of arrays.\r\n\r\n    int[] [] array =... ;\r\n\r\n1. Get the row and column counts\r\n\r\n    int yCount = array.length;\r\n    int xCount = array[0].length;\r\n\r\n2. Copy the array because changing values of something, you are iterating, can cause problems.\r\n\r\n    int[] [] copied Array =... ;\r\n\r\n3. Loop over everything.\r\n\r\n    If a number%2 equals 0, then the number is even.\r\n\r\nYou can use copiedArray[i][y] for setting the numbers. \r\n\r\nI and Y are the countervariables of your loops. \r\n\r\n\r\n**Example: This checks the array numbers, so it begins with 0. \r\nPlease note: The &quot;copied array&quot; is the argument array of the function (call by value).**\r\n\r\n\r\n    public static void main(String[] args) {\r\n\t\tint[][] array2d = { { 1, 3, 6, 2 }, { 7, 5, 6, 1 }, { 3, 3, 1, 5 }, { 9, 0, 5, 3 } };\r\n\r\n\t\tSystem.out.println(Arrays.deepToString(array2d));\r\n\t\tSystem.out.println(Arrays.deepToString(multiplyMatrix(array2d)));\r\n\t}\r\n\r\n\tpublic static int[][] multiplyMatrix(int[][] array2d) {\r\n\t\tint rowsCount = array2d.length; // == 4\r\n\t\tint columnsCount = array2d[0].length; // == 4\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; columnsCount; i++) {\r\n\t\t\tfor (int j = 0; j &lt; rowsCount; j++) {\r\n\t\t\t\tif (i % 2 == 0 &amp;&amp; array2d[i][j] % 2 == 0) {\r\n\t\t\t\t\tarray2d[i][j] = array2d[i][j] * 2;\r\n\t\t\t\t}\r\n\t\t\t\tif (i % 2 != 0 &amp;&amp; array2d[i][j] % 2 != 0) {\r\n\t\t\t\t\tarray2d[i][j] = array2d[i][j] * 2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn array2d;\r\n\t}","title":"I&#39;m trying to use a function to modify this 2d array to double the even numbers on the even rows and double the odd numbers on the odd rows","body":"<p>A 2d array is an array of arrays.</p>\n<pre><code>int[] [] array =... ;\n</code></pre>\n<ol>\n<li><p>Get the row and column counts</p>\n<p>int yCount = array.length;\nint xCount = array[0].length;</p>\n</li>\n<li><p>Copy the array because changing values of something, you are iterating, can cause problems.</p>\n<p>int[] [] copied Array =... ;</p>\n</li>\n<li><p>Loop over everything.</p>\n<p>If a number%2 equals 0, then the number is even.</p>\n</li>\n</ol>\n<p>You can use copiedArray[i][y] for setting the numbers.</p>\n<p>I and Y are the countervariables of your loops.</p>\n<p><strong>Example: This checks the array numbers, so it begins with 0.\nPlease note: The &quot;copied array&quot; is the argument array of the function (call by value).</strong></p>\n<pre><code>public static void main(String[] args) {\n    int[][] array2d = { { 1, 3, 6, 2 }, { 7, 5, 6, 1 }, { 3, 3, 1, 5 }, { 9, 0, 5, 3 } };\n\n    System.out.println(Arrays.deepToString(array2d));\n    System.out.println(Arrays.deepToString(multiplyMatrix(array2d)));\n}\n\npublic static int[][] multiplyMatrix(int[][] array2d) {\n    int rowsCount = array2d.length; // == 4\n    int columnsCount = array2d[0].length; // == 4\n    \n    for (int i = 0; i &lt; columnsCount; i++) {\n        for (int j = 0; j &lt; rowsCount; j++) {\n            if (i % 2 == 0 &amp;&amp; array2d[i][j] % 2 == 0) {\n                array2d[i][j] = array2d[i][j] * 2;\n            }\n            if (i % 2 != 0 &amp;&amp; array2d[i][j] % 2 != 0) {\n                array2d[i][j] = array2d[i][j] * 2;\n            }\n        }\n    }\n    return array2d;\n}\n</code></pre>\n"}],"owner":{"account_id":24719903,"reputation":11,"user_id":18609136,"display_name":"Christopher F."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650622776,"creation_date":1650618468,"question_id":71966183,"body_markdown":"I&#39;m trying to use a function to modify this 2d array to double the even numbers on the even rows and double the odd numbers on the odd rows. For instance if my 2d array is \r\n\r\n   \r\n\r\n     {1,3,6,2}\r\n       ,{7,5,6,1}\r\n       ,{3,3,1,5}\r\n       ,{9,0,5,3}\r\n\r\n \r\nthen it should come out like this\r\n\r\n   \r\n\r\n     {1,2,12,4}\r\n       ,{14,10,6,2}\r\n       ,{3,3,1,5}\r\n       ,{18,0,10,6}\r\n\r\n\r\nright now my code looks like this\r\n\r\n   \r\n\r\n     public static void main(String[] args) {\r\n    \r\n            int[][] a = {{1,3,6,2}\r\n                        ,{7,5,6,1}\r\n                        ,{3,3,1,5}\r\n                        ,{9,0,5,3}};\r\n    \r\n            System.out.println(Arrays.deepToString(multiplyMatrix(a)));\r\n        }\r\n        public static int[][] multiplyMatrix(int[][] input){\r\n    \r\n            for (int row = 0; row &lt; input.length; row++) {\r\n                if (row%2==0){\r\n                    for (int col = 0; col &lt; input[row].length; col++) {\r\n                        if (col%2==0){\r\n    \r\n                        }\r\n                    }\r\n                } else {\r\n                    for (int col = 0; col &lt; input[row].length; col++) {\r\n                        if (col%2!=0){\r\n    \r\n                        }\r\n                    }\r\n                }\r\n    \r\n            }\r\n    \r\n            return null;\r\n    \r\n        }\r\n\r\nas it is I&#39;m trying to use nested for loops and if loops to check the row to see if its even or not then check if the column is even or not but i dont know how to set the rest of it up.\r\n","title":"I&#39;m trying to use a function to modify this 2d array to double the even numbers on the even rows and double the odd numbers on the odd rows","body":"<p>I'm trying to use a function to modify this 2d array to double the even numbers on the even rows and double the odd numbers on the odd rows. For instance if my 2d array is</p>\n<pre><code> {1,3,6,2}\n   ,{7,5,6,1}\n   ,{3,3,1,5}\n   ,{9,0,5,3}\n</code></pre>\n<p>then it should come out like this</p>\n<pre><code> {1,2,12,4}\n   ,{14,10,6,2}\n   ,{3,3,1,5}\n   ,{18,0,10,6}\n</code></pre>\n<p>right now my code looks like this</p>\n<pre><code> public static void main(String[] args) {\n\n        int[][] a = {{1,3,6,2}\n                    ,{7,5,6,1}\n                    ,{3,3,1,5}\n                    ,{9,0,5,3}};\n\n        System.out.println(Arrays.deepToString(multiplyMatrix(a)));\n    }\n    public static int[][] multiplyMatrix(int[][] input){\n\n        for (int row = 0; row &lt; input.length; row++) {\n            if (row%2==0){\n                for (int col = 0; col &lt; input[row].length; col++) {\n                    if (col%2==0){\n\n                    }\n                }\n            } else {\n                for (int col = 0; col &lt; input[row].length; col++) {\n                    if (col%2!=0){\n\n                    }\n                }\n            }\n\n        }\n\n        return null;\n\n    }\n</code></pre>\n<p>as it is I'm trying to use nested for loops and if loops to check the row to see if its even or not then check if the column is even or not but i dont know how to set the rest of it up.</p>\n"},{"tags":["java","java.util.logging"],"comments":[{"owner":{"account_id":130717,"reputation":14948,"user_id":330184,"accept_rate":80,"display_name":"bwawok"},"score":2,"creation_date":1276286341,"post_id":3025691,"comment_id":3094145,"body_markdown":"The built in logger isn&#39;t that great. Replace it with log4j (http://logging.apache.org/log4j/1.2/). There are some good documents on the log4j site explaining how to use it...","body":"The built in logger isn&#39;t that great. Replace it with log4j (<a href=\"http://logging.apache.org/log4j/1.2/\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/1.2</a>). There are some good documents on the log4j site explaining how to use it..."},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":0,"creation_date":1276286526,"post_id":3025691,"comment_id":3094176,"body_markdown":"@bwawok: It&#39;s also not a bad idea writing against Apache Commons Logging.  It will use log4j if it&#39;s available or fall back to the built-in logging if log4j isn&#39;t available.","body":"@bwawok: It&#39;s also not a bad idea writing against Apache Commons Logging.  It will use log4j if it&#39;s available or fall back to the built-in logging if log4j isn&#39;t available."},{"owner":{"account_id":130717,"reputation":14948,"user_id":330184,"accept_rate":80,"display_name":"bwawok"},"score":2,"creation_date":1276289396,"post_id":3025691,"comment_id":3094556,"body_markdown":"I would not use commons logging. Has a lot of problems with it, and stinks when using tomcat. If coding for yourself code in log4j. If coding a library, code with slf4j (http://www.slf4j.org)","body":"I would not use commons logging. Has a lot of problems with it, and stinks when using tomcat. If coding for yourself code in log4j. If coding a library, code with slf4j (<a href=\"http://www.slf4j.org\" rel=\"nofollow noreferrer\">slf4j.org</a>)"},{"owner":{"account_id":1065539,"reputation":303,"user_id":2691118,"accept_rate":60,"display_name":"User"},"score":0,"creation_date":1471976046,"post_id":3025691,"comment_id":65563441,"body_markdown":"Instead of just saying &quot;built in logging sucks&quot;, it might be helpful to explain why instead of just parroting popular opinion blindly...","body":"Instead of just saying &quot;built in logging sucks&quot;, it might be helpful to explain why instead of just parroting popular opinion blindly..."}],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1413460140,"creation_date":1276286132,"answer_id":3025794,"question_id":3025691,"body_markdown":"&gt; Where do I see the log?\r\n\r\nIn a log file or standard output, depending on your actual log handler configuration. This can be set via a property file or directly via the logging API.\r\n\r\n&gt; Does this mean that if I have 3 request level log...\r\n\r\n`SEVERE` is the most important (highest priority) and `FINE` is the least important message type of the 3 shown in your example. So if your log level is `SEVERE`, only the `SEVERE` messages get logged. If level is `FINE`, all 3 messages get logged.\r\n\r\nThis is very useful when in real production environment, you may want to log only the errors and possibly warnings (which are - hopefully - fairly rare, but you want to know about them), so you can set log level to `WARNING`. However, in your development environment, when e.g. debugging a problem, you want to see all information in the logs, even though it creates a large amount of log data and slows down the application. So you set log level to `FINE` or `FINEST`.\r\n\r\nHere is a good [introduction to Java Logging][1].\r\n\r\n**Update:** a simple example from the above page to configure the logger to log to a file at level `FINEST`:\r\n\r\n    Handler fh = new FileHandler(&quot;%t/wombat.log&quot;);\r\n    Logger.getLogger(&quot;&quot;).addHandler(fh);\r\n    Logger.getLogger(&quot;com.wombat&quot;).setLevel(Level.FINEST);\r\n\r\nTo log to the console, replace the `FileHandler` above with a `ConsoleHandler`:\r\n\r\n    Handler ch = new ConsoleHandler();\r\n    Logger.getLogger(&quot;&quot;).addHandler(ch);\r\n\r\nThis is just an example though - in a real app, it is preferable to configure the logging via a config property file.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/technotes/guides/logging/overview.html","title":"Where does java.util.logging.Logger store their log","body":"<blockquote>\n  <p>Where do I see the log?</p>\n</blockquote>\n\n<p>In a log file or standard output, depending on your actual log handler configuration. This can be set via a property file or directly via the logging API.</p>\n\n<blockquote>\n  <p>Does this mean that if I have 3 request level log...</p>\n</blockquote>\n\n<p><code>SEVERE</code> is the most important (highest priority) and <code>FINE</code> is the least important message type of the 3 shown in your example. So if your log level is <code>SEVERE</code>, only the <code>SEVERE</code> messages get logged. If level is <code>FINE</code>, all 3 messages get logged.</p>\n\n<p>This is very useful when in real production environment, you may want to log only the errors and possibly warnings (which are - hopefully - fairly rare, but you want to know about them), so you can set log level to <code>WARNING</code>. However, in your development environment, when e.g. debugging a problem, you want to see all information in the logs, even though it creates a large amount of log data and slows down the application. So you set log level to <code>FINE</code> or <code>FINEST</code>.</p>\n\n<p>Here is a good <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/logging/overview.html\" rel=\"noreferrer\">introduction to Java Logging</a>.</p>\n\n<p><strong>Update:</strong> a simple example from the above page to configure the logger to log to a file at level <code>FINEST</code>:</p>\n\n<pre><code>Handler fh = new FileHandler(\"%t/wombat.log\");\nLogger.getLogger(\"\").addHandler(fh);\nLogger.getLogger(\"com.wombat\").setLevel(Level.FINEST);\n</code></pre>\n\n<p>To log to the console, replace the <code>FileHandler</code> above with a <code>ConsoleHandler</code>:</p>\n\n<pre><code>Handler ch = new ConsoleHandler();\nLogger.getLogger(\"\").addHandler(ch);\n</code></pre>\n\n<p>This is just an example though - in a real app, it is preferable to configure the logging via a config property file.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1355300560,"creation_date":1276286327,"answer_id":3025813,"question_id":3025691,"body_markdown":"The [Java TM Logging Overview][1] is quite interesting to answer all your questions on the Java `Logger`:\n\n![logging overview][2]\n\nYou will see your log where the `Handler`(s) associated with your `Logger` will generate said Log (in a `Console`, or in a `Stream`...).  \nThe default configuration establishes a single handler on the root logger for sending output to the console.\n\n&gt; **Log Level**:\n&gt;\n&gt; Each log message has an associated log Level. The Level gives a rough guide to the importance and urgency of a log message. Log level objects encapsulate an integer value, with higher values indicating higher priorities.\n&gt;\n&gt; The `Level` class defines seven standard log levels, ranging from `FINEST` (the lowest priority, with the lowest value) to `SEVERE` (**the highest priority, with the highest value**).\n\n\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/logging/overview.html\n  [2]: http://i.stack.imgur.com/sWv3i.gif","title":"Where does java.util.logging.Logger store their log","body":"<p>The <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/logging/overview.html\" rel=\"nofollow noreferrer\">Java TM Logging Overview</a> is quite interesting to answer all your questions on the Java <code>Logger</code>:</p>\n<p><img src=\"https://i.stack.imgur.com/sWv3i.gif\" alt=\"logging overview\" /></p>\n<p>You will see your log where the <code>Handler</code>(s) associated with your <code>Logger</code> will generate said Log (in a <code>Console</code>, or in a <code>Stream</code>...).<br />\nThe default configuration establishes a single handler on the root logger for sending output to the console.</p>\n<blockquote>\n<p><strong>Log Level</strong>:</p>\n<p>Each log message has an associated log Level. The Level gives a rough guide to the importance and urgency of a log message. Log level objects encapsulate an integer value, with higher values indicating higher priorities.</p>\n<p>The <code>Level</code> class defines seven standard log levels, ranging from <code>FINEST</code> (the lowest priority, with the lowest value) to <code>SEVERE</code> (<strong>the highest priority, with the highest value</strong>).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":130623,"reputation":9348,"user_id":330013,"accept_rate":86,"display_name":"Andrew Hubbs"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1276286439,"creation_date":1276286439,"answer_id":3025823,"question_id":3025691,"body_markdown":"Where it goes is dependent on your configuration. There are details about this in the API docs. The log level is the exact reverse of what you said. If you have a configuration of `FINE`, everything that is `FINE, WARNING, SEVERE` will show up, but if you have it set to `SEVERE` then only those will come up.\r\n\r\nIn general you should use `FINE` while debugging and switch to `SEVERE` when it is in a production environment.","title":"Where does java.util.logging.Logger store their log","body":"<p>Where it goes is dependent on your configuration. There are details about this in the API docs. The log level is the exact reverse of what you said. If you have a configuration of <code>FINE</code>, everything that is <code>FINE, WARNING, SEVERE</code> will show up, but if you have it set to <code>SEVERE</code> then only those will come up.</p>\n\n<p>In general you should use <code>FINE</code> while debugging and switch to <code>SEVERE</code> when it is in a production environment.</p>\n"}],"owner":{"account_id":86417,"reputation":38255,"user_id":240337,"accept_rate":78,"display_name":"Thang Pham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70081,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":3025794,"answer_count":3,"score":43,"last_activity_date":1650622233,"creation_date":1276284994,"question_id":3025691,"body_markdown":"I am a bit lost with java Logger \r\n\r\n    private static Logger logger = Logger.getLogger(&quot;order.web.OrderManager&quot;);\r\n    logger.info(&quot;Removed order &quot; + id + &quot;.&quot;);\r\n\r\nWhere do I see the log? Also this quote from java.util.logging.Logger library: \r\n\r\n&gt;On each logging call the Logger initially performs a cheap check of the request level (e.g. SEVERE or FINE) against the effective log level of the logger. If the request level is lower than the log level, the logging call returns immediately.  \r\nAfter passing this initial (cheap) test, the Logger will allocate a LogRecord to describe the logging message. It will then call a Filter (if present) to do a more detailed check on whether the record should be published. If that passes it will then publish the LogRecord to its output Handlers.`\r\n\r\nDoes this mean that if I have 3 `request level` log:\r\n\r\n    logger.log(Level.FINE, &quot;Something&quot;);\r\n    logger.log(Level.WARNING, &quot;Something&quot;);\r\n    logger.log(Level.SEVERE, &quot;Something&quot;);\r\nAnd my `log level` is SEVERE, I can see all three logs, and if my `log level` is WARNING, then I can&#39;t see SEVERE log, is that correct? And how do I set the `log level`?","title":"Where does java.util.logging.Logger store their log","body":"<p>I am a bit lost with java Logger</p>\n<pre><code>private static Logger logger = Logger.getLogger(&quot;order.web.OrderManager&quot;);\nlogger.info(&quot;Removed order &quot; + id + &quot;.&quot;);\n</code></pre>\n<p>Where do I see the log? Also this quote from java.util.logging.Logger library:</p>\n<blockquote>\n<p>On each logging call the Logger initially performs a cheap check of the request level (e.g. SEVERE or FINE) against the effective log level of the logger. If the request level is lower than the log level, the logging call returns immediately.<br />\nAfter passing this initial (cheap) test, the Logger will allocate a LogRecord to describe the logging message. It will then call a Filter (if present) to do a more detailed check on whether the record should be published. If that passes it will then publish the LogRecord to its output Handlers.`</p>\n</blockquote>\n<p>Does this mean that if I have 3 <code>request level</code> log:</p>\n<pre><code>logger.log(Level.FINE, &quot;Something&quot;);\nlogger.log(Level.WARNING, &quot;Something&quot;);\nlogger.log(Level.SEVERE, &quot;Something&quot;);\n</code></pre>\n<p>And my <code>log level</code> is SEVERE, I can see all three logs, and if my <code>log level</code> is WARNING, then I can't see SEVERE log, is that correct? And how do I set the <code>log level</code>?</p>\n"},{"tags":["java","swing","printing","jtable"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1430469559,"post_id":29983846,"comment_id":48086985,"body_markdown":"Maybe something like [this](http://stackoverflow.com/questions/26660448/table-print-does-not-fit-to-page-size/26665276#26665276) can help","body":"Maybe something like <a href=\"http://stackoverflow.com/questions/26660448/table-print-does-not-fit-to-page-size/26665276#26665276\">this</a> can help"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1430469689,"post_id":29983846,"comment_id":48087036,"body_markdown":"You could also try using [`JTable#PrintMode.FIT_WIDTH`](http://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.PrintMode.html#FIT_WIDTH) or print in landscape mode","body":"You could also try using <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.PrintMode.html#FIT_WIDTH\" rel=\"nofollow noreferrer\"><code>JTable#PrintMode.FIT_WIDTH</code></a> or print in landscape mode"},{"owner":{"account_id":6137644,"reputation":57,"user_id":4785943,"display_name":"Kaushik"},"score":0,"creation_date":1430470049,"post_id":29983846,"comment_id":48087173,"body_markdown":"Thanks @MadProgrammer , it worked!!! but still problem is with description field. It is not showing entire description.","body":"Thanks @MadProgrammer , it worked!!! but still problem is with description field. It is not showing entire description."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1430470375,"post_id":29983846,"comment_id":48087307,"body_markdown":"In the example I linked, one of the solutions is to resize the columns.  You could resize the columns to fit the content before printing. Something like [this](http://stackoverflow.com/questions/15126651/how-to-auto-resize-all-columns-of-a-jtable-to-the-same-size/15127241#15127241) for example...","body":"In the example I linked, one of the solutions is to resize the columns.  You could resize the columns to fit the content before printing. Something like <a href=\"http://stackoverflow.com/questions/15126651/how-to-auto-resize-all-columns-of-a-jtable-to-the-same-size/15127241#15127241\">this</a> for example..."},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1430471931,"post_id":29983846,"comment_id":48087937,"body_markdown":"use JLabels instead of MessageFormat header/footer","body":"use JLabels instead of MessageFormat header/footer"}],"answers":[{"tags":[],"owner":{"account_id":21809509,"reputation":1,"user_id":16107271,"display_name":"R014 Dikshant Bhatiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650622226,"creation_date":1650622226,"answer_id":71967063,"question_id":29983846,"body_markdown":"TRY FIT_WIDTH INSTEAD OF  USING NORMAL.","title":"How to Print formatted JTable in Swing?","body":"<p>TRY FIT_WIDTH INSTEAD OF  USING NORMAL.</p>\n"}],"owner":{"account_id":6137644,"reputation":57,"user_id":4785943,"display_name":"Kaushik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":985,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650622226,"creation_date":1430469305,"question_id":29983846,"body_markdown":"I am printing JTable as below.\r\n\r\n    MessageFormat header = new MessageFormat(&quot;My Header&quot;);\r\n    MessageFormat footer = new MessageFormat(&quot;My Footer {0,number,integer}&quot;);\r\n    table1.print(JTable.PrintMode.NORMAL, header, footer);\r\n\r\nIt is working but issue is it splits single table into two parts as my table is having many columns.  See Screenshot.\r\n\r\nImage 1: Table in my application\r\n![JSwing Table][1]\r\n\r\nImage 2: Print Preview - Table is splitted into two parts.\r\n![Print Preview][2]\r\n\r\nCan anyone please help me in formatting table properly in Print Preview.\r\n\r\nAlso in description column some text are not appearing as there are many words in that field.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/op2DW.png\r\n  [2]: http://i.stack.imgur.com/QRjne.png","title":"How to Print formatted JTable in Swing?","body":"<p>I am printing JTable as below.</p>\n\n<pre><code>MessageFormat header = new MessageFormat(\"My Header\");\nMessageFormat footer = new MessageFormat(\"My Footer {0,number,integer}\");\ntable1.print(JTable.PrintMode.NORMAL, header, footer);\n</code></pre>\n\n<p>It is working but issue is it splits single table into two parts as my table is having many columns.  See Screenshot.</p>\n\n<p>Image 1: Table in my application\n<img src=\"https://i.stack.imgur.com/op2DW.png\" alt=\"JSwing Table\"></p>\n\n<p>Image 2: Print Preview - Table is splitted into two parts.\n<img src=\"https://i.stack.imgur.com/QRjne.png\" alt=\"Print Preview\"></p>\n\n<p>Can anyone please help me in formatting table properly in Print Preview.</p>\n\n<p>Also in description column some text are not appearing as there are many words in that field.</p>\n"},{"tags":["java","android","android-intent","android-activity","nullpointerexception"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1649791359,"post_id":71848017,"comment_id":126964298,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1649799541,"post_id":71848017,"comment_id":126966672,"body_markdown":"Please edit your question. Post the relevant code and the exception message with stacktrace. This will help us pinpoint the problem.","body":"Please edit your question. Post the relevant code and the exception message with stacktrace. This will help us pinpoint the problem."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1649804032,"post_id":71848017,"comment_id":126967557,"body_markdown":"Try the answers to [what is a nullpointer exception and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it#:~:text=The%20NullPointerException%20(NPE)%20occurs%20when,that%20does%20not%20actually%20exist.)","body":"Try the answers to <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it#:~:text=The%20NullPointerException%20(NPE)%20occurs%20when,that%20does%20not%20actually%20exist.\">what is a nullpointer exception and how do I fix it?</a>"}],"answers":[{"tags":[],"owner":{"account_id":13874847,"reputation":132,"user_id":10016783,"display_name":"return 0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650621961,"creation_date":1650621961,"answer_id":71967004,"question_id":71848017,"body_markdown":"Your code is a bit unclear but i guess youre trying to load a url using a webview on button click\r\n\r\n1. **In your Activity A**\r\n\r\n```\r\npublic void openWeb(String url){\r\nIntent intent=new Intent(ActivityA.this,ActivityB.class);\r\nintent.putExtra(&quot;webUrl&quot;,url);\r\nstartActivity(intent);\r\n}\r\n\r\n```\r\n\r\n2.**In your Activity B**\r\n\r\n```\r\nIntent intent=getIntent();\r\nString url=intent.getStringExtra(&quot;webUrl&quot;);\r\nwebView.loadUrl(url);\r\n```\r\n","title":"How to call a function of an activity trying to intent in another activity from mainactivity","body":"<p>Your code is a bit unclear but i guess youre trying to load a url using a webview on button click</p>\n<ol>\n<li><strong>In your Activity A</strong></li>\n</ol>\n<pre><code>public void openWeb(String url){\nIntent intent=new Intent(ActivityA.this,ActivityB.class);\nintent.putExtra(&quot;webUrl&quot;,url);\nstartActivity(intent);\n}\n\n</code></pre>\n<p>2.<strong>In your Activity B</strong></p>\n<pre><code>Intent intent=getIntent();\nString url=intent.getStringExtra(&quot;webUrl&quot;);\nwebView.loadUrl(url);\n</code></pre>\n"}],"owner":{"account_id":24917396,"reputation":1,"user_id":18786126,"display_name":"Ajay Shaw"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650621961,"creation_date":1649790968,"question_id":71848017,"body_markdown":"I want to make a Android java package to intent to an activity \r\nBut whenever i trying to intent it is giving me nullpointerexception\r\nWhen I run it \r\nThere is a newweb.java class in which there is this function\r\n\r\n    Public Void openweb(Context con,String url){\r\n        Intent i=new Intent(con,myweb.class);\r\n    i.putStringExtra(&quot;webcode&quot;,url);\r\n    startactivity(i);\r\n    \r\n       }\r\nmyweb is an activity\r\n\r\nIn Mainactivity \r\n\r\n        newweb web=new newweb();\r\n    Web.openweb(Mainactivity.this,url);\r\n\r\nBut error occurred \r\n nullpointerexception in newweb during intent\r\n    \r\n","title":"How to call a function of an activity trying to intent in another activity from mainactivity","body":"<p>I want to make a Android java package to intent to an activity\nBut whenever i trying to intent it is giving me nullpointerexception\nWhen I run it\nThere is a newweb.java class in which there is this function</p>\n<pre><code>Public Void openweb(Context con,String url){\n    Intent i=new Intent(con,myweb.class);\ni.putStringExtra(&quot;webcode&quot;,url);\nstartactivity(i);\n\n   }\n</code></pre>\n<p>myweb is an activity</p>\n<p>In Mainactivity</p>\n<pre><code>    newweb web=new newweb();\nWeb.openweb(Mainactivity.this,url);\n</code></pre>\n<p>But error occurred\nnullpointerexception in newweb during intent</p>\n"},{"tags":["java","unit-testing","junit","code-coverage"],"answers":[{"tags":[],"owner":{"account_id":226463,"reputation":16416,"user_id":487524,"accept_rate":88,"display_name":"epoch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650621578,"creation_date":1650621578,"answer_id":71966906,"question_id":71966468,"body_markdown":"You will need to hint to the code coverage provider that some code has been geenrated and should be excluded from coverage, lombok can do this by adding a generated annotation; if you configure\r\n\r\n```\r\nlombok.addLombokGeneratedAnnotation = true\r\n```","title":"JUNIT Test with string parameters","body":"<p>You will need to hint to the code coverage provider that some code has been geenrated and should be excluded from coverage, lombok can do this by adding a generated annotation; if you configure</p>\n<pre><code>lombok.addLombokGeneratedAnnotation = true\n</code></pre>\n"}],"owner":{"account_id":17498915,"reputation":51,"user_id":12689635,"display_name":"Ant3xes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650621578,"creation_date":1650619750,"question_id":71966468,"body_markdown":"I&#39;m a beginner and i&#39;m writing unittests and I&#39;ve stumbled across something I can&#39;t find a solution for that fits my needs. \r\n\r\nI want to write some Junit Test for that exceptions.\r\n\r\nThere is my class with my Method\r\n\r\n```\r\n\r\nimport javax.validation.constraints.Size;\r\n\r\nimport org.springframework.validation.annotation.Validated;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\nimport lombok.Data;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.ToString;\r\n\r\n/**\r\n * CustomerInfo\r\n */\r\n@Validated\r\n@javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.SpringCodegen&quot;, date = &quot;2022-02-21T07:51:10.135Z[GMT]&quot;)\r\n\r\n@Data\r\n@EqualsAndHashCode\r\n@ToString\r\npublic class CustomerInfo   {\r\n  @JsonProperty(&quot;LsId&quot;)\r\n  @Size(max=40)\r\n  private String lsId = null;\r\n\r\n  @JsonProperty(&quot;SocialReason&quot;)\r\n  @Size(max=100)\r\n  private String socialReason = null;\r\n\r\n  @JsonProperty(&quot;NationalId&quot;)\r\n  @Size(max=40)\r\n  private String nationalId = null;\r\n\r\n  public CustomerInfo lsId(String lsId) {\r\n    this.lsId = lsId;\r\n    return this;\r\n  }\r\n\r\n  public CustomerInfo socialReason(String socialReason) {\r\n    this.socialReason = socialReason;\r\n    return this;\r\n  }\r\n\r\n  public CustomerInfo nationalId(String nationalId) {\r\n    this.nationalId = nationalId;\r\n    return this;\r\n  }\r\n}\r\n ```\r\n\r\nand my testClass : \r\n\r\n```package com.bnpparibas.leasingsolutions.orusapi.agreements.model;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nimport org.aspectj.lang.annotation.Before;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.InjectMocks;\r\n\r\nclass CustomerInfoTest {\r\n\t\r\n\t\r\n\tCustomerInfo customInfo = new CustomerInfo();\r\n\r\n\t@Before(value = &quot;&quot;)\r\n\tpublic void setUp() {\r\n\t\tcustomInfo.setLsId(&quot;6485&quot;);\r\n\t\tcustomInfo.setSocialReason(&quot;banque de france&quot;);\r\n\t\tcustomInfo.setNationalId(&quot;54865&quot;);\r\n\t}\r\n\t\r\n\t@Test\r\n\tvoid testLsId() {\r\n\t\tassertEquals(customInfo, customInfo.lsId(&quot;4852&quot;));\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testSocialReason() {\r\n\t\tassertEquals(customInfo, customInfo.socialReason(&quot;bank&quot;));\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testNationalId() {\r\n\t\tassertEquals(customInfo, customInfo.nationalId(&quot;4852&quot;));\r\n\t}\r\n\r\n}\r\n ```\r\n\r\nMy tests pass but my coverage is average 30% with that, do you have some better ideas ?\r\n\r\nThank you !!","title":"JUNIT Test with string parameters","body":"<p>I'm a beginner and i'm writing unittests and I've stumbled across something I can't find a solution for that fits my needs.</p>\n<p>I want to write some Junit Test for that exceptions.</p>\n<p>There is my class with my Method</p>\n<pre><code>\nimport javax.validation.constraints.Size;\n\nimport org.springframework.validation.annotation.Validated;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\nimport lombok.ToString;\n\n/**\n * CustomerInfo\n */\n@Validated\n@javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.SpringCodegen&quot;, date = &quot;2022-02-21T07:51:10.135Z[GMT]&quot;)\n\n@Data\n@EqualsAndHashCode\n@ToString\npublic class CustomerInfo   {\n  @JsonProperty(&quot;LsId&quot;)\n  @Size(max=40)\n  private String lsId = null;\n\n  @JsonProperty(&quot;SocialReason&quot;)\n  @Size(max=100)\n  private String socialReason = null;\n\n  @JsonProperty(&quot;NationalId&quot;)\n  @Size(max=40)\n  private String nationalId = null;\n\n  public CustomerInfo lsId(String lsId) {\n    this.lsId = lsId;\n    return this;\n  }\n\n  public CustomerInfo socialReason(String socialReason) {\n    this.socialReason = socialReason;\n    return this;\n  }\n\n  public CustomerInfo nationalId(String nationalId) {\n    this.nationalId = nationalId;\n    return this;\n  }\n}\n</code></pre>\n<p>and my testClass :</p>\n<pre><code>\nimport static org.junit.jupiter.api.Assertions.*;\n\nimport org.aspectj.lang.annotation.Before;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.InjectMocks;\n\nclass CustomerInfoTest {\n    \n    \n    CustomerInfo customInfo = new CustomerInfo();\n\n    @Before(value = &quot;&quot;)\n    public void setUp() {\n        customInfo.setLsId(&quot;6485&quot;);\n        customInfo.setSocialReason(&quot;banque de france&quot;);\n        customInfo.setNationalId(&quot;54865&quot;);\n    }\n    \n    @Test\n    void testLsId() {\n        assertEquals(customInfo, customInfo.lsId(&quot;4852&quot;));\n    }\n\n    @Test\n    void testSocialReason() {\n        assertEquals(customInfo, customInfo.socialReason(&quot;bank&quot;));\n    }\n\n    @Test\n    void testNationalId() {\n        assertEquals(customInfo, customInfo.nationalId(&quot;4852&quot;));\n    }\n\n}\n</code></pre>\n<p>My tests pass but my coverage is average 30% with that, do you have some better ideas ?</p>\n<p>Thank you !!</p>\n"},{"tags":["java","scala","protocol-buffers","google-ads-api"],"comments":[{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1649900064,"post_id":71862340,"comment_id":126994487,"body_markdown":"As this seems to be a discrepancy between the existing and recommended libraries, I think you&#39;d be best placed filing an issue on Google&#39;s repo for the library or raising this on its forums. https://github.com/googleads/google-ads-java","body":"As this seems to be a discrepancy between the existing and recommended libraries, I think you&#39;d be best placed filing an issue on Google&#39;s repo for the library or raising this on its forums. <a href=\"https://github.com/googleads/google-ads-java\" rel=\"nofollow noreferrer\">github.com/googleads/google-ads-java</a>"}],"answers":[{"tags":[],"owner":{"account_id":16056851,"reputation":11,"user_id":11588898,"display_name":"Taras Kondratiuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650621572,"creation_date":1650621572,"answer_id":71966902,"question_id":71862340,"body_markdown":"Received response from google team:\r\n\r\n&quot;Using [segments](https://developers.google.com/google-ads/api/fields/v10/segments?hl=en) fields in your query may result in fewer records being returned. This behavior is further explained in this [section](https://developers.google.com/google-ads/api/docs/reporting/segmentation?hl=en#selectability_between_segments_and_metrics) of our [segmentation](https://developers.google.com/google-ads/api/docs/reporting/segmentation?hl=en) guide. If no values can be associated to the segments field that is included in the SELECT clause, then no records will also be returned for it.\r\n\r\nIn addition, zero metrics records may also not be returned when segments fields are used as per this [other guide](https://developers.google.com/google-ads/api/docs/reporting/zero-metrics?hl=en#exclude_zero_metrics_by_segmenting).&quot;","title":"google ads api doesn&#39;t return rows with null columns","body":"<p>Received response from google team:</p>\n<p>&quot;Using <a href=\"https://developers.google.com/google-ads/api/fields/v10/segments?hl=en\" rel=\"nofollow noreferrer\">segments</a> fields in your query may result in fewer records being returned. This behavior is further explained in this <a href=\"https://developers.google.com/google-ads/api/docs/reporting/segmentation?hl=en#selectability_between_segments_and_metrics\" rel=\"nofollow noreferrer\">section</a> of our <a href=\"https://developers.google.com/google-ads/api/docs/reporting/segmentation?hl=en\" rel=\"nofollow noreferrer\">segmentation</a> guide. If no values can be associated to the segments field that is included in the SELECT clause, then no records will also be returned for it.</p>\n<p>In addition, zero metrics records may also not be returned when segments fields are used as per this <a href=\"https://developers.google.com/google-ads/api/docs/reporting/zero-metrics?hl=en#exclude_zero_metrics_by_segmenting\" rel=\"nofollow noreferrer\">other guide</a>.&quot;</p>\n"}],"owner":{"account_id":16056851,"reputation":11,"user_id":11588898,"display_name":"Taras Kondratiuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71966902,"answer_count":1,"score":0,"last_activity_date":1650621572,"creation_date":1649874727,"question_id":71862340,"body_markdown":"Migrating from AdWords to GoogleAds api.\r\n\r\nQuerying search_term_view:\r\n```\r\nval googleAdsClient: GoogleAdsClient = GoogleAdsClient.newBuilder()\r\n  .setCredentials(credential)\r\n  .setDeveloperToken(developerToken)\r\n  .setLoginCustomerId(loginCustomerId.toLong)\r\n  .build()\r\n   \r\nval svc = googleAdsClient.getLatestVersion.createGoogleAdsServiceClient()\r\n\r\nval query = s&quot;&quot;&quot;\r\n  SELECT \r\n    segments.keyword.info.text\r\n    ,search_term_view.search_term\r\n    ,segments.date\r\n  FROM search_term_view\r\n  WHERE segments.date BETWEEN &#39;2022-01-01&#39; AND &#39;2022-01-01&#39;\r\n&quot;&quot;&quot;\r\n\r\nsvc.search(customerId, query).iteratePages().asScala.foreach { page =&gt;\r\n  page.iterateAll().asScala.foreach { row =&gt;\r\n    //row processing\r\n  }\r\n}\r\n```\r\n\r\nThe issue is that svc.search() skips rows, if one of columns is null.\r\nSo getting results like\r\n```\r\ntext1,term1\r\ntext2,term2\r\n```\r\nWhile same request to Adwords api returns results like\r\n```\r\ntext1,term1\r\ntext2,term2\r\n--,term3\r\n```\r\nHaven&#39;t found anything about nulls ignoring in docs.\r\n\r\nUsing latest google ads v10 lib:\r\n&quot;com.google.api-ads&quot;   % &quot;google-ads&quot;                   % &quot;17.0.1&quot;\r\n ","title":"google ads api doesn&#39;t return rows with null columns","body":"<p>Migrating from AdWords to GoogleAds api.</p>\n<p>Querying search_term_view:</p>\n<pre><code>val googleAdsClient: GoogleAdsClient = GoogleAdsClient.newBuilder()\n  .setCredentials(credential)\n  .setDeveloperToken(developerToken)\n  .setLoginCustomerId(loginCustomerId.toLong)\n  .build()\n   \nval svc = googleAdsClient.getLatestVersion.createGoogleAdsServiceClient()\n\nval query = s&quot;&quot;&quot;\n  SELECT \n    segments.keyword.info.text\n    ,search_term_view.search_term\n    ,segments.date\n  FROM search_term_view\n  WHERE segments.date BETWEEN '2022-01-01' AND '2022-01-01'\n&quot;&quot;&quot;\n\nsvc.search(customerId, query).iteratePages().asScala.foreach { page =&gt;\n  page.iterateAll().asScala.foreach { row =&gt;\n    //row processing\n  }\n}\n</code></pre>\n<p>The issue is that svc.search() skips rows, if one of columns is null.\nSo getting results like</p>\n<pre><code>text1,term1\ntext2,term2\n</code></pre>\n<p>While same request to Adwords api returns results like</p>\n<pre><code>text1,term1\ntext2,term2\n--,term3\n</code></pre>\n<p>Haven't found anything about nulls ignoring in docs.</p>\n<p>Using latest google ads v10 lib:\n&quot;com.google.api-ads&quot;   % &quot;google-ads&quot;                   % &quot;17.0.1&quot;</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":10153177,"reputation":5292,"user_id":7499069,"display_name":"tuhin47"},"score":0,"creation_date":1647668725,"post_id":71535625,"comment_id":126433715,"body_markdown":"what is the use case of it?","body":"what is the use case of it?"},{"owner":{"account_id":20853579,"reputation":338,"user_id":16436722,"display_name":"стасевич"},"score":0,"creation_date":1647668860,"post_id":71535625,"comment_id":126433735,"body_markdown":"@tuhin47\n im on trainee and mentor write in pull request to move dependencies to properties","body":"@tuhin47  im on trainee and mentor write in pull request to move dependencies to properties"},{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1647689325,"post_id":71535625,"comment_id":126437000,"body_markdown":"What you are asking for and saying makes no sense. You need to explain much better what you are trying to do and why.","body":"What you are asking for and saying makes no sense. You need to explain much better what you are trying to do and why."},{"owner":{"account_id":20853579,"reputation":338,"user_id":16436722,"display_name":"стасевич"},"score":0,"creation_date":1647695534,"post_id":71535625,"comment_id":126438116,"body_markdown":"@RoToRa i have a very strange mentor, he can not to answer for my questions for the whole day... i&#39;d love to explayne, but i dont understand what he want from me","body":"@RoToRa i have a very strange mentor, he can not to answer for my questions for the whole day... i&#39;d love to explayne, but i dont understand what he want from me"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1647695898,"post_id":71535625,"comment_id":126438168,"body_markdown":"@стасевич Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nPlease see: [Why is “Is it possible to…” a poorly worded question?](https://softwareengineering.meta.stackexchange.com/q/7273).\nPlease show your attempts you have tried and the problems/error messages you get from your attempts.","body":"@стасевич Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Please see: <a href=\"https://softwareengineering.meta.stackexchange.com/q/7273\">Why is “Is it possible to…” a poorly worded question?</a>. Please show your attempts you have tried and the problems/error messages you get from your attempts."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1647695964,"post_id":71535625,"comment_id":126438185,"body_markdown":"@стасевич You might want to check other questions like https://stackoverflow.com/questions/849389/how-to-read-an-external-properties-file-in-maven","body":"@стасевич You might want to check other questions like <a href=\"https://stackoverflow.com/questions/849389/how-to-read-an-external-properties-file-in-maven\" title=\"how to read an external properties file in maven\">stackoverflow.com/questions/849389/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650621471,"creation_date":1649932707,"answer_id":71870263,"question_id":71535625,"body_markdown":"Your mentor is not asking you to move the dependencies to the file `application.properties`, but to move the dependency versions to the [`&lt;properties&gt;` section][1] of the maven file (`pom.xml`).\r\n\r\nExample:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n      &lt;version&gt;${postgresql.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;  \r\n\r\nAnd then in the `&lt;properties&gt;` section:\r\n\r\n    &lt;properties&gt;\r\n      &lt;postgresql.version&gt;42.3.3&lt;/postgresql.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n  [1]: https://maven.apache.org/pom.html#Properties","title":"Moving dependencies from pom to properties file","body":"<p>Your mentor is not asking you to move the dependencies to the file <code>application.properties</code>, but to move the dependency versions to the <a href=\"https://maven.apache.org/pom.html#Properties\" rel=\"nofollow noreferrer\"><code>&lt;properties&gt;</code> section</a> of the maven file (<code>pom.xml</code>).</p>\n<p>Example:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n  &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n  &lt;version&gt;${postgresql.version}&lt;/version&gt;\n&lt;/dependency&gt;  \n</code></pre>\n<p>And then in the <code>&lt;properties&gt;</code> section:</p>\n<pre><code>&lt;properties&gt;\n  &lt;postgresql.version&gt;42.3.3&lt;/postgresql.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":20853579,"reputation":338,"user_id":16436722,"display_name":"стасевич"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71870263,"answer_count":1,"score":0,"last_activity_date":1650621471,"creation_date":1647667746,"question_id":71535625,"body_markdown":"is there any way to moving dependencies from **pom.xml** to **application.properties** file?\r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n          &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n          &lt;version&gt;42.3.3&lt;/version&gt;\r\n        &lt;/dependency&gt;  \r\n\r\nsomehow move to **src/main/resources/application.properties**?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bZ2Ft.png","title":"Moving dependencies from pom to properties file","body":"<p>is there any way to moving dependencies from <strong>pom.xml</strong> to <strong>application.properties</strong> file?</p>\n<pre><code>  &lt;dependency&gt;\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;version&gt;42.3.3&lt;/version&gt;\n    &lt;/dependency&gt;  \n</code></pre>\n<p>somehow move to <strong>src/main/resources/application.properties</strong>?</p>\n<p><a href=\"https://i.stack.imgur.com/bZ2Ft.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bZ2Ft.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mqtt","quarkus","vert.x"],"comments":[{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1650635987,"post_id":71966842,"comment_id":127172804,"body_markdown":"Show us what you&#39;ve tried and how you&#39;ve configured the client.","body":"Show us what you&#39;ve tried and how you&#39;ve configured the client."},{"owner":{"account_id":2085245,"reputation":2131,"user_id":1856391,"accept_rate":84,"display_name":"Maritim"},"score":0,"creation_date":1650835667,"post_id":71966842,"comment_id":127210974,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":12766878,"reputation":21,"user_id":9382949,"display_name":"Brahim Mahjoubi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650621274,"creation_date":1650621274,"question_id":71966842,"body_markdown":"I&#39;m using Vertx to connect and subscribe to MQTT broker from a Quarkus backend application, the problem is when the broker is getting restarted or the connection gets lost, the client does not reconnect automatically again, is there a way a make an automatic reconnection?","title":"reconnect to MQTT broker using Vertx library from Quarkus backend application","body":"<p>I'm using Vertx to connect and subscribe to MQTT broker from a Quarkus backend application, the problem is when the broker is getting restarted or the connection gets lost, the client does not reconnect automatically again, is there a way a make an automatic reconnection?</p>\n"},{"tags":["java","maven","proguard"],"answers":[{"tags":[],"owner":{"account_id":8539001,"reputation":779,"user_id":6399721,"display_name":"Vinay Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603965205,"creation_date":1603965205,"answer_id":64588666,"question_id":64464231,"body_markdown":"After updating the `proguard-maven-plugin` version, I am not seeing the issue anymore. I have updated the plugin version to `2.3.1`.","title":"Proguard plugin is giving error: Failed to execute goal: proguard (default) on project X: Obfuscation failed (result=1)","body":"<p>After updating the <code>proguard-maven-plugin</code> version, I am not seeing the issue anymore. I have updated the plugin version to <code>2.3.1</code>.</p>\n"},{"tags":[],"owner":{"account_id":20746819,"reputation":1,"user_id":15235238,"display_name":"MarcelinD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650621226,"creation_date":1650621226,"answer_id":71966832,"question_id":64464231,"body_markdown":"I have added **pluginManagement**\r\nbefore plugins and the error was disappeared.","title":"Proguard plugin is giving error: Failed to execute goal: proguard (default) on project X: Obfuscation failed (result=1)","body":"<p>I have added <strong>pluginManagement</strong>\nbefore plugins and the error was disappeared.</p>\n"}],"owner":{"account_id":8539001,"reputation":779,"user_id":6399721,"display_name":"Vinay Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3524,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1650621226,"creation_date":1603285622,"question_id":64464231,"body_markdown":"I am working on an open source Java Maven project which is using `proguard-maven-plugin` to obfuscate the application code. It is working fine until I have added 2 new maven dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.formdev&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;flatlaf&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.43&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.formdev&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;flatlaf-intellij-themes&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.43&lt;/version&gt;\r\n&lt;/dependency&gt;    \r\n```\r\n\r\nAfter that, I started getting the following error stack while run `mvn clean install` cmd:\r\n\r\n```\r\n[ERROR] Failed to execute goal com.github.wvengen:proguard-maven-plugin:2.0.14:proguard (default) on project X: Obfuscation failed (result=1) -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.github.wvengen:proguard-maven-plugin:2.0.14:proguard (default) on project X: Obfuscation failed (result=1)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: Obfuscation failed (result=1)\r\n    at com.github.wvengen.maven.proguard.ProGuardMojo.proguardMain (ProGuardMojo.java:814)\r\n    at com.github.wvengen.maven.proguard.ProGuardMojo.execute (ProGuardMojo.java:617)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n[ERROR] \r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\n\r\nI don&#39;t have much idea of `Proguard` and I have checked various posts to find the reason for the error or possible solution, but no success at all. If I remove those two dependencies, it works as expected (without any error).\r\n\r\nThis is `proguard-maven-plugin` configuration in my `pom.xml` file:\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.0.14&lt;/version&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sf.proguard&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;proguard-base&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;proguard&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;proguardVersion&gt;6.0.3&lt;/proguardVersion&gt;\r\n\t\t&lt;obfuscate&gt;true&lt;/obfuscate&gt;\r\n\t\t&lt;injar&gt;${project.build.finalName}.jar&lt;/injar&gt;\r\n\t\t&lt;outjar&gt;${project.build.finalName}.jar&lt;/outjar&gt;\r\n\t\t&lt;includeDependency&gt;true&lt;/includeDependency&gt;\r\n\t\t&lt;addMavenDescriptor&gt;true&lt;/addMavenDescriptor&gt;\r\n\t\t&lt;silent&gt;true&lt;/silent&gt;\r\n\t\t&lt;options&gt;\r\n\t\t\t&lt;option&gt;-dontshrink&lt;/option&gt;\r\n\t\t\t&lt;option&gt;-optimizations no_optimizations&lt;/option&gt;\r\n\t\t\t&lt;option&gt;-keep class com.X.model.** { public protected private *; }&lt;/option&gt;\r\n\t\t\t&lt;option&gt;-keep class com.X.rest.service.** { public protected private *; }&lt;/option&gt;\r\n\t\t\t&lt;option&gt;-keepnames class ** { public protected *; }&lt;/option&gt;\r\n\t\t\t&lt;option&gt;-keepattributes *Annotation*,Signature,EnclosingMethod,InnerClasses,Exceptions,MethodParameters,SourceFile,LineNumberTable&lt;/option&gt;\r\n\t\t&lt;/options&gt;\r\n\t\t&lt;libs&gt;\r\n\t\t\t&lt;lib&gt;${java.home}/lib/rt.jar&lt;/lib&gt;\r\n\t\t\t&lt;lib&gt;${java.home}/lib/jce.jar&lt;/lib&gt;\r\n\t\t&lt;/libs&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt; \r\n```\r\n\r\nAny help would be appreciated. Thanks in advance!","title":"Proguard plugin is giving error: Failed to execute goal: proguard (default) on project X: Obfuscation failed (result=1)","body":"<p>I am working on an open source Java Maven project which is using <code>proguard-maven-plugin</code> to obfuscate the application code. It is working fine until I have added 2 new maven dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.formdev&lt;/groupId&gt;\n    &lt;artifactId&gt;flatlaf&lt;/artifactId&gt;\n    &lt;version&gt;0.43&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.formdev&lt;/groupId&gt;\n    &lt;artifactId&gt;flatlaf-intellij-themes&lt;/artifactId&gt;\n    &lt;version&gt;0.43&lt;/version&gt;\n&lt;/dependency&gt;    \n</code></pre>\n<p>After that, I started getting the following error stack while run <code>mvn clean install</code> cmd:</p>\n<pre><code>[ERROR] Failed to execute goal com.github.wvengen:proguard-maven-plugin:2.0.14:proguard (default) on project X: Obfuscation failed (result=1) -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.github.wvengen:proguard-maven-plugin:2.0.14:proguard (default) on project X: Obfuscation failed (result=1)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Obfuscation failed (result=1)\n    at com.github.wvengen.maven.proguard.ProGuardMojo.proguardMain (ProGuardMojo.java:814)\n    at com.github.wvengen.maven.proguard.ProGuardMojo.execute (ProGuardMojo.java:617)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>I don't have much idea of <code>Proguard</code> and I have checked various posts to find the reason for the error or possible solution, but no success at all. If I remove those two dependencies, it works as expected (without any error).</p>\n<p>This is <code>proguard-maven-plugin</code> configuration in my <code>pom.xml</code> file:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\n    &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.0.14&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.proguard&lt;/groupId&gt;\n            &lt;artifactId&gt;proguard-base&lt;/artifactId&gt;\n            &lt;version&gt;6.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;proguard&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;proguardVersion&gt;6.0.3&lt;/proguardVersion&gt;\n        &lt;obfuscate&gt;true&lt;/obfuscate&gt;\n        &lt;injar&gt;${project.build.finalName}.jar&lt;/injar&gt;\n        &lt;outjar&gt;${project.build.finalName}.jar&lt;/outjar&gt;\n        &lt;includeDependency&gt;true&lt;/includeDependency&gt;\n        &lt;addMavenDescriptor&gt;true&lt;/addMavenDescriptor&gt;\n        &lt;silent&gt;true&lt;/silent&gt;\n        &lt;options&gt;\n            &lt;option&gt;-dontshrink&lt;/option&gt;\n            &lt;option&gt;-optimizations no_optimizations&lt;/option&gt;\n            &lt;option&gt;-keep class com.X.model.** { public protected private *; }&lt;/option&gt;\n            &lt;option&gt;-keep class com.X.rest.service.** { public protected private *; }&lt;/option&gt;\n            &lt;option&gt;-keepnames class ** { public protected *; }&lt;/option&gt;\n            &lt;option&gt;-keepattributes *Annotation*,Signature,EnclosingMethod,InnerClasses,Exceptions,MethodParameters,SourceFile,LineNumberTable&lt;/option&gt;\n        &lt;/options&gt;\n        &lt;libs&gt;\n            &lt;lib&gt;${java.home}/lib/rt.jar&lt;/lib&gt;\n            &lt;lib&gt;${java.home}/lib/jce.jar&lt;/lib&gt;\n        &lt;/libs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt; \n</code></pre>\n<p>Any help would be appreciated. Thanks in advance!</p>\n"},{"tags":["java","spring-boot","concurrency","twilio","azure-cognitive-services"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1650460344,"post_id":71935805,"comment_id":127121192,"body_markdown":"Re, &quot;I am not sure if I need to use synchronized here.&quot; Where is _here?_ That&#39;s a big wodge of code. Maybe you could create an [SSCCE](http://sscce.org/).","body":"Re, &quot;I am not sure if I need to use synchronized here.&quot; Where is <i>here?</i> That&#39;s a big wodge of code. Maybe you could create an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>."}],"answers":[{"tags":[],"owner":{"account_id":24514163,"reputation":1587,"user_id":18428148,"display_name":"Sairam Tadepalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650621114,"creation_date":1650621114,"answer_id":71966805,"question_id":71935805,"body_markdown":"The suggestable operation is two in this scenario:\r\n\r\n1. Pessimistic concurrency\r\n2. Optimistic concurrency\r\n\r\nhttps://azure.microsoft.com/en-in/blog/managing-concurrency-in-microsoft-azure-storage-2/\r\n\r\nhelps to understand the implementation of concurrency. ","title":"Should I use java synchronized to handle concurrency here?","body":"<p>The suggestable operation is two in this scenario:</p>\n<ol>\n<li>Pessimistic concurrency</li>\n<li>Optimistic concurrency</li>\n</ol>\n<p><a href=\"https://azure.microsoft.com/en-in/blog/managing-concurrency-in-microsoft-azure-storage-2/\" rel=\"nofollow noreferrer\">https://azure.microsoft.com/en-in/blog/managing-concurrency-in-microsoft-azure-storage-2/</a></p>\n<p>helps to understand the implementation of concurrency.</p>\n"}],"owner":{"account_id":5494394,"reputation":39,"user_id":4366027,"display_name":"Kyozoku"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650621114,"creation_date":1650440136,"question_id":71935805,"body_markdown":"I am new to handling concurrency. I have a web socket application that sends and receives audio data. Meanwhile I have one eventlisteners from Azure looking for speech to transcribe to text and some other thread looking for text to synthesize to speech. However when I speak the response gets repeated infinitely(?). I am not sure if I need to use synchronized here and what do I pass as argument in that case? Or is it something else that needs to be done? Below is some code excerpts. \r\n\r\nTwilioMediaStreamsHandler class:\r\n\r\n    private final Map&lt;WebSocketSession, AzureSpeechToTextService&gt; sessions = new ConcurrentHashMap&lt;&gt;();\r\n    static final Map&lt;WebSocketSession, Integer&gt; messageCounts = new ConcurrentHashMap&lt;&gt;();\r\n    static final Map&lt;WebSocketSession, Boolean&gt; hasSessionSeenMedia = new ConcurrentHashMap&lt;&gt;();\r\n    static final Integer repeatThreshold = 10;\r\n    ArrayList&lt;String&gt; mediaMessages = new ArrayList&lt;String&gt;();\r\n\r\n    private final ObjectMapper jsonMapper = new ObjectMapper();\r\n    private final Base64.Decoder base64Decoder = Base64.getDecoder();\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(TwilioMediaStreamsHandler.class);\r\n\r\n    @Override\r\n    public void afterConnectionEstablished(WebSocketSession session) {\r\n        LOGGER.info(&quot;Connection Established&quot;);\r\n        sessions.put(session, new AzureSpeechToTextService());\r\n    }\r\n\r\n    @Override\r\n    public void handleTextMessage(WebSocketSession session, TextMessage message) throws IOException {\r\n        JsonNode request = jsonMapper.readTree(message.getPayload());\r\n        Boolean hasSeenMedia = hasSessionSeenMedia.getOrDefault(session, false);\r\n\r\n        if (request.path(&quot;media&quot;).path(&quot;track&quot;).asText().equals(&quot;inbound&quot;)) {\r\n\r\n            if (!hasSeenMedia) {\r\n                LOGGER.info(&quot;Media WS: Media message received: {}&quot;, message);\r\n                LOGGER.warn(&quot;Media WS: Additional messages from WebSocket are now being suppressed&quot;);\r\n                hasSessionSeenMedia.put(session, true);\r\n            }\r\n\r\n            mediaMessages.add(message.getPayload());\r\n            if (mediaMessages.size() &gt;= repeatThreshold) {\r\n                repeat(session);\r\n            }\r\n\r\n            messageCounts.merge(session, 1, Integer::sum);\r\n        }\r\n    }\r\n\r\n    public void repeat(WebSocketSession session) throws IOException {\r\n        ArrayList&lt;String&gt; playMessages = (ArrayList&lt;String&gt;) mediaMessages.clone();\r\n        mediaMessages.clear();\r\n\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\r\n        String streamSid = &quot;&quot;;\r\n        byte[] decoded = null;\r\n        for (String playMessage : playMessages) {\r\n            JsonNode request = jsonMapper.readTree(playMessage);\r\n            streamSid = request.path(&quot;streamSid&quot;).asText();\r\n            String base64EncodedAudio = request.path(&quot;media&quot;).path(&quot;payload&quot;).asText();\r\n\r\n            decoded = base64Decoder.decode(base64EncodedAudio);\r\n            sessions.get(session).pushData(decoded);\r\n            decoded = sessions.get(session).getBytes();\r\n        }\r\n\r\n        String resultText = sessions.get(session).getResultText();\r\n\r\n        try {\r\n            decoded = new AzureTextToSpeechService().textToBytes(resultText);\r\n        } catch (ExecutionException e) {\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        if (decoded != null)\r\n            outputStream.write(decoded);\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        byte[] encodedBytes = Base64.getEncoder().encode(outputStream.toByteArray());\r\n        String response = objectMapper.writeValueAsString(new OutBoundMessage(&quot;media&quot;, new Media(new String(encodedBytes)), streamSid));\r\n\r\n        session.sendMessage(new TextMessage(response));\r\n    }\r\n\r\n    @Override\r\n    public void afterConnectionClosed(WebSocketSession session, CloseStatus status) {\r\n        LOGGER.info(&quot;Connection Closed&quot;);\r\n        }\r\n    }\r\n\r\nAzureSpeechToTextService class:\r\n\r\n    private static final String SPEECH_SUBSCRIPTION_KEY = System.getenv(&quot;AZURE_SPEECH_SUBSCRIPTION_KEY&quot;);\r\n    private static final String SERVICE_REGION = System.getenv(&quot;AZURE_SERVICE_REGION&quot;);\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(AzureSpeechToTextService.class);\r\n\r\n    private final PushAudioInputStream azurePusher;\r\n    private String resultText;\r\n\r\n    public AzureSpeechToTextService() {\r\n        azurePusher = AudioInputStream.createPushStream(AudioStreamFormat.getWaveFormatPCM(8000L, (short) 16, (short) 1));\r\n\r\n        SourceLanguageConfig sourceLanguageConfig = SourceLanguageConfig.fromLanguage(&quot;sv-SE&quot;);\r\n\r\n        SpeechRecognizer speechRecognizer = new SpeechRecognizer(\r\n                SpeechConfig.fromSubscription(SPEECH_SUBSCRIPTION_KEY, SERVICE_REGION),\r\n                sourceLanguageConfig,\r\n                AudioConfig.fromStreamInput(azurePusher));\r\n\r\n        speechRecognizer.recognized.addEventListener((o, speechRecognitionEventArgs) -&gt; {\r\n            SpeechRecognitionResult speechRecognitionResult = speechRecognitionEventArgs.getResult();\r\n            resultText = speechRecognitionResult.getText();\r\n            LOGGER.info(&quot;Recognized text from speech: {}&quot;, resultText);\r\n        });\r\n\r\n        speechRecognizer.startContinuousRecognitionAsync();\r\n    }\r\n\r\n        public String getResultText() {\r\n            return this.resultText;\r\n        }\r\n\r\n        public void pushData(byte[] mulawData) {\r\n            azurePusher.write(MulawToPcm.transcode(mulawData));\r\n        }\r\n    }\r\n\r\nAzureTextToSpeechService class:\r\n\r\n    private static final String SPEECH_SUBSCRIPTION_KEY = System.getenv(&quot;AZURE_SPEECH_SUBSCRIPTION_KEY&quot;);\r\n    private static final String SERVICE_REGION = System.getenv(&quot;AZURE_SERVICE_REGION&quot;);\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(AzureTextToSpeechService.class);\r\n\r\n    public byte[] textToBytes(String text) throws ExecutionException, InterruptedException {\r\n        SpeechConfig speechConfig = SpeechConfig.fromSubscription(SPEECH_SUBSCRIPTION_KEY, SERVICE_REGION);\r\n        speechConfig.setSpeechSynthesisOutputFormat(SpeechSynthesisOutputFormat.Raw8Khz8BitMonoMULaw);\r\n\r\n        AutoDetectSourceLanguageConfig autoDetectSourceLanguageConfig = AutoDetectSourceLanguageConfig.fromOpenRange();\r\n        SpeechSynthesizer synthesizer = new SpeechSynthesizer(speechConfig, autoDetectSourceLanguageConfig, null);\r\n\r\n        SpeechSynthesisResult result = synthesizer.SpeakTextAsync(text).get();\r\n\r\n        byte[] audioData = null;\r\n        if (result.getReason() == ResultReason.SynthesizingAudioCompleted) {\r\n            LOGGER.info(&quot;Speech synthesized for: {}&quot;, text);\r\n            audioData = result.getAudioData();\r\n            LOGGER.info(&quot;{} bytes recieved&quot;, audioData.length);\r\n        } else if (result.getReason() == ResultReason.Canceled) {\r\n            SpeechSynthesisCancellationDetails cancellation = SpeechSynthesisCancellationDetails.fromResult(result);\r\n            System.out.println(&quot;CANCELED: Reason=&quot; + cancellation.getReason());\r\n\r\n            if (cancellation.getReason() == CancellationReason.Error) {\r\n                System.out.println(&quot;CANCELED: ErrorCode=&quot; + cancellation.getErrorCode());\r\n                System.out.println(&quot;CANCELED: ErrorDetails=&quot; + cancellation.getErrorDetails());\r\n                System.out.println(&quot;CANCELED: Did you update the subscription info?&quot;);\r\n            }\r\n        }\r\n\r\n            result.close();\r\n            synthesizer.close();\r\n            return audioData;\r\n        }\r\n    }","title":"Should I use java synchronized to handle concurrency here?","body":"<p>I am new to handling concurrency. I have a web socket application that sends and receives audio data. Meanwhile I have one eventlisteners from Azure looking for speech to transcribe to text and some other thread looking for text to synthesize to speech. However when I speak the response gets repeated infinitely(?). I am not sure if I need to use synchronized here and what do I pass as argument in that case? Or is it something else that needs to be done? Below is some code excerpts.</p>\n<p>TwilioMediaStreamsHandler class:</p>\n<pre><code>private final Map&lt;WebSocketSession, AzureSpeechToTextService&gt; sessions = new ConcurrentHashMap&lt;&gt;();\nstatic final Map&lt;WebSocketSession, Integer&gt; messageCounts = new ConcurrentHashMap&lt;&gt;();\nstatic final Map&lt;WebSocketSession, Boolean&gt; hasSessionSeenMedia = new ConcurrentHashMap&lt;&gt;();\nstatic final Integer repeatThreshold = 10;\nArrayList&lt;String&gt; mediaMessages = new ArrayList&lt;String&gt;();\n\nprivate final ObjectMapper jsonMapper = new ObjectMapper();\nprivate final Base64.Decoder base64Decoder = Base64.getDecoder();\n\nprivate static final Logger LOGGER = LoggerFactory.getLogger(TwilioMediaStreamsHandler.class);\n\n@Override\npublic void afterConnectionEstablished(WebSocketSession session) {\n    LOGGER.info(&quot;Connection Established&quot;);\n    sessions.put(session, new AzureSpeechToTextService());\n}\n\n@Override\npublic void handleTextMessage(WebSocketSession session, TextMessage message) throws IOException {\n    JsonNode request = jsonMapper.readTree(message.getPayload());\n    Boolean hasSeenMedia = hasSessionSeenMedia.getOrDefault(session, false);\n\n    if (request.path(&quot;media&quot;).path(&quot;track&quot;).asText().equals(&quot;inbound&quot;)) {\n\n        if (!hasSeenMedia) {\n            LOGGER.info(&quot;Media WS: Media message received: {}&quot;, message);\n            LOGGER.warn(&quot;Media WS: Additional messages from WebSocket are now being suppressed&quot;);\n            hasSessionSeenMedia.put(session, true);\n        }\n\n        mediaMessages.add(message.getPayload());\n        if (mediaMessages.size() &gt;= repeatThreshold) {\n            repeat(session);\n        }\n\n        messageCounts.merge(session, 1, Integer::sum);\n    }\n}\n\npublic void repeat(WebSocketSession session) throws IOException {\n    ArrayList&lt;String&gt; playMessages = (ArrayList&lt;String&gt;) mediaMessages.clone();\n    mediaMessages.clear();\n\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n\n    String streamSid = &quot;&quot;;\n    byte[] decoded = null;\n    for (String playMessage : playMessages) {\n        JsonNode request = jsonMapper.readTree(playMessage);\n        streamSid = request.path(&quot;streamSid&quot;).asText();\n        String base64EncodedAudio = request.path(&quot;media&quot;).path(&quot;payload&quot;).asText();\n\n        decoded = base64Decoder.decode(base64EncodedAudio);\n        sessions.get(session).pushData(decoded);\n        decoded = sessions.get(session).getBytes();\n    }\n\n    String resultText = sessions.get(session).getResultText();\n\n    try {\n        decoded = new AzureTextToSpeechService().textToBytes(resultText);\n    } catch (ExecutionException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n\n    if (decoded != null)\n        outputStream.write(decoded);\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    byte[] encodedBytes = Base64.getEncoder().encode(outputStream.toByteArray());\n    String response = objectMapper.writeValueAsString(new OutBoundMessage(&quot;media&quot;, new Media(new String(encodedBytes)), streamSid));\n\n    session.sendMessage(new TextMessage(response));\n}\n\n@Override\npublic void afterConnectionClosed(WebSocketSession session, CloseStatus status) {\n    LOGGER.info(&quot;Connection Closed&quot;);\n    }\n}\n</code></pre>\n<p>AzureSpeechToTextService class:</p>\n<pre><code>private static final String SPEECH_SUBSCRIPTION_KEY = System.getenv(&quot;AZURE_SPEECH_SUBSCRIPTION_KEY&quot;);\nprivate static final String SERVICE_REGION = System.getenv(&quot;AZURE_SERVICE_REGION&quot;);\n\nprivate static final Logger LOGGER = LoggerFactory.getLogger(AzureSpeechToTextService.class);\n\nprivate final PushAudioInputStream azurePusher;\nprivate String resultText;\n\npublic AzureSpeechToTextService() {\n    azurePusher = AudioInputStream.createPushStream(AudioStreamFormat.getWaveFormatPCM(8000L, (short) 16, (short) 1));\n\n    SourceLanguageConfig sourceLanguageConfig = SourceLanguageConfig.fromLanguage(&quot;sv-SE&quot;);\n\n    SpeechRecognizer speechRecognizer = new SpeechRecognizer(\n            SpeechConfig.fromSubscription(SPEECH_SUBSCRIPTION_KEY, SERVICE_REGION),\n            sourceLanguageConfig,\n            AudioConfig.fromStreamInput(azurePusher));\n\n    speechRecognizer.recognized.addEventListener((o, speechRecognitionEventArgs) -&gt; {\n        SpeechRecognitionResult speechRecognitionResult = speechRecognitionEventArgs.getResult();\n        resultText = speechRecognitionResult.getText();\n        LOGGER.info(&quot;Recognized text from speech: {}&quot;, resultText);\n    });\n\n    speechRecognizer.startContinuousRecognitionAsync();\n}\n\n    public String getResultText() {\n        return this.resultText;\n    }\n\n    public void pushData(byte[] mulawData) {\n        azurePusher.write(MulawToPcm.transcode(mulawData));\n    }\n}\n</code></pre>\n<p>AzureTextToSpeechService class:</p>\n<pre><code>private static final String SPEECH_SUBSCRIPTION_KEY = System.getenv(&quot;AZURE_SPEECH_SUBSCRIPTION_KEY&quot;);\nprivate static final String SERVICE_REGION = System.getenv(&quot;AZURE_SERVICE_REGION&quot;);\n\nprivate static final Logger LOGGER = LoggerFactory.getLogger(AzureTextToSpeechService.class);\n\npublic byte[] textToBytes(String text) throws ExecutionException, InterruptedException {\n    SpeechConfig speechConfig = SpeechConfig.fromSubscription(SPEECH_SUBSCRIPTION_KEY, SERVICE_REGION);\n    speechConfig.setSpeechSynthesisOutputFormat(SpeechSynthesisOutputFormat.Raw8Khz8BitMonoMULaw);\n\n    AutoDetectSourceLanguageConfig autoDetectSourceLanguageConfig = AutoDetectSourceLanguageConfig.fromOpenRange();\n    SpeechSynthesizer synthesizer = new SpeechSynthesizer(speechConfig, autoDetectSourceLanguageConfig, null);\n\n    SpeechSynthesisResult result = synthesizer.SpeakTextAsync(text).get();\n\n    byte[] audioData = null;\n    if (result.getReason() == ResultReason.SynthesizingAudioCompleted) {\n        LOGGER.info(&quot;Speech synthesized for: {}&quot;, text);\n        audioData = result.getAudioData();\n        LOGGER.info(&quot;{} bytes recieved&quot;, audioData.length);\n    } else if (result.getReason() == ResultReason.Canceled) {\n        SpeechSynthesisCancellationDetails cancellation = SpeechSynthesisCancellationDetails.fromResult(result);\n        System.out.println(&quot;CANCELED: Reason=&quot; + cancellation.getReason());\n\n        if (cancellation.getReason() == CancellationReason.Error) {\n            System.out.println(&quot;CANCELED: ErrorCode=&quot; + cancellation.getErrorCode());\n            System.out.println(&quot;CANCELED: ErrorDetails=&quot; + cancellation.getErrorDetails());\n            System.out.println(&quot;CANCELED: Did you update the subscription info?&quot;);\n        }\n    }\n\n        result.close();\n        synthesizer.close();\n        return audioData;\n    }\n}\n</code></pre>\n"},{"tags":["java","ssl"],"answers":[{"tags":[],"owner":{"account_id":4160077,"reputation":477,"user_id":3410377,"accept_rate":93,"display_name":"Razlo3p"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1650621096,"creation_date":1650621096,"answer_id":71966799,"question_id":71936363,"body_markdown":"Found the issue. In A property file configuration i had this line\r\n\r\n    system.com.sun.net.ssl.enableECC=false\r\n\r\nThat was preventing the usage of some Chyper set.","title":"SSL handshake_failure in Client Hello","body":"<p>Found the issue. In A property file configuration i had this line</p>\n<pre><code>system.com.sun.net.ssl.enableECC=false\n</code></pre>\n<p>That was preventing the usage of some Chyper set.</p>\n"}],"owner":{"account_id":4160077,"reputation":477,"user_id":3410377,"accept_rate":93,"display_name":"Razlo3p"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71966799,"answer_count":1,"score":0,"last_activity_date":1650621096,"creation_date":1650442990,"question_id":71936363,"body_markdown":"I&#39;m using Java (12.0.2) to calla some REST Api, via ssl.\r\nIf i call the URL using CURL (specifying certificate and CA_root) everything is fine.\r\nIf i use the same endpoint in Java i get this SSL Client Hello\r\n\r\n\r\n    &quot;ClientHello&quot;: {\r\n      &quot;client version&quot;      : &quot;TLSv1.2&quot;,\r\n      &quot;random&quot;              : &quot;15 AA 0C B1 62 A6 83 26 1E C3 B6 C3 8D D0 F9 19 DA F7 5A 9D 8B 08 0B 5C ED 96 A6 A7 CF 5A 67 C2&quot;,\r\n      &quot;session id&quot;          : &quot;&quot;,\r\n      &quot;cipher suites&quot;       : &quot;[TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256(0xCCAA), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;,\r\n      &quot;compression methods&quot; : &quot;00&quot;,\r\n      &quot;extensions&quot;          : [\r\n        &quot;status_request (5)&quot;: {\r\n          &quot;certificate status type&quot;: ocsp\r\n          &quot;OCSP status request&quot;: {\r\n            &quot;responder_id&quot;: &lt;empty&gt;\r\n            &quot;request extensions&quot;: {\r\n              &lt;empty&gt;\r\n            }\r\n          }\r\n        },\r\n        &quot;supported_groups (10)&quot;: {\r\n          &quot;versions&quot;: [ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\r\n        },\r\n        &quot;signature_algorithms (13)&quot;: {\r\n          &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n        },\r\n        &quot;signature_algorithms_cert (50)&quot;: {\r\n          &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n        },\r\n        &quot;status_request_v2 (17)&quot;: {\r\n          &quot;cert status request&quot;: {\r\n            &quot;certificate status type&quot;: ocsp_multi\r\n            &quot;OCSP status request&quot;: {\r\n              &quot;responder_id&quot;: &lt;empty&gt;\r\n              &quot;request extensions&quot;: {\r\n                &lt;empty&gt;\r\n              }\r\n            }\r\n          }\r\n        },\r\n        &quot;extended_master_secret (23)&quot;: {\r\n          &lt;empty&gt;\r\n        },\r\n        &quot;supported_versions (43)&quot;: {\r\n          &quot;versions&quot;: [TLSv1.2]\r\n        }\r\n      ]\r\n    }\r\n\r\nAnd then the server responds with\r\n\r\n    &quot;Alert&quot;: {\r\n      &quot;level&quot;      : &quot;fatal&quot;,\r\n      &quot;description&quot;: &quot;handshake_failure&quot;\r\n    }\r\n\r\nI have to point that when connecting with Curl, the Server accept this Cipher TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 that is not in the offered cipher list in the SSL exchange.","title":"SSL handshake_failure in Client Hello","body":"<p>I'm using Java (12.0.2) to calla some REST Api, via ssl.\nIf i call the URL using CURL (specifying certificate and CA_root) everything is fine.\nIf i use the same endpoint in Java i get this SSL Client Hello</p>\n<pre><code>&quot;ClientHello&quot;: {\n  &quot;client version&quot;      : &quot;TLSv1.2&quot;,\n  &quot;random&quot;              : &quot;15 AA 0C B1 62 A6 83 26 1E C3 B6 C3 8D D0 F9 19 DA F7 5A 9D 8B 08 0B 5C ED 96 A6 A7 CF 5A 67 C2&quot;,\n  &quot;session id&quot;          : &quot;&quot;,\n  &quot;cipher suites&quot;       : &quot;[TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256(0xCCAA), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;,\n  &quot;compression methods&quot; : &quot;00&quot;,\n  &quot;extensions&quot;          : [\n    &quot;status_request (5)&quot;: {\n      &quot;certificate status type&quot;: ocsp\n      &quot;OCSP status request&quot;: {\n        &quot;responder_id&quot;: &lt;empty&gt;\n        &quot;request extensions&quot;: {\n          &lt;empty&gt;\n        }\n      }\n    },\n    &quot;supported_groups (10)&quot;: {\n      &quot;versions&quot;: [ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\n    },\n    &quot;signature_algorithms (13)&quot;: {\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    &quot;signature_algorithms_cert (50)&quot;: {\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    &quot;status_request_v2 (17)&quot;: {\n      &quot;cert status request&quot;: {\n        &quot;certificate status type&quot;: ocsp_multi\n        &quot;OCSP status request&quot;: {\n          &quot;responder_id&quot;: &lt;empty&gt;\n          &quot;request extensions&quot;: {\n            &lt;empty&gt;\n          }\n        }\n      }\n    },\n    &quot;extended_master_secret (23)&quot;: {\n      &lt;empty&gt;\n    },\n    &quot;supported_versions (43)&quot;: {\n      &quot;versions&quot;: [TLSv1.2]\n    }\n  ]\n}\n</code></pre>\n<p>And then the server responds with</p>\n<pre><code>&quot;Alert&quot;: {\n  &quot;level&quot;      : &quot;fatal&quot;,\n  &quot;description&quot;: &quot;handshake_failure&quot;\n}\n</code></pre>\n<p>I have to point that when connecting with Curl, the Server accept this Cipher TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 that is not in the offered cipher list in the SSL exchange.</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1650441887,"post_id":71936087,"comment_id":127113968,"body_markdown":"Please edit your question and add your database structure as a screenshot.","body":"Please edit your question and add your database structure as a screenshot."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650442510,"post_id":71936087,"comment_id":127114216,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650621087,"creation_date":1650453484,"answer_id":71938698,"question_id":71936087,"body_markdown":"I see that you are not setting the adapter and also the `itemsRecyclerAdapter.notifyDataSetChanged();` is inside the loop. Try this code:\r\n```java\r\nmStore.collection(&quot;All-ar&quot;).whereEqualTo(&quot;type&quot;,&quot;Fruits&quot;).orderBy(&quot;order&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                        if(task.isSuccessful()){\r\n                            for (DocumentSnapshot doc:task.getResult().getDocuments()){\r\n                                Items items = doc.toObject(Items.class);\r\n                                mItemsList.add(items);\r\n                            }\r\n                        }\r\n                        itemsRecyclerAdapter.notifyDataSetChanged();\r\n                    }\r\n                });\r\n```\r\n\r\nMaybe that is why you don&#39;t see the fruits ordered. (Answered according to what I understood).","title":"How to use Where and Orderby to firestore in android","body":"<p>I see that you are not setting the adapter and also the <code>itemsRecyclerAdapter.notifyDataSetChanged();</code> is inside the loop. Try this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mStore.collection(&quot;All-ar&quot;).whereEqualTo(&quot;type&quot;,&quot;Fruits&quot;).orderBy(&quot;order&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                        if(task.isSuccessful()){\n                            for (DocumentSnapshot doc:task.getResult().getDocuments()){\n                                Items items = doc.toObject(Items.class);\n                                mItemsList.add(items);\n                            }\n                        }\n                        itemsRecyclerAdapter.notifyDataSetChanged();\n                    }\n                });\n</code></pre>\n<p>Maybe that is why you don't see the fruits ordered. (Answered according to what I understood).</p>\n"},{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650462653,"creation_date":1650462653,"answer_id":71940933,"question_id":71936087,"body_markdown":"Are you asking how to filter on two fields?\r\n\r\nThat should be something like:\r\n```\r\nmStore.collection(&quot;All-ar&quot;)\r\n  .whereEqualTo(&quot;type&quot;,&quot;Fruits&quot;)\r\n  .whereEqualTo(&quot;order&quot;, 152)\r\n  .get()\r\n  ...\r\n```","title":"How to use Where and Orderby to firestore in android","body":"<p>Are you asking how to filter on two fields?</p>\n<p>That should be something like:</p>\n<pre><code>mStore.collection(&quot;All-ar&quot;)\n  .whereEqualTo(&quot;type&quot;,&quot;Fruits&quot;)\n  .whereEqualTo(&quot;order&quot;, 152)\n  .get()\n  ...\n</code></pre>\n"}],"owner":{"account_id":24181622,"reputation":9,"user_id":18142193,"display_name":"Muhammad Safnad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650621087,"creation_date":1650441638,"question_id":71936087,"body_markdown":"I want to filter Fruits items with its order, but these are diffrent field. How can use the `whereEqualto` and `orderBy`?\r\n\r\nis there any idea to do this?\r\n\r\n    mStore.collection(&quot;All-ar&quot;).whereEqualTo(&quot;type&quot;,&quot;Fruits&quot;).orderBy(&quot;order&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n            if(task.isSuccessful()){\r\n                for (DocumentSnapshot doc:task.getResult().getDocuments()){\r\n                    Items items = doc.toObject(Items.class);\r\n                    mItemsList.add(items);\r\n                    itemsRecyclerAdapter.notifyDataSetChanged();\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DyBaT.jpg","title":"How to use Where and Orderby to firestore in android","body":"<p>I want to filter Fruits items with its order, but these are diffrent field. How can use the <code>whereEqualto</code> and <code>orderBy</code>?</p>\n<p>is there any idea to do this?</p>\n<pre><code>mStore.collection(&quot;All-ar&quot;).whereEqualTo(&quot;type&quot;,&quot;Fruits&quot;).orderBy(&quot;order&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n        if(task.isSuccessful()){\n            for (DocumentSnapshot doc:task.getResult().getDocuments()){\n                Items items = doc.toObject(Items.class);\n                mItemsList.add(items);\n                itemsRecyclerAdapter.notifyDataSetChanged();\n            }\n        }\n    }\n});\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/DyBaT.jpg\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","apache-kafka","logback"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1647633806,"post_id":71514393,"comment_id":126428738,"body_markdown":"When the logger starts, does it print out `ProducerConfig`? And if so, do the values listed there match your working producer configs of the app? Also, if the application itself works, then why not re-write your logger methods as producer actions?","body":"When the logger starts, does it print out <code>ProducerConfig</code>? And if so, do the values listed there match your working producer configs of the app? Also, if the application itself works, then why not re-write your logger methods as producer actions?"},{"owner":{"account_id":23902843,"reputation":39,"user_id":17900785,"display_name":"Evgeniy Zelenskiy"},"score":1,"creation_date":1650550294,"post_id":71514393,"comment_id":127148901,"body_markdown":"@OneCricketeer , The problem went away with the upgrade of appender to 0.2.0","body":"@OneCricketeer , The problem went away with the upgrade of appender to 0.2.0"}],"answers":[{"tags":[],"owner":{"account_id":23902843,"reputation":39,"user_id":17900785,"display_name":"Evgeniy Zelenskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650620961,"creation_date":1650620961,"answer_id":71966758,"question_id":71514393,"body_markdown":"The problem went away with the upgrade of appender to 0.2.0","title":"How to use Kafka with SSL via logback appander?","body":"<p>The problem went away with the upgrade of appender to 0.2.0</p>\n"}],"owner":{"account_id":23902843,"reputation":39,"user_id":17900785,"display_name":"Evgeniy Zelenskiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71966758,"answer_count":1,"score":1,"last_activity_date":1650620961,"creation_date":1647528666,"question_id":71514393,"body_markdown":"I use this logback appender to send logs to Kafka:\r\n\r\nhttps://github.com/danielwegener/logback-kafka-appender\r\n\r\nWhen Kafka was PLAINTEXT everything worked correctly. But when Kafka changed to SSL, it is not possible to send messages. I did not find the necessary information in readme.md. Has anyone had this setup experience? Or maybe use something else?\r\n\r\n    &lt;topic&gt;TEST_TOPIC_FOR_OS&lt;/topic&gt;\r\n    &lt;keyingStrategy class=&quot;com.github.danielwegener.logback.kafka.keying.NoKeyKeyingStrategy&quot;/&gt;\r\n    &lt;deliveryStrategy class=&quot;com.github.danielwegener.logback.kafka.delivery.AsynchronousDeliveryStrategy&quot;&gt;\r\n    &lt;/deliveryStrategy&gt;\r\n    &lt;producerConfig&gt;metadata.fetch.timeout.ms=99999999999&lt;/producerConfig&gt;\r\n    &lt;producerConfig&gt;bootstrap.servers=KAFKA BROKER HOST&lt;/producerConfig&gt;\r\n    &lt;producerConfig&gt;acks=0&lt;/producerConfig&gt;\r\n    &lt;producerConfig&gt;linger.ms=1000&lt;/producerConfig&gt;\r\n    &lt;producerConfig&gt;buffer.memory=16777216&lt;/producerConfig&gt;\r\n    &lt;producerConfig&gt;max.block.ms=100&lt;/producerConfig&gt;\r\n    &lt;producerConfig&gt;retries=2&lt;/producerConfig&gt;\r\n    &lt;producerConfig&gt;client.id=${HOSTNAME}-${CONTEXT_NAME}-logback&lt;/producerConfig&gt;\r\n    &lt;producerConfig&gt;compression.type=none&lt;/producerConfig&gt;\r\n    &lt;producerConfig&gt;security.protocol=SSL&lt;/producerConfig&gt;\r\n    &lt;producerConfig&gt;ssl.keystore.location= path_to_jks&lt;/producerConfig&gt;\r\n    &lt;producerConfig&gt;ssl.keystore.password=PASSWORD&lt;/producerConfig&gt;\r\n    &lt;producerConfig&gt;ssl.truststore.location=path_to_jks &lt;/producerConfig&gt;\r\n    &lt;producerConfig&gt;ssl.truststore.password=PASSWORD &lt;/producerConfig&gt;\r\n    &lt;producerConfig&gt;ssl.endpoint.identification.algorithm=&lt;/producerConfig&gt;\r\n    &lt;producerConfig&gt;ssl.protocol=TLSv1.1&lt;/producerConfig&gt;\r\n\r\nFor any existing topic, I get an error:\r\n\r\n    12:05:49.505 [kafka-producer-network-thread | host-default-logback] route: DEBUG o.a.k.clients.producer.KafkaProducer breadcrumbId: - [Producer clientId=host-default-logback] Exception occurred during message send:\r\n    org.apache.kafka.common.errors.TimeoutException: Topic TEST_TOPIC_FOR_OS not present in metadata after 100 ms.\r\n\r\n\r\nThe application itself works correctly with this kafka and topic\r\n\r\n","title":"How to use Kafka with SSL via logback appander?","body":"<p>I use this logback appender to send logs to Kafka:</p>\n<p><a href=\"https://github.com/danielwegener/logback-kafka-appender\" rel=\"nofollow noreferrer\">https://github.com/danielwegener/logback-kafka-appender</a></p>\n<p>When Kafka was PLAINTEXT everything worked correctly. But when Kafka changed to SSL, it is not possible to send messages. I did not find the necessary information in readme.md. Has anyone had this setup experience? Or maybe use something else?</p>\n<pre><code>&lt;topic&gt;TEST_TOPIC_FOR_OS&lt;/topic&gt;\n&lt;keyingStrategy class=&quot;com.github.danielwegener.logback.kafka.keying.NoKeyKeyingStrategy&quot;/&gt;\n&lt;deliveryStrategy class=&quot;com.github.danielwegener.logback.kafka.delivery.AsynchronousDeliveryStrategy&quot;&gt;\n&lt;/deliveryStrategy&gt;\n&lt;producerConfig&gt;metadata.fetch.timeout.ms=99999999999&lt;/producerConfig&gt;\n&lt;producerConfig&gt;bootstrap.servers=KAFKA BROKER HOST&lt;/producerConfig&gt;\n&lt;producerConfig&gt;acks=0&lt;/producerConfig&gt;\n&lt;producerConfig&gt;linger.ms=1000&lt;/producerConfig&gt;\n&lt;producerConfig&gt;buffer.memory=16777216&lt;/producerConfig&gt;\n&lt;producerConfig&gt;max.block.ms=100&lt;/producerConfig&gt;\n&lt;producerConfig&gt;retries=2&lt;/producerConfig&gt;\n&lt;producerConfig&gt;client.id=${HOSTNAME}-${CONTEXT_NAME}-logback&lt;/producerConfig&gt;\n&lt;producerConfig&gt;compression.type=none&lt;/producerConfig&gt;\n&lt;producerConfig&gt;security.protocol=SSL&lt;/producerConfig&gt;\n&lt;producerConfig&gt;ssl.keystore.location= path_to_jks&lt;/producerConfig&gt;\n&lt;producerConfig&gt;ssl.keystore.password=PASSWORD&lt;/producerConfig&gt;\n&lt;producerConfig&gt;ssl.truststore.location=path_to_jks &lt;/producerConfig&gt;\n&lt;producerConfig&gt;ssl.truststore.password=PASSWORD &lt;/producerConfig&gt;\n&lt;producerConfig&gt;ssl.endpoint.identification.algorithm=&lt;/producerConfig&gt;\n&lt;producerConfig&gt;ssl.protocol=TLSv1.1&lt;/producerConfig&gt;\n</code></pre>\n<p>For any existing topic, I get an error:</p>\n<pre><code>12:05:49.505 [kafka-producer-network-thread | host-default-logback] route: DEBUG o.a.k.clients.producer.KafkaProducer breadcrumbId: - [Producer clientId=host-default-logback] Exception occurred during message send:\norg.apache.kafka.common.errors.TimeoutException: Topic TEST_TOPIC_FOR_OS not present in metadata after 100 ms.\n</code></pre>\n<p>The application itself works correctly with this kafka and topic</p>\n"},{"tags":["java","spring","elasticsearch"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":1,"creation_date":1650620580,"post_id":71966638,"comment_id":127167227,"body_markdown":"it will be great if you can post your code and error message as `formmated text` insted of image.","body":"it will be great if you can post your code and error message as <code>formmated text</code> insted of image."},{"owner":{"account_id":17324717,"reputation":9,"user_id":12549205,"display_name":"VecLison"},"score":0,"creation_date":1650620789,"post_id":71966638,"comment_id":127167308,"body_markdown":"there is no error message....","body":"there is no error message...."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":1,"creation_date":1650620979,"post_id":71966638,"comment_id":127167361,"body_markdown":"Can you post logs as a text, not a picture?","body":"Can you post logs as a text, not a picture?"}],"owner":{"account_id":17324717,"reputation":9,"user_id":12549205,"display_name":"VecLison"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1650620465,"creation_date":1650620465,"question_id":71966638,"body_markdown":"when the code run at &quot;putMapping()&quot;,the mapping will be created on my test environment,but won&#39;t be created on my normal environment ,i&#39;m sure the both version of elastic-search are same ,any one met the problem,thx.\r\n[![enter image description here][1]][1]\r\n\r\n\r\nhere is the log of elastic-search in my normal environment\r\n[![enter image description here][2]][2]\r\n\r\n\r\nhere is the log of elastic-search in my test environment\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XwTjp.png\r\n  [2]: https://i.stack.imgur.com/stDHy.png\r\n  [3]: https://i.stack.imgur.com/7gpK4.png\r\n\r\n\r\nmall_test_mapping is my test document","title":"why the code works on the test machine but failed on the normal machine?","body":"<p>when the code run at &quot;putMapping()&quot;,the mapping will be created on my test environment,but won't be created on my normal environment ,i'm sure the both version of elastic-search are same ,any one met the problem,thx.\n<a href=\"https://i.stack.imgur.com/XwTjp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XwTjp.png\" alt=\"enter image description here\" /></a></p>\n<p>here is the log of elastic-search in my normal environment\n<a href=\"https://i.stack.imgur.com/stDHy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/stDHy.png\" alt=\"enter image description here\" /></a></p>\n<p>here is the log of elastic-search in my test environment\n<a href=\"https://i.stack.imgur.com/7gpK4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7gpK4.png\" alt=\"enter image description here\" /></a></p>\n<p>mall_test_mapping is my test document</p>\n"},{"tags":["java","generics","resultset"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650613045,"post_id":71964604,"comment_id":127164554,"body_markdown":"You don&#39;t need to. Just use `ResultSet.getObject()`. It will return the correct type.","body":"You don&#39;t need to. Just use <code>ResultSet.getObject()</code>. It will return the correct type."},{"owner":{"account_id":15942089,"reputation":383,"user_id":11503666,"display_name":"Lukas"},"score":0,"creation_date":1650615193,"post_id":71964604,"comment_id":127165288,"body_markdown":"@user207421 how would I implement this? ```rs.getObject(&quot;part&quot;, T)``` doesn&#39;t seem to work. Documentation says the type of the second parameter is ```Class&lt;T&gt;```. Do i need to call T.class? thanks","body":"@user207421 how would I implement this? <code>rs.getObject(&quot;part&quot;, T)</code> doesn&#39;t seem to work. Documentation says the type of the second parameter is <code>Class&lt;T&gt;</code>. Do i need to call T.class? thanks"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650622482,"post_id":71964604,"comment_id":127167842,"body_markdown":"There are other overloads of `getObject()` that don&#39;t require a `Class&lt;T&gt;`. Strange you didn&#39;t find them when you looked.","body":"There are other overloads of <code>getObject()</code> that don&#39;t require a <code>Class&lt;T&gt;</code>. Strange you didn&#39;t find them when you looked."},{"owner":{"account_id":15942089,"reputation":383,"user_id":11503666,"display_name":"Lukas"},"score":1,"creation_date":1650653854,"post_id":71964604,"comment_id":127178913,"body_markdown":"@user207421 are you talking about the ```ResultSet.getObject(String columnName)```?\nI would need to cast to T when using this method, and that is something i would like to avoid.","body":"@user207421 are you talking about the <code>ResultSet.getObject(String columnName)</code>? I would need to cast to T when using this method, and that is something i would like to avoid."}],"owner":{"account_id":15942089,"reputation":383,"user_id":11503666,"display_name":"Lukas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1650620213,"creation_date":1650610664,"question_id":71964604,"body_markdown":"I have an sqlite database with a table &#39;parts&#39; that contains the column &#39;part&#39;.\r\nThis &#39;part&#39; can be one of two things:\r\n* String\r\n* byte[] representing the bytes of an image\r\n\r\nAt one point in my java-program I need to fetch multiple &#39;parts&#39; from the database and put them in a list. This is how I did it:\r\n\r\n```java\r\n    private ArrayList&lt;String&gt; getTextPart(String id) throws SQLException {\r\n        String sql = &quot;SELECT part FROM parts WHERE question_id = &quot; + id + &quot; ORDER BY part_id&quot;;\r\n        ArrayList&lt;String&gt; parts = new ArrayList&lt;&gt;();\r\n        try (PreparedStatement stmt = connection.prepareStatement(sql)) {\r\n            ResultSet rs = stmt.executeQuery();\r\n            while (rs.next()) {\r\n                parts.add(rs.getString(&quot;part&quot;));\r\n            }\r\n            return parts;\r\n        }\r\n    }\r\n\r\n    private ArrayList&lt;byte[]&gt; getImagePart(String id) throws SQLException {\r\n        String sql = &quot;SELECT part FROM parts WHERE question_id = &quot; + id + &quot; ORDER BY part_id&quot;;\r\n        ArrayList&lt;byte[]&gt; parts = new ArrayList&lt;&gt;();\r\n        try (PreparedStatement stmt = connection.prepareStatement(sql)) {\r\n            ResultSet rs = stmt.executeQuery();\r\n            while (rs.next()) {\r\n                parts.add(rs.getBytes(&quot;part&quot;));\r\n            }\r\n            return parts;\r\n        }\r\n    }\r\n```\r\nNow the only difference between these two methods is the making of the ArrayList:\r\n```java\r\nArrayList&lt;String&gt; parts = new ArrayList&lt;&gt;();\r\nArrayList&lt;byte[]&gt; parts = new ArrayList&lt;&gt;();\r\n```\r\nand the method called on the resultset:\r\n```java\r\nparts.add(rs.getString(&quot;part&quot;));\r\nparts.add(rs.getBytes(&quot;part&quot;));\r\n```\r\nI thinks this is needless code duplication, but i can&#39;t seem to find a way to fix it.\r\nI have tried to make a generic &#39;partFetcher&lt;T&gt;&#39; class, like so:\r\n```java\r\npublic class PartFetcher&lt;T&gt; {\r\n\r\n    private ArrayList&lt;T&gt; getPart(String id, Connection connection) throws SQLException {\r\n        String sql = &quot;SELECT part FROM parts WHERE question_id = &quot; + id + &quot; ORDER BY part_id&quot;;\r\n        ArrayList&lt;T&gt; parts = new ArrayList&lt;&gt;();\r\n        try (PreparedStatement stmt = connection.prepareStatement(sql)) {\r\n            ResultSet rs = stmt.executeQuery();\r\n            while (rs.next()) {\r\n                parts.add(rs.???);\r\n            }\r\n            return parts;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nBut I have no idea what to to call from the ResultSet when adding to the list.\r\n\r\nSo my question is:\r\n\r\nHow can a make PartFetcher\\&lt;String&gt; call ```resultSet.getString(&quot;part&quot;)``` \r\nand PartFetcher&lt;byte[]&gt; ```resultSet.getBytes(&quot;part&quot;)```\r\nor is there a known pattern to solve these kinds of problems?\r\n\r\n(sidenote: I have no control over how the database looks, so splitting the parts into TextParts and ImageParts is not possible)\r\n","title":"How do I use different ResultSet methods based on generic type from class in Java","body":"<p>I have an sqlite database with a table 'parts' that contains the column 'part'.\nThis 'part' can be one of two things:</p>\n<ul>\n<li>String</li>\n<li>byte[] representing the bytes of an image</li>\n</ul>\n<p>At one point in my java-program I need to fetch multiple 'parts' from the database and put them in a list. This is how I did it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private ArrayList&lt;String&gt; getTextPart(String id) throws SQLException {\n        String sql = &quot;SELECT part FROM parts WHERE question_id = &quot; + id + &quot; ORDER BY part_id&quot;;\n        ArrayList&lt;String&gt; parts = new ArrayList&lt;&gt;();\n        try (PreparedStatement stmt = connection.prepareStatement(sql)) {\n            ResultSet rs = stmt.executeQuery();\n            while (rs.next()) {\n                parts.add(rs.getString(&quot;part&quot;));\n            }\n            return parts;\n        }\n    }\n\n    private ArrayList&lt;byte[]&gt; getImagePart(String id) throws SQLException {\n        String sql = &quot;SELECT part FROM parts WHERE question_id = &quot; + id + &quot; ORDER BY part_id&quot;;\n        ArrayList&lt;byte[]&gt; parts = new ArrayList&lt;&gt;();\n        try (PreparedStatement stmt = connection.prepareStatement(sql)) {\n            ResultSet rs = stmt.executeQuery();\n            while (rs.next()) {\n                parts.add(rs.getBytes(&quot;part&quot;));\n            }\n            return parts;\n        }\n    }\n</code></pre>\n<p>Now the only difference between these two methods is the making of the ArrayList:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; parts = new ArrayList&lt;&gt;();\nArrayList&lt;byte[]&gt; parts = new ArrayList&lt;&gt;();\n</code></pre>\n<p>and the method called on the resultset:</p>\n<pre class=\"lang-java prettyprint-override\"><code>parts.add(rs.getString(&quot;part&quot;));\nparts.add(rs.getBytes(&quot;part&quot;));\n</code></pre>\n<p>I thinks this is needless code duplication, but i can't seem to find a way to fix it.\nI have tried to make a generic 'partFetcher' class, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PartFetcher&lt;T&gt; {\n\n    private ArrayList&lt;T&gt; getPart(String id, Connection connection) throws SQLException {\n        String sql = &quot;SELECT part FROM parts WHERE question_id = &quot; + id + &quot; ORDER BY part_id&quot;;\n        ArrayList&lt;T&gt; parts = new ArrayList&lt;&gt;();\n        try (PreparedStatement stmt = connection.prepareStatement(sql)) {\n            ResultSet rs = stmt.executeQuery();\n            while (rs.next()) {\n                parts.add(rs.???);\n            }\n            return parts;\n        }\n    }\n\n}\n</code></pre>\n<p>But I have no idea what to to call from the ResultSet when adding to the list.</p>\n<p>So my question is:</p>\n<p>How can a make PartFetcher&lt;String&gt; call <code>resultSet.getString(&quot;part&quot;)</code>\nand PartFetcher&lt;byte[]&gt; <code>resultSet.getBytes(&quot;part&quot;)</code>\nor is there a known pattern to solve these kinds of problems?</p>\n<p>(sidenote: I have no control over how the database looks, so splitting the parts into TextParts and ImageParts is not possible)</p>\n"},{"tags":["java","imap"],"comments":[{"owner":{"account_id":3855739,"reputation":11,"user_id":3194725,"display_name":"Sergey Chernikov"},"score":0,"creation_date":1650632451,"post_id":71966481,"comment_id":127171373,"body_markdown":"Resolved. The user was blocked.","body":"Resolved. The user was blocked."}],"owner":{"account_id":3855739,"reputation":11,"user_id":3194725,"display_name":"Sergey Chernikov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650620175,"creation_date":1650619808,"question_id":71966481,"body_markdown":"I&#39;m connecting to IMAP server with java code:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\r\n            String host      = &quot;outlook.office365.com&quot;;\r\n            String port      = &quot;143&quot;;\r\n            String username  = &quot;user@comp.com&quot;;\r\n            String password  = &quot;password&quot;;\r\n\r\n            Properties props = System.getProperties();\r\n\r\n            props.setProperty(&quot;mail.imap.port&quot;, port);\r\n            props.setProperty(&quot;mail.imap.host&quot;, host);\r\n\r\n            //SSL\r\n            props.setProperty(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\r\n\r\n            props.setProperty(&quot;mail.imap.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n            props.setProperty(&quot;mail.imap.socketFactory.class&quot;, &quot;com.boomi.connector.mailsdk.connection.MailSSLSocketFactory&quot;);\r\n            props.setProperty(&quot;mail.imap.socketFactory.fallback&quot;, &quot;true&quot;);\r\n            props.setProperty(&quot;mail.imap.socketFactory.port&quot;, port);\r\n\r\n            Authenticator auth = new Authenticator()\r\n            {\r\n                public PasswordAuthentication getPasswordAuthentication()\r\n                {\r\n                    return new PasswordAuthentication(username , password);\r\n                }\r\n            };\r\n            Session session = Session.getInstance(props, auth);\r\n            session.setDebug(true);\r\n            System.out.println(session);\r\n            Store store = session.getStore(&quot;imap&quot;);\r\n\r\n            System.out.println(store);\r\n\r\n            store.connect();\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nProblem number one:\r\n1) it takes imap store as imap://windows_user@outlook.office365.com\r\n2) failing to connect\r\n\r\nlog:\r\n\r\n&gt; DEBUG: setDebug: JavaMail version 1.6.2 javax.mail.Session@6433a2\r\n&gt; DEBUG: getProvider() returning\r\n&gt; javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle]\r\n&gt; DEBUG IMAP: mail.imap.fetchsize: 16384 DEBUG IMAP:\r\n&gt; mail.imap.ignorebodystructuresize: false DEBUG IMAP:\r\n&gt; mail.imap.statuscachetimeout: 1000 DEBUG IMAP:\r\n&gt; mail.imap.appendbuffersize: -1 DEBUG IMAP: mail.imap.minidletime: 10\r\n&gt; DEBUG IMAP: enable STARTTLS DEBUG IMAP: closeFoldersOnStoreFailure\r\n&gt; imap://windows_user@outlook.office365.com DEBUG IMAP:\r\n&gt; protocolConnect returning false, host=outlook.office365.com,\r\n&gt; user=windows_user, password=&lt;null&gt; DEBUG IMAP: trying to connect\r\n&gt; to host &quot;outlook.office365.com&quot;, port 143, isSSL false\r\n&gt; OK The Microsoft Exchange IMAP4 service is ready. [QQBNADYAUABSADAANABDAEEAMAAwADEANAAuAGUAdQByAHAAcgBkADAANAAuAHAAcgBvAGQALgBvAHUAdABsAG8AbwBrAC4AYwBvAG0A]\r\n&gt; A0 CAPABILITY\r\n&gt; CAPABILITY IMAP4 IMAP4rev1 LOGINDISABLED STARTTLS SASL-IR UIDPLUS MOVE ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+ A0 OK CAPABILITY\r\n&gt; completed. DEBUG IMAP: protocolConnect login,\r\n&gt; host=outlook.office365.com, user=user@comp.com,\r\n&gt; password=&lt;non-null&gt; A1 STARTTLS A1 OK Begin TLS negotiation now. A2\r\n&gt; CAPABILITY\r\n&gt; CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS MOVE ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+ A2 OK CAPABILITY\r\n&gt; completed. DEBUG IMAP: AUTH: PLAIN DEBUG IMAP: AUTH: XOAUTH2 DEBUG\r\n&gt; IMAP: AUTHENTICATE PLAIN command trace suppressed DEBUG IMAP:\r\n&gt; AUTHENTICATE PLAIN command result: A3 NO AUTHENTICATE failed.\r\n\r\n","title":"DEBUG IMAP: AUTHENTICATE PLAIN command result: A3 NO AUTHENTICATE failed","body":"<p>I'm connecting to IMAP server with java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String host      = &quot;outlook.office365.com&quot;;\n        String port      = &quot;143&quot;;\n        String username  = &quot;user@comp.com&quot;;\n        String password  = &quot;password&quot;;\n\n        Properties props = System.getProperties();\n\n        props.setProperty(&quot;mail.imap.port&quot;, port);\n        props.setProperty(&quot;mail.imap.host&quot;, host);\n\n        //SSL\n        props.setProperty(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\n\n        props.setProperty(&quot;mail.imap.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n        props.setProperty(&quot;mail.imap.socketFactory.class&quot;, &quot;com.boomi.connector.mailsdk.connection.MailSSLSocketFactory&quot;);\n        props.setProperty(&quot;mail.imap.socketFactory.fallback&quot;, &quot;true&quot;);\n        props.setProperty(&quot;mail.imap.socketFactory.port&quot;, port);\n\n        Authenticator auth = new Authenticator()\n        {\n            public PasswordAuthentication getPasswordAuthentication()\n            {\n                return new PasswordAuthentication(username , password);\n            }\n        };\n        Session session = Session.getInstance(props, auth);\n        session.setDebug(true);\n        System.out.println(session);\n        Store store = session.getStore(&quot;imap&quot;);\n\n        System.out.println(store);\n\n        store.connect();\n</code></pre>\n<p>Problem number one:</p>\n<ol>\n<li>it takes imap store as imap://windows_user@outlook.office365.com</li>\n<li>failing to connect</li>\n</ol>\n<p>log:</p>\n<blockquote>\n<p>DEBUG: setDebug: JavaMail version 1.6.2 javax.mail.Session@6433a2\nDEBUG: getProvider() returning\njavax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle]\nDEBUG IMAP: mail.imap.fetchsize: 16384 DEBUG IMAP:\nmail.imap.ignorebodystructuresize: false DEBUG IMAP:\nmail.imap.statuscachetimeout: 1000 DEBUG IMAP:\nmail.imap.appendbuffersize: -1 DEBUG IMAP: mail.imap.minidletime: 10\nDEBUG IMAP: enable STARTTLS DEBUG IMAP: closeFoldersOnStoreFailure\nimap://windows_user@outlook.office365.com DEBUG IMAP:\nprotocolConnect returning false, host=outlook.office365.com,\nuser=windows_user, password= DEBUG IMAP: trying to connect\nto host &quot;outlook.office365.com&quot;, port 143, isSSL false\nOK The Microsoft Exchange IMAP4 service is ready. [QQBNADYAUABSADAANABDAEEAMAAwADEANAAuAGUAdQByAHAAcgBkADAANAAuAHAAcgBvAGQALgBvAHUAdABsAG8AbwBrAC4AYwBvAG0A]\nA0 CAPABILITY\nCAPABILITY IMAP4 IMAP4rev1 LOGINDISABLED STARTTLS SASL-IR UIDPLUS MOVE ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+ A0 OK CAPABILITY\ncompleted. DEBUG IMAP: protocolConnect login,\nhost=outlook.office365.com, user=user@comp.com,\npassword= A1 STARTTLS A1 OK Begin TLS negotiation now. A2\nCAPABILITY\nCAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS MOVE ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+ A2 OK CAPABILITY\ncompleted. DEBUG IMAP: AUTH: PLAIN DEBUG IMAP: AUTH: XOAUTH2 DEBUG\nIMAP: AUTHENTICATE PLAIN command trace suppressed DEBUG IMAP:\nAUTHENTICATE PLAIN command result: A3 NO AUTHENTICATE failed.</p>\n</blockquote>\n"},{"tags":["java","security","encryption"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1650532913,"post_id":71951889,"comment_id":127142044,"body_markdown":"A java [KeyStore](https://docs.oracle.com/javase/10/docs/api/java/security/KeyStore.html)","body":"A java <a href=\"https://docs.oracle.com/javase/10/docs/api/java/security/KeyStore.html\" rel=\"nofollow noreferrer\">KeyStore</a>"},{"owner":{"account_id":24085224,"reputation":83,"user_id":18059330,"display_name":"Louis"},"score":0,"creation_date":1650533064,"post_id":71951889,"comment_id":127142096,"body_markdown":"Thats to long, I have multiple Object who eaxh has is hown token to acces to the api. And I need a conf file thats I can edit to add Object","body":"Thats to long, I have multiple Object who eaxh has is hown token to acces to the api. And I need a conf file thats I can edit to add Object"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1650536541,"post_id":71951889,"comment_id":127143532,"body_markdown":"It depends, you won&#39;t find a one best way to store passwords for every application. If you need a conf file then you can just encrypt these tokens with a password which you will need to type each time when starting application. You could generate new tokens each time with some 2 factor authentication etc. In general you shouldn&#39;t store sensitive data in application, you should have one token for each instance of application to access data not one for many applications. Like I said earlier it all depends on structure of application, distribution system, who will use that application etc.","body":"It depends, you won&#39;t find a one best way to store passwords for every application. If you need a conf file then you can just encrypt these tokens with a password which you will need to type each time when starting application. You could generate new tokens each time with some 2 factor authentication etc. In general you shouldn&#39;t store sensitive data in application, you should have one token for each instance of application to access data not one for many applications. Like I said earlier it all depends on structure of application, distribution system, who will use that application etc."}],"answers":[{"tags":[],"owner":{"account_id":18263992,"reputation":21,"user_id":13296174,"display_name":"George Dimitriou"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650533120,"creation_date":1650533120,"answer_id":71952017,"question_id":71951889,"body_markdown":"You can check Keycloak server: \r\nhttps://www.keycloak.org/         ","title":"Best practice for storing TOKEN/password in Java","body":"<p>You can check Keycloak server:\n<a href=\"https://www.keycloak.org/\" rel=\"nofollow noreferrer\">https://www.keycloak.org/</a></p>\n"},{"tags":[],"owner":{"account_id":15276240,"reputation":383,"user_id":11021885,"display_name":"Ebi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650620014,"creation_date":1650536729,"answer_id":71952877,"question_id":71951889,"body_markdown":"Based on what I have observed so far, I believe this XML file is acting as a config file or something like that which manages environment variables at runtime. However, you need to be aware that any sensitive values should not be stored as plain text inside your repository, database, containers, etc. \r\n\r\nA practical approach is to store sensitive values encrypted in a trustworthy and secure location and decrypting them just before deployment into production. \r\n\r\nIf you wish to store these tokens encrypted, you can use the github [encypted-secret][1] feature.  Then, before deployment, rebuild this XML using a CI pipeline, and let github handle decryption of values during the build time (See [this][2] example).  As another example, you can use AWS [secret-manager][3] to encrypt all values and then inject these values inside your container while deploying your docker container into ECS.\r\n\r\nThe advantages of this approach include preventing token leakage and providing easy key rotation by simply replacing values in Gtihub, AWS, etc and creating a new deployment. \r\n\r\n\r\n  [1]: https://docs.github.com/en/actions/security-guides/encrypted-secrets\r\n  [2]: https://github.com/Azure/actions-workflow-samples/blob/master/assets/create-secrets-for-GitHub-workflows.md\r\n  [3]: https://docs.aws.amazon.com/AmazonECS/latest/developerguide/specifying-sensitive-data.html","title":"Best practice for storing TOKEN/password in Java","body":"<p>Based on what I have observed so far, I believe this XML file is acting as a config file or something like that which manages environment variables at runtime. However, you need to be aware that any sensitive values should not be stored as plain text inside your repository, database, containers, etc.</p>\n<p>A practical approach is to store sensitive values encrypted in a trustworthy and secure location and decrypting them just before deployment into production.</p>\n<p>If you wish to store these tokens encrypted, you can use the github <a href=\"https://docs.github.com/en/actions/security-guides/encrypted-secrets\" rel=\"nofollow noreferrer\">encypted-secret</a> feature.  Then, before deployment, rebuild this XML using a CI pipeline, and let github handle decryption of values during the build time (See <a href=\"https://github.com/Azure/actions-workflow-samples/blob/master/assets/create-secrets-for-GitHub-workflows.md\" rel=\"nofollow noreferrer\">this</a> example).  As another example, you can use AWS <a href=\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/specifying-sensitive-data.html\" rel=\"nofollow noreferrer\">secret-manager</a> to encrypt all values and then inject these values inside your container while deploying your docker container into ECS.</p>\n<p>The advantages of this approach include preventing token leakage and providing easy key rotation by simply replacing values in Gtihub, AWS, etc and creating a new deployment.</p>\n"}],"owner":{"account_id":24085224,"reputation":83,"user_id":18059330,"display_name":"Louis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":948,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71952877,"answer_count":2,"score":0,"last_activity_date":1650620014,"creation_date":1650532558,"question_id":71951889,"body_markdown":"I’m working on a Java application that interacts with a REST API. To communicate with this API, I must use TOKEN, all these TOKEN are sensitive data and I cannot write in my code. \r\n\r\nSo I’m looking for a way like a configuration file to store the TOKEN and access it.\r\n\r\nCurrently, I made an XML file with all my TOKEN and I read, but I don’t think that’s the right way to do it.\r\n\r\n\r\nI&#39;m working with IDEA, JDK-17, Maven Project\r\n\r\nThanks for your help!","title":"Best practice for storing TOKEN/password in Java","body":"<p>I’m working on a Java application that interacts with a REST API. To communicate with this API, I must use TOKEN, all these TOKEN are sensitive data and I cannot write in my code.</p>\n<p>So I’m looking for a way like a configuration file to store the TOKEN and access it.</p>\n<p>Currently, I made an XML file with all my TOKEN and I read, but I don’t think that’s the right way to do it.</p>\n<p>I'm working with IDEA, JDK-17, Maven Project</p>\n<p>Thanks for your help!</p>\n"},{"tags":["java","spring","security","spring-boot","spring-security"],"comments":[{"owner":{"account_id":4391606,"reputation":1036,"user_id":3579787,"display_name":"tjeubaoit"},"score":0,"creation_date":1482738895,"post_id":41140669,"comment_id":69859570,"body_markdown":"Same question at [http://stackoverflow.com/questions/19767267/handle-spring-security-authentication-exceptions-with-exceptionhandler?noredirect=1&amp;lq=1](http://stackoverflow.com/questions/19767267/handle-spring-security-authentication-exceptions-with-exceptionhandler?noredirect=1&amp;lq=1)","body":"Same question at <a href=\"http://stackoverflow.com/questions/19767267/handle-spring-security-authentication-exceptions-with-exceptionhandler?noredirect=1&amp;lq=1\">http://stackoverflow.com/questions/19767267/handle-spring-se&zwnj;&#8203;curity-authenticatio&zwnj;&#8203;n-exceptions-with-ex&zwnj;&#8203;ceptionhandler?nored&zwnj;&#8203;irect=1&amp;lq=1</a>"},{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":0,"creation_date":1556120242,"post_id":41140669,"comment_id":98332155,"body_markdown":"For OAuth2 exceptions, see this question: https://stackoverflow.com/q/45985310/2387977","body":"For OAuth2 exceptions, see this question: <a href=\"https://stackoverflow.com/q/45985310/2387977\">stackoverflow.com/q/45985310/2387977</a>"}],"answers":[{"tags":[],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1482361492,"creation_date":1482361492,"answer_id":41273413,"question_id":41140669,"body_markdown":"You are not able to make use of Spring MVC Exception handler annotations such as `@ControllerAdvice` because spring security filters kicks in much before Spring MVC.","title":"Handle Security exceptions in Spring Boot Resource Server","body":"<p>You are not able to make use of Spring MVC Exception handler annotations such as <code>@ControllerAdvice</code> because spring security filters kicks in much before Spring MVC.</p>\n"},{"tags":[],"owner":{"account_id":7412673,"reputation":86,"user_id":5639571,"display_name":"Nikolai Luthman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482412868,"creation_date":1482412868,"answer_id":41284188,"question_id":41140669,"body_markdown":"OAuth2ExceptionRenderer is for an Authorization Server. The correct answer is likely to handle it like detailed in this post (that is, ignore that it&#39;s oauth and treat it like any other spring security authentication mechanism): https://stackoverflow.com/a/26502321/5639571\r\n\r\nOf course, this will catch oauth related exceptions (which are thrown before you reach your resource endpoint), but any exceptions happening within your resource endpoint will still require an @ExceptionHandler method.","title":"Handle Security exceptions in Spring Boot Resource Server","body":"<p>OAuth2ExceptionRenderer is for an Authorization Server. The correct answer is likely to handle it like detailed in this post (that is, ignore that it's oauth and treat it like any other spring security authentication mechanism): <a href=\"https://stackoverflow.com/a/26502321/5639571\">https://stackoverflow.com/a/26502321/5639571</a></p>\n\n<p>Of course, this will catch oauth related exceptions (which are thrown before you reach your resource endpoint), but any exceptions happening within your resource endpoint will still require an @ExceptionHandler method.</p>\n"},{"tags":[],"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1603615378,"creation_date":1482503551,"answer_id":41303283,"question_id":41140669,"body_markdown":"As noted in previous comments the request is rejected by the security framework before it reaches the MVC layer so `@ControllerAdvice` is not an option here.\r\n\r\nThere are 3 interfaces in the Spring Security framework that may be of interest here:\r\n\r\n - org.springframework.security.web.authentication.AuthenticationSuccessHandler\r\n - org.springframework.security.web.authentication.AuthenticationFailureHandler\r\n - org.springframework.security.web.access.AccessDeniedHandler\r\n\r\nYou can create implementations of each of these Interfaces in order to customize the response sent for various events: successful login, failed login, attempt to access protected resource with insufficient permissions.\r\n\r\nThe following would return a JSON response on unsuccessful login attempt:\r\n\r\n    @Component\r\n    public class RestAuthenticationFailureHandler implements AuthenticationFailureHandler\r\n    {\r\n      @Override\r\n      public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response,\r\n          AuthenticationException ex) throws IOException, ServletException\r\n      {\r\n        response.setStatus(HttpStatus.FORBIDDEN.value());\r\n        \r\n        Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\r\n        data.put(&quot;timestamp&quot;, new Date());\r\n        data.put(&quot;status&quot;,HttpStatus.FORBIDDEN.value());\r\n        data.put(&quot;message&quot;, &quot;Access Denied&quot;);\r\n        data.put(&quot;path&quot;, request.getRequestURL().toString());\r\n        \r\n        OutputStream out = response.getOutputStream();\r\n    \tcom.fasterxml.jackson.databind.ObjectMapper mapper = new ObjectMapper();\r\n        mapper.writeValue(out, data);\r\n        out.flush();\r\n      }\r\n    }\r\n\r\nYou also need to register your implementation(s) with the Security framework. In Java config this looks like the below:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @ComponentScan(&quot;...&quot;)\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter\r\n    {\r\n      @Override\r\n      public void configure(HttpSecurity http) throws Exception\r\n      {\r\n        http\r\n           .addFilterBefore(corsFilter(), ChannelProcessingFilter.class)\r\n           .logout()\r\n           .deleteCookies(&quot;JESSIONID&quot;)\r\n           .logoutUrl(&quot;/api/logout&quot;)\r\n           .logoutSuccessHandler(logoutSuccessHandler())\r\n           .and()\r\n           .formLogin()\r\n           .loginPage(&quot;/login&quot;)\r\n           .loginProcessingUrl(&quot;/api/login&quot;)\r\n           .failureHandler(authenticationFailureHandler())\r\n           .successHandler(authenticationSuccessHandler())\r\n           .and()\r\n           .csrf()\r\n           .disable()\r\n           .exceptionHandling()\r\n           .authenticationEntryPoint(authenticationEntryPoint())\r\n           .accessDeniedHandler(accessDeniedHandler());\r\n      }\r\n    \r\n      /**\r\n       * @return Custom {@link AuthenticationFailureHandler} to send suitable response to REST clients in the event of a\r\n       *         failed authentication attempt.\r\n       */\r\n      @Bean\r\n      public AuthenticationFailureHandler authenticationFailureHandler()\r\n      {\r\n        return new RestAuthenticationFailureHandler();\r\n      }\r\n    \r\n      /**\r\n       * @return Custom {@link AuthenticationSuccessHandler} to send suitable response to REST clients in the event of a\r\n       *         successful authentication attempt.\r\n       */\r\n      @Bean\r\n      public AuthenticationSuccessHandler authenticationSuccessHandler()\r\n      {\r\n        return new RestAuthenticationSuccessHandler();\r\n      }\r\n    \r\n      /**\r\n       * @return Custom {@link AccessDeniedHandler} to send suitable response to REST clients in the event of an attempt to\r\n       *         access resources to which the user has insufficient privileges.\r\n       */\r\n      @Bean\r\n      public AccessDeniedHandler accessDeniedHandler()\r\n      {\r\n        return new RestAccessDeniedHandler();\r\n      }\r\n    }\r\n\r\n \r\n\r\n ","title":"Handle Security exceptions in Spring Boot Resource Server","body":"<p>As noted in previous comments the request is rejected by the security framework before it reaches the MVC layer so <code>@ControllerAdvice</code> is not an option here.</p>\n<p>There are 3 interfaces in the Spring Security framework that may be of interest here:</p>\n<ul>\n<li>org.springframework.security.web.authentication.AuthenticationSuccessHandler</li>\n<li>org.springframework.security.web.authentication.AuthenticationFailureHandler</li>\n<li>org.springframework.security.web.access.AccessDeniedHandler</li>\n</ul>\n<p>You can create implementations of each of these Interfaces in order to customize the response sent for various events: successful login, failed login, attempt to access protected resource with insufficient permissions.</p>\n<p>The following would return a JSON response on unsuccessful login attempt:</p>\n<pre><code>@Component\npublic class RestAuthenticationFailureHandler implements AuthenticationFailureHandler\n{\n  @Override\n  public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response,\n      AuthenticationException ex) throws IOException, ServletException\n  {\n    response.setStatus(HttpStatus.FORBIDDEN.value());\n    \n    Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\n    data.put(&quot;timestamp&quot;, new Date());\n    data.put(&quot;status&quot;,HttpStatus.FORBIDDEN.value());\n    data.put(&quot;message&quot;, &quot;Access Denied&quot;);\n    data.put(&quot;path&quot;, request.getRequestURL().toString());\n    \n    OutputStream out = response.getOutputStream();\n    com.fasterxml.jackson.databind.ObjectMapper mapper = new ObjectMapper();\n    mapper.writeValue(out, data);\n    out.flush();\n  }\n}\n</code></pre>\n<p>You also need to register your implementation(s) with the Security framework. In Java config this looks like the below:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@ComponentScan(&quot;...&quot;)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter\n{\n  @Override\n  public void configure(HttpSecurity http) throws Exception\n  {\n    http\n       .addFilterBefore(corsFilter(), ChannelProcessingFilter.class)\n       .logout()\n       .deleteCookies(&quot;JESSIONID&quot;)\n       .logoutUrl(&quot;/api/logout&quot;)\n       .logoutSuccessHandler(logoutSuccessHandler())\n       .and()\n       .formLogin()\n       .loginPage(&quot;/login&quot;)\n       .loginProcessingUrl(&quot;/api/login&quot;)\n       .failureHandler(authenticationFailureHandler())\n       .successHandler(authenticationSuccessHandler())\n       .and()\n       .csrf()\n       .disable()\n       .exceptionHandling()\n       .authenticationEntryPoint(authenticationEntryPoint())\n       .accessDeniedHandler(accessDeniedHandler());\n  }\n\n  /**\n   * @return Custom {@link AuthenticationFailureHandler} to send suitable response to REST clients in the event of a\n   *         failed authentication attempt.\n   */\n  @Bean\n  public AuthenticationFailureHandler authenticationFailureHandler()\n  {\n    return new RestAuthenticationFailureHandler();\n  }\n\n  /**\n   * @return Custom {@link AuthenticationSuccessHandler} to send suitable response to REST clients in the event of a\n   *         successful authentication attempt.\n   */\n  @Bean\n  public AuthenticationSuccessHandler authenticationSuccessHandler()\n  {\n    return new RestAuthenticationSuccessHandler();\n  }\n\n  /**\n   * @return Custom {@link AccessDeniedHandler} to send suitable response to REST clients in the event of an attempt to\n   *         access resources to which the user has insufficient privileges.\n   */\n  @Bean\n  public AccessDeniedHandler accessDeniedHandler()\n  {\n    return new RestAccessDeniedHandler();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446461,"reputation":2991,"user_id":839518,"accept_rate":80,"display_name":"Vladimir Salin"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1496676385,"creation_date":1496676385,"answer_id":44372313,"question_id":41140669,"body_markdown":"In case if you&#39;re using `@EnableResourceServer`, you may also find convenient to extend `ResourceServerConfigurerAdapter` instead of `WebSecurityConfigurerAdapter` in your `@Configuration` class. By doing this, you may simply register a custom `AuthenticationEntryPoint` by overriding `configure(ResourceServerSecurityConfigurer resources)` and using `resources.authenticationEntryPoint(customAuthEntryPoint())` inside the method. \r\n\r\nSomething like this:\r\n\r\n    @Configuration\r\n    @EnableResourceServer\r\n    public class CommonSecurityConfig extends ResourceServerConfigurerAdapter {\r\n    \r\n        @Override\r\n        public void configure(ResourceServerSecurityConfigurer resources) throws Exception {\r\n            resources.authenticationEntryPoint(customAuthEntryPoint());\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationEntryPoint customAuthEntryPoint(){\r\n            return new AuthFailureHandler();\r\n        }\r\n    }\r\n\r\nThere&#39;s also a nice `OAuth2AuthenticationEntryPoint` that can be extended (since it&#39;s not final) and partially re-used while implementing a custom `AuthenticationEntryPoint`. In particular, it adds &quot;WWW-Authenticate&quot; headers with error-related details.","title":"Handle Security exceptions in Spring Boot Resource Server","body":"<p>In case if you're using <code>@EnableResourceServer</code>, you may also find convenient to extend <code>ResourceServerConfigurerAdapter</code> instead of <code>WebSecurityConfigurerAdapter</code> in your <code>@Configuration</code> class. By doing this, you may simply register a custom <code>AuthenticationEntryPoint</code> by overriding <code>configure(ResourceServerSecurityConfigurer resources)</code> and using <code>resources.authenticationEntryPoint(customAuthEntryPoint())</code> inside the method. </p>\n\n<p>Something like this:</p>\n\n<pre><code>@Configuration\n@EnableResourceServer\npublic class CommonSecurityConfig extends ResourceServerConfigurerAdapter {\n\n    @Override\n    public void configure(ResourceServerSecurityConfigurer resources) throws Exception {\n        resources.authenticationEntryPoint(customAuthEntryPoint());\n    }\n\n    @Bean\n    public AuthenticationEntryPoint customAuthEntryPoint(){\n        return new AuthFailureHandler();\n    }\n}\n</code></pre>\n\n<p>There's also a nice <code>OAuth2AuthenticationEntryPoint</code> that can be extended (since it's not final) and partially re-used while implementing a custom <code>AuthenticationEntryPoint</code>. In particular, it adds \"WWW-Authenticate\" headers with error-related details.</p>\n"},{"tags":[],"owner":{"account_id":7399692,"reputation":153,"user_id":5630537,"display_name":"Rupesh Patil"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1529490297,"creation_date":1529488331,"answer_id":50945283,"question_id":41140669,"body_markdown":"Spring 3.0 Onwards,You can use `@ControllerAdvice` (At Class Level) and extends `org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler` class from `CustomGlobalExceptionHandler`\r\n\r\n    @ExceptionHandler({com.test.CustomException1.class,com.test.CustomException2.class})\r\n    public final ResponseEntity&lt;CustomErrorMessage&gt; customExceptionHandler(RuntimeException ex){\r\n         return new ResponseEntity&lt;CustomErrorMessage&gt;(new CustomErrorMessage(false,ex.getMessage(),404),HttpStatus.BAD_REQUEST);\r\n    }","title":"Handle Security exceptions in Spring Boot Resource Server","body":"<p>Spring 3.0 Onwards,You can use <code>@ControllerAdvice</code> (At Class Level) and extends <code>org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler</code> class from <code>CustomGlobalExceptionHandler</code></p>\n\n<pre><code>@ExceptionHandler({com.test.CustomException1.class,com.test.CustomException2.class})\npublic final ResponseEntity&lt;CustomErrorMessage&gt; customExceptionHandler(RuntimeException ex){\n     return new ResponseEntity&lt;CustomErrorMessage&gt;(new CustomErrorMessage(false,ex.getMessage(),404),HttpStatus.BAD_REQUEST);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1555538831,"creation_date":1555538831,"answer_id":55736613,"question_id":41140669,"body_markdown":"If you&#39;re using token validation URL with config similar to [Configuring resource server with RemoteTokenServices in Spring Security Oauth2][1] which returns HTTP status 401 in case of unauthorized:\r\n\r\n    @Primary\r\n    @Bean\r\n    public RemoteTokenServices tokenService() {\r\n        RemoteTokenServices tokenService = new RemoteTokenServices();\r\n        tokenService.setCheckTokenEndpointUrl(&quot;https://token-validation-url.com&quot;);\r\n        tokenService.setTokenName(&quot;token&quot;);\r\n        return tokenService;\r\n    }\r\n\r\nImplementing custom `authenticationEntryPoint` as described in other answers (https://stackoverflow.com/a/44372313/5962766) won&#39;t work because [RemoteTokenService][2] use 400 status and throws unhandled exceptions for other statuses like 401:\r\n\r\n    public RemoteTokenServices() {\r\n    \t\trestTemplate = new RestTemplate();\r\n    \t\t((RestTemplate) restTemplate).setErrorHandler(new DefaultResponseErrorHandler() {\r\n    \t\t\t@Override\r\n    \t\t\t// Ignore 400\r\n    \t\t\tpublic void handleError(ClientHttpResponse response) throws IOException {\r\n    \t\t\t\tif (response.getRawStatusCode() != 400) {\r\n    \t\t\t\t\tsuper.handleError(response);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    }\r\n\r\nSo you need to set custom `RestTemplate` in `RemoteTokenServices` config which would handle 401 without throwing exception:\r\n\r\n    @Primary\r\n    @Bean\r\n    public RemoteTokenServices tokenService() {\r\n        RemoteTokenServices tokenService = new RemoteTokenServices();\r\n        tokenService.setCheckTokenEndpointUrl(&quot;https://token-validation-url.com&quot;);\r\n        tokenService.setTokenName(&quot;token&quot;);\r\n        RestOperations restTemplate = new RestTemplate();\r\n        restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory());\r\n    \t((RestTemplate) restTemplate).setErrorHandler(new DefaultResponseErrorHandler() {\r\n    \t\t\t@Override\r\n    \t\t\t// Ignore 400 and 401\r\n    \t\t\tpublic void handleError(ClientHttpResponse response) throws IOException {\r\n    \t\t\t\tif (response.getRawStatusCode() != 400 &amp;&amp; response.getRawStatusCode() != 401) {\r\n    \t\t\t\t\tsuper.handleError(response);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n        }\r\n        tokenService.setRestTemplate(restTemplate);\r\n        return tokenService;\r\n    }\r\n\r\nAnd add dependency for [HttpComponentsClientHttpRequestFactory][3]:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n      &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/40626102/5962766\r\n  [2]: https://github.com/spring-projects/spring-security-oauth/blob/master/spring-security-oauth2/src/main/java/org/springframework/security/oauth2/provider/token/RemoteTokenServices.java\r\n  [3]: https://stackoverflow.com/a/53695761/5962766","title":"Handle Security exceptions in Spring Boot Resource Server","body":"<p>If you're using token validation URL with config similar to <a href=\"https://stackoverflow.com/a/40626102/5962766\">Configuring resource server with RemoteTokenServices in Spring Security Oauth2</a> which returns HTTP status 401 in case of unauthorized:</p>\n\n<pre><code>@Primary\n@Bean\npublic RemoteTokenServices tokenService() {\n    RemoteTokenServices tokenService = new RemoteTokenServices();\n    tokenService.setCheckTokenEndpointUrl(\"https://token-validation-url.com\");\n    tokenService.setTokenName(\"token\");\n    return tokenService;\n}\n</code></pre>\n\n<p>Implementing custom <code>authenticationEntryPoint</code> as described in other answers (<a href=\"https://stackoverflow.com/a/44372313/5962766\">https://stackoverflow.com/a/44372313/5962766</a>) won't work because <a href=\"https://github.com/spring-projects/spring-security-oauth/blob/master/spring-security-oauth2/src/main/java/org/springframework/security/oauth2/provider/token/RemoteTokenServices.java\" rel=\"nofollow noreferrer\">RemoteTokenService</a> use 400 status and throws unhandled exceptions for other statuses like 401:</p>\n\n<pre><code>public RemoteTokenServices() {\n        restTemplate = new RestTemplate();\n        ((RestTemplate) restTemplate).setErrorHandler(new DefaultResponseErrorHandler() {\n            @Override\n            // Ignore 400\n            public void handleError(ClientHttpResponse response) throws IOException {\n                if (response.getRawStatusCode() != 400) {\n                    super.handleError(response);\n                }\n            }\n        });\n}\n</code></pre>\n\n<p>So you need to set custom <code>RestTemplate</code> in <code>RemoteTokenServices</code> config which would handle 401 without throwing exception:</p>\n\n<pre><code>@Primary\n@Bean\npublic RemoteTokenServices tokenService() {\n    RemoteTokenServices tokenService = new RemoteTokenServices();\n    tokenService.setCheckTokenEndpointUrl(\"https://token-validation-url.com\");\n    tokenService.setTokenName(\"token\");\n    RestOperations restTemplate = new RestTemplate();\n    restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory());\n    ((RestTemplate) restTemplate).setErrorHandler(new DefaultResponseErrorHandler() {\n            @Override\n            // Ignore 400 and 401\n            public void handleError(ClientHttpResponse response) throws IOException {\n                if (response.getRawStatusCode() != 400 &amp;&amp; response.getRawStatusCode() != 401) {\n                    super.handleError(response);\n                }\n            }\n        });\n    }\n    tokenService.setRestTemplate(restTemplate);\n    return tokenService;\n}\n</code></pre>\n\n<p>And add dependency for <a href=\"https://stackoverflow.com/a/53695761/5962766\">HttpComponentsClientHttpRequestFactory</a>:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n  &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2177610,"reputation":594,"user_id":4668027,"display_name":"Efriandika Pratama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595987284,"creation_date":1595987284,"answer_id":63145159,"question_id":41140669,"body_markdown":"We can use this security handler to pass the handler to spring mvc `@ControllerAdvice`\r\n\r\n```\r\n@Component\r\npublic class AuthExceptionHandler implements AuthenticationEntryPoint, AccessDeniedHandler {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(AuthExceptionHandler.class);\r\n\r\n    private final HandlerExceptionResolver resolver;\r\n\r\n    @Autowired\r\n    public AuthExceptionHandler(@Qualifier(&quot;handlerExceptionResolver&quot;) final HandlerExceptionResolver resolver) {\r\n        this.resolver = resolver;\r\n    }\r\n\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException, ServletException {\r\n        LOG.error(&quot;Responding with unauthorized error. Message - {}&quot;, authException.getMessage());\r\n        resolver.resolveException(request, response, null, authException);\r\n    }\r\n\r\n    @Override\r\n    public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException, ServletException {\r\n        LOG.error(&quot;Responding with access denied error. Message - {}&quot;, accessDeniedException.getMessage());\r\n        resolver.resolveException(request, response, null, accessDeniedException);\r\n    }\r\n}\r\n```\r\n\r\nThen define the exception by using `@ControllerAdvice` so  that we can manage the global exception handler in one place..","title":"Handle Security exceptions in Spring Boot Resource Server","body":"<p>We can use this security handler to pass the handler to spring mvc <code>@ControllerAdvice</code></p>\n<pre><code>@Component\npublic class AuthExceptionHandler implements AuthenticationEntryPoint, AccessDeniedHandler {\n\n    private static final Logger LOG = LoggerFactory.getLogger(AuthExceptionHandler.class);\n\n    private final HandlerExceptionResolver resolver;\n\n    @Autowired\n    public AuthExceptionHandler(@Qualifier(&quot;handlerExceptionResolver&quot;) final HandlerExceptionResolver resolver) {\n        this.resolver = resolver;\n    }\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException, ServletException {\n        LOG.error(&quot;Responding with unauthorized error. Message - {}&quot;, authException.getMessage());\n        resolver.resolveException(request, response, null, authException);\n    }\n\n    @Override\n    public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException, ServletException {\n        LOG.error(&quot;Responding with access denied error. Message - {}&quot;, accessDeniedException.getMessage());\n        resolver.resolveException(request, response, null, accessDeniedException);\n    }\n}\n</code></pre>\n<p>Then define the exception by using <code>@ControllerAdvice</code> so  that we can manage the global exception handler in one place..</p>\n"},{"tags":[],"owner":{"account_id":3999994,"reputation":57,"user_id":3296263,"display_name":"PraZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615806281,"creation_date":1615804868,"answer_id":66636413,"question_id":41140669,"body_markdown":"This is possible. Since the original question is for a REST controller that needs to return a custom JSON response, I will write up a complete answer step by step which worked for me. First and foremost, it seems you cannot handle this with a `@ControllerAdvice` that extends `ControllResponseEntityExceptionHandler`. You need a separate handler that extends `AccessDeniedHandler`. Follow the below steps.\r\n\r\n### Step 1: Create a custom handler class that extends `AccessDeniedHandler`\r\n```\r\n@Component\r\npublic class MyAccessDeniedHandler implements AccessDeniedHandler {\r\n\r\n    private static final String JSON_TYPE = &quot;application/json&quot;;\r\n    \r\n    @Override\r\n    public void handle(HttpServletRequest request, HttpServletResponse response,\r\n                       AccessDeniedException accessDeniedException) throws IOException {\r\n        MyErrorList errors = new MyErrorList();\r\n        errors.addError(new MyError(&quot;&quot;, &quot;You do not have permission to access this resource.&quot;));\r\n\r\n        response.setStatus(HttpStatus.FORBIDDEN.value());\r\n        response.setContentType(JSON_TYPE);\r\n        OutputStream output = response.getOutputStream();\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.writeValue(output, errors);\r\n        output.flush();\r\n    }\r\n}\r\n```\r\n&#39;MyError&#39; above is a simple POJO to represent an error json structure and MyErrorList is another POJO that holds a list of &#39;MyError&#39;s.\r\n\r\n### Step 2: Inject the Handler created above into the Security configuration\r\n```\r\n@Autowired\r\nprivate VOMSAccessDeniedHandler accessDeniedHandler;  \r\n```\r\n\r\n### Step 3: Register the `accessDeniedHandler` in your configure method\r\n```\r\n.and().exceptionHandling().accessDeniedHandler(accessDeniedHandler)\r\n```\r\n\r\nWith **Step 2** and **Step 3**, Your `SecurityConfiguration` should look something like this (Note that I am omitting code that is not relevant to this problem to shorten the length of this answer):\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private MyAccessDeniedHandler accessDeniedHandler;\r\n\r\n    // Other stuff\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(authenticationProvider());\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/register&quot;).permitAll()\r\n                .antMatchers(&quot;/authenticate&quot;).permitAll()\r\n                .antMatchers(&quot;/public&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and().exceptionHandling().accessDeniedHandler(accessDeniedHandler)\r\n                .and().sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n}\r\n```","title":"Handle Security exceptions in Spring Boot Resource Server","body":"<p>This is possible. Since the original question is for a REST controller that needs to return a custom JSON response, I will write up a complete answer step by step which worked for me. First and foremost, it seems you cannot handle this with a <code>@ControllerAdvice</code> that extends <code>ControllResponseEntityExceptionHandler</code>. You need a separate handler that extends <code>AccessDeniedHandler</code>. Follow the below steps.</p>\n<h3>Step 1: Create a custom handler class that extends <code>AccessDeniedHandler</code></h3>\n<pre><code>@Component\npublic class MyAccessDeniedHandler implements AccessDeniedHandler {\n\n    private static final String JSON_TYPE = &quot;application/json&quot;;\n    \n    @Override\n    public void handle(HttpServletRequest request, HttpServletResponse response,\n                       AccessDeniedException accessDeniedException) throws IOException {\n        MyErrorList errors = new MyErrorList();\n        errors.addError(new MyError(&quot;&quot;, &quot;You do not have permission to access this resource.&quot;));\n\n        response.setStatus(HttpStatus.FORBIDDEN.value());\n        response.setContentType(JSON_TYPE);\n        OutputStream output = response.getOutputStream();\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.writeValue(output, errors);\n        output.flush();\n    }\n}\n</code></pre>\n<p>'MyError' above is a simple POJO to represent an error json structure and MyErrorList is another POJO that holds a list of 'MyError's.</p>\n<h3>Step 2: Inject the Handler created above into the Security configuration</h3>\n<pre><code>@Autowired\nprivate VOMSAccessDeniedHandler accessDeniedHandler;  \n</code></pre>\n<h3>Step 3: Register the <code>accessDeniedHandler</code> in your configure method</h3>\n<pre><code>.and().exceptionHandling().accessDeniedHandler(accessDeniedHandler)\n</code></pre>\n<p>With <strong>Step 2</strong> and <strong>Step 3</strong>, Your <code>SecurityConfiguration</code> should look something like this (Note that I am omitting code that is not relevant to this problem to shorten the length of this answer):</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private MyAccessDeniedHandler accessDeniedHandler;\n\n    // Other stuff\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(authenticationProvider());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/register&quot;).permitAll()\n                .antMatchers(&quot;/authenticate&quot;).permitAll()\n                .antMatchers(&quot;/public&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and().exceptionHandling().accessDeniedHandler(accessDeniedHandler)\n                .and().sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10764,"reputation":34965,"user_id":20479,"accept_rate":17,"display_name":"Rhubarb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650619907,"creation_date":1650619907,"answer_id":71966513,"question_id":41140669,"body_markdown":"Adapting the accepted answer for use with Spring `OAuth2ResourceServer` for JWT authentication, because without special configuration, it will register its own `BearerTokenAuthenticationEntryPoint`, and ignore the one we set in `.exceptionHandling().authenticationEntryPoint()`\r\n\r\nHence, in our `WebSecurityConfigurerAdapter` we have:\r\n\r\n\r\n\r\n```java\r\n   @Autowired\r\n   private AuthenticationFailureHandler authenticationFailureHandler;\r\n\r\n   protected void configure(HttpSecurity http) throws Exception {\r\n       http\r\n                // ... all the usual stuff ...\r\n                // configure OAuth2 (OIDC) JWT and set a custom authentication failure handler\r\n                .oauth2ResourceServer((resourceServer) -&gt; resourceServer\r\n                        .jwt().and()\r\n                        .authenticationEntryPoint(authenticationFailureHandler));\r\n    }\r\n```\r\n\r\nwhere `AuthenticationFailureHandler` is coded as suggested in earlier answers:\r\n\r\n```java\r\n@Component\r\npublic class AuthenticationFailureHandler implements AuthenticationEntryPoint {\r\n\r\n    public AuthenticationFailureHandler() {\r\n    }\r\n    \r\n    // Autowire our own CustomExceptionHandler: must be qualified because Spring Boot has others in the classpath\r\n    @Autowired\r\n    @Qualifier(&quot;handlerExceptionResolver&quot;) \r\n    private HandlerExceptionResolver resolver; \r\n\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws\r\n            IOException {\r\n        resolver.resolveException(request, response, null, authException);\r\n    }\r\n}\r\n```\r\n\r\nIn our CustomExceptionHandler (which is autowired above, but not mentioned by class name explicitly) we add a method for AuthenticationException handling:\r\n\r\n```java\r\n    @ExceptionHandler(value = {AuthenticationException.class})\r\n    protected ResponseEntity&lt;?&gt; handleAuthenticationException(RuntimeException ex, WebRequest request) {\r\n\r\n        return ... something ... // create custom error response here\r\n    }\r\n```","title":"Handle Security exceptions in Spring Boot Resource Server","body":"<p>Adapting the accepted answer for use with Spring <code>OAuth2ResourceServer</code> for JWT authentication, because without special configuration, it will register its own <code>BearerTokenAuthenticationEntryPoint</code>, and ignore the one we set in <code>.exceptionHandling().authenticationEntryPoint()</code></p>\n<p>Hence, in our <code>WebSecurityConfigurerAdapter</code> we have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Autowired\n   private AuthenticationFailureHandler authenticationFailureHandler;\n\n   protected void configure(HttpSecurity http) throws Exception {\n       http\n                // ... all the usual stuff ...\n                // configure OAuth2 (OIDC) JWT and set a custom authentication failure handler\n                .oauth2ResourceServer((resourceServer) -&gt; resourceServer\n                        .jwt().and()\n                        .authenticationEntryPoint(authenticationFailureHandler));\n    }\n</code></pre>\n<p>where <code>AuthenticationFailureHandler</code> is coded as suggested in earlier answers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class AuthenticationFailureHandler implements AuthenticationEntryPoint {\n\n    public AuthenticationFailureHandler() {\n    }\n    \n    // Autowire our own CustomExceptionHandler: must be qualified because Spring Boot has others in the classpath\n    @Autowired\n    @Qualifier(&quot;handlerExceptionResolver&quot;) \n    private HandlerExceptionResolver resolver; \n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws\n            IOException {\n        resolver.resolveException(request, response, null, authException);\n    }\n}\n</code></pre>\n<p>In our CustomExceptionHandler (which is autowired above, but not mentioned by class name explicitly) we add a method for AuthenticationException handling:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ExceptionHandler(value = {AuthenticationException.class})\n    protected ResponseEntity&lt;?&gt; handleAuthenticationException(RuntimeException ex, WebRequest request) {\n\n        return ... something ... // create custom error response here\n    }\n</code></pre>\n"}],"owner":{"account_id":467528,"reputation":10770,"user_id":872975,"accept_rate":91,"display_name":"Pete"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37406,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":41303283,"answer_count":9,"score":21,"last_activity_date":1650619907,"creation_date":1481712430,"question_id":41140669,"body_markdown":"How can I get my custom `ResponseEntityExceptionHandler` or `OAuth2ExceptionRenderer` to handle Exceptions raised by Spring security on a pure resource server?\r\n\r\nWe implemented a \r\n\r\n    @ControllerAdvice\r\n    @RestController\r\n    public class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n        \r\nso whenever there is an error on the resource server we want it to answer with\r\n\r\n    {\r\n      &quot;message&quot;: &quot;...&quot;,\r\n      &quot;type&quot;: &quot;...&quot;,\r\n      &quot;status&quot;: 400\r\n    }\r\n\r\nThe resource server uses the application.properties setting:\r\n\r\n    security.oauth2.resource.userInfoUri: http://localhost:9999/auth/user\r\n\r\nto authenticate and authorize a request against our auth server.\r\n\r\nHowever any spring security error will always bypass our exception handler at\r\n\r\n        @ExceptionHandler(InvalidTokenException.class)\r\n        public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; handleInvalidTokenException(InvalidTokenException e) {\r\n            return createErrorResponseAndLog(e, 401);\r\n        }\r\n and produce either \r\n\r\n    {\r\n      &quot;timestamp&quot;: &quot;2016-12-14T10:40:34.122Z&quot;,\r\n      &quot;status&quot;: 403,\r\n      &quot;error&quot;: &quot;Forbidden&quot;,\r\n      &quot;message&quot;: &quot;Access Denied&quot;,\r\n      &quot;path&quot;: &quot;/api/templates/585004226f793042a094d3a9/schema&quot;\r\n    }\r\n\r\nor \r\n\r\n    {\r\n      &quot;error&quot;: &quot;invalid_token&quot;,\r\n      &quot;error_description&quot;: &quot;5d7e4ab5-4a88-4571-b4a4-042bce0a076b&quot;\r\n    }\r\n\r\nSo how do I configure the security exception handling for a resource server? All I ever find are examples on how to customize the Auth Server by implementing a custom `OAuth2ExceptionRenderer`. But I can&#39;t find where to wire this to the resource server&#39;s security chain.\r\n\r\nOur only configuration/setup is this:\r\n\r\n    @SpringBootApplication\r\n    @Configuration\r\n    @ComponentScan(basePackages = {&quot;our.packages&quot;})\r\n    @EnableAutoConfiguration\r\n    @EnableResourceServer","title":"Handle Security exceptions in Spring Boot Resource Server","body":"<p>How can I get my custom <code>ResponseEntityExceptionHandler</code> or <code>OAuth2ExceptionRenderer</code> to handle Exceptions raised by Spring security on a pure resource server?</p>\n\n<p>We implemented a </p>\n\n<pre><code>@ControllerAdvice\n@RestController\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n</code></pre>\n\n<p>so whenever there is an error on the resource server we want it to answer with</p>\n\n<pre><code>{\n  \"message\": \"...\",\n  \"type\": \"...\",\n  \"status\": 400\n}\n</code></pre>\n\n<p>The resource server uses the application.properties setting:</p>\n\n<pre><code>security.oauth2.resource.userInfoUri: http://localhost:9999/auth/user\n</code></pre>\n\n<p>to authenticate and authorize a request against our auth server.</p>\n\n<p>However any spring security error will always bypass our exception handler at</p>\n\n<pre><code>    @ExceptionHandler(InvalidTokenException.class)\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; handleInvalidTokenException(InvalidTokenException e) {\n        return createErrorResponseAndLog(e, 401);\n    }\n</code></pre>\n\n<p>and produce either </p>\n\n<pre><code>{\n  \"timestamp\": \"2016-12-14T10:40:34.122Z\",\n  \"status\": 403,\n  \"error\": \"Forbidden\",\n  \"message\": \"Access Denied\",\n  \"path\": \"/api/templates/585004226f793042a094d3a9/schema\"\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>{\n  \"error\": \"invalid_token\",\n  \"error_description\": \"5d7e4ab5-4a88-4571-b4a4-042bce0a076b\"\n}\n</code></pre>\n\n<p>So how do I configure the security exception handling for a resource server? All I ever find are examples on how to customize the Auth Server by implementing a custom <code>OAuth2ExceptionRenderer</code>. But I can't find where to wire this to the resource server's security chain.</p>\n\n<p>Our only configuration/setup is this:</p>\n\n<pre><code>@SpringBootApplication\n@Configuration\n@ComponentScan(basePackages = {\"our.packages\"})\n@EnableAutoConfiguration\n@EnableResourceServer\n</code></pre>\n"},{"tags":["java","swing","io","jtable","binaryfiles"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1650624369,"post_id":71966011,"comment_id":127168535,"body_markdown":"Use a `DefaultTableModel` then you can serialize it in one call. No need for looping, which is good as at the moment there is nothing in that binary file defining the matrix","body":"Use a <code>DefaultTableModel</code> then you can serialize it in one call. No need for looping, which is good as at the moment there is nothing in that binary file defining the matrix"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1650630049,"post_id":71966011,"comment_id":127170495,"body_markdown":"A complete example is seen [here](https://stackoverflow.com/a/25526869/230513).","body":"A complete example is seen <a href=\"https://stackoverflow.com/a/25526869/230513\">here</a>."}],"owner":{"account_id":25049367,"reputation":1,"user_id":18905457,"display_name":"Vo Ngoc Nhat Quang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650619697,"creation_date":1650617664,"question_id":71966011,"body_markdown":"How can I read a binary file and display it in a `JTable`? \r\n\r\nFrom the code that saves the file like this in Java: \r\n\r\n    private void btnSaveActionPerformed(java.awt.event.ActionEvent evt) {\r\n        int returnVal = jFileChooser.showSaveDialog(this);\r\n        if (returnVal == JFileChooser.APPROVE_OPTION) {\r\n            try {\r\n                File file = jFileChooser.getSelectedFile();\r\n                this.jTextField.setText(file.getAbsolutePath());\r\n                FileOutputStream fileOut = new FileOutputStream(file);\r\n                ObjectOutputStream out = new ObjectOutputStream(fileOut);\r\n                \r\n                for(int i=0; i &lt; tblSinhVien.getRowCount(); i++) {\r\n                    for(int j=0; j&lt;tblSinhVien.getColumnCount(); j++) {\r\n                        out.writeObject(tblSinhVien.getValueAt(i, j));\r\n                    }\r\n                }\r\n                out.close();\r\n                fileOut.close();\r\n                this.jTextField.setText(&quot;Đ&#227; lưu&quot;);\r\n            } catch(IOException e) {\r\n                Logger.getLogger(Student_JFrame.class.getName()).log(Level.SEVERE, null, e);\r\n            }\r\n        }\r\n    }","title":"How can I read a binary file and display it in JTable?","body":"<p>How can I read a binary file and display it in a <code>JTable</code>?</p>\n<p>From the code that saves the file like this in Java:</p>\n<pre><code>private void btnSaveActionPerformed(java.awt.event.ActionEvent evt) {\n    int returnVal = jFileChooser.showSaveDialog(this);\n    if (returnVal == JFileChooser.APPROVE_OPTION) {\n        try {\n            File file = jFileChooser.getSelectedFile();\n            this.jTextField.setText(file.getAbsolutePath());\n            FileOutputStream fileOut = new FileOutputStream(file);\n            ObjectOutputStream out = new ObjectOutputStream(fileOut);\n            \n            for(int i=0; i &lt; tblSinhVien.getRowCount(); i++) {\n                for(int j=0; j&lt;tblSinhVien.getColumnCount(); j++) {\n                    out.writeObject(tblSinhVien.getValueAt(i, j));\n                }\n            }\n            out.close();\n            fileOut.close();\n            this.jTextField.setText(&quot;Đã lưu&quot;);\n        } catch(IOException e) {\n            Logger.getLogger(Student_JFrame.class.getName()).log(Level.SEVERE, null, e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","oauth-2.0","openid-connect","keycloak"],"answers":[{"tags":[],"owner":{"account_id":14605923,"reputation":93,"user_id":10548817,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1559859273,"creation_date":1559859273,"answer_id":56485720,"question_id":55702315,"body_markdown":"I have been trying to do the same thing; and it is not easy, however you can use the script mapper with some success. The source code at https://github.com/keycloak/keycloak/blob/master/server-spi/src/main/java/org/keycloak/models/RoleModel.java has some useful information. This SO item (thank you Andre B) also has useful information https://stackoverflow.com/questions/52518298/how-to-create-a-script-mapper-in-keycloak.\r\n\r\nMy (not perfect or complete) solution is:\r\n\r\n    /**\r\n     * Available variables: \r\n     * user - the current user\r\n     * realm - the current realm\r\n     * token - the current token\r\n     * userSession - the current userSession\r\n     * keycloakSession - the current userSession\r\n     */\r\n    \r\n    \r\n    var roles = [];\r\n    var client = keycloakSession.getContext().getClient();\r\n    user.getClientRoleMappings(client).forEach(function(roleModel) {\r\n        var attr = [];\r\n        var names = {};\r\n        var rn = roleModel.getName();\r\n        var map = roleModel.getAttributes();\r\n        map.forEach(function(key, value){\r\n            var k = {};\r\n            var a = false;\r\n            value.forEach(function(l){\r\n                a = (l === &#39;true&#39;);\r\n            });\r\n            k[key] = a;\r\n            attr.push(k);\r\n        });\r\n        names[rn] = attr;\r\n        roles.push(names);\r\n    });\r\n    \r\n    \r\n    exports = roles;\r\n\r\nNote that you probably need to set &#39;Multivalued&#39; to &quot;ON&quot; and the &#39;Claim JSON Type&#39; to &quot;Select One..&quot;.\r\n\r\n","title":"Accessing keycloak roles / users attributes from Java API","body":"<p>I have been trying to do the same thing; and it is not easy, however you can use the script mapper with some success. The source code at <a href=\"https://github.com/keycloak/keycloak/blob/master/server-spi/src/main/java/org/keycloak/models/RoleModel.java\" rel=\"noreferrer\">https://github.com/keycloak/keycloak/blob/master/server-spi/src/main/java/org/keycloak/models/RoleModel.java</a> has some useful information. This SO item (thank you Andre B) also has useful information <a href=\"https://stackoverflow.com/questions/52518298/how-to-create-a-script-mapper-in-keycloak\">How to create a Script Mapper in Keycloak?</a>.</p>\n\n<p>My (not perfect or complete) solution is:</p>\n\n<pre><code>/**\n * Available variables: \n * user - the current user\n * realm - the current realm\n * token - the current token\n * userSession - the current userSession\n * keycloakSession - the current userSession\n */\n\n\nvar roles = [];\nvar client = keycloakSession.getContext().getClient();\nuser.getClientRoleMappings(client).forEach(function(roleModel) {\n    var attr = [];\n    var names = {};\n    var rn = roleModel.getName();\n    var map = roleModel.getAttributes();\n    map.forEach(function(key, value){\n        var k = {};\n        var a = false;\n        value.forEach(function(l){\n            a = (l === 'true');\n        });\n        k[key] = a;\n        attr.push(k);\n    });\n    names[rn] = attr;\n    roles.push(names);\n});\n\n\nexports = roles;\n</code></pre>\n\n<p>Note that you probably need to set 'Multivalued' to \"ON\" and the 'Claim JSON Type' to \"Select One..\".</p>\n"},{"tags":[],"owner":{"account_id":3617486,"reputation":21,"user_id":3017005,"display_name":"Arnaud Charpentier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650619374,"creation_date":1600878802,"answer_id":64032426,"question_id":55702315,"body_markdown":"A more generic answer should be\r\n\r\n    var roles = [];\r\n    var client = keycloakSession.getContext().getClient();\r\n    user.getRoleMappings().forEach(function(roleModel) {\r\n        \r\n        var attr = {};\r\n        var names = {};\r\n        var rn = roleModel.getName();\r\n        var map = roleModel.getAttributes();\r\n        map.forEach(function(key, value){\r\n            attr[key] = value;\r\n        }); \r\n        roles[rn] = attr;\r\n    });\r\n    \r\n    exports = roles;\r\n\r\nto export roles&#39; attributes like\r\n\r\n    &quot;Role1&quot;: {\r\n          &quot;key1&quot;: [\r\n            &quot;Values1&quot;\r\n          ],\r\n          &quot;key2&quot;: [\r\n            &quot;values2&quot;\r\n          ]\r\n        }","title":"Accessing keycloak roles / users attributes from Java API","body":"<p>A more generic answer should be</p>\n<pre><code>var roles = [];\nvar client = keycloakSession.getContext().getClient();\nuser.getRoleMappings().forEach(function(roleModel) {\n    \n    var attr = {};\n    var names = {};\n    var rn = roleModel.getName();\n    var map = roleModel.getAttributes();\n    map.forEach(function(key, value){\n        attr[key] = value;\n    }); \n    roles[rn] = attr;\n});\n\nexports = roles;\n</code></pre>\n<p>to export roles' attributes like</p>\n<pre><code>&quot;Role1&quot;: {\n      &quot;key1&quot;: [\n        &quot;Values1&quot;\n      ],\n      &quot;key2&quot;: [\n        &quot;values2&quot;\n      ]\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22100829,"reputation":1647,"user_id":16357334,"display_name":"sventorben"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650619509,"creation_date":1626284937,"answer_id":68382914,"question_id":55702315,"body_markdown":"No, you are not missing something. It is just not implemented.\r\nHowever, there is a feature request. You may want to watch and vote up [KEYCLOAK-17418][1].\r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak/issues/10002","title":"Accessing keycloak roles / users attributes from Java API","body":"<p>No, you are not missing something. It is just not implemented.\nHowever, there is a feature request. You may want to watch and vote up <a href=\"https://github.com/keycloak/keycloak/issues/10002\" rel=\"nofollow noreferrer\">KEYCLOAK-17418</a>.</p>\n"}],"owner":{"account_id":190564,"reputation":9340,"user_id":430615,"accept_rate":56,"display_name":"Marc Polizzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8438,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1650619509,"creation_date":1555397947,"question_id":55702315,"body_markdown":"I&#39;ve created a role and and a user in Keycloak and added one attribute in both of them; for example:\r\n\r\n    my_role_attr = &#39;x&#39;\r\n    my_user_attr = &#39;y&#39;\r\n\r\nThen I&#39;m trying to access that info. via the JAVA KeycloakSecurityContext (and the associated AccessToken / IDToken). I can see the name of the roles and the user information but I cannot find those attributes.\r\n\r\nI understand that I&#39;ve to creat a Protocol Mapper &quot;User Attribute&quot; to map the &quot;my_user_attr&quot; into a Token Claim. Then it&#39;s fine I can get the value in the AccessToken / IDToken.\r\n\r\nBut I cannot find a way to get the role attribute. I do not see any &quot;Protocol Mapper&quot; for role attribute. Am I missing something.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Accessing keycloak roles / users attributes from Java API","body":"<p>I've created a role and and a user in Keycloak and added one attribute in both of them; for example:</p>\n\n<pre><code>my_role_attr = 'x'\nmy_user_attr = 'y'\n</code></pre>\n\n<p>Then I'm trying to access that info. via the JAVA KeycloakSecurityContext (and the associated AccessToken / IDToken). I can see the name of the roles and the user information but I cannot find those attributes.</p>\n\n<p>I understand that I've to creat a Protocol Mapper \"User Attribute\" to map the \"my_user_attr\" into a Token Claim. Then it's fine I can get the value in the AccessToken / IDToken.</p>\n\n<p>But I cannot find a way to get the role attribute. I do not see any \"Protocol Mapper\" for role attribute. Am I missing something.</p>\n"},{"tags":["java","performance","java-stream"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1650738293,"post_id":71966273,"comment_id":127194042,"body_markdown":"4. `IntStream.range(0, size)`","body":"4. <code>IntStream.range(0, size)</code>"}],"answers":[{"tags":[],"owner":{"account_id":11935386,"reputation":1273,"user_id":8734046,"display_name":"jwpol"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650619377,"creation_date":1650618854,"answer_id":71966274,"question_id":71966273,"body_markdown":"I made a quick test of generating 1000000 elements. I measured the execution  time 10000 times and took an average:\r\n```java\r\nint tests = 10000;\r\nint size = 1000000;\r\nlong [] limit = new long[tests];\r\nfor(int i = 0; i &lt; tests; i++) {\r\n    long tic = System.nanoTime();\r\n    Stream.iterate(0, v -&gt; v + 1).limit(size).count();\r\n    long toc = System.nanoTime();\r\n    limit[i] = toc - tic;\r\n}\r\n\r\nlong [] timesIterate1 = new long[tests];\r\nfor(int i = 0; i &lt; tests; i++) {\r\n    long tic = System.nanoTime();\r\n    Stream.iterate(0, v -&gt; v &lt; size, v -&gt; v + 1).count();\r\n    long toc = System.nanoTime();\r\n    timesIterate1[i] = toc - tic;\r\n}\r\n\r\nlong [] timesTakeWhile = new long[tests];\r\nfor(int i = 0; i &lt; tests; i++) {\r\n    long tic = System.nanoTime();\r\n    Stream.iterate(0, v -&gt; v + 1).takeWhile(v -&gt; v &lt; size).count();\r\n    long toc = System.nanoTime();\r\n    timesTakeWhile[i] = toc - tic;\r\n}\r\nSystem.out.println(Arrays.stream(limit).average().orElseThrow() / 1000 / 1000);\r\nSystem.out.println(Arrays.stream(timesIterate1).average().orElseThrow() / 1000 / 1000);\r\nSystem.out.println(Arrays.stream(timesTakeWhile).average().orElseThrow() / 1000 / 1000);\r\n```\r\nThe results are:\r\n\r\n| Method | Time |\r\n| -------- | -------------- |\r\n|  Stream.iterate(0, v -&gt; v + 1).limit(size).count()   | 5.98ms            |\r\n|  Stream.iterate(0, v -&gt; v &lt; size, v -&gt; v + 1).count()   | 3.52ms            |\r\n|  Stream.iterate(0, v -&gt; v + 1).takeWhile(v -&gt; v &lt; size).count()   | 8.80ms       |\r\n\r\nSeems to be that ```Stream.iterate(0, v -&gt; v &lt; size, v -&gt; v + 1)``` is the fastest way. \r\n\r\nI used java 17. ","title":"Different ways of limiting the sequential ordered Stream","body":"<p>I made a quick test of generating 1000000 elements. I measured the execution  time 10000 times and took an average:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int tests = 10000;\nint size = 1000000;\nlong [] limit = new long[tests];\nfor(int i = 0; i &lt; tests; i++) {\n    long tic = System.nanoTime();\n    Stream.iterate(0, v -&gt; v + 1).limit(size).count();\n    long toc = System.nanoTime();\n    limit[i] = toc - tic;\n}\n\nlong [] timesIterate1 = new long[tests];\nfor(int i = 0; i &lt; tests; i++) {\n    long tic = System.nanoTime();\n    Stream.iterate(0, v -&gt; v &lt; size, v -&gt; v + 1).count();\n    long toc = System.nanoTime();\n    timesIterate1[i] = toc - tic;\n}\n\nlong [] timesTakeWhile = new long[tests];\nfor(int i = 0; i &lt; tests; i++) {\n    long tic = System.nanoTime();\n    Stream.iterate(0, v -&gt; v + 1).takeWhile(v -&gt; v &lt; size).count();\n    long toc = System.nanoTime();\n    timesTakeWhile[i] = toc - tic;\n}\nSystem.out.println(Arrays.stream(limit).average().orElseThrow() / 1000 / 1000);\nSystem.out.println(Arrays.stream(timesIterate1).average().orElseThrow() / 1000 / 1000);\nSystem.out.println(Arrays.stream(timesTakeWhile).average().orElseThrow() / 1000 / 1000);\n</code></pre>\n<p>The results are:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Method</th>\n<th>Time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Stream.iterate(0, v -&gt; v + 1).limit(size).count()</td>\n<td>5.98ms</td>\n</tr>\n<tr>\n<td>Stream.iterate(0, v -&gt; v &lt; size, v -&gt; v + 1).count()</td>\n<td>3.52ms</td>\n</tr>\n<tr>\n<td>Stream.iterate(0, v -&gt; v + 1).takeWhile(v -&gt; v &lt; size).count()</td>\n<td>8.80ms</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Seems to be that <code>Stream.iterate(0, v -&gt; v &lt; size, v -&gt; v + 1)</code> is the fastest way.</p>\n<p>I used java 17.</p>\n"}],"owner":{"account_id":11935386,"reputation":1273,"user_id":8734046,"display_name":"jwpol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650619377,"creation_date":1650618854,"question_id":71966273,"body_markdown":"Since java 11 there are several ways to limit sequential ordered Stream:\r\n\r\n 1. ```Stream.iterate(0, v -&gt; v + 1).limit(size)```\r\n 2. ```Stream.iterate(0, v -&gt; v &lt; size, v -&gt; v + 1)```\r\n 3. ```Stream.iterate(0, v -&gt; v + 1).takeWhile(v -&gt; v &lt; size)```\r\n 4. ...\r\n\r\nWhat is the best, for example, in terms of performance way to do so?","title":"Different ways of limiting the sequential ordered Stream","body":"<p>Since java 11 there are several ways to limit sequential ordered Stream:</p>\n<ol>\n<li><code>Stream.iterate(0, v -&gt; v + 1).limit(size)</code></li>\n<li><code>Stream.iterate(0, v -&gt; v &lt; size, v -&gt; v + 1)</code></li>\n<li><code>Stream.iterate(0, v -&gt; v + 1).takeWhile(v -&gt; v &lt; size)</code></li>\n<li>...</li>\n</ol>\n<p>What is the best, for example, in terms of performance way to do so?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":165405,"reputation":10947,"user_id":388827,"accept_rate":89,"display_name":"qqilihq"},"score":3,"creation_date":1392719408,"post_id":21850907,"comment_id":33076512,"body_markdown":"The actual value does not matter, what matters is, that you change it, when making incompatible changes to the class. Have look here: http://stackoverflow.com/questions/3284979/java-when-do-i-have-to-change-the-serialversionuid","body":"The actual value does not matter, what matters is, that you change it, when making incompatible changes to the class. Have look here: <a href=\"http://stackoverflow.com/questions/3284979/java-when-do-i-have-to-change-the-serialversionuid\" title=\"java when do i have to change the serialversionuid\">stackoverflow.com/questions/3284979/&hellip;</a>"},{"owner":{"account_id":2202492,"reputation":2083,"user_id":1946548,"accept_rate":57,"display_name":"Rhys"},"score":0,"creation_date":1392719608,"post_id":21850907,"comment_id":33076655,"body_markdown":"It typically doesn&#39;t matter what serialVersionUID is assigned to.","body":"It typically doesn&#39;t matter what serialVersionUID is assigned to."},{"owner":{"account_id":165405,"reputation":10947,"user_id":388827,"accept_rate":89,"display_name":"qqilihq"},"score":1,"creation_date":1392719762,"post_id":21850907,"comment_id":33076768,"body_markdown":"@Rhys This statement is too general for sure.","body":"@Rhys This statement is too general for sure."},{"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"score":0,"creation_date":1392719961,"post_id":21850907,"comment_id":33076928,"body_markdown":"Great question. Any other language use such a feature?","body":"Great question. Any other language use such a feature?"},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":1,"creation_date":1392720404,"post_id":21850907,"comment_id":33077243,"body_markdown":"Note, there&#39;s also a third option. Don&#39;t define `serialVersionUID` and let the JVM define it at runtime.","body":"Note, there&#39;s also a third option. Don&#39;t define <code>serialVersionUID</code> and let the JVM define it at runtime."}],"answers":[{"tags":[],"owner":{"account_id":1227417,"reputation":1220,"user_id":1192716,"accept_rate":73,"display_name":"Marco Bolis"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1392719464,"creation_date":1392719464,"answer_id":21850967,"question_id":21850907,"body_markdown":"You can assign any `long` value to `serialVersionUID`, but you have to change it every time you modify your class.\r\n\r\nThe second looks like a generated `serialVersionUID`, based on the features of the current class version.","title":"What means 1L serialVersionUID? When could I use this default value 1L?","body":"<p>You can assign any <code>long</code> value to <code>serialVersionUID</code>, but you have to change it every time you modify your class.</p>\n\n<p>The second looks like a generated <code>serialVersionUID</code>, based on the features of the current class version.</p>\n"},{"tags":[],"owner":{"account_id":3430881,"reputation":20272,"user_id":2875348,"accept_rate":100,"display_name":"ravibagul91"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1392720504,"creation_date":1392719666,"answer_id":21851045,"question_id":21850907,"body_markdown":"This is explain [here][1]:\r\n\r\n&gt; The serialVersionUID is a universal version identifier for a Serializable class. Deserialization uses this number to ensure that a loaded class corresponds exactly to a serialized object. If no match is found, then an InvalidClassException is thrown.\r\n\r\n\r\n----------\r\nFrom the [javadoc][2]:\r\n\r\n&gt; The serialization runtime associates with each serializable class a version number, called a serialVersionUID, which is used during deserialization to verify that the sender and receiver of a serialized object have loaded classes for that object that are compatible with respect to serialization. If the receiver has loaded a class for the object that has a different serialVersionUID than that of the corresponding sender&#39;s class, then deserialization will result in an InvalidClassException. A serializable class can declare its own serialVersionUID explicitly by declaring a field named &quot;serialVersionUID&quot; that must be static, final, and of type long:\r\n\r\n----------\r\n\r\n\r\n**Useful Links**\r\n\r\n1. [java.io.Serializable][3]\r\n2. [Why should I bother about serialVersionUID? ][4](StackOverflow)\r\n3. [serialVersionUID in Java Serialization][5]\r\n\r\n\r\n  [1]: http://www.javapractices.com/topic/TopicAction.do?Id=45\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html\r\n  [3]: http://docs.oracle.com/javase/1.5.0/docs/api/java/io/Serializable.html\r\n  [4]: https://stackoverflow.com/questions/285793/what-is-a-serialversionuid-and-why-should-i-use-it\r\n  [5]: http://javapapers.com/core-java/serialversionuid-in-java-serialization/","title":"What means 1L serialVersionUID? When could I use this default value 1L?","body":"<p>This is explain <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=45\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>The serialVersionUID is a universal version identifier for a Serializable class. Deserialization uses this number to ensure that a loaded class corresponds exactly to a serialized object. If no match is found, then an InvalidClassException is thrown.</p>\n</blockquote>\n\n<hr>\n\n<p>From the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html\" rel=\"nofollow noreferrer\">javadoc</a>:</p>\n\n<blockquote>\n  <p>The serialization runtime associates with each serializable class a version number, called a serialVersionUID, which is used during deserialization to verify that the sender and receiver of a serialized object have loaded classes for that object that are compatible with respect to serialization. If the receiver has loaded a class for the object that has a different serialVersionUID than that of the corresponding sender's class, then deserialization will result in an InvalidClassException. A serializable class can declare its own serialVersionUID explicitly by declaring a field named \"serialVersionUID\" that must be static, final, and of type long:</p>\n</blockquote>\n\n<hr>\n\n<p><strong>Useful Links</strong></p>\n\n<ol>\n<li><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/io/Serializable.html\" rel=\"nofollow noreferrer\">java.io.Serializable</a></li>\n<li><a href=\"https://stackoverflow.com/questions/285793/what-is-a-serialversionuid-and-why-should-i-use-it\">Why should I bother about serialVersionUID? </a>(StackOverflow)</li>\n<li><a href=\"http://javapapers.com/core-java/serialversionuid-in-java-serialization/\" rel=\"nofollow noreferrer\">serialVersionUID in Java Serialization</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1392719700,"creation_date":1392719700,"answer_id":21851056,"question_id":21850907,"body_markdown":"The JVM will throw a `InvalidClassException` if the `serialVersionUID` of a serialized object does not match the `serialVersionUID` of the class it is being deserialized as.\r\n\r\nThe `serialVersionUID` of a class should change every time the class changes in an incompatible way. Normally this means every time you change the `shape` of a class (ie fields or methods change).\r\n\r\nThere are some cases where you don&#39;t want the `serialVersionUID` to change. For instance you might accept old versions of the object into your application. In this case, you can leave the `serialVersionUID ` the same and new fields will come through as null.","title":"What means 1L serialVersionUID? When could I use this default value 1L?","body":"<p>The JVM will throw a <code>InvalidClassException</code> if the <code>serialVersionUID</code> of a serialized object does not match the <code>serialVersionUID</code> of the class it is being deserialized as.</p>\n\n<p>The <code>serialVersionUID</code> of a class should change every time the class changes in an incompatible way. Normally this means every time you change the <code>shape</code> of a class (ie fields or methods change).</p>\n\n<p>There are some cases where you don't want the <code>serialVersionUID</code> to change. For instance you might accept old versions of the object into your application. In this case, you can leave the <code>serialVersionUID</code> the same and new fields will come through as null.</p>\n"},{"tags":[],"owner":{"account_id":991127,"reputation":2249,"user_id":1008411,"accept_rate":67,"display_name":"sakura"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392729513,"creation_date":1392719772,"answer_id":21851088,"question_id":21850907,"body_markdown":"The value is used while serializing an object and de-serializing the object back into JVM.\r\n\r\nFurther, If your class changes and you don&#39;t want to support backward compatibility (i.e. able to de-serialize the object back which was serialized using your last version of class) you can change the version number to any other value.\r\n\r\nHowever, to support the backward compatibility you need to keep the same version number as previously set value of serialVersionUID.\r\n\r\nThe best practice is to change the serialVersionUID, every time you have some incompatible changes to the class.","title":"What means 1L serialVersionUID? When could I use this default value 1L?","body":"<p>The value is used while serializing an object and de-serializing the object back into JVM.</p>\n\n<p>Further, If your class changes and you don't want to support backward compatibility (i.e. able to de-serialize the object back which was serialized using your last version of class) you can change the version number to any other value.</p>\n\n<p>However, to support the backward compatibility you need to keep the same version number as previously set value of serialVersionUID.</p>\n\n<p>The best practice is to change the serialVersionUID, every time you have some incompatible changes to the class.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1392719791,"creation_date":1392719791,"answer_id":21851098,"question_id":21850907,"body_markdown":"&gt; What is the meaning? Is that useful?\r\n\r\nYes. The point of serialVersionUID is to give the programmer control over which versions of a class are considered incompatible in regard to serialization. As long as the serialVersionUID stays the same, the serialization mechanism will make a best effort to translate serialized instances, which may not be what you want. If you make a semantic change that renders older versions incompatible, you can change the serialVersionUID to make deserializing older instances fail.\r\n\r\n&gt; If all classes have the same serialVersionUID 1L, is there no problem?\r\n\r\nNo - the serialVersionUID is *per class*.","title":"What means 1L serialVersionUID? When could I use this default value 1L?","body":"<blockquote>\n  <p>What is the meaning? Is that useful?</p>\n</blockquote>\n\n<p>Yes. The point of serialVersionUID is to give the programmer control over which versions of a class are considered incompatible in regard to serialization. As long as the serialVersionUID stays the same, the serialization mechanism will make a best effort to translate serialized instances, which may not be what you want. If you make a semantic change that renders older versions incompatible, you can change the serialVersionUID to make deserializing older instances fail.</p>\n\n<blockquote>\n  <p>If all classes have the same serialVersionUID 1L, is there no problem?</p>\n</blockquote>\n\n<p>No - the serialVersionUID is <em>per class</em>.</p>\n"},{"tags":[],"owner":{"account_id":1321290,"reputation":9419,"user_id":1267068,"accept_rate":57,"display_name":"NickJ"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1392719887,"creation_date":1392719887,"answer_id":21851149,"question_id":21850907,"body_markdown":"Imagine you write a class with a `serialVersionUID`, instantiate it, then serialize it to a file (with ObjectOutputStream)\r\n\r\nThen you modify the class.\r\n\r\nThen, with the modified class, you deserialize (read in) the version you serialized before modification. Java will check the `serialVersionUID` of the current class and the serialized class, and if they don&#39;t match,  the deserialization will fail. This is a deliberate fail-fast to prevent much more subtle (and harder to debug) errors occurring later on due to class version incompatibilities.\r\n\r\nIf you omit `serialVersionUID` then you disable the version checking.\r\nIf you **always** set if to 1L, then the check will always pass (the value is always the same) so you are still vulnerable to subtle class version incompatibility problems.\r\n ","title":"What means 1L serialVersionUID? When could I use this default value 1L?","body":"<p>Imagine you write a class with a <code>serialVersionUID</code>, instantiate it, then serialize it to a file (with ObjectOutputStream)</p>\n\n<p>Then you modify the class.</p>\n\n<p>Then, with the modified class, you deserialize (read in) the version you serialized before modification. Java will check the <code>serialVersionUID</code> of the current class and the serialized class, and if they don't match,  the deserialization will fail. This is a deliberate fail-fast to prevent much more subtle (and harder to debug) errors occurring later on due to class version incompatibilities.</p>\n\n<p>If you omit <code>serialVersionUID</code> then you disable the version checking.\nIf you <strong>always</strong> set if to 1L, then the check will always pass (the value is always the same) so you are still vulnerable to subtle class version incompatibility problems.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1650619190,"creation_date":1392720206,"answer_id":21851309,"question_id":21850907,"body_markdown":"Yes, I&#39;ve seen code that defined `serialVersionUID` like that too.  I think it is a bad idea.\r\n\r\nIn this context there is only one &quot;distinguished&quot; value for the `serialVersionUID` field; i.e. zero ... `0L`.  Zero means &quot;compute the version id *at runtime* by applying the standard algorithm&quot; based on the actual class that you are serializing / deserializing.  That means that whenever your code&#39;s effective serialization signature changes, the serialization / deserialization code will use a different version id.  From a (big picture) type safety perspective, this is the safest thing to do, though it is also somewhat inefficient, and protentially more fragile.\r\n\r\n&gt; What is the meaning? \r\n\r\nThe `1L` has no special meaning.  It is just a number that will match `1L` as the &quot;other&quot; version id. \r\n\r\nTo my mind, you are better off either using `0L`, or a version number that was (at some point) generated using the standard algorithm.\r\n\r\n  - If you use `0L`, then you get definite deserialization exceptions if classes change in ways that could be source of problems.  If you *need* this, it is a good thing.\r\n\r\n  - On the other hand you use a generated version id, you (the programmer) can make your own decision about when to regenerate the id.  And when you do decide to regenerate, the id will only change if the class signature *has* changed.  (If classes representation etc hasn&#39;t changed, the regenerated signature should be identical to the original one!)  And when the id *does* change, you can think about whether to add custom methods (&#39;readObject&#39;, etc) to deal with the incompatibility.\r\n\r\n  - However, if you use `1L`, you can&#39;t tell if the version id *needs to* change without checking your code history, and comparing the old / new versions of the classes ... back as far as you need to.\r\n\r\n&gt; Is that useful?\r\n\r\nIt depends on what you consider &quot;useful&quot; to mean.  If you think it is a good thing to hard wire the version id to &quot;trust me, it is ok&quot;, then `1L` is useful.\r\n\r\n------------------\r\n\r\nMy recollection is that some versions of Eclipse offer `1L` as one of the possible auto-corrections for a missing `serialVersionUID` field warning.  That is probably where the examples you see have come from.","title":"What means 1L serialVersionUID? When could I use this default value 1L?","body":"<p>Yes, I've seen code that defined <code>serialVersionUID</code> like that too.  I think it is a bad idea.</p>\n<p>In this context there is only one &quot;distinguished&quot; value for the <code>serialVersionUID</code> field; i.e. zero ... <code>0L</code>.  Zero means &quot;compute the version id <em>at runtime</em> by applying the standard algorithm&quot; based on the actual class that you are serializing / deserializing.  That means that whenever your code's effective serialization signature changes, the serialization / deserialization code will use a different version id.  From a (big picture) type safety perspective, this is the safest thing to do, though it is also somewhat inefficient, and protentially more fragile.</p>\n<blockquote>\n<p>What is the meaning?</p>\n</blockquote>\n<p>The <code>1L</code> has no special meaning.  It is just a number that will match <code>1L</code> as the &quot;other&quot; version id.</p>\n<p>To my mind, you are better off either using <code>0L</code>, or a version number that was (at some point) generated using the standard algorithm.</p>\n<ul>\n<li><p>If you use <code>0L</code>, then you get definite deserialization exceptions if classes change in ways that could be source of problems.  If you <em>need</em> this, it is a good thing.</p>\n</li>\n<li><p>On the other hand you use a generated version id, you (the programmer) can make your own decision about when to regenerate the id.  And when you do decide to regenerate, the id will only change if the class signature <em>has</em> changed.  (If classes representation etc hasn't changed, the regenerated signature should be identical to the original one!)  And when the id <em>does</em> change, you can think about whether to add custom methods ('readObject', etc) to deal with the incompatibility.</p>\n</li>\n<li><p>However, if you use <code>1L</code>, you can't tell if the version id <em>needs to</em> change without checking your code history, and comparing the old / new versions of the classes ... back as far as you need to.</p>\n</li>\n</ul>\n<blockquote>\n<p>Is that useful?</p>\n</blockquote>\n<p>It depends on what you consider &quot;useful&quot; to mean.  If you think it is a good thing to hard wire the version id to &quot;trust me, it is ok&quot;, then <code>1L</code> is useful.</p>\n<hr />\n<p>My recollection is that some versions of Eclipse offer <code>1L</code> as one of the possible auto-corrections for a missing <code>serialVersionUID</code> field warning.  That is probably where the examples you see have come from.</p>\n"},{"tags":[],"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1422144594,"creation_date":1422143859,"answer_id":28131675,"question_id":21850907,"body_markdown":"It&#39;s important to make clear the fact that having a class implement the `Serializable` interface makes **ALL** fields not declared `transient` part of the **exported API** of the class, whether or not those fields are declared `private`.\r\n\r\nIn other words, implementing Serializable:\r\n\r\n - breaks encapsulation.  If the class has any chance to become a successful, long-lived class then you must support the serialized form ... forever.  \r\n\r\n -  can seriously impair your ability to evolve that class, precisely because it is a part of its exported API.  The alternative is to break backward compatibility. \r\n\r\n - can create security problems for your class and its application.  Deserialization represents a way for making Java objects without a constructor, so it&#39;s possible to violate a class&#39;s invariants by providing rogue byte streams to the deserialization facility. \r\n\r\nThe `serialVerionUID` should be thought of as a property of the *serialized form*.  It is meant to convey to one JVM whether or not there a difference between the serialized form of a class instance that it is receiving and the serialized form of of that same class rendered (maybe) somewhere else.\r\n\r\nYou can see the potential problems that may occur if the serialized forms are different but the UIDs are the same.  The receiving JVM will assume that the received serial form version between an old class and the new one are the same when they aren&#39;t and will dutifully go ahead and attempt to deserialize the byte stream.\r\n\r\nTLDR:  You shouldn&#39;t change the UID when you feel like it.  You should change it when the **serialized form** of the class changes so that versions of software that use older versions of your class (with the different serialized form) will break instead of (possibly silently) doing the wrong thing.  Not designing a good serialized form your classes will make it harder (even much harder) to provide backward compatibility for its clients.  In the ideal case, the serialized form for a class persists throughout its entire evolution (and so its UID need never change).","title":"What means 1L serialVersionUID? When could I use this default value 1L?","body":"<p>It's important to make clear the fact that having a class implement the <code>Serializable</code> interface makes <strong>ALL</strong> fields not declared <code>transient</code> part of the <strong>exported API</strong> of the class, whether or not those fields are declared <code>private</code>.</p>\n\n<p>In other words, implementing Serializable:</p>\n\n<ul>\n<li><p>breaks encapsulation.  If the class has any chance to become a successful, long-lived class then you must support the serialized form ... forever.  </p></li>\n<li><p>can seriously impair your ability to evolve that class, precisely because it is a part of its exported API.  The alternative is to break backward compatibility. </p></li>\n<li><p>can create security problems for your class and its application.  Deserialization represents a way for making Java objects without a constructor, so it's possible to violate a class's invariants by providing rogue byte streams to the deserialization facility. </p></li>\n</ul>\n\n<p>The <code>serialVerionUID</code> should be thought of as a property of the <em>serialized form</em>.  It is meant to convey to one JVM whether or not there a difference between the serialized form of a class instance that it is receiving and the serialized form of of that same class rendered (maybe) somewhere else.</p>\n\n<p>You can see the potential problems that may occur if the serialized forms are different but the UIDs are the same.  The receiving JVM will assume that the received serial form version between an old class and the new one are the same when they aren't and will dutifully go ahead and attempt to deserialize the byte stream.</p>\n\n<p>TLDR:  You shouldn't change the UID when you feel like it.  You should change it when the <strong>serialized form</strong> of the class changes so that versions of software that use older versions of your class (with the different serialized form) will break instead of (possibly silently) doing the wrong thing.  Not designing a good serialized form your classes will make it harder (even much harder) to provide backward compatibility for its clients.  In the ideal case, the serialized form for a class persists throughout its entire evolution (and so its UID need never change).</p>\n"}],"owner":{"account_id":1894945,"reputation":752,"user_id":1712128,"accept_rate":41,"display_name":"Ying Style"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46726,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"answer_count":8,"score":24,"last_activity_date":1650619190,"creation_date":1392719346,"question_id":21850907,"body_markdown":"There are 3 ways to define the serialVersionUID :\r\n\r\n    1. private static final long serialVersionUID = 1L; (Default)\r\n    2. private static final long serialVersionUID = -8940196742313994740L; (Generated)\r\n    3. Don&#39;t define serialVersionUID and let the JVM define it at runtime. @Lance Java\r\n\r\nBut I don&#39;t understand the first way!\r\n\r\nI have seen it already, that somebody defines &quot;serialVersionUID=1L&quot; for all java-classes in source code.\r\n\r\nWhat is the meaning? Is that useful?\r\n\r\nIf all classes have the same serialVersionUID 1L, is there no problem?","title":"What means 1L serialVersionUID? When could I use this default value 1L?","body":"<p>There are 3 ways to define the serialVersionUID :</p>\n\n<pre><code>1. private static final long serialVersionUID = 1L; (Default)\n2. private static final long serialVersionUID = -8940196742313994740L; (Generated)\n3. Don't define serialVersionUID and let the JVM define it at runtime. @Lance Java\n</code></pre>\n\n<p>But I don't understand the first way!</p>\n\n<p>I have seen it already, that somebody defines \"serialVersionUID=1L\" for all java-classes in source code.</p>\n\n<p>What is the meaning? Is that useful?</p>\n\n<p>If all classes have the same serialVersionUID 1L, is there no problem?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1650615372,"post_id":71965485,"comment_id":127165362,"body_markdown":"Simply add `if (denominator == 0) { return null; }` at the beginning.","body":"Simply add <code>if (denominator == 0) { return null; }</code> at the beginning."},{"owner":{"account_id":24377524,"reputation":57,"user_id":18309642,"display_name":"Lukas E"},"score":0,"creation_date":1650615509,"post_id":71965485,"comment_id":127165411,"body_markdown":"it wont compile that&#39;s what i tried .. how can that be?","body":"it wont compile that&#39;s what i tried .. how can that be?"},{"owner":{"account_id":24377524,"reputation":57,"user_id":18309642,"display_name":"Lukas E"},"score":0,"creation_date":1650615967,"post_id":71965485,"comment_id":127165565,"body_markdown":"@JoachimSauer Ah u said in the top. It wouldn&#39;t work inside the try catch. I deleted try catch and just told if (denominator ==0){ return null;} else execute the rest. it works :)","body":"@JoachimSauer Ah u said in the top. It wouldn&#39;t work inside the try catch. I deleted try catch and just told if (denominator ==0){ return null;} else execute the rest. it works :)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1650618576,"post_id":71965485,"comment_id":127166492,"body_markdown":"Don&#39;t &quot;fix&quot; the code in your question.  It makes the answers look a bit silly.   They look like they are suggesting a fix that is unnecessary because the code already contains the fix.","body":"Don&#39;t &quot;fix&quot; the code in your question.  It makes the answers look a bit silly.   They look like they are suggesting a fix that is unnecessary because the code already contains the fix."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1650618733,"post_id":71965485,"comment_id":127166555,"body_markdown":"If you need to ask a followup question that depends on the fix ... ask it as a new question.","body":"If you need to ask a followup question that depends on the fix ... ask it as a new question."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1650619022,"post_id":71965485,"comment_id":127166654,"body_markdown":"Remember ... the **real** purpose of Stack Overflow is to build a library of Question and Answers that will be helpful to future readers.  For that to work, the questions need to be clear and focused, and the answers need to relate to the question ... as it appears to the future reader.  Your getting help on your homework is incidental.","body":"Remember ... the <b>real</b> purpose of Stack Overflow is to build a library of Question and Answers that will be helpful to future readers.  For that to work, the questions need to be clear and focused, and the answers need to relate to the question ... as it appears to the future reader.  Your getting help on your homework is incidental."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1650619398,"post_id":71965485,"comment_id":127166806,"body_markdown":"also consider throwing a checked Exception instead of returning null - you get a compiler error if not handling checked Exceptions; not checking for `null` will (eventually) give a runtime Exception","body":"also consider throwing a checked Exception instead of returning null - you get a compiler error if not handling checked Exceptions; not checking for <code>null</code> will (eventually) give a runtime Exception"},{"owner":{"account_id":24377524,"reputation":57,"user_id":18309642,"display_name":"Lukas E"},"score":0,"creation_date":1650620129,"post_id":71965485,"comment_id":127167068,"body_markdown":"@StephenC Thank you for commenting. I will remember that for another time. I got my answers which leads me in the correct direction :)","body":"@StephenC Thank you for commenting. I will remember that for another time. I got my answers which leads me in the correct direction :)"}],"answers":[{"tags":[],"owner":{"account_id":23904234,"reputation":1928,"user_id":17902018,"display_name":"rikyeah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650616235,"creation_date":1650616235,"answer_id":71965679,"question_id":71965485,"body_markdown":"As mentioned in the comments, you can just return early once you checked the denominator is 0.\r\n\r\n    \r\n    public static int[] fraction(int nominator, int denominator){\r\n    \r\n        if (denominator == 0){\r\n            return null\r\n        }\r\n        int quota = nominator / denominator; \r\n        int numerator = nominator % denominator;      \r\n        \r\n        int [] integerArray = {quota, numerator,denominator};\r\n        \r\n        return integerArray;    \r\n    } \r\n   ","title":"How can I return null of denominator is 0 in this method Java","body":"<p>As mentioned in the comments, you can just return early once you checked the denominator is 0.</p>\n<pre><code>public static int[] fraction(int nominator, int denominator){\n\n    if (denominator == 0){\n        return null\n    }\n    int quota = nominator / denominator; \n    int numerator = nominator % denominator;      \n    \n    int [] integerArray = {quota, numerator,denominator};\n    \n    return integerArray;    \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":18857764,"reputation":11,"user_id":13755303,"display_name":"HypedBuddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650616739,"creation_date":1650616739,"answer_id":71965803,"question_id":71965485,"body_markdown":"you can proceed in 2 different ways:\r\n  1) you can control if denominator is 0 before the try and return null instantly (as said in the comments)\r\n  2) you used try catch so you can return null into the catch block without further controls because you catch an exception\r\n\r\nthere should not be any compilation errors so if you get one try to read the console and find what&#39;s the problem.","title":"How can I return null of denominator is 0 in this method Java","body":"<p>you can proceed in 2 different ways:</p>\n<ol>\n<li>you can control if denominator is 0 before the try and return null instantly (as said in the comments)</li>\n<li>you used try catch so you can return null into the catch block without further controls because you catch an exception</li>\n</ol>\n<p>there should not be any compilation errors so if you get one try to read the console and find what's the problem.</p>\n"}],"owner":{"account_id":24377524,"reputation":57,"user_id":18309642,"display_name":"Lukas E"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71965679,"answer_count":2,"score":0,"last_activity_date":1650618590,"creation_date":1650615201,"question_id":71965485,"body_markdown":"I am struggling with creation of a to calculate fractions and return in an array[3]. So if nominator is 7 and denominator is 3 it should return {2,1,3}, a fraction part and a integer part. If denominator is 0, the integer division should not be executed and I have to return null (not print it). That is what I am struggling with. My code is below:\r\n```\r\npublic class Main{\r\n\r\npublic static int[] fraction(int nominator, int denominator){\r\n\r\n    int quota=0; \r\n    int numerator=0;\r\n      \r\n    try{\r\n\r\n         quota = nominator / denominator; \r\n         numerator = nominator % denominator;         \r\n\r\n       }\r\n      \r\n       catch(java.lang.ArithmeticException e)\r\n    {\r\n\r\n       if(denominator==0)\r\n       {  \r\n         quota =0;\r\n         numerator=0;  \r\n\r\n           \r\n         \r\n       }\r\n     \r\n    }\r\n    \r\n    int [] integerArray ={quota, numerator,denominator};\r\n    \r\n    return integerArray; \r\n    \r\n  } \r\n\r\n}\r\n```","title":"How can I return null of denominator is 0 in this method Java","body":"<p>I am struggling with creation of a to calculate fractions and return in an array[3]. So if nominator is 7 and denominator is 3 it should return {2,1,3}, a fraction part and a integer part. If denominator is 0, the integer division should not be executed and I have to return null (not print it). That is what I am struggling with. My code is below:</p>\n<pre><code>public class Main{\n\npublic static int[] fraction(int nominator, int denominator){\n\n    int quota=0; \n    int numerator=0;\n      \n    try{\n\n         quota = nominator / denominator; \n         numerator = nominator % denominator;         \n\n       }\n      \n       catch(java.lang.ArithmeticException e)\n    {\n\n       if(denominator==0)\n       {  \n         quota =0;\n         numerator=0;  \n\n           \n         \n       }\n     \n    }\n    \n    int [] integerArray ={quota, numerator,denominator};\n    \n    return integerArray; \n    \n  } \n\n}\n</code></pre>\n"},{"tags":["java","arrays","constructor"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1650611738,"post_id":71964726,"comment_id":127164140,"body_markdown":"That depends on what **exactly** you are trying to do… What is your desired output and what is the actual one? I guess they are different, aren&#39;t they?","body":"That depends on what <b>exactly</b> you are trying to do… What is your desired output and what is the actual one? I guess they are different, aren&#39;t they?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1650612196,"post_id":71964726,"comment_id":127164287,"body_markdown":"https://stackoverflow.com/q/409784/16034206 please refer to this link for more details on why your code doesnt have the behaviour you expect :) Arrays.toString()","body":"<a href=\"https://stackoverflow.com/q/409784/16034206\">stackoverflow.com/q/409784/16034206</a> please refer to this link for more details on why your code doesnt have the behaviour you expect :) Arrays.toString()"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1650680620,"post_id":71964726,"comment_id":127183742,"body_markdown":"By the way, using `List` rather than array is much simpler. `List&lt; String &gt; inputs = List.of( &quot;peach&quot; , &quot;apple&quot; , &quot;mango&quot; ) ;` and `for( String input : inputs ) { System.out.println( input ) ;  }`.","body":"By the way, using <code>List</code> rather than array is much simpler. <code>List&lt; String &gt; inputs = List.of( &quot;peach&quot; , &quot;apple&quot; , &quot;mango&quot; ) ;</code> and <code>for( String input : inputs ) { System.out.println( input ) ;  }</code>."}],"answers":[{"tags":[],"owner":{"account_id":18213949,"reputation":227,"user_id":13255918,"display_name":"DereckChamboko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650611805,"creation_date":1650611805,"answer_id":71964812,"question_id":71964726,"body_markdown":"    public class ClassArrayTest {\r\n    \r\n        public static void main(String... args) {\r\n           fruit f = new fruit(new String []{&quot;peach&quot;,&quot;apple&quot;,&quot;mango&quot;}); // use new Sring[]{&quot;&quot;...} when passing an array\r\n            f.display();\r\n        }\r\n    \r\n    }\r\n    \r\n    class fruit\r\n    {\r\n        String[] a;\r\n        \r\n        public fruit(String[] aa)\r\n        {\r\n            a = aa;\r\n        }\r\n        \r\n        void display()\r\n        {\r\n            for(String stringElements : a){\r\n            System.out.println(stringElements );\r\n            }// i also find it easy to iterate through than print an object\r\n            \r\n        }\r\n    }","title":"How do I pass an array of strings as a parameter to a class object?","body":"<pre><code>public class ClassArrayTest {\n\n    public static void main(String... args) {\n       fruit f = new fruit(new String []{&quot;peach&quot;,&quot;apple&quot;,&quot;mango&quot;}); // use new Sring[]{&quot;&quot;...} when passing an array\n        f.display();\n    }\n\n}\n\nclass fruit\n{\n    String[] a;\n    \n    public fruit(String[] aa)\n    {\n        a = aa;\n    }\n    \n    void display()\n    {\n        for(String stringElements : a){\n        System.out.println(stringElements );\n        }// i also find it easy to iterate through than print an object\n        \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12558993,"reputation":44,"user_id":9137528,"display_name":"Mohammed El Amine Mahmoudi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650612016,"creation_date":1650612016,"answer_id":71964847,"question_id":71964726,"body_markdown":"    import java.util.Arrays;\r\n    \r\n    public class ClassArrayTest {\r\n        \r\n    public static void main(String[] args) {\r\n                fruit f = new fruit(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot; });\r\n                f.display();\r\n            }\r\n        }\r\n    \r\n    class fruit {\r\n    \r\n        String[] a;\r\n    \r\n        public fruit(String[] aa) {\r\n            a = aa;\r\n        }\r\n    \r\n        void display() {\r\n            Arrays.stream(a).forEach(System.out::println);\r\n        }\r\n    }","title":"How do I pass an array of strings as a parameter to a class object?","body":"<pre><code>import java.util.Arrays;\n\npublic class ClassArrayTest {\n    \npublic static void main(String[] args) {\n            fruit f = new fruit(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot; });\n            f.display();\n        }\n    }\n\nclass fruit {\n\n    String[] a;\n\n    public fruit(String[] aa) {\n        a = aa;\n    }\n\n    void display() {\n        Arrays.stream(a).forEach(System.out::println);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23670808,"reputation":21,"user_id":17738826,"display_name":"Rong Luo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650612175,"creation_date":1650612175,"answer_id":71964883,"question_id":71964726,"body_markdown":"Is this what you want?\r\n\r\n```java\r\npublic class ClassArrayTest\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        String[] aa = {&quot;peach&quot;,&quot;apple&quot;,&quot;mango&quot;};\r\n        fruit f = new fruit(aa);\r\n        f.display();\r\n\r\n    }\r\n}\r\n\r\n\r\nclass fruit\r\n{\r\n    String[] a;\r\n    \r\n    public fruit(String[] aa)\r\n    {\r\n        a = aa;\r\n    }\r\n    \r\n    void display()\r\n    {\r\n        // System.out.println(a);\r\n        for (String f: a) {\r\n            System.out.println(f);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd I suggest that use `Fruit` rather than `fruit` to name a class in Java.","title":"How do I pass an array of strings as a parameter to a class object?","body":"<p>Is this what you want?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ClassArrayTest\n{\n    public static void main(String[] args)\n    {\n        String[] aa = {&quot;peach&quot;,&quot;apple&quot;,&quot;mango&quot;};\n        fruit f = new fruit(aa);\n        f.display();\n\n    }\n}\n\n\nclass fruit\n{\n    String[] a;\n    \n    public fruit(String[] aa)\n    {\n        a = aa;\n    }\n    \n    void display()\n    {\n        // System.out.println(a);\n        for (String f: a) {\n            System.out.println(f);\n        }\n    }\n}\n</code></pre>\n<p>And I suggest that use <code>Fruit</code> rather than <code>fruit</code> to name a class in Java.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650618301,"creation_date":1650617608,"answer_id":71965996,"question_id":71964726,"body_markdown":"OK ... so I think your problem is understanding the *syntax* of creating initialized arrays in Java.  The `{&quot;peach&quot;,&quot;apple&quot;,&quot;mango&quot;}` syntax can only be used in two contexts:\r\n\r\n    String[] fruit = {&quot;peach&quot;, &quot;apple&quot;, &quot;mango&quot;};\r\n\r\nor\r\n\r\n    new String[]{&quot;peach&quot;, &quot;apple&quot;, &quot;mango&quot;};\r\n\r\nYou were trying to use it like this:\r\n\r\n    someMethod({&quot;peach&quot;, &quot;apple&quot;, &quot;mango&quot;});\r\n\r\nbut that is not permitted.  The `{ ... }` syntax cannot be used there.  But you could write this:\r\n\r\n    someMethod(new String[]{&quot;peach&quot;, &quot;apple&quot;, &quot;mango&quot;});\r\n\r\n","title":"How do I pass an array of strings as a parameter to a class object?","body":"<p>OK ... so I think your problem is understanding the <em>syntax</em> of creating initialized arrays in Java.  The <code>{&quot;peach&quot;,&quot;apple&quot;,&quot;mango&quot;}</code> syntax can only be used in two contexts:</p>\n<pre><code>String[] fruit = {&quot;peach&quot;, &quot;apple&quot;, &quot;mango&quot;};\n</code></pre>\n<p>or</p>\n<pre><code>new String[]{&quot;peach&quot;, &quot;apple&quot;, &quot;mango&quot;};\n</code></pre>\n<p>You were trying to use it like this:</p>\n<pre><code>someMethod({&quot;peach&quot;, &quot;apple&quot;, &quot;mango&quot;});\n</code></pre>\n<p>but that is not permitted.  The <code>{ ... }</code> syntax cannot be used there.  But you could write this:</p>\n<pre><code>someMethod(new String[]{&quot;peach&quot;, &quot;apple&quot;, &quot;mango&quot;});\n</code></pre>\n"}],"owner":{"account_id":24272200,"reputation":1,"user_id":18220043,"display_name":"Flying Nimbus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1650618301,"creation_date":1650611304,"question_id":71964726,"body_markdown":"Instead of a single parameter, I tried passing arrays as parameter and this happens. Where am I going wrong? I am a beginner, Btw!\r\n\r\n\r\n```\r\npublic class ClassArrayTest\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tfruit f = new fruit({&quot;peach&quot;,&quot;apple&quot;,&quot;mango&quot;});\r\n\t\tf.display();\r\n\r\n\t}\r\n}\r\n\r\n\r\n\r\nclass fruit\r\n{\r\n\tString[] a;\r\n\t\r\n\tpublic fruit(String[] aa)\r\n\t{\r\n\t\ta = aa;\r\n\t}\r\n\t\r\n\tvoid display()\r\n\t{\r\n\t\tSystem.out.println(a);\r\n\t}\r\n}\r\n```","title":"How do I pass an array of strings as a parameter to a class object?","body":"<p>Instead of a single parameter, I tried passing arrays as parameter and this happens. Where am I going wrong? I am a beginner, Btw!</p>\n<pre><code>public class ClassArrayTest\n{\n    public static void main(String[] args)\n    {\n        fruit f = new fruit({&quot;peach&quot;,&quot;apple&quot;,&quot;mango&quot;});\n        f.display();\n\n    }\n}\n\n\n\nclass fruit\n{\n    String[] a;\n    \n    public fruit(String[] aa)\n    {\n        a = aa;\n    }\n    \n    void display()\n    {\n        System.out.println(a);\n    }\n}\n</code></pre>\n"},{"tags":["java","windows","dev-null"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1650618036,"post_id":71966064,"comment_id":127166277,"body_markdown":"Just for reference: https://stackoverflow.com/questions/313111/is-there-a-dev-null-on-windows","body":"Just for reference: <a href=\"https://stackoverflow.com/questions/313111/is-there-a-dev-null-on-windows\" title=\"is there a dev null on windows\">stackoverflow.com/questions/313111/&hellip;</a>"},{"owner":{"account_id":312603,"reputation":1450,"user_id":626761,"accept_rate":83,"display_name":"nodots"},"score":0,"creation_date":1651231956,"post_id":71966064,"comment_id":127320676,"body_markdown":"Relevant entry in Oracle Bug Database: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8285445","body":"Relevant entry in Oracle Bug Database: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8285445\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8285445</a>"},{"owner":{"account_id":312603,"reputation":1450,"user_id":626761,"accept_rate":83,"display_name":"nodots"},"score":3,"creation_date":1651734057,"post_id":71966064,"comment_id":127434309,"body_markdown":"Fixed in Oracle Java **8u333**","body":"Fixed in Oracle Java <b>8u333</b>"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":2,"creation_date":1652945836,"post_id":71966064,"comment_id":127731824,"body_markdown":"And for completeness, it&#39;s also fixed in the library; `NUL:` has been replaced by `NUL` in [xnio-api 3.8.7.Final](https://mvnrepository.com/artifact/org.jboss.xnio/xnio-api/3.8.7.Final) via ticket [XNIO-404](https://github.com/xnio/xnio/commit/4e2db8d397e5798a8ca27315dad3e12e9927e45b)","body":"And for completeness, it&#39;s also fixed in the library; <code>NUL:</code> has been replaced by <code>NUL</code> in <a href=\"https://mvnrepository.com/artifact/org.jboss.xnio/xnio-api/3.8.7.Final\" rel=\"nofollow noreferrer\">xnio-api 3.8.7.Final</a> via ticket <a href=\"https://github.com/xnio/xnio/commit/4e2db8d397e5798a8ca27315dad3e12e9927e45b\" rel=\"nofollow noreferrer\">XNIO-404</a>"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1650618208,"creation_date":1650618208,"answer_id":71966125,"question_id":71966064,"body_markdown":"I suspect [this is the offending change](https://github.com/openjdk/jdk8u/commit/d72d28967d732ba32e02178b828255378c5a8938).\r\n\r\nApparently it tries to avoid accessing ADS (alternate data streams), but seems to &quot;accidentally&quot; also prevent access to device-files like this.\r\n\r\nIf that&#39;s correct, then you can try setting the system property `jdk.io.File.enableADS` to `true` to re-enable the old behaviour.","title":"Java: FileOutputStream(&quot;NUL:&quot;) not working after Java upgrade","body":"<p>I suspect <a href=\"https://github.com/openjdk/jdk8u/commit/d72d28967d732ba32e02178b828255378c5a8938\" rel=\"noreferrer\">this is the offending change</a>.</p>\n<p>Apparently it tries to avoid accessing ADS (alternate data streams), but seems to &quot;accidentally&quot; also prevent access to device-files like this.</p>\n<p>If that's correct, then you can try setting the system property <code>jdk.io.File.enableADS</code> to <code>true</code> to re-enable the old behaviour.</p>\n"}],"owner":{"account_id":312603,"reputation":1450,"user_id":626761,"accept_rate":83,"display_name":"nodots"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3118,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":71966125,"answer_count":1,"score":8,"last_activity_date":1650618208,"creation_date":1650617864,"question_id":71966064,"body_markdown":"On Windows, NUL is the null output device similar to /dev/null on Linux.\r\n\r\nWith Oracle Java 8 **Update 331**, trying to get a `new FileOutputStream(&quot;NUL:&quot;)` throws an exception. Previously (Java 8u321) it worked fine.\r\n\r\nThe problem seems to be the colon:\r\n* `new FileOutputStream(&quot;NUL&quot;)` - OK\r\n* `new FileOutputStream(&quot;NUL:&quot;)` - exception\r\n\r\nCan anyone point me to docs or JDK sources regarding this change? I can&#39;t change the code itself because it is in a 3rd party lib (xnio-api).\r\n\r\n```\r\ntry\r\n{\r\n  new FileOutputStream(&quot;NUL:&quot;);\r\n  System.out.println(&quot;OK&quot;);\r\n}\r\ncatch (FileNotFoundException e)\r\n{\r\n  System.out.println(e);\r\n}\r\n```","title":"Java: FileOutputStream(&quot;NUL:&quot;) not working after Java upgrade","body":"<p>On Windows, NUL is the null output device similar to /dev/null on Linux.</p>\n<p>With Oracle Java 8 <strong>Update 331</strong>, trying to get a <code>new FileOutputStream(&quot;NUL:&quot;)</code> throws an exception. Previously (Java 8u321) it worked fine.</p>\n<p>The problem seems to be the colon:</p>\n<ul>\n<li><code>new FileOutputStream(&quot;NUL&quot;)</code> - OK</li>\n<li><code>new FileOutputStream(&quot;NUL:&quot;)</code> - exception</li>\n</ul>\n<p>Can anyone point me to docs or JDK sources regarding this change? I can't change the code itself because it is in a 3rd party lib (xnio-api).</p>\n<pre><code>try\n{\n  new FileOutputStream(&quot;NUL:&quot;);\n  System.out.println(&quot;OK&quot;);\n}\ncatch (FileNotFoundException e)\n{\n  System.out.println(e);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1650615230,"post_id":71965438,"comment_id":127165305,"body_markdown":"How did you run this? How do you print the output? `\\n` sould work in most systems.","body":"How did you run this? How do you print the output? <code>\\n</code> sould work in most systems."},{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":0,"creation_date":1650615450,"post_id":71965438,"comment_id":127165389,"body_markdown":"While you&#39;re at it, why not simply [join](https://stackoverflow.com/q/1751844/205233) your strings with the newline char? As for your problem at hand: I&#39;d try including the carriage return like so `&quot;\\r\\n&quot;`.","body":"While you&#39;re at it, why not simply <a href=\"https://stackoverflow.com/q/1751844/205233\">join</a> your strings with the newline char? As for your problem at hand: I&#39;d try including the carriage return like so <code>&quot;\\r\\n&quot;</code>."},{"owner":{"account_id":18516689,"reputation":363,"user_id":13490682,"display_name":"Jacket"},"score":0,"creation_date":1650615820,"post_id":71965438,"comment_id":127165507,"body_markdown":"Hi @Filburt I don&#39;t understand, could you give me an example related to my code?","body":"Hi @Filburt I don&#39;t understand, could you give me an example related to my code?"},{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":0,"creation_date":1650615864,"post_id":71965438,"comment_id":127165527,"body_markdown":"@Jacket Have you tried the solution in the post I linked?","body":"@Jacket Have you tried the solution in the post I linked?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1650617658,"post_id":71965438,"comment_id":127166124,"body_markdown":"BTW that function can (almost **&#185;**) be simplified to `String.join(&quot;\\n&quot;, list)`, or using the system line separator: `String.join(System.lineSeparator(), list)` || **&#185;** missing the leading new line","body":"BTW that function can (almost <b>&#185;</b>) be simplified to <code>String.join(&quot;\\n&quot;, list)</code>, or using the system line separator: <code>String.join(System.lineSeparator(), list)</code> || <b>&#185;</b> missing the leading new line"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1650617699,"post_id":71965438,"comment_id":127166148,"body_markdown":"Also note: it seems you are using **raw types** here, as you don&#39;t specify that you have a `List&lt;String&gt;` here. And `list` is a terrible name for a variable. Rather say what you EXPECT to be in that list, like `elementNames` or something like that. The IDE can tell you the type of the variable, there is no point in hard-coding the TYPE in the name!","body":"Also note: it seems you are using <b>raw types</b> here, as you don&#39;t specify that you have a <code>List&lt;String&gt;</code> here. And <code>list</code> is a terrible name for a variable. Rather say what you EXPECT to be in that list, like <code>elementNames</code> or something like that. The IDE can tell you the type of the variable, there is no point in hard-coding the TYPE in the name!"},{"owner":{"account_id":18516689,"reputation":363,"user_id":13490682,"display_name":"Jacket"},"score":0,"creation_date":1650618264,"post_id":71965438,"comment_id":127166365,"body_markdown":"@GhostCat You&#39;re right, thanks for the advice!","body":"@GhostCat You&#39;re right, thanks for the advice!"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1650618268,"post_id":71965438,"comment_id":127166366,"body_markdown":"Please tell us: How did you run this? How do you print the output? On which system? And what is the exact output you are seeing?","body":"Please tell us: How did you run this? How do you print the output? On which system? And what is the exact output you are seeing?"},{"owner":{"account_id":18516689,"reputation":363,"user_id":13490682,"display_name":"Jacket"},"score":0,"creation_date":1650618437,"post_id":71965438,"comment_id":127166429,"body_markdown":"@Hulk I am starting it in AEM, for the title component, to have a title in column and not for horizontal, it is a simple GetTitle method that is invoked","body":"@Hulk I am starting it in AEM, for the title component, to have a title in column and not for horizontal, it is a simple GetTitle method that is invoked"},{"owner":{"account_id":18516689,"reputation":363,"user_id":13490682,"display_name":"Jacket"},"score":1,"creation_date":1650618486,"post_id":71965438,"comment_id":127166447,"body_markdown":"@Hulk The problem is definitely AEM, thanks for the replies","body":"@Hulk The problem is definitely AEM, thanks for the replies"}],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650617777,"creation_date":1650615962,"answer_id":71965633,"question_id":71965438,"body_markdown":"This code works on my system (eclipse on windows), but to make it platform independent you can use [`System.lineSeparator()`][1]:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;String&gt; list = List.of(&quot;Hello&quot;, &quot;to&quot;, &quot;all&quot;);\r\n\t\tSystem.out.println(fromListToString(list));\r\n\t}\r\n\t\r\n\tpublic static String fromListToString(List&lt;?&gt; list) {\r\n\t    String string= &quot;&quot;;\r\n\t    for (int i = 0; i &lt; list.size(); i++) {\r\n\t        string +=  System.lineSeparator() + list.get(i);\r\n\t    }\r\n\t    return string;\r\n\t}\r\n\r\nOne thing I also fixed: note the `List&lt;?&gt;` instead of the rawtype `List`. This does not cause any problems here, but it might later on if you reuse this somewhere.\r\n\r\nOuput:\r\n```\r\n\r\nHello\r\nto\r\nall\r\n```\r\n\r\n(there is a leading blank line because of the first `\\n`).\r\n\r\nIf you are still seeing the output in a single line, this is probably due to the way you print the result. Some loggers, for example, remove all linebreaks from messages. If you are writing the result to a file, you may need to make sure the correct line separator for your system is used, see https://stackoverflow.com/questions/207947/how-do-i-get-a-platform-dependent-new-line-character\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/System.html#lineSeparator()","title":"Print elements of a List in columns","body":"<p>This code works on my system (eclipse on windows), but to make it platform independent you can use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/System.html#lineSeparator()\" rel=\"nofollow noreferrer\"><code>System.lineSeparator()</code></a>:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; list = List.of(&quot;Hello&quot;, &quot;to&quot;, &quot;all&quot;);\n    System.out.println(fromListToString(list));\n}\n\npublic static String fromListToString(List&lt;?&gt; list) {\n    String string= &quot;&quot;;\n    for (int i = 0; i &lt; list.size(); i++) {\n        string +=  System.lineSeparator() + list.get(i);\n    }\n    return string;\n}\n</code></pre>\n<p>One thing I also fixed: note the <code>List&lt;?&gt;</code> instead of the rawtype <code>List</code>. This does not cause any problems here, but it might later on if you reuse this somewhere.</p>\n<p>Ouput:</p>\n<pre><code>\nHello\nto\nall\n</code></pre>\n<p>(there is a leading blank line because of the first <code>\\n</code>).</p>\n<p>If you are still seeing the output in a single line, this is probably due to the way you print the result. Some loggers, for example, remove all linebreaks from messages. If you are writing the result to a file, you may need to make sure the correct line separator for your system is used, see <a href=\"https://stackoverflow.com/questions/207947/how-do-i-get-a-platform-dependent-new-line-character\">How do I get a platform-dependent new line character?</a></p>\n"},{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650616676,"creation_date":1650616055,"answer_id":71965650,"question_id":71965438,"body_markdown":"```\r\npublic static String fromListToString(List list) {\r\n    String result = &quot;&quot;;\r\n    for (int i = 0; i &lt; list.size(); i++) {\r\n        result += &quot;\\n&quot; + list.get(i);\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nMatter of typo. :)\r\nYour String was called string, and not result.\r\n\r\n\r\nNew answer:\r\n\r\nUse:\r\n\r\n```\r\nSystem.getProperty(&quot;line.separator&quot;)\r\n```\r\n\r\nInstead of:\r\n\r\n```\r\n\\n\r\n```\r\n\r\nThe linebreak character is not &quot;\\n&quot; on every operating system. ","title":"Print elements of a List in columns","body":"<pre><code>public static String fromListToString(List list) {\n    String result = &quot;&quot;;\n    for (int i = 0; i &lt; list.size(); i++) {\n        result += &quot;\\n&quot; + list.get(i);\n    }\n    return result;\n}\n</code></pre>\n<p>Matter of typo. :)\nYour String was called string, and not result.</p>\n<p>New answer:</p>\n<p>Use:</p>\n<pre><code>System.getProperty(&quot;line.separator&quot;)\n</code></pre>\n<p>Instead of:</p>\n<pre><code>\\n\n</code></pre>\n<p>The linebreak character is not &quot;\\n&quot; on every operating system.</p>\n"}],"owner":{"account_id":18516689,"reputation":363,"user_id":13490682,"display_name":"Jacket"},"comment_count":10,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1650618174,"accepted_answer_id":71965633,"answer_count":2,"score":-1,"last_activity_date":1650617777,"creation_date":1650614945,"question_id":71965438,"body_markdown":"I created this little method to make taking a list return a string with all the elements.\r\nBut I wanted to add the fact that it returned me in column, for example:\r\n\r\n    Hello\r\n    to\r\n    All\r\n\r\nI tried to insert the &quot;\\ n&quot; but it doesn&#39;t change the result.\r\n\r\n        public static String fromListToString(List list) {\r\n        String string= &quot;&quot;;\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            string+= &quot;\\n&quot; + list.get(i);\r\n        }\r\n        return string;\r\n    }\r\n\r\nHow can I do?\r\n","title":"Print elements of a List in columns","body":"<p>I created this little method to make taking a list return a string with all the elements.\nBut I wanted to add the fact that it returned me in column, for example:</p>\n<pre><code>Hello\nto\nAll\n</code></pre>\n<p>I tried to insert the &quot;\\ n&quot; but it doesn't change the result.</p>\n<pre><code>    public static String fromListToString(List list) {\n    String string= &quot;&quot;;\n    for (int i = 0; i &lt; list.size(); i++) {\n        string+= &quot;\\n&quot; + list.get(i);\n    }\n    return string;\n}\n</code></pre>\n<p>How can I do?</p>\n"},{"tags":["java","multithreading","threadpool"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1650617914,"post_id":71966024,"comment_id":127166225,"body_markdown":"Queue size shows as 1000....err where exactly? `SynchronousQueue` has no size.","body":"Queue size shows as 1000....err where exactly? <code>SynchronousQueue</code> has no size."},{"owner":{"account_id":9067168,"reputation":107,"user_id":6751600,"display_name":"WhiteBird"},"score":0,"creation_date":1650617989,"post_id":71966024,"comment_id":127166259,"body_markdown":"@Kayaman yeah, I understand it has no size, but the exception shows it as `queue tasks: 1000`, which I assume is of the queue I am using in the pool? Which is a syncQ, I expected it be 0.","body":"@Kayaman yeah, I understand it has no size, but the exception shows it as <code>queue tasks: 1000</code>, which I assume is of the queue I am using in the pool? Which is a syncQ, I expected it be 0."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1650618105,"post_id":71966024,"comment_id":127166299,"body_markdown":"That&#39;s what happens when you assume things. `SynchronousQueue.size()` returns a constant `0`, so it definitely isn&#39;t the queue (or fill) size.","body":"That&#39;s what happens when you assume things. <code>SynchronousQueue.size()</code> returns a constant <code>0</code>, so it definitely isn&#39;t the queue (or fill) size."},{"owner":{"account_id":9067168,"reputation":107,"user_id":6751600,"display_name":"WhiteBird"},"score":0,"creation_date":1650618294,"post_id":71966024,"comment_id":127166380,"body_markdown":"@Kayaman you are correct, it does, which is what is part of my question, why does the exception state the queue size is 1000? Shouldn&#39;t it say 0, issues with pool sizes might not be related to the syncQ at all, but the queue size showing up as 1000 doesn&#39;t make sense to me.","body":"@Kayaman you are correct, it does, which is what is part of my question, why does the exception state the queue size is 1000? Shouldn&#39;t it say 0, issues with pool sizes might not be related to the syncQ at all, but the queue size showing up as 1000 doesn&#39;t make sense to me."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1650618995,"post_id":71966024,"comment_id":127166643,"body_markdown":"Because the exception isn&#39;t referring to the queue you think it is. There aren&#39;t many options for impossible results. My next suggestion will be a cursed JVM running on Indian burial ground.","body":"Because the exception isn&#39;t referring to the queue you think it is. There aren&#39;t many options for impossible results. My next suggestion will be a cursed JVM running on Indian burial ground."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1650619808,"post_id":71966024,"comment_id":127166951,"body_markdown":"I would make sure I&#39;m looking at the correct pool. If you&#39;re configuring it completely different than it&#39;s acting, then it doesn&#39;t seem like they&#39;re the same pool.","body":"I would make sure I&#39;m looking at the correct pool. If you&#39;re configuring it completely different than it&#39;s acting, then it doesn&#39;t seem like they&#39;re the same pool."}],"owner":{"account_id":9067168,"reputation":107,"user_id":6751600,"display_name":"WhiteBird"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":862,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650617723,"creation_date":1650617723,"question_id":71966024,"body_markdown":"I have a piece of code that is meant to execute tasks (1000+). I have a core pool size of 10 and a max size of 100. I am using a SyncQ and so there is no queue size.\r\n\r\n    BlockingQueue&lt;Runnable&gt; queue = new SynchronousQueue&lt;Runnable&gt;();\r\n    ThreadPoolExecutor pool = new ThreadPoolExecutor(10,100, Long.MAX_VALUE, TimeUnit.NANOSECONDS, queue, new ThreadPoolExecutor.CallerRunsPolicy());\r\n\r\nThis runs fine for about 1000 requests after which I started getting TaskRejectedException. The exception stack trace is something like the below-\r\n\r\n    org.springframework.core.task.TaskRejectedException: Executor [java.util.concurrent.ThreadPoolExecutor@56672127[Running, pool size = 20, active threads = 20, queue tasks = 1000, completed tasks = 13431]] did not accept task: org.springframework.aop.interceptor.AsyncExecutionInterceptor$1@462b281\r\n\r\nI am trying to debug the problem and get it fixed.\r\n\r\nWhat I expected to happen was:\r\n1. ThreadPoolExecutor has 10 threads to accept requests.\r\n2. When more than 10 tasks come in and previous 10 are not done yet, then new threads would be created until 100 (max pool size) is reached\r\n3. When 100 tasks are running, the 101st task would be sent to the main thread (CallerRunsPolicy) and blocks the other requests until space is available for them to run.\r\n\r\nWhat is happening (as per logs):\r\n1. ThreadPoolExecutor starts with 10 threads and goes up to 20 (not the max?)\r\n2. Queue size shows as 1000 when SyncQ does not have any capacity to store tasks\r\n3. Tasks get rejected whenever we have &gt;1000 requests to process.\r\n\r\nThe completed task count is not from a single run, it accrues over time because several others test at other times and not at the time of my testing. \r\n\r\nI do not understand why the pool size stops at 20, queue size shows up as 1000 (instead of 0) and why tasks are getting rejected while we have syncQ with callersRunPolicy. Anyone knows what is going wrong with the SyncQ or the ThreadPoolExecutor? \r\n\r\nI do have the option to remove SyncQ and add a bounded queue if that is the issue, but at this point I am not sure what is causing the issue as I see queue size being printed for a syncQ.\r\n","title":"SynchronousQueue - Tasks getting rejected while max pool size has not been reached","body":"<p>I have a piece of code that is meant to execute tasks (1000+). I have a core pool size of 10 and a max size of 100. I am using a SyncQ and so there is no queue size.</p>\n<pre><code>BlockingQueue&lt;Runnable&gt; queue = new SynchronousQueue&lt;Runnable&gt;();\nThreadPoolExecutor pool = new ThreadPoolExecutor(10,100, Long.MAX_VALUE, TimeUnit.NANOSECONDS, queue, new ThreadPoolExecutor.CallerRunsPolicy());\n</code></pre>\n<p>This runs fine for about 1000 requests after which I started getting TaskRejectedException. The exception stack trace is something like the below-</p>\n<pre><code>org.springframework.core.task.TaskRejectedException: Executor [java.util.concurrent.ThreadPoolExecutor@56672127[Running, pool size = 20, active threads = 20, queue tasks = 1000, completed tasks = 13431]] did not accept task: org.springframework.aop.interceptor.AsyncExecutionInterceptor$1@462b281\n</code></pre>\n<p>I am trying to debug the problem and get it fixed.</p>\n<p>What I expected to happen was:</p>\n<ol>\n<li>ThreadPoolExecutor has 10 threads to accept requests.</li>\n<li>When more than 10 tasks come in and previous 10 are not done yet, then new threads would be created until 100 (max pool size) is reached</li>\n<li>When 100 tasks are running, the 101st task would be sent to the main thread (CallerRunsPolicy) and blocks the other requests until space is available for them to run.</li>\n</ol>\n<p>What is happening (as per logs):</p>\n<ol>\n<li>ThreadPoolExecutor starts with 10 threads and goes up to 20 (not the max?)</li>\n<li>Queue size shows as 1000 when SyncQ does not have any capacity to store tasks</li>\n<li>Tasks get rejected whenever we have &gt;1000 requests to process.</li>\n</ol>\n<p>The completed task count is not from a single run, it accrues over time because several others test at other times and not at the time of my testing.</p>\n<p>I do not understand why the pool size stops at 20, queue size shows up as 1000 (instead of 0) and why tasks are getting rejected while we have syncQ with callersRunPolicy. Anyone knows what is going wrong with the SyncQ or the ThreadPoolExecutor?</p>\n<p>I do have the option to remove SyncQ and add a bounded queue if that is the issue, but at this point I am not sure what is causing the issue as I see queue size being printed for a syncQ.</p>\n"},{"tags":["java","maven","environment-variables","windows-10","java-11"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1650624597,"post_id":71965985,"comment_id":127168625,"body_markdown":"Please show result of\n`echo %JAVA_HOME%`\nand `echo %PATH%`","body":"Please show result of <code>echo %JAVA_HOME%</code> and <code>echo %PATH%</code>"}],"owner":{"account_id":25038148,"reputation":11,"user_id":18895322,"display_name":"Johnny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650617550,"creation_date":1650617550,"question_id":71965985,"body_markdown":"I had on my Windows 10 (Vmachine in Citrix) Java JRE 17 preinstalled. \r\n\r\nBy calling it in the command prompt with java --version, I got the response of the version that was installed. \r\n\r\nSince I needed to install JDK 11 on my machine, I proceeded to the installation from Oracle and installed the JDK8 exe file and executed it. The installation was successful. So I had JRE17 and JDK11. \r\n\r\nI have changed the environment variable (System Variables) that was set for JAVA_HOME from the path of JRE17, to my new destination path of JDK11. \r\n\r\nI have changed the Path variable that was set for JRE17 to JDK11 as well. \r\n\r\nClicked OK and again OK on the System properties window to save the changes I made. \r\n\r\nReopened the command prompt. After then calling the prompt command with java --version, I got the response, that is not recognized as an internal or external command (my JDK11). \r\n\r\nNow, after I tried to set back the environment variable of JAVA_HOME and the Path to JRE17, I again get the response that is not recognized as an internal or external command (my JRE17 that was working just before the change. I was taking good care, not to make a mistake while changing and setting the environment variables and even tried with resetting my machine in hope it would work afterwards.\r\n\r\n**So what I actually need later on, is Apache Maven 3.8.5. For that installation, I needed to make sure, JAVA_HOME is set to the location of my JDK, which was the reason why I was installing JDK11 (as instructed).** \r\n\r\nCould anyone assist me with this matter and give me some instructions on what am I doing wrong? I spent already 12 hours of installing, deinstalling, reinstalling, resetting paths and it seems that I am missing something. ","title":"Java jdk11 installation on Windows 10 problems","body":"<p>I had on my Windows 10 (Vmachine in Citrix) Java JRE 17 preinstalled.</p>\n<p>By calling it in the command prompt with java --version, I got the response of the version that was installed.</p>\n<p>Since I needed to install JDK 11 on my machine, I proceeded to the installation from Oracle and installed the JDK8 exe file and executed it. The installation was successful. So I had JRE17 and JDK11.</p>\n<p>I have changed the environment variable (System Variables) that was set for JAVA_HOME from the path of JRE17, to my new destination path of JDK11.</p>\n<p>I have changed the Path variable that was set for JRE17 to JDK11 as well.</p>\n<p>Clicked OK and again OK on the System properties window to save the changes I made.</p>\n<p>Reopened the command prompt. After then calling the prompt command with java --version, I got the response, that is not recognized as an internal or external command (my JDK11).</p>\n<p>Now, after I tried to set back the environment variable of JAVA_HOME and the Path to JRE17, I again get the response that is not recognized as an internal or external command (my JRE17 that was working just before the change. I was taking good care, not to make a mistake while changing and setting the environment variables and even tried with resetting my machine in hope it would work afterwards.</p>\n<p><strong>So what I actually need later on, is Apache Maven 3.8.5. For that installation, I needed to make sure, JAVA_HOME is set to the location of my JDK, which was the reason why I was installing JDK11 (as instructed).</strong></p>\n<p>Could anyone assist me with this matter and give me some instructions on what am I doing wrong? I spent already 12 hours of installing, deinstalling, reinstalling, resetting paths and it seems that I am missing something.</p>\n"},{"tags":["java","google-my-business-api","google-my-business"],"comments":[{"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"score":0,"creation_date":1650617949,"post_id":71965852,"comment_id":127166241,"body_markdown":"Are you able to set this attribute for the respective location via the GBP UI?","body":"Are you able to set this attribute for the respective location via the GBP UI?"},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1650619534,"post_id":71965852,"comment_id":127166868,"body_markdown":"I checked now for my other clients it works well for the exact same attributeId","body":"I checked now for my other clients it works well for the exact same attributeId"},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1650625024,"post_id":71965852,"comment_id":127168794,"body_markdown":"@vpriesner\n {\n  &quot;error&quot;: {\n    &quot;status&quot;: &quot;NOT_FOUND&quot;, \n    &quot;message&quot;: &quot;Requested entity was not found.&quot;, \n    &quot;code&quot;: 404\n  }\n}The same error in GBP UI. for some clients works and for the other no","body":"@vpriesner  {   &quot;error&quot;: {     &quot;status&quot;: &quot;NOT_FOUND&quot;,      &quot;message&quot;: &quot;Requested entity was not found.&quot;,      &quot;code&quot;: 404   } }The same error in GBP UI. for some clients works and for the other no"},{"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"score":1,"creation_date":1650640751,"post_id":71965852,"comment_id":127174690,"body_markdown":"If there&#39;s an error in the UI as well, I would just report it to the GBP API support.","body":"If there&#39;s an error in the UI as well, I would just report it to the GBP API support."}],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650616963,"creation_date":1650616963,"question_id":71965852,"body_markdown":"I am using the new `GOOGLE My Business Information API` in JAVA, [according to this link][1]. I read all possible attributes that GOOGLE has considered for various `Categories` and the related `Attributes`. The API is supposed to return a value named `DEPRECATED` if the attribute is going to be deprecated. However, I have an attribute named: `attributes/pay_debit_card` which has a `BOOL` type and is not deprecated. The returned attribute is like the photo:\r\n[![enter image description here][2]][2].\r\n\r\nThe problem is that when I send the updatedAttributes to Google according [according to this link][3], the API returns an error:\r\n\r\n    {\r\n      &quot;code&quot; : 404,\r\n      &quot;errors&quot; : [ {\r\n        &quot;domain&quot; : &quot;global&quot;,\r\n        &quot;message&quot; : &quot;Requested entity was not found.&quot;,\r\n        &quot;reason&quot; : &quot;notFound&quot;\r\n      } ],\r\n      &quot;message&quot; : &quot;Requested entity was not found.&quot;,\r\n      &quot;status&quot; : &quot;NOT_FOUND&quot;\r\n    }\r\n\r\n\r\nThe code works well for other attributes. I provide some abstract lines of my code in java while the attribute type is BOOLEAN:\r\nsupposing theAttributeId is a string value equal to `pay_debit_card` and the variable `myBusinessBusinessInformation` is the initializer of type `com.google.api.services.mybusinessbusinessinformation.v1.MyBusinessBusinessInformation` and also takes care of credentials.\r\n   \r\n\r\n        String attributeMask=&quot;attributes/&quot;+theAttributeId;\r\n    \tString name =&quot;locations/&quot;+locationId+&quot;/attributes&quot;;\r\n        List&lt;Object&gt; values=null;\r\n        values=Arrays.asList(true); // for example to set it true\r\n        Attribute attribute = new Attribute().setValueType(valueType).setValues(values).setName(theAttributeId);\r\n        \t\t\t\t\t\t\tattributes.add(attribute);\r\n    \r\n    try {\r\n    UpdateAttributes request = myBusinessBusinessInformation.locations()\r\n    \t\t\t\t\t\t\t\t\t.updateAttributes(name, new Attributes().setAttributes(attributes))\r\n    \t\t\t\t\t\t\t\t\t.setAttributeMask(attributeMask);\r\n    \t\t\t\t\t\t\trequest.execute();\r\n    }catch (IOException e) {\r\n     System.out.println(e);\r\n    }\r\n\r\n \r\n  [1]: https://developers.google.com/my-business/reference/businessinformation/rest/v1/attributes/list\r\n  [2]: https://i.stack.imgur.com/zRUBn.jpg\r\n  [3]: https://developers.google.com/my-business/reference/businessinformation/rest/v1/locations/updateAttributes\r\n","title":"Why Google My Business API returns an `attribute` which is not deprecated and then does not accept to set this attribute for the locations?","body":"<p>I am using the new <code>GOOGLE My Business Information API</code> in JAVA, <a href=\"https://developers.google.com/my-business/reference/businessinformation/rest/v1/attributes/list\" rel=\"nofollow noreferrer\">according to this link</a>. I read all possible attributes that GOOGLE has considered for various <code>Categories</code> and the related <code>Attributes</code>. The API is supposed to return a value named <code>DEPRECATED</code> if the attribute is going to be deprecated. However, I have an attribute named: <code>attributes/pay_debit_card</code> which has a <code>BOOL</code> type and is not deprecated. The returned attribute is like the photo:\n<a href=\"https://i.stack.imgur.com/zRUBn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zRUBn.jpg\" alt=\"enter image description here\" /></a>.</p>\n<p>The problem is that when I send the updatedAttributes to Google according <a href=\"https://developers.google.com/my-business/reference/businessinformation/rest/v1/locations/updateAttributes\" rel=\"nofollow noreferrer\">according to this link</a>, the API returns an error:</p>\n<pre><code>{\n  &quot;code&quot; : 404,\n  &quot;errors&quot; : [ {\n    &quot;domain&quot; : &quot;global&quot;,\n    &quot;message&quot; : &quot;Requested entity was not found.&quot;,\n    &quot;reason&quot; : &quot;notFound&quot;\n  } ],\n  &quot;message&quot; : &quot;Requested entity was not found.&quot;,\n  &quot;status&quot; : &quot;NOT_FOUND&quot;\n}\n</code></pre>\n<p>The code works well for other attributes. I provide some abstract lines of my code in java while the attribute type is BOOLEAN:\nsupposing theAttributeId is a string value equal to <code>pay_debit_card</code> and the variable <code>myBusinessBusinessInformation</code> is the initializer of type <code>com.google.api.services.mybusinessbusinessinformation.v1.MyBusinessBusinessInformation</code> and also takes care of credentials.</p>\n<pre><code>    String attributeMask=&quot;attributes/&quot;+theAttributeId;\n    String name =&quot;locations/&quot;+locationId+&quot;/attributes&quot;;\n    List&lt;Object&gt; values=null;\n    values=Arrays.asList(true); // for example to set it true\n    Attribute attribute = new Attribute().setValueType(valueType).setValues(values).setName(theAttributeId);\n                                attributes.add(attribute);\n\ntry {\nUpdateAttributes request = myBusinessBusinessInformation.locations()\n                                    .updateAttributes(name, new Attributes().setAttributes(attributes))\n                                    .setAttributeMask(attributeMask);\n                            request.execute();\n}catch (IOException e) {\n System.out.println(e);\n}\n</code></pre>\n"},{"tags":["java","jstack","thread-dump"],"comments":[{"owner":{"account_id":280399,"reputation":596,"user_id":576077,"display_name":"Michael Pigg"},"score":1,"creation_date":1316022700,"post_id":7420501,"comment_id":8968883,"body_markdown":"Have you tried the -F option?","body":"Have you tried the -F option?"},{"owner":{"account_id":107661,"reputation":15483,"user_id":286149,"accept_rate":89,"display_name":"Timo Ernst"},"score":0,"creation_date":1316032808,"post_id":7420501,"comment_id":8971945,"body_markdown":"@Michael If I use the -F option, then it actually starts the thread dump but the dump itself just contains a lot of error messages: http://dl.dropbox.com/u/17844821/zeug/threaddump.txt and during the dumping process many many exceptions are thrown: http://dl.dropbox.com/u/17844821/zeug/threaddumpexception.txt","body":"@Michael If I use the -F option, then it actually starts the thread dump but the dump itself just contains a lot of error messages: <a href=\"http://dl.dropbox.com/u/17844821/zeug/threaddump.txt\" rel=\"nofollow noreferrer\">dl.dropbox.com/u/17844821/zeug/threaddump.txt</a> and during the dumping process many many exceptions are thrown: <a href=\"http://dl.dropbox.com/u/17844821/zeug/threaddumpexception.txt\" rel=\"nofollow noreferrer\">dl.dropbox.com/u/17844821/zeug/threaddumpexception.txt</a>"},{"owner":{"account_id":412479,"reputation":1743,"user_id":785566,"accept_rate":88,"display_name":"Clark Bao"},"score":0,"creation_date":1316323596,"post_id":7420501,"comment_id":9024418,"body_markdown":"@valmar Is that possible that the jdk used by Tomcat and jdk you are using for jps are not the same jdk? Could you double check it?","body":"@valmar Is that possible that the jdk used by Tomcat and jdk you are using for jps are not the same jdk? Could you double check it?"},{"owner":{"account_id":107661,"reputation":15483,"user_id":286149,"accept_rate":89,"display_name":"Timo Ernst"},"score":0,"creation_date":1316461116,"post_id":7420501,"comment_id":9047631,"body_markdown":"@Clark Mh, how would I do that?","body":"@Clark Mh, how would I do that?"},{"owner":{"account_id":412479,"reputation":1743,"user_id":785566,"accept_rate":88,"display_name":"Clark Bao"},"score":0,"creation_date":1316486197,"post_id":7420501,"comment_id":9052296,"body_markdown":"@valmar check this. http://www.howtogeek.com/howto/linux/installing-tomcat-6-on-ubuntu/  Tomcat relys on JAVA_HOME. but your command line, you can type java -version to see if they are the same version and check the java bin path the command are using.","body":"@valmar check this. <a href=\"http://www.howtogeek.com/howto/linux/installing-tomcat-6-on-ubuntu/\" rel=\"nofollow noreferrer\">howtogeek.com/howto/linux/installing-tomcat-6-on-ubuntu</a>  Tomcat relys on JAVA_HOME. but your command line, you can type java -version to see if they are the same version and check the java bin path the command are using."},{"owner":{"account_id":107661,"reputation":15483,"user_id":286149,"accept_rate":89,"display_name":"Timo Ernst"},"score":0,"creation_date":1316524214,"post_id":7420501,"comment_id":9060489,"body_markdown":"@Clark Thanks for your reply!\n\nI installed Tomcat simply via `sudo apt-get install tomcat6` (no manual installation via wget).\n\n`echo $JAVA_HOME` returns me nothing! (Empty line)\n\n`java -version` gives me this:\n\n`java version &quot;1.6.0_20&quot;\nOpenJDK Runtime Environment (IcedTea6 1.9.9) (6b20-1.9.9-0ubuntu1~10.04.2)\nOpenJDK 64-Bit Server VM (build 19.0-b09, mixed mode)`\n\nDoes this make any sense to you?","body":"@Clark Thanks for your reply!  I installed Tomcat simply via <code>sudo apt-get install tomcat6</code> (no manual installation via wget).  <code>echo $JAVA_HOME</code> returns me nothing! (Empty line)  <code>java -version</code> gives me this:  <code>java version &quot;1.6.0_20&quot; OpenJDK Runtime Environment (IcedTea6 1.9.9) (6b20-1.9.9-0ubuntu1~10.04.2) OpenJDK 64-Bit Server VM (build 19.0-b09, mixed mode)</code>  Does this make any sense to you?"},{"owner":{"account_id":412479,"reputation":1743,"user_id":785566,"accept_rate":88,"display_name":"Clark Bao"},"score":0,"creation_date":1316525048,"post_id":7420501,"comment_id":9060795,"body_markdown":"@valmar Can you try export JAVA_HOME=&lt;path of OpenJDK 64-Bit&gt; and then restart the Tomcat and then try the jps again?","body":"@valmar Can you try export JAVA_HOME=&lt;path of OpenJDK 64-Bit&gt; and then restart the Tomcat and then try the jps again?"},{"owner":{"account_id":107661,"reputation":15483,"user_id":286149,"accept_rate":89,"display_name":"Timo Ernst"},"score":0,"creation_date":1316555413,"post_id":7420501,"comment_id":9069884,"body_markdown":"@ClarkBao Nope, that didn&#39;t do the trick. `jps -l` still returns only `2316 sun.tools.jps.Jps`. `echo $JAVA_HOME` gives `/usr/lib/jvm/java-6-openjdk`","body":"@ClarkBao Nope, that didn&#39;t do the trick. <code>jps -l</code> still returns only <code>2316 sun.tools.jps.Jps</code>. <code>echo $JAVA_HOME</code> gives <code>&#47;usr&#47;lib&#47;jvm&#47;java-6-openjdk</code>"},{"owner":{"account_id":412479,"reputation":1743,"user_id":785566,"accept_rate":88,"display_name":"Clark Bao"},"score":0,"creation_date":1316559765,"post_id":7420501,"comment_id":9070820,"body_markdown":"@valmar I cannot look into the script of how Tomcat6 start the java process. You may need to debug into it to see which jvm it is really using.","body":"@valmar I cannot look into the script of how Tomcat6 start the java process. You may need to debug into it to see which jvm it is really using."},{"owner":{"account_id":107661,"reputation":15483,"user_id":286149,"accept_rate":89,"display_name":"Timo Ernst"},"score":0,"creation_date":1316617738,"post_id":7420501,"comment_id":9083475,"body_markdown":"@ClarkBao I checked the script and the JDK path seems to be correct or am I missing something? http://dl.dropbox.com/u/17844821/zeug/tomcat_script.txt","body":"@ClarkBao I checked the script and the JDK path seems to be correct or am I missing something? <a href=\"http://dl.dropbox.com/u/17844821/zeug/tomcat_script.txt\" rel=\"nofollow noreferrer\">dl.dropbox.com/u/17844821/zeug/tomcat_script.txt</a>"},{"owner":{"account_id":412479,"reputation":1743,"user_id":785566,"accept_rate":88,"display_name":"Clark Bao"},"score":0,"creation_date":1316653484,"post_id":7420501,"comment_id":9092605,"body_markdown":"@valmar I cannot open the link. But there is another way to get thread dump. Send server a SIGQUIT signal to force a stack dump.Check this. http://stackoverflow.com/questions/7135682/whats-the-proper-action-plans-to-debug-the-dead-lock-issue-if-its-in-the-produc","body":"@valmar I cannot open the link. But there is another way to get thread dump. Send server a SIGQUIT signal to force a stack dump.Check this. <a href=\"http://stackoverflow.com/questions/7135682/whats-the-proper-action-plans-to-debug-the-dead-lock-issue-if-its-in-the-produc\" title=\"whats the proper action plans to debug the dead lock issue if its in the produc\">stackoverflow.com/questions/7135682/&hellip;</a>"},{"owner":{"account_id":107661,"reputation":15483,"user_id":286149,"accept_rate":89,"display_name":"Timo Ernst"},"score":0,"creation_date":1316699109,"post_id":7420501,"comment_id":9102273,"body_markdown":"@ClarkBao Is stack dump = thread dump? Because your link only describes how to get a stack dump. Here is a new link to the script btw: http://zeug.grandia2.de/tomcat_script.txt","body":"@ClarkBao Is stack dump = thread dump? Because your link only describes how to get a stack dump. Here is a new link to the script btw: <a href=\"http://zeug.grandia2.de/tomcat_script.txt\" rel=\"nofollow noreferrer\">zeug.grandia2.de/tomcat_script.txt</a>"},{"owner":{"account_id":107661,"reputation":15483,"user_id":286149,"accept_rate":89,"display_name":"Timo Ernst"},"score":0,"creation_date":1316699704,"post_id":7420501,"comment_id":9102478,"body_markdown":"@ClarkBao I just tried `sudo kill -QUIT 5244` but that returns me nothing (just a blank new command line) and nothing happens (5244 is the PID of tomcat and -QUIT should send a SIGQUIT to that process).","body":"@ClarkBao I just tried <code>sudo kill -QUIT 5244</code> but that returns me nothing (just a blank new command line) and nothing happens (5244 is the PID of tomcat and -QUIT should send a SIGQUIT to that process)."}],"answers":[{"tags":[],"owner":{"account_id":280399,"reputation":596,"user_id":576077,"display_name":"Michael Pigg"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1316023807,"creation_date":1316023807,"answer_id":7420945,"question_id":7420501,"body_markdown":"I think you need to run jstack as the same user that runs the Tomcat process. Note also that jps only returns processes for the current user. You would get the pid for the Tomcat process by running jps with sudo or as the Tomcat process user.\r\n\r\nThis bug report may also be useful: https://bugs.launchpad.net/ubuntu/+source/sun-java6/+bug/597098","title":"jstack: Target process not responding","body":"<p>I think you need to run jstack as the same user that runs the Tomcat process. Note also that jps only returns processes for the current user. You would get the pid for the Tomcat process by running jps with sudo or as the Tomcat process user.</p>\n\n<p>This bug report may also be useful: <a href=\"https://bugs.launchpad.net/ubuntu/+source/sun-java6/+bug/597098\" rel=\"noreferrer\">https://bugs.launchpad.net/ubuntu/+source/sun-java6/+bug/597098</a></p>\n"},{"tags":[],"owner":{"account_id":412479,"reputation":1743,"user_id":785566,"accept_rate":88,"display_name":"Clark Bao"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1316867892,"creation_date":1316867892,"answer_id":7539060,"question_id":7420501,"body_markdown":"@Valmar, I find the same topic post here.\r\nhttps://stackoverflow.com/questions/3647504/unable-to-get-thread-dump-any-ideas-why-my-app-blocks\r\n\r\nIt seems the workaround is `sudo -u tomcat6 kill -3 &lt;pid&gt;`.","title":"jstack: Target process not responding","body":"<p>@Valmar, I find the same topic post here.\n<a href=\"https://stackoverflow.com/questions/3647504/unable-to-get-thread-dump-any-ideas-why-my-app-blocks\">Unable to get thread dump? Any ideas why my app blocks?</a></p>\n\n<p>It seems the workaround is <code>sudo -u tomcat6 kill -3 &lt;pid&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":107661,"reputation":15483,"user_id":286149,"accept_rate":89,"display_name":"Timo Ernst"},"down_vote_count":0,"up_vote_count":78,"is_accepted":true,"score":78,"last_activity_date":1461149554,"creation_date":1317222963,"answer_id":7585452,"question_id":7420501,"body_markdown":"I got it working by doing two things:\r\n\r\n 1. Changed call to: `sudo -u tomcat6 jstack -J-d64 -m pid`\r\n 2. Replaced OpenJDK with Sun&#39;s original sun-6-jdk and sun-6-jre packages\r\n\r\n-----------------------\r\n\r\n**Explanation for part 1:** I switched to 64-bit mode, used `sudo` and run the command as Tomcat user.\r\n\r\n**Note:** Part 2 might not be necessary. For some users it seems like part 1 is enough. In fact, try to add just the `sudo` command first. It might already do the trick.","title":"jstack: Target process not responding","body":"<p>I got it working by doing two things:</p>\n\n<ol>\n<li>Changed call to: <code>sudo -u tomcat6 jstack -J-d64 -m pid</code></li>\n<li>Replaced OpenJDK with Sun's original sun-6-jdk and sun-6-jre packages</li>\n</ol>\n\n<hr>\n\n<p><strong>Explanation for part 1:</strong> I switched to 64-bit mode, used <code>sudo</code> and run the command as Tomcat user.</p>\n\n<p><strong>Note:</strong> Part 2 might not be necessary. For some users it seems like part 1 is enough. In fact, try to add just the <code>sudo</code> command first. It might already do the trick.</p>\n"},{"tags":[],"owner":{"account_id":464537,"reputation":4252,"user_id":868121,"display_name":"Ted Bigham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335387983,"creation_date":1333590831,"answer_id":10021683,"question_id":7420501,"body_markdown":"This also worked for me:\r\n\r\n&gt; sudo -u tomcat6 kill -3 pid\r\n\r\nIt looks like nothing happens but when you look in the logs the stacks are there.  They look like exceptions if your not expecting them.","title":"jstack: Target process not responding","body":"<p>This also worked for me:</p>\n\n<blockquote>\n  <p>sudo -u tomcat6 kill -3 pid</p>\n</blockquote>\n\n<p>It looks like nothing happens but when you look in the logs the stacks are there.  They look like exceptions if your not expecting them.</p>\n"},{"tags":[],"owner":{"account_id":982700,"reputation":1765,"user_id":1002016,"display_name":"Cameron Kerr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398920166,"creation_date":1398920166,"answer_id":23402245,"question_id":7420501,"body_markdown":"I find it useful to use something like &#39;ps -eo pid,user,command | grep java&#39; to find the actual java command being used, then use the directory to find the matching jstack etc.\r\n\r\n    # ps -eo user,command | grep &#39;[j]ava&#39; | cut -d&#39; &#39; -f1\r\n    someuser /usr/lib/jvm/java/bin/java\r\n\r\n    # /usr/lib/jvm/java/bin/java -version\r\n    java version &quot;1.6.0_45&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_45-b06)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 20.45-b01, mixed mode)\r\n\r\nSo its 64-bit, running as &#39;someuser&#39;. su to that user and run run jstack etc. from that same directory. (ie. /usr/lib/jvm/java/bin/jstack\r\n\r\nUseful when you&#39;re on a server with various different installations / implementations of Java.","title":"jstack: Target process not responding","body":"<p>I find it useful to use something like 'ps -eo pid,user,command | grep java' to find the actual java command being used, then use the directory to find the matching jstack etc.</p>\n\n<pre><code># ps -eo user,command | grep '[j]ava' | cut -d' ' -f1\nsomeuser /usr/lib/jvm/java/bin/java\n\n# /usr/lib/jvm/java/bin/java -version\njava version \"1.6.0_45\"\nJava(TM) SE Runtime Environment (build 1.6.0_45-b06)\nJava HotSpot(TM) 64-Bit Server VM (build 20.45-b01, mixed mode)\n</code></pre>\n\n<p>So its 64-bit, running as 'someuser'. su to that user and run run jstack etc. from that same directory. (ie. /usr/lib/jvm/java/bin/jstack</p>\n\n<p>Useful when you're on a server with various different installations / implementations of Java.</p>\n"},{"tags":[],"owner":{"account_id":4354925,"reputation":39,"user_id":4149876,"display_name":"MK Aftab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415455281,"creation_date":1415455281,"answer_id":26817889,"question_id":7420501,"body_markdown":"I had same problem, but **none** of below solution worked for me:\r\n\r\n    jstack &lt;pid&gt;\r\n    jstack -J-d64 -m &lt;pid&gt;\r\n    sudo -u &lt;user&gt; jstack ...\r\n\r\nI finally upgraded JDK from **jdk1.6.0_24** to **jdk1.7.0_67** and every things worked.","title":"jstack: Target process not responding","body":"<p>I had same problem, but <strong>none</strong> of below solution worked for me:</p>\n\n<pre><code>jstack &lt;pid&gt;\njstack -J-d64 -m &lt;pid&gt;\nsudo -u &lt;user&gt; jstack ...\n</code></pre>\n\n<p>I finally upgraded JDK from <strong>jdk1.6.0_24</strong> to <strong>jdk1.7.0_67</strong> and every things worked.</p>\n"},{"tags":[],"owner":{"account_id":3731306,"reputation":689,"user_id":3103593,"display_name":"Joshua"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1437446969,"creation_date":1437446969,"answer_id":31529553,"question_id":7420501,"body_markdown":"Try to switch to process user and then use jstack:\r\n\r\nsudo -u {process user} jstack &gt; dump","title":"jstack: Target process not responding","body":"<p>Try to switch to process user and then use jstack:</p>\n\n<p>sudo -u {process user} jstack > dump</p>\n"},{"tags":[],"owner":{"account_id":4108680,"reputation":501,"user_id":3371872,"display_name":"John C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493386548,"creation_date":1493386548,"answer_id":43681556,"question_id":7420501,"body_markdown":"For Tomcat users having this issue, check your catalina.out log file.\r\n\r\nI was having the same problems &quot;22693: Unable to open socket file: target process not responding or HotSpot VM not loaded&quot;. I gave up and was trying to find anything about what happened before it locked up, but then there was the jstack output in the log file.","title":"jstack: Target process not responding","body":"<p>For Tomcat users having this issue, check your catalina.out log file.</p>\n\n<p>I was having the same problems \"22693: Unable to open socket file: target process not responding or HotSpot VM not loaded\". I gave up and was trying to find anything about what happened before it locked up, but then there was the jstack output in the log file.</p>\n"},{"tags":[],"owner":{"account_id":3568469,"reputation":254,"user_id":2979421,"accept_rate":62,"display_name":"Ron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523456263,"creation_date":1523456263,"answer_id":49777488,"question_id":7420501,"body_markdown":"For those finding this answer six years after it was asked and they are on **CentOS 7** note that SELinux will stop jmap from writing the heap dumps as, out of the box, it will deny writing to a socket unless the directory has the type `tomcat_tmp_t`.\r\n\r\nIn my case, I write my heap dumps under `/usr/share/tomcat/.jmap`. This directory is owned by my runtime user.\r\n\r\nTherefore to allow jmap to write to this directory:\r\n\r\n    semanage fcontext -a -t tomcat_tmp_t &quot;/usr/share/tomcat/.jmap(/.*)?&quot;\r\n    restorecon /usr/share/tomcat -vR\r\n\r\nWhich allows us to then run, as our tomcat user:\r\n\r\n    jmap -dump:format=b,file=/usr/share/tomcat/.jmap/tomcat-`date +%s`.bin &lt;pid&gt;","title":"jstack: Target process not responding","body":"<p>For those finding this answer six years after it was asked and they are on <strong>CentOS 7</strong> note that SELinux will stop jmap from writing the heap dumps as, out of the box, it will deny writing to a socket unless the directory has the type <code>tomcat_tmp_t</code>.</p>\n\n<p>In my case, I write my heap dumps under <code>/usr/share/tomcat/.jmap</code>. This directory is owned by my runtime user.</p>\n\n<p>Therefore to allow jmap to write to this directory:</p>\n\n<pre><code>semanage fcontext -a -t tomcat_tmp_t \"/usr/share/tomcat/.jmap(/.*)?\"\nrestorecon /usr/share/tomcat -vR\n</code></pre>\n\n<p>Which allows us to then run, as our tomcat user:</p>\n\n<pre><code>jmap -dump:format=b,file=/usr/share/tomcat/.jmap/tomcat-`date +%s`.bin &lt;pid&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10273010,"reputation":5363,"user_id":7580839,"accept_rate":75,"display_name":"Amir Fo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580229888,"creation_date":1580229888,"answer_id":59953349,"question_id":7420501,"body_markdown":"My problem was, I ran the process by the terminal. Then for testing Its jstack, I paused the process by `ctrl+z`. The process was not able to respond. To solve this problem, I resumed the process by `fg` and checked its jstack by another terminal.","title":"jstack: Target process not responding","body":"<p>My problem was, I ran the process by the terminal. Then for testing Its jstack, I paused the process by <code>ctrl+z</code>. The process was not able to respond. To solve this problem, I resumed the process by <code>fg</code> and checked its jstack by another terminal.</p>\n"}],"owner":{"account_id":107661,"reputation":15483,"user_id":286149,"accept_rate":89,"display_name":"Timo Ernst"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100122,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":7585452,"answer_count":10,"score":52,"last_activity_date":1650616918,"creation_date":1316021618,"question_id":7420501,"body_markdown":"I am running Ubuntu server edition and I wanted to take a thread dump of Tomcat.\r\n\r\nSo, I first tried to find out which PID tomcat uses:\r\n\r\n\r\n    $ jps -l\r\n    5809 sun.tools.jps.Jps\r\n\r\nBut it&#39;s not there?\r\n\r\nSo, I used `top` instead and found out the PID 5730.\r\n\r\nThen I called jstack to get the thread dump:\r\n\r\n    $ sudo jstack -l 5730\r\n    5730: Unable to open socket file: target process not responding or HotSpot VM not loaded\r\n    The -F option can be used when the target process is not responding\r\n\r\nWhat&#39;s going on? :-(\r\n\r\nI already tried to export CATALINA_TMPDIR as described in https://stackoverflow.com/questions/5159564/jstack-and-jstat-stopped-working-with-upgrade-to-jdk6u23 but that didn&#39;t change anything:\r\n\r\n    $ export CATALINA_TMPDIR=/tmp\r\n    $ sudo /etc/init.d/tomcat6 restart\r\n     * Stopping Tomcat servlet engine tomcat6\r\n       ...done.\r\n     * Starting Tomcat servlet engine tomcat6\r\n       ...done.\r\n    $ sudo jstack -l 5934 // new PID after restart\r\n    5934: Unable to open socket file: target process not responding or HotSpot VM not loaded\r\n    The -F option can be used when the target process is not responding\r\n\r\n**Update:**\r\n\r\nI also tried `sudo -u tomcat6 jstack -l -F 5730 &gt; threaddumpexceptions2.txt` but it only gives me tons of exceptions on the console.","title":"jstack: Target process not responding","body":"<p>I am running Ubuntu server edition and I wanted to take a thread dump of Tomcat.</p>\n\n<p>So, I first tried to find out which PID tomcat uses:</p>\n\n<pre><code>$ jps -l\n5809 sun.tools.jps.Jps\n</code></pre>\n\n<p>But it's not there?</p>\n\n<p>So, I used <code>top</code> instead and found out the PID 5730.</p>\n\n<p>Then I called jstack to get the thread dump:</p>\n\n<pre><code>$ sudo jstack -l 5730\n5730: Unable to open socket file: target process not responding or HotSpot VM not loaded\nThe -F option can be used when the target process is not responding\n</code></pre>\n\n<p>What's going on? :-(</p>\n\n<p>I already tried to export CATALINA_TMPDIR as described in <a href=\"https://stackoverflow.com/questions/5159564/jstack-and-jstat-stopped-working-with-upgrade-to-jdk6u23\">Jstack and Jstat stopped working with upgrade to JDK6u23</a> but that didn't change anything:</p>\n\n<pre><code>$ export CATALINA_TMPDIR=/tmp\n$ sudo /etc/init.d/tomcat6 restart\n * Stopping Tomcat servlet engine tomcat6\n   ...done.\n * Starting Tomcat servlet engine tomcat6\n   ...done.\n$ sudo jstack -l 5934 // new PID after restart\n5934: Unable to open socket file: target process not responding or HotSpot VM not loaded\nThe -F option can be used when the target process is not responding\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>I also tried <code>sudo -u tomcat6 jstack -l -F 5730 &gt; threaddumpexceptions2.txt</code> but it only gives me tons of exceptions on the console.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8582,"page":1410,"page_size":100}
