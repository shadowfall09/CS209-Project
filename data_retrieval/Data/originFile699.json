{"items":[{"tags":["java","mysql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1656969111,"post_id":72861373,"comment_id":128694472,"body_markdown":"Does this answer your question? [How to access a value defined in the application.properties file in Spring Boot](https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot\">How to access a value defined in the application.properties file in Spring Boot</a>"}],"answers":[{"tags":[],"owner":{"account_id":24018229,"reputation":313,"user_id":18000902,"display_name":"Omar Hussien"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657005693,"creation_date":1657005693,"answer_id":72865438,"question_id":72861373,"body_markdown":"you can used Properties:\r\n\r\npackage java.util.Properties\r\n\r\n    Properties springProperties = new Properties();\r\n    springProperties.getProperty(&quot;spring.datasource.url&quot;);\r\n    \r\nlearn more =&gt; https://www.javatpoint.com/properties-class-in-java\r\n","title":"How to find &quot;spring.datasource.url=&quot; for application.properties?","body":"<p>you can used Properties:</p>\n<p>package java.util.Properties</p>\n<pre><code>Properties springProperties = new Properties();\nspringProperties.getProperty(&quot;spring.datasource.url&quot;);\n</code></pre>\n<p>learn more =&gt; <a href=\"https://www.javatpoint.com/properties-class-in-java\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/properties-class-in-java</a></p>\n"},{"tags":[],"owner":{"account_id":109199,"reputation":26454,"user_id":289466,"accept_rate":88,"display_name":"S&#233;bastien Le Callonnec"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674729044,"creation_date":1674729044,"answer_id":75244901,"question_id":72861373,"body_markdown":"Inject `dataSourceProperties`, and use `determineUrl`:\r\n\r\n\r\n```java\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\r\n\r\n...\r\n\r\n\r\n@Autowired\r\nDataSourceProperties dataSourceProperties;\r\n\r\n```\r\n\r\nYou can then call:\r\n\r\n```java\r\nString dbUrl = dataSourceProperties.determineUrl();\r\n```","title":"How to find &quot;spring.datasource.url=&quot; for application.properties?","body":"<p>Inject <code>dataSourceProperties</code>, and use <code>determineUrl</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\n\n...\n\n\n@Autowired\nDataSourceProperties dataSourceProperties;\n\n</code></pre>\n<p>You can then call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String dbUrl = dataSourceProperties.determineUrl();\n</code></pre>\n"}],"owner":{"account_id":21091791,"reputation":45,"user_id":15503530,"display_name":"tricks. com"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5953,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75244901,"answer_count":2,"score":0,"last_activity_date":1674729044,"creation_date":1656963845,"question_id":72861373,"body_markdown":"I am a beginner at developing. \r\n\r\n**How to get&quot;spring.datasource.url=&quot; for application.properties?**\r\n\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\n**application.properties**\r\n\r\n   \r\n\r\n     spring.datasource.url=jdbc:mysql://localhost:3306/sms?useSSL=fals&amp;serverTimezone=UTC&amp;useLegacyDatetimecode=false\r\n    spring.datasource.username=root\r\n    spring.datasource.password=123123\r\n    \r\n    #Hibernate\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\n    \r\n    #Hibernate auto ddl\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    \r\n    logging.level.org.hibernate.SQL=DEBUG\r\n\r\nMy Database\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W5YyA.png\r\n  [2]: https://i.stack.imgur.com/7xwuZ.png","title":"How to find &quot;spring.datasource.url=&quot; for application.properties?","body":"<p>I am a beginner at developing.</p>\n<p><strong>How to get&quot;spring.datasource.url=&quot; for application.properties?</strong></p>\n<p><a href=\"https://i.stack.imgur.com/W5YyA.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><strong>application.properties</strong></p>\n<pre><code> spring.datasource.url=jdbc:mysql://localhost:3306/sms?useSSL=fals&amp;serverTimezone=UTC&amp;useLegacyDatetimecode=false\nspring.datasource.username=root\nspring.datasource.password=123123\n\n#Hibernate\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\n\n#Hibernate auto ddl\nspring.jpa.hibernate.ddl-auto=update\n\nlogging.level.org.hibernate.SQL=DEBUG\n</code></pre>\n<p>My Database\n<a href=\"https://i.stack.imgur.com/7xwuZ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","javafx","jfreechart","geotools","jfreechart-fx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1669734203,"post_id":74611431,"comment_id":131706897,"body_markdown":"I would recommend using a custom wrapper pane to make the canvas resizable, instead of binding the width and height properties. See https://stackoverflow.com/a/31761362/2189127 for an example. I don&#39;t know the other libraries, so I can&#39;t really tell easily if this will solve the issue.","body":"I would recommend using a custom wrapper pane to make the canvas resizable, instead of binding the width and height properties. See <a href=\"https://stackoverflow.com/a/31761362/2189127\">stackoverflow.com/a/31761362/2189127</a> for an example. I don&#39;t know the other libraries, so I can&#39;t really tell easily if this will solve the issue."},{"owner":{"account_id":27074997,"reputation":1,"user_id":20625075,"display_name":"Elyas Tigre"},"score":0,"creation_date":1669735711,"post_id":74611431,"comment_id":131707515,"body_markdown":"I used your solution in my main solution and it doesn&#39;t solve the issue. The issue is mainly because of FXGraphics2D and geotool&#39;s StreamingRenderer","body":"I used your solution in my main solution and it doesn&#39;t solve the issue. The issue is mainly because of FXGraphics2D and geotool&#39;s StreamingRenderer"}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1669719659,"creation_date":1669719659,"answer_id":74613003,"question_id":74611431,"body_markdown":"Resizing a canvas can be tricky in JavaFX. Here is a SO answer which may be helpful for you.\r\nhttps://stackoverflow.com/questions/31761361/automatically-resize-canvas-to-fill-the-enclosing-parent/53247942#53247942","title":"Problem with resizing a canvas with FXGraphics2D and StreamingRenderer","body":"<p>Resizing a canvas can be tricky in JavaFX. Here is a SO answer which may be helpful for you.\n<a href=\"https://stackoverflow.com/questions/31761361/automatically-resize-canvas-to-fill-the-enclosing-parent/53247942#53247942\">Automatically resize Canvas to fill the enclosing Parent</a></p>\n"},{"tags":[],"owner":{"account_id":27074997,"reputation":1,"user_id":20625075,"display_name":"Elyas Tigre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674728978,"creation_date":1674728978,"answer_id":75244889,"question_id":74611431,"body_markdown":"I finally found a fix ! \r\nAs mentionned in geotools&#39; StreamingRenderer code :\r\n\r\n&gt; &quot;the way this thing is built is a mess if you try to use it in a\r\n&gt; multithreaded environment&quot;\r\n\r\nAvoid using StreamingRenderer in an AnimationLoop, Platform.runLater(), etc... \r\nI called the draw function everytime the map was updated instead, and it works as expected ! :)","title":"Problem with resizing a canvas with FXGraphics2D and StreamingRenderer","body":"<p>I finally found a fix !\nAs mentionned in geotools' StreamingRenderer code :</p>\n<blockquote>\n<p>&quot;the way this thing is built is a mess if you try to use it in a\nmultithreaded environment&quot;</p>\n</blockquote>\n<p>Avoid using StreamingRenderer in an AnimationLoop, Platform.runLater(), etc...\nI called the draw function everytime the map was updated instead, and it works as expected ! :)</p>\n"}],"owner":{"account_id":27074997,"reputation":1,"user_id":20625075,"display_name":"Elyas Tigre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75244889,"answer_count":2,"score":0,"last_activity_date":1674728978,"creation_date":1669712321,"question_id":74611431,"body_markdown":"I&#39;m in the same situation as here : https://sourceforge.net/p/geotools/mailman/message/35977998/\r\n\r\nI am working on a Maps Application using geotools (WMS + WFS for grids) and resizing my JavaFX Canvas works well when I am reducing the size of the canvas, but a part of the image is not rendered when I expend my window (the canvas is expended too).\r\n\r\nIs there a solution ? \r\n\r\nI&#39;m posting the same example as the one in the link above : \r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Rectangle;\r\n\r\nimport org.geotools.feature.DefaultFeatureCollection;\r\nimport org.geotools.feature.simple.SimpleFeatureBuilder;\r\nimport org.geotools.feature.simple.SimpleFeatureTypeBuilder;\r\nimport org.geotools.geometry.jts.JTSFactoryFinder;\r\nimport org.geotools.geometry.jts.ReferencedEnvelope;\r\nimport org.geotools.map.FeatureLayer;\r\nimport org.geotools.map.Layer;\r\nimport org.geotools.map.MapContent;\r\nimport org.geotools.referencing.crs.DefaultGeographicCRS;\r\nimport org.geotools.renderer.lite.StreamingRenderer;\r\nimport org.geotools.styling.SLD;\r\nimport org.geotools.styling.Style;\r\nimport org.jfree.fx.FXGraphics2D;\r\nimport org.opengis.feature.simple.SimpleFeature;\r\nimport org.opengis.feature.simple.SimpleFeatureType;\r\n\r\nimport com.vividsolutions.jts.geom.Coordinate;\r\nimport com.vividsolutions.jts.geom.GeometryFactory;\r\nimport com.vividsolutions.jts.geom.LineString;\r\n\r\nimport javafx.animation.AnimationTimer;\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.canvas.Canvas;\r\nimport javafx.scene.canvas.GraphicsContext;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class ResizingTest extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n\r\n        Canvas canvas = new Canvas(640, 480);\r\n        BorderPane root = new BorderPane(canvas);\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n        // Create bindings for resizing.\r\n        canvas.widthProperty().bind(root.widthProperty());\r\n        canvas.heightProperty().bind(root.heightProperty());\r\n\r\n        SimpleFeatureTypeBuilder lineFeatureTypeBuilder = new\r\nSimpleFeatureTypeBuilder();\r\n        lineFeatureTypeBuilder.setName(&quot;LineFeatureType&quot;);\r\n        lineFeatureTypeBuilder.setCRS(DefaultGeographicCRS.WGS84);\r\n        lineFeatureTypeBuilder.add(&quot;the_geom&quot;, LineString.class,\r\nDefaultGeographicCRS.WGS84);\r\n        SimpleFeatureType lineFeatureType = lineFeatureTypeBuilder.buildFe\r\natureType();\r\n        SimpleFeatureBuilder lineFeatureBuilder = new\r\nSimpleFeatureBuilder(lineFeatureType);\r\n\r\n        DefaultFeatureCollection lines = new DefaultFeatureCollection();\r\n\r\n        Coordinate[][] cs = {\r\n                { new Coordinate(-1, 42), new Coordinate(4, 46) },\r\n                { new Coordinate(-1, 46), new Coordinate(4, 42) }\r\n        };\r\n\r\n        GeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFa\r\nctory();\r\n        for(Coordinate [] c : cs) {\r\n            LineString line = geometryFactory.createLineString(c);\r\n            lineFeatureBuilder.add(line);\r\n            SimpleFeature feature = lineFeatureBuilder.buildFeature(null);\r\n            lines.add(feature);\r\n        }\r\n\r\n        MapContent map = new MapContent();\r\n        Style style = SLD.createLineStyle(Color.RED, 1);\r\n        Layer layer = new FeatureLayer(lines, style);\r\n        map.addLayer(layer);\r\n        //map.getViewport().setBounds(new ReferencedEnvelope(-1, 4, 42, 46,\r\nDefaultGeographicCRS.WGS84));\r\n\r\n        AnimationTimer loop = new AnimationTimer() {\r\n            @Override\r\n            public void handle(long now) {\r\n                GraphicsContext g = canvas.getGraphicsContext2D();\r\n                FXGraphics2D graphics = new FXGraphics2D(g);\r\n                graphics.setBackground(java.awt.Color.BLUE);\r\n                Rectangle rectangle = new Rectangle( (int)\r\ncanvas.getWidth(), (int) canvas.getHeight());\r\n                graphics.clearRect(0, 0, (int) rectangle.getWidth(), (int)\r\nrectangle.getHeight());\r\n                graphics.drawRect(100, 100, 100, 100);\r\n                map.getViewport().setScreenArea(rectangle); // Necessary ?\r\n                StreamingRenderer renderer = new StreamingRenderer();\r\n                renderer.setMapContent(map);\r\n                renderer.paint(graphics, rectangle,\r\nmap.getViewport().getBounds());\r\n                System.out.println(&quot;ScreenArea: &quot; +\r\nmap.getViewport().getScreenArea() + &quot; - Viewport: &quot; +\r\nmap.getViewport().getBounds());\r\n            }\r\n        };\r\n        loop.start();\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nWhen we expand the window, a part of the canvas is not rendered anymore, resulting on a &quot;correct&quot; cross (because it still goes from upper left to lower right corner), but cropped ! Anything drawn on the cropped part is not rendered\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Edit :**\r\n\r\nI am not trying to make the canvas resizable, it already is (Proof : The cross goes from upper left to lower right pixel of canvas). The real issue is the rendering of the map that is cropped (we can&#39;t see the full cross).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g0A30.png","title":"Problem with resizing a canvas with FXGraphics2D and StreamingRenderer","body":"<p>I'm in the same situation as here : <a href=\"https://sourceforge.net/p/geotools/mailman/message/35977998/\" rel=\"nofollow noreferrer\">https://sourceforge.net/p/geotools/mailman/message/35977998/</a></p>\n<p>I am working on a Maps Application using geotools (WMS + WFS for grids) and resizing my JavaFX Canvas works well when I am reducing the size of the canvas, but a part of the image is not rendered when I expend my window (the canvas is expended too).</p>\n<p>Is there a solution ?</p>\n<p>I'm posting the same example as the one in the link above :</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Rectangle;\n\nimport org.geotools.feature.DefaultFeatureCollection;\nimport org.geotools.feature.simple.SimpleFeatureBuilder;\nimport org.geotools.feature.simple.SimpleFeatureTypeBuilder;\nimport org.geotools.geometry.jts.JTSFactoryFinder;\nimport org.geotools.geometry.jts.ReferencedEnvelope;\nimport org.geotools.map.FeatureLayer;\nimport org.geotools.map.Layer;\nimport org.geotools.map.MapContent;\nimport org.geotools.referencing.crs.DefaultGeographicCRS;\nimport org.geotools.renderer.lite.StreamingRenderer;\nimport org.geotools.styling.SLD;\nimport org.geotools.styling.Style;\nimport org.jfree.fx.FXGraphics2D;\nimport org.opengis.feature.simple.SimpleFeature;\nimport org.opengis.feature.simple.SimpleFeatureType;\n\nimport com.vividsolutions.jts.geom.Coordinate;\nimport com.vividsolutions.jts.geom.GeometryFactory;\nimport com.vividsolutions.jts.geom.LineString;\n\nimport javafx.animation.AnimationTimer;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.canvas.GraphicsContext;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\npublic class ResizingTest extends Application {\n\n    @Override\n    public void start(Stage stage) {\n\n        Canvas canvas = new Canvas(640, 480);\n        BorderPane root = new BorderPane(canvas);\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n\n        // Create bindings for resizing.\n        canvas.widthProperty().bind(root.widthProperty());\n        canvas.heightProperty().bind(root.heightProperty());\n\n        SimpleFeatureTypeBuilder lineFeatureTypeBuilder = new\nSimpleFeatureTypeBuilder();\n        lineFeatureTypeBuilder.setName(&quot;LineFeatureType&quot;);\n        lineFeatureTypeBuilder.setCRS(DefaultGeographicCRS.WGS84);\n        lineFeatureTypeBuilder.add(&quot;the_geom&quot;, LineString.class,\nDefaultGeographicCRS.WGS84);\n        SimpleFeatureType lineFeatureType = lineFeatureTypeBuilder.buildFe\natureType();\n        SimpleFeatureBuilder lineFeatureBuilder = new\nSimpleFeatureBuilder(lineFeatureType);\n\n        DefaultFeatureCollection lines = new DefaultFeatureCollection();\n\n        Coordinate[][] cs = {\n                { new Coordinate(-1, 42), new Coordinate(4, 46) },\n                { new Coordinate(-1, 46), new Coordinate(4, 42) }\n        };\n\n        GeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFa\nctory();\n        for(Coordinate [] c : cs) {\n            LineString line = geometryFactory.createLineString(c);\n            lineFeatureBuilder.add(line);\n            SimpleFeature feature = lineFeatureBuilder.buildFeature(null);\n            lines.add(feature);\n        }\n\n        MapContent map = new MapContent();\n        Style style = SLD.createLineStyle(Color.RED, 1);\n        Layer layer = new FeatureLayer(lines, style);\n        map.addLayer(layer);\n        //map.getViewport().setBounds(new ReferencedEnvelope(-1, 4, 42, 46,\nDefaultGeographicCRS.WGS84));\n\n        AnimationTimer loop = new AnimationTimer() {\n            @Override\n            public void handle(long now) {\n                GraphicsContext g = canvas.getGraphicsContext2D();\n                FXGraphics2D graphics = new FXGraphics2D(g);\n                graphics.setBackground(java.awt.Color.BLUE);\n                Rectangle rectangle = new Rectangle( (int)\ncanvas.getWidth(), (int) canvas.getHeight());\n                graphics.clearRect(0, 0, (int) rectangle.getWidth(), (int)\nrectangle.getHeight());\n                graphics.drawRect(100, 100, 100, 100);\n                map.getViewport().setScreenArea(rectangle); // Necessary ?\n                StreamingRenderer renderer = new StreamingRenderer();\n                renderer.setMapContent(map);\n                renderer.paint(graphics, rectangle,\nmap.getViewport().getBounds());\n                System.out.println(&quot;ScreenArea: &quot; +\nmap.getViewport().getScreenArea() + &quot; - Viewport: &quot; +\nmap.getViewport().getBounds());\n            }\n        };\n        loop.start();\n\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n\n</code></pre>\n<p>When we expand the window, a part of the canvas is not rendered anymore, resulting on a &quot;correct&quot; cross (because it still goes from upper left to lower right corner), but cropped ! Anything drawn on the cropped part is not rendered</p>\n<p><a href=\"https://i.stack.imgur.com/g0A30.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g0A30.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Edit :</strong></p>\n<p>I am not trying to make the canvas resizable, it already is (Proof : The cross goes from upper left to lower right pixel of canvas). The real issue is the rendering of the map that is cropped (we can't see the full cross).</p>\n"},{"tags":["java","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1674584683,"post_id":75225577,"comment_id":132743877,"body_markdown":"if you have the same dropdown (with the same items) on several pages, then perhaps you can place it in a thymeleaf fragment and include that fragment wherever needed. This way, if you ever need to change that dropdown you can do it in one, instead of, several places.","body":"if you have the same dropdown (with the same items) on several pages, then perhaps you can place it in a thymeleaf fragment and include that fragment wherever needed. This way, if you ever need to change that dropdown you can do it in one, instead of, several places."},{"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"score":0,"creation_date":1674588232,"post_id":75225577,"comment_id":132744945,"body_markdown":"it make sense but how could I pass the data to the fragment without having to call the dropdown service on each controller page? is it possible?","body":"it make sense but how could I pass the data to the fragment without having to call the dropdown service on each controller page? is it possible?"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1674638505,"post_id":75225577,"comment_id":132755060,"body_markdown":"does your dropdown contain dynamic data, which change between different pages? If so, than you&#39;ll obviously have to call the dropdown service for every page.","body":"does your dropdown contain dynamic data, which change between different pages? If so, than you&#39;ll obviously have to call the dropdown service for every page."},{"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"score":0,"creation_date":1674646098,"post_id":75225577,"comment_id":132757556,"body_markdown":"no it doesnt it is the same data","body":"no it doesnt it is the same data"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":1,"creation_date":1674647089,"post_id":75225577,"comment_id":132757810,"body_markdown":"if your data doesn&#39;t change, then perhaps you can store them in a session variable (javax.servlet.http.HttpSession), which can then be referenced from thymeleaf (e.g ${session.dropdownList} )","body":"if your data doesn&#39;t change, then perhaps you can store them in a session variable (javax.servlet.http.HttpSession), which can then be referenced from thymeleaf (e.g ${session.dropdownList} )"},{"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"score":0,"creation_date":1674655783,"post_id":75225577,"comment_id":132760858,"body_markdown":"oh that might work, thanks...any idea on how I could refresh the data? cause it is the same data for all pages but it is dynamic meaning that I could add new entries for the dropdown","body":"oh that might work, thanks...any idea on how I could refresh the data? cause it is the same data for all pages but it is dynamic meaning that I could add new entries for the dropdown"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1674656755,"post_id":75225577,"comment_id":132761214,"body_markdown":"no shortcuts here, you will have to call the dropdown service any time your data have changed.  So just update the session any time your data have changed.","body":"no shortcuts here, you will have to call the dropdown service any time your data have changed.  So just update the session any time your data have changed."},{"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"score":0,"creation_date":1674657344,"post_id":75225577,"comment_id":132761398,"body_markdown":"that data could be updated by other app/process, is there any place where I could hook my code to update the session?","body":"that data could be updated by other app/process, is there any place where I could hook my code to update the session?"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1674657718,"post_id":75225577,"comment_id":132761503,"body_markdown":"have a look here https://stackoverflow.com/questions/33911341/spring-getting-notified-on-db-changes. I haven&#39;t used any of these options myself","body":"have a look here <a href=\"https://stackoverflow.com/questions/33911341/spring-getting-notified-on-db-changes\" title=\"spring getting notified on db changes\">stackoverflow.com/questions/33911341/&hellip;</a>. I haven&#39;t used any of these options myself"},{"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"score":0,"creation_date":1674668417,"post_id":75225577,"comment_id":132765444,"body_markdown":"I was looking for something on the Spring lifecycle, the notification from db might work but it kinda defeat the purpose of easy maintainability of the dropdown I think I go with the code duplication approach since my app is not large enough for this complexity. Thanks for your inputs @dsp_user","body":"I was looking for something on the Spring lifecycle, the notification from db might work but it kinda defeat the purpose of easy maintainability of the dropdown I think I go with the code duplication approach since my app is not large enough for this complexity. Thanks for your inputs @dsp_user"},{"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"score":0,"creation_date":1674668577,"post_id":75225577,"comment_id":132765493,"body_markdown":"@dsp_user post your approach as an answer so we can help others","body":"@dsp_user post your approach as an answer so we can help others"}],"answers":[{"tags":[],"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674728955,"creation_date":1674728640,"answer_id":75244825,"question_id":75225577,"body_markdown":"In case when you have a dropdown, or any other html element for that matter, that needs to appear on several pages, it makes sense to place that element(s) inside a thymeleaf fragment so as to avoid code duplication. Not only do you avoid code duplication, but your code will become easier to maintain as well (because there&#39;s less code to maintain). \r\n\r\n    &lt;div  th:fragment=&quot;dropdownFragment&quot;&gt;\r\n    ....\r\n    &lt;select&gt; \r\n    &lt;th:block th:each=&quot;item : ${dropdownItems}&quot;&gt;\r\n      &lt;option th:value=&quot;${item}&quot; th:text=&quot;${item}&quot;&gt;&lt;/option&gt;\r\n    &lt;/th:block&gt;\r\n    &lt;/select&gt;\r\n    &lt;/div&gt;\r\n\r\nIn order to reduce the number of trips to the database, we should cache our data. Possibly the easiest way to do this is to make use of the built in HttpSession object (especially when our data is relatively small).The code might look something like\r\n\r\n       HttpSession session = request.getSession();\r\n      //code to retrive data from the db\r\n      session.setAttribute(&quot;dropdownItems&quot;, dropdownItems);\r\n\r\nThe session object can be referenced in thymeleaf as `#{session.some_object}` but this has been deprecated since Thymeleaf 3.1. For this reason, it&#39;s best to copy the session attribute into a Model (or ModelAndView) object, which can then be referenced as `${modelObject}`.\r\n\r\n    @GetMapping(&quot;/getItems&quot;)\r\n    public ModelAndView getDropdownItems(HttpSession session )\r\n      ModelAndView mv = new ModelAndView();\r\n      mv.setViewName(&quot;someView&quot;);\r\n     //this assumes that you already have a session with dropdownItemsattribute\r\n      mv.addObject(&quot;dropdownItems&quot;, session.getAttribute(&quot;dropddownItems&quot;));\r\n      return mv;\r\n     }\r\n     \r\nHope this helps.","title":"Dropdown used on multiple pages, should I componentize it?","body":"<p>In case when you have a dropdown, or any other html element for that matter, that needs to appear on several pages, it makes sense to place that element(s) inside a thymeleaf fragment so as to avoid code duplication. Not only do you avoid code duplication, but your code will become easier to maintain as well (because there's less code to maintain).</p>\n<pre><code>&lt;div  th:fragment=&quot;dropdownFragment&quot;&gt;\n....\n&lt;select&gt; \n&lt;th:block th:each=&quot;item : ${dropdownItems}&quot;&gt;\n  &lt;option th:value=&quot;${item}&quot; th:text=&quot;${item}&quot;&gt;&lt;/option&gt;\n&lt;/th:block&gt;\n&lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n<p>In order to reduce the number of trips to the database, we should cache our data. Possibly the easiest way to do this is to make use of the built in HttpSession object (especially when our data is relatively small).The code might look something like</p>\n<pre><code>   HttpSession session = request.getSession();\n  //code to retrive data from the db\n  session.setAttribute(&quot;dropdownItems&quot;, dropdownItems);\n</code></pre>\n<p>The session object can be referenced in thymeleaf as <code>#{session.some_object}</code> but this has been deprecated since Thymeleaf 3.1. For this reason, it's best to copy the session attribute into a Model (or ModelAndView) object, which can then be referenced as <code>${modelObject}</code>.</p>\n<pre><code>@GetMapping(&quot;/getItems&quot;)\npublic ModelAndView getDropdownItems(HttpSession session )\n  ModelAndView mv = new ModelAndView();\n  mv.setViewName(&quot;someView&quot;);\n //this assumes that you already have a session with dropdownItemsattribute\n  mv.addObject(&quot;dropdownItems&quot;, session.getAttribute(&quot;dropddownItems&quot;));\n  return mv;\n }\n \n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75244825,"answer_count":1,"score":0,"last_activity_date":1674728955,"creation_date":1674583971,"question_id":75225577,"body_markdown":"I got this dropdown that will be utilized on some pages and I am concerning if I should componentize it and include it on each page or if I call the dropdown service on each service that is needed. I building a spring mvc with thymeleaf","title":"Dropdown used on multiple pages, should I componentize it?","body":"<p>I got this dropdown that will be utilized on some pages and I am concerning if I should componentize it and include it on each page or if I call the dropdown service on each service that is needed. I building a spring mvc with thymeleaf</p>\n"},{"tags":["java","android","api","kotlin","openweathermap"],"comments":[{"owner":{"account_id":11181020,"reputation":4038,"user_id":8205099,"accept_rate":62,"display_name":"Wahdat Jan"},"score":0,"creation_date":1674725320,"post_id":75244137,"comment_id":132776382,"body_markdown":"try to print this t.printStackTrace()","body":"try to print this t.printStackTrace()"}],"answers":[{"tags":[],"owner":{"account_id":27608566,"reputation":41,"user_id":21072175,"display_name":"FabianoPE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674727674,"creation_date":1674727674,"answer_id":75244673,"question_id":75244137,"body_markdown":"I fixed it. I debugged it and then checked the error. First thing was that my phone had no internet connection and the second problem was that the baseurl was http:// and not https://","title":"OpenWeatherApi on Android Development failing(?)","body":"<p>I fixed it. I debugged it and then checked the error. First thing was that my phone had no internet connection and the second problem was that the baseurl was http:// and not https://</p>\n"},{"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674728835,"creation_date":1674728835,"answer_id":75244861,"question_id":75244137,"body_markdown":"Your base URL should start with https:// not with http:// additional information available [here][1]\r\n\r\n&gt; https://api.openweathermap.org/data/2.5/weather?lat={lat}&amp;lon={lon}&amp;appid={API\r\n&gt; key}\r\n\r\nand verify [this][2] with app \r\n\r\n\r\n  [1]: https://openweathermap.org/current\r\n  [2]: https://stackoverflow.com/a/50834600/18362930","title":"OpenWeatherApi on Android Development failing(?)","body":"<p>Your base URL should start with https:// not with http:// additional information available <a href=\"https://openweathermap.org/current\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p><a href=\"https://api.openweathermap.org/data/2.5/weather?lat=%7Blat%7D&amp;lon=%7Blon%7D&amp;appid=%7BAPI\" rel=\"nofollow noreferrer\">https://api.openweathermap.org/data/2.5/weather?lat={lat}&amp;lon={lon}&amp;appid={API</a>\nkey}</p>\n</blockquote>\n<p>and verify <a href=\"https://stackoverflow.com/a/50834600/18362930\">this</a> with app</p>\n"}],"owner":{"account_id":27608566,"reputation":41,"user_id":21072175,"display_name":"FabianoPE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674728835,"creation_date":1674724418,"question_id":75244137,"body_markdown":"So basically I am trying to build a mobile app, that displays the weather (and some other things), but I have some problems with the API. \r\n\r\nI&#39;ve tried for very long, fixing this, but nothing works.\r\n\r\nEverytime I run the app it says &quot;Failed to fetch data&quot; (obviously because I wanted it to print that when it fails) but I don&#39;t know why.\r\n\r\n```\r\npackage com.example.firsttry\r\n\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.widget.TextView\r\nimport com.google.gson.annotations.SerializedName\r\nimport retrofit2.Call\r\nimport retrofit2.Callback\r\nimport retrofit2.Response\r\nimport retrofit2.Retrofit\r\nimport retrofit2.converter.gson.GsonConverterFactory\r\nimport retrofit2.http.GET\r\nimport retrofit2.http.Query\r\nimport java.text.DateFormat\r\nimport java.util.*\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    var timer = Timer()\r\n    lateinit var dateTextView: TextView\r\n    lateinit var timeTextView: TextView\r\n    lateinit var temperatureTextView: TextView\r\n    var temperature:Double = 0.0\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        dateTextView = findViewById(R.id.xml_text_date)\r\n        timeTextView = findViewById(R.id.xml_text_time)\r\n        temperatureTextView = findViewById(R.id.xml_text_temperature)\r\n        val api = WeatherApi()\r\n        val call = api.getWeather(&quot;126a2ec583e6e38a9cbc5e8144c278c7&quot;, &quot;New York City&quot;)\r\n        call.enqueue(object : Callback&lt;WeatherResponse&gt; {\r\n            override fun onResponse(\r\n                call: Call&lt;WeatherResponse&gt;,\r\n                response: Response&lt;WeatherResponse&gt;\r\n            ) {\r\n                if (response.isSuccessful) {\r\n                    val weather = response.body()\r\n                    val temp = weather?.temperature?.temp\r\n                    if (temp != null) {\r\n                        val temperature = temp - 273.15\r\n                        temperatureTextView.text = temperature.toString() + &quot;&#176;C&quot;\r\n                    } else {\r\n                        temperatureTextView.text = &quot;Temperature Data not available&quot;\r\n                    }\r\n                    // do something with weather data\r\n                } else {\r\n                    temperatureTextView.text = &quot;Error Occurred&quot;// handle error\r\n                }\r\n                response.body().toString()\r\n            }\r\n\r\n            override fun onFailure(call: Call&lt;WeatherResponse&gt;, t: Throwable) {\r\n                temperatureTextView.text = &quot;Failed to fetch data&quot;\r\n                t.printStackTrace()\r\n                // handle failure\r\n            }\r\n        })\r\n        timer.scheduleAtFixedRate(object : TimerTask() {\r\n            override fun run() {\r\n                runOnUiThread { updateTime() }\r\n            }\r\n        }, 0, 1000)\r\n    }\r\n    fun updateTime() {\r\n        val calendar = Calendar.getInstance().time\r\n        val dateFormat = DateFormat.getDateInstance(DateFormat.FULL).format(calendar)\r\n        val timeFormat = DateFormat.getTimeInstance().format(calendar)\r\n        dateTextView.text = dateFormat\r\n        timeTextView.text = timeFormat\r\n    }\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n        timer.cancel()\r\n    }}\r\nclass WeatherResponse {\r\n    @SerializedName(&quot;name&quot;)\r\n    val cityName: String? = null\r\n\r\n    @SerializedName(&quot;main&quot;)\r\n    val temperature: Temperature? = null\r\n}\r\nclass Temperature {\r\n    @SerializedName(&quot;temp&quot;)\r\n    val temp: Double? = null\r\n}\r\nclass WeatherApi {\r\n    private val retrofit = Retrofit.Builder()\r\n        .baseUrl(&quot;http://api.openweathermap.org/&quot;)\r\n        .addConverterFactory(GsonConverterFactory.create())\r\n        .build()\r\n\r\n    fun getWeather(apiKey: String, city: String): Call&lt;WeatherResponse&gt; {\r\n        val service = retrofit.create(WeatherService::class.java)\r\n        return service.getWeather(apiKey, city)\r\n    }\r\n}\r\ninterface WeatherService {\r\n    @GET(&quot;data/2.5/weather&quot;)\r\n    fun getWeather(\r\n        @Query(&quot;appid&quot;) apiKey: String,\r\n        @Query(&quot;q&quot;) city: String\r\n    ): Call&lt;WeatherResponse&gt;\r\n}\r\n```\r\n\r\nCan anyone find any errors I did? ","title":"OpenWeatherApi on Android Development failing(?)","body":"<p>So basically I am trying to build a mobile app, that displays the weather (and some other things), but I have some problems with the API.</p>\n<p>I've tried for very long, fixing this, but nothing works.</p>\n<p>Everytime I run the app it says &quot;Failed to fetch data&quot; (obviously because I wanted it to print that when it fails) but I don't know why.</p>\n<pre><code>package com.example.firsttry\n\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.TextView\nimport com.google.gson.annotations.SerializedName\nimport retrofit2.Call\nimport retrofit2.Callback\nimport retrofit2.Response\nimport retrofit2.Retrofit\nimport retrofit2.converter.gson.GsonConverterFactory\nimport retrofit2.http.GET\nimport retrofit2.http.Query\nimport java.text.DateFormat\nimport java.util.*\n\nclass MainActivity : AppCompatActivity() {\n    var timer = Timer()\n    lateinit var dateTextView: TextView\n    lateinit var timeTextView: TextView\n    lateinit var temperatureTextView: TextView\n    var temperature:Double = 0.0\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        dateTextView = findViewById(R.id.xml_text_date)\n        timeTextView = findViewById(R.id.xml_text_time)\n        temperatureTextView = findViewById(R.id.xml_text_temperature)\n        val api = WeatherApi()\n        val call = api.getWeather(&quot;126a2ec583e6e38a9cbc5e8144c278c7&quot;, &quot;New York City&quot;)\n        call.enqueue(object : Callback&lt;WeatherResponse&gt; {\n            override fun onResponse(\n                call: Call&lt;WeatherResponse&gt;,\n                response: Response&lt;WeatherResponse&gt;\n            ) {\n                if (response.isSuccessful) {\n                    val weather = response.body()\n                    val temp = weather?.temperature?.temp\n                    if (temp != null) {\n                        val temperature = temp - 273.15\n                        temperatureTextView.text = temperature.toString() + &quot;°C&quot;\n                    } else {\n                        temperatureTextView.text = &quot;Temperature Data not available&quot;\n                    }\n                    // do something with weather data\n                } else {\n                    temperatureTextView.text = &quot;Error Occurred&quot;// handle error\n                }\n                response.body().toString()\n            }\n\n            override fun onFailure(call: Call&lt;WeatherResponse&gt;, t: Throwable) {\n                temperatureTextView.text = &quot;Failed to fetch data&quot;\n                t.printStackTrace()\n                // handle failure\n            }\n        })\n        timer.scheduleAtFixedRate(object : TimerTask() {\n            override fun run() {\n                runOnUiThread { updateTime() }\n            }\n        }, 0, 1000)\n    }\n    fun updateTime() {\n        val calendar = Calendar.getInstance().time\n        val dateFormat = DateFormat.getDateInstance(DateFormat.FULL).format(calendar)\n        val timeFormat = DateFormat.getTimeInstance().format(calendar)\n        dateTextView.text = dateFormat\n        timeTextView.text = timeFormat\n    }\n    override fun onDestroy() {\n        super.onDestroy()\n        timer.cancel()\n    }}\nclass WeatherResponse {\n    @SerializedName(&quot;name&quot;)\n    val cityName: String? = null\n\n    @SerializedName(&quot;main&quot;)\n    val temperature: Temperature? = null\n}\nclass Temperature {\n    @SerializedName(&quot;temp&quot;)\n    val temp: Double? = null\n}\nclass WeatherApi {\n    private val retrofit = Retrofit.Builder()\n        .baseUrl(&quot;http://api.openweathermap.org/&quot;)\n        .addConverterFactory(GsonConverterFactory.create())\n        .build()\n\n    fun getWeather(apiKey: String, city: String): Call&lt;WeatherResponse&gt; {\n        val service = retrofit.create(WeatherService::class.java)\n        return service.getWeather(apiKey, city)\n    }\n}\ninterface WeatherService {\n    @GET(&quot;data/2.5/weather&quot;)\n    fun getWeather(\n        @Query(&quot;appid&quot;) apiKey: String,\n        @Query(&quot;q&quot;) city: String\n    ): Call&lt;WeatherResponse&gt;\n}\n</code></pre>\n<p>Can anyone find any errors I did?</p>\n"},{"tags":["java","rest","multipartform-data"],"comments":[{"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"score":0,"creation_date":1674049078,"post_id":75159924,"comment_id":132631389,"body_markdown":"not really clear what you are asking. If you have the content of the file in the `data` variable do you want to write that to disk on the server?","body":"not really clear what you are asking. If you have the content of the file in the <code>data</code> variable do you want to write that to disk on the server?"},{"owner":{"account_id":9095281,"reputation":47,"user_id":6769467,"display_name":"Amol"},"score":0,"creation_date":1674049212,"post_id":75159924,"comment_id":132631451,"body_markdown":"I am getting the content in data variable but it is not readable as I am passing xlsx file. also there are lot more things in data variable. How can I only get the file content ?","body":"I am getting the content in data variable but it is not readable as I am passing xlsx file. also there are lot more things in data variable. How can I only get the file content ?"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1674050732,"post_id":75159924,"comment_id":132632007,"body_markdown":"try a byte array instead of String to read the request body","body":"try a byte array instead of String to read the request body"},{"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"score":1,"creation_date":1674127862,"post_id":75159924,"comment_id":132650698,"body_markdown":"Sounds like your problem is how to handle an xlsx file in java then, rather than how to updoad a file? Would be worth making it clear which problem you are trying to solve - reading an xlsx file in java, or constructing a controller that allows files to be uploaded. There are existing answers for both of these questions already elsewhere","body":"Sounds like your problem is how to handle an xlsx file in java then, rather than how to updoad a file? Would be worth making it clear which problem you are trying to solve - reading an xlsx file in java, or constructing a controller that allows files to be uploaded. There are existing answers for both of these questions already elsewhere"},{"owner":{"account_id":9095281,"reputation":47,"user_id":6769467,"display_name":"Amol"},"score":0,"creation_date":1674205669,"post_id":75159924,"comment_id":132668479,"body_markdown":"As I have mentioned, I am able to upload file from normal java class using HttpURLConnection class. Proble is I am not bale to retrieve it in the controller class.","body":"As I have mentioned, I am able to upload file from normal java class using HttpURLConnection class. Proble is I am not bale to retrieve it in the controller class."}],"answers":[{"tags":[],"owner":{"account_id":200481,"reputation":5195,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674051304,"creation_date":1674051304,"answer_id":75160585,"question_id":75159924,"body_markdown":"You really don&#39;t want to parse that yourself. Use the https://commons.apache.org/proper/commons-fileupload/\r\n\r\nThen you can just write.\r\n\r\n    DiskFileItemFactory factory = new DiskFileItemFactory();\r\n    ServletFileUpload upload = new ServletFileUpload(factory);\r\n    upload.setHeaderEncoding(&quot;UTF-8&quot;); // Might be needed, depending on exact setup.\r\n    java.util.List&lt;FileItem&gt; items = upload.parseRequest(request);\r\n\r\nAnd then items is the list of uploaded files.\r\n","title":"How do i parse content sent from multipart/form-data request to get file in java?","body":"<p>You really don't want to parse that yourself. Use the <a href=\"https://commons.apache.org/proper/commons-fileupload/\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-fileupload/</a></p>\n<p>Then you can just write.</p>\n<pre><code>DiskFileItemFactory factory = new DiskFileItemFactory();\nServletFileUpload upload = new ServletFileUpload(factory);\nupload.setHeaderEncoding(&quot;UTF-8&quot;); // Might be needed, depending on exact setup.\njava.util.List&lt;FileItem&gt; items = upload.parseRequest(request);\n</code></pre>\n<p>And then items is the list of uploaded files.</p>\n"},{"tags":[],"owner":{"account_id":9095281,"reputation":47,"user_id":6769467,"display_name":"Amol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674728179,"creation_date":1674724410,"answer_id":75244136,"question_id":75159924,"body_markdown":"Here is my answer. I have used org.glassfish.jersey.media.multipart.MultiPart on client side.\r\n```\r\n\tClient client = ClientBuilder.newBuilder().register(MultiPartFeature.class).build();\r\n\t\t    WebTarget webTarget = client.target(chess.getMfgRequestURL() + &quot;/createRequest&quot;)\r\n\t\t\t\t\t.queryParam(&quot;id&quot;, sRequestId)\r\n\t\t\t\t\t.queryParam(&quot;lastModified&quot;, sLastUpdated);\r\n\t\t    \r\n\t\t    FileDataBodyPart fileDataBodyPart = new FileDataBodyPart(&quot;file&quot;,\r\n\t\t    \t\tfile, MediaType.APPLICATION_OCTET_STREAM_TYPE);\r\n\t\t    @SuppressWarnings(&quot;resource&quot;)\r\n\t\t\tMultiPart multiPart = new FormDataMultiPart()\r\n\t\t            .field(&quot;json&quot;, jsonObj, MediaType.APPLICATION_JSON_TYPE) // json goes here\r\n\t\t            .bodyPart(fileDataBodyPart); // file goes here\r\n\t\t    \r\n\t\t    multiPart.bodyPart(fileDataBodyPart);\r\n\t\t    \r\n\t\t    Response response = webTarget.request(MediaType.APPLICATION_JSON_TYPE)\r\n\t\t    \t      .post(Entity.entity(multiPart, multiPart.getMediaType()));\r\n```\r\n\r\nOn server side, this is how I have parsed:\r\n\r\n```\r\n @POST\r\n    @Path(&quot;/createRequest&quot;)\r\n    @Consumes(&quot;multipart/form-data&quot;)\r\n    public Response createRequest(@Context HttpServletRequest request,  @Multipart InputStream uploadedInputStream) throws Exception {\r\n        JsonObjectBuilder requestBuilder = null;\r\n        try {\r\n            \r\n            String tempDir = &quot;C:\\\\Users&quot;;\r\n            String filename = &quot;test.xlsx&quot;;\r\n\r\n            File checkinFile = new File(tempDir, filename);\r\n            OutputStream out = new FileOutputStream(checkinFile);\r\n            IOUtils.copyStream(uploadedInputStream, out);        \r\n        }catch (Exception e) {\r\n            String errorMessage = e.getMessage();\r\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(errorMessage).build();\r\n        }\r\n```\r\n","title":"How do i parse content sent from multipart/form-data request to get file in java?","body":"<p>Here is my answer. I have used org.glassfish.jersey.media.multipart.MultiPart on client side.</p>\n<pre><code>    Client client = ClientBuilder.newBuilder().register(MultiPartFeature.class).build();\n            WebTarget webTarget = client.target(chess.getMfgRequestURL() + &quot;/createRequest&quot;)\n                    .queryParam(&quot;id&quot;, sRequestId)\n                    .queryParam(&quot;lastModified&quot;, sLastUpdated);\n            \n            FileDataBodyPart fileDataBodyPart = new FileDataBodyPart(&quot;file&quot;,\n                    file, MediaType.APPLICATION_OCTET_STREAM_TYPE);\n            @SuppressWarnings(&quot;resource&quot;)\n            MultiPart multiPart = new FormDataMultiPart()\n                    .field(&quot;json&quot;, jsonObj, MediaType.APPLICATION_JSON_TYPE) // json goes here\n                    .bodyPart(fileDataBodyPart); // file goes here\n            \n            multiPart.bodyPart(fileDataBodyPart);\n            \n            Response response = webTarget.request(MediaType.APPLICATION_JSON_TYPE)\n                      .post(Entity.entity(multiPart, multiPart.getMediaType()));\n</code></pre>\n<p>On server side, this is how I have parsed:</p>\n<pre><code> @POST\n    @Path(&quot;/createRequest&quot;)\n    @Consumes(&quot;multipart/form-data&quot;)\n    public Response createRequest(@Context HttpServletRequest request,  @Multipart InputStream uploadedInputStream) throws Exception {\n        JsonObjectBuilder requestBuilder = null;\n        try {\n            \n            String tempDir = &quot;C:\\\\Users&quot;;\n            String filename = &quot;test.xlsx&quot;;\n\n            File checkinFile = new File(tempDir, filename);\n            OutputStream out = new FileOutputStream(checkinFile);\n            IOUtils.copyStream(uploadedInputStream, out);        \n        }catch (Exception e) {\n            String errorMessage = e.getMessage();\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(errorMessage).build();\n        }\n</code></pre>\n"}],"owner":{"account_id":9095281,"reputation":47,"user_id":6769467,"display_name":"Amol"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75244136,"answer_count":2,"score":1,"last_activity_date":1674728179,"creation_date":1674048322,"question_id":75159924,"body_markdown":"I am sending a HttpURLConnection request to server and trying to send a file. I am able to send file from client side but not sure how can i parse it on the server side. \r\n\r\nMy code on client side is below.\r\n\r\n```\r\nprivate void createRequestInCHESS(String sRequestId, String sLastUpdated) {\r\n\t\tString boundary =  &quot;xyz&quot;;\r\n\t\tString crlf = &quot;\\r\\n&quot;;\r\n\t\tString twoHyphens = &quot;--&quot;;\r\n\t\tString attachmentName = &quot;file&quot;;\r\n\t\tString attachmentFileName = &quot;testFile.xlsx&quot;;\r\n\t\ttry {\r\n\t\t\tFile file = new File(&quot;c:\\\\MFGREQ-7.xlsx&quot;);\r\n\t\t\tURL url = new URL(chess.getMfgRequestURL() + &quot;/createRequest&quot;);\r\n\t\t\tHttpURLConnection httpConnecton = (HttpURLConnection) url.openConnection();\r\n\t\t\thttpConnecton.setRequestMethod(REQUEST_METHOD_POST);\r\n\t\t\thttpConnecton.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\t\thttpConnecton.setRequestProperty(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n\t\t\thttpConnecton.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data;boundary=&quot; + boundary);\r\n\t\t\thttpConnecton.setRequestProperty(&quot;id&quot;, sRequestId);\r\n\t\t\thttpConnecton.setRequestProperty(&quot;lastModified&quot;, sLastUpdated);\t\t\r\n\t\t\t\t\t\t\r\n\t\t\thttpConnecton.setDoOutput(true);\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tDataOutputStream outStream = new DataOutputStream(httpConnecton.getOutputStream());\r\n\t\t\toutStream.writeBytes(twoHyphens + boundary + crlf);\r\n\t\t\toutStream.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;&quot; +\r\n\t\t\t    attachmentName + &quot;\\&quot;;filename=\\&quot;&quot; + attachmentFileName + &quot;\\&quot;&quot; + crlf);\r\n\t\t\toutStream.writeBytes(crlf);\r\n\t\t\t\r\n\t\t\tbyte[] bytes = Files.readAllBytes(file.toPath());\r\n\t\t\toutStream.write(bytes);\r\n\t\t\t\r\n\t\t\toutStream.flush();\r\n\t\t\toutStream.close();\r\n\t\t\tgetResponseString(httpConnecton);\r\n\t\t\t\r\n\t\t} catch (MalformedURLException me) {\r\n\t\t\tme.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nserver side code is given below. What can I use to retrive file sent from request.\r\n\r\n```\r\n@POST\r\n    @Path(&quot;/createRequest&quot;)\r\n    public Response createRequest(@Context HttpServletRequest request) {\r\n\r\n        try(BufferedReader reader = new BufferedReader(\r\n                new InputStreamReader(request.getInputStream()))) {             \r\n            StringBuilder sbPayload = new StringBuilder();\r\n            String sLine;\r\n            while ((sLine = reader.readLine()) != null) {\r\n                sbPayload.append(sLine);\r\n                sbPayload.append(System.lineSeparator());\r\n            }\r\n\r\n            String data = sbPayload.toString();\r\n\r\n          // how do i retrieve file here ?\r\n\r\n}\r\n```","title":"How do i parse content sent from multipart/form-data request to get file in java?","body":"<p>I am sending a HttpURLConnection request to server and trying to send a file. I am able to send file from client side but not sure how can i parse it on the server side.</p>\n<p>My code on client side is below.</p>\n<pre><code>private void createRequestInCHESS(String sRequestId, String sLastUpdated) {\n        String boundary =  &quot;xyz&quot;;\n        String crlf = &quot;\\r\\n&quot;;\n        String twoHyphens = &quot;--&quot;;\n        String attachmentName = &quot;file&quot;;\n        String attachmentFileName = &quot;testFile.xlsx&quot;;\n        try {\n            File file = new File(&quot;c:\\\\MFGREQ-7.xlsx&quot;);\n            URL url = new URL(chess.getMfgRequestURL() + &quot;/createRequest&quot;);\n            HttpURLConnection httpConnecton = (HttpURLConnection) url.openConnection();\n            httpConnecton.setRequestMethod(REQUEST_METHOD_POST);\n            httpConnecton.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n            httpConnecton.setRequestProperty(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\n            httpConnecton.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data;boundary=&quot; + boundary);\n            httpConnecton.setRequestProperty(&quot;id&quot;, sRequestId);\n            httpConnecton.setRequestProperty(&quot;lastModified&quot;, sLastUpdated);     \n                        \n            httpConnecton.setDoOutput(true);\n                \n            \n            \n            DataOutputStream outStream = new DataOutputStream(httpConnecton.getOutputStream());\n            outStream.writeBytes(twoHyphens + boundary + crlf);\n            outStream.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;&quot; +\n                attachmentName + &quot;\\&quot;;filename=\\&quot;&quot; + attachmentFileName + &quot;\\&quot;&quot; + crlf);\n            outStream.writeBytes(crlf);\n            \n            byte[] bytes = Files.readAllBytes(file.toPath());\n            outStream.write(bytes);\n            \n            outStream.flush();\n            outStream.close();\n            getResponseString(httpConnecton);\n            \n        } catch (MalformedURLException me) {\n            me.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>server side code is given below. What can I use to retrive file sent from request.</p>\n<pre><code>@POST\n    @Path(&quot;/createRequest&quot;)\n    public Response createRequest(@Context HttpServletRequest request) {\n\n        try(BufferedReader reader = new BufferedReader(\n                new InputStreamReader(request.getInputStream()))) {             \n            StringBuilder sbPayload = new StringBuilder();\n            String sLine;\n            while ((sLine = reader.readLine()) != null) {\n                sbPayload.append(sLine);\n                sbPayload.append(System.lineSeparator());\n            }\n\n            String data = sbPayload.toString();\n\n          // how do i retrieve file here ?\n\n}\n</code></pre>\n"},{"tags":["java","javac","annotation-processing","annotation-processor"],"comments":[{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1674730262,"post_id":75244678,"comment_id":132777941,"body_markdown":"Probably not possible, the documentation, at least for Java 8, says implicitly compiled files aren&#39;t subject to annotation processing, and there doesn&#39;t seem to be any option to make them subject, other than specifiying them explicitely. See https://stackoverflow.com/questions/23520975/can-someone-provide-an-example-of-how-javacs-implicit-option-works","body":"Probably not possible, the documentation, at least for Java 8, says implicitly compiled files aren&#39;t subject to annotation processing, and there doesn&#39;t seem to be any option to make them subject, other than specifiying them explicitely. See <a href=\"https://stackoverflow.com/questions/23520975/can-someone-provide-an-example-of-how-javacs-implicit-option-works\" title=\"can someone provide an example of how javacs implicit option works\">stackoverflow.com/questions/23520975/&hellip;</a>"}],"owner":{"account_id":23234,"reputation":34600,"user_id":58082,"accept_rate":78,"display_name":"Pierre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674727686,"creation_date":1674727686,"question_id":75244678,"body_markdown":"I wrote an annotation processor (to copy some java sources in my compiling directory). I was surprised to see that only the files specified on the `javac` command line are processed by my annotation processor. I&#39;m obviously missing something.\r\n\r\nHere is a minimal example:\r\n\r\nsandbox.Aproc:\r\n```\r\n(...)\r\n@SupportedSourceVersion(SourceVersion.RELEASE_8)\r\npublic class AProc extends AbstractProcessor{\t\r\n\t@Override\r\n\tpublic Set&lt;String&gt; getSupportedAnnotationTypes() {\r\n\t\treturn Arrays.asList( Include.class ).stream().\r\n\t\t\tmap(C-&gt;C.getName()).\r\n\t\t\tcollect(Collectors.toSet())\r\n\t\t\t;\r\n\t\t}\r\n\t\r\n\tprivate void copySource(final javax.lang.model.element.Element element)\r\n\t\t{\r\n\t\tif(element==null || element.getKind()!=ElementKind.CLASS) return;\r\n\t\tfinal String thisDir = System.getProperty(&quot;user.dir&quot;);\r\n\t\tSystem.err.println(&quot;##Visit &quot; + element);\r\n        (...)\r\n\t\t}\r\n\t\r\n\t@Override\r\n\tpublic boolean process(final Set&lt;? extends TypeElement&gt; annotations,\r\n\t\tfinal RoundEnvironment roundEnv\r\n\t\t) {\t\t\t\t\r\n\t\troundEnv.getElementsAnnotatedWith(Include.class).stream().\r\n\t\t\tfilter(E-&gt;E.getKind()==ElementKind.CLASS).\r\n\t\t\tfilter(E-&gt; E.getAnnotation(Include.class) !=null).\r\n\t\t\tforEach(E-&gt;{\t\t\t\t\t\r\n\t\t\t\tcopySource(E);\r\n\t\t\t\t});\r\n\t\t\r\n\t\treturn true;\r\n\t   }\r\n    }\r\n```\r\n\r\n\r\nsandbox/Test.java This class uses **Test2** so I expect this Test2 will also be visited by the processor.\r\n```\r\npackage sandbox;\r\n@Include\r\npublic class Test {\r\nTest2 get() { return new Test2();}\r\n}\r\n```\r\n\r\nsandbox/Test2.java\r\n```\r\npackage sandbox;\r\n@Include\r\npublic class Test2 {\r\n}\r\n```\r\nsandbox/Include.java \r\n```\r\n(...)\r\npackage sandbox;\r\n@Retention(RUNTIME)\r\n@Target({ ElementType.TYPE })\r\npublic @interface Include\r\n\t{\r\n\t}\r\n```\r\n\r\nThe annotation processor is packaged in a jar with `sandbox.AProc` in  `TMP/META-INF/services/javax.annotation.processing.Processor`\r\n\r\nWhen I compile with both Test.java and Test2.java they both appear in the  processor logs.\r\n\r\n```\r\n$ javac -cp .:annot.jar  -d TMP sandbox/Test.java sandbox/Test2.java\r\n##Visit sandbox.Test\r\n##Visit sandbox.Test2\r\n```\r\n\r\nbut if I only compile sandbox/Test.java, Test2 is compiled but ignored by the processor.\r\n\r\n```\r\n$ javac -cp .:annot.jar  -d TMP sandbox/Test.java \r\n##Visit sandbox.Test\r\nwarning: Implicitly compiled files were not subject to annotation processing.\r\n  Use -proc:none to disable annotation processing or -implicit to specify a policy for implicit compilation.\r\n1 warning\r\n```\r\n(I&#39;m not sure about the warning, using -implicit:class hide the problem).\r\n\r\n\r\nHow can I tell the processor to visit all the classes without specifying them on the javac command line ?","title":"java Annotation Processor only scans the .java files specified by the javac compiler","body":"<p>I wrote an annotation processor (to copy some java sources in my compiling directory). I was surprised to see that only the files specified on the <code>javac</code> command line are processed by my annotation processor. I'm obviously missing something.</p>\n<p>Here is a minimal example:</p>\n<p>sandbox.Aproc:</p>\n<pre><code>(...)\n@SupportedSourceVersion(SourceVersion.RELEASE_8)\npublic class AProc extends AbstractProcessor{   \n    @Override\n    public Set&lt;String&gt; getSupportedAnnotationTypes() {\n        return Arrays.asList( Include.class ).stream().\n            map(C-&gt;C.getName()).\n            collect(Collectors.toSet())\n            ;\n        }\n    \n    private void copySource(final javax.lang.model.element.Element element)\n        {\n        if(element==null || element.getKind()!=ElementKind.CLASS) return;\n        final String thisDir = System.getProperty(&quot;user.dir&quot;);\n        System.err.println(&quot;##Visit &quot; + element);\n        (...)\n        }\n    \n    @Override\n    public boolean process(final Set&lt;? extends TypeElement&gt; annotations,\n        final RoundEnvironment roundEnv\n        ) {             \n        roundEnv.getElementsAnnotatedWith(Include.class).stream().\n            filter(E-&gt;E.getKind()==ElementKind.CLASS).\n            filter(E-&gt; E.getAnnotation(Include.class) !=null).\n            forEach(E-&gt;{                    \n                copySource(E);\n                });\n        \n        return true;\n       }\n    }\n</code></pre>\n<p>sandbox/Test.java This class uses <strong>Test2</strong> so I expect this Test2 will also be visited by the processor.</p>\n<pre><code>package sandbox;\n@Include\npublic class Test {\nTest2 get() { return new Test2();}\n}\n</code></pre>\n<p>sandbox/Test2.java</p>\n<pre><code>package sandbox;\n@Include\npublic class Test2 {\n}\n</code></pre>\n<p>sandbox/Include.java</p>\n<pre><code>(...)\npackage sandbox;\n@Retention(RUNTIME)\n@Target({ ElementType.TYPE })\npublic @interface Include\n    {\n    }\n</code></pre>\n<p>The annotation processor is packaged in a jar with <code>sandbox.AProc</code> in  <code>TMP/META-INF/services/javax.annotation.processing.Processor</code></p>\n<p>When I compile with both Test.java and Test2.java they both appear in the  processor logs.</p>\n<pre><code>$ javac -cp .:annot.jar  -d TMP sandbox/Test.java sandbox/Test2.java\n##Visit sandbox.Test\n##Visit sandbox.Test2\n</code></pre>\n<p>but if I only compile sandbox/Test.java, Test2 is compiled but ignored by the processor.</p>\n<pre><code>$ javac -cp .:annot.jar  -d TMP sandbox/Test.java \n##Visit sandbox.Test\nwarning: Implicitly compiled files were not subject to annotation processing.\n  Use -proc:none to disable annotation processing or -implicit to specify a policy for implicit compilation.\n1 warning\n</code></pre>\n<p>(I'm not sure about the warning, using -implicit:class hide the problem).</p>\n<p>How can I tell the processor to visit all the classes without specifying them on the javac command line ?</p>\n"},{"tags":["java","android","checkbox"],"owner":{"account_id":27617266,"reputation":1,"user_id":21079074,"display_name":"Maria Sideri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674727170,"creation_date":1674643088,"question_id":75232733,"body_markdown":"My app has a fragment where the user has to select some dances from a list of checkboxes. Let&#39;s use &quot;Argentine Tango&quot; as an example. \r\nWhen I select a checkbox, I get the exception &quot;java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.google.android.material.chip.ChipGroup.addView(android.view.View)&#39; on a null object reference&quot;\r\n\r\n\r\nWhen I checked on the checkbox, I wanted a chip writing &quot;Argentine Tango&quot; to appear \r\n\r\n    private CheckBox mTango;\r\n    private ChipGroup mChipgroup;\r\n    private  ArrayList mChipList = new ArrayList&lt;&gt;();\r\n\r\nThen, inside &quot;`OnCreateView`&quot;\r\n\r\n    \r\n\r\n    mTango = view.findViewById(R.id.argtango);\r\n    mTango.setOnCheckedChangeListener(newCompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n                        if (compoundButton != null) {\r\n                            mChipList.add(&quot;Argentine Tango&quot;);\r\n                            displayChipData(mChipList);\r\n                        }\r\n                        else\r\n                        {\r\n                            Toast.makeText(getContext(), &quot;There was an error, try again&quot;, Toast.LENGTH_SHORT );\r\n                     }\r\n                 }\r\n            });\r\n\r\nMy displayChipData method:\r\n\r\n    private void displayChipData(ArrayList&lt;String&gt; mChipList) {\r\n            for (String s: mChipList) {\r\n                Chip chip = (Chip) this.getLayoutInflater().inflate(R.layout.single_chip, null, false);\r\n                chip.setText(s);\r\n                mChipgroup.addView(chip);\r\n            }\r\n    \r\n        }\r\n\r\nWhen I run the app and check the &quot;`Argentine Tango`&quot; checkbox, the app closes and I get the following exception\r\n\r\n**java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.google.android.material.chip.ChipGroup.addView(android.view.View)&#39; on a null object reference**\r\n\r\nAny ideas on how I could fix this?\r\nThanks in advance!\r\n","title":"Android: When checkbox is clicked, create chip","body":"<p>My app has a fragment where the user has to select some dances from a list of checkboxes. Let's use &quot;Argentine Tango&quot; as an example.\nWhen I select a checkbox, I get the exception &quot;java.lang.NullPointerException: Attempt to invoke virtual method 'void com.google.android.material.chip.ChipGroup.addView(android.view.View)' on a null object reference&quot;</p>\n<p>When I checked on the checkbox, I wanted a chip writing &quot;Argentine Tango&quot; to appear</p>\n<pre><code>private CheckBox mTango;\nprivate ChipGroup mChipgroup;\nprivate  ArrayList mChipList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Then, inside &quot;<code>OnCreateView</code>&quot;</p>\n<pre><code>mTango = view.findViewById(R.id.argtango);\nmTango.setOnCheckedChangeListener(newCompoundButton.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n                    if (compoundButton != null) {\n                        mChipList.add(&quot;Argentine Tango&quot;);\n                        displayChipData(mChipList);\n                    }\n                    else\n                    {\n                        Toast.makeText(getContext(), &quot;There was an error, try again&quot;, Toast.LENGTH_SHORT );\n                 }\n             }\n        });\n</code></pre>\n<p>My displayChipData method:</p>\n<pre><code>private void displayChipData(ArrayList&lt;String&gt; mChipList) {\n        for (String s: mChipList) {\n            Chip chip = (Chip) this.getLayoutInflater().inflate(R.layout.single_chip, null, false);\n            chip.setText(s);\n            mChipgroup.addView(chip);\n        }\n\n    }\n</code></pre>\n<p>When I run the app and check the &quot;<code>Argentine Tango</code>&quot; checkbox, the app closes and I get the following exception</p>\n<p><strong>java.lang.NullPointerException: Attempt to invoke virtual method 'void com.google.android.material.chip.ChipGroup.addView(android.view.View)' on a null object reference</strong></p>\n<p>Any ideas on how I could fix this?\nThanks in advance!</p>\n"},{"tags":["java","android","android-permissions"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674727160,"post_id":75244573,"comment_id":132777042,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26367947,"reputation":1,"user_id":20023092,"display_name":"STEEL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674727119,"creation_date":1674727119,"question_id":75244573,"body_markdown":"I have included Android Things artifact to my project. Although com.google.android.things.permission.SET_TIME was defined in manifesto XML file, my application is not able to have the permission. How does the application gain the permission?","title":"com.google.android.things.permission.SET_TIME","body":"<p>I have included Android Things artifact to my project. Although com.google.android.things.permission.SET_TIME was defined in manifesto XML file, my application is not able to have the permission. How does the application gain the permission?</p>\n"},{"tags":["java","csv","parsing","zip","unzip"],"owner":{"account_id":20769469,"reputation":3,"user_id":15252530,"display_name":"Euphoria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674727111,"creation_date":1674702656,"question_id":75241976,"body_markdown":"I am trying to read and parsed all the CSV files, these files are inside of extracted zip file, but unfortunately, I&#39;m only getting this `(No such file or directory)` - How can I get inside that folder and read those files? Take note that this folder is already unzipped.\r\n\r\nI&#39;m also thinking, that if that is not possible - is there any way that I can extract the zip file to files only, for example below:\r\n\r\n    Zip File: ZipFolder.zip\r\n\r\nExpected: (No folder at all, automatically the files is on the target location already).\r\n\r\n    CSVFile1.csv\r\n    CSVFile2.csv\r\n\r\nCan someone help me to get through this? your help is appreaciated.. Thank you!","title":"How can I retrieve CSV file inside of the Unzip folder?","body":"<p>I am trying to read and parsed all the CSV files, these files are inside of extracted zip file, but unfortunately, I'm only getting this <code>(No such file or directory)</code> - How can I get inside that folder and read those files? Take note that this folder is already unzipped.</p>\n<p>I'm also thinking, that if that is not possible - is there any way that I can extract the zip file to files only, for example below:</p>\n<pre><code>Zip File: ZipFolder.zip\n</code></pre>\n<p>Expected: (No folder at all, automatically the files is on the target location already).</p>\n<pre><code>CSVFile1.csv\nCSVFile2.csv\n</code></pre>\n<p>Can someone help me to get through this? your help is appreaciated.. Thank you!</p>\n"},{"tags":["java","geany"],"owner":{"account_id":25965414,"reputation":81,"user_id":19681418,"display_name":"Talete"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674726852,"creation_date":1674726852,"question_id":75244536,"body_markdown":"I know this might be a very simple question to you but honestly i still can&#39;t figure it out.\r\nI&#39;ve installed geany on linux mint 21 and i would like to know how to add a class linked to a file.java i created which contains the main.","title":"How do you add a new java class in geany?","body":"<p>I know this might be a very simple question to you but honestly i still can't figure it out.\nI've installed geany on linux mint 21 and i would like to know how to add a class linked to a file.java i created which contains the main.</p>\n"},{"tags":["java","jar","getresource"],"comments":[{"owner":{"account_id":260075,"reputation":2033,"user_id":543426,"display_name":"4F2E4A2E"},"score":0,"creation_date":1429899927,"post_id":1386809,"comment_id":47835507,"body_markdown":"please reset the correct answer, thx","body":"please reset the correct answer, thx"}],"answers":[{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1252274493,"creation_date":1252274493,"answer_id":1386855,"question_id":1386809,"body_markdown":"You could use the [ClassLoader][1] to obtain a [stream to the resource][2]. Once you have obtained an InputStream, you can read off, and write the contents of the stream, onto an OutputStream.\r\n\r\nIn your case, you&#39;ll need to create several OutputStream instances, one for each file that you want to copy over to the destination. This of course, requires that you know of the file names before hand.\r\n\r\nFor this task, it is preferred to use getResourceAsStream, rather than getResource or getResources().\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassLoader.html\r\n  [2]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassLoader.html#getResourceAsStream%28java.lang.String%29","title":"Copy directory from a jar file","body":"<p>You could use the <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\">ClassLoader</a> to obtain a <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassLoader.html#getResourceAsStream%28java.lang.String%29\" rel=\"nofollow noreferrer\">stream to the resource</a>. Once you have obtained an InputStream, you can read off, and write the contents of the stream, onto an OutputStream.</p>\n\n<p>In your case, you'll need to create several OutputStream instances, one for each file that you want to copy over to the destination. This of course, requires that you know of the file names before hand.</p>\n\n<p>For this task, it is preferred to use getResourceAsStream, rather than getResource or getResources().</p>\n"},{"tags":[],"owner":{"account_id":44712,"reputation":99786,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1252274741,"creation_date":1252274741,"answer_id":1386861,"question_id":1386809,"body_markdown":"I&#39;m not sure what `FileHelper` is or does, but you will NOT be able to copy files (or directories) directly from JAR. Using InputStream as you&#39;ve mentioned is the correct way (from either jar or zip):\r\n\r\n    InputStream is = getClass().getResourceAsStream(&quot;file_in_jar&quot;);\r\n    OutputStream os = new FileOutputStream(&quot;dest_file&quot;);\r\n    byte[] buffer = new byte[4096];\r\n    int length;\r\n    while ((length = is.read(buffer)) &gt; 0) {\r\n        os.write(buffer, 0, length);\r\n    }\r\n    os.close();\r\n    is.close();\r\n\r\nYou&#39;ll need to do the above (handling exceptions appropriately, of course) for each of your files. You may or may not be able (depending on your deployment configuration) to read jar file in question as &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/util/jar/JarFile.html&quot;&gt;JarFile&lt;/a&gt; (it may not be available as an actual file if deployed as part of non-expanded web app, for example). If you can read it, you should be able to iterate through list of JarEntry instances and thus reconstitute your directory structure; otherwise you may need to store it elsewhere (within text or xml resource, for example)\r\n\r\nYou may want to take a look at &lt;a href=&quot;http://commons.apache.org/io/&quot;&gt;Commons IO&lt;/a&gt; library - it provides a lot of commonly used stream / file functionality including copying.","title":"Copy directory from a jar file","body":"<p>I'm not sure what <code>FileHelper</code> is or does, but you will NOT be able to copy files (or directories) directly from JAR. Using InputStream as you've mentioned is the correct way (from either jar or zip):</p>\n\n<pre><code>InputStream is = getClass().getResourceAsStream(\"file_in_jar\");\nOutputStream os = new FileOutputStream(\"dest_file\");\nbyte[] buffer = new byte[4096];\nint length;\nwhile ((length = is.read(buffer)) &gt; 0) {\n    os.write(buffer, 0, length);\n}\nos.close();\nis.close();\n</code></pre>\n\n<p>You'll need to do the above (handling exceptions appropriately, of course) for each of your files. You may or may not be able (depending on your deployment configuration) to read jar file in question as <a href=\"http://java.sun.com/javase/6/docs/api/java/util/jar/JarFile.html\" rel=\"nofollow noreferrer\">JarFile</a> (it may not be available as an actual file if deployed as part of non-expanded web app, for example). If you can read it, you should be able to iterate through list of JarEntry instances and thus reconstitute your directory structure; otherwise you may need to store it elsewhere (within text or xml resource, for example)</p>\n\n<p>You may want to take a look at <a href=\"http://commons.apache.org/io/\" rel=\"nofollow noreferrer\">Commons IO</a> library - it provides a lot of commonly used stream / file functionality including copying.</p>\n"},{"tags":[],"owner":{"account_id":40959,"reputation":96687,"user_id":118903,"display_name":"Vinay Sajip"},"down_vote_count":2,"up_vote_count":17,"is_accepted":true,"score":15,"last_activity_date":1252275105,"creation_date":1252275105,"answer_id":1386868,"question_id":1386809,"body_markdown":"I think your approach of using a zip file makes sense. Presumably you&#39;ll do a `getResourceAsStream` to get at the internals of the zip, which will logically look like a directory tree.\r\n\r\nA skeleton approach:\r\n\r\n    InputStream is = getClass().getResourceAsStream(&quot;my_embedded_file.zip&quot;);\r\n    ZipInputStream zis = new ZipInputStream(is);\r\n    ZipEntry entry;\r\n    \r\n    while ((entry = zis.getNextEntry()) != null) {\r\n        // do something with the entry - for example, extract the data \r\n    }\r\n\r\n","title":"Copy directory from a jar file","body":"<p>I think your approach of using a zip file makes sense. Presumably you'll do a <code>getResourceAsStream</code> to get at the internals of the zip, which will logically look like a directory tree.</p>\n\n<p>A skeleton approach:</p>\n\n<pre><code>InputStream is = getClass().getResourceAsStream(\"my_embedded_file.zip\");\nZipInputStream zis = new ZipInputStream(is);\nZipEntry entry;\n\nwhile ((entry = zis.getNextEntry()) != null) {\n    // do something with the entry - for example, extract the data \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":105471,"reputation":1407,"user_id":281437,"display_name":"nivekastoreth"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1515729084,"creation_date":1275953782,"answer_id":2993908,"question_id":1386809,"body_markdown":"I hated the idea of using the ZIP file method posted earlier, so I came up with the following.\r\n\r\n    public void copyResourcesRecursively(URL originUrl, File destination) throws Exception {\r\n        URLConnection urlConnection = originUrl.openConnection();\r\n        if (urlConnection instanceof JarURLConnection) {\r\n            copyJarResourcesRecursively(destination, (JarURLConnection) urlConnection);\r\n        } else if (urlConnection instanceof FileURLConnection) {\r\n            FileUtils.copyFilesRecursively(new File(originUrl.getPath()), destination);\r\n        } else {\r\n            throw new Exception(&quot;URLConnection[&quot; + urlConnection.getClass().getSimpleName() +\r\n                    &quot;] is not a recognized/implemented connection type.&quot;);\r\n        }\r\n    }\r\n\r\n    public void copyJarResourcesRecursively(File destination, JarURLConnection jarConnection ) throws IOException {\r\n        JarFile jarFile = jarConnection.getJarFile();\r\n        for (JarEntry entry : CollectionUtils.iterable(jarFile.entries())) {\r\n            if (entry.getName().startsWith(jarConnection.getEntryName())) {\r\n                String fileName = StringUtils.removeStart(entry.getName(), jarConnection.getEntryName());\r\n                if (!entry.isDirectory()) {\r\n                    InputStream entryInputStream = null;\r\n                    try {\r\n                        entryInputStream = jarFile.getInputStream(entry);\r\n                        FileUtils.copyStream(entryInputStream, new File(destination, fileName));\r\n                    } finally {\r\n                        FileUtils.safeClose(entryInputStream);\r\n                    }\r\n                } else {\r\n                    FileUtils.ensureDirectoryExists(new File(destination, fileName));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nExample Useage (copies all files from the classpath resource &quot;config&quot; to &quot;${homeDirectory}/config&quot;:\r\n\r\n    File configHome = new File(homeDirectory, &quot;config/&quot;);\r\n    //noinspection ResultOfMethodCallIgnored\r\n    configHome.mkdirs();\r\n    copyResourcesRecursively(super.getClass().getResource(&quot;/config&quot;), configHome);\r\n\r\nThis should work both for copying from both flat files as well as Jar files.\r\n\r\nNote: The code above uses some custom utility classes (FileUtils, CollectionUtils) as well as some from Apache commons-lang (StringUtils), but the functions should be named fairly obviously.","title":"Copy directory from a jar file","body":"<p>I hated the idea of using the ZIP file method posted earlier, so I came up with the following.</p>\n\n<pre><code>public void copyResourcesRecursively(URL originUrl, File destination) throws Exception {\n    URLConnection urlConnection = originUrl.openConnection();\n    if (urlConnection instanceof JarURLConnection) {\n        copyJarResourcesRecursively(destination, (JarURLConnection) urlConnection);\n    } else if (urlConnection instanceof FileURLConnection) {\n        FileUtils.copyFilesRecursively(new File(originUrl.getPath()), destination);\n    } else {\n        throw new Exception(\"URLConnection[\" + urlConnection.getClass().getSimpleName() +\n                \"] is not a recognized/implemented connection type.\");\n    }\n}\n\npublic void copyJarResourcesRecursively(File destination, JarURLConnection jarConnection ) throws IOException {\n    JarFile jarFile = jarConnection.getJarFile();\n    for (JarEntry entry : CollectionUtils.iterable(jarFile.entries())) {\n        if (entry.getName().startsWith(jarConnection.getEntryName())) {\n            String fileName = StringUtils.removeStart(entry.getName(), jarConnection.getEntryName());\n            if (!entry.isDirectory()) {\n                InputStream entryInputStream = null;\n                try {\n                    entryInputStream = jarFile.getInputStream(entry);\n                    FileUtils.copyStream(entryInputStream, new File(destination, fileName));\n                } finally {\n                    FileUtils.safeClose(entryInputStream);\n                }\n            } else {\n                FileUtils.ensureDirectoryExists(new File(destination, fileName));\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Example Useage (copies all files from the classpath resource \"config\" to \"${homeDirectory}/config\":</p>\n\n<pre><code>File configHome = new File(homeDirectory, \"config/\");\n//noinspection ResultOfMethodCallIgnored\nconfigHome.mkdirs();\ncopyResourcesRecursively(super.getClass().getResource(\"/config\"), configHome);\n</code></pre>\n\n<p>This should work both for copying from both flat files as well as Jar files.</p>\n\n<p>Note: The code above uses some custom utility classes (FileUtils, CollectionUtils) as well as some from Apache commons-lang (StringUtils), but the functions should be named fairly obviously.</p>\n"},{"tags":[],"owner":{"account_id":635356,"reputation":191,"user_id":403894,"display_name":"jabber"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1343980110,"creation_date":1280266066,"answer_id":3348150,"question_id":1386809,"body_markdown":"Thanks for the solution!  For others, the following doesn&#39;t make use of the auxiliary classes (except for StringUtils)\r\n\r\n/*I added extra information for this solution, check the end of the code, Zegor V*/\r\n\r\n    public class FileUtils {\r\n      public static boolean copyFile(final File toCopy, final File destFile) {\r\n        try {\r\n          return FileUtils.copyStream(new FileInputStream(toCopy),\r\n              new FileOutputStream(destFile));\r\n        } catch (final FileNotFoundException e) {\r\n          e.printStackTrace();\r\n        }\r\n        return false;\r\n      }\r\n    \r\n      private static boolean copyFilesRecusively(final File toCopy,\r\n          final File destDir) {\r\n        assert destDir.isDirectory();\r\n    \r\n        if (!toCopy.isDirectory()) {\r\n          return FileUtils.copyFile(toCopy, new File(destDir, toCopy.getName()));\r\n        } else {\r\n          final File newDestDir = new File(destDir, toCopy.getName());\r\n          if (!newDestDir.exists() &amp;&amp; !newDestDir.mkdir()) {\r\n            return false;\r\n          }\r\n          for (final File child : toCopy.listFiles()) {\r\n            if (!FileUtils.copyFilesRecusively(child, newDestDir)) {\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n    \r\n      public static boolean copyJarResourcesRecursively(final File destDir,\r\n          final JarURLConnection jarConnection) throws IOException {\r\n    \r\n        final JarFile jarFile = jarConnection.getJarFile();\r\n    \r\n        for (final Enumeration&lt;JarEntry&gt; e = jarFile.entries(); e.hasMoreElements();) {\r\n          final JarEntry entry = e.nextElement();\r\n          if (entry.getName().startsWith(jarConnection.getEntryName())) {\r\n            final String filename = StringUtils.removeStart(entry.getName(), //\r\n                jarConnection.getEntryName());\r\n    \r\n            final File f = new File(destDir, filename);\r\n            if (!entry.isDirectory()) {\r\n              final InputStream entryInputStream = jarFile.getInputStream(entry);\r\n              if(!FileUtils.copyStream(entryInputStream, f)){\r\n                return false;\r\n              }\r\n              entryInputStream.close();\r\n            } else {\r\n              if (!FileUtils.ensureDirectoryExists(f)) {\r\n                throw new IOException(&quot;Could not create directory: &quot;\r\n                    + f.getAbsolutePath());\r\n              }\r\n            }\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n    \r\n      public static boolean copyResourcesRecursively( //\r\n          final URL originUrl, final File destination) {\r\n        try {\r\n          final URLConnection urlConnection = originUrl.openConnection();\r\n          if (urlConnection instanceof JarURLConnection) {\r\n            return FileUtils.copyJarResourcesRecursively(destination,\r\n                (JarURLConnection) urlConnection);\r\n          } else {\r\n            return FileUtils.copyFilesRecusively(new File(originUrl.getPath()),\r\n                destination);\r\n          }\r\n        } catch (final IOException e) {\r\n          e.printStackTrace();\r\n        }\r\n        return false;\r\n      }\r\n    \r\n      private static boolean copyStream(final InputStream is, final File f) {\r\n        try {\r\n          return FileUtils.copyStream(is, new FileOutputStream(f));\r\n        } catch (final FileNotFoundException e) {\r\n          e.printStackTrace();\r\n        }\r\n        return false;\r\n      }\r\n    \r\n      private static boolean copyStream(final InputStream is, final OutputStream os) {\r\n        try {\r\n          final byte[] buf = new byte[1024];\r\n    \r\n          int len = 0;\r\n          while ((len = is.read(buf)) &gt; 0) {\r\n            os.write(buf, 0, len);\r\n          }\r\n          is.close();\r\n          os.close();\r\n          return true;\r\n        } catch (final IOException e) {\r\n          e.printStackTrace();\r\n        }\r\n        return false;\r\n      }\r\n    \r\n      private static boolean ensureDirectoryExists(final File f) {\r\n        return f.exists() || f.mkdir();\r\n      }\r\n    }\r\n\r\n&lt;Zegor V&gt;\r\n\r\nIt uses only one external library from the Apache Software Foundation, however the used functions are only :\r\n\r\n      public static String removeStart(String str, String remove) {\r\n          if (isEmpty(str) || isEmpty(remove)) {\r\n              return str;\r\n          }\r\n          if (str.startsWith(remove)){\r\n              return str.substring(remove.length());\r\n          }\r\n          return str;\r\n      }\r\n      public static boolean isEmpty(CharSequence cs) {\r\n          return cs == null || cs.length() == 0;\r\n      }\r\n\r\nMy knowledge is limited on Apache licence, but you can use this methods in your code without library. However, i am not responsible for licence issues, if there is.\r\n","title":"Copy directory from a jar file","body":"<p>Thanks for the solution!  For others, the following doesn't make use of the auxiliary classes (except for StringUtils)</p>\n\n<p>/<em>I added extra information for this solution, check the end of the code, Zegor V</em>/</p>\n\n<pre><code>public class FileUtils {\n  public static boolean copyFile(final File toCopy, final File destFile) {\n    try {\n      return FileUtils.copyStream(new FileInputStream(toCopy),\n          new FileOutputStream(destFile));\n    } catch (final FileNotFoundException e) {\n      e.printStackTrace();\n    }\n    return false;\n  }\n\n  private static boolean copyFilesRecusively(final File toCopy,\n      final File destDir) {\n    assert destDir.isDirectory();\n\n    if (!toCopy.isDirectory()) {\n      return FileUtils.copyFile(toCopy, new File(destDir, toCopy.getName()));\n    } else {\n      final File newDestDir = new File(destDir, toCopy.getName());\n      if (!newDestDir.exists() &amp;&amp; !newDestDir.mkdir()) {\n        return false;\n      }\n      for (final File child : toCopy.listFiles()) {\n        if (!FileUtils.copyFilesRecusively(child, newDestDir)) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  public static boolean copyJarResourcesRecursively(final File destDir,\n      final JarURLConnection jarConnection) throws IOException {\n\n    final JarFile jarFile = jarConnection.getJarFile();\n\n    for (final Enumeration&lt;JarEntry&gt; e = jarFile.entries(); e.hasMoreElements();) {\n      final JarEntry entry = e.nextElement();\n      if (entry.getName().startsWith(jarConnection.getEntryName())) {\n        final String filename = StringUtils.removeStart(entry.getName(), //\n            jarConnection.getEntryName());\n\n        final File f = new File(destDir, filename);\n        if (!entry.isDirectory()) {\n          final InputStream entryInputStream = jarFile.getInputStream(entry);\n          if(!FileUtils.copyStream(entryInputStream, f)){\n            return false;\n          }\n          entryInputStream.close();\n        } else {\n          if (!FileUtils.ensureDirectoryExists(f)) {\n            throw new IOException(\"Could not create directory: \"\n                + f.getAbsolutePath());\n          }\n        }\n      }\n    }\n    return true;\n  }\n\n  public static boolean copyResourcesRecursively( //\n      final URL originUrl, final File destination) {\n    try {\n      final URLConnection urlConnection = originUrl.openConnection();\n      if (urlConnection instanceof JarURLConnection) {\n        return FileUtils.copyJarResourcesRecursively(destination,\n            (JarURLConnection) urlConnection);\n      } else {\n        return FileUtils.copyFilesRecusively(new File(originUrl.getPath()),\n            destination);\n      }\n    } catch (final IOException e) {\n      e.printStackTrace();\n    }\n    return false;\n  }\n\n  private static boolean copyStream(final InputStream is, final File f) {\n    try {\n      return FileUtils.copyStream(is, new FileOutputStream(f));\n    } catch (final FileNotFoundException e) {\n      e.printStackTrace();\n    }\n    return false;\n  }\n\n  private static boolean copyStream(final InputStream is, final OutputStream os) {\n    try {\n      final byte[] buf = new byte[1024];\n\n      int len = 0;\n      while ((len = is.read(buf)) &gt; 0) {\n        os.write(buf, 0, len);\n      }\n      is.close();\n      os.close();\n      return true;\n    } catch (final IOException e) {\n      e.printStackTrace();\n    }\n    return false;\n  }\n\n  private static boolean ensureDirectoryExists(final File f) {\n    return f.exists() || f.mkdir();\n  }\n}\n</code></pre>\n\n<p></p>\n\n<p>It uses only one external library from the Apache Software Foundation, however the used functions are only :</p>\n\n<pre><code>  public static String removeStart(String str, String remove) {\n      if (isEmpty(str) || isEmpty(remove)) {\n          return str;\n      }\n      if (str.startsWith(remove)){\n          return str.substring(remove.length());\n      }\n      return str;\n  }\n  public static boolean isEmpty(CharSequence cs) {\n      return cs == null || cs.length() == 0;\n  }\n</code></pre>\n\n<p>My knowledge is limited on Apache licence, but you can use this methods in your code without library. However, i am not responsible for licence issues, if there is.</p>\n"},{"tags":[],"owner":{"account_id":222406,"reputation":13699,"user_id":480975,"display_name":"lpiepiora"},"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1540253193,"creation_date":1403212450,"answer_id":24316335,"question_id":1386809,"body_markdown":"Using Java7+ this can be achieved by creating `FileSystem` and then using `walkFileTree` to copy files recursively.\r\n\r\n    public void copyFromJar(String source, final Path target) throws URISyntaxException, IOException {\r\n        URI resource = getClass().getResource(&quot;&quot;).toURI();\r\n        FileSystem fileSystem = FileSystems.newFileSystem(\r\n                resource,\r\n                Collections.&lt;String, String&gt;emptyMap()\r\n        );\r\n\r\n    \r\n        final Path jarPath = fileSystem.getPath(source);\r\n    \r\n        Files.walkFileTree(jarPath, new SimpleFileVisitor&lt;Path&gt;() {\r\n    \r\n            private Path currentTarget;\r\n    \r\n            @Override\r\n            public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException {\r\n                currentTarget = target.resolve(jarPath.relativize(dir).toString());\r\n                Files.createDirectories(currentTarget);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n    \r\n            @Override\r\n            public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n                Files.copy(file, target.resolve(jarPath.relativize(file).toString()), StandardCopyOption.REPLACE_EXISTING);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n    \r\n        });\r\n    }\r\n\r\nThe method can be used like this:\r\n\r\n    copyFromJar(&quot;/path/to/the/template/in/jar&quot;, Paths.get(&quot;/tmp/from-jar&quot;))","title":"Copy directory from a jar file","body":"<p>Using Java7+ this can be achieved by creating <code>FileSystem</code> and then using <code>walkFileTree</code> to copy files recursively.</p>\n\n<pre><code>public void copyFromJar(String source, final Path target) throws URISyntaxException, IOException {\n    URI resource = getClass().getResource(\"\").toURI();\n    FileSystem fileSystem = FileSystems.newFileSystem(\n            resource,\n            Collections.&lt;String, String&gt;emptyMap()\n    );\n\n\n    final Path jarPath = fileSystem.getPath(source);\n\n    Files.walkFileTree(jarPath, new SimpleFileVisitor&lt;Path&gt;() {\n\n        private Path currentTarget;\n\n        @Override\n        public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException {\n            currentTarget = target.resolve(jarPath.relativize(dir).toString());\n            Files.createDirectories(currentTarget);\n            return FileVisitResult.CONTINUE;\n        }\n\n        @Override\n        public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n            Files.copy(file, target.resolve(jarPath.relativize(file).toString()), StandardCopyOption.REPLACE_EXISTING);\n            return FileVisitResult.CONTINUE;\n        }\n\n    });\n}\n</code></pre>\n\n<p>The method can be used like this:</p>\n\n<pre><code>copyFromJar(\"/path/to/the/template/in/jar\", Paths.get(\"/tmp/from-jar\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":260075,"reputation":2033,"user_id":543426,"display_name":"4F2E4A2E"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1409610527,"creation_date":1409610527,"answer_id":25613576,"question_id":1386809,"body_markdown":"Here is a working version from the [tess4j][1] project:\r\n\r\n     /**\r\n     * This method will copy resources from the jar file of the current thread and extract it to the destination folder.\r\n     * \r\n     * @param jarConnection\r\n     * @param destDir\r\n     * @throws IOException\r\n     */\r\n    public void copyJarResourceToFolder(JarURLConnection jarConnection, File destDir) {\r\n\r\n        try {\r\n            JarFile jarFile = jarConnection.getJarFile();\r\n\r\n            /**\r\n             * Iterate all entries in the jar file.\r\n             */\r\n            for (Enumeration&lt;JarEntry&gt; e = jarFile.entries(); e.hasMoreElements();) {\r\n\r\n                JarEntry jarEntry = e.nextElement();\r\n                String jarEntryName = jarEntry.getName();\r\n                String jarConnectionEntryName = jarConnection.getEntryName();\r\n\r\n                /**\r\n                 * Extract files only if they match the path.\r\n                 */\r\n                if (jarEntryName.startsWith(jarConnectionEntryName)) {\r\n\r\n                    String filename = jarEntryName.startsWith(jarConnectionEntryName) ? jarEntryName.substring(jarConnectionEntryName.length()) : jarEntryName;\r\n                    File currentFile = new File(destDir, filename);\r\n\r\n                    if (jarEntry.isDirectory()) {\r\n                        currentFile.mkdirs();\r\n                    } else {\r\n                        InputStream is = jarFile.getInputStream(jarEntry);\r\n                        OutputStream out = FileUtils.openOutputStream(currentFile);\r\n                        IOUtils.copy(is, out);\r\n                        is.close();\r\n                        out.close();\r\n                    }\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            // TODO add logger\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://github.com/nguyenq/tess4j/blob/master/src/main/java/net/sourceforge/tess4j/util/LoadLibs.java#L156","title":"Copy directory from a jar file","body":"<p>Here is a working version from the <a href=\"https://github.com/nguyenq/tess4j/blob/master/src/main/java/net/sourceforge/tess4j/util/LoadLibs.java#L156\" rel=\"nofollow\">tess4j</a> project:</p>\n\n<pre><code> /**\n * This method will copy resources from the jar file of the current thread and extract it to the destination folder.\n * \n * @param jarConnection\n * @param destDir\n * @throws IOException\n */\npublic void copyJarResourceToFolder(JarURLConnection jarConnection, File destDir) {\n\n    try {\n        JarFile jarFile = jarConnection.getJarFile();\n\n        /**\n         * Iterate all entries in the jar file.\n         */\n        for (Enumeration&lt;JarEntry&gt; e = jarFile.entries(); e.hasMoreElements();) {\n\n            JarEntry jarEntry = e.nextElement();\n            String jarEntryName = jarEntry.getName();\n            String jarConnectionEntryName = jarConnection.getEntryName();\n\n            /**\n             * Extract files only if they match the path.\n             */\n            if (jarEntryName.startsWith(jarConnectionEntryName)) {\n\n                String filename = jarEntryName.startsWith(jarConnectionEntryName) ? jarEntryName.substring(jarConnectionEntryName.length()) : jarEntryName;\n                File currentFile = new File(destDir, filename);\n\n                if (jarEntry.isDirectory()) {\n                    currentFile.mkdirs();\n                } else {\n                    InputStream is = jarFile.getInputStream(jarEntry);\n                    OutputStream out = FileUtils.openOutputStream(currentFile);\n                    IOUtils.copy(is, out);\n                    is.close();\n                    out.close();\n                }\n            }\n        }\n    } catch (IOException e) {\n        // TODO add logger\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7051743,"reputation":69,"user_id":5400550,"display_name":"Duc Loi"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1443773729,"creation_date":1443773729,"answer_id":32903097,"question_id":1386809,"body_markdown":"The answer of lpiepiora, is correct! But there is a minor issue,\r\nThe source, should be a jar Url. When the source path is path to a file system, then the above code will not work proper.\r\nTo solve this problem, you should use the ReferencePath, the code, you can get from the following link:\r\nhttps://stackoverflow.com/questions/24000812/read-from-file-system-via-filesystem-object\r\nThe new code of copyFromJar should like:\r\n\r\n    public class ResourcesUtils {\r\n\tpublic static void copyFromJar(final String sourcePath, final Path target) throws URISyntaxException,\r\n\t\t\tIOException {\r\n\t\tfinal PathReference pathReference = PathReference.getPath(new URI(sourcePath));\r\n\t\tfinal Path jarPath = pathReference.getPath();\r\n\r\n\t\tFiles.walkFileTree(jarPath, new SimpleFileVisitor&lt;Path&gt;() {\r\n\r\n\t\t\tprivate Path currentTarget;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic FileVisitResult preVisitDirectory(final Path dir, final BasicFileAttributes attrs) throws IOException {\r\n\t\t\t\tcurrentTarget = target.resolve(jarPath.relativize(dir)\r\n\t\t\t\t\t\t.toString());\r\n\t\t\t\tFiles.createDirectories(currentTarget);\r\n\t\t\t\treturn FileVisitResult.CONTINUE;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic FileVisitResult visitFile(final Path file, final BasicFileAttributes attrs) throws IOException {\r\n\t\t\t\tFiles.copy(file, target.resolve(jarPath.relativize(file)\r\n\t\t\t\t\t\t.toString()), StandardCopyOption.REPLACE_EXISTING);\r\n\t\t\t\treturn FileVisitResult.CONTINUE;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tpublic static void main(final String[] args) throws MalformedURLException, URISyntaxException, IOException {\r\n\t\tfinal String sourcePath = &quot;jar:file:/c:/temp/example.jar!/src/main/resources&quot;;\r\n\t\tResourcesUtils.copyFromJar(sourcePath, Paths.get(&quot;c:/temp/resources&quot;));\r\n\t}","title":"Copy directory from a jar file","body":"<p>The answer of lpiepiora, is correct! But there is a minor issue,\nThe source, should be a jar Url. When the source path is path to a file system, then the above code will not work proper.\nTo solve this problem, you should use the ReferencePath, the code, you can get from the following link:\n<a href=\"https://stackoverflow.com/questions/24000812/read-from-file-system-via-filesystem-object\">Read from file system via FileSystem object</a>\nThe new code of copyFromJar should like:</p>\n\n<pre><code>public class ResourcesUtils {\npublic static void copyFromJar(final String sourcePath, final Path target) throws URISyntaxException,\n        IOException {\n    final PathReference pathReference = PathReference.getPath(new URI(sourcePath));\n    final Path jarPath = pathReference.getPath();\n\n    Files.walkFileTree(jarPath, new SimpleFileVisitor&lt;Path&gt;() {\n\n        private Path currentTarget;\n\n        @Override\n        public FileVisitResult preVisitDirectory(final Path dir, final BasicFileAttributes attrs) throws IOException {\n            currentTarget = target.resolve(jarPath.relativize(dir)\n                    .toString());\n            Files.createDirectories(currentTarget);\n            return FileVisitResult.CONTINUE;\n        }\n\n        @Override\n        public FileVisitResult visitFile(final Path file, final BasicFileAttributes attrs) throws IOException {\n            Files.copy(file, target.resolve(jarPath.relativize(file)\n                    .toString()), StandardCopyOption.REPLACE_EXISTING);\n            return FileVisitResult.CONTINUE;\n        }\n\n    });\n}\n\npublic static void main(final String[] args) throws MalformedURLException, URISyntaxException, IOException {\n    final String sourcePath = \"jar:file:/c:/temp/example.jar!/src/main/resources\";\n    ResourcesUtils.copyFromJar(sourcePath, Paths.get(\"c:/temp/resources\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11457597,"reputation":61,"user_id":8398131,"display_name":"galvanom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501573584,"creation_date":1501573584,"answer_id":45431874,"question_id":1386809,"body_markdown":"I have faced the similair problem recently. I tried to extract folder from java resources. So I resolved this issue with Spring **PathMatchingResourcePatternResolver**.\r\n\r\nThis code gets all files and directories from the specified resource:\r\n\r\n            ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\r\n            Resource[] resources = resolver.getResources(ResourcePatternResolver.CLASSPATH_ALL_URL_PREFIX\r\n                    + resourceFolder + &quot;/**&quot;);\r\n\r\nAnd this is the class that copy all files and directories from the resource to the disk path.\r\n\r\n    public class ResourceExtractor {\r\n\r\n    public static final Logger logger = \r\n    Logger.getLogger(ResourceExtractor.class);\r\n\r\n    public void extract(String resourceFolder, String destinationFolder){\r\n        try {\r\n            ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\r\n            Resource[] resources = resolver.getResources(ResourcePatternResolver.CLASSPATH_ALL_URL_PREFIX\r\n                    + resourceFolder + &quot;/**&quot;);\r\n            URI inJarUri  = new DefaultResourceLoader().getResource(&quot;classpath:&quot; + resourceFolder).getURI();\r\n\r\n            for (Resource resource : resources){\r\n                String relativePath = resource\r\n                            .getURI()\r\n                            .getRawSchemeSpecificPart()\r\n                            .replace(inJarUri.getRawSchemeSpecificPart(), &quot;&quot;);\r\n                if (relativePath.isEmpty()){\r\n                    continue;\r\n                }\r\n                if (relativePath.endsWith(&quot;/&quot;) || relativePath.endsWith(&quot;\\\\&quot;)) {\r\n                    File dirFile = new File(destinationFolder + relativePath);\r\n                    if (!dirFile.exists()) {\r\n                        dirFile.mkdir();\r\n                    }\r\n                }\r\n                else{\r\n                    copyResourceToFilePath(resource, destinationFolder + relativePath);\r\n                }\r\n            }\r\n        }\r\n        catch (IOException e){\r\n            logger.debug(&quot;Extraction failed!&quot;, e );\r\n        }\r\n    }\r\n\r\n    private void copyResourceToFilePath(Resource resource, String filePath) throws IOException{\r\n        InputStream resourceInputStream = resource.getInputStream();\r\n        File file = new File(filePath);\r\n        if (!file.exists()) {\r\n            FileUtils.copyInputStreamToFile(resourceInputStream, file);\r\n        }\r\n    }\r\n}\r\n\r\n ","title":"Copy directory from a jar file","body":"<p>I have faced the similair problem recently. I tried to extract folder from java resources. So I resolved this issue with Spring <strong>PathMatchingResourcePatternResolver</strong>.</p>\n\n<p>This code gets all files and directories from the specified resource:</p>\n\n<pre><code>        ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\n        Resource[] resources = resolver.getResources(ResourcePatternResolver.CLASSPATH_ALL_URL_PREFIX\n                + resourceFolder + \"/**\");\n</code></pre>\n\n<p>And this is the class that copy all files and directories from the resource to the disk path.</p>\n\n<pre><code>public class ResourceExtractor {\n\npublic static final Logger logger = \nLogger.getLogger(ResourceExtractor.class);\n\npublic void extract(String resourceFolder, String destinationFolder){\n    try {\n        ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\n        Resource[] resources = resolver.getResources(ResourcePatternResolver.CLASSPATH_ALL_URL_PREFIX\n                + resourceFolder + \"/**\");\n        URI inJarUri  = new DefaultResourceLoader().getResource(\"classpath:\" + resourceFolder).getURI();\n\n        for (Resource resource : resources){\n            String relativePath = resource\n                        .getURI()\n                        .getRawSchemeSpecificPart()\n                        .replace(inJarUri.getRawSchemeSpecificPart(), \"\");\n            if (relativePath.isEmpty()){\n                continue;\n            }\n            if (relativePath.endsWith(\"/\") || relativePath.endsWith(\"\\\\\")) {\n                File dirFile = new File(destinationFolder + relativePath);\n                if (!dirFile.exists()) {\n                    dirFile.mkdir();\n                }\n            }\n            else{\n                copyResourceToFilePath(resource, destinationFolder + relativePath);\n            }\n        }\n    }\n    catch (IOException e){\n        logger.debug(\"Extraction failed!\", e );\n    }\n}\n\nprivate void copyResourceToFilePath(Resource resource, String filePath) throws IOException{\n    InputStream resourceInputStream = resource.getInputStream();\n    File file = new File(filePath);\n    if (!file.exists()) {\n        FileUtils.copyInputStreamToFile(resourceInputStream, file);\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":383246,"reputation":1294,"user_id":738968,"accept_rate":77,"display_name":"Miguel Jim&#233;nez"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1570694078,"creation_date":1570694078,"answer_id":58318009,"question_id":1386809,"body_markdown":"I know this question is kind of old now but after trying some answers that didn&#39;t work and others that required a whole library for just one method, I decided to put together a class. It doesn&#39;t require third-party libraries and it&#39;s been tested with Java 8. There are four public methods: `copyResourcesToTempDir`, `copyResourcesToDir`, `copyResourceDirectory` and `jar`.\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.net.URL;\r\n    import java.nio.file.Files;\r\n    import java.util.Enumeration;\r\n    import java.util.Optional;\r\n    import java.util.jar.JarEntry;\r\n    import java.util.jar.JarFile;\r\n    \r\n    /**\r\n     * A helper to copy resources from a JAR file into a directory.\r\n     */\r\n    public final class ResourceCopy {\r\n    \r\n        /**\r\n         * URI prefix for JAR files.\r\n         */\r\n        private static final String JAR_URI_PREFIX = &quot;jar:file:&quot;;\r\n    \r\n        /**\r\n         * The default buffer size.\r\n         */\r\n        private static final int BUFFER_SIZE = 8 * 1024;\r\n    \r\n        /**\r\n         * Copies a set of resources into a temporal directory, optionally preserving\r\n         * the paths of the resources.\r\n         * @param preserve Whether the files should be placed directly in the\r\n         *  directory or the source path should be kept\r\n         * @param paths The paths to the resources\r\n         * @return The temporal directory\r\n         * @throws IOException If there is an I/O error\r\n         */\r\n        public File copyResourcesToTempDir(final boolean preserve,\r\n            final String... paths)\r\n            throws IOException {\r\n            final File parent = new File(System.getProperty(&quot;java.io.tmpdir&quot;));\r\n            File directory;\r\n            do {\r\n                directory = new File(parent, String.valueOf(System.nanoTime()));\r\n            } while (!directory.mkdir());\r\n            return this.copyResourcesToDir(directory, preserve, paths);\r\n        }\r\n    \r\n        /**\r\n         * Copies a set of resources into a directory, preserving the paths\r\n         * and names of the resources.\r\n         * @param directory The target directory\r\n         * @param preserve Whether the files should be placed directly in the\r\n         *  directory or the source path should be kept\r\n         * @param paths The paths to the resources\r\n         * @return The temporal directory\r\n         * @throws IOException If there is an I/O error\r\n         */\r\n        public File copyResourcesToDir(final File directory, final boolean preserve,\r\n            final String... paths) throws IOException {\r\n            for (final String path : paths) {\r\n                final File target;\r\n                if (preserve) {\r\n                    target = new File(directory, path);\r\n                    target.getParentFile().mkdirs();\r\n                } else {\r\n                    target = new File(directory, new File(path).getName());\r\n                }\r\n                this.writeToFile(\r\n                    Thread.currentThread()\r\n                        .getContextClassLoader()\r\n                        .getResourceAsStream(path),\r\n                    target\r\n                );\r\n            }\r\n            return directory;\r\n        }\r\n    \r\n        /**\r\n         * Copies a resource directory from inside a JAR file to a target directory.\r\n         * @param source The JAR file\r\n         * @param path The path to the directory inside the JAR file\r\n         * @param target The target directory\r\n         * @throws IOException If there is an I/O error\r\n         */\r\n        public void copyResourceDirectory(final JarFile source, final String path,\r\n            final File target) throws IOException {\r\n            final Enumeration&lt;JarEntry&gt; entries = source.entries();\r\n            final String newpath = String.format(&quot;%s/&quot;, path);\r\n            while (entries.hasMoreElements()) {\r\n                final JarEntry entry = entries.nextElement();\r\n                if (entry.getName().startsWith(newpath) &amp;&amp; !entry.isDirectory()) {\r\n                    final File dest =\r\n                        new File(target, entry.getName().substring(newpath.length()));\r\n                    final File parent = dest.getParentFile();\r\n                    if (parent != null) {\r\n                        parent.mkdirs();\r\n                    }\r\n                    this.writeToFile(source.getInputStream(entry), dest);\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * The JAR file containing the given class.\r\n         * @param clazz The class\r\n         * @return The JAR file or null\r\n         * @throws IOException If there is an I/O error\r\n         */\r\n        public Optional&lt;JarFile&gt; jar(final Class&lt;?&gt; clazz) throws IOException {\r\n            final String path =\r\n                String.format(&quot;/%s.class&quot;, clazz.getName().replace(&#39;.&#39;, &#39;/&#39;));\r\n            final URL url = clazz.getResource(path);\r\n            Optional&lt;JarFile&gt; optional = Optional.empty();\r\n            if (url != null) {\r\n                final String jar = url.toString();\r\n                final int bang = jar.indexOf(&#39;!&#39;);\r\n                if (jar.startsWith(ResourceCopy.JAR_URI_PREFIX) &amp;&amp; bang != -1) {\r\n                    optional = Optional.of(\r\n                        new JarFile(\r\n                            jar.substring(ResourceCopy.JAR_URI_PREFIX.length(), bang)\r\n                        )\r\n                    );\r\n                }\r\n            }\r\n            return optional;\r\n        }\r\n    \r\n        /**\r\n         * Writes an input stream to a file.\r\n         * @param input The input stream\r\n         * @param target The target file\r\n         * @throws IOException If there is an I/O error\r\n         */\r\n        private void writeToFile(final InputStream input, final File target)\r\n            throws IOException {\r\n            final OutputStream output = Files.newOutputStream(target.toPath());\r\n            final byte[] buffer = new byte[ResourceCopy.BUFFER_SIZE];\r\n            int length = input.read(buffer);\r\n            while (length &gt; 0) {\r\n                output.write(buffer, 0, length);\r\n                length = input.read(buffer);\r\n            }\r\n            input.close();\r\n            output.close();\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Copy directory from a jar file","body":"<p>I know this question is kind of old now but after trying some answers that didn't work and others that required a whole library for just one method, I decided to put together a class. It doesn't require third-party libraries and it's been tested with Java 8. There are four public methods: <code>copyResourcesToTempDir</code>, <code>copyResourcesToDir</code>, <code>copyResourceDirectory</code> and <code>jar</code>.</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.URL;\nimport java.nio.file.Files;\nimport java.util.Enumeration;\nimport java.util.Optional;\nimport java.util.jar.JarEntry;\nimport java.util.jar.JarFile;\n\n/**\n * A helper to copy resources from a JAR file into a directory.\n */\npublic final class ResourceCopy {\n\n    /**\n     * URI prefix for JAR files.\n     */\n    private static final String JAR_URI_PREFIX = \"jar:file:\";\n\n    /**\n     * The default buffer size.\n     */\n    private static final int BUFFER_SIZE = 8 * 1024;\n\n    /**\n     * Copies a set of resources into a temporal directory, optionally preserving\n     * the paths of the resources.\n     * @param preserve Whether the files should be placed directly in the\n     *  directory or the source path should be kept\n     * @param paths The paths to the resources\n     * @return The temporal directory\n     * @throws IOException If there is an I/O error\n     */\n    public File copyResourcesToTempDir(final boolean preserve,\n        final String... paths)\n        throws IOException {\n        final File parent = new File(System.getProperty(\"java.io.tmpdir\"));\n        File directory;\n        do {\n            directory = new File(parent, String.valueOf(System.nanoTime()));\n        } while (!directory.mkdir());\n        return this.copyResourcesToDir(directory, preserve, paths);\n    }\n\n    /**\n     * Copies a set of resources into a directory, preserving the paths\n     * and names of the resources.\n     * @param directory The target directory\n     * @param preserve Whether the files should be placed directly in the\n     *  directory or the source path should be kept\n     * @param paths The paths to the resources\n     * @return The temporal directory\n     * @throws IOException If there is an I/O error\n     */\n    public File copyResourcesToDir(final File directory, final boolean preserve,\n        final String... paths) throws IOException {\n        for (final String path : paths) {\n            final File target;\n            if (preserve) {\n                target = new File(directory, path);\n                target.getParentFile().mkdirs();\n            } else {\n                target = new File(directory, new File(path).getName());\n            }\n            this.writeToFile(\n                Thread.currentThread()\n                    .getContextClassLoader()\n                    .getResourceAsStream(path),\n                target\n            );\n        }\n        return directory;\n    }\n\n    /**\n     * Copies a resource directory from inside a JAR file to a target directory.\n     * @param source The JAR file\n     * @param path The path to the directory inside the JAR file\n     * @param target The target directory\n     * @throws IOException If there is an I/O error\n     */\n    public void copyResourceDirectory(final JarFile source, final String path,\n        final File target) throws IOException {\n        final Enumeration&lt;JarEntry&gt; entries = source.entries();\n        final String newpath = String.format(\"%s/\", path);\n        while (entries.hasMoreElements()) {\n            final JarEntry entry = entries.nextElement();\n            if (entry.getName().startsWith(newpath) &amp;&amp; !entry.isDirectory()) {\n                final File dest =\n                    new File(target, entry.getName().substring(newpath.length()));\n                final File parent = dest.getParentFile();\n                if (parent != null) {\n                    parent.mkdirs();\n                }\n                this.writeToFile(source.getInputStream(entry), dest);\n            }\n        }\n    }\n\n    /**\n     * The JAR file containing the given class.\n     * @param clazz The class\n     * @return The JAR file or null\n     * @throws IOException If there is an I/O error\n     */\n    public Optional&lt;JarFile&gt; jar(final Class&lt;?&gt; clazz) throws IOException {\n        final String path =\n            String.format(\"/%s.class\", clazz.getName().replace('.', '/'));\n        final URL url = clazz.getResource(path);\n        Optional&lt;JarFile&gt; optional = Optional.empty();\n        if (url != null) {\n            final String jar = url.toString();\n            final int bang = jar.indexOf('!');\n            if (jar.startsWith(ResourceCopy.JAR_URI_PREFIX) &amp;&amp; bang != -1) {\n                optional = Optional.of(\n                    new JarFile(\n                        jar.substring(ResourceCopy.JAR_URI_PREFIX.length(), bang)\n                    )\n                );\n            }\n        }\n        return optional;\n    }\n\n    /**\n     * Writes an input stream to a file.\n     * @param input The input stream\n     * @param target The target file\n     * @throws IOException If there is an I/O error\n     */\n    private void writeToFile(final InputStream input, final File target)\n        throws IOException {\n        final OutputStream output = Files.newOutputStream(target.toPath());\n        final byte[] buffer = new byte[ResourceCopy.BUFFER_SIZE];\n        int length = input.read(buffer);\n        while (length &gt; 0) {\n            output.write(buffer, 0, length);\n            length = input.read(buffer);\n        }\n        input.close();\n        output.close();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17792631,"reputation":21,"user_id":12921258,"display_name":"arden liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589594903,"creation_date":1589594903,"answer_id":61831009,"question_id":1386809,"body_markdown":"You can use my library:\r\ncompile group: &#39;com.github.ardenliu&#39;, name: &#39;arden-file&#39;, version: &#39;0.0.4&#39;\r\n\r\nResourcesUtils class:\r\ncopyFromClassPath(final String resourcePath, final Path targetRoot)\r\n\r\nSource Code:\r\nhttps://github.com/ardenliu/common/blob/master/arden-file/src/main/java/com/github/ardenliu/common/file/ResourcesUtils.java\r\n\r\nJunit testing:\r\nOne testing case for Eclipse classpath; another one for jar \r\nhttps://github.com/ardenliu/common/blob/master/arden-file/src/test/java/com/github/ardenliu/common/file/ResourcesUtilsTest.java","title":"Copy directory from a jar file","body":"<p>You can use my library:\ncompile group: 'com.github.ardenliu', name: 'arden-file', version: '0.0.4'</p>\n\n<p>ResourcesUtils class:\ncopyFromClassPath(final String resourcePath, final Path targetRoot)</p>\n\n<p>Source Code:\n<a href=\"https://github.com/ardenliu/common/blob/master/arden-file/src/main/java/com/github/ardenliu/common/file/ResourcesUtils.java\" rel=\"nofollow noreferrer\">https://github.com/ardenliu/common/blob/master/arden-file/src/main/java/com/github/ardenliu/common/file/ResourcesUtils.java</a></p>\n\n<p>Junit testing:\nOne testing case for Eclipse classpath; another one for jar \n<a href=\"https://github.com/ardenliu/common/blob/master/arden-file/src/test/java/com/github/ardenliu/common/file/ResourcesUtilsTest.java\" rel=\"nofollow noreferrer\">https://github.com/ardenliu/common/blob/master/arden-file/src/test/java/com/github/ardenliu/common/file/ResourcesUtilsTest.java</a></p>\n"},{"tags":[],"owner":{"account_id":18874316,"reputation":11,"user_id":13768174,"display_name":"ytvnr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652770547,"creation_date":1652720767,"answer_id":72263008,"question_id":1386809,"body_markdown":"I liked the response from @nivekastoreth (https://stackoverflow.com/a/2993908/13768174) but was not able to use it directly because it was relying on third party libraries.\r\n\r\nI just rewrote it to use `java.nio.file.Files`\r\n\r\nLet&#39;s say I want to copy a folder like this:\r\n```\r\nparent\r\n|_folder\r\n  |_item1\r\n  |_item2\r\n|_folder2\r\n```\r\n\r\nI can just call the method like this:\r\n```\r\nfinal URL configFolderURL = getClass().getResource(&quot;in/jar/path/folder&quot;);\r\nPath targetDir = Files.createDirectory(Path.of(&quot;a&quot;,&quot;new&quot;,&quot;dir&quot;));\r\ncopyJarResourcesRecursively(targetDir, (JarURLConnection) configFolderURL.openConnection());\r\n```\r\n\r\nHere is the implementation:\r\n```\r\nprivate void copyJarResourcesRecursively(Path destination, JarURLConnection jarConnection) throws IOException {\r\n        JarFile jarFile = jarConnection.getJarFile();\r\n        for (Iterator&lt;JarEntry&gt; it = jarFile.entries().asIterator(); it.hasNext();) {\r\n            JarEntry entry = it.next();\r\n            if (entry.getName().startsWith(jarConnection.getEntryName())) {\r\n                if (!entry.isDirectory()) {\r\n                    try (InputStream entryInputStream = jarFile.getInputStream(entry)) {\r\n                        Files.copy(entryInputStream, Paths.get(destination.toString(), entry.getName()));\r\n                    }\r\n                } else {\r\n                    Files.createDirectories(Paths.get(destination.toString(), entry.getName()));\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n","title":"Copy directory from a jar file","body":"<p>I liked the response from @nivekastoreth (<a href=\"https://stackoverflow.com/a/2993908/13768174\">https://stackoverflow.com/a/2993908/13768174</a>) but was not able to use it directly because it was relying on third party libraries.</p>\n<p>I just rewrote it to use <code>java.nio.file.Files</code></p>\n<p>Let's say I want to copy a folder like this:</p>\n<pre><code>parent\n|_folder\n  |_item1\n  |_item2\n|_folder2\n</code></pre>\n<p>I can just call the method like this:</p>\n<pre><code>final URL configFolderURL = getClass().getResource(&quot;in/jar/path/folder&quot;);\nPath targetDir = Files.createDirectory(Path.of(&quot;a&quot;,&quot;new&quot;,&quot;dir&quot;));\ncopyJarResourcesRecursively(targetDir, (JarURLConnection) configFolderURL.openConnection());\n</code></pre>\n<p>Here is the implementation:</p>\n<pre><code>private void copyJarResourcesRecursively(Path destination, JarURLConnection jarConnection) throws IOException {\n        JarFile jarFile = jarConnection.getJarFile();\n        for (Iterator&lt;JarEntry&gt; it = jarFile.entries().asIterator(); it.hasNext();) {\n            JarEntry entry = it.next();\n            if (entry.getName().startsWith(jarConnection.getEntryName())) {\n                if (!entry.isDirectory()) {\n                    try (InputStream entryInputStream = jarFile.getInputStream(entry)) {\n                        Files.copy(entryInputStream, Paths.get(destination.toString(), entry.getName()));\n                    }\n                } else {\n                    Files.createDirectories(Paths.get(destination.toString(), entry.getName()));\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674726481,"creation_date":1674726481,"answer_id":75244464,"question_id":1386809,"body_markdown":"It can very easy using (**apache commons-io**) dependency\r\n\r\n\r\n\r\n    import org.apache.commons.io.FileUtils\r\n\r\n    public void copyResourceFileInsideJarToPath(String resourceName, Path toPath) throws IOException {\r\n        URL fromURL = getClass().getClassLoader().getResource(resourceName);\r\n        LOGGER.info(&quot;fromURL: {}&quot;, fromURL);\r\n        LOGGER.info(&quot;toPath: {}&quot;, toPath.toAbsolutePath());\r\n\r\n        Files.deleteIfExists(toPath);\r\n        FileUtils.copyURLToFile(fromURL, toPath.toFile());\r\n    }\r\n\r\n\r\nRelated maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Copy directory from a jar file","body":"<p>It can very easy using (<strong>apache commons-io</strong>) dependency</p>\n<pre><code>import org.apache.commons.io.FileUtils\n\npublic void copyResourceFileInsideJarToPath(String resourceName, Path toPath) throws IOException {\n    URL fromURL = getClass().getClassLoader().getResource(resourceName);\n    LOGGER.info(&quot;fromURL: {}&quot;, fromURL);\n    LOGGER.info(&quot;toPath: {}&quot;, toPath.toAbsolutePath());\n\n    Files.deleteIfExists(toPath);\n    FileUtils.copyURLToFile(fromURL, toPath.toFile());\n}\n</code></pre>\n<p>Related maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":41275,"reputation":92177,"user_id":119895,"accept_rate":92,"display_name":"Macarse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41812,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":1386868,"answer_count":13,"score":39,"last_activity_date":1674726481,"creation_date":1252273560,"question_id":1386809,"body_markdown":"I have recently developed an application and created the jar file.\r\n\r\nOne of my classes creates an output directory, populating it with files from its resource.\r\n\r\nMy code is something like this:\r\n\r\n    // Copy files from dir &quot;template&quot; in this class resource to output.\r\n    private void createOutput(File output) throws IOException {\r\n    \r\n        File template = new File(FileHelper.URL2Path(getClass().getResource(&quot;template&quot;)));\r\n        FileHelper.copyDirectory(template, output);\r\n    }\r\n\r\nUnfortunately this doesn&#39;t work.\r\n\r\nI tried the following without luck:\r\n\r\n - Using Streams to solve similar stuff\r\n   on other classes but it doesn&#39;t work\r\n   with dirs. Code was similar to\r\n   http://www.exampledepot.com/egs/java.io/CopyFile.html\r\n\r\n - Creating the File template with `new File(getClass().getResource(&quot;template&quot;).toUri())`\r\n\r\n\r\nWhile writing this I was thinking about instead of having a template dir in the resource path having a zip file of it. Doing it this way I could get the file as an inputStream and unzip it where I need to. But I am not sure if it&#39;s the correct way.\r\n\r\n","title":"Copy directory from a jar file","body":"<p>I have recently developed an application and created the jar file.</p>\n\n<p>One of my classes creates an output directory, populating it with files from its resource.</p>\n\n<p>My code is something like this:</p>\n\n<pre><code>// Copy files from dir \"template\" in this class resource to output.\nprivate void createOutput(File output) throws IOException {\n\n    File template = new File(FileHelper.URL2Path(getClass().getResource(\"template\")));\n    FileHelper.copyDirectory(template, output);\n}\n</code></pre>\n\n<p>Unfortunately this doesn't work.</p>\n\n<p>I tried the following without luck:</p>\n\n<ul>\n<li><p>Using Streams to solve similar stuff\non other classes but it doesn't work\nwith dirs. Code was similar to\n<a href=\"http://www.exampledepot.com/egs/java.io/CopyFile.html\" rel=\"noreferrer\">http://www.exampledepot.com/egs/java.io/CopyFile.html</a></p></li>\n<li><p>Creating the File template with <code>new File(getClass().getResource(\"template\").toUri())</code></p></li>\n</ul>\n\n<p>While writing this I was thinking about instead of having a template dir in the resource path having a zip file of it. Doing it this way I could get the file as an inputStream and unzip it where I need to. But I am not sure if it's the correct way.</p>\n"},{"tags":["java","exception","java-8","completable-future"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1554118369,"post_id":55453961,"comment_id":97621740,"body_markdown":"Class `CompletableFuture` was first added in JDK 8 but was enhanced in JDK 9. I think that in order to provide you an appropriate answer, you need to indicate which JDK you are using.","body":"Class <code>CompletableFuture</code> was first added in JDK 8 but was enhanced in JDK 9. I think that in order to provide you an appropriate answer, you need to indicate which JDK you are using."},{"owner":{"account_id":6994397,"reputation":2809,"user_id":5362510,"accept_rate":50,"display_name":"Ondra K."},"score":0,"creation_date":1554118401,"post_id":55453961,"comment_id":97621751,"body_markdown":"Java 8 - I&#39;ll update the question accordingly.","body":"Java 8 - I&#39;ll update the question accordingly."},{"owner":{"account_id":3096665,"reputation":3441,"user_id":2621706,"accept_rate":94,"display_name":"Uwe Allner"},"score":0,"creation_date":1554118760,"post_id":55453961,"comment_id":97621963,"body_markdown":"CompletableFuture.exceptionally is defined as returning a CompletableFuture, neither a String nor an exception (https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html). This cannot compile.","body":"CompletableFuture.exceptionally is defined as returning a CompletableFuture, neither a String nor an exception (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/&hellip;</a>). This cannot compile."},{"owner":{"account_id":6994397,"reputation":2809,"user_id":5362510,"accept_rate":50,"display_name":"Ondra K."},"score":0,"creation_date":1554118923,"post_id":55453961,"comment_id":97622041,"body_markdown":"@UweAllner You are wrong. `exceptionally(throwable -&gt; &quot;value&quot;)` is perfectly valid and works as expected. The function still returns `CompletableFuture`, the lambda is a parameter.","body":"@UweAllner You are wrong. <code>exceptionally(throwable -&gt; &quot;value&quot;)</code> is perfectly valid and works as expected. The function still returns <code>CompletableFuture</code>, the lambda is a parameter."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1554213177,"creation_date":1554213177,"answer_id":55476548,"question_id":55453961,"body_markdown":"In this scenario, it is impossible to receive a checked exception as the previous stage is based on a `Supplier`, which is not allowed to throw checked exceptions.\r\n\r\nSo you could handle all unchecked exceptions and raise an `AssertionError` for the throwables that ought to be impossible:\r\n\r\n    CompletableFuture\r\n        .supplyAsync(FuturesExample::fetchValue)\r\n        .exceptionally(throwable -&gt; {\r\n            if (throwable instanceof RuntimeException) {\r\n                return &quot;All good&quot;;\r\n            }\r\n            if(throwable instanceof Error) throw (Error)throwable;\r\n            throw new AssertionError(throwable);\r\n        });\r\nOtherwise, you may consider that subsequent stages, as well as callers of `join()` will get all exceptions except `CompletionException` and `CancellationException` wrapped in a `CompletionException` anyway. E.g. when I use\r\n\r\n    public static void main(String[] args) {\r\n        CompletableFuture&lt;String&gt; f = CompletableFuture\r\n            .supplyAsync(FuturesExample::fetchValue)\r\n            .exceptionally(throwable -&gt; {\r\n                if(throwable instanceof RuntimeException) {\r\n                    throw (RuntimeException)throwable;\r\n                }\r\n                throw new Error();\r\n            });\r\n        f.whenComplete((s,t) -&gt; {\r\n            if(t != null) {\r\n                System.err.println(&quot;in whenComplete handler &quot;);\r\n                t.printStackTrace();\r\n            }\r\n        });\r\n        System.err.println(&quot;calling join()&quot;);\r\n        f.join();\r\n    }\r\n    public static String fetchValue() {\r\n        throw new IllegalStateException(&quot;a test is going on&quot;);\r\n    }\r\n\r\nI get\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    in whenComplete handler \r\n    java.util.concurrent.CompletionException: java.lang.IllegalStateException: a test is going on\r\n    \tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1702)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n    \tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\r\n    Caused by: java.lang.IllegalStateException: a test is going on\r\n    \tat FuturesExample.fetchValue(FuturesExample.java:23)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\n    \t... 6 more\r\n    calling join()\r\n    Exception in thread &quot;main&quot; java.util.concurrent.CompletionException: java.lang.IllegalStateException: a test is going on\r\n    \tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1702)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n    \tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\r\n    Caused by: java.lang.IllegalStateException: a test is going on\r\n    \tat FuturesExample.fetchValue(FuturesExample.java:23)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\n    \t... 6 more\r\n\r\nSo I can use `CompletionException` for wrapping arbitrary throwables, utilizing the fact that `CompletionException` does not get wrapped again. So if I use\r\n\r\n    public static void main(String[] args) {\r\n        CompletableFuture&lt;String&gt; f = CompletableFuture\r\n            .supplyAsync(FuturesExample::fetchValue)\r\n            .exceptionally(throwable -&gt; {\r\n                if(throwable instanceof CompletionException)\r\n                    throwable = throwable.getCause();\r\n                System.err.println(&quot;wrapping &#39;&quot;+throwable+&quot;&#39; inside exceptionally&quot;);\r\n                throw new CompletionException(throwable);\r\n            });\r\n        f.whenComplete((s,t) -&gt; {\r\n            if(t != null) {\r\n                System.err.println(&quot;in whenComplete handler &quot;);\r\n                t.printStackTrace();\r\n            }\r\n        });\r\n        System.err.println(&quot;calling join()&quot;);\r\n        f.join();\r\n    }\r\n    public static String fetchValue() {\r\n        throw new IllegalStateException(&quot;a test is going on&quot;);\r\n    }\r\n\r\nI get\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    wrapping &#39;java.lang.IllegalStateException: a test is going on&#39; inside exceptionally\r\n    in whenComplete handler \r\n    java.util.concurrent.CompletionException: java.lang.IllegalStateException: a test is going on\r\n    \tat FuturesExample.lambda$main$0(FuturesExample.java:12)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.unipush(CompletableFuture.java:589)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniExceptionallyStage(CompletableFuture.java:1002)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:2307)\r\n    \tat FuturesExample.main(FuturesExample.java:8)\r\n    Caused by: java.lang.IllegalStateException: a test is going on\r\n    \tat FuturesExample.fetchValue(FuturesExample.java:24)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n    \tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\r\n    calling join()\r\n    Exception in thread &quot;main&quot; java.util.concurrent.CompletionException: java.lang.IllegalStateException: a test is going on\r\n    \tat FuturesExample.lambda$main$0(FuturesExample.java:12)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.unipush(CompletableFuture.java:589)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniExceptionallyStage(CompletableFuture.java:1002)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:2307)\r\n    \tat FuturesExample.main(FuturesExample.java:8)\r\n    Caused by: java.lang.IllegalStateException: a test is going on\r\n    \tat FuturesExample.fetchValue(FuturesExample.java:24)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n    \tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\r\n\r\nwhich differs slightly in the stack traces, but does not make a difference to the code receiving/catching the exception, as in either case, it’s a `CompletionException` wrapping an `IllegalStateException`.\r\n\r\nSo going back to the example of your question, you could use\r\n\r\n    CompletableFuture\r\n        .supplyAsync(FuturesExample::fetchValue)\r\n        .exceptionally(throwable -&gt; {\r\n            if (throwable instanceof RuntimeException) { // includes CompletionException\r\n                return &quot;All good&quot;;\r\n            }\r\n            throw new CompletionException(throwable);\r\n        });\r\nSince `CompletionException` is a `RuntimeException`, this code handles it and avoids wrapping a `CompletionException` in another `CompletionException`. Otherwise, the pattern would be\r\n\r\n        .exceptionally(throwable -&gt; {\r\n            if (some condition) {\r\n                return some value;\r\n            }\r\n            throw throwable instanceof CompletionException?\r\n                (CompletionException)throwable: new CompletionException(throwable);\r\n        });\r\n","title":"CompletableFuture#exceptionally rethrow checked exception","body":"<p>In this scenario, it is impossible to receive a checked exception as the previous stage is based on a <code>Supplier</code>, which is not allowed to throw checked exceptions.</p>\n\n<p>So you could handle all unchecked exceptions and raise an <code>AssertionError</code> for the throwables that ought to be impossible:</p>\n\n<pre><code>CompletableFuture\n    .supplyAsync(FuturesExample::fetchValue)\n    .exceptionally(throwable -&gt; {\n        if (throwable instanceof RuntimeException) {\n            return \"All good\";\n        }\n        if(throwable instanceof Error) throw (Error)throwable;\n        throw new AssertionError(throwable);\n    });\n</code></pre>\n\n<p>Otherwise, you may consider that subsequent stages, as well as callers of <code>join()</code> will get all exceptions except <code>CompletionException</code> and <code>CancellationException</code> wrapped in a <code>CompletionException</code> anyway. E.g. when I use</p>\n\n<pre><code>public static void main(String[] args) {\n    CompletableFuture&lt;String&gt; f = CompletableFuture\n        .supplyAsync(FuturesExample::fetchValue)\n        .exceptionally(throwable -&gt; {\n            if(throwable instanceof RuntimeException) {\n                throw (RuntimeException)throwable;\n            }\n            throw new Error();\n        });\n    f.whenComplete((s,t) -&gt; {\n        if(t != null) {\n            System.err.println(\"in whenComplete handler \");\n            t.printStackTrace();\n        }\n    });\n    System.err.println(\"calling join()\");\n    f.join();\n}\npublic static String fetchValue() {\n    throw new IllegalStateException(\"a test is going on\");\n}\n</code></pre>\n\n<p>I get</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>in whenComplete handler \njava.util.concurrent.CompletionException: java.lang.IllegalStateException: a test is going on\n    at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\n    at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1702)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\nCaused by: java.lang.IllegalStateException: a test is going on\n    at FuturesExample.fetchValue(FuturesExample.java:23)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\n    ... 6 more\ncalling join()\nException in thread \"main\" java.util.concurrent.CompletionException: java.lang.IllegalStateException: a test is going on\n    at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\n    at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1702)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\nCaused by: java.lang.IllegalStateException: a test is going on\n    at FuturesExample.fetchValue(FuturesExample.java:23)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\n    ... 6 more\n</code></pre>\n\n<p>So I can use <code>CompletionException</code> for wrapping arbitrary throwables, utilizing the fact that <code>CompletionException</code> does not get wrapped again. So if I use</p>\n\n<pre><code>public static void main(String[] args) {\n    CompletableFuture&lt;String&gt; f = CompletableFuture\n        .supplyAsync(FuturesExample::fetchValue)\n        .exceptionally(throwable -&gt; {\n            if(throwable instanceof CompletionException)\n                throwable = throwable.getCause();\n            System.err.println(\"wrapping '\"+throwable+\"' inside exceptionally\");\n            throw new CompletionException(throwable);\n        });\n    f.whenComplete((s,t) -&gt; {\n        if(t != null) {\n            System.err.println(\"in whenComplete handler \");\n            t.printStackTrace();\n        }\n    });\n    System.err.println(\"calling join()\");\n    f.join();\n}\npublic static String fetchValue() {\n    throw new IllegalStateException(\"a test is going on\");\n}\n</code></pre>\n\n<p>I get</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>wrapping 'java.lang.IllegalStateException: a test is going on' inside exceptionally\nin whenComplete handler \njava.util.concurrent.CompletionException: java.lang.IllegalStateException: a test is going on\n    at FuturesExample.lambda$main$0(FuturesExample.java:12)\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)\n    at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)\n    at java.base/java.util.concurrent.CompletableFuture.unipush(CompletableFuture.java:589)\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionallyStage(CompletableFuture.java:1002)\n    at java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:2307)\n    at FuturesExample.main(FuturesExample.java:8)\nCaused by: java.lang.IllegalStateException: a test is going on\n    at FuturesExample.fetchValue(FuturesExample.java:24)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\ncalling join()\nException in thread \"main\" java.util.concurrent.CompletionException: java.lang.IllegalStateException: a test is going on\n    at FuturesExample.lambda$main$0(FuturesExample.java:12)\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)\n    at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)\n    at java.base/java.util.concurrent.CompletableFuture.unipush(CompletableFuture.java:589)\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionallyStage(CompletableFuture.java:1002)\n    at java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:2307)\n    at FuturesExample.main(FuturesExample.java:8)\nCaused by: java.lang.IllegalStateException: a test is going on\n    at FuturesExample.fetchValue(FuturesExample.java:24)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1692)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\n</code></pre>\n\n<p>which differs slightly in the stack traces, but does not make a difference to the code receiving/catching the exception, as in either case, it’s a <code>CompletionException</code> wrapping an <code>IllegalStateException</code>.</p>\n\n<p>So going back to the example of your question, you could use</p>\n\n<pre><code>CompletableFuture\n    .supplyAsync(FuturesExample::fetchValue)\n    .exceptionally(throwable -&gt; {\n        if (throwable instanceof RuntimeException) { // includes CompletionException\n            return \"All good\";\n        }\n        throw new CompletionException(throwable);\n    });\n</code></pre>\n\n<p>Since <code>CompletionException</code> is a <code>RuntimeException</code>, this code handles it and avoids wrapping a <code>CompletionException</code> in another <code>CompletionException</code>. Otherwise, the pattern would be</p>\n\n<pre><code>    .exceptionally(throwable -&gt; {\n        if (some condition) {\n            return some value;\n        }\n        throw throwable instanceof CompletionException?\n            (CompletionException)throwable: new CompletionException(throwable);\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674726109,"creation_date":1645082303,"answer_id":71153891,"question_id":55453961,"body_markdown":"As [holger wrote](https://stackoverflow.com/a/55476548/6537157), this is normally not possible.  \r\nBut, there is a trick with lombok and it&#39;s [@SneakyThrows](https://projectlombok.org/features/SneakyThrows).\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    CompletableFuture\r\n            .supplyAsync(FuturesExample::fetchValue)\r\n            .exceptionally(throwable -&gt; {\r\n                if (throwable instanceof RuntimeException) {\r\n                    return &quot;All good&quot;;\r\n                }\r\n                FutureExample.reThrow(throwable);\r\n                // maybe a &quot;return null&quot; is necessary here (even when it is not reachable)\r\n            });\r\n}\r\n\r\npublic static String fetchValue() {\r\n    // code that potentially throws an exception\r\n    return &quot;value&quot;;\r\n}\r\n\r\n@SneakyThrows // &lt;- threat checked exceptions in method-body as unchecked\r\npublic static void reThrow(Throwable throwable) {\r\n   throw throwable;\r\n}\r\n```\r\n\r\n---\r\nYou can also archive it with `ExceptionUtils.rethrow()` (thanks [vlp](https://stackoverflow.com/users/5128464/vlp)).\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    CompletableFuture\r\n            .supplyAsync(FuturesExample::fetchValue)\r\n            .exceptionally(throwable -&gt; {\r\n                if (throwable instanceof RuntimeException) {\r\n                    return &quot;All good&quot;;\r\n                }\r\n               reThrow(throwable);\r\n                // maybe a &quot;return null&quot; is necessary here (even when it is not reachable)\r\n            });\r\n}\r\n```","title":"CompletableFuture#exceptionally rethrow checked exception","body":"<p>As <a href=\"https://stackoverflow.com/a/55476548/6537157\">holger wrote</a>, this is normally not possible.<br />\nBut, there is a trick with lombok and it's <a href=\"https://projectlombok.org/features/SneakyThrows\" rel=\"nofollow noreferrer\">@SneakyThrows</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    CompletableFuture\n            .supplyAsync(FuturesExample::fetchValue)\n            .exceptionally(throwable -&gt; {\n                if (throwable instanceof RuntimeException) {\n                    return &quot;All good&quot;;\n                }\n                FutureExample.reThrow(throwable);\n                // maybe a &quot;return null&quot; is necessary here (even when it is not reachable)\n            });\n}\n\npublic static String fetchValue() {\n    // code that potentially throws an exception\n    return &quot;value&quot;;\n}\n\n@SneakyThrows // &lt;- threat checked exceptions in method-body as unchecked\npublic static void reThrow(Throwable throwable) {\n   throw throwable;\n}\n</code></pre>\n<hr />\n<p>You can also archive it with <code>ExceptionUtils.rethrow()</code> (thanks <a href=\"https://stackoverflow.com/users/5128464/vlp\">vlp</a>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    CompletableFuture\n            .supplyAsync(FuturesExample::fetchValue)\n            .exceptionally(throwable -&gt; {\n                if (throwable instanceof RuntimeException) {\n                    return &quot;All good&quot;;\n                }\n               reThrow(throwable);\n                // maybe a &quot;return null&quot; is necessary here (even when it is not reachable)\n            });\n}\n</code></pre>\n"}],"owner":{"account_id":6994397,"reputation":2809,"user_id":5362510,"accept_rate":50,"display_name":"Ondra K."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11043,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":2,"score":10,"last_activity_date":1674726109,"creation_date":1554117753,"question_id":55453961,"body_markdown":"Suppose I want to recover with some value if I get a specific exception, otherwise return the failed future with the exception. I would expect something like this:\r\n\r\n    public static void main(String[] args) {\r\n        CompletableFuture\r\n                .supplyAsync(FuturesExample::fetchValue)\r\n                .exceptionally(throwable -&gt; {\r\n                    if (throwable instanceof RuntimeException) {\r\n                        return &quot;All good&quot;;\r\n                    }\r\n                    throw throwable; // does not compile\r\n                });\r\n    }\r\n\r\n    public static String fetchValue() {\r\n        // code that potentially throws an exception\r\n        return &quot;value&quot;;\r\n    }\r\n\r\nIf the `fetchValue` function would throw a _checked_ exception, I would like to handle it in the chained methods. I have tried both `return throwable` and `throw throwable`, but neither does compile. Do `CompletableFuture`s offer any solution to this scenario? I am aware that the `Function` interface that is the parameter of the `exceptionally` method does not throw any exceptions - I would just like to return the already failed future in this case. I would like to find a solution using Java 8.","title":"CompletableFuture#exceptionally rethrow checked exception","body":"<p>Suppose I want to recover with some value if I get a specific exception, otherwise return the failed future with the exception. I would expect something like this:</p>\n\n<pre><code>public static void main(String[] args) {\n    CompletableFuture\n            .supplyAsync(FuturesExample::fetchValue)\n            .exceptionally(throwable -&gt; {\n                if (throwable instanceof RuntimeException) {\n                    return \"All good\";\n                }\n                throw throwable; // does not compile\n            });\n}\n\npublic static String fetchValue() {\n    // code that potentially throws an exception\n    return \"value\";\n}\n</code></pre>\n\n<p>If the <code>fetchValue</code> function would throw a <em>checked</em> exception, I would like to handle it in the chained methods. I have tried both <code>return throwable</code> and <code>throw throwable</code>, but neither does compile. Do <code>CompletableFuture</code>s offer any solution to this scenario? I am aware that the <code>Function</code> interface that is the parameter of the <code>exceptionally</code> method does not throw any exceptions - I would just like to return the already failed future in this case. I would like to find a solution using Java 8.</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1674752352,"post_id":75244372,"comment_id":132785467,"body_markdown":"Since this is clearly a firewall issue, a workaround is to turn off your firewall for a few seconds to get _nb-javac_ installed, because you definitely need it for NetBeans with JDK 8. Alternatively, upgrade to JDK 9  or later, where installing _nb-javac_  is not essential. See [What&#39;s &quot;nb-javac&quot; in Apache NetBeans?](https://blogs.apache.org/netbeans/entry/what-s-nb-javac-in) for clarification. All that said, there are several newer releases of both NetBeans and Java, so it would be much better to use more recent releases of both (if that is possible for you).","body":"Since this is clearly a firewall issue, a workaround is to turn off your firewall for a few seconds to get <i>nb-javac</i> installed, because you definitely need it for NetBeans with JDK 8. Alternatively, upgrade to JDK 9  or later, where installing <i>nb-javac</i>  is not essential. See <a href=\"https://blogs.apache.org/netbeans/entry/what-s-nb-javac-in\" rel=\"nofollow noreferrer\">What&#39;s &quot;nb-javac&quot; in Apache NetBeans?</a> for clarification. All that said, there are several newer releases of both NetBeans and Java, so it would be much better to use more recent releases of both (if that is possible for you)."},{"owner":{"account_id":452758,"reputation":3607,"user_id":849365,"accept_rate":100,"display_name":"Prahlad Yeri"},"score":0,"creation_date":1674805283,"post_id":75244372,"comment_id":132795275,"body_markdown":"I also tried by turning off the firewall, even that didn&#39;t work with Netbeans 11.3. What did work was upgrading to version 12 but even there I faced issues as it needed additional `cacerts` in `jre/lib/security/` directory. Sadly, I have a 32 bit windows laptop where JDK8 is the latest one supported, all the above versions require 64 bit windows.","body":"I also tried by turning off the firewall, even that didn&#39;t work with Netbeans 11.3. What did work was upgrading to version 12 but even there I faced issues as it needed additional <code>cacerts</code> in <code>jre&#47;lib&#47;security&#47;</code> directory. Sadly, I have a 32 bit windows laptop where JDK8 is the latest one supported, all the above versions require 64 bit windows."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1674840101,"post_id":75244372,"comment_id":132806081,"body_markdown":"There is [a NetBeans plugin for 12.0 which might help](https://plugins.netbeans.apache.org/catalogue/?id=20) with your certificate issue. If a connection fails _&quot;this plugin intercepts and prompts the user if the connection should be established regardless&quot;_. Note that the plugin understandably comes with a warning in bold font: __&quot;Using this module should be a last resort - fixing the certificate is preferred!&quot;__, so be careful if you choose to try it. There is also a version for NetBeans 11, and you might be able to use that one to diagnose what you need to adjust in your firewall settings.","body":"There is <a href=\"https://plugins.netbeans.apache.org/catalogue/?id=20\" rel=\"nofollow noreferrer\">a NetBeans plugin for 12.0 which might help</a> with your certificate issue. If a connection fails <i>&quot;this plugin intercepts and prompts the user if the connection should be established regardless&quot;</i>. Note that the plugin understandably comes with a warning in bold font: <b>&quot;Using this module should be a last resort - fixing the certificate is preferred!&quot;</b>, so be careful if you choose to try it. There is also a version for NetBeans 11, and you might be able to use that one to diagnose what you need to adjust in your firewall settings."},{"owner":{"account_id":452758,"reputation":3607,"user_id":849365,"accept_rate":100,"display_name":"Prahlad Yeri"},"score":0,"creation_date":1674846512,"post_id":75244372,"comment_id":132807949,"body_markdown":"Wow, sounds like a good plugin, thanks! For now, I&#39;ve paved my way by manually installing the certs for those few plugin sites [as described here](https://stackoverflow.com/a/66889979/849365) but this sounds good.","body":"Wow, sounds like a good plugin, thanks! For now, I&#39;ve paved my way by manually installing the certs for those few plugin sites <a href=\"https://stackoverflow.com/a/66889979/849365\">as described here</a> but this sounds good."}],"owner":{"account_id":452758,"reputation":3607,"user_id":849365,"accept_rate":100,"display_name":"Prahlad Yeri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674725883,"creation_date":1674725883,"question_id":75244372,"body_markdown":"I&#39;m using Apache Netbeans 11.3 on Windows 10 (32 bit) with JDK8 (openjdk &quot;1.8.0_40&quot;). As I started to create my first Standard Java Project, it returned an error saying following plugin must be installed:\r\n\r\n- `The nb-javac Java editing support library`\r\n\r\nBut as I tried to install the same from Tools=&gt;Plugins menu, I got the below error:\r\n\r\n[![nb plugins network error][1]][1]\r\n\r\nWhen I went to Tools=&gt;Options and tried &quot;Test connection&quot;, that returned a connection error too:\r\n\r\n[![nb network test error][2]][2]\r\n\r\nI suspect this must be probably related to my windows firewall settings, though I&#39;ve already shortlisted `netbeans.exe`, `java.exe` and `javaw.exe` in my firewall settings. I also tried manually downloading that exact jar file NB is trying to download (`https://netbeans.osuosl.org/binaries/34E9F9C1BDC61FE7EFCCF305D70960B862DE7815-nb-javac-13-impl.jar`) but even that didn&#39;t work. When I go to Plugins=&gt;Downloaded tab=&gt;Add Plugins and browse that file, NB won&#39;t recognize it.\r\n\r\nHow can I resolve this? My objective is to just install this plugin and get going with my Java learning agenda. Be it through the auto-installer or a way of manually getting NB to recognize this file, both are fine.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jkSgu.png\r\n  [2]: https://i.stack.imgur.com/bikUP.png","title":"Netbeans 11.3 is unable to download plugins or connect to the network","body":"<p>I'm using Apache Netbeans 11.3 on Windows 10 (32 bit) with JDK8 (openjdk &quot;1.8.0_40&quot;). As I started to create my first Standard Java Project, it returned an error saying following plugin must be installed:</p>\n<ul>\n<li><code>The nb-javac Java editing support library</code></li>\n</ul>\n<p>But as I tried to install the same from Tools=&gt;Plugins menu, I got the below error:</p>\n<p><a href=\"https://i.stack.imgur.com/jkSgu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jkSgu.png\" alt=\"nb plugins network error\" /></a></p>\n<p>When I went to Tools=&gt;Options and tried &quot;Test connection&quot;, that returned a connection error too:</p>\n<p><a href=\"https://i.stack.imgur.com/bikUP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bikUP.png\" alt=\"nb network test error\" /></a></p>\n<p>I suspect this must be probably related to my windows firewall settings, though I've already shortlisted <code>netbeans.exe</code>, <code>java.exe</code> and <code>javaw.exe</code> in my firewall settings. I also tried manually downloading that exact jar file NB is trying to download (<code>https://netbeans.osuosl.org/binaries/34E9F9C1BDC61FE7EFCCF305D70960B862DE7815-nb-javac-13-impl.jar</code>) but even that didn't work. When I go to Plugins=&gt;Downloaded tab=&gt;Add Plugins and browse that file, NB won't recognize it.</p>\n<p>How can I resolve this? My objective is to just install this plugin and get going with my Java learning agenda. Be it through the auto-installer or a way of manually getting NB to recognize this file, both are fine.</p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674725853,"creation_date":1674725853,"answer_id":75244362,"question_id":75243958,"body_markdown":"You could use &quot;application-default.properties&quot; file and put `spring.data.mongodb.uri` in there. The &quot;default&quot; Spring profile will be active when no other profiles are selected. So you can start locally with any profile (&quot;dev&quot; or whatever) and &quot;application-default.properties&quot; file will not be loaded.\r\n\r\nOf course, keep in mind that adding any profile in production would also disable `spring.data.mongodb.uri` in this case.","title":"Spring Boot: how to disable (or remove) property in application.properties using externalized configuration","body":"<p>You could use &quot;application-default.properties&quot; file and put <code>spring.data.mongodb.uri</code> in there. The &quot;default&quot; Spring profile will be active when no other profiles are selected. So you can start locally with any profile (&quot;dev&quot; or whatever) and &quot;application-default.properties&quot; file will not be loaded.</p>\n<p>Of course, keep in mind that adding any profile in production would also disable <code>spring.data.mongodb.uri</code> in this case.</p>\n"}],"owner":{"account_id":1059597,"reputation":24002,"user_id":1061499,"accept_rate":84,"display_name":"davioooh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674725853,"creation_date":1674723391,"question_id":75243958,"body_markdown":"I&#39;m working on a Spring Boot project (v2.3.x) connected to a MongoDB instance.\r\n\r\nThe connection is configured using the property `spring.data.mongodb.uri`.\r\n\r\nNow, for local development I&#39;d like to configure the connection using host/port, i.e. using these properties (I&#39;m configuring these via ENV VARs):\r\n\r\n    spring.data.mongodb.host\r\n    spring.data.mongodb.port\r\n\r\nAdding these properties, while leaving `spring.data.mongodb.uri`, obviously results in an error on application run:\r\n\r\n    java.lang.IllegalStateException: Invalid mongo configuration, either uri or host/port/credentials/replicaSet must be specified\r\n\r\nSo I&#39;m wondering if there is a way to disable the `spring.data.mongodb.uri` configuration using properties override (externalized configuraion) provided by Spring Boot.\r\n\r\nIs this possible? I tried setting `spring.data.mongodb.uri=null` but the startup error remains. \r\n\r\nHow can I achieve this without directly modifying the `application.properties` file?\r\n\r\n**NOTE**: I also considered using *profiles*, but also using this feature I cannot find a way to override the &quot;main&quot; configuration.","title":"Spring Boot: how to disable (or remove) property in application.properties using externalized configuration","body":"<p>I'm working on a Spring Boot project (v2.3.x) connected to a MongoDB instance.</p>\n<p>The connection is configured using the property <code>spring.data.mongodb.uri</code>.</p>\n<p>Now, for local development I'd like to configure the connection using host/port, i.e. using these properties (I'm configuring these via ENV VARs):</p>\n<pre><code>spring.data.mongodb.host\nspring.data.mongodb.port\n</code></pre>\n<p>Adding these properties, while leaving <code>spring.data.mongodb.uri</code>, obviously results in an error on application run:</p>\n<pre><code>java.lang.IllegalStateException: Invalid mongo configuration, either uri or host/port/credentials/replicaSet must be specified\n</code></pre>\n<p>So I'm wondering if there is a way to disable the <code>spring.data.mongodb.uri</code> configuration using properties override (externalized configuraion) provided by Spring Boot.</p>\n<p>Is this possible? I tried setting <code>spring.data.mongodb.uri=null</code> but the startup error remains.</p>\n<p>How can I achieve this without directly modifying the <code>application.properties</code> file?</p>\n<p><strong>NOTE</strong>: I also considered using <em>profiles</em>, but also using this feature I cannot find a way to override the &quot;main&quot; configuration.</p>\n"},{"tags":["java","arrays","json","parsing"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1674725128,"post_id":75244214,"comment_id":132776321,"body_markdown":"Sure, I don&#39;t see anything that would make this impossible. What did you try so far? You might have to parse the input into 3 arrays first and then do the transposing yourself though.","body":"Sure, I don&#39;t see anything that would make this impossible. What did you try so far? You might have to parse the input into 3 arrays first and then do the transposing yourself though."}],"answers":[{"tags":[],"owner":{"account_id":24776515,"reputation":35,"user_id":18660089,"display_name":"Ramen Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674725494,"creation_date":1674725494,"answer_id":75244290,"question_id":75244214,"body_markdown":"There are a few solutions to parsing JSON from Java, like [GSON](https://mvnrepository.com/artifact/com.google.code.gson/gson), though if the data format you are working with is simple enough and you don&#39;t have to parse all kinds of JSON, you might as well parse it by yourself.","title":"Parse JSON in java (custom)","body":"<p>There are a few solutions to parsing JSON from Java, like <a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"nofollow noreferrer\">GSON</a>, though if the data format you are working with is simple enough and you don't have to parse all kinds of JSON, you might as well parse it by yourself.</p>\n"},{"tags":[],"owner":{"account_id":8436158,"reputation":700,"user_id":6395007,"display_name":"Ionut Alexandru"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674725602,"creation_date":1674725602,"answer_id":75244311,"question_id":75244214,"body_markdown":"     \r\n    \r\n            String jsonArray = &quot;[[\\&quot;1234\\&quot;,\\&quot;OS\\&quot;,\\&quot;01/31/2023\\&quot;,\\&quot;02/01/2023\\&quot;,\\&quot;First Day\\&quot;],[\\&quot;1245\\&quot;,\\&quot;OS\\&quot;,\\&quot;01/23/2023\\&quot;,\\&quot;01/24/2023\\&quot;,\\&quot;Last Day\\&quot;],[\\&quot;3411\\&quot;,\\&quot;OS\\&quot;,\\&quot;09/21/2022\\&quot;,\\&quot;09/21/2022\\&quot;,\\&quot;Second Day\\&quot;]]&quot;;\r\n            \r\n            JsonArray array = Json.createReader(new StringReader(jsonArray)).readArray();\r\n            List&lt;String&gt; firstElements = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; secondElements = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; thirdElements = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; fourthElements = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; fifthElements = new ArrayList&lt;&gt;();\r\n            \r\n            array.forEach( value -&gt; {\r\n                JsonArray innerArray = value.asJsonArray();\r\n                firstElements.add(innerArray.getString(0));\r\n                secondElements.add(innerArray.getString(1));\r\n                thirdElements.add(innerArray.getString(2));\r\n                fourthElements.add(innerArray.getString(3));\r\n                fifthElements.add(innerArray.getString(4));\r\n    \r\n            )};\r\n\r\nIf you want something more generic you can use a `List&lt;List&lt;String&gt;&gt;`\r\n\r\n    String jsonArray = &quot;[[\\&quot;1234\\&quot;,\\&quot;OS\\&quot;,\\&quot;01/31/2023\\&quot;,\\&quot;02/01/2023\\&quot;,\\&quot;First Day\\&quot;],[\\&quot;1245\\&quot;,\\&quot;OS\\&quot;,\\&quot;01/23/2023\\&quot;,\\&quot;01/24/2023\\&quot;,\\&quot;Last Day\\&quot;],[\\&quot;3411\\&quot;,\\&quot;OS\\&quot;,\\&quot;09/21/2022\\&quot;,\\&quot;09/21/2022\\&quot;,\\&quot;Second Day\\&quot;]]&quot;;\r\n    \r\n    JsonArray array = Json.createReader(new StringReader(jsonArray)).readArray();\r\n    List&lt;List&lt;String&gt;&gt; elements = new ArrayList&lt;&gt;();\r\n    \r\n    array.forEach( value -&gt; {\r\n        JsonArray innerArray = value.asJsonArray();\r\n        List&lt;String&gt; subElements = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; innerArray.size(); i++) {\r\n            subElements.add(innerArray.getString(i));\r\n        }\r\n        elements.add(subElements);\r\n    });","title":"Parse JSON in java (custom)","body":"<pre><code>        String jsonArray = &quot;[[\\&quot;1234\\&quot;,\\&quot;OS\\&quot;,\\&quot;01/31/2023\\&quot;,\\&quot;02/01/2023\\&quot;,\\&quot;First Day\\&quot;],[\\&quot;1245\\&quot;,\\&quot;OS\\&quot;,\\&quot;01/23/2023\\&quot;,\\&quot;01/24/2023\\&quot;,\\&quot;Last Day\\&quot;],[\\&quot;3411\\&quot;,\\&quot;OS\\&quot;,\\&quot;09/21/2022\\&quot;,\\&quot;09/21/2022\\&quot;,\\&quot;Second Day\\&quot;]]&quot;;\n        \n        JsonArray array = Json.createReader(new StringReader(jsonArray)).readArray();\n        List&lt;String&gt; firstElements = new ArrayList&lt;&gt;();\n        List&lt;String&gt; secondElements = new ArrayList&lt;&gt;();\n        List&lt;String&gt; thirdElements = new ArrayList&lt;&gt;();\n        List&lt;String&gt; fourthElements = new ArrayList&lt;&gt;();\n        List&lt;String&gt; fifthElements = new ArrayList&lt;&gt;();\n        \n        array.forEach( value -&gt; {\n            JsonArray innerArray = value.asJsonArray();\n            firstElements.add(innerArray.getString(0));\n            secondElements.add(innerArray.getString(1));\n            thirdElements.add(innerArray.getString(2));\n            fourthElements.add(innerArray.getString(3));\n            fifthElements.add(innerArray.getString(4));\n\n        )};\n</code></pre>\n<p>If you want something more generic you can use a <code>List&lt;List&lt;String&gt;&gt;</code></p>\n<pre><code>String jsonArray = &quot;[[\\&quot;1234\\&quot;,\\&quot;OS\\&quot;,\\&quot;01/31/2023\\&quot;,\\&quot;02/01/2023\\&quot;,\\&quot;First Day\\&quot;],[\\&quot;1245\\&quot;,\\&quot;OS\\&quot;,\\&quot;01/23/2023\\&quot;,\\&quot;01/24/2023\\&quot;,\\&quot;Last Day\\&quot;],[\\&quot;3411\\&quot;,\\&quot;OS\\&quot;,\\&quot;09/21/2022\\&quot;,\\&quot;09/21/2022\\&quot;,\\&quot;Second Day\\&quot;]]&quot;;\n\nJsonArray array = Json.createReader(new StringReader(jsonArray)).readArray();\nList&lt;List&lt;String&gt;&gt; elements = new ArrayList&lt;&gt;();\n\narray.forEach( value -&gt; {\n    JsonArray innerArray = value.asJsonArray();\n    List&lt;String&gt; subElements = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; innerArray.size(); i++) {\n        subElements.add(innerArray.getString(i));\n    }\n    elements.add(subElements);\n});\n</code></pre>\n"}],"owner":{"account_id":17427025,"reputation":27,"user_id":12631750,"display_name":"Haris Qureshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75244311,"answer_count":2,"score":-2,"last_activity_date":1674725626,"creation_date":1674724997,"question_id":75244214,"body_markdown":"I have a JSON array in the following format: \r\n\r\n    [[&quot;1234&quot;,&quot;OS&quot;,&quot;01/31/2023&quot;,&quot;02/01/2023&quot;,&quot;First Day&quot;],[&quot;1245&quot;,&quot;OS&quot;,&quot;01/23/2023&quot;,&quot;01/24/2023&quot;,&quot;Last Day&quot;],[&quot;3411&quot;,&quot;OS&quot;,&quot;09/21/2022&quot;,&quot;09/21/2022&quot;,&quot;Second Day&quot;]] \r\n\r\nIn Java, I would like to parse this array and store data in the following format: \r\n\r\n    String[] firstElements = [&quot;1234&quot; , &quot;1245&quot;, &quot;3411&quot;];\r\n    String[] secondElements = [&quot;OS&quot;, &quot;OS&quot;, &quot;OS&quot;];\r\n    String[] thirdElements = [&quot;01/31/2023&quot;, &quot;01/23/2023&quot;, &quot;09/21/2022&quot;];\r\n    String[] fourthElements = [&quot;02/01/2023&quot;, &quot;01/24/2023&quot;, &quot;09/21/2022&quot;];\r\n    String[] fifthElements = [&quot;First Day&quot;, &quot;Last Day&quot;, &quot;Second Day&quot;];\r\n\r\nIs this possible? How can I achieve this?","title":"Parse JSON in java (custom)","body":"<p>I have a JSON array in the following format:</p>\n<pre><code>[[&quot;1234&quot;,&quot;OS&quot;,&quot;01/31/2023&quot;,&quot;02/01/2023&quot;,&quot;First Day&quot;],[&quot;1245&quot;,&quot;OS&quot;,&quot;01/23/2023&quot;,&quot;01/24/2023&quot;,&quot;Last Day&quot;],[&quot;3411&quot;,&quot;OS&quot;,&quot;09/21/2022&quot;,&quot;09/21/2022&quot;,&quot;Second Day&quot;]] \n</code></pre>\n<p>In Java, I would like to parse this array and store data in the following format:</p>\n<pre><code>String[] firstElements = [&quot;1234&quot; , &quot;1245&quot;, &quot;3411&quot;];\nString[] secondElements = [&quot;OS&quot;, &quot;OS&quot;, &quot;OS&quot;];\nString[] thirdElements = [&quot;01/31/2023&quot;, &quot;01/23/2023&quot;, &quot;09/21/2022&quot;];\nString[] fourthElements = [&quot;02/01/2023&quot;, &quot;01/24/2023&quot;, &quot;09/21/2022&quot;];\nString[] fifthElements = [&quot;First Day&quot;, &quot;Last Day&quot;, &quot;Second Day&quot;];\n</code></pre>\n<p>Is this possible? How can I achieve this?</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":1,"creation_date":1674726036,"post_id":75244279,"comment_id":132776649,"body_markdown":"Session `max_allowed_packet` option variable is read-only, i.e. you cannot alter it. If current value is too low then you must either reconfigure and restart your server (remember, this will alter memory consumption accordingly, so the server must be re-tuned), or you may simply divide your data packed to chunks (save your data using a pack of separate queries). The last option seems to be more safe.","body":"Session <code>max_allowed_packet</code> option variable is read-only, i.e. you cannot alter it. If current value is too low then you must either reconfigure and restart your server (remember, this will alter memory consumption accordingly, so the server must be re-tuned), or you may simply divide your data packed to chunks (save your data using a pack of separate queries). The last option seems to be more safe."},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1674727083,"post_id":75244279,"comment_id":132777016,"body_markdown":"Thank you @Akina, how would you suggest to divide, I mean I have the number of records, how can I check the volume of them? one client might have 30k records and the other 100k. it is not even guaranteed to meet the limitation by divide based on the numbers","body":"Thank you @Akina, how would you suggest to divide, I mean I have the number of records, how can I check the volume of them? one client might have 30k records and the other 100k. it is not even guaranteed to meet the limitation by divide based on the numbers"},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":1,"creation_date":1674734133,"post_id":75244279,"comment_id":132779081,"body_markdown":"Imagine that you have a row to be inserted. You know the columns datatypes, for string type you know the lengths, and you know the datatypes overheads. Hence you can easily calculate the size of the row. Do this for each row to be inserted. I recommend you to use chunks which are ~25-30% in size of `max_allowed_packet` value, this guarantees that you won&#39;t exceed the limitation.","body":"Imagine that you have a row to be inserted. You know the columns datatypes, for string type you know the lengths, and you know the datatypes overheads. Hence you can easily calculate the size of the row. Do this for each row to be inserted. I recommend you to use chunks which are ~25-30% in size of <code>max_allowed_packet</code> value, this guarantees that you won&#39;t exceed the limitation."}],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674725460,"creation_date":1674725421,"question_id":75244279,"body_markdown":"I am sending requests to the `GOOGLE MY BUSINESS API` (com.google.api.services.mybusiness.v4) and as a response I receive the `Reviews` for our client. I collect all the reviews in a List (in java) and finally at the end, I insert them in a`MY-SQL` table. We have different clients which may have various numbers of reviews everyday, and the problem is that sometimes the process fails because this so-called **`max-allowed-packet`** limit has been exceeded. \r\n\r\n    \r\n    mysql&gt; SHOW VARIABLES LIKE &#39;max_allowed_packet&#39;;\r\n    +--------------------+----------+\r\n    | Variable_name      | Value    |\r\n    +--------------------+----------+\r\n    | max_allowed_packet | 33554432 |\r\n    +--------------------+----------+\r\n    1 row in set (0.03 sec)\r\nSince this value is in bytes, how can I handle this problem? I mean I have a List of info to insert so I have the **number** of records and not their volume. For the moment I am shrinking my list into sub-lists if they are more than 10000 records but there is no guarantee that less than 10K records would satisfy the `max_allowed_packet` limitation.\r\nPlus, I cannot increase this variable according to the `DBA` policies. \r\nAny help would be appreciated.\r\n","title":"How to handle the Variable &#39;max_allowed_packet&#39; limitation in MYSQL?","body":"<p>I am sending requests to the <code>GOOGLE MY BUSINESS API</code> (com.google.api.services.mybusiness.v4) and as a response I receive the <code>Reviews</code> for our client. I collect all the reviews in a List (in java) and finally at the end, I insert them in a<code>MY-SQL</code> table. We have different clients which may have various numbers of reviews everyday, and the problem is that sometimes the process fails because this so-called <strong><code>max-allowed-packet</code></strong> limit has been exceeded.</p>\n<pre><code>mysql&gt; SHOW VARIABLES LIKE 'max_allowed_packet';\n+--------------------+----------+\n| Variable_name      | Value    |\n+--------------------+----------+\n| max_allowed_packet | 33554432 |\n+--------------------+----------+\n1 row in set (0.03 sec)\n</code></pre>\n<p>Since this value is in bytes, how can I handle this problem? I mean I have a List of info to insert so I have the <strong>number</strong> of records and not their volume. For the moment I am shrinking my list into sub-lists if they are more than 10000 records but there is no guarantee that less than 10K records would satisfy the <code>max_allowed_packet</code> limitation.\nPlus, I cannot increase this variable according to the <code>DBA</code> policies.\nAny help would be appreciated.</p>\n"},{"tags":["java","metadata","grpc"],"answers":[{"tags":[],"owner":{"account_id":25649504,"reputation":144,"user_id":19417003,"display_name":"Larry Safran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674612832,"creation_date":1674612832,"answer_id":75229126,"question_id":75208281,"body_markdown":"io.grpc.CallCredentials is an abstract class, it would be up to the implementation to provide applyRequestMetadata().  If you have something that extends CallCredentials and it uses the executor, having a mock instead of a real executor may skip doing the expected task.","title":"GRPC client in Java, need to pass metadata","body":"<p>io.grpc.CallCredentials is an abstract class, it would be up to the implementation to provide applyRequestMetadata().  If you have something that extends CallCredentials and it uses the executor, having a mock instead of a real executor may skip doing the expected task.</p>\n"},{"tags":[],"owner":{"account_id":27599298,"reputation":31,"user_id":21064864,"display_name":"Павел Тишков"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674725338,"creation_date":1674725130,"answer_id":75244231,"question_id":75208281,"body_markdown":"In the end, I managed to make a working method.\r\nI created a separate class to get an authorization token and then used it as Credentials:\r\n\r\n    package grpc;\r\n    import io.grpc.CallCredentials;\r\n    import io.grpc.Metadata;\r\n    import io.grpc.Status;\r\n    import java.util.concurrent.Executor;\r\n        \r\n    public class ApplyMetadata extends CallCredentials {\r\n        private String clientid;\r\n        private String workerid;\r\n        private String instance;\r\n        private Metadata.Key&lt;String&gt; c = Metadata.Key.of(&quot;clientid&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\n        private Metadata.Key&lt;String&gt; w = Metadata.Key.of(&quot;workerid&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\n        private Metadata.Key&lt;String&gt; i = Metadata.Key.of(&quot;instance&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\n    \r\n        public ApplyMetadata(String clientid, String workerid, String instance) {\r\n            this.clientid = clientid;\r\n            this.workerid = workerid;\r\n            this.instance = instance;\r\n        }\r\n    \r\n        @Override\r\n        public void applyRequestMetadata(RequestInfo requestInfo, Executor executor, MetadataApplier metadataApplier) {\r\n            executor.execute(() -&gt; {\r\n                try {\r\n                    Metadata headers = new Metadata();\r\n                    headers.put(c, clientid);\r\n                    headers.put(w, workerid);\r\n                    headers.put(i, instance);\r\n                    metadataApplier.apply(headers);\r\n                } catch (Throwable e) {\r\n                    metadataApplier.fail(Status.UNAUTHENTICATED.withCause(e));\r\n                }\r\n            });\r\n        }\r\n        @Override\r\n        public void thisUsesUnstableApi() {\r\n            // noop\r\n        }\r\n    }\r\n\r\nIn my method it just:\r\n\r\n    ApplyMetadata token = new ApplyMetadata(clientId, workerId, Integer.toString(instanceId));\r\n    stub.withCallCredentials(token).add(request);","title":"GRPC client in Java, need to pass metadata","body":"<p>In the end, I managed to make a working method.\nI created a separate class to get an authorization token and then used it as Credentials:</p>\n<pre><code>package grpc;\nimport io.grpc.CallCredentials;\nimport io.grpc.Metadata;\nimport io.grpc.Status;\nimport java.util.concurrent.Executor;\n    \npublic class ApplyMetadata extends CallCredentials {\n    private String clientid;\n    private String workerid;\n    private String instance;\n    private Metadata.Key&lt;String&gt; c = Metadata.Key.of(&quot;clientid&quot;, Metadata.ASCII_STRING_MARSHALLER);\n    private Metadata.Key&lt;String&gt; w = Metadata.Key.of(&quot;workerid&quot;, Metadata.ASCII_STRING_MARSHALLER);\n    private Metadata.Key&lt;String&gt; i = Metadata.Key.of(&quot;instance&quot;, Metadata.ASCII_STRING_MARSHALLER);\n\n    public ApplyMetadata(String clientid, String workerid, String instance) {\n        this.clientid = clientid;\n        this.workerid = workerid;\n        this.instance = instance;\n    }\n\n    @Override\n    public void applyRequestMetadata(RequestInfo requestInfo, Executor executor, MetadataApplier metadataApplier) {\n        executor.execute(() -&gt; {\n            try {\n                Metadata headers = new Metadata();\n                headers.put(c, clientid);\n                headers.put(w, workerid);\n                headers.put(i, instance);\n                metadataApplier.apply(headers);\n            } catch (Throwable e) {\n                metadataApplier.fail(Status.UNAUTHENTICATED.withCause(e));\n            }\n        });\n    }\n    @Override\n    public void thisUsesUnstableApi() {\n        // noop\n    }\n}\n</code></pre>\n<p>In my method it just:</p>\n<pre><code>ApplyMetadata token = new ApplyMetadata(clientId, workerId, Integer.toString(instanceId));\nstub.withCallCredentials(token).add(request);\n</code></pre>\n"}],"owner":{"account_id":27599298,"reputation":31,"user_id":21064864,"display_name":"Павел Тишков"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1574,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1674725338,"creation_date":1674470223,"question_id":75208281,"body_markdown":"When writing a GRPC client and submitting a request, I get the error &quot;UNAUTHENTICATED: invalid credentails&quot;.\r\nIt is required to transfer 3 lines of metadata:\r\n```\r\n&quot;clientid&quot; = &quot;1&quot;\r\n&quot;workerid&quot; = &quot;2&quot;\r\n&quot;instance&quot; = &quot;3&quot;\r\n```\r\n\r\nDeclare the metadata:\r\n```\r\nprivate Metadata.Key&lt;String&gt; clientid = Metadata.Key.of(&quot;clientid&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\nprivate Metadata.Key&lt;String&gt; workerid = Metadata.Key.of(&quot;workerid&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\nprivate Metadata.Key&lt;String&gt; instance = Metadata.Key.of(&quot;instance&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\n```\r\n\r\nNext, you need to transfer them to Credentials, but it doesn&#39;t work. Tried to implement through mock stubs, but also an error:\r\n```\r\npublic class MethodAdd {\r\n   private CallCredentials callCredentials;\r\n   @Mock\r\n   private Executor mockExecutor = Mockito.mock(Executor.class);\r\n   @Mock\r\n   private RequestInfo mockRequestInfo = Mockito.mock(RequestInfo.class);\r\n   public MetadataApplier metadataApplier;\r\n   private Metadata.Key&lt;String&gt; clientid = Metadata.Key.of(&quot;clientid&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\n   private Metadata.Key&lt;String&gt; workerid = Metadata.Key.of(&quot;workerid&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\n   private Metadata.Key&lt;String&gt; instance = Metadata.Key.of(&quot;instance&quot;, Metadata.ASCII_STRING_MARSHALLER);\r\n\r\npublic void add(String target, int instanceId) throws InterruptedException {\r\n   ManagedChannel channel = ManagedChannelBuilder.forTarget(target)\r\n                .usePlaintext()\r\n                .build();\r\n   BlockingStub stub = newBlockingStub(channel);\r\n   Metadata headers = new Metadata();\r\n        headers.put(clientid, &quot;1&quot;);\r\n        headers.put(workerid, &quot;2&quot;);\r\n        headers.put(instance, Integer.toString(instanceId));\r\n   metadataApplier.apply(headers);\r\n   callCredentials.applyRequestMetadata(mockRequestInfo, mockExecutor, metadataApplier);\r\n   stub.withCallCredentials(callCredentials).add(Empty.newBuilder().build());\r\n   channel.shutdown().awaitTermination(5, TimeUnit.SECONDS);\r\n   }\r\n}\r\n```\r\n\r\nCan you please tell me if I need to override some methods? Or is there an even easier option? Need help!","title":"GRPC client in Java, need to pass metadata","body":"<p>When writing a GRPC client and submitting a request, I get the error &quot;UNAUTHENTICATED: invalid credentails&quot;.\nIt is required to transfer 3 lines of metadata:</p>\n<pre><code>&quot;clientid&quot; = &quot;1&quot;\n&quot;workerid&quot; = &quot;2&quot;\n&quot;instance&quot; = &quot;3&quot;\n</code></pre>\n<p>Declare the metadata:</p>\n<pre><code>private Metadata.Key&lt;String&gt; clientid = Metadata.Key.of(&quot;clientid&quot;, Metadata.ASCII_STRING_MARSHALLER);\nprivate Metadata.Key&lt;String&gt; workerid = Metadata.Key.of(&quot;workerid&quot;, Metadata.ASCII_STRING_MARSHALLER);\nprivate Metadata.Key&lt;String&gt; instance = Metadata.Key.of(&quot;instance&quot;, Metadata.ASCII_STRING_MARSHALLER);\n</code></pre>\n<p>Next, you need to transfer them to Credentials, but it doesn't work. Tried to implement through mock stubs, but also an error:</p>\n<pre><code>public class MethodAdd {\n   private CallCredentials callCredentials;\n   @Mock\n   private Executor mockExecutor = Mockito.mock(Executor.class);\n   @Mock\n   private RequestInfo mockRequestInfo = Mockito.mock(RequestInfo.class);\n   public MetadataApplier metadataApplier;\n   private Metadata.Key&lt;String&gt; clientid = Metadata.Key.of(&quot;clientid&quot;, Metadata.ASCII_STRING_MARSHALLER);\n   private Metadata.Key&lt;String&gt; workerid = Metadata.Key.of(&quot;workerid&quot;, Metadata.ASCII_STRING_MARSHALLER);\n   private Metadata.Key&lt;String&gt; instance = Metadata.Key.of(&quot;instance&quot;, Metadata.ASCII_STRING_MARSHALLER);\n\npublic void add(String target, int instanceId) throws InterruptedException {\n   ManagedChannel channel = ManagedChannelBuilder.forTarget(target)\n                .usePlaintext()\n                .build();\n   BlockingStub stub = newBlockingStub(channel);\n   Metadata headers = new Metadata();\n        headers.put(clientid, &quot;1&quot;);\n        headers.put(workerid, &quot;2&quot;);\n        headers.put(instance, Integer.toString(instanceId));\n   metadataApplier.apply(headers);\n   callCredentials.applyRequestMetadata(mockRequestInfo, mockExecutor, metadataApplier);\n   stub.withCallCredentials(callCredentials).add(Empty.newBuilder().build());\n   channel.shutdown().awaitTermination(5, TimeUnit.SECONDS);\n   }\n}\n</code></pre>\n<p>Can you please tell me if I need to override some methods? Or is there an even easier option? Need help!</p>\n"},{"tags":["java","windows","email","james"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650808611,"post_id":71989033,"comment_id":127204918,"body_markdown":"I&#39;m wondering why you&#39;d want to run a mail server as a web app?","body":"I&#39;m wondering why you&#39;d want to run a mail server as a web app?"},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1650809190,"post_id":71989033,"comment_id":127205035,"body_markdown":"Standardization of codes. I dont want programs, here and there. I want them, all in one place","body":"Standardization of codes. I dont want programs, here and there. I want them, all in one place"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650809424,"post_id":71989033,"comment_id":127205093,"body_markdown":"I don&#39;t understand the answer but right off the bat you&#39;re going to have difficulty getting the networking that a mail server needs to work from a web app.\nIt might have changed since I first heard about it. Looking at the distro zip it looks as if the server itself supports some kind of web admin, so it might be all the other way around ;)","body":"I don&#39;t understand the answer but right off the bat you&#39;re going to have difficulty getting the networking that a mail server needs to work from a web app. It might have changed since I first heard about it. Looking at the distro zip it looks as if the server itself supports some kind of web admin, so it might be all the other way around ;)"},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1650865686,"post_id":71989033,"comment_id":127215048,"body_markdown":"@g00se What i mean is, when one make a jar file, (for security reasons) she need to create a new folder sharing to put it in; configure users for that sharing. And it creates complexity for users and maintainers. When one builds a war file, she will just put it in.... tomcat webapps. done.","body":"@g00se What i mean is, when one make a jar file, (for security reasons) she need to create a new folder sharing to put it in; configure users for that sharing. And it creates complexity for users and maintainers. When one builds a war file, she will just put it in.... tomcat webapps. done."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650876862,"post_id":71989033,"comment_id":127218348,"body_markdown":"I&#39;d be surprised if it can be done. But if you&#39;re lucky, from what I said before, it would appear then that you&#39;d have a web app inside a mail server inside a web app ;)","body":"I&#39;d be surprised if it can be done. But if you&#39;re lucky, from what I said before, it would appear then that you&#39;d have a web app inside a mail server inside a web app ;)"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1674046191,"post_id":71989033,"comment_id":132630391,"body_markdown":"@Tugalsan Karabacak, Apache James Mail Server 3.x requires JDK 11, do not use JDK 17.","body":"@Tugalsan Karabacak, Apache James Mail Server 3.x requires JDK 11, do not use JDK 17."},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1674548052,"post_id":71989033,"comment_id":132731599,"body_markdown":"@life888888 I have downloaded james-server-jpa-guice again from https://archive.apache.org/dist/james/server/3.7.3 also. with OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10.zip it gave the same error. Now I will try the spring version","body":"@life888888 I have downloaded james-server-jpa-guice again from <a href=\"https://archive.apache.org/dist/james/server/3.7.3\" rel=\"nofollow noreferrer\">archive.apache.org/dist/james/server/3.7.3</a> also. with OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10.zip it gave the same error. Now I will try the spring version"},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1674548668,"post_id":71989033,"comment_id":132731767,"body_markdown":"@life888888 No, james-server-spring-app-3.7.3-app.zip also not working with OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10.zip.","body":"@life888888 No, james-server-spring-app-3.7.3-app.zip also not working with OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10.zip."}],"answers":[{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674725296,"creation_date":1674577403,"answer_id":75224363,"question_id":71989033,"body_markdown":"Use\r\n\r\n```\r\ncd james-server-spring-app-3.7.3\\bin\r\nrun.bat\r\n```\r\n\r\n**If the windows firewall pops up and asks to allow the opening of the port, please allow the opening of the relevant port for Apache James Mail Server to use.**\r\n\r\n\r\nDo not use\r\n\r\n```\r\njames console\r\n```\r\n\r\n## run.bat - log\r\n\r\n```\r\nC:\\Users\\IEUser\\Downloads\\james-server-spring-app-3.7.3\\bin&gt;run.bat\r\n24-Jan-2023 04:55:15.525 INFO [main] org.springframework.context.support.AbstractApplicationContext.prepareRefresh:583 - Refreshing org.apache.james.container.spring.context.JamesServerApplicationContext@7c098bb3: startup date [Tue Jan 24 04:55:15 PST 2023]; root of context hierarchy\r\n24-Jan-2023 04:55:15.610 INFO [main] org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:317 - Loading XML bean definitions from class path resource [META-INF/org/apache/james/spring-server.xml]\r\n...\r\n24-Jan-2023 04:55:25.995 INFO [main] org.apache.activemq.transport.TransportServerThreadSupport.doStart:69 - Listening for connections at: tcp://127.0.0.1:50043\r\n24-Jan-2023 04:55:25.995 INFO [main] org.apache.activemq.broker.TransportConnector.start:267 - Connector tcp://127.0.0.1:50043 started\r\n24-Jan-2023 04:55:26.010 INFO [main] org.apache.activemq.broker.BrokerService.doStartBroker:759 - Apache ActiveMQ 5.17.2 (james, broker) started\r\n...\r\n24-Jan-2023 04:55:27.678 INFO [main] org.apache.james.protocols.lib.netty.AbstractConfigurableAsyncServer.configure:199 - SMTP Service bound to: 0.0.0.0:25\r\n...\r\n24-Jan-2023 04:55:27.992 INFO [main] org.apache.james.protocols.lib.netty.AbstractConfigurableAsyncServer.configure:199 - POP3 Service bound to: 0.0.0.0:110\r\n...\r\n24-Jan-2023 04:55:28.239 INFO [main] org.apache.james.protocols.lib.netty.AbstractConfigurableAsyncServer.configure:199 - IMAP Service bound to: 0.0.0.0:143\r\n...\r\n24-Jan-2023 04:55:28.378 INFO [main] org.springframework.remoting.rmi.RmiRegistryFactoryBean.getRegistry:217 - Looking for RMI registry at port &#39;9999&#39;, using custom socket factory\r\n...\r\n24-Jan-2023 04:55:29.997 INFO [main] org.apache.james.app.spring.JamesAppSpringMain.main:46 - Apache James Server is successfully started in 14534 milliseconds.\r\n```\r\n\r\n## james-cli.bat - log\r\n\r\n```\r\nC:\\Users\\IEUser\\Downloads\\james-server-spring-app-3.7.3\\bin&gt;james-cli.bat adduser user@localhost myPass\r\nAddUser command executed sucessfully in 573 ms.\r\n```\r\n\r\nMy Env: \r\n\r\n- Windows 10, \r\n- OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10.msi\r\n- [james-server-spring-app-3.7.3-app.zip][1]\r\n\r\n\r\n  [1]: https://archive.apache.org/dist/james/server/3.7.3/james-server-spring-app-3.7.3-app.zip\r\n\r\n# JDK install\r\n\r\n## (1) Remove Environment Variavle: `JAVA_HOME`, And Remove JDK Path from Environment Variavle: `PATH`\r\n## (2) install adoptium Open JDK 11\r\n### (2-1) Download JDK msi file - https://adoptium.net/temurin/releases/\r\n- Operating System: **Windows**\r\n- Architecture: **x64**\r\n- Package Type: **JDK**\r\n- Version: **11**\r\n- install Type: **.msi**\r\n### (2-2) click `OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10.msi`\r\n### (2-3) GUI: `Welcome to ...`, Click `Next`\r\n### (2-4) GUI: `Custom Setup`,\r\n#### (2-4-1) `Set JAVA_HOME variale`, drop down, select `Entire feacture will be installed on local hard drive`\r\n#### (2-4-2) `JavaSoft(Oracle) registry keys`, drop down, select `Entire feacture will be installed on local hard drive`\r\n#### (2-4-3) Click `Next`\r\n### (2-5) GUI: `Ready to install ...`, click `Install`\r\n### (2-6) Windows: User Account Control, `Do you want to allow...`, clock `Yes`\r\n### (2-7) GUI: `Completed the Eclipse ...`, click `Finish`\r\n\r\n\r\n","title":"How to use JAMES (Java Mail Server) in windows 11 JDK 17","body":"<p>Use</p>\n<pre><code>cd james-server-spring-app-3.7.3\\bin\nrun.bat\n</code></pre>\n<p><strong>If the windows firewall pops up and asks to allow the opening of the port, please allow the opening of the relevant port for Apache James Mail Server to use.</strong></p>\n<p>Do not use</p>\n<pre><code>james console\n</code></pre>\n<h2>run.bat - log</h2>\n<pre><code>C:\\Users\\IEUser\\Downloads\\james-server-spring-app-3.7.3\\bin&gt;run.bat\n24-Jan-2023 04:55:15.525 INFO [main] org.springframework.context.support.AbstractApplicationContext.prepareRefresh:583 - Refreshing org.apache.james.container.spring.context.JamesServerApplicationContext@7c098bb3: startup date [Tue Jan 24 04:55:15 PST 2023]; root of context hierarchy\n24-Jan-2023 04:55:15.610 INFO [main] org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:317 - Loading XML bean definitions from class path resource [META-INF/org/apache/james/spring-server.xml]\n...\n24-Jan-2023 04:55:25.995 INFO [main] org.apache.activemq.transport.TransportServerThreadSupport.doStart:69 - Listening for connections at: tcp://127.0.0.1:50043\n24-Jan-2023 04:55:25.995 INFO [main] org.apache.activemq.broker.TransportConnector.start:267 - Connector tcp://127.0.0.1:50043 started\n24-Jan-2023 04:55:26.010 INFO [main] org.apache.activemq.broker.BrokerService.doStartBroker:759 - Apache ActiveMQ 5.17.2 (james, broker) started\n...\n24-Jan-2023 04:55:27.678 INFO [main] org.apache.james.protocols.lib.netty.AbstractConfigurableAsyncServer.configure:199 - SMTP Service bound to: 0.0.0.0:25\n...\n24-Jan-2023 04:55:27.992 INFO [main] org.apache.james.protocols.lib.netty.AbstractConfigurableAsyncServer.configure:199 - POP3 Service bound to: 0.0.0.0:110\n...\n24-Jan-2023 04:55:28.239 INFO [main] org.apache.james.protocols.lib.netty.AbstractConfigurableAsyncServer.configure:199 - IMAP Service bound to: 0.0.0.0:143\n...\n24-Jan-2023 04:55:28.378 INFO [main] org.springframework.remoting.rmi.RmiRegistryFactoryBean.getRegistry:217 - Looking for RMI registry at port '9999', using custom socket factory\n...\n24-Jan-2023 04:55:29.997 INFO [main] org.apache.james.app.spring.JamesAppSpringMain.main:46 - Apache James Server is successfully started in 14534 milliseconds.\n</code></pre>\n<h2>james-cli.bat - log</h2>\n<pre><code>C:\\Users\\IEUser\\Downloads\\james-server-spring-app-3.7.3\\bin&gt;james-cli.bat adduser user@localhost myPass\nAddUser command executed sucessfully in 573 ms.\n</code></pre>\n<p>My Env:</p>\n<ul>\n<li>Windows 10,</li>\n<li>OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10.msi</li>\n<li><a href=\"https://archive.apache.org/dist/james/server/3.7.3/james-server-spring-app-3.7.3-app.zip\" rel=\"nofollow noreferrer\">james-server-spring-app-3.7.3-app.zip</a></li>\n</ul>\n<h1>JDK install</h1>\n<h2>(1) Remove Environment Variavle: <code>JAVA_HOME</code>, And Remove JDK Path from Environment Variavle: <code>PATH</code></h2>\n<h2>(2) install adoptium Open JDK 11</h2>\n<h3>(2-1) Download JDK msi file - <a href=\"https://adoptium.net/temurin/releases/\" rel=\"nofollow noreferrer\">https://adoptium.net/temurin/releases/</a></h3>\n<ul>\n<li>Operating System: <strong>Windows</strong></li>\n<li>Architecture: <strong>x64</strong></li>\n<li>Package Type: <strong>JDK</strong></li>\n<li>Version: <strong>11</strong></li>\n<li>install Type: <strong>.msi</strong></li>\n</ul>\n<h3>(2-2) click <code>OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10.msi</code></h3>\n<h3>(2-3) GUI: <code>Welcome to ...</code>, Click <code>Next</code></h3>\n<h3>(2-4) GUI: <code>Custom Setup</code>,</h3>\n<h4>(2-4-1) <code>Set JAVA_HOME variale</code>, drop down, select <code>Entire feacture will be installed on local hard drive</code></h4>\n<h4>(2-4-2) <code>JavaSoft(Oracle) registry keys</code>, drop down, select <code>Entire feacture will be installed on local hard drive</code></h4>\n<h4>(2-4-3) Click <code>Next</code></h4>\n<h3>(2-5) GUI: <code>Ready to install ...</code>, click <code>Install</code></h3>\n<h3>(2-6) Windows: User Account Control, <code>Do you want to allow...</code>, clock <code>Yes</code></h3>\n<h3>(2-7) GUI: <code>Completed the Eclipse ...</code>, click <code>Finish</code></h3>\n"}],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674725296,"creation_date":1650808107,"question_id":71989033,"body_markdown":"I want to find an email server implementation, convert the code to a war file like all my other apps.\\\r\nThe JAMES project seems so ... finished. But for years I couldn&#39;t even started it.\r\n\r\nMilestones:\r\n1) i have extracted *james-server-jpa-guice.zip* file from &lt;https://james.apache.org/download.cgi&gt; and run:\r\n```\r\nD:\\james&gt;java -classpath &#39;james-server-jpa-app.lib/*&#39; -javaagent:james-server-jpa-app.lib/openjpa-3.2.0.jar -Dlogback.configurationFile=conf/logback.xml -Dworking.directory=. org.apache.james.JPAJamesServerMain\r\nSome product derivations are being skipped. For information about product derivation status, run:\r\njava org.apache.openjpa.lib.conf.ProductDerivations\r\norg.apache.openjpa.persistence.PersistenceProductDerivation:java.lang.NoClassDefFoundError: javax/persistence/spi/PersistenceUnitInfo\r\nError: Could not find or load main class org.apache.james.JPAJamesServerMain\r\nCaused by: java.lang.ClassNotFoundException: org.apache.james.JPAJamesServerMain\r\n```\r\nno luck.\r\n\r\n2) Even though i don&#39;t understand Spring, I extracted *james-server-app-3.7.0-app.zip* from &lt;https://james.apache.org/download.cgi&gt; and run in admin mode:\r\n\r\n```\r\nD:\\james\\bin&gt;james console\r\nwrapper  | --&gt; Wrapper Started as Console\r\nwrapper  | Launching a JVM...\r\njvm 1    | Wrapper (Version 3.2.3) http://wrapper.tanukisoftware.org\r\njvm 1    |   Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.\r\njvm 1    |\r\njvm 1    | 2022-04-24 15:52:29,840 main ERROR Unable to create file ${sys:app.home}/log/springframework.log java.io.IOException: Dosya ad&#178;, dizin ad&#178; veya birim etiketi s&#247;zdizimi hatal&#178;\r\njvm 1    |      at java.base/java.io.WinNTFileSystem.canonicalize0(Native Method)\r\njvm 1    |      at java.base/java.io.WinNTFileSystem.canonicalize(WinNTFileSystem.java:417)\r\njvm 1    |      at java.base/java.io.File.getCanonicalPath(File.java:626)\r\njvm 1    |      at java.base/java.io.File.getCanonicalFile(File.java:651)\r\njvm 1    |      at org.apache.logging.log4j.core.util.FileUtils.makeParentDirs(FileUtils.java:135)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory.createManager(RollingFileManager.java:732)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory.createManager(RollingFileManager.java:716)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:114)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.getFileManager(RollingFileManager.java:217)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:146)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:62)\r\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\r\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\r\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\r\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\r\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.main(WrapperSimpleApp.java:485)\r\njvm 1    |\r\njvm 1    | 2022-04-24 15:52:29,843 main ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile: java.lang.IllegalStateException: ManagerFactory [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory@44a59da3] unable to create manager for [${sys:app.home}/log/springframework.log] with data [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$FactoryData@27e47833[pattern=${sys:app.home}/log/springframework.%d{yyyy-MM-dd}-%i.log.gz, append=true, bufferedIO=true, bufferSize=8192, policy=CompositeTriggeringPolicy(policies=[]), strategy=DefaultRolloverStrategy(min=1, max=7, useMax=true), advertiseURI=null, layout=%d{dd-MMM-yyyy HH:mm:ss.SSS} %level [%t] %C.%M:%L - %msg%n, filePermissions=null, fileOwner=null]] java.lang.IllegalStateException: ManagerFactory [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory@44a59da3] unable to create manager for [${sys:app.home}/log/springframework.log] with data [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$FactoryData@27e47833[pattern=${sys:app.home}/log/springframework.%d{yyyy-MM-dd}-%i.log.gz, append=true, bufferedIO=true, bufferSize=8192, policy=CompositeTriggeringPolicy(policies=[]), strategy=DefaultRolloverStrategy(min=1, max=7, useMax=true), advertiseURI=null, layout=%d{dd-MMM-yyyy HH:mm:ss.SSS} %level [%t] %C.%M:%L - %msg%n, filePermissions=null, fileOwner=null]]\r\njvm 1    |      at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:116)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.getFileManager(RollingFileManager.java:217)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:146)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:62)\r\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\r\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\r\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\r\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\r\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.main(WrapperSimpleApp.java:485)\r\njvm 1    |\r\njvm 1    | 2022-04-24 15:52:29,947 main ERROR Unable to invoke factory method in class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile: java.lang.IllegalStateException: No factory method found for class org.apache.logging.log4j.core.appender.RollingFileAppender java.lang.IllegalStateException: No factory method found for class org.apache.logging.log4j.core.appender.RollingFileAppender\r\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.findFactoryMethod(PluginBuilder.java:236)\r\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:134)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\r\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\r\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\r\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\r\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.main(WrapperSimpleApp.java:485)\r\njvm 1    |\r\njvm 1    | 2022-04-24 15:52:29,954 main ERROR Unable to create file ${sys:app.home}/log/openjpa.log java.io.IOException: Dosya ad&#178;, dizin ad&#178; veya birim etiketi s&#247;zdizimi hatal&#178;\r\njvm 1    |      at java.base/java.io.WinNTFileSystem.canonicalize0(Native Method)\r\njvm 1    |      at java.base/java.io.WinNTFileSystem.canonicalize(WinNTFileSystem.java:417)\r\njvm 1    |      at java.base/java.io.File.getCanonicalPath(File.java:626)\r\njvm 1    |      at java.base/java.io.File.getCanonicalFile(File.java:651)\r\njvm 1    |      at org.apache.logging.log4j.core.util.FileUtils.makeParentDirs(FileUtils.java:135)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory.createManager(RollingFileManager.java:732)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory.createManager(RollingFileManager.java:716)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:114)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.getFileManager(RollingFileManager.java:217)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:146)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:62)\r\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\r\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\r\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\r\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\r\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.main(WrapperSimpleApp.java:485)\r\njvm 1    |\r\njvm 1    | 2022-04-24 15:52:29,966 main ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile: java.lang.IllegalStateException: ManagerFactory [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory@44a59da3] unable to create manager for [${sys:app.home}/log/openjpa.log] with data [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$FactoryData@6c61a903[pattern=${sys:app.home}/log/openjpa.%d{yyyy-MM-dd}-%i.log.gz, append=true, bufferedIO=true, bufferSize=8192, policy=CompositeTriggeringPolicy(policies=[]), strategy=DefaultRolloverStrategy(min=1, max=7, useMax=true), advertiseURI=null, layout=%d{dd-MMM-yyyy HH:mm:ss.SSS} %level [%t] %C.%M:%L - %msg%n, filePermissions=null, fileOwner=null]] java.lang.IllegalStateException: ManagerFactory [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory@44a59da3] unable to create manager for [${sys:app.home}/log/openjpa.log] with data [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$FactoryData@6c61a903[pattern=${sys:app.home}/log/openjpa.%d{yyyy-MM-dd}-%i.log.gz, append=true, bufferedIO=true, bufferSize=8192, policy=CompositeTriggeringPolicy(policies=[]), strategy=DefaultRolloverStrategy(min=1, max=7, useMax=true), advertiseURI=null, layout=%d{dd-MMM-yyyy HH:mm:ss.SSS} %level [%t] %C.%M:%L - %msg%n, filePermissions=null, fileOwner=null]]\r\njvm 1    |      at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:116)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.getFileManager(RollingFileManager.java:217)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:146)\r\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:62)\r\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\r\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\r\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\r\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\r\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\r\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\r\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\r\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\r\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\r\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\r\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\r\njvm 1    |      at \r\n\r\n.........\r\n\r\njvm 1    | 24-Nis-2022 15:52:37.034 INFO [WrapperSimpleAppMain] org.springframework.jmx.export.MBeanExporter.registerBeanInstance:672 - Located MBean &#39;org.apache.james:type=component,name=mailboxcopier&#39;: registering with JMX server as MBean [org.apache.james:type=component,name=mailboxcopier]\r\njvm 1    | 24-Nis-2022 15:52:37.034 INFO [WrapperSimpleAppMain] org.springframework.jmx.export.MBeanExporter.registerBeanInstance:672 - Located MBean &#39;org.apache.james:type=component,name=quotamanagerbean&#39;: registering with JMX server as MBean [org.apache.james:type=component,name=quotamanagerbean]\r\njvm 1    | 24-Nis-2022 15:52:37.035 INFO [WrapperSimpleAppMain] org.springframework.jmx.export.MBeanExporter.registerBeanInstance:672 - Located MBean &#39;org.apache.james:type=component,name=reindexerbean&#39;: registering with JMX server as MBean [org.apache.james:type=component,name=reindexerbean]\r\njvm 1    | 24-Nis-2022 15:52:37.035 INFO [WrapperSimpleAppMain] org.springframework.jmx.export.MBeanExporter.registerBeanInstance:672 - Located MBean &#39;org.apache.james:type=component,name=sievemanagerbean&#39;: registering with JMX server as MBean [org.apache.james:type=component,name=sievemanagerbean]\r\njvm 1    | 24-Nis-2022 15:52:37.040 INFO [WrapperSimpleAppMain] org.apache.james.app.spring.JamesAppSpringMain.main:46 - Apache James Server is successfully started in 6214 milliseconds.\r\n```\r\n\r\nIt says server started, there are so many error messages that i am doubtfull.\\\r\n\r\n3) Anyway, I tried to add a user as below; but i did not worked again\r\n\r\n```\r\nD:\\james\\bin&gt;james-cli.bat adduser user@localhost myPass\r\n24-Nis-2022 15:59:13.194 ERROR [main] org.apache.james.cli.ServerCmd.main:101 - Error while playing command\r\njava.lang.Exception: Unexpected exception\r\n        at org.apache.james.user.lib.UsersRepositoryManagement.addUser(UsersRepositoryManagement.java:57) ~[james-server-data-library-3.7.0.jar:3.7.0]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n        at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:72) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n        at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:262) ~[?:?]\r\n        at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112) ~[?:?]\r\n        at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46) ~[?:?]\r\n        at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237) ~[?:?]\r\n        at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138) ~[?:?]\r\n        at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252) ~[?:?]\r\n        at javax.management.StandardMBean.invoke(StandardMBean.java:405) ~[?:?]\r\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814) ~[?:?]\r\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802) ~[?:?]\r\n        at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472) ~[?:?]\r\n        at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310) ~[?:?]\r\n        at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1405) ~[?:?]\r\n        at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360) ~[?:?]\r\n        at sun.rmi.transport.Transport$1.run(Transport.java:200) ~[?:?]\r\n        at sun.rmi.transport.Transport$1.run(Transport.java:197) ~[?:?]\r\n        at java.security.AccessController.doPrivileged(AccessController.java:712) ~[?:?]\r\n        at sun.rmi.transport.Transport.serviceCall(Transport.java:196) ~[?:?]\r\n        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587) ~[?:?]\r\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828) ~[?:?]\r\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705) ~[?:?]\r\n        at java.security.AccessController.doPrivileged(AccessController.java:399) ~[?:?]\r\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]\r\n        at java.lang.Thread.run(Thread.java:833) ~[?:?]\r\nError class java.lang.Exception while executing command:Unexpected exception\r\nusage: java org.apache.james.cli.ServerCmd --host &lt;arg&gt; &lt;command&gt;\r\n -h,--host &lt;arg&gt;   node hostname or ip address\r\n -p,--port &lt;arg&gt;   remote jmx agent port number\r\nAddUser &lt;username&gt; &lt;password&gt;\r\nRemoveUser &lt;username&gt;\r\nListUsers\r\nAddDomain &lt;domainName&gt;\r\nRemoveDomain &lt;domainName&gt;\r\nContainsDomain &lt;domainName&gt;\r\nListDomains\r\nListMappings\r\nListUserDomainMappings &lt;user&gt; &lt;domain&gt;\r\nAddAddressMapping &lt;fromUser&gt; &lt;fromDomain&gt; &lt;toAddress&gt;\r\nRemoveAddressMapping &lt;fromUser&gt; &lt;fromDomain&gt; &lt;toAddress&gt;\r\nAddRegexMapping &lt;user&gt; &lt;domain&gt; &lt;regex&gt;\r\nRemoveRegexMapping &lt;user&gt; &lt;domain&gt; &lt;regex&gt;\r\nSetPassword &lt;username&gt; &lt;password&gt;\r\nCopyMailbox &lt;srcBean&gt; &lt;dstBean&gt;\r\nDeleteUserMailboxes &lt;user&gt;\r\nCreateMailbox &lt;namespace&gt; &lt;user&gt; &lt;name&gt;\r\nListUserMailboxes &lt;user&gt;\r\nDeleteMailbox &lt;namespace&gt; &lt;user&gt; &lt;name&gt;\r\nImportEml &lt;namespace&gt; &lt;user&gt; &lt;name&gt; &lt;path&gt;\r\nGetStorageQuota &lt;quotaroot&gt;\r\nGetMessageCountQuota &lt;quotaroot&gt;\r\nGetQuotaroot &lt;namespace&gt; &lt;user&gt; &lt;name&gt;\r\nGetMaxStorageQuota &lt;quotaroot&gt;\r\nGetMaxMessageCountQuota &lt;quotaroot&gt;\r\nSetMaxStorageQuota &lt;quotaroot&gt; &lt;maxMessageCount&gt;\r\nSetMaxMessageCountQuota &lt;quotaroot&gt; &lt;maxStorage&gt;\r\nSetGlobalMaxStorageQuota &lt;maxStorage&gt;\r\nSetGlobalMaxMessageCountQuota &lt;maxMessageCount&gt;\r\nGetGlobalMaxStorageQuota\r\nGetGlobalMaxMessageCountQuota\r\nReindexMailbox &lt;namespace&gt; &lt;user&gt; &lt;name&gt;\r\nReindexAll\r\nGetSieveQuota\r\nSetSieveQuota &lt;quota&gt;\r\nRemoveSieveQuota\r\nGetSieveUserQuota &lt;username&gt;\r\nSetSieveUserQuota &lt;username&gt; &lt;quota&gt;\r\nRemoveSieveUserQuota &lt;username&gt;\r\nAddActiveSieveScript &lt;username&gt; &lt;scriptname&gt; &lt;path&gt;\r\n```\r\n\r\n\r\nCould you put me in the right track.\r\n\r\n","title":"How to use JAMES (Java Mail Server) in windows 11 JDK 17","body":"<p>I want to find an email server implementation, convert the code to a war file like all my other apps.<br />\nThe JAMES project seems so ... finished. But for years I couldn't even started it.</p>\n<p>Milestones:</p>\n<ol>\n<li>i have extracted <em>james-server-jpa-guice.zip</em> file from <a href=\"https://james.apache.org/download.cgi\" rel=\"nofollow noreferrer\">https://james.apache.org/download.cgi</a> and run:</li>\n</ol>\n<pre><code>D:\\james&gt;java -classpath 'james-server-jpa-app.lib/*' -javaagent:james-server-jpa-app.lib/openjpa-3.2.0.jar -Dlogback.configurationFile=conf/logback.xml -Dworking.directory=. org.apache.james.JPAJamesServerMain\nSome product derivations are being skipped. For information about product derivation status, run:\njava org.apache.openjpa.lib.conf.ProductDerivations\norg.apache.openjpa.persistence.PersistenceProductDerivation:java.lang.NoClassDefFoundError: javax/persistence/spi/PersistenceUnitInfo\nError: Could not find or load main class org.apache.james.JPAJamesServerMain\nCaused by: java.lang.ClassNotFoundException: org.apache.james.JPAJamesServerMain\n</code></pre>\n<p>no luck.</p>\n<ol start=\"2\">\n<li>Even though i don't understand Spring, I extracted <em>james-server-app-3.7.0-app.zip</em> from <a href=\"https://james.apache.org/download.cgi\" rel=\"nofollow noreferrer\">https://james.apache.org/download.cgi</a> and run in admin mode:</li>\n</ol>\n<pre><code>D:\\james\\bin&gt;james console\nwrapper  | --&gt; Wrapper Started as Console\nwrapper  | Launching a JVM...\njvm 1    | Wrapper (Version 3.2.3) http://wrapper.tanukisoftware.org\njvm 1    |   Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.\njvm 1    |\njvm 1    | 2022-04-24 15:52:29,840 main ERROR Unable to create file ${sys:app.home}/log/springframework.log java.io.IOException: Dosya ad², dizin ad² veya birim etiketi s÷zdizimi hatal²\njvm 1    |      at java.base/java.io.WinNTFileSystem.canonicalize0(Native Method)\njvm 1    |      at java.base/java.io.WinNTFileSystem.canonicalize(WinNTFileSystem.java:417)\njvm 1    |      at java.base/java.io.File.getCanonicalPath(File.java:626)\njvm 1    |      at java.base/java.io.File.getCanonicalFile(File.java:651)\njvm 1    |      at org.apache.logging.log4j.core.util.FileUtils.makeParentDirs(FileUtils.java:135)\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory.createManager(RollingFileManager.java:732)\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory.createManager(RollingFileManager.java:716)\njvm 1    |      at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:114)\njvm 1    |      at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.getFileManager(RollingFileManager.java:217)\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:146)\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:62)\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.main(WrapperSimpleApp.java:485)\njvm 1    |\njvm 1    | 2022-04-24 15:52:29,843 main ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile: java.lang.IllegalStateException: ManagerFactory [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory@44a59da3] unable to create manager for [${sys:app.home}/log/springframework.log] with data [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$FactoryData@27e47833[pattern=${sys:app.home}/log/springframework.%d{yyyy-MM-dd}-%i.log.gz, append=true, bufferedIO=true, bufferSize=8192, policy=CompositeTriggeringPolicy(policies=[]), strategy=DefaultRolloverStrategy(min=1, max=7, useMax=true), advertiseURI=null, layout=%d{dd-MMM-yyyy HH:mm:ss.SSS} %level [%t] %C.%M:%L - %msg%n, filePermissions=null, fileOwner=null]] java.lang.IllegalStateException: ManagerFactory [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory@44a59da3] unable to create manager for [${sys:app.home}/log/springframework.log] with data [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$FactoryData@27e47833[pattern=${sys:app.home}/log/springframework.%d{yyyy-MM-dd}-%i.log.gz, append=true, bufferedIO=true, bufferSize=8192, policy=CompositeTriggeringPolicy(policies=[]), strategy=DefaultRolloverStrategy(min=1, max=7, useMax=true), advertiseURI=null, layout=%d{dd-MMM-yyyy HH:mm:ss.SSS} %level [%t] %C.%M:%L - %msg%n, filePermissions=null, fileOwner=null]]\njvm 1    |      at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:116)\njvm 1    |      at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.getFileManager(RollingFileManager.java:217)\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:146)\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:62)\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.main(WrapperSimpleApp.java:485)\njvm 1    |\njvm 1    | 2022-04-24 15:52:29,947 main ERROR Unable to invoke factory method in class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile: java.lang.IllegalStateException: No factory method found for class org.apache.logging.log4j.core.appender.RollingFileAppender java.lang.IllegalStateException: No factory method found for class org.apache.logging.log4j.core.appender.RollingFileAppender\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.findFactoryMethod(PluginBuilder.java:236)\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:134)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.main(WrapperSimpleApp.java:485)\njvm 1    |\njvm 1    | 2022-04-24 15:52:29,954 main ERROR Unable to create file ${sys:app.home}/log/openjpa.log java.io.IOException: Dosya ad², dizin ad² veya birim etiketi s÷zdizimi hatal²\njvm 1    |      at java.base/java.io.WinNTFileSystem.canonicalize0(Native Method)\njvm 1    |      at java.base/java.io.WinNTFileSystem.canonicalize(WinNTFileSystem.java:417)\njvm 1    |      at java.base/java.io.File.getCanonicalPath(File.java:626)\njvm 1    |      at java.base/java.io.File.getCanonicalFile(File.java:651)\njvm 1    |      at org.apache.logging.log4j.core.util.FileUtils.makeParentDirs(FileUtils.java:135)\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory.createManager(RollingFileManager.java:732)\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory.createManager(RollingFileManager.java:716)\njvm 1    |      at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:114)\njvm 1    |      at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.getFileManager(RollingFileManager.java:217)\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:146)\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:62)\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.main(WrapperSimpleApp.java:485)\njvm 1    |\njvm 1    | 2022-04-24 15:52:29,966 main ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile: java.lang.IllegalStateException: ManagerFactory [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory@44a59da3] unable to create manager for [${sys:app.home}/log/openjpa.log] with data [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$FactoryData@6c61a903[pattern=${sys:app.home}/log/openjpa.%d{yyyy-MM-dd}-%i.log.gz, append=true, bufferedIO=true, bufferSize=8192, policy=CompositeTriggeringPolicy(policies=[]), strategy=DefaultRolloverStrategy(min=1, max=7, useMax=true), advertiseURI=null, layout=%d{dd-MMM-yyyy HH:mm:ss.SSS} %level [%t] %C.%M:%L - %msg%n, filePermissions=null, fileOwner=null]] java.lang.IllegalStateException: ManagerFactory [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$RollingFileManagerFactory@44a59da3] unable to create manager for [${sys:app.home}/log/openjpa.log] with data [org.apache.logging.log4j.core.appender.rolling.RollingFileManager$FactoryData@6c61a903[pattern=${sys:app.home}/log/openjpa.%d{yyyy-MM-dd}-%i.log.gz, append=true, bufferedIO=true, bufferSize=8192, policy=CompositeTriggeringPolicy(policies=[]), strategy=DefaultRolloverStrategy(min=1, max=7, useMax=true), advertiseURI=null, layout=%d{dd-MMM-yyyy HH:mm:ss.SSS} %level [%t] %C.%M:%L - %msg%n, filePermissions=null, fileOwner=null]]\njvm 1    |      at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:116)\njvm 1    |      at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\njvm 1    |      at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.getFileManager(RollingFileManager.java:217)\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:146)\njvm 1    |      at org.apache.logging.log4j.core.appender.RollingFileAppender$Builder.build(RollingFileAppender.java:62)\njvm 1    |      at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\njvm 1    |      at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\njvm 1    |      at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\njvm 1    |      at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\njvm 1    |      at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\njvm 1    |      at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\njvm 1    |      at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\njvm 1    |      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\njvm 1    |      at org.apache.james.app.spring.JamesAppSpringMain.&lt;clinit&gt;(JamesAppSpringMain.java:34)\njvm 1    |      at java.base/java.lang.Class.forName0(Native Method)\njvm 1    |      at java.base/java.lang.Class.forName(Class.java:375)\njvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.&lt;init&gt;(WrapperSimpleApp.java:147)\njvm 1    |      at \n\n.........\n\njvm 1    | 24-Nis-2022 15:52:37.034 INFO [WrapperSimpleAppMain] org.springframework.jmx.export.MBeanExporter.registerBeanInstance:672 - Located MBean 'org.apache.james:type=component,name=mailboxcopier': registering with JMX server as MBean [org.apache.james:type=component,name=mailboxcopier]\njvm 1    | 24-Nis-2022 15:52:37.034 INFO [WrapperSimpleAppMain] org.springframework.jmx.export.MBeanExporter.registerBeanInstance:672 - Located MBean 'org.apache.james:type=component,name=quotamanagerbean': registering with JMX server as MBean [org.apache.james:type=component,name=quotamanagerbean]\njvm 1    | 24-Nis-2022 15:52:37.035 INFO [WrapperSimpleAppMain] org.springframework.jmx.export.MBeanExporter.registerBeanInstance:672 - Located MBean 'org.apache.james:type=component,name=reindexerbean': registering with JMX server as MBean [org.apache.james:type=component,name=reindexerbean]\njvm 1    | 24-Nis-2022 15:52:37.035 INFO [WrapperSimpleAppMain] org.springframework.jmx.export.MBeanExporter.registerBeanInstance:672 - Located MBean 'org.apache.james:type=component,name=sievemanagerbean': registering with JMX server as MBean [org.apache.james:type=component,name=sievemanagerbean]\njvm 1    | 24-Nis-2022 15:52:37.040 INFO [WrapperSimpleAppMain] org.apache.james.app.spring.JamesAppSpringMain.main:46 - Apache James Server is successfully started in 6214 milliseconds.\n</code></pre>\n<p>It says server started, there are so many error messages that i am doubtfull.\\</p>\n<ol start=\"3\">\n<li>Anyway, I tried to add a user as below; but i did not worked again</li>\n</ol>\n<pre><code>D:\\james\\bin&gt;james-cli.bat adduser user@localhost myPass\n24-Nis-2022 15:59:13.194 ERROR [main] org.apache.james.cli.ServerCmd.main:101 - Error while playing command\njava.lang.Exception: Unexpected exception\n        at org.apache.james.user.lib.UsersRepositoryManagement.addUser(UsersRepositoryManagement.java:57) ~[james-server-data-library-3.7.0.jar:3.7.0]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n        at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:72) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n        at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:262) ~[?:?]\n        at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112) ~[?:?]\n        at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46) ~[?:?]\n        at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237) ~[?:?]\n        at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138) ~[?:?]\n        at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252) ~[?:?]\n        at javax.management.StandardMBean.invoke(StandardMBean.java:405) ~[?:?]\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814) ~[?:?]\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802) ~[?:?]\n        at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472) ~[?:?]\n        at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310) ~[?:?]\n        at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1405) ~[?:?]\n        at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360) ~[?:?]\n        at sun.rmi.transport.Transport$1.run(Transport.java:200) ~[?:?]\n        at sun.rmi.transport.Transport$1.run(Transport.java:197) ~[?:?]\n        at java.security.AccessController.doPrivileged(AccessController.java:712) ~[?:?]\n        at sun.rmi.transport.Transport.serviceCall(Transport.java:196) ~[?:?]\n        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587) ~[?:?]\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828) ~[?:?]\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705) ~[?:?]\n        at java.security.AccessController.doPrivileged(AccessController.java:399) ~[?:?]\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704) ~[?:?]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]\n        at java.lang.Thread.run(Thread.java:833) ~[?:?]\nError class java.lang.Exception while executing command:Unexpected exception\nusage: java org.apache.james.cli.ServerCmd --host &lt;arg&gt; &lt;command&gt;\n -h,--host &lt;arg&gt;   node hostname or ip address\n -p,--port &lt;arg&gt;   remote jmx agent port number\nAddUser &lt;username&gt; &lt;password&gt;\nRemoveUser &lt;username&gt;\nListUsers\nAddDomain &lt;domainName&gt;\nRemoveDomain &lt;domainName&gt;\nContainsDomain &lt;domainName&gt;\nListDomains\nListMappings\nListUserDomainMappings &lt;user&gt; &lt;domain&gt;\nAddAddressMapping &lt;fromUser&gt; &lt;fromDomain&gt; &lt;toAddress&gt;\nRemoveAddressMapping &lt;fromUser&gt; &lt;fromDomain&gt; &lt;toAddress&gt;\nAddRegexMapping &lt;user&gt; &lt;domain&gt; &lt;regex&gt;\nRemoveRegexMapping &lt;user&gt; &lt;domain&gt; &lt;regex&gt;\nSetPassword &lt;username&gt; &lt;password&gt;\nCopyMailbox &lt;srcBean&gt; &lt;dstBean&gt;\nDeleteUserMailboxes &lt;user&gt;\nCreateMailbox &lt;namespace&gt; &lt;user&gt; &lt;name&gt;\nListUserMailboxes &lt;user&gt;\nDeleteMailbox &lt;namespace&gt; &lt;user&gt; &lt;name&gt;\nImportEml &lt;namespace&gt; &lt;user&gt; &lt;name&gt; &lt;path&gt;\nGetStorageQuota &lt;quotaroot&gt;\nGetMessageCountQuota &lt;quotaroot&gt;\nGetQuotaroot &lt;namespace&gt; &lt;user&gt; &lt;name&gt;\nGetMaxStorageQuota &lt;quotaroot&gt;\nGetMaxMessageCountQuota &lt;quotaroot&gt;\nSetMaxStorageQuota &lt;quotaroot&gt; &lt;maxMessageCount&gt;\nSetMaxMessageCountQuota &lt;quotaroot&gt; &lt;maxStorage&gt;\nSetGlobalMaxStorageQuota &lt;maxStorage&gt;\nSetGlobalMaxMessageCountQuota &lt;maxMessageCount&gt;\nGetGlobalMaxStorageQuota\nGetGlobalMaxMessageCountQuota\nReindexMailbox &lt;namespace&gt; &lt;user&gt; &lt;name&gt;\nReindexAll\nGetSieveQuota\nSetSieveQuota &lt;quota&gt;\nRemoveSieveQuota\nGetSieveUserQuota &lt;username&gt;\nSetSieveUserQuota &lt;username&gt; &lt;quota&gt;\nRemoveSieveUserQuota &lt;username&gt;\nAddActiveSieveScript &lt;username&gt; &lt;scriptname&gt; &lt;path&gt;\n</code></pre>\n<p>Could you put me in the right track.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674722377,"post_id":75243758,"comment_id":132775488,"body_markdown":"*Expected BEGIN_ARRAY but was BEGIN_OBJECT*","body":"<i>Expected BEGIN_ARRAY but was BEGIN_OBJECT</i>"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674725161,"creation_date":1674722803,"answer_id":75243855,"question_id":75243758,"body_markdown":"As my understanding is correct, you only get one object, not a List:\r\n\r\n\r\n    Response result = gson.fromJson(response.toString(), Response.class);\r\n\r\n\r\nTo map the object correctl, you have also to rename the properties, so they fit to the key names in the json structure:\r\n\r\n    import java.util.List;\r\n\r\n    public class Response{\r\n        public Response() {\r\n            super();\r\n        }\r\n        \r\n        private String message;\r\n        private List&lt;ValidationErrors&gt; validationErrors;\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public void setValidationErrors(List&lt;ValidationErrors&gt; errors) {\r\n            this.validationErrors = errors;\r\n        }\r\n    \r\n        public List&lt;ValidationErrors&gt; getValidationErrors() {\r\n            return errors;\r\n        }\r\n    }\r\n\r\nor add the `SerializedName` annotation to it:\r\n\r\n    import java.util.List;\r\n    \r\n    public class Response{\r\n        public Response() {\r\n            super();\r\n        }\r\n        \r\n        private String message;\r\n        @SerializedName(&quot;validationErrors&quot;)\r\n        private List&lt;ValidationErrors&gt; errors;\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public void setErrors(List&lt;ValidationErrors&gt; errors) {\r\n            this.errors = errors;\r\n        }\r\n    \r\n        public List&lt;ValidationErrors&gt; getErrors() {\r\n            return errors;\r\n        }\r\n    }\r\n\r\nand add the property for the missing keys `exceptionMessages`, `trailId` and `isSuccessful`.","title":"GSON parse a JSON value","body":"<p>As my understanding is correct, you only get one object, not a List:</p>\n<pre><code>Response result = gson.fromJson(response.toString(), Response.class);\n</code></pre>\n<p>To map the object correctl, you have also to rename the properties, so they fit to the key names in the json structure:</p>\n<pre><code>import java.util.List;\n\npublic class Response{\n    public Response() {\n        super();\n    }\n    \n    private String message;\n    private List&lt;ValidationErrors&gt; validationErrors;\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setValidationErrors(List&lt;ValidationErrors&gt; errors) {\n        this.validationErrors = errors;\n    }\n\n    public List&lt;ValidationErrors&gt; getValidationErrors() {\n        return errors;\n    }\n}\n</code></pre>\n<p>or add the <code>SerializedName</code> annotation to it:</p>\n<pre><code>import java.util.List;\n\npublic class Response{\n    public Response() {\n        super();\n    }\n    \n    private String message;\n    @SerializedName(&quot;validationErrors&quot;)\n    private List&lt;ValidationErrors&gt; errors;\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setErrors(List&lt;ValidationErrors&gt; errors) {\n        this.errors = errors;\n    }\n\n    public List&lt;ValidationErrors&gt; getErrors() {\n        return errors;\n    }\n}\n</code></pre>\n<p>and add the property for the missing keys <code>exceptionMessages</code>, <code>trailId</code> and <code>isSuccessful</code>.</p>\n"},{"tags":[],"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674723393,"creation_date":1674723393,"answer_id":75243959,"question_id":75243758,"body_markdown":"You are getting this error as your json response is object and you are trying to parse as it is an array but it not..\r\n\r\n\r\nthat why it is showing like ```com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $```\r\n\r\n\r\nyour should replace code as mentioned below\r\n\r\nFrom\r\n```\r\nType listErrors = new TypeToken&lt;List&lt;Response&gt;&gt;() {}.getType();\r\nList&lt;Response&gt; list = gson.fromJson(response.toString(), listErrors);\r\n```\r\n\r\nTo\r\n```\r\nResponse objectResponse = gson.fromJson(response.toString(), Response.class);\r\n```","title":"GSON parse a JSON value","body":"<p>You are getting this error as your json response is object and you are trying to parse as it is an array but it not..</p>\n<p>that why it is showing like <code>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $</code></p>\n<p>your should replace code as mentioned below</p>\n<p>From</p>\n<pre><code>Type listErrors = new TypeToken&lt;List&lt;Response&gt;&gt;() {}.getType();\nList&lt;Response&gt; list = gson.fromJson(response.toString(), listErrors);\n</code></pre>\n<p>To</p>\n<pre><code>Response objectResponse = gson.fromJson(response.toString(), Response.class);\n</code></pre>\n"}],"owner":{"account_id":4782690,"reputation":261,"user_id":3864004,"accept_rate":28,"display_name":"Ti J"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674725266,"creation_date":1674722256,"question_id":75243758,"body_markdown":"I&#39;m working on a web service that is written in Java and I have to get the response from a JSON format. Below is the JSON. How can I get the values properly so I can used them?\r\n\r\n    {\r\n      &quot;message&quot;: &quot;string&quot;,\r\n      &quot;validationErrors&quot;: [\r\n        {\r\n          &quot;code&quot;: &quot;string&quot;,\r\n          &quot;message&quot;: &quot;string&quot;\r\n        }\r\n      ],\r\n      &quot;exceptionMessages&quot;: [\r\n        {\r\n          &quot;code&quot;: &quot;string&quot;,\r\n          &quot;message&quot;: &quot;string&quot;\r\n        }\r\n      ],\r\n      &quot;trailId&quot;: &quot;string&quot;,\r\n      &quot;isSuccessful&quot;: true\r\n    }\r\n\r\n\r\nThis is what I&#39;m trying, but I&#39;m getting an error.\r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.reflect.TypeToken;\r\n    import java.lang.reflect.Type;\r\n    \r\n    Type listErrors = new TypeToken&lt;List&lt;Response&gt;&gt;() {}.getType();\r\n    List&lt;Response&gt; list = gson.fromJson(response.toString(), listErrors);\r\n\r\nThis is the error I am getting when testing.\r\n\r\n    com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $\r\n\r\n\r\nResponse.java\r\n\r\n    import java.util.List;\r\n    \r\n    public class Response{\r\n        public Response() {\r\n            super();\r\n        }\r\n        \r\n        private String message;\r\n        private List&lt;ValidationErrors&gt; errors;\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public void setErrors(List&lt;ValidationErrors&gt; errors) {\r\n            this.errors = errors;\r\n        }\r\n    \r\n        public List&lt;ValidationErrors&gt; getErrors() {\r\n            return errors;\r\n        }\r\n    }\r\n\r\nValidationErrors.java\r\n\r\n    public class ValidationErrors {\r\n        public ValidationErrors() {\r\n            super();\r\n        }\r\n        \r\n        private String code;\r\n        private String message;\r\n    \r\n    \r\n        public void setCode(String code) {\r\n            this.code = code;\r\n        }\r\n    \r\n        public String getCode() {\r\n            return code;\r\n        }\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    }\r\n\r\n","title":"GSON parse a JSON value","body":"<p>I'm working on a web service that is written in Java and I have to get the response from a JSON format. Below is the JSON. How can I get the values properly so I can used them?</p>\n<pre><code>{\n  &quot;message&quot;: &quot;string&quot;,\n  &quot;validationErrors&quot;: [\n    {\n      &quot;code&quot;: &quot;string&quot;,\n      &quot;message&quot;: &quot;string&quot;\n    }\n  ],\n  &quot;exceptionMessages&quot;: [\n    {\n      &quot;code&quot;: &quot;string&quot;,\n      &quot;message&quot;: &quot;string&quot;\n    }\n  ],\n  &quot;trailId&quot;: &quot;string&quot;,\n  &quot;isSuccessful&quot;: true\n}\n</code></pre>\n<p>This is what I'm trying, but I'm getting an error.</p>\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\nimport java.lang.reflect.Type;\n\nType listErrors = new TypeToken&lt;List&lt;Response&gt;&gt;() {}.getType();\nList&lt;Response&gt; list = gson.fromJson(response.toString(), listErrors);\n</code></pre>\n<p>This is the error I am getting when testing.</p>\n<pre><code>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $\n</code></pre>\n<p>Response.java</p>\n<pre><code>import java.util.List;\n\npublic class Response{\n    public Response() {\n        super();\n    }\n    \n    private String message;\n    private List&lt;ValidationErrors&gt; errors;\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setErrors(List&lt;ValidationErrors&gt; errors) {\n        this.errors = errors;\n    }\n\n    public List&lt;ValidationErrors&gt; getErrors() {\n        return errors;\n    }\n}\n</code></pre>\n<p>ValidationErrors.java</p>\n<pre><code>public class ValidationErrors {\n    public ValidationErrors() {\n        super();\n    }\n    \n    private String code;\n    private String message;\n\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","eclipse","dom"],"answers":[{"tags":[],"owner":{"account_id":287201,"reputation":37208,"user_id":586873,"accept_rate":95,"display_name":"Grzegorz Szpetkowski"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1311534921,"creation_date":1311534921,"answer_id":6809045,"question_id":6808536,"body_markdown":"Try using:\r\n\r\n    document.getElementsByTagName(&quot;name&quot;).item(0).getFirstChild().getNodeValue();\r\n\r\nAFAIK It&#39;s &quot;safer&quot; way than `getTextContent()` in some cases.","title":"Eclipse Node.getTextContent() in Java 1.6.0_20","body":"<p>Try using:</p>\n\n<pre><code>document.getElementsByTagName(\"name\").item(0).getFirstChild().getNodeValue();\n</code></pre>\n\n<p>AFAIK It's \"safer\" way than <code>getTextContent()</code> in some cases.</p>\n"},{"tags":[],"owner":{"account_id":1093912,"reputation":1436,"user_id":1087936,"display_name":"Jakub N&#248;rl&#248;v Iwanczuk"},"down_vote_count":0,"up_vote_count":142,"is_accepted":true,"score":142,"last_activity_date":1323354588,"creation_date":1323354588,"answer_id":8432545,"question_id":6808536,"body_markdown":"You need to go to Properties for the project in eclipse. Then select &quot;Java Build Path&quot; and tab &quot;Order and Export&quot;. Here you can arrange the order of dependencies. Ensure that your JRE is higher up then Maven Dependencies.","title":"Eclipse Node.getTextContent() in Java 1.6.0_20","body":"<p>You need to go to Properties for the project in eclipse. Then select \"Java Build Path\" and tab \"Order and Export\". Here you can arrange the order of dependencies. Ensure that your JRE is higher up then Maven Dependencies.</p>\n"},{"tags":[],"owner":{"account_id":1460022,"reputation":91,"user_id":1374596,"display_name":"Paco"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1418146401,"creation_date":1336123720,"answer_id":10446207,"question_id":6808536,"body_markdown":"I know that is an older post, but for anyone who reached this I had a similar problem and fixed it using the steps indicated in:\r\n\r\nhttp://mergetag.com/the-method-gettextcontent-is-undefined-for-the-type-node/\r\n\r\nNamely, `org.w3c.dom.Node.getTextContent() is only available as of Java 1.5` but also note the declarations of `Node`. The `xml-apis-1.0.b2.jar` is the problematic one. Go into the project Properties &gt; Java Build Path &gt; Order and Export tab, and move `xml-apis-1.0.b2.jar` to the top.","title":"Eclipse Node.getTextContent() in Java 1.6.0_20","body":"<p>I know that is an older post, but for anyone who reached this I had a similar problem and fixed it using the steps indicated in:</p>\n\n<p><a href=\"http://mergetag.com/the-method-gettextcontent-is-undefined-for-the-type-node/\" rel=\"nofollow noreferrer\">http://mergetag.com/the-method-gettextcontent-is-undefined-for-the-type-node/</a></p>\n\n<p>Namely, <code>org.w3c.dom.Node.getTextContent() is only available as of Java 1.5</code> but also note the declarations of <code>Node</code>. The <code>xml-apis-1.0.b2.jar</code> is the problematic one. Go into the project Properties > Java Build Path > Order and Export tab, and move <code>xml-apis-1.0.b2.jar</code> to the top.</p>\n"},{"tags":[],"owner":{"account_id":27616970,"reputation":1,"user_id":21078840,"display_name":"Roger Wernersson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674725140,"creation_date":1674725140,"answer_id":75244234,"question_id":6808536,"body_markdown":"I had a similar problem, and fixed it by downgrading from Java SDK 1.11 to 1.8","title":"Eclipse Node.getTextContent() in Java 1.6.0_20","body":"<p>I had a similar problem, and fixed it by downgrading from Java SDK 1.11 to 1.8</p>\n"}],"owner":{"account_id":280829,"reputation":28956,"user_id":576758,"accept_rate":83,"display_name":"Tapas Bose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37635,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":8432545,"answer_count":4,"score":40,"last_activity_date":1674725140,"creation_date":1311529466,"question_id":6808536,"body_markdown":"I am facing trouble with Node.getTextContent() of org.w3c.dom. I have following code block:\r\n\r\n    String name = document.getElementsByTagName(&quot;name&quot;).item(0).getTextContent(); \r\n\r\nAnd eclipse giving me `The method getTextContent() is undefined for the type Node`. What is the problem I don&#39;t understand. \r\n\r\nThanks and regards.\r\n\r\n---\r\n\r\nEdit:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t&lt;groupId&gt;FBApp&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;FBApp&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t\r\n\t\t&lt;repositories&gt;\r\n\t\t\t&lt;repository&gt;\r\n\t\t\t\t&lt;id&gt;java.net.maven1&lt;/id&gt;\r\n\t\t\t\t&lt;name&gt;java.net&lt;/name&gt;\r\n\t\t\t\t&lt;url&gt;http://download.java.net/maven/1&lt;/url&gt;\r\n\t\t\t&lt;/repository&gt;\r\n\t\t\t&lt;repository&gt;\r\n\t\t\t\t&lt;id&gt;maven2-repository.java.net&lt;/id&gt;\r\n\t\t\t\t&lt;name&gt;Java.net Repository for Maven&lt;/name&gt;\r\n\t\t\t\t&lt;url&gt;http://download.java.net/maven/2/&lt;/url&gt;\r\n\t\t\t&lt;/repository&gt;\r\n\t\t&lt;/repositories&gt;\r\n\t\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;javax.faces&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jsf-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;javax.faces&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;classifier&gt;NIGHTLY_20060227&lt;/classifier&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\t\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-beanutils-bean-collections&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-beanutils-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-digester&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-el&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-el&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1.4&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;oro&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;oro&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.0.8&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.code.facebookapi&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;facebook-java-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.code.facebookapi&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;facebook-java-api-annotation-processor&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.code.facebookapi&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;facebook-java-api-schema&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t            &lt;version&gt;1.4.2&lt;/version&gt;\r\n\t            &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t        &lt;/dependency&gt; \r\n\t        &lt;dependency&gt;\r\n\t            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;jcl104-over-slf4j&lt;/artifactId&gt;\r\n\t            &lt;version&gt;1.4.2&lt;/version&gt;\r\n\t            &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t        &lt;/dependency&gt;        \r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/project&gt;\r\n\r\nThis is the pom.xml and the commons-digester needs xml-apis-1.0b2 which contains org.w3c.dom. I think this is a dependency problem.","title":"Eclipse Node.getTextContent() in Java 1.6.0_20","body":"<p>I am facing trouble with Node.getTextContent() of org.w3c.dom. I have following code block:</p>\n\n<pre><code>String name = document.getElementsByTagName(\"name\").item(0).getTextContent(); \n</code></pre>\n\n<p>And eclipse giving me <code>The method getTextContent() is undefined for the type Node</code>. What is the problem I don't understand. </p>\n\n<p>Thanks and regards.</p>\n\n<hr>\n\n<p>Edit:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;FBApp&lt;/groupId&gt;\n    &lt;artifactId&gt;FBApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;java.net.maven1&lt;/id&gt;\n            &lt;name&gt;java.net&lt;/name&gt;\n            &lt;url&gt;http://download.java.net/maven/1&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;maven2-repository.java.net&lt;/id&gt;\n            &lt;name&gt;Java.net Repository for Maven&lt;/name&gt;\n            &lt;url&gt;http://download.java.net/maven/2/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.faces&lt;/groupId&gt;\n            &lt;artifactId&gt;jsf-api&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.faces&lt;/groupId&gt;\n            &lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;classifier&gt;NIGHTLY_20060227&lt;/classifier&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils-bean-collections&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils-core&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-digester&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\n            &lt;version&gt;1.7&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-el&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-el&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n            &lt;version&gt;1.1.4&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;oro&lt;/groupId&gt;\n            &lt;artifactId&gt;oro&lt;/artifactId&gt;\n            &lt;version&gt;2.0.8&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.facebookapi&lt;/groupId&gt;\n            &lt;artifactId&gt;facebook-java-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.facebookapi&lt;/groupId&gt;\n            &lt;artifactId&gt;facebook-java-api-annotation-processor&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.facebookapi&lt;/groupId&gt;\n            &lt;artifactId&gt;facebook-java-api-schema&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.4.2&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl104-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;1.4.2&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;        \n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>This is the pom.xml and the commons-digester needs xml-apis-1.0b2 which contains org.w3c.dom. I think this is a dependency problem.</p>\n"},{"tags":["java","datetime","java-time","localdatetime","java.time.instant"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1674724888,"post_id":75243843,"comment_id":132776241,"body_markdown":"There really isn’t much good use for `LocalDateTime`. I think I have always preferred `ZonedDateTime` because it makes time zone explicit, contrary to `LocalDateTime`. For one case where you *do* need a `LocalDateTime` see [Storing appointments in a SQL database such as Postgres for use with java.time framework](https://stackoverflow.com/questions/64545555/storing-appointments-in-a-sql-database-such-as-postgres-for-use-with-java-time-f).","body":"There really isn’t much good use for <code>LocalDateTime</code>. I think I have always preferred <code>ZonedDateTime</code> because it makes time zone explicit, contrary to <code>LocalDateTime</code>. For one case where you <i>do</i> need a <code>LocalDateTime</code> see <a href=\"https://stackoverflow.com/questions/64545555/storing-appointments-in-a-sql-database-such-as-postgres-for-use-with-java-time-f\">Storing appointments in a SQL database such as Postgres for use with java.time framework</a>."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1674723037,"creation_date":1674723037,"answer_id":75243899,"question_id":75243843,"body_markdown":"&gt; And `LocalDateTime` represents a point in time, encoded as date and time in the JVM local timezone.\r\n\r\nNo, that&#39;s not true. Regardless of the &quot;encoded as&quot; part (which I highly doubt, but which I don&#39;t have significant knowledge of to disprove), a `LocalDateTime` does *not* represent a point in time. It represents a local date/time, without reference to a specific time zone. Any given `LocalDateTime` occurs at different points in time in different time zones.\r\n\r\nCurrently the local date and time in the Europe/London time zone is 2023-01-26T08:50. The *same point in time* in (say) America/New_York would result in a different `LocalDateTime`. Whereas in America/New_York, the `LocalDateTime` of 2023-01-26T08:50 occurs as a different point in time.\r\n\r\nFor some `LocalDateTime` / time zone combinations, there may be zero or two corresponding points in time - for example, the `LocalDateTime` 2022-11-06T01:30 will occur in America/New_York at both 2022-11-06 05:30:00Z and 2022-11-06 06:30:00Z.\r\n\r\nHopefully this is sufficient evidence that a `LocalDateTime` really *isn&#39;t* a point in time...","title":"Why does LocalDateTime.ofInstant() requires ZoneId","body":"<blockquote>\n<p>And <code>LocalDateTime</code> represents a point in time, encoded as date and time in the JVM local timezone.</p>\n</blockquote>\n<p>No, that's not true. Regardless of the &quot;encoded as&quot; part (which I highly doubt, but which I don't have significant knowledge of to disprove), a <code>LocalDateTime</code> does <em>not</em> represent a point in time. It represents a local date/time, without reference to a specific time zone. Any given <code>LocalDateTime</code> occurs at different points in time in different time zones.</p>\n<p>Currently the local date and time in the Europe/London time zone is 2023-01-26T08:50. The <em>same point in time</em> in (say) America/New_York would result in a different <code>LocalDateTime</code>. Whereas in America/New_York, the <code>LocalDateTime</code> of 2023-01-26T08:50 occurs as a different point in time.</p>\n<p>For some <code>LocalDateTime</code> / time zone combinations, there may be zero or two corresponding points in time - for example, the <code>LocalDateTime</code> 2022-11-06T01:30 will occur in America/New_York at both 2022-11-06 05:30:00Z and 2022-11-06 06:30:00Z.</p>\n<p>Hopefully this is sufficient evidence that a <code>LocalDateTime</code> really <em>isn't</em> a point in time...</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1674723068,"creation_date":1674723068,"answer_id":75243903,"question_id":75243843,"body_markdown":"A LocalDateTime represents a date and time without time zone information. It is used to represent &quot;local time&quot; (as an example for me, right now the local time is 2023-01-26 09:50). An Instant is always at UTC (example, the time right now is 2023-01-26 08:50 UTC). To transform between an Instant and what the observer considers to be local time, you need to know the ZoneId of the location of the observer (e.g. for me Europe/Amsterdam), otherwise you cannot derive a local time.\r\n\r\nAnd to be clear, a LocalDateTime does not represent a point in time (that is what Instant is for). To expand my example, for me the local time 2023-01-26 09:50 is now past, while for Jon Skeet (in Europe/London), that local time will happen in slightly less than an hour).","title":"Why does LocalDateTime.ofInstant() requires ZoneId","body":"<p>A LocalDateTime represents a date and time without time zone information. It is used to represent &quot;local time&quot; (as an example for me, right now the local time is 2023-01-26 09:50). An Instant is always at UTC (example, the time right now is 2023-01-26 08:50 UTC). To transform between an Instant and what the observer considers to be local time, you need to know the ZoneId of the location of the observer (e.g. for me Europe/Amsterdam), otherwise you cannot derive a local time.</p>\n<p>And to be clear, a LocalDateTime does not represent a point in time (that is what Instant is for). To expand my example, for me the local time 2023-01-26 09:50 is now past, while for Jon Skeet (in Europe/London), that local time will happen in slightly less than an hour).</p>\n"},{"tags":[],"owner":{"account_id":26147295,"reputation":168,"user_id":19835740,"display_name":"Daxelarne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674723162,"creation_date":1674723071,"answer_id":75243905,"question_id":75243843,"body_markdown":"`.ofInstant()` is there to specify the instant and timezone. \r\n\r\nIf you don&#39;t want to specify the time zone and instant  you can use `.now()` wich will use the local date and time. \r\n\r\nIf you want to specify the instant but not the ZoneId you can use `ZomeId.systemDefault()`.","title":"Why does LocalDateTime.ofInstant() requires ZoneId","body":"<p><code>.ofInstant()</code> is there to specify the instant and timezone.</p>\n<p>If you don't want to specify the time zone and instant  you can use <code>.now()</code> wich will use the local date and time.</p>\n<p>If you want to specify the instant but not the ZoneId you can use <code>ZomeId.systemDefault()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674724885,"creation_date":1674724885,"answer_id":75244197,"question_id":75243843,"body_markdown":"An `Instant` is independent from time zones or offsets, but a `LocalDateTime` is not. Although it does not have a `ZoneId` or `ZoneOffset`, it&#39;s values are partially based on the offset the specific zone currently has.\r\n\r\nHere&#39;s a code example with different zones that lead to different values of the very same `Instant`:\r\n\r\n```Java\r\npublic static void main(String[] args) throws DateTimeParseException {\r\n\t// example instant (see output)\r\n\tvar instant = Instant.now();\r\n\t// get the instant with different time zones\r\n\tvar ldtBerlin = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Europe/Berlin&quot;));\r\n\tvar ldtCanberra = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Australia/Canberra&quot;));\r\n\tvar ldtKolkata = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Asia/Kolkata&quot;));\r\n\tvar ldtLA = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;America/Los_Angeles&quot;));\r\n\t// print all the results\r\n\tSystem.out.println(&quot;Instant &quot; + instant.toEpochMilli() + &quot; in different zones:&quot;);\r\n\tSystem.out.println(ldtBerlin + &quot; (Berlin)&quot;);\r\n\tSystem.out.println(ldtCanberra + &quot; (Canberra)&quot;);\r\n\tSystem.out.println(ldtKolkata + &quot; (Kolkata)&quot;);\r\n\tSystem.out.println(ldtLA + &quot; (Los Angeles)&quot;);\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nInstant 1674724841016 in different zones:\r\n2023-01-26T10:20:41.016228 (Berlin)\r\n2023-01-26T20:20:41.016228 (Canberra)\r\n2023-01-26T14:50:41.016228 (Kolkata)\r\n2023-01-26T01:20:41.016228 (Los Angeles)\r\n```\r\n\r\nView the different values, those are the local dates and times of the zones, but a `LocalDateTime` does not have any! You can use other objects, like `ZonedDateTime` (has zone and offset) and `OffsetDateTime` (has offset). Both of them have a method `toLocalDateTime()`, in case you need a `LocalDateTime` later on…","title":"Why does LocalDateTime.ofInstant() requires ZoneId","body":"<p>An <code>Instant</code> is independent from time zones or offsets, but a <code>LocalDateTime</code> is not. Although it does not have a <code>ZoneId</code> or <code>ZoneOffset</code>, it's values are partially based on the offset the specific zone currently has.</p>\n<p>Here's a code example with different zones that lead to different values of the very same <code>Instant</code>:</p>\n<pre><code>public static void main(String[] args) throws DateTimeParseException {\n    // example instant (see output)\n    var instant = Instant.now();\n    // get the instant with different time zones\n    var ldtBerlin = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Europe/Berlin&quot;));\n    var ldtCanberra = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Australia/Canberra&quot;));\n    var ldtKolkata = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Asia/Kolkata&quot;));\n    var ldtLA = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;America/Los_Angeles&quot;));\n    // print all the results\n    System.out.println(&quot;Instant &quot; + instant.toEpochMilli() + &quot; in different zones:&quot;);\n    System.out.println(ldtBerlin + &quot; (Berlin)&quot;);\n    System.out.println(ldtCanberra + &quot; (Canberra)&quot;);\n    System.out.println(ldtKolkata + &quot; (Kolkata)&quot;);\n    System.out.println(ldtLA + &quot; (Los Angeles)&quot;);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Instant 1674724841016 in different zones:\n2023-01-26T10:20:41.016228 (Berlin)\n2023-01-26T20:20:41.016228 (Canberra)\n2023-01-26T14:50:41.016228 (Kolkata)\n2023-01-26T01:20:41.016228 (Los Angeles)\n</code></pre>\n<p>View the different values, those are the local dates and times of the zones, but a <code>LocalDateTime</code> does not have any! You can use other objects, like <code>ZonedDateTime</code> (has zone and offset) and <code>OffsetDateTime</code> (has offset). Both of them have a method <code>toLocalDateTime()</code>, in case you need a <code>LocalDateTime</code> later on…</p>\n"}],"owner":{"account_id":13449386,"reputation":53,"user_id":11019740,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":75243899,"answer_count":4,"score":3,"last_activity_date":1674725041,"creation_date":1674722718,"question_id":75243843,"body_markdown":"In Java, \r\n\r\n - If `Instant` represents a point in time, encoded as date and time in\r\n   UTC.\r\n - And `LocalDateTime` represents a point in time, encoded as date and time in the JVM local timezone.\r\n\r\nWhy then does `LocalDateTime.ofInstant()` require a `ZoneId` as a second argument ?\r\n\r\nThis makes `LocalDateTime` not only confusing and potentially incorrect, but also makes it identical to `ZonedDateTime`; because the timezone of `LocalDateTime` can be any timezone just like `ZonedDateTime`.","title":"Why does LocalDateTime.ofInstant() requires ZoneId","body":"<p>In Java,</p>\n<ul>\n<li>If <code>Instant</code> represents a point in time, encoded as date and time in\nUTC.</li>\n<li>And <code>LocalDateTime</code> represents a point in time, encoded as date and time in the JVM local timezone.</li>\n</ul>\n<p>Why then does <code>LocalDateTime.ofInstant()</code> require a <code>ZoneId</code> as a second argument ?</p>\n<p>This makes <code>LocalDateTime</code> not only confusing and potentially incorrect, but also makes it identical to <code>ZonedDateTime</code>; because the timezone of <code>LocalDateTime</code> can be any timezone just like <code>ZonedDateTime</code>.</p>\n"},{"tags":["java","xml","jaxb"],"comments":[{"owner":{"account_id":180537,"reputation":898,"user_id":413912,"accept_rate":100,"display_name":"julien"},"score":1,"creation_date":1316302729,"post_id":7437891,"comment_id":9022808,"body_markdown":"Excellent answer there: http://www.lunatech-research.com/archives/2008/10/17/generating-kml-restful-clients","body":"Excellent answer there: <a href=\"http://www.lunatech-research.com/archives/2008/10/17/generating-kml-restful-clients\" rel=\"nofollow noreferrer\">lunatech-research.com/archives/2008/10/17/&hellip;</a>"},{"owner":{"account_id":3047,"reputation":7731,"user_id":4311,"accept_rate":100,"display_name":"Doug Porter"},"score":2,"creation_date":1445875632,"post_id":7437891,"comment_id":54496027,"body_markdown":"Link above does not currently resolve.  Wayback Machine version is here: https://web.archive.org/web/20090221124958/http://lunatech-research.com/archives/2008/10/17/kml-restful","body":"Link above does not currently resolve.  Wayback Machine version is here: <a href=\"https://web.archive.org/web/20090221124958/http://lunatech-research.com/archives/2008/10/17/kml-restful\" rel=\"nofollow noreferrer\">web.archive.org/web/20090221124958/http://lunatech-research.&zwnj;&#8203;com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":228364,"reputation":5505,"user_id":490614,"accept_rate":91,"display_name":"sweetfa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1316124811,"creation_date":1316124811,"answer_id":7438039,"question_id":7437891,"body_markdown":"One solution to your problem is to use the -p option to specify separate package names for each xsd file.","title":"Solve JAXB &quot;name collision in the ObjectFactory class&quot; problem with customisation","body":"<p>One solution to your problem is to use the -p option to specify separate package names for each xsd file.</p>\n"},{"tags":[],"owner":{"account_id":259667,"reputation":664,"user_id":542725,"display_name":"Teddy Yueh"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1316124900,"creation_date":1316124900,"answer_id":7438049,"question_id":7437891,"body_markdown":"You can use the bindings tag. Set the schemaLocation attribute to the location of a particular xsd. The child tags, schemaBindings and package, then define a new package namespace for that xsd. Below is the bindings file I used with xjc a while ago. If it still works, great. If not, example =).\r\n\r\n    &lt;?xml version=&quot;1.0&quot; ?&gt;\r\n    &lt;bindings xmlns=&quot;http://java.sun.com/xml/ns/jaxb&quot; version=&quot;2.1&quot;\r\n          xmlns:kml=&quot;http://www.opengis.net/kml/2.2&quot;\r\n          xmlns:atom=&quot;http://www.w3.org/2005/Atom&quot;&gt;\r\n    \r\n      &lt;bindings schemaLocation=&quot;ogckml22.xsd&quot;&gt;\r\n        &lt;schemaBindings&gt;\r\n          &lt;package name=&quot;net.opengis.kml&quot;/&gt;\r\n        &lt;/schemaBindings&gt;\r\n      &lt;/bindings&gt;\r\n      &lt;bindings schemaLocation=&quot;kml22gx.xsd&quot;&gt;\r\n        &lt;schemaBindings&gt;\r\n          &lt;package name=&quot;net.opengis.kml.ex&quot;/&gt;\r\n        &lt;/schemaBindings&gt;\r\n      &lt;/bindings&gt;\r\n      &lt;bindings schemaLocation=&quot;atom-author-link.xsd&quot;&gt;\r\n        &lt;schemaBindings&gt;\r\n          &lt;package name=&quot;org.w3c.atom&quot;/&gt;\r\n        &lt;/schemaBindings&gt;\r\n      &lt;/bindings&gt;\r\n      &lt;bindings schemaLocation=&quot;xAL.xsd&quot;&gt;\r\n        &lt;schemaBindings&gt;\r\n          &lt;package name=&quot;org.oasis.xal&quot;/&gt;\r\n        &lt;/schemaBindings&gt;\r\n      &lt;/bindings&gt;\r\n      &lt;bindings scd=&quot;kml:scale&quot;&gt;\r\n        &lt;class name=&quot;scaleliteral&quot;/&gt;\r\n      &lt;/bindings&gt;\r\n      &lt;bindings scd=&quot;kml:snippet&quot;&gt;\r\n        &lt;class name=&quot;snippetliteral&quot;/&gt;\r\n      &lt;/bindings&gt;\r\n      &lt;bindings scd=&quot;kml:Snippet&quot;&gt;\r\n        &lt;property name=&quot;snippetDeprecated&quot;/&gt;\r\n      &lt;/bindings&gt;\r\n      &lt;bindings scd=&quot;atom:link&quot;&gt;\r\n        &lt;property name=&quot;atomLink&quot;/&gt;\r\n      &lt;/bindings&gt;\r\n    &lt;/bindings&gt;","title":"Solve JAXB &quot;name collision in the ObjectFactory class&quot; problem with customisation","body":"<p>You can use the bindings tag. Set the schemaLocation attribute to the location of a particular xsd. The child tags, schemaBindings and package, then define a new package namespace for that xsd. Below is the bindings file I used with xjc a while ago. If it still works, great. If not, example =).</p>\n\n<pre><code>&lt;?xml version=\"1.0\" ?&gt;\n&lt;bindings xmlns=\"http://java.sun.com/xml/ns/jaxb\" version=\"2.1\"\n      xmlns:kml=\"http://www.opengis.net/kml/2.2\"\n      xmlns:atom=\"http://www.w3.org/2005/Atom\"&gt;\n\n  &lt;bindings schemaLocation=\"ogckml22.xsd\"&gt;\n    &lt;schemaBindings&gt;\n      &lt;package name=\"net.opengis.kml\"/&gt;\n    &lt;/schemaBindings&gt;\n  &lt;/bindings&gt;\n  &lt;bindings schemaLocation=\"kml22gx.xsd\"&gt;\n    &lt;schemaBindings&gt;\n      &lt;package name=\"net.opengis.kml.ex\"/&gt;\n    &lt;/schemaBindings&gt;\n  &lt;/bindings&gt;\n  &lt;bindings schemaLocation=\"atom-author-link.xsd\"&gt;\n    &lt;schemaBindings&gt;\n      &lt;package name=\"org.w3c.atom\"/&gt;\n    &lt;/schemaBindings&gt;\n  &lt;/bindings&gt;\n  &lt;bindings schemaLocation=\"xAL.xsd\"&gt;\n    &lt;schemaBindings&gt;\n      &lt;package name=\"org.oasis.xal\"/&gt;\n    &lt;/schemaBindings&gt;\n  &lt;/bindings&gt;\n  &lt;bindings scd=\"kml:scale\"&gt;\n    &lt;class name=\"scaleliteral\"/&gt;\n  &lt;/bindings&gt;\n  &lt;bindings scd=\"kml:snippet\"&gt;\n    &lt;class name=\"snippetliteral\"/&gt;\n  &lt;/bindings&gt;\n  &lt;bindings scd=\"kml:Snippet\"&gt;\n    &lt;property name=\"snippetDeprecated\"/&gt;\n  &lt;/bindings&gt;\n  &lt;bindings scd=\"atom:link\"&gt;\n    &lt;property name=\"atomLink\"/&gt;\n  &lt;/bindings&gt;\n&lt;/bindings&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":421202,"reputation":352,"user_id":799308,"display_name":"Murat"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1674724571,"creation_date":1316124988,"answer_id":7438069,"question_id":7437891,"body_markdown":"Did you try `-B-XautoNameResolution` ? It might not always do the trick but best to give a try before writing a binding file.","title":"Solve JAXB &quot;name collision in the ObjectFactory class&quot; problem with customisation","body":"<p>Did you try <code>-B-XautoNameResolution</code> ? It might not always do the trick but best to give a try before writing a binding file.</p>\n"},{"tags":[],"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517296322,"creation_date":1517295797,"answer_id":48515690,"question_id":7437891,"body_markdown":"Well, after a long try, following configuration worked for me. I am using jaxb2-maven-plugin 2.3.1 and a separate binding file:\r\n\r\n**pom.xml**\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;source&gt;1.6&lt;/source&gt;\r\n\t\t\t\t\t\t&lt;target&gt;1.6&lt;/target&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;xjc&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;target&gt;2.1&lt;/target&gt;\r\n\t\t\t\t\t&lt;sources&gt;\r\n\t\t\t\t\t\t&lt;source&gt;src/main/xsd&lt;/source&gt;\r\n\t\t\t\t\t&lt;/sources&gt;\r\n\t\t\t\t\t&lt;xjbSources&gt;\r\n\t\t\t\t\t\t&lt;xjbSource&gt;src/main/xjb/bindings-1.3.xjb&lt;/xjbSource&gt;\r\n\t\t\t\t\t&lt;/xjbSources&gt;\r\n\t\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t\t\t&lt;argument&gt;-Xfluent-api&lt;/argument&gt;\r\n\t\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t\t\t&lt;!-- Package name of the generated sources. --&gt;\r\n\t\t\t\t\t&lt;!-- Don&#39;t use it, because we&#39;ve already declared separate package name inside bindings --&gt;\r\n\t\t\t\t\t&lt;!-- &lt;packageName&gt;com.abc.xyz.generated&lt;/packageName&gt; --&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/generated-sources/classes&lt;/outputDirectory&gt;\r\n\t\t\t\t\t&lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n\t\t\t\t\t&lt;extension&gt;true&lt;/extension&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;jaxb2-fluent-api&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n**bindings.xml**   \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;jxb:bindings version=&quot;1.0&quot; xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2000/10/XMLSchema-instance&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n\txmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;&gt;\r\n\r\n\t&lt;jxb:bindings schemaLocation=&quot;../xsd/ccv1p3_imscp_v1p2_v1p0.xsd&quot;\r\n\t\tnode=&quot;//xs:schema&quot;&gt;\r\n\t\t&lt;jxb:globalBindings&gt;\r\n\t\t\t&lt;jxb:serializable uid=&quot;1&quot; /&gt;\r\n\t\t\t&lt;jxb:javaType name=&quot;java.util.Calendar&quot; xmlType=&quot;xs:dateTime&quot;\r\n\t\t\t\tparseMethod=&quot;javax.xml.bind.DatatypeConverter.parseDateTime&quot;\r\n\t\t\t\tprintMethod=&quot;javax.xml.bind.DatatypeConverter.printDateTime&quot; /&gt;\r\n\t\t&lt;/jxb:globalBindings&gt;\r\n\t\t&lt;jxb:schemaBindings&gt;\r\n\t\t\t&lt;jxb:package name=&quot;com.abc.xyz.generated.manifest&quot; /&gt;\r\n\t\t&lt;/jxb:schemaBindings&gt;\r\n\t&lt;/jxb:bindings&gt;\r\n\r\n\t&lt;jxb:bindings\r\n\t\tschemaLocation=&quot;http://www.imsglobal.org/profile/cc/ccv1p3/LOM/ccv1p3_lommanifest_v1p0.xsd&quot;\r\n\t\tnode=&quot;//xs:schema&quot;&gt;\r\n\t\t&lt;jxb:schemaBindings&gt;\r\n\t\t\t&lt;jxb:package name=&quot;com.abc.xyz.generated.lommanifest&quot; /&gt;\r\n\t\t&lt;/jxb:schemaBindings&gt;\r\n\t&lt;/jxb:bindings&gt;\r\n\r\n\t&lt;jxb:bindings\r\n\t\tschemaLocation=&quot;http://www.imsglobal.org/profile/cc/ccv1p3/LOM/ccv1p3_lomresource_v1p0.xsd&quot;\r\n\t\tnode=&quot;//xs:schema&quot;&gt;\r\n\t\t&lt;jxb:schemaBindings&gt;\r\n\t\t\t&lt;jxb:package name=&quot;com.lcs.thincc.generated.lomresource&quot; /&gt;\r\n\t\t&lt;/jxb:schemaBindings&gt;\r\n\t&lt;/jxb:bindings&gt;\r\n&lt;/jxb:bindings&gt;\r\n\r\nPlease note, that we don&#39;t need to specify `packageName` inside `pom.xml` instead we can declare it using `&lt;jxb:schemaBindings&gt;` inside **bindings.xjb** file which is much easier as mentioned [here][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/5/tutorial/doc/bnbbf.html","title":"Solve JAXB &quot;name collision in the ObjectFactory class&quot; problem with customisation","body":"<p>Well, after a long try, following configuration worked for me. I am using jaxb2-maven-plugin 2.3.1 and a separate binding file:</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.6&lt;/source&gt;\n                    &lt;target&gt;1.6&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc&lt;/id&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;target&gt;2.1&lt;/target&gt;\n                &lt;sources&gt;\n                    &lt;source&gt;src/main/xsd&lt;/source&gt;\n                &lt;/sources&gt;\n                &lt;xjbSources&gt;\n                    &lt;xjbSource&gt;src/main/xjb/bindings-1.3.xjb&lt;/xjbSource&gt;\n                &lt;/xjbSources&gt;\n                &lt;arguments&gt;\n                    &lt;argument&gt;-Xfluent-api&lt;/argument&gt;\n                &lt;/arguments&gt;\n                &lt;!-- Package name of the generated sources. --&gt;\n                &lt;!-- Don't use it, because we've already declared separate package name inside bindings --&gt;\n                &lt;!-- &lt;packageName&gt;com.abc.xyz.generated&lt;/packageName&gt; --&gt;\n                &lt;outputDirectory&gt;${basedir}/target/generated-sources/classes&lt;/outputDirectory&gt;\n                &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                &lt;extension&gt;true&lt;/extension&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\n                    &lt;artifactId&gt;jaxb2-fluent-api&lt;/artifactId&gt;\n                    &lt;version&gt;3.0&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p><strong>bindings.xml</strong>   </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;jxb:bindings schemaLocation=\"../xsd/ccv1p3_imscp_v1p2_v1p0.xsd\"\n    node=\"//xs:schema\"&gt;\n    &lt;jxb:globalBindings&gt;\n        &lt;jxb:serializable uid=\"1\" /&gt;\n        &lt;jxb:javaType name=\"java.util.Calendar\" xmlType=\"xs:dateTime\"\n            parseMethod=\"javax.xml.bind.DatatypeConverter.parseDateTime\"\n            printMethod=\"javax.xml.bind.DatatypeConverter.printDateTime\" /&gt;\n    &lt;/jxb:globalBindings&gt;\n    &lt;jxb:schemaBindings&gt;\n        &lt;jxb:package name=\"com.abc.xyz.generated.manifest\" /&gt;\n    &lt;/jxb:schemaBindings&gt;\n&lt;/jxb:bindings&gt;\n\n&lt;jxb:bindings\n    schemaLocation=\"http://www.imsglobal.org/profile/cc/ccv1p3/LOM/ccv1p3_lommanifest_v1p0.xsd\"\n    node=\"//xs:schema\"&gt;\n    &lt;jxb:schemaBindings&gt;\n        &lt;jxb:package name=\"com.abc.xyz.generated.lommanifest\" /&gt;\n    &lt;/jxb:schemaBindings&gt;\n&lt;/jxb:bindings&gt;\n\n&lt;jxb:bindings\n    schemaLocation=\"http://www.imsglobal.org/profile/cc/ccv1p3/LOM/ccv1p3_lomresource_v1p0.xsd\"\n    node=\"//xs:schema\"&gt;\n    &lt;jxb:schemaBindings&gt;\n        &lt;jxb:package name=\"com.lcs.thincc.generated.lomresource\" /&gt;\n    &lt;/jxb:schemaBindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n\n<p></p>\n\n<p>Please note, that we don't need to specify <code>packageName</code> inside <code>pom.xml</code> instead we can declare it using <code>&lt;jxb:schemaBindings&gt;</code> inside <strong>bindings.xjb</strong> file which is much easier as mentioned <a href=\"https://docs.oracle.com/javaee/5/tutorial/doc/bnbbf.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":180537,"reputation":898,"user_id":413912,"accept_rate":100,"display_name":"julien"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26174,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":7438049,"answer_count":4,"score":11,"last_activity_date":1674724571,"creation_date":1316123703,"question_id":7437891,"body_markdown":"Executing a &quot;xjc&quot; command on [these xsd files][1] returns a `Two declarations cause a collision in the ObjectFactory class` because there are 2 elements named &quot;Scale&quot; and &quot;scale&quot;.\r\n\r\nAccording to [this page][2], this problem may be solved by customizing the xsd files with `&lt;factoryMethod&gt;`. \r\n\r\nDo you know how to do that? Do you have an example of binding file to do that?\r\n\r\n\r\n  [1]: http://schemas.opengis.net/kml/2.2.0/\r\n  [2]: http://jaxb.java.net/guide/Dealing_with_errors.html#Two_declarations_cause_a_collision_in_the_ObjectFactory_class","title":"Solve JAXB &quot;name collision in the ObjectFactory class&quot; problem with customisation","body":"<p>Executing a \"xjc\" command on <a href=\"http://schemas.opengis.net/kml/2.2.0/\" rel=\"noreferrer\">these xsd files</a> returns a <code>Two declarations cause a collision in the ObjectFactory class</code> because there are 2 elements named \"Scale\" and \"scale\".</p>\n\n<p>According to <a href=\"http://jaxb.java.net/guide/Dealing_with_errors.html#Two_declarations_cause_a_collision_in_the_ObjectFactory_class\" rel=\"noreferrer\">this page</a>, this problem may be solved by customizing the xsd files with <code>&lt;factoryMethod&gt;</code>. </p>\n\n<p>Do you know how to do that? Do you have an example of binding file to do that?</p>\n"},{"tags":["java","android","android-layout","material-components-android"],"owner":{"account_id":20722855,"reputation":11,"user_id":15216831,"display_name":"Sergy Spinola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674724428,"creation_date":1674724428,"question_id":75244140,"body_markdown":"I&#39;ve been trying to use MaterialToggleGroup in an Android project, but it is not working properly. The problem is that it always seems to be empty, no matter what you put inside it.\r\n\r\nI&#39;m using a very simple layout, with a LinearLayout that includes the group and a ListView. The group itself contains two buttons.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot; &gt;\r\n\r\n    &lt;com.google.android.material.button.MaterialButtonToggleGroup\r\n        android:id=&quot;@+id/toggle_group&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;com.google.android.material.button.MaterialButton\r\n            android:id=&quot;@+id/button1&quot;\r\n            style=&quot;?attr/materialButtonOutlinedStyle&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Button 1&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.button.MaterialButton\r\n            android:id=&quot;@+id/button2&quot;\r\n            style=&quot;?attr/materialButtonOutlinedStyle&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Button 2&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.button.MaterialButtonToggleGroup&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/listado&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;15dp&quot;\r\n        android:layout_marginRight=&quot;15dp&quot;\r\n        /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n \r\nIn the editor it looks like this:\r\n\r\n[toggle group with wrap_content](https://i.stack.imgur.com/UxDcQ.png)\r\n\r\nIf I change the hight and set it, for example, to 30dp, it shows up but as if it was empty, proving that it is being inserted but it&#39;s no working properly:\r\n\r\n[toggle group with 30dp](https://i.stack.imgur.com/CcrrK.png)\r\n\r\nProject is in Java and its dependencies are pretty much not updated. The problem can be seen on editor but also when app is running on emulator and physical device.\r\n\r\n\r\nWhat I&#39;ve tried so far:\r\n- Invalidating caches/restarting.\r\n- Clean and rebuild project.\r\n- Upgrading all dependencies, including Gradle build tools, material and app compat libraries.\r\n- Test it in another layout, same result.\r\n- Test some other Material components, they work fine.\r\n- Create a new project and use the component, no problems found, seems that the problem is in this project.\r\n\r\nI&#39;m running out of ideas, but I&#39;d like to avoid creating my own component to achieve the same result.\r\n\r\nThanks for your help.","title":"Material toggle group component not working on Android","body":"<p>I've been trying to use MaterialToggleGroup in an Android project, but it is not working properly. The problem is that it always seems to be empty, no matter what you put inside it.</p>\n<p>I'm using a very simple layout, with a LinearLayout that includes the group and a ListView. The group itself contains two buttons.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot; &gt;\n\n    &lt;com.google.android.material.button.MaterialButtonToggleGroup\n        android:id=&quot;@+id/toggle_group&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;com.google.android.material.button.MaterialButton\n            android:id=&quot;@+id/button1&quot;\n            style=&quot;?attr/materialButtonOutlinedStyle&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Button 1&quot; /&gt;\n\n        &lt;com.google.android.material.button.MaterialButton\n            android:id=&quot;@+id/button2&quot;\n            style=&quot;?attr/materialButtonOutlinedStyle&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Button 2&quot; /&gt;\n\n    &lt;/com.google.android.material.button.MaterialButtonToggleGroup&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/listado&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;15dp&quot;\n        android:layout_marginRight=&quot;15dp&quot;\n        /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>In the editor it looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/UxDcQ.png\" rel=\"nofollow noreferrer\">toggle group with wrap_content</a></p>\n<p>If I change the hight and set it, for example, to 30dp, it shows up but as if it was empty, proving that it is being inserted but it's no working properly:</p>\n<p><a href=\"https://i.stack.imgur.com/CcrrK.png\" rel=\"nofollow noreferrer\">toggle group with 30dp</a></p>\n<p>Project is in Java and its dependencies are pretty much not updated. The problem can be seen on editor but also when app is running on emulator and physical device.</p>\n<p>What I've tried so far:</p>\n<ul>\n<li>Invalidating caches/restarting.</li>\n<li>Clean and rebuild project.</li>\n<li>Upgrading all dependencies, including Gradle build tools, material and app compat libraries.</li>\n<li>Test it in another layout, same result.</li>\n<li>Test some other Material components, they work fine.</li>\n<li>Create a new project and use the component, no problems found, seems that the problem is in this project.</li>\n</ul>\n<p>I'm running out of ideas, but I'd like to avoid creating my own component to achieve the same result.</p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1454637515,"creation_date":1454637199,"answer_id":35215035,"question_id":35214988,"body_markdown":"Thank you for copying/pasting the log - definitely helpful!\r\n\r\nThis line looks significant:\r\n\r\n    Caused by: org.eclipse.core.internal.resources.ResourceException: Incompatible file format. Workspace was saved with an incompatible \r\n\r\nSUGGESTIONS: \r\n\r\n1. From a command prompt:\r\n\r\n  * cd into your Eclipse directory\r\n\r\n  * type `eclipse -clean -clearPersistedState`\r\n\r\n2. Rename (or delete) any old workspaces to force Eclipse to create a new workspace\r\n\r\n","title":"Eclipse failing to open","body":"<p>Thank you for copying/pasting the log - definitely helpful!</p>\n\n<p>This line looks significant:</p>\n\n<pre><code>Caused by: org.eclipse.core.internal.resources.ResourceException: Incompatible file format. Workspace was saved with an incompatible \n</code></pre>\n\n<p>SUGGESTIONS: </p>\n\n<ol>\n<li><p>From a command prompt:</p>\n\n<ul>\n<li><p>cd into your Eclipse directory</p></li>\n<li><p>type <code>eclipse -clean -clearPersistedState</code></p></li>\n</ul></li>\n<li><p>Rename (or delete) any old workspaces to force Eclipse to create a new workspace</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1192089,"reputation":4315,"user_id":1329340,"accept_rate":74,"display_name":"Campa"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1486660878,"creation_date":1486660878,"answer_id":42143016,"question_id":35214988,"body_markdown":"The same happened to me: without renaming my workspace I just deleted the corrupted **`org.eclipse.core.resources`** folder in the workspace (`$ECLIPSE_WORKSPACE/.metadata/.plugins/`) and then Eclipse started successfully again.\r\n\r\nYes, I had to re-import all my projects (as *Existing Projects*) into the workspace.\r\n\r\n----\r\n\r\nRefs: [Eclipse forum][1]\r\n\r\n  [1]: https://www.eclipse.org/forums/index.php/t/209016/","title":"Eclipse failing to open","body":"<p>The same happened to me: without renaming my workspace I just deleted the corrupted <strong><code>org.eclipse.core.resources</code></strong> folder in the workspace (<code>$ECLIPSE_WORKSPACE/.metadata/.plugins/</code>) and then Eclipse started successfully again.</p>\n\n<p>Yes, I had to re-import all my projects (as <em>Existing Projects</em>) into the workspace.</p>\n\n<hr>\n\n<p>Refs: <a href=\"https://www.eclipse.org/forums/index.php/t/209016/\" rel=\"noreferrer\">Eclipse forum</a></p>\n"},{"tags":[],"owner":{"account_id":2762423,"reputation":1724,"user_id":2379046,"accept_rate":100,"display_name":"Narayan Yerrabachu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646447926,"creation_date":1487151311,"answer_id":42245522,"question_id":35214988,"body_markdown":"Yes I have also removed **org.eclipse.core.resources** folder from my Eclipse workspace : \r\n\r\n    workspace\\.metadata\\.plugins\\org.eclipse.core.resources\r\n\r\nAnd also run the command in command prompt: \r\n\r\n    &gt;eclipse.exe -clean -clearPersistedState\r\n\r\nAfter doing this Eclipse should work without any problem.\r\n\r\nOR\r\n\r\nOpen a new workspace.","title":"Eclipse failing to open","body":"<p>Yes I have also removed <strong>org.eclipse.core.resources</strong> folder from my Eclipse workspace :</p>\n<pre><code>workspace\\.metadata\\.plugins\\org.eclipse.core.resources\n</code></pre>\n<p>And also run the command in command prompt:</p>\n<pre><code>&gt;eclipse.exe -clean -clearPersistedState\n</code></pre>\n<p>After doing this Eclipse should work without any problem.</p>\n<p>OR</p>\n<p>Open a new workspace.</p>\n"},{"tags":[],"owner":{"account_id":6342088,"reputation":41,"user_id":4923692,"display_name":"Mickael Torralvo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674724309,"creation_date":1674724309,"answer_id":75244118,"question_id":35214988,"body_markdown":"Here is what worked for me :\r\n\r\n1) **Rename** your workspace\r\n2) **Open** eclipse / talend or any software based on eclipse that give you the error\r\n   -- it will **recreate a new workspace** automacilly\r\n3) **Copy** your projects&#39; folders from your **old workspace** to **new workspace**\r\n4) in eclipse(or your software based on eclipse) just **reimport** your projects from folder\r\n\r\ndone","title":"Eclipse failing to open","body":"<p>Here is what worked for me :</p>\n<ol>\n<li><strong>Rename</strong> your workspace</li>\n<li><strong>Open</strong> eclipse / talend or any software based on eclipse that give you the error\n-- it will <strong>recreate a new workspace</strong> automacilly</li>\n<li><strong>Copy</strong> your projects' folders from your <strong>old workspace</strong> to <strong>new workspace</strong></li>\n<li>in eclipse(or your software based on eclipse) just <strong>reimport</strong> your projects from folder</li>\n</ol>\n<p>done</p>\n"}],"owner":{"account_id":7248432,"reputation":147,"user_id":5529586,"accept_rate":50,"display_name":"Jordon Myers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13223,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"accepted_answer_id":35215035,"answer_count":4,"score":9,"last_activity_date":1674724309,"creation_date":1454636859,"question_id":35214988,"body_markdown":"My Eclipse IDE keeps failing to open. I&#39;ve updated my java to the latest version, I&#39;ve got the newest Eclipse Version. I&#39;m running x64 Windows, it seems like the Error log is trying to use x32, but I&#39;ve installed a x64 version of Eclipse. I tried re-installing the x64 version and it still didn&#39;t work.\r\n\r\nIn the Pastebin I&#39;ve linked is the contents of the Log.\r\n\r\nhttp://pastebin.com/An5CRq3e\r\n\r\nEDIT: I&#39;m using x64-bit version of Java","title":"Eclipse failing to open","body":"<p>My Eclipse IDE keeps failing to open. I've updated my java to the latest version, I've got the newest Eclipse Version. I'm running x64 Windows, it seems like the Error log is trying to use x32, but I've installed a x64 version of Eclipse. I tried re-installing the x64 version and it still didn't work.</p>\n\n<p>In the Pastebin I've linked is the contents of the Log.</p>\n\n<p><a href=\"http://pastebin.com/An5CRq3e\" rel=\"noreferrer\">http://pastebin.com/An5CRq3e</a></p>\n\n<p>EDIT: I'm using x64-bit version of Java</p>\n"},{"tags":["java","maven","maven-jaxb2-plugin"],"answers":[{"tags":[],"owner":{"account_id":984675,"reputation":405,"user_id":1003503,"display_name":"creechy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413218141,"creation_date":1413218141,"answer_id":26344772,"question_id":26344590,"body_markdown":"Take a look at the Maven Compiler Plugin. Specifically you should be able to use the `&lt;compilerArgument&gt;` element to pass settings to the compiler. \r\n\r\nSee http://maven.apache.org/plugins/maven-compiler-plugin/examples/pass-compiler-arguments.html for examples.","title":"How to specify javax.xml.accessExternalSchema for the JAXB2 Maven plugin","body":"<p>Take a look at the Maven Compiler Plugin. Specifically you should be able to use the <code>&lt;compilerArgument&gt;</code> element to pass settings to the compiler. </p>\n\n<p>See <a href=\"http://maven.apache.org/plugins/maven-compiler-plugin/examples/pass-compiler-arguments.html\" rel=\"nofollow\">http://maven.apache.org/plugins/maven-compiler-plugin/examples/pass-compiler-arguments.html</a> for examples.</p>\n"},{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1413240596,"creation_date":1413239375,"answer_id":26349908,"question_id":26344590,"body_markdown":"This is relevant to the new [XML security properties in JAXB 1.5][1], introduced in Java 8. This is why your builds now fail on Java 8 but work with Java 7.\r\n\r\n\r\nIf you&#39;re using my `maven-jaxb2-plugin`, please upgrade to the version `0.9.0` or later (current is `0.10.0`). It has now a [`accessExternalSchema `][2] switch (default is `all`).\r\n\r\nThis sets precisely `javax.xml.accessExternalSchema=all`.\r\n\r\nPlease see the [documentation][3].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/jaxp/properties/properties.html\r\n  [2]: https://github.com/highsource/maven-jaxb2-plugin/wiki/Configuring-Extension-Validation-and-XML-Security\r\n  [3]: https://github.com/highsource/maven-jaxb2-plugin/wiki/Configuring-Extension-Validation-and-XML-Security","title":"How to specify javax.xml.accessExternalSchema for the JAXB2 Maven plugin","body":"<p>This is relevant to the new <a href=\"http://docs.oracle.com/javase/tutorial/jaxp/properties/properties.html\" rel=\"noreferrer\">XML security properties in JAXB 1.5</a>, introduced in Java 8. This is why your builds now fail on Java 8 but work with Java 7.</p>\n\n<p>If you're using my <code>maven-jaxb2-plugin</code>, please upgrade to the version <code>0.9.0</code> or later (current is <code>0.10.0</code>). It has now a <a href=\"https://github.com/highsource/maven-jaxb2-plugin/wiki/Configuring-Extension-Validation-and-XML-Security\" rel=\"noreferrer\"><code>accessExternalSchema</code></a> switch (default is <code>all</code>).</p>\n\n<p>This sets precisely <code>javax.xml.accessExternalSchema=all</code>.</p>\n\n<p>Please see the <a href=\"https://github.com/highsource/maven-jaxb2-plugin/wiki/Configuring-Extension-Validation-and-XML-Security\" rel=\"noreferrer\">documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413239558,"creation_date":1413239558,"answer_id":26349947,"question_id":26344590,"body_markdown":"If you are trying to change the behavior of the JVM that is running Maven itself, add options to MAVEN_OPTS in the environment before launching mvn. ","title":"How to specify javax.xml.accessExternalSchema for the JAXB2 Maven plugin","body":"<p>If you are trying to change the behavior of the JVM that is running Maven itself, add options to MAVEN_OPTS in the environment before launching mvn. </p>\n"},{"tags":[],"owner":{"account_id":241052,"reputation":371,"user_id":3764979,"display_name":"Amit Misra"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1420647800,"creation_date":1420647800,"answer_id":27823893,"question_id":26344590,"body_markdown":"I came across this issue while working with jaxb2-maven-plugin. I found a related jira issue for maven-jabx2-plugin - https://java.net/projects/maven-jaxb2-plugin/lists/issues/archive/2014-03/message/0\r\n\r\nAccording to this issue Stephan202 suggested using properties-maven-plugin which worked like charm. Here is a sample code from his post -\r\n\r\n    &lt;plugin&gt;\r\n    &lt;!-- We use this plugin to ensure that our usage of the\r\n    maven-jaxb2-plugin is JDK 8 compatible in absence of a fix\r\n    for https://java.net/jira/browse/MAVEN_JAXB2_PLUGIN-80. --&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-alpha-2&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;set-additional-system-properties&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;set-system-properties&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n            &lt;properties&gt;\r\n                &lt;property&gt;\r\n                    &lt;name&gt;javax.xml.accessExternalSchema&lt;/name&gt;\r\n                    &lt;value&gt;file,http&lt;/value&gt;\r\n                &lt;/property&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"How to specify javax.xml.accessExternalSchema for the JAXB2 Maven plugin","body":"<p>I came across this issue while working with jaxb2-maven-plugin. I found a related jira issue for maven-jabx2-plugin - <a href=\"https://java.net/projects/maven-jaxb2-plugin/lists/issues/archive/2014-03/message/0\" rel=\"noreferrer\">https://java.net/projects/maven-jaxb2-plugin/lists/issues/archive/2014-03/message/0</a></p>\n\n<p>According to this issue Stephan202 suggested using properties-maven-plugin which worked like charm. Here is a sample code from his post -</p>\n\n<pre><code>&lt;plugin&gt;\n&lt;!-- We use this plugin to ensure that our usage of the\nmaven-jaxb2-plugin is JDK 8 compatible in absence of a fix\nfor https://java.net/jira/browse/MAVEN_JAXB2_PLUGIN-80. --&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0-alpha-2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;set-additional-system-properties&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;set-system-properties&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;properties&gt;\n            &lt;property&gt;\n                &lt;name&gt;javax.xml.accessExternalSchema&lt;/name&gt;\n                &lt;value&gt;file,http&lt;/value&gt;\n            &lt;/property&gt;\n        &lt;/properties&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7690986,"reputation":91,"user_id":5827307,"display_name":"Neil Piper"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1453479990,"creation_date":1453479901,"answer_id":34951374,"question_id":26344590,"body_markdown":"Re; the post - &quot;I needed a solution that doesn&#39;t use alpha versions as that is my companies rules. –&quot;\r\n\r\nChanging the version to 1.0 &amp; the value to &#39;all&#39; got it working for me:\r\n\r\n    &lt;plugin&gt;\r\n    &lt;!-- We use this plugin to ensure that our usage of the\r\n    maven-jaxb2-plugin is JDK 8 compatible in absence of a fix\r\n    for https://java.net/jira/browse/MAVEN_JAXB2_PLUGIN-80. --&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n        &lt;!--\r\n        &lt;version&gt;1.0-alpha-2&lt;/version&gt; --&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;set-additional-system-properties&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;set-system-properties&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n            &lt;properties&gt;\r\n                &lt;property&gt;\r\n                    &lt;name&gt;javax.xml.accessExternalSchema&lt;/name&gt;\r\n                    &lt;value&gt;all&lt;/value&gt;\r\n                &lt;/property&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"How to specify javax.xml.accessExternalSchema for the JAXB2 Maven plugin","body":"<p>Re; the post - \"I needed a solution that doesn't use alpha versions as that is my companies rules. –\"</p>\n\n<p>Changing the version to 1.0 &amp; the value to 'all' got it working for me:</p>\n\n<pre><code>&lt;plugin&gt;\n&lt;!-- We use this plugin to ensure that our usage of the\nmaven-jaxb2-plugin is JDK 8 compatible in absence of a fix\nfor https://java.net/jira/browse/MAVEN_JAXB2_PLUGIN-80. --&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n    &lt;!--\n    &lt;version&gt;1.0-alpha-2&lt;/version&gt; --&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;set-additional-system-properties&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;set-system-properties&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;properties&gt;\n            &lt;property&gt;\n                &lt;name&gt;javax.xml.accessExternalSchema&lt;/name&gt;\n                &lt;value&gt;all&lt;/value&gt;\n            &lt;/property&gt;\n        &lt;/properties&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8362545,"reputation":27,"user_id":6280333,"display_name":"user6280333"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1462179603,"creation_date":1462177083,"answer_id":36977987,"question_id":26344590,"body_markdown":"It has worked for me :\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;process-sources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;vmArgs&gt;\r\n                        &lt;arg&gt;-Djavax.xml.accessExternalSchema=all&lt;/arg&gt;\r\n                    &lt;/vmArgs&gt;\r\n                    &lt;keep&gt;true&lt;/keep&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;wsdlDirectory&gt;${project.build.directory}/wsdl&lt;/wsdlDirectory&gt;\r\n                    &lt;wsdlFiles&gt;\r\n                        &lt;wsdlFile&gt;ServiceWsService.wsdl&lt;/wsdlFile&gt;\r\n                    &lt;/wsdlFiles&gt;\r\n                    &lt;bindingFiles&gt;\r\n                        &lt;bindingFile&gt;custom-binding.xml&lt;/bindingFile&gt;\r\n                        &lt;bindingFile&gt;custom-binding2.xml&lt;/bindingFile&gt;\r\n                    &lt;/bindingFiles&gt;\t\t\t\t\t\t\t\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n","title":"How to specify javax.xml.accessExternalSchema for the JAXB2 Maven plugin","body":"<p>It has worked for me :</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;process-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;wsimport&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;vmArgs&gt;\n                    &lt;arg&gt;-Djavax.xml.accessExternalSchema=all&lt;/arg&gt;\n                &lt;/vmArgs&gt;\n                &lt;keep&gt;true&lt;/keep&gt;\n                &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;wsdlDirectory&gt;${project.build.directory}/wsdl&lt;/wsdlDirectory&gt;\n                &lt;wsdlFiles&gt;\n                    &lt;wsdlFile&gt;ServiceWsService.wsdl&lt;/wsdlFile&gt;\n                &lt;/wsdlFiles&gt;\n                &lt;bindingFiles&gt;\n                    &lt;bindingFile&gt;custom-binding.xml&lt;/bindingFile&gt;\n                    &lt;bindingFile&gt;custom-binding2.xml&lt;/bindingFile&gt;\n                &lt;/bindingFiles&gt;                         \n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":287433,"reputation":401,"user_id":587239,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674724105,"creation_date":1674724105,"answer_id":75244085,"question_id":26344590,"body_markdown":"For `maven-jaxb2-plugin` version `2.5.0` trying to generate from `DTD` and spitting\r\n\r\n&gt; org.xml.sax.SAXParseException: External parsing is disabled. Cannot\r\n&gt; parse URI: ...\r\n\r\nit helped adding the following to plugin configuration \r\n```\r\n     &lt;configuration&gt;\r\n         ...\r\n         &lt;externalEntityProcessing&gt;true&lt;/externalEntityProcessing&gt;\r\n     &lt;/configuration&gt;\r\n```","title":"How to specify javax.xml.accessExternalSchema for the JAXB2 Maven plugin","body":"<p>For <code>maven-jaxb2-plugin</code> version <code>2.5.0</code> trying to generate from <code>DTD</code> and spitting</p>\n<blockquote>\n<p>org.xml.sax.SAXParseException: External parsing is disabled. Cannot\nparse URI: ...</p>\n</blockquote>\n<p>it helped adding the following to plugin configuration</p>\n<pre><code>     &lt;configuration&gt;\n         ...\n         &lt;externalEntityProcessing&gt;true&lt;/externalEntityProcessing&gt;\n     &lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":1029585,"reputation":808,"user_id":1038172,"accept_rate":100,"display_name":"Josh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39824,"favorite_count":0,"down_vote_count":2,"up_vote_count":29,"accepted_answer_id":26349908,"answer_count":7,"score":27,"last_activity_date":1674724105,"creation_date":1413217459,"question_id":26344590,"body_markdown":"I have a maven plugin (jaxb2) and I need to supply a jvm arg to it. I don&#39;t think there is a tag to add jvm args in the pom for it.\r\n\r\nI know I can pass in jvm args on the command line eg: `mvn clean install -Djavax.xml.accessExternalSchema=all`\r\n\r\nIs it possible to set this jvm arg in the pom so that I don&#39;t have to type it into the command line every time?\r\n\r\n(As aside - this jvm arg is required in order for it to work with JAVA-8. It works fine with JAVA-7)","title":"How to specify javax.xml.accessExternalSchema for the JAXB2 Maven plugin","body":"<p>I have a maven plugin (jaxb2) and I need to supply a jvm arg to it. I don't think there is a tag to add jvm args in the pom for it.</p>\n\n<p>I know I can pass in jvm args on the command line eg: <code>mvn clean install -Djavax.xml.accessExternalSchema=all</code></p>\n\n<p>Is it possible to set this jvm arg in the pom so that I don't have to type it into the command line every time?</p>\n\n<p>(As aside - this jvm arg is required in order for it to work with JAVA-8. It works fine with JAVA-7)</p>\n"},{"tags":["java","list","junit","comparison"],"answers":[{"tags":[],"owner":{"account_id":5461414,"reputation":658,"user_id":4343411,"display_name":"nikita_pavlenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674723883,"creation_date":1496917722,"answer_id":44433234,"question_id":44433160,"body_markdown":"I guess you can find an answer [here][1]. The idea is to use hamcrest asserts.\r\n\r\n    import static org.hamcrest.collection.IsIterableContainingInAnyOrder.containsInAnyOrder;\r\n    import static org.junit.Assert.assertThat;\r\n    \r\n    public class CompareListTest {\r\n    \r\n        @Test\r\n        public void compareList() {\r\n            List&lt;String&gt; expected = Arrays.asList(&quot;String A&quot;, &quot;String B&quot;);\r\n            List&lt;String&gt; actual = Arrays.asList(&quot;String B&quot;, &quot;String A&quot;);\r\n    \r\n            assertThat(&quot;List equality without order&quot;, \r\n                actual, containsInAnyOrder(expected.toArray()));\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22807328/assertequals-2-lists-ignore-order","title":"JUnit: compare two beans that contain a List regardless of list order","body":"<p>I guess you can find an answer <a href=\"https://stackoverflow.com/questions/22807328/assertequals-2-lists-ignore-order\">here</a>. The idea is to use hamcrest asserts.</p>\n<pre><code>import static org.hamcrest.collection.IsIterableContainingInAnyOrder.containsInAnyOrder;\nimport static org.junit.Assert.assertThat;\n\npublic class CompareListTest {\n\n    @Test\n    public void compareList() {\n        List&lt;String&gt; expected = Arrays.asList(&quot;String A&quot;, &quot;String B&quot;);\n        List&lt;String&gt; actual = Arrays.asList(&quot;String B&quot;, &quot;String A&quot;);\n\n        assertThat(&quot;List equality without order&quot;, \n            actual, containsInAnyOrder(expected.toArray()));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10878617,"reputation":2606,"user_id":7998319,"display_name":"gati sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496919598,"creation_date":1496918477,"answer_id":44433499,"question_id":44433160,"body_markdown":"When you do assertEquals(expectedObject, actualObject) Behind the scene the junit actually call object&#39;s equal method.So my suggestion will be if you override your equal method then you can achieve what you are expecting. \r\n\r\nLogic behind assertEqual.\r\n\r\n    String expectedString = String.valueOf(expected);\r\n    String actualString = String.valueOf(actual);\r\n     if (expectedString.equals(actualString)) {\r\n                return formatted + &quot;expected: &quot;\r\n                        + formatClassAndValue(expected, expectedString)\r\n                        + &quot; but was: &quot; + formatClassAndValue(actual, actualString);\r\n            } else {\r\n                return formatted + &quot;expected:&lt;&quot; + expectedString + &quot;&gt; but was:&lt;&quot;\r\n                        + actualString + &quot;&gt;&quot;;\r\n            }\r\n\r\nOr Apache util available to check two object without equal method overiding \r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\nAPI\r\n\r\n    EqualsBuilder.reflectionEquals( obj1, obj2 )","title":"JUnit: compare two beans that contain a List regardless of list order","body":"<p>When you do assertEquals(expectedObject, actualObject) Behind the scene the junit actually call object's equal method.So my suggestion will be if you override your equal method then you can achieve what you are expecting. </p>\n\n<p>Logic behind assertEqual.</p>\n\n<pre><code>String expectedString = String.valueOf(expected);\nString actualString = String.valueOf(actual);\n if (expectedString.equals(actualString)) {\n            return formatted + \"expected: \"\n                    + formatClassAndValue(expected, expectedString)\n                    + \" but was: \" + formatClassAndValue(actual, actualString);\n        } else {\n            return formatted + \"expected:&lt;\" + expectedString + \"&gt; but was:&lt;\"\n                    + actualString + \"&gt;\";\n        }\n</code></pre>\n\n<p>Or Apache util available to check two object without equal method overiding </p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.5&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>API</p>\n\n<pre><code>EqualsBuilder.reflectionEquals( obj1, obj2 )\n</code></pre>\n"}],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1674723883,"creation_date":1496917552,"question_id":44433160,"body_markdown":"I have found a lot of questions and answers about comparing List objects regardless of the order of their elements, but my problem is more complex: I have two beans that contain, among other properties, a List.  I want to perform an assertEquals of the two beans regardless of the order of the elements in the inner lists.  Is there a simple way to do this?","title":"JUnit: compare two beans that contain a List regardless of list order","body":"<p>I have found a lot of questions and answers about comparing List objects regardless of the order of their elements, but my problem is more complex: I have two beans that contain, among other properties, a List.  I want to perform an assertEquals of the two beans regardless of the order of the elements in the inner lists.  Is there a simple way to do this?</p>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674722467,"creation_date":1674722467,"answer_id":75243805,"question_id":75243699,"body_markdown":"It looks like you are mocking the wrong instance of the class. In the test case, you are mocking the `spy` instance of the `ServiceHelper` class, but you are calling the method on the `serviceToTest` instance, which is the original &quot;unmocked&quot; object. To fix this, you should call the method on the spy instance, like this:\r\n\r\n```java\r\nLocalDateTime tokenExpireDate = spy.calculateApiTokenExpireDate();\r\n```\r\n\r\nAlso I would recommend you to read [that section](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#spy) from official documentation with quite good examples.\r\n","title":"Mockito. Spy doReturn doesn&#39;t change return value","body":"<p>It looks like you are mocking the wrong instance of the class. In the test case, you are mocking the <code>spy</code> instance of the <code>ServiceHelper</code> class, but you are calling the method on the <code>serviceToTest</code> instance, which is the original &quot;unmocked&quot; object. To fix this, you should call the method on the spy instance, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime tokenExpireDate = spy.calculateApiTokenExpireDate();\n</code></pre>\n<p>Also I would recommend you to read <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#spy\" rel=\"nofollow noreferrer\">that section</a> from official documentation with quite good examples.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674723712,"creation_date":1674723712,"answer_id":75243999,"question_id":75243699,"body_markdown":"Calls to `this` cannot be spied, because the `this` reference is not changed. You can change your class to accept in a `java.time.Clock` instance or on a function/interface which returns the current date/time. Then you can inject `Clock#fixed()` in your tests.\r\n\r\nClass:\r\n\r\n```\r\npublic class ServiceHelper {\r\n\r\n    static final long DEFAULT_OUTDATED_TIME_MILLIS = 86400000;\r\n    static final String DATE_TIME_PATTERN = &quot;yyyy-MM-dd HH:mm&quot;;\r\n\r\n    private final Clock clock;\r\n\r\n    long oneTimeOutDatedMillis = DEFAULT_OUTDATED_TIME_MILLIS;\r\n\r\n    public ServiceHelper(final Clock clock) {\r\n        this.clock = clock;\r\n    }\r\n\r\n    // ...\r\n\r\n    protected LocalDateTime calculateApiTokenExpireDate(){\r\n        LocalDateTime now = currentDateTime();\r\n        return now.plus(oneTimeOutDatedMillis, ChronoUnit.MILLIS);\r\n    }\r\n\r\n    protected LocalDateTime currentDateTime() {\r\n        return LocalDateTime.now(clock);\r\n    }\r\n}\r\n```\r\n\r\nTest:\r\n\r\n```\r\npublic class ServiceHelperTest {\r\n    private ServiceHelper serviceToTest;\r\n    private Instant now;\r\n\r\n    @BeforeEach\r\n    void beforeEach() {\r\n        /* prepare */\r\n        now = Instant.now(); // or: Instant.parse(&quot;...&quot;)\r\n        serviceToTest = new ServiceHelper(Clock.fixed(now, ZoneOffset.UTC));\r\n        serviceToTest.oneTimeOutDatedMillis = 86400000;\r\n\r\n    }\r\n\r\n    @Test\r\n    void calculateApiTokenExpireDate_return_plus_one_day_date() {\r\n        /* execute */\r\n        LocalDateTime tokenExpireDate = serviceToTest.calculateApiTokenExpireDate();\r\n\r\n        /* test */\r\n        // assert against this.now ...\r\n    }\r\n}\r\n```","title":"Mockito. Spy doReturn doesn&#39;t change return value","body":"<p>Calls to <code>this</code> cannot be spied, because the <code>this</code> reference is not changed. You can change your class to accept in a <code>java.time.Clock</code> instance or on a function/interface which returns the current date/time. Then you can inject <code>Clock#fixed()</code> in your tests.</p>\n<p>Class:</p>\n<pre><code>public class ServiceHelper {\n\n    static final long DEFAULT_OUTDATED_TIME_MILLIS = 86400000;\n    static final String DATE_TIME_PATTERN = &quot;yyyy-MM-dd HH:mm&quot;;\n\n    private final Clock clock;\n\n    long oneTimeOutDatedMillis = DEFAULT_OUTDATED_TIME_MILLIS;\n\n    public ServiceHelper(final Clock clock) {\n        this.clock = clock;\n    }\n\n    // ...\n\n    protected LocalDateTime calculateApiTokenExpireDate(){\n        LocalDateTime now = currentDateTime();\n        return now.plus(oneTimeOutDatedMillis, ChronoUnit.MILLIS);\n    }\n\n    protected LocalDateTime currentDateTime() {\n        return LocalDateTime.now(clock);\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>public class ServiceHelperTest {\n    private ServiceHelper serviceToTest;\n    private Instant now;\n\n    @BeforeEach\n    void beforeEach() {\n        /* prepare */\n        now = Instant.now(); // or: Instant.parse(&quot;...&quot;)\n        serviceToTest = new ServiceHelper(Clock.fixed(now, ZoneOffset.UTC));\n        serviceToTest.oneTimeOutDatedMillis = 86400000;\n\n    }\n\n    @Test\n    void calculateApiTokenExpireDate_return_plus_one_day_date() {\n        /* execute */\n        LocalDateTime tokenExpireDate = serviceToTest.calculateApiTokenExpireDate();\n\n        /* test */\n        // assert against this.now ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2811782,"reputation":463,"user_id":2417878,"accept_rate":64,"display_name":"Valentyn Grygoriev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75243999,"answer_count":2,"score":0,"last_activity_date":1674723712,"creation_date":1674721813,"question_id":75243699,"body_markdown":"I want to test the method `calculateApiTokenExpireDate()`. I created a spy for `currentDateTime()` so that it returns static date. But it still returns the current date.\r\nCould someone plese show me where is my mistake?\r\nThanks\r\n\r\n```\r\npublic class ServiceHelper {\r\n\r\n    static final long DEFAULT_OUTDATED_TIME_MILLIS = 86400000;\r\n    static final String DATE_TIME_PATTERN = &quot;yyyy-MM-dd HH:mm&quot;;\r\n\r\n    long oneTimeOutDatedMillis = DEFAULT_OUTDATED_TIME_MILLIS;\r\n\r\n    protected String getApiTokenExpireDate(){\r\n        DateTimeFormatter customFormat = DateTimeFormatter.ofPattern(DATE_TIME_PATTERN);\r\n        LocalDateTime tokenExpireDate = calculateApiTokenExpireDate();\r\n        return tokenExpireDate.format(customFormat);\r\n    }\r\n\r\n    protected LocalDateTime calculateApiTokenExpireDate(){\r\n        LocalDateTime now = currentDateTime();\r\n        return now.plus(oneTimeOutDatedMillis, ChronoUnit.MILLIS);\r\n    }\r\n\r\n    protected LocalDateTime currentDateTime() {\r\n        return LocalDateTime.now();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class ServiceHelperTest {\r\n\r\n    private ServiceHelper serviceToTest;\r\n\r\n    private ServiceHelper spy;\r\n\r\n    @BeforeEach\r\n    void beforeEach() {\r\n        serviceToTest = new ServiceHelper();\r\n        serviceToTest.oneTimeOutDatedMillis = 86400000;\r\n        spy = Mockito.spy(serviceToTest);\r\n    }\r\n\r\n    @Test\r\n    void calculateApiTokenExpireDate_return_plus_one_day_date() {\r\n        /* prepare */\r\n        doReturn(LocalDateTime.of(2023, 1, 24, 14, 1)).when(spy).currentDateTime();\r\n\r\n        /* execute */\r\n        LocalDateTime tokenExpireDate = serviceToTest.calculateApiTokenExpireDate();\r\n\r\n        /* test */\r\n        assertEquals(2023, tokenExpireDate.getYear());\r\n        assertEquals(1, tokenExpireDate.getMonthValue());\r\n        assertEquals(25, tokenExpireDate.getDayOfMonth());\r\n    }\r\n}\r\n```","title":"Mockito. Spy doReturn doesn&#39;t change return value","body":"<p>I want to test the method <code>calculateApiTokenExpireDate()</code>. I created a spy for <code>currentDateTime()</code> so that it returns static date. But it still returns the current date.\nCould someone plese show me where is my mistake?\nThanks</p>\n<pre><code>public class ServiceHelper {\n\n    static final long DEFAULT_OUTDATED_TIME_MILLIS = 86400000;\n    static final String DATE_TIME_PATTERN = &quot;yyyy-MM-dd HH:mm&quot;;\n\n    long oneTimeOutDatedMillis = DEFAULT_OUTDATED_TIME_MILLIS;\n\n    protected String getApiTokenExpireDate(){\n        DateTimeFormatter customFormat = DateTimeFormatter.ofPattern(DATE_TIME_PATTERN);\n        LocalDateTime tokenExpireDate = calculateApiTokenExpireDate();\n        return tokenExpireDate.format(customFormat);\n    }\n\n    protected LocalDateTime calculateApiTokenExpireDate(){\n        LocalDateTime now = currentDateTime();\n        return now.plus(oneTimeOutDatedMillis, ChronoUnit.MILLIS);\n    }\n\n    protected LocalDateTime currentDateTime() {\n        return LocalDateTime.now();\n    }\n}\n</code></pre>\n<pre><code>public class ServiceHelperTest {\n\n    private ServiceHelper serviceToTest;\n\n    private ServiceHelper spy;\n\n    @BeforeEach\n    void beforeEach() {\n        serviceToTest = new ServiceHelper();\n        serviceToTest.oneTimeOutDatedMillis = 86400000;\n        spy = Mockito.spy(serviceToTest);\n    }\n\n    @Test\n    void calculateApiTokenExpireDate_return_plus_one_day_date() {\n        /* prepare */\n        doReturn(LocalDateTime.of(2023, 1, 24, 14, 1)).when(spy).currentDateTime();\n\n        /* execute */\n        LocalDateTime tokenExpireDate = serviceToTest.calculateApiTokenExpireDate();\n\n        /* test */\n        assertEquals(2023, tokenExpireDate.getYear());\n        assertEquals(1, tokenExpireDate.getMonthValue());\n        assertEquals(25, tokenExpireDate.getDayOfMonth());\n    }\n}\n</code></pre>\n"},{"tags":["java","input","bufferedreader","numberformatexception","bufferedinputstream"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674720707,"post_id":75243476,"comment_id":132775044,"body_markdown":"Why so complicated, why not simply use the `Scanner` class?","body":"Why so complicated, why not simply use the <code>Scanner</code> class?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674720743,"post_id":75243476,"comment_id":132775060,"body_markdown":"I think the problem is, that you read the input twice","body":"I think the problem is, that you read the input twice"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1674722300,"post_id":75243476,"comment_id":132775468,"body_markdown":"&quot;Because bufferedReader is faster and it becomes necessary to use when there is a time limit&quot; - That&#39;s a really bad reason.  The time saving will be less than milliseconds ... if anything at all.  (Trust me.  I have been programming in Java for over 20 years ...)","body":"&quot;Because bufferedReader is faster and it becomes necessary to use when there is a time limit&quot; - That&#39;s a really bad reason.  The time saving will be less than milliseconds ... if anything at all.  (Trust me.  I have been programming in Java for over 20 years ...)"}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674722351,"creation_date":1674722351,"answer_id":75243775,"question_id":75243476,"body_markdown":"As it&#39;s name implies, a `BufferedReader` is buffered. You cannot use it as you do in that code.\r\nApart from that, avoid throwing exceptions out of a `main` method.\r\nAlso, use `StringBuilder`s instead of `StringBuffer` whenever you can: it&#39;s much faster.\r\nTry something like that:\r\n\r\n        try (Reader reader = new InputStreamReader(System.in);\r\n                BufferedReader in = new BufferedReader(reader)) {\r\n            int t = Integer.parseInt(in.readLine());\r\n            while (t-- &gt; 0) {\r\n                long n = Long.parseLong(in.readLine());\r\n                if (n &lt; 9)\r\n                    System.out.print(n + 1);\r\n                else {\r\n                    while (true) {\r\n                        n++;\r\n                        String s = Long.toString(n);\r\n                        String r = new StringBuilder(s)\r\n                                .reverse()\r\n                                .toString();\r\n                        if (s.equals(r))\r\n                            break;\r\n\r\n                    }\r\n                    System.out.println(n);\r\n                }\r\n            }\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(NextPalindrome_SPOJ .class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n","title":"1. How to avoid NZEC error in java? 2. Is this the correct way to take inputs for test cases","body":"<p>As it's name implies, a <code>BufferedReader</code> is buffered. You cannot use it as you do in that code.\nApart from that, avoid throwing exceptions out of a <code>main</code> method.\nAlso, use <code>StringBuilder</code>s instead of <code>StringBuffer</code> whenever you can: it's much faster.\nTry something like that:</p>\n<pre><code>    try (Reader reader = new InputStreamReader(System.in);\n            BufferedReader in = new BufferedReader(reader)) {\n        int t = Integer.parseInt(in.readLine());\n        while (t-- &gt; 0) {\n            long n = Long.parseLong(in.readLine());\n            if (n &lt; 9)\n                System.out.print(n + 1);\n            else {\n                while (true) {\n                    n++;\n                    String s = Long.toString(n);\n                    String r = new StringBuilder(s)\n                            .reverse()\n                            .toString();\n                    if (s.equals(r))\n                        break;\n\n                }\n                System.out.println(n);\n            }\n        }\n    } catch (IOException ex) {\n        Logger.getLogger(NextPalindrome_SPOJ .class.getName()).log(Level.SEVERE, null, ex);\n    }\n</code></pre>\n"}],"owner":{"account_id":19380291,"reputation":27,"user_id":14171709,"display_name":"Dhyan Prasad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75243775,"answer_count":1,"score":-2,"last_activity_date":1674723498,"creation_date":1674720306,"question_id":75243476,"body_markdown":"\r\n[!(https://i.stack.imgur.com/UpHxf.png)](https://i.stack.imgur.com/UpHxf.png)\r\nWhen I run the code on my Eclipse IDE , it reads the input properly through the console but when I try to submit the code on SPOJ , the compiler throws NZEC error\r\n\r\nI have come to the conclusion that the error shows up because of the way I&#39;m trying to read the input \r\n\r\nLine 1 of input is the number of test cases followed by the inputs.\r\n**Eg:**\r\n\r\n    2 --&gt; No of test cases\r\n    123 --&gt; Input number\r\n    131 --&gt; Closest next palindrome\r\n    41\r\n    44\r\n\r\n\r\nPlease tell me the right way to accept inputs or some fix.\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.io.BufferedReader;\r\nimport java.lang.*;\r\n\r\npublic class NextPalindrome_SPOJ {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tint t = Integer.valueOf((new BufferedReader(new InputStreamReader(System.in))).readLine());\r\n\t\t// BufferedReader r = new BufferedReader (new InputStreamReader (System.in));\r\n\t\t// String s;\r\n\t\t// while((s = r.readLine()) != null &amp;&amp; !s.isEmpty()) --&gt; alternate way to read\r\n\t\t// input\r\n\t\twhile (t-- &gt; 0) {\r\n\t\t\tlong n = Long.valueOf((new BufferedReader(new InputStreamReader(System.in)).readLine()));\r\n\t\t\tif (n &lt; 9)\r\n\t\t\t\tSystem.out.print(n + 1);\r\n\t\t\telse {\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tn++;\r\n\t\t\t\t\tif (String.valueOf(n).equals(String.valueOf((new StringBuffer(String.valueOf(n)).reverse()))))\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(n);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n**OUTPUT:** \r\n```\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: null\r\n\tat java.base/java.lang.Long.parseLong(Long.java:662)\r\n\tat java.base/java.lang.Long.valueOf(Long.java:1151)\r\n\tat Main.main(Main.java:11)\r\n```","title":"1. How to avoid NZEC error in java? 2. Is this the correct way to take inputs for test cases","body":"<p><a href=\"https://i.stack.imgur.com/UpHxf.png\" rel=\"nofollow noreferrer\">!(https://i.stack.imgur.com/UpHxf.png)</a>\nWhen I run the code on my Eclipse IDE , it reads the input properly through the console but when I try to submit the code on SPOJ , the compiler throws NZEC error</p>\n<p>I have come to the conclusion that the error shows up because of the way I'm trying to read the input</p>\n<p>Line 1 of input is the number of test cases followed by the inputs.\n<strong>Eg:</strong></p>\n<pre><code>2 --&gt; No of test cases\n123 --&gt; Input number\n131 --&gt; Closest next palindrome\n41\n44\n</code></pre>\n<p>Please tell me the right way to accept inputs or some fix.</p>\n<pre><code>import java.io.*;\nimport java.io.BufferedReader;\nimport java.lang.*;\n\npublic class NextPalindrome_SPOJ {\n\n    public static void main(String[] args) throws IOException {\n        int t = Integer.valueOf((new BufferedReader(new InputStreamReader(System.in))).readLine());\n        // BufferedReader r = new BufferedReader (new InputStreamReader (System.in));\n        // String s;\n        // while((s = r.readLine()) != null &amp;&amp; !s.isEmpty()) --&gt; alternate way to read\n        // input\n        while (t-- &gt; 0) {\n            long n = Long.valueOf((new BufferedReader(new InputStreamReader(System.in)).readLine()));\n            if (n &lt; 9)\n                System.out.print(n + 1);\n            else {\n                while (true) {\n                    n++;\n                    if (String.valueOf(n).equals(String.valueOf((new StringBuffer(String.valueOf(n)).reverse()))))\n                        break;\n\n                }\n                System.out.println(n);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>OUTPUT:</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: null\n    at java.base/java.lang.Long.parseLong(Long.java:662)\n    at java.base/java.lang.Long.valueOf(Long.java:1151)\n    at Main.main(Main.java:11)\n</code></pre>\n"},{"tags":["java","spring-boot","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674722954,"post_id":75242495,"comment_id":132775637,"body_markdown":"Try passing `server.port`, also I&#39;m not certain if embedded profiles are supported in property files.","body":"Try passing <code>server.port</code>, also I&#39;m not certain if embedded profiles are supported in property files."}],"answers":[{"tags":[],"owner":{"account_id":8469968,"reputation":672,"user_id":9311364,"accept_rate":71,"display_name":"Ladu anand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674723407,"creation_date":1674723407,"answer_id":75243963,"question_id":75242495,"body_markdown":"Able to make it work by passing the arguments as -- instead of using -D. \r\n\r\nFor building the native image, no need to pass -D. \r\n```\r\n./mvnw -Pnative native:compile\r\n```\r\nAnd to run the executable with system properties, use the below command\r\n```\r\n./target/&lt;app-executable&gt; --spring.profiles.active=local\r\n```\r\n\r\nThis picked up the server.port=9093.","title":"Profile specific application properties not picked by Spring Boot 3 native executable","body":"<p>Able to make it work by passing the arguments as -- instead of using -D.</p>\n<p>For building the native image, no need to pass -D.</p>\n<pre><code>./mvnw -Pnative native:compile\n</code></pre>\n<p>And to run the executable with system properties, use the below command</p>\n<pre><code>./target/&lt;app-executable&gt; --spring.profiles.active=local\n</code></pre>\n<p>This picked up the server.port=9093.</p>\n"}],"owner":{"account_id":8469968,"reputation":672,"user_id":9311364,"accept_rate":71,"display_name":"Ladu anand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1298,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75243963,"answer_count":1,"score":3,"last_activity_date":1674723407,"creation_date":1674710620,"question_id":75242495,"body_markdown":"I am planning to use a native image with Spring Boot 3. My environment-specific properties are stored in the application.properties file. Sample file \r\n\r\n```\r\nspring.config.activate.on-profile=dev\r\nserver.port=9092\r\n#---\r\nspring.config.activate.on-profile=local\r\nserver.port=9093\r\n```\r\nI build the native executable using the following command \r\n\r\n```\r\n./mvnw -Pnative native:compile -Dspring.profiles.active=local\r\n```\r\n\r\nand run the executable using the below command\r\n\r\n```\r\n./target/&lt;app-executable&gt; -Dspring.profiles.active=local\r\n```\r\n\r\nIn the logs I see \r\n```\r\nNo active profile set, falling back to 1 default profile: &quot;default&quot;\r\n```\r\n\r\nAm I doing something wrong or Are profiles not supported with Spring Boot 3 native image? ","title":"Profile specific application properties not picked by Spring Boot 3 native executable","body":"<p>I am planning to use a native image with Spring Boot 3. My environment-specific properties are stored in the application.properties file. Sample file</p>\n<pre><code>spring.config.activate.on-profile=dev\nserver.port=9092\n#---\nspring.config.activate.on-profile=local\nserver.port=9093\n</code></pre>\n<p>I build the native executable using the following command</p>\n<pre><code>./mvnw -Pnative native:compile -Dspring.profiles.active=local\n</code></pre>\n<p>and run the executable using the below command</p>\n<pre><code>./target/&lt;app-executable&gt; -Dspring.profiles.active=local\n</code></pre>\n<p>In the logs I see</p>\n<pre><code>No active profile set, falling back to 1 default profile: &quot;default&quot;\n</code></pre>\n<p>Am I doing something wrong or Are profiles not supported with Spring Boot 3 native image?</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674717237,"post_id":75242995,"comment_id":132774270,"body_markdown":"`select from boat_cards where body_material = 2`","body":"<code>select from boat_cards where body_material = 2</code>"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1674717255,"post_id":75242995,"comment_id":132774272,"body_markdown":"Shiow me your code","body":"Shiow me your code"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674717522,"post_id":75242995,"comment_id":132774321,"body_markdown":"Where&#39;s that &quot;nested table&quot; your title mentions? What you&#39;ve shown seems to be a simple select with a where condition - and we can&#39;t help with the JPA/Hibernate approach since you didn&#39;t share any code/mapping to Java entities. So all we can do is suggest a native SQL query like XtremeBaumer already did.","body":"Where&#39;s that &quot;nested table&quot; your title mentions? What you&#39;ve shown seems to be a simple select with a where condition - and we can&#39;t help with the JPA/Hibernate approach since you didn&#39;t share any code/mapping to Java entities. So all we can do is suggest a native SQL query like XtremeBaumer already did."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1674718448,"post_id":75242995,"comment_id":132774504,"body_markdown":"Please don&#39;t be lazy and post your code as text: [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors)","body":"Please don&#39;t be lazy and post your code as text: <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">Why should I not upload images of code/data/errors?</a>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674718705,"post_id":75242995,"comment_id":132774562,"body_markdown":"You might also elaborate on what issue you are facing. Also, since `body_material` is an integer in your table and you&#39;re passing a `BoatBodyMaterial` - there might be a mapping issue. You still didn&#39;t share the entities themselves. If I&#39;d need to guess I&#39;d assume your `BoatCard` entity just has an `int bodyMaterial` in which case you&#39;d need to map the `BoatBodyMaterial` to an `int` (maybe using `getId()`?) - or yet better: fix your mapping (which we don&#39;t know yet).","body":"You might also elaborate on what issue you are facing. Also, since <code>body_material</code> is an integer in your table and you&#39;re passing a <code>BoatBodyMaterial</code> - there might be a mapping issue. You still didn&#39;t share the entities themselves. If I&#39;d need to guess I&#39;d assume your <code>BoatCard</code> entity just has an <code>int bodyMaterial</code> in which case you&#39;d need to map the <code>BoatBodyMaterial</code> to an <code>int</code> (maybe using <code>getId()</code>?) - or yet better: fix your mapping (which we don&#39;t know yet)."},{"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"score":0,"creation_date":1674718915,"post_id":75242995,"comment_id":132774618,"body_markdown":"@Thomas I added entity and code, thank you!","body":"@Thomas I added entity and code, thank you!"},{"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"score":0,"creation_date":1674719178,"post_id":75242995,"comment_id":132774672,"body_markdown":"@Thomas i added error description","body":"@Thomas i added error description"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674719718,"post_id":75242995,"comment_id":132774827,"body_markdown":"It&#39;s hard to tell what the problem is from that single line of the stack trace you&#39;ve posted but this seems to be a conversion issue for `BoatBodyMaterial` rather than an issue with the query itself. Again, that single line doesn&#39;t help much, e.g. we can&#39;t see where exactly the problem arises.","body":"It&#39;s hard to tell what the problem is from that single line of the stack trace you&#39;ve posted but this seems to be a conversion issue for <code>BoatBodyMaterial</code> rather than an issue with the query itself. Again, that single line doesn&#39;t help much, e.g. we can&#39;t see where exactly the problem arises."},{"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"score":0,"creation_date":1674723502,"post_id":75242995,"comment_id":132775823,"body_markdown":"@Thomas thank you for answer! I resolved this problem. I added description","body":"@Thomas thank you for answer! I resolved this problem. I added description"}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674720027,"creation_date":1674720027,"answer_id":75243443,"question_id":75242995,"body_markdown":"Try something like this:\r\n\r\n    public interface BoatCardsDao extends JpaRepository&lt;BoatCards, Integer&gt; {\r\n    \r\n        @Query(value = &quot;SELECT card FROM BoatCards card&quot;\r\n                + &quot; JOIN card.bodyMaterial mat&quot;\r\n                + &quot; WHERE mat.matcode = :matcode&quot;)\r\n        List&lt;BoatCards&gt; findAllByBodyMaterial(@Param(&quot;matcode&quot;) int matcode);\r\n    }\r\n\r\n","title":"How to find a list of an object by a nested table?","body":"<p>Try something like this:</p>\n<pre><code>public interface BoatCardsDao extends JpaRepository&lt;BoatCards, Integer&gt; {\n\n    @Query(value = &quot;SELECT card FROM BoatCards card&quot;\n            + &quot; JOIN card.bodyMaterial mat&quot;\n            + &quot; WHERE mat.matcode = :matcode&quot;)\n    List&lt;BoatCards&gt; findAllByBodyMaterial(@Param(&quot;matcode&quot;) int matcode);\n}\n</code></pre>\n"}],"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75243443,"answer_count":1,"score":0,"last_activity_date":1674723401,"creation_date":1674716536,"question_id":75242995,"body_markdown":"Such a problem. I have an entity. I need to get a list of objects of this entity by selection, namely by the body_material field. That is, for example, find all BoatCards whose body_material index is 2. I do this in Java using Spring. I have added Dao, Service, Controller and entity&#39;s classes\r\n\r\nBoatBodyMaterial entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;boat_body_material&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n        public class BoatBodyMaterial {\r\n        \r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            @Column(name = &quot;matcode&quot;)\r\n            private Integer matcode;\r\n        \r\n            @Column(name = &quot;matname&quot;)\r\n            private String matname;\r\n        \r\n            @Column(name = &quot;matnote&quot;)\r\n            private String matnote;\r\n        \r\n        }\r\n\r\nBoatCards entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;boat_cards&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n    @FieldDefaults(level = AccessLevel.PRIVATE)\r\n        public class BoatCards {\r\n        \r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            @Column(name = &quot;cardid&quot;)\r\n            Long cardid;\r\n        \r\n            @Column(name = &quot;reg_num&quot;)\r\n            String regNum;\r\n        \r\n            @Column(name = &quot;tiket_num&quot;)\r\n            String tiketNum;\r\n        \r\n            @Column(name = &quot;boat_name&quot;)\r\n            String boatName;\r\n        \r\n            @ManyToOne\r\n            @JoinColumn(name = &quot;boat_type&quot;)\r\n            BoatTypes boatType;\r\n        \r\n            @Column(name = &quot;boat_year&quot;)\r\n            String boatYear;\r\n        \r\n            @Column(name = &quot;boat_vin&quot;)\r\n            String boatVin;\r\n        \r\n            @Column(name = &quot;parking_place&quot;)\r\n            String parkingPlace;\r\n        \r\n            @ManyToOne\r\n            @JoinColumn(name = &quot;sa_category&quot;)\r\n            SaCategory saCategory;\r\n        \r\n            @Column(name = &quot;boat_length&quot;)\r\n            String boatLength;\r\n        \r\n            @Column(name = &quot;boat_width&quot;)\r\n            String boatWidth;\r\n        \r\n            @Column(name = &quot;boat_height&quot;)\r\n            String boatHeight;\r\n        \r\n            @ManyToOne\r\n            @JoinColumn(name = &quot;body_material&quot;)\r\n            BoatBodyMaterial bodyMaterial;\r\n        \r\n            @Column(name = &quot;boat_payload&quot;)\r\n            Long boatPayload;\r\n        \r\n            @Column(name = &quot;passengers_num&quot;)\r\n            Long passengersNum;\r\n        \r\n            @Column(name = &quot;service_life&quot;)\r\n            String serviceLife;\r\n        \r\n            @Column(name = &quot;engine_num&quot;)\r\n            Long engineNum;\r\n        \r\n            @ManyToOne\r\n            @JoinColumn(name = &quot;owner&quot;)\r\n            PersonData owner;\r\n        \r\n            @ManyToOne\r\n            @JoinColumn(name = &quot;agent&quot;)\r\n            PersonData agent;\r\n        \r\n            @Column(name = &quot;note&quot;)\r\n            String note;\r\n        \r\n        }\r\n\r\nDao class:\r\n\r\n    public interface BoatCardsDao extends JpaRepository&lt;BoatCards, Integer&gt; {\r\n    \r\n        @Query(value = &quot;SELECT * from gims.boat_body_material where matcode = 1&quot;, nativeQuery = true)\r\n        BoatBodyMaterial findByBodyMaterial ();\r\n    \r\n        List&lt;BoatCards&gt; findAllByBodyMaterial(BoatBodyMaterial list);\r\n    }\r\n\r\nService class:\r\n\r\n    public List&lt;BoatCards&gt; getAllByMaterial() {\r\n            BoatBodyMaterial matcodeFromTable = boatCardsDao.findByBodyMaterial();\r\n    \r\n            List&lt;BoatCards&gt; boatCards = boatCardsDao.findAllByBodyMaterial(matcodeFromTable);\r\n            return boatCards;\r\n        }\r\n\r\nController class:\r\n\r\n    @GetMapping(path=&quot;/get&quot;)\r\n        public List&lt;BoatCards&gt; get() {\r\n    \r\n            return boatCardsService.getAllByMaterial();\r\n        }\r\n\r\nI get ERROR:\r\n\r\n    2023-01-26T10:33:20.193+03:00 ERROR 20852 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type [by.compit.gimsshd.model.BoatBodyMaterial] for value &#39;{1, metal, produce from metal}&#39;] with root cause\r\n\r\nI resolve this problem! Thank you!\r\n\r\n    public interface BoatCardsDao extends JpaRepository&lt;BoatCards, Integer&gt; {\r\n    \r\n        List&lt;BoatCards&gt; findAllByBodyMaterialMatcode(Integer bodyMaterial);\r\n    \r\n    \r\n    }","title":"How to find a list of an object by a nested table?","body":"<p>Such a problem. I have an entity. I need to get a list of objects of this entity by selection, namely by the body_material field. That is, for example, find all BoatCards whose body_material index is 2. I do this in Java using Spring. I have added Dao, Service, Controller and entity's classes</p>\n<p>BoatBodyMaterial entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;boat_body_material&quot;)\n@Data\n@NoArgsConstructor\n    public class BoatBodyMaterial {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;matcode&quot;)\n        private Integer matcode;\n    \n        @Column(name = &quot;matname&quot;)\n        private String matname;\n    \n        @Column(name = &quot;matnote&quot;)\n        private String matnote;\n    \n    }\n</code></pre>\n<p>BoatCards entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;boat_cards&quot;)\n@Data\n@NoArgsConstructor\n@FieldDefaults(level = AccessLevel.PRIVATE)\n    public class BoatCards {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;cardid&quot;)\n        Long cardid;\n    \n        @Column(name = &quot;reg_num&quot;)\n        String regNum;\n    \n        @Column(name = &quot;tiket_num&quot;)\n        String tiketNum;\n    \n        @Column(name = &quot;boat_name&quot;)\n        String boatName;\n    \n        @ManyToOne\n        @JoinColumn(name = &quot;boat_type&quot;)\n        BoatTypes boatType;\n    \n        @Column(name = &quot;boat_year&quot;)\n        String boatYear;\n    \n        @Column(name = &quot;boat_vin&quot;)\n        String boatVin;\n    \n        @Column(name = &quot;parking_place&quot;)\n        String parkingPlace;\n    \n        @ManyToOne\n        @JoinColumn(name = &quot;sa_category&quot;)\n        SaCategory saCategory;\n    \n        @Column(name = &quot;boat_length&quot;)\n        String boatLength;\n    \n        @Column(name = &quot;boat_width&quot;)\n        String boatWidth;\n    \n        @Column(name = &quot;boat_height&quot;)\n        String boatHeight;\n    \n        @ManyToOne\n        @JoinColumn(name = &quot;body_material&quot;)\n        BoatBodyMaterial bodyMaterial;\n    \n        @Column(name = &quot;boat_payload&quot;)\n        Long boatPayload;\n    \n        @Column(name = &quot;passengers_num&quot;)\n        Long passengersNum;\n    \n        @Column(name = &quot;service_life&quot;)\n        String serviceLife;\n    \n        @Column(name = &quot;engine_num&quot;)\n        Long engineNum;\n    \n        @ManyToOne\n        @JoinColumn(name = &quot;owner&quot;)\n        PersonData owner;\n    \n        @ManyToOne\n        @JoinColumn(name = &quot;agent&quot;)\n        PersonData agent;\n    \n        @Column(name = &quot;note&quot;)\n        String note;\n    \n    }\n</code></pre>\n<p>Dao class:</p>\n<pre><code>public interface BoatCardsDao extends JpaRepository&lt;BoatCards, Integer&gt; {\n\n    @Query(value = &quot;SELECT * from gims.boat_body_material where matcode = 1&quot;, nativeQuery = true)\n    BoatBodyMaterial findByBodyMaterial ();\n\n    List&lt;BoatCards&gt; findAllByBodyMaterial(BoatBodyMaterial list);\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>public List&lt;BoatCards&gt; getAllByMaterial() {\n        BoatBodyMaterial matcodeFromTable = boatCardsDao.findByBodyMaterial();\n\n        List&lt;BoatCards&gt; boatCards = boatCardsDao.findAllByBodyMaterial(matcodeFromTable);\n        return boatCards;\n    }\n</code></pre>\n<p>Controller class:</p>\n<pre><code>@GetMapping(path=&quot;/get&quot;)\n    public List&lt;BoatCards&gt; get() {\n\n        return boatCardsService.getAllByMaterial();\n    }\n</code></pre>\n<p>I get ERROR:</p>\n<pre><code>2023-01-26T10:33:20.193+03:00 ERROR 20852 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type [by.compit.gimsshd.model.BoatBodyMaterial] for value '{1, metal, produce from metal}'] with root cause\n</code></pre>\n<p>I resolve this problem! Thank you!</p>\n<pre><code>public interface BoatCardsDao extends JpaRepository&lt;BoatCards, Integer&gt; {\n\n    List&lt;BoatCards&gt; findAllByBodyMaterialMatcode(Integer bodyMaterial);\n\n\n}\n</code></pre>\n"},{"tags":["java","swing","jtabbedpane"],"comments":[{"owner":{"account_id":27618339,"reputation":1,"user_id":21079961,"display_name":"VenomBlet"},"score":0,"creation_date":1674655948,"post_id":75234311,"comment_id":132760917,"body_markdown":"Ok, one of the way. Not too good, but working. I firstly created Jtappedpane, then wrote try{...}, than wrote another code. So, I have old bad-looking but normal working pane and windows style chooser. If you have solution for windows looking pane, It will be more good)","body":"Ok, one of the way. Not too good, but working. I firstly created Jtappedpane, then wrote try{...}, than wrote another code. So, I have old bad-looking but normal working pane and windows style chooser. If you have solution for windows looking pane, It will be more good)"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1674656935,"post_id":75234311,"comment_id":132761264,"body_markdown":"Your question involves changing the look and feel. Can you get the name of the look and feel that gives you the undesired behaviour? Ie include the output from `System.out.println(UIManager.getSystemLookAndFeelClassName())` What are you asking about the JChooser? Do you want a JFileChooser?","body":"Your question involves changing the look and feel. Can you get the name of the look and feel that gives you the undesired behaviour? Ie include the output from <code>System.out.println(UIManager.getSystemLookAndFeelClassName()&zwnj;&#8203;)</code> What are you asking about the JChooser? Do you want a JFileChooser?"}],"answers":[{"tags":[],"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674723319,"creation_date":1674723319,"answer_id":75243950,"question_id":75234311,"body_markdown":"The reason is that this is **implemented differently** in various Look and Feel implementations (See [here][1], section 6.2.1):\r\n\r\n&gt; [...] selecting a tab that is not in the frontmost row or column **moves that row or column to the front**. This does not occur in a JTabbedPane using the default Metal L&amp;F as can be seen in the TabbedPaneDemo example above. However, this does occur when using the Windows, Motif, and Basic L&amp;Fs. This **feature was purposefully disabled** in the Metal L&amp;F [...]\r\n\r\nThe responsible method is shouldRotateTabRuns(...) and returns true or false in various TabbedUI implementations (see [Metal L&amp;F][2] vs. [Basic L&amp;F][3]).\r\n\r\nTo prevent tab rotation, you could overwrite like this:\r\n\r\n    public class TabExample extends JFrame {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t} catch (InstantiationException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t} catch (IllegalAccessException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t} catch (UnsupportedLookAndFeelException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tTabExample app = new TabExample();\r\n\t\t\t\t\tapp.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tprivate TabExample() {\r\n\t\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tsetSize(800, 500);\r\n\t\t\tsetLocationRelativeTo(null);\r\n\t\t\tsetVisible(true);\r\n\r\n\t\t\tJPanel UpperPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n\t\t\tJTabbedPane tabbedPane = new JTabbedPane(JTabbedPane.RIGHT, JTabbedPane.WRAP_TAB_LAYOUT);\r\n\r\n\t\t\t// Check if TabbedPaneUI is instance of WindowsTabbedPaneUI\r\n\t\t\t// You may add checks for other L&amp;F\r\n\t\t\tif (tabbedPane.getUI() instanceof com.sun.java.swing.plaf.windows.WindowsTabbedPaneUI) {\r\n\t\t\t\ttabbedPane.setUI(new MyWindowsTabbedPaneUI());\r\n\t\t\t}\r\n\r\n\t\t\ttabbedPane.addTab(&quot;Calculation&quot;, new JLabel());\r\n\t\t\ttabbedPane.addTab(&quot;Store&quot;, new JLabel());\r\n\t\t\ttabbedPane.addTab(&quot;Settings&quot;, new JLabel());\r\n\t\t\tUpperPanel.add(tabbedPane);\r\n\t\t\tadd(tabbedPane, BorderLayout.NORTH);\r\n\t\t}\r\n\r\n\t\t// Class that overwrites WindowsTabbedPaneUI and returns false\r\n\t\tclass MyWindowsTabbedPaneUI extends com.sun.java.swing.plaf.windows.WindowsTabbedPaneUI{\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected boolean shouldRotateTabRuns(int tabPlacement) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n  [1]: http://dev.cs.ovgu.de/java/Books/SwingBook/Chapter6html/index.html\r\n  [2]: https://github.com/openjdk/jdk16/blob/4de3a6be9e60b9676f2199cd18eadb54a9d6e3fe/src/java.desktop/share/classes/javax/swing/plaf/metal/MetalTabbedPaneUI.java#L1268\r\n  [3]: https://github.com/openjdk/jdk16/blob/4de3a6be9e60b9676f2199cd18eadb54a9d6e3fe/src/java.desktop/share/classes/javax/swing/plaf/basic/BasicTabbedPaneUI.java#L1938","title":"Tabbedpane change tabs position Java Swing","body":"<p>The reason is that this is <strong>implemented differently</strong> in various Look and Feel implementations (See <a href=\"http://dev.cs.ovgu.de/java/Books/SwingBook/Chapter6html/index.html\" rel=\"nofollow noreferrer\">here</a>, section 6.2.1):</p>\n<blockquote>\n<p>[...] selecting a tab that is not in the frontmost row or column <strong>moves that row or column to the front</strong>. This does not occur in a JTabbedPane using the default Metal L&amp;F as can be seen in the TabbedPaneDemo example above. However, this does occur when using the Windows, Motif, and Basic L&amp;Fs. This <strong>feature was purposefully disabled</strong> in the Metal L&amp;F [...]</p>\n</blockquote>\n<p>The responsible method is shouldRotateTabRuns(...) and returns true or false in various TabbedUI implementations (see <a href=\"https://github.com/openjdk/jdk16/blob/4de3a6be9e60b9676f2199cd18eadb54a9d6e3fe/src/java.desktop/share/classes/javax/swing/plaf/metal/MetalTabbedPaneUI.java#L1268\" rel=\"nofollow noreferrer\">Metal L&amp;F</a> vs. <a href=\"https://github.com/openjdk/jdk16/blob/4de3a6be9e60b9676f2199cd18eadb54a9d6e3fe/src/java.desktop/share/classes/javax/swing/plaf/basic/BasicTabbedPaneUI.java#L1938\" rel=\"nofollow noreferrer\">Basic L&amp;F</a>).</p>\n<p>To prevent tab rotation, you could overwrite like this:</p>\n<pre><code>public class TabExample extends JFrame {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException e) {\n                    e.printStackTrace();\n                } catch (InstantiationException e) {\n                    e.printStackTrace();\n                } catch (IllegalAccessException e) {\n                    e.printStackTrace();\n                } catch (UnsupportedLookAndFeelException e) {\n                    e.printStackTrace();\n                }\n\n                TabExample app = new TabExample();\n                app.setVisible(true);\n            }\n        });\n    }\n\n    private TabExample() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(800, 500);\n        setLocationRelativeTo(null);\n        setVisible(true);\n\n        JPanel UpperPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\n        JTabbedPane tabbedPane = new JTabbedPane(JTabbedPane.RIGHT, JTabbedPane.WRAP_TAB_LAYOUT);\n\n        // Check if TabbedPaneUI is instance of WindowsTabbedPaneUI\n        // You may add checks for other L&amp;F\n        if (tabbedPane.getUI() instanceof com.sun.java.swing.plaf.windows.WindowsTabbedPaneUI) {\n            tabbedPane.setUI(new MyWindowsTabbedPaneUI());\n        }\n\n        tabbedPane.addTab(&quot;Calculation&quot;, new JLabel());\n        tabbedPane.addTab(&quot;Store&quot;, new JLabel());\n        tabbedPane.addTab(&quot;Settings&quot;, new JLabel());\n        UpperPanel.add(tabbedPane);\n        add(tabbedPane, BorderLayout.NORTH);\n    }\n\n    // Class that overwrites WindowsTabbedPaneUI and returns false\n    class MyWindowsTabbedPaneUI extends com.sun.java.swing.plaf.windows.WindowsTabbedPaneUI{\n\n        @Override\n        protected boolean shouldRotateTabRuns(int tabPlacement) {\n            return false;\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27618339,"reputation":1,"user_id":21079961,"display_name":"VenomBlet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674723319,"creation_date":1674651443,"question_id":75234311,"body_markdown":"I have i situation when my Tabbedpane have 3 tabs and then I choose someone of them, it sets in first position and move whole tabs. \r\n\r\n![before click](https://i.stack.imgur.com/n15Pb.png)\r\n\r\n![clicked on Store](https://i.stack.imgur.com/YYEFE.png)\r\n\r\nI couldn&#39;t find in Internet anything like that, everyone has fixed positions of their tabs. How to fix tabs?\r\n\r\n//EDITED\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            \r\n            try {\r\n                UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n            } catch (UnsupportedLookAndFeelException | ClassNotFoundException | InstantiationException |\r\n                     IllegalAccessException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n            JFrame frame = new JFrame(&quot;Somest&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setSize(200, 200);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n    \r\n            JPanel UpperPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n            JTabbedPane tabbedPane = new JTabbedPane(JTabbedPane.RIGHT, JTabbedPane.WRAP_TAB_LAYOUT);\r\n            tabbedPane.addTab(&quot;Calculation&quot;, new JLabel());\r\n            tabbedPane.addTab(&quot;Store&quot;, new JLabel());\r\n            tabbedPane.addTab(&quot;Settings&quot;, new JLabel());\r\n            UpperPanel.add(tabbedPane);\r\n            frame.add(UpperPanel);\r\n        }\r\n    \r\n    }\r\n\r\nFind out that try {...} &quot;enable&quot; this problem. Used try {...} to change JChooser from standard to more-or-less Windows chooser view. What I have to do? \r\n ","title":"Tabbedpane change tabs position Java Swing","body":"<p>I have i situation when my Tabbedpane have 3 tabs and then I choose someone of them, it sets in first position and move whole tabs.</p>\n<p><img src=\"https://i.stack.imgur.com/n15Pb.png\" alt=\"before click\" /></p>\n<p><img src=\"https://i.stack.imgur.com/YYEFE.png\" alt=\"clicked on Store\" /></p>\n<p>I couldn't find in Internet anything like that, everyone has fixed positions of their tabs. How to fix tabs?</p>\n<p>//EDITED</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        \n        try {\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n        } catch (UnsupportedLookAndFeelException | ClassNotFoundException | InstantiationException |\n                 IllegalAccessException e) {\n            throw new RuntimeException(e);\n        }\n\n        JFrame frame = new JFrame(&quot;Somest&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(200, 200);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n\n        JPanel UpperPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\n        JTabbedPane tabbedPane = new JTabbedPane(JTabbedPane.RIGHT, JTabbedPane.WRAP_TAB_LAYOUT);\n        tabbedPane.addTab(&quot;Calculation&quot;, new JLabel());\n        tabbedPane.addTab(&quot;Store&quot;, new JLabel());\n        tabbedPane.addTab(&quot;Settings&quot;, new JLabel());\n        UpperPanel.add(tabbedPane);\n        frame.add(UpperPanel);\n    }\n\n}\n</code></pre>\n<p>Find out that try {...} &quot;enable&quot; this problem. Used try {...} to change JChooser from standard to more-or-less Windows chooser view. What I have to do?</p>\n"},{"tags":["java","mysql","tomcat"],"owner":{"account_id":5444529,"reputation":117,"user_id":4331545,"accept_rate":100,"display_name":"Luke_Skywalker007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674722403,"creation_date":1674722403,"question_id":75243789,"body_markdown":"I am attempting to upgrade an existing web application to run on Tomcat 10.1 from Tomcat 9.0 where it works fine. My web application currently uses JDBCRealm but this appears to now be deprecated with Tomcat 10.1 and are now advised to use DataSourceRealm instead.\r\n\r\nI have attempted to follow the instructions on the Apache website to use the DataSourceRealm instead and upgraded both my context.xml and server.xml however my authentication isn&#39;t now working.\r\n\r\nHere is my context.xml file:\r\n\r\n    &lt;Context path=&quot;/TASSU&quot;&gt; &lt;Realm className=&quot;org.apache.catalina.realm.DataSourceRealm&quot; connectionName=&quot;root&quot; connectionPassword=&quot;sesame&quot; \r\n     connectionURL=&quot;jdbc:mysql://localhost:3306/login_details&quot; debug=&quot;99&quot; driverName=&quot;com.mysql.jdbc.Driver&quot; \r\n     roleNameCol=&quot;Rolename&quot; userCredCol=&quot;Password&quot; userNameCol=&quot;Username&quot; userRoleTable=&quot;userrole&quot; userTable=&quot;userpass&quot;/&gt;\r\n\r\nAnd here is the realm information within my server.xml file:\r\n\r\n    &lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot;&gt;\r\n    &lt;Realm className=&quot;org.apache.catalina.realm.UserDatabaseRealm&quot;\r\n           resourceName=&quot;UserDatabase&quot;/&gt;\r\n    \r\n    &lt;Realm className=&quot;org.apache.catalina.realm.DataSourceRealm&quot; connectionName=&quot;root&quot; connectionPassword=&quot;sesame&quot; \r\n     connectionURL=&quot;jdbc:mysql://localhost:3306/login_details&quot; debug=&quot;99&quot; driverName=&quot;com.mysql.jdbc.Driver&quot; \r\n     roleNameCol=&quot;Rolename&quot; userCredCol=&quot;Password&quot; userNameCol=&quot;Username&quot; userRoleTable=&quot;userrole&quot; userTable=&quot;userpass&quot;/&gt;\r\n\r\nHere is the error that is being displayed in the logs:\r\n\r\n    25-Jan-2023 10:13:50.699 SEVERE [http-nio-8080-exec-23] org.apache.catalina.realm.DataSourceRealm.open Exception performing authentication\r\n\r\nCan anyone see at first glance what the issue could be here? Have I set these two files up correctly?","title":"DataSourceRealm not working since changing from JDBCRealm in Tomcat","body":"<p>I am attempting to upgrade an existing web application to run on Tomcat 10.1 from Tomcat 9.0 where it works fine. My web application currently uses JDBCRealm but this appears to now be deprecated with Tomcat 10.1 and are now advised to use DataSourceRealm instead.</p>\n<p>I have attempted to follow the instructions on the Apache website to use the DataSourceRealm instead and upgraded both my context.xml and server.xml however my authentication isn't now working.</p>\n<p>Here is my context.xml file:</p>\n<pre><code>&lt;Context path=&quot;/TASSU&quot;&gt; &lt;Realm className=&quot;org.apache.catalina.realm.DataSourceRealm&quot; connectionName=&quot;root&quot; connectionPassword=&quot;sesame&quot; \n connectionURL=&quot;jdbc:mysql://localhost:3306/login_details&quot; debug=&quot;99&quot; driverName=&quot;com.mysql.jdbc.Driver&quot; \n roleNameCol=&quot;Rolename&quot; userCredCol=&quot;Password&quot; userNameCol=&quot;Username&quot; userRoleTable=&quot;userrole&quot; userTable=&quot;userpass&quot;/&gt;\n</code></pre>\n<p>And here is the realm information within my server.xml file:</p>\n<pre><code>&lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot;&gt;\n&lt;Realm className=&quot;org.apache.catalina.realm.UserDatabaseRealm&quot;\n       resourceName=&quot;UserDatabase&quot;/&gt;\n\n&lt;Realm className=&quot;org.apache.catalina.realm.DataSourceRealm&quot; connectionName=&quot;root&quot; connectionPassword=&quot;sesame&quot; \n connectionURL=&quot;jdbc:mysql://localhost:3306/login_details&quot; debug=&quot;99&quot; driverName=&quot;com.mysql.jdbc.Driver&quot; \n roleNameCol=&quot;Rolename&quot; userCredCol=&quot;Password&quot; userNameCol=&quot;Username&quot; userRoleTable=&quot;userrole&quot; userTable=&quot;userpass&quot;/&gt;\n</code></pre>\n<p>Here is the error that is being displayed in the logs:</p>\n<pre><code>25-Jan-2023 10:13:50.699 SEVERE [http-nio-8080-exec-23] org.apache.catalina.realm.DataSourceRealm.open Exception performing authentication\n</code></pre>\n<p>Can anyone see at first glance what the issue could be here? Have I set these two files up correctly?</p>\n"},{"tags":["java","excel","spring"],"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674722316,"creation_date":1674722316,"question_id":75243765,"body_markdown":"I am reading data from three sheets of an EXCEL file and writing this data to a database\r\n\r\n    for (String cellLLL : sheetNumd) {\r\n                Sheet sheets = workbook.getSheet(cellLLL);\r\n                Sheet sheets1 = workbook1.getSheet(cellLLL);\r\n                if (sheets != null &amp;&amp; sheets1 != null) {\r\n    \r\n                    for (int rowNum = 4; rowNum &lt; sheets.getLastRowNum() + 1; rowNum++) {\r\n    \r\n                        if (cellLLL.equals(&quot;Sheet2&quot;)) {\r\n                            Row row = sheets.getRow(rowNum);\r\n\r\n     // I was thinking of adding something like: sheet.shiftRows(int startRow, int endRow, int n);\r\n     // but it doesn&#39;t work                       \r\n                             if (row != null) {\r\n                                for (Cell cell : row) {\r\n                                    int columnIndex = cell.getColumnIndex();\r\n    \r\n                                    switch (columnIndex) {\r\n                                        case 0:\r\n                                            cellValue = cell.getStringCellValue();\r\n                                            break;\r\n                                        case 1:\r\n                                            cellValue1 = cell.getStringCellValue();\r\n                                            break;\r\n                                        case 2:\r\n                                            cellValue2 = cell.getStringCellValue();\r\n                                            break;\r\n                                        case 3:\r\n                                            cellValue3 = cell.getStringCellValue();\r\n                                            break;\r\n                                        case 4:\r\n                                            cellValue4 = cell.getStringCellValue();\r\n                                            break;\r\n                                        case 5:\r\n                                            cellValue5 = cell.getStringCellValue();\r\n                                            break;\r\n                                        case 6:\r\n                                            cellValue6 = cell.getStringCellValue();\r\n                                            break;\r\n                                    }\r\n                                }\r\n                                list7.add(cellValue1);\r\n                                list8.add(cellValue2);\r\n                                list9.add(cellValue3);\r\n                                list10.add(cellValue4);\r\n                                list11.add(cellValue5);\r\n                                list12.add(cellValue6);\r\n    \r\n                            }\r\n                        } else {\r\n                            Row row = sheets.getRow(rowNum);\r\n    \r\n                            if (row != null) {\r\n                                for (Cell cell : row) {\r\n                                    int columnIndex = cell.getColumnIndex();\r\n                                    switch (columnIndex) {\r\n                                        case 0:\r\n                                            cellValue = cell.getStringCellValue();\r\n                                            break;\r\n                                        case 1:\r\n                                            cellValue1 = cell.getStringCellValue();\r\n                                            break;\r\n                                        case 2:\r\n                                            cellValue2 = cell.getStringCellValue();\r\n                                            break;\r\n                                        case 3:\r\n                                            cellValue3 = cell.getStringCellValue();\r\n                                            break;\r\n                                        case 4:\r\n                                            cellValue4 = cell.getStringCellValue();\r\n                                            break;\r\n                                        case 5:\r\n                                            cellValue5 = cell.getStringCellValue();\r\n                                            break;\r\n                                        case 6:\r\n                                            cellValue6 = cell.getStringCellValue();\r\n                                            break;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        if (cellLLL.equals(&quot;Sheet1&quot;)) {\r\n                            list.add(cellValue);\r\n                            list1.add(cellValue1);\r\n                            list2.add(cellValue2);\r\n                            list3.add(cellValue3);\r\n                            list4.add(cellValue4);\r\n                            list5.add(cellValue5);\r\n                            list6.add(cellValue6);\r\n                        }\r\n                        if (cellLLL.equals(&quot;Sheet3&quot;)) {\r\n                            list13.add(cellValue1);\r\n                            list14.add(cellValue2);\r\n                            list15.add(cellValue3);\r\n                            list16.add(cellValue4);\r\n                        }\r\n                        workbook.close();\r\n                    }\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nThe problem is that the titles of the sheets of the EXCEL file are different, for example:\r\n\r\nSheet1\r\n\r\n    |     Total     |      nums 1    |    nums 2     |     nums 3    |\r\n    +---------------+----------------+---------------+---------------+\r\n    |               |                |  description  | description   |\r\n    +---------------+----------------+---------------+---------------+\r\n    |     300       |       100      |     100       |      100      |\r\n\r\nSheet2\r\n\r\n\r\n\r\n    |     Total     |      nums 4    |    nums 5     |     nums 6    |\r\n    +---------------+----------------+---------------+---------------+\r\n    |     300       |       100      |     100       |      100      |\r\n\r\nWhen writing to the database, I combine data from EXCEL sheets into one, and I get an incorrect result\r\n\r\n    |     Total     |      nums 1    |    nums 2     |     nums 3    |     Total     |      nums 4    |    nums 5     |     nums 6    |\r\n    +---------------+----------------+---------------+---------------+---------------+----------------+---------------+---------------+\r\n    |               |                |  description  | description   |     300       |       100      |     100       |      100      |\r\n    +---------------+----------------+---------------+---------------+---------------+----------------+---------------+---------------+\r\n    |     300       |       100      |     100       |      100      |               |                |               |               |\r\n\r\nI would like to add one line to make it look like this\r\n\r\n        |     Total     |      nums 1    |    nums 2     |     nums 3    |     Total     |      nums 4    |    nums 5     |     nums 6    |\r\n        +---------------+----------------+---------------+---------------+---------------+----------------+---------------+---------------+\r\n        |               |                |  description  | description   |               |                |               |               |\r\n        +---------------+----------------+---------------+---------------+---------------+----------------+---------------+---------------+\r\n        |     300       |       100      |     100       |      100      |      300      |     100        |      100      |       100     |\r\n\r\n\r\nI want to add a line only when reading sheet2.\r\nHow can I do it?","title":"Java EXCEL add row to excisting table","body":"<p>I am reading data from three sheets of an EXCEL file and writing this data to a database</p>\n<pre><code>for (String cellLLL : sheetNumd) {\n            Sheet sheets = workbook.getSheet(cellLLL);\n            Sheet sheets1 = workbook1.getSheet(cellLLL);\n            if (sheets != null &amp;&amp; sheets1 != null) {\n\n                for (int rowNum = 4; rowNum &lt; sheets.getLastRowNum() + 1; rowNum++) {\n\n                    if (cellLLL.equals(&quot;Sheet2&quot;)) {\n                        Row row = sheets.getRow(rowNum);\n\n // I was thinking of adding something like: sheet.shiftRows(int startRow, int endRow, int n);\n // but it doesn't work                       \n                         if (row != null) {\n                            for (Cell cell : row) {\n                                int columnIndex = cell.getColumnIndex();\n\n                                switch (columnIndex) {\n                                    case 0:\n                                        cellValue = cell.getStringCellValue();\n                                        break;\n                                    case 1:\n                                        cellValue1 = cell.getStringCellValue();\n                                        break;\n                                    case 2:\n                                        cellValue2 = cell.getStringCellValue();\n                                        break;\n                                    case 3:\n                                        cellValue3 = cell.getStringCellValue();\n                                        break;\n                                    case 4:\n                                        cellValue4 = cell.getStringCellValue();\n                                        break;\n                                    case 5:\n                                        cellValue5 = cell.getStringCellValue();\n                                        break;\n                                    case 6:\n                                        cellValue6 = cell.getStringCellValue();\n                                        break;\n                                }\n                            }\n                            list7.add(cellValue1);\n                            list8.add(cellValue2);\n                            list9.add(cellValue3);\n                            list10.add(cellValue4);\n                            list11.add(cellValue5);\n                            list12.add(cellValue6);\n\n                        }\n                    } else {\n                        Row row = sheets.getRow(rowNum);\n\n                        if (row != null) {\n                            for (Cell cell : row) {\n                                int columnIndex = cell.getColumnIndex();\n                                switch (columnIndex) {\n                                    case 0:\n                                        cellValue = cell.getStringCellValue();\n                                        break;\n                                    case 1:\n                                        cellValue1 = cell.getStringCellValue();\n                                        break;\n                                    case 2:\n                                        cellValue2 = cell.getStringCellValue();\n                                        break;\n                                    case 3:\n                                        cellValue3 = cell.getStringCellValue();\n                                        break;\n                                    case 4:\n                                        cellValue4 = cell.getStringCellValue();\n                                        break;\n                                    case 5:\n                                        cellValue5 = cell.getStringCellValue();\n                                        break;\n                                    case 6:\n                                        cellValue6 = cell.getStringCellValue();\n                                        break;\n                                }\n                            }\n                        }\n                    }\n                    if (cellLLL.equals(&quot;Sheet1&quot;)) {\n                        list.add(cellValue);\n                        list1.add(cellValue1);\n                        list2.add(cellValue2);\n                        list3.add(cellValue3);\n                        list4.add(cellValue4);\n                        list5.add(cellValue5);\n                        list6.add(cellValue6);\n                    }\n                    if (cellLLL.equals(&quot;Sheet3&quot;)) {\n                        list13.add(cellValue1);\n                        list14.add(cellValue2);\n                        list15.add(cellValue3);\n                        list16.add(cellValue4);\n                    }\n                    workbook.close();\n                }\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>The problem is that the titles of the sheets of the EXCEL file are different, for example:</p>\n<p>Sheet1</p>\n<pre><code>|     Total     |      nums 1    |    nums 2     |     nums 3    |\n+---------------+----------------+---------------+---------------+\n|               |                |  description  | description   |\n+---------------+----------------+---------------+---------------+\n|     300       |       100      |     100       |      100      |\n</code></pre>\n<p>Sheet2</p>\n<pre><code>|     Total     |      nums 4    |    nums 5     |     nums 6    |\n+---------------+----------------+---------------+---------------+\n|     300       |       100      |     100       |      100      |\n</code></pre>\n<p>When writing to the database, I combine data from EXCEL sheets into one, and I get an incorrect result</p>\n<pre><code>|     Total     |      nums 1    |    nums 2     |     nums 3    |     Total     |      nums 4    |    nums 5     |     nums 6    |\n+---------------+----------------+---------------+---------------+---------------+----------------+---------------+---------------+\n|               |                |  description  | description   |     300       |       100      |     100       |      100      |\n+---------------+----------------+---------------+---------------+---------------+----------------+---------------+---------------+\n|     300       |       100      |     100       |      100      |               |                |               |               |\n</code></pre>\n<p>I would like to add one line to make it look like this</p>\n<pre><code>    |     Total     |      nums 1    |    nums 2     |     nums 3    |     Total     |      nums 4    |    nums 5     |     nums 6    |\n    +---------------+----------------+---------------+---------------+---------------+----------------+---------------+---------------+\n    |               |                |  description  | description   |               |                |               |               |\n    +---------------+----------------+---------------+---------------+---------------+----------------+---------------+---------------+\n    |     300       |       100      |     100       |      100      |      300      |     100        |      100      |       100     |\n</code></pre>\n<p>I want to add a line only when reading sheet2.\nHow can I do it?</p>\n"},{"tags":["java","rsa","pkcs#11","hardware-security-module","oaep"],"answers":[{"tags":[],"owner":{"account_id":6641612,"reputation":7881,"user_id":5128464,"display_name":"vlp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674722166,"creation_date":1674722166,"answer_id":75243743,"question_id":75238462,"body_markdown":"As far as I know you should use `RSAPkcsOaepParameters.SourceType.DATA_SPECIFIED` (`CKZ_DATA_SPECIFIED` as specified in [PKCS#11](https://docs.oasis-open.org/pkcs11/pkcs11-curr/v3.0/cs01/pkcs11-curr-v3.0-cs01.html#_Toc228894636)):\r\n\r\n    public static Mechanism getRsaOaepSha256Mechanism() {\r\n    \tMechanism mechanism = Mechanism.get(PKCS11Constants.CKM_RSA_PKCS_OAEP);\r\n        RSAPkcsOaepParameters rsaPkcsOaepParameters =\r\n                new RSAPkcsOaepParameters(\r\n                        Mechanism.get(PKCS11Constants.CKM_SHA256),\r\n                        RSAPkcsParameters.MessageGenerationFunctionType.SHA256,\r\n                        RSAPkcsOaepParameters.SourceType.DATA_SPECIFIED,\r\n                        null);\r\n        mechanism.setParameters(rsaPkcsOaepParameters);\r\n        return mechanism;\r\n    }\r\n\r\nGood luck with your project!\r\n","title":"Wrap AES key with RSA public key - CKM_RSA_PKCS_OAEP","body":"<p>As far as I know you should use <code>RSAPkcsOaepParameters.SourceType.DATA_SPECIFIED</code> (<code>CKZ_DATA_SPECIFIED</code> as specified in <a href=\"https://docs.oasis-open.org/pkcs11/pkcs11-curr/v3.0/cs01/pkcs11-curr-v3.0-cs01.html#_Toc228894636\" rel=\"nofollow noreferrer\">PKCS#11</a>):</p>\n<pre><code>public static Mechanism getRsaOaepSha256Mechanism() {\n    Mechanism mechanism = Mechanism.get(PKCS11Constants.CKM_RSA_PKCS_OAEP);\n    RSAPkcsOaepParameters rsaPkcsOaepParameters =\n            new RSAPkcsOaepParameters(\n                    Mechanism.get(PKCS11Constants.CKM_SHA256),\n                    RSAPkcsParameters.MessageGenerationFunctionType.SHA256,\n                    RSAPkcsOaepParameters.SourceType.DATA_SPECIFIED,\n                    null);\n    mechanism.setParameters(rsaPkcsOaepParameters);\n    return mechanism;\n}\n</code></pre>\n<p>Good luck with your project!</p>\n"}],"owner":{"account_id":9091005,"reputation":153,"user_id":6766897,"display_name":"menakshisundaram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75243743,"answer_count":1,"score":0,"last_activity_date":1674722166,"creation_date":1674672085,"question_id":75238462,"body_markdown":"I am using iaik pkcs11 java trying to wrap an AES key with RSA public key.\r\n\r\nCan someone please help me what is the issue with above params/code?\r\n\r\nI am trying to wrap an AES key with RSA public key. Getting issue as Mechanism invalid\r\n\r\n        Mechanism mechanism = Mechanism.get(PKCS11Constants.CKM_RSA_PKCS_OAEP);\r\n        RSAPkcsOaepParameters rsaPkcsOaepParameters =\r\n                new RSAPkcsOaepParameters(\r\n                        Mechanism.get(PKCS11Constants.CKM_SHA256),\r\n                        RSAPkcsParameters.MessageGenerationFunctionType.SHA256,\r\n                        RSAPkcsOaepParameters.SourceType.EMPTY,\r\n                        null);\r\n        mechanism.setParameters(rsaPkcsOaepParameters);\r\n    \r\n        session.wrapKey(mechanism, wrappingKey, keyToWrap);\r\n\r\nwrappingKey is an RSA public key handle and keyToWrap is an AES key\r\n\r\n```\r\niaik.pkcs.pkcs11.wrapper.PKCS11Exception: CKR_MECHANISM_PARAM_INVALID\r\n\tat iaik.pkcs.pkcs11.wrapper.PKCS11Implementation.C_WrapKey(Native Method) ~[iaik-pkcs11-wrapper-1.6.4.jar:?]\r\n\tat iaik.pkcs.pkcs11.Session.wrapKey(Session.java:1433) ~[iaik-pkcs11-wrapper-1.6.4.jar:?]\r\n```","title":"Wrap AES key with RSA public key - CKM_RSA_PKCS_OAEP","body":"<p>I am using iaik pkcs11 java trying to wrap an AES key with RSA public key.</p>\n<p>Can someone please help me what is the issue with above params/code?</p>\n<p>I am trying to wrap an AES key with RSA public key. Getting issue as Mechanism invalid</p>\n<pre><code>    Mechanism mechanism = Mechanism.get(PKCS11Constants.CKM_RSA_PKCS_OAEP);\n    RSAPkcsOaepParameters rsaPkcsOaepParameters =\n            new RSAPkcsOaepParameters(\n                    Mechanism.get(PKCS11Constants.CKM_SHA256),\n                    RSAPkcsParameters.MessageGenerationFunctionType.SHA256,\n                    RSAPkcsOaepParameters.SourceType.EMPTY,\n                    null);\n    mechanism.setParameters(rsaPkcsOaepParameters);\n\n    session.wrapKey(mechanism, wrappingKey, keyToWrap);\n</code></pre>\n<p>wrappingKey is an RSA public key handle and keyToWrap is an AES key</p>\n<pre><code>iaik.pkcs.pkcs11.wrapper.PKCS11Exception: CKR_MECHANISM_PARAM_INVALID\n    at iaik.pkcs.pkcs11.wrapper.PKCS11Implementation.C_WrapKey(Native Method) ~[iaik-pkcs11-wrapper-1.6.4.jar:?]\n    at iaik.pkcs.pkcs11.Session.wrapKey(Session.java:1433) ~[iaik-pkcs11-wrapper-1.6.4.jar:?]\n</code></pre>\n"},{"tags":["java","selenium-webdriver","intellij-idea","time","java-11"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1674651430,"post_id":75234280,"comment_id":132759197,"body_markdown":"maybe here&#39;s your issue: https://www.jeffryhouser.com/index.cfm/2018/2/1/Why-cant-IntelliJ-find-javatime-with-JDK-9","body":"maybe here&#39;s your issue: <a href=\"https://www.jeffryhouser.com/index.cfm/2018/2/1/Why-cant-IntelliJ-find-javatime-with-JDK-9\" rel=\"nofollow noreferrer\">jeffryhouser.com/index.cfm/2018/2/1/&hellip;</a>"},{"owner":{"account_id":13660772,"reputation":31,"user_id":21079845,"display_name":"Amir Ali Ansari"},"score":0,"creation_date":1674652415,"post_id":75234280,"comment_id":132759570,"body_markdown":"Thanks a lot @stulukse, It worked as you indicated. But when I reload the page the value is set 1.7 again. Is there any way to avoid this.?","body":"Thanks a lot @stulukse, It worked as you indicated. But when I reload the page the value is set 1.7 again. Is there any way to avoid this.?"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1674652434,"post_id":75234280,"comment_id":132759581,"body_markdown":"did you set java level in pom.xml? &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;","body":"did you set java level in pom.xml? &lt;properties&gt;         &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;         &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;     &lt;/properties&gt;"},{"owner":{"account_id":13660772,"reputation":31,"user_id":21079845,"display_name":"Amir Ali Ansari"},"score":0,"creation_date":1674652544,"post_id":75234280,"comment_id":132759615,"body_markdown":"@siggemannen I have set the values as follows :                                                &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;","body":"@siggemannen I have set the values as follows :                                                &lt;properties&gt;     &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEnc&zwnj;&#8203;oding&gt;     &lt;java.version&gt;11&lt;/java.version&gt;     &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.sourc&zwnj;&#8203;e&gt;     &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.targe&zwnj;&#8203;t&gt;   &lt;/properties&gt;"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1674653250,"post_id":75234280,"comment_id":132759901,"body_markdown":"Does it help if you click on `Reload All Maven Projects` in Maven tool window? (https://prnt.sc/6ldHDBoc9OU7)","body":"Does it help if you click on <code>Reload All Maven Projects</code> in Maven tool window? (<a href=\"https://prnt.sc/6ldHDBoc9OU7\" rel=\"nofollow noreferrer\">prnt.sc/6ldHDBoc9OU7</a>)"},{"owner":{"account_id":13660772,"reputation":31,"user_id":21079845,"display_name":"Amir Ali Ansari"},"score":0,"creation_date":1674654186,"post_id":75234280,"comment_id":132760268,"body_markdown":"@EgorKlepikov I tried this option too, but the value changes back to 1.7","body":"@EgorKlepikov I tried this option too, but the value changes back to 1.7"},{"owner":{"account_id":13660772,"reputation":31,"user_id":21079845,"display_name":"Amir Ali Ansari"},"score":2,"creation_date":1674654542,"post_id":75234280,"comment_id":132760395,"body_markdown":"To All, In my pom.xml file I changed the value of the following to 11 in the build section and it worked fine.                                                                                        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;11&lt;/source&gt;\n            &lt;target&gt;11&lt;/target&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;","body":"To All, In my pom.xml file I changed the value of the following to 11 in the build section and it worked fine.                                                                                        &lt;plugin&gt;           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;           &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;           &lt;version&gt;3.8.0&lt;/version&gt;           &lt;configuration&gt;             &lt;source&gt;11&lt;/source&gt;             &lt;target&gt;11&lt;/target&gt;           &lt;/configuration&gt;         &lt;/plugin&gt;"}],"answers":[{"tags":[],"owner":{"account_id":13660772,"reputation":31,"user_id":21079845,"display_name":"Amir Ali Ansari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674722109,"creation_date":1674693602,"answer_id":75241345,"question_id":75234280,"body_markdown":"With the help of the community, the solution to this problem is:\r\n\r\n 1. File-&gt;Project Settings-&gt;Modules-&gt;Sources-&gt; Language Level set the value to 11\r\n 2. File-&gt; Settings-&gt;Build, Execution, Deployment-&gt;Compiler-&gt;Java Compiler set the &quot;Target bytecode version&quot; to 11\r\n 3. If you are using pom.xml file and have a build then set the following:\r\n\r\n        &lt;plugin&gt;\r\n               &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; \r\n               &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; \r\n               &lt;version&gt;3.8.0&lt;/version&gt; \r\n               &lt;configuration&gt; \r\n                         &lt;source&gt;11&lt;/source&gt; \r\n                         &lt;target&gt;11&lt;/target&gt;\r\n              &lt;/configuration&gt;\r\n        &lt;/plugin&gt;","title":"Java: package java.time does not exist using Intellij","body":"<p>With the help of the community, the solution to this problem is:</p>\n<ol>\n<li><p>File-&gt;Project Settings-&gt;Modules-&gt;Sources-&gt; Language Level set the value to 11</p>\n</li>\n<li><p>File-&gt; Settings-&gt;Build, Execution, Deployment-&gt;Compiler-&gt;Java Compiler set the &quot;Target bytecode version&quot; to 11</p>\n</li>\n<li><p>If you are using pom.xml file and have a build then set the following:</p>\n<pre><code>&lt;plugin&gt;\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; \n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; \n       &lt;version&gt;3.8.0&lt;/version&gt; \n       &lt;configuration&gt; \n                 &lt;source&gt;11&lt;/source&gt; \n                 &lt;target&gt;11&lt;/target&gt;\n      &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":13660772,"reputation":31,"user_id":21079845,"display_name":"Amir Ali Ansari"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":974,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674722109,"creation_date":1674651280,"question_id":75234280,"body_markdown":"I have creted a maven project for my selenium project in Intellij IDEA Community Version 2022.3.1 and using JDK11. Now while running testng.xml file I get an error `java: package java.time does not exist`. \r\n\r\nIn Project Settings-&gt;Modules-&gt;Sources-&gt; Language Level, i used the values 8 and 11 but still getting the same error. \r\n\r\nI am expected that while executing the testng.xml file,my tests should run without any error.\r\n\r\nIn my baseClass I am using `driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));`\r\nand also imported the package `import java.time.Duration`\r\n\r\nWhat can cause this?","title":"Java: package java.time does not exist using Intellij","body":"<p>I have creted a maven project for my selenium project in Intellij IDEA Community Version 2022.3.1 and using JDK11. Now while running testng.xml file I get an error <code>java: package java.time does not exist</code>.</p>\n<p>In Project Settings-&gt;Modules-&gt;Sources-&gt; Language Level, i used the values 8 and 11 but still getting the same error.</p>\n<p>I am expected that while executing the testng.xml file,my tests should run without any error.</p>\n<p>In my baseClass I am using <code>driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));</code>\nand also imported the package <code>import java.time.Duration</code></p>\n<p>What can cause this?</p>\n"},{"tags":["java","transactions","jboss","eclipselink","jboss-eap-7"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1673992860,"post_id":75137067,"comment_id":132619462,"body_markdown":"`TxType.SUPPORTS` won&#39;t use a transaction if it&#39;s outside a transaction context. My guess would be since you tell the bean itself to be `TxType.NEVER`, it&#39;s never in a transaction context.","body":"<code>TxType.SUPPORTS</code> won&#39;t use a transaction if it&#39;s outside a transaction context. My guess would be since you tell the bean itself to be <code>TxType.NEVER</code>, it&#39;s never in a transaction context."},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1674312088,"post_id":75137067,"comment_id":132689954,"body_markdown":"In [this article](https://docs.oracle.com/cd/E19226-01/820-7627/bncik/index.html) Never Attribute\nIf the client is running within a transaction and invokes the enterprise bean’s method, the container **throws a RemoteException**. If the client is not associated with a transaction, the container does not start a new transaction before running the method.","body":"In <a href=\"https://docs.oracle.com/cd/E19226-01/820-7627/bncik/index.html\" rel=\"nofollow noreferrer\">this article</a> Never Attribute If the client is running within a transaction and invokes the enterprise bean’s method, the container <b>throws a RemoteException</b>. If the client is not associated with a transaction, the container does not start a new transaction before running the method."},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1674312630,"post_id":75137067,"comment_id":132690067,"body_markdown":"So when your client is IN A TRANSACTION and calls your Beans&#39;s method, will run into an ERROR.","body":"So when your client is IN A TRANSACTION and calls your Beans&#39;s method, will run into an ERROR."},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1674313249,"post_id":75137067,"comment_id":132690171,"body_markdown":"Already answered question [Transaction present on server in Never call](https://stackoverflow.com/questions/32563059/transaction-present-on-server-in-never-call?rq=1) may help understand this exactly same error message: &quot;Transaction present on server in Never call&quot;","body":"Already answered question <a href=\"https://stackoverflow.com/questions/32563059/transaction-present-on-server-in-never-call?rq=1\">Transaction present on server in Never call</a> may help understand this exactly same error message: &quot;Transaction present on server in Never call&quot;"}],"owner":{"account_id":11204964,"reputation":111,"user_id":8269948,"display_name":"Олег Гаврилів"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674722002,"creation_date":1673886580,"question_id":75137067,"body_markdown":"I have bean with @TransactionAttribute(TransactionAttributeType.NEVER) and method with   @TransactionAttribute(TransactionAttributeType.SUPPORTS)  but when method is executed looks like sometimes, not always method @TransactionAttribute(TransactionAttributeType.SUPPORTS) annotation is ignored and it failed with this error. I have Jboss EAP 7.3.9 standalone-full application. ORM provided is eclipselink. \r\nCode:\r\n   \r\n\r\n     @Stateless\r\n        @TransactionAttribute(TransactionAttributeType.NEVER)\r\n        @Interceptors(ServiceExceptionInterceptor.class)\r\n        public class UserServiceImpl extends GenericCountry&lt;LanguageDefinition&gt; implements UserService {\r\n        \r\n           @Override\r\n            @TransactionAttribute(TransactionAttributeType.SUPPORTS)\r\n            public UserDto getUserByUsername(String username) {\r\n                return userFacade.getUserByUsername(username);\r\n            }\r\n        \r\n        \r\n        public interface UserService {\r\n            UserDto getUserByUsername(String username);\r\n        }\r\n\r\nstandalone-full.xml datasource section :\r\n\r\n    &lt;datasources&gt;\r\n                    &lt;datasource jta=&quot;true&quot; jndi-name=&quot;java:/jdbc/test&quot; pool-name=&quot;test2&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; use-ccm=&quot;true&quot;&gt;\r\n                        &lt;connection-url&gt;jdbc:oracle:thin:@localhost:9090:ddjboss&lt;/connection-url&gt;\r\n                        &lt;driver&gt;oracle&lt;/driver&gt;\r\n                        &lt;pool&gt;\r\n                            &lt;min-pool-size&gt;1&lt;/min-pool-size&gt;\r\n                            &lt;max-pool-size&gt;15&lt;/max-pool-size&gt;\r\n                            &lt;prefill&gt;true&lt;/prefill&gt;\r\n                            &lt;use-strict-min&gt;false&lt;/use-strict-min&gt;\r\n                            &lt;flush-strategy&gt;FailingConnectionOnly&lt;/flush-strategy&gt;\r\n                            &lt;allow-multiple-users&gt;false&lt;/allow-multiple-users&gt;\r\n                        &lt;/pool&gt;\r\n                        &lt;security&gt;\r\n                            &lt;user-name&gt;111&lt;/user-name&gt;\r\n                            &lt;password&gt;111&lt;/password&gt;\r\n                        &lt;/security&gt;\r\n                    &lt;/datasource&gt;\r\n\r\n  persistence.xml file.\r\n\r\n \r\n\r\n     &lt;persistence-unit name=&quot;test&quot; transaction-type=&quot;JTA&quot; &gt;\r\n            &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n            &lt;jta-data-source&gt;jdbc/test2&lt;/jta-data-source&gt;\r\n            &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n            &lt;shared-cache-mode&gt;ENABLE_SELECTIVE&lt;/shared-cache-mode&gt;\r\n            &lt;!--&lt;properties&gt;--&gt;\r\n            &lt;!--&lt;property name=&quot;eclipselink.logging.level.sql&quot; value=&quot;FINE&quot;/&gt;--&gt;\r\n            &lt;!--&lt;property name=&quot;eclipselink.logging.parameters&quot; value=&quot;true&quot;/&gt;--&gt;\r\n            &lt;!--&lt;property name=&quot;eclipselink.logging.logger&quot; value=&quot;DefaultLogger&quot;/&gt;--&gt;\r\n            &lt;!--&lt;/properties&gt;--&gt;\r\n            &lt;properties&gt;\r\n            &lt;property name=&quot;eclipselink.target-database&quot; value=&quot;Oracle&quot;/&gt;\r\n                &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;oracle.jdbc.OracleDriver&quot;/&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n\r\n   \r\n\r\n Caused by: javax.ejb.EJBException: WFLYEJB0063: Transaction present on server in Never call (EJB3 13.6.2.6)\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.never(CMTTxInterceptor.java:349)\r\n    \tat org.jboss.as.ejb3.tx.LifecycleCMTTxInterceptor.processInvocation(LifecycleCMTTxInterceptor.java:62)\r\n\r\nWhat could be the problem? look like sometimes annotation inheritance for @TransactionAttribute is not working.\r\n\r\n","title":"Sometimes have Transaction present on server in Never call","body":"<p>I have bean with @TransactionAttribute(TransactionAttributeType.NEVER) and method with   @TransactionAttribute(TransactionAttributeType.SUPPORTS)  but when method is executed looks like sometimes, not always method @TransactionAttribute(TransactionAttributeType.SUPPORTS) annotation is ignored and it failed with this error. I have Jboss EAP 7.3.9 standalone-full application. ORM provided is eclipselink.\nCode:</p>\n<pre><code> @Stateless\n    @TransactionAttribute(TransactionAttributeType.NEVER)\n    @Interceptors(ServiceExceptionInterceptor.class)\n    public class UserServiceImpl extends GenericCountry&lt;LanguageDefinition&gt; implements UserService {\n    \n       @Override\n        @TransactionAttribute(TransactionAttributeType.SUPPORTS)\n        public UserDto getUserByUsername(String username) {\n            return userFacade.getUserByUsername(username);\n        }\n    \n    \n    public interface UserService {\n        UserDto getUserByUsername(String username);\n    }\n</code></pre>\n<p>standalone-full.xml datasource section :</p>\n<pre><code>&lt;datasources&gt;\n                &lt;datasource jta=&quot;true&quot; jndi-name=&quot;java:/jdbc/test&quot; pool-name=&quot;test2&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; use-ccm=&quot;true&quot;&gt;\n                    &lt;connection-url&gt;jdbc:oracle:thin:@localhost:9090:ddjboss&lt;/connection-url&gt;\n                    &lt;driver&gt;oracle&lt;/driver&gt;\n                    &lt;pool&gt;\n                        &lt;min-pool-size&gt;1&lt;/min-pool-size&gt;\n                        &lt;max-pool-size&gt;15&lt;/max-pool-size&gt;\n                        &lt;prefill&gt;true&lt;/prefill&gt;\n                        &lt;use-strict-min&gt;false&lt;/use-strict-min&gt;\n                        &lt;flush-strategy&gt;FailingConnectionOnly&lt;/flush-strategy&gt;\n                        &lt;allow-multiple-users&gt;false&lt;/allow-multiple-users&gt;\n                    &lt;/pool&gt;\n                    &lt;security&gt;\n                        &lt;user-name&gt;111&lt;/user-name&gt;\n                        &lt;password&gt;111&lt;/password&gt;\n                    &lt;/security&gt;\n                &lt;/datasource&gt;\n</code></pre>\n<p>persistence.xml file.</p>\n<pre><code> &lt;persistence-unit name=&quot;test&quot; transaction-type=&quot;JTA&quot; &gt;\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n        &lt;jta-data-source&gt;jdbc/test2&lt;/jta-data-source&gt;\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n        &lt;shared-cache-mode&gt;ENABLE_SELECTIVE&lt;/shared-cache-mode&gt;\n        &lt;!--&lt;properties&gt;--&gt;\n        &lt;!--&lt;property name=&quot;eclipselink.logging.level.sql&quot; value=&quot;FINE&quot;/&gt;--&gt;\n        &lt;!--&lt;property name=&quot;eclipselink.logging.parameters&quot; value=&quot;true&quot;/&gt;--&gt;\n        &lt;!--&lt;property name=&quot;eclipselink.logging.logger&quot; value=&quot;DefaultLogger&quot;/&gt;--&gt;\n        &lt;!--&lt;/properties&gt;--&gt;\n        &lt;properties&gt;\n        &lt;property name=&quot;eclipselink.target-database&quot; value=&quot;Oracle&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;oracle.jdbc.OracleDriver&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n</code></pre>\n<p>Caused by: javax.ejb.EJBException: WFLYEJB0063: Transaction present on server in Never call (EJB3 13.6.2.6)\nat org.jboss.as.ejb3.tx.CMTTxInterceptor.never(CMTTxInterceptor.java:349)\nat org.jboss.as.ejb3.tx.LifecycleCMTTxInterceptor.processInvocation(LifecycleCMTTxInterceptor.java:62)</p>\n<p>What could be the problem? look like sometimes annotation inheritance for @TransactionAttribute is not working.</p>\n"},{"tags":["java","mongodb","tomcat","servlets","memory-leaks"],"owner":{"account_id":18769803,"reputation":16,"user_id":13686872,"display_name":"Stefan Schweiger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674721672,"creation_date":1674721672,"question_id":75243671,"body_markdown":"We use the current MongoDB Sync driver to establish database connections to a MongoDB in a web application. The web application is hosted in a Tomcat servlet container.\r\n\r\nThese are our system specs:\r\n\r\n- Apache Tomcat 10\r\n\r\n- JDK 17.0.6\r\n\r\n- mongodb-driver-sync 4.8.2\r\n\r\nWhen we undeploy an application, we get the following error message in catalina.out.\r\n\r\n```\r\n26-Jan-2023 09:02:43.395 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [BufferPoolPruner-1-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.6/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.6/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n java.base@17.0.6/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\r\n java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\r\n26-Jan-2023 09:02:43.396 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [cluster-ClusterId{value=&#39;XXX&#39;, description=&#39;null&#39;}-mycluster-shard-00-00-server.mongodb.net:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.6/sun.nio.ch.Net.poll(Native Method)\r\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:181)\r\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:285)\r\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\r\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\r\n java.base@17.0.6/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\r\n java.base@17.0.6/java.net.Socket$SocketInputStream.read(Socket.java:966)\r\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484)\r\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478)\r\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)\r\n java.base@17.0.6/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465)\r\n java.base@17.0.6/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069)\r\n com.mongodb.internal.connection.SocketStream.read(SocketStream.java:113)\r\n com.mongodb.internal.connection.SocketStream.read(SocketStream.java:138)\r\n com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:716)\r\n com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:574)\r\n com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:413)\r\n com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:372)\r\n com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:226)\r\n com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:158)\r\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\r\n26-Jan-2023 09:02:43.397 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [cluster-rtt-ClusterId{value=&#39;XXX&#39;, description=&#39;null&#39;}-mycluster-shard-00-00-server.mongodb.net:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.6/java.lang.Thread.sleep(Native Method)\r\n com.mongodb.internal.connection.DefaultServerMonitor.waitForNext(DefaultServerMonitor.java:448)\r\n com.mongodb.internal.connection.DefaultServerMonitor.access$1500(DefaultServerMonitor.java:65)\r\n com.mongodb.internal.connection.DefaultServerMonitor$RoundTripTimeRunnable.run(DefaultServerMonitor.java:420)\r\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\r\n26-Jan-2023 09:02:43.398 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [cluster-ClusterId{value=&#39;XXX&#39;, description=&#39;null&#39;}-mycluster-shard-00-01-server.mongodb.net:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.6/sun.nio.ch.Net.poll(Native Method)\r\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:181)\r\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:285)\r\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\r\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\r\n java.base@17.0.6/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\r\n java.base@17.0.6/java.net.Socket$SocketInputStream.read(Socket.java:966)\r\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484)\r\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478)\r\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)\r\n java.base@17.0.6/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465)\r\n java.base@17.0.6/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069)\r\n com.mongodb.internal.connection.SocketStream.read(SocketStream.java:113)\r\n com.mongodb.internal.connection.SocketStream.read(SocketStream.java:138)\r\n com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:716)\r\n com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:574)\r\n com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:413)\r\n com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:372)\r\n com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:226)\r\n com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:158)\r\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\r\n26-Jan-2023 09:02:43.398 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [cluster-rtt-ClusterId{value=&#39;XXX&#39;, description=&#39;null&#39;}-mycluster-shard-00-01-server.mongodb.net:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.6/java.lang.Thread.sleep(Native Method)\r\n com.mongodb.internal.connection.DefaultServerMonitor.waitForNext(DefaultServerMonitor.java:448)\r\n com.mongodb.internal.connection.DefaultServerMonitor.access$1500(DefaultServerMonitor.java:65)\r\n com.mongodb.internal.connection.DefaultServerMonitor$RoundTripTimeRunnable.run(DefaultServerMonitor.java:420)\r\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\r\n26-Jan-2023 09:02:43.399 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [cluster-ClusterId{value=&#39;XXX&#39;, description=&#39;null&#39;}-mycluster-shard-00-02-server.mongodb.net:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.6/sun.nio.ch.Net.poll(Native Method)\r\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:181)\r\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:285)\r\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\r\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\r\n java.base@17.0.6/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\r\n java.base@17.0.6/java.net.Socket$SocketInputStream.read(Socket.java:966)\r\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484)\r\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478)\r\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)\r\n java.base@17.0.6/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465)\r\n java.base@17.0.6/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069)\r\n com.mongodb.internal.connection.SocketStream.read(SocketStream.java:113)\r\n com.mongodb.internal.connection.SocketStream.read(SocketStream.java:138)\r\n com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:716)\r\n com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:574)\r\n com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:413)\r\n com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:372)\r\n com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:226)\r\n com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:158)\r\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\r\n26-Jan-2023 09:02:43.399 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [cluster-rtt-ClusterId{value=&#39;XXX&#39;, description=&#39;null&#39;}-mycluster-shard-00-02-server.mongodb.net:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.6/java.lang.Thread.sleep(Native Method)\r\n com.mongodb.internal.connection.DefaultServerMonitor.waitForNext(DefaultServerMonitor.java:448)\r\n com.mongodb.internal.connection.DefaultServerMonitor.access$1500(DefaultServerMonitor.java:65)\r\n com.mongodb.internal.connection.DefaultServerMonitor$RoundTripTimeRunnable.run(DefaultServerMonitor.java:420)\r\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\r\n26-Jan-2023 09:02:43.400 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [MaintenanceTimer-3-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.6/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.6/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n java.base@17.0.6/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\r\n java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\r\n26-Jan-2023 09:02:43.400 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [MaintenanceTimer-4-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.6/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.6/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n java.base@17.0.6/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\r\n java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\r\n26-Jan-2023 09:02:43.401 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [MaintenanceTimer-6-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.6/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.6/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n java.base@17.0.6/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\r\n java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\r\n26-Jan-2023 09:02:43.415 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@70f635bf]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n26-Jan-2023 09:02:43.416 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@1050149f]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n26-Jan-2023 09:02:43.417 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@2cbc7be9]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n26-Jan-2023 09:02:43.418 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@132a7a4d]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n26-Jan-2023 09:02:43.419 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@5c8628f2]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n26-Jan-2023 09:02:43.419 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@8813712]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n26-Jan-2023 09:02:43.420 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@94726ef]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n26-Jan-2023 09:02:43.421 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@317a5145]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n26-Jan-2023 09:02:43.422 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@fb62641]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n26-Jan-2023 09:02:43.422 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@171eac92]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n```\r\n\r\nThe MongoDB connection is created in a ServletContextListener. In the contextDestroy method, the connection is also closed again.\r\n\r\n```\r\n@Override\r\n    public void contextDestroyed(ServletContextEvent servletContextEvent) {\r\n        logger.debug(&quot;Closing Connection to Mongo DB.&quot;);\r\n        MongoClient mongoClient = (MongoClient) servletContextEvent.getServletContext().getAttribute(EnvironmentConstant.MONGO_CLIENT);\r\n        mongoClient.close();\r\n        logger.debug(&quot;Closing Connection to Mongo DB successful.&quot;);\r\n    }\r\n```\r\n\r\nHowever, that doesn&#39;t seem to work for some reason. The method itself is called, but the connections are not closed.","title":"MongoClient causes memory on undeploy in Tomcat servlet container","body":"<p>We use the current MongoDB Sync driver to establish database connections to a MongoDB in a web application. The web application is hosted in a Tomcat servlet container.</p>\n<p>These are our system specs:</p>\n<ul>\n<li><p>Apache Tomcat 10</p>\n</li>\n<li><p>JDK 17.0.6</p>\n</li>\n<li><p>mongodb-driver-sync 4.8.2</p>\n</li>\n</ul>\n<p>When we undeploy an application, we get the following error message in catalina.out.</p>\n<pre><code>26-Jan-2023 09:02:43.395 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [BufferPoolPruner-1-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.6/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.6/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n java.base@17.0.6/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\n java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\n26-Jan-2023 09:02:43.396 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [cluster-ClusterId{value='XXX', description='null'}-mycluster-shard-00-00-server.mongodb.net:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.6/sun.nio.ch.Net.poll(Native Method)\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:181)\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:285)\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\n java.base@17.0.6/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\n java.base@17.0.6/java.net.Socket$SocketInputStream.read(Socket.java:966)\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484)\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478)\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)\n java.base@17.0.6/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465)\n java.base@17.0.6/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069)\n com.mongodb.internal.connection.SocketStream.read(SocketStream.java:113)\n com.mongodb.internal.connection.SocketStream.read(SocketStream.java:138)\n com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:716)\n com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:574)\n com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:413)\n com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:372)\n com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:226)\n com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:158)\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\n26-Jan-2023 09:02:43.397 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [cluster-rtt-ClusterId{value='XXX', description='null'}-mycluster-shard-00-00-server.mongodb.net:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.6/java.lang.Thread.sleep(Native Method)\n com.mongodb.internal.connection.DefaultServerMonitor.waitForNext(DefaultServerMonitor.java:448)\n com.mongodb.internal.connection.DefaultServerMonitor.access$1500(DefaultServerMonitor.java:65)\n com.mongodb.internal.connection.DefaultServerMonitor$RoundTripTimeRunnable.run(DefaultServerMonitor.java:420)\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\n26-Jan-2023 09:02:43.398 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [cluster-ClusterId{value='XXX', description='null'}-mycluster-shard-00-01-server.mongodb.net:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.6/sun.nio.ch.Net.poll(Native Method)\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:181)\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:285)\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\n java.base@17.0.6/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\n java.base@17.0.6/java.net.Socket$SocketInputStream.read(Socket.java:966)\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484)\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478)\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)\n java.base@17.0.6/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465)\n java.base@17.0.6/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069)\n com.mongodb.internal.connection.SocketStream.read(SocketStream.java:113)\n com.mongodb.internal.connection.SocketStream.read(SocketStream.java:138)\n com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:716)\n com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:574)\n com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:413)\n com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:372)\n com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:226)\n com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:158)\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\n26-Jan-2023 09:02:43.398 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [cluster-rtt-ClusterId{value='XXX', description='null'}-mycluster-shard-00-01-server.mongodb.net:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.6/java.lang.Thread.sleep(Native Method)\n com.mongodb.internal.connection.DefaultServerMonitor.waitForNext(DefaultServerMonitor.java:448)\n com.mongodb.internal.connection.DefaultServerMonitor.access$1500(DefaultServerMonitor.java:65)\n com.mongodb.internal.connection.DefaultServerMonitor$RoundTripTimeRunnable.run(DefaultServerMonitor.java:420)\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\n26-Jan-2023 09:02:43.399 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [cluster-ClusterId{value='XXX', description='null'}-mycluster-shard-00-02-server.mongodb.net:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.6/sun.nio.ch.Net.poll(Native Method)\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:181)\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:285)\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\n java.base@17.0.6/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\n java.base@17.0.6/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\n java.base@17.0.6/java.net.Socket$SocketInputStream.read(Socket.java:966)\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:484)\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478)\n java.base@17.0.6/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)\n java.base@17.0.6/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1465)\n java.base@17.0.6/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1069)\n com.mongodb.internal.connection.SocketStream.read(SocketStream.java:113)\n com.mongodb.internal.connection.SocketStream.read(SocketStream.java:138)\n com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:716)\n com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:574)\n com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:413)\n com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:372)\n com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:226)\n com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:158)\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\n26-Jan-2023 09:02:43.399 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [cluster-rtt-ClusterId{value='XXX', description='null'}-mycluster-shard-00-02-server.mongodb.net:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.6/java.lang.Thread.sleep(Native Method)\n com.mongodb.internal.connection.DefaultServerMonitor.waitForNext(DefaultServerMonitor.java:448)\n com.mongodb.internal.connection.DefaultServerMonitor.access$1500(DefaultServerMonitor.java:65)\n com.mongodb.internal.connection.DefaultServerMonitor$RoundTripTimeRunnable.run(DefaultServerMonitor.java:420)\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\n26-Jan-2023 09:02:43.400 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [MaintenanceTimer-3-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.6/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.6/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n java.base@17.0.6/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\n java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\n26-Jan-2023 09:02:43.400 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [MaintenanceTimer-4-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.6/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.6/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n java.base@17.0.6/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\n java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\n26-Jan-2023 09:02:43.401 WARNING [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp] appears to have started a thread named [MaintenanceTimer-6-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.6/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.6/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n java.base@17.0.6/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\n java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n java.base@17.0.6/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\n26-Jan-2023 09:02:43.415 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@70f635bf]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n26-Jan-2023 09:02:43.416 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@1050149f]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n26-Jan-2023 09:02:43.417 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@2cbc7be9]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n26-Jan-2023 09:02:43.418 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@132a7a4d]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n26-Jan-2023 09:02:43.419 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@5c8628f2]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n26-Jan-2023 09:02:43.419 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@8813712]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n26-Jan-2023 09:02:43.420 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@94726ef]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n26-Jan-2023 09:02:43.421 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@317a5145]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n26-Jan-2023 09:02:43.422 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@fb62641]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n26-Jan-2023 09:02:43.422 SEVERE [http-nio-8080-exec-88] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp] created a ThreadLocal with key of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference$1@39f1c29b]) and a value of type [com.oracle.truffle.api.nodes.EncapsulatingNodeReference] (value [com.oracle.truffle.api.nodes.EncapsulatingNodeReference@171eac92]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n</code></pre>\n<p>The MongoDB connection is created in a ServletContextListener. In the contextDestroy method, the connection is also closed again.</p>\n<pre><code>@Override\n    public void contextDestroyed(ServletContextEvent servletContextEvent) {\n        logger.debug(&quot;Closing Connection to Mongo DB.&quot;);\n        MongoClient mongoClient = (MongoClient) servletContextEvent.getServletContext().getAttribute(EnvironmentConstant.MONGO_CLIENT);\n        mongoClient.close();\n        logger.debug(&quot;Closing Connection to Mongo DB successful.&quot;);\n    }\n</code></pre>\n<p>However, that doesn't seem to work for some reason. The method itself is called, but the connections are not closed.</p>\n"},{"tags":["java","exception","httpurlconnection"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1549019241,"post_id":54477023,"comment_id":95763323,"body_markdown":"The url is `http://www.google.com`?","body":"The url is <code>http:&#47;&#47;www.google.com</code>?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":2,"creation_date":1549019346,"post_id":54477023,"comment_id":95763375,"body_markdown":"Is there a firewall between your computer and the internet?","body":"Is there a firewall between your computer and the internet?"}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1549038649,"creation_date":1549018998,"answer_id":54478181,"question_id":54477023,"body_markdown":"So, you are __not asking how to do__:\r\n*How to read content from an URL in java?* That is already answered in\r\n[Read url to string in few lines of java code](https://stackoverflow.com/questions/4328711/read-url-to-string-in-few-lines-of-java-code).\r\n\r\nYou __described a problem__ you like to get analysed or even solved:\r\n&gt; getting `java.net.ConnectException: Connection timed out`\r\n\r\nSee [following answer](https://stackoverflow.com/a/5907240/5730279) to question [Connection timed out. Why?](https://stackoverflow.com/questions/5907037/connection-timed-out-why)\r\n\r\n&gt; Things you should look at:\r\n&gt;\r\n&gt;    - can you **ping** the host (google.com) ?\r\n&gt;    - can you connect to http://www.google.com using a **web browser**?\r\n&gt;    - can you connect to https://www.google.com using **HTTPS** in a **web browser**?\r\n&gt;    - can you connect to http://www.google.com using **your program**?\r\n&gt;    - can you connect to any other URL using your program?\r\n&gt;\r\n&gt; The chances are that your problem is firewall related. My first guess would be that you don&#39;t have the correct environment variables or Java system properties set to tell the JVM to use a local proxy server for outgoing HTTP / HTTPS requests\r\n\r\nAn alternative approach to read content from an URL may be the free open-source __JSoup__ library. Take a look on how to use it for your case: http://jsoup.org/cookbook/input/load-document-from-url\r\n\r\nWith JSoup you can even parse the returned HTML document elegantly.","title":"How to solve java.net.ConnectException: Connection Timed out","body":"<p>So, you are <strong>not asking how to do</strong>:\n<em>How to read content from an URL in java?</em> That is already answered in\n<a href=\"https://stackoverflow.com/questions/4328711/read-url-to-string-in-few-lines-of-java-code\">Read url to string in few lines of java code</a>.</p>\n\n<p>You <strong>described a problem</strong> you like to get analysed or even solved:</p>\n\n<blockquote>\n  <p>getting <code>java.net.ConnectException: Connection timed out</code></p>\n</blockquote>\n\n<p>See <a href=\"https://stackoverflow.com/a/5907240/5730279\">following answer</a> to question <a href=\"https://stackoverflow.com/questions/5907037/connection-timed-out-why\">Connection timed out. Why?</a></p>\n\n<blockquote>\n  <p>Things you should look at:</p>\n  \n  <ul>\n  <li>can you <strong>ping</strong> the host (google.com) ?</li>\n  <li>can you connect to <a href=\"http://www.google.com\" rel=\"nofollow noreferrer\">http://www.google.com</a> using a <strong>web browser</strong>?</li>\n  <li>can you connect to <a href=\"https://www.google.com\" rel=\"nofollow noreferrer\">https://www.google.com</a> using <strong>HTTPS</strong> in a <strong>web browser</strong>?</li>\n  <li>can you connect to <a href=\"http://www.google.com\" rel=\"nofollow noreferrer\">http://www.google.com</a> using <strong>your program</strong>?</li>\n  <li>can you connect to any other URL using your program?</li>\n  </ul>\n  \n  <p>The chances are that your problem is firewall related. My first guess would be that you don't have the correct environment variables or Java system properties set to tell the JVM to use a local proxy server for outgoing HTTP / HTTPS requests</p>\n</blockquote>\n\n<p>An alternative approach to read content from an URL may be the free open-source <strong>JSoup</strong> library. Take a look on how to use it for your case: <a href=\"http://jsoup.org/cookbook/input/load-document-from-url\" rel=\"nofollow noreferrer\">http://jsoup.org/cookbook/input/load-document-from-url</a></p>\n\n<p>With JSoup you can even parse the returned HTML document elegantly.</p>\n"},{"tags":[],"owner":{"account_id":14833360,"reputation":803,"user_id":10712233,"display_name":"Victor Calatramas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549027173,"creation_date":1549027173,"answer_id":54480388,"question_id":54477023,"body_markdown":"I just tried your code and it works fine. \r\n\r\nIt seems it&#39;s a network problem, maybe you don&#39;t have Internet access, or firewall is stoping connections. Supposing you are in UNIX system try to:\r\n\r\n1. `ping www.google.com -C 1` If this you don&#39;t get an answer and you have normal access connection (i.e. from your browser) it may be a firewall problem.\r\n\r\n2. `traceroute www.google.com` to check the number of hops that should be normally one or two for google&#39;s servers.\r\n\r\nIf you are on CentOS you should try to stop the firewall for testing beacuse it&#39;s quite restrictive:\r\n`sudo systemctl stop firewalld` \r\nRemember to start it again and add the rules you need to perform your requests.","title":"How to solve java.net.ConnectException: Connection Timed out","body":"<p>I just tried your code and it works fine. </p>\n\n<p>It seems it's a network problem, maybe you don't have Internet access, or firewall is stoping connections. Supposing you are in UNIX system try to:</p>\n\n<ol>\n<li><p><code>ping www.google.com -C 1</code> If this you don't get an answer and you have normal access connection (i.e. from your browser) it may be a firewall problem.</p></li>\n<li><p><code>traceroute www.google.com</code> to check the number of hops that should be normally one or two for google's servers.</p></li>\n</ol>\n\n<p>If you are on CentOS you should try to stop the firewall for testing beacuse it's quite restrictive:\n<code>sudo systemctl stop firewalld</code> \nRemember to start it again and add the rules you need to perform your requests.</p>\n"}],"owner":{"account_id":15245279,"reputation":11,"user_id":11000301,"display_name":"ishita"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17270,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1549045799,"answer_count":2,"score":0,"last_activity_date":1674720394,"creation_date":1549015085,"question_id":54477023,"body_markdown":"I am trying to connect _Google.com_ using the below code but getting &lt;pre&gt;java.net.ConnectException: Connection Timed out&lt;/pre&gt;.\r\nPlease help!\r\n\r\n    private static String getUrlContents(String theUrl) {\r\n        \r\n        StringBuilder content = new StringBuilder();\r\n\r\n        // many of these calls can throw exceptions, so i&#39;ve just\r\n        // wrapped them all in one try/catch statement.\r\n        try {\r\n            // create a url object\r\n            URL url = new URL(theUrl);\r\n\r\n            // create a urlconnection object\r\n            URLConnection urlConnection = url.openConnection();\r\n\r\n            // wrap the urlconnection in a bufferedreader\r\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));\r\n\r\n            String line;\r\n\r\n            // read from the urlconnection via the bufferedreader\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                content.append(line + &quot;\\n&quot;);\r\n            }\r\n            bufferedReader.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return content.toString();\r\n    }","title":"How to solve java.net.ConnectException: Connection Timed out","body":"<p>I am trying to connect <em>Google.com</em> using the below code but getting <pre>java.net.ConnectException: Connection Timed out</pre>.\nPlease help!</p>\n\n<pre><code>private static String getUrlContents(String theUrl) {\n\n    StringBuilder content = new StringBuilder();\n\n    // many of these calls can throw exceptions, so i've just\n    // wrapped them all in one try/catch statement.\n    try {\n        // create a url object\n        URL url = new URL(theUrl);\n\n        // create a urlconnection object\n        URLConnection urlConnection = url.openConnection();\n\n        // wrap the urlconnection in a bufferedreader\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));\n\n        String line;\n\n        // read from the urlconnection via the bufferedreader\n        while ((line = bufferedReader.readLine()) != null) {\n            content.append(line + \"\\n\");\n        }\n        bufferedReader.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return content.toString();\n}\n</code></pre>\n"},{"tags":["java","stream","java-stream"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":3,"creation_date":1674319975,"post_id":75194878,"comment_id":132691430,"body_markdown":"Streams have certain areas where they can be useful. Just because you use Java 8 or higher, you don&#39;t have to solve everything via streams. Often the classic for-loop is more performant and more readable.","body":"Streams have certain areas where they can be useful. Just because you use Java 8 or higher, you don&#39;t have to solve everything via streams. Often the classic for-loop is more performant and more readable."},{"owner":{"account_id":16243302,"reputation":98,"user_id":11729079,"display_name":"bakarJc"},"score":0,"creation_date":1674321871,"post_id":75194878,"comment_id":132691817,"body_markdown":"You&#39;re right, just wanted to make sure this is one of those cases and it&#39;s not just due to my limited knowledge around streams. thanks!","body":"You&#39;re right, just wanted to make sure this is one of those cases and it&#39;s not just due to my limited knowledge around streams. thanks!"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1674323277,"post_id":75194878,"comment_id":132692052,"body_markdown":"To paraphrase a similar situation -- _&quot;Some people, when confronted with a problem, think_ “I know, I&#39;ll use [streams].”  _Now they have two problems.&quot;_  You wouldn&#39;t use a hammer when trying to remove a screw, streams (and regular expressions) are tools with specific strengths and weaknesses, and sometime they&#39;re just not appropriate.","body":"To paraphrase a similar situation -- <i>&quot;Some people, when confronted with a problem, think</i> “I know, I&#39;ll use [streams].”  <i>Now they have two problems.&quot;</i>  You wouldn&#39;t use a hammer when trying to remove a screw, streams (and regular expressions) are tools with specific strengths and weaknesses, and sometime they&#39;re just not appropriate."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1674552317,"post_id":75194878,"comment_id":132732867,"body_markdown":"Side note: you can write this much simpler: `if(list.stream().anyMatch(i -&gt; i &lt; 0)) System.out.println(&quot;below min&quot;); if(list.stream().anyMatch(i -&gt; i &gt; 100)) System.out.println(&quot;above max&quot;);` Yes, this is “iterating twice” but also stopping at the first match. Why do you think “iterating twice” is a problem?","body":"Side note: you can write this much simpler: <code>if(list.stream().anyMatch(i -&gt; i &lt; 0)) System.out.println(&quot;below min&quot;); if(list.stream().anyMatch(i -&gt; i &gt; 100)) System.out.println(&quot;above max&quot;);</code> Yes, this is “iterating twice” but also stopping at the first match. Why do you think “iterating twice” is a problem?"},{"owner":{"account_id":16243302,"reputation":98,"user_id":11729079,"display_name":"bakarJc"},"score":0,"creation_date":1674744964,"post_id":75194878,"comment_id":132782712,"body_markdown":"@Holger I was just trying to avoid iterating twice because with a list of size n, if below min is at index n-2 and above max is at n-1, it gives a time complexity of 2n, whereas once would be n, I realise constants are not significant but like I mentioned it&#39;s actually multiple checks so it would be like O(6n) vs O(n)","body":"@Holger I was just trying to avoid iterating twice because with a list of size n, if below min is at index n-2 and above max is at n-1, it gives a time complexity of 2n, whereas once would be n, I realise constants are not significant but like I mentioned it&#39;s actually multiple checks so it would be like O(6n) vs O(n)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1674752237,"post_id":75194878,"comment_id":132785417,"body_markdown":"Assuming that the first match of every condition is at the end of the list is far fetched, however, even if it is, the iteration costs of commonly used lists, like `ArrayList` are tiny, even for large lists. When measuring, you may find that in real life, the costs of those more complicated solutions checking multiple conditions at once are actually higher.","body":"Assuming that the first match of every condition is at the end of the list is far fetched, however, even if it is, the iteration costs of commonly used lists, like <code>ArrayList</code> are tiny, even for large lists. When measuring, you may find that in real life, the costs of those more complicated solutions checking multiple conditions at once are actually higher."}],"answers":[{"tags":[],"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674684958,"creation_date":1674342730,"answer_id":75197247,"question_id":75194878,"body_markdown":"If you are using `Java 12+` you can utilize [teeing collector](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)) to achieve what you want using Java Streams API:\r\n\r\n```\r\nlist.stream()\r\n    .collect(Collectors.teeing(\r\n        Collectors.minBy(Comparator.&lt;Integer&gt;naturalOrder()),\r\n        Collectors.maxBy(Comparator.&lt;Integer&gt;naturalOrder()),\r\n            (min, max) -&gt; {\r\n              min.ifPresent(i -&gt; System.out.println(&quot;below min&quot;));\r\n              max.ifPresent(i -&gt; System.out.println(&quot;above max&quot;));\r\n              return 0;\r\n            }\r\n    ));\r\n```\r\n\r\nYou can collect those elements as well:\r\n```\r\nlist.stream()\r\n    .collect(Collectors.teeing(\r\n        Collectors.filtering(i -&gt; i &lt; 0, Collectors.toList()),\r\n        Collectors.filtering(i -&gt; i &gt; 100, Collectors.toList()),\r\n            (l1, l2) -&gt; {\r\n              System.out.printf(&quot;%s %s%n&quot;, l1, l2);\r\n              return 0;\r\n            }\r\n    ));\r\n\r\n```\r\n\r\nThough, whether such approach with streams should be used in place of a `for` loop needs careful consideration. For this specific question, the code using the `for` loop will probably be more readable.","title":"Java streams perform different operations by multiple filters","body":"<p>If you are using <code>Java 12+</code> you can utilize <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">teeing collector</a> to achieve what you want using Java Streams API:</p>\n<pre><code>list.stream()\n    .collect(Collectors.teeing(\n        Collectors.minBy(Comparator.&lt;Integer&gt;naturalOrder()),\n        Collectors.maxBy(Comparator.&lt;Integer&gt;naturalOrder()),\n            (min, max) -&gt; {\n              min.ifPresent(i -&gt; System.out.println(&quot;below min&quot;));\n              max.ifPresent(i -&gt; System.out.println(&quot;above max&quot;));\n              return 0;\n            }\n    ));\n</code></pre>\n<p>You can collect those elements as well:</p>\n<pre><code>list.stream()\n    .collect(Collectors.teeing(\n        Collectors.filtering(i -&gt; i &lt; 0, Collectors.toList()),\n        Collectors.filtering(i -&gt; i &gt; 100, Collectors.toList()),\n            (l1, l2) -&gt; {\n              System.out.printf(&quot;%s %s%n&quot;, l1, l2);\n              return 0;\n            }\n    ));\n\n</code></pre>\n<p>Though, whether such approach with streams should be used in place of a <code>for</code> loop needs careful consideration. For this specific question, the code using the <code>for</code> loop will probably be more readable.</p>\n"},{"tags":[],"owner":{"account_id":19174228,"reputation":66,"user_id":14007264,"display_name":"Vinayak Nair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674720224,"creation_date":1674720224,"answer_id":75243467,"question_id":75194878,"body_markdown":"You can simply stream and use a forEach loop to filter out elements in a single loop:\r\n\r\n            List&lt;Integer&gt; smaller = new ArrayList&lt;&gt;();\r\n    \t\tList&lt;Integer&gt; larger = new ArrayList&lt;&gt;();\r\n    \t\tList&lt;Integer&gt; intList = Arrays.asList(200, 345, -132, -2, -34, null);\r\n    \r\n    \t\tintList.stream().filter(Objects::nonNull).forEach(element -&gt; {\r\n    \t\t\tif (element &lt; 0) {\r\n    \t\t\t\tsmaller.add(element);\r\n    \t\t\t} else if (element &gt; 100) {\r\n    \t\t\t\tlarger.add(element);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tSystem.out.println(&quot;Smaller:-&quot; + smaller);\r\n    \t\tSystem.out.println(&quot;Larger:-&quot; + larger);\r\n\r\nThe real focus should be on code readability even if it takes some more code line to write logic.","title":"Java streams perform different operations by multiple filters","body":"<p>You can simply stream and use a forEach loop to filter out elements in a single loop:</p>\n<pre><code>        List&lt;Integer&gt; smaller = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; larger = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; intList = Arrays.asList(200, 345, -132, -2, -34, null);\n\n        intList.stream().filter(Objects::nonNull).forEach(element -&gt; {\n            if (element &lt; 0) {\n                smaller.add(element);\n            } else if (element &gt; 100) {\n                larger.add(element);\n            }\n        });\n        System.out.println(&quot;Smaller:-&quot; + smaller);\n        System.out.println(&quot;Larger:-&quot; + larger);\n</code></pre>\n<p>The real focus should be on code readability even if it takes some more code line to write logic.</p>\n"}],"owner":{"account_id":16243302,"reputation":98,"user_id":11729079,"display_name":"bakarJc"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674720224,"creation_date":1674318873,"question_id":75194878,"body_markdown":"I want to return different error messages minimum and maximum constraints on the values in a given list. I was hoping to use Java streams but i am having to filter the same list twice. Whereas using a for loop i would only have to go over the list once. Is there a better way to achieve this via streams?\r\n\r\nMy code looks something like this:\r\n\r\n    list.stream().filter(i -&gt; i &lt; 0).findAny().ifPresent(i -&gt; System.out.println(&quot;below min&quot;));\r\n    \r\n    list.stream().filter(i -&gt; i &gt; 100).findAny().ifPresent(i -&gt; System.out.println(&quot;above max&quot;));\r\n\r\nUsing a for loop i can place two if conditions while traversing over the list once,\r\n\r\nIn actual implementation there are other constraints as well and I&#39;m adding an error to a list, if it not already exists, depending on each violation.\r\n\r\nWill i have to filter the list each time for each violation?\r\nHelp would be appreciated!\r\n","title":"Java streams perform different operations by multiple filters","body":"<p>I want to return different error messages minimum and maximum constraints on the values in a given list. I was hoping to use Java streams but i am having to filter the same list twice. Whereas using a for loop i would only have to go over the list once. Is there a better way to achieve this via streams?</p>\n<p>My code looks something like this:</p>\n<pre><code>list.stream().filter(i -&gt; i &lt; 0).findAny().ifPresent(i -&gt; System.out.println(&quot;below min&quot;));\n\nlist.stream().filter(i -&gt; i &gt; 100).findAny().ifPresent(i -&gt; System.out.println(&quot;above max&quot;));\n</code></pre>\n<p>Using a for loop i can place two if conditions while traversing over the list once,</p>\n<p>In actual implementation there are other constraints as well and I'm adding an error to a list, if it not already exists, depending on each violation.</p>\n<p>Will i have to filter the list each time for each violation?\nHelp would be appreciated!</p>\n"},{"tags":["java","dictionary","clojure"],"answers":[{"tags":[],"owner":{"account_id":293898,"reputation":12995,"user_id":597473,"display_name":"Piotrek Bzdyl"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1674720162,"creation_date":1465895847,"answer_id":37807787,"question_id":37807343,"body_markdown":"Clojure maps are immutable so you will always return a new map with updated contents - thus your functions will be always thread safe. It also means that you can&#39;t have a global variable holding your map and mutate them in place.\r\n\r\nYour implementation of `compute-if-absent` is almost correct. It will fail for keys that are falsey, for example `{false 1}`. You need to change your `if` condition and use `contains?` instead of `key`:\r\n\r\n    (defn compute-if-absent [m k f]\r\n      (if (contains? m k)\r\n        m\r\n        (assoc m k (f k))))\r\n\r\nIf you do need to have the same behaviour as `ConcurrentMap` you can just use them using Java interop in Clojure.","title":"What&#39;s the equivalent of Java&#39;s computeIfAbsent or putIfAbsent in Clojure?","body":"<p>Clojure maps are immutable so you will always return a new map with updated contents - thus your functions will be always thread safe. It also means that you can't have a global variable holding your map and mutate them in place.</p>\n<p>Your implementation of <code>compute-if-absent</code> is almost correct. It will fail for keys that are falsey, for example <code>{false 1}</code>. You need to change your <code>if</code> condition and use <code>contains?</code> instead of <code>key</code>:</p>\n<pre><code>(defn compute-if-absent [m k f]\n  (if (contains? m k)\n    m\n    (assoc m k (f k))))\n</code></pre>\n<p>If you do need to have the same behaviour as <code>ConcurrentMap</code> you can just use them using Java interop in Clojure.</p>\n"},{"tags":[],"owner":{"account_id":264181,"reputation":3163,"user_id":550271,"accept_rate":80,"display_name":"z7sg Ѫ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465899889,"creation_date":1465899889,"answer_id":37809361,"question_id":37807343,"body_markdown":"Even simpler solution would be to use `merge`, for `put-if-absent`:\r\n\r\n    (merge {key val} m)\r\n\r\nAlthough the end result would be the same for `compute-if-absent`, the following code would of course compute `(f key)` regardless of the contents of `m`:\r\n\r\n    (merge {key (f key)} m)\r\n\r\n\r\n\r\n","title":"What&#39;s the equivalent of Java&#39;s computeIfAbsent or putIfAbsent in Clojure?","body":"<p>Even simpler solution would be to use <code>merge</code>, for <code>put-if-absent</code>:</p>\n\n<pre><code>(merge {key val} m)\n</code></pre>\n\n<p>Although the end result would be the same for <code>compute-if-absent</code>, the following code would of course compute <code>(f key)</code> regardless of the contents of <code>m</code>:</p>\n\n<pre><code>(merge {key (f key)} m)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4985886,"reputation":1814,"user_id":4009538,"display_name":"Adam Lee"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1465936385,"creation_date":1465936385,"answer_id":37821590,"question_id":37807343,"body_markdown":"If you are trying to implement some form of caching, then you can use clojure&#39;s great `memoize` function.\r\n\r\nExample: `(def fast-inc (memoize inc))`\r\n\r\nSee: http://clojuredocs.org/clojure.core/memoize","title":"What&#39;s the equivalent of Java&#39;s computeIfAbsent or putIfAbsent in Clojure?","body":"<p>If you are trying to implement some form of caching, then you can use clojure's great <code>memoize</code> function.</p>\n\n<p>Example: <code>(def fast-inc (memoize inc))</code></p>\n\n<p>See: <a href=\"http://clojuredocs.org/clojure.core/memoize\" rel=\"nofollow\">http://clojuredocs.org/clojure.core/memoize</a></p>\n"}],"owner":{"account_id":116234,"reputation":8075,"user_id":304874,"accept_rate":84,"display_name":"Graeme Moss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1384,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":37807787,"answer_count":3,"score":5,"last_activity_date":1674720162,"creation_date":1465894594,"question_id":37807343,"body_markdown":"With a map in Java you can write `map.computeIfAbsent(key, f)` that checks whether the key exists in the map already, and if not calls `f` on the key to generate a value, and enters that in the map.  You also have `map.putIfAbsent(key, value)` which only puts the value in the map if the key does not already exist in the map.\r\n\r\nIgnoring the fact the Java methods also return the value, and instead wanting the new map returned, what would be the equivalent code in Clojure?\r\n\r\nThe best I&#39;ve come up with so far is to roll my own with something like\r\n\r\n    (defn compute-if-absent [map key f]\r\n      (if (key map)\r\n        map\r\n        (assoc map key (f key))))\r\n\r\nIs there an alternative to rolling my own?","title":"What&#39;s the equivalent of Java&#39;s computeIfAbsent or putIfAbsent in Clojure?","body":"<p>With a map in Java you can write <code>map.computeIfAbsent(key, f)</code> that checks whether the key exists in the map already, and if not calls <code>f</code> on the key to generate a value, and enters that in the map.  You also have <code>map.putIfAbsent(key, value)</code> which only puts the value in the map if the key does not already exist in the map.</p>\n\n<p>Ignoring the fact the Java methods also return the value, and instead wanting the new map returned, what would be the equivalent code in Clojure?</p>\n\n<p>The best I've come up with so far is to roll my own with something like</p>\n\n<pre><code>(defn compute-if-absent [map key f]\n  (if (key map)\n    map\n    (assoc map key (f key))))\n</code></pre>\n\n<p>Is there an alternative to rolling my own?</p>\n"},{"tags":["java","spring-boot","java-time"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674719955,"post_id":75243390,"comment_id":132774875,"body_markdown":"Just a guess here: could be a problem with your locale, i.e. if your system&#39;s locale isn&#39;t English names like &quot;Sun&quot; and &quot;Jan&quot; might not be parseable (the system might expect different names according to your system locale). Can you try with numbers only?","body":"Just a guess here: could be a problem with your locale, i.e. if your system&#39;s locale isn&#39;t English names like &quot;Sun&quot; and &quot;Jan&quot; might not be parseable (the system might expect different names according to your system locale). Can you try with numbers only?"},{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1674720499,"post_id":75243390,"comment_id":132774989,"body_markdown":"What I would suggest is to change the data type to String from ZonedDateTime and then perform a validation check for the format. That should do the job.","body":"What I would suggest is to change the data type to String from ZonedDateTime and then perform a validation check for the format. That should do the job."},{"owner":{"account_id":4870584,"reputation":13948,"user_id":3927264,"accept_rate":68,"display_name":"Farhan stands with Palestine"},"score":0,"creation_date":1674720721,"post_id":75243390,"comment_id":132775050,"body_markdown":"@Thomas When i use yyyy-MM-dd with LocalDate, it works fine.","body":"@Thomas When i use yyyy-MM-dd with LocalDate, it works fine."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674720973,"post_id":75243390,"comment_id":132775117,"body_markdown":"Did you try with `ZonedDateTime` but a numeric only representation of data, time and timezone?","body":"Did you try with <code>ZonedDateTime</code> but a numeric only representation of data, time and timezone?"},{"owner":{"account_id":4870584,"reputation":13948,"user_id":3927264,"accept_rate":68,"display_name":"Farhan stands with Palestine"},"score":1,"creation_date":1674722581,"post_id":75243390,"comment_id":132775541,"body_markdown":"@Thomas this works on my local machine - `String requestDate = &quot;Sun, 01 Jan 2023 06:49:53 GMT&quot;; \nString format = &quot;EEE, dd MMM yyyy HH:mm:ss &#39;GMT&#39;&quot;;\nDateTimeFormatter parser = DateTimeFormatter.ofPattern(format).withZone(ZoneOffset.UTC);\nZonedDateTime thenZonedDateTime = ZonedDateTime.parse(requestDate, parser);`","body":"@Thomas this works on my local machine - <code>String requestDate = &quot;Sun, 01 Jan 2023 06:49:53 GMT&quot;;  String format = &quot;EEE, dd MMM yyyy HH:mm:ss &#39;GMT&#39;&quot;; DateTimeFormatter parser = DateTimeFormatter.ofPattern(format).withZone(ZoneOffset.UTC)&zwnj;&#8203;; ZonedDateTime thenZonedDateTime = ZonedDateTime.parse(requestDate, parser);</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674723165,"post_id":75243390,"comment_id":132775716,"body_markdown":"That&#39;s not the format you&#39;re using in your controller though. If you&#39;re trying it independently you should make sure you&#39;re using the exact same format and input - just to rule out any incompatibilities there.","body":"That&#39;s not the format you&#39;re using in your controller though. If you&#39;re trying it independently you should make sure you&#39;re using the exact same format and input - just to rule out any incompatibilities there."},{"owner":{"account_id":4870584,"reputation":13948,"user_id":3927264,"accept_rate":68,"display_name":"Farhan stands with Palestine"},"score":0,"creation_date":1674723487,"post_id":75243390,"comment_id":132775818,"body_markdown":"@Thomas - i have tried with all combinations for GMT and Z. None of them works. In a standalone java program, it works but not with the annotation as above.","body":"@Thomas - i have tried with all combinations for GMT and Z. None of them works. In a standalone java program, it works but not with the annotation as above."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1674729021,"post_id":75243390,"comment_id":132777612,"body_markdown":"I believe the good and correct formatter to use is `DateTimeFormatter.RFC_1123_DATE_TIME`. Save yourself from fiddling with your own format pattern string.","body":"I believe the good and correct formatter to use is <code>DateTimeFormatter.RFC_1123_DATE_TIME</code>. Save yourself from fiddling with your own format pattern string."}],"owner":{"account_id":4870584,"reputation":13948,"user_id":3927264,"accept_rate":68,"display_name":"Farhan stands with Palestine"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674719572,"creation_date":1674719572,"question_id":75243390,"body_markdown":"I have a controller like below-\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/initiatiation-task/v1&quot;)\r\n    public class LoginInitiationTaskController {\r\n    \r\n    \tprivate final LoginInitiationTaskService loginInitiationTaskService;\r\n    \r\n    \t@PostMapping(&quot;/login&quot;)\r\n    \tpublic ResponseEntity&lt;InitiateLoginResponse&gt; initiateLogin(\r\n    \t\t\t@Valid @RequestHeader(&quot;Date&quot;)  @DateTimeFormat(pattern = &quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;) ZonedDateTime date) {\r\n    \r\n    \t\t// ...\r\n    \t}\r\n    \r\n    }\r\n\r\nI need to validate the request date format. The above config doesn&#39;t works. I also tried with the below one -\r\n\r\n    @JsonFormat( pattern = &quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;, timezone=&quot;GMT&quot;) ZonedDateTime date\r\n\r\nWhen a date is sent in the header via postman \r\n[![enter image description here][1]][1]\r\n\r\nSpring throws an exception\r\n\r\n&gt; org.springframework.web.method.annotation.MethodArgumentTypeMismatchException:\r\n&gt; Failed to convert value of type &#39;java.lang.String&#39; to required type\r\n&gt; &#39;java.time.ZonedDateTime&#39;; Failed to convert from type\r\n&gt; [java.lang.String] to type\r\n&gt; [@org.springframework.web.bind.annotation.RequestHeader\r\n&gt; @com.fasterxml.jackson.annotation.JsonFormat java.time.ZonedDateTime]\r\n&gt; for value &#39;Sun, 01 Jan 2023 06:49:53 GMT&#39;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7agNW.png","title":"How to validate the request date format coming in the request header in a spring boot application?","body":"<p>I have a controller like below-</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/initiatiation-task/v1&quot;)\npublic class LoginInitiationTaskController {\n\n    private final LoginInitiationTaskService loginInitiationTaskService;\n\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;InitiateLoginResponse&gt; initiateLogin(\n            @Valid @RequestHeader(&quot;Date&quot;)  @DateTimeFormat(pattern = &quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;) ZonedDateTime date) {\n\n        // ...\n    }\n\n}\n</code></pre>\n<p>I need to validate the request date format. The above config doesn't works. I also tried with the below one -</p>\n<pre><code>@JsonFormat( pattern = &quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;, timezone=&quot;GMT&quot;) ZonedDateTime date\n</code></pre>\n<p>When a date is sent in the header via postman\n<a href=\"https://i.stack.imgur.com/7agNW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7agNW.png\" alt=\"enter image description here\" /></a></p>\n<p>Spring throws an exception</p>\n<blockquote>\n<p>org.springframework.web.method.annotation.MethodArgumentTypeMismatchException:\nFailed to convert value of type 'java.lang.String' to required type\n'java.time.ZonedDateTime'; Failed to convert from type\n[java.lang.String] to type\n[@org.springframework.web.bind.annotation.RequestHeader\n@com.fasterxml.jackson.annotation.JsonFormat java.time.ZonedDateTime]\nfor value 'Sun, 01 Jan 2023 06:49:53 GMT'</p>\n</blockquote>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":26876240,"reputation":21,"user_id":20457452,"display_name":"crosbee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674719493,"creation_date":1674719493,"answer_id":75243374,"question_id":75236758,"body_markdown":"Ok I solved problem. I changed .escape(true) to .escape(false) in my QuerStringBuilder. ","title":"How to use include query in elastic search?","body":"<p>Ok I solved problem. I changed .escape(true) to .escape(false) in my QuerStringBuilder.</p>\n"}],"owner":{"account_id":26876240,"reputation":21,"user_id":20457452,"display_name":"crosbee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75243374,"answer_count":1,"score":0,"last_activity_date":1674719493,"creation_date":1674663109,"question_id":75236758,"body_markdown":"I use own analzyer to asciifolding and lowercase. How Can I send query about this:\r\n```\r\n{\r\n   \r\n  &quot;query&quot;: {\r\n    \r\n    &quot;query&quot;:&quot;*mil*&quot;\r\n}\r\n```\r\nWhen I didn&#39;t use own analzyer I could do, thanks QuerStringBuilder. Now it&#39;s not working.\r\n\r\nI tried to find a Polish stammer but it&#39;s not there. Is there any other way out? I need to have my own analyzer to map accents.","title":"How to use include query in elastic search?","body":"<p>I use own analzyer to asciifolding and lowercase. How Can I send query about this:</p>\n<pre><code>{\n   \n  &quot;query&quot;: {\n    \n    &quot;query&quot;:&quot;*mil*&quot;\n}\n</code></pre>\n<p>When I didn't use own analzyer I could do, thanks QuerStringBuilder. Now it's not working.</p>\n<p>I tried to find a Polish stammer but it's not there. Is there any other way out? I need to have my own analyzer to map accents.</p>\n"},{"tags":["java","constructor","null","coding-style"],"comments":[{"owner":{"account_id":71001,"reputation":24087,"user_id":205426,"accept_rate":60,"display_name":"Woot4Moo"},"score":4,"creation_date":1276004922,"post_id":2997768,"comment_id":3061671,"body_markdown":"I recommend number 2.  Just because it looks ugly doesn&#39;t mean it isn&#39;t proper.  Remember code is for humans to read and understand not machines.","body":"I recommend number 2.  Just because it looks ugly doesn&#39;t mean it isn&#39;t proper.  Remember code is for humans to read and understand not machines."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":6,"creation_date":1276007104,"post_id":2997768,"comment_id":3062099,"body_markdown":"The difference in behaviour between second and third approach is pretty major to ever answer this question reasonably. The second allows the values to be set to `null` afterwards by the setters. If you want consistent behaviour, then you should in any way go for 3, this isn&#39;t a style issue anymore.","body":"The difference in behaviour between second and third approach is pretty major to ever answer this question reasonably. The second allows the values to be set to <code>null</code> afterwards by the setters. If you want consistent behaviour, then you should in any way go for 3, this isn&#39;t a style issue anymore."},{"owner":{"account_id":2490547,"reputation":1501,"user_id":2168085,"accept_rate":100,"display_name":"CodyEngel"},"score":0,"creation_date":1448985496,"post_id":2997768,"comment_id":55804426,"body_markdown":"@BalusC that assumes that both 2 and 3 have setters. If 2 doesn&#39;t have any setter methods then it&#39;s essentially the same as 3; except the user could set the object after the object is created.","body":"@BalusC that assumes that both 2 and 3 have setters. If 2 doesn&#39;t have any setter methods then it&#39;s essentially the same as 3; except the user could set the object after the object is created."}],"answers":[{"tags":[],"owner":{"account_id":140652,"reputation":351,"user_id":347130,"accept_rate":86,"display_name":"Marc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1276004556,"creation_date":1276004556,"answer_id":2997792,"question_id":2997768,"body_markdown":"You can simply have a method which takes all the constructor arguments that you need to validate. This method throws exception with specific message depending on which argument is not valid.\r\nYour constructor calls this method, and if it passes, it initialize values.","title":"Java constructor style: check parameters aren&#39;t null","body":"<p>You can simply have a method which takes all the constructor arguments that you need to validate. This method throws exception with specific message depending on which argument is not valid.\nYour constructor calls this method, and if it passes, it initialize values.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":2,"up_vote_count":103,"is_accepted":true,"score":101,"last_activity_date":1276006913,"creation_date":1276004696,"answer_id":2997811,"question_id":2997768,"body_markdown":"The second or the third. \r\n\r\nBecause it tells the user of your API what exactly went wrong.\r\n\r\nFor less verbosity use &lt;href=&quot;http://commons.apache.org/lang/api/org/apache/commons/lang/Validate.html&quot;&gt;`Validate.notNull(obj, message)`&lt;/a&gt; from commons-lang. Thus your constructor will look like:\r\n\r\n\r\n    public SomeClass(Object one, Object two) {\r\n        Validate.notNull(one, &quot;one can&#39;t be null&quot;);\r\n        Validate.notNull(two, &quot;two can&#39;t be null&quot;);\r\n        ...\r\n    }\r\n\r\nPlacing the check in the setter is also acceptable, with the same verbosity comment. If your setters also have the role of preserving object consistency, you can choose the third as well.","title":"Java constructor style: check parameters aren&#39;t null","body":"<p>The second or the third. </p>\n\n<p>Because it tells the user of your API what exactly went wrong.</p>\n\n<p>For less verbosity use <code>Validate.notNull(obj, message)</code> from commons-lang. Thus your constructor will look like:</p>\n\n<pre><code>public SomeClass(Object one, Object two) {\n    Validate.notNull(one, \"one can't be null\");\n    Validate.notNull(two, \"two can't be null\");\n    ...\n}\n</code></pre>\n\n<p>Placing the check in the setter is also acceptable, with the same verbosity comment. If your setters also have the role of preserving object consistency, you can choose the third as well.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1276004956,"creation_date":1276004956,"answer_id":2997853,"question_id":2997768,"body_markdown":"An alternative to throwing an unchecked exception would be the usage of `assert`. Otherwise I&#180;d throw checked exceptions to make the caller aware of the fact, that the constructor will not work with illegal values.\r\n\r\nThe difference between your first two solutions - do you need a detailed error message, do you need to know which parameter failed or is it enough to know, that the instance couldn&#39;t have been created due to illegal arguments?\r\n\r\nNote, that the second and third example can&#39;t report correctly that both parameters have been null.\r\n\r\nBTW - I vote for a variation of (1):\r\n\r\n    if (one == null || two == null) {\r\n        throw new IllegalArgumentException(\r\n          String.format(&quot;Parameters can&#39;t be null: one=%s, two=%s&quot;, one, two));\r\n    }\r\n","title":"Java constructor style: check parameters aren&#39;t null","body":"<p>An alternative to throwing an unchecked exception would be the usage of <code>assert</code>. Otherwise I´d throw checked exceptions to make the caller aware of the fact, that the constructor will not work with illegal values.</p>\n\n<p>The difference between your first two solutions - do you need a detailed error message, do you need to know which parameter failed or is it enough to know, that the instance couldn't have been created due to illegal arguments?</p>\n\n<p>Note, that the second and third example can't report correctly that both parameters have been null.</p>\n\n<p>BTW - I vote for a variation of (1):</p>\n\n<pre><code>if (one == null || two == null) {\n    throw new IllegalArgumentException(\n      String.format(\"Parameters can't be null: one=%s, two=%s\", one, two));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1276005010,"creation_date":1276005010,"answer_id":2997861,"question_id":2997768,"body_markdown":"I would have a utility method:\r\n\r\n     public static &lt;T&gt; T checkNull(String message, T object) {\r\n         if(object == null) {\r\n           throw new NullPointerException(message);\r\n         }\r\n         return object;\r\n      }\r\n\r\nI would have it return the object so that you can use it in assignments like this:\r\n\r\n     public Constructor(Object param) {\r\n         this.param = checkNull(&quot;Param not allowed to be null&quot;, param);\r\n     }\r\n\r\nEDIT: Regarding the suggestions to use a third party library, the Google Preconditions in particular does the above even better than my code. However, if this is the only reasons to include the library in your project, I&#39;d be hesitant. The method is too simple.","title":"Java constructor style: check parameters aren&#39;t null","body":"<p>I would have a utility method:</p>\n\n<pre><code> public static &lt;T&gt; T checkNull(String message, T object) {\n     if(object == null) {\n       throw new NullPointerException(message);\n     }\n     return object;\n  }\n</code></pre>\n\n<p>I would have it return the object so that you can use it in assignments like this:</p>\n\n<pre><code> public Constructor(Object param) {\n     this.param = checkNull(\"Param not allowed to be null\", param);\n }\n</code></pre>\n\n<p>EDIT: Regarding the suggestions to use a third party library, the Google Preconditions in particular does the above even better than my code. However, if this is the only reasons to include the library in your project, I'd be hesitant. The method is too simple.</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1614691360,"creation_date":1276005017,"answer_id":2997863,"question_id":2997768,"body_markdown":"You can use one of the many libraries designed to facilitate precondition checks. Many code in [Google Guava][1] uses [`com.google.common.base.Preconditions`](https://guava.dev/releases/19.0/api/docs/com/google/common/base/Preconditions.html)\r\n\r\n&gt; Simple static methods to be called at the start of your own methods to verify correct arguments and state. This allows constructs such as\r\n&gt; \r\n&gt;      if (count &lt;= 0) {\r\n&gt;        throw new IllegalArgumentException(&quot;must be positive: &quot; + count);\r\n&gt;      }\r\n&gt; \r\n&gt; to be replaced with the more compact\r\n&gt; \r\n&gt;      checkArgument(count &gt; 0, &quot;must be positive: %s&quot;, count);\r\n\r\nIt has [`checkNotNull`](http://guava-libraries.googlecode.com/svn-history/r13/trunk/javadoc/com/google/common/base/Preconditions.html#checkNotNull%28T%29) that is [used extensively within Guava](https://github.com/google/guava/search?q=checkNotNull). You can then write:\r\n\r\n     import static com.google.common.base.Preconditions.checkNotNull;\r\n     //...\r\n\r\n     public SomeClass(Object one, Object two) {\r\n         this.one = checkNotNull(one);\r\n         this.two = checkNotNull(two, &quot;two can&#39;t be null!&quot;);\r\n         //...\r\n     }\r\n\r\nMost methods are overloaded to either take no error message, a fixed error message, or a templatized error message with varargs.\r\n\r\n---\r\n\r\n### On `IllegalArgumentException` vs `NullPointerException`\r\n\r\nWhile your original code throws `IllegalArgumentException` on `null` arguments, Guava&#39;s `Preconditions.checkNotNull` throws `NullPointerException` instead.\r\n\r\nHere&#39;s a quote from _Effective Java 2nd Edition: Item 60: Favor the use of standard exceptions_:\r\n\r\n&gt; Arguably, all erroneous method invocations boil down to an illegal argument or an illegal state, but other exceptions are standardly used for _certain kinds_ of illegal argument and states. If a caller passes `null` in some parameter for which null values are prohibited, convention dictates `NullPointerException` be thrown rather than `IllegalArgumentException`.\r\n\r\nA `NullPointerException` isn&#39;t reserved for just when you access members of a `null` reference; it&#39;s pretty standard to throw them when an argument is `null` when that&#39;s an illegal value.\r\n\r\n    System.out.println(&quot;some string&quot;.split(null));\r\n    // throws NullPointerException\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Google_Guava","title":"Java constructor style: check parameters aren&#39;t null","body":"<p>You can use one of the many libraries designed to facilitate precondition checks. Many code in <a href=\"http://en.wikipedia.org/wiki/Google_Guava\" rel=\"nofollow noreferrer\">Google Guava</a> uses <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/base/Preconditions.html\" rel=\"nofollow noreferrer\"><code>com.google.common.base.Preconditions</code></a></p>\n<blockquote>\n<p>Simple static methods to be called at the start of your own methods to verify correct arguments and state. This allows constructs such as</p>\n<pre><code> if (count &lt;= 0) {\n   throw new IllegalArgumentException(&quot;must be positive: &quot; + count);\n }\n</code></pre>\n<p>to be replaced with the more compact</p>\n<pre><code> checkArgument(count &gt; 0, &quot;must be positive: %s&quot;, count);\n</code></pre>\n</blockquote>\n<p>It has <a href=\"http://guava-libraries.googlecode.com/svn-history/r13/trunk/javadoc/com/google/common/base/Preconditions.html#checkNotNull%28T%29\" rel=\"nofollow noreferrer\"><code>checkNotNull</code></a> that is <a href=\"https://github.com/google/guava/search?q=checkNotNull\" rel=\"nofollow noreferrer\">used extensively within Guava</a>. You can then write:</p>\n<pre><code> import static com.google.common.base.Preconditions.checkNotNull;\n //...\n\n public SomeClass(Object one, Object two) {\n     this.one = checkNotNull(one);\n     this.two = checkNotNull(two, &quot;two can't be null!&quot;);\n     //...\n }\n</code></pre>\n<p>Most methods are overloaded to either take no error message, a fixed error message, or a templatized error message with varargs.</p>\n<hr />\n<h3>On <code>IllegalArgumentException</code> vs <code>NullPointerException</code></h3>\n<p>While your original code throws <code>IllegalArgumentException</code> on <code>null</code> arguments, Guava's <code>Preconditions.checkNotNull</code> throws <code>NullPointerException</code> instead.</p>\n<p>Here's a quote from <em>Effective Java 2nd Edition: Item 60: Favor the use of standard exceptions</em>:</p>\n<blockquote>\n<p>Arguably, all erroneous method invocations boil down to an illegal argument or an illegal state, but other exceptions are standardly used for <em>certain kinds</em> of illegal argument and states. If a caller passes <code>null</code> in some parameter for which null values are prohibited, convention dictates <code>NullPointerException</code> be thrown rather than <code>IllegalArgumentException</code>.</p>\n</blockquote>\n<p>A <code>NullPointerException</code> isn't reserved for just when you access members of a <code>null</code> reference; it's pretty standard to throw them when an argument is <code>null</code> when that's an illegal value.</p>\n<pre><code>System.out.println(&quot;some string&quot;.split(null));\n// throws NullPointerException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276006945,"creation_date":1276006945,"answer_id":2998162,"question_id":2997768,"body_markdown":"Annotations for static analysis are also useful, either in-addition-to or in-place-of the run-time checks.\r\n\r\nFindBugs, for example, provides an @NonNull annotation.  \r\n\r\n&gt; public SomeClass( @NonNull Object one, @NonNull Object two) {\r\n\r\n\r\n","title":"Java constructor style: check parameters aren&#39;t null","body":"<p>Annotations for static analysis are also useful, either in-addition-to or in-place-of the run-time checks.</p>\n\n<p>FindBugs, for example, provides an @NonNull annotation.  </p>\n\n<blockquote>\n  <p>public SomeClass( @NonNull Object one, @NonNull Object two) {</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2764,"reputation":2346,"user_id":3887,"accept_rate":68,"display_name":"qnoid"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1276015527,"creation_date":1276015527,"answer_id":2999417,"question_id":2997768,"body_markdown":"Apart from the answers given above which are all valid and reasonable, I think it&#39;s good to point out that maybe checking for null isn&#39;t necessary &quot;good practice&quot;. (Assuming readers other than the OP might take the question as dogmatic)\r\n\r\nFrom Misko Hevery blog on testability:\r\n[To Assert or Not To Assert][1]\r\n\r\n\r\n  [1]: http://misko.hevery.com/2009/02/09/to-assert-or-not-to-assert/","title":"Java constructor style: check parameters aren&#39;t null","body":"<p>Apart from the answers given above which are all valid and reasonable, I think it's good to point out that maybe checking for null isn't necessary \"good practice\". (Assuming readers other than the OP might take the question as dogmatic)</p>\n\n<p>From Misko Hevery blog on testability:\n<a href=\"http://misko.hevery.com/2009/02/09/to-assert-or-not-to-assert/\" rel=\"nofollow noreferrer\">To Assert or Not To Assert</a></p>\n"},{"tags":[],"owner":{"account_id":349877,"reputation":676,"user_id":685422,"accept_rate":71,"display_name":"uthomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1301570689,"creation_date":1301570689,"answer_id":5499033,"question_id":2997768,"body_markdown":"I assume that you talk about the built in `assert` in Java. In my opinion it&#39;s not a really good idea to use it. Since it can be turned on/off using command line parameters. [Therefore some says it is only acceptable to use in private methods.][1]\r\n\r\nMy mentors are telling me not to re-invent the wheel! Their advice is to use libraries. They are (probably) well designed and tested. Of course it is your responsibility to make sure you grab a good-quality library.\r\n\r\nOthers are telling me that Enterprise ppl - in some terms - are wrong and you introduce more dependency - for simple tasks - than required. I can accept that point too... But here is my latest experience:\r\n\r\nFirst I wrote my own private method to check null parameters. It&#39;s boring and redundant. I know I should put it into a Utility class. But why should I write it at the first place, when someone has already has done it? I can save time not writing unit test and design an existing stuff. Unless you want to exercise or learn I wouldn&#39;t recommend to do so.\r\n\r\nI recently started to use google&#39;s guava and I find that - along with apache commons - once you start to use them, you won&#39;t use just for that one single method. You&#39;ll discover and use it more and more. At the end, this&#39;ll make your code shorter, more readable, more consistent and more maintainable.\r\n\r\nBTW.: Depending on your aims I would go with 2 or 3 using one of the mentioned library above...\r\n\r\n  [1]: http://www.javapractices.com/topic/TopicAction.do?Id=100","title":"Java constructor style: check parameters aren&#39;t null","body":"<p>I assume that you talk about the built in <code>assert</code> in Java. In my opinion it's not a really good idea to use it. Since it can be turned on/off using command line parameters. <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=100\" rel=\"nofollow\">Therefore some says it is only acceptable to use in private methods.</a></p>\n\n<p>My mentors are telling me not to re-invent the wheel! Their advice is to use libraries. They are (probably) well designed and tested. Of course it is your responsibility to make sure you grab a good-quality library.</p>\n\n<p>Others are telling me that Enterprise ppl - in some terms - are wrong and you introduce more dependency - for simple tasks - than required. I can accept that point too... But here is my latest experience:</p>\n\n<p>First I wrote my own private method to check null parameters. It's boring and redundant. I know I should put it into a Utility class. But why should I write it at the first place, when someone has already has done it? I can save time not writing unit test and design an existing stuff. Unless you want to exercise or learn I wouldn't recommend to do so.</p>\n\n<p>I recently started to use google's guava and I find that - along with apache commons - once you start to use them, you won't use just for that one single method. You'll discover and use it more and more. At the end, this'll make your code shorter, more readable, more consistent and more maintainable.</p>\n\n<p>BTW.: Depending on your aims I would go with 2 or 3 using one of the mentioned library above...</p>\n"},{"tags":[],"owner":{"account_id":3612161,"reputation":3430,"user_id":3012916,"display_name":"nekperu15739"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429085463,"creation_date":1429085463,"answer_id":29644929,"question_id":2997768,"body_markdown":"Comparison of Ways to Check Preconditions in Java - Guava vs. Apache Commons vs. Spring Framework vs. Plain Java Asserts\r\n\r\n    public static void fooSpringFrameworkAssert(String name, int start, int end) {\r\n    \t\t// Preconditions\r\n    \t\tAssert.notNull(name, &quot;Name must not be null&quot;);\r\n    \t\tAssert.isTrue(start &lt; end, &quot;Start (&quot; + start + &quot;) must be smaller than end (&quot; + end + &quot;)&quot;);\r\n    \r\n    \t\t// Do something here ...\r\n    \t}\r\n    \r\n    \tpublic static void fooApacheCommonsValidate(String name, int start, int end) {\r\n    \t\t// Preconditions\r\n    \t\tValidate.notNull(name, &quot;Name must not be null&quot;);\r\n    \t\tValidate.isTrue(start &lt; end, &quot;Start (%s) must be smaller than end (%s)&quot;, start, end);\r\n    \r\n    \t\t// Do something here ...\r\n    \t}\r\n    \r\n    \tpublic static void fooGuavaPreconditions(String name, int start, int end) {\r\n    \t\t// Preconditions\r\n    \t\tPreconditions.checkNotNull(name, &quot;Name must not be null&quot;);\r\n    \t\tPreconditions.checkArgument(start &lt; end, &quot;Start (%s) must be smaller than end (%s)&quot;, start, end);\r\n    \r\n    \t\t// Do something here ...\r\n    \t}\r\n    \r\n    \tpublic static void fooPlainJavaAsserts(String name, int start, int end) {\r\n    \t\t// Preconditions\r\n    \t\tassert null != name : &quot;Name must not be null&quot;;\r\n    \t\tassert start &lt; end : &quot;Start (&quot; + start + &quot;) must be smaller than end (&quot; + end + &quot;)&quot;;\r\n    \r\n    \t\t// Do something here ...\r\n    \t}\r\n\r\n\r\nthis is summary of this article:\r\nhttp://www.sw-engineering-candies.com/blog-1/comparison-of-ways-to-check-preconditions-in-java","title":"Java constructor style: check parameters aren&#39;t null","body":"<p>Comparison of Ways to Check Preconditions in Java - Guava vs. Apache Commons vs. Spring Framework vs. Plain Java Asserts</p>\n\n<pre><code>public static void fooSpringFrameworkAssert(String name, int start, int end) {\n        // Preconditions\n        Assert.notNull(name, \"Name must not be null\");\n        Assert.isTrue(start &lt; end, \"Start (\" + start + \") must be smaller than end (\" + end + \")\");\n\n        // Do something here ...\n    }\n\n    public static void fooApacheCommonsValidate(String name, int start, int end) {\n        // Preconditions\n        Validate.notNull(name, \"Name must not be null\");\n        Validate.isTrue(start &lt; end, \"Start (%s) must be smaller than end (%s)\", start, end);\n\n        // Do something here ...\n    }\n\n    public static void fooGuavaPreconditions(String name, int start, int end) {\n        // Preconditions\n        Preconditions.checkNotNull(name, \"Name must not be null\");\n        Preconditions.checkArgument(start &lt; end, \"Start (%s) must be smaller than end (%s)\", start, end);\n\n        // Do something here ...\n    }\n\n    public static void fooPlainJavaAsserts(String name, int start, int end) {\n        // Preconditions\n        assert null != name : \"Name must not be null\";\n        assert start &lt; end : \"Start (\" + start + \") must be smaller than end (\" + end + \")\";\n\n        // Do something here ...\n    }\n</code></pre>\n\n<p>this is summary of this article:\n<a href=\"http://www.sw-engineering-candies.com/blog-1/comparison-of-ways-to-check-preconditions-in-java\" rel=\"nofollow\">http://www.sw-engineering-candies.com/blog-1/comparison-of-ways-to-check-preconditions-in-java</a></p>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":1,"up_vote_count":72,"is_accepted":false,"score":71,"last_activity_date":1674719485,"creation_date":1453121066,"answer_id":34855129,"question_id":2997768,"body_markdown":"Java 7 added `java.util.Objects.requireNonNull()` to the APIs everybody can use. So checking all arguments for null boils down to a short list like:\r\n\r\n    this.arg1 = Objects.requireNonNull(arg1, &quot;arg1 must not be null&quot;);\r\n    this.arg2 = Objects.requireNonNull(arg2, &quot;arg2 must not be null&quot;);\r\n\r\nSide notes:\r\n\r\n - make sure to not reverse the two arguments - the **second one** is the message that will be used for the NPE which is thrown if the **first argument** is null (if you reverse them, well, then your check will never fail)\r\n - another best practice: if possible, make all your class members final (so you can be sure: when some object has been created successfully, all its members are not null; and they won&#39;t change over time)","title":"Java constructor style: check parameters aren&#39;t null","body":"<p>Java 7 added <code>java.util.Objects.requireNonNull()</code> to the APIs everybody can use. So checking all arguments for null boils down to a short list like:</p>\n<pre><code>this.arg1 = Objects.requireNonNull(arg1, &quot;arg1 must not be null&quot;);\nthis.arg2 = Objects.requireNonNull(arg2, &quot;arg2 must not be null&quot;);\n</code></pre>\n<p>Side notes:</p>\n<ul>\n<li>make sure to not reverse the two arguments - the <strong>second one</strong> is the message that will be used for the NPE which is thrown if the <strong>first argument</strong> is null (if you reverse them, well, then your check will never fail)</li>\n<li>another best practice: if possible, make all your class members final (so you can be sure: when some object has been created successfully, all its members are not null; and they won't change over time)</li>\n</ul>\n"}],"owner":{"display_name":"user130076"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100120,"favorite_count":0,"down_vote_count":1,"up_vote_count":83,"accepted_answer_id":2997811,"answer_count":10,"score":82,"last_activity_date":1674719485,"creation_date":1276004395,"question_id":2997768,"body_markdown":"What are the best practices if you have a class which accepts some parameters but none of them are allowed to be `null`?\r\n\r\nThe following is obvious but the exception is a little unspecific:\r\n\r\n    public class SomeClass\r\n    {\r\n         public SomeClass(Object one, Object two)\r\n         {\r\n            if (one == null || two == null)\r\n            {\r\n                throw new IllegalArgumentException(&quot;Parameters can&#39;t be null&quot;);\r\n            }\r\n            //...\r\n         }\r\n    }\r\n\r\nHere the exceptions let you know which parameter is null, but the constructor is now pretty ugly:\r\n\r\n    public class SomeClass\r\n    {\r\n         public SomeClass(Object one, Object two)\r\n         {\r\n            if (one == null)\r\n            {\r\n                throw new IllegalArgumentException(&quot;one can&#39;t be null&quot;);\r\n            }           \r\n            if (two == null)\r\n            {\r\n                throw new IllegalArgumentException(&quot;two can&#39;t be null&quot;);\r\n            }\r\n            //...\r\n      }\r\n\r\nHere the constructor is neater, but now the constructor code isn&#39;t really in the constructor:\r\n\r\n    public class SomeClass\r\n    {\r\n         public SomeClass(Object one, Object two)\r\n         {\r\n            setOne(one);\r\n            setTwo(two);\r\n         }\r\n\r\n\r\n         public void setOne(Object one)\r\n         {\r\n            if (one == null)\r\n            {\r\n                throw new IllegalArgumentException(&quot;one can&#39;t be null&quot;);\r\n            }           \r\n            //...\r\n         }\r\n\r\n         public void setTwo(Object two)\r\n         {\r\n            if (two == null)\r\n            {\r\n                throw new IllegalArgumentException(&quot;two can&#39;t be null&quot;);\r\n            }\r\n            //...\r\n         }\r\n      }\r\n\r\nWhich of these styles is best? \r\n\r\nOr is there an alternative which is more widely accepted?","title":"Java constructor style: check parameters aren&#39;t null","body":"<p>What are the best practices if you have a class which accepts some parameters but none of them are allowed to be <code>null</code>?</p>\n\n<p>The following is obvious but the exception is a little unspecific:</p>\n\n<pre><code>public class SomeClass\n{\n     public SomeClass(Object one, Object two)\n     {\n        if (one == null || two == null)\n        {\n            throw new IllegalArgumentException(\"Parameters can't be null\");\n        }\n        //...\n     }\n}\n</code></pre>\n\n<p>Here the exceptions let you know which parameter is null, but the constructor is now pretty ugly:</p>\n\n<pre><code>public class SomeClass\n{\n     public SomeClass(Object one, Object two)\n     {\n        if (one == null)\n        {\n            throw new IllegalArgumentException(\"one can't be null\");\n        }           \n        if (two == null)\n        {\n            throw new IllegalArgumentException(\"two can't be null\");\n        }\n        //...\n  }\n</code></pre>\n\n<p>Here the constructor is neater, but now the constructor code isn't really in the constructor:</p>\n\n<pre><code>public class SomeClass\n{\n     public SomeClass(Object one, Object two)\n     {\n        setOne(one);\n        setTwo(two);\n     }\n\n\n     public void setOne(Object one)\n     {\n        if (one == null)\n        {\n            throw new IllegalArgumentException(\"one can't be null\");\n        }           \n        //...\n     }\n\n     public void setTwo(Object two)\n     {\n        if (two == null)\n        {\n            throw new IllegalArgumentException(\"two can't be null\");\n        }\n        //...\n     }\n  }\n</code></pre>\n\n<p>Which of these styles is best? </p>\n\n<p>Or is there an alternative which is more widely accepted?</p>\n"},{"tags":["javascript","java","html","jsp"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674718195,"post_id":75243181,"comment_id":132774457,"body_markdown":"Do not use db connections directly in a jsp","body":"Do not use db connections directly in a jsp"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674718426,"post_id":75243181,"comment_id":132774500,"body_markdown":"You can&#39;t access `DBname` in the scriptlet as they&#39;re executed at different times. The scriptlet is executed on the server, i.e. when the page is constructed, the JavaScript code runs in the browser, i.e. _after_ the page has been delivered.","body":"You can&#39;t access <code>DBname</code> in the scriptlet as they&#39;re executed at different times. The scriptlet is executed on the server, i.e. when the page is constructed, the JavaScript code runs in the browser, i.e. <i>after</i> the page has been delivered."},{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1674720896,"post_id":75243181,"comment_id":132775088,"body_markdown":"[What is the difference between client-side and server-side programming?](https://stackoverflow.com/q/13840429)","body":"<a href=\"https://stackoverflow.com/q/13840429\">What is the difference between client-side and server-side programming?</a>"}],"owner":{"account_id":27624538,"reputation":21,"user_id":21084789,"display_name":"SENTHILKUMAR S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1674718162,"creation_date":1674718114,"question_id":75243181,"body_markdown":"    &lt;select name=&quot;DB&quot;&gt;\r\n    &lt;option value=&quot;findmaximum&quot; onclick=&quot;functionse()&quot; style=font-size:20px&gt;findmaximum&lt;/option&gt;\r\n    &lt;option value=&quot;marklist&quot; onclick=&quot;functionse()&quot;style=font-size:20px&gt;marklist&lt;/option&gt;\r\n    &lt;/select&gt;\r\n    \r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n    \r\n    function functionse(){\r\n    \tvar DBname=document.getElementsByName(&#39;DB&#39;);\r\n    \t\r\n    \t&lt;%\r\n    \t\tString DBname = (String) request.getAttribute(&quot;DB&quot;);\r\n                    System.out.println(DBname);\r\n                    ResultSet resultsettable=DBconnector.tables(DBname);\r\n                   String Tablenames[]=new String[0];\r\n    \t\tint i=0;\r\n    \twhile(resultsettable.next()){\r\n    \t   String Tablename=resultsettable.getString(&quot;TABLE_NAME&quot;);\r\n    \t\tTablenames[i++]=Tablename;\r\n    \t\t}\r\n    \r\n           %&gt;\r\n    }\r\n\r\nprint DBname vaule but return null\r\n","title":"How to assign js value to the java variable?","body":"<pre><code>&lt;select name=&quot;DB&quot;&gt;\n&lt;option value=&quot;findmaximum&quot; onclick=&quot;functionse()&quot; style=font-size:20px&gt;findmaximum&lt;/option&gt;\n&lt;option value=&quot;marklist&quot; onclick=&quot;functionse()&quot;style=font-size:20px&gt;marklist&lt;/option&gt;\n&lt;/select&gt;\n\n&lt;script type=&quot;text/javascript&quot;&gt;\n\nfunction functionse(){\n    var DBname=document.getElementsByName('DB');\n    \n    &lt;%\n        String DBname = (String) request.getAttribute(&quot;DB&quot;);\n                System.out.println(DBname);\n                ResultSet resultsettable=DBconnector.tables(DBname);\n               String Tablenames[]=new String[0];\n        int i=0;\n    while(resultsettable.next()){\n       String Tablename=resultsettable.getString(&quot;TABLE_NAME&quot;);\n        Tablenames[i++]=Tablename;\n        }\n\n       %&gt;\n}\n</code></pre>\n<p>print DBname vaule but return null</p>\n"},{"tags":["java","flutter","visual-studio-code","gradle"],"answers":[{"tags":[],"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674523404,"creation_date":1674523404,"answer_id":75216637,"question_id":75213744,"body_markdown":"&gt; Unsupported class file major version 63\r\n\r\nAs far as I know, class file major version 63 needs [java19][1].\r\n\r\nI think you have to update it.\r\n\r\n\r\n  [1]: https://www.oracle.com/news/announcement/oracle-releases-java-19-2022-09-20/","title":"Problem running ./gradlew signingReport on vs code","body":"<blockquote>\n<p>Unsupported class file major version 63</p>\n</blockquote>\n<p>As far as I know, class file major version 63 needs <a href=\"https://www.oracle.com/news/announcement/oracle-releases-java-19-2022-09-20/\" rel=\"nofollow noreferrer\">java19</a>.</p>\n<p>I think you have to update it.</p>\n"},{"tags":[],"owner":{"account_id":20967162,"reputation":381,"user_id":15405114,"display_name":"Usaid Asif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674718125,"creation_date":1674718125,"answer_id":75243182,"question_id":75213744,"body_markdown":"If you are on java-19 do this to solve this error:-\r\n\r\n[Unsupported class file major version 63][1]\r\n\r\njust go at your project folder and then open android/gradle/wrapper/gradle-wrapper-properties \r\n\r\nthen change this :- \r\n\r\ndistributionUrl=https://services.gradle.org/distributions/gradle-7.4-all.zip \r\n\r\nTo This :- \r\n\r\ndistributionUrl=https://services.gradle.org/distributions/gradle-7.6-all.zip \r\n\r\nand then your issue get solved &#128513;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MujYC.jpg","title":"Problem running ./gradlew signingReport on vs code","body":"<p>If you are on java-19 do this to solve this error:-</p>\n<p><a href=\"https://i.stack.imgur.com/MujYC.jpg\" rel=\"nofollow noreferrer\">Unsupported class file major version 63</a></p>\n<p>just go at your project folder and then open android/gradle/wrapper/gradle-wrapper-properties</p>\n<p>then change this :-</p>\n<p>distributionUrl=https://services.gradle.org/distributions/gradle-7.4-all.zip</p>\n<p>To This :-</p>\n<p>distributionUrl=https://services.gradle.org/distributions/gradle-7.6-all.zip</p>\n<p>and then your issue get solved 😁</p>\n"}],"owner":{"account_id":17869020,"reputation":83,"user_id":12980737,"display_name":"Abraham Tellez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674718125,"creation_date":1674499698,"question_id":75213744,"body_markdown":"I&#39;m working on a flutter project in vs code, and I&#39;m trying to run ```./gradlew signingReport``` to get the SHA1 certificate but when I try to run that I get the following error message:\r\n\r\n\r\n&gt;Could not compile build file &#39;C:\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\cloud_firestore-4.3.1\\android\\build.gradle&#39;. \r\nstartup failed:\r\nGeneral error during conversion: Unsupported class file major version 63\r\n\r\n\r\nI&#39;ve looked around and there seems to be some kind of problem with the way the java versions are set up, but I don&#39;t know what or where to change.\r\n\r\nIf you need more information from me to help me solve this please tell me what can I provide, this is driving me crazy.","title":"Problem running ./gradlew signingReport on vs code","body":"<p>I'm working on a flutter project in vs code, and I'm trying to run <code>./gradlew signingReport</code> to get the SHA1 certificate but when I try to run that I get the following error message:</p>\n<blockquote>\n<p>Could not compile build file 'C:\\src\\flutter.pub-cache\\hosted\\pub.dartlang.org\\cloud_firestore-4.3.1\\android\\build.gradle'.\nstartup failed:\nGeneral error during conversion: Unsupported class file major version 63</p>\n</blockquote>\n<p>I've looked around and there seems to be some kind of problem with the way the java versions are set up, but I don't know what or where to change.</p>\n<p>If you need more information from me to help me solve this please tell me what can I provide, this is driving me crazy.</p>\n"},{"tags":["java","servlets","classloader","weblogic-10.x","log4j2"],"answers":[{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411636376,"creation_date":1411636376,"answer_id":26034721,"question_id":26025727,"body_markdown":"Unfortunately by far the easiest solution that I am aware of is to include the log4j2 libraries in WEB-INF/lib of each web application...\r\n\r\nIf the log4j2 jar files are in the shared library directory, they are loaded by the shared classloader, and the configuration is shared between all web applications. This is how web containers and log4j2 are designed...\r\n\r\nI would focus on this size constraint you mention. Why is there a size constraint on your war file? Perhaps there is another way to get around this size constraint? Would buying extra hard disk or a bigger server solve the issue? (Hardware is much much cheaper than the time you and perhaps your dev team are spending on this...)\r\n\r\nIf you are really desperate you can try to have one configuration with differently named loggers that log to different files or filter on different levels. When your application calls LogManager.getLogger, the string you pass becomes the name of the logger. This string can be used in the configuration to control filtering and the target appender. One thing you can do in your application, is giving loggers application-unique names like this:\r\n\r\n    // App.getPrefix() returns &quot;app1.&quot; or &quot;app2.&quot; etc: a unique name for each web app\r\n    Logger logger = LogManager.getLogger(App.getPrefix() + getClass().getName());\r\n\r\nThen have different loggers and appenders in your configuration:\r\n\r\n    &lt;Configuration status=&quot;debug&quot;&gt;\r\n      &lt;Appenders&gt;\r\n         &lt;File name=&quot;app1File&quot; ... \r\n         &lt;File name=&quot;app2File&quot; ... \r\n      &lt;/Appenders&gt;\r\n      &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;app1&quot; level=&quot;TRACE&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;app1File&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Logger name=&quot;app2&quot; level=&quot;TRACE&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;app2File&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n      &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nThis is obviously a bit of a hack, and won&#39;t work for the classes outside your dev team&#39;s control...\r\n\r\nYou can also ask on the log4j-user mailing list to see if any of the other log4j2 team members have any ideas.","title":"separate log4j2 files for web applications in single weblogic container","body":"<p>Unfortunately by far the easiest solution that I am aware of is to include the log4j2 libraries in WEB-INF/lib of each web application...</p>\n\n<p>If the log4j2 jar files are in the shared library directory, they are loaded by the shared classloader, and the configuration is shared between all web applications. This is how web containers and log4j2 are designed...</p>\n\n<p>I would focus on this size constraint you mention. Why is there a size constraint on your war file? Perhaps there is another way to get around this size constraint? Would buying extra hard disk or a bigger server solve the issue? (Hardware is much much cheaper than the time you and perhaps your dev team are spending on this...)</p>\n\n<p>If you are really desperate you can try to have one configuration with differently named loggers that log to different files or filter on different levels. When your application calls LogManager.getLogger, the string you pass becomes the name of the logger. This string can be used in the configuration to control filtering and the target appender. One thing you can do in your application, is giving loggers application-unique names like this:</p>\n\n<pre><code>// App.getPrefix() returns \"app1.\" or \"app2.\" etc: a unique name for each web app\nLogger logger = LogManager.getLogger(App.getPrefix() + getClass().getName());\n</code></pre>\n\n<p>Then have different loggers and appenders in your configuration:</p>\n\n<pre><code>&lt;Configuration status=\"debug\"&gt;\n  &lt;Appenders&gt;\n     &lt;File name=\"app1File\" ... \n     &lt;File name=\"app2File\" ... \n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Logger name=\"app1\" level=\"TRACE\"&gt;\n      &lt;AppenderRef ref=\"app1File\"/&gt;\n    &lt;/Logger&gt;\n    &lt;Logger name=\"app2\" level=\"TRACE\"&gt;\n      &lt;AppenderRef ref=\"app2File\"/&gt;\n    &lt;/Logger&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>This is obviously a bit of a hack, and won't work for the classes outside your dev team's control...</p>\n\n<p>You can also ask on the log4j-user mailing list to see if any of the other log4j2 team members have any ideas.</p>\n"},{"tags":[],"owner":{"account_id":19826690,"reputation":27,"user_id":14522134,"display_name":"Ravendhar Kumar Lalwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674717794,"creation_date":1674717794,"answer_id":75243138,"question_id":26025727,"body_markdown":"I have the same problem but using Tomcat9. I resolved this by explicitly providing a configuration location to each application when it is initializing logger context through a listener.\r\n\r\n    URL configLocation = Class.forName(&quot;com.example.MyAppListener&quot;).getResource(&quot;/log4j2.xml&quot;);\r\n    LoggerContext context = (LoggerContext) LogManager.getContext(false);\r\n    context.setConfigLocation(configLocation.toURI());\r\n    if(!context.isInitialized()) {\r\n        context.initialize();\r\n    }else {\r\n        context.reconfigure();\r\n    }","title":"separate log4j2 files for web applications in single weblogic container","body":"<p>I have the same problem but using Tomcat9. I resolved this by explicitly providing a configuration location to each application when it is initializing logger context through a listener.</p>\n<pre><code>URL configLocation = Class.forName(&quot;com.example.MyAppListener&quot;).getResource(&quot;/log4j2.xml&quot;);\nLoggerContext context = (LoggerContext) LogManager.getContext(false);\ncontext.setConfigLocation(configLocation.toURI());\nif(!context.isInitialized()) {\n    context.initialize();\n}else {\n    context.reconfigure();\n}\n</code></pre>\n"}],"owner":{"account_id":3686439,"reputation":21,"user_id":3070138,"display_name":"user3070138"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1365,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674717794,"creation_date":1411589901,"question_id":26025727,"body_markdown":"We have following Set up:\r\n\r\nApplication Server : Weblogic 10.3.6\r\n\r\nWe have 2 Managed Servers and we have 3 web applications wars deployed on both the managed servers.\r\nAll log4j2 jars are kept in server lib and loaded on server start up.\r\n\r\nNow we want each web application to have its own logj2 configuration as we want to have control on logs levels.\r\n\r\nwe made separate log4j2 configuration file for each web application using tried initialising same using log4j2-web.jar in web.xml but we observed that when we load first web application, the log4j2 configuration file get loaded but when we try to load 2nd and 3rd web application,with their separate log4j config xmls,it doesnt load the new config file but sets log4j2 configurations of first web applications which got deployed first.\r\n\r\nI tried to debug same and got to the point that as log4j2 jars are present in server class loader so they are common to all web application and log4j2 uses class loader to load logger context.\r\n\r\nNow i want each application to have its separate log4j2 implementation which will not be common to other web application.so logging will be different for each application.\r\n\r\nKindly note, i cannot copy log4j2 libraries in WEB-INF/lib of each web applications as we already have size constrain for war.\r\n\r\nKindly suggest how can i implement separate log4j2 configuration for each web application in single weblogic container.\r\n\r\nI tried to use JNDIContextSelector but its not working in Weblogic or i dont know how to make it work in weblogic as after doing all the required changes mentioned in log4j2 website,it was not able to find loggers.\r\n\r\n\r\nKindly help as i m stuck in same issue from last week.\r\n\r\n","title":"separate log4j2 files for web applications in single weblogic container","body":"<p>We have following Set up:</p>\n\n<p>Application Server : Weblogic 10.3.6</p>\n\n<p>We have 2 Managed Servers and we have 3 web applications wars deployed on both the managed servers.\nAll log4j2 jars are kept in server lib and loaded on server start up.</p>\n\n<p>Now we want each web application to have its own logj2 configuration as we want to have control on logs levels.</p>\n\n<p>we made separate log4j2 configuration file for each web application using tried initialising same using log4j2-web.jar in web.xml but we observed that when we load first web application, the log4j2 configuration file get loaded but when we try to load 2nd and 3rd web application,with their separate log4j config xmls,it doesnt load the new config file but sets log4j2 configurations of first web applications which got deployed first.</p>\n\n<p>I tried to debug same and got to the point that as log4j2 jars are present in server class loader so they are common to all web application and log4j2 uses class loader to load logger context.</p>\n\n<p>Now i want each application to have its separate log4j2 implementation which will not be common to other web application.so logging will be different for each application.</p>\n\n<p>Kindly note, i cannot copy log4j2 libraries in WEB-INF/lib of each web applications as we already have size constrain for war.</p>\n\n<p>Kindly suggest how can i implement separate log4j2 configuration for each web application in single weblogic container.</p>\n\n<p>I tried to use JNDIContextSelector but its not working in Weblogic or i dont know how to make it work in weblogic as after doing all the required changes mentioned in log4j2 website,it was not able to find loggers.</p>\n\n<p>Kindly help as i m stuck in same issue from last week.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1674717367,"post_id":75243006,"comment_id":132774292,"body_markdown":"I do not trust `pow()` with integers, but that might just be because I am more at home in a different language.","body":"I do not trust <code>pow()</code> with integers, but that might just be because I am more at home in a different language."}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674717470,"creation_date":1674717128,"answer_id":75243059,"question_id":75243006,"body_markdown":"For large integers (like 90625), squaring it (`copy * copy`) will result in an integer overflow.\r\n\r\nIf you print the value of `copy * copy` for 90625, you&#39;ll get -377043967.\r\n\r\nTo fix this, you can make the variable `copy` of type `long`. \r\n\r\n\r\nHowever, you have to decide what is the maximum or largest number you&#39;ll ever want this to work for. If the square of that number won&#39;t fit within the bounds of a `long`, then you&#39;d have to use a BigInteger. Since you had the input as an `int`, using a `long` should be good enough for you (A `long` can hold the result of `Integer.MAX_VALUE * Integer.MAX_VALUE`).","title":"Not getting the correct response for an automorphic number","body":"<p>For large integers (like 90625), squaring it (<code>copy * copy</code>) will result in an integer overflow.</p>\n<p>If you print the value of <code>copy * copy</code> for 90625, you'll get -377043967.</p>\n<p>To fix this, you can make the variable <code>copy</code> of type <code>long</code>.</p>\n<p>However, you have to decide what is the maximum or largest number you'll ever want this to work for. If the square of that number won't fit within the bounds of a <code>long</code>, then you'd have to use a BigInteger. Since you had the input as an <code>int</code>, using a <code>long</code> should be good enough for you (A <code>long</code> can hold the result of <code>Integer.MAX_VALUE * Integer.MAX_VALUE</code>).</p>\n"}],"owner":{"display_name":"user21084845"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75243059,"answer_count":1,"score":0,"last_activity_date":1674717619,"creation_date":1674716641,"question_id":75243006,"body_markdown":"I was writing a program to check if a number is automorphic or not. I decided to test the program. But somehow, when I entered a number greater than 9376, it said that it was not an automorphic number.\r\n\r\nLink for automorphic number: [Automorphic number](https://en.wikipedia.org/wiki/Automorphic_number)\r\n```\r\nimport java.util.Scanner;\r\npublic class test{\r\n    public static void main(String[] args) {\r\n        Scanner sc=new Scanner(System.in);\r\n        int n=sc.nextInt();\r\n        int copy=n,ex=0;\r\n        while(n!=0){\r\n            n/=10;\r\n            ex++;\r\n        }\r\n        if((copy*copy)%(Math.pow(10,ex))==copy){\r\n            System.out.println(copy+&quot; is an automorphic number.&quot;);\r\n        }\r\n        else{\r\n            System.out.println(copy+&quot; is not an automorphic number.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried it with 5, 25, 76, 376 and it gave me the correct response. But when I entered 90625 or other numbers, it replied in negative.\r\n\r\nOutput for reference:\r\n```\r\n90625\r\n90625 is not an automorphic number.\r\n9376\r\n9376 is an automorphic number.\r\n```\r\n","title":"Not getting the correct response for an automorphic number","body":"<p>I was writing a program to check if a number is automorphic or not. I decided to test the program. But somehow, when I entered a number greater than 9376, it said that it was not an automorphic number.</p>\n<p>Link for automorphic number: <a href=\"https://en.wikipedia.org/wiki/Automorphic_number\" rel=\"nofollow noreferrer\">Automorphic number</a></p>\n<pre><code>import java.util.Scanner;\npublic class test{\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        int n=sc.nextInt();\n        int copy=n,ex=0;\n        while(n!=0){\n            n/=10;\n            ex++;\n        }\n        if((copy*copy)%(Math.pow(10,ex))==copy){\n            System.out.println(copy+&quot; is an automorphic number.&quot;);\n        }\n        else{\n            System.out.println(copy+&quot; is not an automorphic number.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I tried it with 5, 25, 76, 376 and it gave me the correct response. But when I entered 90625 or other numbers, it replied in negative.</p>\n<p>Output for reference:</p>\n<pre><code>90625\n90625 is not an automorphic number.\n9376\n9376 is an automorphic number.\n</code></pre>\n"},{"tags":["java","c++","windows","java-native-interface"],"owner":{"account_id":12938905,"reputation":107,"user_id":10753724,"display_name":"Devorious"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674722208,"answer_count":0,"score":0,"last_activity_date":1674717224,"creation_date":1674717224,"question_id":75243074,"body_markdown":"In order to use JNI, you have to add inside **Environment Variables** (User or System) the path to were **jvm.dll** is located. You have a few ways to do that, but it is possible. But, is there a way to not have to add the path inside **Environment Variables** and instead when you call the function to create a VM from C++ to tell it where it is located via **JavaVMInitArgs**, or maybe **JavaVMOption**, or in any other way, but like I said without having to add the path in **Environment Variables**?","title":"Using JNI without having to add jvm.dll path inside Environment Variables (User or System)","body":"<p>In order to use JNI, you have to add inside <strong>Environment Variables</strong> (User or System) the path to were <strong>jvm.dll</strong> is located. You have a few ways to do that, but it is possible. But, is there a way to not have to add the path inside <strong>Environment Variables</strong> and instead when you call the function to create a VM from C++ to tell it where it is located via <strong>JavaVMInitArgs</strong>, or maybe <strong>JavaVMOption</strong>, or in any other way, but like I said without having to add the path in <strong>Environment Variables</strong>?</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":321181,"reputation":2211,"user_id":639849,"display_name":"Michael"},"score":0,"creation_date":1335247694,"post_id":10292514,"comment_id":13243389,"body_markdown":"Is there more direction you can provide about the problem?  What is the input, where are you getting it from, what are you trying?","body":"Is there more direction you can provide about the problem?  What is the input, where are you getting it from, what are you trying?"},{"owner":{"account_id":964149,"reputation":478,"user_id":987910,"display_name":"Nashwan D"},"score":0,"creation_date":1335248778,"post_id":10292514,"comment_id":13243644,"body_markdown":"The Proplem is when I try to get a Objcet[] array usin gson.fromJson() I get a null vule , I get this JSON array from a PHP page :","body":"The Proplem is when I try to get a Objcet[] array usin gson.fromJson() I get a null vule , I get this JSON array from a PHP page :"}],"answers":[{"tags":[],"owner":{"account_id":1288644,"reputation":893,"user_id":1241197,"display_name":"Kirstein"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1335249153,"creation_date":1335249153,"answer_id":10292824,"question_id":10292514,"body_markdown":"To deserialize a JSONArray you need to use TypeToken. You can read more about it from [GSON user guide][1]. Example code:\r\n\r\n    @Test\r\n    public void JSON() {\r\n        Gson gson = new Gson();\r\n        Type listType = new TypeToken&lt;List&lt;MyObject&gt;&gt;(){}.getType();\r\n        // In this test code i just shove the JSON here as string.\r\n        List&lt;Asd&gt; asd = gson.fromJson(&quot;[{&#39;name&#39;:\\&quot;test1\\&quot;}, {&#39;name&#39;:\\&quot;test2\\&quot;}]&quot;, listType);\r\n    }\r\n\r\nIf you have a JSONArray then you can use \r\n    \r\n    ...\r\n    JSONArray jsonArray = ...\r\n    gson.fromJson(jsonArray.toString(), listType);\r\n    ...\r\n  \r\n  [1]: https://sites.google.com/site/gson/gson-user-guide","title":"How to deserialize a JSON array of objects using Gson library?","body":"<p>To deserialize a JSONArray you need to use TypeToken. You can read more about it from <a href=\"https://sites.google.com/site/gson/gson-user-guide\" rel=\"noreferrer\">GSON user guide</a>. Example code:</p>\n\n<pre><code>@Test\npublic void JSON() {\n    Gson gson = new Gson();\n    Type listType = new TypeToken&lt;List&lt;MyObject&gt;&gt;(){}.getType();\n    // In this test code i just shove the JSON here as string.\n    List&lt;Asd&gt; asd = gson.fromJson(\"[{'name':\\\"test1\\\"}, {'name':\\\"test2\\\"}]\", listType);\n}\n</code></pre>\n\n<p>If you have a JSONArray then you can use </p>\n\n<pre><code>...\nJSONArray jsonArray = ...\ngson.fromJson(jsonArray.toString(), listType);\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19551190,"reputation":29,"user_id":14306749,"display_name":"Almaz Salyakhov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674717192,"creation_date":1674717192,"answer_id":75243067,"question_id":10292514,"body_markdown":"For example your service has such response\r\n\r\n[ new SomeObject(), new SomeObject(), new SomeObject() ] - this is jsonArray\r\n\r\nSomeObject - is a class instance of that your array is contains.\r\n\r\n\r\nYou should use special class TypeToken (docs here https://sites.google.com/site/gson/gson-user-guide)\r\n\r\n\r\n    Type type = new TypeToken&lt;List&lt;SomeObject&gt;&gt;(){}.getType();\r\n\r\n\r\n\r\n    String jsonArray = restResponse.getPayload(); - you get response as String\r\n    List&lt;SomeObject &gt; list = new Gson().fromJson(jsonArray, type);\r\n\r\nDone!","title":"How to deserialize a JSON array of objects using Gson library?","body":"<p>For example your service has such response</p>\n<p>[ new SomeObject(), new SomeObject(), new SomeObject() ] - this is jsonArray</p>\n<p>SomeObject - is a class instance of that your array is contains.</p>\n<p>You should use special class TypeToken (docs here <a href=\"https://sites.google.com/site/gson/gson-user-guide\" rel=\"nofollow noreferrer\">https://sites.google.com/site/gson/gson-user-guide</a>)</p>\n<pre><code>Type type = new TypeToken&lt;List&lt;SomeObject&gt;&gt;(){}.getType();\n\n\n\nString jsonArray = restResponse.getPayload(); - you get response as String\nList&lt;SomeObject &gt; list = new Gson().fromJson(jsonArray, type);\n</code></pre>\n<p>Done!</p>\n"}],"owner":{"account_id":964149,"reputation":478,"user_id":987910,"display_name":"Nashwan D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27999,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":10292824,"answer_count":2,"score":20,"last_activity_date":1674717192,"creation_date":1335247391,"question_id":10292514,"body_markdown":"I am facing an issue while I am trying to deserialize a JSON array of objects using the Gson library.\r\n\r\nAn example of the JSON array:\r\n\r\n    [\r\n    \t{&quot;ID&quot;:1,&quot;Title&quot;:&quot;Lion&quot;,&quot;Description&quot;:&quot;bla bla&quot;,&quot;ImageURL&quot;:&quot;http:\\/\\/localhost\\/lion.jpg&quot;},\r\n    \t{&quot;ID&quot;:1,&quot;Title&quot;:&quot;Tiger&quot;,&quot;Description&quot;:&quot;bla bla&quot;,&quot;ImageURL&quot;:&quot;http:\\/\\/localhost\\/tiger.jpg&quot;}\r\n    ]\r\n\r\nWhat do you think? What is the proper Java code to deserialize such a JSON response?","title":"How to deserialize a JSON array of objects using Gson library?","body":"<p>I am facing an issue while I am trying to deserialize a JSON array of objects using the Gson library.</p>\n\n<p>An example of the JSON array:</p>\n\n<pre><code>[\n    {\"ID\":1,\"Title\":\"Lion\",\"Description\":\"bla bla\",\"ImageURL\":\"http:\\/\\/localhost\\/lion.jpg\"},\n    {\"ID\":1,\"Title\":\"Tiger\",\"Description\":\"bla bla\",\"ImageURL\":\"http:\\/\\/localhost\\/tiger.jpg\"}\n]\n</code></pre>\n\n<p>What do you think? What is the proper Java code to deserialize such a JSON response?</p>\n"},{"tags":["java","wildfly","eclipselink","persistence-provider"],"comments":[{"owner":{"account_id":3242245,"reputation":413,"user_id":2734938,"display_name":"Jorge Campins"},"score":0,"creation_date":1668876176,"post_id":74495333,"comment_id":131514852,"body_markdown":"For some reason the first and last line of module.xml are not been shown in this post; first line is &lt;module name=&quot;org.eclipse.persistence&quot; xmlns=&quot;urn:jboss:module:1.9&quot;&gt; and last line is &lt;/module&gt;","body":"For some reason the first and last line of module.xml are not been shown in this post; first line is &lt;module name=&quot;org.eclipse.persistence&quot; xmlns=&quot;urn:jboss:module:1.9&quot;&gt; and last line is &lt;/module&gt;"}],"answers":[{"tags":[],"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668882330,"creation_date":1668882330,"answer_id":74502562,"question_id":74495333,"body_markdown":"Take a look into the [changelog](https://www.wildfly.org/news/2022/01/21/WildFly-2022/):\r\n\r\n```\r\nWe don’t plan to support Jakarta EE 8 in standard WildFly. The WildFly 26.1 releases will be the last that support EE 8.\r\n```\r\nUse [Eclipselink 3.0.0](https://repo1.maven.org/maven2/org/eclipse/persistence/eclipselink/3.0.0-M1/) because it supports Jakarta EE 9 in which all namespaces have been adapted to `jakarta.*` in comparison to the old one `javax.*`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JlouF.png","title":"How to configure WildFly version 27 to use EclipseLink?","body":"<p>Take a look into the <a href=\"https://www.wildfly.org/news/2022/01/21/WildFly-2022/\" rel=\"nofollow noreferrer\">changelog</a>:</p>\n<pre><code>We don’t plan to support Jakarta EE 8 in standard WildFly. The WildFly 26.1 releases will be the last that support EE 8.\n</code></pre>\n<p>Use <a href=\"https://repo1.maven.org/maven2/org/eclipse/persistence/eclipselink/3.0.0-M1/\" rel=\"nofollow noreferrer\">Eclipselink 3.0.0</a> because it supports Jakarta EE 9 in which all namespaces have been adapted to <code>jakarta.*</code> in comparison to the old one <code>javax.*</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/JlouF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JlouF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6725074,"reputation":145,"user_id":7646476,"accept_rate":100,"display_name":"basamoahjnr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674716857,"creation_date":1671001305,"answer_id":74794614,"question_id":74495333,"body_markdown":"add  `&lt;module name=&quot;javax.api&quot;/&gt;` to your dependencies, i also did not add the `filter` attribute to my `resource-root` as that caused an exception loop. Also, if you get a `Failed to define class org.eclipse.persistence.jpa.rs.exceptions.JPARSExceptionMapper`, add `&lt;module name=&quot;javax.ws.rs.api&quot;/&gt;` to the dependencies as well.\r\n\r\nYour final configured module.xml file should look like this:\r\n\r\n    &lt;module name=&quot;org.eclipse.persistence&quot; xmlns=&quot;urn:jboss:module:1.9&quot;&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;jboss.api&quot; value=&quot;public&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;resources&gt;\r\n            &lt;resource-root path=&quot;jipijapa-eclipselink-27.0.0.Final.jar&quot;/&gt;\r\n            &lt;resource-root path=&quot;eclipselink.jar&quot;/&gt;\r\n        &lt;/resources&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;module name=&quot;java.logging&quot;/&gt;\r\n            &lt;module name=&quot;java.management&quot;/&gt;\r\n            &lt;module name=&quot;java.naming&quot;/&gt;\r\n            &lt;module name=&quot;javax.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.annotation.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.enterprise.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.json.api&quot; optional=&quot;true&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.persistence.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.transaction.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.validation.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.xml.bind.api&quot;/&gt;\r\n            &lt;module name=&quot;javax.ws.rs.api&quot;/&gt; \r\n            &lt;module name=&quot;org.antlr&quot;/&gt;\r\n            &lt;module name=&quot;org.apache.commons.collections&quot;/&gt;\r\n            &lt;module name=&quot;org.dom4j&quot;/&gt;\r\n            &lt;module name=&quot;org.jboss.as.jpa.spi&quot;/&gt;\r\n            &lt;module name=&quot;org.jboss.logging&quot;/&gt;\r\n            &lt;module name=&quot;org.jboss.vfs&quot;/&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/module&gt;\r\n\r\n\r\n","title":"How to configure WildFly version 27 to use EclipseLink?","body":"<p>add  <code>&lt;module name=&quot;javax.api&quot;/&gt;</code> to your dependencies, i also did not add the <code>filter</code> attribute to my <code>resource-root</code> as that caused an exception loop. Also, if you get a <code>Failed to define class org.eclipse.persistence.jpa.rs.exceptions.JPARSExceptionMapper</code>, add <code>&lt;module name=&quot;javax.ws.rs.api&quot;/&gt;</code> to the dependencies as well.</p>\n<p>Your final configured module.xml file should look like this:</p>\n<pre><code>&lt;module name=&quot;org.eclipse.persistence&quot; xmlns=&quot;urn:jboss:module:1.9&quot;&gt;\n    &lt;properties&gt;\n        &lt;property name=&quot;jboss.api&quot; value=&quot;public&quot;/&gt;\n    &lt;/properties&gt;\n\n    &lt;resources&gt;\n        &lt;resource-root path=&quot;jipijapa-eclipselink-27.0.0.Final.jar&quot;/&gt;\n        &lt;resource-root path=&quot;eclipselink.jar&quot;/&gt;\n    &lt;/resources&gt;\n\n    &lt;dependencies&gt;\n        &lt;module name=&quot;java.logging&quot;/&gt;\n        &lt;module name=&quot;java.management&quot;/&gt;\n        &lt;module name=&quot;java.naming&quot;/&gt;\n        &lt;module name=&quot;javax.api&quot;/&gt;\n        &lt;module name=&quot;jakarta.annotation.api&quot;/&gt;\n        &lt;module name=&quot;jakarta.enterprise.api&quot;/&gt;\n        &lt;module name=&quot;jakarta.json.api&quot; optional=&quot;true&quot;/&gt;\n        &lt;module name=&quot;jakarta.persistence.api&quot;/&gt;\n        &lt;module name=&quot;jakarta.transaction.api&quot;/&gt;\n        &lt;module name=&quot;jakarta.validation.api&quot;/&gt;\n        &lt;module name=&quot;jakarta.xml.bind.api&quot;/&gt;\n        &lt;module name=&quot;javax.ws.rs.api&quot;/&gt; \n        &lt;module name=&quot;org.antlr&quot;/&gt;\n        &lt;module name=&quot;org.apache.commons.collections&quot;/&gt;\n        &lt;module name=&quot;org.dom4j&quot;/&gt;\n        &lt;module name=&quot;org.jboss.as.jpa.spi&quot;/&gt;\n        &lt;module name=&quot;org.jboss.logging&quot;/&gt;\n        &lt;module name=&quot;org.jboss.vfs&quot;/&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27475687,"reputation":11,"user_id":20963729,"display_name":"bonapat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673257940,"creation_date":1673257940,"answer_id":75055550,"question_id":74495333,"body_markdown":"With Wildfly 27 and Eclipselink 4 the following updated module.xml works (see commented changes):\r\n\r\n    &lt;module name=&quot;org.eclipse.persistence&quot; xmlns=&quot;urn:jboss:module:1.9&quot;&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;jboss.api&quot; value=&quot;public&quot;/&gt;\r\n        &lt;/properties&gt;\r\n\r\n        &lt;resources&gt;\r\n            &lt;resource-root path=&quot;jipijapa-eclipselink-27.0.1.Final.jar&quot;/&gt;\r\n            &lt;!-- Added Eclipselink library  --&gt;\r\n\t\t    &lt;resource-root path=&quot;eclipselink-4.0.0.jar&quot;/&gt;\r\n        &lt;/resources&gt;\r\n\r\n        &lt;dependencies&gt;\r\n            &lt;module name=&quot;java.logging&quot;/&gt;\r\n            &lt;module name=&quot;java.management&quot;/&gt;\r\n            &lt;module name=&quot;java.naming&quot;/&gt;\r\n            &lt;!-- Added rmi dependency used by Eclipselink   --&gt;\r\n\t\t    &lt;module name=&quot;java.rmi&quot;/&gt;\r\n            &lt;!-- Added desktop dependency used by Eclipselink  --&gt;\r\n\t\t    &lt;module name=&quot;java.desktop&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.annotation.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.enterprise.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.json.api&quot; optional=&quot;true&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.persistence.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.transaction.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.validation.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.xml.bind.api&quot;/&gt;\r\n            &lt;module name=&quot;org.antlr&quot;/&gt;\r\n            &lt;module name=&quot;org.jboss.as.jpa.spi&quot;/&gt;\r\n            &lt;module name=&quot;org.jboss.logging&quot;/&gt;\r\n            &lt;module name=&quot;org.jboss.vfs&quot;/&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/module&gt;\r\n\r\n","title":"How to configure WildFly version 27 to use EclipseLink?","body":"<p>With Wildfly 27 and Eclipselink 4 the following updated module.xml works (see commented changes):</p>\n<pre><code>&lt;module name=&quot;org.eclipse.persistence&quot; xmlns=&quot;urn:jboss:module:1.9&quot;&gt;\n    &lt;properties&gt;\n        &lt;property name=&quot;jboss.api&quot; value=&quot;public&quot;/&gt;\n    &lt;/properties&gt;\n\n    &lt;resources&gt;\n        &lt;resource-root path=&quot;jipijapa-eclipselink-27.0.1.Final.jar&quot;/&gt;\n        &lt;!-- Added Eclipselink library  --&gt;\n        &lt;resource-root path=&quot;eclipselink-4.0.0.jar&quot;/&gt;\n    &lt;/resources&gt;\n\n    &lt;dependencies&gt;\n        &lt;module name=&quot;java.logging&quot;/&gt;\n        &lt;module name=&quot;java.management&quot;/&gt;\n        &lt;module name=&quot;java.naming&quot;/&gt;\n        &lt;!-- Added rmi dependency used by Eclipselink   --&gt;\n        &lt;module name=&quot;java.rmi&quot;/&gt;\n        &lt;!-- Added desktop dependency used by Eclipselink  --&gt;\n        &lt;module name=&quot;java.desktop&quot;/&gt;\n        &lt;module name=&quot;jakarta.annotation.api&quot;/&gt;\n        &lt;module name=&quot;jakarta.enterprise.api&quot;/&gt;\n        &lt;module name=&quot;jakarta.json.api&quot; optional=&quot;true&quot;/&gt;\n        &lt;module name=&quot;jakarta.persistence.api&quot;/&gt;\n        &lt;module name=&quot;jakarta.transaction.api&quot;/&gt;\n        &lt;module name=&quot;jakarta.validation.api&quot;/&gt;\n        &lt;module name=&quot;jakarta.xml.bind.api&quot;/&gt;\n        &lt;module name=&quot;org.antlr&quot;/&gt;\n        &lt;module name=&quot;org.jboss.as.jpa.spi&quot;/&gt;\n        &lt;module name=&quot;org.jboss.logging&quot;/&gt;\n        &lt;module name=&quot;org.jboss.vfs&quot;/&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n"}],"owner":{"account_id":3242245,"reputation":413,"user_id":2734938,"display_name":"Jorge Campins"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1674716857,"creation_date":1668805712,"question_id":74495333,"body_markdown":"I am trying to deploy applications currently running on WildFly 26.1.2.Final to WildFly 27.0.0.Final. The deployment fails with the following error:\r\n\r\n    ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.deployment.unit.&quot;jee2ap102-ear.ear&quot;.FIRST_MODULE_USE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;jee2ap102-ear.ear&quot;.FIRST_MODULE_USE: WFLYSRV0153: Failed to process phase FIRST_MODULE_USE of deployment &quot;jee2ap102-ear.ear&quot;\r\n    \tat org.jboss.as.server@19.0.0.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:189)\r\n    \tat org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n    \tat org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n    \tat org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: jakarta.persistence.PersistenceException: WFLYJPA0057: PersistenceProvider &#39;org.eclipse.persistence.jpa.PersistenceProvider&#39; not found\r\n    \tat org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.lookupProvider(PersistenceUnitServiceHandler.java:999)\r\n    \tat org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.nextPhaseDependsOnPersistenceUnit(PersistenceUnitServiceHandler.java:1042)\r\n    \tat org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.deploy(PersistenceUnitServiceHandler.java:138)\r\n    \tat org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.processor.PersistenceBeginInstallProcessor.deploy(PersistenceBeginInstallProcessor.java:52)\r\n    \tat org.jboss.as.server@19.0.0.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)\r\n    \t... 8 more\r\n\r\nI used the same configuration that I have been using for previous versions, that is:\r\n1. Copy eclipselink-2.7.8.jar to C:\\wildfly-27.0.0.Final\\modules\\system\\layers\\base\\org\\eclipse\\persistence\\main.\r\n2. Modify the module.xml file in that directory to add the resource corresponding to eclipselink-2.7.8.jar. Now the file looks like this:\r\n\r\n    &lt;module name=&quot;org.eclipse.persistence&quot; xmlns=&quot;urn:jboss:module:1.9&quot;&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;jboss.api&quot; value=&quot;public&quot;/&gt;\r\n        &lt;/properties&gt;\r\n\r\n        &lt;resources&gt;\r\n            &lt;resource-root path=&quot;jipijapa-eclipselink-27.0.0.Final.jar&quot;/&gt;\r\n            &lt;resource-root path=&quot;eclipselink-2.7.8.jar&quot;&gt;\r\n                &lt;filter&gt;\r\n                    &lt;exclude path=&quot;javax/**&quot; /&gt;\r\n                &lt;/filter&gt;\r\n            &lt;/resource-root&gt;\r\n        &lt;/resources&gt;\r\n\r\n        &lt;dependencies&gt;\r\n            &lt;module name=&quot;java.logging&quot;/&gt;\r\n            &lt;module name=&quot;java.management&quot;/&gt;\r\n            &lt;module name=&quot;java.naming&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.annotation.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.enterprise.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.json.api&quot; optional=&quot;true&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.persistence.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.transaction.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.validation.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.xml.bind.api&quot;/&gt;\r\n            &lt;module name=&quot;org.antlr&quot;/&gt;\r\n            &lt;module name=&quot;org.apache.commons.collections&quot;/&gt;\r\n            &lt;module name=&quot;org.dom4j&quot;/&gt;\r\n            &lt;module name=&quot;org.jboss.as.jpa.spi&quot;/&gt;\r\n            &lt;module name=&quot;org.jboss.logging&quot;/&gt;\r\n            &lt;module name=&quot;org.jboss.vfs&quot;/&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n    &lt;/module&gt;\r\n\r\nThe persistence.xml file had no modifications; it looks like this:\r\n\r\n    &lt;persistence\r\n        version=&quot;2.1&quot;\r\n        xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n        &lt;persistence-unit name=&quot;jee2ap102-ejb-pu&quot; transaction-type=&quot;JTA&quot;&gt;\r\n            &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n            &lt;jta-data-source&gt;jdbc/jee2ap102&lt;/jta-data-source&gt;\r\n            &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;eclipselink.target-server&quot; value=&quot;JBoss&quot;/&gt;\r\n                &lt;property name=&quot;eclipselink.weaving&quot; value=&quot;static&quot;/&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nI&#39;m using the same eclipselink-2.7.8.jar for both WildFly 26 and 27. I&#39;m sure class `org.eclipse.persistence.jpa.PersistenceProvider` is in that jar, but even so WildFly 27 can&#39;t find it.\r\n\r\nEDIT 11/19/2022\r\n\r\nI also tried using eclipselink 3.0.3. It also fails. This is the error message:\r\n\r\n    INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 18) WFLYJPA0003: Starting Persistence Unit Service &#39;jee2ap102-ear.ear/jee2ap102-ejb.jar#jee2ap102-ejb-pu&#39;\r\n    ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 18) MSC000001: Failed to start service jboss.persistenceunit.&quot;jee2ap102-ear.ear/jee2ap102-ejb.jar#jee2ap102-ejb-pu&quot;: org.jboss.msc.service.StartException in service jboss.persistenceunit.&quot;jee2ap102-ear.ear/jee2ap102-ejb.jar#jee2ap102-ejb-pu&quot;: java.lang.NoClassDefFoundError: java/rmi/RemoteException\r\n    \tat org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:199)\r\n    \tat org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:129)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:664)\r\n    \tat org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1.run(PersistenceUnitServiceImpl.java:214)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\n    Caused by: java.lang.NoClassDefFoundError: java/rmi/RemoteException\r\n    \tat org.eclipse.persistence//org.eclipse.persistence.jpa.PersistenceProvider.createContainerEntityManagerFactoryImpl(PersistenceProvider.java:331)\r\n    \tat org.eclipse.persistence//org.eclipse.persistence.jpa.PersistenceProvider.createContainerEntityManagerFactory(PersistenceProvider.java:316)\r\n    \tat org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl.createContainerEntityManagerFactory(PersistenceUnitServiceImpl.java:367)\r\n    \tat org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:191)\r\n    \t... 10 more\r\n    Caused by: java.lang.ClassNotFoundException: java.rmi.RemoteException from [Module &quot;org.eclipse.persistence&quot; from local module loader @fb9c7aa (finder: local module finder @4c398c80 (roots: C:\\wildfly-27.0.0.Final\\modules,C:\\wildfly-27.0.0.Final\\modules\\system\\layers\\base))]\r\n    \tat org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:200)\r\n    \tat org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)\r\n    \tat org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)\r\n    \tat org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\r\n    \t... 14 more\r\n\r\nAt this point I tried adding java.management.rmi and java.rmi as module dependencies, but it didn&#39;t work with either of them.\r\n\r\n----------\r\nI will be very grateful for any help in solving this problem.\r\n","title":"How to configure WildFly version 27 to use EclipseLink?","body":"<p>I am trying to deploy applications currently running on WildFly 26.1.2.Final to WildFly 27.0.0.Final. The deployment fails with the following error:</p>\n<pre><code>ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.deployment.unit.&quot;jee2ap102-ear.ear&quot;.FIRST_MODULE_USE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;jee2ap102-ear.ear&quot;.FIRST_MODULE_USE: WFLYSRV0153: Failed to process phase FIRST_MODULE_USE of deployment &quot;jee2ap102-ear.ear&quot;\n    at org.jboss.as.server@19.0.0.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:189)\n    at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\n    at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\n    at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: jakarta.persistence.PersistenceException: WFLYJPA0057: PersistenceProvider 'org.eclipse.persistence.jpa.PersistenceProvider' not found\n    at org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.lookupProvider(PersistenceUnitServiceHandler.java:999)\n    at org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.nextPhaseDependsOnPersistenceUnit(PersistenceUnitServiceHandler.java:1042)\n    at org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.deploy(PersistenceUnitServiceHandler.java:138)\n    at org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.processor.PersistenceBeginInstallProcessor.deploy(PersistenceBeginInstallProcessor.java:52)\n    at org.jboss.as.server@19.0.0.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)\n    ... 8 more\n</code></pre>\n<p>I used the same configuration that I have been using for previous versions, that is:</p>\n<ol>\n<li><p>Copy eclipselink-2.7.8.jar to C:\\wildfly-27.0.0.Final\\modules\\system\\layers\\base\\org\\eclipse\\persistence\\main.</p>\n</li>\n<li><p>Modify the module.xml file in that directory to add the resource corresponding to eclipselink-2.7.8.jar. Now the file looks like this:</p>\n \n<pre><code> &lt;properties&gt;\n     &lt;property name=&quot;jboss.api&quot; value=&quot;public&quot;/&gt;\n &lt;/properties&gt;\n\n &lt;resources&gt;\n     &lt;resource-root path=&quot;jipijapa-eclipselink-27.0.0.Final.jar&quot;/&gt;\n     &lt;resource-root path=&quot;eclipselink-2.7.8.jar&quot;&gt;\n         &lt;filter&gt;\n             &lt;exclude path=&quot;javax/**&quot; /&gt;\n         &lt;/filter&gt;\n     &lt;/resource-root&gt;\n &lt;/resources&gt;\n\n &lt;dependencies&gt;\n     &lt;module name=&quot;java.logging&quot;/&gt;\n     &lt;module name=&quot;java.management&quot;/&gt;\n     &lt;module name=&quot;java.naming&quot;/&gt;\n     &lt;module name=&quot;jakarta.annotation.api&quot;/&gt;\n     &lt;module name=&quot;jakarta.enterprise.api&quot;/&gt;\n     &lt;module name=&quot;jakarta.json.api&quot; optional=&quot;true&quot;/&gt;\n     &lt;module name=&quot;jakarta.persistence.api&quot;/&gt;\n     &lt;module name=&quot;jakarta.transaction.api&quot;/&gt;\n     &lt;module name=&quot;jakarta.validation.api&quot;/&gt;\n     &lt;module name=&quot;jakarta.xml.bind.api&quot;/&gt;\n     &lt;module name=&quot;org.antlr&quot;/&gt;\n     &lt;module name=&quot;org.apache.commons.collections&quot;/&gt;\n     &lt;module name=&quot;org.dom4j&quot;/&gt;\n     &lt;module name=&quot;org.jboss.as.jpa.spi&quot;/&gt;\n     &lt;module name=&quot;org.jboss.logging&quot;/&gt;\n     &lt;module name=&quot;org.jboss.vfs&quot;/&gt;\n &lt;/dependencies&gt;\n</code></pre>\n \n</li>\n</ol>\n<p>The persistence.xml file had no modifications; it looks like this:</p>\n<pre><code>&lt;persistence\n    version=&quot;2.1&quot;\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;jee2ap102-ejb-pu&quot; transaction-type=&quot;JTA&quot;&gt;\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n        &lt;jta-data-source&gt;jdbc/jee2ap102&lt;/jta-data-source&gt;\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;eclipselink.target-server&quot; value=&quot;JBoss&quot;/&gt;\n            &lt;property name=&quot;eclipselink.weaving&quot; value=&quot;static&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>I'm using the same eclipselink-2.7.8.jar for both WildFly 26 and 27. I'm sure class <code>org.eclipse.persistence.jpa.PersistenceProvider</code> is in that jar, but even so WildFly 27 can't find it.</p>\n<p>EDIT 11/19/2022</p>\n<p>I also tried using eclipselink 3.0.3. It also fails. This is the error message:</p>\n<pre><code>INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 18) WFLYJPA0003: Starting Persistence Unit Service 'jee2ap102-ear.ear/jee2ap102-ejb.jar#jee2ap102-ejb-pu'\nERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 18) MSC000001: Failed to start service jboss.persistenceunit.&quot;jee2ap102-ear.ear/jee2ap102-ejb.jar#jee2ap102-ejb-pu&quot;: org.jboss.msc.service.StartException in service jboss.persistenceunit.&quot;jee2ap102-ear.ear/jee2ap102-ejb.jar#jee2ap102-ejb-pu&quot;: java.lang.NoClassDefFoundError: java/rmi/RemoteException\n    at org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:199)\n    at org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:129)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:664)\n    at org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1.run(PersistenceUnitServiceImpl.java:214)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: java.lang.NoClassDefFoundError: java/rmi/RemoteException\n    at org.eclipse.persistence//org.eclipse.persistence.jpa.PersistenceProvider.createContainerEntityManagerFactoryImpl(PersistenceProvider.java:331)\n    at org.eclipse.persistence//org.eclipse.persistence.jpa.PersistenceProvider.createContainerEntityManagerFactory(PersistenceProvider.java:316)\n    at org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl.createContainerEntityManagerFactory(PersistenceUnitServiceImpl.java:367)\n    at org.jboss.as.jpa@27.0.0.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:191)\n    ... 10 more\nCaused by: java.lang.ClassNotFoundException: java.rmi.RemoteException from [Module &quot;org.eclipse.persistence&quot; from local module loader @fb9c7aa (finder: local module finder @4c398c80 (roots: C:\\wildfly-27.0.0.Final\\modules,C:\\wildfly-27.0.0.Final\\modules\\system\\layers\\base))]\n    at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:200)\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)\n    at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\n    ... 14 more\n</code></pre>\n<p>At this point I tried adding java.management.rmi and java.rmi as module dependencies, but it didn't work with either of them.</p>\n<hr />\n<p>I will be very grateful for any help in solving this problem.</p>\n"},{"tags":["java","log4j2","tomcat9"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1674662678,"post_id":75233001,"comment_id":132763366,"body_markdown":"Can you add your `log4j2.xml` file to your question?","body":"Can you add your <code>log4j2.xml</code> file to your question?"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1674666010,"post_id":75233001,"comment_id":132764663,"body_markdown":"Are you sure there is no log4j2 library in the lib folder of Tomcat itself? That would take precedence over classes included in the WAR.","body":"Are you sure there is no log4j2 library in the lib folder of Tomcat itself? That would take precedence over classes included in the WAR."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1674674478,"post_id":75233001,"comment_id":132767350,"body_markdown":"@MarkRotteveel: Tomcat&#39;s classloader uses a &quot;parent last&quot; delegation strategy. Log4j2 libraries in Tomcat&#39;s `lib` folder are invisible if the application embeds their own versions.","body":"@MarkRotteveel: Tomcat&#39;s classloader uses a &quot;parent last&quot; delegation strategy. Log4j2 libraries in Tomcat&#39;s <code>lib</code> folder are invisible if the application embeds their own versions."},{"owner":{"account_id":19826690,"reputation":27,"user_id":14522134,"display_name":"Ravendhar Kumar Lalwani"},"score":0,"creation_date":1674714919,"post_id":75233001,"comment_id":132773939,"body_markdown":"@MarkRotteveel: No, tomcat has no log4j library. It is using java.util.logging for its logging purposes.","body":"@MarkRotteveel: No, tomcat has no log4j library. It is using java.util.logging for its logging purposes."}],"answers":[{"tags":[],"owner":{"account_id":19826690,"reputation":27,"user_id":14522134,"display_name":"Ravendhar Kumar Lalwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674716401,"creation_date":1674714984,"answer_id":75242854,"question_id":75233001,"body_markdown":"Actually, the problem was the `configLocation`. When I tried to get the context, `configLocation` property was set null and log4j loaded the same configuration object when initializing the context which was used for the first application logger&#39;s context and its `configuration` property has `configLocation` of the first application. I modified my code to explicitly provide `configLocation` to the context object and it worked.\r\n\r\n    URL configLocation = Class.forName(&quot;com.example.MyAppListener&quot;).getResource(&quot;/log4j2.xml&quot;);\r\n    LoggerContext context = (LoggerContext) LogManager.getContext(false);\r\n    context.setConfigLocation(configLocation.toURI());\r\n    if(!context.isInitialized()) {\r\n    \tcontext.initialize();\r\n    }else {\r\n    \tcontext.reconfigure();\r\n    }","title":"Separate Log4j 2 instances for each web apps in Tomcat 9","body":"<p>Actually, the problem was the <code>configLocation</code>. When I tried to get the context, <code>configLocation</code> property was set null and log4j loaded the same configuration object when initializing the context which was used for the first application logger's context and its <code>configuration</code> property has <code>configLocation</code> of the first application. I modified my code to explicitly provide <code>configLocation</code> to the context object and it worked.</p>\n<pre><code>URL configLocation = Class.forName(&quot;com.example.MyAppListener&quot;).getResource(&quot;/log4j2.xml&quot;);\nLoggerContext context = (LoggerContext) LogManager.getContext(false);\ncontext.setConfigLocation(configLocation.toURI());\nif(!context.isInitialized()) {\n    context.initialize();\n}else {\n    context.reconfigure();\n}\n</code></pre>\n"}],"owner":{"account_id":19826690,"reputation":27,"user_id":14522134,"display_name":"Ravendhar Kumar Lalwani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75242854,"answer_count":1,"score":1,"last_activity_date":1674716401,"creation_date":1674644391,"question_id":75233001,"body_markdown":"I am using Log4j 2 as logging framework in my application and running it on Tomcat 9.0.54. Now, if I deploy 2 instances of same application, it creates Log4j instance for first and all logs goes to the first application&#39;s log files.\r\n\r\nFor example, `Tomcat/webapps` has 2 folders i.e. \\\r\nAPP1 \\\r\nAPP2\r\n\r\nBoth have logs folder under it, but logs are being created only in APP1/logs and logs for both applications are being updated there. \r\n\r\nI tried configuring it from Java.\r\n\r\n```java\r\nSystem.setProperty(&quot;log4j.configurationFile&quot;, Class.forName(&quot;com.example.MyAppListener&quot;).getResource(&quot;/log4j2.xml&quot;).toString());\r\nLoggerContext context = (LoggerContext) LogManager.getContext(false);\r\nif(!context.isInitialized()) {\r\n\tcontext.initialize();\r\n}else {\r\n\tcontext.reconfigure();\r\n}\r\n```\r\nI tried debugging Log4j 2 source, it appears to be that when context being initialized, it takes same configuration location for both applications. It seems like ClassLoader is loading single context object at Tomcat server level.\r\n\r\n\r\n\r\nAnd web.xml as well\r\n\r\n\r\n```xml\r\n&lt;context-param&gt;\r\n    &lt;param-name&gt;log4jConfiguration&lt;/param-name&gt;\r\n    &lt;param-value&gt;/WEB-INF/log4j2.xml&lt;/param-value&gt;\r\n&lt;/context-param&gt;\r\n```\r\nThe behavior is the same in both\r\n\r\nAlso, Log4j 2 jars are separately deployed in WEB-INF/lib folder for each application.","title":"Separate Log4j 2 instances for each web apps in Tomcat 9","body":"<p>I am using Log4j 2 as logging framework in my application and running it on Tomcat 9.0.54. Now, if I deploy 2 instances of same application, it creates Log4j instance for first and all logs goes to the first application's log files.</p>\n<p>For example, <code>Tomcat/webapps</code> has 2 folders i.e. <br />\nAPP1 <br />\nAPP2</p>\n<p>Both have logs folder under it, but logs are being created only in APP1/logs and logs for both applications are being updated there.</p>\n<p>I tried configuring it from Java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(&quot;log4j.configurationFile&quot;, Class.forName(&quot;com.example.MyAppListener&quot;).getResource(&quot;/log4j2.xml&quot;).toString());\nLoggerContext context = (LoggerContext) LogManager.getContext(false);\nif(!context.isInitialized()) {\n    context.initialize();\n}else {\n    context.reconfigure();\n}\n</code></pre>\n<p>I tried debugging Log4j 2 source, it appears to be that when context being initialized, it takes same configuration location for both applications. It seems like ClassLoader is loading single context object at Tomcat server level.</p>\n<p>And web.xml as well</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;context-param&gt;\n    &lt;param-name&gt;log4jConfiguration&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/log4j2.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n<p>The behavior is the same in both</p>\n<p>Also, Log4j 2 jars are separately deployed in WEB-INF/lib folder for each application.</p>\n"},{"tags":["java","spring-boot","rest","feign","resilience4j"],"comments":[{"owner":{"account_id":15620203,"reputation":157,"user_id":11269266,"display_name":"Arpit S"},"score":0,"creation_date":1674847290,"post_id":75242673,"comment_id":132808138,"body_markdown":"appreciate any response or suggestions, even a pointer?","body":"appreciate any response or suggestions, even a pointer?"}],"owner":{"account_id":15620203,"reputation":157,"user_id":11269266,"display_name":"Arpit S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674713484,"creation_date":1674712724,"question_id":75242673,"body_markdown":"There is a requirement to POST an inbound converted message (JSON) to a matching end customer REST endpoint in real time.\r\n\r\nBasically, our system gets millions of messages per day. The current ask is to conditionally route (POST) these messages by customer, in real time (with no delays). Further, each customer could have their endpoint protected differently (basic auth, API key, oauth2). \r\n\r\n***NOTE:*** \r\n\r\n 1. The JSON schema for outbound message is **same** for all customers.\r\n\r\n 2. To make things simpler, we can assume that at point of time when app is functional/running, the number of customers (each with their associated endpoint + security) would remain constant (no dynamic adding/removal/change).\r\n\r\nSo at any given time (with possibility of new customers coming onboarded soon), the &quot;new&quot; app should work meeting below;\r\n\r\n - Inbound Message I (has customer info)    ---&gt; Customer 1 ---(POST JSON)--&gt; REST Endpoint 1 (basic auth)\r\n - Inbound Message II (has customer info)   ---&gt; Customer 2 ---(POST JSON)--&gt; REST Endpoint 2 (API Key)\r\n- Inbound Message III (has customer info)   ---&gt; Customer 3 ---(POST JSON)--&gt; REST Endpoint 3 (OAuth2)\r\n- Inbound Message IV (has customer info)    ---&gt; Customer 2 ---(POST JSON)--&gt; REST Endpoint 2 (API Key)\r\n- Inbound Message V (has customer info)     ---&gt; Customer 3 ---(POST JSON)--&gt; REST Endpoint 3 (OAuth2)\r\n\r\n............**and so on**\r\n\r\nTried developing a spring boot java app to meet the above requirements. As JSON output schema is same for all customers, until now only able to conditionally POST to desired customer (by reading customer info in inbound message) by dynamically setting associated URL (in **single** feign/rest client).\r\n\r\nBut using a **single** Feign Client (or even calling using rest template) is limiting the ability to conditionally apply desired security. Further, to my understanding, there are other challenges to overcome, say to conditionally apply fault tolerance using Resilenc4j, when there are possibilities of &quot;issue&quot; with a single customer endpoint being down/throwing error (and thus circuit breaker, retry etc getting applied to ALL customers endpoints, while remaining endpoints are working).\r\n\r\nAppreciate any suggestions/comments in implementing above?","title":"Use single rest client (feign/regular rest template) to conditionally call different endpoints, with fault tolerance using Resilience4j","body":"<p>There is a requirement to POST an inbound converted message (JSON) to a matching end customer REST endpoint in real time.</p>\n<p>Basically, our system gets millions of messages per day. The current ask is to conditionally route (POST) these messages by customer, in real time (with no delays). Further, each customer could have their endpoint protected differently (basic auth, API key, oauth2).</p>\n<p><em><strong>NOTE:</strong></em></p>\n<ol>\n<li><p>The JSON schema for outbound message is <strong>same</strong> for all customers.</p>\n</li>\n<li><p>To make things simpler, we can assume that at point of time when app is functional/running, the number of customers (each with their associated endpoint + security) would remain constant (no dynamic adding/removal/change).</p>\n</li>\n</ol>\n<p>So at any given time (with possibility of new customers coming onboarded soon), the &quot;new&quot; app should work meeting below;</p>\n<ul>\n<li>Inbound Message I (has customer info)    ---&gt; Customer 1 ---(POST JSON)--&gt; REST Endpoint 1 (basic auth)</li>\n<li>Inbound Message II (has customer info)   ---&gt; Customer 2 ---(POST JSON)--&gt; REST Endpoint 2 (API Key)</li>\n<li>Inbound Message III (has customer info)   ---&gt; Customer 3 ---(POST JSON)--&gt; REST Endpoint 3 (OAuth2)</li>\n<li>Inbound Message IV (has customer info)    ---&gt; Customer 2 ---(POST JSON)--&gt; REST Endpoint 2 (API Key)</li>\n<li>Inbound Message V (has customer info)     ---&gt; Customer 3 ---(POST JSON)--&gt; REST Endpoint 3 (OAuth2)</li>\n</ul>\n<p>............<strong>and so on</strong></p>\n<p>Tried developing a spring boot java app to meet the above requirements. As JSON output schema is same for all customers, until now only able to conditionally POST to desired customer (by reading customer info in inbound message) by dynamically setting associated URL (in <strong>single</strong> feign/rest client).</p>\n<p>But using a <strong>single</strong> Feign Client (or even calling using rest template) is limiting the ability to conditionally apply desired security. Further, to my understanding, there are other challenges to overcome, say to conditionally apply fault tolerance using Resilenc4j, when there are possibilities of &quot;issue&quot; with a single customer endpoint being down/throwing error (and thus circuit breaker, retry etc getting applied to ALL customers endpoints, while remaining endpoints are working).</p>\n<p>Appreciate any suggestions/comments in implementing above?</p>\n"},{"tags":["java","jar","inno-setup","launch4j"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674713441,"creation_date":1673537642,"answer_id":75098763,"question_id":75098092,"body_markdown":"Windows caches the Start menu icons. So if you had that entry in Start menu before, reinstalling the application with new icons sometime won&#39;t make Windows reset the cache. It keeps displaying the old icons.\r\n\r\nTry to uninstall, restart, and reinstall (not sure if that can help).\r\n\r\nFor a test, you can try using new icon name.\r\n\r\n---\r\n\r\nSimilar question: https://stackoverflow.com/q/32898332/850848","title":"Icon is not updated when updating installation with Inno Setup","body":"<p>Windows caches the Start menu icons. So if you had that entry in Start menu before, reinstalling the application with new icons sometime won't make Windows reset the cache. It keeps displaying the old icons.</p>\n<p>Try to uninstall, restart, and reinstall (not sure if that can help).</p>\n<p>For a test, you can try using new icon name.</p>\n<hr />\n<p>Similar question: <a href=\"https://stackoverflow.com/q/32898332/850848\">Possible to change the application file&#39;s icon?</a></p>\n"}],"owner":{"account_id":2659802,"reputation":544,"user_id":2299775,"display_name":"Andy McRae"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75098763,"answer_count":1,"score":1,"last_activity_date":1674713441,"creation_date":1673534749,"question_id":75098092,"body_markdown":"I developed a Java application with Java 8.112, then I transformed the JAR into EXE with Launch4j 3.11 (32-bit version) and added a transparent icon (.ico) for the executable. To deliver the software correctly with the JRE so that people don&#39;t need to download Java 8.112, I used Inno Setup 6.2.1 and added the necessary files which are then compressed in the Inno Setup installer.\r\n\r\nEverything works fine, except that if I decide to install the program in `C:\\Program Files` it puts me in a test icon that I used before and not the new one that I use. Even if I redo the whole process from the JAR file, give back the correct icon, and install it on another pc, it still gives me the old icon if I install in `Program Files`.\r\n\r\nOtherwise, everything works fine if I put the program elsewhere (`C:\\Program Files (x86)` or `C:\\My_Program`). How is this possible? Do I have to clear the Launch4j cache or something?","title":"Icon is not updated when updating installation with Inno Setup","body":"<p>I developed a Java application with Java 8.112, then I transformed the JAR into EXE with Launch4j 3.11 (32-bit version) and added a transparent icon (.ico) for the executable. To deliver the software correctly with the JRE so that people don't need to download Java 8.112, I used Inno Setup 6.2.1 and added the necessary files which are then compressed in the Inno Setup installer.</p>\n<p>Everything works fine, except that if I decide to install the program in <code>C:\\Program Files</code> it puts me in a test icon that I used before and not the new one that I use. Even if I redo the whole process from the JAR file, give back the correct icon, and install it on another pc, it still gives me the old icon if I install in <code>Program Files</code>.</p>\n<p>Otherwise, everything works fine if I put the program elsewhere (<code>C:\\Program Files (x86)</code> or <code>C:\\My_Program</code>). How is this possible? Do I have to clear the Launch4j cache or something?</p>\n"},{"tags":["java","mysql","sql","date","spring-data-jpa"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1493963055,"post_id":43797285,"comment_id":74634878,"body_markdown":"What happened when you ran the second query, which looks like it should work?","body":"What happened when you ran the second query, which looks like it should work?"},{"owner":{"account_id":10222783,"reputation":634,"user_id":7546450,"accept_rate":57,"display_name":"SFAH"},"score":0,"creation_date":1493963135,"post_id":43797285,"comment_id":74634918,"body_markdown":"@TimBiegeleisen  it gives an error \nunexpected token: interval near line 1, column 41 [Select Order  where orderDate &gt; NOW() - interval 1 WEEK]","body":"@TimBiegeleisen  it gives an error  unexpected token: interval near line 1, column 41 [Select Order  where orderDate &gt; NOW() - interval 1 WEEK]"},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1493963765,"post_id":43797285,"comment_id":74635131,"body_markdown":"Apart from the fact that &quot;SQL&quot; and NOW&quot; are invalid JPQL, so you would have to use a native query?","body":"Apart from the fact that &quot;SQL&quot; and NOW&quot; are invalid JPQL, so you would have to use a native query?"},{"owner":{"account_id":10222783,"reputation":634,"user_id":7546450,"accept_rate":57,"display_name":"SFAH"},"score":0,"creation_date":1493963897,"post_id":43797285,"comment_id":74635172,"body_markdown":"@NeilStockton What should I use then ?","body":"@NeilStockton What should I use then ?"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1493963999,"post_id":43797285,"comment_id":74635204,"body_markdown":"@android Just use a regular JPQL query in your actual code, not a named query.  Then you can set whatever dates you wish, from Java.","body":"@android Just use a regular JPQL query in your actual code, not a named query.  Then you can set whatever dates you wish, from Java."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493963767,"creation_date":1493963767,"answer_id":43797487,"question_id":43797285,"body_markdown":"JPA doesn&#39;t have much in the way of support for date functions, so you might not be able to get the behavior you want from a named query.\r\n\r\nHowever, a regular JPQL query should work because there we can bind whatever date we want.  Try the following:\r\n\r\n    public List findOrdersLastWeek() {\r\n        Calendar cal = new GregorianCalendar();\r\n        cal.add(Calendar.DAY_OF_MONTH, -7);\r\n        Date lastWeekDate = cal.getTime();        \r\n\r\n        return entityManager.createQuery(\r\n           &quot;SELECT o from Orders o WHERE o.orderDate &gt; ?1&quot;)\r\n          .setParameter(1, lastWeekDate, TemporalType.DATE);\r\n    }","title":"How do I write query to get record that are created one week ago in JPA","body":"<p>JPA doesn't have much in the way of support for date functions, so you might not be able to get the behavior you want from a named query.</p>\n\n<p>However, a regular JPQL query should work because there we can bind whatever date we want.  Try the following:</p>\n\n<pre><code>public List findOrdersLastWeek() {\n    Calendar cal = new GregorianCalendar();\n    cal.add(Calendar.DAY_OF_MONTH, -7);\n    Date lastWeekDate = cal.getTime();        \n\n    return entityManager.createQuery(\n       \"SELECT o from Orders o WHERE o.orderDate &gt; ?1\")\n      .setParameter(1, lastWeekDate, TemporalType.DATE);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23625580,"reputation":1,"user_id":17658160,"display_name":"YoqubDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674713419,"creation_date":1674713419,"answer_id":75242732,"question_id":43797285,"body_markdown":"your answer should be like that\r\n\r\nList&lt;Order&gt; findByUserAndCreatedAtBetween(User user, String todayString, String sevenDaysBeforeString);","title":"How do I write query to get record that are created one week ago in JPA","body":"<p>your answer should be like that</p>\n<p>List findByUserAndCreatedAtBetween(User user, String todayString, String sevenDaysBeforeString);</p>\n"}],"owner":{"account_id":10222783,"reputation":634,"user_id":7546450,"accept_rate":57,"display_name":"SFAH"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":988,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1674713419,"creation_date":1493962806,"question_id":43797285,"body_markdown":"In the following repository I want to get those records (Orders) that are placed one week ago , I am using the following code but error is occurred and said unexpected token at interval So Anybody help me?\r\n\r\n    public interface OrderRepository extends JpaRepository&lt;Order, Long&gt; {\r\n        @Query(&quot;Select Order where orderDate &lt; SQL((? - interval &#39;3&#39; minute), CURRENT_TIMESTAMP)&quot;)\r\n        Order currentOrder();\r\n\r\n        // I also tried following query \r\n        @Query(&quot;Select Order  where orderDate &gt; NOW() - interval 1 WEEK&quot;)\r\n        Order currentOrder();\r\n    }","title":"How do I write query to get record that are created one week ago in JPA","body":"<p>In the following repository I want to get those records (Orders) that are placed one week ago , I am using the following code but error is occurred and said unexpected token at interval So Anybody help me?</p>\n\n<pre><code>public interface OrderRepository extends JpaRepository&lt;Order, Long&gt; {\n    @Query(\"Select Order where orderDate &lt; SQL((? - interval '3' minute), CURRENT_TIMESTAMP)\")\n    Order currentOrder();\n\n    // I also tried following query \n    @Query(\"Select Order  where orderDate &gt; NOW() - interval 1 WEEK\")\n    Order currentOrder();\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7165321,"reputation":6023,"user_id":8244632,"accept_rate":100,"display_name":"Lalit Fauzdar"},"score":0,"creation_date":1591200492,"post_id":62176202,"comment_id":109967501,"body_markdown":"[This](https://android.jlelse.eu/develop-a-custom-tile-with-quick-settings-tile-api-74073e849457) article will surely help. Also, you can further check [this](https://stackoverflow.com/questions/22424914/how-to-add-an-item-to-quick-settings-in-android) answer on StackOverflow but the article is the one you should go for.","body":"<a href=\"https://android.jlelse.eu/develop-a-custom-tile-with-quick-settings-tile-api-74073e849457\" rel=\"nofollow noreferrer\">This</a> article will surely help. Also, you can further check <a href=\"https://stackoverflow.com/questions/22424914/how-to-add-an-item-to-quick-settings-in-android\">this</a> answer on StackOverflow but the article is the one you should go for."},{"owner":{"account_id":7165321,"reputation":6023,"user_id":8244632,"accept_rate":100,"display_name":"Lalit Fauzdar"},"score":0,"creation_date":1591200526,"post_id":62176202,"comment_id":109967516,"body_markdown":"And these shapes are known as Tiles and with the location, Quick Setting Tiles.","body":"And these shapes are known as Tiles and with the location, Quick Setting Tiles."},{"owner":{"account_id":18573025,"reputation":221,"user_id":13534414,"display_name":"tohid noori"},"score":0,"creation_date":1591258859,"post_id":62176202,"comment_id":109988843,"body_markdown":"yes but at the end all say that we can&#39;t add item too quick setting but i don&#39;t know how ADM can","body":"yes but at the end all say that we can&#39;t add item too quick setting but i don&#39;t know how ADM can"},{"owner":{"account_id":7165321,"reputation":6023,"user_id":8244632,"accept_rate":100,"display_name":"Lalit Fauzdar"},"score":0,"creation_date":1591264521,"post_id":62176202,"comment_id":109991996,"body_markdown":"Because you can add them, it&#39;s just that there are limited latest resources. The [article](https://android.jlelse.eu/develop-a-custom-tile-with-quick-settings-tile-api-74073e849457) I&#39;d shared with you consists the complete implementation. It has already mentioned the [official Tile API](https://developer.android.com/reference/android/service/quicksettings/Tile.html) was added in API 23.","body":"Because you can add them, it&#39;s just that there are limited latest resources. The <a href=\"https://android.jlelse.eu/develop-a-custom-tile-with-quick-settings-tile-api-74073e849457\" rel=\"nofollow noreferrer\">article</a> I&#39;d shared with you consists the complete implementation. It has already mentioned the <a href=\"https://developer.android.com/reference/android/service/quicksettings/Tile.html\" rel=\"nofollow noreferrer\">official Tile API</a> was added in API 23."}],"owner":{"account_id":18573025,"reputation":221,"user_id":13534414,"display_name":"tohid noori"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1674713281,"creation_date":1591196760,"question_id":62176202,"body_markdown":"I don&#39;t know the name of these shapes but i call it button by the way what are their name? and how can we make this in android programming using java.I see that some Apps has these feature that you when you swipe down the screen there is list that you can have your feature like this ADM features i don&#39;t meant the shape or vector or like this.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gait0.jpg","title":"How to add item to Quick setting?","body":"<p>I don't know the name of these shapes but i call it button by the way what are their name? and how can we make this in android programming using java.I see that some Apps has these feature that you when you swipe down the screen there is list that you can have your feature like this ADM features i don't meant the shape or vector or like this.\n<a href=\"https://i.stack.imgur.com/gait0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gait0.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","background","background-image"],"comments":[{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1674629812,"post_id":75227000,"comment_id":132752772,"body_markdown":"does your url live or from drawable?","body":"does your url live or from drawable?"},{"owner":{"account_id":16955543,"reputation":165,"user_id":12264042,"display_name":"Rikudou"},"score":0,"creation_date":1674687959,"post_id":75227000,"comment_id":132770798,"body_markdown":"@UrvishShiroya The URL is live. Also, it is not just one specific URL. This app is supposed to change backgrounds using different pictures from different URLs upon the completion of certain requirements.","body":"@UrvishShiroya The URL is live. Also, it is not just one specific URL. This app is supposed to change backgrounds using different pictures from different URLs upon the completion of certain requirements."},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1674733156,"post_id":75227000,"comment_id":132778796,"body_markdown":"i describe in answer","body":"i describe in answer"}],"answers":[{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674712931,"creation_date":1674712931,"answer_id":75242686,"question_id":75227000,"body_markdown":"You must make an attempt to incorporate this code into your project. using [Glide Android](https://github.com/bumptech/glide)\r\n\r\n1) Implement [Glide](https://github.com/bumptech/glide) in your Project.\r\n2) Wrote down this code into your `activity.java` class\r\n```java\r\nGlide.with(this).load(Uri.parse(&quot;https://your_image_url/example.png&quot;)).into(new CustomTarget&lt;Drawable&gt;() {\r\n    @Override\r\n    public void onResourceReady(@NonNull Drawable resource, @Nullable Transition&lt;? super Drawable&gt; transition) {\r\n        layout.setBackground(resource); // here you will set your background..\r\n    }\r\n\r\n    @Override\r\n    public void onLoadCleared(@Nullable Drawable placeholder) {\r\n\r\n    }\r\n});\r\n```\r\n\r\nDon&#39;t forget about adding Internet permission or some code in `manifest.xml`.\r\n\r\n```xml\r\n&lt;manifest\r\n   ...&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;application\r\n        ...\r\n        android:usesCleartextTraffic=&quot;true&quot;&gt;\r\n    \r\n        ...\r\n\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```","title":"Android Studio Java: How do I set the background of a constraint layout to be an image from a URL?","body":"<p>You must make an attempt to incorporate this code into your project. using <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">Glide Android</a></p>\n<ol>\n<li>Implement <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">Glide</a> in your Project.</li>\n<li>Wrote down this code into your <code>activity.java</code> class</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Glide.with(this).load(Uri.parse(&quot;https://your_image_url/example.png&quot;)).into(new CustomTarget&lt;Drawable&gt;() {\n    @Override\n    public void onResourceReady(@NonNull Drawable resource, @Nullable Transition&lt;? super Drawable&gt; transition) {\n        layout.setBackground(resource); // here you will set your background..\n    }\n\n    @Override\n    public void onLoadCleared(@Nullable Drawable placeholder) {\n\n    }\n});\n</code></pre>\n<p>Don't forget about adding Internet permission or some code in <code>manifest.xml</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;manifest\n   ...&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n    &lt;application\n        ...\n        android:usesCleartextTraffic=&quot;true&quot;&gt;\n    \n        ...\n\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"}],"owner":{"account_id":16955543,"reputation":165,"user_id":12264042,"display_name":"Rikudou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674712931,"creation_date":1674592390,"question_id":75227000,"body_markdown":"I am developing an app that requires me to change the background image to those provided by URLs at different times. How do I do this however? Using the following method does not work because that method takes in an integer rather than a string.\r\n\r\n```\r\nlayout.setBackgroundResource(URL);\r\n```\r\n\r\nI can&#39;t use the following method from the Picasso library either since a constraint layout cannot be cast to a Target:\r\n\r\n```\r\nPicasso.get().load(URL).into((Target) theLayout);\r\n```\r\n\r\nI&#39;ve also tried doing this:\r\n\r\n```\r\ntry {\r\n    String pictureURL = URL;\r\n    Drawable fromURL = Drawable.createFromStream(((InputStream) new URL(pictureURL).openStream()), null);\r\n    layout.setBackground(fromURL);\r\n} catch(Exception j) {\r\n    errorView.setText(j.getMessage() + &quot;Why there&quot;);\r\n}\r\n```\r\n\r\nHowever, my try catch is catching the error instead of having it work.\r\n\r\nWhat can I do? Note that I don&#39;t want to just set the picture from the URL to be the background of an ImageView. I want to set the picture to be the background of the whole screen.\r\n","title":"Android Studio Java: How do I set the background of a constraint layout to be an image from a URL?","body":"<p>I am developing an app that requires me to change the background image to those provided by URLs at different times. How do I do this however? Using the following method does not work because that method takes in an integer rather than a string.</p>\n<pre><code>layout.setBackgroundResource(URL);\n</code></pre>\n<p>I can't use the following method from the Picasso library either since a constraint layout cannot be cast to a Target:</p>\n<pre><code>Picasso.get().load(URL).into((Target) theLayout);\n</code></pre>\n<p>I've also tried doing this:</p>\n<pre><code>try {\n    String pictureURL = URL;\n    Drawable fromURL = Drawable.createFromStream(((InputStream) new URL(pictureURL).openStream()), null);\n    layout.setBackground(fromURL);\n} catch(Exception j) {\n    errorView.setText(j.getMessage() + &quot;Why there&quot;);\n}\n</code></pre>\n<p>However, my try catch is catching the error instead of having it work.</p>\n<p>What can I do? Note that I don't want to just set the picture from the URL to be the background of an ImageView. I want to set the picture to be the background of the whole screen.</p>\n"},{"tags":["java","class","getter"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674685522,"post_id":75240463,"comment_id":132770292,"body_markdown":"You can create a constructor for `SubscribeTables` which takes a `NetworkTableInstance` as a parameter, and create a field in `SubscribeTables`.","body":"You can create a constructor for <code>SubscribeTables</code> which takes a <code>NetworkTableInstance</code> as a parameter, and create a field in <code>SubscribeTables</code>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1674685594,"post_id":75240463,"comment_id":132770309,"body_markdown":"Why is all of your code in the static main world? If you need OOP objects that interact, then use OOPs. Declare your inst field as an instance field with getters/setters and usual restrictions and controls.","body":"Why is all of your code in the static main world? If you need OOP objects that interact, then use OOPs. Declare your inst field as an instance field with getters/setters and usual restrictions and controls."}],"answers":[{"tags":[],"owner":{"account_id":11762080,"reputation":48,"user_id":8607808,"display_name":"Sudarshana Gurusinghe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674686047,"creation_date":1674686047,"answer_id":75240565,"question_id":75240463,"body_markdown":"The scope of NetworkTableInstance inst is limited to the lifecycle of main method as your new class is not aware. You have 2 options if you still want to do it in this way - but not recommened.\r\n\r\n1. Pass the instance of NetworkTableInstance as a constructor paramater to SubscribeTables\r\n\r\n2. Pass the instance of NetworkTableInstance to the respective methods as a method parameter you need to call on SubscribeTables\r\n\r\n","title":"Using object in another class","body":"<p>The scope of NetworkTableInstance inst is limited to the lifecycle of main method as your new class is not aware. You have 2 options if you still want to do it in this way - but not recommened.</p>\n<ol>\n<li><p>Pass the instance of NetworkTableInstance as a constructor paramater to SubscribeTables</p>\n</li>\n<li><p>Pass the instance of NetworkTableInstance to the respective methods as a method parameter you need to call on SubscribeTables</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25766292,"reputation":88,"user_id":19516175,"display_name":"Oleksandr Myronets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674686072,"creation_date":1674686072,"answer_id":75240571,"question_id":75240463,"body_markdown":"You can supply link of object A(type NetworkTableInstance) to object B(type SubscribeTables) either by argument in constructor or by argument in setter method. In both cases SubscribeTables class should have field of type NetworkTableInstance to put NetworkTableInstance object from constructor or setter arguments into the field.","title":"Using object in another class","body":"<p>You can supply link of object A(type NetworkTableInstance) to object B(type SubscribeTables) either by argument in constructor or by argument in setter method. In both cases SubscribeTables class should have field of type NetworkTableInstance to put NetworkTableInstance object from constructor or setter arguments into the field.</p>\n"},{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674712777,"creation_date":1674712777,"answer_id":75242675,"question_id":75240463,"body_markdown":"So to consolidate, in terms of code, your ```SubscribeTables``` class should look like this:\r\n```java\r\npublic class SubscribeTables {\r\n    private NetworkTableInstance instance;\r\n\r\n    // Make a constructor to take NetworkTableInstance\r\n    public SubscribeTables(NetworkTableInstance instance) {\r\n        this.instance = instance;\r\n    }\r\n\r\n    public void function() {\r\n        // Use the NetworkTableInstance for every function in this Class\r\n        boolean isConnected = instance.isConnected();\r\n    }\r\n}\r\n\r\n```\r\nAnd the way to create a ```SubscribeTables``` object:\r\n```java\r\nSubscribeTables tables = new SubscribeTables(inst);\r\n```","title":"Using object in another class","body":"<p>So to consolidate, in terms of code, your <code>SubscribeTables</code> class should look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SubscribeTables {\n    private NetworkTableInstance instance;\n\n    // Make a constructor to take NetworkTableInstance\n    public SubscribeTables(NetworkTableInstance instance) {\n        this.instance = instance;\n    }\n\n    public void function() {\n        // Use the NetworkTableInstance for every function in this Class\n        boolean isConnected = instance.isConnected();\n    }\n}\n\n</code></pre>\n<p>And the way to create a <code>SubscribeTables</code> object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SubscribeTables tables = new SubscribeTables(inst);\n</code></pre>\n"}],"owner":{"account_id":20290771,"reputation":35,"user_id":14882471,"display_name":"Elo Benc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75242675,"answer_count":3,"score":0,"last_activity_date":1674712777,"creation_date":1674685281,"question_id":75240463,"body_markdown":"I want to use **inst** in another class *SubscribeTables()* I need it with all of its data. I tried to make a getter in Main() but it didnt work. Maybe i can pass it to another class somehow? Can someone help me with it?\r\n\r\nLets say i need to call inst.isConnected() in SubscribeTables()\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n\r\n      // Setup NT4 Client\r\n      NetworkTableInstance inst = NetworkTableInstance.getDefault();\r\n      inst.startClient4(&quot;FRC Stat Track&quot;);\r\n      selectNetworkTablesIP(inst, 5883);\r\n      // Connects after ~100ms\r\n\r\n\r\n      new SubscribeTables();\r\n}\r\n\r\n```","title":"Using object in another class","body":"<p>I want to use <strong>inst</strong> in another class <em>SubscribeTables()</em> I need it with all of its data. I tried to make a getter in Main() but it didnt work. Maybe i can pass it to another class somehow? Can someone help me with it?</p>\n<p>Lets say i need to call inst.isConnected() in SubscribeTables()</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws IOException {\n\n      // Setup NT4 Client\n      NetworkTableInstance inst = NetworkTableInstance.getDefault();\n      inst.startClient4(&quot;FRC Stat Track&quot;);\n      selectNetworkTablesIP(inst, 5883);\n      // Connects after ~100ms\n\n\n      new SubscribeTables();\n}\n\n</code></pre>\n"},{"tags":["java","android","locationmanager","geocoder"],"owner":{"account_id":22682619,"reputation":15,"user_id":16852786,"display_name":"Sanjith Kumar M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674712629,"creation_date":1674709602,"question_id":75242435,"body_markdown":"I tried to get a latitude and longitude and the address of the current location.\r\nWhen I tried in the emulator it worked..but when I tried to use my smartphone it was not working.\r\nI have added the location permissions in the manifest.\r\nPlease help me with a solution.\r\nThe emulator I have used is Pixel 4a API 30.\r\nI can&#39;t find where I have gone wrong.\r\n\r\n\r\n\r\n\r\n\r\n\r\n     @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        textView_location = findViewById(R.id.text_location);\r\n        button_location = findViewById(R.id.button_location);\r\n        //Runtime permissions\r\n        if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION)\r\n        != PackageManager.PERMISSION_GRANTED){\r\n            ActivityCompat.requestPermissions(MainActivity.this,new String[]{\r\n                    Manifest.permission.ACCESS_FINE_LOCATION\r\n            },100);\r\n        }\r\n    \r\n    \r\n        button_location.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                //create method\r\n                getLocation();\r\n            }\r\n        });\r\n    \r\n    \r\n    \r\n    }\r\n    \r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    private void getLocation() {\r\n    \r\n        try {\r\n            locationManager = (LocationManager) getApplicationContext().getSystemService(LOCATION_SERVICE);\r\n            locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER,5000,5,MainActivity.this);\r\n    \r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    \r\n    }\r\n    \r\n    @Override\r\n    public void onLocationChanged(Location location) {\r\n        Toast.makeText(this, &quot;&quot;+location.getLatitude()+&quot;,&quot;+location.getLongitude(), Toast.LENGTH_SHORT).show();\r\n        try {\r\n            Geocoder geocoder = new Geocoder(MainActivity.this, Locale.getDefault());\r\n            List&lt;Address&gt; addresses = geocoder.getFromLocation(location.getLatitude(),location.getLongitude(),1);\r\n            String address = addresses.get(0).getAddressLine(0);\r\n    \r\n            textView_location.setText(address);\r\n    \r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    \r\n    }\r\n    \r\n    @Override\r\n    public void onStatusChanged(String provider, int status, Bundle extras) {\r\n    \r\n    }\r\n    \r\n    @Override\r\n    public void onProviderEnabled(String provider) {\r\n    \r\n    }\r\n    \r\n    @Override\r\n    public void onProviderDisabled(String provider) {\r\n    \r\n    }\r\n    }","title":"Problem in getting location in android studio","body":"<p>I tried to get a latitude and longitude and the address of the current location.\nWhen I tried in the emulator it worked..but when I tried to use my smartphone it was not working.\nI have added the location permissions in the manifest.\nPlease help me with a solution.\nThe emulator I have used is Pixel 4a API 30.\nI can't find where I have gone wrong.</p>\n<pre><code> @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    textView_location = findViewById(R.id.text_location);\n    button_location = findViewById(R.id.button_location);\n    //Runtime permissions\n    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION)\n    != PackageManager.PERMISSION_GRANTED){\n        ActivityCompat.requestPermissions(MainActivity.this,new String[]{\n                Manifest.permission.ACCESS_FINE_LOCATION\n        },100);\n    }\n\n\n    button_location.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            //create method\n            getLocation();\n        }\n    });\n\n\n\n}\n\n@SuppressLint(&quot;MissingPermission&quot;)\nprivate void getLocation() {\n\n    try {\n        locationManager = (LocationManager) getApplicationContext().getSystemService(LOCATION_SERVICE);\n        locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER,5000,5,MainActivity.this);\n\n    }catch (Exception e){\n        e.printStackTrace();\n    }\n\n}\n\n@Override\npublic void onLocationChanged(Location location) {\n    Toast.makeText(this, &quot;&quot;+location.getLatitude()+&quot;,&quot;+location.getLongitude(), Toast.LENGTH_SHORT).show();\n    try {\n        Geocoder geocoder = new Geocoder(MainActivity.this, Locale.getDefault());\n        List&lt;Address&gt; addresses = geocoder.getFromLocation(location.getLatitude(),location.getLongitude(),1);\n        String address = addresses.get(0).getAddressLine(0);\n\n        textView_location.setText(address);\n\n    }catch (Exception e){\n        e.printStackTrace();\n    }\n\n}\n\n@Override\npublic void onStatusChanged(String provider, int status, Bundle extras) {\n\n}\n\n@Override\npublic void onProviderEnabled(String provider) {\n\n}\n\n@Override\npublic void onProviderDisabled(String provider) {\n\n}\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code","itext"],"comments":[{"owner":{"account_id":6767185,"reputation":17842,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1674645993,"post_id":75233110,"comment_id":132757515,"body_markdown":"Out of curiosity, and to be able to improve the guidance for new users, what made you think you could ask a question in German here? Everything on the site is in English, as well as the [tour] and [ask] specifying posts need to be in English.","body":"Out of curiosity, and to be able to improve the guidance for new users, what made you think you could ask a question in German here? Everything on the site is in English, as well as the <a href=\"https://stackoverflow.com/tour\">tour</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> specifying posts need to be in English."},{"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"score":0,"creation_date":1674646051,"post_id":75233110,"comment_id":132757535,"body_markdown":"looks like you have a project structure issue, i advise to use some java project management tool like maven or gradle so the use of external libraries become simpler.","body":"looks like you have a project structure issue, i advise to use some java project management tool like maven or gradle so the use of external libraries become simpler."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1674712611,"post_id":75233110,"comment_id":132773635,"body_markdown":"In your project you appear to have included iText 7 libraries as dependencies. Many of your imports, though, refer to iText 5 classes which do not exist is iText 7 anymore (at least not in the same package). Thus, you have to make your code and your referenced libraries match.","body":"In your project you appear to have included iText 7 libraries as dependencies. Many of your imports, though, refer to iText 5 classes which do not exist is iText 7 anymore (at least not in the same package). Thus, you have to make your code and your referenced libraries match."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674712321,"creation_date":1674712321,"answer_id":75242631,"question_id":75233110,"body_markdown":"vscode uses the currently opened folder as the workspace, so first you need to use vscode to open your project folder, and then the java extension will automatically recognize the java project and display it in the **JAVA PROJECTS** panel. \r\n\r\nClick `Referenced Libraries` under the project&#39;s name to see the added reference, and click the plus sign on the right to add a reference.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSee [here][2] for more information.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FIEHk.png\r\n  [2]: https://code.visualstudio.com/docs/java/java-project#_dependency-management","title":"iText library&#39;s error code &quot;The import com.itextpdf cannot be resolved&quot; in Visual Studio Code. How to import library&#39;s in vscode?","body":"<p>vscode uses the currently opened folder as the workspace, so first you need to use vscode to open your project folder, and then the java extension will automatically recognize the java project and display it in the <strong>JAVA PROJECTS</strong> panel.</p>\n<p>Click <code>Referenced Libraries</code> under the project's name to see the added reference, and click the plus sign on the right to add a reference.</p>\n<p><a href=\"https://i.stack.imgur.com/FIEHk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FIEHk.png\" alt=\"enter image description here\" /></a></p>\n<p>See <a href=\"https://code.visualstudio.com/docs/java/java-project#_dependency-management\" rel=\"nofollow noreferrer\">here</a> for more information.</p>\n"}],"owner":{"account_id":27617532,"reputation":11,"user_id":21079291,"display_name":"Anton G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":735,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674712321,"creation_date":1674644967,"question_id":75233110,"body_markdown":"I would like to import the following libraries:\r\n\r\n```\r\nimport com.itextpdf.kernel.pdf.*;\r\nimport java.io.FileOutputStream;\r\nimport com.itextpdf.text.Document;\r\nimport com.itextpdf.text.Paragraph;\r\nimport com.itextpdf.text.pdf.PdfWriter;`\r\n```\r\n\r\n\r\nUnfortunately I get this error code:\r\n\r\n![enter image description here](https://i.stack.imgur.com/KYLQU.png)\r\n\r\nI don&#39;t know what to do since it is my first time editing code in VS-Code. Eventually I even created the project not in a proper way.\r\n\r\nHere is a picture of the project structure:\r\n\r\n![enter image description here](https://i.stack.imgur.com/8c91F.png)\r\n\r\nHow to get rid of the error code?\r\n\r\nI downloaded the library [here](https://github.com/itext/itext7). Is this the right library?","title":"iText library&#39;s error code &quot;The import com.itextpdf cannot be resolved&quot; in Visual Studio Code. How to import library&#39;s in vscode?","body":"<p>I would like to import the following libraries:</p>\n<pre><code>import com.itextpdf.kernel.pdf.*;\nimport java.io.FileOutputStream;\nimport com.itextpdf.text.Document;\nimport com.itextpdf.text.Paragraph;\nimport com.itextpdf.text.pdf.PdfWriter;`\n</code></pre>\n<p>Unfortunately I get this error code:</p>\n<p><img src=\"https://i.stack.imgur.com/KYLQU.png\" alt=\"enter image description here\" /></p>\n<p>I don't know what to do since it is my first time editing code in VS-Code. Eventually I even created the project not in a proper way.</p>\n<p>Here is a picture of the project structure:</p>\n<p><img src=\"https://i.stack.imgur.com/8c91F.png\" alt=\"enter image description here\" /></p>\n<p>How to get rid of the error code?</p>\n<p>I downloaded the library <a href=\"https://github.com/itext/itext7\" rel=\"nofollow noreferrer\">here</a>. Is this the right library?</p>\n"},{"tags":["java","spring-boot","hibernate","rest","postman"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1674669267,"post_id":75237777,"comment_id":132765699,"body_markdown":"To get an answer for how to send this request in postman, you will need to include the Controller method declaration so we can see what RequestBody you&#39;re expecting.","body":"To get an answer for how to send this request in postman, you will need to include the Controller method declaration so we can see what RequestBody you&#39;re expecting."}],"answers":[{"tags":[],"owner":{"account_id":19178780,"reputation":9,"user_id":14010962,"display_name":"Marcos Pereira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674678132,"creation_date":1674678132,"answer_id":75239447,"question_id":75237777,"body_markdown":"I think `@RequestBody` by default cannot handle this example request:\r\n```json\r\n{\r\n     &quot;name&quot;:&quot;first order&quot;,\r\n     &quot;items&quot;: {\r\n         &quot;item-1&quot;:{\r\n              &quot;name&quot;: &quot;frist item&quot;  \r\n         },\r\n         &quot;item-2&quot;:{\r\n             &quot;name&quot;: &quot;second item&quot;  \r\n         }\r\n     }\r\n}\r\n```\r\n For that you should try something like this:\r\n\r\n```java\r\n@Entity\r\npublic class Order {\r\n    @Id int id;\r\n\r\n    String name;\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name=&quot;INVENTORY&quot;, joinColumns=@JoinColumn(name=&quot;STORE&quot;))\r\n    @Column(name=&quot;COPIES_IN_STOCK&quot;)\r\n    @MapKeyJoinColumn(name=&quot;MOVIE&quot;, referencedColumnName=&quot;ID&quot;)\r\n    Map&lt;Item, Integer&gt; items;\r\n \r\n    @JsonAnySetter\r\n    public void addItems(String key, Item item) {\r\n        items.put(item, Integer.valueOf(key.split(&quot;-&quot;)));\r\n    }\r\n    \r\n}\r\n```\r\nIf you want to count the item&#39;s repetition number as a key in the hashmap put your logic in this setter","title":"How to send in postman Map with key as object?","body":"<p>I think <code>@RequestBody</code> by default cannot handle this example request:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n     &quot;name&quot;:&quot;first order&quot;,\n     &quot;items&quot;: {\n         &quot;item-1&quot;:{\n              &quot;name&quot;: &quot;frist item&quot;  \n         },\n         &quot;item-2&quot;:{\n             &quot;name&quot;: &quot;second item&quot;  \n         }\n     }\n}\n</code></pre>\n<p>For that you should try something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Order {\n    @Id int id;\n\n    String name;\n\n    @ElementCollection\n    @CollectionTable(name=&quot;INVENTORY&quot;, joinColumns=@JoinColumn(name=&quot;STORE&quot;))\n    @Column(name=&quot;COPIES_IN_STOCK&quot;)\n    @MapKeyJoinColumn(name=&quot;MOVIE&quot;, referencedColumnName=&quot;ID&quot;)\n    Map&lt;Item, Integer&gt; items;\n \n    @JsonAnySetter\n    public void addItems(String key, Item item) {\n        items.put(item, Integer.valueOf(key.split(&quot;-&quot;)));\n    }\n    \n}\n</code></pre>\n<p>If you want to count the item's repetition number as a key in the hashmap put your logic in this setter</p>\n"}],"owner":{"account_id":19156626,"reputation":1,"user_id":13993326,"display_name":"Igor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674711921,"creation_date":1674668306,"question_id":75237777,"body_markdown":"I have such an entity structure so I want to send a post request and create Order with all properties.\r\nHow to request body should look like in postman?\r\n\r\n```\r\n@Entity\r\npublic class Order {\r\n    @Id int id;\r\n\r\n    String name;\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name=&quot;INVENTORY&quot;, joinColumns=@JoinColumn(name=&quot;STORE&quot;))\r\n    @Column(name=&quot;COPIES_IN_STOCK&quot;)\r\n    @MapKeyJoinColumn(name=&quot;MOVIE&quot;, referencedColumnName=&quot;ID&quot;)\r\n    Map&lt;Item, Integer&gt; items;\r\n \r\n}\r\n\r\n@Entity\r\npublic class Item {\r\n    @Id long id;\r\n    String name;\r\n\r\n}\r\n```\r\n\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;api/v1/order&quot;)\r\n    public class OrderController {\r\n    \r\n        public final OrderService orderService;\r\n    \r\n        public OrderController(OrderService orderService) {\r\n            this.orderService = orderService;\r\n        }\r\n        @PostMapping\r\n        public void saveOrder(@RequestBody Order order){\r\n             orderService.save(order);\r\n        }\r\n    }\r\n_______________________________\r\n\r\nthis is the wrong body, so I try to find out how it should look according to my data model\r\n\r\n    {\r\n         &quot;name&quot;:&quot;first order&quot;,\r\n         &quot;items&quot;: {\r\n             &quot;item-1&quot;:{\r\n                  &quot;name&quot;: &quot;frist item&quot;  \r\n             },\r\n             &quot;item-2&quot;:{\r\n                 &quot;name&quot;: &quot;second item&quot;  \r\n             }\r\n         }\r\n    }\r\n\r\nexpect to get the status to receive from the client Order with the whole structure\r\n\r\nexample from [here][1]\r\ndata what I got [screenshot][2]\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/MapKeyJoinColumn.html\r\n  [2]: https://ibb.co/0nt52MP","title":"How to send in postman Map with key as object?","body":"<p>I have such an entity structure so I want to send a post request and create Order with all properties.\nHow to request body should look like in postman?</p>\n<pre><code>@Entity\npublic class Order {\n    @Id int id;\n\n    String name;\n\n    @ElementCollection\n    @CollectionTable(name=&quot;INVENTORY&quot;, joinColumns=@JoinColumn(name=&quot;STORE&quot;))\n    @Column(name=&quot;COPIES_IN_STOCK&quot;)\n    @MapKeyJoinColumn(name=&quot;MOVIE&quot;, referencedColumnName=&quot;ID&quot;)\n    Map&lt;Item, Integer&gt; items;\n \n}\n\n@Entity\npublic class Item {\n    @Id long id;\n    String name;\n\n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;api/v1/order&quot;)\npublic class OrderController {\n\n    public final OrderService orderService;\n\n    public OrderController(OrderService orderService) {\n        this.orderService = orderService;\n    }\n    @PostMapping\n    public void saveOrder(@RequestBody Order order){\n         orderService.save(order);\n    }\n}\n</code></pre>\n<hr />\n<p>this is the wrong body, so I try to find out how it should look according to my data model</p>\n<pre><code>{\n     &quot;name&quot;:&quot;first order&quot;,\n     &quot;items&quot;: {\n         &quot;item-1&quot;:{\n              &quot;name&quot;: &quot;frist item&quot;  \n         },\n         &quot;item-2&quot;:{\n             &quot;name&quot;: &quot;second item&quot;  \n         }\n     }\n}\n</code></pre>\n<p>expect to get the status to receive from the client Order with the whole structure</p>\n<p>example from <a href=\"https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/MapKeyJoinColumn.html\" rel=\"nofollow noreferrer\">here</a>\ndata what I got <a href=\"https://ibb.co/0nt52MP\" rel=\"nofollow noreferrer\">screenshot</a></p>\n"},{"tags":["java","spring","spring-boot","rest","methods"],"answers":[{"tags":[],"owner":{"account_id":14347196,"reputation":16,"user_id":10363745,"display_name":"Sachith Harshamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673943888,"creation_date":1673942608,"answer_id":75143422,"question_id":75143056,"body_markdown":"No need to create a new repo as customrepository to implement custom query. You can write a new method to retrieve data.\r\n\r\n    public interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\r\n\r\n        // using JPA method\r\n        Optional&lt;Student&gt; findByIdnumber(String idNumber);\r\n\r\n        // using JPA query | this is an optional method in case you need to implement any query in future\r\n        // ?1 represents the first parameter of the method, which is &#39;idNumber&#39;\r\n        @Query(value = &quot;SELECT s.id FROM Student s WHERE s.idnumber=?1&quot;, nativeQuery = true)\r\n        String findIdByIdnumber(String idNumber);\r\n    }\r\n\r\nThrough the service you can check whether a record is available or not and perform a respective action (throw an exception).","title":"Java Spring Rest Api Custom Repository","body":"<p>No need to create a new repo as customrepository to implement custom query. You can write a new method to retrieve data.</p>\n<pre><code>public interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\n\n    // using JPA method\n    Optional&lt;Student&gt; findByIdnumber(String idNumber);\n\n    // using JPA query | this is an optional method in case you need to implement any query in future\n    // ?1 represents the first parameter of the method, which is 'idNumber'\n    @Query(value = &quot;SELECT s.id FROM Student s WHERE s.idnumber=?1&quot;, nativeQuery = true)\n    String findIdByIdnumber(String idNumber);\n}\n</code></pre>\n<p>Through the service you can check whether a record is available or not and perform a respective action (throw an exception).</p>\n"},{"tags":[],"owner":{"account_id":26680163,"reputation":16,"user_id":20290233,"display_name":"Nithish Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673943379,"creation_date":1673943379,"answer_id":75143527,"question_id":75143056,"body_markdown":"You can use the jpa repository method \r\n\r\n    studentRepo.findById(studentId)\r\nTo fetch a record in the database with the studentId.\r\nIf you want it to find the record exists or not you can make the method return null and check whether the object is null or not and throw the appropriate exception. Like in the below example.\r\n\r\n    Student student = studentRepo.findById(studentId).orElse(null);\r\n    if(student == null)\r\n         throw new CustomException(&quot;student does not exist&quot;);\r\n\r\n","title":"Java Spring Rest Api Custom Repository","body":"<p>You can use the jpa repository method</p>\n<pre><code>studentRepo.findById(studentId)\n</code></pre>\n<p>To fetch a record in the database with the studentId.\nIf you want it to find the record exists or not you can make the method return null and check whether the object is null or not and throw the appropriate exception. Like in the below example.</p>\n<pre><code>Student student = studentRepo.findById(studentId).orElse(null);\nif(student == null)\n     throw new CustomException(&quot;student does not exist&quot;);\n</code></pre>\n"}],"owner":{"account_id":27013009,"reputation":1,"user_id":20572341,"display_name":"user20572341"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674711796,"creation_date":1673940148,"question_id":75143056,"body_markdown":"So I have a student class\r\n\r\n```\r\n@Table(name = &quot;student&quot;)\r\npublic class Student {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String firstname;\r\n    private String lastname;\r\n    private String idnumber;\r\n    private String adress;\r\n    private boolean active=Boolean.TRUE;\r\n    @OneToMany( mappedBy=&quot;student&quot;)\r\n    private Set&lt;Contact&gt; contacts = new HashSet&lt;&gt;();\r\n    @ManyToMany(mappedBy = &quot;students&quot;)\r\n    private Set&lt;Team&gt; teams = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\nand I have repository \r\n\r\n```\r\npublic interface StudentRepository extends JpaRepository&lt;Student,Long&gt; {\r\n}\r\n```\r\n\r\nI want to create customrepository to find student idnumber, and while creating new student it will check all students if idnumber already exists throw exception.","title":"Java Spring Rest Api Custom Repository","body":"<p>So I have a student class</p>\n<pre><code>@Table(name = &quot;student&quot;)\npublic class Student {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long id;\n    private String firstname;\n    private String lastname;\n    private String idnumber;\n    private String adress;\n    private boolean active=Boolean.TRUE;\n    @OneToMany( mappedBy=&quot;student&quot;)\n    private Set&lt;Contact&gt; contacts = new HashSet&lt;&gt;();\n    @ManyToMany(mappedBy = &quot;students&quot;)\n    private Set&lt;Team&gt; teams = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>and I have repository</p>\n<pre><code>public interface StudentRepository extends JpaRepository&lt;Student,Long&gt; {\n}\n</code></pre>\n<p>I want to create customrepository to find student idnumber, and while creating new student it will check all students if idnumber already exists throw exception.</p>\n"},{"tags":["java","unit-testing","logging","junit","slf4j"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1470802256,"post_id":38861416,"comment_id":65091327,"body_markdown":"Hint. Your problem is the **new** statement that takes places in your code. You could here http://stackoverflow.com/questions/38863913/how-to-unit-test-log-e-in-android to understand how to get rid of calls to static methods or new in your case. And: to understand why **new** gives problems, you might want to watch some videos: https://www.youtube.com/playlist?list=PLD0011D00849E1B79 ... seriously: every minute is worth your time.","body":"Hint. Your problem is the <b>new</b> statement that takes places in your code. You could here <a href=\"http://stackoverflow.com/questions/38863913/how-to-unit-test-log-e-in-android\" title=\"how to unit test log e in android\">stackoverflow.com/questions/38863913/&hellip;</a> to understand how to get rid of calls to static methods or new in your case. And: to understand why <b>new</b> gives problems, you might want to watch some videos: <a href=\"https://www.youtube.com/playlist?list=PLD0011D00849E1B79\" rel=\"nofollow noreferrer\">youtube.com/playlist?list=PLD0011D00849E1B79</a> ... seriously: every minute is worth your time."},{"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"score":0,"creation_date":1470808410,"post_id":38861416,"comment_id":65093397,"body_markdown":"Foo has logger that is not written or implemented they way you can test your logger. you simply invoke new Foo, where foo has its own logger at that point onwards","body":"Foo has logger that is not written or implemented they way you can test your logger. you simply invoke new Foo, where foo has its own logger at that point onwards"},{"owner":{"account_id":4676270,"reputation":486,"user_id":4301584,"accept_rate":50,"display_name":"IanEdington"},"score":2,"creation_date":1490800180,"post_id":38861416,"comment_id":73276268,"body_markdown":"Possible duplicate of [How to do a JUnit assert on a message in a logger](http://stackoverflow.com/questions/1827677/how-to-do-a-junit-assert-on-a-message-in-a-logger)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1827677/how-to-do-a-junit-assert-on-a-message-in-a-logger\">How to do a JUnit assert on a message in a logger</a>"}],"answers":[{"tags":[],"owner":{"account_id":170809,"reputation":16057,"user_id":397786,"display_name":"Tassos Bassoukos"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1495921013,"creation_date":1470783600,"answer_id":38861740,"question_id":38861416,"body_markdown":"Sure!\r\n\r\n* Create your own custom in-memory Singleton `Appender` class\r\n* Modify the testing logger configuration to log to this appender in addition to all other logging you will do\r\n* `clear()` it during each test `@Begin`\r\n* assert-test it normally before the test finishes.\r\n\r\nIn fact, SLF4J already has [an implementation](http://projects.lidalia.org.uk/slf4j-test/) of this which you can look at.","title":"Junit testing log statements","body":"<p>Sure!</p>\n\n<ul>\n<li>Create your own custom in-memory Singleton <code>Appender</code> class</li>\n<li>Modify the testing logger configuration to log to this appender in addition to all other logging you will do</li>\n<li><code>clear()</code> it during each test <code>@Begin</code></li>\n<li>assert-test it normally before the test finishes.</li>\n</ul>\n\n<p>In fact, SLF4J already has <a href=\"http://projects.lidalia.org.uk/slf4j-test/\" rel=\"nofollow noreferrer\">an implementation</a> of this which you can look at.</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620902668,"creation_date":1620902668,"answer_id":67517894,"question_id":38861416,"body_markdown":"Logback comes with two suitable appenders:\r\n\r\n* http://logback.qos.ch/apidocs/ch/qos/logback/core/read/CyclicBufferAppender.html\r\n* http://logback.qos.ch/apidocs/ch/qos/logback/core/read/ListAppender.html\r\n\r\nthat you can introspect in your tests.","title":"Junit testing log statements","body":"<p>Logback comes with two suitable appenders:</p>\n<ul>\n<li><a href=\"http://logback.qos.ch/apidocs/ch/qos/logback/core/read/CyclicBufferAppender.html\" rel=\"nofollow noreferrer\">http://logback.qos.ch/apidocs/ch/qos/logback/core/read/CyclicBufferAppender.html</a></li>\n<li><a href=\"http://logback.qos.ch/apidocs/ch/qos/logback/core/read/ListAppender.html\" rel=\"nofollow noreferrer\">http://logback.qos.ch/apidocs/ch/qos/logback/core/read/ListAppender.html</a></li>\n</ul>\n<p>that you can introspect in your tests.</p>\n"},{"tags":[],"owner":{"account_id":13899037,"reputation":109,"user_id":10035055,"display_name":"Nightwalker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659473187,"creation_date":1659473187,"answer_id":73213599,"question_id":38861416,"body_markdown":"About how to set up the JUnit to test the logging statement, I think I found the answer. Here is the code.\r\n\r\n```Java\r\npackage com.example.demo;\r\n\r\nimport ch.qos.logback.classic.Logger;\r\nimport ch.qos.logback.classic.spi.ILoggingEvent;\r\nimport ch.qos.logback.core.AppenderBase;\r\nimport lombok.Getter;\r\nimport org.junit.Test;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\n\r\npublic class FooTest {\r\n\r\n    @Test\r\n    public void somethingTest() {\r\n        Appender appender = new Appender();\r\n        Logger logger = (Logger) LoggerFactory.getLogger(Foo.class);\r\n        logger.addAppender(appender);\r\n        appender.start();\r\n\r\n        (new Foo()).something();\r\n\r\n        assertEquals(1, appender.getEvents().size());\r\n        assertEquals(&quot;doing foo test&quot;, appender.getEvents().get(0).getMessage());\r\n\r\n    }\r\n\r\n}\r\n@Getter\r\nclass Appender extends AppenderBase&lt;ILoggingEvent&gt; {\r\n    private List&lt;ILoggingEvent&gt; events = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    protected void append(ILoggingEvent iLoggingEvent) {\r\n        events.add(iLoggingEvent);\r\n    }\r\n}\r\n\r\n```","title":"Junit testing log statements","body":"<p>About how to set up the JUnit to test the logging statement, I think I found the answer. Here is the code.</p>\n<pre><code>package com.example.demo;\n\nimport ch.qos.logback.classic.Logger;\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.core.AppenderBase;\nimport lombok.Getter;\nimport org.junit.Test;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\n\npublic class FooTest {\n\n    @Test\n    public void somethingTest() {\n        Appender appender = new Appender();\n        Logger logger = (Logger) LoggerFactory.getLogger(Foo.class);\n        logger.addAppender(appender);\n        appender.start();\n\n        (new Foo()).something();\n\n        assertEquals(1, appender.getEvents().size());\n        assertEquals(&quot;doing foo test&quot;, appender.getEvents().get(0).getMessage());\n\n    }\n\n}\n@Getter\nclass Appender extends AppenderBase&lt;ILoggingEvent&gt; {\n    private List&lt;ILoggingEvent&gt; events = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void append(ILoggingEvent iLoggingEvent) {\n        events.add(iLoggingEvent);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27571948,"reputation":11,"user_id":21042962,"display_name":"Rishabh Rawat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674711658,"creation_date":1674127521,"answer_id":75171525,"question_id":38861416,"body_markdown":"```\r\nprivate Logger baseLoggerMock = (Logger) LoggerFactory.getLogger(MyService.class);\r\n    private ListAppender&lt;ILoggingEvent&gt; baseListAppender = new ListAppender&lt;&gt;();\r\n    private List&lt;ILoggingEvent&gt; logsList = baseListAppender.list;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        baseListAppender.start();\r\n        baseLoggerMock.addAppender(baseListAppender);\r\n    }\r\n\r\n  @Test\r\n    void shouldCallLoggerAndLogMessages() {\r\n\r\n        assertEquals(\r\n                &quot;My Message&quot;,\r\n                logsList.get(0).getFormattedMessage());\r\n    }\r\n```","title":"Junit testing log statements","body":"<pre><code>private Logger baseLoggerMock = (Logger) LoggerFactory.getLogger(MyService.class);\n    private ListAppender&lt;ILoggingEvent&gt; baseListAppender = new ListAppender&lt;&gt;();\n    private List&lt;ILoggingEvent&gt; logsList = baseListAppender.list;\n\n    @BeforeEach\n    void setUp() {\n        baseListAppender.start();\n        baseLoggerMock.addAppender(baseListAppender);\n    }\n\n  @Test\n    void shouldCallLoggerAndLogMessages() {\n\n        assertEquals(\n                &quot;My Message&quot;,\n                logsList.get(0).getFormattedMessage());\n    }\n</code></pre>\n"}],"owner":{"account_id":880958,"reputation":5860,"user_id":222676,"accept_rate":76,"display_name":"Richard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38971,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1674711658,"creation_date":1470781606,"question_id":38861416,"body_markdown":"I have a java 8 app with a class foo like this:\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class Foo {\r\n    \tprivate final Logger log = LoggerFactory.getLogger(Foo.class);\r\n    \r\n    \tpublic String something() {\r\n    \t\tlog.info(&quot;doing foo test&quot;);\r\n    \t\treturn &quot;test&quot;;\r\n    \t}\r\n    }\r\n\r\nWhich I am writing a JUnit (Junit 4.11) test case for like this:\r\n\r\n    public class FooTest {\r\n    \tprivate Foo foo;\r\n    \r\n    \t@Before\r\n    \tpublic void setUp() throws Exception {\r\n    \t\tfoo = new Foo();\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void testSomething() {\r\n    \t\tString result = foo.something();\r\n    \t\tassertEquals(result,&quot;test&quot;);\r\n    \t}\r\n    }\r\n\r\nMy objective is to write a test case that tests the `something` method for it&#39;s return value **AND** the logging statement to make sure something is being logged. I&#39;ve spent hours scouring the web to figure out how to setup the junit to test the logging statement. I&#39;ve tried [this][1], [this][2], [this][3] and [this][4] method to no avail.\r\n\r\nI don&#39;t know if it&#39;s something I&#39;m doing wrong or what. But here&#39;s my code based on the last example:\r\n\r\n    public class FooTest {\r\n    \tprivate Foo foo;\r\n    \t@Mock private Appender appender;\r\n        @Captor private ArgumentCaptor captor;\r\n    \r\n    \t@Before\r\n    \tpublic void setUp() throws Exception {\r\n    \t\tfoo = new Foo();\r\n    \t\tMockitoAnnotations.initMocks(this);\r\n            Logger.getRootLogger().addAppender(appender);\r\n    \t}\r\n    \r\n    \t@After\r\n        public void tearDown() throws Exception {\r\n            Logger.getRootLogger().removeAllAppenders();\r\n        }\r\n    \r\n    \t@Test\r\n    \tpublic void testSomething() {\r\n    \t\tString result = foo.something();\r\n    \t\tassertEquals(result,&quot;test&quot;);\r\n    \t\tverify(appender).doAppend(((LoggingEvent) captor.capture()));\r\n            LoggingEvent loggingEvent = (LoggingEvent) captor.getValue();\r\n            assertEquals(loggingEvent.getRenderedMessage(), &quot;doing foo test&quot;);\r\n    \t}\r\n    }\r\n\r\nBut when I run this I get the following error:\r\n\r\n    Wanted but not invoked:\r\n    appender.doAppend(&lt;Capturing argument&gt;);\r\n    -&gt; at &lt;package&gt;.testSomething(FooTest.java:22)\r\n    Actually, there were zero interactions with this mock.\r\n\r\nIs there an easier way to accomplish what I want? If this is the best way then what am I doing wrong?\r\n\r\n  [1]: http://giordano.scalzo.biz/2009/10/21/no-more-excuses-junit-testing-log-messages/\r\n  [2]: http://codebyexample.info/2012/03/31/how-log4j-and-junit-became-friends/\r\n  [3]: http://bloodredsun.com/2010/12/09/checking-logging-in-unit-tests/\r\n  [4]: http://blog.diabol.se/?p=474","title":"Junit testing log statements","body":"<p>I have a java 8 app with a class foo like this:</p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class Foo {\n    private final Logger log = LoggerFactory.getLogger(Foo.class);\n\n    public String something() {\n        log.info(\"doing foo test\");\n        return \"test\";\n    }\n}\n</code></pre>\n\n<p>Which I am writing a JUnit (Junit 4.11) test case for like this:</p>\n\n<pre><code>public class FooTest {\n    private Foo foo;\n\n    @Before\n    public void setUp() throws Exception {\n        foo = new Foo();\n    }\n\n    @Test\n    public void testSomething() {\n        String result = foo.something();\n        assertEquals(result,\"test\");\n    }\n}\n</code></pre>\n\n<p>My objective is to write a test case that tests the <code>something</code> method for it's return value <strong>AND</strong> the logging statement to make sure something is being logged. I've spent hours scouring the web to figure out how to setup the junit to test the logging statement. I've tried <a href=\"http://giordano.scalzo.biz/2009/10/21/no-more-excuses-junit-testing-log-messages/\" rel=\"noreferrer\">this</a>, <a href=\"http://codebyexample.info/2012/03/31/how-log4j-and-junit-became-friends/\" rel=\"noreferrer\">this</a>, <a href=\"http://bloodredsun.com/2010/12/09/checking-logging-in-unit-tests/\" rel=\"noreferrer\">this</a> and <a href=\"http://blog.diabol.se/?p=474\" rel=\"noreferrer\">this</a> method to no avail.</p>\n\n<p>I don't know if it's something I'm doing wrong or what. But here's my code based on the last example:</p>\n\n<pre><code>public class FooTest {\n    private Foo foo;\n    @Mock private Appender appender;\n    @Captor private ArgumentCaptor captor;\n\n    @Before\n    public void setUp() throws Exception {\n        foo = new Foo();\n        MockitoAnnotations.initMocks(this);\n        Logger.getRootLogger().addAppender(appender);\n    }\n\n    @After\n    public void tearDown() throws Exception {\n        Logger.getRootLogger().removeAllAppenders();\n    }\n\n    @Test\n    public void testSomething() {\n        String result = foo.something();\n        assertEquals(result,\"test\");\n        verify(appender).doAppend(((LoggingEvent) captor.capture()));\n        LoggingEvent loggingEvent = (LoggingEvent) captor.getValue();\n        assertEquals(loggingEvent.getRenderedMessage(), \"doing foo test\");\n    }\n}\n</code></pre>\n\n<p>But when I run this I get the following error:</p>\n\n<pre><code>Wanted but not invoked:\nappender.doAppend(&lt;Capturing argument&gt;);\n-&gt; at &lt;package&gt;.testSomething(FooTest.java:22)\nActually, there were zero interactions with this mock.\n</code></pre>\n\n<p>Is there an easier way to accomplish what I want? If this is the best way then what am I doing wrong?</p>\n"},{"tags":["java","android","json","kotlin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1674003489,"post_id":75152170,"comment_id":132621261,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":7517498,"reputation":1,"user_id":5710449,"display_name":"NIlesh Dhawale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674711508,"creation_date":1673989324,"question_id":75152170,"body_markdown":"Fatal Exception: java.lang.IllegalStateException\r\ncom.google.gson.stream.JsonWriter.name (JsonWriter.java:389)\r\n\r\ncom.google.gson.Gson.toJson (Gson.java:618)\r\n\r\n\r\nThis is from crashlatics\r\n\r\n```\r\ndata class BasketChangeMethodBottomSheetInputModel(\r\n    val brandName: String? = null,\r\n    val productId: String,\r\n    val productName: String? = null,\r\n    val skuId: String,\r\n    val imageUrl: String? = null,\r\n    @FulfilmentType val fulfilmentType: String? = null,\r\n    val isReplenishment: Boolean? = false,\r\n    val quantity: Int? = null,\r\n    var standardProductDetails: UserSpecificProductDetailsResponse? = null,\r\n    var sameDayDeliveryProductDetails: UserSpecificProductDetailsResponse? = null,\r\n    var pickUpProductDetails: UserSpecificProductDetailsResponse? = null\r\n) {\r\n\r\n    fun toBundle() = Bundle().apply {\r\n        putString(KEY_CHANGE_METHOD_INPUT, Gson().toJson(this@BasketChangeMethodBottomSheetInputModel))\r\n    }\r\n}\r\n```","title":"Fatal Exception: java.lang.IllegalStateException com.google.gson.stream.JsonWriter.name (JsonWriter.java:389)","body":"<p>Fatal Exception: java.lang.IllegalStateException\ncom.google.gson.stream.JsonWriter.name (JsonWriter.java:389)</p>\n<p>com.google.gson.Gson.toJson (Gson.java:618)</p>\n<p>This is from crashlatics</p>\n<pre><code>data class BasketChangeMethodBottomSheetInputModel(\n    val brandName: String? = null,\n    val productId: String,\n    val productName: String? = null,\n    val skuId: String,\n    val imageUrl: String? = null,\n    @FulfilmentType val fulfilmentType: String? = null,\n    val isReplenishment: Boolean? = false,\n    val quantity: Int? = null,\n    var standardProductDetails: UserSpecificProductDetailsResponse? = null,\n    var sameDayDeliveryProductDetails: UserSpecificProductDetailsResponse? = null,\n    var pickUpProductDetails: UserSpecificProductDetailsResponse? = null\n) {\n\n    fun toBundle() = Bundle().apply {\n        putString(KEY_CHANGE_METHOD_INPUT, Gson().toJson(this@BasketChangeMethodBottomSheetInputModel))\n    }\n}\n</code></pre>\n"},{"tags":["java","terminal","command","liquibase"],"answers":[{"tags":[],"owner":{"account_id":27505805,"reputation":1,"user_id":20988583,"display_name":"Lucas Afonso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674708674,"creation_date":1674708674,"answer_id":75242379,"question_id":75242336,"body_markdown":"these commands come with linux and mac, for use the commands in win is necessary install one &quot;terminal for win&quot;, one example is the git bash\r\n\r\nhttps://git-scm.com/download/win\r\n\r\nsorry for English ","title":"What is the difference between windows and mac commands?","body":"<p>these commands come with linux and mac, for use the commands in win is necessary install one &quot;terminal for win&quot;, one example is the git bash</p>\n<p><a href=\"https://git-scm.com/download/win\" rel=\"nofollow noreferrer\">https://git-scm.com/download/win</a></p>\n<p>sorry for English</p>\n"},{"tags":[],"owner":{"account_id":19548722,"reputation":66,"user_id":14304860,"display_name":"Chetra_S11"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674710151,"creation_date":1674710151,"answer_id":75242466,"question_id":75242336,"body_markdown":"**Linux and Mac** is based on UNIX which makes most terminal commands the same. Some are different based on terminal or OS. &lt;br&gt;\r\n**Window** is based on Windows NT kernel which is an entire different family tree. That&#39;s why their commands is nothing like Linux. &lt;br&gt;&lt;br&gt;\r\nIf you&#39;re going to use terminal a lot, consider using [**GitBash**](https://git-scm.com/downloads) or install a [**Windows Subsystem for Linux**](https://learn.microsoft.com/en-us/windows/wsl/install) for your machine. Therefore, you can stick with linux&#39;s command, which in my opinion is easier and less complicated than window&#39;s commands.&lt;br&gt;&lt;br&gt;\r\n","title":"What is the difference between windows and mac commands?","body":"<p><strong>Linux and Mac</strong> is based on UNIX which makes most terminal commands the same. Some are different based on terminal or OS. <br>\n<strong>Window</strong> is based on Windows NT kernel which is an entire different family tree. That's why their commands is nothing like Linux. <br><br>\nIf you're going to use terminal a lot, consider using <a href=\"https://git-scm.com/downloads\" rel=\"nofollow noreferrer\"><strong>GitBash</strong></a> or install a <a href=\"https://learn.microsoft.com/en-us/windows/wsl/install\" rel=\"nofollow noreferrer\"><strong>Windows Subsystem for Linux</strong></a> for your machine. Therefore, you can stick with linux's command, which in my opinion is easier and less complicated than window's commands.<br><br></p>\n"}],"owner":{"account_id":27282210,"reputation":1,"user_id":20801942,"display_name":"V&#252;salə"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1674710151,"creation_date":1674708230,"question_id":75242336,"body_markdown":"\\~cd and \\~ls -la &quot;databaseName &quot; how to write these commands ind windows? (this commands is for terminal)\r\n\r\ni cant find mac and windows command ","title":"What is the difference between windows and mac commands?","body":"<p>~cd and ~ls -la &quot;databaseName &quot; how to write these commands ind windows? (this commands is for terminal)</p>\n<p>i cant find mac and windows command</p>\n"},{"tags":["java","base64"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1674699213,"post_id":75241703,"comment_id":132772332,"body_markdown":"How does it crash? What’s the actual error?","body":"How does it crash? What’s the actual error?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1674699218,"post_id":75241703,"comment_id":132772333,"body_markdown":"Please include the full error output in the question text","body":"Please include the full error output in the question text"},{"owner":{"account_id":27039980,"reputation":3,"user_id":20594932,"display_name":"sw team"},"score":0,"creation_date":1674699253,"post_id":75241703,"comment_id":132772336,"body_markdown":"the application crashes out of nowhere when I open a large file","body":"the application crashes out of nowhere when I open a large file"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1674699335,"post_id":75241703,"comment_id":132772341,"body_markdown":"Out of nowhere, the OP ignores the above comments","body":"Out of nowhere, the OP ignores the above comments"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674704753,"post_id":75241703,"comment_id":132772926,"body_markdown":"It doesn&#39;t happen &quot;out of nowhere&quot; .  It (most likely) is reported as an exception that you are not handling *correctly*.  Change `catch (Exception io) {Toast.makeText(MainActivity.this, io.toString(), Toast.LENGTH_LONG).show();}` to also log the exception.  And then show us the **complete** stacktrace.","body":"It doesn&#39;t happen &quot;out of nowhere&quot; .  It (most likely) is reported as an exception that you are not handling <i>correctly</i>.  Change <code>catch (Exception io) {Toast.makeText(MainActivity.this, io.toString(), Toast.LENGTH_LONG).show();}</code> to also log the exception.  And then show us the <b>complete</b> stacktrace."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674830454,"post_id":75241703,"comment_id":132802792,"body_markdown":"Using `InputStream.available()` is the wrong thing to do. Also, base64 is not a form of encryption, and in addition, you seem to be encoding to base64 per `data` array you read, which means the file doesn&#39;t have a single base64 encoded content, it has multiple base64 encoded fragments, which likely cannot be decoded properly (because it might have base64 padding characters in the middle of the stream.","body":"Using <code>InputStream.available()</code> is the wrong thing to do. Also, base64 is not a form of encryption, and in addition, you seem to be encoding to base64 per <code>data</code> array you read, which means the file doesn&#39;t have a single base64 encoded content, it has multiple base64 encoded fragments, which likely cannot be decoded properly (because it might have base64 padding characters in the middle of the stream."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674708885,"creation_date":1674707256,"answer_id":75242255,"question_id":75241703,"body_markdown":"Note that what you are doing here is Base64 encoding the file contents.  Don&#39;t imagine that someone can&#39;t trivially crack this (so-called) &quot;encryption&quot;.\r\n\r\nThere are lots of things wrong with your attempt.  I shall go through the more important ones:\r\n\r\n        @Override\r\n        protected Void doInBackground(Void[] p) {\r\n            File new_file = null;\r\n            try {\r\n\r\nProblem: You should be using [*try with resources*](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) to avoid resource leaks.\r\n\r\n                new_file = new File(file.getAbsolutePath() + &quot;.enc.txt&quot;);\r\n                if (!new_file.exists()) {\r\n                    new_file.createNewFile();\r\n                }\r\n\r\nProblems:\r\n\r\n1. On the one hand, there is no need to use `createNewFile` to pre-create an output file.  Opening the file using `FileOutputStream` will create it if it doesn&#39;t exist already.\r\n\r\n2. On the other hand, this won&#39;t prevent (or report) errors in cases where the file&#39;s parent directory doesn&#39;t exist, is not writeable and so on.\r\n\r\n3. It would be better to use `java.nio.file.Path` and `java.nio.file.Files` from Java 7 / Android API 26. `Path` and `Files` are better APIs and they will report problems as exceptions so that you can (hypothetically) report them to the user via your exception handler.\r\n\r\n   There are even some `Files.copy` methods, though they are not directly applicable to your use-case since you are encoding the data as you copy it.\r\n\r\n                BufferedInputStream mInputStream = \r\n                    new BufferedInputStream(new FileInputStream(file));\r\n                OutputStream mOutputStream = \r\n                    new DataOutputStream(new FileOutputStream(new_file));\r\n\r\n\r\nProblem:\r\n\r\nI don&#39;t think you need a `DataOutputStream`.  It won&#39;t actually be doing anything.\r\n\r\n\r\n                byte[] data = new byte[mInputStream.available()];\r\n\r\nProblem:\r\n\r\nThe `available()` method should not be used for this.  It returns the number of bytes that are &quot;available&quot; to be read right now.  The value you get is context dependent.  For a socket stream it is typically the number of bytes that are currently in the kernel buffers ready to read.  For a &quot;regular&quot; file it may be the length of the input file.\r\n\r\nSo if you are copying a &quot;really big&quot; file, then you may be attempting to allocate a buffer that will hold the entire file.  In the worst case, that will cause your app to OOME!\r\n\r\n**NOTE** - Such an OOME might be the &quot;out of nowhere&quot; problem that you are seeing.\r\n\r\nThe &quot;best&quot; way is debatable, but I would just use a fixed buffer size ... if I was doing an explicit read / write copy of a stream.  The size of the buffer affects throughput, but if you are looking for ultimate performance you shouldn&#39;t be doing it this way.\r\n\r\n                int len = 0;\r\n                \r\n                while (true) {\r\n                    len = mInputStream.read(data);\r\n                    if (len &gt; 0) {\r\n                        mOutputStream.write(\r\n                            Base64.encode(data, 0, len, Base64.DEFAULT));\r\n                    }\r\n                    break;\r\n                }\r\n\r\nProblem: This loop is simply wrong.  You are *unconditionally* breaking on the first iteration.  You should be doing something like this:\r\n\r\n    int len;\r\n    while ((len = mInputStream.read(data)) &gt; 0) {\r\n        mOutputStream.write(Base64.encode(data, 0, len, Base64.DEFAULT));\r\n    }\r\n\r\nIn other words, keep reading / writing until `read` returns a non-positive result.\r\n\r\nNote: I&#39;m not sure which `Base64` class you are using there.  It doesn&#39;t appear to be `java.util.Base64`\r\n\r\n                mOutputStream.flush();\r\n                if (mOutputStream != null) {\r\n                    mOutputStream.close();\r\n                }\r\n                if (mInputStream != null) {\r\n                    mInputStream.close();\r\n                }\r\n\r\nProblems:\r\n\r\n1.  The `flush()` is not necessary.  Closing the stream will flush.  And besides, what happens with your attempted flush if `mOutputStream` is `null`.\r\n\r\n2.  This version leaks resources (file descriptors).  If an exception has been thrown, these statements won&#39;t be executed, and the stream objects will not be closed.\r\n\r\n3.  This is all unnecessary if you use *try with resources* instead.\r\n\r\n\r\n            } catch (Exception io) {\r\n                Toast.makeText(MainActivity.this, io.toString(),\r\n                               Toast.LENGTH_LONG).show();\r\n            }\r\n            return null;\r\n        }\r\n\r\nProblems:\r\n\r\n1.  Catching `Exception` is a bad idea.  A better idea is to catch and handle the *expected* exceptions, and let the unexpected ones propagate so that they can be handled further up the stack.\r\n\r\n    In this case, it looks like you are assuming that the exception will be some sort of I/O exception.  In fact, it could also be an unchecked exception such as an NPE.  (An OOME is also possible, though this catch wouldn&#39;t catch that because OOMEs are `Error` exceptions.)\r\n\r\n2.  You are throwing away the exception details.  Unexpected exceptions should be logged so that you can diagnose them via logcat.\r\n","title":"I&#39;m having trouble writing copy large files","body":"<p>Note that what you are doing here is Base64 encoding the file contents.  Don't imagine that someone can't trivially crack this (so-called) &quot;encryption&quot;.</p>\n<p>There are lots of things wrong with your attempt.  I shall go through the more important ones:</p>\n<pre><code>    @Override\n    protected Void doInBackground(Void[] p) {\n        File new_file = null;\n        try {\n</code></pre>\n<p>Problem: You should be using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\"><em>try with resources</em></a> to avoid resource leaks.</p>\n<pre><code>            new_file = new File(file.getAbsolutePath() + &quot;.enc.txt&quot;);\n            if (!new_file.exists()) {\n                new_file.createNewFile();\n            }\n</code></pre>\n<p>Problems:</p>\n<ol>\n<li><p>On the one hand, there is no need to use <code>createNewFile</code> to pre-create an output file.  Opening the file using <code>FileOutputStream</code> will create it if it doesn't exist already.</p>\n</li>\n<li><p>On the other hand, this won't prevent (or report) errors in cases where the file's parent directory doesn't exist, is not writeable and so on.</p>\n</li>\n<li><p>It would be better to use <code>java.nio.file.Path</code> and <code>java.nio.file.Files</code> from Java 7 / Android API 26. <code>Path</code> and <code>Files</code> are better APIs and they will report problems as exceptions so that you can (hypothetically) report them to the user via your exception handler.</p>\n<p>There are even some <code>Files.copy</code> methods, though they are not directly applicable to your use-case since you are encoding the data as you copy it.</p>\n<pre><code>         BufferedInputStream mInputStream = \n             new BufferedInputStream(new FileInputStream(file));\n         OutputStream mOutputStream = \n             new DataOutputStream(new FileOutputStream(new_file));\n</code></pre>\n</li>\n</ol>\n<p>Problem:</p>\n<p>I don't think you need a <code>DataOutputStream</code>.  It won't actually be doing anything.</p>\n<pre><code>            byte[] data = new byte[mInputStream.available()];\n</code></pre>\n<p>Problem:</p>\n<p>The <code>available()</code> method should not be used for this.  It returns the number of bytes that are &quot;available&quot; to be read right now.  The value you get is context dependent.  For a socket stream it is typically the number of bytes that are currently in the kernel buffers ready to read.  For a &quot;regular&quot; file it may be the length of the input file.</p>\n<p>So if you are copying a &quot;really big&quot; file, then you may be attempting to allocate a buffer that will hold the entire file.  In the worst case, that will cause your app to OOME!</p>\n<p><strong>NOTE</strong> - Such an OOME might be the &quot;out of nowhere&quot; problem that you are seeing.</p>\n<p>The &quot;best&quot; way is debatable, but I would just use a fixed buffer size ... if I was doing an explicit read / write copy of a stream.  The size of the buffer affects throughput, but if you are looking for ultimate performance you shouldn't be doing it this way.</p>\n<pre><code>            int len = 0;\n            \n            while (true) {\n                len = mInputStream.read(data);\n                if (len &gt; 0) {\n                    mOutputStream.write(\n                        Base64.encode(data, 0, len, Base64.DEFAULT));\n                }\n                break;\n            }\n</code></pre>\n<p>Problem: This loop is simply wrong.  You are <em>unconditionally</em> breaking on the first iteration.  You should be doing something like this:</p>\n<pre><code>int len;\nwhile ((len = mInputStream.read(data)) &gt; 0) {\n    mOutputStream.write(Base64.encode(data, 0, len, Base64.DEFAULT));\n}\n</code></pre>\n<p>In other words, keep reading / writing until <code>read</code> returns a non-positive result.</p>\n<p>Note: I'm not sure which <code>Base64</code> class you are using there.  It doesn't appear to be <code>java.util.Base64</code></p>\n<pre><code>            mOutputStream.flush();\n            if (mOutputStream != null) {\n                mOutputStream.close();\n            }\n            if (mInputStream != null) {\n                mInputStream.close();\n            }\n</code></pre>\n<p>Problems:</p>\n<ol>\n<li><p>The <code>flush()</code> is not necessary.  Closing the stream will flush.  And besides, what happens with your attempted flush if <code>mOutputStream</code> is <code>null</code>.</p>\n</li>\n<li><p>This version leaks resources (file descriptors).  If an exception has been thrown, these statements won't be executed, and the stream objects will not be closed.</p>\n</li>\n<li><p>This is all unnecessary if you use <em>try with resources</em> instead.</p>\n<pre><code>    } catch (Exception io) {\n        Toast.makeText(MainActivity.this, io.toString(),\n                       Toast.LENGTH_LONG).show();\n    }\n    return null;\n}\n</code></pre>\n</li>\n</ol>\n<p>Problems:</p>\n<ol>\n<li><p>Catching <code>Exception</code> is a bad idea.  A better idea is to catch and handle the <em>expected</em> exceptions, and let the unexpected ones propagate so that they can be handled further up the stack.</p>\n<p>In this case, it looks like you are assuming that the exception will be some sort of I/O exception.  In fact, it could also be an unchecked exception such as an NPE.  (An OOME is also possible, though this catch wouldn't catch that because OOMEs are <code>Error</code> exceptions.)</p>\n</li>\n<li><p>You are throwing away the exception details.  Unexpected exceptions should be logged so that you can diagnose them via logcat.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":27039980,"reputation":3,"user_id":20594932,"display_name":"sw team"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75242255,"answer_count":1,"score":-2,"last_activity_date":1674708885,"creation_date":1674698845,"question_id":75241703,"body_markdown":"I&#39;m having problems with my code, I&#39;m encrypting a file with more than 300mb in base 64 but my application gives errors when I open the lra encrypt file\r\n\r\nthis is my code crashes on the byte, i don&#39;t understand why\r\n```\r\nprivate void encript(final File file) {\r\n    new AsyncTask&lt;Void, Void, Void&gt;() {\r\n\r\n        @Override\r\n        protected Void doInBackground(Void[] p) {\r\n            File new_file = null;\r\n            try {\r\n                new_file = new File(file.getAbsolutePath() + &quot;.enc.txt&quot;);\r\n                if (!new_file.exists()) {\r\n                    new_file.createNewFile();\r\n                }\r\n                BufferedInputStream mInputStream = new BufferedInputStream(new FileInputStream(file));\r\n                OutputStream mOutputStream = new DataOutputStream(new FileOutputStream(new_file));\r\n                byte[] data = new byte[mInputStream.available()];\r\n                int len = 0;\r\n                \r\n                while (true) {\r\n                    len = mInputStream.read(data);\r\n                    if (len &gt; 0) {\r\n                        mOutputStream.write(Base64.encode(data, 0, len, Base64.DEFAULT));\r\n                    }\r\n                    break;\r\n                }\r\n                mOutputStream.flush();\r\n                if (mOutputStream != null) {\r\n                    mOutputStream.close();\r\n                }\r\n                if (mInputStream != null) {\r\n                    mInputStream.close();\r\n                }\r\n            } catch (Exception io) {\r\n                Toast.makeText(MainActivity.this, io.toString(), Toast.LENGTH_LONG).show();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Void res) {\r\n            Toast.makeText(MainActivity.this, &quot;Sucesss&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n    }.execute(new Void[0]);\r\n    \r\n}\r\n```","title":"I&#39;m having trouble writing copy large files","body":"<p>I'm having problems with my code, I'm encrypting a file with more than 300mb in base 64 but my application gives errors when I open the lra encrypt file</p>\n<p>this is my code crashes on the byte, i don't understand why</p>\n<pre><code>private void encript(final File file) {\n    new AsyncTask&lt;Void, Void, Void&gt;() {\n\n        @Override\n        protected Void doInBackground(Void[] p) {\n            File new_file = null;\n            try {\n                new_file = new File(file.getAbsolutePath() + &quot;.enc.txt&quot;);\n                if (!new_file.exists()) {\n                    new_file.createNewFile();\n                }\n                BufferedInputStream mInputStream = new BufferedInputStream(new FileInputStream(file));\n                OutputStream mOutputStream = new DataOutputStream(new FileOutputStream(new_file));\n                byte[] data = new byte[mInputStream.available()];\n                int len = 0;\n                \n                while (true) {\n                    len = mInputStream.read(data);\n                    if (len &gt; 0) {\n                        mOutputStream.write(Base64.encode(data, 0, len, Base64.DEFAULT));\n                    }\n                    break;\n                }\n                mOutputStream.flush();\n                if (mOutputStream != null) {\n                    mOutputStream.close();\n                }\n                if (mInputStream != null) {\n                    mInputStream.close();\n                }\n            } catch (Exception io) {\n                Toast.makeText(MainActivity.this, io.toString(), Toast.LENGTH_LONG).show();\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void res) {\n            Toast.makeText(MainActivity.this, &quot;Sucesss&quot;, Toast.LENGTH_LONG).show();\n        }\n    }.execute(new Void[0]);\n    \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674710945,"post_id":75242380,"comment_id":132773440,"body_markdown":"Running without compiling only works for single-file programs.","body":"Running without compiling only works for single-file programs."},{"owner":{"display_name":"user21084337"},"score":0,"creation_date":1674711104,"post_id":75242380,"comment_id":132773454,"body_markdown":"I thought javac compiles? Does it do something else entirely?","body":"I thought javac compiles? Does it do something else entirely?"},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1674717912,"post_id":75242380,"comment_id":132774390,"body_markdown":"are you using any IDE","body":"are you using any IDE"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1674717944,"post_id":75242380,"comment_id":132774394,"body_markdown":"Yes `javac` compiles.  That&#39;s not the issue.   The issue is your `java`  command line.  Try this: `java -cp .:gson.jar MainApp`.  And then read the manual entry carefully.","body":"Yes <code>javac</code> compiles.  That&#39;s not the issue.   The issue is your <code>java</code>  command line.  Try this: <code>java -cp .:gson.jar MainApp</code>.  And then read the manual entry carefully."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674718043,"post_id":75242380,"comment_id":132774418,"body_markdown":"My guess is that you also need to read abou Java packages and how to use them.","body":"My guess is that you also need to read abou Java packages and how to use them."},{"owner":{"display_name":"user21084337"},"score":0,"creation_date":1674756815,"post_id":75242380,"comment_id":132786852,"body_markdown":"@Stephen C It returns the error &quot;could not find or load main class MainApp&quot;, even though the MainApp class file exists. Where would you suggest I start reading about packages?","body":"@Stephen C It returns the error &quot;could not find or load main class MainApp&quot;, even though the MainApp class file exists. Where would you suggest I start reading about packages?"},{"owner":{"display_name":"user21084337"},"score":0,"creation_date":1674756887,"post_id":75242380,"comment_id":132786874,"body_markdown":"@ArshCoder I used IntelliJ to compile it before, and I didn&#39;t suffer any issues there.","body":"@ArshCoder I used IntelliJ to compile it before, and I didn&#39;t suffer any issues there."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674773605,"post_id":75242380,"comment_id":132790887,"body_markdown":"1) Are your classes (e.g. `MainApp.class`) in the current directory.  2) Any good Java tutorial or textbook.  Try the Oracle Java tutorial.  3) Yes.  An IDE (e.g. Intellij) takes care of the classpath for you.  But when you run `java` and `javac` from the command line you need to get the classpath right *for yourself*.  Did you read the explanation of the classpath in the manual entry?  Try this ... https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html","body":"1) Are your classes (e.g. <code>MainApp.class</code>) in the current directory.  2) Any good Java tutorial or textbook.  Try the Oracle Java tutorial.  3) Yes.  An IDE (e.g. Intellij) takes care of the classpath for you.  But when you run <code>java</code> and <code>javac</code> from the command line you need to get the classpath right <i>for yourself</i>.  Did you read the explanation of the classpath in the manual entry?  Try this ... <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/tools/windows/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674773838,"post_id":75242380,"comment_id":132790929,"body_markdown":"Are you using MS Windows?","body":"Are you using MS Windows?"},{"owner":{"display_name":"user21084337"},"score":0,"creation_date":1674790908,"post_id":75242380,"comment_id":132793176,"body_markdown":"@StephenC Yeah, I&#39;m using windows 10 (JDK 17). All the files (.jar + .class) are in the working directory, so that shouldn&#39;t be an issue. I tried backing out of the directory and executing from above, but that gave the same &quot;could not find or load MainApp&quot; error. I looked through the link you sent, and it says &quot;When classes are stored in an archive file (a zip or JAR file) the class path entry is the path to and including the zip or JAR file.&quot; (Third section to bottom), so it seems like it should automatically latch onto the directory the jar file&#39;s in, but that doesn&#39;t seem to be happening.","body":"@StephenC Yeah, I&#39;m using windows 10 (JDK 17). All the files (.jar + .class) are in the working directory, so that shouldn&#39;t be an issue. I tried backing out of the directory and executing from above, but that gave the same &quot;could not find or load MainApp&quot; error. I looked through the link you sent, and it says &quot;When classes are stored in an archive file (a zip or JAR file) the class path entry is the path to and including the zip or JAR file.&quot; (Third section to bottom), so it seems like it should automatically latch onto the directory the jar file&#39;s in, but that doesn&#39;t seem to be happening."},{"owner":{"display_name":"user21084337"},"score":0,"creation_date":1674791423,"post_id":75242380,"comment_id":132793235,"body_markdown":"@StephenC I&#39;ve also tried specifying multiple locations by separating them with semi-colons (.:/folder/gson.jar;/folder/), but same error.","body":"@StephenC I&#39;ve also tried specifying multiple locations by separating them with semi-colons (.:/folder/gson.jar;/folder/), but same error."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674794073,"post_id":75242380,"comment_id":132793562,"body_markdown":"The separator to use on Windows is `;`.  In your last comment you are using `:` at one place and `;` at another.  Have you read the page on the classpath yet?","body":"The separator to use on Windows is <code>;</code>.  In your last comment you are using <code>:</code> at one place and <code>;</code> at another.  Have you read the page on the classpath yet?"},{"owner":{"display_name":"user21084337"},"score":0,"creation_date":1674797607,"post_id":75242380,"comment_id":132793978,"body_markdown":"@StephenC I&#39;ve read it over a few times at this point, but I&#39;m still pretty lost. I&#39;ve tried replacing the : with ; at the beginning, too, but still no change. I went back and retried your first suggestion with a semicolon, (java -cp .;gson.jar MainApp), but it still couldn&#39;t find the file till I added .java (and then it still said it couldn&#39;t find the dependencies.) I then tried &quot;java MainApp&quot;, and it couldn&#39;t find it, but sure enough, &quot;java MainApp.java&quot; found it, but lacked dependencies. Is there some reason that adding .java enables the file to be found?","body":"@StephenC I&#39;ve read it over a few times at this point, but I&#39;m still pretty lost. I&#39;ve tried replacing the : with ; at the beginning, too, but still no change. I went back and retried your first suggestion with a semicolon, (java -cp .;gson.jar MainApp), but it still couldn&#39;t find the file till I added .java (and then it still said it couldn&#39;t find the dependencies.) I then tried &quot;java MainApp&quot;, and it couldn&#39;t find it, but sure enough, &quot;java MainApp.java&quot; found it, but lacked dependencies. Is there some reason that adding .java enables the file to be found?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674805174,"post_id":75242380,"comment_id":132795250,"body_markdown":"Erm ... is there a `MainApp.class` file in the current directory?  And the `.class` files for the other Java classes in your project?  Note: when people talk about &quot;dependencies&quot; they don&#39;t normally mean other classes in your project.  What they are referring to is class in other libraries (e.g. JAR files) that your classes depend on.  Note that the &quot;.&quot; on the classpath means &quot;the current directory&quot;.","body":"Erm ... is there a <code>MainApp.class</code> file in the current directory?  And the <code>.class</code> files for the other Java classes in your project?  Note: when people talk about &quot;dependencies&quot; they don&#39;t normally mean other classes in your project.  What they are referring to is class in other libraries (e.g. JAR files) that your classes depend on.  Note that the &quot;.&quot; on the classpath means &quot;the current directory&quot;."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674805345,"post_id":75242380,"comment_id":132795294,"body_markdown":"The meaning of `java ... SomeClass.java` has already been explained to you. It means &quot;compile and run SomeClass.java&quot;.  But it only works when you have **precisely one class** to compile and run.  In your case you have multiple .java files.  So you need to compile them all first using `javac`.","body":"The meaning of <code>java ... SomeClass.java</code> has already been explained to you. It means &quot;compile and run SomeClass.java&quot;.  But it only works when you have <b>precisely one class</b> to compile and run.  In your case you have multiple .java files.  So you need to compile them all first using <code>javac</code>."},{"owner":{"display_name":"user21084337"},"score":0,"creation_date":1674844719,"post_id":75242380,"comment_id":132807442,"body_markdown":"@StevenC Yeah, after running javac, there&#39;s a .class file for each .java file. I didn&#39;t realize dependencies specifically meant .jar files, so, to reword it correctly: the error I got in my last comment specified that the program couldn&#39;t find RepositoryData.java - and, when I added in RepositoryData.java, it couldn&#39;t Repository.java - and so on and so forth till I added all the required files into the java command. However, upon doing that, it complained that the last file I added (Owner.java) didn&#39;t have a main function.","body":"@StevenC Yeah, after running javac, there&#39;s a .class file for each .java file. I didn&#39;t realize dependencies specifically meant .jar files, so, to reword it correctly: the error I got in my last comment specified that the program couldn&#39;t find RepositoryData.java - and, when I added in RepositoryData.java, it couldn&#39;t Repository.java - and so on and so forth till I added all the required files into the java command. However, upon doing that, it complained that the last file I added (Owner.java) didn&#39;t have a main function."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674954791,"post_id":75242380,"comment_id":132824420,"body_markdown":"You need to edit your question and show the exact command you are running and the exact output.","body":"You need to edit your question and show the exact command you are running and the exact output."}],"owner":{"display_name":"user21084337"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674708688,"creation_date":1674708688,"question_id":75242380,"body_markdown":"I&#39;ve never had issues with compiling with javac and running with java before, but here we are.\r\n\r\nThe program, MainApp.java, depends on a jar file and a few other programs, so I ran the following (which ran without issue):\r\n\r\n```\r\njavac -cp gson.jar *.java\r\n```\r\n\r\nHowever, when it comes time to run it, I can&#39;t seem to get it to work. I&#39;ve tried:\r\n\r\n```\r\njava -cp gson.jar MainApp.java\r\n```\r\n\r\nbut it complains that it can&#39;t find the other java files.\r\nI then tried listing the file it said it was missing:\r\n\r\n```\r\njava -cp gson.jar RepositoryData.java MainApp.java\r\n```\r\n\r\nbut it gave the same error.\r\nI then tried listing all the dependencies:\r\n\r\n```\r\njava -cp gson.jar Comment.java Issue.java Owner.java Repository.java RepositoryData.java MainApp.java\r\n```\r\n\r\nbut it complains that it can&#39;t find a main function in the Comment.java file - this leads me to think I&#39;m going about this the wrong way, and I probably shouldn&#39;t be directly referencing dependencies in the java call.\r\n\r\nI also know that the program *does* work, as I&#39;ve compiled it using an editor without issue, but I&#39;m required to do this via the command line for a class.\r\n\r\nHow should I be properly calling it?","title":"Javac Compiles Program, but Can&#39;t Run with Java","body":"<p>I've never had issues with compiling with javac and running with java before, but here we are.</p>\n<p>The program, MainApp.java, depends on a jar file and a few other programs, so I ran the following (which ran without issue):</p>\n<pre><code>javac -cp gson.jar *.java\n</code></pre>\n<p>However, when it comes time to run it, I can't seem to get it to work. I've tried:</p>\n<pre><code>java -cp gson.jar MainApp.java\n</code></pre>\n<p>but it complains that it can't find the other java files.\nI then tried listing the file it said it was missing:</p>\n<pre><code>java -cp gson.jar RepositoryData.java MainApp.java\n</code></pre>\n<p>but it gave the same error.\nI then tried listing all the dependencies:</p>\n<pre><code>java -cp gson.jar Comment.java Issue.java Owner.java Repository.java RepositoryData.java MainApp.java\n</code></pre>\n<p>but it complains that it can't find a main function in the Comment.java file - this leads me to think I'm going about this the wrong way, and I probably shouldn't be directly referencing dependencies in the java call.</p>\n<p>I also know that the program <em>does</em> work, as I've compiled it using an editor without issue, but I'm required to do this via the command line for a class.</p>\n<p>How should I be properly calling it?</p>\n"},{"tags":["java","inheritance","downcast","upcasting"],"comments":[{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1674710036,"post_id":75242362,"comment_id":132773375,"body_markdown":"If both classes have implementation of moveForward, meaning overriding, aVehicle can access that overridden method(moveForward of Auto).","body":"If both classes have implementation of moveForward, meaning overriding, aVehicle can access that overridden method(moveForward of Auto)."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674719051,"post_id":75242362,"comment_id":132774645,"body_markdown":"Casting doesn&#39;t change the type of an object so when you execute an instance method it&#39;s always the one defined by that instance&#39;s type. What casting does is change the type of the reference which in turn basically just defines what the compiler can see, i.e. with `Vehicle aVehicle` the compiler sees everything that `Vehicle` provides but not what `Auto` _adds_ (I used &quot;adds&quot; here since `moveForward(int)` wouldn&#39;t be added but overridden or implemented - `Vehicle` already has a definition of that method).","body":"Casting doesn&#39;t change the type of an object so when you execute an instance method it&#39;s always the one defined by that instance&#39;s type. What casting does is change the type of the reference which in turn basically just defines what the compiler can see, i.e. with <code>Vehicle aVehicle</code> the compiler sees everything that <code>Vehicle</code> provides but not what <code>Auto</code> <i>adds</i> (I used &quot;adds&quot; here since <code>moveForward(int)</code> wouldn&#39;t be added but overridden or implemented - <code>Vehicle</code> already has a definition of that method)."}],"owner":{"account_id":22754486,"reputation":11,"user_id":16914146,"display_name":"YI Chen Wang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1674829861,"answer_count":0,"score":1,"last_activity_date":1674708531,"creation_date":1674708531,"question_id":75242362,"body_markdown":"I got confused, as the answer suggested option A. \r\nShouldn&#39;t aVehicle bound be viewed as a Vehicle object since the first line operated upcasting?   \r\nThe question as follow:  \r\n \r\nConsider the following code snippet:\r\n\r\n```java\r\nVehicle aVehicle = new Auto();\r\naVehicle.moveForward(200);\r\n```\r\n\r\nIf the Auto class inherits from the Vehicle class, and both classes have an implementation of the\r\nmoveForward method, which statement is correct?  \r\nA) The moveForward method of the Auto class will be executed.  \r\nB) The moveForward method of the Vehicle class will be executed.  \r\nC) You must specify in the code which class&#39;s moveForward method is to be used.  \r\nD) It is not possible to determine which class it&#39;s method is called.","title":"Java upcasting and downcasting problem as follow","body":"<p>I got confused, as the answer suggested option A.\nShouldn't aVehicle bound be viewed as a Vehicle object since the first line operated upcasting?<br />\nThe question as follow:</p>\n<p>Consider the following code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Vehicle aVehicle = new Auto();\naVehicle.moveForward(200);\n</code></pre>\n<p>If the Auto class inherits from the Vehicle class, and both classes have an implementation of the\nmoveForward method, which statement is correct?<br />\nA) The moveForward method of the Auto class will be executed.<br />\nB) The moveForward method of the Vehicle class will be executed.<br />\nC) You must specify in the code which class's moveForward method is to be used.<br />\nD) It is not possible to determine which class it's method is called.</p>\n"},{"tags":["java","nullpointerexception","apache-flink"],"owner":{"account_id":307629,"reputation":5253,"user_id":619036,"accept_rate":81,"display_name":"Gaurav Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674673040,"answer_count":0,"score":0,"last_activity_date":1674708205,"creation_date":1674672774,"question_id":75238592,"body_markdown":"I am using POJO classes to deserialize json strings from Kafka to Events class ( this is the POJO class).\r\n\r\nIt has 100+ fields and some of them can be null in the source. I am able to use jackson objectmapper to convert it to Event Class&#39; object.\r\n\r\nBut when I translate this datastream to table it throws exception.\r\n\r\n```\r\n java.io.IOException: Failed to deserialize consumer record due to\r\n\tat org.apache.flink.connector.kafka.source.reader.KafkaRecordEmitter.emitRecord(KafkaRecordEmitter.java:56)\r\n\tat org.apache.flink.connector.kafka.source.reader.KafkaRecordEmitter.emitRecord(KafkaRecordEmitter.java:33)\r\n\tat org.apache.flink.connector.base.source.reader.SourceReaderBase.pollNext(SourceReaderBase.java:143)\r\n\tat org.apache.flink.streaming.api.operators.SourceOperator.emitNext(SourceOperator.java:385)\r\n\tat org.apache.flink.streaming.runtime.io.StreamTaskSourceInput.emitNext(StreamTaskSourceInput.java:68)\r\n\tat org.apache.flink.streaming.runtime.io.StreamOneInputProcessor.processInput(StreamOneInputProcessor.java:65)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.processInput(StreamTask.java:519)\r\n\tat org.apache.flink.streaming.runtime.tasks.mailbox.MailboxProcessor.runMailboxLoop(MailboxProcessor.java:203)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.runMailboxLoop(StreamTask.java:804)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:753)\r\n\tat org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:948)\r\n\tat org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:927)\r\n\tat org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:741)\r\n\tat org.apache.flink.runtime.taskmanager.Task.run(Task.java:563)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException: Could not forward element to next operator\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:99)\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:57)\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:29)\r\n\tat org.apache.flink.streaming.runtime.tasks.SourceOperatorStreamTask$AsyncDataOutputToOutput.emitRecord(SourceOperatorStreamTask.java:313)\r\n\tat org.apache.flink.streaming.api.operators.source.SourceOutputWithWatermarks.collect(SourceOutputWithWatermarks.java:110)\r\n\tat org.apache.flink.connector.kafka.source.reader.KafkaRecordEmitter$SourceOutputWrapper.collect(KafkaRecordEmitter.java:67)\r\n\tat org.apache.flink.api.common.serialization.DeserializationSchema.deserialize(DeserializationSchema.java:84)\r\n\tat org.apache.flink.connector.kafka.source.reader.deserializer.KafkaValueOnlyDeserializationSchemaWrapper.deserialize(KafkaValueOnlyDeserializationSchemaWrapper.java:51)\r\n\tat org.apache.flink.connector.kafka.source.reader.KafkaRecordEmitter.emitRecord(KafkaRecordEmitter.java:53)\r\n\t... 14 more\r\nCaused by: org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException: Could not forward element to next operator\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:99)\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:57)\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:29)\r\n\tat org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:56)\r\n\tat org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:29)\r\n\tat org.apache.flink.streaming.api.operators.StreamFilter.processElement(StreamFilter.java:39)\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:82)\r\n\t... 22 more\r\nCaused by: org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException: Could not forward element to next operator\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:99)\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:57)\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:29)\r\n\tat org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:56)\r\n\tat org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:29)\r\n\tat org.apache.flink.streaming.api.operators.TimestampedCollector.collect(TimestampedCollector.java:51)\r\n\tat com.poshmark.scala.flink.EnrichLauncher$$anon$1.flatMap(DemuxLauncher.scala:206)\r\n\tat com.poshmark.scala.flink.EnrichLauncher$$anon$1.flatMap(DemuxLauncher.scala:182)\r\n\tat org.apache.flink.streaming.api.operators.StreamFlatMap.processElement(StreamFlatMap.java:47)\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:82)\r\n\t... 28 more\r\nCaused by: org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException: Could not forward element to next operator\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:99)\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:57)\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:29)\r\n\tat org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:56)\r\n\tat org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:29)\r\n\tat org.apache.flink.table.runtime.operators.source.InputConversionOperator.processElement(InputConversionOperator.java:128)\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:82)\r\n\t... 37 more\r\nCaused by: java.lang.NullPointerException\r\n\tat org.apache.flink.table.data.conversion.StringStringConverter.toExternal(StringStringConverter.java:39)\r\n\tat StreamExecCalc$7.processElement(Unknown Source)\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:82)\r\n\t... 43 more\r\n\r\n```\r\n\r\nCode in context is:\r\n\r\n```\r\nval mapped  = filteredEvents.flatMap(new FlatMapFunction[String, RawEvents]() {\r\n      @throws[Exception]\r\n      def flatMap(jsonRow: String, out: Collector[RawEvents]): Unit = {\r\n\r\n        var m = new RawEvents()\r\n        try {\r\n          val objectMapper = new ObjectMapper() with ScalaObjectMapper\r\n          objectMapper.registerModule(DefaultScalaModule)\r\n          val a = objectMapper.readValue[EventMessageWrapper](jsonRow)\r\n\r\n          m =  a.getMessage\r\n        } catch {\r\n          case e:Exception =&gt; {\r\n            LOGGER.error(s&quot;Got some other kind of Throwable exception ${e.getMessage}&quot;)\r\n            LOGGER.error(jsonRow)\r\n            LOGGER.error(e.getStackTrace.mkString(&quot;\\n&quot;))\r\n            //          println(s&quot;Got some other kind of Throwable exception ${e.getMessage}&quot;)\r\n\r\n          }\r\n\r\n        }\r\n\r\n        if(m.getAt != null){\r\n          LOGGER.error(&quot;aaa&quot;+m.toString)\r\n          out.collect(m)\r\n        }\r\n\r\n\r\n      }\r\n    })\r\n```\r\n\r\nDemuxLauncher.scala:206 points to `out.collect(m)`\r\n\r\nI did read https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it and I understand it is caused because some of my string values are null. But I am expecting flink to be able to handle null valued strings","title":"flink throws java.lang.NullPointerException when using custom ddesiralizer","body":"<p>I am using POJO classes to deserialize json strings from Kafka to Events class ( this is the POJO class).</p>\n<p>It has 100+ fields and some of them can be null in the source. I am able to use jackson objectmapper to convert it to Event Class' object.</p>\n<p>But when I translate this datastream to table it throws exception.</p>\n<pre><code> java.io.IOException: Failed to deserialize consumer record due to\n    at org.apache.flink.connector.kafka.source.reader.KafkaRecordEmitter.emitRecord(KafkaRecordEmitter.java:56)\n    at org.apache.flink.connector.kafka.source.reader.KafkaRecordEmitter.emitRecord(KafkaRecordEmitter.java:33)\n    at org.apache.flink.connector.base.source.reader.SourceReaderBase.pollNext(SourceReaderBase.java:143)\n    at org.apache.flink.streaming.api.operators.SourceOperator.emitNext(SourceOperator.java:385)\n    at org.apache.flink.streaming.runtime.io.StreamTaskSourceInput.emitNext(StreamTaskSourceInput.java:68)\n    at org.apache.flink.streaming.runtime.io.StreamOneInputProcessor.processInput(StreamOneInputProcessor.java:65)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.processInput(StreamTask.java:519)\n    at org.apache.flink.streaming.runtime.tasks.mailbox.MailboxProcessor.runMailboxLoop(MailboxProcessor.java:203)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.runMailboxLoop(StreamTask.java:804)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:753)\n    at org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:948)\n    at org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:927)\n    at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:741)\n    at org.apache.flink.runtime.taskmanager.Task.run(Task.java:563)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException: Could not forward element to next operator\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:99)\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:57)\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:29)\n    at org.apache.flink.streaming.runtime.tasks.SourceOperatorStreamTask$AsyncDataOutputToOutput.emitRecord(SourceOperatorStreamTask.java:313)\n    at org.apache.flink.streaming.api.operators.source.SourceOutputWithWatermarks.collect(SourceOutputWithWatermarks.java:110)\n    at org.apache.flink.connector.kafka.source.reader.KafkaRecordEmitter$SourceOutputWrapper.collect(KafkaRecordEmitter.java:67)\n    at org.apache.flink.api.common.serialization.DeserializationSchema.deserialize(DeserializationSchema.java:84)\n    at org.apache.flink.connector.kafka.source.reader.deserializer.KafkaValueOnlyDeserializationSchemaWrapper.deserialize(KafkaValueOnlyDeserializationSchemaWrapper.java:51)\n    at org.apache.flink.connector.kafka.source.reader.KafkaRecordEmitter.emitRecord(KafkaRecordEmitter.java:53)\n    ... 14 more\nCaused by: org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException: Could not forward element to next operator\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:99)\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:57)\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:29)\n    at org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:56)\n    at org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:29)\n    at org.apache.flink.streaming.api.operators.StreamFilter.processElement(StreamFilter.java:39)\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:82)\n    ... 22 more\nCaused by: org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException: Could not forward element to next operator\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:99)\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:57)\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:29)\n    at org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:56)\n    at org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:29)\n    at org.apache.flink.streaming.api.operators.TimestampedCollector.collect(TimestampedCollector.java:51)\n    at com.poshmark.scala.flink.EnrichLauncher$$anon$1.flatMap(DemuxLauncher.scala:206)\n    at com.poshmark.scala.flink.EnrichLauncher$$anon$1.flatMap(DemuxLauncher.scala:182)\n    at org.apache.flink.streaming.api.operators.StreamFlatMap.processElement(StreamFlatMap.java:47)\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:82)\n    ... 28 more\nCaused by: org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException: Could not forward element to next operator\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:99)\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:57)\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:29)\n    at org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:56)\n    at org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:29)\n    at org.apache.flink.table.runtime.operators.source.InputConversionOperator.processElement(InputConversionOperator.java:128)\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:82)\n    ... 37 more\nCaused by: java.lang.NullPointerException\n    at org.apache.flink.table.data.conversion.StringStringConverter.toExternal(StringStringConverter.java:39)\n    at StreamExecCalc$7.processElement(Unknown Source)\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:82)\n    ... 43 more\n\n</code></pre>\n<p>Code in context is:</p>\n<pre><code>val mapped  = filteredEvents.flatMap(new FlatMapFunction[String, RawEvents]() {\n      @throws[Exception]\n      def flatMap(jsonRow: String, out: Collector[RawEvents]): Unit = {\n\n        var m = new RawEvents()\n        try {\n          val objectMapper = new ObjectMapper() with ScalaObjectMapper\n          objectMapper.registerModule(DefaultScalaModule)\n          val a = objectMapper.readValue[EventMessageWrapper](jsonRow)\n\n          m =  a.getMessage\n        } catch {\n          case e:Exception =&gt; {\n            LOGGER.error(s&quot;Got some other kind of Throwable exception ${e.getMessage}&quot;)\n            LOGGER.error(jsonRow)\n            LOGGER.error(e.getStackTrace.mkString(&quot;\\n&quot;))\n            //          println(s&quot;Got some other kind of Throwable exception ${e.getMessage}&quot;)\n\n          }\n\n        }\n\n        if(m.getAt != null){\n          LOGGER.error(&quot;aaa&quot;+m.toString)\n          out.collect(m)\n        }\n\n\n      }\n    })\n</code></pre>\n<p>DemuxLauncher.scala:206 points to <code>out.collect(m)</code></p>\n<p>I did read <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a> and I understand it is caused because some of my string values are null. But I am expecting flink to be able to handle null valued strings</p>\n"},{"tags":["java","apache-poi","tableofcontents"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1674641022,"post_id":75231432,"comment_id":132755915,"body_markdown":"You have not fully read my anser https://stackoverflow.com/questions/43335464/how-to-set-table-of-contents-font-style-including-font-color-font-size-and-bol#:%7E:text=even%20cannot%20get,using%20XML%20like%3A: &quot;To make this code work using apache poi versions greater than 4...&quot;.","body":"You have not fully read my anser <a href=\"https://stackoverflow.com/questions/43335464/how-to-set-table-of-contents-font-style-including-font-color-font-size-and-bol#:%7E:text=even%20cannot%20get,using%20XML%20like%3A\" title=\"how to set table of contents font style including font color font size and bol%23%3a%257E%3atext%3deven%2520cannot%2520get%2cusing%2520XML%2520like%253A\">stackoverflow.com/questions/43335464/&hellip;</a>: &quot;To make this code work using apache poi versions greater than 4...&quot;."},{"owner":{"account_id":20958252,"reputation":3,"user_id":15398234,"display_name":"Ramzan Niazi"},"score":1,"creation_date":1674642047,"post_id":75231432,"comment_id":132756258,"body_markdown":"Thanks. now its works for me I hope it helps other","body":"Thanks. now its works for me I hope it helps other"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674707526,"creation_date":1674707175,"answer_id":75242249,"question_id":75231432,"body_markdown":"If a Microsoft Word field shall be set &quot;dirty&quot;, to tell Microsoft Word to refresh that field while next time opening the file, then this has been done using set `CTSimpleField` property `dirty` to `org.openxmlformats.schemas.wordprocessingml.x2006.main.STOnOff.TRUE` up to Apache POI version 4.x.x.\r\n\r\nFrom version 5.0.0 on the `org.openxmlformats.schemas.wordprocessingml.x2006.main.STOnOff` is not more present. There are other `STOnOff` classes but none of them provide `TRUE`/`FALSE` but only `ON`/`OFF`. But now `CTSimpleField.setDirty` accepts boolean values directly.\r\n\r\nTo make this code work using Apache POI versions greater than 4, you need changing the following:\r\n\r\n    ...\r\n    //import org.openxmlformats.schemas.wordprocessingml.x2006.main.STOnOff;\r\n    ...\r\n      //toc.setDirty(STOnOff.TRUE);\r\n      toc.setDirty(true);\r\n    ...","title":"org.apache.xmlbeans.impl.values.XmlValueOutOfRangeException: union value &#39;false&#39; does not match any members of &#39;ST_OnOff in namespace","body":"<p>If a Microsoft Word field shall be set &quot;dirty&quot;, to tell Microsoft Word to refresh that field while next time opening the file, then this has been done using set <code>CTSimpleField</code> property <code>dirty</code> to <code>org.openxmlformats.schemas.wordprocessingml.x2006.main.STOnOff.TRUE</code> up to Apache POI version 4.x.x.</p>\n<p>From version 5.0.0 on the <code>org.openxmlformats.schemas.wordprocessingml.x2006.main.STOnOff</code> is not more present. There are other <code>STOnOff</code> classes but none of them provide <code>TRUE</code>/<code>FALSE</code> but only <code>ON</code>/<code>OFF</code>. But now <code>CTSimpleField.setDirty</code> accepts boolean values directly.</p>\n<p>To make this code work using Apache POI versions greater than 4, you need changing the following:</p>\n<pre><code>...\n//import org.openxmlformats.schemas.wordprocessingml.x2006.main.STOnOff;\n...\n  //toc.setDirty(STOnOff.TRUE);\n  toc.setDirty(true);\n...\n</code></pre>\n"}],"owner":{"account_id":20958252,"reputation":3,"user_id":15398234,"display_name":"Ramzan Niazi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75242249,"answer_count":1,"score":0,"last_activity_date":1674707526,"creation_date":1674635976,"question_id":75231432,"body_markdown":"Hi I am tring to create table of contents in word document using java apachi poi library. The I found a code form [here](https://stackoverflow.com/questions/43335464/how-to-set-table-of-contents-font-style-including-font-color-font-size-and-bol#:~:text=even%20cannot%20get,using%20XML%20like%3A). But when I run the code it gives me below error\r\n\r\n&gt; rg.apache.xmlbeans.impl.values.XmlValueOutOfRangeException: union value &#39;false&#39; does not match any members of &#39;ST_OnOff in namespace http://schemas.openxmlformats.org/officeDocument/2006/sharedTypes\r\n\r\nthe code which creating the error is\r\n\r\n```\r\nXWPFParagraph paragraph = document.createParagraph();\r\nCTP ctP = paragraph.getCTP();\r\nCTSimpleField toc = ctP.addNewFldSimple();\r\ntoc.setInstr(&quot;TOC \\\\* MERGEFORMAT&quot;);\r\ntoc.setDirty(STOnOff.TRUE);\r\n```\r\n\r\n\r\nPoi version 5.2.3","title":"org.apache.xmlbeans.impl.values.XmlValueOutOfRangeException: union value &#39;false&#39; does not match any members of &#39;ST_OnOff in namespace","body":"<p>Hi I am tring to create table of contents in word document using java apachi poi library. The I found a code form <a href=\"https://stackoverflow.com/questions/43335464/how-to-set-table-of-contents-font-style-including-font-color-font-size-and-bol#:%7E:text=even%20cannot%20get,using%20XML%20like%3A\">here</a>. But when I run the code it gives me below error</p>\n<blockquote>\n<p>rg.apache.xmlbeans.impl.values.XmlValueOutOfRangeException: union value 'false' does not match any members of 'ST_OnOff in namespace <a href=\"http://schemas.openxmlformats.org/officeDocument/2006/sharedTypes\" rel=\"nofollow noreferrer\">http://schemas.openxmlformats.org/officeDocument/2006/sharedTypes</a></p>\n</blockquote>\n<p>the code which creating the error is</p>\n<pre><code>XWPFParagraph paragraph = document.createParagraph();\nCTP ctP = paragraph.getCTP();\nCTSimpleField toc = ctP.addNewFldSimple();\ntoc.setInstr(&quot;TOC \\\\* MERGEFORMAT&quot;);\ntoc.setDirty(STOnOff.TRUE);\n</code></pre>\n<p>Poi version 5.2.3</p>\n"},{"tags":["java","postgresql","hibernate"],"comments":[{"owner":{"display_name":"user330315"},"score":5,"creation_date":1504606143,"post_id":46052297,"comment_id":79064007,"body_markdown":"While you can probably convince your obfuscation layer to do so, I would **strongly** recommend against using `CamelCase`. The usual naming convention in Postgres is to use `snake_case` - you will save yourself a lot of trouble if you stick to that.","body":"While you can probably convince your obfuscation layer to do so, I would <b>strongly</b> recommend against using <code>CamelCase</code>. The usual naming convention in Postgres is to use <code>snake_case</code> - you will save yourself a lot of trouble if you stick to that."},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1504607804,"post_id":46052297,"comment_id":79065030,"body_markdown":"Isn&#39;t that specifically related to the DBMS itself?","body":"Isn&#39;t that specifically related to the DBMS itself?"}],"answers":[{"tags":[],"owner":{"account_id":4670913,"reputation":3692,"user_id":3782729,"display_name":"Piotr Rogowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504606011,"creation_date":1504606011,"answer_id":46052326,"question_id":46052297,"body_markdown":"Try this:\r\n\r\n    @Entity @Table(name = &quot;\\&quot;OrgInfo\\&quot;&quot;)","title":"How to configure Hibernate to make table/column name with uppercase AND lowercase letters","body":"<p>Try this:</p>\n\n<pre><code>@Entity @Table(name = \"\\\"OrgInfo\\\"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3149932,"reputation":2652,"user_id":2663579,"accept_rate":0,"display_name":"SachinSarawgi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1504607044,"creation_date":1504607044,"answer_id":46052672,"question_id":46052297,"body_markdown":"Try to configure Hibernate &quot;physical-strategy&quot; in your configuration file as follows:\r\n\r\n&gt; spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl","title":"How to configure Hibernate to make table/column name with uppercase AND lowercase letters","body":"<p>Try to configure Hibernate \"physical-strategy\" in your configuration file as follows:</p>\n\n<blockquote>\n  <p>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5396455,"reputation":5608,"user_id":4297539,"accept_rate":69,"display_name":"Siberia"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504607531,"creation_date":1504607531,"answer_id":46052836,"question_id":46052297,"body_markdown":"The working solution is to use both parts:\r\n \r\n\r\n    @Entity\r\n    @Table(name = &quot;\\&quot;OrgInfo\\&quot;&quot;)\r\n\r\nand \r\n\r\n&gt; spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl","title":"How to configure Hibernate to make table/column name with uppercase AND lowercase letters","body":"<p>The working solution is to use both parts:</p>\n\n<pre><code>@Entity\n@Table(name = \"\\\"OrgInfo\\\"\")\n</code></pre>\n\n<p>and </p>\n\n<blockquote>\n  <p>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6946737,"reputation":500,"user_id":5330909,"display_name":"Jolly Good"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674706699,"creation_date":1674706699,"answer_id":75242218,"question_id":46052297,"body_markdown":"application.yml version of the answer by @Sachin:\r\n\r\n\r\n    hibernate:\r\n            physical_naming_strategy: &#39;org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl&#39;\r\n\r\n","title":"How to configure Hibernate to make table/column name with uppercase AND lowercase letters","body":"<p>application.yml version of the answer by @Sachin:</p>\n<pre><code>hibernate:\n        physical_naming_strategy: 'org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl'\n</code></pre>\n"}],"owner":{"account_id":5396455,"reputation":5608,"user_id":4297539,"accept_rate":69,"display_name":"Siberia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7990,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46052672,"answer_count":4,"score":3,"last_activity_date":1674706699,"creation_date":1504605937,"question_id":46052297,"body_markdown":"I have to use table and column names in my Postgres that **contain uppercase and lowercase letters**. For example `OrgInfo`\r\n\r\nI would like to create such tables and columns using **Hibernate**. If I use standard approach: \r\n\r\n    @Entity \r\n    @Table(name = &quot;OrgInfo&quot;)\r\n\r\nthen I receive the table with the name &quot;org_info&quot;.\r\n\r\nHow I can configure Hibernate to create tables and columns with exact given names including uppercase and lowercase letters?\r\n\r\nI have tried to use \r\n   \r\n\r\n    @Entity \r\n    @Table(name = &quot;\\&quot;OrgInfo\\&quot;&quot;)\r\n\r\nwith no effect.\r\n\r\nAlso I use Spring Boot and have tried to configure like this:\r\n\r\n&gt; spring.jpa.hibernate.naming-strategy =\r\n&gt; org.hibernate.cfg.DefaultNamingStrategy OR\r\n&gt; spring.jpa.hibernate.naming-strategy =\r\n&gt; org.hibernate.cfg.ImprovedNamingStrategy","title":"How to configure Hibernate to make table/column name with uppercase AND lowercase letters","body":"<p>I have to use table and column names in my Postgres that <strong>contain uppercase and lowercase letters</strong>. For example <code>OrgInfo</code></p>\n\n<p>I would like to create such tables and columns using <strong>Hibernate</strong>. If I use standard approach: </p>\n\n<pre><code>@Entity \n@Table(name = \"OrgInfo\")\n</code></pre>\n\n<p>then I receive the table with the name \"org_info\".</p>\n\n<p>How I can configure Hibernate to create tables and columns with exact given names including uppercase and lowercase letters?</p>\n\n<p>I have tried to use </p>\n\n<pre><code>@Entity \n@Table(name = \"\\\"OrgInfo\\\"\")\n</code></pre>\n\n<p>with no effect.</p>\n\n<p>Also I use Spring Boot and have tried to configure like this:</p>\n\n<blockquote>\n  <p>spring.jpa.hibernate.naming-strategy =\n  org.hibernate.cfg.DefaultNamingStrategy OR\n  spring.jpa.hibernate.naming-strategy =\n  org.hibernate.cfg.ImprovedNamingStrategy</p>\n</blockquote>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1349669401,"post_id":12775170,"comment_id":17267267,"body_markdown":"It&#39;s hard to tell if this is a genuine request for information, or merely a complaint about the tools.","body":"It&#39;s hard to tell if this is a genuine request for information, or merely a complaint about the tools."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1349671208,"post_id":12775170,"comment_id":17267619,"body_markdown":"It *could* be a request for information, but the second paragraph could use some un-biasing, and the last two paragraphs could disappear altogether...then it&#39;d be a request for information.","body":"It <i>could</i> be a request for information, but the second paragraph could use some un-biasing, and the last two paragraphs could disappear altogether...then it&#39;d be a request for information."},{"owner":{"account_id":30958,"reputation":66457,"user_id":84704,"accept_rate":91,"display_name":"Warren  P"},"score":0,"creation_date":1349718465,"post_id":12775170,"comment_id":17286060,"body_markdown":"I apologize for the testy way it was originally phrased. I&#39;ve edited it.","body":"I apologize for the testy way it was originally phrased. I&#39;ve edited it."}],"answers":[{"tags":[],"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1349671020,"creation_date":1349671020,"answer_id":12775402,"question_id":12775170,"body_markdown":"IntelliJ IDEA is first of all a very smart editor, not a RAD tool like Delphi. \r\n\r\nHowever, it has a powerful gui editor - just right click on any package in the Project view on the left, and select `New GUI form` or `New Dialog`, and it will let you create GUI. [This][1] question provides more info about running the gui.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3899525/how-to-use-gui-form-created-in-itellij-idea","title":"How do I create a new Swing app in IntelliJ IDEA Community edition?","body":"<p>IntelliJ IDEA is first of all a very smart editor, not a RAD tool like Delphi. </p>\n\n<p>However, it has a powerful gui editor - just right click on any package in the Project view on the left, and select <code>New GUI form</code> or <code>New Dialog</code>, and it will let you create GUI. <a href=\"https://stackoverflow.com/questions/3899525/how-to-use-gui-form-created-in-itellij-idea\">This</a> question provides more info about running the gui.</p>\n"},{"tags":[],"owner":{"account_id":365858,"reputation":1652,"user_id":711031,"accept_rate":100,"display_name":"no id"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1600823442,"creation_date":1349671082,"answer_id":12775408,"question_id":12775170,"body_markdown":"There is no such thing as GUI project in IDEA. You can add GUI forms there at any time you need, just by RightClick -&gt; New -&gt; GUI Form. You can create GUI app from it just by adding `main()` method into the form binding class. IDEA does the job for you if you hit Alt-Ins (or menu Code-&gt;Generate) when in the binding class editor. The only requirement for this is to place correct name for the form&#39;s root panel.\r\n\r\nYou also should check this manual to discover some other things: https://www.jetbrains.com/help/idea/designing-gui-major-steps.html. Anyway, the GUI builder is pretty intuitive.\r\n","title":"How do I create a new Swing app in IntelliJ IDEA Community edition?","body":"<p>There is no such thing as GUI project in IDEA. You can add GUI forms there at any time you need, just by RightClick -&gt; New -&gt; GUI Form. You can create GUI app from it just by adding <code>main()</code> method into the form binding class. IDEA does the job for you if you hit Alt-Ins (or menu Code-&gt;Generate) when in the binding class editor. The only requirement for this is to place correct name for the form's root panel.</p>\n<p>You also should check this manual to discover some other things: <a href=\"https://www.jetbrains.com/help/idea/designing-gui-major-steps.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/designing-gui-major-steps.html</a>. Anyway, the GUI builder is pretty intuitive.</p>\n"},{"tags":[],"owner":{"account_id":7093250,"reputation":261,"user_id":5427786,"display_name":"chengl"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1452804763,"creation_date":1452804763,"answer_id":34799490,"question_id":12775170,"body_markdown":"The following instruction applies to IntelliJ Idea 14.\r\n\r\n\r\n\r\n1. Enable UI Designer \r\n    1. File → Settings → Plugins → UI Designer\r\n2. Enable generate Java class\r\n    1. File → Settings → Editor → GUI Designer → change Generate GUI into “Java source code”\r\n3. Go to the project view, and right click the package name where you want the generated Java class to be stored\r\n    1. On the context menu, choose New → GUI Form, and set the bound class\r\n    2. In the designer, it will automatically put a Jpanel on the window. Choose Jpanel, and first set the Layout manager to GridLayoutManager(IntelliJ).\r\n    3. Adding components as needed, make sure to give some value to “field name”. This value will become the name of this component in the form class.\r\n    4. You can preview the form by right click and then choose preview.\r\n    5. When you are done, change the layout manager for Jpanel to “GridBagLayout”.\r\n4. Click on Build → Make Project to generate Java source codes and store them in the bound Java class.","title":"How do I create a new Swing app in IntelliJ IDEA Community edition?","body":"<p>The following instruction applies to IntelliJ Idea 14.</p>\n\n<ol>\n<li>Enable UI Designer \n\n<ol>\n<li>File → Settings → Plugins → UI Designer</li>\n</ol></li>\n<li>Enable generate Java class\n\n<ol>\n<li>File → Settings → Editor → GUI Designer → change Generate GUI into “Java source code”</li>\n</ol></li>\n<li>Go to the project view, and right click the package name where you want the generated Java class to be stored\n\n<ol>\n<li>On the context menu, choose New → GUI Form, and set the bound class</li>\n<li>In the designer, it will automatically put a Jpanel on the window. Choose Jpanel, and first set the Layout manager to GridLayoutManager(IntelliJ).</li>\n<li>Adding components as needed, make sure to give some value to “field name”. This value will become the name of this component in the form class.</li>\n<li>You can preview the form by right click and then choose preview.</li>\n<li>When you are done, change the layout manager for Jpanel to “GridBagLayout”.</li>\n</ol></li>\n<li>Click on Build → Make Project to generate Java source codes and store them in the bound Java class.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8824885,"reputation":111,"user_id":6593448,"display_name":"ShakeeL"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1469419860,"creation_date":1469419860,"answer_id":38559591,"question_id":12775170,"body_markdown":"Creating a New GUI Form or Dialog\r\n\r\n**To create a new GUI form**\r\n\r\n1.On the main menu, choose File | New, as described in the section Creating Files.\r\n\r\n2.On the pop-up menu, choose GUI Form.\r\n\r\n3.Specify the name of the new form, and select the layout manager.\r\n\r\n4.Check the option Create bound class, and specify the bound class name.\r\n\r\n5.Click OK.\r\n\r\n**To create a new dialog**\r\n\r\n1.On the main menu, choose File | New, as described in the section Creating Files.\r\n\r\n2.On the pop-up menu, choose Dialog.\r\n\r\n3.Specify the name of the new dialog.\r\n\r\n4.Specify the following options:\r\n\r\n  Generate main() method that creates and shows dialog.\r\n\r\n  Generate OK handler.\r\n\r\n  Generate Cancel handler.\r\n\r\n5.Click OK.\r\n\r\n**To create a File Template from a GUI form**\r\n\r\n1.Create a GUI form or open it in the GUI Designer.\r\n\r\n2.On the Main menu, choose Tools | Save File as Template. The File Templates dialog displays the source code of the form. The extension of the new template is .form\r\n3.Specify the template name, and click OK.\r\n\r\n**To create a new GUI form from a File Template**\r\n\r\n1.In the Project tool window, right-click the package where you want to create the new form.\r\n2.On the context menu choose New. The submenu contains items for all defined File Templates, including GUI forms.\r\n3.Select the desired GUI form template on the context menu, and give it a name when prompted.\r\n\r\n**Creating Snapshots**\r\n\r\nThe Snapshot feature enables you to convert GUI forms created by some other means into IntelliJ IDEA GUI Designer Forms. All you need to do is run your application and save a part of the running application&#39;s component tree as a GUI Designer form. From then on, you can use the GUI Designer to extend or modify the form.\r\n\r\nYou can work with the layout and code in the GUI Designer just as you do with Forms originally created with the GUI Designer.\r\n\r\n**To take a Snapshot of an existing dialog**\r\n\r\n1.Open the module that contains source code for the dialog you want to capture.\r\n\r\n2.Select the Application Run Configuration, make sure that the option Enable capturing form snapshots is checked, and run the application.\r\n\r\n3.In the running application, perform whatever interaction is necessary to open the dialog you want to capture.\r\n\r\n4.In the Project tool window, right-click the target package and choose New | Form Snapshot on the context menu. If the application is not yet running, IntelliJ IDEA prompts you to run it, and then prepare the application for taking snapshot:\r\n[enter image description here][1]\r\n\r\n\r\nThe Create Form Snapshot dialog box appears.\r\n\r\n5.In the IntelliJ IDEA&#39;s Create Form Snapshot dialog, select the top-level component to be included in the snapshot, enter the form name, and click Create Snapshot button. The new form created this way is not bound to any class. You have to bind it to a class yourself.\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0HsFh.png\r\n  [2]: https://i.stack.imgur.com/GCEfP.png\r\n\r\n**Opening Existing GUI Forms**\r\n\r\n1.Open form files the same way you open source code or text files for editing. Locate the file in the appropriate navigation view, select it, and do one of the following:\r\n\r\n -Double-click.\r\n\r\n -Choose Jump to Source on the context menu.\r\n\r\n -Press F4.\r\n\r\nEach form opens in a separate tab in the same space occupied by the Editor for source code files. You can have source code/text files and form files open simultaneously.","title":"How do I create a new Swing app in IntelliJ IDEA Community edition?","body":"<p>Creating a New GUI Form or Dialog</p>\n\n<p><strong>To create a new GUI form</strong></p>\n\n<p>1.On the main menu, choose File | New, as described in the section Creating Files.</p>\n\n<p>2.On the pop-up menu, choose GUI Form.</p>\n\n<p>3.Specify the name of the new form, and select the layout manager.</p>\n\n<p>4.Check the option Create bound class, and specify the bound class name.</p>\n\n<p>5.Click OK.</p>\n\n<p><strong>To create a new dialog</strong></p>\n\n<p>1.On the main menu, choose File | New, as described in the section Creating Files.</p>\n\n<p>2.On the pop-up menu, choose Dialog.</p>\n\n<p>3.Specify the name of the new dialog.</p>\n\n<p>4.Specify the following options:</p>\n\n<p>Generate main() method that creates and shows dialog.</p>\n\n<p>Generate OK handler.</p>\n\n<p>Generate Cancel handler.</p>\n\n<p>5.Click OK.</p>\n\n<p><strong>To create a File Template from a GUI form</strong></p>\n\n<p>1.Create a GUI form or open it in the GUI Designer.</p>\n\n<p>2.On the Main menu, choose Tools | Save File as Template. The File Templates dialog displays the source code of the form. The extension of the new template is .form\n3.Specify the template name, and click OK.</p>\n\n<p><strong>To create a new GUI form from a File Template</strong></p>\n\n<p>1.In the Project tool window, right-click the package where you want to create the new form.\n2.On the context menu choose New. The submenu contains items for all defined File Templates, including GUI forms.\n3.Select the desired GUI form template on the context menu, and give it a name when prompted.</p>\n\n<p><strong>Creating Snapshots</strong></p>\n\n<p>The Snapshot feature enables you to convert GUI forms created by some other means into IntelliJ IDEA GUI Designer Forms. All you need to do is run your application and save a part of the running application's component tree as a GUI Designer form. From then on, you can use the GUI Designer to extend or modify the form.</p>\n\n<p>You can work with the layout and code in the GUI Designer just as you do with Forms originally created with the GUI Designer.</p>\n\n<p><strong>To take a Snapshot of an existing dialog</strong></p>\n\n<p>1.Open the module that contains source code for the dialog you want to capture.</p>\n\n<p>2.Select the Application Run Configuration, make sure that the option Enable capturing form snapshots is checked, and run the application.</p>\n\n<p>3.In the running application, perform whatever interaction is necessary to open the dialog you want to capture.</p>\n\n<p>4.In the Project tool window, right-click the target package and choose New | Form Snapshot on the context menu. If the application is not yet running, IntelliJ IDEA prompts you to run it, and then prepare the application for taking snapshot:\n<a href=\"https://i.stack.imgur.com/0HsFh.png\" rel=\"noreferrer\">enter image description here</a></p>\n\n<p>The Create Form Snapshot dialog box appears.</p>\n\n<p>5.In the IntelliJ IDEA's Create Form Snapshot dialog, select the top-level component to be included in the snapshot, enter the form name, and click Create Snapshot button. The new form created this way is not bound to any class. You have to bind it to a class yourself.\n<a href=\"https://i.stack.imgur.com/GCEfP.png\" rel=\"noreferrer\">enter image description here</a></p>\n\n<p><strong>Opening Existing GUI Forms</strong></p>\n\n<p>1.Open form files the same way you open source code or text files for editing. Locate the file in the appropriate navigation view, select it, and do one of the following:</p>\n\n<p>-Double-click.</p>\n\n<p>-Choose Jump to Source on the context menu.</p>\n\n<p>-Press F4.</p>\n\n<p>Each form opens in a separate tab in the same space occupied by the Editor for source code files. You can have source code/text files and form files open simultaneously.</p>\n"},{"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674706069,"creation_date":1674706069,"answer_id":75242174,"question_id":12775170,"body_markdown":"Here&#39;s my basic shell for a one-window GUI application:\r\n\r\n    import java.awt.BorderLayout;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.WindowConstants;\r\n    \r\n    /**\r\n     * &lt;p&gt;Created by IntelliJ IDEA.\r\n     * &lt;p&gt;Date: 1/25/23\r\n     * &lt;p&gt;Time: 7:59 PM\r\n     *\r\n     * @author Miguel Mu\\u00f1oz\r\n     */\r\n    public class GenericUIApp extends JPanel {\r\n      public static void main(String[] args) {\r\n        JFrame frame = new JFrame(&quot;Generic UI App&quot;);\r\n        frame.add(new GenericUIApp());\r\n        frame.setLocationByPlatform(true);\r\n        frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\r\n        frame.pack(); // Sets the window to fit the natural size of its content pane\r\n        frame.setVisible(true);\r\n      }\r\n      \r\n      private GenericUIApp() {\r\n        super(new BorderLayout());\r\n        // replace this code with your UI code.\r\n        add(new JLabel(&quot;Put your UI Contents here.&quot;));\r\n        setBorder(BorderFactory.createMatteBorder(100, 100, 100, 100, getBackground()));\r\n      }\r\n    }\r\n","title":"How do I create a new Swing app in IntelliJ IDEA Community edition?","body":"<p>Here's my basic shell for a one-window GUI application:</p>\n<pre><code>import java.awt.BorderLayout;\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.WindowConstants;\n\n/**\n * &lt;p&gt;Created by IntelliJ IDEA.\n * &lt;p&gt;Date: 1/25/23\n * &lt;p&gt;Time: 7:59 PM\n *\n * @author Miguel Mu\\u00f1oz\n */\npublic class GenericUIApp extends JPanel {\n  public static void main(String[] args) {\n    JFrame frame = new JFrame(&quot;Generic UI App&quot;);\n    frame.add(new GenericUIApp());\n    frame.setLocationByPlatform(true);\n    frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n    frame.pack(); // Sets the window to fit the natural size of its content pane\n    frame.setVisible(true);\n  }\n  \n  private GenericUIApp() {\n    super(new BorderLayout());\n    // replace this code with your UI code.\n    add(new JLabel(&quot;Put your UI Contents here.&quot;));\n    setBorder(BorderFactory.createMatteBorder(100, 100, 100, 100, getBackground()));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":30958,"reputation":66457,"user_id":84704,"accept_rate":91,"display_name":"Warren  P"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96444,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":12775408,"answer_count":5,"score":24,"last_activity_date":1674706069,"creation_date":1349669076,"question_id":12775170,"body_markdown":"I have created a new project using the Create New Project Wizard, by choosing &quot;create project from scratch&quot; but it&#39;s completely empty (no java classes at all, so I manually created a new swing form inside the empty project).  \r\n\r\nIn many other IDEs I have used there is a way to click once, and get a new &quot;new Gui project&quot;, and I usually expect it in the &quot;File -&gt; New Project&quot; wizard or something, comparable.\r\n  \r\nThere is a new project wizard in the IntelliJ IDEA IDE, but it only seems it can create a blank project, and then I can manually add a form to it. So I did that.  But then, that lacks any of the usual Java code that you would expect it to have, to open up that form and show it as an application. \r\n\r\nI am trying to understand the features and capabilities of IntelliJ IDEA, and it seems strong as a very fast and efficient editor and debugger and build system GUI wrapper around the ANT build system, but I was wondering if there are more &quot;RAD&quot; features that I have merely overlooked.   I have done a bit of googling and reading the docs, but I haven&#39;t found much about using IntelliJ IDEA to build a GUI application in Java.\r\n\r\nWhere I&#39;m currently stuck is when I tried to build and run my empty project with an empty form in it, and I get to some kind of &quot;Run&quot; target configuration screen, and I tried clicking the [+] icon, and adding &quot;MyForm01&quot; which is the empty swing form I created, and it says in a dialog box &quot;MyForm01 is not acceptable&quot;.   I know enough java to know that the basic &quot;GUI app skeleton code&quot; is not being auto-generated by the IDE.  I could go and copy and paste something from the internet, but my interest here is in knowing whether the tool can automatically be used to build a GUI, with a workflow as simple as other RAD-style GUI builder tools, including NetBeans, which is the java tool I am most comfortable using, or Delphi, which is my main everyday tool, which is Pascal based, rather than Java.","title":"How do I create a new Swing app in IntelliJ IDEA Community edition?","body":"<p>I have created a new project using the Create New Project Wizard, by choosing \"create project from scratch\" but it's completely empty (no java classes at all, so I manually created a new swing form inside the empty project).  </p>\n\n<p>In many other IDEs I have used there is a way to click once, and get a new \"new Gui project\", and I usually expect it in the \"File -> New Project\" wizard or something, comparable.</p>\n\n<p>There is a new project wizard in the IntelliJ IDEA IDE, but it only seems it can create a blank project, and then I can manually add a form to it. So I did that.  But then, that lacks any of the usual Java code that you would expect it to have, to open up that form and show it as an application. </p>\n\n<p>I am trying to understand the features and capabilities of IntelliJ IDEA, and it seems strong as a very fast and efficient editor and debugger and build system GUI wrapper around the ANT build system, but I was wondering if there are more \"RAD\" features that I have merely overlooked.   I have done a bit of googling and reading the docs, but I haven't found much about using IntelliJ IDEA to build a GUI application in Java.</p>\n\n<p>Where I'm currently stuck is when I tried to build and run my empty project with an empty form in it, and I get to some kind of \"Run\" target configuration screen, and I tried clicking the [+] icon, and adding \"MyForm01\" which is the empty swing form I created, and it says in a dialog box \"MyForm01 is not acceptable\".   I know enough java to know that the basic \"GUI app skeleton code\" is not being auto-generated by the IDE.  I could go and copy and paste something from the internet, but my interest here is in knowing whether the tool can automatically be used to build a GUI, with a workflow as simple as other RAD-style GUI builder tools, including NetBeans, which is the java tool I am most comfortable using, or Delphi, which is my main everyday tool, which is Pascal based, rather than Java.</p>\n"},{"tags":["java","android","android-fragments","android-intent","android-activity"],"comments":[{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1674648438,"post_id":75194877,"comment_id":132758207,"body_markdown":"How do you return to `A` from `B`? Using `finish()` or calling `startActivity()`? Please show the code you use for this.","body":"How do you return to <code>A</code> from <code>B</code>? Using <code>finish()</code> or calling <code>startActivity()</code>? Please show the code you use for this."}],"owner":{"account_id":16734748,"reputation":69,"user_id":12096184,"display_name":"Xin Cheng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674702132,"creation_date":1674318867,"question_id":75194877,"body_markdown":"My activity A is like a main activity with three fragments (like three tabs). I have a basic &quot;switch case&quot; function to manage what fragment to be shown. The default fragment is home tab ( say tab 1).\r\n\r\nMy tab 3 (fragment 3/profile fragment) is profile tab where a user can edit the profile info. The profile editor activity is activity B. I use &quot;intent&quot; to go to activity B from activity A. (note: all my intent methods are in activity, interface is used to bridge activity intent methods with fragment button methods).\r\n\r\nNow, when I click back button or when I am done editing with an &quot;intent&quot; function with &quot;finish()&quot; in activity B to go back to activity A. \r\n\r\nThe problem is that it always shows fragment 1/default fragment/tab 1 when going back from activity B. I want tab 3/profile fragment to be shown instead. I don&#39;t know what the best practice is to realize this logic in Java.\r\n\r\nI was thinking of having a boolean in activity A to tell if it is going to go to activity B, so when it comes back, it sets the default fragment as fragment 3 and reset the boolean? I don&#39;t feel like it&#39;s the best practice.\r\n\r\n\r\nEDIT:\r\nI have solved the issue.\r\nI use ActivityResultLauncher&lt;Intent&gt; to go to ActivityB and setResult(RESULT_CANCELED) to get back to ActivityA.","title":"Best practice to show a particular fragment in Activity A (old Activity) when back from Activity B (new Activity)","body":"<p>My activity A is like a main activity with three fragments (like three tabs). I have a basic &quot;switch case&quot; function to manage what fragment to be shown. The default fragment is home tab ( say tab 1).</p>\n<p>My tab 3 (fragment 3/profile fragment) is profile tab where a user can edit the profile info. The profile editor activity is activity B. I use &quot;intent&quot; to go to activity B from activity A. (note: all my intent methods are in activity, interface is used to bridge activity intent methods with fragment button methods).</p>\n<p>Now, when I click back button or when I am done editing with an &quot;intent&quot; function with &quot;finish()&quot; in activity B to go back to activity A.</p>\n<p>The problem is that it always shows fragment 1/default fragment/tab 1 when going back from activity B. I want tab 3/profile fragment to be shown instead. I don't know what the best practice is to realize this logic in Java.</p>\n<p>I was thinking of having a boolean in activity A to tell if it is going to go to activity B, so when it comes back, it sets the default fragment as fragment 3 and reset the boolean? I don't feel like it's the best practice.</p>\n<p>EDIT:\nI have solved the issue.\nI use ActivityResultLauncher to go to ActivityB and setResult(RESULT_CANCELED) to get back to ActivityA.</p>\n"},{"tags":["java","shell","cmd"],"comments":[{"owner":{"account_id":3692224,"reputation":46695,"user_id":3074564,"display_name":"Mofi"},"score":0,"creation_date":1674713152,"post_id":75241737,"comment_id":132773696,"body_markdown":"Does this answer your question? [Why is no string output with &#39;echo %var%&#39; after using &#39;set var = text&#39; command in cmd?](https://stackoverflow.com/questions/26386697/why-is-no-string-output-with-echo-var-after-using-set-var-text-command-i) There must be used on Windows `set &quot;JAVA_HOME=C:\\Program Files(x86)\\Java\\jre1.8.0_221&quot;` with first `&quot;` left to the environment variable `JAVA_HOME` and not right to the equal sign and there must be specified the path to the Java directory containing the subdirectory `bin` as described by Oracle in Java documentation.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26386697/why-is-no-string-output-with-echo-var-after-using-set-var-text-command-i\">Why is no string output with &#39;echo %var%&#39; after using &#39;set var = text&#39; command in cmd?</a> There must be used on Windows <code>set &quot;JAVA_HOME=C:\\Program Files(x86)\\Java\\jre1.8.0_221&quot;</code> with first <code>&quot;</code> left to the environment variable <code>JAVA_HOME</code> and not right to the equal sign and there must be specified the path to the Java directory containing the subdirectory <code>bin</code> as described by Oracle in Java documentation."},{"owner":{"account_id":3692224,"reputation":46695,"user_id":3074564,"display_name":"Mofi"},"score":0,"creation_date":1674713404,"post_id":75241737,"comment_id":132773726,"body_markdown":"There must be used next `&quot;%JAVA_HOME%\\bin\\java.exe&quot;` instead of `%JAVA_HOME%\\java` to run the Java executable. `&gt;output.txt 2&gt;exception.txt` is modified by `cmd.exe` on execution to `1&gt;output.txt 2&gt;exception.txt` That is normal and documented by the Microsoft documentation about [Using command redirection operators](https://learn.microsoft.com/en-us/previous-versions/windows/it-pro/windows-xp/bb490982(v=technet.10)). I don&#39;t know why there should be `0` left to the redirection operator which redirects __STDOUT__ (standard output) with handle number 1 to a file. I can&#39;t see that on my PC.","body":"There must be used next <code>&quot;%JAVA_HOME%\\bin\\java.exe&quot;</code> instead of <code>%JAVA_HOME%\\java</code> to run the Java executable. <code>&gt;output.txt 2&gt;exception.txt</code> is modified by <code>cmd.exe</code> on execution to <code>1&gt;output.txt 2&gt;exception.txt</code> That is normal and documented by the Microsoft documentation about <a href=\"https://learn.microsoft.com/en-us/previous-versions/windows/it-pro/windows-xp/bb490982(v=technet.10)\" rel=\"nofollow noreferrer\">Using command redirection operators</a>. I don&#39;t know why there should be <code>0</code> left to the redirection operator which redirects <b>STDOUT</b> (standard output) with handle number 1 to a file. I can&#39;t see that on my PC."},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1674722882,"post_id":75241737,"comment_id":132775617,"body_markdown":"If I see correctly, the only difference between the commands is the `1 0`. These are the parameters passed to the `main` function in `ListOutput`, and you did not show here, what this function is doing to its parameters. In any case, the exit code is set by the `main` function.","body":"If I see correctly, the only difference between the commands is the <code>1 0</code>. These are the parameters passed to the <code>main</code> function in <code>ListOutput</code>, and you did not show here, what this function is doing to its parameters. In any case, the exit code is set by the <code>main</code> function."}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674700891,"creation_date":1674699772,"answer_id":75241779,"question_id":75241737,"body_markdown":"The documentation for the `java` command is found \r\n\r\n- [here](https://docs.oracle.com/en/java/javase/18/docs/specs/man/java.html) for JDK/JRE version 18 (a fairly recent version), and \r\n- [here](https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html) for JDK/JRE version 1.8 for Windows, which appears to be what you&#39;re using.  \r\n\r\nThe 1 and the 0 after the class name are arguments that will be passed to the Java program when it runs.  As for why this causes the program to exit with a particular exit code, that depends on what the program does.  It&#39;s impossible to answer that without seeing the source code of the program.","title":"Understanding syntax for running Java program in command line","body":"<p>The documentation for the <code>java</code> command is found</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">here</a> for JDK/JRE version 18 (a fairly recent version), and</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html\" rel=\"nofollow noreferrer\">here</a> for JDK/JRE version 1.8 for Windows, which appears to be what you're using.</li>\n</ul>\n<p>The 1 and the 0 after the class name are arguments that will be passed to the Java program when it runs.  As for why this causes the program to exit with a particular exit code, that depends on what the program does.  It's impossible to answer that without seeing the source code of the program.</p>\n"}],"owner":{"account_id":27482308,"reputation":1,"user_id":20969146,"display_name":"stewie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674700891,"creation_date":1674699352,"question_id":75241737,"body_markdown":"I&#39;m trying to understand this batch job file, there are two and the first is returning an exit code of 0:\r\n\r\n```\r\nset JAVA_HOME=&quot;C:\\Program Files(x86)\\Java\\jre1.8.0_221\\bin&quot;\r\n\r\n%JAVA_HOME%\\java -Xms125M -Xmx512M -Djava.ext.dirs=lib org.pg.test.ListOutput &gt; output.txt 2&gt;exception.txt\r\n```\r\nAnd this second one is returning an exit code of 1:\r\n\r\n```\r\nset JAVA_HOME=&quot;C:\\Program Files(x86)\\Java\\jre1.8.0_221\\bin&quot;\r\n\r\n%JAVA_HOME%\\java -Xms125M -Xmx512M -Djava.ext.dirs=lib org.pg.test.ListOutput 1 0 &gt; output.txt 2&gt;exception.txt\r\n```\r\nWhat does the 1 &amp; 0 after the file name mean exactly? Why is this making it return an exit code 1?\r\n\r\nBoth files run normally, with a successful output in output.txt.\r\n\r\nTrying to google the exact syntax this is in (batch files were not written by me) but maybe I&#39;m searching for the wrong thing. ","title":"Understanding syntax for running Java program in command line","body":"<p>I'm trying to understand this batch job file, there are two and the first is returning an exit code of 0:</p>\n<pre><code>set JAVA_HOME=&quot;C:\\Program Files(x86)\\Java\\jre1.8.0_221\\bin&quot;\n\n%JAVA_HOME%\\java -Xms125M -Xmx512M -Djava.ext.dirs=lib org.pg.test.ListOutput &gt; output.txt 2&gt;exception.txt\n</code></pre>\n<p>And this second one is returning an exit code of 1:</p>\n<pre><code>set JAVA_HOME=&quot;C:\\Program Files(x86)\\Java\\jre1.8.0_221\\bin&quot;\n\n%JAVA_HOME%\\java -Xms125M -Xmx512M -Djava.ext.dirs=lib org.pg.test.ListOutput 1 0 &gt; output.txt 2&gt;exception.txt\n</code></pre>\n<p>What does the 1 &amp; 0 after the file name mean exactly? Why is this making it return an exit code 1?</p>\n<p>Both files run normally, with a successful output in output.txt.</p>\n<p>Trying to google the exact syntax this is in (batch files were not written by me) but maybe I'm searching for the wrong thing.</p>\n"},{"tags":["java","polymorphism"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1674706819,"post_id":75240519,"comment_id":132773106,"body_markdown":"It&#39;s a poorly written, self-contradictory article. Overriding is related to (though not synonymous with) polymorphism. Overloading is not.","body":"It&#39;s a poorly written, self-contradictory article. Overriding is related to (though not synonymous with) polymorphism. Overloading is not."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1674730176,"post_id":75240519,"comment_id":132777925,"body_markdown":"In other languages you can have two unrelated classes define methods with the same signature and call them polymorphically. In Java they must override a method defined in a base class (or interface).","body":"In other languages you can have two unrelated classes define methods with the same signature and call them polymorphically. In Java they must override a method defined in a base class (or interface)."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1674746425,"post_id":75240519,"comment_id":132783251,"body_markdown":"Rather than asking us to evaluate some off-site content, why not **ask directly about the claim**?","body":"Rather than asking us to evaluate some off-site content, why not <b>ask directly about the claim</b>?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1674700631,"creation_date":1674687445,"answer_id":75240768,"question_id":75240519,"body_markdown":"A term is a way to ease communication. My brain thinks of a notion and I wish to convey it to your brain. My brain comes up with some words that encompass the notion I am trying to convey. I make my mouth move and my voicebox, shaking air  comes out, they reach your ears, from there to your brain, and from there you decode the audio message.\r\n\r\nThe communication is succesful if the notion you think I&#39;m trying to convey is roughly equivalent to what I was actually trying to convey.\r\n\r\n__And that is all that these terms are good for__.\r\n\r\nIt&#39;s clear that you&#39;re just hopelessly confused (this isn&#39;t the first question you&#39;re asking about it). Why do you &#39;care&#39;? You do not need to know what the word &#39;override&#39; is supposed to mean, you merely need to know the concept and the rules as the JVM / `javac` applies them.  You can all this &#39;overriding&#39;, or you can call it &#39;floobargling&#39; for all I care. As long as it is clear to __you__.\r\n\r\nIf you don&#39;t even understand what the book is trying to tell you about these concepts, then &#39;let me try to ask some java programmers what they think this term means, and then if they think this java language feature is an application of what they think this term means&#39; isn&#39;t going to get you any closer to understanding it.\r\n\r\nSpecifically, &#39;polymorphism&#39; is useless here. It&#39;s a nebulous term that people use to describe orthogonal concepts. In the job of conveying notions from brain to voice (or keyboard, if you prefer) to ears to another brain, summarizing notions by using the term &#39;polymorphism&#39; is likely going to lead to failure to communicate.\r\n\r\nOverride and Overload on the other hand are much better defined: These terms __explicitly__ used in the Java Language Specification to mean very specific things in the context of java. Whether you feel these are &#39;forms&#39; or &#39;examples&#39; of polymorphism depends entirely on what you feel the term means. I don&#39;t see why it is relevant to know. Possibly you have some understanding of the notion of having the same code do different things depending on what you provide as input to this code, and that this is &#39;polymorphism&#39;, and you are trying to figure out what java&#39;s concepts of &#39;overload&#39; and &#39;override&#39; mean, in which case I suggest you just.. learn what those terms mean. Instead of praying that you ask somebody if these are &#39;forms of polymorphism&#39; and that they have the same understanding of what polymorphism means as you do.\r\n\r\nOr perhaps this is some sort of homework exercise where you need to write an essay about it all, in which case, the advice is mostly the same. Try to understand the concepts, don&#39;t worry so much about what terms to use.\r\n\r\n## overriding\r\n\r\nIn java, for __methods only__ (not constructors, not fields), any type can define an entirely new method. A method has an &#39;identity&#39; and that identity is defined by both its name __as well as all its parameter types__, and at least at the class file level, even its return type. In contrast, if you define a method whose identity matches __exactly__ with a method identity from a class or interface that is a supertype, then you aren&#39;t defined a new method, you are __overriding__ the method from the supertype. At the language level (so, what `javac` does), a tightened return type is still an override (but that doesn&#39;t count for parameter types), and generics do not factor into this _at all_ (because at the runtime level, i.e. class files and `java.exe`, generics do not exist). So:\r\n\r\n```\r\nclass Parent {\r\n  Object foo(String a) {\r\n    System.out.println(&quot;In parent&quot;);\r\n    return null;\r\n  }\r\n}\r\n\r\nclass Child extends Parent {\r\n  String foo(String b) {\r\n // This is an override\r\n    System.out.println(&quot;In child&quot;);\r\n    return null;\r\n  }\r\n}\r\n```\r\n\r\nJava does &#39;dynamic dispatch&#39;, meaning: Whenever you invoke a method, the _most specific override available_ is actually invoked. It&#39;s about the actual type of the object that is referred to by your expression, and __not__ about the expression&#39;s type. Thus:\r\n\r\n```\r\nParent p = new Child();\r\np.foo(&quot;&quot;);\r\n```\r\n\r\nprints &quot;In child&quot;. Even though the type of `p` is parent, if you follow the pointer, p turns out to actually be pointing at an instance of Child, and Child&#39;s `foo()` impl is more specific. And therefore, is used. You can&#39;t tell java not to do this - only Child itself could (by invoking `super.foo(a)` to explicitly invoke the parent&#39;s implementation of foo(). You can&#39;t do something like `p.super.foo(&quot;&quot;)`, that isn&#39;t legal java.\r\n\r\n## Overloading\r\n\r\nAs I mentioned, the identity of a method _includes its parameter types_. Thus, given:\r\n\r\n```\r\nclass Parent {\r\n  void foo(String a) {\r\n    System.out.println(&quot;in Parent&quot;);\r\n  }\r\n}\r\n\r\nclass Child extends Parent {\r\n  void foo(Object b) {\r\n    System.out.println(&quot;in Child&quot;);\r\n  }\r\n}\r\n```\r\n\r\n__These are completely different methods__. As different as a method named &#39;jane&#39; and another method named &#39;aubrey&#39; - utterly, completely unrelated.\r\n\r\n```\r\nParent p = new Child();\r\np.foo(null);\r\n```\r\n\r\nThat would compile and print &#39;In Parent&#39;. Because given that `p` is of type Parent, the only foo method that `foo(null)` could possibly be referring to, is the `foo(String)` method that is in Parent, so that is invoked. At runtime the system dutifully goes looking for the most specific implementation of it, which is Parent&#39;s foo - because the foo in child is a completely different method. After all, its identity doesn&#39;t match.\r\n\r\nIf you tried this:\r\n\r\n```\r\nChild c = new Child();\r\nc.foo(null);\r\n```\r\n\r\nThere are 2 completely different methods but either one could feasibly be called. Javac will refuse to compile it and tell you this is an ambiguous method invocation (javac isn&#39;t clear which one you wanted). The key difference is that in this second example, there are 2 different methods, whereas in the first (where we are overriding), there is only one method identity, and 2 implementations of that identity.\r\n\r\nGiven that these are 2 different methods, it&#39;s the compiler that needs to translate `p.foo()` into a class file, and as part of that job, it needs to name the full method identity of what you are attempting to invoke: Javac figures out which of a bunch of overloads you meant to call.\r\n\r\nSo, which one is polymorphism?\r\n\r\nThat depends entirely on what you mean by &#39;polymorphism&#39;. The java lang spec doesn&#39;t use that word, a java programmer therefore doesn&#39;t need to care about that word. The first example is overriding. The second is overloading. I don&#39;t see what the point is of bringing a nebulous, ill-defined term in the mix.\r\n","title":"Is java67.com wrong on polymorphism?","body":"<p>A term is a way to ease communication. My brain thinks of a notion and I wish to convey it to your brain. My brain comes up with some words that encompass the notion I am trying to convey. I make my mouth move and my voicebox, shaking air  comes out, they reach your ears, from there to your brain, and from there you decode the audio message.</p>\n<p>The communication is succesful if the notion you think I'm trying to convey is roughly equivalent to what I was actually trying to convey.</p>\n<p><strong>And that is all that these terms are good for</strong>.</p>\n<p>It's clear that you're just hopelessly confused (this isn't the first question you're asking about it). Why do you 'care'? You do not need to know what the word 'override' is supposed to mean, you merely need to know the concept and the rules as the JVM / <code>javac</code> applies them.  You can all this 'overriding', or you can call it 'floobargling' for all I care. As long as it is clear to <strong>you</strong>.</p>\n<p>If you don't even understand what the book is trying to tell you about these concepts, then 'let me try to ask some java programmers what they think this term means, and then if they think this java language feature is an application of what they think this term means' isn't going to get you any closer to understanding it.</p>\n<p>Specifically, 'polymorphism' is useless here. It's a nebulous term that people use to describe orthogonal concepts. In the job of conveying notions from brain to voice (or keyboard, if you prefer) to ears to another brain, summarizing notions by using the term 'polymorphism' is likely going to lead to failure to communicate.</p>\n<p>Override and Overload on the other hand are much better defined: These terms <strong>explicitly</strong> used in the Java Language Specification to mean very specific things in the context of java. Whether you feel these are 'forms' or 'examples' of polymorphism depends entirely on what you feel the term means. I don't see why it is relevant to know. Possibly you have some understanding of the notion of having the same code do different things depending on what you provide as input to this code, and that this is 'polymorphism', and you are trying to figure out what java's concepts of 'overload' and 'override' mean, in which case I suggest you just.. learn what those terms mean. Instead of praying that you ask somebody if these are 'forms of polymorphism' and that they have the same understanding of what polymorphism means as you do.</p>\n<p>Or perhaps this is some sort of homework exercise where you need to write an essay about it all, in which case, the advice is mostly the same. Try to understand the concepts, don't worry so much about what terms to use.</p>\n<h2>overriding</h2>\n<p>In java, for <strong>methods only</strong> (not constructors, not fields), any type can define an entirely new method. A method has an 'identity' and that identity is defined by both its name <strong>as well as all its parameter types</strong>, and at least at the class file level, even its return type. In contrast, if you define a method whose identity matches <strong>exactly</strong> with a method identity from a class or interface that is a supertype, then you aren't defined a new method, you are <strong>overriding</strong> the method from the supertype. At the language level (so, what <code>javac</code> does), a tightened return type is still an override (but that doesn't count for parameter types), and generics do not factor into this <em>at all</em> (because at the runtime level, i.e. class files and <code>java.exe</code>, generics do not exist). So:</p>\n<pre><code>class Parent {\n  Object foo(String a) {\n    System.out.println(&quot;In parent&quot;);\n    return null;\n  }\n}\n\nclass Child extends Parent {\n  String foo(String b) {\n // This is an override\n    System.out.println(&quot;In child&quot;);\n    return null;\n  }\n}\n</code></pre>\n<p>Java does 'dynamic dispatch', meaning: Whenever you invoke a method, the <em>most specific override available</em> is actually invoked. It's about the actual type of the object that is referred to by your expression, and <strong>not</strong> about the expression's type. Thus:</p>\n<pre><code>Parent p = new Child();\np.foo(&quot;&quot;);\n</code></pre>\n<p>prints &quot;In child&quot;. Even though the type of <code>p</code> is parent, if you follow the pointer, p turns out to actually be pointing at an instance of Child, and Child's <code>foo()</code> impl is more specific. And therefore, is used. You can't tell java not to do this - only Child itself could (by invoking <code>super.foo(a)</code> to explicitly invoke the parent's implementation of foo(). You can't do something like <code>p.super.foo(&quot;&quot;)</code>, that isn't legal java.</p>\n<h2>Overloading</h2>\n<p>As I mentioned, the identity of a method <em>includes its parameter types</em>. Thus, given:</p>\n<pre><code>class Parent {\n  void foo(String a) {\n    System.out.println(&quot;in Parent&quot;);\n  }\n}\n\nclass Child extends Parent {\n  void foo(Object b) {\n    System.out.println(&quot;in Child&quot;);\n  }\n}\n</code></pre>\n<p><strong>These are completely different methods</strong>. As different as a method named 'jane' and another method named 'aubrey' - utterly, completely unrelated.</p>\n<pre><code>Parent p = new Child();\np.foo(null);\n</code></pre>\n<p>That would compile and print 'In Parent'. Because given that <code>p</code> is of type Parent, the only foo method that <code>foo(null)</code> could possibly be referring to, is the <code>foo(String)</code> method that is in Parent, so that is invoked. At runtime the system dutifully goes looking for the most specific implementation of it, which is Parent's foo - because the foo in child is a completely different method. After all, its identity doesn't match.</p>\n<p>If you tried this:</p>\n<pre><code>Child c = new Child();\nc.foo(null);\n</code></pre>\n<p>There are 2 completely different methods but either one could feasibly be called. Javac will refuse to compile it and tell you this is an ambiguous method invocation (javac isn't clear which one you wanted). The key difference is that in this second example, there are 2 different methods, whereas in the first (where we are overriding), there is only one method identity, and 2 implementations of that identity.</p>\n<p>Given that these are 2 different methods, it's the compiler that needs to translate <code>p.foo()</code> into a class file, and as part of that job, it needs to name the full method identity of what you are attempting to invoke: Javac figures out which of a bunch of overloads you meant to call.</p>\n<p>So, which one is polymorphism?</p>\n<p>That depends entirely on what you mean by 'polymorphism'. The java lang spec doesn't use that word, a java programmer therefore doesn't need to care about that word. The first example is overriding. The second is overloading. I don't see what the point is of bringing a nebulous, ill-defined term in the mix.</p>\n"}],"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1674749512,"accepted_answer_id":75240768,"answer_count":1,"score":-2,"last_activity_date":1674700631,"creation_date":1674685730,"question_id":75240519,"body_markdown":"Here&#39;s an example taken from their site:\r\n\r\nAn example of Polymorphism in Java\r\nDifference between Polymorphism, Overloading and Overriding in Java with ExampleLet&#39;s see a short example of Polymorphism in Java. In this example, the Pet variable behaves polymorphically because it can be either Cat or Dog. this is also an example of method overriding because the makeSound() method is overridden in subclass Dog and Cat.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    abstract class Pet{\r\n        public abstract void makeSound();\r\n    }\r\n    \r\n    class Cat extends Pet{\r\n    \r\n        @Override\r\n        public void makeSound() {\r\n            System.out.println(&quot;Meow&quot;);\r\n        }  \r\n    }\r\n    \r\n    class Dog extends Pet{\r\n    \r\n        @Override\r\n        public void makeSound() {\r\n            System.out.println(&quot;Woof&quot;);\r\n        }\r\n     \r\n    }\r\n    \r\n    Let&#39;s test How the Polymorphism concept works in Java:\r\n    \r\n    /**\r\n     *\r\n     * Java program to demonstrate What is Polymorphism\r\n     * @author Javin Paul\r\n     */\r\n    public class PolymorphismDemo{\r\n    \r\n        public static void main(String args[]) {\r\n            //Now Pet will show How Polymorphism work in Java\r\n            List&lt;Pet&gt; pets = new ArrayList&lt;Pet&gt;();\r\n            pets.add(new Cat());\r\n            pets.add(new Dog());\r\n         \r\n            //pet variable which is type of Pet behave different based\r\n            //upon whether pet is Cat or Dog\r\n            for(Pet pet : pets){\r\n                pet.makeSound();\r\n            }\r\n       \r\n        }\r\n    }\r\n    \r\n    Output:\r\n    Meow\r\n    Woof\r\n\r\n***In Summary, you can not compare Polymorphism with method overloading or override.*** Polymorphism is the ability of a variable to behave differently based upon which kind of Object it is referring to. They are Java programming language&#39;s way to implement polymorphism in language.\r\n\r\n\r\nIn the second example is the author just trying to make the point that at runtime we don&#39;t know what the objects are going to be?  but this also includes an example of overriding?\r\n\r\n\r\nRead more: https://www.java67.com/2012/10/difference-between-polymorphism-overloading-overriding-java.html#ixzz7rRlx0PQY\r\n\r\nSo is this a form of overriding or not?\r\n","title":"Is java67.com wrong on polymorphism?","body":"<p>Here's an example taken from their site:</p>\n<p>An example of Polymorphism in Java\nDifference between Polymorphism, Overloading and Overriding in Java with ExampleLet's see a short example of Polymorphism in Java. In this example, the Pet variable behaves polymorphically because it can be either Cat or Dog. this is also an example of method overriding because the makeSound() method is overridden in subclass Dog and Cat.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nabstract class Pet{\n    public abstract void makeSound();\n}\n\nclass Cat extends Pet{\n\n    @Override\n    public void makeSound() {\n        System.out.println(&quot;Meow&quot;);\n    }  \n}\n\nclass Dog extends Pet{\n\n    @Override\n    public void makeSound() {\n        System.out.println(&quot;Woof&quot;);\n    }\n \n}\n\nLet's test How the Polymorphism concept works in Java:\n\n/**\n *\n * Java program to demonstrate What is Polymorphism\n * @author Javin Paul\n */\npublic class PolymorphismDemo{\n\n    public static void main(String args[]) {\n        //Now Pet will show How Polymorphism work in Java\n        List&lt;Pet&gt; pets = new ArrayList&lt;Pet&gt;();\n        pets.add(new Cat());\n        pets.add(new Dog());\n     \n        //pet variable which is type of Pet behave different based\n        //upon whether pet is Cat or Dog\n        for(Pet pet : pets){\n            pet.makeSound();\n        }\n   \n    }\n}\n\nOutput:\nMeow\nWoof\n</code></pre>\n<p><em><strong>In Summary, you can not compare Polymorphism with method overloading or override.</strong></em> Polymorphism is the ability of a variable to behave differently based upon which kind of Object it is referring to. They are Java programming language's way to implement polymorphism in language.</p>\n<p>In the second example is the author just trying to make the point that at runtime we don't know what the objects are going to be?  but this also includes an example of overriding?</p>\n<p>Read more: <a href=\"https://www.java67.com/2012/10/difference-between-polymorphism-overloading-overriding-java.html#ixzz7rRlx0PQY\" rel=\"nofollow noreferrer\">https://www.java67.com/2012/10/difference-between-polymorphism-overloading-overriding-java.html#ixzz7rRlx0PQY</a></p>\n<p>So is this a form of overriding or not?</p>\n"},{"tags":["java","c#","algorithm","sorting","time-complexity"],"comments":[{"owner":{"account_id":26910971,"reputation":84,"user_id":20486539,"display_name":"Pizza Programmer"},"score":1,"creation_date":1674668275,"post_id":75237709,"comment_id":132765397,"body_markdown":"I don&#39;t understand the question. If you want to chose randomly from an array given a chance, you could count up the total chance, generate a number 0-max, and then go through the array, subtracting the chance until it is &lt;= zero at which point you stop.\nIf you want to remove it from the array, you reduce the chance by one and the max by one. When a chance hits zero, it will effectively be removed.","body":"I don&#39;t understand the question. If you want to chose randomly from an array given a chance, you could count up the total chance, generate a number 0-max, and then go through the array, subtracting the chance until it is &lt;= zero at which point you stop. If you want to remove it from the array, you reduce the chance by one and the max by one. When a chance hits zero, it will effectively be removed."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1674668319,"post_id":75237709,"comment_id":132765406,"body_markdown":"Why the java tag?","body":"Why the java tag?"},{"owner":{"account_id":17657940,"reputation":19,"user_id":12817065,"display_name":"ahmetay"},"score":0,"creation_date":1674668982,"post_id":75237709,"comment_id":132765612,"body_markdown":"I have just added images. Sorry for inconvenience, fairly new to stackoverflow :| @PizzaProgrammer","body":"I have just added images. Sorry for inconvenience, fairly new to stackoverflow :| @PizzaProgrammer"},{"owner":{"account_id":24731258,"reputation":61,"user_id":18619203,"display_name":"Alex Wąsowicz"},"score":0,"creation_date":1674669905,"post_id":75237709,"comment_id":132765921,"body_markdown":"I don&#39;t understand the question. So the output is probability periods? If you want to sort int array into period order, you need periods as input. Also, I don&#39;t understand how input int array can look like (is it array from 0 to constant, if not why?).","body":"I don&#39;t understand the question. So the output is probability periods? If you want to sort int array into period order, you need periods as input. Also, I don&#39;t understand how input int array can look like (is it array from 0 to constant, if not why?)."},{"owner":{"account_id":17657940,"reputation":19,"user_id":12817065,"display_name":"ahmetay"},"score":0,"creation_date":1674671349,"post_id":75237709,"comment_id":132766390,"body_markdown":"Let me explain the table image: If spin perc is 13, that result will be outputted 13 times before creating a new cycle","body":"Let me explain the table image: If spin perc is 13, that result will be outputted 13 times before creating a new cycle"}],"answers":[{"tags":[],"owner":{"account_id":26910971,"reputation":84,"user_id":20486539,"display_name":"Pizza Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674673420,"creation_date":1674673420,"answer_id":75238692,"question_id":75237709,"body_markdown":"So, you want a pool where each possibility happens a fixed amount of times, before refilling the pool.\r\nWhat you can do is make an array of integers, each index corresponding to the result, and each value being the probability.\r\nThen, you create an integer that stores the sum of all probabilities.\r\nWhen you want an item, create a number between 1 and the sum of probabilities (inclusive). Go down the array, subtracting the probability from the random number. When it is &lt;= 0, that is your random choice.\r\nTo remove from the pool, subtract 1 from the chance of what you landed on, and 1 from the sum. When the sum is zero, that means the pool is empty and can be refilled. Here is an example in c#:\r\n\r\n    class RandomPool {\r\n        private int[] chances;\r\n        public int Total {get; private set;} // total pooled items\r\n        public readonly int Length;\r\n        public int this[int i] {\r\n            get =&gt; chances[i]; // get the chance at an index\r\n            set {\r\n                Total += value - chances[i]; // updates the total\r\n                chances[i] = i; // sets the chance at an index\r\n            }\r\n        }\r\n        public RandomPool(int length) {\r\n            chances = new int[length];\r\n            Length = length;\r\n        }\r\n        public int Get() {\r\n            // creates a random number 1-total\r\n            int rand = Random.Range(1, total + 1);\r\n            int i = 0;\r\n            // loops through the chances \r\n            while (true) {\r\n                // decreases the random value by the change\r\n                rand -= chances[i];\r\n                // if it is &lt;= 0\r\n                if (rand &lt;= 0)\r\n                    return i; // return the index of the chosen item\r\n                i++;\r\n            }\r\n        }\r\n\r\nThen you can use it like this:\r\n\r\n    var pool = new RandomPool(3); // create the pool\r\n    pool[0] = 5; // assign the chances\r\n    pool[1] = 2;\r\n    pool[3] = 3;\r\n    while (pool.Total &gt; 0) { // while there is something in the pool\r\n        int x = pool.Get(); // get an item\r\n        Console.WriteLine($&quot;Randomly chose index: {p}&quot;); // log the result\r\n        pool[x]--; // remove one from the pool\r\n    }\r\n\r\nWhen `pool.Total == 0` you can refill the pool. Also, I haven&#39;t tested this code, so there might be a few errors.","title":"How can I distribute integer array elements periodically [See image for example]","body":"<p>So, you want a pool where each possibility happens a fixed amount of times, before refilling the pool.\nWhat you can do is make an array of integers, each index corresponding to the result, and each value being the probability.\nThen, you create an integer that stores the sum of all probabilities.\nWhen you want an item, create a number between 1 and the sum of probabilities (inclusive). Go down the array, subtracting the probability from the random number. When it is &lt;= 0, that is your random choice.\nTo remove from the pool, subtract 1 from the chance of what you landed on, and 1 from the sum. When the sum is zero, that means the pool is empty and can be refilled. Here is an example in c#:</p>\n<pre><code>class RandomPool {\n    private int[] chances;\n    public int Total {get; private set;} // total pooled items\n    public readonly int Length;\n    public int this[int i] {\n        get =&gt; chances[i]; // get the chance at an index\n        set {\n            Total += value - chances[i]; // updates the total\n            chances[i] = i; // sets the chance at an index\n        }\n    }\n    public RandomPool(int length) {\n        chances = new int[length];\n        Length = length;\n    }\n    public int Get() {\n        // creates a random number 1-total\n        int rand = Random.Range(1, total + 1);\n        int i = 0;\n        // loops through the chances \n        while (true) {\n            // decreases the random value by the change\n            rand -= chances[i];\n            // if it is &lt;= 0\n            if (rand &lt;= 0)\n                return i; // return the index of the chosen item\n            i++;\n        }\n    }\n</code></pre>\n<p>Then you can use it like this:</p>\n<pre><code>var pool = new RandomPool(3); // create the pool\npool[0] = 5; // assign the chances\npool[1] = 2;\npool[3] = 3;\nwhile (pool.Total &gt; 0) { // while there is something in the pool\n    int x = pool.Get(); // get an item\n    Console.WriteLine($&quot;Randomly chose index: {p}&quot;); // log the result\n    pool[x]--; // remove one from the pool\n}\n</code></pre>\n<p>When <code>pool.Total == 0</code> you can refill the pool. Also, I haven't tested this code, so there might be a few errors.</p>\n"},{"tags":[],"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674700590,"creation_date":1674700590,"answer_id":75241836,"question_id":75237709,"body_markdown":"Here is a way to get this.  I will start with the inspiration, and then add how to do it efficiently.\r\n\r\nImagine you have a series of alarm clocks in front of you.  5 of them go off 13x per day.  The rest go off 9, 8, 7, 6, and 5 times per day.  (I chose this example to match your output table image.)  Each starts a random point between when it last went off and when it next goes off.\r\n\r\nThe answer you want is the order in which they go off.  This order is periodic - it repeats every day.  They also go off in exactly the right proportions every day.  But the random start makes them go off randomly.\r\n\r\nNow how do we figure this out efficiently?  The idea is to use a [PriorityQueue][1] to track when each alarm clock goes off.  So we&#39;ll want something like a [Record][2]`(double priority, String result, double weight)` to put into our queue.  Our `result` field will be your string description, the `weight` will be your 13 or whatever, and using [Random][3] you&#39;ll start `priority` at `rand.nextDouble() / weight`.  The priority queue will compare based on `priority`.\r\n\r\nAnd now the heart of the loop where you you populate your array will be:\r\n\r\n    QueueItem qi = queue.poll();\r\n    answer.add(qi.result);\r\n    queue.offer(QueueItem(qi.priority + 1/qi.weight, qi.result, qi.weight);\r\n\r\nThis makes each array item take time `O(log(queue.size()))` to produce. And you see that every `qi.weight` times `qi.result` comes up, the `priority` increases by 1.  (So it is periodic.)\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html\r\n  [2]: https://docs.oracle.com/en/java/javase/15/language/records.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Random.html","title":"How can I distribute integer array elements periodically [See image for example]","body":"<p>Here is a way to get this.  I will start with the inspiration, and then add how to do it efficiently.</p>\n<p>Imagine you have a series of alarm clocks in front of you.  5 of them go off 13x per day.  The rest go off 9, 8, 7, 6, and 5 times per day.  (I chose this example to match your output table image.)  Each starts a random point between when it last went off and when it next goes off.</p>\n<p>The answer you want is the order in which they go off.  This order is periodic - it repeats every day.  They also go off in exactly the right proportions every day.  But the random start makes them go off randomly.</p>\n<p>Now how do we figure this out efficiently?  The idea is to use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">PriorityQueue</a> to track when each alarm clock goes off.  So we'll want something like a <a href=\"https://docs.oracle.com/en/java/javase/15/language/records.html\" rel=\"nofollow noreferrer\">Record</a><code>(double priority, String result, double weight)</code> to put into our queue.  Our <code>result</code> field will be your string description, the <code>weight</code> will be your 13 or whatever, and using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\">Random</a> you'll start <code>priority</code> at <code>rand.nextDouble() / weight</code>.  The priority queue will compare based on <code>priority</code>.</p>\n<p>And now the heart of the loop where you you populate your array will be:</p>\n<pre><code>QueueItem qi = queue.poll();\nanswer.add(qi.result);\nqueue.offer(QueueItem(qi.priority + 1/qi.weight, qi.result, qi.weight);\n</code></pre>\n<p>This makes each array item take time <code>O(log(queue.size()))</code> to produce. And you see that every <code>qi.weight</code> times <code>qi.result</code> comes up, the <code>priority</code> increases by 1.  (So it is periodic.)</p>\n"}],"owner":{"account_id":17657940,"reputation":19,"user_id":12817065,"display_name":"ahmetay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1674700590,"creation_date":1674667767,"question_id":75237709,"body_markdown":"It&#39;s a slot machine game. We already know the number of different outputs. But it needs to work on any kind of variations of that table, obviously.\r\n\r\n\r\n\r\nSo far, I have tried several naive approaches:\r\n\r\n- Dumping all results in an array and try to distribute them by moving along the array.\r\n- Tried to insert elements one by one, finding an empty and &#39;periodic&#39; slot for each element.\r\n\r\n[Output Table Image][1]\r\n\r\n[Examples Image][2]\r\n\r\nI use indexes of rows data to create and distribute array elements periodically.\r\n(eg: first row corresponds to value 0, second row corresponds to value 1 and so on..)\r\n\r\nSo my output array will consist elements from 0 to 10 and the size will be 100 for provided table.\r\n\r\n**EDIT: I have deleted the old code because I come up with an actual solution. Unfortunately I&#39;m not sure if it is the correct/optimum way and has no idea how to check it.**\r\n\r\nHere is my code: https://goonlinetools.com/snapshot/code/#ng5xi35uewbrgc40avciud\r\n\r\n[Here are the sample result][3]\r\n\r\nCan someone maybe check my code and verify that I have the correct result?\r\n\r\n  [1]: https://i.stack.imgur.com/ZuKK0.png\r\n  [2]: https://i.stack.imgur.com/kPx2T.png\r\n  [3]: https://i.stack.imgur.com/L4Zkh.png","title":"How can I distribute integer array elements periodically [See image for example]","body":"<p>It's a slot machine game. We already know the number of different outputs. But it needs to work on any kind of variations of that table, obviously.</p>\n<p>So far, I have tried several naive approaches:</p>\n<ul>\n<li>Dumping all results in an array and try to distribute them by moving along the array.</li>\n<li>Tried to insert elements one by one, finding an empty and 'periodic' slot for each element.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/ZuKK0.png\" rel=\"nofollow noreferrer\">Output Table Image</a></p>\n<p><a href=\"https://i.stack.imgur.com/kPx2T.png\" rel=\"nofollow noreferrer\">Examples Image</a></p>\n<p>I use indexes of rows data to create and distribute array elements periodically.\n(eg: first row corresponds to value 0, second row corresponds to value 1 and so on..)</p>\n<p>So my output array will consist elements from 0 to 10 and the size will be 100 for provided table.</p>\n<p><strong>EDIT: I have deleted the old code because I come up with an actual solution. Unfortunately I'm not sure if it is the correct/optimum way and has no idea how to check it.</strong></p>\n<p>Here is my code: <a href=\"https://goonlinetools.com/snapshot/code/#ng5xi35uewbrgc40avciud\" rel=\"nofollow noreferrer\">https://goonlinetools.com/snapshot/code/#ng5xi35uewbrgc40avciud</a></p>\n<p><a href=\"https://i.stack.imgur.com/L4Zkh.png\" rel=\"nofollow noreferrer\">Here are the sample result</a></p>\n<p>Can someone maybe check my code and verify that I have the correct result?</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":11616634,"reputation":312,"user_id":8509119,"display_name":"larjae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674700491,"creation_date":1674700491,"answer_id":75241827,"question_id":75235343,"body_markdown":"I think your issue is in the `getUserTransactions` method, with these lines.\r\n\r\n    TransactionGroup transactionGroup = new TransactionGroup();\r\n    model.addAttribute(&quot;transactionGroup&quot;, transactionGroup);\r\n    model.addAttribute(&quot;transactions&quot;, transactionService.findDistinctIdByUserId(user_id));\r\n\r\nYou are creating a new transaction group, and adding that to the model, and then adding your `transactions` attribute separately. But in your html, you are iterating over the transactions that are within a group- `&lt;div th:each=&quot;transaction : ${group.transactions}&quot;&gt;`.\r\n\r\nSo you either need to iterate over the transactions property like `&lt;div th:each=&quot;transaction : ${transactions}&quot;&gt;` or you need to set the transactions property onto the transaction group, and only include the group in your model.","title":"How to fill list in one entity with data from another entity","body":"<p>I think your issue is in the <code>getUserTransactions</code> method, with these lines.</p>\n<pre><code>TransactionGroup transactionGroup = new TransactionGroup();\nmodel.addAttribute(&quot;transactionGroup&quot;, transactionGroup);\nmodel.addAttribute(&quot;transactions&quot;, transactionService.findDistinctIdByUserId(user_id));\n</code></pre>\n<p>You are creating a new transaction group, and adding that to the model, and then adding your <code>transactions</code> attribute separately. But in your html, you are iterating over the transactions that are within a group- <code>&lt;div th:each=&quot;transaction : ${group.transactions}&quot;&gt;</code>.</p>\n<p>So you either need to iterate over the transactions property like <code>&lt;div th:each=&quot;transaction : ${transactions}&quot;&gt;</code> or you need to set the transactions property onto the transaction group, and only include the group in your model.</p>\n"}],"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674700491,"creation_date":1674656381,"question_id":75235343,"body_markdown":"So, In my Spring Boot APP I have `Transaction` table, so every user can create a transaction and I want to display that transaction on appropriate page on this way:\r\n\r\nhttps://i.stack.imgur.com/3ecf9.png\r\n\r\nI hope you get the format that I want to use. So for example if user create today two transactions show him that transactions, but if user didn&#39;t create a transaction yesterday just skip that date and again show date where user had a transactions.\r\n\r\nSo point is to display a separated dates which have a transactions.\r\n\r\nTo do something like this I created a separated entity that will hold the date and transactions list. Like this:\r\n\r\n    public class TransactionGroup {\r\n      private LocalDate date;\r\n      private List&lt;Transaction&gt; transactions;\r\n      /* getters and setters */\r\n    }\r\n\r\nIn thymeleaf I created something like this:\r\n\r\n    &lt;div th:each=&quot;group : ${transactionGroup}&quot;&gt;\r\n    &lt;h1 th:text=&quot;${group.date}&quot; /&gt;\r\n\r\n    &lt;div th:each=&quot;transaction : ${group.transactions}&quot;&gt;\r\n        &lt;h2&gt;Amount: &lt;span th:text=&quot;${transactions.amount}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n        &lt;h2&gt;Note: &lt;span th:text=&quot;${transactions.note}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n        &lt;h2&gt;Wallet name: &lt;span th:text=&quot;${transactions.walletName}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n        &lt;h2&gt;Expense Category: &lt;span th:text=&quot;${transactions.expenseCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n        &lt;h2&gt;IncomeCategory: &lt;span th:text=&quot;${transactions.incomeCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\r\n    &lt;div&gt;\r\n&lt;/div&gt;\r\n\r\nNow, this is service to save transaction, inside It I tried to fill the list but I think that is a problem actually of this:\r\n\r\n     @PostMapping(&quot;/saveIncome/{walletId}&quot;)\r\n    public String saveIncome(@PathVariable(value = &quot;walletId&quot;) long walletId, @Valid Transaction transaction, BindingResult result, Model model) {\r\n\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n        long userId = user.getId();\r\n\r\n        Wallet wallet = walletService.getWalletById(walletId);\r\n\r\n        TransactionGroup transactionGroup = new TransactionGroup();\r\n\r\n        transaction.setWallet(wallet);\r\n        transaction.setUserId(userId);\r\n        transaction.setWalletName(wallet.getWalletName());\r\n        transactionGroup.setTransactions(transaction.getWalletName(), transaction.getAmount(), transaction.getDate(), transaction.getNote(), transaction.getExpenseCategories(), transaction.getIncomeCategories());\r\n        transactionService.saveIncome(transaction, walletId, userId);\r\n        return &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\r\n    }\r\n\r\nThis is the line from the controller above:\r\n\r\n    transactionGroup.setTransactions(transaction.getWalletName(), transaction.getAmount(), transaction.getDate(), transaction.getNote(), transaction.getExpenseCategories(), transaction.getIncomeCategories());\r\n\r\nAnd this is like method inside `TransactionGroup` class:\r\n\r\n    public void setTransactions(String walletName, Double amount, LocalDate date, String note, ExpenseCategories expenseCategories, IncomeCategories incomeCategories) {\r\n    }\r\n\r\nAlso, this is controller which is used to show transactions on page:\r\n\r\n    @GetMapping(&quot;/userTransactions/{user_id}&quot;)\r\n    public String getUserTransactions(@PathVariable(&quot;user_id&quot;) long user_id, Model model) {\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n        long userId = user.getId();\r\n        TransactionGroup transactionGroup = new TransactionGroup();\r\n        model.addAttribute(&quot;transactionGroup&quot;, transactionGroup);\r\n        model.addAttribute(&quot;userId&quot;, userId);\r\n        model.addAttribute(&quot;transactions&quot;, transactionService.findDistinctIdByUserId(user_id));\r\n        return &quot;transactions&quot;;\r\n    }\r\n\r\nSo when I run the program and go on page where transactions should be page is empty. And I guess there is a problem with filling the list from `TransactionGroup` class but still cannot find a appropriate way to solve this.","title":"How to fill list in one entity with data from another entity","body":"<p>So, In my Spring Boot APP I have <code>Transaction</code> table, so every user can create a transaction and I want to display that transaction on appropriate page on this way:</p>\n<p><a href=\"https://i.stack.imgur.com/3ecf9.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/3ecf9.png</a></p>\n<p>I hope you get the format that I want to use. So for example if user create today two transactions show him that transactions, but if user didn't create a transaction yesterday just skip that date and again show date where user had a transactions.</p>\n<p>So point is to display a separated dates which have a transactions.</p>\n<p>To do something like this I created a separated entity that will hold the date and transactions list. Like this:</p>\n<pre><code>public class TransactionGroup {\n  private LocalDate date;\n  private List&lt;Transaction&gt; transactions;\n  /* getters and setters */\n}\n</code></pre>\n<p>In thymeleaf I created something like this:</p>\n<pre><code>&lt;div th:each=&quot;group : ${transactionGroup}&quot;&gt;\n&lt;h1 th:text=&quot;${group.date}&quot; /&gt;\n\n&lt;div th:each=&quot;transaction : ${group.transactions}&quot;&gt;\n    &lt;h2&gt;Amount: &lt;span th:text=&quot;${transactions.amount}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n    &lt;h2&gt;Note: &lt;span th:text=&quot;${transactions.note}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n    &lt;h2&gt;Wallet name: &lt;span th:text=&quot;${transactions.walletName}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n    &lt;h2&gt;Expense Category: &lt;span th:text=&quot;${transactions.expenseCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n    &lt;h2&gt;IncomeCategory: &lt;span th:text=&quot;${transactions.incomeCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\n&lt;div&gt;\n</code></pre>\n\n<p>Now, this is service to save transaction, inside It I tried to fill the list but I think that is a problem actually of this:</p>\n<pre><code> @PostMapping(&quot;/saveIncome/{walletId}&quot;)\npublic String saveIncome(@PathVariable(value = &quot;walletId&quot;) long walletId, @Valid Transaction transaction, BindingResult result, Model model) {\n\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n    long userId = user.getId();\n\n    Wallet wallet = walletService.getWalletById(walletId);\n\n    TransactionGroup transactionGroup = new TransactionGroup();\n\n    transaction.setWallet(wallet);\n    transaction.setUserId(userId);\n    transaction.setWalletName(wallet.getWalletName());\n    transactionGroup.setTransactions(transaction.getWalletName(), transaction.getAmount(), transaction.getDate(), transaction.getNote(), transaction.getExpenseCategories(), transaction.getIncomeCategories());\n    transactionService.saveIncome(transaction, walletId, userId);\n    return &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\n}\n</code></pre>\n<p>This is the line from the controller above:</p>\n<pre><code>transactionGroup.setTransactions(transaction.getWalletName(), transaction.getAmount(), transaction.getDate(), transaction.getNote(), transaction.getExpenseCategories(), transaction.getIncomeCategories());\n</code></pre>\n<p>And this is like method inside <code>TransactionGroup</code> class:</p>\n<pre><code>public void setTransactions(String walletName, Double amount, LocalDate date, String note, ExpenseCategories expenseCategories, IncomeCategories incomeCategories) {\n}\n</code></pre>\n<p>Also, this is controller which is used to show transactions on page:</p>\n<pre><code>@GetMapping(&quot;/userTransactions/{user_id}&quot;)\npublic String getUserTransactions(@PathVariable(&quot;user_id&quot;) long user_id, Model model) {\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n    long userId = user.getId();\n    TransactionGroup transactionGroup = new TransactionGroup();\n    model.addAttribute(&quot;transactionGroup&quot;, transactionGroup);\n    model.addAttribute(&quot;userId&quot;, userId);\n    model.addAttribute(&quot;transactions&quot;, transactionService.findDistinctIdByUserId(user_id));\n    return &quot;transactions&quot;;\n}\n</code></pre>\n<p>So when I run the program and go on page where transactions should be page is empty. And I guess there is a problem with filling the list from <code>TransactionGroup</code> class but still cannot find a appropriate way to solve this.</p>\n"},{"tags":["java","spring-boot","spring-security"],"owner":{"account_id":27623451,"reputation":1,"user_id":21083944,"display_name":"Hello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674700154,"creation_date":1674700154,"question_id":75241805,"body_markdown":"I have 2 filters namely one is JWT Authorization filter and Signature validation filter. In Signature Validation filter i have used basic auth and in header i have sent signature that is to be verified with the key, then it hits the login controller and generates the token. I have used a token builder method as :\r\n```\r\n`\r\npublic class ThirdPartyJwtProperties {\r\n    private String secret;\r\n    private int accessTokenExpirationTime;\r\n    private String issuer;\r\n    private String audience;\r\n    private final String TOKEN_PREFIX = &quot;Bearer &quot;;\r\n    private final String AUTHORIZATION_HEADER_STRING = &quot;Authorization&quot;;\r\n    private int tempTokenExpirationTime;\r\n\r\n    public ThirdPartyJwtProperties() {\r\n    }\r\n\r\n\r\n\r\n    public ThirdPartyJwtProperties(String SECRET, int accessTokenExpirationTime, int tempTokenExpirationTime) {\r\n        this.secret = SECRET;\r\n        this.accessTokenExpirationTime = accessTokenExpirationTime;\r\n        this.tempTokenExpirationTime = tempTokenExpirationTime;\r\n    }\r\n\r\n    public String getSecret() {\r\n        return secret;\r\n    }\r\n\r\n    public void setSecret(String secret) {\r\n        this.secret = secret;\r\n    }\r\n\r\n    public int getAccessTokenExpirationTime() {\r\n        return accessTokenExpirationTime;\r\n    }\r\n\r\n    public void setAccessTokenExpirationTime(int accessTokenExpirationTime) {\r\n        this.accessTokenExpirationTime = accessTokenExpirationTime;\r\n    }\r\n\r\n    public String getTokenPrefix() {\r\n        return TOKEN_PREFIX;\r\n    }\r\n\r\n    public String getAuthorizationHeaderString() {\r\n        return AUTHORIZATION_HEADER_STRING;\r\n    }\r\n\r\n\r\n    public String getIssuer() {\r\n        return issuer;\r\n    }\r\n\r\n    public void setIssuer(String issuer) {\r\n        this.issuer = issuer;\r\n    }\r\n\r\n    public String getAudience() {\r\n        return audience;\r\n    }\r\n\r\n    public void setAudience(String audience) {\r\n        this.audience = audience;\r\n    }\r\n\r\n    public int getTempTokenExpirationTime() {\r\n        return tempTokenExpirationTime;\r\n    }\r\n}`\r\n```\r\n\r\nAnd the token is generated but when I try to hit another controller with the bearer token it throws access denied exception. I have used @Preauthorize in that controller. When I generate the token the roles are been added to the claims. But i am confused every time it goes to the first filter and throws access denied exception.\r\n\r\nI have mentioned above what I tried. I want to use that generated token to authorize for that controller with out being intercepted by the JwtAuthorization filter.\r\n\r\nI can post the security config if needed.","title":"Token that was generated for another filter, throws access denied exception hitting wrong filter","body":"<p>I have 2 filters namely one is JWT Authorization filter and Signature validation filter. In Signature Validation filter i have used basic auth and in header i have sent signature that is to be verified with the key, then it hits the login controller and generates the token. I have used a token builder method as :</p>\n<pre><code>`\npublic class ThirdPartyJwtProperties {\n    private String secret;\n    private int accessTokenExpirationTime;\n    private String issuer;\n    private String audience;\n    private final String TOKEN_PREFIX = &quot;Bearer &quot;;\n    private final String AUTHORIZATION_HEADER_STRING = &quot;Authorization&quot;;\n    private int tempTokenExpirationTime;\n\n    public ThirdPartyJwtProperties() {\n    }\n\n\n\n    public ThirdPartyJwtProperties(String SECRET, int accessTokenExpirationTime, int tempTokenExpirationTime) {\n        this.secret = SECRET;\n        this.accessTokenExpirationTime = accessTokenExpirationTime;\n        this.tempTokenExpirationTime = tempTokenExpirationTime;\n    }\n\n    public String getSecret() {\n        return secret;\n    }\n\n    public void setSecret(String secret) {\n        this.secret = secret;\n    }\n\n    public int getAccessTokenExpirationTime() {\n        return accessTokenExpirationTime;\n    }\n\n    public void setAccessTokenExpirationTime(int accessTokenExpirationTime) {\n        this.accessTokenExpirationTime = accessTokenExpirationTime;\n    }\n\n    public String getTokenPrefix() {\n        return TOKEN_PREFIX;\n    }\n\n    public String getAuthorizationHeaderString() {\n        return AUTHORIZATION_HEADER_STRING;\n    }\n\n\n    public String getIssuer() {\n        return issuer;\n    }\n\n    public void setIssuer(String issuer) {\n        this.issuer = issuer;\n    }\n\n    public String getAudience() {\n        return audience;\n    }\n\n    public void setAudience(String audience) {\n        this.audience = audience;\n    }\n\n    public int getTempTokenExpirationTime() {\n        return tempTokenExpirationTime;\n    }\n}`\n</code></pre>\n<p>And the token is generated but when I try to hit another controller with the bearer token it throws access denied exception. I have used @Preauthorize in that controller. When I generate the token the roles are been added to the claims. But i am confused every time it goes to the first filter and throws access denied exception.</p>\n<p>I have mentioned above what I tried. I want to use that generated token to authorize for that controller with out being intercepted by the JwtAuthorization filter.</p>\n<p>I can post the security config if needed.</p>\n"},{"tags":["java","yaml","snakeyaml","raml"],"answers":[{"tags":[],"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673942219,"creation_date":1673018802,"answer_id":75032879,"question_id":75025444,"body_markdown":"This line:\r\n\r\n```yaml\r\n  type: &#39;!include boolean-types.raml&#39;\r\n```\r\n\r\nis a key `type` with the scalar value `!include boolean-types.raml`.\r\n\r\nThis proposed line:\r\n\r\n```yaml\r\ntype: !include boolean-types.raml\r\n```\r\n\r\nis a key `type` with a scalar value `boolean-types.raml`, where the scalar node has the explicit tag `!include`.\r\n\r\nThey are different in semantics. You are apparently giving SnakeYAML data that contains the former and then expect it to output the latter. That can&#39;t work, YAML serialization keeps the semantics of the given data. You need to give data that represents the semantics you want to have in the YAML file.\r\n\r\nFor example, you could define an `Include` class with a custom representer:\r\n\r\n```java\r\nclass Include {\r\n    public String path;\r\n}\r\n\r\nclass IncludeRepresenter extends Representer {\r\n    public IncludeRepresenter(DumperOptions options) {\r\n        super(options);\r\n        this.representers.put(Include.class, new RepresentInclude());\r\n    }\r\n\r\n    private class RepresentInclude implements Represent {\r\n        public Node representData(Object data) {\r\n            Include incl = (Include) data;\r\n            return representScalar(new Tag(&quot;!include&quot;), incl.path);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen you can do\r\n\r\n```java\r\nYaml yaml = new Yaml(new IncludeRepresenter(), options);\r\n```\r\n\r\nand use an `Include` object where you want to produce the value shown above.","title":"Snakeyaml removed quotes","body":"<p>This line:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  type: '!include boolean-types.raml'\n</code></pre>\n<p>is a key <code>type</code> with the scalar value <code>!include boolean-types.raml</code>.</p>\n<p>This proposed line:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>type: !include boolean-types.raml\n</code></pre>\n<p>is a key <code>type</code> with a scalar value <code>boolean-types.raml</code>, where the scalar node has the explicit tag <code>!include</code>.</p>\n<p>They are different in semantics. You are apparently giving SnakeYAML data that contains the former and then expect it to output the latter. That can't work, YAML serialization keeps the semantics of the given data. You need to give data that represents the semantics you want to have in the YAML file.</p>\n<p>For example, you could define an <code>Include</code> class with a custom representer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Include {\n    public String path;\n}\n\nclass IncludeRepresenter extends Representer {\n    public IncludeRepresenter(DumperOptions options) {\n        super(options);\n        this.representers.put(Include.class, new RepresentInclude());\n    }\n\n    private class RepresentInclude implements Represent {\n        public Node representData(Object data) {\n            Include incl = (Include) data;\n            return representScalar(new Tag(&quot;!include&quot;), incl.path);\n        }\n    }\n}\n</code></pre>\n<p>Then you can do</p>\n<pre class=\"lang-java prettyprint-override\"><code>Yaml yaml = new Yaml(new IncludeRepresenter(), options);\n</code></pre>\n<p>and use an <code>Include</code> object where you want to produce the value shown above.</p>\n"},{"tags":[],"owner":{"account_id":5147236,"reputation":65,"user_id":4122863,"display_name":"Julie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674699388,"creation_date":1674699388,"answer_id":75241744,"question_id":75025444,"body_markdown":"To parse the file with the !include you can do the following.\r\n\r\n    import org.yaml.snakeyaml.LoaderOptions;\r\n    import org.yaml.snakeyaml.constructor.AbstractConstruct;\r\n    import org.yaml.snakeyaml.constructor.Constructor;\r\n    import org.yaml.snakeyaml.nodes.Node;\r\n    import org.yaml.snakeyaml.nodes.ScalarNode;\r\n    import org.yaml.snakeyaml.nodes.Tag;\r\n    \r\n    public class IncludeConstructor extends Constructor {\r\n    \tpublic IncludeConstructor(LoaderOptions options) {\r\n    \t\tsuper(options);\r\n    \t\tthis.yamlConstructors.put(new Tag(&quot;!include&quot;), new ConstructIncludeTag());\r\n    \t}\r\n    \r\n    \tprivate class ConstructIncludeTag extends AbstractConstruct {\r\n    \t\tpublic Object construct(Node node) {\r\n    \t\t\tScalarNode scalarNode = (ScalarNode) node;\r\n    \t\t\treturn &quot;!include &quot; + scalarNode.getValue();\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    \r\n    Yaml yaml = new Yaml(new IncludeConstructor(new LoaderOptions()));","title":"Snakeyaml removed quotes","body":"<p>To parse the file with the !include you can do the following.</p>\n<pre><code>import org.yaml.snakeyaml.LoaderOptions;\nimport org.yaml.snakeyaml.constructor.AbstractConstruct;\nimport org.yaml.snakeyaml.constructor.Constructor;\nimport org.yaml.snakeyaml.nodes.Node;\nimport org.yaml.snakeyaml.nodes.ScalarNode;\nimport org.yaml.snakeyaml.nodes.Tag;\n\npublic class IncludeConstructor extends Constructor {\n    public IncludeConstructor(LoaderOptions options) {\n        super(options);\n        this.yamlConstructors.put(new Tag(&quot;!include&quot;), new ConstructIncludeTag());\n    }\n\n    private class ConstructIncludeTag extends AbstractConstruct {\n        public Object construct(Node node) {\n            ScalarNode scalarNode = (ScalarNode) node;\n            return &quot;!include &quot; + scalarNode.getValue();\n        }\n    }\n}\n\n\nYaml yaml = new Yaml(new IncludeConstructor(new LoaderOptions()));\n</code></pre>\n"}],"owner":{"account_id":5147236,"reputation":65,"user_id":4122863,"display_name":"Julie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75032879,"answer_count":2,"score":0,"last_activity_date":1674699388,"creation_date":1672961188,"question_id":75025444,"body_markdown":"How do I configure snakeyaml to remove the following single quotes?\r\n\r\n    #%RAML 1.0 DataType\r\n    type: object\r\n    properties:\r\n      apiName:\r\n        type: string\r\n      label:\r\n        type: string\r\n      sortable:\r\n        type: &#39;!include boolean-types.raml&#39;\r\n\r\nI am using snakeyaml to output RAML, I need to remove the single quotes on the include.\r\n\r\nI have configured the options as follows:\r\n\r\n    DumperOptions options = new DumperOptions();\r\n\toptions.setIndent(2);\r\n\toptions.setPrettyFlow(true);\r\n\toptions.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\r\n\tYaml yaml = new Yaml(options);\r\n\tyaml.dump(map, writer);","title":"Snakeyaml removed quotes","body":"<p>How do I configure snakeyaml to remove the following single quotes?</p>\n<pre><code>#%RAML 1.0 DataType\ntype: object\nproperties:\n  apiName:\n    type: string\n  label:\n    type: string\n  sortable:\n    type: '!include boolean-types.raml'\n</code></pre>\n<p>I am using snakeyaml to output RAML, I need to remove the single quotes on the include.</p>\n<p>I have configured the options as follows:</p>\n<pre><code>DumperOptions options = new DumperOptions();\noptions.setIndent(2);\noptions.setPrettyFlow(true);\noptions.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\nYaml yaml = new Yaml(options);\nyaml.dump(map, writer);\n</code></pre>\n"},{"tags":["java","json","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1551892743,"post_id":55028460,"comment_id":96810217,"body_markdown":"What JSON library are you using?","body":"What JSON library are you using?"}],"answers":[{"tags":[],"owner":{"account_id":2392894,"reputation":1724,"user_id":2092392,"accept_rate":75,"display_name":"Sree"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1551892906,"creation_date":1551892906,"answer_id":55028832,"question_id":55028460,"body_markdown":"you can type cast your response string to JSON Object. \r\n\r\n**String to JSON** using `Jackson` with `com.fasterxml.jackson.databind`:\r\n \r\n Assuming your json-string represents as this:  jsonString = &quot;{&quot;name&quot;:&quot;sample&quot;}&quot;\r\n\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n   \r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode node = mapper.readTree(responseBodyString);\r\n    String phoneType = node.get(&quot;name&quot;).asText();\r\n\r\nUsing [org.json][1] library:\r\n\r\n    JSONObject jsonObj = new JSONObject(responseBodyString);\r\n    String name = jsonObj.get(&quot;name&quot;);\r\n\r\n[1]: https://mvnrepository.com/artifact/org.json/json   ","title":"How to capture the http response as a Json Object in Java","body":"<p>you can type cast your response string to JSON Object. </p>\n\n<p><strong>String to JSON</strong> using <code>Jackson</code> with <code>com.fasterxml.jackson.databind</code>:</p>\n\n<p>Assuming your json-string represents as this:  jsonString = \"{\"name\":\"sample\"}\"</p>\n\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nObjectMapper mapper = new ObjectMapper();\nJsonNode node = mapper.readTree(responseBodyString);\nString phoneType = node.get(\"name\").asText();\n</code></pre>\n\n<p>Using <a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"noreferrer\">org.json</a> library:</p>\n\n<pre><code>JSONObject jsonObj = new JSONObject(responseBodyString);\nString name = jsonObj.get(\"name\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551892979,"creation_date":1551892979,"answer_id":55028862,"question_id":55028460,"body_markdown":"Just convert the string into `JSONObject` then get the value for `name`\r\n\r\n    JSONObject obj = new JSONObject(responseBodyString);\r\n    System.out.println(obj.get(&quot;name&quot;));","title":"How to capture the http response as a Json Object in Java","body":"<p>Just convert the string into <code>JSONObject</code> then get the value for <code>name</code></p>\n\n<pre><code>JSONObject obj = new JSONObject(responseBodyString);\nSystem.out.println(obj.get(\"name\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6198408,"reputation":1,"user_id":4829053,"display_name":"Ara Sho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551893136,"creation_date":1551893136,"answer_id":55028904,"question_id":55028460,"body_markdown":"What I would recommend is since you already have your JSON as a string, write a method which makes use of the google &#39;Splitter&#39; object and define the characters on which you want to split into K-V pairs.\r\n\r\nFor example I did the same for K-V pairs as a string coming from a Spring Boot app and split based on the special &#39;,&#39; characters:\r\n\r\n    private Map&lt;String, String&gt; splitToMap(String in) {\r\n\t\t\r\n        return Splitter.on(&quot;, &quot;).withKeyValueSeparator(&quot;=&quot;).split(in);\r\n    }\r\n\r\nreplace with for example &quot;: &quot; and this should pick up your JSON string as K-V pairs.\r\n\r\nSplitter Mvn dependency below:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t    &lt;version&gt;21.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nhope this helps you make a start.","title":"How to capture the http response as a Json Object in Java","body":"<p>What I would recommend is since you already have your JSON as a string, write a method which makes use of the google 'Splitter' object and define the characters on which you want to split into K-V pairs.</p>\n\n<p>For example I did the same for K-V pairs as a string coming from a Spring Boot app and split based on the special ',' characters:</p>\n\n<pre><code>private Map&lt;String, String&gt; splitToMap(String in) {\n\n    return Splitter.on(\", \").withKeyValueSeparator(\"=\").split(in);\n}\n</code></pre>\n\n<p>replace with for example \": \" and this should pick up your JSON string as K-V pairs.</p>\n\n<p>Splitter Mvn dependency below:</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;21.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>hope this helps you make a start.</p>\n"}],"owner":{"account_id":14733658,"reputation":823,"user_id":10640283,"display_name":"Matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14265,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1674699050,"creation_date":1551891643,"question_id":55028460,"body_markdown":"I want to send a HTTP request using CloseableHttpClient and then capture the body of the response in a JSON object so I can access the key values like this: responseJson.name etc\r\n\r\nI can capture the response body as a string ok using the code below but how can I capture it as a JSON object?\r\n\r\n    CloseableHttpClient httpClient = HttpClients.createDefault();\r\n    URIBuilder builder = new URIBuilder();\r\n\r\n        builder.setScheme(&quot;https&quot;).setHost(&quot;login.xxxxxx&quot;).setPath(&quot;/x/oauth2/token&quot;);\r\n\r\n&gt;         URI uri = builder.build();\r\n&gt;         HttpPost request = new HttpPost(uri);\r\n&gt;         HttpEntity entity = MultipartEntityBuilder.create()\r\n&gt;                 .addPart(&quot;grant_type&quot;, grantType)\r\n&gt;                 .build();\r\n&gt;         request.setEntity(entity);\r\n&gt;         HttpResponse response = httpClient.execute(request);\r\n&gt;         assertEquals(200, response.getStatusLine().getStatusCode());\r\n&gt; \r\n&gt;         //This captures and prints the response as a string\r\n&gt;         HttpEntity responseBodyentity = response.getEntity();\r\n&gt;         String responseBodyString = EntityUtils.toString(responseBodyentity);\r\n&gt;         System.out.println(responseBodyString);\r\n\r\n","title":"How to capture the http response as a Json Object in Java","body":"<p>I want to send a HTTP request using CloseableHttpClient and then capture the body of the response in a JSON object so I can access the key values like this: responseJson.name etc</p>\n\n<p>I can capture the response body as a string ok using the code below but how can I capture it as a JSON object?</p>\n\n<pre><code>CloseableHttpClient httpClient = HttpClients.createDefault();\nURIBuilder builder = new URIBuilder();\n\n    builder.setScheme(\"https\").setHost(\"login.xxxxxx\").setPath(\"/x/oauth2/token\");\n</code></pre>\n\n<blockquote>\n<pre><code>    URI uri = builder.build();\n    HttpPost request = new HttpPost(uri);\n    HttpEntity entity = MultipartEntityBuilder.create()\n            .addPart(\"grant_type\", grantType)\n            .build();\n    request.setEntity(entity);\n    HttpResponse response = httpClient.execute(request);\n    assertEquals(200, response.getStatusLine().getStatusCode());\n\n    //This captures and prints the response as a string\n    HttpEntity responseBodyentity = response.getEntity();\n    String responseBodyString = EntityUtils.toString(responseBodyentity);\n    System.out.println(responseBodyString);\n</code></pre>\n</blockquote>\n"},{"tags":["java","spring","url","thymeleaf"],"comments":[{"owner":{"account_id":3704602,"reputation":469,"user_id":3083488,"display_name":"Zain"},"score":2,"creation_date":1506950553,"post_id":46526009,"comment_id":80006638,"body_markdown":"I would try using {#httpServletRequest.requestURI} to get the full URL and then implement a simple function to remove the base URL from the string. Depending on your requirements you could also do this on the server side and pass the relative URL as a string variable to your view.","body":"I would try using {#httpServletRequest.requestURI} to get the full URL and then implement a simple function to remove the base URL from the string. Depending on your requirements you could also do this on the server side and pass the relative URL as a string variable to your view."}],"answers":[{"tags":[],"owner":{"account_id":2874038,"reputation":366,"user_id":2466666,"display_name":"hicham abdedaime"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1506954033,"creation_date":1506954033,"answer_id":46527409,"question_id":46526009,"body_markdown":"you can use this : \r\n\r\n    &lt;span th:with=&quot;url=${#httpServletRequest.requestURI}&quot;/&gt;\r\n    &lt;span th:text=&quot;${url}&quot;&gt;&lt;/span&gt; \r\n\r\n examle  output payment-page/pay for this url http://www.example.com/payment-page/pay.\r\n\r\n\r\n","title":"Thymeleaf get current url without base url","body":"<p>you can use this : </p>\n\n<pre><code>&lt;span th:with=\"url=${#httpServletRequest.requestURI}\"/&gt;\n&lt;span th:text=\"${url}\"&gt;&lt;/span&gt; \n</code></pre>\n\n<p>examle  output payment-page/pay for this url <a href=\"http://www.example.com/payment-page/pay\" rel=\"nofollow noreferrer\">http://www.example.com/payment-page/pay</a>.</p>\n"},{"tags":[],"owner":{"account_id":3542965,"reputation":397,"user_id":2959589,"accept_rate":0,"display_name":"user2959589"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674697846,"creation_date":1674697846,"answer_id":75241636,"question_id":46526009,"body_markdown":"For anyone searching on this, this answer no longer works with Thymeleaf 3.1.\r\n\r\nI had the same issue. This is what I did:\r\n\r\n    @ControllerAdvice(basePackageClasses = AdminControllersPackage.class)\r\n    public class AdminControllerAdvice {\r\n    \r\n        @ModelAttribute(&quot;requestURI&quot;)\r\n        String getRequestServletPath(HttpServletRequest request) {\r\n            return request.getServletPath();\r\n        }\r\n    \r\n    }\r\n\r\nThe `AdminControllersPackage` class is just a marker class which I used so the ControllerAdvice would only apply to controllers in the relevant package. It&#39;s an empty definition:\r\n\r\n    final class AdminControllerPackage { \r\n       private AdminControllerPackage() { throw new RuntimeException(); } \r\n    }\r\n\r\n If you want this to apply to all controllers in your application, you can omit that. \r\n\r\nThen you can access `requestURI` like any other variable in your templates:\r\n\r\n    &lt;p&gt;The URI is: [[${requestURI}]]&lt;/p&gt;\r\n\r\nIt&#39;s actually nice to do things this way, because more often I want to do some logic based on the URI and my ControllerAdvice could do a lot more in Java than I can practically put in a Thymeleaf expression.","title":"Thymeleaf get current url without base url","body":"<p>For anyone searching on this, this answer no longer works with Thymeleaf 3.1.</p>\n<p>I had the same issue. This is what I did:</p>\n<pre><code>@ControllerAdvice(basePackageClasses = AdminControllersPackage.class)\npublic class AdminControllerAdvice {\n\n    @ModelAttribute(&quot;requestURI&quot;)\n    String getRequestServletPath(HttpServletRequest request) {\n        return request.getServletPath();\n    }\n\n}\n</code></pre>\n<p>The <code>AdminControllersPackage</code> class is just a marker class which I used so the ControllerAdvice would only apply to controllers in the relevant package. It's an empty definition:</p>\n<pre><code>final class AdminControllerPackage { \n   private AdminControllerPackage() { throw new RuntimeException(); } \n}\n</code></pre>\n<p>If you want this to apply to all controllers in your application, you can omit that.</p>\n<p>Then you can access <code>requestURI</code> like any other variable in your templates:</p>\n<pre><code>&lt;p&gt;The URI is: [[${requestURI}]]&lt;/p&gt;\n</code></pre>\n<p>It's actually nice to do things this way, because more often I want to do some logic based on the URI and my ControllerAdvice could do a lot more in Java than I can practically put in a Thymeleaf expression.</p>\n"}],"owner":{"account_id":3813266,"reputation":1177,"user_id":3163389,"accept_rate":86,"display_name":"moonwalker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4613,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46527409,"answer_count":2,"score":2,"last_activity_date":1674697846,"creation_date":1506949249,"question_id":46526009,"body_markdown":"Is there a way in thymeleaf to get current url&#39;s portion after the base url and use it as a string for example in `th:text`? \r\n\r\nExample: `http://www.example.com/payment-page/pay` I want the `/payment-page/pay` or `payment-page/pay` portion. Thanks.","title":"Thymeleaf get current url without base url","body":"<p>Is there a way in thymeleaf to get current url's portion after the base url and use it as a string for example in <code>th:text</code>? </p>\n\n<p>Example: <code>http://www.example.com/payment-page/pay</code> I want the <code>/payment-page/pay</code> or <code>payment-page/pay</code> portion. Thanks.</p>\n"},{"tags":["java","appium-android"],"owner":{"account_id":19937055,"reputation":71,"user_id":14609500,"display_name":"Bhoomiputra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674696887,"creation_date":1674696887,"question_id":75241580,"body_markdown":"    adb shell dumpsys window | grep -E &#39;mCurrentFocus&#39;\r\n    \r\n    returns: \r\n    mCurrentFocus=Window{397d9cf u0 com.google.android.apps.nexuslauncher/com.google.android.apps.nexuslauncher.NexusLauncherActivity}\r\n\r\nHow can one extract the package name which is from com till the fwd &#39;/&#39;?\r\n\r\n**com.google.android.apps.nexuslauncher**\r\n\r\nI was able to do so by using split() multiple times which I thought was convoluted. Is there a way to extract using regex?\r\n","title":"Apply Regex to Extract a Sub String of the ADB Output","body":"<pre><code>adb shell dumpsys window | grep -E 'mCurrentFocus'\n\nreturns: \nmCurrentFocus=Window{397d9cf u0 com.google.android.apps.nexuslauncher/com.google.android.apps.nexuslauncher.NexusLauncherActivity}\n</code></pre>\n<p>How can one extract the package name which is from com till the fwd '/'?</p>\n<p><strong>com.google.android.apps.nexuslauncher</strong></p>\n<p>I was able to do so by using split() multiple times which I thought was convoluted. Is there a way to extract using regex?</p>\n"},{"tags":["java","opencv","boolean","getter-setter","jogl"],"comments":[{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1674721377,"post_id":75241508,"comment_id":132775216,"body_markdown":"Please rather post a SSCCE: sscce.org. Your problem lies elsewhere. By the way, JOGL specific questions should be posted on our official forum https://forum.jogamp.org","body":"Please rather post a SSCCE: sscce.org. Your problem lies elsewhere. By the way, JOGL specific questions should be posted on our official forum <a href=\"https://forum.jogamp.org\" rel=\"nofollow noreferrer\">forum.jogamp.org</a>"}],"owner":{"account_id":20222377,"reputation":1,"user_id":14831419,"display_name":"Vlonely"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674695889,"creation_date":1674695889,"question_id":75241508,"body_markdown":"first of all im not very experienced in coding but im learning:))) \r\n\r\nSoooo, im trying to use a boolean &quot;red&quot; in an if statement to do something. \r\nThe value of &quot;red&quot; is set in the PreProcessor-method, which is in another class but if i try to call or use it in my jogl Display-method, &quot;red&quot; is always false.\r\nif i call &quot;red&quot; inside of setRed() or the PreProcessor-method, it always has the correct value.\r\n\r\nWhat could be the Problem here?\r\n\r\n\r\n\r\n\r\n***This is the setter, getter and Display Method inside of my Jogl Render class***\r\n```\r\n public void setRed(boolean red) {\r\n        this.red = red;\r\n        System.out.println(&quot;Test Red is: &quot;+red);       //&quot;red&quot; is always set to the correct value\r\n    }\r\n    public boolean getRed() {return this.red;}\r\n    /**\r\n     * Implementation of the OpenGL EventListener (GLEventListener) method\r\n     * called by the OpenGL animator for every frame.\r\n     * @param drawable The OpenGL drawable\r\n     */\r\n    @Override\r\n    public void display(GLAutoDrawable drawable) {\r\n        // Retrieve the OpenGL graphics context\r\n        GL3 gl = drawable.getGL().getGL3();\r\n        // Clear color and depth buffer\r\n        gl.glClear(GL3.GL_COLOR_BUFFER_BIT | GL3.GL_DEPTH_BUFFER_BIT);\r\n\r\n        // Apply view transform using the PMV-Tool\r\n        // Camera positioning is steered by the interaction handler\r\n        pmvMatrix.glLoadIdentity();\r\n        pmvMatrix.gluLookAt(0f, 3f, interactionHandler.getEyeZ(),\r\n                0f, 0f, 0f,\r\n                0f, 1.0f, 0f);\r\n        pmvMatrix.glTranslatef(interactionHandler.getxPosition(), interactionHandler.getyPosition(), 0f);\r\n        pmvMatrix.glTranslatef(0f,0f,z);\r\n        pmvMatrix.glRotatef(interactionHandler.getAngleXaxis(), 1f, 0f, 0f);\r\n        pmvMatrix.glRotatef(interactionHandler.getAngleYaxis(), 0f, 1f, 0f);\r\n        pmvMatrix.glRotatef(interactionHandler.getAngleZaxis(), 0f, 0f, 1f);\r\n\r\n        System.out.println(&quot;Red-Value: &quot;+getRed());    //&quot;red&quot; is always false :(\r\n        /*if (red){\r\n            r += rSteps;\r\n            System.out.println(&quot;RotTester&quot;);\r\n            System.out.println(&quot;R = &quot;+r);\r\n        }*/\r\n\r\n        pmvMatrix.glMatrixMode(PMVMatrix.GL_MODELVIEW);\r\n\r\n        //Cylinder\r\n        pmvMatrix.glPushMatrix();\r\n        pmvMatrix.glTranslatef(0f, -6f, 0f);\r\n        pmvMatrix.glRotatef(r, 0f, 0f, 1f);\r\n        pmvMatrix.glTranslatef(0f, 6f, 0f);\r\n        displayObject0(gl);\r\n        pmvMatrix.glPopMatrix();\r\n\r\n        //Stones\r\n        pmvMatrix.glPushMatrix();\r\n        pmvMatrix.glTranslatef(0f, -4.5f, 0f);\r\n        pmvMatrix.glRotatef(r, 0f, 0f, 1f);\r\n        pmvMatrix.glTranslatef(0f, 4.5f, 0f);\r\n        displayObject1(gl);\r\n        pmvMatrix.glPopMatrix();\r\n\r\n        //Avatar\r\n        pmvMatrix.glPushMatrix();\r\n        pmvMatrix.glTranslatef(0f, 0f, t);\r\n        displayObject2(gl);\r\n        pmvMatrix.glPopMatrix();\r\n\r\n        //Background\r\n        pmvMatrix.glPushMatrix();\r\n        pmvMatrix.glTranslatef(0f, 0f, 0f);\r\n        displayObject3(gl);\r\n        pmvMatrix.glPopMatrix();\r\n\r\n        if (t &gt; -165.0f) {\r\n            t -= 0.1f;\r\n            z += 0.1f;\r\n        }\r\n    }\r\n```\r\n\r\n\r\n***and this is the PreProcessor-method(placed in the PreProcessor Class) which processes the stream of my webcam***\r\n\r\n```\r\n    public PreProcessor(Mat mat) {\r\n\r\n        input = mat;\r\n        Imgproc.GaussianBlur(input, gaussianBlur, new Size(gbSize, gbSize), gbSigma);\r\n        Imgproc.cvtColor(gaussianBlur, hsv, Imgproc.COLOR_BGR2HSV);\r\n        Core.inRange(hsv, irLowerThresholdBlue, irUpperThresholdBlue, inRangeBlue); // Mask color blue\r\n        Core.inRange(hsv, irLowerThresholdRed, irUpperThresholdRed, inRangeRed);    // Maskvon color red\r\n        Core.bitwise_or(inRangeBlue, inRangeRed, inRange);                          // Mask of both\r\n        Imgproc.medianBlur(inRange, medianBlur, mbKSize);\r\n        output = medianBlur.clone();\r\n\r\n\r\n        if (Core.countNonZero(inRangeRed) &gt; 0) {                                    \r\n            red = true;                                                             \r\n            startRendererPP.setRed(red);         //set red in the Render Class\r\n\r\n        }\r\n\r\n        if (Core.countNonZero(inRangeBlue) &gt; 0) {\r\n            blue = true;\r\n        }\r\n\r\n        System.out.println(&quot;In Class Red: &quot; + red);     //Value is correct\r\n        System.out.println(&quot;In Class Blue: &quot; + blue);\r\n\r\n    }\r\n```\r\n \r\n\r\nplease tell me if more Code context is needed but the other code has nothing to do with this issue, \r\nso i guess this should be enough and maybe i just made a dumb mistake:))\r\n\r\nI tried to pass the boolean through another class but the problem stays -&gt; the boolean remains false inside of my Display-method.\r\n\r\nI just want the boolean to be updated correctly:(  \r\nThx for the help in advance!","title":"Why is the value of the &quot;red&quot; boolean always false ouside of the setter or PreProcess Method? OpenCV and JOGL/OpenGL","body":"<p>first of all im not very experienced in coding but im learning:)))</p>\n<p>Soooo, im trying to use a boolean &quot;red&quot; in an if statement to do something.\nThe value of &quot;red&quot; is set in the PreProcessor-method, which is in another class but if i try to call or use it in my jogl Display-method, &quot;red&quot; is always false.\nif i call &quot;red&quot; inside of setRed() or the PreProcessor-method, it always has the correct value.</p>\n<p>What could be the Problem here?</p>\n<p><em><strong>This is the setter, getter and Display Method inside of my Jogl Render class</strong></em></p>\n<pre><code> public void setRed(boolean red) {\n        this.red = red;\n        System.out.println(&quot;Test Red is: &quot;+red);       //&quot;red&quot; is always set to the correct value\n    }\n    public boolean getRed() {return this.red;}\n    /**\n     * Implementation of the OpenGL EventListener (GLEventListener) method\n     * called by the OpenGL animator for every frame.\n     * @param drawable The OpenGL drawable\n     */\n    @Override\n    public void display(GLAutoDrawable drawable) {\n        // Retrieve the OpenGL graphics context\n        GL3 gl = drawable.getGL().getGL3();\n        // Clear color and depth buffer\n        gl.glClear(GL3.GL_COLOR_BUFFER_BIT | GL3.GL_DEPTH_BUFFER_BIT);\n\n        // Apply view transform using the PMV-Tool\n        // Camera positioning is steered by the interaction handler\n        pmvMatrix.glLoadIdentity();\n        pmvMatrix.gluLookAt(0f, 3f, interactionHandler.getEyeZ(),\n                0f, 0f, 0f,\n                0f, 1.0f, 0f);\n        pmvMatrix.glTranslatef(interactionHandler.getxPosition(), interactionHandler.getyPosition(), 0f);\n        pmvMatrix.glTranslatef(0f,0f,z);\n        pmvMatrix.glRotatef(interactionHandler.getAngleXaxis(), 1f, 0f, 0f);\n        pmvMatrix.glRotatef(interactionHandler.getAngleYaxis(), 0f, 1f, 0f);\n        pmvMatrix.glRotatef(interactionHandler.getAngleZaxis(), 0f, 0f, 1f);\n\n        System.out.println(&quot;Red-Value: &quot;+getRed());    //&quot;red&quot; is always false :(\n        /*if (red){\n            r += rSteps;\n            System.out.println(&quot;RotTester&quot;);\n            System.out.println(&quot;R = &quot;+r);\n        }*/\n\n        pmvMatrix.glMatrixMode(PMVMatrix.GL_MODELVIEW);\n\n        //Cylinder\n        pmvMatrix.glPushMatrix();\n        pmvMatrix.glTranslatef(0f, -6f, 0f);\n        pmvMatrix.glRotatef(r, 0f, 0f, 1f);\n        pmvMatrix.glTranslatef(0f, 6f, 0f);\n        displayObject0(gl);\n        pmvMatrix.glPopMatrix();\n\n        //Stones\n        pmvMatrix.glPushMatrix();\n        pmvMatrix.glTranslatef(0f, -4.5f, 0f);\n        pmvMatrix.glRotatef(r, 0f, 0f, 1f);\n        pmvMatrix.glTranslatef(0f, 4.5f, 0f);\n        displayObject1(gl);\n        pmvMatrix.glPopMatrix();\n\n        //Avatar\n        pmvMatrix.glPushMatrix();\n        pmvMatrix.glTranslatef(0f, 0f, t);\n        displayObject2(gl);\n        pmvMatrix.glPopMatrix();\n\n        //Background\n        pmvMatrix.glPushMatrix();\n        pmvMatrix.glTranslatef(0f, 0f, 0f);\n        displayObject3(gl);\n        pmvMatrix.glPopMatrix();\n\n        if (t &gt; -165.0f) {\n            t -= 0.1f;\n            z += 0.1f;\n        }\n    }\n</code></pre>\n<p><em><strong>and this is the PreProcessor-method(placed in the PreProcessor Class) which processes the stream of my webcam</strong></em></p>\n<pre><code>    public PreProcessor(Mat mat) {\n\n        input = mat;\n        Imgproc.GaussianBlur(input, gaussianBlur, new Size(gbSize, gbSize), gbSigma);\n        Imgproc.cvtColor(gaussianBlur, hsv, Imgproc.COLOR_BGR2HSV);\n        Core.inRange(hsv, irLowerThresholdBlue, irUpperThresholdBlue, inRangeBlue); // Mask color blue\n        Core.inRange(hsv, irLowerThresholdRed, irUpperThresholdRed, inRangeRed);    // Maskvon color red\n        Core.bitwise_or(inRangeBlue, inRangeRed, inRange);                          // Mask of both\n        Imgproc.medianBlur(inRange, medianBlur, mbKSize);\n        output = medianBlur.clone();\n\n\n        if (Core.countNonZero(inRangeRed) &gt; 0) {                                    \n            red = true;                                                             \n            startRendererPP.setRed(red);         //set red in the Render Class\n\n        }\n\n        if (Core.countNonZero(inRangeBlue) &gt; 0) {\n            blue = true;\n        }\n\n        System.out.println(&quot;In Class Red: &quot; + red);     //Value is correct\n        System.out.println(&quot;In Class Blue: &quot; + blue);\n\n    }\n</code></pre>\n<p>please tell me if more Code context is needed but the other code has nothing to do with this issue,\nso i guess this should be enough and maybe i just made a dumb mistake:))</p>\n<p>I tried to pass the boolean through another class but the problem stays -&gt; the boolean remains false inside of my Display-method.</p>\n<p>I just want the boolean to be updated correctly:(<br />\nThx for the help in advance!</p>\n"},{"tags":["java","spring","spring-webflux","project-reactor","reactor"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1674682904,"post_id":75238755,"comment_id":132769652,"body_markdown":"You can check https://spring.io/blog/2019/04/16/flight-of-the-flux-2-debugging-caveats","body":"You can check <a href=\"https://spring.io/blog/2019/04/16/flight-of-the-flux-2-debugging-caveats\" rel=\"nofollow noreferrer\">spring.io/blog/2019/04/16/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15151336,"reputation":100,"user_id":10933589,"display_name":"Gabriel Magalh&#227;es"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674694850,"creation_date":1674694470,"answer_id":75241417,"question_id":75238755,"body_markdown":"I highly recommend the Reactor doc to check what each method does https://projectreactor.io/docs/core/release/reference/\r\n\r\n***doOnNext***, ***doOnError***, ***doOnSuccess*** are highly used to execute blocking operations without side effects on the current stream. If you received a Square object on your ***doOnNext*** and ***doOnError***, this method would return precisely the received Square object (even if you changed its properties)\r\n\r\n***doOnNext*** to execute after the previous sequence finishes **try-catch**\r\n\r\n***doOnError*** the subsequent execution if an exception was thrown (and there&#39;s no other exception handler on stream)\r\n\r\n***doOnSuccess*** is similar to a finally block from **try-catch**\r\n\r\n\r\n***onErrorResume*** is most used to handle exceptions if needed, similar to catch(Exception e), but it will return a new object\r\n\r\nAs you can see, it&#39;s okay to have logs on ***flatMap***, ***map***, ***doOnNext***, ***doOnError***, or ***onErrorResume***. The correct one to use will vary on what you need. If logging is the only thing you need, I recommend ***doOnNext***, ***doOnError***, or ***doOnFinally***.\r\n\r\nAs said before, please refer to the docs too to check what each method stands for","title":"how to log pipelines in Java project reactor?","body":"<p>I highly recommend the Reactor doc to check what each method does <a href=\"https://projectreactor.io/docs/core/release/reference/\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/reference/</a></p>\n<p><em><strong>doOnNext</strong></em>, <em><strong>doOnError</strong></em>, <em><strong>doOnSuccess</strong></em> are highly used to execute blocking operations without side effects on the current stream. If you received a Square object on your <em><strong>doOnNext</strong></em> and <em><strong>doOnError</strong></em>, this method would return precisely the received Square object (even if you changed its properties)</p>\n<p><em><strong>doOnNext</strong></em> to execute after the previous sequence finishes <strong>try-catch</strong></p>\n<p><em><strong>doOnError</strong></em> the subsequent execution if an exception was thrown (and there's no other exception handler on stream)</p>\n<p><em><strong>doOnSuccess</strong></em> is similar to a finally block from <strong>try-catch</strong></p>\n<p><em><strong>onErrorResume</strong></em> is most used to handle exceptions if needed, similar to catch(Exception e), but it will return a new object</p>\n<p>As you can see, it's okay to have logs on <em><strong>flatMap</strong></em>, <em><strong>map</strong></em>, <em><strong>doOnNext</strong></em>, <em><strong>doOnError</strong></em>, or <em><strong>onErrorResume</strong></em>. The correct one to use will vary on what you need. If logging is the only thing you need, I recommend <em><strong>doOnNext</strong></em>, <em><strong>doOnError</strong></em>, or <em><strong>doOnFinally</strong></em>.</p>\n<p>As said before, please refer to the docs too to check what each method stands for</p>\n"}],"owner":{"account_id":3208238,"reputation":11,"user_id":2708808,"display_name":"dalmanza9119"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75241417,"answer_count":1,"score":0,"last_activity_date":1674694850,"creation_date":1674673764,"question_id":75238755,"body_markdown":"I have started a new project that uses java reactor and spring webFLux. Recently I had to debug a production bug and It was a nightmare since they do not log anything. So, reading I found two ways to start adding logs to pipelines. One by using .log() and another one by using onErrorResume, doOnSubscribe, doOnSuccess. Do you know which one should I use? Are better ways to log pipelines?\r\n\r\n        return repositoryName.findById(event.eventId())\r\n            .filter(event -&gt; event.completedDate() == null)\r\n            .filterWhen(event -&gt;\r\n                externalService.getEventSummary(event.getUser().userId())\r\n            .doOnNext(event -&gt; log.info(&quot;Event found {} and should be marked as found&quot;, event.id()))","title":"how to log pipelines in Java project reactor?","body":"<p>I have started a new project that uses java reactor and spring webFLux. Recently I had to debug a production bug and It was a nightmare since they do not log anything. So, reading I found two ways to start adding logs to pipelines. One by using .log() and another one by using onErrorResume, doOnSubscribe, doOnSuccess. Do you know which one should I use? Are better ways to log pipelines?</p>\n<pre><code>    return repositoryName.findById(event.eventId())\n        .filter(event -&gt; event.completedDate() == null)\n        .filterWhen(event -&gt;\n            externalService.getEventSummary(event.getUser().userId())\n        .doOnNext(event -&gt; log.info(&quot;Event found {} and should be marked as found&quot;, event.id()))\n</code></pre>\n"},{"tags":["java","spring-boot","rabbitmq","spring-rabbit"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1674663651,"post_id":75236736,"comment_id":132763754,"body_markdown":"We need to understand from where you use that `startListener()`. Might turn out that you call it too early.","body":"We need to understand from where you use that <code>startListener()</code>. Might turn out that you call it too early."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1674664371,"post_id":75236736,"comment_id":132764032,"body_markdown":"`getBean()` will throw an exception for a missing bean. Are you sure the NPE is on the registry and not on `getListenerContainer()`? If the latter, it is probably too. early, you are accessing the registry before the listener is registered.","body":"<code>getBean()</code> will throw an exception for a missing bean. Are you sure the NPE is on the registry and not on <code>getListenerContainer()</code>? If the latter, it is probably too. early, you are accessing the registry before the listener is registered."},{"owner":{"account_id":27619821,"reputation":1,"user_id":21081129,"display_name":"kkits"},"score":0,"creation_date":1674664820,"post_id":75236736,"comment_id":132764213,"body_markdown":"@ArtemBilan I send request through REST Controller. I have there method that call `.startListener()` in `ListenerInitializer`","body":"@ArtemBilan I send request through REST Controller. I have there method that call <code>.startListener()</code> in <code>ListenerInitializer</code>"},{"owner":{"account_id":27619821,"reputation":1,"user_id":21081129,"display_name":"kkits"},"score":0,"creation_date":1674664865,"post_id":75236736,"comment_id":132764227,"body_markdown":"@GaryRussell for sure. NPE is in line: `RabbitListenerEndpointRegistry listenerRegistry = applicationContext.getBean(RabbitListenerEndpointRegistry.class);`","body":"@GaryRussell for sure. NPE is in line: <code>RabbitListenerEndpointRegistry listenerRegistry = applicationContext.getBean(RabbitListenerEndpointRegistry.cl&zwnj;&#8203;ass);</code>"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1674665956,"post_id":75236736,"comment_id":132764644,"body_markdown":"Any chances you can share with us some simple project to reproduce this problem?","body":"Any chances you can share with us some simple project to reproduce this problem?"},{"owner":{"account_id":27619821,"reputation":1,"user_id":21081129,"display_name":"kkits"},"score":0,"creation_date":1674666121,"post_id":75236736,"comment_id":132764699,"body_markdown":"@GaryRussell ok, sorry - you have right  - it throw NPE on `getListenerContainer()`, but I have also few times as I wrote in previous comment. But still - I call it, after I build Application - through REST Controller so it cannot be due to time","body":"@GaryRussell ok, sorry - you have right  - it throw NPE on <code>getListenerContainer()</code>, but I have also few times as I wrote in previous comment. But still - I call it, after I build Application - through REST Controller so it cannot be due to time"},{"owner":{"account_id":27619821,"reputation":1,"user_id":21081129,"display_name":"kkits"},"score":0,"creation_date":1674666171,"post_id":75236736,"comment_id":132764716,"body_markdown":"@ArtemBilan unfortunately no, it is a part of big project","body":"@ArtemBilan unfortunately no, it is a part of big project"},{"owner":{"account_id":27619821,"reputation":1,"user_id":21081129,"display_name":"kkits"},"score":0,"creation_date":1674666496,"post_id":75236736,"comment_id":132764822,"body_markdown":"@ArtemBilan Or you meant to create some simple project and copy that classes to imitate same problem? I&#39;m not sure that isn&#39;t due to it is big project so it is a lot of beans, but if you meant that just told me so I will try to make something","body":"@ArtemBilan Or you meant to create some simple project and copy that classes to imitate same problem? I&#39;m not sure that isn&#39;t due to it is big project so it is a lot of beans, but if you meant that just told me so I will try to make something"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1674667222,"post_id":75236736,"comment_id":132765067,"body_markdown":"Big project... So, perhaps you have many `ApplicationContext` instances where a wrong one is injected into your `ListenerInitializer`, but that `@EnableRabbit` is initialized in the other one. Yeah.. Would be great to see a small project which can reproduce the issue.","body":"Big project... So, perhaps you have many <code>ApplicationContext</code> instances where a wrong one is injected into your <code>ListenerInitializer</code>, but that <code>@EnableRabbit</code> is initialized in the other one. Yeah.. Would be great to see a small project which can reproduce the issue."},{"owner":{"account_id":27619821,"reputation":1,"user_id":21081129,"display_name":"kkits"},"score":0,"creation_date":1674668450,"post_id":75236736,"comment_id":132765452,"body_markdown":"@ArtemBilan I not sure Big Project as you think - it&#39;s just not a simple project. Around 30-40 classes. And for sure anywhere is not pulled out and intentionally used `ApplicationContext` as I tried to do it.\n\nI tried without `@EnableRabbit` in `Configuration` class and also I tried to use `@EnableRabbit` above `ListenerInitializer`, but is the same problem.\n\nOk, I will try to make some simple project to demonstrate problem (of course if will be)","body":"@ArtemBilan I not sure Big Project as you think - it&#39;s just not a simple project. Around 30-40 classes. And for sure anywhere is not pulled out and intentionally used <code>ApplicationContext</code> as I tried to do it.  I tried without <code>@EnableRabbit</code> in <code>Configuration</code> class and also I tried to use <code>@EnableRabbit</code> above <code>ListenerInitializer</code>, but is the same problem.  Ok, I will try to make some simple project to demonstrate problem (of course if will be)"},{"owner":{"account_id":27619821,"reputation":1,"user_id":21081129,"display_name":"kkits"},"score":0,"creation_date":1674668830,"post_id":75236736,"comment_id":132765564,"body_markdown":"@ArtemBilan also is not on this way that implementation of `ApplicationContextAware` inject default `ApplicationContext` into `ListenerInitializer` in field of `ApplicatinContext`? Is not opposite or I don&#39;t know something?","body":"@ArtemBilan also is not on this way that implementation of <code>ApplicationContextAware</code> inject default <code>ApplicationContext</code> into <code>ListenerInitializer</code> in field of <code>ApplicatinContext</code>? Is not opposite or I don&#39;t know something?"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1674669573,"post_id":75236736,"comment_id":132765814,"body_markdown":"No, that&#39;s OK. That&#39;s why I&#39;m confused. The `@EnableRabbit` does register that `RabbitListenerEndpointRegistry` for us in the application context. Therefore it really must be available there...","body":"No, that&#39;s OK. That&#39;s why I&#39;m confused. The <code>@EnableRabbit</code> does register that <code>RabbitListenerEndpointRegistry</code> for us in the application context. Therefore it really must be available there..."},{"owner":{"account_id":27619821,"reputation":1,"user_id":21081129,"display_name":"kkits"},"score":0,"creation_date":1674675158,"post_id":75236736,"comment_id":132767556,"body_markdown":"@ArtemBilan I tried with `@EnableRabbit` everywhere. On `RabbitMqConfig`, `ExampleApplication` (SpringbootApplication) and above `ListenerInitializer`. Nothing changed, I checked that I don&#39;t have anywhere more `@EnableRabbit`. Of course only in one place in same time","body":"@ArtemBilan I tried with <code>@EnableRabbit</code> everywhere. On <code>RabbitMqConfig</code>, <code>ExampleApplication</code> (SpringbootApplication) and above <code>ListenerInitializer</code>. Nothing changed, I checked that I don&#39;t have anywhere more <code>@EnableRabbit</code>. Of course only in one place in same time"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674685898,"creation_date":1674685898,"answer_id":75240542,"question_id":75236736,"body_markdown":"I don&#39;t know if this is going to help you somehow, but here is a fully working Spring Boot application:\r\n\r\n    @SpringBootApplication\r\n    public class So75236736Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(So75236736Application.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tListener listener() {\r\n    \t\treturn new Listener();\r\n    \t}\r\n    \r\n    \tpublic static class Listener {\r\n    \r\n    \t\t@RabbitListener(queuesToDeclare = @Queue(&quot;myQueue&quot;), id = &quot;listener_id&quot;, autoStartup = &quot;false&quot;)\r\n    \t\tvoid handle(Object body) {\r\n    \t\t\tSystem.out.println(&quot;Received: &quot; + body);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t@Component\r\n    \tpublic static class ListenerInitializer implements ApplicationContextAware {\r\n    \r\n    \t\tprivate ApplicationContext applicationContext;\r\n    \r\n    \t\tpublic void startListener() {\r\n    \t\t\tRabbitListenerEndpointRegistry listenerRegistry =\r\n    \t\t\t\t\tthis.applicationContext.getBean(RabbitListenerEndpointRegistry.class);\r\n    \t\t\tlistenerRegistry.getListenerContainer(&quot;listener_id&quot;).start();\r\n    \t\t\tSystem.out.println(&quot;Listener started&quot;);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void setApplicationContext(ApplicationContext applicationContext) {\r\n    \t\t\tthis.applicationContext = applicationContext;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t@RestController\r\n    \tpublic static class StartListenerController {\r\n    \r\n    \t\tprivate final ListenerInitializer listenerInitializer;\r\n    \r\n    \t\tpublic StartListenerController(ListenerInitializer listenerInitializer) {\r\n    \t\t\tthis.listenerInitializer = listenerInitializer;\r\n    \t\t}\r\n    \r\n    \t\t@GetMapping(&quot;/startListener&quot;)\r\n    \t\tResponseEntity&lt;String&gt; startListener() {\r\n    \t\t\tthis.listenerInitializer.startListener();\r\n    \t\t\treturn ResponseEntity.ok(&quot;Listener started.&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nOnly difference that I don&#39;t use an `@EnableRabbit` explicitly, but rather rely on the auto-configuration. I also don&#39;t declare `ListenerInitializer` as a `@Bean` since it is already marked with `@Component` and that is enough for Spring Boot to scan it.","title":"Trying start RabbitListener on command after builded Application - RabbitListenerEndpointRegistry is empty","body":"<p>I don't know if this is going to help you somehow, but here is a fully working Spring Boot application:</p>\n<pre><code>@SpringBootApplication\npublic class So75236736Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So75236736Application.class, args);\n    }\n\n    @Bean\n    Listener listener() {\n        return new Listener();\n    }\n\n    public static class Listener {\n\n        @RabbitListener(queuesToDeclare = @Queue(&quot;myQueue&quot;), id = &quot;listener_id&quot;, autoStartup = &quot;false&quot;)\n        void handle(Object body) {\n            System.out.println(&quot;Received: &quot; + body);\n        }\n\n    }\n\n    @Component\n    public static class ListenerInitializer implements ApplicationContextAware {\n\n        private ApplicationContext applicationContext;\n\n        public void startListener() {\n            RabbitListenerEndpointRegistry listenerRegistry =\n                    this.applicationContext.getBean(RabbitListenerEndpointRegistry.class);\n            listenerRegistry.getListenerContainer(&quot;listener_id&quot;).start();\n            System.out.println(&quot;Listener started&quot;);\n        }\n\n        @Override\n        public void setApplicationContext(ApplicationContext applicationContext) {\n            this.applicationContext = applicationContext;\n        }\n\n    }\n\n    @RestController\n    public static class StartListenerController {\n\n        private final ListenerInitializer listenerInitializer;\n\n        public StartListenerController(ListenerInitializer listenerInitializer) {\n            this.listenerInitializer = listenerInitializer;\n        }\n\n        @GetMapping(&quot;/startListener&quot;)\n        ResponseEntity&lt;String&gt; startListener() {\n            this.listenerInitializer.startListener();\n            return ResponseEntity.ok(&quot;Listener started.&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>Only difference that I don't use an <code>@EnableRabbit</code> explicitly, but rather rely on the auto-configuration. I also don't declare <code>ListenerInitializer</code> as a <code>@Bean</code> since it is already marked with <code>@Component</code> and that is enough for Spring Boot to scan it.</p>\n"},{"tags":[],"owner":{"account_id":27619821,"reputation":1,"user_id":21081129,"display_name":"kkits"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674692236,"creation_date":1674692131,"answer_id":75241206,"question_id":75236736,"body_markdown":"Ok, I found the solution and sorry for bother you guys. Lack of knowledge. Still I don&#39;t know how it possible it works before, because I didn&#39;t changed anything, cause I was sure it should be like that, but solution was to move annotation `@RabbitListener(queues = &quot;myQueue2&quot;, id = &quot;listener_id&quot;,  autoStartup = &quot;false&quot;)` from over a class to over a method or add `@RabbitHandler` over a method.\r\n\r\nThank you @Artem Bilan for your help!\r\n","title":"Trying start RabbitListener on command after builded Application - RabbitListenerEndpointRegistry is empty","body":"<p>Ok, I found the solution and sorry for bother you guys. Lack of knowledge. Still I don't know how it possible it works before, because I didn't changed anything, cause I was sure it should be like that, but solution was to move annotation <code>@RabbitListener(queues = &quot;myQueue2&quot;, id = &quot;listener_id&quot;,  autoStartup = &quot;false&quot;)</code> from over a class to over a method or add <code>@RabbitHandler</code> over a method.</p>\n<p>Thank you @Artem Bilan for your help!</p>\n"}],"owner":{"account_id":27619821,"reputation":1,"user_id":21081129,"display_name":"kkits"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674692236,"creation_date":1674663027,"question_id":75236736,"body_markdown":"I searched all over the stackOverFlow and couldn&#39;t find an answer.\r\n\r\nI need to start RabbitListener on command - from just REST send request to start this listener (no other option).\r\n\r\nSo I found that I need set properties in Listener like that: `@RabbitListener(queues = &quot;myQueue&quot;, id = &quot;listener_id&quot;, autoStartup = &quot;false&quot;)` (of course is albo annotation `@Component`).\r\n\r\nI made also initializer class using implementation of `ApplicationContextAware` and `RabbitListenerEndpointRegistry` like below:\r\n\r\n    @Slf4j\r\n     @Component\r\n    public class ListenerInitializer implements ApplicationContextAware {\r\n    \r\n        private ApplicationContext applicationContext;\r\n    \r\n        public void startListener() {\r\n            RabbitListenerEndpointRegistry listenerRegistry = applicationContext.getBean(RabbitListenerEndpointRegistry.class);\r\n            listenerRegistry.getListenerContainer(&quot;listener_id&quot;).start();\r\n            log.info(&quot;Listener started.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            this.applicationContext = applicationContext;\r\n        }\r\n    }\r\n\r\nAnd when I tried to use method `startListener()` mostly I received `NullPointerException: null` like `RabbitListenerEndpointRegistry` doesn&#39;t exist. I wrote mostly, because sometimes (every time I make `mvn clean install`) it works and everything is fine. But mostly I received `NullPointerException`.\r\n\r\nWith `@Autowired` of `ApplicationContext` same situation.\r\n\r\nI tried with:\r\n`@Autowired\r\n RabbitListenerEndpointRegistry rabbitListenerEndpointRegistry`\r\nbut in that case shows me that `RabbitListenerEndpointRegistry` bean doesn&#39;t exist (also through `@RequiedArgsConstructor`.\r\n\r\nI tried also to make configuration like below:\r\n\r\n    @Configuration\r\n    @EnableRabbit\r\n    class ListenerConfig {\r\n    \r\n        @Bean\r\n        @DependsOn(&quot;listener&quot;)\r\n        ListenerInitializer ListenerInitializer() {\r\n            return new ListenerInitializer();\r\n        }\r\n    \r\n        @Bean(name = &quot;listener&quot;)\r\n        Listener listener() {\r\n            return new listener();\r\n        }\r\n    }\r\n\r\nand also doesn&#39;t work.\r\n\r\nAnybody have any idea how I can fix it? I guess I need to initialize injection of `ApplicationContext` into `ListenerInitializer` as late as possible due to need to initialize itself `RabbitListenerEndpointRegistry`, but how to do it?\r\n\r\nMany thanks for any advice\r\n\r\nedit:\r\nI call it to start through controller\r\n```java\r\n@RequiredArgsConstructor\r\n@RestController\r\nclass RestController {\r\n\r\n       private final ListenerInitializer listenerInitializer;\r\n\r\n    @GetMapping(&quot;/startListener&quot;)\r\n    ResponseEntity&lt;String&gt; startListener() {\r\n        listenerInitializer.startListener();\r\n        return ResponseEntity.ok(&quot;Listener started.&quot;);\r\n    }\r\n}\r\n```","title":"Trying start RabbitListener on command after builded Application - RabbitListenerEndpointRegistry is empty","body":"<p>I searched all over the stackOverFlow and couldn't find an answer.</p>\n<p>I need to start RabbitListener on command - from just REST send request to start this listener (no other option).</p>\n<p>So I found that I need set properties in Listener like that: <code>@RabbitListener(queues = &quot;myQueue&quot;, id = &quot;listener_id&quot;, autoStartup = &quot;false&quot;)</code> (of course is albo annotation <code>@Component</code>).</p>\n<p>I made also initializer class using implementation of <code>ApplicationContextAware</code> and <code>RabbitListenerEndpointRegistry</code> like below:</p>\n<pre><code>@Slf4j\n @Component\npublic class ListenerInitializer implements ApplicationContextAware {\n\n    private ApplicationContext applicationContext;\n\n    public void startListener() {\n        RabbitListenerEndpointRegistry listenerRegistry = applicationContext.getBean(RabbitListenerEndpointRegistry.class);\n        listenerRegistry.getListenerContainer(&quot;listener_id&quot;).start();\n        log.info(&quot;Listener started.&quot;);\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.applicationContext = applicationContext;\n    }\n}\n</code></pre>\n<p>And when I tried to use method <code>startListener()</code> mostly I received <code>NullPointerException: null</code> like <code>RabbitListenerEndpointRegistry</code> doesn't exist. I wrote mostly, because sometimes (every time I make <code>mvn clean install</code>) it works and everything is fine. But mostly I received <code>NullPointerException</code>.</p>\n<p>With <code>@Autowired</code> of <code>ApplicationContext</code> same situation.</p>\n<p>I tried with:\n<code>@Autowired RabbitListenerEndpointRegistry rabbitListenerEndpointRegistry</code>\nbut in that case shows me that <code>RabbitListenerEndpointRegistry</code> bean doesn't exist (also through <code>@RequiedArgsConstructor</code>.</p>\n<p>I tried also to make configuration like below:</p>\n<pre><code>@Configuration\n@EnableRabbit\nclass ListenerConfig {\n\n    @Bean\n    @DependsOn(&quot;listener&quot;)\n    ListenerInitializer ListenerInitializer() {\n        return new ListenerInitializer();\n    }\n\n    @Bean(name = &quot;listener&quot;)\n    Listener listener() {\n        return new listener();\n    }\n}\n</code></pre>\n<p>and also doesn't work.</p>\n<p>Anybody have any idea how I can fix it? I guess I need to initialize injection of <code>ApplicationContext</code> into <code>ListenerInitializer</code> as late as possible due to need to initialize itself <code>RabbitListenerEndpointRegistry</code>, but how to do it?</p>\n<p>Many thanks for any advice</p>\n<p>edit:\nI call it to start through controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\n@RestController\nclass RestController {\n\n       private final ListenerInitializer listenerInitializer;\n\n    @GetMapping(&quot;/startListener&quot;)\n    ResponseEntity&lt;String&gt; startListener() {\n        listenerInitializer.startListener();\n        return ResponseEntity.ok(&quot;Listener started.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1674673078,"post_id":75238588,"comment_id":132766944,"body_markdown":"Please add the complete stacktrace","body":"Please add the complete stacktrace"},{"owner":{"account_id":24665158,"reputation":26,"user_id":18560941,"display_name":"Antonino"},"score":0,"creation_date":1674674711,"post_id":75238588,"comment_id":132767426,"body_markdown":"@Jens added, thanks for remembering me and sorry that I was only able to upload a picture.","body":"@Jens added, thanks for remembering me and sorry that I was only able to upload a picture."},{"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"score":1,"creation_date":1674677452,"post_id":75238588,"comment_id":132768193,"body_markdown":"Normally, it is not that good to mix `hibernate.cfg.xml` with `persistence.xml` ... If you go for the path of JPA annotations, I&#180;ll suggest to delete `hibernate.cfg.xml` and work only with the `persistence.xml` file ...","body":"Normally, it is not that good to mix <code>hibernate.cfg.xml</code> with <code>persistence.xml</code> ... If you go for the path of JPA annotations, I&#180;ll suggest to delete <code>hibernate.cfg.xml</code> and work only with the <code>persistence.xml</code> file ..."},{"owner":{"account_id":24665158,"reputation":26,"user_id":18560941,"display_name":"Antonino"},"score":0,"creation_date":1674677823,"post_id":75238588,"comment_id":132768307,"body_markdown":"@CarlitosWay actually I&#39;m configuring the connection with the &#39;Conifuguration&#39; class from Hibernate so I need to use `hibernate.cfg.xml`. However I don&#39;t think the problem is related to them.","body":"@CarlitosWay actually I&#39;m configuring the connection with the &#39;Conifuguration&#39; class from Hibernate so I need to use <code>hibernate.cfg.xml</code>. However I don&#39;t think the problem is related to them."},{"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"score":1,"creation_date":1674678952,"post_id":75238588,"comment_id":132768589,"body_markdown":"I have experienced the error that you&#39;re showing ... however, in my case it was because the domain classes (i.e. the classes annotated with `@Entity`) reside in another jar artifact that the one having the `persistence.xml` file... to fix the problem, I just added the fully qualified name of the classes (i.e. the class name including its package) into the `persistence.xml` file with the tag `&lt;class&gt;&lt;/class&gt;` (However, in such deployment, there was not `hibernate.cfg.xml` file!)\n\nExample: `&lt;class&gt;com.hostelmanagment.tables.Employee&lt;/class&gt;`","body":"I have experienced the error that you&#39;re showing ... however, in my case it was because the domain classes (i.e. the classes annotated with <code>@Entity</code>) reside in another jar artifact that the one having the <code>persistence.xml</code> file... to fix the problem, I just added the fully qualified name of the classes (i.e. the class name including its package) into the <code>persistence.xml</code> file with the tag <code>&lt;class&gt;&lt;&#47;class&gt;</code> (However, in such deployment, there was not <code>hibernate.cfg.xml</code> file!)  Example: <code>&lt;class&gt;com.hostelmanagment.tables.Employee&lt;&#47;class&gt;</code>"},{"owner":{"account_id":24665158,"reputation":26,"user_id":18560941,"display_name":"Antonino"},"score":0,"creation_date":1674688613,"post_id":75238588,"comment_id":132770921,"body_markdown":"@CarlitosWay I actually tried adding classes to persistence.xml, did some reasearch on proper mapping, but nothing came out. But I tried adding an `Hostel` object to the database and it works correctly, but this uses `EntityManager`. So I think that there is something wrong in the way I initialize `Session` in the `ConnectionUtils` class i made. However thank you!","body":"@CarlitosWay I actually tried adding classes to persistence.xml, did some reasearch on proper mapping, but nothing came out. But I tried adding an <code>Hostel</code> object to the database and it works correctly, but this uses <code>EntityManager</code>. So I think that there is something wrong in the way I initialize <code>Session</code> in the <code>ConnectionUtils</code> class i made. However thank you!"},{"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"score":0,"creation_date":1675328950,"post_id":75238588,"comment_id":132906407,"body_markdown":"Good you solved your problem. It is advised to answer your own question then. SO then better shows what was solved and how.","body":"Good you solved your problem. It is advised to answer your own question then. SO then better shows what was solved and how."}],"owner":{"account_id":24665158,"reputation":26,"user_id":18560941,"display_name":"Antonino"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674691929,"creation_date":1674672746,"question_id":75238588,"body_markdown":"**SOLVED**\r\nThe error I made was in the `ConnectionUtils` class, basically I was configuring hibernate without adding classes.\r\nFor anyone habing this problem I will leave new `ConnectionUtils` class.\r\n\r\n**PROGRAM INFO**\r\nHi, I&#39;m new to Hibernate framework and I&#39;m developing a simple program that manages an Hostel.\r\nI&#39;ve made and populated a mySQL database called &#39;hostel_db&#39; and I want to build a java desktop application\r\nthat enables me to interact with the database.\r\n\r\n**QUERY PROBLEM**\r\nI have done some research on how to setup and connect to a database with Hibernate, now I am trying to make a simple query on it to show elements in a table, but I get &quot;QuerySyntaxException: Class is not mapped&quot; as output.\r\nApparently the connection is done successfully but for some reason I can&#39;t figure out where I&#39;m failing.\r\n\r\n\r\nThis is what the program (part of it) looks like:\r\n**PS**: the connection details (username, password, etc. are done with a ConnectionUtils class).\r\n\r\n\r\n**mySQL DATABASE**\r\n\r\n```\r\nCREATE TABLE hostel (\r\n\thid\t\t\t\tVARCHAR(10) \tPRIMARY KEY,\r\n    rooms\t\t\tINT \t\t\tNOT NULL,\r\n    profit \t\t\tINT \t\t\tDEFAULT 0,\r\n    cost\t\t\tINT \t\t\tDEFAULT 0\r\n);\r\n```\r\n\r\n\r\n**hibernate.cfg.xml**\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;!--Use Hibernate&#39;s own connection pool configuration--&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hostel_db&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n\r\n        &lt;!--hibernate dialect--&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n\r\n        &lt;!--Print sql statement--&gt;\r\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;false&lt;/property&gt;\r\n        &lt;!--Format sql--&gt;\r\n        &lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Load map file --&gt;\r\n        &lt;mapping resource=&quot;com/hostelmanagment/tables/config/Employee.hbm.xml&quot;/&gt;\r\n        &lt;mapping resource=&quot;com/hostelmanagment/tables/config/Student.hbm.xml&quot;/&gt;\r\n        &lt;mapping resource=&quot;com/hostelmanagment/tables/config/Hostel.hbm.xml&quot;/&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\n\r\n\r\n**persistence.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n             http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n    &lt;persistence-unit name=&quot;com.hostelmanagment.tables&quot;&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\n\r\n**Hostel**\r\n\r\n```\r\nimport javax.persistence.*;\r\nimport java.io.Serializable;\r\n\r\n@Entity\r\n@Table (name = &quot;hostel&quot;)\r\npublic class Hostel implements Serializable {\r\n    // DATABASE ATTRIBUTES\r\n    @Id\r\n    @Column (name = &quot;hid&quot;)\r\n    private String hid;\r\n    @Column (name = &quot;rooms&quot;)\r\n    private int rooms;\r\n    @Column (name = &quot;profit&quot;)\r\n    private int profit;\r\n    @Column (name = &quot;cost&quot;)\r\n    private int cost;\r\n\r\n    // OTHER VARIABLES\r\n\r\n    // CONSTRUCTOR\r\n    public Hostel() {}\r\n\r\n    public Hostel(String hid, int rooms, int profit, int cost) {\r\n        this.hid = hid;\r\n        this.rooms = rooms;\r\n        this.profit = profit;\r\n        this.cost = cost;\r\n    }\r\n\r\n    // GETTERS\r\n    public int getRooms() {\r\n        return rooms;\r\n    }\r\n\r\n    public int getProfit() {\r\n        return profit;\r\n    }\r\n\r\n    public int getCost() {\r\n        return cost;\r\n    }\r\n\r\n    //\r\n\r\n    @Override\r\n    public String toString() {\r\n        return hid + &quot; - Rooms: &quot; + rooms + &quot; - Profit: &quot; + profit + &quot; - Cost: &quot; + cost;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n**hostel.hbm.xml**\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;!DOCTYPE hibernate-mapping PUBLIC\r\n        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n&lt;hibernate-mapping&gt;\r\n    &lt;!-- name:full path to class:--&gt;\r\n    &lt;!-- table: table name: (can be omitted. Use the class name as the table name.)--&gt;\r\n    &lt;class name=&quot;com.hostelmanagment.tables.Hostel&quot; table=&quot;hostel&quot;&gt;\r\n        &lt;!--Primary key--&gt;\r\n        &lt;id name=&quot;hid&quot; column=&quot;hid&quot;&gt;\r\n            &lt;!--Primary key generation strategy--&gt;\r\n            &lt;generator class=&quot;native&quot;&gt;&lt;/generator&gt;\r\n        &lt;/id&gt;\r\n        &lt;property name=&quot;rooms&quot; column=&quot;rooms&quot; type=&quot;java.lang.Integer&quot;/&gt;\r\n        &lt;property name=&quot;profit&quot; column=&quot;profit&quot; type=&quot;java.lang.Integer&quot;/&gt;\r\n        &lt;property name=&quot;cost&quot; column=&quot;cost&quot; type=&quot;java.lang.Integer&quot;/&gt;\r\n    &lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\n\r\n\r\n**Main**\r\n\r\n```\r\npackage com.hostelmanagment;\r\n\r\nimport com.hostelmanagment.gui.*;\r\nimport com.hostelmanagment.tables.Hostel;\r\nimport com.hostelmanagment.utils.*;\r\nimport javax.persistence.*;\r\nimport javax.persistence.Query;\r\n\r\nimport org.hibernate.*;\r\n\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        // Connect to database\r\n        EntityManager em = ConnectionUtils.connectToDatabase(ConnectionData.getUsr(), ConnectionData.getPsw()).\r\n                createEntityManager();\r\n        Session session = ConnectionUtils.connectToDatabaseSession(ConnectionData.getUsr(), ConnectionData.getPsw()).\r\n                openSession();\r\n\r\n        // Test show data from databases\r\n\r\n        Transaction transaction = session.beginTransaction();\r\n        Query query = session.createQuery(&quot;from Hostel&quot;);\r\n        List&lt;?&gt; list = query.getResultList();\r\n        Hostel hostel = (Hostel) list.get(0);\r\n        System.out.println(&quot;\\nHostel: \\n&quot; + hostel);\r\n\r\n        // Run GUI\r\n        //new HostelMainFrame(em);\r\n    }\r\n}\r\n\r\n```\r\n\r\n**ConnectionUtils**\r\n\r\n```\r\npublic class ConnectionUtils {\r\n    private static Map&lt;String, String&gt; databaseProperties = new HashMap&lt;&gt;();\r\n    private static Configuration databaseConfiguration = new Configuration();\r\n    private static final String dialect = &quot;org.hibernate.dialect.MySQL5Dialect&quot;;\r\n    private static final String url = &quot;jdbc:mysql://localhost:3306/hostel_db&quot;;\r\n    private static final String driver = &quot;com.mysql.jdbc.Driver&quot;;\r\n\r\n    public static EntityManagerFactory connectToDatabase(String username, String password) {\r\n        // Try to set up the configuration for hibernate.cfg\r\n        try {\r\n            databaseConfiguration.configure().\r\n                    setProperty(&quot;hibernate.connection.username&quot;, username).\r\n                    setProperty(&quot;hibernate.connection.password&quot;, password);\r\n        } catch (HibernateException e) {\r\n            if (verifyHibernateConfigXml())\r\n                throw new RuntimeException(&quot;Wrong format for hibernate.cfg.xml&quot;);\r\n        }\r\n\r\n        // Build configurations\r\n        StandardServiceRegistryBuilder ssrb = new StandardServiceRegistryBuilder().\r\n                applySettings(databaseConfiguration.getProperties());\r\n        SessionFactory factory = databaseConfiguration.buildSessionFactory(ssrb.build());\r\n\r\n        // Setup persistence\r\n        persistenceSetup(username, password);\r\n\r\n        // Return EntityManagerFactory\r\n        return Persistence.createEntityManagerFactory(&quot;com.hostelmanagment.tables&quot;, databaseProperties);\r\n    }\r\n\r\n    public static SessionFactory connectToDatabaseSession(String username, String password) {\r\n        // Try to set up the configuration for hibernate.cfg\r\n        try {\r\n            databaseConfiguration.configure().\r\n                    setProperty(&quot;hibernate.connection.username&quot;, username).\r\n                    setProperty(&quot;hibernate.connection.password&quot;, password);\r\n        } catch (HibernateException e) {\r\n            if (verifyHibernateConfigXml())\r\n                throw new RuntimeException(&quot;Wrong format for hibernate.cfg.xml&quot;);\r\n        }\r\n\r\n        // Build configurations\r\n        StandardServiceRegistryBuilder ssrb = new StandardServiceRegistryBuilder().\r\n                applySettings(databaseConfiguration.getProperties());\r\n\r\n        // Setup persistence\r\n        persistenceSetup(username, password);\r\n\r\n        return databaseConfiguration.buildSessionFactory(ssrb.build());\r\n    }\r\n\r\n    private static boolean verifyHibernateConfigXml() {\r\n        try {\r\n            InputStream is = ConnectionUtils.class.getClassLoader().getResourceAsStream(&quot;hibernate.cfg.xml&quot;);\r\n            return true;\r\n        } catch (NullPointerException npe) {\r\n            throw new RuntimeException(&quot;hibernate.cfg.xml don&#39;t exists&quot;);\r\n        }\r\n    }\r\n\r\n    private static void persistenceSetup(String username, String password) {\r\n        databaseProperties.put(&quot;hibernate.connection.driver_class&quot;, driver);\r\n        databaseProperties.put(&quot;hibernate.connection.url&quot;, url);\r\n        databaseProperties.put(&quot;hibernate.connection.autocommit&quot;, &quot;false&quot;);\r\n        databaseProperties.put(&quot;hibernate.connection.username&quot;, username);\r\n        databaseProperties.put(&quot;hibernate.connection.password&quot;, password);\r\n        databaseProperties.put(&quot;hibernate.dialect&quot;, dialect);\r\n        databaseProperties.put(&quot;hibernate.connection.CharSet&quot;, &quot;utf8&quot;);\r\n        databaseProperties.put(&quot;hibernate.connection.characterEncoding&quot;, &quot;utf8&quot;);\r\n        databaseProperties.put(&quot;hibernate.connection.useUnicode&quot;, &quot;true&quot;);\r\n        databaseProperties.put(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\r\n        databaseProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n**FOLDER STRUCTURE**\r\n[![folder structure][1]][1]\r\n\r\n\r\n**STACK TRACE**\r\n[![stack trace][2]][2]\r\n\r\n**NEW CONNECTION UTILS**\r\n```\r\npublic class ConnectionUtils {\r\n    private static Map&lt;String, String&gt; databaseProperties = new HashMap&lt;&gt;();\r\n    private static Configuration databaseConfiguration = new Configuration();\r\n    private static final String dialect = &quot;org.hibernate.dialect.MySQL5Dialect&quot;;\r\n    private static final String url = &quot;jdbc:mysql://localhost:3306/&quot;.concat(ConnectionData.getDbName());\r\n    private static final String driver = &quot;com.mysql.cj.jdbc.Driver&quot;;\r\n    private static EntityManagerFactory emf;\r\n    private static SessionFactory sessionFactory;\r\n\r\n    public ConnectionUtils(){}\r\n\r\n    public void setUpProperties() {\r\n        propertiesSetup(ConnectionData.getUsr(), ConnectionData.getPsw());\r\n\r\n        StandardServiceRegistryBuilder standardServiceRegistryBuilder = new StandardServiceRegistryBuilder().\r\n                applySettings(databaseConfiguration.getProperties());\r\n        //standardServiceRegistryBuilder.configure();\r\n\r\n        emf = Persistence.createEntityManagerFactory(ConnectionData.getTablesPackage(), databaseProperties);\r\n        sessionFactory = databaseConfiguration.buildSessionFactory(standardServiceRegistryBuilder.build());\r\n    }\r\n\r\n    public EntityManagerFactory getEntityManagerFactory() {\r\n        return emf;\r\n    }\r\n\r\n    public SessionFactory getSessionFactory() {\r\n        return sessionFactory;\r\n    }\r\n\r\n    private static void propertiesSetup(String username, String password) {\r\n        // Try to set up the configuration for hibernate.cfg\r\n        try {\r\n            databaseConfiguration.configure().\r\n                    setProperty(&quot;hibernate.connection.username&quot;, username).\r\n                    setProperty(&quot;hibernate.connection.password&quot;, password);\r\n        } catch (HibernateException e) {\r\n            if (verifyHibernateConfigXml())\r\n                throw new RuntimeException(&quot;Wrong format for hibernate.cfg.xml&quot;);\r\n        }\r\n\r\n        // Setup persistence\r\n        persistenceSetup(username, password);\r\n    }\r\n\r\n    private static boolean verifyHibernateConfigXml() {\r\n        try {\r\n            InputStream is = ConnectionUtils.class.getClassLoader().getResourceAsStream(&quot;hibernate.cfg.xml&quot;);\r\n            return true;\r\n        } catch (NullPointerException npe) {\r\n            throw new RuntimeException(&quot;hibernate.cfg.xml don&#39;t exists&quot;);\r\n        }\r\n    }\r\n\r\n    private static void persistenceSetup(String username, String password) {\r\n\r\n        try {\r\n            for (Class cls : getEntityClassesFromPackage(ConnectionData.getTablesPackage())) {\r\n                databaseConfiguration.addAnnotatedClass(cls);\r\n            }\r\n        } catch (Exception ex) { ex.printStackTrace(); }\r\n\r\n        databaseProperties.put(&quot;hibernate.connection.driver_class&quot;, driver);\r\n        databaseProperties.put(&quot;hibernate.connection.url&quot;, url);\r\n        databaseProperties.put(&quot;hibernate.connection.autocommit&quot;, &quot;false&quot;);\r\n        databaseProperties.put(&quot;hibernate.connection.username&quot;, username);\r\n        databaseProperties.put(&quot;hibernate.connection.password&quot;, password);\r\n        databaseProperties.put(&quot;hibernate.dialect&quot;, dialect);\r\n        databaseProperties.put(&quot;hibernate.connection.CharSet&quot;, &quot;utf8&quot;);\r\n        databaseProperties.put(&quot;hibernate.connection.characterEncoding&quot;, &quot;utf8&quot;);\r\n        databaseProperties.put(&quot;hibernate.connection.useUnicode&quot;, &quot;true&quot;);\r\n        databaseProperties.put(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\r\n        databaseProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n    }\r\n\r\n    private static List&lt;Class&lt;?&gt;&gt; getEntityClassesFromPackage(String packageName) throws ClassNotFoundException, URISyntaxException {\r\n        List&lt;String&gt; classNames = getClassNamesFromPackage(packageName);\r\n        List&lt;Class&lt;?&gt;&gt; classes = new ArrayList&lt;Class&lt;?&gt;&gt;();\r\n        for (String className : classNames) {\r\n            Class&lt;?&gt; cls = Class.forName(packageName + &quot;.&quot; + className);\r\n            Annotation[] annotations = cls.getAnnotations();\r\n\r\n            for (Annotation annotation : annotations) {\r\n                System.out.println(cls.getCanonicalName() + &quot;: &quot; + annotation.toString());\r\n                if (annotation instanceof javax.persistence.Entity) {\r\n                    classes.add(cls);\r\n                }\r\n            }\r\n        }\r\n\r\n        return classes;\r\n    }\r\n\r\n    private static ArrayList&lt;String&gt; getClassNamesFromPackage(String packageName) throws URISyntaxException {\r\n        ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n        ArrayList&lt;String&gt; names = new ArrayList&lt;String&gt;();\r\n\r\n        packageName = packageName.replace(&quot;.&quot;, &quot;/&quot;);\r\n        URL packageURL = classLoader.getResource(packageName);\r\n\r\n        URI uri = new URI(packageURL.toString());\r\n        File folder = new File(uri.getPath());\r\n        File[] files = folder.listFiles();\r\n        for (File file: files) {\r\n            String name = file.getName();\r\n            name = name.substring(0, name.lastIndexOf(&#39;.&#39;));  // remove &quot;.class&quot;\r\n            names.add(name);\r\n        }\r\n\r\n        return names;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sJLmJ.png\r\n  [2]: https://i.stack.imgur.com/4bMxZ.png","title":"(SOLVED) Java Hibernate - QuerySyntaxException: Class is not mapped","body":"<p><strong>SOLVED</strong>\nThe error I made was in the <code>ConnectionUtils</code> class, basically I was configuring hibernate without adding classes.\nFor anyone habing this problem I will leave new <code>ConnectionUtils</code> class.</p>\n<p><strong>PROGRAM INFO</strong>\nHi, I'm new to Hibernate framework and I'm developing a simple program that manages an Hostel.\nI've made and populated a mySQL database called 'hostel_db' and I want to build a java desktop application\nthat enables me to interact with the database.</p>\n<p><strong>QUERY PROBLEM</strong>\nI have done some research on how to setup and connect to a database with Hibernate, now I am trying to make a simple query on it to show elements in a table, but I get &quot;QuerySyntaxException: Class is not mapped&quot; as output.\nApparently the connection is done successfully but for some reason I can't figure out where I'm failing.</p>\n<p>This is what the program (part of it) looks like:\n<strong>PS</strong>: the connection details (username, password, etc. are done with a ConnectionUtils class).</p>\n<p><strong>mySQL DATABASE</strong></p>\n<pre><code>CREATE TABLE hostel (\n    hid             VARCHAR(10)     PRIMARY KEY,\n    rooms           INT             NOT NULL,\n    profit          INT             DEFAULT 0,\n    cost            INT             DEFAULT 0\n);\n</code></pre>\n<p><strong>hibernate.cfg.xml</strong></p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;!--Use Hibernate's own connection pool configuration--&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hostel_db&lt;/property&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n\n        &lt;!--hibernate dialect--&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n\n        &lt;!--Print sql statement--&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;false&lt;/property&gt;\n        &lt;!--Format sql--&gt;\n        &lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Load map file --&gt;\n        &lt;mapping resource=&quot;com/hostelmanagment/tables/config/Employee.hbm.xml&quot;/&gt;\n        &lt;mapping resource=&quot;com/hostelmanagment/tables/config/Student.hbm.xml&quot;/&gt;\n        &lt;mapping resource=&quot;com/hostelmanagment/tables/config/Hostel.hbm.xml&quot;/&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p><strong>persistence.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\n             http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;com.hostelmanagment.tables&quot;&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p><strong>Hostel</strong></p>\n<pre><code>import javax.persistence.*;\nimport java.io.Serializable;\n\n@Entity\n@Table (name = &quot;hostel&quot;)\npublic class Hostel implements Serializable {\n    // DATABASE ATTRIBUTES\n    @Id\n    @Column (name = &quot;hid&quot;)\n    private String hid;\n    @Column (name = &quot;rooms&quot;)\n    private int rooms;\n    @Column (name = &quot;profit&quot;)\n    private int profit;\n    @Column (name = &quot;cost&quot;)\n    private int cost;\n\n    // OTHER VARIABLES\n\n    // CONSTRUCTOR\n    public Hostel() {}\n\n    public Hostel(String hid, int rooms, int profit, int cost) {\n        this.hid = hid;\n        this.rooms = rooms;\n        this.profit = profit;\n        this.cost = cost;\n    }\n\n    // GETTERS\n    public int getRooms() {\n        return rooms;\n    }\n\n    public int getProfit() {\n        return profit;\n    }\n\n    public int getCost() {\n        return cost;\n    }\n\n    //\n\n    @Override\n    public String toString() {\n        return hid + &quot; - Rooms: &quot; + rooms + &quot; - Profit: &quot; + profit + &quot; - Cost: &quot; + cost;\n    }\n}\n\n</code></pre>\n<p><strong>hostel.hbm.xml</strong></p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC\n        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;hibernate-mapping&gt;\n    &lt;!-- name:full path to class:--&gt;\n    &lt;!-- table: table name: (can be omitted. Use the class name as the table name.)--&gt;\n    &lt;class name=&quot;com.hostelmanagment.tables.Hostel&quot; table=&quot;hostel&quot;&gt;\n        &lt;!--Primary key--&gt;\n        &lt;id name=&quot;hid&quot; column=&quot;hid&quot;&gt;\n            &lt;!--Primary key generation strategy--&gt;\n            &lt;generator class=&quot;native&quot;&gt;&lt;/generator&gt;\n        &lt;/id&gt;\n        &lt;property name=&quot;rooms&quot; column=&quot;rooms&quot; type=&quot;java.lang.Integer&quot;/&gt;\n        &lt;property name=&quot;profit&quot; column=&quot;profit&quot; type=&quot;java.lang.Integer&quot;/&gt;\n        &lt;property name=&quot;cost&quot; column=&quot;cost&quot; type=&quot;java.lang.Integer&quot;/&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p><strong>Main</strong></p>\n<pre><code>package com.hostelmanagment;\n\nimport com.hostelmanagment.gui.*;\nimport com.hostelmanagment.tables.Hostel;\nimport com.hostelmanagment.utils.*;\nimport javax.persistence.*;\nimport javax.persistence.Query;\n\nimport org.hibernate.*;\n\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Connect to database\n        EntityManager em = ConnectionUtils.connectToDatabase(ConnectionData.getUsr(), ConnectionData.getPsw()).\n                createEntityManager();\n        Session session = ConnectionUtils.connectToDatabaseSession(ConnectionData.getUsr(), ConnectionData.getPsw()).\n                openSession();\n\n        // Test show data from databases\n\n        Transaction transaction = session.beginTransaction();\n        Query query = session.createQuery(&quot;from Hostel&quot;);\n        List&lt;?&gt; list = query.getResultList();\n        Hostel hostel = (Hostel) list.get(0);\n        System.out.println(&quot;\\nHostel: \\n&quot; + hostel);\n\n        // Run GUI\n        //new HostelMainFrame(em);\n    }\n}\n\n</code></pre>\n<p><strong>ConnectionUtils</strong></p>\n<pre><code>public class ConnectionUtils {\n    private static Map&lt;String, String&gt; databaseProperties = new HashMap&lt;&gt;();\n    private static Configuration databaseConfiguration = new Configuration();\n    private static final String dialect = &quot;org.hibernate.dialect.MySQL5Dialect&quot;;\n    private static final String url = &quot;jdbc:mysql://localhost:3306/hostel_db&quot;;\n    private static final String driver = &quot;com.mysql.jdbc.Driver&quot;;\n\n    public static EntityManagerFactory connectToDatabase(String username, String password) {\n        // Try to set up the configuration for hibernate.cfg\n        try {\n            databaseConfiguration.configure().\n                    setProperty(&quot;hibernate.connection.username&quot;, username).\n                    setProperty(&quot;hibernate.connection.password&quot;, password);\n        } catch (HibernateException e) {\n            if (verifyHibernateConfigXml())\n                throw new RuntimeException(&quot;Wrong format for hibernate.cfg.xml&quot;);\n        }\n\n        // Build configurations\n        StandardServiceRegistryBuilder ssrb = new StandardServiceRegistryBuilder().\n                applySettings(databaseConfiguration.getProperties());\n        SessionFactory factory = databaseConfiguration.buildSessionFactory(ssrb.build());\n\n        // Setup persistence\n        persistenceSetup(username, password);\n\n        // Return EntityManagerFactory\n        return Persistence.createEntityManagerFactory(&quot;com.hostelmanagment.tables&quot;, databaseProperties);\n    }\n\n    public static SessionFactory connectToDatabaseSession(String username, String password) {\n        // Try to set up the configuration for hibernate.cfg\n        try {\n            databaseConfiguration.configure().\n                    setProperty(&quot;hibernate.connection.username&quot;, username).\n                    setProperty(&quot;hibernate.connection.password&quot;, password);\n        } catch (HibernateException e) {\n            if (verifyHibernateConfigXml())\n                throw new RuntimeException(&quot;Wrong format for hibernate.cfg.xml&quot;);\n        }\n\n        // Build configurations\n        StandardServiceRegistryBuilder ssrb = new StandardServiceRegistryBuilder().\n                applySettings(databaseConfiguration.getProperties());\n\n        // Setup persistence\n        persistenceSetup(username, password);\n\n        return databaseConfiguration.buildSessionFactory(ssrb.build());\n    }\n\n    private static boolean verifyHibernateConfigXml() {\n        try {\n            InputStream is = ConnectionUtils.class.getClassLoader().getResourceAsStream(&quot;hibernate.cfg.xml&quot;);\n            return true;\n        } catch (NullPointerException npe) {\n            throw new RuntimeException(&quot;hibernate.cfg.xml don't exists&quot;);\n        }\n    }\n\n    private static void persistenceSetup(String username, String password) {\n        databaseProperties.put(&quot;hibernate.connection.driver_class&quot;, driver);\n        databaseProperties.put(&quot;hibernate.connection.url&quot;, url);\n        databaseProperties.put(&quot;hibernate.connection.autocommit&quot;, &quot;false&quot;);\n        databaseProperties.put(&quot;hibernate.connection.username&quot;, username);\n        databaseProperties.put(&quot;hibernate.connection.password&quot;, password);\n        databaseProperties.put(&quot;hibernate.dialect&quot;, dialect);\n        databaseProperties.put(&quot;hibernate.connection.CharSet&quot;, &quot;utf8&quot;);\n        databaseProperties.put(&quot;hibernate.connection.characterEncoding&quot;, &quot;utf8&quot;);\n        databaseProperties.put(&quot;hibernate.connection.useUnicode&quot;, &quot;true&quot;);\n        databaseProperties.put(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\n        databaseProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n    }\n}\n\n</code></pre>\n<p><strong>FOLDER STRUCTURE</strong>\n<a href=\"https://i.stack.imgur.com/sJLmJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sJLmJ.png\" alt=\"folder structure\" /></a></p>\n<p><strong>STACK TRACE</strong>\n<a href=\"https://i.stack.imgur.com/4bMxZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4bMxZ.png\" alt=\"stack trace\" /></a></p>\n<p><strong>NEW CONNECTION UTILS</strong></p>\n<pre><code>public class ConnectionUtils {\n    private static Map&lt;String, String&gt; databaseProperties = new HashMap&lt;&gt;();\n    private static Configuration databaseConfiguration = new Configuration();\n    private static final String dialect = &quot;org.hibernate.dialect.MySQL5Dialect&quot;;\n    private static final String url = &quot;jdbc:mysql://localhost:3306/&quot;.concat(ConnectionData.getDbName());\n    private static final String driver = &quot;com.mysql.cj.jdbc.Driver&quot;;\n    private static EntityManagerFactory emf;\n    private static SessionFactory sessionFactory;\n\n    public ConnectionUtils(){}\n\n    public void setUpProperties() {\n        propertiesSetup(ConnectionData.getUsr(), ConnectionData.getPsw());\n\n        StandardServiceRegistryBuilder standardServiceRegistryBuilder = new StandardServiceRegistryBuilder().\n                applySettings(databaseConfiguration.getProperties());\n        //standardServiceRegistryBuilder.configure();\n\n        emf = Persistence.createEntityManagerFactory(ConnectionData.getTablesPackage(), databaseProperties);\n        sessionFactory = databaseConfiguration.buildSessionFactory(standardServiceRegistryBuilder.build());\n    }\n\n    public EntityManagerFactory getEntityManagerFactory() {\n        return emf;\n    }\n\n    public SessionFactory getSessionFactory() {\n        return sessionFactory;\n    }\n\n    private static void propertiesSetup(String username, String password) {\n        // Try to set up the configuration for hibernate.cfg\n        try {\n            databaseConfiguration.configure().\n                    setProperty(&quot;hibernate.connection.username&quot;, username).\n                    setProperty(&quot;hibernate.connection.password&quot;, password);\n        } catch (HibernateException e) {\n            if (verifyHibernateConfigXml())\n                throw new RuntimeException(&quot;Wrong format for hibernate.cfg.xml&quot;);\n        }\n\n        // Setup persistence\n        persistenceSetup(username, password);\n    }\n\n    private static boolean verifyHibernateConfigXml() {\n        try {\n            InputStream is = ConnectionUtils.class.getClassLoader().getResourceAsStream(&quot;hibernate.cfg.xml&quot;);\n            return true;\n        } catch (NullPointerException npe) {\n            throw new RuntimeException(&quot;hibernate.cfg.xml don't exists&quot;);\n        }\n    }\n\n    private static void persistenceSetup(String username, String password) {\n\n        try {\n            for (Class cls : getEntityClassesFromPackage(ConnectionData.getTablesPackage())) {\n                databaseConfiguration.addAnnotatedClass(cls);\n            }\n        } catch (Exception ex) { ex.printStackTrace(); }\n\n        databaseProperties.put(&quot;hibernate.connection.driver_class&quot;, driver);\n        databaseProperties.put(&quot;hibernate.connection.url&quot;, url);\n        databaseProperties.put(&quot;hibernate.connection.autocommit&quot;, &quot;false&quot;);\n        databaseProperties.put(&quot;hibernate.connection.username&quot;, username);\n        databaseProperties.put(&quot;hibernate.connection.password&quot;, password);\n        databaseProperties.put(&quot;hibernate.dialect&quot;, dialect);\n        databaseProperties.put(&quot;hibernate.connection.CharSet&quot;, &quot;utf8&quot;);\n        databaseProperties.put(&quot;hibernate.connection.characterEncoding&quot;, &quot;utf8&quot;);\n        databaseProperties.put(&quot;hibernate.connection.useUnicode&quot;, &quot;true&quot;);\n        databaseProperties.put(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\n        databaseProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n    }\n\n    private static List&lt;Class&lt;?&gt;&gt; getEntityClassesFromPackage(String packageName) throws ClassNotFoundException, URISyntaxException {\n        List&lt;String&gt; classNames = getClassNamesFromPackage(packageName);\n        List&lt;Class&lt;?&gt;&gt; classes = new ArrayList&lt;Class&lt;?&gt;&gt;();\n        for (String className : classNames) {\n            Class&lt;?&gt; cls = Class.forName(packageName + &quot;.&quot; + className);\n            Annotation[] annotations = cls.getAnnotations();\n\n            for (Annotation annotation : annotations) {\n                System.out.println(cls.getCanonicalName() + &quot;: &quot; + annotation.toString());\n                if (annotation instanceof javax.persistence.Entity) {\n                    classes.add(cls);\n                }\n            }\n        }\n\n        return classes;\n    }\n\n    private static ArrayList&lt;String&gt; getClassNamesFromPackage(String packageName) throws URISyntaxException {\n        ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n        ArrayList&lt;String&gt; names = new ArrayList&lt;String&gt;();\n\n        packageName = packageName.replace(&quot;.&quot;, &quot;/&quot;);\n        URL packageURL = classLoader.getResource(packageName);\n\n        URI uri = new URI(packageURL.toString());\n        File folder = new File(uri.getPath());\n        File[] files = folder.listFiles();\n        for (File file: files) {\n            String name = file.getName();\n            name = name.substring(0, name.lastIndexOf('.'));  // remove &quot;.class&quot;\n            names.add(name);\n        }\n\n        return names;\n    }\n}\n</code></pre>\n"},{"tags":["java","scala","inner-classes","scala-java-interop"],"comments":[{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1518818209,"post_id":48835404,"comment_id":84675566,"body_markdown":"java part still missing... but it&#39;s getting better ;)","body":"java part still missing... but it&#39;s getting better ;)"},{"owner":{"account_id":2597765,"reputation":33,"user_id":2251039,"display_name":"Pixie"},"score":1,"creation_date":1518818369,"post_id":48835404,"comment_id":84675625,"body_markdown":"sorry got stuck with SO formatting issues :)","body":"sorry got stuck with SO formatting issues :)"},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1518819116,"post_id":48835404,"comment_id":84675897,"body_markdown":"Strangely enough, `Outer.Inner&lt;String&gt; i = o.new Inner&lt;String&gt;(o);` seems to compile, but it crashes with some &quot;NoSuchMethodError&quot;. That&#39;s funny...","body":"Strangely enough, <code>Outer.Inner&lt;String&gt; i = o.new Inner&lt;String&gt;(o);</code> seems to compile, but it crashes with some &quot;NoSuchMethodError&quot;. That&#39;s funny..."}],"answers":[{"tags":[],"owner":{"account_id":176350,"reputation":13315,"user_id":406984,"accept_rate":100,"display_name":"earldouglas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518822133,"creation_date":1518822133,"answer_id":48836071,"question_id":48835404,"body_markdown":"Can you add a generic method to `Outer` to instantiate `Inner` instances?\r\n\r\n*outer.scala:*\r\n\r\n    class Outer {\r\n      class Inner[A]\r\n      def inner[A](): Inner[A] = new Inner[A]\r\n    }\r\n\r\n*sctest.java:*\r\n\r\n    public class sctest {\r\n      public static void main(String[] args) {\r\n        Outer o = new Outer();\r\n        Outer.Inner&lt;String&gt; a = o.inner();\r\n      }                                                                    \r\n    }\r\n\r\n","title":"How to instantiate a nested generic class defined in scala from java?","body":"<p>Can you add a generic method to <code>Outer</code> to instantiate <code>Inner</code> instances?</p>\n\n<p><em>outer.scala:</em></p>\n\n<pre><code>class Outer {\n  class Inner[A]\n  def inner[A](): Inner[A] = new Inner[A]\n}\n</code></pre>\n\n<p><em>sctest.java:</em></p>\n\n<pre><code>public class sctest {\n  public static void main(String[] args) {\n    Outer o = new Outer();\n    Outer.Inner&lt;String&gt; a = o.inner();\n  }                                                                    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674691729,"creation_date":1518827195,"answer_id":48836719,"question_id":48835404,"body_markdown":"I don&#39;t see how this can be done from Java. See appendix for details. I&#39;ll jump directly to a workaround proposal.\r\n\r\n-----\r\n\r\nWhenever you are facing problems with Java-Scala interop while trying to call Scala code from Java, there is a simple, while maybe somewhat heavyweight workaround, that works in essentially every situation.\r\n\r\n###TL;DR\r\n\r\nIf instantiating Scala entities in Java code does not work, hide everything behind a Java-interface, and implement this interface in Scala.\r\n\r\n###Workaround proposal\r\n\r\nIf you are using some mainstream Scala framework, it probably \r\nhas a completely separate Java API (e.g. Spark, Akka, Play), then\r\n*please use that*!\r\n\r\nIf it is a less known Scala software package without a separate\r\nJava API, do the following:\r\n\r\n  1. Write down a minimal, clean user-facing API in pure Java\r\n  2. Provide framework-facing interfaces in Java\r\n  3. Implement the Java interfaces in Scala\r\n  4. Provide an entry point to the Java API implementation\r\n  5. Use the pure-Java API in your Java code\r\n\r\nIf you don&#39;t want to implement a full Java API, you can use this approach locally, to deal with those parts of Scala code that don&#39;t work seamlessly with your Java project.\r\n\r\nWhy it should work: Scala can easily express everything that Java can express, whereas Java has no mechanisms for interpreting most of the Scala constructs (the entire metaprogramming subsystem - `given`s/`using`/`derives`/`inline` etc., as well as the whole type-inference machinery, simply have no corresponding counterparts on the `javac` side). Therefore, it&#39;s much easier to implement Java-interfaces in Scala than using any Scala code from Java.\r\n\r\nHere is how this pattern can be applied to your example (I extended it a bit to make it non-trivial):\r\n\r\n*Note that class names are somewhat ugly, I did that only to omit the package declarations, so that all the files can be dumped in src/main/{scala,java}; Don&#39;t do this in real implementation.*\r\n\r\n**Step 0:** Look at the third-party Scala library\r\n\r\nSuppose that this is our third-party Scala library, that\r\nhas `superImportantMethod`s and computes `superImportantThings`:\r\n\r\n    /* Suppose that this is the external Scala library \r\n     * that you cannot change.\r\n     * A = Outer\r\n     * B = Inner\r\n     * \r\n     * + I added at least one member and one\r\n     * method, so that it&#39;s not so boring and trivial\r\n     */\r\n\r\n    class A {\r\n      var superImportantMemberOfA: Int = 42\r\n      class B[T](t: T) {\r\n        def superImportantMethod: String = t + &quot;&quot; + superImportantMemberOfA\r\n      }\r\n    }\r\n\r\n**Step 1/2:** Minimal Java API for use in your Java project\r\n\r\nWe will use these interfaces in our java project, and implement them\r\nusing Scala directly:\r\n\r\n    interface A_j {\r\n      &lt;X&gt; B_j&lt;X&gt; createB(X x);\r\n    }\r\n    \r\n    interface B_j&lt;X&gt; {\r\n      String superImportantMethod();\r\n    }\r\n\r\n**Step 3: Implement the interfaces in Scala**\r\n\r\n\r\n    /** Implementation of the java api in \r\n      * Scala\r\n      */\r\n    class A_javaApiImpl extends A_j {\r\n      private val wrappedA: A = new A\r\n    \r\n      private class B_javaApiImpl[X](val x: X) extends B_j[X] {\r\n        private val wrappedB: wrappedA.B[X] = new wrappedA.B[X](x)\r\n        def superImportantMethod: String = wrappedB.superImportantMethod\r\n      }\r\n    \r\n      def createB[X](x: X): B_j[X] = new B_javaApiImpl[X](x)\r\n    }\r\n\r\n**Step 4:** provide an entry point to the API\r\n\r\n    /** Some kind of entry point to the \r\n      * java API.\r\n      */\r\n    object JavaApi {\r\n      def createA: A_j = new A_javaApiImpl\r\n    }\r\n\r\n**Step 5:** Use the java-only API in your Java code:\r\n\r\n    public class JavaMain {\r\n      public static void main(String[] args) {\r\n\r\n        // Use the Java API in your Java application\r\n        // Notice that now all A_j&#39;s and B_j&#39;s are\r\n        // pure Java interfaces, so that nothing \r\n        // should go wrong.\r\n        A_j a = JavaApi.createA(); // the only call of a Scala-method.\r\n        B_j&lt;String&gt; b = a.createB(&quot;foobarbaz&quot;);\r\n        System.out.println(b.superImportantMethod());\r\n      }\r\n    }\r\n\r\n\r\nNow nothing should go wrong, because Java (almost) never calls any\r\nScala methods or constructors, and by defining a clean API you also \r\nhave a guarantee that you will not run into any problems because\r\nsome Scala concepts cannot be represented in Java. Indeed, it does \r\ncompile and run:\r\n\r\n     [info] Running (fork) JavaMain \r\n     [info] foobarbaz42\r\n\r\n###Appendix I\r\n###(Failed) attempt to instantiate generic inner Scala classes from Java\r\n\r\nI started with these definitions (slightly abbreviated code from your question):\r\n\r\n.scala:\r\n\r\n    class A {\r\n      class B[T]\r\n    }\r\n\r\n.java:\r\n\r\n    public class JavaMain {\r\n      public static void main(String[] args) {\r\n        A a = new A();\r\n        A.B&lt;String&gt; b = a.new B&lt;String&gt;(a);\r\n      }\r\n    }\r\n\r\nNotice that the javac compiler required a parameter of type `A` for the `B` constructor,\r\nwhich already was somewhat suspicious, and not really intuitive.\r\n\r\nIt compiled, but when I tried to run it, I got the following cryptic error message:\r\n\r\n[error] Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: A$B.&lt;init&gt;(LA;LA;)V\r\n[error]         at JavaMain.main(JavaMain.java:4)\r\n\r\nI had absolutely no clue what this is supposed to mean, so I decompiled the generated\r\n&quot;.class&quot;-files:\r\n\r\nDecompiled A.class: \r\n\r\n    public class A {\r\n    \r\n        public class B&lt;T&gt; {\r\n            public /* synthetic */ A A$B$$$outer() {\r\n                return A.this;\r\n            }\r\n    \r\n            public B() {\r\n                if (A.this == null) {\r\n                    throw null;\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nDecompiled A$B.class:\r\n\r\n    public class A.B&lt;T&gt; {\r\n        public /* synthetic */ A A$B$$$outer() {\r\n            return A.this;\r\n        }\r\n    \r\n        public A.B() {\r\n            if (A.this == null) {\r\n                throw null;\r\n            }\r\n        }\r\n    }\r\n\r\nDecompiled JavaMain.class:\r\n\r\n    public class JavaMain {\r\n        public static void main(String[] arrstring) {\r\n            A a;\r\n            A a2 = a = new A();\r\n            a2.getClass();\r\n            A.B b = new A.B(a2, a);\r\n        }\r\n    }\r\n\r\nThe `new A.B(a2, a)`\r\npart doesn&#39;t even look like valid java to me (and neither to\r\nthe javac). So, what I&#39;m essentially trying to say: everything \r\ncrashes and burns and I don&#39;t know why. Therefore, I would \r\nsimply advise to implement the workaround described above.\r\n\r\nHope that helps.\r\n","title":"How to instantiate a nested generic class defined in scala from java?","body":"<p>I don't see how this can be done from Java. See appendix for details. I'll jump directly to a workaround proposal.</p>\n<hr />\n<p>Whenever you are facing problems with Java-Scala interop while trying to call Scala code from Java, there is a simple, while maybe somewhat heavyweight workaround, that works in essentially every situation.</p>\n<p>###TL;DR</p>\n<p>If instantiating Scala entities in Java code does not work, hide everything behind a Java-interface, and implement this interface in Scala.</p>\n<p>###Workaround proposal</p>\n<p>If you are using some mainstream Scala framework, it probably\nhas a completely separate Java API (e.g. Spark, Akka, Play), then\n<em>please use that</em>!</p>\n<p>If it is a less known Scala software package without a separate\nJava API, do the following:</p>\n<ol>\n<li>Write down a minimal, clean user-facing API in pure Java</li>\n<li>Provide framework-facing interfaces in Java</li>\n<li>Implement the Java interfaces in Scala</li>\n<li>Provide an entry point to the Java API implementation</li>\n<li>Use the pure-Java API in your Java code</li>\n</ol>\n<p>If you don't want to implement a full Java API, you can use this approach locally, to deal with those parts of Scala code that don't work seamlessly with your Java project.</p>\n<p>Why it should work: Scala can easily express everything that Java can express, whereas Java has no mechanisms for interpreting most of the Scala constructs (the entire metaprogramming subsystem - <code>given</code>s/<code>using</code>/<code>derives</code>/<code>inline</code> etc., as well as the whole type-inference machinery, simply have no corresponding counterparts on the <code>javac</code> side). Therefore, it's much easier to implement Java-interfaces in Scala than using any Scala code from Java.</p>\n<p>Here is how this pattern can be applied to your example (I extended it a bit to make it non-trivial):</p>\n<p><em>Note that class names are somewhat ugly, I did that only to omit the package declarations, so that all the files can be dumped in src/main/{scala,java}; Don't do this in real implementation.</em></p>\n<p><strong>Step 0:</strong> Look at the third-party Scala library</p>\n<p>Suppose that this is our third-party Scala library, that\nhas <code>superImportantMethod</code>s and computes <code>superImportantThings</code>:</p>\n<pre><code>/* Suppose that this is the external Scala library \n * that you cannot change.\n * A = Outer\n * B = Inner\n * \n * + I added at least one member and one\n * method, so that it's not so boring and trivial\n */\n\nclass A {\n  var superImportantMemberOfA: Int = 42\n  class B[T](t: T) {\n    def superImportantMethod: String = t + &quot;&quot; + superImportantMemberOfA\n  }\n}\n</code></pre>\n<p><strong>Step 1/2:</strong> Minimal Java API for use in your Java project</p>\n<p>We will use these interfaces in our java project, and implement them\nusing Scala directly:</p>\n<pre><code>interface A_j {\n  &lt;X&gt; B_j&lt;X&gt; createB(X x);\n}\n\ninterface B_j&lt;X&gt; {\n  String superImportantMethod();\n}\n</code></pre>\n<p><strong>Step 3: Implement the interfaces in Scala</strong></p>\n<pre><code>/** Implementation of the java api in \n  * Scala\n  */\nclass A_javaApiImpl extends A_j {\n  private val wrappedA: A = new A\n\n  private class B_javaApiImpl[X](val x: X) extends B_j[X] {\n    private val wrappedB: wrappedA.B[X] = new wrappedA.B[X](x)\n    def superImportantMethod: String = wrappedB.superImportantMethod\n  }\n\n  def createB[X](x: X): B_j[X] = new B_javaApiImpl[X](x)\n}\n</code></pre>\n<p><strong>Step 4:</strong> provide an entry point to the API</p>\n<pre><code>/** Some kind of entry point to the \n  * java API.\n  */\nobject JavaApi {\n  def createA: A_j = new A_javaApiImpl\n}\n</code></pre>\n<p><strong>Step 5:</strong> Use the java-only API in your Java code:</p>\n<pre><code>public class JavaMain {\n  public static void main(String[] args) {\n\n    // Use the Java API in your Java application\n    // Notice that now all A_j's and B_j's are\n    // pure Java interfaces, so that nothing \n    // should go wrong.\n    A_j a = JavaApi.createA(); // the only call of a Scala-method.\n    B_j&lt;String&gt; b = a.createB(&quot;foobarbaz&quot;);\n    System.out.println(b.superImportantMethod());\n  }\n}\n</code></pre>\n<p>Now nothing should go wrong, because Java (almost) never calls any\nScala methods or constructors, and by defining a clean API you also\nhave a guarantee that you will not run into any problems because\nsome Scala concepts cannot be represented in Java. Indeed, it does\ncompile and run:</p>\n<pre><code> [info] Running (fork) JavaMain \n [info] foobarbaz42\n</code></pre>\n<p>###Appendix I\n###(Failed) attempt to instantiate generic inner Scala classes from Java</p>\n<p>I started with these definitions (slightly abbreviated code from your question):</p>\n<p>.scala:</p>\n<pre><code>class A {\n  class B[T]\n}\n</code></pre>\n<p>.java:</p>\n<pre><code>public class JavaMain {\n  public static void main(String[] args) {\n    A a = new A();\n    A.B&lt;String&gt; b = a.new B&lt;String&gt;(a);\n  }\n}\n</code></pre>\n<p>Notice that the javac compiler required a parameter of type <code>A</code> for the <code>B</code> constructor,\nwhich already was somewhat suspicious, and not really intuitive.</p>\n<p>It compiled, but when I tried to run it, I got the following cryptic error message:</p>\n<p>[error] Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: A$B.(LA;LA;)V\n[error]         at JavaMain.main(JavaMain.java:4)</p>\n<p>I had absolutely no clue what this is supposed to mean, so I decompiled the generated\n&quot;.class&quot;-files:</p>\n<p>Decompiled A.class:</p>\n<pre><code>public class A {\n\n    public class B&lt;T&gt; {\n        public /* synthetic */ A A$B$$$outer() {\n            return A.this;\n        }\n\n        public B() {\n            if (A.this == null) {\n                throw null;\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>Decompiled A$B.class:</p>\n<pre><code>public class A.B&lt;T&gt; {\n    public /* synthetic */ A A$B$$$outer() {\n        return A.this;\n    }\n\n    public A.B() {\n        if (A.this == null) {\n            throw null;\n        }\n    }\n}\n</code></pre>\n<p>Decompiled JavaMain.class:</p>\n<pre><code>public class JavaMain {\n    public static void main(String[] arrstring) {\n        A a;\n        A a2 = a = new A();\n        a2.getClass();\n        A.B b = new A.B(a2, a);\n    }\n}\n</code></pre>\n<p>The <code>new A.B(a2, a)</code>\npart doesn't even look like valid java to me (and neither to\nthe javac). So, what I'm essentially trying to say: everything\ncrashes and burns and I don't know why. Therefore, I would\nsimply advise to implement the workaround described above.</p>\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":5502972,"reputation":3853,"user_id":4371758,"display_name":"Bubletan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518843988,"creation_date":1518839089,"answer_id":48837686,"question_id":48835404,"body_markdown":"This looks like a bug to me. The code compiles fine without the type parameter, but when you add it, compilation just fails unexpectedly. For some reason, with the type parameter present, javac starts to think that the constructor of `Outer.Inner` requires two parameters of type `Outer`. And for that reason the code that actually compiles is `o.new Inner&lt;String&gt;(o)`, which fails at runtime because of the wrong method type.\r\n\r\nAnyway, I couldn&#39;t think of any other method to do it in Java besides reflectively calling the constructor. It&#39;s not very elegant but that way we can at least pass the correct parameters to the `&lt;init&gt;` method:\r\n\r\n    MethodHandle constructor = MethodHandles.lookup().findConstructor(Outer.Inner.class,\r\n            MethodType.methodType(void.class, Outer.class));\r\n\r\n    Outer outer = new Outer();\r\n    Outer.Inner&lt;String&gt; inner = (Outer.Inner&lt;String&gt;) constructor.invokeExact(outer);\r\n\r\n----------\r\n\r\nSeems to be caused by the signature attribute that stores the generic method type information. It&#39;s used at compile-time to check that methods are called with correct generic arguments, but it has no use at runtime as far as I know. Java compiler seems to leave the implicit `outer` parameter out from this signature so it gets confused when Scala compiler does the opposite.\r\n\r\nEquivalent pieces of code in Java and Scala produce different signatures while having the same descriptor `(Ltest/Outer;Ljava/lang/Object;)V`:\r\n\r\n    // Java\r\n    package test;\r\n    class Outer { class Inner&lt;A&gt; {\r\n        public Inner(A a) {}\r\n        // Signature: (TA;)V\r\n    }}\r\n    \r\n    // Scala\r\n    package test\r\n    class Outer { class Inner[A](a: A) {\r\n      // Signature: (Ltest/Outer;TA;)V\r\n    }}\r\n\r\n----------\r\n\r\nFound some related discussion: https://stackoverflow.com/questions/15131040/java-inner-class-inconsistency-between-descriptor-and-signature-attribute-clas\r\n\r\n----------\r\n\r\nQuote from JVMS 4.7.9.1.:\r\n\r\n&gt; A method signature encoded by the Signature attribute may not\r\n&gt; correspond exactly to the method descriptor in the method_info\r\n&gt; structure (&#167;4.3.3). In particular, there is no assurance that the\r\n&gt; number of formal parameter types in the method signature is the same\r\n&gt; as the number of parameter descriptors in the method descriptor. The\r\n&gt; numbers are the same for most methods, but **certain constructors in the\r\n&gt; Java programming language have an implicitly declared parameter which\r\n&gt; a compiler represents with a parameter descriptor but may omit from\r\n&gt; the method signature**. See the note in &#167;4.7.18 for a similar situation\r\n&gt; involving parameter annotations.\r\n\r\nThis might not be the most consistent answer but seems like this is specified behavior.","title":"How to instantiate a nested generic class defined in scala from java?","body":"<p>This looks like a bug to me. The code compiles fine without the type parameter, but when you add it, compilation just fails unexpectedly. For some reason, with the type parameter present, javac starts to think that the constructor of <code>Outer.Inner</code> requires two parameters of type <code>Outer</code>. And for that reason the code that actually compiles is <code>o.new Inner&lt;String&gt;(o)</code>, which fails at runtime because of the wrong method type.</p>\n\n<p>Anyway, I couldn't think of any other method to do it in Java besides reflectively calling the constructor. It's not very elegant but that way we can at least pass the correct parameters to the <code>&lt;init&gt;</code> method:</p>\n\n<pre><code>MethodHandle constructor = MethodHandles.lookup().findConstructor(Outer.Inner.class,\n        MethodType.methodType(void.class, Outer.class));\n\nOuter outer = new Outer();\nOuter.Inner&lt;String&gt; inner = (Outer.Inner&lt;String&gt;) constructor.invokeExact(outer);\n</code></pre>\n\n<hr>\n\n<p>Seems to be caused by the signature attribute that stores the generic method type information. It's used at compile-time to check that methods are called with correct generic arguments, but it has no use at runtime as far as I know. Java compiler seems to leave the implicit <code>outer</code> parameter out from this signature so it gets confused when Scala compiler does the opposite.</p>\n\n<p>Equivalent pieces of code in Java and Scala produce different signatures while having the same descriptor <code>(Ltest/Outer;Ljava/lang/Object;)V</code>:</p>\n\n<pre><code>// Java\npackage test;\nclass Outer { class Inner&lt;A&gt; {\n    public Inner(A a) {}\n    // Signature: (TA;)V\n}}\n\n// Scala\npackage test\nclass Outer { class Inner[A](a: A) {\n  // Signature: (Ltest/Outer;TA;)V\n}}\n</code></pre>\n\n<hr>\n\n<p>Found some related discussion: <a href=\"https://stackoverflow.com/questions/15131040/java-inner-class-inconsistency-between-descriptor-and-signature-attribute-clas\">Java inner class inconsistency between descriptor and signature attribute? (class file)</a></p>\n\n<hr>\n\n<p>Quote from JVMS 4.7.9.1.:</p>\n\n<blockquote>\n  <p>A method signature encoded by the Signature attribute may not\n  correspond exactly to the method descriptor in the method_info\n  structure (§4.3.3). In particular, there is no assurance that the\n  number of formal parameter types in the method signature is the same\n  as the number of parameter descriptors in the method descriptor. The\n  numbers are the same for most methods, but <strong>certain constructors in the\n  Java programming language have an implicitly declared parameter which\n  a compiler represents with a parameter descriptor but may omit from\n  the method signature</strong>. See the note in §4.7.18 for a similar situation\n  involving parameter annotations.</p>\n</blockquote>\n\n<p>This might not be the most consistent answer but seems like this is specified behavior.</p>\n"}],"owner":{"account_id":2597765,"reputation":33,"user_id":2251039,"display_name":"Pixie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":692,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48836719,"answer_count":3,"score":3,"last_activity_date":1674691729,"creation_date":1518818069,"question_id":48835404,"body_markdown":"I&#39;m trying to instantiate a nested generic Scala class from Java and running into this compilation error. Can someone help? Thanks\r\n\r\nouter.scala:\r\n------------\r\n\r\n    class Outer {\r\n        class Inner[A]\r\n    }\r\n\r\nsctest.java:\r\n-----------\r\n\r\n    public class sctest{\r\n        public static void main(String[] args) {\r\n            Outer o = new Outer();\r\n            Outer.Inner&lt;String&gt; a = o.new Inner&lt;String&gt;();\r\n        }\r\n    }\r\n\r\n$ javac sctest.java\r\n&lt;pre&gt;\r\nsctest.java:4: error: constructor Inner in class Outer.Inner&lt;A&gt; cannot be applied to given types;\r\n\tOuter.Inner&lt;String&gt; a = o.new Inner&lt;String&gt;();\r\n\t                          ^\r\n  required: Outer\r\n  found: no arguments\r\n  reason: actual and formal argument lists differ in length\r\n  where A is a type-variable:\r\n    A extends Object declared in class Outer.Inner\r\n 1 error\r\n&lt;/pre&gt;","title":"How to instantiate a nested generic class defined in scala from java?","body":"<p>I'm trying to instantiate a nested generic Scala class from Java and running into this compilation error. Can someone help? Thanks</p>\n\n<h2>outer.scala:</h2>\n\n<pre><code>class Outer {\n    class Inner[A]\n}\n</code></pre>\n\n<h2>sctest.java:</h2>\n\n<pre><code>public class sctest{\n    public static void main(String[] args) {\n        Outer o = new Outer();\n        Outer.Inner&lt;String&gt; a = o.new Inner&lt;String&gt;();\n    }\n}\n</code></pre>\n\n<p>$ javac sctest.java</p>\n\n<pre>\nsctest.java:4: error: constructor Inner in class Outer.Inner cannot be applied to given types;\n    Outer.Inner a = o.new Inner();\n                              ^\n  required: Outer\n  found: no arguments\n  reason: actual and formal argument lists differ in length\n  where A is a type-variable:\n    A extends Object declared in class Outer.Inner\n 1 error\n</pre>\n"},{"tags":["java","debugging","intellij-idea","remote-debugging","intellij-plugin"],"comments":[{"owner":{"account_id":1106320,"reputation":20178,"user_id":1097634,"display_name":"Dror Bereznitsky"},"score":0,"creation_date":1678521031,"post_id":75240919,"comment_id":133551905,"body_markdown":"Which Java version are you using?","body":"Which Java version are you using?"},{"owner":{"account_id":27537528,"reputation":17,"user_id":21014865,"display_name":"GroxDots"},"score":0,"creation_date":1679001423,"post_id":75240919,"comment_id":133647308,"body_markdown":"@DrorBereznitsky I am using java 19.","body":"@DrorBereznitsky I am using java 19."},{"owner":{"account_id":1106320,"reputation":20178,"user_id":1097634,"display_name":"Dror Bereznitsky"},"score":0,"creation_date":1679041361,"post_id":75240919,"comment_id":133653102,"body_markdown":"Lightrun 1.10 release includes java 19 support which should resolve this issue - see release notes https://docs.lightrun.com/release_notes/v1.10/","body":"Lightrun 1.10 release includes java 19 support which should resolve this issue - see release notes <a href=\"https://docs.lightrun.com/release_notes/v1.10/\" rel=\"nofollow noreferrer\">docs.lightrun.com/release_notes/v1.10</a>"}],"answers":[{"tags":[],"owner":{"account_id":27622973,"reputation":1,"user_id":21083572,"display_name":"Mike Dodds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674691599,"creation_date":1674691599,"answer_id":75241150,"question_id":75240919,"body_markdown":"LR doesn’t work on this version. A bit buggy on the ij versions for the past 2 months…","title":"How to get Lightrun running in IntelliJ IDEA 2022.3.1?","body":"<p>LR doesn’t work on this version. A bit buggy on the ij versions for the past 2 months…</p>\n"}],"owner":{"account_id":27537528,"reputation":17,"user_id":21014865,"display_name":"GroxDots"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674691599,"creation_date":1674688890,"question_id":75240919,"body_markdown":"No matter what I do Lightrun will generate the following error message: \r\n\r\nGeneral agent error at jvm_internals.cc:186.\r\n\r\nThis is my first time using Lightrun.\r\n\r\nThis is my code:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(new Scanner(System.in).nextInt() + new Scanner(System.in).nextInt());\r\n    }\r\n}\r\n```\r\n\r\nThe code itself runs perfectly.\r\n\r\nI am using IntelliJ IDEA 2022.3.1.","title":"How to get Lightrun running in IntelliJ IDEA 2022.3.1?","body":"<p>No matter what I do Lightrun will generate the following error message:</p>\n<p>General agent error at jvm_internals.cc:186.</p>\n<p>This is my first time using Lightrun.</p>\n<p>This is my code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(new Scanner(System.in).nextInt() + new Scanner(System.in).nextInt());\n    }\n}\n</code></pre>\n<p>The code itself runs perfectly.</p>\n<p>I am using IntelliJ IDEA 2022.3.1.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1674689744,"post_id":75240969,"comment_id":132771112,"body_markdown":"Just to be sure: you are using the correct annotations? I.e. `javax.persistence.Entity`for spring-boot `&lt; 6` and `jakarta.persistence.Entity` for spring-boot `&gt;= 6`?","body":"Just to be sure: you are using the correct annotations? I.e. <code>javax.persistence.Entity</code>for spring-boot <code>&lt; 6</code> and <code>jakarta.persistence.Entity</code> for spring-boot <code>&gt;= 6</code>?"}],"answers":[{"tags":[],"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674691282,"creation_date":1674691282,"answer_id":75241125,"question_id":75240969,"body_markdown":"With the help of Turing85, I found a solution:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\ninstead of javax dependency. I removed both dependency and code level lines from model.\r\n\r\nThan I got an error:\r\n\r\n    Correct the classpath of your application so that it contains compatible versions of the classes org.hibernate.cfg.annotations.BasicValueBinder and org.hibernate.annotations.common.reflection.ReflectionManager\r\n\r\nWhen I removed following dependency, error was also gone and all works fine now:\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.6.3.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThanks.","title":"Flyway creates flyway_schema_history but not entity table","body":"<p>With the help of Turing85, I found a solution:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>instead of javax dependency. I removed both dependency and code level lines from model.</p>\n<p>Than I got an error:</p>\n<pre><code>Correct the classpath of your application so that it contains compatible versions of the classes org.hibernate.cfg.annotations.BasicValueBinder and org.hibernate.annotations.common.reflection.ReflectionManager\n</code></pre>\n<p>When I removed following dependency, error was also gone and all works fine now:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;5.6.3.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Thanks.</p>\n"}],"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674691282,"creation_date":1674689467,"question_id":75240969,"body_markdown":"My aim is to migrate User entity to mysql database with the following configuration.\r\n\r\nWhen I **mvn spring-boot:run**, I can see **flyway_schema_history** table in DB, but not the entity related table. What am I missing?\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/mydb\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.jpa.database=MYSQL\r\n    flyway.url = jdbc:mysql://localhost:3306/mydb\r\n    flyway.user = root\r\n    flyway.password = root\r\n\r\nHere&#39;s my User entity:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString(exclude = &quot;password&quot;)\r\n    public class User implements Serializable{\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(nullable = false, insertable = false, updatable = false)\r\n        long id;\r\n    \r\n        @Column(nullable = false)\r\n        boolean enabled = true;\r\n    \r\n        public static final BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n    \r\n        @Column(nullable = false)\r\n        String name;\r\n    \r\n        @Column(nullable = false)\r\n        String surname;\r\n    \r\n        @Column(unique = true, nullable = false)\r\n        String username;\r\n    \r\n        @JsonIgnore\r\n        @Column(nullable = false)\r\n        String password;\r\n    }","title":"Flyway creates flyway_schema_history but not entity table","body":"<p>My aim is to migrate User entity to mysql database with the following configuration.</p>\n<p>When I <strong>mvn spring-boot:run</strong>, I can see <strong>flyway_schema_history</strong> table in DB, but not the entity related table. What am I missing?</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/mydb\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.database=MYSQL\nflyway.url = jdbc:mysql://localhost:3306/mydb\nflyway.user = root\nflyway.password = root\n</code></pre>\n<p>Here's my User entity:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;users&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString(exclude = &quot;password&quot;)\npublic class User implements Serializable{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(nullable = false, insertable = false, updatable = false)\n    long id;\n\n    @Column(nullable = false)\n    boolean enabled = true;\n\n    public static final BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n\n    @Column(nullable = false)\n    String name;\n\n    @Column(nullable = false)\n    String surname;\n\n    @Column(unique = true, nullable = false)\n    String username;\n\n    @JsonIgnore\n    @Column(nullable = false)\n    String password;\n}\n</code></pre>\n"},{"tags":["java","linux","hadoop"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1674690960,"post_id":75231537,"comment_id":132771276,"body_markdown":"`jps` shows Java processes. What do you mean &quot;python script&quot;?","body":"<code>jps</code> shows Java processes. What do you mean &quot;python script&quot;?"},{"owner":{"account_id":27518572,"reputation":11,"user_id":20999109,"display_name":"suran choi"},"score":0,"creation_date":1674712623,"post_id":75231537,"comment_id":132773637,"body_markdown":"No, I mean java processes. I was running Hadoop, so I use the &#39;jps&#39; command","body":"No, I mean java processes. I was running Hadoop, so I use the &#39;jps&#39; command"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1674747033,"post_id":75231537,"comment_id":132783485,"body_markdown":"Then I don&#39;t understand last sentence of your post. Okay, well, Hadoop 3.2.4 doesn&#39;t support Java 11, last I checked, only 3.3.4 added it https://hadoop.apache.org/docs/r3.3.4/index.html","body":"Then I don&#39;t understand last sentence of your post. Okay, well, Hadoop 3.2.4 doesn&#39;t support Java 11, last I checked, only 3.3.4 added it <a href=\"https://hadoop.apache.org/docs/r3.3.4/index.html\" rel=\"nofollow noreferrer\">hadoop.apache.org/docs/r3.3.4/index.html</a>"},{"owner":{"account_id":27518572,"reputation":11,"user_id":20999109,"display_name":"suran choi"},"score":1,"creation_date":1674804842,"post_id":75231537,"comment_id":132795171,"body_markdown":"ohwow, you&#39;re right. It&#39;s worked after changed java version from 11 to 8. THANKS!!!","body":"ohwow, you&#39;re right. It&#39;s worked after changed java version from 11 to 8. THANKS!!!"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1674838452,"post_id":75231537,"comment_id":132805530,"body_markdown":"Ideally, you should upgrade to the latest version of Hadoop, instead.","body":"Ideally, you should upgrade to the latest version of Hadoop, instead."},{"owner":{"account_id":27518572,"reputation":11,"user_id":20999109,"display_name":"suran choi"},"score":0,"creation_date":1674921848,"post_id":75231537,"comment_id":132819018,"body_markdown":"Could you tell me why? just to use the java 11?","body":"Could you tell me why? just to use the java 11?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1674958896,"post_id":75231537,"comment_id":132824832,"body_markdown":"Correct. Java 8 is end-of-life has will have security vulnerabilities, as well as Hadoop itself","body":"Correct. Java 8 is end-of-life has will have security vulnerabilities, as well as Hadoop itself"},{"owner":{"account_id":27518572,"reputation":11,"user_id":20999109,"display_name":"suran choi"},"score":1,"creation_date":1674977220,"post_id":75231537,"comment_id":132826302,"body_markdown":"Okay, I&#39;m gonna upgrade Hadoop and Java version. thanks","body":"Okay, I&#39;m gonna upgrade Hadoop and Java version. thanks"},{"owner":{"account_id":27518572,"reputation":11,"user_id":20999109,"display_name":"suran choi"},"score":0,"creation_date":1675074115,"post_id":75231537,"comment_id":132842647,"body_markdown":"Hello again. I upgraded Hadoop 3.3.4 and Java 11 version. But, `process information unavailable` error happened again,, I don&#39;t know what should I do. Could you tell me just anything to help me?","body":"Hello again. I upgraded Hadoop 3.3.4 and Java 11 version. But, <code>process information unavailable</code> error happened again,, I don&#39;t know what should I do. Could you tell me just anything to help me?"},{"owner":{"account_id":27518572,"reputation":11,"user_id":20999109,"display_name":"suran choi"},"score":0,"creation_date":1675075566,"post_id":75231537,"comment_id":132843149,"body_markdown":"Never mind! I uninstalled java 8 version. and it works~","body":"Never mind! I uninstalled java 8 version. and it works~"}],"owner":{"account_id":27518572,"reputation":11,"user_id":20999109,"display_name":"suran choi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674690929,"creation_date":1674636651,"question_id":75231537,"body_markdown":"I&#39;ve installed Hadoop 3.2.4 on ubuntu 20.04 with openjdk version &quot;11.0.17&quot;. and it&#39;s worked successfully few days.\r\nsuddenly, when I use jps command, the output is like this.\r\n\r\n\r\n```\r\nubuntu@server1:/tmp$ jps\r\n653257 -- process information unavailable\r\n655002 -- process information unavailable\r\n654220 -- process information unavailable\r\n654065 -- process information unavailable\r\n654387 -- process information unavailable\r\n653810 -- process information unavailable\r\n653412 -- process information unavailable\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n## Already tried\r\n1. remove hsperfdata_ubuntu directory\r\n2. chmod 755 hsperfdata_ubuntu\r\n   It&#39;s worked. but after a few minutes, hsperfdata_ubuntu directory changed automatically permission from 755 to 777. I don&#39;t know why\r\n3. try to jps command when su\r\n\r\n```\r\nroot@server1:/tmp# jps\r\n653257 -- process information unavailable\r\n655002 -- process information unavailable\r\n656601 Jps\r\n654220 -- process information unavailable\r\n654065 -- process information unavailable\r\n654387 -- process information unavailable\r\n653810 -- process information unavailable\r\n653412 -- process information unavailable\r\n```\r\n\r\n## another problems\r\nsometimes the shell displayed &quot;Killed&quot; when processed python script.","title":"jps &#39;process information unavailable&#39;","body":"<p>I've installed Hadoop 3.2.4 on ubuntu 20.04 with openjdk version &quot;11.0.17&quot;. and it's worked successfully few days.\nsuddenly, when I use jps command, the output is like this.</p>\n<pre><code>ubuntu@server1:/tmp$ jps\n653257 -- process information unavailable\n655002 -- process information unavailable\n654220 -- process information unavailable\n654065 -- process information unavailable\n654387 -- process information unavailable\n653810 -- process information unavailable\n653412 -- process information unavailable\n</code></pre>\n<h2>Already tried</h2>\n<ol>\n<li>remove hsperfdata_ubuntu directory</li>\n<li>chmod 755 hsperfdata_ubuntu\nIt's worked. but after a few minutes, hsperfdata_ubuntu directory changed automatically permission from 755 to 777. I don't know why</li>\n<li>try to jps command when su</li>\n</ol>\n<pre><code>root@server1:/tmp# jps\n653257 -- process information unavailable\n655002 -- process information unavailable\n656601 Jps\n654220 -- process information unavailable\n654065 -- process information unavailable\n654387 -- process information unavailable\n653810 -- process information unavailable\n653412 -- process information unavailable\n</code></pre>\n<h2>another problems</h2>\n<p>sometimes the shell displayed &quot;Killed&quot; when processed python script.</p>\n"},{"tags":["java","javaparser"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1542200168,"post_id":53300710,"comment_id":93481997,"body_markdown":"Please edit your question to include the full source code you have and describe how it fails (error message, wrong value, ...). See https://stackoverflow.com/help/mcve.","body":"Please edit your question to include the full source code you have and describe how it fails (error message, wrong value, ...). See <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>."},{"owner":{"account_id":11752290,"reputation":103,"user_id":8601026,"display_name":"Mars"},"score":0,"creation_date":1542201275,"post_id":53300710,"comment_id":93482633,"body_markdown":"But I want to analyze the unknown java file, so I don&#39;t know what class it contains.","body":"But I want to analyze the unknown java file, so I don&#39;t know what class it contains."},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1542201485,"post_id":53300710,"comment_id":93482773,"body_markdown":"I think maybe the CompilationUnit.getTypes() call might return the names of any nested classes (but I&#39;m not familiar with it so just guessing).","body":"I think maybe the CompilationUnit.getTypes() call might return the names of any nested classes (but I&#39;m not familiar with it so just guessing)."},{"owner":{"account_id":11752290,"reputation":103,"user_id":8601026,"display_name":"Mars"},"score":0,"creation_date":1542203620,"post_id":53300710,"comment_id":93484233,"body_markdown":"Thank you for your advice. I tried it but it didn&#39;t work.","body":"Thank you for your advice. I tried it but it didn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":11752290,"reputation":103,"user_id":8601026,"display_name":"Mars"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1542333444,"creation_date":1542333444,"answer_id":53330396,"question_id":53300710,"body_markdown":"For somebody who need it :\r\n\r\n    for(TypeDeclaration type : cu.getTypes()) {\r\n            // first give all this java doc member\r\n            List&lt;BodyDeclaration&gt; members = type.getMembers();\r\n            // check all member content\r\n            for(BodyDeclaration member : members) {\r\n                // if member state equal ClassOrInterfaceDeclaration, and you can identify it which is inner class\r\n                if(member.isClassOrInterfaceDeclaration()) {\r\n                    log.info(&quot;class name :{}&quot;, member.asClassOrInterfaceDeclaration().getName());\r\n                    // get inner class method\r\n                    for(MethodDeclaration method : member.asClassOrInterfaceDeclaration().getMethods()) {\r\n                        log.info(&quot;Method Name :{}&quot;, method.getName());\r\n                    }\r\n                    VerifyInnerClassAndParse(member.asClassOrInterfaceDeclaration());\r\n                }\r\n            }\r\n        }\r\n\r\nif you hava many inner class, just write recursive method","title":"How to parse inner class from java source code","body":"<p>For somebody who need it :</p>\n\n<pre><code>for(TypeDeclaration type : cu.getTypes()) {\n        // first give all this java doc member\n        List&lt;BodyDeclaration&gt; members = type.getMembers();\n        // check all member content\n        for(BodyDeclaration member : members) {\n            // if member state equal ClassOrInterfaceDeclaration, and you can identify it which is inner class\n            if(member.isClassOrInterfaceDeclaration()) {\n                log.info(\"class name :{}\", member.asClassOrInterfaceDeclaration().getName());\n                // get inner class method\n                for(MethodDeclaration method : member.asClassOrInterfaceDeclaration().getMethods()) {\n                    log.info(\"Method Name :{}\", method.getName());\n                }\n                VerifyInnerClassAndParse(member.asClassOrInterfaceDeclaration());\n            }\n        }\n    }\n</code></pre>\n\n<p>if you hava many inner class, just write recursive method</p>\n"},{"tags":[],"owner":{"account_id":6470949,"reputation":382,"user_id":5011127,"accept_rate":0,"display_name":"jpl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580909362,"creation_date":1580909362,"answer_id":60076940,"question_id":53300710,"body_markdown":"There is no need for recursivity you just have to invoke super.visit(n, arg) in your visitor method.","title":"How to parse inner class from java source code","body":"<p>There is no need for recursivity you just have to invoke super.visit(n, arg) in your visitor method.</p>\n"}],"owner":{"account_id":11752290,"reputation":103,"user_id":8601026,"display_name":"Mars"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2400,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":53330396,"answer_count":2,"score":4,"last_activity_date":1674690680,"creation_date":1542199985,"question_id":53300710,"body_markdown":"I use the https://github.com/javaparser/javaparser to parse the java source code\r\n\r\nI tried a lot of methods to parse inner class ; like this :\r\n\r\n    class A {\r\n        int x;\r\n        public void method2() {...}\r\n            class B {\r\n                int number;\r\n                public void methods() {...}\r\n            }\r\n        }\r\n\r\nI try to parse class B and it&#39;s variables and methods, but I failed.\r\n\r\nIs there any example to show how to get the B class?\r\n\r\nI can parse class A methods name and content or variables content, like this:\r\n\r\n     CompilationUnit cu = JavaParser.parse(in);\r\n\r\n     ClassVisitor classVisitor = new ClassVisitor();\r\n     classVisitor.visit(cu, null);\r\n\r\n     class ClassVisitor extends VoidVisitorAdapter&lt;Void&gt; {\r\n        @Override\r\n        public void visit(ClassOrInterfaceDeclaration n, Void arg) {\r\n            System.out.println(n.getFields());\r\n           \r\n            // get class methods\r\n            for(MethodDeclaration method : n.getMethods()) {\r\n                System.out.println(&quot;Name :&quot; + method.getName());\r\n                System.out.println(&quot;Body :&quot; + method.getBody().get());\r\n               }\r\n            }\r\n        }\r\n    }\r\n\r\nBut I try to parse class B varible and method ,failed!\r\n\r\ntry the CompilationUnit.getTypes(), like this :\r\n\r\n    CompilationUnit cu = JavaParser.parse(in);\r\n\r\n    for(TypeDeclaration&lt;?&gt; type : cu.getTypes()) {\r\n        log.info(&quot;Type Name :{}&quot;, type.getName());\r\n    }\r\nresult :\r\nn.s.dictionary.parse.JavaCodeParse       : Type Name :A\r\n\r\nNot resolved to B class","title":"How to parse inner class from java source code","body":"<p>I use the <a href=\"https://github.com/javaparser/javaparser\" rel=\"nofollow noreferrer\">https://github.com/javaparser/javaparser</a> to parse the java source code</p>\n\n<p>I tried a lot of methods to parse inner class ; like this :</p>\n\n<pre><code>class A {\n    int x;\n    public void method2() {...}\n        class B {\n            int number;\n            public void methods() {...}\n        }\n    }\n</code></pre>\n\n<p>I try to parse class B and it's variables and methods, but I failed.</p>\n\n<p>Is there any example to show how to get the B class?</p>\n\n<p>I can parse class A methods name and content or variables content, like this:</p>\n\n<pre><code> CompilationUnit cu = JavaParser.parse(in);\n\n ClassVisitor classVisitor = new ClassVisitor();\n classVisitor.visit(cu, null);\n\n class ClassVisitor extends VoidVisitorAdapter&lt;Void&gt; {\n    @Override\n    public void visit(ClassOrInterfaceDeclaration n, Void arg) {\n        System.out.println(n.getFields());\n\n        // get class methods\n        for(MethodDeclaration method : n.getMethods()) {\n            System.out.println(\"Name :\" + method.getName());\n            System.out.println(\"Body :\" + method.getBody().get());\n           }\n        }\n    }\n}\n</code></pre>\n\n<p>But I try to parse class B varible and method ,failed!</p>\n\n<p>try the CompilationUnit.getTypes(), like this :</p>\n\n<pre><code>CompilationUnit cu = JavaParser.parse(in);\n\nfor(TypeDeclaration&lt;?&gt; type : cu.getTypes()) {\n    log.info(\"Type Name :{}\", type.getName());\n}\n</code></pre>\n\n<p>result :\nn.s.dictionary.parse.JavaCodeParse       : Type Name :A</p>\n\n<p>Not resolved to B class</p>\n"},{"tags":["java","maven","out-of-memory"],"comments":[{"owner":{"account_id":16264,"reputation":8973,"user_id":35227,"accept_rate":97,"display_name":"anio"},"score":1,"creation_date":1288581615,"post_id":4066424,"comment_id":4369339,"body_markdown":"Maybe you have a memory leak in your test? Despite it being garbage collected, you can still create a memory leak in java: http://www.ibm.com/developerworks/library/j-leaks/","body":"Maybe you have a memory leak in your test? Despite it being garbage collected, you can still create a memory leak in java: <a href=\"http://www.ibm.com/developerworks/library/j-leaks/\" rel=\"nofollow noreferrer\">ibm.com/developerworks/library/j-leaks</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1486637840,"creation_date":1288581911,"answer_id":4066476,"question_id":4066424,"body_markdown":"The chances are that the problem is in one of the unit tests that you&#39;ve asked Maven to run.\r\n\r\nAs such, fiddling with the heap size is the wrong approach.  Instead, you should be looking at the unit test that has caused the OOME, and trying to figure out if it is the fault of the unit test or the code that it is testing.\r\n\r\nStart by looking at the stack trace.  If there isn&#39;t one, run `mvn ... test` again with the `-e` option.","title":"java.lang.OutOfMemoryError: Java heap space in Maven","body":"<p>The chances are that the problem is in one of the unit tests that you've asked Maven to run.</p>\n\n<p>As such, fiddling with the heap size is the wrong approach.  Instead, you should be looking at the unit test that has caused the OOME, and trying to figure out if it is the fault of the unit test or the code that it is testing.</p>\n\n<p>Start by looking at the stack trace.  If there isn't one, run <code>mvn ... test</code> again with the <code>-e</code> option.</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":179,"is_accepted":true,"score":179,"last_activity_date":1669977664,"creation_date":1288658248,"answer_id":4074196,"question_id":4066424,"body_markdown":"&gt; When I run maven test, java.lang.OutOfMemoryError happens. I google it for solutions and have tried to export MAVEN_OPTS=-Xmx1024m, but it did not work. \r\n\r\nSetting the `Xmx` options using `MAVEN_OPTS` does work, it does configure the JVM used to start Maven. That being said, the maven-surefire-plugin [forks][1] a new JVM by default, and your `MAVEN_OPTS` are thus not passed.\r\n\r\nTo configure the sizing of the JVM used by the maven-surefire-plugin, you would either have to: \r\n\r\n- change the [`forkMode`][2] to `never` (which is be a not so good idea because Maven won&#39;t be isolated from the test) ~or~ \r\n- use the [`argLine`][3] parameter (the right way):\r\n\r\nIn the later case, something like this:\r\n\r\n    &lt;configuration&gt;\r\n      &lt;argLine&gt;-Xmx1024m&lt;/argLine&gt;\r\n    &lt;/configuration&gt;\r\n\r\n**But** I have to say that I tend to agree with Stephen here, there is very likely something wrong with one of your test and I&#39;m not sure that giving more memory is the right solution to &quot;solve&quot; (hide?) your problem.\r\n\r\n### References\r\n\r\n- [Maven 2 Surefire Plugin][4] \r\n- [Classloading and Forking in Maven Surefire][5]\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html#forkMode\r\n  [2]: http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html#forkMode\r\n  [3]: http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html#argLine\r\n  [4]: https://maven.apache.org/surefire/maven-surefire-plugin/\r\n  [5]: http://maven.apache.org/plugins/maven-surefire-plugin/examples/class-loading.html","title":"java.lang.OutOfMemoryError: Java heap space in Maven","body":"<blockquote>\n<p>When I run maven test, java.lang.OutOfMemoryError happens. I google it for solutions and have tried to export MAVEN_OPTS=-Xmx1024m, but it did not work.</p>\n</blockquote>\n<p>Setting the <code>Xmx</code> options using <code>MAVEN_OPTS</code> does work, it does configure the JVM used to start Maven. That being said, the maven-surefire-plugin <a href=\"http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html#forkMode\" rel=\"nofollow noreferrer\">forks</a> a new JVM by default, and your <code>MAVEN_OPTS</code> are thus not passed.</p>\n<p>To configure the sizing of the JVM used by the maven-surefire-plugin, you would either have to:</p>\n<ul>\n<li>change the <a href=\"http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html#forkMode\" rel=\"nofollow noreferrer\"><code>forkMode</code></a> to <code>never</code> (which is be a not so good idea because Maven won't be isolated from the test) ~or~</li>\n<li>use the <a href=\"http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html#argLine\" rel=\"nofollow noreferrer\"><code>argLine</code></a> parameter (the right way):</li>\n</ul>\n<p>In the later case, something like this:</p>\n<pre><code>&lt;configuration&gt;\n  &lt;argLine&gt;-Xmx1024m&lt;/argLine&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p><strong>But</strong> I have to say that I tend to agree with Stephen here, there is very likely something wrong with one of your test and I'm not sure that giving more memory is the right solution to &quot;solve&quot; (hide?) your problem.</p>\n<h3>References</h3>\n<ul>\n<li><a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/\" rel=\"nofollow noreferrer\">Maven 2 Surefire Plugin</a></li>\n<li><a href=\"http://maven.apache.org/plugins/maven-surefire-plugin/examples/class-loading.html\" rel=\"nofollow noreferrer\">Classloading and Forking in Maven Surefire</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":382672,"reputation":2994,"user_id":738048,"accept_rate":88,"display_name":"WizardsOfWor"},"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1674690564,"creation_date":1370542116,"answer_id":16969122,"question_id":4066424,"body_markdown":"For those new to Maven (like me) here is the whole config that goes in the build section of your pom. Cheers. \r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;argLine&gt;-Xmx1024m&lt;/argLine&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;","title":"java.lang.OutOfMemoryError: Java heap space in Maven","body":"<p>For those new to Maven (like me) here is the whole config that goes in the build section of your pom. Cheers.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.22.2&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;argLine&gt;-Xmx1024m&lt;/argLine&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3106223,"reputation":149,"user_id":2628936,"display_name":"Minh Dang"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1387446642,"creation_date":1387446642,"answer_id":20678271,"question_id":4066424,"body_markdown":"I have solved this problem on my side by 2 ways:\r\n\r\n1. Adding this configuration in pom.xml\r\n\r\n        &lt;configuration&gt;&lt;argLine&gt;-Xmx1024m&lt;/argLine&gt;&lt;/configuration&gt;\r\n\r\n2. Switch to used JDK 1.7 instead of 1.6","title":"java.lang.OutOfMemoryError: Java heap space in Maven","body":"<p>I have solved this problem on my side by 2 ways:</p>\n\n<ol>\n<li><p>Adding this configuration in pom.xml</p>\n\n<pre><code>&lt;configuration&gt;&lt;argLine&gt;-Xmx1024m&lt;/argLine&gt;&lt;/configuration&gt;\n</code></pre></li>\n<li><p>Switch to used JDK 1.7 instead of 1.6</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6836948,"reputation":4738,"user_id":5258516,"accept_rate":75,"display_name":"e2rabi"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1486637521,"creation_date":1486637521,"answer_id":42134717,"question_id":4066424,"body_markdown":"Not only heap memory. also increase perm size  to resolve that exception in maven use these variables in environment variable.\r\n\r\n    variable name: MAVEN_OPTS\r\n    variable value: -Xmx512m -XX:MaxPermSize=256m\r\n\r\nExample  : \r\n\r\n    export MAVEN_OPTS=&quot;-Xmx512m -XX:MaxPermSize=500m&quot;","title":"java.lang.OutOfMemoryError: Java heap space in Maven","body":"<p>Not only heap memory. also increase perm size  to resolve that exception in maven use these variables in environment variable.</p>\n\n<pre><code>variable name: MAVEN_OPTS\nvariable value: -Xmx512m -XX:MaxPermSize=256m\n</code></pre>\n\n<p>Example  : </p>\n\n<pre><code>export MAVEN_OPTS=\"-Xmx512m -XX:MaxPermSize=500m\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":418335,"reputation":1609,"user_id":794836,"accept_rate":80,"display_name":"Max Hohenegger"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1499956817,"creation_date":1499956817,"answer_id":45083932,"question_id":4066424,"body_markdown":"To temporarily work around this problem, I found the following to be the quickest way:\r\n\r\n    export JAVA_TOOL_OPTIONS=&quot;-Xmx1024m -Xms1024m&quot;","title":"java.lang.OutOfMemoryError: Java heap space in Maven","body":"<p>To temporarily work around this problem, I found the following to be the quickest way:</p>\n\n<pre><code>export JAVA_TOOL_OPTIONS=\"-Xmx1024m -Xms1024m\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2762423,"reputation":1724,"user_id":2379046,"accept_rate":100,"display_name":"Narayan Yerrabachu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1518382163,"creation_date":1518382163,"answer_id":48736317,"question_id":4066424,"body_markdown":"In order to resolve java.lang.OutOfMemoryError: Java heap space in Maven, try to configure below configuration in pom\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n    \t &lt;configuration&gt;\r\n    \t\t&lt;verbose&gt;true&lt;/verbose&gt;\r\n    \t\t&lt;fork&gt;true&lt;/fork&gt;\r\n    \t\t&lt;argLine&gt;-XX:MaxPermSize=500M&lt;/argLine&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n","title":"java.lang.OutOfMemoryError: Java heap space in Maven","body":"<p>In order to resolve java.lang.OutOfMemoryError: Java heap space in Maven, try to configure below configuration in pom</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n     &lt;configuration&gt;\n        &lt;verbose&gt;true&lt;/verbose&gt;\n        &lt;fork&gt;true&lt;/fork&gt;\n        &lt;argLine&gt;-XX:MaxPermSize=500M&lt;/argLine&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15931656,"reputation":2714,"user_id":11495796,"display_name":"Instein"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1640367007,"creation_date":1640367007,"answer_id":70475305,"question_id":4066424,"body_markdown":"As mentioned in the top answers, as Surefire is creating a new JVM to run your tests, you want to pass that `-Xmx1024m` to the new JVM instead of the JVM where you start `mvn test`.\r\n\r\nJust wanted to add that you can do that in your command like \r\n\r\n```shell\r\nmvn test -DargLine=&quot;-Xmx1024m&quot;\r\n```\r\nIt has equivalent effect with adding the JVM option to the Surefire plugin&#39;s configuration in pom.xml:\r\n```xml\r\n&lt;configuration&gt;\r\n  &lt;argLine&gt;-Xmx1024m&lt;/argLine&gt;\r\n&lt;/configuration&gt;\r\n```","title":"java.lang.OutOfMemoryError: Java heap space in Maven","body":"<p>As mentioned in the top answers, as Surefire is creating a new JVM to run your tests, you want to pass that <code>-Xmx1024m</code> to the new JVM instead of the JVM where you start <code>mvn test</code>.</p>\n<p>Just wanted to add that you can do that in your command like</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn test -DargLine=&quot;-Xmx1024m&quot;\n</code></pre>\n<p>It has equivalent effect with adding the JVM option to the Surefire plugin's configuration in pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;argLine&gt;-Xmx1024m&lt;/argLine&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227374,"favorite_count":0,"down_vote_count":0,"up_vote_count":146,"accepted_answer_id":4074196,"answer_count":8,"score":146,"last_activity_date":1674690564,"creation_date":1288580766,"question_id":4066424,"body_markdown":"When I run maven test, `java.lang.OutOfMemoryError` happens. I googled it for solutions and have tried to `export MAVEN_OPTS=-Xmx1024m`, but it did not work. \r\nAnyone know other solutions for this problem? I am using maven 3.0\r\n\r\nPaste the error message here when run `mvn test -e`\r\n\r\n&lt;pre&gt;\r\nFailed tests:\r\n  warning(junit.framework.TestSuite$1)\r\n  testDefaultPigJob_1(com.snda.dw.pig.impl.DefaultPigJobLocalTest)\r\n  testDefaultPigJob_2(com.snda.dw.pig.impl.DefaultPigJobLocalTest)\r\n\r\nTests run: 11, Failures: 3, Errors: 0, Skipped: 0\r\n\r\n10/11/01 13:37:18 INFO executionengine.HExecutionEngine: Connecting to hadoop fi\r\nle system at: file:///\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time: 30.063s\r\n[INFO] Finished at: Mon Nov 01 13:37:18 PDT 2010\r\n[INFO] Final Memory: 3M/6M\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.\r\n5:test (default-test) on project dw.pig: There are test failures.\r\n[ERROR]\r\n[ERROR] Please refer to E:\\Code\\Java\\workspace\\dw.pig\\target\\surefire-reports fo\r\nr the individual test results.\r\n[ERROR] -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal o\r\nrg.apache.maven.plugins:maven-surefire-plugin:2.5:test (default-test) on project\r\n dw.pig: There are test failures.\r\n\r\nPlease refer to E:\\Code\\Java\\workspace\\dw.pig\\target\\surefire-reports for the in\r\ndividual test results.\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\r\n.java:199)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\r\n.java:148)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\r\n.java:140)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProje\r\nct(LifecycleModuleBuilder.java:84)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProje\r\nct(LifecycleModuleBuilder.java:59)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBu\r\nild(LifecycleStarter.java:183)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(Lifecycl\r\neStarter.java:161)\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:314)\r\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:151)\r\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:445)\r\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:168)\r\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:132)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\njava:39)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\nsorImpl.java:25)\r\n        at java.lang.reflect.Method.invoke(Method.java:597)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Laun\r\ncher.java:290)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.jav\r\na:230)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(La\r\nuncher.java:409)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:\r\n352)\r\nCaused by: org.apache.maven.plugin.MojoFailureException: There are test failures\r\n.\r\n\r\nPlease refer to E:\\Code\\Java\\workspace\\dw.pig\\target\\surefire-reports for the in\r\ndividual test results.\r\n        at org.apache.maven.plugin.surefire.SurefirePlugin.execute(SurefirePlugi\r\nn.java:629)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(Default\r\nBuildPluginManager.java:107)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\r\n.java:195)\r\n        ... 19 more\r\n[ERROR]\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please rea\r\nd the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureExc\r\n&lt;/pre&gt;","title":"java.lang.OutOfMemoryError: Java heap space in Maven","body":"<p>When I run maven test, <code>java.lang.OutOfMemoryError</code> happens. I googled it for solutions and have tried to <code>export MAVEN_OPTS=-Xmx1024m</code>, but it did not work.\nAnyone know other solutions for this problem? I am using maven 3.0</p>\n<p>Paste the error message here when run <code>mvn test -e</code></p>\n<pre>\nFailed tests:\n  warning(junit.framework.TestSuite$1)\n  testDefaultPigJob_1(com.snda.dw.pig.impl.DefaultPigJobLocalTest)\n  testDefaultPigJob_2(com.snda.dw.pig.impl.DefaultPigJobLocalTest)\n\nTests run: 11, Failures: 3, Errors: 0, Skipped: 0\n\n10/11/01 13:37:18 INFO executionengine.HExecutionEngine: Connecting to hadoop fi\nle system at: file:///\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 30.063s\n[INFO] Finished at: Mon Nov 01 13:37:18 PDT 2010\n[INFO] Final Memory: 3M/6M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.\n5:test (default-test) on project dw.pig: There are test failures.\n[ERROR]\n[ERROR] Please refer to E:\\Code\\Java\\workspace\\dw.pig\\target\\surefire-reports fo\nr the individual test results.\n[ERROR] -> [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal o\nrg.apache.maven.plugins:maven-surefire-plugin:2.5:test (default-test) on project\n dw.pig: There are test failures.\n\nPlease refer to E:\\Code\\Java\\workspace\\dw.pig\\target\\surefire-reports for the in\ndividual test results.\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\n.java:199)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\n.java:148)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\n.java:140)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProje\nct(LifecycleModuleBuilder.java:84)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProje\nct(LifecycleModuleBuilder.java:59)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBu\nild(LifecycleStarter.java:183)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(Lifecycl\neStarter.java:161)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:314)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:151)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:445)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:168)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:132)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Laun\ncher.java:290)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.jav\na:230)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(La\nuncher.java:409)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:\n352)\nCaused by: org.apache.maven.plugin.MojoFailureException: There are test failures\n.\n\nPlease refer to E:\\Code\\Java\\workspace\\dw.pig\\target\\surefire-reports for the in\ndividual test results.\n        at org.apache.maven.plugin.surefire.SurefirePlugin.execute(SurefirePlugi\nn.java:629)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(Default\nBuildPluginManager.java:107)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\n.java:195)\n        ... 19 more\n[ERROR]\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please rea\nd the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureExc\n</pre>\n"},{"tags":["java","spring-boot","netflix-dgs"],"comments":[{"owner":{"account_id":1023032,"reputation":1029,"user_id":1032907,"accept_rate":71,"display_name":"Rocel"},"score":0,"creation_date":1683126533,"post_id":75241003,"comment_id":134319389,"body_markdown":"Hi, could you find out the issue?","body":"Hi, could you find out the issue?"}],"owner":{"account_id":26077349,"reputation":79,"user_id":19776112,"display_name":"justrying"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674689856,"creation_date":1674689856,"question_id":75241003,"body_markdown":"I am building a multimodule springboot application, I have one module that only does graphql queries and mutations,  the challenge am facing is when I try to run the app and query graphql I end up getting `404` not found\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-01-25T18:25:00.762+00:00&quot;,\r\n        &quot;status&quot;: 404,\r\n        &quot;error&quot;: &quot;Not Found&quot;,\r\n        &quot;message&quot;: &quot;No message available&quot;,\r\n        &quot;path&quot;: &quot;/graphql&quot;\r\n    }\r\n\r\nThe query am running\r\n\r\n    query{\r\n      retailers{\r\n        ...allfields\r\n      }\r\n    }\r\n\r\nI am using Netflix graphql. Here Is my configuration\r\nbuild.gradle.kts file\r\n\r\n    plugins {\r\n        `java-library`\r\n        id(&quot;app-java-conventions&quot;)\r\n        id(&quot;com.netflix.dgs.codegen&quot;)\r\n        id(&quot;com.google.cloud.tools.jib&quot;)\r\n        // for jib agent look into https://github.com/GoogleContainerTools/jib/tree/master/examples/java-agent\r\n    }\r\n    \r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom(&quot;com.netflix.graphql.dgs:graphql-dgs-platform-dependencies:latest.release&quot;)\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation(project(&quot;:ky-launch-darkly&quot;))\r\n        implementation(platform(&quot;com.netflix.graphql.dgs:graphql-dgs-platform-dependencies:latest.release&quot;))\r\n        implementation(&quot;com.netflix.graphql.dgs:graphql-dgs-spring-boot-starter&quot;)\r\n        implementation(&quot;com.netflix.graphql.dgs:graphql-dgs-extended-scalars&quot;)\r\n        implementation(&quot;com.netflix.graphql.dgs:graphql-dgs-subscriptions-websockets-autoconfigure&quot;)\r\n        implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n        implementation(&quot;com.netflix.graphql.dgs:graphql-dgs-spring-boot-starter&quot;)\r\n        implementation(&quot;net.devh:grpc-client-spring-boot-starter:2.13.1.RELEASE&quot;)\r\n        implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n        implementation(&quot;net.datafaker:datafaker:1.7.0&quot;)\r\n    \r\n    }\r\n\r\nmy folder structure looks like this for graphql schema\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BrtWV.png\r\n\r\nAm using keycloak for authentication but I have permitted access to all graphql endpoints\r\n\r\n \r\n\r\n    @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/**&quot;).permitAll()\r\n                    .and()\r\n                    .requestCache()\r\n                    .requestCache(new NullRequestCache())\r\n                    .and()\r\n                    .headers()\r\n                    .frameOptions().sameOrigin() // needed for H2 web console\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .maximumSessions(1)\r\n                    .maxSessionsPreventsLogin(true)\r\n                    .sessionRegistry(sessionRegistry());\r\n        }\r\n\r\nI have a data resolver for the graphql\r\n\r\n\r\n    @DgsComponent\r\n    public class RetailerDataResolver {\r\n    \r\n        @DgsQuery\r\n        public List&lt;Retailer&gt; retailers(){\r\n            return RetailerDatasource.RETAILER_LIST;\r\n        }\r\n    }\r\n\r\nwhat could I be doing wrong on my app such that I cant access graphql?","title":"Springboot: Unable to access GraphQL server and GraphiQL","body":"<p>I am building a multimodule springboot application, I have one module that only does graphql queries and mutations,  the challenge am facing is when I try to run the app and query graphql I end up getting <code>404</code> not found</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-01-25T18:25:00.762+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;message&quot;: &quot;No message available&quot;,\n    &quot;path&quot;: &quot;/graphql&quot;\n}\n</code></pre>\n<p>The query am running</p>\n<pre><code>query{\n  retailers{\n    ...allfields\n  }\n}\n</code></pre>\n<p>I am using Netflix graphql. Here Is my configuration\nbuild.gradle.kts file</p>\n<pre><code>plugins {\n    `java-library`\n    id(&quot;app-java-conventions&quot;)\n    id(&quot;com.netflix.dgs.codegen&quot;)\n    id(&quot;com.google.cloud.tools.jib&quot;)\n    // for jib agent look into https://github.com/GoogleContainerTools/jib/tree/master/examples/java-agent\n}\n\ndependencyManagement {\n    imports {\n        mavenBom(&quot;com.netflix.graphql.dgs:graphql-dgs-platform-dependencies:latest.release&quot;)\n    }\n}\n\ndependencies {\n    implementation(project(&quot;:ky-launch-darkly&quot;))\n    implementation(platform(&quot;com.netflix.graphql.dgs:graphql-dgs-platform-dependencies:latest.release&quot;))\n    implementation(&quot;com.netflix.graphql.dgs:graphql-dgs-spring-boot-starter&quot;)\n    implementation(&quot;com.netflix.graphql.dgs:graphql-dgs-extended-scalars&quot;)\n    implementation(&quot;com.netflix.graphql.dgs:graphql-dgs-subscriptions-websockets-autoconfigure&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;com.netflix.graphql.dgs:graphql-dgs-spring-boot-starter&quot;)\n    implementation(&quot;net.devh:grpc-client-spring-boot-starter:2.13.1.RELEASE&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\n    implementation(&quot;net.datafaker:datafaker:1.7.0&quot;)\n\n}\n</code></pre>\n<p>my folder structure looks like this for graphql schema</p>\n<p><a href=\"https://i.stack.imgur.com/BrtWV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BrtWV.png\" alt=\"enter image description here\" /></a></p>\n<p>Am using keycloak for authentication but I have permitted access to all graphql endpoints</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/**&quot;).permitAll()\n                .and()\n                .requestCache()\n                .requestCache(new NullRequestCache())\n                .and()\n                .headers()\n                .frameOptions().sameOrigin() // needed for H2 web console\n                .and()\n                .sessionManagement()\n                .maximumSessions(1)\n                .maxSessionsPreventsLogin(true)\n                .sessionRegistry(sessionRegistry());\n    }\n</code></pre>\n<p>I have a data resolver for the graphql</p>\n<pre><code>@DgsComponent\npublic class RetailerDataResolver {\n\n    @DgsQuery\n    public List&lt;Retailer&gt; retailers(){\n        return RetailerDatasource.RETAILER_LIST;\n    }\n}\n</code></pre>\n<p>what could I be doing wrong on my app such that I cant access graphql?</p>\n"},{"tags":["java","scala","scala-java-interop"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":1,"creation_date":1674689622,"post_id":75240935,"comment_id":132771090,"body_markdown":"Well you can just use `Option[Integer]` in **Scala** - Even best, write a `interface` in **Java** returning `Optional&lt;Integer&gt;` and implement that in **Scala** using the `jdk` package.","body":"Well you can just use <code>Option[Integer]</code> in <b>Scala</b> - Even best, write a <code>interface</code> in <b>Java</b> returning <code>Optional&lt;Integer&gt;</code> and implement that in <b>Scala</b> using the <code>jdk</code> package."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":6,"creation_date":1674691138,"post_id":75240935,"comment_id":132771309,"body_markdown":"In such cases, [I tend to recommend the following](https://stackoverflow.com/questions/48835404/how-to-instantiate-a-nested-generic-class-defined-in-scala-from-java/48836719#48836719): provide a separate, idiomatic Java-interface. Implement that interface in Scala, then use only the Java-specific interface from Java. Java&#39;s type system is way more restricted, and all the metaprogramming stuff has no corresponding counterparts on Java&#39;s side anyway (who&#39;s supposed to plug in all the `given`s on Java side?), so it&#39;s usually less pain for everyone involved to provide a Java-specific APIs.","body":"In such cases, <a href=\"https://stackoverflow.com/questions/48835404/how-to-instantiate-a-nested-generic-class-defined-in-scala-from-java/48836719#48836719\">I tend to recommend the following</a>: provide a separate, idiomatic Java-interface. Implement that interface in Scala, then use only the Java-specific interface from Java. Java&#39;s type system is way more restricted, and all the metaprogramming stuff has no corresponding counterparts on Java&#39;s side anyway (who&#39;s supposed to plug in all the <code>given</code>s on Java side?), so it&#39;s usually less pain for everyone involved to provide a Java-specific APIs."},{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":1,"creation_date":1675359515,"post_id":75240935,"comment_id":132917213,"body_markdown":"Amplifying on @AndreyTyukin, it may be worth looking at the general approach taken in Akka to have a `javadsl` implemented in Scala.","body":"Amplifying on @AndreyTyukin, it may be worth looking at the general approach taken in Akka to have a <code>javadsl</code> implemented in Scala."}],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674689441,"creation_date":1674689032,"question_id":75240935,"body_markdown":"Consider the following scala class:\r\n\r\n```\r\nclass Demo {\r\n  def mandatoryInt: Int = 42\r\n\r\n  def optInt: Option[Int] = Some(1)\r\n\r\n  def optString: Option[String] = Some(&quot;demo&quot;)\r\n}\r\n```\r\n\r\nWhen its methods are accessed from Java code, `optString` has type `Option&lt;String&gt;`.\r\nHowever, method `optInt` has type `Option&lt;Object&gt;`. \r\n\r\nI guess, it&#39;s because basic types are mapped to primitive java types. E.g. `mandatoryInt` has type `int` in Java. And `Option&lt;int&gt;` is not a valid java type. \r\n\r\nDoes anyone have an idea how to declare optional basic type in scala so that it gets normally inferred in java (i.e. `Option[Int]` to be seen as `Option&lt;Integer&gt;`)?\r\n\r\n(Scala version 2.12.10, although I doubt that it matters much for my question)","title":"How to declare optional basic type in scala e.g. Option[Int] so that the type gets seen as Option&lt;Integer&gt; from java?","body":"<p>Consider the following scala class:</p>\n<pre><code>class Demo {\n  def mandatoryInt: Int = 42\n\n  def optInt: Option[Int] = Some(1)\n\n  def optString: Option[String] = Some(&quot;demo&quot;)\n}\n</code></pre>\n<p>When its methods are accessed from Java code, <code>optString</code> has type <code>Option&lt;String&gt;</code>.\nHowever, method <code>optInt</code> has type <code>Option&lt;Object&gt;</code>.</p>\n<p>I guess, it's because basic types are mapped to primitive java types. E.g. <code>mandatoryInt</code> has type <code>int</code> in Java. And <code>Option&lt;int&gt;</code> is not a valid java type.</p>\n<p>Does anyone have an idea how to declare optional basic type in scala so that it gets normally inferred in java (i.e. <code>Option[Int]</code> to be seen as <code>Option&lt;Integer&gt;</code>)?</p>\n<p>(Scala version 2.12.10, although I doubt that it matters much for my question)</p>\n"},{"tags":["java","android-studio","checkbox"],"owner":{"account_id":12555199,"reputation":547,"user_id":9135192,"display_name":"Mauro Stancato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674688540,"creation_date":1673886852,"question_id":75137120,"body_markdown":"I have an Array of Strings\r\nString [] products = {&quot;apple&quot;, &quot;orange&quot;, &quot;banana&quot;, &quot;tomato&quot;};\r\n\r\nI have created a for loop that runs through the array products and creates a Checkbox and sets for each Checkbox the String of the array in the position that is running in the for loop. Then it adds the checkbox to a Linear Layout.\r\n\r\nOnce I have created all the checkbox with the different strings from array I need to store in a String the text of the checkboxs that are clicked and checked...\r\n\r\nThis is my code\r\n       \r\n        private LinearLayout linearLayout;\r\n\r\n        linearLayout = (LinearLayout) findViewById(R.id.linearLayout);\r\n        int i = 0;\r\n        String [] products = {&quot;apple&quot;, &quot;orange&quot;, &quot;banana&quot;, &quot;tomato&quot;, &quot;cheese&quot;, &quot;ham&quot;, &quot;sausages&quot;};\r\n\r\n     for (i=0; i&lt;products.length; i++) {\r\n            cb = new CheckBox(getApplicationContext());\r\n\r\n            cb.setText(products[i]);\r\n            linearLayout.addView(cb);\r\n        }\r\n\r\n//Now i need that when a checkbox is clicked and keeps checked it stores the text value in a String (concatenates all the checkbox that are clicked)\r\n","title":"How can I store in a String the text of CheckBox&#39;s created programatically","body":"<p>I have an Array of Strings\nString [] products = {&quot;apple&quot;, &quot;orange&quot;, &quot;banana&quot;, &quot;tomato&quot;};</p>\n<p>I have created a for loop that runs through the array products and creates a Checkbox and sets for each Checkbox the String of the array in the position that is running in the for loop. Then it adds the checkbox to a Linear Layout.</p>\n<p>Once I have created all the checkbox with the different strings from array I need to store in a String the text of the checkboxs that are clicked and checked...</p>\n<p>This is my code</p>\n<pre><code>    private LinearLayout linearLayout;\n\n    linearLayout = (LinearLayout) findViewById(R.id.linearLayout);\n    int i = 0;\n    String [] products = {&quot;apple&quot;, &quot;orange&quot;, &quot;banana&quot;, &quot;tomato&quot;, &quot;cheese&quot;, &quot;ham&quot;, &quot;sausages&quot;};\n\n for (i=0; i&lt;products.length; i++) {\n        cb = new CheckBox(getApplicationContext());\n\n        cb.setText(products[i]);\n        linearLayout.addView(cb);\n    }\n</code></pre>\n<p>//Now i need that when a checkbox is clicked and keeps checked it stores the text value in a String (concatenates all the checkbox that are clicked)</p>\n"},{"tags":["java","eclipse","eclipse-plugin"],"comments":[{"owner":{"account_id":27622582,"reputation":1,"user_id":21083276,"display_name":"Alyzzar"},"score":0,"creation_date":1674692331,"post_id":75240707,"comment_id":132771478,"body_markdown":"After following it through the debugger (many, many, many times) I determined that it was caused by the order of changes. The other renameParticipant that was renaming the folder was causing my participant to lose track of the project (both as a system File, and as an IFile resource).\n\nI&#39;ve gone with the workaround of using &#39;createPreChange(...)&#39;, which implements my file specific changes before the directory-wide changes occur.\n\nIf anyone has a better solution that doesn&#39;t require &#39;createPreChange&#39;, I&#39;d love to hear it.","body":"After following it through the debugger (many, many, many times) I determined that it was caused by the order of changes. The other renameParticipant that was renaming the folder was causing my participant to lose track of the project (both as a system File, and as an IFile resource).  I&#39;ve gone with the workaround of using &#39;createPreChange(...)&#39;, which implements my file specific changes before the directory-wide changes occur.  If anyone has a better solution that doesn&#39;t require &#39;createPreChange&#39;, I&#39;d love to hear it."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1674721484,"post_id":75240707,"comment_id":132775248,"body_markdown":"You might want to look at existing code such as `org.eclipse.ant.ui` rename participants - it uses separate participants for project and file renames so that they know exactly what is changing.","body":"You might want to look at existing code such as <code>org.eclipse.ant.ui</code> rename participants - it uses separate participants for project and file renames so that they know exactly what is changing."},{"owner":{"account_id":27622582,"reputation":1,"user_id":21083276,"display_name":"Alyzzar"},"score":0,"creation_date":1674856395,"post_id":75240707,"comment_id":132810364,"body_markdown":"@greg-449 thanks, seeing a working version definitely helps me figure out where my code could be improved.","body":"@greg-449 thanks, seeing a working version definitely helps me figure out where my code could be improved."}],"owner":{"account_id":27622582,"reputation":1,"user_id":21083276,"display_name":"Alyzzar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674687621,"creation_date":1674686964,"question_id":75240707,"body_markdown":"I&#39;m creating a custom renameParticipant to rename the &quot;APPNAME&quot; variable within a project&#39;s make file. When I run the plugin the first time, I receive a pop-up with the error &quot;Problem encountered moving resources&quot;, and when I re-run it, I get a different pop-up error &quot;Cannot determine URI&quot;. With the second dialogue, the participant is automatically disabled until I reboot Eclipse.\r\n\r\n```\r\npublic Change createChange(IProgressMonitor pm) throws CoreException, OperationCanceledException\r\n    {\r\n        // Hash map and variable declarations.\r\n        final HashMap&lt;IFile, TextFileChange&gt; changes = new HashMap&lt;IFile, TextFileChange&gt;();\r\n        final String newProjName = getArguments().getNewName();\r\n        // WorkspaceTracker is a class for workspace utilities.\r\n        final IProject proj = WorkspaceTracker.getInstance().getCurrentProject();\r\n        final String projName = proj.getName();\r\n        // Find and open the Makefile. MAKEFILE_NAME is a final class variable.\r\n        IResource res = proj.findMember(MAKEFILE_NAME);\r\n        IFile makeIFile = ResourcesPlugin.getWorkspace().getRoot().getFileForLocation(res.getLocation());\r\n\r\n        if (getArguments().getUpdateReferences())\r\n        {\r\n            // Verify hashmap is clear for the makefile changes\r\n            TextFileChange change = changes.get(makeIFile);\r\n            if (change == null &amp;&amp; getTextChange(makeIFile) == null)\r\n            {\r\n                try\r\n                {\r\n                    // Read the makefile\r\n                    final String fileIn = new String(Files.readAllBytes(Paths.get(makeIFile.getLocationURI())),\r\n                        StandardCharsets.UTF_8);\r\n                    // Use regex matcher to find match and add it to the change hashmap.\r\n                    Matcher matcher = Pattern.compile(verbatim(&quot;^(APPNAME=)(.+)$&quot;))\r\n                        .matcher(fileIn);\r\n\r\n                    // Error caused by the following code -----------------------------\r\n                    // (&quot;Problems encountered moving resources&quot; OR &quot;Could not locate URI&quot;)\r\n                    while (matcher.find())\r\n                    {\r\n                        ReplaceEdit edit = new ReplaceEdit(matcher.start(), (matcher.end() - matcher.start()),\r\n                            String.format(&quot;%1$s%2$s&quot;, matcher.group(1), newProjName));\r\n                        if (change == null)\r\n                        { // Add the changes\r\n                            change = new TextFileChange(MAKEFILE_NAME, makeIFile);\r\n                            change.setEdit(new MultiTextEdit());\r\n                            changes.put(makeIFile, change);\r\n                        }\r\n                        change.addEdit(edit);\r\n                        change.addTextEditGroup(new TextEditGroup(\r\n                            String.format(verbatim(&quot;Updates Makefile APPNAME for %1$s&quot;), newProjName), edit));\r\n                    }\r\n                    // End of error causing code----------------------------------------\r\n                }\r\n                catch (IOException e)\r\n                {\r\n                    CyConsole.getInstance().log(Level.ERROR,\r\n                        String.format(verbatim(&quot;Failed to update Makefile references for %1$s. Error %2$s&quot;), projName,\r\n                            e));\r\n                }\r\n            }\r\n        }\r\n        CompositeChange result;\r\n        if (changes.isEmpty())\r\n        {\r\n            result = null;\r\n        }\r\n        else\r\n        {\r\n            result = new CompositeChange(&quot;Rename project dependencies&quot;);\r\n            for (Iterator&lt;TextFileChange&gt; iter = changes.values().iterator(); iter.hasNext();)\r\n            {\r\n                result.add(iter.next());\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\nThe only other change that occurs during the rename process is the renaming of the project folder. I&#39;ve considered that Eclipse renames the project folder first, then cannot find the path to the Makefile, but since an IFile is passed is this still the case?\r\n\r\nUsing the debugger, I&#39;ve determined that the code does not fail until the changes are executed by &#39;fUndoChange= fChange.perform(new SubProgressMonitor(monitor, 9));&#39; from org.eclipse.ltk.core.refactoring.PerformChangeOperation [line: 258].\r\n\r\nWhen a regex match for &quot;APPNAME&quot; isn&#39;t found, the resource/URI error dialogue does not appear (again, indicating that it is the execution of the Makefile change that is causing the errors).","title":"Eclipse custom renameParticipant, &quot;Cannot determine URI&quot;, or &quot;Problem encountered moving resources&quot;","body":"<p>I'm creating a custom renameParticipant to rename the &quot;APPNAME&quot; variable within a project's make file. When I run the plugin the first time, I receive a pop-up with the error &quot;Problem encountered moving resources&quot;, and when I re-run it, I get a different pop-up error &quot;Cannot determine URI&quot;. With the second dialogue, the participant is automatically disabled until I reboot Eclipse.</p>\n<pre><code>public Change createChange(IProgressMonitor pm) throws CoreException, OperationCanceledException\n    {\n        // Hash map and variable declarations.\n        final HashMap&lt;IFile, TextFileChange&gt; changes = new HashMap&lt;IFile, TextFileChange&gt;();\n        final String newProjName = getArguments().getNewName();\n        // WorkspaceTracker is a class for workspace utilities.\n        final IProject proj = WorkspaceTracker.getInstance().getCurrentProject();\n        final String projName = proj.getName();\n        // Find and open the Makefile. MAKEFILE_NAME is a final class variable.\n        IResource res = proj.findMember(MAKEFILE_NAME);\n        IFile makeIFile = ResourcesPlugin.getWorkspace().getRoot().getFileForLocation(res.getLocation());\n\n        if (getArguments().getUpdateReferences())\n        {\n            // Verify hashmap is clear for the makefile changes\n            TextFileChange change = changes.get(makeIFile);\n            if (change == null &amp;&amp; getTextChange(makeIFile) == null)\n            {\n                try\n                {\n                    // Read the makefile\n                    final String fileIn = new String(Files.readAllBytes(Paths.get(makeIFile.getLocationURI())),\n                        StandardCharsets.UTF_8);\n                    // Use regex matcher to find match and add it to the change hashmap.\n                    Matcher matcher = Pattern.compile(verbatim(&quot;^(APPNAME=)(.+)$&quot;))\n                        .matcher(fileIn);\n\n                    // Error caused by the following code -----------------------------\n                    // (&quot;Problems encountered moving resources&quot; OR &quot;Could not locate URI&quot;)\n                    while (matcher.find())\n                    {\n                        ReplaceEdit edit = new ReplaceEdit(matcher.start(), (matcher.end() - matcher.start()),\n                            String.format(&quot;%1$s%2$s&quot;, matcher.group(1), newProjName));\n                        if (change == null)\n                        { // Add the changes\n                            change = new TextFileChange(MAKEFILE_NAME, makeIFile);\n                            change.setEdit(new MultiTextEdit());\n                            changes.put(makeIFile, change);\n                        }\n                        change.addEdit(edit);\n                        change.addTextEditGroup(new TextEditGroup(\n                            String.format(verbatim(&quot;Updates Makefile APPNAME for %1$s&quot;), newProjName), edit));\n                    }\n                    // End of error causing code----------------------------------------\n                }\n                catch (IOException e)\n                {\n                    CyConsole.getInstance().log(Level.ERROR,\n                        String.format(verbatim(&quot;Failed to update Makefile references for %1$s. Error %2$s&quot;), projName,\n                            e));\n                }\n            }\n        }\n        CompositeChange result;\n        if (changes.isEmpty())\n        {\n            result = null;\n        }\n        else\n        {\n            result = new CompositeChange(&quot;Rename project dependencies&quot;);\n            for (Iterator&lt;TextFileChange&gt; iter = changes.values().iterator(); iter.hasNext();)\n            {\n                result.add(iter.next());\n            }\n        }\n        return result;\n    }\n</code></pre>\n<p>The only other change that occurs during the rename process is the renaming of the project folder. I've considered that Eclipse renames the project folder first, then cannot find the path to the Makefile, but since an IFile is passed is this still the case?</p>\n<p>Using the debugger, I've determined that the code does not fail until the changes are executed by 'fUndoChange= fChange.perform(new SubProgressMonitor(monitor, 9));' from org.eclipse.ltk.core.refactoring.PerformChangeOperation [line: 258].</p>\n<p>When a regex match for &quot;APPNAME&quot; isn't found, the resource/URI error dialogue does not appear (again, indicating that it is the execution of the Makefile change that is causing the errors).</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674726885,"post_id":75240694,"comment_id":132776957,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1674748200,"post_id":75240694,"comment_id":132783936,"body_markdown":"I think that will be help to you: https://stackoverflow.com/questions/74832565/targeting-s-version-31-and-above-requires-that-one-of-flag-immutable-or-flag/74850656#74850656","body":"I think that will be help to you: <a href=\"https://stackoverflow.com/questions/74832565/targeting-s-version-31-and-above-requires-that-one-of-flag-immutable-or-flag/74850656#74850656\" title=\"targeting s version 31 and above requires that one of flag immutable or flag\">stackoverflow.com/questions/74832565/&hellip;</a>"}],"owner":{"account_id":27622576,"reputation":1,"user_id":21083272,"display_name":"Soluciones Navacom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674687077,"creation_date":1674686859,"question_id":75240694,"body_markdown":"https://i.stack.imgur.com/xl124.png https://i.stack.imgur.com/nNiFs.png\r\nhttps://i.stack.imgur.com/SMhGE.png\r\n\r\nthe application starts and immediately closes, this is the error\r\n```\r\nE/FirebaseApp: Firebase API initialization failure.\r\n    java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.google.firebase.FirebaseApp.zza(Unknown Source:78)\r\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:141)\r\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:2)\r\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:28)\r\n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(Unknown Source:4)\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2404)\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2374)\r\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(Unknown Source:15)\r\n        at android.app.ActivityThread.installProvider(ActivityThread.java:7422)\r\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6939)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6710)\r\n        at android.app.ActivityThread.access$1500(ActivityThread.java:247)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2053)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n     Caused by: java.lang.IllegalArgumentException: www.navacom.com.co.pedbox: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n        at android.app.PendingIntent.checkFlags(PendingIntent.java:375)\r\n        at android.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:645)\r\n        at android.app.PendingIntent.getBroadcast(PendingIntent.java:632)\r\n        at com.google.android.gms.internal.zzcfp.zzyh(Unknown Source:28)\r\n        at com.google.android.gms.internal.zzcfp.zzuh(Unknown Source:2)\r\n        at com.google.android.gms.internal.zzcds.initialize(Unknown Source:4)\r\n        at com.google.android.gms.internal.zzccu.&lt;init&gt;(Unknown Source:291)\r\n        at com.google.android.gms.internal.zzccu.zzdm(Unknown Source:28)\r\n        at com.google.android.gms.measurement.AppMeasurement.getInstance(Unknown Source:0)\r\n        \t... 21 more\r\n```","title":"I updated my app to sdk 33 and firebase stopped working and my app does not run (I had sdk 30)","body":"<p><a href=\"https://i.stack.imgur.com/xl124.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/xl124.png</a> <a href=\"https://i.stack.imgur.com/nNiFs.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/nNiFs.png</a>\n<a href=\"https://i.stack.imgur.com/SMhGE.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/SMhGE.png</a></p>\n<p>the application starts and immediately closes, this is the error</p>\n<pre><code>E/FirebaseApp: Firebase API initialization failure.\n    java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.google.firebase.FirebaseApp.zza(Unknown Source:78)\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:141)\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:2)\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:28)\n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(Unknown Source:4)\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2404)\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2374)\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(Unknown Source:15)\n        at android.app.ActivityThread.installProvider(ActivityThread.java:7422)\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6939)\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6710)\n        at android.app.ActivityThread.access$1500(ActivityThread.java:247)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2053)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n     Caused by: java.lang.IllegalArgumentException: www.navacom.com.co.pedbox: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n        at android.app.PendingIntent.checkFlags(PendingIntent.java:375)\n        at android.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:645)\n        at android.app.PendingIntent.getBroadcast(PendingIntent.java:632)\n        at com.google.android.gms.internal.zzcfp.zzyh(Unknown Source:28)\n        at com.google.android.gms.internal.zzcfp.zzuh(Unknown Source:2)\n        at com.google.android.gms.internal.zzcds.initialize(Unknown Source:4)\n        at com.google.android.gms.internal.zzccu.&lt;init&gt;(Unknown Source:291)\n        at com.google.android.gms.internal.zzccu.zzdm(Unknown Source:28)\n        at com.google.android.gms.measurement.AppMeasurement.getInstance(Unknown Source:0)\n            ... 21 more\n</code></pre>\n"},{"tags":["java","redis","compatibility","jedis"],"answers":[{"tags":[],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674686550,"creation_date":1674686550,"answer_id":75240652,"question_id":75240356,"body_markdown":"Looking at the Git history, Jedis updated to Java 1.7 on 04.07.2016 https://github.com/redis/jedis/pull/1334\r\n\r\nThe latest release before this date would be version 2.8.1 from 14.03.2016 https://mvnrepository.com/artifact/redis.clients/jedis/2.8.1\r\n\r\nAssuming there would be no changes of the required JDK within a patch version you could also use version 2.8.2 from 22.07.2016 https://mvnrepository.com/artifact/redis.clients/jedis/2.8.2\r\n\r\nBut to be honest, try everything to update your JDK 6 to to current LTS JDK 17. It will be much easier to update ANY dependency you have to fix security vulnerabilities, which I am almost sure you have, when you are bound to JDK 6 dependencies, which tend to not receive any updates since a looong time.","title":"Recommended Jedis version for Java 1.6","body":"<p>Looking at the Git history, Jedis updated to Java 1.7 on 04.07.2016 <a href=\"https://github.com/redis/jedis/pull/1334\" rel=\"nofollow noreferrer\">https://github.com/redis/jedis/pull/1334</a></p>\n<p>The latest release before this date would be version 2.8.1 from 14.03.2016 <a href=\"https://mvnrepository.com/artifact/redis.clients/jedis/2.8.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/redis.clients/jedis/2.8.1</a></p>\n<p>Assuming there would be no changes of the required JDK within a patch version you could also use version 2.8.2 from 22.07.2016 <a href=\"https://mvnrepository.com/artifact/redis.clients/jedis/2.8.2\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/redis.clients/jedis/2.8.2</a></p>\n<p>But to be honest, try everything to update your JDK 6 to to current LTS JDK 17. It will be much easier to update ANY dependency you have to fix security vulnerabilities, which I am almost sure you have, when you are bound to JDK 6 dependencies, which tend to not receive any updates since a looong time.</p>\n"}],"owner":{"account_id":11361104,"reputation":26,"user_id":8329211,"display_name":"Shehan Charuka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674686550,"creation_date":1674684320,"question_id":75240356,"body_markdown":"Appreciate if somebody could provide expert opinion on what is the most recommended Jedis version for Java 1.6. Thanks in advance,","title":"Recommended Jedis version for Java 1.6","body":"<p>Appreciate if somebody could provide expert opinion on what is the most recommended Jedis version for Java 1.6. Thanks in advance,</p>\n"},{"tags":["java","spring","spring-boot","websocket","spring-websocket"],"owner":{"account_id":15525089,"reputation":99,"user_id":11200149,"display_name":"NoobSailboat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674686014,"creation_date":1674686014,"question_id":75240557,"body_markdown":"I followed the https://spring.io/guides/gs/messaging-stomp-websocket/ and added a few modifications (mainly Spring Security Auth and dynamic topics(Rooms)).\r\n\r\nThe order the client subscribes to topics doesn&#39;t allow messages onDisconnect event to be received by the client that&#39;s still in the room despite the server sysout showing that it sends.\r\n\r\nI have 2 topics that the client subscribes to in a room and this order of subscriptions works but if I change the order of the subscriptions then the user that&#39;s still in the room won&#39;t receive a message:\r\n\r\n    // user direct message\r\n    stompClient.subscribe(`/user/topic/${roomId}`, (message) =&gt; {...}\r\n    // General\r\n    stompClient.subscribe(`/topic/${roomId}`, (message) =&gt; {...}\r\n\r\n2 users connect and I send alerts to the client that the users joined and all is well until 1 client disconnects. In the order of subscriptions above the client that&#39;s still in the room will receive the message that a client has disconnected but if the subscription order is changed then the client will not receive the message that a client disconnected.\r\n\r\nDoes the order in how the client subscribes to topics matter?","title":"Spring WebSocket: Order of subscriptions don&#39;t allow messages to be received","body":"<p>I followed the <a href=\"https://spring.io/guides/gs/messaging-stomp-websocket/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/messaging-stomp-websocket/</a> and added a few modifications (mainly Spring Security Auth and dynamic topics(Rooms)).</p>\n<p>The order the client subscribes to topics doesn't allow messages onDisconnect event to be received by the client that's still in the room despite the server sysout showing that it sends.</p>\n<p>I have 2 topics that the client subscribes to in a room and this order of subscriptions works but if I change the order of the subscriptions then the user that's still in the room won't receive a message:</p>\n<pre><code>// user direct message\nstompClient.subscribe(`/user/topic/${roomId}`, (message) =&gt; {...}\n// General\nstompClient.subscribe(`/topic/${roomId}`, (message) =&gt; {...}\n</code></pre>\n<p>2 users connect and I send alerts to the client that the users joined and all is well until 1 client disconnects. In the order of subscriptions above the client that's still in the room will receive the message that a client has disconnected but if the subscription order is changed then the client will not receive the message that a client disconnected.</p>\n<p>Does the order in how the client subscribes to topics matter?</p>\n"},{"tags":["java","wildfly-8"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1598254517,"post_id":63556521,"comment_id":112386891,"body_markdown":"As far as I know Wildfly 8 only supports Java 8+ while JBoss 7 only runs on Java up to 7 due to some &quot;hooking&quot; into JVM internals. So if you want to upgrade to Wildfly you&#39;d also have to upgrade to a newer Java version. That normally should be easier than the Wildfly upgrade but it depends on what your code is doing - if it is tied to a certain Java version you might want to fix that anyway.","body":"As far as I know Wildfly 8 only supports Java 8+ while JBoss 7 only runs on Java up to 7 due to some &quot;hooking&quot; into JVM internals. So if you want to upgrade to Wildfly you&#39;d also have to upgrade to a newer Java version. That normally should be easier than the Wildfly upgrade but it depends on what your code is doing - if it is tied to a certain Java version you might want to fix that anyway."},{"owner":{"display_name":"user2319395"},"score":0,"creation_date":1598254952,"post_id":63556521,"comment_id":112387102,"body_markdown":"@Thomas so according to you, What is the latest JBoss version which supports for java 6 or older versions ?","body":"@Thomas so according to you, What is the latest JBoss version which supports for java 6 or older versions ?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1598255679,"post_id":63556521,"comment_id":112387423,"body_markdown":"I can&#39;t tell for EAP since we&#39;ve always used community editions but if I remember correctly it should be JBoss 6 or 7. However, for security reasons among others you&#39;d normally want to upgrade to a newer Java version which in most cases should be a smooth operation at least if you upgrade to 8 (of course there might still be hiccups such as `compare()` methods being reported as not adhering to the contract or internal classes having been removed - but that&#39;s actually a good thing in most cases).","body":"I can&#39;t tell for EAP since we&#39;ve always used community editions but if I remember correctly it should be JBoss 6 or 7. However, for security reasons among others you&#39;d normally want to upgrade to a newer Java version which in most cases should be a smooth operation at least if you upgrade to 8 (of course there might still be hiccups such as <code>compare()</code> methods being reported as not adhering to the contract or internal classes having been removed - but that&#39;s actually a good thing in most cases)."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1598375930,"post_id":63556521,"comment_id":112436918,"body_markdown":"WildFly only works with Java 8. JBoss EAP 7 also requires Java 8. Only JBoss EAP 6 or JBoss AS 7.1.1.Final would work with Java 6.","body":"WildFly only works with Java 8. JBoss EAP 7 also requires Java 8. Only JBoss EAP 6 or JBoss AS 7.1.1.Final would work with Java 6."},{"owner":{"display_name":"user2319395"},"score":0,"creation_date":1598414060,"post_id":63556521,"comment_id":112447810,"body_markdown":"@JamesR.Perkins I think Wildfly 8 supports java 7. Could you please share any link where compatibility matrix mentioned.","body":"@JamesR.Perkins I think Wildfly 8 supports java 7. Could you please share any link where compatibility matrix mentioned."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1598451423,"post_id":63556521,"comment_id":112464069,"body_markdown":"It could be Java 7, however Java 7 is no longer supported and WildFly 8 is quite old now. I&#39;m not aware of a compatibility matrix.","body":"It could be Java 7, however Java 7 is no longer supported and WildFly 8 is quite old now. I&#39;m not aware of a compatibility matrix."}],"answers":[{"tags":[],"owner":{"account_id":4364735,"reputation":1449,"user_id":3560873,"display_name":"searchengine27"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674685480,"creation_date":1674685480,"answer_id":75240487,"question_id":63556521,"body_markdown":"This is the closest thing to a compatibility matrix I can find. Which has a separate chart for both Wildfly and JBoss EAP:\r\n[Choosing the right JDK for WildFly and JBoss EAP 7][1]\r\n\r\nIt&#39;s obviously not official, but something is better than nothing.\r\n\r\n\r\n  [1]: http://www.mastertheboss.com/jbossas/wildfly-8/choosing-the-jdk-for-wildfly-and-jboss-eap-7/#:~:text=WildFly%20versions%20up%20to%2026,Java%2011%20and%20Java%2017.","title":"Wildfly compatibility with older versions of Java","body":"<p>This is the closest thing to a compatibility matrix I can find. Which has a separate chart for both Wildfly and JBoss EAP:\n<a href=\"http://www.mastertheboss.com/jbossas/wildfly-8/choosing-the-jdk-for-wildfly-and-jboss-eap-7/#:%7E:text=WildFly%20versions%20up%20to%2026,Java%2011%20and%20Java%2017.\" rel=\"nofollow noreferrer\">Choosing the right JDK for WildFly and JBoss EAP 7</a></p>\n<p>It's obviously not official, but something is better than nothing.</p>\n"}],"owner":{"display_name":"user2319395"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674685480,"creation_date":1598254249,"question_id":63556521,"body_markdown":"I wanted to migrate from JBOSS EAP to a Wildfly version which supports older versions of Java like 6 or 5.\r\n\r\nI can&#39;t find a compatibility matrix with wild fly and java. \r\n\r\nWhat about wildfly 8 ? does it supports java older versions.  \r\n\r\ncan someone point me to the matrix where I can find wildfly compatibility with Java\r\n\r\nThanks ","title":"Wildfly compatibility with older versions of Java","body":"<p>I wanted to migrate from JBOSS EAP to a Wildfly version which supports older versions of Java like 6 or 5.</p>\n<p>I can't find a compatibility matrix with wild fly and java.</p>\n<p>What about wildfly 8 ? does it supports java older versions.</p>\n<p>can someone point me to the matrix where I can find wildfly compatibility with Java</p>\n<p>Thanks</p>\n"},{"tags":["java","json","kotlin","serialization","jackson"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674685147,"creation_date":1674685147,"answer_id":75240444,"question_id":75238061,"body_markdown":"&gt; Do I need to write a new Serializer for the Type List&lt;Student&gt; or can\r\n&gt; I reuse StudentSerializer\r\n\r\nYou can reuse the `StudentSerializer` serializer already defined: in your case you can annotate your `students`field in the `Course` class with the `JsonSerialize` annotation with [`contentUsing`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/annotation/JsonSerialize.html#contentUsing--) directive where `contentusing` indicates the serializer class to use for serializing contents (elements of a Collection/array, values of Maps) of one annotated property:\r\n\r\n~~~\r\nclass Course(\r\n    var id: Long? = null,\r\n    var name: String? = null,\r\n    @JsonSerialize(contentUsing= StudentSerializer::class)\r\n    var students: MutableList&lt;Student&gt; = mutableListOf()\r\n)\r\n~~~","title":"How to reuse a custom object serializer for a list of objects?","body":"<blockquote>\n<p>Do I need to write a new Serializer for the Type List or can\nI reuse StudentSerializer</p>\n</blockquote>\n<p>You can reuse the <code>StudentSerializer</code> serializer already defined: in your case you can annotate your <code>students</code>field in the <code>Course</code> class with the <code>JsonSerialize</code> annotation with <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/annotation/JsonSerialize.html#contentUsing--\" rel=\"nofollow noreferrer\"><code>contentUsing</code></a> directive where <code>contentusing</code> indicates the serializer class to use for serializing contents (elements of a Collection/array, values of Maps) of one annotated property:</p>\n<pre><code>class Course(\n    var id: Long? = null,\n    var name: String? = null,\n    @JsonSerialize(contentUsing= StudentSerializer::class)\n    var students: MutableList&lt;Student&gt; = mutableListOf()\n)\n</code></pre>\n"}],"owner":{"account_id":17824706,"reputation":137,"user_id":12946201,"display_name":"WhiteCherry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75240444,"answer_count":1,"score":1,"last_activity_date":1674685147,"creation_date":1674670008,"question_id":75238061,"body_markdown":"I&#39;ve written a custom &quot;student&quot; serializer and want to reused it for a list of student. Do I need to write a new Serializer for the Type `List&lt;Student&gt;` or can I reuse `StudentSerializer`?\r\n\r\nFor example:\r\n\r\n```\r\nclass Student(\r\nvar id: Long? = null,\r\nvar name: String? = null,\r\nvar courses: MutableList&lt;Courses&gt; = mutableListOf()\r\n)\r\n```\r\n```\r\nclass Course(\r\nvar id: Long? = null,\r\nvar name: String? = null,\r\nvar students: MutableList&lt;Student&gt; = mutableListOf()\r\n)\r\n```\r\n```\r\nclass StudentSerializer : JsonSerializer&lt;Student&gt;() {\r\n\r\n    override fun serialize(student: Student?, gen: JsonGenerator, serializers: SerializerProvider?) {\r\n     gen.writeStartObject()\r\n     // ...\r\n     gen.writeEndObject()\r\n    }\r\n }\r\n```\r\n\r\nHow can I reuse this Serializer for this scenario?\r\n","title":"How to reuse a custom object serializer for a list of objects?","body":"<p>I've written a custom &quot;student&quot; serializer and want to reused it for a list of student. Do I need to write a new Serializer for the Type <code>List&lt;Student&gt;</code> or can I reuse <code>StudentSerializer</code>?</p>\n<p>For example:</p>\n<pre><code>class Student(\nvar id: Long? = null,\nvar name: String? = null,\nvar courses: MutableList&lt;Courses&gt; = mutableListOf()\n)\n</code></pre>\n<pre><code>class Course(\nvar id: Long? = null,\nvar name: String? = null,\nvar students: MutableList&lt;Student&gt; = mutableListOf()\n)\n</code></pre>\n<pre><code>class StudentSerializer : JsonSerializer&lt;Student&gt;() {\n\n    override fun serialize(student: Student?, gen: JsonGenerator, serializers: SerializerProvider?) {\n     gen.writeStartObject()\n     // ...\n     gen.writeEndObject()\n    }\n }\n</code></pre>\n<p>How can I reuse this Serializer for this scenario?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9293,"page":699,"page_size":100}
