{"items":[{"tags":["java","sql-server","hibernate","row-level-security"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1677534190,"post_id":75583066,"comment_id":133353489,"body_markdown":"If your code _expects a tenant_id in the session context_ then why do you use `sessionFactory.getCurrentSession().setProperty(&quot;TenantId&quot;, selectedTenantId);`? Why `TenantId` instead of `tenant_id`?","body":"If your code <i>expects a tenant_id in the session context</i> then why do you use <code>sessionFactory.getCurrentSession().setProperty(&quot;TenantId&quot;, selectedTenantId);</code>? Why <code>TenantId</code> instead of <code>tenant_id</code>?"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1677535339,"post_id":75583066,"comment_id":133353723,"body_markdown":"Also, SQL Server&#39;s session context has nothing to do with Hibernate&#39;s Session. In SQL Server the [session context](https://learn.microsoft.com/en-us/sql/t-sql/functions/session-context-transact-sql) is connection-specific, so have you considered registering a global `Session.doWork()` handler to execute `sys.sp_set_session_context` on the connection before issuing your CRUD operations?","body":"Also, SQL Server&#39;s session context has nothing to do with Hibernate&#39;s Session. In SQL Server the <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/functions/session-context-transact-sql\" rel=\"nofollow noreferrer\">session context</a> is connection-specific, so have you considered registering a global <code>Session.doWork()</code> handler to execute <code>sys.sp_set_session_context</code> on the connection before issuing your CRUD operations?"},{"owner":{"account_id":4020026,"reputation":1102,"user_id":3310724,"display_name":"i89"},"score":0,"creation_date":1677575085,"post_id":75583066,"comment_id":133360225,"body_markdown":"Thanks for your answers, I updated the description a little bit to make it more clear, that I use tenantId everywhere.","body":"Thanks for your answers, I updated the description a little bit to make it more clear, that I use tenantId everywhere."},{"owner":{"account_id":4020026,"reputation":1102,"user_id":3310724,"display_name":"i89"},"score":0,"creation_date":1677575210,"post_id":75583066,"comment_id":133360269,"body_markdown":"@Larnu I might get wrong but the documentation doesn&#39;t mention RLS being based on a USER. You as an admionistrator decide to which properties it is relevant: https://learn.microsoft.com/en-us/sql/relational-databases/security/row-level-security?view=sql-server-ver16#MidTier","body":"@Larnu I might get wrong but the documentation doesn&#39;t mention RLS being based on a USER. You as an admionistrator decide to which properties it is relevant: <a href=\"https://learn.microsoft.com/en-us/sql/relational-databases/security/row-level-security?view=sql-server-ver16#MidTier\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/relational-databases/security/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":4020026,"reputation":1102,"user_id":3310724,"display_name":"i89"},"score":0,"creation_date":1677575265,"post_id":75583066,"comment_id":133360281,"body_markdown":"@AlwaysLearning I updated the description to make it clear, that the problem is not based on wrong property names. Any other ideas?","body":"@AlwaysLearning I updated the description to make it clear, that the problem is not based on wrong property names. Any other ideas?"},{"owner":{"account_id":4020026,"reputation":1102,"user_id":3310724,"display_name":"i89"},"score":0,"creation_date":1677575729,"post_id":75583066,"comment_id":133360426,"body_markdown":"@Larnu thanks for you feedback. I&#39;m not sure if I catch your point. I&#39;m just having one database user for the application. For users in my application I&#39;m using a dedicated table. So all database queries are performed by the database (application) user. When the user is authenticated and authorized in my application, I can identify the user and know its tenantId. So when a query is performec I want to pass the tenantId of the user in the session.","body":"@Larnu thanks for you feedback. I&#39;m not sure if I catch your point. I&#39;m just having one database user for the application. For users in my application I&#39;m using a dedicated table. So all database queries are performed by the database (application) user. When the user is authenticated and authorized in my application, I can identify the user and know its tenantId. So when a query is performec I want to pass the tenantId of the user in the session."},{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1677576045,"post_id":75583066,"comment_id":133360513,"body_markdown":"OK, so you&#39;re going down the [&quot;middle-tier&quot; application](https://learn.microsoft.com/en-us/sql/relational-databases/security/row-level-security?view=sql-server-ver16#MidTier)? I&#39;ll fully admit, without the context, I was under the assumption you were going down the &quot;traditional&quot; path, of multiple `USER`s.","body":"OK, so you&#39;re going down the <a href=\"https://learn.microsoft.com/en-us/sql/relational-databases/security/row-level-security?view=sql-server-ver16#MidTier\" rel=\"nofollow noreferrer\">&quot;middle-tier&quot; application</a>? I&#39;ll fully admit, without the context, I was under the assumption you were going down the &quot;traditional&quot; path, of multiple <code>USER</code>s."}],"owner":{"account_id":4020026,"reputation":1102,"user_id":3310724,"display_name":"i89"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677575018,"creation_date":1677515227,"question_id":75583066,"body_markdown":"In my java based application I want to make use of RLS in MS SQL. For this, I created a security policy with a function, which expects a tenantId in the session context and filters data for this property.\r\n\r\nUsing SQL this seems to work and now I am stuck with passing the tenantId to the db, so RLS in MS SQL can filter the data, instead I am getting zero results (which seems for me that the DB doesn&#39;t recieve the tenantId from the session context).\r\n\r\nThe tenantId might change dynamically, depends on the authenticated user, so I always set the tenant_id like this:\r\n\r\n```java\r\nsessionFactory.getCurrentSession().setProperty(&quot;TenantId&quot;, tenantId);\r\n```\r\n\r\nWhen debugging, I see that tenantId is correctly set in my java application.\r\n\r\nMy questions is:\r\nIs `setProperty` on the session the right way to pass context/session properties to the database?\r\n\r\n\r\nI call `setProperty` on the session, but it doesn&#39;t seem to work","title":"hibernate: Row level security - set session context properties and pass to MS SQL","body":"<p>In my java based application I want to make use of RLS in MS SQL. For this, I created a security policy with a function, which expects a tenantId in the session context and filters data for this property.</p>\n<p>Using SQL this seems to work and now I am stuck with passing the tenantId to the db, so RLS in MS SQL can filter the data, instead I am getting zero results (which seems for me that the DB doesn't recieve the tenantId from the session context).</p>\n<p>The tenantId might change dynamically, depends on the authenticated user, so I always set the tenant_id like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>sessionFactory.getCurrentSession().setProperty(&quot;TenantId&quot;, tenantId);\n</code></pre>\n<p>When debugging, I see that tenantId is correctly set in my java application.</p>\n<p>My questions is:\nIs <code>setProperty</code> on the session the right way to pass context/session properties to the database?</p>\n<p>I call <code>setProperty</code> on the session, but it doesn't seem to work</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":82425,"reputation":8280,"user_id":231762,"display_name":"kkrugler"},"score":1,"creation_date":1677717831,"post_id":75589817,"comment_id":133395425,"body_markdown":"I&#39;m curious why you didn&#39;t just do a `.keyBy(new KeySelectorForAllTypes()).window(blah).apply(new AllTypesJoinFunction)`?","body":"I&#39;m curious why you didn&#39;t just do a <code>.keyBy(new KeySelectorForAllTypes()).window(blah).apply(new AllTypesJoinFunction)</code>?"},{"owner":{"account_id":2554005,"reputation":4023,"user_id":2216414,"accept_rate":67,"display_name":"Cristian Meneses"},"score":0,"creation_date":1677808997,"post_id":75589817,"comment_id":133415313,"body_markdown":"@kkrugler To be honest, this is my first time ever working with Flink, and most of the progress I&#39;ve been able to make is based on the Flink docs and other resources. Your suggestion is definitely worth trying!","body":"@kkrugler To be honest, this is my first time ever working with Flink, and most of the progress I&#39;ve been able to make is based on the Flink docs and other resources. Your suggestion is definitely worth trying!"}],"owner":{"account_id":2554005,"reputation":4023,"user_id":2216414,"accept_rate":67,"display_name":"Cristian Meneses"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677574750,"creation_date":1677574750,"question_id":75589817,"body_markdown":"I have a single source stream that contains 3 different types of events. For each event type, I need some of their fields.\r\n\r\nThen, I need to emit an enriched result of a new event type, made of the parts of the other 3 events\r\n\r\n```\r\nsource (A, B, C) -&gt;  sink (D)\r\n```\r\n\r\nThere is a field that can be used to join A and B, and another field that can be used to join (A + B) and C\r\n\r\n\r\n\r\n**What I have so far**\r\n\r\n\r\n\r\nThe main code I am using for the processing pipeline looks like this\r\n\r\n```java\r\n       /*\r\n        * Use event time processing\r\n        */\r\n\r\n        env.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\r\n        env.getConfig().setAutoWatermarkInterval(5000);\r\n\r\n\r\n        final DataStream&lt;BaseEvent&gt; inputStream = env\r\n                .addSource(eventSource)\r\n\r\n       /*\r\n        * Assign watermarks\r\n        */\r\n       final DataStream&lt;BaseEvent&gt; sortedInputStream = inputStream\r\n               .assignTimestampsAndWatermarks(WatermarkStrategy\r\n                       .&lt;BaseEvent&gt;forBoundedOutOfOrderness(Duration.ofSeconds(30))\r\n                       .withTimestampAssigner((event, timestamp) -&gt; event.getEventTimestamp())\r\n                       .withIdleness(Duration.ofSeconds(30)));\r\n        \r\n        /*\r\n         * Filter events by type and fork into separate streams\r\n         */\r\n        final DataStream&lt;TypeOneEven&gt; typeOneStream = sortedInputStream\r\n                .filter(e -&gt; TYPE_ONE.toString().equals(e.getEventType()))\r\n                .keyBy(new BaseEventKeySelector&lt;&gt;())\r\n                .map(baseEventToTypeOneEventMapFunction)\r\n                .keyBy(new TypeOneEventKeySelector());\r\n\r\n        final DataStream&lt;TypeTwoEvent&gt; typeTwoStream = sortedInputStream\r\n                .filter(e -&gt; TYPE_TWO.toString().equals(e.getEventType()))\r\n                .keyBy(new BaseEventKeySelector&lt;&gt;())\r\n                .map(baseEventToTypeTwoEventMapFunction)\r\n                .keyBy(new TypeTwoEventKeySelector());\r\n\r\n        final DataStream&lt;TypeThreeEvent&gt; typeThreeStream = sortedInputStream\r\n                .filter(e -&gt; TYPE_THREE.toString().equals(e.getEventType()))\r\n                .keyBy(new BaseEventKeySelector&lt;&gt;())\r\n                .map(baseEventToTypeThreeEventMapFunction)\r\n                .keyBy(new TypeThreeEventKeySelector());\r\n\r\n        /*\r\n         * Join TypeOne and TypeTwo on interaction\r\n         */\r\n        final DataStream&lt;Tuple2&lt;TypeOneEven, TypeTwoEvent&gt;&gt; firstJoin = typeOneStream\r\n                .join(typeTwoStream)\r\n                .where(new TypeOneEventKeySelector())\r\n                .equalTo(new TypeTwoEventKeySelector())\r\n                .window(TumblingEventTimeWindows.of(Time.minutes(1)))\r\n                .apply(new TypeOneTypeTwoJoinFunction());\r\n\r\n        /*\r\n         * Join previous stream with TypeThree\r\n         */\r\n        final DataStream&lt;Tuple3&lt;TypeOneEven, TypeTwoEvent, TypeThreeEvent&gt;&gt; secondJoin = firstJoin\r\n                .join(typeThreeStream)\r\n                .where(new TypeOneTypeTwoKeySelector())\r\n                .equalTo(new TypeThreeKeySelector())\r\n                .window(TumblingEventTimeWindows.of(Time.minutes(1)))\r\n                .apply(new AllTypesJoinFunction());\r\n\r\n        /*\r\n         * Convert join results into EnrichedType events, send to sink\r\n         */\r\n        secondJoin\r\n                .map(enrichedEventMapFunction)\r\n                .addSink(enrichedEventSink);\r\n```\r\n             \r\nAll Map functions are `RichMapFunction&lt;IN, OUT&gt;` that convert BaseEvent to a concrete type.\r\n\r\nAll Join functions are `JoinFunction&lt;IN1, IN2, OUT&gt;` that generate tuples based on the input.\r\n\r\nThe last `enrichedEventMapFunction` is a `RichMapFunction&lt;IN, OUT&gt;` that takes care of grabbing the fields from the tuple elements to build a `EnrichedTypeEvent`. \r\n\r\n**The problem**\r\n\r\nOverall, the logic works as expected as long as data flows through the pipeline. But if I send a single batch of data, no output is produced unless a new batch of events ***pushes*** the data out, probably by advancing the watermarks.\r\n\r\nMy goal is to make sure that any data that enters the stream comes out as fast as possible, even if no events are sent afterwards. I have been trying different combinations of `WatermarkStrategy` without luck (which is where I believe my problem is located).\r\n\r\nIs there any way to achieve this ?","title":"Three-way join with Tumbling window on Apache Flink","body":"<p>I have a single source stream that contains 3 different types of events. For each event type, I need some of their fields.</p>\n<p>Then, I need to emit an enriched result of a new event type, made of the parts of the other 3 events</p>\n<pre><code>source (A, B, C) -&gt;  sink (D)\n</code></pre>\n<p>There is a field that can be used to join A and B, and another field that can be used to join (A + B) and C</p>\n<p><strong>What I have so far</strong></p>\n<p>The main code I am using for the processing pipeline looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>       /*\n        * Use event time processing\n        */\n\n        env.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\n        env.getConfig().setAutoWatermarkInterval(5000);\n\n\n        final DataStream&lt;BaseEvent&gt; inputStream = env\n                .addSource(eventSource)\n\n       /*\n        * Assign watermarks\n        */\n       final DataStream&lt;BaseEvent&gt; sortedInputStream = inputStream\n               .assignTimestampsAndWatermarks(WatermarkStrategy\n                       .&lt;BaseEvent&gt;forBoundedOutOfOrderness(Duration.ofSeconds(30))\n                       .withTimestampAssigner((event, timestamp) -&gt; event.getEventTimestamp())\n                       .withIdleness(Duration.ofSeconds(30)));\n        \n        /*\n         * Filter events by type and fork into separate streams\n         */\n        final DataStream&lt;TypeOneEven&gt; typeOneStream = sortedInputStream\n                .filter(e -&gt; TYPE_ONE.toString().equals(e.getEventType()))\n                .keyBy(new BaseEventKeySelector&lt;&gt;())\n                .map(baseEventToTypeOneEventMapFunction)\n                .keyBy(new TypeOneEventKeySelector());\n\n        final DataStream&lt;TypeTwoEvent&gt; typeTwoStream = sortedInputStream\n                .filter(e -&gt; TYPE_TWO.toString().equals(e.getEventType()))\n                .keyBy(new BaseEventKeySelector&lt;&gt;())\n                .map(baseEventToTypeTwoEventMapFunction)\n                .keyBy(new TypeTwoEventKeySelector());\n\n        final DataStream&lt;TypeThreeEvent&gt; typeThreeStream = sortedInputStream\n                .filter(e -&gt; TYPE_THREE.toString().equals(e.getEventType()))\n                .keyBy(new BaseEventKeySelector&lt;&gt;())\n                .map(baseEventToTypeThreeEventMapFunction)\n                .keyBy(new TypeThreeEventKeySelector());\n\n        /*\n         * Join TypeOne and TypeTwo on interaction\n         */\n        final DataStream&lt;Tuple2&lt;TypeOneEven, TypeTwoEvent&gt;&gt; firstJoin = typeOneStream\n                .join(typeTwoStream)\n                .where(new TypeOneEventKeySelector())\n                .equalTo(new TypeTwoEventKeySelector())\n                .window(TumblingEventTimeWindows.of(Time.minutes(1)))\n                .apply(new TypeOneTypeTwoJoinFunction());\n\n        /*\n         * Join previous stream with TypeThree\n         */\n        final DataStream&lt;Tuple3&lt;TypeOneEven, TypeTwoEvent, TypeThreeEvent&gt;&gt; secondJoin = firstJoin\n                .join(typeThreeStream)\n                .where(new TypeOneTypeTwoKeySelector())\n                .equalTo(new TypeThreeKeySelector())\n                .window(TumblingEventTimeWindows.of(Time.minutes(1)))\n                .apply(new AllTypesJoinFunction());\n\n        /*\n         * Convert join results into EnrichedType events, send to sink\n         */\n        secondJoin\n                .map(enrichedEventMapFunction)\n                .addSink(enrichedEventSink);\n</code></pre>\n<p>All Map functions are <code>RichMapFunction&lt;IN, OUT&gt;</code> that convert BaseEvent to a concrete type.</p>\n<p>All Join functions are <code>JoinFunction&lt;IN1, IN2, OUT&gt;</code> that generate tuples based on the input.</p>\n<p>The last <code>enrichedEventMapFunction</code> is a <code>RichMapFunction&lt;IN, OUT&gt;</code> that takes care of grabbing the fields from the tuple elements to build a <code>EnrichedTypeEvent</code>.</p>\n<p><strong>The problem</strong></p>\n<p>Overall, the logic works as expected as long as data flows through the pipeline. But if I send a single batch of data, no output is produced unless a new batch of events <em><strong>pushes</strong></em> the data out, probably by advancing the watermarks.</p>\n<p>My goal is to make sure that any data that enters the stream comes out as fast as possible, even if no events are sent afterwards. I have been trying different combinations of <code>WatermarkStrategy</code> without luck (which is where I believe my problem is located).</p>\n<p>Is there any way to achieve this ?</p>\n"},{"tags":["java","xml","serialization"],"comments":[{"owner":{"account_id":238570,"reputation":8889,"user_id":507546,"accept_rate":88,"display_name":"gigadot"},"score":0,"creation_date":1348871081,"post_id":12648125,"comment_id":17060293,"body_markdown":"have a look at Gson, https://code.google.com/p/google-gson/","body":"have a look at Gson, <a href=\"https://code.google.com/p/google-gson/\" rel=\"nofollow noreferrer\">code.google.com/p/google-gson</a>"},{"owner":{"account_id":334987,"reputation":9182,"user_id":661797,"accept_rate":88,"display_name":"nullpotent"},"score":0,"creation_date":1348871283,"post_id":12648125,"comment_id":17060336,"body_markdown":"Or http://docs.oracle.com/javase/1.4.2/docs/api/org/w3c/dom/package-summary.html","body":"Or <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/org/w3c/dom/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.4.2/docs/api/org/w3c/dom/&hellip;</a>"},{"owner":{"account_id":467918,"reputation":2755,"user_id":873580,"accept_rate":75,"display_name":"questborn"},"score":0,"creation_date":1348871622,"post_id":12648125,"comment_id":17060425,"body_markdown":"@Gopal Did you have a look at this post? http://stackoverflow.com/questions/11001458/json-java-object-to-json","body":"@Gopal Did you have a look at this post? <a href=\"http://stackoverflow.com/questions/11001458/json-java-object-to-json\" title=\"json java object to json\">stackoverflow.com/questions/11001458/json-java-object-to-jso&zwnj;&#8203;n</a>"},{"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"score":0,"creation_date":1348872289,"post_id":12648125,"comment_id":17060570,"body_markdown":"I would recommend having multiple `person` elements instead of elements called `person1`, `person2`, etc.","body":"I would recommend having multiple <code>person</code> elements instead of elements called <code>person1</code>, <code>person2</code>, etc."}],"answers":[{"tags":[],"owner":{"account_id":35612,"reputation":61,"user_id":100917,"display_name":"Fredrik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348871475,"creation_date":1348871475,"answer_id":12648199,"question_id":12648125,"body_markdown":"I have used [XStream][1] for this many times. \r\n\r\n\r\n  [1]: http://xstream.codehaus.org/","title":"Writing data from objects in Java into an XML-file","body":"<p>I have used <a href=\"http://xstream.codehaus.org/\" rel=\"nofollow\">XStream</a> for this many times. </p>\n"},{"tags":[],"owner":{"account_id":427450,"reputation":966,"user_id":809230,"accept_rate":97,"display_name":"pidabrow"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348871631,"creation_date":1348871631,"answer_id":12648215,"question_id":12648125,"body_markdown":"You could also use Serialization and XML-Parser (DOM for example). If you create an XML document then you can use XPath for querying.\r\n\r\nI&#39;d also consider on using [http://simple.sourceforge.net/][1]\r\n\r\n\r\n  [1]: http://simple.sourceforge.net/ &quot;Simple&quot;","title":"Writing data from objects in Java into an XML-file","body":"<p>You could also use Serialization and XML-Parser (DOM for example). If you create an XML document then you can use XPath for querying.</p>\n\n<p>I'd also consider on using <a href=\"http://simple.sourceforge.net/\" rel=\"nofollow\" title=\"Simple\">http://simple.sourceforge.net/</a></p>\n"},{"tags":[],"owner":{"account_id":1795554,"reputation":3616,"user_id":1635014,"accept_rate":53,"display_name":"srk"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1348871763,"creation_date":1348871763,"answer_id":12648232,"question_id":12648125,"body_markdown":"I guess you are looking for java-xml binding. You can JAXB binding and marshall.\r\nPlease check the link  http://www.mkyong.com/java/jaxb-hello-world-example/ for sample.","title":"Writing data from objects in Java into an XML-file","body":"<p>I guess you are looking for java-xml binding. You can JAXB binding and marshall.\nPlease check the link  <a href=\"http://www.mkyong.com/java/jaxb-hello-world-example/\" rel=\"nofollow\">http://www.mkyong.com/java/jaxb-hello-world-example/</a> for sample.</p>\n"},{"tags":[],"owner":{"account_id":1873245,"reputation":2149,"user_id":1695029,"accept_rate":50,"display_name":"Gopal Samant"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471583637,"creation_date":1348876151,"answer_id":12648692,"question_id":12648125,"body_markdown":"checking out at the code in your link i implemented it for my code. The code is as follows. I can write xml data only for one object and if I loop it just writes the last object. So when I tried to used the file in append mode it stopped functioning :\r\n\r\n    try {\r\n        FileOutputStream file = new FileOutputStream(&quot;file.xml&quot;, true);\r\n        JAXBContext jaxbContext = JAXBContext.newInstance(NeuronNode.class);\r\n        Marshaller jaxbMarshaller = jaxbContext.createMarshaller();\r\n\t \r\n        // output pretty printed\r\n        jaxbMarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\t \r\n\t\t\t\r\n        for(int i=0; i&lt;neuronNodes.length; i++)\r\n        {\r\n            jaxbMarshaller.marshal(neuronNodes[i], file);\r\n            jaxbMarshaller.marshal(neuronNodes[i], System.out);\r\n        }\r\n\t \r\n    } catch (JAXBException e | IOException e) {\r\n        e.printStackTrace();\r\n    }","title":"Writing data from objects in Java into an XML-file","body":"<p>checking out at the code in your link i implemented it for my code. The code is as follows. I can write xml data only for one object and if I loop it just writes the last object. So when I tried to used the file in append mode it stopped functioning :</p>\n\n<pre><code>try {\n    FileOutputStream file = new FileOutputStream(\"file.xml\", true);\n    JAXBContext jaxbContext = JAXBContext.newInstance(NeuronNode.class);\n    Marshaller jaxbMarshaller = jaxbContext.createMarshaller();\n\n    // output pretty printed\n    jaxbMarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n\n\n    for(int i=0; i&lt;neuronNodes.length; i++)\n    {\n        jaxbMarshaller.marshal(neuronNodes[i], file);\n        jaxbMarshaller.marshal(neuronNodes[i], System.out);\n    }\n\n} catch (JAXBException e | IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15012948,"reputation":926,"user_id":10837620,"display_name":"Atul KS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546398442,"creation_date":1546398442,"answer_id":54000787,"question_id":12648125,"body_markdown":"Have sorted out this problem using **Jackson Library and XMLMapper method**. Here is the code for the same.\r\n\r\n      **MainClass.java:-**\r\n\r\n      import java.io.IOException;\r\n\r\n      import com.fasterxml.jackson.databind.ObjectMapper;\r\n      import com.fasterxml.jackson.databind.SerializationFeature;\r\n      import com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\n\r\n       public class MainClass {\r\n\r\n\t   public static void main(String[] args) throws IOException {\r\n\r\n\t\tString xmlString = &quot;   &lt;Person&gt;\\r\\n&quot; + &quot;       &lt;person1&gt;\\r\\n&quot; + &quot;           \r\n            &lt;name&gt;abc&lt;/name&gt;\\r\\n&quot;\r\n\t\t\t\t+ &quot;           &lt;age&gt;23&lt;/age&gt;\\r\\n&quot; + &quot;       &lt;/person1&gt;\\r\\n&quot; + &quot;       \r\n            &lt;person2&gt;\\r\\n&quot;\r\n\t\t\t\t+ &quot;           &lt;name&gt;abc&lt;/name&gt;\\r\\n&quot; + &quot;           &lt;age&gt;23&lt;/age&gt;\\r\\n&quot; + &quot;       \r\n           &lt;/person2&gt;\\r\\n&quot;\r\n\t\t\t\t+ &quot;   &lt;/Person&gt;&quot;;\r\n\r\n\t\tObjectMapper xmlMapper = new XmlMapper();\r\n\t\txmlMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n\r\n\t\tPerson1 person1 = new Person1();\r\n\t\tperson1.setName(&quot;abc&quot;);\r\n\t\tperson1.setAge(&quot;23&quot;);\r\n\r\n\t\tPerson2 person2 = new Person2();\r\n\t\tperson2.setName(&quot;xyz&quot;);\r\n\t\tperson2.setAge(&quot;32&quot;);\r\n\r\n\t\tPerson person = new Person();\r\n\t\tperson.setPerson1(person1);\r\n\t\tperson.setPerson2(person2);\r\n\r\n\t\tString XMLStr = xmlMapper.writeValueAsString(person);\r\n\r\n\t\tSystem.out.println(XMLStr);\r\n\r\n\t} }\r\n\r\n        **Person.java:-**\r\n\r\n       public class Person {\r\n    \tPerson1 Person1Object;\r\n\t    Person2 Person2Object;\r\n\r\n\t// Getter Methods\r\n\r\n\tpublic Person1 getPerson1() {\r\n\t\treturn Person1Object;\r\n\t}\r\n\r\n\tpublic Person2 getPerson2() {\r\n\t\treturn Person2Object;\r\n\t}\r\n\r\n\t// Setter Methods\r\n\r\n\tpublic void setPerson1(Person1 person1Object) {\r\n\t\tthis.Person1Object = person1Object;\r\n\t}\r\n\r\n\tpublic void setPerson2(Person2 person2Object) {\r\n\t\tthis.Person2Object = person2Object;\r\n\t   } }\r\n\r\n     **Person1.java:-**\r\n    public class Person1 {\r\n\tprivate String name;\r\n\tprivate String age;\r\n\r\n\t// Getter Methods\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic String getAge() {\r\n\t\treturn age;\r\n\t}\r\n\r\n\t// Setter Methods\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic void setAge(String age) {\r\n\t\tthis.age = age;\r\n\t} }\r\n\r\n      **Person2.java:-**\r\n\r\n      public class Person2 {\r\n\tprivate String name;\r\n\tprivate String age;\r\n\r\n\t// Getter Methods\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic String getAge() {\r\n\t\treturn age;\r\n\t}\r\n\r\n\t// Setter Methods\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic void setAge(String age) {\r\n\t\tthis.age = age;\r\n\t} }\r\n\r\n      **OUTPUT:-**\r\n\r\n           &lt;Person&gt;\r\n             &lt;person1&gt;\r\n                  &lt;name&gt;abc&lt;/name&gt;\r\n                  &lt;age&gt;23&lt;/age&gt;\r\n            &lt;/person1&gt;\r\n             &lt;person2&gt;\r\n                  &lt;name&gt;xyz&lt;/name&gt;\r\n                  &lt;age&gt;32&lt;/age&gt;\r\n            &lt;/person2&gt;\r\n          &lt;/Person&gt;\r\n     ","title":"Writing data from objects in Java into an XML-file","body":"<p>Have sorted out this problem using <strong>Jackson Library and XMLMapper method</strong>. Here is the code for the same.</p>\n\n<pre><code>  **MainClass.java:-**\n\n  import java.io.IOException;\n\n  import com.fasterxml.jackson.databind.ObjectMapper;\n  import com.fasterxml.jackson.databind.SerializationFeature;\n  import com.fasterxml.jackson.dataformat.xml.XmlMapper;\n\n   public class MainClass {\n\n   public static void main(String[] args) throws IOException {\n\n    String xmlString = \"   &lt;Person&gt;\\r\\n\" + \"       &lt;person1&gt;\\r\\n\" + \"           \n        &lt;name&gt;abc&lt;/name&gt;\\r\\n\"\n            + \"           &lt;age&gt;23&lt;/age&gt;\\r\\n\" + \"       &lt;/person1&gt;\\r\\n\" + \"       \n        &lt;person2&gt;\\r\\n\"\n            + \"           &lt;name&gt;abc&lt;/name&gt;\\r\\n\" + \"           &lt;age&gt;23&lt;/age&gt;\\r\\n\" + \"       \n       &lt;/person2&gt;\\r\\n\"\n            + \"   &lt;/Person&gt;\";\n\n    ObjectMapper xmlMapper = new XmlMapper();\n    xmlMapper.enable(SerializationFeature.INDENT_OUTPUT);\n\n    Person1 person1 = new Person1();\n    person1.setName(\"abc\");\n    person1.setAge(\"23\");\n\n    Person2 person2 = new Person2();\n    person2.setName(\"xyz\");\n    person2.setAge(\"32\");\n\n    Person person = new Person();\n    person.setPerson1(person1);\n    person.setPerson2(person2);\n\n    String XMLStr = xmlMapper.writeValueAsString(person);\n\n    System.out.println(XMLStr);\n\n} }\n\n    **Person.java:-**\n\n   public class Person {\n    Person1 Person1Object;\n    Person2 Person2Object;\n\n// Getter Methods\n\npublic Person1 getPerson1() {\n    return Person1Object;\n}\n\npublic Person2 getPerson2() {\n    return Person2Object;\n}\n\n// Setter Methods\n\npublic void setPerson1(Person1 person1Object) {\n    this.Person1Object = person1Object;\n}\n\npublic void setPerson2(Person2 person2Object) {\n    this.Person2Object = person2Object;\n   } }\n\n **Person1.java:-**\npublic class Person1 {\nprivate String name;\nprivate String age;\n\n// Getter Methods\n\npublic String getName() {\n    return name;\n}\n\npublic String getAge() {\n    return age;\n}\n\n// Setter Methods\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic void setAge(String age) {\n    this.age = age;\n} }\n\n  **Person2.java:-**\n\n  public class Person2 {\nprivate String name;\nprivate String age;\n\n// Getter Methods\n\npublic String getName() {\n    return name;\n}\n\npublic String getAge() {\n    return age;\n}\n\n// Setter Methods\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic void setAge(String age) {\n    this.age = age;\n} }\n\n  **OUTPUT:-**\n\n       &lt;Person&gt;\n         &lt;person1&gt;\n              &lt;name&gt;abc&lt;/name&gt;\n              &lt;age&gt;23&lt;/age&gt;\n        &lt;/person1&gt;\n         &lt;person2&gt;\n              &lt;name&gt;xyz&lt;/name&gt;\n              &lt;age&gt;32&lt;/age&gt;\n        &lt;/person2&gt;\n      &lt;/Person&gt;\n</code></pre>\n"}],"owner":{"account_id":1873245,"reputation":2149,"user_id":1695029,"accept_rate":50,"display_name":"Gopal Samant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16071,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":12648232,"answer_count":5,"score":1,"last_activity_date":1677574455,"creation_date":1348870961,"question_id":12648125,"body_markdown":"I have a piece of code as follows : \r\n\r\n    Person person1 = new Person();\r\n    person1.setName(&quot;abc&quot;);\r\n    person1.setAge(23);\r\n \r\n    Person person2 = new Person();\r\n    person2.setName(&quot;xyz&quot;);\r\n    person2.setAge(32);\r\n\r\nAnd it needs to be represented in an XML-file as:\r\n       \r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;Person&gt;\r\n        &lt;person1&gt;\r\n            &lt;name&gt;abc&lt;/name&gt;\r\n            &lt;age&gt;23&lt;/age&gt;\r\n        &lt;/person1&gt;\r\n        &lt;person2&gt;\r\n            &lt;name&gt;abc&lt;/name&gt;\r\n            &lt;age&gt;23&lt;/age&gt;\r\n        &lt;/person2&gt;\r\n    &lt;/Person&gt;\r\n\r\nHow do I do it?","title":"Writing data from objects in Java into an XML-file","body":"<p>I have a piece of code as follows :</p>\n<pre><code>Person person1 = new Person();\nperson1.setName(&quot;abc&quot;);\nperson1.setAge(23);\n\nPerson person2 = new Person();\nperson2.setName(&quot;xyz&quot;);\nperson2.setAge(32);\n</code></pre>\n<p>And it needs to be represented in an XML-file as:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Person&gt;\n    &lt;person1&gt;\n        &lt;name&gt;abc&lt;/name&gt;\n        &lt;age&gt;23&lt;/age&gt;\n    &lt;/person1&gt;\n    &lt;person2&gt;\n        &lt;name&gt;abc&lt;/name&gt;\n        &lt;age&gt;23&lt;/age&gt;\n    &lt;/person2&gt;\n&lt;/Person&gt;\n</code></pre>\n<p>How do I do it?</p>\n"},{"tags":["java","dependencies","uml","jdeps"],"owner":{"account_id":26130435,"reputation":53,"user_id":19822109,"display_name":"Ashwin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677574063,"creation_date":1677574063,"question_id":75589697,"body_markdown":"I am trying to get a UML-style graph of my module. I tried the verbose class option but it still does not show the relationship between one class and another class within the same module.\r\n\r\n    jdeps -verbose:class classes.jar\r\n\r\n    com.package.module.MyClassOne -&gt; java.lang.Boolean\r\n    com.package.module.MyClassOne -&gt; java.lang.String\r\n    com.package.module.MyClassTwo -&gt; java.lang.Object\r\n\r\nWhat I want to view is:\r\n\r\n    com.package.module.MyClassOne -&gt; com.package.module.MyClassTwo\r\n    com.package.module.MyClassOne -&gt; com.package.module.MyClassThree\r\n\r\nIs this output possible with JDeps?","title":"Can JDeps show dependency of one class on another class within the same module/package?","body":"<p>I am trying to get a UML-style graph of my module. I tried the verbose class option but it still does not show the relationship between one class and another class within the same module.</p>\n<pre><code>jdeps -verbose:class classes.jar\n\ncom.package.module.MyClassOne -&gt; java.lang.Boolean\ncom.package.module.MyClassOne -&gt; java.lang.String\ncom.package.module.MyClassTwo -&gt; java.lang.Object\n</code></pre>\n<p>What I want to view is:</p>\n<pre><code>com.package.module.MyClassOne -&gt; com.package.module.MyClassTwo\ncom.package.module.MyClassOne -&gt; com.package.module.MyClassThree\n</code></pre>\n<p>Is this output possible with JDeps?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677577120,"post_id":75588897,"comment_id":133360815,"body_markdown":"No. In a generic method the type argument (what `T` translates to) must be a reference type, it cannot be a primitive such as `int`. There have been talks about introducing type parameters that can also be primitive, but I don’t know whether anything will come out of it or when.","body":"No. In a generic method the type argument (what <code>T</code> translates to) must be a reference type, it cannot be a primitive such as <code>int</code>. There have been talks about introducing type parameters that can also be primitive, but I don’t know whether anything will come out of it or when."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677579912,"post_id":75588897,"comment_id":133361606,"body_markdown":"Related and maybe helpful: [How to sort an array of ints using a custom comparator?](https://stackoverflow.com/questions/3699141/how-to-sort-an-array-of-ints-using-a-custom-comparator)","body":"Related and maybe helpful: <a href=\"https://stackoverflow.com/questions/3699141/how-to-sort-an-array-of-ints-using-a-custom-comparator\">How to sort an array of ints using a custom comparator?</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677579995,"post_id":75588897,"comment_id":133361627,"body_markdown":"A possible workaround would be if you can declare your array `Integer[]` rather than `int[]`.","body":"A possible workaround would be if you can declare your array <code>Integer[]</code> rather than <code>int[]</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677650459,"post_id":75588897,"comment_id":133377778,"body_markdown":"One reason why this is impossible or at least unsuitable: the `Comparator&lt;T&gt;` interface is generic and takes a type argument representing the type of items to be compared, and in Java that needs to a reference type. There is no such thing as a comparator comparing `int` values. You would at the least need to use a `Comparator&lt;Integer&gt;` and box each `int` for each comparison.","body":"One reason why this is impossible or at least unsuitable: the <code>Comparator&lt;T&gt;</code> interface is generic and takes a type argument representing the type of items to be compared, and in Java that needs to a reference type. There is no such thing as a comparator comparing <code>int</code> values. You would at the least need to use a <code>Comparator&lt;Integer&gt;</code> and box each <code>int</code> for each comparison."}],"answers":[{"tags":[],"owner":{"account_id":27495201,"reputation":762,"user_id":20979816,"display_name":"Lemonina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677568888,"creation_date":1677568888,"answer_id":75588942,"question_id":75588897,"body_markdown":"`Arrays.sort` expects an array of objects, not an array of primitive types like int[]. Maybe use an `Integer[]` array instead of an int[] array to sort based on the string value.\r\n```\r\nInteger[] nums = new Integer[]{9, 12, 67};\r\nArrays.sort(nums, (i, j) -&gt; String.valueOf(j).compareTo(String.valueOf(i)));\r\nSystem.out.println(Arrays.toString(nums)); // prints [67, 12, 9]\r\n```\r\nyou can also use a `List&lt;Integer&gt;` and `Collections.sort` to sort the list:\r\n```\r\nList&lt;Integer&gt; nums = Arrays.asList(9, 12, 67);\r\nCollections.sort(nums, Comparator.comparingInt(i -&gt; Integer.parseInt(String.valueOf(i)), Comparator.reverseOrder()));\r\nSystem.out.println(nums); // prints [67, 12, 9]\r\n```","title":"Is it possible to sort an int[] array base on element string order with `Arrays.sort(T[] a, Comparator&lt;? super T&gt; c)`?","body":"<p><code>Arrays.sort</code> expects an array of objects, not an array of primitive types like int[]. Maybe use an <code>Integer[]</code> array instead of an int[] array to sort based on the string value.</p>\n<pre><code>Integer[] nums = new Integer[]{9, 12, 67};\nArrays.sort(nums, (i, j) -&gt; String.valueOf(j).compareTo(String.valueOf(i)));\nSystem.out.println(Arrays.toString(nums)); // prints [67, 12, 9]\n</code></pre>\n<p>you can also use a <code>List&lt;Integer&gt;</code> and <code>Collections.sort</code> to sort the list:</p>\n<pre><code>List&lt;Integer&gt; nums = Arrays.asList(9, 12, 67);\nCollections.sort(nums, Comparator.comparingInt(i -&gt; Integer.parseInt(String.valueOf(i)), Comparator.reverseOrder()));\nSystem.out.println(nums); // prints [67, 12, 9]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1677572604,"post_id":75588978,"comment_id":133359536,"body_markdown":"@user16320675 My English is not very good, I don&#39;t know if I can express clearly.what  I mean is, if int[] is allowed, then it must be accepted that T will be deduced to be of type int, which is not allowed.","body":"@user16320675 My English is not very good, I don&#39;t know if I can express clearly.what  I mean is, if int[] is allowed, then it must be accepted that T will be deduced to be of type int, which is not allowed."}],"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677573352,"creation_date":1677569192,"answer_id":75588978,"question_id":75588897,"body_markdown":"cannot use primitive types！like int、float、long....!\r\n\r\nin `Arrays.sort(T[] a, Comparator&lt;? super T&gt; c)`, `T[] &lt;=&gt; int[]`,`int[]` is not primitive type, but if you use `int[]` ,  in `Comparator&lt;? super T&gt;`, that `T` will be inferred to be of type `int`.\r\n\r\nYou can try to declare a variable of type `Comparator&lt;? super int&gt;` to see the effect.\r\n\r\n    Comparator&lt;? super int&gt; aaa;\r\n\r\nThis is not allowed.","title":"Is it possible to sort an int[] array base on element string order with `Arrays.sort(T[] a, Comparator&lt;? super T&gt; c)`?","body":"<p>cannot use primitive types！like int、float、long....!</p>\n<p>in <code>Arrays.sort(T[] a, Comparator&lt;? super T&gt; c)</code>, <code>T[] &lt;=&gt; int[]</code>,<code>int[]</code> is not primitive type, but if you use <code>int[]</code> ,  in <code>Comparator&lt;? super T&gt;</code>, that <code>T</code> will be inferred to be of type <code>int</code>.</p>\n<p>You can try to declare a variable of type <code>Comparator&lt;? super int&gt;</code> to see the effect.</p>\n<pre><code>Comparator&lt;? super int&gt; aaa;\n</code></pre>\n<p>This is not allowed.</p>\n"}],"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75588978,"answer_count":2,"score":0,"last_activity_date":1677573352,"creation_date":1677568492,"question_id":75588897,"body_markdown":"I want to sort an int array base on element&#39;s String value&#39;s reverser order.\r\n\r\nI can do it like:\r\n```\r\nint[] nums = new int[]{9, 12, 67};\r\nvar list = Arrays.stream(nums).mapToObj(String::valueOf).sorted(Comparator.reverseOrder()).toList();\r\n```\r\nThinking of simple `Arrays.sort(nums)`&#39;s performance far better than streaming api for large int[], I tried:\r\n```\r\nArrays.sort(nums, (i, j) -&gt; String.valueOf(j).compareTo(String.valueOf(i)));\r\n```\r\nit&#39;s an error:\r\n&gt; reason: no instance(s) of type variable(s) T exist so that int[] conforms to T[]\r\n\r\nCan I resolve this error ?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PSLE2.png\r\n\r\n","title":"Is it possible to sort an int[] array base on element string order with `Arrays.sort(T[] a, Comparator&lt;? super T&gt; c)`?","body":"<p>I want to sort an int array base on element's String value's reverser order.</p>\n<p>I can do it like:</p>\n<pre><code>int[] nums = new int[]{9, 12, 67};\nvar list = Arrays.stream(nums).mapToObj(String::valueOf).sorted(Comparator.reverseOrder()).toList();\n</code></pre>\n<p>Thinking of simple <code>Arrays.sort(nums)</code>'s performance far better than streaming api for large int[], I tried:</p>\n<pre><code>Arrays.sort(nums, (i, j) -&gt; String.valueOf(j).compareTo(String.valueOf(i)));\n</code></pre>\n<p>it's an error:</p>\n<blockquote>\n<p>reason: no instance(s) of type variable(s) T exist so that int[] conforms to T[]</p>\n</blockquote>\n<p>Can I resolve this error ?</p>\n<p><a href=\"https://i.stack.imgur.com/PSLE2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PSLE2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":15948581,"reputation":1,"user_id":11508464,"display_name":"Daemonsoadfan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677573331,"creation_date":1677573227,"answer_id":75589586,"question_id":75571415,"body_markdown":"I&#39;ve found out, the issue was that locally we were using a property:\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.Oracle10gDialect\r\n\r\nOn the 19 oracle DB.\r\n\r\nThe property was not used on other environments.","title":"SecondaryTable annotation is working locally but not on test environment","body":"<p>I've found out, the issue was that locally we were using a property:</p>\n<p>spring.jpa.database-platform=org.hibernate.dialect.Oracle10gDialect</p>\n<p>On the 19 oracle DB.</p>\n<p>The property was not used on other environments.</p>\n"}],"owner":{"account_id":15948581,"reputation":1,"user_id":11508464,"display_name":"Daemonsoadfan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75589586,"answer_count":1,"score":0,"last_activity_date":1677573331,"creation_date":1677408039,"question_id":75571415,"body_markdown":"So we are in Java 8 (v202 on test env, 230 to 301 locally) and we use spring boot 1.5.4.RELEASE / hibernate (5.0.12) / jpa 2.1.\r\n\r\nWe have a class like this:\r\n\r\n```\r\n@Entity\r\n@SecondaryTable(name = &quot;FOO_BAR&quot;)\r\n@org.hibernate.annotations.Table(appliesTo = &quot;foo_bar&quot;, optional = false)\r\n@DiscriminatorValue(MyEnum.Values.MY_DISCRIMINATOR)\r\npublic class FooBar extends FooBarParent{\r\n\r\n@Column(name = &quot;COLUMN_NAME_OF_PRIMARY_TABLE_FOR_FIELD_A&quot;)\r\nprivate Long FIELD_A;\r\n\r\n@Column(table= &quot;FOO_BAR&quot;, name = &quot;COLUMN_NAME_OF_SECONDARY_TABLE_FOR_FIELD_B&quot;)\r\nprivate String FIELD_B;\r\n```\r\nThe script for secondary table is:\r\n\r\n```\r\nCREATE TABLE FOO_BAR\r\n(\r\n    ID                            NUMBER PRIMARY KEY,\r\n    TOTO                          VARCHAR2(10)\r\n);\r\n\r\nALTER TABLE FOO_BAR\r\n    ADD CONSTRAINT FK_FOO_BAR_PARENT FOREIGN KEY (ID) REFERENCES FOO_BAR_PARENT(ID);\r\n```\r\n\r\nThis whole inheritance system is working well, but we recently added the secondary table annotation. It is working locally: on adding a FooBar in the database, it adds a row in the secondary table. \r\nOn reading another child of FooBarParent (let&#39;s call it FooBar2), it&#39;s also working locally, it doesn&#39;t care about the secondary table which concerns FooBar and not FooBar2.\r\n\r\nIt&#39;s also working locally for my coworker.\r\nIt&#39;s also working locally with the database of the Test Environment, so even the data is the same, it&#39;s working.\r\n\r\nBut as soon as we test in our Test environments (actually, on all test environments), the code is not working anymore. It&#39;s like a heisenbug as we cannot debug it ...\r\n\r\nThe unexpected result in Test environments is that when you try to read a list of FooBar2, it will produce duplicates. So you will read as many FooBar2 as there is rows in the SecondaryTable. Which is stupid since it&#39;s not even supposed to look in there in the first place since it&#39;s a secondary table for FooBar not FooBar2. \r\n\r\nWe assume it&#39;s doing a left join or something like that.\r\n\r\nadding the \r\n```\r\n@org.hibernate.annotations.Table(appliesTo = &quot;foo_bar&quot;, optional = false) \r\n```\r\ndidn&#39;t help.\r\nWe also tried with an other column name and \r\n```\r\n@SecondaryTable(name = &quot;FOO_BAR&quot;, pkJoinColumns = {@PrimaryKeyJoinColumn(name = &quot;OTHER_COLUMN_NAME_IN_FOO_BAR_ID&quot;, referencedColumnName = &quot;ID&quot;)})\r\n```\r\nWe also tried by not having a primary key that is also a foreign key, same.\r\n\r\nResult is always the same, working locally, not after.\r\n\r\nSo we are starting to think maybe it&#39;s an issue with hibernate version or properties linked to hibernate which might change from local, or the version of the jvm... \r\n\r\nAnyone has an idea?\r\n\r\nThanks in advance","title":"SecondaryTable annotation is working locally but not on test environment","body":"<p>So we are in Java 8 (v202 on test env, 230 to 301 locally) and we use spring boot 1.5.4.RELEASE / hibernate (5.0.12) / jpa 2.1.</p>\n<p>We have a class like this:</p>\n<pre><code>@Entity\n@SecondaryTable(name = &quot;FOO_BAR&quot;)\n@org.hibernate.annotations.Table(appliesTo = &quot;foo_bar&quot;, optional = false)\n@DiscriminatorValue(MyEnum.Values.MY_DISCRIMINATOR)\npublic class FooBar extends FooBarParent{\n\n@Column(name = &quot;COLUMN_NAME_OF_PRIMARY_TABLE_FOR_FIELD_A&quot;)\nprivate Long FIELD_A;\n\n@Column(table= &quot;FOO_BAR&quot;, name = &quot;COLUMN_NAME_OF_SECONDARY_TABLE_FOR_FIELD_B&quot;)\nprivate String FIELD_B;\n</code></pre>\n<p>The script for secondary table is:</p>\n<pre><code>CREATE TABLE FOO_BAR\n(\n    ID                            NUMBER PRIMARY KEY,\n    TOTO                          VARCHAR2(10)\n);\n\nALTER TABLE FOO_BAR\n    ADD CONSTRAINT FK_FOO_BAR_PARENT FOREIGN KEY (ID) REFERENCES FOO_BAR_PARENT(ID);\n</code></pre>\n<p>This whole inheritance system is working well, but we recently added the secondary table annotation. It is working locally: on adding a FooBar in the database, it adds a row in the secondary table.\nOn reading another child of FooBarParent (let's call it FooBar2), it's also working locally, it doesn't care about the secondary table which concerns FooBar and not FooBar2.</p>\n<p>It's also working locally for my coworker.\nIt's also working locally with the database of the Test Environment, so even the data is the same, it's working.</p>\n<p>But as soon as we test in our Test environments (actually, on all test environments), the code is not working anymore. It's like a heisenbug as we cannot debug it ...</p>\n<p>The unexpected result in Test environments is that when you try to read a list of FooBar2, it will produce duplicates. So you will read as many FooBar2 as there is rows in the SecondaryTable. Which is stupid since it's not even supposed to look in there in the first place since it's a secondary table for FooBar not FooBar2.</p>\n<p>We assume it's doing a left join or something like that.</p>\n<p>adding the</p>\n<pre><code>@org.hibernate.annotations.Table(appliesTo = &quot;foo_bar&quot;, optional = false) \n</code></pre>\n<p>didn't help.\nWe also tried with an other column name and</p>\n<pre><code>@SecondaryTable(name = &quot;FOO_BAR&quot;, pkJoinColumns = {@PrimaryKeyJoinColumn(name = &quot;OTHER_COLUMN_NAME_IN_FOO_BAR_ID&quot;, referencedColumnName = &quot;ID&quot;)})\n</code></pre>\n<p>We also tried by not having a primary key that is also a foreign key, same.</p>\n<p>Result is always the same, working locally, not after.</p>\n<p>So we are starting to think maybe it's an issue with hibernate version or properties linked to hibernate which might change from local, or the version of the jvm...</p>\n<p>Anyone has an idea?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","jackson","objectmapper"],"owner":{"account_id":23387643,"reputation":51,"user_id":17452719,"display_name":"musan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677573295,"creation_date":1677570660,"question_id":75589197,"body_markdown":"I want to use code to replace annotation conifg, this is my code\r\n\r\n```\r\n ObjectMapper mapper = new ObjectMapper();\r\n        mapper.setDefaultTyping(type);\r\n        mapper.getSubtypeResolver().registerSubtypes(new NamedType(Node.class, &quot;Node&quot;));\r\n        mapper.getSubtypeResolver().registerSubtypes(new NamedType(SubNode.class, &quot;SubNode&quot;));\r\n        mapper.getSubtypeResolver().registerSubtypes(new NamedType(Attr.class, &quot;Attr&quot;));\r\n        mapper.getSubtypeResolver().registerSubtypes(new NamedType(SubAttr.class, &quot;SubAttr&quot;));\r\n```\r\n\r\nI know ```@JsonSubTypes({\r\n    @JsonSubTypes.Type(value = SubNode.class, name = &quot;SubNode&quot;)})``` , this is work, but I do not use it, I want to use code to config it\r\n\r\n","title":"ObjectMapper how to register SubtypeResolver","body":"<p>I want to use code to replace annotation conifg, this is my code</p>\n<pre><code> ObjectMapper mapper = new ObjectMapper();\n        mapper.setDefaultTyping(type);\n        mapper.getSubtypeResolver().registerSubtypes(new NamedType(Node.class, &quot;Node&quot;));\n        mapper.getSubtypeResolver().registerSubtypes(new NamedType(SubNode.class, &quot;SubNode&quot;));\n        mapper.getSubtypeResolver().registerSubtypes(new NamedType(Attr.class, &quot;Attr&quot;));\n        mapper.getSubtypeResolver().registerSubtypes(new NamedType(SubAttr.class, &quot;SubAttr&quot;));\n</code></pre>\n<p>I know <code>@JsonSubTypes({ @JsonSubTypes.Type(value = SubNode.class, name = &quot;SubNode&quot;)})</code> , this is work, but I do not use it, I want to use code to config it</p>\n"},{"tags":["java","unit-testing","junit","mockito","junit5"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1673943856,"post_id":75143593,"comment_id":132603746,"body_markdown":"this has nothing to do with Mockito. You test private methods by testing the methods that use them.","body":"this has nothing to do with Mockito. You test private methods by testing the methods that use them."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1673944193,"post_id":75143593,"comment_id":132603834,"body_markdown":"If you mock the method that you’re testing, then it only tests the mock and won’t provide any coverage of the class.","body":"If you mock the method that you’re testing, then it only tests the mock and won’t provide any coverage of the class."},{"owner":{"account_id":25608031,"reputation":21,"user_id":21025550,"display_name":"isagirl"},"score":0,"creation_date":1673948520,"post_id":75143593,"comment_id":132605222,"body_markdown":"what is the alternative then ? @TimMoore","body":"what is the alternative then ? @TimMoore"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1673949965,"post_id":75143593,"comment_id":132605685,"body_markdown":"@isagirl -&gt; test the methods that use that private method, for each scenario of that private method","body":"@isagirl -&gt; test the methods that use that private method, for each scenario of that private method"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1673951021,"post_id":75143593,"comment_id":132606040,"body_markdown":"@isagirl you should remove this line: `Mockito.when(fileViewerService.fetchNodes(ArgumentMatchers.any(),ArgumentMatchers.anyString(),ArgumentMatchers.anyString())).thenReturn(parentNodes);`. As a general guideline, rather than designing tests around mocking, or even around coverage reports, it’s best to start by asking: “how do I specify the behaviour of this method?” Mocking can be useful to do this, but it is only a tool for assisting in the specification of the tested class’s interactions with _other_ classes. And it’s not always the best tool for this. What does this method actually do?","body":"@isagirl you should remove this line: <code>Mockito.when(fileViewerService.fetchNodes(ArgumentMatchers.a&zwnj;&#8203;ny(),ArgumentMatcher&zwnj;&#8203;s.anyString(),Argume&zwnj;&#8203;ntMatchers.anyString&zwnj;&#8203;())).thenReturn(pare&zwnj;&#8203;ntNodes);</code>. As a general guideline, rather than designing tests around mocking, or even around coverage reports, it’s best to start by asking: “how do I specify the behaviour of this method?” Mocking can be useful to do this, but it is only a tool for assisting in the specification of the tested class’s interactions with <i>other</i> classes. And it’s not always the best tool for this. What does this method actually do?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1673951233,"post_id":75143593,"comment_id":132606094,"body_markdown":"More specifically, I agree with Stultuske. You want your test to be calling the private method (indirectly). The `fetchNodes` method doesn’t really do much other than call `transformDataMap`. You can’t usefully test the former without indirectly testing the latter.","body":"More specifically, I agree with Stultuske. You want your test to be calling the private method (indirectly). The <code>fetchNodes</code> method doesn’t really do much other than call <code>transformDataMap</code>. You can’t usefully test the former without indirectly testing the latter."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1673952742,"post_id":75143593,"comment_id":132606439,"body_markdown":"This is often a reason to make methods package-private instead of private. Test classes are usually in the same package, so they have access to these methods. But in this case I agree with what others have said - `fetchNodes` isn&#39;t actually doing anything so you can test `transformDataMap` by testing `fetchNodes`.","body":"This is often a reason to make methods package-private instead of private. Test classes are usually in the same package, so they have access to these methods. But in this case I agree with what others have said - <code>fetchNodes</code> isn&#39;t actually doing anything so you can test <code>transformDataMap</code> by testing <code>fetchNodes</code>."},{"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"score":0,"creation_date":1674641517,"post_id":75143593,"comment_id":132756088,"body_markdown":"Please show your `transformDataMap() method` because of more potential mock candidates.","body":"Please show your <code>transformDataMap() method</code> because of more potential mock candidates."}],"answers":[{"tags":[],"owner":{"account_id":4905548,"reputation":81,"user_id":3952407,"display_name":"Bodo Teichmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677573023,"creation_date":1677573023,"answer_id":75589551,"question_id":75143593,"body_markdown":"Your test code should test the `fetchNodes()` method according to the name of the test. Therefore it does not make any sense to mock this same method, otherwise you would only test, if the Mockito library works as expeced, and if you test setup code works  which is probably not what you are trying to achieve. The only thing here, which could make sense to test, would be transformDataMap(), because this seems to be the only non-trivial part in your  `fetchNodes()` method. So apearently you just need to delete the line `Mockito.when(fileViewerService...` and you are good.","title":"Junit : How to mock a private method using Mockito or how to get coverage without mocking the private method","body":"<p>Your test code should test the <code>fetchNodes()</code> method according to the name of the test. Therefore it does not make any sense to mock this same method, otherwise you would only test, if the Mockito library works as expeced, and if you test setup code works  which is probably not what you are trying to achieve. The only thing here, which could make sense to test, would be transformDataMap(), because this seems to be the only non-trivial part in your  <code>fetchNodes()</code> method. So apearently you just need to delete the line <code>Mockito.when(fileViewerService...</code> and you are good.</p>\n"}],"owner":{"account_id":25608031,"reputation":21,"user_id":21025550,"display_name":"isagirl"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677573023,"creation_date":1673943826,"question_id":75143593,"body_markdown":"    public List&lt;String&gt; fetchNodes(MultipartFile file, String content, String fileType) throws Exception {\r\n\t\tMap&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\r\n\t\tList&lt;String&gt; parentNodes = new ArrayList&lt;String&gt;();\r\n\t\ttransformDataMap(file, content, fileType, map, null, parentNodes);\r\n\t\treturn parentNodes;\r\n\t}\r\n\r\nwhete MultipartFile is an Interface and transformDataMap is a private method.\r\n\r\n       \r\n\t\r\n\r\n       @InjectMocks\r\n\tprivate FileViewerService fileViewerService;\r\n\t\r\n\t@Mock\r\n\tprivate MultipartFile multipartfile;\r\n\t\r\n\t@Test\r\n\tpublic void test_fetchNodes() throws Exception {\r\n\t\t\r\n\t\tString content = &quot;content&quot;;\r\n\t\tString fileType = &quot;TXT&quot;;\r\n\t\tMap&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\r\n\t\tJsonNode jsonNode = new ObjectMapper().readTree(&quot;{ \\&quot;json\\&quot;:\\&quot;xyz\\&quot;}&quot;);\r\n\t\tmap.put(&quot;nodemap&quot;,(Object)jsonNode.asText());\r\n\t\tMockito.when(multipartfile.getOriginalFilename()).thenReturn(&quot;test.txt&quot;);\r\n\t\t\r\n\t\tList&lt;String&gt; parentNodes = new ArrayList&lt;String&gt;();\r\n\t\tparentNodes.add(&quot;parentnode1&quot;);\r\n\t\tparentNodes.add(&quot;parentnode2&quot;);\r\n\t\t\r\n\t\t Mockito.when(fileViewerService.fetchNodes(ArgumentMatchers.any(),ArgumentMatchers.anyString(),ArgumentMatchers.anyString())).thenReturn(parentNodes);\r\n\t\r\n\t\tList&lt;String&gt; resultPNodes = fileViewerService.fetchNodes(multipartfile, content,fileType);\r\n\t\tassertEquals(parentNodes, resultPNodes);\r\n\t\r\n\t}\r\n\r\nthis is my code. I am getting error in junit when Mocking the service class using Mockito saying I cannot use ArgukmentMatchers outside stubbing.","title":"Junit : How to mock a private method using Mockito or how to get coverage without mocking the private method","body":"<pre><code>public List&lt;String&gt; fetchNodes(MultipartFile file, String content, String fileType) throws Exception {\n    Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\n    List&lt;String&gt; parentNodes = new ArrayList&lt;String&gt;();\n    transformDataMap(file, content, fileType, map, null, parentNodes);\n    return parentNodes;\n}\n</code></pre>\n<p>whete MultipartFile is an Interface and transformDataMap is a private method.</p>\n<pre><code>   @InjectMocks\nprivate FileViewerService fileViewerService;\n\n@Mock\nprivate MultipartFile multipartfile;\n\n@Test\npublic void test_fetchNodes() throws Exception {\n    \n    String content = &quot;content&quot;;\n    String fileType = &quot;TXT&quot;;\n    Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\n    JsonNode jsonNode = new ObjectMapper().readTree(&quot;{ \\&quot;json\\&quot;:\\&quot;xyz\\&quot;}&quot;);\n    map.put(&quot;nodemap&quot;,(Object)jsonNode.asText());\n    Mockito.when(multipartfile.getOriginalFilename()).thenReturn(&quot;test.txt&quot;);\n    \n    List&lt;String&gt; parentNodes = new ArrayList&lt;String&gt;();\n    parentNodes.add(&quot;parentnode1&quot;);\n    parentNodes.add(&quot;parentnode2&quot;);\n    \n     Mockito.when(fileViewerService.fetchNodes(ArgumentMatchers.any(),ArgumentMatchers.anyString(),ArgumentMatchers.anyString())).thenReturn(parentNodes);\n\n    List&lt;String&gt; resultPNodes = fileViewerService.fetchNodes(multipartfile, content,fileType);\n    assertEquals(parentNodes, resultPNodes);\n\n}\n</code></pre>\n<p>this is my code. I am getting error in junit when Mocking the service class using Mockito saying I cannot use ArgukmentMatchers outside stubbing.</p>\n"},{"tags":["java","lambda","garbage-collection"],"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1453389568,"post_id":34927171,"comment_id":57588412,"body_markdown":"What `java` version do you use? For me it prints just `sys=sun.misc.Launcher$AppClassLoader@73d16e93, lambda=sun.misc.Launcher$AppClassLoader@73d16e93\nsys=interface java.lang.Runnable, lambda=class q34927171.Play$$Lambda$1/918221580`","body":"What <code>java</code> version do you use? For me it prints just <code>sys=sun.misc.Launcher$AppClassLoader@73d16e93, lambda=sun.misc.Launcher$AppClassLoader@73d16e93 sys=interface java.lang.Runnable, lambda=class q34927171.Play$$Lambda$1&#47;918221580</code>"},{"owner":{"account_id":234026,"reputation":7237,"user_id":499922,"accept_rate":90,"display_name":"billc.cn"},"score":0,"creation_date":1453391104,"post_id":34927171,"comment_id":57589485,"body_markdown":"@Andremoniy Sorry, I actually changed the first line of the print code but forgot to update the qustion.","body":"@Andremoniy Sorry, I actually changed the first line of the print code but forgot to update the qustion."}],"answers":[{"comments":[{"owner":{"account_id":234026,"reputation":7237,"user_id":499922,"accept_rate":90,"display_name":"billc.cn"},"score":0,"creation_date":1453397357,"post_id":34928463,"comment_id":57593783,"body_markdown":"Even though the question is about unloading classes, I only actually care about breaking links to the referenced data when the lambda goes out of scope. But it seems even for a reference to static data, the reference is in the lambda instance as opposed to its class.","body":"Even though the question is about unloading classes, I only actually care about breaking links to the referenced data when the lambda goes out of scope. But it seems even for a reference to static data, the reference is in the lambda instance as opposed to its class."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1453400115,"post_id":34928463,"comment_id":57595485,"body_markdown":"@billc.cn: Of course, it’s in the instance rather than the class. The code containing the expression `test::toString` might get evaluated multiple times, with `test` containing different values, hence, capturing a different instance each time.","body":"@billc.cn: Of course, it’s in the instance rather than the class. The code containing the expression <code>test::toString</code> might get evaluated multiple times, with <code>test</code> containing different values, hence, capturing a different instance each time."}],"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453392041,"creation_date":1453392041,"answer_id":34928463,"question_id":34927171,"body_markdown":"I think you are confused about lambda class unloading here, and here is why. You have to test not `wr.get()`, because dereferencing of this `String` instance doesn&#39;t talk anything about lambda based on it. You have to make `WeakReference` for class:\r\n\r\n    ...\r\n    Runnable run = test::toString;\r\n    WeakReference&lt;Class&gt; wcr = new WeakReference&lt;Class&gt;(run.getClass());\r\n    ...\r\n\r\nand try to &quot;wait&quot; while it would be dereferenced:\r\n\r\n    while (wcr.get() != null) {\r\n       System.gc();\r\n    }\r\n\r\nSo, this loop will never be finished.\r\n","title":"Magical class unloading for synthesised lambda classes?","body":"<p>I think you are confused about lambda class unloading here, and here is why. You have to test not <code>wr.get()</code>, because dereferencing of this <code>String</code> instance doesn't talk anything about lambda based on it. You have to make <code>WeakReference</code> for class:</p>\n\n<pre><code>...\nRunnable run = test::toString;\nWeakReference&lt;Class&gt; wcr = new WeakReference&lt;Class&gt;(run.getClass());\n...\n</code></pre>\n\n<p>and try to \"wait\" while it would be dereferenced:</p>\n\n<pre><code>while (wcr.get() != null) {\n   System.gc();\n}\n</code></pre>\n\n<p>So, this loop will never be finished.</p>\n"},{"comments":[{"owner":{"account_id":234026,"reputation":7237,"user_id":499922,"accept_rate":90,"display_name":"billc.cn"},"score":0,"creation_date":1453816369,"post_id":34931968,"comment_id":57757491,"body_markdown":"I suddenly realised this may have something to do with the lack of a PermGen in Java 8. Maybe classes are no longer special to the GC.","body":"I suddenly realised this may have something to do with the lack of a PermGen in Java 8. Maybe classes are no longer special to the GC."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1453817964,"post_id":34931968,"comment_id":57758559,"body_markdown":"@billc.cn: no, there is no connection. Anonymous classes already exist in Oracle’s JRE&#160;7, but there’s no lambda expression facility using it. But they are used internally by the `MethodHandle` implementation. Besides that, classes are not special to the GC. There’s simply a reference from a `ClassLoader` to each of its defined classes and a reference back from a `Class` to its defining `ClassLoader`. Since anonymous classes aren’t registered at a `ClassLoader` (as the term “anonymous” suggests), they can be collected without the need of a class loader becoming unreachable…","body":"@billc.cn: no, there is no connection. Anonymous classes already exist in Oracle’s JRE 7, but there’s no lambda expression facility using it. But they are used internally by the <code>MethodHandle</code> implementation. Besides that, classes are not special to the GC. There’s simply a reference from a <code>ClassLoader</code> to each of its defined classes and a reference back from a <code>Class</code> to its defining <code>ClassLoader</code>. Since anonymous classes aren’t registered at a <code>ClassLoader</code> (as the term “anonymous” suggests), they can be collected without the need of a class loader becoming unreachable…"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677572676,"creation_date":1453402229,"answer_id":34931968,"question_id":34927171,"body_markdown":"The funny thing is, that despite your test is insufficient to determine that, it’s actually true, the classes generated for lambda expressions *can* get garbage collected as the following code can demonstrate:\r\n\r\n    import java.lang.invoke.*;\r\n    import java.lang.ref.WeakReference;\r\n\r\n    public class LambdaClassUnloading {\r\n        public static void main(String[] args) throws Throwable {\r\n            MethodHandles.Lookup l = MethodHandles.lookup();\r\n            MethodType t=MethodType.methodType(void.class);\r\n            Runnable r=(Runnable)LambdaMetafactory.metafactory(l, &quot;run&quot;,\r\n                MethodType.methodType(Runnable.class), t,\r\n                l.findStatic(LambdaClassUnloading.class, &quot;testMethod&quot;, t), t)\r\n                .getTarget().invokeExact();\r\n            System.out.println(&quot;generated &quot;+r);\r\n            r.run();\r\n            WeakReference&lt;Class&lt;?&gt;&gt; ref=new WeakReference&lt;&gt;(r.getClass());\r\n            r=null;\r\n            while(ref.get()!=null) System.gc();\r\n            System.out.println(&quot;class collected&quot;);\r\n        }\r\n        private static void testMethod() {\r\n            System.out.println(&quot;testMethod() called&quot;);\r\n        }\r\n    }\r\n\r\nThis prints something alike:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    generated java8test.LambdaClassUnloading$$Lambda$1/723074861@77459877\r\n    testMethod() called\r\n    class collected\r\n\r\nThough the numbers may vary.\r\n\r\nBut for practical purposes, it’s important to understand that the generator facility, which the code above invokes reflectively, is normally triggered via an `invokedynamic` byte code instruction which will get permanently linked to the result of the first completed bootstrapping process.\r\n\r\nIn other words, given how the current JRE handles it, as long as the code containing the `invokedynamic` instruction is reachable, the permanently linked lambda class will persist as well. This matches the behavior demonstrated in [Andremoniy’s answer](https://stackoverflow.com/a/34928463/2711488); the code of the line `Runnable run = test::toString;` could get executed again and will produce an instance of the same class as the first execution, as it’s constructor got permanently linked to it.\r\n\r\nBut in theory, an alternative JRE implementation could let the bootstrap method return a `MutableCallSite` and retarget it at a later time, e.g. to produce instances of a more optimized class or to enforce sharing of classes between semantically equivalent lambda expressions. In that cases, existing lambda classes could get garbage collected earlier than their defining class when there are no more lambda instances.\r\n\r\nSo the answer is, there is indeed a “magical class unloading”, but currently, it’s irrelevant for most practical purposes and, of course, if it happens in a future JVM, it will still retain the semantics as specified by the Java Language Specification. Regardless of how the instance captured by your method reference `test::toString` gets stored, it will not hinder its collection if the *instance* of the functional interface is unreachable.\r\n\r\n---\r\nIf you are interested in more details, the article [“anonymous classes in the VM” by John Rose](https://web.archive.org/web/20160506224222/https://blogs.oracle.com/jrose/entry/anonymous_classes_in_the_vm) provides an introduction. You may also search for `sun.misc.Unsafe.defineAnonymousClass`…\r\n","title":"Magical class unloading for synthesised lambda classes?","body":"<p>The funny thing is, that despite your test is insufficient to determine that, it’s actually true, the classes generated for lambda expressions <em>can</em> get garbage collected as the following code can demonstrate:</p>\n<pre><code>import java.lang.invoke.*;\nimport java.lang.ref.WeakReference;\n\npublic class LambdaClassUnloading {\n    public static void main(String[] args) throws Throwable {\n        MethodHandles.Lookup l = MethodHandles.lookup();\n        MethodType t=MethodType.methodType(void.class);\n        Runnable r=(Runnable)LambdaMetafactory.metafactory(l, &quot;run&quot;,\n            MethodType.methodType(Runnable.class), t,\n            l.findStatic(LambdaClassUnloading.class, &quot;testMethod&quot;, t), t)\n            .getTarget().invokeExact();\n        System.out.println(&quot;generated &quot;+r);\n        r.run();\n        WeakReference&lt;Class&lt;?&gt;&gt; ref=new WeakReference&lt;&gt;(r.getClass());\n        r=null;\n        while(ref.get()!=null) System.gc();\n        System.out.println(&quot;class collected&quot;);\n    }\n    private static void testMethod() {\n        System.out.println(&quot;testMethod() called&quot;);\n    }\n}\n</code></pre>\n<p>This prints something alike:</p>\n<pre class=\"lang-none prettyprint-override\"><code>generated java8test.LambdaClassUnloading$$Lambda$1/723074861@77459877\ntestMethod() called\nclass collected\n</code></pre>\n<p>Though the numbers may vary.</p>\n<p>But for practical purposes, it’s important to understand that the generator facility, which the code above invokes reflectively, is normally triggered via an <code>invokedynamic</code> byte code instruction which will get permanently linked to the result of the first completed bootstrapping process.</p>\n<p>In other words, given how the current JRE handles it, as long as the code containing the <code>invokedynamic</code> instruction is reachable, the permanently linked lambda class will persist as well. This matches the behavior demonstrated in <a href=\"https://stackoverflow.com/a/34928463/2711488\">Andremoniy’s answer</a>; the code of the line <code>Runnable run = test::toString;</code> could get executed again and will produce an instance of the same class as the first execution, as it’s constructor got permanently linked to it.</p>\n<p>But in theory, an alternative JRE implementation could let the bootstrap method return a <code>MutableCallSite</code> and retarget it at a later time, e.g. to produce instances of a more optimized class or to enforce sharing of classes between semantically equivalent lambda expressions. In that cases, existing lambda classes could get garbage collected earlier than their defining class when there are no more lambda instances.</p>\n<p>So the answer is, there is indeed a “magical class unloading”, but currently, it’s irrelevant for most practical purposes and, of course, if it happens in a future JVM, it will still retain the semantics as specified by the Java Language Specification. Regardless of how the instance captured by your method reference <code>test::toString</code> gets stored, it will not hinder its collection if the <em>instance</em> of the functional interface is unreachable.</p>\n<hr />\n<p>If you are interested in more details, the article <a href=\"https://web.archive.org/web/20160506224222/https://blogs.oracle.com/jrose/entry/anonymous_classes_in_the_vm\" rel=\"nofollow noreferrer\">“anonymous classes in the VM” by John Rose</a> provides an introduction. You may also search for <code>sun.misc.Unsafe.defineAnonymousClass</code>…</p>\n"}],"owner":{"account_id":234026,"reputation":7237,"user_id":499922,"accept_rate":90,"display_name":"billc.cn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34931968,"answer_count":2,"score":1,"last_activity_date":1677572676,"creation_date":1453388550,"question_id":34927171,"body_markdown":"We know normally a class [cannot be unloaded](https://stackoverflow.com/a/148707/499922) from a ClassLoader, but it seems the synthesised class for lambdas can.\r\n\r\nProof:\r\n\r\n    public class Play {\r\n        static String test = new String(&quot;test&quot;);\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            WeakReference&lt;String&gt; wr = new WeakReference&lt;&gt;(test);\r\n            Runnable run = test::toString;\r\n            System.out.println(Play.class.getClassLoader() == run.getClass().getClassLoader());\r\n            System.out.printf(&quot;sys=%s, lambda=%s&quot;, Runnable.class, run.getClass());\r\n            run.run();\r\n            test = null;\r\n            run = null;\r\n            while (wr.get() != null) {\r\n                System.gc();\r\n            }\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    true\r\n    sys=interface java.lang.Runnable, lambda=class Play$$Lambda$1/918221580\r\n    &lt;then terminates&gt;\r\n\r\nThis shows that the String referenced by the lambda&#39;s clousure (would be referenced by the synthesised class) was dereferenced, which means the synthesised class must have been GC&#39;ed as well. This makes sense as otherwise there would be all kinds of classloader-based memory leaks.\r\n\r\nMy question is did they break the class cannot be unloaded design to do this? If so, can we do this with our own classes?","title":"Magical class unloading for synthesised lambda classes?","body":"<p>We know normally a class <a href=\"https://stackoverflow.com/a/148707/499922\">cannot be unloaded</a> from a ClassLoader, but it seems the synthesised class for lambdas can.</p>\n\n<p>Proof:</p>\n\n<pre><code>public class Play {\n    static String test = new String(\"test\");\n\n    public static void main(String[] args) throws Exception {\n        WeakReference&lt;String&gt; wr = new WeakReference&lt;&gt;(test);\n        Runnable run = test::toString;\n        System.out.println(Play.class.getClassLoader() == run.getClass().getClassLoader());\n        System.out.printf(\"sys=%s, lambda=%s\", Runnable.class, run.getClass());\n        run.run();\n        test = null;\n        run = null;\n        while (wr.get() != null) {\n            System.gc();\n        }\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>true\nsys=interface java.lang.Runnable, lambda=class Play$$Lambda$1/918221580\n&lt;then terminates&gt;\n</code></pre>\n\n<p>This shows that the String referenced by the lambda's clousure (would be referenced by the synthesised class) was dereferenced, which means the synthesised class must have been GC'ed as well. This makes sense as otherwise there would be all kinds of classloader-based memory leaks.</p>\n\n<p>My question is did they break the class cannot be unloaded design to do this? If so, can we do this with our own classes?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1614367790,"post_id":66391629,"comment_id":117373859,"body_markdown":"You might have compile errors because you added parenthesis after `expiration`, but expiration in your example is a variable, not a method. So if you remove those, you should at least be able to get rid of the compile errors.","body":"You might have compile errors because you added parenthesis after <code>expiration</code>, but expiration in your example is a variable, not a method. So if you remove those, you should at least be able to get rid of the compile errors."}],"answers":[{"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":29,"creation_date":1614368538,"post_id":66391665,"comment_id":117374100,"body_markdown":"`Instant` also has more semantically meaningful methods: `if (now().isAfter(expiration))`.","body":"<code>Instant</code> also has more semantically meaningful methods: <code>if (now().isAfter(expiration))</code>."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1614372188,"post_id":66391665,"comment_id":117375310,"body_markdown":"@chrylis-cautiouslyoptimistic-: `isAfter` doesn&#39;t represent `&gt;=`, it represents `&gt;`.  You could work around that, e.g. with `!isBefore` or `|| equals`, but at a certain point it&#39;s simpler to just use `compareTo`.","body":"@chrylis-cautiouslyoptimistic-: <code>isAfter</code> doesn&#39;t represent <code>&gt;=</code>, it represents <code>&gt;</code>.  You could work around that, e.g. with <code>!isBefore</code> or <code>|| equals</code>, but at a certain point it&#39;s simpler to just use <code>compareTo</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1614373913,"post_id":66391665,"comment_id":117375867,"body_markdown":"I always found calls to `compareTo()` cryptic to read. My taste is certainly with @chrylis-cautiouslyoptimistic- even when it involves `!isBefore` (just slightly difficult but short and simpler than `compareTo`) or `|| equals` (longer but very clear). Admitted, it’s a matter of taste.","body":"I always found calls to <code>compareTo()</code> cryptic to read. My taste is certainly with @chrylis-cautiouslyoptimistic- even when it involves <code>!isBefore</code> (just slightly difficult but short and simpler than <code>compareTo</code>) or <code>|| equals</code> (longer but very clear). Admitted, it’s a matter of taste."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1614374675,"post_id":66391665,"comment_id":117376058,"body_markdown":"Also, who cares about the last nanosecond? The call to `now()` takes longer than a nanosecond anyway, so what sense does it make to distinguish between `&gt;=` and `&gt;` in this particular situation?","body":"Also, who cares about the last nanosecond? The call to <code>now()</code> takes longer than a nanosecond anyway, so what sense does it make to distinguish between <code>&gt;=</code> and <code>&gt;</code> in this particular situation?"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1648244136,"post_id":66391665,"comment_id":126584078,"body_markdown":"flawless answer Louis!","body":"flawless answer Louis!"}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":5,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1614367746,"creation_date":1614367409,"answer_id":66391665,"question_id":66391629,"body_markdown":"Don&#39;t convert them to Strings.  Instant, like every other `Comparable` type, has the `compareTo` method.  Use it like this:\r\n\r\n\r\n    if (expiration.compareTo(Instant.now()) &gt;= 0) {\r\n      ...\r\n    }","title":"How to compare two instants in Java?","body":"<p>Don't convert them to Strings.  Instant, like every other <code>Comparable</code> type, has the <code>compareTo</code> method.  Use it like this:</p>\n<pre><code>if (expiration.compareTo(Instant.now()) &gt;= 0) {\n  ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651964350,"post_id":72141888,"comment_id":127491898,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72141888/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":4008871,"reputation":163,"user_id":3302843,"display_name":"cloooze"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651842042,"creation_date":1651842042,"answer_id":72141888,"question_id":66391629,"body_markdown":"Following the implementation of compareTo method of Instant class:\r\n\r\n    @Override\r\n    public int compareTo(Instant otherInstant) {\r\n        int cmp = Long.compare(seconds, otherInstant.seconds);\r\n        if (cmp != 0) {\r\n            return cmp;\r\n        }\r\n        return nanos - otherInstant.nanos;\r\n    }","title":"How to compare two instants in Java?","body":"<p>Following the implementation of compareTo method of Instant class:</p>\n<pre><code>@Override\npublic int compareTo(Instant otherInstant) {\n    int cmp = Long.compare(seconds, otherInstant.seconds);\n    if (cmp != 0) {\n        return cmp;\n    }\n    return nanos - otherInstant.nanos;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4528798,"reputation":10533,"user_id":3679900,"accept_rate":48,"display_name":"y2k-shubham"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1661764309,"creation_date":1661764309,"answer_id":73526539,"question_id":66391629,"body_markdown":"*Posting [comments](https://stackoverflow.com/questions/66391629/how-to-compare-two-instants-in-java#comment117374100_66391665) by [**chrylis-cautiouslyoptimistic**](https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic) as an answer to highlight*\r\n\r\n-------\r\n\r\n`Instant` also has more semantically meaningful methods `isAfter` and `isBefore`\r\n```\r\nif (now().isAfter(expiration)) {\r\n  .. do something ..\r\n}\r\n```\r\n\r\n-------\r\n\r\nAs [pointed out][1] by [**@Louis Wasserman**][2]\r\n**\r\n\r\n - Note that `isAfter` doesn&#39;t represent `&gt;=`, it represents `&gt;`\r\n - You could work around that, e.g. with `!isBefore` or `|| equals`\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66391629/how-to-compare-two-instants-in-java#comment117375310_66391665\r\n  [2]: https://stackoverflow.com/users/869736/louis-wasserman","title":"How to compare two instants in Java?","body":"<p><em>Posting <a href=\"https://stackoverflow.com/questions/66391629/how-to-compare-two-instants-in-java#comment117374100_66391665\">comments</a> by <a href=\"https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic\"><strong>chrylis-cautiouslyoptimistic</strong></a> as an answer to highlight</em></p>\n<hr />\n<p><code>Instant</code> also has more semantically meaningful methods <code>isAfter</code> and <code>isBefore</code></p>\n<pre><code>if (now().isAfter(expiration)) {\n  .. do something ..\n}\n</code></pre>\n<hr />\n<p>As <a href=\"https://stackoverflow.com/questions/66391629/how-to-compare-two-instants-in-java#comment117375310_66391665\">pointed out</a> by <a href=\"https://stackoverflow.com/users/869736/louis-wasserman\"><strong>@Louis Wasserman</strong></a>\n**</p>\n<ul>\n<li>Note that <code>isAfter</code> doesn't represent <code>&gt;=</code>, it represents <code>&gt;</code></li>\n<li>You could work around that, e.g. with <code>!isBefore</code> or <code>|| equals</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19345318,"reputation":1,"user_id":14144006,"display_name":"M N G RAGHUNADH GOPU"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677572636,"creation_date":1677572636,"answer_id":75589490,"question_id":66391629,"body_markdown":"Since the title reads &quot;How to compare two instants in Java?&quot; if someone is looking to check the equality of two instants then you can use &quot;equals&quot; method provided by Instant class.\r\n\r\n```\r\nvoid solve() {\r\n      Instant i1 = Instant.parse(&quot;2022-08-12T16:10:35.00Z&quot;);\r\n      Instant i2 = Instant.parse(&quot;2022-08-12T16:10:35.00Z&quot;);\r\n      System.out.println(&quot;Instant object i1 is: &quot; + i1);\r\n      System.out.println(&quot;Instant object i2 is: &quot; + i2);\r\n      if(i1.equals(i2))\r\n         System.out.println(&quot;The Instant objects are equal&quot;);\r\n      else\r\n         System.out.println(&quot;The Instant objects are not equal&quot;);\r\n   }\r\n\r\n\r\n```\r\n\r\n\r\nAs discussed in other answers we could also use isAfter, isBefore, compareTo methods as well.","title":"How to compare two instants in Java?","body":"<p>Since the title reads &quot;How to compare two instants in Java?&quot; if someone is looking to check the equality of two instants then you can use &quot;equals&quot; method provided by Instant class.</p>\n<pre><code>void solve() {\n      Instant i1 = Instant.parse(&quot;2022-08-12T16:10:35.00Z&quot;);\n      Instant i2 = Instant.parse(&quot;2022-08-12T16:10:35.00Z&quot;);\n      System.out.println(&quot;Instant object i1 is: &quot; + i1);\n      System.out.println(&quot;Instant object i2 is: &quot; + i2);\n      if(i1.equals(i2))\n         System.out.println(&quot;The Instant objects are equal&quot;);\n      else\n         System.out.println(&quot;The Instant objects are not equal&quot;);\n   }\n\n\n</code></pre>\n<p>As discussed in other answers we could also use isAfter, isBefore, compareTo methods as well.</p>\n"}],"owner":{"account_id":19020553,"reputation":675,"user_id":13884720,"display_name":"Abdalrhman Alkraien"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28153,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":66391665,"answer_count":4,"score":12,"last_activity_date":1677572636,"creation_date":1614367218,"question_id":66391629,"body_markdown":"**I want comparison two `Instant`s to see if equals both or greater than**, but i can’t. \r\ni dont know. how i can compare instants?\r\n\r\n      private Instant expiration;\r\n    \r\n     if(expiration()==Instant.now()||expiration()&gt;Instant.now())\r\n      {\r\n         valid+=&quot;the Expire date is invalid check it . &quot;;\r\n      }\r\n\r\ni  try this way but i have compile error.\r\nbut i think cant comparison in this way\r\nit  must change instant to String and compare after it \r\nbut i dont know how to format to string\r\n\r\n","title":"How to compare two instants in Java?","body":"<p><strong>I want comparison two <code>Instant</code>s to see if equals both or greater than</strong>, but i can’t.\ni dont know. how i can compare instants?</p>\n<pre><code>  private Instant expiration;\n\n if(expiration()==Instant.now()||expiration()&gt;Instant.now())\n  {\n     valid+=&quot;the Expire date is invalid check it . &quot;;\n  }\n</code></pre>\n<p>i  try this way but i have compile error.\nbut i think cant comparison in this way\nit  must change instant to String and compare after it\nbut i dont know how to format to string</p>\n"},{"tags":["java","rest","wildfly","resteasy"],"comments":[{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":1,"creation_date":1563442534,"post_id":57091373,"comment_id":100704635,"body_markdown":"You say that there&#39;s no log entry, but do you have a response from the server ?","body":"You say that there&#39;s no log entry, but do you have a response from the server ?"},{"owner":{"account_id":1346927,"reputation":2441,"user_id":1287477,"accept_rate":52,"display_name":"Continuity8"},"score":0,"creation_date":1563486323,"post_id":57091373,"comment_id":100727025,"body_markdown":"@ArnaudClaudel No response, just a 404. There is a logger in the RESTEasy Activator constructor, so without a log entry I&#39;m guessing it hasn&#39;t been initialized at all.","body":"@ArnaudClaudel No response, just a 404. There is a logger in the RESTEasy Activator constructor, so without a log entry I&#39;m guessing it hasn&#39;t been initialized at all."}],"answers":[{"tags":[],"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563527032,"creation_date":1563527032,"answer_id":57109041,"question_id":57091373,"body_markdown":"As answered [here][1], JAX-RS should normally be packaged in a `.war` file.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24217275/7736617","title":"RESTEasy won&#39;t bootstrap/initialize","body":"<p>As answered <a href=\"https://stackoverflow.com/a/24217275/7736617\">here</a>, JAX-RS should normally be packaged in a <code>.war</code> file.</p>\n"},{"tags":[],"owner":{"account_id":11011731,"reputation":1,"user_id":8088856,"display_name":"glaksos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677572343,"creation_date":1677572343,"answer_id":75589443,"question_id":57091373,"body_markdown":"I had a similar issue and the solution was to set the scope of resteasy dependencies to provided rather than compile.","title":"RESTEasy won&#39;t bootstrap/initialize","body":"<p>I had a similar issue and the solution was to set the scope of resteasy dependencies to provided rather than compile.</p>\n"}],"owner":{"account_id":1346927,"reputation":2441,"user_id":1287477,"accept_rate":52,"display_name":"Continuity8"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677572343,"creation_date":1563442320,"question_id":57091373,"body_markdown":"I&#39;m attempting to use WildFly&#39;s implementation of JAX-RS - RESTEasy to create some Java based Restful webservices, and having a little trouble simply getting it to initiate once deployed.\n\nNote that I&#39;m adding the RESTEasy annotations to a set of classes in an already working project that is deployed as an .ear file, that should be OK right? To be clear the package structure looks something like:\n\n    com.something.app\n    com.something.app.resteasyannotatedclasses\n\nNow I am using no web.xml or any xml conf for that matter and only annotations as documented [here][1]\n\n\nI simply have two classes, the RESTEasy Activator:\n\n    @ApplicationPath(&quot;/coordinates&quot;)\n    public class RestEasyActivator extends Application {\n        RestEasyActivator () {\n            Logger.getAnonymousLogger().warning(&quot;RestEasyActivator Initialised Rest Easy.&quot;);\n        }\n    }\n\nAnd the actual service:\n\n    @Path(&quot;get&quot;)\n    public class CoordinatesServiceWrapper {\n        private static final Logger LOG = Logger.getLogger(CoordinatesServiceWrapper.class.getName());\n    \n        @GET\n        @Path(&quot;getByName&quot;)\n        public String findCoordinates(){\n            LOG.info(&quot;Called coordinates service!&quot;);\n            return &quot;Hi&quot;;\n        }\n    }\n\nWhen the ear is deployed to WildFly I see the log:\n\n&gt; WARN  [org.jboss.weld.Bootstrap] (Weld Thread Pool -- 4) WELD-000167: Class org.jboss.resteasy.core.AsynchronousDispatcher is annotated with @RequestScoped but it does not declare an appropriate constructor therefore is not registered as a bean!\n&gt;\n&gt; WARN  [org.jboss.weld.Bootstrap] (Weld Thread Pool -- 1) WELD-000167: Class org.jboss.resteasy.plugins.providers.DocumentProvider is annotated with @ApplicationScoped but it does not declare an appropriate constructor therefore is not registered as a bean!\n&gt;\n&gt; INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 391) WFLYUT0021: Registered web context: &#39;/CoordinateSearch&#39; for server &#39;default-server&#39;\n&gt;\n&gt; INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) WFLYSRV0010: Deployed &quot;CoordinateSearch.ear&quot; (runtime-name : &quot;CoordinateSearch.ear&quot;)\n\nIm guessing the warnings relating to RESTEasy are fine to ignore, and the info messages show that the .ear has successfully deployed.\n\nTo invoke the webservice I&#39;ve tried the URLS:\n\n&gt; Server:port/CoordinateSearch/coordinates/get/getByName/ and\n&gt; Server:port/coordinates/get/getByName/\n\nNeither of which generate any log entries.\n\nWhat am I missing...\nHave I missed some conf? - it seems very minimal. Based on the RESTEasy documentation [here][2] WildFly comes with RESTEasy imported and it will bootstrap based on any classes containing annotations ...So I can&#39;t see the issue.\n\n\n  [1]: http://www.mastertheboss.com/jboss-frameworks/resteasy/resteasy-tutorial\n  [2]: https://docs.jboss.org/resteasy/docs/4.1.1.Final/userguide/html_single/index.html#resteasy_modules_in_wildfly","title":"RESTEasy won&#39;t bootstrap/initialize","body":"<p>I'm attempting to use WildFly's implementation of JAX-RS - RESTEasy to create some Java based Restful webservices, and having a little trouble simply getting it to initiate once deployed.</p>\n<p>Note that I'm adding the RESTEasy annotations to a set of classes in an already working project that is deployed as an .ear file, that should be OK right? To be clear the package structure looks something like:</p>\n<pre><code>com.something.app\ncom.something.app.resteasyannotatedclasses\n</code></pre>\n<p>Now I am using no web.xml or any xml conf for that matter and only annotations as documented <a href=\"http://www.mastertheboss.com/jboss-frameworks/resteasy/resteasy-tutorial\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I simply have two classes, the RESTEasy Activator:</p>\n<pre><code>@ApplicationPath(&quot;/coordinates&quot;)\npublic class RestEasyActivator extends Application {\n    RestEasyActivator () {\n        Logger.getAnonymousLogger().warning(&quot;RestEasyActivator Initialised Rest Easy.&quot;);\n    }\n}\n</code></pre>\n<p>And the actual service:</p>\n<pre><code>@Path(&quot;get&quot;)\npublic class CoordinatesServiceWrapper {\n    private static final Logger LOG = Logger.getLogger(CoordinatesServiceWrapper.class.getName());\n\n    @GET\n    @Path(&quot;getByName&quot;)\n    public String findCoordinates(){\n        LOG.info(&quot;Called coordinates service!&quot;);\n        return &quot;Hi&quot;;\n    }\n}\n</code></pre>\n<p>When the ear is deployed to WildFly I see the log:</p>\n<blockquote>\n<p>WARN  [org.jboss.weld.Bootstrap] (Weld Thread Pool -- 4) WELD-000167: Class org.jboss.resteasy.core.AsynchronousDispatcher is annotated with @RequestScoped but it does not declare an appropriate constructor therefore is not registered as a bean!</p>\n<p>WARN  [org.jboss.weld.Bootstrap] (Weld Thread Pool -- 1) WELD-000167: Class org.jboss.resteasy.plugins.providers.DocumentProvider is annotated with @ApplicationScoped but it does not declare an appropriate constructor therefore is not registered as a bean!</p>\n<p>INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 391) WFLYUT0021: Registered web context: '/CoordinateSearch' for server 'default-server'</p>\n<p>INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) WFLYSRV0010: Deployed &quot;CoordinateSearch.ear&quot; (runtime-name : &quot;CoordinateSearch.ear&quot;)</p>\n</blockquote>\n<p>Im guessing the warnings relating to RESTEasy are fine to ignore, and the info messages show that the .ear has successfully deployed.</p>\n<p>To invoke the webservice I've tried the URLS:</p>\n<blockquote>\n<p>Server:port/CoordinateSearch/coordinates/get/getByName/ and\nServer:port/coordinates/get/getByName/</p>\n</blockquote>\n<p>Neither of which generate any log entries.</p>\n<p>What am I missing...\nHave I missed some conf? - it seems very minimal. Based on the RESTEasy documentation <a href=\"https://docs.jboss.org/resteasy/docs/4.1.1.Final/userguide/html_single/index.html#resteasy_modules_in_wildfly\" rel=\"nofollow noreferrer\">here</a> WildFly comes with RESTEasy imported and it will bootstrap based on any classes containing annotations ...So I can't see the issue.</p>\n"},{"tags":["java","rest"],"answers":[{"comments":[{"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"score":1,"creation_date":1677572692,"post_id":75589406,"comment_id":133359554,"body_markdown":"&quot;it is not a problem in any imaginable for me scenario.&quot; That&#39;s right, it helped me a lot.","body":"&quot;it is not a problem in any imaginable for me scenario.&quot; That&#39;s right, it helped me a lot."}],"tags":[],"owner":{"account_id":3436150,"reputation":622,"user_id":2879245,"accept_rate":71,"display_name":"Michał Marcinkowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677572085,"creation_date":1677572085,"answer_id":75589406,"question_id":75589041,"body_markdown":"\r\nI do not see any problems with idempotency in the last situation you&#39;ve described, even if the PUT from point 2. got called several times it is gonna create a new entity for the first time, and then just update the existing record. It seems rather then PUT misusage to create a new record, but to be fair, I wouldn&#39;t consider it as a problem.\r\n\r\nIn general it depends on your business case, needs etc. Normally if you try to use PUT to update non existing object, then API should return you an error about it and it is the client responsibility to determine what&#39;s next. Then depending on the business scenario you have to recreate the object with POST (and this is not same object anymore, because it will have another ID), or restore it from soft-delete state. Personally it is not a problem in any imaginable for me scenario. \r\n\r\nConcluding - all the approaches are still perfectly idempotent if you ask me.","title":"Does idempotence in Rest API PUT Method require the result to be the same up to ID?","body":"<p>I do not see any problems with idempotency in the last situation you've described, even if the PUT from point 2. got called several times it is gonna create a new entity for the first time, and then just update the existing record. It seems rather then PUT misusage to create a new record, but to be fair, I wouldn't consider it as a problem.</p>\n<p>In general it depends on your business case, needs etc. Normally if you try to use PUT to update non existing object, then API should return you an error about it and it is the client responsibility to determine what's next. Then depending on the business scenario you have to recreate the object with POST (and this is not same object anymore, because it will have another ID), or restore it from soft-delete state. Personally it is not a problem in any imaginable for me scenario.</p>\n<p>Concluding - all the approaches are still perfectly idempotent if you ask me.</p>\n"}],"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75589406,"answer_count":1,"score":2,"last_activity_date":1677572085,"creation_date":1677569650,"question_id":75589041,"body_markdown":"I studied the difference between PUT and PATCH.\r\n\r\nOf which I understood that if I use PUT, it creates the target if it doesn&#39;t exist and updates if it exists.\r\n\r\nOK, so far no problems.\r\n\r\nNow it&#39;s time to consider the idempotency problem.\r\n\r\nThe ID of each data is auto-generated or auto-incremented.\r\n\r\n\r\n1. Insert data using POST.\r\n\r\n2. Use PUT to change the data of the IDs just created.\r\n\r\n3. No matter how many times you try 2, the result is the same.\r\n\r\nNo problem!\r\n\r\nNow, let&#39;s assume that data is deleted in the middle.\r\n\r\n1. Insert data using POST.\r\n\r\n2. Use PUT to change the data of the IDs just created.\r\n\r\n3. I just used DELETE to delete the data of changed IDs.\r\n\r\n4. The moment you try number 2, data with a new ID is created.\r\n\r\n\r\nNow, it can no longer be seen as the same data.\r\n\r\nIs there any problem with idempotency in this situation?\r\n\r\nDo I need to recreate the same resource all the way to the ID to be idempotent ok?\r\n\r\nOr does it matter if only the valid data is the same except for the ID etc?","title":"Does idempotence in Rest API PUT Method require the result to be the same up to ID?","body":"<p>I studied the difference between PUT and PATCH.</p>\n<p>Of which I understood that if I use PUT, it creates the target if it doesn't exist and updates if it exists.</p>\n<p>OK, so far no problems.</p>\n<p>Now it's time to consider the idempotency problem.</p>\n<p>The ID of each data is auto-generated or auto-incremented.</p>\n<ol>\n<li><p>Insert data using POST.</p>\n</li>\n<li><p>Use PUT to change the data of the IDs just created.</p>\n</li>\n<li><p>No matter how many times you try 2, the result is the same.</p>\n</li>\n</ol>\n<p>No problem!</p>\n<p>Now, let's assume that data is deleted in the middle.</p>\n<ol>\n<li><p>Insert data using POST.</p>\n</li>\n<li><p>Use PUT to change the data of the IDs just created.</p>\n</li>\n<li><p>I just used DELETE to delete the data of changed IDs.</p>\n</li>\n<li><p>The moment you try number 2, data with a new ID is created.</p>\n</li>\n</ol>\n<p>Now, it can no longer be seen as the same data.</p>\n<p>Is there any problem with idempotency in this situation?</p>\n<p>Do I need to recreate the same resource all the way to the ID to be idempotent ok?</p>\n<p>Or does it matter if only the valid data is the same except for the ID etc?</p>\n"},{"tags":["java","mysql","spring-mvc","hibernate-mapping"],"owner":{"account_id":27897510,"reputation":1,"user_id":21302493,"display_name":"Amit Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677571978,"creation_date":1677571978,"question_id":75589382,"body_markdown":"  org.springframework.beans.factory.xml.XmlBeanDefinitionStoreException: Line 3 in XML document from ServletContext resource [/WEB-INF/spring-security.xml] is invalid; nested exception is org.xml.sax.SAXParseException; lineNumber: 3; columnNumber: 86; cvc-elt.1: Cannot find the declaration of element &#39;bean&#39;.\r\n\r\nwhy my beans file is not working  and I have mentioned my problem on the top.\r\n \r\n\r\nI have added my beans file and I am expecting resolution my query  hurry\r\n","title":"cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element &#39;global-method-security","body":"<p>org.springframework.beans.factory.xml.XmlBeanDefinitionStoreException: Line 3 in XML document from ServletContext resource [/WEB-INF/spring-security.xml] is invalid; nested exception is org.xml.sax.SAXParseException; lineNumber: 3; columnNumber: 86; cvc-elt.1: Cannot find the declaration of element 'bean'.</p>\n<p>why my beans file is not working  and I have mentioned my problem on the top.</p>\n<p>I have added my beans file and I am expecting resolution my query  hurry</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677572659,"post_id":75589357,"comment_id":133359551,"body_markdown":"imho the first one should work, although you might need an `SELECT c FROM` instead of just `from` as you are using an alias.","body":"imho the first one should work, although you might need an <code>SELECT c FROM</code> instead of just <code>from</code> as you are using an alias."}],"owner":{"account_id":19326316,"reputation":201,"user_id":14128881,"display_name":"Christopher Chua"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677571824,"creation_date":1677571824,"question_id":75589357,"body_markdown":"I am getting issues with `Could not locate ordinal parameter [0] expecting one of [1]` with below codes:\r\n\r\n    @Override\r\n        \tpublic T getModel(String propertyName, Object value) throws DAOException {\r\n        \t\tStringBuilder strQuery = new StringBuilder();\r\n        \t\tstrQuery.append(&quot;from &quot;);\r\n        \t\tstrQuery.append(getPersistentClass().getSimpleName());\r\n        \t\tstrQuery.append(&quot; as c where c.&quot;);\r\n        \t\tstrQuery.append(propertyName);\r\n        \t\tstrQuery.append(&quot;=:&quot;+propertyName);\r\n        \t\tQuery query = getHibernateSession().createQuery(strQuery.toString());\r\n        \t\tquery.setMaxResults(1);\r\n        \t\tquery.setParameter(propertyName, value);\r\n        \t\treturn (T) query.uniqueResult();\r\n        \t}\r\n\r\nI have also tried something like below codes but still getting the Could not locate ordinal parameter [0] expecting one of [1]: \r\n\r\n    @Override\r\n        public T getModel(String propertyName, Object value) throws DAOException {\r\n    \tStringBuilder strQuery = new StringBuilder();\r\n    \tstrQuery.append(&quot;from &quot;);\r\n    \tstrQuery.append(getPersistentClass().getSimpleName());\r\n    \tstrQuery.append(&quot; as c where c.&quot;);\r\n    \tstrQuery.append(propertyName);\r\n    \tstrQuery.append(&quot;=?1 &quot;);\r\n    \tQuery query = getHibernateSession().createQuery(strQuery.toString());\r\n    \tquery.setMaxResults(1);\r\n    \tquery.setParameter(1, value);\r\n    \treturn (T) query.uniqueResult();\r\n        }\r\n\r\nI tried to change the propertyName to &quot;propertyName&quot; such as:\r\n\r\n    @Override\r\n            public T getModel(String propertyName, Object value) throws DAOException {\r\n                StringBuilder strQuery = new StringBuilder();\r\n                strQuery.append(&quot;from &quot;);\r\n                strQuery.append(getPersistentClass().getSimpleName());\r\n                strQuery.append(&quot; as c where c.&quot;);\r\n                strQuery.append(propertyName);\r\n                strQuery.append(&quot;=:&quot;+propertyName);\r\n                Query query = getHibernateSession().createQuery(strQuery.toString());\r\n                query.setMaxResults(1);\r\n                query.setParameter(&quot;propertyName&quot;, value);\r\n                return (T) query.uniqueResult();\r\n            }\r\n\r\n   But I am facing a new error `Could not locate named parameter [propertyName], expecting one of [config_for]\\&quot;}}&quot;`\r\n\r\nMay I know how I can fix this ?","title":"Could not locate ordinal parameter [0] expecting one of [1]","body":"<p>I am getting issues with <code>Could not locate ordinal parameter [0] expecting one of [1]</code> with below codes:</p>\n<pre><code>@Override\n        public T getModel(String propertyName, Object value) throws DAOException {\n            StringBuilder strQuery = new StringBuilder();\n            strQuery.append(&quot;from &quot;);\n            strQuery.append(getPersistentClass().getSimpleName());\n            strQuery.append(&quot; as c where c.&quot;);\n            strQuery.append(propertyName);\n            strQuery.append(&quot;=:&quot;+propertyName);\n            Query query = getHibernateSession().createQuery(strQuery.toString());\n            query.setMaxResults(1);\n            query.setParameter(propertyName, value);\n            return (T) query.uniqueResult();\n        }\n</code></pre>\n<p>I have also tried something like below codes but still getting the Could not locate ordinal parameter [0] expecting one of [1]:</p>\n<pre><code>@Override\n    public T getModel(String propertyName, Object value) throws DAOException {\n    StringBuilder strQuery = new StringBuilder();\n    strQuery.append(&quot;from &quot;);\n    strQuery.append(getPersistentClass().getSimpleName());\n    strQuery.append(&quot; as c where c.&quot;);\n    strQuery.append(propertyName);\n    strQuery.append(&quot;=?1 &quot;);\n    Query query = getHibernateSession().createQuery(strQuery.toString());\n    query.setMaxResults(1);\n    query.setParameter(1, value);\n    return (T) query.uniqueResult();\n    }\n</code></pre>\n<p>I tried to change the propertyName to &quot;propertyName&quot; such as:</p>\n<pre><code>@Override\n        public T getModel(String propertyName, Object value) throws DAOException {\n            StringBuilder strQuery = new StringBuilder();\n            strQuery.append(&quot;from &quot;);\n            strQuery.append(getPersistentClass().getSimpleName());\n            strQuery.append(&quot; as c where c.&quot;);\n            strQuery.append(propertyName);\n            strQuery.append(&quot;=:&quot;+propertyName);\n            Query query = getHibernateSession().createQuery(strQuery.toString());\n            query.setMaxResults(1);\n            query.setParameter(&quot;propertyName&quot;, value);\n            return (T) query.uniqueResult();\n        }\n</code></pre>\n<p>But I am facing a new error <code>Could not locate named parameter [propertyName], expecting one of [config_for]\\&quot;}}&quot;</code></p>\n<p>May I know how I can fix this ?</p>\n"},{"tags":["java","spring-boot","hibernate","gradle","openapi-generator-cli"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1676877332,"post_id":75455784,"comment_id":133218643,"body_markdown":"Did you try running with `--debug` or `--stacktrace` already to see possible errors?","body":"Did you try running with <code>--debug</code> or <code>--stacktrace</code> already to see possible errors?"},{"owner":{"account_id":2471260,"reputation":536,"user_id":4411598,"display_name":"jeet427"},"score":0,"creation_date":1677470374,"post_id":75455784,"comment_id":133337587,"body_markdown":"I did but could not see any related error logs. Looks like this annotationProcessor is not even invoked when openapi code generator on class path.","body":"I did but could not see any related error logs. Looks like this annotationProcessor is not even invoked when openapi code generator on class path."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1677497476,"post_id":75455784,"comment_id":133342780,"body_markdown":"Maybe the openapi AP resolves a symbol that runs into compilation errors because the Hibernate AP hasn&#39;t run yet. Not sure how to tell Gradle the order of APs, but for `javac` the order of AP names on the command line does that job.","body":"Maybe the openapi AP resolves a symbol that runs into compilation errors because the Hibernate AP hasn&#39;t run yet. Not sure how to tell Gradle the order of APs, but for <code>javac</code> the order of AP names on the command line does that job."},{"owner":{"account_id":2471260,"reputation":536,"user_id":4411598,"display_name":"jeet427"},"score":0,"creation_date":1677570886,"post_id":75455784,"comment_id":133359102,"body_markdown":"That&#39;s possible. Thanks Christian Beikov, let me try to find something.","body":"That&#39;s possible. Thanks Christian Beikov, let me try to find something."},{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":0,"creation_date":1677615294,"post_id":75455784,"comment_id":133372261,"body_markdown":"Sharing a minimal reproducible example might get you the answer faster.","body":"Sharing a minimal reproducible example might get you the answer faster."},{"owner":{"account_id":2471260,"reputation":536,"user_id":4411598,"display_name":"jeet427"},"score":0,"creation_date":1681128357,"post_id":75455784,"comment_id":134002520,"body_markdown":"Just to conclude this, this has been automatically fixed without any change after upgrade to annotationProcessor &quot;org.hibernate.orm:hibernate-jpamodelgen:6.2.0.Final&quot;","body":"Just to conclude this, this has been automatically fixed without any change after upgrade to annotationProcessor &quot;org.hibernate.orm:hibernate-jpamodelgen:6.2.0.Final&quot;"}],"owner":{"account_id":2471260,"reputation":536,"user_id":4411598,"display_name":"jeet427"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1259,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677571662,"creation_date":1676438792,"question_id":75455784,"body_markdown":"While upgrading the application to Spring boot 3 from Spring boot 2.7.7, I am facing a problem. I am not able to generate JPA static models using `hibernate-jpamodelgen:6.1.7.Final&quot;\r\n` when also using `openapi-generator-cli-6.3.0` to generate code for default controllers using api.yaml.\r\n\r\nThis does not generate hibernate static JPA models:\r\n\r\n\r\n```\r\n\r\nplugins {\r\n    id &quot;org.springframework.boot&quot; version &quot;3.0.2&quot;\r\n    id &quot;org.hibernate.orm&quot; version &quot;6.1.7.Final&quot;\r\n}\r\n.\r\n.\r\n.\r\n\r\ndependencies {\r\n    annotationProcessor &quot;org.hibernate.orm:hibernate-jpamodelgen:6.1.7.Final&quot;\r\n\r\n    antlr group: &#39;org.antlr&#39;, name: &#39;antlr4&#39;, version: &#39;4.11.1&#39;\r\n.\r\n.\r\n.\r\n.\r\n.\r\n\r\n\r\n    testAnnotationProcessor &quot;org.hibernate.orm:hibernate-jpamodelgen:6.1.7.Final&quot;\r\n\r\n  \r\n.\r\n.\r\n.\r\n.\r\n\r\n    swaggerCodegen group: &#39;org.openapitools&#39;, name: &#39;openapi-generator-cli&#39;, version: &#39;6.3.0&#39;\r\n\r\n}\r\n\r\ncompileJava {\r\n    dependsOn = [&#39;generateSwaggerCode&#39;, &#39;generateGrammarSource&#39;]\r\n    excludes = [&#39;**/TestController.java&#39;]\r\n}\r\n```\r\n\r\nThis works fine when I use swagger-codegen-cli-3.0.40.jar to generate code but JPA static model stops working without any error when used with openapi-generator-cli-6.3.0\r\n\r\nBelow code works fine:\r\n\r\n\r\n```\r\n\r\nplugins {\r\n    id &quot;org.springframework.boot&quot; version &quot;3.0.2&quot;\r\n    id &quot;org.hibernate.orm&quot; version &quot;6.1.7.Final&quot;\r\n}\r\n.\r\n.\r\n.\r\n\r\ndependencies {\r\n        annotationProcessor &quot;org.hibernate.orm:hibernate-jpamodelgen:6.1.7.Final&quot;\r\n\r\n\r\n    antlr group: &#39;org.antlr&#39;, name: &#39;antlr4&#39;, version: &#39;4.11.1&#39;\r\n.\r\n.\r\n.\r\n.\r\n.\r\n\r\n    testAnnotationProcessor &quot;org.hibernate.orm:hibernate-jpamodelgen:6.1.7.Final&quot;\r\n\r\n  \r\n.\r\n.\r\n.\r\n.\r\n\r\n    swaggerCodegen group: &#39;io.swagger.codegen.v3&#39;, name: &#39;swagger-codegen-cli&#39;, version: &#39;3.0.40&#39;\r\n    swaggerCodegen group: &#39;io.swagger.codegen.v3&#39;, name: &#39;swagger-codegen-generators&#39;, version: &#39;1.0.37&#39;\r\n}\r\n\r\ncompileJava {\r\n    dependsOn = [&#39;generateSwaggerCode&#39;, &#39;generateGrammarSource&#39;]\r\n    excludes = [&#39;**/TestController.java&#39;]\r\n}\r\n```","title":"Spring Boot 3 Upgrade - Jakarta EE - hibernate-jpamodelgen-jakarta and openapi-generator-cli-6.3.0 are not working as expected together","body":"<p>While upgrading the application to Spring boot 3 from Spring boot 2.7.7, I am facing a problem. I am not able to generate JPA static models using <code>hibernate-jpamodelgen:6.1.7.Final&quot; </code> when also using <code>openapi-generator-cli-6.3.0</code> to generate code for default controllers using api.yaml.</p>\n<p>This does not generate hibernate static JPA models:</p>\n<pre><code>\nplugins {\n    id &quot;org.springframework.boot&quot; version &quot;3.0.2&quot;\n    id &quot;org.hibernate.orm&quot; version &quot;6.1.7.Final&quot;\n}\n.\n.\n.\n\ndependencies {\n    annotationProcessor &quot;org.hibernate.orm:hibernate-jpamodelgen:6.1.7.Final&quot;\n\n    antlr group: 'org.antlr', name: 'antlr4', version: '4.11.1'\n.\n.\n.\n.\n.\n\n\n    testAnnotationProcessor &quot;org.hibernate.orm:hibernate-jpamodelgen:6.1.7.Final&quot;\n\n  \n.\n.\n.\n.\n\n    swaggerCodegen group: 'org.openapitools', name: 'openapi-generator-cli', version: '6.3.0'\n\n}\n\ncompileJava {\n    dependsOn = ['generateSwaggerCode', 'generateGrammarSource']\n    excludes = ['**/TestController.java']\n}\n</code></pre>\n<p>This works fine when I use swagger-codegen-cli-3.0.40.jar to generate code but JPA static model stops working without any error when used with openapi-generator-cli-6.3.0</p>\n<p>Below code works fine:</p>\n<pre><code>\nplugins {\n    id &quot;org.springframework.boot&quot; version &quot;3.0.2&quot;\n    id &quot;org.hibernate.orm&quot; version &quot;6.1.7.Final&quot;\n}\n.\n.\n.\n\ndependencies {\n        annotationProcessor &quot;org.hibernate.orm:hibernate-jpamodelgen:6.1.7.Final&quot;\n\n\n    antlr group: 'org.antlr', name: 'antlr4', version: '4.11.1'\n.\n.\n.\n.\n.\n\n    testAnnotationProcessor &quot;org.hibernate.orm:hibernate-jpamodelgen:6.1.7.Final&quot;\n\n  \n.\n.\n.\n.\n\n    swaggerCodegen group: 'io.swagger.codegen.v3', name: 'swagger-codegen-cli', version: '3.0.40'\n    swaggerCodegen group: 'io.swagger.codegen.v3', name: 'swagger-codegen-generators', version: '1.0.37'\n}\n\ncompileJava {\n    dependsOn = ['generateSwaggerCode', 'generateGrammarSource']\n    excludes = ['**/TestController.java']\n}\n</code></pre>\n"},{"tags":["java","arrays","set"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":1,"creation_date":1677506268,"post_id":75581332,"comment_id":133345351,"body_markdown":"and what if your source is { 2, 4, 345532342234 } ? this is beyond max integer value and will waste a lot of memory with null values in an array. a much better solution would be a Map&lt;Integer, Integer&gt; where you map each value to its position.","body":"and what if your source is { 2, 4, 345532342234 } ? this is beyond max integer value and will waste a lot of memory with null values in an array. a much better solution would be a Map&lt;Integer, Integer&gt; where you map each value to its position."},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":1,"creation_date":1677506404,"post_id":75581332,"comment_id":133345391,"body_markdown":"make &quot;index&quot; final in your code. the compiler is afraid you will try to move it ;)","body":"make &quot;index&quot; final in your code. the compiler is afraid you will try to move it ;)"}],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677506038,"creation_date":1677506038,"answer_id":75581369,"question_id":75581332,"body_markdown":"Logic: \r\n\r\nIn main class:\r\n\r\n    public static void main(String[] args) {\r\n    \t\tSet&lt;Integer&gt; source = new HashSet&lt;&gt;(Arrays.asList(2, 4, 5));\r\n    \t\tint max = Collections.max(source);\r\n    \t\tInteger[] result = new Integer[max + 1];\r\n    \r\n    \t\tint index = 0;\r\n    \t\tfor (Integer element : source) {\r\n    \t\t    result[element] = index++;\r\n    \t\t}\r\n    \t\tSystem.out.println(Arrays.toString(result));\r\n    }\r\n\r\nOutput:\r\n\r\n    [null, null, 0, null, 1, 2]","title":"Build array of indexes of set in java","body":"<p>Logic:</p>\n<p>In main class:</p>\n<pre><code>public static void main(String[] args) {\n        Set&lt;Integer&gt; source = new HashSet&lt;&gt;(Arrays.asList(2, 4, 5));\n        int max = Collections.max(source);\n        Integer[] result = new Integer[max + 1];\n\n        int index = 0;\n        for (Integer element : source) {\n            result[element] = index++;\n        }\n        System.out.println(Arrays.toString(result));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[null, null, 0, null, 1, 2]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22795094,"reputation":25,"user_id":16948779,"display_name":"Leah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677571272,"creation_date":1677571272,"answer_id":75589287,"question_id":75581332,"body_markdown":"Better and nicer solution:\r\n\r\n    static int[] getIndexArray(Set&lt;Integer&gt; sourceSet) {\r\n            final int[] resultArray = new int[sourceSet.max().get() + 1];\r\n            sourceSet.zipWithIndex().forEach(t -&gt; resultArray[t._1] = t._2);\r\n            return resultArray;\r\n        }\r\n\r\n","title":"Build array of indexes of set in java","body":"<p>Better and nicer solution:</p>\n<pre><code>static int[] getIndexArray(Set&lt;Integer&gt; sourceSet) {\n        final int[] resultArray = new int[sourceSet.max().get() + 1];\n        sourceSet.zipWithIndex().forEach(t -&gt; resultArray[t._1] = t._2);\n        return resultArray;\n    }\n</code></pre>\n"}],"owner":{"account_id":22795094,"reputation":25,"user_id":16948779,"display_name":"Leah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75589287,"answer_count":2,"score":0,"last_activity_date":1677571272,"creation_date":1677505772,"question_id":75581332,"body_markdown":"I have a Set of integers and I want to create an array which contains the index of each element in the source place, like this:\r\n\r\n    Set&lt;Integer&gt; source = {2,4,5};\r\n    \r\n**required result:**\r\n\r\n    Integer[] result = [null, null, 0, null, 1, 2]\r\n\r\nI tried this code but got an error: &quot;Variable used in lambda expression should be final or effectively final&quot;:\r\n\r\n    private Integer[] getIndexArray(Set&lt;Integer&gt; sourceSet) {\r\n            final Integer[] resultArray = new Integer[Constants.MAX_IDS];\r\n            Integer index = 0;\r\n            sourceSet.forEach(id -&gt; resultArray[id] = index++);\r\n            return resultArray;\r\n        }","title":"Build array of indexes of set in java","body":"<p>I have a Set of integers and I want to create an array which contains the index of each element in the source place, like this:</p>\n<pre><code>Set&lt;Integer&gt; source = {2,4,5};\n</code></pre>\n<p><strong>required result:</strong></p>\n<pre><code>Integer[] result = [null, null, 0, null, 1, 2]\n</code></pre>\n<p>I tried this code but got an error: &quot;Variable used in lambda expression should be final or effectively final&quot;:</p>\n<pre><code>private Integer[] getIndexArray(Set&lt;Integer&gt; sourceSet) {\n        final Integer[] resultArray = new Integer[Constants.MAX_IDS];\n        Integer index = 0;\n        sourceSet.forEach(id -&gt; resultArray[id] = index++);\n        return resultArray;\n    }\n</code></pre>\n"},{"tags":["java","jdbc","vert.x","jooq","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677571242,"creation_date":1677571242,"answer_id":75589282,"question_id":75579198,"body_markdown":"This isn&#39;t really jOOQ specific, although jOOQ helps you easily switch between JDBC and R2DBC drivers, without changing your client code. Logically, the switch should indeed not have too many effects, apart from the fact that there are always edge cases and bugs, especially in the R2DBC ecosystem, which isn&#39;t as mature as JDBC yet, and also jOOQ itself, given how hard it is to write correct reactive (or any concurrent) code.\r\n\r\nThe main value of R2DBC over JDBC, however, is that it allows for possibly reactive-capable wire protocols to push data to clients directly from within the database, whereas with JDBC, the client will always block *somewhere*.\r\n\r\nWhether this actually has any tangible effects on your application is best measured by yourself in a real world scenario, after getting a feel of the reactive APIs themselves (which impose their own cognitive hurdles). Another benefit of jOOQ&#39;s design is that you can simply do this on a production (or integration test, benchmark, etc) workload, switching drivers, once you use jOOQ&#39;s `Publisher` API. I don&#39;t think there&#39;s anything proven or even fool proof in this area.\r\n\r\nIn the long run, scalability problems should be addressed by Loom in a more transparent way, for all implementations, including JDBC. My expectation here is that with the advent of Loom, the reactive programming model will go back to being mainly about the programming model (push instead of pull), rather than about scaling.","title":"Difference between using JDBC and R2DBC connection for Jooq","body":"<p>This isn't really jOOQ specific, although jOOQ helps you easily switch between JDBC and R2DBC drivers, without changing your client code. Logically, the switch should indeed not have too many effects, apart from the fact that there are always edge cases and bugs, especially in the R2DBC ecosystem, which isn't as mature as JDBC yet, and also jOOQ itself, given how hard it is to write correct reactive (or any concurrent) code.</p>\n<p>The main value of R2DBC over JDBC, however, is that it allows for possibly reactive-capable wire protocols to push data to clients directly from within the database, whereas with JDBC, the client will always block <em>somewhere</em>.</p>\n<p>Whether this actually has any tangible effects on your application is best measured by yourself in a real world scenario, after getting a feel of the reactive APIs themselves (which impose their own cognitive hurdles). Another benefit of jOOQ's design is that you can simply do this on a production (or integration test, benchmark, etc) workload, switching drivers, once you use jOOQ's <code>Publisher</code> API. I don't think there's anything proven or even fool proof in this area.</p>\n<p>In the long run, scalability problems should be addressed by Loom in a more transparent way, for all implementations, including JDBC. My expectation here is that with the advent of Loom, the reactive programming model will go back to being mainly about the programming model (push instead of pull), rather than about scaling.</p>\n"}],"owner":{"account_id":8489798,"reputation":86,"user_id":6366526,"display_name":"SantaClara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677571242,"creation_date":1677493202,"question_id":75579198,"body_markdown":"The documentation for Reactive Fetching in Jooq mentions:\r\n\r\n&gt; Out of the box, all jOOQ provided publishers will block on the underlying JDBC connection, but if you provide jOOQ with a io.r2dbc.spi.Connection or io.r2dbc.spi.ConnectionFactory, then the publishers will execute queries in a non-blocking fashion on an R2DBC driver.\r\n\r\nI am trying to understand what is the difference between using the `io.r2dbc.spi.Connection` and `java.sql.Connection` when we are already wrapping the publisher in `fromPublisher` methods available in the rx-java.\r\n\r\nFor example (the code is identical for both R2DBC and JDBC, only the context `ctx` is constructed differently):\r\n```java\r\nFlowable.fromPublisher(ctx.select(...).where(...)).subscribe(...);\r\n```\r\n\r\nIf this code is being run on Thread 1, it shouldn&#39;t immediately block that thread in either case (because it&#39;s a Flowable created from the publisher provided by jooq).\r\n\r\nBut then, in the JDBC case, will it later block the same Thread 1, or some other thread?\r\n\r\nMy current understanding, based on https://github.com/r2dbc/r2dbc-spi/issues/162#issuecomment-598908146 is that R2DBC reduces the number of threads required as compared to JDBC for an equivalent number of simultaneous DB connections.\r\n\r\nIs this understanding correct and complete?\r\n\r\nFor more context, we&#39;re using Vertx + jooq + R2DBC and are trying to evaluate whether it&#39;s possible to write a scalable system using JDBC instead of R2DBC.","title":"Difference between using JDBC and R2DBC connection for Jooq","body":"<p>The documentation for Reactive Fetching in Jooq mentions:</p>\n<blockquote>\n<p>Out of the box, all jOOQ provided publishers will block on the underlying JDBC connection, but if you provide jOOQ with a io.r2dbc.spi.Connection or io.r2dbc.spi.ConnectionFactory, then the publishers will execute queries in a non-blocking fashion on an R2DBC driver.</p>\n</blockquote>\n<p>I am trying to understand what is the difference between using the <code>io.r2dbc.spi.Connection</code> and <code>java.sql.Connection</code> when we are already wrapping the publisher in <code>fromPublisher</code> methods available in the rx-java.</p>\n<p>For example (the code is identical for both R2DBC and JDBC, only the context <code>ctx</code> is constructed differently):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flowable.fromPublisher(ctx.select(...).where(...)).subscribe(...);\n</code></pre>\n<p>If this code is being run on Thread 1, it shouldn't immediately block that thread in either case (because it's a Flowable created from the publisher provided by jooq).</p>\n<p>But then, in the JDBC case, will it later block the same Thread 1, or some other thread?</p>\n<p>My current understanding, based on <a href=\"https://github.com/r2dbc/r2dbc-spi/issues/162#issuecomment-598908146\" rel=\"nofollow noreferrer\">https://github.com/r2dbc/r2dbc-spi/issues/162#issuecomment-598908146</a> is that R2DBC reduces the number of threads required as compared to JDBC for an equivalent number of simultaneous DB connections.</p>\n<p>Is this understanding correct and complete?</p>\n<p>For more context, we're using Vertx + jooq + R2DBC and are trying to evaluate whether it's possible to write a scalable system using JDBC instead of R2DBC.</p>\n"},{"tags":["java","spring","mongodb","spring-data-jpa","database-indexes"],"comments":[{"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"score":0,"creation_date":1615551166,"post_id":66599673,"comment_id":117732019,"body_markdown":"What does &quot;skip&quot; mean? Provide some context. Why don&#39;t you use `try catch` and ignore the `Exception`?","body":"What does &quot;skip&quot; mean? Provide some context. Why don&#39;t you use <code>try catch</code> and ignore the <code>Exception</code>?"},{"owner":{"account_id":9992410,"reputation":460,"user_id":8710383,"display_name":"Oleksandr"},"score":0,"creation_date":1615551642,"post_id":66599673,"comment_id":117732234,"body_markdown":"@BenjaminM updated descriptions, thanks.\nI can do this with your approach, but all documents will be processed one by one, thus there will be &quot;n&quot; requests for documents with size &quot;n&quot;, but I would like to do this at the configuration level and with a single request for all documents","body":"@BenjaminM updated descriptions, thanks. I can do this with your approach, but all documents will be processed one by one, thus there will be &quot;n&quot; requests for documents with size &quot;n&quot;, but I would like to do this at the configuration level and with a single request for all documents"}],"answers":[{"tags":[],"owner":{"account_id":355556,"reputation":539,"user_id":694560,"display_name":"Jozef Vaclavik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677570813,"creation_date":1677570057,"answer_id":75589102,"question_id":66599673,"body_markdown":"In my case I have an unique index and I&#39;m trying to upsert documents as: Insert new ones, and skip existing ones.\r\n\r\nDocumentation is missing this or doesn&#39;t say it explicitely, but you need to set up `ordered: false`. In this case it will continue with operations and return list of exceptions at the end.\r\n\r\n```ruby\r\nMyModel.collection.bulk_write(\r\n  [\r\n    { update_one: { filter: {...}, update: { &#39;$set&#39; =&gt; {...}, upsert: true } },\r\n    { update_one: { filter: {...}, update: { &#39;$set&#39; =&gt; {...}, upsert: true } },\r\n    { update_one: { filter: {...}, update: { &#39;$set&#39; =&gt; {...}, upsert: true } },\r\n    ...\r\n  ],\r\n  ordered: false\r\n)\r\n```\r\nAnd at the end you will get back error like this:\r\n```\r\nMultiple errors:\r\n[11000]: E11000 duplicate key error collection: my_database.my_collection index: my_unique_index dup key: { ... };\r\n[11000]: E11000 duplicate key error collection: my_database.my_collection index: my_unique_index dup key: { ... };\r\n(Mongo::Error::BulkWriteError)\r\n\r\n```\r\n&gt; I had to format that output a bit coz otherwise it comes as a single long line. Also my sample is in Ruby, but it should be same everywhere.\r\n\r\nI&#39;m not sure if this is desired behavior or a side-effect, but it works.","title":"MongoDB override or skip existing document with Unique Index","body":"<p>In my case I have an unique index and I'm trying to upsert documents as: Insert new ones, and skip existing ones.</p>\n<p>Documentation is missing this or doesn't say it explicitely, but you need to set up <code>ordered: false</code>. In this case it will continue with operations and return list of exceptions at the end.</p>\n<pre class=\"lang-rb prettyprint-override\"><code>MyModel.collection.bulk_write(\n  [\n    { update_one: { filter: {...}, update: { '$set' =&gt; {...}, upsert: true } },\n    { update_one: { filter: {...}, update: { '$set' =&gt; {...}, upsert: true } },\n    { update_one: { filter: {...}, update: { '$set' =&gt; {...}, upsert: true } },\n    ...\n  ],\n  ordered: false\n)\n</code></pre>\n<p>And at the end you will get back error like this:</p>\n<pre><code>Multiple errors:\n[11000]: E11000 duplicate key error collection: my_database.my_collection index: my_unique_index dup key: { ... };\n[11000]: E11000 duplicate key error collection: my_database.my_collection index: my_unique_index dup key: { ... };\n(Mongo::Error::BulkWriteError)\n\n</code></pre>\n<blockquote>\n<p>I had to format that output a bit coz otherwise it comes as a single long line. Also my sample is in Ruby, but it should be same everywhere.</p>\n</blockquote>\n<p>I'm not sure if this is desired behavior or a side-effect, but it works.</p>\n"}],"owner":{"account_id":9992410,"reputation":460,"user_id":8710383,"display_name":"Oleksandr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677570813,"creation_date":1615550987,"question_id":66599673,"body_markdown":"I have a Spring Boot application with Spring Data. Also, I have a collection in MongoDB. The collection contains a few fields and I created an index with the UNIQUE flag by 3 fields, for example: name + surname + age.\r\n\r\nWhen I insert documents with the following Java format `repository.saveAll(list)`, and my collection already contains part of these documents - Mongo throws an Exception in my face like: \r\n\r\n&gt; Bulk write operation error on server localhost. Write errors: [BulkWriteError{index=0, code=11000, message=&#39;E11000 duplicate key error collection: myCollection.name index: name_1_surname_1_age_1 dup key\r\n\r\n\r\nIt&#39;s expected behavior, but I need to configure Mongo with the following logic:\r\n - When inserting multiple documents, and the index says &quot;some documents already exist in the collection&quot; - ignore such documents, or skip them, or just override without any exceptions.\r\n\r\nIs it possible? It&#39;s important for me to do it with multiple documents at the same time.\r\n\r\nDo you have some idea how to do this? As a better result, I would like to use some properties or additional flag without custom queries.\r\nThanks.\r\n","title":"MongoDB override or skip existing document with Unique Index","body":"<p>I have a Spring Boot application with Spring Data. Also, I have a collection in MongoDB. The collection contains a few fields and I created an index with the UNIQUE flag by 3 fields, for example: name + surname + age.</p>\n<p>When I insert documents with the following Java format <code>repository.saveAll(list)</code>, and my collection already contains part of these documents - Mongo throws an Exception in my face like:</p>\n<blockquote>\n<p>Bulk write operation error on server localhost. Write errors: [BulkWriteError{index=0, code=11000, message='E11000 duplicate key error collection: myCollection.name index: name_1_surname_1_age_1 dup key</p>\n</blockquote>\n<p>It's expected behavior, but I need to configure Mongo with the following logic:</p>\n<ul>\n<li>When inserting multiple documents, and the index says &quot;some documents already exist in the collection&quot; - ignore such documents, or skip them, or just override without any exceptions.</li>\n</ul>\n<p>Is it possible? It's important for me to do it with multiple documents at the same time.</p>\n<p>Do you have some idea how to do this? As a better result, I would like to use some properties or additional flag without custom queries.\nThanks.</p>\n"},{"tags":["javascript","java","graaljs"],"answers":[{"tags":[],"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677570752,"creation_date":1677570752,"answer_id":75589210,"question_id":75548543,"body_markdown":"Well, talking to the Graal.js people on their slack channel led to this insight from Jan Štola :\r\n\r\n&gt; We handle Java objects in the same way as JavaScript objects in JavaScript code. This means that we perform ToPrimitive() conversion when + operator is used. ToPrimitive(o) attempts to invoke o.valueOf() to convert o to a primitive value. If this call does not return a primitive value then it invokes o.toString(). So, one possibility is to add valueOf() methods into your classes (and return something like doubleValue() there).\r\n\r\nSo adding a `valueOf`-method solved that problem. \r\n\r\nJan also added a solution if you cannot modify the existing class:\r\n\r\n&gt; If you don&#39;t want to modify your classes then you can define valueOf() method on foreign object prototype (FOP). Every non-JavaScript object (like Java object) has FOP object as its prototype. So, when valueOf() method is not defined on the Java object itself then FOP object is searched for this method.\r\nHence, you can use something like\r\nvar FOP = Object.getPrototypeOf(new java.lang.Object());\r\nFOP.valueOf = function() {\r\n  return (this instanceof java.lang.Number) ? this.doubleValue() : Object.prototype.valueOf.call(this);\r\n}\r\nto ensure that subclasses of java.lang.Number will be converted to the desired value in ToPrimitive() conversion.\r\n\r\nChristian Humer added an implementation as well. ","title":"How can I get Graal.js to handle a custom numeric Java type?","body":"<p>Well, talking to the Graal.js people on their slack channel led to this insight from Jan Štola :</p>\n<blockquote>\n<p>We handle Java objects in the same way as JavaScript objects in JavaScript code. This means that we perform ToPrimitive() conversion when + operator is used. ToPrimitive(o) attempts to invoke o.valueOf() to convert o to a primitive value. If this call does not return a primitive value then it invokes o.toString(). So, one possibility is to add valueOf() methods into your classes (and return something like doubleValue() there).</p>\n</blockquote>\n<p>So adding a <code>valueOf</code>-method solved that problem.</p>\n<p>Jan also added a solution if you cannot modify the existing class:</p>\n<blockquote>\n<p>If you don't want to modify your classes then you can define valueOf() method on foreign object prototype (FOP). Every non-JavaScript object (like Java object) has FOP object as its prototype. So, when valueOf() method is not defined on the Java object itself then FOP object is searched for this method.\nHence, you can use something like\nvar FOP = Object.getPrototypeOf(new java.lang.Object());\nFOP.valueOf = function() {\nreturn (this instanceof java.lang.Number) ? this.doubleValue() : Object.prototype.valueOf.call(this);\n}\nto ensure that subclasses of java.lang.Number will be converted to the desired value in ToPrimitive() conversion.</p>\n</blockquote>\n<p>Christian Humer added an implementation as well.</p>\n"}],"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677570752,"creation_date":1677174695,"question_id":75548543,"body_markdown":"To dive in, we have an app where we have had Nashorn embedded. \r\nWith 17 I&#39;m replacing it with GraalJS and there are some issues.&lt;br&gt;\r\nThe current one is where I want GraalJS treat a custom class as an int (or double)for the purpose of basic arithmetic (+,- and so on). Right now, Graal.js can&#39;t make head or tails of it so it just calls the `toString` method which isn&#39;t optimal. &lt;br&gt;With Nashorn it sufficed to extend `java.lang.Number` but that doesn&#39;t seem to work here.&lt;br&gt; I&#39;ve looked in the interpreter code (I can&#39;t find any relevant docs) and that shows that Graal.js can handle the various `java.lang` classes but I can&#39;t figure out how to make it use custom classes. \r\n\r\nThe custom class has a lot of other func as well so I can&#39;t throw it away and we have a large installed base of JS code that uses the custom class(es).\r\n\r\nThe JS code : `function(e){print(e.id + 1)}` where `e` is an object and `id` is a custom type (`JSNumber` that extends `Number`). \r\n\r\nWith Nashorn this worked (ie if id = 1, the result would be 2).&lt;br&gt;\r\nBut, with Graal.js `id` is treated like a String and we get string concatenation instead, the result is `12`.\r\n\r\nAny links, hints or tips welcome!\r\n\r\nAddendum: this seems to be what I&#39;m looking for : https://www.graalvm.org/latest/reference-manual/js/OperatorOverloading/ or what I want to achieve.","title":"How can I get Graal.js to handle a custom numeric Java type?","body":"<p>To dive in, we have an app where we have had Nashorn embedded.\nWith 17 I'm replacing it with GraalJS and there are some issues.<br>\nThe current one is where I want GraalJS treat a custom class as an int (or double)for the purpose of basic arithmetic (+,- and so on). Right now, Graal.js can't make head or tails of it so it just calls the <code>toString</code> method which isn't optimal. <br>With Nashorn it sufficed to extend <code>java.lang.Number</code> but that doesn't seem to work here.<br> I've looked in the interpreter code (I can't find any relevant docs) and that shows that Graal.js can handle the various <code>java.lang</code> classes but I can't figure out how to make it use custom classes.</p>\n<p>The custom class has a lot of other func as well so I can't throw it away and we have a large installed base of JS code that uses the custom class(es).</p>\n<p>The JS code : <code>function(e){print(e.id + 1)}</code> where <code>e</code> is an object and <code>id</code> is a custom type (<code>JSNumber</code> that extends <code>Number</code>).</p>\n<p>With Nashorn this worked (ie if id = 1, the result would be 2).<br>\nBut, with Graal.js <code>id</code> is treated like a String and we get string concatenation instead, the result is <code>12</code>.</p>\n<p>Any links, hints or tips welcome!</p>\n<p>Addendum: this seems to be what I'm looking for : <a href=\"https://www.graalvm.org/latest/reference-manual/js/OperatorOverloading/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/latest/reference-manual/js/OperatorOverloading/</a> or what I want to achieve.</p>\n"},{"tags":["java","spring","hibernate"],"owner":{"account_id":21441190,"reputation":95,"user_id":15795728,"display_name":"sunny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677570554,"creation_date":1677570554,"question_id":75589182,"body_markdown":"I&#39;m using Grails, but it&#39;s probably a hibernate/spring problem - I have my `Product` domain, and wanted to make `ManyToOne` association between `Product` and `ProductGroup`, but wanted to keep the column name as `productFamily`.\r\n\r\n```\r\nclass Product implements Comparable, Serializable {\r\n\r\n    // Base product information\r\n    String id\r\n\r\n    ...\r\n\r\n    ProductGroup productFamily\r\n\r\n\r\n    static mapping = {\r\n        id generator: &#39;uuid&#39;\r\n        cache true\r\n        productFamily joinTable: [name: &#39;product_group&#39;, column: &#39;product_group_id&#39;, key: &#39;product_id&#39;]\r\n    }\r\n```\r\n\r\nThe problem is when I&#39;m doing some HQL/SQL queries, e.g.:\r\n```\r\n&quot;&quot;&quot;\r\n\tselect pxyz.product\r\n\tfrom ProductXYZ pxyz\r\n\twhere pxyz.something = :something\r\n\tgroup by pxyz.product\r\n&quot;&quot;&quot;\r\n```\r\n\r\nit generates a query that corresponds to `product_family`, not the `product_group`.\r\n\r\nWhat should I add/change?","title":"Naming column differently than the class name and getting &quot;Unknown column in field list&quot;","body":"<p>I'm using Grails, but it's probably a hibernate/spring problem - I have my <code>Product</code> domain, and wanted to make <code>ManyToOne</code> association between <code>Product</code> and <code>ProductGroup</code>, but wanted to keep the column name as <code>productFamily</code>.</p>\n<pre><code>class Product implements Comparable, Serializable {\n\n    // Base product information\n    String id\n\n    ...\n\n    ProductGroup productFamily\n\n\n    static mapping = {\n        id generator: 'uuid'\n        cache true\n        productFamily joinTable: [name: 'product_group', column: 'product_group_id', key: 'product_id']\n    }\n</code></pre>\n<p>The problem is when I'm doing some HQL/SQL queries, e.g.:</p>\n<pre><code>&quot;&quot;&quot;\n    select pxyz.product\n    from ProductXYZ pxyz\n    where pxyz.something = :something\n    group by pxyz.product\n&quot;&quot;&quot;\n</code></pre>\n<p>it generates a query that corresponds to <code>product_family</code>, not the <code>product_group</code>.</p>\n<p>What should I add/change?</p>\n"},{"tags":["java","design-patterns","enums","static","singleton"],"answers":[{"comments":[{"owner":{"account_id":13821929,"reputation":1,"user_id":9977157,"display_name":"Devesh Kumar "},"score":0,"creation_date":1676433677,"post_id":75455345,"comment_id":133134206,"body_markdown":"This means both the above approaches are equivalent for singleton pattern and the enum approach will also do eager initialization?","body":"This means both the above approaches are equivalent for singleton pattern and the enum approach will also do eager initialization?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676437827,"post_id":75455345,"comment_id":133134761,"body_markdown":"@DeveshKumar Yes, enum constants are eagerly initialized. The two approaches are not strictly equivalent, however. An enum comes with more guarantees, like not being able to create more instances even through reflection or serialization (though I think `java.lang.invoke.*` can get around that restriction, or at least used to be able to).","body":"@DeveshKumar Yes, enum constants are eagerly initialized. The two approaches are not strictly equivalent, however. An enum comes with more guarantees, like not being able to create more instances even through reflection or serialization (though I think <code>java.lang.invoke.*</code> can get around that restriction, or at least used to be able to)."},{"owner":{"account_id":13821929,"reputation":1,"user_id":9977157,"display_name":"Devesh Kumar "},"score":0,"creation_date":1676530634,"post_id":75455345,"comment_id":133156049,"body_markdown":"@Slaw Thanks. Now I got enum is more powerful for Singleton","body":"@Slaw Thanks. Now I got enum is more powerful for Singleton"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676531731,"creation_date":1676433359,"answer_id":75455345,"question_id":75455307,"body_markdown":"&#128073; Enum objects are instantiated when the `enum` class loads. \r\n\r\nSo yes, you could consider that to be &quot;eager initialization&quot;.\r\n\r\n----------\r\n\r\n\r\nUsing an `enum` to define a [Singleton][1] in Java is the approach recommended by [Dr. Joshua Bloch][2] in his famous book, *Effective Java*. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Singleton_pattern\r\n  [2]: https://en.wikipedia.org/wiki/Joshua_Bloch","title":"Static initialization vs Enum approach for Singleton pattern","body":"<p>👉 Enum objects are instantiated when the <code>enum</code> class loads.</p>\n<p>So yes, you could consider that to be &quot;eager initialization&quot;.</p>\n<hr />\n<p>Using an <code>enum</code> to define a <a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow noreferrer\">Singleton</a> in Java is the approach recommended by <a href=\"https://en.wikipedia.org/wiki/Joshua_Bloch\" rel=\"nofollow noreferrer\">Dr. Joshua Bloch</a> in his famous book, <em>Effective Java</em>.</p>\n"},{"comments":[{"owner":{"account_id":13821929,"reputation":1,"user_id":9977157,"display_name":"Devesh Kumar "},"score":0,"creation_date":1676530519,"post_id":75456888,"comment_id":133156023,"body_markdown":"Thanks for the answer, It makes sense now for using an enum.","body":"Thanks for the answer, It makes sense now for using an enum."}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676447796,"creation_date":1676447796,"answer_id":75456888,"question_id":75455307,"body_markdown":"When using an enum, the single constant is public. There&#39;s no need to add a getter for it.\r\n\r\nAs far as I&#39;m concerned, only use an enum if you need any of its advantages. There aren&#39;t that many though, since comparison and switching is not relevant with only a single instance. There is one advantage I can think of (if you need it): enums are serializable. Getting serialization to work for non-enum singletons isn&#39;t trivial; you need to work with `readResolve` (and possibly `writeReplace`) to make sure that when the serialized singleton value is read from the steam, no new instance is returned. One is still created though, it will just be discarded. When using an enum you get serialization for free.","title":"Static initialization vs Enum approach for Singleton pattern","body":"<p>When using an enum, the single constant is public. There's no need to add a getter for it.</p>\n<p>As far as I'm concerned, only use an enum if you need any of its advantages. There aren't that many though, since comparison and switching is not relevant with only a single instance. There is one advantage I can think of (if you need it): enums are serializable. Getting serialization to work for non-enum singletons isn't trivial; you need to work with <code>readResolve</code> (and possibly <code>writeReplace</code>) to make sure that when the serialized singleton value is read from the steam, no new instance is returned. One is still created though, it will just be discarded. When using an enum you get serialization for free.</p>\n"}],"owner":{"account_id":13821929,"reputation":1,"user_id":9977157,"display_name":"Devesh Kumar "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677570065,"creation_date":1676432888,"question_id":75455307,"body_markdown":"I am learning singleton design pattern from the head first design pattern book.\r\n\r\nThey have given one approach which uses static initialization. Static initialization is done at the time of class loading and the problem with this approach is that it will create the instance even if we are not using it(at the time of class loading) which means it will do `eager initialization`.\r\n\r\n```\r\npublic class Singleton {\r\n    private static Singleton uniqueInstance = new Singleton();\r\n\r\n    // Other useful fields here (can be static or non-static)\r\n\r\n    private Singleton() {}\r\n    public static Singleton getInstance() {\r\n        return uniqueInstance;\r\n    }\r\n\r\n    // Other useful methods here (can be static or non-static)\r\n}\r\n```\r\n\r\nThey have given one more approach which uses an enum.\r\n\r\n```\r\npublic enum Singleton {\r\n\tUNIQUE_INSTANCE;\r\n \r\n\t// other useful fields here (can be static or non-static)\r\n\r\n    public static Singleton getInstance() {\r\n        return UNIQUE_INSTANCE;\r\n    }\r\n\r\n\t// other useful methods here (can be static or non-static)\r\n}\r\n```\r\n\r\nI want to know what is the difference between the above approaches in terms of when the object is created(In both cases when we are using that object in the application and when we are not using the object throughout the application).\r\n\r\nIn other words, I want to know whether the enum approach will also do `eager initialization`?","title":"Static initialization vs Enum approach for Singleton pattern","body":"<p>I am learning singleton design pattern from the head first design pattern book.</p>\n<p>They have given one approach which uses static initialization. Static initialization is done at the time of class loading and the problem with this approach is that it will create the instance even if we are not using it(at the time of class loading) which means it will do <code>eager initialization</code>.</p>\n<pre><code>public class Singleton {\n    private static Singleton uniqueInstance = new Singleton();\n\n    // Other useful fields here (can be static or non-static)\n\n    private Singleton() {}\n    public static Singleton getInstance() {\n        return uniqueInstance;\n    }\n\n    // Other useful methods here (can be static or non-static)\n}\n</code></pre>\n<p>They have given one more approach which uses an enum.</p>\n<pre><code>public enum Singleton {\n    UNIQUE_INSTANCE;\n \n    // other useful fields here (can be static or non-static)\n\n    public static Singleton getInstance() {\n        return UNIQUE_INSTANCE;\n    }\n\n    // other useful methods here (can be static or non-static)\n}\n</code></pre>\n<p>I want to know what is the difference between the above approaches in terms of when the object is created(In both cases when we are using that object in the application and when we are not using the object throughout the application).</p>\n<p>In other words, I want to know whether the enum approach will also do <code>eager initialization</code>?</p>\n"},{"tags":["java","serialization","jackson"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1677551534,"post_id":75587319,"comment_id":133356323,"body_markdown":"Encoding is how you convert from string to bytes. Strings don&#39;t inherently have encodings.","body":"Encoding is how you convert from string to bytes. Strings don&#39;t inherently have encodings."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1677551581,"post_id":75587319,"comment_id":133356332,"body_markdown":"`writeValueAsBytes()` does specify its encoding.","body":"<code>writeValueAsBytes()</code> does specify its encoding."}],"answers":[{"tags":[],"owner":{"account_id":3436150,"reputation":622,"user_id":2879245,"accept_rate":71,"display_name":"Michał Marcinkowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677569806,"creation_date":1677569806,"answer_id":75589069,"question_id":75587319,"body_markdown":"I believe that Jackson&#39;s encoding is not set on a specific method level, but a whole `ObjectMapper`. By default it uses UTF-8, but in some scenarios UTF-16/32 might be used. \r\n\r\nThis answer may help you understand the problem https://stackoverflow.com/a/10016086/2879245","title":"Default encoding of the output of Objectmapper.writeValueAsString?","body":"<p>I believe that Jackson's encoding is not set on a specific method level, but a whole <code>ObjectMapper</code>. By default it uses UTF-8, but in some scenarios UTF-16/32 might be used.</p>\n<p>This answer may help you understand the problem <a href=\"https://stackoverflow.com/a/10016086/2879245\">https://stackoverflow.com/a/10016086/2879245</a></p>\n"}],"owner":{"account_id":27808364,"reputation":51,"user_id":21231235,"display_name":"John Cooper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677569806,"creation_date":1677550957,"question_id":75587319,"body_markdown":"Can someone tell me what is the default encoding of the serialized string generated by the usage of ObjectMapper.writeValueAsString method ??\r\n\r\nI am assuming it should be UTF-8 because this method is used for the purpose of serializing class objects, the output of which is ideally a JSON ??\r\n\r\nI have tried checking the [documentation][1] but i did not find any specific mention of this UTF-8 around this method.\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html","title":"Default encoding of the output of Objectmapper.writeValueAsString?","body":"<p>Can someone tell me what is the default encoding of the serialized string generated by the usage of ObjectMapper.writeValueAsString method ??</p>\n<p>I am assuming it should be UTF-8 because this method is used for the purpose of serializing class objects, the output of which is ideally a JSON ??</p>\n<p>I have tried checking the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">documentation</a> but i did not find any specific mention of this UTF-8 around this method.</p>\n"},{"tags":["java","spring-boot","maven","microservices"],"owner":{"account_id":2715187,"reputation":117,"user_id":2342717,"accept_rate":22,"display_name":"TJM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677569752,"creation_date":1677569752,"question_id":75589058,"body_markdown":"I am trying to learn how to implement microservices with spring boot application and trying to run the spring boot application on the server port 9091.But always showing the below error :\r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-02-28 12:37:50.615 ERROR 3828 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nWeb server failed to start. Port 8080 was already in use.\r\n\r\nAction:\r\n\r\nIdentify and stop the process that&#39;s listening on port 8080 or configure this application to listen on another port.\r\n\r\nI also try to kill the port number using command prompt window , still that error is coming up again and again.","title":"&#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.PortInUseException:","body":"<p>I am trying to learn how to implement microservices with spring boot application and trying to run the spring boot application on the server port 9091.But always showing the below error :</p>\n<p>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-02-28 12:37:50.615 ERROR 3828 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   :</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Web server failed to start. Port 8080 was already in use.</p>\n<p>Action:</p>\n<p>Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.</p>\n<p>I also try to kill the port number using command prompt window , still that error is coming up again and again.</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677565269,"post_id":75588449,"comment_id":133357973,"body_markdown":"IDE (Eclipse or IDEA) ? Project Type ? Maven or Gradle ? or no Maven or Gradle ? add jar file into IDE project (IDEA , `Project Settings` -&gt; `Libraries` -&gt; `+` add jar file)","body":"IDE (Eclipse or IDEA) ? Project Type ? Maven or Gradle ? or no Maven or Gradle ? add jar file into IDE project (IDEA , <code>Project Settings</code> -&gt; <code>Libraries</code> -&gt; <code>+</code> add jar file)"},{"owner":{"account_id":25230704,"reputation":19,"user_id":19065902,"display_name":"Ganesh Mandapati"},"score":0,"creation_date":1677566742,"post_id":75588449,"comment_id":133358198,"body_markdown":"@life888888 attached screenshot, can you please check once","body":"@life888888 attached screenshot, can you please check once"},{"owner":{"account_id":25230704,"reputation":19,"user_id":19065902,"display_name":"Ganesh Mandapati"},"score":0,"creation_date":1677567400,"post_id":75588449,"comment_id":133358305,"body_markdown":"@life888888 pdfbox jar file is already added.","body":"@life888888 pdfbox jar file is already added."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1677569109,"post_id":75588449,"comment_id":133358687,"body_markdown":"May I ask why `org.apache.pdfbox.pdmodel.graphics` appears under `Source Packages`?","body":"May I ask why <code>org.apache.pdfbox.pdmodel.graphics</code> appears under <code>Source Packages</code>?"},{"owner":{"account_id":25230704,"reputation":19,"user_id":19065902,"display_name":"Ganesh Mandapati"},"score":0,"creation_date":1677569681,"post_id":75588449,"comment_id":133358812,"body_markdown":"@life888888 Okay, I removed from source packages, Now I&#39;m not getting errors. Thank you","body":"@life888888 Okay, I removed from source packages, Now I&#39;m not getting errors. Thank you"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1677574248,"post_id":75588449,"comment_id":133359977,"body_markdown":"Somebody please put this as an answer","body":"Somebody please put this as an answer"}],"owner":{"account_id":25230704,"reputation":19,"user_id":19065902,"display_name":"Ganesh Mandapati"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677569576,"creation_date":1677564978,"question_id":75588449,"body_markdown":"[![enter image description here][1]][1]I&#39;m trying to import one pdfbox package but Not able to import it.\r\n\r\n```\r\nimport org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject;\r\n```\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N4pd9.png\r\n  [2]: https://i.stack.imgur.com/Eoj8p.png","title":"Apache PdfBox verision 2.0.27 Not able to import PDImageXObject","body":"<p><a href=\"https://i.stack.imgur.com/N4pd9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N4pd9.png\" alt=\"enter image description here\" /></a>I'm trying to import one pdfbox package but Not able to import it.</p>\n<pre><code>import org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Eoj8p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Eoj8p.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1677201780,"post_id":75551795,"comment_id":133296326,"body_markdown":"this is not an ISO_INSTANT format - it is missing the `T` between date and time and the *time zone* is also incorrect - the `DateTimeFormatter.ofPattern()` method must be used for that format (or change the input to `&quot;2023-02-13T06:10:45.483000Z&quot;`)","body":"this is not an ISO_INSTANT format - it is missing the <code>T</code> between date and time and the <i>time zone</i> is also incorrect - the <code>DateTimeFormatter.ofPattern()</code> method must be used for that format (or change the input to <code>&quot;2023-02-13T06:10:45.483000Z&quot;</code>)"},{"owner":{"display_name":"user5141791"},"score":0,"creation_date":1677202266,"post_id":75551795,"comment_id":133296389,"body_markdown":"The input date is retrieved from a BigQuery Timestamp data type column. Is there any way I can convert that &quot;UTC&quot; to that &#39;Z&#39;?","body":"The input date is retrieved from a BigQuery Timestamp data type column. Is there any way I can convert that &quot;UTC&quot; to that &#39;Z&#39;?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677210035,"post_id":75551795,"comment_id":133297248,"body_markdown":"What *exactly* is a “simple DateTime format”?","body":"What <i>exactly</i> is a “simple DateTime format”?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1677244114,"post_id":75551795,"comment_id":133304461,"body_markdown":"*I want to convert this into a simple DateTime format without the Timezone* So you want to discard key information? What datatype do you want to end up with?","body":"<i>I want to convert this into a simple DateTime format without the Timezone</i> So you want to discard key information? What datatype do you want to end up with?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677277180,"post_id":75551795,"comment_id":133312925,"body_markdown":"You don’t want to throw away the information that the date and time are in UTC. You may want to present the date and time to the user without that information, but do keep it internally nevertheless. Just in case.","body":"You don’t want to throw away the information that the date and time are in UTC. You may want to present the date and time to the user without that information, but do keep it internally nevertheless. Just in case."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677277876,"post_id":75551795,"comment_id":133313046,"body_markdown":"Declare `private static final DateTimeFormatter BIG_QUERY_PARSER = new DateTimeFormatterBuilder() .append(DateTimeFormatter.ISO_LOCAL_DATE) .appendLiteral(&#39; &#39;) .append(DateTimeFormatter.ISO_LOCAL_TIME) .appendPattern(&quot; zzz&quot;) .toFormatter(Locale.ENGLISH);`. Parse using `Instant i = BIG_QUERY_PARSER.parse(s, Instant::from);`. An `Instant` is independent of time zone, just denotes a point in time, like a BigQuery timestamp.","body":"Declare <code>private static final DateTimeFormatter BIG_QUERY_PARSER = new DateTimeFormatterBuilder() .append(DateTimeFormatter.ISO_LOCAL_DATE) .appendLiteral(&#39; &#39;) .append(DateTimeFormatter.ISO_LOCAL_TIME) .appendPattern(&quot; zzz&quot;) .toFormatter(Locale.ENGLISH);</code>. Parse using <code>Instant i = BIG_QUERY_PARSER.parse(s, Instant::from);</code>. An <code>Instant</code> is independent of time zone, just denotes a point in time, like a BigQuery timestamp."},{"owner":{"display_name":"user5141791"},"score":0,"creation_date":1677543834,"post_id":75551795,"comment_id":133355252,"body_markdown":"@g00se I forgot to add more details sorry about that but I wanted to convert this into a LocalDate datatype that should end up with a value of something like &quot;2023-02-13&quot;.","body":"@g00se I forgot to add more details sorry about that but I wanted to convert this into a LocalDate datatype that should end up with a value of something like &quot;2023-02-13&quot;."},{"owner":{"display_name":"user5141791"},"score":0,"creation_date":1677543906,"post_id":75551795,"comment_id":133355266,"body_markdown":"@BasilBourque I just simply wanted this sample string to become something like a LocalDate format type which would result in a value of &quot;2023-02-13&quot;.","body":"@BasilBourque I just simply wanted this sample string to become something like a LocalDate format type which would result in a value of &quot;2023-02-13&quot;."}],"answers":[{"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1677572717,"post_id":75588832,"comment_id":133359561,"body_markdown":"Or just `DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSSSSS zzz&quot;)`.","body":"Or just <code>DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSSSSS zzz&quot;)</code>."}],"tags":[],"owner":{"display_name":"user5141791"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677569219,"creation_date":1677568024,"answer_id":75588832,"question_id":75551795,"body_markdown":"I was able to solve my issue using\r\n\r\n```\r\nprivate static final DateTimeFormatter BIG_QUERY_PARSER = new DateTimeFormatterBuilder()\r\n        .append(DateTimeFormatter.ISO_LOCAL_DATE)\r\n        .appendLiteral(&#39; &#39;)\r\n        .append(DateTimeFormatter.ISO_LOCAL_TIME)\r\n        .appendPattern(&quot; zzz&quot;)\r\n        .toFormatter(Locale.ENGLISH);\r\n```\r\nThank you for the comments/solutions.","title":"DateTime with &quot;UTC&quot; Timezone to DateTime only (without the UTC Timezone) conversion in Java","body":"<p>I was able to solve my issue using</p>\n<pre><code>private static final DateTimeFormatter BIG_QUERY_PARSER = new DateTimeFormatterBuilder()\n        .append(DateTimeFormatter.ISO_LOCAL_DATE)\n        .appendLiteral(' ')\n        .append(DateTimeFormatter.ISO_LOCAL_TIME)\n        .appendPattern(&quot; zzz&quot;)\n        .toFormatter(Locale.ENGLISH);\n</code></pre>\n<p>Thank you for the comments/solutions.</p>\n"}],"owner":{"display_name":"user5141791"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75588832,"answer_count":1,"score":-2,"last_activity_date":1677569219,"creation_date":1677201166,"question_id":75551795,"body_markdown":"I have this sample String &quot;2023-02-13 06:10:45.483000 UTC&quot; and I want to convert this into a simple DateTime format without the Timezone in Java. How do I do this in Java language?\r\n\r\n```\r\nString s = &quot;2023-02-13 06:10:45.483000 UTC&quot;;\r\nTemporalAccessor ta = DateTimeFormatter.ISO_INSTANT.parse(s);\r\nInstant i = Instant.from(ta);\r\nDate d = Date.from(i);\r\n\r\nSystem.out.println(d);\r\n```\r\nThis is my sample code and it returns an error from Java:\r\n\r\n```\r\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;2023-02-13 06:10:45.483000 UTC&#39; could not be parsed at index 10\r\n        at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052)\r\n        at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1880)\r\n        at App.main(App.java:29)\r\n```","title":"DateTime with &quot;UTC&quot; Timezone to DateTime only (without the UTC Timezone) conversion in Java","body":"<p>I have this sample String &quot;2023-02-13 06:10:45.483000 UTC&quot; and I want to convert this into a simple DateTime format without the Timezone in Java. How do I do this in Java language?</p>\n<pre><code>String s = &quot;2023-02-13 06:10:45.483000 UTC&quot;;\nTemporalAccessor ta = DateTimeFormatter.ISO_INSTANT.parse(s);\nInstant i = Instant.from(ta);\nDate d = Date.from(i);\n\nSystem.out.println(d);\n</code></pre>\n<p>This is my sample code and it returns an error from Java:</p>\n<pre><code>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '2023-02-13 06:10:45.483000 UTC' could not be parsed at index 10\n        at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052)\n        at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1880)\n        at App.main(App.java:29)\n</code></pre>\n"},{"tags":["java","redis","spring-data-redis"],"comments":[{"owner":{"account_id":27897141,"reputation":1,"user_id":21302191,"display_name":"Pavan Yalamanchili"},"score":0,"creation_date":1677566149,"post_id":75588567,"comment_id":133358100,"body_markdown":"I want redis to find itself which ball has the minimum sale count using RedisAtomicInteger and increment by +1 and give me that ball.","body":"I want redis to find itself which ball has the minimum sale count using RedisAtomicInteger and increment by +1 and give me that ball."}],"owner":{"account_id":27897141,"reputation":1,"user_id":21302191,"display_name":"Pavan Yalamanchili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677568867,"creation_date":1677565918,"question_id":75588567,"body_markdown":"How to find the minimum number from a list of Redis keys using RedisAtomicInteger and then increment it using RedisAtomicInteger \r\n\r\nI am trying to find a minimum count for Balls(my redis Key in which data related to balls will be there) like say Red balls and Blue Balls, let&#39;s say if red balls sales are minimum then I want to make a +1  sale to Red balls and increment to the sale count should be redis side and i want to use and achieve using RedisAtomicInteger ","title":"How to find the minimum number from a list of Redis keys using RedisAtomicInteger and then increment it using RedisAtomicInteger","body":"<p>How to find the minimum number from a list of Redis keys using RedisAtomicInteger and then increment it using RedisAtomicInteger</p>\n<p>I am trying to find a minimum count for Balls(my redis Key in which data related to balls will be there) like say Red balls and Blue Balls, let's say if red balls sales are minimum then I want to make a +1  sale to Red balls and increment to the sale count should be redis side and i want to use and achieve using RedisAtomicInteger</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","datadog"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1677056013,"post_id":75530089,"comment_id":133259974,"body_markdown":"I&#39;d say that the route might add a few 100 ms but not several seconds. I&#39;d suspect that&#39;s related to factors like size of the data (which might hit some bandwidth limit) and storage class (i.e. cheaper cold storage in S3 would take longer to query) among other things. Having a look at the [S3 performance guidelines](https://docs.aws.amazon.com/AmazonS3/latest/userguide/optimizing-performance-guidelines.html) might help.","body":"I&#39;d say that the route might add a few 100 ms but not several seconds. I&#39;d suspect that&#39;s related to factors like size of the data (which might hit some bandwidth limit) and storage class (i.e. cheaper cold storage in S3 would take longer to query) among other things. Having a look at the <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/optimizing-performance-guidelines.html\" rel=\"nofollow noreferrer\">S3 performance guidelines</a> might help."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1677068602,"post_id":75530089,"comment_id":133263532,"body_markdown":"This is a case where adding a couple lines of logging to your code will be much better than having strangers on the Internet guess at causes. Log when you start `downloadLastFile()` and at the end, _with the count of objects retrieved_. If that doesn&#39;t account for your time, move up a level.","body":"This is a case where adding a couple lines of logging to your code will be much better than having strangers on the Internet guess at causes. Log when you start <code>downloadLastFile()</code> and at the end, <i>with the count of objects retrieved</i>. If that doesn&#39;t account for your time, move up a level."},{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":1,"creation_date":1677076516,"post_id":75530089,"comment_id":133266138,"body_markdown":"`listObjects` requires multiple serial API calls to S3, at least one per 1000 files.  For large enough buckets, that will take considerable time.  If getting slightly older lists is acceptable, setting up an [S3 Inventory Report](https://docs.aws.amazon.com/AmazonS3/latest/userguide/storage-inventory.html) can speed things up.  If not, consider setting up a [metadata database](https://aws.amazon.com/blogs/big-data/building-and-maintaining-an-amazon-s3-metadata-index-without-servers/) to have a quick database query available instead of a brute force list.","body":"<code>listObjects</code> requires multiple serial API calls to S3, at least one per 1000 files.  For large enough buckets, that will take considerable time.  If getting slightly older lists is acceptable, setting up an <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/storage-inventory.html\" rel=\"nofollow noreferrer\">S3 Inventory Report</a> can speed things up.  If not, consider setting up a <a href=\"https://aws.amazon.com/blogs/big-data/building-and-maintaining-an-amazon-s3-metadata-index-without-servers/\" rel=\"nofollow noreferrer\">metadata database</a> to have a quick database query available instead of a brute force list."},{"owner":{"account_id":25902085,"reputation":35,"user_id":19627792,"display_name":"VegetaSan"},"score":0,"creation_date":1677161687,"post_id":75530089,"comment_id":133286134,"body_markdown":"@AnonCoward thanks for propose, I&#39;ll try to use metadata, but I don&#39;t think that problem in bucket size, because even if my bucket has only 5 files (jpg) and size of each file in avarage 30 kb - it still has response time 10 seconds","body":"@AnonCoward thanks for propose, I&#39;ll try to use metadata, but I don&#39;t think that problem in bucket size, because even if my bucket has only 5 files (jpg) and size of each file in avarage 30 kb - it still has response time 10 seconds"}],"answers":[{"tags":[],"owner":{"account_id":27832325,"reputation":2020,"user_id":21250520,"display_name":"Filippo Testini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677056271,"creation_date":1677056271,"answer_id":75530249,"question_id":75530089,"body_markdown":"1.5ms vs 15 seconds is A LOT :D\r\n\r\nThere are at least 2 approach to improve the response time of S3:\r\n\r\n 1. Use [Transfer Acceleration][1]. Improves both uploads and downloads, uses edge locations to route your request trough AWS internal infrastructure.\r\n 2. Use [CloudFront][2]. Improves just downloads, uses edge locations to cache your content.\r\n\r\n\r\n  [1]: https://aws.amazon.com/it/s3/transfer-acceleration/\r\n  [2]: https://docs.aws.amazon.com/whitepapers/latest/secure-content-delivery-amazon-cloudfront/s3-origin-with-cloudfront.html","title":"How to reduce response time from Amazon S3?","body":"<p>1.5ms vs 15 seconds is A LOT :D</p>\n<p>There are at least 2 approach to improve the response time of S3:</p>\n<ol>\n<li>Use <a href=\"https://aws.amazon.com/it/s3/transfer-acceleration/\" rel=\"nofollow noreferrer\">Transfer Acceleration</a>. Improves both uploads and downloads, uses edge locations to route your request trough AWS internal infrastructure.</li>\n<li>Use <a href=\"https://docs.aws.amazon.com/whitepapers/latest/secure-content-delivery-amazon-cloudfront/s3-origin-with-cloudfront.html\" rel=\"nofollow noreferrer\">CloudFront</a>. Improves just downloads, uses edge locations to cache your content.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25902085,"reputation":35,"user_id":19627792,"display_name":"VegetaSan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677568724,"creation_date":1677568724,"answer_id":75588923,"question_id":75530089,"body_markdown":"FIXED!\r\nIt appers that all problems were due to the maven dependencies, I had old version 1.12.382 of aws-java-sdk and when I change it to version 1.12.415 of aws-java-sdk-s3 - it fixed the problem and now response time is 1-2 seconds","title":"How to reduce response time from Amazon S3?","body":"<p>FIXED!\nIt appers that all problems were due to the maven dependencies, I had old version 1.12.382 of aws-java-sdk and when I change it to version 1.12.415 of aws-java-sdk-s3 - it fixed the problem and now response time is 1-2 seconds</p>\n"}],"owner":{"account_id":25902085,"reputation":35,"user_id":19627792,"display_name":"VegetaSan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75588923,"answer_count":2,"score":1,"last_activity_date":1677568724,"creation_date":1677055381,"question_id":75530089,"body_markdown":"I have java method that gets last saved file from S3 bucket by getting list of all objects and sorting them by name (all files has timestamp in their name). The problem is that response time could be 13 seconds and up to 20, depends on how many objects in the bucket [![enter image description here][1]][1]\r\n\r\nI guess problem lies in call rout - client - cloudflare - loadbalancer - ingress controler - my service container  - ingress controler - loadbalancer - cloudflare - client, because when I call this method from localhost, response time is 1.5 ms in avarage\r\n\r\nIs there a way to reduce response time?\r\n\r\nService method\r\n\r\n    public URL getLastSavedFile(Integer vehicleId) {\r\n        try {\r\n            S3ObjectSummary s3ObjectSummary = repository.downloadLastFile(String.valueOf(vehicleId));\r\n            GeneratePresignedUrlRequest request = getPresignedUrl(s3ObjectSummary);\r\n            log.info(&quot;Returned URL of last file from S3 storage, for vehicle - {}&quot;, vehicleId);\r\n            return s3Client.generatePresignedUrl(request);\r\n        } catch (IndexOutOfBoundsException e) {\r\n            log.info(&quot;Failed to get last snapshot, the following - {} doesn&#39;t exist in storage&quot;, vehicleId);\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nRepository\r\n\r\n    public S3ObjectSummary downloadLastFile(String vehicleId) {\r\n        ObjectListing listing = s3client.listObjects( env.getProperty(&quot;INIT_S3_BUCKET&quot;), vehicleId );\r\n        List&lt;S3ObjectSummary&gt; objects = listing.getObjectSummaries();\r\n        while (listing.isTruncated()) {\r\n            listing = s3client.listNextBatchOfObjects (listing);\r\n            objects.addAll (listing.getObjectSummaries());\r\n        }\r\n        objects.sort((o1, o2) -&gt; o2.getKey().compareTo(o1.getKey()));\r\n        return objects.get(0); //sorted list with most recent timestamp in the beginning\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QxwMN.png","title":"How to reduce response time from Amazon S3?","body":"<p>I have java method that gets last saved file from S3 bucket by getting list of all objects and sorting them by name (all files has timestamp in their name). The problem is that response time could be 13 seconds and up to 20, depends on how many objects in the bucket <a href=\"https://i.stack.imgur.com/QxwMN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QxwMN.png\" alt=\"enter image description here\" /></a></p>\n<p>I guess problem lies in call rout - client - cloudflare - loadbalancer - ingress controler - my service container  - ingress controler - loadbalancer - cloudflare - client, because when I call this method from localhost, response time is 1.5 ms in avarage</p>\n<p>Is there a way to reduce response time?</p>\n<p>Service method</p>\n<pre><code>public URL getLastSavedFile(Integer vehicleId) {\n    try {\n        S3ObjectSummary s3ObjectSummary = repository.downloadLastFile(String.valueOf(vehicleId));\n        GeneratePresignedUrlRequest request = getPresignedUrl(s3ObjectSummary);\n        log.info(&quot;Returned URL of last file from S3 storage, for vehicle - {}&quot;, vehicleId);\n        return s3Client.generatePresignedUrl(request);\n    } catch (IndexOutOfBoundsException e) {\n        log.info(&quot;Failed to get last snapshot, the following - {} doesn't exist in storage&quot;, vehicleId);\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>Repository</p>\n<pre><code>public S3ObjectSummary downloadLastFile(String vehicleId) {\n    ObjectListing listing = s3client.listObjects( env.getProperty(&quot;INIT_S3_BUCKET&quot;), vehicleId );\n    List&lt;S3ObjectSummary&gt; objects = listing.getObjectSummaries();\n    while (listing.isTruncated()) {\n        listing = s3client.listNextBatchOfObjects (listing);\n        objects.addAll (listing.getObjectSummaries());\n    }\n    objects.sort((o1, o2) -&gt; o2.getKey().compareTo(o1.getKey()));\n    return objects.get(0); //sorted list with most recent timestamp in the beginning\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":6647424,"reputation":421,"user_id":5130987,"display_name":"Nadun Priyankarage"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669307159,"creation_date":1669306085,"answer_id":74563530,"question_id":74271897,"body_markdown":"I had the similar issue because of `&lt;com.google.android.material.tabs.TabItem/&gt;`.\r\nSo I removed all `the com.google.android.material.tabs.TabItem` tags in `com.google.android.material.tabs.TabLayout` . this solved my rendering issue. \r\n\r\nThen I programmatically created the `TabItems` as,\r\n\r\n       private fun initComponents() {\r\n                \r\n        \r\n                val oneFragment = OneFragment()\r\n                val twoFragment = TwoFragment()\r\n                val threeFragment = ThreeFragment()\r\n        \r\n                val adapter = FragmentPagerAdapter(\r\n                    childFragmentManager, lifecycle, mutableListOf(\r\n                        oneFragment, twoFragment, threeFragment\r\n                    )\r\n                )\r\n        \r\n                binding.viewPager.isSaveEnabled = false\r\n                binding.viewPager.adapter = adapter\r\n                binding.viewPager.currentItem = 0\r\n                TabLayoutMediator(binding.tabLayout, binding.viewPager) { tab, position -&gt;\r\n                    when (position) {\r\n                        0 -&gt; {\r\n                            tab.text = getString(R.string.one)\r\n                        }\r\n                        1 -&gt; {\r\n                            tab.text = getString(R.string.two)\r\n                        }\r\n                        2 -&gt; {\r\n                            tab.text = getString(R.string.three)\r\n                        }\r\n                    }\r\n        \r\n                }.attach()\r\n                \r\n        \r\n            }\r\n\r\nPage Adapter\r\n\r\n    class FragmentPagerAdapter(\r\n        @NonNull fragmentManager: FragmentManager,\r\n        @NonNull lifecycle: Lifecycle,\r\n        var mFragmentList: MutableList&lt;Fragment&gt;\r\n    ) : FragmentStateAdapter(fragmentManager, lifecycle) {\r\n        override fun getItemCount(): Int {\r\n            return mFragmentList.size\r\n        }\r\n    \r\n        override fun createFragment(position: Int): Fragment {\r\n            return mFragmentList[position]\r\n        }\r\n    }\r\n\r\nThen XML\r\n\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n    \r\n               \r\n                &lt;com.google.android.material.tabs.TabLayout\r\n                    android:id=&quot;@+id/tabLayout&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:layout_marginStart=&quot;25dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginEnd=&quot;25dp&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;parent&quot;\r\n                    tools:ignore=&quot;ContentDescription&quot; /&gt;\r\n    \r\n                &lt;androidx.viewpager2.widget.ViewPager2\r\n                    android:id=&quot;@+id/viewPager&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;0dp&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;@+id/tabLayout&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;@+id/tabLayout&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/tabLayout&quot; /&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n","title":"java.lang.NullPointerException at android.content.res.Resources Theme","body":"<p>I had the similar issue because of <code>&lt;com.google.android.material.tabs.TabItem/&gt;</code>.\nSo I removed all <code>the com.google.android.material.tabs.TabItem</code> tags in <code>com.google.android.material.tabs.TabLayout</code> . this solved my rendering issue.</p>\n<p>Then I programmatically created the <code>TabItems</code> as,</p>\n<pre><code>   private fun initComponents() {\n            \n    \n            val oneFragment = OneFragment()\n            val twoFragment = TwoFragment()\n            val threeFragment = ThreeFragment()\n    \n            val adapter = FragmentPagerAdapter(\n                childFragmentManager, lifecycle, mutableListOf(\n                    oneFragment, twoFragment, threeFragment\n                )\n            )\n    \n            binding.viewPager.isSaveEnabled = false\n            binding.viewPager.adapter = adapter\n            binding.viewPager.currentItem = 0\n            TabLayoutMediator(binding.tabLayout, binding.viewPager) { tab, position -&gt;\n                when (position) {\n                    0 -&gt; {\n                        tab.text = getString(R.string.one)\n                    }\n                    1 -&gt; {\n                        tab.text = getString(R.string.two)\n                    }\n                    2 -&gt; {\n                        tab.text = getString(R.string.three)\n                    }\n                }\n    \n            }.attach()\n            \n    \n        }\n</code></pre>\n<p>Page Adapter</p>\n<pre><code>class FragmentPagerAdapter(\n    @NonNull fragmentManager: FragmentManager,\n    @NonNull lifecycle: Lifecycle,\n    var mFragmentList: MutableList&lt;Fragment&gt;\n) : FragmentStateAdapter(fragmentManager, lifecycle) {\n    override fun getItemCount(): Int {\n        return mFragmentList.size\n    }\n\n    override fun createFragment(position: Int): Fragment {\n        return mFragmentList[position]\n    }\n}\n</code></pre>\n<p>Then XML</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n\n           \n            &lt;com.google.android.material.tabs.TabLayout\n                android:id=&quot;@+id/tabLayout&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;50dp&quot;\n                android:layout_marginStart=&quot;25dp&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:layout_marginEnd=&quot;25dp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;parent&quot;\n                tools:ignore=&quot;ContentDescription&quot; /&gt;\n\n            &lt;androidx.viewpager2.widget.ViewPager2\n                android:id=&quot;@+id/viewPager&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;0dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/tabLayout&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/tabLayout&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/tabLayout&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1961002,"reputation":1927,"user_id":1762587,"accept_rate":31,"display_name":"szaske"},"score":0,"creation_date":1680222469,"post_id":75588913,"comment_id":133866062,"body_markdown":"this worked for me, thanks for the tip. Android Studios layout editor has been crap for the last year. So many bugs and now this [SIGH]","body":"this worked for me, thanks for the tip. Android Studios layout editor has been crap for the last year. So many bugs and now this [SIGH]"}],"tags":[],"owner":{"account_id":9810725,"reputation":167,"user_id":7269017,"accept_rate":100,"display_name":"Jonas.S."},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1677568604,"creation_date":1677568604,"answer_id":75588913,"question_id":74271897,"body_markdown":"Downgrade material library to:\r\n`implementation &#39;com.google.android.material:material:1.7.0&#39;`","title":"java.lang.NullPointerException at android.content.res.Resources Theme","body":"<p>Downgrade material library to:\n<code>implementation 'com.google.android.material:material:1.7.0'</code></p>\n"}],"owner":{"account_id":25715325,"reputation":41,"user_id":19473208,"display_name":"Saloni Tyagi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1066,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677568604,"creation_date":1667280744,"question_id":74271897,"body_markdown":"My code was working fine but suddenly design is not visible, errors are:-    \r\njava.lang.NullPointerException\r\n\tat android.content.res.Resources_Theme_Delegate.obtainStyledAttributes(Resources_Theme_Delegate.java:74)\r\n\tat android.content.res.Resources$Theme.obtainStyledAttributes(Resources.java:1610)\r\n\tat android.content.Context.obtainStyledAttributes(Context.java:817)\r\n\tat android.widget.TextView.setTextAppearance(TextView.java:3910)\r\n\tat androidx.appcompat.widget.AppCompatTextView.setTextAppearance(AppCompatTextView.java:211)\r\n\tat android.widget.TextView.setTextAppearance(TextView.java:3899)\r\n\tat androidx.core.widget.TextViewCompat.setTextAppearance(TextViewCompat.java:289)\r\n\tat com.google.android.material.tabs.TabLayout$TabView.update(TabLayout.java:2745)\r\n\tat com.google.android.material.tabs.TabLayout$TabView.setTab(TabLayout.java:2686)\r\n\tat com.google.android.material.tabs.TabLayout.createTabView(TabLayout.java:1657)\r\n\tat com.google.android.material.tabs.TabLayout.newTab(TabLayout.java:952)\r\n\tat com.google.android.material.tabs.TabLayout.addTabFromItemView(TabLayout.java:820)\r\n\tat com.google.android.material.tabs.TabLayout.addViewInternal(TabLayout.java:1707)\r\n\tat com.google.android.material.tabs.TabLayout.addView(TabLayout.java:1697)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1131)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:686)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:505)\r\n\tat com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:363)\r\n\tat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:436)\r\n\tat com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:121)\r\n\tat com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:741)\r\n\tat com.android.tools.idea.rendering.RenderTask.lambda$inflate$8(RenderTask.java:897)\r\n\tat com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$2.run(RenderExecutor.kt:187)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n","title":"java.lang.NullPointerException at android.content.res.Resources Theme","body":"<p>My code was working fine but suddenly design is not visible, errors are:-<br />\njava.lang.NullPointerException\nat android.content.res.Resources_Theme_Delegate.obtainStyledAttributes(Resources_Theme_Delegate.java:74)\nat android.content.res.Resources$Theme.obtainStyledAttributes(Resources.java:1610)\nat android.content.Context.obtainStyledAttributes(Context.java:817)\nat android.widget.TextView.setTextAppearance(TextView.java:3910)\nat androidx.appcompat.widget.AppCompatTextView.setTextAppearance(AppCompatTextView.java:211)\nat android.widget.TextView.setTextAppearance(TextView.java:3899)\nat androidx.core.widget.TextViewCompat.setTextAppearance(TextViewCompat.java:289)\nat com.google.android.material.tabs.TabLayout$TabView.update(TabLayout.java:2745)\nat com.google.android.material.tabs.TabLayout$TabView.setTab(TabLayout.java:2686)\nat com.google.android.material.tabs.TabLayout.createTabView(TabLayout.java:1657)\nat com.google.android.material.tabs.TabLayout.newTab(TabLayout.java:952)\nat com.google.android.material.tabs.TabLayout.addTabFromItemView(TabLayout.java:820)\nat com.google.android.material.tabs.TabLayout.addViewInternal(TabLayout.java:1707)\nat com.google.android.material.tabs.TabLayout.addView(TabLayout.java:1697)\nat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1131)\nat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\nat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\nat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\nat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\nat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\nat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\nat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\nat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\nat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\nat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\nat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:686)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:505)\nat com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:363)\nat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:436)\nat com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:121)\nat com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:741)\nat com.android.tools.idea.rendering.RenderTask.lambda$inflate$8(RenderTask.java:897)\nat com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$2.run(RenderExecutor.kt:187)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\nat java.base/java.lang.Thread.run(Thread.java:829)</p>\n"},{"tags":["java","gradle","build.gradle","artifactory","gradlew"],"comments":[{"owner":{"account_id":2008878,"reputation":15778,"user_id":1797912,"accept_rate":60,"display_name":"Chriki"},"score":3,"creation_date":1677419208,"post_id":75534355,"comment_id":133330088,"body_markdown":"It sounds like this question is pretty much the same as [this one](https://stackoverflow.com/q/65173003/1797912); or is there anything missing in [the accepted answer](https://stackoverflow.com/a/65237462/1797912) to that question that we could clarify here? For example, I’m a bit confused about your `api` vs. `implementation` concern; IMHO, it shouldn’t make a difference downstream, whether you publish a single JAR or multiple JARs.","body":"It sounds like this question is pretty much the same as <a href=\"https://stackoverflow.com/q/65173003/1797912\">this one</a>; or is there anything missing in <a href=\"https://stackoverflow.com/a/65237462/1797912\">the accepted answer</a> to that question that we could clarify here? For example, I’m a bit confused about your <code>api</code> vs. <code>implementation</code> concern; IMHO, it shouldn’t make a difference downstream, whether you publish a single JAR or multiple JARs."}],"owner":{"account_id":6484202,"reputation":392,"user_id":5039957,"accept_rate":78,"display_name":"Kalpish Singhal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1677568454,"creation_date":1677077179,"question_id":75534355,"body_markdown":"My Gradle project is arranged as follows:\r\n\r\n    &lt;MyLib&gt;\r\n    build.gradle\r\n           |——&gt;sub_module1\r\n                   build.gradle\r\n           |——&gt;sub_module2\r\n                   build.gradle\r\n\r\nThe Project segregates the public API from implementation by having two separate gradle sub-modules i.e, sub_module1 and sub_module2. However, I would like to hide this segregation from external users and provide them with a single artifact jar i.e configure the build to publish a single jar to the Artifactory, which merges both&#160; sub_module1 &amp; sub_module2 into a single Jar (with a single version) So they can use it as API dependency rather than implementing sub-modules in there build.gradle for `dependencies`\r\n\r\nIn short something like&#160;\r\n```\r\ndependencies { \r\n   api &quot;com.mypackage:MyLib:$MyLibVersion&quot;\r\n}\r\n``` \r\n\r\nto be used by the end-user of my library.\r\n\r\ninstead, the user saying \r\n```\r\ndependencies { \r\n    implementation &quot;package:sub_module1:$MyLibVersion&quot;\r\n    implementation &quot;package:sub_module2:$MyLibVersion&quot;\r\n}\r\n```\r\n","title":"Configure the build to publish a single jar to Artifactory?","body":"<p>My Gradle project is arranged as follows:</p>\n<pre><code>&lt;MyLib&gt;\nbuild.gradle\n       |——&gt;sub_module1\n               build.gradle\n       |——&gt;sub_module2\n               build.gradle\n</code></pre>\n<p>The Project segregates the public API from implementation by having two separate gradle sub-modules i.e, sub_module1 and sub_module2. However, I would like to hide this segregation from external users and provide them with a single artifact jar i.e configure the build to publish a single jar to the Artifactory, which merges both  sub_module1 &amp; sub_module2 into a single Jar (with a single version) So they can use it as API dependency rather than implementing sub-modules in there build.gradle for <code>dependencies</code></p>\n<p>In short something like </p>\n<pre><code>dependencies { \n   api &quot;com.mypackage:MyLib:$MyLibVersion&quot;\n}\n</code></pre>\n<p>to be used by the end-user of my library.</p>\n<p>instead, the user saying</p>\n<pre><code>dependencies { \n    implementation &quot;package:sub_module1:$MyLibVersion&quot;\n    implementation &quot;package:sub_module2:$MyLibVersion&quot;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677570910,"post_id":75588436,"comment_id":133359105,"body_markdown":"Why this contraption? Why not just 1 single delete instead of findAll then delete one by one? This will degrade pretty quickly (performance wise) when your data starts to grow. The error will be thrown if there are 2 processes deleting (it is scheduled after all) where 1 has already removed the data (not yet committed) then the next one starts, gets the id (meanwhile thread 1 commits and thus deletes the data), thread 2 will now try to delete the same record(s) again as it has seen them before the commit of thread 1.","body":"Why this contraption? Why not just 1 single delete instead of findAll then delete one by one? This will degrade pretty quickly (performance wise) when your data starts to grow. The error will be thrown if there are 2 processes deleting (it is scheduled after all) where 1 has already removed the data (not yet committed) then the next one starts, gets the id (meanwhile thread 1 commits and thus deletes the data), thread 2 will now try to delete the same record(s) again as it has seen them before the commit of thread 1."}],"answers":[{"tags":[],"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677565965,"creation_date":1677565965,"answer_id":75588571,"question_id":75588436,"body_markdown":"When this method is called simulteneously in two threads, then both runs can get the same set of IDs. And through the for loop they are trying to delete the same entity, if first thread does it first, then the second fails.\r\n\r\nThis may happen when scheduler calls this method before the previous call ends ","title":"Deleting entity in async method in a loop","body":"<p>When this method is called simulteneously in two threads, then both runs can get the same set of IDs. And through the for loop they are trying to delete the same entity, if first thread does it first, then the second fails.</p>\n<p>This may happen when scheduler calls this method before the previous call ends</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677567629,"creation_date":1677567629,"answer_id":75588781,"question_id":75588436,"body_markdown":"&gt; But I don&#39;t know why does it try to delete an entity that doesn&#39;t\r\n&gt; exists. Explain me please.\r\n\r\nThis issue is already fixed in [this][1] after 3.0.2 release. It will not throw exception now if there are no entity to be deleted.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-jpa/issues/2719","title":"Deleting entity in async method in a loop","body":"<blockquote>\n<p>But I don't know why does it try to delete an entity that doesn't\nexists. Explain me please.</p>\n</blockquote>\n<p>This issue is already fixed in <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2719\" rel=\"nofollow noreferrer\">this</a> after 3.0.2 release. It will not throw exception now if there are no entity to be deleted.</p>\n"}],"owner":{"account_id":18114025,"reputation":295,"user_id":13170878,"display_name":"Valery"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75588571,"answer_count":2,"score":0,"last_activity_date":1677567629,"creation_date":1677564841,"question_id":75588436,"body_markdown":"I delete user activitiy entities using hibernate, but got this error:\r\n*Error for user activity 461\r\norg.springframework.dao.EmptyResultDataAccessException: No class com.db.model.UserActivity entity with id 461 exists!*\r\nI call this async method from scheduler. I know that EmptyResultDataAccessException is thrown if deleteById does not return entity. But I don&#39;t know why does it try to delete an entity that doesn&#39;t exists.\r\nExplain me please.\r\n```\r\n@Async\r\n@Override\r\n@Transactional\r\npublic void deleteUserActivities(@NonNull LocalDateTime createdBefore) {\r\n    for (Long uaId : userActivityRepository.findCreatedBefore(createdBefore)) {\r\n        try {\r\n            userActivityRepository.deleteById(uaId);\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error for user activity {}&quot;, uaId, e);\r\n        }\r\n    }\r\n}\r\n","title":"Deleting entity in async method in a loop","body":"<p>I delete user activitiy entities using hibernate, but got this error:\n<em>Error for user activity 461\norg.springframework.dao.EmptyResultDataAccessException: No class com.db.model.UserActivity entity with id 461 exists!</em>\nI call this async method from scheduler. I know that EmptyResultDataAccessException is thrown if deleteById does not return entity. But I don't know why does it try to delete an entity that doesn't exists.\nExplain me please.</p>\n<pre><code>@Async\n@Override\n@Transactional\npublic void deleteUserActivities(@NonNull LocalDateTime createdBefore) {\n    for (Long uaId : userActivityRepository.findCreatedBefore(createdBefore)) {\n        try {\n            userActivityRepository.deleteById(uaId);\n        } catch (Exception e) {\n            log.error(&quot;Error for user activity {}&quot;, uaId, e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","androidx","video-capture","android-camerax"],"answers":[{"comments":[{"owner":{"account_id":6811689,"reputation":22994,"user_id":5241603,"accept_rate":95,"display_name":"K.Sopheak"},"score":0,"creation_date":1677566019,"post_id":75579167,"comment_id":133358080,"body_markdown":"recording doesn&#39;t have method `getOutputFileOptions()`","body":"recording doesn&#39;t have method <code>getOutputFileOptions()</code>"}],"tags":[],"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677493015,"creation_date":1677493015,"answer_id":75579167,"question_id":75579125,"body_markdown":"What you can do is check if recording is not null, then it means that the video recording was successfully started. Then the `outputFileOptions` from the recording object that is the one that contains the `URI` you are looking for. Then to get the `Uri` you need to cast the `outputFileOptions` to `OutputFileUriOptions` and retrieve the `URI` using the `getUri()` method, then if you want it as `String` you have to add the `toString()` to it.\r\n\r\n\r\n```\r\n@Override\r\npublic void accept(VideoRecordEvent videoRecordEvent) {\r\n    if (videoRecordEvent instanceof VideoRecordEvent.Start) {\r\n        setBackgroundBtn(R.drawable.recoding);\r\n        Toast.makeText(CameraActivity.this, &quot;recording start...&quot;, Toast.LENGTH_SHORT).show();\r\n    } else if (videoRecordEvent instanceof VideoRecordEvent.Finalize) {\r\n        setBackgroundBtn(R.drawable.round_bg);\r\n        Toast.makeText(CameraActivity.this, &quot;Recording stop ...&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        if (recording != null) {\r\n            OutputFileOptions outputFileOptions = recording.getOutputFileOptions();\r\n            if (outputFileOptions instanceof OutputFileOptions.OutputFileUriOptions) {\r\n                Uri outputFileUri = ((OutputFileOptions.OutputFileUriOptions) outputFileOptions).getUri();\r\n                String outputFileUriString = outputFileUri.toString();\r\n                Log.d(&quot;CameraX&quot;, &quot;Video output URI: &quot; + outputFileUriString);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How to get savedUri after capture video in CameraX?","body":"<p>What you can do is check if recording is not null, then it means that the video recording was successfully started. Then the <code>outputFileOptions</code> from the recording object that is the one that contains the <code>URI</code> you are looking for. Then to get the <code>Uri</code> you need to cast the <code>outputFileOptions</code> to <code>OutputFileUriOptions</code> and retrieve the <code>URI</code> using the <code>getUri()</code> method, then if you want it as <code>String</code> you have to add the <code>toString()</code> to it.</p>\n<pre><code>@Override\npublic void accept(VideoRecordEvent videoRecordEvent) {\n    if (videoRecordEvent instanceof VideoRecordEvent.Start) {\n        setBackgroundBtn(R.drawable.recoding);\n        Toast.makeText(CameraActivity.this, &quot;recording start...&quot;, Toast.LENGTH_SHORT).show();\n    } else if (videoRecordEvent instanceof VideoRecordEvent.Finalize) {\n        setBackgroundBtn(R.drawable.round_bg);\n        Toast.makeText(CameraActivity.this, &quot;Recording stop ...&quot;, Toast.LENGTH_SHORT).show();\n\n        if (recording != null) {\n            OutputFileOptions outputFileOptions = recording.getOutputFileOptions();\n            if (outputFileOptions instanceof OutputFileOptions.OutputFileUriOptions) {\n                Uri outputFileUri = ((OutputFileOptions.OutputFileUriOptions) outputFileOptions).getUri();\n                String outputFileUriString = outputFileUri.toString();\n                Log.d(&quot;CameraX&quot;, &quot;Video output URI: &quot; + outputFileUriString);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6811689,"reputation":22994,"user_id":5241603,"accept_rate":95,"display_name":"K.Sopheak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677567345,"creation_date":1677567345,"answer_id":75588741,"question_id":75579125,"body_markdown":"I found answer, I use `getOutputResults().getOutputUri()`\r\n\r\n    recording = videoCapture.getOutput().prepareRecording(CameraActivity.this, mso)\r\n                    .start(ContextCompat.getMainExecutor(this), new Consumer&lt;VideoRecordEvent&gt;() {\r\n                        @Override\r\n                        public void accept(VideoRecordEvent videoRecordEvent) {\r\n                            if (videoRecordEvent instanceof VideoRecordEvent.Start) {\r\n                                // do something\r\n                            } else if (videoRecordEvent instanceof VideoRecordEvent.Finalize) {\r\n                                ...\r\n                                Uri result = ((VideoRecordEvent.Finalize) videoRecordEvent).getOutputResults().getOutputUri();\r\n                                Toast.makeText(CameraActivity.this, &quot;result url: &quot; + result.toString(), Toast.LENGTH_LONG).show();\r\n\r\n                                Toast.makeText(CameraActivity.this, &quot;Recoding stop ...&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n\r\nOr `recordEvent.outputResults.outputUri` [CameraX Codelab][1] on event finalize\r\n\r\n\r\n  [1]: https://developer.android.com/codelabs/camerax-getting-started#6","title":"How to get savedUri after capture video in CameraX?","body":"<p>I found answer, I use <code>getOutputResults().getOutputUri()</code></p>\n<pre><code>recording = videoCapture.getOutput().prepareRecording(CameraActivity.this, mso)\n                .start(ContextCompat.getMainExecutor(this), new Consumer&lt;VideoRecordEvent&gt;() {\n                    @Override\n                    public void accept(VideoRecordEvent videoRecordEvent) {\n                        if (videoRecordEvent instanceof VideoRecordEvent.Start) {\n                            // do something\n                        } else if (videoRecordEvent instanceof VideoRecordEvent.Finalize) {\n                            ...\n                            Uri result = ((VideoRecordEvent.Finalize) videoRecordEvent).getOutputResults().getOutputUri();\n                            Toast.makeText(CameraActivity.this, &quot;result url: &quot; + result.toString(), Toast.LENGTH_LONG).show();\n\n                            Toast.makeText(CameraActivity.this, &quot;Recoding stop ...&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n</code></pre>\n<p>Or <code>recordEvent.outputResults.outputUri</code> <a href=\"https://developer.android.com/codelabs/camerax-getting-started#6\" rel=\"nofollow noreferrer\">CameraX Codelab</a> on event finalize</p>\n"}],"owner":{"account_id":6811689,"reputation":22994,"user_id":5241603,"accept_rate":95,"display_name":"K.Sopheak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75588741,"answer_count":2,"score":0,"last_activity_date":1677567345,"creation_date":1677492700,"question_id":75579125,"body_markdown":"I want to get uri from CaptureVideo of CameraX\r\n\r\nHere is my code for capture video\r\n\r\n    private void takeVideo() {\r\n        if (mso != null) {\r\n            if (recording != null) {\r\n                recording.close();\r\n                recording = null;\r\n                return;\r\n            }\r\n            recording = videoCapture.getOutput().prepareRecording(CameraActivity.this, mso)\r\n                    .start(ContextCompat.getMainExecutor(this), new Consumer&lt;VideoRecordEvent&gt;() {\r\n                        @Override\r\n                        public void accept(VideoRecordEvent videoRecordEvent) {\r\n                            if (videoRecordEvent instanceof VideoRecordEvent.Start) {\r\n                                setBackgroundBtn(R.drawable.recoding);\r\n                                Toast.makeText(CameraActivity.this, &quot;recoding start...&quot;, Toast.LENGTH_SHORT).show();\r\n                            } else if (videoRecordEvent instanceof VideoRecordEvent.Finalize) {\r\n                                setBackgroundBtn(R.drawable.round_bg);\r\n                                Toast.makeText(CameraActivity.this, &quot;Recoding stop ...&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n        }\r\n    }\r\n\r\nThe uri should return somewhere on event `VideoRecordEvent.Finalize`\r\nI debugged recording and show uri when trigger `VideoRecordEvent.Finalize` and the uri is in `recoding.mRecorder.mOutputUri.uriString`\r\n\r\nBut I have no idea how to get this value because no function to get that uri.\r\n","title":"How to get savedUri after capture video in CameraX?","body":"<p>I want to get uri from CaptureVideo of CameraX</p>\n<p>Here is my code for capture video</p>\n<pre><code>private void takeVideo() {\n    if (mso != null) {\n        if (recording != null) {\n            recording.close();\n            recording = null;\n            return;\n        }\n        recording = videoCapture.getOutput().prepareRecording(CameraActivity.this, mso)\n                .start(ContextCompat.getMainExecutor(this), new Consumer&lt;VideoRecordEvent&gt;() {\n                    @Override\n                    public void accept(VideoRecordEvent videoRecordEvent) {\n                        if (videoRecordEvent instanceof VideoRecordEvent.Start) {\n                            setBackgroundBtn(R.drawable.recoding);\n                            Toast.makeText(CameraActivity.this, &quot;recoding start...&quot;, Toast.LENGTH_SHORT).show();\n                        } else if (videoRecordEvent instanceof VideoRecordEvent.Finalize) {\n                            setBackgroundBtn(R.drawable.round_bg);\n                            Toast.makeText(CameraActivity.this, &quot;Recoding stop ...&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n    }\n}\n</code></pre>\n<p>The uri should return somewhere on event <code>VideoRecordEvent.Finalize</code>\nI debugged recording and show uri when trigger <code>VideoRecordEvent.Finalize</code> and the uri is in <code>recoding.mRecorder.mOutputUri.uriString</code></p>\n<p>But I have no idea how to get this value because no function to get that uri.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":9698772,"reputation":181,"user_id":7194392,"display_name":"Jack Ma"},"score":0,"creation_date":1677816535,"post_id":75588687,"comment_id":133416112,"body_markdown":"From output of the code, MaxMemory=PSYoungGen+ParOldGen, but PSYoungGen+ParOldGen  != -Xmx. So -Xmx(real heap size) consists of PSYoungGen+ParOldGen and part of Metaspace? and if so, how can we know how much percent of -Xmx will be used as (PSYoungGen+ParOldGen)?","body":"From output of the code, MaxMemory=PSYoungGen+ParOldGen, but PSYoungGen+ParOldGen  != -Xmx. So -Xmx(real heap size) consists of PSYoungGen+ParOldGen and part of Metaspace? and if so, how can we know how much percent of -Xmx will be used as (PSYoungGen+ParOldGen)?"}],"tags":[],"owner":{"account_id":250529,"reputation":11921,"user_id":527312,"accept_rate":73,"display_name":"ktm5124"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677566970,"creation_date":1677566970,"answer_id":75588687,"question_id":75588384,"body_markdown":"Interesting question!\r\n\r\nI wrote a small program that outputs some memory statistics.\r\n\r\n    public class Memory {\r\n        public static void main(String[] args) {\r\n            Runtime runtime = Runtime.getRuntime();\r\n\r\n            System.out.println(&quot;Max memory&quot;);\r\n            System.out.println(runtime.maxMemory());\r\n\r\n            System.out.println(&quot;Total memory&quot;);\r\n            System.out.println(runtime.totalMemory());\r\n\r\n            System.out.println(&quot;Free memory&quot;);\r\n            System.out.println(runtime.freeMemory());\r\n        }\r\n    }\r\n\r\nWe can run this program with the command:\r\n\r\n    java -Xms16m -Xmx16m Memory.java\r\n\r\nThe &quot;max memory&quot; and &quot;total memory&quot; values should be identical.\r\n\r\nNow let&#39;s try the command:\r\n\r\n    java -Xms16m -Xmx64m Memory.java\r\n\r\nThe value of &quot;max memory&quot; should be larger than the value of &quot;total memory&quot;.\r\n\r\nWhy is this?\r\n\r\nIt&#39;s because the -Xms flag corresponds to &quot;heap initial capacity&quot; and the -Xmx flag corresponds to &quot;heap max capacity&quot;. You can verify this fact by running the program with additional flags.\r\n\r\n    java -Xms16m -Xmx64m -XX:+PrintCommandLineFlags Memory.java\r\n\r\nTo summarize what we have covered... we are using the -Xms and -Xmx flags to set the initial capacity of the heap and the maximum capacity of the heap. The small program included in this post behaves as expected, printing memory statistics that are consistent with the -Xms and -Xmx arguments.\r\n\r\nThe option `-Xms16m` is equivalent to `-Xms16M` and they both mean an initial heap capacity of 16 MB.\r\n\r\nI hope this helps.","title":"get runtime memory with Runtime Class","body":"<p>Interesting question!</p>\n<p>I wrote a small program that outputs some memory statistics.</p>\n<pre><code>public class Memory {\n    public static void main(String[] args) {\n        Runtime runtime = Runtime.getRuntime();\n\n        System.out.println(&quot;Max memory&quot;);\n        System.out.println(runtime.maxMemory());\n\n        System.out.println(&quot;Total memory&quot;);\n        System.out.println(runtime.totalMemory());\n\n        System.out.println(&quot;Free memory&quot;);\n        System.out.println(runtime.freeMemory());\n    }\n}\n</code></pre>\n<p>We can run this program with the command:</p>\n<pre><code>java -Xms16m -Xmx16m Memory.java\n</code></pre>\n<p>The &quot;max memory&quot; and &quot;total memory&quot; values should be identical.</p>\n<p>Now let's try the command:</p>\n<pre><code>java -Xms16m -Xmx64m Memory.java\n</code></pre>\n<p>The value of &quot;max memory&quot; should be larger than the value of &quot;total memory&quot;.</p>\n<p>Why is this?</p>\n<p>It's because the -Xms flag corresponds to &quot;heap initial capacity&quot; and the -Xmx flag corresponds to &quot;heap max capacity&quot;. You can verify this fact by running the program with additional flags.</p>\n<pre><code>java -Xms16m -Xmx64m -XX:+PrintCommandLineFlags Memory.java\n</code></pre>\n<p>To summarize what we have covered... we are using the -Xms and -Xmx flags to set the initial capacity of the heap and the maximum capacity of the heap. The small program included in this post behaves as expected, printing memory statistics that are consistent with the -Xms and -Xmx arguments.</p>\n<p>The option <code>-Xms16m</code> is equivalent to <code>-Xms16M</code> and they both mean an initial heap capacity of 16 MB.</p>\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":9698772,"reputation":181,"user_id":7194392,"display_name":"Jack Ma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677566970,"creation_date":1677564397,"question_id":75588384,"body_markdown":"IDEA VMoptions: `-Xmx100m -Xms100m -XX:+PrintGCDetails -XX:+PrintCommandLineFlags`\r\n\r\ncode:\r\n```\r\n    public static void main(String[] args) {\r\n        Runtime rt = Runtime.getRuntime();\r\n        System.out.println(rt.maxMemory());\r\n        System.out.println(rt.totalMemory());\r\n        System.out.println(rt.freeMemory());\r\n    }\r\n```\r\n\r\nQuestion:\r\n\r\n1. From comments of source code, maxMemory is the max amount of memory JVM attempt to use, but why the output is smaller than 10MB? So what do these memory represents for? \r\n\r\n2. From the output, Metaspace seems belonging to Heap. Why?\r\n\r\n3. From the output, PSYoungGen+ParOldGen != 10MB configured in vm options `-Xmx100m -Xms100m`\r\n\r\noutput:\r\n```\r\n-XX:InitialHeapSize=104857600 -XX:MaxHeapSize=104857600 -XX:+PrintCommandLineFlags -XX:+PrintGCDetails -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseParallelGC \r\nobjc[73147]: Class JavaLaunchHelper is implemented in both /Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/bin/java (0x108b194c0) and /Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/libinstrument.dylib (0x108c5e4e0). One of the two will be used. Which one is undefined.\r\n100663296\r\n100663296\r\n98035184\r\nHeap\r\n PSYoungGen      total 29696K, used 3078K [0x00000007bdf00000, 0x00000007c0000000, 0x00000007c0000000)\r\n  eden space 25600K, 12% used [0x00000007bdf00000,0x00000007be201b88,0x00000007bf800000)\r\n  from space 4096K, 0% used [0x00000007bfc00000,0x00000007bfc00000,0x00000007c0000000)\r\n  to   space 4096K, 0% used [0x00000007bf800000,0x00000007bf800000,0x00000007bfc00000)\r\n ParOldGen       total 68608K, used 0K [0x00000007b9c00000, 0x00000007bdf00000, 0x00000007bdf00000)\r\n  object space 68608K, 0% used [0x00000007b9c00000,0x00000007b9c00000,0x00000007bdf00000)\r\n Metaspace       used 3269K, capacity 4496K, committed 4864K, reserved 1056768K\r\n  class space    used 359K, capacity 388K, committed 512K, reserved 1048576K\r\n```\r\n\r\nThanks","title":"get runtime memory with Runtime Class","body":"<p>IDEA VMoptions: <code>-Xmx100m -Xms100m -XX:+PrintGCDetails -XX:+PrintCommandLineFlags</code></p>\n<p>code:</p>\n<pre><code>    public static void main(String[] args) {\n        Runtime rt = Runtime.getRuntime();\n        System.out.println(rt.maxMemory());\n        System.out.println(rt.totalMemory());\n        System.out.println(rt.freeMemory());\n    }\n</code></pre>\n<p>Question:</p>\n<ol>\n<li><p>From comments of source code, maxMemory is the max amount of memory JVM attempt to use, but why the output is smaller than 10MB? So what do these memory represents for?</p>\n</li>\n<li><p>From the output, Metaspace seems belonging to Heap. Why?</p>\n</li>\n<li><p>From the output, PSYoungGen+ParOldGen != 10MB configured in vm options <code>-Xmx100m -Xms100m</code></p>\n</li>\n</ol>\n<p>output:</p>\n<pre><code>-XX:InitialHeapSize=104857600 -XX:MaxHeapSize=104857600 -XX:+PrintCommandLineFlags -XX:+PrintGCDetails -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseParallelGC \nobjc[73147]: Class JavaLaunchHelper is implemented in both /Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/bin/java (0x108b194c0) and /Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/libinstrument.dylib (0x108c5e4e0). One of the two will be used. Which one is undefined.\n100663296\n100663296\n98035184\nHeap\n PSYoungGen      total 29696K, used 3078K [0x00000007bdf00000, 0x00000007c0000000, 0x00000007c0000000)\n  eden space 25600K, 12% used [0x00000007bdf00000,0x00000007be201b88,0x00000007bf800000)\n  from space 4096K, 0% used [0x00000007bfc00000,0x00000007bfc00000,0x00000007c0000000)\n  to   space 4096K, 0% used [0x00000007bf800000,0x00000007bf800000,0x00000007bfc00000)\n ParOldGen       total 68608K, used 0K [0x00000007b9c00000, 0x00000007bdf00000, 0x00000007bdf00000)\n  object space 68608K, 0% used [0x00000007b9c00000,0x00000007b9c00000,0x00000007bdf00000)\n Metaspace       used 3269K, capacity 4496K, committed 4864K, reserved 1056768K\n  class space    used 359K, capacity 388K, committed 512K, reserved 1048576K\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","junit5","spring-boot-test"],"comments":[{"owner":{"account_id":6586505,"reputation":907,"user_id":5089120,"accept_rate":85,"display_name":"Ruth"},"score":0,"creation_date":1551454289,"post_id":54947645,"comment_id":96658215,"body_markdown":"theoretically you should write your tests the way that they can run in any order... why do you need to order them?","body":"theoretically you should write your tests the way that they can run in any order... why do you need to order them?"},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":5,"creation_date":1551454413,"post_id":54947645,"comment_id":96658305,"body_markdown":"You have configured wrongly. Try to put `@TestMethodOrder(MethodOrderer.OrderAnnotation.class)` [https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/TestMethodOrder.html](https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/TestMethodOrder.html)","body":"You have configured wrongly. Try to put <code>@TestMethodOrder(MethodOrderer.OrderAnnotation.class)</code> <a href=\"https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/TestMethodOrder.html\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/api/org/junit/jupiter/&zwnj;&#8203;api/TestMethodOrder.&zwnj;&#8203;html</a>"},{"owner":{"account_id":4626395,"reputation":735,"user_id":3750108,"display_name":"toucheqt"},"score":0,"creation_date":1551454656,"post_id":54947645,"comment_id":96658446,"body_markdown":"@Valijon I&#39;ve updated the imports, I was already using the `OrderAnnotation` class properly.\n@RuthiRuth the methods are manipulating files on a remote server, obviously, there the download/delete method will fail if I don&#39;t upload the file on the server first (I&#39;d also like to keep the method separate - i.e. not calling the upload method in the download test).","body":"@Valijon I&#39;ve updated the imports, I was already using the <code>OrderAnnotation</code> class properly. @RuthiRuth the methods are manipulating files on a remote server, obviously, there the download/delete method will fail if I don&#39;t upload the file on the server first (I&#39;d also like to keep the method separate - i.e. not calling the upload method in the download test)."},{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1551461340,"post_id":54947645,"comment_id":96661950,"body_markdown":"Can you please share the rest of your imports, in particular for the `@Test` annotation?","body":"Can you please share the rest of your imports, in particular for the <code>@Test</code> annotation?"},{"owner":{"account_id":2005194,"reputation":71,"user_id":1795286,"accept_rate":14,"display_name":"maw"},"score":0,"creation_date":1574199981,"post_id":54947645,"comment_id":104145060,"body_markdown":"One reason for ordering tests is to resolve cases where running single tests in a suite succeeds but running multiple tests fails on, say the second one because the test harness has not been torn down after the first test as expected. This can be a real pain to debug, especially with the latest versions of the Maven test plugins, where the fork configurations seem sometimes to interact non deterministically with junit 5.","body":"One reason for ordering tests is to resolve cases where running single tests in a suite succeeds but running multiple tests fails on, say the second one because the test harness has not been torn down after the first test as expected. This can be a real pain to debug, especially with the latest versions of the Maven test plugins, where the fork configurations seem sometimes to interact non deterministically with junit 5."},{"owner":{"account_id":17043956,"reputation":995,"user_id":12331220,"display_name":"Anupam Haldkar"},"score":2,"creation_date":1596645617,"post_id":54947645,"comment_id":111880203,"body_markdown":"Use  this annotation  ```@TestMethodOrder(MethodOrderer.OrderAnnotation.class)```","body":"Use  this annotation  <code>@TestMethodOrder(MethodOrderer.OrderAnnotation.class)</code>"}],"answers":[{"comments":[{"owner":{"account_id":1852692,"reputation":1963,"user_id":1678893,"display_name":"goedi"},"score":4,"creation_date":1573142813,"post_id":54948672,"comment_id":103793381,"body_markdown":"How your answer addresses the problem?","body":"How your answer addresses the problem?"},{"owner":{"account_id":11335335,"reputation":53,"user_id":8311385,"display_name":"Hishara Dilshan HishD"},"score":0,"creation_date":1681823580,"post_id":54948672,"comment_id":134116156,"body_markdown":"This is the thing which I was missing. Thank you!","body":"This is the thing which I was missing. Thank you!"}],"tags":[],"owner":{"account_id":2624973,"reputation":767,"user_id":2272188,"accept_rate":67,"display_name":"Jason Portnoy"},"comment_count":2,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1551457727,"creation_date":1551457727,"answer_id":54948672,"question_id":54947645,"body_markdown":"From the docs\r\nhttps://junit.org/junit5/docs/current/api/org/junit/jupiter/api/TestMethodOrder.html\r\n\r\n     @TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\n     class OrderedTests {\r\n    \r\n         @Test\r\n         @Order(1)\r\n         void nullValues() {}\r\n    \r\n         @Test\r\n         @Order(2)\r\n         void emptyValues() {}\r\n    \r\n         @Test\r\n         @Order(3)\r\n         void validValues() {}\r\n     }","title":"JUnit&#39;s @TestMethodOrder annotation not working","body":"<p>From the docs\n<a href=\"https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/TestMethodOrder.html\" rel=\"noreferrer\">https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/TestMethodOrder.html</a></p>\n\n<pre><code> @TestMethodOrder(MethodOrderer.OrderAnnotation.class)\n class OrderedTests {\n\n     @Test\n     @Order(1)\n     void nullValues() {}\n\n     @Test\n     @Order(2)\n     void emptyValues() {}\n\n     @Test\n     @Order(3)\n     void validValues() {}\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4626395,"reputation":735,"user_id":3750108,"display_name":"toucheqt"},"score":0,"creation_date":1551686413,"post_id":54959532,"comment_id":96716000,"body_markdown":"Thanks! This wasn&#39;t the actual problem but your answer pointed me to right direction. The problem was that I&#39;ve used the `junit-jupiter` artifactId as an aggregator dependency which for some reason did not contain the `junit-jupiter-engine` in the 5.4.0 version but in 5.3.2 version.\nAfter I&#39;ve used the dependencies in correct versions, the tests did not run at all but adding platform launcher as suggested in https://stackoverflow.com/a/54652059/3750108 solved the issue. Now the tests works, and they work in correct order.","body":"Thanks! This wasn&#39;t the actual problem but your answer pointed me to right direction. The problem was that I&#39;ve used the <code>junit-jupiter</code> artifactId as an aggregator dependency which for some reason did not contain the <code>junit-jupiter-engine</code> in the 5.4.0 version but in 5.3.2 version. After I&#39;ve used the dependencies in correct versions, the tests did not run at all but adding platform launcher as suggested in <a href=\"https://stackoverflow.com/a/54652059/3750108\">stackoverflow.com/a/54652059/3750108</a> solved the issue. Now the tests works, and they work in correct order."},{"owner":{"account_id":12926876,"reputation":142,"user_id":9347265,"display_name":"Kata"},"score":0,"creation_date":1559302782,"post_id":54959532,"comment_id":99387327,"body_markdown":"You just saved me from being extra tilted due to a wrong dependency version. Cheers!","body":"You just saved me from being extra tilted due to a wrong dependency version. Cheers!"},{"owner":{"account_id":75777,"reputation":672,"user_id":217261,"display_name":"Deminem"},"score":1,"creation_date":1584815865,"post_id":54959532,"comment_id":107556066,"body_markdown":"I am having the same issue. Just replaced `junit-jupiter-engine` version to 5.4.0 and still having the reverse order execution. Can you please provide some feedback? Many thanks.","body":"I am having the same issue. Just replaced <code>junit-jupiter-engine</code> version to 5.4.0 and still having the reverse order execution. Can you please provide some feedback? Many thanks."},{"owner":{"account_id":75777,"reputation":672,"user_id":217261,"display_name":"Deminem"},"score":0,"creation_date":1584816030,"post_id":54959532,"comment_id":107556121,"body_markdown":"Just want to add, this thread https://github.com/junit-team/junit5/issues/1776 also mentioned the same thing. Still No luck - any help would be appreciated. Thanks.","body":"Just want to add, this thread <a href=\"https://github.com/junit-team/junit5/issues/1776\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5/issues/1776</a> also mentioned the same thing. Still No luck - any help would be appreciated. Thanks."},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1584816525,"post_id":54959532,"comment_id":107556259,"body_markdown":"@Deminem make sure `junit-jupiter-engine` is taking correct version, not from IDE. If you can share your code, I can take a look","body":"@Deminem make sure <code>junit-jupiter-engine</code> is taking correct version, not from IDE. If you can share your code, I can take a look"},{"owner":{"account_id":75777,"reputation":672,"user_id":217261,"display_name":"Deminem"},"score":0,"creation_date":1584848612,"post_id":54959532,"comment_id":107563048,"body_markdown":"@Valijon - I&#39;ve just confirmed that using the `junit-jupiter-engine` correct version. Please see yourself. `com.personalitytest.demo:personalitytest:jar:1.0-SNAPSHOT \\- org.junit.jupiter:junit-jupiter-engine:jar:5.4.0:test\n`","body":"@Valijon - I&#39;ve just confirmed that using the <code>junit-jupiter-engine</code> correct version. Please see yourself. <code>com.personalitytest.demo:personalitytest:jar:1.0-SNAPSHOT \\- org.junit.jupiter:junit-jupiter-engine:jar:5.4.0:test </code>"},{"owner":{"account_id":75777,"reputation":672,"user_id":217261,"display_name":"Deminem"},"score":0,"creation_date":1584848772,"post_id":54959532,"comment_id":107563065,"body_markdown":"@Valijon - please check the code which I&#39;ve posted in the separate thread. Thanks.","body":"@Valijon - please check the code which I&#39;ve posted in the separate thread. Thanks."},{"owner":{"account_id":6430147,"reputation":1735,"user_id":7449607,"accept_rate":50,"display_name":"Fzum"},"score":0,"creation_date":1624282489,"post_id":54959532,"comment_id":120308717,"body_markdown":"`junit-jupiter-engine` comes with the `spring-boot-starter-test` dependency. no need to add it extra. please check if you annotated the class with `@TestMethodOrder(MethodOrderer.OrderAnnotation.class)` before adding another dependency","body":"<code>junit-jupiter-engine</code> comes with the <code>spring-boot-starter-test</code> dependency. no need to add it extra. please check if you annotated the class with <code>@TestMethodOrder(MethodOrderer.OrderAnnotation.class)</code> before adding another dependency"},{"owner":{"account_id":8492091,"reputation":8484,"user_id":6378557,"accept_rate":56,"display_name":"xenoid"},"score":0,"creation_date":1643800782,"post_id":54959532,"comment_id":125433790,"body_markdown":"Using a recent Eclipse (2021-09 (4.21.0)), the built-in junit-jupiter-engine (appears to be 5.7.1) is good enough, all that is required is the `@TestMethodOrder` annotation.","body":"Using a recent Eclipse (2021-09 (4.21.0)), the built-in junit-jupiter-engine (appears to be 5.7.1) is good enough, all that is required is the <code>@TestMethodOrder</code> annotation."}],"tags":[],"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"comment_count":9,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1551537339,"creation_date":1551536831,"answer_id":54959532,"question_id":54947645,"body_markdown":"You need to configure correctly your IDE.\r\n\r\n**Requirements**\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.4.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nDo not use **JUnit 5** that offers your IDE. If you add it as library, you will get:\r\n\r\n    No tests found for with test runner &#39;JUnit 5&#39; \r\n    ==================== and this exception ===================\r\n    TestEngine with ID &#39;junit-vintage&#39; failed to discover tests\r\n    java.lang.SecurityException: class &quot;org.junit.jupiter.api.TestMethodOrder&quot;&#39;s signer information does not match signer information of other classes in the same package\r\n\r\nSo just include mentioned dependency only and your code will work as you expect:\r\n\r\n    import org.junit.jupiter.api.MethodOrderer;\r\n    import org.junit.jupiter.api.Order;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.TestMethodOrder;\r\n    \r\n    @TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\n    public class FooServiceIT {\r\n    \r\n    \t@Test\r\n    \t@Order(1)\r\n    \tpublic void testUploadSuccess() {\r\n    \t\tSystem.out.println(&quot;1&quot;);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \t@Order(2)\r\n    \tpublic void testDownloadSuccess() {\r\n    \t\tSystem.out.println(&quot;2&quot;);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \t@Order(3)\r\n    \tpublic void testDeleteSuccess() {\r\n    \t\tSystem.out.println(&quot;3&quot;);\r\n    \t}\r\n    }\r\n\r\nJUnit result:\r\n\r\n    1\r\n    2\r\n    3","title":"JUnit&#39;s @TestMethodOrder annotation not working","body":"<p>You need to configure correctly your IDE.</p>\n\n<p><strong>Requirements</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Do not use <strong>JUnit 5</strong> that offers your IDE. If you add it as library, you will get:</p>\n\n<pre><code>No tests found for with test runner 'JUnit 5' \n==================== and this exception ===================\nTestEngine with ID 'junit-vintage' failed to discover tests\njava.lang.SecurityException: class \"org.junit.jupiter.api.TestMethodOrder\"'s signer information does not match signer information of other classes in the same package\n</code></pre>\n\n<p>So just include mentioned dependency only and your code will work as you expect:</p>\n\n<pre><code>import org.junit.jupiter.api.MethodOrderer;\nimport org.junit.jupiter.api.Order;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.TestMethodOrder;\n\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\npublic class FooServiceIT {\n\n    @Test\n    @Order(1)\n    public void testUploadSuccess() {\n        System.out.println(\"1\");\n    }\n\n    @Test\n    @Order(2)\n    public void testDownloadSuccess() {\n        System.out.println(\"2\");\n    }\n\n    @Test\n    @Order(3)\n    public void testDeleteSuccess() {\n        System.out.println(\"3\");\n    }\n}\n</code></pre>\n\n<p>JUnit result:</p>\n\n<pre><code>1\n2\n3\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1642999169,"post_id":60587078,"comment_id":125214602,"body_markdown":"This solution just tried and doesn&#39;t work","body":"This solution just tried and doesn&#39;t work"}],"tags":[],"owner":{"account_id":17929691,"reputation":1,"user_id":13027417,"display_name":"Yani Ferhaoui"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583667542,"creation_date":1583667542,"answer_id":60587078,"question_id":54947645,"body_markdown":"you need to configure correctly your pom.xml. See mine :\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;!-- Dependency versions --&gt;\r\n\t\t&lt;junit.jupiter.version&gt;5.6.0&lt;/junit.jupiter.version&gt;\r\n\t\t&lt;maven-surefire-plugin.version&gt;3.0.0-M4&lt;/maven-surefire-plugin.version&gt;\r\n\t\t\r\n\t\t&lt;!-- Java 10 --&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.10&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.10&lt;/maven.compiler.target&gt;\r\n\t\t\r\n\t\t&lt;!-- Encoding --&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t&lt;!-- Jupiter API for writing tests --&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t\r\n\t&lt;!-- Maven Surefire plugin to run tests --&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;!-- plugin to run test cases from maven --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!-- Maven plugin to use perticular java version to compile code --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\nNow your Junit 5 annotations must function correctly","title":"JUnit&#39;s @TestMethodOrder annotation not working","body":"<p>you need to configure correctly your pom.xml. See mine :</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;!-- Dependency versions --&gt;\n    &lt;junit.jupiter.version&gt;5.6.0&lt;/junit.jupiter.version&gt;\n    &lt;maven-surefire-plugin.version&gt;3.0.0-M4&lt;/maven-surefire-plugin.version&gt;\n\n    &lt;!-- Java 10 --&gt;\n    &lt;maven.compiler.source&gt;1.10&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.10&lt;/maven.compiler.target&gt;\n\n    &lt;!-- Encoding --&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n&lt;/properties&gt;\n\n&lt;!-- Jupiter API for writing tests --&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;!-- Maven Surefire plugin to run tests --&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- plugin to run test cases from maven --&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- Maven plugin to use perticular java version to compile code --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Now your Junit 5 annotations must function correctly</p>\n"},{"comments":[{"owner":{"account_id":75777,"reputation":672,"user_id":217261,"display_name":"Deminem"},"score":0,"creation_date":1584848218,"post_id":60795691,"comment_id":107562985,"body_markdown":"@Valijon - Please have a look to the code. Any help would be appreciated - Thanks.","body":"@Valijon - Please have a look to the code. Any help would be appreciated - Thanks."},{"owner":{"account_id":75777,"reputation":672,"user_id":217261,"display_name":"Deminem"},"score":1,"creation_date":1584903886,"post_id":60795691,"comment_id":107577422,"body_markdown":"@Valijon - It was strange for me, before I noticed that you&#39;re running the tests against Junit5. @MethodExecutionOrder only work with Junit5 and any version of SpringBoot below `2.0` uses Junit4 for testing purposes. So I excluded the Junit4 from Spring settings and installed the Jupiter (Junit5) along MockitoJupiter(Mockito5) and now everything works as per expectation. Thanks for your help much appreciated!","body":"@Valijon - It was strange for me, before I noticed that you&#39;re running the tests against Junit5. @MethodExecutionOrder only work with Junit5 and any version of SpringBoot below <code>2.0</code> uses Junit4 for testing purposes. So I excluded the Junit4 from Spring settings and installed the Jupiter (Junit5) along MockitoJupiter(Mockito5) and now everything works as per expectation. Thanks for your help much appreciated!"},{"owner":{"account_id":75777,"reputation":672,"user_id":217261,"display_name":"Deminem"},"score":0,"creation_date":1585039959,"post_id":60795691,"comment_id":107619951,"body_markdown":"Just want to add for other&#39;s, @Test annotation works differently for both Junit4 and Junit5. When you&#39;ve spring boot configured below than 2.0, then it uses Junit4 and you don&#39;t realise it while running the tests through `mvn clean test`.","body":"Just want to add for other&#39;s, @Test annotation works differently for both Junit4 and Junit5. When you&#39;ve spring boot configured below than 2.0, then it uses Junit4 and you don&#39;t realise it while running the tests through <code>mvn clean test</code>."}],"tags":[],"owner":{"account_id":75777,"reputation":672,"user_id":217261,"display_name":"Deminem"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584851624,"creation_date":1584848136,"answer_id":60795691,"question_id":54947645,"body_markdown":"After applying all the settings based on previous recommended solution. I&#39;m still having the same reverse or random **@order** execution.\r\n\r\n**Pom.xml**\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.3.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;5.4.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Maven Dependency Tree:**\r\n\r\n    mvn dependency:tree -Dverbose -Dincludes=org.junit.jupiter:junit-jupiter-engine\r\n\r\n    [INFO] com.personalitytest.demo:personalitytest:jar:1.0-SNAPSHOT\r\n    [INFO] \\- org.junit.jupiter:junit-jupiter-engine:jar:5.4.0:test\r\n\r\n\r\n**JUnit Test:**\r\n\r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\n    public class JUnitOrderTest {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(JUnitOrderTest.class);\r\n    \r\n        @Test\r\n        @Order(1)\r\n        public void testUploadSuccess() {\r\n            log.info(&quot;Junit - Order 1&quot;);\r\n        }\r\n    \r\n        @Test\r\n        @Order(2)\r\n        public void testDownloadSuccess() {\r\n            log.info(&quot;Junit - Order 2&quot;);\r\n        }\r\n    \r\n        @Test\r\n        @Order(3)\r\n        public void testDeleteSuccess() {\r\n            log.info(&quot;Junit - Order 3&quot;);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    Running com.personalitytest.demo.security.JUnitOrderTest\r\n    08:48:35.470 [main] INFO com.personalitytest.demo.security.JUnitOrderTest - Junit - Order 2\r\n    08:48:35.480 [main] INFO com.personalitytest.demo.security.JUnitOrderTest - Junit - Order 3\r\n    08:48:35.481 [main] INFO com.personalitytest.demo.security.JUnitOrderTest - Junit - Order 1\r\n\r\n","title":"JUnit&#39;s @TestMethodOrder annotation not working","body":"<p>After applying all the settings based on previous recommended solution. I'm still having the same reverse or random <strong>@order</strong> execution.</p>\n\n<p><strong>Pom.xml</strong></p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.3.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.4.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Maven Dependency Tree:</strong></p>\n\n<pre><code>mvn dependency:tree -Dverbose -Dincludes=org.junit.jupiter:junit-jupiter-engine\n\n[INFO] com.personalitytest.demo:personalitytest:jar:1.0-SNAPSHOT\n[INFO] \\- org.junit.jupiter:junit-jupiter-engine:jar:5.4.0:test\n</code></pre>\n\n<p><strong>JUnit Test:</strong></p>\n\n<pre><code>@SpringBootTest\n@ActiveProfiles(\"test\")\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\npublic class JUnitOrderTest {\n\n    private static final Logger log = LoggerFactory.getLogger(JUnitOrderTest.class);\n\n    @Test\n    @Order(1)\n    public void testUploadSuccess() {\n        log.info(\"Junit - Order 1\");\n    }\n\n    @Test\n    @Order(2)\n    public void testDownloadSuccess() {\n        log.info(\"Junit - Order 2\");\n    }\n\n    @Test\n    @Order(3)\n    public void testDeleteSuccess() {\n        log.info(\"Junit - Order 3\");\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Running com.personalitytest.demo.security.JUnitOrderTest\n08:48:35.470 [main] INFO com.personalitytest.demo.security.JUnitOrderTest - Junit - Order 2\n08:48:35.480 [main] INFO com.personalitytest.demo.security.JUnitOrderTest - Junit - Order 3\n08:48:35.481 [main] INFO com.personalitytest.demo.security.JUnitOrderTest - Junit - Order 1\n</code></pre>\n"},{"comments":[{"owner":{"account_id":744098,"reputation":657,"user_id":715439,"accept_rate":61,"display_name":"Ran"},"score":0,"creation_date":1604046870,"post_id":61159823,"comment_id":114233213,"body_markdown":"Not true. Read the documentation. &quot;Note that the order from the JVM may vary from run to run&quot;","body":"Not true. Read the documentation. &quot;Note that the order from the JVM may vary from run to run&quot;"},{"owner":{"account_id":4635520,"reputation":192,"user_id":3756878,"display_name":"S_intg"},"score":0,"creation_date":1650370412,"post_id":61159823,"comment_id":127094220,"body_markdown":"@FixMethodOrder is in Junit4 not Junit5 !","body":"@FixMethodOrder is in Junit4 not Junit5 !"}],"tags":[],"owner":{"account_id":12148464,"reputation":475,"user_id":9691954,"display_name":"Nick Borges"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1586636000,"creation_date":1586621279,"answer_id":61159823,"question_id":54947645,"body_markdown":"For example, by using Spring Boot you can use **@FixMethodOrder(MethodSorters.JVM)** instead of **@TestMethodOrder(MethodOrderer.OrderAnnotation.class)**.\r\nAll of tests are run in the order they appear.\r\n\r\n    @FixMethodOrder(MethodSorters.JVM)\r\n    public class MyTest{\r\n       \r\n       @Test\r\n       public void zzzz(){}\r\n\r\n       @Test\r\n       public void cccc(){}\r\n\r\n       @Test\r\n       public void aaaa(){}\r\n\r\n       @Test\r\n       public void bbbb(){}\r\n    }\r\n\r\nOrder execution is:\r\n\r\n    zzzz()\r\n    cccc()\r\n    aaaa()\r\n    bbbb()","title":"JUnit&#39;s @TestMethodOrder annotation not working","body":"<p>For example, by using Spring Boot you can use <strong>@FixMethodOrder(MethodSorters.JVM)</strong> instead of <strong>@TestMethodOrder(MethodOrderer.OrderAnnotation.class)</strong>.\nAll of tests are run in the order they appear.</p>\n\n<pre><code>@FixMethodOrder(MethodSorters.JVM)\npublic class MyTest{\n\n   @Test\n   public void zzzz(){}\n\n   @Test\n   public void cccc(){}\n\n   @Test\n   public void aaaa(){}\n\n   @Test\n   public void bbbb(){}\n}\n</code></pre>\n\n<p>Order execution is:</p>\n\n<pre><code>zzzz()\ncccc()\naaaa()\nbbbb()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7587300,"reputation":560,"user_id":5755937,"accept_rate":83,"display_name":"javalove"},"score":0,"creation_date":1682179345,"post_id":62090459,"comment_id":134176145,"body_markdown":"dude...you saved me lots of hours man. thank you for this.","body":"dude...you saved me lots of hours man. thank you for this."}],"tags":[],"owner":{"account_id":1558531,"reputation":131,"user_id":1448964,"display_name":"user1448964"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1590816600,"creation_date":1590769488,"answer_id":62090459,"question_id":54947645,"body_markdown":"I have faced the same issue. But, I found the problem where exactly is on my case. Wrongly import the &quot;Order&quot; class.\r\n\r\n**Wrong One**\r\n\r\n    import org.springframework.core.annotation.Order;\r\n\r\n**Right one**\r\n\r\n    *import org.junit.jupiter.api.Order;*\r\n\r\nAlso, please verify the following five classes with proper import\r\n\r\n    import org.junit.jupiter.api.Assertions;\r\n    \r\n    import org.junit.jupiter.api.MethodOrderer.OrderAnnotation;\r\n    \r\n    import org.junit.jupiter.api.Order;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import org.junit.jupiter.api.TestMethodOrder;","title":"JUnit&#39;s @TestMethodOrder annotation not working","body":"<p>I have faced the same issue. But, I found the problem where exactly is on my case. Wrongly import the \"Order\" class.</p>\n\n<p><strong>Wrong One</strong></p>\n\n<pre><code>import org.springframework.core.annotation.Order;\n</code></pre>\n\n<p><strong>Right one</strong></p>\n\n<pre><code>*import org.junit.jupiter.api.Order;*\n</code></pre>\n\n<p>Also, please verify the following five classes with proper import</p>\n\n<pre><code>import org.junit.jupiter.api.Assertions;\n\nimport org.junit.jupiter.api.MethodOrderer.OrderAnnotation;\n\nimport org.junit.jupiter.api.Order;\n\nimport org.junit.jupiter.api.Test;\n\nimport org.junit.jupiter.api.TestMethodOrder;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17715674,"reputation":81,"user_id":12862069,"display_name":"x3hree"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1597364173,"creation_date":1597364173,"answer_id":63404844,"question_id":54947645,"body_markdown":"If you have/had JUnit 4, check the import for annotation `@Test`: `import org.junit.Test;` \r\n\r\nFor JUnit 5 import should be: `import org.junit.jupiter.api.Test;` \r\n\r\nIt was my issue for this question","title":"JUnit&#39;s @TestMethodOrder annotation not working","body":"<p>If you have/had JUnit 4, check the import for annotation <code>@Test</code>: <code>import org.junit.Test;</code></p>\n<p>For JUnit 5 import should be: <code>import org.junit.jupiter.api.Test;</code></p>\n<p>It was my issue for this question</p>\n"},{"comments":[{"owner":{"account_id":15068489,"reputation":604,"user_id":10874806,"display_name":"Hamza Khattabi"},"score":0,"creation_date":1691840750,"post_id":72600817,"comment_id":135547794,"body_markdown":"RunWith comes with JUnit4, I am not sure it is a good idea to mix up JUnit 4 &amp; 5 features. Might be better to use @ExtendWith(SpringExtension.class)","body":"RunWith comes with JUnit4, I am not sure it is a good idea to mix up JUnit 4 &amp; 5 features. Might be better to use @ExtendWith(SpringExtension.class)"}],"tags":[],"owner":{"account_id":25543244,"reputation":1,"user_id":19328989,"display_name":"yogurtzzz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655113601,"creation_date":1655113601,"answer_id":72600817,"question_id":54947645,"body_markdown":"same issue. \r\n\r\nFor my case. First, it&#39;s the @Test annotation, should be `org.junit.jupiter.api.Test`, not `org.junit.Test`.\r\n\r\nSecond, I added `@RunWith(SpringRunner.class)` in the head of the test class, after I remove it, the order of test cases run as expected.","title":"JUnit&#39;s @TestMethodOrder annotation not working","body":"<p>same issue.</p>\n<p>For my case. First, it's the @Test annotation, should be <code>org.junit.jupiter.api.Test</code>, not <code>org.junit.Test</code>.</p>\n<p>Second, I added <code>@RunWith(SpringRunner.class)</code> in the head of the test class, after I remove it, the order of test cases run as expected.</p>\n"},{"tags":[],"owner":{"account_id":19270417,"reputation":71,"user_id":14084448,"display_name":"Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677566170,"creation_date":1677566170,"answer_id":75588597,"question_id":54947645,"body_markdown":"Please make sure you import libraries from **org.junit.jupiter.api** instead of **org.junit**\r\n\r\n```\r\nimport org.junit.jupiter.api.MethodOrderer.OrderAnnotation;\r\nimport org.junit.jupiter.api.Order;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.TestMethodOrder;\r\n\r\n@TestMethodOrder(OrderAnnotation.class)\r\nclass OrderedTestsDemo {\r\n\r\n    @Test\r\n    @Order(1)\r\n    void nullValues() {\r\n        // perform assertions against null values\r\n    }\r\n\r\n    @Test\r\n    @Order(2)\r\n    void emptyValues() {\r\n        // perform assertions against empty values\r\n    }\r\n\r\n    @Test\r\n    @Order(3)\r\n    void validValues() {\r\n        // perform assertions against valid values\r\n    }\r\n\r\n}\r\n```\r\nCode Sources: https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order-methods\r\n","title":"JUnit&#39;s @TestMethodOrder annotation not working","body":"<p>Please make sure you import libraries from <strong>org.junit.jupiter.api</strong> instead of <strong>org.junit</strong></p>\n<pre><code>import org.junit.jupiter.api.MethodOrderer.OrderAnnotation;\nimport org.junit.jupiter.api.Order;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.TestMethodOrder;\n\n@TestMethodOrder(OrderAnnotation.class)\nclass OrderedTestsDemo {\n\n    @Test\n    @Order(1)\n    void nullValues() {\n        // perform assertions against null values\n    }\n\n    @Test\n    @Order(2)\n    void emptyValues() {\n        // perform assertions against empty values\n    }\n\n    @Test\n    @Order(3)\n    void validValues() {\n        // perform assertions against valid values\n    }\n\n}\n</code></pre>\n<p>Code Sources: <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order-methods\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order-methods</a></p>\n"}],"owner":{"account_id":4626395,"reputation":735,"user_id":3750108,"display_name":"toucheqt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41336,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":54959532,"answer_count":9,"score":31,"last_activity_date":1677566170,"creation_date":1551454052,"question_id":54947645,"body_markdown":"I&#39;m having a problem with following integration test\r\n\r\n    import org.junit.jupiter.api.Order;\r\n    import org.junit.jupiter.api.TestMethodOrder;\r\n    import org.junit.jupiter.api.MethodOrderer.OrderAnnotation;\r\n    \r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @TestMethodOrder(OrderAnnotation.class)\r\n    public class FooServiceIT {\r\n        @Test\r\n        @Order(1)\r\n        void testUploadSuccess() { ... }\r\n        @Test\r\n        @Order(2)\r\n        void testDownloadSuccess() { ... }\r\n        @Test\r\n        @Order(3)\r\n        void testDeleteSuccess() { ... }\r\n    }\r\n\r\nI&#39;d expect when I run the test that the execution order would 1, 2, 3 but for some reason, the actual execution order is 2, 3, 1.\r\n\r\nTbh, I&#39;m clueless why the annotation is not working. I&#39;m using Spring Boot 2.1.3 with JUnit 5.4.","title":"JUnit&#39;s @TestMethodOrder annotation not working","body":"<p>I'm having a problem with following integration test</p>\n<pre><code>import org.junit.jupiter.api.Order;\nimport org.junit.jupiter.api.TestMethodOrder;\nimport org.junit.jupiter.api.MethodOrderer.OrderAnnotation;\n\n@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\n@TestMethodOrder(OrderAnnotation.class)\npublic class FooServiceIT {\n    @Test\n    @Order(1)\n    void testUploadSuccess() { ... }\n    @Test\n    @Order(2)\n    void testDownloadSuccess() { ... }\n    @Test\n    @Order(3)\n    void testDeleteSuccess() { ... }\n}\n</code></pre>\n<p>I'd expect when I run the test that the execution order would 1, 2, 3 but for some reason, the actual execution order is 2, 3, 1.</p>\n<p>Tbh, I'm clueless why the annotation is not working. I'm using Spring Boot 2.1.3 with JUnit 5.4.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677543819,"post_id":75584494,"comment_id":133355250,"body_markdown":"this most likely because of CORS, please post your full spring security debug logs","body":"this most likely because of CORS, please post your full spring security debug logs"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677543861,"post_id":75584494,"comment_id":133355258,"body_markdown":"Does this answer your question? [How to configure CORS in a Spring Boot + Spring Security application?](https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application\">How to configure CORS in a Spring Boot + Spring Security application?</a>"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677565949,"creation_date":1677565415,"answer_id":75588515,"question_id":75584494,"body_markdown":"It is because of CSRF protection rather than CORS. By default , spring security will turn on CSRF protection which require all POST requests provided with a valid CSRF token. Otherwise, it will return 403 even the user is authenticated. \r\n\r\nThe root cause of CSRF is because the server uses cookies to determine if an user is authenticated. If you are developing REST API , you can safely turn it off as we normally will not use cookie but access token for authentication in REST API (See [this][1] for more details)\r\n\r\nSo change the following should fix your problem : \r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .httpBasic()\r\n                .and().csrf().disable();\r\n        return http.build();\r\n    }\r\n```\r\n\r\n\r\nIf you are not developing a REST API and really need to enable CSRF , you can use `CsrfRequestPostProcessor` to automatically populate a valid CSRF token in the request : \r\n\r\n\r\n``` java\r\n   mockMvc.perform(post(String.format(&quot;/person/%s&quot;, &quot;100&quot;))\r\n                        .with(csrf())\r\n                        .with(authentication(userAuthCredentials)))\r\n\r\n```\r\n\r\n  [1]: https://security.stackexchange.com/questions/166724/should-i-use-csrf-protection-on-rest-api-endpoints","title":"Spring Security basic authentication throws always 403 Forbidden","body":"<p>It is because of CSRF protection rather than CORS. By default , spring security will turn on CSRF protection which require all POST requests provided with a valid CSRF token. Otherwise, it will return 403 even the user is authenticated.</p>\n<p>The root cause of CSRF is because the server uses cookies to determine if an user is authenticated. If you are developing REST API , you can safely turn it off as we normally will not use cookie but access token for authentication in REST API (See <a href=\"https://security.stackexchange.com/questions/166724/should-i-use-csrf-protection-on-rest-api-endpoints\">this</a> for more details)</p>\n<p>So change the following should fix your problem :</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic()\n                .and().csrf().disable();\n        return http.build();\n    }\n</code></pre>\n<p>If you are not developing a REST API and really need to enable CSRF , you can use <code>CsrfRequestPostProcessor</code> to automatically populate a valid CSRF token in the request :</p>\n<pre class=\"lang-java prettyprint-override\"><code>   mockMvc.perform(post(String.format(&quot;/person/%s&quot;, &quot;100&quot;))\n                        .with(csrf())\n                        .with(authentication(userAuthCredentials)))\n\n</code></pre>\n"}],"owner":{"account_id":10473591,"reputation":858,"user_id":7720801,"display_name":"LDropl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2118,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75588515,"answer_count":1,"score":0,"last_activity_date":1677565949,"creation_date":1677524115,"question_id":75584494,"body_markdown":"In my SpringBoot App (ver. 3.0.2) I&#39;m trying to implement endpoint with basic authentication using Spring Security\r\n\r\nThe issue is the endpoint always throws 403 Forbidden no matter if I&#39;m running UnitTest or call endpoint via Postman.\r\n\r\nWhat is wrong in this implementation ? Thanks in advance!\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeRequests()\r\n\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t\t.and()\r\n\t\t\t\t.httpBasic();\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic InMemoryUserDetailsManager userDetailsService() {\r\n\t\tUserDetails user = User\r\n\t\t\t\t.withUsername(&quot;user&quot;)\r\n\t\t\t\t.password(passwordEncoder().encode(&quot;password&quot;))\r\n\t\t\t\t.roles(&quot;USER_ROLE&quot;)\r\n\t\t\t\t.build();\r\n\t\treturn new InMemoryUserDetailsManager(user);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder(8);\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/person&quot;)\r\npublic class PdfReceiptController {\r\n\r\n\t@Autowired\r\n\tprivate PdfDocumentService pdfDocumentService;\r\n\r\n\t@Autowired\r\n\tprivate PdfDocumentRepositoryImpl pdfDocumentRepository;\r\n\r\n\t@Autowired\r\n\tpublic JdbcTemplate jdbcTemplate;\r\n\r\n\t@PostMapping(value = &quot;/{id}&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; createReceipt(@PathVariable String id) {\r\n\t\t//...\r\n\t}\r\n}\r\n```\r\n\r\nJUnit Test:\r\n\r\n```java\r\n@Slf4j\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@RunWith(SpringRunner.class)\r\n@Transactional\r\n@AutoConfigureMockMvc\r\nclass PdfReceiptControllerTest extends BaseTest {\r\n\r\n\t@Autowired\r\n\tprivate PdfDocumentRepositoryImpl pdfDocumentRepository;\r\n\r\n\t@Autowired\r\n\tprotected MockMvc mockMvc;\r\n\r\n\r\n\t@Test\r\n\tvoid createReceipt_wrongPassword_unauthorized() throws Exception {\r\n\t\tUserDetails user = User.builder()\r\n\t\t\t\t.username(&quot;user&quot;)\r\n\t\t\t\t.password(&quot;password&quot;)\r\n\t\t\t\t.roles(&quot;USER_ROLE&quot;)\r\n\t\t\t\t.build();\r\n\t\tAuthentication userAuthCredentials = new TestingAuthenticationToken(user, null, &quot;USER_ROLE&quot;);\r\n\r\n\t\tmockMvc.perform(post(String.format(&quot;/person/%s&quot;, &quot;100&quot;))\r\n\t\t\t\t\t\t.with(authentication(userAuthCredentials)))\r\n\t\t\t\t.andExpect(status().isUnauthorized());\r\n\t}\r\n}\r\n```","title":"Spring Security basic authentication throws always 403 Forbidden","body":"<p>In my SpringBoot App (ver. 3.0.2) I'm trying to implement endpoint with basic authentication using Spring Security</p>\n<p>The issue is the endpoint always throws 403 Forbidden no matter if I'm running UnitTest or call endpoint via Postman.</p>\n<p>What is wrong in this implementation ? Thanks in advance!</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic();\n        return http.build();\n    }\n\n    @Bean\n    public InMemoryUserDetailsManager userDetailsService() {\n        UserDetails user = User\n                .withUsername(&quot;user&quot;)\n                .password(passwordEncoder().encode(&quot;password&quot;))\n                .roles(&quot;USER_ROLE&quot;)\n                .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(8);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/person&quot;)\npublic class PdfReceiptController {\n\n    @Autowired\n    private PdfDocumentService pdfDocumentService;\n\n    @Autowired\n    private PdfDocumentRepositoryImpl pdfDocumentRepository;\n\n    @Autowired\n    public JdbcTemplate jdbcTemplate;\n\n    @PostMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;?&gt; createReceipt(@PathVariable String id) {\n        //...\n    }\n}\n</code></pre>\n<p>JUnit Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@RunWith(SpringRunner.class)\n@Transactional\n@AutoConfigureMockMvc\nclass PdfReceiptControllerTest extends BaseTest {\n\n    @Autowired\n    private PdfDocumentRepositoryImpl pdfDocumentRepository;\n\n    @Autowired\n    protected MockMvc mockMvc;\n\n\n    @Test\n    void createReceipt_wrongPassword_unauthorized() throws Exception {\n        UserDetails user = User.builder()\n                .username(&quot;user&quot;)\n                .password(&quot;password&quot;)\n                .roles(&quot;USER_ROLE&quot;)\n                .build();\n        Authentication userAuthCredentials = new TestingAuthenticationToken(user, null, &quot;USER_ROLE&quot;);\n\n        mockMvc.perform(post(String.format(&quot;/person/%s&quot;, &quot;100&quot;))\n                        .with(authentication(userAuthCredentials)))\n                .andExpect(status().isUnauthorized());\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","wayland"],"answers":[{"comments":[{"owner":{"account_id":371737,"reputation":782,"user_id":720436,"accept_rate":86,"display_name":"Zubzub"},"score":1,"creation_date":1475777974,"post_id":39784999,"comment_id":67091502,"body_markdown":"I&#39;m the author of that mail. In the meanwhile I&#39;ve created a monocle port of javafx to wayland. More information here: https://github.com/udevbe/wayland-javafx","body":"I&#39;m the author of that mail. In the meanwhile I&#39;ve created a monocle port of javafx to wayland. More information here: <a href=\"https://github.com/udevbe/wayland-javafx\" rel=\"nofollow noreferrer\">github.com/udevbe/wayland-javafx</a>"},{"owner":{"account_id":3123068,"reputation":4253,"user_id":2642478,"accept_rate":90,"display_name":"Alessandro Scarozza"},"score":0,"creation_date":1508751072,"post_id":39784999,"comment_id":80719256,"body_markdown":"@Zubzub there is any solution for swing ?","body":"@Zubzub there is any solution for swing ?"},{"owner":{"account_id":371737,"reputation":782,"user_id":720436,"accept_rate":86,"display_name":"Zubzub"},"score":1,"creation_date":1508847740,"post_id":39784999,"comment_id":80767417,"body_markdown":"@Xan Yes, redhat has a swing port for wayland.http://mail.openjdk.java.net/pipermail/caciocavallo-dev/2016-August/000558.html\nHowever, I don&#39;t know how well it works, or how easy it is to set up.","body":"@Xan Yes, redhat has a swing port for wayland.<a href=\"http://mail.openjdk.java.net/pipermail/caciocavallo-dev/2016-August/000558.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/caciocavallo-dev/201&zwnj;&#8203;6-August/&hellip;</a> However, I don&#39;t know how well it works, or how easy it is to set up."},{"owner":{"account_id":1151728,"reputation":2694,"user_id":1133275,"accept_rate":50,"display_name":"user1133275"},"score":0,"creation_date":1514108488,"post_id":39784999,"comment_id":82888268,"body_markdown":"Progress seems good https://bugs.eclipse.org/bugs/show_bug.cgi?id=516841","body":"Progress seems good <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=516841\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=516841</a>"},{"owner":{"account_id":5690672,"reputation":39585,"user_id":4498831,"accept_rate":92,"display_name":"Boiethios"},"score":0,"creation_date":1607778759,"post_id":39784999,"comment_id":115382703,"body_markdown":"Do you know if the answer changed? I&#39;d like to run a Java app with native wayland (not xwayland) but I don&#39;t know if it is possible.","body":"Do you know if the answer changed? I&#39;d like to run a Java app with native wayland (not xwayland) but I don&#39;t know if it is possible."}],"tags":[],"owner":{"account_id":1401537,"reputation":8371,"user_id":1787206,"accept_rate":80,"display_name":"Jamey Sharp"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1475217073,"creation_date":1475216754,"answer_id":39784999,"question_id":39197208,"body_markdown":"I found this question while wondering the same thing: I have a Java Swing application that I would like to run natively on Wayland. I don&#39;t know if that&#39;s possible, and the lack of other answers seems to indicate that it is not.\r\n\r\nHowever, you absolutely can run a Swing application under XWayland, and run _that_ under your preferred Wayland compositor. You may find that&#39;s good enough for your needs. It&#39;s working well for me in initial testing under the GNOME 3 compositor, at least.\r\n\r\nEdit: on continuing my search, I found that the Wayland community had answered your question the same way on their mailing list, along with additional context. To save other readers the trouble, this post summarizes the situation as of August 2016: &lt;https://lists.freedesktop.org/archives/wayland-devel/2016-August/030832.html&gt;","title":"Java GUI support on Wayland","body":"<p>I found this question while wondering the same thing: I have a Java Swing application that I would like to run natively on Wayland. I don't know if that's possible, and the lack of other answers seems to indicate that it is not.</p>\n\n<p>However, you absolutely can run a Swing application under XWayland, and run <em>that</em> under your preferred Wayland compositor. You may find that's good enough for your needs. It's working well for me in initial testing under the GNOME 3 compositor, at least.</p>\n\n<p>Edit: on continuing my search, I found that the Wayland community had answered your question the same way on their mailing list, along with additional context. To save other readers the trouble, this post summarizes the situation as of August 2016: <a href=\"https://lists.freedesktop.org/archives/wayland-devel/2016-August/030832.html\" rel=\"noreferrer\">https://lists.freedesktop.org/archives/wayland-devel/2016-August/030832.html</a></p>\n"},{"tags":[],"owner":{"account_id":1369771,"reputation":1668,"user_id":1305332,"accept_rate":26,"display_name":"Peter Quiring"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600015213,"creation_date":1600015213,"answer_id":63873181,"question_id":39197208,"body_markdown":"This is kinda possible.  AWT stands for &quot;abstract&quot; window toolkit.  There are several extensions to AWT where the peer is QT or GTK instead of the default JDK.\r\n\r\nQt:\r\nhttps://cvs.savannah.gnu.org/viewvc/classpath/classpath/gnu/java/awt/peer/qt/\r\n\r\nGtk:\r\nhttps://cvs.savannah.gnu.org/viewvc/classpath/classpath/gnu/java/awt/peer/gtk/\r\n\r\nNote these sources are old and might need some revisions to work with latest JDK.\r\n","title":"Java GUI support on Wayland","body":"<p>This is kinda possible.  AWT stands for &quot;abstract&quot; window toolkit.  There are several extensions to AWT where the peer is QT or GTK instead of the default JDK.</p>\n<p>Qt:\n<a href=\"https://cvs.savannah.gnu.org/viewvc/classpath/classpath/gnu/java/awt/peer/qt/\" rel=\"nofollow noreferrer\">https://cvs.savannah.gnu.org/viewvc/classpath/classpath/gnu/java/awt/peer/qt/</a></p>\n<p>Gtk:\n<a href=\"https://cvs.savannah.gnu.org/viewvc/classpath/classpath/gnu/java/awt/peer/gtk/\" rel=\"nofollow noreferrer\">https://cvs.savannah.gnu.org/viewvc/classpath/classpath/gnu/java/awt/peer/gtk/</a></p>\n<p>Note these sources are old and might need some revisions to work with latest JDK.</p>\n"},{"comments":[{"owner":{"account_id":10690545,"reputation":700,"user_id":7869636,"display_name":"Ashark"},"score":0,"creation_date":1619376239,"post_id":66333053,"comment_id":118880989,"body_markdown":"I also wanted it mostly for JetBrains IDEs. Here https://youtrack.jetbrains.com/issue/JBR-3206 they say that it will have native wayland support. Also, some info on java hidpi is here https://wiki.archlinux.org/index.php/HiDPI#Java_applications","body":"I also wanted it mostly for JetBrains IDEs. Here <a href=\"https://youtrack.jetbrains.com/issue/JBR-3206\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/JBR-3206</a> they say that it will have native wayland support. Also, some info on java hidpi is here <a href=\"https://wiki.archlinux.org/index.php/HiDPI#Java_applications\" rel=\"nofollow noreferrer\">wiki.archlinux.org/index.php/HiDPI#Java_applications</a>"}],"tags":[],"owner":{"account_id":7842560,"reputation":63,"user_id":7859063,"display_name":"PetaByteBoy"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614083052,"creation_date":1614083052,"answer_id":66333053,"question_id":39197208,"body_markdown":"I solved the problem using the cacio-wayland @Zubzub posted as a comment on another answer.\r\n\r\nSince the program I wanted to use (IntelliJ IDEA) requires JDK &gt;=11, I had to apply some changes to the cacio-shared subdirectory and adapt cacio-wayland accordingly to run on JDK11:\r\n\r\nhttps://github.com/petabyteboy/caciocavallo/commit/81d3254699f6caaa1e9957cae47703e0b18de870\r\n\r\nYou can clone my repository, build the libraries and use them to start your application. In this example I start JD-GUI:\r\n\r\n```\r\n# make sure you have the following things installed: openjdk jdk11, cairo, wayland, libxkbcommon, maven, git\r\n\r\ngit clone https://github.com/petabyteboy/caciocavallo\r\ncd caciocavallo\r\n\r\nmvn clean install\r\n# it may fail to generate javadocs, but as long as cacio-wayland/target/cacio-wayland-1.10-SNAPSHOT.jar is generated it should be fine\r\n\r\n# the generated native library needs to be renamed to be found at runtime\r\nmkdir natives\r\ncp cacio-wayland/target/nar/cacio-wayland-1.10-SNAPSHOT-amd64-Linux-gpp-jni/lib/amd64-Linux-gpp/jni/libcacio-wayland-1.10-SNAPSHOT.so natives/libcacio-wayland.so\r\n\r\njava \\\r\n  -cp $PWD/cacio-shared/target/cacio-shared-1.10-SNAPSHOT.jar:$PWD/cacio-wayland/target/cacio-wayland-1.10-SNAPSHOT.jar:/usr/share/jd-gui/jd-gui-1.6.6.jar \\\r\n  -Dawt.toolkit=net.java.openjdk.cacio.wayland.WaylandToolkit \\\r\n  -Djava.awt.graphicsenv=net.java.openjdk.cacio.wayland.WaylandGraphicsEnvironment  \\\r\n  -Djava.library.path=$PWD/natives \\\r\n  org.jd.gui.App\r\n```\r\n\r\nIf it gives a SIGSEGV crash in your wayland compositor, try in Weston.\r\n\r\n\r\n![](https://matrix.petabyte.dev/_matrix/media/r0/download/petabyte.dev/hVPcimOCyuhzoSfIlkZBjNcJ)","title":"Java GUI support on Wayland","body":"<p>I solved the problem using the cacio-wayland @Zubzub posted as a comment on another answer.</p>\n<p>Since the program I wanted to use (IntelliJ IDEA) requires JDK &gt;=11, I had to apply some changes to the cacio-shared subdirectory and adapt cacio-wayland accordingly to run on JDK11:</p>\n<p><a href=\"https://github.com/petabyteboy/caciocavallo/commit/81d3254699f6caaa1e9957cae47703e0b18de870\" rel=\"nofollow noreferrer\">https://github.com/petabyteboy/caciocavallo/commit/81d3254699f6caaa1e9957cae47703e0b18de870</a></p>\n<p>You can clone my repository, build the libraries and use them to start your application. In this example I start JD-GUI:</p>\n<pre><code># make sure you have the following things installed: openjdk jdk11, cairo, wayland, libxkbcommon, maven, git\n\ngit clone https://github.com/petabyteboy/caciocavallo\ncd caciocavallo\n\nmvn clean install\n# it may fail to generate javadocs, but as long as cacio-wayland/target/cacio-wayland-1.10-SNAPSHOT.jar is generated it should be fine\n\n# the generated native library needs to be renamed to be found at runtime\nmkdir natives\ncp cacio-wayland/target/nar/cacio-wayland-1.10-SNAPSHOT-amd64-Linux-gpp-jni/lib/amd64-Linux-gpp/jni/libcacio-wayland-1.10-SNAPSHOT.so natives/libcacio-wayland.so\n\njava \\\n  -cp $PWD/cacio-shared/target/cacio-shared-1.10-SNAPSHOT.jar:$PWD/cacio-wayland/target/cacio-wayland-1.10-SNAPSHOT.jar:/usr/share/jd-gui/jd-gui-1.6.6.jar \\\n  -Dawt.toolkit=net.java.openjdk.cacio.wayland.WaylandToolkit \\\n  -Djava.awt.graphicsenv=net.java.openjdk.cacio.wayland.WaylandGraphicsEnvironment  \\\n  -Djava.library.path=$PWD/natives \\\n  org.jd.gui.App\n</code></pre>\n<p>If it gives a SIGSEGV crash in your wayland compositor, try in Weston.</p>\n<p><img src=\"https://matrix.petabyte.dev/_matrix/media/r0/download/petabyte.dev/hVPcimOCyuhzoSfIlkZBjNcJ\" alt=\"\" /></p>\n"},{"tags":[],"owner":{"account_id":23470664,"reputation":1,"user_id":17524221,"display_name":"yayowd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638020305,"creation_date":1638020305,"answer_id":70135294,"question_id":39197208,"body_markdown":"I use cacio-wayland to run idea on wayland, but still fuzzy in HiDPI.\r\nAnd need some step to run:\r\n\r\n 1. use jbr in idea diretory as java runtime to build\r\n 2. fix some build error:\r\n    - cacio-shared/src/main/java/sun/awt/peer/cacio/KFMHelper.java : shouldNativelyFocusHeavyweight add last argment\r\n    - cacio-wayland/pom.xml : fix include/lib path\r\n    - pom.xml : change maven-install-plugin version to 3.0.0-M1\r\n 3. fix run time error:\r\n    cacio-wayland/src/main/native/wayland.c : display_handle_mode\r\n&gt;     // is current mode\r\n&gt;     if ((flags &amp; 0x1) == 0x1) {\r\n&gt;       if (width &gt; _display.width)\r\n&gt;         _display.width = width;\r\n&gt;       if (height &gt; _display.height)\r\n&gt;         _display.height = height;\r\n&gt;     }\r\nget max display size to create pool, avoid error: wl_shm_pool invalid width, height or stride\r\n","title":"Java GUI support on Wayland","body":"<p>I use cacio-wayland to run idea on wayland, but still fuzzy in HiDPI.\nAnd need some step to run:</p>\n<ol>\n<li>use jbr in idea diretory as java runtime to build</li>\n<li>fix some build error:\n<ul>\n<li>cacio-shared/src/main/java/sun/awt/peer/cacio/KFMHelper.java : shouldNativelyFocusHeavyweight add last argment</li>\n<li>cacio-wayland/pom.xml : fix include/lib path</li>\n<li>pom.xml : change maven-install-plugin version to 3.0.0-M1</li>\n</ul>\n</li>\n<li>fix run time error:\ncacio-wayland/src/main/native/wayland.c : display_handle_mode</li>\n</ol>\n<blockquote>\n<pre><code>// is current mode\nif ((flags &amp; 0x1) == 0x1) {\n  if (width &gt; _display.width)\n    _display.width = width;\n  if (height &gt; _display.height)\n    _display.height = height;\n}\n</code></pre>\n</blockquote>\n<p>get max display size to create pool, avoid error: wl_shm_pool invalid width, height or stride</p>\n"},{"tags":[],"owner":{"account_id":12916039,"reputation":53,"user_id":9342994,"display_name":"genodeftest"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677565631,"creation_date":1677565631,"answer_id":75588541,"question_id":39197208,"body_markdown":"For AWT and Swing, the long-term solution is being developed under the name [Wakefield](https://wiki.openjdk.org/display/wakefield) as part of OpenJDK. As of early 2023, it has not yet landed in official OpenJDK releases.","title":"Java GUI support on Wayland","body":"<p>For AWT and Swing, the long-term solution is being developed under the name <a href=\"https://wiki.openjdk.org/display/wakefield\" rel=\"nofollow noreferrer\">Wakefield</a> as part of OpenJDK. As of early 2023, it has not yet landed in official OpenJDK releases.</p>\n"}],"owner":{"account_id":449811,"reputation":173,"user_id":844810,"display_name":"vinoth kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17403,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":5,"score":15,"last_activity_date":1677565631,"creation_date":1472432450,"question_id":39197208,"body_markdown":"I want to include Java GUI support on my system which has only wayland backend supported. I tried to include OpenJDK-7-jre package, but it seems to have X11 dependency.\r\nI compiled ‘Openjre-8’ package successfully and included in my image. But, it can run only Java applications without GUI. When I try to run any JAVA SWING API based GUI program I get the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.awt.HeadlessException                           \r\n            at java.awt.GraphicsEnvironment.checkHeadless(Unknown Source)           \r\n            at java.awt.Window.&lt;init&gt;(Unknown Source)                               \r\n            at java.awt.Frame.&lt;init&gt;(Unknown Source)                                \r\n            at java.awt.Frame.&lt;init&gt;(Unknown Source)                                \r\n            at javax.swing.JFrame.&lt;init&gt;(Unknown Source)                            \r\n            at GuiApp1.&lt;init&gt;(GuiApp1.java:25)                                      \r\n            at GuiApp1.main(GuiApp1.java:20)  \r\n\r\nIs it possible to run Java GUI programs on wayland? How do we do it?\r\n\r\n","title":"Java GUI support on Wayland","body":"<p>I want to include Java GUI support on my system which has only wayland backend supported. I tried to include OpenJDK-7-jre package, but it seems to have X11 dependency.\nI compiled ‘Openjre-8’ package successfully and included in my image. But, it can run only Java applications without GUI. When I try to run any JAVA SWING API based GUI program I get the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.awt.HeadlessException                           \n        at java.awt.GraphicsEnvironment.checkHeadless(Unknown Source)           \n        at java.awt.Window.&lt;init&gt;(Unknown Source)                               \n        at java.awt.Frame.&lt;init&gt;(Unknown Source)                                \n        at java.awt.Frame.&lt;init&gt;(Unknown Source)                                \n        at javax.swing.JFrame.&lt;init&gt;(Unknown Source)                            \n        at GuiApp1.&lt;init&gt;(GuiApp1.java:25)                                      \n        at GuiApp1.main(GuiApp1.java:20)  \n</code></pre>\n\n<p>Is it possible to run Java GUI programs on wayland? How do we do it?</p>\n"},{"tags":["java","spring","database","cassandra","nosql"],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677515779,"creation_date":1677515779,"answer_id":75583163,"question_id":75582897,"body_markdown":"&gt; I want to know what prerequisites are required to start learning\r\n&gt; Spring Framework?\r\n\r\nThe first and obvious thing I can suggest to you is to:\r\n\r\n 1. Visit the [Spring][1] project web site\r\n 2. Take a course on **Udemy** or see some free courses on **Youtube**.\r\n\r\nIf you want to go deeply in the subject, I can suggest the following path:\r\n\r\n 1. Understand deeply the *[Inversion Of Control][2]* (IoC) and *[Dependency Injection][3]* (DI) pattern. You can do DI without Spring.\r\n 2. Understand how **Spring** helps you implements IoC and DI\r\n 3. Understand how **Spring** [projects][4] are organized (difference between **Spring** and **Spring Boot**)\r\n 4. Read very carefully the [reference][5] documentation available of the web site\r\n 5. Do all the quick [tutorials][6] available on **Spring** web site\r\n\r\nFor Cassandra:\r\n\r\n&gt; Also I am completely new to world of databases. Should Straight away\r\n&gt; start with Cassandra database to learn or are there any prerequisites\r\n&gt; to complete before that?\r\n\r\n 1. Read on Database concept, start with relational database such as [MySQL][7]\r\n 2. Take a course on **Udemy** or a free course on **Youtube**.\r\n 3. Read the [documentation][8] of the web site\r\n 4. Read on [NoSQL][9] paradigm\r\n\r\nMy last advice is: **Open and read StackOverflow everyday, it is an endless source of knowledge**\r\n\r\n\r\n  [1]: https://spring.io/\r\n  [2]: https://stackoverflow.com/questions/3058/what-is-inversion-of-control\r\n  [3]: https://stackoverflow.com/questions/130794/what-is-dependency-injection\r\n  [4]: https://spring.io/projects\r\n  [5]: https://docs.spring.io/spring-framework/docs/5.3.26-SNAPSHOT/reference/html/\r\n  [6]: https://spring.io/quickstart\r\n  [7]: https://www.mysql.com/\r\n  [8]: https://cassandra.apache.org/doc/latest/\r\n  [9]: https://en.wikipedia.org/wiki/NoSQL","title":"What are the prerequisites for learning Spring framework &amp; Cassandra database?","body":"<blockquote>\n<p>I want to know what prerequisites are required to start learning\nSpring Framework?</p>\n</blockquote>\n<p>The first and obvious thing I can suggest to you is to:</p>\n<ol>\n<li>Visit the <a href=\"https://spring.io/\" rel=\"nofollow noreferrer\">Spring</a> project web site</li>\n<li>Take a course on <strong>Udemy</strong> or see some free courses on <strong>Youtube</strong>.</li>\n</ol>\n<p>If you want to go deeply in the subject, I can suggest the following path:</p>\n<ol>\n<li>Understand deeply the <em><a href=\"https://stackoverflow.com/questions/3058/what-is-inversion-of-control\">Inversion Of Control</a></em> (IoC) and <em><a href=\"https://stackoverflow.com/questions/130794/what-is-dependency-injection\">Dependency Injection</a></em> (DI) pattern. You can do DI without Spring.</li>\n<li>Understand how <strong>Spring</strong> helps you implements IoC and DI</li>\n<li>Understand how <strong>Spring</strong> <a href=\"https://spring.io/projects\" rel=\"nofollow noreferrer\">projects</a> are organized (difference between <strong>Spring</strong> and <strong>Spring Boot</strong>)</li>\n<li>Read very carefully the <a href=\"https://docs.spring.io/spring-framework/docs/5.3.26-SNAPSHOT/reference/html/\" rel=\"nofollow noreferrer\">reference</a> documentation available of the web site</li>\n<li>Do all the quick <a href=\"https://spring.io/quickstart\" rel=\"nofollow noreferrer\">tutorials</a> available on <strong>Spring</strong> web site</li>\n</ol>\n<p>For Cassandra:</p>\n<blockquote>\n<p>Also I am completely new to world of databases. Should Straight away\nstart with Cassandra database to learn or are there any prerequisites\nto complete before that?</p>\n</blockquote>\n<ol>\n<li>Read on Database concept, start with relational database such as <a href=\"https://www.mysql.com/\" rel=\"nofollow noreferrer\">MySQL</a></li>\n<li>Take a course on <strong>Udemy</strong> or a free course on <strong>Youtube</strong>.</li>\n<li>Read the <a href=\"https://cassandra.apache.org/doc/latest/\" rel=\"nofollow noreferrer\">documentation</a> of the web site</li>\n<li>Read on <a href=\"https://en.wikipedia.org/wiki/NoSQL\" rel=\"nofollow noreferrer\">NoSQL</a> paradigm</li>\n</ol>\n<p>My last advice is: <strong>Open and read StackOverflow everyday, it is an endless source of knowledge</strong></p>\n"},{"comments":[{"owner":{"account_id":27892469,"reputation":1,"user_id":21298540,"display_name":"Dhananjay Bhujbal"},"score":0,"creation_date":1677590478,"post_id":75588536,"comment_id":133364700,"body_markdown":"How about using Cassandra docs?","body":"How about using Cassandra docs?"},{"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"score":0,"creation_date":1677631094,"post_id":75588536,"comment_id":133375393,"body_markdown":"They&#39;re on the official Apache website -- https://cassandra.apache.org/doc/latest/. &#127867;","body":"They&#39;re on the official Apache website -- <a href=\"https://cassandra.apache.org/doc/latest/\" rel=\"nofollow noreferrer\">cassandra.apache.org/doc/latest</a>. 🍻"}],"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677565574,"creation_date":1677565574,"answer_id":75588536,"question_id":75582897,"body_markdown":"If you already know Java then you can start learning about Spring immediately. The whole idea with Spring is that it makes it easier to build Java applications.\r\n\r\nThe [Spring.io][1] website is a very good resource and a good place to start, particularly the [Spring Academy][2] for free hands-on courses.\r\n\r\nDataStax run free workshops every week where you can learn about Cassandra and how to build apps live with hands-on exercises. You don&#39;t need to know Cassandra to attend and everything you need for the workshop is provided free.\r\n\r\nThere are three featured workshops listed on [datastax.com/workshops][3] you can do now:\r\n\r\n - [Intro to Cassandra for Developers][4]\r\n - [Build an eCommerce Website with Spring Boot + Cassandra][5]\r\n - [Build scalable Microservices with Spring Boot + Cassandra][6]\r\n\r\nAgain, you do NOT need to know about Cassandra to do these workshops because everything you need to know will be discussed and covered.\r\n\r\nIf you want to spend a bit more time learning about Cassandra, there are hands-on tutorials at [datastax.com/dev][7] and full-blown courses at [DataStax Academy][8] which are all free. Cheers!\r\n\r\n\r\n  [1]: https://spring.io/\r\n  [2]: https://spring.academy/courses\r\n  [3]: https://www.datastax.com/workshops\r\n  [4]: https://www.datastax.com/workshops/introduction-to-cassandra-for-developers\r\n  [5]: https://www.datastax.com/workshops/build-an-ecommerce-website-with-spring-boot-and-a-nosql-db\r\n  [6]: https://www.datastax.com/workshops/build-scalable-api-based-microservices-with-spring-boot-and-cassandra\r\n  [7]: https://www.datastax.com/dev\r\n  [8]: https://academy.datastax.com/","title":"What are the prerequisites for learning Spring framework &amp; Cassandra database?","body":"<p>If you already know Java then you can start learning about Spring immediately. The whole idea with Spring is that it makes it easier to build Java applications.</p>\n<p>The <a href=\"https://spring.io/\" rel=\"nofollow noreferrer\">Spring.io</a> website is a very good resource and a good place to start, particularly the <a href=\"https://spring.academy/courses\" rel=\"nofollow noreferrer\">Spring Academy</a> for free hands-on courses.</p>\n<p>DataStax run free workshops every week where you can learn about Cassandra and how to build apps live with hands-on exercises. You don't need to know Cassandra to attend and everything you need for the workshop is provided free.</p>\n<p>There are three featured workshops listed on <a href=\"https://www.datastax.com/workshops\" rel=\"nofollow noreferrer\">datastax.com/workshops</a> you can do now:</p>\n<ul>\n<li><a href=\"https://www.datastax.com/workshops/introduction-to-cassandra-for-developers\" rel=\"nofollow noreferrer\">Intro to Cassandra for Developers</a></li>\n<li><a href=\"https://www.datastax.com/workshops/build-an-ecommerce-website-with-spring-boot-and-a-nosql-db\" rel=\"nofollow noreferrer\">Build an eCommerce Website with Spring Boot + Cassandra</a></li>\n<li><a href=\"https://www.datastax.com/workshops/build-scalable-api-based-microservices-with-spring-boot-and-cassandra\" rel=\"nofollow noreferrer\">Build scalable Microservices with Spring Boot + Cassandra</a></li>\n</ul>\n<p>Again, you do NOT need to know about Cassandra to do these workshops because everything you need to know will be discussed and covered.</p>\n<p>If you want to spend a bit more time learning about Cassandra, there are hands-on tutorials at <a href=\"https://www.datastax.com/dev\" rel=\"nofollow noreferrer\">datastax.com/dev</a> and full-blown courses at <a href=\"https://academy.datastax.com/\" rel=\"nofollow noreferrer\">DataStax Academy</a> which are all free. Cheers!</p>\n"}],"owner":{"account_id":27892469,"reputation":1,"user_id":21298540,"display_name":"Dhananjay Bhujbal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677565574,"creation_date":1677514328,"question_id":75582897,"body_markdown":"I am new to Spring framework. I have done core Java. I want to know what prerequisites are required to start learning Spring Framework?\r\n\r\nAlso I am completely new to world of databases. Should Straight away start with Cassandra database to learn or are there any prerequisites to complete before that?\r\n\r\n\r\nAbove two questions are not related to each other. Both have different standalone context.","title":"What are the prerequisites for learning Spring framework &amp; Cassandra database?","body":"<p>I am new to Spring framework. I have done core Java. I want to know what prerequisites are required to start learning Spring Framework?</p>\n<p>Also I am completely new to world of databases. Should Straight away start with Cassandra database to learn or are there any prerequisites to complete before that?</p>\n<p>Above two questions are not related to each other. Both have different standalone context.</p>\n"},{"tags":["java","csv","spring-data-jpa","spring-data","h2"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1677252592,"post_id":75558025,"comment_id":133306969,"body_markdown":"Looks like you need some join tables and look up how @ManyToMany with join tables works.","body":"Looks like you need some join tables and look up how @ManyToMany with join tables works."},{"owner":{"account_id":8714272,"reputation":158,"user_id":6519469,"display_name":"mi_mo"},"score":0,"creation_date":1677349794,"post_id":75558025,"comment_id":133321980,"body_markdown":"@IgorFlakiewicz hi, i know i have a ManyToMany case and i need a table joining, but i can&#39;t find a solution to write a proper query for this situation","body":"@IgorFlakiewicz hi, i know i have a ManyToMany case and i need a table joining, but i can&#39;t find a solution to write a proper query for this situation"}],"owner":{"account_id":8714272,"reputation":158,"user_id":6519469,"display_name":"mi_mo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677565221,"creation_date":1677250525,"question_id":75558025,"body_markdown":"i have a Spring + Java 11 + H2 in-memory database project and\r\nI have these 2 Entities (about the IMDB datasets) and corresponding Repositories:\r\n\r\n**Name:**\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Builder    \r\n    public class Name\r\n    {\r\n        @Id\r\n        @Column(name=&quot;nconst&quot;)\r\n        private String nconst;\r\n    \r\n        @Column(name=&quot;primaryName&quot;)\r\n        private String primaryName;\r\n    \r\n        @Column(name=&quot;birthYear&quot;)\r\n        private String birthYear;\r\n    \r\n        @Column(name=&quot;deathYear&quot;)\r\n        private String deathYear;\r\n    \r\n        @Column(name=&quot;primaryProfession&quot;)\r\n        @ElementCollection(targetClass=String.class)\r\n        private List&lt;String&gt; primaryProfession;\r\n    \r\n        @Column(name=&quot;knownForTitles&quot;)\r\n        @ElementCollection(targetClass=String.class)\r\n        private List&lt;String&gt; knownForTitles;\r\n    }\r\n\r\n**Title:**\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Builder\r\n    public class Title\r\n    {\r\n        @Id\r\n        @Column(name=&quot;tconst&quot;)\r\n        private String tconst;\r\n    \r\n        @Column(name=&quot;directors&quot;)\r\n        @ElementCollection(targetClass=String.class)\r\n        private List&lt;String&gt; directors;\r\n    \r\n        @Column(name=&quot;writers&quot;)\r\n        @ElementCollection(targetClass=String.class)\r\n        private List&lt;String&gt; writers;\r\n    }\r\n\r\n**NameRepository:**\r\n\r\n    @Repository\r\n    public interface NameRepository extends CrudRepository&lt;Name, String&gt;\r\n    {\r\n        Page&lt;Name&gt; findAll(Pageable pageable);\r\n        Name findByNconst(String nconst);\r\n        Name findByPrimaryName(String primaryName);\r\n    }\r\n**TitleRepository:**\r\n\r\n    @Repository\r\n    public interface TitleRepository extends CrudRepository&lt;Title, String&gt;\r\n    {\r\n        Page&lt;Title&gt; findAll(Pageable pageable);\r\n        Title findByTconst(String tconst);\r\n    }\r\n\r\n`knownForTitles` field values of Name entity are `tconst` from the Title entity(FK), which means each Name can have multiple `tconst` and each Title can have multiple `nconst` value for `directors` and `writers` fields that `nconst` is a primary key of table Name, we have ManyToMany relationship here, to demonstrate better please see below:\r\n\r\n**Name Dataset Sample:**\r\n[![Name Dataset Sample][1]][1]\r\n\r\nas you can see item: `nm0085156` from the Name collection has corresponding field in the table Title(it located in `directors` and `writers` fields), it means he is known as one of the crew for the title `nm0085156` :\r\n\r\n**Title Dataset Sample:**\r\n\r\n[![Title Dataset Sample][2]][2]\r\n\r\nWell, i want to write a query to find all items from table Title(one or more) that the `nm0085156` is director and writer or just director/writers for that title, it means i should find this field/fields :\r\n\r\n[![QueryResult][3]][3]\r\n\r\nI wanted to use `@Query` and `@ManyToMany` JPA annotation to write a custom query for that but i have this error:\r\n\r\n    &#39;Many To Many&#39; attribute value type should not be &#39;String&#39; \r\nCould you please guide me?\r\n\r\n  [1]: https://i.stack.imgur.com/3pKt1.png\r\n  [2]: https://i.stack.imgur.com/4r2l1.png\r\n  [3]: https://i.stack.imgur.com/lcTJr.png\r\n","title":"Spring data query to find &#39;ManyToMany&#39; String items between 2 tables","body":"<p>i have a Spring + Java 11 + H2 in-memory database project and\nI have these 2 Entities (about the IMDB datasets) and corresponding Repositories:</p>\n<p><strong>Name:</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Builder    \npublic class Name\n{\n    @Id\n    @Column(name=&quot;nconst&quot;)\n    private String nconst;\n\n    @Column(name=&quot;primaryName&quot;)\n    private String primaryName;\n\n    @Column(name=&quot;birthYear&quot;)\n    private String birthYear;\n\n    @Column(name=&quot;deathYear&quot;)\n    private String deathYear;\n\n    @Column(name=&quot;primaryProfession&quot;)\n    @ElementCollection(targetClass=String.class)\n    private List&lt;String&gt; primaryProfession;\n\n    @Column(name=&quot;knownForTitles&quot;)\n    @ElementCollection(targetClass=String.class)\n    private List&lt;String&gt; knownForTitles;\n}\n</code></pre>\n<p><strong>Title:</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Builder\npublic class Title\n{\n    @Id\n    @Column(name=&quot;tconst&quot;)\n    private String tconst;\n\n    @Column(name=&quot;directors&quot;)\n    @ElementCollection(targetClass=String.class)\n    private List&lt;String&gt; directors;\n\n    @Column(name=&quot;writers&quot;)\n    @ElementCollection(targetClass=String.class)\n    private List&lt;String&gt; writers;\n}\n</code></pre>\n<p><strong>NameRepository:</strong></p>\n<pre><code>@Repository\npublic interface NameRepository extends CrudRepository&lt;Name, String&gt;\n{\n    Page&lt;Name&gt; findAll(Pageable pageable);\n    Name findByNconst(String nconst);\n    Name findByPrimaryName(String primaryName);\n}\n</code></pre>\n<p><strong>TitleRepository:</strong></p>\n<pre><code>@Repository\npublic interface TitleRepository extends CrudRepository&lt;Title, String&gt;\n{\n    Page&lt;Title&gt; findAll(Pageable pageable);\n    Title findByTconst(String tconst);\n}\n</code></pre>\n<p><code>knownForTitles</code> field values of Name entity are <code>tconst</code> from the Title entity(FK), which means each Name can have multiple <code>tconst</code> and each Title can have multiple <code>nconst</code> value for <code>directors</code> and <code>writers</code> fields that <code>nconst</code> is a primary key of table Name, we have ManyToMany relationship here, to demonstrate better please see below:</p>\n<p><strong>Name Dataset Sample:</strong>\n<a href=\"https://i.stack.imgur.com/3pKt1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3pKt1.png\" alt=\"Name Dataset Sample\" /></a></p>\n<p>as you can see item: <code>nm0085156</code> from the Name collection has corresponding field in the table Title(it located in <code>directors</code> and <code>writers</code> fields), it means he is known as one of the crew for the title <code>nm0085156</code> :</p>\n<p><strong>Title Dataset Sample:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/4r2l1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4r2l1.png\" alt=\"Title Dataset Sample\" /></a></p>\n<p>Well, i want to write a query to find all items from table Title(one or more) that the <code>nm0085156</code> is director and writer or just director/writers for that title, it means i should find this field/fields :</p>\n<p><a href=\"https://i.stack.imgur.com/lcTJr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lcTJr.png\" alt=\"QueryResult\" /></a></p>\n<p>I wanted to use <code>@Query</code> and <code>@ManyToMany</code> JPA annotation to write a custom query for that but i have this error:</p>\n<pre><code>'Many To Many' attribute value type should not be 'String' \n</code></pre>\n<p>Could you please guide me?</p>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":299646,"reputation":1056,"user_id":606341,"accept_rate":24,"display_name":"Vijay Mohan"},"score":3,"creation_date":1505589343,"post_id":32127068,"comment_id":79478589,"body_markdown":"@RabbitListener(queues = &quot;${queue}&quot;))   have extra closing bracket! Please remove, I dont have edit permission :)","body":"@RabbitListener(queues = &quot;${queue}&quot;))   have extra closing bracket! Please remove, I dont have edit permission :)"},{"owner":{"account_id":3386246,"reputation":2684,"user_id":2842142,"display_name":"Apokralipsa"},"score":0,"creation_date":1505627773,"post_id":32127068,"comment_id":79485667,"body_markdown":"Good catch, removed :)","body":"Good catch, removed :)"},{"owner":{"account_id":142373,"reputation":10607,"user_id":350061,"accept_rate":100,"display_name":"Stefanos Kargas"},"score":0,"creation_date":1586892879,"post_id":32127068,"comment_id":108295141,"body_markdown":"This suggestion works indeed. You just put in the brackets an application property (works with dots also, e.g. my.application.property) and it works as a placeholder","body":"This suggestion works indeed. You just put in the brackets an application property (works with dots also, e.g. my.application.property) and it works as a placeholder"},{"owner":{"account_id":198847,"reputation":323,"user_id":443755,"display_name":"asokan"},"score":0,"creation_date":1674429769,"post_id":32127068,"comment_id":132707069,"body_markdown":"This method also worked for spring kafka. \n\n`@KafkaListener(topics = &quot;${application.topic}&quot;, groupId = &quot;${spring.kafka.consumer.group-id}&quot;)`\n    `public void listenWithHeaders(...)`","body":"This method also worked for spring kafka.   <code>@KafkaListener(topics = &quot;${application.topic}&quot;, groupId = &quot;${spring.kafka.consumer.group-id}&quot;)</code>     <code>public void listenWithHeaders(...)</code>"}],"tags":[],"owner":{"account_id":3386246,"reputation":2684,"user_id":2842142,"display_name":"Apokralipsa"},"comment_count":4,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1505627758,"creation_date":1440100094,"answer_id":32127068,"question_id":32126836,"body_markdown":"As you can see in the [javadoc for the @RabbitListener annotation][1], the queues attribute is a table of Strings, so you cannot assign an annotation to it. You also cannot assign variables to annotation attributes at all in Java, as they are required to be [compile constants][2].\r\n\r\nI cannot test it right now, but the javadoc seems to suggest that this should work (note, that it says it may return SpEL expressions):\r\n\r\n    @RabbitListener(queues = &quot;${queue}&quot;)     \r\n    public void handleMessage(Message message) {\r\n        ...\r\n    }    \r\n\r\n\r\n  [1]: http://docs.spring.io/autorepo/docs/spring-amqp-dist/1.4.5.BUILD-SNAPSHOT/api/org/springframework/amqp/rabbit/annotation/RabbitListener.html#queues--\r\n  [2]: https://stackoverflow.com/questions/2065937/how-to-supply-value-to-an-annotation-from-a-constant-java","title":"spring pass value from property file to annotation","body":"<p>As you can see in the <a href=\"http://docs.spring.io/autorepo/docs/spring-amqp-dist/1.4.5.BUILD-SNAPSHOT/api/org/springframework/amqp/rabbit/annotation/RabbitListener.html#queues--\" rel=\"noreferrer\">javadoc for the @RabbitListener annotation</a>, the queues attribute is a table of Strings, so you cannot assign an annotation to it. You also cannot assign variables to annotation attributes at all in Java, as they are required to be <a href=\"https://stackoverflow.com/questions/2065937/how-to-supply-value-to-an-annotation-from-a-constant-java\">compile constants</a>.</p>\n\n<p>I cannot test it right now, but the javadoc seems to suggest that this should work (note, that it says it may return SpEL expressions):</p>\n\n<pre><code>@RabbitListener(queues = \"${queue}\")     \npublic void handleMessage(Message message) {\n    ...\n}    \n</code></pre>\n"}],"owner":{"account_id":214551,"reputation":4879,"user_id":468587,"accept_rate":49,"display_name":"user468587"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21028,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":32127068,"answer_count":1,"score":21,"last_activity_date":1677564975,"creation_date":1440099204,"question_id":32126836,"body_markdown":"I have application.properties file for spring app which contains some simple properties:\r\n\r\n    queue=my.test.q\r\n\r\nin the java code i need to specify the queue to @RabbitListener:\r\n\r\n    @Component\r\n    public class Handler {    \r\n        @RabbitListener(queues = &quot;my.test.q&quot;)\r\n        public void handleMessage(Message message) {\r\n           ...\r\n        }\r\n\r\nthat would work, but i want to pass parameter to the annotation, i&#39;ve tried the following but none of them worked. \r\n\r\n        @Component\r\n        public class Handler {\r\n            @Value(&quot;${queue}&quot;)\r\n            private String queueName;\r\n        \r\n            @RabbitListener(queues = @Value(&quot;${queue}&quot;)  &lt;-- not working\r\n            @RabbitListener(queues = queueName))     &lt;--- not working\r\n            public void handleMessage(Message message) {\r\n               ...\r\n            }    \r\n\r\nis it possible to that?\r\n\r\n","title":"spring pass value from property file to annotation","body":"<p>I have application.properties file for spring app which contains some simple properties:</p>\n\n<pre><code>queue=my.test.q\n</code></pre>\n\n<p>in the java code i need to specify the queue to @RabbitListener:</p>\n\n<pre><code>@Component\npublic class Handler {    \n    @RabbitListener(queues = \"my.test.q\")\n    public void handleMessage(Message message) {\n       ...\n    }\n</code></pre>\n\n<p>that would work, but i want to pass parameter to the annotation, i've tried the following but none of them worked. </p>\n\n<pre><code>    @Component\n    public class Handler {\n        @Value(\"${queue}\")\n        private String queueName;\n\n        @RabbitListener(queues = @Value(\"${queue}\")  &lt;-- not working\n        @RabbitListener(queues = queueName))     &lt;--- not working\n        public void handleMessage(Message message) {\n           ...\n        }    \n</code></pre>\n\n<p>is it possible to that?</p>\n"},{"tags":["java","android","pocketsphinx","pocketsphinx-android"],"owner":{"display_name":"user995009"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":854,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677564937,"creation_date":1437491059,"question_id":31542837,"body_markdown":"I am trying to implement **Speech Recognition** with the help of `Pocket Sphinx Library`.\r\n\r\nWhat my approach was,\r\n\r\nI just downloaded their demo project for Android. Imported it in Eclipse, did clean-build and run it on device. It ran successfully.\r\n\r\nAfter this I copied the `libs` folder from demo project to my own project.\r\nI copied the `assets` folder contents **as it is** in my own project.\r\nThen I edited the `digits.gram` file contents as per [this post][1].\r\n\r\nThen implemented the `Listener` in my activity and added `addKeywordSearch` to it.\r\n\r\n**My Questions:**\r\n\r\n1. Is this approach correct to implement this library in our own projects? Can we just copy paste all the files, modify `.gram` files as per need and run it? Or we need to do some other steps to generate `.gram` files?\r\n\r\n2. When I tried with the above mentioned approach, then project ran successfully on the device for a few times. But after that it started showing the following error.\r\n\r\n        E/cmusphinx(10470): ERROR: &quot;kws_search.c&quot;, line 158: The word &#39;/1e-20/&#39; is missing in the dictionary\r\n        E/AndroidRuntime(10470): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.myvdemo/com.myvdemo.MainActivity}: java.lang.RuntimeException: Decoder_setSearch returned -1\r\n\r\nHowever `/1e-20/` exists in my `digits.gram` file.\r\n\r\n**digits.gram** file contents:\r\n\r\n    up /1e-20/\r\n    down /1e-15/\r\n    left /1e-15/\r\n    right /1e-15/\r\n    here /1e-15/\r\n\r\n3. I noticed one thing, when I do clean-build of demo project of Pocket Sphinx and run it, then it recreates `digits.gram.md5` files. But when I copied pasted all in my own project and did its cleant-build then these files **were not** recreated. Is this normal?\r\n\r\n4. Is it necessary to have all the files in our project as in the demo project? Or can I delete some unused files from my own project? Any list of necessary files (either in assets folder or libs or others) will be highly helpful.\r\n\r\nPlease let me know what approach should I have to successfully implement it in my own project.\r\n\r\n**My Activity Code**\r\n\r\n    public class MainActivity extends Activity implements RecognitionListener{\r\n    \r\n    \tprivate static final String DIGITS_SEARCH = &quot;digits&quot;;\r\n    \tprivate SpeechRecognizer recognizer;\r\n    \t\r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_main);\r\n    \t\t\r\n    \t\ttry\r\n    \t    {\r\n    \t        Assets assets = new Assets(MainActivity.this);\r\n    \t        File assetDir = assets.syncAssets();\r\n    \t        setupRecognizer(assetDir);\r\n    \t        \r\n    \t        Toast.makeText(getApplicationContext(), &quot;Speech Recognizer Started&quot;, Toast.LENGTH_SHORT).show();\r\n    \t    }\r\n    \t    catch (IOException e){\r\n    \t        e.printStackTrace();\r\n    \t    }\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onBeginningOfSpeech() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onEndOfSpeech() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treset();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onPartialResult(Hypothesis arg0) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onResult(Hypothesis hypothesis) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t    if (hypothesis != null){\r\n    \t        String text = hypothesis.getHypstr();\r\n    \t        Toast.makeText(getApplicationContext(), &quot;you got ::&quot;+text, Toast.LENGTH_SHORT).show();\r\n    \t    }\r\n    \t}\r\n    \t\r\n    \tprivate void setupRecognizer(File assetsDir){\r\n    \t    File modelsDir = new File(assetsDir, &quot;models&quot;);\r\n    \r\n    \t    recognizer = defaultSetup().setAcousticModel(new File(modelsDir, &quot;hmm/en-us-semi&quot;))\r\n    \t                               .setDictionary(new File(modelsDir, &quot;dict/cmu07a.dic&quot;))\r\n    \t                               .setRawLogDir(assetsDir).setKeywordThreshold(1e-20f)\r\n    \t                               .getRecognizer();\r\n    \r\n    \t    recognizer.addListener(this);\r\n    \r\n    \t    File digitsGrammar = new File(modelsDir, &quot;grammar/digits.gram&quot;);\r\n    \t    recognizer.addKeywordSearch(DIGITS_SEARCH, digitsGrammar);\r\n    \t    \r\n    \t    reset();\r\n    \t}\r\n    \r\n    \tprivate void reset(){\r\n    \t    recognizer.stop();\r\n    \t    recognizer.startListening(DIGITS_SEARCH);\r\n    \t}\r\n    }\r\n\r\n**My project structure is following**\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25749324/995009\r\n  [2]: http://i.stack.imgur.com/3uogo.png","title":"Setting up PocketSphinx library in my own Android App","body":"<p>I am trying to implement <strong>Speech Recognition</strong> with the help of <code>Pocket Sphinx Library</code>.</p>\n<p>What my approach was,</p>\n<p>I just downloaded their demo project for Android. Imported it in Eclipse, did clean-build and run it on device. It ran successfully.</p>\n<p>After this I copied the <code>libs</code> folder from demo project to my own project.\nI copied the <code>assets</code> folder contents <strong>as it is</strong> in my own project.\nThen I edited the <code>digits.gram</code> file contents as per <a href=\"https://stackoverflow.com/a/25749324/995009\">this post</a>.</p>\n<p>Then implemented the <code>Listener</code> in my activity and added <code>addKeywordSearch</code> to it.</p>\n<p><strong>My Questions:</strong></p>\n<ol>\n<li><p>Is this approach correct to implement this library in our own projects? Can we just copy paste all the files, modify <code>.gram</code> files as per need and run it? Or we need to do some other steps to generate <code>.gram</code> files?</p>\n</li>\n<li><p>When I tried with the above mentioned approach, then project ran successfully on the device for a few times. But after that it started showing the following error.</p>\n<pre><code> E/cmusphinx(10470): ERROR: &quot;kws_search.c&quot;, line 158: The word '/1e-20/' is missing in the dictionary\n E/AndroidRuntime(10470): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.myvdemo/com.myvdemo.MainActivity}: java.lang.RuntimeException: Decoder_setSearch returned -1\n</code></pre>\n</li>\n</ol>\n<p>However <code>/1e-20/</code> exists in my <code>digits.gram</code> file.</p>\n<p><strong>digits.gram</strong> file contents:</p>\n<pre><code>up /1e-20/\ndown /1e-15/\nleft /1e-15/\nright /1e-15/\nhere /1e-15/\n</code></pre>\n<ol start=\"3\">\n<li><p>I noticed one thing, when I do clean-build of demo project of Pocket Sphinx and run it, then it recreates <code>digits.gram.md5</code> files. But when I copied pasted all in my own project and did its cleant-build then these files <strong>were not</strong> recreated. Is this normal?</p>\n</li>\n<li><p>Is it necessary to have all the files in our project as in the demo project? Or can I delete some unused files from my own project? Any list of necessary files (either in assets folder or libs or others) will be highly helpful.</p>\n</li>\n</ol>\n<p>Please let me know what approach should I have to successfully implement it in my own project.</p>\n<p><strong>My Activity Code</strong></p>\n<pre><code>public class MainActivity extends Activity implements RecognitionListener{\n\n    private static final String DIGITS_SEARCH = &quot;digits&quot;;\n    private SpeechRecognizer recognizer;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        \n        try\n        {\n            Assets assets = new Assets(MainActivity.this);\n            File assetDir = assets.syncAssets();\n            setupRecognizer(assetDir);\n            \n            Toast.makeText(getApplicationContext(), &quot;Speech Recognizer Started&quot;, Toast.LENGTH_SHORT).show();\n        }\n        catch (IOException e){\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void onBeginningOfSpeech() {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void onEndOfSpeech() {\n        // TODO Auto-generated method stub\n        reset();\n    }\n\n    @Override\n    public void onPartialResult(Hypothesis arg0) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void onResult(Hypothesis hypothesis) {\n        // TODO Auto-generated method stub\n        if (hypothesis != null){\n            String text = hypothesis.getHypstr();\n            Toast.makeText(getApplicationContext(), &quot;you got ::&quot;+text, Toast.LENGTH_SHORT).show();\n        }\n    }\n    \n    private void setupRecognizer(File assetsDir){\n        File modelsDir = new File(assetsDir, &quot;models&quot;);\n\n        recognizer = defaultSetup().setAcousticModel(new File(modelsDir, &quot;hmm/en-us-semi&quot;))\n                                   .setDictionary(new File(modelsDir, &quot;dict/cmu07a.dic&quot;))\n                                   .setRawLogDir(assetsDir).setKeywordThreshold(1e-20f)\n                                   .getRecognizer();\n\n        recognizer.addListener(this);\n\n        File digitsGrammar = new File(modelsDir, &quot;grammar/digits.gram&quot;);\n        recognizer.addKeywordSearch(DIGITS_SEARCH, digitsGrammar);\n        \n        reset();\n    }\n\n    private void reset(){\n        recognizer.stop();\n        recognizer.startListening(DIGITS_SEARCH);\n    }\n}\n</code></pre>\n<p><strong>My project structure is following</strong></p>\n<p><img src=\"https://i.stack.imgur.com/3uogo.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","spring-boot","gradle","avro"],"answers":[{"tags":[],"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677560511,"creation_date":1677560511,"answer_id":75588036,"question_id":75210543,"body_markdown":"Avro requires strict schema compatibility, which means that the schema used to serialize the data must be exactly the same as the schema used to deserialize the data.\r\nFor e.g., when your optional field is missing from the request body (which you are trying to sent via Postman), the deserializer will not be able to match the missing field with the field in the schema, causing Avro schema serialization error.\r\n\r\nWhat I suggest you is to keep a null check with IF condition and create an empty/null constructor of each fields of your optional field/class to avoid missing field in avro schema while deserializing it. This way you are not passing any value in your optional fields of that particular class and on other hand, satisfying the schema fields so that deserializer checks and be content that nothing is missing as per the defined schema.","title":"How to define an optional List of class as one of the fields in Avro Schema to avoid Avro-Serialization error?","body":"<p>Avro requires strict schema compatibility, which means that the schema used to serialize the data must be exactly the same as the schema used to deserialize the data.\nFor e.g., when your optional field is missing from the request body (which you are trying to sent via Postman), the deserializer will not be able to match the missing field with the field in the schema, causing Avro schema serialization error.</p>\n<p>What I suggest you is to keep a null check with IF condition and create an empty/null constructor of each fields of your optional field/class to avoid missing field in avro schema while deserializing it. This way you are not passing any value in your optional fields of that particular class and on other hand, satisfying the schema fields so that deserializer checks and be content that nothing is missing as per the defined schema.</p>\n"},{"tags":[],"owner":{"display_name":"user17942576"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677564873,"creation_date":1677564873,"answer_id":75588438,"question_id":75210543,"body_markdown":"Don’t miss any field or class used in avro schema avsc file even if it is optional. Just serialize with null value to satifsy the schema formation while serializing because deserializer will look for the skeleton and if anything is missing, it will fail.","title":"How to define an optional List of class as one of the fields in Avro Schema to avoid Avro-Serialization error?","body":"<p>Don’t miss any field or class used in avro schema avsc file even if it is optional. Just serialize with null value to satifsy the schema formation while serializing because deserializer will look for the skeleton and if anything is missing, it will fail.</p>\n"}],"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75588036,"answer_count":2,"score":0,"last_activity_date":1677564873,"creation_date":1674482295,"question_id":75210543,"body_markdown":"**My Requirement is to store the data in database:** If `addresses` is being sent as request via Postman, then `currentAddress` and `previousAddresses` should not be sent &amp; if both are sent, then `addresses` should not be sent at all.\r\n\r\n**Addresses, PreviousAddresses and CurrentAddress are defined as:**\r\n\r\n```\r\nprivate List&lt;MyClassOldAddress&gt; addresses;\r\nprivate List&lt;MyClassAddress&gt; previousAddresses;\r\nprivate MyClassAddress currentAddress;\r\n```\r\n\r\n**What I did:**\r\nI have defined an Avro-Schema (using v1.11.1) like below which is getting converted into Java Class to be used by an API where we sent the request body to store the data in database.\r\n\r\n```\r\n{\r\n   &quot;namespace&quot;:&quot;com.avro.data&quot;,\r\n   &quot;type&quot;:&quot;record&quot;,\r\n   &quot;name&quot;:&quot;MyClass&quot;,\r\n   &quot;fields&quot;:[\r\n      {\r\n         &quot;name&quot;:&quot;userId&quot;,\r\n         &quot;type&quot;:&quot;string&quot;,\r\n         &quot;docs&quot;:&quot;This is the unique id for user.&quot;\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot;middleName&quot;,\r\n         &quot;type&quot;:[\r\n            &quot;null&quot;,\r\n            &quot;string&quot;\r\n         ],\r\n         &quot;avro.java.string&quot;:&quot;String&quot;\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot;firstName&quot;,\r\n         &quot;type&quot;:&quot;string&quot;,\r\n         &quot;avro.java.string&quot;:&quot;String&quot;\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot;lastName&quot;,\r\n         &quot;type&quot;:&quot;string&quot;,\r\n         &quot;avro.java.string&quot;:&quot;String&quot;\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot;addresses&quot;,\r\n         &quot;type&quot;:{\r\n            &quot;type&quot;:&quot;array&quot;,\r\n            &quot;items&quot;:&quot;com.data.MyClassAddress&quot;\r\n         },\r\n         &quot;default&quot;: []\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot;previousAddresses&quot;,\r\n         &quot;type&quot;:{\r\n            &quot;type&quot;:&quot;array&quot;,\r\n            &quot;items&quot;:&quot;com.data.MyClassOtherAddress&quot;\r\n         },\r\n         &quot;default&quot;: []\r\n      },\r\n      {\r\n      &quot;name&quot;: &quot;currentAddress&quot;,\r\n      &quot;type&quot;: [\r\n      \t\t&quot;null&quot;,\r\n      \t\t&quot;com.data.MyClassOtherAddress&quot;\r\n      \t\t],\r\n      &quot;default&quot;: null\r\n    }\r\n   ]\r\n}\r\n```\r\n\r\nWhen I pass the request from Postman and send the fields `addresses` or `currentAddress `or `previousAddresses` as null or empty \\[\\] as per requirement like below, it is throwing some errors:\r\n\r\n**REQUEST 1:**\r\n\r\n```\r\n{\r\n   &quot;userId&quot;:&quot;123&quot;,\r\n   &quot;middle_name&quot;:&quot;user_middle_name&quot;,\r\n   &quot;first_name&quot;:&quot;user_first_name&quot;,\r\n   &quot;last_name&quot;:&quot;user_last_name&quot;,\r\n   &quot;addresses&quot;:[\r\n      {\r\n         &quot;street_name&quot;:&quot;testing&quot;,\r\n         &quot;town&quot;:&quot;testing&quot;,\r\n         &quot;country&quot;:&quot;ABC&quot;,\r\n         &quot;postcode&quot;:&quot;123456&quot;,\r\n         &quot;house_number&quot;:&quot;123&quot;,\r\n         &quot;start_date&quot;:&quot;2000-01&quot;\r\n      }\r\n   ],\r\n   &quot;previous_addresses&quot;:[],\r\n   &quot;current_address&quot;:null\r\n}\r\n```\r\n\r\n**REQUEST 2:**\r\n\r\n```\r\n{\r\n   &quot;userId&quot;:&quot;123&quot;,\r\n   &quot;middle_name&quot;:&quot;user_middle_name&quot;,\r\n   &quot;first_name&quot;:&quot;user_first_name&quot;,\r\n   &quot;last_name&quot;:&quot;user_last_name&quot;,\r\n   &quot;addresses&quot;:[],\r\n   &quot;previous_addresses&quot;:[...some data here...],\r\n   &quot;current_address&quot;:{...some data here...}\r\n}\r\n```\r\n\r\n\r\n**Errors:**\r\n\r\n```\r\nCaused by: java.lang.NullPointerException: null value for (non-nullable) List\\&lt;MyClassAddress\\&gt; at\r\n\r\n```\r\n\r\n```\r\nCaused by: org.apache.kafka.common.errors.SerializationException: Error serializing Avro message\r\n```\r\n\r\n**My Observation:**\r\nUpon identifying, I came to know that if any field (`addresses` or `currentAddress` or `previousAddresses`) is sent as null or [], it failed to Serialize before storing it in database.\r\n\r\nBut when I put anything in those objects, it doesn&#39;t fail. But I can&#39;t do it, I have to set as per requirement.\r\n\r\nSo, how do I avoid this thing, making all 3 fields in Avro-Schema as an optional fields so that it should not create any issue while serialization?\r\n\r\nI tried adding &quot;default:[]&quot;, &quot;default: null&quot;, &quot;null&quot; but none of them worked! Please help.\r\n\r\n\r\nI tried sending Request with some condition (when addresses is sent, currentAddress and previousAddresses should not be sent and vice-versa) but it failed in serialization.\r\n\r\nI am expecting it to work without serialization error and if fields are missing (as per requirement), it should not fail.","title":"How to define an optional List of class as one of the fields in Avro Schema to avoid Avro-Serialization error?","body":"<p><strong>My Requirement is to store the data in database:</strong> If <code>addresses</code> is being sent as request via Postman, then <code>currentAddress</code> and <code>previousAddresses</code> should not be sent &amp; if both are sent, then <code>addresses</code> should not be sent at all.</p>\n<p><strong>Addresses, PreviousAddresses and CurrentAddress are defined as:</strong></p>\n<pre><code>private List&lt;MyClassOldAddress&gt; addresses;\nprivate List&lt;MyClassAddress&gt; previousAddresses;\nprivate MyClassAddress currentAddress;\n</code></pre>\n<p><strong>What I did:</strong>\nI have defined an Avro-Schema (using v1.11.1) like below which is getting converted into Java Class to be used by an API where we sent the request body to store the data in database.</p>\n<pre><code>{\n   &quot;namespace&quot;:&quot;com.avro.data&quot;,\n   &quot;type&quot;:&quot;record&quot;,\n   &quot;name&quot;:&quot;MyClass&quot;,\n   &quot;fields&quot;:[\n      {\n         &quot;name&quot;:&quot;userId&quot;,\n         &quot;type&quot;:&quot;string&quot;,\n         &quot;docs&quot;:&quot;This is the unique id for user.&quot;\n      },\n      {\n         &quot;name&quot;:&quot;middleName&quot;,\n         &quot;type&quot;:[\n            &quot;null&quot;,\n            &quot;string&quot;\n         ],\n         &quot;avro.java.string&quot;:&quot;String&quot;\n      },\n      {\n         &quot;name&quot;:&quot;firstName&quot;,\n         &quot;type&quot;:&quot;string&quot;,\n         &quot;avro.java.string&quot;:&quot;String&quot;\n      },\n      {\n         &quot;name&quot;:&quot;lastName&quot;,\n         &quot;type&quot;:&quot;string&quot;,\n         &quot;avro.java.string&quot;:&quot;String&quot;\n      },\n      {\n         &quot;name&quot;:&quot;addresses&quot;,\n         &quot;type&quot;:{\n            &quot;type&quot;:&quot;array&quot;,\n            &quot;items&quot;:&quot;com.data.MyClassAddress&quot;\n         },\n         &quot;default&quot;: []\n      },\n      {\n         &quot;name&quot;:&quot;previousAddresses&quot;,\n         &quot;type&quot;:{\n            &quot;type&quot;:&quot;array&quot;,\n            &quot;items&quot;:&quot;com.data.MyClassOtherAddress&quot;\n         },\n         &quot;default&quot;: []\n      },\n      {\n      &quot;name&quot;: &quot;currentAddress&quot;,\n      &quot;type&quot;: [\n            &quot;null&quot;,\n            &quot;com.data.MyClassOtherAddress&quot;\n            ],\n      &quot;default&quot;: null\n    }\n   ]\n}\n</code></pre>\n<p>When I pass the request from Postman and send the fields <code>addresses</code> or <code>currentAddress </code>or <code>previousAddresses</code> as null or empty [] as per requirement like below, it is throwing some errors:</p>\n<p><strong>REQUEST 1:</strong></p>\n<pre><code>{\n   &quot;userId&quot;:&quot;123&quot;,\n   &quot;middle_name&quot;:&quot;user_middle_name&quot;,\n   &quot;first_name&quot;:&quot;user_first_name&quot;,\n   &quot;last_name&quot;:&quot;user_last_name&quot;,\n   &quot;addresses&quot;:[\n      {\n         &quot;street_name&quot;:&quot;testing&quot;,\n         &quot;town&quot;:&quot;testing&quot;,\n         &quot;country&quot;:&quot;ABC&quot;,\n         &quot;postcode&quot;:&quot;123456&quot;,\n         &quot;house_number&quot;:&quot;123&quot;,\n         &quot;start_date&quot;:&quot;2000-01&quot;\n      }\n   ],\n   &quot;previous_addresses&quot;:[],\n   &quot;current_address&quot;:null\n}\n</code></pre>\n<p><strong>REQUEST 2:</strong></p>\n<pre><code>{\n   &quot;userId&quot;:&quot;123&quot;,\n   &quot;middle_name&quot;:&quot;user_middle_name&quot;,\n   &quot;first_name&quot;:&quot;user_first_name&quot;,\n   &quot;last_name&quot;:&quot;user_last_name&quot;,\n   &quot;addresses&quot;:[],\n   &quot;previous_addresses&quot;:[...some data here...],\n   &quot;current_address&quot;:{...some data here...}\n}\n</code></pre>\n<p><strong>Errors:</strong></p>\n<pre><code>Caused by: java.lang.NullPointerException: null value for (non-nullable) List\\&lt;MyClassAddress\\&gt; at\n\n</code></pre>\n<pre><code>Caused by: org.apache.kafka.common.errors.SerializationException: Error serializing Avro message\n</code></pre>\n<p><strong>My Observation:</strong>\nUpon identifying, I came to know that if any field (<code>addresses</code> or <code>currentAddress</code> or <code>previousAddresses</code>) is sent as null or [], it failed to Serialize before storing it in database.</p>\n<p>But when I put anything in those objects, it doesn't fail. But I can't do it, I have to set as per requirement.</p>\n<p>So, how do I avoid this thing, making all 3 fields in Avro-Schema as an optional fields so that it should not create any issue while serialization?</p>\n<p>I tried adding &quot;default:[]&quot;, &quot;default: null&quot;, &quot;null&quot; but none of them worked! Please help.</p>\n<p>I tried sending Request with some condition (when addresses is sent, currentAddress and previousAddresses should not be sent and vice-versa) but it failed in serialization.</p>\n<p>I am expecting it to work without serialization error and if fields are missing (as per requirement), it should not fail.</p>\n"},{"tags":["java","jar"],"answers":[{"comments":[{"owner":{"account_id":988263,"reputation":4012,"user_id":1006249,"accept_rate":83,"display_name":"DrXCheng"},"score":0,"creation_date":1327104330,"post_id":8949442,"comment_id":11203813,"body_markdown":"For example, I put all the JAR files in `src/external/` and the source file is in `src/Report/Reporter.java`, can you give the specific commands?","body":"For example, I put all the JAR files in <code>src&#47;external&#47;</code> and the source file is in <code>src&#47;Report&#47;Reporter.java</code>, can you give the specific commands?"},{"owner":{"account_id":1849884,"reputation":650,"user_id":1676632,"accept_rate":48,"display_name":"sattu"},"score":2,"creation_date":1361498641,"post_id":8949442,"comment_id":21096955,"body_markdown":"replacing &#39;;&#39; with &#39;:&#39; in                                           java -cp .;src/external/myfile.jar Reporter                                  worked for me..","body":"replacing &#39;;&#39; with &#39;:&#39; in                                           java -cp .;src/external/myfile.jar Reporter                                  worked for me.."},{"owner":{"account_id":406517,"reputation":48699,"user_id":776084,"accept_rate":79,"display_name":"RanRag"},"score":2,"creation_date":1361499722,"post_id":8949442,"comment_id":21097176,"body_markdown":"@sattu: I believe you are on a linux system.","body":"@sattu: I believe you are on a linux system."},{"owner":{"account_id":308030,"reputation":12046,"user_id":619673,"accept_rate":80,"display_name":"deadfish"},"score":0,"creation_date":1384171672,"post_id":8949442,"comment_id":29616097,"body_markdown":"to run with external jar and external path (jar and my clas are in the same directory) `/usr/bin/java -cp /home/username/folderx/j.jar:/home/username/folderx MyClass`","body":"to run with external jar and external path (jar and my clas are in the same directory) <code>&#47;usr&#47;bin&#47;java -cp &#47;home&#47;username&#47;folderx&#47;j.jar:&#47;home&#47;username&#47;folderx MyClass</code>"},{"owner":{"account_id":22552,"reputation":6600,"user_id":55732,"accept_rate":84,"display_name":"John Kurlak"},"score":0,"creation_date":1393707920,"post_id":8949442,"comment_id":33558900,"body_markdown":"@RanRag I am on a Windows system and I had to use &quot;;&quot; instead of &quot;:&quot;","body":"@RanRag I am on a Windows system and I had to use &quot;;&quot; instead of &quot;:&quot;"},{"owner":{"account_id":4489352,"reputation":249,"user_id":3820765,"accept_rate":83,"display_name":"Arturo don Juan"},"score":0,"creation_date":1452208461,"post_id":8949442,"comment_id":57079605,"body_markdown":"Is there any way to include those JAR files with only a few commands, and then never have to put those `-cp /dir/of/jar/file` commands again?","body":"Is there any way to include those JAR files with only a few commands, and then never have to put those <code>-cp &#47;dir&#47;of&#47;jar&#47;file</code> commands again?"},{"owner":{"account_id":1498034,"reputation":355,"user_id":1778537,"accept_rate":30,"display_name":"Sigur"},"score":0,"creation_date":1478539162,"post_id":8949442,"comment_id":68186120,"body_markdown":"How to do the same if I have `jar` files in `libs`, `java` files in `src` and `class` files in `build/classes/main` (the dir tree was created to run from gradle but I&#39;d like to compile from terminal).","body":"How to do the same if I have <code>jar</code> files in <code>libs</code>, <code>java</code> files in <code>src</code> and <code>class</code> files in <code>build&#47;classes&#47;main</code> (the dir tree was created to run from gradle but I&#39;d like to compile from terminal)."},{"owner":{"account_id":6991500,"reputation":2835,"user_id":5360614,"accept_rate":70,"display_name":"backslashN"},"score":0,"creation_date":1502350796,"post_id":8949442,"comment_id":78173419,"body_markdown":"What if there are multiple JAR files to be imported?","body":"What if there are multiple JAR files to be imported?"},{"owner":{"account_id":7465996,"reputation":1866,"user_id":5675550,"accept_rate":77,"display_name":"viper"},"score":0,"creation_date":1535101509,"post_id":8949442,"comment_id":90951041,"body_markdown":"I tried the same. Successfully compiled the project but I got a `Stub` error. I was trying to use `android.util.Base64` package. At last I switched to `java`&#39;s util package.","body":"I tried the same. Successfully compiled the project but I got a <code>Stub</code> error. I was trying to use <code>android.util.Base64</code> package. At last I switched to <code>java</code>&#39;s util package."},{"owner":{"account_id":5978124,"reputation":10450,"user_id":4698242,"accept_rate":53,"display_name":"kojow7"},"score":0,"creation_date":1553232948,"post_id":8949442,"comment_id":97315530,"body_markdown":"@DevZer0 modified the original code so that it works with Linux/Mac instead of Windows.","body":"@DevZer0 modified the original code so that it works with Linux/Mac instead of Windows."},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1601000733,"post_id":8949442,"comment_id":113273895,"body_markdown":"@RanRag - what if you wanted to run a war file with java command and include an external jar in that command? How would you do that?","body":"@RanRag - what if you wanted to run a war file with java command and include an external jar in that command? How would you do that?"}],"tags":[],"owner":{"account_id":406517,"reputation":48699,"user_id":776084,"accept_rate":79,"display_name":"RanRag"},"comment_count":11,"down_vote_count":0,"up_vote_count":83,"is_accepted":true,"score":83,"last_activity_date":1378021853,"creation_date":1327104027,"answer_id":8949442,"question_id":8949413,"body_markdown":"You can do :\r\n\r\n1) `javac -cp /path/to/jar/file Myprogram.java`\r\n\r\n2) `java -cp .:/path/to/jar/file Myprogram`\r\n\r\nSo, lets suppose your `current working directory` in terminal is `src/Report/`\r\n\r\n    javac -cp src/external/myfile.jar Reporter.java\r\n\r\n    java -cp .:src/external/myfile.jar Reporter\r\n\r\nTake a look here to setup [Classpath][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/classpath.html","title":"How to run Java program in terminal with external library JAR","body":"<p>You can do :</p>\n\n<p>1) <code>javac -cp /path/to/jar/file Myprogram.java</code></p>\n\n<p>2) <code>java -cp .:/path/to/jar/file Myprogram</code></p>\n\n<p>So, lets suppose your <code>current working directory</code> in terminal is <code>src/Report/</code></p>\n\n<pre><code>javac -cp src/external/myfile.jar Reporter.java\n\njava -cp .:src/external/myfile.jar Reporter\n</code></pre>\n\n<p>Take a look here to setup <a href=\"http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/classpath.html\" rel=\"noreferrer\">Classpath</a></p>\n"},{"tags":[],"owner":{"account_id":555620,"reputation":185,"user_id":1161711,"accept_rate":80,"display_name":"Seid.M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327106816,"creation_date":1327106816,"answer_id":8949750,"question_id":8949413,"body_markdown":"1. you can set your classpath in the in the environment variabl CLASSPATH.\r\nin linux, you can add like\r\nCLASSPATH=.:/full/path/to/the/Jars, for example ..........src/external\r\nand just run in side ......src/Report/\r\n\r\nJavac Reporter.java\r\n\r\njava Reporter\r\n\r\nSimilarily, you can set it in windows environment variables.\r\nfor example, in Win7\r\n\r\nRight click Start--&gt;Computer\r\nthen Properties--&gt;Advanced System Setting --&gt; Advanced --&gt;Environment Variables\r\nin the user variables, click classPath, and Edit and add the full path of jars at the end.\r\nvoila ","title":"How to run Java program in terminal with external library JAR","body":"<ol>\n<li>you can set your classpath in the in the environment variabl CLASSPATH.\nin linux, you can add like\nCLASSPATH=.:/full/path/to/the/Jars, for example ..........src/external\nand just run in side ......src/Report/</li>\n</ol>\n\n<p>Javac Reporter.java</p>\n\n<p>java Reporter</p>\n\n<p>Similarily, you can set it in windows environment variables.\nfor example, in Win7</p>\n\n<p>Right click Start-->Computer\nthen Properties-->Advanced System Setting --> Advanced -->Environment Variables\nin the user variables, click classPath, and Edit and add the full path of jars at the end.\nvoila </p>\n"},{"tags":[],"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1397732022,"creation_date":1397732022,"answer_id":23131215,"question_id":8949413,"body_markdown":"For compiling the java file having dependency on a jar\r\n&gt; javac -cp path_of_the_jar/jarName.jar className.java\r\n\r\nFor executing the class file\r\n&gt;java -cp .;path_of_the_jar/jarName.jar className","title":"How to run Java program in terminal with external library JAR","body":"<p>For compiling the java file having dependency on a jar</p>\n\n<blockquote>\n  <p>javac -cp path_of_the_jar/jarName.jar className.java</p>\n</blockquote>\n\n<p>For executing the class file</p>\n\n<blockquote>\n  <p>java -cp .;path_of_the_jar/jarName.jar className</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9835759,"reputation":471,"user_id":7286223,"display_name":"Raihanul Alam Hridoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629701968,"creation_date":1629701968,"answer_id":68888450,"question_id":8949413,"body_markdown":"Suppose your jar application &quot;myapp.jar&quot; has the following code snippet written inside it.\r\n\r\n    import org.json.JSONObject;\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n\t    // write your code here\r\n            System.out.println(&quot;Hello World!&quot;);\r\n            JSONObject jo = new JSONObject(&quot;{ \\&quot;abc\\&quot; : \\&quot;def\\&quot; }&quot;);\r\n            System.out.println(jo.toString());\r\n        }\r\n    }\r\n\r\nIt is using the external library json.jar from which we imported &quot;org.json.JSONObject&quot;. \r\nRunning the following command will result in an error.\r\n\r\n    java -jar myapp.jar\r\n\r\nException message: \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/json/JSONObject at com.reve.Main.main(Main.java:10) \r\nCaused by: java.lang.ClassNotFoundException: org.json.JSONObject at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source) at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source) at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n... 1 more\r\n\r\nWe must include the json.jar file while running the jar file. We have to specify the class path of the file before building our myapp.jar file.\r\n\r\nInside META-INF/MANIFEST.MF file:\r\n\r\n    Manifest-Version: 1.0\r\n    Class-Path: lib/json.jar lib/example2.jar\r\n    Main-Class: com.reve.Main\r\n\r\nSpecify the external libraries separated by spaces under the Class-Path keyword. Then after building the project and the artifact, we can run the jar file by simply writing the same command we discussed above.","title":"How to run Java program in terminal with external library JAR","body":"<p>Suppose your jar application &quot;myapp.jar&quot; has the following code snippet written inside it.</p>\n<pre><code>import org.json.JSONObject;\npublic class Main {\npublic static void main(String[] args) {\n    // write your code here\n        System.out.println(&quot;Hello World!&quot;);\n        JSONObject jo = new JSONObject(&quot;{ \\&quot;abc\\&quot; : \\&quot;def\\&quot; }&quot;);\n        System.out.println(jo.toString());\n    }\n}\n</code></pre>\n<p>It is using the external library json.jar from which we imported &quot;org.json.JSONObject&quot;.\nRunning the following command will result in an error.</p>\n<pre><code>java -jar myapp.jar\n</code></pre>\n<p>Exception message:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/json/JSONObject at com.reve.Main.main(Main.java:10)\nCaused by: java.lang.ClassNotFoundException: org.json.JSONObject at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source) at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source) at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n... 1 more</p>\n</blockquote>\n<p>We must include the json.jar file while running the jar file. We have to specify the class path of the file before building our myapp.jar file.</p>\n<p>Inside META-INF/MANIFEST.MF file:</p>\n<pre><code>Manifest-Version: 1.0\nClass-Path: lib/json.jar lib/example2.jar\nMain-Class: com.reve.Main\n</code></pre>\n<p>Specify the external libraries separated by spaces under the Class-Path keyword. Then after building the project and the artifact, we can run the jar file by simply writing the same command we discussed above.</p>\n"},{"tags":[],"owner":{"account_id":16965497,"reputation":332,"user_id":12271495,"display_name":"Jan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677564819,"creation_date":1677564819,"answer_id":75588433,"question_id":8949413,"body_markdown":"1. First, you should put your source code .java files in `src/`.\r\n\r\n2. Second, you make `build/` folder in your root project\r\n\r\n3. Third, you make a `jars/` folder in your root project\r\n\r\nSo, now you will have `src/` and `build/` and `/jars` under your root project\r\n\r\nTo compile \r\n```\r\njavac -d ./build -cp ./jars/itextpdf-5.5.13.3.jar:jars/pdfbox-app-2.0.27.jar src/*.java\r\n```\r\n\r\nTo run:\r\n```\r\njava -cp ./build:./jars/itextpdf-5.5.13.3.jar:jars/pdfbox-app-2.0.27.jar Main\r\n```\r\n\r\n","title":"How to run Java program in terminal with external library JAR","body":"<ol>\n<li><p>First, you should put your source code .java files in <code>src/</code>.</p>\n</li>\n<li><p>Second, you make <code>build/</code> folder in your root project</p>\n</li>\n<li><p>Third, you make a <code>jars/</code> folder in your root project</p>\n</li>\n</ol>\n<p>So, now you will have <code>src/</code> and <code>build/</code> and <code>/jars</code> under your root project</p>\n<p>To compile</p>\n<pre><code>javac -d ./build -cp ./jars/itextpdf-5.5.13.3.jar:jars/pdfbox-app-2.0.27.jar src/*.java\n</code></pre>\n<p>To run:</p>\n<pre><code>java -cp ./build:./jars/itextpdf-5.5.13.3.jar:jars/pdfbox-app-2.0.27.jar Main\n</code></pre>\n"}],"owner":{"account_id":988263,"reputation":4012,"user_id":1006249,"accept_rate":83,"display_name":"DrXCheng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121469,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":8949442,"answer_count":5,"score":43,"last_activity_date":1677564819,"creation_date":1327103847,"question_id":8949413,"body_markdown":"This should be simple but I have never done it before and didn&#39;t find any solution.\r\n\r\nI am currently using Eclipse to code my program, which imports some external JAR library such as google data api library. I can use Eclipse to compile/build/run the program.\r\n\r\nBut now I want to run it in terminal, so where should I put those JAR files, and how to build and run the program?\r\n\r\nThanks!","title":"How to run Java program in terminal with external library JAR","body":"<p>This should be simple but I have never done it before and didn't find any solution.</p>\n\n<p>I am currently using Eclipse to code my program, which imports some external JAR library such as google data api library. I can use Eclipse to compile/build/run the program.</p>\n\n<p>But now I want to run it in terminal, so where should I put those JAR files, and how to build and run the program?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":17258715,"reputation":96,"user_id":21301929,"display_name":"vinoth raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677564713,"creation_date":1677564713,"answer_id":75588416,"question_id":75588371,"body_markdown":"The `imported title` and `imported clickgoal` variables are not accessible outside of the onCreate function because they are local variables that are only accessible inside the scope of that method.\r\nIf you wish to use them in another method inside the same class, define them as instance variables at the class level. ","title":"Android: How do I access variables that were imported from another activity, and initialized in the onCreate function?","body":"<p>The <code>imported title</code> and <code>imported clickgoal</code> variables are not accessible outside of the onCreate function because they are local variables that are only accessible inside the scope of that method.\nIf you wish to use them in another method inside the same class, define them as instance variables at the class level.</p>\n"}],"owner":{"account_id":27886719,"reputation":1,"user_id":21293997,"display_name":"Hamzah Alkhateeb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677564713,"creation_date":1677564260,"question_id":75588371,"body_markdown":"I did the following to send values of 2 variables from **first activity** to **second activity** as shown in the following:\r\n\r\n```\r\n\r\nString name = ((EditText) findViewById(R.id.goalcountername)).getText().toString();\r\nString amount = ((EditText) findViewById(R.id.clickgoal)).getText().toString();\r\n.\r\n.\r\n.\r\nIntent J = new Intent(this, secondactivity.class);\r\n            J.putExtra(&quot;title&quot;, name);\r\n            J.putExtra(&quot;clickgoal&quot;, amount);\r\n            startActivity(J);\r\n\r\n```\r\n\r\nThen, on the **Second activity** I did the following to unpack what I sent from the **first activity**:\r\n\r\n```\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_second activity);\r\n        \r\n        Intent J = getIntent();\r\n\r\n        //import the string and set the title to said imported string\r\n        String imported_title = J.getStringExtra(&quot;title&quot;);\r\n        ((TextView)findViewById(R.id.title2)).setText(imported_title);\r\n        \r\n        //import the string, set the goal to said imported number\r\n        String imported_clickgoal = J.getStringExtra(&quot;clickgoal&quot;);\r\n        ((TextView)findViewById(R.id.goal)).setText(imported_clickgoal);\r\n    }\r\n```\r\n\r\nHowever, when I try to access the variables **imported_title** and **imported_clickgoal**, it does not work, I am well aware that those are local variables inside of **protected void onCreate** function, but is there a way for me access them, say for example in another function?\r\n\r\n\r\n\r\n\r\n\r\nI have tried accessing the variables in the **first class** by doing the following but it did not work either, I am not sure why:\r\n\r\n`firstactivity.name\r\n\r\nOR\r\n\r\nfirst.activity.amount`","title":"Android: How do I access variables that were imported from another activity, and initialized in the onCreate function?","body":"<p>I did the following to send values of 2 variables from <strong>first activity</strong> to <strong>second activity</strong> as shown in the following:</p>\n<pre><code>\nString name = ((EditText) findViewById(R.id.goalcountername)).getText().toString();\nString amount = ((EditText) findViewById(R.id.clickgoal)).getText().toString();\n.\n.\n.\nIntent J = new Intent(this, secondactivity.class);\n            J.putExtra(&quot;title&quot;, name);\n            J.putExtra(&quot;clickgoal&quot;, amount);\n            startActivity(J);\n\n</code></pre>\n<p>Then, on the <strong>Second activity</strong> I did the following to unpack what I sent from the <strong>first activity</strong>:</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_second activity);\n        \n        Intent J = getIntent();\n\n        //import the string and set the title to said imported string\n        String imported_title = J.getStringExtra(&quot;title&quot;);\n        ((TextView)findViewById(R.id.title2)).setText(imported_title);\n        \n        //import the string, set the goal to said imported number\n        String imported_clickgoal = J.getStringExtra(&quot;clickgoal&quot;);\n        ((TextView)findViewById(R.id.goal)).setText(imported_clickgoal);\n    }\n</code></pre>\n<p>However, when I try to access the variables <strong>imported_title</strong> and <strong>imported_clickgoal</strong>, it does not work, I am well aware that those are local variables inside of <strong>protected void onCreate</strong> function, but is there a way for me access them, say for example in another function?</p>\n<p>I have tried accessing the variables in the <strong>first class</strong> by doing the following but it did not work either, I am not sure why:</p>\n<p>`firstactivity.name</p>\n<p>OR</p>\n<p>first.activity.amount`</p>\n"},{"tags":["java","rest","post","micronaut"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1677548107,"post_id":75578759,"comment_id":133355880,"body_markdown":"Does the same thing happen if you add the same annotations to the implementation in the class that implements `OTPHandlerApi`?","body":"Does the same thing happen if you add the same annotations to the implementation in the class that implements <code>OTPHandlerApi</code>?"},{"owner":{"account_id":27889189,"reputation":11,"user_id":21295941,"display_name":"Ravi Parrepati"},"score":0,"creation_date":1677565362,"post_id":75578759,"comment_id":133357986,"body_markdown":"Yes, having annotations inside interface or class have same . it is not working in both the places.","body":"Yes, having annotations inside interface or class have same . it is not working in both the places."}],"owner":{"account_id":27889189,"reputation":11,"user_id":21295941,"display_name":"Ravi Parrepati"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677564099,"creation_date":1677490496,"question_id":75578759,"body_markdown":"\r\n\r\n    @Controller(&quot;/v1&quot;)\r\n    @Secured(IS_AUTHENTICATED)\r\n    public interface OTPHandlerApi {\r\n    @Post(value = &quot;/verify&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    HttpResponse&lt;User&gt; verify(@Body User body);\r\n    }\r\n\r\n\r\nCreated Micronaut POST call in above format but while parsing the object getting below error. \r\n\r\n\r\n    {&quot;message&quot;:&quot;Bad Request&quot;,&quot;_embedded&quot;:{&quot;errors&quot;:[{&quot;message&quot;:&quot;Required Body [body] not specified&quot;,&quot;path&quot;:&quot;/body&quot;}]},&quot;_links&quot;:{&quot;self&quot;:{&quot;href&quot;:&quot;v1/verify&quot;,&quot;templated&quot;:false}}}\r\n\r\n\r\n\r\nHave tried with User defined object and also JsonObject from Micronaut, but getting same error, how to fix the same?","title":"Micronaut not parsing user-defined object in POST call","body":"<pre><code>@Controller(&quot;/v1&quot;)\n@Secured(IS_AUTHENTICATED)\npublic interface OTPHandlerApi {\n@Post(value = &quot;/verify&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\nHttpResponse&lt;User&gt; verify(@Body User body);\n}\n</code></pre>\n<p>Created Micronaut POST call in above format but while parsing the object getting below error.</p>\n<pre><code>{&quot;message&quot;:&quot;Bad Request&quot;,&quot;_embedded&quot;:{&quot;errors&quot;:[{&quot;message&quot;:&quot;Required Body [body] not specified&quot;,&quot;path&quot;:&quot;/body&quot;}]},&quot;_links&quot;:{&quot;self&quot;:{&quot;href&quot;:&quot;v1/verify&quot;,&quot;templated&quot;:false}}}\n</code></pre>\n<p>Have tried with User defined object and also JsonObject from Micronaut, but getting same error, how to fix the same?</p>\n"},{"tags":["java","spring-boot","illegalargumentexception"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":1,"creation_date":1677521228,"post_id":75579900,"comment_id":133350343,"body_markdown":"It could be related to [tomcat-not-allowing-backslash-in-urls-in-9-0-7](https://stackoverflow.com/questions/54207396/tomcat-not-allowing-backslash-in-urls-in-9-0-7).","body":"It could be related to <a href=\"https://stackoverflow.com/questions/54207396/tomcat-not-allowing-backslash-in-urls-in-9-0-7\">tomcat-not-allowing-backslash-in-urls-in-9-0-7</a>."},{"owner":{"account_id":10368509,"reputation":601,"user_id":7646868,"display_name":"Shanka Somasiri"},"score":0,"creation_date":1677556259,"post_id":75579900,"comment_id":133356932,"body_markdown":"But in my project I have Tomcat 9.0.71","body":"But in my project I have Tomcat 9.0.71"}],"answers":[{"comments":[{"owner":{"account_id":20717463,"reputation":190,"user_id":15212573,"display_name":"roudlek"},"score":0,"creation_date":1694516785,"post_id":75588321,"comment_id":135898190,"body_markdown":"it did the job on when i tried to send an email as a request param","body":"it did the job on when i tried to send an email as a request param"}],"tags":[],"owner":{"account_id":10368509,"reputation":601,"user_id":7646868,"display_name":"Shanka Somasiri"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677563763,"creation_date":1677563763,"answer_id":75588321,"question_id":75579900,"body_markdown":"I was able to get this issue fixed with the help of https://stackoverflow.com/questions/51703746/setting-relaxedquerychars-for-embedded-tomcat\r\n\r\nThis link was also helpful\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#application-properties.server.server.tomcat.relaxed-query-chars\r\n\r\nAdded below attributes to the application.properties files\r\n\r\n    server.tomcat.relaxed-path-chars=\\\\\r\n    server.tomcat.relaxed-query-chars=\\\\ ","title":"How to handle java.lang.IllegalArgumentException: Invalid character found in the request target in Spring Boot","body":"<p>I was able to get this issue fixed with the help of <a href=\"https://stackoverflow.com/questions/51703746/setting-relaxedquerychars-for-embedded-tomcat\">Setting &#39;relaxedQueryChars&#39; for embedded Tomcat</a></p>\n<p>This link was also helpful\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#application-properties.server.server.tomcat.relaxed-query-chars\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#application-properties.server.server.tomcat.relaxed-query-chars</a></p>\n<p>Added below attributes to the application.properties files</p>\n<pre><code>server.tomcat.relaxed-path-chars=\\\\\nserver.tomcat.relaxed-query-chars=\\\\ \n</code></pre>\n"}],"owner":{"account_id":10368509,"reputation":601,"user_id":7646868,"display_name":"Shanka Somasiri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75588321,"answer_count":1,"score":0,"last_activity_date":1677563763,"creation_date":1677497429,"question_id":75579900,"body_markdown":"I am trying to validate my below Request URL.\r\n\r\n    http://localhost:8081/api/projects?modifiedAt=2023-02\\27\r\n\r\nThis is giving an error because of the &#39;\\\\&#39; character;\r\n\r\n    java.lang.IllegalArgumentException: Invalid character found in the request target [/api/projects?modifiedAt=2023-02\\27 ]. The valid characters are defined in RFC 7230 and RFC 3986\r\n    \tat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:494) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\nIn order to catch this error I have created an Exception handler as below\r\n\r\n    @ExceptionHandler(IllegalArgumentException.class)\r\n        private ResponseEntity&lt;ApiResponseDTO&gt; handleIllegalArgumentException(IllegalArgumentException ex){\r\n            log.info(&quot;IllegalArgumentException {} &quot;, ex);\r\n    \r\n            List&lt;String&gt; errors = List.of(ex.getMessage());\r\n    \r\n            ApiResponseDTO&lt;?&gt; serviceResponse = ApiResponseDTO.builder()\r\n                    .status(ERROR)\r\n                    .errors(errors)\r\n                    .httpStatus(HttpStatus.BAD_REQUEST)\r\n                    .timestamp(ZonedDateTime.now(ZoneId.of(&quot;Z&quot;)))\r\n                    .build();\r\n    \r\n            return new ResponseEntity&lt;&gt;(serviceResponse, HttpStatus.NOT_FOUND);\r\n        }\r\n\r\nBut this error is not hit.\r\n\r\nAny idea how we can catch this error in Spring boot","title":"How to handle java.lang.IllegalArgumentException: Invalid character found in the request target in Spring Boot","body":"<p>I am trying to validate my below Request URL.</p>\n<pre><code>http://localhost:8081/api/projects?modifiedAt=2023-02\\27\n</code></pre>\n<p>This is giving an error because of the '\\' character;</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid character found in the request target [/api/projects?modifiedAt=2023-02\\27 ]. The valid characters are defined in RFC 7230 and RFC 3986\n    at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:494) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>In order to catch this error I have created an Exception handler as below</p>\n<pre><code>@ExceptionHandler(IllegalArgumentException.class)\n    private ResponseEntity&lt;ApiResponseDTO&gt; handleIllegalArgumentException(IllegalArgumentException ex){\n        log.info(&quot;IllegalArgumentException {} &quot;, ex);\n\n        List&lt;String&gt; errors = List.of(ex.getMessage());\n\n        ApiResponseDTO&lt;?&gt; serviceResponse = ApiResponseDTO.builder()\n                .status(ERROR)\n                .errors(errors)\n                .httpStatus(HttpStatus.BAD_REQUEST)\n                .timestamp(ZonedDateTime.now(ZoneId.of(&quot;Z&quot;)))\n                .build();\n\n        return new ResponseEntity&lt;&gt;(serviceResponse, HttpStatus.NOT_FOUND);\n    }\n</code></pre>\n<p>But this error is not hit.</p>\n<p>Any idea how we can catch this error in Spring boot</p>\n"},{"tags":["java","spring","out-of-memory","apache-kafka-streams"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1677526878,"post_id":75584683,"comment_id":133351735,"body_markdown":"What&#39;s &quot;brave baggage&quot;?","body":"What&#39;s &quot;brave baggage&quot;?"},{"owner":{"account_id":22504489,"reputation":1,"user_id":21299529,"display_name":"Олег Головин"},"score":0,"creation_date":1677570349,"post_id":75584683,"comment_id":133358975,"body_markdown":"spring.-cloud-sleuth and io.zipkin.brave used for tracing logs in SpringBoot application","body":"spring.-cloud-sleuth and io.zipkin.brave used for tracing logs in SpringBoot application"}],"owner":{"account_id":22504489,"reputation":1,"user_id":21299529,"display_name":"Олег Головин"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677563121,"creation_date":1677525383,"question_id":75584683,"body_markdown":"Vsem privet. V svoyem prilozheniye ya ispol&#39;zuyu kafka stream i standartnyy scheduler postavlyayemyy spring. Pri rabote Scheduller otpravlyayutsya soobshcheniya v kafku a potom vychityvayutsya ot tuda. Pri analize dampa kuchi uvidel chto kopiyatsya dannyye iz brave baggage. Ne mogu ponyat&#39; kak eto proiskhodit i chto nado ispravlyat&#39;.\r\nHi all. In my application, I use kafka stream and the standard scheduler supplied by spring. When Scheduller runs, messages are sent to kafka and then read from there. When analyzing the heap dump, I saw that the data from brave baggage is being copied. I can&#39;t figure out how this is happening or what needs to be fixed.\r\n\r\n![1]\r\n\r\n```\r\n  kafka:\r\n    streams.binder.serdeError: sendToDlq\r\n    binder:\r\n      brokers: localhost:9092\r\n      auto-create-topics: true\r\n      auto-add-partitions: true\r\n    admin:\r\n      fail-fast: true\r\n    bootstrap-servers: localhost:9092\r\n  cloud:\r\n    stream:\r\n      bindings:\r\n        merchant:\r\n          destination: *******\r\n        legal:\r\n          destination: *******\r\n        account:\r\n          destination: *******\r\n        merchant_session:\r\n          destination: *******\r\n        #async-task\r\n        in-queue:\r\n          destination: *********\r\n          contentType: application/json\r\n          group: merchant\r\n          consumer:\r\n            max-attempts: 1\r\n            partitioned: true\r\n            concurrency: 10\r\n        in-queue-dlq:\r\n          destination: **********\r\n          contentType: application/json\r\n          group: merchant\r\n          consumer:\r\n            max-attempts: 1\r\n            back-off-initial-interval: 5000\r\n        out-queue:\r\n          destination: **********\r\n          contentType: application/json\r\n        out-queue-dlq:\r\n          destination: **********\r\n          contentType: application/json\r\n      kafka:\r\n        binder:\r\n          auto-add-partitions: true\r\n          auto-create-topics: true\r\n```\r\n\r\n\r\nthis is the code that is used in Scheduler\r\n` @Transactional\r\n    @Scheduled(\r\n        cron = &quot;${task-processor.cronExpression:*/5 * * * * ?}&quot;\r\n    )\r\n    public void rescheduleTask() {\r\n        Integer taskRetrySize = this.properties.getTaskRetrySize();\r\n        List&lt;BasicTaskEntity&gt; list = this.databaseDataProvider.findPlannedTasks(taskRetrySize);\r\n        if (!list.isEmpty()) {\r\n            log.debug(&quot;Rescheduling planned tasks. Found {} tasks for rescheduling.&quot;, list.size());\r\n        }\r\n\r\n        IMessageQueueDataProvider var10001 = this.messageQueueDataProvider;\r\n        Objects.requireNonNull(var10001);\r\n        list.forEach(var10001::resendRequest);\r\n    }`\r\n\r\n\r\n\r\nif you turn off the Scheduler, then the heap is not filled.\r\nalso in the logs there are constantly messages from kafka:\r\n\r\n```\r\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\r\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-0 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\r\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\r\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-5 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\r\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\r\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-8 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\r\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\r\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-2 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\r\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\r\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-9 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\r\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\r\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-1 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\r\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\r\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-4 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\r\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\r\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-6 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\r\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\r\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-7 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\r\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\r\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-3 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\r\n2023-02-27 22:13:25.096 [pool-22-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\r\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.error-0 to 0 since the associated topicId changed from null to _E_0g0iZRGeBSq0PWrpGtQ\r\n2023-02-27 22:13:25.101 [pool-22-thread-1] [- | -] INFO  o.a.k.c.c.i.ConsumerCoordinator\r\n```\r\nthese logs disappear if you turn off prometheus\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZIzx4.png","title":"brave baggage when using scheduler and kafka raises outOfMemoryError","body":"<p>Vsem privet. V svoyem prilozheniye ya ispol'zuyu kafka stream i standartnyy scheduler postavlyayemyy spring. Pri rabote Scheduller otpravlyayutsya soobshcheniya v kafku a potom vychityvayutsya ot tuda. Pri analize dampa kuchi uvidel chto kopiyatsya dannyye iz brave baggage. Ne mogu ponyat' kak eto proiskhodit i chto nado ispravlyat'.\nHi all. In my application, I use kafka stream and the standard scheduler supplied by spring. When Scheduller runs, messages are sent to kafka and then read from there. When analyzing the heap dump, I saw that the data from brave baggage is being copied. I can't figure out how this is happening or what needs to be fixed.</p>\n<p><img src=\"https://i.stack.imgur.com/ZIzx4.png\" alt=\"1\" /></p>\n<pre><code>  kafka:\n    streams.binder.serdeError: sendToDlq\n    binder:\n      brokers: localhost:9092\n      auto-create-topics: true\n      auto-add-partitions: true\n    admin:\n      fail-fast: true\n    bootstrap-servers: localhost:9092\n  cloud:\n    stream:\n      bindings:\n        merchant:\n          destination: *******\n        legal:\n          destination: *******\n        account:\n          destination: *******\n        merchant_session:\n          destination: *******\n        #async-task\n        in-queue:\n          destination: *********\n          contentType: application/json\n          group: merchant\n          consumer:\n            max-attempts: 1\n            partitioned: true\n            concurrency: 10\n        in-queue-dlq:\n          destination: **********\n          contentType: application/json\n          group: merchant\n          consumer:\n            max-attempts: 1\n            back-off-initial-interval: 5000\n        out-queue:\n          destination: **********\n          contentType: application/json\n        out-queue-dlq:\n          destination: **********\n          contentType: application/json\n      kafka:\n        binder:\n          auto-add-partitions: true\n          auto-create-topics: true\n</code></pre>\n<p>this is the code that is used in Scheduler\n` @Transactional\n@Scheduled(\ncron = &quot;${task-processor.cronExpression:*/5 * * * * ?}&quot;\n)\npublic void rescheduleTask() {\nInteger taskRetrySize = this.properties.getTaskRetrySize();\nList list = this.databaseDataProvider.findPlannedTasks(taskRetrySize);\nif (!list.isEmpty()) {\nlog.debug(&quot;Rescheduling planned tasks. Found {} tasks for rescheduling.&quot;, list.size());\n}</p>\n<pre><code>    IMessageQueueDataProvider var10001 = this.messageQueueDataProvider;\n    Objects.requireNonNull(var10001);\n    list.forEach(var10001::resendRequest);\n}`\n</code></pre>\n<p>if you turn off the Scheduler, then the heap is not filled.\nalso in the logs there are constantly messages from kafka:</p>\n<pre><code>2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-0 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-5 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-8 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-2 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-9 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-1 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-4 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-6 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-7 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\n2023-02-27 22:13:25.090 [pool-21-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.execute-3 to 0 since the associated topicId changed from null to X41sXMr6TqStCZ5BV-8Lhg\n2023-02-27 22:13:25.096 [pool-22-thread-1] [- | -] INFO  org.apache.kafka.clients.Metadata\n                Metadata.updateLatestMetadata(...) (Metadata.java:401) - [Consumer clientId=consumer-merchant-14, groupId=merchant] Resetting the last seen epoch of partition rdbo.merchant.task.error-0 to 0 since the associated topicId changed from null to _E_0g0iZRGeBSq0PWrpGtQ\n2023-02-27 22:13:25.101 [pool-22-thread-1] [- | -] INFO  o.a.k.c.c.i.ConsumerCoordinator\n</code></pre>\n<p>these logs disappear if you turn off prometheus</p>\n"},{"tags":["java","linux","gradle","installation"],"comments":[{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":86,"creation_date":1484666428,"post_id":41700798,"comment_id":70597522,"body_markdown":"Run `./gradlew`. It isn&#39;t on your path but is an executable that is present in the root directory of the project you checkout.","body":"Run <code>.&#47;gradlew</code>. It isn&#39;t on your path but is an executable that is present in the root directory of the project you checkout."},{"owner":{"account_id":349387,"reputation":6854,"user_id":684650,"display_name":"ditkin"},"score":2,"creation_date":1484666642,"post_id":41700798,"comment_id":70597678,"body_markdown":"Read the documentation on the gradle wrapper, https://docs.gradle.org/current/userguide/gradle_wrapper.html.","body":"Read the documentation on the gradle wrapper, <a href=\"https://docs.gradle.org/current/userguide/gradle_wrapper.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/gradle_wrapper.html</a>."},{"owner":{"account_id":5246008,"reputation":5719,"user_id":4191716,"display_name":"Vladimir Salguero"},"score":0,"creation_date":1644683234,"post_id":41700798,"comment_id":125673853,"body_markdown":"Using Windows: Solve my problem running command prompt as administrator","body":"Using Windows: Solve my problem running command prompt as administrator"}],"answers":[{"tags":[],"owner":{"account_id":7685749,"reputation":1783,"user_id":5823618,"accept_rate":57,"display_name":"Alex Wilson"},"comment_count":0,"down_vote_count":2,"up_vote_count":143,"is_accepted":true,"score":141,"last_activity_date":1676954528,"creation_date":1484666725,"answer_id":41700939,"question_id":41700798,"body_markdown":"The Gradle wrapper needs to be built. Try running `gradle wrapper --gradle-version 2.13`.\r\n\r\nRemember to change 2.13 to your Gradle version number. After running this command, you should see new scripts added to your project folder. You should be able to run the wrapper with `./gradlew build` to build your code.\r\n\r\nPlease refer to this guide for more information: *[Building Java Projects with Gradle][1]*\r\n\r\n  [1]: https://spring.io/guides/gs/gradle/\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>The Gradle wrapper needs to be built. Try running <code>gradle wrapper --gradle-version 2.13</code>.</p>\n<p>Remember to change 2.13 to your Gradle version number. After running this command, you should see new scripts added to your project folder. You should be able to run the wrapper with <code>./gradlew build</code> to build your code.</p>\n<p>Please refer to this guide for more information: <em><a href=\"https://spring.io/guides/gs/gradle/\" rel=\"nofollow noreferrer\">Building Java Projects with Gradle</a></em></p>\n"},{"comments":[{"owner":{"account_id":17029076,"reputation":298,"user_id":12319598,"display_name":"Jacek Sawko"},"score":1,"creation_date":1619445355,"post_id":42468842,"comment_id":118901018,"body_markdown":"Your solution works, just to clarify, this command allows for execution file as a program (on Ubuntu 20.04 LTS)","body":"Your solution works, just to clarify, this command allows for execution file as a program (on Ubuntu 20.04 LTS)"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1676954684,"post_id":42468842,"comment_id":133235974,"body_markdown":"[chmod 755](https://chmodcommand.com/chmod-755/) = (chmod a+rwx,g-w,o-w) sets permissions so that, (U)ser / owner can read, can write and can execute. (G)roup can read, can&#39;t write and can execute. ***(O)thers*** can read, can&#39;t write and can ***execute***.","body":"<a href=\"https://chmodcommand.com/chmod-755/\" rel=\"nofollow noreferrer\">chmod 755</a> = (chmod a+rwx,g-w,o-w) sets permissions so that, (U)ser / owner can read, can write and can execute. (G)roup can read, can&#39;t write and can execute. <b><i>(O)thers</i></b> can read, can&#39;t write and can <b><i>execute</i></b>."}],"tags":[],"owner":{"account_id":392384,"reputation":4170,"user_id":753616,"display_name":"Ayman Mahgoub"},"comment_count":2,"down_vote_count":5,"up_vote_count":85,"is_accepted":false,"score":80,"last_activity_date":1676954614,"creation_date":1488114014,"answer_id":42468842,"question_id":41700798,"body_markdown":"Running this Bash command works for me by running `chmod 755 gradlew` as sometimes file properties changed upon moving from one OS to another (Windows, Linux and Mac).\r\n\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>Running this Bash command works for me by running <code>chmod 755 gradlew</code> as sometimes file properties changed upon moving from one OS to another (Windows, Linux and Mac).</p>\n"},{"comments":[{"owner":{"account_id":2840581,"reputation":2340,"user_id":2440284,"accept_rate":46,"display_name":"Fadi"},"score":70,"creation_date":1533234264,"post_id":43936928,"comment_id":90283551,"body_markdown":"first try &quot;chmod +x gradlew&quot; and then &quot;./gradlew&quot; if not working","body":"first try &quot;chmod +x gradlew&quot; and then &quot;./gradlew&quot; if not working"},{"owner":{"account_id":1211478,"reputation":1010,"user_id":1179915,"accept_rate":50,"display_name":"daniel"},"score":6,"creation_date":1597122473,"post_id":43936928,"comment_id":112022980,"body_markdown":"for macOS catalina, &quot;sudo bash ./gradlew&quot; works for me","body":"for macOS catalina, &quot;sudo bash ./gradlew&quot; works for me"},{"owner":{"account_id":16291509,"reputation":1683,"user_id":11764886,"display_name":"Waldmann"},"score":0,"creation_date":1679991003,"post_id":43936928,"comment_id":133815640,"body_markdown":"no one can even assume that there might be no gradlew at the address ./","body":"no one can even assume that there might be no gradlew at the address ./"},{"owner":{"account_id":4587178,"reputation":5937,"user_id":5096562,"accept_rate":57,"display_name":"MetaSnarf"},"score":0,"creation_date":1682973238,"post_id":43936928,"comment_id":134293275,"body_markdown":"chmod +x gradlew has worked for me","body":"chmod +x gradlew has worked for me"},{"owner":{"account_id":5402059,"reputation":56,"user_id":4301660,"display_name":"Tashrik Anam"},"score":1,"creation_date":1687715309,"post_id":43936928,"comment_id":134971916,"body_markdown":"To those who are confused about the `chmod +x ./gradlew`, the `chmod +x` part just makes the `./gradlew` executable. You need to use this, just trying with `sudo` won&#39;t work.","body":"To those who are confused about the <code>chmod +x .&#47;gradlew</code>, the <code>chmod +x</code> part just makes the <code>.&#47;gradlew</code> executable. You need to use this, just trying with <code>sudo</code> won&#39;t work."}],"tags":[],"owner":{"account_id":4531600,"reputation":491537,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"comment_count":5,"down_vote_count":2,"up_vote_count":352,"is_accepted":false,"score":350,"last_activity_date":1677563099,"creation_date":1494589167,"answer_id":43936928,"question_id":41700798,"body_markdown":"### Linux and macOS\r\n\r\nAs noted in the comments, just running\r\n\r\n    ./gradlew\r\n\r\nworked for me. Adding the `./` tells it to look in the current directory since it isn&#39;t in the path.\r\n\r\nIf it stills doesn&#39;t work, run (*as commented by Fadi*)\r\n\r\n    chmod +x gradlew\r\n\r\nAnd then try again\r\n\r\n### Windows PowerShell\r\n\r\n    .\\gradlew\r\n\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<h3>Linux and macOS</h3>\n<p>As noted in the comments, just running</p>\n<pre><code>./gradlew\n</code></pre>\n<p>worked for me. Adding the <code>./</code> tells it to look in the current directory since it isn't in the path.</p>\n<p>If it stills doesn't work, run (<em>as commented by Fadi</em>)</p>\n<pre><code>chmod +x gradlew\n</code></pre>\n<p>And then try again</p>\n<h3>Windows PowerShell</h3>\n<pre><code>.\\gradlew\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21889,"reputation":30982,"user_id":53538,"accept_rate":88,"display_name":"Guss"},"score":2,"creation_date":1513685054,"post_id":47731245,"comment_id":82738817,"body_markdown":"Windows is *different*. For some reason, it always resolves executables in `.` as if it is in the path, even when it is very clearly not in the path.","body":"Windows is <i>different</i>. For some reason, it always resolves executables in <code>.</code> as if it is in the path, even when it is very clearly not in the path."}],"tags":[],"owner":{"account_id":10318262,"reputation":153,"user_id":7611966,"display_name":"A Mo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676954956,"creation_date":1512840769,"answer_id":47731245,"question_id":41700798,"body_markdown":"I use [IntelliJ IDEA][1] and in Windows in the terminal I type:\r\n\r\n`gradlew.bat run`\r\n\r\nIt is working for me.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>I use <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ IDEA</a> and in Windows in the terminal I type:</p>\n<p><code>gradlew.bat run</code></p>\n<p>It is working for me.</p>\n"},{"comments":[{"owner":{"account_id":4738913,"reputation":762,"user_id":3832396,"display_name":"Faisal"},"score":0,"creation_date":1530777319,"post_id":50847236,"comment_id":89353986,"body_markdown":"gradlew needs permission on linux/mac, working for me after chmod 777 gradlew in root of my project.","body":"gradlew needs permission on linux/mac, working for me after chmod 777 gradlew in root of my project."},{"owner":{"account_id":5378573,"reputation":164,"user_id":4501187,"display_name":"Kelly Setzer"},"score":3,"creation_date":1560782146,"post_id":50847236,"comment_id":99838735,"body_markdown":"&#39;chmod 777&#39; makes gradlew world writable.  This is a major security issue.  Use &#39;chmod 555&#39; instead.","body":"&#39;chmod 777&#39; makes gradlew world writable.  This is a major security issue.  Use &#39;chmod 555&#39; instead."},{"owner":{"account_id":4777583,"reputation":286,"user_id":3860282,"display_name":"notStan"},"score":1,"creation_date":1561716423,"post_id":50847236,"comment_id":100164022,"body_markdown":"I&#39;d recommend chmod 755 (-rwxr-xr-x). over 777","body":"I&#39;d recommend chmod 755 (-rwxr-xr-x). over 777"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1676955117,"post_id":50847236,"comment_id":133236052,"body_markdown":"[chmod 777](https://chmodcommand.com/chmod-777/): (chmod a+rwx) sets permissions so that, (U)ser / owner can read, can write and can execute. (G)roup can read, can write and can execute. ***(O)thers can read, can write and can execute***.","body":"<a href=\"https://chmodcommand.com/chmod-777/\" rel=\"nofollow noreferrer\">chmod 777</a>: (chmod a+rwx) sets permissions so that, (U)ser / owner can read, can write and can execute. (G)roup can read, can write and can execute. <b><i>(O)thers can read, can write and can execute</i></b>."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1676955238,"post_id":50847236,"comment_id":133236066,"body_markdown":"[chmod 555](https://chmodcommand.com/chmod-555/): (chmod a+rwx,u-w,g-w,o-w) sets permissions so that, (U)ser / owner can read, can&#39;t write and can execute. (G)roup can read, can&#39;t write and can execute. (O)thers can read, can&#39;t write and can execute.","body":"<a href=\"https://chmodcommand.com/chmod-555/\" rel=\"nofollow noreferrer\">chmod 555</a>: (chmod a+rwx,u-w,g-w,o-w) sets permissions so that, (U)ser / owner can read, can&#39;t write and can execute. (G)roup can read, can&#39;t write and can execute. (O)thers can read, can&#39;t write and can execute."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1676955321,"post_id":50847236,"comment_id":133236076,"body_markdown":"[chmod 755](https://chmodcommand.com/chmod-755/): (chmod a+rwx,g-w,o-w) sets permissions so that, (U)ser / owner can read, can write and can execute. (G)roup can read, can&#39;t write and can execute. (O)thers can read, can&#39;t write and can execute.","body":"<a href=\"https://chmodcommand.com/chmod-755/\" rel=\"nofollow noreferrer\">chmod 755</a>: (chmod a+rwx,g-w,o-w) sets permissions so that, (U)ser / owner can read, can write and can execute. (G)roup can read, can&#39;t write and can execute. (O)thers can read, can&#39;t write and can execute."}],"tags":[],"owner":{"account_id":7558541,"reputation":711,"user_id":6073671,"display_name":"MD. Shafiul Alam Biplob"},"comment_count":6,"down_vote_count":3,"up_vote_count":35,"is_accepted":false,"score":32,"last_activity_date":1676955071,"creation_date":1528929304,"answer_id":50847236,"question_id":41700798,"body_markdown":"From Mac,\r\n\r\nNothing is working except the following command:\r\n\r\n```\r\nchmod 777 gradlew\r\n```\r\n\r\nThen\r\n\r\n```\r\n./gradlew\r\n```\r\n\r\n\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>From Mac,</p>\n<p>Nothing is working except the following command:</p>\n<pre><code>chmod 777 gradlew\n</code></pre>\n<p>Then</p>\n<pre><code>./gradlew\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1168163,"reputation":1543,"user_id":1145976,"accept_rate":97,"display_name":"shanwu"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1676955358,"creation_date":1532190520,"answer_id":51458058,"question_id":41700798,"body_markdown":"The same problem occurs to me...\r\n\r\nI check the file wrx permissions with:\r\n\r\n`$ls -l ./gradlew` -&gt; -rw-rw-r-- (no execute permission)\r\n\r\nSo I use command `$chmod +x ./gradlew` and this problem is solved.\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>The same problem occurs to me...</p>\n<p>I check the file wrx permissions with:</p>\n<p><code>$ls -l ./gradlew</code> -&gt; -rw-rw-r-- (no execute permission)</p>\n<p>So I use command <code>$chmod +x ./gradlew</code> and this problem is solved.</p>\n"},{"tags":[],"owner":{"account_id":12075921,"reputation":141,"user_id":8829377,"display_name":"Sumukha H S"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1676955472,"creation_date":1541350564,"answer_id":53143127,"question_id":41700798,"body_markdown":"The first thing is you need to run the gradle task that you mentioned for this wrapper. Example:\r\n\r\n`gradle wrapper`\r\n\r\nAfter running this command, check your directory for the *gradlew* *and gradlew.bat* files. *gradlew* is the shell script file, and it can be used in Linux and macOS. *gradlew.bat* is the batch file for the Windows OS. Then run,\r\n\r\n`./gradlew build` (Linux and Mac). It will work.\r\n\r\n\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>The first thing is you need to run the gradle task that you mentioned for this wrapper. Example:</p>\n<p><code>gradle wrapper</code></p>\n<p>After running this command, check your directory for the <em>gradlew</em> <em>and gradlew.bat</em> files. <em>gradlew</em> is the shell script file, and it can be used in Linux and macOS. <em>gradlew.bat</em> is the batch file for the Windows OS. Then run,</p>\n<p><code>./gradlew build</code> (Linux and Mac). It will work.</p>\n"},{"tags":[],"owner":{"account_id":7440227,"reputation":759,"user_id":5658219,"display_name":"Anxo P"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676955529,"creation_date":1552400606,"answer_id":55123800,"question_id":41700798,"body_markdown":"If the answer marked as correct does not work, it is because you need to identify yourself as a super user.\r\n\r\n```lang-none\r\nsudo gradle wrapper --gradle-version 2.13\r\n```\r\n\r\nIt worked for me.\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>If the answer marked as correct does not work, it is because you need to identify yourself as a super user.</p>\n<pre class=\"lang-none prettyprint-override\"><code>sudo gradle wrapper --gradle-version 2.13\n</code></pre>\n<p>It worked for me.</p>\n"},{"comments":[{"owner":{"account_id":6882183,"reputation":5799,"user_id":5288560,"accept_rate":62,"display_name":"gpbaculio"},"score":0,"creation_date":1598318994,"post_id":55382139,"comment_id":112413298,"body_markdown":"Thanks! after hours of lurking from macos environment, this fixed: ./gradlew clean","body":"Thanks! after hours of lurking from macos environment, this fixed: ./gradlew clean"}],"tags":[],"owner":{"account_id":85051,"reputation":2257,"user_id":237374,"display_name":"Sanjeev Rao"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1676955638,"creation_date":1553704079,"answer_id":55382139,"question_id":41700798,"body_markdown":"In addition to [Suragch&#39;s answer][1]:\r\n\r\n**Linux and macOS**\r\n\r\n`./gradlew clean`\r\n\r\n**Windows PowerShell**\r\n\r\n`.\\gradlew clean`\r\n\r\n**Windows cmd**\r\n\r\n`gradlew clean`\r\n\r\n  [1]: https://stackoverflow.com/questions/41700798/error-message-gradlew-command-not-found/43936928#43936928\r\n\r\n\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>In addition to <a href=\"https://stackoverflow.com/questions/41700798/error-message-gradlew-command-not-found/43936928#43936928\">Suragch's answer</a>:</p>\n<p><strong>Linux and macOS</strong></p>\n<p><code>./gradlew clean</code></p>\n<p><strong>Windows PowerShell</strong></p>\n<p><code>.\\gradlew clean</code></p>\n<p><strong>Windows cmd</strong></p>\n<p><code>gradlew clean</code></p>\n"},{"tags":[],"owner":{"account_id":4014719,"reputation":2367,"user_id":3307233,"accept_rate":100,"display_name":"Pankaj Gaikar"},"comment_count":0,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1676956482,"creation_date":1554965487,"answer_id":55626331,"question_id":41700798,"body_markdown":"If you are using Mac, try giving root access to *gradlew* by doing:\r\n\r\n    chmod +x ./gradlew\r\n\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>If you are using Mac, try giving root access to <em>gradlew</em> by doing:</p>\n<pre><code>chmod +x ./gradlew\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4182503,"reputation":2396,"user_id":3427079,"accept_rate":87,"display_name":"G_V"},"score":0,"creation_date":1574170125,"post_id":56864937,"comment_id":104129172,"body_markdown":"Works for RedHat 7 too","body":"Works for RedHat 7 too"},{"owner":{"account_id":10855964,"reputation":878,"user_id":7982318,"display_name":"Kirill Starostin"},"score":1,"creation_date":1598528170,"post_id":56864937,"comment_id":112491544,"body_markdown":"Pop_OS! here, worked. Though my filesystem is default ext4","body":"Pop_OS! here, worked. Though my filesystem is default ext4"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1676956804,"post_id":56864937,"comment_id":133236283,"body_markdown":"Re *&quot;Linux does not let you execute a script from NTFS.&quot;*: Why not? Isn&#39;t it only a question of permissions (or how the partition is mounted)? What is special about NTFS?","body":"Re <i>&quot;Linux does not let you execute a script from NTFS.&quot;</i>: Why not? Isn&#39;t it only a question of permissions (or how the partition is mounted)? What is special about NTFS?"}],"tags":[],"owner":{"account_id":4247920,"reputation":97,"user_id":3475999,"accept_rate":0,"display_name":"Abhishek"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1676956744,"creation_date":1562138490,"answer_id":56864937,"question_id":41700798,"body_markdown":"For [Ubuntu][1] (Linux) users:\r\n\r\nDoing `bash ./gradlew build` works, but `./gradlew build` does not work.\r\n\r\nFor me, the issue was it was on the [NTFS][2] file system, and Linux does not let you execute a script from NTFS.\r\n\r\nTry moving the code from NTFS to a Linux partition. Then `./gradlew build` should work.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Ubuntu_%28operating_system%29\r\n  [2]: https://en.wikipedia.org/wiki/NTFS\r\n\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>For <a href=\"https://en.wikipedia.org/wiki/Ubuntu_%28operating_system%29\" rel=\"nofollow noreferrer\">Ubuntu</a> (Linux) users:</p>\n<p>Doing <code>bash ./gradlew build</code> works, but <code>./gradlew build</code> does not work.</p>\n<p>For me, the issue was it was on the <a href=\"https://en.wikipedia.org/wiki/NTFS\" rel=\"nofollow noreferrer\">NTFS</a> file system, and Linux does not let you execute a script from NTFS.</p>\n<p>Try moving the code from NTFS to a Linux partition. Then <code>./gradlew build</code> should work.</p>\n"},{"tags":[],"owner":{"account_id":6605211,"reputation":510,"user_id":5102214,"display_name":"Vishal Pachpande"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676956983,"creation_date":1580314464,"answer_id":59971246,"question_id":41700798,"body_markdown":"I faced the same issue, but after some tries I found\r\nit was happening because I was trying to create build in [Git Bash][1],\r\ninstead of CMD with system administrator access.\r\n\r\nIf you *create build* with a command prompt, run as administrator. Then the build will get created.\r\n\r\n  [1]: https://superuser.com/questions/1053633/what-is-git-bash-for-windows-anyway\r\n\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>I faced the same issue, but after some tries I found\nit was happening because I was trying to create build in <a href=\"https://superuser.com/questions/1053633/what-is-git-bash-for-windows-anyway\">Git Bash</a>,\ninstead of CMD with system administrator access.</p>\n<p>If you <em>create build</em> with a command prompt, run as administrator. Then the build will get created.</p>\n"},{"comments":[{"owner":{"account_id":11604544,"reputation":125,"user_id":8500699,"accept_rate":50,"display_name":"shiv zuh"},"score":0,"creation_date":1625644312,"post_id":62616533,"comment_id":120678324,"body_markdown":"this was the case for me","body":"this was the case for me"}],"tags":[],"owner":{"account_id":194169,"reputation":49728,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1676957108,"creation_date":1593299856,"answer_id":62616533,"question_id":41700798,"body_markdown":"If you are using Visual Studio Code with Flutter, you should find it in your app folder, under the *android* folder:\r\n\r\n C:\\myappFolder\\android\r\n\r\nYou can run this in the terminal:\r\n\r\n    ./gradlew signingReport\r\n\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>If you are using Visual Studio Code with Flutter, you should find it in your app folder, under the <em>android</em> folder:</p>\n<p>C:\\myappFolder\\android</p>\n<p>You can run this in the terminal:</p>\n<pre><code>./gradlew signingReport\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16291509,"reputation":1683,"user_id":11764886,"display_name":"Waldmann"},"score":1,"creation_date":1679991099,"post_id":62931536,"comment_id":133815666,"body_markdown":"zsh: command not found: gradle","body":"zsh: command not found: gradle"}],"tags":[],"owner":{"account_id":9778876,"reputation":441,"user_id":8303407,"display_name":"Rounak Datta"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1676957230,"creation_date":1594891471,"answer_id":62931536,"question_id":41700798,"body_markdown":"You must have the Gradle wrapper available locally before using *gradlew*. To construct that\r\n\r\n```bash\r\ngradle wrapper # --gradle-version v.xy\r\n```\r\n\r\nOptionally, pass the Gradle version explicitly. This step produces the *gradlew* binary. And then you should be able to\r\n\r\n```bash\r\n./gradlew build\r\n```\r\n\r\n\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>You must have the Gradle wrapper available locally before using <em>gradlew</em>. To construct that</p>\n<pre class=\"lang-bash prettyprint-override\"><code>gradle wrapper # --gradle-version v.xy\n</code></pre>\n<p>Optionally, pass the Gradle version explicitly. This step produces the <em>gradlew</em> binary. And then you should be able to</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./gradlew build\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18828709,"reputation":244,"user_id":13733008,"display_name":"Nikhil Jain"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1676957249,"creation_date":1637227731,"answer_id":70017378,"question_id":41700798,"body_markdown":"Instead of `gradlew assembleRelease`, use `./gradlew assembleRelease`.","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>Instead of <code>gradlew assembleRelease</code>, use <code>./gradlew assembleRelease</code>.</p>\n"},{"tags":[],"owner":{"account_id":228567,"reputation":4041,"user_id":490953,"accept_rate":70,"display_name":"maddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676957394,"creation_date":1639120588,"answer_id":70300939,"question_id":41700798,"body_markdown":"Issue: Couldn&#39;t find gradlew at path jenkins\r\n\r\nIn my case, within the Jenkins [CI][1] for flutter project, I have to first run the `flutter build` app command, and then it automatically generated a *gradlew* file. And the above issue is resolved.\r\n\r\nI put this command in my Jenkins file:\r\n\r\n    flutter build apk\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Continuous_integration\r\n\r\n\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>Issue: Couldn't find gradlew at path jenkins</p>\n<p>In my case, within the Jenkins <a href=\"https://en.wikipedia.org/wiki/Continuous_integration\" rel=\"nofollow noreferrer\">CI</a> for flutter project, I have to first run the <code>flutter build</code> app command, and then it automatically generated a <em>gradlew</em> file. And the above issue is resolved.</p>\n<p>I put this command in my Jenkins file:</p>\n<pre><code>flutter build apk\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10793413,"reputation":81,"user_id":7940063,"display_name":"Gurminder Kaler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676957441,"creation_date":1641695868,"answer_id":70638026,"question_id":41700798,"body_markdown":"If you are trying to run this command for a Flutter app, then go to the *android* folder first by *cd android*. And then use the command, and it should work.\r\n\r\n    cd android\r\n    ./gradlew signingReport\r\n\r\n\r\n\r\n\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>If you are trying to run this command for a Flutter app, then go to the <em>android</em> folder first by <em>cd android</em>. And then use the command, and it should work.</p>\n<pre><code>cd android\n./gradlew signingReport\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6532405,"reputation":127,"user_id":5053142,"display_name":"Ajay Menon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676957532,"creation_date":1643308359,"answer_id":70883938,"question_id":41700798,"body_markdown":"I had to do [`dos2unix *`][1] in my current folder to make it work.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Unix2dos\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>I had to do <a href=\"https://en.wikipedia.org/wiki/Unix2dos\" rel=\"nofollow noreferrer\"><code>dos2unix *</code></a> in my current folder to make it work.</p>\n"},{"tags":[],"owner":{"account_id":15254452,"reputation":2061,"user_id":11006729,"display_name":"Florian K"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676957623,"creation_date":1652092538,"answer_id":72170615,"question_id":41700798,"body_markdown":"In a Flutter project, don&#39;t forget to go to &#39;android&#39; folder with &#39;cd android&#39;.\r\nThen you can run a command like &#39;./gradlew build&#39; or &#39;./gradlew clean&#39; on it (macOS).\r\n\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>In a Flutter project, don't forget to go to 'android' folder with 'cd android'.\nThen you can run a command like './gradlew build' or './gradlew clean' on it (macOS).</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1674806642,"post_id":75237241,"comment_id":132795602,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75237241/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27270006,"reputation":1,"user_id":20791457,"display_name":"Sujit kumar"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1676957750,"creation_date":1674665269,"answer_id":75237241,"question_id":41700798,"body_markdown":"### Ubuntu\r\n\r\nError:\r\n\r\n&gt; Command &#39;gradlew&#39; not found, did you mean: \\\r\n&gt; command &#39;gradle&#39; from snap gradle (7.2) \\\r\n&gt; command &#39;gradle&#39; from deb gradle (4.4.1-13) \\\r\n&gt; See &#39;snap info &lt;snapname&gt;&#39; for additional versions.\r\n\r\nUse this command:\r\n\r\n    ./gradlew signingReport\r\n\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<h3>Ubuntu</h3>\n<p>Error:</p>\n<blockquote>\n<p>Command 'gradlew' not found, did you mean: <br />\ncommand 'gradle' from snap gradle (7.2) <br />\ncommand 'gradle' from deb gradle (4.4.1-13) <br />\nSee 'snap info ' for additional versions.</p>\n</blockquote>\n<p>Use this command:</p>\n<pre><code>./gradlew signingReport\n</code></pre>\n"}],"owner":{"account_id":9495696,"reputation":2503,"user_id":7411646,"display_name":"Hayden"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388571,"favorite_count":0,"down_vote_count":0,"up_vote_count":240,"accepted_answer_id":41700939,"answer_count":20,"score":240,"last_activity_date":1677563099,"creation_date":1484666378,"question_id":41700798,"body_markdown":"\r\nI am working on a Java project with [Gradle Wrapper][1] (`gradlew`). I use Ubuntu Linux as my OS. When I run &quot;gradle&quot; it runs, and gives me information. But when I run &quot;gradlew&quot;, it outputs as:\r\n\r\n&gt; No command &#39;gradlew&#39; found, did you mean: \\\r\n&gt; Command &#39;gradle&#39; from package &#39;gradle&#39; (universe) \\\r\n&gt; gradlew: command not found&quot;\r\n\r\nI did my research, I have the JDK, and I did `sudo apt-get install gradle`. How can I fix it?\r\n\r\nThe error is:\r\n\r\n```\r\ngradlew clean jpackage\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nbash: gradlew: command not found...\r\n```\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/gradle_wrapper.html#sec:using_wrapper\r\n\r\n","title":"Error message &quot;gradlew: command not found&quot;","body":"<p>I am working on a Java project with <a href=\"https://docs.gradle.org/current/userguide/gradle_wrapper.html#sec:using_wrapper\" rel=\"noreferrer\">Gradle Wrapper</a> (<code>gradlew</code>). I use Ubuntu Linux as my OS. When I run &quot;gradle&quot; it runs, and gives me information. But when I run &quot;gradlew&quot;, it outputs as:</p>\n<blockquote>\n<p>No command 'gradlew' found, did you mean: <br />\nCommand 'gradle' from package 'gradle' (universe) <br />\ngradlew: command not found&quot;</p>\n</blockquote>\n<p>I did my research, I have the JDK, and I did <code>sudo apt-get install gradle</code>. How can I fix it?</p>\n<p>The error is:</p>\n<pre><code>gradlew clean jpackage\n</code></pre>\n<p>Output:</p>\n<pre><code>bash: gradlew: command not found...\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-statemachine","state-machine-workflow"],"owner":{"account_id":27750009,"reputation":1,"user_id":21184595,"display_name":"TechLens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677562796,"creation_date":1677501252,"question_id":75580551,"body_markdown":"I want to implement the choice guard to make the State Transition by choice.\r\nIt&#39;s returning false without stepping into the guard implementation.\r\nIt is expected to make the state transition as per the choice given \r\n\r\nIt should make the transition to SJ1 when choice is a\r\nand transition to SJ2 when choice is b \r\n\r\n```\r\ntype here\r\n```\r\n\r\n\r\nCustomStateMachineModelFactory.java\r\n\r\n----------\r\n\r\n```\r\npackage com.metamorphosys.workflow;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.function.Function;\r\n\r\nimport org.springframework.statemachine.StateContext;\r\nimport org.springframework.statemachine.config.model.ConfigurationData;\r\nimport org.springframework.statemachine.config.model.DefaultStateMachineModel;\r\nimport org.springframework.statemachine.config.model.StateData;\r\nimport org.springframework.statemachine.config.model.StateMachineModel;\r\nimport org.springframework.statemachine.config.model.StateMachineModelFactory;\r\nimport org.springframework.statemachine.config.model.StatesData;\r\nimport org.springframework.statemachine.config.model.TransitionData;\r\nimport org.springframework.statemachine.config.model.TransitionsData;\r\nimport org.springframework.statemachine.guard.Guard;\r\n\r\nimport reactor.core.publisher.Mono;\r\n\r\npublic class CustomStateMachineModelFactory implements StateMachineModelFactory&lt;String, String&gt; {\r\n\r\n\t@Override\r\n\tpublic StateMachineModel&lt;String, String&gt; build() {\r\n\t\tConfigurationData&lt;String,String&gt; configurationData = new ConfigurationData&lt;&gt;();\r\n\t\t   \r\n\t\tCollection&lt;StateData&lt;String,String&gt;&gt; stateData = new ArrayList&lt;&gt;();   \r\n\t\t\r\n\t\tstateData.add(new StateData&lt;String,String&gt;(&quot;SI&quot;,true));\r\n\t\tstateData.add(new StateData&lt;String,String&gt;(&quot;S1&quot;));\r\n\t\tstateData.add(new StateData&lt;String,String&gt;(&quot;S2&quot;));\r\n\t\tstateData.add(new StateData&lt;String,String&gt;(&quot;SJ&quot;));\r\n\t\tstateData.add(new StateData&lt;String,String&gt;(&quot;SJ1&quot;));\r\n\t\tstateData.add(new StateData&lt;String,String&gt;(&quot;SJ2&quot;));\r\n\t\tstateData.add(new StateData&lt;String,String&gt;(&quot;SJ1a&quot;));\r\n\t\tstateData.add(new StateData&lt;String,String&gt;(&quot;SJ2a&quot;));\r\n\t\tStatesData&lt;String,String&gt; statesData = new StatesData&lt;&gt;(stateData);\r\n\t\t\r\n\t\tCollection&lt;TransitionData&lt;String,String&gt;&gt; transitionData = new ArrayList&lt;&gt;();\r\n\t\ttransitionData.add(new TransitionData&lt;String,String&gt;(&quot;SI&quot;,&quot;S1&quot;,&quot;E1&quot;));\r\n\t\ttransitionData.add(new TransitionData&lt;String,String&gt;(&quot;S1&quot;,&quot;S2&quot;,&quot;E2&quot;));\r\n\t\ttransitionData.add(new TransitionData&lt;String,String&gt;(&quot;S2&quot;,&quot;SJ&quot;,&quot;E3&quot;));\r\n\t\ttransitionData.add(new TransitionData&lt;String,String&gt;(&quot;SJ&quot;,&quot;SJ1&quot;,&quot;EJ1&quot;,null, choiceGuard(&quot;a&quot;), null));\r\n\t\ttransitionData.add(new TransitionData&lt;String,String&gt;(&quot;SJ&quot;,&quot;SJ2&quot;,&quot;EJ2&quot;,null, choiceGuard(&quot;b&quot;), null));\r\n\t\tTransitionsData&lt;String,String&gt; transitionsData = new TransitionsData&lt;&gt;(transitionData);\r\n\t\t\r\n\t\tStateMachineModel&lt;String,String&gt; stateMachineModel = new DefaultStateMachineModel&lt;String,String&gt;(configurationData,statesData,transitionsData);\r\n\t\treturn stateMachineModel;\r\n\t}\r\n\r\npublic Function&lt;StateContext&lt;String,String&gt;, Mono&lt;Boolean&gt;&gt; choiceGuard(final String dec) {\r\n\t\treturn new Function&lt;StateContext&lt;String, String&gt;, Mono&lt;Boolean&gt;&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic Mono&lt;Boolean&gt; apply(StateContext&lt;String, String&gt; stateContext) {\r\n\t\t\tString decision = (String) stateContext.getExtendedState().getVariables().get(&quot;DECISION&quot;);\r\n\t\t\t\t//checking event validity\r\n\t\t\t\tSystem.out.println(&quot;&#39;******&quot;);\r\n\t\t\t\tboolean valid = decision !=null &amp;&amp; (decision.equals(dec));\r\n\t\t\t\treturn Mono.just(valid);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\npublic StateMachineModel&lt;String, String&gt; build(String machineId) {\r\n\t\treturn build();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n----------\r\n\r\nConfig2.java\r\n\r\n```\r\npackage com.metamorphosys.workflow;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.statemachine.config.EnableStateMachine;\r\nimport org.springframework.statemachine.config.StateMachineConfigurerAdapter;\r\nimport org.springframework.statemachine.config.builders.StateMachineModelConfigurer;\r\nimport org.springframework.statemachine.config.model.StateMachineModelFactory;\r\n\r\n@Configuration\r\n@EnableStateMachine\r\npublic class Config2 \r\n  extends StateMachineConfigurerAdapter&lt;String,String&gt;{\r\n\r\n\t@Override\r\n\tpublic void configure(StateMachineModelConfigurer&lt;String, String&gt; model) throws Exception {\r\n\t\t   model\r\n\t\t       .withModel()\r\n\t\t       .factory(modelFactory());\r\n\t}\r\n     \r\n\t@Bean\r\n\tpublic StateMachineModelFactory&lt;String, String&gt; modelFactory() {\r\n\t\treturn new CustomStateMachineModelFactory();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nWorkFlowApplication.java\r\n\r\n```\r\npackage com.metamorphosys.workflow;\r\n\r\nimport javax.annotation.PostConstruct;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.statemachine.StateMachine;\r\n\r\n@SpringBootApplication\r\npublic class WorkFlowApplication {\r\n\r\n\t@Autowired\r\n\tprivate StateMachine&lt;String, String&gt; stateMachine;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t        SpringApplication.run(WorkFlowApplication.class, args);\r\n\t    }\r\n\t\r\n\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\t@PostConstruct\r\n    public void started() {\r\n\t\tstateMachine.start();\r\n\t\tSystem.out.println(&quot;Initial State &quot;+ stateMachine.getInitialState());\r\n\t\tstateMachine.sendEvent(&quot;E1&quot;);\r\n    \t\tSystem.out.println(&quot;state changed to &quot;+ stateMachine.getState());\r\n    \tstateMachine.sendEvent(&quot;E2&quot;);\r\n    \tSystem.out.println(&quot;state changed to &quot;+stateMachine.getState());\r\n    \tstateMachine.getExtendedState().getVariables().put(&quot;DECISION&quot;, &quot;b&quot;);\r\n\t\tstateMachine.sendEvent(&quot;E3&quot;);\r\n\t\tSystem.out.println(&quot;state changed to &quot; +stateMachine.getState());\r\n```","title":"Unable to implement choiceGuard() in StateMachineModelFactory using SpringBoot","body":"<p>I want to implement the choice guard to make the State Transition by choice.\nIt's returning false without stepping into the guard implementation.\nIt is expected to make the state transition as per the choice given</p>\n<p>It should make the transition to SJ1 when choice is a\nand transition to SJ2 when choice is b</p>\n<pre><code>type here\n</code></pre>\n<p>CustomStateMachineModelFactory.java</p>\n<hr />\n<pre><code>package com.metamorphosys.workflow;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.function.Function;\n\nimport org.springframework.statemachine.StateContext;\nimport org.springframework.statemachine.config.model.ConfigurationData;\nimport org.springframework.statemachine.config.model.DefaultStateMachineModel;\nimport org.springframework.statemachine.config.model.StateData;\nimport org.springframework.statemachine.config.model.StateMachineModel;\nimport org.springframework.statemachine.config.model.StateMachineModelFactory;\nimport org.springframework.statemachine.config.model.StatesData;\nimport org.springframework.statemachine.config.model.TransitionData;\nimport org.springframework.statemachine.config.model.TransitionsData;\nimport org.springframework.statemachine.guard.Guard;\n\nimport reactor.core.publisher.Mono;\n\npublic class CustomStateMachineModelFactory implements StateMachineModelFactory&lt;String, String&gt; {\n\n    @Override\n    public StateMachineModel&lt;String, String&gt; build() {\n        ConfigurationData&lt;String,String&gt; configurationData = new ConfigurationData&lt;&gt;();\n           \n        Collection&lt;StateData&lt;String,String&gt;&gt; stateData = new ArrayList&lt;&gt;();   \n        \n        stateData.add(new StateData&lt;String,String&gt;(&quot;SI&quot;,true));\n        stateData.add(new StateData&lt;String,String&gt;(&quot;S1&quot;));\n        stateData.add(new StateData&lt;String,String&gt;(&quot;S2&quot;));\n        stateData.add(new StateData&lt;String,String&gt;(&quot;SJ&quot;));\n        stateData.add(new StateData&lt;String,String&gt;(&quot;SJ1&quot;));\n        stateData.add(new StateData&lt;String,String&gt;(&quot;SJ2&quot;));\n        stateData.add(new StateData&lt;String,String&gt;(&quot;SJ1a&quot;));\n        stateData.add(new StateData&lt;String,String&gt;(&quot;SJ2a&quot;));\n        StatesData&lt;String,String&gt; statesData = new StatesData&lt;&gt;(stateData);\n        \n        Collection&lt;TransitionData&lt;String,String&gt;&gt; transitionData = new ArrayList&lt;&gt;();\n        transitionData.add(new TransitionData&lt;String,String&gt;(&quot;SI&quot;,&quot;S1&quot;,&quot;E1&quot;));\n        transitionData.add(new TransitionData&lt;String,String&gt;(&quot;S1&quot;,&quot;S2&quot;,&quot;E2&quot;));\n        transitionData.add(new TransitionData&lt;String,String&gt;(&quot;S2&quot;,&quot;SJ&quot;,&quot;E3&quot;));\n        transitionData.add(new TransitionData&lt;String,String&gt;(&quot;SJ&quot;,&quot;SJ1&quot;,&quot;EJ1&quot;,null, choiceGuard(&quot;a&quot;), null));\n        transitionData.add(new TransitionData&lt;String,String&gt;(&quot;SJ&quot;,&quot;SJ2&quot;,&quot;EJ2&quot;,null, choiceGuard(&quot;b&quot;), null));\n        TransitionsData&lt;String,String&gt; transitionsData = new TransitionsData&lt;&gt;(transitionData);\n        \n        StateMachineModel&lt;String,String&gt; stateMachineModel = new DefaultStateMachineModel&lt;String,String&gt;(configurationData,statesData,transitionsData);\n        return stateMachineModel;\n    }\n\npublic Function&lt;StateContext&lt;String,String&gt;, Mono&lt;Boolean&gt;&gt; choiceGuard(final String dec) {\n        return new Function&lt;StateContext&lt;String, String&gt;, Mono&lt;Boolean&gt;&gt;() {\n            @Override\n            public Mono&lt;Boolean&gt; apply(StateContext&lt;String, String&gt; stateContext) {\n            String decision = (String) stateContext.getExtendedState().getVariables().get(&quot;DECISION&quot;);\n                //checking event validity\n                System.out.println(&quot;'******&quot;);\n                boolean valid = decision !=null &amp;&amp; (decision.equals(dec));\n                return Mono.just(valid);\n            }\n        };\n    }\n\npublic StateMachineModel&lt;String, String&gt; build(String machineId) {\n        return build();\n    }\n\n}\n</code></pre>\n<hr />\n<p>Config2.java</p>\n<pre><code>package com.metamorphosys.workflow;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.statemachine.config.EnableStateMachine;\nimport org.springframework.statemachine.config.StateMachineConfigurerAdapter;\nimport org.springframework.statemachine.config.builders.StateMachineModelConfigurer;\nimport org.springframework.statemachine.config.model.StateMachineModelFactory;\n\n@Configuration\n@EnableStateMachine\npublic class Config2 \n  extends StateMachineConfigurerAdapter&lt;String,String&gt;{\n\n    @Override\n    public void configure(StateMachineModelConfigurer&lt;String, String&gt; model) throws Exception {\n           model\n               .withModel()\n               .factory(modelFactory());\n    }\n     \n    @Bean\n    public StateMachineModelFactory&lt;String, String&gt; modelFactory() {\n        return new CustomStateMachineModelFactory();\n    }\n    \n}\n</code></pre>\n<p>WorkFlowApplication.java</p>\n<pre><code>package com.metamorphosys.workflow;\n\nimport javax.annotation.PostConstruct;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.statemachine.StateMachine;\n\n@SpringBootApplication\npublic class WorkFlowApplication {\n\n    @Autowired\n    private StateMachine&lt;String, String&gt; stateMachine;\n    \n    public static void main(String[] args) {\n            SpringApplication.run(WorkFlowApplication.class, args);\n        }\n    \n    @SuppressWarnings(&quot;deprecation&quot;)\n    @PostConstruct\n    public void started() {\n        stateMachine.start();\n        System.out.println(&quot;Initial State &quot;+ stateMachine.getInitialState());\n        stateMachine.sendEvent(&quot;E1&quot;);\n            System.out.println(&quot;state changed to &quot;+ stateMachine.getState());\n        stateMachine.sendEvent(&quot;E2&quot;);\n        System.out.println(&quot;state changed to &quot;+stateMachine.getState());\n        stateMachine.getExtendedState().getVariables().put(&quot;DECISION&quot;, &quot;b&quot;);\n        stateMachine.sendEvent(&quot;E3&quot;);\n        System.out.println(&quot;state changed to &quot; +stateMachine.getState());\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1676456237,"post_id":75445838,"comment_id":133138656,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75445838/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27781853,"reputation":1,"user_id":21210037,"display_name":"mimi mimi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677561985,"creation_date":1676367099,"answer_id":75445838,"question_id":74291611,"body_markdown":"In file repository. We can use\r\n\r\n    @Aggregation(pipeline = {&quot;{&#39;$sort&#39;:{&#39;name&#39;:-1}}&quot;})\r\n    @Meta(allowDiskUse = true)\r\n    List&lt;T&gt; findAll();","title":"How can i use {allowDiskUse: true} in findAll() query in spring data mongo?","body":"<p>In file repository. We can use</p>\n<pre><code>@Aggregation(pipeline = {&quot;{'$sort':{'name':-1}}&quot;})\n@Meta(allowDiskUse = true)\nList&lt;T&gt; findAll();\n</code></pre>\n"}],"owner":{"account_id":26808020,"reputation":1,"user_id":20399056,"display_name":"Sandeep Chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677561985,"creation_date":1667402491,"question_id":74291611,"body_markdown":"For example, i want get list of obejects where i got the exception : **&quot;com.mongodb.MongoQueryException: Query failed with error code 292 and error message &#39;Executor error during find command :: caused by :: Sort exceeded memory limit of 104857600 bytes, but did not opt in to external sorting.&quot;**\r\n\r\ni found some solution from stackoverflow, they are suggesting in aggregate query where they used  **{allowDiskUse: true}**. but i want to know is there any way possible that i can use crudRepo.findAll() with that particular condition.","title":"How can i use {allowDiskUse: true} in findAll() query in spring data mongo?","body":"<p>For example, i want get list of obejects where i got the exception : <strong>&quot;com.mongodb.MongoQueryException: Query failed with error code 292 and error message 'Executor error during find command :: caused by :: Sort exceeded memory limit of 104857600 bytes, but did not opt in to external sorting.&quot;</strong></p>\n<p>i found some solution from stackoverflow, they are suggesting in aggregate query where they used  <strong>{allowDiskUse: true}</strong>. but i want to know is there any way possible that i can use crudRepo.findAll() with that particular condition.</p>\n"},{"tags":["java","azure","certificate","keystore","azure-keyvault"],"answers":[{"comments":[{"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"score":0,"creation_date":1677539803,"post_id":75577307,"comment_id":133354567,"body_markdown":"Thanks for the info. I think there might be issue with the String downloadedPK = secret.getValue();  from Azure. It is not any of certificate/public/private key.","body":"Thanks for the info. I think there might be issue with the String downloadedPK = secret.getValue();  from Azure. It is not any of certificate/public/private key."},{"owner":{"account_id":23058397,"reputation":259,"user_id":17174122,"display_name":"Esta Nagy"},"score":0,"creation_date":1677562922,"post_id":75577307,"comment_id":133357707,"body_markdown":"In my example, I have been using it with a self-signed cert I generated earlier and it contained a certificate and a private key. I hope it helps!","body":"In my example, I have been using it with a self-signed cert I generated earlier and it contained a certificate and a private key. I hope it helps!"}],"tags":[],"owner":{"account_id":23058397,"reputation":259,"user_id":17174122,"display_name":"Esta Nagy"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677529756,"creation_date":1677478975,"answer_id":75577307,"question_id":75577031,"body_markdown":"It should be a proper P12 keystore format (the same thing you can generate using Java Keytool if you are generating a keystore from the command line).\r\n\r\nThis should help you see how it can be converted to certificate:\r\nhttps://github.com/nagyesta/lowkey-vault/blob/0c3fde5ad7f433d72ded05f6d3e55a3bb55aec18/lowkey-vault-docker/src/test/java/com/github/nagyesta/lowkeyvault/steps/CertificateStepDefAssertion.java#L125-L139\r\n\r\nAlso, these lines can be helpful showing how I am parsing supposedly the same thing during import: https://github.com/nagyesta/lowkey-vault/blob/0c3fde5ad7f433d72ded05f6d3e55a3bb55aec18/lowkey-vault-app/src/main/java/com/github/nagyesta/lowkeyvault/service/certificate/impl/CertContentType.java#L44-L69\r\n\r\nWhen you download the certificate store contents as a secret, it should use a blank password based on this: https://learn.microsoft.com/en-us/azure/key-vault/certificates/how-to-export-certificate?tabs=azure-cli#export-stored-certificates (I think they mean blank as in &quot;&quot; and not null as null would be problematic on Java: https://stackoverflow.com/questions/1814048/sun-java-keymanagerfactory-and-null-passwords)\r\n\r\nConfirmed with an experiment. If the `String value` contains the content downloaded using the secret client, in case of a PFX, then this code opens the key store and iterates through the certificate aliases in it. Of course you would need to make it nice, including error handling etc.\r\n\r\n    final byte[] p12binary = Base64.getMimeDecoder().decode(value);\r\n    final KeyStore p12 = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    p12.load(new ByteArrayInputStream(p12binary), &quot;&quot;.toCharArray());\r\n    for (final Iterator&lt;String&gt; it = p12.aliases().asIterator(); it.hasNext(); ) {\r\n        final String alias = it.next();\r\n        System.out.println(alias);\r\n    }","title":"what is it that I get in java from Azure keyvault certificate","body":"<p>It should be a proper P12 keystore format (the same thing you can generate using Java Keytool if you are generating a keystore from the command line).</p>\n<p>This should help you see how it can be converted to certificate:\n<a href=\"https://github.com/nagyesta/lowkey-vault/blob/0c3fde5ad7f433d72ded05f6d3e55a3bb55aec18/lowkey-vault-docker/src/test/java/com/github/nagyesta/lowkeyvault/steps/CertificateStepDefAssertion.java#L125-L139\" rel=\"nofollow noreferrer\">https://github.com/nagyesta/lowkey-vault/blob/0c3fde5ad7f433d72ded05f6d3e55a3bb55aec18/lowkey-vault-docker/src/test/java/com/github/nagyesta/lowkeyvault/steps/CertificateStepDefAssertion.java#L125-L139</a></p>\n<p>Also, these lines can be helpful showing how I am parsing supposedly the same thing during import: <a href=\"https://github.com/nagyesta/lowkey-vault/blob/0c3fde5ad7f433d72ded05f6d3e55a3bb55aec18/lowkey-vault-app/src/main/java/com/github/nagyesta/lowkeyvault/service/certificate/impl/CertContentType.java#L44-L69\" rel=\"nofollow noreferrer\">https://github.com/nagyesta/lowkey-vault/blob/0c3fde5ad7f433d72ded05f6d3e55a3bb55aec18/lowkey-vault-app/src/main/java/com/github/nagyesta/lowkeyvault/service/certificate/impl/CertContentType.java#L44-L69</a></p>\n<p>When you download the certificate store contents as a secret, it should use a blank password based on this: <a href=\"https://learn.microsoft.com/en-us/azure/key-vault/certificates/how-to-export-certificate?tabs=azure-cli#export-stored-certificates\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/key-vault/certificates/how-to-export-certificate?tabs=azure-cli#export-stored-certificates</a> (I think they mean blank as in &quot;&quot; and not null as null would be problematic on Java: <a href=\"https://stackoverflow.com/questions/1814048/sun-java-keymanagerfactory-and-null-passwords\">Sun Java KeyManagerFactory and null passwords</a>)</p>\n<p>Confirmed with an experiment. If the <code>String value</code> contains the content downloaded using the secret client, in case of a PFX, then this code opens the key store and iterates through the certificate aliases in it. Of course you would need to make it nice, including error handling etc.</p>\n<pre><code>final byte[] p12binary = Base64.getMimeDecoder().decode(value);\nfinal KeyStore p12 = KeyStore.getInstance(&quot;PKCS12&quot;);\np12.load(new ByteArrayInputStream(p12binary), &quot;&quot;.toCharArray());\nfor (final Iterator&lt;String&gt; it = p12.aliases().asIterator(); it.hasNext(); ) {\n    final String alias = it.next();\n    System.out.println(alias);\n}\n</code></pre>\n"}],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677561571,"creation_date":1677475889,"question_id":75577031,"body_markdown":"Certificate is created in Azure KeyVault. I will need to download the public and private key from it.\r\n\r\nWhen creating certificate in Azure, there are two options for the content:pkcs12 and pem\r\n\r\nWhen content type is PEM, I can get the private key and convert it to RSA PrivateKey.\r\n\r\nWhen content type is PKCS12, I am not sure what it is.\r\n          \r\n     //when certificate is created with pkcs12 format, downloadedPK doesn&#39;t have any -----BEGIN * KEY-----\r\n     //It&#39;s readable format similar to private key/certificate inside .pem file but without any &quot;-----BEGIN *----- &quot;\r\n\r\nHere is my code:\r\n\r\n    \r\n            ClientSecretCredential credential = new ClientSecretCredentialBuilder()\r\n                    .tenantId(tenantId)\r\n                    .clientId(clientId)\r\n                    .clientSecret(clientSecret)\r\n                    .build();\r\n\r\n            CertificateClient certificateClient = new CertificateClientBuilder()\r\n                    .vaultUrl(vaultUri)\r\n                    .credential(credential)\r\n                    .buildClient();\r\n\r\n            SecretClient secretClient = new SecretClientBuilder()\r\n                    .vaultUrl(vaultUri)\r\n                    .credential(credential)\r\n                    .buildClient();\r\n\r\n            // Retrieving certificate\r\n            KeyVaultCertificateWithPolicy certificateWithPolicy = certificateClient.getCertificate(alias);\r\n\r\n            // Retrieving secrete for private key\r\n            KeyVaultSecret secret = secretClient.getSecret(alias, certificateWithPolicy.getProperties().getVersion());\r\n            \r\n            String downloadedPK = secret.getValue();\r\n            String privateKeyType = secret.getProperties().getContentType();\r\n\r\n            byte[] rawPrivateKey = null;\r\n\r\n                //when certificate is created with pem format, downloadedPK has both private and certificate sections\r\n                //needs to extract the raw Private Key\r\n                if (&quot;application/x-pem-file&quot;.equalsIgnoreCase(privateKeyType)) {\r\n                    /*\r\n                    -----BEGIN PRIVATE KEY-----\r\n                    -----END PRIVATE KEY-----\r\n                    -----BEGIN CERTIFICATE-----\r\n                    -----END CERTIFICATE-----\r\n                     */\r\n                    int endIndex = downloadedPK.indexOf(&quot;-----END PRIVATE KEY-----&quot;);\r\n                    String str1 = downloadedPK.substring(0, endIndex);\r\n\r\n                    privateKeyContent = str1.replaceAll(&quot;\\\\n&quot;, &quot;&quot;).replace(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;);\r\n                }\r\n\r\n                //when certificate is created with pkcs12 format, downloadedPK doesn&#39;t have any -----BEGIN * KEY-----\r\n                //It&#39;s readable format similar to private key/certificate inside .pem file but without any &quot;-----BEGIN *----- &quot;\r\n                if (&quot;application/x-pkcs12&quot;.equalsIgnoreCase(privateKeyType)) {\r\n\r\n                    //downloadedPK is &quot;MIIKQAIBAzCCCfwGCSqGSIb3DQEHAaCCCe0EggnpMIIJ5TCCBhYGCSqGSIb3DQEHAaCCBgcEggYDMIIF&quot;\r\n                    privateKeyContent = downloadedPK;\r\n                }\r\n\r\n                rawPrivateKey = Base64.getDecoder().decode(privateKeyContent);\r\n\r\n                KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n                PKCS8EncodedKeySpec keySpecPKCS8 = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(privateKeyContent));\r\n                PrivateKey privateRsaKey = kf.generatePrivate(keySpecPKCS8);\r\n\r\n\r\n\r\nBut what is it that I get in java for downloadedPK\r\n \r\n\r\n    MIIKQAIBAzCCCfwGCSqGSIb3DQEHAaCCCe0EggnpMIIJ5TCCBhYGCSqGSIb3DQEHAaCCBgcEggYDMIIF\r\n\r\nI got this error. Does it mean that I got the private key string in pkcs12 format? How can I do with this pkcs12 String?\r\n\r\n    java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : version mismatch: (supported:     00, parsed:     03\r\n        at java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(RSAKeyFactory.java:251)\r\n        at java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:390)\r\n\r\n\r\n**Updated:**\r\nI updated the code to do following:\r\n\r\n    1.Get certificate form Azure; print out its public key;\r\n    2.Get secrete form Azure; print out its secret.getValue();\r\n    3.Manually download pfx format file from Azure\r\n    4.Manually import above pfx file into Keystore;\r\n    5.readFromJKS for certification/public/private key\r\n\r\ndownloadedPK is **not** any of certificate/public/private key.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fpIHu.png\r\n  [2]: https://i.stack.imgur.com/4lqch.png\r\n\r\n\r\n    Output from certificate.getPublicKey()\r\n    -----BEGIN PUBLIC KEY-----\r\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAriOYbRHHyMTtrGVkDDWr0coVcKqgXpPEG8iUTbUucl1TYNHsgNSfkWjofc/fQdvGhDE9e4nVL4Mh4wX6RVpn7gb5TnmYuOQ7pbCcZCwc4gfU80moj0nx6fSyXWyaoakBNkwInIAD8/wRfm3itx8NBO1orWV1XwDwtt3CbRAajQYpPt83ZNuIaO6uWXfJwM3qPMtmDwDmbK+fFyjfUQjB2vhwvEWpsZ1bp8A9Q5d8bBLqMlocyJuYtbpJtfgspbGsGwxbVQ1whnMyrDv/tcnob8EL85vlSN0Qzue3I+V6LnFOOlEtuFlfCjjmHZBYFwT2o3tn0hZpU6NHe+VycQYN2QIDAQAB\r\n    -----END PUBLIC KEY-----\r\n    2023-02-27:16:51:21.418 [ForkJoinPool.commonPool-worker-1] INFO  com.azure.identity.ClientSecretCredential - Azure Identity =&gt; getToken() result for scopes [https://vault.azure.net/.default]: SUCCESS\r\n    2023-02-27:16:51:21.418 [ForkJoinPool.commonPool-worker-1] INFO  com.azure.core.implementation.AccessTokenCache - Acquired a new access token.\r\n    getContentType = application/x-pkcs12\r\n    secret.getValue() = \r\n    MIIKQAIBAzCCCfwGCSqGSIb3DQEHAaCCCe0EggnpMIIJ5TCCBhYGCSqGSIb3DQEHAaCCBgcEggYDMIIF/zCCBfsGCyqGSIb3DQEMCgECoIIE/jCCBPowHAYKKoZIhvcNAQwBAzAOBAheIDHN7fkuEAICB9AEggTYiTgfo+2YkoI7xaucZF9gqfNLphXMtTY0HVS7sqsvwR/MDvLlPn3Cj6Ab+dZ6HZ+AB9WpuOQ1os1ieyP1mgd0UIC+wdWdRk4GE2OmpBnXnhnhAv3XElgKgjk70gkjhim6+aY5oncdokscTLNvBE7uTZUUlHq7aStYPsXB+erorCAz7YLVWtu5P96Ag0eqMqbdca4YPWjwj9xoZv5La7XbdjLisl3NU5aYxtDqSNlyCDby5+WEe9jrNH2eNuDubAayD1iMng50nlpx/N5WcVzn9VWoQZmpt3MbZGxsCGh0bIl61WSFxJqt1+PiJavafE8Sigl/sOLzmL9gUhqcHbfZM6aEEvhEDSkzxxnj4ZJBR2Tpluo0aNOh9qzzxFD0FfvBYlZ14o3gWj6M2h54Lv0kZnBznp4yHst4M0cvn5Y07h2t6JJRCLjFtz1dcCRpEee60SwGYQweZGYd0WifMO8gX2sYdhqZ2txRyI03/VQdEQIMcDQAyKy1QC2dySbRlViTpL8MRL3XfUySkAuyLH6WI7bsrmqCbPmBriz20y4Hg6+BveDrmEedyKeqEzUBcYngLTbCH68iUBDXMCkylkxb6KL1AcWTal+i+umLxahJNlgIHr87SVNnhIN31RGLqe8cjoTcQ/MqxjQOrKRRlzmJ4u/PAt0ee1r6HYS1oYI0SuzdGxu3FkS+xtmxvqNk7UNYEil/93Zdq3w1nFRNHN7s39tAAndkNQ+5JwC1QlsLJ00GzaUntqMXaVzN+jFb9QePoRlURQNH+ejsR1xgcwiTCpKdBDDxKlv/u0IbI7w9LvDtPEh4EpumFzO83Dx/xdbHa12JfPPnwQo5A6G1r3mBDsxFY+ca7YRDN55Emte/3fuduppAe+xchhEmhXFo3htJkGV1NAzi8ReuqGr7mSTswmdiro+93cFG+tTAcMcVyMMeyEJrkmDLOnsWIrS/18f7CTKRJ3KdbcthZGr8kulNVMMpKdi5yMTgVYzw6icsCiYwSQtrZZSH2U39xWFlkSM4RRTq7iohw57Rqpe9C+3g7eVTljXN2j63XeeGy+yo6ReVDWoyuM1nrwG/JHn+1f/a02c/U1aTKrUydwESlRkuUDAVYI7fnM1U1MYdCqAcX/Fg1q2ilv60vZgs27dwm3K2kPXeAPxDjzePDnJvxkvBJwPWWoYPA2aYLlpQVc1+OxhkYfmyjBbDf/wuJBYeL3Sg1sDlDpUQ9H7U204jU5CVmjUgGKI0wlOh+w72gQV+/YhRtxUFc9crQjiOjoB38CSswhSoHUVe1YmfXdUeEqp7q0OpFoP1ee61BYKtqorgM/CQ29HEAq/qZIUtqt/0YqY/e6n2JIuRx3X6MfVJpbBLR6KNq+tllzpVQx8bpC6YOuhwyY4k6KdxS4A5tnQVWxXt3PRhzn8BTCpJhwuiJWADjMMP69q08nNpmHZ47Jvb+i4zCnCe35rWWaDGg+Y1WeR/miESiadv7wbM4hPRTep0bXgcOKsXVw0BvcCISNZ7jqi+m8nLoPn35DcMgWLoqqxVJ4uHewHbc70ORGN0SuqiXc/OBteGQ8sJbVZzhD095dHcPeiCGniipn/AUWNc8ChvoV97W2sS+IihHBWSoTTME7pFmcffNPoehq4xV2nPv0hobOwSZs+YpDGB6TATBgkqhkiG9w0BCRUxBgQEAQAAADBXBgkqhkiG9w0BCRQxSh5IADQAZgBiAGQAYQA2AGQAZgAtADgAMgA1AGYALQA0ADAAMAA4AC0AOAA2ADUAYwAtADkAMgBmADkAYQBiADgAYwBjADkAYwAyMHkGCSsGAQQBgjcRATFsHmoATQBpAGMAcgBvAHMAbwBmAHQAIABFAG4AaABhAG4AYwBlAGQAIABSAFMAQQAgAGEAbgBkACAAQQBFAFMAIABDAHIAeQBwAHQAbwBnAHIAYQBwAGgAaQBjACAAUAByAG8AdgBpAGQAZQByMIIDxwYJKoZIhvcNAQcGoIIDuDCCA7QCAQAwggOtBgkqhkiG9w0BBwEwHAYKKoZIhvcNAQwBAzAOBAgrw/Ar6sbfDQICB9CAggOA2Tdh083OUnZPak4+CFPkZvKNrBjxTHLZBkY8X4spepNJaakRBT5pnsFp042zKg5lJ6O9du0zGTlpwEponbQkDkvCp55E9OYdkc3uR9LbpIhcENQY3J/xLCK/B5rFAPiYaRG0tLRJ65Sm1O4pAKqKDV28x/zYBJauj38s3bowQ5X8Y7IAewfG1RT1UDltNWWZLev5aztLHlGcYTlkKrBLMC+e8k6cEccLMLplSqD7hMrpzwEf9elyl64D5mSGsbWvl8ltwW1qGZ7stn2+oxkYe1M144ySzLaAlIXaLxumJray1QqrH6EXYGl/OJvybZtaIenNv/CCj15n+uH4ejnh26V08xXU3MumNpoLbFjqn8t8pbAR1izNwDU8HrUD1uBq0l9GDPa/QmKwmtzSkr5BS2X/wh1K8TUP5bQbuLfm47lVysg33wK/glo35A2kUn6f+7XJGpbmhze8OmQQqRCfKl74qN5LEeNx2YUjgrM0P7Cldip38Smw49jpInF+K46OmYapfofhiRe4AS6ne4FFybU3wRp6ObYdlVcJ1Pu63d7YFKw41ENOURuDFwkXEOZbhCMF09P5spdJVNcng/vgRKHnUdkOHeUhY9NVqvfVhd6LaCy21GpBfX2/FWM5M1VT5CuS2R7a/Xl44dAsVt3mNFzUiOMijADzc96GvK8Bjii+Os6wsUKETiIJw9X2uVWWy48S5p5GAqCDdsDFm7yOou8YSS6r8LbIhb83hQWu5XjUNjfvw5mPKldwcgCogpbl0EaAJ0qA0r7LDizzWWuFP+ZOdaTo9RK+EEY60yQ+juoCqi1qyj6lCCMZySRPmeTkm0NAIvLWePb0sl+4SBkNZvTTMUhGjnQ6RVGUHh62KC5nLfQMbnLYWQ6WbIean7KPenhRCNoZwXV4GxdEGW9oYhNOCqVoV9Gtc/O7KOPRSYRpERbSUYO4Z10xTBz7IWuWgUKqsuuXeV/Y1hS26HszWes7Bo57ox8bszEYspD7BPi+WP/VnKYl7AU5D4vaVXTHoavFbdYE96g/RjHd6rJY+x/XEciJeI/5pjFQnOP7Oaul2cYmFrLhDB94w+lBuLRISKqNanfZqJZI+yGPNpQ637wTv/ib573cgpRqMLtRPvVrrAFy52QnzVwOKfJl75JGw5Ih9CZOYYmtR3WNDgboFF5iMT1nPAjODcM00IoZaCowOzAfMAcGBSsOAwIaBBQ9uTLTAE56I/k1o7Mc9tBEHsmyZgQUhCNlVxwS0slPLLtttrLIxUVQI5MCAgfQ\r\n    \r\n    Begin readFromJKS\r\n    \r\n    -----BEGIN PRIVATE KEY-----\r\n    MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCuI5htEcfIxO2sZWQMNavRyhVw\r\n    qqBek8QbyJRNtS5yXVNg0eyA1J+RaOh9z99B28aEMT17idUvgyHjBfpFWmfuBvlOeZi45DulsJxk\r\n    LBziB9TzSaiPSfHp9LJdbJqhqQE2TAicgAPz/BF+beK3Hw0E7WitZXVfAPC23cJtEBqNBik+3zdk\r\n    24ho7q5Zd8nAzeo8y2YPAOZsr58XKN9RCMHa+HC8RamxnVunwD1Dl3xsEuoyWhzIm5i1ukm1+Cyl\r\n    sawbDFtVDXCGczKsO/+1yehvwQvzm+VI3RDO57cj5XoucU46US24WV8KOOYdkFgXBPaje2fSFmlT\r\n    o0d75XJxBg3ZAgMBAAECggEAE056/cy027uJpk1vdDMXI6FGE0G3mgTD/1iTqLHnvmI+dkOP9xCb\r\n    yGFbNWewlvqo3csfx+yWKDhfr23gO4Q0dZ1sUpkEp6sWOd6E2E5TvXOk1nxaJdjK62dnxxfdZQL5\r\n    0W1InyFKTuipf9zq/+Z/aQZxTpgrFSdjiMK5ZaIdb3kKjUvTl6qmJ+fmS1QE+7nj9jHujZTNyWr/\r\n    d0z8jsZIl25kKgIM/afAAxd5Pt2+kuN7IqoukoO5zTZie4skHQcmiA7r2GjcrLTzaRhSHyZtSp0g\r\n    ecbXWVA42ODXm5bE2WTwnqadTo+YSpG1j6/vjuZOkO9XZy8XlwKpvdZmXfHP6QKBgQDabVCordyL\r\n    tr9JIf+jwDxD9id9zGCTs1cJORA9lzXLw8V60q7n4M3RyU457EuiALdkfF2iWv05ITGwbeuJGkUL\r\n    LWMnPNOV/ibQ+dijGbjI99xefFJKR9zw/1CFSvHnvrCV63/v1OhBRyiFoGYuE2QW/5b/Fv27T29j\r\n    ujdOjl7gFwKBgQDMGAI64Q4ks2GPPbrMKwdWXYuSBy0ihJxFdM4nsEgYxQCFk68sXo9/VweHPWaU\r\n    SMHWP1jQgxmbFxlYUKjNQQn+LoIZRV6HHei9XtNt0mBPax/UeMqWaxDRoFHE9qyrKf/tPdy6pA/Y\r\n    IveRjc/swCClUl4FJSEJsCD6f8pRrPPHjwKBgFrqER6Ebz2/7NJ10j/ILc1j0YAs5y3TAbEXDUl1\r\n    fLC5ZaL/uklNap2dGnBFiB2ACtVKZnbDRI7Y4CO9PMIuKvrCA3k7eh3+UQ2+UItik2UitZimSmIc\r\n    kzvEKTGxxgpddoaQJQogJiO1iIpF/wHClHB2JdU7LpUeNRDfW1HZNGg1AoGBALamSeCdpsWrj4Tc\r\n    zr6HR5LANvch2v/IQ/5Y0WJtfahFLfldOOjxW2Sv4znh9lqAXpC5smcw3IqSeokx7k96hFHpF188\r\n    WKN9XduT8I2ZN737dcn1rAA/oxanbmZiCBdKiBKuSUrzJobcjEjD7C/Jpa2ucBwUpWOBL5JfKRY9\r\n    PRH7AoGAWlwe5M0xmxlgyKEKwbCOVjoDkTbEZ12VYNN6zbLNm5RfyGS7DS9bW/1UYghH3TAvI6N4\r\n    F8mLTZhKjF6jsdQPaaPxXcX46ED0Ke6oum8Uf7SlOKVIk7D4WyQvtxbKFoXHSwP5j9wzc36YJL1A\r\n    xG7JHnzBxGLqnEdKCMKWU49deAo=\r\n    -----END PRIVATE KEY-----\r\n    -----BEGIN PUBLIC KEY-----\r\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAriOYbRHHyMTtrGVkDDWr0coVcKqgXpPEG8iUTbUucl1TYNHsgNSfkWjofc/fQdvGhDE9e4nVL4Mh4wX6RVpn7gb5TnmYuOQ7pbCcZCwc4gfU80moj0nx6fSyXWyaoakBNkwInIAD8/wRfm3itx8NBO1orWV1XwDwtt3CbRAajQYpPt83ZNuIaO6uWXfJwM3qPMtmDwDmbK+fFyjfUQjB2vhwvEWpsZ1bp8A9Q5d8bBLqMlocyJuYtbpJtfgspbGsGwxbVQ1whnMyrDv/tcnob8EL85vlSN0Qzue3I+V6LnFOOlEtuFlfCjjmHZBYFwT2o3tn0hZpU6NHe+VycQYN2QIDAQAB\r\n    -----END PUBLIC KEY-----\r\n    -----BEGIN CERTIFICATE KEY-----\r\n    MIIDLDCCAhSgAwIBAgIQa9uFEeqpQryqmVGQ8je+ijANBgkqhkiG9w0BAQsFADATMREwDwYDVQQDEwhjb20udGVzdDAeFw0yMzAyMjcxNzAxMjRaFw0yNDAyMjcxNzExMjRaMBMxETAPBgNVBAMTCGNvbS50ZXN0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAriOYbRHHyMTtrGVkDDWr0coVcKqgXpPEG8iUTbUucl1TYNHsgNSfkWjofc/fQdvGhDE9e4nVL4Mh4wX6RVpn7gb5TnmYuOQ7pbCcZCwc4gfU80moj0nx6fSyXWyaoakBNkwInIAD8/wRfm3itx8NBO1orWV1XwDwtt3CbRAajQYpPt83ZNuIaO6uWXfJwM3qPMtmDwDmbK+fFyjfUQjB2vhwvEWpsZ1bp8A9Q5d8bBLqMlocyJuYtbpJtfgspbGsGwxbVQ1whnMyrDv/tcnob8EL85vlSN0Qzue3I+V6LnFOOlEtuFlfCjjmHZBYFwT2o3tn0hZpU6NHe+VycQYN2QIDAQABo3wwejAOBgNVHQ8BAf8EBAMCBaAwCQYDVR0TBAIwADAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwHwYDVR0jBBgwFoAUN+CjU3g8qU3O0U/ik14xI1h1HWYwHQYDVR0OBBYEFDfgo1N4PKlNztFP4pNeMSNYdR1mMA0GCSqGSIb3DQEBCwUAA4IBAQBysfstdFrWRzr8WMpNw73g69/8dO0OPnxMPz6lSrGVYx/SXyM5BViwWFHBNXpjAkfZNpwI4+8k2dBsogxNzniHWNpIEbmUnFKYNbrHK8aWIEr5Gx7oZXsaUPgjxIWflnJqJUDYkk1wadoBJCMWrtlFENqtiLMLMnH2NwBePH8Z8O4vMnZzTmQUbsp4Fn1z/WYF1E7FCZTok373PjrNeJClhsK9jtygWIpnu6WeOS2MSzwqb+hyMp7Zk8rLG+ItsjeHeHcEbYyj4Wg+20iEUz88EpHAUCZUNSa3TKN7FZBMZdLCVxLgsEOtVddULjciCRBvnUWkJXHDrTvUynfh/QR2\r\n    -----END CERTIFICATE KEY-----\r\n    \r\n    Done readFromJKS\r\n\r\n","title":"what is it that I get in java from Azure keyvault certificate","body":"<p>Certificate is created in Azure KeyVault. I will need to download the public and private key from it.</p>\n<p>When creating certificate in Azure, there are two options for the content:pkcs12 and pem</p>\n<p>When content type is PEM, I can get the private key and convert it to RSA PrivateKey.</p>\n<p>When content type is PKCS12, I am not sure what it is.</p>\n<pre><code> //when certificate is created with pkcs12 format, downloadedPK doesn't have any -----BEGIN * KEY-----\n //It's readable format similar to private key/certificate inside .pem file but without any &quot;-----BEGIN *----- &quot;\n</code></pre>\n<p>Here is my code:</p>\n<pre><code>        ClientSecretCredential credential = new ClientSecretCredentialBuilder()\n                .tenantId(tenantId)\n                .clientId(clientId)\n                .clientSecret(clientSecret)\n                .build();\n\n        CertificateClient certificateClient = new CertificateClientBuilder()\n                .vaultUrl(vaultUri)\n                .credential(credential)\n                .buildClient();\n\n        SecretClient secretClient = new SecretClientBuilder()\n                .vaultUrl(vaultUri)\n                .credential(credential)\n                .buildClient();\n\n        // Retrieving certificate\n        KeyVaultCertificateWithPolicy certificateWithPolicy = certificateClient.getCertificate(alias);\n\n        // Retrieving secrete for private key\n        KeyVaultSecret secret = secretClient.getSecret(alias, certificateWithPolicy.getProperties().getVersion());\n        \n        String downloadedPK = secret.getValue();\n        String privateKeyType = secret.getProperties().getContentType();\n\n        byte[] rawPrivateKey = null;\n\n            //when certificate is created with pem format, downloadedPK has both private and certificate sections\n            //needs to extract the raw Private Key\n            if (&quot;application/x-pem-file&quot;.equalsIgnoreCase(privateKeyType)) {\n                /*\n                -----BEGIN PRIVATE KEY-----\n                -----END PRIVATE KEY-----\n                -----BEGIN CERTIFICATE-----\n                -----END CERTIFICATE-----\n                 */\n                int endIndex = downloadedPK.indexOf(&quot;-----END PRIVATE KEY-----&quot;);\n                String str1 = downloadedPK.substring(0, endIndex);\n\n                privateKeyContent = str1.replaceAll(&quot;\\\\n&quot;, &quot;&quot;).replace(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;);\n            }\n\n            //when certificate is created with pkcs12 format, downloadedPK doesn't have any -----BEGIN * KEY-----\n            //It's readable format similar to private key/certificate inside .pem file but without any &quot;-----BEGIN *----- &quot;\n            if (&quot;application/x-pkcs12&quot;.equalsIgnoreCase(privateKeyType)) {\n\n                //downloadedPK is &quot;MIIKQAIBAzCCCfwGCSqGSIb3DQEHAaCCCe0EggnpMIIJ5TCCBhYGCSqGSIb3DQEHAaCCBgcEggYDMIIF&quot;\n                privateKeyContent = downloadedPK;\n            }\n\n            rawPrivateKey = Base64.getDecoder().decode(privateKeyContent);\n\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n\n            PKCS8EncodedKeySpec keySpecPKCS8 = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(privateKeyContent));\n            PrivateKey privateRsaKey = kf.generatePrivate(keySpecPKCS8);\n</code></pre>\n<p>But what is it that I get in java for downloadedPK</p>\n<pre><code>MIIKQAIBAzCCCfwGCSqGSIb3DQEHAaCCCe0EggnpMIIJ5TCCBhYGCSqGSIb3DQEHAaCCBgcEggYDMIIF\n</code></pre>\n<p>I got this error. Does it mean that I got the private key string in pkcs12 format? How can I do with this pkcs12 String?</p>\n<pre><code>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : version mismatch: (supported:     00, parsed:     03\n    at java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(RSAKeyFactory.java:251)\n    at java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:390)\n</code></pre>\n<p><strong>Updated:</strong>\nI updated the code to do following:</p>\n<pre><code>1.Get certificate form Azure; print out its public key;\n2.Get secrete form Azure; print out its secret.getValue();\n3.Manually download pfx format file from Azure\n4.Manually import above pfx file into Keystore;\n5.readFromJKS for certification/public/private key\n</code></pre>\n<p>downloadedPK is <strong>not</strong> any of certificate/public/private key.</p>\n<p><a href=\"https://i.stack.imgur.com/4lqch.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4lqch.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Output from certificate.getPublicKey()\n-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAriOYbRHHyMTtrGVkDDWr0coVcKqgXpPEG8iUTbUucl1TYNHsgNSfkWjofc/fQdvGhDE9e4nVL4Mh4wX6RVpn7gb5TnmYuOQ7pbCcZCwc4gfU80moj0nx6fSyXWyaoakBNkwInIAD8/wRfm3itx8NBO1orWV1XwDwtt3CbRAajQYpPt83ZNuIaO6uWXfJwM3qPMtmDwDmbK+fFyjfUQjB2vhwvEWpsZ1bp8A9Q5d8bBLqMlocyJuYtbpJtfgspbGsGwxbVQ1whnMyrDv/tcnob8EL85vlSN0Qzue3I+V6LnFOOlEtuFlfCjjmHZBYFwT2o3tn0hZpU6NHe+VycQYN2QIDAQAB\n-----END PUBLIC KEY-----\n2023-02-27:16:51:21.418 [ForkJoinPool.commonPool-worker-1] INFO  com.azure.identity.ClientSecretCredential - Azure Identity =&gt; getToken() result for scopes [https://vault.azure.net/.default]: SUCCESS\n2023-02-27:16:51:21.418 [ForkJoinPool.commonPool-worker-1] INFO  com.azure.core.implementation.AccessTokenCache - Acquired a new access token.\ngetContentType = application/x-pkcs12\nsecret.getValue() = \nMIIKQAIBAzCCCfwGCSqGSIb3DQEHAaCCCe0EggnpMIIJ5TCCBhYGCSqGSIb3DQEHAaCCBgcEggYDMIIF/zCCBfsGCyqGSIb3DQEMCgECoIIE/jCCBPowHAYKKoZIhvcNAQwBAzAOBAheIDHN7fkuEAICB9AEggTYiTgfo+2YkoI7xaucZF9gqfNLphXMtTY0HVS7sqsvwR/MDvLlPn3Cj6Ab+dZ6HZ+AB9WpuOQ1os1ieyP1mgd0UIC+wdWdRk4GE2OmpBnXnhnhAv3XElgKgjk70gkjhim6+aY5oncdokscTLNvBE7uTZUUlHq7aStYPsXB+erorCAz7YLVWtu5P96Ag0eqMqbdca4YPWjwj9xoZv5La7XbdjLisl3NU5aYxtDqSNlyCDby5+WEe9jrNH2eNuDubAayD1iMng50nlpx/N5WcVzn9VWoQZmpt3MbZGxsCGh0bIl61WSFxJqt1+PiJavafE8Sigl/sOLzmL9gUhqcHbfZM6aEEvhEDSkzxxnj4ZJBR2Tpluo0aNOh9qzzxFD0FfvBYlZ14o3gWj6M2h54Lv0kZnBznp4yHst4M0cvn5Y07h2t6JJRCLjFtz1dcCRpEee60SwGYQweZGYd0WifMO8gX2sYdhqZ2txRyI03/VQdEQIMcDQAyKy1QC2dySbRlViTpL8MRL3XfUySkAuyLH6WI7bsrmqCbPmBriz20y4Hg6+BveDrmEedyKeqEzUBcYngLTbCH68iUBDXMCkylkxb6KL1AcWTal+i+umLxahJNlgIHr87SVNnhIN31RGLqe8cjoTcQ/MqxjQOrKRRlzmJ4u/PAt0ee1r6HYS1oYI0SuzdGxu3FkS+xtmxvqNk7UNYEil/93Zdq3w1nFRNHN7s39tAAndkNQ+5JwC1QlsLJ00GzaUntqMXaVzN+jFb9QePoRlURQNH+ejsR1xgcwiTCpKdBDDxKlv/u0IbI7w9LvDtPEh4EpumFzO83Dx/xdbHa12JfPPnwQo5A6G1r3mBDsxFY+ca7YRDN55Emte/3fuduppAe+xchhEmhXFo3htJkGV1NAzi8ReuqGr7mSTswmdiro+93cFG+tTAcMcVyMMeyEJrkmDLOnsWIrS/18f7CTKRJ3KdbcthZGr8kulNVMMpKdi5yMTgVYzw6icsCiYwSQtrZZSH2U39xWFlkSM4RRTq7iohw57Rqpe9C+3g7eVTljXN2j63XeeGy+yo6ReVDWoyuM1nrwG/JHn+1f/a02c/U1aTKrUydwESlRkuUDAVYI7fnM1U1MYdCqAcX/Fg1q2ilv60vZgs27dwm3K2kPXeAPxDjzePDnJvxkvBJwPWWoYPA2aYLlpQVc1+OxhkYfmyjBbDf/wuJBYeL3Sg1sDlDpUQ9H7U204jU5CVmjUgGKI0wlOh+w72gQV+/YhRtxUFc9crQjiOjoB38CSswhSoHUVe1YmfXdUeEqp7q0OpFoP1ee61BYKtqorgM/CQ29HEAq/qZIUtqt/0YqY/e6n2JIuRx3X6MfVJpbBLR6KNq+tllzpVQx8bpC6YOuhwyY4k6KdxS4A5tnQVWxXt3PRhzn8BTCpJhwuiJWADjMMP69q08nNpmHZ47Jvb+i4zCnCe35rWWaDGg+Y1WeR/miESiadv7wbM4hPRTep0bXgcOKsXVw0BvcCISNZ7jqi+m8nLoPn35DcMgWLoqqxVJ4uHewHbc70ORGN0SuqiXc/OBteGQ8sJbVZzhD095dHcPeiCGniipn/AUWNc8ChvoV97W2sS+IihHBWSoTTME7pFmcffNPoehq4xV2nPv0hobOwSZs+YpDGB6TATBgkqhkiG9w0BCRUxBgQEAQAAADBXBgkqhkiG9w0BCRQxSh5IADQAZgBiAGQAYQA2AGQAZgAtADgAMgA1AGYALQA0ADAAMAA4AC0AOAA2ADUAYwAtADkAMgBmADkAYQBiADgAYwBjADkAYwAyMHkGCSsGAQQBgjcRATFsHmoATQBpAGMAcgBvAHMAbwBmAHQAIABFAG4AaABhAG4AYwBlAGQAIABSAFMAQQAgAGEAbgBkACAAQQBFAFMAIABDAHIAeQBwAHQAbwBnAHIAYQBwAGgAaQBjACAAUAByAG8AdgBpAGQAZQByMIIDxwYJKoZIhvcNAQcGoIIDuDCCA7QCAQAwggOtBgkqhkiG9w0BBwEwHAYKKoZIhvcNAQwBAzAOBAgrw/Ar6sbfDQICB9CAggOA2Tdh083OUnZPak4+CFPkZvKNrBjxTHLZBkY8X4spepNJaakRBT5pnsFp042zKg5lJ6O9du0zGTlpwEponbQkDkvCp55E9OYdkc3uR9LbpIhcENQY3J/xLCK/B5rFAPiYaRG0tLRJ65Sm1O4pAKqKDV28x/zYBJauj38s3bowQ5X8Y7IAewfG1RT1UDltNWWZLev5aztLHlGcYTlkKrBLMC+e8k6cEccLMLplSqD7hMrpzwEf9elyl64D5mSGsbWvl8ltwW1qGZ7stn2+oxkYe1M144ySzLaAlIXaLxumJray1QqrH6EXYGl/OJvybZtaIenNv/CCj15n+uH4ejnh26V08xXU3MumNpoLbFjqn8t8pbAR1izNwDU8HrUD1uBq0l9GDPa/QmKwmtzSkr5BS2X/wh1K8TUP5bQbuLfm47lVysg33wK/glo35A2kUn6f+7XJGpbmhze8OmQQqRCfKl74qN5LEeNx2YUjgrM0P7Cldip38Smw49jpInF+K46OmYapfofhiRe4AS6ne4FFybU3wRp6ObYdlVcJ1Pu63d7YFKw41ENOURuDFwkXEOZbhCMF09P5spdJVNcng/vgRKHnUdkOHeUhY9NVqvfVhd6LaCy21GpBfX2/FWM5M1VT5CuS2R7a/Xl44dAsVt3mNFzUiOMijADzc96GvK8Bjii+Os6wsUKETiIJw9X2uVWWy48S5p5GAqCDdsDFm7yOou8YSS6r8LbIhb83hQWu5XjUNjfvw5mPKldwcgCogpbl0EaAJ0qA0r7LDizzWWuFP+ZOdaTo9RK+EEY60yQ+juoCqi1qyj6lCCMZySRPmeTkm0NAIvLWePb0sl+4SBkNZvTTMUhGjnQ6RVGUHh62KC5nLfQMbnLYWQ6WbIean7KPenhRCNoZwXV4GxdEGW9oYhNOCqVoV9Gtc/O7KOPRSYRpERbSUYO4Z10xTBz7IWuWgUKqsuuXeV/Y1hS26HszWes7Bo57ox8bszEYspD7BPi+WP/VnKYl7AU5D4vaVXTHoavFbdYE96g/RjHd6rJY+x/XEciJeI/5pjFQnOP7Oaul2cYmFrLhDB94w+lBuLRISKqNanfZqJZI+yGPNpQ637wTv/ib573cgpRqMLtRPvVrrAFy52QnzVwOKfJl75JGw5Ih9CZOYYmtR3WNDgboFF5iMT1nPAjODcM00IoZaCowOzAfMAcGBSsOAwIaBBQ9uTLTAE56I/k1o7Mc9tBEHsmyZgQUhCNlVxwS0slPLLtttrLIxUVQI5MCAgfQ\n\nBegin readFromJKS\n\n-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCuI5htEcfIxO2sZWQMNavRyhVw\nqqBek8QbyJRNtS5yXVNg0eyA1J+RaOh9z99B28aEMT17idUvgyHjBfpFWmfuBvlOeZi45DulsJxk\nLBziB9TzSaiPSfHp9LJdbJqhqQE2TAicgAPz/BF+beK3Hw0E7WitZXVfAPC23cJtEBqNBik+3zdk\n24ho7q5Zd8nAzeo8y2YPAOZsr58XKN9RCMHa+HC8RamxnVunwD1Dl3xsEuoyWhzIm5i1ukm1+Cyl\nsawbDFtVDXCGczKsO/+1yehvwQvzm+VI3RDO57cj5XoucU46US24WV8KOOYdkFgXBPaje2fSFmlT\no0d75XJxBg3ZAgMBAAECggEAE056/cy027uJpk1vdDMXI6FGE0G3mgTD/1iTqLHnvmI+dkOP9xCb\nyGFbNWewlvqo3csfx+yWKDhfr23gO4Q0dZ1sUpkEp6sWOd6E2E5TvXOk1nxaJdjK62dnxxfdZQL5\n0W1InyFKTuipf9zq/+Z/aQZxTpgrFSdjiMK5ZaIdb3kKjUvTl6qmJ+fmS1QE+7nj9jHujZTNyWr/\nd0z8jsZIl25kKgIM/afAAxd5Pt2+kuN7IqoukoO5zTZie4skHQcmiA7r2GjcrLTzaRhSHyZtSp0g\necbXWVA42ODXm5bE2WTwnqadTo+YSpG1j6/vjuZOkO9XZy8XlwKpvdZmXfHP6QKBgQDabVCordyL\ntr9JIf+jwDxD9id9zGCTs1cJORA9lzXLw8V60q7n4M3RyU457EuiALdkfF2iWv05ITGwbeuJGkUL\nLWMnPNOV/ibQ+dijGbjI99xefFJKR9zw/1CFSvHnvrCV63/v1OhBRyiFoGYuE2QW/5b/Fv27T29j\nujdOjl7gFwKBgQDMGAI64Q4ks2GPPbrMKwdWXYuSBy0ihJxFdM4nsEgYxQCFk68sXo9/VweHPWaU\nSMHWP1jQgxmbFxlYUKjNQQn+LoIZRV6HHei9XtNt0mBPax/UeMqWaxDRoFHE9qyrKf/tPdy6pA/Y\nIveRjc/swCClUl4FJSEJsCD6f8pRrPPHjwKBgFrqER6Ebz2/7NJ10j/ILc1j0YAs5y3TAbEXDUl1\nfLC5ZaL/uklNap2dGnBFiB2ACtVKZnbDRI7Y4CO9PMIuKvrCA3k7eh3+UQ2+UItik2UitZimSmIc\nkzvEKTGxxgpddoaQJQogJiO1iIpF/wHClHB2JdU7LpUeNRDfW1HZNGg1AoGBALamSeCdpsWrj4Tc\nzr6HR5LANvch2v/IQ/5Y0WJtfahFLfldOOjxW2Sv4znh9lqAXpC5smcw3IqSeokx7k96hFHpF188\nWKN9XduT8I2ZN737dcn1rAA/oxanbmZiCBdKiBKuSUrzJobcjEjD7C/Jpa2ucBwUpWOBL5JfKRY9\nPRH7AoGAWlwe5M0xmxlgyKEKwbCOVjoDkTbEZ12VYNN6zbLNm5RfyGS7DS9bW/1UYghH3TAvI6N4\nF8mLTZhKjF6jsdQPaaPxXcX46ED0Ke6oum8Uf7SlOKVIk7D4WyQvtxbKFoXHSwP5j9wzc36YJL1A\nxG7JHnzBxGLqnEdKCMKWU49deAo=\n-----END PRIVATE KEY-----\n-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAriOYbRHHyMTtrGVkDDWr0coVcKqgXpPEG8iUTbUucl1TYNHsgNSfkWjofc/fQdvGhDE9e4nVL4Mh4wX6RVpn7gb5TnmYuOQ7pbCcZCwc4gfU80moj0nx6fSyXWyaoakBNkwInIAD8/wRfm3itx8NBO1orWV1XwDwtt3CbRAajQYpPt83ZNuIaO6uWXfJwM3qPMtmDwDmbK+fFyjfUQjB2vhwvEWpsZ1bp8A9Q5d8bBLqMlocyJuYtbpJtfgspbGsGwxbVQ1whnMyrDv/tcnob8EL85vlSN0Qzue3I+V6LnFOOlEtuFlfCjjmHZBYFwT2o3tn0hZpU6NHe+VycQYN2QIDAQAB\n-----END PUBLIC KEY-----\n-----BEGIN CERTIFICATE KEY-----\nMIIDLDCCAhSgAwIBAgIQa9uFEeqpQryqmVGQ8je+ijANBgkqhkiG9w0BAQsFADATMREwDwYDVQQDEwhjb20udGVzdDAeFw0yMzAyMjcxNzAxMjRaFw0yNDAyMjcxNzExMjRaMBMxETAPBgNVBAMTCGNvbS50ZXN0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAriOYbRHHyMTtrGVkDDWr0coVcKqgXpPEG8iUTbUucl1TYNHsgNSfkWjofc/fQdvGhDE9e4nVL4Mh4wX6RVpn7gb5TnmYuOQ7pbCcZCwc4gfU80moj0nx6fSyXWyaoakBNkwInIAD8/wRfm3itx8NBO1orWV1XwDwtt3CbRAajQYpPt83ZNuIaO6uWXfJwM3qPMtmDwDmbK+fFyjfUQjB2vhwvEWpsZ1bp8A9Q5d8bBLqMlocyJuYtbpJtfgspbGsGwxbVQ1whnMyrDv/tcnob8EL85vlSN0Qzue3I+V6LnFOOlEtuFlfCjjmHZBYFwT2o3tn0hZpU6NHe+VycQYN2QIDAQABo3wwejAOBgNVHQ8BAf8EBAMCBaAwCQYDVR0TBAIwADAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwHwYDVR0jBBgwFoAUN+CjU3g8qU3O0U/ik14xI1h1HWYwHQYDVR0OBBYEFDfgo1N4PKlNztFP4pNeMSNYdR1mMA0GCSqGSIb3DQEBCwUAA4IBAQBysfstdFrWRzr8WMpNw73g69/8dO0OPnxMPz6lSrGVYx/SXyM5BViwWFHBNXpjAkfZNpwI4+8k2dBsogxNzniHWNpIEbmUnFKYNbrHK8aWIEr5Gx7oZXsaUPgjxIWflnJqJUDYkk1wadoBJCMWrtlFENqtiLMLMnH2NwBePH8Z8O4vMnZzTmQUbsp4Fn1z/WYF1E7FCZTok373PjrNeJClhsK9jtygWIpnu6WeOS2MSzwqb+hyMp7Zk8rLG+ItsjeHeHcEbYyj4Wg+20iEUz88EpHAUCZUNSa3TKN7FZBMZdLCVxLgsEOtVddULjciCRBvnUWkJXHDrTvUynfh/QR2\n-----END CERTIFICATE KEY-----\n\nDone readFromJKS\n</code></pre>\n"},{"tags":["java","spring-boot","scheduled-tasks"],"comments":[{"owner":{"account_id":17066586,"reputation":4516,"user_id":12348584,"display_name":"H3AR7B3A7"},"score":1,"creation_date":1677542179,"post_id":75586631,"comment_id":133354965,"body_markdown":"Why does your service have a main function? Your Spring boot app should just have one main function. `psvm` is your starting point for the application, 2 starting points makes no sense. Try making it a simple `public void` function, it&#39;ll work.","body":"Why does your service have a main function? Your Spring boot app should just have one main function. <code>psvm</code> is your starting point for the application, 2 starting points makes no sense. Try making it a simple <code>public void</code> function, it&#39;ll work."},{"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"score":0,"creation_date":1677549120,"post_id":75586631,"comment_id":133356032,"body_markdown":"Looks like I also needed to add the annotation `@ComponentScan(basePackages = {&quot;com.climate.schedulingtasks&quot;, &quot;com.climate.eventplatform.client.jobs.heartbeat&quot;})` Do you think that&#39;s right? I also had to get rid of the parameter list.","body":"Looks like I also needed to add the annotation <code>@ComponentScan(basePackages = {&quot;com.climate.schedulingtasks&quot;, &quot;com.climate.eventplatform.client.jobs.heartbeat&quot;})</code> Do you think that&#39;s right? I also had to get rid of the parameter list."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677561117,"creation_date":1677560241,"answer_id":75588018,"question_id":75586631,"body_markdown":"By default , spring-boot will scan and register beans that are under all sub-packages of the package of `@SpringBootApplication` class (see [this][1] for more details)\r\n\r\nNow your `@SpringBootApplication` is in `com.climate.schedulingtasks` package but `ProducerService` is in the package `com.climate.eventplatform.client.jobs.heartbeat` which is not under `com.climate.schedulingtasks` , so it cannot be scanned. \r\n\r\nYou can specify all packages that to be scanned explicitly like what you mentioned in the comment . Or just move `ProducerService` to any packages under `com.climate.schedulingtasks`\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.structuring-your-code.locating-the-main-class","title":"How to Schedule tasks in Spring Boot","body":"<p>By default , spring-boot will scan and register beans that are under all sub-packages of the package of <code>@SpringBootApplication</code> class (see <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.structuring-your-code.locating-the-main-class\" rel=\"nofollow noreferrer\">this</a> for more details)</p>\n<p>Now your <code>@SpringBootApplication</code> is in <code>com.climate.schedulingtasks</code> package but <code>ProducerService</code> is in the package <code>com.climate.eventplatform.client.jobs.heartbeat</code> which is not under <code>com.climate.schedulingtasks</code> , so it cannot be scanned.</p>\n<p>You can specify all packages that to be scanned explicitly like what you mentioned in the comment . Or just move <code>ProducerService</code> to any packages under <code>com.climate.schedulingtasks</code></p>\n"}],"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677561117,"creation_date":1677541533,"question_id":75586631,"body_markdown":"Following this [guide](https://spring.io/guides/gs/scheduling-tasks/) I set up a basic Spring Boot Scheduler. When I run the `SchedulingTasksApplication` below, it repeatedly prints the logs as expected.\r\n\r\n## `ScheduledTasks` class\r\n```\r\npackage com.climate.schedulingtasks;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class ScheduledTasks {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(ScheduledTasks.class);\r\n\r\n    private static final SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n\r\n    @Scheduled(fixedRate = 5000)\r\n    public void reportCurrentTime() {\r\n        log.info(&quot;The time is now {}&quot;, dateFormat.format(new Date()));\r\n    }\r\n}\r\n```\r\n\r\n## `SchedulingTasksApplication` class\r\n```java\r\npackage com.climate.schedulingtasks;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.scheduling.annotation.EnableScheduling;\r\n\r\n@SpringBootApplication\r\n@EnableScheduling\r\npublic class SchedulingTasksApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SchedulingTasksApplication.class);\r\n    }\r\n}\r\n```\r\n\r\nI then added a `ProducerService` to produce 5 messages. I tried adding the notations to connect to the `SchedulingTasksApplication`, but when I run it, I never see the `ProducerService` called.\r\n\r\n## `ProducerService` class\r\n```java\r\npackage com.climate.eventplatform.client.jobs.heartbeat;\r\n\r\nimport com.climate.eventplatform.client.EventPlatformClientException;\r\nimport com.climate.schedulingtasks.ScheduledTasks;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.io.IOException;\r\n\r\n@Component\r\npublic class ProducerService {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(ScheduledTasks.class);\r\n\r\n    @Scheduled(fixedRate = 5000)\r\n    public static void main(String[] args) throws EventPlatformClientException, InterruptedException, IOException {\r\n        HeartBeatProducer.produceAll(&quot;Producer 1&quot;);\r\n        log.info(&quot;Producer Running&quot;);\r\n    }\r\n}\r\n```","title":"How to Schedule tasks in Spring Boot","body":"<p>Following this <a href=\"https://spring.io/guides/gs/scheduling-tasks/\" rel=\"nofollow noreferrer\">guide</a> I set up a basic Spring Boot Scheduler. When I run the <code>SchedulingTasksApplication</code> below, it repeatedly prints the logs as expected.</p>\n<h2><code>ScheduledTasks</code> class</h2>\n<pre><code>package com.climate.schedulingtasks;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ScheduledTasks {\n\n    private static final Logger log = LoggerFactory.getLogger(ScheduledTasks.class);\n\n    private static final SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n\n    @Scheduled(fixedRate = 5000)\n    public void reportCurrentTime() {\n        log.info(&quot;The time is now {}&quot;, dateFormat.format(new Date()));\n    }\n}\n</code></pre>\n<h2><code>SchedulingTasksApplication</code> class</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.climate.schedulingtasks;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.scheduling.annotation.EnableScheduling;\n\n@SpringBootApplication\n@EnableScheduling\npublic class SchedulingTasksApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SchedulingTasksApplication.class);\n    }\n}\n</code></pre>\n<p>I then added a <code>ProducerService</code> to produce 5 messages. I tried adding the notations to connect to the <code>SchedulingTasksApplication</code>, but when I run it, I never see the <code>ProducerService</code> called.</p>\n<h2><code>ProducerService</code> class</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.climate.eventplatform.client.jobs.heartbeat;\n\nimport com.climate.eventplatform.client.EventPlatformClientException;\nimport com.climate.schedulingtasks.ScheduledTasks;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\nimport java.io.IOException;\n\n@Component\npublic class ProducerService {\n\n    private static final Logger log = LoggerFactory.getLogger(ScheduledTasks.class);\n\n    @Scheduled(fixedRate = 5000)\n    public static void main(String[] args) throws EventPlatformClientException, InterruptedException, IOException {\n        HeartBeatProducer.produceAll(&quot;Producer 1&quot;);\n        log.info(&quot;Producer Running&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","nested"],"answers":[{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677559583,"creation_date":1677559583,"answer_id":75587963,"question_id":75587909,"body_markdown":"Try this:\r\n\r\n    public &lt;T&gt; ResponseEntity&lt;T&gt; validateRequest(Request request) {\r\n      if(agentRepository.findAgentByRequestPoint(request.getPoint()).isEmpty())\r\n        return ResponseEntity.ok((T)ErrorDTO.from(bundle.getString(&quot;point.not.set&quot;)));\r\n        \r\n      if(!request.getAdvanced().getFunction().equals(&quot;CheckAcc&quot;))\r\n        return ResponseEntity.ok((T) response.wrongCheck(1, 1));\r\n    \r\n      if(ServiceRepository.findServiceByServiceId(Long.parseLong(request.getAdvanced().getService())).isEmpty())\r\n        return ResponseEntity.ok((T)  response.wrongCheck(1, 4));\r\n    }\r\n\r\nI would suggest more validations or null checkings on the variables / methods, as some fields like `request.getAdvanced().getFunction().equals(&quot;CheckAcc&quot;)` or `request.getAdvanced().getService()` seems vulnerable to NPEs.\r\n\r\nOr at least try catching the method and log stacktraces for future debugging purposes.\r\n\r\nHope it can help.","title":"How to replace a lot of nested ifs in validation process?","body":"<p>Try this:</p>\n<pre><code>public &lt;T&gt; ResponseEntity&lt;T&gt; validateRequest(Request request) {\n  if(agentRepository.findAgentByRequestPoint(request.getPoint()).isEmpty())\n    return ResponseEntity.ok((T)ErrorDTO.from(bundle.getString(&quot;point.not.set&quot;)));\n    \n  if(!request.getAdvanced().getFunction().equals(&quot;CheckAcc&quot;))\n    return ResponseEntity.ok((T) response.wrongCheck(1, 1));\n\n  if(ServiceRepository.findServiceByServiceId(Long.parseLong(request.getAdvanced().getService())).isEmpty())\n    return ResponseEntity.ok((T)  response.wrongCheck(1, 4));\n}\n</code></pre>\n<p>I would suggest more validations or null checkings on the variables / methods, as some fields like <code>request.getAdvanced().getFunction().equals(&quot;CheckAcc&quot;)</code> or <code>request.getAdvanced().getService()</code> seems vulnerable to NPEs.</p>\n<p>Or at least try catching the method and log stacktraces for future debugging purposes.</p>\n<p>Hope it can help.</p>\n"},{"tags":[],"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677560103,"creation_date":1677560103,"answer_id":75588008,"question_id":75587909,"body_markdown":"The best way to make your code more readable is to split it into different methods:\r\n```\r\npublic &lt;T&gt; ResponseEntity&lt;T&gt; validateRequest(Request request) {\r\n    if (!isAgentExists(request)) {\r\n        return ResponseEntity.ok((T) ErrorDTO.from(bundle.getString(&quot;point.not.set&quot;)));\r\n    }\r\n\r\n    if (!isRequestFunctionCorrect(request, &quot;CheckAcc&quot;)) {\r\n        return ResponseEntity.ok((T) response.wrongCheck(1, 1));\r\n    }\r\n\r\n    if (!isServiceExists(request)) {\r\n        return ResponseEntity.ok((T)  response.wrongCheck(1, 4);\r\n    }\r\n\r\n    // do the logic if everything is correct\r\n}\r\n\r\nprivate boolean isAgentExists(Request request) {\r\n    return agentRepository.findAgentByRequestPoint(request.getPoint()).isPresent();\r\n}\r\n\r\nprivate boolean isRequestFunctionCorrect(Request request, String func) {\r\n    if (request.getAdvanced() != null) {\r\n        return func.equals(request.getAdvanced().getFunction());\r\n    }\r\n    return false;\r\n}\r\n\r\nprivate boolean isServiceExists(Request request) {\r\n    Long serviceId = Long.parseLong(request.getAdvanced().getService());\r\n    return ServiceRepository.findServiceByServiceId(serviceName).isPresent()\r\n}\r\n\r\n```\r\n\r\nIn some cases I added additional null check to avoid NPE.\r\n\r\nHope it will helps you :)","title":"How to replace a lot of nested ifs in validation process?","body":"<p>The best way to make your code more readable is to split it into different methods:</p>\n<pre><code>public &lt;T&gt; ResponseEntity&lt;T&gt; validateRequest(Request request) {\n    if (!isAgentExists(request)) {\n        return ResponseEntity.ok((T) ErrorDTO.from(bundle.getString(&quot;point.not.set&quot;)));\n    }\n\n    if (!isRequestFunctionCorrect(request, &quot;CheckAcc&quot;)) {\n        return ResponseEntity.ok((T) response.wrongCheck(1, 1));\n    }\n\n    if (!isServiceExists(request)) {\n        return ResponseEntity.ok((T)  response.wrongCheck(1, 4);\n    }\n\n    // do the logic if everything is correct\n}\n\nprivate boolean isAgentExists(Request request) {\n    return agentRepository.findAgentByRequestPoint(request.getPoint()).isPresent();\n}\n\nprivate boolean isRequestFunctionCorrect(Request request, String func) {\n    if (request.getAdvanced() != null) {\n        return func.equals(request.getAdvanced().getFunction());\n    }\n    return false;\n}\n\nprivate boolean isServiceExists(Request request) {\n    Long serviceId = Long.parseLong(request.getAdvanced().getService());\n    return ServiceRepository.findServiceByServiceId(serviceName).isPresent()\n}\n\n</code></pre>\n<p>In some cases I added additional null check to avoid NPE.</p>\n<p>Hope it will helps you :)</p>\n"}],"owner":{"account_id":9866227,"reputation":48,"user_id":7307613,"display_name":"Akbar  Amanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75588008,"answer_count":2,"score":2,"last_activity_date":1677560103,"creation_date":1677558847,"question_id":75587909,"body_markdown":"I am handling response to a request, and I need to make sure that request is formed correctly and for different mistakes in a request I need to return different answers. I ended up doing nested ifs and after the third one I kinda feel that it looks quite messy and potentially buggy. So I came here to ask for an advice on how I can modify my code to avoid nested if statements. \r\n\r\n\r\n\r\nHere is the code:\r\n\r\n\r\n```\r\n public &lt;T&gt; ResponseEntity&lt;T&gt; validateRequest(Request request) {\r\n        if(agentRepository.findAgentByRequestPoint(request.getPoint()).isPresent()){\r\n            if(request.getAdvanced().getFunction().equals(&quot;CheckAcc&quot;)){\r\n                if(ServiceRepository\r\n.findServiceByServiceId(Long.parseLong(request.getAdvanced().getService()))\r\n                        .isPresent()){\r\n                    \r\n                }else{\r\n                    ResponseEntity.ok((T)  response.wrongCheck(1, 4);\r\n                }\r\n            }else{\r\n                ResponseEntity.ok((T) response.wrongCheck(1, 1));\r\n            }\r\n        }else{\r\n            return ResponseEntity.ok((T)ErrorDTO.from(bundle.getString(&quot;point.not.set&quot;)));\r\n        }\r\n       \r\n    }\r\n```","title":"How to replace a lot of nested ifs in validation process?","body":"<p>I am handling response to a request, and I need to make sure that request is formed correctly and for different mistakes in a request I need to return different answers. I ended up doing nested ifs and after the third one I kinda feel that it looks quite messy and potentially buggy. So I came here to ask for an advice on how I can modify my code to avoid nested if statements.</p>\n<p>Here is the code:</p>\n<pre><code> public &lt;T&gt; ResponseEntity&lt;T&gt; validateRequest(Request request) {\n        if(agentRepository.findAgentByRequestPoint(request.getPoint()).isPresent()){\n            if(request.getAdvanced().getFunction().equals(&quot;CheckAcc&quot;)){\n                if(ServiceRepository\n.findServiceByServiceId(Long.parseLong(request.getAdvanced().getService()))\n                        .isPresent()){\n                    \n                }else{\n                    ResponseEntity.ok((T)  response.wrongCheck(1, 4);\n                }\n            }else{\n                ResponseEntity.ok((T) response.wrongCheck(1, 1));\n            }\n        }else{\n            return ResponseEntity.ok((T)ErrorDTO.from(bundle.getString(&quot;point.not.set&quot;)));\n        }\n       \n    }\n</code></pre>\n"},{"tags":["java","intellij-idea","jaxb","android-studio"],"comments":[{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":1,"creation_date":1373437528,"post_id":17563527,"comment_id":25552041,"body_markdown":"What is the version ? I guess it should be `javax.xml.bind:jaxb-api:2.2` ! What version of Java you are using ?","body":"What is the version ? I guess it should be <code>javax.xml.bind:jaxb-api:2.2</code> ! What version of Java you are using ?"},{"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"score":0,"creation_date":1373450669,"post_id":17563527,"comment_id":25558641,"body_markdown":"Looks like it is problem of IDE.","body":"Looks like it is problem of IDE."},{"owner":{"account_id":1048679,"reputation":2067,"user_id":1053097,"accept_rate":85,"display_name":"muneikh"},"score":0,"creation_date":1375689217,"post_id":17563527,"comment_id":26413824,"body_markdown":"Were you able to fix the problem?","body":"Were you able to fix the problem?"},{"owner":{"account_id":94263,"reputation":868,"user_id":257457,"accept_rate":88,"display_name":"amadib"},"score":0,"creation_date":1425181232,"post_id":17563527,"comment_id":45855091,"body_markdown":"@Maverick were you able to solve this? I&#39;m running into the issue myself","body":"@Maverick were you able to solve this? I&#39;m running into the issue myself"}],"answers":[{"tags":[],"owner":{"account_id":484819,"reputation":5634,"user_id":900743,"accept_rate":64,"display_name":"Peter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529514261,"creation_date":1529513433,"answer_id":50953339,"question_id":17563527,"body_markdown":"Try to synchronize the IDE (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Y&lt;/kbd&gt;)","title":"import javax.xml.bind.annotation.XmlRootElement not resolved","body":"<p>Try to synchronize the IDE (<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Y</kbd>)</p>\n"},{"tags":[],"owner":{"account_id":14858535,"reputation":13,"user_id":10730219,"display_name":"venkat stark"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618496688,"creation_date":1618496688,"answer_id":67110333,"question_id":17563527,"body_markdown":"Sometimes even after adding the dependencies to the pom.xml file, maven fails to download the dependencies to your local machine. So we can have it downloaded by updating the  maven repository.\r\n\r\nIn case of intelliJ, in the **Settings/preference** dialog, go to **Build, Execution, Deployment** -&gt; **Build tools** -&gt; **Maven** -&gt; **Repositories**.\r\nOn the **Repositories** page, click **Update** to update maven repositories.\r\n\r\nIf you&#39;re using eclipse, **Right click** your project -&gt; **maven** -&gt; **update project**.\r\nIn the update project window, select the recently modified projects and click **Ok**.\r\n\r\nAfter updating, check if you could import your packages.","title":"import javax.xml.bind.annotation.XmlRootElement not resolved","body":"<p>Sometimes even after adding the dependencies to the pom.xml file, maven fails to download the dependencies to your local machine. So we can have it downloaded by updating the  maven repository.</p>\n<p>In case of intelliJ, in the <strong>Settings/preference</strong> dialog, go to <strong>Build, Execution, Deployment</strong> -&gt; <strong>Build tools</strong> -&gt; <strong>Maven</strong> -&gt; <strong>Repositories</strong>.\nOn the <strong>Repositories</strong> page, click <strong>Update</strong> to update maven repositories.</p>\n<p>If you're using eclipse, <strong>Right click</strong> your project -&gt; <strong>maven</strong> -&gt; <strong>update project</strong>.\nIn the update project window, select the recently modified projects and click <strong>Ok</strong>.</p>\n<p>After updating, check if you could import your packages.</p>\n"},{"tags":[],"owner":{"account_id":2970596,"reputation":373,"user_id":2522715,"display_name":"Yurifull"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635281543,"creation_date":1635281543,"answer_id":69729816,"question_id":17563527,"body_markdown":"with Eclipse Spring boot \r\ni only use\r\n\r\n         &lt;dependency&gt;\r\n\t        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n\r\nReason? my coworker delete swagger jar","title":"import javax.xml.bind.annotation.XmlRootElement not resolved","body":"<p>with Eclipse Spring boot\ni only use</p>\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Reason? my coworker delete swagger jar</p>\n"},{"tags":[],"owner":{"account_id":11352107,"reputation":33,"user_id":8322735,"display_name":"calm"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645753200,"creation_date":1645753200,"answer_id":71260111,"question_id":17563527,"body_markdown":"Maybe you can check intellij , in the **Project Structure** dialog, go to **Project Settings -&gt; Project -&gt; Project SDK**  , choose other version SDK like 1.8 and click **OK**","title":"import javax.xml.bind.annotation.XmlRootElement not resolved","body":"<p>Maybe you can check intellij , in the <strong>Project Structure</strong> dialog, go to <strong>Project Settings -&gt; Project -&gt; Project SDK</strong>  , choose other version SDK like 1.8 and click <strong>OK</strong></p>\n"},{"tags":[],"owner":{"account_id":11007301,"reputation":21,"user_id":13327845,"display_name":"scvbelle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675243268,"creation_date":1675243268,"answer_id":75307957,"question_id":17563527,"body_markdown":"In case anyone else ends up here.\r\nMy dependency scope was listed as &#39;runtime&#39; and changing it to &#39;provided&#39; meant it downloaded the dependency\r\n\r\nI&#39;m coming from a python background and trying to debug something and have no idea what i&#39;m doing though, so hopefully i haven&#39;t created a major issue... ([this issue](https://stackoverflow.com/questions/12272499/maven-what-is-the-runtime-scope-purpose) talks a bit about the difference)\r\n\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\nto: \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"import javax.xml.bind.annotation.XmlRootElement not resolved","body":"<p>In case anyone else ends up here.\nMy dependency scope was listed as 'runtime' and changing it to 'provided' meant it downloaded the dependency</p>\n<p>I'm coming from a python background and trying to debug something and have no idea what i'm doing though, so hopefully i haven't created a major issue... (<a href=\"https://stackoverflow.com/questions/12272499/maven-what-is-the-runtime-scope-purpose\">this issue</a> talks a bit about the difference)</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2402475,"reputation":2164,"user_id":2099848,"accept_rate":76,"display_name":"Chaoz"},"score":0,"creation_date":1677816376,"post_id":75587996,"comment_id":133416097,"body_markdown":"This doesn&#39;t really answer the question - his dependency works fine, it&#39;s the IDE that fails.","body":"This doesn&#39;t really answer the question - his dependency works fine, it&#39;s the IDE that fails."},{"owner":{"account_id":22179694,"reputation":11,"user_id":16423599,"display_name":"gprem062"},"score":0,"creation_date":1678884855,"post_id":75587996,"comment_id":133619143,"body_markdown":"@Chaoz did you try this dependency instead of that one? Coz I was facing the same issue but this one works fine.","body":"@Chaoz did you try this dependency instead of that one? Coz I was facing the same issue but this one works fine."}],"tags":[],"owner":{"account_id":22179694,"reputation":11,"user_id":16423599,"display_name":"gprem062"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677559976,"creation_date":1677559976,"answer_id":75587996,"question_id":17563527,"body_markdown":"The issue is with javax vs jakarta\r\n\r\n\r\n----------\r\nTry using this dependency\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"import javax.xml.bind.annotation.XmlRootElement not resolved","body":"<p>The issue is with javax vs jakarta</p>\n<hr />\n<p>Try using this dependency</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":328638,"reputation":1655,"user_id":651714,"accept_rate":67,"display_name":"Nandish A"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22046,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":6,"score":14,"last_activity_date":1677559976,"creation_date":1373436471,"question_id":17563527,"body_markdown":"I am using intellij and my code uses\r\n\r\n`import javax.xml.bind.annotation.XmlRootElement;`\r\n\r\nIt compiles and runs when I use command line. However when tried running a test class using the ide(intellij), it gives the error\r\n \r\n` package javax.xml.bind.annotation does not exists`\r\n\r\nI have added the jaxb dependency in my pom.xml\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nWhat forces `intellij` not to detect this?","title":"import javax.xml.bind.annotation.XmlRootElement not resolved","body":"<p>I am using intellij and my code uses</p>\n\n<p><code>import javax.xml.bind.annotation.XmlRootElement;</code></p>\n\n<p>It compiles and runs when I use command line. However when tried running a test class using the ide(intellij), it gives the error</p>\n\n<p><code>package javax.xml.bind.annotation does not exists</code></p>\n\n<p>I have added the jaxb dependency in my pom.xml</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>What forces <code>intellij</code> not to detect this?</p>\n"},{"tags":["java","json","api","rest","spring-mvc"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1677489643,"post_id":75578582,"comment_id":133340764,"body_markdown":"That depends on the configurations of the underlying json library. Looks like you are using spring-boot, which normally comes with jackson. Edit your question to show the configuration of `ObjectMapper`.","body":"That depends on the configurations of the underlying json library. Looks like you are using spring-boot, which normally comes with jackson. Edit your question to show the configuration of <code>ObjectMapper</code>."},{"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"score":0,"creation_date":1677490490,"post_id":75578582,"comment_id":133340971,"body_markdown":"So you mean to say that I should use @JsonProperty(&quot;firstName&quot;) and @JsonProperty(&quot;lastName&quot;) explicitly on each field whichever I want it to be in camel-case? If that solves the issue then it&#39;s fine. Thanks.\nBut where can I check the configuration of ObjectMapper in my project?","body":"So you mean to say that I should use @JsonProperty(&quot;firstName&quot;) and @JsonProperty(&quot;lastName&quot;) explicitly on each field whichever I want it to be in camel-case? If that solves the issue then it&#39;s fine. Thanks. But where can I check the configuration of ObjectMapper in my project?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677491220,"post_id":75578582,"comment_id":133341180,"body_markdown":"@JohnSmith: [see here](https://www.baeldung.com/spring-boot-customize-jackson-objectmapper).","body":"@JohnSmith: <a href=\"https://www.baeldung.com/spring-boot-customize-jackson-objectmapper\" rel=\"nofollow noreferrer\">see here</a>."}],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677492940,"creation_date":1677492940,"answer_id":75579159,"question_id":75578582,"body_markdown":"Try to annotate your class (`SampleRequest`) with:\r\n```\r\n@JsonNaming(PropertyNamingStrategies.LowerCamelCaseStrategy.class)\r\n```","title":"Why camel-case fields are not recognized by API?","body":"<p>Try to annotate your class (<code>SampleRequest</code>) with:</p>\n<pre><code>@JsonNaming(PropertyNamingStrategies.LowerCamelCaseStrategy.class)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"score":1,"creation_date":1677560031,"post_id":75587987,"comment_id":133357377,"body_markdown":"Thanks, It solved the issue without much hassle. I didn&#39;t touch other fields in the request class because those are being used by other people. But I need to learn this configuration where can I set things properly without these annotations workaround.","body":"Thanks, It solved the issue without much hassle. I didn&#39;t touch other fields in the request class because those are being used by other people. But I need to learn this configuration where can I set things properly without these annotations workaround."}],"tags":[],"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677559864,"creation_date":1677559864,"answer_id":75587987,"question_id":75578582,"body_markdown":"Use like this for any field you want to in your request class:\r\n\r\n    @JsonProperty(&quot;firstName&quot;)\r\n    private string firstName;\r\n    \r\n    @JsonProperty(&quot;middleName&quot;)\r\n    private string middleName;\r\n\r\n    @JsonProperty(&quot;lastName&quot;)\r\n    private string lastName;","title":"Why camel-case fields are not recognized by API?","body":"<p>Use like this for any field you want to in your request class:</p>\n<pre><code>@JsonProperty(&quot;firstName&quot;)\nprivate string firstName;\n\n@JsonProperty(&quot;middleName&quot;)\nprivate string middleName;\n\n@JsonProperty(&quot;lastName&quot;)\nprivate string lastName;\n</code></pre>\n"}],"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677568379,"accepted_answer_id":75587987,"answer_count":2,"score":0,"last_activity_date":1677559864,"creation_date":1677489329,"question_id":75578582,"body_markdown":"I have defined my **request class** like:\r\n\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class SampleRequest {\r\n\r\n    @NotBlank\r\n    private String firstName;\r\n    \r\n    private String middleName;\r\n\r\n    @NotBlank\r\n    private String lastName;\r\n}\r\n```\r\n\r\n**Controller** as:\r\n\r\n```java\r\n    @PostMapping(path = &quot;mydetails&quot;,  consumes = {MediaType.APPLICATION_JSON_VALUE})\r\n    public DeferredResult&lt;DetailsResponse&gt; saveMyDetails(@Validated @RequestBody SampleRequest sampleRequest) {\r\n\r\n    \t// some logic here\r\n\r\n        return detailsResponse;\r\n    }\r\n```\r\n\r\nWhen I&#39;m sending my **request from Postman** as:\r\n\r\n```json\r\n{\r\n   &quot;firstName&quot;:&quot;John&quot;,\r\n   &quot;middleName&quot;:&quot;For&quot;,\r\n   &quot;lastName&quot;:&quot;Doe&quot;,\r\n}\r\n```\r\n\r\nthe value of all fields received at controller is null. Upon investigating, I found that it is somehow not accepting the fields in camel-case, rather it is accepting with underscore. So, I tried hitting the API with below format and it worked:\r\n\r\n```json\r\n{\r\n   &quot;first_name&quot;:&quot;John&quot;,\r\n   &quot;middle_name&quot;:&quot;For&quot;,\r\n   &quot;last_name&quot;:&quot;Doe&quot;,\r\n}\r\n```\r\n\r\nSo, why it is like this? Whatever fashion we defined in our request class, it should be same while sending the request from Postman or from app side. Why is it only working when I have to send with underscore instead of camel-case?","title":"Why camel-case fields are not recognized by API?","body":"<p>I have defined my <strong>request class</strong> like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class SampleRequest {\n\n    @NotBlank\n    private String firstName;\n    \n    private String middleName;\n\n    @NotBlank\n    private String lastName;\n}\n</code></pre>\n<p><strong>Controller</strong> as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(path = &quot;mydetails&quot;,  consumes = {MediaType.APPLICATION_JSON_VALUE})\n    public DeferredResult&lt;DetailsResponse&gt; saveMyDetails(@Validated @RequestBody SampleRequest sampleRequest) {\n\n        // some logic here\n\n        return detailsResponse;\n    }\n</code></pre>\n<p>When I'm sending my <strong>request from Postman</strong> as:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;firstName&quot;:&quot;John&quot;,\n   &quot;middleName&quot;:&quot;For&quot;,\n   &quot;lastName&quot;:&quot;Doe&quot;,\n}\n</code></pre>\n<p>the value of all fields received at controller is null. Upon investigating, I found that it is somehow not accepting the fields in camel-case, rather it is accepting with underscore. So, I tried hitting the API with below format and it worked:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;first_name&quot;:&quot;John&quot;,\n   &quot;middle_name&quot;:&quot;For&quot;,\n   &quot;last_name&quot;:&quot;Doe&quot;,\n}\n</code></pre>\n<p>So, why it is like this? Whatever fashion we defined in our request class, it should be same while sending the request from Postman or from app side. Why is it only working when I have to send with underscore instead of camel-case?</p>\n"},{"tags":["java","gradle","ibm-jdk"],"answers":[{"comments":[{"owner":{"account_id":2404502,"reputation":61,"user_id":2101374,"accept_rate":75,"display_name":"user2101374"},"score":0,"creation_date":1595511320,"post_id":63054907,"comment_id":111505156,"body_markdown":"We already tried. It seems since its using docker the parameter are not taking affect.","body":"We already tried. It seems since its using docker the parameter are not taking affect."},{"owner":{"account_id":13871965,"reputation":249,"user_id":10014806,"display_name":"Jared Anderson"},"score":0,"creation_date":1595873976,"post_id":63054907,"comment_id":111619607,"body_markdown":"After you added it did you run ./gradlew --stop to stop any running daemons?","body":"After you added it did you run ./gradlew --stop to stop any running daemons?"}],"tags":[],"owner":{"account_id":13871965,"reputation":249,"user_id":10014806,"display_name":"Jared Anderson"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595509229,"creation_date":1595509229,"answer_id":63054907,"question_id":63043520,"body_markdown":"Try updating your gradle.properties to have:\r\n\r\nsystemProp.com.ibm.jsse2.overrideDefaultTLS=true\r\n","title":"Gradle build using IBM JDK not using TLS 1.2","body":"<p>Try updating your gradle.properties to have:</p>\n<p>systemProp.com.ibm.jsse2.overrideDefaultTLS=true</p>\n"},{"tags":[],"owner":{"display_name":"user8295151"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677558838,"creation_date":1677558838,"answer_id":75587907,"question_id":63043520,"body_markdown":"In your exception stack, it was mentioned \r\n\r\n    &quot;16:39:49  jdk.tls.client.protocols is defined as TLSv1.2\r\n    16:39:49  **SSLv3 protocol was requested but was not enabled**&quot;\r\n\r\n\r\nand In your command line options it mentioned **&quot;-Djdk.tls.disabledAlgorithms=SSLv3,TLSv1,TLSv1.1&quot;** \r\n\r\ncan you try removing this property &quot;-Djdk.tls.disabledAlgorithms=SSLv3,TLSv1,TLSv1.1&quot; and test your application. \r\n","title":"Gradle build using IBM JDK not using TLS 1.2","body":"<p>In your exception stack, it was mentioned</p>\n<pre><code>&quot;16:39:49  jdk.tls.client.protocols is defined as TLSv1.2\n16:39:49  **SSLv3 protocol was requested but was not enabled**&quot;\n</code></pre>\n<p>and In your command line options it mentioned <strong>&quot;-Djdk.tls.disabledAlgorithms=SSLv3,TLSv1,TLSv1.1&quot;</strong></p>\n<p>can you try removing this property &quot;-Djdk.tls.disabledAlgorithms=SSLv3,TLSv1,TLSv1.1&quot; and test your application.</p>\n"}],"owner":{"account_id":2404502,"reputation":61,"user_id":2101374,"accept_rate":75,"display_name":"user2101374"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3868,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677558838,"creation_date":1595453514,"question_id":63043520,"body_markdown":"We are invoking gradle build from Jenkins and Java being used is IBM java 1.8. After the build is completed the packaged ear file is supposed to be published on Artifactory and thats where it fails because it is using TLSv1 whereas the artifactory server uses TLSv1.2 (RECV TLSv1.2 ALERT:  fatal, protocol_version). \r\nWe have specified parameters to try to force it to use TLSv1.2 but to no avail.\r\n\r\n\r\nIf we simply switch the Java from IBM java to OpenJDK everything works but we have to use IBM JDK.\r\n\r\nBelow is extract from logs, any insight would be appreciated.\r\n\r\n```16:37:27  JENKINS_URL=https://XXX:8080/ifs/\r\n16:37:27  BUILD_ID=52\r\n16:37:27  JAVA_TOOL_OPTIONS=-Duser.home=/home/jenkins -Dhttps.protocols=TLSv1.2 -Dcom.ibm.jsse2.overrideDefaultTLS=true -Dcom.ibm.jsse2.overrideDefaultProtocol=TLSv12 -Djdk.tls.client.protocols=TLSv1.2 -Djavax.net.debug=all -Djavax.net.debug=all  -Dcom.ibm.jsse2.disablesslv3=false -Djdk.tls.client.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Djdk.tls.disabledAlgorithms=SSLv3,TLSv1,TLSv1.1\r\n\r\n16:39:49  jdk.tls.client.protocols is defined as TLSv1.2\r\n16:39:49  SSLv3 protocol was requested but was not enabled\r\n16:39:49  SUPPORTED: [TLSv1, TLSv1.1, TLSv1.2]\r\n16:39:49  SERVER_DEFAULT: [TLSv1, TLSv1.1, TLSv1.2]\r\n16:39:49  CLIENT_DEFAULT: [TLSv1.2]\r\n16:39:49  IBMJSSE2 will allow RFC 5746 renegotiation per com.ibm.jsse2.renegotiate set to none or default\r\n16:39:49  IBMJSSE2 will not require renegotiation indicator during initial handshake per com.ibm.jsse2.renegotiation.indicator set to OPTIONAL or default taken\r\n16:39:49  IBMJSSE2 will not perform identity checking against the peer cert check during renegotiation per com.ibm.jsse2.renegotiation.peer.cert.check set to OFF or default\r\n16:39:49  IBMJSSE2 will allow client initiated renegotiation per jdk.tls.rejectClientInitiatedRenegotiation set to FALSE or default\r\n16:39:49  IBMJSSE2 will not allow unsafe server certificate change during renegotiation per jdk.tls.allowUnsafeServerCertChange set to FALSE or default\r\n16:39:49  \r\n16:39:49  Is initial handshake: true\r\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_RSA_WITH_AES_128_CBC_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDH_RSA_WITH_AES_128_CBC_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_DHE_RSA_WITH_AES_128_CBC_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_DHE_DSS_WITH_AES_128_CBC_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDHE_RSA_WITH_AES_128_GCM_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_RSA_WITH_AES_128_GCM_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDH_ECDSA_WITH_AES_128_GCM_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDH_RSA_WITH_AES_128_GCM_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_DHE_RSA_WITH_AES_128_GCM_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_DHE_DSS_WITH_AES_128_GCM_SHA256\r\n16:39:49  %% No cached client session\r\n16:39:49  *** ClientHello, TLSv1\r\n16:39:49  RandomCookie:  GMT: 1595384853 bytes = { 107, 178, 131, 155, 114, 248, 46, 134, 176, 84, 230, 191, 243, 124, 238, 63, 233, 106, 234, 197, 151, 26, 164, 199, 46, 116, 65, 30 }\r\n16:39:49  Session ID:  {}\r\n16:39:49  Cipher Suites: [TLS_EMPTY_RENEGOTIATION_INFO_SCSV, SSL_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, SSL_ECDHE_RSA_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_AES_128_CBC_SHA, SSL_ECDH_ECDSA_WITH_AES_128_CBC_SHA, SSL_ECDH_RSA_WITH_AES_128_CBC_SHA, SSL_DHE_RSA_WITH_AES_128_CBC_SHA, SSL_DHE_DSS_WITH_AES_128_CBC_SHA]\r\n16:39:49  Compression Methods:  { 0 }\r\n16:39:49  Extension elliptic_curves, curve names: {secp256r1, secp192r1, secp224r1, secp384r1, secp521r1, secp160k1, secp160r1, secp160r2, secp192k1, secp224k1, secp256k1}\r\n16:39:49  Extension ec_point_formats, formats: [uncompressed]\r\n16:39:49  Extension server_name, server_name: [type=host_name (0), value=artifactory..xxx.xxx]\r\n16:39:49  ***\r\n16:39:49  [write] MD5 and SHA1 hashes:  len = 123\r\n\r\n16:39:49  [Raw read]: length = 2\r\n16:39:49  0000: 02 46                                              .F\r\n16:39:49  \r\n16:39:49  pool-1-thread-1, READ: TLSv1 Alert, length = 2\r\n16:39:49  pool-1-thread-1, RECV TLSv1.2 ALERT:  fatal, protocol_version\r\n**16:39:49  pool-1-thread-1, called closeSocket()\r\n16:39:49  pool-1-thread-1, handling exception: javax.net.ssl.SSLException: Received fatal alert: protocol_version\r\n16:39:49  Error occurred for request GET /artifactory/api/system/version HTTP/1.1: Received fatal alert: protocol_version.**```\r\n\r\n\r\n","title":"Gradle build using IBM JDK not using TLS 1.2","body":"<p>We are invoking gradle build from Jenkins and Java being used is IBM java 1.8. After the build is completed the packaged ear file is supposed to be published on Artifactory and thats where it fails because it is using TLSv1 whereas the artifactory server uses TLSv1.2 (RECV TLSv1.2 ALERT:  fatal, protocol_version).\nWe have specified parameters to try to force it to use TLSv1.2 but to no avail.</p>\n<p>If we simply switch the Java from IBM java to OpenJDK everything works but we have to use IBM JDK.</p>\n<p>Below is extract from logs, any insight would be appreciated.</p>\n<pre><code>16:37:27  BUILD_ID=52\n16:37:27  JAVA_TOOL_OPTIONS=-Duser.home=/home/jenkins -Dhttps.protocols=TLSv1.2 -Dcom.ibm.jsse2.overrideDefaultTLS=true -Dcom.ibm.jsse2.overrideDefaultProtocol=TLSv12 -Djdk.tls.client.protocols=TLSv1.2 -Djavax.net.debug=all -Djavax.net.debug=all  -Dcom.ibm.jsse2.disablesslv3=false -Djdk.tls.client.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Djdk.tls.disabledAlgorithms=SSLv3,TLSv1,TLSv1.1\n\n16:39:49  jdk.tls.client.protocols is defined as TLSv1.2\n16:39:49  SSLv3 protocol was requested but was not enabled\n16:39:49  SUPPORTED: [TLSv1, TLSv1.1, TLSv1.2]\n16:39:49  SERVER_DEFAULT: [TLSv1, TLSv1.1, TLSv1.2]\n16:39:49  CLIENT_DEFAULT: [TLSv1.2]\n16:39:49  IBMJSSE2 will allow RFC 5746 renegotiation per com.ibm.jsse2.renegotiate set to none or default\n16:39:49  IBMJSSE2 will not require renegotiation indicator during initial handshake per com.ibm.jsse2.renegotiation.indicator set to OPTIONAL or default taken\n16:39:49  IBMJSSE2 will not perform identity checking against the peer cert check during renegotiation per com.ibm.jsse2.renegotiation.peer.cert.check set to OFF or default\n16:39:49  IBMJSSE2 will allow client initiated renegotiation per jdk.tls.rejectClientInitiatedRenegotiation set to FALSE or default\n16:39:49  IBMJSSE2 will not allow unsafe server certificate change during renegotiation per jdk.tls.allowUnsafeServerCertChange set to FALSE or default\n16:39:49  \n16:39:49  Is initial handshake: true\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDHE_RSA_WITH_AES_128_CBC_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_RSA_WITH_AES_128_CBC_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDH_RSA_WITH_AES_128_CBC_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_DHE_RSA_WITH_AES_128_CBC_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_DHE_DSS_WITH_AES_128_CBC_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDHE_RSA_WITH_AES_128_GCM_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_RSA_WITH_AES_128_GCM_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDH_ECDSA_WITH_AES_128_GCM_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDH_RSA_WITH_AES_128_GCM_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_DHE_RSA_WITH_AES_128_GCM_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_DHE_DSS_WITH_AES_128_GCM_SHA256\n16:39:49  %% No cached client session\n16:39:49  *** ClientHello, TLSv1\n16:39:49  RandomCookie:  GMT: 1595384853 bytes = { 107, 178, 131, 155, 114, 248, 46, 134, 176, 84, 230, 191, 243, 124, 238, 63, 233, 106, 234, 197, 151, 26, 164, 199, 46, 116, 65, 30 }\n16:39:49  Session ID:  {}\n16:39:49  Cipher Suites: [TLS_EMPTY_RENEGOTIATION_INFO_SCSV, SSL_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, SSL_ECDHE_RSA_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_AES_128_CBC_SHA, SSL_ECDH_ECDSA_WITH_AES_128_CBC_SHA, SSL_ECDH_RSA_WITH_AES_128_CBC_SHA, SSL_DHE_RSA_WITH_AES_128_CBC_SHA, SSL_DHE_DSS_WITH_AES_128_CBC_SHA]\n16:39:49  Compression Methods:  { 0 }\n16:39:49  Extension elliptic_curves, curve names: {secp256r1, secp192r1, secp224r1, secp384r1, secp521r1, secp160k1, secp160r1, secp160r2, secp192k1, secp224k1, secp256k1}\n16:39:49  Extension ec_point_formats, formats: [uncompressed]\n16:39:49  Extension server_name, server_name: [type=host_name (0), value=artifactory..xxx.xxx]\n16:39:49  ***\n16:39:49  [write] MD5 and SHA1 hashes:  len = 123\n\n16:39:49  [Raw read]: length = 2\n16:39:49  0000: 02 46                                              .F\n16:39:49  \n16:39:49  pool-1-thread-1, READ: TLSv1 Alert, length = 2\n16:39:49  pool-1-thread-1, RECV TLSv1.2 ALERT:  fatal, protocol_version\n**16:39:49  pool-1-thread-1, called closeSocket()\n16:39:49  pool-1-thread-1, handling exception: javax.net.ssl.SSLException: Received fatal alert: protocol_version\n16:39:49  Error occurred for request GET /artifactory/api/system/version HTTP/1.1: Received fatal alert: protocol_version.**```\n\n\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"score":0,"creation_date":1677556362,"post_id":75587673,"comment_id":133356945,"body_markdown":"The error message &quot;INSTALL_PARSE_FAILED_MANIFEST_MALFORMED&quot; indicates that there is an issue with the manifest file of your application. The manifest file is an important XML file that describes the structure and properties of your application.","body":"The error message &quot;INSTALL_PARSE_FAILED_MANIFEST_MALFORMED&quot; indicates that there is an issue with the manifest file of your application. The manifest file is an important XML file that describes the structure and properties of your application."},{"owner":{"account_id":9942213,"reputation":78,"user_id":7358409,"display_name":"Vineeth_Bhanukoti"},"score":1,"creation_date":1677558049,"post_id":75587673,"comment_id":133357152,"body_markdown":"@Mike087 My assumption is if there is an error in Manifest file then the same error should be shown for any device on which i am trying to install the app, but that is not the case here.","body":"@Mike087 My assumption is if there is an error in Manifest file then the same error should be shown for any device on which i am trying to install the app, but that is not the case here."},{"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"score":0,"creation_date":1677559475,"post_id":75587673,"comment_id":133357310,"body_markdown":"Move the &lt;queries&gt; tag inside the &lt;application&gt; tag and try.","body":"Move the &lt;queries&gt; tag inside the &lt;application&gt; tag and try."},{"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"score":0,"creation_date":1677559586,"post_id":75587673,"comment_id":133357319,"body_markdown":"Can you change device, if it works on other device.. then there will be a problem with developer tools,, just disable developer options and renable it. you can also restart device","body":"Can you change device, if it works on other device.. then there will be a problem with developer tools,, just disable developer options and renable it. you can also restart device"}],"answers":[{"tags":[],"owner":{"account_id":17274393,"reputation":33,"user_id":12509319,"display_name":"Pawandeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677556256,"creation_date":1677556256,"answer_id":75587709,"question_id":75587673,"body_markdown":"From error it looks like the problem is with your Manifest file try the following solutions maybe it could help:\r\n\r\n1 - Make sure all required attribs are there in manifest file, such as the package name, application name, and permissions.\r\n\r\n2 -  Make sure that the manifest file is well-formed and that all elements and attributes are properly formatted and closed.\r\n\r\n3 - Make sure min and target sdk versions are compatible.\r\n\r\n4 - Check if there are any duplicate permissions.\r\n","title":"Unable to install apps after phone update android studio","body":"<p>From error it looks like the problem is with your Manifest file try the following solutions maybe it could help:</p>\n<p>1 - Make sure all required attribs are there in manifest file, such as the package name, application name, and permissions.</p>\n<p>2 -  Make sure that the manifest file is well-formed and that all elements and attributes are properly formatted and closed.</p>\n<p>3 - Make sure min and target sdk versions are compatible.</p>\n<p>4 - Check if there are any duplicate permissions.</p>\n"},{"comments":[{"owner":{"account_id":9942213,"reputation":78,"user_id":7358409,"display_name":"Vineeth_Bhanukoti"},"score":0,"creation_date":1677558849,"post_id":75587829,"comment_id":133357247,"body_markdown":"I have written exported=true on all activities as suggested and my manifest file is also attached for reference","body":"I have written exported=true on all activities as suggested and my manifest file is also attached for reference"}],"tags":[],"owner":{"account_id":25931969,"reputation":398,"user_id":19652887,"display_name":"M Ashhal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677557756,"creation_date":1677557756,"answer_id":75587829,"question_id":75587673,"body_markdown":"First thing I would suggest is you update your Android Studio (4.1.1) as mentioned in your question, 4.1.1 is over 2 years old now.\r\n\r\nSecond thing is you should look into your AndroidManifest.xml file as `INSTALL_PARSE_FAILED_MANIFEST_MALFORMED` indicated there is an issue in your manifest. Make sure each one of your `&lt;activity...&gt;` or `&lt;service...&gt;` tag has `android:exported=true` or `android:exported=false` attribute.\r\n\r\nThird thing would be that you edit your question with your manifest so other people can look at it and give suggestions according to it.\r\n\r\nAlso checkout https://stackoverflow.com/questions/6056564/installation-error-install-parse-failed-manifest-malformed to check for yourself","title":"Unable to install apps after phone update android studio","body":"<p>First thing I would suggest is you update your Android Studio (4.1.1) as mentioned in your question, 4.1.1 is over 2 years old now.</p>\n<p>Second thing is you should look into your AndroidManifest.xml file as <code>INSTALL_PARSE_FAILED_MANIFEST_MALFORMED</code> indicated there is an issue in your manifest. Make sure each one of your <code>&lt;activity...&gt;</code> or <code>&lt;service...&gt;</code> tag has <code>android:exported=true</code> or <code>android:exported=false</code> attribute.</p>\n<p>Third thing would be that you edit your question with your manifest so other people can look at it and give suggestions according to it.</p>\n<p>Also checkout <a href=\"https://stackoverflow.com/questions/6056564/installation-error-install-parse-failed-manifest-malformed\">Installation error: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED?</a> to check for yourself</p>\n"}],"owner":{"account_id":9942213,"reputation":78,"user_id":7358409,"display_name":"Vineeth_Bhanukoti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677558783,"creation_date":1677555852,"question_id":75587673,"body_markdown":"Problem: I am working on developing an application in android studio, and was able to install application on my physical device(One plus nord) up until recently when i downloaded and installed a new software update on my phone. Since then i am not able to install any application through android studio and i get an error:\r\n\r\n    Installation did not succeed.\r\n    The application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED\r\n    \r\n    List of apks:\r\n    [0] &#39;D:\\Users\\vinee\\Android Studio Apps\\ParkingSystem\\app\\build\\outputs\\apk\\debug\\app-debug.apk&#39;\r\n    Installation failed due to: &#39;null&#39;\r\nevery time i try to install the application on my device.\r\nWhat I have done: I have tried various solution from including an installation flag -r -t to changing the project name to all small letters and cleaning and building the project again. Doing all this i could figure out the exact cause of this problem.\r\n\r\nThe same application is installed onto a same company phone with yet to be updated software(One plus 9pro) and the same problem follows with my previously finished project which ran on all devices, so it would not be an issue with the build of the project and yes i the application is installing and running on all my virtual devices.\r\n\r\nThere is no issue with the USB cable, USB debugging is turned on and there appears to be no option to enable install from unknown sources on my phone(old or new), also not able to revert back to the previous software version in my phone.\r\n\r\nDevice details:\r\nAndroid studio:4.1.1\r\nOne plus Nord: Android 12 \r\nOne plus 9 Pro: Android 11.\r\n\r\nBuild details:\r\n\r\n    android {\r\n    compileSdkVersion 33\r\n    buildToolsVersion &quot;32.0.0&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.parkingsystem&quot;\r\n        minSdkVersion 24\r\n        targetSdkVersion 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        multiDexEnabled true\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\n \r\n\r\nI have been trying to resolve this issue i even changed the sdk version to 33 from 32, changing buildtool vesion to 33.0.0 yeilds an error that it is corrupted.\r\n\r\nWhat can be done to resolve this issue?\r\n\r\nThank you.\r\n\r\nEdited: my manifest file.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.parkingsystem&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n        &lt;queries&gt;\r\n            &lt;package android:name=&quot;com.google.android.apps.maps&quot;/&gt;\r\n        &lt;/queries&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:hardwareAccelerated=&quot;false&quot;\r\n            android:icon=&quot;@mipmap/launcher_logo&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:largeHeap=&quot;true&quot;\r\n            android:roundIcon=&quot;@mipmap/launcher_logo&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.ParkingSystem&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n                android:value=&quot;@string/google_maps_key&quot; /&gt;\r\n    \r\n            &lt;activity android:name=&quot;.vehicle_type_selection&quot;\r\n                android:exported=&quot;true&quot;/&gt;\r\n            &lt;activity android:name=&quot;.registration&quot;\r\n                android:exported=&quot;true&quot;/&gt;\r\n            &lt;activity android:name=&quot;.otpverificationactivity&quot;\r\n                android:exported=&quot;true&quot;/&gt;\r\n            &lt;activity\r\n                android:name=&quot;.homeactivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/Theme.ParkingSystem.NoActionBar&quot;\r\n                android:exported=&quot;true&quot;/&gt;\r\n            &lt;activity android:name=&quot;.mainactivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;","title":"Unable to install apps after phone update android studio","body":"<p>Problem: I am working on developing an application in android studio, and was able to install application on my physical device(One plus nord) up until recently when i downloaded and installed a new software update on my phone. Since then i am not able to install any application through android studio and i get an error:</p>\n<pre><code>Installation did not succeed.\nThe application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED\n\nList of apks:\n[0] 'D:\\Users\\vinee\\Android Studio Apps\\ParkingSystem\\app\\build\\outputs\\apk\\debug\\app-debug.apk'\nInstallation failed due to: 'null'\n</code></pre>\n<p>every time i try to install the application on my device.\nWhat I have done: I have tried various solution from including an installation flag -r -t to changing the project name to all small letters and cleaning and building the project again. Doing all this i could figure out the exact cause of this problem.</p>\n<p>The same application is installed onto a same company phone with yet to be updated software(One plus 9pro) and the same problem follows with my previously finished project which ran on all devices, so it would not be an issue with the build of the project and yes i the application is installing and running on all my virtual devices.</p>\n<p>There is no issue with the USB cable, USB debugging is turned on and there appears to be no option to enable install from unknown sources on my phone(old or new), also not able to revert back to the previous software version in my phone.</p>\n<p>Device details:\nAndroid studio:4.1.1\nOne plus Nord: Android 12\nOne plus 9 Pro: Android 11.</p>\n<p>Build details:</p>\n<pre><code>android {\ncompileSdkVersion 33\nbuildToolsVersion &quot;32.0.0&quot;\n\ndefaultConfig {\n    applicationId &quot;com.example.parkingsystem&quot;\n    minSdkVersion 24\n    targetSdkVersion 33\n    versionCode 1\n    versionName &quot;1.0&quot;\n    multiDexEnabled true\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n<p>}</p>\n<p>I have been trying to resolve this issue i even changed the sdk version to 33 from 32, changing buildtool vesion to 33.0.0 yeilds an error that it is corrupted.</p>\n<p>What can be done to resolve this issue?</p>\n<p>Thank you.</p>\n<p>Edited: my manifest file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.parkingsystem&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;queries&gt;\n        &lt;package android:name=&quot;com.google.android.apps.maps&quot;/&gt;\n    &lt;/queries&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:hardwareAccelerated=&quot;false&quot;\n        android:icon=&quot;@mipmap/launcher_logo&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:largeHeap=&quot;true&quot;\n        android:roundIcon=&quot;@mipmap/launcher_logo&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.ParkingSystem&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\n            android:value=&quot;@string/google_maps_key&quot; /&gt;\n\n        &lt;activity android:name=&quot;.vehicle_type_selection&quot;\n            android:exported=&quot;true&quot;/&gt;\n        &lt;activity android:name=&quot;.registration&quot;\n            android:exported=&quot;true&quot;/&gt;\n        &lt;activity android:name=&quot;.otpverificationactivity&quot;\n            android:exported=&quot;true&quot;/&gt;\n        &lt;activity\n            android:name=&quot;.homeactivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:theme=&quot;@style/Theme.ParkingSystem.NoActionBar&quot;\n            android:exported=&quot;true&quot;/&gt;\n        &lt;activity android:name=&quot;.mainactivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1677557465,"post_id":75587801,"comment_id":133357090,"body_markdown":"What makes you think a `BottomNavigationView` supports action layouts (it doesn&#39;t)?","body":"What makes you think a <code>BottomNavigationView</code> supports action layouts (it doesn&#39;t)?"},{"owner":{"account_id":19123704,"reputation":83,"user_id":18395575,"display_name":"VUELOVER"},"score":0,"creation_date":1677557544,"post_id":75587801,"comment_id":133357101,"body_markdown":"What is another way to use my own custom item design for BottomNavigation? @ianhanniballake","body":"What is another way to use my own custom item design for BottomNavigation? @ianhanniballake"}],"owner":{"account_id":19123704,"reputation":83,"user_id":18395575,"display_name":"VUELOVER"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677557384,"creation_date":1677557384,"question_id":75587801,"body_markdown":"I&#39;m creating a BottomNavigation in Android. I&#39;m trying to put my own custom designs for each item within the BottomNavigation. For that, I have created a layout design of the item I want to show. I added that layout in the item with the help of menu xml using actionLayout. After all the code my layout is showing correctly within the menu xml but its not showing in the activity BottomNavigation. Here is my problem and code :\r\n\r\n\r\n[Screenshot of main activity where the item design is not displaying][2]\r\n\r\n\r\n[Screenshot of Menu XML where I&#39;m seeing the design][3]\r\n\r\nHere is my code -\r\n\r\n**MainActivity.xml** \r\n\r\n`````\r\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bott_nav&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_marginStart=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:background=&quot;@drawable/bottom_nav_bg&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        app:menu=&quot;@menu/navmenu&quot;/&gt;\r\n`````\r\n\r\n**navmenu.xml**\r\n\r\n`````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/home&quot;\r\n        android:title=&quot;Home&quot;\r\n        app:showAsAction=&quot;always&quot;\r\n        app:actionLayout=&quot;@layout/item_home&quot;/&gt;\r\n  \r\n\r\n&lt;/menu&gt;\r\n`````\r\n\r\n**item_home.xml** (Item custom layout)\r\n\r\n`````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:background=&quot;@drawable/bg_full_rounded&quot;\r\n    android:gravity=&quot;center_vertical&quot;\r\n    android:paddingStart=&quot;@dimen/_5sdp&quot;\r\n    android:paddingEnd=&quot;@dimen/_5sdp&quot;\r\n    android:backgroundTint=&quot;@color/itemTranBg&quot;\r\n    android:paddingTop=&quot;@dimen/_3sdp&quot;\r\n    android:paddingBottom=&quot;@dimen/_3sdp&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;@dimen/_15sdp&quot;\r\n        android:layout_height=&quot;@dimen/_15sdp&quot;\r\n        android:src=&quot;@drawable/ic_homeicon&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textColor=&quot;@color/primaryDark&quot;\r\n        android:layout_marginStart=&quot;@dimen/_5sdp&quot;\r\n        android:text=&quot;Home&quot;/&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n`````\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/9vwbB.jpg\r\n  [3]: https://i.stack.imgur.com/sAKd4.jpg","title":"Why actionLayout is not working in BottomNavigation?","body":"<p>I'm creating a BottomNavigation in Android. I'm trying to put my own custom designs for each item within the BottomNavigation. For that, I have created a layout design of the item I want to show. I added that layout in the item with the help of menu xml using actionLayout. After all the code my layout is showing correctly within the menu xml but its not showing in the activity BottomNavigation. Here is my problem and code :</p>\n<p><a href=\"https://i.stack.imgur.com/9vwbB.jpg\" rel=\"nofollow noreferrer\">Screenshot of main activity where the item design is not displaying</a></p>\n<p><a href=\"https://i.stack.imgur.com/sAKd4.jpg\" rel=\"nofollow noreferrer\">Screenshot of Menu XML where I'm seeing the design</a></p>\n<p>Here is my code -</p>\n<p><strong>MainActivity.xml</strong></p>\n<pre><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bott_nav&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginEnd=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:background=&quot;@drawable/bottom_nav_bg&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        app:menu=&quot;@menu/navmenu&quot;/&gt;\n</code></pre>\n<p><strong>navmenu.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;item\n        android:id=&quot;@+id/home&quot;\n        android:title=&quot;Home&quot;\n        app:showAsAction=&quot;always&quot;\n        app:actionLayout=&quot;@layout/item_home&quot;/&gt;\n  \n\n&lt;/menu&gt;\n</code></pre>\n<p><strong>item_home.xml</strong> (Item custom layout)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:background=&quot;@drawable/bg_full_rounded&quot;\n    android:gravity=&quot;center_vertical&quot;\n    android:paddingStart=&quot;@dimen/_5sdp&quot;\n    android:paddingEnd=&quot;@dimen/_5sdp&quot;\n    android:backgroundTint=&quot;@color/itemTranBg&quot;\n    android:paddingTop=&quot;@dimen/_3sdp&quot;\n    android:paddingBottom=&quot;@dimen/_3sdp&quot;&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;@dimen/_15sdp&quot;\n        android:layout_height=&quot;@dimen/_15sdp&quot;\n        android:src=&quot;@drawable/ic_homeicon&quot;/&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textColor=&quot;@color/primaryDark&quot;\n        android:layout_marginStart=&quot;@dimen/_5sdp&quot;\n        android:text=&quot;Home&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","android","apk","android-virtual-device","logcat"],"owner":{"account_id":17099280,"reputation":9,"user_id":12373588,"display_name":"motrait"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677556141,"creation_date":1677503703,"question_id":75580957,"body_markdown":"I&#39;m just getting started with android studio. To get familliar with the environment I installed a few apps in the avd and some of these aren&#39;t working. Tiktok is one of these. \r\nThis app starts then immediately crashes. The logcat output is about 30k lines and I don&#39;t know where to start looking for the issue. This app seems to have worked perfectly fine in a Mac AVD. But doesn&#39;t work on my AMD system on either Linux or Windows AVD. Could this be a CPU architecture issue? How do I fix this? \r\n\r\nI expected the app to work like it did on mac","title":"Apk crashes in AVD","body":"<p>I'm just getting started with android studio. To get familliar with the environment I installed a few apps in the avd and some of these aren't working. Tiktok is one of these.\nThis app starts then immediately crashes. The logcat output is about 30k lines and I don't know where to start looking for the issue. This app seems to have worked perfectly fine in a Mac AVD. But doesn't work on my AMD system on either Linux or Windows AVD. Could this be a CPU architecture issue? How do I fix this?</p>\n<p>I expected the app to work like it did on mac</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7541229,"reputation":411,"user_id":5725745,"display_name":"Harshil Kulkarni"},"score":0,"creation_date":1519642911,"post_id":48986902,"comment_id":84978284,"body_markdown":"please post your code","body":"please post your code"},{"owner":{"account_id":12091643,"reputation":812,"user_id":8837516,"accept_rate":75,"display_name":"Adil"},"score":0,"creation_date":1519643386,"post_id":48986902,"comment_id":84978617,"body_markdown":"you need to develop web service  at server side and from webservice you can redirect directly login page in webview","body":"you need to develop web service  at server side and from webservice you can redirect directly login page in webview"},{"owner":{"account_id":9115126,"reputation":139,"user_id":6782471,"display_name":"Dinesh S"},"score":0,"creation_date":1519643768,"post_id":48986902,"comment_id":84978871,"body_markdown":"Bro I want to enter username and password programmatically in webview page","body":"Bro I want to enter username and password programmatically in webview page"},{"owner":{"account_id":4642722,"reputation":1461,"user_id":3762067,"display_name":"Varad Mondkar"},"score":0,"creation_date":1519645327,"post_id":48986902,"comment_id":84979849,"body_markdown":"So do you want to populate username and password and submit it automatically (without any user intervention)?","body":"So do you want to populate username and password and submit it automatically (without any user intervention)?"},{"owner":{"account_id":9115126,"reputation":139,"user_id":6782471,"display_name":"Dinesh S"},"score":0,"creation_date":1519645968,"post_id":48986902,"comment_id":84980226,"body_markdown":"Yes Bro thats it","body":"Yes Bro thats it"},{"owner":{"account_id":14114012,"reputation":494,"user_id":10196165,"display_name":"abhishek maharajpet"},"score":0,"creation_date":1552037619,"post_id":48986902,"comment_id":96868862,"body_markdown":"Hey @DineshS did you find out the solution to this? Even I am trying to login to a website but not happening.","body":"Hey @DineshS did you find out the solution to this? Even I am trying to login to a website but not happening."}],"answers":[{"comments":[{"owner":{"account_id":9115126,"reputation":139,"user_id":6782471,"display_name":"Dinesh S"},"score":0,"creation_date":1519646001,"post_id":48987202,"comment_id":84980249,"body_markdown":"Thanks bro for your answer","body":"Thanks bro for your answer"},{"owner":{"account_id":14114012,"reputation":494,"user_id":10196165,"display_name":"abhishek maharajpet"},"score":1,"creation_date":1552037506,"post_id":48987202,"comment_id":96868806,"body_markdown":"This did not work for me. It showed a blank while screen with my username. my username should actually be seen in the username field","body":"This did not work for me. It showed a blank while screen with my username. my username should actually be seen in the username field"},{"owner":{"account_id":9115126,"reputation":139,"user_id":6782471,"display_name":"Dinesh S"},"score":0,"creation_date":1555423014,"post_id":48987202,"comment_id":98100544,"body_markdown":"Try to use document.getElementById","body":"Try to use document.getElementById"},{"owner":{"account_id":5975681,"reputation":1582,"user_id":4696610,"display_name":"Ravi Vaniya"},"score":0,"creation_date":1577254539,"post_id":48987202,"comment_id":105129256,"body_markdown":"@DineshS ,  even after using `document.getElementById` , i am facing same issue just like @abhishekmaharajpet","body":"@DineshS ,  even after using <code>document.getElementById</code> , i am facing same issue just like @abhishekmaharajpet"},{"owner":{"account_id":10859520,"reputation":91,"user_id":7984777,"display_name":"Rahul Pathak"},"score":0,"creation_date":1625296895,"post_id":48987202,"comment_id":120594693,"body_markdown":"in javascript:document.forms[&#39;Login&#39;].submit()&quot;)  what is &#39;Login&#39; for Abhinay Sharma","body":"in javascript:document.forms[&#39;Login&#39;].submit()&quot;)  what is &#39;Login&#39; for Abhinay Sharma"}],"tags":[],"owner":{"account_id":7209433,"reputation":178,"user_id":5504032,"display_name":"Abhinay Sharma"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519643676,"creation_date":1519643676,"answer_id":48987202,"question_id":48986902,"body_markdown":"step 1) first of all enable javascript in your webview\r\n\r\nstep 2) on onPageFinished using javascript autofill username and password field and generate click on login button \r\n\r\n    wv.loadUrl(&quot;javascript:document.getElementsByName(&#39;Username&#39;).value = &#39;abc&#39;&quot;);\r\n    wv.loadUrl(&quot;javascript:document.getElementsByName(&#39;Pass&#39;).value = &#39;xyz&#39;&quot;);\r\n    wv.loadUrl(&quot;javascript:document.forms[&#39;Login&#39;].submit()&quot;);\r\n\r\n","title":"how to automatically login the website in webview?","body":"<p>step 1) first of all enable javascript in your webview</p>\n\n<p>step 2) on onPageFinished using javascript autofill username and password field and generate click on login button </p>\n\n<pre><code>wv.loadUrl(\"javascript:document.getElementsByName('Username').value = 'abc'\");\nwv.loadUrl(\"javascript:document.getElementsByName('Pass').value = 'xyz'\");\nwv.loadUrl(\"javascript:document.forms['Login'].submit()\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17854834,"reputation":1,"user_id":21301502,"display_name":"jerry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677555459,"creation_date":1677555459,"answer_id":75587643,"question_id":48986902,"body_markdown":"This explanation helped me.\r\nhttps://stackoverflow.com/questions/10187908/fill-form-in-webview-with-javascript?noredirect=1&amp;lq=1 \r\n\r\n    view.evaluateJavascript(js, new ValueCallback&lt;String&gt;() {\r\n                    @Override\r\n                    public void onReceiveValue(String s) {\r\n                    }\r\n\r\ninstead of \r\n\r\n    view.loadUrl(js);\r\n\r\nwhich is the answer I found everywhere else.","title":"how to automatically login the website in webview?","body":"<p>This explanation helped me.\n<a href=\"https://stackoverflow.com/questions/10187908/fill-form-in-webview-with-javascript?noredirect=1&amp;lq=1\">Fill form in WebView with Javascript</a></p>\n<pre><code>view.evaluateJavascript(js, new ValueCallback&lt;String&gt;() {\n                @Override\n                public void onReceiveValue(String s) {\n                }\n</code></pre>\n<p>instead of</p>\n<pre><code>view.loadUrl(js);\n</code></pre>\n<p>which is the answer I found everywhere else.</p>\n"}],"owner":{"account_id":9115126,"reputation":139,"user_id":6782471,"display_name":"Dinesh S"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6244,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677555459,"creation_date":1519642768,"question_id":48986902,"body_markdown":"In my app I am having webview to load web pages Now I want to automatically login to the website loaded in the webview eg:Facebook.Help me to solve this.I am using Android Studio to develop app.\r\nThis is my code.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    EditText url;\r\n    Button go;\r\n    WebView webView;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        webView=(WebView)findViewById(R.id.wv);\r\n        url=(EditText)findViewById(R.id.urlEdit);\r\n        go=(Button)findViewById(R.id.goBut);\r\n        webview.setWebViewClient(new WebViewClient());\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        go.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                theWebsite=url.getText().toString();\r\n                webView.loadUrl(theWebsite);\r\n            }\r\n        });\r\n\r\n","title":"how to automatically login the website in webview?","body":"<p>In my app I am having webview to load web pages Now I want to automatically login to the website loaded in the webview eg:Facebook.Help me to solve this.I am using Android Studio to develop app.\nThis is my code.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\nEditText url;\nButton go;\nWebView webView;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    webView=(WebView)findViewById(R.id.wv);\n    url=(EditText)findViewById(R.id.urlEdit);\n    go=(Button)findViewById(R.id.goBut);\n    webview.setWebViewClient(new WebViewClient());\n    webView.getSettings().setJavaScriptEnabled(true);\n    go.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            theWebsite=url.getText().toString();\n            webView.loadUrl(theWebsite);\n        }\n    });\n</code></pre>\n"},{"tags":["java","rule-engine","mvel","easy-rules"],"owner":{"account_id":20658742,"reputation":26,"user_id":15167167,"display_name":"cheng gen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677554475,"creation_date":1677554475,"question_id":75587576,"body_markdown":"Recently, our business requires the configurable calculation for delivery cost.I searched resolutions from net, the Easy Rule is recommended. I studied it, and chose MVELRule. But it executes unexpectedly.\r\n\r\nmycode: \r\n\r\n```\r\n        int price = 10;\r\n        Rule rule = new MVELRule()\r\n                .name(&quot;rule engine test&quot;)\r\n                .description(&quot;rule engine test&quot;)\r\n                .when(&quot;6 &gt; 5&quot;)\r\n                .then(&quot;price = 100;&quot;);\r\n\r\n        Facts facts = new Facts();\r\n        facts.put(&quot;price&quot;, price);\r\n\r\n        Rules rules = new Rules();\r\n        rules.register(rule);\r\n\r\n        RulesEngine rulesEngine = new DefaultRulesEngine();\r\n        rulesEngine.fire(rules, facts);\r\n        System.out.println(facts); // output: [Fact{name=&#39;price&#39;, value=10}]\r\n```\r\nThe varible `price` did not change.I changed the type from int to Integer, but it makes no differences.\r\nI tried putting the varible in map or the concrete pojo, and it worked. The code goes:\r\n\r\n```\r\n        Rule rule = new MVELRule()\r\n                .name(&quot;rule engine test&quot;)\r\n                .description(&quot;rule engine test&quot;)\r\n                .when(&quot;6 &gt; 5&quot;)\r\n                .then(&quot;map.price = 100;&quot;);\r\n\r\n        Facts facts = new Facts();\r\n        HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;price&quot;, 10);\r\n        \r\n        facts.put(&quot;map&quot;, map);\r\n        Rules rules = new Rules();\r\n        rules.register(rule);\r\n\r\n        RulesEngine rulesEngine = new DefaultRulesEngine();\r\n        rulesEngine.fire(rules, facts);\r\n        System.out.println(facts); // output: [Fact{name=&#39;map&#39;, value={price=100}}]\r\n```\r\nAlthough the latter worked fine, the expression is more complicated. So, I want to know why the former didn&#39;t work, and what should I do if I want to insist the former.","title":"java Easy Rule - MVELRule does not work in case of primitive type","body":"<p>Recently, our business requires the configurable calculation for delivery cost.I searched resolutions from net, the Easy Rule is recommended. I studied it, and chose MVELRule. But it executes unexpectedly.</p>\n<p>mycode:</p>\n<pre><code>        int price = 10;\n        Rule rule = new MVELRule()\n                .name(&quot;rule engine test&quot;)\n                .description(&quot;rule engine test&quot;)\n                .when(&quot;6 &gt; 5&quot;)\n                .then(&quot;price = 100;&quot;);\n\n        Facts facts = new Facts();\n        facts.put(&quot;price&quot;, price);\n\n        Rules rules = new Rules();\n        rules.register(rule);\n\n        RulesEngine rulesEngine = new DefaultRulesEngine();\n        rulesEngine.fire(rules, facts);\n        System.out.println(facts); // output: [Fact{name='price', value=10}]\n</code></pre>\n<p>The varible <code>price</code> did not change.I changed the type from int to Integer, but it makes no differences.\nI tried putting the varible in map or the concrete pojo, and it worked. The code goes:</p>\n<pre><code>        Rule rule = new MVELRule()\n                .name(&quot;rule engine test&quot;)\n                .description(&quot;rule engine test&quot;)\n                .when(&quot;6 &gt; 5&quot;)\n                .then(&quot;map.price = 100;&quot;);\n\n        Facts facts = new Facts();\n        HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;price&quot;, 10);\n        \n        facts.put(&quot;map&quot;, map);\n        Rules rules = new Rules();\n        rules.register(rule);\n\n        RulesEngine rulesEngine = new DefaultRulesEngine();\n        rulesEngine.fire(rules, facts);\n        System.out.println(facts); // output: [Fact{name='map', value={price=100}}]\n</code></pre>\n<p>Although the latter worked fine, the expression is more complicated. So, I want to know why the former didn't work, and what should I do if I want to insist the former.</p>\n"},{"tags":["java","android","google-analytics"],"owner":{"account_id":18933976,"reputation":1,"user_id":14597375,"display_name":"Sebastian Mostazo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677554169,"creation_date":1677554169,"question_id":75587552,"body_markdown":"i try to send a tracking event in Google Analytics, but it never show any events other than the default events like app_remove, screen_view...\r\n\r\nThis is my class AnalyticsApplication\r\n\r\n``` public class AnalyticsApplication extends Application {\r\n\r\n    private static GoogleAnalytics sAnalytics;\r\n    private static Tracker sTracker;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n\r\n        sAnalytics = GoogleAnalytics.getInstance(this);\r\n    }\r\n\r\n\r\n    synchronized public Tracker getDefaultTracker() {\r\n        // To enable debug logging use: adb shell setprop log.tag.GAv4 DEBUG\r\n        if (sTracker == null) {\r\n            sTracker = sAnalytics.newTracker(R.xml.global_tracker);\r\n        }\r\n\r\n        return sTracker;\r\n    }\r\n} \r\n```\r\nthis is my globa_tracker.xml in folder xml\r\n```\r\n&lt;resources&gt;\r\n    &lt;string name=&quot;ga_trackingId&quot; translatable=&quot;false&quot;&gt;G-C6V9T3SZSS&lt;/string&gt;\r\n&lt;/resources&gt;\r\n```\r\nand this is try to send event\r\n\r\n```\r\nAnalyticsApplication application = (AnalyticsApplication) Carrito.this.getApplication();\r\nTracker mTracker = application.getDefaultTracker();\r\n\r\nmTracker.send(new HitBuilders.EventBuilder()\r\n     .setCategory(&quot;formulario&quot;)\r\n     .setAction(&quot;abierto&quot;)\r\n     .setValue(2)\r\n     .build());\r\n```","title":"Tracker event dont show in google analytics","body":"<p>i try to send a tracking event in Google Analytics, but it never show any events other than the default events like app_remove, screen_view...</p>\n<p>This is my class AnalyticsApplication</p>\n<pre><code>\n    private static GoogleAnalytics sAnalytics;\n    private static Tracker sTracker;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        sAnalytics = GoogleAnalytics.getInstance(this);\n    }\n\n\n    synchronized public Tracker getDefaultTracker() {\n        // To enable debug logging use: adb shell setprop log.tag.GAv4 DEBUG\n        if (sTracker == null) {\n            sTracker = sAnalytics.newTracker(R.xml.global_tracker);\n        }\n\n        return sTracker;\n    }\n} \n</code></pre>\n<p>this is my globa_tracker.xml in folder xml</p>\n<pre><code>&lt;resources&gt;\n    &lt;string name=&quot;ga_trackingId&quot; translatable=&quot;false&quot;&gt;G-C6V9T3SZSS&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>and this is try to send event</p>\n<pre><code>AnalyticsApplication application = (AnalyticsApplication) Carrito.this.getApplication();\nTracker mTracker = application.getDefaultTracker();\n\nmTracker.send(new HitBuilders.EventBuilder()\n     .setCategory(&quot;formulario&quot;)\n     .setAction(&quot;abierto&quot;)\n     .setValue(2)\n     .build());\n</code></pre>\n"},{"tags":["java","cross-platform","system-properties"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1494319316,"post_id":43864999,"comment_id":74765314,"body_markdown":"Write your Sting into a file with the Java program, open it with Notepad and you will see what the Problem is","body":"Write your Sting into a file with the Java program, open it with Notepad and you will see what the Problem is"},{"owner":{"account_id":1065032,"reputation":6043,"user_id":1065835,"accept_rate":81,"display_name":"Maksim Dmitriev"},"score":0,"creation_date":1494320150,"post_id":43864999,"comment_id":74765878,"body_markdown":"@Jens, you&#39;re right. It looks like Command Prompt substitutes the correct line endings, and Notepad doesn&#39;t. So if you convert your comment to an answer, I&#39;ll accept it","body":"@Jens, you&#39;re right. It looks like Command Prompt substitutes the correct line endings, and Notepad doesn&#39;t. So if you convert your comment to an answer, I&#39;ll accept it"}],"answers":[{"comments":[{"owner":{"account_id":6983992,"reputation":826,"user_id":5355700,"accept_rate":56,"display_name":"urgas9"},"score":0,"creation_date":1494319492,"post_id":43865120,"comment_id":74765420,"body_markdown":"This is a possible duplicate question:\nhttp://stackoverflow.com/questions/36796136/difference-between-system-getpropertyline-separator-and-n","body":"This is a possible duplicate question: <a href=\"http://stackoverflow.com/questions/36796136/difference-between-system-getpropertyline-separator-and-n\" title=\"difference between system getpropertyline separator and n\">stackoverflow.com/questions/36796136/&hellip;</a>"}],"tags":[],"owner":{"account_id":6983992,"reputation":826,"user_id":5355700,"accept_rate":56,"display_name":"urgas9"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494319434,"creation_date":1494319434,"answer_id":43865120,"question_id":43864999,"body_markdown":"There are different line separators, depends on the OS. Read this thread:\r\nhttps://stackoverflow.com/questions/1279779/what-is-the-difference-between-r-and-n\r\n\r\nExcerpt of if:\r\n\r\n&gt; More importantly, Unix tends to use \\n as a line separator; Windows tends to use \\r\\n as a line separator and Macs (up to OS 9) used to use \\r as the line separator. (Mac OS X is Unix-y, so uses  \\n instead; there may be some compatibility situations where \\r is used instead though.)","title":"If we&#39;re told to use the system property line.separator instead of hard-coding \\n, why does my code work on Windows?","body":"<p>There are different line separators, depends on the OS. Read this thread:\n<a href=\"https://stackoverflow.com/questions/1279779/what-is-the-difference-between-r-and-n\">What is the difference between \\r and \\n?</a></p>\n\n<p>Excerpt of if:</p>\n\n<blockquote>\n  <p>More importantly, Unix tends to use \\n as a line separator; Windows tends to use \\r\\n as a line separator and Macs (up to OS 9) used to use \\r as the line separator. (Mac OS X is Unix-y, so uses  \\n instead; there may be some compatibility situations where \\r is used instead though.)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1065032,"reputation":6043,"user_id":1065835,"accept_rate":81,"display_name":"Maksim Dmitriev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677552672,"creation_date":1677552672,"answer_id":75587449,"question_id":43864999,"body_markdown":"From the [comment][1]:\r\nIt looks like Command Prompt substitutes the correct line endings, and Notepad doesn&#39;t.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43864999/if-were-told-to-use-the-system-property-line-separator-instead-of-hard-coding#comment74765878_43864999","title":"If we&#39;re told to use the system property line.separator instead of hard-coding \\n, why does my code work on Windows?","body":"<p>From the <a href=\"https://stackoverflow.com/questions/43864999/if-were-told-to-use-the-system-property-line-separator-instead-of-hard-coding#comment74765878_43864999\">comment</a>:\nIt looks like Command Prompt substitutes the correct line endings, and Notepad doesn't.</p>\n"}],"owner":{"account_id":1065032,"reputation":6043,"user_id":1065835,"accept_rate":81,"display_name":"Maksim Dmitriev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75587449,"answer_count":2,"score":0,"last_activity_date":1677552672,"creation_date":1494319066,"question_id":43864999,"body_markdown":"We all read something like this: \r\n\r\n&gt; use the System.getProperty(String) method to refer to items which\r\n&gt; depend on the system, such as line terminators and path separators.\r\n\r\nThe quote is copied from this [web site.][1]\r\n\r\nI hard-coded an `\\n`, and the code below works on my Windows machine as expected.\r\n\r\n    package sample;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;hello\\nworld&quot;);\r\n    \t};\r\n    \r\n    }\r\n\r\nThe output is:\r\n\r\n    hello\r\n    world\r\n\r\nI thought the Java compiler replaced `\\n` with `\\r\\n` silently. So I downloaded JD GUI, opened the JAR file, and saw `Hello\\nworld`. Can anybody give me an example where `\\n` doesn&#39;t work and `System.getProperty(&quot;line.separator&quot;)` does?\r\n\r\n  [1]: http://www.javapractices.com/topic/TopicAction.do?Id=38\r\n\r\n","title":"If we&#39;re told to use the system property line.separator instead of hard-coding \\n, why does my code work on Windows?","body":"<p>We all read something like this: </p>\n\n<blockquote>\n  <p>use the System.getProperty(String) method to refer to items which\n  depend on the system, such as line terminators and path separators.</p>\n</blockquote>\n\n<p>The quote is copied from this <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=38\" rel=\"nofollow noreferrer\">web site.</a></p>\n\n<p>I hard-coded an <code>\\n</code>, and the code below works on my Windows machine as expected.</p>\n\n<pre><code>package sample;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        System.out.println(\"hello\\nworld\");\n    };\n\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>hello\nworld\n</code></pre>\n\n<p>I thought the Java compiler replaced <code>\\n</code> with <code>\\r\\n</code> silently. So I downloaded JD GUI, opened the JAR file, and saw <code>Hello\\nworld</code>. Can anybody give me an example where <code>\\n</code> doesn't work and <code>System.getProperty(\"line.separator\")</code> does?</p>\n"},{"tags":["java","math","methods"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1677552161,"post_id":75587403,"comment_id":133356407,"body_markdown":"Please provide a [mcve].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1677552350,"post_id":75587403,"comment_id":133356434,"body_markdown":"If you don&#39;t call `genderFactor()`, `weight * genFactor` will be 0.","body":"If you don&#39;t call <code>genderFactor()</code>, <code>weight * genFactor</code> will be 0."},{"owner":{"account_id":26857224,"reputation":1,"user_id":20441347,"display_name":"PatPatis"},"score":0,"creation_date":1677553848,"post_id":75587403,"comment_id":133356633,"body_markdown":"@shmosel I now see that this is my error. Thank you so much!","body":"@shmosel I now see that this is my error. Thank you so much!"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1677553984,"post_id":75587403,"comment_id":133356647,"body_markdown":"No problem. For the future, I&#39;d suggest learning how to debug. This is exactly the type of problem that can be solved by stepping through the code.","body":"No problem. For the future, I&#39;d suggest learning how to debug. This is exactly the type of problem that can be solved by stepping through the code."}],"owner":{"account_id":26857224,"reputation":1,"user_id":20441347,"display_name":"PatPatis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677552074,"creation_date":1677552074,"question_id":75587403,"body_markdown":"My program is supposed to calculate the BMI of a patient (with the method BMI()) but no matter what values I enter, it returns &quot;Infinity&quot;. Based on my research, Infinity is returned when a value is divided by 0 but my program makes sure that values of 0 are not allowed. Can somebody please identify my logical error?\r\n\r\n\r\n```\r\nimport java.util.*;\r\npublic class PDProjectOne {\r\n    private static double weight, age, biximent, genFactor, bmi;\r\n    private static String gender;\r\n    \r\n    public static double genderFactor(){\r\n        if(gender.equals(&quot;R&quot;) || (gender.equals(&quot;r&quot;))){\r\n            genFactor = 8.46;\r\n        }\r\n        if(gender.equals(&quot;S&quot;) || (gender.equals(&quot;s&quot;))){\r\n            genFactor = 4.23;\r\n        }\r\n        if(gender.equals(&quot;T&quot;) || (gender.equals(&quot;t&quot;))){\r\n            genFactor = 6.35;\r\n        }\r\n        return genFactor;\r\n    }\r\n    \r\n    public static double BMI(){\r\n        bmi = 2.56 * age + ((biximent * 467)/(weight * genFactor));\r\n        return bmi;\r\n    }\r\n    \r\n    public static void report(){\r\n        Scanner sc = new Scanner(System.in);\r\n        boolean good = false;\r\n        do{\r\n           System.out.print(&quot;Weight in kilograms:  &quot;);\r\n           weight = sc.nextDouble(); \r\n           if (weight &lt;= 28){\r\n               System.out.println(&quot;!! You must only enter a number greater than 28 kilograms. Try again. !!&quot;);\r\n           }\r\n           else{\r\n            good = true;\r\n        }\r\n        } while (!good);\r\n        \r\n        good = false;\r\n        do{\r\n            System.out.print(&quot;Age in solar cycles:  &quot;);\r\n            age = sc.nextDouble();\r\n            if (age &gt;= 16 &amp;&amp; age &lt;= 96){\r\n                good = true;\r\n            }\r\n            else{\r\n                System.out.println(&quot;!! You must only enter an age between 16 and 96 solar cycles. Try again. !!&quot;);\r\n            }\r\n        } while (!good);\r\n        \r\n        good = false;\r\n        do{\r\n            System.out.print(&quot;Gender identification:  &quot;);\r\n            gender = sc.next();\r\n            if (gender.equals(&quot;R&quot;) || gender.equals(&quot;r&quot;) || gender.equals(&quot;S&quot;) || gender.equals(&quot;s&quot;) || \r\n                    gender.equals(&quot;T&quot;) || gender.equals(&quot;t&quot;)){\r\n                good = true;\r\n            }\r\n            else{\r\n                System.out.println(&quot;!! You must only enter &#39;R&#39;,&#39;S&#39;,or &#39;T&#39; as gender identifications. Try again. !!&quot;);\r\n            }\r\n        } while (!good);\r\n        \r\n        good = false;\r\n        do{\r\n            System.out.print(&quot;Biximent level:  &quot;);\r\n            biximent = sc.nextDouble();\r\n            if (biximent &gt;= 30){\r\n                good = true;\r\n            }\r\n            else{\r\n                System.out.println(&quot;!! You must only enter a biximent level of at least 30. Try again. !!&quot;);\r\n            }\r\n        } while (!good);\r\n        \r\n        System.out.println(&quot;\\nSUMMARY OF ANALYSIS:\\n&quot;\r\n                + &quot;For a citizen of gender type &quot; + gender + &quot;, who is &quot; + age + &quot; cycles old and weighs &quot; + weight + &quot; kilograms with&quot;\r\n                        + &quot; a reported Biximent Level of &quot; + biximent + &quot;, the Biximent Metabolic Index (BMI) is &quot; + BMI());\r\n    }\r\n```\r\n","title":"Why is my calculation returning &quot;Infinity&quot;?","body":"<p>My program is supposed to calculate the BMI of a patient (with the method BMI()) but no matter what values I enter, it returns &quot;Infinity&quot;. Based on my research, Infinity is returned when a value is divided by 0 but my program makes sure that values of 0 are not allowed. Can somebody please identify my logical error?</p>\n<pre><code>import java.util.*;\npublic class PDProjectOne {\n    private static double weight, age, biximent, genFactor, bmi;\n    private static String gender;\n    \n    public static double genderFactor(){\n        if(gender.equals(&quot;R&quot;) || (gender.equals(&quot;r&quot;))){\n            genFactor = 8.46;\n        }\n        if(gender.equals(&quot;S&quot;) || (gender.equals(&quot;s&quot;))){\n            genFactor = 4.23;\n        }\n        if(gender.equals(&quot;T&quot;) || (gender.equals(&quot;t&quot;))){\n            genFactor = 6.35;\n        }\n        return genFactor;\n    }\n    \n    public static double BMI(){\n        bmi = 2.56 * age + ((biximent * 467)/(weight * genFactor));\n        return bmi;\n    }\n    \n    public static void report(){\n        Scanner sc = new Scanner(System.in);\n        boolean good = false;\n        do{\n           System.out.print(&quot;Weight in kilograms:  &quot;);\n           weight = sc.nextDouble(); \n           if (weight &lt;= 28){\n               System.out.println(&quot;!! You must only enter a number greater than 28 kilograms. Try again. !!&quot;);\n           }\n           else{\n            good = true;\n        }\n        } while (!good);\n        \n        good = false;\n        do{\n            System.out.print(&quot;Age in solar cycles:  &quot;);\n            age = sc.nextDouble();\n            if (age &gt;= 16 &amp;&amp; age &lt;= 96){\n                good = true;\n            }\n            else{\n                System.out.println(&quot;!! You must only enter an age between 16 and 96 solar cycles. Try again. !!&quot;);\n            }\n        } while (!good);\n        \n        good = false;\n        do{\n            System.out.print(&quot;Gender identification:  &quot;);\n            gender = sc.next();\n            if (gender.equals(&quot;R&quot;) || gender.equals(&quot;r&quot;) || gender.equals(&quot;S&quot;) || gender.equals(&quot;s&quot;) || \n                    gender.equals(&quot;T&quot;) || gender.equals(&quot;t&quot;)){\n                good = true;\n            }\n            else{\n                System.out.println(&quot;!! You must only enter 'R','S',or 'T' as gender identifications. Try again. !!&quot;);\n            }\n        } while (!good);\n        \n        good = false;\n        do{\n            System.out.print(&quot;Biximent level:  &quot;);\n            biximent = sc.nextDouble();\n            if (biximent &gt;= 30){\n                good = true;\n            }\n            else{\n                System.out.println(&quot;!! You must only enter a biximent level of at least 30. Try again. !!&quot;);\n            }\n        } while (!good);\n        \n        System.out.println(&quot;\\nSUMMARY OF ANALYSIS:\\n&quot;\n                + &quot;For a citizen of gender type &quot; + gender + &quot;, who is &quot; + age + &quot; cycles old and weighs &quot; + weight + &quot; kilograms with&quot;\n                        + &quot; a reported Biximent Level of &quot; + biximent + &quot;, the Biximent Metabolic Index (BMI) is &quot; + BMI());\n    }\n</code></pre>\n"},{"tags":["java","influxdb","micrometer","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":1854123,"reputation":79,"user_id":1680071,"display_name":"EbrahimFarahmand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677551491,"creation_date":1677551491,"answer_id":75587352,"question_id":75343636,"body_markdown":"After a lot of research and investigation and using different methods such as events, I finally came to the conclusion that I should reduce the log level of class InfluxDbRegistry so that the volume of the log does not increase.","title":"How to manage micrometer connection error in Resilience4j?","body":"<p>After a lot of research and investigation and using different methods such as events, I finally came to the conclusion that I should reduce the log level of class InfluxDbRegistry so that the volume of the log does not increase.</p>\n"}],"owner":{"account_id":1854123,"reputation":79,"user_id":1680071,"display_name":"EbrahimFarahmand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677551491,"creation_date":1675496080,"question_id":75343636,"body_markdown":"I used the Micrometer in Resilience4j according to the Resilience4j documentation with the address x in the code. The Micrometer monitor service is also Influx. During the load test, we performed all types of tests, except for the situation where we shut down the Influx server. In this case, the Micrometer gives an internal connection error that quickly fills our log file. My question is, is there an event when the monitoring server like Influx is unavailable for any reason, the error can be handled and only the Micrometer is removed and the rest of the system like Resilience4j continues to work?\r\n\r\nIn the load test with tps 400, when we cut off the micrometer influx monitoring service in Resilience, an unhandled error occurs and the log file becomes very large.","title":"How to manage micrometer connection error in Resilience4j?","body":"<p>I used the Micrometer in Resilience4j according to the Resilience4j documentation with the address x in the code. The Micrometer monitor service is also Influx. During the load test, we performed all types of tests, except for the situation where we shut down the Influx server. In this case, the Micrometer gives an internal connection error that quickly fills our log file. My question is, is there an event when the monitoring server like Influx is unavailable for any reason, the error can be handled and only the Micrometer is removed and the rest of the system like Resilience4j continues to work?</p>\n<p>In the load test with tps 400, when we cut off the micrometer influx monitoring service in Resilience, an unhandled error occurs and the log file becomes very large.</p>\n"},{"tags":["java","jar","filenotfoundexception","javax.imageio"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1677550929,"post_id":75587311,"comment_id":133356250,"body_markdown":"Files don&#39;t exist within a jar -- resources do. Get your image as a resource.","body":"Files don&#39;t exist within a jar -- resources do. Get your image as a resource."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1677551095,"post_id":75587311,"comment_id":133356274,"body_markdown":"See the Swing tutorial on: [Loading Images Using getResource](https://docs.oracle.com/javase/tutorial/uiswing/components/icon.html#getresource)","body":"See the Swing tutorial on: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/icon.html#getresource\" rel=\"nofollow noreferrer\">Loading Images Using getResource</a>"},{"owner":{"account_id":27895845,"reputation":1,"user_id":21301150,"display_name":"Justin c"},"score":0,"creation_date":1677682006,"post_id":75587311,"comment_id":133386221,"body_markdown":"Thanks, totally figured it out  \nthis is my first time dealing with jars and now I know","body":"Thanks, totally figured it out   this is my first time dealing with jars and now I know"}],"owner":{"account_id":27895845,"reputation":1,"user_id":21301150,"display_name":"Justin c"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677550911,"answer_count":0,"score":0,"last_activity_date":1677550925,"creation_date":1677550825,"question_id":75587311,"body_markdown":"so my jar can&#39;t find the images in my program but they are found by the IDE \r\nhere is the error message. I also went into the jar and they are in the jar itself , the images are all there\r\n\r\n\r\n         javax.imageio.IIOException: Can&#39;t read input file!\r\n        at java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1308)\r\n        at tile.TileManager.getTileImage(TileManager.java:53)\r\n        at tile.TileManager.&lt;init&gt;(TileManager.java:35)\r\n        at Main.GamePanel.&lt;init&gt;(GamePanel.java:44)\r\n        at Main.DriverMain.main(DriverMain.java:27)\r\n\r\n\r\nhere is the code that makes the images \r\n\r\n\t                idle = ImageIO.read(new File(&quot;sprites/player/mario_idle.gif&quot;));\r\n\t\t\twalk1 = ImageIO.read(new File(&quot;sprites/player/mario_walk1.gif&quot;));\r\n\t\t\twalk2 = ImageIO.read(new File(&quot;sprite/player/mario_walk2.gif&quot;));\r\n\r\nI also tried \t\t\t\r\n\r\n    idle = ImageIO.read(getClass().getResourceAsStream(&quot;sprites/player/mario_idle.gif&quot;));\r\n\twalk1 = ImageIO.read(getClass().getResourceAsStream(&quot;sprites/player/mario_walk1.gif&quot;));\r\n\twalk2 = ImageIO.read(getClass().getResourceAsStream(&quot;sprite/player/mario_walk2.gif&quot;));\r\n\r\nbut I get a null pointer exception ^\r\n\r\nmy file structure are as follows\r\n\r\nproject folder &gt; src &gt; packages( entity , main, sprites , tile) &gt; in spites are 2 folders player and map which houses the png&#39;s or gifs \r\n\r\nagain if I zip the jar and look inside it I can see the sprites folder and when i open it all the images are there \r\n\r\nI tried having the images in an upper package &quot;res&quot; outside of  src and it still gave me the same thing but this time the images where not inside the jar , therefore I took it as it should be in src\r\n\r\nI appreciate any help","title":"My jar can&#39;t find my images in my game but in the ide (eclipse) works just fine","body":"<p>so my jar can't find the images in my program but they are found by the IDE\nhere is the error message. I also went into the jar and they are in the jar itself , the images are all there</p>\n<pre><code>     javax.imageio.IIOException: Can't read input file!\n    at java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1308)\n    at tile.TileManager.getTileImage(TileManager.java:53)\n    at tile.TileManager.&lt;init&gt;(TileManager.java:35)\n    at Main.GamePanel.&lt;init&gt;(GamePanel.java:44)\n    at Main.DriverMain.main(DriverMain.java:27)\n</code></pre>\n<p>here is the code that makes the images</p>\n<pre><code>                idle = ImageIO.read(new File(&quot;sprites/player/mario_idle.gif&quot;));\n        walk1 = ImageIO.read(new File(&quot;sprites/player/mario_walk1.gif&quot;));\n        walk2 = ImageIO.read(new File(&quot;sprite/player/mario_walk2.gif&quot;));\n</code></pre>\n<p>I also tried</p>\n<pre><code>idle = ImageIO.read(getClass().getResourceAsStream(&quot;sprites/player/mario_idle.gif&quot;));\nwalk1 = ImageIO.read(getClass().getResourceAsStream(&quot;sprites/player/mario_walk1.gif&quot;));\nwalk2 = ImageIO.read(getClass().getResourceAsStream(&quot;sprite/player/mario_walk2.gif&quot;));\n</code></pre>\n<p>but I get a null pointer exception ^</p>\n<p>my file structure are as follows</p>\n<p>project folder &gt; src &gt; packages( entity , main, sprites , tile) &gt; in spites are 2 folders player and map which houses the png's or gifs</p>\n<p>again if I zip the jar and look inside it I can see the sprites folder and when i open it all the images are there</p>\n<p>I tried having the images in an upper package &quot;res&quot; outside of  src and it still gave me the same thing but this time the images where not inside the jar , therefore I took it as it should be in src</p>\n<p>I appreciate any help</p>\n"},{"tags":["java","spring","spring-boot","wildfly"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1677555352,"post_id":75587252,"comment_id":133356832,"body_markdown":"Do you package `Spring Boot Application` as `jar` or `war`? `Create a Deployable War File` (https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/howto-traditional-deployment.html)","body":"Do you package <code>Spring Boot Application</code> as <code>jar</code> or <code>war</code>? <code>Create a Deployable War File</code> (<a href=\"https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/howto-traditional-deployment.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/htm&zwnj;&#8203;l/&hellip;</a>)"},{"owner":{"account_id":19257635,"reputation":100,"user_id":14074180,"display_name":"Ho Quang Lam"},"score":0,"creation_date":1677557997,"post_id":75587252,"comment_id":133357145,"body_markdown":"I am deploying using JAR file","body":"I am deploying using JAR file"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677558506,"post_id":75587252,"comment_id":133357205,"body_markdown":"use war file, `How to Deploy Spring Boot Applications to WildFly Application Server` (https://www.springcloud.io/post/2022-09/spring-boot--wildfly/#gsc.tab=0)","body":"use war file, <code>How to Deploy Spring Boot Applications to WildFly Application Server</code> (<a href=\"https://www.springcloud.io/post/2022-09/spring-boot--wildfly/#gsc.tab=0\" rel=\"nofollow noreferrer\">springcloud.io/post/2022-09/spring-boot--wildfly/#gsc.tab=0</a>&zwnj;&#8203;)"}],"owner":{"account_id":19257635,"reputation":100,"user_id":14074180,"display_name":"Ho Quang Lam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677550560,"creation_date":1677549933,"question_id":75587252,"body_markdown":"I am trying to find a solution for deploying the Spring Boot application to a Wildfly server. There are some deployments with WAR files before in some paths: /hello1, /hello2. My target is to deploy on /hello3 so I have created src/main/webapp/WEB-INF/jboss-web.xml with these content:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jboss-web xmlns=&quot;http://www.jboss.com/xml/ns/javaee&quot;\r\n               xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n               xsi:schemaLocation=&quot;\r\n          http://www.jboss.com/xml/ns/javaee\r\n          http://www.jboss.org/j2ee/schema/jboss-web_5_1.xsd&quot;&gt;\r\n        &lt;context-root&gt;/hello3&lt;/context-root&gt;\r\n    &lt;/jboss-web&gt;\r\n\r\nI have also created an endpoint &quot;/&quot; which return &quot;Hello World&quot; in localhost:8080 after running spring boot. But the server keeps returning 404 not found. The server works fine on /hello1 and /hello2.\r\n","title":"How can I deploy a simple Spring Boot Application JAR file to a Wildfly 10 Server","body":"<p>I am trying to find a solution for deploying the Spring Boot application to a Wildfly server. There are some deployments with WAR files before in some paths: /hello1, /hello2. My target is to deploy on /hello3 so I have created src/main/webapp/WEB-INF/jboss-web.xml with these content:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jboss-web xmlns=&quot;http://www.jboss.com/xml/ns/javaee&quot;\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n           xsi:schemaLocation=&quot;\n      http://www.jboss.com/xml/ns/javaee\n      http://www.jboss.org/j2ee/schema/jboss-web_5_1.xsd&quot;&gt;\n    &lt;context-root&gt;/hello3&lt;/context-root&gt;\n&lt;/jboss-web&gt;\n</code></pre>\n<p>I have also created an endpoint &quot;/&quot; which return &quot;Hello World&quot; in localhost:8080 after running spring boot. But the server keeps returning 404 not found. The server works fine on /hello1 and /hello2.</p>\n"},{"tags":["java","mysql","spring-boot","jpa","redis"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1677488093,"post_id":75578376,"comment_id":133340350,"body_markdown":"use subquery, and make sure you have index on `B.areaId`","body":"use subquery, and make sure you have index on <code>B.areaId</code>"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1677527520,"post_id":75578376,"comment_id":133351924,"body_markdown":"Are the numbers necessarily consecutive?  `(1,2,3,4,...)`","body":"Are the numbers necessarily consecutive?  <code>(1,2,3,4,...)</code>"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1677527591,"post_id":75578376,"comment_id":133351944,"body_markdown":"Did you try a `JOIN`?  That should worm much better than extracting the ids and building an `IN` list.","body":"Did you try a <code>JOIN</code>?  That should worm much better than extracting the ids and building an <code>IN</code> list."},{"owner":{"account_id":18828240,"reputation":44,"user_id":13732630,"display_name":"YuHao Zhu"},"score":0,"creation_date":1677546675,"post_id":75578376,"comment_id":133355659,"body_markdown":"the numbers is random, possible (1,5,50,201,.....)","body":"the numbers is random, possible (1,5,50,201,.....)"},{"owner":{"account_id":18828240,"reputation":44,"user_id":13732630,"display_name":"YuHao Zhu"},"score":0,"creation_date":1677546820,"post_id":75578376,"comment_id":133355689,"body_markdown":"I have tried Join and subquery, but it is slow too, Too many parameters","body":"I have tried Join and subquery, but it is slow too, Too many parameters"},{"owner":{"account_id":18828240,"reputation":44,"user_id":13732630,"display_name":"YuHao Zhu"},"score":0,"creation_date":1677547081,"post_id":75578376,"comment_id":133355734,"body_markdown":"Now I use redis, I save Table B to Redis ,It faster than before,But When I use redis , I cannot use Join and subquery","body":"Now I use redis, I save Table B to Redis ,It faster than before,But When I use redis , I cannot use Join and subquery"}],"answers":[{"comments":[{"owner":{"account_id":18828240,"reputation":44,"user_id":13732630,"display_name":"YuHao Zhu"},"score":0,"creation_date":1677546965,"post_id":75578869,"comment_id":133355714,"body_markdown":"I have tried this, but this way is like &quot; in (...)&quot;, it also not use index， when the parameters &gt;2,  it will not use index","body":"I have tried this, but this way is like &quot; in (...)&quot;, it also not use index， when the parameters &gt;2,  it will not use index"},{"owner":{"account_id":18828240,"reputation":44,"user_id":13732630,"display_name":"YuHao Zhu"},"score":0,"creation_date":1677550198,"post_id":75578869,"comment_id":133356165,"body_markdown":"In fact, I have a total of 4 tables: Table A represents records, Table B represents the relationship between accounts and regions, Table C represents regions, and Table D represents accounts. One account may have permissions for several hundred regions, which are reflected in Table B. When I query Table A, I need to use the aid field in Table A to filter whether this account has corresponding regional permissions.","body":"In fact, I have a total of 4 tables: Table A represents records, Table B represents the relationship between accounts and regions, Table C represents regions, and Table D represents accounts. One account may have permissions for several hundred regions, which are reflected in Table B. When I query Table A, I need to use the aid field in Table A to filter whether this account has corresponding regional permissions."}],"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677548504,"creation_date":1677491166,"answer_id":75578869,"question_id":75578376,"body_markdown":"Suppose your `areaId` field has an index\r\n\r\nWith the `in` keyword, the index cannot be hit when there are a large number of matching values ​​following it.\r\n\r\nIf those matching values ​​are consecutive, use the following statement：\r\n\r\n    select * from A where areaId &gt;= 1 and areaId &lt;= 1000\r\n\r\nBy the way, in your question, what exactly does Table B do? \r\nYou only gave how table A is used.I don&#39;t know, what exactly are you trying to do with Form B.\r\n\r\nUpdate at 230228\r\n------------\r\nThe field type needs to be a number type to ensure that the index is taken when using greater than or less than","title":"slow select in (...) (springdata jpa in mysql )","body":"<p>Suppose your <code>areaId</code> field has an index</p>\n<p>With the <code>in</code> keyword, the index cannot be hit when there are a large number of matching values ​​following it.</p>\n<p>If those matching values ​​are consecutive, use the following statement：</p>\n<pre><code>select * from A where areaId &gt;= 1 and areaId &lt;= 1000\n</code></pre>\n<p>By the way, in your question, what exactly does Table B do?\nYou only gave how table A is used.I don't know, what exactly are you trying to do with Form B.</p>\n<h2>Update at 230228</h2>\n<p>The field type needs to be a number type to ensure that the index is taken when using greater than or less than</p>\n"}],"owner":{"account_id":18828240,"reputation":44,"user_id":13732630,"display_name":"YuHao Zhu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677548504,"creation_date":1677487875,"question_id":75578376,"body_markdown":"I have a table &quot;A&quot;, &quot;A&quot; has a Column `AreaId`, When I `select * from &quot;A&quot;`, I wanna show results where AreaId in my account.\r\n    Other, I hava a table &quot;B&quot;,it means I hava some AreaIds, It possible thousands or hundreds.\r\n    So, When I select from A , I will `select * from A where areaId in (1,2,3,4,5,6,7.....1000)`,it is too slow\r\n    How can I solve this, Thank you \r\n\r\nNow I use in(.....) and redis, but it too slow\r\n\r\n---\r\n\r\n\r\n    public class UserArea\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;userId&quot;)\r\n        private Integer uid;\r\n    \r\n        @Column(name = &quot;areaId&quot;)\r\n        private Integer aid;\r\n    \r\n    \r\n    public class PotentialUser implements AbstractBas {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;areaId&quot;)\r\n        protected Integer aid;\r\n    }\r\n\r\nthis is my A and B Table , one user possible hava 1000+ areas\r\n","title":"slow select in (...) (springdata jpa in mysql )","body":"<p>I have a table &quot;A&quot;, &quot;A&quot; has a Column <code>AreaId</code>, When I <code>select * from &quot;A&quot;</code>, I wanna show results where AreaId in my account.\nOther, I hava a table &quot;B&quot;,it means I hava some AreaIds, It possible thousands or hundreds.\nSo, When I select from A , I will <code>select * from A where areaId in (1,2,3,4,5,6,7.....1000)</code>,it is too slow\nHow can I solve this, Thank you</p>\n<p>Now I use in(.....) and redis, but it too slow</p>\n<hr />\n<pre><code>public class UserArea\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;userId&quot;)\n    private Integer uid;\n\n    @Column(name = &quot;areaId&quot;)\n    private Integer aid;\n\n\npublic class PotentialUser implements AbstractBas {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;areaId&quot;)\n    protected Integer aid;\n}\n</code></pre>\n<p>this is my A and B Table , one user possible hava 1000+ areas</p>\n"},{"tags":["java","listview","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1516718046,"post_id":48404097,"comment_id":83796731,"body_markdown":"have you tried `list.getSelectionModel().getSelectedItem()`;","body":"have you tried <code>list.getSelectionModel().getSelectedItem()</code>;"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1516718084,"post_id":48404097,"comment_id":83796756,"body_markdown":"https://stackoverflow.com/questions/12459086/how-to-perform-an-action-by-selecting-an-item-from-listview-in-javafx-2","body":"<a href=\"https://stackoverflow.com/questions/12459086/how-to-perform-an-action-by-selecting-an-item-from-listview-in-javafx-2\" title=\"how to perform an action by selecting an item from listview in javafx 2\">stackoverflow.com/questions/12459086/&hellip;</a>"},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":1,"creation_date":1516718648,"post_id":48404097,"comment_id":83797140,"body_markdown":"Unless you define a variable of the same name, `ListCell` is a type and not an object; you cannot use the `==` operator. `instanceof` can be used to check the type of an expression...","body":"Unless you define a variable of the same name, <code>ListCell</code> is a type and not an object; you cannot use the <code>==</code> operator. <code>instanceof</code> can be used to check the type of an expression..."},{"owner":{"account_id":12793473,"reputation":3,"user_id":9257265,"display_name":"Etienne Poulin"},"score":1,"creation_date":1516718692,"post_id":48404097,"comment_id":83797176,"body_markdown":"@Sedrick this doesn&#39;t fix my problem... When a user selects an item in the list, they can double click anywhere else to still trigger the action... I only want the action to be done if the click happens on an item.","body":"@Sedrick this doesn&#39;t fix my problem... When a user selects an item in the list, they can double click anywhere else to still trigger the action... I only want the action to be done if the click happens on an item."},{"owner":{"account_id":12793473,"reputation":3,"user_id":9257265,"display_name":"Etienne Poulin"},"score":0,"creation_date":1516718838,"post_id":48404097,"comment_id":83797289,"body_markdown":"@fabian you&#39;re right, but `instanceof` triggers everytime I click anywhere on the listview, not only an item.","body":"@fabian you&#39;re right, but <code>instanceof</code> triggers everytime I click anywhere on the listview, not only an item."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1516719602,"post_id":48404097,"comment_id":83797878,"body_markdown":"something wrong in the code you are not showing .. my crystal ball is cloudy ;) Seriously, please read http://stackoverflow.com/help/mcve and act accordingly","body":"something wrong in the code you are not showing .. my crystal ball is cloudy ;) Seriously, please read <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> and act accordingly"}],"answers":[{"comments":[{"owner":{"account_id":12793473,"reputation":3,"user_id":9257265,"display_name":"Etienne Poulin"},"score":0,"creation_date":1516719606,"post_id":48404572,"comment_id":83797882,"body_markdown":"Tried that, still triggers when double clicking the white part (Where there are no items)","body":"Tried that, still triggers when double clicking the white part (Where there are no items)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1516719726,"post_id":48404572,"comment_id":83797960,"body_markdown":"playing guessing games about what the OP really wants and what gets wrong is ... wasting time, imo","body":"playing guessing games about what the OP really wants and what gets wrong is ... wasting time, imo"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1516719759,"post_id":48404572,"comment_id":83797981,"body_markdown":"@EtiennePoulin Just change the condition in the `if` statement in the mouse handler to `if (event.getClickCount() == 2 &amp;&amp; ! isEmpty()) { ... }`.","body":"@EtiennePoulin Just change the condition in the <code>if</code> statement in the mouse handler to <code>if (event.getClickCount() == 2 &amp;&amp; ! isEmpty()) { ... }</code>."},{"owner":{"account_id":12793473,"reputation":3,"user_id":9257265,"display_name":"Etienne Poulin"},"score":1,"creation_date":1516719858,"post_id":48404572,"comment_id":83798060,"body_markdown":"That did it... @kleopatra sorry I&#39;m really new to stackoverflow... Will read that article and try my best to make a better post next time...","body":"That did it... @kleopatra sorry I&#39;m really new to stackoverflow... Will read that article and try my best to make a better post next time..."}],"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677548431,"creation_date":1516719200,"answer_id":48404572,"question_id":48404097,"body_markdown":"Here is one way to accomplish what I think you are asking. This uses `setOnMouseClicked` in the `setCellFactory`.\r\n\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.ListCell;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class ListViewExperiments extends Application\r\n    {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception\r\n        {\r\n            primaryStage.setTitle(&quot;ListView Experiment 1&quot;);\r\n    \r\n            Label label = new Label(&quot;Hello World!&quot;);\r\n    \r\n            ListView&lt;Person&gt; listView = new ListView();\r\n            listView.setCellFactory(lv -&gt; new ListCell&lt;Person&gt;()\r\n            {\r\n                @Override\r\n                public void updateItem(Person item, boolean empty)\r\n                {\r\n                    super.updateItem(item, empty);\r\n                    if (empty) {\r\n                        setText(null);\r\n                        setOnMouseClicked(null);\r\n                    }\r\n                    else {\r\n                        setText(item.getFirstName() + &quot; &quot; + item.getLastName());\r\n                        setOnMouseClicked(event -&gt; {\r\n                            if (event.getClickCount() == 2 &amp;&amp; ! isEmpty()) {\r\n                                label.setText(item.getFirstName() + item.getLastName());\r\n                            }\r\n                        });\r\n                    }\r\n    \r\n                }\r\n            });\r\n    \r\n            listView.getItems().add(new Person(&quot;a&quot;, &quot;b&quot;));\r\n            listView.getItems().add(new Person(&quot;c&quot;, &quot;d&quot;));\r\n            listView.getItems().add(new Person(&quot;e&quot;, &quot;f&quot;));\r\n    \r\n            VBox vBox = new VBox(listView, label);\r\n    \r\n            Scene scene = new Scene(vBox, 300, 120);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            Application.launch(args);\r\n        }\r\n    }\r\n\r\n","title":"Getting information about a cell in a javafx listview","body":"<p>Here is one way to accomplish what I think you are asking. This uses <code>setOnMouseClicked</code> in the <code>setCellFactory</code>.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ListCell;\nimport javafx.scene.control.ListView;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class ListViewExperiments extends Application\n{\n\n    @Override\n    public void start(Stage primaryStage) throws Exception\n    {\n        primaryStage.setTitle(&quot;ListView Experiment 1&quot;);\n\n        Label label = new Label(&quot;Hello World!&quot;);\n\n        ListView&lt;Person&gt; listView = new ListView();\n        listView.setCellFactory(lv -&gt; new ListCell&lt;Person&gt;()\n        {\n            @Override\n            public void updateItem(Person item, boolean empty)\n            {\n                super.updateItem(item, empty);\n                if (empty) {\n                    setText(null);\n                    setOnMouseClicked(null);\n                }\n                else {\n                    setText(item.getFirstName() + &quot; &quot; + item.getLastName());\n                    setOnMouseClicked(event -&gt; {\n                        if (event.getClickCount() == 2 &amp;&amp; ! isEmpty()) {\n                            label.setText(item.getFirstName() + item.getLastName());\n                        }\n                    });\n                }\n\n            }\n        });\n\n        listView.getItems().add(new Person(&quot;a&quot;, &quot;b&quot;));\n        listView.getItems().add(new Person(&quot;c&quot;, &quot;d&quot;));\n        listView.getItems().add(new Person(&quot;e&quot;, &quot;f&quot;));\n\n        VBox vBox = new VBox(listView, label);\n\n        Scene scene = new Scene(vBox, 300, 120);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args)\n    {\n        Application.launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12793473,"reputation":3,"user_id":9257265,"display_name":"Etienne Poulin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48404572,"answer_count":1,"score":0,"last_activity_date":1677548431,"creation_date":1516717669,"question_id":48404097,"body_markdown":"I have a Listview, made with Fxml and elements within it were added via an observable list. I want to, when the user double clicks a node, to **get data about that node**. I already dealt with the double click and everything else, but I need to get the name of the clicked node to be able to get data from a hashmap and so on... I tried to use `if(e.getTarget() == ListCell)` but it tells me &quot;Expression expected&quot; as if it was an enum.\r\n\r\nI know there might be a duplicate of this somewhere, but I couldn&#39;t find any with my formulation of the question... So, I&#39;m asking you, how do I get the name of the node and check if the click happened on a node or in the &quot;void of the listview&quot;.\r\n\r\nEdit: By name, I mean display name.","title":"Getting information about a cell in a javafx listview","body":"<p>I have a Listview, made with Fxml and elements within it were added via an observable list. I want to, when the user double clicks a node, to <strong>get data about that node</strong>. I already dealt with the double click and everything else, but I need to get the name of the clicked node to be able to get data from a hashmap and so on... I tried to use <code>if(e.getTarget() == ListCell)</code> but it tells me \"Expression expected\" as if it was an enum.</p>\n\n<p>I know there might be a duplicate of this somewhere, but I couldn't find any with my formulation of the question... So, I'm asking you, how do I get the name of the node and check if the click happened on a node or in the \"void of the listview\".</p>\n\n<p>Edit: By name, I mean display name.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677554421,"post_id":75585883,"comment_id":133356707,"body_markdown":"By the way, if your sound effect is short, then you may want to consider using an `AudioClip` instead of a `MediaPlayer`.","body":"By the way, if your sound effect is short, then you may want to consider using an <code>AudioClip</code> instead of a <code>MediaPlayer</code>."}],"owner":{"account_id":27894669,"reputation":1,"user_id":21300235,"display_name":"matiashartwig23"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677546751,"answer_count":0,"score":0,"last_activity_date":1677546714,"creation_date":1677534547,"question_id":75585883,"body_markdown":"I am attempting to learn JavaFX and are doing some tinkering with mediaplayer. My program has a simple idea;\r\n\r\nA button, that when it is clicked, plays a sound effect. While programming such things, i get a huge error. Sample code:\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.media.Media;\r\nimport javafx.scene.media.MediaPlayer;\r\nimport javafx.scene.media.*;\r\n\r\n\r\n\r\npublic class MyJavaFX extends Application {\r\n\t@Override // Override the start method in the Application class\r\n\tpublic void start(Stage primaryStage) {\r\n\t\t// Create a button and place it in the scene\r\n\t\tButton btyay = new Button(&quot;Yay!&quot;);\r\n\t\tScene scene = new Scene(btyay, 200, 250);\r\n\r\n\t\t// Instantiating Media class\r\n\t\tMedia media = new Media(&quot;file://C:/Users/myname/Downloads/yay.mp3&quot;);\r\n\r\n\t\t// Instantiating MediaPlayer class\r\n\t\tMediaPlayer mediaPlayer = new MediaPlayer(media);\r\n\t\tmediaPlayer.play();\r\n\r\n        btyay.setOnMouseClicked(e -&gt; {\r\n\t\t\tmediaPlayer.play();\r\n\t\t\t\r\n\t\t});\r\n\r\n\t\tprimaryStage.setTitle(&quot;MyJavaFX&quot;); // Set the stage title\r\n\t\tprimaryStage.setScene(scene); // Place the scene in the stage\r\n\t\tprimaryStage.show(); // Display the stage\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nThe problem is eliminated when i remove the mediaplayer code chunk.\r\n\r\n\r\nSample of error:\r\n\r\n\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.NativeMediaManager (in unnamed module @0x5c4f124) cannot access class com.sun.glass.utils.NativeLibLoader (in module javafx.graphics) because module javafx.graphics does not export com.sun.glass.utils to unnamed module @0x5c4f124\r\n\tat com.sun.media.jfxmediaimpl.NativeMediaManager.lambda$new$0(NativeMediaManager.java:111)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\tat com.sun.media.jfxmediaimpl.NativeMediaManager.&lt;init&gt;(NativeMediaManager.java:108)\r\n\tat com.sun.media.jfxmediaimpl.NativeMediaManager$NativeMediaManagerInitializer.&lt;clinit&gt;(NativeMediaManager.java:78)\r\n\tat com.sun.media.jfxmediaimpl.NativeMediaManager.getDefaultInstance(NativeMediaManager.java:90)\r\n\tat com.sun.media.jfxmedia.MediaManager.canPlayProtocol(MediaManager.java:78)\r\n\tat com.sun.media.jfxmedia.locator.Locator.&lt;init&gt;(Locator.java:240)\r\n\tat javafx.scene.media.Media.&lt;init&gt;(Media.java:393)\r\n\tat MyJavaFX.start(MyJavaFX.java:18)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\nException running application MyJavaFX\r\n```\r\n\r\n\r\nHow do I solve this?\r\n","title":"Using MediaPlayer in eclipse using JavaFX 19","body":"<p>I am attempting to learn JavaFX and are doing some tinkering with mediaplayer. My program has a simple idea;</p>\n<p>A button, that when it is clicked, plays a sound effect. While programming such things, i get a huge error. Sample code:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.stage.Stage;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.scene.media.*;\n\n\n\npublic class MyJavaFX extends Application {\n    @Override // Override the start method in the Application class\n    public void start(Stage primaryStage) {\n        // Create a button and place it in the scene\n        Button btyay = new Button(&quot;Yay!&quot;);\n        Scene scene = new Scene(btyay, 200, 250);\n\n        // Instantiating Media class\n        Media media = new Media(&quot;file://C:/Users/myname/Downloads/yay.mp3&quot;);\n\n        // Instantiating MediaPlayer class\n        MediaPlayer mediaPlayer = new MediaPlayer(media);\n        mediaPlayer.play();\n\n        btyay.setOnMouseClicked(e -&gt; {\n            mediaPlayer.play();\n            \n        });\n\n        primaryStage.setTitle(&quot;MyJavaFX&quot;); // Set the stage title\n        primaryStage.setScene(scene); // Place the scene in the stage\n        primaryStage.show(); // Display the stage\n\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>The problem is eliminated when i remove the mediaplayer code chunk.</p>\n<p>Sample of error:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.NativeMediaManager (in unnamed module @0x5c4f124) cannot access class com.sun.glass.utils.NativeLibLoader (in module javafx.graphics) because module javafx.graphics does not export com.sun.glass.utils to unnamed module @0x5c4f124\n    at com.sun.media.jfxmediaimpl.NativeMediaManager.lambda$new$0(NativeMediaManager.java:111)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at com.sun.media.jfxmediaimpl.NativeMediaManager.&lt;init&gt;(NativeMediaManager.java:108)\n    at com.sun.media.jfxmediaimpl.NativeMediaManager$NativeMediaManagerInitializer.&lt;clinit&gt;(NativeMediaManager.java:78)\n    at com.sun.media.jfxmediaimpl.NativeMediaManager.getDefaultInstance(NativeMediaManager.java:90)\n    at com.sun.media.jfxmedia.MediaManager.canPlayProtocol(MediaManager.java:78)\n    at com.sun.media.jfxmedia.locator.Locator.&lt;init&gt;(Locator.java:240)\n    at javafx.scene.media.Media.&lt;init&gt;(Media.java:393)\n    at MyJavaFX.start(MyJavaFX.java:18)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nException running application MyJavaFX\n</code></pre>\n<p>How do I solve this?</p>\n"},{"tags":["java","installation","wso2","wso2-identity-server"],"answers":[{"tags":[],"owner":{"account_id":4909056,"reputation":505,"user_id":10943282,"display_name":"Joy Rathnayake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677374197,"creation_date":1677374197,"answer_id":75569454,"question_id":75568569,"body_markdown":"Based on your error, I think you are on a Windows PC, and you have downloaded the installation **installer.msi** option to install the product. Try the binary release, where you get a **.zip** file and extract it to any location, and them you can run from the command prompt. \r\n\r\nAlso, a common issue when you run WSO2 products initially is the JAVA_HOME. Please check whether you have set the JAVA_HOME correctly.","title":"java.lang.ClassNotFoundException: Files\\WSO2\\Identity","body":"<p>Based on your error, I think you are on a Windows PC, and you have downloaded the installation <strong>installer.msi</strong> option to install the product. Try the binary release, where you get a <strong>.zip</strong> file and extract it to any location, and them you can run from the command prompt.</p>\n<p>Also, a common issue when you run WSO2 products initially is the JAVA_HOME. Please check whether you have set the JAVA_HOME correctly.</p>\n"},{"tags":[],"owner":{"account_id":3103561,"reputation":13351,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677546415,"creation_date":1677546415,"answer_id":75587011,"question_id":75568569,"body_markdown":"You are probably getting this issue since you have Ffolder with spaces in the WSO2 Installation Path. For example `C:\\Program Files\\WSO2\\Identity Server\\6.1.0` has two folders with spaces. WSO2 applications don&#39;t handle spaces in paths well on Windows, hence move your WSO2 and Java installation to a place where each directory doesn&#39;t have any spaces. ","title":"java.lang.ClassNotFoundException: Files\\WSO2\\Identity","body":"<p>You are probably getting this issue since you have Ffolder with spaces in the WSO2 Installation Path. For example <code>C:\\Program Files\\WSO2\\Identity Server\\6.1.0</code> has two folders with spaces. WSO2 applications don't handle spaces in paths well on Windows, hence move your WSO2 and Java installation to a place where each directory doesn't have any spaces.</p>\n"}],"owner":{"account_id":25901959,"reputation":13,"user_id":19627690,"display_name":"Amir Hany"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75569454,"answer_count":2,"score":1,"last_activity_date":1677546499,"creation_date":1677360615,"question_id":75568569,"body_markdown":"I have an issue with installing WSO2 locally.\r\nI already follow the steps in the installation guide and when I try to run the server I got the following error.\r\n\r\n```\r\nJAVA_HOME environment variable is set to C:\\Program Files\\Java\\jdk-11.0.17\r\nCARBON_HOME environment variable is set to C:\\Program Files\\WSO2\\Identity Server\\6.1.0\r\nError: Could not find or load main class Files\\WSO2\\Identity\r\nCaused by: java.lang.ClassNotFoundException: Files\\WSO2\\Identity\r\n```\r\n\r\nJDK v11.017\r\nWsO2 IS v6.1.0\r\n","title":"java.lang.ClassNotFoundException: Files\\WSO2\\Identity","body":"<p>I have an issue with installing WSO2 locally.\nI already follow the steps in the installation guide and when I try to run the server I got the following error.</p>\n<pre><code>JAVA_HOME environment variable is set to C:\\Program Files\\Java\\jdk-11.0.17\nCARBON_HOME environment variable is set to C:\\Program Files\\WSO2\\Identity Server\\6.1.0\nError: Could not find or load main class Files\\WSO2\\Identity\nCaused by: java.lang.ClassNotFoundException: Files\\WSO2\\Identity\n</code></pre>\n<p>JDK v11.017\nWsO2 IS v6.1.0</p>\n"},{"tags":["java","android","warnings"],"answers":[{"comments":[{"owner":{"account_id":11078444,"reputation":1,"user_id":11907204,"display_name":"Abde Samad"},"score":0,"creation_date":1677526599,"post_id":75584612,"comment_id":133351659,"body_markdown":"it didn&#39;t work unfortunately. I have seen same answer on another post and I just tried again and now it is a error not warning. just made it worst.","body":"it didn&#39;t work unfortunately. I have seen same answer on another post and I just tried again and now it is a error not warning. just made it worst."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678033385,"post_id":75584612,"comment_id":133450610,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75584612/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":7456401,"reputation":21,"user_id":5669541,"display_name":"Rodrigo Ferreira"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677524981,"creation_date":1677524879,"answer_id":75584612,"question_id":75584508,"body_markdown":"You should add the following line of code:\r\n\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\nInside the build.gradle file (Module: app) and not in the build.gradle file (Project). \r\n\r\nTry to add after all dependencies.","title":"how to delete this warning &quot;Please apply google-services plugin at the bottom of the build file.&quot;","body":"<p>You should add the following line of code:</p>\n<p>apply plugin: 'com.google.gms.google-services'\nInside the build.gradle file (Module: app) and not in the build.gradle file (Project).</p>\n<p>Try to add after all dependencies.</p>\n"},{"tags":[],"owner":{"account_id":11078444,"reputation":1,"user_id":11907204,"display_name":"Abde Samad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677546279,"creation_date":1677546279,"answer_id":75587001,"question_id":75584508,"body_markdown":"so here is what i did to fix it:\r\n\r\n\r\nstep 1: I upgraded my gradle.\r\n\r\nstep 2: I added this to dependencies(make sure to add latest version):\r\n\r\n    implementation &#39;com.google.android.gms:play-services-location:21.0.1&#39;\r\n\r\nThe implementation above you can find it here:\r\nhttps://developers.google.com/android/guides/setup\r\n\r\nstep3: I reordered my plugins section to this in gradle.build(app):\r\n\r\n    plugins {\r\n      id &#39;com.android.application&#39;\r\n      id &#39;com.google.gms.google-services&#39;\r\n\r\n    }\r\n\r\nand it is working now 100%.\r\n","title":"how to delete this warning &quot;Please apply google-services plugin at the bottom of the build file.&quot;","body":"<p>so here is what i did to fix it:</p>\n<p>step 1: I upgraded my gradle.</p>\n<p>step 2: I added this to dependencies(make sure to add latest version):</p>\n<pre><code>implementation 'com.google.android.gms:play-services-location:21.0.1'\n</code></pre>\n<p>The implementation above you can find it here:\n<a href=\"https://developers.google.com/android/guides/setup\" rel=\"nofollow noreferrer\">https://developers.google.com/android/guides/setup</a></p>\n<p>step3: I reordered my plugins section to this in gradle.build(app):</p>\n<pre><code>plugins {\n  id 'com.android.application'\n  id 'com.google.gms.google-services'\n\n}\n</code></pre>\n<p>and it is working now 100%.</p>\n"}],"owner":{"account_id":11078444,"reputation":1,"user_id":11907204,"display_name":"Abde Samad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677546279,"creation_date":1677524202,"question_id":75584508,"body_markdown":"My my app is working fine but I want to remove this warning:\r\nPlease apply google-services plugin at the bottom of the build file.&quot;\r\n\r\nAnd please don&#39;t reply with don&#39;t worry ignore it because I really want to remove it.\r\n\r\nHere is my build.gradle (Project) script:\r\n\r\n\r\n\r\n```\r\ntype here\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.4.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.4.1&#39; apply false\r\n    id &quot;com.google.gms.google-services&quot; version &quot;4.3.14&quot; apply false\r\n}\r\n```\r\nHere is my build.gradle (App) script:\r\n\r\n\r\n```\r\ntype here\r\nplugins {\r\n    id &#39;com.google.gms.google-services&#39;\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.ahmedapps.walkthrough_app&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.ahmedapps.walkthrough_app&quot;\r\n        minSdk 21\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_16\r\n        targetCompatibility JavaVersion.VERSION_16\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&quot;\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.14.2&#39;\r\n    def lottieVersion = &quot;4.1.0&quot;\r\n    implementation &quot;com.airbnb.android:lottie:$lottieVersion&quot;\r\n\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:31.2.2&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n\r\n    implementation &#39;androidx.core:core-splashscreen:1.0.0-alpha01&#39;\r\n\r\n    implementation &#39;com.facebook.android:audience-network-sdk:6.12.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-ads:21.5.0&#39;\r\n    implementation &#39;com.google.ads.mediation:facebook:6.12.0.0&#39;\r\n\r\n    implementation &#39;com.onesignal:OneSignal:[4.0.0, 4.99.99]&#39;\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI tried updating gradle but didn&#39;t work. \r\nI m using 7.5 version","title":"how to delete this warning &quot;Please apply google-services plugin at the bottom of the build file.&quot;","body":"<p>My my app is working fine but I want to remove this warning:\nPlease apply google-services plugin at the bottom of the build file.&quot;</p>\n<p>And please don't reply with don't worry ignore it because I really want to remove it.</p>\n<p>Here is my build.gradle (Project) script:</p>\n<pre><code>type here\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.4.1' apply false\n    id 'com.android.library' version '7.4.1' apply false\n    id &quot;com.google.gms.google-services&quot; version &quot;4.3.14&quot; apply false\n}\n</code></pre>\n<p>Here is my build.gradle (App) script:</p>\n<pre><code>type here\nplugins {\n    id 'com.google.gms.google-services'\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.ahmedapps.walkthrough_app'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.ahmedapps.walkthrough_app&quot;\n        minSdk 21\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_16\n        targetCompatibility JavaVersion.VERSION_16\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&quot;\n    implementation 'com.android.volley:volley:1.2.1'\n    implementation 'com.github.bumptech.glide:glide:4.14.2'\n    def lottieVersion = &quot;4.1.0&quot;\n    implementation &quot;com.airbnb.android:lottie:$lottieVersion&quot;\n\n    implementation platform('com.google.firebase:firebase-bom:31.2.2')\n    implementation 'com.google.firebase:firebase-analytics'\n\n    implementation 'androidx.core:core-splashscreen:1.0.0-alpha01'\n\n    implementation 'com.facebook.android:audience-network-sdk:6.12.0'\n    implementation 'com.google.android.gms:play-services-ads:21.5.0'\n    implementation 'com.google.ads.mediation:facebook:6.12.0.0'\n\n    implementation 'com.onesignal:OneSignal:[4.0.0, 4.99.99]'\n}\n\n</code></pre>\n<p>I tried updating gradle but didn't work.\nI m using 7.5 version</p>\n"},{"tags":["java","vim","ultisnips"],"comments":[{"owner":{"account_id":934735,"reputation":23566,"user_id":963881,"accept_rate":83,"display_name":"syntagma"},"score":0,"creation_date":1541460175,"post_id":53160885,"comment_id":93217896,"body_markdown":"you have completely changed the question after I provided an answer to the original question.","body":"you have completely changed the question after I provided an answer to the original question."}],"answers":[{"comments":[{"owner":{"account_id":4019407,"reputation":11310,"user_id":3310334,"accept_rate":64,"display_name":"theonlygusti"},"score":0,"creation_date":1541457365,"post_id":53162196,"comment_id":93216989,"body_markdown":"I get `name __file__ is not defined`","body":"I get <code>name __file__ is not defined</code>"},{"owner":{"account_id":934735,"reputation":23566,"user_id":963881,"accept_rate":83,"display_name":"syntagma"},"score":0,"creation_date":1541458622,"post_id":53162196,"comment_id":93217419,"body_markdown":"Since `__file__` doesn&#39;t work in your case, you may want to try: `import inspect; filename = inspect.getfile(inspect.currentframe()))`.","body":"Since <code>__file__</code> doesn&#39;t work in your case, you may want to try: <code>import inspect; filename = inspect.getfile(inspect.currentframe()))</code>."},{"owner":{"account_id":4019407,"reputation":11310,"user_id":3310334,"accept_rate":64,"display_name":"theonlygusti"},"score":0,"creation_date":1541459693,"post_id":53162196,"comment_id":93217726,"body_markdown":"`os.getcwd()` doesn&#39;t work, it gets the directory from which `vim` was opened, not the directory where the currently-opened buffer exists.","body":"<code>os.getcwd()</code> doesn&#39;t work, it gets the directory from which <code>vim</code> was opened, not the directory where the currently-opened buffer exists."},{"owner":{"account_id":934735,"reputation":23566,"user_id":963881,"accept_rate":83,"display_name":"syntagma"},"score":0,"creation_date":1541460102,"post_id":53162196,"comment_id":93217873,"body_markdown":"@theonlygusti I see you&#39;ve completely changed the question (previously it didn&#39;t have any code). I think you should ask another question instead.","body":"@theonlygusti I see you&#39;ve completely changed the question (previously it didn&#39;t have any code). I think you should ask another question instead."}],"tags":[],"owner":{"account_id":934735,"reputation":23566,"user_id":963881,"accept_rate":83,"display_name":"syntagma"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541457998,"creation_date":1541451900,"answer_id":53162196,"question_id":53160885,"body_markdown":"UltiSnips stores Java snippets in [java.snippets][1], which on my machine is `~/.vim/bundle/vim-snippets/UltiSnips/java.snippets (I am using `honza/vim-snippets` as well).\r\n\r\nSnippets for Java are implemented using Python, so I have implemented the snippet below using Python as well (you can do it using multiple languages in UltiSnips).\r\n\r\nThere is already a snippet for `package`, which adds simply &quot;package&quot; word followed with a placeholder:\r\n\r\n    snippet pa &quot;package&quot; b\r\n    package $0\r\n    endsnippet\r\n\r\nLet&#39;s create a `pad` snippet that will automatically insert package name, based on the directory chain, instead of the `$0` placeholder:\r\n\r\n    snippet pad &quot;package&quot; b\r\n    package `!p\r\n    \r\n    def get_package_string(base_dir_name):\r\n      import os\r\n      # Get absolute path of the package (without filename)\r\n      absolute_path = os.getcwd().split(&quot;/&quot;)\r\n      src_dir_index = 0\r\n    \r\n      # Find index of &#39;base_dir_name&#39; element\r\n      while absolute_path[src_dir_index] != base_dir_name:\r\n        src_dir_index+=1\r\n       \r\n      # Create a &#39;package &#39; string, joining with dots\r\n      package_string = &quot;.&quot;.join(absolute_path[src_dir_index+1:])\r\n      return package_string\r\n    \r\n    # snip.rv is UltiSnips&#39; return value we want to paste between ``\r\n    snip.rv = get_package_string(&quot;java&quot;)`\r\n    \r\n    endsnippet\r\n\r\nNote that this solution is based on the fact that in many Java projects, there is an `src` directory with `main/java` and `test/java` directories in it and you are editing one of the files in `java` directory (e.g. for `src/main/com/google/common` it will return `com.google.common`). You may need to modify this to be more flexible.\r\n\r\nYou can find more information about creating snippets in [screencasts linked in its README][2].\r\n\r\n\r\n  [1]: https://github.com/SirVer/ultisnips/blob/1cb5639b78bc3685baf18b03859335143a86114c/UltiSnips/java.snippets\r\n  [2]: https://github.com/SirVer/ultisnips/tree/1cb5639b78bc3685baf18b03859335143a86114c#screencasts","title":"UltiSnips expand java package","body":"<p>UltiSnips stores Java snippets in <a href=\"https://github.com/SirVer/ultisnips/blob/1cb5639b78bc3685baf18b03859335143a86114c/UltiSnips/java.snippets\" rel=\"nofollow noreferrer\">java.snippets</a>, which on my machine is <code>~/.vim/bundle/vim-snippets/UltiSnips/java.snippets (I am using</code>honza/vim-snippets` as well).</p>\n\n<p>Snippets for Java are implemented using Python, so I have implemented the snippet below using Python as well (you can do it using multiple languages in UltiSnips).</p>\n\n<p>There is already a snippet for <code>package</code>, which adds simply \"package\" word followed with a placeholder:</p>\n\n<pre><code>snippet pa \"package\" b\npackage $0\nendsnippet\n</code></pre>\n\n<p>Let's create a <code>pad</code> snippet that will automatically insert package name, based on the directory chain, instead of the <code>$0</code> placeholder:</p>\n\n<pre><code>snippet pad \"package\" b\npackage `!p\n\ndef get_package_string(base_dir_name):\n  import os\n  # Get absolute path of the package (without filename)\n  absolute_path = os.getcwd().split(\"/\")\n  src_dir_index = 0\n\n  # Find index of 'base_dir_name' element\n  while absolute_path[src_dir_index] != base_dir_name:\n    src_dir_index+=1\n\n  # Create a 'package ' string, joining with dots\n  package_string = \".\".join(absolute_path[src_dir_index+1:])\n  return package_string\n\n# snip.rv is UltiSnips' return value we want to paste between ``\nsnip.rv = get_package_string(\"java\")`\n\nendsnippet\n</code></pre>\n\n<p>Note that this solution is based on the fact that in many Java projects, there is an <code>src</code> directory with <code>main/java</code> and <code>test/java</code> directories in it and you are editing one of the files in <code>java</code> directory (e.g. for <code>src/main/com/google/common</code> it will return <code>com.google.common</code>). You may need to modify this to be more flexible.</p>\n\n<p>You can find more information about creating snippets in <a href=\"https://github.com/SirVer/ultisnips/tree/1cb5639b78bc3685baf18b03859335143a86114c#screencasts\" rel=\"nofollow noreferrer\">screencasts linked in its README</a>.</p>\n"},{"tags":[],"owner":{"account_id":4019407,"reputation":11310,"user_id":3310334,"accept_rate":64,"display_name":"theonlygusti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1542250097,"creation_date":1542250097,"answer_id":53311710,"question_id":53160885,"body_markdown":"I use a combination of the file path and the groupId and the artifactId from the nearest pom.xml (upwards)\r\n\r\n    global !p\r\n    import os\r\n    from xml.etree import ElementTree\r\n    \r\n    def get_package_name(pom_file_path):\r\n      namespaces = {&#39;xmlns&#39; : &#39;http://maven.apache.org/POM/4.0.0&#39;}\r\n    \r\n      tree = ElementTree.parse(pom_file_path)\r\n      root = tree.getroot()\r\n    \r\n      groupId = root.find(&quot;.//xmlns:groupId&quot;, namespaces=namespaces)\r\n      artifactId = root.find(&quot;.//xmlns:artifactId&quot;, namespaces=namespaces)\r\n      return groupId.text + &#39;.&#39; + artifactId.text\r\n    \r\n    def find_nearest_pom():\r\n      current_file_dir = &#39;/&#39;.join((os.getcwd() + (&#39;/&#39; if os.getcwd()[-1] != &#39;/&#39; else &#39;&#39;) + path).split(&#39;/&#39;)[:-1])\r\n      absolute_path = current_file_dir.split(&quot;/&quot;)\r\n      pom_dir_index = -1\r\n    \r\n      if os.path.isfile(&#39;/&#39;.join(absolute_path) + &#39;/pom.xml&#39;):\r\n        return &#39;/&#39;.join(absolute_path) + &#39;/pom.xml&#39;\r\n    \r\n      # Find index of &#39;base_dir_name&#39; element\r\n      while not os.path.isfile(&#39;/&#39;.join(absolute_path[:pom_dir_index]) + &#39;/pom.xml&#39;):\r\n        pom_dir_index -= 1\r\n    \r\n      return &#39;/&#39;.join(absolute_path[:pom_dir_index]) + &#39;/pom.xml&#39;\r\n    \r\n    def get_file_package():\r\n      current_file_location = &#39;.&#39;.join((os.getcwd() + (&#39;/&#39; if os.getcwd()[-1] != &#39;/&#39; else &#39;&#39;) + path).split(&#39;/&#39;)[:-1])\r\n      package = get_package_name(find_nearest_pom())\r\n      return package + current_file_location.split(package)[1]\r\n    \r\n    endglobal\r\n    \r\n    snippet pkg &quot;package&quot; b\r\n    package `!p snip.rv = get_file_package()`;\r\n    endsnippet","title":"UltiSnips expand java package","body":"<p>I use a combination of the file path and the groupId and the artifactId from the nearest pom.xml (upwards)</p>\n\n<pre><code>global !p\nimport os\nfrom xml.etree import ElementTree\n\ndef get_package_name(pom_file_path):\n  namespaces = {'xmlns' : 'http://maven.apache.org/POM/4.0.0'}\n\n  tree = ElementTree.parse(pom_file_path)\n  root = tree.getroot()\n\n  groupId = root.find(\".//xmlns:groupId\", namespaces=namespaces)\n  artifactId = root.find(\".//xmlns:artifactId\", namespaces=namespaces)\n  return groupId.text + '.' + artifactId.text\n\ndef find_nearest_pom():\n  current_file_dir = '/'.join((os.getcwd() + ('/' if os.getcwd()[-1] != '/' else '') + path).split('/')[:-1])\n  absolute_path = current_file_dir.split(\"/\")\n  pom_dir_index = -1\n\n  if os.path.isfile('/'.join(absolute_path) + '/pom.xml'):\n    return '/'.join(absolute_path) + '/pom.xml'\n\n  # Find index of 'base_dir_name' element\n  while not os.path.isfile('/'.join(absolute_path[:pom_dir_index]) + '/pom.xml'):\n    pom_dir_index -= 1\n\n  return '/'.join(absolute_path[:pom_dir_index]) + '/pom.xml'\n\ndef get_file_package():\n  current_file_location = '.'.join((os.getcwd() + ('/' if os.getcwd()[-1] != '/' else '') + path).split('/')[:-1])\n  package = get_package_name(find_nearest_pom())\n  return package + current_file_location.split(package)[1]\n\nendglobal\n\nsnippet pkg \"package\" b\npackage `!p snip.rv = get_file_package()`;\nendsnippet\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2768170,"reputation":119,"user_id":2383363,"display_name":"Giuseppe Matheus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677546192,"creation_date":1677546192,"answer_id":75586995,"question_id":53160885,"body_markdown":"It can&#39;t be achieve using regex?\r\n\r\nlike this:\r\n\r\n```\r\nglobal !p\r\n\r\ndef get_file_package():\r\n    input_str = vim.eval(&#39;expand(&quot;%:p&quot;)&#39;)\r\n    transformed_str = re.sub(r&#39;^.*/src/(test|main)/java/((.+/)*)(.*?)/.*\\.java$&#39;, r&#39;\\3\\4&#39;, input_str)\r\n    return re.sub(&#39;/&#39;, &#39;.&#39;, transformed_str)\r\n\r\nendglobal\r\n\r\nsnippet pkg &quot;Declare java package&quot; b\r\npackage `!p snip.rv = get_file_package()`;\r\nendsnippet\r\n```\r\n\r\nI using this, tell if I missing something.","title":"UltiSnips expand java package","body":"<p>It can't be achieve using regex?</p>\n<p>like this:</p>\n<pre><code>global !p\n\ndef get_file_package():\n    input_str = vim.eval('expand(&quot;%:p&quot;)')\n    transformed_str = re.sub(r'^.*/src/(test|main)/java/((.+/)*)(.*?)/.*\\.java$', r'\\3\\4', input_str)\n    return re.sub('/', '.', transformed_str)\n\nendglobal\n\nsnippet pkg &quot;Declare java package&quot; b\npackage `!p snip.rv = get_file_package()`;\nendsnippet\n</code></pre>\n<p>I using this, tell if I missing something.</p>\n"}],"owner":{"account_id":4019407,"reputation":11310,"user_id":3310334,"accept_rate":64,"display_name":"theonlygusti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":427,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":53311710,"answer_count":3,"score":-1,"last_activity_date":1677546192,"creation_date":1541445940,"question_id":53160885,"body_markdown":"I want to be able to write a vim snippet that automatically turns into the required package.\r\n\r\nE.g. expanding `pkg` while inside of `.../com/theonlygust/project/Main.java` would become\r\n\r\n    package com.theonlygusti.project;\r\n\r\nI think the ways to do this are to either: read up the directory tree until seeing a TLD directory name (com, io, net, etc.) and then use the encountered directory names to build the package string, or to look up the directory tree for the `pom.xml` and find the package from there.\r\n\r\nI learned about python interpolation.\r\n\r\nI&#39;m now trying this:\r\n\r\n    snippet pkg &quot;Create package&quot; b\r\n    package `!p\r\n    \r\n    import os\r\n    from xml.etree import ElementTree\r\n    \r\n    def get_package_name(pom_file_path):\r\n      namespaces = {&#39;xmlns&#39; : &#39;http://maven.apache.org/POM/4.0.0&#39;}\r\n    \r\n      tree = ElementTree.parse(pom_file_path)\r\n      root = tree.getroot()\r\n    \r\n      groupId = root.find(&quot;.//xmlns:groupId&quot;, namespaces=namespaces)\r\n      artifactId = root.find(&quot;.//xmlns:artifactId&quot;, namespaces=namespaces)\r\n      return groupId.text + &#39;.&#39; + artifactId.text\r\n    \r\n    def find_nearest_pom():\r\n      absolute_path = os.path.abspath(os.path.dirname(&#39;__file__&#39;)).split(&quot;/&quot;)\r\n      pom_dir_index = -1\r\n    \r\n      # Find index of &#39;base_dir_name&#39; element\r\n      while not os.path.isfile(&#39;/&#39;.join(absolute_path[:pom_dir_index]) + &#39;/pom.xml&#39;):\r\n        pom_dir_index -= 1\r\n    \r\n      return &#39;/&#39;.join(absolute_path[:pom_dir_index]) + &#39;/pom.xml&#39;\r\n    \r\n    snip.rv = get_package_name(find_nearest_pom())`;\r\n    endsnippet\r\n\r\nBut I get the error\r\n\r\n&gt; Name `__file__` does not exist\r\n\r\nAnd `os.getcwd()` doesn&#39;t work because that returns the directory from which vim was opened, not the directory that contains the current buffer.\r\n\r\nI had a look at the `snip` object because I know it provides `snip.fn` to get the filename, but I couldn&#39;t find out if it provides the current file&#39;s directory.\r\n\r\nNevermind, finally learned that UltiSnips sets a global variable &quot;`path`&quot;","title":"UltiSnips expand java package","body":"<p>I want to be able to write a vim snippet that automatically turns into the required package.</p>\n\n<p>E.g. expanding <code>pkg</code> while inside of <code>.../com/theonlygust/project/Main.java</code> would become</p>\n\n<pre><code>package com.theonlygusti.project;\n</code></pre>\n\n<p>I think the ways to do this are to either: read up the directory tree until seeing a TLD directory name (com, io, net, etc.) and then use the encountered directory names to build the package string, or to look up the directory tree for the <code>pom.xml</code> and find the package from there.</p>\n\n<p>I learned about python interpolation.</p>\n\n<p>I'm now trying this:</p>\n\n<pre><code>snippet pkg \"Create package\" b\npackage `!p\n\nimport os\nfrom xml.etree import ElementTree\n\ndef get_package_name(pom_file_path):\n  namespaces = {'xmlns' : 'http://maven.apache.org/POM/4.0.0'}\n\n  tree = ElementTree.parse(pom_file_path)\n  root = tree.getroot()\n\n  groupId = root.find(\".//xmlns:groupId\", namespaces=namespaces)\n  artifactId = root.find(\".//xmlns:artifactId\", namespaces=namespaces)\n  return groupId.text + '.' + artifactId.text\n\ndef find_nearest_pom():\n  absolute_path = os.path.abspath(os.path.dirname('__file__')).split(\"/\")\n  pom_dir_index = -1\n\n  # Find index of 'base_dir_name' element\n  while not os.path.isfile('/'.join(absolute_path[:pom_dir_index]) + '/pom.xml'):\n    pom_dir_index -= 1\n\n  return '/'.join(absolute_path[:pom_dir_index]) + '/pom.xml'\n\nsnip.rv = get_package_name(find_nearest_pom())`;\nendsnippet\n</code></pre>\n\n<p>But I get the error</p>\n\n<blockquote>\n  <p>Name <code>__file__</code> does not exist</p>\n</blockquote>\n\n<p>And <code>os.getcwd()</code> doesn't work because that returns the directory from which vim was opened, not the directory that contains the current buffer.</p>\n\n<p>I had a look at the <code>snip</code> object because I know it provides <code>snip.fn</code> to get the filename, but I couldn't find out if it provides the current file's directory.</p>\n\n<p>Nevermind, finally learned that UltiSnips sets a global variable \"<code>path</code>\"</p>\n"},{"tags":["java","jar","centos"],"answers":[{"tags":[],"owner":{"account_id":10836576,"reputation":17,"user_id":14752529,"display_name":"Edawg O."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677545376,"creation_date":1677545376,"answer_id":75586934,"question_id":75554417,"body_markdown":"I updated /etc/profile with the below to resolve\r\n\r\n   \r\n```\r\n     LIMITUSER=$USER\r\n        if [ -e &quot;/usr/bin/whoami&quot; ]; then\r\n                LIMITUSER=`/usr/bin/whoami`\r\n        fi\r\n        if [ &quot;$LIMITUSER&quot; == &quot;root&quot; ]; then\r\n                ulimit -n 6144 -u 14335 -m unlimited -d unlimited -s 8192 -c 1000000 -v unlimited 2&gt;/dev/null\r\n        elif  [ &quot;$LIMITUSER&quot; == &quot;uptime&quot; ]; then\r\n                 ulimit -n 1024 -u 2047 -m unlimited -d unlimited -s 8192 -c 1000000 -v unlimited 2&gt;/dev/null\r\n        else\r\n                ulimit -n 6144 -u 14335 -m unlimited -d unlimited -s 8192 -c 1000000 -v unlimited 2&gt;/dev/null\r\n        fi\r\n```\r\n","title":"Error occurred during initialization of VM: Could not reserve enough space for code cache when executing jar file as regular user on Centos 7","body":"<p>I updated /etc/profile with the below to resolve</p>\n<pre><code>     LIMITUSER=$USER\n        if [ -e &quot;/usr/bin/whoami&quot; ]; then\n                LIMITUSER=`/usr/bin/whoami`\n        fi\n        if [ &quot;$LIMITUSER&quot; == &quot;root&quot; ]; then\n                ulimit -n 6144 -u 14335 -m unlimited -d unlimited -s 8192 -c 1000000 -v unlimited 2&gt;/dev/null\n        elif  [ &quot;$LIMITUSER&quot; == &quot;uptime&quot; ]; then\n                 ulimit -n 1024 -u 2047 -m unlimited -d unlimited -s 8192 -c 1000000 -v unlimited 2&gt;/dev/null\n        else\n                ulimit -n 6144 -u 14335 -m unlimited -d unlimited -s 8192 -c 1000000 -v unlimited 2&gt;/dev/null\n        fi\n</code></pre>\n"}],"owner":{"account_id":10836576,"reputation":17,"user_id":14752529,"display_name":"Edawg O."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75586934,"answer_count":1,"score":0,"last_activity_date":1677545376,"creation_date":1677228750,"question_id":75554417,"body_markdown":"I have a Centos 7 machine with 64gb memory (49gb available) where I am experiencing an issue when trying to execute a jar file as a regular user with the following command:\r\n\r\n```java -jar jarfile.jar```\r\n\r\nIt returns the error:\r\n\r\n```Error occurred during initialization of VM```&lt;br&gt;\r\n```Could not reserve enough space for code cache```\r\n\r\nHowever, when I switch to the root user and execute the same command, it runs successfully. I have checked that the user executing the jar file is the owner and the permissions of the file are set to:\r\n\r\n```-rw-rw-r--```\r\n\r\nI have also checked that there is enough space available on the machine. \r\n\r\nCan anyone kindly suggest what could be causing this issue and how I can resolve it to enable the jar file to be executed successfully as a regular user?\r\n\r\nThanks","title":"Error occurred during initialization of VM: Could not reserve enough space for code cache when executing jar file as regular user on Centos 7","body":"<p>I have a Centos 7 machine with 64gb memory (49gb available) where I am experiencing an issue when trying to execute a jar file as a regular user with the following command:</p>\n<p><code>java -jar jarfile.jar</code></p>\n<p>It returns the error:</p>\n<p><code>Error occurred during initialization of VM</code><br>\n<code>Could not reserve enough space for code cache</code></p>\n<p>However, when I switch to the root user and execute the same command, it runs successfully. I have checked that the user executing the jar file is the owner and the permissions of the file are set to:</p>\n<p><code>-rw-rw-r--</code></p>\n<p>I have also checked that there is enough space available on the machine.</p>\n<p>Can anyone kindly suggest what could be causing this issue and how I can resolve it to enable the jar file to be executed successfully as a regular user?</p>\n<p>Thanks</p>\n"},{"tags":["java","class"],"answers":[{"comments":[{"owner":{"account_id":22299951,"reputation":19,"user_id":16525303,"display_name":"Peanut Walrus"},"score":0,"creation_date":1677529292,"post_id":75584254,"comment_id":133352377,"body_markdown":"I am into the fantasy genre, but not enough to center my code around it. My mentor is though. They said the battle code in the tester would look something like cat.spellBind(dog), and then the dog would take damage from the spell. But in my mind, I don&#39;t see how that would be possible, seeing as the dog hasn&#39;t been created yet. Also I will try and find game equivalent code seeing as that could be a nice past time that can bolster my knowledge.","body":"I am into the fantasy genre, but not enough to center my code around it. My mentor is though. They said the battle code in the tester would look something like cat.spellBind(dog), and then the dog would take damage from the spell. But in my mind, I don&#39;t see how that would be possible, seeing as the dog hasn&#39;t been created yet. Also I will try and find game equivalent code seeing as that could be a nice past time that can bolster my knowledge."}],"tags":[],"owner":{"account_id":27892660,"reputation":11,"user_id":21298695,"display_name":"Mike Clarke"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677522656,"creation_date":1677522656,"answer_id":75584254,"question_id":75583572,"body_markdown":"I think there are 2 problems here. I suggest you tackle them in order as it will probably make it easier to think about the second problem of &quot;loading&quot; a wizard from your test file. \r\n\r\nDo you have a main class that handles the ```Magician``` entities/instances? How would you code 2 wizards starting a battle?\r\n\r\nThink about your method signature. Perhaps it&#39;s useful for 2 wizards to be able to compare themselves to each other before they battle? Maybe if one has a really big hat or beard, or has lots of other wizard trophies stitched to his robe, the second one might not want to battle? I&#39;d suggest looking at the ```Comparable``` interface documentation to think about this. This might help with your battle method signature too.\r\n\r\nWhen you want to be able to load the stats for a wizard from a file, you need to think about some kind of serialization mechanism. Java has a built in class called Properties that you could use for this, or if you&#39;re familiar with JSON or YAML there are libraries you could use to help you. These are all text based so would be easy to maintain visually. You should do some reading about Java beans. \r\n\r\nFinally, since it sounds like you&#39;re motivated by the fantasy gaming genre, you might consider looking at the code for one of the text based Multi User Dungeon (MUD) games. I used to code and play CircleMUD back in the day which was written in C, but I&#39;m sure there are Java equivalents around now. ","title":"Subtracting from a constructor that doesn&#39;t exist yet","body":"<p>I think there are 2 problems here. I suggest you tackle them in order as it will probably make it easier to think about the second problem of &quot;loading&quot; a wizard from your test file.</p>\n<p>Do you have a main class that handles the <code>Magician</code> entities/instances? How would you code 2 wizards starting a battle?</p>\n<p>Think about your method signature. Perhaps it's useful for 2 wizards to be able to compare themselves to each other before they battle? Maybe if one has a really big hat or beard, or has lots of other wizard trophies stitched to his robe, the second one might not want to battle? I'd suggest looking at the <code>Comparable</code> interface documentation to think about this. This might help with your battle method signature too.</p>\n<p>When you want to be able to load the stats for a wizard from a file, you need to think about some kind of serialization mechanism. Java has a built in class called Properties that you could use for this, or if you're familiar with JSON or YAML there are libraries you could use to help you. These are all text based so would be easy to maintain visually. You should do some reading about Java beans.</p>\n<p>Finally, since it sounds like you're motivated by the fantasy gaming genre, you might consider looking at the code for one of the text based Multi User Dungeon (MUD) games. I used to code and play CircleMUD back in the day which was written in C, but I'm sure there are Java equivalents around now.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677542814,"creation_date":1677542814,"answer_id":75586735,"question_id":75583572,"body_markdown":"Your code currently doesn&#39;t create any objects.\r\n\r\nBut from your question and comments I suspect that you need something like\r\n\r\n    Magician cat = new Magician(&quot;cat&quot;, &quot;supply&quot;);\r\n    Magician dog = new Magician(&quot;dog&quot;, &quot;othersupply&quot;);\r\n\r\n    cat.spellBind(dog);\r\n    dog.spellBind(cat);\r\n\r\nFor this to compile you need a method `spellBind(Magician)` in your `Magician` class:\r\n\r\n    public void spellBind(Magician opponent) {\r\n        // do whatever is necessary to spellBind the opponent\r\n        // i.e.\r\n        // * spend seem of the current Magician&#39;s energy\r\n        // * reduce the opponents health level\r\n    }\r\n\r\nNote that it is not the responsability of this `spellBind()` method to create a new opponent - the opponent is provided by the calling code.","title":"Subtracting from a constructor that doesn&#39;t exist yet","body":"<p>Your code currently doesn't create any objects.</p>\n<p>But from your question and comments I suspect that you need something like</p>\n<pre><code>Magician cat = new Magician(&quot;cat&quot;, &quot;supply&quot;);\nMagician dog = new Magician(&quot;dog&quot;, &quot;othersupply&quot;);\n\ncat.spellBind(dog);\ndog.spellBind(cat);\n</code></pre>\n<p>For this to compile you need a method <code>spellBind(Magician)</code> in your <code>Magician</code> class:</p>\n<pre><code>public void spellBind(Magician opponent) {\n    // do whatever is necessary to spellBind the opponent\n    // i.e.\n    // * spend seem of the current Magician's energy\n    // * reduce the opponents health level\n}\n</code></pre>\n<p>Note that it is not the responsability of this <code>spellBind()</code> method to create a new opponent - the opponent is provided by the calling code.</p>\n"}],"owner":{"account_id":22299951,"reputation":19,"user_id":16525303,"display_name":"Peanut Walrus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677542814,"creation_date":1677518261,"question_id":75583572,"body_markdown":"I am trying to compare my wizard to do battle with another wizard. But the problem is the other wizard doesn&#39;t exist in the class file and only exists in the tester file. How do I access the wizard in my tester file to do battle with the one I have already made?\r\n\r\nI have tried making a wizard in the class file, but I want the file to be able to do battle with their own wizard instead having a premade battle wizard already ready for them in the base tester. That&#39;s all I have so far, but I don&#39;t where to go from here. This is the entire code that I made in regards to the question. The arrow is the part where I am having problems.\r\n\r\n```    public class Magician{\r\n    private String name = &quot;Some_Wizard&quot;;\r\n    private String level = &quot;unknown&quot;;\r\n    private String supplies = &quot;branch&quot;;\r\n    private int health = 100;\r\n    private int galleons = 1000;\r\n    private int status = 1;\r\n    // starting Magician object\r\n   public Magician(String name, String supplies){\r\n    this.name = name;\r\n    this.supplies = supplies;\r\n   }\r\n    // send name to toString when envoked\r\n   public String getName(){\r\n      return name;\r\n   }\r\n    // changes name when envoked\r\n   public void setName(String nameUpdate){\r\n      name = nameUpdate;\r\n   }\r\n    // sends name to toString when envoked\r\n   public String getSupplies(){\r\n      return supplies;\r\n   }\r\n    // changes name when envoked\r\n   public void setSupplies(String suppliesUpdate){\r\n      supplies = suppliesUpdate;\r\n   }\r\n    // gets the mage level\r\n   public String getLevel(){\r\n      return level;\r\n   }\r\n    // gets health\r\n   public int getHealth(){\r\n      return health;\r\n   }\r\n    // sets health\r\n   public void setHealth(int hitPoints){\r\n      health = hitPoints;\r\n   }\r\n    // gets the Galleons\r\n   public int getGalleons(){\r\n      return galleons;\r\n   }\r\n    // updates galleon amount\r\n   public void setGalleons(int credits){\r\n      galleons = credits;\r\n   }\r\n    // returns status\r\n   public int getStatus(){\r\n      return status;\r\n   }\r\n    // increases level of mage when envoked\r\n   public boolean advanceLevel(){\r\n   int i = 1;\r\n      boolean upgrade = false;\r\n      \r\n      if (i &gt; 0){\r\n         upgrade = true;\r\n         if (level.equals(&quot;unknown&quot;)){\r\n            level = &quot;apprentice&quot;;\r\n         }\r\n         else if(level.equals(&quot;apprentice&quot;)){\r\n            level = &quot;wizard&quot;;\r\n         }\r\n         else if(level.equals(&quot;wizard&quot;)){\r\n            level = &quot;shaman&quot;;\r\n         }\r\n         else if (level.equals(&quot;shaman&quot;)){\r\n            level = &quot;Level is maxed out&quot;;\r\n         }\r\n         \r\n      }\r\n         return upgrade;\r\n      }\r\n    // decreases the level of the wizard\r\n   public boolean downgradeLevel(){\r\n    int i = 1;\r\n      boolean downgrade = false;\r\n      \r\n      if (i &gt; 0){\r\n         downgrade = true;\r\n         if (level.equals(&quot;shaman&quot;)){\r\n            level = &quot;wizard&quot;;\r\n         }\r\n         else if(level.equals(&quot;wizard&quot;)){\r\n            level = &quot;apprentice&quot;;\r\n         }\r\n         else if(level.equals(&quot;apprentice&quot;)){\r\n            level = &quot;unknown&quot;;\r\n         }\r\n         else{\r\n            level = &quot;need to level up.&quot;;\r\n         }\r\n         \r\n      }\r\n\r\n      return downgrade;\r\n   }\r\n    // buys a wand\r\n   public boolean buyProp(){\r\n      boolean flag = false;\r\n      String supply = supplies.toUpperCase(); \r\n      char ch = supplies.charAt(0);\r\n      if (ch == &#39;S&#39;){\r\n      flag = true;\r\n         galleons -= 300;\r\n               }\r\n      else if (ch == &#39;C&#39;){\r\n      flag = true;\r\n         galleons -= 75;\r\n               }\r\n      else if (ch == &#39;B&#39;){\r\n      flag = true;\r\n         galleons -= 100;\r\n               }\r\n      else if (ch == &#39;T&#39;){\r\n      flag = true;\r\n         galleons -= 150;\r\n               }\r\n      else if (ch == &#39;S&#39;){\r\n      flag = true;\r\n         galleons -= 300;\r\n               }\r\n      else if (ch == &#39;W&#39;){\r\n      flag = true;\r\n         galleons -= 200;\r\n               }\r\n     else if( galleons &lt;= 74){\r\n      galleons += 1000;\r\n     }\r\n\r\n      return flag;\r\n   }\r\n    // now its time for battle &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;-----------Problem\r\n   public void spellBind(){\r\n   int dmg = 1;\r\n      if ((dmg &gt;= 1) &amp;&amp; (health &gt;= 1)){\r\n         health -= 0.1 * health;\r\n      }\r\n   } &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;---------------- end of problem\r\n   public boolean equals(){\r\n      boolean equal = false;\r\n    //      if (magician \r\n         return equal;\r\n   }\r\n}// end of class```","title":"Subtracting from a constructor that doesn&#39;t exist yet","body":"<p>I am trying to compare my wizard to do battle with another wizard. But the problem is the other wizard doesn't exist in the class file and only exists in the tester file. How do I access the wizard in my tester file to do battle with the one I have already made?</p>\n<p>I have tried making a wizard in the class file, but I want the file to be able to do battle with their own wizard instead having a premade battle wizard already ready for them in the base tester. That's all I have so far, but I don't where to go from here. This is the entire code that I made in regards to the question. The arrow is the part where I am having problems.</p>\n<pre><code>    private String name = &quot;Some_Wizard&quot;;\n    private String level = &quot;unknown&quot;;\n    private String supplies = &quot;branch&quot;;\n    private int health = 100;\n    private int galleons = 1000;\n    private int status = 1;\n    // starting Magician object\n   public Magician(String name, String supplies){\n    this.name = name;\n    this.supplies = supplies;\n   }\n    // send name to toString when envoked\n   public String getName(){\n      return name;\n   }\n    // changes name when envoked\n   public void setName(String nameUpdate){\n      name = nameUpdate;\n   }\n    // sends name to toString when envoked\n   public String getSupplies(){\n      return supplies;\n   }\n    // changes name when envoked\n   public void setSupplies(String suppliesUpdate){\n      supplies = suppliesUpdate;\n   }\n    // gets the mage level\n   public String getLevel(){\n      return level;\n   }\n    // gets health\n   public int getHealth(){\n      return health;\n   }\n    // sets health\n   public void setHealth(int hitPoints){\n      health = hitPoints;\n   }\n    // gets the Galleons\n   public int getGalleons(){\n      return galleons;\n   }\n    // updates galleon amount\n   public void setGalleons(int credits){\n      galleons = credits;\n   }\n    // returns status\n   public int getStatus(){\n      return status;\n   }\n    // increases level of mage when envoked\n   public boolean advanceLevel(){\n   int i = 1;\n      boolean upgrade = false;\n      \n      if (i &gt; 0){\n         upgrade = true;\n         if (level.equals(&quot;unknown&quot;)){\n            level = &quot;apprentice&quot;;\n         }\n         else if(level.equals(&quot;apprentice&quot;)){\n            level = &quot;wizard&quot;;\n         }\n         else if(level.equals(&quot;wizard&quot;)){\n            level = &quot;shaman&quot;;\n         }\n         else if (level.equals(&quot;shaman&quot;)){\n            level = &quot;Level is maxed out&quot;;\n         }\n         \n      }\n         return upgrade;\n      }\n    // decreases the level of the wizard\n   public boolean downgradeLevel(){\n    int i = 1;\n      boolean downgrade = false;\n      \n      if (i &gt; 0){\n         downgrade = true;\n         if (level.equals(&quot;shaman&quot;)){\n            level = &quot;wizard&quot;;\n         }\n         else if(level.equals(&quot;wizard&quot;)){\n            level = &quot;apprentice&quot;;\n         }\n         else if(level.equals(&quot;apprentice&quot;)){\n            level = &quot;unknown&quot;;\n         }\n         else{\n            level = &quot;need to level up.&quot;;\n         }\n         \n      }\n\n      return downgrade;\n   }\n    // buys a wand\n   public boolean buyProp(){\n      boolean flag = false;\n      String supply = supplies.toUpperCase(); \n      char ch = supplies.charAt(0);\n      if (ch == 'S'){\n      flag = true;\n         galleons -= 300;\n               }\n      else if (ch == 'C'){\n      flag = true;\n         galleons -= 75;\n               }\n      else if (ch == 'B'){\n      flag = true;\n         galleons -= 100;\n               }\n      else if (ch == 'T'){\n      flag = true;\n         galleons -= 150;\n               }\n      else if (ch == 'S'){\n      flag = true;\n         galleons -= 300;\n               }\n      else if (ch == 'W'){\n      flag = true;\n         galleons -= 200;\n               }\n     else if( galleons &lt;= 74){\n      galleons += 1000;\n     }\n\n      return flag;\n   }\n    // now its time for battle &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;-----------Problem\n   public void spellBind(){\n   int dmg = 1;\n      if ((dmg &gt;= 1) &amp;&amp; (health &gt;= 1)){\n         health -= 0.1 * health;\n      }\n   } &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;---------------- end of problem\n   public boolean equals(){\n      boolean equal = false;\n    //      if (magician \n         return equal;\n   }\n}// end of class```\n</code></pre>\n"},{"tags":["java","php","http","web-services","postman"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677557074,"post_id":75585827,"comment_id":133357035,"body_markdown":"Guess it is `public void process(Exchange exchange) throws Exception`, if you encounter Exception, throw it directly, so you will get a StatusCode 500 externally, but the default value of responseStatusCode is 200 (private int responseStatusCode = 200;) of api json StatusCode is still 200. What is the Exception that should be checked? Or it should not be thrown, and should be handled by try catch inside the method process (Exchange exchange).","body":"Guess it is <code>public void process(Exchange exchange) throws Exception</code>, if you encounter Exception, throw it directly, so you will get a StatusCode 500 externally, but the default value of responseStatusCode is 200 (private int responseStatusCode = 200;) of api json StatusCode is still 200. What is the Exception that should be checked? Or it should not be thrown, and should be handled by try catch inside the method process (Exchange exchange)."}],"owner":{"account_id":27886736,"reputation":11,"user_id":21294011,"display_name":"InternetLover"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677542796,"creation_date":1677534032,"question_id":75585827,"body_markdown":"I&#39;m consuming an API of an internal system in the company.  \r\nIf I invoke the service directly through Postman I get a HTTP code: 200  \r\n\r\n#### Using Postman\r\n\r\n* HTTP: `200`\r\n* JSON Response:\r\n```json\r\n{\r\n    &quot;status&quot;: 200,\r\n    &quot;companyTaxes&quot;: {\r\n        &quot;Company&quot;: {\r\n            &quot;message&quot;: &quot;&quot;,\r\n            &quot;taxes&quot;: [{&quot;okay&quot;:1}]\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n* HTTP: `200`\r\n* JSON Response:\r\n```json\r\n{\r\n    &quot;status&quot;: 500,\r\n    &quot;companyTaxes&quot;: {\r\n        &quot;Company&quot;: {\r\n            &quot;message&quot;: &quot;SOMETHING FAILED!&quot;,\r\n            &quot;taxes&quot;: []\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n#### Using the web application:\r\n\r\nWhen I try to invoke this but from a browser, it throws a HTTP code `100` and the JSON response is thrown without any parsing or whatever (plain text):\r\n\r\n&gt; Error message:\r\n&gt;\r\n&gt; ERROR 500 Tax Calculator Exception: &quot;Tax Calculator API Exception: \\\\&quot;{\\\\\\\\n \\\\\\\\\\\\&quot;status\\\\\\\\\\\\&quot; : 200,\\\\\\\\n \\\\\\\\\\\\&quot;companyTaxes\\\\\\\\\\\\&quot; : {\\\\\\\\n \\\\\\\\\\\\&quot;Company\\\\\\\\\\\\&quot; : {\\\\\\\\n \\\\\\\\\\\\&quot;message\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;SOMETHING FAILED!\\\\\\\\\\\\&quot;,\\\\\\\\n \\\\\\\\\\\\&quot;taxes\\\\\\\\\\\\&quot; : \\[ \\]\\\\\\\\n }\\\\\\\\n }\\\\\\\\n}\\\\&quot;&quot;\r\n\r\nThis is the JAVA code from the  webservice:\r\n\r\n```java\r\nprivate int responseStatusCode = 200;\r\n\r\n    @Override\r\n    public void process(Exchange exchange) throws Exception {\r\n        String message = (String) exchange.getIn().getHeader(&quot;exception.message&quot;);\r\n        String companyName = exchange.getProperty(&quot;companyName&quot;,String.class);\r\n        Map&lt;String, CompanyTax&gt; output = new HashMap&lt;&gt;();\r\n        CompanyTax companyTax = new CompanyTax();\r\n        if (StringUtils.isBlank(message)) {\r\n            Map&lt;String, Object&gt; map = exchange.getIn().getBody(Map.class);\r\n            String Result = (String) map.get(&quot;x_msg_data&quot;);\r\n            if (StringUtils.isBlank(Result)) {\r\n                companyTax.setFess((List&lt;TaxLineOut&gt;) map.get(&quot;x_fees_tab&quot;));\r\n                output.put(companyName, companyTax);\r\n            } else {\r\n                /*   API executed with errors. Fess will be empty  */\r\n                companyTax.setMessage(Result);\r\n                companyTax.setFess(new ArrayList&lt;&gt;());\r\n                output.put(companyName, companyTax);\r\n            }\r\n        } else {\r\n            /*  API could not be executed. Fess will be null */\r\n            companyTax.setMessage(&quot; API Could not be executed&quot;);\r\n            companyTax.setFess(new ArrayList&lt;&gt;());\r\n            output.put(companyName, companyTax);\r\n        }\r\n        CompanyTaxResponse response = new CompanyTaxResponse();\r\n        if (CollectionUtils.isEmpty(output)) {\r\n            responseStatusCode = 400;\r\n        } else {\r\n            response.setCompanyFess(output);\r\n            for (CompanyTax companyTax1 : output.values()) {\r\n                if (StringUtils.isNotBlank(companyTax1.getMessage())) {\r\n                    response.setStatus(500);\r\n                }\r\n            }\r\n        }\r\n        exchange.getOut().setBody(response);\r\n        Map&lt;String, Object&gt; headers = exchange.getIn().getHeaders();\r\n        headers.put(Exchange.HTTP_RESPONSE_CODE, responseStatusCode);\r\n        exchange.getOut().setHeaders(headers);\r\n```\r\n\r\nAm I doing something wrong?","title":"Service returning 200 in POSTMAN but http 100 code when invoking the service directly in PHP","body":"<p>I'm consuming an API of an internal system in the company.<br />\nIf I invoke the service directly through Postman I get a HTTP code: 200</p>\n<h4>Using Postman</h4>\n<ul>\n<li>HTTP: <code>200</code></li>\n<li>JSON Response:</li>\n</ul>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;status&quot;: 200,\n    &quot;companyTaxes&quot;: {\n        &quot;Company&quot;: {\n            &quot;message&quot;: &quot;&quot;,\n            &quot;taxes&quot;: [{&quot;okay&quot;:1}]\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>HTTP: <code>200</code></li>\n<li>JSON Response:</li>\n</ul>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;status&quot;: 500,\n    &quot;companyTaxes&quot;: {\n        &quot;Company&quot;: {\n            &quot;message&quot;: &quot;SOMETHING FAILED!&quot;,\n            &quot;taxes&quot;: []\n        }\n    }\n}\n</code></pre>\n<h4>Using the web application:</h4>\n<p>When I try to invoke this but from a browser, it throws a HTTP code <code>100</code> and the JSON response is thrown without any parsing or whatever (plain text):</p>\n<blockquote>\n<p>Error message:</p>\n<p>ERROR 500 Tax Calculator Exception: &quot;Tax Calculator API Exception: \\&quot;{\\\\n \\\\\\&quot;status\\\\\\&quot; : 200,\\\\n \\\\\\&quot;companyTaxes\\\\\\&quot; : {\\\\n \\\\\\&quot;Company\\\\\\&quot; : {\\\\n \\\\\\&quot;message\\\\\\&quot; : \\\\\\&quot;SOMETHING FAILED!\\\\\\&quot;,\\\\n \\\\\\&quot;taxes\\\\\\&quot; : [ ]\\\\n }\\\\n }\\\\n}\\&quot;&quot;</p>\n</blockquote>\n<p>This is the JAVA code from the  webservice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int responseStatusCode = 200;\n\n    @Override\n    public void process(Exchange exchange) throws Exception {\n        String message = (String) exchange.getIn().getHeader(&quot;exception.message&quot;);\n        String companyName = exchange.getProperty(&quot;companyName&quot;,String.class);\n        Map&lt;String, CompanyTax&gt; output = new HashMap&lt;&gt;();\n        CompanyTax companyTax = new CompanyTax();\n        if (StringUtils.isBlank(message)) {\n            Map&lt;String, Object&gt; map = exchange.getIn().getBody(Map.class);\n            String Result = (String) map.get(&quot;x_msg_data&quot;);\n            if (StringUtils.isBlank(Result)) {\n                companyTax.setFess((List&lt;TaxLineOut&gt;) map.get(&quot;x_fees_tab&quot;));\n                output.put(companyName, companyTax);\n            } else {\n                /*   API executed with errors. Fess will be empty  */\n                companyTax.setMessage(Result);\n                companyTax.setFess(new ArrayList&lt;&gt;());\n                output.put(companyName, companyTax);\n            }\n        } else {\n            /*  API could not be executed. Fess will be null */\n            companyTax.setMessage(&quot; API Could not be executed&quot;);\n            companyTax.setFess(new ArrayList&lt;&gt;());\n            output.put(companyName, companyTax);\n        }\n        CompanyTaxResponse response = new CompanyTaxResponse();\n        if (CollectionUtils.isEmpty(output)) {\n            responseStatusCode = 400;\n        } else {\n            response.setCompanyFess(output);\n            for (CompanyTax companyTax1 : output.values()) {\n                if (StringUtils.isNotBlank(companyTax1.getMessage())) {\n                    response.setStatus(500);\n                }\n            }\n        }\n        exchange.getOut().setBody(response);\n        Map&lt;String, Object&gt; headers = exchange.getIn().getHeaders();\n        headers.put(Exchange.HTTP_RESPONSE_CODE, responseStatusCode);\n        exchange.getOut().setHeaders(headers);\n</code></pre>\n<p>Am I doing something wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1677503944,"post_id":75580978,"comment_id":133344533,"body_markdown":"Why not just give the user a drop-down menu?  If that&#39;s not possible for some odd reason, what rules are you following based on user input?  Round up to the nearest acceptable value?","body":"Why not just give the user a drop-down menu?  If that&#39;s not possible for some odd reason, what rules are you following based on user input?  Round up to the nearest acceptable value?"},{"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"score":0,"creation_date":1677504093,"post_id":75580978,"comment_id":133344591,"body_markdown":"This must come from backend logic because there are some countries where you can put 3,4% and dropdown would be a big problem","body":"This must come from backend logic because there are some countries where you can put 3,4% and dropdown would be a big problem"},{"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"score":0,"creation_date":1677504267,"post_id":75580978,"comment_id":133344660,"body_markdown":"Yes but idea is that you have some application manager or person who can put allowed tax rates and on the other side the user who can put product with some wrong tax rate. And here I need to validate it to put only the correct tax in tax rate list.","body":"Yes but idea is that you have some application manager or person who can put allowed tax rates and on the other side the user who can put product with some wrong tax rate. And here I need to validate it to put only the correct tax in tax rate list."},{"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"score":0,"creation_date":1677504545,"post_id":75580978,"comment_id":133344739,"body_markdown":"I don&#39;t want to have responsibility with allowed taxes and this is forwarded to some admin user who can determine allowed tax rate. This is the point of this :) It must come from backend","body":"I don&#39;t want to have responsibility with allowed taxes and this is forwarded to some admin user who can determine allowed tax rate. This is the point of this :) It must come from backend"},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1677504654,"post_id":75580978,"comment_id":133344787,"body_markdown":"Ok, but it sounds like you&#39;d still need the rules to follow.  Are you always rounding up if the input is in between tax brackets that you are given?  Or are you throwing an exception?","body":"Ok, but it sounds like you&#39;d still need the rules to follow.  Are you always rounding up if the input is in between tax brackets that you are given?  Or are you throwing an exception?"},{"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"score":0,"creation_date":1677504965,"post_id":75580978,"comment_id":133344909,"body_markdown":"Yes the rule is that rounding is up to 0.5% e.g. and if the user takes 3,6% then it will be taken the nearest highest rate from the list getTaxRates(). If there are 3 values like {3%,4%,17%} then the 4% is the correct one.","body":"Yes the rule is that rounding is up to 0.5% e.g. and if the user takes 3,6% then it will be taken the nearest highest rate from the list getTaxRates(). If there are 3 values like {3%,4%,17%} then the 4% is the correct one."},{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":1,"creation_date":1677506480,"post_id":75580978,"comment_id":133345418,"body_markdown":"Tax rates are grouped with conditional names (A, B, C, D ...) and the user chooses from them (he does not work with the real value). In the application, an administrative panel is created in which rates are allowed/disallowed and their real value is set. The conditional group (required) + the value is recorded in the history data (records in the database).","body":"Tax rates are grouped with conditional names (A, B, C, D ...) and the user chooses from them (he does not work with the real value). In the application, an administrative panel is created in which rates are allowed/disallowed and their real value is set. The conditional group (required) + the value is recorded in the history data (records in the database)."}],"answers":[{"tags":[],"owner":{"account_id":9444927,"reputation":1735,"user_id":7024049,"display_name":"pcsutar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677508164,"creation_date":1677506965,"answer_id":75581530,"question_id":75580978,"body_markdown":"You can use `TreeSet` for this kind of implementation. [TreeSet][1] provides `ceiling()` method. This method will return the least element in the set greater than or equal to the given element, or `null` if there is no such element.\r\n\r\nImplementation:\r\n```\r\nprivate static Float getTaxRates(TreeSet&lt;Float&gt; taxRates, Float taxRate) {\r\n    return taxRates.ceiling(taxRate);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/TreeSet.html","title":"How to adjust tax to some tax rate","body":"<p>You can use <code>TreeSet</code> for this kind of implementation. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">TreeSet</a> provides <code>ceiling()</code> method. This method will return the least element in the set greater than or equal to the given element, or <code>null</code> if there is no such element.</p>\n<p>Implementation:</p>\n<pre><code>private static Float getTaxRates(TreeSet&lt;Float&gt; taxRates, Float taxRate) {\n    return taxRates.ceiling(taxRate);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1677514566,"post_id":75581838,"comment_id":133348303,"body_markdown":"I think you&#39;re finding the nearest allowed rate to the one the user entered, but the OP wants the next highest one. E.g. if allowed rattes = 7, 9, 21, then if the user inputs 10 the result should be 21, not 9.","body":"I think you&#39;re finding the nearest allowed rate to the one the user entered, but the OP wants the next highest one. E.g. if allowed rattes = 7, 9, 21, then if the user inputs 10 the result should be 21, not 9."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1677540003,"post_id":75581838,"comment_id":133354604,"body_markdown":"I was confused about that as well, and the reply was &quot;Yes the rule is that rounding is up to 0.5%&quot; so I took that to mean half-way given OP&#39;s example.","body":"I was confused about that as well, and the reply was &quot;Yes the rule is that rounding is up to 0.5%&quot; so I took that to mean half-way given OP&#39;s example."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1677540252,"post_id":75581838,"comment_id":133354645,"body_markdown":"The OP is indeed unclear, but the example given as &quot;E.g. 7%, 9% and 21% and if user puts 7.5% then it should be saved 9%&quot; implies that it should be rounded up to the nearest allowed rate that is equal to or higher than the given rate. Otherwise, it would be 7% because that is nearer to the input 7.5%.","body":"The OP is indeed unclear, but the example given as &quot;E.g. 7%, 9% and 21% and if user puts 7.5% then it should be saved 9%&quot; implies that it should be rounded up to the nearest allowed rate that is equal to or higher than the given rate. Otherwise, it would be 7% because that is nearer to the input 7.5%."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1677540348,"post_id":75581838,"comment_id":133354662,"body_markdown":"Good point.  Will revise","body":"Good point.  Will revise"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1677573871,"post_id":75581838,"comment_id":133359859,"body_markdown":"Can&#39;t `lastBracket = allowedRates.stream()...` be shortened to `lastBracket = allowedRates.get(allowedRates.size() - 1)`?","body":"Can&#39;t <code>lastBracket = allowedRates.stream()...</code> be shortened to <code>lastBracket = allowedRates.get(allowedRates.size() - 1)</code>?"},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1677589775,"post_id":75581838,"comment_id":133364467,"body_markdown":"Yes, sure.  The other way just uses streams.  Other choices too: https://stackoverflow.com/questions/21426843/get-last-element-of-stream-list-in-a-one-liner","body":"Yes, sure.  The other way just uses streams.  Other choices too: <a href=\"https://stackoverflow.com/questions/21426843/get-last-element-of-stream-list-in-a-one-liner\" title=\"get last element of stream list in a one liner\">stackoverflow.com/questions/21426843/&hellip;</a>"},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1677590206,"post_id":75581838,"comment_id":133364608,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/252195/discussion-between-vphilipnyc-and-k314159).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/252195/discussion-between-vphilipnyc-and-k314159\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677542706,"creation_date":1677508593,"answer_id":75581838,"question_id":75580978,"body_markdown":"There are multiple ways to approach this problem.\r\n\r\nHere is one possible way using a `List` and `BigDecimal` to get you started:\r\n    \r\n    public static BigDecimal findRate(List&lt;BigDecimal&gt; allowedRates, BigDecimal inputRate) {\r\n        return allowedRates.stream()\r\n                .min(Comparator.comparing(a -&gt; inputRate.setScale(0, RoundingMode.HALF_UP)\r\n                        .subtract(a).abs()))\r\n                .orElseThrow(IllegalArgumentException::new);\r\n    }\r\n\r\nHere is a sample Junit 5 test.  You can check to see whether your particular requirements are met.\r\n\r\n    List&lt;BigDecimal&gt; ALLOWED_RATES = List.of(new BigDecimal(&quot;7.0&quot;),\r\n            new BigDecimal(&quot;9.0&quot;),\r\n            new BigDecimal(&quot;21.0&quot;));\r\n\r\n    @ParameterizedTest(name = &quot;#{index}: Testing {0}&quot;)\r\n    @DisplayName(&quot;Find the appropriate tax rate&quot;)\r\n    @CsvSource({\r\n            &quot;7.0, 7.0&quot;,\r\n            &quot;9.0, 9.0&quot;,\r\n            &quot;21.0, 21.0&quot;,\r\n            &quot;10.0, 9.0&quot;,\r\n            &quot;16.0, 21.0&quot;,\r\n            &quot;22.0, 21.0&quot;,\r\n            &quot;0, 7.0&quot;\r\n    })\r\n    public void testFindTaxRate(BigDecimal input, BigDecimal expected) {\r\n        BigDecimal actual = MyTaxRateCalculator.findRate(ALLOWED_RATES, input);\r\n        Assertions.assertEquals(expected, actual);\r\n    }\r\n\r\nIn your production code, the method doesn&#39;t need to be static.  It does make this unit test a little less verbose for this answer.  \r\n\r\nYou may wish to sort, remove duplicates, or perform error-checking as needed based on your requirements on your allowed tax rate list.  This method will also work fine if you use change the implementation from a `List` to a `Set` that maintains order if that works better for you.  Using a `Set` is really nice, but it tends to require changes elsewhere in the system, and sometimes many IMO.\r\n\r\nFinally, be careful which [type][1] you use for this.\r\n\r\n**UPDATE:**\r\n\r\nIf you are looking to always choose the higher bracket given a choice between the two nearest values in your allowed list, then your code could become something like:\r\n\r\n    public static BigDecimal findRate(List&lt;BigDecimal&gt; allowedRates, BigDecimal inputRate) {\r\n    \r\n        BigDecimal lastBracket = allowedRates.stream().reduce((a, b) -&gt; b).orElse(null);\r\n        if (inputRate.compareTo(lastBracket) &gt;= 0) {\r\n            return lastBracket;\r\n        }\r\n    \r\n        return allowedRates.stream()\r\n                .filter(rate -&gt; rate.compareTo(inputRate) &gt;= 0)\r\n                .findFirst()\r\n                .orElseThrow(IllegalArgumentException::new);\r\n    }\r\n\r\nAnd your test could be:\r\n\r\n    List&lt;BigDecimal&gt; ALLOWED_RATES = List.of(new BigDecimal(&quot;7.0&quot;),\r\n         new BigDecimal(&quot;9.0&quot;),\r\n         new BigDecimal(&quot;21.0&quot;));\r\n\r\n    @ParameterizedTest(name = &quot;#{index}: testing {0}&quot;)\r\n    @DisplayName(&quot;Find the appropriate tax rate&quot;)\r\n    @CsvSource({\r\n            &quot;7.0, 7.0&quot;,\r\n            &quot;9.0, 9.0&quot;,\r\n            &quot;21.0, 21.0&quot;,\r\n            &quot;10.0, 21.0&quot;,\r\n            &quot;16.0, 21.0&quot;,\r\n            &quot;22.0, 21.0&quot;,\r\n            &quot;0, 7.0&quot;\r\n    })\r\n    public void testFindRate(BigDecimal input, BigDecimal expected) {\r\n        BigDecimal actual = MyTaxRateCalculator.findRate(ALLOWED_RATES, input);\r\n        Assertions.assertEquals(expected, actual);\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency\r\n","title":"How to adjust tax to some tax rate","body":"<p>There are multiple ways to approach this problem.</p>\n<p>Here is one possible way using a <code>List</code> and <code>BigDecimal</code> to get you started:</p>\n<pre><code>public static BigDecimal findRate(List&lt;BigDecimal&gt; allowedRates, BigDecimal inputRate) {\n    return allowedRates.stream()\n            .min(Comparator.comparing(a -&gt; inputRate.setScale(0, RoundingMode.HALF_UP)\n                    .subtract(a).abs()))\n            .orElseThrow(IllegalArgumentException::new);\n}\n</code></pre>\n<p>Here is a sample Junit 5 test.  You can check to see whether your particular requirements are met.</p>\n<pre><code>List&lt;BigDecimal&gt; ALLOWED_RATES = List.of(new BigDecimal(&quot;7.0&quot;),\n        new BigDecimal(&quot;9.0&quot;),\n        new BigDecimal(&quot;21.0&quot;));\n\n@ParameterizedTest(name = &quot;#{index}: Testing {0}&quot;)\n@DisplayName(&quot;Find the appropriate tax rate&quot;)\n@CsvSource({\n        &quot;7.0, 7.0&quot;,\n        &quot;9.0, 9.0&quot;,\n        &quot;21.0, 21.0&quot;,\n        &quot;10.0, 9.0&quot;,\n        &quot;16.0, 21.0&quot;,\n        &quot;22.0, 21.0&quot;,\n        &quot;0, 7.0&quot;\n})\npublic void testFindTaxRate(BigDecimal input, BigDecimal expected) {\n    BigDecimal actual = MyTaxRateCalculator.findRate(ALLOWED_RATES, input);\n    Assertions.assertEquals(expected, actual);\n}\n</code></pre>\n<p>In your production code, the method doesn't need to be static.  It does make this unit test a little less verbose for this answer.</p>\n<p>You may wish to sort, remove duplicates, or perform error-checking as needed based on your requirements on your allowed tax rate list.  This method will also work fine if you use change the implementation from a <code>List</code> to a <code>Set</code> that maintains order if that works better for you.  Using a <code>Set</code> is really nice, but it tends to require changes elsewhere in the system, and sometimes many IMO.</p>\n<p>Finally, be careful which <a href=\"https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency\">type</a> you use for this.</p>\n<p><strong>UPDATE:</strong></p>\n<p>If you are looking to always choose the higher bracket given a choice between the two nearest values in your allowed list, then your code could become something like:</p>\n<pre><code>public static BigDecimal findRate(List&lt;BigDecimal&gt; allowedRates, BigDecimal inputRate) {\n\n    BigDecimal lastBracket = allowedRates.stream().reduce((a, b) -&gt; b).orElse(null);\n    if (inputRate.compareTo(lastBracket) &gt;= 0) {\n        return lastBracket;\n    }\n\n    return allowedRates.stream()\n            .filter(rate -&gt; rate.compareTo(inputRate) &gt;= 0)\n            .findFirst()\n            .orElseThrow(IllegalArgumentException::new);\n}\n</code></pre>\n<p>And your test could be:</p>\n<pre><code>List&lt;BigDecimal&gt; ALLOWED_RATES = List.of(new BigDecimal(&quot;7.0&quot;),\n     new BigDecimal(&quot;9.0&quot;),\n     new BigDecimal(&quot;21.0&quot;));\n\n@ParameterizedTest(name = &quot;#{index}: testing {0}&quot;)\n@DisplayName(&quot;Find the appropriate tax rate&quot;)\n@CsvSource({\n        &quot;7.0, 7.0&quot;,\n        &quot;9.0, 9.0&quot;,\n        &quot;21.0, 21.0&quot;,\n        &quot;10.0, 21.0&quot;,\n        &quot;16.0, 21.0&quot;,\n        &quot;22.0, 21.0&quot;,\n        &quot;0, 7.0&quot;\n})\npublic void testFindRate(BigDecimal input, BigDecimal expected) {\n    BigDecimal actual = MyTaxRateCalculator.findRate(ALLOWED_RATES, input);\n    Assertions.assertEquals(expected, actual);\n}\n</code></pre>\n"}],"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677543304,"answer_count":2,"score":-1,"last_activity_date":1677542706,"creation_date":1677503813,"question_id":75580978,"body_markdown":"In my application I have some List with tax rates getTaxRates(). \r\nThe problem is that user can put some value which should not be possible. \r\nThat means tax rates can be taken only from this list E.g. 7%, 9% and 21% and if user puts 7.5% then it should be saved 9%, if he puts 4% then 7%. \r\nThe problem is the tax rate is flexible and I don&#39;t know what is the value- it can the list of 5 values e.g. 2%, 5%, 19%, 21% or 5%, 9%, 16%. How to implement this condition?\r\n\r\nFor know I have only the method which can see if the value is in range but no clue how to implement the condition checking the values which will come later from the user of my application settings.\r\n\r\n```\r\nprivate static boolean inRange(List&lt;Integer&gt; list, int min, int max) {\r\n    return list.stream().allMatch(i -&gt; i &gt;= min &amp;&amp; i &lt;= max);\r\n}\r\n```\r\n\r\n","title":"How to adjust tax to some tax rate","body":"<p>In my application I have some List with tax rates getTaxRates().\nThe problem is that user can put some value which should not be possible.\nThat means tax rates can be taken only from this list E.g. 7%, 9% and 21% and if user puts 7.5% then it should be saved 9%, if he puts 4% then 7%.\nThe problem is the tax rate is flexible and I don't know what is the value- it can the list of 5 values e.g. 2%, 5%, 19%, 21% or 5%, 9%, 16%. How to implement this condition?</p>\n<p>For know I have only the method which can see if the value is in range but no clue how to implement the condition checking the values which will come later from the user of my application settings.</p>\n<pre><code>private static boolean inRange(List&lt;Integer&gt; list, int min, int max) {\n    return list.stream().allMatch(i -&gt; i &gt;= min &amp;&amp; i &lt;= max);\n}\n</code></pre>\n"},{"tags":["java","spring","caching","ehcache"],"answers":[{"tags":[],"owner":{"account_id":1324009,"reputation":89,"user_id":1269245,"display_name":"Thomas Lynema"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353077290,"creation_date":1353077290,"answer_id":13418893,"question_id":11194982,"body_markdown":"Andrea,\r\n\r\nMake sure that the instance of the bean with the @Cachable annotation is the spring managed one, not one you are creating yourself.  If you have the right one the log will produce something like this when the method is invoked:\r\n\r\n    2012-11-16 09:40:21,731 [http-8081-2] DEBUG com.googlecode.ehcache.annotations.interceptor.EhCacheInterceptor  - Generated key &#39;1396312488991822982&#39; for invocation: ReflectiveMethodInvocation: public edu.wmich.gowmu.sso.dataobject.User edu.wmich.gowmu.sso.bl.UserManager.getUser(java.lang.String,java.lang.String); target is of class [edu.wmich.gowmu.sso.bl.UserManager]\r\n","title":"Spring annotation cache: CacheDecoratorFactory not configured for defaultCache","body":"<p>Andrea,</p>\n\n<p>Make sure that the instance of the bean with the @Cachable annotation is the spring managed one, not one you are creating yourself.  If you have the right one the log will produce something like this when the method is invoked:</p>\n\n<pre><code>2012-11-16 09:40:21,731 [http-8081-2] DEBUG com.googlecode.ehcache.annotations.interceptor.EhCacheInterceptor  - Generated key '1396312488991822982' for invocation: ReflectiveMethodInvocation: public edu.wmich.gowmu.sso.dataobject.User edu.wmich.gowmu.sso.bl.UserManager.getUser(java.lang.String,java.lang.String); target is of class [edu.wmich.gowmu.sso.bl.UserManager]\n</code></pre>\n"}],"owner":{"account_id":27169,"reputation":4357,"user_id":71410,"accept_rate":78,"display_name":"Andrea Girardi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7824,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677542495,"creation_date":1340648353,"question_id":11194982,"body_markdown":"I&#39;m trying to use Sping Annotation cache with EhCache. So, for first, I added the dependency to my pom.xml and configured the application-context.xml as:\r\n\r\n    &lt;ehcache:annotation-driven cache-manager=&quot;cacheManager&quot; /&gt;\r\n    \r\n    &lt;ehcache:config cache-manager=&quot;cacheManager&quot;&gt;\r\n    \t&lt;ehcache:evict-expired-elements interval=&quot;60&quot; /&gt;\r\n    &lt;/ehcache:config&gt;\r\n    \r\n    &lt;bean id=&quot;cacheManager&quot; class=&quot;org.springframework.cache.ehcache.EhCacheManagerFactoryBean&quot;&gt;\r\n    \t&lt;property name=&quot;configLocation&quot;  value=&quot;ehcache.xml&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nThis is the ehcache.xml configuration file:\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;http://ehcache.org/ehcache.xsd&quot;&gt;\r\n        &lt;defaultCache eternal=&quot;true&quot; maxElementsInMemory=&quot;100&quot; overflowToDisk=&quot;false&quot; /&gt;\r\n        &lt;cache name=&quot;alfresco&quot; maxElementsInMemory=&quot;10&quot; eternal=&quot;true&quot; overflowToDisk=&quot;false&quot; /&gt;\r\n    &lt;/ehcache&gt;\r\n\r\nfor last, I added the Annontation @Cachable to the methods that need to be cached:\r\n\r\n    @Cacheable(value=&quot;alfresco&quot;)\r\n    public EMContents getContents(RestTemplate restTemplate, String ticket, String webScriptUrl, String em_name)\r\n\r\nI create a junit class to call two times the same method, and, it doesn&#39;t use the cache the second time (the first one doesn&#39;t create the key value).\r\n\r\nIt seems to work fine, but I get this message: \r\n\r\n    25 Jun 2012 19:40:07  INFO EhCacheManagerFactoryBean:100 - Initializing EHCache CacheManager\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationFactory:148 - Configuring ehcache from InputStream\r\n    25 Jun 2012 19:40:07 DEBUG BeanHandler:271 - Ignoring ehcache attribute xmlns:xsi\r\n    25 Jun 2012 19:40:07 DEBUG BeanHandler:271 - Ignoring ehcache attribute xsi:noNamespaceSchemaLocation\r\n    25 Jun 2012 19:40:07 DEBUG PropertyUtil:88 - propertiesString is null.\r\n    25 Jun 2012 19:40:07 DEBUG CacheManager:605 - No disk store path defined. Skipping disk store path conflict test.\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:184 - No CacheManagerEventListenerFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:1183 - Initialised cache: alfresco_action\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:331 - CacheDecoratorFactory not configured. Skipping for &#39;alfresco_action&#39;.\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:360 - CacheDecoratorFactory not configured for defaultCache. Skipping for &#39;alfresco_action&#39;.\r\n    25 Jun 2012 19:40:07 DEBUG Cache:1183 - Initialised cache: alfresco\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:331 - CacheDecoratorFactory not configured. Skipping for &#39;alfresco&#39;.\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:360 - CacheDecoratorFactory not configured for defaultCache. Skipping for &#39;alfresco&#39;.\r\n    25 Jun 2012 19:40:07 DEBUG DefaultListableBeanFactory:458 - Finished creating instance of bean &#39;cacheManager&#39;\r\n\r\nAny clue? Something seems to be wrong with my configuration. \r\n\r\nThanks for your time&lt;br /&gt;Andrea","title":"Spring annotation cache: CacheDecoratorFactory not configured for defaultCache","body":"<p>I'm trying to use Sping Annotation cache with EhCache. So, for first, I added the dependency to my pom.xml and configured the application-context.xml as:</p>\n\n<pre><code>&lt;ehcache:annotation-driven cache-manager=\"cacheManager\" /&gt;\n\n&lt;ehcache:config cache-manager=\"cacheManager\"&gt;\n    &lt;ehcache:evict-expired-elements interval=\"60\" /&gt;\n&lt;/ehcache:config&gt;\n\n&lt;bean id=\"cacheManager\" class=\"org.springframework.cache.ehcache.EhCacheManagerFactoryBean\"&gt;\n    &lt;property name=\"configLocation\"  value=\"ehcache.xml\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>This is the ehcache.xml configuration file:</p>\n\n\n\n<pre><code>&lt;ehcache xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"http://ehcache.org/ehcache.xsd\"&gt;\n    &lt;defaultCache eternal=\"true\" maxElementsInMemory=\"100\" overflowToDisk=\"false\" /&gt;\n    &lt;cache name=\"alfresco\" maxElementsInMemory=\"10\" eternal=\"true\" overflowToDisk=\"false\" /&gt;\n&lt;/ehcache&gt;\n</code></pre>\n\n<p>for last, I added the Annontation @Cachable to the methods that need to be cached:</p>\n\n<pre><code>@Cacheable(value=\"alfresco\")\npublic EMContents getContents(RestTemplate restTemplate, String ticket, String webScriptUrl, String em_name)\n</code></pre>\n\n<p>I create a junit class to call two times the same method, and, it doesn't use the cache the second time (the first one doesn't create the key value).</p>\n\n<p>It seems to work fine, but I get this message: </p>\n\n<pre><code>25 Jun 2012 19:40:07  INFO EhCacheManagerFactoryBean:100 - Initializing EHCache CacheManager\n25 Jun 2012 19:40:07 DEBUG ConfigurationFactory:148 - Configuring ehcache from InputStream\n25 Jun 2012 19:40:07 DEBUG BeanHandler:271 - Ignoring ehcache attribute xmlns:xsi\n25 Jun 2012 19:40:07 DEBUG BeanHandler:271 - Ignoring ehcache attribute xsi:noNamespaceSchemaLocation\n25 Jun 2012 19:40:07 DEBUG PropertyUtil:88 - propertiesString is null.\n25 Jun 2012 19:40:07 DEBUG CacheManager:605 - No disk store path defined. Skipping disk store path conflict test.\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:184 - No CacheManagerEventListenerFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:1183 - Initialised cache: alfresco_action\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:331 - CacheDecoratorFactory not configured. Skipping for 'alfresco_action'.\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:360 - CacheDecoratorFactory not configured for defaultCache. Skipping for 'alfresco_action'.\n25 Jun 2012 19:40:07 DEBUG Cache:1183 - Initialised cache: alfresco\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:331 - CacheDecoratorFactory not configured. Skipping for 'alfresco'.\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:360 - CacheDecoratorFactory not configured for defaultCache. Skipping for 'alfresco'.\n25 Jun 2012 19:40:07 DEBUG DefaultListableBeanFactory:458 - Finished creating instance of bean 'cacheManager'\n</code></pre>\n\n<p>Any clue? Something seems to be wrong with my configuration. </p>\n\n<p>Thanks for your time<br />Andrea</p>\n"},{"tags":["java","spring-boot","kotlin","jackson"],"comments":[{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":2,"creation_date":1677559192,"post_id":75586688,"comment_id":133357283,"body_markdown":"how do you trigger validation on Patient? which part of codebase you use Patient ? A request in an API endpoint ? please show more information about it","body":"how do you trigger validation on Patient? which part of codebase you use Patient ? A request in an API endpoint ? please show more information about it"},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":1,"creation_date":1677567172,"post_id":75586688,"comment_id":133358254,"body_markdown":"don&#39;t forget to set @valid superior on the superior class","body":"don&#39;t forget to set @valid superior on the superior class"},{"owner":{"account_id":22866981,"reputation":131,"user_id":17010647,"display_name":"Ksu"},"score":1,"creation_date":1677575556,"post_id":75586688,"comment_id":133360368,"body_markdown":"Do you use spring-boot-starter-validation with @Validated/@Valid?","body":"Do you use spring-boot-starter-validation with @Validated/@Valid?"}],"owner":{"account_id":15800335,"reputation":93,"user_id":11401032,"display_name":"Zaman Zamanli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677542203,"creation_date":1677542203,"question_id":75586688,"body_markdown":"I have the following data model:\r\n\r\n```\r\ndata class Patient(\r\n    @JsonProperty(&quot;patientId&quot;) val patientId: String?,\r\n    @JsonProperty(&quot;phoneNumber&quot;) val phoneNumber: String,\r\n    @JsonProperty(&quot;createdAt&quot;) val createdAt: Instant?,\r\n)\r\n```\r\n\r\nI want to validate the `phoneNumber` field. I want to add `@Size` and `@Pattern`. This is what I have as a result:\r\n\r\n```\r\ndata class Patient(\r\n    @JsonProperty(&quot;patientId&quot;) val patientId: String?,\r\n    @JsonProperty(&quot;phoneNumber&quot;)\r\n    @Size(min = 10, max = 10)\r\n    @Pattern(regexp = &quot;-?[0-9]+(\\\\\\\\.[0-9]+)?&quot;)\r\n    val phoneNumber: String,\r\n    @JsonProperty(&quot;createdAt&quot;) val createdAt: Instant?,\r\n)\r\n```\r\n\r\nHowever, this doesn&#39;t work as expected. What am I missing here?","title":"Validation of Jackson @JsonProperty in Kotlin data classes","body":"<p>I have the following data model:</p>\n<pre><code>data class Patient(\n    @JsonProperty(&quot;patientId&quot;) val patientId: String?,\n    @JsonProperty(&quot;phoneNumber&quot;) val phoneNumber: String,\n    @JsonProperty(&quot;createdAt&quot;) val createdAt: Instant?,\n)\n</code></pre>\n<p>I want to validate the <code>phoneNumber</code> field. I want to add <code>@Size</code> and <code>@Pattern</code>. This is what I have as a result:</p>\n<pre><code>data class Patient(\n    @JsonProperty(&quot;patientId&quot;) val patientId: String?,\n    @JsonProperty(&quot;phoneNumber&quot;)\n    @Size(min = 10, max = 10)\n    @Pattern(regexp = &quot;-?[0-9]+(\\\\\\\\.[0-9]+)?&quot;)\n    val phoneNumber: String,\n    @JsonProperty(&quot;createdAt&quot;) val createdAt: Instant?,\n)\n</code></pre>\n<p>However, this doesn't work as expected. What am I missing here?</p>\n"},{"tags":["java","spring","spring-boot","spring-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1677593832,"post_id":75586604,"comment_id":133365862,"body_markdown":"All connection/auth activity is delegated to the `kafka-clients`; the version will have changed (note that even Boot 2.6.x is no longer supported as OSS - https://spring.io/projects/spring-boot#support ). However, nothing has changed in Spring that would affect authorization. I suggest you look at the server logs.","body":"All connection/auth activity is delegated to the <code>kafka-clients</code>; the version will have changed (note that even Boot 2.6.x is no longer supported as OSS - <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot#support</a> ). However, nothing has changed in Spring that would affect authorization. I suggest you look at the server logs."}],"owner":{"account_id":15287059,"reputation":113,"user_id":11029787,"display_name":"Saher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677541293,"creation_date":1677541293,"question_id":75586604,"body_markdown":"I have a spring-boot application that is configured as a Kafka producer &amp; consumer. previously it was running the following POM dependencies\r\n```xml\r\n&lt;parent&gt;\r\n  &lt;groupId&gt;org.springframework.boot&gt;&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-aprent&lt;/artifactId&gt;\r\n  &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\r\n  &lt;relativePath /&gt;\r\n&lt;/parent&gt;\r\n&lt;properties&gt;\r\n  &lt;spring-framwork.version&gt;5.2.20.RELEASE&lt;/spring-framwork.version&gt;\r\n  &lt;spring-cloud.version&gt;HOXTON.SR6&lt;/spring-cloud.version&gt;\r\n&lt;/properties&gt;\r\n.......\r\n```\r\n\r\nwith the above, everything was working as expected, but after updating the above POM to the below\r\n```xml\r\n&lt;parent&gt;\r\n  &lt;groupId&gt;org.springframework.boot&gt;&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-aprent&lt;/artifactId&gt;\r\n  &lt;version&gt;2.6.14&lt;/version&gt;\r\n  &lt;relativePath /&gt;\r\n&lt;/parent&gt;\r\n&lt;properties&gt;\r\n  &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\r\n  ....\r\n&lt;/properties&gt;\r\n&lt;dependencies&gt;\r\n  .......\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-integration-kafka&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n  .......\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nNow I&#39;m getting the producer throwing a cluster authorization error, even though nothing has changed from the kafka configuration / certs department.\r\n\r\n&gt;  org.springframework.kafka.core.KafkaProducerException: Failed to send; nested exception is org.apache.kafka.common.errors.ClusterAuthorizationException: Cluster authorization failed.\r\nat org.springframework.kafka.core.KafkaTemplate.lambda$buildCallback$6(KafkaTemplate.java:696)\r\n\tat org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer$1.onCompletion(DefaultKafkaProducerFactory.java:1095)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer$InterceptorCallback.onCompletion(KafkaProducer.java:1350)\r\n\tat org.apache.kafka.clients.producer.internals.ProducerBatch.completeFutureAndFireCallbacks(ProducerBatch.java:273)\r\n\tat org.apache.kafka.clients.producer.internals.ProducerBatch.abort(ProducerBatch.java:161)\r\n\tat org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:773)\r\n\tat org.apache.kafka.clients.producer.internals.Sender.maybeAbortBatches(Sender.java:498)\r\n\tat org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:307)\r\n\tat org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.apache.kafka.common.errors.ClusterAuthorizationException: Cluster authorization failed.\r\n\r\nI&#39;m not sure exactly why would that happen, all the authentications &amp; certs haven&#39;t changed... I&#39;m letting spring manage the Kafka versions so there are no version conflicts.\r\n\r\nany thoughts or help are very much appreciated. ","title":"Kafka Cluster Authorization Failed error after updating spring-boot-starter-parent","body":"<p>I have a spring-boot application that is configured as a Kafka producer &amp; consumer. previously it was running the following POM dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n  &lt;groupId&gt;org.springframework.boot&gt;&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-aprent&lt;/artifactId&gt;\n  &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\n  &lt;relativePath /&gt;\n&lt;/parent&gt;\n&lt;properties&gt;\n  &lt;spring-framwork.version&gt;5.2.20.RELEASE&lt;/spring-framwork.version&gt;\n  &lt;spring-cloud.version&gt;HOXTON.SR6&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n.......\n</code></pre>\n<p>with the above, everything was working as expected, but after updating the above POM to the below</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n  &lt;groupId&gt;org.springframework.boot&gt;&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-aprent&lt;/artifactId&gt;\n  &lt;version&gt;2.6.14&lt;/version&gt;\n  &lt;relativePath /&gt;\n&lt;/parent&gt;\n&lt;properties&gt;\n  &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\n  ....\n&lt;/properties&gt;\n&lt;dependencies&gt;\n  .......\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-integration-kafka&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  .......\n&lt;/dependencies&gt;\n</code></pre>\n<p>Now I'm getting the producer throwing a cluster authorization error, even though nothing has changed from the kafka configuration / certs department.</p>\n<blockquote>\n<p>org.springframework.kafka.core.KafkaProducerException: Failed to send; nested exception is org.apache.kafka.common.errors.ClusterAuthorizationException: Cluster authorization failed.\nat org.springframework.kafka.core.KafkaTemplate.lambda$buildCallback$6(KafkaTemplate.java:696)\nat org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer$1.onCompletion(DefaultKafkaProducerFactory.java:1095)\nat org.apache.kafka.clients.producer.KafkaProducer$InterceptorCallback.onCompletion(KafkaProducer.java:1350)\nat org.apache.kafka.clients.producer.internals.ProducerBatch.completeFutureAndFireCallbacks(ProducerBatch.java:273)\nat org.apache.kafka.clients.producer.internals.ProducerBatch.abort(ProducerBatch.java:161)\nat org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:773)\nat org.apache.kafka.clients.producer.internals.Sender.maybeAbortBatches(Sender.java:498)\nat org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:307)\nat org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\nat java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.apache.kafka.common.errors.ClusterAuthorizationException: Cluster authorization failed.</p>\n</blockquote>\n<p>I'm not sure exactly why would that happen, all the authentications &amp; certs haven't changed... I'm letting spring manage the Kafka versions so there are no version conflicts.</p>\n<p>any thoughts or help are very much appreciated.</p>\n"},{"tags":["java","gradle","minecraft-forge"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677546183,"post_id":75586566,"comment_id":133355567,"body_markdown":"[This](https://stackoverflow.com/a/56306032/1271785) suggests that you have to trigger the `shadowJar` task before building using `assemble.dependsOn shadowJar`. I can&#39;t attest to this because I haven&#39;t shadowed a jar.","body":"<a href=\"https://stackoverflow.com/a/56306032/1271785\">This</a> suggests that you have to trigger the <code>shadowJar</code> task before building using <code>assemble.dependsOn shadowJar</code>. I can&#39;t attest to this because I haven&#39;t shadowed a jar."},{"owner":{"account_id":24187526,"reputation":5,"user_id":18147142,"display_name":"xef5000"},"score":0,"creation_date":1677547815,"post_id":75586566,"comment_id":133355840,"body_markdown":"I have `assemble.dependsOn shadowJar` already. It didn&#39;t fix the issue","body":"I have <code>assemble.dependsOn shadowJar</code> already. It didn&#39;t fix the issue"},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677600559,"post_id":75586566,"comment_id":133368213,"body_markdown":"I didn&#39;t see that in your link -- that&#39;s one one the reasons you should post all code ***in*** your question (see [Why I shouldn’t upload images of code](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557) -- yes I know yours isn&#39;t an image, but it still requires leaving the question page).","body":"I didn&#39;t see that in your link -- that&#39;s one one the reasons you should post all code <b><i>in</i></b> your question (see <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why I shouldn’t upload images of code</a> -- yes I know yours isn&#39;t an image, but it still requires leaving the question page)."},{"owner":{"account_id":24187526,"reputation":5,"user_id":18147142,"display_name":"xef5000"},"score":0,"creation_date":1677618151,"post_id":75586566,"comment_id":133372965,"body_markdown":"ok how do I trigger the shadowJar task before building ?","body":"ok how do I trigger the shadowJar task before building ?"}],"owner":{"account_id":24187526,"reputation":5,"user_id":18147142,"display_name":"xef5000"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677540998,"creation_date":1677540998,"question_id":75586566,"body_markdown":"So I have a dependency and need to implement it into my .jar file (final export).\r\nHere&#39;s my build.graddle.kts: https://paste.md-5.net/mivovenaro.js\r\n\r\nHere&#39;s the error I always run into:\r\n`Caused by: java.lang.ClassNotFoundException: com.xef5000.vigilance.Vigilant`\r\n\r\nI understand the error, it means that it couldn&#39;t find the clas &#39;com.xef5000.vigilance.Vigilant&#39;, but I did declare it in my build.graddle.kts here:\r\n\r\n```\r\ntasks.shadowJar {\r\n    archiveClassifier.set(&quot;&quot;) \r\n    relocate(&quot;gg.essential.vigilance&quot;, &quot;com.xef5000.vigilance&quot;)\r\n    // vigilance dependencies\r\n    relocate(&quot;gg.essential.elementa&quot;, &quot;com.xef5000.elementa&quot;)\r\n    // elementa dependencies\r\n    relocate(&quot;gg.essential.universalcraft&quot;, &quot;com.xef5000.universalcraft&quot;)\r\n    dependencies{\r\n        include(dependency(&quot;org.spongepowered:mixin&quot;))\r\n    }\r\n}\r\n```\r\n\r\n","title":"How can I compile my dependencies in my jar? (shadowJar)","body":"<p>So I have a dependency and need to implement it into my .jar file (final export).\nHere's my build.graddle.kts: <a href=\"https://paste.md-5.net/mivovenaro.js\" rel=\"nofollow noreferrer\">https://paste.md-5.net/mivovenaro.js</a></p>\n<p>Here's the error I always run into:\n<code>Caused by: java.lang.ClassNotFoundException: com.xef5000.vigilance.Vigilant</code></p>\n<p>I understand the error, it means that it couldn't find the clas 'com.xef5000.vigilance.Vigilant', but I did declare it in my build.graddle.kts here:</p>\n<pre><code>tasks.shadowJar {\n    archiveClassifier.set(&quot;&quot;) \n    relocate(&quot;gg.essential.vigilance&quot;, &quot;com.xef5000.vigilance&quot;)\n    // vigilance dependencies\n    relocate(&quot;gg.essential.elementa&quot;, &quot;com.xef5000.elementa&quot;)\n    // elementa dependencies\n    relocate(&quot;gg.essential.universalcraft&quot;, &quot;com.xef5000.universalcraft&quot;)\n    dependencies{\n        include(dependency(&quot;org.spongepowered:mixin&quot;))\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1677538309,"post_id":75585919,"comment_id":133354286,"body_markdown":"You could use recursion or use a queue to get all the messages.","body":"You could use recursion or use a queue to get all the messages."}],"answers":[{"comments":[{"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"score":0,"creation_date":1677535637,"post_id":75585944,"comment_id":133353781,"body_markdown":"OK thanks but I got NPE, probably because some messages don&#39;t have children so &quot;null&quot; value for children.","body":"OK thanks but I got NPE, probably because some messages don&#39;t have children so &quot;null&quot; value for children."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1677536122,"post_id":75585944,"comment_id":133353851,"body_markdown":"So just return `Stream.of(this)` if `children == null`.","body":"So just return <code>Stream.of(this)</code> if <code>children == null</code>."},{"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"score":0,"creation_date":1677536417,"post_id":75585944,"comment_id":133353916,"body_markdown":"it&#39;s not that easy because I don&#39;t know where exactly the null children are, it could be nested children not just the parent element","body":"it&#39;s not that easy because I don&#39;t know where exactly the null children are, it could be nested children not just the parent element"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1677537798,"post_id":75585944,"comment_id":133354186,"body_markdown":"It is that easy.  The recursion will sort that out.","body":"It is that easy.  The recursion will sort that out."}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677538972,"creation_date":1677535099,"answer_id":75585944,"question_id":75585919,"body_markdown":"Add a method to recursively stream the children:\r\n\r\n    public Stream&lt;Message&gt; children() {\r\n        Stream&lt;Message&gt; result = Stream.of(this);\r\n        if (children != null) {\r\n            result = Stream.concat(result,\r\n                    children.stream().flatMap(Message::children));\r\n        }\r\n        return result;\r\n    }\r\n\r\nThen call `message.children().collect(toList())` on any message to convert it to a list of children.","title":"Java : get all properties of an object recursively","body":"<p>Add a method to recursively stream the children:</p>\n<pre><code>public Stream&lt;Message&gt; children() {\n    Stream&lt;Message&gt; result = Stream.of(this);\n    if (children != null) {\n        result = Stream.concat(result,\n                children.stream().flatMap(Message::children));\n    }\n    return result;\n}\n</code></pre>\n<p>Then call <code>message.children().collect(toList())</code> on any message to convert it to a list of children.</p>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677535761,"creation_date":1677535336,"answer_id":75585966,"question_id":75585919,"body_markdown":"You could write a recursive method in the `Message` class that adds the message and its children to an existing list, like this.\r\n\r\n    public void addToListRecursively(List&lt;Message&gt; toAddTo) {\r\n        toAddTo.add(this);\r\n        for (Message child : children) {\r\n            child.addToListRecursively(toAddTo);\r\n        }\r\n    }\r\n\r\nAfter this method has run, the list `toAddTo` contains the message that you called it on, plus all its descendants, in depth first order.\r\n\r\nDoing it in breadth first order is somewhat trickier.\r\n\r\nThis assumes that if a `Message` has no children, then `children` is an empty list, rather than null.  If it&#39;s possible for `children` to be null, you can put a null check around the for loop.","title":"Java : get all properties of an object recursively","body":"<p>You could write a recursive method in the <code>Message</code> class that adds the message and its children to an existing list, like this.</p>\n<pre><code>public void addToListRecursively(List&lt;Message&gt; toAddTo) {\n    toAddTo.add(this);\n    for (Message child : children) {\n        child.addToListRecursively(toAddTo);\n    }\n}\n</code></pre>\n<p>After this method has run, the list <code>toAddTo</code> contains the message that you called it on, plus all its descendants, in depth first order.</p>\n<p>Doing it in breadth first order is somewhat trickier.</p>\n<p>This assumes that if a <code>Message</code> has no children, then <code>children</code> is an empty list, rather than null.  If it's possible for <code>children</code> to be null, you can put a null check around the for loop.</p>\n"}],"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677538972,"creation_date":1677534822,"question_id":75585919,"body_markdown":"This is pure Java core. I have a `class Message` like this :\r\n\r\n    class Message {\r\n    \r\n       private int id;\r\n       private String status;\r\n       private List&lt;Message&gt; children;\r\n    \r\n       //getters, setters, methods\r\n    \r\n    }\r\n\r\nEach `Message` object has a list of children of same type `Message`. And each child has a list of children etc...\r\n\r\nIs there a way to get all chidren (and children of children) and put them into a `List` ?","title":"Java : get all properties of an object recursively","body":"<p>This is pure Java core. I have a <code>class Message</code> like this :</p>\n<pre><code>class Message {\n\n   private int id;\n   private String status;\n   private List&lt;Message&gt; children;\n\n   //getters, setters, methods\n\n}\n</code></pre>\n<p>Each <code>Message</code> object has a list of children of same type <code>Message</code>. And each child has a list of children etc...</p>\n<p>Is there a way to get all chidren (and children of children) and put them into a <code>List</code> ?</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":1262922,"reputation":2194,"user_id":1220802,"display_name":"rph"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677538060,"creation_date":1677538060,"answer_id":75586292,"question_id":75586197,"body_markdown":"The problem is likely related to the fact that the classes are not under the same base package (`com.example.payroll` vs `payroll`). This is the convention followed by Spring Boot by default.\r\n\r\nIf the main class is under `com.example.payroll`, all classes should be under that package or any sub-package of it (e.g. `com.example.payroll.repository`).\r\n\r\nIf for some reason the packages need to be different, you should instruct Spring Boot about where to find classes using the `@ComponentScan` annotation.\r\n","title":"&quot;Not a managed type&quot; error consistently appears when following Spring Boot example project","body":"<p>The problem is likely related to the fact that the classes are not under the same base package (<code>com.example.payroll</code> vs <code>payroll</code>). This is the convention followed by Spring Boot by default.</p>\n<p>If the main class is under <code>com.example.payroll</code>, all classes should be under that package or any sub-package of it (e.g. <code>com.example.payroll.repository</code>).</p>\n<p>If for some reason the packages need to be different, you should instruct Spring Boot about where to find classes using the <code>@ComponentScan</code> annotation.</p>\n"}],"owner":{"account_id":295139,"reputation":594,"user_id":599393,"accept_rate":52,"display_name":"rainydaymatt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677538060,"creation_date":1677537151,"question_id":75586197,"body_markdown":"Refreshing myself on JPA and Spring Boot by following the official docs to create an example project, I&#39;m struggling with a persistent error.\r\n\r\n**Employee.java**\r\n```\r\npackage payroll;\r\n\r\nimport java.util.Objects;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\nclass Employee {\r\n\r\n  private @Id @GeneratedValue Long id;\r\n  private String name;\r\n  private String role;\r\n\r\n  Employee() {}\r\n\r\n  Employee(String name, String role) {\r\n\r\n    this.name = name;\r\n    this.role = role;\r\n  }\r\n```\r\n\r\nThat&#39;s the simple entity; it&#39;s got a simple constructor, but I trimmed the getters and setters just for display.\r\n\r\n**EmployeeRepository.java**\r\n```\r\npackage com.example.payroll;\r\n\r\nimport com.example.payroll.Employee;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\ninterface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n\r\n}\r\n```\r\n\r\nJust contains the interface extending JpaRepository.\r\n\r\n**PayrollApplication.java**\r\n```\r\npackage payroll;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class PayrollApplication {\r\n\r\n  public static void main(String... args) {\r\n    SpringApplication.run(PayrollApplication.class, args);\r\n  }\r\n}\r\n```\r\n\r\nAnother simple class, this one generated by Initializr.\r\n\r\n**LoadDatabase.java**\r\n```\r\npackage com.example.payroll;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\nclass LoadDatabase {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(LoadDatabase.class);\r\n\r\n    @Bean\r\n    CommandLineRunner initDatabase(EmployeeRepository repository) {\r\n\r\n        return args -&gt; {\r\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Bilbo Baggins&quot;, &quot;burglar&quot;)));\r\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Frodo Baggins&quot;, &quot;thief&quot;)));\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nSo, this class puts all the pieces together; I&#39;m not configuring a database yet, just preloading with test data. Problem is, I get this consistent error:\r\n\r\n``` defined in class path resource [com/example/payroll/LoadDatabase.class]: Unsatisfied dependency expressed through method &#39;initDatabase&#39; parameter 0: Error creating bean with name &#39;employeeRepository&#39; defined in com.example.payroll.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.payroll.Employee```\r\n\r\nI have tried hardcoding the package to EntityScan, to no avail; I could only place ComponentScan in the application file for this small, simple project, but it&#39;s already part of the SpringBootApplication tag.\r\n\r\nDoes anyone have any other suggestions?","title":"&quot;Not a managed type&quot; error consistently appears when following Spring Boot example project","body":"<p>Refreshing myself on JPA and Spring Boot by following the official docs to create an example project, I'm struggling with a persistent error.</p>\n<p><strong>Employee.java</strong></p>\n<pre><code>package payroll;\n\nimport java.util.Objects;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n@Entity\nclass Employee {\n\n  private @Id @GeneratedValue Long id;\n  private String name;\n  private String role;\n\n  Employee() {}\n\n  Employee(String name, String role) {\n\n    this.name = name;\n    this.role = role;\n  }\n</code></pre>\n<p>That's the simple entity; it's got a simple constructor, but I trimmed the getters and setters just for display.</p>\n<p><strong>EmployeeRepository.java</strong></p>\n<pre><code>package com.example.payroll;\n\nimport com.example.payroll.Employee;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\ninterface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n\n}\n</code></pre>\n<p>Just contains the interface extending JpaRepository.</p>\n<p><strong>PayrollApplication.java</strong></p>\n<pre><code>package payroll;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class PayrollApplication {\n\n  public static void main(String... args) {\n    SpringApplication.run(PayrollApplication.class, args);\n  }\n}\n</code></pre>\n<p>Another simple class, this one generated by Initializr.</p>\n<p><strong>LoadDatabase.java</strong></p>\n<pre><code>package com.example.payroll;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\nclass LoadDatabase {\n\n    private static final Logger log = LoggerFactory.getLogger(LoadDatabase.class);\n\n    @Bean\n    CommandLineRunner initDatabase(EmployeeRepository repository) {\n\n        return args -&gt; {\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Bilbo Baggins&quot;, &quot;burglar&quot;)));\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Frodo Baggins&quot;, &quot;thief&quot;)));\n        };\n    }\n}\n</code></pre>\n<p>So, this class puts all the pieces together; I'm not configuring a database yet, just preloading with test data. Problem is, I get this consistent error:</p>\n<p><code> defined in class path resource [com/example/payroll/LoadDatabase.class]: Unsatisfied dependency expressed through method 'initDatabase' parameter 0: Error creating bean with name 'employeeRepository' defined in com.example.payroll.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.payroll.Employee</code></p>\n<p>I have tried hardcoding the package to EntityScan, to no avail; I could only place ComponentScan in the application file for this small, simple project, but it's already part of the SpringBootApplication tag.</p>\n<p>Does anyone have any other suggestions?</p>\n"},{"tags":["java","html","selenium","tags","dropdown"],"answers":[{"tags":[],"owner":{"account_id":16757899,"reputation":507,"user_id":12113432,"display_name":"Edwin Cruz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677537638,"creation_date":1594399124,"answer_id":62838734,"question_id":62838668,"body_markdown":"You should enumerate through all of the options then click on the one you want. See [What is the correct way to select an `&lt;option&gt;` using Selenium&#39;s Python WebDriver][1].\r\n\r\n&gt; The easiest way that I have found was to do something along the lines of:\r\n&gt;\r\n&gt;     el = driver.find_element_by_id(&#39;id_of_select&#39;)\r\n&gt;     for option in el.find_elements_by_tag_name(&#39;option&#39;):\r\n&gt;         if option.text == &#39;The Options I Am Looking For&#39;:\r\n&gt;             option.click() # select() in earlier versions of webdriver\r\n&gt;             break\r\n\r\n  [1]: https://sqa.stackexchange.com/questions/1355/what-is-the-correct-way-to-select-an-option-using-seleniums-python-webdriver","title":"How to select a option from drop down with div tag/class?.selenium","body":"<p>You should enumerate through all of the options then click on the one you want. See <a href=\"https://sqa.stackexchange.com/questions/1355/what-is-the-correct-way-to-select-an-option-using-seleniums-python-webdriver\">What is the correct way to select an <code>&lt;option&gt;</code> using Selenium's Python WebDriver</a>.</p>\n<blockquote>\n<p>The easiest way that I have found was to do something along the lines of:</p>\n<pre><code>el = driver.find_element_by_id('id_of_select')\nfor option in el.find_elements_by_tag_name('option'):\n    if option.text == 'The Options I Am Looking For':\n        option.click() # select() in earlier versions of webdriver\n        break\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16947704,"reputation":21,"user_id":12258040,"display_name":"Safaee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1594661032,"creation_date":1594661032,"answer_id":62881039,"question_id":62838668,"body_markdown":"Below code worked for me \r\n\r\nWebElement selectMyElement = driver.findElement(this.getObject(By.Id(&quot;Id of Your DropDown&quot;))); \r\nselectMyElement.click();\r\n\r\nActions keyDown = new Actions(driver);\r\nkeyDown.sendKeys(Keys.chord(Keys.DOWN, Keys.DOWN, Keys.ENTER)).perform();","title":"How to select a option from drop down with div tag/class?.selenium","body":"<p>Below code worked for me</p>\n<p>WebElement selectMyElement = driver.findElement(this.getObject(By.Id(&quot;Id of Your DropDown&quot;)));\nselectMyElement.click();</p>\n<p>Actions keyDown = new Actions(driver);\nkeyDown.sendKeys(Keys.chord(Keys.DOWN, Keys.DOWN, Keys.ENTER)).perform();</p>\n"}],"owner":{"account_id":16947704,"reputation":21,"user_id":12258040,"display_name":"Safaee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62881039,"answer_count":2,"score":0,"last_activity_date":1677537638,"creation_date":1594398884,"question_id":62838668,"body_markdown":"I have tried all the possible things. also, tried searching over tried different combinations and variations. I can get the element clicked which opens the dropdown. but i am not able to select an option in it. I tried with actions, sendkeys, keys.down/enter and multiple things as well. however, it didn&#39;t help. That&#39;s the only thing I am stuck on. \r\n\r\n//selecting office\r\n\r\n1.driver.findElement(By.id(&quot;DG5QEPn&quot;)).click();\r\n\r\nActions actions = new Actions(driver); actions.moveToElement(driver.findElement(By.xpath(&quot;//*[@id=&quot;DG5QEPn&quot;]/div/div/div1/div1&quot;))).click();\r\n\r\ndriver.findElement(By.id(&quot;DG5QEPn&quot;)).click();\r\n\r\ndriver.findElement(By.id(&quot;DG5QEPn&quot;)).sendKeys(&quot;RTP HQ&quot;); driver.findElement(By.id(&quot;DG5QEPn&quot;)).sendKeys(Keys.Down); driver.findElement(By.id(&quot;DG5QEPn&quot;)).sendKeys(Keys.Enter);\r\n\r\nHtml-\r\nIn the below image. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SwHcv.png","title":"How to select a option from drop down with div tag/class?.selenium","body":"<p>I have tried all the possible things. also, tried searching over tried different combinations and variations. I can get the element clicked which opens the dropdown. but i am not able to select an option in it. I tried with actions, sendkeys, keys.down/enter and multiple things as well. however, it didn't help. That's the only thing I am stuck on.</p>\n<p>//selecting office</p>\n<p>1.driver.findElement(By.id(&quot;DG5QEPn&quot;)).click();</p>\n<p>Actions actions = new Actions(driver); actions.moveToElement(driver.findElement(By.xpath(&quot;//*[@id=&quot;DG5QEPn&quot;]/div/div/div1/div1&quot;))).click();</p>\n<p>driver.findElement(By.id(&quot;DG5QEPn&quot;)).click();</p>\n<p>driver.findElement(By.id(&quot;DG5QEPn&quot;)).sendKeys(&quot;RTP HQ&quot;); driver.findElement(By.id(&quot;DG5QEPn&quot;)).sendKeys(Keys.Down); driver.findElement(By.id(&quot;DG5QEPn&quot;)).sendKeys(Keys.Enter);</p>\n<p>Html-\nIn the below image.</p>\n<p><a href=\"https://i.stack.imgur.com/SwHcv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SwHcv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","functional-interface"],"answers":[{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677521799,"creation_date":1677515832,"answer_id":75583175,"question_id":75582873,"body_markdown":"`a::myTest` means use `myTest()` as the required function in an implementation of the functional interface `MyIF`. The function it must take the place of is the `init()` method, **not** the `myTest` method. Functional interfaces have one missing implementation, and in this case, it is the `init()` method. So this new implementation of `MyIF` has the the `init` as specified by `a::myTest`, and the `myTest` as specified by `default void myTest()` in `MyIF`. It is not an instance of `A`: it is like having:\r\n\r\n    A a = new A();\r\n    MyIF my = new MyIF() {\r\n        public void init() {\r\n            a.myTest();\r\n        }\r\n    };\r\n\r\n---\r\n\r\nIn the second case, your `my` *is* actually an instance of `A`, and method implementations in a class overrule default implementations in an interface, so you get the `myTest` method from `A`.","title":"Wrong method invoked when using method reference to implement functional interface","body":"<p><code>a::myTest</code> means use <code>myTest()</code> as the required function in an implementation of the functional interface <code>MyIF</code>. The function it must take the place of is the <code>init()</code> method, <strong>not</strong> the <code>myTest</code> method. Functional interfaces have one missing implementation, and in this case, it is the <code>init()</code> method. So this new implementation of <code>MyIF</code> has the the <code>init</code> as specified by <code>a::myTest</code>, and the <code>myTest</code> as specified by <code>default void myTest()</code> in <code>MyIF</code>. It is not an instance of <code>A</code>: it is like having:</p>\n<pre><code>A a = new A();\nMyIF my = new MyIF() {\n    public void init() {\n        a.myTest();\n    }\n};\n</code></pre>\n<hr />\n<p>In the second case, your <code>my</code> <em>is</em> actually an instance of <code>A</code>, and method implementations in a class overrule default implementations in an interface, so you get the <code>myTest</code> method from <code>A</code>.</p>\n"},{"tags":[],"owner":{"account_id":27892660,"reputation":11,"user_id":21298695,"display_name":"Mike Clarke"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677520423,"creation_date":1677520423,"answer_id":75583941,"question_id":75582873,"body_markdown":"This is a good question :).\r\n\r\nAs @khelwood has pointed out, this line:\r\n```\r\nMyIF my = a::myTest;\r\n```\r\ncreates a lambda binding to the ```init()``` method of the MyIF interface. \r\n\r\nWhen the compiler encounters this, it creates a new MyIF reference that is only linked to the instance of A for its implementation of ```init()```. Since the compiler can only choose a single method to provide the ```@FunctionalInterface``` behavior, it has to choose the non-default method. Otherwise the compiler can&#39;t know which method the interface is defining as its functional/lambda signature. If you tried to have 2 standard interface methods with no default implementations, you&#39;d get a compiler error for this reason (even if the signatures were different). \r\n\r\nIt might be clearer if you add a line to your code:\r\n```\r\n        A a = new A();\r\n        MyIF my = a::myTest;\r\n        my.init();\r\n        my.myTest();\r\n```\r\n\r\nNow you can see in the output that the ```init()``` method called by the lambda still calls the ```myTest()``` implementation in A. \r\n\r\nIn general it&#39;s probably wise to try to avoid default implementations in functional interfaces to make this less confusing :).\r\n\r\nEffective Java (3rd Edition) items 21 and 43 are relevant here. ","title":"Wrong method invoked when using method reference to implement functional interface","body":"<p>This is a good question :).</p>\n<p>As @khelwood has pointed out, this line:</p>\n<pre><code>MyIF my = a::myTest;\n</code></pre>\n<p>creates a lambda binding to the <code>init()</code> method of the MyIF interface.</p>\n<p>When the compiler encounters this, it creates a new MyIF reference that is only linked to the instance of A for its implementation of <code>init()</code>. Since the compiler can only choose a single method to provide the <code>@FunctionalInterface</code> behavior, it has to choose the non-default method. Otherwise the compiler can't know which method the interface is defining as its functional/lambda signature. If you tried to have 2 standard interface methods with no default implementations, you'd get a compiler error for this reason (even if the signatures were different).</p>\n<p>It might be clearer if you add a line to your code:</p>\n<pre><code>        A a = new A();\n        MyIF my = a::myTest;\n        my.init();\n        my.myTest();\n</code></pre>\n<p>Now you can see in the output that the <code>init()</code> method called by the lambda still calls the <code>myTest()</code> implementation in A.</p>\n<p>In general it's probably wise to try to avoid default implementations in functional interfaces to make this less confusing :).</p>\n<p>Effective Java (3rd Edition) items 21 and 43 are relevant here.</p>\n"}],"owner":{"account_id":21635176,"reputation":11,"user_id":15958174,"display_name":"Kanz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677537469,"creation_date":1677514183,"question_id":75582873,"body_markdown":"```java\r\n@FunctionalInterface\r\ninterface MyIF {\r\n\r\n    void init();\r\n    default void myTest() {\r\n        System.out.println(&quot;myTest interface Method&quot;);\r\n    }\r\n}\r\n\r\nclass A implements MyIF {\r\n\r\n    @Override\r\n    public void init() {\r\n        myTest();\r\n    }\r\n\r\n    @Override\r\n    public void myTest() {\r\n        System.out.println(&quot;myTest class Method&quot;);\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        A a = new A();\r\n        MyIF my = a::myTest;\r\n        my.myTest(); \r\n  }\r\n}\r\n```\r\n\r\n**Output**\r\n&gt;myTest interface Method\r\n\r\n\r\n**Expected**\r\n&gt;myTest class Method\r\n\r\n\r\nI tried this code and expected the same result:\r\n\r\n```java\r\nA a = new A();\r\nMyIF my = new A();\r\nmy.myTest();\r\n```\r\n**Output**\r\n&gt;myTest class Method\r\n\r\nWhy are the results different?","title":"Wrong method invoked when using method reference to implement functional interface","body":"<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\ninterface MyIF {\n\n    void init();\n    default void myTest() {\n        System.out.println(&quot;myTest interface Method&quot;);\n    }\n}\n\nclass A implements MyIF {\n\n    @Override\n    public void init() {\n        myTest();\n    }\n\n    @Override\n    public void myTest() {\n        System.out.println(&quot;myTest class Method&quot;);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        A a = new A();\n        MyIF my = a::myTest;\n        my.myTest(); \n  }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<blockquote>\n<p>myTest interface Method</p>\n</blockquote>\n<p><strong>Expected</strong></p>\n<blockquote>\n<p>myTest class Method</p>\n</blockquote>\n<p>I tried this code and expected the same result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>A a = new A();\nMyIF my = new A();\nmy.myTest();\n</code></pre>\n<p><strong>Output</strong></p>\n<blockquote>\n<p>myTest class Method</p>\n</blockquote>\n<p>Why are the results different?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1677535062,"post_id":75585844,"comment_id":133353657,"body_markdown":"is that dependency specified in your gradle files? If so, just edit your grade files to remove the dependency. Does that answer your question?","body":"is that dependency specified in your gradle files? If so, just edit your grade files to remove the dependency. Does that answer your question?"},{"owner":{"account_id":19033204,"reputation":457,"user_id":13894850,"display_name":"Tim"},"score":0,"creation_date":1677535668,"post_id":75585844,"comment_id":133353785,"body_markdown":"Thanks.  So this may be a stupid question - but I&#39;m not totally sure what these gradle files are.  I have a build.gradle file in my root directory but it doesn&#39;t contain any references to the jar file I&#39;m trying to remove.\n\nI even did a global search for that jar file and several others listed in Project and External Dependencies and could not find them listed anywhere.  Thanks.","body":"Thanks.  So this may be a stupid question - but I&#39;m not totally sure what these gradle files are.  I have a build.gradle file in my root directory but it doesn&#39;t contain any references to the jar file I&#39;m trying to remove.  I even did a global search for that jar file and several others listed in Project and External Dependencies and could not find them listed anywhere.  Thanks."},{"owner":{"account_id":19033204,"reputation":457,"user_id":13894850,"display_name":"Tim"},"score":0,"creation_date":1677535907,"post_id":75585844,"comment_id":133353815,"body_markdown":"Hold on - I think maybe I&#39;ve found something...","body":"Hold on - I think maybe I&#39;ve found something..."},{"owner":{"account_id":19033204,"reputation":457,"user_id":13894850,"display_name":"Tim"},"score":0,"creation_date":1677537100,"post_id":75585844,"comment_id":133354059,"body_markdown":"Okay I think this might work...  I removed the old jar files from a file called build.gradle in my top-most directory and replaced with the new jar files.  I think it&#39;s going to work now - thanks!","body":"Okay I think this might work...  I removed the old jar files from a file called build.gradle in my top-most directory and replaced with the new jar files.  I think it&#39;s going to work now - thanks!"}],"answers":[{"tags":[],"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677537370,"creation_date":1677537370,"answer_id":75586217,"question_id":75585844,"body_markdown":"You can do it just by editing your gradle configuration file (Ex. `build.gradle`) to remove / add dependencies as you wish. The dependencies are declared there. Docs: https://docs.gradle.org/current/userguide/declaring_dependencies.html.","title":"In VS Code, how do you add/remove a jar file to Project and External Dependencies?","body":"<p>You can do it just by editing your gradle configuration file (Ex. <code>build.gradle</code>) to remove / add dependencies as you wish. The dependencies are declared there. Docs: <a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/declaring_dependencies.html</a>.</p>\n"}],"owner":{"account_id":19033204,"reputation":457,"user_id":13894850,"display_name":"Tim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75586217,"answer_count":1,"score":0,"last_activity_date":1677537398,"creation_date":1677534173,"question_id":75585844,"body_markdown":"I need to remove a jar file from my project and add another one.\r\n\r\nIf I open my projects in the JAVA PROJECTS view, I can see a &#39;Project and External Dependencies&#39; folder and it has the jar file I wish to remove...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, I can&#39;t find a plus or minus icon or anything like that to indicate I can remove one jar file or add another.  \r\n\r\nAnd I&#39;ve tried sticking the new jar file in my project&#39;s lib directory; it won&#39;t recognize the new jar file.\r\n\r\nAny suggestions?\r\n\r\n  [1]: https://i.stack.imgur.com/Y5KmY.png","title":"In VS Code, how do you add/remove a jar file to Project and External Dependencies?","body":"<p>I need to remove a jar file from my project and add another one.</p>\n<p>If I open my projects in the JAVA PROJECTS view, I can see a 'Project and External Dependencies' folder and it has the jar file I wish to remove...</p>\n<p><a href=\"https://i.stack.imgur.com/Y5KmY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y5KmY.png\" alt=\"enter image description here\" /></a></p>\n<p>However, I can't find a plus or minus icon or anything like that to indicate I can remove one jar file or add another.</p>\n<p>And I've tried sticking the new jar file in my project's lib directory; it won't recognize the new jar file.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","spring-boot","java-time"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1677424410,"post_id":75572915,"comment_id":133330995,"body_markdown":"Where do you see the localdate**time** in 2023-02-26? That&#39;s a date.","body":"Where do you see the localdate<b>time</b> in 2023-02-26? That&#39;s a date."},{"owner":{"account_id":10368509,"reputation":601,"user_id":7646868,"display_name":"Shanka Somasiri"},"score":0,"creation_date":1677424597,"post_id":75572915,"comment_id":133331028,"body_markdown":"In my case the user will provide 2023-02-26 as a string input. I have to convert it to something like this 2023-02-26 22:03:05.034981 as my database column has the timestamp without timezone.","body":"In my case the user will provide 2023-02-26 as a string input. I have to convert it to something like this 2023-02-26 22:03:05.034981 as my database column has the timestamp without timezone."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1677424624,"post_id":75572915,"comment_id":133331034,"body_markdown":"So where are you getting the time from? You&#39;re just going to hardcode 3 minutes past 10? Or a random number generator?","body":"So where are you getting the time from? You&#39;re just going to hardcode 3 minutes past 10? Or a random number generator?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1677424663,"post_id":75572915,"comment_id":133331040,"body_markdown":"Well your *pattern* expects a time as well: `DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)`. Do you understand what that code does? What the meaning of the string is there? I would encourage you to parse the value as a `LocalDate` if that&#39;s what the user is actually entering - add the time part separately *after* parsing.","body":"Well your <i>pattern</i> expects a time as well: <code>DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)</code>. Do you understand what that code does? What the meaning of the string is there? I would encourage you to parse the value as a <code>LocalDate</code> if that&#39;s what the user is actually entering - add the time part separately <i>after</i> parsing."},{"owner":{"account_id":10368509,"reputation":601,"user_id":7646868,"display_name":"Shanka Somasiri"},"score":0,"creation_date":1677424834,"post_id":75572915,"comment_id":133331066,"body_markdown":"Oh oki. I thought may be it will add some default values like 00.00.00 to HH.mm.ss","body":"Oh oki. I thought may be it will add some default values like 00.00.00 to HH.mm.ss"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1677425816,"post_id":75572915,"comment_id":133331222,"body_markdown":"You can instruct it to. It does not by itself.","body":"You can instruct it to. It does not by itself."},{"owner":{"account_id":10368509,"reputation":601,"user_id":7646868,"display_name":"Shanka Somasiri"},"score":0,"creation_date":1677425846,"post_id":75572915,"comment_id":133331229,"body_markdown":"@Michael could you have a look at the additional Info section and give me some insight if possible","body":"@Michael could you have a look at the additional Info section and give me some insight if possible"},{"owner":{"account_id":10368509,"reputation":601,"user_id":7646868,"display_name":"Shanka Somasiri"},"score":0,"creation_date":1677425913,"post_id":75572915,"comment_id":133331238,"body_markdown":"@JonSkeet l could you have a look at the additional Info section and give me some insight if possible","body":"@JonSkeet l could you have a look at the additional Info section and give me some insight if possible"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677426225,"post_id":75572915,"comment_id":133331299,"body_markdown":"Like `LocalDate.parse(&quot;2023-02-26&quot;).atTime(LocalTime.of(22, 3, 5, 34_981_000))`? Yields a `LocalDateTIme` of `2023-02-26T22:03:05.034981`. Or `LocalDate.parse(&quot;2023-02-26&quot;).atStartOfDay()` -&gt; `2023-02-26T00:00`.","body":"Like <code>LocalDate.parse(&quot;2023-02-26&quot;).atTime(LocalTime.of(22, 3, 5, 34_981_000))</code>? Yields a <code>LocalDateTIme</code> of <code>2023-02-26T22:03:05.034981</code>. Or <code>LocalDate.parse(&quot;2023-02-26&quot;).atStartOfDay()</code> -&gt; <code>2023-02-26T00:00</code>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1677426295,"post_id":75572915,"comment_id":133331305,"body_markdown":"Use one of the `atTime` methods to get a `LocalDateTime`.","body":"Use one of the <code>atTime</code> methods to get a <code>LocalDateTime</code>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677536245,"creation_date":1677535811,"answer_id":75586028,"question_id":75572915,"body_markdown":"# tl;dr\r\n\r\n```java\r\nLocalDateTime.of( \r\n    LocalDate.parse( &quot;2023-02-26&quot; ) , \r\n    LocalTime.parse( &quot;22:03:05.034981&quot; ) \r\n)\r\n```\r\n\r\n\r\n# Details\r\n\r\n&gt; LocalDateTime format so that I will get something like this format, 2023-02-26 22:03:05.034981\r\n\r\n\r\nYou are confusing date-time objects with formatted text. A date-time object is *not* text, and **has no format**. \r\n\r\nA date-time class can be used to *parse* a piece of text, extract meaning, and instantiate a date-time object. But the original text is discarded. Date-time objects and `String` objects are entirely separate and distinct.\r\n\r\n&gt;I am getting a date input from the user which is of type yyyy-MM-dd (e.g: 2023-02-26)\r\n\r\nSo parse that input text as a `LocalDate`, a date-only value without a time-of-day and without the context of a time zone or offset-from-UTC.\r\n\r\n    LocalDate ld = LocalDate.parse( &quot;2023-02-26&quot; ) ;\r\n\r\nApparently you want to attach to that date a particular time-of-day (for reasons you do not describe clearly). First parse your text input for that time-of-day.\r\n\r\n    LocalTime lt = LocalTime.parse( &quot;22:03:05.034981&quot; ) ;\r\n\r\n&#128073; Combine the two into a `LocalDateTime`.\r\n\r\n    LocalDateTime ldt = LocalDateTime.of( ld , lt ) ;\r\n\r\n&gt;Is there any specific way how I can use the 2023-02-26 to find something like 2023-02-26 22:03:05.034981 in the database?\r\n\r\nDo you mean search the database for that exact date and time?\r\n\r\nFirst, be sure the database table column is of a data type akin to the SQL data type `TIMESTAMP WITHOUT TIME ZONE`. Verify the *WITHOUT* part, rather than *WITH*. \r\n\r\nThen write your SQL query with the `?` syntax for passing a value via a prepared statement.\r\n\r\n```java\r\nString sql =\r\n    &quot;&quot;&quot;\r\n    SELECT * \r\n    FROM some_table_\r\n    WHERE date_time_ = ?\r\n    ;\r\n    &quot;&quot;&quot;\r\n;\r\n```\r\n\r\nQuery.\r\n\r\n    myPreparedStatement.setObject( 1 , ldt ) ;\r\n\r\nRetrieve found rows.\r\n\r\n    LocalDateTime ldt = myResultSet.getObject( … , LocalDateTime.class ) ;\r\n\r\n\r\n----------\r\n\r\n\r\nBy the way… Be aware that a `LocalDateTime` object is ambiguous and indefinite. Without the context of a zone or offset, a `LocalDateTime` object cannot represent a moment, is not a point on the timeline.\r\n\r\n","title":"Cannot convert date type yyyy-MM-dd to LocalDateTime in Java","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime.of( \n    LocalDate.parse( &quot;2023-02-26&quot; ) , \n    LocalTime.parse( &quot;22:03:05.034981&quot; ) \n)\n</code></pre>\n<h1>Details</h1>\n<blockquote>\n<p>LocalDateTime format so that I will get something like this format, 2023-02-26 22:03:05.034981</p>\n</blockquote>\n<p>You are confusing date-time objects with formatted text. A date-time object is <em>not</em> text, and <strong>has no format</strong>.</p>\n<p>A date-time class can be used to <em>parse</em> a piece of text, extract meaning, and instantiate a date-time object. But the original text is discarded. Date-time objects and <code>String</code> objects are entirely separate and distinct.</p>\n<blockquote>\n<p>I am getting a date input from the user which is of type yyyy-MM-dd (e.g: 2023-02-26)</p>\n</blockquote>\n<p>So parse that input text as a <code>LocalDate</code>, a date-only value without a time-of-day and without the context of a time zone or offset-from-UTC.</p>\n<pre><code>LocalDate ld = LocalDate.parse( &quot;2023-02-26&quot; ) ;\n</code></pre>\n<p>Apparently you want to attach to that date a particular time-of-day (for reasons you do not describe clearly). First parse your text input for that time-of-day.</p>\n<pre><code>LocalTime lt = LocalTime.parse( &quot;22:03:05.034981&quot; ) ;\n</code></pre>\n<p>👉 Combine the two into a <code>LocalDateTime</code>.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.of( ld , lt ) ;\n</code></pre>\n<blockquote>\n<p>Is there any specific way how I can use the 2023-02-26 to find something like 2023-02-26 22:03:05.034981 in the database?</p>\n</blockquote>\n<p>Do you mean search the database for that exact date and time?</p>\n<p>First, be sure the database table column is of a data type akin to the SQL data type <code>TIMESTAMP WITHOUT TIME ZONE</code>. Verify the <em>WITHOUT</em> part, rather than <em>WITH</em>.</p>\n<p>Then write your SQL query with the <code>?</code> syntax for passing a value via a prepared statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql =\n    &quot;&quot;&quot;\n    SELECT * \n    FROM some_table_\n    WHERE date_time_ = ?\n    ;\n    &quot;&quot;&quot;\n;\n</code></pre>\n<p>Query.</p>\n<pre><code>myPreparedStatement.setObject( 1 , ldt ) ;\n</code></pre>\n<p>Retrieve found rows.</p>\n<pre><code>LocalDateTime ldt = myResultSet.getObject( … , LocalDateTime.class ) ;\n</code></pre>\n<hr />\n<p>By the way… Be aware that a <code>LocalDateTime</code> object is ambiguous and indefinite. Without the context of a zone or offset, a <code>LocalDateTime</code> object cannot represent a moment, is not a point on the timeline.</p>\n"}],"owner":{"account_id":10368509,"reputation":601,"user_id":7646868,"display_name":"Shanka Somasiri"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1677536245,"creation_date":1677424331,"question_id":75572915,"body_markdown":"I am getting a date input from the user which is of type yyyy-MM-dd (e.g: 2023-02-26). I am trying to convert it to LocalDateTime format so that I will get something like this format, 2023-02-26 22:03:05.034981\r\n\r\nI have tried examples available online like below.\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    LocalDateTime createdDate =  LocalDateTime.parse(projectSearchCriteria.getCreatedDate(), formatter);\r\n\r\nBut getting below error\r\n\r\n    Caused by: java.time.format.DateTimeParseException: Text &#39;2023-02-26&#39; could not be parsed at index 10\r\n\r\nAny ideas on how to get this issue fixed.\r\n\r\n**====================== Additional Info ===================**\r\n\r\nI have converted so that the string input is now parsed to a LocalDate\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut still it gives the below error\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThis is because I have the LocalDateTime format in the database\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kp6UO.png\r\n  [2]: https://i.stack.imgur.com/0jbFT.png\r\n  [3]: https://i.stack.imgur.com/Orhas.png\r\n\r\nIs there any specific way how I can use the 2023-02-26 to find something like 2023-02-26 22:03:05.034981 in the database?","title":"Cannot convert date type yyyy-MM-dd to LocalDateTime in Java","body":"<p>I am getting a date input from the user which is of type yyyy-MM-dd (e.g: 2023-02-26). I am trying to convert it to LocalDateTime format so that I will get something like this format, 2023-02-26 22:03:05.034981</p>\n<p>I have tried examples available online like below.</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\nLocalDateTime createdDate =  LocalDateTime.parse(projectSearchCriteria.getCreatedDate(), formatter);\n</code></pre>\n<p>But getting below error</p>\n<pre><code>Caused by: java.time.format.DateTimeParseException: Text '2023-02-26' could not be parsed at index 10\n</code></pre>\n<p>Any ideas on how to get this issue fixed.</p>\n<p><strong>====================== Additional Info ===================</strong></p>\n<p>I have converted so that the string input is now parsed to a LocalDate</p>\n<p><a href=\"https://i.stack.imgur.com/kp6UO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kp6UO.png\" alt=\"enter image description here\" /></a></p>\n<p>But still it gives the below error</p>\n<p><a href=\"https://i.stack.imgur.com/0jbFT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0jbFT.png\" alt=\"enter image description here\" /></a></p>\n<p>This is because I have the LocalDateTime format in the database</p>\n<p><a href=\"https://i.stack.imgur.com/Orhas.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Orhas.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there any specific way how I can use the 2023-02-26 to find something like 2023-02-26 22:03:05.034981 in the database?</p>\n"},{"tags":["java","spring-mvc","rate-limiting"],"owner":{"account_id":19035653,"reputation":1,"user_id":13896804,"display_name":"Aakash Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677535462,"creation_date":1677521219,"question_id":75584044,"body_markdown":"I am planning to use bucket4j in spring mvc web application for limiting the requests to multiple APIs. Does Bucket4j provide some flexibility with limiting for different endpoints / https methods (GET/POST/PUT) ?\r\nAlso, is there any third party library, that does so ?\r\n\r\nWhatever I try to search I am getting Bucket4j as the answer. Also, I have started implementing own logic for rate-limiting, but would take up most of my time","title":"Does Bucket4j provide customization for applying different rate-limits to different APIs?","body":"<p>I am planning to use bucket4j in spring mvc web application for limiting the requests to multiple APIs. Does Bucket4j provide some flexibility with limiting for different endpoints / https methods (GET/POST/PUT) ?\nAlso, is there any third party library, that does so ?</p>\n<p>Whatever I try to search I am getting Bucket4j as the answer. Also, I have started implementing own logic for rate-limiting, but would take up most of my time</p>\n"},{"tags":["java","postgresql","jooq"],"answers":[{"comments":[{"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"score":0,"creation_date":1651068906,"post_id":72028152,"comment_id":127274870,"body_markdown":"Thanks for the reply. These multiset methods are only available with JOOQ 3.15+? I think we&#39;re using 3.14 unfortunately.","body":"Thanks for the reply. These multiset methods are only available with JOOQ 3.15+? I think we&#39;re using 3.14 unfortunately."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1651069117,"post_id":72028152,"comment_id":127274966,"body_markdown":"@robjwilkins: Time to upgrade","body":"@robjwilkins: Time to upgrade"},{"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"score":0,"creation_date":1651070213,"post_id":72028152,"comment_id":127275485,"body_markdown":"Think we&#39;re restricted due to Springboot not supporting Jooq above v3.14? Possible to get this working by calling the `multiset` using the Jooq `function` method?","body":"Think we&#39;re restricted due to Springboot not supporting Jooq above v3.14? Possible to get this working by calling the <code>multiset</code> using the Jooq <code>function</code> method?"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1651070316,"post_id":72028152,"comment_id":127275524,"body_markdown":"@robjwilkins: Spring Boot does not restrict you in any way from this upgrade! You can&#39;t get my answer to work on jOOQ 3.14, this is a massive new feature from jOOQ 3.15.","body":"@robjwilkins: Spring Boot does not restrict you in any way from this upgrade! You can&#39;t get my answer to work on jOOQ 3.14, this is a massive new feature from jOOQ 3.15."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651060002,"creation_date":1651060002,"answer_id":72028152,"question_id":72027871,"body_markdown":"Rather than using [`ARRAY_AGG`][2], how about using the much more powerful [`MULTISET_AGG`][3] or [`MULTISET`][4] to get the most out of jOOQ&#39;s type safe capabilities? Combine that with [ad-hoc conversion][5] for type safe mapping to your Java records, [as shown also in this article][6]. Your query would then look like this:\r\n\r\n### Using `MULTISET_AGG`\r\n\r\n```java\r\nList&lt;Customer&gt; customers =\r\nctx.select(\r\n        CUSTOMER.NAME,\r\n        multisetAgg(CUSTOMER_CONTACT.CONTACT_AT, CUSTOMER_CONTACT.TYPE)\r\n            .convertFrom(r -&gt; r.map(Records.mapping(CustomerContact::new))))\r\n   .from(CUSTOMER)\r\n   .join(CUSTOMER_CONTACT).on(CUSTOMER_CONTACT.CUSTOMER_ID.eq(CUSTOMER.ID))\r\n   .groupBy(CUSTOMER_CONTACT.CUSTOMER_ID)\r\n   .fetch(Records.mapping(Customer::new));\r\n```\r\n\r\nNote that the entire query type checks. If you change anything about the query or about your records, it won&#39;t compile anymore, giving you additional type safety. This is assuming that youre `Type` enum is either:\r\n\r\n- Generated from a PostgreSQL `ENUM` type\r\n- Converted automatically using an [enum converter, attached to generated code][7]\r\n\r\nDepending on your tastes, using [implicit joins][8] could slightly simplify the query for you?\r\n\r\n```java\r\nList&lt;Customer&gt; customers =\r\nctx.select(\r\n        CUSTOMER_CONTACT.customer().NAME,\r\n        multisetAgg(CUSTOMER_CONTACT.CONTACT_AT, CUSTOMER_CONTACT.TYPE)\r\n            .convertFrom(r -&gt; r.map(Records.mapping(CustomerContact::new))))\r\n   .from(CUSTOMER_CONTACT)\r\n   .groupBy(CUSTOMER_CONTACT.CUSTOMER_ID)\r\n   .fetch(Records.mapping(Customer::new));\r\n```\r\n\r\nIt&#39;s not a big deal in this query, but in a more complex query, it can reduce complexity.\r\n\r\n\r\n### Using `MULTISET`\r\n\r\nAn alterantive is to nest your query instead of aggregating, like this:\r\n\r\n```java\r\nList&lt;Customer&gt; customers =\r\nctx.select(\r\n        CUSTOMER.NAME,\r\n        multiset(\r\n            select(CUSTOMER_CONTACT.CONTACT_AT, CUSTOMER_CONTACT.TYPE)\r\n            .from(CUSTOMER_CONTACT)\r\n            .where(CUSTOMER_CONTACT.CUSTOMER_ID.eq(CUSTOMER.ID))\r\n        ).convertFrom(r -&gt; r.map(Records.mapping(CustomerContact::new))))\r\n   .from(CUSTOMER)\r\n   .fetch(Records.mapping(Customer::new));\r\n```\r\n\r\n### Code generation\r\n\r\nFor this answer, I was assuming you&#39;re using the code generator ([you should!][1]), as it would greatly contribute to this code being type safe, and make this answer more readable.\r\n\r\nMuch of the above can be done without code generation (except implicit joins), but I&#39;m sure this answer could nicely demonstrate the benefits it terms of type safety.\r\n\r\n  [1]: https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/array-agg-function/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/multiset-agg-function/\r\n  [4]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\r\n  [5]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\r\n  [6]: https://blog.jooq.org/jooq-3-15s-new-multiset-operator-will-change-how-you-think-about-sql/\r\n  [7]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-enum-converter/\r\n  [8]: https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/implicit-join/","title":"JOOQ arrayAgg array_agg fields as object","body":"<p>Rather than using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/array-agg-function/\" rel=\"nofollow noreferrer\"><code>ARRAY_AGG</code></a>, how about using the much more powerful <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/multiset-agg-function/\" rel=\"nofollow noreferrer\"><code>MULTISET_AGG</code></a> or <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\" rel=\"nofollow noreferrer\"><code>MULTISET</code></a> to get the most out of jOOQ's type safe capabilities? Combine that with <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc conversion</a> for type safe mapping to your Java records, <a href=\"https://blog.jooq.org/jooq-3-15s-new-multiset-operator-will-change-how-you-think-about-sql/\" rel=\"nofollow noreferrer\">as shown also in this article</a>. Your query would then look like this:</p>\n<h3>Using <code>MULTISET_AGG</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Customer&gt; customers =\nctx.select(\n        CUSTOMER.NAME,\n        multisetAgg(CUSTOMER_CONTACT.CONTACT_AT, CUSTOMER_CONTACT.TYPE)\n            .convertFrom(r -&gt; r.map(Records.mapping(CustomerContact::new))))\n   .from(CUSTOMER)\n   .join(CUSTOMER_CONTACT).on(CUSTOMER_CONTACT.CUSTOMER_ID.eq(CUSTOMER.ID))\n   .groupBy(CUSTOMER_CONTACT.CUSTOMER_ID)\n   .fetch(Records.mapping(Customer::new));\n</code></pre>\n<p>Note that the entire query type checks. If you change anything about the query or about your records, it won't compile anymore, giving you additional type safety. This is assuming that youre <code>Type</code> enum is either:</p>\n<ul>\n<li>Generated from a PostgreSQL <code>ENUM</code> type</li>\n<li>Converted automatically using an <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-enum-converter/\" rel=\"nofollow noreferrer\">enum converter, attached to generated code</a></li>\n</ul>\n<p>Depending on your tastes, using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/implicit-join/\" rel=\"nofollow noreferrer\">implicit joins</a> could slightly simplify the query for you?</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Customer&gt; customers =\nctx.select(\n        CUSTOMER_CONTACT.customer().NAME,\n        multisetAgg(CUSTOMER_CONTACT.CONTACT_AT, CUSTOMER_CONTACT.TYPE)\n            .convertFrom(r -&gt; r.map(Records.mapping(CustomerContact::new))))\n   .from(CUSTOMER_CONTACT)\n   .groupBy(CUSTOMER_CONTACT.CUSTOMER_ID)\n   .fetch(Records.mapping(Customer::new));\n</code></pre>\n<p>It's not a big deal in this query, but in a more complex query, it can reduce complexity.</p>\n<h3>Using <code>MULTISET</code></h3>\n<p>An alterantive is to nest your query instead of aggregating, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Customer&gt; customers =\nctx.select(\n        CUSTOMER.NAME,\n        multiset(\n            select(CUSTOMER_CONTACT.CONTACT_AT, CUSTOMER_CONTACT.TYPE)\n            .from(CUSTOMER_CONTACT)\n            .where(CUSTOMER_CONTACT.CUSTOMER_ID.eq(CUSTOMER.ID))\n        ).convertFrom(r -&gt; r.map(Records.mapping(CustomerContact::new))))\n   .from(CUSTOMER)\n   .fetch(Records.mapping(Customer::new));\n</code></pre>\n<h3>Code generation</h3>\n<p>For this answer, I was assuming you're using the code generator (<a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">you should!</a>), as it would greatly contribute to this code being type safe, and make this answer more readable.</p>\n<p>Much of the above can be done without code generation (except implicit joins), but I'm sure this answer could nicely demonstrate the benefits it terms of type safety.</p>\n"},{"tags":[],"owner":{"account_id":10618715,"reputation":144,"user_id":7820446,"display_name":"wipallen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677535428,"creation_date":1677535054,"answer_id":75585938,"question_id":72027871,"body_markdown":"If upgrade is not an options, one way to do this is: \r\n\r\nusing the .arrayAgg(field()) but instead of &quot;customer_contact.contact_at&quot; use json_build_object as in \r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    arrayAgg(field(fieldsToJson(customer_contact.contact_at, customer_contact.FIELD_TWO))).as(CUSTOMER_CONTACT_LIST))\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n        private String fieldsToJson(List&lt;TableField&lt;?,?&gt;&gt; fields) {\r\n            StringBuilder sb = new StringBuilder();\r\n            sb.append(&quot;json_build_object(&quot;);\r\n            for (Field&lt;?&gt; field : fields) {\r\n                sb.append(&quot;&#39;&quot;).append(CaseFormat.LOWER_UNDERSCORE.to(CaseFormat.LOWER_CAMEL, field.getName())).append(&quot;&#39;&quot;).append(&quot;,&quot;).append(field).append(&quot;,&quot;);\r\n            }\r\n            sb.replace(sb.length() - 1, sb.length(), &quot;)&quot;);\r\n            return sb.toString();\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThen in your mapper use an ObjectMapper in turn the JSON into your CustomerContact object.\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Object[] contacts = record.get(CUSTOMER_CONTACT_LIST, Object[].class);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nthen for each:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    objectMapper.readValue(contactObject.toString(), CustomerContact.class);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"JOOQ arrayAgg array_agg fields as object","body":"<p>If upgrade is not an options, one way to do this is:</p>\n<p>using the .arrayAgg(field()) but instead of &quot;customer_contact.contact_at&quot; use json_build_object as in</p>\n<pre class=\"lang-html prettyprint-override\"><code>arrayAgg(field(fieldsToJson(customer_contact.contact_at, customer_contact.FIELD_TWO))).as(CUSTOMER_CONTACT_LIST))\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>    private String fieldsToJson(List&lt;TableField&lt;?,?&gt;&gt; fields) {\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;json_build_object(&quot;);\n        for (Field&lt;?&gt; field : fields) {\n            sb.append(&quot;'&quot;).append(CaseFormat.LOWER_UNDERSCORE.to(CaseFormat.LOWER_CAMEL, field.getName())).append(&quot;'&quot;).append(&quot;,&quot;).append(field).append(&quot;,&quot;);\n        }\n        sb.replace(sb.length() - 1, sb.length(), &quot;)&quot;);\n        return sb.toString();\n    }\n</code></pre>\n\n<p>Then in your mapper use an ObjectMapper in turn the JSON into your CustomerContact object.</p>\n<pre class=\"lang-html prettyprint-override\"><code>Object[] contacts = record.get(CUSTOMER_CONTACT_LIST, Object[].class);\n</code></pre>\n\n<p>then for each:</p>\n<pre class=\"lang-html prettyprint-override\"><code>objectMapper.readValue(contactObject.toString(), CustomerContact.class);\n</code></pre>\n\n"}],"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677535428,"creation_date":1651058578,"question_id":72027871,"body_markdown":"I have 2 entities:\r\n\r\n```\r\nrecord Customer(String name, List&lt;CustomerContact &gt; contactHistory) {}\r\n\r\nrecord CustomerContact(LocalDateTime contactAt, Contact.Type type) {\r\n  public enum Type {\r\n    TEXT_MESSAGE, EMAIL\r\n  }\r\n}\r\n```\r\n\r\nThese are persisted in a schema with 2 tables:\r\n```\r\nCREATE TABLE customer(\r\n  &quot;id&quot;.   BIGSERIAL PRIMARY KEY,\r\n  &quot;name&quot;  TEXT      NOT NULL\r\n);\r\n\r\nCREATE TABLE customer_contact(\r\n  &quot;customer_id&quot; BIGINT REFERENCES &quot;customer&quot; (ID) NOT NULL,\r\n  &quot;type&quot;        TEXT                           NOT NULL,\r\n  &quot;contact_at&quot;  TIMESTAMPTZ                    NOT NULL DEFAULT (now() AT TIME ZONE &#39;utc&#39;)\r\n);\r\n```\r\n\r\nI want to retrieve the details of my Customers with a single query, and use the `arrayAgg` method to add the contactHistory to each customer. I have a query like this:\r\n\r\n```java\r\n//pseudo code\r\n\r\nDSL.select(field(&quot;customer.name&quot;))\r\n   .select(arrayAgg(field(&quot;customer_contact.contact_at&quot;)) //TODO How to aggregate both fields into a CustomerContact object\r\n   .from(table(&quot;customer&quot;))\r\n   .join(table(&quot;customer_contact&quot;)).on(field(&quot;customer_contact.customer_id&quot;).eq(&quot;customer.id&quot;))\r\n   .groupBy(field(&quot;customer_contact.customer_id&quot;))\r\n   .fetchOptional()\r\n   .map(asCustomer());\r\n```\r\n\r\nThe problem I have with this is that `arrayAgg` will only work with a single field. I want to use 2 fields, and bind them into a single object (`CustomerContact`) then use that as the basis for the `arrayAgg`\r\n\r\nApologies if I have not explained this clearly! Any help much appreciated.","title":"JOOQ arrayAgg array_agg fields as object","body":"<p>I have 2 entities:</p>\n<pre><code>record Customer(String name, List&lt;CustomerContact &gt; contactHistory) {}\n\nrecord CustomerContact(LocalDateTime contactAt, Contact.Type type) {\n  public enum Type {\n    TEXT_MESSAGE, EMAIL\n  }\n}\n</code></pre>\n<p>These are persisted in a schema with 2 tables:</p>\n<pre><code>CREATE TABLE customer(\n  &quot;id&quot;.   BIGSERIAL PRIMARY KEY,\n  &quot;name&quot;  TEXT      NOT NULL\n);\n\nCREATE TABLE customer_contact(\n  &quot;customer_id&quot; BIGINT REFERENCES &quot;customer&quot; (ID) NOT NULL,\n  &quot;type&quot;        TEXT                           NOT NULL,\n  &quot;contact_at&quot;  TIMESTAMPTZ                    NOT NULL DEFAULT (now() AT TIME ZONE 'utc')\n);\n</code></pre>\n<p>I want to retrieve the details of my Customers with a single query, and use the <code>arrayAgg</code> method to add the contactHistory to each customer. I have a query like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//pseudo code\n\nDSL.select(field(&quot;customer.name&quot;))\n   .select(arrayAgg(field(&quot;customer_contact.contact_at&quot;)) //TODO How to aggregate both fields into a CustomerContact object\n   .from(table(&quot;customer&quot;))\n   .join(table(&quot;customer_contact&quot;)).on(field(&quot;customer_contact.customer_id&quot;).eq(&quot;customer.id&quot;))\n   .groupBy(field(&quot;customer_contact.customer_id&quot;))\n   .fetchOptional()\n   .map(asCustomer());\n</code></pre>\n<p>The problem I have with this is that <code>arrayAgg</code> will only work with a single field. I want to use 2 fields, and bind them into a single object (<code>CustomerContact</code>) then use that as the basis for the <code>arrayAgg</code></p>\n<p>Apologies if I have not explained this clearly! Any help much appreciated.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1501327865,"post_id":45388743,"comment_id":77738096,"body_markdown":"What class gave the context menu in the second screenshot? It looks like it has code whereas the first example does not.","body":"What class gave the context menu in the second screenshot? It looks like it has code whereas the first example does not."},{"owner":{"account_id":3475032,"reputation":581,"user_id":2908475,"accept_rate":78,"display_name":"So S"},"score":0,"creation_date":1501329033,"post_id":45388743,"comment_id":77738399,"body_markdown":"The second image comes from the IntelliJ help page. I&#39;ve added the link in the question. Also, when I add a method, the option does not appear.","body":"The second image comes from the IntelliJ help page. I&#39;ve added the link in the question. Also, when I add a method, the option does not appear."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1501329160,"post_id":45388743,"comment_id":77738436,"body_markdown":"Did you add a static or non-static method? Did you try both?","body":"Did you add a static or non-static method? Did you try both?"},{"owner":{"account_id":3475032,"reputation":581,"user_id":2908475,"accept_rate":78,"display_name":"So S"},"score":0,"creation_date":1501330366,"post_id":45388743,"comment_id":77738769,"body_markdown":"Yes, I did try it.","body":"Yes, I did try it."},{"owner":{"account_id":3169,"reputation":24414,"user_id":4510,"display_name":"Bas Leijdekkers"},"score":0,"creation_date":1501358549,"post_id":45388743,"comment_id":77747689,"body_markdown":"Do you have the JUnit and TestNG-J plugins disabled by any chance?","body":"Do you have the JUnit and TestNG-J plugins disabled by any chance?"}],"answers":[{"comments":[{"owner":{"account_id":3475032,"reputation":581,"user_id":2908475,"accept_rate":78,"display_name":"So S"},"score":2,"creation_date":1501410648,"post_id":45389277,"comment_id":77758247,"body_markdown":"Thank you @Panayiotis Poularakis, but this is more a workaround than a solution. Cause of that, I will not accept it as an answer.","body":"Thank you @Panayiotis Poularakis, but this is more a workaround than a solution. Cause of that, I will not accept it as an answer."}],"tags":[],"owner":{"account_id":7411315,"reputation":497,"user_id":5638546,"display_name":"Panayiotis Poularakis"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1501331185,"creation_date":1501331185,"answer_id":45389277,"question_id":45388743,"body_markdown":"Default is `Ctrl + Shift + T`\r\n\r\nor you can change it by entering the keymap menu, `Ctrl + Alt + S` to open up the settings, then keymap...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2X2qi.png","title":"IntelliJ Alt+Enter dialog does not list &quot;Create Test&quot;","body":"<p>Default is <code>Ctrl + Shift + T</code></p>\n\n<p>or you can change it by entering the keymap menu, <code>Ctrl + Alt + S</code> to open up the settings, then keymap...</p>\n\n<p><a href=\"https://i.stack.imgur.com/2X2qi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2X2qi.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6322518,"reputation":69,"user_id":4910032,"display_name":"Roman Bukin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535306582,"creation_date":1535306121,"answer_id":52028887,"question_id":45388743,"body_markdown":"To enable this option, go to IDEA Settings -&gt; Editor -&gt; Intentions -&gt; Java -&gt; Declaration and select checkbox Create Test. Search in top left corner can help.\r\n\r\n[![IntellJ IDEA setting create test][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VruEp.png","title":"IntelliJ Alt+Enter dialog does not list &quot;Create Test&quot;","body":"<p>To enable this option, go to IDEA Settings -> Editor -> Intentions -> Java -> Declaration and select checkbox Create Test. Search in top left corner can help.</p>\n\n<p><a href=\"https://i.stack.imgur.com/VruEp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VruEp.png\" alt=\"IntellJ IDEA setting create test\"></a></p>\n"},{"tags":[],"owner":{"account_id":26017892,"reputation":21,"user_id":19725977,"display_name":"Enzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677535411,"creation_date":1677535411,"answer_id":75585981,"question_id":45388743,"body_markdown":"In order to create a test for JUnit in IntelliJ kindly follow these steps:\r\n\r\n 1. Create a new Project using your favorite framework (e.g. Maven)\r\n 2. Create a basic test class\r\n 3. Next, right-click on your Class and choose “Generate”  to generate a Test Class\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mvb7Q.png\r\n\r\n**Ensure you check the class function/member checkbox then click OK**","title":"IntelliJ Alt+Enter dialog does not list &quot;Create Test&quot;","body":"<p>In order to create a test for JUnit in IntelliJ kindly follow these steps:</p>\n<ol>\n<li>Create a new Project using your favorite framework (e.g. Maven)</li>\n<li>Create a basic test class</li>\n<li>Next, right-click on your Class and choose “Generate”  to generate a Test Class\n<a href=\"https://i.stack.imgur.com/Mvb7Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mvb7Q.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p><strong>Ensure you check the class function/member checkbox then click OK</strong></p>\n"}],"owner":{"account_id":3475032,"reputation":581,"user_id":2908475,"accept_rate":78,"display_name":"So S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5406,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":3,"score":10,"last_activity_date":1677535411,"creation_date":1501327713,"question_id":45388743,"body_markdown":"When I press `Alt + Enter` on a class name in IntelliJ (version 2017.2 on a Windows 10 machine) the `Create Test`option is not listed. What can I do to get it there?  \r\n\r\nMy window looks like\r\n[![enter image description here][1]][1]\r\n\r\nAnd i was expecting something like \r\n[![enter image description here][2]][2]\r\nIt comes from the [IntelliJ help page for creating tests][3].\r\n\r\nIs there an option to add the `Create Test` dialog to the menu?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jhEcy.png\r\n  [2]: https://i.stack.imgur.com/btqHr.png\r\n  [3]: https://www.jetbrains.com/help/idea/creating-tests.html","title":"IntelliJ Alt+Enter dialog does not list &quot;Create Test&quot;","body":"<p>When I press <code>Alt + Enter</code> on a class name in IntelliJ (version 2017.2 on a Windows 10 machine) the <code>Create Test</code>option is not listed. What can I do to get it there?  </p>\n\n<p>My window looks like\n<a href=\"https://i.stack.imgur.com/jhEcy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jhEcy.png\" alt=\"enter image description here\"></a></p>\n\n<p>And i was expecting something like \n<a href=\"https://i.stack.imgur.com/btqHr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/btqHr.png\" alt=\"enter image description here\"></a>\nIt comes from the <a href=\"https://www.jetbrains.com/help/idea/creating-tests.html\" rel=\"noreferrer\">IntelliJ help page for creating tests</a>.</p>\n\n<p>Is there an option to add the <code>Create Test</code> dialog to the menu?</p>\n"},{"tags":["java","web-services","oracle12c","obiee"],"answers":[{"tags":[],"owner":{"account_id":16377651,"reputation":71,"user_id":11829417,"display_name":"Gianni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677535214,"creation_date":1677535214,"answer_id":75585956,"question_id":75575268,"body_markdown":"Sounds like the same as [https://forums.oracle.com/ords/apexds/post/initiateanalysisexport-method-with-obiee-web-services-not-r-8913][1], the answer is posted there.  \r\n\r\nTL;DR: by default it does execute in a synchronous mode and therefore there is no need for the queryID. More details in the Oracle Forum.\r\n\r\n\r\n  [1]: https://forums.oracle.com/ords/apexds/post/initiateanalysisexport-method-with-obiee-web-services-not-r-8913","title":"initiateAnalysisExport () Method with OBIEE web services not returning queryID","body":"<p>Sounds like the same as <a href=\"https://forums.oracle.com/ords/apexds/post/initiateanalysisexport-method-with-obiee-web-services-not-r-8913\" rel=\"nofollow noreferrer\">https://forums.oracle.com/ords/apexds/post/initiateanalysisexport-method-with-obiee-web-services-not-r-8913</a>, the answer is posted there.</p>\n<p>TL;DR: by default it does execute in a synchronous mode and therefore there is no need for the queryID. More details in the Oracle Forum.</p>\n"}],"owner":{"account_id":23276170,"reputation":81,"user_id":17360277,"display_name":"Manuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677535214,"creation_date":1677448960,"question_id":75575268,"body_markdown":"I&#39;m trying to use the webservices API in OBIEE with the initiateAnalysisExport() method of the AnalysisExportViews service in OBIEE 12C. I can send the API request without any issues, but the completeAnalysisExport and queryID fields in the AnalysisExportResult structure aren&#39;t returning anything. However, the viewData and mimeType fields are properly populated.\r\n\r\nI&#39;m not sure what I&#39;m doing wrong here. I need the queryID for the completeAnalysisExport method to obtain the export file. I&#39;ve also noticed that the documentation for queryID is empty: https://docs.oracle.com/middleware/1221/biee/BIEIT/structures.htm#BIEIT6968.","title":"initiateAnalysisExport () Method with OBIEE web services not returning queryID","body":"<p>I'm trying to use the webservices API in OBIEE with the initiateAnalysisExport() method of the AnalysisExportViews service in OBIEE 12C. I can send the API request without any issues, but the completeAnalysisExport and queryID fields in the AnalysisExportResult structure aren't returning anything. However, the viewData and mimeType fields are properly populated.</p>\n<p>I'm not sure what I'm doing wrong here. I need the queryID for the completeAnalysisExport method to obtain the export file. I've also noticed that the documentation for queryID is empty: <a href=\"https://docs.oracle.com/middleware/1221/biee/BIEIT/structures.htm#BIEIT6968\" rel=\"nofollow noreferrer\">https://docs.oracle.com/middleware/1221/biee/BIEIT/structures.htm#BIEIT6968</a>.</p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"answers":[{"comments":[{"owner":{"account_id":3649667,"reputation":1341,"user_id":3042145,"accept_rate":75,"display_name":"kism3t"},"score":0,"creation_date":1675665901,"post_id":75342298,"comment_id":132970315,"body_markdown":"Thanks, I already opend a ticket at spring-data as I thought it was an issue there. I will add an link to your hibernate ticket.. THX agin","body":"Thanks, I already opend a ticket at spring-data as I thought it was an issue there. I will add an link to your hibernate ticket.. THX agin"}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677535095,"creation_date":1675471829,"answer_id":75342298,"question_id":75307264,"body_markdown":"This is clearly a bug for hibernate project. \r\n\r\nHave opened a ticket for it [here][1] with both the bug described in the question from **kism3t** and also with what seems to be a workaround to bypass the issue.\r\n\r\nHave checked the current non stable released versions of hibernate `6.2.0` and the bug is still there. So probably is undetected yet.\r\n\r\nFor the moment the following workaround seems to bypass the issue\r\n\r\n  \r\n\r\n       @Entity\r\n       public class User {\r\n\r\n          @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;) \r\n          private UserSettings userSettings;\r\n\r\n          @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;) \r\n          private UserTermsOfUse userTermsOfUse;\r\n      }\r\n\r\nIf the owning side of the `@OneToOne` declares the same fetchType of `Lazy` somehow the issue is bypassed.\r\n\r\nSo it works with\r\n\r\n    @Entity\r\n    public class UserTermsOfUse {\r\n    \r\n        ....\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY)  // &lt;-------------\r\n        private User user;\r\n    }\r\n\r\n\r\nand \r\n\r\n    @Entity\r\n    public class UserSettings {\r\n    \r\n        ....\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY)  // &lt;-------------\r\n        private User user;\r\n    }\r\n\r\nUpdate\r\n------\r\nThis was indeed a bug of hibernate project. It is solved in version **6.1.7.Final** and future versions.\r\n\r\n  \r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-16135","title":"LAZY Loading not working Spring Data 3.0.0 Hibernate - After Spring Boot Migration to 3.0","body":"<p>This is clearly a bug for hibernate project.</p>\n<p>Have opened a ticket for it <a href=\"https://hibernate.atlassian.net/browse/HHH-16135\" rel=\"nofollow noreferrer\">here</a> with both the bug described in the question from <strong>kism3t</strong> and also with what seems to be a workaround to bypass the issue.</p>\n<p>Have checked the current non stable released versions of hibernate <code>6.2.0</code> and the bug is still there. So probably is undetected yet.</p>\n<p>For the moment the following workaround seems to bypass the issue</p>\n<pre><code>   @Entity\n   public class User {\n\n      @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;) \n      private UserSettings userSettings;\n\n      @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;) \n      private UserTermsOfUse userTermsOfUse;\n  }\n</code></pre>\n<p>If the owning side of the <code>@OneToOne</code> declares the same fetchType of <code>Lazy</code> somehow the issue is bypassed.</p>\n<p>So it works with</p>\n<pre><code>@Entity\npublic class UserTermsOfUse {\n\n    ....\n\n    @OneToOne(fetch = FetchType.LAZY)  // &lt;-------------\n    private User user;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\npublic class UserSettings {\n\n    ....\n\n    @OneToOne(fetch = FetchType.LAZY)  // &lt;-------------\n    private User user;\n}\n</code></pre>\n<h2>Update</h2>\n<p>This was indeed a bug of hibernate project. It is solved in version <strong>6.1.7.Final</strong> and future versions.</p>\n"}],"owner":{"account_id":3649667,"reputation":1341,"user_id":3042145,"accept_rate":75,"display_name":"kism3t"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75342298,"answer_count":1,"score":5,"last_activity_date":1677535095,"creation_date":1675239566,"question_id":75307264,"body_markdown":"After migrating to Spring Boot 3.0 our integration test showed that deleting a user did not work properly.\r\n\r\nThe User has two properties, where both are defined the same (at least thats what I think, see below).\r\n\r\nWhat I figured is, when I load the User object one of the properties of User are not loaded. Only if I define the property, which can not be loaded, as EAGER. If I now try to delete the User, this does not work because there is still the one property in DB which reference to the User.\r\n\r\nI can not figure out whats the problem maybe I am missing something\r\n\r\nMy User Entity\r\n\r\n\t@Entity\r\n\t@Data\r\n\t@Table(name = &quot;user_model&quot;)\r\n\tpublic class User extends BaseEntity {\r\n\t\t@Id\r\n\t\t@GeneratedValue(generator = &quot;system-uuid&quot;)\r\n\t\t@GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\r\n\t\tprivate String id;\r\n\t\t\r\n\t\t...\r\n\r\n\t\t@OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t\tprivate UserSettings userSettings;\r\n\r\n\t\t@OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t\tprivate UserTermsOfUse userTermsOfUse;\r\n\t\t\r\n\t\t...\r\n\t}\r\n\r\nUser Terms Of Use which works to load\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;user_termsofuse&quot;)\r\n\t@Data\r\n\tpublic class UserTermsOfUse extends BaseEntity {\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(generator = &quot;system-uuid&quot;)\r\n\t\t@GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\r\n\t\tprivate String id;\r\n\r\n\t\t@OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n\t\t@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\t\t@ToString.Exclude\r\n\t\tprivate User user;\r\n\r\n\t\t@Column(name = &quot;accepted_termsofuse&quot;)\r\n\t\tprivate String acceptedTermsOfUse;\r\n\r\n\t}\r\n\r\nMy Settings which does not load:\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;user_settings&quot;)\r\n\t@Data\r\n\tpublic class UserSettings extends BaseEntity {\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(generator = &quot;system-uuid&quot;)\r\n\t\t@GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\r\n\t\tprivate String id;\r\n\r\n\t\t@OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n\t\t@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\t\t@ToString.Exclude\r\n\t\tprivate User user;\r\n\r\n\t\tprivate String language;\r\n\r\n\t\tprivate String lastActiveClientId;\r\n\r\n\t}\r\n\r\nAs you can see in my screenshot, when I load the entity User by ID it only shows the User Terms of Use ant not the User Settings\r\n[![enter image description here][1]][1]\r\n\r\nJust to make clear, they are within the DB :)\r\n[![enter image description here][2]][2]\r\n\r\nHope Someone can point me to a correct direction\r\n\r\n**UPDATE**\r\n\r\nI made a sample project to prove it does not work. The test fails with an `NullPonterException` once I try to access the `UserSettings`.\r\n\r\nhttps://github.com/de313e/SpringEagerLoadingIssue\r\n\r\n  [1]: https://i.stack.imgur.com/66YQA.png\r\n  [2]: https://i.stack.imgur.com/5hMfb.png","title":"LAZY Loading not working Spring Data 3.0.0 Hibernate - After Spring Boot Migration to 3.0","body":"<p>After migrating to Spring Boot 3.0 our integration test showed that deleting a user did not work properly.</p>\n<p>The User has two properties, where both are defined the same (at least thats what I think, see below).</p>\n<p>What I figured is, when I load the User object one of the properties of User are not loaded. Only if I define the property, which can not be loaded, as EAGER. If I now try to delete the User, this does not work because there is still the one property in DB which reference to the User.</p>\n<p>I can not figure out whats the problem maybe I am missing something</p>\n<p>My User Entity</p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;user_model&quot;)\npublic class User extends BaseEntity {\n    @Id\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\n    private String id;\n    \n    ...\n\n    @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private UserSettings userSettings;\n\n    @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private UserTermsOfUse userTermsOfUse;\n    \n    ...\n}\n</code></pre>\n<p>User Terms Of Use which works to load</p>\n<pre><code>@Entity\n@Table(name = &quot;user_termsofuse&quot;)\n@Data\npublic class UserTermsOfUse extends BaseEntity {\n\n    @Id\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\n    private String id;\n\n    @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    @ToString.Exclude\n    private User user;\n\n    @Column(name = &quot;accepted_termsofuse&quot;)\n    private String acceptedTermsOfUse;\n\n}\n</code></pre>\n<p>My Settings which does not load:</p>\n<pre><code>@Entity\n@Table(name = &quot;user_settings&quot;)\n@Data\npublic class UserSettings extends BaseEntity {\n\n    @Id\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\n    private String id;\n\n    @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    @ToString.Exclude\n    private User user;\n\n    private String language;\n\n    private String lastActiveClientId;\n\n}\n</code></pre>\n<p>As you can see in my screenshot, when I load the entity User by ID it only shows the User Terms of Use ant not the User Settings\n<a href=\"https://i.stack.imgur.com/66YQA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/66YQA.png\" alt=\"enter image description here\" /></a></p>\n<p>Just to make clear, they are within the DB :)\n<a href=\"https://i.stack.imgur.com/5hMfb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5hMfb.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope Someone can point me to a correct direction</p>\n<p><strong>UPDATE</strong></p>\n<p>I made a sample project to prove it does not work. The test fails with an <code>NullPonterException</code> once I try to access the <code>UserSettings</code>.</p>\n<p><a href=\"https://github.com/de313e/SpringEagerLoadingIssue\" rel=\"nofollow noreferrer\">https://github.com/de313e/SpringEagerLoadingIssue</a></p>\n"},{"tags":["java","amazon-web-services","docker","memory","amazon-ecs"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1572283106,"post_id":58595468,"comment_id":103503864,"body_markdown":"Java applications can also allocate native memory which is not part of any heap, stack space, etc. For example `ByteBuffer.allocateDirect` or native libraries used from Java, memory for Java itself, etc.","body":"Java applications can also allocate native memory which is not part of any heap, stack space, etc. For example <code>ByteBuffer.allocateDirect</code> or native libraries used from Java, memory for Java itself, etc."},{"owner":{"account_id":5718868,"reputation":451,"user_id":4518012,"accept_rate":62,"display_name":"Bohdan Zv"},"score":0,"creation_date":1572283205,"post_id":58595468,"comment_id":103503902,"body_markdown":"@MarkRotteveel I&#39;m aware of that. But we are not dealing with buffers as well as files. Also 100MB seems to be enough to deal with for any native library etc","body":"@MarkRotteveel I&#39;m aware of that. But we are not dealing with buffers as well as files. Also 100MB seems to be enough to deal with for any native library etc"},{"owner":{"account_id":5718868,"reputation":451,"user_id":4518012,"accept_rate":62,"display_name":"Bohdan Zv"},"score":0,"creation_date":1572294620,"post_id":58595468,"comment_id":103508524,"body_markdown":"@NyamiouTheGaleanthrope GC configs are default(Specs: openjdk 8, debian OS)","body":"@NyamiouTheGaleanthrope GC configs are default(Specs: openjdk 8, debian OS)"},{"owner":{"account_id":1042139,"reputation":591,"user_id":1047956,"display_name":"Liran"},"score":0,"creation_date":1588773387,"post_id":58595468,"comment_id":109027967,"body_markdown":"were you able to understand this problem i am having the same issue with nodejs","body":"were you able to understand this problem i am having the same issue with nodejs"},{"owner":{"account_id":5718868,"reputation":451,"user_id":4518012,"accept_rate":62,"display_name":"Bohdan Zv"},"score":0,"creation_date":1589297134,"post_id":58595468,"comment_id":109234286,"body_markdown":"@Liran not really, we figured out that since latest java 8 release or java 9+ there is flags to automatically handle memory inside the docker, its became a bit better since then","body":"@Liran not really, we figured out that since latest java 8 release or java 9+ there is flags to automatically handle memory inside the docker, its became a bit better since then"},{"owner":{"account_id":1042139,"reputation":591,"user_id":1047956,"display_name":"Liran"},"score":0,"creation_date":1590935315,"post_id":58595468,"comment_id":109862984,"body_markdown":"@BohdanZ. i was able to solve my problem with a better design,\ninstead of streaming to memory all my data ( which can not scale ) \ni stream my data to response stream of an http response \nnow my memory footprint is nothing and i can handle a lot of calls, i would suggest you try to do the same if you can, if you need some more assistants let me know","body":"@BohdanZ. i was able to solve my problem with a better design, instead of streaming to memory all my data ( which can not scale )  i stream my data to response stream of an http response  now my memory footprint is nothing and i can handle a lot of calls, i would suggest you try to do the same if you can, if you need some more assistants let me know"}],"owner":{"account_id":5718868,"reputation":451,"user_id":4518012,"accept_rate":62,"display_name":"Bohdan Zv"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2142,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1677534802,"creation_date":1572282833,"question_id":58595468,"body_markdown":"**Problem**: application is killed due to memory usage\r\n\r\n      Status reason\tOutOfMemoryError: Container killed due to memory usage\r\n      Exit Code\t137\r\n\r\n**Environment**: Spring Boot app in docker container on AWS ECS instance with configuration:\r\n\r\n - AWS hard memory limit/total RAM - 384 MB\r\n - -Xmx134m\r\n - -Xms134m\r\n - -XX:MaxMetaspaceSize=110m\r\n\r\nAccording to the java max memory formula (which I have found during the weeks of research -https://dzone.com/articles/why-does-my-java-process and improved a bit):\r\n\r\n&gt; *max_memory* = xmx + non-heap_memory + threads_number * xss\r\n\r\n&gt; *non-heap_memory* = metaspace + (compressed_class_space + codeHeap_profiledmethods + CodeHeap_non-methods+ CodeHeap_non-profiled_methods).\r\n\r\nTake into account that 2nd part of non-heap memory takes nearly 40mb combined\r\n\r\nso in my case `max_memory = 134(xmx) + 110(metaspace_max) + 40(non-heap-not_metaspace) + 9(threads) * 1(default Xss) = 293`\r\n\r\nHowever, under the load heapUsedMemory = ~105-120mb and non-heapUsedMemory(metaspace + JVM stuff) = ~140mb which means that there must be 384 - 120 - 140 = 124 mb of *free memory*.\r\nSo the problem is that there is plenty of free memory and all java tools are showing it(jstat -gc, Spring on grafana, different java API etc).\r\nHere is code-snippet of an API I have developed and used during my research:\r\n\r\n    \t@GetMapping(&quot;/memory/info&quot;)\r\n\tpublic Map&lt;String, String&gt; getMmUsage() {\r\n\t\tMap&lt;String, Long&gt; info = new HashMap&lt;&gt;();\r\n\t\tList&lt;MemoryPoolMXBean&gt; memPool = ManagementFactory.getMemoryPoolMXBeans();\r\n\t\tfor (MemoryPoolMXBean p : memPool) {\r\n\t\t\tif (&quot;Metaspace&quot;.equals(p.getName())) {\r\n\t\t\t\tinfo.put(&quot;metaspaceMax&quot;, p.getUsage().getMax());\r\n\t\t\t\tinfo.put(&quot;metaspaceCommitted&quot;, p.getUsage().getCommitted());\r\n\t\t\t\tinfo.put(&quot;metaspaceUsed&quot;, p.getUsage().getUsed());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tinfo.put(&quot;heapMax&quot;, ManagementFactory.getMemoryMXBean().getHeapMemoryUsage().getMax());\r\n\t\tinfo.put(&quot;heapCommitted&quot;, ManagementFactory.getMemoryMXBean().getHeapMemoryUsage().getCommitted());\r\n\t\tinfo.put(&quot;heapUsed&quot;, ManagementFactory.getMemoryMXBean().getHeapMemoryUsage().getUsed());\r\n\t\tinfo.put(&quot;non-heapMax&quot;, ManagementFactory.getMemoryMXBean().getNonHeapMemoryUsage().getMax());\r\n\t\tinfo.put(&quot;non-heapCommitted&quot;, ManagementFactory.getMemoryMXBean().getNonHeapMemoryUsage().getCommitted());\r\n\t\tinfo.put(&quot;non-heapUsed&quot;, ManagementFactory.getMemoryMXBean().getNonHeapMemoryUsage().getUsed());\r\n\t\t\r\n\t\tMap&lt;String, String&gt; memoryData = info.entrySet().stream().collect(Collectors.toMap(Entry::getKey, e -&gt; {\r\n\t\t\tlong kb = e.getValue() / 1024;\r\n\t\t\treturn (kb / 1024) + &quot; Mb (&quot; + kb + &quot; Kb)&quot;;\r\n\t\t}, (v1, v2) -&gt; v1, TreeMap::new));\r\n\r\n\t\tSet&lt;Thread&gt; threads = Thread.getAllStackTraces().keySet();\r\n\t\tmemoryData.put(&quot;threadsCount&quot;, Integer.toString(threads.size()));\r\n\t\tmemoryData.put(&quot;threadsCountRunning&quot;,\r\n\t\t\t\tLong.toString(threads.stream().filter(t -&gt; t.getState() == Thread.State.RUNNABLE).count()));\r\n\r\n\t\treturn memoryData;\r\n\t}\r\n\r\nSo my application should be stable since it has a lot of memory to deal with. But its not the case. As I described above `Container killed due to memory usage` \r\n\r\nAs I described above java tools shows that there are plenty of memory and that memory(heap) is being released. On the other hand AWS cloudwatch metric MmeoryUtilization show constant growth of memory (in very small portions):\r\n[![aws cloudwatch metric][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8GuPi.png\r\n\r\n**Interesting exploration**: during endless testing I have found next: when I set xmx=134MB application lives longer and was capable of surviving 5 rounds of performance tests, when I set xmx/xms = 200mb it survived 1 round of performance tests. How could this be possible??\r\n\r\n**My opinion**: It looks like that there is something that uses memory and not releasing it properly.\r\n\r\nI would like to hear your opinions regarding why my app constantly dying when there is 50+mb of free memory and why AWS metrics show different result comparing to java tools\r\n","title":"Why docker java app is getting killed because of memory?","body":"<p><strong>Problem</strong>: application is killed due to memory usage</p>\n\n<pre><code>  Status reason OutOfMemoryError: Container killed due to memory usage\n  Exit Code 137\n</code></pre>\n\n<p><strong>Environment</strong>: Spring Boot app in docker container on AWS ECS instance with configuration:</p>\n\n<ul>\n<li>AWS hard memory limit/total RAM - 384 MB</li>\n<li>-Xmx134m</li>\n<li>-Xms134m</li>\n<li>-XX:MaxMetaspaceSize=110m</li>\n</ul>\n\n<p>According to the java max memory formula (which I have found during the weeks of research -<a href=\"https://dzone.com/articles/why-does-my-java-process\" rel=\"nofollow noreferrer\">https://dzone.com/articles/why-does-my-java-process</a> and improved a bit):</p>\n\n<blockquote>\n  <p><em>max_memory</em> = xmx + non-heap_memory + threads_number * xss</p>\n  \n  <p><em>non-heap_memory</em> = metaspace + (compressed_class_space + codeHeap_profiledmethods + CodeHeap_non-methods+ CodeHeap_non-profiled_methods).</p>\n</blockquote>\n\n<p>Take into account that 2nd part of non-heap memory takes nearly 40mb combined</p>\n\n<p>so in my case <code>max_memory = 134(xmx) + 110(metaspace_max) + 40(non-heap-not_metaspace) + 9(threads) * 1(default Xss) = 293</code></p>\n\n<p>However, under the load heapUsedMemory = ~105-120mb and non-heapUsedMemory(metaspace + JVM stuff) = ~140mb which means that there must be 384 - 120 - 140 = 124 mb of <em>free memory</em>.\nSo the problem is that there is plenty of free memory and all java tools are showing it(jstat -gc, Spring on grafana, different java API etc).\nHere is code-snippet of an API I have developed and used during my research:</p>\n\n<pre><code>    @GetMapping(\"/memory/info\")\npublic Map&lt;String, String&gt; getMmUsage() {\n    Map&lt;String, Long&gt; info = new HashMap&lt;&gt;();\n    List&lt;MemoryPoolMXBean&gt; memPool = ManagementFactory.getMemoryPoolMXBeans();\n    for (MemoryPoolMXBean p : memPool) {\n        if (\"Metaspace\".equals(p.getName())) {\n            info.put(\"metaspaceMax\", p.getUsage().getMax());\n            info.put(\"metaspaceCommitted\", p.getUsage().getCommitted());\n            info.put(\"metaspaceUsed\", p.getUsage().getUsed());\n        }\n    }\n\n    info.put(\"heapMax\", ManagementFactory.getMemoryMXBean().getHeapMemoryUsage().getMax());\n    info.put(\"heapCommitted\", ManagementFactory.getMemoryMXBean().getHeapMemoryUsage().getCommitted());\n    info.put(\"heapUsed\", ManagementFactory.getMemoryMXBean().getHeapMemoryUsage().getUsed());\n    info.put(\"non-heapMax\", ManagementFactory.getMemoryMXBean().getNonHeapMemoryUsage().getMax());\n    info.put(\"non-heapCommitted\", ManagementFactory.getMemoryMXBean().getNonHeapMemoryUsage().getCommitted());\n    info.put(\"non-heapUsed\", ManagementFactory.getMemoryMXBean().getNonHeapMemoryUsage().getUsed());\n\n    Map&lt;String, String&gt; memoryData = info.entrySet().stream().collect(Collectors.toMap(Entry::getKey, e -&gt; {\n        long kb = e.getValue() / 1024;\n        return (kb / 1024) + \" Mb (\" + kb + \" Kb)\";\n    }, (v1, v2) -&gt; v1, TreeMap::new));\n\n    Set&lt;Thread&gt; threads = Thread.getAllStackTraces().keySet();\n    memoryData.put(\"threadsCount\", Integer.toString(threads.size()));\n    memoryData.put(\"threadsCountRunning\",\n            Long.toString(threads.stream().filter(t -&gt; t.getState() == Thread.State.RUNNABLE).count()));\n\n    return memoryData;\n}\n</code></pre>\n\n<p>So my application should be stable since it has a lot of memory to deal with. But its not the case. As I described above <code>Container killed due to memory usage</code> </p>\n\n<p>As I described above java tools shows that there are plenty of memory and that memory(heap) is being released. On the other hand AWS cloudwatch metric MmeoryUtilization show constant growth of memory (in very small portions):\n<a href=\"https://i.stack.imgur.com/8GuPi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8GuPi.png\" alt=\"aws cloudwatch metric\"></a></p>\n\n<p><strong>Interesting exploration</strong>: during endless testing I have found next: when I set xmx=134MB application lives longer and was capable of surviving 5 rounds of performance tests, when I set xmx/xms = 200mb it survived 1 round of performance tests. How could this be possible??</p>\n\n<p><strong>My opinion</strong>: It looks like that there is something that uses memory and not releasing it properly.</p>\n\n<p>I would like to hear your opinions regarding why my app constantly dying when there is 50+mb of free memory and why AWS metrics show different result comparing to java tools</p>\n"},{"tags":["java","xml","marshalling","cdata"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1677538828,"post_id":75585738,"comment_id":133354391,"body_markdown":"Please, take some time to read [how to ask](/help/how-to-ask) and [How to create a Minimal, Reproducible Example](/help/minimal-reproducible-example)","body":"Please, take some time to read <a href=\"/help/how-to-ask\">how to ask</a> and <a href=\"/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"}],"owner":{"account_id":1104543,"reputation":23,"user_id":1096238,"accept_rate":10,"display_name":"Lion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677534735,"creation_date":1677533311,"question_id":75585738,"body_markdown":"I need to marshal the java objects to XML using CDATA block with \\&amp;amp;.\r\n\r\nEg:\r\nI have CDATA block as \\&lt;![CDATA[T&lt;NAME]]&gt;\r\n\r\nI need it in this way \\&lt;![CDATA[T\\&amp;lt;NAME]]&gt;\r\n\r\nNeed the same behavior for these characters &lt; &gt; &amp;\r\n\r\n&lt; - \\&amp;lt;\r\n\r\n\\&gt; - \\&amp;gt;\r\n\r\n&amp; - \\&amp;amp;","title":"Marshalling java objects to XML with CDATA block","body":"<p>I need to marshal the java objects to XML using CDATA block with &amp;amp;.</p>\n<p>Eg:\nI have CDATA block as &lt;![CDATA[T&lt;NAME]]&gt;</p>\n<p>I need it in this way &lt;![CDATA[T&amp;lt;NAME]]&gt;</p>\n<p>Need the same behavior for these characters &lt; &gt; &amp;</p>\n<p>&lt; - &amp;lt;</p>\n<p>&gt; - &amp;gt;</p>\n<p>&amp; - &amp;amp;</p>\n"},{"tags":["java","hadoop","mapreduce"],"answers":[{"comments":[{"owner":{"account_id":18036828,"reputation":123,"user_id":13110035,"display_name":"Dilibaba"},"score":0,"creation_date":1677485578,"post_id":75576715,"comment_id":133339739,"body_markdown":"Thanks! I&#39;m still confused about how to &quot;serialized and send&quot; the object. because the `job` object use `class` object to set the `mapper`, and In my experience I used to `serialize` the objects within the class instances. Can you give me some additional advice?","body":"Thanks! I&#39;m still confused about how to &quot;serialized and send&quot; the object. because the <code>job</code> object use <code>class</code> object to set the <code>mapper</code>, and In my experience I used to <code>serialize</code> the objects within the class instances. Can you give me some additional advice?"},{"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"score":0,"creation_date":1677491005,"post_id":75576715,"comment_id":133341116,"body_markdown":"You could use the https://hadoop.apache.org/docs/r3.2.2/api/org/apache/hadoop/conf/class-use/Configuration.html class to set the configuration for the parser and instantiate the parser inside the mapper code.\n\n\nConfiguration config = context.getConfiguration();\nparserConfig= config.getLong(&quot;parserConfig&quot;);\nparser = ....","body":"You could use the <a href=\"https://hadoop.apache.org/docs/r3.2.2/api/org/apache/hadoop/conf/class-use/Configuration.html\" rel=\"nofollow noreferrer\">hadoop.apache.org/docs/r3.2.2/api/org/apache/hadoop/conf/&hellip;</a> class to set the configuration for the parser and instantiate the parser inside the mapper code.   Configuration config = context.getConfiguration(); parserConfig= config.getLong(&quot;parserConfig&quot;); parser = ...."}],"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677471099,"creation_date":1677471099,"answer_id":75576715,"question_id":75576668,"body_markdown":"Static variables are not sent to the distributed data processing in MapReduce. These variables are stored in memory only where the `jobTracker` is running and not in the executing nodes. \r\n\r\nYarn distributes the tasks to the nodes by serializing the task and sending that to the processing nodes. The static method `config` will not be going to get evaluated at every node, thus making the `parser` object null. \r\n\r\nIf you want to initialize the static variables, you might need to serialize the object and send it to each mapper. ","title":"NullPointerException caused by static field in Mapper class","body":"<p>Static variables are not sent to the distributed data processing in MapReduce. These variables are stored in memory only where the <code>jobTracker</code> is running and not in the executing nodes.</p>\n<p>Yarn distributes the tasks to the nodes by serializing the task and sending that to the processing nodes. The static method <code>config</code> will not be going to get evaluated at every node, thus making the <code>parser</code> object null.</p>\n<p>If you want to initialize the static variables, you might need to serialize the object and send it to each mapper.</p>\n"}],"owner":{"account_id":18036828,"reputation":123,"user_id":13110035,"display_name":"Dilibaba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75576715,"answer_count":1,"score":0,"last_activity_date":1677534174,"creation_date":1677470238,"question_id":75576668,"body_markdown":"I have a HBase MapReduce Bulkload application which include a customized `MyMapper` Class, and it has a static field `parser` which is used during the application running, When I config the job, I use `config` method to init the static field `parser`. \r\n\r\nBut when the job is running, the annotated line throws a null pointer exception, seems like after the job being submitted to Yarn, the static field `parser` becomes null.\r\n\r\nThis is the Mapper code, the version of hadoop is 2.7.7.\r\n```Java\r\npublic class MyMapper extends Mapper&lt;LongWritable, Text, ImmutableBytesWritable, Put&gt; {\r\n\r\n  private static StringParser parser;\r\n\r\n  public static void config(StringParser parser) {\r\n    MyMapper.parser = parser;\r\n  }\r\n\r\n  @Override\r\n  protected void map(LongWritable key, Text value, Context context)\r\n      throws IOException, InterruptedException {\r\n    String lineValue = value.toString();\r\n    String output;\r\n    try {\r\n      // null pointer exception this line.\r\n      output = parser.parse(lineValue); \r\n      context.write(new ImmutableBytesWritable(..., ...);\r\n    } catch (ParseException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nHere is the code about the job submition: \r\n\r\n```java\r\n \r\n    Job job = Job.getInstance(conf, &quot;Batch Import HBase Table：&quot; + tableName);\r\n    job.setJarByClass(TextBulkLoadDriver.class);\r\n    FileInputFormat.setInputPaths(job, inPath);\r\n\r\n    // Config Mapper related content, here I set the static field in MyMapper class.\r\n    MyMapper.config(parser); \r\n    Class&lt;MyMapper&gt; cls = MyMapper.class;\r\n    job.setMapperClass(cls);\r\n    job.setMapOutputKeyClass(ImmutableBytesWritable.class);\r\n    job.setMapOutputValueClass(Put.class);\r\n\r\n    job.setNumReduceTasks(1);\r\n    job.setReducerClass(PutSortReducer.class);\r\n\r\n    RegionLocator locator = instance.getConnection().getRegionLocator(TableName.valueOf(tableName));\r\n    try (Admin admin = instance.getAdmin(); Table table = instance.getTable(tableName)) {\r\n      HFileOutputFormat2.configureIncrementalLoad(job, table, locator);\r\n      HFileOutputFormat2.setOutputPath(job, outPath);\r\n      // run the job\r\n      job.waitForCompletion(true);\r\n      logger.info(&quot;HFileOutputFormat2 file ready on {}&quot;, outPath);\r\n      LoadIncrementalHFiles loader = new LoadIncrementalHFiles(conf);\r\n      loader.doBulkLoad(outPath, admin, table, locator);\r\n    } catch (Exception e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n```\r\n\r\nTIA for all suggestions!","title":"NullPointerException caused by static field in Mapper class","body":"<p>I have a HBase MapReduce Bulkload application which include a customized <code>MyMapper</code> Class, and it has a static field <code>parser</code> which is used during the application running, When I config the job, I use <code>config</code> method to init the static field <code>parser</code>.</p>\n<p>But when the job is running, the annotated line throws a null pointer exception, seems like after the job being submitted to Yarn, the static field <code>parser</code> becomes null.</p>\n<p>This is the Mapper code, the version of hadoop is 2.7.7.</p>\n<pre><code>public class MyMapper extends Mapper&lt;LongWritable, Text, ImmutableBytesWritable, Put&gt; {\n\n  private static StringParser parser;\n\n  public static void config(StringParser parser) {\n    MyMapper.parser = parser;\n  }\n\n  @Override\n  protected void map(LongWritable key, Text value, Context context)\n      throws IOException, InterruptedException {\n    String lineValue = value.toString();\n    String output;\n    try {\n      // null pointer exception this line.\n      output = parser.parse(lineValue); \n      context.write(new ImmutableBytesWritable(..., ...);\n    } catch (ParseException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>Here is the code about the job submition:</p>\n<pre class=\"lang-java prettyprint-override\"><code> \n    Job job = Job.getInstance(conf, &quot;Batch Import HBase Table：&quot; + tableName);\n    job.setJarByClass(TextBulkLoadDriver.class);\n    FileInputFormat.setInputPaths(job, inPath);\n\n    // Config Mapper related content, here I set the static field in MyMapper class.\n    MyMapper.config(parser); \n    Class&lt;MyMapper&gt; cls = MyMapper.class;\n    job.setMapperClass(cls);\n    job.setMapOutputKeyClass(ImmutableBytesWritable.class);\n    job.setMapOutputValueClass(Put.class);\n\n    job.setNumReduceTasks(1);\n    job.setReducerClass(PutSortReducer.class);\n\n    RegionLocator locator = instance.getConnection().getRegionLocator(TableName.valueOf(tableName));\n    try (Admin admin = instance.getAdmin(); Table table = instance.getTable(tableName)) {\n      HFileOutputFormat2.configureIncrementalLoad(job, table, locator);\n      HFileOutputFormat2.setOutputPath(job, outPath);\n      // run the job\n      job.waitForCompletion(true);\n      logger.info(&quot;HFileOutputFormat2 file ready on {}&quot;, outPath);\n      LoadIncrementalHFiles loader = new LoadIncrementalHFiles(conf);\n      loader.doBulkLoad(outPath, admin, table, locator);\n    } catch (Exception e) {\n      throw new RuntimeException(e);\n    }\n</code></pre>\n<p>TIA for all suggestions!</p>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1677524321,"post_id":75584436,"comment_id":133351179,"body_markdown":"It&#39;s not really clear what you&#39;re asking. `Node` doesn&#39;t have a `getController()` method.  Can you create and post a [mre] so we can understand what the question is?","body":"It&#39;s not really clear what you&#39;re asking. <code>Node</code> doesn&#39;t have a <code>getController()</code> method.  Can you create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we can understand what the question is?"},{"owner":{"account_id":25437359,"reputation":17,"user_id":19240877,"display_name":"S&#233;rgio Serra"},"score":0,"creation_date":1677525854,"post_id":75584436,"comment_id":133351518,"body_markdown":"I tried to improve the question, I&#39;m sorry but it&#39;s a bit complex to explain.","body":"I tried to improve the question, I&#39;m sorry but it&#39;s a bit complex to explain."}],"answers":[{"tags":[],"owner":{"account_id":25437359,"reputation":17,"user_id":19240877,"display_name":"S&#233;rgio Serra"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677533326,"creation_date":1677533326,"answer_id":75585740,"question_id":75584436,"body_markdown":"    private void addProductToOrder(String id, String name, String price){\r\n        Node existingItem = order.lookup(&quot;#&quot; + id);\r\n        if (existingItem != null) {\r\n            OrderItemController oic = (OrderItemController) existingItem.getUserData();\r\n            oic.addProduct();\r\n        }else{\r\n            FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/com/luxrest/gui/components/orderItem.fxml&quot;));\r\n            try {\r\n                VBox item = fxmlLoader.load();\r\n                OrderItemController oic = fxmlLoader.getController();\r\n                oic.setData(id, name, price);\r\n                item.setId(id);\r\n                item.setUserData(oic);\r\n                order.getChildren().add(item);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nI was able to get the expected result with the following code.","title":"When clicking the button, if there is a Vbox with an ID, it calls an element controller method","body":"<pre><code>private void addProductToOrder(String id, String name, String price){\n    Node existingItem = order.lookup(&quot;#&quot; + id);\n    if (existingItem != null) {\n        OrderItemController oic = (OrderItemController) existingItem.getUserData();\n        oic.addProduct();\n    }else{\n        FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/com/luxrest/gui/components/orderItem.fxml&quot;));\n        try {\n            VBox item = fxmlLoader.load();\n            OrderItemController oic = fxmlLoader.getController();\n            oic.setData(id, name, price);\n            item.setId(id);\n            item.setUserData(oic);\n            order.getChildren().add(item);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I was able to get the expected result with the following code.</p>\n"}],"owner":{"account_id":25437359,"reputation":17,"user_id":19240877,"display_name":"S&#233;rgio Serra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1677533326,"creation_date":1677523749,"question_id":75584436,"body_markdown":"I have the following code and I wanted to know if it is possible increment quantity of vbox node. This method below belongs to the Dashboard Controller class.\r\n```\r\nprivate void addProductToOrder(String id, String name, String price){\r\n        for (Node node : order.getChildren()){\r\n            if (Objects.equals(node.getId(), id)) {\r\n                // call the addProduct() method of the Order Item Product class for the current node\r\n                return;\r\n            }\r\n        }\r\n        FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/com/luxrest/gui/components/orderItem.fxml&quot;));\r\n        try {\r\n           VBox item = fxmlLoader.load();\r\n           ((OrderItemController)fxmlLoader.getController()).setData(id, name, price);\r\n           item.setId(id);\r\n           order.getChildren().add(item);\r\n        }catch (IOException e){\r\n           e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nIn the OrderItemController class I have the following method:\r\n\r\n\r\n```\r\npublic void addProduct(){\r\n        quantityVal++;\r\n        this.quantity.setText(String.valueOf(quantityVal));\r\n    }\r\n```\r\n\r\n[Example UI][1]\r\n\r\n\r\nI want that when there is already an element on the screen not to add another vbox but to increase the quantity number.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0hyui.png","title":"When clicking the button, if there is a Vbox with an ID, it calls an element controller method","body":"<p>I have the following code and I wanted to know if it is possible increment quantity of vbox node. This method below belongs to the Dashboard Controller class.</p>\n<pre><code>private void addProductToOrder(String id, String name, String price){\n        for (Node node : order.getChildren()){\n            if (Objects.equals(node.getId(), id)) {\n                // call the addProduct() method of the Order Item Product class for the current node\n                return;\n            }\n        }\n        FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/com/luxrest/gui/components/orderItem.fxml&quot;));\n        try {\n           VBox item = fxmlLoader.load();\n           ((OrderItemController)fxmlLoader.getController()).setData(id, name, price);\n           item.setId(id);\n           order.getChildren().add(item);\n        }catch (IOException e){\n           e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>In the OrderItemController class I have the following method:</p>\n<pre><code>public void addProduct(){\n        quantityVal++;\n        this.quantity.setText(String.valueOf(quantityVal));\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0hyui.png\" rel=\"nofollow noreferrer\">Example UI</a></p>\n<p>I want that when there is already an element on the screen not to add another vbox but to increase the quantity number.</p>\n"},{"tags":["java","android","android-recyclerview","android-livedata","mutablelivedata"],"answers":[{"tags":[],"owner":{"account_id":8568321,"reputation":385,"user_id":6420146,"display_name":"Kim Vall&#233;e"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677533076,"creation_date":1677533076,"answer_id":75585701,"question_id":75493784,"body_markdown":"I don&#39;t know exactly why but the solution resides in this line :\r\n```java\r\n notifs.observe(requireActivity(), new Observer&lt;List&lt;NotificationContent&gt;&gt;() {\r\n            ...\r\n        });\r\n```\r\nHere `requireActivity()` is not correct it should be `getViewLifecycleOwner()`.\r\n   \r\n","title":"Android ViewModel deletes all my data when observing","body":"<p>I don't know exactly why but the solution resides in this line :</p>\n<pre class=\"lang-java prettyprint-override\"><code> notifs.observe(requireActivity(), new Observer&lt;List&lt;NotificationContent&gt;&gt;() {\n            ...\n        });\n</code></pre>\n<p>Here <code>requireActivity()</code> is not correct it should be <code>getViewLifecycleOwner()</code>.</p>\n"}],"owner":{"account_id":8568321,"reputation":385,"user_id":6420146,"display_name":"Kim Vall&#233;e"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75585701,"answer_count":1,"score":0,"last_activity_date":1677533076,"creation_date":1676728292,"question_id":75493784,"body_markdown":"I am developing an app with Android Studio, and I wish to use MutableLiveData alongside with RecyclerView. Problem is, when I add a new item to the MutableLiveData, it gets updated, then going back to the previous fragment, the item gets erased for some unknown reason.\r\nCode in my `FirstFragment.java` for the method `onCreateView`:\r\n```java\r\n@Override\r\n    public View onCreateView(\r\n            LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n    ) {\r\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\r\n\r\n        notificationsViewModel = new ViewModelProvider(requireActivity()).get(NotificationsViewModel.class);\r\n\r\n        // Binding recycler views\r\n        // Notifications\r\n\r\n        RecyclerView rvNotification = binding.registeredNotification;\r\n\r\n        Log.d(&quot;NA&quot;, &quot;New Adapter&quot;);\r\n        NotificationAdapter adapter = new NotificationAdapter();\r\n\r\n        Log.d(&quot;NA&quot;, &quot;Setting adapter&quot;);\r\n        rvNotification.setAdapter(adapter);\r\n\r\n        Log.d(&quot;NA&quot;, &quot;Setting layout&quot;);\r\n        rvNotification.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n\r\n        Log.d(&quot;NA&quot;, &quot;Getting the MLD&quot;);\r\n        MutableLiveData&lt;List&lt;NotificationContent&gt;&gt; notifs = notificationsViewModel.getNotifications();\r\n\r\n        Log.d(&quot;NA&quot;, &quot;Adding observer&quot;);\r\n        notifs.observe(requireActivity(), new Observer&lt;List&lt;NotificationContent&gt;&gt;() {\r\n            @Override\r\n            public void onChanged(List&lt;NotificationContent&gt; notificationContents) {\r\n                Log.d(&quot;ANDROIDAPP&quot;, String.format(&quot;onChanged: detected and done, item size %d&quot;, notificationContents.size()));\r\n                adapter.updateNotifications(notificationContents);\r\n            }\r\n        });\r\n\r\n        return binding.getRoot();\r\n    }\r\n```\r\n\r\nCode of the `ViewModel` implementation :\r\n```java\r\npublic class NotificationsViewModel  extends ViewModel {\r\n    private final MutableLiveData&lt;List&lt;NotificationContent&gt;&gt; notifications = new MutableLiveData&lt;List&lt;NotificationContent&gt;&gt;();\r\n\r\n    public MutableLiveData&lt;List&lt;NotificationContent&gt;&gt; getNotifications() {\r\n        if (notifications.getValue() == null) {\r\n            notifications.setValue(new ArrayList&lt;NotificationContent&gt;());\r\n        }\r\n        return notifications;\r\n    }\r\n\r\n    public void removeNotification(NotificationContent notificationContent) {\r\n        List&lt;NotificationContent&gt; n = getNotifications().getValue();\r\n        n.remove(notificationContent);\r\n        notifications.setValue(n);\r\n    }\r\n\r\n    public void addNotification(NotificationContent notificationContent) {\r\n        List&lt;NotificationContent&gt; n = getNotifications().getValue();\r\n        n.add(notificationContent);\r\n        notifications.setValue(n);\r\n    }\r\n\r\n    public void addNotification(int position, NotificationContent notificationContent) {\r\n        List&lt;NotificationContent&gt; n = getNotifications().getValue();\r\n        n.add(position, notificationContent);\r\n        notifications.setValue(n);\r\n    }\r\n}\r\n```\r\n\r\nAnd finally code of the `RecyclerView.Adapter` :\r\n```java\r\npublic class NotificationAdapter extends RecyclerView.Adapter&lt;NotificationAdapter.ViewHolder&gt; {\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        // View Items declaration...\r\n\r\n        public ViewHolder(View itemView) {\r\n            super(itemView);\r\n            // View items retrieval ...\r\n        }\r\n    }\r\n\r\n    private List&lt;NotificationContent&gt; mNotifications = new ArrayList&lt;&gt;();\r\n\r\n    public void updateNotifications(List&lt;NotificationContent&gt; newNotifications) {\r\n        Log.d(&quot;NA&quot;, &quot;Clearing&quot;);\r\n        this.mNotifications.clear();\r\n\r\n        Log.d(&quot;NA&quot;, &quot;Setting&quot;);\r\n        this.mNotifications = newNotifications;\r\n\r\n        Log.d(&quot;NA&quot;, &quot;NotifyChangedDataset&quot;);\r\n        this.notifyDataSetChanged();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        // Some code ...\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        // Some code ...     \r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mNotifications.size();\r\n    }\r\n}\r\n```\r\n\r\nTo get an idea of the interplay between my fragments here is my `nav_graph.xml` graphical representation :\r\n[![nav graph in Android Studio capture][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aeQMx.png\r\n\r\nBut the problem is that after adding an item through the `addNotificationFragment` it ends up emptying, here is the log from the log given in the code :\r\n```\r\nD/ANDROIDAPP: onViewCreated: addNotification 1\r\nD/ANDROIDAPP: onChanged: detected and done, item size 1\r\nD/NA: Clearing\r\nD/NA: Setting\r\nD/NA: NotifyChangedDataset\r\nD/ANDROIDAPP: onViewCreated: addNotification 2\r\nD/ForceDarkHelper: updateByCheckExcludeList: pkg: com.etilawin.tgvmaxplanner activity: com.etilawin.tgvmaxplanner.MainActivity@df816d4\r\nD/ForceDarkHelper: updateByCheckExcludeList: pkg: com.etilawin.tgvmaxplanner activity: com.etilawin.tgvmaxplanner.MainActivity@df816d4\r\nD/NA: New Adapter\r\nD/NA: Setting adapter\r\nD/NA: Setting layout\r\nD/NA: Item Touche helper\r\nD/NA: Button listener\r\nD/NA: Getting the MLD\r\nD/NA: Adding observer\r\nD/ANDROIDAPP: onChanged: detected and done, item size 0\r\nD/NA: Clearing\r\nD/NA: Setting\r\nD/NA: NotifyChangedDataset\r\n```","title":"Android ViewModel deletes all my data when observing","body":"<p>I am developing an app with Android Studio, and I wish to use MutableLiveData alongside with RecyclerView. Problem is, when I add a new item to the MutableLiveData, it gets updated, then going back to the previous fragment, the item gets erased for some unknown reason.\nCode in my <code>FirstFragment.java</code> for the method <code>onCreateView</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public View onCreateView(\n            LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState\n    ) {\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\n\n        notificationsViewModel = new ViewModelProvider(requireActivity()).get(NotificationsViewModel.class);\n\n        // Binding recycler views\n        // Notifications\n\n        RecyclerView rvNotification = binding.registeredNotification;\n\n        Log.d(&quot;NA&quot;, &quot;New Adapter&quot;);\n        NotificationAdapter adapter = new NotificationAdapter();\n\n        Log.d(&quot;NA&quot;, &quot;Setting adapter&quot;);\n        rvNotification.setAdapter(adapter);\n\n        Log.d(&quot;NA&quot;, &quot;Setting layout&quot;);\n        rvNotification.setLayoutManager(new LinearLayoutManager(getActivity()));\n\n        Log.d(&quot;NA&quot;, &quot;Getting the MLD&quot;);\n        MutableLiveData&lt;List&lt;NotificationContent&gt;&gt; notifs = notificationsViewModel.getNotifications();\n\n        Log.d(&quot;NA&quot;, &quot;Adding observer&quot;);\n        notifs.observe(requireActivity(), new Observer&lt;List&lt;NotificationContent&gt;&gt;() {\n            @Override\n            public void onChanged(List&lt;NotificationContent&gt; notificationContents) {\n                Log.d(&quot;ANDROIDAPP&quot;, String.format(&quot;onChanged: detected and done, item size %d&quot;, notificationContents.size()));\n                adapter.updateNotifications(notificationContents);\n            }\n        });\n\n        return binding.getRoot();\n    }\n</code></pre>\n<p>Code of the <code>ViewModel</code> implementation :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class NotificationsViewModel  extends ViewModel {\n    private final MutableLiveData&lt;List&lt;NotificationContent&gt;&gt; notifications = new MutableLiveData&lt;List&lt;NotificationContent&gt;&gt;();\n\n    public MutableLiveData&lt;List&lt;NotificationContent&gt;&gt; getNotifications() {\n        if (notifications.getValue() == null) {\n            notifications.setValue(new ArrayList&lt;NotificationContent&gt;());\n        }\n        return notifications;\n    }\n\n    public void removeNotification(NotificationContent notificationContent) {\n        List&lt;NotificationContent&gt; n = getNotifications().getValue();\n        n.remove(notificationContent);\n        notifications.setValue(n);\n    }\n\n    public void addNotification(NotificationContent notificationContent) {\n        List&lt;NotificationContent&gt; n = getNotifications().getValue();\n        n.add(notificationContent);\n        notifications.setValue(n);\n    }\n\n    public void addNotification(int position, NotificationContent notificationContent) {\n        List&lt;NotificationContent&gt; n = getNotifications().getValue();\n        n.add(position, notificationContent);\n        notifications.setValue(n);\n    }\n}\n</code></pre>\n<p>And finally code of the <code>RecyclerView.Adapter</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class NotificationAdapter extends RecyclerView.Adapter&lt;NotificationAdapter.ViewHolder&gt; {\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        // View Items declaration...\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n            // View items retrieval ...\n        }\n    }\n\n    private List&lt;NotificationContent&gt; mNotifications = new ArrayList&lt;&gt;();\n\n    public void updateNotifications(List&lt;NotificationContent&gt; newNotifications) {\n        Log.d(&quot;NA&quot;, &quot;Clearing&quot;);\n        this.mNotifications.clear();\n\n        Log.d(&quot;NA&quot;, &quot;Setting&quot;);\n        this.mNotifications = newNotifications;\n\n        Log.d(&quot;NA&quot;, &quot;NotifyChangedDataset&quot;);\n        this.notifyDataSetChanged();\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        // Some code ...\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        // Some code ...     \n    }\n\n    @Override\n    public int getItemCount() {\n        return mNotifications.size();\n    }\n}\n</code></pre>\n<p>To get an idea of the interplay between my fragments here is my <code>nav_graph.xml</code> graphical representation :\n<a href=\"https://i.stack.imgur.com/aeQMx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aeQMx.png\" alt=\"nav graph in Android Studio capture\" /></a></p>\n<p>But the problem is that after adding an item through the <code>addNotificationFragment</code> it ends up emptying, here is the log from the log given in the code :</p>\n<pre><code>D/ANDROIDAPP: onViewCreated: addNotification 1\nD/ANDROIDAPP: onChanged: detected and done, item size 1\nD/NA: Clearing\nD/NA: Setting\nD/NA: NotifyChangedDataset\nD/ANDROIDAPP: onViewCreated: addNotification 2\nD/ForceDarkHelper: updateByCheckExcludeList: pkg: com.etilawin.tgvmaxplanner activity: com.etilawin.tgvmaxplanner.MainActivity@df816d4\nD/ForceDarkHelper: updateByCheckExcludeList: pkg: com.etilawin.tgvmaxplanner activity: com.etilawin.tgvmaxplanner.MainActivity@df816d4\nD/NA: New Adapter\nD/NA: Setting adapter\nD/NA: Setting layout\nD/NA: Item Touche helper\nD/NA: Button listener\nD/NA: Getting the MLD\nD/NA: Adding observer\nD/ANDROIDAPP: onChanged: detected and done, item size 0\nD/NA: Clearing\nD/NA: Setting\nD/NA: NotifyChangedDataset\n</code></pre>\n"},{"tags":["java","spring-boot","oop","class-diagram","class-design"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1677220095,"post_id":75553186,"comment_id":133298417,"body_markdown":"The code has been generated in a way that is idiosyncratic to your UML tool.  As shown, it is not valid Java.  Each method in a class must either have an implementation or be declared `abstract`, and if any method is declared `abstract` then so must be the class itself.  Only you can say which way to go to correct the code for your purposes.","body":"The code has been generated in a way that is idiosyncratic to your UML tool.  As shown, it is not valid Java.  Each method in a class must either have an implementation or be declared <code>abstract</code>, and if any method is declared <code>abstract</code> then so must be the class itself.  Only you can say which way to go to correct the code for your purposes."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677220526,"post_id":75553186,"comment_id":133298490,"body_markdown":"Yes, but it is generally shown as shown above. In that case: **1.** I think it is a general convention for showing class implementation of Class Diagrams, right?","body":"Yes, but it is generally shown as shown above. In that case: <b>1.</b> I think it is a general convention for showing class implementation of Class Diagrams, right?"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1677220601,"post_id":75553186,"comment_id":133298514,"body_markdown":"I would like to ask, which uml tool to use","body":"I would like to ask, which uml tool to use"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677220626,"post_id":75553186,"comment_id":133298518,"body_markdown":"**2.** When I make the implementation, I keep all the fields in my `Account` entity and remove methods from `Account` class. Then, implement these methods to `AccountService` class in my Spring Boot apps. Is there any problem with this approach?","body":"<b>2.</b> When I make the implementation, I keep all the fields in my <code>Account</code> entity and remove methods from <code>Account</code> class. Then, implement these methods to <code>AccountService</code> class in my Spring Boot apps. Is there any problem with this approach?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677220675,"post_id":75553186,"comment_id":133298534,"body_markdown":"@时间只会一直走 I did not use UML, it is generally shown like that. The example is on https://www.sartiano.it/marco/diigo/System%20Design/Grokking%20the%20Object%20Oriented%20Design%20Interview.html","body":"@时间只会一直走 I did not use UML, it is generally shown like that. The example is on <a href=\"https://www.sartiano.it/marco/diigo/System%20Design/Grokking%20the%20Object%20Oriented%20Design%20Interview.html\" rel=\"nofollow noreferrer\">sartiano.it/marco/diigo/System%20Design/&hellip;</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677222212,"post_id":75553186,"comment_id":133298792,"body_markdown":"@JohnBollinger Do you have an idea about my questions #1 and #2 ?","body":"@JohnBollinger Do you have an idea about my questions #1 and #2 ?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677222587,"post_id":75553186,"comment_id":133298849,"body_markdown":"@时间只会一直走 CanCinCon, are you there amigo?","body":"@时间只会一直走 CanCinCon, are you there amigo?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1677222809,"post_id":75553186,"comment_id":133298889,"body_markdown":"@fredrick: (1) No. Where earlier I said it&#39;s &quot;idiosyncratic&quot;, that means it&#39;s specific to your tool.  (2) If you want there to be an `AccountService` class bearing those methods, then it&#39;s odd that you did not model it that way in your UML.  If you&#39;re asking about Spring conventions then I can&#39;t help you, but others around here can.","body":"@fredrick: (1) No. Where earlier I said it&#39;s &quot;idiosyncratic&quot;, that means it&#39;s specific to your tool.  (2) If you want there to be an <code>AccountService</code> class bearing those methods, then it&#39;s odd that you did not model it that way in your UML.  If you&#39;re asking about Spring conventions then I can&#39;t help you, but others around here can."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677223515,"post_id":75553186,"comment_id":133299019,"body_markdown":"@JohnBollinger Would you please post a proper Class Diagram with just one field and one method and its proper implementation example?","body":"@JohnBollinger Would you please post a proper Class Diagram with just one field and one method and its proper implementation example?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677229735,"post_id":75553186,"comment_id":133300511,"body_markdown":"Take a look at this   https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html   and take a look at this   https://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application   , if you are referring to representations of the contents of a class in a tutorial, they are spurious for use in any program, they only represent contents that is for the purpose of the tutorial.  Here&#39;s what it should more appear when written finished.  https://docs.oracle.com/javase/tutorial/uiswing/examples/components/TableDemoProject/src/components/TableDemo.java","body":"Take a look at this   <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/IandI/abstract.html</a>   and take a look at this   <a href=\"https://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>   , if you are referring to representations of the contents of a class in a tutorial, they are spurious for use in any program, they only represent contents that is for the purpose of the tutorial.  Here&#39;s what it should more appear when written finished.  <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/examples/components/TableDemoProject/src/components/TableDemo.java\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/examples/components/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677237319,"post_id":75553186,"comment_id":133302605,"body_markdown":"Thanks for links Samuel, but I am just wondering the proper place for the implementation of methods. So, for Spring Boot apps, is it the Service or Util methods rather than entity classes?","body":"Thanks for links Samuel, but I am just wondering the proper place for the implementation of methods. So, for Spring Boot apps, is it the Service or Util methods rather than entity classes?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677530288,"post_id":75553186,"comment_id":133352601,"body_markdown":"I don&#39;t really understand your question: today UML is understood as a tool for documenting and a quick overview of (object oriented) code - the abilities to generate code from it are - improvable - to say it nicely. So do you want to know how to model your classes, or if your usual class design is OK? I really don&#39;t get it. Above code does not compile in Java. so maybe you want to know the gap to compiling code?","body":"I don&#39;t really understand your question: today UML is understood as a tool for documenting and a quick overview of (object oriented) code - the abilities to generate code from it are - improvable - to say it nicely. So do you want to know how to model your classes, or if your usual class design is OK? I really don&#39;t get it. Above code does not compile in Java. so maybe you want to know the gap to compiling code?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677530847,"post_id":75553186,"comment_id":133352732,"body_markdown":"I just want to get idea about transforming a Class Diagram to Java classes / entities. You may just give an example with 1-2 classes and 1-2 fields and methods. That&#39;s it, but would be so useful.","body":"I just want to get idea about transforming a Class Diagram to Java classes / entities. You may just give an example with 1-2 classes and 1-2 fields and methods. That&#39;s it, but would be so useful."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677531242,"post_id":75553186,"comment_id":133352819,"body_markdown":"I think that the explanation in the answer from @Christophe together with the code you posted, everything is said: a class diagram contains multiple classes and describes their members: fields and methods. And sometimes also relations between the classes. Nothing about behaviour.","body":"I think that the explanation in the answer from @Christophe together with the code you posted, everything is said: a class diagram contains multiple classes and describes their members: fields and methods. And sometimes also relations between the classes. Nothing about behaviour."}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677411653,"post_id":75571681,"comment_id":133328849,"body_markdown":"Thanks a lot for your reply. But, I am a little bit confused. Could you please clarify me about these points? &gt;&gt;&gt;","body":"Thanks a lot for your reply. But, I am a little bit confused. Could you please clarify me about these points? &gt;&gt;&gt;"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677411722,"post_id":75571681,"comment_id":133328866,"body_markdown":"**1.** As far as I see, there is no problem regarding to this class implementation for UML, but normally I think we do not implement such an entity class that has these kind of methods. Right?","body":"<b>1.</b> As far as I see, there is no problem regarding to this class implementation for UML, but normally I think we do not implement such an entity class that has these kind of methods. Right?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677411774,"post_id":75571681,"comment_id":133328876,"body_markdown":"**2.** Is the idea &quot;moving these methods&quot; to interface/service in a Spring Boot app is ok or not? Could you pls explain a little bit more by giving some examples?","body":"<b>2.</b> Is the idea &quot;moving these methods&quot; to interface/service in a Spring Boot app is ok or not? Could you pls explain a little bit more by giving some examples?"},{"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":0,"creation_date":1677431678,"post_id":75571681,"comment_id":133332250,"body_markdown":"@fredrick 1. there is a whole lot of DDD that implement classes in that way, and that let repository classes make the wiring between behaviorless DB data and full-blown encapsulated objets. There are many more other approaches that also use such kind of classes.","body":"@fredrick 1. there is a whole lot of DDD that implement classes in that way, and that let repository classes make the wiring between behaviorless DB data and full-blown encapsulated objets. There are many more other approaches that also use such kind of classes."},{"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":0,"creation_date":1677431941,"post_id":75571681,"comment_id":133332297,"body_markdown":"2. The anemic domain model  is [popular with spring](https://dzone.com/articles/anemic-domain-model-in-typical-spring-projects-1).  But it&#39;s [not a fatality](https://medium.com/@nikos_k/how-to-avoid-the-anemic-domain-model-with-spring-and-hibernate-35495d6e2e94).","body":"2. The anemic domain model  is <a href=\"https://dzone.com/articles/anemic-domain-model-in-typical-spring-projects-1\" rel=\"nofollow noreferrer\">popular with spring</a>.  But it&#39;s <a href=\"https://medium.com/@nikos_k/how-to-avoid-the-anemic-domain-model-with-spring-and-hibernate-35495d6e2e94\" rel=\"nofollow noreferrer\">not a fatality</a>."},{"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":0,"creation_date":1677432201,"post_id":75571681,"comment_id":133332334,"body_markdown":"3. My point here is not to judge anemic domain model, nor spring, nor to tell you to design things in another way. No: your code, your choice. My point is to say that UML is agnostic and allows modelers to represent the classes they think are needed to solve a problem.  Consequently you should not expect UML tools to generate other classes than those that are modeled, and if you need two, you should model both ;-)","body":"3. My point here is not to judge anemic domain model, nor spring, nor to tell you to design things in another way. No: your code, your choice. My point is to say that UML is agnostic and allows modelers to represent the classes they think are needed to solve a problem.  Consequently you should not expect UML tools to generate other classes than those that are modeled, and if you need two, you should model both ;-)"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677504840,"post_id":75571681,"comment_id":133344860,"body_markdown":"As a result, can we say that **&quot;A class diagram does not directly show entity or service classes and keep the related fields and methods inside a class. Based on the situations, we can keep the fields in our entity class and move methods to the related services. But sometimes, it is also possible to implement that methods inside the class shown in the diagram.&quot;** Is it a valid approach?","body":"As a result, can we say that <b>&quot;A class diagram does not directly show entity or service classes and keep the related fields and methods inside a class. Based on the situations, we can keep the fields in our entity class and move methods to the related services. But sometimes, it is also possible to implement that methods inside the class shown in the diagram.&quot;</b> Is it a valid approach?"},{"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":0,"creation_date":1677509995,"post_id":75571681,"comment_id":133346595,"body_markdown":"@fredrick unfortunately, that would be a redefinition of UML.  What you can say is that the UML diagram foresees the entity&#39;s operations to be provided by the class, but that you decided to adapt this design in the implementation in the way that ...","body":"@fredrick unfortunately, that would be a redefinition of UML.  What you can say is that the UML diagram foresees the entity&#39;s operations to be provided by the class, but that you decided to adapt this design in the implementation in the way that ..."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677510360,"post_id":75571681,"comment_id":133346751,"body_markdown":"Could you please post a Java (Spring Boot) implementation of a basic 2-3 classes from Class Diagram? It would be really much more useful than words and I do not take your more time :)","body":"Could you please post a Java (Spring Boot) implementation of a basic 2-3 classes from Class Diagram? It would be really much more useful than words and I do not take your more time :)"},{"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":0,"creation_date":1677520395,"post_id":75571681,"comment_id":133350134,"body_markdown":"@fredrick I Think your original question was about UML classes and their meaning for implementation. I think that my answer fully addresses the topic. In the comment exchange it appears that you now have another question, which is how to implement a proper domain model with Spring Boot without using an anemic domain model. This is a different question, to ask separately","body":"@fredrick I Think your original question was about UML classes and their meaning for implementation. I think that my answer fully addresses the topic. In the comment exchange it appears that you now have another question, which is how to implement a proper domain model with Spring Boot without using an anemic domain model. This is a different question, to ask separately"}],"tags":[],"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677411148,"creation_date":1677411148,"answer_id":75571681,"question_id":75553186,"body_markdown":"UML is design agnostic.  If you define a class like: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt is understood like the code you&#39;ve shown, and any decent code generator would generate the code you have. \r\n\r\nIf you want to keep your domain class `Account`  with only data and separate the domain logic into an `AccountService` class, it is your right, but you&#39;ll have to model two distinct classes in UML.  This design approach is by the way called the [anemic domain model][2] (see also [here][3]), and,  like it or not, it is considered as an anti-pattern.  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dki3S.png\r\n  [2]: https://martinfowler.com/bliki/AnemicDomainModel.html\r\n  [3]: https://en.wikipedia.org/wiki/Anemic_domain_model","title":"Why Class Diagram methods are defined in the same class?","body":"<p>UML is design agnostic.  If you define a class like:</p>\n<p><a href=\"https://i.stack.imgur.com/dki3S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dki3S.png\" alt=\"enter image description here\" /></a></p>\n<p>It is understood like the code you've shown, and any decent code generator would generate the code you have.</p>\n<p>If you want to keep your domain class <code>Account</code>  with only data and separate the domain logic into an <code>AccountService</code> class, it is your right, but you'll have to model two distinct classes in UML.  This design approach is by the way called the <a href=\"https://martinfowler.com/bliki/AnemicDomainModel.html\" rel=\"nofollow noreferrer\">anemic domain model</a> (see also <a href=\"https://en.wikipedia.org/wiki/Anemic_domain_model\" rel=\"nofollow noreferrer\">here</a>), and,  like it or not, it is considered as an anti-pattern.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75571681,"answer_count":1,"score":1,"last_activity_date":1677532351,"creation_date":1677219542,"question_id":75553186,"body_markdown":"In class diagram representation, the fields and the class related methods are shown on the diagram. However, when converting the diagram to a class, I see that these methods are shown like an interface method as shown:\r\n\r\n\r\n```\r\npublic class Account {\r\n\r\n    private String userName;\r\n    private String password;\r\n    private String name;\r\n    private String email;\r\n    private String phone;\r\n    private List&lt;CreditCard&gt; creditCards;\r\n\r\n    public boolean addProduct(Product product);\r\n    public boolean addProductReview(ProductReview review);\r\n    public boolean resetPassword();\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nIs it the class implementation that is normally used? Or just an higher level implementation? Because normally, I would implement `addProduct(Product product)` and the other methods in the service of this class (`AccountService`). Is it wrong? ","title":"Why Class Diagram methods are defined in the same class?","body":"<p>In class diagram representation, the fields and the class related methods are shown on the diagram. However, when converting the diagram to a class, I see that these methods are shown like an interface method as shown:</p>\n<pre><code>public class Account {\n\n    private String userName;\n    private String password;\n    private String name;\n    private String email;\n    private String phone;\n    private List&lt;CreditCard&gt; creditCards;\n\n    public boolean addProduct(Product product);\n    public boolean addProductReview(ProductReview review);\n    public boolean resetPassword();\n}\n</code></pre>\n<p>Is it the class implementation that is normally used? Or just an higher level implementation? Because normally, I would implement <code>addProduct(Product product)</code> and the other methods in the service of this class (<code>AccountService</code>). Is it wrong?</p>\n"},{"tags":["java","scala","generics"],"owner":{"account_id":2074407,"reputation":1209,"user_id":1848172,"accept_rate":70,"display_name":"Maxim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1677530895,"creation_date":1644779682,"question_id":71104036,"body_markdown":"Suppose we have following Java interface defined in some external library (so we have no control over it):\r\n```java\r\npublic interface JavaTest&lt;R extends Something&gt; { }\r\n\r\npublic class JavaTestImpl implements JavaTest&lt;SomethingSpecific&gt; {\r\n  public static final JavaTestImpl INSTANCE = ...\r\n}\r\n```\r\n\r\nNow we want to write Scala function which will take arbitrary instance of `JavaTest` as argument and extract both type of instance itself and `R` generic argument (e.g. we want to do implicit typeclass lookup on instance class):\r\n\r\n```scala \r\ndef test[A &lt;: Something, X &lt;: JavaTest[A]](x: X)(implicit tc: TypeClass[X]): A = {}\r\n\r\ntest(JavaTestImpl.INSTANCE) // should be [SomethingSpecific, JavaTestImpl]\r\n```\r\n\r\nunfortunately, it does not work straightforward way: compiler infers `test` invocation as `[Nothing, JavaTestImpl]` and then immediately fails because inferred types are wrong and don&#39;t satisfy the constraints. \r\n\r\nIs there a way to make Scala compiler infer corresponding type arguments without changing Java part and without writing a lot of boilerplate every time? Or, to put question another way, is there a way to extract generic type (`SomethingSpecific`) given that we know type of instance (`JavaTestImpl`)?","title":"Scala generics type inference for Java classes","body":"<p>Suppose we have following Java interface defined in some external library (so we have no control over it):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface JavaTest&lt;R extends Something&gt; { }\n\npublic class JavaTestImpl implements JavaTest&lt;SomethingSpecific&gt; {\n  public static final JavaTestImpl INSTANCE = ...\n}\n</code></pre>\n<p>Now we want to write Scala function which will take arbitrary instance of <code>JavaTest</code> as argument and extract both type of instance itself and <code>R</code> generic argument (e.g. we want to do implicit typeclass lookup on instance class):</p>\n<pre class=\"lang-scala prettyprint-override\"><code>def test[A &lt;: Something, X &lt;: JavaTest[A]](x: X)(implicit tc: TypeClass[X]): A = {}\n\ntest(JavaTestImpl.INSTANCE) // should be [SomethingSpecific, JavaTestImpl]\n</code></pre>\n<p>unfortunately, it does not work straightforward way: compiler infers <code>test</code> invocation as <code>[Nothing, JavaTestImpl]</code> and then immediately fails because inferred types are wrong and don't satisfy the constraints.</p>\n<p>Is there a way to make Scala compiler infer corresponding type arguments without changing Java part and without writing a lot of boilerplate every time? Or, to put question another way, is there a way to extract generic type (<code>SomethingSpecific</code>) given that we know type of instance (<code>JavaTestImpl</code>)?</p>\n"},{"tags":["java","multithreading","thread-sleep"],"answers":[{"comments":[{"owner":{"account_id":12328133,"reputation":4037,"user_id":8994998,"display_name":"Brett Sutton"},"score":0,"creation_date":1657773400,"post_id":24111502,"comment_id":128891255,"body_markdown":"You should never do this. If your code calls interrupt whilst the sleep isn&#39;t in progress the InteruptedException can pop out at some random point in your code not just the sleep.","body":"You should never do this. If your code calls interrupt whilst the sleep isn&#39;t in progress the InteruptedException can pop out at some random point in your code not just the sleep."}],"tags":[],"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1402266230,"creation_date":1402266230,"answer_id":24111502,"question_id":24111441,"body_markdown":"`Thread.sleep` throws `InterruptedException` if the thread is interrupted during the sleep. Catch that, and check your flag.","title":"Java Wake Sleeping Thread","body":"<p><code>Thread.sleep</code> throws <code>InterruptedException</code> if the thread is interrupted during the sleep. Catch that, and check your flag.</p>\n"},{"comments":[{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":0,"creation_date":1549982426,"post_id":24111504,"comment_id":96096528,"body_markdown":"What is the purpose of &quot;toolkit&quot; and where is the possibility to cancel the scheduled task?","body":"What is the purpose of &quot;toolkit&quot; and where is the possibility to cancel the scheduled task?"}],"tags":[],"owner":{"account_id":4205859,"reputation":26124,"user_id":3444777,"accept_rate":38,"display_name":"Rod_Algonquin"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1402266553,"creation_date":1402266251,"answer_id":24111504,"question_id":24111441,"body_markdown":"You can call the `interrupt()` method on your thread and will make your Thread go to `running state` from `block state`, but it will throw an exception which is `InterruptedException` which by then you can shutdown your thread in the `catch` block\r\n\r\nAlso other solution is that you can use the Timer Task that will call the run method on a certain time you specified without putting your Thread to the `block state`\r\n\r\n**example:**\r\n\r\n    public class TimerBomb {\r\n      Toolkit toolkit;\r\n    \r\n      Timer timer;\r\n      int count = 0;\r\n      \r\n      public TimerBomb(int seconds) {\r\n        toolkit = Toolkit.getDefaultToolkit();\r\n        timer = new Timer();\r\n        timer.schedule(new RemindTask(), seconds * 1000, seconds*1000);\r\n      }\r\n    \r\n      class RemindTask extends TimerTask {\r\n        public void run() {\r\n    \r\n        \t//do stuff here\t\r\n            \r\n        }\r\n      }\r\n    \r\n      public static void main(String args[]) {\r\n        System.out.println(&quot;About to schedule task.&quot;);\r\n    \r\n        Thread t = new Thread(new Runnable() {\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t    new TimerBomb(5);\r\n    \r\n    \t\t\t\r\n    \t\t}\r\n    \t});\r\n        t.start();\r\n        System.out.println(&quot;Task scheduled.&quot;);\r\n      }\r\n    }\r\n\r\nIt will run every 5 second forever.","title":"Java Wake Sleeping Thread","body":"<p>You can call the <code>interrupt()</code> method on your thread and will make your Thread go to <code>running state</code> from <code>block state</code>, but it will throw an exception which is <code>InterruptedException</code> which by then you can shutdown your thread in the <code>catch</code> block</p>\n\n<p>Also other solution is that you can use the Timer Task that will call the run method on a certain time you specified without putting your Thread to the <code>block state</code></p>\n\n<p><strong>example:</strong></p>\n\n<pre><code>public class TimerBomb {\n  Toolkit toolkit;\n\n  Timer timer;\n  int count = 0;\n\n  public TimerBomb(int seconds) {\n    toolkit = Toolkit.getDefaultToolkit();\n    timer = new Timer();\n    timer.schedule(new RemindTask(), seconds * 1000, seconds*1000);\n  }\n\n  class RemindTask extends TimerTask {\n    public void run() {\n\n        //do stuff here \n\n    }\n  }\n\n  public static void main(String args[]) {\n    System.out.println(\"About to schedule task.\");\n\n    Thread t = new Thread(new Runnable() {\n\n        @Override\n        public void run() {\n            new TimerBomb(5);\n\n\n        }\n    });\n    t.start();\n    System.out.println(\"Task scheduled.\");\n  }\n}\n</code></pre>\n\n<p>It will run every 5 second forever.</p>\n"},{"tags":[],"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1402266280,"creation_date":1402266280,"answer_id":24111508,"question_id":24111441,"body_markdown":"If the threads are sleeping with `Thread.sleep(...)`, you can wake them up with `Thread.interrupt()`.  Make sure you&#39;re handling the `InterruptedException` and testing `Thread.currentThread().isInterrupted()` in your loops.","title":"Java Wake Sleeping Thread","body":"<p>If the threads are sleeping with <code>Thread.sleep(...)</code>, you can wake them up with <code>Thread.interrupt()</code>.  Make sure you're handling the <code>InterruptedException</code> and testing <code>Thread.currentThread().isInterrupted()</code> in your loops.</p>\n"},{"tags":[],"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1402267306,"creation_date":1402267306,"answer_id":24111620,"question_id":24111441,"body_markdown":"You should look into ExecutorService and its shutdownNow() method (which generally interrupts all the active threads). You sense reinventing the scheduling wheel.","title":"Java Wake Sleeping Thread","body":"<p>You should look into ExecutorService and its shutdownNow() method (which generally interrupts all the active threads). You sense reinventing the scheduling wheel.</p>\n"},{"comments":[{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":0,"creation_date":1549982673,"post_id":24121386,"comment_id":96096692,"body_markdown":"You oviously didn&#39;t read &quot;all of the other answers&quot;. David Ehrmann wrote about ExecutorService several hours before you did.","body":"You oviously didn&#39;t read &quot;all of the other answers&quot;. David Ehrmann wrote about ExecutorService several hours before you did."}],"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402320685,"creation_date":1402320685,"answer_id":24121386,"question_id":24111441,"body_markdown":"All of the other answers are good answers to the question that you actually asked, but none of them gives the best answer to the question that you _should_ have asked.  The question is, what&#39;s the best way to schedule several periodic tasks that must recur with different periods?  The answer is, use a java.util.concurrent.ScheduledExecutorService.\r\n\r\nLike all ExeuctorServices, it provides methods, shutdown() and shutdownNow(), for when you want the tasks to stop.","title":"Java Wake Sleeping Thread","body":"<p>All of the other answers are good answers to the question that you actually asked, but none of them gives the best answer to the question that you <em>should</em> have asked.  The question is, what's the best way to schedule several periodic tasks that must recur with different periods?  The answer is, use a java.util.concurrent.ScheduledExecutorService.</p>\n\n<p>Like all ExeuctorServices, it provides methods, shutdown() and shutdownNow(), for when you want the tasks to stop.</p>\n"},{"tags":[],"owner":{"account_id":21513721,"reputation":49,"user_id":15855970,"display_name":"Attila Hejja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677530275,"creation_date":1677530275,"answer_id":75585328,"question_id":24111441,"body_markdown":"How will you make a difference between do an action or shutdown the thread? Set an action code into the thread and interrupt the thread is not atomic. Between this two action may raise an additional interrupt from a system for instance and this info will be lost, because the thread see only the action code after an interrupt, but don&#39;t care about how many interrupt happened.\r\n\r\nSo, I think the thread interrupt shall be used only for gracefully finish a thread.\r\n","title":"Java Wake Sleeping Thread","body":"<p>How will you make a difference between do an action or shutdown the thread? Set an action code into the thread and interrupt the thread is not atomic. Between this two action may raise an additional interrupt from a system for instance and this info will be lost, because the thread see only the action code after an interrupt, but don't care about how many interrupt happened.</p>\n<p>So, I think the thread interrupt shall be used only for gracefully finish a thread.</p>\n"}],"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26355,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":24111502,"answer_count":6,"score":8,"last_activity_date":1677530275,"creation_date":1402265831,"question_id":24111441,"body_markdown":"I did some reading of other post but didn&#39;t find an exact answer to what I&#39;m looking for, so I hope someone can give some some clarification.\r\n\r\nI have a program that will run for some time. I have some threads that run in the back ground that perform various tasks, to keep things simple let think of 3 threads. `ThreadA` performs a task every 10 seconds, where `ThreadB` does something every 30 seconds and `ThreadC` does something every 5 mintues.\r\n\r\nI don&#39;t use busy waiting, and put the threads to sleep for the designated times.\r\n\r\nMy question is regarding a clean shut down. I have a variable that each of the threads have read access too, so they can see when the user initiates the exit of the program. The next time the threads are active, they exit their loops and join and all is good. But you can see that ThreadC only wakes up every 5 minutes.\r\n\r\nThe question I have is can I signal the sleeping threads to wake up and exit before their sleep time is over? If this is not possible, do I need to rework the code to use `wait()` and `notify()` or is there a better way?\r\n\r\n","title":"Java Wake Sleeping Thread","body":"<p>I did some reading of other post but didn't find an exact answer to what I'm looking for, so I hope someone can give some some clarification.</p>\n\n<p>I have a program that will run for some time. I have some threads that run in the back ground that perform various tasks, to keep things simple let think of 3 threads. <code>ThreadA</code> performs a task every 10 seconds, where <code>ThreadB</code> does something every 30 seconds and <code>ThreadC</code> does something every 5 mintues.</p>\n\n<p>I don't use busy waiting, and put the threads to sleep for the designated times.</p>\n\n<p>My question is regarding a clean shut down. I have a variable that each of the threads have read access too, so they can see when the user initiates the exit of the program. The next time the threads are active, they exit their loops and join and all is good. But you can see that ThreadC only wakes up every 5 minutes.</p>\n\n<p>The question I have is can I signal the sleeping threads to wake up and exit before their sleep time is over? If this is not possible, do I need to rework the code to use <code>wait()</code> and <code>notify()</code> or is there a better way?</p>\n"},{"tags":["java","docker","playwright-java"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1676589749,"post_id":75478872,"comment_id":133173213,"body_markdown":"The first `FROM` sets up a multi-stage build; that image&#39;s contents are discarded when you get to the second `FROM` line.  Assuming the final image is based on some sort of Debian-based distribution, you need to `RUN apt-get ...` after that final `FROM` line and not in an earlier build stage.  (Also look up the correct package names on https://packages.debian.org.)","body":"The first <code>FROM</code> sets up a multi-stage build; that image&#39;s contents are discarded when you get to the second <code>FROM</code> line.  Assuming the final image is based on some sort of Debian-based distribution, you need to <code>RUN apt-get ...</code> after that final <code>FROM</code> line and not in an earlier build stage.  (Also look up the correct package names on <a href=\"https://packages.debian.org.\" rel=\"nofollow noreferrer\">packages.debian.org.</a>)"}],"answers":[{"tags":[],"owner":{"account_id":21224730,"reputation":1,"user_id":15610622,"display_name":"Krishna Kumar Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677530107,"creation_date":1677529722,"answer_id":75585256,"question_id":75478872,"body_markdown":"You must use `mcr.microsoft.com/playwright/java:v1.30.0-focal` provided by Microsoft Playwright team. It has jdk17, maven3 &amp; required browsers to execute your test.\r\n\r\nYou can use the below snippet as `Dockerfile` to build your own container to run your test.\r\n\r\n    FROM mcr.microsoft.com/playwright/java:v1.30.0-focal\r\n    COPY . /e2e\r\n    WORKDIR /e2e\r\n    ENTRYPOINT /bin/bash\r\n\r\nBuild your own image using `docker build -t=&lt;DESIRED_IMAGE_NAME&gt;`\r\n\r\nCreate the container using `docker run -v $PWD/&lt;report_folder&gt;:/e2e/&lt;report_folder&gt; -it --rm &lt;DESIRED_IMAGE_NAME&gt;`\r\n\r\nNow, you can run your maven command in the container bash - `mvn clean verify`","title":"Run Spring Boot application using Playwright Java in Docker container","body":"<p>You must use <code>mcr.microsoft.com/playwright/java:v1.30.0-focal</code> provided by Microsoft Playwright team. It has jdk17, maven3 &amp; required browsers to execute your test.</p>\n<p>You can use the below snippet as <code>Dockerfile</code> to build your own container to run your test.</p>\n<pre><code>FROM mcr.microsoft.com/playwright/java:v1.30.0-focal\nCOPY . /e2e\nWORKDIR /e2e\nENTRYPOINT /bin/bash\n</code></pre>\n<p>Build your own image using <code>docker build -t=&lt;DESIRED_IMAGE_NAME&gt;</code></p>\n<p>Create the container using <code>docker run -v $PWD/&lt;report_folder&gt;:/e2e/&lt;report_folder&gt; -it --rm &lt;DESIRED_IMAGE_NAME&gt;</code></p>\n<p>Now, you can run your maven command in the container bash - <code>mvn clean verify</code></p>\n"}],"owner":{"account_id":10030252,"reputation":11,"user_id":19767912,"display_name":"user982455"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677530107,"creation_date":1676589418,"question_id":75478872,"body_markdown":"I have a Spring Boot application where I use Playwright Java in.\r\nI can get it to work when I running it locally on my Windows machine but when I try to run in a docker container I get the following error:\r\n\r\n    Host system is missing dependencies to run browsers. ║\r\n    2023-02-16 23:30:37 ║ Missing libraries:                                   ║\r\n    2023-02-16 23:30:37 ║     libnss3.so                                       ║\r\n    2023-02-16 23:30:37 ║     libnssutil3.so\r\n\r\nI try to run:\r\n\r\n    RUN apt-get install -y libnss3.so \\ \r\n    libnssutil3.so         \\ \r\n    libsmime3.so           \\ \r\n    libnspr4.so            \\ \r\n    libatk-1.0.so.0        \\ \r\n\r\nbut it only comes back with the same error.\r\nMy Dockerfile looks like this:\r\n\r\n    FROM ubuntu:22.04\r\n    \r\n    RUN apt-get install -y libnss3.so \\ \r\n    libnssutil3.so         \\ \r\n    libsmime3.so           \\ \r\n    libnspr4.so            \\ \r\n    &amp;&amp; apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/*\r\n    \r\n    FROM mcr.microsoft.com/playwright/java:v1.30.0-focal\r\n    FROM maven:3.8.3-openjdk-17\r\n    RUN mkdir /project\r\n    COPY . /project\r\n    WORKDIR /project\r\n    RUN mvn clean package -DskipTests\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;target/controller-1.jar&quot;]\r\n\r\nI have alos tried this Dockerfile\r\n\r\n    FROM ubuntu:22.04    \r\n    RUN apt-get update &amp;&amp; playwright install-deps    \r\n    FROM mcr.microsoft.com/playwright/java:v1.30.0-focal\r\n    FROM maven:3.8.3-openjdk-17\r\n    RUN mkdir /project\r\n    COPY . /project\r\n    WORKDIR /project\r\n    RUN mvn clean package -DskipTests\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;target/controller-1.jar&quot;]\r\n\r\nwith the same error.\r\n\r\nCurrently I just doing some test to see if I can get it to work so the class in the project where I use Playwright looks like this:\r\n\r\n    @Service\r\n    public class PlaywrightTest {\r\n    \r\n    \tPlaywright playwright;\r\n    \r\n    \tpublic void testPlaywright() {\r\n    \r\n    \t\tplaywright = Playwright.create();\r\n    \r\n    \t\tBrowser browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setHeadless(true));\r\n    \t\tBrowserContext context = browser.newContext();\r\n    \r\n    \t\tPage page = context.newPage();\r\n    \r\n    \t\tpage.navigate(&quot;https://www.google.com/&quot;);\r\n    \r\n    \t\tSystem.out.println(page.title());\r\n    \r\n    \t}\r\n    }\r\n\r\nWhen the application starts in docker it looks like this\r\n\r\n    2023-02-17 00:07:51 2023-02-16T23:07:51.131Z  INFO 1 --- [           main] s.g.a.ControllerApplication           : Started ControllerApplication in 2.693 seconds (process running for 3.142)\r\n    2023-02-17 00:07:52 BEWARE: your OS is not officially supported by Playwright; downloading fallback build.\r\n    2023-02-17 00:07:52 Downloading Chromium 110.0.5481.38 (playwright build v1045) from https://playwright.azureedge.net/builds/chromium/1045/chromium-linux.zip\r\n    \r\n    .....downloading....\r\n    \r\n    2023-02-17 00:08:35 Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-02-17 00:08:35 2023-02-16T23:08:35.032Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    2023-02-17 00:08:35 \r\n    2023-02-17 00:08:35 java.lang.IllegalStateException: Failed to execute ApplicationRunner\r\n    2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:761) ~[spring-boot-3.0.2.jar!/:3.0.2]\r\n    2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:748) ~[spring-boot-3.0.2.jar!/:3.0.2]\r\n    2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.0.2.jar!/:3.0.2]\r\n    2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar!/:3.0.2]\r\n    2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar!/:3.0.2]\r\n    2023-02-17 00:08:35     at se.demo.controller.controllerApplication.main(controllerApplication.java:15) ~[classes!/:1]\r\n    2023-02-17 00:08:35     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    2023-02-17 00:08:35     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    2023-02-17 00:08:35     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    2023-02-17 00:08:35     at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    2023-02-17 00:08:35     at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[controller-1.jar:1]\r\n    2023-02-17 00:08:35     at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[controller-1.jar:1]\r\n    2023-02-17 00:08:35     at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[controller-1.jar:1]\r\n    2023-02-17 00:08:35     at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[controller-1.jar:1]\r\n    2023-02-17 00:08:35 Caused by: com.microsoft.playwright.PlaywrightException: Error {\r\n    2023-02-17 00:08:35   message=&#39;\r\n    2023-02-17 00:08:35 ╔══════════════════════════════════════════════════════╗\r\n    2023-02-17 00:08:35 ║ Host system is missing dependencies to run browsers. ║\r\n    2023-02-17 00:08:35 ║ Missing libraries:                                   ║\r\n    2023-02-17 00:08:35 ║     libnss3.so                                       ║\r\n    2023-02-17 00:08:35 ║     libnssutil3.so                                   ║\r\n    2023-02-17 00:08:35 ║     libsmime3.so                                     ║\r\n    2023-02-17 00:08:35 ║     libnspr4.so                                      ║\r\n    2023-02-17 00:08:35 ║     libatk-1.0.so.0                                  ║\r\n    2023-02-17 00:08:35 ║     libatk-bridge-2.0.so.0                           ║\r\n    2023-02-17 00:08:35 ║     libcups.so.2                                     ║\r\n    2023-02-17 00:08:35 ║     libdrm.so.2                                      ║\r\n    2023-02-17 00:08:35 ║     libdbus-1.so.3                                   ║\r\n    2023-02-17 00:08:35 ║     libatspi.so.0                                    ║\r\n    2023-02-17 00:08:35 ║     libX11.so.6                                      ║\r\n    2023-02-17 00:08:35 ║     libXcomposite.so.1                               ║\r\n    2023-02-17 00:08:35 ║     libXdamage.so.1                                  ║\r\n    2023-02-17 00:08:35 ║     libXext.so.6                                     ║\r\n    2023-02-17 00:08:35 ║     libXfixes.so.3                                   ║\r\n    2023-02-17 00:08:35 ║     libXrandr.so.2                                   ║\r\n    2023-02-17 00:08:35 ║     libgbm.so.1                                      ║\r\n    2023-02-17 00:08:35 ║     libxcb.so.1                                      ║\r\n    2023-02-17 00:08:35 ║     libxkbcommon.so.0                                ║\r\n    2023-02-17 00:08:35 ║     libpango-1.0.so.0                                ║\r\n    2023-02-17 00:08:35 ║     libcairo.so.2                                    ║\r\n    2023-02-17 00:08:35 ║     libasound.so.2                                   ║\r\n    2023-02-17 00:08:35 ╚══════════════════════════════════════════════════════╝\r\n    2023-02-17 00:08:35   name=&#39;Error\r\n    2023-02-17 00:08:35   stack=&#39;Error:\r\n","title":"Run Spring Boot application using Playwright Java in Docker container","body":"<p>I have a Spring Boot application where I use Playwright Java in.\nI can get it to work when I running it locally on my Windows machine but when I try to run in a docker container I get the following error:</p>\n<pre><code>Host system is missing dependencies to run browsers. ║\n2023-02-16 23:30:37 ║ Missing libraries:                                   ║\n2023-02-16 23:30:37 ║     libnss3.so                                       ║\n2023-02-16 23:30:37 ║     libnssutil3.so\n</code></pre>\n<p>I try to run:</p>\n<pre><code>RUN apt-get install -y libnss3.so \\ \nlibnssutil3.so         \\ \nlibsmime3.so           \\ \nlibnspr4.so            \\ \nlibatk-1.0.so.0        \\ \n</code></pre>\n<p>but it only comes back with the same error.\nMy Dockerfile looks like this:</p>\n<pre><code>FROM ubuntu:22.04\n\nRUN apt-get install -y libnss3.so \\ \nlibnssutil3.so         \\ \nlibsmime3.so           \\ \nlibnspr4.so            \\ \n&amp;&amp; apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/*\n\nFROM mcr.microsoft.com/playwright/java:v1.30.0-focal\nFROM maven:3.8.3-openjdk-17\nRUN mkdir /project\nCOPY . /project\nWORKDIR /project\nRUN mvn clean package -DskipTests\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;target/controller-1.jar&quot;]\n</code></pre>\n<p>I have alos tried this Dockerfile</p>\n<pre><code>FROM ubuntu:22.04    \nRUN apt-get update &amp;&amp; playwright install-deps    \nFROM mcr.microsoft.com/playwright/java:v1.30.0-focal\nFROM maven:3.8.3-openjdk-17\nRUN mkdir /project\nCOPY . /project\nWORKDIR /project\nRUN mvn clean package -DskipTests\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;target/controller-1.jar&quot;]\n</code></pre>\n<p>with the same error.</p>\n<p>Currently I just doing some test to see if I can get it to work so the class in the project where I use Playwright looks like this:</p>\n<pre><code>@Service\npublic class PlaywrightTest {\n\n    Playwright playwright;\n\n    public void testPlaywright() {\n\n        playwright = Playwright.create();\n\n        Browser browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setHeadless(true));\n        BrowserContext context = browser.newContext();\n\n        Page page = context.newPage();\n\n        page.navigate(&quot;https://www.google.com/&quot;);\n\n        System.out.println(page.title());\n\n    }\n}\n</code></pre>\n<p>When the application starts in docker it looks like this</p>\n<pre><code>2023-02-17 00:07:51 2023-02-16T23:07:51.131Z  INFO 1 --- [           main] s.g.a.ControllerApplication           : Started ControllerApplication in 2.693 seconds (process running for 3.142)\n2023-02-17 00:07:52 BEWARE: your OS is not officially supported by Playwright; downloading fallback build.\n2023-02-17 00:07:52 Downloading Chromium 110.0.5481.38 (playwright build v1045) from https://playwright.azureedge.net/builds/chromium/1045/chromium-linux.zip\n\n.....downloading....\n\n2023-02-17 00:08:35 Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-02-17 00:08:35 2023-02-16T23:08:35.032Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\n2023-02-17 00:08:35 \n2023-02-17 00:08:35 java.lang.IllegalStateException: Failed to execute ApplicationRunner\n2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:761) ~[spring-boot-3.0.2.jar!/:3.0.2]\n2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:748) ~[spring-boot-3.0.2.jar!/:3.0.2]\n2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.0.2.jar!/:3.0.2]\n2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar!/:3.0.2]\n2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar!/:3.0.2]\n2023-02-17 00:08:35     at se.demo.controller.controllerApplication.main(controllerApplication.java:15) ~[classes!/:1]\n2023-02-17 00:08:35     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n2023-02-17 00:08:35     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n2023-02-17 00:08:35     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n2023-02-17 00:08:35     at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n2023-02-17 00:08:35     at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[controller-1.jar:1]\n2023-02-17 00:08:35     at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[controller-1.jar:1]\n2023-02-17 00:08:35     at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[controller-1.jar:1]\n2023-02-17 00:08:35     at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[controller-1.jar:1]\n2023-02-17 00:08:35 Caused by: com.microsoft.playwright.PlaywrightException: Error {\n2023-02-17 00:08:35   message='\n2023-02-17 00:08:35 ╔══════════════════════════════════════════════════════╗\n2023-02-17 00:08:35 ║ Host system is missing dependencies to run browsers. ║\n2023-02-17 00:08:35 ║ Missing libraries:                                   ║\n2023-02-17 00:08:35 ║     libnss3.so                                       ║\n2023-02-17 00:08:35 ║     libnssutil3.so                                   ║\n2023-02-17 00:08:35 ║     libsmime3.so                                     ║\n2023-02-17 00:08:35 ║     libnspr4.so                                      ║\n2023-02-17 00:08:35 ║     libatk-1.0.so.0                                  ║\n2023-02-17 00:08:35 ║     libatk-bridge-2.0.so.0                           ║\n2023-02-17 00:08:35 ║     libcups.so.2                                     ║\n2023-02-17 00:08:35 ║     libdrm.so.2                                      ║\n2023-02-17 00:08:35 ║     libdbus-1.so.3                                   ║\n2023-02-17 00:08:35 ║     libatspi.so.0                                    ║\n2023-02-17 00:08:35 ║     libX11.so.6                                      ║\n2023-02-17 00:08:35 ║     libXcomposite.so.1                               ║\n2023-02-17 00:08:35 ║     libXdamage.so.1                                  ║\n2023-02-17 00:08:35 ║     libXext.so.6                                     ║\n2023-02-17 00:08:35 ║     libXfixes.so.3                                   ║\n2023-02-17 00:08:35 ║     libXrandr.so.2                                   ║\n2023-02-17 00:08:35 ║     libgbm.so.1                                      ║\n2023-02-17 00:08:35 ║     libxcb.so.1                                      ║\n2023-02-17 00:08:35 ║     libxkbcommon.so.0                                ║\n2023-02-17 00:08:35 ║     libpango-1.0.so.0                                ║\n2023-02-17 00:08:35 ║     libcairo.so.2                                    ║\n2023-02-17 00:08:35 ║     libasound.so.2                                   ║\n2023-02-17 00:08:35 ╚══════════════════════════════════════════════════════╝\n2023-02-17 00:08:35   name='Error\n2023-02-17 00:08:35   stack='Error:\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677529847,"creation_date":1677529847,"answer_id":75585277,"question_id":75583421,"body_markdown":"Category having multiple subcategories using UUIDs should look something more like:\r\n\r\n    @Entity\r\n    public class Category {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.UUID)\r\n      private UUID id;\r\n    \r\n      @OneToMany(mappedBy = &quot;catalog&quot;, fetch = FetchType.LAZY)\r\n      private List&lt;SubCategory&gt; subCategories;\r\n      ..\r\n    }\r\n\r\n    @Entity\r\n    public class SubCategory {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.UUID)\r\n      private UUID id;//UUIDs are unique, so no need for a composite ID!\r\n      \r\n      @ManyToOne\r\n      @JoinColumn(name = &quot;category_id&quot;)\r\n      private Category category;\r\n      ..\r\n    }\r\n\r\nI don&#39;t know why you have a roomie_categories with an ID, subcategory_id AND category_id UUIDs, but I suspect this isn&#39;t a Category-&gt;Subcategory relationship; Categories should have many subcategories, so cannot have only a single subcategory_id within the data. \r\n\r\nAssuming that is what you really have; that a subcategory is assigned some &#39;other&#39; category_id UUID that you need to have mapped as a separate FK within the category table with a subcategory_id value too, you might map it like this:\r\n\r\n\r\n    @Entity\r\n    public class SubCategory {\r\n      @EmbeddedId \r\n      private CategoryCompositeKey compositeKey;\r\n      ..\r\n    }\r\n\r\n    @Entity\r\n    public class Category {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.UUID)\r\n      private UUID id;\r\n    \r\n      @OneToOne(mappedBy = &quot;catalog&quot;, fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;category_id&quot;)\r\n      @JoinColumn(name = &quot;subcategory_id&quot;, referencedColumnName = &quot;subcategory_id&quot;\r\n      private SubCategory subCategory;\r\n      ..\r\n    }\r\n\r\nIf you just want access to the foreign key values in your entity, you might have confused @JoinColumn with @Override:\r\n\r\n    @Entity\r\n    public class Category {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.UUID)\r\n      private UUID id;\r\n    \r\n      @Embedded\r\n      @AttributeOverrides({\r\n      @AttributeOverride(name = &quot;categoryId&quot;, column = @Column(name = &quot;category_id&quot;)),\r\n      @AttributeOverride(name = &quot;subcategoryId&quot;, column = @Column(name = &quot;subcategory_id&quot;))\r\n    })\r\n      private SubCategory subCategory;\r\n      ..\r\n    }\r\n\r\nNote though that you will have to maintain this yourself and ensure that Subcategory is persisted/merged first before Categories can reference that data: if there are foreign key constraints in the database, JPA knows nothing about this category-&gt;subcategory reference so cannot order it for you.","title":"@ManyToOne mapping with only one field from the entity","body":"<p>Category having multiple subcategories using UUIDs should look something more like:</p>\n<pre><code>@Entity\npublic class Category {\n  @Id\n  @GeneratedValue(strategy = GenerationType.UUID)\n  private UUID id;\n\n  @OneToMany(mappedBy = &quot;catalog&quot;, fetch = FetchType.LAZY)\n  private List&lt;SubCategory&gt; subCategories;\n  ..\n}\n\n@Entity\npublic class SubCategory {\n  @Id\n  @GeneratedValue(strategy = GenerationType.UUID)\n  private UUID id;//UUIDs are unique, so no need for a composite ID!\n  \n  @ManyToOne\n  @JoinColumn(name = &quot;category_id&quot;)\n  private Category category;\n  ..\n}\n</code></pre>\n<p>I don't know why you have a roomie_categories with an ID, subcategory_id AND category_id UUIDs, but I suspect this isn't a Category-&gt;Subcategory relationship; Categories should have many subcategories, so cannot have only a single subcategory_id within the data.</p>\n<p>Assuming that is what you really have; that a subcategory is assigned some 'other' category_id UUID that you need to have mapped as a separate FK within the category table with a subcategory_id value too, you might map it like this:</p>\n<pre><code>@Entity\npublic class SubCategory {\n  @EmbeddedId \n  private CategoryCompositeKey compositeKey;\n  ..\n}\n\n@Entity\npublic class Category {\n  @Id\n  @GeneratedValue(strategy = GenerationType.UUID)\n  private UUID id;\n\n  @OneToOne(mappedBy = &quot;catalog&quot;, fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;category_id&quot;)\n  @JoinColumn(name = &quot;subcategory_id&quot;, referencedColumnName = &quot;subcategory_id&quot;\n  private SubCategory subCategory;\n  ..\n}\n</code></pre>\n<p>If you just want access to the foreign key values in your entity, you might have confused @JoinColumn with @Override:</p>\n<pre><code>@Entity\npublic class Category {\n  @Id\n  @GeneratedValue(strategy = GenerationType.UUID)\n  private UUID id;\n\n  @Embedded\n  @AttributeOverrides({\n  @AttributeOverride(name = &quot;categoryId&quot;, column = @Column(name = &quot;category_id&quot;)),\n  @AttributeOverride(name = &quot;subcategoryId&quot;, column = @Column(name = &quot;subcategory_id&quot;))\n})\n  private SubCategory subCategory;\n  ..\n}\n</code></pre>\n<p>Note though that you will have to maintain this yourself and ensure that Subcategory is persisted/merged first before Categories can reference that data: if there are foreign key constraints in the database, JPA knows nothing about this category-&gt;subcategory reference so cannot order it for you.</p>\n"}],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75585277,"answer_count":1,"score":1,"last_activity_date":1677529847,"creation_date":1677517307,"question_id":75583421,"body_markdown":"[![roomie_categories][1]][1]\r\n\r\nWe have this `roomie_categories` table which has composite primary keys and is mapped in the application as follows:\r\n```java\r\n@Data\r\n@Embeddable\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class CategoryCompositeKey {\r\n  private UUID subcategoryId;\r\n  private UUID categoryId;\r\n}\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;roomie_categories&quot;)\r\npublic class SubCategory {\r\n  @EmbeddedId private CategoryCompositeKey compositeKey;\r\n\r\n  @Column(name = &quot;subcategory&quot;)\r\n  private String subCategory;\r\n\r\n  private String category;\r\n  private String thumbnail;\r\n}\r\n```\r\n[![product_catalog][2]][2]\r\n\r\nI have this `product_catalog` table with two columns, `category_id` and `subcategory_id` which should reference the composite keys from the previous table. I didn&#39;t know how to map those so I did it this way:\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;product_catalog&quot;)\r\npublic class Catalog {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.UUID)\r\n  private UUID id;\r\n\r\n  private String description;\r\n  private String blurb;\r\n  private String type;\r\n  private String surfaceType;\r\n\r\n  @Embedded\r\n  @ManyToOne(fetch = FetchType.LAZY, targetEntity = SubCategory.class)\r\n  @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;categoryId&quot;)\r\n  @JoinColumn(name = &quot;subcategory_id&quot;, referencedColumnName = &quot;subcategoryId&quot;)\r\n  private CategoryCompositeKey categoryCompositeKey;\r\n\r\n  @OneToMany(mappedBy = &quot;catalog&quot;, fetch = FetchType.LAZY)\r\n  private List&lt;Selection&gt; selections;\r\n}\r\n```\r\nThis worked and didn&#39;t throw any error on start-up but, as I was retrieving records, I got the following error:\r\n\r\n&gt; java.lang.IllegalArgumentException: Can not set com...entities.CategoryCompositeKey field com...entities.Catalog.categoryCompositeKey to com...entities.SubCategory$HibernateProxy$uJfoGgxH\r\n\r\nI tried adding a setter but that didn&#39;t work either:\r\n```java\r\n  public void setCategoryCompositeKey(SubCategory subCategory) {\r\n    this.categoryCompositeKey = subCategory.getCompositeKey();\r\n  }\r\n```\r\nHow do I resolve this issue? Any suggestion will be appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/yvKQU.png\r\n  [2]: https://i.stack.imgur.com/8Pz9y.png","title":"@ManyToOne mapping with only one field from the entity","body":"<p><a href=\"https://i.stack.imgur.com/yvKQU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yvKQU.png\" alt=\"roomie_categories\" /></a></p>\n<p>We have this <code>roomie_categories</code> table which has composite primary keys and is mapped in the application as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Embeddable\n@NoArgsConstructor\n@AllArgsConstructor\npublic class CategoryCompositeKey {\n  private UUID subcategoryId;\n  private UUID categoryId;\n}\n\n@Entity\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;roomie_categories&quot;)\npublic class SubCategory {\n  @EmbeddedId private CategoryCompositeKey compositeKey;\n\n  @Column(name = &quot;subcategory&quot;)\n  private String subCategory;\n\n  private String category;\n  private String thumbnail;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8Pz9y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Pz9y.png\" alt=\"product_catalog\" /></a></p>\n<p>I have this <code>product_catalog</code> table with two columns, <code>category_id</code> and <code>subcategory_id</code> which should reference the composite keys from the previous table. I didn't know how to map those so I did it this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;product_catalog&quot;)\npublic class Catalog {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.UUID)\n  private UUID id;\n\n  private String description;\n  private String blurb;\n  private String type;\n  private String surfaceType;\n\n  @Embedded\n  @ManyToOne(fetch = FetchType.LAZY, targetEntity = SubCategory.class)\n  @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;categoryId&quot;)\n  @JoinColumn(name = &quot;subcategory_id&quot;, referencedColumnName = &quot;subcategoryId&quot;)\n  private CategoryCompositeKey categoryCompositeKey;\n\n  @OneToMany(mappedBy = &quot;catalog&quot;, fetch = FetchType.LAZY)\n  private List&lt;Selection&gt; selections;\n}\n</code></pre>\n<p>This worked and didn't throw any error on start-up but, as I was retrieving records, I got the following error:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Can not set com...entities.CategoryCompositeKey field com...entities.Catalog.categoryCompositeKey to com...entities.SubCategory$HibernateProxy$uJfoGgxH</p>\n</blockquote>\n<p>I tried adding a setter but that didn't work either:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public void setCategoryCompositeKey(SubCategory subCategory) {\n    this.categoryCompositeKey = subCategory.getCompositeKey();\n  }\n</code></pre>\n<p>How do I resolve this issue? Any suggestion will be appreciated.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9610,"page":615,"page_size":100}
