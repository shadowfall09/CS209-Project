{"items":[{"tags":["java","android","view","android-linearlayout","touch-event"],"answers":[{"tags":[],"owner":{"account_id":5621305,"reputation":255,"user_id":4451052,"display_name":"Keith Kirk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569228472,"creation_date":1568982823,"answer_id":58028503,"question_id":58028175,"body_markdown":"Try this:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/parentLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/btnTest&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nAndroid xml views are created like a stack where views lower in the xml file are rendered on top of those earlier in the file.\r\n\r\nIt sounds like your linear layout is intercepting touch events preventing them from being propagated to the button underneath it.\r\n\r\nA way to check this is to set a background on the linear layout, you&#39;ll see that when it has a coloured background the button is not visible.\r\n\r\n**Update:**\r\n\r\nSince there is a requirement to allow touch events for both the button and the layout I&#39;ll extend my solution.\r\n\r\nOnClickListeners are the standard method for receiving tap events on android views. However lower down there are [OnTouchListeners][1] which handle raw touches on a view rather than click events.\r\n\r\nWhen the android screen is touched in any way the event is recorded and android will send an on touch event to the first view that touch event would encounter. OnTouchListeners return a boolean indicating whetehr they consumed the event. If they did not consume the event then it is propagated to the next view down in the hierarchy which the touch event would encounter.\r\n\r\nThis is why your button&#39;s on click was originally never being registered as the layout was consuming the touch event and preventing it from being propagated to the button.\r\n\r\nThis is the standard android behaviour, only one view will handle any single touch event.\r\n\r\nA decision to do otherwise is a sign that you should consider the design for your application and decide if this behaviour is definitely necessary.\r\n\r\nHowever, in case your circumstances are one of the rare ocassions I&#39;ll provide and example on touch listener.\r\n\r\n*Please note, this on touch listener assumes that you are using the xml I posted above as well as he on click listener attached to the button in the original question.*\r\n\r\n    getActivity()\r\n        .findViewById(R.id.parentLayout)\r\n        .setOnTouchListener(new OnTouchListener() {\r\n                @Override\r\n                public boolean onTouch(View v, MotionEvent event) {\r\n                    Log.e(TAG, &quot;onTouch: &quot;);\r\n                    return false;\r\n                }\r\n            });\r\n\r\nThis however will trigger both when user touches the layout and again when they release as those are two seperate motion events.\r\n\r\nTo trigger only on one type of motion event you will need to examine the passed event.\r\n\r\n    getActivity()\r\n            .findViewById(R.id.parentLayout)\r\n            .setOnTouchListener(new OnTouchListener() {\r\n                    @Override\r\n                    public boolean onTouch(View v, MotionEvent event) {\r\n                        if (event.getAction() == MotionEvent.ACTION_UP) {\r\n                           Log.e(TAG, &quot;onTouch: &quot;);\r\n                        }\r\n                        return false;\r\n                    }\r\n                });\r\n\r\nIn this code the log will only occur when the user lifts their finger from the view as [ACTION_UP][2] is the event action for a user lifting their finger.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/View.OnTouchListener\r\n  [2]: https://developer.android.com/reference/android/view/MotionEvent.html#ACTION_UP","title":"I have LinearLayout over a button. Is there any way to handle underneath button click event?","body":"<p>Try this:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/parentLayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;Button\n        android:id=\"@+id/btnTest\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Android xml views are created like a stack where views lower in the xml file are rendered on top of those earlier in the file.</p>\n\n<p>It sounds like your linear layout is intercepting touch events preventing them from being propagated to the button underneath it.</p>\n\n<p>A way to check this is to set a background on the linear layout, you'll see that when it has a coloured background the button is not visible.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Since there is a requirement to allow touch events for both the button and the layout I'll extend my solution.</p>\n\n<p>OnClickListeners are the standard method for receiving tap events on android views. However lower down there are <a href=\"https://developer.android.com/reference/android/view/View.OnTouchListener\" rel=\"nofollow noreferrer\">OnTouchListeners</a> which handle raw touches on a view rather than click events.</p>\n\n<p>When the android screen is touched in any way the event is recorded and android will send an on touch event to the first view that touch event would encounter. OnTouchListeners return a boolean indicating whetehr they consumed the event. If they did not consume the event then it is propagated to the next view down in the hierarchy which the touch event would encounter.</p>\n\n<p>This is why your button's on click was originally never being registered as the layout was consuming the touch event and preventing it from being propagated to the button.</p>\n\n<p>This is the standard android behaviour, only one view will handle any single touch event.</p>\n\n<p>A decision to do otherwise is a sign that you should consider the design for your application and decide if this behaviour is definitely necessary.</p>\n\n<p>However, in case your circumstances are one of the rare ocassions I'll provide and example on touch listener.</p>\n\n<p><em>Please note, this on touch listener assumes that you are using the xml I posted above as well as he on click listener attached to the button in the original question.</em></p>\n\n<pre><code>getActivity()\n    .findViewById(R.id.parentLayout)\n    .setOnTouchListener(new OnTouchListener() {\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                Log.e(TAG, \"onTouch: \");\n                return false;\n            }\n        });\n</code></pre>\n\n<p>This however will trigger both when user touches the layout and again when they release as those are two seperate motion events.</p>\n\n<p>To trigger only on one type of motion event you will need to examine the passed event.</p>\n\n<pre><code>getActivity()\n        .findViewById(R.id.parentLayout)\n        .setOnTouchListener(new OnTouchListener() {\n                @Override\n                public boolean onTouch(View v, MotionEvent event) {\n                    if (event.getAction() == MotionEvent.ACTION_UP) {\n                       Log.e(TAG, \"onTouch: \");\n                    }\n                    return false;\n                }\n            });\n</code></pre>\n\n<p>In this code the log will only occur when the user lifts their finger from the view as <a href=\"https://developer.android.com/reference/android/view/MotionEvent.html#ACTION_UP\" rel=\"nofollow noreferrer\">ACTION_UP</a> is the event action for a user lifting their finger.</p>\n"},{"tags":[],"owner":{"account_id":15307538,"reputation":3,"user_id":11043754,"display_name":"Aarushi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568983044,"creation_date":1568983044,"answer_id":58028547,"question_id":58028175,"body_markdown":"The relative layout is same as Linear Layout which preserves the order of elements added inside it. \r\nyou added Button first and Linear Layout second thats why button has gone below the linear layout hence you are not able to click on it. \r\ntale the linear layout above the button view and you will see the button and do the remaing part by java coding\r\n","title":"I have LinearLayout over a button. Is there any way to handle underneath button click event?","body":"<p>The relative layout is same as Linear Layout which preserves the order of elements added inside it. \nyou added Button first and Linear Layout second thats why button has gone below the linear layout hence you are not able to click on it. \ntale the linear layout above the button view and you will see the button and do the remaing part by java coding</p>\n"},{"tags":[],"owner":{"account_id":27842140,"reputation":1,"user_id":21258415,"display_name":"Wail Smk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677517478,"creation_date":1677094745,"answer_id":75537432,"question_id":58028175,"body_markdown":"Add these lines to you linear layout:\r\n\r\n```\r\nandroid:clickable=&quot;false&quot;\r\nandroid:focusableInTouchMode=&quot;false&quot;\r\nandroid:focusable=&quot;false&quot;\r\n```","title":"I have LinearLayout over a button. Is there any way to handle underneath button click event?","body":"<p>Add these lines to you linear layout:</p>\n<pre><code>android:clickable=&quot;false&quot;\nandroid:focusableInTouchMode=&quot;false&quot;\nandroid:focusable=&quot;false&quot;\n</code></pre>\n"}],"owner":{"account_id":10641898,"reputation":182,"user_id":7836625,"display_name":"Ashish Virani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1677517478,"creation_date":1568981567,"question_id":58028175,"body_markdown":"i have one android activity xml and his xml inside make main RelativeLayout .that RelativeLayout inside add one Button and one linearlayout and i have clicking on button but not click ,because of that button overly linear layout\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnTest&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/parentLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n```\r\n\r\n``` \r\ngetActivity().findViewById(R.id.btnTest).setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Log.e(TAG, &quot;onClick: &quot;);\r\n            }\r\n        });\r\n```\r\n\r\n\r\nclick to print log.","title":"I have LinearLayout over a button. Is there any way to handle underneath button click event?","body":"<p>i have one android activity xml and his xml inside make main RelativeLayout .that RelativeLayout inside add one Button and one linearlayout and i have clicking on button but not click ,because of that button overly linear layout</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/btnTest\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" /&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/parentLayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/RelativeLayout&gt;\n\n</code></pre>\n\n<pre><code>getActivity().findViewById(R.id.btnTest).setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Log.e(TAG, \"onClick: \");\n            }\n        });\n</code></pre>\n\n<p>click to print log.</p>\n"},{"tags":["java","mysql-connector"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":1,"creation_date":1677514474,"post_id":75582832,"comment_id":133348269,"body_markdown":"Please post code instead of images of code.","body":"Please post code instead of images of code."},{"owner":{"account_id":22881048,"reputation":231,"user_id":17022635,"display_name":"siarhei987"},"score":1,"creation_date":1677516846,"post_id":75582832,"comment_id":133349061,"body_markdown":"*jbdc*:mysql://localhost - jdbc not jbdc","body":"<i>jbdc</i>:mysql://localhost - jdbc not jbdc"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1677519332,"post_id":75582832,"comment_id":133349830,"body_markdown":"I wonder why people still do that `Class.forName(...)`, its obsolete for 10 or 15 years or so.","body":"I wonder why people still do that <code>Class.forName(...)</code>, its obsolete for 10 or 15 years or so."},{"owner":{"account_id":27892325,"reputation":1,"user_id":21298421,"display_name":"kadir cali"},"score":0,"creation_date":1677519489,"post_id":75582832,"comment_id":133349883,"body_markdown":"Actually, I didn&#39;t do it in the first place. But when I saw people doing it, I wanted to try it.","body":"Actually, I didn&#39;t do it in the first place. But when I saw people doing it, I wanted to try it."}],"answers":[{"tags":[],"owner":{"account_id":27892529,"reputation":21,"user_id":21298588,"display_name":"user21298588"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677517020,"creation_date":1677514319,"answer_id":75582894,"question_id":75582832,"body_markdown":"I think the double slashes `//world` before your database name might be the issue. Change it to `/world`.","title":"No suitable driver found for JDBC Netbeans","body":"<p>I think the double slashes <code>//world</code> before your database name might be the issue. Change it to <code>/world</code>.</p>\n"}],"owner":{"account_id":27892325,"reputation":1,"user_id":21298421,"display_name":"kadir cali"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677517020,"creation_date":1677513957,"question_id":75582832,"body_markdown":"\r\n\r\nI just started learning java. I&#39;m trying to make a MySql connection with JDBC, but I get the error &quot;No suitable driver found&quot; even though I add the Connector file to the library.\r\n[here it is the image](https://i.stack.imgur.com/DZVXO.png)\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n\r\n    public class Main {\r\n    static String user =&quot;root&quot;;\r\n    static String password=&quot;12345&quot;;\r\n    static String url = &quot;jbdc:mysql://localhost:3306/world&quot;;\r\n        public static void main(String[] args) throws \r\n    ClassNotFoundException  {\r\n \r\n            Connection connection=null;\r\n        \r\n            try {\r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                connection=DriverManager.getConnection(url, user, \r\n    password);\r\n                System.out.println(&quot;baglanti basarili&quot;);\r\n            } catch (SQLException e) {\r\n                System.out.println(e);\r\n            }\r\n        }\r\n    }","title":"No suitable driver found for JDBC Netbeans","body":"<p>I just started learning java. I'm trying to make a MySql connection with JDBC, but I get the error &quot;No suitable driver found&quot; even though I add the Connector file to the library.\n<a href=\"https://i.stack.imgur.com/DZVXO.png\" rel=\"nofollow noreferrer\">here it is the image</a></p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n\npublic class Main {\nstatic String user =&quot;root&quot;;\nstatic String password=&quot;12345&quot;;\nstatic String url = &quot;jbdc:mysql://localhost:3306/world&quot;;\n    public static void main(String[] args) throws \nClassNotFoundException  {\n\n        Connection connection=null;\n    \n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            connection=DriverManager.getConnection(url, user, \npassword);\n            System.out.println(&quot;baglanti basarili&quot;);\n        } catch (SQLException e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","javafx"],"owner":{"account_id":24280390,"reputation":39,"user_id":18227003,"display_name":"Ponta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677517308,"answer_count":0,"score":0,"last_activity_date":1677516970,"creation_date":1677516970,"question_id":75583364,"body_markdown":"When I first create a new project using IntelliJ with JavaFX, I&#39;m given two prebuilt classes, `HelloApplication` and `HelloController`, stored inside a package named `com.example.demo`. Aswell as a fxml file named, `hello-view.fxml`, which is stored inside a directory named `com.example.demo` inside `recources` I can run those without a problem. But as I finished playing around with those,I then decided to delete the classes and the fxml file I was given to begin creating my own fxml files and classes. However, as soon as I did and then tried loading the fxml file /run the program I get this long error message. So I went back, let IntelliJ create another project for me. What I found was that I could always add new fxml files in the same directory as the one IntelliJ created for me. But as soon as I create a new directory inside the resoruce folder, add a `fxml` file, copy the code inside the `fxml` file which works and paste it inside the new `fxml` file inside the new directory, I get the same long error message. \r\n\r\n\r\nHere is the class from where I run to program:\r\n\r\n   \r\n\r\n    package com.example.demo;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;testing.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n            stage.setTitle(&quot;Hello!&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nand here is the fxml file which IntelliJ creates for me:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import java.lang.*?&gt;\r\n    &lt;?import java.util.*?&gt;\r\n    &lt;?import javafx.scene.*?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    \r\n    &lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\r\n                xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n                fx:controller=&quot;com.example.demo.HelloController&quot;\r\n                prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot;&gt;\r\n    \r\n    &lt;/AnchorPane&gt;\r\n\r\nhere is the long error message:\r\n\r\n    Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n    \tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n    \tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n    Caused by: java.lang.IllegalStateException: Location is not set.\r\n    \tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)\r\n    \tat javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\r\n    \tat com.example.demo/com.example.demo.HelloApplication.start(HelloApplication.java:14)\r\n    \tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n    \tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n    \tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n    \tat javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n    Exception running application com.example.demo.HelloApplication\r\n\r\nPlease let me know if any further information is needed in order to figure out the problem. I don&#39;t know what else to show, considering that I&#39;ve tried to keep everything the same between the different `fxml` files, to narrow down what could be wrong.","title":"JavaFX load fxml file issues","body":"<p>When I first create a new project using IntelliJ with JavaFX, I'm given two prebuilt classes, <code>HelloApplication</code> and <code>HelloController</code>, stored inside a package named <code>com.example.demo</code>. Aswell as a fxml file named, <code>hello-view.fxml</code>, which is stored inside a directory named <code>com.example.demo</code> inside <code>recources</code> I can run those without a problem. But as I finished playing around with those,I then decided to delete the classes and the fxml file I was given to begin creating my own fxml files and classes. However, as soon as I did and then tried loading the fxml file /run the program I get this long error message. So I went back, let IntelliJ create another project for me. What I found was that I could always add new fxml files in the same directory as the one IntelliJ created for me. But as soon as I create a new directory inside the resoruce folder, add a <code>fxml</code> file, copy the code inside the <code>fxml</code> file which works and paste it inside the new <code>fxml</code> file inside the new directory, I get the same long error message.</p>\n<p>Here is the class from where I run to program:</p>\n<pre><code>package com.example.demo;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;testing.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>and here is the fxml file which IntelliJ creates for me:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import java.util.*?&gt;\n&lt;?import javafx.scene.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\n            xmlns:fx=&quot;http://javafx.com/fxml&quot;\n            fx:controller=&quot;com.example.demo.HelloController&quot;\n            prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot;&gt;\n\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>here is the long error message:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.lang.IllegalStateException: Location is not set.\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\n    at com.example.demo/com.example.demo.HelloApplication.start(HelloApplication.java:14)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\nException running application com.example.demo.HelloApplication\n</code></pre>\n<p>Please let me know if any further information is needed in order to figure out the problem. I don't know what else to show, considering that I've tried to keep everything the same between the different <code>fxml</code> files, to narrow down what could be wrong.</p>\n"},{"tags":["java","tomcat8"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1527229371,"post_id":50522683,"comment_id":88057411,"body_markdown":"The first thing to ask is what changes have you made lately which would cause this error to appear?  Tomcat typically doesn&#39;t just &quot;break&quot; on its own; you did something to it (or to your project), and we need to know what that is.","body":"The first thing to ask is what changes have you made lately which would cause this error to appear?  Tomcat typically doesn&#39;t just &quot;break&quot; on its own; you did something to it (or to your project), and we need to know what that is."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1527229527,"post_id":50522683,"comment_id":88057484,"body_markdown":"*invalid LOC header (bad signature)*  Looks like you have a corrupted zip/jar/war in your tomcat directory","body":"<i>invalid LOC header (bad signature)</i>  Looks like you have a corrupted zip/jar/war in your tomcat directory"},{"owner":{"account_id":6712687,"reputation":171,"user_id":5175557,"accept_rate":60,"display_name":"Shubham Khare"},"score":0,"creation_date":1527229678,"post_id":50522683,"comment_id":88057542,"body_markdown":"I didn&#39;t modify any tomcat files. I was running the project as usual and I got this error. Finally I made fresh download but still I am getting this error. However If I do not deploy the project I am able to run tomcat independently. Also I am able to maven build the project without any errors.","body":"I didn&#39;t modify any tomcat files. I was running the project as usual and I got this error. Finally I made fresh download but still I am getting this error. However If I do not deploy the project I am able to run tomcat independently. Also I am able to maven build the project without any errors."}],"answers":[{"tags":[],"owner":{"account_id":1867473,"reputation":3093,"user_id":1690657,"accept_rate":90,"display_name":"Alex P."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1527244125,"creation_date":1527244125,"answer_id":50527122,"question_id":50522683,"body_markdown":"Somewhere in your project there is a corrupted library (jar), at least that&#39;s how it was with me. I deleted my local ***.m2/repository*** folder and downloaded all dependencies again. If you know exactly which jar is the problem then delete only that one from your local repository. Then build your project again and if dependencies are downloaded correctly your tomcat should be able to run again. \r\n\r\nAlso just to be sure nothing is cached, delete everything that is inside the ***/tomcat8/work/Catalina/localhost*** path. It&#39;s the working directory of tomcat and files that tomcat needs during run time are written there. I don&#39;t think it&#39;s affected, but it doesn&#39;t hurt either.","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]","body":"<p>Somewhere in your project there is a corrupted library (jar), at least that's how it was with me. I deleted my local <strong><em>.m2/repository</em></strong> folder and downloaded all dependencies again. If you know exactly which jar is the problem then delete only that one from your local repository. Then build your project again and if dependencies are downloaded correctly your tomcat should be able to run again. </p>\n\n<p>Also just to be sure nothing is cached, delete everything that is inside the <strong><em>/tomcat8/work/Catalina/localhost</em></strong> path. It's the working directory of tomcat and files that tomcat needs during run time are written there. I don't think it's affected, but it doesn't hurt either.</p>\n"},{"tags":[],"owner":{"account_id":15214588,"reputation":325,"user_id":10978300,"display_name":"Ankit Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571222755,"creation_date":1571220477,"answer_id":58410787,"question_id":50522683,"body_markdown":"One or two projects which you are adding to the tomcat may be corrupted. In order to fix it all you need to do is.\r\n\r\n1. deleted the project from eclipse\r\n2. go the project folder of your&#39;s and deleted .settings and .classpath file from the project.\r\n3. Re-import the project in eclipse and then build\r\n\r\nThis will definitely solve your problem","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]","body":"<p>One or two projects which you are adding to the tomcat may be corrupted. In order to fix it all you need to do is.</p>\n\n<ol>\n<li>deleted the project from eclipse</li>\n<li>go the project folder of your's and deleted .settings and .classpath file from the project.</li>\n<li>Re-import the project in eclipse and then build</li>\n</ol>\n\n<p>This will definitely solve your problem</p>\n"},{"tags":[],"owner":{"account_id":4457148,"reputation":861,"user_id":3627023,"accept_rate":43,"display_name":"dozer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628663085,"creation_date":1628663085,"answer_id":68736953,"question_id":50522683,"body_markdown":"I had this issue on Eclipse\r\n\r\nRight click on project, select Maven --&gt; Update Project --&gt; \r\nCheck Update project configurations, refresh workspace resources, clean projects and also &quot;Forced Update of Snapshots/Releases&quot;. The last bit was also important for tomcat to work.","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]","body":"<p>I had this issue on Eclipse</p>\n<p>Right click on project, select Maven --&gt; Update Project --&gt;\nCheck Update project configurations, refresh workspace resources, clean projects and also &quot;Forced Update of Snapshots/Releases&quot;. The last bit was also important for tomcat to work.</p>\n"},{"tags":[],"owner":{"account_id":27892848,"reputation":1,"user_id":21298838,"display_name":"user21298838"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677516717,"creation_date":1677516717,"answer_id":75583323,"question_id":50522683,"body_markdown":"Actually for my case it is working if I maintain the folder structure as below. initially I was missing with Java Resources and then I have created and put my package under Java Resources. then it worked fine for me.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kp5f7.png","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]","body":"<p>Actually for my case it is working if I maintain the folder structure as below. initially I was missing with Java Resources and then I have created and put my package under Java Resources. then it worked fine for me.\n<a href=\"https://i.stack.imgur.com/kp5f7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":6712687,"reputation":171,"user_id":5175557,"accept_rate":60,"display_name":"Shubham Khare"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21875,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":50527122,"answer_count":4,"score":3,"last_activity_date":1677516717,"creation_date":1527229172,"question_id":50522683,"body_markdown":"The project was smoothly running suddenly I got this error in console log. I am using Tomcat version 8.0.35. I have tried everything from clean build to updating the project. I know there are already problems that are solved but none of the solutions worked for me.\r\n\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/eASI]]\r\n    \tat java.util.concurrent.FutureTask.report(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.get(Unknown Source)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:941)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/eASI]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \t... 6 more\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@4ee2dba7]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \tat org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4907)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5042)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 6 more\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to initialize component [org.apache.catalina.webresources.JarResourceSet@ba0af7c]\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:112)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140)\r\n    \tat org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:724)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 9 more\r\n    Caused by: java.lang.IllegalArgumentException: java.util.zip.ZipException: invalid LOC header (bad signature)\r\n    \tat org.apache.catalina.webresources.AbstractSingleArchiveResourceSet.initInternal(AbstractSingleArchiveResourceSet.java:142)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n    \t... 12 more\r\n    Caused by: java.util.zip.ZipException: invalid LOC header (bad signature)\r\n    \tat java.util.zip.ZipFile.read(Native Method)\r\n    \tat java.util.zip.ZipFile.access$1400(Unknown Source)\r\n    \tat java.util.zip.ZipFile$ZipFileInputStream.read(Unknown Source)\r\n    \tat java.util.zip.ZipFile$ZipFileInflaterInputStream.fill(Unknown Source)\r\n    \tat java.util.zip.InflaterInputStream.read(Unknown Source)\r\n    \tat sun.misc.IOUtils.readFully(Unknown Source)\r\n    \tat java.util.jar.JarFile.getBytes(Unknown Source)\r\n    \tat java.util.jar.JarFile.getManifestFromReference(Unknown Source)\r\n    \tat java.util.jar.JarFile.getManifest(Unknown Source)\r\n    \tat org.apache.catalina.webresources.AbstractSingleArchiveResourceSet.initInternal(AbstractSingleArchiveResourceSet.java:140)\r\n    \t... 13 more\r\n    \r\n    May 25, 2018 11:02:04 AM org.apache.catalina.core.ContainerBase startInternal\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n    \tat java.util.concurrent.FutureTask.report(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.get(Unknown Source)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:941)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:681)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:949)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 6 more\r\n    \r\n    May 25, 2018 11:02:04 AM org.apache.catalina.startup.Catalina start\r\n    SEVERE: The required Server component failed to start so Tomcat is unable to start.\r\n    org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:681)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 7 more\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 9 more\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:949)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 11 more\r\n\r\nPlease advice me what to do? Also I have searched everywhere in the pom file and other dependencies are also been generated.","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]","body":"<p>The project was smoothly running suddenly I got this error in console log. I am using Tomcat version 8.0.35. I have tried everything from clean build to updating the project. I know there are already problems that are solved but none of the solutions worked for me.</p>\n\n<pre><code>java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/eASI]]\n    at java.util.concurrent.FutureTask.report(Unknown Source)\n    at java.util.concurrent.FutureTask.get(Unknown Source)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:941)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/eASI]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    ... 6 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@4ee2dba7]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4907)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5042)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 6 more\nCaused by: org.apache.catalina.LifecycleException: Failed to initialize component [org.apache.catalina.webresources.JarResourceSet@ba0af7c]\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:112)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140)\n    at org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:724)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 9 more\nCaused by: java.lang.IllegalArgumentException: java.util.zip.ZipException: invalid LOC header (bad signature)\n    at org.apache.catalina.webresources.AbstractSingleArchiveResourceSet.initInternal(AbstractSingleArchiveResourceSet.java:142)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n    ... 12 more\nCaused by: java.util.zip.ZipException: invalid LOC header (bad signature)\n    at java.util.zip.ZipFile.read(Native Method)\n    at java.util.zip.ZipFile.access$1400(Unknown Source)\n    at java.util.zip.ZipFile$ZipFileInputStream.read(Unknown Source)\n    at java.util.zip.ZipFile$ZipFileInflaterInputStream.fill(Unknown Source)\n    at java.util.zip.InflaterInputStream.read(Unknown Source)\n    at sun.misc.IOUtils.readFully(Unknown Source)\n    at java.util.jar.JarFile.getBytes(Unknown Source)\n    at java.util.jar.JarFile.getManifestFromReference(Unknown Source)\n    at java.util.jar.JarFile.getManifest(Unknown Source)\n    at org.apache.catalina.webresources.AbstractSingleArchiveResourceSet.initInternal(AbstractSingleArchiveResourceSet.java:140)\n    ... 13 more\n\nMay 25, 2018 11:02:04 AM org.apache.catalina.core.ContainerBase startInternal\nSEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n    at java.util.concurrent.FutureTask.report(Unknown Source)\n    at java.util.concurrent.FutureTask.get(Unknown Source)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:941)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:681)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:949)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 6 more\n\nMay 25, 2018 11:02:04 AM org.apache.catalina.startup.Catalina start\nSEVERE: The required Server component failed to start so Tomcat is unable to start.\norg.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:681)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 7 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 9 more\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:949)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 11 more\n</code></pre>\n\n<p>Please advice me what to do? Also I have searched everywhere in the pom file and other dependencies are also been generated.</p>\n"},{"tags":["java","lib"],"comments":[{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1677515755,"post_id":75583128,"comment_id":133348698,"body_markdown":"Your `java` version not compatible to project gradle file I guess.","body":"Your <code>java</code> version not compatible to project gradle file I guess."},{"owner":{"account_id":22881048,"reputation":231,"user_id":17022635,"display_name":"siarhei987"},"score":0,"creation_date":1677516604,"post_id":75583128,"comment_id":133348986,"body_markdown":"From [List of Java class file format major version](https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers) 63 is for Java 19 and according to [Gradle Compatibility Matrix](https://docs.gradle.org/current/userguide/compatibility.html) the 19th is supported from Gradle 7.6, but your version is 7.5.1","body":"From <a href=\"https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\">List of Java class file format major version</a> 63 is for Java 19 and according to <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">Gradle Compatibility Matrix</a> the 19th is supported from Gradle 7.6, but your version is 7.5.1"},{"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"score":0,"creation_date":1677517918,"post_id":75583128,"comment_id":133349403,"body_markdown":"Be aware that you will get warnings (and potential runtime issues) about unsupported JNI if you use Java 19 with libGDX 1.11.","body":"Be aware that you will get warnings (and potential runtime issues) about unsupported JNI if you use Java 19 with libGDX 1.11."}],"owner":{"account_id":23198917,"reputation":17,"user_id":18440644,"display_name":"Richard Coterie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677515599,"creation_date":1677515599,"question_id":75583128,"body_markdown":"```\r\n* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;/Users / richard / Desktop/Eclipse_WorkSpace/settings.\r\ngradle&#39; (/Users / richard / gradle/ caches / 7.5.1/scripts /dn611r5pg3bcsc902xue6326v).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit BuildScript_&#39; Unsupported class file major version 63\r\n```\r\nI also try deleting the error file and rebuild itself but it still doesn&#39;t work\r\n\r\n","title":"libGDX cannot successfully generate project for java project","body":"<pre><code>* What went wrong:\nCould not open settings generic class cache for settings file '/Users / richard / Desktop/Eclipse_WorkSpace/settings.\ngradle' (/Users / richard / gradle/ caches / 7.5.1/scripts /dn611r5pg3bcsc902xue6326v).\n&gt; BUG! exception in phase 'semantic analysis' in source unit BuildScript_' Unsupported class file major version 63\n</code></pre>\n<p>I also try deleting the error file and rebuild itself but it still doesn't work</p>\n"},{"tags":["java","spring","spring-boot","mybatis","spring-mybatis"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":2,"creation_date":1677495593,"post_id":75579569,"comment_id":133342298,"body_markdown":"life hack - dont start your transactions in controllers but rather in services.","body":"life hack - dont start your transactions in controllers but rather in services."}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677496108,"creation_date":1677495669,"answer_id":75579611,"question_id":75579569,"body_markdown":"`HttpMessageConversionException` happens outside of your controller method (inside spring MVC guts but after handler method) as whatever your method returns, cannot be serialized to a requested form. Therfore, transaction is started, commited and then exception is thrown.\r\n\r\nWhen you throw exception &quot;manually&quot; it is done from withing the method causing TX to be rolled back as expected. ","title":"Spring boot @Transactional does not work when org.springframework.http.converter.HttpMessageConversionException is thrown?","body":"<p><code>HttpMessageConversionException</code> happens outside of your controller method (inside spring MVC guts but after handler method) as whatever your method returns, cannot be serialized to a requested form. Therfore, transaction is started, commited and then exception is thrown.</p>\n<p>When you throw exception &quot;manually&quot; it is done from withing the method causing TX to be rolled back as expected.</p>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677498469,"creation_date":1677498469,"answer_id":75580084,"question_id":75579569,"body_markdown":"The transaction is not rolled back because *createUser()* is executed successfully and the exception is thrown later when Jackson tries to serialize your Response to json. You can double-check this by creating a unit-test and directly call the *createUser* method from the controller, without the web layer.\r\n\r\n\r\nThe exception is thrown because your Response does not expose any data (or it does not contain any). For instance, if you run this simple unit test you will get the same exception:\r\n\r\n    @Test\r\n\tvoid test() throws Exception {\r\n\t\tvar bean = new MyObject(123);\r\n\t\tvar mapper = new ObjectMapper();\r\n        // will throw the same exception\r\n        System.out.println(mapper.writeValueAsString(bean)); \r\n    }\r\n\r\n\tclass MyObject {\r\n\t\tprivate int value;\r\n\r\n\t\tpublic MyObject(int value) {\r\n\t\t\tthis.value = value;\r\n\t\t}\r\n\t}\r\n\r\nThough, if you add a getter to the MyObject class and re-run the test, this time it will pass.","title":"Spring boot @Transactional does not work when org.springframework.http.converter.HttpMessageConversionException is thrown?","body":"<p>The transaction is not rolled back because <em>createUser()</em> is executed successfully and the exception is thrown later when Jackson tries to serialize your Response to json. You can double-check this by creating a unit-test and directly call the <em>createUser</em> method from the controller, without the web layer.</p>\n<p>The exception is thrown because your Response does not expose any data (or it does not contain any). For instance, if you run this simple unit test you will get the same exception:</p>\n<pre><code>@Test\nvoid test() throws Exception {\n    var bean = new MyObject(123);\n    var mapper = new ObjectMapper();\n    // will throw the same exception\n    System.out.println(mapper.writeValueAsString(bean)); \n}\n\nclass MyObject {\n    private int value;\n\n    public MyObject(int value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<p>Though, if you add a getter to the MyObject class and re-run the test, this time it will pass.</p>\n"}],"owner":{"account_id":9160569,"reputation":61,"user_id":6812019,"display_name":"Jayesslee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75579611,"answer_count":2,"score":0,"last_activity_date":1677515483,"creation_date":1677495464,"question_id":75579569,"body_markdown":"I have a rest controller, it will insert 1 record per request,like:\r\n\r\n```lang-java\r\n\r\n@Transactional(rollbackFor = Exception.class)\r\n@PostMapping(&quot;/create_user&quot;)\r\npublic Response&lt;Empty&gt; createUser(@RequestBody Request&lt;CreateUserRequest&gt; body) {\r\n    String openId = body.getData().getOpenId();\r\n    String phoneNumber = body.getData().getPhoneNumber();\r\n    weChatMapper.createWechatUser(WechatUser.builder()\r\n            .openId(openId)\r\n            .phoneNumber(phoneNumber)\r\n            .build());\r\n    return Response.of();\r\n}\r\n```\r\n\r\nThen when i call it , throws ```org.springframework.http.converter.HttpMessageConversionException```, seems that somthing goes wrong when serializing the response.Then i check database, i find that 1 record has been inserted, not rolling back.\r\nThen i add a exception throwing code before returning, like:\r\n```lang-java\r\n@Transactional(rollbackFor = Exception.class)\r\n@PostMapping(&quot;/create_user&quot;)\r\npublic Response&lt;Empty&gt; createUser(@RequestBody Request&lt;CreateUserRequest&gt; body) {\r\n    String openId = body.getData().getOpenId();\r\n    String phoneNumber = body.getData().getPhoneNumber();\r\n    weChatMapper.createWechatUser(WechatUser.builder()\r\n            .openId(openId)\r\n            .phoneNumber(phoneNumber)\r\n            .build());\r\n    if (true) {\r\n        throw new IllegalArgumentException(&quot;my test exception&quot;);\r\n    }\r\n    return Response.of();\r\n }\r\n```\r\n\r\nCall again, the record is not inserted, roll back as expected.But why...? It&#39;s very strange.How to make it roll back at this kind of situation?\r\n\r\nThe complete trace:\r\n&lt;pre&gt;\r\n2023-02-27 18:42:36.100 ERROR 36244 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class com.digiwin.vssmp_backend.entity.Empty]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.digiwin.vssmp_backend.entity.Empty and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.digiwin.vssmp_backend.dto.response.Response[&quot;data&quot;])] with root cause\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.digiwin.vssmp_backend.entity.Empty and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.digiwin.vssmp_backend.dto.response.Response[&quot;data&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:46) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat java.lang.Thread.run(Thread.java:750) [na:1.8.0_332]\r\n\r\n&lt;/pre&gt;\r\n","title":"Spring boot @Transactional does not work when org.springframework.http.converter.HttpMessageConversionException is thrown?","body":"<p>I have a rest controller, it will insert 1 record per request,like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Transactional(rollbackFor = Exception.class)\n@PostMapping(&quot;/create_user&quot;)\npublic Response&lt;Empty&gt; createUser(@RequestBody Request&lt;CreateUserRequest&gt; body) {\n    String openId = body.getData().getOpenId();\n    String phoneNumber = body.getData().getPhoneNumber();\n    weChatMapper.createWechatUser(WechatUser.builder()\n            .openId(openId)\n            .phoneNumber(phoneNumber)\n            .build());\n    return Response.of();\n}\n</code></pre>\n<p>Then when i call it , throws <code>org.springframework.http.converter.HttpMessageConversionException</code>, seems that somthing goes wrong when serializing the response.Then i check database, i find that 1 record has been inserted, not rolling back.\nThen i add a exception throwing code before returning, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(rollbackFor = Exception.class)\n@PostMapping(&quot;/create_user&quot;)\npublic Response&lt;Empty&gt; createUser(@RequestBody Request&lt;CreateUserRequest&gt; body) {\n    String openId = body.getData().getOpenId();\n    String phoneNumber = body.getData().getPhoneNumber();\n    weChatMapper.createWechatUser(WechatUser.builder()\n            .openId(openId)\n            .phoneNumber(phoneNumber)\n            .build());\n    if (true) {\n        throw new IllegalArgumentException(&quot;my test exception&quot;);\n    }\n    return Response.of();\n }\n</code></pre>\n<p>Call again, the record is not inserted, roll back as expected.But why...? It's very strange.How to make it roll back at this kind of situation?</p>\n<p>The complete trace:</p>\n<pre>\n2023-02-27 18:42:36.100 ERROR 36244 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class com.digiwin.vssmp_backend.entity.Empty]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.digiwin.vssmp_backend.entity.Empty and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.digiwin.vssmp_backend.dto.response.Response[\"data\"])] with root cause\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.digiwin.vssmp_backend.entity.Empty and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.digiwin.vssmp_backend.dto.response.Response[\"data\"])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:46) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at java.lang.Thread.run(Thread.java:750) [na:1.8.0_332]\n\n</pre>\n"},{"tags":["java","android","webp","vp8","riff"],"answers":[{"tags":[],"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672859578,"creation_date":1672859578,"answer_id":75010193,"question_id":74993962,"body_markdown":"Found out the solution by examining more.\r\nreading ALPH:\r\nWe need to store the alpha data (Alpha BitStream) somewhere so that we can use that while writing the frames.\r\nwriting ANMF:\r\nwhile writing ANMF, after writing ANMF metadata we need to write the ALPH header &gt; BitStream length &gt; BitStream respectively. Also we must add this length to ANMF chunk size. The ALPH chunk must be written before VP8/VP8L chunk.\r\n\r\n```java\r\nprivate void writeAnmf(WebpChunk chunk) throws IOException {\r\n\t\twrite(new byte[] { &#39;A&#39;, &#39;N&#39;, &#39;M&#39;, &#39;F&#39; });\r\n\r\n\t\tint alphSize = 0;\r\n\t\tif(chunk.alphaData != null){\r\n\t\t\talphSize = 8+chunk.alphaData.length;\r\n\t\t}\r\n\r\n\t\twriteUInt32(chunk.payload.length + 24 + alphSize);\r\n\r\n\t\twriteUInt24(chunk.x); // 3 bytes (3)\r\n\t\twriteUInt24(chunk.y); // 3 bytes (6)\r\n\t\twriteUInt24(chunk.width); // 3 bytes (9)\r\n\t\twriteUInt24(chunk.height); // 3 bytes (12)\r\n\t\twriteUInt24(chunk.duration); // 3 bytes (15)\r\n\r\n\t\tBitSet bs = new BitSet(8);\r\n\t\tbs.set(0, true);\r\n\t\tbs.set(1, chunk.disposeToBackgroundColor);\r\n\t\twrite(bitSetToBytes(bs, 1)); // 1 byte (16)\r\n\r\n\t\tif (chunk.alphaData != null){\r\n\t\t\twrite(new byte[] { &#39;A&#39;, &#39;L&#39;, &#39;P&#39;, &#39;H&#39; }); // 4\r\n\t\t\twriteUInt32(chunk.alphaData.length); // 4\r\n\t\t\twrite(chunk.alphaData);\r\n\t\t\tLog.e(&quot;WebpDemo&quot;,&quot;ALPH &quot;);\r\n\t\t}\r\n\r\n\r\n\t\tif (chunk.isLossless)\r\n\t\t\twrite(new byte[] { &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39;L&#39; }); // 4 bytes (20)\r\n\t\telse\r\n\t\t\twrite(new byte[] { &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39; &#39; });\r\n\r\n\t\twriteUInt32(chunk.payload.length); // 4 bytes (24)\r\n\t\twrite(chunk.payload);\r\n\r\n\r\n\t}\r\n```","title":"How to read and write VP8L and ALPH chunks of Webp images","body":"<p>Found out the solution by examining more.\nreading ALPH:\nWe need to store the alpha data (Alpha BitStream) somewhere so that we can use that while writing the frames.\nwriting ANMF:\nwhile writing ANMF, after writing ANMF metadata we need to write the ALPH header &gt; BitStream length &gt; BitStream respectively. Also we must add this length to ANMF chunk size. The ALPH chunk must be written before VP8/VP8L chunk.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void writeAnmf(WebpChunk chunk) throws IOException {\n        write(new byte[] { 'A', 'N', 'M', 'F' });\n\n        int alphSize = 0;\n        if(chunk.alphaData != null){\n            alphSize = 8+chunk.alphaData.length;\n        }\n\n        writeUInt32(chunk.payload.length + 24 + alphSize);\n\n        writeUInt24(chunk.x); // 3 bytes (3)\n        writeUInt24(chunk.y); // 3 bytes (6)\n        writeUInt24(chunk.width); // 3 bytes (9)\n        writeUInt24(chunk.height); // 3 bytes (12)\n        writeUInt24(chunk.duration); // 3 bytes (15)\n\n        BitSet bs = new BitSet(8);\n        bs.set(0, true);\n        bs.set(1, chunk.disposeToBackgroundColor);\n        write(bitSetToBytes(bs, 1)); // 1 byte (16)\n\n        if (chunk.alphaData != null){\n            write(new byte[] { 'A', 'L', 'P', 'H' }); // 4\n            writeUInt32(chunk.alphaData.length); // 4\n            write(chunk.alphaData);\n            Log.e(&quot;WebpDemo&quot;,&quot;ALPH &quot;);\n        }\n\n\n        if (chunk.isLossless)\n            write(new byte[] { 'V', 'P', '8', 'L' }); // 4 bytes (20)\n        else\n            write(new byte[] { 'V', 'P', '8', ' ' });\n\n        writeUInt32(chunk.payload.length); // 4 bytes (24)\n        write(chunk.payload);\n\n\n    }\n</code></pre>\n"}],"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75010193,"answer_count":1,"score":1,"last_activity_date":1677515293,"creation_date":1672752231,"question_id":74993962,"body_markdown":"I am trying [these classes][1] written in pure java code which used for encode the animated WEBP from list of static images. It is based on [Google&#39;s Webp container specification][2].\r\nI tried to modify the codes to fix some errors. Now \r\n\r\nProblem: If image contains VP8L then encoder does not produce valid animated WEBP image (its blank image with 2.5MB size, Supplying 2 images with size of input images).\r\nIf I set the quality while compressing WEBP to below 100 and then it read chunks as RIFF-WEBP-VP8X-ICCP-ALPH-VP8 in sequence. It creates an animated images with solid black background. It drops the transparent background data maybe, but it animates through each frame.\r\n\r\nCode for writing ANMF chunk:\r\n```java\r\n// ANMF chunk\r\nprivate void writeAnmf(WebpChunk chunk) throws IOException {\r\n\r\n   write(new byte[] { &#39;A&#39;, &#39;N&#39;, &#39;M&#39;, &#39;F&#39; });\r\n   writeUInt32(chunk.payload.length + 24);\r\n\r\n   writeUInt24(chunk.x); // 3 bytes (3)\r\n   writeUInt24(chunk.y); // 3 bytes (6)\r\n   writeUInt24(chunk.width); // 3 bytes (9)\r\n   writeUInt24(chunk.height); // 3 bytes (12)\r\n   writeUInt24(chunk.duration); // 3 bytes (15)\r\n\r\n   BitSet bs = new BitSet(6);\r\n   bs.set(1, chunk.useAlphaBlending);\r\n   bs.set(0, chunk.disposeToBackgroundColor);\r\n   write(bitSetToBytes(bs, 1)); // 1 byte (16)\r\n\r\n\r\n   if (chunk.isLossless) {\r\n      write(new byte[] { &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39;L&#39; }); // 4 bytes (20)\r\n      Log.d(Tag,&quot;writting vp8l ; isLossLess&quot;);\r\n   } else {\r\n      Log.d(Tag,&quot;writting vp8 ; Lossy&quot;);\r\n      write(new byte[] { &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39; &#39; });\r\n   }\r\n   writeUInt32(chunk.payload.length-16h); // 4 bytes (24)\r\n   write(chunk.payload);\r\n\r\n}\r\n// ANIM chunk\r\nprivate WebpChunk readVp8x() throws IOException {\r\n\t\tint chunkSize = readUInt32();\r\n\t\tif (chunkSize != 10)\r\n\t\t\tthrow new IOException(&quot;Expected 10 bytes for VP8X.&quot;);\r\n\r\n\t\tWebpChunk chunk = new WebpChunk(WebpChunkType.VP8X);\r\n\r\n\t\tbyte[] flags = new byte[4];\r\n\t\tread(flags, 4);\r\n\t\tBitSet bs = BitSet.valueOf(flags);\r\n\r\n\t\tchunk.hasIccp = bs.get(0);\r\n\t\tchunk.hasAnim = bs.get(1);\r\n\t\tchunk.hasExif = bs.get(2);\r\n\t\tchunk.hasXmp = bs.get(3);\r\n\t\tchunk.hasAlpha = bs.get(4);\r\n\r\n\t\tchunk.width = readUInt24();\r\n\t\tchunk.height = readUInt24();\r\n\r\n\t\tdebug(String.format(&quot;VP8X: size = %dx%d&quot;, chunk.width, chunk.height));\r\n\t\treturn chunk;\r\n\t}\r\n```\r\n\r\nCode for reading VP8L chunk:\r\n```java\r\n\tprivate WebpChunk readVp8l() throws IOException {\r\n\t\tLog.d(Tag,&quot;readVp8l() body &quot;);\r\n\t\tint chunkSize = readUInt32();\r\n\r\n\t\tWebpChunk chunk = new WebpChunk(WebpChunkType.VP8L);\r\n\t\tchunk.isLossless = true;\r\n\t\tchunk.payload = readPayload(chunkSize);\r\n\r\n\t\tdebug(String.format(&quot;VP8L: bytes = %d&quot;, chunkSize));\r\n\t\treturn chunk;\r\n\t}\r\n```\r\nfunction for writing bytes to output stream \r\n```java\r\n\tprivate void write(byte[] bytes, int length) throws IOException {\r\n\t\t_outputStream.write(bytes, length);\r\n\t\t_offset += length;\r\n\t}\r\n```\r\nIt read chunks as \r\nRIFF[size]WEBP -&gt; VP8X - ICCP - ALPH - VP8L and writing as \r\nRIFF[size]WEBP -&gt; VP8X - ANIM - ANMF (for first frame) and then ANMF for rest of frames.\r\nwhat is going wrong with these codes? \r\n\r\n  [1]: https://github.com/b4rtaz/android-webp-encoder/tree/master/app/src/main/java/com/n4no/webpencoder/webp\r\n  [2]: https://developers.google.com/speed/webp/docs/riff_container","title":"How to read and write VP8L and ALPH chunks of Webp images","body":"<p>I am trying <a href=\"https://github.com/b4rtaz/android-webp-encoder/tree/master/app/src/main/java/com/n4no/webpencoder/webp\" rel=\"nofollow noreferrer\">these classes</a> written in pure java code which used for encode the animated WEBP from list of static images. It is based on <a href=\"https://developers.google.com/speed/webp/docs/riff_container\" rel=\"nofollow noreferrer\">Google's Webp container specification</a>.\nI tried to modify the codes to fix some errors. Now</p>\n<p>Problem: If image contains VP8L then encoder does not produce valid animated WEBP image (its blank image with 2.5MB size, Supplying 2 images with size of input images).\nIf I set the quality while compressing WEBP to below 100 and then it read chunks as RIFF-WEBP-VP8X-ICCP-ALPH-VP8 in sequence. It creates an animated images with solid black background. It drops the transparent background data maybe, but it animates through each frame.</p>\n<p>Code for writing ANMF chunk:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ANMF chunk\nprivate void writeAnmf(WebpChunk chunk) throws IOException {\n\n   write(new byte[] { 'A', 'N', 'M', 'F' });\n   writeUInt32(chunk.payload.length + 24);\n\n   writeUInt24(chunk.x); // 3 bytes (3)\n   writeUInt24(chunk.y); // 3 bytes (6)\n   writeUInt24(chunk.width); // 3 bytes (9)\n   writeUInt24(chunk.height); // 3 bytes (12)\n   writeUInt24(chunk.duration); // 3 bytes (15)\n\n   BitSet bs = new BitSet(6);\n   bs.set(1, chunk.useAlphaBlending);\n   bs.set(0, chunk.disposeToBackgroundColor);\n   write(bitSetToBytes(bs, 1)); // 1 byte (16)\n\n\n   if (chunk.isLossless) {\n      write(new byte[] { 'V', 'P', '8', 'L' }); // 4 bytes (20)\n      Log.d(Tag,&quot;writting vp8l ; isLossLess&quot;);\n   } else {\n      Log.d(Tag,&quot;writting vp8 ; Lossy&quot;);\n      write(new byte[] { 'V', 'P', '8', ' ' });\n   }\n   writeUInt32(chunk.payload.length-16h); // 4 bytes (24)\n   write(chunk.payload);\n\n}\n// ANIM chunk\nprivate WebpChunk readVp8x() throws IOException {\n        int chunkSize = readUInt32();\n        if (chunkSize != 10)\n            throw new IOException(&quot;Expected 10 bytes for VP8X.&quot;);\n\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8X);\n\n        byte[] flags = new byte[4];\n        read(flags, 4);\n        BitSet bs = BitSet.valueOf(flags);\n\n        chunk.hasIccp = bs.get(0);\n        chunk.hasAnim = bs.get(1);\n        chunk.hasExif = bs.get(2);\n        chunk.hasXmp = bs.get(3);\n        chunk.hasAlpha = bs.get(4);\n\n        chunk.width = readUInt24();\n        chunk.height = readUInt24();\n\n        debug(String.format(&quot;VP8X: size = %dx%d&quot;, chunk.width, chunk.height));\n        return chunk;\n    }\n</code></pre>\n<p>Code for reading VP8L chunk:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private WebpChunk readVp8l() throws IOException {\n        Log.d(Tag,&quot;readVp8l() body &quot;);\n        int chunkSize = readUInt32();\n\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8L);\n        chunk.isLossless = true;\n        chunk.payload = readPayload(chunkSize);\n\n        debug(String.format(&quot;VP8L: bytes = %d&quot;, chunkSize));\n        return chunk;\n    }\n</code></pre>\n<p>function for writing bytes to output stream</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void write(byte[] bytes, int length) throws IOException {\n        _outputStream.write(bytes, length);\n        _offset += length;\n    }\n</code></pre>\n<p>It read chunks as\nRIFF[size]WEBP -&gt; VP8X - ICCP - ALPH - VP8L and writing as\nRIFF[size]WEBP -&gt; VP8X - ANIM - ANMF (for first frame) and then ANMF for rest of frames.\nwhat is going wrong with these codes?</p>\n"},{"tags":["java","postgresql","java-time","java-15"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":7,"creation_date":1609932669,"post_id":65594874,"comment_id":115973586,"body_markdown":"As is, the best possible answer is &quot;your tests are flawed, fix &#39;em&quot; - maybe share some snippets of code to explain what you want to test","body":"As is, the best possible answer is &quot;your tests are flawed, fix &#39;em&quot; - maybe share some snippets of code to explain what you want to test"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":25,"creation_date":1609932709,"post_id":65594874,"comment_id":115973604,"body_markdown":"Truncating `Instant` using `Instant.truncatedTo` *is* the elegant solution. Making assumptions about precision that are not guaranteed by the documentation is the wrong approach.","body":"Truncating <code>Instant</code> using <code>Instant.truncatedTo</code> <i>is</i> the elegant solution. Making assumptions about precision that are not guaranteed by the documentation is the wrong approach."},{"owner":{"account_id":8180577,"reputation":1584,"user_id":6157949,"accept_rate":85,"display_name":"catch22"},"score":2,"creation_date":1609999256,"post_id":65594874,"comment_id":115996134,"body_markdown":"@ErwinBolwidt , you might be right but for a grown project this solution is painful and doesn&#39;t seem to marry with the &quot;backwards compatibility&quot; motto by Java.","body":"@ErwinBolwidt , you might be right but for a grown project this solution is painful and doesn&#39;t seem to marry with the &quot;backwards compatibility&quot; motto by Java."},{"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"score":4,"creation_date":1610228734,"post_id":65594874,"comment_id":116068329,"body_markdown":"@catch22 I disagree with you. &quot;backwards compatibility&quot; refers only to things which are guaranteed by the documentation. There was no guaraantee about that before. Any improvement has the risk to break someone&#39;s code.","body":"@catch22 I disagree with you. &quot;backwards compatibility&quot; refers only to things which are guaranteed by the documentation. There was no guaraantee about that before. Any improvement has the risk to break someone&#39;s code."},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":1,"creation_date":1611083334,"post_id":65594874,"comment_id":116334915,"body_markdown":"[Obligatory XKCD](https://xkcd.com/1172/). Otherwise I agree wit @DorianGray - truncating `Instant` appears to be the correct solution. Maybe you can find a good way (with something like [IntelliJ structural search and replace](https://www.jetbrains.com/help/idea/structural-search-and-replace.html) to automatically put the `truncateTo` call into your assertions.","body":"<a href=\"https://xkcd.com/1172/\" rel=\"nofollow noreferrer\">Obligatory XKCD</a>. Otherwise I agree wit @DorianGray - truncating <code>Instant</code> appears to be the correct solution. Maybe you can find a good way (with something like <a href=\"https://www.jetbrains.com/help/idea/structural-search-and-replace.html\" rel=\"nofollow noreferrer\">IntelliJ structural search and replace</a> to automatically put the <code>truncateTo</code> call into your assertions."},{"owner":{"account_id":262115,"reputation":712,"user_id":546757,"accept_rate":40,"display_name":"Alan Cabrera"},"score":1,"creation_date":1677426200,"post_id":65594874,"comment_id":133331293,"body_markdown":"Truncating `Instant` using `Instant.truncatedTo()` is one solution, although not a robust one since it relies on the earnest effort of every engineer.  For us, nanoseconds sneak in when using `Instant.now()` or `Clock.instant()`.  We have no need for nanoseconds and intend to standardize on using a custom `Clock` that truncates to microseconds and we have a CI quality gate that prohibits the use of `Instant.now()`.","body":"Truncating <code>Instant</code> using <code>Instant.truncatedTo()</code> is one solution, although not a robust one since it relies on the earnest effort of every engineer.  For us, nanoseconds sneak in when using <code>Instant.now()</code> or <code>Clock.instant()</code>.  We have no need for nanoseconds and intend to standardize on using a custom <code>Clock</code> that truncates to microseconds and we have a CI quality gate that prohibits the use of <code>Instant.now()</code>."}],"owner":{"account_id":8180577,"reputation":1584,"user_id":6157949,"accept_rate":85,"display_name":"catch22"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2170,"favorite_count":0,"down_vote_count":4,"up_vote_count":19,"closed_date":1611810534,"answer_count":0,"score":15,"last_activity_date":1677514703,"creation_date":1609932213,"question_id":65594874,"body_markdown":"I have a best practices question with regards to mapping `Instant` to PostgreSQL `TIMESTAMP`.\r\n\r\nWe&#39;ve updated our app to Java 15 and the new enhancement of the system clock to nanosecond precision ( https://bugs.openjdk.java.net/browse/JDK-8242504 ) is incompatible with the TIMESTAMP limitations in Postgres. Time is different depending on the underlying OS, and Instant in Mac (Big Sur) does not give time in nanoseconds but in Linux does.\r\n\r\nWe use Instant types across our codebase. Our tests are comparing objects of type Instant in memory vs fetched so they fail depending on the OS they&#39;re running in.\r\n\r\nIn Linux, the Instant object in memory has a precision of nanoseconds, whilst the Postgres stored Instant (TIMESTAMP) has a precision of microseconds. The assertions fail:\r\n```\r\njava.lang.AssertionError: expected [2021-01-04T19:32:23.726475249Z] but found [2021-01-04T19:32:23.726475Z]\r\n```\r\n\r\nIn Mac, the Instant object has a precision of microseconds which aligns adequately with the Timestamp precision of Postgres, so the tests pass as they&#39;ve always done so far.\r\n\r\nWe would like to avoid truncating Instant or adding plugins to PG to support nanoseconds.\r\n\r\nHow do others deal with this issue in a robust comprehensive manner?","title":"java 15 Nanoseconds precision causing issues on Linux environment","body":"<p>I have a best practices question with regards to mapping <code>Instant</code> to PostgreSQL <code>TIMESTAMP</code>.</p>\n<p>We've updated our app to Java 15 and the new enhancement of the system clock to nanosecond precision ( <a href=\"https://bugs.openjdk.java.net/browse/JDK-8242504\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8242504</a> ) is incompatible with the TIMESTAMP limitations in Postgres. Time is different depending on the underlying OS, and Instant in Mac (Big Sur) does not give time in nanoseconds but in Linux does.</p>\n<p>We use Instant types across our codebase. Our tests are comparing objects of type Instant in memory vs fetched so they fail depending on the OS they're running in.</p>\n<p>In Linux, the Instant object in memory has a precision of nanoseconds, whilst the Postgres stored Instant (TIMESTAMP) has a precision of microseconds. The assertions fail:</p>\n<pre><code>java.lang.AssertionError: expected [2021-01-04T19:32:23.726475249Z] but found [2021-01-04T19:32:23.726475Z]\n</code></pre>\n<p>In Mac, the Instant object has a precision of microseconds which aligns adequately with the Timestamp precision of Postgres, so the tests pass as they've always done so far.</p>\n<p>We would like to avoid truncating Instant or adding plugins to PG to support nanoseconds.</p>\n<p>How do others deal with this issue in a robust comprehensive manner?</p>\n"},{"tags":["java","arrays","list","performance"],"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":6,"creation_date":1238824898,"post_id":716597,"comment_id":528669,"body_markdown":"&quot;Since arrays keep all the data in a contiguous chunk of memory&quot; do you have any sort of citation to back this up for Java?","body":"&quot;Since arrays keep all the data in a contiguous chunk of memory&quot; do you have any sort of citation to back this up for Java?"},{"owner":{"account_id":29100,"reputation":14836,"user_id":78351,"accept_rate":71,"display_name":"euphoria83"},"score":2,"creation_date":1238825132,"post_id":716597,"comment_id":528670,"body_markdown":"No matt. I know this for C. I am guessing Java would use the same method.","body":"No matt. I know this for C. I am guessing Java would use the same method."},{"owner":{"account_id":9168,"reputation":12722,"user_id":16828,"accept_rate":87,"display_name":"Fortyrunner"},"score":1,"creation_date":1238825700,"post_id":716597,"comment_id":528676,"body_markdown":"I doubt that it would keep them in a single chunk of memory.","body":"I doubt that it would keep them in a single chunk of memory."},{"owner":{"account_id":31100,"reputation":13876,"user_id":85170,"accept_rate":100,"display_name":"CookieOfFortune"},"score":4,"creation_date":1238825872,"post_id":716597,"comment_id":528680,"body_markdown":"Even if it&#39;s a single block of memory, it&#39;d still only be around 1000 * 4 = 4kb worth, which is not a lot of memory.","body":"Even if it&#39;s a single block of memory, it&#39;d still only be around 1000 * 4 = 4kb worth, which is not a lot of memory."},{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":1,"creation_date":1382606000,"post_id":716597,"comment_id":29027999,"body_markdown":"Is this a case of premature optimization?\n\nThe correct answer is &quot;It depends&quot;. It depends on what JVM you are running, it depends on how your JIT compiler is optimizing the code, it depends on which platform you&#39;re running on. Arrays may be faster in JET or Avian , but lists might be faster on HotSpot or IcedTea.\n\nIn short, if this is the degree of control you need over performance, you need to use a much lower level language like assembly or C. Java is not suitable.","body":"Is this a case of premature optimization?  The correct answer is &quot;It depends&quot;. It depends on what JVM you are running, it depends on how your JIT compiler is optimizing the code, it depends on which platform you&#39;re running on. Arrays may be faster in JET or Avian , but lists might be faster on HotSpot or IcedTea.  In short, if this is the degree of control you need over performance, you need to use a much lower level language like assembly or C. Java is not suitable."},{"owner":{"account_id":471679,"reputation":411,"user_id":879619,"display_name":"Vectorjohn"},"score":0,"creation_date":1463099890,"post_id":716597,"comment_id":61931400,"body_markdown":"The question (in the comments about memory) can&#39;t be answered because List is an interface not an implementation. ArrayList will always keep the data in a contiguous block of memory (it stores an array, hence the name). Other implementations will do other things.","body":"The question (in the comments about memory) can&#39;t be answered because List is an interface not an implementation. ArrayList will always keep the data in a contiguous block of memory (it stores an array, hence the name). Other implementations will do other things."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1465504185,"post_id":716597,"comment_id":62942447,"body_markdown":"@mattb That&#39;s what &#39;array&#39; means throughout CS. No citation necessary. The numerous references in the [JLS](https://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html) and [JVM Spec]() to array lengths are only comprehensible if arrays are contiguous.","body":"@mattb That&#39;s what &#39;array&#39; means throughout CS. No citation necessary. The numerous references in the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html\" rel=\"nofollow noreferrer\">JLS</a> and [JVM Spec]() to array lengths are only comprehensible if arrays are contiguous."},{"owner":{"account_id":1713988,"reputation":1651,"user_id":1571480,"accept_rate":70,"display_name":"Pavlus"},"score":2,"creation_date":1486047920,"post_id":716597,"comment_id":71187132,"body_markdown":"They are surely not stored in continuous chunk of memory. Java object variables are pointers to the actual objects (unless they are local and put on the stack by JVM), so the array of String is, actually, an array of _pointers_ to String objects which can be placed anywhere in the heap.","body":"They are surely not stored in continuous chunk of memory. Java object variables are pointers to the actual objects (unless they are local and put on the stack by JVM), so the array of String is, actually, an array of <i>pointers</i> to String objects which can be placed anywhere in the heap."}],"answers":[{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1238824850,"creation_date":1238824850,"answer_id":716602,"question_id":716597,"body_markdown":"If you know in advance how large the data is then an array will be faster.\r\n\r\nA List is more flexible.  You can use an ArrayList which is backed by an array.\r\n\r\n","title":"Array or List in Java. Which is faster?","body":"<p>If you know in advance how large the data is then an array will be faster.</p>\n\n<p>A List is more flexible.  You can use an ArrayList which is backed by an array.</p>\n"},{"tags":[],"owner":{"account_id":31100,"reputation":13876,"user_id":85170,"accept_rate":100,"display_name":"CookieOfFortune"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1238824920,"creation_date":1238824920,"answer_id":716603,"question_id":716597,"body_markdown":"No, because technically, the array only stores the reference to the strings. The strings themselves are allocated in a different location. For a thousand items, I would say a list would be better, it is slower, but it offers more flexibility and it&#39;s easier to use, especially if you are going to resize them.","title":"Array or List in Java. Which is faster?","body":"<p>No, because technically, the array only stores the reference to the strings. The strings themselves are allocated in a different location. For a thousand items, I would say a list would be better, it is slower, but it offers more flexibility and it's easier to use, especially if you are going to resize them.</p>\n"},{"tags":[],"owner":{"account_id":18028,"reputation":39206,"user_id":40933,"accept_rate":63,"display_name":"Warrior"},"down_vote_count":4,"up_vote_count":10,"is_accepted":false,"score":6,"last_activity_date":1238825055,"creation_date":1238825055,"answer_id":716605,"question_id":716597,"body_markdown":"list is slower than arrays.If you need efficiency use arrays.If you need flexibility use list.","title":"Array or List in Java. Which is faster?","body":"<p>list is slower than arrays.If you need efficiency use arrays.If you need flexibility use list.</p>\n"},{"tags":[],"owner":{"account_id":9168,"reputation":12722,"user_id":16828,"accept_rate":87,"display_name":"Fortyrunner"},"down_vote_count":2,"up_vote_count":406,"is_accepted":true,"score":404,"last_activity_date":1238825894,"creation_date":1238825894,"answer_id":716619,"question_id":716597,"body_markdown":"I suggest that you use a profiler to test which is faster.\r\n\r\nMy personal opinion is that you should use Lists.\r\n\r\nI work on a large codebase and a previous group of developers used arrays **everywhere**. It made the code very inflexible. After changing large chunks of it to Lists we noticed no difference in speed.","title":"Array or List in Java. Which is faster?","body":"<p>I suggest that you use a profiler to test which is faster.</p>\n\n<p>My personal opinion is that you should use Lists.</p>\n\n<p>I work on a large codebase and a previous group of developers used arrays <strong>everywhere</strong>. It made the code very inflexible. After changing large chunks of it to Lists we noticed no difference in speed.</p>\n"},{"tags":[],"owner":{"account_id":24774,"reputation":2802,"user_id":63213,"accept_rate":49,"display_name":"RV."},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1238826533,"creation_date":1238826533,"answer_id":716632,"question_id":716597,"body_markdown":"A List is more flexible.... so better to List than array","title":"Array or List in Java. Which is faster?","body":"<p>A List is more flexible.... so better to List than array</p>\n"},{"tags":[],"owner":{"account_id":18380,"reputation":3634,"user_id":42076,"display_name":"cygil"},"down_vote_count":1,"up_vote_count":183,"is_accepted":false,"score":182,"last_activity_date":1238890794,"creation_date":1238826872,"answer_id":716641,"question_id":716597,"body_markdown":"The Java way is that you should consider what data *abstraction* most suits your needs.  Remember that in Java a List is an abstract, not a concrete data type.  You should declare the strings as a List, and then initialize it using the ArrayList implementation.\r\n\r\n    List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\r\n\r\nThis separation of Abstract Data Type and specific implementation is one the key aspects of object oriented programming.\r\n\r\nAn ArrayList implements the List Abstract Data Type using an array as its underlying implementation.  Access speed is virtually identical to an array, with the additional advantages of being able to add and subtract elements to a List (although this is an O(n) operation with an ArrayList) and that if you decide to change the underlying implementation later on you can.  For example, if you realize you need synchronized access, you can change the implementation to a Vector&lt;String&gt; without rewriting all your code.\r\n\r\nIn fact, the ArrayList was specifically designed to replace the low-level array construct in most contexts.  If Java was being designed today, it&#39;s entirely possible that arrays would have been left out altogether in favor of the ArrayList construct.\r\n\r\n&gt; Since arrays keep all the data in a contiguous chunk of memory (unlike Lists), would the use of an array to store thousands of strings cause problems ?\r\n\r\nIn Java, all collections store only references to objects, not the objects themselves.   Both arrays and ArrayList will store a few thousand references in a contiguous array, so they are essentially identical.  You can consider that a contiguous block of a few thousand 32-bit references will always be readily available on modern hardware.  This does not guarantee that you will not run out of memory altogether, of course, just that the contiguous block of memory requirement is not difficult to fufil.","title":"Array or List in Java. Which is faster?","body":"<p>The Java way is that you should consider what data <em>abstraction</em> most suits your needs.  Remember that in Java a List is an abstract, not a concrete data type.  You should declare the strings as a List, and then initialize it using the ArrayList implementation.</p>\n\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>This separation of Abstract Data Type and specific implementation is one the key aspects of object oriented programming.</p>\n\n<p>An ArrayList implements the List Abstract Data Type using an array as its underlying implementation.  Access speed is virtually identical to an array, with the additional advantages of being able to add and subtract elements to a List (although this is an O(n) operation with an ArrayList) and that if you decide to change the underlying implementation later on you can.  For example, if you realize you need synchronized access, you can change the implementation to a Vector without rewriting all your code.</p>\n\n<p>In fact, the ArrayList was specifically designed to replace the low-level array construct in most contexts.  If Java was being designed today, it's entirely possible that arrays would have been left out altogether in favor of the ArrayList construct.</p>\n\n<blockquote>\n  <p>Since arrays keep all the data in a contiguous chunk of memory (unlike Lists), would the use of an array to store thousands of strings cause problems ?</p>\n</blockquote>\n\n<p>In Java, all collections store only references to objects, not the objects themselves.   Both arrays and ArrayList will store a few thousand references in a contiguous array, so they are essentially identical.  You can consider that a contiguous block of a few thousand 32-bit references will always be readily available on modern hardware.  This does not guarantee that you will not run out of memory altogether, of course, just that the contiguous block of memory requirement is not difficult to fufil.</p>\n"},{"tags":[],"owner":{"account_id":7492,"reputation":63517,"user_id":13051,"accept_rate":68,"display_name":"JesperE"},"down_vote_count":1,"up_vote_count":109,"is_accepted":false,"score":108,"last_activity_date":1430876151,"creation_date":1238826974,"answer_id":716645,"question_id":716597,"body_markdown":"You should prefer generic types over arrays. As mentioned by others, arrays are inflexible and do not have the expressive power of generic types. (They do however support runtime typechecking, but that mixes badly with generic types.)\r\n\r\nBut, as always, when optimizing you should always follow these steps:\r\n\r\n* Don&#39;t optimize until you have a nice, clean, and **working** version of your code. Changing to generic types could very well be motivated at this step already.\r\n* When you have a version that is nice and clean, decide if it is fast enough.\r\n* If it isn&#39;t fast enough, **measure its performance**. This step is important for two reasons. If you don&#39;t measure you won&#39;t (1) know the impact of any optimizations you make and (2) know where to optimize.\r\n* Optimize the hottest part of your code.\r\n* **Measure again.** This is just as important as measuring before. If the optimization didn&#39;t improve things, **revert it**. Remember, the code *without* the optimization was **clean, nice, and working.**","title":"Array or List in Java. Which is faster?","body":"<p>You should prefer generic types over arrays. As mentioned by others, arrays are inflexible and do not have the expressive power of generic types. (They do however support runtime typechecking, but that mixes badly with generic types.)</p>\n\n<p>But, as always, when optimizing you should always follow these steps:</p>\n\n<ul>\n<li>Don't optimize until you have a nice, clean, and <strong>working</strong> version of your code. Changing to generic types could very well be motivated at this step already.</li>\n<li>When you have a version that is nice and clean, decide if it is fast enough.</li>\n<li>If it isn't fast enough, <strong>measure its performance</strong>. This step is important for two reasons. If you don't measure you won't (1) know the impact of any optimizations you make and (2) know where to optimize.</li>\n<li>Optimize the hottest part of your code.</li>\n<li><strong>Measure again.</strong> This is just as important as measuring before. If the optimization didn't improve things, <strong>revert it</strong>. Remember, the code <em>without</em> the optimization was <strong>clean, nice, and working.</strong></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23596,"reputation":1584,"user_id":59223,"display_name":"Emmanuel Rodriguez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1238827186,"creation_date":1238827186,"answer_id":716648,"question_id":716597,"body_markdown":"Don&#39;t get into the trap of optimizing without proper benchmarking. As others have suggested use a profiler before making any assumption.\r\n\r\nThe different data structures that you have enumerated have different purposes. A list is very efficient at inserting elements in the beginning and at the end but suffers a lot when accessing random elements. An array has fixed storage but provides fast random access. Finally an ArrayList improves the interface to an array by allowing it to grow. Normally the data structure to be used should be dictated by how the data stored will be access or added.\r\n\r\nAbout memory consumption. You seem to be mixing some things. An array will only give you a continuous chunk of memory for the type of data that you have. Don&#39;t forget that java has a fixed data types: boolean, char, int, long, float and Object (this include all objects, even an array is an Object). It means that if you declare an array of String strings [1000] or MyObject myObjects [1000] you only get a 1000 memory boxes big enough to store the location (references or pointers) of the objects. You don&#39;t get a 1000 memory boxes big enough to fit the size of the objects. Don&#39;t forget that your objects are first created with &quot;new&quot;. This is when the memory allocation is done and later a reference (their memory address) is stored in the array. The object doesn&#39;t get copied into the array only it&#39;s reference.\r\n","title":"Array or List in Java. Which is faster?","body":"<p>Don't get into the trap of optimizing without proper benchmarking. As others have suggested use a profiler before making any assumption.</p>\n\n<p>The different data structures that you have enumerated have different purposes. A list is very efficient at inserting elements in the beginning and at the end but suffers a lot when accessing random elements. An array has fixed storage but provides fast random access. Finally an ArrayList improves the interface to an array by allowing it to grow. Normally the data structure to be used should be dictated by how the data stored will be access or added.</p>\n\n<p>About memory consumption. You seem to be mixing some things. An array will only give you a continuous chunk of memory for the type of data that you have. Don't forget that java has a fixed data types: boolean, char, int, long, float and Object (this include all objects, even an array is an Object). It means that if you declare an array of String strings [1000] or MyObject myObjects [1000] you only get a 1000 memory boxes big enough to store the location (references or pointers) of the objects. You don't get a 1000 memory boxes big enough to fit the size of the objects. Don't forget that your objects are first created with \"new\". This is when the memory allocation is done and later a reference (their memory address) is stored in the array. The object doesn't get copied into the array only it's reference.</p>\n"},{"tags":[],"owner":{"account_id":2466,"reputation":34852,"user_id":3434,"accept_rate":90,"display_name":"Apocalisp"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1465577985,"creation_date":1238827278,"answer_id":716652,"question_id":716597,"body_markdown":"&quot;Thousands&quot; is not a large number. A few thousand paragraph-length strings are on the order of a couple of megabytes in size. If all you want to do is access these serially, use [an immutable singly-linked List][1].\r\n\r\n  [1]: http://www.functionaljava.org/javadoc/4.5/functionaljava/fj/data/List.html","title":"Array or List in Java. Which is faster?","body":"<p>\"Thousands\" is not a large number. A few thousand paragraph-length strings are on the order of a couple of megabytes in size. If all you want to do is access these serially, use <a href=\"http://www.functionaljava.org/javadoc/4.5/functionaljava/fj/data/List.html\" rel=\"nofollow noreferrer\">an immutable singly-linked List</a>.</p>\n"},{"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1238834987,"creation_date":1238834987,"answer_id":716787,"question_id":716597,"body_markdown":"I don&#39;t think it makes a real difference for Strings. What is contiguous in an array of strings is the references to the strings, the strings themselves are stored at random places in memory.\r\n\r\nArrays vs. Lists can make a difference for primitive types, not for objects. *IF* you know in advance the number of elements, and don&#39;t need flexibility, an array of millions of integers or doubles will be more efficient in memory and marginally in speed than a list, because indeed they will be stored contiguously and accessed instantly. That&#39;s why Java still uses arrays of chars for strings, arrays of ints for image data, etc.","title":"Array or List in Java. Which is faster?","body":"<p>I don't think it makes a real difference for Strings. What is contiguous in an array of strings is the references to the strings, the strings themselves are stored at random places in memory.</p>\n\n<p>Arrays vs. Lists can make a difference for primitive types, not for objects. <em>IF</em> you know in advance the number of elements, and don't need flexibility, an array of millions of integers or doubles will be more efficient in memory and marginally in speed than a list, because indeed they will be stored contiguously and accessed instantly. That's why Java still uses arrays of chars for strings, arrays of ints for image data, etc.</p>\n"},{"tags":[],"owner":{"account_id":31309,"reputation":3438,"user_id":85868,"accept_rate":89,"display_name":"Nuoji"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1238845345,"creation_date":1238845345,"answer_id":716942,"question_id":716597,"body_markdown":"Remember that an ArrayList encapsulates an array, so there is little difference compared to using a primitive array (except for the fact that a List is much easier to work with in java).\r\n\r\nThe pretty much the only time it makes sense to prefer an array to an ArrayList is when you are storing primitives, i.e. byte, int, etc and you need the particular space-efficiency you get by using primitive arrays.","title":"Array or List in Java. Which is faster?","body":"<p>Remember that an ArrayList encapsulates an array, so there is little difference compared to using a primitive array (except for the fact that a List is much easier to work with in java).</p>\n\n<p>The pretty much the only time it makes sense to prefer an array to an ArrayList is when you are storing primitives, i.e. byte, int, etc and you need the particular space-efficiency you get by using primitive arrays.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1444219674,"creation_date":1238850714,"answer_id":717051,"question_id":716597,"body_markdown":"I&#39;m guessing the original poster is coming from a C++/STL background which is causing some confusion. In C++ `std::list` is a doubly linked list.\r\n\r\nIn Java `[java.util.]List` is an implementation-free interface (pure abstract class in C++ terms). `List` can be a doubly linked list - `java.util.LinkedList` is provided. However, 99 times out of 100 when you want a make a new `List`, you want to use `java.util.ArrayList` instead, which is the rough equivalent of C++ `std::vector`. There are other standard implementations, such as those returned by `java.util.Collections.emptyList()` and `java.util.Arrays.asList()`.\r\n\r\nFrom a performance standpoint there is a very small hit from having to go through an interface and an extra object, however runtime inlining means this rarely has any significance. Also remember that `String` are typically an object plus array. So for each entry, you probably have two other objects. In C++ `std::vector&lt;std::string&gt;`, although copying by value without a pointer as such, the character arrays will form an object for string (and these will not usually be shared).\r\n\r\nIf this particular code is really performance-sensitive, you could create a single `char[]` array (or even `byte[]`) for all the characters of all the strings, and then an array of offsets. IIRC, this is how javac is implemented.","title":"Array or List in Java. Which is faster?","body":"<p>I'm guessing the original poster is coming from a C++/STL background which is causing some confusion. In C++ <code>std::list</code> is a doubly linked list.</p>\n\n<p>In Java <code>[java.util.]List</code> is an implementation-free interface (pure abstract class in C++ terms). <code>List</code> can be a doubly linked list - <code>java.util.LinkedList</code> is provided. However, 99 times out of 100 when you want a make a new <code>List</code>, you want to use <code>java.util.ArrayList</code> instead, which is the rough equivalent of C++ <code>std::vector</code>. There are other standard implementations, such as those returned by <code>java.util.Collections.emptyList()</code> and <code>java.util.Arrays.asList()</code>.</p>\n\n<p>From a performance standpoint there is a very small hit from having to go through an interface and an extra object, however runtime inlining means this rarely has any significance. Also remember that <code>String</code> are typically an object plus array. So for each entry, you probably have two other objects. In C++ <code>std::vector&lt;std::string&gt;</code>, although copying by value without a pointer as such, the character arrays will form an object for string (and these will not usually be shared).</p>\n\n<p>If this particular code is really performance-sensitive, you could create a single <code>char[]</code> array (or even <code>byte[]</code>) for all the characters of all the strings, and then an array of offsets. IIRC, this is how javac is implemented.</p>\n"},{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1238852771,"creation_date":1238852771,"answer_id":717112,"question_id":716597,"body_markdown":"Well firstly it&#39;s worth clarifying do you mean &quot;list&quot; in the classical comp sci data structures sense (ie a linked list) or do you mean java.util.List? If you mean a java.util.List, it&#39;s an interface. If you want to use an array just use the ArrayList implementation and you&#39;ll get array-like behaviour and semantics. Problem solved.\r\n\r\nIf you mean an array vs a linked list, it&#39;s a slightly different argument for which we go back to Big O (here is a [plain English explanation][1] if this is an unfamiliar term.\r\n\r\nArray;\r\n\r\n - Random Access: O(1);\r\n - Insert: O(n);\r\n - Delete: O(n).\r\n\r\nLinked List:\r\n\r\n - Random Access: O(n);\r\n - Insert: O(1);\r\n - Delete: O(1).\r\n\r\nSo you choose whichever one best suits how you resize your array. If you resize, insert and delete a lot then maybe a linked list is a better choice. Same goes for if random access is rare. You mention serial access. If you&#39;re mainly doing serial access with very little modification then it probably doesn&#39;t matter which you choose.\r\n\r\nLinked lists have a slightly higher overhead since, like you say, you&#39;re dealing with potentially non-contiguous blocks of memory and (effectively) pointers to the next element. That&#39;s probably not an important factor unless you&#39;re dealing with millions of entries however.\r\n\r\n  [1]: https://stackoverflow.com/questions/487258/plain-english-explanation-of-big-o/487278#487278","title":"Array or List in Java. Which is faster?","body":"<p>Well firstly it's worth clarifying do you mean \"list\" in the classical comp sci data structures sense (ie a linked list) or do you mean java.util.List? If you mean a java.util.List, it's an interface. If you want to use an array just use the ArrayList implementation and you'll get array-like behaviour and semantics. Problem solved.</p>\n\n<p>If you mean an array vs a linked list, it's a slightly different argument for which we go back to Big O (here is a <a href=\"https://stackoverflow.com/questions/487258/plain-english-explanation-of-big-o/487278#487278\">plain English explanation</a> if this is an unfamiliar term.</p>\n\n<p>Array;</p>\n\n<ul>\n<li>Random Access: O(1);</li>\n<li>Insert: O(n);</li>\n<li>Delete: O(n).</li>\n</ul>\n\n<p>Linked List:</p>\n\n<ul>\n<li>Random Access: O(n);</li>\n<li>Insert: O(1);</li>\n<li>Delete: O(1).</li>\n</ul>\n\n<p>So you choose whichever one best suits how you resize your array. If you resize, insert and delete a lot then maybe a linked list is a better choice. Same goes for if random access is rare. You mention serial access. If you're mainly doing serial access with very little modification then it probably doesn't matter which you choose.</p>\n\n<p>Linked lists have a slightly higher overhead since, like you say, you're dealing with potentially non-contiguous blocks of memory and (effectively) pointers to the next element. That's probably not an important factor unless you're dealing with millions of entries however.</p>\n"},{"tags":[],"owner":{"account_id":17401,"reputation":653,"user_id":38918,"display_name":"Emre K&#246;se"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1238855385,"creation_date":1238855385,"answer_id":717186,"question_id":716597,"body_markdown":"Array vs. List choice is not so important (considering performance) in the case of storing string objects. Because both array and list will store string object references, not the actual objects.\r\n\r\n1. If the number of strings is almost constant then use an array (or ArrayList). But if the number varies too much then you&#39;d better use LinkedList.\r\n2. If there is (or will be) a need for adding or deleting elements in the middle, then you certainly have to use LinkedList.","title":"Array or List in Java. Which is faster?","body":"<p>Array vs. List choice is not so important (considering performance) in the case of storing string objects. Because both array and list will store string object references, not the actual objects.</p>\n\n<ol>\n<li>If the number of strings is almost constant then use an array (or ArrayList). But if the number varies too much then you'd better use LinkedList.</li>\n<li>If there is (or will be) a need for adding or deleting elements in the middle, then you certainly have to use LinkedList.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":31640,"reputation":12044,"user_id":87056,"accept_rate":75,"display_name":"Yakov Fain"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1238855712,"creation_date":1238855712,"answer_id":717191,"question_id":716597,"body_markdown":"Array is faster - all memory is pre-allocated in advance.","title":"Array or List in Java. Which is faster?","body":"<p>Array is faster - all memory is pre-allocated in advance.</p>\n"},{"tags":[],"owner":{"account_id":31651,"reputation":670,"user_id":87097,"display_name":"Chris May"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1238856273,"creation_date":1238856273,"answer_id":717205,"question_id":716597,"body_markdown":"I wrote a little benchmark to compare ArrayLists with Arrays. On my old-ish laptop, the time to traverse through a 5000-element arraylist, 1000 times, was about 10 milliseconds slower than the equivalent array code. \r\n\r\nSo, if you&#39;re doing nothing but iterating the list, and you&#39;re doing it a lot, then _maybe_ it&#39;s worth the optimisation. Otherwise I&#39;d use the List, because it&#39;ll make it easier when you _do_ need to optimise the code.\r\n\r\nn.b. I _did_ notice that using `for String s: stringsList` was about 50% slower than using an old-style for-loop to access the list. Go figure... Here&#39;s the two functions I timed; the array and list were filled with 5000 random (different) strings.\r\n\r\n    private static void readArray(String[] strings) {\r\n\t\tlong totalchars = 0;\r\n\t\tfor (int j = 0; j &lt; ITERATIONS; j++) {\r\n\t\t\ttotalchars = 0;\r\n\t\t\tfor (int i = 0; i &lt; strings.length; i++) {\r\n\t\t\t\ttotalchars += strings[i].length();\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void readArrayList(List&lt;String&gt; stringsList) {\r\n\t\tlong totalchars = 0;\r\n\t\tfor (int j = 0; j &lt; ITERATIONS; j++) {\r\n\t\t\ttotalchars = 0;\r\n\t\t\tfor (int i = 0; i &lt; stringsList.size(); i++) {\r\n\t\t\t\ttotalchars += stringsList.get(i).length();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Array or List in Java. Which is faster?","body":"<p>I wrote a little benchmark to compare ArrayLists with Arrays. On my old-ish laptop, the time to traverse through a 5000-element arraylist, 1000 times, was about 10 milliseconds slower than the equivalent array code. </p>\n\n<p>So, if you're doing nothing but iterating the list, and you're doing it a lot, then <em>maybe</em> it's worth the optimisation. Otherwise I'd use the List, because it'll make it easier when you <em>do</em> need to optimise the code.</p>\n\n<p>n.b. I <em>did</em> notice that using <code>for String s: stringsList</code> was about 50% slower than using an old-style for-loop to access the list. Go figure... Here's the two functions I timed; the array and list were filled with 5000 random (different) strings.</p>\n\n<pre><code>private static void readArray(String[] strings) {\n    long totalchars = 0;\n    for (int j = 0; j &lt; ITERATIONS; j++) {\n        totalchars = 0;\n        for (int i = 0; i &lt; strings.length; i++) {\n            totalchars += strings[i].length();\n\n        }\n    }\n}\n\nprivate static void readArrayList(List&lt;String&gt; stringsList) {\n    long totalchars = 0;\n    for (int j = 0; j &lt; ITERATIONS; j++) {\n        totalchars = 0;\n        for (int i = 0; i &lt; stringsList.size(); i++) {\n            totalchars += stringsList.get(i).length();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31324,"reputation":34658,"user_id":85931,"accept_rate":57,"display_name":"tpdi"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1238892914,"creation_date":1238892914,"answer_id":718145,"question_id":716597,"body_markdown":"If you have thousands, consider using a trie. A trie is a tree-like structure that merges the common prefixes of the stored string.\r\n\r\nFor example, if the strings were \r\n\r\n    intern\r\n    international\r\n    internationalize\r\n    internet\r\n    internets\r\n\r\nThe trie would store:\r\n\r\n    intern\r\n     -&gt; \\0\r\n     international\r\n     -&gt; \\0\r\n     -&gt; ize\\0\r\n     net\r\n     -&gt;\\0\r\n     -&gt;s\\0\r\n\r\nThe strings requires 57 characters (including the null terminator, &#39;\\0&#39;) for storage, plus whatever the size of the String object that holds them. (In truth, we should  probably round all sizes up to multiples of 16, but...) Call it 57 + 5 = 62 bytes, roughly.\r\n\r\n\r\nThe trie requires 29 (including the null terminator, &#39;\\0&#39;) for storage, plus sizeof the trie nodes, which are a ref to an array and a list of child trie nodes.\r\n\r\nFor this example, that probably comes out about the same; for thousands, it probably comes out less as long as you do have common prefixes.\r\n\r\nNow, when using the trie in other code, you&#39;ll have to convert to String, probably using a StringBuffer as an intermediary. If many of the strings are in use at once as Strings, outside the trie, it&#39;s a loss.\r\n\r\nBut if you&#39;re only using a few at the time -- say, to look up things in a dictionary -- the trie can save you a lot of space. Definitely less space than storing them in a HashSet.\r\n\r\nYou say you&#39;re accessing them &quot;serially&quot; -- if that means sequentially an alphabetically, the trie also obviously gives you alphabetical order for free, if you iterate it depth-first.\r\n","title":"Array or List in Java. Which is faster?","body":"<p>If you have thousands, consider using a trie. A trie is a tree-like structure that merges the common prefixes of the stored string.</p>\n\n<p>For example, if the strings were </p>\n\n<pre><code>intern\ninternational\ninternationalize\ninternet\ninternets\n</code></pre>\n\n<p>The trie would store:</p>\n\n<pre><code>intern\n -&gt; \\0\n international\n -&gt; \\0\n -&gt; ize\\0\n net\n -&gt;\\0\n -&gt;s\\0\n</code></pre>\n\n<p>The strings requires 57 characters (including the null terminator, '\\0') for storage, plus whatever the size of the String object that holds them. (In truth, we should  probably round all sizes up to multiples of 16, but...) Call it 57 + 5 = 62 bytes, roughly.</p>\n\n<p>The trie requires 29 (including the null terminator, '\\0') for storage, plus sizeof the trie nodes, which are a ref to an array and a list of child trie nodes.</p>\n\n<p>For this example, that probably comes out about the same; for thousands, it probably comes out less as long as you do have common prefixes.</p>\n\n<p>Now, when using the trie in other code, you'll have to convert to String, probably using a StringBuffer as an intermediary. If many of the strings are in use at once as Strings, outside the trie, it's a loss.</p>\n\n<p>But if you're only using a few at the time -- say, to look up things in a dictionary -- the trie can save you a lot of space. Definitely less space than storing them in a HashSet.</p>\n\n<p>You say you're accessing them \"serially\" -- if that means sequentially an alphabetically, the trie also obviously gives you alphabetical order for free, if you iterate it depth-first.</p>\n"},{"tags":[],"owner":{"account_id":199672,"reputation":349,"user_id":445133,"display_name":"JRalph"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1284217035,"creation_date":1284217035,"answer_id":3691444,"question_id":716597,"body_markdown":"Depending on the implementation. it&#39;s possible that an array of primitive types will be smaller and more efficient than ArrayList. This is because the array will store the values directly in a contiguous block of memory, while the simplest ArrayList implementation will store pointers to each value. On a 64-bit platform especially, this can make a huge difference.\r\n\r\nOf course, it&#39;s possible for the jvm implementation to have a special case for this situation, in which case the performance will be the same. ","title":"Array or List in Java. Which is faster?","body":"<p>Depending on the implementation. it's possible that an array of primitive types will be smaller and more efficient than ArrayList. This is because the array will store the values directly in a contiguous block of memory, while the simplest ArrayList implementation will store pointers to each value. On a 64-bit platform especially, this can make a huge difference.</p>\n\n<p>Of course, it's possible for the jvm implementation to have a special case for this situation, in which case the performance will be the same. </p>\n"},{"tags":[],"owner":{"account_id":422887,"reputation":3986,"user_id":801919,"accept_rate":62,"display_name":"Vikram"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1343253221,"creation_date":1343253221,"answer_id":11659220,"question_id":716597,"body_markdown":"It depends on how you have to access it.\r\n \r\nAfter storing, if you mainly want to do search operation, with little or no insert/delete, then go for Array (as search is done in O(1) in arrays, whereas add/delete may need re-ordering of the elements).\r\n \r\nAfter storing, if your main purpose is to add/delete strings, with little or no search operation, then go for List. ","title":"Array or List in Java. Which is faster?","body":"<p>It depends on how you have to access it.</p>\n\n<p>After storing, if you mainly want to do search operation, with little or no insert/delete, then go for Array (as search is done in O(1) in arrays, whereas add/delete may need re-ordering of the elements).</p>\n\n<p>After storing, if your main purpose is to add/delete strings, with little or no search operation, then go for List. </p>\n"},{"tags":[],"owner":{"account_id":46006,"reputation":952,"user_id":135791,"display_name":"AbePralle"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1490121989,"creation_date":1347760256,"answer_id":12443858,"question_id":716597,"body_markdown":"I agree that in most cases you should choose the flexibility and elegance of ArrayLists over arrays - and in most cases the impact to program performance will be negligible.\r\n\r\nHowever, if you&#39;re doing constant, heavy iteration with little structural change (no adds and removes) for, say, software graphics rendering or a custom virtual machine, my sequential access benchmarking tests show that **ArrayLists are 1.5x slower than arrays** on my system (Java 1.6 on my one year-old iMac).\r\n\r\nSome code:\r\n\r\n    import java.util.*;\r\n\r\n    public class ArrayVsArrayList {\r\n        static public void main( String[] args ) {\r\n\r\n            String[] array = new String[300];\r\n            ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;(300);\r\n\r\n            for (int i=0; i&lt;300; ++i) {\r\n                if (Math.random() &gt; 0.5) {\r\n                    array[i] = &quot;abc&quot;;\r\n                } else {\r\n                    array[i] = &quot;xyz&quot;;\r\n                }\r\n\r\n                list.add( array[i] );\r\n            }\r\n\r\n            int iterations = 100000000;\r\n            long start_ms;\r\n            int sum;\r\n\r\n            start_ms = System.currentTimeMillis();\r\n            sum = 0;\r\n\r\n            for (int i=0; i&lt;iterations; ++i) {\r\n              for (int j=0; j&lt;300; ++j) sum += array[j].length();\r\n            }\r\n            \r\n            System.out.println( (System.currentTimeMillis() - start_ms) + &quot; ms (array)&quot; );\r\n            // Prints ~13,500 ms on my system\r\n\r\n            start_ms = System.currentTimeMillis();\r\n            sum = 0;\r\n\r\n            for (int i=0; i&lt;iterations; ++i) {\r\n              for (int j=0; j&lt;300; ++j) sum += list.get(j).length();\r\n            }\r\n            \r\n            System.out.println( (System.currentTimeMillis() - start_ms) + &quot; ms (ArrayList)&quot; );\r\n            // Prints ~20,800 ms on my system - about 1.5x slower than direct array access\r\n        }\r\n    }\r\n\r\n","title":"Array or List in Java. Which is faster?","body":"<p>I agree that in most cases you should choose the flexibility and elegance of ArrayLists over arrays - and in most cases the impact to program performance will be negligible.</p>\n\n<p>However, if you're doing constant, heavy iteration with little structural change (no adds and removes) for, say, software graphics rendering or a custom virtual machine, my sequential access benchmarking tests show that <strong>ArrayLists are 1.5x slower than arrays</strong> on my system (Java 1.6 on my one year-old iMac).</p>\n\n<p>Some code:</p>\n\n<pre><code>import java.util.*;\n\npublic class ArrayVsArrayList {\n    static public void main( String[] args ) {\n\n        String[] array = new String[300];\n        ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;(300);\n\n        for (int i=0; i&lt;300; ++i) {\n            if (Math.random() &gt; 0.5) {\n                array[i] = \"abc\";\n            } else {\n                array[i] = \"xyz\";\n            }\n\n            list.add( array[i] );\n        }\n\n        int iterations = 100000000;\n        long start_ms;\n        int sum;\n\n        start_ms = System.currentTimeMillis();\n        sum = 0;\n\n        for (int i=0; i&lt;iterations; ++i) {\n          for (int j=0; j&lt;300; ++j) sum += array[j].length();\n        }\n\n        System.out.println( (System.currentTimeMillis() - start_ms) + \" ms (array)\" );\n        // Prints ~13,500 ms on my system\n\n        start_ms = System.currentTimeMillis();\n        sum = 0;\n\n        for (int i=0; i&lt;iterations; ++i) {\n          for (int j=0; j&lt;300; ++j) sum += list.get(j).length();\n        }\n\n        System.out.println( (System.currentTimeMillis() - start_ms) + \" ms (ArrayList)\" );\n        // Prints ~20,800 ms on my system - about 1.5x slower than direct array access\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1952298,"reputation":91,"user_id":1756134,"display_name":"Thomas Mauch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677514697,"creation_date":1350645024,"answer_id":12972979,"question_id":716597,"body_markdown":"If you can live with a fixed size, arrays will be faster and need less memory.\r\n\r\nIf you need the flexibility of the List interface with adding and removing elements, the question remains which implementation you should choose. Often ArrayList is recommended and used for any case, but also ArrayList has its performance problems if elements at the beginning or in the middle of the list must be removed or inserted.\r\n\r\nYou therefore may want to have a look at https://dzone.com/articles/gaplist-lightning-fast-list which introduces GapList. This new list implementation combines the strengths of both ArrayList and LinkedList resulting in very good performance for nearly all operations. Get it at https://github.com/magicwerk/brownies-collections.","title":"Array or List in Java. Which is faster?","body":"<p>If you can live with a fixed size, arrays will be faster and need less memory.</p>\n<p>If you need the flexibility of the List interface with adding and removing elements, the question remains which implementation you should choose. Often ArrayList is recommended and used for any case, but also ArrayList has its performance problems if elements at the beginning or in the middle of the list must be removed or inserted.</p>\n<p>You therefore may want to have a look at <a href=\"https://dzone.com/articles/gaplist-lightning-fast-list\" rel=\"nofollow noreferrer\">https://dzone.com/articles/gaplist-lightning-fast-list</a> which introduces GapList. This new list implementation combines the strengths of both ArrayList and LinkedList resulting in very good performance for nearly all operations. Get it at <a href=\"https://github.com/magicwerk/brownies-collections\" rel=\"nofollow noreferrer\">https://github.com/magicwerk/brownies-collections</a>.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":1,"up_vote_count":135,"is_accepted":false,"score":134,"last_activity_date":1369031291,"creation_date":1368621928,"answer_id":16565376,"question_id":716597,"body_markdown":"Although the answers proposing to use ArrayList do make sense in most scenario, the actual question of relative performance has not really been answered.\n\nThere are a few things you can do with an array:\n\n- create it\n- set an item\n- get an item\n- clone/copy it\n\n## General conclusion\n\n**Although get and set operations are somewhat slower on an ArrayList** (resp. 1 and 3 nanosecond per call on my machine), **there is very little overhead of using an ArrayList vs. an array for any non-intensive use.** There are however a few things to keep in mind:\n\n- resizing operations on a list (when calling `list.add(...)`) are costly and one should try to set the initial capacity at an adequate level when possible (note that the same issue arises when using an array)\n- when dealing with primitives, arrays can be significantly faster as they will allow one to avoid many boxing/unboxing conversions\n- an application that only gets/sets values in an ArrayList (not very common!) could see a performance gain of more than 25% by switching to an array\n\n## Detailed results\n\nHere are the results I measured for those three operations using the [jmh benchmarking library][0] (times in nanoseconds) with JDK 7 on a standard x86 desktop machine. Note that ArrayList are never resized in the tests to make sure results are comparable. [Benchmark code available here][3].\n\n## Array/ArrayList Creation\n\nI ran 4 tests, executing the following statements:\n\n- createArray1: `Integer[] array = new Integer[1];`\n- createList1: `List&lt;Integer&gt; list = new ArrayList&lt;&gt; (1);`\n- createArray10000: `Integer[] array = new Integer[10000];`\n- createList10000: `List&lt;Integer&gt; list = new ArrayList&lt;&gt; (10000);`\n\nResults (in nanoseconds per call, 95% confidence):\n\n    a.p.g.a.ArrayVsList.CreateArray1         [10.933, 11.097]\n    a.p.g.a.ArrayVsList.CreateList1          [10.799, 11.046]\n    a.p.g.a.ArrayVsList.CreateArray10000    [394.899, 404.034]\n    a.p.g.a.ArrayVsList.CreateList10000     [396.706, 401.266]\n\n**Conclusion: no noticeable difference**.\n\n## get operations\n\nI ran 2 tests, executing the following statements:\n\n- getList: `return list.get(0);`\n- getArray: `return array[0];`\n\nResults (in nanoseconds per call, 95% confidence):\n\n    a.p.g.a.ArrayVsList.getArray   [2.958, 2.984]\n    a.p.g.a.ArrayVsList.getList    [3.841, 3.874]\n\n**Conclusion: getting from an array is about 25% faster** than getting from an ArrayList, although the difference is only on the order of one nanosecond.\n\n## set operations\n\nI ran 2 tests, executing the following statements:\n\n- setList: `list.set(0, value);`\n- setArray: `array[0] = value;`\n\nResults (in nanoseconds per call):\n\n    a.p.g.a.ArrayVsList.setArray   [4.201, 4.236]\n    a.p.g.a.ArrayVsList.setList    [6.783, 6.877]\n\n**Conclusion: set operations on arrays are about 40% faster** than on lists, but, as for get, each set operation takes a few nanoseconds - so for the difference to reach 1 second, one would need to set items in the list/array hundreds of millions of times!\n\n# clone/copy\n\nArrayList&#39;s copy constructor delegates to `Arrays.copyOf` so performance is identical to array copy (copying an array via `clone`, `Arrays.copyOf` or `System.arrayCopy` [makes no material difference performance-wise][1]).\n\n [0]: http://openjdk.java.net/projects/code-tools/jmh/\n [1]: https://stackoverflow.com/questions/12157300/clone-or-arrays-copyof\n [3]: https://bitbucket.org/assylias/performance/src/06d31f92c240/src/main/java/com/assylias/performance/ArrayVsList.java?at=master","title":"Array or List in Java. Which is faster?","body":"<p>Although the answers proposing to use ArrayList do make sense in most scenario, the actual question of relative performance has not really been answered.</p>\n<p>There are a few things you can do with an array:</p>\n<ul>\n<li>create it</li>\n<li>set an item</li>\n<li>get an item</li>\n<li>clone/copy it</li>\n</ul>\n<h2>General conclusion</h2>\n<p><strong>Although get and set operations are somewhat slower on an ArrayList</strong> (resp. 1 and 3 nanosecond per call on my machine), <strong>there is very little overhead of using an ArrayList vs. an array for any non-intensive use.</strong> There are however a few things to keep in mind:</p>\n<ul>\n<li>resizing operations on a list (when calling <code>list.add(...)</code>) are costly and one should try to set the initial capacity at an adequate level when possible (note that the same issue arises when using an array)</li>\n<li>when dealing with primitives, arrays can be significantly faster as they will allow one to avoid many boxing/unboxing conversions</li>\n<li>an application that only gets/sets values in an ArrayList (not very common!) could see a performance gain of more than 25% by switching to an array</li>\n</ul>\n<h2>Detailed results</h2>\n<p>Here are the results I measured for those three operations using the <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"noreferrer\">jmh benchmarking library</a> (times in nanoseconds) with JDK 7 on a standard x86 desktop machine. Note that ArrayList are never resized in the tests to make sure results are comparable. <a href=\"https://bitbucket.org/assylias/performance/src/06d31f92c240/src/main/java/com/assylias/performance/ArrayVsList.java?at=master\" rel=\"noreferrer\">Benchmark code available here</a>.</p>\n<h2>Array/ArrayList Creation</h2>\n<p>I ran 4 tests, executing the following statements:</p>\n<ul>\n<li>createArray1: <code>Integer[] array = new Integer[1];</code></li>\n<li>createList1: <code>List&lt;Integer&gt; list = new ArrayList&lt;&gt; (1);</code></li>\n<li>createArray10000: <code>Integer[] array = new Integer[10000];</code></li>\n<li>createList10000: <code>List&lt;Integer&gt; list = new ArrayList&lt;&gt; (10000);</code></li>\n</ul>\n<p>Results (in nanoseconds per call, 95% confidence):</p>\n<pre><code>a.p.g.a.ArrayVsList.CreateArray1         [10.933, 11.097]\na.p.g.a.ArrayVsList.CreateList1          [10.799, 11.046]\na.p.g.a.ArrayVsList.CreateArray10000    [394.899, 404.034]\na.p.g.a.ArrayVsList.CreateList10000     [396.706, 401.266]\n</code></pre>\n<p><strong>Conclusion: no noticeable difference</strong>.</p>\n<h2>get operations</h2>\n<p>I ran 2 tests, executing the following statements:</p>\n<ul>\n<li>getList: <code>return list.get(0);</code></li>\n<li>getArray: <code>return array[0];</code></li>\n</ul>\n<p>Results (in nanoseconds per call, 95% confidence):</p>\n<pre><code>a.p.g.a.ArrayVsList.getArray   [2.958, 2.984]\na.p.g.a.ArrayVsList.getList    [3.841, 3.874]\n</code></pre>\n<p><strong>Conclusion: getting from an array is about 25% faster</strong> than getting from an ArrayList, although the difference is only on the order of one nanosecond.</p>\n<h2>set operations</h2>\n<p>I ran 2 tests, executing the following statements:</p>\n<ul>\n<li>setList: <code>list.set(0, value);</code></li>\n<li>setArray: <code>array[0] = value;</code></li>\n</ul>\n<p>Results (in nanoseconds per call):</p>\n<pre><code>a.p.g.a.ArrayVsList.setArray   [4.201, 4.236]\na.p.g.a.ArrayVsList.setList    [6.783, 6.877]\n</code></pre>\n<p><strong>Conclusion: set operations on arrays are about 40% faster</strong> than on lists, but, as for get, each set operation takes a few nanoseconds - so for the difference to reach 1 second, one would need to set items in the list/array hundreds of millions of times!</p>\n<h1>clone/copy</h1>\n<p>ArrayList's copy constructor delegates to <code>Arrays.copyOf</code> so performance is identical to array copy (copying an array via <code>clone</code>, <code>Arrays.copyOf</code> or <code>System.arrayCopy</code> <a href=\"https://stackoverflow.com/questions/12157300/clone-or-arrays-copyof\">makes no material difference performance-wise</a>).</p>\n"},{"tags":[],"owner":{"account_id":70642,"reputation":12820,"user_id":204665,"accept_rate":92,"display_name":"Roman Nikitchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1382605332,"creation_date":1369384504,"answer_id":16730763,"question_id":716597,"body_markdown":"UPDATE:\r\n\r\nAs Mark noted there is no significant difference after JVM warm up (several test passes). Checked with re-created array or even new pass starting with new row of matrix. With great probability this signs simple array with index access is not to be used in favor of collections.\r\n\r\nStill first 1-2 passes simple array is 2-3 times faster.\r\n\r\nORIGINAL POST:\r\n\r\nToo much words for the subject too simple to check. **Without any question array is several times faster than any class container**. I run on this question looking for alternatives for my performance critical section. Here is the prototype code I built to check real situation:\r\n\r\n    import java.util.List;\r\n    import java.util.Arrays;\r\n    \r\n    public class IterationTest {\r\n    \r\n        private static final long MAX_ITERATIONS = 1000000000;\r\n    \r\n        public static void main(String [] args) {\r\n    \r\n            Integer [] array = {1, 5, 3, 5};\r\n            List&lt;Integer&gt; list = Arrays.asList(array);\r\n    \r\n            long start = System.currentTimeMillis();\r\n            int test_sum = 0;\r\n            for (int i = 0; i &lt; MAX_ITERATIONS; ++i) {\r\n    //            for (int e : array) {\r\n                for (int e : list) {\r\n                    test_sum += e;\r\n                }\r\n            }\r\n            long stop = System.currentTimeMillis();\r\n    \r\n            long ms = (stop - start);\r\n            System.out.println(&quot;Time: &quot; + ms);\r\n        }\r\n    }\r\n\r\nAnd here is the answer:\r\n\r\nBased on array (line 16 is active):\r\n\r\n    Time: 7064\r\n\r\nBased on list (line 17 is active):\r\n\r\n    Time: 20950\r\n\r\nAny more comment on &#39;faster&#39;? This is quite understood. The question is when about 3 time faster is better for you than flexibility of List. But this is another question.\r\nBy the way I checked this too based on manually constructed `ArrayList`. Almost the same result.\r\n","title":"Array or List in Java. Which is faster?","body":"<p>UPDATE:</p>\n\n<p>As Mark noted there is no significant difference after JVM warm up (several test passes). Checked with re-created array or even new pass starting with new row of matrix. With great probability this signs simple array with index access is not to be used in favor of collections.</p>\n\n<p>Still first 1-2 passes simple array is 2-3 times faster.</p>\n\n<p>ORIGINAL POST:</p>\n\n<p>Too much words for the subject too simple to check. <strong>Without any question array is several times faster than any class container</strong>. I run on this question looking for alternatives for my performance critical section. Here is the prototype code I built to check real situation:</p>\n\n<pre><code>import java.util.List;\nimport java.util.Arrays;\n\npublic class IterationTest {\n\n    private static final long MAX_ITERATIONS = 1000000000;\n\n    public static void main(String [] args) {\n\n        Integer [] array = {1, 5, 3, 5};\n        List&lt;Integer&gt; list = Arrays.asList(array);\n\n        long start = System.currentTimeMillis();\n        int test_sum = 0;\n        for (int i = 0; i &lt; MAX_ITERATIONS; ++i) {\n//            for (int e : array) {\n            for (int e : list) {\n                test_sum += e;\n            }\n        }\n        long stop = System.currentTimeMillis();\n\n        long ms = (stop - start);\n        System.out.println(\"Time: \" + ms);\n    }\n}\n</code></pre>\n\n<p>And here is the answer:</p>\n\n<p>Based on array (line 16 is active):</p>\n\n<pre><code>Time: 7064\n</code></pre>\n\n<p>Based on list (line 17 is active):</p>\n\n<pre><code>Time: 20950\n</code></pre>\n\n<p>Any more comment on 'faster'? This is quite understood. The question is when about 3 time faster is better for you than flexibility of List. But this is another question.\nBy the way I checked this too based on manually constructed <code>ArrayList</code>. Almost the same result.</p>\n"},{"tags":[],"owner":{"account_id":3673241,"reputation":1185,"user_id":3059896,"display_name":"Shehan Simen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1386197665,"creation_date":1386197665,"answer_id":20387851,"question_id":716597,"body_markdown":"List is the preferred way in java 1.5 and beyond as it can use generics. Arrays cannot have generics. Also Arrays have a pre defined length, which cannot grow dynamically. Initializing an array with a large size is not a good idea.\r\nArrayList is the the way to declare an array with generics and it can dynamically grow.\r\nBut if delete and insert is used more frequently, then linked list is the fastest data structure to be used.","title":"Array or List in Java. Which is faster?","body":"<p>List is the preferred way in java 1.5 and beyond as it can use generics. Arrays cannot have generics. Also Arrays have a pre defined length, which cannot grow dynamically. Initializing an array with a large size is not a good idea.\nArrayList is the the way to declare an array with generics and it can dynamically grow.\nBut if delete and insert is used more frequently, then linked list is the fastest data structure to be used.</p>\n"},{"tags":[],"owner":{"account_id":1212010,"reputation":7154,"user_id":1180387,"accept_rate":67,"display_name":"Nik"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1392791820,"creation_date":1392791820,"answer_id":21872909,"question_id":716597,"body_markdown":"Arrays recommended everywhere you may use them instead of list, especially in case if you know items count and size would not be changing. \r\n\r\nSee Oracle Java best practice: http://docs.oracle.com/cd/A97688_16/generic.903/bp/java.htm#1007056\r\n\r\nOf course, if you need add and remove objects from collection many times easy use lists.","title":"Array or List in Java. Which is faster?","body":"<p>Arrays recommended everywhere you may use them instead of list, especially in case if you know items count and size would not be changing. </p>\n\n<p>See Oracle Java best practice: <a href=\"http://docs.oracle.com/cd/A97688_16/generic.903/bp/java.htm#1007056\" rel=\"nofollow\">http://docs.oracle.com/cd/A97688_16/generic.903/bp/java.htm#1007056</a></p>\n\n<p>Of course, if you need add and remove objects from collection many times easy use lists.</p>\n"},{"tags":[],"owner":{"account_id":3270638,"reputation":216,"user_id":2754099,"display_name":"Alex Hayward"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414749574,"creation_date":1414685657,"answer_id":26658046,"question_id":716597,"body_markdown":"A lot of microbenchmarks given here have found numbers of a few nanoseconds for things like array/ArrayList reads. This is quite reasonable if everything is in your L1 cache.\r\n\r\nA higher level cache or main memory access can have order of magnitude times of something like 10nS-100nS, vs more like 1nS for L1 cache. Accessing an ArrayList has an extra memory indirection, and in a real application you could pay this cost anything from almost never to every time, depending on what your code is doing between accesses. And, of course, if you have a lot of small ArrayLists this might add to your memory use and make it more likely you&#39;ll have cache misses.\r\n\r\nThe original poster appears to be using just one and accessing a lot of contents in a short time, so it should be no great hardship. But it might be different for other people, and you should watch out when interpreting microbenchmarks.\r\n\r\nJava Strings, however, are appallingly wasteful, especially if you store lots of small ones (just look at them with a memory analyzer, it seems to be &gt; 60 bytes for a string of a few characters). An array of strings has an indirection to the String object, and another from the String object to a char[] which contains the string itself. If anything&#39;s going to blow your L1 cache it&#39;s this, combined with thousands or tens of thousands of Strings. So, if you&#39;re serious - really serious - about scraping out as much performance as possible then you could look at doing it differently. You could, say, hold two arrays, a char[] with all the strings in it, one after another, and an int[] with offsets to the starts. This will be a PITA to do anything with, and you almost certainly don&#39;t need it. And if you do, you&#39;ve chosen the wrong language.\r\n","title":"Array or List in Java. Which is faster?","body":"<p>A lot of microbenchmarks given here have found numbers of a few nanoseconds for things like array/ArrayList reads. This is quite reasonable if everything is in your L1 cache.</p>\n\n<p>A higher level cache or main memory access can have order of magnitude times of something like 10nS-100nS, vs more like 1nS for L1 cache. Accessing an ArrayList has an extra memory indirection, and in a real application you could pay this cost anything from almost never to every time, depending on what your code is doing between accesses. And, of course, if you have a lot of small ArrayLists this might add to your memory use and make it more likely you'll have cache misses.</p>\n\n<p>The original poster appears to be using just one and accessing a lot of contents in a short time, so it should be no great hardship. But it might be different for other people, and you should watch out when interpreting microbenchmarks.</p>\n\n<p>Java Strings, however, are appallingly wasteful, especially if you store lots of small ones (just look at them with a memory analyzer, it seems to be > 60 bytes for a string of a few characters). An array of strings has an indirection to the String object, and another from the String object to a char[] which contains the string itself. If anything's going to blow your L1 cache it's this, combined with thousands or tens of thousands of Strings. So, if you're serious - really serious - about scraping out as much performance as possible then you could look at doing it differently. You could, say, hold two arrays, a char[] with all the strings in it, one after another, and an int[] with offsets to the starts. This will be a PITA to do anything with, and you almost certainly don't need it. And if you do, you've chosen the wrong language.</p>\n"},{"tags":[],"owner":{"account_id":2472300,"reputation":3706,"user_id":2153834,"accept_rate":67,"display_name":"Vipin Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598853035,"creation_date":1456122289,"answer_id":35547033,"question_id":716597,"body_markdown":"&gt; ArrayList internally uses  array  object to add(or store) the\r\n&gt; elements. In other words, ArrayList is backed by Array data\r\n&gt; -structure.The array of ArrayList is resizable (or dynamic).\r\n\r\n  \r\n\r\n**Array is faster than ArrayList** because ArrayList internally uses an array. if we can directly add elements in Array and indirectly add an element in \r\nArray through ArrayList always directly mechanism is faster than an indirect mechanism.\r\n\r\nThere is two overloaded add() methods in ArrayList class:  \r\n1.  `add(Object)`: adds an object to the end of the list.  \r\n2.  `add(int index, Object )`: inserts the specified object at the specified position in the list.\r\n\r\n**How the size of ArrayList grows dynamically?** \r\n  \r\n\r\n    public boolean add(E e)        \r\n    {       \r\n         ensureCapacity(size+1);\r\n         elementData[size++] = e;         \r\n         return true;\r\n    }\r\nAn important point to note from the above code is that we are checking the capacity of the ArrayList, before adding the element. ensureCapacity()  determines what is the current size of occupied elements and what is the maximum size of the array. If the size of the filled elements (including the new element to be added to the ArrayList class) is greater than the maximum size of the array then increase the size of the array. But the size of the array can not be increased dynamically. So what happens internally is new Array is created with the capacity\r\n\r\nTill Java 6\r\n\r\n   \r\n\r\n    int newCapacity = (oldCapacity * 3)/2 + 1;\r\n\r\n\r\n(Update) From Java 7\r\n\r\n     int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\r\n\r\n\r\nalso, data from the old array is copied into the new array.\r\n\r\nHaving overhead methods in ArrayList that&#39;s why Array is faster than `ArrayList`.","title":"Array or List in Java. Which is faster?","body":"<blockquote>\n<p>ArrayList internally uses  array  object to add(or store) the\nelements. In other words, ArrayList is backed by Array data\n-structure.The array of ArrayList is resizable (or dynamic).</p>\n</blockquote>\n<p><strong>Array is faster than ArrayList</strong> because ArrayList internally uses an array. if we can directly add elements in Array and indirectly add an element in\nArray through ArrayList always directly mechanism is faster than an indirect mechanism.</p>\n<p>There is two overloaded add() methods in ArrayList class:</p>\n<ol>\n<li><code>add(Object)</code>: adds an object to the end of the list.</li>\n<li><code>add(int index, Object )</code>: inserts the specified object at the specified position in the list.</li>\n</ol>\n<p><strong>How the size of ArrayList grows dynamically?</strong></p>\n<pre><code>public boolean add(E e)        \n{       \n     ensureCapacity(size+1);\n     elementData[size++] = e;         \n     return true;\n}\n</code></pre>\n<p>An important point to note from the above code is that we are checking the capacity of the ArrayList, before adding the element. ensureCapacity()  determines what is the current size of occupied elements and what is the maximum size of the array. If the size of the filled elements (including the new element to be added to the ArrayList class) is greater than the maximum size of the array then increase the size of the array. But the size of the array can not be increased dynamically. So what happens internally is new Array is created with the capacity</p>\n<p>Till Java 6</p>\n<pre><code>int newCapacity = (oldCapacity * 3)/2 + 1;\n</code></pre>\n<p>(Update) From Java 7</p>\n<pre><code> int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\n</code></pre>\n<p>also, data from the old array is copied into the new array.</p>\n<p>Having overhead methods in ArrayList that's why Array is faster than <code>ArrayList</code>.</p>\n"},{"tags":[],"owner":{"account_id":1162290,"reputation":3419,"user_id":1141564,"accept_rate":56,"display_name":"Xtra Coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464811214,"creation_date":1464811214,"answer_id":37577736,"question_id":716597,"body_markdown":"None of the answers had information that I was interested in - repetitive scan of the same array many many times. Had to create a JMH test for this.\r\n\r\n**Results** (Java 1.8.0_66 x32, iterating plain array is at least 5 times quicker than ArrayList):\r\n\r\n\tBenchmark                    Mode  Cnt   Score   Error  Units\r\n\tMyBenchmark.testArrayForGet  avgt   10   8.121 ? 0.233  ms/op\r\n\tMyBenchmark.testListForGet   avgt   10  37.416 ? 0.094  ms/op\r\n\tMyBenchmark.testListForEach  avgt   10  75.674 ? 1.897  ms/op\r\n\r\n**Test**\r\n\r\n    package my.jmh.test;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.TimeUnit;\r\n    import org.openjdk.jmh.annotations.Benchmark;\r\n    import org.openjdk.jmh.annotations.BenchmarkMode;\r\n    import org.openjdk.jmh.annotations.Fork;\r\n    import org.openjdk.jmh.annotations.Measurement;\r\n    import org.openjdk.jmh.annotations.Mode;\r\n    import org.openjdk.jmh.annotations.OutputTimeUnit;\r\n    import org.openjdk.jmh.annotations.Scope;\r\n    import org.openjdk.jmh.annotations.State;\r\n    import org.openjdk.jmh.annotations.Warmup;\r\n\r\n    @State(Scope.Benchmark)\r\n    @Fork(1)\r\n    @Warmup(iterations = 5, timeUnit = TimeUnit.SECONDS)\r\n    @Measurement(iterations = 10)\r\n    @BenchmarkMode(Mode.AverageTime)\r\n    @OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n    public class MyBenchmark {\r\n\r\n        public final static int ARR_SIZE = 100;\r\n        public final static int ITER_COUNT = 100000;\r\n\r\n        String arr[] = new String[ARR_SIZE];\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;(ARR_SIZE);\r\n\r\n        public MyBenchmark() {\r\n            for( int i = 0; i &lt; ARR_SIZE; i++ ) {\r\n                list.add(null);\r\n            }\r\n        }\r\n\r\n        @Benchmark\r\n        public void testListForEach() {\r\n            int count = 0;\r\n            for( int i = 0; i &lt; ITER_COUNT; i++ ) {\r\n                for( String str : list ) {\r\n                    if( str != null )\r\n                        count++;\r\n                }\r\n            }\r\n            if( count &gt; 0 )\r\n                System.out.print(count);\r\n        }\r\n\r\n        @Benchmark\r\n        public void testListForGet() {\r\n            int count = 0;\r\n            for( int i = 0; i &lt; ITER_COUNT; i++ ) {\r\n                for( int j = 0; j &lt; ARR_SIZE; j++ ) {\r\n                    if( list.get(j) != null )\r\n                        count++;\r\n                }\r\n            }\r\n            if( count &gt; 0 )\r\n                System.out.print(count);\r\n        }\r\n\r\n        @Benchmark\r\n        public void testArrayForGet() {\r\n            int count = 0;\r\n            for( int i = 0; i &lt; ITER_COUNT; i++ ) {\r\n                for( int j = 0; j &lt; ARR_SIZE; j++ ) {\r\n                    if( arr[j] != null )\r\n                        count++;\r\n                }\r\n            }\r\n            if( count &gt; 0 )\r\n                System.out.print(count);\r\n        }\r\n\r\n    }\r\n","title":"Array or List in Java. Which is faster?","body":"<p>None of the answers had information that I was interested in - repetitive scan of the same array many many times. Had to create a JMH test for this.</p>\n\n<p><strong>Results</strong> (Java 1.8.0_66 x32, iterating plain array is at least 5 times quicker than ArrayList):</p>\n\n<pre><code>Benchmark                    Mode  Cnt   Score   Error  Units\nMyBenchmark.testArrayForGet  avgt   10   8.121 ? 0.233  ms/op\nMyBenchmark.testListForGet   avgt   10  37.416 ? 0.094  ms/op\nMyBenchmark.testListForEach  avgt   10  75.674 ? 1.897  ms/op\n</code></pre>\n\n<p><strong>Test</strong></p>\n\n<pre><code>package my.jmh.test;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\nimport org.openjdk.jmh.annotations.Benchmark;\nimport org.openjdk.jmh.annotations.BenchmarkMode;\nimport org.openjdk.jmh.annotations.Fork;\nimport org.openjdk.jmh.annotations.Measurement;\nimport org.openjdk.jmh.annotations.Mode;\nimport org.openjdk.jmh.annotations.OutputTimeUnit;\nimport org.openjdk.jmh.annotations.Scope;\nimport org.openjdk.jmh.annotations.State;\nimport org.openjdk.jmh.annotations.Warmup;\n\n@State(Scope.Benchmark)\n@Fork(1)\n@Warmup(iterations = 5, timeUnit = TimeUnit.SECONDS)\n@Measurement(iterations = 10)\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\npublic class MyBenchmark {\n\n    public final static int ARR_SIZE = 100;\n    public final static int ITER_COUNT = 100000;\n\n    String arr[] = new String[ARR_SIZE];\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(ARR_SIZE);\n\n    public MyBenchmark() {\n        for( int i = 0; i &lt; ARR_SIZE; i++ ) {\n            list.add(null);\n        }\n    }\n\n    @Benchmark\n    public void testListForEach() {\n        int count = 0;\n        for( int i = 0; i &lt; ITER_COUNT; i++ ) {\n            for( String str : list ) {\n                if( str != null )\n                    count++;\n            }\n        }\n        if( count &gt; 0 )\n            System.out.print(count);\n    }\n\n    @Benchmark\n    public void testListForGet() {\n        int count = 0;\n        for( int i = 0; i &lt; ITER_COUNT; i++ ) {\n            for( int j = 0; j &lt; ARR_SIZE; j++ ) {\n                if( list.get(j) != null )\n                    count++;\n            }\n        }\n        if( count &gt; 0 )\n            System.out.print(count);\n    }\n\n    @Benchmark\n    public void testArrayForGet() {\n        int count = 0;\n        for( int i = 0; i &lt; ITER_COUNT; i++ ) {\n            for( int j = 0; j &lt; ARR_SIZE; j++ ) {\n                if( arr[j] != null )\n                    count++;\n            }\n        }\n        if( count &gt; 0 )\n            System.out.print(count);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1482742,"reputation":3434,"user_id":6680585,"accept_rate":84,"display_name":"Tom Taylor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465503473,"creation_date":1465503152,"answer_id":37735321,"question_id":716597,"body_markdown":"Arrays - It would always be better when we have to achieve faster fetching of results\r\n\r\nLists- Performs results on insertion and deletion since they can be done in O(1) and this also provides methods to add, fetch and delete data easily. Much easier to use.\r\n\r\nBut always remember that the fetching of data would be fast when the index position in array where the data is stored - is known. \r\n\r\nThis could be achieved well by sorting the array. Hence this increases the time to fetch the data (ie; storing the data + sorting the data + seek for the position where the data is found). Hence this increases additional latency to fetch the data from the array even they may be good at fetching the data sooner.\r\n\r\nHence this could be solved with trie data structure or ternary data structure. As discussed above the trie data structure would be very efficient in searching for the data the search for a particularly word can be done in O(1) magnitude. When time matters ie; if you have to search and retrieve data quickly you may go with trie data structure. \r\n\r\nIf you want your memory space to be consumed less and you wish to have a better performance then go with ternary data structure. Both these are suitable for storing huge number of strings (eg; like words contained in dictionary).\r\n","title":"Array or List in Java. Which is faster?","body":"<p>Arrays - It would always be better when we have to achieve faster fetching of results</p>\n\n<p>Lists- Performs results on insertion and deletion since they can be done in O(1) and this also provides methods to add, fetch and delete data easily. Much easier to use.</p>\n\n<p>But always remember that the fetching of data would be fast when the index position in array where the data is stored - is known. </p>\n\n<p>This could be achieved well by sorting the array. Hence this increases the time to fetch the data (ie; storing the data + sorting the data + seek for the position where the data is found). Hence this increases additional latency to fetch the data from the array even they may be good at fetching the data sooner.</p>\n\n<p>Hence this could be solved with trie data structure or ternary data structure. As discussed above the trie data structure would be very efficient in searching for the data the search for a particularly word can be done in O(1) magnitude. When time matters ie; if you have to search and retrieve data quickly you may go with trie data structure. </p>\n\n<p>If you want your memory space to be consumed less and you wish to have a better performance then go with ternary data structure. Both these are suitable for storing huge number of strings (eg; like words contained in dictionary).</p>\n"},{"tags":[],"owner":{"account_id":4181024,"reputation":2325,"user_id":3426053,"display_name":"boraseoksoon"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1482347431,"creation_date":1478199097,"answer_id":40409168,"question_id":716597,"body_markdown":"Since there are already a lot of good answers here, I would like to give you some other information of practical view, which is **insertion and iteration performance comparison : primitive array vs Linked-list in Java.**\r\n\r\nThis is actual simple performance check.&lt;br&gt; So, the result will depend on the machine performance.\r\n\r\nSource code used for this is below : \r\n\r\n    import java.util.Iterator;\r\n    import java.util.LinkedList;\r\n \r\n    public class Array_vs_LinkedList {\r\n \r\n\t    private final static int MAX_SIZE = 40000000;\r\n\r\n\t    public static void main(String[] args) {\r\n   \r\n\t\t    LinkedList lList = new LinkedList(); \r\n\r\n\t\t    /* insertion performance check */\r\n\r\n\t\t    long startTime = System.currentTimeMillis();\r\n\r\n    \t\tfor (int i=0; i&lt;MAX_SIZE; i++) {\r\n\t\t\t    lList.add(i);\r\n    \t\t}\r\n\r\n\t      \tlong stopTime = System.currentTimeMillis();\r\n      \t\tlong elapsedTime = stopTime - startTime;\r\n      \t\tSystem.out.println(&quot;[Insert]LinkedList insert operation with &quot; + MAX_SIZE + &quot; number of integer elapsed time is &quot; + elapsedTime + &quot; millisecond.&quot;);\r\n \r\n    \t\tint[] arr = new int[MAX_SIZE];\r\n\r\n\t\t    startTime = System.currentTimeMillis();\r\n    \t\tfor(int i=0; i&lt;MAX_SIZE; i++){\r\n       \t\t\tarr[i] = i; \r\n    \t\t}\r\n\r\n\t      \tstopTime = System.currentTimeMillis();\r\n      \t\telapsedTime = stopTime - startTime;\r\n      \t\tSystem.out.println(&quot;[Insert]Array Insert operation with &quot; + MAX_SIZE + &quot; number of integer elapsed time is &quot; + elapsedTime + &quot; millisecond.&quot;);\r\n\r\n\r\n\t\t    /* iteration performance check */\r\n\t\t\r\n\t\t    startTime = System.currentTimeMillis();\r\n\r\n\t\t    Iterator itr = lList.iterator();\r\n\r\n    \t\twhile(itr.hasNext()) {\r\n\t\t\t    itr.next();\r\n      \t\t\t// System.out.println(&quot;Linked list running : &quot; + itr.next());\r\n    \t\t}\r\n\r\n\t      \tstopTime = System.currentTimeMillis();\r\n      \t\telapsedTime = stopTime - startTime;\r\n      \t\tSystem.out.println(&quot;[Loop]LinkedList iteration with &quot; + MAX_SIZE + &quot; number of integer elapsed time is &quot; + elapsedTime + &quot; millisecond.&quot;);\r\n\r\n\r\n\t\t    startTime = System.currentTimeMillis();\r\n\r\n            int t = 0;\r\n            for (int i=0; i &lt; MAX_SIZE; i++) {\r\n                t = arr[i];\r\n                // System.out.println(&quot;array running : &quot; + i);\r\n            }\r\n\r\n\t      \tstopTime = System.currentTimeMillis();\r\n      \t\telapsedTime = stopTime - startTime;\r\n      \t\tSystem.out.println(&quot;[Loop]Array iteration with &quot; + MAX_SIZE + &quot; number of integer elapsed time is &quot; + elapsedTime + &quot; millisecond.&quot;);\r\n\t    }\r\n    }\r\n\r\n\r\n\r\nPerformance Result is below :\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V8ALj.png","title":"Array or List in Java. Which is faster?","body":"<p>Since there are already a lot of good answers here, I would like to give you some other information of practical view, which is <strong>insertion and iteration performance comparison : primitive array vs Linked-list in Java.</strong></p>\n\n<p>This is actual simple performance check.<br> So, the result will depend on the machine performance.</p>\n\n<p>Source code used for this is below : </p>\n\n<pre><code>import java.util.Iterator;\nimport java.util.LinkedList;\n\npublic class Array_vs_LinkedList {\n\n    private final static int MAX_SIZE = 40000000;\n\n    public static void main(String[] args) {\n\n        LinkedList lList = new LinkedList(); \n\n        /* insertion performance check */\n\n        long startTime = System.currentTimeMillis();\n\n        for (int i=0; i&lt;MAX_SIZE; i++) {\n            lList.add(i);\n        }\n\n        long stopTime = System.currentTimeMillis();\n        long elapsedTime = stopTime - startTime;\n        System.out.println(\"[Insert]LinkedList insert operation with \" + MAX_SIZE + \" number of integer elapsed time is \" + elapsedTime + \" millisecond.\");\n\n        int[] arr = new int[MAX_SIZE];\n\n        startTime = System.currentTimeMillis();\n        for(int i=0; i&lt;MAX_SIZE; i++){\n            arr[i] = i; \n        }\n\n        stopTime = System.currentTimeMillis();\n        elapsedTime = stopTime - startTime;\n        System.out.println(\"[Insert]Array Insert operation with \" + MAX_SIZE + \" number of integer elapsed time is \" + elapsedTime + \" millisecond.\");\n\n\n        /* iteration performance check */\n\n        startTime = System.currentTimeMillis();\n\n        Iterator itr = lList.iterator();\n\n        while(itr.hasNext()) {\n            itr.next();\n            // System.out.println(\"Linked list running : \" + itr.next());\n        }\n\n        stopTime = System.currentTimeMillis();\n        elapsedTime = stopTime - startTime;\n        System.out.println(\"[Loop]LinkedList iteration with \" + MAX_SIZE + \" number of integer elapsed time is \" + elapsedTime + \" millisecond.\");\n\n\n        startTime = System.currentTimeMillis();\n\n        int t = 0;\n        for (int i=0; i &lt; MAX_SIZE; i++) {\n            t = arr[i];\n            // System.out.println(\"array running : \" + i);\n        }\n\n        stopTime = System.currentTimeMillis();\n        elapsedTime = stopTime - startTime;\n        System.out.println(\"[Loop]Array iteration with \" + MAX_SIZE + \" number of integer elapsed time is \" + elapsedTime + \" millisecond.\");\n    }\n}\n</code></pre>\n\n<p>Performance Result is below :</p>\n\n<p><a href=\"https://i.stack.imgur.com/V8ALj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V8ALj.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":104202,"reputation":61,"user_id":278726,"display_name":"Xult"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1530627230,"creation_date":1530624545,"answer_id":51155879,"question_id":716597,"body_markdown":"I came here to get a better feeling for the performance impact of using lists over arrays. I had to adapt code here for my scenario: array/list of ~1000 ints using mostly getters, meaning array[j] vs. list.get(j)\r\n\r\nTaking the best of 7 to be unscientific about it (first few with list where 2.5x slower) I get this:\r\n\r\n    array Integer[] best 643ms iterator\r\n    ArrayList&lt;Integer&gt; best 1014ms iterator\r\n            \r\n    array Integer[] best 635ms getter\r\n    ArrayList&lt;Integer&gt; best 891ms getter (strange though)\r\n- so, very roughly 30% faster with array \r\n\r\nThe second reason for posting now is that no-one mentions the impact if you do math/matrix/simulation/optimization code with _nested_ loops.\r\n\r\nSay you have three nested levels and the inner loop is twice as slow you are looking at 8 times performance hit. Something that would run in a day now takes a week.\r\n\r\n*EDIT\r\nQuite shocked here, for kicks I tried declaring int[1000] rather than Integer[1000]\r\n\r\n    array int[] best 299ms iterator\r\n    array int[] best 296ms getter\r\n\r\nUsing Integer[] vs. int[] represents a double performance hit, ListArray&lt;Integer&gt; with iterator is 3x slower than int[]. Really thought Java&#39;s list implementations were similar to native arrays...\r\n\r\nCode for reference (call multiple times):\r\n\r\n        public static void testArray()\r\n        {\r\n        \tfinal long MAX_ITERATIONS = 1000000;\r\n        \tfinal int MAX_LENGTH = 1000;\r\n        \t    \t\r\n        \tRandom r = new Random();\r\n        \t\r\n            //Integer[] array = new Integer[MAX_LENGTH];\r\n        \tint[] array = new int[MAX_LENGTH];\r\n        \t\r\n        \tList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;()\r\n    \t\t{{\r\n    \t\t\tfor (int i = 0; i &lt; MAX_LENGTH; ++i)\r\n    \t\t\t{\r\n    \t\t\t\tint val = r.nextInt();\r\n    \t\t\t\tadd(val);\r\n    \t\t\t\tarray[i] = val;\r\n    \t\t\t}\r\n    \t\t}};\r\n    \r\n            long start = System.currentTimeMillis();\r\n            int test_sum = 0;\r\n            for (int i = 0; i &lt; MAX_ITERATIONS; ++i)\r\n            {\r\n    //\t\t\tfor (int e : array)\r\n    //\t\t\tfor (int e : list)        \t\r\n            \tfor (int j = 0; j &lt; MAX_LENGTH; ++j)\r\n            \t{\r\n            \t\tint e = array[j];\r\n    //        \t\tint e = list.get(j);\r\n                    test_sum += e;\r\n        \t\t}\r\n            }\r\n            \r\n            long stop = System.currentTimeMillis();\r\n    \r\n            long ms = (stop - start);\r\n            System.out.println(&quot;Time: &quot; + ms);\r\n        }","title":"Array or List in Java. Which is faster?","body":"<p>I came here to get a better feeling for the performance impact of using lists over arrays. I had to adapt code here for my scenario: array/list of ~1000 ints using mostly getters, meaning array[j] vs. list.get(j)</p>\n\n<p>Taking the best of 7 to be unscientific about it (first few with list where 2.5x slower) I get this:</p>\n\n<pre><code>array Integer[] best 643ms iterator\nArrayList&lt;Integer&gt; best 1014ms iterator\n\narray Integer[] best 635ms getter\nArrayList&lt;Integer&gt; best 891ms getter (strange though)\n</code></pre>\n\n<p>- so, very roughly 30% faster with array </p>\n\n<p>The second reason for posting now is that no-one mentions the impact if you do math/matrix/simulation/optimization code with <em>nested</em> loops.</p>\n\n<p>Say you have three nested levels and the inner loop is twice as slow you are looking at 8 times performance hit. Something that would run in a day now takes a week.</p>\n\n<p>*EDIT\nQuite shocked here, for kicks I tried declaring int[1000] rather than Integer[1000]</p>\n\n<pre><code>array int[] best 299ms iterator\narray int[] best 296ms getter\n</code></pre>\n\n<p>Using Integer[] vs. int[] represents a double performance hit, ListArray with iterator is 3x slower than int[]. Really thought Java's list implementations were similar to native arrays...</p>\n\n<p>Code for reference (call multiple times):</p>\n\n<pre><code>    public static void testArray()\n    {\n        final long MAX_ITERATIONS = 1000000;\n        final int MAX_LENGTH = 1000;\n\n        Random r = new Random();\n\n        //Integer[] array = new Integer[MAX_LENGTH];\n        int[] array = new int[MAX_LENGTH];\n\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;()\n        {{\n            for (int i = 0; i &lt; MAX_LENGTH; ++i)\n            {\n                int val = r.nextInt();\n                add(val);\n                array[i] = val;\n            }\n        }};\n\n        long start = System.currentTimeMillis();\n        int test_sum = 0;\n        for (int i = 0; i &lt; MAX_ITERATIONS; ++i)\n        {\n//          for (int e : array)\n//          for (int e : list)          \n            for (int j = 0; j &lt; MAX_LENGTH; ++j)\n            {\n                int e = array[j];\n//              int e = list.get(j);\n                test_sum += e;\n            }\n        }\n\n        long stop = System.currentTimeMillis();\n\n        long ms = (stop - start);\n        System.out.println(\"Time: \" + ms);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10775305,"reputation":668,"user_id":7927573,"display_name":"Oguzhan Cevik"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1604478070,"creation_date":1604478070,"answer_id":64676363,"question_id":716597,"body_markdown":"Which one to use depends on the problem. We need to look at the Big O.\r\n\r\n[![Big O Values of List and Array][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kQ9c5.png\r\n\r\n\r\nimage source: https://github.com/egonSchiele/grokking_algorithms","title":"Array or List in Java. Which is faster?","body":"<p>Which one to use depends on the problem. We need to look at the Big O.</p>\n<p><a href=\"https://i.stack.imgur.com/kQ9c5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kQ9c5.png\" alt=\"Big O Values of List and Array\" /></a></p>\n<p>image source: <a href=\"https://github.com/egonSchiele/grokking_algorithms\" rel=\"nofollow noreferrer\">https://github.com/egonSchiele/grokking_algorithms</a></p>\n"}],"owner":{"account_id":29100,"reputation":14836,"user_id":78351,"accept_rate":71,"display_name":"euphoria83"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342415,"favorite_count":0,"down_vote_count":2,"up_vote_count":401,"accepted_answer_id":716619,"answer_count":32,"score":399,"last_activity_date":1677514697,"creation_date":1238824648,"question_id":716597,"body_markdown":"I have to keep thousands of strings in memory to be accessed serially in Java. Should I store them in an array or should I use some kind of List ?\r\n\r\nSince arrays keep all the data in a contiguous chunk of memory (unlike Lists), would the use of an array to store thousands of strings cause problems ?","title":"Array or List in Java. Which is faster?","body":"<p>I have to keep thousands of strings in memory to be accessed serially in Java. Should I store them in an array or should I use some kind of List ?</p>\n\n<p>Since arrays keep all the data in a contiguous chunk of memory (unlike Lists), would the use of an array to store thousands of strings cause problems ?</p>\n"},{"tags":["java","exception","rmi"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1588124261,"creation_date":1330737058,"answer_id":9542464,"question_id":9531158,"body_markdown":"There are four cases of this exception.\r\n\r\n1. When exporting: you didn&#39;t run &#39;rmic&#39; and you didn&#39;t take the steps described in the preamble to the Javadoc for `UnicastRemoteObject` to make it unnecessary.\r\n\r\n2. When binding: the Registry doesn&#39;t have the stub or the remote interface or something they depend on on its classpath.\r\n\r\n3. when looking up: the client does&#39;t have these things on its classpath.\r\n\r\n4. When calling a remote method: you either sent something to the server of a class not present on its CLASSPATH, or received something from the server (including an exception) of a class not on your CLASSPATH: in both cases possibly a derived class or interface implementation of a class or interface mentioned in the remote interface&#39;s method signature.\r\n\r\nThis is case 2. The Registry can&#39;t find the named class.\r\n\r\nThere are several solutions:\r\n\r\n1. Start the Registry with a CLASSPATH that includes the relevant JARs or directories.\r\n\r\n2. Start the Registry in your server JVM, via `LocateRegistry.createRegistry().`\r\n\r\n3. Use dynamic stubs, as described in the preamble to the Javadoc of `UnicastRemoteObject.` However you may then still run into the same problem with the remote interface itself or a class that it depends on, in which case 1-3 above still apply to that class/those classes.\r\n\r\n4. Ensure that case (4) above doesn&#39;t occur.\r\n\r\n5. Use the codebase feature. This is really a deployment option and IMO something to be avoided at the initial development stage.","title":"java.rmi.ServerException: RemoteException occurred in server thread (ClassNotFoundException)","body":"<p>There are four cases of this exception.</p>\n\n<ol>\n<li><p>When exporting: you didn't run 'rmic' and you didn't take the steps described in the preamble to the Javadoc for <code>UnicastRemoteObject</code> to make it unnecessary.</p></li>\n<li><p>When binding: the Registry doesn't have the stub or the remote interface or something they depend on on its classpath.</p></li>\n<li><p>when looking up: the client does't have these things on its classpath.</p></li>\n<li><p>When calling a remote method: you either sent something to the server of a class not present on its CLASSPATH, or received something from the server (including an exception) of a class not on your CLASSPATH: in both cases possibly a derived class or interface implementation of a class or interface mentioned in the remote interface's method signature.</p></li>\n</ol>\n\n<p>This is case 2. The Registry can't find the named class.</p>\n\n<p>There are several solutions:</p>\n\n<ol>\n<li><p>Start the Registry with a CLASSPATH that includes the relevant JARs or directories.</p></li>\n<li><p>Start the Registry in your server JVM, via <code>LocateRegistry.createRegistry().</code></p></li>\n<li><p>Use dynamic stubs, as described in the preamble to the Javadoc of <code>UnicastRemoteObject.</code> However you may then still run into the same problem with the remote interface itself or a class that it depends on, in which case 1-3 above still apply to that class/those classes.</p></li>\n<li><p>Ensure that case (4) above doesn't occur.</p></li>\n<li><p>Use the codebase feature. This is really a deployment option and IMO something to be avoided at the initial development stage.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1836147,"reputation":59,"user_id":1666493,"display_name":"MUNIRAJ"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1348515794,"creation_date":1347468546,"answer_id":12392894,"question_id":9531158,"body_markdown":"\r\n    Remote Server Error:RemoteException occurred in server thread; nested exception is:\r\n    java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is:\r\n    java.lang.ClassNotFoundException: mathInterface\r\n\r\nThe error very simple to solve to be perform following steps:\r\n\r\n- For example your java file consider D drive\r\n- Start rmiregistry D drive( example D:\\start rmiregistry)then don&#39;t start rmiregistry on the other drives, it will yield the above error\r\n\r\n(Wherever your file is, start `rmiregistry`)\r\n\r\n\r\n","title":"java.rmi.ServerException: RemoteException occurred in server thread (ClassNotFoundException)","body":"<pre><code>Remote Server Error:RemoteException occurred in server thread; nested exception is:\njava.rmi.UnmarshalException: error unmarshalling arguments; nested exception is:\njava.lang.ClassNotFoundException: mathInterface\n</code></pre>\n\n<p>The error very simple to solve to be perform following steps:</p>\n\n<ul>\n<li>For example your java file consider D drive</li>\n<li>Start rmiregistry D drive( example D:\\start rmiregistry)then don't start rmiregistry on the other drives, it will yield the above error</li>\n</ul>\n\n<p>(Wherever your file is, start <code>rmiregistry</code>)</p>\n"},{"tags":[],"owner":{"account_id":1037758,"reputation":96,"user_id":1044515,"display_name":"kkjava"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1427760555,"creation_date":1401709616,"answer_id":23993791,"question_id":9531158,"body_markdown":"You can launch rmiregistry from anywhere but you have to make sure that the compiled classes are already in your classpath. For example:-\r\n\r\n    E:\\ARMSRemoteUpdater\\WebContent\\WEB-INF\\classes&gt;set classpath=%classpath%;E:\\ARMSRemoteUpdater\\WebContent\\WEB-INF\\classes &lt;ENTER&gt;\r\n\r\n    E:\\ARMSRemoteUpdater\\WebContent\\WEB-INF\\classes&gt;c: &lt;ENTER&gt;\r\n\r\n    C:\\&gt;rmiregistry\r\n\r\nAnd the above should work fine.\r\n\r\nIn general, if you launch rmiregistry from the root location of the compiled classes (above example it is E:\\ARMSRemoteUpdater\\WebContent\\WEB-INF\\classes), that will work because . (dot - current directory) is already set in your classpath.\r\n\r\nBut as soon as you remove . (dot - current directory) from your classpath, the above working condition will also fail.\r\n\r\nHope I have explained in details.\r\n\r\n\r\n","title":"java.rmi.ServerException: RemoteException occurred in server thread (ClassNotFoundException)","body":"<p>You can launch rmiregistry from anywhere but you have to make sure that the compiled classes are already in your classpath. For example:-</p>\n\n<pre><code>E:\\ARMSRemoteUpdater\\WebContent\\WEB-INF\\classes&gt;set classpath=%classpath%;E:\\ARMSRemoteUpdater\\WebContent\\WEB-INF\\classes &lt;ENTER&gt;\n\nE:\\ARMSRemoteUpdater\\WebContent\\WEB-INF\\classes&gt;c: &lt;ENTER&gt;\n\nC:\\&gt;rmiregistry\n</code></pre>\n\n<p>And the above should work fine.</p>\n\n<p>In general, if you launch rmiregistry from the root location of the compiled classes (above example it is E:\\ARMSRemoteUpdater\\WebContent\\WEB-INF\\classes), that will work because . (dot - current directory) is already set in your classpath.</p>\n\n<p>But as soon as you remove . (dot - current directory) from your classpath, the above working condition will also fail.</p>\n\n<p>Hope I have explained in details.</p>\n"},{"tags":[],"owner":{"account_id":12594071,"reputation":148,"user_id":9159474,"display_name":"star8163264"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1550174114,"creation_date":1550174114,"answer_id":54698129,"question_id":9531158,"body_markdown":"I got this same issue, and a different solution worked for me. I was running two different IntelliJ projects, with a copy of the interface in each project. One of them was in a package, and the other one wasn&#39;t, and that was what was causing this error. \r\n\r\nSolutions:\r\n\r\n - Make sure the interface copies aren&#39;t in a package. \r\n - Make sure the interface copies have the exact same package name.","title":"java.rmi.ServerException: RemoteException occurred in server thread (ClassNotFoundException)","body":"<p>I got this same issue, and a different solution worked for me. I was running two different IntelliJ projects, with a copy of the interface in each project. One of them was in a package, and the other one wasn't, and that was what was causing this error. </p>\n\n<p>Solutions:</p>\n\n<ul>\n<li>Make sure the interface copies aren't in a package. </li>\n<li>Make sure the interface copies have the exact same package name.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18474093,"reputation":19,"user_id":13458130,"display_name":"VMFH"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1594319763,"creation_date":1594259923,"answer_id":62806214,"question_id":9531158,"body_markdown":"I will try to explain it as better as possible what I did:\r\n1st. I declared the classpath variable like follow:\r\n1. `set classpath=%classpath%`\r\n2. `set classpath=C:\\compiler`\r\n3. `set classpath=C:\\compiler\\libro\\cap07\\rmi\\hello\\Hello.java`\r\n4. `set classpath=C:\\compiler\\libro\\cap07\\rmi\\hello\\Server.java`\r\n5. `set classpath=C:\\compiler\\libro\\cap07\\rmi\\hello\\Client.java`\r\n\r\n- (All in one lineset:\r\n\r\n`set classpath=%classpath%;C:\\compiler;C:\\compiler\\libro\\cap07\\rmi\\hello\\Hello.java;C:\\compiler\\libro\\cap07\\rmi\\hello\\Server.java;C:\\compiler\\libro\\cap07\\rmi\\hello\\Client.java)`\r\n\r\n- (I&#39;m not sure if the .java files were nesesary, but I also wrote them for doubts).\r\n\r\n2nd. I compilered with the line `javac -d C:\\compiler Hello.java Server.java Client.java`. Where `C:\\compiler` is the root directory like src on Eclipse IDE.\r\n\r\n3rd. I ran the `start rmiregistry` line. (and don&#180;t matter where you run it, it&#39;s the same).\r\n\r\n4th. I ran:\r\n\r\n`start java -classpath C:\\compiler -Djava.rmi.server.codebase=file:C:\\compiler/ libro.cap07.rmi.hello.Server`\r\n\r\nYou already know `C:\\compiler`, but you need define packages address on the last to that the command can find the .class files. Open any .java file and copy the package address without packages sentense. You will see when you open the src directory (in my case C:\\compiler), you find all directory sequence created. When this command line is created correctly, no matter where you will run it, C:\\, D:\\, src, anywhere it wil run.\r\n\r\n5th. And finally, I ran the Client class with:\r\n\r\n`java -classpath C:\\compiler libro.cap07.rmi.hello.Client`\r\n\r\nIn conclusion, if the classpath variable won&#39;t created or it&#39;s to created wrong or the sentence of 4th point is not addressed well the JVM throws the same or similar error. Search there!\r\n\r\n(Sorry my english).\r\n","title":"java.rmi.ServerException: RemoteException occurred in server thread (ClassNotFoundException)","body":"<p>I will try to explain it as better as possible what I did:\n1st. I declared the classpath variable like follow:</p>\n<ol>\n<li><code>set classpath=%classpath%</code></li>\n<li><code>set classpath=C:\\compiler</code></li>\n<li><code>set classpath=C:\\compiler\\libro\\cap07\\rmi\\hello\\Hello.java</code></li>\n<li><code>set classpath=C:\\compiler\\libro\\cap07\\rmi\\hello\\Server.java</code></li>\n<li><code>set classpath=C:\\compiler\\libro\\cap07\\rmi\\hello\\Client.java</code></li>\n</ol>\n<ul>\n<li>(All in one lineset:</li>\n</ul>\n<p><code>set classpath=%classpath%;C:\\compiler;C:\\compiler\\libro\\cap07\\rmi\\hello\\Hello.java;C:\\compiler\\libro\\cap07\\rmi\\hello\\Server.java;C:\\compiler\\libro\\cap07\\rmi\\hello\\Client.java)</code></p>\n<ul>\n<li>(I'm not sure if the .java files were nesesary, but I also wrote them for doubts).</li>\n</ul>\n<p>2nd. I compilered with the line <code>javac -d C:\\compiler Hello.java Server.java Client.java</code>. Where <code>C:\\compiler</code> is the root directory like src on Eclipse IDE.</p>\n<p>3rd. I ran the <code>start rmiregistry</code> line. (and dont matter where you run it, it's the same).</p>\n<p>4th. I ran:</p>\n<p><code>start java -classpath C:\\compiler -Djava.rmi.server.codebase=file:C:\\compiler/ libro.cap07.rmi.hello.Server</code></p>\n<p>You already know <code>C:\\compiler</code>, but you need define packages address on the last to that the command can find the .class files. Open any .java file and copy the package address without packages sentense. You will see when you open the src directory (in my case C:\\compiler), you find all directory sequence created. When this command line is created correctly, no matter where you will run it, C:, D:, src, anywhere it wil run.</p>\n<p>5th. And finally, I ran the Client class with:</p>\n<p><code>java -classpath C:\\compiler libro.cap07.rmi.hello.Client</code></p>\n<p>In conclusion, if the classpath variable won't created or it's to created wrong or the sentence of 4th point is not addressed well the JVM throws the same or similar error. Search there!</p>\n<p>(Sorry my english).</p>\n"}],"owner":{"account_id":326393,"reputation":22554,"user_id":648138,"accept_rate":68,"display_name":"Suhail Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66415,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":9542464,"answer_count":5,"score":13,"last_activity_date":1677514689,"creation_date":1330681962,"question_id":9531158,"body_markdown":"The following method:\r\n```java\r\n    private void startServer() { // snippet that starts the server on the local machine\r\n        try {\r\n             RemoteMethodImpl impl = new RemoteMethodImpl();\r\n             Naming.rebind( &quot;Illusive-Server&quot; , impl );\r\n        } catch(Exception exc) {\r\n            JOptionPane.showMessageDialog(this, &quot;Problem starting the server&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n            System.out.println(exc);\r\n        }\r\n    }\r\n```\r\n\r\nthrows this exception:\r\n```java\r\njava.rmi.ServerException: RemoteException occurred in server thread; nested exception is:\r\n        java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is:\r\n        java.lang.ClassNotFoundException: Interfaces.RemoteMethodIntf\r\n```\r\n\r\nWhen i start my project, i am greeted with the message in JOptionPane saying _problem starting the server and then the above exception._ What could be the reason for this?\r\n\r\nI don&#39;t understand why does the last statement of exception says _class not found exc when i have imported the right packages_.","title":"java.rmi.ServerException: RemoteException occurred in server thread (ClassNotFoundException)","body":"<p>The following method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void startServer() { // snippet that starts the server on the local machine\n        try {\n             RemoteMethodImpl impl = new RemoteMethodImpl();\n             Naming.rebind( &quot;Illusive-Server&quot; , impl );\n        } catch(Exception exc) {\n            JOptionPane.showMessageDialog(this, &quot;Problem starting the server&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n            System.out.println(exc);\n        }\n    }\n</code></pre>\n<p>throws this exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.rmi.ServerException: RemoteException occurred in server thread; nested exception is:\n        java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is:\n        java.lang.ClassNotFoundException: Interfaces.RemoteMethodIntf\n</code></pre>\n<p>When i start my project, i am greeted with the message in JOptionPane saying <em>problem starting the server and then the above exception.</em> What could be the reason for this?</p>\n<p>I don't understand why does the last statement of exception says <em>class not found exc when i have imported the right packages</em>.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1677510383,"post_id":75581697,"comment_id":133346756,"body_markdown":"You are initializing the distances to 1e9 and it fails on a testcase where edge weights are one billion. I wonder if there is a connection. Maybe you should try a larger &quot;infinite&quot; value.","body":"You are initializing the distances to 1e9 and it fails on a testcase where edge weights are one billion. I wonder if there is a connection. Maybe you should try a larger &quot;infinite&quot; value."}],"owner":{"account_id":20847939,"reputation":11,"user_id":17995458,"display_name":"Luvraj Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677514669,"creation_date":1677507896,"question_id":75581697,"body_markdown":"**Question Link**\r\nhttps://practice.geeksforgeeks.org/problems/number-of-ways-to-arrive-at-destination/1\r\n\r\n\r\n```\r\nclass Pair {\r\n    int first;\r\n    int second;\r\n    public Pair(int first, int second) {\r\n        this.first = first;\r\n        this.second = second;\r\n    }\r\n}\r\nclass Solution {\r\n\r\n    static int countPaths(int n, List &lt; List &lt; Integer &gt;&gt; roads) {\r\n        \r\n        // Creating an adjacency list for the given graph.\r\n        ArrayList &lt; ArrayList &lt; Pair &gt;&gt; adj = new ArrayList &lt; &gt; ();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            adj.add(new ArrayList &lt; &gt; ());\r\n        }\r\n        int m = roads.size();\r\n        for (int i = 0; i &lt; m; i++) {\r\n            adj.get(roads.get(i).get(0)).add(new Pair(roads.get(i).get(1), roads.get(i).get(2)));\r\n            adj.get(roads.get(i).get(1)).add(new Pair(roads.get(i).get(0), roads.get(i).get(2)));\r\n        }\r\n\r\n        // Defining a priority queue (min heap). \r\n        PriorityQueue &lt; Pair &gt; pq = new PriorityQueue &lt; Pair &gt; ((x, y) -&gt; x.first - y.first);\r\n\r\n        // Initializing the dist array and the ways array\r\n        // along with their first indices.\r\n        int[] dist = new int[n];\r\n        int[] ways = new int[n];\r\n        for (int i = 0; i &lt; n; i++) {\r\n            dist[i] = (int) 1e9;\r\n            ways[i] = 0;\r\n        }\r\n        dist[0] = 0;\r\n        ways[0] = 1;\r\n        pq.add(new Pair(0, 0));\r\n\r\n        // Define modulo value\r\n        int mod = (int)(1e9 + 7);\r\n\r\n        // Iterate through the graph with the help of priority queue\r\n        // just as we do in Dijkstra&#39;s Algorithm.\r\n        while (pq.size() != 0) {\r\n            int dis = pq.peek().first;\r\n            int node = pq.peek().second;\r\n            pq.remove();\r\n\r\n            for (Pair it : adj.get(node)) {\r\n                int adjNode = it.first;\r\n                int edW = it.second;\r\n\r\n                // This if condition signifies that this is the first\r\n                // time were coming with this short distance, so we push\r\n                // in PQ and keep the no. of ways the same.\r\n                if (dis + edW &lt; dist[adjNode]) {\r\n                    dist[adjNode] = dis + edW;\r\n                    pq.add(new Pair(dis + edW, adjNode));\r\n                    ways[adjNode] = ways[node];\r\n                } \r\n\r\n                    // If we again encounter a node with the same short distance\r\n                    // as before, we simply increment the no. of ways.\r\n                    else if (dis + edW == dist[adjNode]) {\r\n                    ways[adjNode] = (ways[adjNode] + ways[node]) % mod;\r\n                }\r\n            }\r\n        }\r\n        // Finally, we return the no. of ways to reach\r\n        // (n-1)th node modulo 10^9+7.\r\n        return ways[n - 1] % mod;\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\nThis is my code it is using modified DIJKASTRA algo and it is passing 12 testcases out of 16 \r\nbut Not working for this testcase.\r\nFor Input: \r\n6 8\r\n0 1 1000000000\r\n0 3 1000000000\r\n1 3 1000000000\r\n1 2 1000000000\r\n1 5 1000000000\r\n3 4 1000000000\r\n4 5 1000000000\r\n2 5 1000000000\r\nYour Output: \r\n0\r\nExpected Output: \r\n1\r\n\r\n\r\nIf we observe the edge weight is 1e9 of all edges and i don&#39;t know what changes to make.\r\n\r\n\r\n\r\nI tried changing some condtions that are already there but it was stucking at previous testcases so i didn&#39;t updated anything.\r\n\r\nexpecting to pass this edge case.","title":"java Coding , Dijkastra Algorithms","body":"<p><strong>Question Link</strong>\n<a href=\"https://practice.geeksforgeeks.org/problems/number-of-ways-to-arrive-at-destination/1\" rel=\"nofollow noreferrer\">https://practice.geeksforgeeks.org/problems/number-of-ways-to-arrive-at-destination/1</a></p>\n<pre><code>class Pair {\n    int first;\n    int second;\n    public Pair(int first, int second) {\n        this.first = first;\n        this.second = second;\n    }\n}\nclass Solution {\n\n    static int countPaths(int n, List &lt; List &lt; Integer &gt;&gt; roads) {\n        \n        // Creating an adjacency list for the given graph.\n        ArrayList &lt; ArrayList &lt; Pair &gt;&gt; adj = new ArrayList &lt; &gt; ();\n        for (int i = 0; i &lt; n; i++) {\n            adj.add(new ArrayList &lt; &gt; ());\n        }\n        int m = roads.size();\n        for (int i = 0; i &lt; m; i++) {\n            adj.get(roads.get(i).get(0)).add(new Pair(roads.get(i).get(1), roads.get(i).get(2)));\n            adj.get(roads.get(i).get(1)).add(new Pair(roads.get(i).get(0), roads.get(i).get(2)));\n        }\n\n        // Defining a priority queue (min heap). \n        PriorityQueue &lt; Pair &gt; pq = new PriorityQueue &lt; Pair &gt; ((x, y) -&gt; x.first - y.first);\n\n        // Initializing the dist array and the ways array\n        // along with their first indices.\n        int[] dist = new int[n];\n        int[] ways = new int[n];\n        for (int i = 0; i &lt; n; i++) {\n            dist[i] = (int) 1e9;\n            ways[i] = 0;\n        }\n        dist[0] = 0;\n        ways[0] = 1;\n        pq.add(new Pair(0, 0));\n\n        // Define modulo value\n        int mod = (int)(1e9 + 7);\n\n        // Iterate through the graph with the help of priority queue\n        // just as we do in Dijkstra's Algorithm.\n        while (pq.size() != 0) {\n            int dis = pq.peek().first;\n            int node = pq.peek().second;\n            pq.remove();\n\n            for (Pair it : adj.get(node)) {\n                int adjNode = it.first;\n                int edW = it.second;\n\n                // This if condition signifies that this is the first\n                // time were coming with this short distance, so we push\n                // in PQ and keep the no. of ways the same.\n                if (dis + edW &lt; dist[adjNode]) {\n                    dist[adjNode] = dis + edW;\n                    pq.add(new Pair(dis + edW, adjNode));\n                    ways[adjNode] = ways[node];\n                } \n\n                    // If we again encounter a node with the same short distance\n                    // as before, we simply increment the no. of ways.\n                    else if (dis + edW == dist[adjNode]) {\n                    ways[adjNode] = (ways[adjNode] + ways[node]) % mod;\n                }\n            }\n        }\n        // Finally, we return the no. of ways to reach\n        // (n-1)th node modulo 10^9+7.\n        return ways[n - 1] % mod;\n    }\n}\n\n\n\n</code></pre>\n<p>This is my code it is using modified DIJKASTRA algo and it is passing 12 testcases out of 16\nbut Not working for this testcase.\nFor Input:\n6 8\n0 1 1000000000\n0 3 1000000000\n1 3 1000000000\n1 2 1000000000\n1 5 1000000000\n3 4 1000000000\n4 5 1000000000\n2 5 1000000000\nYour Output:\n0\nExpected Output:\n1</p>\n<p>If we observe the edge weight is 1e9 of all edges and i don't know what changes to make.</p>\n<p>I tried changing some condtions that are already there but it was stucking at previous testcases so i didn't updated anything.</p>\n<p>expecting to pass this edge case.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-elastic-beanstalk"],"answers":[{"tags":[],"owner":{"account_id":20168591,"reputation":58,"user_id":14791907,"display_name":"Grigor"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1677513722,"creation_date":1677513722,"answer_id":75582788,"question_id":75582725,"body_markdown":"It must&#39;ve created ec2 with the load balancer go to your load balancer open the target group edit it and it has a health check path put in there a valid URI if you don&#39;t have it you can add for example /API/isHealthy get mapping which returns string saying &quot;ap is up and running &quot; for example,in your project&#39;s controller then  recreate jar upload it in elastic beanstalk and update target groups health check URL to /API/isHealthy .Try this if it works fine but FYI you can handle the path with spring actuator .","title":"I can&#39;t deploy my Spring Boot application on AWS Elastic Beanstalk","body":"<p>It must've created ec2 with the load balancer go to your load balancer open the target group edit it and it has a health check path put in there a valid URI if you don't have it you can add for example /API/isHealthy get mapping which returns string saying &quot;ap is up and running &quot; for example,in your project's controller then  recreate jar upload it in elastic beanstalk and update target groups health check URL to /API/isHealthy .Try this if it works fine but FYI you can handle the path with spring actuator .</p>\n"}],"owner":{"account_id":27892285,"reputation":13,"user_id":21298387,"display_name":"Bruna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75582788,"answer_count":1,"score":1,"last_activity_date":1677514634,"creation_date":1677513448,"question_id":75582725,"body_markdown":"I have an application developed in Spring Boot. I would like to deploy it on the AWS Elastic Beanstalk service. I&#39;ve already followed some tutorials, I did as requested, but I can&#39;t get my application to work, and I believe it&#39;s because of the health status marked as &quot;severe&quot;. I have no idea why the status is severe... as it&#39;s my first time using the service, I&#39;m having doubts, I&#39;ve tried looking for a solution on the internet and I haven&#39;t found anything that could help.\r\n\r\n\r\n\r\n\r\nI followed the instructions in [this tutorial][1].\r\n\r\n\r\nIn the example image of the tutorial, it is possible to see the health status as OK, however, after following the steps, the health status that is presented to me is severe or warning\r\n\r\nMy screen:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBy the way, checking the option in question, when creating a new environment, I get an environment with the status OK and working, which makes me think that the error is in my jar file? That&#39;s what it looks like... but why this error? what is the reason?\r\n\r\nExample image that results in ok status\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAh, when I enter the URL, the error 502 bad gateway appears.\r\n\r\nTo get the jar, I ran the mvn package command. Could this command be the cause of the problem? Or does it have something to do with API? The only endpoint I have is /api/user.\r\n\r\nI have never used this service, I have no idea how to solve this problem.\r\n\r\n  [1]: https://medium.com/javarevisited/deploy-spring-boot-app-to-aws-elastic-beanstalk-fa42b8b4bfa0\r\n  [2]: https://i.stack.imgur.com/UHKMv.png\r\n  [3]: https://i.stack.imgur.com/ILIDJ.png","title":"I can&#39;t deploy my Spring Boot application on AWS Elastic Beanstalk","body":"<p>I have an application developed in Spring Boot. I would like to deploy it on the AWS Elastic Beanstalk service. I've already followed some tutorials, I did as requested, but I can't get my application to work, and I believe it's because of the health status marked as &quot;severe&quot;. I have no idea why the status is severe... as it's my first time using the service, I'm having doubts, I've tried looking for a solution on the internet and I haven't found anything that could help.</p>\n<p>I followed the instructions in <a href=\"https://medium.com/javarevisited/deploy-spring-boot-app-to-aws-elastic-beanstalk-fa42b8b4bfa0\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n<p>In the example image of the tutorial, it is possible to see the health status as OK, however, after following the steps, the health status that is presented to me is severe or warning</p>\n<p>My screen:</p>\n<p><a href=\"https://i.stack.imgur.com/UHKMv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UHKMv.png\" alt=\"enter image description here\" /></a></p>\n<p>By the way, checking the option in question, when creating a new environment, I get an environment with the status OK and working, which makes me think that the error is in my jar file? That's what it looks like... but why this error? what is the reason?</p>\n<p>Example image that results in ok status</p>\n<p><a href=\"https://i.stack.imgur.com/ILIDJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ILIDJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Ah, when I enter the URL, the error 502 bad gateway appears.</p>\n<p>To get the jar, I ran the mvn package command. Could this command be the cause of the problem? Or does it have something to do with API? The only endpoint I have is /api/user.</p>\n<p>I have never used this service, I have no idea how to solve this problem.</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"score":0,"creation_date":1677421374,"post_id":75572134,"comment_id":133330474,"body_markdown":"Please provide an additional info: which request you tried? what is the name of html you provided, index or result?","body":"Please provide an additional info: which request you tried? what is the name of html you provided, index or result?"},{"owner":{"account_id":24961106,"reputation":11,"user_id":18825062,"display_name":"Gokul Seetharaman"},"score":0,"creation_date":1677433997,"post_id":75572134,"comment_id":133332641,"body_markdown":"i have 2 html file main page is index and then after submitting it goes to result page","body":"i have 2 html file main page is index and then after submitting it goes to result page"}],"owner":{"account_id":24961106,"reputation":11,"user_id":18825062,"display_name":"Gokul Seetharaman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677514517,"creation_date":1677416114,"question_id":75572134,"body_markdown":"While running it shows\r\n&gt; There was an unexpected error (type=Internal Server Error, status=500).\r\n\r\n**My Controller page**\r\n\r\n```\r\npackage com.dbcon.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\n\r\nimport com.dbcon.entity.DbEntity;\r\nimport com.dbcon.repository.DbRepo;\r\n\r\npublic class DbController {\r\n\r\n    @Autowired\r\n    private DbRepo Dbrepo;\r\n    \r\n    @GetMapping(&quot;/&quot;)\r\n    public String SignUpForm(Model model) {\r\n    \tmodel.addAttribute(&quot;user&quot;, new DbEntity());\r\n    \treturn &quot;index&quot;;\r\n    }\r\n    \r\n    @PostMapping(&quot;/process_register&quot;)\r\n    public String Registration(DbEntity user) {\r\n    \tDbrepo.save(user);\r\n    \treturn &quot;result&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nmy entity page\r\n\r\n```\r\n\r\npackage com.dbcon.entity;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;TestCon&quot;)\r\npublic class DbEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY) // automated by DB\r\n    private long id;\r\n    \r\n    @Column(nullable = false, unique = true, length = 100) // primary key\r\n    private String email;\r\n    \r\n    @Column(nullable = false, length = 50)\r\n    private String firstname;\r\n    \r\n    @Column(nullable = false, length = 50)\r\n    private String lastname;\r\n    \r\n    @Column(nullable = false, length = 50)\r\n    private String phonenumber;\r\n    \r\n    \r\n    public String getEmail() {\r\n    \treturn email;\r\n    }\r\n    \r\n    public void setEmail(String email) {\r\n    \tthis.email = email;\r\n    }\r\n    \r\n    public String getFirstname() {\r\n    \treturn firstname;\r\n    }\r\n    \r\n    public void setFirstname(String firstname) {\r\n    \tthis.firstname = firstname;\r\n    }\r\n    \r\n    public String getLastname() {\r\n    \treturn lastname;\r\n    }\r\n    \r\n    public void setLastname(String lastname) {\r\n    \tthis.lastname = lastname;\r\n    }\r\n    \r\n    public String getPhonenumber() {\r\n    \treturn phonenumber;\r\n    }\r\n    \r\n    public void setPhonenumber(String phonenumber) {\r\n    \tthis.phonenumber = phonenumber;\r\n    }\r\n    \r\n    }\r\n```\r\n\r\ni am getting error in this line\r\n\r\n```\r\n&lt;input class=&quot;mx-auto my-auto&quot; type=&quot;text&quot; id=&quot;FName&quot; placeholder=&quot;First Name&quot;  style=&quot;width:80%; height:40px;&quot; th:field=&quot;*{firstname}&quot; required&gt;\r\n```\r\n\r\nmy HTML page is\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n    &lt;title&gt;Database Connectivity&lt;/title&gt;\r\n      &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Poppins&amp;family=Rubik:wght@300&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;\r\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body style=&quot;background-color:#131313;&quot;&gt;\r\n    &lt;div class=&quot;container&quot; style=&quot;width: 60%; height: auto; margin-top: 100px; justify-content: center; align-items: center;&quot; &gt;\r\n      &lt;div class=&quot;card text-center&quot; &gt;\r\n        &lt;div class=&quot;card-title&quot;style=&quot;margin-top:40px;&quot; &gt;\r\n          &lt;h3&gt;Database Conectivity&lt;/h3&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;card-body&quot; &gt;\r\n          &lt;form method=&quot;post&quot; th:object=&quot;${user}&quot; th:action=&quot;@{/result}&quot; &gt;\r\n                &lt;input class=&quot;mx-auto my-auto&quot; type=&quot;text&quot; id=&quot;FName&quot; placeholder=&quot;First Name&quot;  style=&quot;width:80%; height:40px;&quot; th:field=&quot;*{firstname}&quot; required&gt;\r\n                &lt;input class=&quot;mx-auto my-40&quot;type=&quot;text&quot; id=&quot;LName&quot; placeholder=&quot;Last Name&quot; th:field=&quot;*{lastname}&quot; required style=&quot;width:80%; height:40px;  margin-top:15px;&quot;&gt;\r\n                &lt;input class=&quot;mx-auto my-40&quot;type=&quot;number&quot; id=&quot;PhNumber&quot; placeholder=&quot;Phone Number&quot; th:field=&quot;*{phonenumber}&quot; required style=&quot;width:80%; height:40px;  margin-top:15px;&quot;&gt;\r\n                &lt;input class=&quot;mx-auto my-40&quot;type=&quot;email&quot; id=&quot;EMail&quot; placeholder=&quot;Email&quot;  th:field=&quot;*{email}&quot; required style=&quot;width:80%; height:40px;  margin-top:15px;&quot;&gt;\r\n              &lt;br&gt;&lt;br&gt;\r\n                &lt;button  type=&quot;submit&quot; style=&quot;color:#fff; background-color: #0575E6; text-decoration: none; width:95px; height:42px;border: #fff; border-radius:6px;&quot;&gt;Submit&lt;/button&gt;\r\n          &lt;/form&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nmy error that shown \r\n```\r\n2023-02-26 18:09:10.895 ERROR 13560 --- [nio-8080-exec-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-1] Exception processing template &quot;index&quot;: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor&#39; (template: &quot;index&quot; - line 19, col 129)\r\n\r\norg.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor&#39; (template: &quot;index&quot; - line 19, col 129)\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.engine.StandaloneElementTag.beHandled(StandaloneElementTag.java:228) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:661) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1405) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1149) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;user&#39; available as request attribute\r\n\tat org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\t... 52 common frames omitted\r\n\r\n2023-02-26 18:09:10.895 ERROR 13560 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor&#39; (template: &quot;index&quot; - line 19, col 129)] with root cause\r\n\r\njava.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;user&#39; available as request attribute\r\n\tat org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.engine.StandaloneElementTag.beHandled(StandaloneElementTag.java:228) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:661) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1405) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1149) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n\r\n\r\n```","title":"Error 500 internal server error in the Springboot-thymeleaf","body":"<p>While running it shows</p>\n<blockquote>\n<p>There was an unexpected error (type=Internal Server Error, status=500).</p>\n</blockquote>\n<p><strong>My Controller page</strong></p>\n<pre><code>package com.dbcon.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\n\nimport com.dbcon.entity.DbEntity;\nimport com.dbcon.repository.DbRepo;\n\npublic class DbController {\n\n    @Autowired\n    private DbRepo Dbrepo;\n    \n    @GetMapping(&quot;/&quot;)\n    public String SignUpForm(Model model) {\n        model.addAttribute(&quot;user&quot;, new DbEntity());\n        return &quot;index&quot;;\n    }\n    \n    @PostMapping(&quot;/process_register&quot;)\n    public String Registration(DbEntity user) {\n        Dbrepo.save(user);\n        return &quot;result&quot;;\n    }\n\n}\n</code></pre>\n<p>my entity page</p>\n<pre><code>\npackage com.dbcon.entity;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;TestCon&quot;)\npublic class DbEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY) // automated by DB\n    private long id;\n    \n    @Column(nullable = false, unique = true, length = 100) // primary key\n    private String email;\n    \n    @Column(nullable = false, length = 50)\n    private String firstname;\n    \n    @Column(nullable = false, length = 50)\n    private String lastname;\n    \n    @Column(nullable = false, length = 50)\n    private String phonenumber;\n    \n    \n    public String getEmail() {\n        return email;\n    }\n    \n    public void setEmail(String email) {\n        this.email = email;\n    }\n    \n    public String getFirstname() {\n        return firstname;\n    }\n    \n    public void setFirstname(String firstname) {\n        this.firstname = firstname;\n    }\n    \n    public String getLastname() {\n        return lastname;\n    }\n    \n    public void setLastname(String lastname) {\n        this.lastname = lastname;\n    }\n    \n    public String getPhonenumber() {\n        return phonenumber;\n    }\n    \n    public void setPhonenumber(String phonenumber) {\n        this.phonenumber = phonenumber;\n    }\n    \n    }\n</code></pre>\n<p>i am getting error in this line</p>\n<pre><code>&lt;input class=&quot;mx-auto my-auto&quot; type=&quot;text&quot; id=&quot;FName&quot; placeholder=&quot;First Name&quot;  style=&quot;width:80%; height:40px;&quot; th:field=&quot;*{firstname}&quot; required&gt;\n</code></pre>\n<p>my HTML page is</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;title&gt;Database Connectivity&lt;/title&gt;\n      &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Poppins&amp;family=Rubik:wght@300&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC&quot; crossorigin=&quot;anonymous&quot;&gt;\n&lt;/head&gt;\n&lt;body style=&quot;background-color:#131313;&quot;&gt;\n    &lt;div class=&quot;container&quot; style=&quot;width: 60%; height: auto; margin-top: 100px; justify-content: center; align-items: center;&quot; &gt;\n      &lt;div class=&quot;card text-center&quot; &gt;\n        &lt;div class=&quot;card-title&quot;style=&quot;margin-top:40px;&quot; &gt;\n          &lt;h3&gt;Database Conectivity&lt;/h3&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;card-body&quot; &gt;\n          &lt;form method=&quot;post&quot; th:object=&quot;${user}&quot; th:action=&quot;@{/result}&quot; &gt;\n                &lt;input class=&quot;mx-auto my-auto&quot; type=&quot;text&quot; id=&quot;FName&quot; placeholder=&quot;First Name&quot;  style=&quot;width:80%; height:40px;&quot; th:field=&quot;*{firstname}&quot; required&gt;\n                &lt;input class=&quot;mx-auto my-40&quot;type=&quot;text&quot; id=&quot;LName&quot; placeholder=&quot;Last Name&quot; th:field=&quot;*{lastname}&quot; required style=&quot;width:80%; height:40px;  margin-top:15px;&quot;&gt;\n                &lt;input class=&quot;mx-auto my-40&quot;type=&quot;number&quot; id=&quot;PhNumber&quot; placeholder=&quot;Phone Number&quot; th:field=&quot;*{phonenumber}&quot; required style=&quot;width:80%; height:40px;  margin-top:15px;&quot;&gt;\n                &lt;input class=&quot;mx-auto my-40&quot;type=&quot;email&quot; id=&quot;EMail&quot; placeholder=&quot;Email&quot;  th:field=&quot;*{email}&quot; required style=&quot;width:80%; height:40px;  margin-top:15px;&quot;&gt;\n              &lt;br&gt;&lt;br&gt;\n                &lt;button  type=&quot;submit&quot; style=&quot;color:#fff; background-color: #0575E6; text-decoration: none; width:95px; height:42px;border: #fff; border-radius:6px;&quot;&gt;Submit&lt;/button&gt;\n          &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>my error that shown</p>\n<pre><code>2023-02-26 18:09:10.895 ERROR 13560 --- [nio-8080-exec-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-1] Exception processing template &quot;index&quot;: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor' (template: &quot;index&quot; - line 19, col 129)\n\norg.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor' (template: &quot;index&quot; - line 19, col 129)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.engine.StandaloneElementTag.beHandled(StandaloneElementTag.java:228) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:661) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1405) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1149) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'user' available as request attribute\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    ... 52 common frames omitted\n\n2023-02-26 18:09:10.895 ERROR 13560 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor' (template: &quot;index&quot; - line 19, col 129)] with root cause\n\njava.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'user' available as request attribute\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.engine.StandaloneElementTag.beHandled(StandaloneElementTag.java:228) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:661) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1405) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1149) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n\n\n</code></pre>\n"},{"tags":["java","api","http-status-code-404","response","quarkus"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1670605872,"post_id":74745905,"comment_id":131919850,"body_markdown":"Do you want the message to go in the HTTP status line or in the body of the response? I do not know about the former, but if it is the latter that you want, I believe you must use the more verbose `Response` builders, something like: `throw new NotFoundException(Response.status(404).entity(&quot;No dockerfile or image report found&quot;).build())`. Not a very intuitive part of the spec :)","body":"Do you want the message to go in the HTTP status line or in the body of the response? I do not know about the former, but if it is the latter that you want, I believe you must use the more verbose <code>Response</code> builders, something like: <code>throw new NotFoundException(Response.status(404).entity(&quot;No dockerfile or image report found&quot;).build())</code>. Not a very intuitive part of the spec :)"},{"owner":{"account_id":11543631,"reputation":1652,"user_id":8458465,"display_name":"Jishan Shaikh"},"score":0,"creation_date":1670651109,"post_id":74745905,"comment_id":131927459,"body_markdown":"It seems trivial, but your report might not be exactly null. Try debugging the report just before the exception check to know what it contains.","body":"It seems trivial, but your report might not be exactly null. Try debugging the report just before the exception check to know what it contains."}],"answers":[{"tags":[],"owner":{"account_id":24477238,"reputation":48,"user_id":18396142,"display_name":"Karlito Brigante"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670757632,"creation_date":1670757632,"answer_id":74760346,"question_id":74745905,"body_markdown":"Thanks to Nikos Paraskevopoulos in the comments. \r\nIve added the response status in the Exception like this:\r\n\r\n    throw new NotFoundException(Response.status(HttpURLConnection.HTTP_NOT_FOUND).entity(&quot;your message&quot;).build());\r\n\r\nthis worked fine and i have the message in the response body\r\n\r\n[![response 404][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qwZsm.png","title":"How to throw NotFoundException with message body in Java Quarkus","body":"<p>Thanks to Nikos Paraskevopoulos in the comments.\nIve added the response status in the Exception like this:</p>\n<pre><code>throw new NotFoundException(Response.status(HttpURLConnection.HTTP_NOT_FOUND).entity(&quot;your message&quot;).build());\n</code></pre>\n<p>this worked fine and i have the message in the response body</p>\n<p><a href=\"https://i.stack.imgur.com/qwZsm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qwZsm.png\" alt=\"response 404\" /></a></p>\n"}],"owner":{"account_id":24477238,"reputation":48,"user_id":18396142,"display_name":"Karlito Brigante"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":890,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74760346,"answer_count":1,"score":0,"last_activity_date":1677513721,"creation_date":1670603995,"question_id":74745905,"body_markdown":"I currently have the problem, that I am looking for an artifact in Jenkins. If this artifact can not be found, then a 404 should come back. So far this works quite well. Unfortunately, I get no message and only the ErrorCode 404 back. I would like to return a message with more information.\r\n\r\nHere&#39;s my code.\r\n\r\nEndpoint:\r\n\r\n```\r\n@GET\r\n@Path(API_RESOURCE_IMAGE_REPORT)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.TEXT_HTML)\r\n@Operation(summary = &quot;&quot;, description = &quot;&quot;)\r\n@APIResponses(\r\n        value = {\r\n                @APIResponse(\r\n                        responseCode = &quot;200&quot;,\r\n                        description =\r\n                                &quot;Request successful&quot;,\r\n                        content = @Content(mediaType = MediaType.TEXT_HTML)),\r\n                @APIResponse(\r\n                        responseCode = &quot;404&quot;,\r\n                        description = &quot;Resource not found &quot;,\r\n                        content =\r\n                        @Content(\r\n                                mediaType = MediaType.APPLICATION_JSON,\r\n                                schema = @Schema(implementation = NotFoundException.class))),\r\n        })\r\npublic Response getReport(@Parameter(\r\n        description = &quot;&quot;,\r\n        required = true)\r\n                          @PathParam(&quot;imageName&quot;) final String imageName,\r\n                          @Parameter(description = &quot;&quot;, required = true)\r\n                          @PathParam(&quot;tag&quot;) final String tag,\r\n                          @Parameter(description = &quot;&quot;)\r\n                          @PathParam(&quot;type&quot;) String type\r\n) {\r\n\r\n    InputStream report = jenkinsClient.getReport(imageName, tag, type);\r\n    \r\n    return Response.status(HttpURLConnection.HTTP_ACCEPTED).entity(report).build();\r\n}\r\n```\r\n\r\nJenkinsclient:\r\n\r\n```\r\npublic InputStream getReport(final String imageName, final String tag, final String type) throws NotFoundException {\r\n\r\n        try {\r\n            final int lastSuccessfulBuildnumber = jenkinsClient.api().jobsApi().jobInfo(imageName, tag).lastSuccessfulBuild().number();\r\n            LOG.info(&quot;Last successful buildnumber: &quot; + lastSuccessfulBuildnumber);\r\n\r\n            final InputStream report = jenkinsClient.api().jobsApi().artifact(imageName, tag, lastSuccessfulBuildnumber, Objects.equals(type, &quot;image&quot;) ? &quot;trivy_image_report.html&quot; : &quot;trivy_Dockerfile_report.html&quot;);\r\n\r\n            if (report == null) {\r\n                throw new NotFoundException(&quot;No dockerfile or image report found&quot;);\r\n            }\r\n\r\n            return report;\r\n\r\n        } catch (Exception e) {\r\n            throw new NotFoundException(&quot;No dockerfile or image scan report found&quot;);\r\n\r\n        }\r\n    }\r\n```\r\n\r\nI expected a 404 with a the message &quot;No dockerfile or image scan report found&quot;. But i got only 404 without a message when i dont find an artefact. I used the &quot;javax.ws.rs.NotFoundException&quot; for NotFoundException.\r\n\r\nThanks for help","title":"How to throw NotFoundException with message body in Java Quarkus","body":"<p>I currently have the problem, that I am looking for an artifact in Jenkins. If this artifact can not be found, then a 404 should come back. So far this works quite well. Unfortunately, I get no message and only the ErrorCode 404 back. I would like to return a message with more information.</p>\n<p>Here's my code.</p>\n<p>Endpoint:</p>\n<pre><code>@GET\n@Path(API_RESOURCE_IMAGE_REPORT)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.TEXT_HTML)\n@Operation(summary = &quot;&quot;, description = &quot;&quot;)\n@APIResponses(\n        value = {\n                @APIResponse(\n                        responseCode = &quot;200&quot;,\n                        description =\n                                &quot;Request successful&quot;,\n                        content = @Content(mediaType = MediaType.TEXT_HTML)),\n                @APIResponse(\n                        responseCode = &quot;404&quot;,\n                        description = &quot;Resource not found &quot;,\n                        content =\n                        @Content(\n                                mediaType = MediaType.APPLICATION_JSON,\n                                schema = @Schema(implementation = NotFoundException.class))),\n        })\npublic Response getReport(@Parameter(\n        description = &quot;&quot;,\n        required = true)\n                          @PathParam(&quot;imageName&quot;) final String imageName,\n                          @Parameter(description = &quot;&quot;, required = true)\n                          @PathParam(&quot;tag&quot;) final String tag,\n                          @Parameter(description = &quot;&quot;)\n                          @PathParam(&quot;type&quot;) String type\n) {\n\n    InputStream report = jenkinsClient.getReport(imageName, tag, type);\n    \n    return Response.status(HttpURLConnection.HTTP_ACCEPTED).entity(report).build();\n}\n</code></pre>\n<p>Jenkinsclient:</p>\n<pre><code>public InputStream getReport(final String imageName, final String tag, final String type) throws NotFoundException {\n\n        try {\n            final int lastSuccessfulBuildnumber = jenkinsClient.api().jobsApi().jobInfo(imageName, tag).lastSuccessfulBuild().number();\n            LOG.info(&quot;Last successful buildnumber: &quot; + lastSuccessfulBuildnumber);\n\n            final InputStream report = jenkinsClient.api().jobsApi().artifact(imageName, tag, lastSuccessfulBuildnumber, Objects.equals(type, &quot;image&quot;) ? &quot;trivy_image_report.html&quot; : &quot;trivy_Dockerfile_report.html&quot;);\n\n            if (report == null) {\n                throw new NotFoundException(&quot;No dockerfile or image report found&quot;);\n            }\n\n            return report;\n\n        } catch (Exception e) {\n            throw new NotFoundException(&quot;No dockerfile or image scan report found&quot;);\n\n        }\n    }\n</code></pre>\n<p>I expected a 404 with a the message &quot;No dockerfile or image scan report found&quot;. But i got only 404 without a message when i dont find an artefact. I used the &quot;javax.ws.rs.NotFoundException&quot; for NotFoundException.</p>\n<p>Thanks for help</p>\n"},{"tags":["java","xml","xpath"],"comments":[{"owner":{"account_id":12016659,"reputation":8089,"user_id":8791568,"display_name":"Mate Mre"},"score":0,"creation_date":1677498301,"post_id":75579979,"comment_id":133342969,"body_markdown":"See if this is helpful: https://stackoverflow.com/questions/10968612/xpath-ignore-span","body":"See if this is helpful: <a href=\"https://stackoverflow.com/questions/10968612/xpath-ignore-span\">stackoverflow.com/questions/10968612/xpath-ignore-span</a>"}],"answers":[{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677506206,"creation_date":1677506206,"answer_id":75581392,"question_id":75579979,"body_markdown":"This java code:  \r\n`result_divValues = expr_divValues.evaluate(doxDiv, XPathConstants.STRING);`\r\n\r\nIs equivalent to using this xpath  \r\n`string(//div[@class=&quot;history-values&quot;]/div[1])` \r\n\r\nTesting on a browser console:\r\n\r\n    $x(&#39;string(//div[@class=&quot;history-values&quot;]/div[1])&#39;);\r\n    &quot;\r\n                    1Commentaire de la signature\r\n                &quot;\r\n\r\nChange to `result_divValues = expr_divValues.evaluate(doxDiv, XPathConstants.NODESET);` and pick the proper list element.  \r\nThis XPath returns 2 nodes:\r\n\r\n    $x(&#39;//div[@class=&quot;history-values&quot;]/div[1]/text()&#39;);\r\n    0: #text &quot;\r\n                &quot;\r\n    1: #text &quot;Commentaire de la signature\r\n                &quot;\r\n\r\n","title":"Java with Xpath caught too much data inside a xml tag","body":"<p>This java code:<br />\n<code>result_divValues = expr_divValues.evaluate(doxDiv, XPathConstants.STRING);</code></p>\n<p>Is equivalent to using this xpath<br />\n<code>string(//div[@class=&quot;history-values&quot;]/div[1])</code></p>\n<p>Testing on a browser console:</p>\n<pre><code>$x('string(//div[@class=&quot;history-values&quot;]/div[1])');\n&quot;\n                1Commentaire de la signature\n            &quot;\n</code></pre>\n<p>Change to <code>result_divValues = expr_divValues.evaluate(doxDiv, XPathConstants.NODESET);</code> and pick the proper list element.<br />\nThis XPath returns 2 nodes:</p>\n<pre><code>$x('//div[@class=&quot;history-values&quot;]/div[1]/text()');\n0: #text &quot;\n            &quot;\n1: #text &quot;Commentaire de la signature\n            &quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677513600,"creation_date":1677513600,"answer_id":75582753,"question_id":75579979,"body_markdown":"This is a tricky one.  From [the documentation of the XPath class](https://docs.oracle.com/en/java/javase/19/docs/api/java.xml/javax/xml/xpath/XPath.html):\r\n\r\n&gt; This result of evaluating an expression is converted to an instance of the desired return type. Valid return types are defined in XPathConstants. Conversion to the return type follows XPath conversion rules.\r\n\r\nSince youre converting to a string, the XPath conversion rules come from [section 3.2](https://www.w3.org/TR/1999/REC-xpath-19991116/#section-Function-Calls) of the XPath specification:\r\n\r\n&gt;An argument is converted to type string as if by calling the string function.\r\n\r\nAnd [the string() function](https://www.w3.org/TR/1999/REC-xpath-19991116/#function-string) is documented thus:\r\n\r\n&gt;A node-set is converted to a string by returning the string-value of the node in the node-set that is first in document order. If the node-set is empty, an empty string is returned.\r\n\r\nThe text() node that is first in document order is the whitespace between the `&lt;div class=history-value&quot;&gt;` tag and the start of the span tag;  specifically, `&quot;\\n                &quot;`.  As the documentation says, only that first text node is evaluated as a string, even though `/text()` matches more than one text child.\r\n\r\nA workaround is to examine the text children yourself.  Replace this:\r\n\r\n    result_divValues = expr_divValues.evaluate(doxDiv, XPathConstants.STRING);\r\n\r\nwith this:\r\n\r\n    StringBuilder textContent = new StringBuilder();\r\n\r\n    NodeList children = (NodeList) expr_divValues.evaluate(doxDiv, XPathConstants.NODESET);\r\n    int count = children.getLength();\r\n    for (int i = 0; i &lt; count; i++) {\r\n        Object child = children.item(i);\r\n        if (child instanceof Text text) {\r\n            textContent.append(text.getData());\r\n        }\r\n    }\r\n\r\n    result_divValues = textContent.toString();\r\n","title":"Java with Xpath caught too much data inside a xml tag","body":"<p>This is a tricky one.  From <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.xml/javax/xml/xpath/XPath.html\" rel=\"nofollow noreferrer\">the documentation of the XPath class</a>:</p>\n<blockquote>\n<p>This result of evaluating an expression is converted to an instance of the desired return type. Valid return types are defined in XPathConstants. Conversion to the return type follows XPath conversion rules.</p>\n</blockquote>\n<p>Since youre converting to a string, the XPath conversion rules come from <a href=\"https://www.w3.org/TR/1999/REC-xpath-19991116/#section-Function-Calls\" rel=\"nofollow noreferrer\">section 3.2</a> of the XPath specification:</p>\n<blockquote>\n<p>An argument is converted to type string as if by calling the string function.</p>\n</blockquote>\n<p>And <a href=\"https://www.w3.org/TR/1999/REC-xpath-19991116/#function-string\" rel=\"nofollow noreferrer\">the string() function</a> is documented thus:</p>\n<blockquote>\n<p>A node-set is converted to a string by returning the string-value of the node in the node-set that is first in document order. If the node-set is empty, an empty string is returned.</p>\n</blockquote>\n<p>The text() node that is first in document order is the whitespace between the <code>&lt;div class=history-value&quot;&gt;</code> tag and the start of the span tag;  specifically, <code>&quot;\\n                &quot;</code>.  As the documentation says, only that first text node is evaluated as a string, even though <code>/text()</code> matches more than one text child.</p>\n<p>A workaround is to examine the text children yourself.  Replace this:</p>\n<pre><code>result_divValues = expr_divValues.evaluate(doxDiv, XPathConstants.STRING);\n</code></pre>\n<p>with this:</p>\n<pre><code>StringBuilder textContent = new StringBuilder();\n\nNodeList children = (NodeList) expr_divValues.evaluate(doxDiv, XPathConstants.NODESET);\nint count = children.getLength();\nfor (int i = 0; i &lt; count; i++) {\n    Object child = children.item(i);\n    if (child instanceof Text text) {\n        textContent.append(text.getData());\n    }\n}\n\nresult_divValues = textContent.toString();\n</code></pre>\n"}],"owner":{"account_id":19176271,"reputation":11,"user_id":14008944,"display_name":"Xavier Domdom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677513600,"creation_date":1677497832,"question_id":75579979,"body_markdown":"I&#39;ve a java code like this : \r\n\r\n```\r\nexpr_divValues = xpathDiv.compile(&quot;//div[@class=\\&quot;history-entries\\&quot;]/div[&quot;+(index_historyEntrie+1)+&quot;]/div[@class=\\&quot;history-values\\&quot;]/div[&quot;+(index_historyValue+1)+&quot;]&quot;);\r\nresult_divValues = expr_divValues.evaluate(doxDiv, XPathConstants.STRING);\r\n```\r\n\r\nwith this XML data:\r\n\r\n```\r\n&lt;div class=&quot;history-entry even&quot; data-index=&quot;2&quot;&gt;\r\n    &lt;span class=&quot;history-actor&quot;&gt;JEan paul de france&lt;/span&gt;\r\n    &lt;span class=&quot;history-date&quot; data-time=&quot;1676382208618&quot;&gt;14 f&#233;vr. 2023 14:43:28&lt;/span&gt;\r\n\t\t&lt;div class=&quot;history-values&quot;&gt;\r\n\t\t\t&lt;div class=&quot;history-value&quot;&gt;\r\n\t\t\t\t&lt;span class=&quot;history-rank history-rank-first&quot; data-rank=&quot;1&quot;&gt;1&lt;/span&gt;Commentaire de la signature\r\n            &lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n  &lt;/div&gt;\r\n```\r\n\r\n\r\n\r\n\r\nWhen i use this the result of result_divValues is : 1Commentaire de la signature, the xpath request caught the &quot;1&quot; into the span tag and the only value i need in div Tag.\r\n\r\nTried adding &#39;/text()&#39; at the end of my xpath request, but when i do this, the value is empty.\r\n\r\nAnyone for a little help ?\r\n\r\nThanks a lot.\r\n","title":"Java with Xpath caught too much data inside a xml tag","body":"<p>I've a java code like this :</p>\n<pre><code>expr_divValues = xpathDiv.compile(&quot;//div[@class=\\&quot;history-entries\\&quot;]/div[&quot;+(index_historyEntrie+1)+&quot;]/div[@class=\\&quot;history-values\\&quot;]/div[&quot;+(index_historyValue+1)+&quot;]&quot;);\nresult_divValues = expr_divValues.evaluate(doxDiv, XPathConstants.STRING);\n</code></pre>\n<p>with this XML data:</p>\n<pre><code>&lt;div class=&quot;history-entry even&quot; data-index=&quot;2&quot;&gt;\n    &lt;span class=&quot;history-actor&quot;&gt;JEan paul de france&lt;/span&gt;\n    &lt;span class=&quot;history-date&quot; data-time=&quot;1676382208618&quot;&gt;14 fvr. 2023 14:43:28&lt;/span&gt;\n        &lt;div class=&quot;history-values&quot;&gt;\n            &lt;div class=&quot;history-value&quot;&gt;\n                &lt;span class=&quot;history-rank history-rank-first&quot; data-rank=&quot;1&quot;&gt;1&lt;/span&gt;Commentaire de la signature\n            &lt;/div&gt;\n        &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n<p>When i use this the result of result_divValues is : 1Commentaire de la signature, the xpath request caught the &quot;1&quot; into the span tag and the only value i need in div Tag.</p>\n<p>Tried adding '/text()' at the end of my xpath request, but when i do this, the value is empty.</p>\n<p>Anyone for a little help ?</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","arrays","loops","arraylist"],"comments":[{"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"score":1,"creation_date":1615393284,"post_id":66568745,"comment_id":117678168,"body_markdown":"Ask yourself how you get all multiples of a given number. You know that your list is from `1` to `100`. So ... if the user inputs `5`, how do you get all multiples of `5` between `1` and `100`? When you got that, you just have to do `list.remove(multiple);` and you&#39;re done. Try to describe it in simple words, step by step. Then you&#39;ll see that you can convert those steps into code quite easy.","body":"Ask yourself how you get all multiples of a given number. You know that your list is from <code>1</code> to <code>100</code>. So ... if the user inputs <code>5</code>, how do you get all multiples of <code>5</code> between <code>1</code> and <code>100</code>? When you got that, you just have to do <code>list.remove(multiple);</code> and you&#39;re done. Try to describe it in simple words, step by step. Then you&#39;ll see that you can convert those steps into code quite easy."},{"owner":{"account_id":20921066,"reputation":15,"user_id":15369659,"display_name":"Malthe22"},"score":0,"creation_date":1615393636,"post_id":66568745,"comment_id":117678344,"body_markdown":"Yes. I&#39;ts just a &quot;basic&quot; exercise for my study.","body":"Yes. I&#39;ts just a &quot;basic&quot; exercise for my study."},{"owner":{"account_id":20921066,"reputation":15,"user_id":15369659,"display_name":"Malthe22"},"score":0,"creation_date":1615393699,"post_id":66568745,"comment_id":117678377,"body_markdown":"Will look through tihs. Thank you.\n@BenjaminM, good point. Will try see the step by step","body":"Will look through tihs. Thank you. @BenjaminM, good point. Will try see the step by step"}],"answers":[{"tags":[],"owner":{"account_id":12422817,"reputation":64,"user_id":9048857,"display_name":"colin robertson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615396163,"creation_date":1615393540,"answer_id":66568899,"question_id":66568745,"body_markdown":"Remove every multiple of the given number. Create a for loop, starting at 0, that adds the specified number to an index on every loop iteration. If the current number is NOT the original input number, remove it from the array list.\r\n\r\nWhen removing elements from the ArrayList, the index of all of the elements that come after the removed element will be shifted down by one. To counter this, we divide the current index by the input value (the value that will have all multiplies of it removed), indicating how many other values have been removed.\r\n\r\n```\r\npackage test;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class OneToHundreed {\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System. in );\r\n\t\tArrayList &lt; Integer &gt; list = new ArrayList &lt; &gt;();\r\n\r\n\t\tfor (int i = 1; i &lt;= 100; i++) {\r\n\t\t\tlist.add(i);\r\n\t\t}\r\n\t\tSystem.out.println(list);\r\n\t\tSystem.out.println(&quot;Next part of the exercise\\n_________________________&quot;);\r\n\t\tSystem.out.println(&quot;Please enter a number&quot;);\r\n\t\tfinal int input = sc.nextInt();\r\n\r\n\t\t// index = 0\r\n\t\t// if the input is 5, the index will go like:\r\n\t\t// 0, 5, 10, 15, 20, 25... etc\r\n\t\t// if the index is 5, it won&#39;t remove the number\r\n\t\t// otherwise it will\r\n\t\tfor (int index = input; index &lt;= 100; index += input) {\r\n\t\t\tif (index != input) list.remove(index - (index / input) + 1);\r\n\t\t}\r\n\t\tSystem.out.println(list);\r\n\t}\r\n}\r\n```","title":"Remove multiple numbers from an ArrayList","body":"<p>Remove every multiple of the given number. Create a for loop, starting at 0, that adds the specified number to an index on every loop iteration. If the current number is NOT the original input number, remove it from the array list.</p>\n<p>When removing elements from the ArrayList, the index of all of the elements that come after the removed element will be shifted down by one. To counter this, we divide the current index by the input value (the value that will have all multiplies of it removed), indicating how many other values have been removed.</p>\n<pre><code>package test;\n\nimport java.util.ArrayList;\n\nimport java.util.Scanner;\n\npublic class OneToHundreed {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System. in );\n        ArrayList &lt; Integer &gt; list = new ArrayList &lt; &gt;();\n\n        for (int i = 1; i &lt;= 100; i++) {\n            list.add(i);\n        }\n        System.out.println(list);\n        System.out.println(&quot;Next part of the exercise\\n_________________________&quot;);\n        System.out.println(&quot;Please enter a number&quot;);\n        final int input = sc.nextInt();\n\n        // index = 0\n        // if the input is 5, the index will go like:\n        // 0, 5, 10, 15, 20, 25... etc\n        // if the index is 5, it won't remove the number\n        // otherwise it will\n        for (int index = input; index &lt;= 100; index += input) {\n            if (index != input) list.remove(index - (index / input) + 1);\n        }\n        System.out.println(list);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2787482,"reputation":1022,"user_id":2398479,"accept_rate":32,"display_name":"Emre Alparslan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1622441652,"creation_date":1615393669,"answer_id":66568939,"question_id":66568745,"body_markdown":"You can use [modulo operation][1].\r\n\r\nCode:\r\n\r\n```java\r\nSystem.out.println(list);\r\nSystem.out.println(&quot;Next part of the exercise\\n_________________________&quot;);\r\nSystem.out.println(&quot;Please enter a number&quot;);\r\nfinal int input = sc.nextInt();\r\n// The result array that will contain correct numbers.\r\nArrayList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n// For loop roams the initial dataset starting from first index.\r\nfor (int i = 0; i &lt; list.size(); i++) {\r\n    // If the element in the initial array list is equal to\r\n    // the input number, it will directly added to the result\r\n    // array list.\r\n    if (list.get(i) == input) {\r\n        result.add(list.get(i));\r\n    }\r\n    // Otherwise, the modulo operation will be executed.\r\n    // If the result of the modulo is greater than 0,\r\n    // the number will be added to the result array list.\r\n    else if ((list.get(i) % input) &gt; 0) {\r\n        result.add(list.get(i));\r\n    }\r\n}\r\nSystem.out.println(result);\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Modulo_operation\r\n","title":"Remove multiple numbers from an ArrayList","body":"<p>You can use <a href=\"https://en.wikipedia.org/wiki/Modulo_operation\" rel=\"nofollow noreferrer\">modulo operation</a>.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(list);\nSystem.out.println(&quot;Next part of the exercise\\n_________________________&quot;);\nSystem.out.println(&quot;Please enter a number&quot;);\nfinal int input = sc.nextInt();\n// The result array that will contain correct numbers.\nArrayList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n// For loop roams the initial dataset starting from first index.\nfor (int i = 0; i &lt; list.size(); i++) {\n    // If the element in the initial array list is equal to\n    // the input number, it will directly added to the result\n    // array list.\n    if (list.get(i) == input) {\n        result.add(list.get(i));\n    }\n    // Otherwise, the modulo operation will be executed.\n    // If the result of the modulo is greater than 0,\n    // the number will be added to the result array list.\n    else if ((list.get(i) % input) &gt; 0) {\n        result.add(list.get(i));\n    }\n}\nSystem.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1615394962,"creation_date":1615394962,"answer_id":66569283,"question_id":66568745,"body_markdown":"This isn&#39;t the entire program but enough to give you the idea.  It uses `removeIf` and the condition is that the number is divisible by the input but not equal to the input itself.\r\n```\r\nint input = 2;\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1,2,3,4,5,6,7,8,9,10));\r\nSystem.out.println(list);\r\nlist.removeIf(a-&gt;a != input &amp;&amp; a % input == 0);\r\nSystem.out.println(list);\r\n```\r\nPrints\r\n```\r\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n[1, 2, 3, 5, 7, 9]\r\n","title":"Remove multiple numbers from an ArrayList","body":"<p>This isn't the entire program but enough to give you the idea.  It uses <code>removeIf</code> and the condition is that the number is divisible by the input but not equal to the input itself.</p>\n<pre><code>int input = 2;\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1,2,3,4,5,6,7,8,9,10));\nSystem.out.println(list);\nlist.removeIf(a-&gt;a != input &amp;&amp; a % input == 0);\nSystem.out.println(list);\n</code></pre>\n<p>Prints</p>\n<pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n[1, 2, 3, 5, 7, 9]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8664592,"reputation":9965,"user_id":6485651,"accept_rate":65,"display_name":"Zephyr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615395989,"creation_date":1615395131,"answer_id":66569327,"question_id":66568745,"body_markdown":"This may be a bit more advanced than your class wants you to go right now, but the `List` interface provides a `removeIf()` method that allows you to remove all elements of the `List` that match a certain condition.\r\n\r\nSince you want to remove all numbers that are multiples of your input, you would just check for that using the modulo operator: `%`.\r\n\r\nWe add a second condition to account for the original `input` so it doesn&#39;t also get removed:\r\n\r\n    list.removeIf(integer -&gt; (integer % input == 0 &amp;&amp; integer != input));\r\n\r\nThe odd syntax (`integer -&gt;`) is what is called a *lambda expression*. They are a fairly advanced topic, but essentially what is happening is `integer` is the item in the `List`. We are &quot;passing&quot; that reference to our conditional statements so it can be used in the calculation.\r\n\r\nSo it&#39;s basically saying &quot;for each `integer`, do this `-&gt;`.&quot;  Lambdas are a feature of Java that allows you to write cleaner and more readable code.  They are &quot;shortcuts&quot; to longer code, if you will.\r\n\r\nHere is the exact same process, but written out without using the lambda shortcut:\r\n\r\n    list.removeIf(new Predicate&lt;Integer&gt;() {\r\n        @Override\r\n        public boolean test(Integer integer) {\r\n             return integer % input == 0 &amp;&amp; integer != input;\r\n        }\r\n    });\r\n\r\nThe `integer % input == 0` returns `true` if `integer &#247; input` leaves no remainder (ie: it is a multiple of the `input`).\r\n\r\nGiven your code, our final output for the input of `5` is this:\r\n\r\n    [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 14, 16, 17, 18, 19, 21, 22, 23, 24, 26, 27, 28, 29, 31, 32, 33, 34, 36, 37, 38, 39, 41, 42, 43, 44, 46, 47, 48, 49, 51, 52, 53, 54, 56, 57, 58, 59, 61, 62, 63, 64, 66, 67, 68, 69, 71, 72, 73, 74, 76, 77, 78, 79, 81, 82, 83, 84, 86, 87, 88, 89, 91, 92, 93, 94, 96, 97, 98, 99]","title":"Remove multiple numbers from an ArrayList","body":"<p>This may be a bit more advanced than your class wants you to go right now, but the <code>List</code> interface provides a <code>removeIf()</code> method that allows you to remove all elements of the <code>List</code> that match a certain condition.</p>\n<p>Since you want to remove all numbers that are multiples of your input, you would just check for that using the modulo operator: <code>%</code>.</p>\n<p>We add a second condition to account for the original <code>input</code> so it doesn't also get removed:</p>\n<pre><code>list.removeIf(integer -&gt; (integer % input == 0 &amp;&amp; integer != input));\n</code></pre>\n<p>The odd syntax (<code>integer -&gt;</code>) is what is called a <em>lambda expression</em>. They are a fairly advanced topic, but essentially what is happening is <code>integer</code> is the item in the <code>List</code>. We are &quot;passing&quot; that reference to our conditional statements so it can be used in the calculation.</p>\n<p>So it's basically saying &quot;for each <code>integer</code>, do this <code>-&gt;</code>.&quot;  Lambdas are a feature of Java that allows you to write cleaner and more readable code.  They are &quot;shortcuts&quot; to longer code, if you will.</p>\n<p>Here is the exact same process, but written out without using the lambda shortcut:</p>\n<pre><code>list.removeIf(new Predicate&lt;Integer&gt;() {\n    @Override\n    public boolean test(Integer integer) {\n         return integer % input == 0 &amp;&amp; integer != input;\n    }\n});\n</code></pre>\n<p>The <code>integer % input == 0</code> returns <code>true</code> if <code>integer  input</code> leaves no remainder (ie: it is a multiple of the <code>input</code>).</p>\n<p>Given your code, our final output for the input of <code>5</code> is this:</p>\n<pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 14, 16, 17, 18, 19, 21, 22, 23, 24, 26, 27, 28, 29, 31, 32, 33, 34, 36, 37, 38, 39, 41, 42, 43, 44, 46, 47, 48, 49, 51, 52, 53, 54, 56, 57, 58, 59, 61, 62, 63, 64, 66, 67, 68, 69, 71, 72, 73, 74, 76, 77, 78, 79, 81, 82, 83, 84, 86, 87, 88, 89, 91, 92, 93, 94, 96, 97, 98, 99]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1615395796,"creation_date":1615395236,"answer_id":66569346,"question_id":66568745,"body_markdown":"Not efficient, but closest to your intention and easy to understand:\r\n\r\n    for (Integer i = input * 2; i &lt;= 100; i += input) {\r\n        list.remove(i);\r\n    }\r\n\r\nNote use of `Integer` for the loop variable instead of `int`. The `remove()` method comes in 2 flavours, and we dont want the `int` version which removes the item at an *index*.","title":"Remove multiple numbers from an ArrayList","body":"<p>Not efficient, but closest to your intention and easy to understand:</p>\n<pre><code>for (Integer i = input * 2; i &lt;= 100; i += input) {\n    list.remove(i);\n}\n</code></pre>\n<p>Note use of <code>Integer</code> for the loop variable instead of <code>int</code>. The <code>remove()</code> method comes in 2 flavours, and we dont want the <code>int</code> version which removes the item at an <em>index</em>.</p>\n"},{"tags":[],"owner":{"account_id":19171006,"reputation":716,"user_id":14004764,"display_name":"Syed Mohib Uddin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622427255,"creation_date":1615395648,"answer_id":66569471,"question_id":66568745,"body_markdown":"Can check it efficient way no if condition required.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Scanner sc = new Scanner(System.in);\r\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;Integer&gt; res = new ArrayList&lt;&gt;();\r\n\r\n    for (int i = 1; i &lt;= 100; i++) {\r\n        list.add(i);\r\n    }\r\n\r\n    System.out.println(&quot;Please enter a number&quot;);\r\n\r\n    final int input = sc.nextInt();\r\n\r\n    for (int i = input; i &lt;= 100; i += input) {\r\n        res.add(i);\r\n    }\r\n    System.out.println(res);\r\n}\r\n```\r\n","title":"Remove multiple numbers from an ArrayList","body":"<p>Can check it efficient way no if condition required.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    ArrayList&lt;Integer&gt; res = new ArrayList&lt;&gt;();\n\n    for (int i = 1; i &lt;= 100; i++) {\n        list.add(i);\n    }\n\n    System.out.println(&quot;Please enter a number&quot;);\n\n    final int input = sc.nextInt();\n\n    for (int i = input; i &lt;= 100; i += input) {\n        res.add(i);\n    }\n    System.out.println(res);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16027095,"reputation":23,"user_id":11567067,"display_name":"game pirate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677513463,"creation_date":1677513463,"answer_id":75582732,"question_id":66568745,"body_markdown":"I find below approch more easy:\r\n\r\n    public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n            for (int i = 1; i &lt;= 100; i++) {\r\n                list.add(i);\r\n            }\r\n            System.out.println(list);\r\n            System.out.println(&quot;Next part of the exercise\\n_________________________&quot;);\r\n            System.out.println(&quot;Please enter a number&quot;);\r\n            final int input = sc.nextInt();\r\n    \r\n         \tfor(int i=0; i&lt;list.size(); i++){\r\n                //if element is multiple of input\r\n            \tif(list.get(i)%input==0){\r\n                    //remove the element\r\n                \tlist.remove(i);\r\n                    //reduce iteration, so it checks the next element -&gt; as comes to removed element position\r\n    \t\t\t\ti--;\r\n            \t}\r\n        \t}\r\n            System.out.println(list);\r\n        }","title":"Remove multiple numbers from an ArrayList","body":"<p>I find below approch more easy:</p>\n<pre><code>public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n\n        for (int i = 1; i &lt;= 100; i++) {\n            list.add(i);\n        }\n        System.out.println(list);\n        System.out.println(&quot;Next part of the exercise\\n_________________________&quot;);\n        System.out.println(&quot;Please enter a number&quot;);\n        final int input = sc.nextInt();\n\n        for(int i=0; i&lt;list.size(); i++){\n            //if element is multiple of input\n            if(list.get(i)%input==0){\n                //remove the element\n                list.remove(i);\n                //reduce iteration, so it checks the next element -&gt; as comes to removed element position\n                i--;\n            }\n        }\n        System.out.println(list);\n    }\n</code></pre>\n"}],"owner":{"account_id":20921066,"reputation":15,"user_id":15369659,"display_name":"Malthe22"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66568939,"answer_count":7,"score":0,"last_activity_date":1677513463,"creation_date":1615393089,"question_id":66568745,"body_markdown":"I&#39;ve got this exercise &quot;**Write a program that constructs an ArrayList containing the numbers 1 to 100 and prints them out. Then ask the user for a number, and remove all multiples of that number (except for the number itself) from the list, and print the list out again. For example, if the user selects 5, it will remove 10, 15, 20, 25, 30, etc from the list.&quot;**\r\n\r\nAnd I can&#39;t seem to be done with the second part (removing all multiples) \r\n\r\nSo far this is what I&#39;ve got:\r\n```java\r\npackage ArrayList1To100;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class OneToHundreed {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 1; i &lt;= 100; i++) {\r\n            list.add(i);\r\n        }\r\n        System.out.println(list);\r\n        System.out.println(&quot;Next part of the exercise\\n_________________________&quot;);\r\n        System.out.println(&quot;Please enter a number&quot;);\r\n        final int input = sc.nextInt();\r\n\r\n        int i = 2;\r\n        int x = i * input;\r\n        while (list.contains(x)) {\r\n            list.remove(x - 1);\r\n        }\r\n        System.out.println(list);\r\n\r\n    }\r\n}\r\n```\r\nI get that my remove part is flawed as it only removes a single number. \r\nI&#39;ve tried with an if statement, and a while. But I can&#39;t seem to find the connection.\r\n","title":"Remove multiple numbers from an ArrayList","body":"<p>I've got this exercise &quot;<strong>Write a program that constructs an ArrayList containing the numbers 1 to 100 and prints them out. Then ask the user for a number, and remove all multiples of that number (except for the number itself) from the list, and print the list out again. For example, if the user selects 5, it will remove 10, 15, 20, 25, 30, etc from the list.&quot;</strong></p>\n<p>And I can't seem to be done with the second part (removing all multiples)</p>\n<p>So far this is what I've got:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package ArrayList1To100;\n\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class OneToHundreed {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n\n        for (int i = 1; i &lt;= 100; i++) {\n            list.add(i);\n        }\n        System.out.println(list);\n        System.out.println(&quot;Next part of the exercise\\n_________________________&quot;);\n        System.out.println(&quot;Please enter a number&quot;);\n        final int input = sc.nextInt();\n\n        int i = 2;\n        int x = i * input;\n        while (list.contains(x)) {\n            list.remove(x - 1);\n        }\n        System.out.println(list);\n\n    }\n}\n</code></pre>\n<p>I get that my remove part is flawed as it only removes a single number.\nI've tried with an if statement, and a while. But I can't seem to find the connection.</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":3,"creation_date":1677482445,"post_id":75577598,"comment_id":133339087,"body_markdown":"Run it with a debugger and see what it gets in the constructor. You&#39;re defining an &quot;AllArgsConstructor&quot; so whoever uses that gets to overwrite the value you set to &quot;children&quot; in the default constructor. This is the evil of Lombok: it gives you hidden code that works in the background without you even realizing it. In my opinion, you shouldn&#39;t be using Lombok for any business logic. Logging and toString methods are fine, but leave it there and you will shoot your own foot way fewer times. If you need to generate boilerplate code, use the code generation features of your IDE.","body":"Run it with a debugger and see what it gets in the constructor. You&#39;re defining an &quot;AllArgsConstructor&quot; so whoever uses that gets to overwrite the value you set to &quot;children&quot; in the default constructor. This is the evil of Lombok: it gives you hidden code that works in the background without you even realizing it. In my opinion, you shouldn&#39;t be using Lombok for any business logic. Logging and toString methods are fine, but leave it there and you will shoot your own foot way fewer times. If you need to generate boilerplate code, use the code generation features of your IDE."},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1677482765,"post_id":75577598,"comment_id":133339144,"body_markdown":"But if you&#39;re adamant on keeping the AllArgsConstructor annotation, you should put a NonNull annotation on the children-field. Then Lombok will add a null-checkt to it.","body":"But if you&#39;re adamant on keeping the AllArgsConstructor annotation, you should put a NonNull annotation on the children-field. Then Lombok will add a null-checkt to it."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1677487842,"post_id":75577598,"comment_id":133340279,"body_markdown":"If the object you&#39;re trying to call your addChild-method on is retrieved from the db has null in the children-field, I believe that will replace your initialization. You might need to initialize the field in the add child-method, i.e. something like: `public void addChild(Category child) {if (child == null) {child = new ArrayList&lt;&gt;();} children.add(child);}`","body":"If the object you&#39;re trying to call your addChild-method on is retrieved from the db has null in the children-field, I believe that will replace your initialization. You might need to initialize the field in the add child-method, i.e. something like: <code>public void addChild(Category child) {if (child == null) {child = new ArrayList&lt;&gt;();} children.add(child);}</code>"},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1677517226,"post_id":75577598,"comment_id":133349202,"body_markdown":"If the `category` instance is returned by any hibernate query, the `children` collection is never null (even if no child is found in database) .Usually we set `children = new ArrayList&lt;&gt;()` only to make sure that when we do intently `new Category()`, the collection is not null.","body":"If the <code>category</code> instance is returned by any hibernate query, the <code>children</code> collection is never null (even if no child is found in database) .Usually we set <code>children = new ArrayList&lt;&gt;()</code> only to make sure that when we do intently <code>new Category()</code>, the collection is not null."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677513387,"creation_date":1677513387,"answer_id":75582714,"question_id":75577598,"body_markdown":"I suspect you&#39;re using the Builder to construct an instance of Category.  In doing this, the builder is overriding the children collection with null because you aren&#39;t passing it in the builder chain.\r\n\r\ne.g.\r\n\r\n    Category.builder().build(); // will return an instance of Category with null children collection\r\n\r\n    new Category(); // will return an instance of Category with children set to an empty ArrayList.","title":"new ArrayList&lt;&gt;().add() NPE","body":"<p>I suspect you're using the Builder to construct an instance of Category.  In doing this, the builder is overriding the children collection with null because you aren't passing it in the builder chain.</p>\n<p>e.g.</p>\n<pre><code>Category.builder().build(); // will return an instance of Category with null children collection\n\nnew Category(); // will return an instance of Category with children set to an empty ArrayList.\n</code></pre>\n"}],"owner":{"account_id":22575486,"reputation":1,"user_id":16761052,"display_name":"BigFoot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677513387,"creation_date":1677481801,"question_id":75577598,"body_markdown":"```Java\r\n@Entity\r\n@Getter\r\n@Builder\r\n@ToString\r\n@AllArgsConstructor\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\npublic class Category {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;category_id&quot;)\r\n    private Long id;\r\n\r\n    private String name;\r\n    private Long depth;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;parent&quot;)\r\n    private Category parent;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;store_id&quot;)\r\n    private Store store;\r\n\r\n    @OneToMany(mappedBy = &quot;parent&quot;)\r\n    private List&lt;Category&gt; children = new ArrayList&lt;&gt;();\r\n\r\n    public void addChild(Category child) {\r\n        children.add(child);\r\n    }\r\n}\r\n```\r\n\r\nCannot invoke &quot;java.util.List.add(Object)&quot; because &quot;this.children&quot; is null\r\n\r\nwhen I try `parentCategory.addChild(childCategory)`\r\n\r\nI initialized it with an empty list, but why does it happen?\r\n\r\nIs the empty list null?\r\n\r\nI want to know the correct way to initialize.\r\n","title":"new ArrayList&lt;&gt;().add() NPE","body":"<pre><code>@Entity\n@Getter\n@Builder\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\npublic class Category {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;category_id&quot;)\n    private Long id;\n\n    private String name;\n    private Long depth;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;parent&quot;)\n    private Category parent;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;store_id&quot;)\n    private Store store;\n\n    @OneToMany(mappedBy = &quot;parent&quot;)\n    private List&lt;Category&gt; children = new ArrayList&lt;&gt;();\n\n    public void addChild(Category child) {\n        children.add(child);\n    }\n}\n</code></pre>\n<p>Cannot invoke &quot;java.util.List.add(Object)&quot; because &quot;this.children&quot; is null</p>\n<p>when I try <code>parentCategory.addChild(childCategory)</code></p>\n<p>I initialized it with an empty list, but why does it happen?</p>\n<p>Is the empty list null?</p>\n<p>I want to know the correct way to initialize.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677512208,"post_id":75582440,"comment_id":133347461,"body_markdown":"And your controller looks like? What is it you are sending to the controller?","body":"And your controller looks like? What is it you are sending to the controller?"},{"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1677512329,"post_id":75582440,"comment_id":133347506,"body_markdown":"M. Deinum I added the controller","body":"M. Deinum I added the controller"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677512405,"post_id":75582440,"comment_id":133347533,"body_markdown":"But you didn&#39;t add what you are sending to the controller. Also when you have such a large list of parameters use an object instead of separate parameters.","body":"But you didn&#39;t add what you are sending to the controller. Also when you have such a large list of parameters use an object instead of separate parameters."},{"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1677512634,"post_id":75582440,"comment_id":133347599,"body_markdown":"I am sending vie URL all parameters. I create a class ModelMocker and I produce a mock value for testing. &quot;use an object instead of separate parameters&quot; do you have an example please? thanks in advance","body":"I am sending vie URL all parameters. I create a class ModelMocker and I produce a mock value for testing. &quot;use an object instead of separate parameters&quot; do you have an example please? thanks in advance"},{"owner":{"account_id":22881048,"reputation":231,"user_id":17022635,"display_name":"siarhei987"},"score":0,"creation_date":1677514479,"post_id":75582440,"comment_id":133348272,"body_markdown":"source code from a baeldung example has an additional line in a configuration file `ApplicationConversionService.configure(registry);` [link](https://github.com/eugenp/tutorials/blob/57209b45d2f561d048553e53fa9c411b74c0e321/spring-boot-modules/spring-boot-request-params/src/main/java/com/baeldung/enummapping/config/EnumMappingConfig.java#L14) Maybe adding one could help.","body":"source code from a baeldung example has an additional line in a configuration file <code>ApplicationConversionService.configure(registry);</code> <a href=\"https://github.com/eugenp/tutorials/blob/57209b45d2f561d048553e53fa9c411b74c0e321/spring-boot-modules/spring-boot-request-params/src/main/java/com/baeldung/enummapping/config/EnumMappingConfig.java#L14\" rel=\"nofollow noreferrer\">link</a> Maybe adding one could help."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1677520120,"post_id":75582440,"comment_id":133350060,"body_markdown":"You could define a wrapper class containing your enum, converting your json to it and adding the `JsonAlias(&quot;baseline&quot;)` annotation  to `BASELINE`.","body":"You could define a wrapper class containing your enum, converting your json to it and adding the <code>JsonAlias(&quot;baseline&quot;)</code> annotation  to <code>BASELINE</code>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677569698,"post_id":75582440,"comment_id":133358816,"body_markdown":"You can just put the object in the method instead of the parameters, Spring will automatically do the binding to object parameters. So instead of the full list of parameters add `@ModelAttribute ModelMocker modelMocker`.","body":"You can just put the object in the method instead of the parameters, Spring will automatically do the binding to object parameters. So instead of the full list of parameters add <code>@ModelAttribute ModelMocker modelMocker</code>."}],"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677513172,"creation_date":1677511841,"question_id":75582440,"body_markdown":"I have an Enum class and I would like to use the lowercase (i.e., case insensitive) in the URL call of the Get:\r\n\r\n    package org.crea.w4ag_mock.mocker;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    public enum TimeFramesEnum {\r\n    \r\n        /*\r\n        baseline = BASELINE\r\n        period2_2040 = PERIOD2_2040\r\n        period3_2070 = PERIOD2_2070\r\n        */\r\n    \r\n        BASELINE,\r\n        PERIOD2_2040,\r\n        PERIOD2_2070\r\n    }\r\n\r\nI have tried various examples but none without useful result. \r\n\r\n - [https://www.baeldung.com/spring-boot-enum-mapping][1]\r\n - [https://baeldung3.rssing.com/chan-58647577/all_p119.html][2]\r\n - [https://vianneyfaivre.com/tech/spring-boot-enum-as-parameter-ignore-case][3]\r\n - [https://stackoverflow.com/questions/71527893/how-to-make-enum-parameter-lowercase-in-springboot-swagger][4]\r\n\r\nEach time I get the following error:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-02-27T15:22:06.493+00:00&quot;,\r\n        &quot;status&quot;: 400,\r\n        &quot;error&quot;: &quot;Bad Request&quot;,\r\n        &quot;message&quot;: &quot;Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;org.crea.w4ag_mock.mocker.TimeFramesEnum&#39;; Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam org.crea.w4ag_mock.mocker.TimeFramesEnum] for value &#39;baseline&#39;&quot;,\r\n        &quot;path&quot;: &quot;/mock&quot;\r\n    }\r\n\r\nI followed the example of creating myself a custom converter and adding it to the registry via the configuration:\r\n\r\n\r\n    package org.crea.w4ag_mock.converter;\r\n    import org.apache.commons.lang3.EnumUtils;\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.crea.w4ag_mock.mocker.TimeFramesEnum;\r\n    import org.springframework.core.convert.converter.Converter;\r\n    \r\n    public class StringToTimeFramesConverter implements Converter&lt;String, TimeFramesEnum&gt; {\r\n        @Override\r\n        public TimeFramesEnum convert(String source){\r\n            if (StringUtils.isBlank(source)) {\r\n                return null;\r\n            }\r\n            return EnumUtils.getEnum(TimeFramesEnum.class, source.toUpperCase());\r\n        }\r\n    \r\n    }\r\n\r\nconfiguration\r\n\r\n    package org.crea.w4ag_mock.config;\r\n    import org.crea.w4ag_mock.converter.StringToTimeFramesConverter;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.format.FormatterRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    @Configuration\r\n    public class EnumMappingConfig implements WebMvcConfigurer {\r\n        @Override\r\n        public void addFormatters(FormatterRegistry registry){\r\n            registry.addConverter(new StringToTimeFramesConverter());\r\n        }\r\n    }\r\n\r\n\r\nMy RestController is:\r\n\r\n    package org.crea.w4ag_mock;\r\n    import org.crea.w4ag_mock.mocker.*;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @SpringBootApplication\r\n    @RestController\r\n    public class Water4AgriFoodMockerApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Water4AgriFoodMockerApplication.class, args);\r\n    \r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;mock&quot;)\r\n    \t@ResponseBody\r\n    \tpublic ResponseEntity&lt;ModelMocker&gt; getMock(\r\n    \t\t\t@RequestParam(required = true) String idName,\r\n    \t\t\t@RequestParam(required = true) String idConfiguration,\r\n    \t\t\t@RequestParam(required = true) String location,\r\n    \t\t\t@RequestParam(required = true) String startTime,\r\n    \t\t\t@RequestParam(name=&quot;timeFrames&quot;, required = true) TimeFramesEnum timeFrames,\r\n    \t\t\t@RequestParam(required = true) GcmsEnum gcms,\r\n    \t\t\t@RequestParam(required = true) RcpsEnum rcps,\r\n    \t\t\t@RequestParam(required = true) String idCrop,\r\n    \t\t\t@RequestParam(required = true) String idVariety,\r\n    \t\t\t@RequestParam(required = true) String idRotation\r\n    \t){\r\n    \t\tModelMocker modelMocker = ModelMocker.builder()\r\n    \t\t\t\t.idName(idName)\r\n    \t\t\t\t.idConfiguration(idConfiguration)\r\n    \t\t\t\t.location(location)\r\n    \t\t\t\t.startTime(startTime)\r\n    \t\t\t\t.timeFrames(timeFrames)\r\n    \t\t\t\t.gcms(gcms)\r\n    \t\t\t\t.rcps(rcps)\r\n    \t\t\t\t.idCrop(idCrop)\r\n    \t\t\t\t.idVariety(idVariety)\r\n    \t\t\t\t.idRotation(idRotation)\r\n    \t\t\t\t.developmentStage(ModelMockerRandomValueGenerator.getDevelopmentStageValue())\r\n    \t\t\t\t.potentialAboveGroundBiomass(ModelMockerRandomValueGenerator.getPotentialAboveGroundBiomassValue())\r\n    \t\t\t\t.potentialYield(ModelMockerRandomValueGenerator.getPotentialYieldValue())\r\n    \t\t\t\t.potentialLAI(ModelMockerRandomValueGenerator.getPotentialLAIValue())\r\n    \t\t\t\t.waterLimitedAboveGroundBiomass(ModelMockerRandomValueGenerator.getWaterLimitedAboveGroundBiomassValue())\r\n    \t\t\t\t.waterLimitedYield(ModelMockerRandomValueGenerator.getPotentialYieldValue())\r\n    \t\t\t\t.waterLimitedLAI(ModelMockerRandomValueGenerator.getWaterLimitedLAIValue())\r\n    \t\t\t\t.build();\r\n    \t\treturn ResponseEntity.ok(modelMocker);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-enum-mapping\r\n  [2]: https://baeldung3.rssing.com/chan-58647577/all_p119.html\r\n  [3]: https://vianneyfaivre.com/tech/spring-boot-enum-as-parameter-ignore-case\r\n  [4]: https://stackoverflow.com/questions/71527893/how-to-make-enum-parameter-lowercase-in-springboot-swagger\r\n  [5]: https://i.stack.imgur.com/wwCAP.png","title":"enum case insensitive in spring boot 3.0.0+","body":"<p>I have an Enum class and I would like to use the lowercase (i.e., case insensitive) in the URL call of the Get:</p>\n<pre><code>package org.crea.w4ag_mock.mocker;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic enum TimeFramesEnum {\n\n    /*\n    baseline = BASELINE\n    period2_2040 = PERIOD2_2040\n    period3_2070 = PERIOD2_2070\n    */\n\n    BASELINE,\n    PERIOD2_2040,\n    PERIOD2_2070\n}\n</code></pre>\n<p>I have tried various examples but none without useful result.</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/spring-boot-enum-mapping\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-enum-mapping</a></li>\n<li><a href=\"https://baeldung3.rssing.com/chan-58647577/all_p119.html\" rel=\"nofollow noreferrer\">https://baeldung3.rssing.com/chan-58647577/all_p119.html</a></li>\n<li><a href=\"https://vianneyfaivre.com/tech/spring-boot-enum-as-parameter-ignore-case\" rel=\"nofollow noreferrer\">https://vianneyfaivre.com/tech/spring-boot-enum-as-parameter-ignore-case</a></li>\n<li><a href=\"https://stackoverflow.com/questions/71527893/how-to-make-enum-parameter-lowercase-in-springboot-swagger\">How to make enum parameter lowercase in SpringBoot/Swagger?</a></li>\n</ul>\n<p>Each time I get the following error:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-02-27T15:22:06.493+00:00&quot;,\n    &quot;status&quot;: 400,\n    &quot;error&quot;: &quot;Bad Request&quot;,\n    &quot;message&quot;: &quot;Failed to convert value of type 'java.lang.String' to required type 'org.crea.w4ag_mock.mocker.TimeFramesEnum'; Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam org.crea.w4ag_mock.mocker.TimeFramesEnum] for value 'baseline'&quot;,\n    &quot;path&quot;: &quot;/mock&quot;\n}\n</code></pre>\n<p>I followed the example of creating myself a custom converter and adding it to the registry via the configuration:</p>\n<pre><code>package org.crea.w4ag_mock.converter;\nimport org.apache.commons.lang3.EnumUtils;\nimport org.apache.commons.lang3.StringUtils;\nimport org.crea.w4ag_mock.mocker.TimeFramesEnum;\nimport org.springframework.core.convert.converter.Converter;\n\npublic class StringToTimeFramesConverter implements Converter&lt;String, TimeFramesEnum&gt; {\n    @Override\n    public TimeFramesEnum convert(String source){\n        if (StringUtils.isBlank(source)) {\n            return null;\n        }\n        return EnumUtils.getEnum(TimeFramesEnum.class, source.toUpperCase());\n    }\n\n}\n</code></pre>\n<p>configuration</p>\n<pre><code>package org.crea.w4ag_mock.config;\nimport org.crea.w4ag_mock.converter.StringToTimeFramesConverter;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.format.FormatterRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class EnumMappingConfig implements WebMvcConfigurer {\n    @Override\n    public void addFormatters(FormatterRegistry registry){\n        registry.addConverter(new StringToTimeFramesConverter());\n    }\n}\n</code></pre>\n<p>My RestController is:</p>\n<pre><code>package org.crea.w4ag_mock;\nimport org.crea.w4ag_mock.mocker.*;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@SpringBootApplication\n@RestController\npublic class Water4AgriFoodMockerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Water4AgriFoodMockerApplication.class, args);\n\n    }\n\n    @GetMapping(&quot;mock&quot;)\n    @ResponseBody\n    public ResponseEntity&lt;ModelMocker&gt; getMock(\n            @RequestParam(required = true) String idName,\n            @RequestParam(required = true) String idConfiguration,\n            @RequestParam(required = true) String location,\n            @RequestParam(required = true) String startTime,\n            @RequestParam(name=&quot;timeFrames&quot;, required = true) TimeFramesEnum timeFrames,\n            @RequestParam(required = true) GcmsEnum gcms,\n            @RequestParam(required = true) RcpsEnum rcps,\n            @RequestParam(required = true) String idCrop,\n            @RequestParam(required = true) String idVariety,\n            @RequestParam(required = true) String idRotation\n    ){\n        ModelMocker modelMocker = ModelMocker.builder()\n                .idName(idName)\n                .idConfiguration(idConfiguration)\n                .location(location)\n                .startTime(startTime)\n                .timeFrames(timeFrames)\n                .gcms(gcms)\n                .rcps(rcps)\n                .idCrop(idCrop)\n                .idVariety(idVariety)\n                .idRotation(idRotation)\n                .developmentStage(ModelMockerRandomValueGenerator.getDevelopmentStageValue())\n                .potentialAboveGroundBiomass(ModelMockerRandomValueGenerator.getPotentialAboveGroundBiomassValue())\n                .potentialYield(ModelMockerRandomValueGenerator.getPotentialYieldValue())\n                .potentialLAI(ModelMockerRandomValueGenerator.getPotentialLAIValue())\n                .waterLimitedAboveGroundBiomass(ModelMockerRandomValueGenerator.getWaterLimitedAboveGroundBiomassValue())\n                .waterLimitedYield(ModelMockerRandomValueGenerator.getPotentialYieldValue())\n                .waterLimitedLAI(ModelMockerRandomValueGenerator.getWaterLimitedLAIValue())\n                .build();\n        return ResponseEntity.ok(modelMocker);\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wwCAP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wwCAP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","environment-variables","development-environment"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677510016,"post_id":75581979,"comment_id":133346602,"body_markdown":"add `--spring.profiles.active=&lt;your-profile&gt;` as a program argument. You can use this as well when launching your app through `java -jar &lt;your.jar&gt; --spring.profiles.active=&lt;your-profile&gt;`. This is also explained in the spring boot documentation.","body":"add <code>--spring.profiles.active=&lt;your-profile&gt;</code> as a program argument. You can use this as well when launching your app through <code>java -jar &lt;your.jar&gt; --spring.profiles.active=&lt;your-profile&gt;</code>. This is also explained in the spring boot documentation."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677510527,"post_id":75581979,"comment_id":133346803,"body_markdown":"I also use Environment variable of Intellij in the run configuration. But could you please explain a little bit more how the other things should be  used based on this scenario? For example, if I activate the environment when running the app, is the the only way? Or what is the usage of `spring: profiles: active: production` ? or `.env` file?","body":"I also use Environment variable of Intellij in the run configuration. But could you please explain a little bit more how the other things should be  used based on this scenario? For example, if I activate the environment when running the app, is the the only way? Or what is the usage of <code>spring: profiles: active: production</code> ? or <code>.env</code> file?"}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677512779,"creation_date":1677511226,"answer_id":75582327,"question_id":75581979,"body_markdown":"1) Yes, you can use `spring.profiles.active`, but you probably shouldn&#39;t, because you specify this in `application.yml` which should be profile-agnostic. Instead as they pointed out in comments it&#39;d be better to rely on e.g. `--spring.profiles.active=dev` which would tell Spring Boot to use properties from both `application.yml` and `application-dev.yml`.\r\n\r\n2) I&#39;d not use this file at all and rely on `application.yml`, because of two main reasons:\r\n - you can run your application from Gradle, Maven, IntelliJ, command line and for all those cases you need to handle environment variables in a different way\r\n - you can run your application on various OSes where environment variables are set up separately\r\n\r\nIf I&#39;d solve your issue with dev and prod environments I&#39;d create three files:\r\n- application.yml for props shared over all profiles\r\n- application-dev.yml for dev props\r\n- application-prod.yml for prod props\r\n\r\nThen I&#39;d switch between profiles by specifying --spring.profiles.active=dev|prod`\r\n\r\nP.S. As of your questions in comments:\r\n1) In case you specify a profile with --spring.profiles.active=dev` and there&#39;s a property e.g. `server.port` in both `application.yml` and `application-dev.yml` the value from `application-dev.yml` will be used. So you can override properties. It&#39;s a standard technique for overriding properties.\r\n2) Well, I don&#39;t know how you use the properties from `.env` files. Usually environment variables from OS level are accessed in Java using `System.getProperty(String)`. Moreover, some frameworks&#39; usage implies there&#39;s a certain property specified, e.g. Apache Spark usually needs `HADOOP_HOME`. So it might be dangerous to remove those `.env` files.\r\n3) For secrets you can use Vault. The idea is that instead of credentials or other sensitive data you specify a key for them and application uses this key to fetch secrets from vault at runtime. This allows to secure the data even if config files leak.","title":"Switching between dev and prod environments in Java / Spring Boot apps?","body":"<ol>\n<li><p>Yes, you can use <code>spring.profiles.active</code>, but you probably shouldn't, because you specify this in <code>application.yml</code> which should be profile-agnostic. Instead as they pointed out in comments it'd be better to rely on e.g. <code>--spring.profiles.active=dev</code> which would tell Spring Boot to use properties from both <code>application.yml</code> and <code>application-dev.yml</code>.</p>\n</li>\n<li><p>I'd not use this file at all and rely on <code>application.yml</code>, because of two main reasons:</p>\n</li>\n</ol>\n<ul>\n<li>you can run your application from Gradle, Maven, IntelliJ, command line and for all those cases you need to handle environment variables in a different way</li>\n<li>you can run your application on various OSes where environment variables are set up separately</li>\n</ul>\n<p>If I'd solve your issue with dev and prod environments I'd create three files:</p>\n<ul>\n<li>application.yml for props shared over all profiles</li>\n<li>application-dev.yml for dev props</li>\n<li>application-prod.yml for prod props</li>\n</ul>\n<p>Then I'd switch between profiles by specifying --spring.profiles.active=dev|prod`</p>\n<p>P.S. As of your questions in comments:</p>\n<ol>\n<li>In case you specify a profile with --spring.profiles.active=dev<code>and there's a property e.g.</code>server.port<code>in both</code>application.yml<code>and</code>application-dev.yml<code>the value from</code>application-dev.yml` will be used. So you can override properties. It's a standard technique for overriding properties.</li>\n<li>Well, I don't know how you use the properties from <code>.env</code> files. Usually environment variables from OS level are accessed in Java using <code>System.getProperty(String)</code>. Moreover, some frameworks' usage implies there's a certain property specified, e.g. Apache Spark usually needs <code>HADOOP_HOME</code>. So it might be dangerous to remove those <code>.env</code> files.</li>\n<li>For secrets you can use Vault. The idea is that instead of credentials or other sensitive data you specify a key for them and application uses this key to fetch secrets from vault at runtime. This allows to secure the data even if config files leak.</li>\n</ol>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1250,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1677512779,"creation_date":1677509450,"question_id":75581979,"body_markdown":"In my Spring Boot apps, I have just started to use different environment for development and get very confused about a proper switch steps and scenarios. \r\n\r\nThere are also some files that I could not totally understand as there are several conflicted information on the web about these files. \r\n\r\nCould you please clarify me about these issues below? \r\n\r\n**1)** As far as I know, we can set the environment from the following setting in application properties. Is that true? And is there any other way for to switch between environments?\r\n\r\n```\r\nspring:\r\n  profiles:\r\n    active: production\r\n```\r\n\r\n**2)** There is also another file called `.env` and I think there is also different versions e.g. `.env-dev`. As far as I know, it is used to define environment variables. But, for example when I run the app from IntelliJ, I am not sure if IntelliJ should read variables from it and use when running the app. How should I use this file?\r\n\r\nBased on these 2 issues, you can basically give an example scenario to setup dev and prod environment and switch between them. Any help would be appreciated. \r\n\r\n","title":"Switching between dev and prod environments in Java / Spring Boot apps?","body":"<p>In my Spring Boot apps, I have just started to use different environment for development and get very confused about a proper switch steps and scenarios.</p>\n<p>There are also some files that I could not totally understand as there are several conflicted information on the web about these files.</p>\n<p>Could you please clarify me about these issues below?</p>\n<p><strong>1)</strong> As far as I know, we can set the environment from the following setting in application properties. Is that true? And is there any other way for to switch between environments?</p>\n<pre><code>spring:\n  profiles:\n    active: production\n</code></pre>\n<p><strong>2)</strong> There is also another file called <code>.env</code> and I think there is also different versions e.g. <code>.env-dev</code>. As far as I know, it is used to define environment variables. But, for example when I run the app from IntelliJ, I am not sure if IntelliJ should read variables from it and use when running the app. How should I use this file?</p>\n<p>Based on these 2 issues, you can basically give an example scenario to setup dev and prod environment and switch between them. Any help would be appreciated.</p>\n"},{"tags":["java","spring-boot","spring-kafka","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":2365019,"reputation":5194,"user_id":2070861,"accept_rate":100,"display_name":"sobychacko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677512360,"creation_date":1677512360,"answer_id":75582519,"question_id":75580132,"body_markdown":"`StreamListener` is removed from the framework in preference to using `java.util.function` based programming model. If you have both input and output, that can use a `Function`; if you only have input, then use `Consumer.` Your `StreamListener` above can be re-rewritten as you did above, but if you don&#39;t want to access the headers, you do not need to wrap your payload in a `Message.` For example,\r\n\r\n```\r\n@Bean\r\npublic Consumer&lt;Order&gt; consumeOrder() {\r\n    return order -&gt; {\r\n        // business logic\r\n    }\r\n}\r\n```\r\n\r\nYou can provide a destination using the pattern - `spring.cloud.stream.bindings.consumeOrder-in-0.destination`. ","title":"How to replace deprecated @StreamListener?","body":"<p><code>StreamListener</code> is removed from the framework in preference to using <code>java.util.function</code> based programming model. If you have both input and output, that can use a <code>Function</code>; if you only have input, then use <code>Consumer.</code> Your <code>StreamListener</code> above can be re-rewritten as you did above, but if you don't want to access the headers, you do not need to wrap your payload in a <code>Message.</code> For example,</p>\n<pre><code>@Bean\npublic Consumer&lt;Order&gt; consumeOrder() {\n    return order -&gt; {\n        // business logic\n    }\n}\n</code></pre>\n<p>You can provide a destination using the pattern - <code>spring.cloud.stream.bindings.consumeOrder-in-0.destination</code>.</p>\n"}],"owner":{"account_id":25192367,"reputation":55,"user_id":19032411,"display_name":"stakeika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":889,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677512360,"creation_date":1677498764,"question_id":75580132,"body_markdown":"I&#39;m using Spring Boot and Kafka. Migrating to latest versions of Spring Boot and others, I encountered following issue: `@StreamListener` is deprecated and removed from the library. I have a topic `my_topic` and read from it as in example below:\r\n\r\n    public class OrderListener {\r\n        @StreamListener(&quot;my_topic&quot;)\r\n        public void consumeOrder(Order order) {\r\n            // business logic\r\n        }\r\n    }\r\n\r\nIn documentation it is advised to use functional programming model. How does it look like? I found this code sample:\r\n\r\n    @Bean\r\n    public Consumer&lt;Message&lt;Order&gt;&gt; consumeOrder() {\r\n        return msg -&gt; {\r\n            // to get header - msg.getHeaders().get(key, valueType);\r\n        }\r\n    }\r\n\r\nStill, it&#39;s quite verbose, I like previous approach (`@StreamListener`). Is there any short modern way to write it?","title":"How to replace deprecated @StreamListener?","body":"<p>I'm using Spring Boot and Kafka. Migrating to latest versions of Spring Boot and others, I encountered following issue: <code>@StreamListener</code> is deprecated and removed from the library. I have a topic <code>my_topic</code> and read from it as in example below:</p>\n<pre><code>public class OrderListener {\n    @StreamListener(&quot;my_topic&quot;)\n    public void consumeOrder(Order order) {\n        // business logic\n    }\n}\n</code></pre>\n<p>In documentation it is advised to use functional programming model. How does it look like? I found this code sample:</p>\n<pre><code>@Bean\npublic Consumer&lt;Message&lt;Order&gt;&gt; consumeOrder() {\n    return msg -&gt; {\n        // to get header - msg.getHeaders().get(key, valueType);\n    }\n}\n</code></pre>\n<p>Still, it's quite verbose, I like previous approach (<code>@StreamListener</code>). Is there any short modern way to write it?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","querydsl"],"answers":[{"tags":[],"owner":{"account_id":11243704,"reputation":13,"user_id":8247078,"display_name":"FreudK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677511493,"creation_date":1677511493,"answer_id":75582375,"question_id":75385352,"body_markdown":"One solution is by adding `@QueryEntities(value = {ExternalClass.class})` to `package-info`. \r\n\r\nFor more details check [https://stackoverflow.com/questions/65111043/how-to-generate-query-dsl-q-classes-on-external-entity][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/65111043/how-to-generate-query-dsl-q-classes-on-external-entity","title":"How to generate Query classes when an entity extends a class from an external package that does not have support for QueryDsl?","body":"<p>One solution is by adding <code>@QueryEntities(value = {ExternalClass.class})</code> to <code>package-info</code>.</p>\n<p>For more details check <a href=\"https://stackoverflow.com/questions/65111043/how-to-generate-query-dsl-q-classes-on-external-entity\">How to generate query-dsl Q classes on external entity?</a></p>\n"}],"owner":{"account_id":11243704,"reputation":13,"user_id":8247078,"display_name":"FreudK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75582375,"answer_count":1,"score":0,"last_activity_date":1677511493,"creation_date":1675856796,"question_id":75385352,"body_markdown":"I am having an entity class like below:\r\n\r\n`public class Apple extends ExternalClass implements Serializable {}`\r\n\r\nHere `Apple` is extending a class `ExternalClass` which is a part of a external package(not part of project source code). \r\n\r\nWhen I am trying to use mvn compile, the compilation is failing with an error \r\n&gt; error: cannot find symbol \\\r\n&gt; symbol:   class QExternalClass \\\r\n&gt; location: package com.example.models \\\r\n&gt; public final com.example.models.ExternalClass _super = new com.example.models.ExternalClass(this);\r\n\r\n\r\n\r\nOne solution that I can think of is to add QueryDsl to the external package, and then importing it. Is there any other solution available for this problem. ","title":"How to generate Query classes when an entity extends a class from an external package that does not have support for QueryDsl?","body":"<p>I am having an entity class like below:</p>\n<p><code>public class Apple extends ExternalClass implements Serializable {}</code></p>\n<p>Here <code>Apple</code> is extending a class <code>ExternalClass</code> which is a part of a external package(not part of project source code).</p>\n<p>When I am trying to use mvn compile, the compilation is failing with an error</p>\n<blockquote>\n<p>error: cannot find symbol <br />\nsymbol:   class QExternalClass <br />\nlocation: package com.example.models <br />\npublic final com.example.models.ExternalClass _super = new com.example.models.ExternalClass(this);</p>\n</blockquote>\n<p>One solution that I can think of is to add QueryDsl to the external package, and then importing it. Is there any other solution available for this problem.</p>\n"},{"tags":["java","lambda","java-stream"],"answers":[{"tags":[],"owner":{"account_id":89056,"reputation":8068,"user_id":2684196,"accept_rate":80,"display_name":"Willis Blackburn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576016208,"creation_date":1576015813,"answer_id":59276100,"question_id":59276049,"body_markdown":"The thing you need to know is that `flatMap` is the function that you can use to convert the strings into individual characters. While regular `map` function just converts each stream element into a different element, `flatMap` converts each element into a *stream* of elements, then concatenates those streams together.\r\n\r\nThe function that converts a `String` into a stream of characters is `String.chars`.\r\n\r\nWhen you want to build a new collection from a stream, you usually use a collector. Using the function `Collectors.groupingBy` you can produce a collector that will create a `Map`, given two functions, one to produce the key for each stream value, and the other to produce the value. There&#39;s a variant of this that will let you pass another collector in as the second parameter instead of a function; try `Collectors.counting`.","title":"Counting occurences of chars in string with stream","body":"<p>The thing you need to know is that <code>flatMap</code> is the function that you can use to convert the strings into individual characters. While regular <code>map</code> function just converts each stream element into a different element, <code>flatMap</code> converts each element into a <em>stream</em> of elements, then concatenates those streams together.</p>\n\n<p>The function that converts a <code>String</code> into a stream of characters is <code>String.chars</code>.</p>\n\n<p>When you want to build a new collection from a stream, you usually use a collector. Using the function <code>Collectors.groupingBy</code> you can produce a collector that will create a <code>Map</code>, given two functions, one to produce the key for each stream value, and the other to produce the value. There's a variant of this that will let you pass another collector in as the second parameter instead of a function; try <code>Collectors.counting</code>.</p>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1576029476,"creation_date":1576029476,"answer_id":59277879,"question_id":59276049,"body_markdown":"It could be done as Willis pointed out using the `flatMap` and `groupingBy` collector. But, the expected output type should be `Map&lt;Character, Long&gt;` fo that as in:\r\n\r\n    Map&lt;Character, Long&gt; charFrequency = words.stream() //Stream&lt;String&gt;\r\n            .flatMap(a -&gt; a.chars().mapToObj(c -&gt; (char) c)) // Stream&lt;Character&gt;\r\n            .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));","title":"Counting occurences of chars in string with stream","body":"<p>It could be done as Willis pointed out using the <code>flatMap</code> and <code>groupingBy</code> collector. But, the expected output type should be <code>Map&lt;Character, Long&gt;</code> fo that as in:</p>\n\n<pre><code>Map&lt;Character, Long&gt; charFrequency = words.stream() //Stream&lt;String&gt;\n        .flatMap(a -&gt; a.chars().mapToObj(c -&gt; (char) c)) // Stream&lt;Character&gt;\n        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13944235,"reputation":21,"user_id":10765057,"display_name":"Denys Shelupets"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632136912,"creation_date":1632133175,"answer_id":69252785,"question_id":59276049,"body_markdown":"More readable using `flatMapToInt` than `flatMap(a -&gt; a.chars().mapToObj(c -&gt; (char) c)) `\r\n\r\n    words.stream()\r\n                .flatMapToInt(String::chars) //IntStream\r\n                .mapToObj(c -&gt; (char) c)     //Stream&lt;Character&gt;\r\n                .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));","title":"Counting occurences of chars in string with stream","body":"<p>More readable using <code>flatMapToInt</code> than <code>flatMap(a -&gt; a.chars().mapToObj(c -&gt; (char) c)) </code></p>\n<pre><code>words.stream()\n            .flatMapToInt(String::chars) //IntStream\n            .mapToObj(c -&gt; (char) c)     //Stream&lt;Character&gt;\n            .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11702868,"reputation":141,"user_id":8567318,"display_name":"Ankur Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677511370,"creation_date":1677511370,"answer_id":75582354,"question_id":59276049,"body_markdown":"***In Kotlin:***\r\n    \r\n    val str = &quot;Occurrences&quot;\r\n    val results: Map&lt;String, Long&gt; =\r\n            stream(str.split(&quot;&quot;).toTypedArray()).map{n-&gt; n.lowercase()}\r\n                .collect(\r\n                    Collectors.groupingBy({ it  },\r\n                        { LinkedHashMap() },\r\n                        Collectors.counting()\r\n                    )\r\n                )\r\n\r\n    Log.w(&quot;occurrencesResult&quot;,results.toString())","title":"Counting occurences of chars in string with stream","body":"<p><em><strong>In Kotlin:</strong></em></p>\n<pre><code>val str = &quot;Occurrences&quot;\nval results: Map&lt;String, Long&gt; =\n        stream(str.split(&quot;&quot;).toTypedArray()).map{n-&gt; n.lowercase()}\n            .collect(\n                Collectors.groupingBy({ it  },\n                    { LinkedHashMap() },\n                    Collectors.counting()\n                )\n            )\n\nLog.w(&quot;occurrencesResult&quot;,results.toString())\n</code></pre>\n"}],"owner":{"account_id":16273371,"reputation":103,"user_id":11751286,"display_name":"Grzesiek Chyla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15609,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59277879,"answer_count":4,"score":3,"last_activity_date":1677511370,"creation_date":1576015489,"question_id":59276049,"body_markdown":"I&#39;m trying to understand a data flow of streams in Java. My task is to put occurrences of each letter in list of strings\r\n```\r\nList&lt;String&gt; words = Arrays.asList(&quot;Welcome&quot;, &quot;to&quot;, &quot;the&quot;, &quot;java&quot;, &quot;world&quot;);\r\n```\r\n into \r\n```\r\nMap&lt;String, Long&gt;\r\n```\r\n\r\nusing a one-liner stream.\r\n\r\nI know, that in the first place we can stream each word from the list, then I need to separate it into chars, then put each char as key and count its occurrence as value and in the end return the whole map.\r\n\r\nIt is so complicated to understand. Could someone explain to me how to do it?","title":"Counting occurences of chars in string with stream","body":"<p>I'm trying to understand a data flow of streams in Java. My task is to put occurrences of each letter in list of strings</p>\n\n<pre><code>List&lt;String&gt; words = Arrays.asList(\"Welcome\", \"to\", \"the\", \"java\", \"world\");\n</code></pre>\n\n<p>into </p>\n\n<pre><code>Map&lt;String, Long&gt;\n</code></pre>\n\n<p>using a one-liner stream.</p>\n\n<p>I know, that in the first place we can stream each word from the list, then I need to separate it into chars, then put each char as key and count its occurrence as value and in the end return the whole map.</p>\n\n<p>It is so complicated to understand. Could someone explain to me how to do it?</p>\n"},{"tags":["java","oracle","hibernate","spring-jdbc","querydsl"],"answers":[{"tags":[],"owner":{"account_id":26274754,"reputation":13,"user_id":19944107,"display_name":"NBS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677511292,"creation_date":1677511292,"answer_id":75582338,"question_id":75578795,"body_markdown":"So I found a half way solution! \r\nWhat Ive done is to add autowired parameter in class:\r\n\r\n```\r\n@Autowired\r\nprivate JdbcTemplate jdbcTemplate;\r\n```\r\n\r\nAnd this is the function:\r\n```\r\npublic List&lt;AggregationResultRow&gt; getAggregations(AggregationRequest aggregationRequest) throw Exception {\r\nConnection connection = this.jdbcTemplate.getDataSource().getConnection();\r\nOracleQuery&lt;AggregationResultRow&gt; query = new OracleQuery&lt;AggregationResultRow&gt;(connection)\r\n.with(this.aggregationValues, new OracleQuery&lt;AggregationValues&gt;(connection)\r\n.select(Projections.constructor(AggregationValues.class, this.table.age.as(this.aggregationValues.age), this.table.gender.as(this.aggregationValues.gender),\r\nthis.table.mainCity.as(this.aggregationValues.mainCity)))\r\n.from(this.table)\r\nwhere(this.getConditions(aggregationRequest)));\r\n\r\nquery.unionAll(new OracleQuery&lt;AggregationResultRow&gt;(connection)\r\n.select(Projections.constructor(AggregationResultRow.class, this.aggregationValues.age.as(value),\r\nthis.aggregationValues.age.count().as(row_count),\r\nExpressions.asString(age).as(column_name)))\r\n.from(this.aggregationValues)\r\n.groupBy(this.aggregationValues.age),\r\nnew OracleQuery&lt;AggregationResultRow&gt;(connection)\r\n.select(Projections.constructor(AggregationResultRow.class, this.aggregationValues.gender.as(value),\r\nthis.aggregationValues.gender.count().as(row_count),\r\nExpressions.asString(gender).as(column_name)))\r\n.from(this.aggregationValues)\r\n.groupBy(this.aggregationValues.gender),\r\nnew OracleQuery&lt;AggregationResultRow&gt;(connection)\r\n.select(Projections.constructor(AggregationResultRow.class, this.aggregationValues.mainCity.as(value),\r\nthis.aggregationValues.mainCity.count().as(row_count),\r\nExpressions.asString(mainCity).as(column_name)))\r\n.from(this.aggregationValues)\r\n.groupBy(this.aggregationValues.mainCity));\r\n\r\nreturn query.fetch();\r\n}\r\n```\r\n\r\nNow I only need to add Materialize to the select in the WITH clause and parallel to all the function. Any ideas?\r\n\r\n","title":"Convert SQL query that contains WITH clause and union in QueryDsl","body":"<p>So I found a half way solution!\nWhat Ive done is to add autowired parameter in class:</p>\n<pre><code>@Autowired\nprivate JdbcTemplate jdbcTemplate;\n</code></pre>\n<p>And this is the function:</p>\n<pre><code>public List&lt;AggregationResultRow&gt; getAggregations(AggregationRequest aggregationRequest) throw Exception {\nConnection connection = this.jdbcTemplate.getDataSource().getConnection();\nOracleQuery&lt;AggregationResultRow&gt; query = new OracleQuery&lt;AggregationResultRow&gt;(connection)\n.with(this.aggregationValues, new OracleQuery&lt;AggregationValues&gt;(connection)\n.select(Projections.constructor(AggregationValues.class, this.table.age.as(this.aggregationValues.age), this.table.gender.as(this.aggregationValues.gender),\nthis.table.mainCity.as(this.aggregationValues.mainCity)))\n.from(this.table)\nwhere(this.getConditions(aggregationRequest)));\n\nquery.unionAll(new OracleQuery&lt;AggregationResultRow&gt;(connection)\n.select(Projections.constructor(AggregationResultRow.class, this.aggregationValues.age.as(value),\nthis.aggregationValues.age.count().as(row_count),\nExpressions.asString(age).as(column_name)))\n.from(this.aggregationValues)\n.groupBy(this.aggregationValues.age),\nnew OracleQuery&lt;AggregationResultRow&gt;(connection)\n.select(Projections.constructor(AggregationResultRow.class, this.aggregationValues.gender.as(value),\nthis.aggregationValues.gender.count().as(row_count),\nExpressions.asString(gender).as(column_name)))\n.from(this.aggregationValues)\n.groupBy(this.aggregationValues.gender),\nnew OracleQuery&lt;AggregationResultRow&gt;(connection)\n.select(Projections.constructor(AggregationResultRow.class, this.aggregationValues.mainCity.as(value),\nthis.aggregationValues.mainCity.count().as(row_count),\nExpressions.asString(mainCity).as(column_name)))\n.from(this.aggregationValues)\n.groupBy(this.aggregationValues.mainCity));\n\nreturn query.fetch();\n}\n</code></pre>\n<p>Now I only need to add Materialize to the select in the WITH clause and parallel to all the function. Any ideas?</p>\n"}],"owner":{"account_id":26274754,"reputation":13,"user_id":19944107,"display_name":"NBS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75582338,"answer_count":1,"score":0,"last_activity_date":1677511292,"creation_date":1677490691,"question_id":75578795,"body_markdown":"I&#39;m using Oracle DB and has Students table:\r\n\r\nStudents Table:\r\n\r\n    | COLUMN      | TYPE          |\r\n    | ----------- | ------------- |\r\n    |  ID         | VARCHAR2(200) |\r\n    |  NAME       | VARCHAR2(200) |\r\n    |  AGE        | NUMBER(5)     |\r\n    |  MAIN_CITY  | VARCHAR2(200) |\r\n    |  GENDER     | VARCHAR2(50)  |\r\n    |  SCORE      | FLOAT(5)      |\r\n\r\n \r\n`\r\n\r\nI&#39;m trying to convert this SQL query to query-dsl code:\r\n\r\n```\r\nSELECT /*+ parallel(2)*/ *\r\nFROM (WITH filtered_values(age, gender, main_city) AS\r\n(\r\nSELECT /*+ MATERIALIZE */ age, gender, main_city \r\nFROM Students\r\n-- GET CONDITIONS FROM USER AND FILTER THE QUERY USING WHERE\r\n)\r\nSELECT * \r\nFROM (\r\nSELECT age AS value, COUNT(*) AS row_count, &#39;age&#39; AS column_name\r\nFROM filtered_values\r\nGROUP BY age\r\nORDER BY row_count)\r\nWHERE rownum &lt;= 5\r\nUNION ALL (\r\nSELECT * \r\nFROM (\r\nSELECT gender AS value, COUNT(*) AS row_count, &#39;gender&#39; AS column_name\r\nFROM filtered_values\r\nGROUP BY gender\r\nORDER BY row_count)\r\nWHERE rownum &lt;= 5)\r\nUNION ALL (\r\nSELECT * \r\nFROM (\r\nSELECT main_city AS value, COUNT(*) AS row_count, &#39;main_city&#39; AS column_name\r\nFROM filtered_values\r\nGROUP BY main_city\r\nORDER BY row_count)\r\nWHERE rownum &lt;= 5)\r\n)\r\n```\r\n\r\nThe filters that available from client is flexible and change the WITH query, for example:\r\n\r\nwhere score greater than 20:\r\n&gt; WITH filtered_values(age, gender, main_city) AS\r\n&gt; (\r\n&gt; SELECT /*+ MATERIALIZE */ age, gender, main_city \r\n&gt; FROM Students\r\n&gt; WHERE score &gt; 20\r\n&gt; )\r\n\r\nwhere city is LA or NYC, and score is between 50-60:\r\n&gt; WITH filtered_values(age, gender, main_city) AS\r\n&gt; (\r\n&gt; SELECT /*+ MATERIALIZE */ age, gender, main_city \r\n&gt; FROM Students\r\n&gt; WHERE main_city IN (&#39;LA&#39;, &#39;NYC&#39;) AND score &gt;= 50 AND score &lt;= 60\r\n&gt; )\r\n\r\n\r\nI&#39;m using QueryDsl version 5.0.0.\r\n\r\nI&#39;ve created Java classes:\r\n\r\nStudent:\r\n```\r\n@Data\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(schema = &quot;PROD&quot;, name = &quot;Students&quot;)\r\npublic class Student implements Serializable {\r\n@Id\r\n@Column(name = &quot;ID&quot;)\r\nprivate String id;\r\n@Column(name = &quot;NAME&quot;)\r\nprivate String name;\r\n@Column(name = &quot;AGE&quot;)\r\nprivate int age;\r\n@Column(name = &quot;MAIN_CITY&quot;)\r\nprivate String mainCity;\r\n@Column(name = &quot;SCORE&quot;)\r\nprivate float score; \r\n}\r\n```\r\n\r\nAggregationValues:\r\n```\r\n@Data\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(schema = &quot;PROD&quot;, name = &quot;NOT_REAL_TABLE&quot;)\r\npublic class AggregationValues {\r\nprivate int age;\r\nprivate String gender;\r\nprivate String mainCity;\r\n}\r\n```\r\n\r\nAggregationResultRow:\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class AggregationResultRow {\r\nprivate String value;\r\nprivate long rowCount;\r\nprivate String columnName;\r\n}\r\n```\r\n\r\nMy code is:\r\n&gt; Note that `this.getConditions(aggregationsRequest)` return BooleanBuilder with all the filters from the client.\r\n\r\n```\r\nprivate final QStudent table = QStudent.student;\r\nprivate final QAggregationValues aggregationValues = QAggregationValues.aggregationValues;\r\n\r\npublic List&lt;AggregationResultRow&gt; getAggergations(AggregationRequest aggregationRequest) {\r\nSubQueryExpression&lt;AggregationValues&gt; filteredValues = new BlazeJPAQuery&lt;AggregationValues&gt;(entityManager, criteriaBuilderFactory)\r\n.select(Projections.constructor(AggregationValues.class, \r\nthis.table.age,\r\nthis.table.gender,\r\nthis.table.mainCity))\r\n.from(this.table)\r\n.where(this.getConditions(aggregationRequest));\r\n\r\nBlazeJPAQuery&lt;AggregationResultRow&gt; ageSelect = new BlazeJPAQuery&lt;AggregationResultRow&gt;(entityManager, criteriaBuilderFactory)\r\n.with(this.aggregationValues, filteredValues)\r\n.select(Projections.constructor(AggregationResultRow.class, this.aggregationValues.age.as(&quot;value&quot;),\r\nthis.aggregationValues.count().as(&quot;row_count&quot;),\r\nExpressions.asString(&quot;age&quot;).as(&quot;column_name&quot;)))\r\n.from(this.aggregationValues)\r\n.groupBy(this.aggregationValues.age);\r\n\r\nBlazeJPAQuery&lt;AggregationResultRow&gt; genderSelect = new BlazeJPAQuery&lt;AggregationResultRow&gt;(entityManager, criteriaBuilderFactory)\r\n.with(this.aggregationValues, filteredValues)\r\n.select(Projections.constructor(AggregationResultRow.class, this.aggregationValues.gender.as(&quot;value&quot;),\r\nthis.aggregationValues.count().as(&quot;row_count&quot;),\r\nExpressions.asString(&quot;gender&quot;).as(&quot;column_name&quot;)))\r\n.from(this.aggregationValues)\r\n.groupBy(this.aggregationValues.gender);\r\n\r\nBlazeJPAQuery&lt;AggregationResultRow&gt; mainCitySelect = new BlazeJPAQuery&lt;AggregationResultRow&gt;(entityManager, criteriaBuilderFactory)\r\n.with(this.aggregationValues, filteredValues)\r\n.select(Projections.constructor(AggregationResultRow.class, this.aggregationValues.mainCity.as(&quot;value&quot;),\r\nthis.aggregationValues.count().as(&quot;row_count&quot;),\r\nExpressions.asString(&quot;main_city&quot;).as(&quot;column_name&quot;)))\r\n.from(this.aggregationValues)\r\n.groupBy(this.aggregationValues.mainCity);\r\n\r\nreturn ageSelect.unionAll(genderSelect, mainCitySelect).fetch();\r\n}\r\n```\r\n\r\nBut I got Exception - `java.lang.IllegalArgumentException: Don&#39;t mix union and from`\r\n\r\nI&#39;ve tried more code ideas but nothing works and this one looks the closest to my query.\r\n\r\nAny ideas?\r\n\r\nThank you very much, I&#39;ll appreciate it a lot!","title":"Convert SQL query that contains WITH clause and union in QueryDsl","body":"<p>I'm using Oracle DB and has Students table:</p>\n<p>Students Table:</p>\n<pre><code>| COLUMN      | TYPE          |\n| ----------- | ------------- |\n|  ID         | VARCHAR2(200) |\n|  NAME       | VARCHAR2(200) |\n|  AGE        | NUMBER(5)     |\n|  MAIN_CITY  | VARCHAR2(200) |\n|  GENDER     | VARCHAR2(50)  |\n|  SCORE      | FLOAT(5)      |\n</code></pre>\n<p>`</p>\n<p>I'm trying to convert this SQL query to query-dsl code:</p>\n<pre><code>SELECT /*+ parallel(2)*/ *\nFROM (WITH filtered_values(age, gender, main_city) AS\n(\nSELECT /*+ MATERIALIZE */ age, gender, main_city \nFROM Students\n-- GET CONDITIONS FROM USER AND FILTER THE QUERY USING WHERE\n)\nSELECT * \nFROM (\nSELECT age AS value, COUNT(*) AS row_count, 'age' AS column_name\nFROM filtered_values\nGROUP BY age\nORDER BY row_count)\nWHERE rownum &lt;= 5\nUNION ALL (\nSELECT * \nFROM (\nSELECT gender AS value, COUNT(*) AS row_count, 'gender' AS column_name\nFROM filtered_values\nGROUP BY gender\nORDER BY row_count)\nWHERE rownum &lt;= 5)\nUNION ALL (\nSELECT * \nFROM (\nSELECT main_city AS value, COUNT(*) AS row_count, 'main_city' AS column_name\nFROM filtered_values\nGROUP BY main_city\nORDER BY row_count)\nWHERE rownum &lt;= 5)\n)\n</code></pre>\n<p>The filters that available from client is flexible and change the WITH query, for example:</p>\n<p>where score greater than 20:</p>\n<blockquote>\n<p>WITH filtered_values(age, gender, main_city) AS\n(\nSELECT /*+ MATERIALIZE */ age, gender, main_city\nFROM Students\nWHERE score &gt; 20\n)</p>\n</blockquote>\n<p>where city is LA or NYC, and score is between 50-60:</p>\n<blockquote>\n<p>WITH filtered_values(age, gender, main_city) AS\n(\nSELECT /*+ MATERIALIZE */ age, gender, main_city\nFROM Students\nWHERE main_city IN ('LA', 'NYC') AND score &gt;= 50 AND score &lt;= 60\n)</p>\n</blockquote>\n<p>I'm using QueryDsl version 5.0.0.</p>\n<p>I've created Java classes:</p>\n<p>Student:</p>\n<pre><code>@Data\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(schema = &quot;PROD&quot;, name = &quot;Students&quot;)\npublic class Student implements Serializable {\n@Id\n@Column(name = &quot;ID&quot;)\nprivate String id;\n@Column(name = &quot;NAME&quot;)\nprivate String name;\n@Column(name = &quot;AGE&quot;)\nprivate int age;\n@Column(name = &quot;MAIN_CITY&quot;)\nprivate String mainCity;\n@Column(name = &quot;SCORE&quot;)\nprivate float score; \n}\n</code></pre>\n<p>AggregationValues:</p>\n<pre><code>@Data\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(schema = &quot;PROD&quot;, name = &quot;NOT_REAL_TABLE&quot;)\npublic class AggregationValues {\nprivate int age;\nprivate String gender;\nprivate String mainCity;\n}\n</code></pre>\n<p>AggregationResultRow:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class AggregationResultRow {\nprivate String value;\nprivate long rowCount;\nprivate String columnName;\n}\n</code></pre>\n<p>My code is:</p>\n<blockquote>\n<p>Note that <code>this.getConditions(aggregationsRequest)</code> return BooleanBuilder with all the filters from the client.</p>\n</blockquote>\n<pre><code>private final QStudent table = QStudent.student;\nprivate final QAggregationValues aggregationValues = QAggregationValues.aggregationValues;\n\npublic List&lt;AggregationResultRow&gt; getAggergations(AggregationRequest aggregationRequest) {\nSubQueryExpression&lt;AggregationValues&gt; filteredValues = new BlazeJPAQuery&lt;AggregationValues&gt;(entityManager, criteriaBuilderFactory)\n.select(Projections.constructor(AggregationValues.class, \nthis.table.age,\nthis.table.gender,\nthis.table.mainCity))\n.from(this.table)\n.where(this.getConditions(aggregationRequest));\n\nBlazeJPAQuery&lt;AggregationResultRow&gt; ageSelect = new BlazeJPAQuery&lt;AggregationResultRow&gt;(entityManager, criteriaBuilderFactory)\n.with(this.aggregationValues, filteredValues)\n.select(Projections.constructor(AggregationResultRow.class, this.aggregationValues.age.as(&quot;value&quot;),\nthis.aggregationValues.count().as(&quot;row_count&quot;),\nExpressions.asString(&quot;age&quot;).as(&quot;column_name&quot;)))\n.from(this.aggregationValues)\n.groupBy(this.aggregationValues.age);\n\nBlazeJPAQuery&lt;AggregationResultRow&gt; genderSelect = new BlazeJPAQuery&lt;AggregationResultRow&gt;(entityManager, criteriaBuilderFactory)\n.with(this.aggregationValues, filteredValues)\n.select(Projections.constructor(AggregationResultRow.class, this.aggregationValues.gender.as(&quot;value&quot;),\nthis.aggregationValues.count().as(&quot;row_count&quot;),\nExpressions.asString(&quot;gender&quot;).as(&quot;column_name&quot;)))\n.from(this.aggregationValues)\n.groupBy(this.aggregationValues.gender);\n\nBlazeJPAQuery&lt;AggregationResultRow&gt; mainCitySelect = new BlazeJPAQuery&lt;AggregationResultRow&gt;(entityManager, criteriaBuilderFactory)\n.with(this.aggregationValues, filteredValues)\n.select(Projections.constructor(AggregationResultRow.class, this.aggregationValues.mainCity.as(&quot;value&quot;),\nthis.aggregationValues.count().as(&quot;row_count&quot;),\nExpressions.asString(&quot;main_city&quot;).as(&quot;column_name&quot;)))\n.from(this.aggregationValues)\n.groupBy(this.aggregationValues.mainCity);\n\nreturn ageSelect.unionAll(genderSelect, mainCitySelect).fetch();\n}\n</code></pre>\n<p>But I got Exception - <code>java.lang.IllegalArgumentException: Don't mix union and from</code></p>\n<p>I've tried more code ideas but nothing works and this one looks the closest to my query.</p>\n<p>Any ideas?</p>\n<p>Thank you very much, I'll appreciate it a lot!</p>\n"},{"tags":["java","webp","animated-webp"],"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677511190,"creation_date":1677510401,"question_id":75582148,"body_markdown":"I am working on encoder decoder for animated webp image using pure java. I have to write static webp image from each from of animated webp image. It works fine but for the image having transparancy in image. reader gets flags for animation and alpha but when I write the flag for alpha (not setting animation as creating static image of given frame). But surprisingly it does not set the flag at all. I tried different indexes but not working. The output image have white background rather transparent bg.\r\n\r\ncode:\r\n```java\r\n  public byte[] encodeWebPFrame(Frame frame, WebpImage webpImage) throws IOException {\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        \r\n        baos.write(riff); // 4\r\n        baos.write(intToByteArray(getFileSize(frame))); // 4\r\n        baos.write(webp); // 4\r\n\r\n        baos.write(vp8x); // 4\r\n        baos.write(intToByteArray(10)); // 4\r\n        BitSet bs = new BitSet(32);\r\n        bs.set(1, false); // A hasAnim\r\n        bs.set(2, false); // X hasXmp\r\n        bs.set(3, false); // E hasExif\r\n        bs.set(4, true);  // L hasalpha\r\n        bs.set(5, false); // I hasIccp\r\n        baos.write(bitSetToBytes(bs,4)); // 4\r\n        baos.write(intTo3ByteArray(frame.width)); // 3\r\n        baos.write(intTo3ByteArray(frame.height)); // 3\r\n\r\n        // alpha data, bitStream\r\n        if(frame.hasVP8chunk) {\r\n            if(frame.hasALPHchunk) {\r\n                baos.write(alph); // 4\r\n                baos.write(intToByteArray(frame.alphaData.length)); // 4\r\n                baos.write(frame.alphaData); // frame.alphaData.length\r\n            }\r\n            baos.write(vp8); // 4\r\n            baos.write(intToByteArray(frame.bitStream.length)); // 4\r\n            baos.write(frame.bitStream); // frame.bitStream.length\r\n        }else{\r\n//            Logs.i(this,&quot;write byte[] -&gt; VP8L &quot;+frame.bitStream.length+&quot; | baso - &quot;+baos.size());\r\n            baos.write(vp8l); // 4\r\n            baos.write(intToByteArray(frame.bitStream.length)); // 4\r\n            baos.write(frame.bitStream); // frame.bitStream.length\r\n        }\r\n        baos.close();\r\n        return baos.toByteArray();\r\n    }\r\n\r\n\r\n```\r\n```bs.set(4, true);  // L hasalpha``` Here I am setting the alpha flag. If I set it to false then output is incorrect image.\r\nsame logic I used to write to stream and it works fine but here I am getting error in writing to bytearrayoutputstream. Any idea?\r\n\r\n","title":"How to set alpha flag in VP8X chunk of webp image having transparency","body":"<p>I am working on encoder decoder for animated webp image using pure java. I have to write static webp image from each from of animated webp image. It works fine but for the image having transparancy in image. reader gets flags for animation and alpha but when I write the flag for alpha (not setting animation as creating static image of given frame). But surprisingly it does not set the flag at all. I tried different indexes but not working. The output image have white background rather transparent bg.</p>\n<p>code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public byte[] encodeWebPFrame(Frame frame, WebpImage webpImage) throws IOException {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        \n        baos.write(riff); // 4\n        baos.write(intToByteArray(getFileSize(frame))); // 4\n        baos.write(webp); // 4\n\n        baos.write(vp8x); // 4\n        baos.write(intToByteArray(10)); // 4\n        BitSet bs = new BitSet(32);\n        bs.set(1, false); // A hasAnim\n        bs.set(2, false); // X hasXmp\n        bs.set(3, false); // E hasExif\n        bs.set(4, true);  // L hasalpha\n        bs.set(5, false); // I hasIccp\n        baos.write(bitSetToBytes(bs,4)); // 4\n        baos.write(intTo3ByteArray(frame.width)); // 3\n        baos.write(intTo3ByteArray(frame.height)); // 3\n\n        // alpha data, bitStream\n        if(frame.hasVP8chunk) {\n            if(frame.hasALPHchunk) {\n                baos.write(alph); // 4\n                baos.write(intToByteArray(frame.alphaData.length)); // 4\n                baos.write(frame.alphaData); // frame.alphaData.length\n            }\n            baos.write(vp8); // 4\n            baos.write(intToByteArray(frame.bitStream.length)); // 4\n            baos.write(frame.bitStream); // frame.bitStream.length\n        }else{\n//            Logs.i(this,&quot;write byte[] -&gt; VP8L &quot;+frame.bitStream.length+&quot; | baso - &quot;+baos.size());\n            baos.write(vp8l); // 4\n            baos.write(intToByteArray(frame.bitStream.length)); // 4\n            baos.write(frame.bitStream); // frame.bitStream.length\n        }\n        baos.close();\n        return baos.toByteArray();\n    }\n\n\n</code></pre>\n<p><code>bs.set(4, true);  // L hasalpha</code> Here I am setting the alpha flag. If I set it to false then output is incorrect image.\nsame logic I used to write to stream and it works fine but here I am getting error in writing to bytearrayoutputstream. Any idea?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","integration-testing","spring-mvc-test"],"answers":[{"tags":[],"owner":{"account_id":132529,"reputation":3031,"user_id":333276,"accept_rate":75,"display_name":"David Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677510996,"creation_date":1677510996,"answer_id":75582270,"question_id":72393966,"body_markdown":"I know this is very late to reply however if someone else with the same issue finds this answer then the world may be a little brighter.\r\n\r\nYou need to adjust your perform() call to include csrf() handling, i.e. change it to:\r\n\r\n    this.mockMvc.perform(MockMvcRequestBuilders.multipart(&quot;/create&quot;).file(file).param(&quot;adressId&quot;, &quot;96cf9ec3-f820-4192-a4db-920328df5ff4&quot;)\r\n                    .param(&quot;file&quot;, objectMapper.writeValueAsString(mockUser))\r\n        .with(csrf())\r\n                )\r\n\r\nThen you should be good.","title":"How can I test this springboot controller method with multipart and a object from a form submit?","body":"<p>I know this is very late to reply however if someone else with the same issue finds this answer then the world may be a little brighter.</p>\n<p>You need to adjust your perform() call to include csrf() handling, i.e. change it to:</p>\n<pre><code>this.mockMvc.perform(MockMvcRequestBuilders.multipart(&quot;/create&quot;).file(file).param(&quot;adressId&quot;, &quot;96cf9ec3-f820-4192-a4db-920328df5ff4&quot;)\n                .param(&quot;file&quot;, objectMapper.writeValueAsString(mockUser))\n    .with(csrf())\n            )\n</code></pre>\n<p>Then you should be good.</p>\n"}],"owner":{"account_id":25397610,"reputation":11,"user_id":19207638,"display_name":"SwisslogTest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677510996,"creation_date":1653577544,"question_id":72393966,"body_markdown":"I have the following controller method\r\n```java\r\n @PostMapping(&quot;/create&quot;)\r\n    public ModelAndView createDocument(@ModelAttribute(&quot;user&quot;) @Valid User userToSave, BindingResult bindingResult,@RequestParam String adressId,@RequestParam MultipartFile file){\r\n```\r\nNow I want to create a integration test which supplies the following parameters. But I always get a 403. My testmethod looks like that:\r\n```java\r\n@Test\r\n    @WithMockUser(username = &quot;user&quot;,password = &quot;user123&quot;,roles=&quot;ADMIN&quot;)\r\n    public void testUploadDocument() throws Exception {\r\nUser mockUser = new User(&quot;User&quot;,null,null,&quot;test comment&quot;,&quot;Dies ist ein Test&quot;);\r\nMockMultipartFile file\r\n            = new MockMultipartFile(\r\n            &quot;file&quot;,\r\n            &quot;hello.txt&quot;,\r\n            MediaType.TEXT_PLAIN_VALUE,\r\n            &quot;Hello, World!&quot;.getBytes()\r\n        );\r\nthis.mockMvc.perform(MockMvcRequestBuilders.multipart(&quot;/create&quot;).file(file).param(&quot;adressId&quot;, &quot;96cf9ec3-f820-4192-a4db-920328df5ff4&quot;)\r\n                .param(&quot;file&quot;, objectMapper.writeValueAsString(mockUser))\r\n            ).andDo(print()).andExpect(status().isOk())\r\n            .andExpect(view().name(containsString(&quot;list&quot;)));\r\n}\r\n```","title":"How can I test this springboot controller method with multipart and a object from a form submit?","body":"<p>I have the following controller method</p>\n<pre class=\"lang-java prettyprint-override\"><code> @PostMapping(&quot;/create&quot;)\n    public ModelAndView createDocument(@ModelAttribute(&quot;user&quot;) @Valid User userToSave, BindingResult bindingResult,@RequestParam String adressId,@RequestParam MultipartFile file){\n</code></pre>\n<p>Now I want to create a integration test which supplies the following parameters. But I always get a 403. My testmethod looks like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n    @WithMockUser(username = &quot;user&quot;,password = &quot;user123&quot;,roles=&quot;ADMIN&quot;)\n    public void testUploadDocument() throws Exception {\nUser mockUser = new User(&quot;User&quot;,null,null,&quot;test comment&quot;,&quot;Dies ist ein Test&quot;);\nMockMultipartFile file\n            = new MockMultipartFile(\n            &quot;file&quot;,\n            &quot;hello.txt&quot;,\n            MediaType.TEXT_PLAIN_VALUE,\n            &quot;Hello, World!&quot;.getBytes()\n        );\nthis.mockMvc.perform(MockMvcRequestBuilders.multipart(&quot;/create&quot;).file(file).param(&quot;adressId&quot;, &quot;96cf9ec3-f820-4192-a4db-920328df5ff4&quot;)\n                .param(&quot;file&quot;, objectMapper.writeValueAsString(mockUser))\n            ).andDo(print()).andExpect(status().isOk())\n            .andExpect(view().name(containsString(&quot;list&quot;)));\n}\n</code></pre>\n"},{"tags":["java","json","jsonschema","faker"],"answers":[{"tags":[],"owner":{"account_id":2357064,"reputation":184,"user_id":2064640,"display_name":"AMOD MAHAJAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677510834,"creation_date":1677510834,"answer_id":75582234,"question_id":75576606,"body_markdown":"Raised the same question on Datafaker GitHub and got the solution. \r\n\r\nJsonTransformer&lt;String&gt; transformer = JsonTransformer.&lt;String&gt;builder().formattedAs(JSON_ARRAY).build();\r\n\r\nAdding the direct link here. \r\nhttps://github.com/datafaker-net/datafaker/issues/720#issuecomment-1445929651","title":"How to create schema to generate a JSON Array using Schema and transformers provided by DataFaker API in Java?","body":"<p>Raised the same question on Datafaker GitHub and got the solution.</p>\n<p>JsonTransformer transformer = JsonTransformer.builder().formattedAs(JSON_ARRAY).build();</p>\n<p>Adding the direct link here.\n<a href=\"https://github.com/datafaker-net/datafaker/issues/720#issuecomment-1445929651\" rel=\"nofollow noreferrer\">https://github.com/datafaker-net/datafaker/issues/720#issuecomment-1445929651</a></p>\n"}],"owner":{"account_id":2357064,"reputation":184,"user_id":2064640,"display_name":"AMOD MAHAJAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677510834,"creation_date":1677469458,"question_id":75576606,"body_markdown":"I am using [DataFaker][1] library to create schema for JSON Object and Array. Since the use of [Format][2] is deprecated, I am trying with [Transformation Schemas][3]. I tried examples given under the Format section of official documentation to create a schema for Json Array but wasn&#39;t successful. \r\nExample JSON Array - \r\n\r\n[\r\n  {\r\n    &quot;firstName&quot;: &quot;Oleta&quot;,\r\n    &quot;lastName&quot;: &quot;Toy&quot;\r\n  },\r\n  {\r\n    &quot;firstName&quot;: &quot;Gerard&quot;,\r\n    &quot;lastName&quot;: &quot;Windler&quot;\r\n  }\r\n]\r\n\r\n\r\n  [1]: https://github.com/datafaker-net/datafaker\r\n  [2]: https://www.datafaker.net/documentation/formats/\r\n  [3]: https://www.datafaker.net/documentation/schemas/","title":"How to create schema to generate a JSON Array using Schema and transformers provided by DataFaker API in Java?","body":"<p>I am using <a href=\"https://github.com/datafaker-net/datafaker\" rel=\"nofollow noreferrer\">DataFaker</a> library to create schema for JSON Object and Array. Since the use of <a href=\"https://www.datafaker.net/documentation/formats/\" rel=\"nofollow noreferrer\">Format</a> is deprecated, I am trying with <a href=\"https://www.datafaker.net/documentation/schemas/\" rel=\"nofollow noreferrer\">Transformation Schemas</a>. I tried examples given under the Format section of official documentation to create a schema for Json Array but wasn't successful.\nExample JSON Array -</p>\n<p>[\n{\n&quot;firstName&quot;: &quot;Oleta&quot;,\n&quot;lastName&quot;: &quot;Toy&quot;\n},\n{\n&quot;firstName&quot;: &quot;Gerard&quot;,\n&quot;lastName&quot;: &quot;Windler&quot;\n}\n]</p>\n"},{"tags":["c#","java","sockets","networking"],"comments":[{"owner":{"account_id":363148,"reputation":22154,"user_id":706724,"accept_rate":100,"display_name":"pickypg"},"score":9,"creation_date":1360636120,"post_id":14824491,"comment_id":20768931,"body_markdown":"Yes. They boil down to reading bytes, which are language neutral (minus the amusing caveat that Java does not have unsigned `byte`s like C#).","body":"Yes. They boil down to reading bytes, which are language neutral (minus the amusing caveat that Java does not have unsigned <code>byte</code>s like C#)."},{"owner":{"account_id":181606,"reputation":4205,"user_id":415727,"accept_rate":62,"display_name":"damix911"},"score":1,"creation_date":1360636289,"post_id":14824491,"comment_id":20768962,"body_markdown":"Yes, have a look at this answer (the one by Blue Gene): http://stackoverflow.com/questions/5999180/sockets-send-strings-from-java-to-c","body":"Yes, have a look at this answer (the one by Blue Gene): <a href=\"http://stackoverflow.com/questions/5999180/sockets-send-strings-from-java-to-c\" title=\"sockets send strings from java to c\">stackoverflow.com/questions/5999180/&hellip;</a>"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1360637794,"post_id":14824491,"comment_id":20769292,"body_markdown":"@damix911 You can link directory to answers, e.g., [Blue Gene&#39;s answer](http://stackoverflow.com/a/6001758/438992).","body":"@damix911 You can link directory to answers, e.g., <a href=\"http://stackoverflow.com/a/6001758/438992\">Blue Gene&#39;s answer</a>."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1360637841,"post_id":14824491,"comment_id":20769299,"body_markdown":"A socket is a socket; the language used to use it is secondary.","body":"A socket is a socket; the language used to use it is secondary."}],"answers":[{"tags":[],"owner":{"account_id":181606,"reputation":4205,"user_id":415727,"accept_rate":62,"display_name":"damix911"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1360640830,"creation_date":1360640830,"answer_id":14825061,"question_id":14824491,"body_markdown":"The main issue is that you need to be very careful with the encoding of the data that you send and receive. Here is a pair of programs that work together. The C# client sends a string, by first sending its length as an integer, and then sending the bytes of the string itself. The Java server reads the length, then reads the message and prints an output to the console. Then composes an echo message, computes its length, extracts the bytes and sends it back to the C# client. The client reads the length, the message and prints an output. There should be a way to avoid all the bitwise stuff, but honestly I&#39;m a little rusty with this stuff, especially on the Java side.\r\n\r\nA Java server:\r\n\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    \r\n    public class JavaSocket {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\t\r\n    \t\tServerSocket serverSocket = new ServerSocket(4343, 10);\r\n    \t\tSocket socket = serverSocket.accept();\r\n    \t\tInputStream is = socket.getInputStream();\r\n    \t\tOutputStream os = socket.getOutputStream();\r\n    \t\t\r\n    \t\t// Receiving\r\n    \t\tbyte[] lenBytes = new byte[4];\r\n    \t\tis.read(lenBytes, 0, 4);\r\n    \t\tint len = (((lenBytes[3] &amp; 0xff) &lt;&lt; 24) | ((lenBytes[2] &amp; 0xff) &lt;&lt; 16) |\r\n    \t\t\t\t  ((lenBytes[1] &amp; 0xff) &lt;&lt; 8) | (lenBytes[0] &amp; 0xff));\r\n    \t\tbyte[] receivedBytes = new byte[len];\r\n    \t\tis.read(receivedBytes, 0, len);\r\n    \t\tString received = new String(receivedBytes, 0, len);\r\n    \r\n    \t\tSystem.out.println(&quot;Server received: &quot; + received);\r\n    \t\t\r\n    \t\t// Sending\r\n    \t\tString toSend = &quot;Echo: &quot; + received;\r\n    \t\tbyte[] toSendBytes = toSend.getBytes();\r\n    \t\tint toSendLen = toSendBytes.length;\r\n    \t\tbyte[] toSendLenBytes = new byte[4];\r\n    \t\ttoSendLenBytes[0] = (byte)(toSendLen &amp; 0xff);\r\n    \t\ttoSendLenBytes[1] = (byte)((toSendLen &gt;&gt; 8) &amp; 0xff);\r\n    \t\ttoSendLenBytes[2] = (byte)((toSendLen &gt;&gt; 16) &amp; 0xff);\r\n    \t\ttoSendLenBytes[3] = (byte)((toSendLen &gt;&gt; 24) &amp; 0xff);\r\n    \t\tos.write(toSendLenBytes);\r\n    \t\tos.write(toSendBytes);\r\n    \t\t\r\n    \t\tsocket.close();\r\n    \t\tserverSocket.close();\r\n    \t}\r\n    }\r\n\r\nA C# client:\r\n\r\n    using System;\r\n    using System.Net;\r\n    using System.Net.Sockets;\r\n    \r\n    namespace CSharpSocket\r\n    {\r\n    \tclass MainClass\r\n    \t{\r\n    \t\tpublic static void Main (string[] args)\r\n    \t\t{\r\n    \t\t\tstring toSend = &quot;Hello!&quot;;\r\n    \r\n    \t\t\tIPEndPoint serverAddress = new IPEndPoint(IPAddress.Parse(&quot;192.168.0.6&quot;), 4343);\r\n    \r\n    \t\t\tSocket clientSocket = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\r\n    \t\t\tclientSocket.Connect(serverAddress);\r\n    \r\n    \t\t\t// Sending\r\n    \t\t\tint toSendLen = System.Text.Encoding.ASCII.GetByteCount(toSend);\r\n    \t\t\tbyte[] toSendBytes = System.Text.Encoding.ASCII.GetBytes(toSend);\r\n    \t\t\tbyte[] toSendLenBytes = System.BitConverter.GetBytes(toSendLen);\r\n    \t\t\tclientSocket.Send(toSendLenBytes);\r\n    \t\t\tclientSocket.Send(toSendBytes);\r\n    \r\n    \t\t\t// Receiving\r\n    \t\t\tbyte[] rcvLenBytes = new byte[4];\r\n    \t\t\tclientSocket.Receive(rcvLenBytes);\r\n    \t\t\tint rcvLen = System.BitConverter.ToInt32(rcvLenBytes, 0);\r\n    \t\t\tbyte[] rcvBytes = new byte[rcvLen];\r\n    \t\t\tclientSocket.Receive(rcvBytes);\r\n    \t\t\tString rcv = System.Text.Encoding.ASCII.GetString(rcvBytes);\r\n    \r\n    \t\t\tConsole.WriteLine(&quot;Client received: &quot; + rcv);\r\n    \r\n    \t\t\tclientSocket.Close();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Can I communicate between Java and C# using just sockets?","body":"<p>The main issue is that you need to be very careful with the encoding of the data that you send and receive. Here is a pair of programs that work together. The C# client sends a string, by first sending its length as an integer, and then sending the bytes of the string itself. The Java server reads the length, then reads the message and prints an output to the console. Then composes an echo message, computes its length, extracts the bytes and sends it back to the C# client. The client reads the length, the message and prints an output. There should be a way to avoid all the bitwise stuff, but honestly I'm a little rusty with this stuff, especially on the Java side.</p>\n\n<p>A Java server:</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class JavaSocket {\n\n    public static void main(String[] args) throws IOException {\n\n        ServerSocket serverSocket = new ServerSocket(4343, 10);\n        Socket socket = serverSocket.accept();\n        InputStream is = socket.getInputStream();\n        OutputStream os = socket.getOutputStream();\n\n        // Receiving\n        byte[] lenBytes = new byte[4];\n        is.read(lenBytes, 0, 4);\n        int len = (((lenBytes[3] &amp; 0xff) &lt;&lt; 24) | ((lenBytes[2] &amp; 0xff) &lt;&lt; 16) |\n                  ((lenBytes[1] &amp; 0xff) &lt;&lt; 8) | (lenBytes[0] &amp; 0xff));\n        byte[] receivedBytes = new byte[len];\n        is.read(receivedBytes, 0, len);\n        String received = new String(receivedBytes, 0, len);\n\n        System.out.println(\"Server received: \" + received);\n\n        // Sending\n        String toSend = \"Echo: \" + received;\n        byte[] toSendBytes = toSend.getBytes();\n        int toSendLen = toSendBytes.length;\n        byte[] toSendLenBytes = new byte[4];\n        toSendLenBytes[0] = (byte)(toSendLen &amp; 0xff);\n        toSendLenBytes[1] = (byte)((toSendLen &gt;&gt; 8) &amp; 0xff);\n        toSendLenBytes[2] = (byte)((toSendLen &gt;&gt; 16) &amp; 0xff);\n        toSendLenBytes[3] = (byte)((toSendLen &gt;&gt; 24) &amp; 0xff);\n        os.write(toSendLenBytes);\n        os.write(toSendBytes);\n\n        socket.close();\n        serverSocket.close();\n    }\n}\n</code></pre>\n\n<p>A C# client:</p>\n\n<pre><code>using System;\nusing System.Net;\nusing System.Net.Sockets;\n\nnamespace CSharpSocket\n{\n    class MainClass\n    {\n        public static void Main (string[] args)\n        {\n            string toSend = \"Hello!\";\n\n            IPEndPoint serverAddress = new IPEndPoint(IPAddress.Parse(\"192.168.0.6\"), 4343);\n\n            Socket clientSocket = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\n            clientSocket.Connect(serverAddress);\n\n            // Sending\n            int toSendLen = System.Text.Encoding.ASCII.GetByteCount(toSend);\n            byte[] toSendBytes = System.Text.Encoding.ASCII.GetBytes(toSend);\n            byte[] toSendLenBytes = System.BitConverter.GetBytes(toSendLen);\n            clientSocket.Send(toSendLenBytes);\n            clientSocket.Send(toSendBytes);\n\n            // Receiving\n            byte[] rcvLenBytes = new byte[4];\n            clientSocket.Receive(rcvLenBytes);\n            int rcvLen = System.BitConverter.ToInt32(rcvLenBytes, 0);\n            byte[] rcvBytes = new byte[rcvLen];\n            clientSocket.Receive(rcvBytes);\n            String rcv = System.Text.Encoding.ASCII.GetString(rcvBytes);\n\n            Console.WriteLine(\"Client received: \" + rcv);\n\n            clientSocket.Close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17747086,"reputation":11,"user_id":12886143,"display_name":"LifeOwner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593190145,"creation_date":1593189726,"answer_id":62599237,"question_id":14824491,"body_markdown":"I figure how to loop this method so you can send client message over and over again. Let me know if you found this useful. I build this on Eclipse with Export Ant script. I will include ant script as well\r\n\r\n\r\n\r\n    package lineage;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    \r\n    \r\n    public class l2protector {\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tboolean runserver = true;\r\n        \tServerSocket serverSocket = new ServerSocket(1040, 10);\r\n            Socket socket = serverSocket.accept();\r\n            InputStream is = socket.getInputStream();\r\n            OutputStream os = socket.getOutputStream();\r\n            do\r\n            {\r\n            \ttry {\r\n                \tserverSocket = new ServerSocket(1040, 10);\r\n                    socket = serverSocket.accept();\r\n                    is = socket.getInputStream();\r\n                    os = socket.getOutputStream();\r\n    \t            // Receiving\r\n    \t            byte[] lenBytes = new byte[4];\r\n    \t            is.read(lenBytes, 0, 4);\r\n    \t            int len = (((lenBytes[3] &amp; 0xff) &lt;&lt; 24) | ((lenBytes[2] &amp; 0xff) &lt;&lt; 16) |\r\n    \t                      ((lenBytes[1] &amp; 0xff) &lt;&lt; 8) | (lenBytes[0] &amp; 0xff));\r\n    \t            byte[] receivedBytes = new byte[len];\r\n    \t            is.read(receivedBytes, 0, len);\r\n    \t            String received = new String(receivedBytes, 0, len);\r\n    \t            if(received != null) {\r\n    \t            \tSystem.out.println(&quot;Server received: &quot; + received);\r\n    \t            }\r\n    \t            // Sending\r\n    \t            String toSend = &quot;Echo: &quot; + received;\r\n    \t            byte[] toSendBytes = toSend.getBytes();\r\n    \t            int toSendLen = toSendBytes.length;\r\n    \t            byte[] toSendLenBytes = new byte[4];\r\n    \t            toSendLenBytes[0] = (byte)(toSendLen &amp; 0xff);\r\n    \t            toSendLenBytes[1] = (byte)((toSendLen &gt;&gt; 8) &amp; 0xff);\r\n    \t            toSendLenBytes[2] = (byte)((toSendLen &gt;&gt; 16) &amp; 0xff);\r\n    \t            toSendLenBytes[3] = (byte)((toSendLen &gt;&gt; 24) &amp; 0xff);\r\n    \t            os.write(toSendLenBytes);\r\n    \t            os.write(toSendBytes);\r\n    \t            socket.close();\r\n            \t}\r\n            \tcatch(Exception e) {\r\n            \t\tserverSocket.close();\r\n            \t}\r\n                \r\n            }\r\n            while(runserver);\r\n            serverSocket.close();\r\n        }\r\n    }\r\n\r\nAnt Script:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;!-- WARNING: Eclipse auto-generated file.\r\n                  Any modifications will be overwritten.\r\n                  To include a user specific buildfile here, simply create one in the same\r\n                  directory with the processing instruction &lt;?eclipse.ant.import?&gt;\r\n                  as the first entry and export the buildfile again. --&gt;&lt;project name=&quot;AntiCheat&quot; default=&quot;dist&quot; basedir=&quot;.&quot;&gt;\r\n        &lt;description&gt;\r\n        simplest example build file\r\n      &lt;/description&gt;\r\n        &lt;!-- set global properties for this build --&gt;\r\n        &lt;property name=&quot;src&quot; location=&quot;src&quot; /&gt;\r\n        &lt;property name=&quot;build&quot; location=&quot;build&quot; /&gt;\r\n        &lt;property name=&quot;dist&quot; location=&quot;dist&quot; /&gt;\r\n        &lt;property name=&quot;version&quot; value=&quot;1.0&quot; /&gt;\r\n     \r\n        &lt;target name=&quot;init&quot;&gt;\r\n            &lt;!-- Create the time stamp --&gt;\r\n            &lt;tstamp /&gt;\r\n            &lt;!-- Create the build directory structure used by compile --&gt;\r\n            &lt;mkdir dir=&quot;${build}&quot; /&gt;\r\n        &lt;/target&gt;\r\n     \r\n        &lt;target name=&quot;compile&quot; depends=&quot;init&quot; description=&quot;compile the source&quot;&gt;\r\n            &lt;!-- Compile the java code from ${src} into ${build} --&gt;\r\n            &lt;javac srcdir=&quot;${src}&quot; destdir=&quot;${build}&quot; /&gt;\r\n        &lt;/target&gt;\r\n     \r\n        &lt;target name=&quot;dist&quot; depends=&quot;compile&quot; description=&quot;generate the distribution&quot;&gt;\r\n            &lt;buildnumber /&gt;\r\n            &lt;!-- Create the distribution directory --&gt;\r\n            &lt;mkdir dir=&quot;${dist}/lib&quot; /&gt;\r\n     \r\n            &lt;!-- Put everything in ${build} into the MyApplication-${version}.${build.number}.jar --&gt;\r\n            &lt;jar destfile=&quot;${dist}/lib/MyApplication-${version}.${build.number}.jar&quot; basedir=&quot;${build}&quot; /&gt;\r\n        &lt;/target&gt;\r\n     \r\n        &lt;target name=&quot;clean&quot; description=&quot;clean up&quot;&gt;\r\n            &lt;!-- Delete the ${build} and ${dist} directory trees --&gt;\r\n            &lt;delete dir=&quot;${build}&quot; /&gt;\r\n            &lt;delete dir=&quot;${dist}&quot; /&gt;\r\n        &lt;/target&gt;\r\n    &lt;/project&gt;","title":"Can I communicate between Java and C# using just sockets?","body":"<p>I figure how to loop this method so you can send client message over and over again. Let me know if you found this useful. I build this on Eclipse with Export Ant script. I will include ant script as well</p>\n<pre><code>package lineage;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\n\npublic class l2protector {\n    public static void main(String[] args) throws IOException {\n        boolean runserver = true;\n        ServerSocket serverSocket = new ServerSocket(1040, 10);\n        Socket socket = serverSocket.accept();\n        InputStream is = socket.getInputStream();\n        OutputStream os = socket.getOutputStream();\n        do\n        {\n            try {\n                serverSocket = new ServerSocket(1040, 10);\n                socket = serverSocket.accept();\n                is = socket.getInputStream();\n                os = socket.getOutputStream();\n                // Receiving\n                byte[] lenBytes = new byte[4];\n                is.read(lenBytes, 0, 4);\n                int len = (((lenBytes[3] &amp; 0xff) &lt;&lt; 24) | ((lenBytes[2] &amp; 0xff) &lt;&lt; 16) |\n                          ((lenBytes[1] &amp; 0xff) &lt;&lt; 8) | (lenBytes[0] &amp; 0xff));\n                byte[] receivedBytes = new byte[len];\n                is.read(receivedBytes, 0, len);\n                String received = new String(receivedBytes, 0, len);\n                if(received != null) {\n                    System.out.println(&quot;Server received: &quot; + received);\n                }\n                // Sending\n                String toSend = &quot;Echo: &quot; + received;\n                byte[] toSendBytes = toSend.getBytes();\n                int toSendLen = toSendBytes.length;\n                byte[] toSendLenBytes = new byte[4];\n                toSendLenBytes[0] = (byte)(toSendLen &amp; 0xff);\n                toSendLenBytes[1] = (byte)((toSendLen &gt;&gt; 8) &amp; 0xff);\n                toSendLenBytes[2] = (byte)((toSendLen &gt;&gt; 16) &amp; 0xff);\n                toSendLenBytes[3] = (byte)((toSendLen &gt;&gt; 24) &amp; 0xff);\n                os.write(toSendLenBytes);\n                os.write(toSendBytes);\n                socket.close();\n            }\n            catch(Exception e) {\n                serverSocket.close();\n            }\n            \n        }\n        while(runserver);\n        serverSocket.close();\n    }\n}\n</code></pre>\n<p>Ant Script:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;!-- WARNING: Eclipse auto-generated file.\n              Any modifications will be overwritten.\n              To include a user specific buildfile here, simply create one in the same\n              directory with the processing instruction &lt;?eclipse.ant.import?&gt;\n              as the first entry and export the buildfile again. --&gt;&lt;project name=&quot;AntiCheat&quot; default=&quot;dist&quot; basedir=&quot;.&quot;&gt;\n    &lt;description&gt;\n    simplest example build file\n  &lt;/description&gt;\n    &lt;!-- set global properties for this build --&gt;\n    &lt;property name=&quot;src&quot; location=&quot;src&quot; /&gt;\n    &lt;property name=&quot;build&quot; location=&quot;build&quot; /&gt;\n    &lt;property name=&quot;dist&quot; location=&quot;dist&quot; /&gt;\n    &lt;property name=&quot;version&quot; value=&quot;1.0&quot; /&gt;\n \n    &lt;target name=&quot;init&quot;&gt;\n        &lt;!-- Create the time stamp --&gt;\n        &lt;tstamp /&gt;\n        &lt;!-- Create the build directory structure used by compile --&gt;\n        &lt;mkdir dir=&quot;${build}&quot; /&gt;\n    &lt;/target&gt;\n \n    &lt;target name=&quot;compile&quot; depends=&quot;init&quot; description=&quot;compile the source&quot;&gt;\n        &lt;!-- Compile the java code from ${src} into ${build} --&gt;\n        &lt;javac srcdir=&quot;${src}&quot; destdir=&quot;${build}&quot; /&gt;\n    &lt;/target&gt;\n \n    &lt;target name=&quot;dist&quot; depends=&quot;compile&quot; description=&quot;generate the distribution&quot;&gt;\n        &lt;buildnumber /&gt;\n        &lt;!-- Create the distribution directory --&gt;\n        &lt;mkdir dir=&quot;${dist}/lib&quot; /&gt;\n \n        &lt;!-- Put everything in ${build} into the MyApplication-${version}.${build.number}.jar --&gt;\n        &lt;jar destfile=&quot;${dist}/lib/MyApplication-${version}.${build.number}.jar&quot; basedir=&quot;${build}&quot; /&gt;\n    &lt;/target&gt;\n \n    &lt;target name=&quot;clean&quot; description=&quot;clean up&quot;&gt;\n        &lt;!-- Delete the ${build} and ${dist} directory trees --&gt;\n        &lt;delete dir=&quot;${build}&quot; /&gt;\n        &lt;delete dir=&quot;${dist}&quot; /&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19019062,"reputation":60,"user_id":13883478,"display_name":"0x000000F4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677510686,"creation_date":1677510686,"answer_id":75582212,"question_id":14824491,"body_markdown":"I coded here is a advanced and improved version of \r\n\r\n&gt; @damix911 code: https://stackoverflow.com/a/14825061/13883478\r\n&gt; \r\n\r\n**is = input stream of Socket.**\r\n\r\nJava Side receiving with tag/label of data:\r\n\r\n    ByteArrayOutputStream bs = new ByteArrayOutputStream();\r\n        while (true) {\r\n                                byte[] lenBytes = new byte[4];\r\n                                is.read(lenBytes, 0, 4);\r\n                                int len = (((lenBytes[3] &amp; 0xff) &lt;&lt; 24) | ((lenBytes[2] &amp; 0xff) &lt;&lt; 16) |\r\n                                        ((lenBytes[1] &amp; 0xff) &lt;&lt; 8) | (lenBytes[0] &amp; 0xff));\r\n                                byte[] receivedBytes = new byte[len];\r\n                                is.read(receivedBytes, 0, len);\r\n        \r\n                                String received = new String(receivedBytes, 0, len);\r\n                                System.out.println(received);\r\n                                String tag = received.split(&quot;\\\\|&quot;)[0];\r\n                                int veri_uzunluk = Integer.parseInt(received.split(&quot;\\\\|&quot;)[1].replace(&quot;&gt;&quot;, &quot;&quot;));\r\n                                byte[] buffer = new byte[8192];\r\n                                int read = 0;\r\n                                while (true) {\r\n                                    read = is.read(buffer, 0, 8192);\r\n                                    bs.write(buffer, 0, read);\r\n                                    if (bs.toByteArray().length == veri_uzunluk) {\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                System.out.println(bs.toByteArray().length);\r\n                                DataProcess(tag, bs.toByteArray());\r\n                                bs.flush();\r\n                                bs.close();\r\n                                bs = null;\r\n                                bs = new ByteArrayOutputStream();\r\n                                //String neymis = new String(recData,0, veri_uzunluk);\r\n                                //System.out.println(tag + &quot;&gt;&gt;&gt;&quot; + neymis);\r\n                                //\r\n        \r\n                            }\r\n\r\nExample process data:\r\n\r\n    private void DataProcess(String label, byte[] dataBuff) {\r\n    \r\n    switch (label.split(&quot;\\\\|&quot;)[0]) {\r\n                    case &quot;&lt;RESIM&gt;&quot;:\r\n                        FileOutputStream fs = null;\r\n                        try {\r\n                            fs = new FileOutputStream(&quot;C:\\TEST.jpg&quot;);\r\n                            fs.write(dataBuff, 0, dataBuff.length);\r\n                        } catch (Exception e) {\r\n                        }\r\n    \r\n                        break;\r\n    }\r\n\r\n}\r\n\r\nC# Side send data with packer:\r\n\r\n    public void PackerNew(string tag, byte[] data, Socket client, string extra = &quot;null&quot;)\r\n            {\r\n                string toSend = $&quot;&lt;{tag}&gt;|{data.Length}|{extra}&gt;&quot;; ;\r\n    \r\n                int toSendLen = Encoding.UTF8.GetBytes(toSend).Length;\r\n                byte[] toSendBytes = System.Text.Encoding.UTF8.GetBytes(toSend);\r\n                byte[] toSendLenBytes = System.BitConverter.GetBytes(toSendLen);\r\n                client.Send(toSendLenBytes, 0, toSendLenBytes.Length, SocketFlags.None);\r\n                client.Send(toSendBytes, 0, toSendBytes.Length, SocketFlags.None);\r\n                client.Send(data, 0, data.Length, SocketFlags.None);\r\n            }\r\n            \r\n            private void button6_Click(object sender, EventArgs e)\r\n            {\r\n                PackerNew(&quot;RESIM&quot;, File.ReadAllBytes(&quot;TEST.jpg&quot;), clint, &quot;null&quot;); // any byte[] data what you want..\r\n            }","title":"Can I communicate between Java and C# using just sockets?","body":"<p>I coded here is a advanced and improved version of</p>\n<blockquote>\n<p>@damix911 code: <a href=\"https://stackoverflow.com/a/14825061/13883478\">https://stackoverflow.com/a/14825061/13883478</a></p>\n</blockquote>\n<p><strong>is = input stream of Socket.</strong></p>\n<p>Java Side receiving with tag/label of data:</p>\n<pre><code>ByteArrayOutputStream bs = new ByteArrayOutputStream();\n    while (true) {\n                            byte[] lenBytes = new byte[4];\n                            is.read(lenBytes, 0, 4);\n                            int len = (((lenBytes[3] &amp; 0xff) &lt;&lt; 24) | ((lenBytes[2] &amp; 0xff) &lt;&lt; 16) |\n                                    ((lenBytes[1] &amp; 0xff) &lt;&lt; 8) | (lenBytes[0] &amp; 0xff));\n                            byte[] receivedBytes = new byte[len];\n                            is.read(receivedBytes, 0, len);\n    \n                            String received = new String(receivedBytes, 0, len);\n                            System.out.println(received);\n                            String tag = received.split(&quot;\\\\|&quot;)[0];\n                            int veri_uzunluk = Integer.parseInt(received.split(&quot;\\\\|&quot;)[1].replace(&quot;&gt;&quot;, &quot;&quot;));\n                            byte[] buffer = new byte[8192];\n                            int read = 0;\n                            while (true) {\n                                read = is.read(buffer, 0, 8192);\n                                bs.write(buffer, 0, read);\n                                if (bs.toByteArray().length == veri_uzunluk) {\n                                    break;\n                                }\n                            }\n                            System.out.println(bs.toByteArray().length);\n                            DataProcess(tag, bs.toByteArray());\n                            bs.flush();\n                            bs.close();\n                            bs = null;\n                            bs = new ByteArrayOutputStream();\n                            //String neymis = new String(recData,0, veri_uzunluk);\n                            //System.out.println(tag + &quot;&gt;&gt;&gt;&quot; + neymis);\n                            //\n    \n                        }\n</code></pre>\n<p>Example process data:</p>\n<pre><code>private void DataProcess(String label, byte[] dataBuff) {\n\nswitch (label.split(&quot;\\\\|&quot;)[0]) {\n                case &quot;&lt;RESIM&gt;&quot;:\n                    FileOutputStream fs = null;\n                    try {\n                        fs = new FileOutputStream(&quot;C:\\TEST.jpg&quot;);\n                        fs.write(dataBuff, 0, dataBuff.length);\n                    } catch (Exception e) {\n                    }\n\n                    break;\n}\n</code></pre>\n<p>}</p>\n<p>C# Side send data with packer:</p>\n<pre><code>public void PackerNew(string tag, byte[] data, Socket client, string extra = &quot;null&quot;)\n        {\n            string toSend = $&quot;&lt;{tag}&gt;|{data.Length}|{extra}&gt;&quot;; ;\n\n            int toSendLen = Encoding.UTF8.GetBytes(toSend).Length;\n            byte[] toSendBytes = System.Text.Encoding.UTF8.GetBytes(toSend);\n            byte[] toSendLenBytes = System.BitConverter.GetBytes(toSendLen);\n            client.Send(toSendLenBytes, 0, toSendLenBytes.Length, SocketFlags.None);\n            client.Send(toSendBytes, 0, toSendBytes.Length, SocketFlags.None);\n            client.Send(data, 0, data.Length, SocketFlags.None);\n        }\n        \n        private void button6_Click(object sender, EventArgs e)\n        {\n            PackerNew(&quot;RESIM&quot;, File.ReadAllBytes(&quot;TEST.jpg&quot;), clint, &quot;null&quot;); // any byte[] data what you want..\n        }\n</code></pre>\n"}],"owner":{"account_id":1483401,"reputation":782,"user_id":1392195,"accept_rate":100,"display_name":"DaedalusUsedPerl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33319,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":14825061,"answer_count":3,"score":11,"last_activity_date":1677510686,"creation_date":1360636015,"question_id":14824491,"body_markdown":"More specifically, if a computer has a server (a `java.net.ServerSocket` instance) can I connect to it using a C# `System.Net.Sockets.Socket` instance?","title":"Can I communicate between Java and C# using just sockets?","body":"<p>More specifically, if a computer has a server (a <code>java.net.ServerSocket</code> instance) can I connect to it using a C# <code>System.Net.Sockets.Socket</code> instance?</p>\n"},{"tags":["java","android","in-app-update","app-update"],"owner":{"account_id":12244530,"reputation":2176,"user_id":8936551,"accept_rate":20,"display_name":"sejn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677510524,"creation_date":1677510194,"question_id":75582107,"body_markdown":"Unable to see the in-app prompt in Android version 11 and above.\r\n\r\nI have used the [in-app][1] to see the prompt in the app. But it failed to show the prompt in android versions 11 and 12. I have added the below code in my fragment. \r\n\r\nNote: If I add it in the Activity file same error is occurring in Android version 11 and 12.\r\n\r\nRestarting the app after update also not happening in the version 11 10 and 12\r\n\r\nCode:\r\n\r\n     @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n           Calendar calendar = Calendar.getInstance();\r\n            int currentDay = calendar.get(Calendar.DAY_OF_MONTH);\r\n            SharedPreferences settings = getActivity().getSharedPreferences(&quot;PREFS&quot;, 0);\r\n            int lastday = settings.getInt(&quot;day&quot;, 0);\r\n            if (lastday != currentDay) {\r\n                SharedPreferences.Editor editor = settings.edit();\r\n                editor.putInt(&quot;day&quot;, currentDay);\r\n                editor.commit();\r\n                appUpdateManager = AppUpdateManagerFactory.create(getContext());\r\n                installStateUpdatedListener = state -&gt; {\r\n                    if (state.installStatus() == InstallStatus.INSTALLED) {\r\n                        removeInstallStateUpdateListener();\r\n                    } else {\r\n                        LogUtils.LOGD(&quot;state.installstatus&quot;);\r\n                        Toast.makeText(getContext(), &quot;App update is in progress! App will restart soon.&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                };\r\n                appUpdateManager.registerListener(installStateUpdatedListener);\r\n                checkUpdate();\r\n            }\r\n    \r\n      }\r\n\r\n\r\n\r\n \r\n\r\n    private void checkUpdate() {\r\n            Task&lt;AppUpdateInfo&gt; appUpdateInfoTask = appUpdateManager.getAppUpdateInfo();\r\n            appUpdateInfoTask.addOnSuccessListener(appUpdateInfo -&gt; {\r\n                if (appUpdateInfo.updateAvailability() == UpdateAvailability.UPDATE_AVAILABLE\r\n                        &amp;&amp; appUpdateInfo.isUpdateTypeAllowed(AppUpdateType.FLEXIBLE)) {\r\n                    startUpdateFlow(appUpdateInfo);\r\n                } else if (appUpdateInfo.updateAvailability() == UpdateAvailability.UPDATE_NOT_AVAILABLE) {\r\n                    Log.e(&quot;Already updated&quot;, &quot;the app and no new version available.&quot;);\r\n                } else if (appUpdateInfo.installStatus() == InstallStatus.DOWNLOADED) {\r\n                    popupSnackBarForCompleteUpdate();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void startUpdateFlow(AppUpdateInfo appUpdateInfo) {\r\n            try {\r\n                appUpdateManager.startUpdateFlowForResult(appUpdateInfo, AppUpdateType.FLEXIBLE, getActivity(), FLEXIBLE_APP_UPDATE_REQ_CODE);\r\n            } catch (IntentSender.SendIntentException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private void popupSnackBarForCompleteUpdate() {\r\n            Toast.makeText(getContext(), &quot;App is downloaded successfully.&quot;, Toast.LENGTH_LONG).show();\r\n            PackageManager packageManager = getContext().getPackageManager();\r\n            Intent intent = packageManager.getLaunchIntentForPackage(getContext().getPackageName());\r\n            ComponentName componentName = intent.getComponent();\r\n            Intent mainIntent = null;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) {\r\n                mainIntent = Intent.makeRestartActivityTask(componentName);\r\n            }\r\n            // mainIntent = Intent.makeRestartActivityTask(componentName);\r\n            getContext().startActivity(mainIntent);\r\n            Runtime.getRuntime().exit(0);\r\n    \r\n        }\r\n    \r\n    \r\n      private void removeInstallStateUpdateListener() {\r\n            if (appUpdateManager != null) {\r\n                appUpdateManager.unregisterListener(installStateUpdatedListener);\r\n            }\r\n        }\r\n    \r\n     @Override\r\n        public void onResume() {\r\n            super.onResume();\r\n      if (appUpdateManager != null) {\r\n                    appUpdateManager.getAppUpdateInfo().addOnSuccessListener(new OnSuccessListener&lt;AppUpdateInfo&gt;()\r\n                    {\r\n                        @Override\r\n                        public void onSuccess(AppUpdateInfo result)\r\n                        {\r\n                            if(result.updateAvailability() == UpdateAvailability.DEVELOPER_TRIGGERED_UPDATE_IN_PROGRESS)\r\n                            {\r\n                                try\r\n                                {\r\n                                    appUpdateManager.startUpdateFlowForResult(result,AppUpdateType.IMMEDIATE, getActivity() ,10);\r\n                                } catch (IntentSender.SendIntentException e)\r\n                                {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n    \r\n    \r\n     @Override\r\n        public void onStop() {\r\n            removeInstallStateUpdateListener();\r\n           super.onStop();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/guide/playcore/in-app-updates","title":"Unable to see the in-app prompt in Android version 11 and above","body":"<p>Unable to see the in-app prompt in Android version 11 and above.</p>\n<p>I have used the <a href=\"https://developer.android.com/guide/playcore/in-app-updates\" rel=\"nofollow noreferrer\">in-app</a> to see the prompt in the app. But it failed to show the prompt in android versions 11 and 12. I have added the below code in my fragment.</p>\n<p>Note: If I add it in the Activity file same error is occurring in Android version 11 and 12.</p>\n<p>Restarting the app after update also not happening in the version 11 10 and 12</p>\n<p>Code:</p>\n<pre><code> @Override\n    public void onCreate(Bundle savedInstanceState) {\n       Calendar calendar = Calendar.getInstance();\n        int currentDay = calendar.get(Calendar.DAY_OF_MONTH);\n        SharedPreferences settings = getActivity().getSharedPreferences(&quot;PREFS&quot;, 0);\n        int lastday = settings.getInt(&quot;day&quot;, 0);\n        if (lastday != currentDay) {\n            SharedPreferences.Editor editor = settings.edit();\n            editor.putInt(&quot;day&quot;, currentDay);\n            editor.commit();\n            appUpdateManager = AppUpdateManagerFactory.create(getContext());\n            installStateUpdatedListener = state -&gt; {\n                if (state.installStatus() == InstallStatus.INSTALLED) {\n                    removeInstallStateUpdateListener();\n                } else {\n                    LogUtils.LOGD(&quot;state.installstatus&quot;);\n                    Toast.makeText(getContext(), &quot;App update is in progress! App will restart soon.&quot;, Toast.LENGTH_LONG).show();\n                }\n            };\n            appUpdateManager.registerListener(installStateUpdatedListener);\n            checkUpdate();\n        }\n\n  }\n\n\n\n\n\nprivate void checkUpdate() {\n        Task&lt;AppUpdateInfo&gt; appUpdateInfoTask = appUpdateManager.getAppUpdateInfo();\n        appUpdateInfoTask.addOnSuccessListener(appUpdateInfo -&gt; {\n            if (appUpdateInfo.updateAvailability() == UpdateAvailability.UPDATE_AVAILABLE\n                    &amp;&amp; appUpdateInfo.isUpdateTypeAllowed(AppUpdateType.FLEXIBLE)) {\n                startUpdateFlow(appUpdateInfo);\n            } else if (appUpdateInfo.updateAvailability() == UpdateAvailability.UPDATE_NOT_AVAILABLE) {\n                Log.e(&quot;Already updated&quot;, &quot;the app and no new version available.&quot;);\n            } else if (appUpdateInfo.installStatus() == InstallStatus.DOWNLOADED) {\n                popupSnackBarForCompleteUpdate();\n            }\n        });\n    }\n\n    private void startUpdateFlow(AppUpdateInfo appUpdateInfo) {\n        try {\n            appUpdateManager.startUpdateFlowForResult(appUpdateInfo, AppUpdateType.FLEXIBLE, getActivity(), FLEXIBLE_APP_UPDATE_REQ_CODE);\n        } catch (IntentSender.SendIntentException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void popupSnackBarForCompleteUpdate() {\n        Toast.makeText(getContext(), &quot;App is downloaded successfully.&quot;, Toast.LENGTH_LONG).show();\n        PackageManager packageManager = getContext().getPackageManager();\n        Intent intent = packageManager.getLaunchIntentForPackage(getContext().getPackageName());\n        ComponentName componentName = intent.getComponent();\n        Intent mainIntent = null;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) {\n            mainIntent = Intent.makeRestartActivityTask(componentName);\n        }\n        // mainIntent = Intent.makeRestartActivityTask(componentName);\n        getContext().startActivity(mainIntent);\n        Runtime.getRuntime().exit(0);\n\n    }\n\n\n  private void removeInstallStateUpdateListener() {\n        if (appUpdateManager != null) {\n            appUpdateManager.unregisterListener(installStateUpdatedListener);\n        }\n    }\n\n @Override\n    public void onResume() {\n        super.onResume();\n  if (appUpdateManager != null) {\n                appUpdateManager.getAppUpdateInfo().addOnSuccessListener(new OnSuccessListener&lt;AppUpdateInfo&gt;()\n                {\n                    @Override\n                    public void onSuccess(AppUpdateInfo result)\n                    {\n                        if(result.updateAvailability() == UpdateAvailability.DEVELOPER_TRIGGERED_UPDATE_IN_PROGRESS)\n                        {\n                            try\n                            {\n                                appUpdateManager.startUpdateFlowForResult(result,AppUpdateType.IMMEDIATE, getActivity() ,10);\n                            } catch (IntentSender.SendIntentException e)\n                            {\n                                e.printStackTrace();\n                            }\n                        }\n                    }\n                });\n            }\n\n\n @Override\n    public void onStop() {\n        removeInstallStateUpdateListener();\n       super.onStop();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","queue","activemq"],"answers":[{"tags":[],"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677510377,"creation_date":1677510377,"answer_id":75582138,"question_id":75555389,"body_markdown":"You need to add an authorization plugin and settings to define security access to certain queues and topics.\r\n\r\nsee Authorization: https://activemq.apache.org/security.html\r\n\r\n","title":"How to secure ActiveMQ in Spring Boot","body":"<p>You need to add an authorization plugin and settings to define security access to certain queues and topics.</p>\n<p>see Authorization: <a href=\"https://activemq.apache.org/security.html\" rel=\"nofollow noreferrer\">https://activemq.apache.org/security.html</a></p>\n"}],"owner":{"account_id":19449285,"reputation":19,"user_id":14226098,"display_name":"Om Prakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677510377,"creation_date":1677234406,"question_id":75555389,"body_markdown":"I want to secure my connection to ActiveMQ in Spring Boot. Currently Spring Boot is connecting to my ActiveMQ without any username and password, so I want to avoid this. So as per the resources I did these two things:\r\n\r\n`activemq.xml`:\r\n```xml\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n\r\n    &lt;bean id=&quot;securityPlugin&quot; class=&quot;org.apache.activemq.security.SimpleAuthenticationPlugin&quot;&gt;\r\n        &lt;property name=&quot;userMap&quot;&gt;\r\n            &lt;map&gt;\r\n                &lt;entry key=&quot;admin&quot; value=&quot;password&quot;/&gt;\r\n            &lt;/map&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;broker xmlns=&quot;http://activemq.apache.org/schema/core&quot; brokerName=&quot;localhost&quot; dataDirectory=&quot;${activemq.data}&quot;&gt;\r\n        &lt;plugins&gt;\r\n            &lt;simpleAuthenticationPlugin anonymousAccessAllowed=&quot;false&quot;&gt;\r\n                &lt;users&gt;\r\n                    &lt;authenticationUser username=&quot;admin&quot; password=&quot;password&quot; groups=&quot;admins&quot;/&gt;\r\n                &lt;/users&gt;\r\n                &lt;groupMappings&gt;\r\n                    &lt;groupMapping groupPrincipal=&quot;admins&quot; roles=&quot;admins&quot;/&gt;\r\n                &lt;/groupMappings&gt;\r\n            &lt;/simpleAuthenticationPlugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;transportConnectors&gt;\r\n            &lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://0.0.0.0:61616&quot;/&gt;\r\n        &lt;/transportConnectors&gt;\r\n    &lt;/broker&gt;\r\n&lt;/beans&gt;\r\n```\r\n`application.properties`:\r\n\r\n```\r\nspring.activemq.broker-url=tcp://localhost:61616\r\nspring.activemq.user=admin\r\nspring.activemq.password=password\r\nspring.activemq.packages.trust-all=true\r\nspring.activemq.packages.trusted=com.hfc.card.config\r\nspring.activemq.pool.enabled=false\r\nspring.activemq.in-memory=true\r\nspring.activemq.pool.enabled=false\r\nspring.activemq.pool.max-connections=10\r\nspring.activemq.broker-url=activemq.xml\r\n```    \r\n\r\nAfter providing all these things still Spring Boot is able to connect to ActiveMQ without using username and password. Is there something I am missing?","title":"How to secure ActiveMQ in Spring Boot","body":"<p>I want to secure my connection to ActiveMQ in Spring Boot. Currently Spring Boot is connecting to my ActiveMQ without any username and password, so I want to avoid this. So as per the resources I did these two things:</p>\n<p><code>activemq.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n    &lt;bean id=&quot;securityPlugin&quot; class=&quot;org.apache.activemq.security.SimpleAuthenticationPlugin&quot;&gt;\n        &lt;property name=&quot;userMap&quot;&gt;\n            &lt;map&gt;\n                &lt;entry key=&quot;admin&quot; value=&quot;password&quot;/&gt;\n            &lt;/map&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;broker xmlns=&quot;http://activemq.apache.org/schema/core&quot; brokerName=&quot;localhost&quot; dataDirectory=&quot;${activemq.data}&quot;&gt;\n        &lt;plugins&gt;\n            &lt;simpleAuthenticationPlugin anonymousAccessAllowed=&quot;false&quot;&gt;\n                &lt;users&gt;\n                    &lt;authenticationUser username=&quot;admin&quot; password=&quot;password&quot; groups=&quot;admins&quot;/&gt;\n                &lt;/users&gt;\n                &lt;groupMappings&gt;\n                    &lt;groupMapping groupPrincipal=&quot;admins&quot; roles=&quot;admins&quot;/&gt;\n                &lt;/groupMappings&gt;\n            &lt;/simpleAuthenticationPlugin&gt;\n        &lt;/plugins&gt;\n        &lt;transportConnectors&gt;\n            &lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://0.0.0.0:61616&quot;/&gt;\n        &lt;/transportConnectors&gt;\n    &lt;/broker&gt;\n&lt;/beans&gt;\n</code></pre>\n<p><code>application.properties</code>:</p>\n<pre><code>spring.activemq.broker-url=tcp://localhost:61616\nspring.activemq.user=admin\nspring.activemq.password=password\nspring.activemq.packages.trust-all=true\nspring.activemq.packages.trusted=com.hfc.card.config\nspring.activemq.pool.enabled=false\nspring.activemq.in-memory=true\nspring.activemq.pool.enabled=false\nspring.activemq.pool.max-connections=10\nspring.activemq.broker-url=activemq.xml\n</code></pre>\n<p>After providing all these things still Spring Boot is able to connect to ActiveMQ without using username and password. Is there something I am missing?</p>\n"},{"tags":["java","android","objectinputstream","eofexception"],"answers":[{"tags":[],"owner":{"account_id":3436150,"reputation":622,"user_id":2879245,"accept_rate":71,"display_name":"Micha Marcinkowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677510267,"creation_date":1677509615,"answer_id":75582005,"question_id":75581835,"body_markdown":"Basically - EOF exception might be thrown in two situations, \r\n* when you&#39;ve reached end of file and there is nothing more to read\r\n* when the file is corrupted\r\n\r\nIf you&#39;re leverage reading from file on EOF exception then you won&#39;t be able determine which one is the actual source of the problem. Do you need to to detect this difference? If not - base reading on EOF exception\r\n\r\nWhat the author of mentioned answer suggested (at least I understand it this way), to use some RandomAccessFile approach, in which apart from the actual list of objects you would store an integer as first object which will tell you how many files are there. \r\n\r\nHave you considered if aren&#39;t there a situation in which those reads and writes are called simultaneously? If you&#39;re trying to read a file in between some different is writing to it, such a situation may happen. \r\n\r\nPersonally I&#39;d try to add some synchronization, to postpone writing until reading is finished and then see what is gonna happen because I believe this is the root cause of the problem.","title":"ObjectInputStream returning EOFException when reading List of Object","body":"<p>Basically - EOF exception might be thrown in two situations,</p>\n<ul>\n<li>when you've reached end of file and there is nothing more to read</li>\n<li>when the file is corrupted</li>\n</ul>\n<p>If you're leverage reading from file on EOF exception then you won't be able determine which one is the actual source of the problem. Do you need to to detect this difference? If not - base reading on EOF exception</p>\n<p>What the author of mentioned answer suggested (at least I understand it this way), to use some RandomAccessFile approach, in which apart from the actual list of objects you would store an integer as first object which will tell you how many files are there.</p>\n<p>Have you considered if aren't there a situation in which those reads and writes are called simultaneously? If you're trying to read a file in between some different is writing to it, such a situation may happen.</p>\n<p>Personally I'd try to add some synchronization, to postpone writing until reading is finished and then see what is gonna happen because I believe this is the root cause of the problem.</p>\n"}],"owner":{"account_id":23128584,"reputation":85,"user_id":17234028,"display_name":"Daniel Hern&#225;ndez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75582005,"answer_count":1,"score":0,"last_activity_date":1677510267,"creation_date":1677508574,"question_id":75581835,"body_markdown":"Im returning a list of all the objects stored in some temporary files in my Android project. When the list its appended the file its deleted.\r\n\r\n```\r\n    public static &lt;T&gt; List&lt;T&gt; fileToLogList(Context context) {\r\n        String path = context.getFilesDir()\r\n                .getAbsolutePath();\r\n        List&lt;T&gt; list = new ArrayList&lt;&gt;();\r\n        FileInputStream fis;\r\n        try {\r\n            File directory = new File(path);\r\n            File[] files = directory.listFiles();\r\n            for (File file : files) {\r\n                fis = new FileInputStream(file);\r\n                ObjectInputStream ois = new ObjectInputStream(fis);\r\n                list.addAll((List&lt;T&gt;) ois.readObject());\r\n                ois.close();\r\n                fis.close();\r\n                context.deleteFile(file.getName());\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            return new ArrayList&lt;&gt;();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return list;\r\n    }\r\n```\r\nThe problem is that sometimes ois.readObject() will return a EOFException. I dont understand the accepted answer of the [following question](https://stackoverflow.com/questions/2626163/java-fileinputstream-objectinputstream-reaches-end-of-file-eof). I have tried the second answer and it also returns an exception.\r\n\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: Timer-1\r\n    Process: com.example.application, PID: 774\r\n    java.lang.RuntimeException: java.io.EOFException\r\n        at com.example.application.utils.Utils.fileToLogList(Utils.java:172)\r\n        at com.example.application.logging.LogService$2.run(LogService.java:31)\r\n        at java.util.TimerThread.mainLoop(Timer.java:562)\r\n        at java.util.TimerThread.run(Timer.java:512)\r\n     Caused by: java.io.EOFException\r\n        at java.io.ObjectInputStream$BlockDataInputStream.peekByte(ObjectInputStream.java:2751)\r\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1378)\r\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2114)\r\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2038)\r\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1899)\r\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1412)\r\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2114)\r\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2038)\r\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1899)\r\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1412)\r\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2114)\r\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2038)\r\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1899)\r\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1412)\r\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:427)\r\n        at java.util.concurrent.CopyOnWriteArrayList.readObject(CopyOnWriteArrayList.java:931)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1066)\r\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2013)\r\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1899)\r\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1412)\r\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:427)\r\n        at com.example.application.utils.Utils.fileToLogList(Utils.java:164)\r\n        at com.example.application.logging.LogService$2.run(LogService.java:31)&#160;\r\n        at java.util.TimerThread.mainLoop(Timer.java:562)&#160;\r\n        at java.util.TimerThread.run(Timer.java:512)&#160;\r\n```\r\n\r\nLastly this is my method to write into the files:\r\n\r\n```\r\n    public static &lt;T&gt; void logListIntoFile(List&lt;T&gt; output, Context context) {\r\n        FileOutputStream fos;\r\n        try {\r\n            // writes into a file named YYYY-MM-DD_HH:MM\r\n            fos = context.openFileOutput(getCurrentDateMinutes() + &quot;.tmp&quot;, Context.MODE_PRIVATE);\r\n            ObjectOutputStream os = new ObjectOutputStream(fos);\r\n            os.writeObject(output);\r\n            os.close();\r\n            fos.close();\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```","title":"ObjectInputStream returning EOFException when reading List of Object","body":"<p>Im returning a list of all the objects stored in some temporary files in my Android project. When the list its appended the file its deleted.</p>\n<pre><code>    public static &lt;T&gt; List&lt;T&gt; fileToLogList(Context context) {\n        String path = context.getFilesDir()\n                .getAbsolutePath();\n        List&lt;T&gt; list = new ArrayList&lt;&gt;();\n        FileInputStream fis;\n        try {\n            File directory = new File(path);\n            File[] files = directory.listFiles();\n            for (File file : files) {\n                fis = new FileInputStream(file);\n                ObjectInputStream ois = new ObjectInputStream(fis);\n                list.addAll((List&lt;T&gt;) ois.readObject());\n                ois.close();\n                fis.close();\n                context.deleteFile(file.getName());\n            }\n        } catch (FileNotFoundException e) {\n            return new ArrayList&lt;&gt;();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        } catch (ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n        return list;\n    }\n</code></pre>\n<p>The problem is that sometimes ois.readObject() will return a EOFException. I dont understand the accepted answer of the <a href=\"https://stackoverflow.com/questions/2626163/java-fileinputstream-objectinputstream-reaches-end-of-file-eof\">following question</a>. I have tried the second answer and it also returns an exception.</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: Timer-1\n    Process: com.example.application, PID: 774\n    java.lang.RuntimeException: java.io.EOFException\n        at com.example.application.utils.Utils.fileToLogList(Utils.java:172)\n        at com.example.application.logging.LogService$2.run(LogService.java:31)\n        at java.util.TimerThread.mainLoop(Timer.java:562)\n        at java.util.TimerThread.run(Timer.java:512)\n     Caused by: java.io.EOFException\n        at java.io.ObjectInputStream$BlockDataInputStream.peekByte(ObjectInputStream.java:2751)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1378)\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2114)\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2038)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1899)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1412)\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2114)\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2038)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1899)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1412)\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2114)\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2038)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1899)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1412)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:427)\n        at java.util.concurrent.CopyOnWriteArrayList.readObject(CopyOnWriteArrayList.java:931)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1066)\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2013)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1899)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1412)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:427)\n        at com.example.application.utils.Utils.fileToLogList(Utils.java:164)\n        at com.example.application.logging.LogService$2.run(LogService.java:31)\n        at java.util.TimerThread.mainLoop(Timer.java:562)\n        at java.util.TimerThread.run(Timer.java:512)\n</code></pre>\n<p>Lastly this is my method to write into the files:</p>\n<pre><code>    public static &lt;T&gt; void logListIntoFile(List&lt;T&gt; output, Context context) {\n        FileOutputStream fos;\n        try {\n            // writes into a file named YYYY-MM-DD_HH:MM\n            fos = context.openFileOutput(getCurrentDateMinutes() + &quot;.tmp&quot;, Context.MODE_PRIVATE);\n            ObjectOutputStream os = new ObjectOutputStream(fos);\n            os.writeObject(output);\n            os.close();\n            fos.close();\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n"},{"tags":["java","okta-api"],"comments":[{"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"score":0,"creation_date":1677513380,"post_id":75582102,"comment_id":133347881,"body_markdown":"Have you checked relevant guides from Okta? https://developer.okta.com/docs/guides/redirect-authentication/","body":"Have you checked relevant guides from Okta? <a href=\"https://developer.okta.com/docs/guides/redirect-authentication/\" rel=\"nofollow noreferrer\">developer.okta.com/docs/guides/redirect-authentication</a>"},{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":0,"creation_date":1677515529,"post_id":75582102,"comment_id":133348621,"body_markdown":"Authentication API, which is what that SDK covers, for some reason does not contain authorization and retrieval of access token. It&#39;s kind of confusing. Generally when I needed to get access token from java I just manually constructed the HTTP call - see https://stackoverflow.com/questions/52144721/how-to-get-access-token-using-client-credentials-using-java-code for instance.","body":"Authentication API, which is what that SDK covers, for some reason does not contain authorization and retrieval of access token. It&#39;s kind of confusing. Generally when I needed to get access token from java I just manually constructed the HTTP call - see <a href=\"https://stackoverflow.com/questions/52144721/how-to-get-access-token-using-client-credentials-using-java-code\" title=\"how to get access token using client credentials using java code\">stackoverflow.com/questions/52144721/&hellip;</a> for instance."}],"owner":{"account_id":5331956,"reputation":6989,"user_id":4252320,"accept_rate":59,"display_name":"ergonaut"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677510154,"creation_date":1677510154,"question_id":75582102,"body_markdown":"I managed to get a session token, but I believe I need to get an access token instead in order to start querying data from the server.  How do I convert this in Java?\r\n\r\nI believe I&#39;m looking for the /oauth2/default/v1/authorize equivalent in the okta-authn-sdk-api.jar libraries but I don&#39;t see it.  I&#39;m looking for an example of this being done somewhere but I cannot find one.","title":"How do I get an access token from OKTA?","body":"<p>I managed to get a session token, but I believe I need to get an access token instead in order to start querying data from the server.  How do I convert this in Java?</p>\n<p>I believe I'm looking for the /oauth2/default/v1/authorize equivalent in the okta-authn-sdk-api.jar libraries but I don't see it.  I'm looking for an example of this being done somewhere but I cannot find one.</p>\n"},{"tags":["java","maven","java-8","java-11"],"comments":[{"owner":{"account_id":5835327,"reputation":968,"user_id":4598583,"accept_rate":57,"display_name":"Graham Leggett"},"score":0,"creation_date":1688895433,"post_id":68892633,"comment_id":135133162,"body_markdown":"The question doesn&#39;t match the description. &quot;javax.xml.bind&quot; and &quot;javax.xml.bind.annotation&quot; are different packages, and the answers are not interchangeable.","body":"The question doesn&#39;t match the description. &quot;javax.xml.bind&quot; and &quot;javax.xml.bind.annotation&quot; are different packages, and the answers are not interchangeable."}],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1677510050,"creation_date":1629721541,"answer_id":68892688,"question_id":68892633,"body_markdown":"Try adding\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\ninto your pom.xml file","title":"package javax.xml.bind.annotation does not exist error","body":"<p>Try adding</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>into your pom.xml file</p>\n"},{"tags":[],"owner":{"account_id":20554779,"reputation":59,"user_id":15086634,"display_name":"epithite32"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1629722028,"creation_date":1629722028,"answer_id":68892798,"question_id":68892633,"body_markdown":"Download jaxb API jar file, and add it as an external jar to the Java build path.","title":"package javax.xml.bind.annotation does not exist error","body":"<p>Download jaxb API jar file, and add it as an external jar to the Java build path.</p>\n"},{"tags":[],"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629722571,"creation_date":1629722571,"answer_id":68892935,"question_id":68892633,"body_markdown":"The library `javax.xml.bind` has been removed from Java 11 release.&lt;br/&gt;\r\n[Release Notes][1] &lt;br/&gt;\r\nFor fixing this you have add those dependencies explicitly in your POM file or add it to your classpath accordingly.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAfter adding it to your POM you can build the maven project. First time you can skip tests.\r\n\r\n    mvn clean install -DskipTests\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/11-relnote-issues.html#JDK-8190378\r\n","title":"package javax.xml.bind.annotation does not exist error","body":"<p>The library <code>javax.xml.bind</code> has been removed from Java 11 release.<br/>\n<a href=\"https://www.oracle.com/java/technologies/javase/11-relnote-issues.html#JDK-8190378\" rel=\"nofollow noreferrer\">Release Notes</a> <br/>\nFor fixing this you have add those dependencies explicitly in your POM file or add it to your classpath accordingly.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n  &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n  &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n  &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>After adding it to your POM you can build the maven project. First time you can skip tests.</p>\n<pre><code>mvn clean install -DskipTests\n</code></pre>\n"}],"owner":{"account_id":17784143,"reputation":91,"user_id":12914623,"display_name":"Ana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35612,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"closed_date":1629740879,"answer_count":3,"score":2,"last_activity_date":1677510050,"creation_date":1629721344,"question_id":68892633,"body_markdown":"I am trying to run &quot;**mvn clean install**&quot; command, but I get the following error:\r\n\r\n&gt; java:[42,22] package javax.xml.bind does not exist\r\n\r\nDo you have any idea why?","title":"package javax.xml.bind.annotation does not exist error","body":"<p>I am trying to run &quot;<strong>mvn clean install</strong>&quot; command, but I get the following error:</p>\n<blockquote>\n<p>java:[42,22] package javax.xml.bind does not exist</p>\n</blockquote>\n<p>Do you have any idea why?</p>\n"},{"tags":["java","distribution"],"answers":[{"tags":[],"owner":{"account_id":60900,"reputation":4415,"user_id":181766,"accept_rate":88,"display_name":"jjchiw"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1592596251,"creation_date":1319715627,"answer_id":7915336,"question_id":7915315,"body_markdown":"[Java Web Start][1] I think is the option you&#39;re looking for...\n\n**Edit**\n\n  Comment from Basil Bourque @ 2020:\n&gt; Java Web Start is being phased out by Oracle. See their white paper,\n&gt; [*Java Client Roadmap Update*][2] dated 2020-05-11. You may be interested in\n&gt; the open-source implementation of Java Web Start known as the\n&gt; [*OpenWebStart*][3] project.\n\n\n  [1]: http://download.oracle.com/javase/7/docs/technotes/guides/javaws/developersguide/contents.html\n  [2]: https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf\n  [3]: https://openwebstart.com/","title":"How can I package a Java desktop application?","body":"<p><a href=\"http://download.oracle.com/javase/7/docs/technotes/guides/javaws/developersguide/contents.html\" rel=\"nofollow noreferrer\">Java Web Start</a> I think is the option you're looking for...</p>\n<p><strong>Edit</strong></p>\n<p>Comment from Basil Bourque @ 2020:</p>\n<blockquote>\n<p>Java Web Start is being phased out by Oracle. See their white paper,\n<a href=\"https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf\" rel=\"nofollow noreferrer\"><em>Java Client Roadmap Update</em></a> dated 2020-05-11. You may be interested in\nthe open-source implementation of Java Web Start known as the\n<a href=\"https://openwebstart.com/\" rel=\"nofollow noreferrer\"><em>OpenWebStart</em></a> project.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":252475,"reputation":8006,"user_id":530543,"accept_rate":79,"display_name":"Rohan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319715650,"creation_date":1319715650,"answer_id":7915339,"question_id":7915315,"body_markdown":"Are you looking for something like this: \r\n\r\nhttp://www.regexlab.com/en/jar2exe/\r\n\r\n?\r\n\r\nThat allows the enduser to run the .exe without installing.","title":"How can I package a Java desktop application?","body":"<p>Are you looking for something like this: </p>\n\n<p><a href=\"http://www.regexlab.com/en/jar2exe/\" rel=\"nofollow\">http://www.regexlab.com/en/jar2exe/</a></p>\n\n<p>?</p>\n\n<p>That allows the enduser to run the .exe without installing.</p>\n"},{"tags":[],"owner":{"account_id":348869,"reputation":1910,"user_id":683825,"accept_rate":100,"display_name":"Paul Cager"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319715891,"creation_date":1319715891,"answer_id":7915373,"question_id":7915315,"body_markdown":"There are a number of options - Java web Start, 3rd party installer, etc.\r\n\r\nHave a look at http://mindprod.com/jgloss/installer.html for an explanation.","title":"How can I package a Java desktop application?","body":"<p>There are a number of options - Java web Start, 3rd party installer, etc.</p>\n\n<p>Have a look at <a href=\"http://mindprod.com/jgloss/installer.html\" rel=\"nofollow\">http://mindprod.com/jgloss/installer.html</a> for an explanation.</p>\n"},{"tags":[],"owner":{"account_id":98681,"reputation":12022,"user_id":266978,"accept_rate":100,"display_name":"Baltasarq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319716150,"creation_date":1319716150,"answer_id":7915420,"question_id":7915315,"body_markdown":"I think that you&#39;re looking for [IzPak][1]. There is even a GUI available called [PackJacket][2]\r\n\r\n\r\n  [1]: http://izpack.org/\r\n  [2]: http://packjacket.sourceforge.net/","title":"How can I package a Java desktop application?","body":"<p>I think that you're looking for <a href=\"http://izpack.org/\" rel=\"nofollow\">IzPak</a>. There is even a GUI available called <a href=\"http://packjacket.sourceforge.net/\" rel=\"nofollow\">PackJacket</a></p>\n"},{"tags":[],"owner":{"account_id":365809,"reputation":4497,"user_id":710951,"accept_rate":75,"display_name":"Alba Mendez"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1569775372,"creation_date":1319716177,"answer_id":7915425,"question_id":7915315,"body_markdown":"Users of your Java app **must have the JRE installed** in order to run it.  \r\nYou can either tell them to install Java first, or **distribute JRE with your app**, as [Processing](http://processing.org/) does.  \r\nNote, however, that your packaged program will be heavy if you include JRE with it. And, if you want to do that, users will need to download the appropiate package for their platform.\r\n\r\n## Executable Java Wrappers ##\r\n\r\nThey take your Java app as input and _wrap_ them in an executable (for a specified platform). You can customize them as you like;\r\nand if the user doesn&#39;t have Java installed, the download page will open.\r\n\r\nSome examples are [Launch4J](http://launch4j.sourceforge.net/), [JSmooth](http://jsmooth.sourceforge.net/) and [Jar2EXE](http://www.regexlab.com/en/jar2exe/).  \r\n&amp;nbsp;\r\n\r\n## Installers ##\r\n\r\nThey are independent applications configured to _copy_ your app files to the user&#39;s computer and (optionally) create a shortcut.\r\n\r\nSome installers are written in Java, so they&#39;re multiplatform. In this case, the installer is a `.jar`.  \r\nSome others are platform-dependent, but you have the advantage that you don&#39;t need to wrap them.\r\n\r\n**Java installers:** [IzPack](http://izpack.org/), [Packlet](http://packlet.sourceforge.net/), [PackJacket](http://packjacket.sourceforge.net/), [Antigen](http://antigen.sourceforge.net/), &amp;hellip;  \r\n&amp;nbsp;\r\n\r\n## Java Web Start ##\r\n\r\nIt&#39;s a Java feature that allows you users to easily run your apps. You give them a `.jnpl` file,  \r\nthey open it, and Java downloads the latest version of your app and runs it. No packaging troubles!\r\n\r\n---\r\n\r\nSee the complete list of resources [here](http://java-source.net/open-source/installer-generators).","title":"How can I package a Java desktop application?","body":"<p>Users of your Java app <strong>must have the JRE installed</strong> in order to run it.<br>\nYou can either tell them to install Java first, or <strong>distribute JRE with your app</strong>, as <a href=\"http://processing.org/\" rel=\"noreferrer\">Processing</a> does.<br>\nNote, however, that your packaged program will be heavy if you include JRE with it. And, if you want to do that, users will need to download the appropiate package for their platform.</p>\n\n<h2>Executable Java Wrappers</h2>\n\n<p>They take your Java app as input and <em>wrap</em> them in an executable (for a specified platform). You can customize them as you like;\nand if the user doesn't have Java installed, the download page will open.</p>\n\n<p>Some examples are <a href=\"http://launch4j.sourceforge.net/\" rel=\"noreferrer\">Launch4J</a>, <a href=\"http://jsmooth.sourceforge.net/\" rel=\"noreferrer\">JSmooth</a> and <a href=\"http://www.regexlab.com/en/jar2exe/\" rel=\"noreferrer\">Jar2EXE</a>.<br>\n&nbsp;</p>\n\n<h2>Installers</h2>\n\n<p>They are independent applications configured to <em>copy</em> your app files to the user's computer and (optionally) create a shortcut.</p>\n\n<p>Some installers are written in Java, so they're multiplatform. In this case, the installer is a <code>.jar</code>.<br>\nSome others are platform-dependent, but you have the advantage that you don't need to wrap them.</p>\n\n<p><strong>Java installers:</strong> <a href=\"http://izpack.org/\" rel=\"noreferrer\">IzPack</a>, <a href=\"http://packlet.sourceforge.net/\" rel=\"noreferrer\">Packlet</a>, <a href=\"http://packjacket.sourceforge.net/\" rel=\"noreferrer\">PackJacket</a>, <a href=\"http://antigen.sourceforge.net/\" rel=\"noreferrer\">Antigen</a>, &hellip;<br>\n&nbsp;</p>\n\n<h2>Java Web Start</h2>\n\n<p>It's a Java feature that allows you users to easily run your apps. You give them a <code>.jnpl</code> file,<br>\nthey open it, and Java downloads the latest version of your app and runs it. No packaging troubles!</p>\n\n<hr>\n\n<p>See the complete list of resources <a href=\"http://java-source.net/open-source/installer-generators\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1619229902,"creation_date":1319720196,"answer_id":7916150,"question_id":7915315,"body_markdown":"**Edit:** The Java Plug-In, required for both applets and Java Web Start, was deprecated in Java 9 and removed from browsers around the same time. So this answer is obsolete. Only leaving it here to warn people against following this path.\r\n\r\n---\r\n\r\nThe optimal installation for a cross-platform app. with a GUI is to be found in [Java Web Start](https://stackoverflow.com/tags/java-web-start/info).  To quote the linked document in part:\r\n\r\n&gt; JWS provides many appealing features including, but not limited to, splash screens, **desktop integration,** file associations, automatic update ..\r\n\r\n## Other matters\r\n\r\n&gt; ..an OS specific way of launching the software.\r\n\r\nAdding a shortcut (with icon) to the desktop or start/program menu (desktop integration) is about as platform specific as you can get.\r\n\r\n&gt; ..will run without Java and offer to install a JRE if not currently present \r\n\r\nUse `deployJava.js`, linked in the 2&lt;sup&gt;nd&lt;/sup&gt; last list item under &#39;See also:&#39;.\r\n\r\n&gt; Well you don&#39;t need a separate package per OS if JWS integrates in and looks like a native program.\r\n\r\nUsing the native PLAF would be a good start.","title":"How can I package a Java desktop application?","body":"<p><strong>Edit:</strong> The Java Plug-In, required for both applets and Java Web Start, was deprecated in Java 9 and removed from browsers around the same time. So this answer is obsolete. Only leaving it here to warn people against following this path.</p>\n<hr />\n<p>The optimal installation for a cross-platform app. with a GUI is to be found in <a href=\"https://stackoverflow.com/tags/java-web-start/info\">Java Web Start</a>.  To quote the linked document in part:</p>\n<blockquote>\n<p>JWS provides many appealing features including, but not limited to, splash screens, <strong>desktop integration,</strong> file associations, automatic update ..</p>\n</blockquote>\n<h2>Other matters</h2>\n<blockquote>\n<p>..an OS specific way of launching the software.</p>\n</blockquote>\n<p>Adding a shortcut (with icon) to the desktop or start/program menu (desktop integration) is about as platform specific as you can get.</p>\n<blockquote>\n<p>..will run without Java and offer to install a JRE if not currently present</p>\n</blockquote>\n<p>Use <code>deployJava.js</code>, linked in the 2<sup>nd</sup> last list item under 'See also:'.</p>\n<blockquote>\n<p>Well you don't need a separate package per OS if JWS integrates in and looks like a native program.</p>\n</blockquote>\n<p>Using the native PLAF would be a good start.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1645014585,"creation_date":1592529692,"answer_id":62461826,"question_id":7915315,"body_markdown":"# Bundle JVM within your app\r\n\r\nThe modern solution to deploying a Java-based desktop app is to bundle a [JVM][1] with your app, delivered to the user as a double-clickable package just like other &quot;normal&quot; apps. Think of the JVM as another dependency to be incorporated within your final app.\r\n\r\nLearn about:\r\n\r\n - [*Java Platform Module System*](https://en.wikipedia.org/wiki/Java_Platform_Module_System)\r\n - *jlink* ([JEP 282](https://openjdk.java.net/jeps/282))\r\n - [*JEP 220: Modular Run-Time Images*](https://openjdk.java.net/jeps/220)\r\n - *jpackage* ([JEP 343](https://openjdk.java.net/jeps/343))\r\n\r\n\r\nYou could ship a [JavaFX][2] ([OpenJFX][3]) app this way, as well as a [Swing][4] app (the predecessor to JavaFX). \r\n\r\nOne advantage of this approach is that you know exactly what JVM is being used to run your particular app. Of course it also means you must release a new version of your app when a JVM update contains a relevant fix. Your users no longer are concerned with downloading, installing, and upgrading a JVM, as that chore is now the responsibility of the developer. \r\n\r\nOne disadvantage of this approach is that you must build, test, and distribute separate binaries of your app, one for each platform (macOS, MS Windows, BSD, Linux, and so on). \r\n\r\nSee also [my Answer][5] on a related Question, [*How to use jdk without jre in Java 11*](https://stackoverflow.com/q/52584888/642706).\r\n\r\nSee the [Answer by Will Iverson][6] for what looks like some useful tooling.\r\n\r\n# Compiled native app\r\n\r\n## GraalVM\r\n\r\nA cutting-edge variation of this approach is to build an ahead-of-time-compiled (versus [JIT][7]) native-code version of your app using [GraalVM][8] and its [native image generator][9].\r\n\r\n## Project Leyden\r\n\r\nPossibly related: Oracle&#39;s Project Leyden. See initial [announcement by Mark Reinhold][10], and see [this article][11], 2020-05-07.\r\n\r\n\r\n\r\n# *Java Web Start* phase-out\r\n\r\nSome other Answers discuss *Java Web Start*. Be aware that *Java Web Start* and *Java Applets* technologies are both being phased out by Oracle. See their white paper, [*Java Client Roadmap Update*](https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf) dated 2020-05-11. \r\n\r\nA possible alternative is the open-source implementation of Java Web Start known as the [*OpenWebStart*](https://openwebstart.com) project.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [2]: https://en.wikipedia.org/wiki/JavaFX\r\n  [3]: https://openjfx.io\r\n  [4]: https://en.wikipedia.org/wiki/Swing_(Java)\r\n  [5]: https://stackoverflow.com/a/54737656/642706\r\n  [6]: https://stackoverflow.com/a/67237971/642706\r\n  [7]: https://en.wikipedia.org/wiki/Just-in-time_compilation\r\n  [8]: https://www.graalvm.org\r\n  [9]: https://www.graalvm.org/reference-manual/native-image/\r\n  [10]: https://mail.openjdk.java.net/pipermail/discuss/2020-April/005429.html\r\n  [11]: https://www.theserverside.com/news/252482853/Oracles-Project-Leyden-uses-static-images-to-ease-Java-pain","title":"How can I package a Java desktop application?","body":"<h1>Bundle JVM within your app</h1>\n<p>The modern solution to deploying a Java-based desktop app is to bundle a <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">JVM</a> with your app, delivered to the user as a double-clickable package just like other &quot;normal&quot; apps. Think of the JVM as another dependency to be incorporated within your final app.</p>\n<p>Learn about:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\"><em>Java Platform Module System</em></a></li>\n<li><em>jlink</em> (<a href=\"https://openjdk.java.net/jeps/282\" rel=\"nofollow noreferrer\">JEP 282</a>)</li>\n<li><a href=\"https://openjdk.java.net/jeps/220\" rel=\"nofollow noreferrer\"><em>JEP 220: Modular Run-Time Images</em></a></li>\n<li><em>jpackage</em> (<a href=\"https://openjdk.java.net/jeps/343\" rel=\"nofollow noreferrer\">JEP 343</a>)</li>\n</ul>\n<p>You could ship a <a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a> (<a href=\"https://openjfx.io\" rel=\"nofollow noreferrer\">OpenJFX</a>) app this way, as well as a <a href=\"https://en.wikipedia.org/wiki/Swing_(Java)\" rel=\"nofollow noreferrer\">Swing</a> app (the predecessor to JavaFX).</p>\n<p>One advantage of this approach is that you know exactly what JVM is being used to run your particular app. Of course it also means you must release a new version of your app when a JVM update contains a relevant fix. Your users no longer are concerned with downloading, installing, and upgrading a JVM, as that chore is now the responsibility of the developer.</p>\n<p>One disadvantage of this approach is that you must build, test, and distribute separate binaries of your app, one for each platform (macOS, MS Windows, BSD, Linux, and so on).</p>\n<p>See also <a href=\"https://stackoverflow.com/a/54737656/642706\">my Answer</a> on a related Question, <a href=\"https://stackoverflow.com/q/52584888/642706\"><em>How to use jdk without jre in Java 11</em></a>.</p>\n<p>See the <a href=\"https://stackoverflow.com/a/67237971/642706\">Answer by Will Iverson</a> for what looks like some useful tooling.</p>\n<h1>Compiled native app</h1>\n<h2>GraalVM</h2>\n<p>A cutting-edge variation of this approach is to build an ahead-of-time-compiled (versus <a href=\"https://en.wikipedia.org/wiki/Just-in-time_compilation\" rel=\"nofollow noreferrer\">JIT</a>) native-code version of your app using <a href=\"https://www.graalvm.org\" rel=\"nofollow noreferrer\">GraalVM</a> and its <a href=\"https://www.graalvm.org/reference-manual/native-image/\" rel=\"nofollow noreferrer\">native image generator</a>.</p>\n<h2>Project Leyden</h2>\n<p>Possibly related: Oracle's Project Leyden. See initial <a href=\"https://mail.openjdk.java.net/pipermail/discuss/2020-April/005429.html\" rel=\"nofollow noreferrer\">announcement by Mark Reinhold</a>, and see <a href=\"https://www.theserverside.com/news/252482853/Oracles-Project-Leyden-uses-static-images-to-ease-Java-pain\" rel=\"nofollow noreferrer\">this article</a>, 2020-05-07.</p>\n<h1><em>Java Web Start</em> phase-out</h1>\n<p>Some other Answers discuss <em>Java Web Start</em>. Be aware that <em>Java Web Start</em> and <em>Java Applets</em> technologies are both being phased out by Oracle. See their white paper, <a href=\"https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf\" rel=\"nofollow noreferrer\"><em>Java Client Roadmap Update</em></a> dated 2020-05-11.</p>\n<p>A possible alternative is the open-source implementation of Java Web Start known as the <a href=\"https://openwebstart.com\" rel=\"nofollow noreferrer\"><em>OpenWebStart</em></a> project.</p>\n"},{"tags":[],"owner":{"account_id":119626,"reputation":2009,"user_id":311440,"display_name":"Will Iverson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619221075,"creation_date":1619221075,"answer_id":67237971,"question_id":7915315,"body_markdown":"If you are using Java 16, jlink and jpackage will do what you need - build a desktop application and installer.\r\n\r\nHere is a GitHub template that uses Maven to build a small / reduced JVM + JavaFX application. It uses Java modules and jlink to produce the small JVM, but uses the normal class path for running your application. GitHub Actions are used to produce the installers for macOS, Windows, and Linux.\r\n\r\nhttps://github.com/wiverson/maven-jpackage-template\r\n\r\nHere is another (WIP) version of the template with a small Swing UI and Spring Boot underneath - no JavaFX.\r\n\r\nhttps://github.com/wiverson/desktop-spring-boot\r\n\r\n","title":"How can I package a Java desktop application?","body":"<p>If you are using Java 16, jlink and jpackage will do what you need - build a desktop application and installer.</p>\n<p>Here is a GitHub template that uses Maven to build a small / reduced JVM + JavaFX application. It uses Java modules and jlink to produce the small JVM, but uses the normal class path for running your application. GitHub Actions are used to produce the installers for macOS, Windows, and Linux.</p>\n<p><a href=\"https://github.com/wiverson/maven-jpackage-template\" rel=\"nofollow noreferrer\">https://github.com/wiverson/maven-jpackage-template</a></p>\n<p>Here is another (WIP) version of the template with a small Swing UI and Spring Boot underneath - no JavaFX.</p>\n<p><a href=\"https://github.com/wiverson/desktop-spring-boot\" rel=\"nofollow noreferrer\">https://github.com/wiverson/desktop-spring-boot</a></p>\n"},{"tags":[],"owner":{"account_id":2594612,"reputation":1443,"user_id":2248578,"display_name":"Mike Hearn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677509740,"creation_date":1677509740,"answer_id":75582026,"question_id":7915315,"body_markdown":"As of 2022 there is a new option, [Hydraulic Conveyor](https://hydraulic.software/). It&#39;s got a bunch of features that are useful for shipping JVM desktop apps:\r\n\r\n* It creates self-updating packages for Windows/Mac/Linux, using MSIX on Windows and Sparkle on macOS and native package managers on Linux.\r\n* It can ship for every OS from any OS i.e. you can ship to Mac/Windows from Linux, or Windows/Linux from Mac etc.\r\n* It runs jlink for you for each OS.\r\n* It provides binary launchers (no batch files or shell scripts) which set up the JVM environment in useful ways, like with computed system properties for your install dir, your update site URL.\r\n* Apps can update in the background or for Mac/Windows installs you can force the app to update automatically on startup if there&#39;s a new version available, like a web app would.\r\n* It handles code signing and notarization for you.\r\n* It generates a download page for your users and can use GitHub Releases as a download and update site.\r\n\r\nSo, if you want to ship a JVM desktop app it&#39;s got you covered. There&#39;s also samples showing how to ship apps that use JavaFX and Jetpack Compose for Desktop.","title":"How can I package a Java desktop application?","body":"<p>As of 2022 there is a new option, <a href=\"https://hydraulic.software/\" rel=\"nofollow noreferrer\">Hydraulic Conveyor</a>. It's got a bunch of features that are useful for shipping JVM desktop apps:</p>\n<ul>\n<li>It creates self-updating packages for Windows/Mac/Linux, using MSIX on Windows and Sparkle on macOS and native package managers on Linux.</li>\n<li>It can ship for every OS from any OS i.e. you can ship to Mac/Windows from Linux, or Windows/Linux from Mac etc.</li>\n<li>It runs jlink for you for each OS.</li>\n<li>It provides binary launchers (no batch files or shell scripts) which set up the JVM environment in useful ways, like with computed system properties for your install dir, your update site URL.</li>\n<li>Apps can update in the background or for Mac/Windows installs you can force the app to update automatically on startup if there's a new version available, like a web app would.</li>\n<li>It handles code signing and notarization for you.</li>\n<li>It generates a download page for your users and can use GitHub Releases as a download and update site.</li>\n</ul>\n<p>So, if you want to ship a JVM desktop app it's got you covered. There's also samples showing how to ship apps that use JavaFX and Jetpack Compose for Desktop.</p>\n"}],"owner":{"account_id":36285,"reputation":1026,"user_id":103373,"accept_rate":90,"display_name":"Niklas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20047,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":7915425,"answer_count":9,"score":15,"last_activity_date":1677509740,"creation_date":1319715487,"question_id":7915315,"body_markdown":"I am working on a simple desktop java application. I would like to make it as seamless to install for end users as possible. E.g. similar to how Minecraft is distributed - a simple executable for OS X and an EXE file for Windows.\r\n\r\nWhat tool should I use?","title":"How can I package a Java desktop application?","body":"<p>I am working on a simple desktop java application. I would like to make it as seamless to install for end users as possible. E.g. similar to how Minecraft is distributed - a simple executable for OS X and an EXE file for Windows.</p>\n\n<p>What tool should I use?</p>\n"},{"tags":["java","android","string","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1561053729,"post_id":56691472,"comment_id":99948541,"body_markdown":"Why not use the alternative recommended in the error? `someObject::class.java.simpleName`","body":"Why not use the alternative recommended in the error? <code>someObject::class.java.simpleName</code>"},{"owner":{"account_id":373519,"reputation":7626,"user_id":2127950,"accept_rate":84,"display_name":"portfoliobuilder"},"score":0,"creation_date":1561053916,"post_id":56691472,"comment_id":99948623,"body_markdown":"I am new to Kotlin, so was unaware. Also, I just tried it and I am receiving &quot;unresolved reference: java&quot;. EDIT: Clean project cleared that up! Can you add as answer, I will accept.","body":"I am new to Kotlin, so was unaware. Also, I just tried it and I am receiving &quot;unresolved reference: java&quot;. EDIT: Clean project cleared that up! Can you add as answer, I will accept."}],"answers":[{"tags":[],"owner":{"account_id":9020610,"reputation":1498,"user_id":6721828,"display_name":"Edhar Khimich"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1561054044,"creation_date":1561054044,"answer_id":56691631,"question_id":56691472,"body_markdown":"There is couple ways to do this in Kotlin\r\nYou can receive the name via property - *KClass.qualifiedName*\r\n\r\n    val name = AClass::class.qualifiedName;\r\n\r\nor through the *Class.getName*\r\n\r\n    val name = AClass::class.java.getName();\r\n\r\nor you can try with *Class.name*\r\n\r\n    val name = AClass::class.java.name;\r\n\r\nor *Class.canonicalName*\r\n\r\n    var name = AClass::class.java.canonicalName as String\r\n\r\n","title":"Getting simpleName() after getClass() in Kotlin","body":"<p>There is couple ways to do this in Kotlin\nYou can receive the name via property - <em>KClass.qualifiedName</em></p>\n\n<pre><code>val name = AClass::class.qualifiedName;\n</code></pre>\n\n<p>or through the <em>Class.getName</em></p>\n\n<pre><code>val name = AClass::class.java.getName();\n</code></pre>\n\n<p>or you can try with <em>Class.name</em></p>\n\n<pre><code>val name = AClass::class.java.name;\n</code></pre>\n\n<p>or <em>Class.canonicalName</em></p>\n\n<pre><code>var name = AClass::class.java.canonicalName as String\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1561054192,"creation_date":1561054192,"answer_id":56691680,"question_id":56691472,"body_markdown":"Use `someObject::class.java.simpleName`.","title":"Getting simpleName() after getClass() in Kotlin","body":"<p>Use <code>someObject::class.java.simpleName</code>.</p>\n"},{"tags":[],"owner":{"account_id":5020620,"reputation":738,"user_id":4034209,"display_name":"Kashif Anwaar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1587568711,"creation_date":1587568711,"answer_id":61368709,"question_id":56691472,"body_markdown":"Lot of answers ask you to enter type your class name, well I have the shortest solution for you.\r\n\r\n    javaClass.simpleName\r\n\r\nYou can use the above line anywhere to get the class name, it will return your current class name.","title":"Getting simpleName() after getClass() in Kotlin","body":"<p>Lot of answers ask you to enter type your class name, well I have the shortest solution for you.</p>\n\n<pre><code>javaClass.simpleName\n</code></pre>\n\n<p>You can use the above line anywhere to get the class name, it will return your current class name.</p>\n"},{"tags":[],"owner":{"account_id":16095525,"reputation":147,"user_id":12669956,"display_name":"Abhyam Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677509717,"creation_date":1677509717,"answer_id":75582020,"question_id":56691472,"body_markdown":"Suppose you are in the same class or activity, then to get the name of the activity or class you can call.\r\n\r\n    this::class.simpleName\r\n\r\nLet&#39;s say your activity/class name is `LoginActivityV2` then you can also use \r\n\r\n`this@LoginActivityV2::class.simplename`","title":"Getting simpleName() after getClass() in Kotlin","body":"<p>Suppose you are in the same class or activity, then to get the name of the activity or class you can call.</p>\n<pre><code>this::class.simpleName\n</code></pre>\n<p>Let's say your activity/class name is <code>LoginActivityV2</code> then you can also use</p>\n<p><code>this@LoginActivityV2::class.simplename</code></p>\n"}],"owner":{"account_id":373519,"reputation":7626,"user_id":2127950,"accept_rate":84,"display_name":"portfoliobuilder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14852,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":56691680,"answer_count":4,"score":21,"last_activity_date":1677509717,"creation_date":1561053278,"question_id":56691472,"body_markdown":"In java, I am able to use getClass() and then retrieve simpleName from that class object without any issues.\r\n\r\n    String tag = someObject.getClass().getSimpleName(); // java code\r\n\r\nBut when converting to Kotlin, this causes warnings\r\n\r\n&gt; Call uses reflection API which is not found in compilation classpath.\r\n&gt; Make sure you have kotlin-reflect.jar in the classpath\r\n\r\nThe kotlin code is\r\n\r\n    someObject::class.simpleName!! // kotlin code\r\n\r\nWhat is the proper way of avoiding\r\n\r\n&gt; kotlin.jvm.KotlinReflectionNotSupportedError ? Needs additional\r\n&gt; dependency to kotlin-reflect.jar. Maybe would be better use\r\n&gt; ::class.java.simpleName\r\n\r\n","title":"Getting simpleName() after getClass() in Kotlin","body":"<p>In java, I am able to use getClass() and then retrieve simpleName from that class object without any issues.</p>\n\n<pre><code>String tag = someObject.getClass().getSimpleName(); // java code\n</code></pre>\n\n<p>But when converting to Kotlin, this causes warnings</p>\n\n<blockquote>\n  <p>Call uses reflection API which is not found in compilation classpath.\n  Make sure you have kotlin-reflect.jar in the classpath</p>\n</blockquote>\n\n<p>The kotlin code is</p>\n\n<pre><code>someObject::class.simpleName!! // kotlin code\n</code></pre>\n\n<p>What is the proper way of avoiding</p>\n\n<blockquote>\n  <p>kotlin.jvm.KotlinReflectionNotSupportedError ? Needs additional\n  dependency to kotlin-reflect.jar. Maybe would be better use\n  ::class.java.simpleName</p>\n</blockquote>\n"},{"tags":["java","sql","hibernate","sentry"],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677509606,"creation_date":1677509606,"answer_id":75582003,"question_id":75581913,"body_markdown":"&gt; Is there any good way how we can get better insights into our problem?\r\n\r\nWell, yes, of course the very first step is to log the actual SQL executed by Hibernate, either by setting the properties:\r\n\r\n```xml\r\n&lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n&lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\r\n&lt;property name=&quot;hibernate.highlight_sql&quot;&gt;true&lt;/property&gt;\r\n```\r\n\r\nOr by setting the log category `org.hibernate.SQL` to `debug`.\r\n\r\nYou absolutely cannot possibly analyze the performance of data access code by treating a Spring repository thingy as a black box. Nor is any Java monitoring or profiling tool likely to be very useful, since what you really need to do is minimize roundtrips to the database server.\r\n","title":"How to analyze JPA/Hibernate database queries for efficiency","body":"<blockquote>\n<p>Is there any good way how we can get better insights into our problem?</p>\n</blockquote>\n<p>Well, yes, of course the very first step is to log the actual SQL executed by Hibernate, either by setting the properties:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n&lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\n&lt;property name=&quot;hibernate.highlight_sql&quot;&gt;true&lt;/property&gt;\n</code></pre>\n<p>Or by setting the log category <code>org.hibernate.SQL</code> to <code>debug</code>.</p>\n<p>You absolutely cannot possibly analyze the performance of data access code by treating a Spring repository thingy as a black box. Nor is any Java monitoring or profiling tool likely to be very useful, since what you really need to do is minimize roundtrips to the database server.</p>\n"}],"owner":{"account_id":3174200,"reputation":2396,"user_id":2682472,"accept_rate":90,"display_name":"Florian Baierl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75582003,"answer_count":1,"score":0,"last_activity_date":1677509606,"creation_date":1677508979,"question_id":75581913,"body_markdown":"We are using Spring Boot with Hibernate to connect to a postgresql database and noticed that some queries are much slower than expected. Are there any good tools or methods to find out why this is happening? We are using [Sentry][1], so I have some insight into which statements are the problem, e.g. here:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nWe can see that `BookingLegRepository.findByStartTimewindowStartBetweenAndDistributorId` takes a long time and the other repository fetches are quite fast. `ScheduledLegRepository.findByStartTimeBetweenAndAssignment_Distributor_Id` fetches a similar amount of objects.\r\n\r\nNow, I am wondering if this is because the query is not efficiently defined:\r\n\r\n```\r\n@Query(&quot;select b from BookingLegEntity b left join fetch b.belongsTo where b.startTimewindowStart between ?1 and ?2 and b.distributor.id = ?3&quot;)\r\nList&lt;BookingLegEntity&gt; findByStartTimewindowStartBetweenAndDistributorId(Instant from, Instant to, UUID distributorId);\r\n```\r\n\r\nor if this is because of some caching Hibernate does in the background which make the subsequent calls faster (scheduled-legs and booking-legs are associated with each other).\r\n\r\nAlso, I cannot imagine that the database itself is the reason for the slow query, so I have been wondering if it is the creation of the Java objects by Hibernate that takes too much time.\r\n\r\nIs there any good way how we can get better insights into our problem?\r\n\r\n\r\n  [1]: https://sentry.io\r\n  [2]: https://i.stack.imgur.com/iYTpy.png","title":"How to analyze JPA/Hibernate database queries for efficiency","body":"<p>We are using Spring Boot with Hibernate to connect to a postgresql database and noticed that some queries are much slower than expected. Are there any good tools or methods to find out why this is happening? We are using <a href=\"https://sentry.io\" rel=\"nofollow noreferrer\">Sentry</a>, so I have some insight into which statements are the problem, e.g. here:</p>\n<p><a href=\"https://i.stack.imgur.com/iYTpy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iYTpy.png\" alt=\"enter image description here\" /></a></p>\n<p>We can see that <code>BookingLegRepository.findByStartTimewindowStartBetweenAndDistributorId</code> takes a long time and the other repository fetches are quite fast. <code>ScheduledLegRepository.findByStartTimeBetweenAndAssignment_Distributor_Id</code> fetches a similar amount of objects.</p>\n<p>Now, I am wondering if this is because the query is not efficiently defined:</p>\n<pre><code>@Query(&quot;select b from BookingLegEntity b left join fetch b.belongsTo where b.startTimewindowStart between ?1 and ?2 and b.distributor.id = ?3&quot;)\nList&lt;BookingLegEntity&gt; findByStartTimewindowStartBetweenAndDistributorId(Instant from, Instant to, UUID distributorId);\n</code></pre>\n<p>or if this is because of some caching Hibernate does in the background which make the subsequent calls faster (scheduled-legs and booking-legs are associated with each other).</p>\n<p>Also, I cannot imagine that the database itself is the reason for the slow query, so I have been wondering if it is the creation of the Java objects by Hibernate that takes too much time.</p>\n<p>Is there any good way how we can get better insights into our problem?</p>\n"},{"tags":["java","unit-testing","elasticsearch","elasticsearch-painless"],"answers":[{"tags":[],"owner":{"account_id":2292899,"reputation":530,"user_id":2015169,"display_name":"JVS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677509003,"creation_date":1677509003,"answer_id":75581917,"question_id":70401445,"body_markdown":"One way to test is to use docker to bring up an elasticsearch instance, setup indices with seed data, and run tests using the scripts.\r\nWe found additional benefits of the DB setup scripts being tested on a new ES instance. \r\nDownside is its slower because its integration tests, and slows down the CI pipeline. But better than deploying manually tested code with string scripts.","title":"How to write unit test for Elasticsearch painless scripts using Java","body":"<p>One way to test is to use docker to bring up an elasticsearch instance, setup indices with seed data, and run tests using the scripts.\nWe found additional benefits of the DB setup scripts being tested on a new ES instance.\nDownside is its slower because its integration tests, and slows down the CI pipeline. But better than deploying manually tested code with string scripts.</p>\n"}],"owner":{"account_id":1469313,"reputation":5983,"user_id":1381266,"accept_rate":46,"display_name":"Galet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677509003,"creation_date":1639808852,"question_id":70401445,"body_markdown":"Here is my sample painles script used in Elasticsearch. I want to write a unit test for this. How can I achieve it?\r\n\r\n    {\r\n      &quot;script&quot;: {\r\n        &quot;source&quot;: &quot;&quot;&quot;\r\n           for(param in params.entrySet()) {\r\n             ctx.source.put(param.getKey(), param.getValue())\r\n          }\r\n        &quot;lang&quot;: &quot;painless&quot;,\r\n        &quot;params&quot;: {\r\n          &quot;sold_cost&quot;: 26\r\n        }\r\n      }\r\n    }","title":"How to write unit test for Elasticsearch painless scripts using Java","body":"<p>Here is my sample painles script used in Elasticsearch. I want to write a unit test for this. How can I achieve it?</p>\n<pre><code>{\n  &quot;script&quot;: {\n    &quot;source&quot;: &quot;&quot;&quot;\n       for(param in params.entrySet()) {\n         ctx.source.put(param.getKey(), param.getValue())\n      }\n    &quot;lang&quot;: &quot;painless&quot;,\n    &quot;params&quot;: {\n      &quot;sold_cost&quot;: 26\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","liquibase"],"answers":[{"tags":[],"owner":{"account_id":27891749,"reputation":1,"user_id":21297988,"display_name":"user21297988"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677508935,"creation_date":1677508935,"answer_id":75581901,"question_id":75466709,"body_markdown":"Try \r\n\r\n```java\r\n new Liquibase(\r\n                changeLofFile,\r\n                new SearchPathResourceAccessor(getBasePath()),\r\n                database);\r\n```","title":"Liquibase: setting searchPath for Java API","body":"<p>Try</p>\n<pre class=\"lang-java prettyprint-override\"><code> new Liquibase(\n                changeLofFile,\n                new SearchPathResourceAccessor(getBasePath()),\n                database);\n</code></pre>\n"}],"owner":{"account_id":27798015,"reputation":11,"user_id":21223001,"display_name":"SKMDC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677508935,"creation_date":1676507183,"question_id":75466709,"body_markdown":"In liquibase v4.13 you need to configure a &quot;searchPath&quot; to look up files, and I&#39;m wondering the best way to achieve this when using the java API\r\n\r\nPrior to v4, I could simply use this code and it worked\r\n\r\n```\r\nLiquibase liquibase = new liquibase.Liquibase(&quot;path/to/changelog.xml&quot;, new ClassLoaderResourceAccessor(), database);\r\n\r\nliquibase.update(new Contexts(), new LabelExpression());\r\n```\r\n\r\nwhich in latest version (was testing against v4.17.0 first, then increased to v4.19.0) resulted in the error\r\n&gt; The file path/to/changelog.xml was not found in the configured search path:\r\n&gt; More locations can be added with the &#39;searchPath&#39; parameter.\r\n\r\nSo how should I configure &quot;searchPath&quot; here?\r\n\r\nTried this to same error result\r\n\r\n```\r\nMap&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\nconfig.put(&quot;liquibase.searchPath&quot;, &quot;/&quot;);\r\n\r\nScope.child(config, () -&gt; {\r\n\r\n  Liquibase liquibase = new liquibase.Liquibase(&quot;path/to/changelog.xml&quot;, new ClassLoaderResourceAccessor(), database);\r\n\r\n  liquibase.update(new Contexts(), new LabelExpression());\r\n});\r\n```\r\n","title":"Liquibase: setting searchPath for Java API","body":"<p>In liquibase v4.13 you need to configure a &quot;searchPath&quot; to look up files, and I'm wondering the best way to achieve this when using the java API</p>\n<p>Prior to v4, I could simply use this code and it worked</p>\n<pre><code>Liquibase liquibase = new liquibase.Liquibase(&quot;path/to/changelog.xml&quot;, new ClassLoaderResourceAccessor(), database);\n\nliquibase.update(new Contexts(), new LabelExpression());\n</code></pre>\n<p>which in latest version (was testing against v4.17.0 first, then increased to v4.19.0) resulted in the error</p>\n<blockquote>\n<p>The file path/to/changelog.xml was not found in the configured search path:\nMore locations can be added with the 'searchPath' parameter.</p>\n</blockquote>\n<p>So how should I configure &quot;searchPath&quot; here?</p>\n<p>Tried this to same error result</p>\n<pre><code>Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\nconfig.put(&quot;liquibase.searchPath&quot;, &quot;/&quot;);\n\nScope.child(config, () -&gt; {\n\n  Liquibase liquibase = new liquibase.Liquibase(&quot;path/to/changelog.xml&quot;, new ClassLoaderResourceAccessor(), database);\n\n  liquibase.update(new Contexts(), new LabelExpression());\n});\n</code></pre>\n"},{"tags":["java","spring-security","azure-active-directory","spring-security-saml2"],"answers":[{"tags":[],"owner":{"account_id":27891746,"reputation":3,"user_id":21297986,"display_name":"GitGood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677508921,"creation_date":1677508921,"answer_id":75581898,"question_id":75580535,"body_markdown":"Normally this type of error occurs when your server time is different than AAD time. Please check the time set in your server and see if because of some recent patching or some activity it has changed.","title":"SAML authentication with Azure AD returns expired token","body":"<p>Normally this type of error occurs when your server time is different than AAD time. Please check the time set in your server and see if because of some recent patching or some activity it has changed.</p>\n"}],"owner":{"account_id":369687,"reputation":56616,"user_id":717214,"accept_rate":86,"display_name":"Aleks G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677508921,"creation_date":1677501120,"question_id":75580535,"body_markdown":"I have a java spring security app that authenticates against Azure AD with SAML. With default settings, when the token is returned from MS back to my apps, the &quot;notOnOrAfter&quot; date is in the past, regardless when the user actually logged into their Microsoft account.\r\n\r\nI have added `forceAuthN=true` parameter - this solved the issue of expired tokens, however at the expense of having to re-enter the username/password on every login request. Now the users are asking why they have to re-login in for my app when this works seamlessly for other apps they use that authenticate to Azure AD.\r\n\r\nI tried playing around with different values for `forceAuthN` and `passive` - but still no luck.\r\n\r\nIs there anything I can do (either in my application or in the setup of then enterprise application in Azure AD) to get seamless login working?","title":"SAML authentication with Azure AD returns expired token","body":"<p>I have a java spring security app that authenticates against Azure AD with SAML. With default settings, when the token is returned from MS back to my apps, the &quot;notOnOrAfter&quot; date is in the past, regardless when the user actually logged into their Microsoft account.</p>\n<p>I have added <code>forceAuthN=true</code> parameter - this solved the issue of expired tokens, however at the expense of having to re-enter the username/password on every login request. Now the users are asking why they have to re-login in for my app when this works seamlessly for other apps they use that authenticate to Azure AD.</p>\n<p>I tried playing around with different values for <code>forceAuthN</code> and <code>passive</code> - but still no luck.</p>\n<p>Is there anything I can do (either in my application or in the setup of then enterprise application in Azure AD) to get seamless login working?</p>\n"},{"tags":["java","spring-boot","apache-kafka","mockito","testcontainers"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677508889,"post_id":75576510,"comment_id":133346208,"body_markdown":"Spring-kafka already offers embedded kafka class for testing, why do you need containers? Also, where is your test actually using the listener?","body":"Spring-kafka already offers embedded kafka class for testing, why do you need containers? Also, where is your test actually using the listener?"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677484036,"creation_date":1677478964,"answer_id":75577305,"question_id":75576510,"body_markdown":"Because `@Mock` just create a mocked instance but this instance will not be managed by the spring context. So `HelloKafkaService` inside `HelloKafkaListener` is still the actual instance but not the mocked one. \r\n\r\nYou have to use `@MockBean`. The difference is that it will create a mocked instance and also replace the actual bean instance in the spring context with it.  \r\n\r\nSo change to the following should fix the problem :\r\n\r\n```java \r\n@SpringBootTest\r\n@Testcontainers\r\npublic class HelloKafkaListenerTestIT {\r\n  \r\n  @MockBean\r\n  private HelloKafkaService helloKafkaService;\r\n\r\n}\r\n\r\n```\r\n","title":"Test Kafka consumer with Testcontainers and Mockito couldn&#39;t invoke consumer in SpringBoot","body":"<p>Because <code>@Mock</code> just create a mocked instance but this instance will not be managed by the spring context. So <code>HelloKafkaService</code> inside <code>HelloKafkaListener</code> is still the actual instance but not the mocked one.</p>\n<p>You have to use <code>@MockBean</code>. The difference is that it will create a mocked instance and also replace the actual bean instance in the spring context with it.</p>\n<p>So change to the following should fix the problem :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@Testcontainers\npublic class HelloKafkaListenerTestIT {\n  \n  @MockBean\n  private HelloKafkaService helloKafkaService;\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":6433608,"reputation":927,"user_id":4985852,"accept_rate":62,"display_name":"Zichen Ma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":888,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677508918,"creation_date":1677468047,"question_id":75576510,"body_markdown":"I am trying to setup a kafka consumer and test it with Testcontainers and Mickito. It looks like the producer works fine but the consumer has not been triggered and always gives me:  \r\n\r\n    Wanted but not invoked:\r\n    helloKafkaService.handleMessage(\r\n        &lt;Capturing argument&gt;\r\n    );\r\n    -&gt; at com.my.kafka.HelloKafkaListenerTestIT.helloKafkaListenerTest\r\n    Actually, there were zero interactions with this mock.\r\n\r\nHere is my service interface HelloKafkaService.java:\r\n\r\n    @Service\r\n    public interface HelloKafkaService {\r\n      public void handleMessage(ExampleEvent exampleEvent);\r\n    }\r\nMy consumer: HelloKafkaListener.java\r\n\r\n    @Component\r\n    public class HelloKafkaListener {\r\n      private static final Logger log = LoggerFactory.getLogger(HelloKafkaListener.class);\r\n      \r\n      private final HelloKafkaService helloKafkaService;\r\n      \r\n      public HelloKafkaListener(HelloKafkaService helloKafkaService) {\r\n        this.helloKafkaService = helloKafkaService;\r\n      }\r\n      \r\n      @KafkaListener(\r\n          topics = &quot;my-topic&quot;,\r\n          groupId = &quot;my-topic:HelloKafkaListener&quot;)\r\n      public void process(ExampleEvent event) {\r\n        this.helloKafkaService.handleMessage(event);\r\n        log.info(&quot;Processing event: &quot; + event.getExampleField());\r\n      }\r\n    }\r\n\r\nMy test HelloKafkaListenerTestIT.java:\r\n\r\n    @SpringBootTest\r\n    @Testcontainers\r\n    public class HelloKafkaListenerTestIT {\r\n      \r\n      @Container\r\n      public static KafkaContainer kafkaContainer = new KafkaContainer(DockerImageName.parse(&quot;confluentinc/cp-kafka:7.0.5&quot;));\r\n      \r\n      @Mock\r\n      private HelloKafkaService helloKafkaService;\r\n      \r\n      @Autowired\r\n      private KafkaTemplate&lt;String, ExampleEvent&gt; kafkaTemplate;\r\n      \r\n      @DynamicPropertySource\r\n      static void kafkaProperties(DynamicPropertyRegistry registry) {\r\n        registry.add(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaContainer::getBootstrapServers);\r\n        registry.add(ProducerConfig.CLIENT_ID_CONFIG, () -&gt; &quot;test-id&quot;);\r\n        registry.add(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, () -&gt; StringSerializer.class.getName());\r\n        registry.add(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, () -&gt; KafkaAvroSerializer.class.getName());\r\n      }\r\n      \r\n      @BeforeEach\r\n      public void setUp() {\r\n        Serializer keySerializer;\r\n        Serializer valueSerializer;\r\n      \r\n        var avroConfig = Map.of(\r\n            KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;http://localhost:8081&quot;,\r\n            KafkaAvroSerializerConfig.AUTO_REGISTER_SCHEMAS, true,\r\n            KafkaAvroSerializerConfig.USE_LATEST_VERSION, true\r\n        );\r\n      \r\n        keySerializer = new StringSerializer();\r\n      \r\n        valueSerializer = new SpecificAvroSerializer&lt;ExampleEvent&gt;();\r\n        valueSerializer.configure(avroConfig, false);\r\n      \r\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n        config.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaContainer.getBootstrapServers());\r\n        config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\r\n        config.put(ProducerConfig.CLIENT_ID_CONFIG, &quot;test-id&quot;);\r\n        config.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\r\n\r\n      \r\n        DefaultKafkaProducerFactory&lt;String, ExampleEvent&gt; producerFactory =\r\n            new DefaultKafkaProducerFactory&lt;&gt;(config, keySerializer, valueSerializer);\r\n        this.kafkaTemplate = new KafkaTemplate&lt;&gt;(producerFactory);\r\n     \r\n      }\r\n      \r\n      static {\r\n        kafkaContainer.start();\r\n      }\r\n      \r\n      \r\n      @Test\r\n      public void helloKafkaListenerTest() {\r\n        ArgumentCaptor&lt;ExampleEvent&gt; captor = ArgumentCaptor.forClass(ExampleEvent.class);\r\n        ExampleEvent exampleEvent = new ExampleEvent(&quot;Hello World!&quot;);\r\n        // Confirmed this.kafkaTemplate.send works well\r\n        this.kafkaTemplate.send(&quot;my-topic&quot;, &quot;key&quot;, exampleEvent);\r\n        // Throw the error here:\r\n        verify(helloKafkaService, timeout(5000)).handleMessage(captor.capture());\r\n        assertNotNull(captor.getValue());\r\n        assertEquals(&quot;Hello World!&quot;, captor.getValue().getExampleField());\r\n      }\r\n      \r\n      @AfterAll\r\n      static void tearDown() {\r\n        kafkaContainer.stop();\r\n      }\r\n\r\nevent.avsc:\r\n\r\n    {\r\n      &quot;namespace&quot;: &quot;my.namespace&quot;,\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;name&quot;: &quot;ExampleEvent&quot;,\r\n      &quot;doc&quot;: &quot;A sample event&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;exampleField&quot;,\r\n          &quot;type&quot;: &quot;string&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nWhy can the consumer not be triggered, if using `@Mock` and `verify`? Is there a better idea to test this?","title":"Test Kafka consumer with Testcontainers and Mockito couldn&#39;t invoke consumer in SpringBoot","body":"<p>I am trying to setup a kafka consumer and test it with Testcontainers and Mickito. It looks like the producer works fine but the consumer has not been triggered and always gives me:</p>\n<pre><code>Wanted but not invoked:\nhelloKafkaService.handleMessage(\n    &lt;Capturing argument&gt;\n);\n-&gt; at com.my.kafka.HelloKafkaListenerTestIT.helloKafkaListenerTest\nActually, there were zero interactions with this mock.\n</code></pre>\n<p>Here is my service interface HelloKafkaService.java:</p>\n<pre><code>@Service\npublic interface HelloKafkaService {\n  public void handleMessage(ExampleEvent exampleEvent);\n}\n</code></pre>\n<p>My consumer: HelloKafkaListener.java</p>\n<pre><code>@Component\npublic class HelloKafkaListener {\n  private static final Logger log = LoggerFactory.getLogger(HelloKafkaListener.class);\n  \n  private final HelloKafkaService helloKafkaService;\n  \n  public HelloKafkaListener(HelloKafkaService helloKafkaService) {\n    this.helloKafkaService = helloKafkaService;\n  }\n  \n  @KafkaListener(\n      topics = &quot;my-topic&quot;,\n      groupId = &quot;my-topic:HelloKafkaListener&quot;)\n  public void process(ExampleEvent event) {\n    this.helloKafkaService.handleMessage(event);\n    log.info(&quot;Processing event: &quot; + event.getExampleField());\n  }\n}\n</code></pre>\n<p>My test HelloKafkaListenerTestIT.java:</p>\n<pre><code>@SpringBootTest\n@Testcontainers\npublic class HelloKafkaListenerTestIT {\n  \n  @Container\n  public static KafkaContainer kafkaContainer = new KafkaContainer(DockerImageName.parse(&quot;confluentinc/cp-kafka:7.0.5&quot;));\n  \n  @Mock\n  private HelloKafkaService helloKafkaService;\n  \n  @Autowired\n  private KafkaTemplate&lt;String, ExampleEvent&gt; kafkaTemplate;\n  \n  @DynamicPropertySource\n  static void kafkaProperties(DynamicPropertyRegistry registry) {\n    registry.add(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaContainer::getBootstrapServers);\n    registry.add(ProducerConfig.CLIENT_ID_CONFIG, () -&gt; &quot;test-id&quot;);\n    registry.add(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, () -&gt; StringSerializer.class.getName());\n    registry.add(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, () -&gt; KafkaAvroSerializer.class.getName());\n  }\n  \n  @BeforeEach\n  public void setUp() {\n    Serializer keySerializer;\n    Serializer valueSerializer;\n  \n    var avroConfig = Map.of(\n        KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;http://localhost:8081&quot;,\n        KafkaAvroSerializerConfig.AUTO_REGISTER_SCHEMAS, true,\n        KafkaAvroSerializerConfig.USE_LATEST_VERSION, true\n    );\n  \n    keySerializer = new StringSerializer();\n  \n    valueSerializer = new SpecificAvroSerializer&lt;ExampleEvent&gt;();\n    valueSerializer.configure(avroConfig, false);\n  \n    Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n    config.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaContainer.getBootstrapServers());\n    config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\n    config.put(ProducerConfig.CLIENT_ID_CONFIG, &quot;test-id&quot;);\n    config.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\n\n  \n    DefaultKafkaProducerFactory&lt;String, ExampleEvent&gt; producerFactory =\n        new DefaultKafkaProducerFactory&lt;&gt;(config, keySerializer, valueSerializer);\n    this.kafkaTemplate = new KafkaTemplate&lt;&gt;(producerFactory);\n \n  }\n  \n  static {\n    kafkaContainer.start();\n  }\n  \n  \n  @Test\n  public void helloKafkaListenerTest() {\n    ArgumentCaptor&lt;ExampleEvent&gt; captor = ArgumentCaptor.forClass(ExampleEvent.class);\n    ExampleEvent exampleEvent = new ExampleEvent(&quot;Hello World!&quot;);\n    // Confirmed this.kafkaTemplate.send works well\n    this.kafkaTemplate.send(&quot;my-topic&quot;, &quot;key&quot;, exampleEvent);\n    // Throw the error here:\n    verify(helloKafkaService, timeout(5000)).handleMessage(captor.capture());\n    assertNotNull(captor.getValue());\n    assertEquals(&quot;Hello World!&quot;, captor.getValue().getExampleField());\n  }\n  \n  @AfterAll\n  static void tearDown() {\n    kafkaContainer.stop();\n  }\n</code></pre>\n<p>event.avsc:</p>\n<pre><code>{\n  &quot;namespace&quot;: &quot;my.namespace&quot;,\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;ExampleEvent&quot;,\n  &quot;doc&quot;: &quot;A sample event&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;exampleField&quot;,\n      &quot;type&quot;: &quot;string&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Why can the consumer not be triggered, if using <code>@Mock</code> and <code>verify</code>? Is there a better idea to test this?</p>\n"},{"tags":["java","docker","automated-tests","playwright","alpine-linux"],"answers":[{"tags":[],"owner":{"account_id":23506,"reputation":7505,"user_id":58962,"accept_rate":65,"display_name":"Michael B&#246;ckling"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1677508592,"creation_date":1677508592,"answer_id":75581837,"question_id":75581790,"body_markdown":"In your Alpine image, install `nodejs` and `chromium` from Alpine repositories and set env vars that tell Playwright to use them instead of its own drivers:\r\n\r\n    echo &quot;https://dl-cdn.alpinelinux.org/alpine/edge/main&quot; &gt; /etc/apk/repositories \\\r\n        &amp;&amp; echo &quot;https://dl-cdn.alpinelinux.org/alpine/edge/community&quot; &gt;&gt; /etc/apk/repositories \\\r\n        &amp;&amp; echo &quot;https://dl-cdn.alpinelinux.org/alpine/edge/testing&quot; &gt;&gt; /etc/apk/repositories \\\r\n        &amp;&amp; echo &quot;https://dl-cdn.alpinelinux.org/alpine/v3.16/main&quot; &gt;&gt; /etc/apk/repositories \\\r\n        &amp;&amp; echo &quot;https://dl-cdn.alpinelinux.org/alpine/v3.16/community&quot; \\\r\n        &amp;&amp; apk upgrade -U -a \\\r\n        &amp;&amp; apk add \\\r\n        libstdc++ \\\r\n        chromium \\\r\n        harfbuzz \\\r\n        nss \\\r\n        freetype \\\r\n        ttf-freefont \\\r\n        font-noto-emoji \\\r\n        wqy-zenhei \\\r\n        nodejs \\\r\n        &amp;&amp; rm -rf /var/cache/* \\\r\n        &amp;&amp; mkdir /var/cache/apk\r\n    \r\n    export PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=1\r\n    export PLAYWRIGHT_CHROMIUM_EXECUTABLE_PATH=/usr/bin/chromium-browser\r\n    export PLAYWRIGHT_NODEJS_PATH=/usr/bin/node\r\n\r\nThen, in your Java or Kotlin code you have to handle the custom browser location yourself:\r\n\r\n    abstract class AbstractBrowserTest(private val headless: Boolean = true) {\r\n    \r\n        private val playwright: Playwright = Playwright.create()\r\n        private val browser: Browser = launchBrowser()\r\n    \r\n        private fun launchBrowser(): Browser {\r\n            val env = System.getenv(&quot;PLAYWRIGHT_CHROMIUM_EXECUTABLE_PATH&quot;)\r\n            return if (env != null &amp;&amp; env.isNotBlank()) {\r\n                playwright.chromium().launch(LaunchOptions().setHeadless(true).setExecutablePath(Paths.get(env)))\r\n            } else {\r\n                playwright.chromium().launch(LaunchOptions().setHeadless(headless))\r\n            }\r\n        }\r\n    }\r\n\r\nProps to https://github.com/fivemru/playwright-docker-alpine for inspiration!","title":"How to get Playwright browser tests running on Alpine Docker container?","body":"<p>In your Alpine image, install <code>nodejs</code> and <code>chromium</code> from Alpine repositories and set env vars that tell Playwright to use them instead of its own drivers:</p>\n<pre><code>echo &quot;https://dl-cdn.alpinelinux.org/alpine/edge/main&quot; &gt; /etc/apk/repositories \\\n    &amp;&amp; echo &quot;https://dl-cdn.alpinelinux.org/alpine/edge/community&quot; &gt;&gt; /etc/apk/repositories \\\n    &amp;&amp; echo &quot;https://dl-cdn.alpinelinux.org/alpine/edge/testing&quot; &gt;&gt; /etc/apk/repositories \\\n    &amp;&amp; echo &quot;https://dl-cdn.alpinelinux.org/alpine/v3.16/main&quot; &gt;&gt; /etc/apk/repositories \\\n    &amp;&amp; echo &quot;https://dl-cdn.alpinelinux.org/alpine/v3.16/community&quot; \\\n    &amp;&amp; apk upgrade -U -a \\\n    &amp;&amp; apk add \\\n    libstdc++ \\\n    chromium \\\n    harfbuzz \\\n    nss \\\n    freetype \\\n    ttf-freefont \\\n    font-noto-emoji \\\n    wqy-zenhei \\\n    nodejs \\\n    &amp;&amp; rm -rf /var/cache/* \\\n    &amp;&amp; mkdir /var/cache/apk\n\nexport PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=1\nexport PLAYWRIGHT_CHROMIUM_EXECUTABLE_PATH=/usr/bin/chromium-browser\nexport PLAYWRIGHT_NODEJS_PATH=/usr/bin/node\n</code></pre>\n<p>Then, in your Java or Kotlin code you have to handle the custom browser location yourself:</p>\n<pre><code>abstract class AbstractBrowserTest(private val headless: Boolean = true) {\n\n    private val playwright: Playwright = Playwright.create()\n    private val browser: Browser = launchBrowser()\n\n    private fun launchBrowser(): Browser {\n        val env = System.getenv(&quot;PLAYWRIGHT_CHROMIUM_EXECUTABLE_PATH&quot;)\n        return if (env != null &amp;&amp; env.isNotBlank()) {\n            playwright.chromium().launch(LaunchOptions().setHeadless(true).setExecutablePath(Paths.get(env)))\n        } else {\n            playwright.chromium().launch(LaunchOptions().setHeadless(headless))\n        }\n    }\n}\n</code></pre>\n<p>Props to <a href=\"https://github.com/fivemru/playwright-docker-alpine\" rel=\"noreferrer\">https://github.com/fivemru/playwright-docker-alpine</a> for inspiration!</p>\n"}],"owner":{"account_id":23506,"reputation":7505,"user_id":58962,"accept_rate":65,"display_name":"Michael B&#246;ckling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1701,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677508592,"creation_date":1677508285,"question_id":75581790,"body_markdown":"The Java drivers that come with Playwright don&#39;t work with Alpine, because they don&#39;t use statically linked MUSL builds.","title":"How to get Playwright browser tests running on Alpine Docker container?","body":"<p>The Java drivers that come with Playwright don't work with Alpine, because they don't use statically linked MUSL builds.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1677504397,"post_id":75581068,"comment_id":133344704,"body_markdown":"&quot;*not guaranteed to*&quot; does not mean &quot;*in the current implementation, does not*&quot;. It is probably the case that `findAny` will in practice take the first element, but you should not rely on it.","body":"&quot;<i>not guaranteed to</i>&quot; does not mean &quot;<i>in the current implementation, does not</i>&quot;. It is probably the case that <code>findAny</code> will in practice take the first element, but you should not rely on it."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1677504792,"post_id":75581068,"comment_id":133344838,"body_markdown":"&quot;*Is it something like Random class used*&quot; Probably not, because that would be hit to performance for no real reason. That said, some of the &quot;new&quot; immutable collections, e.g. `Map.of`, do basically do a random shuffling to make sure you&#39;re not dependent on iteration order. See https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ImmutableCollections.java#L53 so the idea of using randomness to strong-arm clients into respecting your (lack of) guarantees isn&#39;t without precedent.","body":"&quot;<i>Is it something like Random class used</i>&quot; Probably not, because that would be hit to performance for no real reason. That said, some of the &quot;new&quot; immutable collections, e.g. <code>Map.of</code>, do basically do a random shuffling to make sure you&#39;re not dependent on iteration order. See <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ImmutableCollections.java#L53\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/java.base/share/class&zwnj;&#8203;es/&hellip;</a> so the idea of using randomness to strong-arm clients into respecting your (lack of) guarantees isn&#39;t without precedent."}],"answers":[{"tags":[],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677506907,"creation_date":1677505509,"answer_id":75581283,"question_id":75581068,"body_markdown":"I think the findAny() javadoc answers both questions:\r\n\r\n&gt; Returns an Optional describing some element of the stream, or an empty Optional if the stream is empty.\r\nThis is a short-circuiting terminal operation.\r\n**The behavior of this operation is explicitly nondeterministic;** it is free to select any element in the stream. This is to allow for maximal performance in parallel operations; the cost is that multiple invocations on the same source may not return the same result. (If a stable result is desired, use findFirst() instead.)\r\n\r\n1- no, it is intentionally and explicitly nondeterministic, apparently for performance reasons and better parallel implementation.\r\n\r\n2- also no, if you&#39;re talking about `.parallelStream()` specifically, it&#39;s not that it finds all matches and picks one randomly. Realistically it stops after finding a match but must complete the processing of any part of the stream in other threads before exiting safely. [This answer](https://stackoverflow.com/a/52425269/13927534) explains the parallel behavior more thoroughly.\r\n\r\n","title":"How findAny() selects an element in Java stream?","body":"<p>I think the findAny() javadoc answers both questions:</p>\n<blockquote>\n<p>Returns an Optional describing some element of the stream, or an empty Optional if the stream is empty.\nThis is a short-circuiting terminal operation.\n<strong>The behavior of this operation is explicitly nondeterministic;</strong> it is free to select any element in the stream. This is to allow for maximal performance in parallel operations; the cost is that multiple invocations on the same source may not return the same result. (If a stable result is desired, use findFirst() instead.)</p>\n</blockquote>\n<p>1- no, it is intentionally and explicitly nondeterministic, apparently for performance reasons and better parallel implementation.</p>\n<p>2- also no, if you're talking about <code>.parallelStream()</code> specifically, it's not that it finds all matches and picks one randomly. Realistically it stops after finding a match but must complete the processing of any part of the stream in other threads before exiting safely. <a href=\"https://stackoverflow.com/a/52425269/13927534\">This answer</a> explains the parallel behavior more thoroughly.</p>\n"}],"owner":{"account_id":15903012,"reputation":191,"user_id":11521880,"display_name":"bridgemnc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75581283,"answer_count":1,"score":0,"last_activity_date":1677506907,"creation_date":1677504302,"question_id":75581068,"body_markdown":"I read in OCP 17 book that findAny on serial stream is not guaranteed to return first element and for parallelStream results are likely to be more random.  \r\n1. Can I somehow achieve such state in which findAny() on serial stream will return element that is not first? Is it possible to achieve this while using standard JDK implementation of the Stream classes? \r\n2. Is it something like Random class used to pick an element in case of findAny() for parallel stream?\r\n","title":"How findAny() selects an element in Java stream?","body":"<p>I read in OCP 17 book that findAny on serial stream is not guaranteed to return first element and for parallelStream results are likely to be more random.</p>\n<ol>\n<li>Can I somehow achieve such state in which findAny() on serial stream will return element that is not first? Is it possible to achieve this while using standard JDK implementation of the Stream classes?</li>\n<li>Is it something like Random class used to pick an element in case of findAny() for parallel stream?</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1677505910,"post_id":75581300,"comment_id":133345237,"body_markdown":"It&#39;s impossible to detect all instances of unreachable code, so the language specification has to spell out which cases cause an error and which do not.","body":"It&#39;s impossible to detect all instances of unreachable code, so the language specification has to spell out which cases cause an error and which do not."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1677506338,"post_id":75581300,"comment_id":133345369,"body_markdown":"BTW this question was certainly asked before... :- | e.g [Why does compiler recognize while(true) at compile time but not if(true)](https://stackoverflow.com/questions/30711897/why-does-compiler-recognize-whiletrue-at-compile-time-but-not-iftrue)","body":"BTW this question was certainly asked before... :- | e.g <a href=\"https://stackoverflow.com/questions/30711897/why-does-compiler-recognize-whiletrue-at-compile-time-but-not-iftrue\">Why does compiler recognize while(true) at compile time but not if(true)</a>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677506471,"post_id":75581300,"comment_id":133345411,"body_markdown":"@JohannKexel the question is about why this is **NOT** an &quot;unreachable code&quot; compilation error.","body":"@JohannKexel the question is about why this is <b>NOT</b> an &quot;unreachable code&quot; compilation error."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1677513116,"post_id":75581300,"comment_id":133347772,"body_markdown":"Does this answer your question? [Why Java identifies unreachable code only in case of while loop?](https://stackoverflow.com/questions/23977508/why-java-identifies-unreachable-code-only-in-case-of-while-loop)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23977508/why-java-identifies-unreachable-code-only-in-case-of-while-loop\">Why Java identifies unreachable code only in case of while loop?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677506031,"creation_date":1677506031,"answer_id":75581365,"question_id":75581300,"body_markdown":"It is practically speaking unreachable, but the Java language designers to decide to permit it to allow for the use of feature flags. So it&#39;s not considered &quot;unreachable&quot; for the purposes of throwing a compiler error, but for the purposes of the JIT compiler or something, it might get treated as if it were.\r\n\r\n[As per the JLS](https://docs.oracle.com/javase/specs/jls/se9/html/jls-14.html#jls-14.21)\r\n\r\n&gt; The rationale for this differing treatment is to allow programmers to\r\n&gt; define &quot;flag&quot; variables such as:\r\n&gt; \r\n&gt;     static final boolean DEBUG = false;\r\n&gt;\r\n&gt; and then write code such as:\r\n&gt; \r\n&gt;     if (DEBUG) { x=3; }\r\n&gt;\r\n&gt; The idea is that it should be possible to change\r\n&gt; the value of `DEBUG` from `false` to `true` or from `true` to `false` and then\r\n&gt; compile the code correctly with no other changes to the program text.","title":"Why this is not an unreachable statement for the Java compiler?","body":"<p>It is practically speaking unreachable, but the Java language designers to decide to permit it to allow for the use of feature flags. So it's not considered &quot;unreachable&quot; for the purposes of throwing a compiler error, but for the purposes of the JIT compiler or something, it might get treated as if it were.</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-14.html#jls-14.21\" rel=\"nofollow noreferrer\">As per the JLS</a></p>\n<blockquote>\n<p>The rationale for this differing treatment is to allow programmers to\ndefine &quot;flag&quot; variables such as:</p>\n<pre><code>static final boolean DEBUG = false;\n</code></pre>\n<p>and then write code such as:</p>\n<pre><code>if (DEBUG) { x=3; }\n</code></pre>\n<p>The idea is that it should be possible to change\nthe value of <code>DEBUG</code> from <code>false</code> to <code>true</code> or from <code>true</code> to <code>false</code> and then\ncompile the code correctly with no other changes to the program text.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677506034,"creation_date":1677506034,"answer_id":75581367,"question_id":75581300,"body_markdown":"Because `if (true)` and `if (false)` are a special case.  The compiler specifically allows them, by design, because often developers will want to temporarily enable or disable code.  Its kind of like Javas version of `#ifdef` in C.\r\n\r\nFrom [the Unreachable Statements section](https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.22) of the Java Language Specification:\r\n\r\n&gt;the superficially similar case:\r\n&gt;\r\n&gt;     if (false) { x=3; }\r\n&gt;\r\n&gt;does not result in a compile-time error. An optimizing compiler may realize that the statement x=3; will never be executed and may choose to omit the code for that statement from the generated class file, but the statement x=3; is not regarded as &quot;unreachable&quot; in the technical sense specified here.\r\n&gt;\r\n&gt;The rationale for this differing treatment is to allow programmers to define &quot;flag&quot; variables such as:\r\n&gt;\r\n&gt;     static final boolean DEBUG = false;\r\n&gt;\r\n&gt;and then write code such as:\r\n&gt;\r\n&gt;     if (DEBUG) { x=3; }\r\n&gt;\r\n&gt;The idea is that it should be possible to change the value of DEBUG from false to true or from true to false and then compile the code correctly with no other changes to the program text. \r\n","title":"Why this is not an unreachable statement for the Java compiler?","body":"<p>Because <code>if (true)</code> and <code>if (false)</code> are a special case.  The compiler specifically allows them, by design, because often developers will want to temporarily enable or disable code.  Its kind of like Javas version of <code>#ifdef</code> in C.</p>\n<p>From <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.22\" rel=\"nofollow noreferrer\">the Unreachable Statements section</a> of the Java Language Specification:</p>\n<blockquote>\n<p>the superficially similar case:</p>\n<pre><code>if (false) { x=3; }\n</code></pre>\n<p>does not result in a compile-time error. An optimizing compiler may realize that the statement x=3; will never be executed and may choose to omit the code for that statement from the generated class file, but the statement x=3; is not regarded as &quot;unreachable&quot; in the technical sense specified here.</p>\n<p>The rationale for this differing treatment is to allow programmers to define &quot;flag&quot; variables such as:</p>\n<pre><code>static final boolean DEBUG = false;\n</code></pre>\n<p>and then write code such as:</p>\n<pre><code>if (DEBUG) { x=3; }\n</code></pre>\n<p>The idea is that it should be possible to change the value of DEBUG from false to true or from true to false and then compile the code correctly with no other changes to the program text.</p>\n</blockquote>\n"}],"owner":{"account_id":27891215,"reputation":13,"user_id":21297550,"display_name":"Peter Orgovan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75581365,"answer_count":2,"score":0,"last_activity_date":1677506345,"creation_date":1677505587,"question_id":75581300,"body_markdown":"\r\n```\r\npublic class Main\r\n{\r\n    static String test(){\r\n\t\t if(true){\r\n\t\t     return &quot;true&quot;;\r\n\t\t }\r\n\t\t else{\r\n\t\t     return &quot;false&quot;;\t// Why this is not an unreachable code?\r\n\t\t }\r\n\t }\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(test());\r\n\t}\r\n}\r\n```\r\n\r\nI tried to compile this code example and was expecting an &quot;unreachable code&quot; compiler error. Why doesn&#39;t that happen?","title":"Why this is not an unreachable statement for the Java compiler?","body":"<pre><code>public class Main\n{\n    static String test(){\n         if(true){\n             return &quot;true&quot;;\n         }\n         else{\n             return &quot;false&quot;;    // Why this is not an unreachable code?\n         }\n     }\n    public static void main(String[] args) {\n        System.out.println(test());\n    }\n}\n</code></pre>\n<p>I tried to compile this code example and was expecting an &quot;unreachable code&quot; compiler error. Why doesn't that happen?</p>\n"},{"tags":["java","jpa","playframework"],"owner":{"account_id":26925944,"reputation":13,"user_id":20499242,"display_name":"Ciube"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677506035,"creation_date":1677506035,"question_id":75581368,"body_markdown":"In my controller I have this named query:\r\n\r\n```\r\n        List result = JPAEntityManager.createNamedNativeQuery(&quot;findUserUpdateByID&quot;).setParameter(&quot;userId&quot;,userId).getResultList();\r\n```\r\n\r\nIn my User Entity I have declared this named native query in this way:\r\n\r\n```\r\n        @NamedNativeQuery(\r\n                name = &quot;findUserUpdateByID&quot;,\r\n                query = &quot;select update from user_table where user_id = :userId; &quot;)\r\n```\r\n\r\nSo all others query works properly, but only for this I receive this error:\r\n\r\nplay.api.Application$$anon$1: Execution exception[[IllegalArgumentException: Parameter with that name [userId] did not exist]]\r\n        at play.api.Application$class.handleError(Application.scala:296) ~[play_2.11-2.3.10.jar:2.3.10]\r\n\r\nHow is it possible? In the user_table the field is named as user_id and I have a lot of query that works properly...\r\n\r\n\r\nI tried different query sintax approach, with or not with parameter... Works wituout parameters but with the param stil not works","title":"play framework jpa namednative query Parameter with that name [userId] did not exist]]","body":"<p>In my controller I have this named query:</p>\n<pre><code>        List result = JPAEntityManager.createNamedNativeQuery(&quot;findUserUpdateByID&quot;).setParameter(&quot;userId&quot;,userId).getResultList();\n</code></pre>\n<p>In my User Entity I have declared this named native query in this way:</p>\n<pre><code>        @NamedNativeQuery(\n                name = &quot;findUserUpdateByID&quot;,\n                query = &quot;select update from user_table where user_id = :userId; &quot;)\n</code></pre>\n<p>So all others query works properly, but only for this I receive this error:</p>\n<p>play.api.Application$$anon$1: Execution exception[[IllegalArgumentException: Parameter with that name [userId] did not exist]]\nat play.api.Application$class.handleError(Application.scala:296) ~[play_2.11-2.3.10.jar:2.3.10]</p>\n<p>How is it possible? In the user_table the field is named as user_id and I have a lot of query that works properly...</p>\n<p>I tried different query sintax approach, with or not with parameter... Works wituout parameters but with the param stil not works</p>\n"},{"tags":["java","amazon-dynamodb"],"comments":[{"owner":{"account_id":12262,"reputation":103374,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"score":1,"creation_date":1637149040,"post_id":70002644,"comment_id":123746699,"body_markdown":"Create table if not exists isn&#39;t supported by DynamoDB, if this is what you are asking for. See https://stackoverflow.com/questions/37330575/dynamodb-createtable-if-not-exists for some options.","body":"Create table if not exists isn&#39;t supported by DynamoDB, if this is what you are asking for. See <a href=\"https://stackoverflow.com/questions/37330575/dynamodb-createtable-if-not-exists\" title=\"dynamodb createtable if not exists\">stackoverflow.com/questions/37330575/&hellip;</a> for some options."},{"owner":{"account_id":20168591,"reputation":58,"user_id":14791907,"display_name":"Grigor"},"score":0,"creation_date":1637149894,"post_id":70002644,"comment_id":123747015,"body_markdown":"https://stackoverflow.com/users/24054/kgiannakakis.     No for example when I use postgreSql I use migartion with sql to keep orders like delete update etc,I want to do the same with dynamodb","body":"<a href=\"https://stackoverflow.com/users/24054/kgiannakakis\">stackoverflow.com/users/24054/kgiannakakis</a>.     No for example when I use postgreSql I use migartion with sql to keep orders like delete update etc,I want to do the same with dynamodb"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637268408,"creation_date":1637268408,"answer_id":70026544,"question_id":70002644,"body_markdown":"DynamoDB is a NoSQL database, meaning you are out of luck if you want a simple query language to interact with it.\r\n\r\nSee reference: https://stackoverflow.com/questions/68194113/automating-dynamodb-scripts\r\n\r\nNow there might be good news, (If you know `Javascript`) :)\r\n\r\n`DynamoDB` offers a simple `SDK` for `Javascript`, that you could create an `xyz.js JavaScript` file, and run this script using `node`\r\n\r\nExample for Adding Entries:\r\n\r\n    // Load the AWS SDK for Node.js\r\n    var AWS = require(&#39;aws-sdk&#39;);\r\n    // Load credentials and set Region from JSON file\r\n    AWS.config.loadFromPath(&#39;./config.json&#39;);\r\n    \r\n    // Create DynamoDB service object\r\n    var ddb = new AWS.DynamoDB({apiVersion: &#39;2012-08-10&#39;});\r\n    \r\n    var myTable = &#39;TABLE_NAME&#39;;\r\n    \r\n    // Add the four results for spades\r\n    var params = {\r\n      TableName: myTable,\r\n      Item: {&#39;slotPosition&#39; : {N: &#39;0&#39;}, &#39;imageFile&#39; : {S: &#39;spad_a.png&#39;}\r\n      }\r\n    };\r\n    post();\r\n    \r\n    var params = {\r\n      TableName: myTable,\r\n      Item: {&#39;slotPosition&#39; : {N: &#39;1&#39;}, &#39;imageFile&#39; : {S: &#39;spad_k.png&#39;}\r\n      }\r\n    };\r\n    post();\r\n    \r\n    var params = {\r\n      TableName: myTable,\r\n      Item: {&#39;slotPosition&#39; : {N: &#39;2&#39;}, &#39;imageFile&#39; : {S: &#39;spad_q.png&#39;}\r\n      }\r\n    };\r\n    post();\r\n    \r\n    var params = {\r\n      TableName: myTable,\r\n      Item: {&#39;slotPosition&#39; : {N: &#39;3&#39;}, &#39;imageFile&#39; : {S: &#39;spad_j.png&#39;}\r\n      }\r\n    };\r\n    post();\r\n    \r\n    // Add the four results for hearts\r\n    .\r\n    .\r\n    .\r\n    \r\n    // Add the four results for diamonds\r\n    .\r\n    .\r\n    .\r\n    \r\n    // Add the four results for clubs\r\n    var params = {\r\n      TableName: myTable,\r\n      Item: {&#39;slotPosition&#39; : {N: &#39;12&#39;}, &#39;imageFile&#39; : {S: &#39;club_a.png&#39;}\r\n      }\r\n    };\r\n    post();\r\n    \r\n    var params = {\r\n      TableName: myTable,\r\n      Item: {&#39;slotPosition&#39; : {N: &#39;13&#39;}, &#39;imageFile&#39; : {S: &#39;club_k.png&#39;}\r\n      }\r\n    };\r\n    post();\r\n    \r\n    var params = {\r\n      TableName: myTable,\r\n      Item: {&#39;slotPosition&#39; : {N: &#39;14&#39;}, &#39;imageFile&#39; : {S: &#39;club_q.png&#39;}\r\n      }\r\n    };\r\n    post();\r\n    \r\n    var params = {\r\n      TableName: myTable,\r\n      Item: {&#39;slotPosition&#39; : {N: &#39;15&#39;}, &#39;imageFile&#39; : {S: &#39;club_j.png&#39;}\r\n      }\r\n    };\r\n    post();\r\n    \r\n    \r\n    function post () {\r\n      ddb.putItem(params, function(err, data) {\r\n        if (err) {\r\n          console.log(&quot;Error&quot;, err);\r\n        } else {\r\n          console.log(&quot;Success&quot;, data);\r\n        }\r\n      });\r\n    }\r\n\r\nFor reference: https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/using-lambda-ddb-setup.html","title":"How to perform DynamoDB table creation and updates with script similar to PostgreSQL migrations?","body":"<p>DynamoDB is a NoSQL database, meaning you are out of luck if you want a simple query language to interact with it.</p>\n<p>See reference: <a href=\"https://stackoverflow.com/questions/68194113/automating-dynamodb-scripts\">Automating dynamodb scripts</a></p>\n<p>Now there might be good news, (If you know <code>Javascript</code>) :)</p>\n<p><code>DynamoDB</code> offers a simple <code>SDK</code> for <code>Javascript</code>, that you could create an <code>xyz.js JavaScript</code> file, and run this script using <code>node</code></p>\n<p>Example for Adding Entries:</p>\n<pre><code>// Load the AWS SDK for Node.js\nvar AWS = require('aws-sdk');\n// Load credentials and set Region from JSON file\nAWS.config.loadFromPath('./config.json');\n\n// Create DynamoDB service object\nvar ddb = new AWS.DynamoDB({apiVersion: '2012-08-10'});\n\nvar myTable = 'TABLE_NAME';\n\n// Add the four results for spades\nvar params = {\n  TableName: myTable,\n  Item: {'slotPosition' : {N: '0'}, 'imageFile' : {S: 'spad_a.png'}\n  }\n};\npost();\n\nvar params = {\n  TableName: myTable,\n  Item: {'slotPosition' : {N: '1'}, 'imageFile' : {S: 'spad_k.png'}\n  }\n};\npost();\n\nvar params = {\n  TableName: myTable,\n  Item: {'slotPosition' : {N: '2'}, 'imageFile' : {S: 'spad_q.png'}\n  }\n};\npost();\n\nvar params = {\n  TableName: myTable,\n  Item: {'slotPosition' : {N: '3'}, 'imageFile' : {S: 'spad_j.png'}\n  }\n};\npost();\n\n// Add the four results for hearts\n.\n.\n.\n\n// Add the four results for diamonds\n.\n.\n.\n\n// Add the four results for clubs\nvar params = {\n  TableName: myTable,\n  Item: {'slotPosition' : {N: '12'}, 'imageFile' : {S: 'club_a.png'}\n  }\n};\npost();\n\nvar params = {\n  TableName: myTable,\n  Item: {'slotPosition' : {N: '13'}, 'imageFile' : {S: 'club_k.png'}\n  }\n};\npost();\n\nvar params = {\n  TableName: myTable,\n  Item: {'slotPosition' : {N: '14'}, 'imageFile' : {S: 'club_q.png'}\n  }\n};\npost();\n\nvar params = {\n  TableName: myTable,\n  Item: {'slotPosition' : {N: '15'}, 'imageFile' : {S: 'club_j.png'}\n  }\n};\npost();\n\n\nfunction post () {\n  ddb.putItem(params, function(err, data) {\n    if (err) {\n      console.log(&quot;Error&quot;, err);\n    } else {\n      console.log(&quot;Success&quot;, data);\n    }\n  });\n}\n</code></pre>\n<p>For reference: <a href=\"https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/using-lambda-ddb-setup.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/using-lambda-ddb-setup.html</a></p>\n"}],"owner":{"account_id":20168591,"reputation":58,"user_id":14791907,"display_name":"Grigor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":791,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70026544,"answer_count":1,"score":1,"last_activity_date":1677505961,"creation_date":1637144757,"question_id":70002644,"body_markdown":"&lt;h1&gt;DynamoDB&lt;/h1&gt;  \r\n\r\n     ArrayList&lt;AttributeDefinition&gt; attributeDefinitions = new \r\n            ArrayList&lt;&gt;();\r\n            attributeDefinitions.add(new AttributeDefinition()\r\n                        .withAttributeName(&quot;ID&quot;).withAttributeType(&quot;S&quot;));\r\n         \r\n           ArrayList&lt;KeySchemaElement&gt; keySchema = new ArrayList&lt;&gt;();\r\n           keySchema.add(new KeySchemaElement()\r\n                        .withAttributeName(&quot;ID&quot;).withKeyType(KeyType.HASH));\r\n         \r\n           CreateTableRequest createTableReq = new CreateTableRequest()\r\n                        .withTableName(&quot;Product&quot;)\r\n                        .withAttributeDefinitions(attributeDefinitions)\r\n                        .withKeySchema(keySchema)\r\n                        .withProvisionedThroughput(new \r\n                         ProvisionedThroughput()\r\n                                .withReadCapacityUnits(10L)\r\n                                .withWriteCapacityUnits(5L));\r\n           CreateTableResult result =  dynamodb.createTable(createTableReq);\r\n           System.out.println(result.toString());\r\n\r\n&gt; If I want to create a table like this where can I put this code to work just once, is there any migration script tool or something like that?\r\n\r\n","title":"How to perform DynamoDB table creation and updates with script similar to PostgreSQL migrations?","body":"<h1>DynamoDB</h1>  \n<pre><code> ArrayList&lt;AttributeDefinition&gt; attributeDefinitions = new \n        ArrayList&lt;&gt;();\n        attributeDefinitions.add(new AttributeDefinition()\n                    .withAttributeName(&quot;ID&quot;).withAttributeType(&quot;S&quot;));\n     \n       ArrayList&lt;KeySchemaElement&gt; keySchema = new ArrayList&lt;&gt;();\n       keySchema.add(new KeySchemaElement()\n                    .withAttributeName(&quot;ID&quot;).withKeyType(KeyType.HASH));\n     \n       CreateTableRequest createTableReq = new CreateTableRequest()\n                    .withTableName(&quot;Product&quot;)\n                    .withAttributeDefinitions(attributeDefinitions)\n                    .withKeySchema(keySchema)\n                    .withProvisionedThroughput(new \n                     ProvisionedThroughput()\n                            .withReadCapacityUnits(10L)\n                            .withWriteCapacityUnits(5L));\n       CreateTableResult result =  dynamodb.createTable(createTableReq);\n       System.out.println(result.toString());\n</code></pre>\n<blockquote>\n<p>If I want to create a table like this where can I put this code to work just once, is there any migration script tool or something like that?</p>\n</blockquote>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1597081057,"post_id":63345226,"comment_id":112011262,"body_markdown":"Hmm, I am not sure whether you don&#39;t actually want to start your net beans from cmd, i.e. the other way around. Please confirm or deny, with reason.","body":"Hmm, I am not sure whether you don&#39;t actually want to start your net beans from cmd, i.e. the other way around. Please confirm or deny, with reason."},{"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"score":0,"creation_date":1677252350,"post_id":63345226,"comment_id":133306895,"body_markdown":"You can do `Runtime.getRuntime().exec(&quot;&quot;);`. Or if you want to run multiple times you can do `Runtime rn = Runtime.getRuntime(); rn.exec(&quot;&quot;);` ...(and so on). The runtime class is present in the `java.awt` package.","body":"You can do <code>Runtime.getRuntime().exec(&quot;&quot;);</code>. Or if you want to run multiple times you can do <code>Runtime rn = Runtime.getRuntime(); rn.exec(&quot;&quot;);</code> ...(and so on). The runtime class is present in the <code>java.awt</code> package."}],"answers":[{"tags":[],"owner":{"account_id":2758758,"reputation":813,"user_id":2376087,"display_name":"sercheo_87"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677505705,"creation_date":1597081292,"answer_id":63345307,"question_id":63345226,"body_markdown":"Use **ProcessBuilder** to execute commands on the OS. Please see this example on [How to execute a shell command from Java][1]. \r\n\r\n\r\n  [1]: https://mkyong.com/java/how-to-execute-shell-command-from-java/","title":"Open Cmd with a jar file and execute the program","body":"<p>Use <strong>ProcessBuilder</strong> to execute commands on the OS. Please see this example on <a href=\"https://mkyong.com/java/how-to-execute-shell-command-from-java/\" rel=\"nofollow noreferrer\">How to execute a shell command from Java</a>.</p>\n"}],"owner":{"account_id":18771222,"reputation":175,"user_id":13687989,"display_name":"Holis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677505705,"creation_date":1597080923,"question_id":63345226,"body_markdown":"Hi I want to open mi cmd program from the jar file of NetBeans\r\n\r\nWe will call the program &quot;Super_Program&quot;. The program should be run on the cmd but I have a jar file so how can I open cmd from a code in the jar file that also executes it","title":"Open Cmd with a jar file and execute the program","body":"<p>Hi I want to open mi cmd program from the jar file of NetBeans</p>\n<p>We will call the program &quot;Super_Program&quot;. The program should be run on the cmd but I have a jar file so how can I open cmd from a code in the jar file that also executes it</p>\n"},{"tags":["java","spring-boot","swagger","http-post"],"answers":[{"tags":[],"owner":{"account_id":17627308,"reputation":76,"user_id":12792134,"display_name":"Lucca Biagi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677346338,"creation_date":1677346338,"answer_id":75567194,"question_id":75566954,"body_markdown":"I think that the problem here is your RequestBody import. It is using the one from swagger, not from spring! \r\nIt should be\r\n\r\n    org.springframework.web.bind.annotation.RequestBody;\r\n\r\nAnd if I may, I&#39;d suggest you to change from [springfox to springdoc][1] as there is [some good things about this change.][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-rest-openapi-documentation\r\n  [2]: https://stackoverflow.com/questions/72479827/are-there-any-advantages-of-using-migrating-to-springdoc-openapi-from-springfox","title":"My @RequestBody returns my object with null variables","body":"<p>I think that the problem here is your RequestBody import. It is using the one from swagger, not from spring!\nIt should be</p>\n<pre><code>org.springframework.web.bind.annotation.RequestBody;\n</code></pre>\n<p>And if I may, I'd suggest you to change from <a href=\"https://www.baeldung.com/spring-rest-openapi-documentation\" rel=\"nofollow noreferrer\">springfox to springdoc</a> as there is <a href=\"https://stackoverflow.com/questions/72479827/are-there-any-advantages-of-using-migrating-to-springdoc-openapi-from-springfox\">some good things about this change.</a></p>\n"}],"owner":{"account_id":27878074,"reputation":13,"user_id":21287171,"display_name":"user21287171"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75567194,"answer_count":1,"score":1,"last_activity_date":1677505645,"creation_date":1677343981,"question_id":75566954,"body_markdown":"I&#39;m currently doing a backend service in Java and Springboot allowing to create users in a MongoDB database. I use Swagger to make it easier to test my queries. Currently, I have a UserController that allows to create a user in my database.\r\n\r\nUserController:\r\n\r\n```\r\npackage demomongo;\r\n\r\nimport org.springframework.data.mongodb.core.MongoTemplate;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport io.swagger.v3.oas.annotations.parameters.RequestBody;\r\n\r\n@RestController@RequestMapping(&quot;/api/users&quot;)\r\npublic class UserController {\r\n\r\nprivate final MongoTemplate mongoTemplate;\r\n\r\npublic UserController(MongoTemplate mongoTemplate) {\r\n\tthis.mongoTemplate = mongoTemplate;\r\n}\r\n\r\n@RequestMapping(value = &quot;/createUser&quot;, headers = {\r\n\t\t&quot;content-type=application/json&quot; }, consumes = MediaType.APPLICATION_JSON_VALUE, method = RequestMethod.POST)\r\npublic ResponseEntity&lt;UserToto&gt; createUser(@RequestBody UserToto user) {\r\n\t// Sauvegarde l&#39;utilisateur dans la base de donn&#233;es\r\n\tmongoTemplate.save(user, &quot;users&quot;);\r\n\r\n\t// Retourne l&#39;utilisateur sauvegard&#233; avec le code de statut 201 (Created)\r\n\tResponseEntity&lt;UserToto&gt; responseEntity = ResponseEntity.status(HttpStatus.CREATED).body(user);\r\n\treturn responseEntity;\r\n}\r\n}\r\n```\r\n\r\nAll the information I provide is lost in the @RequestBody.\r\n\r\nThis is my User class:\r\n\r\n```\r\npackage demomongo;\r\n\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\nimport org.springframework.data.mongodb.core.mapping.Field;\r\n\r\n@Document(collection = &quot;users&quot;)\r\npublic class UserToto {\r\n\r\n\t@Id\r\n\tpublic String id;\r\n\r\n\t@Field(&quot;username&quot;)\r\n\tpublic String username;\r\n\r\n\t@Field(&quot;password&quot;)\r\n\tpublic String password;\r\n\r\n\t@Field(&quot;email&quot;)\r\n\tpublic String email;\r\n\r\n\t@Field(&quot;role&quot;)\r\n\tpublic ERole role;\r\n\r\n\tpublic UserToto() {\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\tpublic UserToto(String username, String password, String email, ERole role) {\r\n\t\tthis.username = username;\r\n\t\tthis.password = password;\r\n\t\tthis.email = email;\r\n\t\tthis.role = role;\r\n\t}\r\n\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic ERole getRole() {\r\n\t\treturn role;\r\n\t}\r\n\r\n\tpublic void setRole(ERole role) {\r\n\t\tthis.role = role;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd I see this when I run a query in the console (I am in debug) :\r\n\r\n```\r\n\r\nCookie: _ga=GA1.1.1509338151.1640108306; _ga_635PSCWLD2=GS1.1.1640358628.4.1.1640361429.0\r\n\r\n{\r\n  &quot;id&quot;: &quot;string&quot;,\r\n  &quot;username&quot;: &quot;qqzqdqz&quot;,\r\n  &quot;password&quot;: &quot;qqzsqz&quot;,\r\n  &quot;email&quot;: &quot;string&quot;,\r\n  &quot;role&quot;: &quot;ADMIN&quot;\r\n}]\r\n2023-02-25 17:48:34.000 DEBUG 3176 --- [nio-8080-exec-3] o.a.t.util.http.Rfc6265CookieProcessor   : Cookies: Parsing b[]: _ga=GA1.1.1509338151.1640108306; _ga_635PSCWLD2=GS1.1.1640358628.4.1.1640361429.0\r\n2023-02-25 17:48:34.000 DEBUG 3176 --- [nio-8080-exec-3] o.a.c.authenticator.AuthenticatorBase    : Security checking request POST /api/users/createUser\r\n2023-02-25 17:48:34.000 DEBUG 3176 --- [nio-8080-exec-3] org.apache.catalina.realm.RealmBase      :   No applicable constraints defined\r\n2023-02-25 17:48:34.000 DEBUG 3176 --- [nio-8080-exec-3] o.a.c.authenticator.AuthenticatorBase    : Not subject to any constraint\r\n2023-02-25 17:48:34.001 DEBUG 3176 --- [nio-8080-exec-3] org.apache.tomcat.util.http.Parameters   : Set encoding to UTF-8\r\n2023-02-25 17:48:34.001 DEBUG 3176 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST &quot;/api/users/createUser&quot;, parameters={}\r\n2023-02-25 17:48:34.001 DEBUG 3176 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to demomongo.UserController#createUser(UserToto)\r\n2023-02-25 17:48:34.002 DEBUG 3176 --- [nio-8080-exec-3] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_class]\r\n2023-02-25 17:48:34.002 DEBUG 3176 --- [nio-8080-exec-3] org.mongodb.driver.operation             : retryWrites set to true but the server is a standalone server.\r\n2023-02-25 17:48:34.003 DEBUG 3176 --- [nio-8080-exec-3] org.mongodb.driver.protocol.command      : Sending command &#39;{&quot;insert&quot;: &quot;users&quot;, &quot;ordered&quot;: true, &quot;$db&quot;: &quot;local&quot;, &quot;lsid&quot;: {&quot;id&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;ZqkevgwVRNW11lq6aFInlg==&quot;, &quot;subType&quot;: &quot;04&quot;}}}, &quot;documents&quot;: [{&quot;_id&quot;: {&quot;$oid&quot;: &quot;63fa3be2d71e155ac3ed737a&quot;}, &quot;_class&quot;: &quot;demomongo.UserToto&quot;}]}&#39; with request id 130 to database local on connection [connectionId{localValue:3, serverValue:361}] to server localhost:27017\r\n2023-02-25 17:48:34.003 DEBUG 3176 --- [nio-8080-exec-3] org.mongodb.driver.protocol.command      : Execution of command with request id 130 completed successfully in 1.03 ms on connection [connectionId{localValue:3, serverValue:361}] to server localhost:27017\r\n2023-02-25 17:48:34.004 DEBUG 3176 --- [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using &#39;application/json&#39;, given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]\r\n2023-02-25 17:48:34.004 DEBUG 3176 --- [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [demomongo.UserToto@446d6913]\r\n2023-02-25 17:48:34.005 DEBUG 3176 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED\r\n2023-02-25 17:48:34.006 DEBUG 3176 --- [nio-8080-exec-3] o.a.coyote.http11.Http11InputBuffer      : Before fill(): \r\n```\r\n\r\nHere is my POM and my Run class :\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;demomongo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demomongo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;springfox.version&gt;3.0.0&lt;/springfox.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;${springfox.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;${springfox.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n```\r\npackage demomongo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n@EnableSwagger2\r\n@SpringBootApplication\r\npublic class Run implements CommandLineRunner {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Run.class, args);\r\n\t}\r\n\r\n\tpublic void run(String... args) throws Exception {\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI hope I was clear enough... thanks to all","title":"My @RequestBody returns my object with null variables","body":"<p>I'm currently doing a backend service in Java and Springboot allowing to create users in a MongoDB database. I use Swagger to make it easier to test my queries. Currently, I have a UserController that allows to create a user in my database.</p>\n<p>UserController:</p>\n<pre><code>package demomongo;\n\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\nimport io.swagger.v3.oas.annotations.parameters.RequestBody;\n\n@RestController@RequestMapping(&quot;/api/users&quot;)\npublic class UserController {\n\nprivate final MongoTemplate mongoTemplate;\n\npublic UserController(MongoTemplate mongoTemplate) {\n    this.mongoTemplate = mongoTemplate;\n}\n\n@RequestMapping(value = &quot;/createUser&quot;, headers = {\n        &quot;content-type=application/json&quot; }, consumes = MediaType.APPLICATION_JSON_VALUE, method = RequestMethod.POST)\npublic ResponseEntity&lt;UserToto&gt; createUser(@RequestBody UserToto user) {\n    // Sauvegarde l'utilisateur dans la base de donnes\n    mongoTemplate.save(user, &quot;users&quot;);\n\n    // Retourne l'utilisateur sauvegard avec le code de statut 201 (Created)\n    ResponseEntity&lt;UserToto&gt; responseEntity = ResponseEntity.status(HttpStatus.CREATED).body(user);\n    return responseEntity;\n}\n}\n</code></pre>\n<p>All the information I provide is lost in the @RequestBody.</p>\n<p>This is my User class:</p>\n<pre><code>package demomongo;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\nimport org.springframework.data.mongodb.core.mapping.Field;\n\n@Document(collection = &quot;users&quot;)\npublic class UserToto {\n\n    @Id\n    public String id;\n\n    @Field(&quot;username&quot;)\n    public String username;\n\n    @Field(&quot;password&quot;)\n    public String password;\n\n    @Field(&quot;email&quot;)\n    public String email;\n\n    @Field(&quot;role&quot;)\n    public ERole role;\n\n    public UserToto() {\n        // TODO Auto-generated constructor stub\n    }\n\n    public UserToto(String username, String password, String email, ERole role) {\n        this.username = username;\n        this.password = password;\n        this.email = email;\n        this.role = role;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public ERole getRole() {\n        return role;\n    }\n\n    public void setRole(ERole role) {\n        this.role = role;\n    }\n\n}\n</code></pre>\n<p>And I see this when I run a query in the console (I am in debug) :</p>\n<pre><code>\nCookie: _ga=GA1.1.1509338151.1640108306; _ga_635PSCWLD2=GS1.1.1640358628.4.1.1640361429.0\n\n{\n  &quot;id&quot;: &quot;string&quot;,\n  &quot;username&quot;: &quot;qqzqdqz&quot;,\n  &quot;password&quot;: &quot;qqzsqz&quot;,\n  &quot;email&quot;: &quot;string&quot;,\n  &quot;role&quot;: &quot;ADMIN&quot;\n}]\n2023-02-25 17:48:34.000 DEBUG 3176 --- [nio-8080-exec-3] o.a.t.util.http.Rfc6265CookieProcessor   : Cookies: Parsing b[]: _ga=GA1.1.1509338151.1640108306; _ga_635PSCWLD2=GS1.1.1640358628.4.1.1640361429.0\n2023-02-25 17:48:34.000 DEBUG 3176 --- [nio-8080-exec-3] o.a.c.authenticator.AuthenticatorBase    : Security checking request POST /api/users/createUser\n2023-02-25 17:48:34.000 DEBUG 3176 --- [nio-8080-exec-3] org.apache.catalina.realm.RealmBase      :   No applicable constraints defined\n2023-02-25 17:48:34.000 DEBUG 3176 --- [nio-8080-exec-3] o.a.c.authenticator.AuthenticatorBase    : Not subject to any constraint\n2023-02-25 17:48:34.001 DEBUG 3176 --- [nio-8080-exec-3] org.apache.tomcat.util.http.Parameters   : Set encoding to UTF-8\n2023-02-25 17:48:34.001 DEBUG 3176 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST &quot;/api/users/createUser&quot;, parameters={}\n2023-02-25 17:48:34.001 DEBUG 3176 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to demomongo.UserController#createUser(UserToto)\n2023-02-25 17:48:34.002 DEBUG 3176 --- [nio-8080-exec-3] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [_class]\n2023-02-25 17:48:34.002 DEBUG 3176 --- [nio-8080-exec-3] org.mongodb.driver.operation             : retryWrites set to true but the server is a standalone server.\n2023-02-25 17:48:34.003 DEBUG 3176 --- [nio-8080-exec-3] org.mongodb.driver.protocol.command      : Sending command '{&quot;insert&quot;: &quot;users&quot;, &quot;ordered&quot;: true, &quot;$db&quot;: &quot;local&quot;, &quot;lsid&quot;: {&quot;id&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;ZqkevgwVRNW11lq6aFInlg==&quot;, &quot;subType&quot;: &quot;04&quot;}}}, &quot;documents&quot;: [{&quot;_id&quot;: {&quot;$oid&quot;: &quot;63fa3be2d71e155ac3ed737a&quot;}, &quot;_class&quot;: &quot;demomongo.UserToto&quot;}]}' with request id 130 to database local on connection [connectionId{localValue:3, serverValue:361}] to server localhost:27017\n2023-02-25 17:48:34.003 DEBUG 3176 --- [nio-8080-exec-3] org.mongodb.driver.protocol.command      : Execution of command with request id 130 completed successfully in 1.03 ms on connection [connectionId{localValue:3, serverValue:361}] to server localhost:27017\n2023-02-25 17:48:34.004 DEBUG 3176 --- [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]\n2023-02-25 17:48:34.004 DEBUG 3176 --- [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [demomongo.UserToto@446d6913]\n2023-02-25 17:48:34.005 DEBUG 3176 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED\n2023-02-25 17:48:34.006 DEBUG 3176 --- [nio-8080-exec-3] o.a.coyote.http11.Http11InputBuffer      : Before fill(): \n</code></pre>\n<p>Here is my POM and my Run class :</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;demomongo&lt;/groupId&gt;\n    &lt;artifactId&gt;demomongo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;springfox.version&gt;3.0.0&lt;/springfox.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${springfox.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${springfox.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<pre><code>package demomongo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@EnableSwagger2\n@SpringBootApplication\npublic class Run implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Run.class, args);\n    }\n\n    public void run(String... args) throws Exception {\n\n    }\n\n}\n</code></pre>\n<p>I hope I was clear enough... thanks to all</p>\n"},{"tags":["java","android","android-intent","android-activity"],"owner":{"account_id":27891163,"reputation":1,"user_id":21297506,"display_name":"JefferyC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677505422,"creation_date":1677505329,"question_id":75581258,"body_markdown":"On Android Version 4.4.2:\r\n\r\nI have this code inside an `onResume()` method.\r\n```\r\n\r\n      if (paid) {\r\n            Intent intent = new Intent(this, EventsActivity.class);\r\n            startActivity(intent);\r\n       } \r\n```\r\n\r\nI am calling this from the `ProductsActivity.class`,and there already exists an instance/task of the EventsActivity.\r\n\r\n`ProductsActivity` and `EventsActivity` are both `singleInstance`.\r\n\r\nNothing happens when this part of the code is ran.\r\n\r\nOn my other device with Android Version 5.1.1, this all works as intended, it is only on this specific device with Android Version 4.4.2, it doesn&#39;t take me to the `EventsActivity`.\r\n\r\n\r\n\r\nI have tried:\r\n\r\n```\r\n    Intent intent = new Intent(ProductsActivity.this, EventsActivity.class);\r\n    startActivity(intent);\r\n```\r\n\r\nas well as adding Flags to the intent but nothing worked.\r\n\r\nI had a look at the Activity Stack with `adb shell dumpsys activity activities` as well but cannot find the problem of why `EventsActivity` is not being shown.","title":"startActivity not adding/moving activity to foreground","body":"<p>On Android Version 4.4.2:</p>\n<p>I have this code inside an <code>onResume()</code> method.</p>\n<pre><code>\n      if (paid) {\n            Intent intent = new Intent(this, EventsActivity.class);\n            startActivity(intent);\n       } \n</code></pre>\n<p>I am calling this from the <code>ProductsActivity.class</code>,and there already exists an instance/task of the EventsActivity.</p>\n<p><code>ProductsActivity</code> and <code>EventsActivity</code> are both <code>singleInstance</code>.</p>\n<p>Nothing happens when this part of the code is ran.</p>\n<p>On my other device with Android Version 5.1.1, this all works as intended, it is only on this specific device with Android Version 4.4.2, it doesn't take me to the <code>EventsActivity</code>.</p>\n<p>I have tried:</p>\n<pre><code>    Intent intent = new Intent(ProductsActivity.this, EventsActivity.class);\n    startActivity(intent);\n</code></pre>\n<p>as well as adding Flags to the intent but nothing worked.</p>\n<p>I had a look at the Activity Stack with <code>adb shell dumpsys activity activities</code> as well but cannot find the problem of why <code>EventsActivity</code> is not being shown.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1677506385,"post_id":75581261,"comment_id":133345384,"body_markdown":"A `List&lt;String&gt;` is not a `List&lt;Object&gt;` and a `Stream&lt;EntityVersion&lt;Product&gt;&gt;` is not a `Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt;`. But theres no sense in storing a Stream anyway.","body":"A <code>List&lt;String&gt;</code> is not a <code>List&lt;Object&gt;</code> and a <code>Stream&lt;EntityVersion&lt;Product&gt;&gt;</code> is not a <code>Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt;</code>. But theres no sense in storing a Stream anyway."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1677506677,"post_id":75581261,"comment_id":133345482,"body_markdown":"Even though `EntityVersion&lt;Product&gt;` is a subtype of `EntityVersion&lt;? extends BaseEntity&gt;`, that does not mean `Stream&lt;EntityVersion&lt;Product&gt;&gt;` is a subtype of `Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt;`, in the same way that `Stream&lt;Dog&gt;` is not a subtype of `Stream&lt;Animal&gt;`. See also [this recent question I answered](https://stackoverflow.com/q/75332666/5133585), which is also about the subtyping of nested generics. They follow the same rules as a single layer of generics, really.","body":"Even though <code>EntityVersion&lt;Product&gt;</code> is a subtype of <code>EntityVersion&lt;? extends BaseEntity&gt;</code>, that does not mean <code>Stream&lt;EntityVersion&lt;Product&gt;&gt;</code> is a subtype of <code>Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt;</code>, in the same way that <code>Stream&lt;Dog&gt;</code> is not a subtype of <code>Stream&lt;Animal&gt;</code>. See also <a href=\"https://stackoverflow.com/q/75332666/5133585\">this recent question I answered</a>, which is also about the subtyping of nested generics. They follow the same rules as a single layer of generics, really."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1677506781,"post_id":75581261,"comment_id":133345506,"body_markdown":"Rather, `Stream&lt;EntityVersion&lt;Product&gt;&gt;` is a subtype of `Stream&lt;? extends EntityVersion&lt;? extends BaseEntity&gt;&gt;`.","body":"Rather, <code>Stream&lt;EntityVersion&lt;Product&gt;&gt;</code> is a subtype of <code>Stream&lt;? extends EntityVersion&lt;? extends BaseEntity&gt;&gt;</code>."}],"owner":{"account_id":133693,"reputation":627,"user_id":335258,"accept_rate":100,"display_name":"Francesco Papagno"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677505385,"creation_date":1677505385,"question_id":75581261,"body_markdown":"I&#39;m interested in understanding why, in the example given below, the row instantiating `wrapper2` gives a compilation error:\r\n```\r\njava: incompatible types: inference variable V has incompatible bounds\r\n    equality constraints: java.util.stream.Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt;\r\n    lower bounds: java.util.stream.Stream&lt;EntityVersion&lt;Product&gt;&gt;\r\n```\r\n\r\nExample:\r\n```\r\nimport java.util.Map;\r\nimport java.util.UUID;\r\nimport java.util.stream.Stream;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.val;\r\n\r\n@Data\r\nclass BaseEntity {\r\n    UUID id;\r\n}\r\n\r\n@Data\r\n@AllArgsConstructor\r\nclass Product extends BaseEntity {\r\n    String name;\r\n};\r\n\r\n@Data\r\n@AllArgsConstructor\r\nclass EntityVersion&lt;T extends BaseEntity&gt; {\r\n    String status;\r\n    T entity;\r\n}\r\n\r\nrecord EntityVersions(Map&lt;String, Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt;&gt; entityVersions) {}\r\n\r\nclass Main {\r\n    \r\n    public static void main(String[]args){\r\n        EntityVersion&lt;Product&gt; product = new EntityVersion&lt;&gt;(&quot;new&quot;, new Product(&quot;Product 1&quot;));\r\n                \r\n        Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt; products1 = Stream.of(product);\r\n        val wrapper1 = new EntityVersions(Map.of(&quot;products&quot;, products1));\r\n        \r\n        Stream&lt;EntityVersion&lt;Product&gt;&gt; products2 = Stream.of(product);\r\n        val wrapper2 = new EntityVersions(Map.of(&quot;products&quot;, products2));\r\n    }\r\n}\r\n\r\n\r\n```","title":"Unexpected behaviour of generics wildcard","body":"<p>I'm interested in understanding why, in the example given below, the row instantiating <code>wrapper2</code> gives a compilation error:</p>\n<pre><code>java: incompatible types: inference variable V has incompatible bounds\n    equality constraints: java.util.stream.Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt;\n    lower bounds: java.util.stream.Stream&lt;EntityVersion&lt;Product&gt;&gt;\n</code></pre>\n<p>Example:</p>\n<pre><code>import java.util.Map;\nimport java.util.UUID;\nimport java.util.stream.Stream;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.val;\n\n@Data\nclass BaseEntity {\n    UUID id;\n}\n\n@Data\n@AllArgsConstructor\nclass Product extends BaseEntity {\n    String name;\n};\n\n@Data\n@AllArgsConstructor\nclass EntityVersion&lt;T extends BaseEntity&gt; {\n    String status;\n    T entity;\n}\n\nrecord EntityVersions(Map&lt;String, Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt;&gt; entityVersions) {}\n\nclass Main {\n    \n    public static void main(String[]args){\n        EntityVersion&lt;Product&gt; product = new EntityVersion&lt;&gt;(&quot;new&quot;, new Product(&quot;Product 1&quot;));\n                \n        Stream&lt;EntityVersion&lt;? extends BaseEntity&gt;&gt; products1 = Stream.of(product);\n        val wrapper1 = new EntityVersions(Map.of(&quot;products&quot;, products1));\n        \n        Stream&lt;EntityVersion&lt;Product&gt;&gt; products2 = Stream.of(product);\n        val wrapper2 = new EntityVersions(Map.of(&quot;products&quot;, products2));\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","openssl","spring-webclient"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":1,"creation_date":1677685704,"post_id":75581151,"comment_id":133387456,"body_markdown":"Make sure required CA is added to the JVM trust store. In addition, you can use `-Djavax.net.debug=all` system property to troubleshoot TLS https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/ReadDebug.html","body":"Make sure required CA is added to the JVM trust store. In addition, you can use <code>-Djavax.net.debug=all</code> system property to troubleshoot TLS <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/ReadDebug.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/security/jsse&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":9885814,"reputation":1371,"user_id":7320372,"display_name":"Thomas Lang"},"score":0,"creation_date":1677824279,"post_id":75581151,"comment_id":133417165,"body_markdown":"The &quot;problem&quot; on adding it to the truststore is that we have several stage machines (deploy, test, dev, prod) where it would have been to be added to. Besides that we are forced to change certificates yearly. So this means a lot of work. In the meantime i got it to work by this suggestion: https://stackoverflow.com/a/53147631/7320372","body":"The &quot;problem&quot; on adding it to the truststore is that we have several stage machines (deploy, test, dev, prod) where it would have been to be added to. Besides that we are forced to change certificates yearly. So this means a lot of work. In the meantime i got it to work by this suggestion: <a href=\"https://stackoverflow.com/a/53147631/7320372\">stackoverflow.com/a/53147631/7320372</a>"}],"owner":{"account_id":9885814,"reputation":1371,"user_id":7320372,"display_name":"Thomas Lang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677505274,"creation_date":1677504794,"question_id":75581151,"body_markdown":"I&#180;m facing a strange issue. \r\n\r\nWe have a valid certificate from a trusted root CA - in concrete USERTrust RSA Certification Authority for server-01.\r\n\r\nWhen i visit the API in the browser for server-01, everything`s fine.   \r\nWe have a certificate chain with the above root CA und then a intermediate one.\r\n\r\nWhen i use this code:\r\n```java\r\nreturn reactiveWebClient\r\n\t\t\t\t.get()\r\n\t\t\t\t.uri(uri.toString())\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.bodyToFlux(IncomingMessage.class);\r\n\r\n```\r\nIt fails with this exception:   `org.springframework.web.reactive.function.client.WebClientRequestException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path`\r\n\r\nWhen i try another server-02 in our infrastructure the above `reactiveWebClient` works.  \r\nThis server-02 has also a valid certificate but from another issuer CA.\r\n\r\nThe intermediate CA from server-01 is:  \r\nGEANT OV RSA CA 4\r\n\r\nThe intermediate CA from server-02 is:  \r\nDFN-Verein Certification Authority 2\r\n\r\n**Please note:** \r\n\r\nBoth server have valid certificates.\r\n`openssl` command verifies this.\r\n\r\nFor my understanding somethings wrong with the first server-01 intermediate certificate.\r\n\r\nHow can i handle this?\r\n\r\n**Please note:** \r\n\r\nI don&#180;t want to install the whole cert in the JDK&#180;s trusted certificates as we have to exchange all server certificates on a yearly basis.","title":"Spring WebClient fails on intermediate certificate","body":"<p>Im facing a strange issue.</p>\n<p>We have a valid certificate from a trusted root CA - in concrete USERTrust RSA Certification Authority for server-01.</p>\n<p>When i visit the API in the browser for server-01, everything`s fine.<br />\nWe have a certificate chain with the above root CA und then a intermediate one.</p>\n<p>When i use this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return reactiveWebClient\n                .get()\n                .uri(uri.toString())\n                .retrieve()\n                .bodyToFlux(IncomingMessage.class);\n\n</code></pre>\n<p>It fails with this exception:   <code>org.springframework.web.reactive.function.client.WebClientRequestException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path</code></p>\n<p>When i try another server-02 in our infrastructure the above <code>reactiveWebClient</code> works.<br />\nThis server-02 has also a valid certificate but from another issuer CA.</p>\n<p>The intermediate CA from server-01 is:<br />\nGEANT OV RSA CA 4</p>\n<p>The intermediate CA from server-02 is:<br />\nDFN-Verein Certification Authority 2</p>\n<p><strong>Please note:</strong></p>\n<p>Both server have valid certificates.\n<code>openssl</code> command verifies this.</p>\n<p>For my understanding somethings wrong with the first server-01 intermediate certificate.</p>\n<p>How can i handle this?</p>\n<p><strong>Please note:</strong></p>\n<p>I dont want to install the whole cert in the JDKs trusted certificates as we have to exchange all server certificates on a yearly basis.</p>\n"},{"tags":["java","xml","jackson"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1677315304,"post_id":75557088,"comment_id":133316687,"body_markdown":"`Company` has no `address` and `contacts` instance variables","body":"<code>Company</code> has no <code>address</code> and <code>contacts</code> instance variables"},{"owner":{"account_id":25427262,"reputation":3,"user_id":19232284,"display_name":"Estudio Tademan"},"score":0,"creation_date":1677505113,"post_id":75557088,"comment_id":133344947,"body_markdown":"I already edit the code. I had to make an adaptation from existing code to make things more clear .Thank you.","body":"I already edit the code. I had to make an adaptation from existing code to make things more clear .Thank you."}],"answers":[{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677317312,"creation_date":1677317312,"answer_id":75564441,"question_id":75557088,"body_markdown":"before I specify the solution, I would like to point out several problems with the code:\r\n\r\n 1. It doesn&#39;t compile (`Company` class has no `address` and `contacts` instance variables that are specified in constructor). I removed these properties.\r\n 1. `Company` class holds list of `Parent` items, but `Parent` is an empty class with no relation to `Child`. I removed `Parent`.\r\n\r\nThe solution is to specify two Jackson xml annotations for `List&lt;Child&gt;` instance variable of `Company`:\r\n\r\n 1. the obvious `@JacksonXmlElementWrapper(useWrapping = false)`\r\n 1. `@JacksonXmlProperty(localName = &quot;my_child&quot;)` tells Jackson what to name the list item\r\n 1. no annotations are required for `Child` class itself. \r\n\r\n`Company` class looks like this \r\n\r\n\t@JacksonXmlRootElement(localName = &quot;my_company&quot;)\r\n\tpublic class Company {\r\n\t\r\n\t\t//Creating properties of Company class\r\n\t\tpublic String comName;\r\n\t\tpublic String comEmail;\r\n\t\r\n\t\t@JacksonXmlElementWrapper(useWrapping = false)\r\n\t\t@JacksonXmlProperty(localName = &quot;my_child&quot;)\r\n\t\tpublic List&lt;Child&gt; childs;\r\n\r\n\t\t// constructor ... \r\n\r\ntest method\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tList&lt;Company.Child&gt; childs = List.of(\r\n\t\t\t\tnew Company.Child(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;),\r\n\t\t\t\tnew Company.Child(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;)\r\n\t\t);\r\n\t\tCompany company = new Company(&quot;A&quot;, &quot;ema&quot;, childs);\r\n\t\ttry {\r\n\t\t\tXmlMapper mapper = new XmlMapper();\r\n\t\t\tmapper.writerWithDefaultPrettyPrinter().writeValue(System.out, company);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\noutput \r\n\r\n```\r\n&lt;my_company&gt;\r\n  &lt;comName&gt;A&lt;/comName&gt;\r\n  &lt;comEmail&gt;ema&lt;/comEmail&gt;\r\n  &lt;my_child&gt;\r\n    &lt;street&gt;a&lt;/street&gt;\r\n    &lt;state&gt;b&lt;/state&gt;\r\n    &lt;city&gt;c&lt;/city&gt;\r\n  &lt;/my_child&gt;\r\n  &lt;my_child&gt;\r\n    &lt;street&gt;d&lt;/street&gt;\r\n    &lt;state&gt;e&lt;/state&gt;\r\n    &lt;city&gt;f&lt;/city&gt;\r\n  &lt;/my_child&gt;\r\n&lt;/my_company&gt;\r\n\r\n```\r\n","title":"Jackson transfor POJO to XML avoid list Wrapper","body":"<p>before I specify the solution, I would like to point out several problems with the code:</p>\n<ol>\n<li>It doesn't compile (<code>Company</code> class has no <code>address</code> and <code>contacts</code> instance variables that are specified in constructor). I removed these properties.</li>\n<li><code>Company</code> class holds list of <code>Parent</code> items, but <code>Parent</code> is an empty class with no relation to <code>Child</code>. I removed <code>Parent</code>.</li>\n</ol>\n<p>The solution is to specify two Jackson xml annotations for <code>List&lt;Child&gt;</code> instance variable of <code>Company</code>:</p>\n<ol>\n<li>the obvious <code>@JacksonXmlElementWrapper(useWrapping = false)</code></li>\n<li><code>@JacksonXmlProperty(localName = &quot;my_child&quot;)</code> tells Jackson what to name the list item</li>\n<li>no annotations are required for <code>Child</code> class itself.</li>\n</ol>\n<p><code>Company</code> class looks like this</p>\n<pre><code>@JacksonXmlRootElement(localName = &quot;my_company&quot;)\npublic class Company {\n\n    //Creating properties of Company class\n    public String comName;\n    public String comEmail;\n\n    @JacksonXmlElementWrapper(useWrapping = false)\n    @JacksonXmlProperty(localName = &quot;my_child&quot;)\n    public List&lt;Child&gt; childs;\n\n    // constructor ... \n</code></pre>\n<p>test method</p>\n<pre><code>public static void main(String[] args) {\n\n    List&lt;Company.Child&gt; childs = List.of(\n            new Company.Child(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;),\n            new Company.Child(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;)\n    );\n    Company company = new Company(&quot;A&quot;, &quot;ema&quot;, childs);\n    try {\n        XmlMapper mapper = new XmlMapper();\n        mapper.writerWithDefaultPrettyPrinter().writeValue(System.out, company);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>output</p>\n<pre><code>&lt;my_company&gt;\n  &lt;comName&gt;A&lt;/comName&gt;\n  &lt;comEmail&gt;ema&lt;/comEmail&gt;\n  &lt;my_child&gt;\n    &lt;street&gt;a&lt;/street&gt;\n    &lt;state&gt;b&lt;/state&gt;\n    &lt;city&gt;c&lt;/city&gt;\n  &lt;/my_child&gt;\n  &lt;my_child&gt;\n    &lt;street&gt;d&lt;/street&gt;\n    &lt;state&gt;e&lt;/state&gt;\n    &lt;city&gt;f&lt;/city&gt;\n  &lt;/my_child&gt;\n&lt;/my_company&gt;\n\n</code></pre>\n"}],"owner":{"account_id":25427262,"reputation":3,"user_id":19232284,"display_name":"Estudio Tademan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677505069,"creation_date":1677244996,"question_id":75557088,"body_markdown":"I am trying to get an output without a root node for a list.\r\nI will simplify my code with a more simple idea :\r\n\r\n\r\n```\r\n    @JacksonXmlRootElement(localName = &quot;my_company&quot;)\r\n    public class Company {\r\n\r\n     //Creating properties of Company class\r\n     public String comName;\r\n     public String comEmail;\r\n\r\n     @JacksonXmlElementWrapper(useWrapping = false)\r\n     public List&lt;Parent&gt; childs;\r\n\r\n     // constructor\r\n     Company(String comName, String comEmail, List&lt;Parent&gt; childs) {\r\n        this.comName = comName;\r\n        this.comEmail = comEmail;\r\n        this.childs = childs;\r\n     }\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT)\r\n    class Parent{\r\n\r\n    }\r\n    @JsonTypeName(&quot;my_child&quot;)\r\n     class Child extends Parent{\r\n      public String street;\r\n      public String state;\r\n      public String city;\r\n\r\n      Child(String street, String state, String city){\r\n         this.street = street;\r\n         this.state = state;\r\n         this.city = city;\r\n     }\r\n  }\r\n```\r\n  This is the result i get :\r\n\r\n```\r\n   &lt;my_company&gt;\r\n       &lt;comName&gt;A&lt;/comName&gt;\r\n       &lt;comEmail&gt;ema&lt;/comEmail&gt;\r\n       &lt;childs&gt;\r\n         &lt;my_child&gt;\r\n           &lt;street&gt;a&lt;/street&gt;\r\n           &lt;state&gt;b&lt;/state&gt;\r\n          &lt;city&gt;c&lt;/city&gt;\r\n        &lt;/my_child&gt;\r\n       &lt;/childs&gt;\r\n       &lt;childs&gt;\r\n        &lt;my_child&gt;\r\n          &lt;street&gt;a&lt;/street&gt;\r\n          &lt;state&gt;b&lt;/state&gt;\r\n          &lt;city&gt;c&lt;/city&gt;\r\n        &lt;/my_child&gt;\r\n       &lt;/childs&gt;\r\n   &lt;/my_company&gt;\r\n```\r\nI dont want that , I need to remove &quot;childs&quot; tag ,i wanna this :\r\n```\r\n    &lt;my_company&gt;\r\n        &lt;comName&gt;A&lt;/comName&gt;\r\n        &lt;comEmail&gt;ema&lt;/comEmail&gt;\r\n          &lt;my_child&gt;\r\n             &lt;street&gt;a&lt;/street&gt;\r\n             &lt;state&gt;b&lt;/state&gt;\r\n             &lt;city&gt;c&lt;/city&gt;\r\n          &lt;/my_child&gt;\r\n         &lt;my_child&gt;\r\n            &lt;street&gt;a&lt;/street&gt;\r\n            &lt;state&gt;b&lt;/state&gt;\r\n            &lt;city&gt;c&lt;/city&gt;\r\n         &lt;/my_child&gt;\r\n    &lt;/my_company&gt;\r\n```\r\n ***@JacksonXmlElementWrapper(useWrapping = false)*** should do the trick,but i tried 1 millon different combinations,documentation,forum,etc. Thanks in advance.\r\n\r\n\r\n","title":"Jackson transfor POJO to XML avoid list Wrapper","body":"<p>I am trying to get an output without a root node for a list.\nI will simplify my code with a more simple idea :</p>\n<pre><code>    @JacksonXmlRootElement(localName = &quot;my_company&quot;)\n    public class Company {\n\n     //Creating properties of Company class\n     public String comName;\n     public String comEmail;\n\n     @JacksonXmlElementWrapper(useWrapping = false)\n     public List&lt;Parent&gt; childs;\n\n     // constructor\n     Company(String comName, String comEmail, List&lt;Parent&gt; childs) {\n        this.comName = comName;\n        this.comEmail = comEmail;\n        this.childs = childs;\n     }\n\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT)\n    class Parent{\n\n    }\n    @JsonTypeName(&quot;my_child&quot;)\n     class Child extends Parent{\n      public String street;\n      public String state;\n      public String city;\n\n      Child(String street, String state, String city){\n         this.street = street;\n         this.state = state;\n         this.city = city;\n     }\n  }\n</code></pre>\n<p>This is the result i get :</p>\n<pre><code>   &lt;my_company&gt;\n       &lt;comName&gt;A&lt;/comName&gt;\n       &lt;comEmail&gt;ema&lt;/comEmail&gt;\n       &lt;childs&gt;\n         &lt;my_child&gt;\n           &lt;street&gt;a&lt;/street&gt;\n           &lt;state&gt;b&lt;/state&gt;\n          &lt;city&gt;c&lt;/city&gt;\n        &lt;/my_child&gt;\n       &lt;/childs&gt;\n       &lt;childs&gt;\n        &lt;my_child&gt;\n          &lt;street&gt;a&lt;/street&gt;\n          &lt;state&gt;b&lt;/state&gt;\n          &lt;city&gt;c&lt;/city&gt;\n        &lt;/my_child&gt;\n       &lt;/childs&gt;\n   &lt;/my_company&gt;\n</code></pre>\n<p>I dont want that , I need to remove &quot;childs&quot; tag ,i wanna this :</p>\n<pre><code>    &lt;my_company&gt;\n        &lt;comName&gt;A&lt;/comName&gt;\n        &lt;comEmail&gt;ema&lt;/comEmail&gt;\n          &lt;my_child&gt;\n             &lt;street&gt;a&lt;/street&gt;\n             &lt;state&gt;b&lt;/state&gt;\n             &lt;city&gt;c&lt;/city&gt;\n          &lt;/my_child&gt;\n         &lt;my_child&gt;\n            &lt;street&gt;a&lt;/street&gt;\n            &lt;state&gt;b&lt;/state&gt;\n            &lt;city&gt;c&lt;/city&gt;\n         &lt;/my_child&gt;\n    &lt;/my_company&gt;\n</code></pre>\n<p><em><strong>@JacksonXmlElementWrapper(useWrapping = false)</strong></em> should do the trick,but i tried 1 millon different combinations,documentation,forum,etc. Thanks in advance.</p>\n"},{"tags":["java","sql-server","postgresql","amazon-web-services","babelfish"],"owner":{"account_id":2928702,"reputation":771,"user_id":2509520,"display_name":"Peter Tarlos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677504874,"creation_date":1657124969,"question_id":72887000,"body_markdown":"We recently converted our SQL Server database to AWS Aurora PostgreSQL(v.13.6).\r\n\r\nWe&#39;re using [Babelfish][1] for Aurora PostgreSQL to connect to the database with Java 8 &amp; JDBC &amp; SQL Server driver.  While testing, we discovered that Babelfish does NOT return generated row id on SQL insert statements (code below).  **How can this be fixed?**  \r\n\r\nSQL Server driver:\r\n&lt;!-- language: lang-xml --&gt;\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t&lt;version&gt;10.2.1.jre8&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n```\r\n\r\nHowever, the same test code works when using the PostgreSQL URL &amp; postgres driver.  (returns the generated row id)\r\n\r\nPostgres driver:\r\n&lt;!-- language: lang-xml --&gt;\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t&lt;version&gt;42.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nTest code:\r\n&lt;!-- language: lang-java --&gt;\r\n```\r\n\tprivate void testInsert(String dbUrl, String sql) {\r\n\t\tlogger.debug(&quot;dbUrl: {}&quot;, dbUrl);\r\n\t\ttry (Connection conn = DriverManager.getConnection(\r\n\t\t\t\tdbUrl, DBUtil.DB_USERNAME, DBUtil.DB_PASSWORD);\r\n             PreparedStatement ps = conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)) {\r\n\t\t\tsetValues(ps);\r\n\t\t\tconn.setAutoCommit(false); // begin Transaction\r\n\t\t\tlogger.debug(&quot;executeUpdate: {}&quot;, sql);\r\n\r\n            int rows = ps.executeUpdate();\r\n\r\n            logger.debug(&quot;rows: {}&quot;, rows);\r\n            \r\n            try (ResultSet rs = ps.getGeneratedKeys()) {\r\n            \tlogger.debug(&quot;rs: {}&quot;, rs);\r\n                if (rs.next()) {\r\n                    Long id = rs.getLong(1);\r\n                    logger.debug(&quot;id: {}&quot;, id);\r\n                }\r\n                else {\r\n                    logger.debug(&quot;ResultSet is empty&quot;);\r\n                }\r\n            }\r\n          \r\n            conn.rollback();\r\n //           conn.commit();\r\n        } catch (SQLException e) {\r\n            logger.error(null, e);\r\n        }\r\n\t}\r\n```\r\n\r\nOutput:\r\n```\r\n# results with Babelfish URL &amp; SQL Server driver: (returns 0 for row ID)\r\nrows: 1\r\nrs: SQLServerResultSet:1\r\nid: 0\r\n\r\n# results with PostgreSQL URL &amp; postgres driver: (returns the row ID)\r\nrows: 1\r\nrs: org.postgresql.jdbc.PgResultSet@2aceadd4\r\nid: 1548\r\n```\r\n\r\n\r\n  [1]: https://aws.amazon.com/rds/aurora/babelfish/","title":"Babelfish for Aurora PostgreSQL not returning generated row id","body":"<p>We recently converted our SQL Server database to AWS Aurora PostgreSQL(v.13.6).</p>\n<p>We're using <a href=\"https://aws.amazon.com/rds/aurora/babelfish/\" rel=\"nofollow noreferrer\">Babelfish</a> for Aurora PostgreSQL to connect to the database with Java 8 &amp; JDBC &amp; SQL Server driver.  While testing, we discovered that Babelfish does NOT return generated row id on SQL insert statements (code below).  <strong>How can this be fixed?</strong></p>\n<p>SQL Server driver:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;10.2.1.jre8&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>However, the same test code works when using the PostgreSQL URL &amp; postgres driver.  (returns the generated row id)</p>\n<p>Postgres driver:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;version&gt;42.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Test code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void testInsert(String dbUrl, String sql) {\n        logger.debug(&quot;dbUrl: {}&quot;, dbUrl);\n        try (Connection conn = DriverManager.getConnection(\n                dbUrl, DBUtil.DB_USERNAME, DBUtil.DB_PASSWORD);\n             PreparedStatement ps = conn.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)) {\n            setValues(ps);\n            conn.setAutoCommit(false); // begin Transaction\n            logger.debug(&quot;executeUpdate: {}&quot;, sql);\n\n            int rows = ps.executeUpdate();\n\n            logger.debug(&quot;rows: {}&quot;, rows);\n            \n            try (ResultSet rs = ps.getGeneratedKeys()) {\n                logger.debug(&quot;rs: {}&quot;, rs);\n                if (rs.next()) {\n                    Long id = rs.getLong(1);\n                    logger.debug(&quot;id: {}&quot;, id);\n                }\n                else {\n                    logger.debug(&quot;ResultSet is empty&quot;);\n                }\n            }\n          \n            conn.rollback();\n //           conn.commit();\n        } catch (SQLException e) {\n            logger.error(null, e);\n        }\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code># results with Babelfish URL &amp; SQL Server driver: (returns 0 for row ID)\nrows: 1\nrs: SQLServerResultSet:1\nid: 0\n\n# results with PostgreSQL URL &amp; postgres driver: (returns the row ID)\nrows: 1\nrs: org.postgresql.jdbc.PgResultSet@2aceadd4\nid: 1548\n</code></pre>\n"},{"tags":["java","scala","bdd","scalatest","junit-jupiter"],"owner":{"account_id":13517282,"reputation":11,"user_id":9751497,"display_name":"Tsiry.MANANKASINA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677504725,"creation_date":1677504725,"question_id":75581137,"body_markdown":"I&#39;m using : \r\n- scala 2.12.15\r\n-  Java 17\r\n-  scalatest_2.12:3.2.15\r\n-  JUnit 5\r\n-  Gradle\r\n\r\nWith this very simple codes in my test folder: \r\n  \r\n```\r\nimport org.scalatest.flatspec.AnyFlatSpec\r\n\r\n\r\nclass MyTestSpec extends AnyFlatSpec {\r\n\r\n  &quot;An empty Set&quot; should &quot;have size 0&quot; in {\r\n    assert(Set.empty.size === 0)\r\n  }\r\n}\r\n```\r\nwhen I try to execute this test, I have : **No tests found...**\r\n\r\nWhen I Use Junit 4, it&#39;s OK, but with Junit 5, KO.\r\n\r\n**remark **: \r\nIn my gradle, I have : \r\n\r\n```\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nIs AnyFlatSpec don&#39;t support JUnit 5 ? Is there another solution ?\r\n\r\nThanks for your help !\r\n","title":"BDD : Test using Sclatest - AnyFlatSpec and Junit 5 not detected","body":"<p>I'm using :</p>\n<ul>\n<li>scala 2.12.15</li>\n<li>Java 17</li>\n<li>scalatest_2.12:3.2.15</li>\n<li>JUnit 5</li>\n<li>Gradle</li>\n</ul>\n<p>With this very simple codes in my test folder:</p>\n<pre><code>import org.scalatest.flatspec.AnyFlatSpec\n\n\nclass MyTestSpec extends AnyFlatSpec {\n\n  &quot;An empty Set&quot; should &quot;have size 0&quot; in {\n    assert(Set.empty.size === 0)\n  }\n}\n</code></pre>\n<p>when I try to execute this test, I have : <strong>No tests found...</strong></p>\n<p>When I Use Junit 4, it's OK, but with Junit 5, KO.</p>\n<p>**remark **:\nIn my gradle, I have :</p>\n<pre><code>test {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>Is AnyFlatSpec don't support JUnit 5 ? Is there another solution ?</p>\n<p>Thanks for your help !</p>\n"},{"tags":["java","docker","jar","jboss","keycloak"],"owner":{"account_id":27239616,"reputation":1,"user_id":20765995,"display_name":"Evgeny Baranovsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677504256,"creation_date":1677504256,"question_id":75581059,"body_markdown":"I have a keycloak SPI jar (overwriting provider). To put this SPI into /deployments folder inside container, I added following lines to my dockerfile:\r\n\r\n```\r\nCOPY --chown=jboss:jboss keycloak-spi-1.0.0.jar /opt/jboss/keycloak/standalone/deployments\r\nRUN touch /opt/jboss/keycloak/standalone/deployments/keycloak-spi-1.0.0.jar.dodeploy\r\nRUN echo &quot;keycloak-spi-1.0.0.jar&quot; &gt;&gt; /opt/jboss/keycloak/standalone/deployments/keycloak-spi-1.0.0.jar.dodeploy\r\n```\r\nKeycloak seems to be picking up on deployment, however, somewhy this time it fails with following stack trace:\r\n\r\n```\r\n13:17:36,485 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.deployment.unit.&quot;keycloak-spi-1.0.0.jar&quot;.STRUCTURE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;keycloak-spi-1.0.0.jar&quot;.STRUCTURE: WFLYSRV0153: Failed to process phase STRUCTURE of deployment &quot;keycloak-spi-1.0.0.jar&quot;\r\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:189)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYSRV0160: Failed to mount deployment content\r\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.module.DeploymentRootMountProcessor.deploy(DeploymentRootMountProcessor.java:95)\r\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)\r\n        ... 8 more\r\nCaused by: java.util.zip.ZipException: zip END header not found\r\n        at java.base/java.util.zip.ZipFile$Source.zerror(ZipFile.java:1607)\r\n        at java.base/java.util.zip.ZipFile$Source.findEND(ZipFile.java:1497)\r\n        at java.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1504)\r\n        at java.base/java.util.zip.ZipFile$Source.&lt;init&gt;(ZipFile.java:1308)\r\n        at java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1271)\r\n        at java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:733)\r\n        at java.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:850)\r\n        at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:248)\r\n        at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:177)\r\n        at java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:348)\r\n        at java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:319)\r\n        at java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:285)\r\n        at org.jboss.vfs@3.2.15.Final//org.jboss.vfs.spi.JavaZipFileSystem.&lt;init&gt;(JavaZipFileSystem.java:90)\r\n        at org.jboss.vfs@3.2.15.Final//org.jboss.vfs.spi.JavaZipFileSystem.&lt;init&gt;(JavaZipFileSystem.java:77)\r\n        at org.jboss.vfs@3.2.15.Final//org.jboss.vfs.VFS.mountZip(VFS.java:386)\r\n        at org.jboss.vfs@3.2.15.Final//org.jboss.vfs.VFS.mountZip(VFS.java:410)\r\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.DeploymentMountProvider$Factory$ServerDeploymentRepositoryImpl.mountDeploymentContent(DeploymentMountProvider.java:108)\r\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.module.DeploymentRootMountProcessor.deploy(DeploymentRootMountProcessor.java:91)\r\n        ... 9 more\r\n```\r\n\r\n```\r\n13:17:46,342 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;keycloak-spi-1.0.0.jar&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;keycloak-spi-1.0.0.jar\\&quot;.STRUCTURE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase STRUCTURE of deployment \\&quot;keycloak-spi-1.0.0.jar\\&quot;\r\n    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYSRV0160: Failed to mount deployment content\r\n    Caused by: java.util.zip.ZipException: zip END header not found&quot;}}\r\n```\r\n\r\nHere is the structure of SPI jar:\r\n\r\n```\r\n&gt;&gt; jar tf keycloak-spi-1.0.0.jar\r\nMETA-INF/\r\nMETA-INF/MANIFEST.MF\r\nmy/\r\nmy/package/\r\nmy/package/project/\r\nmy/package/project/be/\r\nMETA-INF/services/\r\nmy/package/project/be/MyServiceProvider.class\r\nmy/package/project/be/MyServiceProviderFactory.class\r\nMETA-INF/services/org.keycloak.email.EmailSenderProviderFactory\r\nMETA-INF/maven/\r\nMETA-INF/maven/my.package.project/\r\nMETA-INF/maven/my.package.project/keycloak-spi/\r\nMETA-INF/maven/my.package.project/keycloak-spi/pom.xml\r\nMETA-INF/maven/my.package.project/keycloak-spi/pom.properties\r\n\r\n```\r\n\r\n\r\n\r\n When I deploy it using docker-compose.yaml (see below what I added to do it), I deploy it successfully\r\n\r\n```\r\n    volumes:\r\n      - ../localSetup/providers/keycloak-spi-1.0.0.jar:/opt/jboss/keycloak/standalone/deployments/keycloak-spi-1.0.0.jar\r\n```\r\n\r\nMeanwhile, if I use compose, everything deploys just fine. However, I am unable to use compose on production, so I need to do something while creating image. Please send help.","title":"Unable to deploy keycloak SPI via docker (dockerfile)","body":"<p>I have a keycloak SPI jar (overwriting provider). To put this SPI into /deployments folder inside container, I added following lines to my dockerfile:</p>\n<pre><code>COPY --chown=jboss:jboss keycloak-spi-1.0.0.jar /opt/jboss/keycloak/standalone/deployments\nRUN touch /opt/jboss/keycloak/standalone/deployments/keycloak-spi-1.0.0.jar.dodeploy\nRUN echo &quot;keycloak-spi-1.0.0.jar&quot; &gt;&gt; /opt/jboss/keycloak/standalone/deployments/keycloak-spi-1.0.0.jar.dodeploy\n</code></pre>\n<p>Keycloak seems to be picking up on deployment, however, somewhy this time it fails with following stack trace:</p>\n<pre><code>13:17:36,485 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.deployment.unit.&quot;keycloak-spi-1.0.0.jar&quot;.STRUCTURE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;keycloak-spi-1.0.0.jar&quot;.STRUCTURE: WFLYSRV0153: Failed to process phase STRUCTURE of deployment &quot;keycloak-spi-1.0.0.jar&quot;\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:189)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYSRV0160: Failed to mount deployment content\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.module.DeploymentRootMountProcessor.deploy(DeploymentRootMountProcessor.java:95)\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)\n        ... 8 more\nCaused by: java.util.zip.ZipException: zip END header not found\n        at java.base/java.util.zip.ZipFile$Source.zerror(ZipFile.java:1607)\n        at java.base/java.util.zip.ZipFile$Source.findEND(ZipFile.java:1497)\n        at java.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1504)\n        at java.base/java.util.zip.ZipFile$Source.&lt;init&gt;(ZipFile.java:1308)\n        at java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1271)\n        at java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:733)\n        at java.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:850)\n        at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:248)\n        at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:177)\n        at java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:348)\n        at java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:319)\n        at java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:285)\n        at org.jboss.vfs@3.2.15.Final//org.jboss.vfs.spi.JavaZipFileSystem.&lt;init&gt;(JavaZipFileSystem.java:90)\n        at org.jboss.vfs@3.2.15.Final//org.jboss.vfs.spi.JavaZipFileSystem.&lt;init&gt;(JavaZipFileSystem.java:77)\n        at org.jboss.vfs@3.2.15.Final//org.jboss.vfs.VFS.mountZip(VFS.java:386)\n        at org.jboss.vfs@3.2.15.Final//org.jboss.vfs.VFS.mountZip(VFS.java:410)\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.DeploymentMountProvider$Factory$ServerDeploymentRepositoryImpl.mountDeploymentContent(DeploymentMountProvider.java:108)\n        at org.jboss.as.server@15.0.1.Final//org.jboss.as.server.deployment.module.DeploymentRootMountProcessor.deploy(DeploymentRootMountProcessor.java:91)\n        ... 9 more\n</code></pre>\n<pre><code>13:17:46,342 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;keycloak-spi-1.0.0.jar&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;keycloak-spi-1.0.0.jar\\&quot;.STRUCTURE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase STRUCTURE of deployment \\&quot;keycloak-spi-1.0.0.jar\\&quot;\n    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYSRV0160: Failed to mount deployment content\n    Caused by: java.util.zip.ZipException: zip END header not found&quot;}}\n</code></pre>\n<p>Here is the structure of SPI jar:</p>\n<pre><code>&gt;&gt; jar tf keycloak-spi-1.0.0.jar\nMETA-INF/\nMETA-INF/MANIFEST.MF\nmy/\nmy/package/\nmy/package/project/\nmy/package/project/be/\nMETA-INF/services/\nmy/package/project/be/MyServiceProvider.class\nmy/package/project/be/MyServiceProviderFactory.class\nMETA-INF/services/org.keycloak.email.EmailSenderProviderFactory\nMETA-INF/maven/\nMETA-INF/maven/my.package.project/\nMETA-INF/maven/my.package.project/keycloak-spi/\nMETA-INF/maven/my.package.project/keycloak-spi/pom.xml\nMETA-INF/maven/my.package.project/keycloak-spi/pom.properties\n\n</code></pre>\n<p>When I deploy it using docker-compose.yaml (see below what I added to do it), I deploy it successfully</p>\n<pre><code>    volumes:\n      - ../localSetup/providers/keycloak-spi-1.0.0.jar:/opt/jboss/keycloak/standalone/deployments/keycloak-spi-1.0.0.jar\n</code></pre>\n<p>Meanwhile, if I use compose, everything deploys just fine. However, I am unable to use compose on production, so I need to do something while creating image. Please send help.</p>\n"},{"tags":["java","reflection","lambda","java-8"],"comments":[{"owner":{"account_id":4251195,"reputation":379,"user_id":3478229,"display_name":"ddan"},"score":0,"creation_date":1396189757,"post_id":19845213,"comment_id":99182558,"body_markdown":"Looks like it might be possible after all, by using a proxy to record which method gets called. https://stackoverflow.com/a/22745127/3478229","body":"Looks like it might be possible after all, by using a proxy to record which method gets called. <a href=\"https://stackoverflow.com/a/22745127/3478229\">stackoverflow.com/a/22745127/3478229</a>"},{"owner":{"account_id":68627,"reputation":1498,"user_id":200130,"accept_rate":90,"display_name":"Rafal"},"score":0,"creation_date":1396332793,"post_id":19845213,"comment_id":99182560,"body_markdown":"It is possible, but this puts constraints on proxied class. For example, it cannot be final and need to have default public or protected constructor. Moreover this will not work for final methods.","body":"It is possible, but this puts constraints on proxied class. For example, it cannot be final and need to have default public or protected constructor. Moreover this will not work for final methods."},{"owner":{"account_id":25463,"reputation":19710,"user_id":65458,"accept_rate":88,"display_name":"Piotr Findeisen"},"score":0,"creation_date":1477768523,"post_id":19845213,"comment_id":99182561,"body_markdown":"Accepting caveats (we can&#39;t distinguish lambdas, and a lambda can contain IFs fooling us), this is a good approach and useful in APIs -- you can grab a ready impl https://github.com/joj-io/joj-reflect/blob/master/src/main/java/io/joj/reflect/MethodReferences.java if you wish.","body":"Accepting caveats (we can&#39;t distinguish lambdas, and a lambda can contain IFs fooling us), this is a good approach and useful in APIs -- you can grab a ready impl <a href=\"https://github.com/joj-io/joj-reflect/blob/master/src/main/java/io/joj/reflect/MethodReferences.java\" rel=\"nofollow noreferrer\">github.com/joj-io/joj-reflect/blob/master/src/main/java/io/j&zwnj;&#8203;oj/&hellip;</a> if you wish."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1529532545,"post_id":19845213,"comment_id":88912886,"body_markdown":"I keep wanting to do this as well.  The &quot;Correct&quot; way to do it in most cases would be to create a custom annotation and tag that method via the annotation, but that gets cumbersome pretty fast.","body":"I keep wanting to do this as well.  The &quot;Correct&quot; way to do it in most cases would be to create a custom annotation and tag that method via the annotation, but that gets cumbersome pretty fast."},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1558645855,"post_id":19845213,"comment_id":99179928,"body_markdown":"Possible duplicate of [How to get Method object in Java without using method string names](https://stackoverflow.com/questions/9864300/how-to-get-method-object-in-java-without-using-method-string-names). It doesn&#39;t mention method reference but has several reasonable answers, unlike this question here.","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/9864300/how-to-get-method-object-in-java-without-using-method-string-names\">How to get Method object in Java without using method string names</a>. It doesn&#39;t mention method reference but has several reasonable answers, unlike this question here."}],"answers":[{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1383853872,"creation_date":1383853872,"answer_id":19845303,"question_id":19845213,"body_markdown":"Though I haven&#39;t tried it myself, I think the answer is &quot;no,&quot; since [a method reference is semantically the same as a lambda.](http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html)","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>Though I haven't tried it myself, I think the answer is \"no,\" since <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"noreferrer\">a method reference is semantically the same as a lambda.</a></p>\n"},{"tags":[],"owner":{"account_id":58477,"reputation":25235,"user_id":175070,"display_name":"Mike Strobel"},"down_vote_count":1,"up_vote_count":42,"is_accepted":true,"score":41,"last_activity_date":1453312229,"creation_date":1383854118,"answer_id":19845393,"question_id":19845213,"body_markdown":"No, there is no reliable, supported way to do this.  You assign a method reference to an instance of a functional interface, but that instance is cooked up by `LambdaMetaFactory`, and there is no way to drill into it to find the method you originally bound to.\r\n\r\nLambdas and method references in Java work quite differently than delegates in C#.  For some interesting background, read up on `invokedynamic`.\r\n\r\nOther answers and comments here show that it may currently be possible to retrieve the bound method with some additional work, but make sure you understand the caveats.","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>No, there is no reliable, supported way to do this.  You assign a method reference to an instance of a functional interface, but that instance is cooked up by <code>LambdaMetaFactory</code>, and there is no way to drill into it to find the method you originally bound to.</p>\n\n<p>Lambdas and method references in Java work quite differently than delegates in C#.  For some interesting background, read up on <code>invokedynamic</code>.</p>\n\n<p>Other answers and comments here show that it may currently be possible to retrieve the bound method with some additional work, but make sure you understand the caveats.</p>\n"},{"tags":[],"owner":{"account_id":35892,"reputation":30826,"user_id":102008,"accept_rate":37,"display_name":"user102008"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429395243,"creation_date":1429395243,"answer_id":29723489,"question_id":19845213,"body_markdown":"If you can make the interface `Action` extend `Serializable`, then [this answer][1] from another question seems to provide a solution (at least on some compilers and runtimes).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21879031/86989","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>If you can make the interface <code>Action</code> extend <code>Serializable</code>, then <a href=\"https://stackoverflow.com/a/21879031/86989\">this answer</a> from another question seems to provide a solution (at least on some compilers and runtimes).</p>\n"},{"tags":[],"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1465049149,"creation_date":1465049149,"answer_id":37631164,"question_id":19845213,"body_markdown":"In my case I was looking for a way to get rid of this in unit tests:\r\n\r\n    Point p = getAPoint();\r\n    assertEquals(p.getX(), 4, &quot;x&quot;);\r\n    assertEquals(p.getY(), 6, &quot;x&quot;);\r\n\r\nAs you can see someone is testing Method `getAPoint` and checks that the coordinates are as expected, but in the description of each assert was copied and is not in sync with what is checked. Better would be to write this only once.\r\n\r\nFrom the ideas by @ddan I built a proxy solution using Mockito:\r\n\r\n    private&lt;T&gt; void assertPropertyEqual(final T object, final Function&lt;T, ?&gt; getter, final Object expected) {\r\n        final String methodName = getMethodName(object.getClass(), getter);\r\n        assertEquals(getter.apply(object), expected, methodName);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private&lt;T&gt; String getMethodName(final Class&lt;?&gt; clazz, final Function&lt;T, ?&gt; getter) {\r\n        final Method[] method = new Method[1];\r\n        getter.apply((T)Mockito.mock(clazz, Mockito.withSettings().invocationListeners(methodInvocationReport -&gt; {\r\n            method[0] = ((InvocationOnMock) methodInvocationReport.getInvocation()).getMethod();\r\n        })));\r\n        return method[0].getName();\r\n    }\r\n\r\nNo I can simply use\r\n\r\n    assertPropertyEqual(p, Point::getX, 4);\r\n    assertPropertyEqual(p, Point::getY, 6);\r\n\r\nand the description of the assert is guaranteed to be in sync with the code.\r\n\r\nDownside:\r\n\r\n- Will be slightly slower than above\r\n- Needs Mockito to work\r\n- Hardly useful to anything but the usecase above.\r\n\r\nHowever it does show a way how it could be done.","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>In my case I was looking for a way to get rid of this in unit tests:</p>\n\n<pre><code>Point p = getAPoint();\nassertEquals(p.getX(), 4, \"x\");\nassertEquals(p.getY(), 6, \"x\");\n</code></pre>\n\n<p>As you can see someone is testing Method <code>getAPoint</code> and checks that the coordinates are as expected, but in the description of each assert was copied and is not in sync with what is checked. Better would be to write this only once.</p>\n\n<p>From the ideas by @ddan I built a proxy solution using Mockito:</p>\n\n<pre><code>private&lt;T&gt; void assertPropertyEqual(final T object, final Function&lt;T, ?&gt; getter, final Object expected) {\n    final String methodName = getMethodName(object.getClass(), getter);\n    assertEquals(getter.apply(object), expected, methodName);\n}\n\n@SuppressWarnings(\"unchecked\")\nprivate&lt;T&gt; String getMethodName(final Class&lt;?&gt; clazz, final Function&lt;T, ?&gt; getter) {\n    final Method[] method = new Method[1];\n    getter.apply((T)Mockito.mock(clazz, Mockito.withSettings().invocationListeners(methodInvocationReport -&gt; {\n        method[0] = ((InvocationOnMock) methodInvocationReport.getInvocation()).getMethod();\n    })));\n    return method[0].getName();\n}\n</code></pre>\n\n<p>No I can simply use</p>\n\n<pre><code>assertPropertyEqual(p, Point::getX, 4);\nassertPropertyEqual(p, Point::getY, 6);\n</code></pre>\n\n<p>and the description of the assert is guaranteed to be in sync with the code.</p>\n\n<p>Downside:</p>\n\n<ul>\n<li>Will be slightly slower than above</li>\n<li>Needs Mockito to work</li>\n<li>Hardly useful to anything but the usecase above.</li>\n</ul>\n\n<p>However it does show a way how it could be done.</p>\n"},{"tags":[],"owner":{"account_id":3819917,"reputation":71,"user_id":3168221,"display_name":"Asghar Nemati"},"down_vote_count":7,"up_vote_count":2,"is_accepted":false,"score":-5,"last_activity_date":1501080913,"creation_date":1501080913,"answer_id":45330587,"question_id":19845213,"body_markdown":"Try this\r\n\r\n    Thread.currentThread().getStackTrace()[2].getMethodName();","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>Try this</p>\n\n<pre><code>Thread.currentThread().getStackTrace()[2].getMethodName();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3044,"reputation":12476,"user_id":4308,"accept_rate":84,"display_name":"Benedikt Waldvogel"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1613584293,"creation_date":1510735234,"answer_id":47302814,"question_id":19845213,"body_markdown":"We have published the small library [reflection-util][1] that can be used to capture a method name.\r\n\r\nExample:\r\n\r\n\tclass MyClass {\r\n\r\n        private int value;\r\n\r\n\t\tpublic void myMethod() {\r\n\t\t}\r\n\r\n\t\tpublic int getValue() {\r\n            return value;\r\n\t\t}\r\n\r\n\t}\r\n\r\n    String methodName = ClassUtils.getMethodName(MyClass.class, MyClass::myMethod);\r\n    System.out.println(methodName); // prints &quot;myMethod&quot;\r\n\r\n    String getterName = ClassUtils.getMethodName(MyClass.class, MyClass::getValue);\r\n    System.out.println(getterName); // prints &quot;getValue&quot;\r\n\r\nImplementation details: A Proxy subclass of `MyClass` is created with [ByteBuddy][2] and a call to the method is captured to retrieve its name.\r\n`ClassUtils` caches the information such that we do not need to create a new proxy on every invocation.\r\n\r\nPlease note that this approach is *no silver bullet* and there are some known cases that dont work:\r\n- It doesnt work for **static** methods.\r\n- It doesnt work if the class is **final**.\r\n- We currently do not support all potential method signatures. It should work for methods that do not take an argument such as a getter method.\r\n\r\n[1]: https://github.com/cronn/reflection-util\r\n[2]: https://bytebuddy.net","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>We have published the small library <a href=\"https://github.com/cronn/reflection-util\" rel=\"nofollow noreferrer\">reflection-util</a> that can be used to capture a method name.</p>\n<p>Example:</p>\n<pre><code>class MyClass {\n\n    private int value;\n\n    public void myMethod() {\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n}\n\nString methodName = ClassUtils.getMethodName(MyClass.class, MyClass::myMethod);\nSystem.out.println(methodName); // prints &quot;myMethod&quot;\n\nString getterName = ClassUtils.getMethodName(MyClass.class, MyClass::getValue);\nSystem.out.println(getterName); // prints &quot;getValue&quot;\n</code></pre>\n<p>Implementation details: A Proxy subclass of <code>MyClass</code> is created with <a href=\"https://bytebuddy.net\" rel=\"nofollow noreferrer\">ByteBuddy</a> and a call to the method is captured to retrieve its name.\n<code>ClassUtils</code> caches the information such that we do not need to create a new proxy on every invocation.</p>\n<p>Please note that this approach is <em>no silver bullet</em> and there are some known cases that dont work:</p>\n<ul>\n<li>It doesnt work for <strong>static</strong> methods.</li>\n<li>It doesnt work if the class is <strong>final</strong>.</li>\n<li>We currently do not support all potential method signatures. It should work for methods that do not take an argument such as a getter method.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1370627,"reputation":495,"user_id":1305930,"display_name":"vivimice"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1510897114,"creation_date":1510897114,"answer_id":47343958,"question_id":19845213,"body_markdown":"There may not be a reliable way, but under some circumstances:\r\n\r\n1. your `MyClass` is not final, and has an accessible constructor (limitation of cglib)\r\n2. your `myMethod` is not overloaded, and not static\r\n\r\nThe you can try using cglib to create a proxy of `MyClass`, then using an `MethodInterceptor` to report the `Method` while the method reference is invoked in a following trial run.\r\n\r\nExample code:\r\n\r\n    public static void main(String[] args) {\r\n        Method m = MethodReferenceUtils.getReferencedMethod(ArrayList.class, ArrayList::contains);\r\n        System.out.println(m);\r\n    }\r\n\r\nYou will see the following output:\r\n\r\n    public boolean java.util.ArrayList.contains(java.lang.Object)\r\n\r\nWhile:\r\n\r\n\tpublic class MethodReferenceUtils {\r\n\t\r\n\t\t@FunctionalInterface\r\n\t\tpublic static interface MethodRefWith1Arg&lt;T, A1&gt; {\r\n\t\t\tvoid call(T t, A1 a1);\r\n\t\t}\r\n\t\r\n\t\tpublic static &lt;T, A1&gt; Method getReferencedMethod(Class&lt;T&gt; clazz, MethodRefWith1Arg&lt;T, A1&gt; methodRef) {\r\n\t\t\treturn findReferencedMethod(clazz, t -&gt; methodRef.call(t, null));\r\n\t\t}\r\n\t\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tprivate static &lt;T&gt; Method findReferencedMethod(Class&lt;T&gt; clazz, Consumer&lt;T&gt; invoker) {\r\n\t\t\tAtomicReference&lt;Method&gt; ref = new AtomicReference&lt;&gt;();\r\n\t\t\tEnhancer enhancer = new Enhancer();\r\n\t\t\tenhancer.setSuperclass(clazz);\r\n\t\t\tenhancer.setCallback(new MethodInterceptor() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic Object intercept(Object obj, Method method, Object[] args, MethodProxy proxy) throws Throwable {\r\n\t\t\t\t\tref.set(method);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\ttry {\r\n\t\t\t\tinvoker.accept((T) enhancer.create());\r\n\t\t\t} catch (ClassCastException e) {\r\n\t\t\t\tthrow new IllegalArgumentException(String.format(&quot;Invalid method reference on class [%s]&quot;, clazz));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tMethod method = ref.get();\r\n\t\t\tif (method == null) {\r\n\t\t\t\tthrow new IllegalArgumentException(String.format(&quot;Invalid method reference on class [%s]&quot;, clazz));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn method;\r\n\t\t}\r\n\t}\r\n\r\nIn the above code, `MethodRefWith1Arg` is just a syntax sugar for you to reference an non-static method with one arguments. You can create as many as `MethodRefWithXArgs` for referencing your other methods.\r\n","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>There may not be a reliable way, but under some circumstances:</p>\n\n<ol>\n<li>your <code>MyClass</code> is not final, and has an accessible constructor (limitation of cglib)</li>\n<li>your <code>myMethod</code> is not overloaded, and not static</li>\n</ol>\n\n<p>The you can try using cglib to create a proxy of <code>MyClass</code>, then using an <code>MethodInterceptor</code> to report the <code>Method</code> while the method reference is invoked in a following trial run.</p>\n\n<p>Example code:</p>\n\n<pre><code>public static void main(String[] args) {\n    Method m = MethodReferenceUtils.getReferencedMethod(ArrayList.class, ArrayList::contains);\n    System.out.println(m);\n}\n</code></pre>\n\n<p>You will see the following output:</p>\n\n<pre><code>public boolean java.util.ArrayList.contains(java.lang.Object)\n</code></pre>\n\n<p>While:</p>\n\n<pre><code>public class MethodReferenceUtils {\n\n    @FunctionalInterface\n    public static interface MethodRefWith1Arg&lt;T, A1&gt; {\n        void call(T t, A1 a1);\n    }\n\n    public static &lt;T, A1&gt; Method getReferencedMethod(Class&lt;T&gt; clazz, MethodRefWith1Arg&lt;T, A1&gt; methodRef) {\n        return findReferencedMethod(clazz, t -&gt; methodRef.call(t, null));\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    private static &lt;T&gt; Method findReferencedMethod(Class&lt;T&gt; clazz, Consumer&lt;T&gt; invoker) {\n        AtomicReference&lt;Method&gt; ref = new AtomicReference&lt;&gt;();\n        Enhancer enhancer = new Enhancer();\n        enhancer.setSuperclass(clazz);\n        enhancer.setCallback(new MethodInterceptor() {\n            @Override\n            public Object intercept(Object obj, Method method, Object[] args, MethodProxy proxy) throws Throwable {\n                ref.set(method);\n                return null;\n            }\n        });\n        try {\n            invoker.accept((T) enhancer.create());\n        } catch (ClassCastException e) {\n            throw new IllegalArgumentException(String.format(\"Invalid method reference on class [%s]\", clazz));\n        }\n\n        Method method = ref.get();\n        if (method == null) {\n            throw new IllegalArgumentException(String.format(\"Invalid method reference on class [%s]\", clazz));\n        }\n\n        return method;\n    }\n}\n</code></pre>\n\n<p>In the above code, <code>MethodRefWith1Arg</code> is just a syntax sugar for you to reference an non-static method with one arguments. You can create as many as <code>MethodRefWithXArgs</code> for referencing your other methods.</p>\n"},{"tags":[],"owner":{"account_id":10057552,"reputation":47,"user_id":7435294,"display_name":"Dmitriy V."},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1511201329,"creation_date":1511201329,"answer_id":47398463,"question_id":19845213,"body_markdown":"So, I play with this code\r\n\r\n    import sun.reflect.ConstantPool;\r\n    \r\n    import java.lang.reflect.Method;\r\n    import java.util.function.Consumer;\r\n    \r\n    public class Main {\r\n        private Consumer&lt;String&gt; consumer;\r\n    \r\n        Main() {\r\n            consumer = this::test;\r\n        }\r\n    \r\n        public void test(String val) {\r\n            System.out.println(&quot;val = &quot; + val);\r\n        }\r\n    \r\n        public void run() throws Exception {\r\n            ConstantPool oa = sun.misc.SharedSecrets.getJavaLangAccess().getConstantPool(consumer.getClass());\r\n            for (int i = 0; i &lt; oa.getSize(); i++) {\r\n                try {\r\n                    Object v = oa.getMethodAt(i);\r\n                    if (v instanceof Method) {\r\n                        System.out.println(&quot;index = &quot; + i + &quot;, method = &quot; + v);\r\n                    }\r\n                } catch (Exception e) {\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            new Main().run();\r\n        }\r\n    }\r\n\r\noutput of this code is:\r\n\r\n    index = 30, method = public void Main.test(java.lang.String)\r\nAnd as I notice index of referenced method is always 30.\r\nFinal code may look like\r\n\r\n    public Method unreference(Object methodRef) {\r\n            ConstantPool constantPool = sun.misc.SharedSecrets.getJavaLangAccess().getConstantPool(methodRef.getClass());\r\n            try {\r\n                Object method = constantPool.getMethodAt(30);\r\n                if (method instanceof Method) {\r\n                    return (Method) method;\r\n                }\r\n            }catch (Exception ignored) {\r\n            }\r\n            throw new IllegalArgumentException(&quot;Not a method reference.&quot;);\r\n        }\r\n\r\n**Be careful with this code in production!**","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>So, I play with this code</p>\n\n<pre><code>import sun.reflect.ConstantPool;\n\nimport java.lang.reflect.Method;\nimport java.util.function.Consumer;\n\npublic class Main {\n    private Consumer&lt;String&gt; consumer;\n\n    Main() {\n        consumer = this::test;\n    }\n\n    public void test(String val) {\n        System.out.println(\"val = \" + val);\n    }\n\n    public void run() throws Exception {\n        ConstantPool oa = sun.misc.SharedSecrets.getJavaLangAccess().getConstantPool(consumer.getClass());\n        for (int i = 0; i &lt; oa.getSize(); i++) {\n            try {\n                Object v = oa.getMethodAt(i);\n                if (v instanceof Method) {\n                    System.out.println(\"index = \" + i + \", method = \" + v);\n                }\n            } catch (Exception e) {\n            }\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        new Main().run();\n    }\n}\n</code></pre>\n\n<p>output of this code is:</p>\n\n<pre><code>index = 30, method = public void Main.test(java.lang.String)\n</code></pre>\n\n<p>And as I notice index of referenced method is always 30.\nFinal code may look like</p>\n\n<pre><code>public Method unreference(Object methodRef) {\n        ConstantPool constantPool = sun.misc.SharedSecrets.getJavaLangAccess().getConstantPool(methodRef.getClass());\n        try {\n            Object method = constantPool.getMethodAt(30);\n            if (method instanceof Method) {\n                return (Method) method;\n            }\n        }catch (Exception ignored) {\n        }\n        throw new IllegalArgumentException(\"Not a method reference.\");\n    }\n</code></pre>\n\n<p><strong>Be careful with this code in production!</strong></p>\n"},{"tags":[],"owner":{"account_id":10594124,"reputation":4478,"user_id":7803527,"accept_rate":75,"display_name":"Dean Xu"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1524562391,"creation_date":1524562391,"answer_id":49998151,"question_id":19845213,"body_markdown":"You can use my library [`Reflect Without String`][1]\r\n\r\n    Method myMethod = ReflectWithoutString.methodGetter(MyClass.class).getMethod(MyClass::myMethod);\r\n\r\n\r\n  [1]: https://github.com/XDean/ReflectWithoutString","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>You can use my library <a href=\"https://github.com/XDean/ReflectWithoutString\" rel=\"nofollow noreferrer\"><code>Reflect Without String</code></a></p>\n\n<pre><code>Method myMethod = ReflectWithoutString.methodGetter(MyClass.class).getMethod(MyClass::myMethod);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5705055,"reputation":1872,"user_id":4508899,"accept_rate":75,"display_name":"Jonas_Hess"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677504025,"creation_date":1676310972,"answer_id":75439570,"question_id":19845213,"body_markdown":"Another solution using Mockito:\r\n\r\n**pom.xml:**\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Test code:**\r\n\r\n    @Test\r\n    void testMethodNameGetter() {\r\n        final var invocations = MethodUtil.getMethodFromGetter(DummyClass.class, DummyClass::getTestString);\r\n        Assertions.assertEquals(&quot;getTestString&quot;, invocations.get(0).getMethod().getName());\r\n    }\r\n    @Test\r\n    void testMethodNameSetter() {\r\n        final var invocations = MethodUtil.getMethodFromSetter(DummyClass.class, DummyClass::setTestString);\r\n        Assertions.assertEquals(&quot;setTestString&quot;, invocations.get(0).getMethod().getName());\r\n    }\r\n\r\n**java code:**\r\n\r\n    public class MethodUtil {\r\n\r\n    @Getter\r\n    @AllArgsConstructor\r\n    public static class MethodInvocation {\r\n        private Method method;\r\n        private Object[] arguments;\r\n    }\r\n\r\n    private MethodUtil() {\r\n        // static class\r\n    }\r\n\r\n    public static &lt;T&gt; List&lt;MethodInvocation&gt; getMethodFromGetter(final Class&lt;T&gt; clazz, final Function&lt;T, ?&gt; getter) {\r\n        return captureMethodOnInvocation(clazz, getter::apply);\r\n    }\r\n\r\n    public static &lt;\r\n            T,\r\n            V&gt; List&lt;MethodInvocation&gt; getMethodFromSetter(final Class&lt;T&gt; clazz, final BiConsumer&lt;T, V&gt; setter) {\r\n        return captureMethodOnInvocation(clazz, (T mock) -&gt; {\r\n\r\n            final BiConsumer setterGeneric = setter;\r\n            tryOneByOneUntilSuccess(\r\n                    () -&gt; setterGeneric.accept(mock, 0),\r\n                    () -&gt; setterGeneric.accept(mock, false),\r\n                    () -&gt; setterGeneric.accept(mock, 0D),\r\n                    () -&gt; setterGeneric.accept(mock, 0F),\r\n                    () -&gt; setterGeneric.accept(mock, null));\r\n        });\r\n    }\r\n\r\n    private static void tryOneByOneUntilSuccess(final Runnable... runnableArray) {\r\n        for (int i = 0, runnableArrayLength = runnableArray.length; i &lt; runnableArrayLength; i++) {\r\n            final Runnable runnable = runnableArray[i];\r\n            try {\r\n                runnable.run();\r\n                break;\r\n            } catch (final NullPointerException | ClassCastException e) {\r\n                if (i == runnableArrayLength - 1) {\r\n                    throw e;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private static &lt;\r\n            T&gt; List&lt;MethodInvocation&gt; captureMethodOnInvocation(final Class&lt;T&gt; clazz, final Consumer&lt;T&gt; invokeMock) {\r\n        try {\r\n            final List&lt;MethodInvocation&gt; methodReferences = new ArrayList&lt;&gt;();\r\n            final InvocationListener invocationListener = new InvocationListener() {\r\n                @Override\r\n                public void reportInvocation(final MethodInvocationReport methodInvocationReport) {\r\n                    final InvocationOnMock invocation = (InvocationOnMock) methodInvocationReport.getInvocation();\r\n\r\n                    final Method method = invocation.getMethod();\r\n                    final Object[] arguments = invocation.getArguments();\r\n                    methodReferences.add(new MethodInvocation(method, arguments));\r\n                }\r\n            };\r\n            final MockSettings mockSettings = Mockito.withSettings().invocationListeners(invocationListener);\r\n            final T mock = Mockito.mock(clazz, mockSettings);\r\n            invokeMock.accept(mock);\r\n            return methodReferences;\r\n\r\n        } catch (final Exception e) {\r\n            throw new RuntimeException(&quot;Method could not be captured at runtime.&quot;, e);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>Another solution using Mockito:</p>\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n  &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Test code:</strong></p>\n<pre><code>@Test\nvoid testMethodNameGetter() {\n    final var invocations = MethodUtil.getMethodFromGetter(DummyClass.class, DummyClass::getTestString);\n    Assertions.assertEquals(&quot;getTestString&quot;, invocations.get(0).getMethod().getName());\n}\n@Test\nvoid testMethodNameSetter() {\n    final var invocations = MethodUtil.getMethodFromSetter(DummyClass.class, DummyClass::setTestString);\n    Assertions.assertEquals(&quot;setTestString&quot;, invocations.get(0).getMethod().getName());\n}\n</code></pre>\n<p><strong>java code:</strong></p>\n<pre><code>public class MethodUtil {\n\n@Getter\n@AllArgsConstructor\npublic static class MethodInvocation {\n    private Method method;\n    private Object[] arguments;\n}\n\nprivate MethodUtil() {\n    // static class\n}\n\npublic static &lt;T&gt; List&lt;MethodInvocation&gt; getMethodFromGetter(final Class&lt;T&gt; clazz, final Function&lt;T, ?&gt; getter) {\n    return captureMethodOnInvocation(clazz, getter::apply);\n}\n\npublic static &lt;\n        T,\n        V&gt; List&lt;MethodInvocation&gt; getMethodFromSetter(final Class&lt;T&gt; clazz, final BiConsumer&lt;T, V&gt; setter) {\n    return captureMethodOnInvocation(clazz, (T mock) -&gt; {\n\n        final BiConsumer setterGeneric = setter;\n        tryOneByOneUntilSuccess(\n                () -&gt; setterGeneric.accept(mock, 0),\n                () -&gt; setterGeneric.accept(mock, false),\n                () -&gt; setterGeneric.accept(mock, 0D),\n                () -&gt; setterGeneric.accept(mock, 0F),\n                () -&gt; setterGeneric.accept(mock, null));\n    });\n}\n\nprivate static void tryOneByOneUntilSuccess(final Runnable... runnableArray) {\n    for (int i = 0, runnableArrayLength = runnableArray.length; i &lt; runnableArrayLength; i++) {\n        final Runnable runnable = runnableArray[i];\n        try {\n            runnable.run();\n            break;\n        } catch (final NullPointerException | ClassCastException e) {\n            if (i == runnableArrayLength - 1) {\n                throw e;\n            }\n        }\n    }\n\n}\n\nprivate static &lt;\n        T&gt; List&lt;MethodInvocation&gt; captureMethodOnInvocation(final Class&lt;T&gt; clazz, final Consumer&lt;T&gt; invokeMock) {\n    try {\n        final List&lt;MethodInvocation&gt; methodReferences = new ArrayList&lt;&gt;();\n        final InvocationListener invocationListener = new InvocationListener() {\n            @Override\n            public void reportInvocation(final MethodInvocationReport methodInvocationReport) {\n                final InvocationOnMock invocation = (InvocationOnMock) methodInvocationReport.getInvocation();\n\n                final Method method = invocation.getMethod();\n                final Object[] arguments = invocation.getArguments();\n                methodReferences.add(new MethodInvocation(method, arguments));\n            }\n        };\n        final MockSettings mockSettings = Mockito.withSettings().invocationListeners(invocationListener);\n        final T mock = Mockito.mock(clazz, mockSettings);\n        invokeMock.accept(mock);\n        return methodReferences;\n\n    } catch (final Exception e) {\n        throw new RuntimeException(&quot;Method could not be captured at runtime.&quot;, e);\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":68627,"reputation":1498,"user_id":200130,"accept_rate":90,"display_name":"Rafal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38300,"favorite_count":0,"down_vote_count":0,"up_vote_count":100,"accepted_answer_id":19845393,"answer_count":10,"score":100,"last_activity_date":1677504025,"creation_date":1383853579,"question_id":19845213,"body_markdown":"Please have a look at the following code:\r\n\r\n    Method methodInfo = MyClass.class.getMethod(&quot;myMethod&quot;);\r\n\r\nThis works, but the method name is passed as a string, so this will compile even if myMethod does not exist.\r\n\r\nOn the other hand, Java 8 introduces a method reference feature. It is checked at compile time. It is possible to use this feature to get method info?\r\n\r\n    printMethodName(MyClass::myMethod);\r\n\r\nFull example:\r\n\r\n    @FunctionalInterface\r\n    private interface Action {\r\n        \r\n        void invoke();\r\n    }\r\n    \r\n    private static class MyClass {\r\n        \r\n        public static void myMethod() {\r\n        }\r\n    }\r\n    \r\n    private static void printMethodName(Action action) {\r\n    }\r\n\r\n    public static void main(String[] args) throws NoSuchMethodException {\r\n        // This works, but method name is passed as a string, so this will compile\r\n        // even if myMethod does not exist\r\n        Method methodInfo = MyClass.class.getMethod(&quot;myMethod&quot;);\r\n        \r\n        // Here we pass reference to a method. It is somehow possible to\r\n        // obtain java.lang.reflect.Method for myMethod inside printMethodName?\r\n        printMethodName(MyClass::myMethod);\r\n    }\r\n\r\nIn other words I would like to have a code which is the equivalent of the following C# code:\r\n\r\n        private static class InnerClass\r\n        {\r\n            public static void MyMethod()\r\n            {\r\n                Console.WriteLine(&quot;Hello&quot;);\r\n            }\r\n        }\r\n\r\n        static void PrintMethodName(Action action)\r\n        {\r\n            // Can I get java.lang.reflect.Method in the same way?\r\n            MethodInfo methodInfo = action.GetMethodInfo();\r\n        }\r\n\r\n        static void Main()\r\n        {\r\n            PrintMethodName(InnerClass.MyMethod);\r\n        }\r\n","title":"How to get the MethodInfo of a Java 8 method reference?","body":"<p>Please have a look at the following code:</p>\n\n<pre><code>Method methodInfo = MyClass.class.getMethod(\"myMethod\");\n</code></pre>\n\n<p>This works, but the method name is passed as a string, so this will compile even if myMethod does not exist.</p>\n\n<p>On the other hand, Java 8 introduces a method reference feature. It is checked at compile time. It is possible to use this feature to get method info?</p>\n\n<pre><code>printMethodName(MyClass::myMethod);\n</code></pre>\n\n<p>Full example:</p>\n\n<pre><code>@FunctionalInterface\nprivate interface Action {\n\n    void invoke();\n}\n\nprivate static class MyClass {\n\n    public static void myMethod() {\n    }\n}\n\nprivate static void printMethodName(Action action) {\n}\n\npublic static void main(String[] args) throws NoSuchMethodException {\n    // This works, but method name is passed as a string, so this will compile\n    // even if myMethod does not exist\n    Method methodInfo = MyClass.class.getMethod(\"myMethod\");\n\n    // Here we pass reference to a method. It is somehow possible to\n    // obtain java.lang.reflect.Method for myMethod inside printMethodName?\n    printMethodName(MyClass::myMethod);\n}\n</code></pre>\n\n<p>In other words I would like to have a code which is the equivalent of the following C# code:</p>\n\n<pre><code>    private static class InnerClass\n    {\n        public static void MyMethod()\n        {\n            Console.WriteLine(\"Hello\");\n        }\n    }\n\n    static void PrintMethodName(Action action)\n    {\n        // Can I get java.lang.reflect.Method in the same way?\n        MethodInfo methodInfo = action.GetMethodInfo();\n    }\n\n    static void Main()\n    {\n        PrintMethodName(InnerClass.MyMethod);\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","android-activity"],"comments":[{"owner":{"account_id":10698530,"reputation":582,"user_id":7874746,"display_name":"Abdullah Javed"},"score":2,"creation_date":1677501861,"post_id":75580367,"comment_id":133343912,"body_markdown":"Call method in onStop() as app is still running in the background and activity is not destroyed. For multiple activities you can make a base class for this purpose.","body":"Call method in onStop() as app is still running in the background and activity is not destroyed. For multiple activities you can make a base class for this purpose."}],"answers":[{"tags":[],"owner":{"account_id":14562608,"reputation":198,"user_id":10518289,"display_name":"janithcooray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677502960,"creation_date":1677502960,"answer_id":75580838,"question_id":75580367,"body_markdown":"You didn&#39;t state if you were doing this with JAVA or Kotlin, but not a big deal.\r\ntry onPause() This is called when the user presses the home button and the activity is no longer in the foreground.\r\n\r\n```\r\n    @Override\r\n    protected void onPause(){\r\n        super.onPause();\r\n        something();\r\n    }\r\n```","title":"Android : Call function when user close app from any activity","body":"<p>You didn't state if you were doing this with JAVA or Kotlin, but not a big deal.\ntry onPause() This is called when the user presses the home button and the activity is no longer in the foreground.</p>\n<pre><code>    @Override\n    protected void onPause(){\n        super.onPause();\n        something();\n    }\n</code></pre>\n"}],"owner":{"account_id":14622815,"reputation":257,"user_id":10560949,"display_name":"Jay Panchal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677503776,"creation_date":1677500024,"question_id":75580367,"body_markdown":"I want to call one function when the user closes the app from any activity. For e.g. the user opens the app and uses it for some time and then clicks on the home button and closes the app at that time I want to call one method.\r\n\r\n\r\nHow can I archive this.?\r\n\r\nCurrently I used onDestroy method for the call function but seems like it does work for me","title":"Android : Call function when user close app from any activity","body":"<p>I want to call one function when the user closes the app from any activity. For e.g. the user opens the app and uses it for some time and then clicks on the home button and closes the app at that time I want to call one method.</p>\n<p>How can I archive this.?</p>\n<p>Currently I used onDestroy method for the call function but seems like it does work for me</p>\n"},{"tags":["java","jboss","wildfly"],"answers":[{"tags":[],"owner":{"account_id":24460312,"reputation":16,"user_id":18381413,"display_name":"fischey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677503298,"creation_date":1677098284,"answer_id":75537920,"question_id":75516296,"body_markdown":"You need to add the Module to the standalone.xml configuration File, so that the Wildfly will load the module. See here: http://www.mastertheboss.com/jbossas/jboss-configuration/configuring-global-modules-and-directories-in-wildfly/?amp=1 section global modules\r\n\r\nIn your example it should look like this:\r\n\r\n````\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:ee:1.0&quot; &gt;            \r\n      &lt;global-modules&gt;\r\n        &lt;module name=com.acme.bouncy&quot; slot=&quot;main&quot; /&gt;            \r\n      &lt;/global-modules&gt; \r\n    &lt;/subsystem&gt;\r\n````\r\n\r\nYou could also use the jboss-cli to add the module.\r\n````\r\nsubsystem=ee/:write-attribute(name=global-modules,value=[{&quot;name&quot; =&gt; &quot;com.acme.bouncy&quot;,&quot;slot&quot; =&gt; &quot;main&quot;}])\r\n````","title":"wildfly 21 -- add bouncy castle provider without changing JDK configuration","body":"<p>You need to add the Module to the standalone.xml configuration File, so that the Wildfly will load the module. See here: <a href=\"http://www.mastertheboss.com/jbossas/jboss-configuration/configuring-global-modules-and-directories-in-wildfly/?amp=1\" rel=\"nofollow noreferrer\">http://www.mastertheboss.com/jbossas/jboss-configuration/configuring-global-modules-and-directories-in-wildfly/?amp=1</a> section global modules</p>\n<p>In your example it should look like this:</p>\n<pre><code>    &lt;subsystem xmlns=&quot;urn:jboss:domain:ee:1.0&quot; &gt;            \n      &lt;global-modules&gt;\n        &lt;module name=com.acme.bouncy&quot; slot=&quot;main&quot; /&gt;            \n      &lt;/global-modules&gt; \n    &lt;/subsystem&gt;\n</code></pre>\n<p>You could also use the jboss-cli to add the module.</p>\n<pre><code>subsystem=ee/:write-attribute(name=global-modules,value=[{&quot;name&quot; =&gt; &quot;com.acme.bouncy&quot;,&quot;slot&quot; =&gt; &quot;main&quot;}])\n</code></pre>\n"}],"owner":{"account_id":13092570,"reputation":127,"user_id":9459527,"display_name":"mikedoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75537920,"answer_count":1,"score":0,"last_activity_date":1677503298,"creation_date":1676953599,"question_id":75516296,"body_markdown":"I tried creating a module with the provider jar \r\nThis is the module:\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;module xmlns=&quot;urn:jboss:module:1.3&quot; name=&quot;com.acme.bouncy&quot;&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource-root path=&quot;bcprovider.jar&quot;/&gt;\r\n        &lt;/resources&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;module name=&quot;javax.api&quot;/&gt;\r\n            &lt;module name=&quot;javax.transaction.api&quot;/&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/module&gt;\r\n```\r\nI added the option to change security file to wildfly.conf which adds the provider\r\n```\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Djava.security.properties=/var/opt/acme/bcprops.security&quot;\r\n```\r\nbut I still get this error unless the jar file is added to jre/lib/ext (which I don&#39;t want to do):\r\n```\r\n2023-02-21 03:42:47,014 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service org.wildfly.security.credential-store.mastercs: org.jboss.msc.service.StartException in service org.wildfly.security.credential-store.mastercs: WFLYELY00004: Unable to start the service.\r\n\tat org.wildfly.extension.elytron.CredentialStoreService.start(CredentialStoreService.java:132)\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n\tat org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: org.wildfly.security.credential.store.CredentialStoreException: ELY09514: Unable to initialize credential store\r\n\tat org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.getKeyStoreInstance(KeyStoreCredentialStore.java:953)\r\n\tat org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.setupExternalStorage(KeyStoreCredentialStore.java:962)\r\n\tat org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.load(KeyStoreCredentialStore.java:841)\r\n\tat org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.initialize(KeyStoreCredentialStore.java:223)\r\n\tat org.wildfly.security.credential.store.CredentialStore.initialize(CredentialStore.java:160)\r\n\tat org.wildfly.extension.elytron.CredentialStoreService.start(CredentialStoreService.java:123)\r\n\t... 8 more\r\nCaused by: java.security.KeyStoreException: BKS not found\r\n\tat java.security.KeyStore.getInstance(KeyStore.java:851)\r\n\tat org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.getKeyStoreInstance(KeyStoreCredentialStore.java:949)\r\n\t... 13 more\r\nCaused by: java.security.NoSuchAlgorithmException: BKS KeyStore not available\r\n\tat sun.security.jca.GetInstance.getInstance(GetInstance.java:159)\r\n\tat java.security.Security.getImpl(Security.java:695)\r\n\tat java.security.KeyStore.getInstance(KeyStore.java:848)\r\n\t... 14 more\r\n```","title":"wildfly 21 -- add bouncy castle provider without changing JDK configuration","body":"<p>I tried creating a module with the provider jar\nThis is the module:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;module xmlns=&quot;urn:jboss:module:1.3&quot; name=&quot;com.acme.bouncy&quot;&gt;\n        &lt;resources&gt;\n            &lt;resource-root path=&quot;bcprovider.jar&quot;/&gt;\n        &lt;/resources&gt;\n        &lt;dependencies&gt;\n            &lt;module name=&quot;javax.api&quot;/&gt;\n            &lt;module name=&quot;javax.transaction.api&quot;/&gt;\n        &lt;/dependencies&gt;\n    &lt;/module&gt;\n</code></pre>\n<p>I added the option to change security file to wildfly.conf which adds the provider</p>\n<pre><code>JAVA_OPTS=&quot;$JAVA_OPTS -Djava.security.properties=/var/opt/acme/bcprops.security&quot;\n</code></pre>\n<p>but I still get this error unless the jar file is added to jre/lib/ext (which I don't want to do):</p>\n<pre><code>2023-02-21 03:42:47,014 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service org.wildfly.security.credential-store.mastercs: org.jboss.msc.service.StartException in service org.wildfly.security.credential-store.mastercs: WFLYELY00004: Unable to start the service.\n    at org.wildfly.extension.elytron.CredentialStoreService.start(CredentialStoreService.java:132)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\n    at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: org.wildfly.security.credential.store.CredentialStoreException: ELY09514: Unable to initialize credential store\n    at org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.getKeyStoreInstance(KeyStoreCredentialStore.java:953)\n    at org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.setupExternalStorage(KeyStoreCredentialStore.java:962)\n    at org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.load(KeyStoreCredentialStore.java:841)\n    at org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.initialize(KeyStoreCredentialStore.java:223)\n    at org.wildfly.security.credential.store.CredentialStore.initialize(CredentialStore.java:160)\n    at org.wildfly.extension.elytron.CredentialStoreService.start(CredentialStoreService.java:123)\n    ... 8 more\nCaused by: java.security.KeyStoreException: BKS not found\n    at java.security.KeyStore.getInstance(KeyStore.java:851)\n    at org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.getKeyStoreInstance(KeyStoreCredentialStore.java:949)\n    ... 13 more\nCaused by: java.security.NoSuchAlgorithmException: BKS KeyStore not available\n    at sun.security.jca.GetInstance.getInstance(GetInstance.java:159)\n    at java.security.Security.getImpl(Security.java:695)\n    at java.security.KeyStore.getInstance(KeyStore.java:848)\n    ... 14 more\n</code></pre>\n"},{"tags":["java","spring","xsd","dependencies"],"owner":{"account_id":22804956,"reputation":1,"user_id":18894094,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677503010,"answer_count":0,"score":0,"last_activity_date":1677503297,"creation_date":1677498838,"question_id":75580146,"body_markdown":"Lately Spring moved some of their XSD files. Because of it our product just stops working.\r\n\r\nCan you make me some advice, what is better solution to avoid such kind of problems. Should we have our versions of dependencies that relates only on locally stored files? What is best way to store them? \r\n\r\nWe are very small region software company and I&#39;ll be really appreciated to hear some best practices from more experienced developers from bigger companies.\r\n\r\nNow we just change some jar files and links in them to existed XSD. ","title":"Where to store XSD and how to avoid strong dependencies to external links?","body":"<p>Lately Spring moved some of their XSD files. Because of it our product just stops working.</p>\n<p>Can you make me some advice, what is better solution to avoid such kind of problems. Should we have our versions of dependencies that relates only on locally stored files? What is best way to store them?</p>\n<p>We are very small region software company and I'll be really appreciated to hear some best practices from more experienced developers from bigger companies.</p>\n<p>Now we just change some jar files and links in them to existed XSD.</p>\n"},{"tags":["java","database","hibernate","jpa","h2"],"comments":[{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367291959,"post_id":16289804,"comment_id":23320296,"body_markdown":"I take Hibernate is generating the schema, right?","body":"I take Hibernate is generating the schema, right?"},{"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":1,"creation_date":1367297791,"post_id":16289804,"comment_id":23321482,"body_markdown":"If the column is created without precision and scale, then H2 doesn&#39;t truncate. So either the column is created with precision / scale, or Hibernate, or your application truncates the value. I can&#39;t say which one it is however.","body":"If the column is created without precision and scale, then H2 doesn&#39;t truncate. So either the column is created with precision / scale, or Hibernate, or your application truncates the value. I can&#39;t say which one it is however."},{"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":0,"creation_date":1367390165,"post_id":16289804,"comment_id":23359043,"body_markdown":"Could you get the schema of this database, by executing the SQL statement `SCRIPT` in the H2 database?","body":"Could you get the schema of this database, by executing the SQL statement <code>SCRIPT</code> in the H2 database?"},{"owner":{"account_id":371567,"reputation":1694,"user_id":720163,"accept_rate":73,"display_name":"Matej Tymes"},"score":0,"creation_date":1367413896,"post_id":16289804,"comment_id":23367261,"body_markdown":"I assume it will be the creation script (thanks for now), will verify it soon","body":"I assume it will be the creation script (thanks for now), will verify it soon"},{"owner":{"account_id":309306,"reputation":5033,"user_id":621686,"accept_rate":71,"display_name":"bvulaj"},"score":0,"creation_date":1439998239,"post_id":16289804,"comment_id":52094008,"body_markdown":"Ever find an answer to this?  We&#39;re also experiencing this problem.","body":"Ever find an answer to this?  We&#39;re also experiencing this problem."},{"owner":{"account_id":9478211,"reputation":387,"user_id":7046953,"display_name":"Scar Coder"},"score":0,"creation_date":1483569105,"post_id":16289804,"comment_id":70154576,"body_markdown":"I found a helpful answer here:\nhttp://stackoverflow.com/questions/15568048/play-framework-ebean-bigdecimal-fraction","body":"I found a helpful answer here: <a href=\"http://stackoverflow.com/questions/15568048/play-framework-ebean-bigdecimal-fraction\" title=\"play framework ebean bigdecimal fraction\">stackoverflow.com/questions/15568048/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1014607,"reputation":4573,"user_id":1026453,"accept_rate":83,"display_name":"DuncanKinnear"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1391737894,"creation_date":1391737894,"answer_id":21617841,"question_id":16289804,"body_markdown":"Even though you don&#39;t know the precision/scale up-front, I think you still need to define the *maximum* precision and scale in the `@Column` annotation. You need to have a look at the database schema generated to see how Hibernate is defining the column.\r\n\r\nBy the way, I can tell you that the creation of the `BigDecimal` value coming back from the database is done by the proprietary JDBC driver&#39;s implementation of the `getBigDecimal` method of the database-specific `ResultSet` sub-class.\r\n\r\nI found this out by stepping thru the Hibernate source code with a debugger, while trying to find the answer to [my own question][1].\r\n\r\nIt seems that some implementations of the `getBigDecimal` method will either use the precision/scale defined in the database schema, or will try to optimise the `BigDecimal` returned by only defining the minimum precision/scale required to hold the value retrieved.\r\n\r\nSee also [my question here][1] and this [other question][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21568693/hibernate-bigdecimal-column-mapping-for-custom-dialect\r\n  [2]: https://stackoverflow.com/questions/6544232/how-do-i-map-a-bigdecimal-in-hibernate-so-i-get-back-the-same-scale-i-put-in","title":"lost precision when storing BigDecimal into H2 using Hibernate","body":"<p>Even though you don't know the precision/scale up-front, I think you still need to define the <em>maximum</em> precision and scale in the <code>@Column</code> annotation. You need to have a look at the database schema generated to see how Hibernate is defining the column.</p>\n\n<p>By the way, I can tell you that the creation of the <code>BigDecimal</code> value coming back from the database is done by the proprietary JDBC driver's implementation of the <code>getBigDecimal</code> method of the database-specific <code>ResultSet</code> sub-class.</p>\n\n<p>I found this out by stepping thru the Hibernate source code with a debugger, while trying to find the answer to <a href=\"https://stackoverflow.com/questions/21568693/hibernate-bigdecimal-column-mapping-for-custom-dialect\">my own question</a>.</p>\n\n<p>It seems that some implementations of the <code>getBigDecimal</code> method will either use the precision/scale defined in the database schema, or will try to optimise the <code>BigDecimal</code> returned by only defining the minimum precision/scale required to hold the value retrieved.</p>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/21568693/hibernate-bigdecimal-column-mapping-for-custom-dialect\">my question here</a> and this <a href=\"https://stackoverflow.com/questions/6544232/how-do-i-map-a-bigdecimal-in-hibernate-so-i-get-back-the-same-scale-i-put-in\">other question</a>.</p>\n"},{"tags":[],"owner":{"account_id":5729160,"reputation":185,"user_id":4525240,"display_name":"James Matlik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440005852,"creation_date":1440005852,"answer_id":32102104,"question_id":16289804,"body_markdown":"We ran into a situation very similar to what is described here, but the problem was partly due to how we manage our environment.  We are using Spring Data JPA (uses Hibernate) but manage our schema migrations using Flyway.\r\n\r\nWhen interacting with Postgres, everything was fine, but when using H2 for testing, all our DECIMAL types were persisted into the database with only two digits of rounded (half up) scale with no obvious reason.\r\n\r\nIn our case, the problem was resolved by setting this flag in our Spring Boot application.properties:\r\n\r\n`spring.jpa.hibernate.ddl-auto=none`\r\n\r\nSo, the root cause was incomplete JPA definitions for DDL generation being applied by Hibernate.  Our solution was to disable the automatic DDL generation because we are taking care of it with SQL scripts, but this should also be fixable via a more complete JPA definition.","title":"lost precision when storing BigDecimal into H2 using Hibernate","body":"<p>We ran into a situation very similar to what is described here, but the problem was partly due to how we manage our environment.  We are using Spring Data JPA (uses Hibernate) but manage our schema migrations using Flyway.</p>\n\n<p>When interacting with Postgres, everything was fine, but when using H2 for testing, all our DECIMAL types were persisted into the database with only two digits of rounded (half up) scale with no obvious reason.</p>\n\n<p>In our case, the problem was resolved by setting this flag in our Spring Boot application.properties:</p>\n\n<p><code>spring.jpa.hibernate.ddl-auto=none</code></p>\n\n<p>So, the root cause was incomplete JPA definitions for DDL generation being applied by Hibernate.  Our solution was to disable the automatic DDL generation because we are taking care of it with SQL scripts, but this should also be fixable via a more complete JPA definition.</p>\n"},{"tags":[],"owner":{"account_id":332311,"reputation":3167,"user_id":657525,"display_name":"womd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677503295,"creation_date":1677502746,"answer_id":75580799,"question_id":16289804,"body_markdown":"ran into this, trying to store values like: 0.08559, 0.000000012, would be stored as 0.00.\r\nOne has to use scale + precision attribute on the Entity definition \r\neg:\r\n\r\n    @Column(scale = 15, precision = 30)\r\n    private BigDecimal myValue;\r\n\r\nremember: Precision specifies total number of digits in a number\r\nscale specifies number of digits after the decimal point.\r\n","title":"lost precision when storing BigDecimal into H2 using Hibernate","body":"<p>ran into this, trying to store values like: 0.08559, 0.000000012, would be stored as 0.00.\nOne has to use scale + precision attribute on the Entity definition\neg:</p>\n<pre><code>@Column(scale = 15, precision = 30)\nprivate BigDecimal myValue;\n</code></pre>\n<p>remember: Precision specifies total number of digits in a number\nscale specifies number of digits after the decimal point.</p>\n"}],"owner":{"account_id":371567,"reputation":1694,"user_id":720163,"accept_rate":73,"display_name":"Matej Tymes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7534,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1677503295,"creation_date":1367277517,"question_id":16289804,"body_markdown":"We are using H2 database for testing purposes, but when I store BigDecimal value into it using Hibernate and then load it back the value is truncated to two decimal places:\r\n\r\nThe field definition looks like this\r\n\r\n    @Column(name = &quot;Rate&quot;, nullable = true)\r\n    private BigDecimal rate;\r\n\r\nso 1.456 is truncated into 1.46.\r\n\r\nI don&#39;t know the precision upfront (it is different for every entity), so I can&#39;t define them on the annotation.\r\n\r\nIs there some way how to resolve this?","title":"lost precision when storing BigDecimal into H2 using Hibernate","body":"<p>We are using H2 database for testing purposes, but when I store BigDecimal value into it using Hibernate and then load it back the value is truncated to two decimal places:</p>\n\n<p>The field definition looks like this</p>\n\n<pre><code>@Column(name = \"Rate\", nullable = true)\nprivate BigDecimal rate;\n</code></pre>\n\n<p>so 1.456 is truncated into 1.46.</p>\n\n<p>I don't know the precision upfront (it is different for every entity), so I can't define them on the annotation.</p>\n\n<p>Is there some way how to resolve this?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1677501558,"post_id":75580502,"comment_id":133343823,"body_markdown":"Do you use the value returned by save()?","body":"Do you use the value returned by save()?"},{"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"score":0,"creation_date":1677501772,"post_id":75580502,"comment_id":133343877,"body_markdown":"Ughh, I&#39;m not sure that I understand what you excalty mean, If you dont mind, be more specific, sorry","body":"Ughh, I&#39;m not sure that I understand what you excalty mean, If you dont mind, be more specific, sorry"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677501888,"post_id":75580502,"comment_id":133343921,"body_markdown":"It looks like youre overwriting the transaction with the one in the database before you call the method to update `transaction = transactionService.getTransactionById(transactionId);`","body":"It looks like youre overwriting the transaction with the one in the database before you call the method to update <code>transaction = transactionService.getTransactionById(transactionId);</code>"},{"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"score":0,"creation_date":1677502108,"post_id":75580502,"comment_id":133343980,"body_markdown":"When I remove that line result is same","body":"When I remove that line result is same"},{"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"score":0,"creation_date":1677502229,"post_id":75580502,"comment_id":133344031,"body_markdown":"Also, just to mention, you can see that In transaction table I have field as `note` and when i try to edit that field its also as for `amount`, new values are not recieved","body":"Also, just to mention, you can see that In transaction table I have field as <code>note</code> and when i try to edit that field its also as for <code>amount</code>, new values are not recieved"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677502452,"post_id":75580502,"comment_id":133344099,"body_markdown":"Youre doing the same thing in both controller and service. You take in the `Transaction` object, but then overwrite it when you fetch the existing from the database. I suggest making a new object such as `Transaction existing = transactionService.getTransactionById(transactionId);`, then overwrite its data with the new fields from `transaction` and call `save(existing);`","body":"Youre doing the same thing in both controller and service. You take in the <code>Transaction</code> object, but then overwrite it when you fetch the existing from the database. I suggest making a new object such as <code>Transaction existing = transactionService.getTransactionById(transactionId);</code>, then overwrite its data with the new fields from <code>transaction</code> and call <code>save(existing);</code>"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1677502478,"post_id":75580502,"comment_id":133344105,"body_markdown":"Both `amount` and `note` are not annotated as `@Column`","body":"Both <code>amount</code> and <code>note</code> are not annotated as <code>@Column</code>"},{"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"score":0,"creation_date":1677503085,"post_id":75580502,"comment_id":133344287,"body_markdown":"@CalvinP. Can you be a bit more specific? Like where I need to create new `existing` object? In controller?","body":"@CalvinP. Can you be a bit more specific? Like where I need to create new <code>existing</code> object? In controller?"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677503512,"post_id":75580502,"comment_id":133344418,"body_markdown":"@Frosty I would recommend creating it in the service actually, as traditionally this is where most of your business logic should lie.","body":"@Frosty I would recommend creating it in the service actually, as traditionally this is where most of your business logic should lie."}],"answers":[{"tags":[],"owner":{"account_id":17857092,"reputation":26,"user_id":12971433,"display_name":"Navid Mahbub"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677503245,"creation_date":1677503245,"answer_id":75580881,"question_id":75580502,"body_markdown":"&gt; transaction = transactionService.getTransactionById(transactionId);\r\n\r\nThe problem is in the above as you reused the variable. The incoming new `transaction` with value 15 is getting overwritten by an already existing `transaction` with initialValue 1;\r\n\r\nThe following should work now:\r\n\r\n    @PostMapping(&quot;/updateIncome/{transactionId}&quot;)\r\n\tpublic String updateIncome(@PathVariable(value = &quot;transactionId&quot;) long transactionId, @Valid Transaction transaction, BindingResult result, Model model) {\r\n\r\n\t\tAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n\t\tUserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n\t\tlong userId = user.getId();\r\n\r\n\t\tboolean thereAreErrors = result.hasErrors();\r\n\t\tif (thereAreErrors) {\r\n\t\t\tmodel.addAttribute(&quot;incomeCategories&quot;, IncomeCategories.values());\r\n\t\t\treturn &quot;income_transaction&quot;;\r\n\t\t}\r\n\r\n\t\ttransactionService.updateIncome(transaction, transactionId);\r\n\t\treturn &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\r\n\t}\r\n\r\n\r\n    @Override\r\n\tpublic void updateIncome(Transaction transaction, Long transactionId) {\r\n\t\tTransaction existingTransactionInDb = getTransactionById(transactionId);\r\n\t\tdouble amount = transaction.getAmount();\r\n\t\tSystem.out.println(transaction.getAmount());\r\n\t\texistingTransactionInDb.getWallet().setInitialBalance(existingTransactionInDb.getWallet().getInitialBalance() + amount);\r\n\t\tthis.transactionRepository.save(existingTransactionInDb);\r\n\t}","title":"Value is always same when try to update data from table","body":"<blockquote>\n<p>transaction = transactionService.getTransactionById(transactionId);</p>\n</blockquote>\n<p>The problem is in the above as you reused the variable. The incoming new <code>transaction</code> with value 15 is getting overwritten by an already existing <code>transaction</code> with initialValue 1;</p>\n<p>The following should work now:</p>\n<pre><code>@PostMapping(&quot;/updateIncome/{transactionId}&quot;)\npublic String updateIncome(@PathVariable(value = &quot;transactionId&quot;) long transactionId, @Valid Transaction transaction, BindingResult result, Model model) {\n\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n    long userId = user.getId();\n\n    boolean thereAreErrors = result.hasErrors();\n    if (thereAreErrors) {\n        model.addAttribute(&quot;incomeCategories&quot;, IncomeCategories.values());\n        return &quot;income_transaction&quot;;\n    }\n\n    transactionService.updateIncome(transaction, transactionId);\n    return &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\n}\n\n\n@Override\npublic void updateIncome(Transaction transaction, Long transactionId) {\n    Transaction existingTransactionInDb = getTransactionById(transactionId);\n    double amount = transaction.getAmount();\n    System.out.println(transaction.getAmount());\n    existingTransactionInDb.getWallet().setInitialBalance(existingTransactionInDb.getWallet().getInitialBalance() + amount);\n    this.transactionRepository.save(existingTransactionInDb);\n}\n</code></pre>\n"}],"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75580881,"answer_count":1,"score":-1,"last_activity_date":1677503245,"creation_date":1677500911,"question_id":75580502,"body_markdown":"I have two tables that are connected, `Wallets` and `Transaction`. Now, Each transaction is connected with wallet and this are entites:\r\n\r\n`Wallets:`\r\n\r\n    @Entity\r\n    @Table(name = &quot;wallet&quot;)\r\n    public class Wallet {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;wallet_id&quot;)\r\n    private Long id;\r\n\r\n    @NotBlank(message = &quot;Please, insert a wallet name&quot;)\r\n    private String walletName;\r\n\r\n    @NotNull(message = &quot;Please, insert a amount&quot;)\r\n    private Double initialBalance;\r\n\r\n    @Transient\r\n    private double totalBalance;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false, referencedColumnName = &quot;user_id&quot;, insertable = false, updatable = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonIgnore\r\n    private User user;\r\n\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    private Long userId;\r\n\r\n    @OneToMany(mappedBy = &quot;wallet&quot;, cascade = {\r\n            CascadeType.ALL})\r\n    private Set&lt;Transaction&gt; transactions;\r\n\r\n`Transactions:`\r\n\r\n    @Entity\r\n    @Table(name = &quot;transaction&quot;)\r\n    public class Transaction {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;transaction_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    private Long userId;\r\n\r\n    @Column(name = &quot;wallet_name&quot;, nullable = false)\r\n    private String walletName;\r\n\r\n    @NotNull(message = &quot;Please, insert a amount&quot;)\r\n    @Min(value = 0, message = &quot;Please, insert a positive amount&quot;)\r\n    private Double amount;\r\n\r\n    private String note;\r\n\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    @Column(name = &quot;date&quot;)\r\n    private LocalDate date;\r\n\r\n    @ManyToOne\r\n    @OnDelete(action = OnDeleteAction.NO_ACTION)\r\n    @JoinColumn(name = &quot;wallet_id&quot;, nullable = false)\r\n    private Wallet wallet;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;transaction_type&quot;, columnDefinition = &quot;ENUM(&#39;EXPENSE&#39;, &#39;INCOME&#39;)&quot;)\r\n    private TransactionType transactionType;\r\n\r\n    @Nullable\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;expense_categories&quot;, columnDefinition = &quot;ENUM(&#39;FOOD_AND_DRINK&#39;, &#39;SHOPPING&#39;, &#39;TRANSPORT&#39;, &#39;HOME&#39;,&quot; +\r\n            &quot; &#39;BILLS_AND_FEES&#39;, &#39;ENTERTAINMENT&#39;, &#39;CAR&#39;, &#39;TRAVEL&#39;, &#39;FAMILY_AND_PERSONAL&#39;, &#39;HEALTHCARE&#39;,&quot; +\r\n            &quot; &#39;EDUCATION&#39;, &#39;GROCERIES&#39;, &#39;GIFTS&#39;, &#39;BEAUTY&#39;, &#39;WORK&#39;, &#39;SPORTS_AND_HOBBIES&#39;, &#39;OTHER&#39;)&quot;)\r\n    private ExpenseCategories expenseCategories;\r\n\r\n    @Nullable\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;income_categories&quot;, columnDefinition = &quot;ENUM(&#39;SALARY&#39;, &#39;BUSINESS&#39;, &#39;GIFTS&#39;, &#39;EXTRA_INCOME&#39;, &#39;LOAN&#39;, &#39;PARENTAL_LEAVE&#39;, &#39;INSURANCE_PAYOUT&#39;, &#39;OTHER&#39;)&quot;)\r\n    private IncomeCategories incomeCategories;\r\n\r\nThis is service to update table:\r\n\r\n    @Override\r\n    public void updateIncome(Transaction transaction, Long transactionId) {\r\n        transaction = getTransactionById(transactionId);\r\n        double amount = transaction.getAmount();\r\n        System.out.println(transaction.getAmount());\r\n        transaction.getWallet().setInitialBalance(transaction.getWallet().getInitialBalance() + amount);\r\n        this.transactionRepository.save(transaction);\r\n    }\r\n\r\nThis is `controller:`\r\n\r\n      @PostMapping(&quot;/updateIncome/{transactionId}&quot;)\r\n    public String updateIncome(@PathVariable(value = &quot;transactionId&quot;) long transactionId, @Valid Transaction transaction, BindingResult result, Model model) {\r\n\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n        long userId = user.getId();\r\n\r\n        transaction = transactionService.getTransactionById(transactionId);\r\n\r\n        boolean thereAreErrors = result.hasErrors();\r\n        if (thereAreErrors) {\r\n            model.addAttribute(&quot;incomeCategories&quot;, IncomeCategories.values());\r\n            return &quot;income_transaction&quot;;\r\n        }\r\n\r\n        transactionService.updateIncome(transaction, transactionId);\r\n        return &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\r\n    }\r\n\r\nAnd what is the problem?\r\n\r\nYou see here:\r\n\r\n     double amount = transaction.getAmount();\r\n     System.out.println(transaction.getAmount());\r\n\r\nThat is now `1` because initally transaction is created and amount is set to `1`, but when I open the page and change amount field to `15` for example so I&#39;m actually updating it there, and submit form its still `1` and here `transaction.getWallet().setInitialBalance(transaction.getWallet().getInitialBalance() + amount);` is also `+ 1 (1 as amount)` instead of `15` as a new value because I&#39;m updating it.\r\n\r\nWhat Im doing wrong? I&#39;m trying to update transaction data by Id that is related to wallet but have trouble","title":"Value is always same when try to update data from table","body":"<p>I have two tables that are connected, <code>Wallets</code> and <code>Transaction</code>. Now, Each transaction is connected with wallet and this are entites:</p>\n<p><code>Wallets:</code></p>\n<pre><code>@Entity\n@Table(name = &quot;wallet&quot;)\npublic class Wallet {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;wallet_id&quot;)\nprivate Long id;\n\n@NotBlank(message = &quot;Please, insert a wallet name&quot;)\nprivate String walletName;\n\n@NotNull(message = &quot;Please, insert a amount&quot;)\nprivate Double initialBalance;\n\n@Transient\nprivate double totalBalance;\n\n@ManyToOne(fetch = FetchType.LAZY, optional = false)\n@JoinColumn(name = &quot;user_id&quot;, nullable = false, referencedColumnName = &quot;user_id&quot;, insertable = false, updatable = false)\n@OnDelete(action = OnDeleteAction.CASCADE)\n@JsonIgnore\nprivate User user;\n\n@Column(name = &quot;user_id&quot;, nullable = false)\nprivate Long userId;\n\n@OneToMany(mappedBy = &quot;wallet&quot;, cascade = {\n        CascadeType.ALL})\nprivate Set&lt;Transaction&gt; transactions;\n</code></pre>\n<p><code>Transactions:</code></p>\n<pre><code>@Entity\n@Table(name = &quot;transaction&quot;)\npublic class Transaction {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;transaction_id&quot;)\nprivate Long id;\n\n@Column(name = &quot;user_id&quot;, nullable = false)\nprivate Long userId;\n\n@Column(name = &quot;wallet_name&quot;, nullable = false)\nprivate String walletName;\n\n@NotNull(message = &quot;Please, insert a amount&quot;)\n@Min(value = 0, message = &quot;Please, insert a positive amount&quot;)\nprivate Double amount;\n\nprivate String note;\n\n@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n@Column(name = &quot;date&quot;)\nprivate LocalDate date;\n\n@ManyToOne\n@OnDelete(action = OnDeleteAction.NO_ACTION)\n@JoinColumn(name = &quot;wallet_id&quot;, nullable = false)\nprivate Wallet wallet;\n\n@Enumerated(EnumType.STRING)\n@Column(name = &quot;transaction_type&quot;, columnDefinition = &quot;ENUM('EXPENSE', 'INCOME')&quot;)\nprivate TransactionType transactionType;\n\n@Nullable\n@Enumerated(EnumType.STRING)\n@Column(name = &quot;expense_categories&quot;, columnDefinition = &quot;ENUM('FOOD_AND_DRINK', 'SHOPPING', 'TRANSPORT', 'HOME',&quot; +\n        &quot; 'BILLS_AND_FEES', 'ENTERTAINMENT', 'CAR', 'TRAVEL', 'FAMILY_AND_PERSONAL', 'HEALTHCARE',&quot; +\n        &quot; 'EDUCATION', 'GROCERIES', 'GIFTS', 'BEAUTY', 'WORK', 'SPORTS_AND_HOBBIES', 'OTHER')&quot;)\nprivate ExpenseCategories expenseCategories;\n\n@Nullable\n@Enumerated(EnumType.STRING)\n@Column(name = &quot;income_categories&quot;, columnDefinition = &quot;ENUM('SALARY', 'BUSINESS', 'GIFTS', 'EXTRA_INCOME', 'LOAN', 'PARENTAL_LEAVE', 'INSURANCE_PAYOUT', 'OTHER')&quot;)\nprivate IncomeCategories incomeCategories;\n</code></pre>\n<p>This is service to update table:</p>\n<pre><code>@Override\npublic void updateIncome(Transaction transaction, Long transactionId) {\n    transaction = getTransactionById(transactionId);\n    double amount = transaction.getAmount();\n    System.out.println(transaction.getAmount());\n    transaction.getWallet().setInitialBalance(transaction.getWallet().getInitialBalance() + amount);\n    this.transactionRepository.save(transaction);\n}\n</code></pre>\n<p>This is <code>controller:</code></p>\n<pre><code>  @PostMapping(&quot;/updateIncome/{transactionId}&quot;)\npublic String updateIncome(@PathVariable(value = &quot;transactionId&quot;) long transactionId, @Valid Transaction transaction, BindingResult result, Model model) {\n\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n    long userId = user.getId();\n\n    transaction = transactionService.getTransactionById(transactionId);\n\n    boolean thereAreErrors = result.hasErrors();\n    if (thereAreErrors) {\n        model.addAttribute(&quot;incomeCategories&quot;, IncomeCategories.values());\n        return &quot;income_transaction&quot;;\n    }\n\n    transactionService.updateIncome(transaction, transactionId);\n    return &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\n}\n</code></pre>\n<p>And what is the problem?</p>\n<p>You see here:</p>\n<pre><code> double amount = transaction.getAmount();\n System.out.println(transaction.getAmount());\n</code></pre>\n<p>That is now <code>1</code> because initally transaction is created and amount is set to <code>1</code>, but when I open the page and change amount field to <code>15</code> for example so I'm actually updating it there, and submit form its still <code>1</code> and here <code>transaction.getWallet().setInitialBalance(transaction.getWallet().getInitialBalance() + amount);</code> is also <code>+ 1 (1 as amount)</code> instead of <code>15</code> as a new value because I'm updating it.</p>\n<p>What Im doing wrong? I'm trying to update transaction data by Id that is related to wallet but have trouble</p>\n"},{"tags":["java","spring","tomcat","tomcat9"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677500849,"post_id":75580464,"comment_id":133343643,"body_markdown":"`jakarta.*` vs. `javax.*`","body":"<code>jakarta.*</code> vs. <code>javax.*</code>"},{"owner":{"account_id":19504668,"reputation":21,"user_id":14269959,"display_name":"Cheese"},"score":0,"creation_date":1677501190,"post_id":75580464,"comment_id":133343737,"body_markdown":"Idk why you downgraded my question? And youR comment doesn&#39;t explain much.","body":"Idk why you downgraded my question? And youR comment doesn&#39;t explain much."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677501432,"post_id":75580464,"comment_id":133343797,"body_markdown":"from the  [tomcat 10 migration guide](https://tomcat.apache.org/migration-10.html) *The Java package has changed from javax.servlet to jakarta.servlet.* You import javax.servlet in your project. You have tochange the libraries","body":"from the  <a href=\"https://tomcat.apache.org/migration-10.html\" rel=\"nofollow noreferrer\">tomcat 10 migration guide</a> <i>The Java package has changed from javax.servlet to jakarta.servlet.</i> You import javax.servlet in your project. You have tochange the libraries"},{"owner":{"account_id":19504668,"reputation":21,"user_id":14269959,"display_name":"Cheese"},"score":0,"creation_date":1677501917,"post_id":75580464,"comment_id":133343928,"body_markdown":"I&#39;m using Tomcat 9 and I import javax.*, so it should work...","body":"I&#39;m using Tomcat 9 and I import javax.*, so it should work..."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1677501983,"post_id":75580464,"comment_id":133343944,"body_markdown":"You are mixing Spring 6 with Spring 5 jars. That isn&#39;t going to work. Either use all the same Spring 5 versions and use Tomcat 9 (JavaE) **or** use all Spring 6 versions and use Tomcat10 (JakartaEE). Currently you are mixing, which is always a bad idea.","body":"You are mixing Spring 6 with Spring 5 jars. That isn&#39;t going to work. Either use all the same Spring 5 versions and use Tomcat 9 (JavaE) <b>or</b> use all Spring 6 versions and use Tomcat10 (JakartaEE). Currently you are mixing, which is always a bad idea."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677502005,"post_id":75580464,"comment_id":133343951,"body_markdown":"There must be one place where your project refer to jakartax. Can you please share the complete stacktrace?","body":"There must be one place where your project refer to jakartax. Can you please share the complete stacktrace?"},{"owner":{"account_id":19504668,"reputation":21,"user_id":14269959,"display_name":"Cheese"},"score":0,"creation_date":1677502525,"post_id":75580464,"comment_id":133344115,"body_markdown":"@M.Deinum That was the problem, now it works!","body":"@M.Deinum That was the problem, now it works!"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677502783,"creation_date":1677502783,"answer_id":75580806,"question_id":75580464,"body_markdown":"The problem is your dependencies you are mixing jars from different versions of a framework. In this case the framework is Spring and you are mixing jars from version 5.3.25 and 6.0.5. Never mix jars from different versions of a framework (regardless the framework) as that is trouble waiting to happen. \r\n\r\nFix the versions to all match. \r\n\r\n**PRO-TIP:** Use the `dependencyManagement` section and import the Spring Framework BOM so you only need to define 1 version instead of for each module. \r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-mvc-demo&lt;/artifactId&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;spring-mvc-demo Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;\r\n      &lt;scope&gt;optional&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-r2dbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;spring-mvc-demo&lt;/finalName&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"java.lang.ClassNotFoundException: jakarta.servlet.ServletException: Spring MVC Web App","body":"<p>The problem is your dependencies you are mixing jars from different versions of a framework. In this case the framework is Spring and you are mixing jars from version 5.3.25 and 6.0.5. Never mix jars from different versions of a framework (regardless the framework) as that is trouble waiting to happen.</p>\n<p>Fix the versions to all match.</p>\n<p><strong>PRO-TIP:</strong> Use the <code>dependencyManagement</code> section and import the Spring Framework BOM so you only need to define 1 version instead of for each module.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-mvc-demo&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;spring-mvc-demo Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;\n        &lt;version&gt;5.3.25&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;\n      &lt;scope&gt;optional&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-r2dbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;4.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n      &lt;version&gt;2.3.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;spring-mvc-demo&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":19504668,"reputation":21,"user_id":14269959,"display_name":"Cheese"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":867,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677502783,"creation_date":1677500701,"question_id":75580464,"body_markdown":"I&#39;m developing a Spring MVC Web app, using Maven(Webapp archetype), Spring 5, Java 17 and Tomcat 9.0;\r\n\r\nWhen I&#39;m tryin&#39; to deploy my artefact, I get java.lang.ClassNotFoundException: jakarta.servlet.ServletException and I can&#39;t understand why, given the fact that I&#39;m using Tomcat 9.0 which makes use of javax packages.\r\n\r\nBut when I deploy on Tomcat 10.x, it is working perfectly fine.\r\n\r\nThis is my pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-mvc-demo&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;spring-mvc-demo Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\r\n          &lt;version&gt;6.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-indexer --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n          &lt;scope&gt;optional&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-expression --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-instrument --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jms --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-messaging --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-orm --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-oxm --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-r2dbc --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-r2dbc&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-test --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-tx --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-web --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n          &lt;version&gt;6.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webflux --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-websocket --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\r\n          &lt;version&gt;5.3.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n          &lt;version&gt;4.0.0&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3.0&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;finalName&gt;spring-mvc-demo&lt;/finalName&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"java.lang.ClassNotFoundException: jakarta.servlet.ServletException: Spring MVC Web App","body":"<p>I'm developing a Spring MVC Web app, using Maven(Webapp archetype), Spring 5, Java 17 and Tomcat 9.0;</p>\n<p>When I'm tryin' to deploy my artefact, I get java.lang.ClassNotFoundException: jakarta.servlet.ServletException and I can't understand why, given the fact that I'm using Tomcat 9.0 which makes use of javax packages.</p>\n<p>But when I deploy on Tomcat 10.x, it is working perfectly fine.</p>\n<p>This is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-mvc-demo&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;spring-mvc-demo Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n      &lt;version&gt;6.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-indexer --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n      &lt;scope&gt;optional&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-expression --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-instrument --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jms --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-messaging --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-orm --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-oxm --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-r2dbc --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-r2dbc&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-test --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-tx --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-web --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n      &lt;version&gt;6.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webflux --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-websocket --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\n      &lt;version&gt;5.3.25&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;4.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n      &lt;version&gt;2.3.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;spring-mvc-demo&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","jsoup"],"owner":{"account_id":25230704,"reputation":19,"user_id":19065902,"display_name":"Ganesh Mandapati"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1677502539,"answer_count":0,"score":0,"last_activity_date":1677502359,"creation_date":1677501738,"question_id":75580626,"body_markdown":"```\r\nDocument doc = Jsoup.parse(body);\r\n\r\ndoc.selectFirst(&quot;head&quot;).child(0).before(&quot;&lt;meta charset=\\&quot;utf-8\\&quot;/&gt;&quot;);\r\n```\r\nIn final HTML It is coming like this \r\n\r\n```\r\n&lt;meta charset=&quot;utf-8&quot;&gt;\r\n\r\n```\r\nI&#39;m Expecting like this\r\n\r\n```\r\n&lt;meta charset=&quot;utf-8&quot; /&gt;.\r\n```","title":"Not able to add self closing tag to meta in jsoup","body":"<pre><code>Document doc = Jsoup.parse(body);\n\ndoc.selectFirst(&quot;head&quot;).child(0).before(&quot;&lt;meta charset=\\&quot;utf-8\\&quot;/&gt;&quot;);\n</code></pre>\n<p>In final HTML It is coming like this</p>\n<pre><code>&lt;meta charset=&quot;utf-8&quot;&gt;\n\n</code></pre>\n<p>I'm Expecting like this</p>\n<pre><code>&lt;meta charset=&quot;utf-8&quot; /&gt;.\n</code></pre>\n"},{"tags":["java","algorithm","sorting","quicksort"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":2,"creation_date":1575649539,"post_id":59216784,"comment_id":104649652,"body_markdown":"*&quot;the array is not being properly sorted and the end is not decrementing&quot;* - how have you determined this? Give an example of an input, expected result and actual result. See [ask] and [mcve].","body":"<i>&quot;the array is not being properly sorted and the end is not decrementing&quot;</i> - how have you determined this? Give an example of an input, expected result and actual result. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":4503838,"reputation":955,"user_id":3661738,"display_name":"Tyler"},"score":0,"creation_date":1575649725,"post_id":59216784,"comment_id":104649734,"body_markdown":"The inner while loop (`while(a[start]&lt;=pivot)`) goes out of bounds in this example, because it does not get caught by the outer start&lt;end loop","body":"The inner while loop (<code>while(a[start]&lt;=pivot)</code>) goes out of bounds in this example, because it does not get caught by the outer start&lt;end loop"},{"owner":{"account_id":6136522,"reputation":76953,"user_id":4785185,"display_name":"Prune"},"score":0,"creation_date":1575658139,"post_id":59216784,"comment_id":104653027,"body_markdown":"Welcome to StackOverflow. See [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). We cannot effectively help you until you post your MRE code and accurately specify the problem. We should be able to paste your posted code into a text file and reproduce the problem you specified.","body":"Welcome to StackOverflow. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>. We cannot effectively help you until you post your MRE code and accurately specify the problem. We should be able to paste your posted code into a text file and reproduce the problem you specified."}],"answers":[{"tags":[],"owner":{"account_id":14601312,"reputation":21,"user_id":10545665,"display_name":"user607464"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575895787,"creation_date":1575895787,"answer_id":59249272,"question_id":59216784,"body_markdown":"        class QuickSort \r\n    { \r\n    \tint partition(int arr[], int low, int high) \r\n    \t{ \r\n    \t\tint pivot = arr[high]; \r\n    \t\tint i = (low-1); // index of smaller element \r\n    \t\tfor (int j=low; j&lt;high; j++) \r\n    \t\t{ \r\n    \t\t\t// If current element is smaller than the pivot \r\n    \t\t\tif (arr[j] &lt; pivot) \r\n    \t\t\t{ \r\n    \t\t\t\ti++; \r\n    \r\n    \t\t\t\t// swap arr[i] and arr[j] \r\n    \t\t\t\tint temp = arr[i]; \r\n    \t\t\t\tarr[i] = arr[j]; \r\n    \t\t\t\tarr[j] = temp; \r\n    \t\t\t} \r\n    \t\t} \r\n    \r\n    \t\t// swap arr[i+1] and arr[high] (or pivot) \r\n    \t\tint temp = arr[i+1]; \r\n    \t\tarr[i+1] = arr[high]; \r\n    \t\tarr[high] = temp; \r\n    \r\n    \t\treturn i+1; \r\n    \t} \r\n    \r\n    \tvoid sort(int arr[], int low, int high) \r\n    \t{ \r\n    \t\tif (low &lt; high) \r\n    \t\t{ \r\n    \t\t\t/* pi is partitioning index, arr[pi] is \r\n    \t\t\tnow at right place */\r\n    \t\t\tint pi = partition(arr, low, high); \r\n    \r\n    \t\t\t// Recursively sort elements before \r\n    \t\t\t// partition and after partition \r\n    \t\t\tsort(arr, low, pi-1); \r\n    \t\t\tsort(arr, pi+1, high); \r\n    \t\t} \r\n    \t} \r\n    \r\n    \t/* A utility function to print array of size n */\r\n    \tstatic void printArray(int arr[]) \r\n    \t{ \r\n    \t\tint n = arr.length; \r\n    \t\tfor (int i=0; i&lt;n; ++i) \r\n    \t\t\tSystem.out.print(arr[i]+&quot; &quot;); \r\n    \t\tSystem.out.println(); \r\n    \t} \r\n    \r\n    \t// Driver program \r\n    \tpublic static void main(String args[]) \r\n    \t{ \r\n    \t\tint arr[] = {4,5,6,3,10,12,45,17}; \r\n    \t\tint n = arr.length; \r\n    \r\n    \t\tQuickSort ob = new QuickSort(); \r\n    \t\tob.sort(arr, 0, n-1); \r\n    \r\n    \t\tSystem.out.println(&quot;sorted array&quot;); \r\n    \t\tprintArray(arr); \r\n    \t} \r\n    } \r\n\r\nOUTPUT:\r\nsorted array\r\n3 4 5 6 10 12 17 45\r\n\r\nthe above code works for the array you have defined you can use this code,If you still have confusing about quick sort you are free to ask in comments.\r\n\r\n","title":"quicksort code in java is not running properly?","body":"<pre><code>    class QuickSort \n{ \n    int partition(int arr[], int low, int high) \n    { \n        int pivot = arr[high]; \n        int i = (low-1); // index of smaller element \n        for (int j=low; j&lt;high; j++) \n        { \n            // If current element is smaller than the pivot \n            if (arr[j] &lt; pivot) \n            { \n                i++; \n\n                // swap arr[i] and arr[j] \n                int temp = arr[i]; \n                arr[i] = arr[j]; \n                arr[j] = temp; \n            } \n        } \n\n        // swap arr[i+1] and arr[high] (or pivot) \n        int temp = arr[i+1]; \n        arr[i+1] = arr[high]; \n        arr[high] = temp; \n\n        return i+1; \n    } \n\n    void sort(int arr[], int low, int high) \n    { \n        if (low &lt; high) \n        { \n            /* pi is partitioning index, arr[pi] is \n            now at right place */\n            int pi = partition(arr, low, high); \n\n            // Recursively sort elements before \n            // partition and after partition \n            sort(arr, low, pi-1); \n            sort(arr, pi+1, high); \n        } \n    } \n\n    /* A utility function to print array of size n */\n    static void printArray(int arr[]) \n    { \n        int n = arr.length; \n        for (int i=0; i&lt;n; ++i) \n            System.out.print(arr[i]+\" \"); \n        System.out.println(); \n    } \n\n    // Driver program \n    public static void main(String args[]) \n    { \n        int arr[] = {4,5,6,3,10,12,45,17}; \n        int n = arr.length; \n\n        QuickSort ob = new QuickSort(); \n        ob.sort(arr, 0, n-1); \n\n        System.out.println(\"sorted array\"); \n        printArray(arr); \n    } \n} \n</code></pre>\n\n<p>OUTPUT:\nsorted array\n3 4 5 6 10 12 17 45</p>\n\n<p>the above code works for the array you have defined you can use this code,If you still have confusing about quick sort you are free to ask in comments.</p>\n"},{"tags":[],"owner":{"account_id":26813232,"reputation":11,"user_id":20403505,"display_name":"Harshwardhan Deshmukh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677502314,"creation_date":1677502314,"answer_id":75580725,"question_id":59216784,"body_markdown":"In the partition function, along with the condition a[start]&lt;= pivot add the condition start&lt;=ub and in the a[end]&gt;pivot add the condition end&gt;=lb\r\nIt will not give  ArrayOutOfBounds error.\r\nThe above code works logic works fine in C but in java you require these 2 conditions in Java.","title":"quicksort code in java is not running properly?","body":"<p>In the partition function, along with the condition a[start]&lt;= pivot add the condition start&lt;=ub and in the a[end]&gt;pivot add the condition end&gt;=lb\nIt will not give  ArrayOutOfBounds error.\nThe above code works logic works fine in C but in java you require these 2 conditions in Java.</p>\n"}],"owner":{"account_id":16475846,"reputation":108,"user_id":11903852,"display_name":"Aquib Shaikh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1677502314,"creation_date":1575649239,"question_id":59216784,"body_markdown":"I am stuck on this from a while now... the array is not being properly sorted and the end is not decrementing can someone help out on what mistake I am exactly making here?\r\nI tried and looked for hours but cannot find the bug exactly. You can clearly see in the output that end is not decrementing and the sorting of the array is not proper as 17 is last and 45 is second last element. Also there is Error of ArrayOutOfBounds. \r\n\r\n\r\n\r\n\r\n\r\n\r\ncode:\r\n\r\n         public class Program{\r\n\r\n\t    public static void main(String[] args) {\r\n\t    int [] ar={4,5,6,3,10,12,45,17};\r\n\t    int l=0;\r\n\t    int h=ar.length-1;\r\n\t \r\n\t    quickSort(ar,l,h);\r\n\t    \r\n\t\t\r\n\t}\r\n\t\tstatic void quickSort(int [] arr,int lb,int ub){\r\n\t    int z;\r\n\t    if(lb&lt;ub){\r\n\t    z=partition(arr,lb,ub);\r\n\t    quickSort(arr,lb,z-1);\r\n\t    quickSort(arr,z+1,ub);\r\n\t    }\r\n\t    \r\n\t    for(int i=0;i&lt;arr.length;i++){\r\n\t        System.out.println(arr[i]);\r\n\t    }\r\n\t}\r\n\t\r\n\t\r\n\tstatic int partition(int [] a,int lb,int ub){\r\n\t    int pivot=a[lb];\r\n\t    int start=lb;\r\n\t    int end=ub;\r\n       //If I put end=ub-1 here then it shows index-1. \r\n       //so I have not options left to do that the Error is coming eitherway.\r\n\t    System.out.println(&quot;start is &quot;+start);\r\n\t    System.out.println(&quot;End is &quot;+end);\r\n\r\n\t    while(start&lt;end){\r\n\t        while(a[start]&lt;=pivot){\r\n\t            start++;\r\n\t        }\r\n\t        while(a[end]&gt;pivot){\r\n\t            end--;\r\n\t        }\r\n\t        if(start&lt;end){\r\n\t        int temp0=a[start];\r\n\t        int temp1=a[end];\r\n\t        a[start]=temp1;\r\n\t        a[end]=temp0;\r\n\t        }\r\n\r\n\t    }\r\n\t    \tint temp2=a[lb];\r\n\t        int temp3=a[end];\r\n\t        a[lb]=temp3;\r\n\t        a[end]=temp2;\r\n\t        return end;\r\n\t}\r\n    }\r\n\r\n    output:\r\n    start is 0\r\n    End is 7\r\n    3\r\n    4\r\n    6\r\n    5\r\n    10\r\n    12\r\n    45\r\n    17\r\n    start is 2\r\n    End is 7\r\n    3\r\n    4\r\n    5\r\n    6\r\n    10\r\n    12\r\n    45\r\n    17\r\n    start is 4\r\n    End is 7\r\n    3\r\n    4\r\n    5\r\n    6\r\n    10\r\n    12\r\n    45\r\n    17\r\n    start is 5\r\n    End is 7\r\n    3\r\n    4\r\n    5\r\n    6\r\n    10\r\n    12\r\n    45\r\n    17\r\n    start is 6\r\n    End is 7\r\n    \r\n    \r\n    Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 8 out of bounds for length 8\r\n    \tat Program.partition(Program.java:35)\r\n    \tat Program.quickSort(Program.java:16)\r\n    \tat Program.quickSort(Program.java:18)\r\n    \tat Program.quickSort(Program.java:18)\r\n    \tat Program.quickSort(Program.java:18)\r\n    \tat Program.quickSort(Program.java:18)\r\n    \tat Program.main(Program.java:9)\r\n\t \r\n\t    \r\n\r\n\r\n","title":"quicksort code in java is not running properly?","body":"<p>I am stuck on this from a while now... the array is not being properly sorted and the end is not decrementing can someone help out on what mistake I am exactly making here?\nI tried and looked for hours but cannot find the bug exactly. You can clearly see in the output that end is not decrementing and the sorting of the array is not proper as 17 is last and 45 is second last element. Also there is Error of ArrayOutOfBounds. </p>\n\n<p>code:</p>\n\n<pre><code>     public class Program{\n\n    public static void main(String[] args) {\n    int [] ar={4,5,6,3,10,12,45,17};\n    int l=0;\n    int h=ar.length-1;\n\n    quickSort(ar,l,h);\n\n\n}\n    static void quickSort(int [] arr,int lb,int ub){\n    int z;\n    if(lb&lt;ub){\n    z=partition(arr,lb,ub);\n    quickSort(arr,lb,z-1);\n    quickSort(arr,z+1,ub);\n    }\n\n    for(int i=0;i&lt;arr.length;i++){\n        System.out.println(arr[i]);\n    }\n}\n\n\nstatic int partition(int [] a,int lb,int ub){\n    int pivot=a[lb];\n    int start=lb;\n    int end=ub;\n   //If I put end=ub-1 here then it shows index-1. \n   //so I have not options left to do that the Error is coming eitherway.\n    System.out.println(\"start is \"+start);\n    System.out.println(\"End is \"+end);\n\n    while(start&lt;end){\n        while(a[start]&lt;=pivot){\n            start++;\n        }\n        while(a[end]&gt;pivot){\n            end--;\n        }\n        if(start&lt;end){\n        int temp0=a[start];\n        int temp1=a[end];\n        a[start]=temp1;\n        a[end]=temp0;\n        }\n\n    }\n        int temp2=a[lb];\n        int temp3=a[end];\n        a[lb]=temp3;\n        a[end]=temp2;\n        return end;\n}\n}\n\noutput:\nstart is 0\nEnd is 7\n3\n4\n6\n5\n10\n12\n45\n17\nstart is 2\nEnd is 7\n3\n4\n5\n6\n10\n12\n45\n17\nstart is 4\nEnd is 7\n3\n4\n5\n6\n10\n12\n45\n17\nstart is 5\nEnd is 7\n3\n4\n5\n6\n10\n12\n45\n17\nstart is 6\nEnd is 7\n\n\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: Index 8 out of bounds for length 8\n    at Program.partition(Program.java:35)\n    at Program.quickSort(Program.java:16)\n    at Program.quickSort(Program.java:18)\n    at Program.quickSort(Program.java:18)\n    at Program.quickSort(Program.java:18)\n    at Program.quickSort(Program.java:18)\n    at Program.main(Program.java:9)\n</code></pre>\n"},{"tags":["java","http","web-services","http-status-code-401","dynamics-business-central"],"answers":[{"tags":[],"owner":{"account_id":810469,"reputation":16247,"user_id":913935,"accept_rate":80,"display_name":"kaspermoerch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621514104,"creation_date":1621407220,"answer_id":67598279,"question_id":67582919,"body_markdown":"You need to make sure that the user you are trying to authenticate with has a Web Services Access Key.\r\n\r\nThen you must use the Web Services Access Key as the password when authenticating.\r\n\r\n----------\r\n\r\nIt does also appear that you are missing a `space` after `Basic` in this line of code:\r\n\r\n    hd.addHeader(&quot;Authorization&quot;, &quot;Basic&quot; + authEncBytes);\r\n\r\nIt should probably be\r\n\r\n    hd.addHeader(&quot;Authorization&quot;, &quot;Basic &quot; + authEncBytes);","title":"How can I consume web service from business central (Java)?","body":"<p>You need to make sure that the user you are trying to authenticate with has a Web Services Access Key.</p>\n<p>Then you must use the Web Services Access Key as the password when authenticating.</p>\n<hr />\n<p>It does also appear that you are missing a <code>space</code> after <code>Basic</code> in this line of code:</p>\n<pre><code>hd.addHeader(&quot;Authorization&quot;, &quot;Basic&quot; + authEncBytes);\n</code></pre>\n<p>It should probably be</p>\n<pre><code>hd.addHeader(&quot;Authorization&quot;, &quot;Basic &quot; + authEncBytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21497696,"reputation":15,"user_id":15842461,"display_name":"MTM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1622193394,"creation_date":1622193394,"answer_id":67736119,"question_id":67582919,"body_markdown":"**SOLUTION**\r\n\r\nOkay so after receiving a course, they told me that Basic Authorization is deprecated and they use now OAuth 2...\r\n\r\nThanks for replying\r\n\r\nGreetings","title":"How can I consume web service from business central (Java)?","body":"<p><strong>SOLUTION</strong></p>\n<p>Okay so after receiving a course, they told me that Basic Authorization is deprecated and they use now OAuth 2...</p>\n<p>Thanks for replying</p>\n<p>Greetings</p>\n"}],"owner":{"account_id":21497696,"reputation":15,"user_id":15842461,"display_name":"MTM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":67736119,"answer_count":2,"score":-1,"last_activity_date":1677501830,"creation_date":1621327844,"question_id":67582919,"body_markdown":"I want to consume Business Central Web service so I can add it to an existing web application. \r\n\r\nI have tried:\r\n\r\n - Testing with Postman using Authorization header (works)\r\n - Testing SoapUI (works)\r\n\r\nBut I am getting this error:\r\n\r\n     com.sun.xml.messaging.saaj.client.p2p.HttpSOAPConnection post\r\n    SEVERE: SAAJ0008: Bad Response; Unauthorized\r\n    Exception in thread &quot;main&quot; com.sun.xml.messaging.saaj.SOAPExceptionImpl: java.security.PrivilegedActionException: com.sun.xml.messaging.saaj.SOAPExceptionImpl: Bad response: (401Unauthorized\r\n     at com.sun.xml.messaging.saaj.client.p2p.HttpSOAPConnection.call(HttpSOAPConnection.java:171)\r\n\r\n\r\nCode:\r\n\r\n```java\r\nString webPage = &quot;https://api.businesscentral.dynamics.com/v2.0/&lt;tenant&gt;/...&quot;;\r\nString name = &quot;username&quot;;\r\nString password = &quot;password&quot;;\r\nString authString = name + &quot;:&quot; + password;\r\n\r\nString authEncBytes = new String(Base64.getEncoder().encode(authString.getBytes(StandardCharsets.UTF_8)));\r\nString authStringEnc = new String(authEncBytes);\r\n\r\nURL url = new URL(webPage);\r\nURLConnection urlConnection = url.openConnection();\r\nurlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + authStringEnc);\r\nMessageFactory messageFactory = MessageFactory.newInstance();\r\nSOAPMessage soapMessage = messageFactory.createMessage();\r\nSOAPPart soapPart = soapMessage.getSOAPPart();\r\n\r\n// SOAP Envelope\r\nSOAPEnvelope envelope = soapPart.getEnvelope();\r\nenvelope.getHeader().detachNode();\r\nenvelope.addHeader();\r\nMimeHeaders hd = soapMessage.getMimeHeaders();\r\nhd.addHeader(&quot;Authorization&quot;, &quot;Basic &quot; + authEncBytes);\r\nSOAPBody soapBodytxaber = envelope.getBody();\r\nenvelope.addNamespaceDeclaration(&quot;myNamespace&quot;, &quot;uri&quot;);\r\nSOAPElement soapBodyElem0txa = soapBodytxaber.addChildElement(&quot;Read&quot;, &quot;myNamespace&quot;);\r\nSOAPElement soapBodyElem1txa = soapBodyElem0txa.addChildElement(&quot;No&quot;, &quot;myNamespace&quot;);\r\nsoapBodyElem1txa.addTextNode(&quot;00000058&quot;);\r\n\r\nSOAPConnectionFactory soapConnectionFactory = OAPConnectionFactory.newInstance();\r\nSOAPConnection soapConnection = soapConnectionFactory.createConnection();\r\nsoapMessage.saveChanges();\r\n\r\nSOAPMessage soapResponse = soapConnection.call(soapMessage, url);\r\n```\r\n","title":"How can I consume web service from business central (Java)?","body":"<p>I want to consume Business Central Web service so I can add it to an existing web application.</p>\n<p>I have tried:</p>\n<ul>\n<li>Testing with Postman using Authorization header (works)</li>\n<li>Testing SoapUI (works)</li>\n</ul>\n<p>But I am getting this error:</p>\n<pre><code> com.sun.xml.messaging.saaj.client.p2p.HttpSOAPConnection post\nSEVERE: SAAJ0008: Bad Response; Unauthorized\nException in thread &quot;main&quot; com.sun.xml.messaging.saaj.SOAPExceptionImpl: java.security.PrivilegedActionException: com.sun.xml.messaging.saaj.SOAPExceptionImpl: Bad response: (401Unauthorized\n at com.sun.xml.messaging.saaj.client.p2p.HttpSOAPConnection.call(HttpSOAPConnection.java:171)\n</code></pre>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String webPage = &quot;https://api.businesscentral.dynamics.com/v2.0/&lt;tenant&gt;/...&quot;;\nString name = &quot;username&quot;;\nString password = &quot;password&quot;;\nString authString = name + &quot;:&quot; + password;\n\nString authEncBytes = new String(Base64.getEncoder().encode(authString.getBytes(StandardCharsets.UTF_8)));\nString authStringEnc = new String(authEncBytes);\n\nURL url = new URL(webPage);\nURLConnection urlConnection = url.openConnection();\nurlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + authStringEnc);\nMessageFactory messageFactory = MessageFactory.newInstance();\nSOAPMessage soapMessage = messageFactory.createMessage();\nSOAPPart soapPart = soapMessage.getSOAPPart();\n\n// SOAP Envelope\nSOAPEnvelope envelope = soapPart.getEnvelope();\nenvelope.getHeader().detachNode();\nenvelope.addHeader();\nMimeHeaders hd = soapMessage.getMimeHeaders();\nhd.addHeader(&quot;Authorization&quot;, &quot;Basic &quot; + authEncBytes);\nSOAPBody soapBodytxaber = envelope.getBody();\nenvelope.addNamespaceDeclaration(&quot;myNamespace&quot;, &quot;uri&quot;);\nSOAPElement soapBodyElem0txa = soapBodytxaber.addChildElement(&quot;Read&quot;, &quot;myNamespace&quot;);\nSOAPElement soapBodyElem1txa = soapBodyElem0txa.addChildElement(&quot;No&quot;, &quot;myNamespace&quot;);\nsoapBodyElem1txa.addTextNode(&quot;00000058&quot;);\n\nSOAPConnectionFactory soapConnectionFactory = OAPConnectionFactory.newInstance();\nSOAPConnection soapConnection = soapConnectionFactory.createConnection();\nsoapMessage.saveChanges();\n\nSOAPMessage soapResponse = soapConnection.call(soapMessage, url);\n</code></pre>\n"},{"tags":["java","oracle","date"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677488054,"creation_date":1677483401,"answer_id":75577803,"question_id":75577203,"body_markdown":"# Avoid legacy classes\r\n\r\nNever use either `Date` class. Both are part of the terrible date-time legacy classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\n# `LocalDate`\r\n\r\nFor a date-only value, use `LocalDate` class.\r\n\r\nYour input string complies with the basic variation of the [ISO 8601][1] standard format, YYYYMMDD. So use the predefined formatter, [`DateTimeFormatter.BASIC_ISO_DATE`][2].\r\n\r\n    String input = &quot;19990715&quot; ;\r\n    LocalDate birthDate = LocalDate.parse( input , DateTimeFormatter.BASIC_ISO_DATE ) ;\r\n\r\nWrite your SQL like the following. \r\n\r\nTip: Use trailing underscore in all your database naming to avoid collision with reserved keywords. The SQL standard promises explicitly to never use a trailing underscore. See [this Answer](https://stackoverflow.com/a/67351829/642706) by me.\r\n\r\nAnother tip: Use [text blocks][3] for your embedded SQL code.\r\n\r\n```java\r\nString sql  =\r\n        &quot;&quot;&quot;\r\n        INSERT INTO member_ ( id_ , birth_date_ ) \r\n        VALUES ( ? , ? ) \r\n        ;\r\n        &quot;&quot;&quot;;\r\n```\r\n\r\nExchange the `LocalDate` object for writing to database.\r\n\r\n    myPreparedStatement.setObject( 2 , birthDate ) ;\r\n\r\nWhen retrieving the data value from the database.\r\n\r\n    LocalDate birthDate = myResultSet.getObject(  , LocalDate.class ) ;\r\n\r\nAll this has been covered many times on Stack Overflow. Search to learn more. You will find complete source code for example apps that create a table, insert rows, and retrieve rows.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#BASIC_ISO_DATE\r\n  [3]: https://openjdk.org/jeps/378","title":"How to insert a String into Oracle as a date type","body":"<h1>Avoid legacy classes</h1>\n<p>Never use either <code>Date</code> class. Both are part of the terrible date-time legacy classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h1><code>LocalDate</code></h1>\n<p>For a date-only value, use <code>LocalDate</code> class.</p>\n<p>Your input string complies with the basic variation of the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard format, YYYYMMDD. So use the predefined formatter, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#BASIC_ISO_DATE\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter.BASIC_ISO_DATE</code></a>.</p>\n<pre><code>String input = &quot;19990715&quot; ;\nLocalDate birthDate = LocalDate.parse( input , DateTimeFormatter.BASIC_ISO_DATE ) ;\n</code></pre>\n<p>Write your SQL like the following.</p>\n<p>Tip: Use trailing underscore in all your database naming to avoid collision with reserved keywords. The SQL standard promises explicitly to never use a trailing underscore. See <a href=\"https://stackoverflow.com/a/67351829/642706\">this Answer</a> by me.</p>\n<p>Another tip: Use <a href=\"https://openjdk.org/jeps/378\" rel=\"nofollow noreferrer\">text blocks</a> for your embedded SQL code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql  =\n        &quot;&quot;&quot;\n        INSERT INTO member_ ( id_ , birth_date_ ) \n        VALUES ( ? , ? ) \n        ;\n        &quot;&quot;&quot;;\n</code></pre>\n<p>Exchange the <code>LocalDate</code> object for writing to database.</p>\n<pre><code>myPreparedStatement.setObject( 2 , birthDate ) ;\n</code></pre>\n<p>When retrieving the data value from the database.</p>\n<pre><code>LocalDate birthDate = myResultSet.getObject(  , LocalDate.class ) ;\n</code></pre>\n<p>All this has been covered many times on Stack Overflow. Search to learn more. You will find complete source code for example apps that create a table, insert rows, and retrieve rows.</p>\n"}],"owner":{"account_id":27887655,"reputation":1,"user_id":21294714,"display_name":"gm4"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677501684,"creation_date":1677477818,"question_id":75577203,"body_markdown":"I have a birthdate as string\r\n\r\n```\r\nString memBirthDate = &quot;19990715&quot;;\r\n```\r\n\r\nand I tried to insert this into oracle by using query below.\r\n\r\n```\r\n&lt;entry key=&quot;insertMember&quot;&gt;\r\n\tINSERT INTO MEMBER\r\n          (\r\n       MEM_BIRTHDATE\r\n           )\r\n      VALUES (\r\n            (TO_DATE)?\r\n             )\r\n           &lt;/entry&gt;\r\n```\r\n\r\nBut it doesn&#39;t work.  I think there&#39;s some problem in my oracle query but I&#39;m not sure.\r\n\r\nWhat should I do?\r\n","title":"How to insert a String into Oracle as a date type","body":"<p>I have a birthdate as string</p>\n<pre><code>String memBirthDate = &quot;19990715&quot;;\n</code></pre>\n<p>and I tried to insert this into oracle by using query below.</p>\n<pre><code>&lt;entry key=&quot;insertMember&quot;&gt;\n    INSERT INTO MEMBER\n          (\n       MEM_BIRTHDATE\n           )\n      VALUES (\n            (TO_DATE)?\n             )\n           &lt;/entry&gt;\n</code></pre>\n<p>But it doesn't work.  I think there's some problem in my oracle query but I'm not sure.</p>\n<p>What should I do?</p>\n"},{"tags":["java","tomcat","java-11","tomcat9"],"comments":[{"owner":{"account_id":5718675,"reputation":1905,"user_id":4517895,"accept_rate":69,"display_name":"Mikhail Chibel"},"score":1,"creation_date":1659670393,"post_id":73231054,"comment_id":129354397,"body_markdown":"I have similar issues in Wildfly 16, exactly after upgrading to 11.0.16.","body":"I have similar issues in Wildfly 16, exactly after upgrading to 11.0.16."},{"owner":{"account_id":310261,"reputation":21,"user_id":623144,"display_name":"zezuha"},"score":0,"creation_date":1660233056,"post_id":73231054,"comment_id":129489702,"body_markdown":"It is very likely that the answer is here: https://stackoverflow.com/a/71585718/623144","body":"It is very likely that the answer is here: <a href=\"https://stackoverflow.com/a/71585718/623144\">stackoverflow.com/a/71585718/623144</a>"}],"answers":[{"tags":[],"owner":{"account_id":16357633,"reputation":21,"user_id":11814223,"display_name":"Kritarth Bisht"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664345232,"creation_date":1664345232,"answer_id":73876858,"question_id":73231054,"body_markdown":"The error is from the java side, as in jdk-11.0.16 they have made some changes in cgroups metric calls. As the Cgroups detection logic used JDK-11.0.16 not right on systems which support cgroups v1, but don&#39;t have controllers mounted on a cgroups v1 hierarchy. This issue will be resolved in jdk-11.0.17.","title":"Tomcat Exception: java.lang.reflect.InvocationTargetException after jdk uplift from 11.0.15.1 to 11.0.16","body":"<p>The error is from the java side, as in jdk-11.0.16 they have made some changes in cgroups metric calls. As the Cgroups detection logic used JDK-11.0.16 not right on systems which support cgroups v1, but don't have controllers mounted on a cgroups v1 hierarchy. This issue will be resolved in jdk-11.0.17.</p>\n"}],"owner":{"account_id":16357633,"reputation":21,"user_id":11814223,"display_name":"Kritarth Bisht"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73876858,"answer_count":1,"score":1,"last_activity_date":1677501272,"creation_date":1659593446,"question_id":73231054,"body_markdown":"While uplifting the jdk from 11.0.15.1 to 11.0.16 facing following error in the tomcat logs.\r\n**For 11.0.15.1 the tomcat (9.0.65) was working fine with no jdk related error.**\r\n\r\n```Exception in thread &quot;main&quot; java.lang.InternalError: java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.platform.Metrics.systemMetrics(Metrics.java:67)\r\n        at java.base/jdk.internal.platform.Container.metrics(Container.java:43)\r\n        at jdk.management/com.sun.management.internal.OperatingSystemImpl.&lt;init&gt;(OperatingSystemImpl.java:182)\r\n        at jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl.getOperatingSystemMXBean(PlatformMBeanProviderImpl.java:281)\r\n        at jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl$3.nameToMBeanMap(PlatformMBeanProviderImpl.java:198)\r\n        at java.management/java.lang.management.ManagementFactory.lambda$getPlatformMBeanServer$0(ManagementFactory.java:487)\r\n        at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:271)\r\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n        at java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1692)\r\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n        at java.management/java.lang.management.ManagementFactory.getPlatformMBeanServer(ManagementFactory.java:488)\r\n        at org.apache.tomcat.util.modeler.Registry.getMBeanServer(Registry.java:463)\r\n        at org.apache.catalina.util.LifecycleMBeanBase.initInternal(LifecycleMBeanBase.java:55)\r\n        at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:997)\r\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:724)\r\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:746)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:305)\r\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at java.base/jdk.internal.platform.Metrics.systemMetrics(Metrics.java:63)\r\n        ... 27 more\r\nCaused by: java.lang.ExceptionInInitializerError\r\n        at java.base/jdk.internal.platform.CgroupSubsystemFactory.create(CgroupSubsystemFactory.java:94)\r\n        at java.base/jdk.internal.platform.CgroupMetrics.getInstance(CgroupMetrics.java:167)\r\n        ... 32 more\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 4 out of bounds for length 1\r\n        at java.base/jdk.internal.platform.cgroupv2.CgroupV2Subsystem.initSubsystem(CgroupV2Subsystem.java:72)\r\n        at java.base/jdk.internal.platform.cgroupv2.CgroupV2Subsystem.&lt;clinit&gt;(CgroupV2Subsystem.java:43)\r\n        ... 34 more\r\n```\r\nCan someone please tell how to resolve the same?","title":"Tomcat Exception: java.lang.reflect.InvocationTargetException after jdk uplift from 11.0.15.1 to 11.0.16","body":"<p>While uplifting the jdk from 11.0.15.1 to 11.0.16 facing following error in the tomcat logs.\n<strong>For 11.0.15.1 the tomcat (9.0.65) was working fine with no jdk related error.</strong></p>\n<pre><code>        at java.base/jdk.internal.platform.Metrics.systemMetrics(Metrics.java:67)\n        at java.base/jdk.internal.platform.Container.metrics(Container.java:43)\n        at jdk.management/com.sun.management.internal.OperatingSystemImpl.&lt;init&gt;(OperatingSystemImpl.java:182)\n        at jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl.getOperatingSystemMXBean(PlatformMBeanProviderImpl.java:281)\n        at jdk.management/com.sun.management.internal.PlatformMBeanProviderImpl$3.nameToMBeanMap(PlatformMBeanProviderImpl.java:198)\n        at java.management/java.lang.management.ManagementFactory.lambda$getPlatformMBeanServer$0(ManagementFactory.java:487)\n        at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:271)\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n        at java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1692)\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n        at java.management/java.lang.management.ManagementFactory.getPlatformMBeanServer(ManagementFactory.java:488)\n        at org.apache.tomcat.util.modeler.Registry.getMBeanServer(Registry.java:463)\n        at org.apache.catalina.util.LifecycleMBeanBase.initInternal(LifecycleMBeanBase.java:55)\n        at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:997)\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:724)\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:746)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:305)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)\nCaused by: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at java.base/jdk.internal.platform.Metrics.systemMetrics(Metrics.java:63)\n        ... 27 more\nCaused by: java.lang.ExceptionInInitializerError\n        at java.base/jdk.internal.platform.CgroupSubsystemFactory.create(CgroupSubsystemFactory.java:94)\n        at java.base/jdk.internal.platform.CgroupMetrics.getInstance(CgroupMetrics.java:167)\n        ... 32 more\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 4 out of bounds for length 1\n        at java.base/jdk.internal.platform.cgroupv2.CgroupV2Subsystem.initSubsystem(CgroupV2Subsystem.java:72)\n        at java.base/jdk.internal.platform.cgroupv2.CgroupV2Subsystem.&lt;clinit&gt;(CgroupV2Subsystem.java:43)\n        ... 34 more\n</code></pre>\n<p>Can someone please tell how to resolve the same?</p>\n"},{"tags":["java","spring","spring-boot","mariadb","flyway"],"answers":[{"tags":[],"owner":{"account_id":2101627,"reputation":3199,"user_id":1869090,"accept_rate":87,"display_name":"t777"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671463281,"creation_date":1671319129,"answer_id":74838127,"question_id":74838077,"body_markdown":"It was a folder problem:\r\n\r\n-&gt; My current folder-structure (file-system) of Spring Boot 2.7.6 project:\r\n`../src/main/resources/db/migration/`\r\n\r\n-&gt; My current folder-structure (file-system) of Spring Boot 3.0.0 project:\r\n`../src/main/resources/db.migration/`\r\n\r\nAfter setting the folder structure of the Spring Boot 3.0.0 project to the one of the Spring Boot 2.7.7 project, it works well, even with Spring Boot 3.0.0 :)\r\n\r\nSo, the problem, was not a spring boot migration problem, just a path problem.","title":"flyway migrations not found with spring boot 3","body":"<p>It was a folder problem:</p>\n<p>-&gt; My current folder-structure (file-system) of Spring Boot 2.7.6 project:\n<code>../src/main/resources/db/migration/</code></p>\n<p>-&gt; My current folder-structure (file-system) of Spring Boot 3.0.0 project:\n<code>../src/main/resources/db.migration/</code></p>\n<p>After setting the folder structure of the Spring Boot 3.0.0 project to the one of the Spring Boot 2.7.7 project, it works well, even with Spring Boot 3.0.0 :)</p>\n<p>So, the problem, was not a spring boot migration problem, just a path problem.</p>\n"}],"owner":{"account_id":2101627,"reputation":3199,"user_id":1869090,"accept_rate":87,"display_name":"t777"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2985,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74838127,"answer_count":1,"score":2,"last_activity_date":1677501054,"creation_date":1671318352,"question_id":74838077,"body_markdown":"There is a SQL script `V1.0.0_01__Init_from_ddl.sql` in `/src/main/resources/db/migration` which initializes my database.\r\n\r\n-&gt; Running **Spring Boot 2.7.6**, this migration script is completely executed without any error.\r\n\r\n-&gt; Running **Spring Boot 3.0.0**, it says: `No migrations found. Are your locations set up correctly?`\r\n\r\nI have not changed any properties regarding flyway. My database connection (MariaDB 10.6) is fine.\r\n\r\nI have tried to rename the file to `V1__Init.sql` or `V1_0_0__Init.sql` (any many more tries) without any success.\r\n\r\nAny ideas, what is going wrong?","title":"flyway migrations not found with spring boot 3","body":"<p>There is a SQL script <code>V1.0.0_01__Init_from_ddl.sql</code> in <code>/src/main/resources/db/migration</code> which initializes my database.</p>\n<p>-&gt; Running <strong>Spring Boot 2.7.6</strong>, this migration script is completely executed without any error.</p>\n<p>-&gt; Running <strong>Spring Boot 3.0.0</strong>, it says: <code>No migrations found. Are your locations set up correctly?</code></p>\n<p>I have not changed any properties regarding flyway. My database connection (MariaDB 10.6) is fine.</p>\n<p>I have tried to rename the file to <code>V1__Init.sql</code> or <code>V1_0_0__Init.sql</code> (any many more tries) without any success.</p>\n<p>Any ideas, what is going wrong?</p>\n"},{"tags":["java","jwt","quarkus"],"owner":{"account_id":27832094,"reputation":11,"user_id":21250315,"display_name":"Roberto Galindos Perez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677501009,"creation_date":1677501009,"question_id":75580517,"body_markdown":"**I have a publickey.pem file located inside the resource folder of a Jar library**. I have a dependency with that library in my project and I use that file indicating it in the property\r\n\r\n`mp.jwt.verify.publickey.location=publickey.pem`\r\n\r\nIn **Quarkus version 2.13 it worked fine** and I could find the file, but **after upgrading to version 2.16 it stopped working** and I got this error: \r\n\r\n`SRJWT02002: Failed to read the public key content from &#39;mp.jwt.verify.publickey.location&#39;`\r\n\r\nI haven&#39;t changed anything else in the code, and if I switch back to version 2.13 it works again.\r\n\r\nDo you know if anything has changed between these versions and I need to add some new property or something?\r\n\r\n\r\nI have tried to copy the publickey.pem file to the resource folder of the project and it works in Quarkus 2.16. But if it is in the resource folder of a jar library it does not find it. In Quarkus 2.13 it did find it.","title":"Error: &quot;SRJWT02002: Failed to read the public key content from &#39;mp.jwt.verify.publickey.location&#39;&quot; with the file inside a Jar","body":"<p><strong>I have a publickey.pem file located inside the resource folder of a Jar library</strong>. I have a dependency with that library in my project and I use that file indicating it in the property</p>\n<p><code>mp.jwt.verify.publickey.location=publickey.pem</code></p>\n<p>In <strong>Quarkus version 2.13 it worked fine</strong> and I could find the file, but <strong>after upgrading to version 2.16 it stopped working</strong> and I got this error:</p>\n<p><code>SRJWT02002: Failed to read the public key content from 'mp.jwt.verify.publickey.location'</code></p>\n<p>I haven't changed anything else in the code, and if I switch back to version 2.13 it works again.</p>\n<p>Do you know if anything has changed between these versions and I need to add some new property or something?</p>\n<p>I have tried to copy the publickey.pem file to the resource folder of the project and it works in Quarkus 2.16. But if it is in the resource folder of a jar library it does not find it. In Quarkus 2.13 it did find it.</p>\n"},{"tags":["java","sql","spring-data-jpa"],"comments":[{"owner":{"account_id":20873194,"reputation":31568,"user_id":15332650,"display_name":"Stu"},"score":3,"creation_date":1677366421,"post_id":75568929,"comment_id":133324531,"body_markdown":"I would suggest you properly normalise your data, storing delimited data is a common anti-pattern making your solution harder and poor performing than it need be.","body":"I would suggest you properly normalise your data, storing delimited data is a common anti-pattern making your solution harder and poor performing than it need be."},{"owner":{"account_id":24165,"reputation":274971,"user_id":61305,"display_name":"Aaron Bertrand"},"score":1,"creation_date":1677368068,"post_id":75568929,"comment_id":133324728,"body_markdown":"What version of SQL Server are you using? Don&#39;t make us guess, it just makes it harder to help you.","body":"What version of SQL Server are you using? Don&#39;t make us guess, it just makes it harder to help you."},{"owner":{"display_name":"anon"},"score":0,"creation_date":1677396757,"post_id":75568929,"comment_id":133327018,"body_markdown":"@AaronBertrand i do not use SQL server, actually i am Java developer using Java and Spring data framework, i wanted to find a logical SQL query at the first step then i should convert it for Java, so you can consider i am using SQL 2016 and later versions","body":"@AaronBertrand i do not use SQL server, actually i am Java developer using Java and Spring data framework, i wanted to find a logical SQL query at the first step then i should convert it for Java, so you can consider i am using SQL 2016 and later versions"},{"owner":{"account_id":24165,"reputation":274971,"user_id":61305,"display_name":"Aaron Bertrand"},"score":0,"creation_date":1677444694,"post_id":75568929,"comment_id":133334521,"body_markdown":"I don&#39;t understand - you don&#39;t use SQL Server? Why is it tagged SQL Server?","body":"I don&#39;t understand - you don&#39;t use SQL Server? Why is it tagged SQL Server?"},{"owner":{"display_name":"anon"},"score":0,"creation_date":1677500342,"post_id":75568929,"comment_id":133343497,"body_markdown":"@AaronBertrand you are right, i fixed the tags","body":"@AaronBertrand you are right, i fixed the tags"}],"answers":[{"tags":[],"owner":{"account_id":24165,"reputation":274971,"user_id":61305,"display_name":"Aaron Bertrand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677368963,"creation_date":1677368963,"answer_id":75569166,"question_id":75568929,"body_markdown":"You want to split both sides and match; assuming SQL Server 2016 or above:\r\n\r\n    SELECT tconst, directors, writers\r\n    FROM dbo.whoknows AS wk\r\n    WHERE EXISTS\r\n    (\r\n      SELECT 1 FROM dbo.whoknows AS t\r\n      CROSS APPLY STRING_SPLIT(directors,&#39;,&#39;) AS d\r\n      CROSS APPLY STRING_SPLIT(writers,  &#39;,&#39;) AS w\r\n      WHERE LTRIM(RTRIM(d.value)) = LTRIM(RTRIM(w.value))\r\n      AND t.tconst = wk.tconst\r\n    );\r\n\r\n(Or properly normalize your tables, as Stu suggested. You shouldn&#39;t combine two names in a single column unless you never, ever, ever need to query against individual names like this.)\r\n\r\n| tconst | directors | writers |\r\n| :------|:---------|:-------|\r\n| 0002 | tom kaver                 | tom kaver                 |\r\n| 0003 | bob marley                | bob marley, nicole jamine |\r\n\r\n- [Working db&lt;&gt;fiddle example](https://dbfiddle.uk/TIBYmby8?hide=4).","title":"Query to find all equal values from 2 list of string columns","body":"<p>You want to split both sides and match; assuming SQL Server 2016 or above:</p>\n<pre><code>SELECT tconst, directors, writers\nFROM dbo.whoknows AS wk\nWHERE EXISTS\n(\n  SELECT 1 FROM dbo.whoknows AS t\n  CROSS APPLY STRING_SPLIT(directors,',') AS d\n  CROSS APPLY STRING_SPLIT(writers,  ',') AS w\n  WHERE LTRIM(RTRIM(d.value)) = LTRIM(RTRIM(w.value))\n  AND t.tconst = wk.tconst\n);\n</code></pre>\n<p>(Or properly normalize your tables, as Stu suggested. You shouldn't combine two names in a single column unless you never, ever, ever need to query against individual names like this.)</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">tconst</th>\n<th style=\"text-align: left;\">directors</th>\n<th style=\"text-align: left;\">writers</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">0002</td>\n<td style=\"text-align: left;\">tom kaver</td>\n<td style=\"text-align: left;\">tom kaver</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">0003</td>\n<td style=\"text-align: left;\">bob marley</td>\n<td style=\"text-align: left;\">bob marley, nicole jamine</td>\n</tr>\n</tbody>\n</table>\n</div>\n<ul>\n<li><a href=\"https://dbfiddle.uk/TIBYmby8?hide=4\" rel=\"nofollow noreferrer\">Working db&lt;&gt;fiddle example</a>.</li>\n</ul>\n"}],"owner":{"display_name":"anon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677500831,"creation_date":1677365418,"question_id":75568929,"body_markdown":"I have this data:\r\n\r\n    tconst   directors                    writers\r\n    0001     gorge miller, johny amido    sarah blake\r\n    0002,    tom kaver                    tom kaver\r\n    0003,    bob marley                   bob marley, nicole jamine\r\n\r\nI want to write a query to find all items (between directors and writers columns) that its directors and writers are the same or at the least exist one common item, for example, I want to write a query to give me  items: 0002 and 0003 from my table:\r\n   \r\n\r\n    0002,    tom kaver                    tom kaver\r\n    0003,    bob marley                   bob marley, nicole jamine\r\n\r\nThanks for your help.\r\n","title":"Query to find all equal values from 2 list of string columns","body":"<p>I have this data:</p>\n<pre><code>tconst   directors                    writers\n0001     gorge miller, johny amido    sarah blake\n0002,    tom kaver                    tom kaver\n0003,    bob marley                   bob marley, nicole jamine\n</code></pre>\n<p>I want to write a query to find all items (between directors and writers columns) that its directors and writers are the same or at the least exist one common item, for example, I want to write a query to give me  items: 0002 and 0003 from my table:</p>\n<pre><code>0002,    tom kaver                    tom kaver\n0003,    bob marley                   bob marley, nicole jamine\n</code></pre>\n<p>Thanks for your help.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-mongodb"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1677497943,"post_id":75579957,"comment_id":133342890,"body_markdown":"what indexes are defined on the collection? what is the @Id field on the document? please share the entire document code","body":"what indexes are defined on the collection? what is the @Id field on the document? please share the entire document code"},{"owner":{"account_id":22565756,"reputation":185,"user_id":16752809,"display_name":"gs97ahn"},"score":0,"creation_date":1677498394,"post_id":75579957,"comment_id":133342992,"body_markdown":"I&#39;ve updated it to my quesiton.","body":"I&#39;ve updated it to my quesiton."},{"owner":{"account_id":22565756,"reputation":185,"user_id":16752809,"display_name":"gs97ahn"},"score":0,"creation_date":1677498711,"post_id":75579957,"comment_id":133343072,"body_markdown":"I don&#39;t think it has to do with the @Id field.","body":"I don&#39;t think it has to do with the @Id field."},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":1,"creation_date":1677499266,"post_id":75579957,"comment_id":133343204,"body_markdown":"do you have an index defined on designer.username? that is the reason mongo is giving you an error. what annotations are on the User class?","body":"do you have an index defined on designer.username? that is the reason mongo is giving you an error. what annotations are on the User class?"},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1677500762,"post_id":75579957,"comment_id":133343612,"body_markdown":"then please accept my anwser and mark the question as solved.","body":"then please accept my anwser and mark the question as solved."}],"answers":[{"tags":[],"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677500742,"creation_date":1677500742,"answer_id":75580472,"question_id":75579957,"body_markdown":"your collection has an index defined on the designer.username field. remove it or provide a unique value to the username, or allow non-unique option on the index.","title":"How do I allow duplicate key for MongoDB in Spring Boot Project?","body":"<p>your collection has an index defined on the designer.username field. remove it or provide a unique value to the username, or allow non-unique option on the index.</p>\n"}],"owner":{"account_id":22565756,"reputation":185,"user_id":16752809,"display_name":"gs97ahn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75580472,"answer_count":1,"score":1,"last_activity_date":1677500742,"creation_date":1677497709,"question_id":75579957,"body_markdown":"This is how my document looks like\r\n\r\n```java\r\n@Getter\r\n@Document(collection = &quot;team&quot;)\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\npublic class Team extends BaseTimeEntity {\r\n    ....\r\n    private List&lt;User&gt; designers = new ArrayList&lt;&gt;();\r\n    ....\r\n}\r\n```\r\n\r\nThe `BaseTimeEntity`, which is extending from this class, looks like this.\r\n\r\n```java\r\n@Getter\r\npublic abstract class BaseTimeEntity {\r\n\r\n    @MongoId\r\n    private ObjectId id;\r\n\r\n    @CreatedDate\r\n    @Field(name = &quot;created_date&quot;)\r\n    private LocalDateTime createdDate;\r\n\r\n    @LastModifiedDate\r\n    @Field(name = &quot;modified_date&quot;)\r\n    private LocalDateTime modifiedDate;\r\n\r\n    @Field(name = &quot;is_deleted&quot;)\r\n    protected Boolean isDeleted;\r\n\r\n    @Field(name = &quot;schema_version&quot;)\r\n    protected String schemaVersion = &quot;1.0&quot;;\r\n}\r\n```\r\n\r\nAfter adding a single `Team` data into the database. When I try to create a new data with this class, leaving the `designers` list blank again, I get `org.springframework.dao.DuplicateKeyException`.\r\n\r\nThis is the error msg that I get.\r\n\r\n```\r\norg.springframework.dao.DuplicateKeyException: Write operation error on server \r\nlocalhost:27017. Write error: WriteError{code=11000, message=&#39;E11000 duplicate key error \r\ncollection: gabojait.team index: designer.username dup key: { designer.username: null }&#39;, \r\ndetails={}}.; nested exception is com.mongodb.MongoWriteException: Write operation error \r\non server localhost:27017. Write error: WriteError{code=11000, message=&#39;E11000 duplicate \r\nkey error collection: gabojait.team index: designer.username dup key: { \r\ndesigner.username: null }&#39;, details={}}.\r\n```\r\n\r\n**How do I fix this problem?**","title":"How do I allow duplicate key for MongoDB in Spring Boot Project?","body":"<p>This is how my document looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Document(collection = &quot;team&quot;)\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\npublic class Team extends BaseTimeEntity {\n    ....\n    private List&lt;User&gt; designers = new ArrayList&lt;&gt;();\n    ....\n}\n</code></pre>\n<p>The <code>BaseTimeEntity</code>, which is extending from this class, looks like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\npublic abstract class BaseTimeEntity {\n\n    @MongoId\n    private ObjectId id;\n\n    @CreatedDate\n    @Field(name = &quot;created_date&quot;)\n    private LocalDateTime createdDate;\n\n    @LastModifiedDate\n    @Field(name = &quot;modified_date&quot;)\n    private LocalDateTime modifiedDate;\n\n    @Field(name = &quot;is_deleted&quot;)\n    protected Boolean isDeleted;\n\n    @Field(name = &quot;schema_version&quot;)\n    protected String schemaVersion = &quot;1.0&quot;;\n}\n</code></pre>\n<p>After adding a single <code>Team</code> data into the database. When I try to create a new data with this class, leaving the <code>designers</code> list blank again, I get <code>org.springframework.dao.DuplicateKeyException</code>.</p>\n<p>This is the error msg that I get.</p>\n<pre><code>org.springframework.dao.DuplicateKeyException: Write operation error on server \nlocalhost:27017. Write error: WriteError{code=11000, message='E11000 duplicate key error \ncollection: gabojait.team index: designer.username dup key: { designer.username: null }', \ndetails={}}.; nested exception is com.mongodb.MongoWriteException: Write operation error \non server localhost:27017. Write error: WriteError{code=11000, message='E11000 duplicate \nkey error collection: gabojait.team index: designer.username dup key: { \ndesigner.username: null }', details={}}.\n</code></pre>\n<p><strong>How do I fix this problem?</strong></p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-sqs","sqslistener"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1669025871,"post_id":74517284,"comment_id":131540899,"body_markdown":"And your server and worker instances are running the same jar even though they do very different things!?","body":"And your server and worker instances are running the same jar even though they do very different things!?"},{"owner":{"account_id":3737568,"reputation":71,"user_id":3108171,"display_name":"akhil"},"score":0,"creation_date":1669028270,"post_id":74517284,"comment_id":131541686,"body_markdown":"Yes, they are running the same jar. Only the yaml/properties file could be different for server and worker instances","body":"Yes, they are running the same jar. Only the yaml/properties file could be different for server and worker instances"}],"answers":[{"tags":[],"owner":{"account_id":3737568,"reputation":71,"user_id":3108171,"display_name":"akhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677500617,"creation_date":1677500617,"answer_id":75580448,"question_id":74517284,"body_markdown":"I have figured out a way to do it. I have created 2 separate YAML files for server and worker instances and configured a variable `cloud.aws.sqs.autoStart` in both the YAML files. I have kept the value of autoStart as True on the worker instance and as False on the server instance.\r\n\r\nWhile creating the `SimpleMessageListenerContainerFactory` I am using this variable like this:\r\n```\r\n    @Bean\r\n    public SimpleMessageListenerContainerFactory simpleMessageListenerContainerFactory(AmazonSQSAsync amazonSqs) {\r\n        SimpleMessageListenerContainerFactory factory = new SimpleMessageListenerContainerFactory();\r\n        factory.setAmazonSqs(amazonSqs);\r\n        factory.setAutoStartup(autoStart);\r\n        factory.setMaxNumberOfMessages(5);\r\n\r\n\r\n        return factory;\r\n    }\r\n```\r\n","title":"Disable SqsListener on specific instances","body":"<p>I have figured out a way to do it. I have created 2 separate YAML files for server and worker instances and configured a variable <code>cloud.aws.sqs.autoStart</code> in both the YAML files. I have kept the value of autoStart as True on the worker instance and as False on the server instance.</p>\n<p>While creating the <code>SimpleMessageListenerContainerFactory</code> I am using this variable like this:</p>\n<pre><code>    @Bean\n    public SimpleMessageListenerContainerFactory simpleMessageListenerContainerFactory(AmazonSQSAsync amazonSqs) {\n        SimpleMessageListenerContainerFactory factory = new SimpleMessageListenerContainerFactory();\n        factory.setAmazonSqs(amazonSqs);\n        factory.setAutoStartup(autoStart);\n        factory.setMaxNumberOfMessages(5);\n\n\n        return factory;\n    }\n</code></pre>\n"}],"owner":{"account_id":3737568,"reputation":71,"user_id":3108171,"display_name":"akhil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677500617,"creation_date":1669025579,"question_id":74517284,"body_markdown":"I have a spring boot application where i am using SQS for some async tasks.\r\nI want to configure 2 types of instances in this application:\r\n\r\n 1. Server instance: responsible for pushing message to SQS queue.\r\n2. Worker instance: responsible for listening messages from SQS queue.\r\n\r\nFor listening messages I am using `@SqsListener` annotation like this:\r\n```    \r\n    @SqsListener(&quot;queue_name&quot;)\r\n    public void loadMessagesFromQueue(Object message) {\r\n        log.info(&quot;inside loadMessagesFromQueue&quot;);\r\n        log.info(&quot;Queue Messages: &quot; + message);\r\n    }\r\n```\r\nThe ask here is that i want to disable this `SqsListener` on the server instance and just want it to run on the worker instance. How do I achieve this? I have tried searching if there is a way to disable it using some config variable but didn&#39;t find anything","title":"Disable SqsListener on specific instances","body":"<p>I have a spring boot application where i am using SQS for some async tasks.\nI want to configure 2 types of instances in this application:</p>\n<ol>\n<li>Server instance: responsible for pushing message to SQS queue.</li>\n<li>Worker instance: responsible for listening messages from SQS queue.</li>\n</ol>\n<p>For listening messages I am using <code>@SqsListener</code> annotation like this:</p>\n<pre><code>    @SqsListener(&quot;queue_name&quot;)\n    public void loadMessagesFromQueue(Object message) {\n        log.info(&quot;inside loadMessagesFromQueue&quot;);\n        log.info(&quot;Queue Messages: &quot; + message);\n    }\n</code></pre>\n<p>The ask here is that i want to disable this <code>SqsListener</code> on the server instance and just want it to run on the worker instance. How do I achieve this? I have tried searching if there is a way to disable it using some config variable but didn't find anything</p>\n"},{"tags":["java","cmd","environment-variables","java-home","java-17"],"comments":[{"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"score":0,"creation_date":1677071465,"post_id":75532644,"comment_id":133264453,"body_markdown":"4. It&#39;s not valid because I copy pasted it from console. In java is ```String cmd = &quot;java -jar \\&quot;duk/DUKIntegrator.jar\\&quot; -s&quot;;\n        cmd = cmd.concat(&quot; &quot; + msg.form + &quot; \\&quot;duk/&quot; + msg.form + &quot;.xml\\&quot; \\&quot;duk/&quot; + msg.form + &quot;-err.txt\\&quot; 0 0 $ $&quot;);\n        cmd = cmd.concat(&quot; &quot; + Objects.requireNonNull(certType.getSelectedItem()));\n        cmd = cmd.concat(&quot; &quot; + comboBox.getSelectedIndex());```","body":"4. It&#39;s not valid because I copy pasted it from console. In java is <code>String cmd = &quot;java -jar \\&quot;duk&#47;DUKIntegrator.jar\\&quot; -s&quot;;         cmd = cmd.concat(&quot; &quot; + msg.form + &quot; \\&quot;duk&#47;&quot; + msg.form + &quot;.xml\\&quot; \\&quot;duk&#47;&quot; + msg.form + &quot;-err.txt\\&quot; 0 0 $ $&quot;);         cmd = cmd.concat(&quot; &quot; + Objects.requireNonNull(certType.getSelectedItem()));         cmd = cmd.concat(&quot; &quot; + comboBox.getSelectedIndex());</code>"},{"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"score":0,"creation_date":1677072922,"post_id":75532644,"comment_id":133264945,"body_markdown":"Minus for what?","body":"Minus for what?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1677075747,"post_id":75532644,"comment_id":133265841,"body_markdown":"The `JAVA_HOME` variable has no relevance. Further, theres no need to use `cmd /c` when launching `java.exe`. Just `path\\to\\java\\bin\\java.exe -jar path\\to\\jar` is enough.","body":"The <code>JAVA_HOME</code> variable has no relevance. Further, theres no need to use <code>cmd &#47;c</code> when launching <code>java.exe</code>. Just <code>path\\to\\java\\bin\\java.exe -jar path\\to\\jar</code> is enough."}],"answers":[{"tags":[],"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677500590,"creation_date":1677072135,"answer_id":75533294,"question_id":75532644,"body_markdown":"Damn I&#39;m stupid. I just needed to use another java.exe than &quot;java -jar&quot;\r\n\r\nThe solution is: \r\n```\r\n.\\\\duk\\\\jre6\\\\bin\\\\java.exe -jar \\&quot;duk/DUKIntegrator.jar\\&quot; -s\r\n```","title":"Execute &quot;java -jar&quot; from another JAR but using different java versions xD","body":"<p>Damn I'm stupid. I just needed to use another java.exe than &quot;java -jar&quot;</p>\n<p>The solution is:</p>\n<pre><code>.\\\\duk\\\\jre6\\\\bin\\\\java.exe -jar \\&quot;duk/DUKIntegrator.jar\\&quot; -s\n</code></pre>\n"}],"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75533294,"answer_count":1,"score":-1,"last_activity_date":1677500590,"creation_date":1677068638,"question_id":75532644,"body_markdown":"My project is made using JDK 17. From this JAR I need to exec another JAR (by a cmd command). The problem is that for the second JAR I need JRE &lt; 1.8\r\nI&#39;ve tried with Runtime.getRuntime().exec(cmd); and with ProcessBuilder but I can&#39;t make it work. CMD command used is below. I&#39;ve tried to temporarily set JAVA_HOME to 1.6 but I guess cmd.exe takes the java used by the Parent JAR. The second JAR is not made by me and I can&#39;t edit it ... so I need to use &lt;1.8 for it.\r\n\r\n```\r\nString cmd = &quot;set JAVA_HOME=&quot;C:\\ExtensieImpoziteYCS\\duk\\jre6\\bin&quot; &amp; java -jar &quot;duk/DUKIntegrator.jar&quot; -s P2000 &quot;duk/P2000.xml&quot; &quot;duk/P2000-err.txt&quot; 0 0 $ $ aladdin 5&quot;;\r\nProcess duk = Runtime.getRuntime().exec(cmd);\r\nduk.waitFor();\r\nduk.destroy();\r\n```\r\n\r\n```\r\nProcessBuilder processBuilder = new ProcessBuilder();\r\n        try {\r\n            Map&lt;String, String&gt; env = processBuilder.environment();\r\n            env.put(&quot;JAVA_HOME&quot;, &quot;C:\\\\ExtensieImpoziteYCS\\\\duk\\\\jre6\\\\bin\\&quot;&quot;);\r\n            processBuilder.command(&quot;cmd.exe&quot;, &quot;/c&quot;, cmd);\r\n            Process process = processBuilder.start();\r\n\r\n            StringBuilder output = new StringBuilder();\r\n\r\n            BufferedReader reader = new BufferedReader(\r\n                    new InputStreamReader(process.getInputStream()));\r\n\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                output.append(line + &quot;\\n&quot;);\r\n            }\r\n\r\n            int exitVal = process.waitFor();\r\n            if (exitVal == 0) {\r\n                System.out.println(&quot;Success!&quot;);\r\n                System.out.println(output);\r\n                System.exit(0);\r\n            } else {\r\n                System.out.println(output);\r\n            }\r\n\r\n        } catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\nThe second JAR is used to digitally sign a PDF and because of the old JRE used for it, on the new JDK I get this error: \r\n\r\n```\r\njava.lang.IllegalAccessException: class pdf.Sign cannot access class sun.security.mscapi.SunMSCAPI (in module jdk.crypto.mscapi) because module jdk.crypto.mscapi does not export sun.security.mscapi to unnamed module @16022d9d\r\n```\r\n\r\nUsing JRE 1.6 directly from CMD works perfectly...","title":"Execute &quot;java -jar&quot; from another JAR but using different java versions xD","body":"<p>My project is made using JDK 17. From this JAR I need to exec another JAR (by a cmd command). The problem is that for the second JAR I need JRE &lt; 1.8\nI've tried with Runtime.getRuntime().exec(cmd); and with ProcessBuilder but I can't make it work. CMD command used is below. I've tried to temporarily set JAVA_HOME to 1.6 but I guess cmd.exe takes the java used by the Parent JAR. The second JAR is not made by me and I can't edit it ... so I need to use &lt;1.8 for it.</p>\n<pre><code>String cmd = &quot;set JAVA_HOME=&quot;C:\\ExtensieImpoziteYCS\\duk\\jre6\\bin&quot; &amp; java -jar &quot;duk/DUKIntegrator.jar&quot; -s P2000 &quot;duk/P2000.xml&quot; &quot;duk/P2000-err.txt&quot; 0 0 $ $ aladdin 5&quot;;\nProcess duk = Runtime.getRuntime().exec(cmd);\nduk.waitFor();\nduk.destroy();\n</code></pre>\n<pre><code>ProcessBuilder processBuilder = new ProcessBuilder();\n        try {\n            Map&lt;String, String&gt; env = processBuilder.environment();\n            env.put(&quot;JAVA_HOME&quot;, &quot;C:\\\\ExtensieImpoziteYCS\\\\duk\\\\jre6\\\\bin\\&quot;&quot;);\n            processBuilder.command(&quot;cmd.exe&quot;, &quot;/c&quot;, cmd);\n            Process process = processBuilder.start();\n\n            StringBuilder output = new StringBuilder();\n\n            BufferedReader reader = new BufferedReader(\n                    new InputStreamReader(process.getInputStream()));\n\n            String line;\n            while ((line = reader.readLine()) != null) {\n                output.append(line + &quot;\\n&quot;);\n            }\n\n            int exitVal = process.waitFor();\n            if (exitVal == 0) {\n                System.out.println(&quot;Success!&quot;);\n                System.out.println(output);\n                System.exit(0);\n            } else {\n                System.out.println(output);\n            }\n\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>The second JAR is used to digitally sign a PDF and because of the old JRE used for it, on the new JDK I get this error:</p>\n<pre><code>java.lang.IllegalAccessException: class pdf.Sign cannot access class sun.security.mscapi.SunMSCAPI (in module jdk.crypto.mscapi) because module jdk.crypto.mscapi does not export sun.security.mscapi to unnamed module @16022d9d\n</code></pre>\n<p>Using JRE 1.6 directly from CMD works perfectly...</p>\n"},{"tags":["java","hibernate","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":14753782,"reputation":49,"user_id":10655039,"display_name":"Wojtek"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1543393741,"creation_date":1543393741,"answer_id":53515114,"question_id":53510981,"body_markdown":"It works after forcing **countQuery** to add root:\r\n\r\n    ((QueryStructure)((CriteriaQueryImpl)countQuery).queryStructure).roots.add(root)","title":"Criteria api - illegalStateException","body":"<p>It works after forcing <strong>countQuery</strong> to add root:</p>\n\n<pre><code>((QueryStructure)((CriteriaQueryImpl)countQuery).queryStructure).roots.add(root)\n</code></pre>\n"}],"owner":{"account_id":14753782,"reputation":49,"user_id":10655039,"display_name":"Wojtek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":742,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":53515114,"answer_count":1,"score":0,"last_activity_date":1677500504,"creation_date":1543370343,"question_id":53510981,"body_markdown":"I&#39;ve written following code by using Criteria Api:\r\n\r\n    CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n    \r\n    CriteriaQuery&lt;Entity&gt; criteriaQuery = criteriaBuilder.createQuery(Entity.class);\r\n    Root&lt;Entity&gt; root = criteriaQuery.from(Entity.class);\r\n    criteriaQuery.select(root);\r\n    \r\n    CriteriaQuery&lt;Long&gt; countQuery = criteriaBuilder.createQuery(Long.class);\r\n    countQuery.select(criteriaBuilder.count(root));\r\n    \r\n    Long countOfRows = entityManager.createQuery(countQuery).getSingleResult();\r\n\r\nAs a result I get an exception:\r\n\r\n&gt; java.lang.IllegalStateException: No criteria query roots were\r\n&gt; specified\r\n\r\n\r\nThe exception is thrown by **getSingleResult** method (last line of the code). Thank you for help!","title":"Criteria api - illegalStateException","body":"<p>I've written following code by using Criteria Api:</p>\n\n<pre><code>CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n\nCriteriaQuery&lt;Entity&gt; criteriaQuery = criteriaBuilder.createQuery(Entity.class);\nRoot&lt;Entity&gt; root = criteriaQuery.from(Entity.class);\ncriteriaQuery.select(root);\n\nCriteriaQuery&lt;Long&gt; countQuery = criteriaBuilder.createQuery(Long.class);\ncountQuery.select(criteriaBuilder.count(root));\n\nLong countOfRows = entityManager.createQuery(countQuery).getSingleResult();\n</code></pre>\n\n<p>As a result I get an exception:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: No criteria query roots were\n  specified</p>\n</blockquote>\n\n<p>The exception is thrown by <strong>getSingleResult</strong> method (last line of the code). Thank you for help!</p>\n"},{"tags":["java","spring-boot","exceptionhandler"],"answers":[{"tags":[],"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677496064,"creation_date":1677496064,"answer_id":75579677,"question_id":75579551,"body_markdown":"For an interceptor to work, You need to throw your DataIntegrityViolationException exception from the code. But you were handling that by yourself. Exceptions need to propagate to the top to be handled by your interceptor.\r\nAdditional tip: Add a custom message when you throw your exception from code and get the same from interceptor class. ","title":"Question about @ExceptionHandler(Exception.class)","body":"<p>For an interceptor to work, You need to throw your DataIntegrityViolationException exception from the code. But you were handling that by yourself. Exceptions need to propagate to the top to be handled by your interceptor.\nAdditional tip: Add a custom message when you throw your exception from code and get the same from interceptor class.</p>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677500439,"creation_date":1677500439,"answer_id":75580427,"question_id":75579551,"body_markdown":"The @ControllerAdvice will look for the most appropriate @ExceptionHandler. To do this, it will use the class of the exception which is being thrown and it will check if any of the handlers are going to match it. If not, it will repeat the process with the parent of your class, then it will do it with the parent of its parent, and so on until it finds a handler.\r\n\r\nIn this particular case, it will initially look for:\r\n`@ExceptionHandler(DataIntegrityViolationException.class)`\r\nthen for `@ExceptionHandler(NonTransientDataAccessException.class)`\r\nthen for `@ExceptionHandler(DataAccessException.class)`\r\n...\r\nand, lastly, for `@ExceptionHandler(Exception.class)`","title":"Question about @ExceptionHandler(Exception.class)","body":"<p>The @ControllerAdvice will look for the most appropriate @ExceptionHandler. To do this, it will use the class of the exception which is being thrown and it will check if any of the handlers are going to match it. If not, it will repeat the process with the parent of your class, then it will do it with the parent of its parent, and so on until it finds a handler.</p>\n<p>In this particular case, it will initially look for:\n<code>@ExceptionHandler(DataIntegrityViolationException.class)</code>\nthen for <code>@ExceptionHandler(NonTransientDataAccessException.class)</code>\nthen for <code>@ExceptionHandler(DataAccessException.class)</code>\n...\nand, lastly, for <code>@ExceptionHandler(Exception.class)</code></p>\n"}],"owner":{"account_id":9013194,"reputation":220,"user_id":10663941,"display_name":"The Prototype"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75580427,"answer_count":2,"score":0,"last_activity_date":1677500439,"creation_date":1677495374,"question_id":75579551,"body_markdown":"There is an exception interceptor:\r\n```\r\n    @ControllerAdvice\r\n    public class RestExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n        @ExceptionHandler\r\n        public ResponseEntity&lt;ApiExceptionDTO&gt; handleDataIntegrityViolationException(DataIntegrityViolationException ex) {\r\n            // return ResponseEntity&lt;ApiExceptionDTO&gt; with user friendly error message\r\n        }\r\n\r\n        // ... other @ExceptionHandler\r\n        \r\n        @ExceptionHandler(Exception.class)\r\n        public ResponseEntity&lt;ApiExceptionDTO&gt; handleException(Exception ex) {\r\n            // return ResponseEntity&lt;ApiExceptionDTO&gt;\r\n        }\r\n\r\n    }\r\n```\r\n\r\nI was tasked with returning a friendly error message to the user if he tries to delete an object from the database that violates the integrity constraint.\r\n\r\nI caught the `DataIntegrityViolationException` exception and implemented the task.\r\n\r\nI expected it to fail because of `@ExceptionHandler(Exception.class)`, since it will intercept the error first.\r\n\r\nMy question is, why did it work the way I expected?\r\nWhy `@ExceptionHandler(Exception.class)` didn&#39;t catch this exception first?\r\n\r\nAnd in general, the question is what to do in the case when `@ExceptionHandler(Exception.class)` intercepts exceptions that should have hit another interceptor? Or is it possible only if somewhere in another interceptor there is a similar construction `@ExceptionHandler(Exception.class)` ?\r\n\r\nSpringBoot version: 2.1.9.RELEASE","title":"Question about @ExceptionHandler(Exception.class)","body":"<p>There is an exception interceptor:</p>\n<pre><code>    @ControllerAdvice\n    public class RestExceptionHandler extends ResponseEntityExceptionHandler {\n\n        @ExceptionHandler\n        public ResponseEntity&lt;ApiExceptionDTO&gt; handleDataIntegrityViolationException(DataIntegrityViolationException ex) {\n            // return ResponseEntity&lt;ApiExceptionDTO&gt; with user friendly error message\n        }\n\n        // ... other @ExceptionHandler\n        \n        @ExceptionHandler(Exception.class)\n        public ResponseEntity&lt;ApiExceptionDTO&gt; handleException(Exception ex) {\n            // return ResponseEntity&lt;ApiExceptionDTO&gt;\n        }\n\n    }\n</code></pre>\n<p>I was tasked with returning a friendly error message to the user if he tries to delete an object from the database that violates the integrity constraint.</p>\n<p>I caught the <code>DataIntegrityViolationException</code> exception and implemented the task.</p>\n<p>I expected it to fail because of <code>@ExceptionHandler(Exception.class)</code>, since it will intercept the error first.</p>\n<p>My question is, why did it work the way I expected?\nWhy <code>@ExceptionHandler(Exception.class)</code> didn't catch this exception first?</p>\n<p>And in general, the question is what to do in the case when <code>@ExceptionHandler(Exception.class)</code> intercepts exceptions that should have hit another interceptor? Or is it possible only if somewhere in another interceptor there is a similar construction <code>@ExceptionHandler(Exception.class)</code> ?</p>\n<p>SpringBoot version: 2.1.9.RELEASE</p>\n"},{"tags":["java","netbeans"],"answers":[{"tags":[],"owner":{"account_id":12101161,"reputation":11,"user_id":8842174,"display_name":"LOL - Coding ain&#39;t for me"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663579021,"creation_date":1663579021,"answer_id":73771159,"question_id":73770410,"body_markdown":"I solved this problem.\r\n\r\nIn the Design tab of the main class with the textarea in it I right clicked on textarea, selected properties, went to the code tab, clicked the ellipses on the Post-Listeners Code category and pasted the above code in the provided field. \r\nThe button now behaves as I wanted.","title":"Unable to get documentlistener to work enable or disable a button in Java (Netbeans), what am I doing wrong?","body":"<p>I solved this problem.</p>\n<p>In the Design tab of the main class with the textarea in it I right clicked on textarea, selected properties, went to the code tab, clicked the ellipses on the Post-Listeners Code category and pasted the above code in the provided field.\nThe button now behaves as I wanted.</p>\n"}],"owner":{"account_id":12101161,"reputation":11,"user_id":8842174,"display_name":"LOL - Coding ain&#39;t for me"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73771159,"answer_count":1,"score":0,"last_activity_date":1677500141,"creation_date":1663575463,"question_id":73770410,"body_markdown":"I&#39;m trying to enable or disable a button based on whether a text area is empty and for further context, I&#39;m doing this in Netbeans.\r\n[The button disabled by default.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TKKmB.png\r\n\r\nBased on my research so far, what I need to detect the change in the text area is a document listener... No matter how I add the code that I have managed to figure out an plagiarize, it either has errors in it or does nothing... \r\nmessagearea is the name of my textarea and sendb is the button.\r\nThis is the best I have so far:\r\n\r\n```\r\npublic NewJFrame (DocumentListener Frame){\r\n    messagearea.getDocument().addDocumentListener(new DocumentListener() {\r\n        @Override\r\n        public void insertUpdate(DocumentEvent e) {\r\n            //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\r\n            if (messagearea.getText().equals(&quot;&quot;)){\r\n                sendb.setEnabled(false);\r\n                System.out.println(&quot;false&quot;);\r\n            } else\r\n            {\r\n                sendb.setEnabled(true);\r\n                System.out.println(&quot;true&quot;);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void removeUpdate(DocumentEvent e) {\r\n            //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\r\n            if (messagearea.getText().equals(&quot;&quot;)){\r\n                sendb.setEnabled(false);\r\n                System.out.println(&quot;false&quot;);\r\n            } else\r\n            {\r\n                sendb.setEnabled(true);\r\n                System.out.println(&quot;true&quot;);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void changedUpdate(DocumentEvent e) {\r\n            //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\r\n            if (messagearea.getText().equals(&quot;&quot;)){\r\n                sendb.setEnabled(false);\r\n                System.out.println(&quot;false&quot;);\r\n            } else\r\n            {\r\n                sendb.setEnabled(true);\r\n                System.out.println(&quot;true&quot;);\r\n            }\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nI&#39;ve put this after the variable declaration. It doesn&#39;t even print any output, so I know I&#39;ve made a mistake in making the listener actually &quot;listen&quot;, lol\r\nAny help would be appreciated.","title":"Unable to get documentlistener to work enable or disable a button in Java (Netbeans), what am I doing wrong?","body":"<p>I'm trying to enable or disable a button based on whether a text area is empty and for further context, I'm doing this in Netbeans.\n<a href=\"https://i.stack.imgur.com/TKKmB.png\" rel=\"nofollow noreferrer\">The button disabled by default.</a></p>\n<p>Based on my research so far, what I need to detect the change in the text area is a document listener... No matter how I add the code that I have managed to figure out an plagiarize, it either has errors in it or does nothing...\nmessagearea is the name of my textarea and sendb is the button.\nThis is the best I have so far:</p>\n<pre><code>public NewJFrame (DocumentListener Frame){\n    messagearea.getDocument().addDocumentListener(new DocumentListener() {\n        @Override\n        public void insertUpdate(DocumentEvent e) {\n            //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\n            if (messagearea.getText().equals(&quot;&quot;)){\n                sendb.setEnabled(false);\n                System.out.println(&quot;false&quot;);\n            } else\n            {\n                sendb.setEnabled(true);\n                System.out.println(&quot;true&quot;);\n            }\n        }\n\n        @Override\n        public void removeUpdate(DocumentEvent e) {\n            //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\n            if (messagearea.getText().equals(&quot;&quot;)){\n                sendb.setEnabled(false);\n                System.out.println(&quot;false&quot;);\n            } else\n            {\n                sendb.setEnabled(true);\n                System.out.println(&quot;true&quot;);\n            }\n        }\n\n        @Override\n        public void changedUpdate(DocumentEvent e) {\n            //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\n            if (messagearea.getText().equals(&quot;&quot;)){\n                sendb.setEnabled(false);\n                System.out.println(&quot;false&quot;);\n            } else\n            {\n                sendb.setEnabled(true);\n                System.out.println(&quot;true&quot;);\n            }\n        }\n    });\n}\n</code></pre>\n<p>I've put this after the variable declaration. It doesn't even print any output, so I know I've made a mistake in making the listener actually &quot;listen&quot;, lol\nAny help would be appreciated.</p>\n"},{"tags":["java","excel","frameworks"],"answers":[{"tags":[],"owner":{"account_id":53499,"reputation":3171,"user_id":159946,"display_name":"Vanya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279774060,"creation_date":1279774060,"answer_id":3305837,"question_id":3305827,"body_markdown":"The key words you should google for are OLE and DDE.\r\n\r\nThough, Java is not the best language for interface Microsoft&#39;s software.","title":"create excel using Java","body":"<p>The key words you should google for are OLE and DDE.</p>\n\n<p>Though, Java is not the best language for interface Microsoft's software.</p>\n"},{"tags":[],"owner":{"account_id":31685,"reputation":3185,"user_id":87206,"display_name":"CurtainDog"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1279774354,"creation_date":1279774354,"answer_id":3305854,"question_id":3305827,"body_markdown":"Just spit out a CSV file. It&#39;s lightweight and portable. You can grab a csv writer from Apache commons I think but spending the 10 min it would take to write one might be a good learning exercise as well.","title":"create excel using Java","body":"<p>Just spit out a CSV file. It's lightweight and portable. You can grab a csv writer from Apache commons I think but spending the 10 min it would take to write one might be a good learning exercise as well.</p>\n"},{"tags":[],"owner":{"account_id":14015,"reputation":2988,"user_id":28491,"accept_rate":100,"display_name":"kdmurray"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677499884,"creation_date":1279774397,"answer_id":3305857,"question_id":3305827,"body_markdown":"The new xlsx format is based on Open-XML and would provide a method of generating these files without any dependency on Microsoft-office COM libraries -- the same could done for docx and pptx formats later, as well as other open-Xml formats like EPUB.\r\n\r\nThe [Apache POI project][1] looks like it might provide one possible solution. There&#39;s also an [article on the MSDN interop blog][2] that discusses this in some detail.\r\n\r\n\r\n  [1]: https://poi.apache.org/\r\n  [2]: https://learn.microsoft.com/en-us/archive/blogs/interoperability/open-xml-made-easier-for-java-developers-with-apache-poi","title":"create excel using Java","body":"<p>The new xlsx format is based on Open-XML and would provide a method of generating these files without any dependency on Microsoft-office COM libraries -- the same could done for docx and pptx formats later, as well as other open-Xml formats like EPUB.</p>\n<p>The <a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">Apache POI project</a> looks like it might provide one possible solution. There's also an <a href=\"https://learn.microsoft.com/en-us/archive/blogs/interoperability/open-xml-made-easier-for-java-developers-with-apache-poi\" rel=\"nofollow noreferrer\">article on the MSDN interop blog</a> that discusses this in some detail.</p>\n"},{"tags":[],"owner":{"account_id":88301,"reputation":5748,"user_id":244330,"accept_rate":54,"display_name":"newguy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279774591,"creation_date":1279774591,"answer_id":3305871,"question_id":3305827,"body_markdown":"The easiest and standard way of doing this is to use POI library:\r\n\r\nhttp://poi.apache.org/spreadsheet/quick-guide.html","title":"create excel using Java","body":"<p>The easiest and standard way of doing this is to use POI library:</p>\n\n<p><a href=\"http://poi.apache.org/spreadsheet/quick-guide.html\" rel=\"nofollow noreferrer\">http://poi.apache.org/spreadsheet/quick-guide.html</a></p>\n"},{"tags":[],"owner":{"account_id":29867,"reputation":10466,"user_id":81009,"display_name":"crafty"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1279774817,"creation_date":1279774817,"answer_id":3305883,"question_id":3305827,"body_markdown":"If you want a real solution where you want different outputs (eg excel, pdf, rich text etc) then use a reporting tool. There are plenty of opensource tools like [ireport][1] which will let you create a template then write a simple java app that renders that to pdf, excel etc. Otherwise you will end up doing it by hand. It&#39;s a bit heavyweight but anything more than trival tabular output will be easier.\r\n\r\n\r\n  [1]: http://jasperforge.org/projects/ireport","title":"create excel using Java","body":"<p>If you want a real solution where you want different outputs (eg excel, pdf, rich text etc) then use a reporting tool. There are plenty of opensource tools like <a href=\"http://jasperforge.org/projects/ireport\" rel=\"nofollow noreferrer\">ireport</a> which will let you create a template then write a simple java app that renders that to pdf, excel etc. Otherwise you will end up doing it by hand. It's a bit heavyweight but anything more than trival tabular output will be easier.</p>\n"},{"tags":[],"owner":{"account_id":171578,"reputation":10558,"user_id":399104,"accept_rate":78,"display_name":"Truong Ha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1279774907,"creation_date":1279774907,"answer_id":3305888,"question_id":3305827,"body_markdown":"Apache POI is for you in this case, but you will find it a little bit overwhelmed if you just need to write/read data from an excel file.\r\n\r\nTry **[jExcel][1]** instead, the API is simple and straightforward, you can also manipulate sheets within an excel workbook.\r\n\r\n\r\n  [1]: http://jexcelapi.sourceforge.net/","title":"create excel using Java","body":"<p>Apache POI is for you in this case, but you will find it a little bit overwhelmed if you just need to write/read data from an excel file.</p>\n\n<p>Try <strong><a href=\"http://jexcelapi.sourceforge.net/\" rel=\"nofollow noreferrer\">jExcel</a></strong> instead, the API is simple and straightforward, you can also manipulate sheets within an excel workbook.</p>\n"},{"tags":[],"owner":{"account_id":3304223,"reputation":1,"user_id":2779551,"display_name":"james"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379174270,"creation_date":1379174270,"answer_id":18803570,"question_id":3305827,"body_markdown":"for generating excel i think you should try simreport in jsimreport.com. in my opinion, it&#39;s quite simple to make an excel report, it uses the excel sheet to generate report so easy to config and visually","title":"create excel using Java","body":"<p>for generating excel i think you should try simreport in jsimreport.com. in my opinion, it's quite simple to make an excel report, it uses the excel sheet to generate report so easy to config and visually</p>\n"}],"owner":{"account_id":170670,"reputation":11,"user_id":397546,"display_name":"Stack User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1445,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":7,"score":1,"last_activity_date":1677499884,"creation_date":1279773850,"question_id":3305827,"body_markdown":"I am very new to java. I am trying to fetch some data from a database and the result set is displayed in excel. I am able to inetract with database. But how should I go ahead for inserting data into excel sheet.Its simple Java program and in future I would like to generate files in other format say PDF, doc etc.\r\nI am looking for an approach with lesser load on CPU, faster.\r\n\r\nthanks in advance for help. ","title":"create excel using Java","body":"<p>I am very new to java. I am trying to fetch some data from a database and the result set is displayed in excel. I am able to inetract with database. But how should I go ahead for inserting data into excel sheet.Its simple Java program and in future I would like to generate files in other format say PDF, doc etc.\nI am looking for an approach with lesser load on CPU, faster.</p>\n\n<p>thanks in advance for help. </p>\n"},{"tags":["java","gradle","sonarqube","github-actions"],"comments":[{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1677500735,"post_id":75580335,"comment_id":133343598,"body_markdown":"Please include your runner info and how gradle is installed in your question. Thanks!","body":"Please include your runner info and how gradle is installed in your question. Thanks!"}],"owner":{"account_id":5977006,"reputation":3550,"user_id":4697491,"accept_rate":31,"display_name":"Awadesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677499823,"creation_date":1677499823,"question_id":75580335,"body_markdown":"My project is using gradle-7.6 and the building, running fine on my local machine as well as on the GitHub actions workflows CI pipeline\r\n\r\nBut after a minor patch update on the ubuntu machine, the build started failing.\r\n\r\nOne of the major reasons seems of the failure is the Gradle version that GitHub workflow is picking.\r\n\r\nFor success builds it used to be \r\n\r\n    GRADLE_HOME=/usr/share/gradle-7.6\r\n\r\nBut now it is -\r\n\r\n    GRADLE_HOME=/usr/share/gradle-8.0.1\r\n\r\n\r\nI tried a lot to figure out where this env GRADLE_HOME is set, but no luck.\r\n\r\nCan anyone please help with this issue? How to override this?\r\n\r\nAny help will be appreciated","title":"GRADLE_HOME is picking /usr/share/gradle-8.0.1 instead of /usr/share/gradle-7.6 in github actions CI pipeline","body":"<p>My project is using gradle-7.6 and the building, running fine on my local machine as well as on the GitHub actions workflows CI pipeline</p>\n<p>But after a minor patch update on the ubuntu machine, the build started failing.</p>\n<p>One of the major reasons seems of the failure is the Gradle version that GitHub workflow is picking.</p>\n<p>For success builds it used to be</p>\n<pre><code>GRADLE_HOME=/usr/share/gradle-7.6\n</code></pre>\n<p>But now it is -</p>\n<pre><code>GRADLE_HOME=/usr/share/gradle-8.0.1\n</code></pre>\n<p>I tried a lot to figure out where this env GRADLE_HOME is set, but no luck.</p>\n<p>Can anyone please help with this issue? How to override this?</p>\n<p>Any help will be appreciated</p>\n"},{"tags":["java","android","android-studio","android-imageview","image-rotation"],"comments":[{"owner":{"account_id":18348513,"reputation":8716,"user_id":13363205,"display_name":"iknow"},"score":0,"creation_date":1595515582,"post_id":63056703,"comment_id":111507810,"body_markdown":"So You have 2 images. If You click You want one to rotate and fade and second to be shown? And when click again You want to the same?","body":"So You have 2 images. If You click You want one to rotate and fade and second to be shown? And when click again You want to the same?"},{"owner":{"account_id":19143744,"reputation":37,"user_id":13983196,"display_name":"Muhammad Abbas Bangash"},"score":0,"creation_date":1595517472,"post_id":63056703,"comment_id":111508906,"body_markdown":"Yes Exactly...!","body":"Yes Exactly...!"}],"answers":[{"tags":[],"owner":{"account_id":18348513,"reputation":8716,"user_id":13363205,"display_name":"iknow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1595516178,"creation_date":1595515789,"answer_id":63057051,"question_id":63056703,"body_markdown":"You have to set `rotation` to 0 when setting alpha to `1`. When You set `rotation` to `3600` it isn&#39;t `3600` degrees from the current state but from the default state, that&#39;s why it works only one time.\r\n```\r\nboolean eggview = true;\r\npublic void fade(View view)\r\n{\r\n    ImageView eggImageView = (ImageView) findViewById(R.id.egg);\r\n    ImageView chickImageView = (ImageView) findViewById(R.id.chick);\r\n    if (eggview)\r\n    {\r\n        eggview = false;\r\n        eggImageView.animate().rotation(3600).setDuration(1200).alpha(0);\r\n        chickImageView.animate().alpha(1).rotation(0);\r\n    }\r\n    else\r\n    {\r\n        eggview = true;\r\n        chickImageView.animate().rotation(3600).alpha(0).setDuration(1200);\r\n        eggImageView.animate().alpha(1).rotation(0);\r\n    }\r\n}\r\n```\r\nIf You don&#39;t want to make a backward rotation when fading in just set rotation to `actual state + 3600`. But the main problem with Your code is setting rotation to the actual state.","title":"Java Android ImageView-Image rotation only works for the first time","body":"<p>You have to set <code>rotation</code> to 0 when setting alpha to <code>1</code>. When You set <code>rotation</code> to <code>3600</code> it isn't <code>3600</code> degrees from the current state but from the default state, that's why it works only one time.</p>\n<pre><code>boolean eggview = true;\npublic void fade(View view)\n{\n    ImageView eggImageView = (ImageView) findViewById(R.id.egg);\n    ImageView chickImageView = (ImageView) findViewById(R.id.chick);\n    if (eggview)\n    {\n        eggview = false;\n        eggImageView.animate().rotation(3600).setDuration(1200).alpha(0);\n        chickImageView.animate().alpha(1).rotation(0);\n    }\n    else\n    {\n        eggview = true;\n        chickImageView.animate().rotation(3600).alpha(0).setDuration(1200);\n        eggImageView.animate().alpha(1).rotation(0);\n    }\n}\n</code></pre>\n<p>If You don't want to make a backward rotation when fading in just set rotation to <code>actual state + 3600</code>. But the main problem with Your code is setting rotation to the actual state.</p>\n"},{"tags":[],"owner":{"account_id":5392773,"reputation":3453,"user_id":4294782,"accept_rate":75,"display_name":"A Honey Bustard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595516497,"creation_date":1595516497,"answer_id":63057289,"question_id":63056703,"body_markdown":"Use the \r\n\r\n[ViewPropertyAnimator][1]\r\n\r\n method rotationBy() instead of rotation()\r\n\r\n    eggImageView.animate().rotationBy(3600)...\r\n\r\nrotation() moves the View TO 360f and rotationBy() moves the View BY 360f\r\n\r\nsame with alphaBy()\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/ViewPropertyAnimator#rotationBy(float)","title":"Java Android ImageView-Image rotation only works for the first time","body":"<p>Use the</p>\n<p><a href=\"https://developer.android.com/reference/android/view/ViewPropertyAnimator#rotationBy(float)\" rel=\"nofollow noreferrer\">ViewPropertyAnimator</a></p>\n<p>method rotationBy() instead of rotation()</p>\n<pre><code>eggImageView.animate().rotationBy(3600)...\n</code></pre>\n<p>rotation() moves the View TO 360f and rotationBy() moves the View BY 360f</p>\n<p>same with alphaBy()</p>\n"}],"owner":{"account_id":19143744,"reputation":37,"user_id":13983196,"display_name":"Muhammad Abbas Bangash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":545,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":63057051,"answer_count":2,"score":1,"last_activity_date":1677499213,"creation_date":1595514680,"question_id":63056703,"body_markdown":"I have written java-android code for image view that will rotate and fade away and another image will be visible, I use `imageViewer.animate.rotation(3600).alpha(0);` now this works fine when I run the code on an emulator, the images fade and re-appear just fine, but the problem is about the rotation after I compile the app for the first time when I click on the image, it will rotate and fade away and the next picture is shown, but when I tap on the image again, it will not rotate, instead only the fade in and fade out will work but not the rotation (Note that it rotates for the first time after compilation but then doesn&#39;t rotates and fade in/out works only). Here is the code:\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity\r\n{\r\n    boolean eggview = true;\r\n\r\n    public void fade(View view)\r\n    {\r\n        ImageView eggImageView = (ImageView) findViewById(R.id.egg);\r\n        ImageView chickImageView = (ImageView) findViewById(R.id.chick);\r\n        if (eggview)\r\n        {\r\n            eggview = false;\r\n            eggImageView.animate().rotation(3600).setDuration(1200).alpha(0);\r\n            chickImageView.animate().alpha(1);\r\n        }\r\n        else\r\n        {\r\n            eggview = true;\r\n            chickImageView.animate().rotation(3600).alpha(0).setDuration(1200);\r\n            eggImageView.animate().alpha(1);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n}\r\n```","title":"Java Android ImageView-Image rotation only works for the first time","body":"<p>I have written java-android code for image view that will rotate and fade away and another image will be visible, I use <code>imageViewer.animate.rotation(3600).alpha(0);</code> now this works fine when I run the code on an emulator, the images fade and re-appear just fine, but the problem is about the rotation after I compile the app for the first time when I click on the image, it will rotate and fade away and the next picture is shown, but when I tap on the image again, it will not rotate, instead only the fade in and fade out will work but not the rotation (Note that it rotates for the first time after compilation but then doesn't rotates and fade in/out works only). Here is the code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity\n{\n    boolean eggview = true;\n\n    public void fade(View view)\n    {\n        ImageView eggImageView = (ImageView) findViewById(R.id.egg);\n        ImageView chickImageView = (ImageView) findViewById(R.id.chick);\n        if (eggview)\n        {\n            eggview = false;\n            eggImageView.animate().rotation(3600).setDuration(1200).alpha(0);\n            chickImageView.animate().alpha(1);\n        }\n        else\n        {\n            eggview = true;\n            chickImageView.animate().rotation(3600).alpha(0).setDuration(1200);\n            eggImageView.animate().alpha(1);\n        }\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","redirect"],"comments":[{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1677499111,"post_id":75576929,"comment_id":133343164,"body_markdown":"Please don&#39;t post code images or bugs if possible, copy your code or code error into question with block code format: https://stackoverflow.com/help/how-to-ask","body":"Please don&#39;t post code images or bugs if possible, copy your code or code error into question with block code format: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1677791559,"post_id":75576929,"comment_id":133412545,"body_markdown":"You are getting the error from chrome browser, that browser is sending a GET request to the url you provide but the code you show expecting POST, check https://stackoverflow.com/q/73689572/175554 and the answer, it is showing how you can call the end point.","body":"You are getting the error from chrome browser, that browser is sending a GET request to the url you provide but the code you show expecting POST, check <a href=\"https://stackoverflow.com/q/73689572/175554\">stackoverflow.com/q/73689572/175554</a> and the answer, it is showing how you can call the end point."}],"owner":{"account_id":27887473,"reputation":1,"user_id":21294578,"display_name":"scrollbunny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677499184,"creation_date":1677474427,"question_id":75576929,"body_markdown":"When I add &quot;RedirectAttributes redirectAttributes&quot; to String saveUser of PostMapping I got Error status 500.\r\n\r\n[enter image description here](https://i.stack.imgur.com/gM36L.png)\r\n\r\nI think maybe syntax of PostMapping or FileUploadUtil file has error but can&#39;t find anything.\r\n\r\n[enter image description here](https://i.stack.imgur.com/x70BT.png)\r\n\r\nBefore that, if I comment the code in line 50 -&gt; 53 and using the code in line 55 -&gt; 60 the code will run normally.\r\n\r\nHope anyone can help me fix this.","title":"Cannot save the data when using RedirectAttributes","body":"<p>When I add &quot;RedirectAttributes redirectAttributes&quot; to String saveUser of PostMapping I got Error status 500.</p>\n<p><a href=\"https://i.stack.imgur.com/gM36L.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I think maybe syntax of PostMapping or FileUploadUtil file has error but can't find anything.</p>\n<p><a href=\"https://i.stack.imgur.com/x70BT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Before that, if I comment the code in line 50 -&gt; 53 and using the code in line 55 -&gt; 60 the code will run normally.</p>\n<p>Hope anyone can help me fix this.</p>\n"},{"tags":["java","cdi","quarkus","weld","weld-junit5"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1649073325,"post_id":71735057,"comment_id":126775987,"body_markdown":"This is bad, it seems that Quarkus tests and weld-junit do not play well together. It would be better if there was a rule to exclude any bean definitions from test classes that are not the current test, but that too may not be possible due to how Quarkus tests work (if my understanding is correct). In simple projects I have gotten away with it by splitting the code into Maven modules, and running weld-junit tests on the business logic and Quarkus tests only on the main assembly project. What happens if you make the `@Produces @Mock` field private, as a workaround?","body":"This is bad, it seems that Quarkus tests and weld-junit do not play well together. It would be better if there was a rule to exclude any bean definitions from test classes that are not the current test, but that too may not be possible due to how Quarkus tests work (if my understanding is correct). In simple projects I have gotten away with it by splitting the code into Maven modules, and running weld-junit tests on the business logic and Quarkus tests only on the main assembly project. What happens if you make the <code>@Produces @Mock</code> field private, as a workaround?"},{"owner":{"account_id":2371985,"reputation":383,"user_id":5399273,"display_name":"Johannes Hahn"},"score":1,"creation_date":1649085587,"post_id":71735057,"comment_id":126781097,"body_markdown":"I agree, it&#39;s non-trivial, because @QuarkusTest is not as isolated as a unit test and as far as I understand it, this is intended. So @QuarkusTest needs to scan many other classes, no question.  Making the producer field private does not help, it still gets found. However, it&#39;s not as bad as it seems, because Weld-JUnit can also be configured programmatically with a `@WeldSetup WeldInitiator` field instead so that no producer field or method is strictly necessary. Unsurprisingly, this quickly gets annoyingly verbose and I was hoping for a &quot;don&#39;t look over there&quot; configuration.","body":"I agree, it&#39;s non-trivial, because @QuarkusTest is not as isolated as a unit test and as far as I understand it, this is intended. So @QuarkusTest needs to scan many other classes, no question.  Making the producer field private does not help, it still gets found. However, it&#39;s not as bad as it seems, because Weld-JUnit can also be configured programmatically with a <code>@WeldSetup WeldInitiator</code> field instead so that no producer field or method is strictly necessary. Unsurprisingly, this quickly gets annoyingly verbose and I was hoping for a &quot;don&#39;t look over there&quot; configuration."}],"answers":[{"tags":[],"owner":{"account_id":3138056,"reputation":1166,"user_id":2654154,"display_name":"Martin Kouba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677499036,"creation_date":1677499036,"answer_id":75580184,"question_id":71735057,"body_markdown":"You could try to add all the weld-junit unit tests in a specific package and exclude this package from quarkus discovery via [`quarkus.arc.exclude-types`][1]; i.e. something like `%test.quarkus.arc.exclude-types=org.acme.unit.tests.**`.\r\n\r\n\r\n  [1]: https://quarkus.io/guides/cdi-reference#quarkus-arc_quarkus.arc.exclude-types","title":"Is bean discovery for @QuarkusTest configurable?","body":"<p>You could try to add all the weld-junit unit tests in a specific package and exclude this package from quarkus discovery via <a href=\"https://quarkus.io/guides/cdi-reference#quarkus-arc_quarkus.arc.exclude-types\" rel=\"nofollow noreferrer\"><code>quarkus.arc.exclude-types</code></a>; i.e. something like <code>%test.quarkus.arc.exclude-types=org.acme.unit.tests.**</code>.</p>\n"}],"owner":{"account_id":2371985,"reputation":383,"user_id":5399273,"display_name":"Johannes Hahn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677499036,"creation_date":1649065301,"question_id":71735057,"body_markdown":"Consider the following Quarkus application:\r\n\r\n```\r\n@ApplicationScoped\r\n@Path(&quot;/hello&quot;)\r\npublic class HelloService {\r\n\r\n    @Inject\r\n    Helper helper;\r\n\r\n    @GET\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public String sayHello(){\r\n        return &quot;Hello &quot;+helper.getName();\r\n    }\r\n}\r\n\r\n\r\n@Dependent\r\npublic class Helper {\r\n\r\n    public String getName() {\r\n        return &quot;World&quot;;\r\n    }\r\n}\r\n```\r\n\r\nand the following Test:\r\n```\r\n@QuarkusTest\r\n@TestHTTPEndpoint(HelloService.class)\r\npublic class HelloQuarkusTest {\r\n\r\n    @Test\r\n    void testSayHello(){\r\n        given().when().then().body(is(&quot;Hello World&quot;));\r\n    }\r\n}\r\n```\r\n\r\nEverything&#39;s fine up to this point. The service and its helper are of course a bit more complicated than that in reality. So I want to have some unit tests. If I write a unit test for the service like so:\r\n\r\n```\r\n@EnableAutoWeld\r\n@ExtendWith(MockitoExtension.class)\r\nclass HelloUnitTest {\r\n\r\n    @Inject\r\n    HelloService helloService;\r\n\r\n    @Produces @Mock\r\n    @ExcludeBean // don&#39;t use the real bean, use this instead\r\n    Helper helperMock;\r\n\r\n    @Test\r\n    void testSayHello(){\r\n        when(helperMock.getName()).thenReturn(&quot;Mock&quot;);\r\n        final String actual = helloService.sayHello();\r\n        assertThat(actual).isEqualTo(&quot;Hello Mock&quot;);\r\n    }\r\n}\r\n```\r\nThen the unit test is green, but suddenly the `@QuarkusTest` fails, because it finds both the real `Helper` implementation and the producer field from the unit test and consequently throws an `AmbiguousResolutionException`:\r\n``` lang-none\r\njava.lang.RuntimeException: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n\t[error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.AmbiguousResolutionException: Ambiguous dependencies for type com.example.Helper and qualifiers [@Default]\r\n\t- java member: com.example.HelloService#helper\r\n\t- declared on CLASS bean [types=[com.example.HelloService, java.lang.Object], qualifiers=[@Default, @Any], target=com.example.HelloService]\r\n\t- available beans:\r\n\t\t- CLASS bean [types=[java.lang.Object, com.example.Helper], qualifiers=[@Default, @Any], target=com.example.Helper]\r\n\t\t- PRODUCER FIELD bean [types=[java.lang.Object, com.example.Helper], qualifiers=[@Default, @Any], target=com.example.Helper com.example.weld.HelloUnitTest.helperMock, declaringBean=com.example.weld.HelloUnitTest]\r\n```\r\n\r\nThis happens even if the tests are in different packages. To some extend I understand why scanning more than one class/package is intended for a `@QuarkusTest`, but I don&#39;t like it in this case.\r\n\r\nSo my question is:\r\n&gt; How can I configure what beans/classes/packages a `@QuarkusTest` picks up and which it ignores?\r\n\r\nI have tried playing around with the Arc settings in `application-test.properties`, but so far have not found the right combination of properties.","title":"Is bean discovery for @QuarkusTest configurable?","body":"<p>Consider the following Quarkus application:</p>\n<pre><code>@ApplicationScoped\n@Path(&quot;/hello&quot;)\npublic class HelloService {\n\n    @Inject\n    Helper helper;\n\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    public String sayHello(){\n        return &quot;Hello &quot;+helper.getName();\n    }\n}\n\n\n@Dependent\npublic class Helper {\n\n    public String getName() {\n        return &quot;World&quot;;\n    }\n}\n</code></pre>\n<p>and the following Test:</p>\n<pre><code>@QuarkusTest\n@TestHTTPEndpoint(HelloService.class)\npublic class HelloQuarkusTest {\n\n    @Test\n    void testSayHello(){\n        given().when().then().body(is(&quot;Hello World&quot;));\n    }\n}\n</code></pre>\n<p>Everything's fine up to this point. The service and its helper are of course a bit more complicated than that in reality. So I want to have some unit tests. If I write a unit test for the service like so:</p>\n<pre><code>@EnableAutoWeld\n@ExtendWith(MockitoExtension.class)\nclass HelloUnitTest {\n\n    @Inject\n    HelloService helloService;\n\n    @Produces @Mock\n    @ExcludeBean // don't use the real bean, use this instead\n    Helper helperMock;\n\n    @Test\n    void testSayHello(){\n        when(helperMock.getName()).thenReturn(&quot;Mock&quot;);\n        final String actual = helloService.sayHello();\n        assertThat(actual).isEqualTo(&quot;Hello Mock&quot;);\n    }\n}\n</code></pre>\n<p>Then the unit test is green, but suddenly the <code>@QuarkusTest</code> fails, because it finds both the real <code>Helper</code> implementation and the producer field from the unit test and consequently throws an <code>AmbiguousResolutionException</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.RuntimeException: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n    [error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.AmbiguousResolutionException: Ambiguous dependencies for type com.example.Helper and qualifiers [@Default]\n    - java member: com.example.HelloService#helper\n    - declared on CLASS bean [types=[com.example.HelloService, java.lang.Object], qualifiers=[@Default, @Any], target=com.example.HelloService]\n    - available beans:\n        - CLASS bean [types=[java.lang.Object, com.example.Helper], qualifiers=[@Default, @Any], target=com.example.Helper]\n        - PRODUCER FIELD bean [types=[java.lang.Object, com.example.Helper], qualifiers=[@Default, @Any], target=com.example.Helper com.example.weld.HelloUnitTest.helperMock, declaringBean=com.example.weld.HelloUnitTest]\n</code></pre>\n<p>This happens even if the tests are in different packages. To some extend I understand why scanning more than one class/package is intended for a <code>@QuarkusTest</code>, but I don't like it in this case.</p>\n<p>So my question is:</p>\n<blockquote>\n<p>How can I configure what beans/classes/packages a <code>@QuarkusTest</code> picks up and which it ignores?</p>\n</blockquote>\n<p>I have tried playing around with the Arc settings in <code>application-test.properties</code>, but so far have not found the right combination of properties.</p>\n"},{"tags":["java","elasticsearch","lucene","query-parser"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676467677,"post_id":75458038,"comment_id":133141960,"body_markdown":"Wildcards are for terms, not for field names. And also, the `QueryParser` [constructor](https://lucene.apache.org/core/9_5_0/queryparser/org/apache/lucene/queryparser/classic/QueryParser.html#%3Cinit%3E(java.lang.String,org.apache.lucene.analysis.Analyzer)) in your code is using that first parameter to define the _default_ field name (the field name to use if you do not provide one explicitly).","body":"Wildcards are for terms, not for field names. And also, the <code>QueryParser</code> <a href=\"https://lucene.apache.org/core/9_5_0/queryparser/org/apache/lucene/queryparser/classic/QueryParser.html#%3Cinit%3E(java.lang.String,org.apache.lucene.analysis.Analyzer)\" rel=\"nofollow noreferrer\">constructor</a> in your code is using that first parameter to define the <i>default</i> field name (the field name to use if you do not provide one explicitly)."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676467725,"post_id":75458038,"comment_id":133141982,"body_markdown":"Each document in a Lucene index may have different field names. You can search in Stack Overflow for ways to access all the field names in each document. Here is [one approach](https://stackoverflow.com/a/62158685/12567365). Note also the comment in that answer about handling deleted docs.","body":"Each document in a Lucene index may have different field names. You can search in Stack Overflow for ways to access all the field names in each document. Here is <a href=\"https://stackoverflow.com/a/62158685/12567365\">one approach</a>. Note also the comment in that answer about handling deleted docs."},{"owner":{"account_id":27791859,"reputation":1,"user_id":21218136,"display_name":"yang he"},"score":0,"creation_date":1676513511,"post_id":75458038,"comment_id":133153806,"body_markdown":"Thank you for your answer. And I know to use QueryParser to search either sigle field or multi fields by lucene. But I Just don&#39;t know how to search for every fields in documents I&#39;d insert to the index. I learned to pass `*` to QueryParser as default field by reading the source code of `ElasticSearch-7.10.2, QueryStringQueryBuilder.java:876`. When using the query_string of ES and default field is not specified, ElasticSearch will call the constructor of class QueryStringQueryParser, which inherited from lucene.QueryParser, and will use `*` as the first parameter.","body":"Thank you for your answer. And I know to use QueryParser to search either sigle field or multi fields by lucene. But I Just don&#39;t know how to search for every fields in documents I&#39;d insert to the index. I learned to pass <code>*</code> to QueryParser as default field by reading the source code of <code>ElasticSearch-7.10.2, QueryStringQueryBuilder.java:876</code>. When using the query_string of ES and default field is not specified, ElasticSearch will call the constructor of class QueryStringQueryParser, which inherited from lucene.QueryParser, and will use <code>*</code> as the first parameter."},{"owner":{"account_id":27791859,"reputation":1,"user_id":21218136,"display_name":"yang he"},"score":0,"creation_date":1676513666,"post_id":75458038,"comment_id":133153825,"body_markdown":"The behavior i talked above has also been decleared in [link](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html) in `default_field`, thanks again.","body":"The behavior i talked above has also been decleared in <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html\" rel=\"nofollow noreferrer\">link</a> in <code>default_field</code>, thanks again."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676513765,"post_id":75458038,"comment_id":133153842,"body_markdown":"If you are looking for an ElasticSearch answer, you can ask an ElasticSearch question with the relevant tags.","body":"If you are looking for an ElasticSearch answer, you can ask an ElasticSearch question with the relevant tags."},{"owner":{"account_id":27791859,"reputation":1,"user_id":21218136,"display_name":"yang he"},"score":0,"creation_date":1676515006,"post_id":75458038,"comment_id":133153954,"body_markdown":"thanks for advice, btw I&#39;m using lucene-9.4.1","body":"thanks for advice, btw I&#39;m using lucene-9.4.1"}],"answers":[{"tags":[],"owner":{"account_id":26271720,"reputation":466,"user_id":19941536,"display_name":"Seasers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677498866,"creation_date":1677498866,"answer_id":75580157,"question_id":75458038,"body_markdown":"Have you ever tried the [MultiFieldQueryParser](https://lucene.apache.org/core/8_0_0/queryparser/org/apache/lucene/queryparser/classic/MultiFieldQueryParser.html#parse-java.lang.String:A-java.lang.String:A-org.apache.lucene.analysis.Analyzer-)?   \r\nIn this case you have to specify all fields where to want to search on.\r\n\r\n","title":"search with lucene&#39;s QueryParser while setting fieldName to &quot;*&quot; failed?","body":"<p>Have you ever tried the <a href=\"https://lucene.apache.org/core/8_0_0/queryparser/org/apache/lucene/queryparser/classic/MultiFieldQueryParser.html#parse-java.lang.String:A-java.lang.String:A-org.apache.lucene.analysis.Analyzer-\" rel=\"nofollow noreferrer\">MultiFieldQueryParser</a>?<br />\nIn this case you have to specify all fields where to want to search on.</p>\n"}],"owner":{"account_id":27791859,"reputation":1,"user_id":21218136,"display_name":"yang he"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677498866,"creation_date":1676454901,"question_id":75458038,"body_markdown":"I want to search through all fields in the index by lucene, and I learned to do this by writting the code like this:\r\n\r\n```\r\n//Create a parser that searches through all fields\r\nQueryParser queryParser = new QueryParser(&quot;*&quot;, new StandardAnalyzer()); \r\n\r\n//Specify the search terms\r\nString queryString = &quot;search terms&quot;;\r\n\r\n//Create the query to search through all fields\r\nQuery query = queryParser.parse(queryString); \r\n\r\n//Execute the query and get the results\r\nIndexSearcher searcher = new IndexSearcher(indexReader); \r\nTopDocs results = searcher.search(query, 100); \r\nScoreDoc[] hits = results.scoreDocs; \r\n\r\n//Iterate through the results\r\nfor (ScoreDoc hit : hits) { \r\n  Document doc = searcher.doc(hit.doc); \r\n  //Process the document\r\n}\r\n```\r\n\r\nwhen I setted first parameter of QueryParser Constructor to &quot;*&quot;, like the code above, and I got nothing from the TopDocs(which I had expected to search through all fields of the documents I&#39;d write into the index and returnd all matching documents), the &quot;hits.totalHits&quot; returns 0.\r\n\r\nCan anyone tell me what is wrong with my code or how to write code using QueryParser to search through all fields in the index?\r\n\r\nThanks!\r\n","title":"search with lucene&#39;s QueryParser while setting fieldName to &quot;*&quot; failed?","body":"<p>I want to search through all fields in the index by lucene, and I learned to do this by writting the code like this:</p>\n<pre><code>//Create a parser that searches through all fields\nQueryParser queryParser = new QueryParser(&quot;*&quot;, new StandardAnalyzer()); \n\n//Specify the search terms\nString queryString = &quot;search terms&quot;;\n\n//Create the query to search through all fields\nQuery query = queryParser.parse(queryString); \n\n//Execute the query and get the results\nIndexSearcher searcher = new IndexSearcher(indexReader); \nTopDocs results = searcher.search(query, 100); \nScoreDoc[] hits = results.scoreDocs; \n\n//Iterate through the results\nfor (ScoreDoc hit : hits) { \n  Document doc = searcher.doc(hit.doc); \n  //Process the document\n}\n</code></pre>\n<p>when I setted first parameter of QueryParser Constructor to &quot;*&quot;, like the code above, and I got nothing from the TopDocs(which I had expected to search through all fields of the documents I'd write into the index and returnd all matching documents), the &quot;hits.totalHits&quot; returns 0.</p>\n<p>Can anyone tell me what is wrong with my code or how to write code using QueryParser to search through all fields in the index?</p>\n<p>Thanks!</p>\n"},{"tags":["java","xml","x509"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1559673837,"post_id":56449209,"comment_id":99492544,"body_markdown":"You can check this https://stackoverflow.com/questions/12528667/xml-digital-signature-java","body":"You can check this <a href=\"https://stackoverflow.com/questions/12528667/xml-digital-signature-java\" title=\"xml digital signature java\">stackoverflow.com/questions/12528667/xml-digital-signature-j&zwnj;&#8203;ava</a>"},{"owner":{"account_id":7120823,"reputation":498,"user_id":5445515,"display_name":"Nicolas G. Duvivier"},"score":0,"creation_date":1559683492,"post_id":56449209,"comment_id":99496355,"body_markdown":"@Sambit Tanks for your comment. Unforunately, this help as the topic is a bit different.","body":"@Sambit Tanks for your comment. Unforunately, this help as the topic is a bit different."}],"answers":[{"tags":[],"owner":{"account_id":7120823,"reputation":498,"user_id":5445515,"display_name":"Nicolas G. Duvivier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1561441944,"creation_date":1561441944,"answer_id":56747613,"question_id":56449209,"body_markdown":"I ended up finding more a work around than a solution. The idea is to get the Element I need with XMLHelper using the DOM, getting the ID Attr from the element. Then I add the attribute with setIdAttributeNode() to my Element.\r\nWhen manipulating the Element that way, no Exception is thrown when adding a new Reference to the XMLSignatureFactory.\r\n\r\n    NodeList list = doc.getElementsByTagName(&quot;wsu:Timestamp&quot;);\r\n\t\tNode node = list.item(0);\r\n\t\tElement tempEl = XMLHelper.getChildElementsByTagName(doc.getDocumentElement(), &quot;Header&quot;).get(0);\r\n\t\tElement securityElement = XMLHelper.getChildElementsByTagName(tempEl, &quot;Security&quot;).get(0);\r\n\r\n\t\ttempEl = XMLHelper.getChildElementsByTagName(securityElement, &quot;Assertion&quot;).get(0);\r\n\t\tAttr attr = (Attr)tempEl.getAttributes().getNamedItem(&quot;AssertionID&quot;);\r\n\t\ttempEl.setIdAttributeNode(attr, true);\r\n\t\tString ref = &quot;#&quot; + attr.getValue();\r\n\t\t\r\n\t\tList&lt;Reference&gt; refs = new ArrayList&lt;Reference&gt;();\r\n\t\trefs.add(fac.newReference(\r\n\t\t\t\tref,\r\n\t\t\t\tfac.newDigestMethod(&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;, null),\r\n\t\t\t\tCollections.singletonList(fac.newTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;,(TransformParameterSpec) null)),\r\n\t\t\t\tnull,\r\n\t\t\t\tnull));\r\n\r\nThis is not an ideal solution in my opinion as it is too much related to the DOM of the XML. But I suppose that was the only solution I could find to make it work and go around the known bug within the JDK.","title":"ResourceResolverException while signing an XML","body":"<p>I ended up finding more a work around than a solution. The idea is to get the Element I need with XMLHelper using the DOM, getting the ID Attr from the element. Then I add the attribute with setIdAttributeNode() to my Element.\nWhen manipulating the Element that way, no Exception is thrown when adding a new Reference to the XMLSignatureFactory.</p>\n\n<pre><code>NodeList list = doc.getElementsByTagName(\"wsu:Timestamp\");\n    Node node = list.item(0);\n    Element tempEl = XMLHelper.getChildElementsByTagName(doc.getDocumentElement(), \"Header\").get(0);\n    Element securityElement = XMLHelper.getChildElementsByTagName(tempEl, \"Security\").get(0);\n\n    tempEl = XMLHelper.getChildElementsByTagName(securityElement, \"Assertion\").get(0);\n    Attr attr = (Attr)tempEl.getAttributes().getNamedItem(\"AssertionID\");\n    tempEl.setIdAttributeNode(attr, true);\n    String ref = \"#\" + attr.getValue();\n\n    List&lt;Reference&gt; refs = new ArrayList&lt;Reference&gt;();\n    refs.add(fac.newReference(\n            ref,\n            fac.newDigestMethod(\"http://www.w3.org/2000/09/xmldsig#sha1\", null),\n            Collections.singletonList(fac.newTransform(\"http://www.w3.org/2001/10/xml-exc-c14n#\",(TransformParameterSpec) null)),\n            null,\n            null));\n</code></pre>\n\n<p>This is not an ideal solution in my opinion as it is too much related to the DOM of the XML. But I suppose that was the only solution I could find to make it work and go around the known bug within the JDK.</p>\n"},{"tags":[],"owner":{"account_id":10518256,"reputation":33,"user_id":7751671,"display_name":"Tharindu Rukshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677498823,"creation_date":1677433683,"answer_id":75573910,"question_id":56449209,"body_markdown":"Error came when sign the document.\r\nAfter a lot of research, I found the solution.\r\n**Before sign the document** &lt;signature.sign(dsc);&gt; **setURIDereferencer** **to empty** like the below code sample\r\n\r\n\r\n        DOMSignContext dsc = new DOMSignContext(keyPair.getPrivateKey(), \r\n        document.getDocumentElement());\r\n\r\n        dsc.setURIDereferencer(new EmptyURIDereferencer(document));\r\n\r\nAnd write below code the same file as the inner class\r\n\r\n    class EmptyURIDereferencer implements URIDereferencer {\r\n\r\n    private Node data = null;\r\n\r\n    public EmptyURIDereferencer(Node node) {\r\n\r\n        data = node;\r\n    }\r\n\r\n    public Data dereference(URIReference ref, XMLCryptoContext ctxt) {\r\n\r\n        return new NodeSetData() {\r\n            public Iterator iterator() {\r\n\r\n                return Collections.singletonList(data).iterator();\r\n            }\r\n        };\r\n    }\r\n}","title":"ResourceResolverException while signing an XML","body":"<p>Error came when sign the document.\nAfter a lot of research, I found the solution.\n<strong>Before sign the document</strong> &lt;signature.sign(dsc);&gt; <strong>setURIDereferencer</strong> <strong>to empty</strong> like the below code sample</p>\n<pre><code>    DOMSignContext dsc = new DOMSignContext(keyPair.getPrivateKey(), \n    document.getDocumentElement());\n\n    dsc.setURIDereferencer(new EmptyURIDereferencer(document));\n</code></pre>\n<p>And write below code the same file as the inner class</p>\n<pre><code>class EmptyURIDereferencer implements URIDereferencer {\n\nprivate Node data = null;\n\npublic EmptyURIDereferencer(Node node) {\n\n    data = node;\n}\n\npublic Data dereference(URIReference ref, XMLCryptoContext ctxt) {\n\n    return new NodeSetData() {\n        public Iterator iterator() {\n\n            return Collections.singletonList(data).iterator();\n        }\n    };\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":7120823,"reputation":498,"user_id":5445515,"display_name":"Nicolas G. Duvivier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56747613,"answer_count":2,"score":1,"last_activity_date":1677498823,"creation_date":1559671584,"question_id":56449209,"body_markdown":"I&#39;m desperately trying to sign an XML document with a X509 certificate.\r\nI have to sign multiple elements in my document, so I&#39;m giving a List of Reference to my SignedInfo.\r\n\r\nThe problem I&#39;m facing occurs at the signature itself. I receive an exception saying that it cannot resolve an element with the ID I provide.\r\n\r\nWhile researching to find a solution, I stumbled upon this ticket (which is a bug of OpenJDK 1.7) : https://bugs.openjdk.java.net/browse/JDK-8017171\r\n\r\nI&#39;m using Oracle JDK 1.8 and still have the problem.\r\n\r\n**Code** :\r\n----------\r\n```java\r\nXMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\r\n\t\t\r\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\ndbf.setNamespaceAware(true);\r\n\t\t\r\nDocument doc = dbf.newDocumentBuilder().parse(new FileInputStream(unsignedXml));\r\n\t\t\r\nList&lt;Reference&gt; refs = new ArrayList&lt;Reference&gt;();\r\nrefs.add(fac.newReference(\r\n\t\t&quot;#TS&quot;,\r\n\t\tfac.newDigestMethod(&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;, null),\r\n\t\tCollections.singletonList(fac.newTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;,(TransformParameterSpec) null)),\r\n\t\tnull, null));\r\n\r\nSignedInfo si = fac.newSignedInfo(\r\n\t\tfac.newCanonicalizationMethod(CanonicalizationMethod.EXCLUSIVE,\r\n\t\t\t\t(C14NMethodParameterSpec) null),\r\n\t\tfac.newSignatureMethod(&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;, null),\r\n\t\trefs);\r\n\t\t\r\nFileInputStream input = new FileInputStream(keystoreFile);\r\nKeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\nks.load(input, password.toCharArray());\r\nKey key = ks.getKey(alias, password.toCharArray());\r\nif (key instanceof PrivateKey) {\r\n\tCertificate cert = ks.getCertificate(alias);\r\n\tPublicKey publicKey = cert.getPublicKey();\r\n\tkeyPair = new KeyPair(publicKey, (PrivateKey) key);\r\n}\r\n\t\t\r\nKeyInfoFactory kif = fac.getKeyInfoFactory();\r\nKeyValue kv = kif.newKeyValue(keyPair.getPublic());\r\nKeyInfo ki = kif.newKeyInfo(Collections.singletonList(kv));\r\n\t\t\r\nDOMSignContext dsc = new DOMSignContext(keyPair.getPrivate(), doc.getDocumentElement());\r\n\t\t\r\nXMLSignature signature = fac.newXMLSignature(si, ki);\r\n\t\t\r\nsignature.sign(dsc);\r\n\t\t\r\nOutputStream out = new FileOutputStream(signedXml);\r\n```\r\n\r\n**Exception** :\r\n---------------\r\n```\r\nException in thread &quot;main&quot; javax.xml.crypto.dsig.XMLSignatureException: javax.xml.crypto.URIReferenceException: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\r\n\tat org.jcp.xml.dsig.internal.dom.DOMReference.dereference(DOMReference.java:431)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMReference.digest(DOMReference.java:359)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMXMLSignature.digestReference(DOMXMLSignature.java:496)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMXMLSignature.sign(DOMXMLSignature.java:379)\r\n\tat testsig.testsig.Signature.sign(Signature.java:131)\r\n\tat testsig.testsig.App.main(App.java:32)\r\nCaused by: javax.xml.crypto.URIReferenceException: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\r\n\tat org.jcp.xml.dsig.internal.dom.DOMURIDereferencer.dereference(DOMURIDereferencer.java:134)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMReference.dereference(DOMReference.java:425)\r\n\t... 5 more\r\nCaused by: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\r\n\tat com.sun.org.apache.xml.internal.security.utils.resolver.implementations.ResolverFragment.engineResolveURI(ResolverFragment.java:89)\r\n\tat com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolver.resolve(ResourceResolver.java:313)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMURIDereferencer.dereference(DOMURIDereferencer.java:126)\r\n\t... 6 more\r\njavax.xml.crypto.URIReferenceException: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\r\n\tat org.jcp.xml.dsig.internal.dom.DOMURIDereferencer.dereference(DOMURIDereferencer.java:134)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMReference.dereference(DOMReference.java:425)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMReference.digest(DOMReference.java:359)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMXMLSignature.digestReference(DOMXMLSignature.java:496)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMXMLSignature.sign(DOMXMLSignature.java:379)\r\n\tat testsig.testsig.Signature.sign(Signature.java:131)\r\n\tat testsig.testsig.App.main(App.java:32)\r\nCaused by: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\r\n\tat com.sun.org.apache.xml.internal.security.utils.resolver.implementations.ResolverFragment.engineResolveURI(ResolverFragment.java:89)\r\n\tat com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolver.resolve(ResourceResolver.java:313)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMURIDereferencer.dereference(DOMURIDereferencer.java:126)\r\n\t... 6 more\r\n```\r\n\r\nMy problem could be solved with at least one answer to those following questions :\r\nIs there a workaround ?\r\nIs there an other way of signing XML files ?\r\n\r\nRegards","title":"ResourceResolverException while signing an XML","body":"<p>I'm desperately trying to sign an XML document with a X509 certificate.\nI have to sign multiple elements in my document, so I'm giving a List of Reference to my SignedInfo.</p>\n\n<p>The problem I'm facing occurs at the signature itself. I receive an exception saying that it cannot resolve an element with the ID I provide.</p>\n\n<p>While researching to find a solution, I stumbled upon this ticket (which is a bug of OpenJDK 1.7) : <a href=\"https://bugs.openjdk.java.net/browse/JDK-8017171\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8017171</a></p>\n\n<p>I'm using Oracle JDK 1.8 and still have the problem.</p>\n\n<h2><strong>Code</strong> :</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>XMLSignatureFactory fac = XMLSignatureFactory.getInstance(\"DOM\");\n\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\ndbf.setNamespaceAware(true);\n\nDocument doc = dbf.newDocumentBuilder().parse(new FileInputStream(unsignedXml));\n\nList&lt;Reference&gt; refs = new ArrayList&lt;Reference&gt;();\nrefs.add(fac.newReference(\n        \"#TS\",\n        fac.newDigestMethod(\"http://www.w3.org/2000/09/xmldsig#sha1\", null),\n        Collections.singletonList(fac.newTransform(\"http://www.w3.org/2001/10/xml-exc-c14n#\",(TransformParameterSpec) null)),\n        null, null));\n\nSignedInfo si = fac.newSignedInfo(\n        fac.newCanonicalizationMethod(CanonicalizationMethod.EXCLUSIVE,\n                (C14NMethodParameterSpec) null),\n        fac.newSignatureMethod(\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\", null),\n        refs);\n\nFileInputStream input = new FileInputStream(keystoreFile);\nKeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\nks.load(input, password.toCharArray());\nKey key = ks.getKey(alias, password.toCharArray());\nif (key instanceof PrivateKey) {\n    Certificate cert = ks.getCertificate(alias);\n    PublicKey publicKey = cert.getPublicKey();\n    keyPair = new KeyPair(publicKey, (PrivateKey) key);\n}\n\nKeyInfoFactory kif = fac.getKeyInfoFactory();\nKeyValue kv = kif.newKeyValue(keyPair.getPublic());\nKeyInfo ki = kif.newKeyInfo(Collections.singletonList(kv));\n\nDOMSignContext dsc = new DOMSignContext(keyPair.getPrivate(), doc.getDocumentElement());\n\nXMLSignature signature = fac.newXMLSignature(si, ki);\n\nsignature.sign(dsc);\n\nOutputStream out = new FileOutputStream(signedXml);\n</code></pre>\n\n<h2><strong>Exception</strong> :</h2>\n\n<pre><code>Exception in thread \"main\" javax.xml.crypto.dsig.XMLSignatureException: javax.xml.crypto.URIReferenceException: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\n    at org.jcp.xml.dsig.internal.dom.DOMReference.dereference(DOMReference.java:431)\n    at org.jcp.xml.dsig.internal.dom.DOMReference.digest(DOMReference.java:359)\n    at org.jcp.xml.dsig.internal.dom.DOMXMLSignature.digestReference(DOMXMLSignature.java:496)\n    at org.jcp.xml.dsig.internal.dom.DOMXMLSignature.sign(DOMXMLSignature.java:379)\n    at testsig.testsig.Signature.sign(Signature.java:131)\n    at testsig.testsig.App.main(App.java:32)\nCaused by: javax.xml.crypto.URIReferenceException: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\n    at org.jcp.xml.dsig.internal.dom.DOMURIDereferencer.dereference(DOMURIDereferencer.java:134)\n    at org.jcp.xml.dsig.internal.dom.DOMReference.dereference(DOMReference.java:425)\n    ... 5 more\nCaused by: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\n    at com.sun.org.apache.xml.internal.security.utils.resolver.implementations.ResolverFragment.engineResolveURI(ResolverFragment.java:89)\n    at com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolver.resolve(ResourceResolver.java:313)\n    at org.jcp.xml.dsig.internal.dom.DOMURIDereferencer.dereference(DOMURIDereferencer.java:126)\n    ... 6 more\njavax.xml.crypto.URIReferenceException: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\n    at org.jcp.xml.dsig.internal.dom.DOMURIDereferencer.dereference(DOMURIDereferencer.java:134)\n    at org.jcp.xml.dsig.internal.dom.DOMReference.dereference(DOMReference.java:425)\n    at org.jcp.xml.dsig.internal.dom.DOMReference.digest(DOMReference.java:359)\n    at org.jcp.xml.dsig.internal.dom.DOMXMLSignature.digestReference(DOMXMLSignature.java:496)\n    at org.jcp.xml.dsig.internal.dom.DOMXMLSignature.sign(DOMXMLSignature.java:379)\n    at testsig.testsig.Signature.sign(Signature.java:131)\n    at testsig.testsig.App.main(App.java:32)\nCaused by: com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverException: Cannot resolve element with ID TS\n    at com.sun.org.apache.xml.internal.security.utils.resolver.implementations.ResolverFragment.engineResolveURI(ResolverFragment.java:89)\n    at com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolver.resolve(ResourceResolver.java:313)\n    at org.jcp.xml.dsig.internal.dom.DOMURIDereferencer.dereference(DOMURIDereferencer.java:126)\n    ... 6 more\n</code></pre>\n\n<p>My problem could be solved with at least one answer to those following questions :\nIs there a workaround ?\nIs there an other way of signing XML files ?</p>\n\n<p>Regards</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677498471,"post_id":75579999,"comment_id":133343006,"body_markdown":"Copy the first (the complete) list using `new ArrayList&lt;&gt;(list1)`. From the copy delete elements that are also in the other list using the `removeAll()` method passing `list2` as argument. Now the copy contains the missing element or elements -- or is empty if there werent any.","body":"Copy the first (the complete) list using <code>new ArrayList&lt;&gt;(list1)</code>. From the copy delete elements that are also in the other list using the <code>removeAll()</code> method passing <code>list2</code> as argument. Now the copy contains the missing element or elements -- or is empty if there werent any."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677499197,"post_id":75579999,"comment_id":133343186,"body_markdown":"Does this answer your question? [How can I return the difference between two lists?](https://stackoverflow.com/questions/27002882/how-can-i-return-the-difference-between-two-lists)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27002882/how-can-i-return-the-difference-between-two-lists\">How can I return the difference between two lists?</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677502528,"post_id":75579999,"comment_id":133344118,"body_markdown":"What is your expected result is a string occurs more than once in either of the lists? Say, 3 times in the complete list and only twice in the second list. Or three times in the complete list and not at all in the second list.","body":"What is your expected result is a string occurs more than once in either of the lists? Say, 3 times in the complete list and only twice in the second list. Or three times in the complete list and not at all in the second list."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677498426,"creation_date":1677498426,"answer_id":75580071,"question_id":75579999,"body_markdown":"You could try something like that:\r\n\r\n\r\n    public static List&lt;String&gt; ListDiff(List&lt;String&gt; a, List&lt;String&gt; b) {\r\n        return a.stream()\r\n                .filter(s-&gt;!b.contains(s))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\nBut note that if you were using `Set`s instead of `List`s, you could use `removeAll` that would probably be much faster.","title":"Find a missing element in a collection","body":"<p>You could try something like that:</p>\n<pre><code>public static List&lt;String&gt; ListDiff(List&lt;String&gt; a, List&lt;String&gt; b) {\n    return a.stream()\n            .filter(s-&gt;!b.contains(s))\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>But note that if you were using <code>Set</code>s instead of <code>List</code>s, you could use <code>removeAll</code> that would probably be much faster.</p>\n"},{"tags":[],"owner":{"account_id":18996968,"reputation":1,"user_id":13864962,"display_name":"Samurai9954"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677498701,"creation_date":1677498701,"answer_id":75580121,"question_id":75579999,"body_markdown":"Basically, you need to check if each element of list 1 is in list 2 or not. It it&#39;s present, do nothing. If it&#39;s not, print it. I&#39;m gonna solve this problem using python as that&#39;s what I&#39;m good at haha.\r\n\r\nLet us say your first list is [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;] and the second list is [&#39;A&#39;, &#39;B&#39;]. Then,\r\n\r\n    list1 = [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]\r\n    list2 = [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]\r\n    if list1 == list2:\r\n        print(&quot;Equal lists&quot;)\r\n    else:\r\n        for i in list1:\r\n            if i not in list2:\r\n                print(i)","title":"Find a missing element in a collection","body":"<p>Basically, you need to check if each element of list 1 is in list 2 or not. It it's present, do nothing. If it's not, print it. I'm gonna solve this problem using python as that's what I'm good at haha.</p>\n<p>Let us say your first list is ['A', 'B', 'C'] and the second list is ['A', 'B']. Then,</p>\n<pre><code>list1 = ['A', 'B', 'C']\nlist2 = ['A', 'B', 'C']\nif list1 == list2:\n    print(&quot;Equal lists&quot;)\nelse:\n    for i in list1:\n        if i not in list2:\n            print(i)\n</code></pre>\n"}],"owner":{"account_id":27793189,"reputation":11,"user_id":21219271,"display_name":"IgorPiven"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1677498701,"creation_date":1677497941,"question_id":75579999,"body_markdown":"There are 2 lists  containing some string elements. These lists may be equal or there may be some missing elements in second list. \r\n\r\n\r\n\r\nThe task is to compare these 2 lists and to find a missing emlenet or missing elements in second list and print them.","title":"Find a missing element in a collection","body":"<p>There are 2 lists  containing some string elements. These lists may be equal or there may be some missing elements in second list.</p>\n<p>The task is to compare these 2 lists and to find a missing emlenet or missing elements in second list and print them.</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1677494137,"post_id":75579332,"comment_id":133341889,"body_markdown":"keep a boolean -&gt; while (String s : mustBeIn ) if ( !originalString.contains(s)) flag = false;","body":"keep a boolean -&gt; while (String s : mustBeIn ) if ( !originalString.contains(s)) flag = false;"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1677494154,"post_id":75579332,"comment_id":133341893,"body_markdown":"break out of the loop if you encounter false, and you&#39;ll have your answer","body":"break out of the loop if you encounter false, and you&#39;ll have your answer"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677494154,"post_id":75579332,"comment_id":133341894,"body_markdown":"Ok, so what is the problem with your code? My guess is that strings that happen to include multiple strings from `words` are concatenated multiple times? In that case you need a strategically-placed `break;`","body":"Ok, so what is the problem with your code? My guess is that strings that happen to include multiple strings from <code>words</code> are concatenated multiple times? In that case you need a strategically-placed <code>break;</code>"}],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677495387,"creation_date":1677494790,"answer_id":75579455,"question_id":75579332,"body_markdown":"Your code is correct but needs some modification on your code.\r\n\r\n    public String text(String[] words, String[] strings) {\r\n        String concatedStrings = &quot;&quot;;\r\n        for (String s : strings) { // loop through all the strings\r\n            boolean containsAllWords = true;\r\n            for (String word : words) { // check if the current string contains all the words\r\n                if (!s.contains(word)) {\r\n                    containsAllWords = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (containsAllWords) {\r\n                concatedStrings += s;\r\n            }\r\n        }\r\n        return concatedStrings;\r\n    }\r\n\r\nin main method:\r\n\r\n    String[] words = {&quot;hello&quot;, &quot;world&quot;};\r\n    String[] strings= {&quot;hello world&quot;, &quot;world hello&quot;, &quot;hello there&quot;};","title":"How to write a method that returns strings that contain every object from an array","body":"<p>Your code is correct but needs some modification on your code.</p>\n<pre><code>public String text(String[] words, String[] strings) {\n    String concatedStrings = &quot;&quot;;\n    for (String s : strings) { // loop through all the strings\n        boolean containsAllWords = true;\n        for (String word : words) { // check if the current string contains all the words\n            if (!s.contains(word)) {\n                containsAllWords = false;\n                break;\n            }\n        }\n        if (containsAllWords) {\n            concatedStrings += s;\n        }\n    }\n    return concatedStrings;\n}\n</code></pre>\n<p>in main method:</p>\n<pre><code>String[] words = {&quot;hello&quot;, &quot;world&quot;};\nString[] strings= {&quot;hello world&quot;, &quot;world hello&quot;, &quot;hello there&quot;};\n</code></pre>\n"}],"owner":{"account_id":26210157,"reputation":15,"user_id":19889173,"display_name":"Orwellian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75579455,"answer_count":1,"score":0,"last_activity_date":1677498586,"creation_date":1677494009,"question_id":75579332,"body_markdown":"I want to write a method that has an array (not arrayList) as a parameter. That method should check if multiple strings contain all the words stated in the array, and therefore returns strings that do. Is there a way of doing it just by using for loops and string methods?\r\n\r\nI tried to do something like this:\r\n\r\n```\r\npublic String text (String[] words) {\r\n    String concatedStrings = &quot;&quot;;\r\n    for(int i = 0; i &lt; numStrings.length; i++) {\r\n        if(numStrings[i] != null) {\r\n            for(int j = 0; j &lt; words.length; j++) {\r\n                if(numStrings[i].contains(words[j])) {\r\n                    concatedStrings += numStrings[i];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return concatedStrings;\r\n}\r\n```\r\n","title":"How to write a method that returns strings that contain every object from an array","body":"<p>I want to write a method that has an array (not arrayList) as a parameter. That method should check if multiple strings contain all the words stated in the array, and therefore returns strings that do. Is there a way of doing it just by using for loops and string methods?</p>\n<p>I tried to do something like this:</p>\n<pre><code>public String text (String[] words) {\n    String concatedStrings = &quot;&quot;;\n    for(int i = 0; i &lt; numStrings.length; i++) {\n        if(numStrings[i] != null) {\n            for(int j = 0; j &lt; words.length; j++) {\n                if(numStrings[i].contains(words[j])) {\n                    concatedStrings += numStrings[i];\n                }\n            }\n        }\n    }\n    return concatedStrings;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677321263,"creation_date":1677321263,"answer_id":75564792,"question_id":75564680,"body_markdown":"You&#39;re having a data type issue. The error you&#39;re bouncing against is generated [here][1] in the Hive source code:\r\n\r\n```java\r\n  @Override\r\n  public BigDecimal getBigDecimal(int columnIndex) throws SQLException {\r\n    final Object val = getObject(columnIndex);\r\n    if (val == null) {\r\n      return null;\r\n    }\r\n    if (val instanceof BigDecimal) {\r\n      return (BigDecimal) val;\r\n    }\r\n    throw new SQLException(&quot;Illegal conversion to BigDecimal from column &quot; + columnIndex + &quot; [&quot; + val + &quot;]&quot;);\r\n  }\r\n```\r\n\r\nSeems like one or more of your values is neither `== null`, neither `instanceof BigDecimal`.\r\n\r\nTry to cast the problematic column to a double or a string for example to see what the issue is.\r\n\r\n**Why did printSchema and count work and not show?**\r\n\r\nBecause both `printSchema` and `count` do not evaluate single values within each row of your table: `show` does because it has to show `N` lines of the actual data.\r\n\r\n  [1]: https://github.com/apache/hive/blob/master/jdbc/src/java/org/apache/hive/jdbc/HiveBaseResultSet.java#L147-L157","title":"Error occurs when calling show method in spark dataset?","body":"<p>You're having a data type issue. The error you're bouncing against is generated <a href=\"https://github.com/apache/hive/blob/master/jdbc/src/java/org/apache/hive/jdbc/HiveBaseResultSet.java#L147-L157\" rel=\"nofollow noreferrer\">here</a> in the Hive source code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Override\n  public BigDecimal getBigDecimal(int columnIndex) throws SQLException {\n    final Object val = getObject(columnIndex);\n    if (val == null) {\n      return null;\n    }\n    if (val instanceof BigDecimal) {\n      return (BigDecimal) val;\n    }\n    throw new SQLException(&quot;Illegal conversion to BigDecimal from column &quot; + columnIndex + &quot; [&quot; + val + &quot;]&quot;);\n  }\n</code></pre>\n<p>Seems like one or more of your values is neither <code>== null</code>, neither <code>instanceof BigDecimal</code>.</p>\n<p>Try to cast the problematic column to a double or a string for example to see what the issue is.</p>\n<p><strong>Why did printSchema and count work and not show?</strong></p>\n<p>Because both <code>printSchema</code> and <code>count</code> do not evaluate single values within each row of your table: <code>show</code> does because it has to show <code>N</code> lines of the actual data.</p>\n"},{"tags":[],"owner":{"account_id":20892401,"reputation":51,"user_id":15347513,"display_name":"marc nicole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677326037,"creation_date":1677325194,"answer_id":75565131,"question_id":75564680,"body_markdown":"What I would do to debug the problem is to check which column is causing the issue, for example through the following code:\r\n\r\n    for (String columnName: df.columns())\r\n        df.select(columnName).show();\r\n\r\nthen when the column name is known i would cast the corresponding column into double like this:\r\n\r\n    df = df.withColumn(targetColumnName,df.col(targetColumnName).cast(&quot;double&quot;));\r\n\r\nAlso try to infer the schema when you read from Hive using the `.option(&quot;inferSchema&quot;,&quot;true&quot;)`\r\n\r\nHope this helps.\r\n","title":"Error occurs when calling show method in spark dataset?","body":"<p>What I would do to debug the problem is to check which column is causing the issue, for example through the following code:</p>\n<pre><code>for (String columnName: df.columns())\n    df.select(columnName).show();\n</code></pre>\n<p>then when the column name is known i would cast the corresponding column into double like this:</p>\n<pre><code>df = df.withColumn(targetColumnName,df.col(targetColumnName).cast(&quot;double&quot;));\n</code></pre>\n<p>Also try to infer the schema when you read from Hive using the <code>.option(&quot;inferSchema&quot;,&quot;true&quot;)</code></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":12248992,"reputation":11,"user_id":8939923,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677498273,"creation_date":1677320060,"question_id":75564680,"body_markdown":"I am reading data from hive using spring boot java and apache spark 3.2.1 and an error occurs when executing the show method. Please help\r\n`org.apache.spark.scheduler.DAGScheduler  : ResultStage 7 (show at SampleHiveController.java:62) failed in 7,461 s due to Job aborted due to stage failure: Task 0 in stage 7.0 failed 1 times, most recent failure: Lost task 0.0 in stage 7.0 (TID 5) : java.sql.SQLException: Illegal conversion\r\n  at org.apache.hive.jdbc.HiveBaseResultSet.getBigDecimal(HiveBaseResultSet.java:137)`\r\n\r\n```\r\n@RequestMapping(value = &quot;/spark&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n  public ResponseEntity&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt; showSpark() {\r\n    SparkSession spark = SparkSession\r\n        .builder()\r\n        .master(&quot;local&quot;)\r\n        .appName(&quot;Java Spark Hive Example&quot;)\r\n        .enableHiveSupport()\r\n        .getOrCreate();\r\n\r\n    Dataset&lt;Row&gt; df = spark.read()\r\n        .format(&quot;jdbc&quot;)\r\n        .option(&quot;url&quot;, &quot;jdbc:hive2://hdp31-dev-03.dmp.test.com:2181,hdp31-dev-01.dmp.test.com:2181,hdp31-dev-02.dmp.test.com:2181/;serviceDiscoveryMode=zooKeeper;zooKeeperNamespace=hiveserver2;principal=hive/_HOST@WE.TEST.COM&quot;)\r\n        .option(&quot;dbtable&quot;, &quot;dds_test.test&quot;)\r\n        .option(&quot;user&quot;, &quot;user&quot;)\r\n        .option(&quot;password&quot;, &quot;test&quot;)\r\n        .option(&quot;driver&quot;, &quot;org.apache.hive.jdbc.HiveDriver&quot;)\r\n        .load();\r\n    System.out.println(&quot;*** Right after ingestion&quot;);\r\n\r\n    df.printSchema();\r\n    df.show();\r\n    \r\n```\r\n\r\n\r\nI tried to call the count and printShema methods, they work","title":"Error occurs when calling show method in spark dataset?","body":"<p>I am reading data from hive using spring boot java and apache spark 3.2.1 and an error occurs when executing the show method. Please help\n<code>org.apache.spark.scheduler.DAGScheduler  : ResultStage 7 (show at SampleHiveController.java:62) failed in 7,461 s due to Job aborted due to stage failure: Task 0 in stage 7.0 failed 1 times, most recent failure: Lost task 0.0 in stage 7.0 (TID 5) : java.sql.SQLException: Illegal conversion at org.apache.hive.jdbc.HiveBaseResultSet.getBigDecimal(HiveBaseResultSet.java:137)</code></p>\n<pre><code>@RequestMapping(value = &quot;/spark&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\n  public ResponseEntity&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt; showSpark() {\n    SparkSession spark = SparkSession\n        .builder()\n        .master(&quot;local&quot;)\n        .appName(&quot;Java Spark Hive Example&quot;)\n        .enableHiveSupport()\n        .getOrCreate();\n\n    Dataset&lt;Row&gt; df = spark.read()\n        .format(&quot;jdbc&quot;)\n        .option(&quot;url&quot;, &quot;jdbc:hive2://hdp31-dev-03.dmp.test.com:2181,hdp31-dev-01.dmp.test.com:2181,hdp31-dev-02.dmp.test.com:2181/;serviceDiscoveryMode=zooKeeper;zooKeeperNamespace=hiveserver2;principal=hive/_HOST@WE.TEST.COM&quot;)\n        .option(&quot;dbtable&quot;, &quot;dds_test.test&quot;)\n        .option(&quot;user&quot;, &quot;user&quot;)\n        .option(&quot;password&quot;, &quot;test&quot;)\n        .option(&quot;driver&quot;, &quot;org.apache.hive.jdbc.HiveDriver&quot;)\n        .load();\n    System.out.println(&quot;*** Right after ingestion&quot;);\n\n    df.printSchema();\n    df.show();\n    \n</code></pre>\n<p>I tried to call the count and printShema methods, they work</p>\n"},{"tags":["java","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1677496197,"post_id":75579555,"comment_id":133342446,"body_markdown":"Is it possible to share idea.log (&quot;Help | Show Log in..&quot;) after restarting IDE?","body":"Is it possible to share idea.log (&quot;Help | Show Log in..&quot;) after restarting IDE?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677496592,"post_id":75579555,"comment_id":133342554,"body_markdown":"did you click on the &quot;13 more items&quot;?","body":"did you click on the &quot;13 more items&quot;?"},{"owner":{"account_id":27889880,"reputation":1,"user_id":21296497,"display_name":"Ioan3124"},"score":0,"creation_date":1677498353,"post_id":75579555,"comment_id":133342983,"body_markdown":"Yes. It still doesn&#39;t show there","body":"Yes. It still doesn&#39;t show there"},{"owner":{"account_id":27889880,"reputation":1,"user_id":21296497,"display_name":"Ioan3124"},"score":0,"creation_date":1677501856,"post_id":75579555,"comment_id":133343909,"body_markdown":"@y.bedrov how can I share it to you?","body":"@y.bedrov how can I share it to you?"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1677752603,"post_id":75579555,"comment_id":133401366,"body_markdown":"Could you open &quot;Run | Edit Configurations...&quot; and add there? probably it would be shown at the bottom part.","body":"Could you open &quot;Run | Edit Configurations...&quot; and add there? probably it would be shown at the bottom part."}],"answers":[{"tags":[],"owner":{"account_id":10518256,"reputation":33,"user_id":7751671,"display_name":"Tharindu Rukshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677496504,"creation_date":1677496504,"answer_id":75579751,"question_id":75579555,"body_markdown":"Firstly Go File -&gt; Invalidate Catches and restart.\r\nIt still does not appear Tomcat change the workspace. It must work.","title":"I can&#39;t add Tomcat run configuration to my project","body":"<p>Firstly Go File -&gt; Invalidate Catches and restart.\nIt still does not appear Tomcat change the workspace. It must work.</p>\n"}],"owner":{"account_id":27889880,"reputation":1,"user_id":21296497,"display_name":"Ioan3124"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677497856,"creation_date":1677495395,"question_id":75579555,"body_markdown":"Tomcat run configuration doesn&#39;t appear in the list for me. I have the IntelliJ IDEA Ultimate and the plugin for Tomcat installed. This is what configurations are available for me.\r\n\r\n[![](https://i.stack.imgur.com/3OMf5.png)](https://i.stack.imgur.com/3OMf5.png)\r\n\r\nI tried watching some tutorials on YouTube, but for all of them, the configuration was there.","title":"I can&#39;t add Tomcat run configuration to my project","body":"<p>Tomcat run configuration doesn't appear in the list for me. I have the IntelliJ IDEA Ultimate and the plugin for Tomcat installed. This is what configurations are available for me.</p>\n<p><a href=\"https://i.stack.imgur.com/3OMf5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3OMf5.png\" alt=\"\" /></a></p>\n<p>I tried watching some tutorials on YouTube, but for all of them, the configuration was there.</p>\n"},{"tags":["java","netbeans","java-9","hdpi"],"comments":[{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":3,"creation_date":1482179816,"post_id":41230488,"comment_id":69660459,"body_markdown":"For that particular error you can just try to add `--add-opens java.base/java.net=ALL-UNNAMED` to your java command line","body":"For that particular error you can just try to add <code>--add-opens java.base&#47;java.net=ALL-UNNAMED</code> to your java command line"},{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":2,"creation_date":1482180372,"post_id":41230488,"comment_id":69660716,"body_markdown":"Another thing to try would be using Java 9 build 147 (or older). This breaking change has been introduced in build 148. See [here](http://mail.openjdk.java.net/pipermail/jdk9-dev/2016-November/005276.html) for the announcement and some background.","body":"Another thing to try would be using Java 9 build 147 (or older). This breaking change has been introduced in build 148. See <a href=\"http://mail.openjdk.java.net/pipermail/jdk9-dev/2016-November/005276.html\" rel=\"nofollow noreferrer\">here</a> for the announcement and some background."},{"owner":{"account_id":3186862,"reputation":195,"user_id":2692269,"display_name":"brandboat"},"score":0,"creation_date":1482181195,"post_id":41230488,"comment_id":69661089,"body_markdown":"@StefanZobel Do you know where to download the Java 9 build 147 ? I can&#39;t find any JDK which version is older then 149 in the official website.","body":"@StefanZobel Do you know where to download the Java 9 build 147 ? I can&#39;t find any JDK which version is older then 149 in the official website."},{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":0,"creation_date":1482181782,"post_id":41230488,"comment_id":69661395,"body_markdown":"http://www.java.net/download/java/jdk9/archive/147/binaries/jdk-9-ea+147_windows-x64_bin.exe","body":"<a href=\"http://www.java.net/download/java/jdk9/archive/147/binaries/jdk-9-ea+147_windows-x64_bin.exe\" rel=\"nofollow noreferrer\">java.net/download/java/jdk9/archive/147/binaries/&hellip;</a>"},{"owner":{"account_id":3186862,"reputation":195,"user_id":2692269,"display_name":"brandboat"},"score":0,"creation_date":1482218696,"post_id":41230488,"comment_id":69673353,"body_markdown":"@StefanZobel, thx a lot. But I still can&#39;t use JDK 9 147 to open netbeans 8.2, so I change netbeans to [this version](http://bits.netbeans.org/download/trunk/nightly/2016-12-19_00-01-33/), and it works like a charm.","body":"@StefanZobel, thx a lot. But I still can&#39;t use JDK 9 147 to open netbeans 8.2, so I change netbeans to <a href=\"http://bits.netbeans.org/download/trunk/nightly/2016-12-19_00-01-33/\" rel=\"nofollow noreferrer\">this version</a>, and it works like a charm."}],"answers":[{"tags":[],"owner":{"account_id":2855140,"reputation":249,"user_id":2451556,"display_name":"SpacemanSpiff"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1489507464,"creation_date":1489507464,"answer_id":42790910,"question_id":41230488,"body_markdown":"As you noted yourself in a comment you need to use one of the nightly builds to get JDK 9 support. The full instructions are available here:\r\nhttp://wiki.netbeans.org/JDK9Support","title":"Netbeans 8.2 with jdk 9","body":"<p>As you noted yourself in a comment you need to use one of the nightly builds to get JDK 9 support. The full instructions are available here:\n<a href=\"http://wiki.netbeans.org/JDK9Support\" rel=\"noreferrer\">http://wiki.netbeans.org/JDK9Support</a></p>\n"},{"tags":[],"owner":{"account_id":8089359,"reputation":1,"user_id":6095810,"display_name":"Wael Al Khatib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512853327,"creation_date":1512853327,"answer_id":47733173,"question_id":41230488,"body_markdown":"You must update JAVA_HOME environment variable to correct path","title":"Netbeans 8.2 with jdk 9","body":"<p>You must update JAVA_HOME environment variable to correct path</p>\n"}],"owner":{"account_id":3186862,"reputation":195,"user_id":2692269,"display_name":"brandboat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15991,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":42790910,"answer_count":2,"score":16,"last_activity_date":1677497765,"creation_date":1482179281,"question_id":41230488,"body_markdown":"I have an issue on hdpi with netbeans, the icon become too small when I open it.\r\nThen I found the issue below. And someone says that jdk9 fix the resolution problem.\r\n\r\nhttps://netbeans.org/bugzilla/show_bug.cgi?id=252452\r\n\r\nHere is my environment:\r\n\r\n- OS: windows 10 (64bit)\r\n- JDK: JDK9 BUILD149\r\n- netbeans 8.2\r\n\r\nI downloaded jdk9 &amp; netbeans8.2 on windows10, hoping that JDK9 might fix the annoying resoution issue. Unfortunately, I can&#39;t open the netbeans.\r\n\r\nAfter I type this in cmd.\r\n&lt;code&gt;netbeans.exe --jdkhome &quot;C:\\Program Files\\Java\\jdk-9&quot;&lt;/code&gt;\r\nconsole show the error.\r\n&lt;pre&gt;&lt;code&gt;\r\nNo way to find original stream handler for jar protocol\r\njava.lang.reflect.InaccessibleObjectException: Unable to make field transient java.net.URLStreamHandler java.net.URL.handler accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @4973813a\r\n        at java.base/jdk.internal.reflect.Reflection.throwInaccessibleObjectException(Reflection.java:427)\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:201)\r\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:171)\r\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:165)\r\n        at org.netbeans.ProxyURLStreamHandlerFactory.register(ProxyURLStreamHandlerFactory.java:82)\r\n        at org.netbeans.JarClassLoader.&lt;clinit&gt;(JarClassLoader.java:141)\r\n        at org.netbeans.MainImpl.execute(MainImpl.java:178)\r\n        at org.netbeans.MainImpl.main(MainImpl.java:85)\r\n        at org.netbeans.Main.main(Main.java:83)\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nDoes anyone know how to use jdk9 with Netbeans ?\r\n","title":"Netbeans 8.2 with jdk 9","body":"<p>I have an issue on hdpi with netbeans, the icon become too small when I open it.\nThen I found the issue below. And someone says that jdk9 fix the resolution problem.</p>\n\n<p><a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=252452\" rel=\"noreferrer\">https://netbeans.org/bugzilla/show_bug.cgi?id=252452</a></p>\n\n<p>Here is my environment:</p>\n\n<ul>\n<li>OS: windows 10 (64bit)</li>\n<li>JDK: JDK9 BUILD149</li>\n<li>netbeans 8.2</li>\n</ul>\n\n<p>I downloaded jdk9 &amp; netbeans8.2 on windows10, hoping that JDK9 might fix the annoying resoution issue. Unfortunately, I can't open the netbeans.</p>\n\n<p>After I type this in cmd.\n<code>netbeans.exe --jdkhome \"C:\\Program Files\\Java\\jdk-9\"</code>\nconsole show the error.</p>\n\n<pre><code>\nNo way to find original stream handler for jar protocol\njava.lang.reflect.InaccessibleObjectException: Unable to make field transient java.net.URLStreamHandler java.net.URL.handler accessible: module java.base does not \"opens java.net\" to unnamed module @4973813a\n        at java.base/jdk.internal.reflect.Reflection.throwInaccessibleObjectException(Reflection.java:427)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:201)\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:171)\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:165)\n        at org.netbeans.ProxyURLStreamHandlerFactory.register(ProxyURLStreamHandlerFactory.java:82)\n        at org.netbeans.JarClassLoader.(JarClassLoader.java:141)\n        at org.netbeans.MainImpl.execute(MainImpl.java:178)\n        at org.netbeans.MainImpl.main(MainImpl.java:85)\n        at org.netbeans.Main.main(Main.java:83)\n\n</code></pre>\n\n<p>Does anyone know how to use jdk9 with Netbeans ?</p>\n"},{"tags":["java","web-applications"],"answers":[{"tags":[],"owner":{"account_id":149916,"reputation":1406,"user_id":362752,"accept_rate":60,"display_name":"Nikola"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1330990703,"creation_date":1330990703,"answer_id":9575794,"question_id":5664084,"body_markdown":"First you need to download the tool from the website. Or you can go directly to [their sourceforge project location][1] and download the latest version.\r\n\r\nAfter you have downloaded it and unpacked, run from the terminal:\r\n\r\n    $ java -Xmx512m -jar tattletale.jar ~/Java/workspaces/mycoolprojects/projectX output-projectx\r\n\r\nassuming that the location to you project is *~/Java/workspaces/mycoolprojects/projectX*, and that you want the generated report to be stored in folder called *output-projectx*\r\n\r\nBest, \r\nNikola\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/jboss/files/JBoss%20Tattletale/","title":"how to use JBoss Tattletale tool?","body":"<p>First you need to download the tool from the website. Or you can go directly to <a href=\"http://sourceforge.net/projects/jboss/files/JBoss%20Tattletale/\" rel=\"noreferrer\">their sourceforge project location</a> and download the latest version.</p>\n\n<p>After you have downloaded it and unpacked, run from the terminal:</p>\n\n<pre><code>$ java -Xmx512m -jar tattletale.jar ~/Java/workspaces/mycoolprojects/projectX output-projectx\n</code></pre>\n\n<p>assuming that the location to you project is <em>~/Java/workspaces/mycoolprojects/projectX</em>, and that you want the generated report to be stored in folder called <em>output-projectx</em></p>\n\n<p>Best, \nNikola</p>\n"},{"tags":[],"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677497671,"creation_date":1677497671,"answer_id":75579948,"question_id":5664084,"body_markdown":"If you are using maven for your project you can use their plugin.\r\nPlease change the below location accordingly.\r\n\r\n`&lt;source&gt;` - the folder where your project resides\r\n\r\n`&lt;destination&gt;` - where you need the reports to be generated\r\n\r\n\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.jboss.tattletale&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tattletale-maven&lt;/artifactId&gt;\r\n            &lt;!-- The version of the plugin you want to use --&gt;\r\n            &lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;report&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n                    &lt;!-- This is the location which will be scanned for generating tattletale reports\r\n                --&gt;\r\n                &lt;source&gt;/absolute/path/to/reports/dir&lt;/source&gt;\r\n                &lt;!-- This is where the reports will be generated --&gt;\r\n                &lt;destination&gt;/absolute/path/to/reports/dir&lt;/destination&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\nthen run `mvn clean package` \r\n\r\nIf you don&#39;t want your tests to run then add flag `-DskipTests` in the end\r\n\r\nyou can see the output folder (/absolute/path/to/reports/dir)  has files created. \r\n\r\nOpen index.html to view reports","title":"how to use JBoss Tattletale tool?","body":"<p>If you are using maven for your project you can use their plugin.\nPlease change the below location accordingly.</p>\n<p><code>&lt;source&gt;</code> - the folder where your project resides</p>\n<p><code>&lt;destination&gt;</code> - where you need the reports to be generated</p>\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.jboss.tattletale&lt;/groupId&gt;\n        &lt;artifactId&gt;tattletale-maven&lt;/artifactId&gt;\n        &lt;!-- The version of the plugin you want to use --&gt;\n        &lt;version&gt;1.1.0.Final&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;report&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n                &lt;!-- This is the location which will be scanned for generating tattletale reports\n            --&gt;\n            &lt;source&gt;/absolute/path/to/reports/dir&lt;/source&gt;\n            &lt;!-- This is where the reports will be generated --&gt;\n            &lt;destination&gt;/absolute/path/to/reports/dir&lt;/destination&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n<p>then run <code>mvn clean package</code></p>\n<p>If you don't want your tests to run then add flag <code>-DskipTests</code> in the end</p>\n<p>you can see the output folder (/absolute/path/to/reports/dir)  has files created.</p>\n<p>Open index.html to view reports</p>\n"}],"owner":{"account_id":737746,"reputation":51,"user_id":708058,"display_name":"yogesh kulkarni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8358,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1677497671,"creation_date":1302788127,"question_id":5664084,"body_markdown":"I need to reduce the size of JAR file in my project which is 9.17MB,I have already reduced it\r\nto 6.31MB by removing all the logger statements and dead code.I also have checked each JAR file individually by removing it and compiling it.With which I have removed upto 6 files.\r\n\r\nNow I want to reduce the size of JAR file upto 2 to 3 MB, and I have decided to use the tool\r\nJBoss Tattletale,\r\n\r\nHas anybody used it before? and If yes then please provide me the steps to install and run\r\nit.\r\nBTW I have already downloaded that tool from www.jboss.org website.\r\n\r\nThanks in advance!\r\n","title":"how to use JBoss Tattletale tool?","body":"<p>I need to reduce the size of JAR file in my project which is 9.17MB,I have already reduced it\nto 6.31MB by removing all the logger statements and dead code.I also have checked each JAR file individually by removing it and compiling it.With which I have removed upto 6 files.</p>\n\n<p>Now I want to reduce the size of JAR file upto 2 to 3 MB, and I have decided to use the tool\nJBoss Tattletale,</p>\n\n<p>Has anybody used it before? and If yes then please provide me the steps to install and run\nit.\nBTW I have already downloaded that tool from www.jboss.org website.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":14165594,"reputation":505,"user_id":10233647,"display_name":"The_Long_Distance_Runner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677497531,"creation_date":1677497531,"question_id":75579923,"body_markdown":"I&#39;ve already seen similiar questions, however the answers seem a little bit outdated or provide hack-like solutions (see below):\r\nhttps://stackoverflow.com/questions/53664224/how-to-detect-pocket-mode-in-android-programmatically\r\nhttps://stackoverflow.com/questions/48006623/how-to-disable-pocket-mode-in-android-by-java-code\r\n\r\nIs there any update for this? Perhaps Kotlin gives possibility to disable Pocket Mode programatically? \r\n\r\n**I&#39;m not interested in any quasi-solutions, like implementing my own PowerManager logic or installing separate app. All I want to is to have the ability to control Pocket Mode in the source code of my app ;-) Is it possible?**\r\n\r\nThanks in advance!","title":"Disable Android Pocket Mode programatically","body":"<p>I've already seen similiar questions, however the answers seem a little bit outdated or provide hack-like solutions (see below):\n<a href=\"https://stackoverflow.com/questions/53664224/how-to-detect-pocket-mode-in-android-programmatically\">How to detect pocket mode in android programmatically</a>\n<a href=\"https://stackoverflow.com/questions/48006623/how-to-disable-pocket-mode-in-android-by-java-code\">How to disable pocket mode in android by java code</a></p>\n<p>Is there any update for this? Perhaps Kotlin gives possibility to disable Pocket Mode programatically?</p>\n<p><strong>I'm not interested in any quasi-solutions, like implementing my own PowerManager logic or installing separate app. All I want to is to have the ability to control Pocket Mode in the source code of my app ;-) Is it possible?</strong></p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1675523647,"post_id":75346038,"comment_id":132949268,"body_markdown":"what is the final expected result regarding an input ?","body":"what is the final expected result regarding an input ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675523949,"post_id":75346038,"comment_id":132949336,"body_markdown":"You assign a literal to the result instead of using the array elements. Why? Bear in mind `java.util.Arrays.toString` already exists","body":"You assign a literal to the result instead of using the array elements. Why? Bear in mind <code>java.util.Arrays.toString</code> already exists"},{"owner":{"account_id":1199287,"reputation":3,"user_id":1170290,"display_name":"Cosimo Bressi"},"score":0,"creation_date":1675568607,"post_id":75346038,"comment_id":132956398,"body_markdown":"Basically, I was being tasked with creating the for loop so that it would return a string representation of all values of nums, with the values separated by spaces. I was adding useless code that did not do what was being asked.","body":"Basically, I was being tasked with creating the for loop so that it would return a string representation of all values of nums, with the values separated by spaces. I was adding useless code that did not do what was being asked."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675523971,"creation_date":1675523971,"answer_id":75346093,"question_id":75346038,"body_markdown":"You&#39;re actually doing quite nothing to reach your goal, you don&#39;t use `nums` values, and have defined a strange `String string = &quot;[1 , 2, 3, 4]&quot;;`\r\n\r\n---\r\n\r\nYou need to append all the values of `nums` to reach your goal, here are some ways\r\n\r\nAn array-style with existing method\r\n\r\n    // &#39;[1, 5, 8, 98]&#39;\r\n    public static String arrayToString(int[] nums) {\r\n        return Arrays.toString(nums);\r\n    }\r\n\r\nA concatenatde-values style\r\n\r\n    // &#39;1,5,8,98&#39;\r\n    public static String arrayToString(int[] nums) {\r\n        StringBuilder result = new StringBuilder();\r\n        String separator = &quot;&quot;;\r\n        for (int num : nums) {\r\n            result.append(separator).append(num);\r\n            separator = &quot;,&quot;;\r\n        }\r\n        return result.toString();\r\n    }\r\n\r\nSame with brackets\r\n\r\n    // &#39;[1,5,8,98]&#39;\r\n    public static String arrayToString(int[] nums) {\r\n        StringBuilder result = new StringBuilder(&quot;[&quot;);\r\n        String separator = &quot;&quot;;\r\n        for (int num : nums) {\r\n            result.append(separator).append(num);\r\n            separator = &quot;,&quot;;\r\n        }\r\n        return result.append(&quot;]&quot;).toString();\r\n    }","title":"String representation of all values of nums, with the values separated by spaces","body":"<p>You're actually doing quite nothing to reach your goal, you don't use <code>nums</code> values, and have defined a strange <code>String string = &quot;[1 , 2, 3, 4]&quot;;</code></p>\n<hr />\n<p>You need to append all the values of <code>nums</code> to reach your goal, here are some ways</p>\n<p>An array-style with existing method</p>\n<pre><code>// '[1, 5, 8, 98]'\npublic static String arrayToString(int[] nums) {\n    return Arrays.toString(nums);\n}\n</code></pre>\n<p>A concatenatde-values style</p>\n<pre><code>// '1,5,8,98'\npublic static String arrayToString(int[] nums) {\n    StringBuilder result = new StringBuilder();\n    String separator = &quot;&quot;;\n    for (int num : nums) {\n        result.append(separator).append(num);\n        separator = &quot;,&quot;;\n    }\n    return result.toString();\n}\n</code></pre>\n<p>Same with brackets</p>\n<pre><code>// '[1,5,8,98]'\npublic static String arrayToString(int[] nums) {\n    StringBuilder result = new StringBuilder(&quot;[&quot;);\n    String separator = &quot;&quot;;\n    for (int num : nums) {\n        result.append(separator).append(num);\n        separator = &quot;,&quot;;\n    }\n    return result.append(&quot;]&quot;).toString();\n}\n</code></pre>\n"}],"owner":{"account_id":1199287,"reputation":3,"user_id":1170290,"display_name":"Cosimo Bressi"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1675880447,"accepted_answer_id":75346093,"answer_count":1,"score":-3,"last_activity_date":1677497480,"creation_date":1675523590,"question_id":75346038,"body_markdown":"Return a string with an array&#39;s contents, formatted with spaces.\r\nFor example, given the array {3,4,5,6} the string should look like this:\r\n3 4 5 6\r\nSpaces at the end of the string will not affect test results.\r\nYou will need to use a for loop here. Again, the structure of that loop would look similar to a previous problem.\r\nHowever, this challenge introduces the idea that a for loop can manipulate a variable that exists outside of the\r\nfor loop, which looks something like this:\r\n   \r\n     String str;\r\n     for(int i = 0; i &lt; nums.length; i++){\r\n     //do something to str here\r\n     }\r\n     return str;\r\n    \r\nWhere i represents a variable that is used to visit every number between 0 and the length of nums. Inside of the\r\nfor loop, you will need to write code that appends elements from nums to str, one by one, in the format described above.\r\n     \r\n     @param nums the array to be manipulated.\r\n     @return a string representation of all values of nums, with the values separated by spaces.       \r\n\r\n\r\n        public class ReturnArrayContents {\r\n   \r\n        public String arrayToString(int[] nums){\r\n      return null;\r\n    }\r\n}","title":"String representation of all values of nums, with the values separated by spaces","body":"<p>Return a string with an array's contents, formatted with spaces.\nFor example, given the array {3,4,5,6} the string should look like this:\n3 4 5 6\nSpaces at the end of the string will not affect test results.\nYou will need to use a for loop here. Again, the structure of that loop would look similar to a previous problem.\nHowever, this challenge introduces the idea that a for loop can manipulate a variable that exists outside of the\nfor loop, which looks something like this:</p>\n<pre><code> String str;\n for(int i = 0; i &lt; nums.length; i++){\n //do something to str here\n }\n return str;\n</code></pre>\n<p>Where i represents a variable that is used to visit every number between 0 and the length of nums. Inside of the\nfor loop, you will need to write code that appends elements from nums to str, one by one, in the format described above.</p>\n<pre><code> @param nums the array to be manipulated.\n @return a string representation of all values of nums, with the values separated by spaces.       \n\n\n    public class ReturnArrayContents {\n\n    public String arrayToString(int[] nums){\n  return null;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","xml","google-app-engine","parsing","stax"],"comments":[{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1276400497,"post_id":3030903,"comment_id":3100018,"body_markdown":"We are probably going to need to see some more code. Another possibility is that locally it is not getting chunked while on GAE it is. How are you handling the code before you pass it to the parser ?","body":"We are probably going to need to see some more code. Another possibility is that locally it is not getting chunked while on GAE it is. How are you handling the code before you pass it to the parser ?"},{"owner":{"account_id":7096,"reputation":16899,"user_id":12171,"accept_rate":90,"display_name":"Adrian Petrescu"},"score":0,"creation_date":1276400855,"post_id":3030903,"comment_id":3100028,"body_markdown":"I considered the chunking possibility too, but it doesn&#39;t seem to be the case since the error message that the parser is throwing contains the entire XML right there (it&#39;s pasted above).  The entire modified SDK code can be found at http://github.com/AdrianP/aws-sdk-for-java (look at the most recent commits) but there&#39;s a LOT of code there. I will try to create a smaller reproducible sample soon, although even that will be hard. It&#39;s a big complicated piece of software... Thanks for your feedback though! :)","body":"I considered the chunking possibility too, but it doesn&#39;t seem to be the case since the error message that the parser is throwing contains the entire XML right there (it&#39;s pasted above).  The entire modified SDK code can be found at <a href=\"http://github.com/AdrianP/aws-sdk-for-java\" rel=\"nofollow noreferrer\">github.com/AdrianP/aws-sdk-for-java</a> (look at the most recent commits) but there&#39;s a LOT of code there. I will try to create a smaller reproducible sample soon, although even that will be hard. It&#39;s a big complicated piece of software... Thanks for your feedback though! :)"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1405679362,"post_id":3030903,"comment_id":38535445,"body_markdown":"possible duplicate of [org.xml.sax.SAXParseException: Content is not allowed in prolog](http://stackoverflow.com/questions/5138696/org-xml-sax-saxparseexception-content-is-not-allowed-in-prolog)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5138696/org-xml-sax-saxparseexception-content-is-not-allowed-in-prolog\">org.xml.sax.SAXParseException: Content is not allowed in prolog</a>"},{"owner":{"account_id":7096,"reputation":16899,"user_id":12171,"accept_rate":90,"display_name":"Adrian Petrescu"},"score":5,"creation_date":1405709081,"post_id":3030903,"comment_id":38552808,"body_markdown":"@Raedwald, I don&#39;t think it is my question that is the duplicate, since my question was posted a year earlier than that one :)","body":"@Raedwald, I don&#39;t think it is my question that is the duplicate, since my question was posted a year earlier than that one :)"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1405725197,"post_id":3030903,"comment_id":38558973,"body_markdown":"The other question is more useful as a canonical question, as it is more general.","body":"The other question is more useful as a canonical question, as it is more general."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1405725578,"post_id":3030903,"comment_id":38559056,"body_markdown":"@AdrianPetrescu see this MSE answer: http://meta.stackexchange.com/a/147651/170084","body":"@AdrianPetrescu see this MSE answer: <a href=\"http://meta.stackexchange.com/a/147651/170084\">meta.stackexchange.com/a/147651/170084</a>"},{"owner":{"account_id":4803880,"reputation":2185,"user_id":4589003,"accept_rate":57,"display_name":"Sudip Bhandari"},"score":1,"creation_date":1514900606,"post_id":3030903,"comment_id":83096659,"body_markdown":"This should be an example of how a question should be asked on SO, reading through it gave me various insights on how to debug as a developer (thanks OP)","body":"This should be an example of how a question should be asked on SO, reading through it gave me various insights on how to debug as a developer (thanks OP)"}],"answers":[{"tags":[],"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"down_vote_count":1,"up_vote_count":178,"is_accepted":true,"score":177,"last_activity_date":1276400991,"creation_date":1276398124,"answer_id":3030913,"question_id":3030903,"body_markdown":"The encoding in your XML and XSD (or DTD) are different.   \r\nXML file header:  `&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;`  \r\nXSD file header: `&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-16&#39;?&gt;`\r\n\r\nAnother possible scenario that causes this is when anything comes before the XML document type declaration. i.e you might have something like this in the buffer:  \r\n\r\n    helloworld&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;  \r\nor even a space or special character.\r\n\r\nThere are some special characters called byte order markers that could be in the buffer.\r\nBefore passing the buffer to the Parser do this...  \r\n\r\n    String xml = &quot;&lt;?xml ...&quot;;\r\n    xml = xml.trim().replaceFirst(&quot;^([\\\\W]+)&lt;&quot;,&quot;&lt;&quot;);\r\n\r\n\r\n\r\n","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>The encoding in your XML and XSD (or DTD) are different.<br>\nXML file header:  <code>&lt;?xml version='1.0' encoding='utf-8'?&gt;</code><br>\nXSD file header: <code>&lt;?xml version='1.0' encoding='utf-16'?&gt;</code></p>\n\n<p>Another possible scenario that causes this is when anything comes before the XML document type declaration. i.e you might have something like this in the buffer:  </p>\n\n<pre><code>helloworld&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;  \n</code></pre>\n\n<p>or even a space or special character.</p>\n\n<p>There are some special characters called byte order markers that could be in the buffer.\nBefore passing the buffer to the Parser do this...  </p>\n\n<pre><code>String xml = \"&lt;?xml ...\";\nxml = xml.trim().replaceFirst(\"^([\\\\W]+)&lt;\",\"&lt;\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1299528,"reputation":559,"user_id":1249744,"accept_rate":67,"display_name":"Sunmit Girme"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1405581170,"creation_date":1367929193,"answer_id":16418905,"question_id":3030903,"body_markdown":"This error message is always caused by the invalid XML content in the beginning element. For example, extra small dot . in the beginning of XML element.\r\n\r\nAny characters before the `&lt;?xml.` will cause above **org.xml.sax.SAXParseException: Content is not allowed in prolog** error message.\r\n\r\nA small dot **.** before the `&lt;?xml.`\r\n\r\nTo fix it, just delete all those weird characters before the `&lt;?xml`.\r\n\r\nRef: http://www.mkyong.com/java/sax-error-content-is-not-allowed-in-prolog/","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>This error message is always caused by the invalid XML content in the beginning element. For example, extra small dot . in the beginning of XML element.</p>\n\n<p>Any characters before the <code>&lt;?xml.</code> will cause above <strong>org.xml.sax.SAXParseException: Content is not allowed in prolog</strong> error message.</p>\n\n<p>A small dot <strong>.</strong> before the <code>&lt;?xml.</code></p>\n\n<p>To fix it, just delete all those weird characters before the <code>&lt;?xml</code>.</p>\n\n<p>Ref: <a href=\"http://www.mkyong.com/java/sax-error-content-is-not-allowed-in-prolog/\" rel=\"noreferrer\">http://www.mkyong.com/java/sax-error-content-is-not-allowed-in-prolog/</a></p>\n"},{"tags":[],"owner":{"account_id":2181414,"reputation":1494,"user_id":1930821,"display_name":"SoloPilot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377090974,"creation_date":1377090974,"answer_id":18358496,"question_id":3030903,"body_markdown":"I had a tab character instead of spaces.\r\nReplacing the tab &#39;\\t&#39; fixed the problem.\r\n\r\nCut and paste the whole doc into an editor like Notepad++ and display all characters.","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I had a tab character instead of spaces.\nReplacing the tab '\\t' fixed the problem.</p>\n\n<p>Cut and paste the whole doc into an editor like Notepad++ and display all characters.</p>\n"},{"tags":[],"owner":{"account_id":4513778,"reputation":155,"user_id":3669203,"display_name":"Saturn CAU"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1400853551,"creation_date":1400853551,"answer_id":23831221,"question_id":3030903,"body_markdown":"I was facing the same issue. In my case XML files were generated from c# program and feeded into AS400 for further processing. After some analysis identified that I was using UTF8 encoding while generating XML files whereas javac(in AS400) uses &quot;UTF8 without BOM&quot;. \r\nSo, had to write extra code similar to mentioned below:\r\n\r\n   \r\n\r\n    //create encoding with no BOM\r\n    Encoding outputEnc = new UTF8Encoding(false); \r\n    //open file with encoding\r\n    TextWriter file = new StreamWriter(filePath, false, outputEnc);           \r\n\r\n    file.Write(doc.InnerXml);\r\n    file.Flush();\r\n    file.Close(); // save and close it\r\n","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I was facing the same issue. In my case XML files were generated from c# program and feeded into AS400 for further processing. After some analysis identified that I was using UTF8 encoding while generating XML files whereas javac(in AS400) uses \"UTF8 without BOM\". \nSo, had to write extra code similar to mentioned below:</p>\n\n<pre><code>//create encoding with no BOM\nEncoding outputEnc = new UTF8Encoding(false); \n//open file with encoding\nTextWriter file = new StreamWriter(filePath, false, outputEnc);           \n\nfile.Write(doc.InnerXml);\nfile.Flush();\nfile.Close(); // save and close it\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5671942,"reputation":427,"user_id":4486329,"accept_rate":82,"display_name":"Ravi Kiran Gururaja"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1427268121,"creation_date":1422010956,"answer_id":28108457,"question_id":3030903,"body_markdown":"I was facing the same problem called &quot;Content is not allowed in prolog&quot; in my xml file.\r\n\r\n**Solution**\r\n\r\nInitially my root folder was &#39;#**Filename**&#39;.\r\n\r\nWhen i removed the first character &#39;#&#39; ,the error got resolved.\r\n\r\nNo need of removing the #filename... \r\nTry in this way.. \r\n\r\nInstead of passing a File or URL object to the unmarshaller method, use a FileInputStream.\r\n\r\n    File myFile = new File(&quot;........&quot;);\r\n    Object obj = unmarshaller.unmarshal(new FileInputStream(myFile));\r\n\r\n","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I was facing the same problem called \"Content is not allowed in prolog\" in my xml file.</p>\n\n<p><strong>Solution</strong></p>\n\n<p>Initially my root folder was '#<strong>Filename</strong>'.</p>\n\n<p>When i removed the first character '#' ,the error got resolved.</p>\n\n<p>No need of removing the #filename... \nTry in this way.. </p>\n\n<p>Instead of passing a File or URL object to the unmarshaller method, use a FileInputStream.</p>\n\n<pre><code>File myFile = new File(\"........\");\nObject obj = unmarshaller.unmarshal(new FileInputStream(myFile));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4641343,"reputation":349,"user_id":3761102,"accept_rate":83,"display_name":"dfritch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1423504981,"creation_date":1423504981,"answer_id":28416311,"question_id":3030903,"body_markdown":"In my xml file, the header looked like this: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-16&quot;? /&gt;\r\n\r\nIn a test file, I was reading the file bytes and decoding the data as UTF-8 (not realizing the header in this file was utf-16) to create a string.\r\n\r\n    byte[] data = Files.readAllBytes(Paths.get(path));\r\n    String dataString = new String(data, &quot;UTF-8&quot;);\r\n\r\nWhen I tried to deserialize this string into an object, I was seeing the same error:\r\n\r\n    javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,1]\r\n    Message: Content is not allowed in prolog.\r\n\r\nWhen I updated the second line to\r\n\r\n    String dataString = new String(data, &quot;UTF-16&quot;);\r\n\r\nI was able to deserialize the object just fine.  So as Romain had noted above, the encodings need to match.\r\n\r\n\t","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>In my xml file, the header looked like this: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-16\"? /&gt;\n</code></pre>\n\n<p>In a test file, I was reading the file bytes and decoding the data as UTF-8 (not realizing the header in this file was utf-16) to create a string.</p>\n\n<pre><code>byte[] data = Files.readAllBytes(Paths.get(path));\nString dataString = new String(data, \"UTF-8\");\n</code></pre>\n\n<p>When I tried to deserialize this string into an object, I was seeing the same error:</p>\n\n<pre><code>javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,1]\nMessage: Content is not allowed in prolog.\n</code></pre>\n\n<p>When I updated the second line to</p>\n\n<pre><code>String dataString = new String(data, \"UTF-16\");\n</code></pre>\n\n<p>I was able to deserialize the object just fine.  So as Romain had noted above, the encodings need to match.</p>\n"},{"tags":[],"owner":{"account_id":21127,"reputation":7310,"user_id":51127,"accept_rate":91,"display_name":"MBaas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424529103,"creation_date":1424529103,"answer_id":28646920,"question_id":3030903,"body_markdown":"In my instance of the problem, the solution was to replace german umlauts (&#228;&#246;&#252;) with their HTML-equivalents...","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>In my instance of the problem, the solution was to replace german umlauts () with their HTML-equivalents...</p>\n"},{"tags":[],"owner":{"account_id":2907746,"reputation":53,"user_id":4274536,"display_name":"Avinash Dubey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481535377,"creation_date":1481535377,"answer_id":41097820,"question_id":3030903,"body_markdown":"bellow are cause above org.xml.sax.SAXParseException: Content is not allowed in prolog exception.\r\n\r\n1. First check the file path of schema.xsd and file.xml.\r\n2. The encoding in your XML and XSD (or DTD) should be same.&lt;br/&gt;\r\n    XML file header:  `&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;`&lt;br/&gt;\r\n    XSD file header: `&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;`\r\n3. if anything comes before the XML document type declaration.i.e: `hello&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-16&#39;?&gt;`\r\n","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>bellow are cause above org.xml.sax.SAXParseException: Content is not allowed in prolog exception.</p>\n\n<ol>\n<li>First check the file path of schema.xsd and file.xml.</li>\n<li>The encoding in your XML and XSD (or DTD) should be same.<br/>\nXML file header:  <code>&lt;?xml version='1.0' encoding='utf-8'?&gt;</code><br/>\nXSD file header: <code>&lt;?xml version='1.0' encoding='utf-8'?&gt;</code></li>\n<li>if anything comes before the XML document type declaration.i.e: <code>hello&lt;?xml version='1.0' encoding='utf-16'?&gt;</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7649794,"reputation":183,"user_id":5799033,"display_name":"Tamias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528902468,"creation_date":1528902468,"answer_id":50840587,"question_id":3030903,"body_markdown":"In the spirit of &quot;just delete all those weird characters before the &amp;lt;?xml&quot;, here&#39;s my Java code, which works well with input via a BufferedReader:\r\n\r\n    \tBufferedReader test = new BufferedReader(new InputStreamReader(fisTest));\r\n\t\ttest.mark(4);\r\n\t\twhile (true) {\r\n\t\t\tint earlyChar = test.read();\r\n\t\t\tSystem.out.println(earlyChar);\r\n\t\t\tif (earlyChar == 60) {\r\n\t\t\t\ttest.reset();\r\n\t\t\t\tbreak;\r\n\t\t\t} else {\r\n\t\t\t\ttest.mark(4);\r\n\t\t\t}\r\n\t\t}\r\n\r\nFWIW, the bytes I was seeing are (in decimal): 239, 187, 191.\r\n\r\n","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>In the spirit of \"just delete all those weird characters before the &lt;?xml\", here's my Java code, which works well with input via a BufferedReader:</p>\n\n<pre><code>    BufferedReader test = new BufferedReader(new InputStreamReader(fisTest));\n    test.mark(4);\n    while (true) {\n        int earlyChar = test.read();\n        System.out.println(earlyChar);\n        if (earlyChar == 60) {\n            test.reset();\n            break;\n        } else {\n            test.mark(4);\n        }\n    }\n</code></pre>\n\n<p>FWIW, the bytes I was seeing are (in decimal): 239, 187, 191.</p>\n"},{"tags":[],"owner":{"account_id":1578490,"reputation":4780,"user_id":1464389,"accept_rate":49,"display_name":"F.O.O"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1531927296,"creation_date":1531927296,"answer_id":51405682,"question_id":3030903,"body_markdown":"Removing the xml declaration solved it\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>Removing the xml declaration solved it</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5114104,"reputation":567,"user_id":4099837,"display_name":"techloris_109"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1532672645,"creation_date":1532672645,"answer_id":51551917,"question_id":3030903,"body_markdown":"I had issue while inspecting the xml file in notepad++ and saving the file, though I had the top utf-8 xml tag as `&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;`\r\n\r\nGot fixed by saving the file in notpad++ with Encoding(Tab) &gt; Encode in UTF-8:selected (was Encode in UTF-8-BOM)","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I had issue while inspecting the xml file in notepad++ and saving the file, though I had the top utf-8 xml tag as <code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</code></p>\n\n<p>Got fixed by saving the file in notpad++ with Encoding(Tab) > Encode in UTF-8:selected (was Encode in UTF-8-BOM)</p>\n"},{"tags":[],"owner":{"account_id":2779299,"reputation":11844,"user_id":2392157,"accept_rate":94,"display_name":"miroxlav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550561559,"creation_date":1550561559,"answer_id":54760886,"question_id":3030903,"body_markdown":"## Unexpected reason: `#` character in file path\n\nDue to some internal bug, the error ***Content is not allowed in prolog*** also appears if the file content itself is 100% correct but you are supplying the file name like `C:\\Data\\#22\\file.xml`.\n\nThis may possibly apply to other special characters, too.\n\n**How to check:** If you move your file into a path without special characters and the error disappears, then it was this issue.","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<h2>Unexpected reason: <code>#</code> character in file path</h2>\n<p>Due to some internal bug, the error <em><strong>Content is not allowed in prolog</strong></em> also appears if the file content itself is 100% correct but you are supplying the file name like <code>C:\\Data\\#22\\file.xml</code>.</p>\n<p>This may possibly apply to other special characters, too.</p>\n<p><strong>How to check:</strong> If you move your file into a path without special characters and the error disappears, then it was this issue.</p>\n"},{"tags":[],"owner":{"account_id":3796196,"reputation":175,"user_id":3151204,"display_name":"matjung"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1570955520,"creation_date":1570955520,"answer_id":58361846,"question_id":3030903,"body_markdown":"I catched the same error message today.\r\nThe solution was to change the document from UTF-8 with BOM to UTF-8 without BOM ","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I catched the same error message today.\nThe solution was to change the document from UTF-8 with BOM to UTF-8 without BOM </p>\n"},{"tags":[],"owner":{"account_id":237170,"reputation":18509,"user_id":505152,"accept_rate":72,"display_name":"htafoya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609889217,"creation_date":1609889217,"answer_id":65588019,"question_id":3030903,"body_markdown":"I zipped the xml in a Mac OS and sent it to a Windows machine, the default compression changes these files so the encoding sent this message.","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I zipped the xml in a Mac OS and sent it to a Windows machine, the default compression changes these files so the encoding sent this message.</p>\n"},{"tags":[],"owner":{"account_id":24392010,"reputation":56,"user_id":18321854,"display_name":"selalerercapitolis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659432267,"creation_date":1659432267,"answer_id":73205054,"question_id":3030903,"body_markdown":"Happened to me with `@JsmListener` with Spring Boot when listening to IBM MQ. My method received `String` parameter and got this exception when I tried to deserialize it using JAXB.\r\n\r\nIt seemed that that the string I got was a result of `byte[].toString()`. It was a list of comma separated numbers.\r\n\r\nI solved it by changing the parameter type to `byte[]` and then created a `String` from it:\r\n\r\n    @JmsListener(destination = &quot;Q1&quot;)\r\n    public void receiveQ1Message(byte[] msgBytes) {\r\n        var msg = new String(msgBytes);","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>Happened to me with <code>@JsmListener</code> with Spring Boot when listening to IBM MQ. My method received <code>String</code> parameter and got this exception when I tried to deserialize it using JAXB.</p>\n<p>It seemed that that the string I got was a result of <code>byte[].toString()</code>. It was a list of comma separated numbers.</p>\n<p>I solved it by changing the parameter type to <code>byte[]</code> and then created a <code>String</code> from it:</p>\n<pre><code>@JmsListener(destination = &quot;Q1&quot;)\npublic void receiveQ1Message(byte[] msgBytes) {\n    var msg = new String(msgBytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5100146,"reputation":869,"user_id":4090002,"display_name":"Marcell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677497378,"creation_date":1677497378,"answer_id":75579894,"question_id":3030903,"body_markdown":"I had encountered this message when running a test case in SoapUI:\r\n\r\n    org.xml.sax.SAXParseException; systemId: file://; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.\r\n\r\nAfter quite some time I figured out the reason being the following line:\r\n\r\n    def holder = groovyUtils.getXmlHolder(&quot;SoapCall#Request&quot;) // Get Request body\r\n\r\nAnd the reason was that the test step was actually named &quot;SOAPCall&quot; and not &quot;SoapCall&quot;. I suppose the returned string was empty, which caused the &quot;prolog&quot; error.","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I had encountered this message when running a test case in SoapUI:</p>\n<pre><code>org.xml.sax.SAXParseException; systemId: file://; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.\n</code></pre>\n<p>After quite some time I figured out the reason being the following line:</p>\n<pre><code>def holder = groovyUtils.getXmlHolder(&quot;SoapCall#Request&quot;) // Get Request body\n</code></pre>\n<p>And the reason was that the test step was actually named &quot;SOAPCall&quot; and not &quot;SoapCall&quot;. I suppose the returned string was empty, which caused the &quot;prolog&quot; error.</p>\n"}],"owner":{"account_id":7096,"reputation":16899,"user_id":12171,"accept_rate":90,"display_name":"Adrian Petrescu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664549,"favorite_count":0,"down_vote_count":0,"up_vote_count":177,"accepted_answer_id":3030913,"answer_count":16,"score":177,"last_activity_date":1677497378,"creation_date":1276397562,"question_id":3030903,"body_markdown":"I&#39;ve been beating my head against this absolutely infuriating bug for the last 48 hours, so I thought I&#39;d finally throw in the towel and try asking here before I throw my laptop out the window.\r\n\r\nI&#39;m trying to parse the response XML from a call I made to AWS SimpleDB. The response is coming back on the wire just fine; for example, it may look like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; \r\n    &lt;ListDomainsResponse xmlns=&quot;http://sdb.amazonaws.com/doc/2009-04-15/&quot;&gt;\r\n        &lt;ListDomainsResult&gt;\r\n            &lt;DomainName&gt;Audio&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;Course&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;DocumentContents&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;LectureSet&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;MetaData&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;Professors&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;Tag&lt;/DomainName&gt;\r\n        &lt;/ListDomainsResult&gt;\r\n        &lt;ResponseMetadata&gt;\r\n            &lt;RequestId&gt;42330b4a-e134-6aec-e62a-5869ac2b4575&lt;/RequestId&gt;\r\n            &lt;BoxUsage&gt;0.0000071759&lt;/BoxUsage&gt;\r\n        &lt;/ResponseMetadata&gt;\r\n    &lt;/ListDomainsResponse&gt;\r\n\r\nI pass in this XML to a parser with \r\n\r\n    XMLEventReader eventReader = xmlInputFactory.createXMLEventReader(response.getContent());\r\n\r\nand call `eventReader.nextEvent();` a bunch of times to get the data I want.\r\n\r\nHere&#39;s the bizarre part -- it works great inside the local server. The response comes in, I parse it, everyone&#39;s happy. The problem is that when I deploy the code to Google App Engine, the outgoing request still works, and the response XML seems 100% identical and correct to me, but the response fails to parse with the following exception:\r\n\r\n    com.amazonaws.http.HttpClient handleResponse: Unable to unmarshall response (ParseError at [row,col]:[1,1]\r\n    Message: Content is not allowed in prolog.): &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; \r\n    &lt;ListDomainsResponse xmlns=&quot;http://sdb.amazonaws.com/doc/2009-04-15/&quot;&gt;&lt;ListDomainsResult&gt;&lt;DomainName&gt;Audio&lt;/DomainName&gt;&lt;DomainName&gt;Course&lt;/DomainName&gt;&lt;DomainName&gt;DocumentContents&lt;/DomainName&gt;&lt;DomainName&gt;LectureSet&lt;/DomainName&gt;&lt;DomainName&gt;MetaData&lt;/DomainName&gt;&lt;DomainName&gt;Professors&lt;/DomainName&gt;&lt;DomainName&gt;Tag&lt;/DomainName&gt;&lt;/ListDomainsResult&gt;&lt;ResponseMetadata&gt;&lt;RequestId&gt;42330b4a-e134-6aec-e62a-5869ac2b4575&lt;/RequestId&gt;&lt;BoxUsage&gt;0.0000071759&lt;/BoxUsage&gt;&lt;/ResponseMetadata&gt;&lt;/ListDomainsResponse&gt;\r\n    javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,1]\r\n    Message: Content is not allowed in prolog.\r\n        at com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.next(Unknown Source)\r\n        at com.sun.xml.internal.stream.XMLEventReaderImpl.nextEvent(Unknown Source)\r\n        at com.amazonaws.transform.StaxUnmarshallerContext.nextEvent(StaxUnmarshallerContext.java:153)\r\n        ... (rest of lines omitted)\r\n\r\nI have double, triple, quadruple checked this XML for &#39;invisible characters&#39; or non-UTF8 encoded characters, etc. I looked at it byte-by-byte in an array for byte-order-marks or something of that nature. Nothing; it passes every validation test I could throw at it. Even stranger, it happens if I use a Saxon-based parser as well -- but ONLY on GAE, it always works fine in my local environment.\r\n\r\nIt makes it very hard to trace the code for problems when I can only run the debugger on an environment that works perfectly (I haven&#39;t found any good way to remotely debug on GAE). Nevertheless, using the primitive means I have, I&#39;ve tried a million approaches including:\r\n\r\n* XML with and without the prolog\r\n* With and without newlines\r\n* With and without the &quot;encoding=&quot; attribute in the prolog\r\n* Both newline styles\r\n* With and without the chunking information present in the HTTP stream\r\n\r\nAnd I&#39;ve tried most of these in multiple combinations where it made sense they would interact -- nothing! I&#39;m at my wit&#39;s end. Has anyone seen an issue like this before that can hopefully shed some light on it?\r\n\r\nThanks!","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I've been beating my head against this absolutely infuriating bug for the last 48 hours, so I thought I'd finally throw in the towel and try asking here before I throw my laptop out the window.</p>\n\n<p>I'm trying to parse the response XML from a call I made to AWS SimpleDB. The response is coming back on the wire just fine; for example, it may look like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; \n&lt;ListDomainsResponse xmlns=\"http://sdb.amazonaws.com/doc/2009-04-15/\"&gt;\n    &lt;ListDomainsResult&gt;\n        &lt;DomainName&gt;Audio&lt;/DomainName&gt;\n        &lt;DomainName&gt;Course&lt;/DomainName&gt;\n        &lt;DomainName&gt;DocumentContents&lt;/DomainName&gt;\n        &lt;DomainName&gt;LectureSet&lt;/DomainName&gt;\n        &lt;DomainName&gt;MetaData&lt;/DomainName&gt;\n        &lt;DomainName&gt;Professors&lt;/DomainName&gt;\n        &lt;DomainName&gt;Tag&lt;/DomainName&gt;\n    &lt;/ListDomainsResult&gt;\n    &lt;ResponseMetadata&gt;\n        &lt;RequestId&gt;42330b4a-e134-6aec-e62a-5869ac2b4575&lt;/RequestId&gt;\n        &lt;BoxUsage&gt;0.0000071759&lt;/BoxUsage&gt;\n    &lt;/ResponseMetadata&gt;\n&lt;/ListDomainsResponse&gt;\n</code></pre>\n\n<p>I pass in this XML to a parser with </p>\n\n<pre><code>XMLEventReader eventReader = xmlInputFactory.createXMLEventReader(response.getContent());\n</code></pre>\n\n<p>and call <code>eventReader.nextEvent();</code> a bunch of times to get the data I want.</p>\n\n<p>Here's the bizarre part -- it works great inside the local server. The response comes in, I parse it, everyone's happy. The problem is that when I deploy the code to Google App Engine, the outgoing request still works, and the response XML seems 100% identical and correct to me, but the response fails to parse with the following exception:</p>\n\n<pre><code>com.amazonaws.http.HttpClient handleResponse: Unable to unmarshall response (ParseError at [row,col]:[1,1]\nMessage: Content is not allowed in prolog.): &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; \n&lt;ListDomainsResponse xmlns=\"http://sdb.amazonaws.com/doc/2009-04-15/\"&gt;&lt;ListDomainsResult&gt;&lt;DomainName&gt;Audio&lt;/DomainName&gt;&lt;DomainName&gt;Course&lt;/DomainName&gt;&lt;DomainName&gt;DocumentContents&lt;/DomainName&gt;&lt;DomainName&gt;LectureSet&lt;/DomainName&gt;&lt;DomainName&gt;MetaData&lt;/DomainName&gt;&lt;DomainName&gt;Professors&lt;/DomainName&gt;&lt;DomainName&gt;Tag&lt;/DomainName&gt;&lt;/ListDomainsResult&gt;&lt;ResponseMetadata&gt;&lt;RequestId&gt;42330b4a-e134-6aec-e62a-5869ac2b4575&lt;/RequestId&gt;&lt;BoxUsage&gt;0.0000071759&lt;/BoxUsage&gt;&lt;/ResponseMetadata&gt;&lt;/ListDomainsResponse&gt;\njavax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,1]\nMessage: Content is not allowed in prolog.\n    at com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.next(Unknown Source)\n    at com.sun.xml.internal.stream.XMLEventReaderImpl.nextEvent(Unknown Source)\n    at com.amazonaws.transform.StaxUnmarshallerContext.nextEvent(StaxUnmarshallerContext.java:153)\n    ... (rest of lines omitted)\n</code></pre>\n\n<p>I have double, triple, quadruple checked this XML for 'invisible characters' or non-UTF8 encoded characters, etc. I looked at it byte-by-byte in an array for byte-order-marks or something of that nature. Nothing; it passes every validation test I could throw at it. Even stranger, it happens if I use a Saxon-based parser as well -- but ONLY on GAE, it always works fine in my local environment.</p>\n\n<p>It makes it very hard to trace the code for problems when I can only run the debugger on an environment that works perfectly (I haven't found any good way to remotely debug on GAE). Nevertheless, using the primitive means I have, I've tried a million approaches including:</p>\n\n<ul>\n<li>XML with and without the prolog</li>\n<li>With and without newlines</li>\n<li>With and without the \"encoding=\" attribute in the prolog</li>\n<li>Both newline styles</li>\n<li>With and without the chunking information present in the HTTP stream</li>\n</ul>\n\n<p>And I've tried most of these in multiple combinations where it made sense they would interact -- nothing! I'm at my wit's end. Has anyone seen an issue like this before that can hopefully shed some light on it?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","json","java-8"],"comments":[{"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"score":1,"creation_date":1677481963,"post_id":75577534,"comment_id":133338994,"body_markdown":"Post the code you have tried and what are your errors :) This way it will be easier for you to learn and for us to help!","body":"Post the code you have tried and what are your errors :) This way it will be easier for you to learn and for us to help!"}],"answers":[{"tags":[],"owner":{"account_id":14544626,"reputation":129,"user_id":10505187,"display_name":"fixcer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677484940,"creation_date":1677484940,"answer_id":75578004,"question_id":75577534,"body_markdown":"You can learn more about using Jackson to parse JSON here. Or you can parse them to object and use stream to check for duplicates.\r\n\r\n```\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        String json = &quot;{ \\&quot;ID\\&quot; : \\&quot;ID1\\&quot;, \\&quot;books\\&quot; : [ { \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;pdf\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book2\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; } ] }&quot;;\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        JsonNode rootNode = objectMapper.readTree(json);\r\n        JsonNode booksNode = rootNode.get(&quot;books&quot;);\r\n\r\n        Set&lt;String&gt; bookIds = new HashSet&lt;&gt;();\r\n        booksNode.forEach(bookNode -&gt; {\r\n            String bookId = bookNode.get(&quot;bookID&quot;).asText();\r\n            if (bookIds.contains(bookId)) {\r\n                System.out.println(&quot;Duplicate bookID found: &quot; + bookId);\r\n            } else {\r\n                bookIds.add(bookId);\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"Identify duplicate values for particular element in a JSON array","body":"<p>You can learn more about using Jackson to parse JSON here. Or you can parse them to object and use stream to check for duplicates.</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class Main {\n\n    public static void main(String[] args) throws JsonProcessingException {\n        String json = &quot;{ \\&quot;ID\\&quot; : \\&quot;ID1\\&quot;, \\&quot;books\\&quot; : [ { \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;pdf\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book2\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; } ] }&quot;;\n        ObjectMapper objectMapper = new ObjectMapper();\n        JsonNode rootNode = objectMapper.readTree(json);\n        JsonNode booksNode = rootNode.get(&quot;books&quot;);\n\n        Set&lt;String&gt; bookIds = new HashSet&lt;&gt;();\n        booksNode.forEach(bookNode -&gt; {\n            String bookId = bookNode.get(&quot;bookID&quot;).asText();\n            if (bookIds.contains(bookId)) {\n                System.out.println(&quot;Duplicate bookID found: &quot; + bookId);\n            } else {\n                bookIds.add(bookId);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677489024,"creation_date":1677489024,"answer_id":75578542,"question_id":75577534,"body_markdown":"Identify duplicate values for particular element in a JSON array:\r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n\r\n    public class BookIdFind {\r\n        public static void main(String[] args) throws JSONException {\r\n            String jsonString = &quot;{ \\&quot;ID\\&quot; : \\&quot;ID1\\&quot;, \\&quot;books\\&quot; : [ { \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;pdf\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book2\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; } ] }&quot;;\r\n            JSONObject jsonObject = new JSONObject(jsonString);\r\n            JSONArray bookArray = jsonObject.getJSONArray(&quot;books&quot;);\r\n            \r\n            Map&lt;String, List&lt;JSONObject&gt;&gt; booksById = IntStream.range(0, bookArray.length())\r\n                    .mapToObj(bookArray::getJSONObject)\r\n                    .collect(Collectors.groupingBy(book -&gt; book.getString(&quot;bookID&quot;)));\r\n            \r\n            List&lt;String&gt; duplicateIds = booksById.values().stream()\r\n                    .filter(list -&gt; list.size() &gt; 1)\r\n                    .map(list -&gt; list.get(0).getString(&quot;bookID&quot;))\r\n                    .collect(Collectors.toList());\r\n            \r\n            if (duplicateIds.isEmpty()) {\r\n                System.out.println(&quot;No duplicate book IDs found.&quot;);\r\n            } else {\r\n                System.out.println(&quot;Duplicate book IDs found: &quot; + duplicateIds);\r\n            }\r\n        }\r\n    }","title":"Identify duplicate values for particular element in a JSON array","body":"<p>Identify duplicate values for particular element in a JSON array:</p>\n<pre><code>import org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class BookIdFind {\n    public static void main(String[] args) throws JSONException {\n        String jsonString = &quot;{ \\&quot;ID\\&quot; : \\&quot;ID1\\&quot;, \\&quot;books\\&quot; : [ { \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;pdf\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book2\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; } ] }&quot;;\n        JSONObject jsonObject = new JSONObject(jsonString);\n        JSONArray bookArray = jsonObject.getJSONArray(&quot;books&quot;);\n        \n        Map&lt;String, List&lt;JSONObject&gt;&gt; booksById = IntStream.range(0, bookArray.length())\n                .mapToObj(bookArray::getJSONObject)\n                .collect(Collectors.groupingBy(book -&gt; book.getString(&quot;bookID&quot;)));\n        \n        List&lt;String&gt; duplicateIds = booksById.values().stream()\n                .filter(list -&gt; list.size() &gt; 1)\n                .map(list -&gt; list.get(0).getString(&quot;bookID&quot;))\n                .collect(Collectors.toList());\n        \n        if (duplicateIds.isEmpty()) {\n            System.out.println(&quot;No duplicate book IDs found.&quot;);\n        } else {\n            System.out.println(&quot;Duplicate book IDs found: &quot; + duplicateIds);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27751368,"reputation":1,"user_id":21185749,"display_name":"Sam Luis"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1467,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1677497067,"answer_count":2,"score":-3,"last_activity_date":1677497061,"creation_date":1677481266,"question_id":75577534,"body_markdown":"JSON array:\r\n```json\r\n{\r\n  &quot;ID : &quot;ID1&quot;,\r\n  &quot;books&quot; : [ {\r\n     &quot;bookID&quot; : &quot;book1&quot;,\r\n     &quot;booktype&quot;: &quot;pdf&quot;\r\n   },{\r\n     &quot;bookID&quot; : &quot;book2&quot;,\r\n     &quot;booktype&quot;: &quot;txt&quot;\r\n   },{\r\n     &quot;bookID&quot; : &quot;book1&quot;,\r\n     &quot;booktype&quot;: &quot;txt&quot;\r\n  }\r\n ]\r\n}\r\n```\r\nHow to find bookID is duplicated or not here using Java. The JSON array will be big and contains multiple book elements. How to find if any bookID is duplicated?\r\n\r\nExpecting an answer in Java 8 using streams or Java.","title":"Identify duplicate values for particular element in a JSON array","body":"<p>JSON array:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;ID : &quot;ID1&quot;,\n  &quot;books&quot; : [ {\n     &quot;bookID&quot; : &quot;book1&quot;,\n     &quot;booktype&quot;: &quot;pdf&quot;\n   },{\n     &quot;bookID&quot; : &quot;book2&quot;,\n     &quot;booktype&quot;: &quot;txt&quot;\n   },{\n     &quot;bookID&quot; : &quot;book1&quot;,\n     &quot;booktype&quot;: &quot;txt&quot;\n  }\n ]\n}\n</code></pre>\n<p>How to find bookID is duplicated or not here using Java. The JSON array will be big and contains multiple book elements. How to find if any bookID is duplicated?</p>\n<p>Expecting an answer in Java 8 using streams or Java.</p>\n"},{"tags":["java","mono","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677496944,"creation_date":1677480733,"answer_id":75577466,"question_id":75577373,"body_markdown":"I apologize for my earlier response not fully addressing your issue.\r\n\r\nyou can modify getHeaders() to return a Mono that emits the headers object when the token is available. You can then chain this Mono with the map() operator to set the headers and continue with the request execution.\r\n\r\n    public Mono&lt;MultiValuedMap&lt;String,Object&gt;&gt; getHeaders() {\r\n       if(token == null) {\r\n        return getTokenFromExternalApi()\r\n            .map(resp -&gt; setToken(resp))\r\n            .then(Mono.just(headers)); // return headers after setting token\r\n    }\r\n    return Mono.just(headers); // return headers if token is already set\r\n    }\r\n\r\nTo use this implementation, you can modify the webTarget code as follows:\r\n\r\n    getHeaders()\r\n    .map(headers -&gt; {\r\n        webTarget.headers(headers);\r\n        return webTarget;\r\n    })\r\n    .flatMap(webTarget -&gt; webTarget.rx(MonoRxInvoker.class).get())\r\n    .map(this::processResponse)\r\n    .doOnError(this::processError);","title":"block()/blocking() not supported in thread reactor","body":"<p>I apologize for my earlier response not fully addressing your issue.</p>\n<p>you can modify getHeaders() to return a Mono that emits the headers object when the token is available. You can then chain this Mono with the map() operator to set the headers and continue with the request execution.</p>\n<pre><code>public Mono&lt;MultiValuedMap&lt;String,Object&gt;&gt; getHeaders() {\n   if(token == null) {\n    return getTokenFromExternalApi()\n        .map(resp -&gt; setToken(resp))\n        .then(Mono.just(headers)); // return headers after setting token\n}\nreturn Mono.just(headers); // return headers if token is already set\n}\n</code></pre>\n<p>To use this implementation, you can modify the webTarget code as follows:</p>\n<pre><code>getHeaders()\n.map(headers -&gt; {\n    webTarget.headers(headers);\n    return webTarget;\n})\n.flatMap(webTarget -&gt; webTarget.rx(MonoRxInvoker.class).get())\n.map(this::processResponse)\n.doOnError(this::processError);\n</code></pre>\n"}],"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1716,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75577466,"answer_count":1,"score":0,"last_activity_date":1677496944,"creation_date":1677479631,"question_id":75577373,"body_markdown":"Here is a logic to fetch some information from an API:\r\n\r\n    class OneClient {\r\n        public Mono&lt;Information&gt; getSomeInformation(ClientRequest req) {\r\n            return getWebTarget(req)\r\n                .request(MediaType.APPLICATION_JSON_TYPE)\r\n                .headers(getHeaders(req))\r\n                .rx(MonoRxInvoker.class)\r\n                .get()\r\n                .map(this::processResponse)\r\n                .doOnError(this::processError);\r\n        }\r\n    }\r\n\r\nThats how our framework is to be used by putting the request on a different thread while keeping main thread unblocked.\r\n\r\nBut I have a problem. `getHeaders()` gets information like below:\r\n\r\n    public MultiValuedMap&lt;String,Object&gt; getHeaders() {\r\n        if(token == null) {\r\n            getTokenFromExternalApi() // just like previous snippet\r\n            .map(resp -&gt; setToken(resp))\r\n            .block();\r\n        }\r\n        return headers; // tokens and other static data\r\n    }\r\n\r\nSince I have to store token in the bean, I was doing `.block()`, but then I get exception: `block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-5`. And I understand why this error is being thrown. Blocking is unexpected in a non-blocking thread.\r\n\r\nBut \r\n\r\nCan you suggest me the right way to design `getHeader()`? Thank you.","title":"block()/blocking() not supported in thread reactor","body":"<p>Here is a logic to fetch some information from an API:</p>\n<pre><code>class OneClient {\n    public Mono&lt;Information&gt; getSomeInformation(ClientRequest req) {\n        return getWebTarget(req)\n            .request(MediaType.APPLICATION_JSON_TYPE)\n            .headers(getHeaders(req))\n            .rx(MonoRxInvoker.class)\n            .get()\n            .map(this::processResponse)\n            .doOnError(this::processError);\n    }\n}\n</code></pre>\n<p>Thats how our framework is to be used by putting the request on a different thread while keeping main thread unblocked.</p>\n<p>But I have a problem. <code>getHeaders()</code> gets information like below:</p>\n<pre><code>public MultiValuedMap&lt;String,Object&gt; getHeaders() {\n    if(token == null) {\n        getTokenFromExternalApi() // just like previous snippet\n        .map(resp -&gt; setToken(resp))\n        .block();\n    }\n    return headers; // tokens and other static data\n}\n</code></pre>\n<p>Since I have to store token in the bean, I was doing <code>.block()</code>, but then I get exception: <code>block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-5</code>. And I understand why this error is being thrown. Blocking is unexpected in a non-blocking thread.</p>\n<p>But</p>\n<p>Can you suggest me the right way to design <code>getHeader()</code>? Thank you.</p>\n"},{"tags":["java","arrays","sorting","exception","indexoutofboundsexception"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1677428010,"post_id":75572856,"comment_id":133331603,"body_markdown":"do you know how to use a step-by-step debugger?","body":"do you know how to use a step-by-step debugger?"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1677428090,"post_id":75572856,"comment_id":133331616,"body_markdown":"(in this case there&#39;s a clear issue: you never reset your ID flag. A run through a debugger would have made that fairly obvious)","body":"(in this case there&#39;s a clear issue: you never reset your ID flag. A run through a debugger would have made that fairly obvious)"}],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677496619,"creation_date":1677496619,"answer_id":75579767,"question_id":75572856,"body_markdown":"Commented on your code and you changed it, then should work.\r\n\r\n&gt;     private static int read(String inFileName, int[] list) {\r\n&gt;         int size = 0;\r\n&gt;         int i= 0;\r\n&gt; \r\n&gt;         Scanner inFile = null;\r\n&gt;         int val = 0;\r\n&gt; \r\n&gt;         int trash = 0;\r\n&gt;      // boolean ID = false;  remove \r\n&gt;         int Unique = 0;\r\n&gt;         int dupe = 0;\r\n&gt;         int lineCount = 0;\r\n&gt; \r\n&gt;         try { \r\n&gt;             inFile = new Scanner(new File(inFileName));\r\n&gt;             while (inFile.hasNext()){\r\n&gt;                 boolean ID = false; // Add here\r\n&gt;                 lineCount++;\r\n&gt;                 try{\r\n&gt;                     val = inFile.nextInt();\r\n&gt;                     if(val &lt; 0) { \r\n&gt;                         trash++;\r\n&gt;                         continue; \r\n&gt;                     }\r\n&gt; \r\n&gt;                     for(i = 0; i&lt; size ;i++){ \r\n&gt;                         if(list[i] == val){\r\n&gt;                             ID = true;\r\n&gt;                             dupe++;\r\n&gt;                \r\n&gt;                         }\r\n&gt; \r\n&gt;                     }\r\n&gt;                     if (ID == false &amp;&amp; size&lt;list.length){ \r\n&gt;                         list[size] = val;\r\n&gt;                         size++;\r\n&gt;                         Unique++;\r\n&gt;                     }\r\n&gt; \r\n&gt;                 }\r\n&gt;                 catch (InputMismatchException e){\r\n&gt;                     trash++;\r\n&gt;                     inFile.nextLine();\r\n&gt;                 }\r\n&gt; \r\n&gt;             }\r\n&gt;             System.out.println(&quot;lines: &quot; + lineCount + &quot;, unique: &quot; + Unique +  &quot;, dupes: &quot; + dupe + &quot;, trash: &quot; + trash);\r\n&gt;         }\r\n&gt;         catch (FileNotFoundException e) {\r\n&gt;             System.out.println(&quot;Error in opening &quot; + inFileName);\r\n&gt;         }\r\n&gt; \r\n&gt; \r\n&gt;         return size;\r\n&gt;     }","title":"Issues filling an array in Java","body":"<p>Commented on your code and you changed it, then should work.</p>\n<blockquote>\n<pre><code>private static int read(String inFileName, int[] list) {\n    int size = 0;\n    int i= 0;\n\n    Scanner inFile = null;\n    int val = 0;\n\n    int trash = 0;\n // boolean ID = false;  remove \n    int Unique = 0;\n    int dupe = 0;\n    int lineCount = 0;\n\n    try { \n        inFile = new Scanner(new File(inFileName));\n        while (inFile.hasNext()){\n            boolean ID = false; // Add here\n            lineCount++;\n            try{\n                val = inFile.nextInt();\n                if(val &lt; 0) { \n                    trash++;\n                    continue; \n                }\n\n                for(i = 0; i&lt; size ;i++){ \n                    if(list[i] == val){\n                        ID = true;\n                        dupe++;\n           \n                    }\n\n                }\n                if (ID == false &amp;&amp; size&lt;list.length){ \n                    list[size] = val;\n                    size++;\n                    Unique++;\n                }\n\n            }\n            catch (InputMismatchException e){\n                trash++;\n                inFile.nextLine();\n            }\n\n        }\n        System.out.println(&quot;lines: &quot; + lineCount + &quot;, unique: &quot; + Unique +  &quot;, dupes: &quot; + dupe + &quot;, trash: &quot; + trash);\n    }\n    catch (FileNotFoundException e) {\n        System.out.println(&quot;Error in opening &quot; + inFileName);\n    }\n\n\n    return size;\n}\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":25507996,"reputation":3,"user_id":19300254,"display_name":"Erl_k&#246;nig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75579767,"answer_count":1,"score":0,"last_activity_date":1677496619,"creation_date":1677423762,"question_id":75572856,"body_markdown":"I am trying to fill an array with the unique values from another file. This file has about 20 integers total, 10 are unique and 10 are copies. The user inputs the size of the array and name of the file within the main. \r\n\r\n\r\nI think the trouble is coming from this while loop that is meant to fill the array, sorting out the duplicates. \r\n\r\nAt the moment, it only successfully sorts 11 of the 20 integers in the file.\r\n\r\n\r\n\r\n```\r\nprivate static int read(String inFileName, int[] list) {\r\n        int size = 0;\r\n        int i= 0;\r\n\r\n        Scanner inFile = null;\r\n        int val = 0;\r\n\r\n        int trash = 0;\r\n        boolean ID = false;\r\n        int Unique = 0;\r\n        int dupe = 0;\r\n        int lineCount = 0;\r\n\r\n        try { \r\n            inFile = new Scanner(new File(inFileName));\r\n            while (inFile.hasNext()){\r\n                lineCount++;\r\n                try{\r\n                    val = inFile.nextInt();\r\n                    if(val &lt; 0) { \r\n                        trash++;\r\n                        continue; \r\n                    }\r\n\r\n                    for(i = 0; i&lt; size ;i++){ \r\n                        if(list[i] == val){\r\n                            ID = true;\r\n                            dupe++;\r\n               \r\n                        }\r\n\r\n                    }\r\n                    if (ID == false &amp;&amp; size&lt;list.length){ \r\n                        list[size] = val;\r\n                        size++;\r\n                        Unique++;\r\n                    }\r\n\r\n                }\r\n                catch (InputMismatchException e){\r\n                    trash++;\r\n                    inFile.nextLine();\r\n                }\r\n\r\n            }\r\n            System.out.println(&quot;lines: &quot; + lineCount + &quot;, unique: &quot; + Unique +  &quot;, dupes: &quot; + dupe + &quot;, trash: &quot; + trash);\r\n        }\r\n        catch (FileNotFoundException e) {\r\n            System.out.println(&quot;Error in opening &quot; + inFileName);\r\n        }\r\n\r\n\r\n        return size;\r\n    }\r\n```\r\n\r\nSo far, I have tried adding different if-statements to try and specify what is unique and what is a copy. This would typically help in filling the array with the correct number of integers, but not the unique ones. It seems to be skipping quite a few unique integers and filling the array with copies. I am pretty stuck, and any suggestions whatsoever would be appreciated.","title":"Issues filling an array in Java","body":"<p>I am trying to fill an array with the unique values from another file. This file has about 20 integers total, 10 are unique and 10 are copies. The user inputs the size of the array and name of the file within the main.</p>\n<p>I think the trouble is coming from this while loop that is meant to fill the array, sorting out the duplicates.</p>\n<p>At the moment, it only successfully sorts 11 of the 20 integers in the file.</p>\n<pre><code>private static int read(String inFileName, int[] list) {\n        int size = 0;\n        int i= 0;\n\n        Scanner inFile = null;\n        int val = 0;\n\n        int trash = 0;\n        boolean ID = false;\n        int Unique = 0;\n        int dupe = 0;\n        int lineCount = 0;\n\n        try { \n            inFile = new Scanner(new File(inFileName));\n            while (inFile.hasNext()){\n                lineCount++;\n                try{\n                    val = inFile.nextInt();\n                    if(val &lt; 0) { \n                        trash++;\n                        continue; \n                    }\n\n                    for(i = 0; i&lt; size ;i++){ \n                        if(list[i] == val){\n                            ID = true;\n                            dupe++;\n               \n                        }\n\n                    }\n                    if (ID == false &amp;&amp; size&lt;list.length){ \n                        list[size] = val;\n                        size++;\n                        Unique++;\n                    }\n\n                }\n                catch (InputMismatchException e){\n                    trash++;\n                    inFile.nextLine();\n                }\n\n            }\n            System.out.println(&quot;lines: &quot; + lineCount + &quot;, unique: &quot; + Unique +  &quot;, dupes: &quot; + dupe + &quot;, trash: &quot; + trash);\n        }\n        catch (FileNotFoundException e) {\n            System.out.println(&quot;Error in opening &quot; + inFileName);\n        }\n\n\n        return size;\n    }\n</code></pre>\n<p>So far, I have tried adding different if-statements to try and specify what is unique and what is a copy. This would typically help in filling the array with the correct number of integers, but not the unique ones. It seems to be skipping quite a few unique integers and filling the array with copies. I am pretty stuck, and any suggestions whatsoever would be appreciated.</p>\n"},{"tags":["java","xml","avro"],"answers":[{"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677496508,"creation_date":1677496424,"answer_id":75579738,"question_id":75579485,"body_markdown":"It is a while since I used Apache Camel for this,\r\nbut it was out-of-the box.&lt;br /&gt;\r\nAdd Apache Camel dependency and voila!&lt;br /&gt;\r\nhttps://camel.apache.org/components/3.20.x/dataformats/avro-dataformat.html","title":"Using Java programming, How can I convert XML file into Avro file?","body":"<p>It is a while since I used Apache Camel for this,\nbut it was out-of-the box.<br />\nAdd Apache Camel dependency and voila!<br />\n<a href=\"https://camel.apache.org/components/3.20.x/dataformats/avro-dataformat.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.20.x/dataformats/avro-dataformat.html</a></p>\n"}],"owner":{"account_id":27889812,"reputation":1,"user_id":21296442,"display_name":"G Anubhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677496508,"creation_date":1677494961,"question_id":75579485,"body_markdown":"I am new to java and I need to input XML file to a java code that gives Avro as output, cannot find a working example on the net.\r\n\r\nFound this Github repo -- https://github.com/elodina/xml-avro in the existing thread -- https://stackoverflow.com/questions/57005465/convert-xml-to-avro-and-generate-avro-schema - but I am not able to run it as I am not acquainted with the execution procedure and I cannot understand properly the instruction written in the above mentioned github page. could u please write me a more elaborated instruction for executing this?","title":"Using Java programming, How can I convert XML file into Avro file?","body":"<p>I am new to java and I need to input XML file to a java code that gives Avro as output, cannot find a working example on the net.</p>\n<p>Found this Github repo -- <a href=\"https://github.com/elodina/xml-avro\" rel=\"nofollow noreferrer\">https://github.com/elodina/xml-avro</a> in the existing thread -- <a href=\"https://stackoverflow.com/questions/57005465/convert-xml-to-avro-and-generate-avro-schema\">Convert XML to Avro and generate AVRO schema</a> - but I am not able to run it as I am not acquainted with the execution procedure and I cannot understand properly the instruction written in the above mentioned github page. could u please write me a more elaborated instruction for executing this?</p>\n"},{"tags":["java","spring-boot","multiple-databases"],"comments":[{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dum"},"score":0,"creation_date":1677417858,"post_id":75571945,"comment_id":133329876,"body_markdown":"Are you using Spring Data JPA or Spring Data JDBC?","body":"Are you using Spring Data JPA or Spring Data JDBC?"},{"owner":{"account_id":25545673,"reputation":13,"user_id":19331035,"display_name":"ABHINAV.DEEP"},"score":0,"creation_date":1677420612,"post_id":75571945,"comment_id":133330331,"body_markdown":"Spring Data JPA","body":"Spring Data JPA"},{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dum"},"score":0,"creation_date":1677448197,"post_id":75571945,"comment_id":133335049,"body_markdown":"And to clarify you are already running migration scripts using a tool like Flyway on the MySQL but you don&#39;t want the migration tool to run on Oracle?","body":"And to clarify you are already running migration scripts using a tool like Flyway on the MySQL but you don&#39;t want the migration tool to run on Oracle?"}],"answers":[{"tags":[],"owner":{"account_id":14990523,"reputation":46,"user_id":10821813,"display_name":"ayasin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677496213,"creation_date":1677496213,"answer_id":75579699,"question_id":75571945,"body_markdown":"The easiest solution would be creating a read-only user in the Oracle database, and in the application.properties file, you should replace the old database user information with the read-only user&#39;s information.","title":"How to configure second database (For only Select queries) in Spring Boot","body":"<p>The easiest solution would be creating a read-only user in the Oracle database, and in the application.properties file, you should replace the old database user information with the read-only user's information.</p>\n"}],"owner":{"account_id":25545673,"reputation":13,"user_id":19331035,"display_name":"ABHINAV.DEEP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75579699,"answer_count":1,"score":1,"last_activity_date":1677496213,"creation_date":1677414182,"question_id":75571945,"body_markdown":"I have a spring boot project with a MySql DB already configured along with the migration scripts.\r\n\r\nI have a new requirement where I have to configure an Oracle database(part of another application) to my application.\r\n\r\nI understand that we can configure multiple databases in spring boot project. But I need to configure Oracle DB such that the migration scripts writtrn for MySQL doesn&#39;t apply onto it as I have to perform only select queries on Oracle database.\r\n\r\nI am expecting to configure the Oracle database as a read only database without affecting the existing configuration for MySQL database.","title":"How to configure second database (For only Select queries) in Spring Boot","body":"<p>I have a spring boot project with a MySql DB already configured along with the migration scripts.</p>\n<p>I have a new requirement where I have to configure an Oracle database(part of another application) to my application.</p>\n<p>I understand that we can configure multiple databases in spring boot project. But I need to configure Oracle DB such that the migration scripts writtrn for MySQL doesn't apply onto it as I have to perform only select queries on Oracle database.</p>\n<p>I am expecting to configure the Oracle database as a read only database without affecting the existing configuration for MySQL database.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":1,"creation_date":1677499274,"post_id":75579585,"comment_id":133343207,"body_markdown":"Please don&#39;t post code images or bugs if possible, copy your code or code error into question with block code format: https://stackoverflow.com/help/how-to-ask","body":"Please don&#39;t post code images or bugs if possible, copy your code or code error into question with block code format: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":27545233,"reputation":1,"user_id":21021288,"display_name":"Nikhil Patil"},"score":0,"creation_date":1677560346,"post_id":75579585,"comment_id":133357414,"body_markdown":"sorry but i dint have error i dont know how implement this thats  why i am sharing my code","body":"sorry but i dint have error i dont know how implement this thats  why i am sharing my code"},{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1677564389,"post_id":75579585,"comment_id":133357858,"body_markdown":"Please do not post images of code, copy your code into the question with block code format:   https://stackoverflow.com/help/how-to-ask","body":"Please do not post images of code, copy your code into the question with block code format:   <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"owner":{"account_id":27545233,"reputation":1,"user_id":21021288,"display_name":"Nikhil Patil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677495545,"creation_date":1677495545,"question_id":75579585,"body_markdown":"[enter image description here](https://i.stack.imgur.com/YYbOI.png) find this","title":"how to apply filter, when i click the form in blankformList Activity only that form entries visible to user in InsctanceChooserList Activity","body":"<p><a href=\"https://i.stack.imgur.com/YYbOI.png\" rel=\"nofollow noreferrer\">enter image description here</a> find this</p>\n"},{"tags":["java","junit","swt"],"comments":[{"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"score":2,"creation_date":1323441736,"post_id":8447033,"comment_id":10440907,"body_markdown":"Can you show the code for createTestTree? Without seeing it, I would guess that you are not actually adding items to the tree.","body":"Can you show the code for createTestTree? Without seeing it, I would guess that you are not actually adding items to the tree."}],"answers":[{"tags":[],"owner":{"account_id":972917,"reputation":65,"user_id":995062,"display_name":"Julien D."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677495531,"creation_date":1351251593,"answer_id":13086244,"question_id":8447033,"body_markdown":"I suspect that, because your test is ran in UI thread, the viewer could not be refreshed. In this case a solution is to try to let the JVM refresh the view with calling the piece of code after each call of `refresh()` method in your code:\r\n\r\n        /**\r\n    \t * Execute pending UI tasks\r\n    \t */\r\n    \tpublic static void doPendingUIJobs() {\r\n    \t\ttry {\r\n    \t\t\tThread.yield();\r\n    \t\t\tIWorkbench wb = PlatformUI.getWorkbench();\r\n    \t\t\tif (wb != null) {\r\n    \t\t\t\tDisplay display = wb.getDisplay();\r\n    \t\t\t\tif (display != null) {\r\n    \t\t\t\t\tdo {\r\n    \t\t\t\t\t} while (display.readAndDispatch());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Throwable _) {\r\n    \t\t\tSystem.out.println(&quot;doPendingUIJobs error:&quot; + _);\r\n    \t\t\t_.printStackTrace();\r\n    \t\t}\r\n    \t}","title":"Java JUnit: Test selection of TreeViewer","body":"<p>I suspect that, because your test is ran in UI thread, the viewer could not be refreshed. In this case a solution is to try to let the JVM refresh the view with calling the piece of code after each call of <code>refresh()</code> method in your code:</p>\n<pre><code>    /**\n     * Execute pending UI tasks\n     */\n    public static void doPendingUIJobs() {\n        try {\n            Thread.yield();\n            IWorkbench wb = PlatformUI.getWorkbench();\n            if (wb != null) {\n                Display display = wb.getDisplay();\n                if (display != null) {\n                    do {\n                    } while (display.readAndDispatch());\n                }\n            }\n        } catch (Throwable _) {\n            System.out.println(&quot;doPendingUIJobs error:&quot; + _);\n            _.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":463978,"reputation":265,"user_id":867204,"accept_rate":39,"display_name":"user867204"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677495531,"creation_date":1323441423,"question_id":8447033,"body_markdown":"I wrote a method that returns the selections of a TreeViewer, which I created because I have to get the current selections quite often.\r\n\r\nI am trying to test this method with JUnit, but for some reason my manually created selections won&#39;t work. Apparently, the Tree in the TreeViewer is not created in the JUnit environment and thus cannot return any selections. \r\nThe debug shows me the following message when I call getItems()\r\n&quot;org.eclipse.debug.core.DebugException: com.sun.jdi.ClassNotLoadedException: Type has not been loaded occurred while retrieving component type of array.&quot;\r\n\r\nMaybe I am doing entirely wrong, but this is how I am doing it now:\r\n\r\n    TreeNode root = createTestTree();\r\n\t\tviewer.setContentProvider(new TreeNodeContentProvider());\r\n\t\tviewer.setInput(root); //&lt;-- is a tree with at least 9 nodes\r\n\t\tviewer.getTree().update(); //&lt;-- tried to update out of desperation, no effect\r\n\t\tviewer.refresh();\r\n\t\t\r\n\t\tTreeItem [] items = viewer.getTree().getItems(); //&lt;-- always empty, why\r\n\t\tviewer.getTree().setSelection(items[3]);\r\n\t\tviewer.refresh();\r\n\t\tviewer.getTree().update();\r\n\t\t\r\n\t\tsel = TreeUtil.getTreeSelections(viewer);\r\n\t\tassertEquals(1, sel.size());\r\n\r\n \r\nHow can I create a valid TreeViewer, select something in it for JUnit-Testing?","title":"Java JUnit: Test selection of TreeViewer","body":"<p>I wrote a method that returns the selections of a TreeViewer, which I created because I have to get the current selections quite often.</p>\n\n<p>I am trying to test this method with JUnit, but for some reason my manually created selections won't work. Apparently, the Tree in the TreeViewer is not created in the JUnit environment and thus cannot return any selections. \nThe debug shows me the following message when I call getItems()\n\"org.eclipse.debug.core.DebugException: com.sun.jdi.ClassNotLoadedException: Type has not been loaded occurred while retrieving component type of array.\"</p>\n\n<p>Maybe I am doing entirely wrong, but this is how I am doing it now:</p>\n\n<pre><code>TreeNode root = createTestTree();\n    viewer.setContentProvider(new TreeNodeContentProvider());\n    viewer.setInput(root); //&lt;-- is a tree with at least 9 nodes\n    viewer.getTree().update(); //&lt;-- tried to update out of desperation, no effect\n    viewer.refresh();\n\n    TreeItem [] items = viewer.getTree().getItems(); //&lt;-- always empty, why\n    viewer.getTree().setSelection(items[3]);\n    viewer.refresh();\n    viewer.getTree().update();\n\n    sel = TreeUtil.getTreeSelections(viewer);\n    assertEquals(1, sel.size());\n</code></pre>\n\n<p>How can I create a valid TreeViewer, select something in it for JUnit-Testing?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":4492549,"reputation":660,"user_id":3653304,"display_name":"Ralan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677495506,"creation_date":1677495506,"answer_id":75579579,"question_id":75565446,"body_markdown":"The password changes on save as your safe function always calls `encodePassword(user);`. you can prevent this in multiple ways.\r\n\r\n1) Give the edit function of user a seperate endpoint from create and make an update function in service that does not call you `encodePassword(user)` function.\r\n\r\n2) Don&#39;t use model entities in post and introduce a bean that holds all the modifiable fields of the user, than in the save function check if a new password is given and only than change the users password.\r\n\r\n```java\r\npublic void save(UserBean userBean)\r\n{\r\n    User user;\r\n    if(userBean.getId() == null)\r\n        user = new User();\r\n    else\r\n        user = userRepo.findById(userBean.getId()).orElseThrow(() -&gt; new IllegalStateException(&quot;no user with id&quot;));\r\n\r\n    if(userBean.getPassword() != null)\r\n    {\r\n        user.setPassword(userBean.getPassword());\r\n        encodePassword(user);\r\n    }\r\n\r\n    user.setName(userBean.getName());\r\n    // rest of you fields to edit/set\r\n    userRepo.save(user);\r\n}\r\n```\r\n","title":"Unable to update user Roles in Springboot","body":"<p>The password changes on save as your safe function always calls <code>encodePassword(user);</code>. you can prevent this in multiple ways.</p>\n<ol>\n<li><p>Give the edit function of user a seperate endpoint from create and make an update function in service that does not call you <code>encodePassword(user)</code> function.</p>\n</li>\n<li><p>Don't use model entities in post and introduce a bean that holds all the modifiable fields of the user, than in the save function check if a new password is given and only than change the users password.</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public void save(UserBean userBean)\n{\n    User user;\n    if(userBean.getId() == null)\n        user = new User();\n    else\n        user = userRepo.findById(userBean.getId()).orElseThrow(() -&gt; new IllegalStateException(&quot;no user with id&quot;));\n\n    if(userBean.getPassword() != null)\n    {\n        user.setPassword(userBean.getPassword());\n        encodePassword(user);\n    }\n\n    user.setName(userBean.getName());\n    // rest of you fields to edit/set\n    userRepo.save(user);\n}\n</code></pre>\n"}],"owner":{"account_id":27270290,"reputation":1,"user_id":20791708,"display_name":"Emmanuel Manolito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677495506,"creation_date":1677328306,"question_id":75565446,"body_markdown":"Whenever I try to update the user role, it update the password automatically. \r\n\r\nThis is the `service` class:\r\n\r\n    @Service\r\n    public class UserService {\r\n    \r\n    \t@Autowired(required=true)\r\n    \tprivate UserRepository userRepo;\r\n    \t\r\n    \t@Autowired RoleRepository roleRepo;\r\n    \t\r\n    \t@Autowired PasswordEncoder passwordEncoder;\r\n    \t\r\n    \tpublic void registerDefaultUser(User user) {\r\n    \t\tRole roleUser = roleRepo.findByName(&quot;User&quot;);\r\n    \t\tuser.addRole(roleUser);\r\n    \t\tencodePassword(user);\r\n    \t\tuserRepo.save(user);\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;User&gt; listAll() {\r\n    \t\treturn userRepo.findAll();\r\n    \t}\r\n    \r\n    \tpublic User get(Long id) {\r\n    \t\treturn userRepo.findById(id).get();\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;Role&gt; listRoles() {\r\n    \t\treturn roleRepo.findAll();\r\n    \t}\r\n    \t\r\n    \tpublic void save(User user) {\r\n    \t\tencodePassword(user);\t\t\r\n    \t\tuserRepo.save(user);\r\n    \t}\r\n    \r\n    }\r\n\r\nThis is the `controller`:\r\n\r\n\t@GetMapping(&quot;/users/edit/{id}&quot;)\r\n\tpublic String editUser(@PathVariable(&quot;id&quot;) Long id, Model model) {\r\n\t\tUser user = service.get(id);\r\n\t\tList&lt;Role&gt; listRoles = service.listRoles();\r\n\t\tmodel.addAttribute(&quot;user&quot;, user);\r\n\t\tmodel.addAttribute(&quot;listRoles&quot;, listRoles);\r\n\t\treturn &quot;user_form&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/users/save&quot;)\r\n\tpublic String saveUser(User user) {\r\n\t\tuser.getPassword();\t\r\n\t\tservice.save(user);\r\n\t\t\r\n\t\treturn &quot;redirect:/users&quot;;\r\n\t} \r\n\r\nI want to be ale to update the roles only, without changing the password the user has set.\r\n","title":"Unable to update user Roles in Springboot","body":"<p>Whenever I try to update the user role, it update the password automatically.</p>\n<p>This is the <code>service</code> class:</p>\n<pre><code>@Service\npublic class UserService {\n\n    @Autowired(required=true)\n    private UserRepository userRepo;\n    \n    @Autowired RoleRepository roleRepo;\n    \n    @Autowired PasswordEncoder passwordEncoder;\n    \n    public void registerDefaultUser(User user) {\n        Role roleUser = roleRepo.findByName(&quot;User&quot;);\n        user.addRole(roleUser);\n        encodePassword(user);\n        userRepo.save(user);\n    }\n    \n    public List&lt;User&gt; listAll() {\n        return userRepo.findAll();\n    }\n\n    public User get(Long id) {\n        return userRepo.findById(id).get();\n    }\n    \n    public List&lt;Role&gt; listRoles() {\n        return roleRepo.findAll();\n    }\n    \n    public void save(User user) {\n        encodePassword(user);       \n        userRepo.save(user);\n    }\n\n}\n</code></pre>\n<p>This is the <code>controller</code>:</p>\n<pre><code>@GetMapping(&quot;/users/edit/{id}&quot;)\npublic String editUser(@PathVariable(&quot;id&quot;) Long id, Model model) {\n    User user = service.get(id);\n    List&lt;Role&gt; listRoles = service.listRoles();\n    model.addAttribute(&quot;user&quot;, user);\n    model.addAttribute(&quot;listRoles&quot;, listRoles);\n    return &quot;user_form&quot;;\n}\n\n@PostMapping(&quot;/users/save&quot;)\npublic String saveUser(User user) {\n    user.getPassword(); \n    service.save(user);\n    \n    return &quot;redirect:/users&quot;;\n} \n</code></pre>\n<p>I want to be ale to update the roles only, without changing the password the user has set.</p>\n"},{"tags":["javascript","java","security","xss"],"owner":{"account_id":27887457,"reputation":1,"user_id":21294565,"display_name":"VY 767"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677495296,"creation_date":1677474129,"question_id":75576904,"body_markdown":".header(HttpHeaders.CONTENT_TYPE, Files.probeContentType(path))\r\n\r\nThe particular peace of code showing Stored XSS vulnerability, anyone please elaborate it out whether it is a TP OR FP..\r\n\r\nHelp me on this.","title":"Issue :- Stored XSS Vulnerability","body":"<p>.header(HttpHeaders.CONTENT_TYPE, Files.probeContentType(path))</p>\n<p>The particular peace of code showing Stored XSS vulnerability, anyone please elaborate it out whether it is a TP OR FP..</p>\n<p>Help me on this.</p>\n"},{"tags":["java","sequence","extends","extend"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1677494385,"post_id":75579390,"comment_id":133341969,"body_markdown":"Hint: if a constructor doesn&#39;t explicitly delegate to another through `this(...)` or `super(...)`, it&#39;s equivalent to having `super()`. So imagine the parameterless constructor for `C` starts `super();` - would that clear up your confusion?","body":"Hint: if a constructor doesn&#39;t explicitly delegate to another through <code>this(...)</code> or <code>super(...)</code>, it&#39;s equivalent to having <code>super()</code>. So imagine the parameterless constructor for <code>C</code> starts <code>super();</code> - would that clear up your confusion?"},{"owner":{"account_id":26232307,"reputation":23,"user_id":19908013,"display_name":"dog bytes"},"score":0,"creation_date":1677494514,"post_id":75579390,"comment_id":133342002,"body_markdown":"oh yeah, i forgot that super() is invoked even if not explicitly, thank you!","body":"oh yeah, i forgot that super() is invoked even if not explicitly, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677495190,"creation_date":1677495190,"answer_id":75579516,"question_id":75579390,"body_markdown":"Inheriting classes call `super()` implicitely at the beginning of the constructor.\r\n\r\nThus, the execution is as follows:\r\n\r\n`C()` --&gt; `B()` --&gt; `A()` --&gt; `A(5)` --&gt; `print(&#39;a2&#39;)` --&gt; `print(&#39;a1&#39;)` --&gt; `B(false)` --&gt; `B(2)` --&gt; `print(&#39;b2&#39;)` --&gt; `print(&#39;b3&#39;)` --&gt; `print(&#39;b1&#39;)` --&gt; `print(&#39;c1&#39;)` (this finishes the very first call to `C()`)\r\n\r\n`C(1.0)` --&gt; does the exact same trajectory for a2, a1, b2, b3, b1, c1, and then finally `print(&#39;c2&#39;)` to finish the function.","title":"Questioning the order in which the code is executed","body":"<p>Inheriting classes call <code>super()</code> implicitely at the beginning of the constructor.</p>\n<p>Thus, the execution is as follows:</p>\n<p><code>C()</code> --&gt; <code>B()</code> --&gt; <code>A()</code> --&gt; <code>A(5)</code> --&gt; <code>print('a2')</code> --&gt; <code>print('a1')</code> --&gt; <code>B(false)</code> --&gt; <code>B(2)</code> --&gt; <code>print('b2')</code> --&gt; <code>print('b3')</code> --&gt; <code>print('b1')</code> --&gt; <code>print('c1')</code> (this finishes the very first call to <code>C()</code>)</p>\n<p><code>C(1.0)</code> --&gt; does the exact same trajectory for a2, a1, b2, b3, b1, c1, and then finally <code>print('c2')</code> to finish the function.</p>\n"}],"owner":{"account_id":26232307,"reputation":23,"user_id":19908013,"display_name":"dog bytes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677496116,"accepted_answer_id":75579516,"answer_count":1,"score":-1,"last_activity_date":1677495190,"creation_date":1677494308,"question_id":75579390,"body_markdown":"So I stumbled across this piece of code (https://stackoverflow.com/questions/25340310/java-constructor-does-not-explicitly-invoke-a-superclass-constructor-java-doe)...\r\n\r\n\r\n```\r\npublic class App {\r\n    public static void main(String[] args){\r\n        new C();\r\n        new C(1.0);\r\n    }\r\n}\r\n\r\nclass A {\r\n    public A(){\r\n        this(5);\r\n        System.out.println(&quot;a1&quot;);\r\n    }\r\n\r\n    public A(int x){\r\n        System.out.println(&quot;a2&quot;);\r\n    }\r\n}\r\n\r\nclass B extends A {\r\n    public B(){\r\n        this(false);\r\n        System.out.println(&quot;b1&quot;);\r\n    }\r\n\r\n    public B(int x){\r\n        super();\r\n        System.out.println(&quot;b2&quot;);\r\n    }\r\n\r\n    public B(boolean b){\r\n        this(2);\r\n        System.out.println(&quot;b3&quot;);\r\n    }\r\n}\r\n\r\nclass C extends B {\r\n    public C(){\r\n        System.out.println(&quot;c1&quot;);\r\n    }\r\n\r\n    public C(double x){\r\n        this();\r\n        System.out.println(&quot;c2&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd the output that I got is a2 a1 b2 b3 b1 c1 a2 a1 b2 b3 b1 c1 c2\r\n\r\n\r\n\r\nI was expecting it to be c1 c2 only but I just cannot wrap my head around the sequence in which the code is executed.\r\n\r\nI would love a detailed explanation, just to make sure I understand things clearly enough. Thank you!","title":"Questioning the order in which the code is executed","body":"<p>So I stumbled across this piece of code (<a href=\"https://stackoverflow.com/questions/25340310/java-constructor-does-not-explicitly-invoke-a-superclass-constructor-java-doe\">Java - Constructor does not explicitly invoke a superclass constructor, Java does not insert one either</a>)...</p>\n<pre><code>public class App {\n    public static void main(String[] args){\n        new C();\n        new C(1.0);\n    }\n}\n\nclass A {\n    public A(){\n        this(5);\n        System.out.println(&quot;a1&quot;);\n    }\n\n    public A(int x){\n        System.out.println(&quot;a2&quot;);\n    }\n}\n\nclass B extends A {\n    public B(){\n        this(false);\n        System.out.println(&quot;b1&quot;);\n    }\n\n    public B(int x){\n        super();\n        System.out.println(&quot;b2&quot;);\n    }\n\n    public B(boolean b){\n        this(2);\n        System.out.println(&quot;b3&quot;);\n    }\n}\n\nclass C extends B {\n    public C(){\n        System.out.println(&quot;c1&quot;);\n    }\n\n    public C(double x){\n        this();\n        System.out.println(&quot;c2&quot;);\n    }\n}\n</code></pre>\n<p>And the output that I got is a2 a1 b2 b3 b1 c1 a2 a1 b2 b3 b1 c1 c2</p>\n<p>I was expecting it to be c1 c2 only but I just cannot wrap my head around the sequence in which the code is executed.</p>\n<p>I would love a detailed explanation, just to make sure I understand things clearly enough. Thank you!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9377,"page":615,"page_size":100}
